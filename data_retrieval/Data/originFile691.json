{"items":[{"tags":["java","spring-webflow"],"answers":[{"tags":[],"owner":{"account_id":293944,"reputation":3662,"user_id":597548,"display_name":"rptmat57"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1498617207,"creation_date":1498617207,"answer_id":44792734,"question_id":44786543,"body_markdown":"split your conditions and decision state like this:\r\n\r\n    &lt;decision-state id=&quot;condition1&quot;&gt;\r\n        &lt;if test=&quot;flowScope.conditionCheck3&quot; then=&quot;action3&quot; else=&quot;condition1or2&quot;/&gt;\r\n    &lt;/decision-state&gt;\r\n    &lt;decision-state id=&quot;condition1or2&quot;&gt;\r\n        &lt;if test=&quot;flowScope.conditionCheck1 || flowScope.conditionCheck1&quot; then=&quot;action1&quot; else=&quot;action2&quot;/&gt;\r\n    &lt;/decision-state&gt;","title":"Setting multiple if else condition decision-state id in Spring Webflow","body":"<p>split your conditions and decision state like this:</p>\n\n<pre><code>&lt;decision-state id=\"condition1\"&gt;\n    &lt;if test=\"flowScope.conditionCheck3\" then=\"action3\" else=\"condition1or2\"/&gt;\n&lt;/decision-state&gt;\n&lt;decision-state id=\"condition1or2\"&gt;\n    &lt;if test=\"flowScope.conditionCheck1 || flowScope.conditionCheck1\" then=\"action1\" else=\"action2\"/&gt;\n&lt;/decision-state&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5301557,"reputation":386,"user_id":4230977,"accept_rate":94,"display_name":"MR AND"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1498655731,"creation_date":1498654509,"answer_id":44803120,"question_id":44786543,"body_markdown":"To write if else condition i wrote multiple if conditions inside &quot;decision-state-id&quot; and else condition was written in the last if condition and it worked fine for me.\r\n\r\n   \r\n\r\n    &lt;decision-state id=&quot;condition1&quot;&gt;\r\n        &lt;if test=&quot;flowScope.conditionCheck1 || flowScope.conditionCheck2&quot; then=&quot;action1&quot;/&gt;\r\n        &lt;if test=&quot;flowScope.conditionCheck3 then=&quot;action3&quot; else=&quot;action2&quot;/&gt;\r\n    &lt;/decision-state&gt;","title":"Setting multiple if else condition decision-state id in Spring Webflow","body":"<p>To write if else condition i wrote multiple if conditions inside \"decision-state-id\" and else condition was written in the last if condition and it worked fine for me.</p>\n\n<pre><code>&lt;decision-state id=\"condition1\"&gt;\n    &lt;if test=\"flowScope.conditionCheck1 || flowScope.conditionCheck2\" then=\"action1\"/&gt;\n    &lt;if test=\"flowScope.conditionCheck3 then=\"action3\" else=\"action2\"/&gt;\n&lt;/decision-state&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17814511,"reputation":87,"user_id":12938381,"display_name":"rosa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675061262,"creation_date":1675061262,"answer_id":75280999,"question_id":44786543,"body_markdown":"conditions are checked by order.\r\nthese worked for me.\r\n\r\n      &lt;decision-state id=&quot;&quot;&gt;\r\n            &lt;if test=&quot;x == &#39;a&#39; then=&quot;r1&quot; /&gt;\r\n            &lt;if test=&quot;x == &#39;b&#39; then=&quot;r2&quot; else=&quot;r3&quot; /&gt;\r\n        &lt;/decision-state&gt;","title":"Setting multiple if else condition decision-state id in Spring Webflow","body":"<p>conditions are checked by order.\nthese worked for me.</p>\n<pre><code>  &lt;decision-state id=&quot;&quot;&gt;\n        &lt;if test=&quot;x == 'a' then=&quot;r1&quot; /&gt;\n        &lt;if test=&quot;x == 'b' then=&quot;r2&quot; else=&quot;r3&quot; /&gt;\n    &lt;/decision-state&gt;\n</code></pre>\n"}],"owner":{"account_id":5301557,"reputation":386,"user_id":4230977,"accept_rate":94,"display_name":"MR AND"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2698,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":44803120,"answer_count":3,"score":0,"last_activity_date":1675061262,"creation_date":1498584952,"question_id":44786543,"body_markdown":"I am working on existing Spring Webflow application. I set a variable in a sub flow and I want to use decision state to determine the action class. The application already has decision state id specified\r\n\r\n    &lt;decision-state id=&quot;condition1&quot;&gt;\r\n    \t\t&lt;if test=&quot;flowScope.conditionCheck1 || flowScope.conditionCheck2&quot; then=&quot;action1&quot; else=&quot;action2&quot;/&gt;\r\n    &lt;/decision-state&gt;\r\n\r\nNow I want to test if condition3 holds true and in case it is true I want to execute action3. Does any one has any idea how can I do this?\r\n","title":"Setting multiple if else condition decision-state id in Spring Webflow","body":"<p>I am working on existing Spring Webflow application. I set a variable in a sub flow and I want to use decision state to determine the action class. The application already has decision state id specified</p>\n\n<pre><code>&lt;decision-state id=\"condition1\"&gt;\n        &lt;if test=\"flowScope.conditionCheck1 || flowScope.conditionCheck2\" then=\"action1\" else=\"action2\"/&gt;\n&lt;/decision-state&gt;\n</code></pre>\n\n<p>Now I want to test if condition3 holds true and in case it is true I want to execute action3. Does any one has any idea how can I do this?</p>\n"},{"tags":["java","android","build.gradle","android-bluetooth"],"answers":[{"tags":[],"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675060736,"creation_date":1674994620,"answer_id":75274802,"question_id":75270716,"body_markdown":"There is no version 2.16.3 of `org.altbeacon:android-beacon-library` in Maven central repository:\r\n\r\nhttps://mvnrepository.com/artifact/org.altbeacon/android-beacon-library\r\n\r\nUnless you have configured an additional repository where this library is present, Android Studio can simply not resolve this library and thus the import statements for this library show an error.\r\n\r\nNote that JCenter repository does no longer exists. The version you want to use was once published there but as the repository no longer exists you can not use it anymore from there. \r\n\r\nChange your gradle config to use a version that exists on Maven central.","title":"Third Party SDK won&#39;t read imports, even when the dependency is in the Build Gradle","body":"<p>There is no version 2.16.3 of <code>org.altbeacon:android-beacon-library</code> in Maven central repository:</p>\n<p><a href=\"https://mvnrepository.com/artifact/org.altbeacon/android-beacon-library\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.altbeacon/android-beacon-library</a></p>\n<p>Unless you have configured an additional repository where this library is present, Android Studio can simply not resolve this library and thus the import statements for this library show an error.</p>\n<p>Note that JCenter repository does no longer exists. The version you want to use was once published there but as the repository no longer exists you can not use it anymore from there.</p>\n<p>Change your gradle config to use a version that exists on Maven central.</p>\n"}],"owner":{"account_id":19471482,"reputation":351,"user_id":14243745,"display_name":"OEThe11"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75274802,"answer_count":1,"score":0,"last_activity_date":1675060736,"creation_date":1674938243,"question_id":75270716,"body_markdown":"I had imported a Third party SDK from another project. I had set it up and it wouldn&#39;t read a certain Dependency, even when I had put the dependency in the build gradle. \r\n\r\nHere&#39;s the SDK\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JfKou.jpg\r\n\r\n\r\nAnd in the build.gradle\r\n\r\n \r\n\r\n       // dependency needed to use SDK\r\n        implementation &quot;org.altbeacon:android-beacon-library:2.16.3&quot; &lt;- That&#39;s the dependency\r\n        implementation project(&#39;:parabit_beacon_sdk&#39;)\r\n        implementation &#39;org.jetbrains:annotations:20.1.0&#39;\r\n        implementation &quot;com.google.android.gms:play-services-location:21.0.1&quot;\r\n\r\nI&#39;ve tried a few things already, but nothing seems to be working. Any help is appreciated. Thanks","title":"Third Party SDK won&#39;t read imports, even when the dependency is in the Build Gradle","body":"<p>I had imported a Third party SDK from another project. I had set it up and it wouldn't read a certain Dependency, even when I had put the dependency in the build gradle.</p>\n<p>Here's the SDK\n<a href=\"https://i.stack.imgur.com/JfKou.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JfKou.jpg\" alt=\"enter image description here\" /></a></p>\n<p>And in the build.gradle</p>\n<pre><code>   // dependency needed to use SDK\n    implementation &quot;org.altbeacon:android-beacon-library:2.16.3&quot; &lt;- That's the dependency\n    implementation project(':parabit_beacon_sdk')\n    implementation 'org.jetbrains:annotations:20.1.0'\n    implementation &quot;com.google.android.gms:play-services-location:21.0.1&quot;\n</code></pre>\n<p>I've tried a few things already, but nothing seems to be working. Any help is appreciated. Thanks</p>\n"},{"tags":["java","google-bigquery","firewall"],"owner":{"account_id":27654200,"reputation":1,"user_id":21108459,"display_name":"jenrozgr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675060598,"creation_date":1675060598,"question_id":75280938,"body_markdown":"I am trying to query a table using the BigQuery client libraries. However, I am receiving a &quot;Connection refused&quot; error on &quot;TableResult results = token.query(queryConfig);&quot; \r\n\r\nFirewall access to URLs https://bigquery.googleapis.com &amp; https://oauth2.googleapis.com on port 443 has already been provided. \r\n\r\nIs anyone aware on the IP ranges that need to be added to the local firewall for the connectivity to work? I believe this is an error of not extensively listing all BigQuery IPs.\r\n\r\nThank you in advance.","title":"IP range to connect to BigQuery","body":"<p>I am trying to query a table using the BigQuery client libraries. However, I am receiving a &quot;Connection refused&quot; error on &quot;TableResult results = token.query(queryConfig);&quot;</p>\n<p>Firewall access to URLs <a href=\"https://bigquery.googleapis.com\" rel=\"nofollow noreferrer\">https://bigquery.googleapis.com</a> &amp; <a href=\"https://oauth2.googleapis.com\" rel=\"nofollow noreferrer\">https://oauth2.googleapis.com</a> on port 443 has already been provided.</p>\n<p>Is anyone aware on the IP ranges that need to be added to the local firewall for the connectivity to work? I believe this is an error of not extensively listing all BigQuery IPs.</p>\n<p>Thank you in advance.</p>\n"},{"tags":["java","microsoft-information-protection","azure-information-protection","mip-sdk"],"owner":{"account_id":27653798,"reputation":21,"user_id":21108135,"display_name":"Minato Ng"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1675060283,"creation_date":1675060106,"question_id":75280876,"body_markdown":"I&#39;m trying out [this sample application](https://github.com/Azure-Samples/MipSDK-File-Java-Basic) in a Ubuntu 20.04 VM to decrypt an AIP protected office file using MIP SDK. For the application&#39;s dependency, I&#39;m using MIP SDK Java Wrapper version 1.12.101 as that seems to be the only version available on [Microsoft website](https://www.microsoft.com/en-us/download/details.aspx?id=104794).\r\n\r\nI was able to get it to decrypt some protected files successfully. However, the application can randomly crash with core dump. The crash does not seem to occur with a predictable frequency. Sometimes it happens right after I start the application, sometimes it crashes after having been able to decrypt a hundred protected files or so.\r\n\r\n```\r\n#\r\n# A fatal error has been detected by the Java Runtime Environment:\r\n#\r\n#  SIGSEGV (0xb) at pc=0x00007fefe2b6fd46, pid=2721553, tid=2721672\r\n#\r\n# JRE version: OpenJDK Runtime Environment (15.0.2+7) (build 15.0.2+7-27)\r\n# Java VM: OpenJDK 64-Bit Server VM (15.0.2+7-27, mixed mode, sharing, tiered, compressed oops, g1 gc, linux-amd64)\r\n# Problematic frame:\r\n# C  [libpthread.so.0+0xdd46]  pthread_rwlock_wrlock+0x16\r\n#\r\n# Core dump will be written. Default location: Core dumps may be processed with &quot;/usr/share/apport/apport -p%p -s%s -c%c -d%d -P%P -u%u -g%g -- %E&quot; (or dumping to /home/user/RMS_WORK/MIP/mip-sdk-nl-latest/mip-nl-sdk-test/core.2721553)\r\n#\r\n# If you would like to submit a bug report, please visit:\r\n#   https://bugreport.java.com/bugreport/crash.jsp\r\n#\r\n```\r\n\r\nI am not sure what the error seems to be referring to. Any advice on how to proceed would be appreciated.\r\n\r\n\r\nOn a side note, I have tried to created a small test application from the sample application above and run it in a RHEL 8 docker image. The crash also randomly occurs, but the error message is slightly different.\r\n\r\n```\r\n#\r\n# A fatal error has been detected by the Java Runtime Environment:\r\n#\r\n#  SIGSEGV (0xb) at pc=0x00007f1cd5b74c00, pid=59, tid=33672\r\n#\r\n# JRE version: OpenJDK Runtime Environment (Red_Hat-17.0.6.0.10-3.el8_7) (17.0.6+10) (build 17.0.6+10-LTS)\r\n# Java VM: OpenJDK 64-Bit Server VM (Red_Hat-17.0.6.0.10-3.el8_7) (17.0.6+10-LTS, mixed mode, sharing, tiered, compressed oops, compressed class ptrs, g1 gc, linux-amd64)\r\n# Problematic frame:\r\n# C  [libmip_file_sdk.so+0x7f1c00]  CPDF_Object::GetType() const+0xc\r\n#\r\n# Core dump will be written. Default location: Core dumps may be processed with &quot;/usr/share/apport/apport -p%p -s%s -c%c -d%d -P%P -u%u -g%g -- %E&quot; (or dumping to /home/jboss/core.59)\r\n#\r\n# If you would like to submit a bug report, please visit:\r\n#   https://bugzilla.redhat.com/enter_bug.cgi?product=Red%20Hat%20Enterprise%20Linux%208&amp;component=java-17-openjdk\r\n#\r\n```\r\n\r\nI recognize this libmip_file_sdk.so as part of the .so library files in the mip_sdk_file_rhel8_1.12.101.tar.gz I downloaded from MIP SDK Microsoft website. Does that mean the crash is caused by the MIP SDK itself?","title":"MIP SDK Java Wrapper Sample Crashed With Core Dump","body":"<p>I'm trying out <a href=\"https://github.com/Azure-Samples/MipSDK-File-Java-Basic\" rel=\"nofollow noreferrer\">this sample application</a> in a Ubuntu 20.04 VM to decrypt an AIP protected office file using MIP SDK. For the application's dependency, I'm using MIP SDK Java Wrapper version 1.12.101 as that seems to be the only version available on <a href=\"https://www.microsoft.com/en-us/download/details.aspx?id=104794\" rel=\"nofollow noreferrer\">Microsoft website</a>.</p>\n<p>I was able to get it to decrypt some protected files successfully. However, the application can randomly crash with core dump. The crash does not seem to occur with a predictable frequency. Sometimes it happens right after I start the application, sometimes it crashes after having been able to decrypt a hundred protected files or so.</p>\n<pre><code>#\n# A fatal error has been detected by the Java Runtime Environment:\n#\n#  SIGSEGV (0xb) at pc=0x00007fefe2b6fd46, pid=2721553, tid=2721672\n#\n# JRE version: OpenJDK Runtime Environment (15.0.2+7) (build 15.0.2+7-27)\n# Java VM: OpenJDK 64-Bit Server VM (15.0.2+7-27, mixed mode, sharing, tiered, compressed oops, g1 gc, linux-amd64)\n# Problematic frame:\n# C  [libpthread.so.0+0xdd46]  pthread_rwlock_wrlock+0x16\n#\n# Core dump will be written. Default location: Core dumps may be processed with &quot;/usr/share/apport/apport -p%p -s%s -c%c -d%d -P%P -u%u -g%g -- %E&quot; (or dumping to /home/user/RMS_WORK/MIP/mip-sdk-nl-latest/mip-nl-sdk-test/core.2721553)\n#\n# If you would like to submit a bug report, please visit:\n#   https://bugreport.java.com/bugreport/crash.jsp\n#\n</code></pre>\n<p>I am not sure what the error seems to be referring to. Any advice on how to proceed would be appreciated.</p>\n<p>On a side note, I have tried to created a small test application from the sample application above and run it in a RHEL 8 docker image. The crash also randomly occurs, but the error message is slightly different.</p>\n<pre><code>#\n# A fatal error has been detected by the Java Runtime Environment:\n#\n#  SIGSEGV (0xb) at pc=0x00007f1cd5b74c00, pid=59, tid=33672\n#\n# JRE version: OpenJDK Runtime Environment (Red_Hat-17.0.6.0.10-3.el8_7) (17.0.6+10) (build 17.0.6+10-LTS)\n# Java VM: OpenJDK 64-Bit Server VM (Red_Hat-17.0.6.0.10-3.el8_7) (17.0.6+10-LTS, mixed mode, sharing, tiered, compressed oops, compressed class ptrs, g1 gc, linux-amd64)\n# Problematic frame:\n# C  [libmip_file_sdk.so+0x7f1c00]  CPDF_Object::GetType() const+0xc\n#\n# Core dump will be written. Default location: Core dumps may be processed with &quot;/usr/share/apport/apport -p%p -s%s -c%c -d%d -P%P -u%u -g%g -- %E&quot; (or dumping to /home/jboss/core.59)\n#\n# If you would like to submit a bug report, please visit:\n#   https://bugzilla.redhat.com/enter_bug.cgi?product=Red%20Hat%20Enterprise%20Linux%208&amp;component=java-17-openjdk\n#\n</code></pre>\n<p>I recognize this libmip_file_sdk.so as part of the .so library files in the mip_sdk_file_rhel8_1.12.101.tar.gz I downloaded from MIP SDK Microsoft website. Does that mean the crash is caused by the MIP SDK itself?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":127604,"reputation":2939,"user_id":324888,"accept_rate":93,"display_name":"Inv3r53"},"score":0,"creation_date":1274266791,"post_id":2864840,"comment_id":55761232,"body_markdown":"perhaps this will help you\nhttp://stackoverflow.com/questions/109383/how-to-sort-a-mapkey-value-on-the-values-in-java","body":"perhaps this will help you <a href=\"http://stackoverflow.com/questions/109383/how-to-sort-a-mapkey-value-on-the-values-in-java\" title=\"how to sort a mapkey value on the values in java\">stackoverflow.com/questions/109383/&hellip;</a>"},{"owner":{"account_id":1121136,"reputation":24750,"user_id":1109425,"accept_rate":100,"display_name":"nandeesh"},"score":0,"creation_date":1345304467,"post_id":2864840,"comment_id":16038704,"body_markdown":"possible duplicate of [How to sort a treemap based on its values?](http://stackoverflow.com/questions/1448369/how-to-sort-a-treemap-based-on-its-values)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/1448369/how-to-sort-a-treemap-based-on-its-values\">How to sort a treemap based on its values?</a>"},{"owner":{"account_id":927017,"reputation":2097,"user_id":957595,"accept_rate":75,"display_name":"Paul Jackson"},"score":0,"creation_date":1454099072,"post_id":2864840,"comment_id":57908556,"body_markdown":"See also: http://stackoverflow.com/questions/30425836/java-8-stream-map-to-list-of-keys-sorted-by-values","body":"See also: <a href=\"http://stackoverflow.com/questions/30425836/java-8-stream-map-to-list-of-keys-sorted-by-values\" title=\"java 8 stream map to list of keys sorted by values\">stackoverflow.com/questions/30425836/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1274266693,"creation_date":1274266693,"answer_id":2864847,"question_id":2864840,"body_markdown":"This can&#39;t be done by using a `Comparator`, as it will always get the *key* of the map to compare. `TreeMap` can only sort by the key.","title":"TreeMap sort by value","body":"<p>This can't be done by using a <code>Comparator</code>, as it will always get the <em>key</em> of the map to compare. <code>TreeMap</code> can only sort by the key.</p>\n"},{"tags":[],"owner":{"account_id":9193,"reputation":343113,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"down_vote_count":1,"up_vote_count":23,"is_accepted":false,"score":22,"last_activity_date":1274266849,"creation_date":1274266849,"answer_id":2864866,"question_id":2864840,"body_markdown":"A `TreeMap` is *always* sorted by the keys, anything else is impossible. A `Comparator` merely allows you to control  *how* the keys are sorted.\r\n\r\nIf you want the sorted values, you have to extract them into a `List` and sort that.","title":"TreeMap sort by value","body":"<p>A <code>TreeMap</code> is <em>always</em> sorted by the keys, anything else is impossible. A <code>Comparator</code> merely allows you to control  <em>how</em> the keys are sorted.</p>\n\n<p>If you want the sorted values, you have to extract them into a <code>List</code> and sort that.</p>\n"},{"tags":[],"owner":{"account_id":102991,"reputation":378282,"user_id":276101,"accept_rate":67,"display_name":"polygenelubricants"},"down_vote_count":4,"up_vote_count":206,"is_accepted":true,"score":202,"last_activity_date":1412931324,"creation_date":1274267425,"answer_id":2864923,"question_id":2864840,"body_markdown":"You can&#39;t have the `TreeMap` itself sort on the values, since that defies the [`SortedMap`](http://java.sun.com/javase/6/docs/api/java/util/SortedMap.html) specification:\r\n\r\n&gt; A `Map` that further provides a _total ordering_ on its **keys**. \r\n\r\nHowever, using an external collection, you can always sort [`Map.entrySet()`](http://java.sun.com/javase/6/docs/api/java/util/Map.html#entrySet%28%29) however you wish, either by keys, values, or even a combination(!!) of the two.\r\n\r\nHere&#39;s a generic method that returns a `SortedSet` of `Map.Entry`, given a `Map` whose values are `Comparable`:\r\n\r\n\tstatic &lt;K,V extends Comparable&lt;? super V&gt;&gt;\r\n\tSortedSet&lt;Map.Entry&lt;K,V&gt;&gt; entriesSortedByValues(Map&lt;K,V&gt; map) {\r\n\t\tSortedSet&lt;Map.Entry&lt;K,V&gt;&gt; sortedEntries = new TreeSet&lt;Map.Entry&lt;K,V&gt;&gt;(\r\n\t\t\tnew Comparator&lt;Map.Entry&lt;K,V&gt;&gt;() {\r\n\t\t\t\t@Override public int compare(Map.Entry&lt;K,V&gt; e1, Map.Entry&lt;K,V&gt; e2) {\r\n                    int res = e1.getValue().compareTo(e2.getValue());\r\n                    return res != 0 ? res : 1;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t);\r\n\t\tsortedEntries.addAll(map.entrySet());\r\n\t\treturn sortedEntries;\r\n\t}\r\n\r\nNow you can do the following:\r\n\r\n        Map&lt;String,Integer&gt; map = new TreeMap&lt;String,Integer&gt;();\r\n        map.put(&quot;A&quot;, 3);\r\n        map.put(&quot;B&quot;, 2);\r\n        map.put(&quot;C&quot;, 1);   \r\n\r\n        System.out.println(map);\r\n        // prints &quot;{A=3, B=2, C=1}&quot;\r\n        System.out.println(entriesSortedByValues(map));\r\n        // prints &quot;[C=1, B=2, A=3]&quot;\r\n\r\nNote that funky stuff will happen if you try to modify either the `SortedSet` itself, or the `Map.Entry` within, because this is no longer a &quot;view&quot; of the original map like `entrySet()` is.\r\n\r\nGenerally speaking, the need to sort a map&#39;s entries by its values is atypical.\r\n\r\n---\r\n\r\n### Note on `==` for `Integer`\r\n\r\nYour original comparator compares `Integer` using `==`. This is almost always wrong, since `==` with `Integer` operands is a reference equality, not value equality.\r\n\r\n        System.out.println(new Integer(0) == new Integer(0)); // prints &quot;false&quot;!!!\r\n\r\n### Related questions\r\n\r\n* [When comparing two Integers in Java does auto-unboxing occur?](https://stackoverflow.com/questions/1514910/when-comparing-two-integers-in-java-does-auto-unboxing-occur) (NO!!!)\r\n* [Is it guaranteed that `new Integer(i) == i` in Java?](https://stackoverflow.com/questions/2831945/is-it-guaranteed-that-new-integeri-i-in-java) (YES!!!)","title":"TreeMap sort by value","body":"<p>You can't have the <code>TreeMap</code> itself sort on the values, since that defies the <a href=\"http://java.sun.com/javase/6/docs/api/java/util/SortedMap.html\" rel=\"noreferrer\"><code>SortedMap</code></a> specification:</p>\n\n<blockquote>\n  <p>A <code>Map</code> that further provides a <em>total ordering</em> on its <strong>keys</strong>. </p>\n</blockquote>\n\n<p>However, using an external collection, you can always sort <a href=\"http://java.sun.com/javase/6/docs/api/java/util/Map.html#entrySet%28%29\" rel=\"noreferrer\"><code>Map.entrySet()</code></a> however you wish, either by keys, values, or even a combination(!!) of the two.</p>\n\n<p>Here's a generic method that returns a <code>SortedSet</code> of <code>Map.Entry</code>, given a <code>Map</code> whose values are <code>Comparable</code>:</p>\n\n<pre><code>static &lt;K,V extends Comparable&lt;? super V&gt;&gt;\nSortedSet&lt;Map.Entry&lt;K,V&gt;&gt; entriesSortedByValues(Map&lt;K,V&gt; map) {\n    SortedSet&lt;Map.Entry&lt;K,V&gt;&gt; sortedEntries = new TreeSet&lt;Map.Entry&lt;K,V&gt;&gt;(\n        new Comparator&lt;Map.Entry&lt;K,V&gt;&gt;() {\n            @Override public int compare(Map.Entry&lt;K,V&gt; e1, Map.Entry&lt;K,V&gt; e2) {\n                int res = e1.getValue().compareTo(e2.getValue());\n                return res != 0 ? res : 1;\n            }\n        }\n    );\n    sortedEntries.addAll(map.entrySet());\n    return sortedEntries;\n}\n</code></pre>\n\n<p>Now you can do the following:</p>\n\n<pre><code>    Map&lt;String,Integer&gt; map = new TreeMap&lt;String,Integer&gt;();\n    map.put(\"A\", 3);\n    map.put(\"B\", 2);\n    map.put(\"C\", 1);   \n\n    System.out.println(map);\n    // prints \"{A=3, B=2, C=1}\"\n    System.out.println(entriesSortedByValues(map));\n    // prints \"[C=1, B=2, A=3]\"\n</code></pre>\n\n<p>Note that funky stuff will happen if you try to modify either the <code>SortedSet</code> itself, or the <code>Map.Entry</code> within, because this is no longer a \"view\" of the original map like <code>entrySet()</code> is.</p>\n\n<p>Generally speaking, the need to sort a map's entries by its values is atypical.</p>\n\n<hr>\n\n<h3>Note on <code>==</code> for <code>Integer</code></h3>\n\n<p>Your original comparator compares <code>Integer</code> using <code>==</code>. This is almost always wrong, since <code>==</code> with <code>Integer</code> operands is a reference equality, not value equality.</p>\n\n<pre><code>    System.out.println(new Integer(0) == new Integer(0)); // prints \"false\"!!!\n</code></pre>\n\n<h3>Related questions</h3>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/1514910/when-comparing-two-integers-in-java-does-auto-unboxing-occur\">When comparing two Integers in Java does auto-unboxing occur?</a> (NO!!!)</li>\n<li><a href=\"https://stackoverflow.com/questions/2831945/is-it-guaranteed-that-new-integeri-i-in-java\">Is it guaranteed that <code>new Integer(i) == i</code> in Java?</a> (YES!!!)</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":237447,"reputation":901,"user_id":505627,"display_name":"Olof Larsson"},"down_vote_count":1,"up_vote_count":79,"is_accepted":false,"score":78,"last_activity_date":1295128261,"creation_date":1295128261,"answer_id":4702335,"question_id":2864840,"body_markdown":"polygenelubricants answer is ***almost*** perfect. It has one important bug though. It will not handle map entries where the values are the same.\r\n\r\nThis code:...\r\n\r\n    Map&lt;String, Integer&gt; nonSortedMap = new HashMap&lt;String, Integer&gt;();\r\n    nonSortedMap.put(&quot;ape&quot;, 1);\r\n    nonSortedMap.put(&quot;pig&quot;, 3);\r\n    nonSortedMap.put(&quot;cow&quot;, 1);\r\n    nonSortedMap.put(&quot;frog&quot;, 2);\r\n    \r\n    for (Entry&lt;String, Integer&gt; entry  : entriesSortedByValues(nonSortedMap)) {\r\n    \tSystem.out.println(entry.getKey()+&quot;:&quot;+entry.getValue());\r\n    }\r\n\r\nWould output:\r\n\r\n    ape:1\r\n    frog:2\r\n    pig:3\r\n\r\nNote how our cow dissapeared  as it shared the value &quot;1&quot; with our ape :O!\r\n\r\nThis modification of the code solves that issue:\r\n\r\n    static &lt;K,V extends Comparable&lt;? super V&gt;&gt; SortedSet&lt;Map.Entry&lt;K,V&gt;&gt; entriesSortedByValues(Map&lt;K,V&gt; map) {\r\n    \t    SortedSet&lt;Map.Entry&lt;K,V&gt;&gt; sortedEntries = new TreeSet&lt;Map.Entry&lt;K,V&gt;&gt;(\r\n    \t        new Comparator&lt;Map.Entry&lt;K,V&gt;&gt;() {\r\n    \t            @Override public int compare(Map.Entry&lt;K,V&gt; e1, Map.Entry&lt;K,V&gt; e2) {\r\n    \t            \tint res = e1.getValue().compareTo(e2.getValue());\r\n    \t                return res != 0 ? res : 1; // Special fix to preserve items with equal values\r\n    \t            }\r\n    \t        }\r\n    \t    );\r\n    \t    sortedEntries.addAll(map.entrySet());\r\n    \t    return sortedEntries;\r\n    \t}","title":"TreeMap sort by value","body":"<p>polygenelubricants answer is <strong><em>almost</em></strong> perfect. It has one important bug though. It will not handle map entries where the values are the same.</p>\n\n<p>This code:...</p>\n\n<pre><code>Map&lt;String, Integer&gt; nonSortedMap = new HashMap&lt;String, Integer&gt;();\nnonSortedMap.put(\"ape\", 1);\nnonSortedMap.put(\"pig\", 3);\nnonSortedMap.put(\"cow\", 1);\nnonSortedMap.put(\"frog\", 2);\n\nfor (Entry&lt;String, Integer&gt; entry  : entriesSortedByValues(nonSortedMap)) {\n    System.out.println(entry.getKey()+\":\"+entry.getValue());\n}\n</code></pre>\n\n<p>Would output:</p>\n\n<pre><code>ape:1\nfrog:2\npig:3\n</code></pre>\n\n<p>Note how our cow dissapeared  as it shared the value \"1\" with our ape :O!</p>\n\n<p>This modification of the code solves that issue:</p>\n\n<pre><code>static &lt;K,V extends Comparable&lt;? super V&gt;&gt; SortedSet&lt;Map.Entry&lt;K,V&gt;&gt; entriesSortedByValues(Map&lt;K,V&gt; map) {\n        SortedSet&lt;Map.Entry&lt;K,V&gt;&gt; sortedEntries = new TreeSet&lt;Map.Entry&lt;K,V&gt;&gt;(\n            new Comparator&lt;Map.Entry&lt;K,V&gt;&gt;() {\n                @Override public int compare(Map.Entry&lt;K,V&gt; e1, Map.Entry&lt;K,V&gt; e2) {\n                    int res = e1.getValue().compareTo(e2.getValue());\n                    return res != 0 ? res : 1; // Special fix to preserve items with equal values\n                }\n            }\n        );\n        sortedEntries.addAll(map.entrySet());\n        return sortedEntries;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1964887,"reputation":144,"user_id":1765416,"display_name":"zina"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1359029744,"creation_date":1358709752,"answer_id":14428302,"question_id":2864840,"body_markdown":"A lot of people hear adviced to use List and i prefer to use it as well\r\n\r\nhere are two methods you need to sort the entries of the Map according to their values.\r\n\r\n        static final Comparator&lt;Entry&lt;?, Double&gt;&gt; DOUBLE_VALUE_COMPARATOR = \r\n\t\t\tnew Comparator&lt;Entry&lt;?, Double&gt;&gt;() {\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic int compare(Entry&lt;?, Double&gt; o1, Entry&lt;?, Double&gt; o2) {\r\n\t\t\t\t\treturn o1.getValue().compareTo(o2.getValue());\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\t\r\n\t\t\tstatic final List&lt;Entry&lt;?, Double&gt;&gt; sortHashMapByDoubleValue(HashMap temp)\r\n\t\t\t{\r\n\t\t\t\tSet&lt;Entry&lt;?, Double&gt;&gt; entryOfMap = temp.entrySet();\r\n\t\t\t\r\n\t\t\t\tList&lt;Entry&lt;?, Double&gt;&gt; entries = new ArrayList&lt;Entry&lt;?, Double&gt;&gt;(entryOfMap);\r\n\t\t\t\tCollections.sort(entries, DOUBLE_VALUE_COMPARATOR);\r\n\t\t\t\treturn entries;\r\n\t\t\t}","title":"TreeMap sort by value","body":"<p>A lot of people hear adviced to use List and i prefer to use it as well</p>\n\n<p>here are two methods you need to sort the entries of the Map according to their values.</p>\n\n<pre><code>    static final Comparator&lt;Entry&lt;?, Double&gt;&gt; DOUBLE_VALUE_COMPARATOR = \n        new Comparator&lt;Entry&lt;?, Double&gt;&gt;() {\n            @Override\n            public int compare(Entry&lt;?, Double&gt; o1, Entry&lt;?, Double&gt; o2) {\n                return o1.getValue().compareTo(o2.getValue());\n            }\n        };\n\n        static final List&lt;Entry&lt;?, Double&gt;&gt; sortHashMapByDoubleValue(HashMap temp)\n        {\n            Set&lt;Entry&lt;?, Double&gt;&gt; entryOfMap = temp.entrySet();\n\n            List&lt;Entry&lt;?, Double&gt;&gt; entries = new ArrayList&lt;Entry&lt;?, Double&gt;&gt;(entryOfMap);\n            Collections.sort(entries, DOUBLE_VALUE_COMPARATOR);\n            return entries;\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2355322,"reputation":551,"user_id":2063246,"display_name":"Halogen"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1360634481,"creation_date":1360633782,"answer_id":14824200,"question_id":2864840,"body_markdown":"Olof&#39;s answer is good, but it needs *one* more thing before it&#39;s perfect. In the comments below his answer, dacwe (correctly) points out that his implementation violates the Compare/Equals contract for Sets. If you try to call contains or remove on an entry that&#39;s clearly in the set, the set won&#39;t recognize it because of the code that allows entries with equal values to be placed in the set. So, in order to fix this, we need to test for equality between the keys:\r\n\r\n    static &lt;K,V extends Comparable&lt;? super V&gt;&gt; SortedSet&lt;Map.Entry&lt;K,V&gt;&gt; entriesSortedByValues(Map&lt;K,V&gt; map) {\r\n        SortedSet&lt;Map.Entry&lt;K,V&gt;&gt; sortedEntries = new TreeSet&lt;Map.Entry&lt;K,V&gt;&gt;(\r\n            new Comparator&lt;Map.Entry&lt;K,V&gt;&gt;() {\r\n                @Override public int compare(Map.Entry&lt;K,V&gt; e1, Map.Entry&lt;K,V&gt; e2) {\r\n                    int res = e1.getValue().compareTo(e2.getValue());\r\n                    if (e1.getKey().equals(e2.getKey())) {\r\n                        return res; // Code will now handle equality properly\r\n                    } else {\r\n                        return res != 0 ? res : 1; // While still adding all entries\r\n                    }\r\n                }\r\n            }\r\n        );\r\n        sortedEntries.addAll(map.entrySet());\r\n        return sortedEntries;\r\n    }\r\n\r\n&quot;Note that the ordering maintained by a sorted set (whether or not an explicit comparator is provided) must be consistent with equals if the sorted set is to correctly implement the Set interface... the Set interface is defined in terms of the equals operation, but **a sorted set performs all element comparisons using its compareTo (or compare) method, so two elements that are deemed equal by this method are, from the standpoint of the sorted set, equal**.&quot;\r\n(http://docs.oracle.com/javase/6/docs/api/java/util/SortedSet.html)\r\n\r\nSince we originally overlooked equality in order to force the set to add equal valued entries, now we have to test for equality in the keys in order for the set to actually return the entry you&#39;re looking for. This is kinda messy and definitely not how sets were intended to be used - but it works.","title":"TreeMap sort by value","body":"<p>Olof's answer is good, but it needs <em>one</em> more thing before it's perfect. In the comments below his answer, dacwe (correctly) points out that his implementation violates the Compare/Equals contract for Sets. If you try to call contains or remove on an entry that's clearly in the set, the set won't recognize it because of the code that allows entries with equal values to be placed in the set. So, in order to fix this, we need to test for equality between the keys:</p>\n\n<pre><code>static &lt;K,V extends Comparable&lt;? super V&gt;&gt; SortedSet&lt;Map.Entry&lt;K,V&gt;&gt; entriesSortedByValues(Map&lt;K,V&gt; map) {\n    SortedSet&lt;Map.Entry&lt;K,V&gt;&gt; sortedEntries = new TreeSet&lt;Map.Entry&lt;K,V&gt;&gt;(\n        new Comparator&lt;Map.Entry&lt;K,V&gt;&gt;() {\n            @Override public int compare(Map.Entry&lt;K,V&gt; e1, Map.Entry&lt;K,V&gt; e2) {\n                int res = e1.getValue().compareTo(e2.getValue());\n                if (e1.getKey().equals(e2.getKey())) {\n                    return res; // Code will now handle equality properly\n                } else {\n                    return res != 0 ? res : 1; // While still adding all entries\n                }\n            }\n        }\n    );\n    sortedEntries.addAll(map.entrySet());\n    return sortedEntries;\n}\n</code></pre>\n\n<p>\"Note that the ordering maintained by a sorted set (whether or not an explicit comparator is provided) must be consistent with equals if the sorted set is to correctly implement the Set interface... the Set interface is defined in terms of the equals operation, but <strong>a sorted set performs all element comparisons using its compareTo (or compare) method, so two elements that are deemed equal by this method are, from the standpoint of the sorted set, equal</strong>.\"\n(<a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/SortedSet.html\">http://docs.oracle.com/javase/6/docs/api/java/util/SortedSet.html</a>)</p>\n\n<p>Since we originally overlooked equality in order to force the set to add equal valued entries, now we have to test for equality in the keys in order for the set to actually return the entry you're looking for. This is kinda messy and definitely not how sets were intended to be used - but it works.</p>\n"},{"tags":[],"owner":{"account_id":108817,"reputation":111646,"user_id":288671,"display_name":"Vitalii Fedorenko"},"down_vote_count":0,"up_vote_count":72,"is_accepted":false,"score":72,"last_activity_date":1634892116,"creation_date":1383093951,"answer_id":19671828,"question_id":2864840,"body_markdown":"In Java 8:\r\n\r\n    LinkedHashMap&lt;Integer, String&gt; sortedMap = map.entrySet().stream()\r\n      .sorted(Map.Entry.comparingByValue(/* Optional: Comparator.reverseOrder() */))\r\n      .collect(Collectors.toMap(Map.Entry::getKey,\r\n                                Map.Entry::getValue,\r\n                                (e1, e2) -&gt; e1, LinkedHashMap::new));\r\n","title":"TreeMap sort by value","body":"<p>In Java 8:</p>\n<pre><code>LinkedHashMap&lt;Integer, String&gt; sortedMap = map.entrySet().stream()\n  .sorted(Map.Entry.comparingByValue(/* Optional: Comparator.reverseOrder() */))\n  .collect(Collectors.toMap(Map.Entry::getKey,\n                            Map.Entry::getValue,\n                            (e1, e2) -&gt; e1, LinkedHashMap::new));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":927017,"reputation":2097,"user_id":957595,"accept_rate":75,"display_name":"Paul Jackson"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1405033094,"creation_date":1405033094,"answer_id":24687666,"question_id":2864840,"body_markdown":"I know this post specifically asks for sorting a TreeMap by values, but for those of us that don&#39;t really care about implementation but do want a solution that keeps the collection sorted as elements are added, I would appreciate feedback on this TreeSet-based solution. For one, elements are not easily retrieved by key, but for the use case I had at hand (finding the n keys with the lowest values), this was not a requirement.\r\n\r\n      TreeSet&lt;Map.Entry&lt;Integer, Double&gt;&gt; set = new TreeSet&lt;&gt;(new Comparator&lt;Map.Entry&lt;Integer, Double&gt;&gt;()\r\n      {\r\n        @Override\r\n        public int compare(Map.Entry&lt;Integer, Double&gt; o1, Map.Entry&lt;Integer, Double&gt; o2)\r\n        {\r\n          int valueComparison = o1.getValue().compareTo(o2.getValue());\r\n          return valueComparison == 0 ? o1.getKey().compareTo(o2.getKey()) : valueComparison;\r\n        }\r\n      });\r\n      int key = 5;\r\n      double value = 1.0;\r\n      set.add(new AbstractMap.SimpleEntry&lt;&gt;(key, value));\r\n","title":"TreeMap sort by value","body":"<p>I know this post specifically asks for sorting a TreeMap by values, but for those of us that don't really care about implementation but do want a solution that keeps the collection sorted as elements are added, I would appreciate feedback on this TreeSet-based solution. For one, elements are not easily retrieved by key, but for the use case I had at hand (finding the n keys with the lowest values), this was not a requirement.</p>\n\n<pre><code>  TreeSet&lt;Map.Entry&lt;Integer, Double&gt;&gt; set = new TreeSet&lt;&gt;(new Comparator&lt;Map.Entry&lt;Integer, Double&gt;&gt;()\n  {\n    @Override\n    public int compare(Map.Entry&lt;Integer, Double&gt; o1, Map.Entry&lt;Integer, Double&gt; o2)\n    {\n      int valueComparison = o1.getValue().compareTo(o2.getValue());\n      return valueComparison == 0 ? o1.getKey().compareTo(o2.getKey()) : valueComparison;\n    }\n  });\n  int key = 5;\n  double value = 1.0;\n  set.add(new AbstractMap.SimpleEntry&lt;&gt;(key, value));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5539473,"reputation":61,"user_id":4396615,"display_name":"Dmitry Ivanov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1604330772,"creation_date":1604330772,"answer_id":64648401,"question_id":2864840,"body_markdown":"    import java.util.*;\r\n\r\n    public class Main {\r\n\r\n    public static void main(String[] args) {\r\n        TreeMap&lt;String, Integer&gt; initTree = new TreeMap();\r\n        initTree.put(&quot;D&quot;, 0);\r\n        initTree.put(&quot;C&quot;, -3);\r\n        initTree.put(&quot;A&quot;, 43);\r\n        initTree.put(&quot;B&quot;, 32);\r\n        System.out.println(&quot;Sorted by keys:&quot;);\r\n        System.out.println(initTree);\r\n        List list = new ArrayList(initTree.entrySet());\r\n        Collections.sort(list, new Comparator&lt;Map.Entry&lt;String, Integer&gt;&gt;() {\r\n            @Override\r\n            public int compare(Map.Entry&lt;String, Integer&gt; e1, Map.Entry&lt;String, Integer&gt; e2) {\r\n                return e1.getValue().compareTo(e2.getValue());\r\n            }\r\n        });\r\n        System.out.println(&quot;Sorted by values:&quot;);\r\n        System.out.println(list);\r\n    }\r\n    }","title":"TreeMap sort by value","body":"<pre><code>import java.util.*;\n\npublic class Main {\n\npublic static void main(String[] args) {\n    TreeMap&lt;String, Integer&gt; initTree = new TreeMap();\n    initTree.put(&quot;D&quot;, 0);\n    initTree.put(&quot;C&quot;, -3);\n    initTree.put(&quot;A&quot;, 43);\n    initTree.put(&quot;B&quot;, 32);\n    System.out.println(&quot;Sorted by keys:&quot;);\n    System.out.println(initTree);\n    List list = new ArrayList(initTree.entrySet());\n    Collections.sort(list, new Comparator&lt;Map.Entry&lt;String, Integer&gt;&gt;() {\n        @Override\n        public int compare(Map.Entry&lt;String, Integer&gt; e1, Map.Entry&lt;String, Integer&gt; e2) {\n            return e1.getValue().compareTo(e2.getValue());\n        }\n    });\n    System.out.println(&quot;Sorted by values:&quot;);\n    System.out.println(list);\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":543250,"reputation":18874,"user_id":912319,"accept_rate":62,"display_name":"Kanagavelu Sugumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642847348,"creation_date":1642847348,"answer_id":70811921,"question_id":2864840,"body_markdown":"    //convert HashMap into List   \r\n    List&lt;Entry&lt;String, Integer&gt;&gt; list = new LinkedList&lt;Entry&lt;String, Integer&gt;&gt;(map.entrySet()); \r\n    \r\n    Collections.sort(list, (o1, o2) -&gt; o1.getValue().compareTo(o2.getValue()));\r\n\r\n","title":"TreeMap sort by value","body":"<pre><code>//convert HashMap into List   \nList&lt;Entry&lt;String, Integer&gt;&gt; list = new LinkedList&lt;Entry&lt;String, Integer&gt;&gt;(map.entrySet()); \n\nCollections.sort(list, (o1, o2) -&gt; o1.getValue().compareTo(o2.getValue()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3680205,"reputation":77,"user_id":3065317,"display_name":"Gru"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649045356,"creation_date":1649045356,"answer_id":71731934,"question_id":2864840,"body_markdown":"If you want to use a Hash map you can add a condition in Comparator to check by values first &amp; if values are equal perform a sort on keys\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n\r\n    HashMap&lt;String , Integer&gt; polpularity = new HashMap&lt;&gt;();       \r\n           List&lt;String&gt; collect = popularity.entrySet().stream().sorted((t2, t1) -&gt; {\r\n                if (t2.getValue() &gt; t1.getValue()) {\r\n                    return -1;\r\n\r\n                } else if (t2.getValue() &lt; t1.getValue()) {\r\n                    return +1;\r\n\r\n                } else {\r\n                    return t2.getKey().compareTo(t1.getKey());\r\n                }\r\n            }).map(entry -&gt; entry.getKey()).collect(Collectors.toList());\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nIf you don&#39;t want to take care of the latter condition then use a Treemap which will offer you sorting by itself, this can be done in an elegant single line of code:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n     TreeMap&lt;String, Integer&gt; popularity = new TreeMap&lt;&gt;();\r\n\r\n     List&lt;String&gt; collect = popularity.entrySet().stream().sorted(Collections.reverseOrder(Map.Entry.comparingByValue())).map(entry -&gt; entry.getKey()).collect(Collectors.toList());\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"TreeMap sort by value","body":"<p>If you want to use a Hash map you can add a condition in Comparator to check by values first &amp; if values are equal perform a sort on keys</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>HashMap&lt;String , Integer&gt; polpularity = new HashMap&lt;&gt;();       \n       List&lt;String&gt; collect = popularity.entrySet().stream().sorted((t2, t1) -&gt; {\n            if (t2.getValue() &gt; t1.getValue()) {\n                return -1;\n\n            } else if (t2.getValue() &lt; t1.getValue()) {\n                return +1;\n\n            } else {\n                return t2.getKey().compareTo(t1.getKey());\n            }\n        }).map(entry -&gt; entry.getKey()).collect(Collectors.toList());</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>If you don't want to take care of the latter condition then use a Treemap which will offer you sorting by itself, this can be done in an elegant single line of code:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code> TreeMap&lt;String, Integer&gt; popularity = new TreeMap&lt;&gt;();\n\n List&lt;String&gt; collect = popularity.entrySet().stream().sorted(Collections.reverseOrder(Map.Entry.comparingByValue())).map(entry -&gt; entry.getKey()).collect(Collectors.toList());</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":[],"owner":{"account_id":2043778,"reputation":17800,"user_id":1824361,"accept_rate":80,"display_name":"Ahmed Nabil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673537462,"creation_date":1673537462,"answer_id":75098719,"question_id":2864840,"body_markdown":"`TreeMap` is always sorted **by the keys**.  \r\nIf you want `TreeMap` *to be sorted by the values*, so you can simply construct it also.\r\n\r\n\r\nExample:  \r\n\r\n    // the original TreeMap which is sorted by key\r\n    Map&lt;String, Integer&gt; map = new TreeMap&lt;&gt;();\r\n    map.put(&quot;de&quot;,10);\r\n    map.put(&quot;ab&quot;, 20);\r\n    map.put(&quot;a&quot;,5);\r\n    \r\n    // expected output:\r\n    // {a=5, ab=20, de=10}\r\n    System.out.println(map);\r\n    \r\n    \r\n    \r\n    // now we will constrcut a new TreeSet which is sorted by values \r\n    // [original TreeMap values will be the keys for this new TreeMap]\r\n    TreeMap&lt;Integer, String&gt; newTreeMapSortedByValue = new TreeMap();\r\n    treeMapmap.forEach((k,v) -&gt; newTreeMapSortedByValue.put(v, k));\r\n    \r\n    // expected output:\r\n    // {5=a, 10=de, 20=ab}\r\n    System.out.println(newTreeMapSortedByValue);\r\n\r\n\r\n","title":"TreeMap sort by value","body":"<p><code>TreeMap</code> is always sorted <strong>by the keys</strong>.<br />\nIf you want <code>TreeMap</code> <em>to be sorted by the values</em>, so you can simply construct it also.</p>\n<p>Example:</p>\n<pre><code>// the original TreeMap which is sorted by key\nMap&lt;String, Integer&gt; map = new TreeMap&lt;&gt;();\nmap.put(&quot;de&quot;,10);\nmap.put(&quot;ab&quot;, 20);\nmap.put(&quot;a&quot;,5);\n\n// expected output:\n// {a=5, ab=20, de=10}\nSystem.out.println(map);\n\n\n\n// now we will constrcut a new TreeSet which is sorted by values \n// [original TreeMap values will be the keys for this new TreeMap]\nTreeMap&lt;Integer, String&gt; newTreeMapSortedByValue = new TreeMap();\ntreeMapmap.forEach((k,v) -&gt; newTreeMapSortedByValue.put(v, k));\n\n// expected output:\n// {5=a, 10=de, 20=ab}\nSystem.out.println(newTreeMapSortedByValue);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20553942,"reputation":63,"user_id":15085981,"display_name":"Ahmed Godaa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675060111,"creation_date":1674611428,"answer_id":75229021,"question_id":2864840,"body_markdown":"# Only 1  Line Of Code Solution \r\n\r\n\r\n\r\nNormal Order\r\n\r\n    map.entrySet().stream().sorted(Map.Entry.comparingByValue()).forEach(x-&gt;{});\r\n\r\n\r\nReverse Order\r\n\r\n    map.entrySet().stream().sorted(Map.Entry.comparingByValue(Comparator.reverseOrder())).forEachOrdered(x -&gt; {});","title":"TreeMap sort by value","body":"<h1>Only 1  Line Of Code Solution</h1>\n<p>Normal Order</p>\n<pre><code>map.entrySet().stream().sorted(Map.Entry.comparingByValue()).forEach(x-&gt;{});\n</code></pre>\n<p>Reverse Order</p>\n<pre><code>map.entrySet().stream().sorted(Map.Entry.comparingByValue(Comparator.reverseOrder())).forEachOrdered(x -&gt; {});\n</code></pre>\n"}],"owner":{"account_id":65422,"reputation":4264,"user_id":192516,"accept_rate":89,"display_name":"vito huang"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":360571,"favorite_count":0,"down_vote_count":0,"up_vote_count":168,"accepted_answer_id":2864923,"answer_count":13,"score":168,"last_activity_date":1675060111,"creation_date":1274266595,"question_id":2864840,"body_markdown":"I want to write a comparator that will let me sort a TreeMap by value instead of the default natural ordering.\r\n\r\nI tried something like this, but can&#39;t find out what went wrong:\r\n\r\n    import java.util.*;\r\n    \r\n    class treeMap {\r\n        public static void main(String[] args) {\r\n            System.out.println(&quot;the main&quot;);\r\n            byValue cmp = new byValue();\r\n            Map&lt;String, Integer&gt; map = new TreeMap&lt;String, Integer&gt;(cmp);\r\n            map.put(&quot;de&quot;,10);\r\n            map.put(&quot;ab&quot;, 20);\r\n            map.put(&quot;a&quot;,5);\r\n    \r\n            for (Map.Entry&lt;String,Integer&gt; pair: map.entrySet()) {\r\n                System.out.println(pair.getKey()+&quot;:&quot;+pair.getValue());\r\n            }\r\n        }\r\n    }\r\n    \r\n    class byValue implements Comparator&lt;Map.Entry&lt;String,Integer&gt;&gt; {\r\n        public int compare(Map.Entry&lt;String,Integer&gt; e1, Map.Entry&lt;String,Integer&gt; e2) {\r\n            if (e1.getValue() &lt; e2.getValue()){\r\n                return 1;\r\n            } else if (e1.getValue() == e2.getValue()) {\r\n                return 0;\r\n            } else {\r\n                return -1;\r\n            }\r\n        }\r\n    }\r\n\r\nI guess what am I asking is: Can I get a `Map.Entry` passed to the comparator?\r\n","title":"TreeMap sort by value","body":"<p>I want to write a comparator that will let me sort a TreeMap by value instead of the default natural ordering.</p>\n\n<p>I tried something like this, but can't find out what went wrong:</p>\n\n<pre><code>import java.util.*;\n\nclass treeMap {\n    public static void main(String[] args) {\n        System.out.println(\"the main\");\n        byValue cmp = new byValue();\n        Map&lt;String, Integer&gt; map = new TreeMap&lt;String, Integer&gt;(cmp);\n        map.put(\"de\",10);\n        map.put(\"ab\", 20);\n        map.put(\"a\",5);\n\n        for (Map.Entry&lt;String,Integer&gt; pair: map.entrySet()) {\n            System.out.println(pair.getKey()+\":\"+pair.getValue());\n        }\n    }\n}\n\nclass byValue implements Comparator&lt;Map.Entry&lt;String,Integer&gt;&gt; {\n    public int compare(Map.Entry&lt;String,Integer&gt; e1, Map.Entry&lt;String,Integer&gt; e2) {\n        if (e1.getValue() &lt; e2.getValue()){\n            return 1;\n        } else if (e1.getValue() == e2.getValue()) {\n            return 0;\n        } else {\n            return -1;\n        }\n    }\n}\n</code></pre>\n\n<p>I guess what am I asking is: Can I get a <code>Map.Entry</code> passed to the comparator?</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","spring-jdbc"],"comments":[{"owner":{"account_id":2518869,"reputation":8932,"user_id":2189617,"accept_rate":68,"display_name":"iCode"},"score":0,"creation_date":1675059354,"post_id":75280789,"comment_id":132839016,"body_markdown":"Just thinking. Shouldn&#39;t it be `${MYSQL_HOST}:localhost` ?","body":"Just thinking. Shouldn&#39;t it be <code>${MYSQL_HOST}:localhost</code> ?"},{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":0,"creation_date":1675059486,"post_id":75280789,"comment_id":132839042,"body_markdown":"[Please do not upload images of code/data/errors when asking a question.](//meta.stackoverflow.com/q/285551)","body":"<a href=\"//meta.stackoverflow.com/q/285551\">Please do not upload images of code/data/errors when asking a question.</a>"},{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":0,"creation_date":1675059882,"post_id":75280789,"comment_id":132839110,"body_markdown":"How are you running the application? I&#39;m not able to reproduce the error in your question.","body":"How are you running the application? I&#39;m not able to reproduce the error in your question."},{"owner":{"account_id":24233006,"reputation":91,"user_id":18186514,"display_name":"Animesh Raj"},"score":0,"creation_date":1675060130,"post_id":75280789,"comment_id":132839153,"body_markdown":"@Karthikeyan\nIn eclipse I coded and then run as a Java application","body":"@Karthikeyan In eclipse I coded and then run as a Java application"},{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":0,"creation_date":1675060203,"post_id":75280789,"comment_id":132839163,"body_markdown":"Check that the application runs in the command prompt/terminal using `mvn spring-boot:run`.","body":"Check that the application runs in the command prompt/terminal using <code>mvn spring-boot:run</code>."},{"owner":{"account_id":24233006,"reputation":91,"user_id":18186514,"display_name":"Animesh Raj"},"score":0,"creation_date":1675060414,"post_id":75280789,"comment_id":132839193,"body_markdown":"@Karthikeyan\nI got some error\n\nC:\\Users\\User\\OneDrive\\Desktop\\anim\\EMA&gt;mvn spring-boot:run\n&#39;mvn&#39; is not recognized as an internal or external command,\noperable program or batch file.","body":"@Karthikeyan I got some error  C:\\Users\\User\\OneDrive\\Desktop\\anim\\EMA&gt;mvn spring-boot:run &#39;mvn&#39; is not recognized as an internal or external command, operable program or batch file."},{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":0,"creation_date":1675060765,"post_id":75280789,"comment_id":132839261,"body_markdown":"What about `mvnw spring-boot:run`","body":"What about <code>mvnw spring-boot:run</code>"},{"owner":{"account_id":24233006,"reputation":91,"user_id":18186514,"display_name":"Animesh Raj"},"score":0,"creation_date":1675061149,"post_id":75280789,"comment_id":132839330,"body_markdown":"Error: JAVA_HOME not found in your environment.\nPlease set the JAVA_HOME variable in your environment to match the\nlocation of your Java installation.","body":"Error: JAVA_HOME not found in your environment. Please set the JAVA_HOME variable in your environment to match the location of your Java installation."},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1675063970,"post_id":75280789,"comment_id":132839880,"body_markdown":"Seems like maven is not correctly installed/set up. You should definitely fix that","body":"Seems like maven is not correctly installed/set up. You should definitely fix that"},{"owner":{"account_id":24233006,"reputation":91,"user_id":18186514,"display_name":"Animesh Raj"},"score":0,"creation_date":1675137496,"post_id":75280789,"comment_id":132859304,"body_markdown":"@XtremeBaumer I am using &quot;Eclipse IDE for Enterprise Java and Web Developers&quot; and it already has maven pre installed in it. As I have mentioned that earlier things were working fine but when I pushed to github and then cloned in another directory issue is coming there in new directory","body":"@XtremeBaumer I am using &quot;Eclipse IDE for Enterprise Java and Web Developers&quot; and it already has maven pre installed in it. As I have mentioned that earlier things were working fine but when I pushed to github and then cloned in another directory issue is coming there in new directory"}],"owner":{"account_id":24233006,"reputation":91,"user_id":18186514,"display_name":"Animesh Raj"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":197,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675060071,"creation_date":1675059107,"question_id":75280789,"body_markdown":"I have created a spring boot Rest project I tested this on my system things were working fine.   \r\nThen I pushed the code to to [Github (Repo link)](https://github.com/animeshsgit/eventif/tree/master/Employee_Management_App/BackEnd/EMA)  \r\nNow after I cloned the repo on my another directory then done the import the &quot;existing maven project&quot; such that it can build. but now when I run the application I am getting following error \r\n\r\n```\r\nError starting ApplicationContext. To display the condition evaluation report re-run your application with &#39;debug&#39; enabled.\r\n2023-01-30T11:06:31.614+05:30 ERROR 2060 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   : \r\n\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nFailed to configure a DataSource: &#39;url&#39; attribute is not specified and no embedded datasource could be configured.\r\n\r\nReason: Failed to determine a suitable driver class\r\n\r\n\r\nAction:\r\n\r\nConsider the following:\r\n\tIf you want an embedded database (H2, HSQL or Derby), please put it on the classpath.\r\n\tIf you have database settings to be loaded from a particular profile you may need to activate it (no profiles are currently active).\r\n\r\n```\r\n\r\n    \r\nnot getting what the issue is here  \r\n  \r\nHelp is really appreciated !..  \r\nThanks, happy coding\r\n\r\nI have tried with some changes in `application.properties` file `spring.datasource.url=jdbc:mysql://${MYSQL_HOST:localhost}:3306/project_managementapp`  \r\n  \r\nbut it didn&#39;t work out,   \r\nthe expected behavior is that after cloning the project, it should run and APIs should work with the client","title":"why after cloning a spring boot repo from github showing error &quot;Reason: Failed to determine a suitable driver class&quot;","body":"<p>I have created a spring boot Rest project I tested this on my system things were working fine.<br />\nThen I pushed the code to to <a href=\"https://github.com/animeshsgit/eventif/tree/master/Employee_Management_App/BackEnd/EMA\" rel=\"nofollow noreferrer\">Github (Repo link)</a><br />\nNow after I cloned the repo on my another directory then done the import the &quot;existing maven project&quot; such that it can build. but now when I run the application I am getting following error</p>\n<pre><code>Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.\n2023-01-30T11:06:31.614+05:30 ERROR 2060 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   : \n\n***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nFailed to configure a DataSource: 'url' attribute is not specified and no embedded datasource could be configured.\n\nReason: Failed to determine a suitable driver class\n\n\nAction:\n\nConsider the following:\n    If you want an embedded database (H2, HSQL or Derby), please put it on the classpath.\n    If you have database settings to be loaded from a particular profile you may need to activate it (no profiles are currently active).\n\n</code></pre>\n<p>not getting what the issue is here</p>\n<p>Help is really appreciated !..<br />\nThanks, happy coding</p>\n<p>I have tried with some changes in <code>application.properties</code> file <code>spring.datasource.url=jdbc:mysql://${MYSQL_HOST:localhost}:3306/project_managementapp</code></p>\n<p>but it didn't work out,<br />\nthe expected behavior is that after cloning the project, it should run and APIs should work with the client</p>\n"},{"tags":["java","android","xml","android-button"],"comments":[{"owner":{"account_id":2294849,"reputation":331956,"user_id":2016562,"accept_rate":92,"display_name":"Gabriele Mariotti"},"score":0,"creation_date":1675095210,"post_id":75270794,"comment_id":132849692,"body_markdown":"Check https://stackoverflow.com/questions/63328270/android-button-background-is-taking-the-primary-color/63331089#63331089","body":"Check <a href=\"https://stackoverflow.com/questions/63328270/android-button-background-is-taking-the-primary-color/63331089#63331089\" title=\"android button background is taking the primary color\">stackoverflow.com/questions/63328270/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":27636511,"reputation":1,"user_id":21094331,"display_name":"F&#233;lix Lamothe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674941195,"creation_date":1674939798,"answer_id":75270883,"question_id":75270794,"body_markdown":"Try to delete `android:background=&quot;@color/white&quot;`. That thing reset your color of the background to the default value and if you didn&#39;t set the value of the color in the resources of the color (in the folder resources -&gt; values-&gt; colors.xml) it will not work","title":"Button on android app somehow takes a color from title, dunno how to change a title color or button color","body":"<p>Try to delete <code>android:background=&quot;@color/white&quot;</code>. That thing reset your color of the background to the default value and if you didn't set the value of the color in the resources of the color (in the folder resources -&gt; values-&gt; colors.xml) it will not work</p>\n"}],"owner":{"account_id":26776061,"reputation":11,"user_id":21101355,"display_name":"OTe OlegSey"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675059259,"creation_date":1674938942,"question_id":75270794,"body_markdown":"[button color takes a title color](https://i.stack.imgur.com/zX8Am.png)\r\n\r\n\r\nTroubles with button colors, it always take a title color and idk why, I don&#39;t even know how to change a color of title\r\n\r\n```xml\r\n\r\n        &lt;Button android:background=&quot;@color/white&quot;\r\n                android:id=&quot;@+id/showGraphButton&quot;\r\n                android:foreground=&quot;@drawable/changing_show_graph_button_color&quot;\r\n                android:foregroundGravity=&quot;right&quot;\r\n                android:clickable=&quot;true&quot;\r\n                android:enabled=&quot;false&quot;\r\n                android:gravity=&quot;left&quot;\r\n                android:text=&quot;  &quot;\r\n                android:textColor=&quot;@color/darkgrey_spbsut&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;40dp&quot;\r\n                android:backgroundTint=&quot;@color/white&quot;&gt;\r\n\r\n        &lt;/Button&gt;\r\n    &lt;/LinearLayout&gt;\r\n\r\n&lt;/LinearLayout&gt;\r\n```\r\n","title":"Button on android app somehow takes a color from title, dunno how to change a title color or button color","body":"<p><a href=\"https://i.stack.imgur.com/zX8Am.png\" rel=\"nofollow noreferrer\">button color takes a title color</a></p>\n<p>Troubles with button colors, it always take a title color and idk why, I don't even know how to change a color of title</p>\n<pre class=\"lang-xml prettyprint-override\"><code>\n        &lt;Button android:background=&quot;@color/white&quot;\n                android:id=&quot;@+id/showGraphButton&quot;\n                android:foreground=&quot;@drawable/changing_show_graph_button_color&quot;\n                android:foregroundGravity=&quot;right&quot;\n                android:clickable=&quot;true&quot;\n                android:enabled=&quot;false&quot;\n                android:gravity=&quot;left&quot;\n                android:text=&quot;  &quot;\n                android:textColor=&quot;@color/darkgrey_spbsut&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;40dp&quot;\n                android:backgroundTint=&quot;@color/white&quot;&gt;\n\n        &lt;/Button&gt;\n    &lt;/LinearLayout&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n"},{"tags":["java","http-post","response","binaryfiles","multipartfile"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1674828255,"post_id":75258835,"comment_id":132802043,"body_markdown":"Please post your current code","body":"Please post your current code"},{"owner":{"account_id":27635626,"reputation":1,"user_id":21093611,"display_name":"Raj"},"score":0,"creation_date":1675059087,"post_id":75258835,"comment_id":132838970,"body_markdown":"posted as image as part of the request","body":"posted as image as part of the request"}],"owner":{"account_id":27635626,"reputation":1,"user_id":21093611,"display_name":"Raj"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675059224,"creation_date":1674826570,"question_id":75258835,"body_markdown":"I am not able to read multipart file from the http response. The response contains the MIME Boundary and content transfer encoding - binary. we need to read the date from the response and send the request to another http post method. here we are facing two issues.\r\n1. Not able to read the binary file properly from the http response. \r\n2. Not able to form the multipart file to send the request. \r\n\r\nwhen I have send that multipart form data in http post method. I am not receiving proper response. beacuse of the multipart binary encoding file. please provide the sample to read the multipart binary file and how to form and send the multipart file.\r\n\r\n    private void postLocalRequest(URL url, byte[] requestBody, String contentType, String authHeader)\r\n    \t\t\tthrows IOException, ProtocolException, Exception {\r\n    \t\tlogger.info(&quot;local request URL:::&quot; + url);\r\n    \t\tlogger.info(&quot;local request content type:::&quot; + contentType);\r\n    \t\tHttpURLConnection httpURLConnection = (HttpURLConnection) url.openConnection();\r\n    \t\thttpURLConnection.setRequestMethod(&quot;POST&quot;);\r\n    \t\tif (!authHeader.isEmpty()) {\r\n    \t\t\thttpURLConnection.setRequestProperty(&quot;Authorization&quot;, authHeader);\r\n    \t\t}\r\n    \t\thttpURLConnection.addRequestProperty(&quot;Accept&quot;, &quot;application/json; charset=UTF-8&quot;);\r\n    \t\thttpURLConnection.setRequestProperty(&quot;Content-Type&quot;, contentType);\r\n    \t\thttpURLConnection.setDoOutput(true);\r\n    \t\thttpURLConnection.setDoInput(true);\r\n    \t\tOutputStream outputStream = httpURLConnection.getOutputStream();\r\n    \t\toutputStream.write(requestBody);\r\n    \t\toutputStream.flush();\r\n    \t\tlogger.info(&quot;waiting for local response&quot;);\r\n    \t\tBufferedReader bufferedReader = null;\r\n    \t\tlogger.info(&quot;http response code :::&quot; + httpURLConnection.getResponseCode());\r\n    \r\n    \t\tdeviceResponse = &quot;&quot;;\r\n    \t\tdeviceResponseContentType = httpURLConnection.getContentType();\r\n    \t\tlogger.info(&quot;device Response Content Type::&quot; + deviceResponseContentType);\r\n    \t\tif (httpURLConnection.getResponseCode() == HttpURLConnection.HTTP_OK) {\r\n    \t\t\tbufferedReader = new BufferedReader(new InputStreamReader(httpURLConnection.getInputStream()));\r\n    \t\t\tdeviceResponse = bufferedReader.lines().collect(Collectors.joining(&quot;\\n&quot;));\r\n    \t\t\tXWCConnectorSupplementalLogging.logXML(logger, &quot;plr&quot;, &quot;Device Request Output&quot;, deviceResponse);\r\n    \t\t} else {\r\n    \t\t\ttry {\r\n    \t\t\t\tInputStream ip = httpURLConnection.getInputStream();\r\n    \t\t\t\tString info = new BufferedReader(new InputStreamReader(ip)).lines().collect(Collectors.joining(&quot;\\n&quot;));\r\n    \t\t\t\tdeviceResponse = info;\r\n    \t\t\t\tXWCConnectorSupplementalLogging.logXML(logger, &quot;plr&quot;, &quot;Device Request Output&quot;, info);\r\n    \t\t\t} catch (Exception e) {\r\n    \t\t\t\ttry {\r\n    \t\t\t\t\tInputStream es = httpURLConnection.getErrorStream();\r\n    \t\t\t\t\tString error = new BufferedReader(new InputStreamReader(es)).lines()\r\n    \t\t\t\t\t\t\t.collect(Collectors.joining(&quot;\\n&quot;));\r\n    \t\t\t\t\tif(httpURLConnection.getResponseCode() != HttpURLConnection.HTTP_NOT_FOUND) {\r\n    \t\t\t\t\t\tdeviceResponse = error;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\tXWCConnectorSupplementalLogging.logXML(logger, &quot;plr&quot;, &quot;Device Request Error&quot;, error);\r\n    \t\t\t\t} catch (Exception e1) {\r\n    \t\t\t\t\tlogger.severe(&quot;Unable to read Request error or output&quot;);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}","title":"http response multipart binary File in java","body":"<p>I am not able to read multipart file from the http response. The response contains the MIME Boundary and content transfer encoding - binary. we need to read the date from the response and send the request to another http post method. here we are facing two issues.</p>\n<ol>\n<li>Not able to read the binary file properly from the http response.</li>\n<li>Not able to form the multipart file to send the request.</li>\n</ol>\n<p>when I have send that multipart form data in http post method. I am not receiving proper response. beacuse of the multipart binary encoding file. please provide the sample to read the multipart binary file and how to form and send the multipart file.</p>\n<pre><code>private void postLocalRequest(URL url, byte[] requestBody, String contentType, String authHeader)\n            throws IOException, ProtocolException, Exception {\n        logger.info(&quot;local request URL:::&quot; + url);\n        logger.info(&quot;local request content type:::&quot; + contentType);\n        HttpURLConnection httpURLConnection = (HttpURLConnection) url.openConnection();\n        httpURLConnection.setRequestMethod(&quot;POST&quot;);\n        if (!authHeader.isEmpty()) {\n            httpURLConnection.setRequestProperty(&quot;Authorization&quot;, authHeader);\n        }\n        httpURLConnection.addRequestProperty(&quot;Accept&quot;, &quot;application/json; charset=UTF-8&quot;);\n        httpURLConnection.setRequestProperty(&quot;Content-Type&quot;, contentType);\n        httpURLConnection.setDoOutput(true);\n        httpURLConnection.setDoInput(true);\n        OutputStream outputStream = httpURLConnection.getOutputStream();\n        outputStream.write(requestBody);\n        outputStream.flush();\n        logger.info(&quot;waiting for local response&quot;);\n        BufferedReader bufferedReader = null;\n        logger.info(&quot;http response code :::&quot; + httpURLConnection.getResponseCode());\n\n        deviceResponse = &quot;&quot;;\n        deviceResponseContentType = httpURLConnection.getContentType();\n        logger.info(&quot;device Response Content Type::&quot; + deviceResponseContentType);\n        if (httpURLConnection.getResponseCode() == HttpURLConnection.HTTP_OK) {\n            bufferedReader = new BufferedReader(new InputStreamReader(httpURLConnection.getInputStream()));\n            deviceResponse = bufferedReader.lines().collect(Collectors.joining(&quot;\\n&quot;));\n            XWCConnectorSupplementalLogging.logXML(logger, &quot;plr&quot;, &quot;Device Request Output&quot;, deviceResponse);\n        } else {\n            try {\n                InputStream ip = httpURLConnection.getInputStream();\n                String info = new BufferedReader(new InputStreamReader(ip)).lines().collect(Collectors.joining(&quot;\\n&quot;));\n                deviceResponse = info;\n                XWCConnectorSupplementalLogging.logXML(logger, &quot;plr&quot;, &quot;Device Request Output&quot;, info);\n            } catch (Exception e) {\n                try {\n                    InputStream es = httpURLConnection.getErrorStream();\n                    String error = new BufferedReader(new InputStreamReader(es)).lines()\n                            .collect(Collectors.joining(&quot;\\n&quot;));\n                    if(httpURLConnection.getResponseCode() != HttpURLConnection.HTTP_NOT_FOUND) {\n                        deviceResponse = error;\n                    }\n                    XWCConnectorSupplementalLogging.logXML(logger, &quot;plr&quot;, &quot;Device Request Error&quot;, error);\n                } catch (Exception e1) {\n                    logger.severe(&quot;Unable to read Request error or output&quot;);\n                }\n            }\n        }\n    }\n</code></pre>\n"},{"tags":["java","json","string","exception","aws-api-gateway"],"comments":[{"owner":{"account_id":7339794,"reputation":2468,"user_id":5589820,"display_name":"Mehmet G&#252;ng&#246;ren"},"score":0,"creation_date":1674982548,"post_id":75273593,"comment_id":132826932,"body_markdown":"Please share your input you passed from client","body":"Please share your input you passed from client"},{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":0,"creation_date":1674986617,"post_id":75273593,"comment_id":132827515,"body_markdown":"Which JSON library are you using?","body":"Which JSON library are you using?"},{"owner":{"account_id":15801712,"reputation":1294,"user_id":11402025,"display_name":"Tanu"},"score":0,"creation_date":1675007480,"post_id":75273593,"comment_id":132831148,"body_markdown":"import org.json.JSONObject;","body":"import org.json.JSONObject;"}],"owner":{"account_id":15801712,"reputation":1294,"user_id":11402025,"display_name":"Tanu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":309,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675058460,"creation_date":1674981458,"question_id":75273593,"body_markdown":"I have the following code. \r\n\r\nThis is the correct input which will not throw an error or exception.\r\n\r\n```\r\n{\r\nname : &quot;Hello&quot;\r\nage : 24\r\n}\r\n```\r\n\r\n```\r\n    public APIGatewayProxyResponseEvent handleRequest(final APIGatewayProxyRequestEvent event, final Context context) {\r\n                 String requestString = event.getBody();\r\n                 JSONObject jsonObject = new JSONObject(requestString);\r\n                 if (!Strings.isNullOrEmpty(jsonObject.getString(&quot;name&quot;)) {\r\n                    //blah blah\r\n                 } else {\r\n            (!Strings.isNullOrEmpty(jsonObject.getString(&quot;fullName&quot;)) {\r\n               //blah blah\r\n                   \r\n        }\r\n```\r\n\r\n```\r\n{\r\nfullName: &quot;Hello&quot;\r\nage: 24\r\n}\r\n```\r\nIf I do not pass the name, but pass fullName I get an error\r\n\r\njsonObject.getString(&quot;name&quot;) is throwing an exception so my code never reaches the else block. What is the best way to read and process APIGatewayProxyRequestEvent. Both the request body are valid cases.\r\n\r\n\r\nThank you.\r\n\r\n","title":"How to process APIGatewayProxyRequestEvent event body as a Json","body":"<p>I have the following code.</p>\n<p>This is the correct input which will not throw an error or exception.</p>\n<pre><code>{\nname : &quot;Hello&quot;\nage : 24\n}\n</code></pre>\n<pre><code>    public APIGatewayProxyResponseEvent handleRequest(final APIGatewayProxyRequestEvent event, final Context context) {\n                 String requestString = event.getBody();\n                 JSONObject jsonObject = new JSONObject(requestString);\n                 if (!Strings.isNullOrEmpty(jsonObject.getString(&quot;name&quot;)) {\n                    //blah blah\n                 } else {\n            (!Strings.isNullOrEmpty(jsonObject.getString(&quot;fullName&quot;)) {\n               //blah blah\n                   \n        }\n</code></pre>\n<pre><code>{\nfullName: &quot;Hello&quot;\nage: 24\n}\n</code></pre>\n<p>If I do not pass the name, but pass fullName I get an error</p>\n<p>jsonObject.getString(&quot;name&quot;) is throwing an exception so my code never reaches the else block. What is the best way to read and process APIGatewayProxyRequestEvent. Both the request body are valid cases.</p>\n<p>Thank you.</p>\n"},{"tags":["java","spring","spring-aop","jbehave","dynamic-proxy"],"answers":[{"tags":[],"owner":{"account_id":14709639,"reputation":966,"user_id":10623338,"display_name":"John Allison"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1571232240,"creation_date":1571232240,"answer_id":58414450,"question_id":58397235,"body_markdown":"I&#39;ve managed to solve the problem, and the solution was trivial: the `ScenarioScope` instance in the `SpringConfiguration` class has to be managed by the Spring container rather than be created via the `new()` operator:\r\n\r\n```Java\r\n@Configuration\r\npublic class SpringConfiguration {\r\n\r\n    @Bean\r\n    public static CustomScopeConfigurer scopeConfigurer(ScenarioScope scenarioScope) {\r\n        CustomScopeConfigurer configurer = new CustomScopeConfigurer();\r\n        configurer.addScope(&quot;scenario&quot;, scenarioScope);\r\n        return configurer;\r\n    }\r\n}\r\n```","title":"A Java config analog of XML configuration not working","body":"<p>I've managed to solve the problem, and the solution was trivial: the <code>ScenarioScope</code> instance in the <code>SpringConfiguration</code> class has to be managed by the Spring container rather than be created via the <code>new()</code> operator:</p>\n\n<pre><code>@Configuration\npublic class SpringConfiguration {\n\n    @Bean\n    public static CustomScopeConfigurer scopeConfigurer(ScenarioScope scenarioScope) {\n        CustomScopeConfigurer configurer = new CustomScopeConfigurer();\n        configurer.addScope(\"scenario\", scenarioScope);\n        return configurer;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":14709639,"reputation":966,"user_id":10623338,"display_name":"John Allison"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":470,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":58414450,"answer_count":1,"score":0,"last_activity_date":1675057574,"creation_date":1571150500,"question_id":58397235,"body_markdown":"TL/DR: The problem boils down to creating a custom Spring scope, injecting a `prototype`-like scoped bean into a singleton with `proxyMode = ScopedProxyMode.TARGET_CLASS` but still getting a singleton in the Java config version of the configuration (whereas it works fine with XML).\r\n\r\n**UPDATE:** Problem solved, see answer.\r\n\r\n-----\r\nI&#39;m using jBehave to write BDD test scenarios for our Spring application. We recently thought that we need independence in executing test scenarios (meaning that test context has to be reset before each scenario) and found [this][1] article on the web that addresses exactly the issue we&#39;re dealing with.\r\n\r\nThe article advises creating a custom Spring `Scenario` scope, assigning it to the class that represents test context and injecting an AOP proxy instead of the context file. \r\n\r\nI&#39;ve coded everything in accordance with the article and it worked great, but the thing is we need it in terms of Java config, not XML, and when I converted all the changes to Java config, it stopped working - meaning the `Map` in `StoryContext` was not reset after each test scenario and contained values from the previous scenario.\r\n\r\nMy changes were as follows:\r\n\r\n- marked the `ScenarioScope` class with the `@Component` annotation:\r\n```Java\r\n@Component\r\npublic class ScenarioScope implements Scope {\r\n\r\n    private final ConcurrentMap&lt;String, Object&gt; cache = new ConcurrentHashMap&lt;&gt;();\r\n\r\n    @BeforeScenario\r\n    public void startScenario() {\r\n        cache.clear();\r\n    }\r\n\r\n    @Override\r\n    public Object get(String name, ObjectFactory&lt;?&gt; objectFactory) {\r\n        return cache.putIfAbsent(name, objectFactory.getObject());\r\n    }\r\n\r\n    @Override\r\n    public Object remove(String name) {\r\n        return cache.remove(name);\r\n    }\r\n\r\n    @Override\r\n    public void registerDestructionCallback(String name, Runnable callback) {\r\n    }\r\n\r\n    @Override\r\n    public Object resolveContextualObject(String key) {\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public String getConversationId() {\r\n        return &quot;scenario scope&quot;;\r\n    }\r\n}\r\n```\r\n- created a Spring configuration class to add the new scope:\r\n\r\n```Java\r\n@Configuration\r\npublic class SpringConfiguration {\r\n\r\n    @Bean\r\n    public static CustomScopeConfigurer scopeConfigurer() {\r\n        CustomScopeConfigurer configurer = new CustomScopeConfigurer();\r\n        configurer.addScope(&quot;scenario&quot;, new ScenarioScope());\r\n        return configurer;\r\n    }\r\n}\r\n```\r\n- annotated the `StoryContext` class with the `@Component` and `@Scope` annotations:\r\n```Java\r\n@Component\r\n@Scope(value = &quot;scenario&quot;, proxyMode = ScopedProxyMode.TARGET_CLASS)\r\npublic class StoryContext {\r\n\r\n  private Map&lt;String, Object&gt; storyContext = new HashMap&lt;&gt;();\r\n\r\n  public void put(String key, Object value) {\r\n    storyContext.put(key,value);\r\n  }\r\n\r\n  public &lt;T&gt; T get(String key, Class&lt;T&gt; tClass) {\r\n    return (T) storyContext.get(key);\r\n  }\r\n\r\n  @PostConstruct\r\n  public void clearContext() {\r\n    storyContext.clear();\r\n  }\r\n}\r\n```\r\n\r\nTo my knowledge, the code above is analogous to the XML configuration, which was as follows:\r\n```Java\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n       xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n       xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot;\r\n       xsi:schemaLocation=&quot; http://www.springframework.org/schema/aop\r\n        http://www.springframework.org/schema/aop/spring-aop-3.0.xsd\r\n        http://www.springframework.org/schema/beans\r\n        http://www.springframework.org/schema/beans/spring-beans.xsd\r\n        http://www.springframework.org/schema/context\r\n        http://www.springframework.org/schema/context/spring-context.xsd&quot;&gt;\r\n    &lt;context:annotation-config /&gt;\r\n    &lt;context:component-scan base-package=&quot;foo&quot;/&gt;\r\n\r\n    &lt;bean id=&quot;scenarioScope&quot; class=&quot;foo.ScenarioScope&quot;/&gt;\r\n\r\n    &lt;bean class=&quot;foo.CustomScopeConfigurer&quot;&gt;\r\n        &lt;property name=&quot;scopes&quot;&gt;\r\n            &lt;map&gt;\r\n                &lt;entry key=&quot;scenario&quot; value-ref=&quot;scenarioScope&quot;/&gt;\r\n            &lt;/map&gt;\r\n        &lt;/property&gt;\r\n    &lt;/bean&gt;\r\n\r\n    &lt;bean id=&quot;storyContext&quot; class=&quot;foo.StoryContext&quot; scope=&quot;scenario&quot;&gt;\r\n        &lt;aop:scoped-proxy/&gt;\r\n    &lt;/bean&gt;\r\n&lt;/beans&gt;\r\n```\r\n\r\nCan anyone please point me to why the Java config is not working as expected? I&#39;ve spent some time researching stackoverflow but the majority of similar questions is solved by adding `proxyMode = ScopedProxyMode.TARGET_CLASS` to the `@Scope` annotation, which I did.\r\n\r\n**UPDATE:** So I tried to gradually move from XML to Java config by commenting / decommenting corresponding lines in the files and figured out that the problem is in this part of the code:\r\n```Java\r\n    &lt;bean class=&quot;foo.CustomScopeConfigurer&quot;&gt;\r\n        &lt;property name=&quot;scopes&quot;&gt;\r\n            &lt;map&gt;\r\n                &lt;entry key=&quot;scenario&quot; value-ref=&quot;scenarioScope&quot;/&gt;\r\n            &lt;/map&gt;\r\n        &lt;/property&gt;\r\n    &lt;/bean&gt;\r\n```\r\nWhen I replace it with\r\n```\r\n@Configuration\r\npublic class SpringConfiguration {\r\n\r\n    @Bean\r\n    public static CustomScopeConfigurer scopeConfigurer() {\r\n        CustomScopeConfigurer configurer = new CustomScopeConfigurer();\r\n        configurer.addScope(&quot;scenario&quot;, new ScenarioScope());\r\n        return configurer;\r\n    }\r\n}\r\n```\r\nthe `StoryContext` bean becomes a singleton. I tried doing it another way through registering a custom `BeanFactoryPostProcessor` and using the `registerScope()` method as described [here][2], but it didn&#39;t work either.\r\n\r\n\r\n  [1]: https://edgblog.wordpress.com/2013/12/01/scoping-jbehave-tests-with-spring/\r\n  [2]: https://www.baeldung.com/spring-custom-scope","title":"A Java config analog of XML configuration not working","body":"<p>TL/DR: The problem boils down to creating a custom Spring scope, injecting a <code>prototype</code>-like scoped bean into a singleton with <code>proxyMode = ScopedProxyMode.TARGET_CLASS</code> but still getting a singleton in the Java config version of the configuration (whereas it works fine with XML).</p>\n\n<p><strong>UPDATE:</strong> Problem solved, see answer.</p>\n\n<hr>\n\n<p>I'm using jBehave to write BDD test scenarios for our Spring application. We recently thought that we need independence in executing test scenarios (meaning that test context has to be reset before each scenario) and found <a href=\"https://edgblog.wordpress.com/2013/12/01/scoping-jbehave-tests-with-spring/\" rel=\"nofollow noreferrer\">this</a> article on the web that addresses exactly the issue we're dealing with.</p>\n\n<p>The article advises creating a custom Spring <code>Scenario</code> scope, assigning it to the class that represents test context and injecting an AOP proxy instead of the context file. </p>\n\n<p>I've coded everything in accordance with the article and it worked great, but the thing is we need it in terms of Java config, not XML, and when I converted all the changes to Java config, it stopped working - meaning the <code>Map</code> in <code>StoryContext</code> was not reset after each test scenario and contained values from the previous scenario.</p>\n\n<p>My changes were as follows:</p>\n\n<ul>\n<li>marked the <code>ScenarioScope</code> class with the <code>@Component</code> annotation:</li>\n</ul>\n\n<pre><code>@Component\npublic class ScenarioScope implements Scope {\n\n    private final ConcurrentMap&lt;String, Object&gt; cache = new ConcurrentHashMap&lt;&gt;();\n\n    @BeforeScenario\n    public void startScenario() {\n        cache.clear();\n    }\n\n    @Override\n    public Object get(String name, ObjectFactory&lt;?&gt; objectFactory) {\n        return cache.putIfAbsent(name, objectFactory.getObject());\n    }\n\n    @Override\n    public Object remove(String name) {\n        return cache.remove(name);\n    }\n\n    @Override\n    public void registerDestructionCallback(String name, Runnable callback) {\n    }\n\n    @Override\n    public Object resolveContextualObject(String key) {\n        return null;\n    }\n\n    @Override\n    public String getConversationId() {\n        return \"scenario scope\";\n    }\n}\n</code></pre>\n\n<ul>\n<li>created a Spring configuration class to add the new scope:</li>\n</ul>\n\n<pre><code>@Configuration\npublic class SpringConfiguration {\n\n    @Bean\n    public static CustomScopeConfigurer scopeConfigurer() {\n        CustomScopeConfigurer configurer = new CustomScopeConfigurer();\n        configurer.addScope(\"scenario\", new ScenarioScope());\n        return configurer;\n    }\n}\n</code></pre>\n\n<ul>\n<li>annotated the <code>StoryContext</code> class with the <code>@Component</code> and <code>@Scope</code> annotations:</li>\n</ul>\n\n<pre><code>@Component\n@Scope(value = \"scenario\", proxyMode = ScopedProxyMode.TARGET_CLASS)\npublic class StoryContext {\n\n  private Map&lt;String, Object&gt; storyContext = new HashMap&lt;&gt;();\n\n  public void put(String key, Object value) {\n    storyContext.put(key,value);\n  }\n\n  public &lt;T&gt; T get(String key, Class&lt;T&gt; tClass) {\n    return (T) storyContext.get(key);\n  }\n\n  @PostConstruct\n  public void clearContext() {\n    storyContext.clear();\n  }\n}\n</code></pre>\n\n<p>To my knowledge, the code above is analogous to the XML configuration, which was as follows:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       xmlns:context=\"http://www.springframework.org/schema/context\"\n       xmlns:aop=\"http://www.springframework.org/schema/aop\"\n       xsi:schemaLocation=\" http://www.springframework.org/schema/aop\n        http://www.springframework.org/schema/aop/spring-aop-3.0.xsd\n        http://www.springframework.org/schema/beans\n        http://www.springframework.org/schema/beans/spring-beans.xsd\n        http://www.springframework.org/schema/context\n        http://www.springframework.org/schema/context/spring-context.xsd\"&gt;\n    &lt;context:annotation-config /&gt;\n    &lt;context:component-scan base-package=\"foo\"/&gt;\n\n    &lt;bean id=\"scenarioScope\" class=\"foo.ScenarioScope\"/&gt;\n\n    &lt;bean class=\"foo.CustomScopeConfigurer\"&gt;\n        &lt;property name=\"scopes\"&gt;\n            &lt;map&gt;\n                &lt;entry key=\"scenario\" value-ref=\"scenarioScope\"/&gt;\n            &lt;/map&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=\"storyContext\" class=\"foo.StoryContext\" scope=\"scenario\"&gt;\n        &lt;aop:scoped-proxy/&gt;\n    &lt;/bean&gt;\n&lt;/beans&gt;\n</code></pre>\n\n<p>Can anyone please point me to why the Java config is not working as expected? I've spent some time researching stackoverflow but the majority of similar questions is solved by adding <code>proxyMode = ScopedProxyMode.TARGET_CLASS</code> to the <code>@Scope</code> annotation, which I did.</p>\n\n<p><strong>UPDATE:</strong> So I tried to gradually move from XML to Java config by commenting / decommenting corresponding lines in the files and figured out that the problem is in this part of the code:</p>\n\n<pre><code>    &lt;bean class=\"foo.CustomScopeConfigurer\"&gt;\n        &lt;property name=\"scopes\"&gt;\n            &lt;map&gt;\n                &lt;entry key=\"scenario\" value-ref=\"scenarioScope\"/&gt;\n            &lt;/map&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n</code></pre>\n\n<p>When I replace it with</p>\n\n<pre><code>@Configuration\npublic class SpringConfiguration {\n\n    @Bean\n    public static CustomScopeConfigurer scopeConfigurer() {\n        CustomScopeConfigurer configurer = new CustomScopeConfigurer();\n        configurer.addScope(\"scenario\", new ScenarioScope());\n        return configurer;\n    }\n}\n</code></pre>\n\n<p>the <code>StoryContext</code> bean becomes a singleton. I tried doing it another way through registering a custom <code>BeanFactoryPostProcessor</code> and using the <code>registerScope()</code> method as described <a href=\"https://www.baeldung.com/spring-custom-scope\" rel=\"nofollow noreferrer\">here</a>, but it didn't work either.</p>\n"},{"tags":["java","postgresql","spring-boot","querydsl"],"answers":[{"tags":[],"owner":{"account_id":27571279,"reputation":1,"user_id":21042422,"display_name":"Koch"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1675056401,"creation_date":1674975196,"answer_id":75273100,"question_id":72799821,"body_markdown":"Unfortunately querydsl can&#39;t access fields inside your jsonb object, just the object as a whole. But there is a way around. You can write a native query inside your repository and access it that way. Let&#39;s assume your field inside your permission object is called &#39;permissionTitle&#39;.\r\n\r\nRepo:\r\n\r\n```\r\nimport org.springframework.data.jpa.repository.Query;\r\n\r\n@Repository public interface ViewUserSiteRolePermissionRepository extends  JpaRepository&lt;ViewUserSiteRolePermission, Long&gt;, QuerydslPredicateExecutor&lt;ViewUserSiteRolePermission&gt; {\r\n\r\n@Query(\r\n      value =\r\n          &quot;SELECT * &quot;\r\n        + &quot;FROM view_user_site_role_permission &quot;\r\n        + &quot;WHERE CAST(permission -&gt;&gt; &#39;permissionTitle&#39; AS VARCHAR) = ?1&quot;,\r\n      nativeQuery = true)\r\nList&lt;ViewUserSiteRolePermission&gt; findByPermissionTitle(final String permissionTitle);\r\n}\r\n```\r\nAnd now inside your ```getALLViewUserSiteRolePermission``` function you can do something like this:\r\n\r\n```\r\nif (StringUtils.isNotBlank(permissionTitle)) {\r\n final List&lt;ViewUserSiteRolePermission&gt; found = this.viewUserSiteRolePermissionRepository.findByPermissionTitle(permissionTitle);\r\n filter.and(QViewUserSiteRolePermission.viewUserSiteRolePermission.in(found);\r\n}\r\n```\r\n","title":"How to search specified objects from a jsonb column using querydsl in java","body":"<p>Unfortunately querydsl can't access fields inside your jsonb object, just the object as a whole. But there is a way around. You can write a native query inside your repository and access it that way. Let's assume your field inside your permission object is called 'permissionTitle'.</p>\n<p>Repo:</p>\n<pre><code>import org.springframework.data.jpa.repository.Query;\n\n@Repository public interface ViewUserSiteRolePermissionRepository extends  JpaRepository&lt;ViewUserSiteRolePermission, Long&gt;, QuerydslPredicateExecutor&lt;ViewUserSiteRolePermission&gt; {\n\n@Query(\n      value =\n          &quot;SELECT * &quot;\n        + &quot;FROM view_user_site_role_permission &quot;\n        + &quot;WHERE CAST(permission -&gt;&gt; 'permissionTitle' AS VARCHAR) = ?1&quot;,\n      nativeQuery = true)\nList&lt;ViewUserSiteRolePermission&gt; findByPermissionTitle(final String permissionTitle);\n}\n</code></pre>\n<p>And now inside your <code>getALLViewUserSiteRolePermission</code> function you can do something like this:</p>\n<pre><code>if (StringUtils.isNotBlank(permissionTitle)) {\n final List&lt;ViewUserSiteRolePermission&gt; found = this.viewUserSiteRolePermissionRepository.findByPermissionTitle(permissionTitle);\n filter.and(QViewUserSiteRolePermission.viewUserSiteRolePermission.in(found);\n}\n</code></pre>\n"}],"owner":{"account_id":20152827,"reputation":37,"user_id":14779749,"display_name":"Hamza ATIF"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":465,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675056401,"creation_date":1656498470,"question_id":72799821,"body_markdown":"In my postgresql, I have a table in which there is a column of type jsonb. This is my java class of that table:\r\n\r\n    @Table(schema = &quot;public&quot;, name = &quot;vw_user_site_role_permission&quot;)\r\n    @Data\r\n    @Entity\r\n    @TypeDef(\r\n        name = &quot;json&quot;,\r\n        typeClass = JsonType.class\r\n    )\r\n    public class ViewUserSiteRolePermission extends AuditableEntity{\r\n\r\n    @Column(name = &quot;user_site_id&quot;)\r\n    private Long userSiteId;\r\n\r\n    @Column(name = &quot;user_role_id&quot;)\r\n    private Long userRoleId;\r\n\r\n    @Column(name = &quot;user_id&quot;)\r\n    private Long userId;\r\n\r\n    @Column(name = &quot;first_name&quot;)\r\n    private String firstName;\r\n\r\n    @Column(name = &quot;last_name&quot;)\r\n    private String lastName;\r\n\r\n    @Column(name = &quot;site_id&quot;)\r\n    private Long siteId;\r\n\r\n    @Column(name = &quot;site_name&quot;)\r\n    private String siteName;\r\n\r\n    @Column(name = &quot;code&quot;)\r\n    private String code;\r\n\r\n    @Column(name = &quot;role_id&quot;)\r\n    private Long roleId;\r\n\r\n    @Column(name = &quot;role_name&quot;)\r\n    private String roleName;\r\n\r\n    @Column(name = &quot;permission_group_id&quot;)\r\n    private Long permissionGroupId;\r\n\r\n    @Column(name = &quot;title&quot;)\r\n    private String title;\r\n\r\n    @Type(type = &quot;json&quot;)\r\n    @Column(name = &quot;permission&quot;, columnDefinition = &quot;jsonb&quot;)\r\n    private JsonNode permission;\r\n    }\r\n\r\nNow everything works good for other objects but i have to implement search on a field which is present in jsonb object.\r\n\r\nI am using querydsl in my repository,\r\n\r\n    @Repository\r\n    public interface ViewUserSiteRolePermissionRepository extends \r\n    JpaRepository&lt;ViewUserSiteRolePermission, Long&gt;, \r\n    QuerydslPredicateExecutor&lt;ViewUserSiteRolePermission&gt; {\r\n    }\r\n\r\nThis is my method to implement filtering and searching on other objects:\r\n\r\n    @Override\r\n    public Page&lt;ViewUserSiteRolePermission&gt; getALLViewUserSiteRolePermission(List&lt;Long&gt; userIds, \r\n    List&lt;Long&gt; userRoleIds, List&lt;Long&gt; siteIds, Long roleId, String search,String permissions, \r\n    Pageable pageable) {\r\n        BooleanBuilder filter = new BooleanBuilder();\r\n\r\n        if (!ObjectUtils.isEmpty(userIds)) {\r\n            filter.and(QViewUserSiteRolePermission.viewUserSiteRolePermission.userId.in(userIds));\r\n        }\r\n\r\n        if (!ObjectUtils.isEmpty(userRoleIds)) {         \r\n    filter.and(QViewUserSiteRolePermission.viewUserSiteRolePermission.userRoleId.in(userRoleIds));\r\n        }\r\n\r\n        if (!ObjectUtils.isEmpty(siteIds)) {\r\n            filter.and(QViewUserSiteRolePermission.viewUserSiteRolePermission.siteId.in(siteIds));\r\n        }\r\n\r\n        if (!ObjectUtils.isEmpty(roleId)) {\r\n            filter.and(QViewUserSiteRolePermission.viewUserSiteRolePermission.roleId.eq(roleId));\r\n        }\r\n\r\n        if (StringUtils.isNotBlank(search)) {\r\n\r\n            BooleanBuilder booleanBuilder = new BooleanBuilder();\r\n            Arrays.asList(search.split(&quot; &quot;)).forEach(nm -&gt;\r\n                    booleanBuilder.or(QViewUserSiteRolePermission.viewUserSiteRolePermission.siteName.containsIgnoreCase(nm))\r\n            );\r\n            filter.and(booleanBuilder);\r\n        }\r\n\r\n        return viewUserSiteRolePermissionRepository.findAll(filter, pageable);\r\n    }\r\n\r\nNow how to apply filter on jsonb object using this approach?","title":"How to search specified objects from a jsonb column using querydsl in java","body":"<p>In my postgresql, I have a table in which there is a column of type jsonb. This is my java class of that table:</p>\n<pre><code>@Table(schema = &quot;public&quot;, name = &quot;vw_user_site_role_permission&quot;)\n@Data\n@Entity\n@TypeDef(\n    name = &quot;json&quot;,\n    typeClass = JsonType.class\n)\npublic class ViewUserSiteRolePermission extends AuditableEntity{\n\n@Column(name = &quot;user_site_id&quot;)\nprivate Long userSiteId;\n\n@Column(name = &quot;user_role_id&quot;)\nprivate Long userRoleId;\n\n@Column(name = &quot;user_id&quot;)\nprivate Long userId;\n\n@Column(name = &quot;first_name&quot;)\nprivate String firstName;\n\n@Column(name = &quot;last_name&quot;)\nprivate String lastName;\n\n@Column(name = &quot;site_id&quot;)\nprivate Long siteId;\n\n@Column(name = &quot;site_name&quot;)\nprivate String siteName;\n\n@Column(name = &quot;code&quot;)\nprivate String code;\n\n@Column(name = &quot;role_id&quot;)\nprivate Long roleId;\n\n@Column(name = &quot;role_name&quot;)\nprivate String roleName;\n\n@Column(name = &quot;permission_group_id&quot;)\nprivate Long permissionGroupId;\n\n@Column(name = &quot;title&quot;)\nprivate String title;\n\n@Type(type = &quot;json&quot;)\n@Column(name = &quot;permission&quot;, columnDefinition = &quot;jsonb&quot;)\nprivate JsonNode permission;\n}\n</code></pre>\n<p>Now everything works good for other objects but i have to implement search on a field which is present in jsonb object.</p>\n<p>I am using querydsl in my repository,</p>\n<pre><code>@Repository\npublic interface ViewUserSiteRolePermissionRepository extends \nJpaRepository&lt;ViewUserSiteRolePermission, Long&gt;, \nQuerydslPredicateExecutor&lt;ViewUserSiteRolePermission&gt; {\n}\n</code></pre>\n<p>This is my method to implement filtering and searching on other objects:</p>\n<pre><code>@Override\npublic Page&lt;ViewUserSiteRolePermission&gt; getALLViewUserSiteRolePermission(List&lt;Long&gt; userIds, \nList&lt;Long&gt; userRoleIds, List&lt;Long&gt; siteIds, Long roleId, String search,String permissions, \nPageable pageable) {\n    BooleanBuilder filter = new BooleanBuilder();\n\n    if (!ObjectUtils.isEmpty(userIds)) {\n        filter.and(QViewUserSiteRolePermission.viewUserSiteRolePermission.userId.in(userIds));\n    }\n\n    if (!ObjectUtils.isEmpty(userRoleIds)) {         \nfilter.and(QViewUserSiteRolePermission.viewUserSiteRolePermission.userRoleId.in(userRoleIds));\n    }\n\n    if (!ObjectUtils.isEmpty(siteIds)) {\n        filter.and(QViewUserSiteRolePermission.viewUserSiteRolePermission.siteId.in(siteIds));\n    }\n\n    if (!ObjectUtils.isEmpty(roleId)) {\n        filter.and(QViewUserSiteRolePermission.viewUserSiteRolePermission.roleId.eq(roleId));\n    }\n\n    if (StringUtils.isNotBlank(search)) {\n\n        BooleanBuilder booleanBuilder = new BooleanBuilder();\n        Arrays.asList(search.split(&quot; &quot;)).forEach(nm -&gt;\n                booleanBuilder.or(QViewUserSiteRolePermission.viewUserSiteRolePermission.siteName.containsIgnoreCase(nm))\n        );\n        filter.and(booleanBuilder);\n    }\n\n    return viewUserSiteRolePermissionRepository.findAll(filter, pageable);\n}\n</code></pre>\n<p>Now how to apply filter on jsonb object using this approach?</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":4794280,"reputation":1654,"user_id":3872648,"accept_rate":47,"display_name":"Morteza Malvandi"},"score":0,"creation_date":1675055839,"post_id":75279923,"comment_id":132838457,"body_markdown":"Check [this post](https://stackoverflow.com/questions/59117386/how-fix-unsecured-jwt-set-uri-in-spring-security-oauth)","body":"Check <a href=\"https://stackoverflow.com/questions/59117386/how-fix-unsecured-jwt-set-uri-in-spring-security-oauth\">this post</a>"}],"answers":[{"tags":[],"owner":{"account_id":374094,"reputation":6654,"user_id":724109,"accept_rate":100,"display_name":"Avishek Bhattacharya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675055540,"creation_date":1675055540,"answer_id":75280469,"question_id":75279923,"body_markdown":"To communicate to an SSL endpoint, the client requires the to trust the endpoint. Java has a  truststore ($JAVA_HOME/lib/security/cacerts). The truststore contains a list of all known Certificate Authority (CA) certificates, and Java will only trust certificates that are signed by one of those CAs or public certificates that exist within that truststore. \r\n\r\nNow in absnce of a valid certificate you have the following opions,\r\n\r\n\r\n- to use your own `TrustManager`. However, this is not a preferable alternative. \r\n\r\n- You could try to use the `http` instead of `https` endpoint to bypass the check. \r\n\r\n- If you aren&#39;t able to use the http endpoint, you can try to add the required certificate in the java trust store. \r\nFor this, you need to download the certificate from chrome and install \r\n\r\n`keytool -import -alias example -keystore  &quot;path/to/cacets/java&quot; -file cert.cer`\r\n\r\nIf you can&#39;t do all the above steps, then you have no options but to write your own trust manager. \r\n\r\nSomething like [this][1]. You can search with how to implement own trust manager that would give ample examples. \r\n\r\n\r\n  [1]: https://dzone.com/articles/how-setup-custom","title":"Bypass SSL check on java.net.URL","body":"<p>To communicate to an SSL endpoint, the client requires the to trust the endpoint. Java has a  truststore ($JAVA_HOME/lib/security/cacerts). The truststore contains a list of all known Certificate Authority (CA) certificates, and Java will only trust certificates that are signed by one of those CAs or public certificates that exist within that truststore.</p>\n<p>Now in absnce of a valid certificate you have the following opions,</p>\n<ul>\n<li><p>to use your own <code>TrustManager</code>. However, this is not a preferable alternative.</p>\n</li>\n<li><p>You could try to use the <code>http</code> instead of <code>https</code> endpoint to bypass the check.</p>\n</li>\n<li><p>If you aren't able to use the http endpoint, you can try to add the required certificate in the java trust store.\nFor this, you need to download the certificate from chrome and install</p>\n</li>\n</ul>\n<p><code>keytool -import -alias example -keystore  &quot;path/to/cacets/java&quot; -file cert.cer</code></p>\n<p>If you can't do all the above steps, then you have no options but to write your own trust manager.</p>\n<p>Something like <a href=\"https://dzone.com/articles/how-setup-custom\" rel=\"nofollow noreferrer\">this</a>. You can search with how to implement own trust manager that would give ample examples.</p>\n"}],"owner":{"account_id":43392,"reputation":3949,"user_id":126833,"accept_rate":76,"display_name":"anjanesh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":192,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675055540,"creation_date":1675047782,"question_id":75279923,"body_markdown":"I&#39;m running Springboot on localhost at https://localhost:8443/ so some images would be at https://localhost:8443/image?image=path/to/file\r\n\r\nThing is, I need the base64 string before passing on to the template :\r\n\r\n```java\r\nimages.add(getBase64EncodedImage(&quot;https://localhost:8443/&quot; + strTemp));\r\n```\r\n\r\n```java\r\n    public String getBase64EncodedImage(String imageURL) throws IOException {\r\n        java.net.URL url = new java.net.URL(imageURL);\r\n        InputStream is = url.openStream();\r\n        byte[] bytes = org.apache.commons.io.IOUtils.toByteArray(is);\r\n        return Base64.encodeBase64String(bytes);\r\n    }\r\n```\r\n\r\nBut I get :\r\n\r\n&gt; PKIX path building failed:\r\n&gt; sun.security.provider.certpath.SunCertPathBuilderException: unable to\r\n&gt; find valid certification path to requested target","title":"Bypass SSL check on java.net.URL","body":"<p>I'm running Springboot on localhost at https://localhost:8443/ so some images would be at https://localhost:8443/image?image=path/to/file</p>\n<p>Thing is, I need the base64 string before passing on to the template :</p>\n<pre class=\"lang-java prettyprint-override\"><code>images.add(getBase64EncodedImage(&quot;https://localhost:8443/&quot; + strTemp));\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>    public String getBase64EncodedImage(String imageURL) throws IOException {\n        java.net.URL url = new java.net.URL(imageURL);\n        InputStream is = url.openStream();\n        byte[] bytes = org.apache.commons.io.IOUtils.toByteArray(is);\n        return Base64.encodeBase64String(bytes);\n    }\n</code></pre>\n<p>But I get :</p>\n<blockquote>\n<p>PKIX path building failed:\nsun.security.provider.certpath.SunCertPathBuilderException: unable to\nfind valid certification path to requested target</p>\n</blockquote>\n"},{"tags":["java","performance","rust"],"comments":[{"owner":{"account_id":9521405,"reputation":24976,"user_id":7076153,"accept_rate":50,"display_name":"Stargateur"},"score":2,"creation_date":1640736690,"post_id":70513831,"comment_id":124647311,"body_markdown":"Does this answer your question? [Why is my Rust program slower than the equivalent Java program?](https://stackoverflow.com/questions/25255736/why-is-my-rust-program-slower-than-the-equivalent-java-program)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/25255736/why-is-my-rust-program-slower-than-the-equivalent-java-program\">Why is my Rust program slower than the equivalent Java program?</a>"},{"owner":{"account_id":19799686,"reputation":83,"user_id":17784505,"display_name":"boiimakillu"},"score":0,"creation_date":1640737407,"post_id":70513831,"comment_id":124647416,"body_markdown":"Nope. As I show in the attached image, the 18 second run time is with the --release flag. It takes at least a minute to run without that flag.","body":"Nope. As I show in the attached image, the 18 second run time is with the --release flag. It takes at least a minute to run without that flag."},{"owner":{"account_id":9521405,"reputation":24976,"user_id":7076153,"accept_rate":50,"display_name":"Stargateur"},"score":1,"creation_date":1640738904,"post_id":70513831,"comment_id":124647636,"body_markdown":"please use text and not image, [edit] your question to do so","body":"please use text and not image, <a href=\"https://stackoverflow.com/posts/70513831/edit\">edit</a> your question to do so"},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1640741460,"post_id":70513831,"comment_id":124647987,"body_markdown":"Side comment: you calculate `i*i*i` and `l*l*l` repeatedly and unnecessarily... not sure if the optimizer can hoist this out of the inner loop, or if it takes a while for JIT to do that.","body":"Side comment: you calculate <code>i*i*i</code> and <code>l*l*l</code> repeatedly and unnecessarily... not sure if the optimizer can hoist this out of the inner loop, or if it takes a while for JIT to do that."}],"answers":[{"tags":[],"owner":{"account_id":9521405,"reputation":24976,"user_id":7076153,"accept_rate":50,"display_name":"Stargateur"},"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1640787706,"creation_date":1640738529,"answer_id":70514035,"question_id":70513831,"body_markdown":"The problem lies in [`RangeInclusive`][1] which can be expensive.\r\n\r\nHere&#39;s a version avoiding it:\r\n\r\n```rust\r\nfn ramanujan(m: i32) {\r\n    let maxcube = m.cbrt() + 1; // we know it can&#39;t overflow\r\n    let mut res1 = 0;\r\n    let mut res2 = 0;\r\n    let mut res3 = 0;\r\n    let mut res4 = 0;\r\n\r\n    for i in 1..maxcube {\r\n        for j in 1..maxcube {\r\n            if i * i * i + j * j * j == m {\r\n                res1 = i;\r\n                res2 = j;\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    for k in 1..maxcube {\r\n        for l in 1..maxcube {\r\n            if k == res1 || k == res2 || l == res1 || l == res2 {\r\n                continue;\r\n            }\r\n            if k * k * k + l * l * l == m {\r\n                res3 = k;\r\n                res4 = l;\r\n                break;\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nResult:\r\n\r\n```none\r\nFrom: 0.01s user 0.00s system 0% cpu 17.993 total\r\nTo: 0.00s user 0.01s system 0% cpu 3.494 total\r\n```\r\n\r\nI added a comment to [#45222][2] to draw attention to this issue.\r\n\r\n---\r\n\r\nLooks like [`for_each()`][3] allows better performance too (as `for` loops are more natural and should have the same performance, it should be considered as a bug):\r\n\r\n```rust\r\nfn ramanujan(m: i32) {\r\n    let maxcube = m.cbrt();\r\n    let mut res1 = 0;\r\n    let mut res2 = 0;\r\n    let mut res3 = 0;\r\n    let mut res4 = 0;\r\n\r\n    (1..=maxcube).for_each(|i| {\r\n        (1..=maxcube).try_for_each(|j| {\r\n            if i * i * i + j * j * j == m {\r\n                res1 = i;\r\n                res2 = j;\r\n                ControlFlow::Break(())\r\n            } else {\r\n                ControlFlow::Continue(())\r\n            }\r\n        });\r\n    });\r\n    (1..=maxcube).for_each(|k| {\r\n        (1..=maxcube).try_for_each(|l| {\r\n            if k != res1 &amp;&amp; k != res2 &amp;&amp; l != res1 &amp;&amp; l != res2 &amp;&amp; k * k * k + l * l * l == m {\r\n                res3 = k;\r\n                res4 = l;\r\n                ControlFlow::Break(())\r\n            } else {\r\n                ControlFlow::Continue(())\r\n            }\r\n        });\r\n    });\r\n}\r\n```\r\n```none\r\n0.00s user 0.01s system 0% cpu 4.029 total\r\n```\r\n\r\n\r\n  [1]: https://doc.rust-lang.org/std/ops/struct.RangeInclusive.html\r\n  [2]: https://github.com/rust-lang/rust/issues/45222#issuecomment-1002346536\r\n  [3]: https://doc.rust-lang.org/std/iter/trait.Iterator.html#method.for_each","title":"Why range / loop are slow in rust compare to java?","body":"<p>The problem lies in <a href=\"https://doc.rust-lang.org/std/ops/struct.RangeInclusive.html\" rel=\"noreferrer\"><code>RangeInclusive</code></a> which can be expensive.</p>\n<p>Here's a version avoiding it:</p>\n<pre class=\"lang-rust prettyprint-override\"><code>fn ramanujan(m: i32) {\n    let maxcube = m.cbrt() + 1; // we know it can't overflow\n    let mut res1 = 0;\n    let mut res2 = 0;\n    let mut res3 = 0;\n    let mut res4 = 0;\n\n    for i in 1..maxcube {\n        for j in 1..maxcube {\n            if i * i * i + j * j * j == m {\n                res1 = i;\n                res2 = j;\n                break;\n            }\n        }\n    }\n\n    for k in 1..maxcube {\n        for l in 1..maxcube {\n            if k == res1 || k == res2 || l == res1 || l == res2 {\n                continue;\n            }\n            if k * k * k + l * l * l == m {\n                res3 = k;\n                res4 = l;\n                break;\n            }\n        }\n    }\n}\n</code></pre>\n<p>Result:</p>\n<pre class=\"lang-none prettyprint-override\"><code>From: 0.01s user 0.00s system 0% cpu 17.993 total\nTo: 0.00s user 0.01s system 0% cpu 3.494 total\n</code></pre>\n<p>I added a comment to <a href=\"https://github.com/rust-lang/rust/issues/45222#issuecomment-1002346536\" rel=\"noreferrer\">#45222</a> to draw attention to this issue.</p>\n<hr />\n<p>Looks like <a href=\"https://doc.rust-lang.org/std/iter/trait.Iterator.html#method.for_each\" rel=\"noreferrer\"><code>for_each()</code></a> allows better performance too (as <code>for</code> loops are more natural and should have the same performance, it should be considered as a bug):</p>\n<pre class=\"lang-rust prettyprint-override\"><code>fn ramanujan(m: i32) {\n    let maxcube = m.cbrt();\n    let mut res1 = 0;\n    let mut res2 = 0;\n    let mut res3 = 0;\n    let mut res4 = 0;\n\n    (1..=maxcube).for_each(|i| {\n        (1..=maxcube).try_for_each(|j| {\n            if i * i * i + j * j * j == m {\n                res1 = i;\n                res2 = j;\n                ControlFlow::Break(())\n            } else {\n                ControlFlow::Continue(())\n            }\n        });\n    });\n    (1..=maxcube).for_each(|k| {\n        (1..=maxcube).try_for_each(|l| {\n            if k != res1 &amp;&amp; k != res2 &amp;&amp; l != res1 &amp;&amp; l != res2 &amp;&amp; k * k * k + l * l * l == m {\n                res3 = k;\n                res4 = l;\n                ControlFlow::Break(())\n            } else {\n                ControlFlow::Continue(())\n            }\n        });\n    });\n}\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>0.00s user 0.01s system 0% cpu 4.029 total\n</code></pre>\n"}],"owner":{"account_id":19799686,"reputation":83,"user_id":17784505,"display_name":"boiimakillu"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":726,"favorite_count":0,"down_vote_count":1,"up_vote_count":8,"accepted_answer_id":70514035,"answer_count":1,"score":7,"last_activity_date":1675054971,"creation_date":1640736077,"question_id":70513831,"body_markdown":"I have a program that finds, for all integers less than or equal to the input, numbers that can be represented as the sum of two cubes, twice, aka the Ramanujan&#39;s number problem. \r\n\r\nI have written this in Java and Rust, however, it runs more than twice as slow in Rust as compared to Java. \r\n\r\nIs there anything I can do to make it perform better, or otherwise improve it?\r\n\r\nRust code:\r\n```rust\r\nuse num_integer::Roots;\r\nfn main() {\r\n    let v = 984067;\r\n    // let v = 87539319;\r\n    for i in 1..=v {\r\n        ramanujan(i)\r\n    }\r\n}\r\nfn ramanujan(m: i32) {\r\n    let maxcube = m.cbrt();\r\n    let mut res1 = 0;\r\n    let mut res2 = 0;\r\n    let mut _res3 = 0;\r\n    let mut _res4 = 0;\r\n    for i in 1..=maxcube {\r\n        for j in 1..=maxcube {\r\n            if i * i * i + j * j * j == m {\r\n                res1 = i;\r\n                res2 = j;\r\n                break;\r\n            }\r\n        }\r\n    }\r\n    for k in 1..=maxcube {\r\n        for l in 1..=maxcube {\r\n            if k == res1 || k == res2 || l == res1 || l == res2 {\r\n                continue;\r\n            }\r\n            if k * k * k + l * l * l == m {\r\n                _res3 = k;\r\n                _res4 = l;\r\n                break;\r\n            }\r\n        }\r\n    }\r\n    // if ((res1 * res1 * res1) + (res2 * res2 * res2) == m) &amp;&amp; ((res3 * res3 * res3) + (res4 * res4 * res4) == m) {\r\n    //     println!(&quot;{} is representable as the sums of two different sets of two cubes!\\nThese values are {}, {}, and {}, {}.&quot;, m, res1, res2, res3, res4);\r\n    // }\r\n}\r\n```\r\nJava code:\r\n```java\r\npublic class Ramun {\r\n    public static void main(String[] args) {\r\n        int v = 984067;\r\n        // int v = 87539319;\r\n        for (int i = 1; i &lt;= v; i++) {\r\n            ramanujan(i);\r\n        }\r\n    }\r\n\r\n    public static void ramanujan(int m) {\r\n        int maxcube = (int) Math.round(Math.cbrt(m));\r\n        int res1 = 0, res2 = 0, res3 = 0, res4 = 0;\r\n        for (int i = 1; i &lt;= maxcube; i++) {\r\n            for (int j = 1; j &lt;= maxcube; j++) {\r\n                if (((i * i * i) + (j * j * j)) == m) {\r\n                    res1 = i;\r\n                    res2 = j;\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        for (int k = 1; k &lt;= maxcube; k++) {\r\n            for (int l = 1; l &lt;= maxcube; l++) {\r\n                if (k == res1 || k == res2 || l == res1 || l == res2)\r\n                    continue;\r\n                if (((k * k * k) + (l * l * l)) == m) {\r\n                    res3 = k;\r\n                    res4 = l;\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        // if (((res1 * res1 * res1) + (res2 * res2 * res2) == m) &amp;&amp; ((res3 * res3 * res3) + (res4 * res4 * res4) == m)) {\r\n        //     System.out.printf(&quot;%d is representable as the sums of two different sets of two cubes!%nThese values are %d, %d, and %d, %d.%n&quot;, m, res1, res2, res3, res4);\r\n        // }\r\n    }\r\n}\r\n```\r\n[Time output for both programs][1]\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/AEhtm.png","title":"Why range / loop are slow in rust compare to java?","body":"<p>I have a program that finds, for all integers less than or equal to the input, numbers that can be represented as the sum of two cubes, twice, aka the Ramanujan's number problem.</p>\n<p>I have written this in Java and Rust, however, it runs more than twice as slow in Rust as compared to Java.</p>\n<p>Is there anything I can do to make it perform better, or otherwise improve it?</p>\n<p>Rust code:</p>\n<pre class=\"lang-rust prettyprint-override\"><code>use num_integer::Roots;\nfn main() {\n    let v = 984067;\n    // let v = 87539319;\n    for i in 1..=v {\n        ramanujan(i)\n    }\n}\nfn ramanujan(m: i32) {\n    let maxcube = m.cbrt();\n    let mut res1 = 0;\n    let mut res2 = 0;\n    let mut _res3 = 0;\n    let mut _res4 = 0;\n    for i in 1..=maxcube {\n        for j in 1..=maxcube {\n            if i * i * i + j * j * j == m {\n                res1 = i;\n                res2 = j;\n                break;\n            }\n        }\n    }\n    for k in 1..=maxcube {\n        for l in 1..=maxcube {\n            if k == res1 || k == res2 || l == res1 || l == res2 {\n                continue;\n            }\n            if k * k * k + l * l * l == m {\n                _res3 = k;\n                _res4 = l;\n                break;\n            }\n        }\n    }\n    // if ((res1 * res1 * res1) + (res2 * res2 * res2) == m) &amp;&amp; ((res3 * res3 * res3) + (res4 * res4 * res4) == m) {\n    //     println!(&quot;{} is representable as the sums of two different sets of two cubes!\\nThese values are {}, {}, and {}, {}.&quot;, m, res1, res2, res3, res4);\n    // }\n}\n</code></pre>\n<p>Java code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Ramun {\n    public static void main(String[] args) {\n        int v = 984067;\n        // int v = 87539319;\n        for (int i = 1; i &lt;= v; i++) {\n            ramanujan(i);\n        }\n    }\n\n    public static void ramanujan(int m) {\n        int maxcube = (int) Math.round(Math.cbrt(m));\n        int res1 = 0, res2 = 0, res3 = 0, res4 = 0;\n        for (int i = 1; i &lt;= maxcube; i++) {\n            for (int j = 1; j &lt;= maxcube; j++) {\n                if (((i * i * i) + (j * j * j)) == m) {\n                    res1 = i;\n                    res2 = j;\n                    break;\n                }\n            }\n        }\n        for (int k = 1; k &lt;= maxcube; k++) {\n            for (int l = 1; l &lt;= maxcube; l++) {\n                if (k == res1 || k == res2 || l == res1 || l == res2)\n                    continue;\n                if (((k * k * k) + (l * l * l)) == m) {\n                    res3 = k;\n                    res4 = l;\n                    break;\n                }\n            }\n        }\n        // if (((res1 * res1 * res1) + (res2 * res2 * res2) == m) &amp;&amp; ((res3 * res3 * res3) + (res4 * res4 * res4) == m)) {\n        //     System.out.printf(&quot;%d is representable as the sums of two different sets of two cubes!%nThese values are %d, %d, and %d, %d.%n&quot;, m, res1, res2, res3, res4);\n        // }\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/AEhtm.png\" rel=\"noreferrer\">Time output for both programs</a></p>\n"},{"tags":["java","android","xml","android-appshortcut"],"answers":[{"tags":[],"owner":{"account_id":5251106,"reputation":2819,"user_id":4195337,"display_name":"jmart"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1528578713,"creation_date":1528578713,"answer_id":50778575,"question_id":50778003,"body_markdown":"I see a couple of things that don&#39;t look right:\r\n\r\n**On shortcut.xml:**\r\n\r\nBoth shortcuts should target the &#39;MainActivity&#39; class, as this is the point of entry and the responsible for adding the fragments to the ui. So, you need to change the targetClass on the second shortcut and target the &#39;MainActivity&#39; instead.\r\n\r\n**On the onCreate method:**\r\n\r\nWhen the action corresponds to the second shortcut, it sets the second fragment on the screen but the method goes on and sets the first fragment over it.\r\n\r\nI guess it should be an if-else:\r\n\r\n    if (Second.equals(getIntent().getAction())) {\r\n        SecondFragment secondFragment = new SecondFragment();\r\n        android.support.v4.app.FragmentTransaction fragmentTransactionTwo = getSupportFragmentManager().beginTransaction();\r\n        fragmentTransactionTwo.replace(R.id.content_main, secondFragment, &quot;fragment two&quot;);\r\n        fragmentTransactionTwo.commit();\r\n    } else {\r\n        FirstFragment firstFragment = new FirstFragment();\r\n        android.support.v4.app.FragmentTransaction fragmentTransactionOne = getSupportFragmentManager().beginTransaction();\r\n        fragmentTransactionOne.replace(R.id.content_main, firstFragment, &quot;Fragment one&quot;);\r\n        fragmentTransactionOne.commit();\r\n    }","title":"Opening a fragment via quick app shortcut","body":"<p>I see a couple of things that don't look right:</p>\n\n<p><strong>On shortcut.xml:</strong></p>\n\n<p>Both shortcuts should target the 'MainActivity' class, as this is the point of entry and the responsible for adding the fragments to the ui. So, you need to change the targetClass on the second shortcut and target the 'MainActivity' instead.</p>\n\n<p><strong>On the onCreate method:</strong></p>\n\n<p>When the action corresponds to the second shortcut, it sets the second fragment on the screen but the method goes on and sets the first fragment over it.</p>\n\n<p>I guess it should be an if-else:</p>\n\n<pre><code>if (Second.equals(getIntent().getAction())) {\n    SecondFragment secondFragment = new SecondFragment();\n    android.support.v4.app.FragmentTransaction fragmentTransactionTwo = getSupportFragmentManager().beginTransaction();\n    fragmentTransactionTwo.replace(R.id.content_main, secondFragment, \"fragment two\");\n    fragmentTransactionTwo.commit();\n} else {\n    FirstFragment firstFragment = new FirstFragment();\n    android.support.v4.app.FragmentTransaction fragmentTransactionOne = getSupportFragmentManager().beginTransaction();\n    fragmentTransactionOne.replace(R.id.content_main, firstFragment, \"Fragment one\");\n    fragmentTransactionOne.commit();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18980035,"reputation":11,"user_id":13851598,"display_name":"pipin syaepudin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1593672766,"creation_date":1593672766,"answer_id":62690574,"question_id":50778003,"body_markdown":"i have same problem like yours, i found how to move to fragment. you should hit the action. put this in onCreate, maybe this will help you\r\n\r\n    if (&quot;com.xxxxxxx.YourShortcutAction&quot;.equals(getIntent().getAction())) {\r\n            val fragment = YourFragment()\r\n            addFragment(fragment)\r\n        }\r\n\r\nim using kotlin for android","title":"Opening a fragment via quick app shortcut","body":"<p>i have same problem like yours, i found how to move to fragment. you should hit the action. put this in onCreate, maybe this will help you</p>\n<pre><code>if (&quot;com.xxxxxxx.YourShortcutAction&quot;.equals(getIntent().getAction())) {\n        val fragment = YourFragment()\n        addFragment(fragment)\n    }\n</code></pre>\n<p>im using kotlin for android</p>\n"},{"tags":[],"owner":{"account_id":9810725,"reputation":167,"user_id":7269017,"accept_rate":100,"display_name":"Jonas.S."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675054293,"creation_date":1675054293,"answer_id":75280374,"question_id":50778003,"body_markdown":"After some time I found the answer to how to open the fragment via the shortcut Kotlin:\r\n\r\n**shortcut.xml**\r\n\r\n    &lt;shortcuts xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n    &lt;shortcut\r\n        android:shortcutId=&quot;mainShortcut&quot;\r\n        android:enabled=&quot;true&quot;\r\n        android:shortcutShortLabel=&quot;@string/somestring&quot;&gt;\r\n        &lt;intent\r\n            android:action=&quot;xxx.example.workapp.test&quot;\r\n            android:targetPackage=&quot;xxx.example.workapp&quot;\r\n            android:targetClass=&quot;xxx.example.workapp.MainActivity&quot;&gt;\r\n        &lt;/intent&gt;\r\n    &lt;/shortcut&gt;\r\n&lt;/shortcuts&gt;\r\n\r\n**MainActivity**\r\n\r\n    class MainActivity : AppCompatActivity() {\r\n\r\n    private lateinit var bottomNav : BottomNavigationView\r\n\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n\r\n        super.onCreate(savedInstanceState)\r\n        setContentView(R.layout.activity_main)\r\n\r\n        loadFragment(HomeFragment())\r\n\r\n        if (&quot;xxx.example.workapp.test&quot; == intent.action) {\r\n            loadFragment(YourFragment())\r\n        }\r\n\r\n        bottomNav = findViewById(R.id.bottomNav)\r\n\r\n        bottomNav.setOnItemSelectedListener {\r\n            when (it.itemId) {\r\n\r\n                R.id.homeFragment -&gt; {\r\n                    loadFragment(HomeFragment())\r\n                    true\r\n                }\r\n\r\n                R.id.SettingsFragment -&gt; {\r\n                    loadFragment(SettingsFragment())\r\n                    true\r\n                }\r\n\r\n                else -&gt; {\r\n                    false\r\n                }\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n     private fun loadFragment(fragment: Fragment){\r\n        val transaction = supportFragmentManager.beginTransaction()\r\n        transaction.replace(R.id.container,fragment)\r\n        transaction.addToBackStack(null)\r\n        transaction.commit()\r\n    }}\r\n\r\n**AndroidManifest.xml**\r\n\r\n    ...\r\n    &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:configChanges=&quot;locale&quot;\r\n            android:exported=&quot;true&quot;\r\n            android:screenOrientation=&quot;portrait&quot; &gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n\r\n            &lt;meta-data\r\n                android:name=&quot;android.app.shortcuts&quot;\r\n                android:resource=&quot;@xml/shortcuts&quot; /&gt;\r\n\r\n        &lt;/activity&gt;\r\n    ...\r\n\r\n\r\n","title":"Opening a fragment via quick app shortcut","body":"<p>After some time I found the answer to how to open the fragment via the shortcut Kotlin:</p>\n<p><strong>shortcut.xml</strong></p>\n<pre><code>&lt;shortcuts xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n&lt;shortcut\n    android:shortcutId=&quot;mainShortcut&quot;\n    android:enabled=&quot;true&quot;\n    android:shortcutShortLabel=&quot;@string/somestring&quot;&gt;\n    &lt;intent\n        android:action=&quot;xxx.example.workapp.test&quot;\n        android:targetPackage=&quot;xxx.example.workapp&quot;\n        android:targetClass=&quot;xxx.example.workapp.MainActivity&quot;&gt;\n    &lt;/intent&gt;\n&lt;/shortcut&gt;\n</code></pre>\n\n<p><strong>MainActivity</strong></p>\n<pre><code>class MainActivity : AppCompatActivity() {\n\nprivate lateinit var bottomNav : BottomNavigationView\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n\n    loadFragment(HomeFragment())\n\n    if (&quot;xxx.example.workapp.test&quot; == intent.action) {\n        loadFragment(YourFragment())\n    }\n\n    bottomNav = findViewById(R.id.bottomNav)\n\n    bottomNav.setOnItemSelectedListener {\n        when (it.itemId) {\n\n            R.id.homeFragment -&gt; {\n                loadFragment(HomeFragment())\n                true\n            }\n\n            R.id.SettingsFragment -&gt; {\n                loadFragment(SettingsFragment())\n                true\n            }\n\n            else -&gt; {\n                false\n            }\n        }\n    }\n\n}\n\n private fun loadFragment(fragment: Fragment){\n    val transaction = supportFragmentManager.beginTransaction()\n    transaction.replace(R.id.container,fragment)\n    transaction.addToBackStack(null)\n    transaction.commit()\n}}\n</code></pre>\n<p><strong>AndroidManifest.xml</strong></p>\n<pre><code>...\n&lt;activity\n        android:name=&quot;.MainActivity&quot;\n        android:configChanges=&quot;locale&quot;\n        android:exported=&quot;true&quot;\n        android:screenOrientation=&quot;portrait&quot; &gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n            &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n        &lt;/intent-filter&gt;\n\n        &lt;meta-data\n            android:name=&quot;android.app.shortcuts&quot;\n            android:resource=&quot;@xml/shortcuts&quot; /&gt;\n\n    &lt;/activity&gt;\n...\n</code></pre>\n"}],"owner":{"account_id":11548997,"reputation":91,"user_id":8462210,"display_name":"random1132"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1207,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1675054293,"creation_date":1528574170,"question_id":50778003,"body_markdown":"Hello,                                                                   I do know that this is a duplicate question, but i was not able to find the solution from the other threads.\r\n\r\nHere is my problem,\r\nI have an app with bottom navigation bar with five fragment. I want to open the those fragment via the app shortcut.\r\n\r\nHere what i have created, \r\n\r\nshortcut.xml\r\n\r\n    &lt;shortcuts xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n    &lt;shortcut\r\n        android:shortcutId=&quot;first&quot;\r\n        android:enabled=&quot;true&quot;\r\n        android:icon=&quot;@drawable/shortcut_1&quot;\r\n        android:shortcutShortLabel=&quot;@string/shortcut_short_label_one&quot;\r\n        android:shortcutLongLabel=&quot;@string/shortcut_long_label_one&quot;\r\n        tools:targetApi=&quot;n_mr1&quot;&gt;\r\n        &lt;intent\r\n            android:action=&quot;com.xxxxxxx.xxxx.FIRST&quot;\r\n            android:targetPackage=&quot;com.xxxxxxx.xxxx.test&quot;\r\n            android:targetClass=&quot;com.xxxxxxx.xxxx.test.MainActivity&quot; /&gt;\r\n    &lt;/shortcut&gt;\r\n    &lt;!-- Specify more shortcuts here. --&gt;\r\n    &lt;shortcut\r\n        android:shortcutId=&quot;second&quot;\r\n        android:enabled=&quot;true&quot;\r\n        android:icon=&quot;@drawable/shortcut_2&quot;\r\n        android:shortcutShortLabel=&quot;@string/shortcut_short_label_two&quot;\r\n        android:shortcutLongLabel=&quot;@string/shortcut_long_label_two&quot;\r\n        tools:targetApi=&quot;n_mr1&quot;&gt;\r\n        &lt;intent\r\n            android:action=&quot;com.xxxxxxx.SECOND&quot;\r\n            android:targetPackage=&quot;com.xxxxxxx.xxxx.test&quot;\r\n            android:targetClass=&quot;com.xxxxxxx.xxxx.test.SecondFragment&quot; /&gt;\r\n    &lt;/shortcut&gt;\r\n\t&lt;/shortcut&gt; \r\n\r\nHere is the onCreate() from the MainActivity\r\n\r\n    private static final String Second = &quot;com.xxxxxxx.xxxx.SECOND&quot;;\r\n\r\n\t\t//code vomited  \r\n\t\t\r\n\t\t@Override\r\n\t\tprotected void onCreate(Bundle savedInstanceState) {\r\n\t\t\tsuper.onCreate(savedInstanceState);\r\n\t\t\tsetContentView(R.layout.activity_main);\r\n    \r\n\t\t\tif (Second.equals(getIntent().getAction())){\r\n\t\t\t\tSecondFragment secondFragment = new SecondFragment();\r\n\t\t\t\tandroid.support.v4.app.FragmentTransaction fragmentTransactionTwo = getSupportFragmentManager().beginTransaction();\r\n\t\t\t\tfragmentTransactionTwo.replace(R.id.content_main, secondFragment, &quot;Fragment two&quot;);\r\n\t\t\t\tfragmentTransactionTwo.commit();\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tBottomNavigationView navigation = findViewById(R.id.navigation);\r\n\t\t\tBottomNavigationViewHelper.disableShiftMode(navigation);     //disabling the shitty shifting mode\r\n\t\t\tnavigation.setOnNavigationItemSelectedListener(mOnNavigationItemSelectedListener);\r\n\r\n\t\t\tFirstFragment firstFragment = new FirstFragment();\r\n\t\t\tandroid.support.v4.app.FragmentTransaction fragmentTransactionOne = getSupportFragmentManager().beginTransaction();\r\n\t\t\tfragmentTransactionOne.replace(R.id.content_main, firstFragment, &quot;Fragment one&quot;);\r\n\t\t\tfragmentTransactionOne.commit();\r\n\t\t}\r\n\t\r\nHere the first activty launches fine i.e `MainActivity()`. But Click on the second shortcut nothing happens.\r\n\r\nAnyone explain me what am i doing wrong?\r\n\r\n","title":"Opening a fragment via quick app shortcut","body":"<p>Hello,                                                                   I do know that this is a duplicate question, but i was not able to find the solution from the other threads.</p>\n\n<p>Here is my problem,\nI have an app with bottom navigation bar with five fragment. I want to open the those fragment via the app shortcut.</p>\n\n<p>Here what i have created, </p>\n\n<p>shortcut.xml</p>\n\n<pre><code>&lt;shortcuts xmlns:tools=\"http://schemas.android.com/tools\"\nxmlns:android=\"http://schemas.android.com/apk/res/android\"&gt;\n&lt;shortcut\n    android:shortcutId=\"first\"\n    android:enabled=\"true\"\n    android:icon=\"@drawable/shortcut_1\"\n    android:shortcutShortLabel=\"@string/shortcut_short_label_one\"\n    android:shortcutLongLabel=\"@string/shortcut_long_label_one\"\n    tools:targetApi=\"n_mr1\"&gt;\n    &lt;intent\n        android:action=\"com.xxxxxxx.xxxx.FIRST\"\n        android:targetPackage=\"com.xxxxxxx.xxxx.test\"\n        android:targetClass=\"com.xxxxxxx.xxxx.test.MainActivity\" /&gt;\n&lt;/shortcut&gt;\n&lt;!-- Specify more shortcuts here. --&gt;\n&lt;shortcut\n    android:shortcutId=\"second\"\n    android:enabled=\"true\"\n    android:icon=\"@drawable/shortcut_2\"\n    android:shortcutShortLabel=\"@string/shortcut_short_label_two\"\n    android:shortcutLongLabel=\"@string/shortcut_long_label_two\"\n    tools:targetApi=\"n_mr1\"&gt;\n    &lt;intent\n        android:action=\"com.xxxxxxx.SECOND\"\n        android:targetPackage=\"com.xxxxxxx.xxxx.test\"\n        android:targetClass=\"com.xxxxxxx.xxxx.test.SecondFragment\" /&gt;\n&lt;/shortcut&gt;\n&lt;/shortcut&gt; \n</code></pre>\n\n<p>Here is the onCreate() from the MainActivity</p>\n\n<pre><code>private static final String Second = \"com.xxxxxxx.xxxx.SECOND\";\n\n    //code vomited  \n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        if (Second.equals(getIntent().getAction())){\n            SecondFragment secondFragment = new SecondFragment();\n            android.support.v4.app.FragmentTransaction fragmentTransactionTwo = getSupportFragmentManager().beginTransaction();\n            fragmentTransactionTwo.replace(R.id.content_main, secondFragment, \"Fragment two\");\n            fragmentTransactionTwo.commit();\n        }\n\n        BottomNavigationView navigation = findViewById(R.id.navigation);\n        BottomNavigationViewHelper.disableShiftMode(navigation);     //disabling the shitty shifting mode\n        navigation.setOnNavigationItemSelectedListener(mOnNavigationItemSelectedListener);\n\n        FirstFragment firstFragment = new FirstFragment();\n        android.support.v4.app.FragmentTransaction fragmentTransactionOne = getSupportFragmentManager().beginTransaction();\n        fragmentTransactionOne.replace(R.id.content_main, firstFragment, \"Fragment one\");\n        fragmentTransactionOne.commit();\n    }\n</code></pre>\n\n<p>Here the first activty launches fine i.e <code>MainActivity()</code>. But Click on the second shortcut nothing happens.</p>\n\n<p>Anyone explain me what am i doing wrong?</p>\n"},{"tags":["java","android","xml","android-studio"],"answers":[{"tags":[],"owner":{"account_id":7495697,"reputation":1501,"user_id":5696047,"display_name":"jayesh gurudayalani"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675053854,"creation_date":1675015776,"answer_id":75277235,"question_id":75277132,"body_markdown":"Can you change your code of ```onNavigationItemSelected``` function like mentioned below\r\n\r\n\r\n```\r\n@Override\r\npublic boolean onNavigationItemSelected(@NonNull MenuItem item) {\r\n    switch (item.getItemId()) {\r\n        case R.id.nav_policy:\r\n            Intent policyIntent = new Intent(Intent.ACTION_VIEW, Uri.parse(&quot;https://www.example.com&quot;));\r\n            startActivity(policyIntent);\r\n            break;\r\n        case R.id.nav_share:\r\n            Intent shareIntent = new Intent(Intent.ACTION_SEND);shareIntent.setType(&quot;text/plain&quot;);\r\n            shareIntent.putExtra(Intent.EXTRA_SUBJECT, &quot;Sharing URL&quot;);\r\n            shareIntent.putExtra(Intent.EXTRA_TEXT,&quot;http://play.google.com/store/apps/details?id=com.mydomain.tapp&quot;);\r\n            startActivity(shareIntent);\r\n            break;\r\n        case R.id.nav_thumb:\r\n            try {\r\n                startActivity(new Intent(Intent.ACTION_VIEW,\r\n                Uri.parse(&quot;market://details?id=&quot; + this.getPackageName())));\r\n            } catch (android.content.ActivityNotFoundException e) {\r\n                startActivity(new Intent(Intent.ACTION_VIEW,\r\n                Uri.parse(&quot;http://play.google.com/store/apps/details?id=&quot; + this.getPackageName())));\r\n            }\r\n            break;\r\n    }\r\n    \r\n    drawerLayout.closeDrawer(GravityCompat.START);\r\n    return true;\r\n\r\n}\r\n```","title":"Rate app option is called when clicking all three buttons, how do I call it only for the assigned button in android studio?","body":"<p>Can you change your code of <code>onNavigationItemSelected</code> function like mentioned below</p>\n<pre><code>@Override\npublic boolean onNavigationItemSelected(@NonNull MenuItem item) {\n    switch (item.getItemId()) {\n        case R.id.nav_policy:\n            Intent policyIntent = new Intent(Intent.ACTION_VIEW, Uri.parse(&quot;https://www.example.com&quot;));\n            startActivity(policyIntent);\n            break;\n        case R.id.nav_share:\n            Intent shareIntent = new Intent(Intent.ACTION_SEND);shareIntent.setType(&quot;text/plain&quot;);\n            shareIntent.putExtra(Intent.EXTRA_SUBJECT, &quot;Sharing URL&quot;);\n            shareIntent.putExtra(Intent.EXTRA_TEXT,&quot;http://play.google.com/store/apps/details?id=com.mydomain.tapp&quot;);\n            startActivity(shareIntent);\n            break;\n        case R.id.nav_thumb:\n            try {\n                startActivity(new Intent(Intent.ACTION_VIEW,\n                Uri.parse(&quot;market://details?id=&quot; + this.getPackageName())));\n            } catch (android.content.ActivityNotFoundException e) {\n                startActivity(new Intent(Intent.ACTION_VIEW,\n                Uri.parse(&quot;http://play.google.com/store/apps/details?id=&quot; + this.getPackageName())));\n            }\n            break;\n    }\n    \n    drawerLayout.closeDrawer(GravityCompat.START);\n    return true;\n\n}\n</code></pre>\n"}],"owner":{"account_id":27471919,"reputation":47,"user_id":20960654,"display_name":"Marfog509"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675053854,"creation_date":1675015053,"question_id":75277132,"body_markdown":"I have three options in my app where a user can either, rate my app, share the app or visit the privacy policy page. However when I added the rate app section code to my app it opens up the same window when clicking all three buttons. How do I fix this so that the rate my app only opens up to the rate app button only and not for all three buttons?\r\n\r\nThis is the current code that I have for all three options in my app using android studio. This code is located in my MainActivity.java class.\r\n\r\n      @Override\r\n    public boolean onNavigationItemSelected(@NonNull MenuItem item) {\r\n        switch (item.getItemId()) {\r\n            case R.id.nav_policy:\r\n                Intent intent = new Intent(Intent.ACTION_VIEW, Uri.parse(&quot;https://www.example.com&quot;));\r\n                startActivity(intent);\r\n                break;\r\n        }\r\n        switch (item.getItemId()) {\r\n            case R.id.nav_share:\r\n                Intent intent = new Intent(Intent.ACTION_SEND);intent.setType(&quot;text/plain&quot;);\r\n                intent.putExtra(Intent.EXTRA_SUBJECT, &quot;Sharing URL&quot;);\r\n                intent.putExtra(Intent.EXTRA_TEXT,&quot;http://play.google.com/store/apps/details?id=com.mydomain.tapp&quot;);\r\n                startActivity(intent);\r\n                break;\r\n        }\r\n        try {\r\n            startActivity(new Intent(Intent.ACTION_VIEW,\r\n                    Uri.parse(&quot;market://details?id=&quot; + this.getPackageName())));\r\n        } catch (android.content.ActivityNotFoundException e) {\r\n            startActivity(new Intent(Intent.ACTION_VIEW,\r\n                    Uri.parse(&quot;http://play.google.com/store/apps/details?id=&quot; + this.getPackageName())));\r\n        }\r\n        drawerLayout.closeDrawer(GravityCompat.START);\r\n        return true;\r\n\r\n    }\r\n\r\nAnd this is the segment which I added which should carry out the function of rate my app by sending the user to the rate app section of my app.\r\n\r\n    try {\r\n            startActivity(new Intent(Intent.ACTION_VIEW,\r\n                    Uri.parse(&quot;market://details?id=&quot; + this.getPackageName())));\r\n        } catch (android.content.ActivityNotFoundException e) {\r\n            startActivity(new Intent(Intent.ACTION_VIEW,\r\n                    Uri.parse(&quot;http://play.google.com/store/apps/details?id=&quot; + this.getPackageName())));\r\n        }\r\n\r\nAlso my navigation menu code in xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n\r\n    &lt;group android:checkableBehavior=&quot;single&quot;&gt;\r\n        &lt;item android:id=&quot;@+id/nav_share&quot;\r\n            android:title=&quot;Share App&quot;\r\n            android:icon=&quot;@drawable/ic_share&quot;&gt;\r\n        &lt;/item&gt;\r\n        &lt;item android:id=&quot;@+id/nav_thumb&quot;\r\n            android:title=&quot;Rate App&quot;\r\n            android:icon=&quot;@drawable/ic_thumb&quot;&gt;\r\n        &lt;/item&gt;\r\n        &lt;item android:id=&quot;@+id/nav_policy&quot;\r\n            android:title=&quot;Privacy Policy&quot;\r\n            android:icon=&quot;@drawable/ic_lock&quot;&gt;\r\n        &lt;/item&gt;\r\n    &lt;/group&gt;\r\n&lt;/menu&gt;\r\n\r\nHow do I fix this problem?","title":"Rate app option is called when clicking all three buttons, how do I call it only for the assigned button in android studio?","body":"<p>I have three options in my app where a user can either, rate my app, share the app or visit the privacy policy page. However when I added the rate app section code to my app it opens up the same window when clicking all three buttons. How do I fix this so that the rate my app only opens up to the rate app button only and not for all three buttons?</p>\n<p>This is the current code that I have for all three options in my app using android studio. This code is located in my MainActivity.java class.</p>\n<pre><code>  @Override\npublic boolean onNavigationItemSelected(@NonNull MenuItem item) {\n    switch (item.getItemId()) {\n        case R.id.nav_policy:\n            Intent intent = new Intent(Intent.ACTION_VIEW, Uri.parse(&quot;https://www.example.com&quot;));\n            startActivity(intent);\n            break;\n    }\n    switch (item.getItemId()) {\n        case R.id.nav_share:\n            Intent intent = new Intent(Intent.ACTION_SEND);intent.setType(&quot;text/plain&quot;);\n            intent.putExtra(Intent.EXTRA_SUBJECT, &quot;Sharing URL&quot;);\n            intent.putExtra(Intent.EXTRA_TEXT,&quot;http://play.google.com/store/apps/details?id=com.mydomain.tapp&quot;);\n            startActivity(intent);\n            break;\n    }\n    try {\n        startActivity(new Intent(Intent.ACTION_VIEW,\n                Uri.parse(&quot;market://details?id=&quot; + this.getPackageName())));\n    } catch (android.content.ActivityNotFoundException e) {\n        startActivity(new Intent(Intent.ACTION_VIEW,\n                Uri.parse(&quot;http://play.google.com/store/apps/details?id=&quot; + this.getPackageName())));\n    }\n    drawerLayout.closeDrawer(GravityCompat.START);\n    return true;\n\n}\n</code></pre>\n<p>And this is the segment which I added which should carry out the function of rate my app by sending the user to the rate app section of my app.</p>\n<pre><code>try {\n        startActivity(new Intent(Intent.ACTION_VIEW,\n                Uri.parse(&quot;market://details?id=&quot; + this.getPackageName())));\n    } catch (android.content.ActivityNotFoundException e) {\n        startActivity(new Intent(Intent.ACTION_VIEW,\n                Uri.parse(&quot;http://play.google.com/store/apps/details?id=&quot; + this.getPackageName())));\n    }\n</code></pre>\n<p>Also my navigation menu code in xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n</code></pre>\n\n<pre><code>&lt;group android:checkableBehavior=&quot;single&quot;&gt;\n    &lt;item android:id=&quot;@+id/nav_share&quot;\n        android:title=&quot;Share App&quot;\n        android:icon=&quot;@drawable/ic_share&quot;&gt;\n    &lt;/item&gt;\n    &lt;item android:id=&quot;@+id/nav_thumb&quot;\n        android:title=&quot;Rate App&quot;\n        android:icon=&quot;@drawable/ic_thumb&quot;&gt;\n    &lt;/item&gt;\n    &lt;item android:id=&quot;@+id/nav_policy&quot;\n        android:title=&quot;Privacy Policy&quot;\n        android:icon=&quot;@drawable/ic_lock&quot;&gt;\n    &lt;/item&gt;\n&lt;/group&gt;\n</code></pre>\n\n<p>How do I fix this problem?</p>\n"},{"tags":["java","json"],"answers":[{"tags":[],"owner":{"account_id":1274782,"reputation":12266,"user_id":1230257,"accept_rate":35,"display_name":"Danyal Sandeelo"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1426488074,"creation_date":1426488074,"answer_id":29070923,"question_id":29070865,"body_markdown":"    String data= json.toString();\r\n    data=data.replace(&quot;serviceCentreLon&quot;,&quot;longitude&quot;);\r\n    data=data.replace(&quot;serviceCentreLat&quot;,&quot;latitude&quot;);\r\n\r\n\r\nconvert back to json object","title":"How to rename key in JSONObject using java?","body":"<pre><code>String data= json.toString();\ndata=data.replace(\"serviceCentreLon\",\"longitude\");\ndata=data.replace(\"serviceCentreLat\",\"latitude\");\n</code></pre>\n\n<p>convert back to json object</p>\n"},{"tags":[],"owner":{"account_id":5100086,"reputation":1138,"user_id":4089957,"display_name":"prasad vsv"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1426488095,"creation_date":1426488095,"answer_id":29070930,"question_id":29070865,"body_markdown":"Have an object that maps to this object data structure.\r\n\r\nUse GSON parser or Jackson parser to convert this json into POJO.\r\n\r\nThen map this object to another Java Object with required configuration\r\n\r\nConvert that POJO back to json using the same GSON parsers.\r\n\r\n\r\n----------\r\nrefer this for further reference\r\n\r\nhttp://www.mkyong.com/java/how-do-convert-java-object-to-from-json-format-gson-api/","title":"How to rename key in JSONObject using java?","body":"<p>Have an object that maps to this object data structure.</p>\n\n<p>Use GSON parser or Jackson parser to convert this json into POJO.</p>\n\n<p>Then map this object to another Java Object with required configuration</p>\n\n<p>Convert that POJO back to json using the same GSON parsers.</p>\n\n<hr>\n\n<p>refer this for further reference</p>\n\n<p><a href=\"http://www.mkyong.com/java/how-do-convert-java-object-to-from-json-format-gson-api/\" rel=\"nofollow\">http://www.mkyong.com/java/how-do-convert-java-object-to-from-json-format-gson-api/</a></p>\n"},{"tags":[],"owner":{"account_id":1101474,"reputation":2422,"user_id":1093787,"accept_rate":100,"display_name":"Edi G."},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1426489317,"creation_date":1426488225,"answer_id":29070952,"question_id":29070865,"body_markdown":"I&#39;m not sure whether I get your question right, but shouldn&#39;t the following work?\r\n\r\nYou could use a regular expression to replace the keys, for example:\r\n\r\n    String str = myJsonObject.toString();\r\n    str = str.replace(/&quot;serviceCentreLon&quot;:/g, &#39;&quot;longitude&quot;:&#39;);\r\n    str = str.replace(/&quot;serviceCentreLat&quot;:/g, &#39;&quot;latitude&quot;:&#39;);\r\n\r\nIt&#39;s not as &quot;clean&quot;, but it might get the job done fast.\r\n","title":"How to rename key in JSONObject using java?","body":"<p>I'm not sure whether I get your question right, but shouldn't the following work?</p>\n\n<p>You could use a regular expression to replace the keys, for example:</p>\n\n<pre><code>String str = myJsonObject.toString();\nstr = str.replace(/\"serviceCentreLon\":/g, '\"longitude\":');\nstr = str.replace(/\"serviceCentreLat\":/g, '\"latitude\":');\n</code></pre>\n\n<p>It's not as \"clean\", but it might get the job done fast.</p>\n"},{"tags":[],"owner":{"account_id":37136,"reputation":57812,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"down_vote_count":0,"up_vote_count":20,"is_accepted":true,"score":20,"last_activity_date":1426488485,"creation_date":1426488485,"answer_id":29071018,"question_id":29070865,"body_markdown":"Assuming you&#39;re using the json.org library: once you have a JSONObject, why not just do this?\r\n\r\n    obj.put(&quot;longitude&quot;, obj.get(&quot;serviceCentreLon&quot;));\r\n    obj.remove(&quot;serviceCentreLon&quot;);\r\n    obj.put(&quot;latitude&quot;, obj.get(&quot;serviceCentreLat&quot;));\r\n    obj.remove(&quot;serviceCentreLat&quot;);\r\n\r\nYou could create a `rename` method that does this (then call it twice), but that&#39;s probably overkill if these are the *only* fields you&#39;re renaming.","title":"How to rename key in JSONObject using java?","body":"<p>Assuming you're using the json.org library: once you have a JSONObject, why not just do this?</p>\n\n<pre><code>obj.put(\"longitude\", obj.get(\"serviceCentreLon\"));\nobj.remove(\"serviceCentreLon\");\nobj.put(\"latitude\", obj.get(\"serviceCentreLat\"));\nobj.remove(\"serviceCentreLat\");\n</code></pre>\n\n<p>You could create a <code>rename</code> method that does this (then call it twice), but that's probably overkill if these are the <em>only</em> fields you're renaming.</p>\n"},{"tags":[],"owner":{"account_id":273373,"reputation":1446,"user_id":564932,"display_name":"northernman"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1452056753,"creation_date":1452056753,"answer_id":34625989,"question_id":29070865,"body_markdown":"To build on Danyal Sandeelo&#39;s approach, instead of:\r\n\r\n    data=data.replace(&quot;serviceCentreLon&quot;,&quot;longitude&quot;);\r\n\r\nuse\r\n\r\n    data=data.replace(&quot;\\&quot;serviceCentreLon\\&quot;:&quot;,&quot;\\&quot;longitude\\&quot;:&quot;);\r\n\r\nThis method explicitly matches the json key syntax, and avoids obscure errors where the key value is present as valid data elsewhere in the json string.\r\n ","title":"How to rename key in JSONObject using java?","body":"<p>To build on Danyal Sandeelo's approach, instead of:</p>\n\n<pre><code>data=data.replace(\"serviceCentreLon\",\"longitude\");\n</code></pre>\n\n<p>use</p>\n\n<pre><code>data=data.replace(\"\\\"serviceCentreLon\\\":\",\"\\\"longitude\\\":\");\n</code></pre>\n\n<p>This method explicitly matches the json key syntax, and avoids obscure errors where the key value is present as valid data elsewhere in the json string.</p>\n"},{"tags":[],"owner":{"account_id":1069193,"reputation":43,"user_id":6219531,"display_name":"vijayakanth p madhavan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1514390197,"creation_date":1514390197,"answer_id":47995057,"question_id":29070865,"body_markdown":"The best way to approach the problem is to parse the JSON data and then replace the key. A number of parsers are available -  google gson, Jackson serializer de-serializers, org.json.me are a few such java libraries to handle JSON data.\r\n\r\n\r\nhttp://www.mkyong.com/java/how-do-convert-java-object-to-from-json-format-gson-api/\r\n\r\nis a good way to deal with it if you have a pretty generic and relatively huge JSON data. Of course, you have to spend time in learning the library and how to use it well.\r\n\r\nhttp://www.baeldung.com/jackson-map is another such parser.\r\n\r\nhttps://stleary.github.io/JSON-java/ is the simplest one especially if you don&#39;t want any serious serialization or deserialization ","title":"How to rename key in JSONObject using java?","body":"<p>The best way to approach the problem is to parse the JSON data and then replace the key. A number of parsers are available -  google gson, Jackson serializer de-serializers, org.json.me are a few such java libraries to handle JSON data.</p>\n\n<p><a href=\"http://www.mkyong.com/java/how-do-convert-java-object-to-from-json-format-gson-api/\" rel=\"nofollow noreferrer\">http://www.mkyong.com/java/how-do-convert-java-object-to-from-json-format-gson-api/</a></p>\n\n<p>is a good way to deal with it if you have a pretty generic and relatively huge JSON data. Of course, you have to spend time in learning the library and how to use it well.</p>\n\n<p><a href=\"http://www.baeldung.com/jackson-map\" rel=\"nofollow noreferrer\">http://www.baeldung.com/jackson-map</a> is another such parser.</p>\n\n<p><a href=\"https://stleary.github.io/JSON-java/\" rel=\"nofollow noreferrer\">https://stleary.github.io/JSON-java/</a> is the simplest one especially if you don't want any serious serialization or deserialization </p>\n"},{"tags":[],"owner":{"account_id":4441937,"reputation":136,"user_id":9141838,"display_name":"Yahia El-Tayeb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656336766,"creation_date":1656336766,"answer_id":72772994,"question_id":29070865,"body_markdown":"I faced this problem during my work so I&#39;ve made a useful `Utils` class and I want to share it with you.\r\n\r\n```\r\npackage net.so.json;\r\n\r\nimport java.util.List;\r\nimport java.util.Map;\r\nimport java.util.stream.Collectors;\r\n\r\nimport org.json.JSONObject;\r\n\r\npublic class Utils {\r\n\t\r\n\t/**\r\n\t * replace json object keys with the new one\r\n\t * @param jsonString represents json object as string\r\n\t * @param oldJsonKeyNewJsonKeyMap map its key old json key &amp; its value new key name if nested json key you have traverse\r\n\t * through it using . example (root.coutry, count) &quot;root.country&quot; means country is a key inside root object\r\n\t * and &quot;count&quot; is the new name for country key\r\n\t * Also, if the value for the map key is null, this key will be removed from json\r\n\t */\r\n\tpublic static void replaceJsonKeys(final JSONObject jsonObject, final Map&lt;String, String&gt; oldJsonKeyNewJsonKeyMap) {\r\n\t\tif (null == jsonObject || null == oldJsonKeyNewJsonKeyMap) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\t// sort the old json keys descending because we want to replace the name of the inner most key first, then \r\n\t\t// the outer one\r\n\t\tfinal List&lt;String&gt; oldJsonKeys = oldJsonKeyNewJsonKeyMap.keySet().stream().sorted((k2, k1) -&gt; k1.compareTo(k2)).collect(Collectors.toList());\r\n\t\t\r\n\t\toldJsonKeys.forEach(k -&gt; {\r\n\t\t\t// split old key, remember old key is something like than root.country\r\n\t\t\tfinal String[] oldJsonKeyArr = k.split(&quot;\\\\.&quot;);\r\n\t\t\t\r\n\t\t\tfinal int N = oldJsonKeyArr.length;\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t// get the object hold that old key\r\n\t\t\tJSONObject tempJsonObject = jsonObject;\r\n\t\t\tfor (int i = 0; i &lt; N - 1; i++)\r\n\t\t\t\ttempJsonObject = tempJsonObject.getJSONObject(oldJsonKeyArr[i]);\r\n\t\t\t\r\n\t\t\tfinal String newJsonKey = oldJsonKeyNewJsonKeyMap.get(k);\r\n\t\t\t\r\n\t\t\t// if value of the map for a give old json key is null, we just remove that key from json object\r\n\t\t\tif (!&quot;null&quot;.equalsIgnoreCase(newJsonKey))\r\n\t\t\t\ttempJsonObject.put(newJsonKey, tempJsonObject.get(oldJsonKeyArr[N - 1]));\r\n\t\t\t\r\n\t\t\t// remove the old json key\r\n\t\t\ttempJsonObject.remove(oldJsonKeyArr[N - 1]);\r\n\t\t\r\n\t\t});\r\n\t\t\r\n\t\t\t\r\n\t\t\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\nyou can test this class by running `App`\r\n```\r\npackage net.so.json;\r\n\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\nimport org.json.JSONObject;\r\n\r\npublic class App {\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tfinal String jsonString = &quot;{\\&quot;root\\&quot;:{\\&quot;country\\&quot;: \\&quot;test-country\\&quot;, \\&quot;city\\&quot;: \\&quot;test-city\\&quot;}}&quot;;\r\n\t\tfinal JSONObject jsonObject = new JSONObject(jsonString);\r\n\t\t\r\n\t\tSystem.out.println(&quot;json before replacement: &quot; + jsonObject);\r\n\t\t/* will get &gt;&gt;\r\n\t\t   {\r\n\t\t      &quot;root&quot;: {\r\n\t\t\t      &quot;country&quot;: &quot;test-country&quot;,\r\n\t\t\t      &quot;city&quot;: &quot;test-city&quot;\r\n\t\t\t   }\r\n\t\t\t}\r\n\t    */\r\n\t\t\r\n\t\t// construct map of key replacements\r\n\t\tfinal Map&lt;String, String&gt; map = new HashMap&lt;&gt;();\r\n        map.put(&quot;root&quot;, &quot;root2&quot;);\r\n\t\tmap.put(&quot;root.country&quot;, &quot;count&quot;);\r\n\t\tmap.put(&quot;root.city&quot;, &quot;null&quot;); // null as a value means we want to remove this key\r\n\t\t\r\n\t\t\r\n\t\tUtils.replaceJsonKeys(jsonObject, map);\r\n\t\t\r\n\t\tSystem.out.println(&quot;json after replacement: &quot; + jsonObject);\r\n\t\t/* will get &gt;&gt;\t  \r\n\t\t  {\r\n             &quot;root2&quot;: {\r\n               &quot;count&quot;: &quot;test-country&quot;\r\n             }\r\n          }\r\n\t    */\r\n\t\t\t\t\r\n\t}\r\n\r\n}\r\n``` ","title":"How to rename key in JSONObject using java?","body":"<p>I faced this problem during my work so I've made a useful <code>Utils</code> class and I want to share it with you.</p>\n<pre><code>package net.so.json;\n\nimport java.util.List;\nimport java.util.Map;\nimport java.util.stream.Collectors;\n\nimport org.json.JSONObject;\n\npublic class Utils {\n    \n    /**\n     * replace json object keys with the new one\n     * @param jsonString represents json object as string\n     * @param oldJsonKeyNewJsonKeyMap map its key old json key &amp; its value new key name if nested json key you have traverse\n     * through it using . example (root.coutry, count) &quot;root.country&quot; means country is a key inside root object\n     * and &quot;count&quot; is the new name for country key\n     * Also, if the value for the map key is null, this key will be removed from json\n     */\n    public static void replaceJsonKeys(final JSONObject jsonObject, final Map&lt;String, String&gt; oldJsonKeyNewJsonKeyMap) {\n        if (null == jsonObject || null == oldJsonKeyNewJsonKeyMap) {\n            return;\n        }\n        \n        \n        // sort the old json keys descending because we want to replace the name of the inner most key first, then \n        // the outer one\n        final List&lt;String&gt; oldJsonKeys = oldJsonKeyNewJsonKeyMap.keySet().stream().sorted((k2, k1) -&gt; k1.compareTo(k2)).collect(Collectors.toList());\n        \n        oldJsonKeys.forEach(k -&gt; {\n            // split old key, remember old key is something like than root.country\n            final String[] oldJsonKeyArr = k.split(&quot;\\\\.&quot;);\n            \n            final int N = oldJsonKeyArr.length;\n            \n            \n            // get the object hold that old key\n            JSONObject tempJsonObject = jsonObject;\n            for (int i = 0; i &lt; N - 1; i++)\n                tempJsonObject = tempJsonObject.getJSONObject(oldJsonKeyArr[i]);\n            \n            final String newJsonKey = oldJsonKeyNewJsonKeyMap.get(k);\n            \n            // if value of the map for a give old json key is null, we just remove that key from json object\n            if (!&quot;null&quot;.equalsIgnoreCase(newJsonKey))\n                tempJsonObject.put(newJsonKey, tempJsonObject.get(oldJsonKeyArr[N - 1]));\n            \n            // remove the old json key\n            tempJsonObject.remove(oldJsonKeyArr[N - 1]);\n        \n        });\n        \n            \n        \n    }\n\n}\n\n</code></pre>\n<p>you can test this class by running <code>App</code></p>\n<pre><code>package net.so.json;\n\nimport java.util.HashMap;\nimport java.util.Map;\n\nimport org.json.JSONObject;\n\npublic class App {\n    \n    public static void main(String[] args) {\n        final String jsonString = &quot;{\\&quot;root\\&quot;:{\\&quot;country\\&quot;: \\&quot;test-country\\&quot;, \\&quot;city\\&quot;: \\&quot;test-city\\&quot;}}&quot;;\n        final JSONObject jsonObject = new JSONObject(jsonString);\n        \n        System.out.println(&quot;json before replacement: &quot; + jsonObject);\n        /* will get &gt;&gt;\n           {\n              &quot;root&quot;: {\n                  &quot;country&quot;: &quot;test-country&quot;,\n                  &quot;city&quot;: &quot;test-city&quot;\n               }\n            }\n        */\n        \n        // construct map of key replacements\n        final Map&lt;String, String&gt; map = new HashMap&lt;&gt;();\n        map.put(&quot;root&quot;, &quot;root2&quot;);\n        map.put(&quot;root.country&quot;, &quot;count&quot;);\n        map.put(&quot;root.city&quot;, &quot;null&quot;); // null as a value means we want to remove this key\n        \n        \n        Utils.replaceJsonKeys(jsonObject, map);\n        \n        System.out.println(&quot;json after replacement: &quot; + jsonObject);\n        /* will get &gt;&gt;    \n          {\n             &quot;root2&quot;: {\n               &quot;count&quot;: &quot;test-country&quot;\n             }\n          }\n        */\n                \n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8062462,"reputation":91,"user_id":6077612,"display_name":"Keith Oakes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675053769,"creation_date":1675053769,"answer_id":75280327,"question_id":29070865,"body_markdown":"I ran into a scenario where I wanted to remove a hyphen from an unknown number of keys in a nested object.\r\n\r\nSo this: \r\n\r\n    {\r\n        &quot;-frame&quot;: {\r\n            &quot;-shape&quot;: {\r\n                &quot;-rectangle&quot;: {\r\n                    &quot;-version&quot;: &quot;1&quot;\r\n                }\r\n            },\r\n            &quot;-path&quot;: {\r\n                &quot;-geometry&quot;: {\r\n                    &quot;-start&quot;: {\r\n                        &quot;-x&quot;: &quot;26.883513064453602&quot;,\r\n                        &quot;-y&quot;: &quot;31.986310940359715&quot;\r\n                    }\r\n                },\r\n                &quot;-id&quot;: 1,\r\n                &quot;-type&quot;: &quot;dribble&quot;,\r\n                &quot;-name&quot;: &quot;MultiSegmentStencil&quot;,\r\n                &quot;-arrowhead&quot;: &quot;0&quot;\r\n            }\r\n        }\r\n    }\r\n\r\nWould be this:\r\n\r\n    {\r\n        &quot;frame&quot;: {\r\n            &quot;shape&quot;: {\r\n                &quot;rectangle&quot;: {\r\n                    &quot;version&quot;: &quot;1&quot;\r\n                }\r\n            },\r\n            &quot;path&quot;: {\r\n                &quot;geometry&quot;: {\r\n                    &quot;start&quot;: {\r\n                        &quot;x&quot;: &quot;26.883513064453602&quot;,\r\n                        &quot;y&quot;: &quot;31.986310940359715&quot;\r\n                    }\r\n                },\r\n                &quot;id&quot;: 1,\r\n                &quot;type&quot;: &quot;dribble&quot;,\r\n                &quot;name&quot;: &quot;MultiSegmentStencil&quot;,\r\n                &quot;arrowhead&quot;: &quot;0&quot;\r\n            }\r\n        }\r\n    }\r\n\r\nA recursive method(kotlin).. with a list did the trick via Jackson\r\n\r\n    fun normalizeKeys(tree: JsonNode, fieldsToBeRemoved: MutableList&lt;String&gt;) {\r\n    \r\n            val  node = tree as ContainerNode&lt;*&gt;\r\n    \r\n            val firstClassFields = node.fields()\r\n            while(firstClassFields.hasNext()) {\r\n                val field = firstClassFields.next()\r\n                if(field.key.substring(0,1) == &quot;-&quot;) {\r\n                    fieldsToBeRemoved.add(field.key)\r\n                }\r\n                if(field.value.isContainerNode) {\r\n                    normalizeKeys(field.value, fieldsToBeRemoved)\r\n                }\r\n            }\r\n    \r\n            fieldsToBeRemoved.forEach {\r\n                val fieldByKey: MutableMap.MutableEntry&lt;String, JsonNode&gt;? = getFieldByKey(tree, it)\r\n                if(fieldByKey != null) {\r\n                    (tree as ObjectNode)[fieldByKey!!.key.replaceFirst(&quot;-&quot;,&quot;&quot;)] = fieldByKey.value\r\n                    (tree as ObjectNode).remove(fieldByKey!!.key)\r\n                    }\r\n            }\r\n        }","title":"How to rename key in JSONObject using java?","body":"<p>I ran into a scenario where I wanted to remove a hyphen from an unknown number of keys in a nested object.</p>\n<p>So this:</p>\n<pre><code>{\n    &quot;-frame&quot;: {\n        &quot;-shape&quot;: {\n            &quot;-rectangle&quot;: {\n                &quot;-version&quot;: &quot;1&quot;\n            }\n        },\n        &quot;-path&quot;: {\n            &quot;-geometry&quot;: {\n                &quot;-start&quot;: {\n                    &quot;-x&quot;: &quot;26.883513064453602&quot;,\n                    &quot;-y&quot;: &quot;31.986310940359715&quot;\n                }\n            },\n            &quot;-id&quot;: 1,\n            &quot;-type&quot;: &quot;dribble&quot;,\n            &quot;-name&quot;: &quot;MultiSegmentStencil&quot;,\n            &quot;-arrowhead&quot;: &quot;0&quot;\n        }\n    }\n}\n</code></pre>\n<p>Would be this:</p>\n<pre><code>{\n    &quot;frame&quot;: {\n        &quot;shape&quot;: {\n            &quot;rectangle&quot;: {\n                &quot;version&quot;: &quot;1&quot;\n            }\n        },\n        &quot;path&quot;: {\n            &quot;geometry&quot;: {\n                &quot;start&quot;: {\n                    &quot;x&quot;: &quot;26.883513064453602&quot;,\n                    &quot;y&quot;: &quot;31.986310940359715&quot;\n                }\n            },\n            &quot;id&quot;: 1,\n            &quot;type&quot;: &quot;dribble&quot;,\n            &quot;name&quot;: &quot;MultiSegmentStencil&quot;,\n            &quot;arrowhead&quot;: &quot;0&quot;\n        }\n    }\n}\n</code></pre>\n<p>A recursive method(kotlin).. with a list did the trick via Jackson</p>\n<pre><code>fun normalizeKeys(tree: JsonNode, fieldsToBeRemoved: MutableList&lt;String&gt;) {\n\n        val  node = tree as ContainerNode&lt;*&gt;\n\n        val firstClassFields = node.fields()\n        while(firstClassFields.hasNext()) {\n            val field = firstClassFields.next()\n            if(field.key.substring(0,1) == &quot;-&quot;) {\n                fieldsToBeRemoved.add(field.key)\n            }\n            if(field.value.isContainerNode) {\n                normalizeKeys(field.value, fieldsToBeRemoved)\n            }\n        }\n\n        fieldsToBeRemoved.forEach {\n            val fieldByKey: MutableMap.MutableEntry&lt;String, JsonNode&gt;? = getFieldByKey(tree, it)\n            if(fieldByKey != null) {\n                (tree as ObjectNode)[fieldByKey!!.key.replaceFirst(&quot;-&quot;,&quot;&quot;)] = fieldByKey.value\n                (tree as ObjectNode).remove(fieldByKey!!.key)\n                }\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":2200258,"reputation":1253,"user_id":1944816,"accept_rate":52,"display_name":"Puneet Purohit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33571,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":29071018,"answer_count":8,"score":9,"last_activity_date":1675053769,"creation_date":1426487754,"question_id":29070865,"body_markdown":"I want to rename the keys of a JSON object using Java.\r\n\r\nMy input JSON is:\r\n\r\n```json\r\n{  \r\n    &quot;serviceCentreLon&quot;:73.003742,\r\n    &quot;type&quot;:&quot;servicecentre&quot;,\r\n    &quot;serviceCentreLat&quot;:19.121737,\r\n    &quot;clientId&quot;:&quot;NMMC01&quot; \r\n}\r\n```\r\n\r\nI want to change it to:\r\n\r\n```json\r\n{  \r\n    &quot;longitude&quot;:73.003742,\r\n    &quot;type&quot;:&quot;servicecentre&quot;,\r\n    &quot;latitude&quot;:19.121737,\r\n    &quot;clientId&quot;:&quot;NMMC01&quot; \r\n}\r\n```\r\n\r\ni.e. I want to rename `&quot;serviceCentreLon&quot;` to `&quot;longitude&quot;` and `&quot;serviceCentreLat&quot;` to `&quot;latitude&quot;`. I am using the `JSONObject` type in my code.","title":"How to rename key in JSONObject using java?","body":"<p>I want to rename the keys of a JSON object using Java.</p>\n\n<p>My input JSON is:</p>\n\n<pre><code>{  \n    \"serviceCentreLon\":73.003742,\n    \"type\":\"servicecentre\",\n    \"serviceCentreLat\":19.121737,\n    \"clientId\":\"NMMC01\" \n}\n</code></pre>\n\n<p>I want to change it to:</p>\n\n<pre><code>{  \n    \"longitude\":73.003742,\n    \"type\":\"servicecentre\",\n    \"latitude\":19.121737,\n    \"clientId\":\"NMMC01\" \n}\n</code></pre>\n\n<p>i.e. I want to rename <code>\"serviceCentreLon\"</code> to <code>\"longitude\"</code> and <code>\"serviceCentreLat\"</code> to <code>\"latitude\"</code>. I am using the <code>JSONObject</code> type in my code.</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":1849514,"reputation":193868,"user_id":1676363,"accept_rate":100,"display_name":"ianhanniballake"},"score":3,"creation_date":1675048980,"post_id":75279979,"comment_id":132837676,"body_markdown":"Why are you returning `false` from `onStartJob`? The [`onStartJob` docs](https://developer.android.com/reference/android/app/job/JobService#onStartJob(android.app.job.JobParameters)) state that returning false means your job has already finished by the time the method returns.","body":"Why are you returning <code>false</code> from <code>onStartJob</code>? The <a href=\"https://developer.android.com/reference/android/app/job/JobService#onStartJob(android.app.job.JobParameters)\" rel=\"nofollow noreferrer\"><code>onStartJob</code> docs</a> state that returning false means your job has already finished by the time the method returns."},{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1675050234,"post_id":75279979,"comment_id":132837820,"body_markdown":"Step 1 is to stop ignoring potential errors and implement `onCancelled`. At its minimum that should be `public void onCancelled(@NonNull DatabaseError databaseError) { throw databaseError.toException(); }`. Even if it isn&#39;t throwing an error now, you should implement so that we can all know there is no error.","body":"Step 1 is to stop ignoring potential errors and implement <code>onCancelled</code>. At its minimum that should be <code>public void onCancelled(@NonNull DatabaseError databaseError) { throw databaseError.toException(); }</code>. Even if it isn&#39;t throwing an error now, you should implement so that we can all know there is no error."}],"owner":{"account_id":21327936,"reputation":43,"user_id":15700081,"display_name":"Bryne Phiri"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675053661,"creation_date":1675048710,"question_id":75279979,"body_markdown":"I have a JobService meant send notifications if they are not yet seen. I have done this before with a background service but JobService am told is a more reliable way of doing it as android kills background services after a while. But all the firebase Event listeners won&#39;t fire in the JobService\r\n\r\n    public class MyJobService extends JobService {\r\n    @Override\r\n    public boolean onStartJob(JobParameters params) {\r\n\r\n        DatabaseReference reference = FirebaseDatabase.getInstance().getReference()\r\n                .child(&quot;Notifications&quot;);\r\n\r\n        reference.addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                for (DataSnapshot dataSnapshot : snapshot.getChildren()) {\r\n                    NotificationModel model = dataSnapshot.getValue(NotificationModel.class);\r\n\r\n                    if (Prevalent.CURRENT_USER != null) {\r\n                        if (model.getNotificationTo() != null) {\r\n                            if (model.getNotificationTo().equals(Prevalent.CURRENT_USER.getUid())) {\r\n                                if (!model.isSeen()) {\r\n                                    NotificationHelperClass.sendNotification(getApplicationContext(),\r\n                                            model.getTitle(), model.getDescription());\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n            }\r\n        });\r\n\r\n        return false;\r\n    }\r\n\r\n    @Override\r\n    public boolean onStopJob(JobParameters params) {\r\n        return false;\r\n    }\r\n\r\nSo I set up break points with dummy variable through this service and it never reached the first line of code in the event listener. I tested the same for the childEventListener and singleValueEventListener. I don&#39;t know whats wrong","title":"ValueEventLisener not firing in JobService","body":"<p>I have a JobService meant send notifications if they are not yet seen. I have done this before with a background service but JobService am told is a more reliable way of doing it as android kills background services after a while. But all the firebase Event listeners won't fire in the JobService</p>\n<pre><code>public class MyJobService extends JobService {\n@Override\npublic boolean onStartJob(JobParameters params) {\n\n    DatabaseReference reference = FirebaseDatabase.getInstance().getReference()\n            .child(&quot;Notifications&quot;);\n\n    reference.addValueEventListener(new ValueEventListener() {\n        @Override\n        public void onDataChange(@NonNull DataSnapshot snapshot) {\n            for (DataSnapshot dataSnapshot : snapshot.getChildren()) {\n                NotificationModel model = dataSnapshot.getValue(NotificationModel.class);\n\n                if (Prevalent.CURRENT_USER != null) {\n                    if (model.getNotificationTo() != null) {\n                        if (model.getNotificationTo().equals(Prevalent.CURRENT_USER.getUid())) {\n                            if (!model.isSeen()) {\n                                NotificationHelperClass.sendNotification(getApplicationContext(),\n                                        model.getTitle(), model.getDescription());\n                            }\n                        }\n                    }\n                }\n            }\n        }\n\n        @Override\n        public void onCancelled(@NonNull DatabaseError error) {\n\n        }\n    });\n\n    return false;\n}\n\n@Override\npublic boolean onStopJob(JobParameters params) {\n    return false;\n}\n</code></pre>\n<p>So I set up break points with dummy variable through this service and it never reached the first line of code in the event listener. I tested the same for the childEventListener and singleValueEventListener. I don't know whats wrong</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":15889084,"reputation":335,"user_id":11464737,"display_name":"Kamal"},"score":0,"creation_date":1675055065,"post_id":75280288,"comment_id":132838336,"body_markdown":"can you say what ```android:background=&quot;@drawable/edittext_bg&quot;``` does ?","body":"can you say what <code>android:background=&quot;@drawable&#47;edittext_bg&quot;</code> does ?"},{"owner":{"account_id":18378745,"reputation":802,"user_id":13387235,"display_name":"Dhruv Sakariya"},"score":0,"creation_date":1675055365,"post_id":75280288,"comment_id":132838370,"body_markdown":"android:background=&quot;@null&quot;","body":"android:background=&quot;@null&quot;"}],"owner":{"account_id":25437384,"reputation":17,"user_id":19240900,"display_name":"CMRyle"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675053179,"creation_date":1675053179,"question_id":75280288,"body_markdown":"I&#39;m working on my registration fragment but somehow having a problem on one of my TextInputlayout, how do I remove the black background in my AutoCompleteTextView?\r\n\r\nhere&#39;s my code:\r\n\r\n     &lt;com.google.android.material.textfield.TextInputLayout\r\n        android:id=&quot;@+id/textInputLayout&quot;\r\n        style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.ExposedDropdownMenu&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginStart=&quot;32dp&quot;\r\n        android:layout_marginTop=&quot;16dp&quot;\r\n        android:layout_marginEnd=&quot;32dp&quot;\r\n        android:background=&quot;@drawable/edittext_bg&quot;\r\n        android:textColorHint=&quot;#7E7C7C&quot;\r\n        app:boxStrokeColor=&quot;#24d95f&quot;\r\n        app:boxStrokeWidth=&quot;0dp&quot;\r\n        app:boxStrokeWidthFocused=&quot;0dp&quot;\r\n        app:endIconTint=&quot;#24d95f&quot;\r\n        app:hintTextColor=&quot;#24d95f&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/reg_confirmpassword&quot;&gt;\r\n        &lt;AutoCompleteTextView\r\n            android:id=&quot;@+id/auto_complete_text&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;40dp&quot;\r\n            android:textColor=&quot;@color/black&quot;\r\n            android:backgroundTint=&quot;@color/white&quot;\r\n            android:background=&quot;@drawable/edittext_bg&quot;\r\n            android:inputType=&quot;none&quot; /&gt;\r\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Gq3Sh.jpg","title":"AutoCompleteTextView background","body":"<p>I'm working on my registration fragment but somehow having a problem on one of my TextInputlayout, how do I remove the black background in my AutoCompleteTextView?</p>\n<p>here's my code:</p>\n<pre><code> &lt;com.google.android.material.textfield.TextInputLayout\n    android:id=&quot;@+id/textInputLayout&quot;\n    style=&quot;@style/Widget.MaterialComponents.TextInputLayout.OutlinedBox.ExposedDropdownMenu&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_marginStart=&quot;32dp&quot;\n    android:layout_marginTop=&quot;16dp&quot;\n    android:layout_marginEnd=&quot;32dp&quot;\n    android:background=&quot;@drawable/edittext_bg&quot;\n    android:textColorHint=&quot;#7E7C7C&quot;\n    app:boxStrokeColor=&quot;#24d95f&quot;\n    app:boxStrokeWidth=&quot;0dp&quot;\n    app:boxStrokeWidthFocused=&quot;0dp&quot;\n    app:endIconTint=&quot;#24d95f&quot;\n    app:hintTextColor=&quot;#24d95f&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toBottomOf=&quot;@+id/reg_confirmpassword&quot;&gt;\n    &lt;AutoCompleteTextView\n        android:id=&quot;@+id/auto_complete_text&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;40dp&quot;\n        android:textColor=&quot;@color/black&quot;\n        android:backgroundTint=&quot;@color/white&quot;\n        android:background=&quot;@drawable/edittext_bg&quot;\n        android:inputType=&quot;none&quot; /&gt;\n&lt;/com.google.android.material.textfield.TextInputLayout&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/Gq3Sh.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Gq3Sh.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","permissions","uri"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":1,"creation_date":1674896951,"post_id":75266381,"comment_id":132814932,"body_markdown":"No. Where did you get that string from? It&#39;s an impossible content scheme to begin with.","body":"No. Where did you get that string from? It&#39;s an impossible content scheme to begin with."},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1674910635,"post_id":75266381,"comment_id":132817105,"body_markdown":"What class is Uri from?","body":"What class is Uri from?"},{"owner":{"account_id":23789320,"reputation":129,"user_id":17800919,"display_name":"Kevin"},"score":0,"creation_date":1674926455,"post_id":75266381,"comment_id":132819937,"body_markdown":"@blackapps it is an example.. the real uri that I got is.. content://com.android.providers.media...../document/image%3A1000002538 . I&#39;m required to increment the numbers by 1 and thus I have to convert it into a string and parse it back to uri. The problem is that the %3A is causing my string to be converted into a wrong directory for the uri.","body":"@blackapps it is an example.. the real uri that I got is.. content://com.android.providers.media...../document/image%3A&zwnj;&#8203;1000002538 . I&#39;m required to increment the numbers by 1 and thus I have to convert it into a string and parse it back to uri. The problem is that the %3A is causing my string to be converted into a wrong directory for the uri."},{"owner":{"account_id":23789320,"reputation":129,"user_id":17800919,"display_name":"Kevin"},"score":0,"creation_date":1674926511,"post_id":75266381,"comment_id":132819951,"body_markdown":"@JohnWilliams MainActivity class","body":"@JohnWilliams MainActivity class"},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1674930455,"post_id":75266381,"comment_id":132820728,"body_markdown":"Do this: \t\tSystem.out.println(java.net.URLDecoder.decode(&quot;content://image%3A1000002539&quot;, StandardCharsets.UTF_8.name()));\n. Note that the %3A becomes a : - not sure that fixes the problem","body":"Do this: \t\tSystem.out.println(java.net.URLDecoder.decode(&quot;content://i&zwnj;&#8203;mage%3A1000002539&quot;, StandardCharsets.UTF_8.name())); . Note that the %3A becomes a : - not sure that fixes the problem"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1674938512,"post_id":75266381,"comment_id":132822117,"body_markdown":"`I&#39;m required to increment the numbers by 1 and thus I have to convert it into a string and parse it back to uri.` That content scheme is already a string so i wonder what you have to convert. And what is simpler then to substring the number, convert it to integer, increment it, convert it back to string and concat it behind the %3A. Then you have your new content scheme which you can parse to an uri. Pretty unclear about which directory you are talking. Come to the point.","body":"<code>I&#39;m required to increment the numbers by 1 and thus I have to convert it into a string and parse it back to uri.</code> That content scheme is already a string so i wonder what you have to convert. And what is simpler then to substring the number, convert it to integer, increment it, convert it back to string and concat it behind the %3A. Then you have your new content scheme which you can parse to an uri. Pretty unclear about which directory you are talking. Come to the point."},{"owner":{"account_id":23789320,"reputation":129,"user_id":17800919,"display_name":"Kevin"},"score":0,"creation_date":1674955561,"post_id":75266381,"comment_id":132824492,"body_markdown":"Alright. Basically, I decremented a Uri (I converted the Uri into a string and in turn into an int, I did a -1, and then I got the string that looks exactly like a decremented string but when I parse the uri and try to setImageURI() on it, it is showing &quot;File error accessing recents directory (directory doesn&#39;t exist?).&quot;)","body":"Alright. Basically, I decremented a Uri (I converted the Uri into a string and in turn into an int, I did a -1, and then I got the string that looks exactly like a decremented string but when I parse the uri and try to setImageURI() on it, it is showing &quot;File error accessing recents directory (directory doesn&#39;t exist?).&quot;)"},{"owner":{"account_id":23789320,"reputation":129,"user_id":17800919,"display_name":"Kevin"},"score":0,"creation_date":1674956866,"post_id":75266381,"comment_id":132824635,"body_markdown":"Hi to all those that replied. I&#39;m thankful for looking into my situation. I have rephrased the question more clearly along with the code that led to the error.","body":"Hi to all those that replied. I&#39;m thankful for looking into my situation. I have rephrased the question more clearly along with the code that led to the error."},{"owner":{"account_id":21084402,"reputation":34634,"user_id":15497888,"display_name":"Henry Ecker"},"score":0,"creation_date":1675045183,"post_id":75266381,"comment_id":132837333,"body_markdown":"I&#39;m glad you were able to find an answer to your question. Please don&#39;t edit answers into your question. Instead, use the answer field below and &quot;Post Your Answer&quot; you can even [accept your own answer](/help/self-answer) after 48 hours.","body":"I&#39;m glad you were able to find an answer to your question. Please don&#39;t edit answers into your question. Instead, use the answer field below and &quot;Post Your Answer&quot; you can even <a href=\"/help/self-answer\">accept your own answer</a> after 48 hours."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674967188,"creation_date":1674962026,"answer_id":75272398,"question_id":75266381,"body_markdown":"Let&#39;s first get something straight.  What is the meaning of that `%` character?\r\n\r\nWell ... if you look at the URI Specification (RFC ....) the `%` is a [percent encoding][1] marker.  The two characters after the `%` are hex digits, and the whole thing represents an ASCII character.  In fact, `%3A` represents the colon character (`:`).   So the unencoded &quot;opaque&quot; component of that URI is actually\r\n\r\n    //com.android.providers.media.documents/document/image:1000002538\r\n\r\nThus, the image (document) number is *really* `1000002538` and decrementing it should give `1000002537` as the image number.\r\n\r\nI&#39;m not entirely sure why your &quot;string bashing&quot; approach is failing, but you are decrementing just the last 3 digits of the image numbers ... and your example has 4 significant digits on the right end.\r\n\r\nSo here&#39;s how you *should* code it:\r\n\r\n            Uri imageUri = data.getData();\r\n            String[] pathSegments = imageUri.getSchemeSpecificPart().split(&quot;/&quot;);\r\n            String lastSegment = pathSegments[pathSegmentslength - 1);\r\n\r\n            String[] parts = lastSegment.split(&quot;:&quot;);\r\n            assert parts.length == 1 &amp;&amp; &quot;image&quot;.equals(parts[0]);\r\n            long imageNo = Long.parseLong(parts[1]);\r\n            imageNo--;\r\n            lastSegment = &quot;image:&quot; + imageNo;\r\n\r\n            pathSegments[pathSegments.length - 1] = lastSegment;\r\n            String path = String.join(&quot;/&quot;, pathSegments);\r\n            imageUri = Uri.Builder().scheme(&quot;content&quot;).opaquePart(path).build();\r\n\r\nBy calling `getSchemeSpecificPart()` we are getting the relevant part of the URI with the percent encoding decoded.  Likewise, the `Builder` is going to re-apply encoding as required.\r\n\r\nCAVEATS\r\n\r\n  1. This code is not compiled or tested.  I don&#39;t have an Android dev platform.\r\n  2. For non-Android folks, this is using the Android `Uri` class not the Java SE `URI` class!\r\n\r\n\r\n  [1]: https://www.rfc-editor.org/rfc/rfc3986#page-12","title":"java.lang.SecurityException: Permission Denial: reading com.android.providers.media.MediaDocumentsProvider uri","body":"<p>Let's first get something straight.  What is the meaning of that <code>%</code> character?</p>\n<p>Well ... if you look at the URI Specification (RFC ....) the <code>%</code> is a <a href=\"https://www.rfc-editor.org/rfc/rfc3986#page-12\" rel=\"nofollow noreferrer\">percent encoding</a> marker.  The two characters after the <code>%</code> are hex digits, and the whole thing represents an ASCII character.  In fact, <code>%3A</code> represents the colon character (<code>:</code>).   So the unencoded &quot;opaque&quot; component of that URI is actually</p>\n<pre><code>//com.android.providers.media.documents/document/image:1000002538\n</code></pre>\n<p>Thus, the image (document) number is <em>really</em> <code>1000002538</code> and decrementing it should give <code>1000002537</code> as the image number.</p>\n<p>I'm not entirely sure why your &quot;string bashing&quot; approach is failing, but you are decrementing just the last 3 digits of the image numbers ... and your example has 4 significant digits on the right end.</p>\n<p>So here's how you <em>should</em> code it:</p>\n<pre><code>        Uri imageUri = data.getData();\n        String[] pathSegments = imageUri.getSchemeSpecificPart().split(&quot;/&quot;);\n        String lastSegment = pathSegments[pathSegmentslength - 1);\n\n        String[] parts = lastSegment.split(&quot;:&quot;);\n        assert parts.length == 1 &amp;&amp; &quot;image&quot;.equals(parts[0]);\n        long imageNo = Long.parseLong(parts[1]);\n        imageNo--;\n        lastSegment = &quot;image:&quot; + imageNo;\n\n        pathSegments[pathSegments.length - 1] = lastSegment;\n        String path = String.join(&quot;/&quot;, pathSegments);\n        imageUri = Uri.Builder().scheme(&quot;content&quot;).opaquePart(path).build();\n</code></pre>\n<p>By calling <code>getSchemeSpecificPart()</code> we are getting the relevant part of the URI with the percent encoding decoded.  Likewise, the <code>Builder</code> is going to re-apply encoding as required.</p>\n<p>CAVEATS</p>\n<ol>\n<li>This code is not compiled or tested.  I don't have an Android dev platform.</li>\n<li>For non-Android folks, this is using the Android <code>Uri</code> class not the Java SE <code>URI</code> class!</li>\n</ol>\n"}],"owner":{"account_id":23789320,"reputation":129,"user_id":17800919,"display_name":"Kevin"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":853,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675052051,"creation_date":1674895088,"question_id":75266381,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n**The Situation:**\r\n\r\nI decremented a Uri \r\n\r\n - **First**, I converted the Uri into a string and in turn into an int    \r\n   \r\n   **Afterwhich**, I did a -1, and then I got the string that looks exactly like a decremented string      \r\n   \r\n   **However**, when I parse the uri and try to setImageURI() on it,  \r\n   \r\n   it is showing *&quot;File error accessing recents directory (directory   \r\n   doesn&#39;t exist?)*.&quot;\r\n\r\nHere is the code that I have used:\r\n\r\n                Uri ImageUri = data.getData();\r\n                String uri1 = ImageUri.toString();\r\n\r\n                //region uri2\r\n                String substr1 = uri1.substring(uri1.length()-3);\r\n                int substr1int = parseInt(substr1)-1;\r\n                String decrementedstr1 = new Integer(substr1int).toString();\r\n                int numberofchars1 = uri1.length()-3;\r\n                String firstcomponent1 = uri1.substring(0, numberofchars1);\r\n                String uri2 = firstcomponent1 + decrementedstr1;\r\n\r\n\r\n                //endregion\r\n                Uri test = Uri.parse(uri2);\r\n                animateobject.setImageURI(test);\r\n\r\n\r\nGot this Error:\r\n&gt; File error accessing recents directory (directory doesn&#39;t exist?).\r\n\r\nAfter I used &#39;Debug App&#39;, it showed the error in more details:\r\n\r\n&gt; java.lang.SecurityException: Permission Denial: reading\r\n&gt; com.android.providers.media.MediaDocumentsProvider uri\r\n&gt; content://com.android.providers.media.documents/document/image%3A1000002538\r\n&gt; from pid=1309, uid=10925 requires that you obtain access using\r\n&gt; ACTION_OPEN_DOCUMENT or related APIs\r\n\r\n\r\n**Note:** This is in java and I&#39;m using Android Studio to code.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/T8wCc.jpg","title":"java.lang.SecurityException: Permission Denial: reading com.android.providers.media.MediaDocumentsProvider uri","body":"<p><a href=\"https://i.stack.imgur.com/T8wCc.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/T8wCc.jpg\" alt=\"enter image description here\" /></a></p>\n<p><strong>The Situation:</strong></p>\n<p>I decremented a Uri</p>\n<ul>\n<li><p><strong>First</strong>, I converted the Uri into a string and in turn into an int</p>\n<p><strong>Afterwhich</strong>, I did a -1, and then I got the string that looks exactly like a decremented string</p>\n<p><strong>However</strong>, when I parse the uri and try to setImageURI() on it,</p>\n<p>it is showing <em>&quot;File error accessing recents directory (directory<br />\ndoesn't exist?)</em>.&quot;</p>\n</li>\n</ul>\n<p>Here is the code that I have used:</p>\n<pre><code>            Uri ImageUri = data.getData();\n            String uri1 = ImageUri.toString();\n\n            //region uri2\n            String substr1 = uri1.substring(uri1.length()-3);\n            int substr1int = parseInt(substr1)-1;\n            String decrementedstr1 = new Integer(substr1int).toString();\n            int numberofchars1 = uri1.length()-3;\n            String firstcomponent1 = uri1.substring(0, numberofchars1);\n            String uri2 = firstcomponent1 + decrementedstr1;\n\n\n            //endregion\n            Uri test = Uri.parse(uri2);\n            animateobject.setImageURI(test);\n</code></pre>\n<p>Got this Error:</p>\n<blockquote>\n<p>File error accessing recents directory (directory doesn't exist?).</p>\n</blockquote>\n<p>After I used 'Debug App', it showed the error in more details:</p>\n<blockquote>\n<p>java.lang.SecurityException: Permission Denial: reading\ncom.android.providers.media.MediaDocumentsProvider uri\ncontent://com.android.providers.media.documents/document/image%3A1000002538\nfrom pid=1309, uid=10925 requires that you obtain access using\nACTION_OPEN_DOCUMENT or related APIs</p>\n</blockquote>\n<p><strong>Note:</strong> This is in java and I'm using Android Studio to code.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":8667078,"reputation":575,"user_id":6487148,"display_name":"the_tech_maddy"},"score":0,"creation_date":1675054310,"post_id":75280062,"comment_id":132838256,"body_markdown":"https://stackoverflow.com/questions/34172888/difference-between-bean-and-autowired - This may give you additional details","body":"<a href=\"https://stackoverflow.com/questions/34172888/difference-between-bean-and-autowired\" title=\"difference between bean and autowired\">stackoverflow.com/questions/34172888/&hellip;</a> - This may give you additional details"}],"answers":[{"tags":[],"owner":{"account_id":27646818,"reputation":36,"user_id":21102523,"display_name":"WhiteDissident"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1675051823,"creation_date":1675051823,"answer_id":75280187,"question_id":75280062,"body_markdown":"[From the documentation:][1]\r\n\r\n&gt; public abstract org.springframework.beans.factory.annotation.Autowire autowire\r\nAre dependencies to be injected via convention-based autowiring by name or type?\r\nNote that this autowire mode is just about externally driven autowiring based on bean property setter methods by convention, analogous to XML bean definitions.\r\n&gt;\r\n&gt;The default mode does allow for annotation-driven autowiring. &quot;no&quot; refers to externally driven autowiring only, not affecting any autowiring demands that the bean class itself expresses through annotations.\r\n&gt; See Also:\r\n&gt;\r\n&gt;Autowire.BY_NAME, Autowire.BY_TYPE\r\nDefault:\r\norg.springframework.beans.factory.annotation.Autowire.NO\r\n\r\nIn other words, that property has nothing to do with how your bean is injected into other beans, but how the bean&#39;s own properties are implicitly autowired. \r\n\r\nBy default (`Autowire.NO`) means that Spring will not attempt to call setter methods unless annotated with `@Autowired` explicitly\r\n\r\n[This was also answered here][2]\r\n\r\n\r\n  [1]: https://www.javadoc.io/doc/org.springframework/spring-context/5.0.2.RELEASE/org/springframework/context/annotation/Bean.html#autowire--\r\n  [2]: https://stackoverflow.com/questions/21020187/in-spring-what-does-autowire-autowire-no-do","title":"Why @Autowired still works while @Bean annotation&#39;s autowire property default value is Autowire.NO?","body":"<p><a href=\"https://www.javadoc.io/doc/org.springframework/spring-context/5.0.2.RELEASE/org/springframework/context/annotation/Bean.html#autowire--\" rel=\"nofollow noreferrer\">From the documentation:</a></p>\n<blockquote>\n<p>public abstract org.springframework.beans.factory.annotation.Autowire autowire\nAre dependencies to be injected via convention-based autowiring by name or type?\nNote that this autowire mode is just about externally driven autowiring based on bean property setter methods by convention, analogous to XML bean definitions.</p>\n<p>The default mode does allow for annotation-driven autowiring. &quot;no&quot; refers to externally driven autowiring only, not affecting any autowiring demands that the bean class itself expresses through annotations.\nSee Also:</p>\n<p>Autowire.BY_NAME, Autowire.BY_TYPE\nDefault:\norg.springframework.beans.factory.annotation.Autowire.NO</p>\n</blockquote>\n<p>In other words, that property has nothing to do with how your bean is injected into other beans, but how the bean's own properties are implicitly autowired.</p>\n<p>By default (<code>Autowire.NO</code>) means that Spring will not attempt to call setter methods unless annotated with <code>@Autowired</code> explicitly</p>\n<p><a href=\"https://stackoverflow.com/questions/21020187/in-spring-what-does-autowire-autowire-no-do\">This was also answered here</a></p>\n"}],"owner":{"account_id":9160569,"reputation":61,"user_id":6812019,"display_name":"Jayesslee"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75280187,"answer_count":1,"score":0,"last_activity_date":1675051823,"creation_date":1675049995,"question_id":75280062,"body_markdown":"Here is the @Bean source code:\r\n&lt;pre&gt;\r\n\r\n    @Target({ElementType.METHOD, ElementType.ANNOTATION_TYPE})\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Documented\r\n    public @interface Bean {\r\n        @AliasFor(&quot;name&quot;)\r\n        String[] value() default {};\r\n    \r\n        @AliasFor(&quot;value&quot;)\r\n        String[] name() default {};\r\n    \r\n        Autowire autowire() default Autowire.NO;\r\n    \r\n        String initMethod() default &quot;&quot;;\r\n    \r\n        String destroyMethod() default &quot;(inferred)&quot;;\r\n    }\r\n\r\n&lt;/pre&gt;\r\nI find that autowire&#39;s default value is Autowire.NO, but when I use this bean with @Autowired it still works, is it behavior by default or by some kind of convention?","title":"Why @Autowired still works while @Bean annotation&#39;s autowire property default value is Autowire.NO?","body":"<p>Here is the @Bean source code:</p>\n<pre>\n\n    @Target({ElementType.METHOD, ElementType.ANNOTATION_TYPE})\n    @Retention(RetentionPolicy.RUNTIME)\n    @Documented\n    public @interface Bean {\n        @AliasFor(\"name\")\n        String[] value() default {};\n    \n        @AliasFor(\"value\")\n        String[] name() default {};\n    \n        Autowire autowire() default Autowire.NO;\n    \n        String initMethod() default \"\";\n    \n        String destroyMethod() default \"(inferred)\";\n    }\n\n</pre>\n<p>I find that autowire's default value is Autowire.NO, but when I use this bean with @Autowired it still works, is it behavior by default or by some kind of convention?</p>\n"},{"tags":["java","iceberg","apache-iceberg"],"owner":{"account_id":8051083,"reputation":218,"user_id":6069587,"accept_rate":76,"display_name":"Roman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675051477,"creation_date":1675051477,"question_id":75280158,"body_markdown":"I&#39;ve successfully written data into an Iceberg table using Java, and I can verify, using an online Parquet viewer, that my data is correct:\r\n\r\n    f1\tf2\tf3\r\n    abc\txyz\tlmn\r\n\r\nHowever, when I try to read that data:\r\n\r\n    CloseableIterable&lt;Record&gt; result = IcebergGenerics.read(table).build();\r\n    for(Record rec: result) {\r\n      println &quot;Field f1 has: &quot; + rec.getField(&quot;f1&quot;);\r\n    }\r\n\r\nI get\r\n\r\n    Field f1 has: xyz\r\n\r\nLikewise, for field f2 I get output &quot;lmn&quot;, and for field f3 the output is *null*.\r\nAm I missing something regarding how a table should be read?","title":"Fields &quot;shifted&quot; when reading from Iceberg table","body":"<p>I've successfully written data into an Iceberg table using Java, and I can verify, using an online Parquet viewer, that my data is correct:</p>\n<pre><code>f1  f2  f3\nabc xyz lmn\n</code></pre>\n<p>However, when I try to read that data:</p>\n<pre><code>CloseableIterable&lt;Record&gt; result = IcebergGenerics.read(table).build();\nfor(Record rec: result) {\n  println &quot;Field f1 has: &quot; + rec.getField(&quot;f1&quot;);\n}\n</code></pre>\n<p>I get</p>\n<pre><code>Field f1 has: xyz\n</code></pre>\n<p>Likewise, for field f2 I get output &quot;lmn&quot;, and for field f3 the output is <em>null</em>.\nAm I missing something regarding how a table should be read?</p>\n"},{"tags":["java","spring-boot","spring-data-jpa","spring-transactions"],"comments":[{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1675047834,"post_id":75279794,"comment_id":132837596,"body_markdown":"that is bit unclear, how are you going to get fresh data from synchronous replica if you not yet committed writing transaction? IMO, you need to refactor business code.","body":"that is bit unclear, how are you going to get fresh data from synchronous replica if you not yet committed writing transaction? IMO, you need to refactor business code."},{"owner":{"account_id":25832039,"reputation":11,"user_id":19569041,"display_name":"creatinemuscle"},"score":0,"creation_date":1675050524,"post_id":75279794,"comment_id":132837855,"body_markdown":"Sorry the about demo might have some confusion cause it selecting back bankUserGroup after save. What if i want to select for any table for example some config that. is there a way to route to reader DB in this scenario?\n\nI will edit the demo for avoid confuse.","body":"Sorry the about demo might have some confusion cause it selecting back bankUserGroup after save. What if i want to select for any table for example some config that. is there a way to route to reader DB in this scenario?  I will edit the demo for avoid confuse."},{"owner":{"account_id":1521409,"reputation":6658,"user_id":1420941,"display_name":"stringy05"},"score":0,"creation_date":1675053463,"post_id":75279794,"comment_id":132838167,"body_markdown":"As far as I&#39;m aware the only way to implement this is to use 2 datasources and configure the repository classes to use one or the other, this baeldung article describes the basics of it https://www.baeldung.com/spring-data-jpa-multiple-databases","body":"As far as I&#39;m aware the only way to implement this is to use 2 datasources and configure the repository classes to use one or the other, this baeldung article describes the basics of it <a href=\"https://www.baeldung.com/spring-data-jpa-multiple-databases\" rel=\"nofollow noreferrer\">baeldung.com/spring-data-jpa-multiple-databases</a>"},{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1675053473,"post_id":75279794,"comment_id":132838168,"body_markdown":"that actually changed nothing. Take a look: if at some moment we decided to start reading from replica we need to acquire corresponding connection (you have two servers, two server - two connections), moreover, we need to keep writing connection open in order to be able to issue `commit` somewhen in the near future. `@Transactional(propagation = Propagation.REQUIRES_NEW , readOnly = true)` (`@Async` is another option) is doing exactly the same, in any case you need to acquire two connections (regardless what JDBC driver is doing under the hood), that is not possible to optimize that.","body":"that actually changed nothing. Take a look: if at some moment we decided to start reading from replica we need to acquire corresponding connection (you have two servers, two server - two connections), moreover, we need to keep writing connection open in order to be able to issue <code>commit</code> somewhen in the near future. <code>@Transactional(propagation = Propagation.REQUIRES_NEW , readOnly = true)</code> (<code>@Async</code> is another option) is doing exactly the same, in any case you need to acquire two connections (regardless what JDBC driver is doing under the hood), that is not possible to optimize that."},{"owner":{"account_id":25832039,"reputation":11,"user_id":19569041,"display_name":"creatinemuscle"},"score":0,"creation_date":1675138031,"post_id":75279794,"comment_id":132859346,"body_markdown":"@AndreyB.Panfilov ok thank for the infos , i think there is no way to optimize too.","body":"@AndreyB.Panfilov ok thank for the infos , i think there is no way to optimize too."}],"owner":{"account_id":25832039,"reputation":11,"user_id":19569041,"display_name":"creatinemuscle"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675050807,"creation_date":1675045648,"question_id":75279794,"body_markdown":"I am using jdbc:mysql:replication\r\nFor Example my connection info \r\n\r\n\r\n```\r\nspring.datasource.url = jdbc:mysql:replication://masterDB:3306,readerCluster:3306\r\n\r\n```\r\n\r\n\r\nwhere spring @transaction with readOnly=true will route to reader DB\r\n\r\nI have a transaction for example\r\n\r\n\r\n```\r\n    @Override\r\n    @Transactional(rollbackFor = Exception.class)\r\n    public BankGroup save(BankGroup bankGroup) {\r\n        BankGroup bankGroup= bankGroupRepo.save(bankGroup);\r\n        List&lt;MerchantBankConfig&gt; merchantBankConfigList =merchantBankConfig.findAll();\r\n\r\n        // some business logic...\r\n\r\n        // end \r\n        return bankGroup;\r\n    }\r\n```\r\n\r\n    @Override\r\n    @Transactional(readOnly = true)\r\n    public List&lt;MerchantBankConfig&gt; findAll() {\r\n        return merchantBankRepo.findAll();\r\n    }\r\n\r\nin save() method , first it will open a connection in masterDB since readyOnly=false.\r\nafter perform bankGroupRepo.save(bankGroup) save method. there is a findAll() method which I hope it route to reader DB.\r\n\r\nUnderstand that the findAll() is using default Propagation.REQUIRED so it will using same transaction.\r\nIs there any other way that can route all select statement to readerDB with best optimize way?\r\n\r\nCurrent I can use Propagation.REQUIRES_NEW to route to reader DB. is there any better way?\r\n\r\n```\r\n    @Override\r\n    @Transactional(propagation = Propagation.REQUIRES_NEW , readOnly = true)\r\n    public List&lt;MerchantBankConfig&gt; findAll() {\r\n        return merchantBankRepo.findAll();\r\n    }\r\n```\r\n\r\n\r\n\r\nWhat i have tried:\r\n1) AOP spring data repositry and use DBContextHolder to set to readerDB by implement AbstractRoutingDataSource\r\n\r\n\r\n```\r\npublic class MasterSlaveRoutingDataSource extends AbstractRoutingDataSource {\r\n    @Override\r\n    protected Object determineCurrentLookupKey() {\r\n        return DatabaseContextHolder.getEnvironment();\r\n    }\r\n}\r\n```\r\n\r\n\r\n```\r\n@Aspect\r\n@Component\r\n@Order(0)\r\npublic class TransactionReadonlyAspect {\r\n\r\n    @Around(&quot;@annotation(transactional)&quot;)\r\n    public Object proceed(ProceedingJoinPoint proceedingJoinPoint, org.springframework.transaction.annotation.Transactional transactional) throws Throwable {\r\n        System.out.println(&quot;Aspect executed db connection = &quot; +transactional.readOnly());\r\n        try {\r\n            if (transactional.readOnly()) {\r\n                DatabaseContextHolder.set(DatabaseEnvironment.READ);\r\n            }\r\n            return proceedingJoinPoint.proceed();\r\n        } finally {\r\n            DatabaseContextHolder.reset();\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\nThis is not working as where is AOP is happened before @transactional is opened in service layer. Even I set the connection to reader, it will no reopen a DB connection since the connection is opened.\r\n\r\nExpected:\r\nBest optimize way for all select statement will route to reader DB in this kind of scenario as we have alot of this kind of select query in our project.","title":"Spring transaction writer and reader in 1 transaction. how to route to reader datasource for all select query?","body":"<p>I am using jdbc:mysql:replication\nFor Example my connection info</p>\n<pre><code>spring.datasource.url = jdbc:mysql:replication://masterDB:3306,readerCluster:3306\n\n</code></pre>\n<p>where spring @transaction with readOnly=true will route to reader DB</p>\n<p>I have a transaction for example</p>\n<pre><code>    @Override\n    @Transactional(rollbackFor = Exception.class)\n    public BankGroup save(BankGroup bankGroup) {\n        BankGroup bankGroup= bankGroupRepo.save(bankGroup);\n        List&lt;MerchantBankConfig&gt; merchantBankConfigList =merchantBankConfig.findAll();\n\n        // some business logic...\n\n        // end \n        return bankGroup;\n    }\n</code></pre>\n<pre><code>@Override\n@Transactional(readOnly = true)\npublic List&lt;MerchantBankConfig&gt; findAll() {\n    return merchantBankRepo.findAll();\n}\n</code></pre>\n<p>in save() method , first it will open a connection in masterDB since readyOnly=false.\nafter perform bankGroupRepo.save(bankGroup) save method. there is a findAll() method which I hope it route to reader DB.</p>\n<p>Understand that the findAll() is using default Propagation.REQUIRED so it will using same transaction.\nIs there any other way that can route all select statement to readerDB with best optimize way?</p>\n<p>Current I can use Propagation.REQUIRES_NEW to route to reader DB. is there any better way?</p>\n<pre><code>    @Override\n    @Transactional(propagation = Propagation.REQUIRES_NEW , readOnly = true)\n    public List&lt;MerchantBankConfig&gt; findAll() {\n        return merchantBankRepo.findAll();\n    }\n</code></pre>\n<p>What i have tried:</p>\n<ol>\n<li>AOP spring data repositry and use DBContextHolder to set to readerDB by implement AbstractRoutingDataSource</li>\n</ol>\n<pre><code>public class MasterSlaveRoutingDataSource extends AbstractRoutingDataSource {\n    @Override\n    protected Object determineCurrentLookupKey() {\n        return DatabaseContextHolder.getEnvironment();\n    }\n}\n</code></pre>\n<pre><code>@Aspect\n@Component\n@Order(0)\npublic class TransactionReadonlyAspect {\n\n    @Around(&quot;@annotation(transactional)&quot;)\n    public Object proceed(ProceedingJoinPoint proceedingJoinPoint, org.springframework.transaction.annotation.Transactional transactional) throws Throwable {\n        System.out.println(&quot;Aspect executed db connection = &quot; +transactional.readOnly());\n        try {\n            if (transactional.readOnly()) {\n                DatabaseContextHolder.set(DatabaseEnvironment.READ);\n            }\n            return proceedingJoinPoint.proceed();\n        } finally {\n            DatabaseContextHolder.reset();\n        }\n    }\n\n}\n</code></pre>\n<p>This is not working as where is AOP is happened before @transactional is opened in service layer. Even I set the connection to reader, it will no reopen a DB connection since the connection is opened.</p>\n<p>Expected:\nBest optimize way for all select statement will route to reader DB in this kind of scenario as we have alot of this kind of select query in our project.</p>\n"},{"tags":["java","junit","junit5"],"comments":[{"owner":{"account_id":2360878,"reputation":1125,"user_id":2067574,"display_name":"VaL"},"score":3,"creation_date":1527604751,"post_id":50586201,"comment_id":88183398,"body_markdown":"This functionality is not available yet: https://github.com/junit-team/junit5/issues/964","body":"This functionality is not available yet: <a href=\"https://github.com/junit-team/junit5/issues/964\" rel=\"nofollow noreferrer\">github.com/junit-team/junit5/issues/964</a>"},{"owner":{"account_id":8431463,"reputation":1868,"user_id":6327046,"display_name":"Marc Philipp"},"score":3,"creation_date":1527615315,"post_id":50586201,"comment_id":88189153,"body_markdown":"The JUnit team is currently working on it: https://github.com/junit-team/junit5/issues/60","body":"The JUnit team is currently working on it: <a href=\"https://github.com/junit-team/junit5/issues/60\" rel=\"nofollow noreferrer\">github.com/junit-team/junit5/issues/60</a>"}],"answers":[{"tags":[],"owner":{"account_id":2649454,"reputation":2980,"user_id":2291510,"accept_rate":100,"display_name":"Mr.Turtle"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1553254196,"creation_date":1553009690,"answer_id":55244698,"question_id":50586201,"body_markdown":"You can write parallel tests with JUnit 5.3.\r\nhttps://junit.org/junit5/docs/current/user-guide/#writing-tests-parallel-execution\r\n\r\n\r\n\r\n    @Execution(ExecutionMode.CONCURRENT)\r\n    class MyTest {\r\n    \r\n        @Test\r\n        void test1() throws InterruptedException {\r\n            Thread.sleep(1000);\r\n            System.out.println(&quot;Test1 &quot; + Thread.currentThread().getName());\r\n        }\r\n    \r\n        @Test\r\n        void test2() throws InterruptedException {\r\n            Thread.sleep(1000);\r\n            System.out.println(&quot;Test 2! &quot; + Thread.currentThread().getName());\r\n        }\r\n    }\r\n\r\n    // should run simultaneously \r\n\r\nRemember to add the `junit.jupiter.execution.parallel.enabled=true` to your JUnit configuration\r\n\r\nhttps://junit.org/junit5/docs/current/user-guide/#running-tests-config-params\r\n\r\n\r\nAdd this to your JUnit configuration if you need a `fixed thread pool`:\r\n\r\n    junit.jupiter.execution.parallel.config.strategy=fixed\r\n    junit.jupiter.execution.parallel.config.fixed.parallelism=4\r\n","title":"Parallel test case execution with JUnit 5","body":"<p>You can write parallel tests with JUnit 5.3.\n<a href=\"https://junit.org/junit5/docs/current/user-guide/#writing-tests-parallel-execution\" rel=\"noreferrer\">https://junit.org/junit5/docs/current/user-guide/#writing-tests-parallel-execution</a></p>\n\n<pre><code>@Execution(ExecutionMode.CONCURRENT)\nclass MyTest {\n\n    @Test\n    void test1() throws InterruptedException {\n        Thread.sleep(1000);\n        System.out.println(\"Test1 \" + Thread.currentThread().getName());\n    }\n\n    @Test\n    void test2() throws InterruptedException {\n        Thread.sleep(1000);\n        System.out.println(\"Test 2! \" + Thread.currentThread().getName());\n    }\n}\n\n// should run simultaneously \n</code></pre>\n\n<p>Remember to add the <code>junit.jupiter.execution.parallel.enabled=true</code> to your JUnit configuration</p>\n\n<p><a href=\"https://junit.org/junit5/docs/current/user-guide/#running-tests-config-params\" rel=\"noreferrer\">https://junit.org/junit5/docs/current/user-guide/#running-tests-config-params</a></p>\n\n<p>Add this to your JUnit configuration if you need a <code>fixed thread pool</code>:</p>\n\n<pre><code>junit.jupiter.execution.parallel.config.strategy=fixed\njunit.jupiter.execution.parallel.config.fixed.parallelism=4\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1744260,"reputation":14886,"user_id":1594823,"accept_rate":64,"display_name":"Saikat"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1607870850,"creation_date":1607870850,"answer_id":65276910,"question_id":50586201,"body_markdown":"As of writing, Parallel test execution is an experimental feature in Junit5:\r\n\r\nhttps://junit.org/junit5/docs/snapshot/user-guide/#writing-tests-parallel-execution\r\n\r\nUpdate the `junit-platform.properties` file:\r\n\r\n&gt; Configuration parameters to execute top-level classes in parallel but\r\n&gt; methods in same thread:\r\n\r\n```\r\njunit.jupiter.execution.parallel.enabled = true\r\njunit.jupiter.execution.parallel.mode.default = same_thread\r\njunit.jupiter.execution.parallel.mode.classes.default = concurrent\r\n```\r\n\r\n&gt; Configuration parameters to execute top-level classes sequentially but\r\n&gt; their methods in parallel:\r\n\r\n```\r\njunit.jupiter.execution.parallel.enabled = true\r\njunit.jupiter.execution.parallel.mode.default = concurrent\r\njunit.jupiter.execution.parallel.mode.classes.default = same_thread\r\n```\r\n\r\n&gt; The default execution mode is applied to all nodes of the test tree\r\n&gt; with a few notable exceptions, namely test classes that use the\r\n&gt; Lifecycle.PER_CLASS mode or a MethodOrderer (except for Random). In\r\n&gt; the former case, test authors have to ensure that the test class is\r\n&gt; thread-safe; in the latter, concurrent execution might conflict with\r\n&gt; the configured execution order. Thus, in both cases, test methods in\r\n&gt; such test classes are only executed concurrently if the\r\n&gt; @Execution(CONCURRENT) annotation is present on the test class or\r\n&gt; method.","title":"Parallel test case execution with JUnit 5","body":"<p>As of writing, Parallel test execution is an experimental feature in Junit5:</p>\n<p><a href=\"https://junit.org/junit5/docs/snapshot/user-guide/#writing-tests-parallel-execution\" rel=\"nofollow noreferrer\">https://junit.org/junit5/docs/snapshot/user-guide/#writing-tests-parallel-execution</a></p>\n<p>Update the <code>junit-platform.properties</code> file:</p>\n<blockquote>\n<p>Configuration parameters to execute top-level classes in parallel but\nmethods in same thread:</p>\n</blockquote>\n<pre><code>junit.jupiter.execution.parallel.enabled = true\njunit.jupiter.execution.parallel.mode.default = same_thread\njunit.jupiter.execution.parallel.mode.classes.default = concurrent\n</code></pre>\n<blockquote>\n<p>Configuration parameters to execute top-level classes sequentially but\ntheir methods in parallel:</p>\n</blockquote>\n<pre><code>junit.jupiter.execution.parallel.enabled = true\njunit.jupiter.execution.parallel.mode.default = concurrent\njunit.jupiter.execution.parallel.mode.classes.default = same_thread\n</code></pre>\n<blockquote>\n<p>The default execution mode is applied to all nodes of the test tree\nwith a few notable exceptions, namely test classes that use the\nLifecycle.PER_CLASS mode or a MethodOrderer (except for Random). In\nthe former case, test authors have to ensure that the test class is\nthread-safe; in the latter, concurrent execution might conflict with\nthe configured execution order. Thus, in both cases, test methods in\nsuch test classes are only executed concurrently if the\n@Execution(CONCURRENT) annotation is present on the test class or\nmethod.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":3340410,"reputation":5354,"user_id":2806819,"accept_rate":97,"display_name":"k_rollo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675049957,"creation_date":1675049957,"answer_id":75280061,"question_id":50586201,"body_markdown":"For Maven:\r\n\r\n```\r\n// JUnit 5\r\n@Execution(ExecutionMode.CONCURRENT)\r\nabstract class BaseTest {\r\n}\r\n\r\n\r\n// pom.xml\r\n&lt;properties&gt;\r\n    &lt;!-- CLI parameters --&gt;\r\n    &lt;ignore-failure /&gt;\r\n    &lt;include-tags /&gt;\r\n    &lt;exclude-tags /&gt;\r\n    &lt;parallel-enabled /&gt;\r\n    &lt;thread-count /&gt;\r\n&lt;/properties&gt;\r\n\r\n&lt;build&gt;\r\n    &lt;plugins&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.maven.plugins/maven-surefire-plugin --&gt;\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.0-M8&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n                &lt;testFailureIgnore&gt;${ignore-failure}&lt;/testFailureIgnore&gt;\r\n                &lt;groups&gt;${include-tags}&lt;/groups&gt;\r\n                &lt;excludedGroups&gt;${exclude-tags}&lt;/excludedGroups&gt;\r\n                &lt;properties&gt;\r\n                    &lt;configurationParameters&gt;\r\n                        junit.jupiter.execution.parallel.enabled=${parallel-enabled}\r\n                        junit.jupiter.execution.parallel.config.strategy=fixed\r\n                        junit.jupiter.execution.parallel.config.fixed.parallelism=${thread-count}\r\n                        junit.jupiter.execution.parallel.config.fixed.max-pool-size=${thread-count}\r\n                    &lt;/configurationParameters&gt;\r\n                &lt;/properties&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n&lt;/build&gt;\r\n```","title":"Parallel test case execution with JUnit 5","body":"<p>For Maven:</p>\n<pre><code>// JUnit 5\n@Execution(ExecutionMode.CONCURRENT)\nabstract class BaseTest {\n}\n\n\n// pom.xml\n&lt;properties&gt;\n    &lt;!-- CLI parameters --&gt;\n    &lt;ignore-failure /&gt;\n    &lt;include-tags /&gt;\n    &lt;exclude-tags /&gt;\n    &lt;parallel-enabled /&gt;\n    &lt;thread-count /&gt;\n&lt;/properties&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.maven.plugins/maven-surefire-plugin --&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0-M8&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;testFailureIgnore&gt;${ignore-failure}&lt;/testFailureIgnore&gt;\n                &lt;groups&gt;${include-tags}&lt;/groups&gt;\n                &lt;excludedGroups&gt;${exclude-tags}&lt;/excludedGroups&gt;\n                &lt;properties&gt;\n                    &lt;configurationParameters&gt;\n                        junit.jupiter.execution.parallel.enabled=${parallel-enabled}\n                        junit.jupiter.execution.parallel.config.strategy=fixed\n                        junit.jupiter.execution.parallel.config.fixed.parallelism=${thread-count}\n                        junit.jupiter.execution.parallel.config.fixed.max-pool-size=${thread-count}\n                    &lt;/configurationParameters&gt;\n                &lt;/properties&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n"}],"owner":{"account_id":85409,"reputation":89783,"user_id":238134,"accept_rate":73,"display_name":"deamon"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28819,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":3,"score":11,"last_activity_date":1675049957,"creation_date":1527602203,"question_id":50586201,"body_markdown":"Is it possible to execute a test case parallel with JUnit 5?\r\n\r\nI&#39;m looking for something like `threadPoolSize` and `invocationCount` from [TestNG](http://testng.org/doc/documentation-main.html#parallel-tests):\r\n\r\n    @Test(threadPoolSize = 3, invocationCount = 10,  timeOut = 10000)\r\n","title":"Parallel test case execution with JUnit 5","body":"<p>Is it possible to execute a test case parallel with JUnit 5?</p>\n\n<p>I'm looking for something like <code>threadPoolSize</code> and <code>invocationCount</code> from <a href=\"http://testng.org/doc/documentation-main.html#parallel-tests\" rel=\"noreferrer\">TestNG</a>:</p>\n\n<pre><code>@Test(threadPoolSize = 3, invocationCount = 10,  timeOut = 10000)\n</code></pre>\n"},{"tags":["java","android","checkbox","dialog"],"comments":[{"owner":{"account_id":3811306,"reputation":790,"user_id":3162060,"accept_rate":61,"display_name":"rajshree"},"score":2,"creation_date":1393577594,"post_id":22090316,"comment_id":33504591,"body_markdown":"what is your prob;em and error???","body":"what is your prob;em and error???"},{"owner":{"account_id":2580640,"reputation":1239,"user_id":2237396,"accept_rate":50,"display_name":"drozdzynski"},"score":0,"creation_date":1393577646,"post_id":22090316,"comment_id":33504627,"body_markdown":"That have one button to close. I want checkbox in that with Don&#39;t show again","body":"That have one button to close. I want checkbox in that with Don&#39;t show again"},{"owner":{"account_id":2580640,"reputation":1239,"user_id":2237396,"accept_rate":50,"display_name":"drozdzynski"},"score":0,"creation_date":1393577834,"post_id":22090316,"comment_id":33504715,"body_markdown":"Standard dialog show everytime on run app if someone chech that chechbox and click close dialog dont show again","body":"Standard dialog show everytime on run app if someone chech that chechbox and click close dialog dont show again"},{"owner":{"account_id":3811306,"reputation":790,"user_id":3162060,"accept_rate":61,"display_name":"rajshree"},"score":0,"creation_date":1393577840,"post_id":22090316,"comment_id":33504717,"body_markdown":"see this http://www.learn-android-easily.com/2013/01/adding-check-boxes-in-dialog.html","body":"see this <a href=\"http://www.learn-android-easily.com/2013/01/adding-check-boxes-in-dialog.html\" rel=\"nofollow noreferrer\">learn-android-easily.com/2013/01/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":2069643,"reputation":18925,"user_id":1844392,"accept_rate":65,"display_name":"Piyush"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1393655699,"creation_date":1393577677,"answer_id":22090388,"question_id":22090316,"body_markdown":"If i&#39;m not wrong then just Make one class extends with ***View***.\r\n\r\n\r\n    public class DialogShow extends View {\r\n\tSharedPreferences dialogPreferences;\r\n\tString prefrencestring;\r\n\tCheckBox nevershowagain;\r\n\tButton closedialog;\r\n\tDialog dialog;\r\n\tView view;\r\n\r\n\tpublic DialogShow(final Context context) {\r\n\t\tsuper(context);\r\n\t\tdialog = new Dialog(context);\r\n\t\tview = View.inflate(context, R.layout.startdialog, null);\r\n\t\tdialog.setContentView(view);\r\n\t\tnevershowagain = (CheckBox) view.findViewById(R.id.nevershowagain);\r\n\t\tclosedialog = (Button) view.findViewById(R.id.closedialog);\r\n\r\n\t\tclosedialog.setOnClickListener(new OnClickListener() {\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void onClick(View v) {\r\n\r\n\t\t\t\tif (nevershowagain.isChecked()) {\r\n\t\t\t\t\tprefrencestring = &quot;1&quot;;\r\n\r\n\t\t\t\t\tdialogPreferences = PreferenceManager\r\n\t\t\t\t\t\t\t.getDefaultSharedPreferences(context);\r\n\t\t\t\t\tEditor editprefrences = dialogPreferences.edit();\r\n\t\t\t\t\teditprefrences.putString(&quot;showdialog&quot;, prefrencestring);\r\n\t\t\t\t\teditprefrences.commit();\r\n\t\t\t\t}\r\n\r\n\t\t\t\tdialog.dismiss();\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tdialogPreferences = PreferenceManager\r\n\t\t\t\t.getDefaultSharedPreferences(context);\r\n\t\tString check = dialogPreferences.getString(&quot;showdialog&quot;, &quot;&quot;);\r\n\t\tif (check.equals(&quot;1&quot;)) {\r\n\t\t} else {\r\n\t\t\tdialog.show();\r\n\t\t}\r\n\t}\r\n   }\r\n\r\nNow call this class in your splash Activity on onCreate() method..\r\n\r\n         DialogShow  d = new Dialog(this);","title":"Alertdialog with checkbox ( Don&#39;t show again )","body":"<p>If i'm not wrong then just Make one class extends with <strong><em>View</em></strong>.</p>\n\n<pre><code>public class DialogShow extends View {\nSharedPreferences dialogPreferences;\nString prefrencestring;\nCheckBox nevershowagain;\nButton closedialog;\nDialog dialog;\nView view;\n\npublic DialogShow(final Context context) {\n    super(context);\n    dialog = new Dialog(context);\n    view = View.inflate(context, R.layout.startdialog, null);\n    dialog.setContentView(view);\n    nevershowagain = (CheckBox) view.findViewById(R.id.nevershowagain);\n    closedialog = (Button) view.findViewById(R.id.closedialog);\n\n    closedialog.setOnClickListener(new OnClickListener() {\n\n        @Override\n        public void onClick(View v) {\n\n            if (nevershowagain.isChecked()) {\n                prefrencestring = \"1\";\n\n                dialogPreferences = PreferenceManager\n                        .getDefaultSharedPreferences(context);\n                Editor editprefrences = dialogPreferences.edit();\n                editprefrences.putString(\"showdialog\", prefrencestring);\n                editprefrences.commit();\n            }\n\n            dialog.dismiss();\n        }\n    });\n\n    dialogPreferences = PreferenceManager\n            .getDefaultSharedPreferences(context);\n    String check = dialogPreferences.getString(\"showdialog\", \"\");\n    if (check.equals(\"1\")) {\n    } else {\n        dialog.show();\n    }\n}\n</code></pre>\n\n<p>}</p>\n\n<p>Now call this class in your splash Activity on onCreate() method..</p>\n\n<pre><code>     DialogShow  d = new Dialog(this);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3956919,"reputation":9682,"user_id":3265095,"display_name":"Hamid Shatu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1393577891,"creation_date":1393577891,"answer_id":22090437,"question_id":22090316,"body_markdown":"Pass your view to the `setView()` method and it will set your view to the dialog body.\r\n\r\n    alertDialogBuilder.setView(your_view);","title":"Alertdialog with checkbox ( Don&#39;t show again )","body":"<p>Pass your view to the <code>setView()</code> method and it will set your view to the dialog body.</p>\n\n<pre><code>alertDialogBuilder.setView(your_view);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3309368,"reputation":4742,"user_id":2783229,"accept_rate":66,"display_name":"Nitesh Tiwari"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1484405861,"creation_date":1393578034,"answer_id":22090480,"question_id":22090316,"body_markdown":"You can try this for AlertDialog : \r\n\r\n    AlertDialog.Builder builder = new AlertDialog.Builder(getActivity());\r\n    LayoutInflater inflater = getActivity().getLayoutInflater();\r\n    \r\n    builder.setView(inflater.inflate(R.layout.myDialogLayout, null));\r\n    \r\n    Dialog d = builder.create();\r\n\r\nEdit: Please look into [**HERE FOR DETAILS EXPLANATION**][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/9550039/how-to-make-a-do-not-ask-me-again-dialog-pop-up-box-android/9550136#9550136","title":"Alertdialog with checkbox ( Don&#39;t show again )","body":"<p>You can try this for AlertDialog : </p>\n\n<pre><code>AlertDialog.Builder builder = new AlertDialog.Builder(getActivity());\nLayoutInflater inflater = getActivity().getLayoutInflater();\n\nbuilder.setView(inflater.inflate(R.layout.myDialogLayout, null));\n\nDialog d = builder.create();\n</code></pre>\n\n<p>Edit: Please look into <a href=\"https://stackoverflow.com/questions/9550039/how-to-make-a-do-not-ask-me-again-dialog-pop-up-box-android/9550136#9550136\"><strong>HERE FOR DETAILS EXPLANATION</strong></a></p>\n"},{"tags":[],"owner":{"account_id":3081082,"reputation":409,"user_id":2609265,"display_name":"Hossein Moghimi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675049648,"creation_date":1675049648,"answer_id":75280038,"question_id":22090316,"body_markdown":"Since the accepted answer is not a good one in 2023 (IMO) and this post is the first one on google search, here is my solution:\r\n\r\n        private void showAlertWithCheck() {\r\n        boolean infoShowed = PreferenceManager.getDefaultSharedPreferences(this).\r\n                getBoolean(Const.PREF_KEY_INFO_SHOWN, false);\r\n\r\n        if (!infoShowed) {\r\n            View view = getLayoutInflater().inflate(R.layout.dialog_remember_check, null);\r\n\r\n            final CheckBox chk_drc_Remember = view.findViewById(R.id.chk_drc_Remember);\r\n            chk_drc_Remember.setText(R.string.dont_show_again);\r\n            chk_drc_Remember.setChecked(true);\r\n\r\n            new AlertDialog.Builder(MainActivity.this).\r\n                    setIcon(android.R.drawable.ic_dialog_info).\r\n                    setMessage(R.string.fixed_info).\r\n                    setView(view).\r\n                    setNeutralButton(R.string.caption_ok, null).\r\n                    setOnDismissListener(dialog -&gt;\r\n                            PreferenceManager.getDefaultSharedPreferences(this).edit().\r\n                                    putBoolean(Const.PREF_KEY_INFO_SHOWN,\r\n                                            chk_drc_Remember.isChecked()).apply()).\r\n                    show();\r\n        }\r\n    }\r\n\r\n\r\nrequied view XML:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;wrap_content&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:animateLayoutChanges=&quot;true&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    android:padding=&quot;@dimen/dialog_padding&quot;\r\n    tools:context=&quot;.dialogs.PrayTimeDetailDialog&quot;\r\n    tools:ignore=&quot;RtlHardcoded&quot;&gt;\r\n\r\n    &lt;CheckBox\r\n        android:id=&quot;@+id/chk_drc_Remember&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:checked=&quot;true&quot;\r\n        android:paddingLeft=&quot;@dimen/dialog_padding&quot;\r\n        android:paddingRight=&quot;@dimen/dialog_padding&quot;\r\n        android:text=&quot;@string/remember_method&quot; /&gt;\r\n\r\n&lt;/FrameLayout&gt;","title":"Alertdialog with checkbox ( Don&#39;t show again )","body":"<p>Since the accepted answer is not a good one in 2023 (IMO) and this post is the first one on google search, here is my solution:</p>\n<pre><code>    private void showAlertWithCheck() {\n    boolean infoShowed = PreferenceManager.getDefaultSharedPreferences(this).\n            getBoolean(Const.PREF_KEY_INFO_SHOWN, false);\n\n    if (!infoShowed) {\n        View view = getLayoutInflater().inflate(R.layout.dialog_remember_check, null);\n\n        final CheckBox chk_drc_Remember = view.findViewById(R.id.chk_drc_Remember);\n        chk_drc_Remember.setText(R.string.dont_show_again);\n        chk_drc_Remember.setChecked(true);\n\n        new AlertDialog.Builder(MainActivity.this).\n                setIcon(android.R.drawable.ic_dialog_info).\n                setMessage(R.string.fixed_info).\n                setView(view).\n                setNeutralButton(R.string.caption_ok, null).\n                setOnDismissListener(dialog -&gt;\n                        PreferenceManager.getDefaultSharedPreferences(this).edit().\n                                putBoolean(Const.PREF_KEY_INFO_SHOWN,\n                                        chk_drc_Remember.isChecked()).apply()).\n                show();\n    }\n}\n</code></pre>\n<p>requied view XML:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:tools=&quot;http://schemas.android.com/tools&quot;\nandroid:layout_width=&quot;wrap_content&quot;\nandroid:layout_height=&quot;wrap_content&quot;\nandroid:animateLayoutChanges=&quot;true&quot;\nandroid:orientation=&quot;vertical&quot;\nandroid:padding=&quot;@dimen/dialog_padding&quot;\ntools:context=&quot;.dialogs.PrayTimeDetailDialog&quot;\ntools:ignore=&quot;RtlHardcoded&quot;&gt;\n\n&lt;CheckBox\n    android:id=&quot;@+id/chk_drc_Remember&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:checked=&quot;true&quot;\n    android:paddingLeft=&quot;@dimen/dialog_padding&quot;\n    android:paddingRight=&quot;@dimen/dialog_padding&quot;\n    android:text=&quot;@string/remember_method&quot; /&gt;\n</code></pre>\n\n"}],"owner":{"account_id":2580640,"reputation":1239,"user_id":2237396,"accept_rate":50,"display_name":"drozdzynski"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2636,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":22090388,"answer_count":4,"score":0,"last_activity_date":1675049648,"creation_date":1393577487,"question_id":22090316,"body_markdown":"I need to show an AlertDialog with &quot;Don&#39;t Show Again&quot; checkbox. I searched, but I couldn&#39;t find a working solution :/\r\n\r\n    final AlertDialog.Builder alertDialogBuilder = new AlertDialog.Builder(this);\r\n    PackageManager pk = getPackageManager();\r\n    Drawable icon;\r\n    \t\t\t\r\n    alertDialogBuilder\r\n    \t.setTitle(R.string.confirm)\r\n    \t.setPositiveButton(R.string.close, new DialogInterface.OnClickListener() {\r\n    \t\tpublic void onClick(DialogInterface dialog,int id) {\r\n    \t\t\t//Do something\r\n    \t\t}\r\n    \t});\r\n\r\n    AlertDialog alertDialog = alertDialogBuilder.create();\r\n    alertDialog.show();","title":"Alertdialog with checkbox ( Don&#39;t show again )","body":"<p>I need to show an AlertDialog with \"Don't Show Again\" checkbox. I searched, but I couldn't find a working solution :/</p>\n\n<pre><code>final AlertDialog.Builder alertDialogBuilder = new AlertDialog.Builder(this);\nPackageManager pk = getPackageManager();\nDrawable icon;\n\nalertDialogBuilder\n    .setTitle(R.string.confirm)\n    .setPositiveButton(R.string.close, new DialogInterface.OnClickListener() {\n        public void onClick(DialogInterface dialog,int id) {\n            //Do something\n        }\n    });\n\nAlertDialog alertDialog = alertDialogBuilder.create();\nalertDialog.show();\n</code></pre>\n"},{"tags":["java","mongodb","spring-boot","spring-data-redis","spring-mongodb"],"answers":[{"tags":[],"owner":{"account_id":22193942,"reputation":3,"user_id":16435605,"display_name":"helsaKidsCom"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675048428,"creation_date":1675048428,"answer_id":75279962,"question_id":75275730,"body_markdown":"Done, resolve...\r\n\r\nThe solution is add @autowired Employee Repositories in redis appconfig configuration class\r\n\r\nThanks","title":"save data to mongodb from redis message","body":"<p>Done, resolve...</p>\n<p>The solution is add @autowired Employee Repositories in redis appconfig configuration class</p>\n<p>Thanks</p>\n"}],"owner":{"account_id":22193942,"reputation":3,"user_id":16435605,"display_name":"helsaKidsCom"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75279962,"answer_count":1,"score":0,"last_activity_date":1675048428,"creation_date":1675003110,"question_id":75275730,"body_markdown":"I have problem to save data to mongodb is always null. The data is from redis message publisher that i want to save as a consumer.\r\n\r\nI hope get the solution.\r\n\r\nThanks \r\n\r\nService\r\n```\r\n@Slf4j\r\n@Service\r\n@Transactional\r\npublic class Subscriber implements MessageListener {\r\n    @Autowired\r\n    private EmployeeRepositories employeeRepositories;\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    @Override\r\n    public void onMessage(Message message, byte[] pattern) {\r\n\r\n        log.info(&quot;Message received {}&quot;, message);\r\n\r\n        try {\r\n            Employee employee = mapper.readValue(message.toString(), Employee.class);\r\n            log.info(&quot;Employee {}&quot;, employee);\r\n            log.info(&quot;NAME {}&quot;, employee.getEmpName());\r\n            Employee emp = new Employee();\r\n            emp.setEmpId(new Random().nextInt(1000));\r\n            emp.setEmpName(employee.getEmpName());\r\n            emp.setEmpSalary(employee.getEmpSalary());\r\n            log.info(&quot;EMP SAVE {}&quot;, emp);\r\n            employeeRepositories.save(emp);\r\n        } catch (JsonProcessingException e) {\r\n                throw new RuntimeException(e);\r\n        }\r\n\r\n    }\r\n```\r\nEmployee.java\r\n```\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Document(collection = &quot;Employee&quot;)\r\npublic class Employee implements Serializable {\r\n    @Id\r\n    private ObjectId id;\r\n    private Integer empId;\r\n    private String empName;\r\n    private Double empSalary;\r\n}\r\n```\r\nRepositories\r\n```\r\n\r\n@Repository\r\npublic interface EmployeeRepositories extends MongoRepository&lt;Employee, ObjectId&gt; {\r\n\r\n}\r\n```\r\nAlways get Null \r\n```\r\n2023-01-29 21:06:00.855  INFO 10956 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet &#39;dispatcherServlet&#39;\r\n2023-01-29 21:06:00.857  INFO 10956 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms\r\n2023-01-29 21:06:01.321  INFO 10956 --- [edisContainer-2] com.heydeproject.subscriber.Subscriber   : Message received {&quot;empId&quot;:707,&quot;empName&quot;:&quot;Employee 11111&quot;,&quot;empSalary&quot;:100.0}\r\n2023-01-29 21:06:01.328  INFO 10956 --- [edisContainer-2] com.heydeproject.subscriber.Subscriber   : Employee Employee(empId=707, empName=Employee 11111, empSalary=100.0)\r\n2023-01-29 21:06:01.340  INFO 10956 --- [edisContainer-2] com.heydeproject.subscriber.Subscriber   : NAME Employee 11111\r\n2023-01-29 21:06:01.340  INFO 10956 --- [edisContainer-2] com.heydeproject.subscriber.Subscriber   : EMP SAVE Employee(empId=155, empName=Employee 11111, empSalary=100.0)\r\n2023-01-29 21:06:01.345 ERROR 10956 --- [edisContainer-2] o.s.d.r.l.a.MessageListenerAdapter       : Listener execution failed\r\n\r\njava.lang.NullPointerException: null\r\n\tat com.heydeproject.subscriber.Subscriber.onMessage(Subscriber.java:54) ~[classes/:na]\r\n\tat org.springframework.data.redis.listener.adapter.MessageListenerAdapter.onMessage(MessageListenerAdapter.java:296) ~[spring-data-redis-2.6.3.jar:2.6.3]\r\n\tat org.springframework.data.redis.listener.RedisMessageListenerContainer.executeListener(RedisMessageListenerContainer.java:263) ~[spring-data-redis-2.6.3.jar:2.6.3]\r\n\tat org.springframework.data.redis.listener.RedisMessageListenerContainer.processMessage(RedisMessageListenerContainer.java:253) ~[spring-data-redis-2.6.3.jar:2.6.3]\r\n\tat org.springframework.data.redis.listener.RedisMessageListenerContainer.lambda$dispatchMessage$1(RedisMessageListenerContainer.java:1051) ~[spring-data-redis-2.6.3.jar:2.6.3]\r\n\tat java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]\r\n\r\n```\r\nuse debug\r\n[when use debug mode repositories is null][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GLojU.png","title":"save data to mongodb from redis message","body":"<p>I have problem to save data to mongodb is always null. The data is from redis message publisher that i want to save as a consumer.</p>\n<p>I hope get the solution.</p>\n<p>Thanks</p>\n<p>Service</p>\n<pre><code>@Slf4j\n@Service\n@Transactional\npublic class Subscriber implements MessageListener {\n    @Autowired\n    private EmployeeRepositories employeeRepositories;\n    ObjectMapper mapper = new ObjectMapper();\n    @Override\n    public void onMessage(Message message, byte[] pattern) {\n\n        log.info(&quot;Message received {}&quot;, message);\n\n        try {\n            Employee employee = mapper.readValue(message.toString(), Employee.class);\n            log.info(&quot;Employee {}&quot;, employee);\n            log.info(&quot;NAME {}&quot;, employee.getEmpName());\n            Employee emp = new Employee();\n            emp.setEmpId(new Random().nextInt(1000));\n            emp.setEmpName(employee.getEmpName());\n            emp.setEmpSalary(employee.getEmpSalary());\n            log.info(&quot;EMP SAVE {}&quot;, emp);\n            employeeRepositories.save(emp);\n        } catch (JsonProcessingException e) {\n                throw new RuntimeException(e);\n        }\n\n    }\n</code></pre>\n<p>Employee.java</p>\n<pre><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Document(collection = &quot;Employee&quot;)\npublic class Employee implements Serializable {\n    @Id\n    private ObjectId id;\n    private Integer empId;\n    private String empName;\n    private Double empSalary;\n}\n</code></pre>\n<p>Repositories</p>\n<pre><code>\n@Repository\npublic interface EmployeeRepositories extends MongoRepository&lt;Employee, ObjectId&gt; {\n\n}\n</code></pre>\n<p>Always get Null</p>\n<pre><code>2023-01-29 21:06:00.855  INFO 10956 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'\n2023-01-29 21:06:00.857  INFO 10956 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms\n2023-01-29 21:06:01.321  INFO 10956 --- [edisContainer-2] com.heydeproject.subscriber.Subscriber   : Message received {&quot;empId&quot;:707,&quot;empName&quot;:&quot;Employee 11111&quot;,&quot;empSalary&quot;:100.0}\n2023-01-29 21:06:01.328  INFO 10956 --- [edisContainer-2] com.heydeproject.subscriber.Subscriber   : Employee Employee(empId=707, empName=Employee 11111, empSalary=100.0)\n2023-01-29 21:06:01.340  INFO 10956 --- [edisContainer-2] com.heydeproject.subscriber.Subscriber   : NAME Employee 11111\n2023-01-29 21:06:01.340  INFO 10956 --- [edisContainer-2] com.heydeproject.subscriber.Subscriber   : EMP SAVE Employee(empId=155, empName=Employee 11111, empSalary=100.0)\n2023-01-29 21:06:01.345 ERROR 10956 --- [edisContainer-2] o.s.d.r.l.a.MessageListenerAdapter       : Listener execution failed\n\njava.lang.NullPointerException: null\n    at com.heydeproject.subscriber.Subscriber.onMessage(Subscriber.java:54) ~[classes/:na]\n    at org.springframework.data.redis.listener.adapter.MessageListenerAdapter.onMessage(MessageListenerAdapter.java:296) ~[spring-data-redis-2.6.3.jar:2.6.3]\n    at org.springframework.data.redis.listener.RedisMessageListenerContainer.executeListener(RedisMessageListenerContainer.java:263) ~[spring-data-redis-2.6.3.jar:2.6.3]\n    at org.springframework.data.redis.listener.RedisMessageListenerContainer.processMessage(RedisMessageListenerContainer.java:253) ~[spring-data-redis-2.6.3.jar:2.6.3]\n    at org.springframework.data.redis.listener.RedisMessageListenerContainer.lambda$dispatchMessage$1(RedisMessageListenerContainer.java:1051) ~[spring-data-redis-2.6.3.jar:2.6.3]\n    at java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]\n\n</code></pre>\n<p>use debug\n<a href=\"https://i.stack.imgur.com/GLojU.png\" rel=\"nofollow noreferrer\">when use debug mode repositories is null</a></p>\n"},{"tags":["java","vscode-extensions"],"answers":[{"tags":[],"owner":{"account_id":480584,"reputation":8226,"user_id":893898,"accept_rate":42,"display_name":"Hantsy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674964603,"creation_date":1674964603,"answer_id":75272514,"question_id":75210691,"body_markdown":"I open a Java/Maven project in my VSCode(updated to the latest 1.74.3), it also show a *add* and *debug* in the **Java Projects** view.\r\n\r\nBut it is easy to run the main application directly in VSCode.\r\n\r\n1. Open the application class which includes a static `main` method, there is a *run/debug* icon in the top right location of the title bar. Click it to run your application directly or select *run* or *debug* from the dropdown menu.\r\n\r\n2. Create a custom `launch.json` file. Click the *Debug* icon in the left pane to show **Run/Debug** view, and if there is no launch.json existed, it will guide to create one. In the `launch.json` file, setup a *Launch Main* task.\r\n\r\n   ```json\r\n   {\r\n\r\n       &quot;version&quot;: &quot;0.2.0&quot;,\r\n       &quot;configurations&quot;: [\r\n           {\r\n            &quot;type&quot;: &quot;java&quot;,\r\n            &quot;name&quot;: &quot;Launch Main&quot;,\r\n            &quot;request&quot;: &quot;launch&quot;,\r\n            &quot;mainClass&quot;: &quot;com.example.demo.Main&quot;,\r\n            &quot;projectName&quot;: &quot;demo&quot;\r\n            }\r\n        ]\r\n    }\r\n   ```\r\n    Then in the title bar of **Run/Debug** view, there is a dropdown box which includes a **Launch Main** task, click it and run your application.\r\n\r\n\r\n ","title":"Why Project Manager for Java VS Code extension is only showing me debug button rather that run?","body":"<p>I open a Java/Maven project in my VSCode(updated to the latest 1.74.3), it also show a <em>add</em> and <em>debug</em> in the <strong>Java Projects</strong> view.</p>\n<p>But it is easy to run the main application directly in VSCode.</p>\n<ol>\n<li><p>Open the application class which includes a static <code>main</code> method, there is a <em>run/debug</em> icon in the top right location of the title bar. Click it to run your application directly or select <em>run</em> or <em>debug</em> from the dropdown menu.</p>\n</li>\n<li><p>Create a custom <code>launch.json</code> file. Click the <em>Debug</em> icon in the left pane to show <strong>Run/Debug</strong> view, and if there is no launch.json existed, it will guide to create one. In the <code>launch.json</code> file, setup a <em>Launch Main</em> task.</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n\n    &quot;version&quot;: &quot;0.2.0&quot;,\n    &quot;configurations&quot;: [\n        {\n         &quot;type&quot;: &quot;java&quot;,\n         &quot;name&quot;: &quot;Launch Main&quot;,\n         &quot;request&quot;: &quot;launch&quot;,\n         &quot;mainClass&quot;: &quot;com.example.demo.Main&quot;,\n         &quot;projectName&quot;: &quot;demo&quot;\n         }\n     ]\n }\n</code></pre>\n<p>Then in the title bar of <strong>Run/Debug</strong> view, there is a dropdown box which includes a <strong>Launch Main</strong> task, click it and run your application.</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":17983057,"reputation":1072,"user_id":13068918,"display_name":"Sheng Chen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675048266,"creation_date":1675048266,"answer_id":75279950,"question_id":75210691,"body_markdown":"We changed the shortcut button from run to debug several months ago. So the tutorial is out-of-date: https://github.com/microsoft/vscode-java-debug/pull/1108\r\n\r\nBut if you really want to run your application instead of debug. You can still right-click on your project and find the run action.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/FFDzc.png","title":"Why Project Manager for Java VS Code extension is only showing me debug button rather that run?","body":"<p>We changed the shortcut button from run to debug several months ago. So the tutorial is out-of-date: <a href=\"https://github.com/microsoft/vscode-java-debug/pull/1108\" rel=\"nofollow noreferrer\">https://github.com/microsoft/vscode-java-debug/pull/1108</a></p>\n<p>But if you really want to run your application instead of debug. You can still right-click on your project and find the run action.</p>\n<p><a href=\"https://i.stack.imgur.com/FFDzc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FFDzc.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":20044656,"reputation":351,"user_id":14694631,"display_name":"Heikki"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75279950,"answer_count":2,"score":1,"last_activity_date":1675048266,"creation_date":1674483062,"question_id":75210691,"body_markdown":"I am trying to create project example with VS Code using Project Manager for Java (as part of the Extension Pack for Java, by Microsoft). On [this short tutorial][1] there is a run button, but for me I only see debug button:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nWhy is this and how can I fix it?\r\n\r\n\r\n  [1]: https://youtu.be/rSEGXCPZqLw?t=247\r\n  [2]: https://i.stack.imgur.com/vmF8R.png","title":"Why Project Manager for Java VS Code extension is only showing me debug button rather that run?","body":"<p>I am trying to create project example with VS Code using Project Manager for Java (as part of the Extension Pack for Java, by Microsoft). On <a href=\"https://youtu.be/rSEGXCPZqLw?t=247\" rel=\"nofollow noreferrer\">this short tutorial</a> there is a run button, but for me I only see debug button:</p>\n<p><a href=\"https://i.stack.imgur.com/vmF8R.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vmF8R.png\" alt=\"enter image description here\" /></a></p>\n<p>Why is this and how can I fix it?</p>\n"},{"tags":["java","spring-boot","rest","spring-security","jwt"],"comments":[{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":0,"creation_date":1675108181,"post_id":75279516,"comment_id":132853818,"body_markdown":"Just use two security filter chains, one with OAuth2 and one without it.","body":"Just use two security filter chains, one with OAuth2 and one without it."},{"owner":{"account_id":2990082,"reputation":85,"user_id":2537816,"accept_rate":40,"display_name":"JMJ"},"score":0,"creation_date":1675296169,"post_id":75279516,"comment_id":132900893,"body_markdown":"Looking at using a Provider as we have others at the moment instead of using filter chains. Looking to setup a provider with jwks","body":"Looking at using a Provider as we have others at the moment instead of using filter chains. Looking to setup a provider with jwks"},{"owner":{"account_id":12966721,"reputation":499,"user_id":9373974,"display_name":"theg"},"score":0,"creation_date":1690307520,"post_id":75279516,"comment_id":135334234,"body_markdown":"How did you end up solving this?","body":"How did you end up solving this?"}],"owner":{"account_id":2990082,"reputation":85,"user_id":2537816,"accept_rate":40,"display_name":"JMJ"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675047147,"creation_date":1675041155,"question_id":75279516,"body_markdown":"Hi I am looking to set up oauth2ResourceServer for ping sso using oauth2 for a specific client which uses this authentication for our rest service. The other clients don&#39;t use this at the moment and to get them upgraded would take some time. How do I set this up for just specific URI. \r\n\r\nNote: all clients hit the rest service with different uri like ../client1/resource\r\n../client2/resource\r\n\r\nCan I filter if using\r\n````\r\nhttp.addFilterBefore(authenticationTokenFilterBean(), UsernamePasswordAuthenticationFilter.class);\r\n````\r\nand provide a customer Authentication provider like\r\nAbstractUserDetailsAuthenticationProvider? If so, how to setup the oauth2 server here?\r\n\r\nThis is what I intent to do (not figured out how to do it with a specific uri)\r\n\r\n        http.oauth2ResourceServer(oauth2ResourceServer -&gt;\r\n                oauth2ResourceServer.jwt(jwt -&gt; jwt.jwtAuthenticationConverter(getJwtAuthenticationConverter()))\r\n                        .authenticationEntryPoint(unauthorizedHandler)\r\n                        .accessDeniedHandler(unauthorizedHandler)\r\n                );","title":"oauth2ResourceServer for specific uri","body":"<p>Hi I am looking to set up oauth2ResourceServer for ping sso using oauth2 for a specific client which uses this authentication for our rest service. The other clients don't use this at the moment and to get them upgraded would take some time. How do I set this up for just specific URI.</p>\n<p>Note: all clients hit the rest service with different uri like ../client1/resource\n../client2/resource</p>\n<p>Can I filter if using</p>\n<pre><code>http.addFilterBefore(authenticationTokenFilterBean(), UsernamePasswordAuthenticationFilter.class);\n</code></pre>\n<p>and provide a customer Authentication provider like\nAbstractUserDetailsAuthenticationProvider? If so, how to setup the oauth2 server here?</p>\n<p>This is what I intent to do (not figured out how to do it with a specific uri)</p>\n<pre><code>    http.oauth2ResourceServer(oauth2ResourceServer -&gt;\n            oauth2ResourceServer.jwt(jwt -&gt; jwt.jwtAuthenticationConverter(getJwtAuthenticationConverter()))\n                    .authenticationEntryPoint(unauthorizedHandler)\n                    .accessDeniedHandler(unauthorizedHandler)\n            );\n</code></pre>\n"},{"tags":["java","postgresql","querydsl"],"owner":{"account_id":429938,"reputation":1918,"user_id":813102,"accept_rate":74,"display_name":"big"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":242,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675046888,"creation_date":1675046472,"question_id":75279844,"body_markdown":"I am trying to write this in querydsl\r\n\r\n```\r\nwith params (id) as ((select\r\n                  cast(&#39;03d47b00-9389-456a-bf1b-acfa1c37c4ed&#39; as uuid) as courseid)\r\n             union all\r\n             (select\r\n                  cast(&#39;03d47b00-9389-456a-bf1b-acfa1c37c4ed&#39; as uuid) as courseid)\r\n             union all\r\n             (select\r\n                  cast(&#39;03d47b00-9389-456a-bf1b-acfa1c37c4ed&#39; as uuid) as courseid)\r\n            )\r\nselect * from student join params on params.id = student.course_id\r\n```\r\nI am having trouble with casting to uuid\r\n\r\n```\r\nprivate void test() {\r\n    PathBuilder&lt;String&gt; builder = new PathBuilder&lt;&gt;(String.class, &quot;courseid&quot;);\r\n    QCourseEntity courseIdCte = new QCourseEntity(&quot;sub&quot;);\r\n    final JPASQLQuery&lt;StudentEntity&gt; query = getJPASQLQuery()\r\n            .with(courseIdCte, union(builder, courseIds.stream().map(id -&gt; id.toString()).collect(Collectors.toList())))\r\n\r\n}\r\n\r\nprivate static &lt;String&gt; Union&lt;String&gt; union(PathBuilder&lt;String&gt; pathBuilder, List&lt;String&gt; ids) {\r\n    return SQLExpressions.unionAll(\r\n            ids.stream()\r\n                    .map(id -&gt; SQLExpressions.select(Expressions.constantAs(id, pathBuilder)))\r\n                    .collect(Collectors.toList()));\r\n  }\r\n```\r\n\r\nAbove query is generating \r\n\r\n```\r\n    with sub as ((select\r\n        ? as courseid) \r\nunion\r\nall (select\r\n    ? as courseid) \r\nunion\r\nall (select\r\n? as courseid) \r\n```\r\n\r\nI want it to cast to uuid. Also I don&#39;t want to use in clause as it can \r\nreturn results less than number of ids provided if there are duplicate ids\r\n\r\nAlso,  I am using union call because querydsl does not support\r\nbelow syntax\r\n\r\n\r\n```\r\nwith params (tag) as (\r\n    values (&#39;03d47b00-9389-456a-bf1b-acfa1c37c4ed&#39;::uuid), (&#39;03d47b00-9389-456a-bf1b-acfa1c37c4ed&#39;::uuid),\r\n           (&#39;03d47b00-9389-456a-bf1b-acfa1c37c4ed&#39;::uuid)\r\n)\r\n```\r\n\r\n\r\n","title":"How can I cast to UUID in querydsl","body":"<p>I am trying to write this in querydsl</p>\n<pre><code>with params (id) as ((select\n                  cast('03d47b00-9389-456a-bf1b-acfa1c37c4ed' as uuid) as courseid)\n             union all\n             (select\n                  cast('03d47b00-9389-456a-bf1b-acfa1c37c4ed' as uuid) as courseid)\n             union all\n             (select\n                  cast('03d47b00-9389-456a-bf1b-acfa1c37c4ed' as uuid) as courseid)\n            )\nselect * from student join params on params.id = student.course_id\n</code></pre>\n<p>I am having trouble with casting to uuid</p>\n<pre><code>private void test() {\n    PathBuilder&lt;String&gt; builder = new PathBuilder&lt;&gt;(String.class, &quot;courseid&quot;);\n    QCourseEntity courseIdCte = new QCourseEntity(&quot;sub&quot;);\n    final JPASQLQuery&lt;StudentEntity&gt; query = getJPASQLQuery()\n            .with(courseIdCte, union(builder, courseIds.stream().map(id -&gt; id.toString()).collect(Collectors.toList())))\n\n}\n\nprivate static &lt;String&gt; Union&lt;String&gt; union(PathBuilder&lt;String&gt; pathBuilder, List&lt;String&gt; ids) {\n    return SQLExpressions.unionAll(\n            ids.stream()\n                    .map(id -&gt; SQLExpressions.select(Expressions.constantAs(id, pathBuilder)))\n                    .collect(Collectors.toList()));\n  }\n</code></pre>\n<p>Above query is generating</p>\n<pre><code>    with sub as ((select\n        ? as courseid) \nunion\nall (select\n    ? as courseid) \nunion\nall (select\n? as courseid) \n</code></pre>\n<p>I want it to cast to uuid. Also I don't want to use in clause as it can\nreturn results less than number of ids provided if there are duplicate ids</p>\n<p>Also,  I am using union call because querydsl does not support\nbelow syntax</p>\n<pre><code>with params (tag) as (\n    values ('03d47b00-9389-456a-bf1b-acfa1c37c4ed'::uuid), ('03d47b00-9389-456a-bf1b-acfa1c37c4ed'::uuid),\n           ('03d47b00-9389-456a-bf1b-acfa1c37c4ed'::uuid)\n)\n</code></pre>\n"},{"tags":["java","gradle","build.gradle","gradlew"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1586294984,"post_id":61086193,"comment_id":108076250,"body_markdown":"Are you sure this error comes from the command line? Or, asking differently, do you have a Gradle task in your `build.gradle` that tries to call gradlew again, e.g., with `exec`? What happens when you specify the full path / file name, e.g., `c:\\user\\you\\prj\\gradlew.bat clean build`?","body":"Are you sure this error comes from the command line? Or, asking differently, do you have a Gradle task in your <code>build.gradle</code> that tries to call gradlew again, e.g., with <code>exec</code>? What happens when you specify the full path / file name, e.g., <code>c:\\user\\you\\prj\\gradlew.bat clean build</code>?"}],"answers":[{"tags":[],"owner":{"account_id":2767223,"reputation":21433,"user_id":2382650,"accept_rate":92,"display_name":"Cisco"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1586314318,"creation_date":1586314318,"answer_id":61092592,"question_id":61086193,"body_markdown":"You&#39;re missing the `.` dot in your command. And from your screenshot, you&#39;re own a Windows machine so you should use the `.bat` script.\r\n\r\n    ./gradlew.bat help","title":"Gradle Wrapper: command not found?","body":"<p>You're missing the <code>.</code> dot in your command. And from your screenshot, you're own a Windows machine so you should use the <code>.bat</code> script.</p>\n\n<pre><code>./gradlew.bat help\n</code></pre>\n"}],"owner":{"account_id":16962007,"reputation":1665,"user_id":12268910,"display_name":"java12399900"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7082,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":61092592,"answer_count":1,"score":1,"last_activity_date":1675046321,"creation_date":1586281608,"question_id":61086193,"body_markdown":"In my spring Boot web app I have added the `Gradle Wrapper` to source control so that a user does not need gradle pre-installed to run my application. \r\n\r\nMy project file Structure is shown below - note the gradle folder with `gradle-wrapper.jar` , `gradle-wrapper.properties` and `gradlew batch file` are present.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nHowever when try to run `gradlew clean build` in this folder I get:\r\n\r\n    gradlew:command not found\r\n\r\nHow can I solve this?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/62T1X.png","title":"Gradle Wrapper: command not found?","body":"<p>In my spring Boot web app I have added the <code>Gradle Wrapper</code> to source control so that a user does not need gradle pre-installed to run my application. </p>\n\n<p>My project file Structure is shown below - note the gradle folder with <code>gradle-wrapper.jar</code> , <code>gradle-wrapper.properties</code> and <code>gradlew batch file</code> are present.</p>\n\n<p><a href=\"https://i.stack.imgur.com/62T1X.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/62T1X.png\" alt=\"enter image description here\"></a></p>\n\n<p>However when try to run <code>gradlew clean build</code> in this folder I get:</p>\n\n<pre><code>gradlew:command not found\n</code></pre>\n\n<p>How can I solve this?</p>\n"},{"tags":["java","spring-boot","google-cloud-platform","google-bigquery","spring-cloud-gcp-bigquery"],"comments":[{"owner":{"account_id":23523457,"reputation":1405,"user_id":17570298,"display_name":"Shipra Sarkar"},"score":0,"creation_date":1675236673,"post_id":75279821,"comment_id":132882622,"body_markdown":"Hi @Andulos, this exception is caused due to error in the underlying protocol such as TCP error. I would suggest you to check the logs and find out whether the client has closed the TCP connection due to timeout or Runtime Exception at the client end. Let me know if that helps.","body":"Hi @Andulos, this exception is caused due to error in the underlying protocol such as TCP error. I would suggest you to check the logs and find out whether the client has closed the TCP connection due to timeout or Runtime Exception at the client end. Let me know if that helps."}],"owner":{"account_id":3855913,"reputation":433,"user_id":3194858,"accept_rate":100,"display_name":"Andulos"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":489,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675046128,"creation_date":1675046128,"question_id":75279821,"body_markdown":"I am getting the below exception when my REST API tries to connect to a Google BigQuery account on UAT environment. \r\n\r\n    2023-01-30 02:12:59.823 ERROR 8 --- [nio-8080-exec-9] o.a.c.c.C.[.[.[.[dispatcherServlet]      : Servlet.service() for servlet [dispatcherServlet] in context with path [/api/users] threw exception [Request processing failed; nested exception is com.google.cloud.bigquery.BigQueryException: Error getting access token for service account: Connection reset, iss: &lt;somename&gt;.iam.gserviceaccount.com] with root cause\r\n    \r\n    java.net.SocketException: Connection reset\r\n    \tat java.base/java.net.SocketInputStream.read(Unknown Source) ~[na:na]\r\n    \tat java.base/java.net.SocketInputStream.read(Unknown Source) ~[na:na]\r\n    \tat java.base/sun.security.ssl.SSLSocketInputRecord.read(Unknown Source) ~[na:na]\r\n    \tat java.base/sun.security.ssl.SSLSocketInputRecord.readHeader(Unknown Source) ~[na:na]\r\n    \tat java.base/sun.security.ssl.SSLSocketInputRecord.decode(Unknown Source) ~[na:na]\r\n    \tat java.base/sun.security.ssl.SSLTransport.decode(Unknown Source) ~[na:na]\r\n    \tat java.base/sun.security.ssl.SSLSocketImpl.decode(Unknown Source) ~[na:na]\r\n    \tat java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(Unknown Source) ~[na:na]\r\n    \tat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source) ~[na:na]\r\n    \tat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source) ~[na:na]\r\n    \tat java.base/sun.net.www.protocol.https.HttpsClient.afterConnect(Unknown Source) ~[na:na]\r\n    \tat java.base/sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(Unknown Source) ~[na:na]\r\n    \tat java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream0(Unknown Source) ~[na:na]\r\n    \tat java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream(Unknown Source) ~[na:na]\r\n    \tat java.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.getOutputStream(Unknown Source) ~[na:na]\r\n    \tat com.google.api.client.http.javanet.NetHttpRequest.execute(NetHttpRequest.java:113) ~[google-http-client-1.40.0.jar!/:1.40.0]\r\n    \tat com.google.api.client.http.javanet.NetHttpRequest.execute(NetHttpRequest.java:84) ~[google-http-client-1.40.0.jar!/:1.40.0]\r\n    \tat com.google.api.client.http.HttpRequest.execute(HttpRequest.java:1012) ~[google-http-client-1.40.0.jar!/:1.40.0]\r\n    \tat com.google.auth.oauth2.ServiceAccountCredentials.refreshAccessToken(ServiceAccountCredentials.java:602) ~[google-auth-library-oauth2-http-1.1.0.jar!/:na]\r\n    \tat com.google.auth.oauth2.OAuth2Credentials$1.call(OAuth2Credentials.java:243) ~[google-auth-library-oauth2-http-1.1.0.jar!/:na]\r\n    \tat com.google.auth.oauth2.OAuth2Credentials$1.call(OAuth2Credentials.java:240) ~[google-auth-library-oauth2-http-1.1.0.jar!/:na]\r\n    \tat java.base/java.util.concurrent.FutureTask.run(Unknown Source) ~[na:na]\r\n    \tat com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:30) ~[guava-30.1.1-jre.jar!/:na]\r\n    \tat com.google.auth.oauth2.OAuth2Credentials$AsyncRefreshResult.executeIfNew(OAuth2Credentials.java:567) ~[google-auth-library-oauth2-http-1.1.0.jar!/:na]\r\n    \tat com.google.auth.oauth2.OAuth2Credentials.asyncFetch(OAuth2Credentials.java:206) ~[google-auth-library-oauth2-http-1.1.0.jar!/:na]\r\n    \tat com.google.auth.oauth2.OAuth2Credentials.getRequestMetadata(OAuth2Credentials.java:156) ~[google-auth-library-oauth2-http-1.1.0.jar!/:na]\r\n    \tat com.google.auth.oauth2.ServiceAccountCredentials.getRequestMetadata(ServiceAccountCredentials.java:1022) ~[google-auth-library-oauth2-http-1.1.0.jar!/:na]\r\n    \tat com.google.auth.http.HttpCredentialsAdapter.initialize(HttpCredentialsAdapter.java:96) ~[google-auth-library-oauth2-http-1.1.0.jar!/:na]\r\n    \tat com.google.cloud.http.HttpTransportOptions$1.initialize(HttpTransportOptions.java:159) ~[google-cloud-core-http-2.1.2.jar!/:2.1.2]\r\n    \tat com.google.api.client.http.HttpRequestFactory.buildRequest(HttpRequestFactory.java:91) ~[google-http-client-1.40.0.jar!/:1.40.0]\r\n    \tat com.google.api.client.googleapis.services.AbstractGoogleClientRequest.buildHttpRequest(AbstractGoogleClientRequest.java:404) ~[google-api-client-1.32.1.jar!/:1.32.1]\r\n    \tat com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeUnparsed(AbstractGoogleClientRequest.java:514) ~[google-api-client-1.32.1.jar!/:1.32.1]\r\n    \tat com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeUnparsed(AbstractGoogleClientRequest.java:455) ~[google-api-client-1.32.1.jar!/:1.32.1]\r\n    \tat com.google.api.client.googleapis.services.AbstractGoogleClientRequest.execute(AbstractGoogleClientRequest.java:565) ~[google-api-client-1.32.1.jar!/:1.32.1]\r\n    \tat com.google.cloud.bigquery.spi.v2.HttpBigQueryRpc.queryRpc(HttpBigQueryRpc.java:650) ~[google-cloud-bigquery-2.1.6.jar!/:2.1.6]\r\n    \tat com.google.cloud.bigquery.BigQueryImpl$35.call(BigQueryImpl.java:1284) ~[google-cloud-bigquery-2.1.6.jar!/:2.1.6]\r\n    \tat com.google.cloud.bigquery.BigQueryImpl$35.call(BigQueryImpl.java:1281) ~[google-cloud-bigquery-2.1.6.jar!/:2.1.6]\r\n    \tat com.google.api.gax.retrying.DirectRetryingExecutor.submit(DirectRetryingExecutor.java:105) ~[gax-2.4.0.jar!/:2.4.0]\r\n    \tat com.google.cloud.bigquery.BigQueryRetryHelper.run(BigQueryRetryHelper.java:85) ~[google-cloud-bigquery-2.1.6.jar!/:2.1.6]\r\n    \tat com.google.cloud.bigquery.BigQueryRetryHelper.runWithRetries(BigQueryRetryHelper.java:49) ~[google-cloud-bigquery-2.1.6.jar!/:2.1.6]\r\n    \tat com.google.cloud.bigquery.BigQueryImpl.queryRpc(BigQueryImpl.java:1280) ~[google-cloud-bigquery-2.1.6.jar!/:2.1.6]\r\n    \tat com.google.cloud.bigquery.BigQueryImpl.query(BigQueryImpl.java:1268) ~[google-cloud-bigquery-2.1.6.jar!/:2.1.6]\r\n\r\n\r\nBelow is the snippet that executes the query on BigQuery\r\n\r\n\r\n    public TableResult runQuery(String query) throws InterruptedException {\r\n            try {\r\n                bigquery = BigQueryOptions.newBuilder().setProjectId(bigQueryApplicationProperties.getProjectId()).setCredentials(GoogleCredentialsUtility.getCredentials(googleCredentials)).build().getService();\r\n            } catch (IOException ex) {\r\n                throw new BigQuerySearchException(&quot;IO Exception thrown - can&#39;t find google credentials file&quot;, ex);\r\n            }\r\n            QueryJobConfiguration queryConfig = QueryJobConfiguration.newBuilder(query).build();\r\n    \r\n            \r\n            return bigquery.query(queryConfig);\r\n    \r\n        }\r\n\r\n\r\nThe same code on my local works fine. Should I move my cacerts file from local to UAT env? \r\n","title":"BigQueryException Connection Reset","body":"<p>I am getting the below exception when my REST API tries to connect to a Google BigQuery account on UAT environment.</p>\n<pre><code>2023-01-30 02:12:59.823 ERROR 8 --- [nio-8080-exec-9] o.a.c.c.C.[.[.[.[dispatcherServlet]      : Servlet.service() for servlet [dispatcherServlet] in context with path [/api/users] threw exception [Request processing failed; nested exception is com.google.cloud.bigquery.BigQueryException: Error getting access token for service account: Connection reset, iss: &lt;somename&gt;.iam.gserviceaccount.com] with root cause\n\njava.net.SocketException: Connection reset\n    at java.base/java.net.SocketInputStream.read(Unknown Source) ~[na:na]\n    at java.base/java.net.SocketInputStream.read(Unknown Source) ~[na:na]\n    at java.base/sun.security.ssl.SSLSocketInputRecord.read(Unknown Source) ~[na:na]\n    at java.base/sun.security.ssl.SSLSocketInputRecord.readHeader(Unknown Source) ~[na:na]\n    at java.base/sun.security.ssl.SSLSocketInputRecord.decode(Unknown Source) ~[na:na]\n    at java.base/sun.security.ssl.SSLTransport.decode(Unknown Source) ~[na:na]\n    at java.base/sun.security.ssl.SSLSocketImpl.decode(Unknown Source) ~[na:na]\n    at java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(Unknown Source) ~[na:na]\n    at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source) ~[na:na]\n    at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source) ~[na:na]\n    at java.base/sun.net.www.protocol.https.HttpsClient.afterConnect(Unknown Source) ~[na:na]\n    at java.base/sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(Unknown Source) ~[na:na]\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream0(Unknown Source) ~[na:na]\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream(Unknown Source) ~[na:na]\n    at java.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.getOutputStream(Unknown Source) ~[na:na]\n    at com.google.api.client.http.javanet.NetHttpRequest.execute(NetHttpRequest.java:113) ~[google-http-client-1.40.0.jar!/:1.40.0]\n    at com.google.api.client.http.javanet.NetHttpRequest.execute(NetHttpRequest.java:84) ~[google-http-client-1.40.0.jar!/:1.40.0]\n    at com.google.api.client.http.HttpRequest.execute(HttpRequest.java:1012) ~[google-http-client-1.40.0.jar!/:1.40.0]\n    at com.google.auth.oauth2.ServiceAccountCredentials.refreshAccessToken(ServiceAccountCredentials.java:602) ~[google-auth-library-oauth2-http-1.1.0.jar!/:na]\n    at com.google.auth.oauth2.OAuth2Credentials$1.call(OAuth2Credentials.java:243) ~[google-auth-library-oauth2-http-1.1.0.jar!/:na]\n    at com.google.auth.oauth2.OAuth2Credentials$1.call(OAuth2Credentials.java:240) ~[google-auth-library-oauth2-http-1.1.0.jar!/:na]\n    at java.base/java.util.concurrent.FutureTask.run(Unknown Source) ~[na:na]\n    at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:30) ~[guava-30.1.1-jre.jar!/:na]\n    at com.google.auth.oauth2.OAuth2Credentials$AsyncRefreshResult.executeIfNew(OAuth2Credentials.java:567) ~[google-auth-library-oauth2-http-1.1.0.jar!/:na]\n    at com.google.auth.oauth2.OAuth2Credentials.asyncFetch(OAuth2Credentials.java:206) ~[google-auth-library-oauth2-http-1.1.0.jar!/:na]\n    at com.google.auth.oauth2.OAuth2Credentials.getRequestMetadata(OAuth2Credentials.java:156) ~[google-auth-library-oauth2-http-1.1.0.jar!/:na]\n    at com.google.auth.oauth2.ServiceAccountCredentials.getRequestMetadata(ServiceAccountCredentials.java:1022) ~[google-auth-library-oauth2-http-1.1.0.jar!/:na]\n    at com.google.auth.http.HttpCredentialsAdapter.initialize(HttpCredentialsAdapter.java:96) ~[google-auth-library-oauth2-http-1.1.0.jar!/:na]\n    at com.google.cloud.http.HttpTransportOptions$1.initialize(HttpTransportOptions.java:159) ~[google-cloud-core-http-2.1.2.jar!/:2.1.2]\n    at com.google.api.client.http.HttpRequestFactory.buildRequest(HttpRequestFactory.java:91) ~[google-http-client-1.40.0.jar!/:1.40.0]\n    at com.google.api.client.googleapis.services.AbstractGoogleClientRequest.buildHttpRequest(AbstractGoogleClientRequest.java:404) ~[google-api-client-1.32.1.jar!/:1.32.1]\n    at com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeUnparsed(AbstractGoogleClientRequest.java:514) ~[google-api-client-1.32.1.jar!/:1.32.1]\n    at com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeUnparsed(AbstractGoogleClientRequest.java:455) ~[google-api-client-1.32.1.jar!/:1.32.1]\n    at com.google.api.client.googleapis.services.AbstractGoogleClientRequest.execute(AbstractGoogleClientRequest.java:565) ~[google-api-client-1.32.1.jar!/:1.32.1]\n    at com.google.cloud.bigquery.spi.v2.HttpBigQueryRpc.queryRpc(HttpBigQueryRpc.java:650) ~[google-cloud-bigquery-2.1.6.jar!/:2.1.6]\n    at com.google.cloud.bigquery.BigQueryImpl$35.call(BigQueryImpl.java:1284) ~[google-cloud-bigquery-2.1.6.jar!/:2.1.6]\n    at com.google.cloud.bigquery.BigQueryImpl$35.call(BigQueryImpl.java:1281) ~[google-cloud-bigquery-2.1.6.jar!/:2.1.6]\n    at com.google.api.gax.retrying.DirectRetryingExecutor.submit(DirectRetryingExecutor.java:105) ~[gax-2.4.0.jar!/:2.4.0]\n    at com.google.cloud.bigquery.BigQueryRetryHelper.run(BigQueryRetryHelper.java:85) ~[google-cloud-bigquery-2.1.6.jar!/:2.1.6]\n    at com.google.cloud.bigquery.BigQueryRetryHelper.runWithRetries(BigQueryRetryHelper.java:49) ~[google-cloud-bigquery-2.1.6.jar!/:2.1.6]\n    at com.google.cloud.bigquery.BigQueryImpl.queryRpc(BigQueryImpl.java:1280) ~[google-cloud-bigquery-2.1.6.jar!/:2.1.6]\n    at com.google.cloud.bigquery.BigQueryImpl.query(BigQueryImpl.java:1268) ~[google-cloud-bigquery-2.1.6.jar!/:2.1.6]\n</code></pre>\n<p>Below is the snippet that executes the query on BigQuery</p>\n<pre><code>public TableResult runQuery(String query) throws InterruptedException {\n        try {\n            bigquery = BigQueryOptions.newBuilder().setProjectId(bigQueryApplicationProperties.getProjectId()).setCredentials(GoogleCredentialsUtility.getCredentials(googleCredentials)).build().getService();\n        } catch (IOException ex) {\n            throw new BigQuerySearchException(&quot;IO Exception thrown - can't find google credentials file&quot;, ex);\n        }\n        QueryJobConfiguration queryConfig = QueryJobConfiguration.newBuilder(query).build();\n\n        \n        return bigquery.query(queryConfig);\n\n    }\n</code></pre>\n<p>The same code on my local works fine. Should I move my cacerts file from local to UAT env?</p>\n"},{"tags":["java","hibernate","jpa","bean-validation"],"answers":[{"tags":[],"owner":{"account_id":404979,"reputation":18340,"user_id":773616,"accept_rate":83,"display_name":"Gunnar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1374497686,"creation_date":1374497686,"answer_id":17788171,"question_id":17787449,"body_markdown":"No, there isn&#39;t, the reason being that there is no bean instance when invoking `Validator#validateValue()`.","title":"How to access the leaf or root bean from the ConstraintValidator.isValid method?","body":"<p>No, there isn't, the reason being that there is no bean instance when invoking <code>Validator#validateValue()</code>.</p>\n"}],"owner":{"account_id":384223,"reputation":1237,"user_id":740582,"accept_rate":39,"display_name":"Marcos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":834,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1675045664,"creation_date":1374495722,"question_id":17787449,"body_markdown":"Is there a way to access the leaf or root bean from the `ConstraintValidator.isValid` method? If not, are there any workarounds?\r\n\r\nThank you.\r\n\r\nMarcos","title":"How to access the leaf or root bean from the ConstraintValidator.isValid method?","body":"<p>Is there a way to access the leaf or root bean from the <code>ConstraintValidator.isValid</code> method? If not, are there any workarounds?</p>\n\n<p>Thank you.</p>\n\n<p>Marcos</p>\n"},{"tags":["java","spring-boot","docker","kubernetes","google-bigquery"],"answers":[{"tags":[],"owner":{"account_id":12473930,"reputation":338,"user_id":15491774,"display_name":"stylepatrick"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674452985,"creation_date":1674452985,"answer_id":75206018,"question_id":75203134,"body_markdown":"It is required to add the certificate to your Dockerfile. It will add the certificate to your docker image:\r\n\r\n```\r\nWORKDIR /opt/workdir/\r\n#.crt file in the same folder as your Dockerfile\r\nARG CERT=&quot;star.crt&quot;\r\n\r\n#import cert into java\r\nCOPY $CERT /opt/workdir/\r\nRUN keytool -importcert -file $CERT -alias $CERT -cacerts -storepass changeit -noprompt\r\n```","title":"How to copy certificate files from local Java KeyStore to Docker image/container/pod?","body":"<p>It is required to add the certificate to your Dockerfile. It will add the certificate to your docker image:</p>\n<pre><code>WORKDIR /opt/workdir/\n#.crt file in the same folder as your Dockerfile\nARG CERT=&quot;star.crt&quot;\n\n#import cert into java\nCOPY $CERT /opt/workdir/\nRUN keytool -importcert -file $CERT -alias $CERT -cacerts -storepass changeit -noprompt\n</code></pre>\n"}],"owner":{"account_id":3855913,"reputation":433,"user_id":3194858,"accept_rate":100,"display_name":"Andulos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":339,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675045364,"creation_date":1674414569,"question_id":75203134,"body_markdown":"I am building a Spring Boot REST API that connected to a BigQuery backend to fetch data. The app works fine on my local. When I deploy it to a lower environment, I get the below error when I access an endpoint.\r\n\r\n    Error getting access token for service account: Connection reset, iss: &lt;&gt;.iam.gserviceaccount.com] with root cause\r\n    java.net.SocketException: Connection reset\r\n    \tat java.base/java.net.SocketInputStream.read(Unknown Source) ~[na:na]\r\n    \tat java.base/java.net.SocketInputStream.read(Unknown Source) ~[na:na]\r\n    \tat java.base/sun.security.ssl.SSLSocketInputRecord.read(Unknown Source) ~[na:na]\r\n    \tat java.base/sun.security.ssl.SSLSocketInputRecord.readHeader(Unknown Source) ~[na:na]\r\n    \tat java.base/sun.security.ssl.SSLSocketInputRecord.decode(Unknown Source) ~[na:na]\r\n    \tat java.base/sun.security.ssl.SSLTransport.decode(Unknown Source) ~[na:na]\r\n    \tat java.base/sun.security.ssl.SSLSocketImpl.decode(Unknown Source) ~[na:na]\r\n    \tat java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(Unknown Source) ~[na:na]\r\n    \tat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source) ~[na:na]\r\n    \tat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source) ~[na:na]\r\n    \tat java.base/sun.net.www.protocol.https.HttpsClient.afterConnect(Unknown Source) ~[na:na]\r\n    \tat java.base/sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(Unknown Source) ~[na:na]\r\n    \tat java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream0(Unknown Source) ~[na:na]\r\n    \tat java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream(Unknown Source) ~[na:na]\r\n    \tat java.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.getOutputStream(Unknown Source) ~[na:na]\r\n    \tat com.google.api.client.http.javanet.NetHttpRequest.execute(NetHttpRequest.java:113) ~[google-http-client-1.40.0.jar!/:1.40.0]\r\n    \tat com.google.api.client.http.javanet.NetHttpRequest.execute(NetHttpRequest.java:84) ~[google-http-client-1.40.0.jar!/:1.40.0]\r\n    \tat com.google.api.client.http.HttpRequest.execute(HttpRequest.java:1012) ~[google-http-client-1.40.0.jar!/:1.40.0]\r\n    \tat com.google.auth.oauth2.ServiceAccountCredentials.refreshAccessToken(ServiceAccountCredentials.java:602) ~[google-auth-library-oauth2-http-1.1.0.jar!/:na]\r\n    \tat com.google.auth.oauth2.OAuth2Credentials$1.call(OAuth2Credentials.java:243) ~[google-auth-library-oauth2-http-1.1.0.jar!/:na]\r\n    \tat com.google.auth.oauth2.OAuth2Credentials$1.call(OAuth2Credentials.java:240) ~[google-auth-library-oauth2-http-1.1.0.jar!/:na]\r\n    \tat java.base/java.util.concurrent.FutureTask.run(Unknown Source) ~[na:na]\r\n    \tat com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:30) ~[guava-30.1.1-jre.jar!/:na]\r\n    \tat com.google.auth.oauth2.OAuth2Credentials$AsyncRefreshResult.executeIfNew(OAuth2Credentials.java:567) ~[google-auth-library-oauth2-http-1.1.0.jar!/:na]\r\n    \tat com.google.auth.oauth2.OAuth2Credentials.asyncFetch(OAuth2Credentials.java:206) ~[google-auth-library-oauth2-http-1.1.0.jar!/:na]\r\n    \tat com.google.auth.oauth2.OAuth2Credentials.getRequestMetadata(OAuth2Credentials.java:156) ~[google-auth-library-oauth2-http-1.1.0.jar!/:na]\r\n    \tat com.google.auth.oauth2.ServiceAccountCredentials.getRequestMetadata(ServiceAccountCredentials.java:1022) ~[google-auth-library-oauth2-http-1.1.0.jar!/:na]\r\n    \tat com.google.auth.http.HttpCredentialsAdapter.initialize(HttpCredentialsAdapter.java:96) ~[google-auth-library-oauth2-http-1.1.0.jar!/:na]\r\n    \tat com.google.cloud.http.HttpTransportOptions$1.initialize(HttpTransportOptions.java:159) ~[google-cloud-core-http-2.1.2.jar!/:2.1.2]\r\n    \tat com.google.api.client.http.HttpRequestFactory.buildRequest(HttpRequestFactory.java:91) ~[google-http-client-1.40.0.jar!/:1.40.0]\r\n    \tat com.google.api.client.googleapis.services.AbstractGoogleClientRequest.buildHttpRequest(AbstractGoogleClientRequest.java:404) ~[google-api-client-1.32.1.jar!/:1.32.1]\r\n    \tat com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeUnparsed(AbstractGoogleClientRequest.java:514) ~[google-api-client-1.32.1.jar!/:1.32.1]\r\n    \tat com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeUnparsed(AbstractGoogleClientRequest.java:455) ~[google-api-client-1.32.1.jar!/:1.32.1]\r\n    \tat com.google.api.client.googleapis.services.AbstractGoogleClientRequest.execute(AbstractGoogleClientRequest.java:565) ~[google-api-client-1.32.1.jar!/:1.32.1]\r\n    \tat com.google.cloud.bigquery.spi.v2.HttpBigQueryRpc.create(HttpBigQueryRpc.java:218) ~[google-cloud-bigquery-2.1.6.jar!/:2.1.6]\r\n    \tat com.google.cloud.bigquery.BigQueryImpl$5.call(BigQueryImpl.java:374) ~[google-cloud-bigquery-2.1.6.jar!/:2.1.6]\r\n    \tat com.google.cloud.bigquery.BigQueryImpl$5.call(BigQueryImpl.java:371) ~[google-cloud-bigquery-2.1.6.jar!/:2.1.6]\r\n    \tat com.google.api.gax.retrying.DirectRetryingExecutor.submit(DirectRetryingExecutor.java:105) ~[gax-2.4.0.jar!/:2.4.0]\r\n    \tat com.google.cloud.RetryHelper.run(RetryHelper.java:76) ~[google-cloud-core-2.1.2.jar!/:2.1.2]\r\n    \tat com.google.cloud.RetryHelper.runWithRetries(RetryHelper.java:50) ~[google-cloud-core-2.1.2.jar!/:2.1.2]\r\n    \tat com.google.cloud.bigquery.BigQueryImpl.create(BigQueryImpl.java:370) ~[google-cloud-bigquery-2.1.6.jar!/:2.1.6]\r\n    \tat com.google.cloud.bigquery.BigQueryImpl.create(BigQueryImpl.java:345) ~[google-cloud-bigquery-2.1.6.jar!/:2.1.6]\r\n\r\nThis exception occurs when the application tries to authenticate to Google Service Account.\r\n\r\n    BigQuery bigquery = BigQueryOptions.newBuilder().setProjectId(bigQueryApplicationProperties.getProjectId()).setCredentials(GoogleCredentialsUtility.getCredentials(googleCredentials)).build().getService();\r\n\r\nGoogleCredentials is the properties file that has all the Private Key, auth uri, project id etc.\r\n\r\n    @ConfigurationProperties(prefix = &quot;google.bigquery.credentials&quot;)\r\n    public class GoogleCredentials {\r\n    \r\n        private String type;\r\n        private String project_id;\r\n        private String private_key_id;\r\n        private String private_key;\r\n        private String client_email;\r\n        private String client_id;\r\n        private String auth_uri;\r\n        private String token_uri;\r\n        private String auth_provider_x509_cert_url;\r\n        private String client_x509_cert_url;\r\n    \r\n    }\r\n\r\nOn local machine, I have certificate files on the local Java KeyStore path - /Library/Java/JavaVirtualMachines/zulu-11.jdk/Contents/Home/lib/security.\r\n\r\nHow do I place the same files on the Docker Image/Container/Pod for the application to be able to authenticate to Google Service Account? ","title":"How to copy certificate files from local Java KeyStore to Docker image/container/pod?","body":"<p>I am building a Spring Boot REST API that connected to a BigQuery backend to fetch data. The app works fine on my local. When I deploy it to a lower environment, I get the below error when I access an endpoint.</p>\n<pre><code>Error getting access token for service account: Connection reset, iss: &lt;&gt;.iam.gserviceaccount.com] with root cause\njava.net.SocketException: Connection reset\n    at java.base/java.net.SocketInputStream.read(Unknown Source) ~[na:na]\n    at java.base/java.net.SocketInputStream.read(Unknown Source) ~[na:na]\n    at java.base/sun.security.ssl.SSLSocketInputRecord.read(Unknown Source) ~[na:na]\n    at java.base/sun.security.ssl.SSLSocketInputRecord.readHeader(Unknown Source) ~[na:na]\n    at java.base/sun.security.ssl.SSLSocketInputRecord.decode(Unknown Source) ~[na:na]\n    at java.base/sun.security.ssl.SSLTransport.decode(Unknown Source) ~[na:na]\n    at java.base/sun.security.ssl.SSLSocketImpl.decode(Unknown Source) ~[na:na]\n    at java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(Unknown Source) ~[na:na]\n    at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source) ~[na:na]\n    at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source) ~[na:na]\n    at java.base/sun.net.www.protocol.https.HttpsClient.afterConnect(Unknown Source) ~[na:na]\n    at java.base/sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(Unknown Source) ~[na:na]\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream0(Unknown Source) ~[na:na]\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream(Unknown Source) ~[na:na]\n    at java.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.getOutputStream(Unknown Source) ~[na:na]\n    at com.google.api.client.http.javanet.NetHttpRequest.execute(NetHttpRequest.java:113) ~[google-http-client-1.40.0.jar!/:1.40.0]\n    at com.google.api.client.http.javanet.NetHttpRequest.execute(NetHttpRequest.java:84) ~[google-http-client-1.40.0.jar!/:1.40.0]\n    at com.google.api.client.http.HttpRequest.execute(HttpRequest.java:1012) ~[google-http-client-1.40.0.jar!/:1.40.0]\n    at com.google.auth.oauth2.ServiceAccountCredentials.refreshAccessToken(ServiceAccountCredentials.java:602) ~[google-auth-library-oauth2-http-1.1.0.jar!/:na]\n    at com.google.auth.oauth2.OAuth2Credentials$1.call(OAuth2Credentials.java:243) ~[google-auth-library-oauth2-http-1.1.0.jar!/:na]\n    at com.google.auth.oauth2.OAuth2Credentials$1.call(OAuth2Credentials.java:240) ~[google-auth-library-oauth2-http-1.1.0.jar!/:na]\n    at java.base/java.util.concurrent.FutureTask.run(Unknown Source) ~[na:na]\n    at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:30) ~[guava-30.1.1-jre.jar!/:na]\n    at com.google.auth.oauth2.OAuth2Credentials$AsyncRefreshResult.executeIfNew(OAuth2Credentials.java:567) ~[google-auth-library-oauth2-http-1.1.0.jar!/:na]\n    at com.google.auth.oauth2.OAuth2Credentials.asyncFetch(OAuth2Credentials.java:206) ~[google-auth-library-oauth2-http-1.1.0.jar!/:na]\n    at com.google.auth.oauth2.OAuth2Credentials.getRequestMetadata(OAuth2Credentials.java:156) ~[google-auth-library-oauth2-http-1.1.0.jar!/:na]\n    at com.google.auth.oauth2.ServiceAccountCredentials.getRequestMetadata(ServiceAccountCredentials.java:1022) ~[google-auth-library-oauth2-http-1.1.0.jar!/:na]\n    at com.google.auth.http.HttpCredentialsAdapter.initialize(HttpCredentialsAdapter.java:96) ~[google-auth-library-oauth2-http-1.1.0.jar!/:na]\n    at com.google.cloud.http.HttpTransportOptions$1.initialize(HttpTransportOptions.java:159) ~[google-cloud-core-http-2.1.2.jar!/:2.1.2]\n    at com.google.api.client.http.HttpRequestFactory.buildRequest(HttpRequestFactory.java:91) ~[google-http-client-1.40.0.jar!/:1.40.0]\n    at com.google.api.client.googleapis.services.AbstractGoogleClientRequest.buildHttpRequest(AbstractGoogleClientRequest.java:404) ~[google-api-client-1.32.1.jar!/:1.32.1]\n    at com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeUnparsed(AbstractGoogleClientRequest.java:514) ~[google-api-client-1.32.1.jar!/:1.32.1]\n    at com.google.api.client.googleapis.services.AbstractGoogleClientRequest.executeUnparsed(AbstractGoogleClientRequest.java:455) ~[google-api-client-1.32.1.jar!/:1.32.1]\n    at com.google.api.client.googleapis.services.AbstractGoogleClientRequest.execute(AbstractGoogleClientRequest.java:565) ~[google-api-client-1.32.1.jar!/:1.32.1]\n    at com.google.cloud.bigquery.spi.v2.HttpBigQueryRpc.create(HttpBigQueryRpc.java:218) ~[google-cloud-bigquery-2.1.6.jar!/:2.1.6]\n    at com.google.cloud.bigquery.BigQueryImpl$5.call(BigQueryImpl.java:374) ~[google-cloud-bigquery-2.1.6.jar!/:2.1.6]\n    at com.google.cloud.bigquery.BigQueryImpl$5.call(BigQueryImpl.java:371) ~[google-cloud-bigquery-2.1.6.jar!/:2.1.6]\n    at com.google.api.gax.retrying.DirectRetryingExecutor.submit(DirectRetryingExecutor.java:105) ~[gax-2.4.0.jar!/:2.4.0]\n    at com.google.cloud.RetryHelper.run(RetryHelper.java:76) ~[google-cloud-core-2.1.2.jar!/:2.1.2]\n    at com.google.cloud.RetryHelper.runWithRetries(RetryHelper.java:50) ~[google-cloud-core-2.1.2.jar!/:2.1.2]\n    at com.google.cloud.bigquery.BigQueryImpl.create(BigQueryImpl.java:370) ~[google-cloud-bigquery-2.1.6.jar!/:2.1.6]\n    at com.google.cloud.bigquery.BigQueryImpl.create(BigQueryImpl.java:345) ~[google-cloud-bigquery-2.1.6.jar!/:2.1.6]\n</code></pre>\n<p>This exception occurs when the application tries to authenticate to Google Service Account.</p>\n<pre><code>BigQuery bigquery = BigQueryOptions.newBuilder().setProjectId(bigQueryApplicationProperties.getProjectId()).setCredentials(GoogleCredentialsUtility.getCredentials(googleCredentials)).build().getService();\n</code></pre>\n<p>GoogleCredentials is the properties file that has all the Private Key, auth uri, project id etc.</p>\n<pre><code>@ConfigurationProperties(prefix = &quot;google.bigquery.credentials&quot;)\npublic class GoogleCredentials {\n\n    private String type;\n    private String project_id;\n    private String private_key_id;\n    private String private_key;\n    private String client_email;\n    private String client_id;\n    private String auth_uri;\n    private String token_uri;\n    private String auth_provider_x509_cert_url;\n    private String client_x509_cert_url;\n\n}\n</code></pre>\n<p>On local machine, I have certificate files on the local Java KeyStore path - /Library/Java/JavaVirtualMachines/zulu-11.jdk/Contents/Home/lib/security.</p>\n<p>How do I place the same files on the Docker Image/Container/Pod for the application to be able to authenticate to Google Service Account?</p>\n"},{"tags":["java","spring","spring-boot","logging","logback"],"comments":[{"owner":{"account_id":426173,"reputation":18141,"user_id":807231,"accept_rate":38,"display_name":"Marsellus Wallace"},"score":0,"creation_date":1436464362,"post_id":29429073,"comment_id":50636059,"body_markdown":"did you find an elegant solution for when you have multiple active profiles at the same time?","body":"did you find an elegant solution for when you have multiple active profiles at the same time?"},{"owner":{"account_id":2262299,"reputation":2029,"user_id":1992039,"accept_rate":80,"display_name":"LG_"},"score":0,"creation_date":1458727139,"post_id":29429073,"comment_id":59985452,"body_markdown":"Check my edit on March 3 &#39;2016","body":"Check my edit on March 3 &#39;2016"},{"owner":{"account_id":5500267,"reputation":686,"user_id":4369820,"accept_rate":0,"display_name":"Satya Prakash"},"score":0,"creation_date":1522387199,"post_id":29429073,"comment_id":86145643,"body_markdown":"check this link: https://stackoverflow.com/a/49568780/4369820","body":"check this link: <a href=\"https://stackoverflow.com/a/49568780/4369820\">stackoverflow.com/a/49568780/4369820</a>"},{"owner":{"account_id":7588122,"reputation":961,"user_id":5756557,"display_name":"anandchaugule"},"score":0,"creation_date":1549025766,"post_id":29429073,"comment_id":95766863,"body_markdown":"Find your answer - https://stackoverflow.com/a/54477155/5756557","body":"Find your answer - <a href=\"https://stackoverflow.com/a/54477155/5756557\">stackoverflow.com/a/54477155/5756557</a>"}],"answers":[{"tags":[],"owner":{"account_id":2262299,"reputation":2029,"user_id":1992039,"accept_rate":80,"display_name":"LG_"},"down_vote_count":0,"up_vote_count":88,"is_accepted":true,"score":88,"last_activity_date":1675043486,"creation_date":1428055556,"answer_id":29430074,"question_id":29429073,"body_markdown":"I found a solution and I understood why Spring doesn&#39;t use my `logging.config` property defined in the *application.properties* file.\r\n\r\n# Solution and explanation\r\n\r\nWhen initializing logging, Spring Boot only looks in [classpath or environment variables](http://docs.spring.io/spring-boot/docs/0.5.0.M3/api/org/springframework/boot/context/initializer/LoggingApplicationContextInitializer.html). \r\n\r\nThe solution I used was to include a parent *logback.xml* file that included the right logging config file according to the Spring profile.\r\n\r\n*logback.xml*\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;configuration&gt;\r\n        &lt;include resource=&quot;logback-${spring.profiles.active}.xml&quot;/&gt;\r\n    &lt;/configuration&gt;\r\n\r\n*logback-[profile].xml* (in this case, *logback-dev.xml*) :\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;included&gt;\r\n    \r\n        &lt;!-- put your appenders --&gt;\r\n        &lt;appender name=&quot;CONSOLE&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n        &lt;!-- encoders are assigned the type\r\n         ch.qos.logback.classic.encoder.PatternLayoutEncoder by default --&gt;\r\n           &lt;encoder&gt;\r\n               &lt;pattern&gt;%d{ISO8601} %p %t %c{0}.%M - %m%n&lt;/pattern&gt;\r\n               &lt;charset&gt;utf8&lt;/charset&gt;\r\n            &lt;/encoder&gt;\r\n        &lt;/appender&gt;\r\n\r\n        &lt;!-- put your loggers here --&gt;\r\n        &lt;logger name=&quot;org.springframework.web&quot; additivity=&quot;false&quot; level=&quot;INFO&quot;&gt;\r\n            &lt;appender-ref ref=&quot;CONSOLE&quot; /&gt;\r\n        &lt;/logger&gt;\r\n\r\n        &lt;!-- put your root here --&gt;\r\n        &lt;root level=&quot;warn&quot;&gt;\r\n            &lt;appender-ref ref=&quot;CONSOLE&quot; /&gt;\r\n        &lt;/root&gt;\r\n\r\n    &lt;/included&gt;\r\n\r\n### Note \r\n`spring.profiles.active` has to be set in command line arguments when starting the app.  \r\nExample for JVM properties: `-Dspring.profiles.active=dev`\r\n\r\n---\r\n## Reference documentation\r\n\r\n - http://docs.spring.io/spring-boot/docs/current/reference/html/howto-logging.html\r\n - http://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-logging.html\r\n - http://docs.spring.io/spring-boot/docs/0.5.0.M3/api/org/springframework/boot/context/initializer/LoggingApplicationContextInitializer.html\r\n\r\n---\r\n## Edit (multiple active profiles)\r\nIn order to avoid multiple files, we could use conditional processing which requires Janino dependency ([setup here][1]), see [conditional documentation][2].\r\n\r\nWith this method, we can also check for multiple *active profiles* at the same time. E.g (I did not test this solution, so please comment if it does not work): \r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;configuration&gt;\r\n    \r\n        &lt;if condition=&#39;&quot;${spring.profiles.active}&quot;.contains(&quot;profile1&quot;)&#39;&gt;\r\n            &lt;then&gt;\r\n             &lt;!-- do whatever you want for profile1 --&gt;\r\n            &lt;/then&gt;\r\n        &lt;/if&gt;\r\n\r\n        &lt;if condition=&#39;&quot;${spring.profiles.active}&quot;.contains(&quot;profile2&quot;)&#39;&gt;\r\n            &lt;then&gt;\r\n             &lt;!-- do whatever you want for profile2 --&gt;\r\n            &lt;/then&gt;\r\n        &lt;/if&gt;\r\n\r\n        &lt;!-- common config --&gt;\r\n\r\n    &lt;/configuration&gt;\r\n\r\nSee *@javasenior* [answer][3] for another example of a conditional processing.\r\n\r\n\r\n  [1]: http://logback.qos.ch/setup.html#janino\r\n  [2]: http://logback.qos.ch/manual/configuration.html#conditional\r\n  [3]: https://stackoverflow.com/a/35886713/814702","title":"Spring Boot, logback and logging.config property","body":"<p>I found a solution and I understood why Spring doesn't use my <code>logging.config</code> property defined in the <em>application.properties</em> file.</p>\n<h1>Solution and explanation</h1>\n<p>When initializing logging, Spring Boot only looks in <a href=\"http://docs.spring.io/spring-boot/docs/0.5.0.M3/api/org/springframework/boot/context/initializer/LoggingApplicationContextInitializer.html\" rel=\"nofollow noreferrer\">classpath or environment variables</a>.</p>\n<p>The solution I used was to include a parent <em>logback.xml</em> file that included the right logging config file according to the Spring profile.</p>\n<p><em>logback.xml</em></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;configuration&gt;\n    &lt;include resource=&quot;logback-${spring.profiles.active}.xml&quot;/&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p><em>logback-[profile].xml</em> (in this case, <em>logback-dev.xml</em>) :</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;included&gt;\n\n    &lt;!-- put your appenders --&gt;\n    &lt;appender name=&quot;CONSOLE&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n    &lt;!-- encoders are assigned the type\n     ch.qos.logback.classic.encoder.PatternLayoutEncoder by default --&gt;\n       &lt;encoder&gt;\n           &lt;pattern&gt;%d{ISO8601} %p %t %c{0}.%M - %m%n&lt;/pattern&gt;\n           &lt;charset&gt;utf8&lt;/charset&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n\n    &lt;!-- put your loggers here --&gt;\n    &lt;logger name=&quot;org.springframework.web&quot; additivity=&quot;false&quot; level=&quot;INFO&quot;&gt;\n        &lt;appender-ref ref=&quot;CONSOLE&quot; /&gt;\n    &lt;/logger&gt;\n\n    &lt;!-- put your root here --&gt;\n    &lt;root level=&quot;warn&quot;&gt;\n        &lt;appender-ref ref=&quot;CONSOLE&quot; /&gt;\n    &lt;/root&gt;\n\n&lt;/included&gt;\n</code></pre>\n<h3>Note</h3>\n<p><code>spring.profiles.active</code> has to be set in command line arguments when starting the app.<br />\nExample for JVM properties: <code>-Dspring.profiles.active=dev</code></p>\n<hr />\n<h2>Reference documentation</h2>\n<ul>\n<li><a href=\"http://docs.spring.io/spring-boot/docs/current/reference/html/howto-logging.html\" rel=\"nofollow noreferrer\">http://docs.spring.io/spring-boot/docs/current/reference/html/howto-logging.html</a></li>\n<li><a href=\"http://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-logging.html\" rel=\"nofollow noreferrer\">http://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-logging.html</a></li>\n<li><a href=\"http://docs.spring.io/spring-boot/docs/0.5.0.M3/api/org/springframework/boot/context/initializer/LoggingApplicationContextInitializer.html\" rel=\"nofollow noreferrer\">http://docs.spring.io/spring-boot/docs/0.5.0.M3/api/org/springframework/boot/context/initializer/LoggingApplicationContextInitializer.html</a></li>\n</ul>\n<hr />\n<h2>Edit (multiple active profiles)</h2>\n<p>In order to avoid multiple files, we could use conditional processing which requires Janino dependency (<a href=\"http://logback.qos.ch/setup.html#janino\" rel=\"nofollow noreferrer\">setup here</a>), see <a href=\"http://logback.qos.ch/manual/configuration.html#conditional\" rel=\"nofollow noreferrer\">conditional documentation</a>.</p>\n<p>With this method, we can also check for multiple <em>active profiles</em> at the same time. E.g (I did not test this solution, so please comment if it does not work):</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;configuration&gt;\n\n    &lt;if condition='&quot;${spring.profiles.active}&quot;.contains(&quot;profile1&quot;)'&gt;\n        &lt;then&gt;\n         &lt;!-- do whatever you want for profile1 --&gt;\n        &lt;/then&gt;\n    &lt;/if&gt;\n\n    &lt;if condition='&quot;${spring.profiles.active}&quot;.contains(&quot;profile2&quot;)'&gt;\n        &lt;then&gt;\n         &lt;!-- do whatever you want for profile2 --&gt;\n        &lt;/then&gt;\n    &lt;/if&gt;\n\n    &lt;!-- common config --&gt;\n\n&lt;/configuration&gt;\n</code></pre>\n<p>See <em>@javasenior</em> <a href=\"https://stackoverflow.com/a/35886713/814702\">answer</a> for another example of a conditional processing.</p>\n"},{"tags":[],"owner":{"account_id":1025861,"reputation":2232,"user_id":1035180,"accept_rate":57,"display_name":"Zergleb"},"down_vote_count":0,"up_vote_count":46,"is_accepted":false,"score":46,"last_activity_date":1518171228,"creation_date":1437859497,"answer_id":31631289,"question_id":29429073,"body_markdown":"Another approach that could handle multiple profiles is to create a separate properties file for each environment.\r\n\r\napplication-prod.properties\r\n\r\n    logging.config=classpath:logback-prod.xml\r\n\r\n\r\napplication-dev.properties\r\n\r\n    logging.config=classpath:logback-dev.xml\r\n\r\napplication-local.properties\r\n\r\n    logging.config=classpath:logback-local.xml\r\n\r\n\r\n**BE AWARE**\r\n\r\nIf you aren&#39;t careful you could end up logging somewhere unexpected\r\n\r\n&lt;!-- language: none --&gt;\r\n    \r\n    -Dspring.profiles.active=local,dev //will use logback-dev.xml\r\n    -Dspring.profiles.active=dev,local //will use logback-local.xml\r\n\r\n\r\n\r\n","title":"Spring Boot, logback and logging.config property","body":"<p>Another approach that could handle multiple profiles is to create a separate properties file for each environment.</p>\n\n<p>application-prod.properties</p>\n\n<pre><code>logging.config=classpath:logback-prod.xml\n</code></pre>\n\n<p>application-dev.properties</p>\n\n<pre><code>logging.config=classpath:logback-dev.xml\n</code></pre>\n\n<p>application-local.properties</p>\n\n<pre><code>logging.config=classpath:logback-local.xml\n</code></pre>\n\n<p><strong>BE AWARE</strong></p>\n\n<p>If you aren't careful you could end up logging somewhere unexpected</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>-Dspring.profiles.active=local,dev //will use logback-dev.xml\n-Dspring.profiles.active=dev,local //will use logback-local.xml\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4998645,"reputation":1806,"user_id":4018293,"display_name":"javasenior"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1518171265,"creation_date":1457512910,"answer_id":35886713,"question_id":29429073,"body_markdown":"Conditional processing with logback will be a solution without many logback files. Here is [a link](http://logback.qos.ch/manual/configuration.html#conditional) and a sample logback configuration with spring profiles.\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;configuration&gt;\r\n\r\n        &lt;property name=&quot;LOG_LEVEL&quot; value=&quot;INFO&quot;/&gt;\r\n\r\n            &lt;if condition=&#39;&quot;product&quot;.equals(&quot;${spring.profiles.active}&quot;)&#39;&gt;\r\n               &lt;then&gt;\r\n                    &lt;property name=&quot;LOG_LEVEL&quot; value=&quot;INFO&quot;/&gt;\r\n               &lt;/then&gt;\r\n               &lt;else&gt;\r\n                    &lt;property name=&quot;LOG_LEVEL&quot; value=&quot;ERROR&quot;/&gt;\r\n               &lt;/else&gt;\r\n            &lt;/if&gt;\r\n      \r\n             .\r\n             .\r\n             appender, logger tags etc.\r\n             .\r\n             .\r\n\r\n             &lt;root level=&quot;${LOG_LEVEL}&quot;&gt;\r\n                 &lt;appender-ref ref=&quot;STDOUT&quot;/&gt;\r\n             &lt;/root&gt;\r\n\r\n    &lt;/configuration&gt;\r\n\r\nAlso, you might have to add this to your pom.xml\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.codehaus.janino&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;janino&lt;/artifactId&gt;\r\n    \t&lt;version&gt;3.0.6&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"Spring Boot, logback and logging.config property","body":"<p>Conditional processing with logback will be a solution without many logback files. Here is <a href=\"http://logback.qos.ch/manual/configuration.html#conditional\" rel=\"nofollow noreferrer\">a link</a> and a sample logback configuration with spring profiles.</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;configuration&gt;\n\n    &lt;property name=\"LOG_LEVEL\" value=\"INFO\"/&gt;\n\n        &lt;if condition='\"product\".equals(\"${spring.profiles.active}\")'&gt;\n           &lt;then&gt;\n                &lt;property name=\"LOG_LEVEL\" value=\"INFO\"/&gt;\n           &lt;/then&gt;\n           &lt;else&gt;\n                &lt;property name=\"LOG_LEVEL\" value=\"ERROR\"/&gt;\n           &lt;/else&gt;\n        &lt;/if&gt;\n\n         .\n         .\n         appender, logger tags etc.\n         .\n         .\n\n         &lt;root level=\"${LOG_LEVEL}\"&gt;\n             &lt;appender-ref ref=\"STDOUT\"/&gt;\n         &lt;/root&gt;\n\n&lt;/configuration&gt;\n</code></pre>\n\n<p>Also, you might have to add this to your pom.xml</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.codehaus.janino&lt;/groupId&gt;\n    &lt;artifactId&gt;janino&lt;/artifactId&gt;\n    &lt;version&gt;3.0.6&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4855942,"reputation":978,"user_id":3916872,"accept_rate":67,"display_name":"nav3916872"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1660737818,"creation_date":1464884027,"answer_id":37597077,"question_id":29429073,"body_markdown":"Instead of adding separate logback xmls for each profile or having the IF condition , I would suggest the following (If you have less difference in the xmls&#39;) for easy conditional processing \r\nDocumentation link [here][1]: \r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;springProfile name=&quot;dev&quot;&gt;\r\n    &lt;logger name=&quot;org.sample&quot; level=&quot;DEBUG&quot; /&gt;\r\n    &lt;/springProfile&gt;\r\n    &lt;springProfile name=&quot;prod&quot;&gt;\r\n    &lt;logger name=&quot;org.sample&quot; level=&quot;TRACE&quot; /&gt;\r\n    &lt;/springProfile&gt;\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.logging.logback-extensions.profile-specific","title":"Spring Boot, logback and logging.config property","body":"<p>Instead of adding separate logback xmls for each profile or having the IF condition , I would suggest the following (If you have less difference in the xmls') for easy conditional processing\nDocumentation link <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.logging.logback-extensions.profile-specific\" rel=\"nofollow noreferrer\">here</a>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;springProfile name=&quot;dev&quot;&gt;\n&lt;logger name=&quot;org.sample&quot; level=&quot;DEBUG&quot; /&gt;\n&lt;/springProfile&gt;\n&lt;springProfile name=&quot;prod&quot;&gt;\n&lt;logger name=&quot;org.sample&quot; level=&quot;TRACE&quot; /&gt;\n&lt;/springProfile&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10369579,"reputation":313,"user_id":7647640,"display_name":"Andriy Rymar"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1488461252,"creation_date":1488461252,"answer_id":42556770,"question_id":29429073,"body_markdown":"Spring has support of next tag `&lt;springProperty/&gt;` inside Logback XML file, this tag described [here][1] . It means that you can easily add variable from Spring property file, even this variable value resolves from environment/system variable by Spring.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-logging.html","title":"Spring Boot, logback and logging.config property","body":"<p>Spring has support of next tag <code>&lt;springProperty/&gt;</code> inside Logback XML file, this tag described <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-logging.html\" rel=\"nofollow noreferrer\">here</a> . It means that you can easily add variable from Spring property file, even this variable value resolves from environment/system variable by Spring.</p>\n"},{"tags":[],"owner":{"account_id":7848901,"reputation":378,"user_id":5932976,"display_name":"sulin"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1537696732,"creation_date":1537696732,"answer_id":52465001,"question_id":29429073,"body_markdown":"You can specific different logback.xml for different profile, only 3 steps:\r\n\r\n1, Specify actived profile in `application.properties` or `application.yml`:\r\n\r\n    spring.profiles.active: test\r\n\r\n2, Config logback to include different configuration by profile:\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n    &lt;!DOCTYPE configuration&gt;\r\n    &lt;configuration scan=&quot;true&quot; scanPeriod=&quot;30 seconds&quot;&gt;\r\n        &lt;springProperty scope=&quot;context&quot; name=&quot;profile&quot; source=&quot;spring.profiles.active&quot;/&gt;\r\n        &lt;include resource=&quot;logback.${profile}.xml&quot;/&gt;\r\n    &lt;/configuration&gt;\r\n\r\n3, Create configuration file `logback.test.xml`:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;included&gt;\r\n        &lt;include resource=&quot;org/springframework/boot/logging/logback/base.xml&quot;/&gt;\r\n        &lt;root level=&quot;INFO&quot;/&gt;\r\n    &lt;/included&gt;\r\n\r\n\r\nIt&#39;s very simple, don&#39;t need do anything else.","title":"Spring Boot, logback and logging.config property","body":"<p>You can specific different logback.xml for different profile, only 3 steps:</p>\n\n<p>1, Specify actived profile in <code>application.properties</code> or <code>application.yml</code>:</p>\n\n<pre><code>spring.profiles.active: test\n</code></pre>\n\n<p>2, Config logback to include different configuration by profile:</p>\n\n\n\n<pre><code>&lt;!DOCTYPE configuration&gt;\n&lt;configuration scan=\"true\" scanPeriod=\"30 seconds\"&gt;\n    &lt;springProperty scope=\"context\" name=\"profile\" source=\"spring.profiles.active\"/&gt;\n    &lt;include resource=\"logback.${profile}.xml\"/&gt;\n&lt;/configuration&gt;\n</code></pre>\n\n<p>3, Create configuration file <code>logback.test.xml</code>:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;included&gt;\n    &lt;include resource=\"org/springframework/boot/logging/logback/base.xml\"/&gt;\n    &lt;root level=\"INFO\"/&gt;\n&lt;/included&gt;\n</code></pre>\n\n<p>It's very simple, don't need do anything else.</p>\n"}],"owner":{"account_id":2262299,"reputation":2029,"user_id":1992039,"accept_rate":80,"display_name":"LG_"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":137783,"favorite_count":0,"down_vote_count":1,"up_vote_count":72,"accepted_answer_id":29430074,"answer_count":6,"score":71,"last_activity_date":1675043486,"creation_date":1428051138,"question_id":29429073,"body_markdown":"I am implementing logging in a Spring Boot project with *logback* library. I want to load different logging configuration files according to my Spring profiles (property `spring.pofiles.active`). I have 3 files:\r\n\r\n - *logback-dev.xml*\r\n - *logback-inte.xml*\r\n - *logback-prod.xml*\r\n\r\nI am using Spring Boot version 1.2.2.RELEASE. \r\n\r\n---\r\nAs you can read in Spring Boot [documentation][1]:\r\n\r\n&gt; The various logging systems can be activated by including the appropriate libraries on the classpath, and further customized by providing a suitable configuration file in the root of the classpath, or in a location specified by the Spring Environment property &lt;b&gt;logging.config&lt;/b&gt;. (Note however that since logging is initialized before the ApplicationContext is created, it isnt possible to control logging from @PropertySources in Spring @Configuration files. System properties and the conventional Spring Boot external configuration files work just fine.)\r\n\r\nSo I tried to set `logging.config` property in my *application.properties* file: \r\n\r\n    logging.config=classpath:/logback-${spring.profiles.active}.xml\r\n\r\nBut when i start my application, my logback-{profile}.xml is not loaded.\r\n\r\nI think logging is a common problem that all projects using Spring Boot have encountered. Am I on the right track with the above approach?\r\n\r\nI have other solutions that work, but I find them not as elegant (conditional parsing with Janino in *logback.xml* file or command line property).\r\n\r\n\r\n  [1]: http://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-logging.html","title":"Spring Boot, logback and logging.config property","body":"<p>I am implementing logging in a Spring Boot project with <em>logback</em> library. I want to load different logging configuration files according to my Spring profiles (property <code>spring.pofiles.active</code>). I have 3 files:</p>\n<ul>\n<li><em>logback-dev.xml</em></li>\n<li><em>logback-inte.xml</em></li>\n<li><em>logback-prod.xml</em></li>\n</ul>\n<p>I am using Spring Boot version 1.2.2.RELEASE.</p>\n<hr />\n<p>As you can read in Spring Boot <a href=\"http://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-logging.html\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n<blockquote>\n<p>The various logging systems can be activated by including the appropriate libraries on the classpath, and further customized by providing a suitable configuration file in the root of the classpath, or in a location specified by the Spring Environment property <b>logging.config</b>. (Note however that since logging is initialized before the ApplicationContext is created, it isnt possible to control logging from @PropertySources in Spring @Configuration files. System properties and the conventional Spring Boot external configuration files work just fine.)</p>\n</blockquote>\n<p>So I tried to set <code>logging.config</code> property in my <em>application.properties</em> file:</p>\n<pre><code>logging.config=classpath:/logback-${spring.profiles.active}.xml\n</code></pre>\n<p>But when i start my application, my logback-{profile}.xml is not loaded.</p>\n<p>I think logging is a common problem that all projects using Spring Boot have encountered. Am I on the right track with the above approach?</p>\n<p>I have other solutions that work, but I find them not as elegant (conditional parsing with Janino in <em>logback.xml</em> file or command line property).</p>\n"},{"tags":["java","jakarta-ee","configuration","log4j2","slf4j"],"answers":[{"tags":[],"owner":{"account_id":1891192,"reputation":8826,"user_id":1709216,"display_name":"rgoers"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1594727729,"creation_date":1594726380,"answer_id":62894212,"question_id":62892321,"body_markdown":"You should go to Catalina.properties and add the conf/myProject directory to the classpath. Then your could can just look for files at the root of the classpath. You can create a logging configuration for each web app in that directory by changing your configuration in web.xml to just the name of the file - i.e. log4j2-appname.xml. \n\nAnother alternative that could work is to change your file url from file: to file://.\n\nBTW - my employer has apps running like this - multiple apps in a single tomcat. It has caused all kinds of problems over time and really is a bad idea.","title":"External Log4J2 configuration in Java EE application","body":"<p>You should go to Catalina.properties and add the conf/myProject directory to the classpath. Then your could can just look for files at the root of the classpath. You can create a logging configuration for each web app in that directory by changing your configuration in web.xml to just the name of the file - i.e. log4j2-appname.xml.</p>\n<p>Another alternative that could work is to change your file url from file: to file://.</p>\n<p>BTW - my employer has apps running like this - multiple apps in a single tomcat. It has caused all kinds of problems over time and really is a bad idea.</p>\n"},{"tags":[],"owner":{"account_id":6121429,"reputation":457,"user_id":4774832,"accept_rate":92,"display_name":"ardatosun"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1675042098,"creation_date":1594900125,"answer_id":62934051,"question_id":62892321,"body_markdown":"In case anyone faces this issue, I&#39;ve found a solution.\r\n\r\nAfter digging down into the source files of `org.apache.logging.log4j:log4j-core:2.8.2` I saw that the `ConfigurationFactory` class calls `PropertiesUtil.getProperties()` which has a line as follows:\r\n\r\n```java\r\nprivate static final PropertiesUtil LOG4J_PROPERTIES = new PropertiesUtil(&quot;log4j2.component.properties&quot;);\r\n```\r\n\r\nTherefore I created a `log4j2.component.properties` file under `src/main/resources/` which has only one line of property:\r\n\r\n    log4j.configurationFile=myCustomPath/log4j2.properties\r\n\r\nSince we cannot use `logging.config` property to set configuration path in Java EE applications unlike a Spring project, adding this specific file solved my problem with externalizing Log4j configuration.\r\n\r\nHope this answer helps others too.","title":"External Log4J2 configuration in Java EE application","body":"<p>In case anyone faces this issue, I've found a solution.</p>\n<p>After digging down into the source files of <code>org.apache.logging.log4j:log4j-core:2.8.2</code> I saw that the <code>ConfigurationFactory</code> class calls <code>PropertiesUtil.getProperties()</code> which has a line as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static final PropertiesUtil LOG4J_PROPERTIES = new PropertiesUtil(&quot;log4j2.component.properties&quot;);\n</code></pre>\n<p>Therefore I created a <code>log4j2.component.properties</code> file under <code>src/main/resources/</code> which has only one line of property:</p>\n<pre><code>log4j.configurationFile=myCustomPath/log4j2.properties\n</code></pre>\n<p>Since we cannot use <code>logging.config</code> property to set configuration path in Java EE applications unlike a Spring project, adding this specific file solved my problem with externalizing Log4j configuration.</p>\n<p>Hope this answer helps others too.</p>\n"}],"owner":{"account_id":6121429,"reputation":457,"user_id":4774832,"accept_rate":92,"display_name":"ardatosun"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":721,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":62934051,"answer_count":2,"score":1,"last_activity_date":1675042098,"creation_date":1594719868,"question_id":62892321,"body_markdown":"I&#39;m working on a Java EE project which had configuration files in `resources` folder. The web project is assembled into a war file using Maven and deployed to Tomcat.\r\n\r\nThen I started doing some maintainance and tried to externalize the configurations which had been successful to some extent.\r\n\r\nIn case you wonder how it was on production before I edited the code, here it goes:\r\n\r\n```java\r\n// x stands for `application.conf` or  `en.properties` depending on where in the code the file is being \r\ngetClass().getClassLoader().getResourceAsStream(x)\r\n```\r\n\r\nI&#39;ve moved every single file under `resources` to `/CATALINA_BASE/conf/myProject` and I&#39;m reading from these paths in the code. (doesn&#39;t look like a good practice to me)\r\n\r\nAnd here is my version:\r\n\r\n```java\r\n// x stands for `application.conf` or  `en.properties` depending on where in the code the file is being read\r\nnew File(System.getProperty(&quot;catalina.base&quot;) + &quot;/conf/myProject/x&quot;)\r\n```\r\n\r\nThis works fine obviously but the project also has a `log4j2.properties` file which was automatically read from the classpath before and since I&#39;ve externalized the configuration I&#39;m not able to read from it.\r\n\r\nWhat I tried was setting a parameter inside `web.xml` like below(not sure if it is right thing to do)\r\n\r\n```xml\r\n&lt;web-app&gt;\r\n...\r\n    &lt;context-param&gt;\r\n&lt;!--        also tried with log4jConfigLocation--&gt;\r\n        &lt;param-name&gt;log4Configuration&lt;/param-name&gt;\r\n        &lt;param-value&gt;file:${catalina.base}/conf/myProject/log42.properties&lt;/param-value&gt;\r\n    &lt;/context-param&gt;\r\n...\r\n&lt;/web-app&gt;\r\n```\r\n\r\nThe error output during application startup:\r\n\r\n&gt; ERROR StatusLogger No log4j2 configuration file found. Using default configuration: logging only errors to the console. Set system property &#39;org.apache.logging.log4j.simplelog.StatusLogger.level&#39; to TRACE to show Log4j2 internal initialization logging.\r\n\r\n&gt; SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\r\n\r\n&gt; SLF4J: Defaulting to no-operation (NOP) logger implementation\r\n\r\nAny suggestions would be appreciated.\r\n\r\nUPDATE:\r\nThe tomcat running on the server is serving several other applications so setting VM arguments is not an option for me since other projects might have their log4j configurations in their classpath and VM arguments may break those configurations.","title":"External Log4J2 configuration in Java EE application","body":"<p>I'm working on a Java EE project which had configuration files in <code>resources</code> folder. The web project is assembled into a war file using Maven and deployed to Tomcat.</p>\n<p>Then I started doing some maintainance and tried to externalize the configurations which had been successful to some extent.</p>\n<p>In case you wonder how it was on production before I edited the code, here it goes:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// x stands for `application.conf` or  `en.properties` depending on where in the code the file is being \ngetClass().getClassLoader().getResourceAsStream(x)\n</code></pre>\n<p>I've moved every single file under <code>resources</code> to <code>/CATALINA_BASE/conf/myProject</code> and I'm reading from these paths in the code. (doesn't look like a good practice to me)</p>\n<p>And here is my version:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// x stands for `application.conf` or  `en.properties` depending on where in the code the file is being read\nnew File(System.getProperty(&quot;catalina.base&quot;) + &quot;/conf/myProject/x&quot;)\n</code></pre>\n<p>This works fine obviously but the project also has a <code>log4j2.properties</code> file which was automatically read from the classpath before and since I've externalized the configuration I'm not able to read from it.</p>\n<p>What I tried was setting a parameter inside <code>web.xml</code> like below(not sure if it is right thing to do)</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;web-app&gt;\n...\n    &lt;context-param&gt;\n&lt;!--        also tried with log4jConfigLocation--&gt;\n        &lt;param-name&gt;log4Configuration&lt;/param-name&gt;\n        &lt;param-value&gt;file:${catalina.base}/conf/myProject/log42.properties&lt;/param-value&gt;\n    &lt;/context-param&gt;\n...\n&lt;/web-app&gt;\n</code></pre>\n<p>The error output during application startup:</p>\n<blockquote>\n<p>ERROR StatusLogger No log4j2 configuration file found. Using default configuration: logging only errors to the console. Set system property 'org.apache.logging.log4j.simplelog.StatusLogger.level' to TRACE to show Log4j2 internal initialization logging.</p>\n</blockquote>\n<blockquote>\n<p>SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.</p>\n</blockquote>\n<blockquote>\n<p>SLF4J: Defaulting to no-operation (NOP) logger implementation</p>\n</blockquote>\n<p>Any suggestions would be appreciated.</p>\n<p>UPDATE:\nThe tomcat running on the server is serving several other applications so setting VM arguments is not an option for me since other projects might have their log4j configurations in their classpath and VM arguments may break those configurations.</p>\n"},{"tags":["java","log4j","log4j2"],"answers":[{"tags":[],"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642102650,"creation_date":1642102650,"answer_id":70702156,"question_id":70699209,"body_markdown":"You can use the [`log4j1.monitorInterval`](https://logging.apache.org/log4j/2.x/log4j-1.2-api/apidocs/constant-values.html#org.apache.log4j.config.Log4j1Configuration.MONITOR_INTERVAL) system property:\r\n\r\n```\r\nlog4j1.monitorInterval=10\r\n```\r\n\r\nThe value is in seconds.\r\n\r\nThe above mentioned property can be set in any [property source](https://logging.apache.org/log4j/2.x/manual/configuration.html#SystemProperties), e.g. in `log4j2.component.properties` file.","title":"Reloading log4j.properties using Log4j Bridge","body":"<p>You can use the <a href=\"https://logging.apache.org/log4j/2.x/log4j-1.2-api/apidocs/constant-values.html#org.apache.log4j.config.Log4j1Configuration.MONITOR_INTERVAL\" rel=\"nofollow noreferrer\"><code>log4j1.monitorInterval</code></a> system property:</p>\n<pre><code>log4j1.monitorInterval=10\n</code></pre>\n<p>The value is in seconds.</p>\n<p>The above mentioned property can be set in any <a href=\"https://logging.apache.org/log4j/2.x/manual/configuration.html#SystemProperties\" rel=\"nofollow noreferrer\">property source</a>, e.g. in <code>log4j2.component.properties</code> file.</p>\n"}],"owner":{"account_id":296566,"reputation":193,"user_id":601594,"accept_rate":100,"display_name":"tyler"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":494,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70702156,"answer_count":1,"score":2,"last_activity_date":1675041912,"creation_date":1642088210,"question_id":70699209,"body_markdown":"I have to migrate an existing project from Log4j to Log4j2. The easiest way seems to use the [Log4j 1.2 Bridge](https://logging.apache.org/log4j/2.x/log4j-1.2-api/index.html). This works fine, even the existing `log4j.properties` file can be used.\r\n\r\nThe question that I have is:\r\n\r\n - Can the `log4j.properties` file be reloaded periodically at runtime, so that a restart of the application is not necessary after changing\r\n   the `log4j.properties` file?\r\n\r\nIn Log4j version 1.x this could be done using \r\n`PropertyConfigurator.configureAndWatch(fileName, 10000)`, \r\nbut it seems this does not work any longer using the bridge.","title":"Reloading log4j.properties using Log4j Bridge","body":"<p>I have to migrate an existing project from Log4j to Log4j2. The easiest way seems to use the <a href=\"https://logging.apache.org/log4j/2.x/log4j-1.2-api/index.html\" rel=\"nofollow noreferrer\">Log4j 1.2 Bridge</a>. This works fine, even the existing <code>log4j.properties</code> file can be used.</p>\n<p>The question that I have is:</p>\n<ul>\n<li>Can the <code>log4j.properties</code> file be reloaded periodically at runtime, so that a restart of the application is not necessary after changing\nthe <code>log4j.properties</code> file?</li>\n</ul>\n<p>In Log4j version 1.x this could be done using\n<code>PropertyConfigurator.configureAndWatch(fileName, 10000)</code>,\nbut it seems this does not work any longer using the bridge.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":2,"creation_date":1543735319,"post_id":53578210,"comment_id":94020123,"body_markdown":"First things first, Spring Boot 2 supports a minimum of Java 8; Java 7 is **not supported**.","body":"First things first, Spring Boot 2 supports a minimum of Java 8; Java 7 is <b>not supported</b>."},{"owner":{"account_id":12626017,"reputation":5868,"user_id":10426557,"display_name":"Jonathan JOhx"},"score":0,"creation_date":1543735620,"post_id":53578210,"comment_id":94020172,"body_markdown":"Could you please add your code? because you do reference to version 2.1.0 is still being displayed.","body":"Could you please add your code? because you do reference to version 2.1.0 is still being displayed."},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":1,"creation_date":1543747186,"post_id":53578210,"comment_id":94022314,"body_markdown":"How does parent-XYZ-project pom.xml look like?","body":"How does parent-XYZ-project pom.xml look like?"},{"owner":{"account_id":5670967,"reputation":153,"user_id":4485596,"display_name":"ShailendraChoudhary"},"score":0,"creation_date":1543760488,"post_id":53578210,"comment_id":94025574,"body_markdown":"It has 3 modules to build including my Spring boot module I am facing issue with and location of Nexus repositories where we have some other jars. But no reference to spring boot.","body":"It has 3 modules to build including my Spring boot module I am facing issue with and location of Nexus repositories where we have some other jars. But no reference to spring boot."}],"answers":[{"tags":[],"owner":{"account_id":21822063,"reputation":21,"user_id":16118144,"display_name":"Pulasthi Narada"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632969762,"creation_date":1632925484,"answer_id":69378301,"question_id":53578210,"body_markdown":"**step 1**: change the java version in `pom file`.\r\n\r\n```\r\n&lt;properties&gt;\r\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n&lt;/properties&gt;\r\n```\r\n\r\n**step 2**: Go to maven and update the project.\r\n\r\n[Go to maven and update the project][1]\r\n\r\n[1]: https://i.stack.imgur.com/ETXoi.png\r\n\r\nMore Details on this [video][2]\r\n\r\n[2]: https://www.youtube.com/watch?v=88-x-XfolC8\r\n\r\n\r\n","title":"how to downgrade spring boot project?","body":"<p><strong>step 1</strong>: change the java version in <code>pom file</code>.</p>\n<pre><code>&lt;properties&gt;\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\n&lt;/properties&gt;\n</code></pre>\n<p><strong>step 2</strong>: Go to maven and update the project.</p>\n<p><a href=\"https://i.stack.imgur.com/ETXoi.png\" rel=\"nofollow noreferrer\">Go to maven and update the project</a></p>\n<p>More Details on this <a href=\"https://www.youtube.com/watch?v=88-x-XfolC8\" rel=\"nofollow noreferrer\">video</a></p>\n"}],"owner":{"account_id":5670967,"reputation":153,"user_id":4485596,"display_name":"ShailendraChoudhary"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13265,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1675040875,"creation_date":1543734975,"question_id":53578210,"body_markdown":"I have a spring boot project build on `2.1.0.RELEASE`.\r\nI want to run this project on _Weblogic_ server which is running on a `java1.7` version.\r\nI tried to change the java version in my `pom.xml` to \r\n`&lt;java.version&gt;1.7&lt;/java.version&gt;`\r\nbut it didn&#39;t work.\r\n\r\nwhen I create an executable jar from my project it still showing build_jdk as 1.8 so I decided to switch to _springboot&#39;s_ older version 1.4.0 expecting it to run on Java 7. However, when I build my project again I don&#39;t see any change in the manifest file of the generated jar. It is still showing _springboot_ version as `2.1.0.RELEASE`.\r\n\r\ncan anyone suggest regarding one of the 2 things?\r\n\r\n1. Build project with _springboot_ 2.1.0 and Java version 7\r\n2. Downgrade _springboot_ to 1.4.0 and build with Java 7\r\n\r\n\r\nhere is my pom.xml\r\n\r\n    \t&lt;?xml version=&quot;1.0&quot;?&gt;\r\n\t\t&lt;project xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 \r\n            http://maven.apache.org/xsd/maven-4.0.0.xsd&quot; \r\n            xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\t\t    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;\r\n\t\t  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t\t\t  &lt;parent&gt;\r\n\t\t\t    &lt;groupId&gt;parent-XYZ-package&lt;/groupId&gt;\r\n\t\t\t    &lt;artifactId&gt;parent-XYZ-project&lt;/artifactId&gt;\r\n\t\t\t    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t\t\t  &lt;/parent&gt;\r\n\t\t\t  \r\n\t\t  &lt;artifactId&gt;myProject&lt;/artifactId&gt;\r\n\t\t \r\n\t\t  &lt;name&gt;myProject&lt;/name&gt;\r\n\t\t  &lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n\t\t  &lt;properties&gt;\r\n\t\t  \t&lt;java.version&gt;1.7&lt;/java.version&gt;\r\n\t\t    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\t\t  &lt;/properties&gt;\r\n\t\t  \r\n\t\t  &lt;build&gt;\r\n\t\t    &lt;plugins&gt;\r\n\t\t    \t&lt;plugin&gt;\r\n\t\t            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt; \r\n\t\t            &lt;executions&gt;\r\n\t\t\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;goal&gt;repackage&lt;/goal&gt;\r\n\t\t\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;classifier&gt;exec&lt;/classifier&gt;\r\n\t\t\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t\t\t&lt;/executions&gt;            \r\n\t\t            &lt;configuration&gt; \r\n\t\t              &lt;archive&gt; \r\n\t\t                &lt;mainClass&gt;MyMainClass&lt;/mainClass&gt;\r\n\t\t              &lt;/archive&gt;\r\n\t\t            &lt;/configuration&gt;\r\n\t\t        &lt;/plugin&gt;\r\n\t\t    &lt;/plugins&gt;\r\n\t\t  &lt;/build&gt;\r\n\t\t  \r\n\t\t  &lt;dependencies&gt;\r\n\t\t    &lt;dependency&gt;\r\n\t\t      &lt;groupId&gt;junit&lt;/groupId&gt;\r\n\t\t      &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n\t\t      &lt;version&gt;3.8.1&lt;/version&gt;\r\n\t\t      &lt;scope&gt;test&lt;/scope&gt;\r\n\t\t    &lt;/dependency&gt;\r\n\t\t    \r\n\t\t    &lt;dependency&gt;\r\n\t\t    \t&lt;groupId&gt;log4j&lt;/groupId&gt;\r\n\t\t    \t&lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t    \r\n\t\t    **&lt;dependency&gt;\r\n\t\t    \t&lt;groupId&gt;DependentUserProjec&lt;/groupId&gt;\r\n\t\t    \t&lt;artifactId&gt;DependentUserProject&lt;/artifactId&gt;\r\n\t\t    \t&lt;version&gt;${project.version}&lt;/version&gt;\r\n\t\t    &lt;/dependency&gt;**\r\n\t\t    \r\n\t\t    &lt;dependency&gt;\r\n\t\t  \t\t&lt;groupId&gt;weblogic&lt;/groupId&gt;\r\n\t\t  \t\t&lt;artifactId&gt;wlfullclient&lt;/artifactId&gt;\r\n\t\t  \t\t&lt;version&gt;12.1.2.0.0&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t\r\n\t\t\t&lt;dependency&gt;\r\n\t\t    \t&lt;groupId&gt;commons-logging&lt;/groupId&gt;\r\n\t\t    \t&lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\r\n\t\t    \t&lt;version&gt;1.1.1&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t      &lt;!-- https://mvnrepository.com/artifact/commons-io/commons-io --&gt;\r\n\t\t      &lt;dependency&gt;\r\n\t\t          &lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n\t\t          &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n\t\t          &lt;version&gt;2.4&lt;/version&gt;\r\n\t\t      &lt;/dependency&gt;\r\n\t\t\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.8.2&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t\r\n\t\t      &lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n\t\t\t   &lt;/dependency&gt;\r\n\t\t\r\n\t\t  &lt;/dependencies&gt;\r\n\t\t  \r\n\t\t  \r\n\t\t  &lt;dependencyManagement&gt;\r\n\t\t    &lt;dependencies&gt;\r\n\t\t        &lt;dependency&gt;\r\n\t\t           &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;version&gt;1.4.0.RELEASE&lt;/version&gt;\r\n\t\t            &lt;type&gt;pom&lt;/type&gt;\r\n\t\t            &lt;scope&gt;import&lt;/scope&gt;\r\n\t\t        &lt;/dependency&gt;\r\n\t\t    &lt;/dependencies&gt;\r\n\t\t\t&lt;/dependencyManagement&gt;\r\n\t\t&lt;/project&gt;\r\n\r\none more thing to note that I already have a parent pom in my `pom.xml`\r\nHence I am specifying my _springboot_ parent dependency through `&lt;DependencyManagement&gt;` tag.\r\n\r\n\r\n**Update**\r\n\r\nWhich ever _springboot_ version I specify in pom.xml its always building my project with `Springboot 2.1.1.RELEASE`\r\n\r\nBelow is the snapshot from my manifest file generated\r\n\r\n    Manifest-Version: 1.0\r\n    Archiver-Version: Plexus Archiver\r\n    Built-By: SID    \r\n    Start-Class: myMainClass  **This line is I have edited just to post on this site**\r\n    Spring-Boot-Classes: BOOT-INF/classes/\r\n    Spring-Boot-Lib: BOOT-INF/lib/\r\n    Spring-Boot-Version: 2.1.1.RELEASE\r\n    Created-By: Apache Maven 3.5.3\r\n    Build-Jdk: 1.8.0_181\r\n    Main-Class: org.springframework.boot.loader.JarLauncher","title":"how to downgrade spring boot project?","body":"<p>I have a spring boot project build on <code>2.1.0.RELEASE</code>.\nI want to run this project on <em>Weblogic</em> server which is running on a <code>java1.7</code> version.\nI tried to change the java version in my <code>pom.xml</code> to\n<code>&lt;java.version&gt;1.7&lt;/java.version&gt;</code>\nbut it didn't work.</p>\n<p>when I create an executable jar from my project it still showing build_jdk as 1.8 so I decided to switch to <em>springboot's</em> older version 1.4.0 expecting it to run on Java 7. However, when I build my project again I don't see any change in the manifest file of the generated jar. It is still showing <em>springboot</em> version as <code>2.1.0.RELEASE</code>.</p>\n<p>can anyone suggest regarding one of the 2 things?</p>\n<ol>\n<li>Build project with <em>springboot</em> 2.1.0 and Java version 7</li>\n<li>Downgrade <em>springboot</em> to 1.4.0 and build with Java 7</li>\n</ol>\n<p>here is my pom.xml</p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot;?&gt;\n    &lt;project xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 \n        http://maven.apache.org/xsd/maven-4.0.0.xsd&quot; \n        xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n          &lt;parent&gt;\n            &lt;groupId&gt;parent-XYZ-package&lt;/groupId&gt;\n            &lt;artifactId&gt;parent-XYZ-project&lt;/artifactId&gt;\n            &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n          &lt;/parent&gt;\n          \n      &lt;artifactId&gt;myProject&lt;/artifactId&gt;\n     \n      &lt;name&gt;myProject&lt;/name&gt;\n      &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n      &lt;properties&gt;\n        &lt;java.version&gt;1.7&lt;/java.version&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n      &lt;/properties&gt;\n      \n      &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt; \n                &lt;executions&gt;\n                        &lt;execution&gt;\n                            &lt;goals&gt;\n                                &lt;goal&gt;repackage&lt;/goal&gt;\n                            &lt;/goals&gt;\n                            &lt;configuration&gt;\n                                &lt;classifier&gt;exec&lt;/classifier&gt;\n                            &lt;/configuration&gt;\n                        &lt;/execution&gt;\n                    &lt;/executions&gt;            \n                &lt;configuration&gt; \n                  &lt;archive&gt; \n                    &lt;mainClass&gt;MyMainClass&lt;/mainClass&gt;\n                  &lt;/archive&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n      &lt;/build&gt;\n      \n      &lt;dependencies&gt;\n        &lt;dependency&gt;\n          &lt;groupId&gt;junit&lt;/groupId&gt;\n          &lt;artifactId&gt;junit&lt;/artifactId&gt;\n          &lt;version&gt;3.8.1&lt;/version&gt;\n          &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        \n        **&lt;dependency&gt;\n            &lt;groupId&gt;DependentUserProjec&lt;/groupId&gt;\n            &lt;artifactId&gt;DependentUserProject&lt;/artifactId&gt;\n            &lt;version&gt;${project.version}&lt;/version&gt;\n        &lt;/dependency&gt;**\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;weblogic&lt;/groupId&gt;\n            &lt;artifactId&gt;wlfullclient&lt;/artifactId&gt;\n            &lt;version&gt;12.1.2.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-logging&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\n            &lt;version&gt;1.1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n    \n          &lt;!-- https://mvnrepository.com/artifact/commons-io/commons-io --&gt;\n          &lt;dependency&gt;\n              &lt;groupId&gt;commons-io&lt;/groupId&gt;\n              &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n              &lt;version&gt;2.4&lt;/version&gt;\n          &lt;/dependency&gt;\n    \n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\n            &lt;version&gt;2.8.2&lt;/version&gt;\n        &lt;/dependency&gt;\n    \n    \n          &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n           &lt;/dependency&gt;\n    \n      &lt;/dependencies&gt;\n      \n      \n      &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n               &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n                &lt;version&gt;1.4.0.RELEASE&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n        &lt;/dependencyManagement&gt;\n    &lt;/project&gt;\n</code></pre>\n<p>one more thing to note that I already have a parent pom in my <code>pom.xml</code>\nHence I am specifying my <em>springboot</em> parent dependency through <code>&lt;DependencyManagement&gt;</code> tag.</p>\n<p><strong>Update</strong></p>\n<p>Which ever <em>springboot</em> version I specify in pom.xml its always building my project with <code>Springboot 2.1.1.RELEASE</code></p>\n<p>Below is the snapshot from my manifest file generated</p>\n<pre><code>Manifest-Version: 1.0\nArchiver-Version: Plexus Archiver\nBuilt-By: SID    \nStart-Class: myMainClass  **This line is I have edited just to post on this site**\nSpring-Boot-Classes: BOOT-INF/classes/\nSpring-Boot-Lib: BOOT-INF/lib/\nSpring-Boot-Version: 2.1.1.RELEASE\nCreated-By: Apache Maven 3.5.3\nBuild-Jdk: 1.8.0_181\nMain-Class: org.springframework.boot.loader.JarLauncher\n</code></pre>\n"},{"tags":["javascript","java","jquery","ajax","servlets"],"owner":{"account_id":27652378,"reputation":1,"user_id":21106982,"display_name":"keeptothecode"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675040597,"creation_date":1675036209,"question_id":75279226,"body_markdown":"**Context**:\r\nThe following **editAppointment()** method displays a form for editing appointment details. \r\nOf note, a @PathVariable of type Integer is used: \r\n\r\n`@RequestMapping(value = &quot;/clinician/my_clinician_schedule/edit/{appointmentId}&quot;, method = RequestMethod.GET)`&lt;br&gt;\r\n`public ModelAndView editAppointment(@PathVariable(&quot;appointmentId&quot;) Integer appointmentId, @RequestParam(required = false) String date, @RequestParam(required = false) String time) {`\r\n\r\n\r\n**Problem**:\r\nOn the form, I&#39;m attempting to use .Ajax to control the options displayed in one dropdown (clinicians) depending on another dropdown value (time). I have a Servlet class that I am trying to call with this code:\r\n\r\n`$.ajax({`&lt;br&gt;\r\n`      url: &quot;AjaxAppointment&quot;,`\r\n\r\nInstead of calling the Servlet class, the .Ajax code is changing the URL to: \r\n/clinician/my_clinician_schedule/edit/AjaxAppointment\r\n\r\nand causing the following error: \r\n\r\n*Failed to convert value of type &#39;java.lang.String&#39; to required type &#39;java.lang.Integer&#39;; nested exception is java.lang.NumberFormatException: For input string: &quot;AjaxAppointment&quot;]*\r\n\r\nIn other words, instead of calling my Servlet class (shown below), it is calling the above **editAppointment()** method, which is throwing an error because it sees the String &quot;AjaxAppointment&quot; in place of the Integer PathVariable. Would anyone have a recommendation for how I can use a .Ajax to call my servlet in this case? \r\nIt is important to pass the appointmentId variable. \r\n\r\nThe servlet class is not getting called, but here is what that looks like:\r\n\r\n`@WebServlet(name = &quot;AjaxAppointment&quot;, urlPatterns = &quot;/AjaxAppointment&quot;)`&lt;br&gt;\r\n`public class AjaxAppointment extends HttpServlet {`","title":"Java Path Variable type conflicts with URL suffix added by Ajax, preventing servlet from being called","body":"<p><strong>Context</strong>:\nThe following <strong>editAppointment()</strong> method displays a form for editing appointment details.\nOf note, a @PathVariable of type Integer is used:</p>\n<p><code>@RequestMapping(value = &quot;/clinician/my_clinician_schedule/edit/{appointmentId}&quot;, method = RequestMethod.GET)</code><br>\n<code>public ModelAndView editAppointment(@PathVariable(&quot;appointmentId&quot;) Integer appointmentId, @RequestParam(required = false) String date, @RequestParam(required = false) String time) {</code></p>\n<p><strong>Problem</strong>:\nOn the form, I'm attempting to use .Ajax to control the options displayed in one dropdown (clinicians) depending on another dropdown value (time). I have a Servlet class that I am trying to call with this code:</p>\n<p><code>$.ajax({</code><br>\n<code>      url: &quot;AjaxAppointment&quot;,</code></p>\n<p>Instead of calling the Servlet class, the .Ajax code is changing the URL to:\n/clinician/my_clinician_schedule/edit/AjaxAppointment</p>\n<p>and causing the following error:</p>\n<p><em>Failed to convert value of type 'java.lang.String' to required type 'java.lang.Integer'; nested exception is java.lang.NumberFormatException: For input string: &quot;AjaxAppointment&quot;]</em></p>\n<p>In other words, instead of calling my Servlet class (shown below), it is calling the above <strong>editAppointment()</strong> method, which is throwing an error because it sees the String &quot;AjaxAppointment&quot; in place of the Integer PathVariable. Would anyone have a recommendation for how I can use a .Ajax to call my servlet in this case?\nIt is important to pass the appointmentId variable.</p>\n<p>The servlet class is not getting called, but here is what that looks like:</p>\n<p><code>@WebServlet(name = &quot;AjaxAppointment&quot;, urlPatterns = &quot;/AjaxAppointment&quot;)</code><br>\n<code>public class AjaxAppointment extends HttpServlet {</code></p>\n"},{"tags":["java","methods","parameters","string.format"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675038921,"creation_date":1675038921,"answer_id":75279388,"question_id":75279369,"body_markdown":"It&#39;s something like `String.format(&quot;%20.5f&quot;)`, you are making `&quot;%20.f5&quot;`. Instead of `&quot;.f&quot; + places`, you want `&quot;.&quot; + places + &quot;f&quot;`.\r\n","title":"How to format a String using 3 parameters in Java","body":"<p>It's something like <code>String.format(&quot;%20.5f&quot;)</code>, you are making <code>&quot;%20.f5&quot;</code>. Instead of <code>&quot;.f&quot; + places</code>, you want <code>&quot;.&quot; + places + &quot;f&quot;</code>.</p>\n"}],"owner":{"display_name":"user20455580"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":75279388,"answer_count":1,"score":1,"last_activity_date":1675038921,"creation_date":1675038461,"question_id":75279369,"body_markdown":"I have two classes, one where I create a format method that will format a String output by its width (length of the output string), by its places (the number of places after the decimal points), and by the value that I am looking to format. The other class has a method to print out values using the format method. I tried to figure out how to do this myself, but I am getting errors and am not getting the output I am looking for. I am a super beginner using Java for context.\r\n\r\n\r\n\r\n\r\n\r\n\r\nThe method I am struggling with:\r\n\r\n```lang-java\r\n  /**\r\n    * Creates a String representation of the given double value.\r\n    * @param value  The double value to be formatted\r\n    * @param places The number of places after the decimal point\r\n    * @param width  The length of the output String. The value will be\r\n    *               right justified within the output String.\r\n    * @return str   The formatted string\r\n    */\r\n\r\n   public static String format(double value, int places, int width) {\r\n\r\n      // how do I format using the parameters places and width?\r\n     String str = String.format(&quot;%&quot; + width + &quot;.f&quot; + places, value);\r\n\r\n     return str;\r\n      \r\n   }\r\n```\r\n\r\nPart of another class method that will implement the format method:\r\n\r\n       // prints out values\r\n         System.out.println(dbl.format(a, places: 1, width: 6) + &quot;&quot; + dbl.format(b, places: 3, width: 12));\r\n      }\r\n","title":"How to format a String using 3 parameters in Java","body":"<p>I have two classes, one where I create a format method that will format a String output by its width (length of the output string), by its places (the number of places after the decimal points), and by the value that I am looking to format. The other class has a method to print out values using the format method. I tried to figure out how to do this myself, but I am getting errors and am not getting the output I am looking for. I am a super beginner using Java for context.</p>\n<p>The method I am struggling with:</p>\n<pre class=\"lang-java prettyprint-override\"><code>  /**\n    * Creates a String representation of the given double value.\n    * @param value  The double value to be formatted\n    * @param places The number of places after the decimal point\n    * @param width  The length of the output String. The value will be\n    *               right justified within the output String.\n    * @return str   The formatted string\n    */\n\n   public static String format(double value, int places, int width) {\n\n      // how do I format using the parameters places and width?\n     String str = String.format(&quot;%&quot; + width + &quot;.f&quot; + places, value);\n\n     return str;\n      \n   }\n</code></pre>\n<p>Part of another class method that will implement the format method:</p>\n<pre><code>   // prints out values\n     System.out.println(dbl.format(a, places: 1, width: 6) + &quot;&quot; + dbl.format(b, places: 3, width: 12));\n  }\n</code></pre>\n"},{"tags":["java","android-studio","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":2111878,"reputation":21,"user_id":1877003,"display_name":"meshanator"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1456869057,"creation_date":1456869057,"answer_id":35734259,"question_id":35734025,"body_markdown":"If you&#39;re using **Windows** the program **Keyboard King** will allow you do this by overriding the operating systems limits for specific keys, the &#39;up&#39; and &#39;down&#39; keys in your case.\r\n\r\nYou can download it here http://bandwidthcontroller.com/Keyboard%20King/index.html","title":"Intellij set keyboard scroll speed?","body":"<p>If you're using <strong>Windows</strong> the program <strong>Keyboard King</strong> will allow you do this by overriding the operating systems limits for specific keys, the 'up' and 'down' keys in your case.</p>\n\n<p>You can download it here <a href=\"http://bandwidthcontroller.com/Keyboard%20King/index.html\" rel=\"nofollow\">http://bandwidthcontroller.com/Keyboard%20King/index.html</a></p>\n"},{"tags":[],"owner":{"account_id":1133094,"reputation":10113,"user_id":1118709,"accept_rate":53,"display_name":"Finesse"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1529550959,"creation_date":1529550959,"answer_id":50959861,"question_id":35734025,"body_markdown":"If you use Mac, go to the System Preferences application, click the Keyboard icon, the Keyboard tab and adjust the Repeat settings:\r\n\r\n* Key Repeat determines how fast a caret moves.\r\n* Delay Until Repeat determines how soon a caret starts moving after pressing a keyboard arrow.","title":"Intellij set keyboard scroll speed?","body":"<p>If you use Mac, go to the System Preferences application, click the Keyboard icon, the Keyboard tab and adjust the Repeat settings:</p>\n\n<ul>\n<li>Key Repeat determines how fast a caret moves.</li>\n<li>Delay Until Repeat determines how soon a caret starts moving after pressing a keyboard arrow.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":18109798,"reputation":51,"user_id":13166917,"display_name":"Dvis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664966552,"creation_date":1664966552,"answer_id":73959235,"question_id":35734025,"body_markdown":"Unfortunately, it&#39;s not possible natively, even in 2022. What @Finesse suggestd works, but only to a certain extent. I wanted to go even faster.\r\n\r\nThere&#39;s a plugin called &quot;Jumper&quot; though, that allows you to jump X lines using a predefined key-binding. I remapped the existing scroll buttons to use the &quot;Jumper&quot; actions and now I&#39;m able to scroll (it&#39;s really moving the cursor) X lines at once. ","title":"Intellij set keyboard scroll speed?","body":"<p>Unfortunately, it's not possible natively, even in 2022. What @Finesse suggestd works, but only to a certain extent. I wanted to go even faster.</p>\n<p>There's a plugin called &quot;Jumper&quot; though, that allows you to jump X lines using a predefined key-binding. I remapped the existing scroll buttons to use the &quot;Jumper&quot; actions and now I'm able to scroll (it's really moving the cursor) X lines at once.</p>\n"},{"tags":[],"owner":{"account_id":5762613,"reputation":3947,"user_id":4548500,"accept_rate":67,"display_name":"SUPERCILEX"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675038160,"creation_date":1675038160,"answer_id":75279342,"question_id":35734025,"body_markdown":"For Linux key repeat settings, see https://askubuntu.com/a/846035/456255.\r\n\r\n&gt; These settings are under Settings  Universal Access  Typing  Repeat Keys. You have to click the Repeat Keys row item, which brings up a pop-up dialog with two settings: Delay and Speed.","title":"Intellij set keyboard scroll speed?","body":"<p>For Linux key repeat settings, see <a href=\"https://askubuntu.com/a/846035/456255\">https://askubuntu.com/a/846035/456255</a>.</p>\n<blockquote>\n<p>These settings are under Settings  Universal Access  Typing  Repeat Keys. You have to click the Repeat Keys row item, which brings up a pop-up dialog with two settings: Delay and Speed.</p>\n</blockquote>\n"}],"owner":{"account_id":1282892,"reputation":965,"user_id":1236581,"accept_rate":42,"display_name":"fergdev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3113,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":4,"score":7,"last_activity_date":1675038160,"creation_date":1456868188,"question_id":35734025,"body_markdown":"Is there a way to set the keyboard scroll speed in `IntelliJ`? When I hold down the up and down arrows the movement is too slow for me and frustrates me when moving through a file.","title":"Intellij set keyboard scroll speed?","body":"<p>Is there a way to set the keyboard scroll speed in <code>IntelliJ</code>? When I hold down the up and down arrows the movement is too slow for me and frustrates me when moving through a file.</p>\n"},{"tags":["java","arrays","methods"],"comments":[{"owner":{"account_id":27393528,"reputation":353,"user_id":20896122,"display_name":"undefined symbol"},"score":0,"creation_date":1675036647,"post_id":75279232,"comment_id":132836327,"body_markdown":"Why does your &#39;if&#39; statement intentionally refuse to replace the last element of the array?","body":"Why does your &#39;if&#39; statement intentionally refuse to replace the last element of the array?"},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1675036906,"post_id":75279232,"comment_id":132836363,"body_markdown":"You need to show a more complex example.  What is the expected contents of `int[] v = {1,2,3,2,4,5,6,2,8,9,9,10,11};` after it is processed?","body":"You need to show a more complex example.  What is the expected contents of <code>int[] v = {1,2,3,2,4,5,6,2,8,9,9,10,11};</code> after it is processed?"},{"owner":{"account_id":26968335,"reputation":1,"user_id":20534771,"display_name":"A_K_A"},"score":0,"creation_date":1675037291,"post_id":75279232,"comment_id":132836392,"body_markdown":"@ undefined symbol I was getting an out of bounds exception if I didn&#39;t","body":"@ undefined symbol I was getting an out of bounds exception if I didn&#39;t"},{"owner":{"account_id":26968335,"reputation":1,"user_id":20534771,"display_name":"A_K_A"},"score":0,"creation_date":1675037404,"post_id":75279232,"comment_id":132836412,"body_markdown":"@WJS int[] v should change to {1,0,3,0,4,5,6,0,8,0,0,10,11}. However, in the test arrays I&#39;m given, there&#39;s only one number that&#39;s being repeated. So I don&#39;t think I&#39;ll have two different repeating numbers (the 2 and 9) as in your example.","body":"@WJS int[] v should change to {1,0,3,0,4,5,6,0,8,0,0,10,11}. However, in the test arrays I&#39;m given, there&#39;s only one number that&#39;s being repeated. So I don&#39;t think I&#39;ll have two different repeating numbers (the 2 and 9) as in your example."},{"owner":{"account_id":26968335,"reputation":1,"user_id":20534771,"display_name":"A_K_A"},"score":0,"creation_date":1675037752,"post_id":75279232,"comment_id":132836449,"body_markdown":"@Dawood ibn Kareem, I&#39;m not sure where your thinking array[I] = 0 should go. Do you mean inside my if statement? Also, how does this help?","body":"@Dawood ibn Kareem, I&#39;m not sure where your thinking array[I] = 0 should go. Do you mean inside my if statement? Also, how does this help?"},{"owner":{"account_id":27393528,"reputation":353,"user_id":20896122,"display_name":"undefined symbol"},"score":0,"creation_date":1675042750,"post_id":75279232,"comment_id":132837000,"body_markdown":"re *I was getting an out of bounds exception if I didn&#39;t*  No you weren&#39;t.  You can&#39;t possibly have. (1) j only ranges up to length-1 anyway, (2) that &#39;j+1 &lt; length&#39; phrase only prevents you accessing the j&#39;th element **which you have already accessed**.","body":"re <i>I was getting an out of bounds exception if I didn&#39;t</i>  No you weren&#39;t.  You can&#39;t possibly have. (1) j only ranges up to length-1 anyway, (2) that &#39;j+1 &lt; length&#39; phrase only prevents you accessing the j&#39;th element <b>which you have already accessed</b>."},{"owner":{"account_id":27393528,"reputation":353,"user_id":20896122,"display_name":"undefined symbol"},"score":0,"creation_date":1675042916,"post_id":75279232,"comment_id":132837014,"body_markdown":"Meanwhile, your code has another bug - when the above &#39;j+1&lt;length&#39; problem is fixed, you&#39;ll be replacing all elements by zero, since there&#39;s nothing that avoids it.","body":"Meanwhile, your code has another bug - when the above &#39;j+1&lt;length&#39; problem is fixed, you&#39;ll be replacing all elements by zero, since there&#39;s nothing that avoids it."}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675037598,"creation_date":1675037598,"answer_id":75279302,"question_id":75279232,"body_markdown":"\r\nTemp holds the value(s) to be deleted but only if it is a duplicate. The inner loop must go from i+1 to the end to see if other values of `temp` exist.  If so, zero them out.  But since the first one is also equal to `temp` it must be deleted too if it was a duplicate.\r\n\r\nChange your loops to the following:\r\n```\r\nfor(int i = 0; i &lt; array.length-1; i++) {\r\n     temp = array[i];\r\n     for(int j = i+1; j &lt; array.length; j++) {\r\n         if (array[j] == temp) {\r\n             array[j] = 0;\r\n             array[i] = 0; // remove the first one too\r\n         }\r\n     }\r\n }\r\n\r\n","title":"How to make a void method that will remove and replace duplicates from integer array in java","body":"<p>Temp holds the value(s) to be deleted but only if it is a duplicate. The inner loop must go from i+1 to the end to see if other values of <code>temp</code> exist.  If so, zero them out.  But since the first one is also equal to <code>temp</code> it must be deleted too if it was a duplicate.</p>\n<p>Change your loops to the following:</p>\n<pre><code>for(int i = 0; i &lt; array.length-1; i++) {\n     temp = array[i];\n     for(int j = i+1; j &lt; array.length; j++) {\n         if (array[j] == temp) {\n             array[j] = 0;\n             array[i] = 0; // remove the first one too\n         }\n     }\n }\n\n</code></pre>\n"}],"owner":{"account_id":26968335,"reputation":1,"user_id":20534771,"display_name":"A_K_A"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675037598,"creation_date":1675036268,"question_id":75279232,"body_markdown":"I&#39;m trying to remove duplicates from an int array in Java. This method is void and should only alter the array I&#39;m given. I&#39;m also supposed to replace each duplicate with 0. \r\n\r\n\t//array&#39;s duplicates are replaced with zero\r\n\t//array is returned\r\n\tpublic static void removeDuplicates(int[] array) {\r\n\t\t//create a temp variable to compare all other other int values in result array\r\n\t\tint temp;\r\n\t\t//double for loop iterates through array and compares each value to temp.\r\n\t\tfor(int i = 0; i &lt; array.length; i++) {\r\n\t\t\ttemp = array[i];\r\n\t\t\tfor(int j = 0; j &lt; array.length; j++) {\r\n\t\t\t\tif ((array[j] == temp) &amp;&amp; (j+1 &lt; array.length)) {\r\n\t\t\t\t\tarray[j] = 0;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\nThis is what I&#39;ve tried so far. It runs, however, I&#39;m not able to replace all of my duplicates with zero. For example, if I have an array {2,2}, then I&#39;ll get an array {0,2} which is not what I want. Rather, I should be getting {0,0}. I&#39;ve tried drawing this out and still can&#39;t find the problem. ","title":"How to make a void method that will remove and replace duplicates from integer array in java","body":"<p>I'm trying to remove duplicates from an int array in Java. This method is void and should only alter the array I'm given. I'm also supposed to replace each duplicate with 0.</p>\n<pre><code>//array's duplicates are replaced with zero\n//array is returned\npublic static void removeDuplicates(int[] array) {\n    //create a temp variable to compare all other other int values in result array\n    int temp;\n    //double for loop iterates through array and compares each value to temp.\n    for(int i = 0; i &lt; array.length; i++) {\n        temp = array[i];\n        for(int j = 0; j &lt; array.length; j++) {\n            if ((array[j] == temp) &amp;&amp; (j+1 &lt; array.length)) {\n                array[j] = 0;\n            }\n        }\n    }\n}\n</code></pre>\n<p>This is what I've tried so far. It runs, however, I'm not able to replace all of my duplicates with zero. For example, if I have an array {2,2}, then I'll get an array {0,2} which is not what I want. Rather, I should be getting {0,0}. I've tried drawing this out and still can't find the problem.</p>\n"},{"tags":["java","apache-camel"],"comments":[{"owner":{"account_id":176018,"reputation":56316,"user_id":406429,"display_name":"Claus Ibsen"},"score":0,"creation_date":1679782250,"post_id":75279049,"comment_id":133783237,"body_markdown":"Do you have included `camel-servlet-starter` as dependency","body":"Do you have included <code>camel-servlet-starter</code> as dependency"}],"owner":{"account_id":27652311,"reputation":1,"user_id":21106923,"display_name":"LeWolverRO"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":157,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675036890,"creation_date":1675033639,"question_id":75279049,"body_markdown":"I have an error with Apache Camel when starting Spring boot\r\nCan someone tell me how can I fix it ?\r\nThank you !\r\n\r\n&gt; org.apache.camel.FailedToStartRouteException: Failed to start route\r\n&gt; route1 because of null \tat\r\n&gt; org.apache.camel.impl.engine.RouteService.setUp(RouteService.java:132)\r\n&gt; ~[camel-base-engine-3.20.1.jar:3.20.1] \tat\r\n&gt; org.apache.camel.impl.engine.InternalRouteStartupManager.doInitRoutes(InternalRouteStartupManager.java:92)\r\n&gt; ~[camel-base-engine-3.20.1.jar:3.20.1] \tat\r\n&gt; org.apache.camel.impl.engine.AbstractCamelContext.doInit(AbstractCamelContext.java:3010)\r\n&gt; ~[camel-base-engine-3.20.1.jar:3.20.1] \tat\r\n&gt; org.apache.camel.support.service.BaseService.init(BaseService.java:83)\r\n&gt; ~[camel-api-3.20.1.jar:3.20.1] \tat\r\n&gt; org.apache.camel.impl.engine.AbstractCamelContext.init(AbstractCamelContext.java:2679)\r\n&gt; ~[camel-base-engine-3.20.1.jar:3.20.1] \tat\r\n&gt; org.apache.camel.support.service.BaseService.start(BaseService.java:111)\r\n&gt; ~[camel-api-3.20.1.jar:3.20.1] \tat\r\n&gt; org.apache.camel.impl.engine.AbstractCamelContext.start(AbstractCamelContext.java:2698)\r\n&gt; ~[camel-base-engine-3.20.1.jar:3.20.1] \tat\r\n&gt; org.apache.camel.impl.DefaultCamelContext.start(DefaultCamelContext.java:262)\r\n&gt; ~[camel-core-engine-3.20.1.jar:3.20.1] \tat\r\n&gt; org.apache.camel.spring.SpringCamelContext.start(SpringCamelContext.java:119)\r\n&gt; ~[camel-spring-3.20.1.jar:3.20.1] \tat\r\n&gt; org.apache.camel.spring.SpringCamelContext.onApplicationEvent(SpringCamelContext.java:151)\r\n&gt; ~[camel-spring-3.20.1.jar:3.20.1] \tat\r\n&gt; org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176)\r\n&gt; ~[spring-context-5.3.25.jar:5.3.25] \tat\r\n&gt; org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169)\r\n&gt; ~[spring-context-5.3.25.jar:5.3.25] \tat\r\n&gt; org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143)\r\n&gt; ~[spring-context-5.3.25.jar:5.3.25] \tat\r\n&gt; org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:421)\r\n&gt; ~[spring-context-5.3.25.jar:5.3.25] \tat\r\n&gt; org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:378)\r\n&gt; ~[spring-context-5.3.25.jar:5.3.25] \tat\r\n&gt; org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:938)\r\n&gt; ~[spring-context-5.3.25.jar:5.3.25] \tat\r\n&gt; org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:586)\r\n&gt; ~[spring-context-5.3.25.jar:5.3.25] \tat\r\n&gt; org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)\r\n&gt; ~[spring-boot-2.7.8.jar:2.7.8] \tat\r\n&gt; org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)\r\n&gt; ~[spring-boot-2.7.8.jar:2.7.8] \tat\r\n&gt; org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)\r\n&gt; ~[spring-boot-2.7.8.jar:2.7.8] \tat\r\n&gt; org.springframework.boot.SpringApplication.run(SpringApplication.java:307)\r\n&gt; ~[spring-boot-2.7.8.jar:2.7.8] \tat\r\n&gt; org.springframework.boot.SpringApplication.run(SpringApplication.java:1303)\r\n&gt; ~[spring-boot-2.7.8.jar:2.7.8] \tat\r\n&gt; org.springframework.boot.SpringApplication.run(SpringApplication.java:1292)\r\n&gt; ~[spring-boot-2.7.8.jar:2.7.8] \tat\r\n&gt; com.example.gestiunestudenti.GestiuneStudentiApplication.main(GestiuneStudentiApplication.java:10)\r\n&gt; ~[classes/:na] Caused by: org.apache.camel.NoSuchBeanException: No\r\n&gt; bean could be found in the registry for: servlet of type:\r\n&gt; org.apache.camel.spi.RestApiConsumerFactory \tat\r\n&gt; org.apache.camel.component.rest.RestApiEndpoint.createConsumer(RestApiEndpoint.java:220)\r\n&gt; ~[camel-rest-3.20.1.jar:3.20.1] \tat\r\n&gt; org.apache.camel.impl.engine.DefaultRoute.gatherRootServices(DefaultRoute.java:636)\r\n&gt; ~[camel-base-engine-3.20.1.jar:3.20.1] \tat\r\n&gt; org.apache.camel.impl.engine.DefaultRoute.gatherServices(DefaultRoute.java:620)\r\n&gt; ~[camel-base-engine-3.20.1.jar:3.20.1] \tat\r\n&gt; org.apache.camel.impl.engine.DefaultRoute.initializeServices(DefaultRoute.java:205)\r\n&gt; ~[camel-base-engine-3.20.1.jar:3.20.1] \tat\r\n&gt; org.apache.camel.impl.engine.RouteService.doSetup(RouteService.java:151)\r\n&gt; ~[camel-base-engine-3.20.1.jar:3.20.1] \tat\r\n&gt; org.apache.camel.impl.engine.RouteService.setUp(RouteService.java:130)\r\n&gt; ~[camel-base-engine-3.20.1.jar:3.20.1] \t... 23 common frames omitted\r\n\r\nHere is my code for CamelRouter\r\n\r\n    @Component\r\n    public class CamelRouter extends RouteBuilder {\r\n    \r\n        @Autowired\r\n        private Environment env;\r\n    \r\n        @Value(&quot;${camel.servlet.mapping.context-path}&quot;)\r\n        private String contextPath;\r\n    \r\n        @Override\r\n        public void configure() throws Exception {\r\n    \r\n           \r\n    \r\n      \r\n            restConfiguration()\r\n                    .component(&quot;servlet&quot;)\r\n                    .bindingMode(RestBindingMode.json)\r\n                    .dataFormatProperty(&quot;prettyPrint&quot;, &quot;true&quot;)\r\n                    .enableCORS(true)\r\n                    .port(8080)\r\n                    .contextPath(&quot;/api&quot;)\r\n                    // turn on openapi api-doc\r\n                    .apiContextPath(&quot;/api-doc&quot;)\r\n                    .apiProperty(&quot;api.title&quot;, &quot;User API&quot;)\r\n                    .apiProperty(&quot;api.version&quot;, &quot;1.0.0&quot;);\r\n    \r\n            rest(&quot;/users&quot;).description(&quot;User REST service&quot;)\r\n                    .consumes(&quot;application/json&quot;)\r\n                    .produces(&quot;application/json&quot;)\r\n    \r\n                    .get().description(&quot;Find all users&quot;).outType(User[].class)\r\n                    .responseMessage().code(200).message(&quot;All users successfully returned&quot;).endResponseMessage()\r\n                    .to(&quot;bean:userService?method=findUsers&quot;)\r\n    \r\n                    .get(&quot;/{id}&quot;).description(&quot;Find user by ID&quot;)\r\n                    .outType(User.class)\r\n                    .param().name(&quot;id&quot;).type(path).description(&quot;The ID of the user&quot;).dataType(&quot;integer&quot;).endParam()\r\n                    .responseMessage().code(200).message(&quot;User successfully returned&quot;).endResponseMessage()\r\n                    .to(&quot;bean:userService?method=findUser(${header.id})&quot;)\r\n    \r\n                    .put(&quot;/{id}&quot;).description(&quot;Update a user&quot;).type(User.class)\r\n                    .param().name(&quot;id&quot;).type(path).description(&quot;The ID of the user to update&quot;).dataType(&quot;integer&quot;).endParam()\r\n                    .param().name(&quot;body&quot;).type(body).description(&quot;The user to update&quot;).endParam()\r\n                    .responseMessage().code(204).message(&quot;User successfully updated&quot;).endResponseMessage()\r\n                    .to(&quot;direct:update-user&quot;);\r\n    \r\n            from(&quot;direct:update-user&quot;)\r\n                    .to(&quot;bean:userService?method=updateUser&quot;)\r\n                    .setHeader(Exchange.HTTP_RESPONSE_CODE, constant(204))\r\n                    .setBody(constant(&quot;&quot;));\r\n    \r\n        }\r\n    \r\n    }\r\n\r\nI tried to make a simple REST API using Spring Boot and Apache Camel","title":"No bean could be found in the registry for: servlet of type: org.apache.camel.spi.RestApiConsumerFactory","body":"<p>I have an error with Apache Camel when starting Spring boot\nCan someone tell me how can I fix it ?\nThank you !</p>\n<blockquote>\n<p>org.apache.camel.FailedToStartRouteException: Failed to start route\nroute1 because of null    at\norg.apache.camel.impl.engine.RouteService.setUp(RouteService.java:132)\n~[camel-base-engine-3.20.1.jar:3.20.1]    at\norg.apache.camel.impl.engine.InternalRouteStartupManager.doInitRoutes(InternalRouteStartupManager.java:92)\n~[camel-base-engine-3.20.1.jar:3.20.1]    at\norg.apache.camel.impl.engine.AbstractCamelContext.doInit(AbstractCamelContext.java:3010)\n~[camel-base-engine-3.20.1.jar:3.20.1]    at\norg.apache.camel.support.service.BaseService.init(BaseService.java:83)\n~[camel-api-3.20.1.jar:3.20.1]    at\norg.apache.camel.impl.engine.AbstractCamelContext.init(AbstractCamelContext.java:2679)\n~[camel-base-engine-3.20.1.jar:3.20.1]    at\norg.apache.camel.support.service.BaseService.start(BaseService.java:111)\n~[camel-api-3.20.1.jar:3.20.1]    at\norg.apache.camel.impl.engine.AbstractCamelContext.start(AbstractCamelContext.java:2698)\n~[camel-base-engine-3.20.1.jar:3.20.1]    at\norg.apache.camel.impl.DefaultCamelContext.start(DefaultCamelContext.java:262)\n~[camel-core-engine-3.20.1.jar:3.20.1]    at\norg.apache.camel.spring.SpringCamelContext.start(SpringCamelContext.java:119)\n~[camel-spring-3.20.1.jar:3.20.1]     at\norg.apache.camel.spring.SpringCamelContext.onApplicationEvent(SpringCamelContext.java:151)\n~[camel-spring-3.20.1.jar:3.20.1]     at\norg.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176)\n~[spring-context-5.3.25.jar:5.3.25]   at\norg.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169)\n~[spring-context-5.3.25.jar:5.3.25]   at\norg.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143)\n~[spring-context-5.3.25.jar:5.3.25]   at\norg.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:421)\n~[spring-context-5.3.25.jar:5.3.25]   at\norg.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:378)\n~[spring-context-5.3.25.jar:5.3.25]   at\norg.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:938)\n~[spring-context-5.3.25.jar:5.3.25]   at\norg.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:586)\n~[spring-context-5.3.25.jar:5.3.25]   at\norg.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)\n~[spring-boot-2.7.8.jar:2.7.8]    at\norg.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)\n~[spring-boot-2.7.8.jar:2.7.8]    at\norg.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)\n~[spring-boot-2.7.8.jar:2.7.8]    at\norg.springframework.boot.SpringApplication.run(SpringApplication.java:307)\n~[spring-boot-2.7.8.jar:2.7.8]    at\norg.springframework.boot.SpringApplication.run(SpringApplication.java:1303)\n~[spring-boot-2.7.8.jar:2.7.8]    at\norg.springframework.boot.SpringApplication.run(SpringApplication.java:1292)\n~[spring-boot-2.7.8.jar:2.7.8]    at\ncom.example.gestiunestudenti.GestiuneStudentiApplication.main(GestiuneStudentiApplication.java:10)\n~[classes/:na] Caused by: org.apache.camel.NoSuchBeanException: No\nbean could be found in the registry for: servlet of type:\norg.apache.camel.spi.RestApiConsumerFactory   at\norg.apache.camel.component.rest.RestApiEndpoint.createConsumer(RestApiEndpoint.java:220)\n~[camel-rest-3.20.1.jar:3.20.1]   at\norg.apache.camel.impl.engine.DefaultRoute.gatherRootServices(DefaultRoute.java:636)\n~[camel-base-engine-3.20.1.jar:3.20.1]    at\norg.apache.camel.impl.engine.DefaultRoute.gatherServices(DefaultRoute.java:620)\n~[camel-base-engine-3.20.1.jar:3.20.1]    at\norg.apache.camel.impl.engine.DefaultRoute.initializeServices(DefaultRoute.java:205)\n~[camel-base-engine-3.20.1.jar:3.20.1]    at\norg.apache.camel.impl.engine.RouteService.doSetup(RouteService.java:151)\n~[camel-base-engine-3.20.1.jar:3.20.1]    at\norg.apache.camel.impl.engine.RouteService.setUp(RouteService.java:130)\n~[camel-base-engine-3.20.1.jar:3.20.1]    ... 23 common frames omitted</p>\n</blockquote>\n<p>Here is my code for CamelRouter</p>\n<pre><code>@Component\npublic class CamelRouter extends RouteBuilder {\n\n    @Autowired\n    private Environment env;\n\n    @Value(&quot;${camel.servlet.mapping.context-path}&quot;)\n    private String contextPath;\n\n    @Override\n    public void configure() throws Exception {\n\n       \n\n  \n        restConfiguration()\n                .component(&quot;servlet&quot;)\n                .bindingMode(RestBindingMode.json)\n                .dataFormatProperty(&quot;prettyPrint&quot;, &quot;true&quot;)\n                .enableCORS(true)\n                .port(8080)\n                .contextPath(&quot;/api&quot;)\n                // turn on openapi api-doc\n                .apiContextPath(&quot;/api-doc&quot;)\n                .apiProperty(&quot;api.title&quot;, &quot;User API&quot;)\n                .apiProperty(&quot;api.version&quot;, &quot;1.0.0&quot;);\n\n        rest(&quot;/users&quot;).description(&quot;User REST service&quot;)\n                .consumes(&quot;application/json&quot;)\n                .produces(&quot;application/json&quot;)\n\n                .get().description(&quot;Find all users&quot;).outType(User[].class)\n                .responseMessage().code(200).message(&quot;All users successfully returned&quot;).endResponseMessage()\n                .to(&quot;bean:userService?method=findUsers&quot;)\n\n                .get(&quot;/{id}&quot;).description(&quot;Find user by ID&quot;)\n                .outType(User.class)\n                .param().name(&quot;id&quot;).type(path).description(&quot;The ID of the user&quot;).dataType(&quot;integer&quot;).endParam()\n                .responseMessage().code(200).message(&quot;User successfully returned&quot;).endResponseMessage()\n                .to(&quot;bean:userService?method=findUser(${header.id})&quot;)\n\n                .put(&quot;/{id}&quot;).description(&quot;Update a user&quot;).type(User.class)\n                .param().name(&quot;id&quot;).type(path).description(&quot;The ID of the user to update&quot;).dataType(&quot;integer&quot;).endParam()\n                .param().name(&quot;body&quot;).type(body).description(&quot;The user to update&quot;).endParam()\n                .responseMessage().code(204).message(&quot;User successfully updated&quot;).endResponseMessage()\n                .to(&quot;direct:update-user&quot;);\n\n        from(&quot;direct:update-user&quot;)\n                .to(&quot;bean:userService?method=updateUser&quot;)\n                .setHeader(Exchange.HTTP_RESPONSE_CODE, constant(204))\n                .setBody(constant(&quot;&quot;));\n\n    }\n\n}\n</code></pre>\n<p>I tried to make a simple REST API using Spring Boot and Apache Camel</p>\n"},{"tags":["java","list","arraylist","option-type"],"comments":[{"owner":{"display_name":"user19606762"},"score":0,"creation_date":1658635366,"post_id":73095615,"comment_id":129098316,"body_markdown":"first get the list out of the optional using on e of those method here https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Optional.html not recommend to use get as there prpatily that the optional empty use one of those or method then the list the arraylist constructor as you did","body":"first get the list out of the optional using on e of those method here <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Optional.html\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/17/docs/api/java.base/java/ut&zwnj;&#8203;il/&hellip;</a> not recommend to use get as there prpatily that the optional empty use one of those or method then the list the arraylist constructor as you did"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1658648465,"post_id":73095615,"comment_id":129099803,"body_markdown":"Why not just use an empty list to represent no elements and avoid the extra complication of the `Optional`?","body":"Why not just use an empty list to represent no elements and avoid the extra complication of the <code>Optional</code>?"},{"owner":{"account_id":19225697,"reputation":23,"user_id":14048643,"display_name":"DATATruejji"},"score":1,"creation_date":1658673442,"post_id":73095615,"comment_id":129104300,"body_markdown":"Agreed with you but API is written by someone else so I have no control over return type.","body":"Agreed with you but API is written by someone else so I have no control over return type."}],"answers":[{"tags":[],"owner":{"account_id":13015027,"reputation":438,"user_id":9406615,"display_name":"Hamza Hathoute"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1658634873,"creation_date":1658634873,"answer_id":73095669,"question_id":73095615,"body_markdown":"You can convert it like this:\r\n\r\n`Optional&lt;ArrayList&lt;Integer&gt;&gt; listTwo = listOne.map(ArrayList::new);`","title":"How to convert Optional&lt;List&lt;Integer&gt;&gt; to Optional&lt;ArrayList&lt;Integer&gt;&gt;","body":"<p>You can convert it like this:</p>\n<p><code>Optional&lt;ArrayList&lt;Integer&gt;&gt; listTwo = listOne.map(ArrayList::new);</code></p>\n"},{"tags":[],"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1658692773,"creation_date":1658635667,"answer_id":73095707,"question_id":73095615,"body_markdown":"If you start with this:\r\n```\r\nOptional&lt;List&lt;Integer&gt;&gt; optionalList = getFromSomewhere();\r\n```\r\n\r\nYou can convert to `Optional&lt;ArrayList&lt;Integer&gt;&gt;` like this:\r\n\r\n\r\n```\r\nOptional&lt;ArrayList&lt;Integer&gt;&gt; optionalArrayList\r\n\t\t= Optional.of(new ArrayList&lt;&gt;(optionalList.get()));\r\n```\r\nThis is close to what you tried - `Optional.of(new ArrayList(listOne))` &#160;but your attempt didn&#39;t work because `listOne` is type `Optional&lt;List&lt;Integer&gt;&gt;`, whereas [the constructor to `new ArrayList()`](https://docs.oracle.com/javase/8/docs/api/java/util/ArrayList.html#ArrayList-java.util.Collection-) takes a Collection. If you call `.get()` then you&#39;ll get the list out of the Optional, and that works fine for the ArrayList constructor.\r\n\r\nUPDATE: This is a safer way to do it, guarding empty optional. Agree that the other answer &#160;`map(ArrayList::new)`  is a simpler, cleaner way to do it. In this answer, I wanted to address the approach initially taken by OP, how it was close and could be made to work.\r\n\r\n```\r\nif (list.isPresent()) {\r\n    Optional&lt;ArrayList&lt;Integer&gt;&gt; optionalArrayList\r\n        = Optional.of(new ArrayList&lt;&gt;(optionalList.get()));\r\n}\r\n```\r\n","title":"How to convert Optional&lt;List&lt;Integer&gt;&gt; to Optional&lt;ArrayList&lt;Integer&gt;&gt;","body":"<p>If you start with this:</p>\n<pre><code>Optional&lt;List&lt;Integer&gt;&gt; optionalList = getFromSomewhere();\n</code></pre>\n<p>You can convert to <code>Optional&lt;ArrayList&lt;Integer&gt;&gt;</code> like this:</p>\n<pre><code>Optional&lt;ArrayList&lt;Integer&gt;&gt; optionalArrayList\n        = Optional.of(new ArrayList&lt;&gt;(optionalList.get()));\n</code></pre>\n<p>This is close to what you tried - <code>Optional.of(new ArrayList(listOne))</code> but your attempt didn't work because <code>listOne</code> is type <code>Optional&lt;List&lt;Integer&gt;&gt;</code>, whereas <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/ArrayList.html#ArrayList-java.util.Collection-\" rel=\"nofollow noreferrer\">the constructor to <code>new ArrayList()</code></a> takes a Collection. If you call <code>.get()</code> then you'll get the list out of the Optional, and that works fine for the ArrayList constructor.</p>\n<p>UPDATE: This is a safer way to do it, guarding empty optional. Agree that the other answer <code>map(ArrayList::new)</code>  is a simpler, cleaner way to do it. In this answer, I wanted to address the approach initially taken by OP, how it was close and could be made to work.</p>\n<pre><code>if (list.isPresent()) {\n    Optional&lt;ArrayList&lt;Integer&gt;&gt; optionalArrayList\n        = Optional.of(new ArrayList&lt;&gt;(optionalList.get()));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1675036586,"creation_date":1658654835,"answer_id":73097167,"question_id":73095615,"body_markdown":"By making use of `Optional&lt;ArrayList&lt;Integer&gt;&gt;` you piggyback one contrived problem on top of the other.\r\n\r\n&lt;h1&gt;Don&#39;t wrap Collections with Optional&lt;/h1&gt;\r\n\r\nAny `Collection` by itself could represent the *absence of data* by being *empty*. And you can safely interact with an empty collection. Wrapping it with an `Optional` is redundant.\r\n\r\nHere is a quote from the [*answer*](https://stackoverflow.com/questions/26327957/should-java-8-getters-return-optional-type/26328555#26328555) by *Brian Goetz*, Java language Architect, regarding how the `Optional` is intended to be used, and how it shouldn&#39;t be used from the perspective of its creators:\r\n\r\n&gt; Our intention was to provide a ***limited mechanism for library method return types*** where there needed to be a clear way to ***represent &quot;no result&quot;***, and using `null` for such was overwhelmingly likely to cause errors.\r\n&gt; \r\n&gt; For example, you probably should **never use** it for something that\r\n&gt; returns an **array** of results, or a **list** of results; instead return an\r\n&gt; **empty array** or **list**.\r\n\r\n***Conclusion:*** design of the first API returning `Optional&lt;List&lt;Integer&gt;&gt;` is incorrect.\r\n\r\n&lt;h1&gt;Don&#39;t use Optional as an Argument&lt;/h1&gt;\r\n\r\nThis considered a misuse of the Optional because it goes against the main design goal of Optional (see the quote above, also have a look at [*the answer*](https://stackoverflow.com/a/23464794/17949945) by *Stuart Marks*, Java and OpenJDK developer).\r\n\r\n***Conclusion:*** design of the second API expecting `Optional&lt;ArrayList&lt;Integer&gt;&gt;` is also wrong.\r\n\r\n&lt;h1&gt;Write your code against Interfaces&lt;/h1&gt;\r\n\r\nLeverage abstractions, write your code against interfaces. There&#39;s no justification for making the code inflexible and capable only of consuming instances of `ArrayList` because it would not be able to deal with a `List` produced by `Collections.emptyList()`, `List.of()`, `Arrays.asList()`, `Stream.toList()`, etc.\r\n\r\nSee https://stackoverflow.com/questions/383947/what-does-it-mean-to-program-to-an-interface\r\n\r\n&lt;h1&gt;Fixing the problem&lt;/h1&gt;\r\n\r\nFix both endpoints if you can. Make them work without `Optional`.\r\n\r\nIn case if you&#39;re not in control of this first API returning the optional, fine, then don&#39;t make the problem bigger - fix the second API, make it expect a list of integer. And unpack the optional result right on the spot before call the second API.\r\n\r\nYou can use [`orElse()`](https://docs.oracle.com/en/java/javase/17/docs/api//java.base/java/util/Optional.html#orElse(T)) for that purpose:\r\n```\r\nList&lt;Integer&gt; list = someAPI.call().orElse(Collections.emptyList());\r\n```\r\n\r\nIf you can&#39;t change both APIs, then you&#39;re out of luck.\r\n\r\nAlso, not that `listOne.map(ArrayList::new)` creates a **copy** of the initial data, that means that your system instead of making the second call immediately is forced to perform an additional step because of poor API design.","title":"How to convert Optional&lt;List&lt;Integer&gt;&gt; to Optional&lt;ArrayList&lt;Integer&gt;&gt;","body":"<p>By making use of <code>Optional&lt;ArrayList&lt;Integer&gt;&gt;</code> you piggyback one contrived problem on top of the other.</p>\n<h1>Don't wrap Collections with Optional</h1>\n<p>Any <code>Collection</code> by itself could represent the <em>absence of data</em> by being <em>empty</em>. And you can safely interact with an empty collection. Wrapping it with an <code>Optional</code> is redundant.</p>\n<p>Here is a quote from the <a href=\"https://stackoverflow.com/questions/26327957/should-java-8-getters-return-optional-type/26328555#26328555\"><em>answer</em></a> by <em>Brian Goetz</em>, Java language Architect, regarding how the <code>Optional</code> is intended to be used, and how it shouldn't be used from the perspective of its creators:</p>\n<blockquote>\n<p>Our intention was to provide a <em><strong>limited mechanism for library method return types</strong></em> where there needed to be a clear way to <em><strong>represent &quot;no result&quot;</strong></em>, and using <code>null</code> for such was overwhelmingly likely to cause errors.</p>\n<p>For example, you probably should <strong>never use</strong> it for something that\nreturns an <strong>array</strong> of results, or a <strong>list</strong> of results; instead return an\n<strong>empty array</strong> or <strong>list</strong>.</p>\n</blockquote>\n<p><em><strong>Conclusion:</strong></em> design of the first API returning <code>Optional&lt;List&lt;Integer&gt;&gt;</code> is incorrect.</p>\n<h1>Don't use Optional as an Argument</h1>\n<p>This considered a misuse of the Optional because it goes against the main design goal of Optional (see the quote above, also have a look at <a href=\"https://stackoverflow.com/a/23464794/17949945\"><em>the answer</em></a> by <em>Stuart Marks</em>, Java and OpenJDK developer).</p>\n<p><em><strong>Conclusion:</strong></em> design of the second API expecting <code>Optional&lt;ArrayList&lt;Integer&gt;&gt;</code> is also wrong.</p>\n<h1>Write your code against Interfaces</h1>\n<p>Leverage abstractions, write your code against interfaces. There's no justification for making the code inflexible and capable only of consuming instances of <code>ArrayList</code> because it would not be able to deal with a <code>List</code> produced by <code>Collections.emptyList()</code>, <code>List.of()</code>, <code>Arrays.asList()</code>, <code>Stream.toList()</code>, etc.</p>\n<p>See <a href=\"https://stackoverflow.com/questions/383947/what-does-it-mean-to-program-to-an-interface\">What does it mean to &quot;program to an interface&quot;?</a></p>\n<h1>Fixing the problem</h1>\n<p>Fix both endpoints if you can. Make them work without <code>Optional</code>.</p>\n<p>In case if you're not in control of this first API returning the optional, fine, then don't make the problem bigger - fix the second API, make it expect a list of integer. And unpack the optional result right on the spot before call the second API.</p>\n<p>You can use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api//java.base/java/util/Optional.html#orElse(T)\" rel=\"nofollow noreferrer\"><code>orElse()</code></a> for that purpose:</p>\n<pre><code>List&lt;Integer&gt; list = someAPI.call().orElse(Collections.emptyList());\n</code></pre>\n<p>If you can't change both APIs, then you're out of luck.</p>\n<p>Also, not that <code>listOne.map(ArrayList::new)</code> creates a <strong>copy</strong> of the initial data, that means that your system instead of making the second call immediately is forced to perform an additional step because of poor API design.</p>\n"}],"owner":{"account_id":19225697,"reputation":23,"user_id":14048643,"display_name":"DATATruejji"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":408,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73095669,"answer_count":3,"score":1,"last_activity_date":1675036586,"creation_date":1658633976,"question_id":73095615,"body_markdown":"I&#39;ve tried to do the following, but it doesn&#39;t work\r\n```\r\nOptional&lt;List&lt;Integer&gt;&gt; listOne = someAPI.call()\r\n// convert\r\nOptional&lt;ArrayList&lt;Integer&gt;&gt; listTwo = new ArrayList&lt;&gt;(listOne); // doesn&#39;t work\r\nOptional&lt;ArrayList&lt;Integer&gt;&gt; listTwo = Optional.of(new ArrayList(listOne)); // also not working\r\n\r\n```\r\nNote that the first API returns `Optional&lt;List&gt;`. And I need to send `Optional&lt;ArrayList&gt;` to another API. ","title":"How to convert Optional&lt;List&lt;Integer&gt;&gt; to Optional&lt;ArrayList&lt;Integer&gt;&gt;","body":"<p>I've tried to do the following, but it doesn't work</p>\n<pre><code>Optional&lt;List&lt;Integer&gt;&gt; listOne = someAPI.call()\n// convert\nOptional&lt;ArrayList&lt;Integer&gt;&gt; listTwo = new ArrayList&lt;&gt;(listOne); // doesn't work\nOptional&lt;ArrayList&lt;Integer&gt;&gt; listTwo = Optional.of(new ArrayList(listOne)); // also not working\n\n</code></pre>\n<p>Note that the first API returns <code>Optional&lt;List&gt;</code>. And I need to send <code>Optional&lt;ArrayList&gt;</code> to another API.</p>\n"},{"tags":["javascript","java","spring-boot","frontend","backend"],"answers":[{"tags":[],"owner":{"account_id":16243302,"reputation":98,"user_id":11729079,"display_name":"bakarJc"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1675036478,"creation_date":1675036478,"answer_id":75279244,"question_id":75279207,"body_markdown":"How have you developed the frontend? As in, what technologies/frameworks have you used to implement the front-end / presentation layer of your website?\r\n\r\nSince you&#39;ve mentioned keeping it with spring boot you might have used something like thymeleaf or JSF\r\n\r\nGenerally, these are server-side template engines with the purpose of generating dynamic html content, not to serve as the full-fledge front end for your application\r\n\r\nYou could consider using js frameworks such as Angular/React/Vue to use as front-end (and yes - deployed on a different port) and spring boot for rest api.","title":"How should I approach a full stack Website, DO i host front end and backend on different ports?","body":"<p>How have you developed the frontend? As in, what technologies/frameworks have you used to implement the front-end / presentation layer of your website?</p>\n<p>Since you've mentioned keeping it with spring boot you might have used something like thymeleaf or JSF</p>\n<p>Generally, these are server-side template engines with the purpose of generating dynamic html content, not to serve as the full-fledge front end for your application</p>\n<p>You could consider using js frameworks such as Angular/React/Vue to use as front-end (and yes - deployed on a different port) and spring boot for rest api.</p>\n"}],"owner":{"account_id":27207623,"reputation":33,"user_id":20738934,"display_name":"G Route"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":237,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1675333897,"accepted_answer_id":75279244,"answer_count":1,"score":0,"last_activity_date":1675036478,"creation_date":1675035945,"question_id":75279207,"body_markdown":"Lets say i&#39;ve got my frotend all done and ready to deploy, should i keep it on a port by it&#39;self then use get request to make calls to an api / backend server port. \r\n\r\nShould i Host my Backend in SpringBoot in one port or do i keep my front end with my springboot app and just host it on one port like 8080\r\n\r\nif i were to host the front end ill host everything from html/css/ - to its framework on port 80 then host my backend springboot application on 8080 is that something good to do? or should i host them all together please help me clrarify this. ","title":"How should I approach a full stack Website, DO i host front end and backend on different ports?","body":"<p>Lets say i've got my frotend all done and ready to deploy, should i keep it on a port by it'self then use get request to make calls to an api / backend server port.</p>\n<p>Should i Host my Backend in SpringBoot in one port or do i keep my front end with my springboot app and just host it on one port like 8080</p>\n<p>if i were to host the front end ill host everything from html/css/ - to its framework on port 80 then host my backend springboot application on 8080 is that something good to do? or should i host them all together please help me clrarify this.</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1675016976,"post_id":75277201,"comment_id":132833109,"body_markdown":"What is `CSV_Objects`? Why is the class name plural, and why does it have a `getStudent()` method whose name is singular yet returns a list? Why is it used as the item type of your table view? Why does an `ArrayList&lt;String&gt;` apparently represent a single student (based on the name of the methods and variables)? Why do you create a `CSV_Objects`, call `getStudent()` on that instance, and then loop over each `String` in the returned list only to create a _new_ `CSV_Objects`? Perhaps if you provide a [mre] we will be able to help you better.","body":"What is <code>CSV_Objects</code>? Why is the class name plural, and why does it have a <code>getStudent()</code> method whose name is singular yet returns a list? Why is it used as the item type of your table view? Why does an <code>ArrayList&lt;String&gt;</code> apparently represent a single student (based on the name of the methods and variables)? Why do you create a <code>CSV_Objects</code>, call <code>getStudent()</code> on that instance, and then loop over each <code>String</code> in the returned list only to create a <i>new</i> <code>CSV_Objects</code>? Perhaps if you provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> we will be able to help you better."},{"owner":{"account_id":12884963,"reputation":93,"user_id":9318804,"display_name":"Cbrady"},"score":0,"creation_date":1675017334,"post_id":75277201,"comment_id":132833178,"body_markdown":"CSV_Obects is my class for getters/setters. When I read a CSV file I use this class to store some data of the CSV file. getStudent should be students yes as it stores the students details. I call CSV_Objects so that I can access the getters in that particular class which is getStudent() in this instance. I then loop through everything that is stored in the getStudent() ArrayList then add that data to the studentData FXCollections.observableArrayList() as a tableView needs this format for that data to be passed into the table.","body":"CSV_Obects is my class for getters/setters. When I read a CSV file I use this class to store some data of the CSV file. getStudent should be students yes as it stores the students details. I call CSV_Objects so that I can access the getters in that particular class which is getStudent() in this instance. I then loop through everything that is stored in the getStudent() ArrayList then add that data to the studentData FXCollections.observableArrayList() as a tableView needs this format for that data to be passed into the table."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1675018566,"post_id":75277201,"comment_id":132833413,"body_markdown":"Post a [mre]. It seems this is too advanced for your level of Java knowledge right now. You really need to understand Java basics, including basic object modeling with classes and how to use Collections, before you try to use a library like JavaFX.","body":"Post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. It seems this is too advanced for your level of Java knowledge right now. You really need to understand Java basics, including basic object modeling with classes and how to use Collections, before you try to use a library like JavaFX."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1675018645,"post_id":75277201,"comment_id":132833433,"body_markdown":"No [`PropertyValueFactory`](https://stackoverflow.com/q/72437983/230513) property name matches the corresponding `TableColumn` identifier, e.g. `q1Column` vs. &quot;q1&quot;. Converting to callbacks is illustrated [here](https://stackoverflow.com/a/68969223/230513)","body":"No <a href=\"https://stackoverflow.com/q/72437983/230513\"><code>PropertyValueFactory</code></a> property name matches the corresponding <code>TableColumn</code> identifier, e.g. <code>q1Column</code> vs. &quot;q1&quot;. Converting to callbacks is illustrated <a href=\"https://stackoverflow.com/a/68969223/230513\">here</a>"}],"answers":[{"tags":[],"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1675022015,"creation_date":1675021392,"answer_id":75277852,"question_id":75277201,"body_markdown":"It&#39;s not clear what is wrong with your code. There&#39;s too much missing. There&#39;s also an indication of not enough familiarity with how JavaFX&#39;s `TableView` works nor how to separate concerns in a non-trivial application. This answer does not directly address your code, but hopefully the example provided here can help you solve your problem(s).\r\n\r\n\r\nThat said, I believe part of the problem is that you&#39;re not separating the data from how the data is retrieved enough. I don&#39;t quite understand what your `TableView` is supposed to be displaying, but the fact your model is named `CSV_Objects` would seem to support my belief. You should set up your UI code to display a model regardless of where the instances come from, then later worry about reading the data from a CSV file. \r\n\r\nFor example, let&#39;s say you want a table to display a number of students, where each student has an ID, a name, and a &quot;year&quot; (freshman, sophomore, junior, or senior). You first create a `Student` class which encapsulates those properties.\r\n\r\n`Student.java`:\r\n\r\n```lang-java\r\npackage sample;\r\n\r\nimport javafx.beans.property.ObjectProperty;\r\nimport javafx.beans.property.SimpleObjectProperty;\r\nimport javafx.beans.property.SimpleStringProperty;\r\nimport javafx.beans.property.StringProperty;\r\n\r\npublic class Student {\r\n    \r\n    private final StringProperty id = new SimpleStringProperty(this, &quot;id&quot;);\r\n    public final void setId(String id) { this.id.set(id); }\r\n    public final String getId() { return id.get(); }\r\n    public final StringProperty idProperty() { return id; }\r\n\r\n    private final StringProperty name = new SimpleStringProperty(this, &quot;name&quot;);\r\n    public final void setName(String name) { this.name.set(name); }\r\n    public final String getName() { return name.get(); }\r\n    public final StringProperty nameProperty() { return name; }\r\n\r\n    private final ObjectProperty&lt;Year&gt; year = new SimpleObjectProperty&lt;&gt;(this, &quot;year&quot;);\r\n    public final void setYear(Year year) { this.year.set(year); }\r\n    public final Year getYear() { return year.get(); }\r\n    public final ObjectProperty&lt;Year&gt; yearProperty() { return year; }\r\n\r\n    public Student() {}\r\n\r\n    public Student(String id, String name, Year year) {\r\n        setId(id);\r\n        setName(name);\r\n        setYear(year);\r\n    }\r\n\r\n    public enum Year {\r\n        FRESHMAN,\r\n        SOPHOMORE,\r\n        JUNIOR,\r\n        SENIOR\r\n    }\r\n}\r\n```\r\n\r\n&lt;sup&gt;**Note:** JavaFX properties are used to make interacting with a `TableView` easier.&lt;/sup&gt;\r\n\r\nThen you set up `TableView` (FXML is used since you are also using FXML).\r\n\r\n`Controller.java`:\r\n\r\n```lang-java\r\npackage sample;\r\n\r\nimport javafx.fxml.FXML;\r\nimport javafx.scene.control.TableColumn;\r\nimport javafx.scene.control.TableView;\r\n\r\npublic class Controller {\r\n    \r\n    @FXML private TableView&lt;Student&gt; studentTable;\r\n    @FXML private TableColumn&lt;Student, String&gt; idColumn;\r\n    @FXML private TableColumn&lt;Student, String&gt; nameColumn;\r\n    @FXML private TableColumn&lt;Student, Student.Year&gt; yearColumn;\r\n\r\n    @FXML\r\n    private void initialize() {\r\n        idColumn.setCellValueFactory(data -&gt; data.getValue().idProperty());\r\n        nameColumn.setCellValueFactory(data -&gt; data.getValue().nameProperty());\r\n        yearColumn.setCellValueFactory(data -&gt; data.getValue().yearProperty());\r\n\r\n        // mock data for example\r\n        studentTable.getItems().addAll(\r\n            new Student(&quot;1&quot;, &quot;John Smith&quot;, Student.Year.FRESHMAN),\r\n            new Student(&quot;2&quot;, &quot;Jane Smith&quot;, Student.Year.SOPHOMORE)\r\n        );\r\n    }\r\n}\r\n```\r\n\r\n&lt;sup&gt;**Note:** Used lambdas instead of `PropertyValueFactory`. See [Why should I avoid using PropertyValueFactory in JavaFX?][1].&lt;/sup&gt;\r\n\r\n`Main.fxml`:\r\n\r\n```lang-xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import javafx.scene.control.TableView?&gt;\r\n&lt;?import javafx.scene.control.TableColumn?&gt;\r\n&lt;?import javafx.scene.layout.StackPane?&gt;\r\n\r\n&lt;StackPane xmlns=&quot;http://javafx.com/javafx&quot; xmlns:fx=&quot;http://javafx.com/fxml&quot;\r\n           fx:controller=&quot;sample.Controller&quot;&gt;\r\n    &lt;TableView fx:id=&quot;studentTable&quot;&gt;\r\n        &lt;columnResizePolicy&gt;\r\n            &lt;TableView fx:constant=&quot;CONSTRAINED_RESIZE_POLICY&quot;/&gt;\r\n        &lt;/columnResizePolicy&gt;\r\n        \r\n        &lt;columns&gt;\r\n            &lt;TableColumn fx:id=&quot;idColumn&quot; text=&quot;ID&quot;/&gt;\r\n            &lt;TableColumn fx:id=&quot;nameColumn&quot; text=&quot;Name&quot;/&gt;\r\n            &lt;TableColumn fx:id=&quot;yearColumn&quot; text=&quot;Year&quot;/&gt;\r\n        &lt;/columns&gt;\r\n    &lt;/TableView&gt;\r\n&lt;/StackPane&gt;\r\n```\r\n\r\nAnd here is the application class.\r\n\r\n`Main.java`:\r\n\r\n```lang-java\r\npackage sample;\r\n\r\nimport javafx.application.Application;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Parent;\r\nimport javafx.scene.Scene;\r\nimport javafx.stage.Stage;\r\n\r\npublic class Main extends Application {\r\n    \r\n    @Override\r\n    public void start(Stage primaryStage) throws Exception {\r\n        Parent root = FXMLLoader.load(Main.class.getResource(&quot;Main.fxml&quot;));\r\n        primaryStage.setScene(new Scene(root, 600, 400));\r\n        primaryStage.show();\r\n    }\r\n}\r\n```\r\n\r\n&lt;sup&gt;**Note:** Expects the `Main.fxml` file to be in the same package as the `sample.Main` class.&lt;/sup&gt;\r\n\r\nThe above example will run and display two students in a table view. But these students are created in code (specifically, the `initialize` method of the FXML controller). You want to read the students from a CSV file. For that, we need to write code to parse a CSV file into `Student` instances.\r\n\r\nFor example, `StudentCsvReader.java`:\r\n\r\n```lang-java\r\npackage sample;\r\n\r\nimport java.io.BufferedReader;\r\nimport java.io.IOException;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Path;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class StudentCsvReader {\r\n\r\n    /* \r\n     * This is really basic CSV-reading code. It assumes a perfectly formatted file\r\n     * that has no commas in the actual data (i.e., there&#39;s no delimiter-escape\r\n     * handling). You may want to find an existing library to parse CSV files; they\r\n     * are likely to be more robust. Also, there are libraries out there that will\r\n     * &quot;directly&quot; parse a CSV file into POJOs. It could look something like:\r\n     * \r\n     * List&lt;Student&gt; students = CSVParser.parse(csvFile, Student.class);\r\n     *\r\n     * \r\n     * Note this code also assumes there is no header row.\r\n     */\r\n    \r\n    public List&lt;Student&gt; read(Path csvFile) throws IOException {\r\n        try (BufferedReader br = Files.newBufferedReader(csvFile)) {\r\n            List&lt;Student&gt; students = new ArrayList&lt;&gt;();\r\n\r\n            String line;\r\n            while ((line = br.readLine()) != null) {\r\n                if (!line.isBlank()) {\r\n                    String[] columns = line.split(&quot;,&quot;);\r\n\r\n                    String id = columns[0];\r\n                    String name = columns[1];\r\n                    String year = columns[2];\r\n                    students.add(new Student(id, name, Student.Year.valueOf(year.toUpperCase())));\r\n                }\r\n            }\r\n\r\n            return students;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nAnd then we modify the `Controller` class to make use of this `StudentCsvReader`. Note we use a background thread and a `Task` to avoid doing I/O work on the _JavaFX Application Thread_.\r\n\r\nModified `Controller.java`:\r\n\r\n```lang-java\r\npackage sample;\r\n\r\nimport java.nio.file.Path;\r\nimport java.util.List;\r\nimport javafx.concurrent.Task;\r\nimport javafx.fxml.FXML;\r\nimport javafx.scene.control.TableColumn;\r\nimport javafx.scene.control.TableView;\r\n\r\npublic class Controller {\r\n    \r\n    @FXML private TableView&lt;Student&gt; studentTable;\r\n    @FXML private TableColumn&lt;Student, String&gt; idColumn;\r\n    @FXML private TableColumn&lt;Student, String&gt; nameColumn;\r\n    @FXML private TableColumn&lt;Student, Student.Year&gt; yearColumn;\r\n\r\n    @FXML\r\n    private void initialize() {\r\n        idColumn.setCellValueFactory(data -&gt; data.getValue().idProperty());\r\n        nameColumn.setCellValueFactory(data -&gt; data.getValue().nameProperty());\r\n        yearColumn.setCellValueFactory(data -&gt; data.getValue().yearProperty());\r\n\r\n        Path csvFile = Path.of(&quot;.&quot;, &quot;students.csv&quot;);\r\n        Thread t = new Thread(new ParseStudentCsvTask(csvFile), &quot;parse-csv-thread&quot;);\r\n        t.setDaemon(true);\r\n        t.start();\r\n    }\r\n\r\n    private class ParseStudentCsvTask extends Task&lt;List&lt;Student&gt;&gt; {\r\n\r\n        private final Path csvFile;\r\n\r\n        ParseStudentCsvTask(Path csvFile) {\r\n            this.csvFile = csvFile;\r\n        }\r\n\r\n        @Override\r\n        protected List&lt;Student&gt; call() throws Exception {\r\n            return new StudentCsvReader().read(csvFile);\r\n        }\r\n\r\n        @Override\r\n        protected void succeeded() {\r\n            studentTable.getItems().setAll(getValue());\r\n        }\r\n\r\n        @Override\r\n        protected void failed() {\r\n            getException().printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n&lt;sup&gt;**Note:** Expects a CSV file named `students.csv` to exist in the working directory.&lt;/sup&gt;\r\n\r\nAnd here&#39;s an example CSV file that will work with the above code:\r\n\r\n```lang-none\r\n1,Kate Todd,FRESHMAN\r\n2,Leroy Gibbs,SENIOR\r\n3,Tony DiNozzo,JUNIOR\r\n4,Ellie Bishop,FRESHMAN\r\n5,Nick Torres,FRESHMAN\r\n6,Ziva David,SOPHOMORE\r\n\r\n```\r\n\r\nNotice the modifications to the code did nothing to `Student` or how the `TableView` is configured. The only difference was how the `Student` instances were created. Basically, the UI should not know where or how the data is created/found.\r\n\r\nYou should also consider using an application architecture such as Model-View-Controller (MVC) or Model-View-ViewModel (MVVM). It encourages separation of concerns, making it easier to reason about and develop code. Check out [Applying MVC With JavaFx][2].\r\n\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/q/72437983/6395627\r\n  [2]: https://stackoverflow.com/q/32342864/6395627","title":"tableView doesn&#39;t populate from an ArrayList","body":"<p>It's not clear what is wrong with your code. There's too much missing. There's also an indication of not enough familiarity with how JavaFX's <code>TableView</code> works nor how to separate concerns in a non-trivial application. This answer does not directly address your code, but hopefully the example provided here can help you solve your problem(s).</p>\n<p>That said, I believe part of the problem is that you're not separating the data from how the data is retrieved enough. I don't quite understand what your <code>TableView</code> is supposed to be displaying, but the fact your model is named <code>CSV_Objects</code> would seem to support my belief. You should set up your UI code to display a model regardless of where the instances come from, then later worry about reading the data from a CSV file.</p>\n<p>For example, let's say you want a table to display a number of students, where each student has an ID, a name, and a &quot;year&quot; (freshman, sophomore, junior, or senior). You first create a <code>Student</code> class which encapsulates those properties.</p>\n<p><code>Student.java</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package sample;\n\nimport javafx.beans.property.ObjectProperty;\nimport javafx.beans.property.SimpleObjectProperty;\nimport javafx.beans.property.SimpleStringProperty;\nimport javafx.beans.property.StringProperty;\n\npublic class Student {\n    \n    private final StringProperty id = new SimpleStringProperty(this, &quot;id&quot;);\n    public final void setId(String id) { this.id.set(id); }\n    public final String getId() { return id.get(); }\n    public final StringProperty idProperty() { return id; }\n\n    private final StringProperty name = new SimpleStringProperty(this, &quot;name&quot;);\n    public final void setName(String name) { this.name.set(name); }\n    public final String getName() { return name.get(); }\n    public final StringProperty nameProperty() { return name; }\n\n    private final ObjectProperty&lt;Year&gt; year = new SimpleObjectProperty&lt;&gt;(this, &quot;year&quot;);\n    public final void setYear(Year year) { this.year.set(year); }\n    public final Year getYear() { return year.get(); }\n    public final ObjectProperty&lt;Year&gt; yearProperty() { return year; }\n\n    public Student() {}\n\n    public Student(String id, String name, Year year) {\n        setId(id);\n        setName(name);\n        setYear(year);\n    }\n\n    public enum Year {\n        FRESHMAN,\n        SOPHOMORE,\n        JUNIOR,\n        SENIOR\n    }\n}\n</code></pre>\n<p><sup><strong>Note:</strong> JavaFX properties are used to make interacting with a <code>TableView</code> easier.</sup></p>\n<p>Then you set up <code>TableView</code> (FXML is used since you are also using FXML).</p>\n<p><code>Controller.java</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package sample;\n\nimport javafx.fxml.FXML;\nimport javafx.scene.control.TableColumn;\nimport javafx.scene.control.TableView;\n\npublic class Controller {\n    \n    @FXML private TableView&lt;Student&gt; studentTable;\n    @FXML private TableColumn&lt;Student, String&gt; idColumn;\n    @FXML private TableColumn&lt;Student, String&gt; nameColumn;\n    @FXML private TableColumn&lt;Student, Student.Year&gt; yearColumn;\n\n    @FXML\n    private void initialize() {\n        idColumn.setCellValueFactory(data -&gt; data.getValue().idProperty());\n        nameColumn.setCellValueFactory(data -&gt; data.getValue().nameProperty());\n        yearColumn.setCellValueFactory(data -&gt; data.getValue().yearProperty());\n\n        // mock data for example\n        studentTable.getItems().addAll(\n            new Student(&quot;1&quot;, &quot;John Smith&quot;, Student.Year.FRESHMAN),\n            new Student(&quot;2&quot;, &quot;Jane Smith&quot;, Student.Year.SOPHOMORE)\n        );\n    }\n}\n</code></pre>\n<p><sup><strong>Note:</strong> Used lambdas instead of <code>PropertyValueFactory</code>. See <a href=\"https://stackoverflow.com/q/72437983/6395627\">Why should I avoid using PropertyValueFactory in JavaFX?</a>.</sup></p>\n<p><code>Main.fxml</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.scene.control.TableView?&gt;\n&lt;?import javafx.scene.control.TableColumn?&gt;\n&lt;?import javafx.scene.layout.StackPane?&gt;\n\n&lt;StackPane xmlns=&quot;http://javafx.com/javafx&quot; xmlns:fx=&quot;http://javafx.com/fxml&quot;\n           fx:controller=&quot;sample.Controller&quot;&gt;\n    &lt;TableView fx:id=&quot;studentTable&quot;&gt;\n        &lt;columnResizePolicy&gt;\n            &lt;TableView fx:constant=&quot;CONSTRAINED_RESIZE_POLICY&quot;/&gt;\n        &lt;/columnResizePolicy&gt;\n        \n        &lt;columns&gt;\n            &lt;TableColumn fx:id=&quot;idColumn&quot; text=&quot;ID&quot;/&gt;\n            &lt;TableColumn fx:id=&quot;nameColumn&quot; text=&quot;Name&quot;/&gt;\n            &lt;TableColumn fx:id=&quot;yearColumn&quot; text=&quot;Year&quot;/&gt;\n        &lt;/columns&gt;\n    &lt;/TableView&gt;\n&lt;/StackPane&gt;\n</code></pre>\n<p>And here is the application class.</p>\n<p><code>Main.java</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package sample;\n\nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\n\npublic class Main extends Application {\n    \n    @Override\n    public void start(Stage primaryStage) throws Exception {\n        Parent root = FXMLLoader.load(Main.class.getResource(&quot;Main.fxml&quot;));\n        primaryStage.setScene(new Scene(root, 600, 400));\n        primaryStage.show();\n    }\n}\n</code></pre>\n<p><sup><strong>Note:</strong> Expects the <code>Main.fxml</code> file to be in the same package as the <code>sample.Main</code> class.</sup></p>\n<p>The above example will run and display two students in a table view. But these students are created in code (specifically, the <code>initialize</code> method of the FXML controller). You want to read the students from a CSV file. For that, we need to write code to parse a CSV file into <code>Student</code> instances.</p>\n<p>For example, <code>StudentCsvReader.java</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package sample;\n\nimport java.io.BufferedReader;\nimport java.io.IOException;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class StudentCsvReader {\n\n    /* \n     * This is really basic CSV-reading code. It assumes a perfectly formatted file\n     * that has no commas in the actual data (i.e., there's no delimiter-escape\n     * handling). You may want to find an existing library to parse CSV files; they\n     * are likely to be more robust. Also, there are libraries out there that will\n     * &quot;directly&quot; parse a CSV file into POJOs. It could look something like:\n     * \n     * List&lt;Student&gt; students = CSVParser.parse(csvFile, Student.class);\n     *\n     * \n     * Note this code also assumes there is no header row.\n     */\n    \n    public List&lt;Student&gt; read(Path csvFile) throws IOException {\n        try (BufferedReader br = Files.newBufferedReader(csvFile)) {\n            List&lt;Student&gt; students = new ArrayList&lt;&gt;();\n\n            String line;\n            while ((line = br.readLine()) != null) {\n                if (!line.isBlank()) {\n                    String[] columns = line.split(&quot;,&quot;);\n\n                    String id = columns[0];\n                    String name = columns[1];\n                    String year = columns[2];\n                    students.add(new Student(id, name, Student.Year.valueOf(year.toUpperCase())));\n                }\n            }\n\n            return students;\n        }\n    }\n}\n</code></pre>\n<p>And then we modify the <code>Controller</code> class to make use of this <code>StudentCsvReader</code>. Note we use a background thread and a <code>Task</code> to avoid doing I/O work on the <em>JavaFX Application Thread</em>.</p>\n<p>Modified <code>Controller.java</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package sample;\n\nimport java.nio.file.Path;\nimport java.util.List;\nimport javafx.concurrent.Task;\nimport javafx.fxml.FXML;\nimport javafx.scene.control.TableColumn;\nimport javafx.scene.control.TableView;\n\npublic class Controller {\n    \n    @FXML private TableView&lt;Student&gt; studentTable;\n    @FXML private TableColumn&lt;Student, String&gt; idColumn;\n    @FXML private TableColumn&lt;Student, String&gt; nameColumn;\n    @FXML private TableColumn&lt;Student, Student.Year&gt; yearColumn;\n\n    @FXML\n    private void initialize() {\n        idColumn.setCellValueFactory(data -&gt; data.getValue().idProperty());\n        nameColumn.setCellValueFactory(data -&gt; data.getValue().nameProperty());\n        yearColumn.setCellValueFactory(data -&gt; data.getValue().yearProperty());\n\n        Path csvFile = Path.of(&quot;.&quot;, &quot;students.csv&quot;);\n        Thread t = new Thread(new ParseStudentCsvTask(csvFile), &quot;parse-csv-thread&quot;);\n        t.setDaemon(true);\n        t.start();\n    }\n\n    private class ParseStudentCsvTask extends Task&lt;List&lt;Student&gt;&gt; {\n\n        private final Path csvFile;\n\n        ParseStudentCsvTask(Path csvFile) {\n            this.csvFile = csvFile;\n        }\n\n        @Override\n        protected List&lt;Student&gt; call() throws Exception {\n            return new StudentCsvReader().read(csvFile);\n        }\n\n        @Override\n        protected void succeeded() {\n            studentTable.getItems().setAll(getValue());\n        }\n\n        @Override\n        protected void failed() {\n            getException().printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p><sup><strong>Note:</strong> Expects a CSV file named <code>students.csv</code> to exist in the working directory.</sup></p>\n<p>And here's an example CSV file that will work with the above code:</p>\n<pre class=\"lang-none prettyprint-override\"><code>1,Kate Todd,FRESHMAN\n2,Leroy Gibbs,SENIOR\n3,Tony DiNozzo,JUNIOR\n4,Ellie Bishop,FRESHMAN\n5,Nick Torres,FRESHMAN\n6,Ziva David,SOPHOMORE\n\n</code></pre>\n<p>Notice the modifications to the code did nothing to <code>Student</code> or how the <code>TableView</code> is configured. The only difference was how the <code>Student</code> instances were created. Basically, the UI should not know where or how the data is created/found.</p>\n<p>You should also consider using an application architecture such as Model-View-Controller (MVC) or Model-View-ViewModel (MVVM). It encourages separation of concerns, making it easier to reason about and develop code. Check out <a href=\"https://stackoverflow.com/q/32342864/6395627\">Applying MVC With JavaFx</a>.</p>\n"}],"owner":{"account_id":12884963,"reputation":93,"user_id":9318804,"display_name":"Cbrady"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1675036164,"accepted_answer_id":75277852,"answer_count":1,"score":0,"last_activity_date":1675036212,"creation_date":1675015557,"question_id":75277201,"body_markdown":"I am trying to import a CSV file, set it to an ArrayList then populate a table using this data. I have a class setup where a user can open a CSV file then it&#39;s read and the contents are set using the setters which are below. My table is always empty but the studentData always gets printed out like com.example.project.CSV_Objects@4f591691\r\n\r\nBelow is my code:\r\n\r\n    @FXML\r\n    private TableView&lt;CSV_Objects&gt; tableView;\r\n\r\n    @Override\r\n    public void initialize(URL url, ResourceBundle resourceBundle) {\r\n        TableColumn&lt;CSV_Objects, String&gt; studentNumberColumn = new TableColumn&lt;&gt;(&quot;Student Number&quot;);\r\n        studentNumberColumn.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;studentNumber&quot;));\r\n\r\n        TableColumn&lt;CSV_Objects, String&gt; q1Column = new TableColumn&lt;&gt;(&quot;Question 1&quot;);\r\n        q1Column.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;q1&quot;));\r\n\r\n        TableColumn&lt;CSV_Objects, String&gt; q2Column = new TableColumn&lt;&gt;(&quot;Question 2&quot;);\r\n        q2Column.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;q2&quot;));\r\n\r\n        TableColumn&lt;CSV_Objects, String&gt; q3Column = new TableColumn&lt;&gt;(&quot;Question 3&quot;);\r\n        q3Column.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;q3&quot;));\r\n\r\n        TableColumn&lt;CSV_Objects, String&gt; q4Column = new TableColumn&lt;&gt;(&quot;Question 4&quot;);\r\n        q4Column.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;q4&quot;));\r\n\r\n        TableColumn&lt;CSV_Objects, String&gt; q5Column = new TableColumn&lt;&gt;(&quot;Question 5&quot;);\r\n        q5Column.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;q5&quot;));\r\n\r\n        tableView.getColumns().setAll(studentNumberColumn, q1Column, q2Column, q3Column, q4Column, q5Column);\r\n        CSV_Objects csvObject = new CSV_Objects();\r\n        ObservableList&lt;CSV_Objects&gt; studentData = FXCollections.observableArrayList();\r\n        ArrayList&lt;String&gt; students = csvObject.getStudent();\r\n\r\n        System.out.println(csvObject.getStudent());\r\n        for (String student : students) {\r\n            studentData.add(new CSV_Objects(student));\r\n        }\r\n\r\n        tableView.setItems(studentData);\r\n\r\nIn my CSV_Objects class I have the getters and setters setup:\r\n\r\n    private static ArrayList&lt;String&gt; student = new ArrayList&lt;&gt;();\r\n    public void setStudent(ArrayList&lt;String&gt; student) {\r\n        this.student = student;\r\n    }\r\n    public ArrayList&lt;String&gt; getStudent() {\r\n        return student;\r\n    }\r\n\r\nAny advice is greatly appreciated:)","title":"tableView doesn&#39;t populate from an ArrayList","body":"<p>I am trying to import a CSV file, set it to an ArrayList then populate a table using this data. I have a class setup where a user can open a CSV file then it's read and the contents are set using the setters which are below. My table is always empty but the studentData always gets printed out like com.example.project.CSV_Objects@4f591691</p>\n<p>Below is my code:</p>\n<pre><code>@FXML\nprivate TableView&lt;CSV_Objects&gt; tableView;\n\n@Override\npublic void initialize(URL url, ResourceBundle resourceBundle) {\n    TableColumn&lt;CSV_Objects, String&gt; studentNumberColumn = new TableColumn&lt;&gt;(&quot;Student Number&quot;);\n    studentNumberColumn.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;studentNumber&quot;));\n\n    TableColumn&lt;CSV_Objects, String&gt; q1Column = new TableColumn&lt;&gt;(&quot;Question 1&quot;);\n    q1Column.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;q1&quot;));\n\n    TableColumn&lt;CSV_Objects, String&gt; q2Column = new TableColumn&lt;&gt;(&quot;Question 2&quot;);\n    q2Column.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;q2&quot;));\n\n    TableColumn&lt;CSV_Objects, String&gt; q3Column = new TableColumn&lt;&gt;(&quot;Question 3&quot;);\n    q3Column.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;q3&quot;));\n\n    TableColumn&lt;CSV_Objects, String&gt; q4Column = new TableColumn&lt;&gt;(&quot;Question 4&quot;);\n    q4Column.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;q4&quot;));\n\n    TableColumn&lt;CSV_Objects, String&gt; q5Column = new TableColumn&lt;&gt;(&quot;Question 5&quot;);\n    q5Column.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;q5&quot;));\n\n    tableView.getColumns().setAll(studentNumberColumn, q1Column, q2Column, q3Column, q4Column, q5Column);\n    CSV_Objects csvObject = new CSV_Objects();\n    ObservableList&lt;CSV_Objects&gt; studentData = FXCollections.observableArrayList();\n    ArrayList&lt;String&gt; students = csvObject.getStudent();\n\n    System.out.println(csvObject.getStudent());\n    for (String student : students) {\n        studentData.add(new CSV_Objects(student));\n    }\n\n    tableView.setItems(studentData);\n</code></pre>\n<p>In my CSV_Objects class I have the getters and setters setup:</p>\n<pre><code>private static ArrayList&lt;String&gt; student = new ArrayList&lt;&gt;();\npublic void setStudent(ArrayList&lt;String&gt; student) {\n    this.student = student;\n}\npublic ArrayList&lt;String&gt; getStudent() {\n    return student;\n}\n</code></pre>\n<p>Any advice is greatly appreciated:)</p>\n"},{"tags":["java","unit-testing"],"answers":[{"tags":[],"owner":{"account_id":3432870,"reputation":3577,"user_id":2876754,"accept_rate":90,"display_name":"Sneh"},"down_vote_count":0,"up_vote_count":20,"is_accepted":true,"score":20,"last_activity_date":1522249614,"creation_date":1522249614,"answer_id":49538073,"question_id":49537960,"body_markdown":"You are using JUnit 5 but trying to use JUnit 4&#39;s features. Don&#39;t mix them.\r\n\r\n    import org.junit.jupiter.api.Test;\r\nThe `@Test` annotation from JUnit5 don&#39;t support what you are trying to use.\r\n\r\n\r\nTo assert exceptions, you need to do \r\n\r\n    Assertions.assertThrows(IllegalArgumentException.class, () -&gt; m.div(5, 0));\r\n\r\nDo not forget to import the package `org.junit.jupiter.api.Assertions`\r\n\r\nMore on [JUnit 5][1]\r\n\r\n\r\n  [1]: https://junit.org/junit5/","title":"the attribute expected is undefined for the annotation @Test","body":"<p>You are using JUnit 5 but trying to use JUnit 4's features. Don't mix them.</p>\n\n<pre><code>import org.junit.jupiter.api.Test;\n</code></pre>\n\n<p>The <code>@Test</code> annotation from JUnit5 don't support what you are trying to use.</p>\n\n<p>To assert exceptions, you need to do </p>\n\n<pre><code>Assertions.assertThrows(IllegalArgumentException.class, () -&gt; m.div(5, 0));\n</code></pre>\n\n<p>Do not forget to import the package <code>org.junit.jupiter.api.Assertions</code></p>\n\n<p>More on <a href=\"https://junit.org/junit5/\" rel=\"noreferrer\">JUnit 5</a></p>\n"},{"tags":[],"owner":{"account_id":7676163,"reputation":1279,"user_id":5816974,"accept_rate":25,"display_name":"Amar Prakash Pandey"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1535916368,"creation_date":1535916368,"answer_id":52140342,"question_id":49537960,"body_markdown":"You are using a JUnit 4 feature in which what you are doing is correct.\r\n    \r\n    @Test (expected = IllegalArgumentException.class)\r\n    public void testDivException(){\r\n        m.div(5, 0);\r\n    }\r\n\r\nBut since after seeing your import, I can tell that you are using JUnit 5 for testing, I would like to tell you that the above method will not work. Since JUnit has its own **Assertions** class to handle the same. I will show you how.\r\n\r\n    @Test\r\n    public void testDivException() {\r\n        \r\n        Assertions.assertThrows(IllegalArgumentException.class, new Executable() {\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void execute() throws Throwable {\r\n\r\n\t\t\t\tm.div(5, 0);\r\n\r\n\t\t\t}\r\n\t\t});\r\n    }\r\n\r\nThe above implementation will work with Java 7 and above. Now if you want to do the same thing using Lambda Expression in Java 8, do this:\r\n\r\n    @Test\r\n    public void testDivException(){\r\n        Assertions.assertThrows(IllegalArgumentException.class, () -&gt; m.div(5, 0));\r\n    }\r\n\r\nYou can read more about Assertion class and JUnit5 [here][1].\r\n\r\n\r\n  [1]: https://junit.org/junit5/","title":"the attribute expected is undefined for the annotation @Test","body":"<p>You are using a JUnit 4 feature in which what you are doing is correct.</p>\n\n<pre><code>@Test (expected = IllegalArgumentException.class)\npublic void testDivException(){\n    m.div(5, 0);\n}\n</code></pre>\n\n<p>But since after seeing your import, I can tell that you are using JUnit 5 for testing, I would like to tell you that the above method will not work. Since JUnit has its own <strong>Assertions</strong> class to handle the same. I will show you how.</p>\n\n<pre><code>@Test\npublic void testDivException() {\n\n    Assertions.assertThrows(IllegalArgumentException.class, new Executable() {\n\n        @Override\n        public void execute() throws Throwable {\n\n            m.div(5, 0);\n\n        }\n    });\n}\n</code></pre>\n\n<p>The above implementation will work with Java 7 and above. Now if you want to do the same thing using Lambda Expression in Java 8, do this:</p>\n\n<pre><code>@Test\npublic void testDivException(){\n    Assertions.assertThrows(IllegalArgumentException.class, () -&gt; m.div(5, 0));\n}\n</code></pre>\n\n<p>You can read more about Assertion class and JUnit5 <a href=\"https://junit.org/junit5/\" rel=\"noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":5308057,"reputation":103,"user_id":5277934,"display_name":"camelboy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21076,"favorite_count":0,"down_vote_count":3,"up_vote_count":10,"accepted_answer_id":49538073,"answer_count":2,"score":7,"last_activity_date":1675035888,"creation_date":1522249272,"question_id":49537960,"body_markdown":"Hi I am trying to test a code that has an exception but when I try to test it \r\nit says the attribute expected is undefined for the annotation type test \r\n\r\n    package Lab1;\r\n\r\n    import static org.junit.jupiter.api.Assertions.*;\r\n\r\n    import org.junit.jupiter.api.Test;\r\n\r\n    import junit.framework.Assert;\r\n\r\n    class MyMathTest {\r\n    \tMyMath m = new MyMath();\r\n    \t@Test\r\n    \tvoid testDiv() {\r\n    \t\tint actual = m.div(6, 2);\r\n    \t\tint expected = 3;\r\n    \t\tassertEquals(expected, actual);\r\n    \t}\r\n        /* the error is in the upcoming line*/\r\n    \t@Test (expected = IllegalArgumentException.class)\r\n    \tpublic void testDivException(){\r\n    \t\tm.div(5, 0);\r\n    \t}\r\n\r\n    }\r\n\r\n\r\nAnd here is the error message\r\n\r\n&gt; the attribute expected is undefined for the annotation type test\r\n","title":"the attribute expected is undefined for the annotation @Test","body":"<p>Hi I am trying to test a code that has an exception but when I try to test it \nit says the attribute expected is undefined for the annotation type test </p>\n\n<pre><code>package Lab1;\n\nimport static org.junit.jupiter.api.Assertions.*;\n\nimport org.junit.jupiter.api.Test;\n\nimport junit.framework.Assert;\n\nclass MyMathTest {\n    MyMath m = new MyMath();\n    @Test\n    void testDiv() {\n        int actual = m.div(6, 2);\n        int expected = 3;\n        assertEquals(expected, actual);\n    }\n    /* the error is in the upcoming line*/\n    @Test (expected = IllegalArgumentException.class)\n    public void testDivException(){\n        m.div(5, 0);\n    }\n\n}\n</code></pre>\n\n<p>And here is the error message</p>\n\n<blockquote>\n  <p>the attribute expected is undefined for the annotation type test</p>\n</blockquote>\n"},{"tags":["java","android","android-studio","androidx"],"comments":[{"owner":{"account_id":10932052,"reputation":12327,"user_id":8034839,"display_name":"shizhen"},"score":1,"creation_date":1540358690,"post_id":52960525,"comment_id":92829831,"body_markdown":"why do you have `apply plugin: &#39;com.android.application&#39;` inside `allprojects {}`?","body":"why do you have <code>apply plugin: &#39;com.android.application&#39;</code> inside <code>allprojects {}</code>?"},{"owner":{"account_id":7363309,"reputation":260,"user_id":5605881,"display_name":"TheZero"},"score":0,"creation_date":1540362923,"post_id":52960525,"comment_id":92831361,"body_markdown":"I think its point we looking for. after when i comment this line. Rebuild work well","body":"I think its point we looking for. after when i comment this line. Rebuild work well"},{"owner":{"account_id":10932052,"reputation":12327,"user_id":8034839,"display_name":"shizhen"},"score":0,"creation_date":1540363083,"post_id":52960525,"comment_id":92831441,"body_markdown":"Good to hear that you finally get it work.","body":"Good to hear that you finally get it work."},{"owner":{"account_id":7363309,"reputation":260,"user_id":5605881,"display_name":"TheZero"},"score":0,"creation_date":1540363136,"post_id":52960525,"comment_id":92831466,"body_markdown":"Yea. Anw, thanks you so much, when spend too much time help me, lol","body":"Yea. Anw, thanks you so much, when spend too much time help me, lol"}],"answers":[{"tags":[],"owner":{"account_id":10932052,"reputation":12327,"user_id":8034839,"display_name":"shizhen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1540360859,"creation_date":1540352338,"answer_id":52960749,"question_id":52960525,"body_markdown":"1. change `targetSdkVersion` to 28 and change all your `compile` to `implementation`\r\n2. make sure that your top level `build.gradle` has the proper `google()` repo configured. E.g. \r\n\r\n        repositories {\r\n            google() // be the first one. \r\n            jcenter()\r\n        }\r\n\r\nMy related answer is here: https://stackoverflow.com/a/51151050/8034839 \r\n","title":"Gradle sync error after android update (compileSdkVersion is not specified)","body":"<ol>\n<li>change <code>targetSdkVersion</code> to 28 and change all your <code>compile</code> to <code>implementation</code></li>\n<li><p>make sure that your top level <code>build.gradle</code> has the proper <code>google()</code> repo configured. E.g. </p>\n\n<pre><code>repositories {\n    google() // be the first one. \n    jcenter()\n}\n</code></pre></li>\n</ol>\n\n<p>My related answer is here: <a href=\"https://stackoverflow.com/a/51151050/8034839\">https://stackoverflow.com/a/51151050/8034839</a> </p>\n"}],"owner":{"account_id":7363309,"reputation":260,"user_id":5605881,"display_name":"TheZero"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4644,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":52960749,"answer_count":1,"score":3,"last_activity_date":1675035830,"creation_date":1540350433,"question_id":52960525,"body_markdown":"I had a project. Its work so well before updater version 3.2.1. When try sync gradle project, i got some error, but i can fix that. But i had one issue and cant find a way. \r\nHere my build.gradle \r\n\r\n    apply plugin: &#39;com.android.application&#39;\r\n\r\n    android {\r\n    compileSdkVersion 28\r\n\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n\r\n    buildToolsVersion &#39;28.0.3&#39;\r\n    useLibrary &#39;org.apache.http.legacy&#39;\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.xxx.xxx&quot;\r\n        minSdkVersion 15\r\n        targetSdkVersion 28\r\n        multiDexEnabled true\r\n        versionCode 7x\r\n        versionName &quot;1.0.7x&quot;\r\n        testInstrumentationRunner \r\n    &quot;android.support.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    packagingOptions {\r\n        exclude &#39;META-INF/DEPENDENCIES&#39;\r\n        exclude &#39;META-INF/NOTICE&#39;\r\n        exclude &#39;META-INF/LICENSE&#39;\r\n        exclude &#39;META-INF/LICENSE.txt&#39;\r\n        exclude &#39;META-INF/NOTICE.txt&#39;\r\n    }\r\n    configurations.all {\r\n        resolutionStrategy.force &#39;com.google.code.findbugs:jsr305:3.0.1&#39;\r\n        exclude group: &#39;com.squareup.okhttp3&#39;, module: &#39;okhttp&#39;\r\n    }\r\n    lintOptions {\r\n        checkReleaseBuilds false\r\n    }\r\n    }\r\n\r\n    dependencies {\r\n    implementation fileTree(include: [&#39;*.jar&#39;], dir: &#39;libs&#39;)\r\n    androidTestCompile(&#39;com.android.support.test.espresso:espresso-core:2.2.2&#39;, \r\n    {\r\n        exclude group: &#39;com.android.support&#39;, module: &#39;support-annotations&#39;\r\n    })\r\n    implementation files(&#39;libs/json_simple-1.1.jar&#39;)\r\n    implementation(&#39;com.omertron:themoviedbapi:4.2&#39;) {\r\n        exclude group: &#39;org.apache.httpcomponents&#39;, module: &#39;httpclient&#39;\r\n        exclude module: &#39;junit&#39;\r\n    }\r\n    implementation &#39;com.android.support:multidex:1.0.3&#39;\r\n    implementation files(&#39;libs/okhttp-3.8.1.jar&#39;)\r\n    implementation files(&#39;libs/okio-1.13.0.jar&#39;)\r\n    implementation &#39;de.hdodenhof:circleimageview:2.2.0&#39;\r\n    implementation &#39;com.google.android.gms:play-services-places:16.0.0&#39;\r\n    implementation &#39;com.android.support:appcompat-v7:28.0.0&#39;\r\n    //noinspection UseOfBundledGooglePlayServices\r\n    implementation &#39;com.google.android.gms:play-services:12.0.1&#39;\r\n    implementation &#39;com.googlecode.libphonenumber:libphonenumber:7.3.1&#39;\r\n    implementation &#39;com.android.support.constraint:constraint-layout:1.1.3&#39;\r\n    implementation &#39;com.google.android.gms:play-services-maps:16.0.0&#39;\r\n    implementation &#39;com.android.support:design:28.0.0&#39;\r\n    implementation &#39;com.wang.avi:library:2.1.3&#39;\r\n    implementation &#39;com.baoyz.swipemenulistview:library:1.3.0&#39;\r\n    implementation &#39;com.oguzdev:CircularFloatingActionMenu:1.0.2&#39;\r\n    implementation &#39;javax.mail:mail:1.5.0-b01&#39;\r\n    implementation &#39;com.google.firebase:firebase-messaging:17.3.4&#39;\r\n    implementation &#39;org.apache.httpcomponents:httpclient-android:4.3.5.1&#39;\r\n    implementation &#39;com.android.support:support-v4:28.0.0&#39;\r\n    implementation &#39;com.github.orangegangsters:swipy:1.2.3@aar&#39;\r\n    implementation &#39;io.michaelrocks:libphonenumber-android:8.9.0&#39;\r\n    implementation &#39;com.github.joielechong:countrycodepicker:2.1.5&#39;\r\n    testImplementation &#39;junit:junit:4.12&#39;\r\n    implementation files(&#39;libs/xxx.jar&#39;)\r\n    }\r\n\r\n    apply plugin: &#39;com.google.gms.google-services&#39;\r\nAnd :\r\n \r\n\r\n        // Top-level build file where you can add configuration options common to \r\n         all sub-projects/modules.\r\n    \r\n    buildscript {\r\n        repositories {\r\n            jcenter()\r\n            maven { url &quot;https://jitpack.io&quot; }\r\n            google()\r\n        }\r\n        dependencies {\r\n            classpath &#39;com.android.tools.build:gradle:3.2.1&#39;\r\n            classpath &#39;com.google.gms:google-services:4.1.0&#39;\r\n        }\r\n    }\r\n    \r\n    allprojects {\r\n        apply plugin: &#39;com.android.application&#39;\r\n        repositories {\r\n            jcenter()\r\n            maven {\r\n                url &quot;https://maven.google.com&quot;\r\n            }\r\n            maven{\r\n                url &quot;https://jitpack.io&quot;\r\n            }\r\n            google()\r\n        }\r\n    }\r\n    \r\n    //task clean(type: Delete) {\r\n    //    delete rootProject.buildDir\r\n    //}\r\n\r\nAnw, I find this: \r\n[Gradle sync failed: Cause: compileSdkVersion is not specified\r\n][1]\r\n  [1]: https://stackoverflow.com/questions/50530889/gradle-sync-failed-cause-compilesdkversion-is-not-specified\r\nBut, its not help anymore. So, anyone can help me ?\r\n\r\n\r\n\r\n","title":"Gradle sync error after android update (compileSdkVersion is not specified)","body":"<p>I had a project. Its work so well before updater version 3.2.1. When try sync gradle project, i got some error, but i can fix that. But i had one issue and cant find a way. \nHere my build.gradle </p>\n\n<pre><code>apply plugin: 'com.android.application'\n\nandroid {\ncompileSdkVersion 28\n\ncompileOptions {\n    sourceCompatibility JavaVersion.VERSION_1_8\n    targetCompatibility JavaVersion.VERSION_1_8\n}\n\nbuildToolsVersion '28.0.3'\nuseLibrary 'org.apache.http.legacy'\n\ndefaultConfig {\n    applicationId \"com.xxx.xxx\"\n    minSdkVersion 15\n    targetSdkVersion 28\n    multiDexEnabled true\n    versionCode 7x\n    versionName \"1.0.7x\"\n    testInstrumentationRunner \n\"android.support.test.runner.AndroidJUnitRunner\"\n}\nbuildTypes {\n    release {\n        minifyEnabled false\n        proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n    }\n}\npackagingOptions {\n    exclude 'META-INF/DEPENDENCIES'\n    exclude 'META-INF/NOTICE'\n    exclude 'META-INF/LICENSE'\n    exclude 'META-INF/LICENSE.txt'\n    exclude 'META-INF/NOTICE.txt'\n}\nconfigurations.all {\n    resolutionStrategy.force 'com.google.code.findbugs:jsr305:3.0.1'\n    exclude group: 'com.squareup.okhttp3', module: 'okhttp'\n}\nlintOptions {\n    checkReleaseBuilds false\n}\n}\n\ndependencies {\nimplementation fileTree(include: ['*.jar'], dir: 'libs')\nandroidTestCompile('com.android.support.test.espresso:espresso-core:2.2.2', \n{\n    exclude group: 'com.android.support', module: 'support-annotations'\n})\nimplementation files('libs/json_simple-1.1.jar')\nimplementation('com.omertron:themoviedbapi:4.2') {\n    exclude group: 'org.apache.httpcomponents', module: 'httpclient'\n    exclude module: 'junit'\n}\nimplementation 'com.android.support:multidex:1.0.3'\nimplementation files('libs/okhttp-3.8.1.jar')\nimplementation files('libs/okio-1.13.0.jar')\nimplementation 'de.hdodenhof:circleimageview:2.2.0'\nimplementation 'com.google.android.gms:play-services-places:16.0.0'\nimplementation 'com.android.support:appcompat-v7:28.0.0'\n//noinspection UseOfBundledGooglePlayServices\nimplementation 'com.google.android.gms:play-services:12.0.1'\nimplementation 'com.googlecode.libphonenumber:libphonenumber:7.3.1'\nimplementation 'com.android.support.constraint:constraint-layout:1.1.3'\nimplementation 'com.google.android.gms:play-services-maps:16.0.0'\nimplementation 'com.android.support:design:28.0.0'\nimplementation 'com.wang.avi:library:2.1.3'\nimplementation 'com.baoyz.swipemenulistview:library:1.3.0'\nimplementation 'com.oguzdev:CircularFloatingActionMenu:1.0.2'\nimplementation 'javax.mail:mail:1.5.0-b01'\nimplementation 'com.google.firebase:firebase-messaging:17.3.4'\nimplementation 'org.apache.httpcomponents:httpclient-android:4.3.5.1'\nimplementation 'com.android.support:support-v4:28.0.0'\nimplementation 'com.github.orangegangsters:swipy:1.2.3@aar'\nimplementation 'io.michaelrocks:libphonenumber-android:8.9.0'\nimplementation 'com.github.joielechong:countrycodepicker:2.1.5'\ntestImplementation 'junit:junit:4.12'\nimplementation files('libs/xxx.jar')\n}\n\napply plugin: 'com.google.gms.google-services'\n</code></pre>\n\n<p>And :</p>\n\n<pre><code>    // Top-level build file where you can add configuration options common to \n     all sub-projects/modules.\n\nbuildscript {\n    repositories {\n        jcenter()\n        maven { url \"https://jitpack.io\" }\n        google()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:3.2.1'\n        classpath 'com.google.gms:google-services:4.1.0'\n    }\n}\n\nallprojects {\n    apply plugin: 'com.android.application'\n    repositories {\n        jcenter()\n        maven {\n            url \"https://maven.google.com\"\n        }\n        maven{\n            url \"https://jitpack.io\"\n        }\n        google()\n    }\n}\n\n//task clean(type: Delete) {\n//    delete rootProject.buildDir\n//}\n</code></pre>\n\n<p>Anw, I find this: \n<a href=\"https://stackoverflow.com/questions/50530889/gradle-sync-failed-cause-compilesdkversion-is-not-specified\">Gradle sync failed: Cause: compileSdkVersion is not specified\n</a>\nBut, its not help anymore. So, anyone can help me ?</p>\n"},{"tags":["java","authentication","soap"],"owner":{"account_id":5078767,"reputation":959,"user_id":4075494,"accept_rate":50,"display_name":"Seb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675034593,"creation_date":1675034593,"question_id":75279115,"body_markdown":"I&#39;m getting the following error when attempting to send a SOAP message from a Java application. The error is:\r\n\r\n```\r\ncom.sun.xml.wss.XWSSecurityException: Unable to Generate Symmetric Key\r\n      at com.sun.xml.wss.impl.misc.SecurityUtil.generateSymmetricKey(SecurityUtil.java:156)\r\n```\r\n\r\nI&#39;m running java version 1.8.0_291-b10.\r\n\r\nI&#39;ve check connection to the remote server, certificates used, keys used, remote server authentication. I&#39;m able to test this on one server successfully, but when I try to test on a separate server I get the key generation error. This suggests to me that the code itself is fine. It must be an issue with my environment.\r\n\r\nI&#39;d like to know what possible issues can cause this error? ","title":"What causes a SOAP message to fail generating a symmetric key?","body":"<p>I'm getting the following error when attempting to send a SOAP message from a Java application. The error is:</p>\n<pre><code>com.sun.xml.wss.XWSSecurityException: Unable to Generate Symmetric Key\n      at com.sun.xml.wss.impl.misc.SecurityUtil.generateSymmetricKey(SecurityUtil.java:156)\n</code></pre>\n<p>I'm running java version 1.8.0_291-b10.</p>\n<p>I've check connection to the remote server, certificates used, keys used, remote server authentication. I'm able to test this on one server successfully, but when I try to test on a separate server I get the key generation error. This suggests to me that the code itself is fine. It must be an issue with my environment.</p>\n<p>I'd like to know what possible issues can cause this error?</p>\n"},{"tags":["java","windows","export","processing"],"comments":[{"owner":{"account_id":17356971,"reputation":133,"user_id":12574120,"display_name":"Mathematical Lie"},"score":0,"creation_date":1644741454,"post_id":70997895,"comment_id":125682761,"body_markdown":"I have the same thing. I hope that my error just randomly disappears like yours did.","body":"I have the same thing. I hope that my error just randomly disappears like yours did."},{"owner":{"account_id":2522952,"reputation":885,"user_id":2192923,"accept_rate":47,"display_name":"WolfyD"},"score":0,"creation_date":1644827794,"post_id":70997895,"comment_id":125699799,"body_markdown":"The last thing I did before it fixed itself, was that I started to do the export again, and than cancelled the export window. I don&#39;t know how much that helps, but good luck with it @DesmosArtist !","body":"The last thing I did before it fixed itself, was that I started to do the export again, and than cancelled the export window. I don&#39;t know how much that helps, but good luck with it @DesmosArtist !"},{"owner":{"account_id":17356971,"reputation":133,"user_id":12574120,"display_name":"Mathematical Lie"},"score":0,"creation_date":1644881270,"post_id":70997895,"comment_id":125718205,"body_markdown":"Thanks @WolfyD! That wasn&#39;t exactly what got it to work for me, but this is what did. First I did what you said but it didn&#39;t work, then I tried to export for &#39;macOS Apple Silicon&#39; instead of my computer&#39;s &#39;macOS Intel 64-Bit&#39;. This worked but obviously I couldn&#39;t run it. Then I tried to export for &#39;macOS Intel 64-Bit&#39; again and it worked!","body":"Thanks @WolfyD! That wasn&#39;t exactly what got it to work for me, but this is what did. First I did what you said but it didn&#39;t work, then I tried to export for &#39;macOS Apple Silicon&#39; instead of my computer&#39;s &#39;macOS Intel 64-Bit&#39;. This worked but obviously I couldn&#39;t run it. Then I tried to export for &#39;macOS Intel 64-Bit&#39; again and it worked!"},{"owner":{"account_id":2522952,"reputation":885,"user_id":2192923,"accept_rate":47,"display_name":"WolfyD"},"score":1,"creation_date":1644913276,"post_id":70997895,"comment_id":125724198,"body_markdown":"Glad to hear @DesmosArtist Congratulations :)","body":"Glad to hear @DesmosArtist Congratulations :)"}],"answers":[{"tags":[],"owner":{"account_id":2522952,"reputation":885,"user_id":2192923,"accept_rate":47,"display_name":"WolfyD"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644445668,"creation_date":1644445668,"answer_id":71057602,"question_id":70997895,"body_markdown":"After doing nothing differently for like a week, trying multiple times during all this time and getting the same error, I tried one last time tonight and for no apparent reason, it decided to work, since than it has been working consistently. \r\n\r\nI have absolutely no idea what changed, but I guess it&#39;s working now.\r\n\r\n(Though I don&#39;t know what I need to do if it stops working again...)","title":"Export Application in Processing 4 fails with error message","body":"<p>After doing nothing differently for like a week, trying multiple times during all this time and getting the same error, I tried one last time tonight and for no apparent reason, it decided to work, since than it has been working consistently.</p>\n<p>I have absolutely no idea what changed, but I guess it's working now.</p>\n<p>(Though I don't know what I need to do if it stops working again...)</p>\n"},{"tags":[],"owner":{"account_id":19688356,"reputation":11,"user_id":14413874,"display_name":"TimJ0212"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645025899,"creation_date":1645025899,"answer_id":71144812,"question_id":70997895,"body_markdown":"I had the same issue. By removing the embedding of java, and exporting, the message was gone.\r\nThe best part is, after that you can now set the embedding of java to true, and it works as expected.","title":"Export Application in Processing 4 fails with error message","body":"<p>I had the same issue. By removing the embedding of java, and exporting, the message was gone.\nThe best part is, after that you can now set the embedding of java to true, and it works as expected.</p>\n"},{"tags":[],"owner":{"account_id":27652362,"reputation":1,"user_id":21106968,"display_name":"Uhai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675034574,"creation_date":1675034574,"answer_id":75279114,"question_id":70997895,"body_markdown":"For anyone encountering this error trying to export via the command line, specifying an output directory fixed it for me.  The CLI documentation says the output folder argument is optional, but apparently it isn&#39;t.","title":"Export Application in Processing 4 fails with error message","body":"<p>For anyone encountering this error trying to export via the command line, specifying an output directory fixed it for me.  The CLI documentation says the output folder argument is optional, but apparently it isn't.</p>\n"}],"owner":{"account_id":2522952,"reputation":885,"user_id":2192923,"accept_rate":47,"display_name":"WolfyD"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":595,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1675034574,"creation_date":1644063101,"question_id":70997895,"body_markdown":"I&#39;m trying to export the game I&#39;m working on in Processing 4 as a windows executable. \r\nThe code itself is working fine, I can post all of it if necessary, but when I try and export it I get the following error:\r\n\r\n&gt; java.lang.NullPointerException: Cannot invoke &quot;String.split(String)&quot; because the return value of &quot;processing.app.Preferences.get(String)&quot; is null\r\n\r\nI checked all the preferences in the preferences.txt file, most of them have a value, except the proxy related lines and run.options.\r\n\r\nI searched the web but couldn&#39;t find any answer as to what could be causing this.\r\n\r\nI&#39;m running `Processing 4.0b4` in java mode on `Windows 10 Pro 21H2` and trying to export to `Windows (Intel 64-bit)`\r\n\r\nmy java version:\r\n\r\n    openjdk 17.0.2 2022-01-18\r\n    OpenJDK Runtime Environment Temurin-17.0.2+8 (build 17.0.2+8)\r\n    OpenJDK 64-Bit Server VM Temurin-17.0.2+8 (build 17.0.2+8, mixed mode, sharing)\r\n\r\nThe full exception:\r\n\r\n    Exporting application...\r\n\r\n    java.lang.NullPointerException: Cannot invoke &quot;String.split(String)&quot; because the return value of &quot;processing.app.Preferences.get(String)&quot; is null\r\n\tat processing.mode.java.JavaBuild.exportApplication(JavaBuild.java:584)\r\n\tat processing.mode.java.JavaMode.handleExportApplication(JavaMode.java:187)\r\n\tat processing.mode.java.ExportPrompt.trigger(ExportPrompt.java:494)\r\n\tat processing.mode.java.ExportPrompt.trigger(ExportPrompt.java:156)\r\n\tat processing.mode.java.JavaEditor.handleExportApplication(JavaEditor.java:516)\r\n\tat processing.mode.java.JavaEditor.lambda$buildFileMenu$0(JavaEditor.java:239)\r\n\tat java.desktop/javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:1972)\r\n\tat java.desktop/javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2313)\r\n\tat java.desktop/javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:405)\r\n\tat java.desktop/javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:262)\r\n\tat java.desktop/javax.swing.AbstractButton.doClick(AbstractButton.java:374)\r\n\tat java.desktop/javax.swing.AbstractButton.doClick(AbstractButton.java:354)\r\n\tat java.desktop/javax.swing.plaf.basic.BasicMenuItemUI$Actions.actionPerformed(BasicMenuItemUI.java:983)\r\n\tat java.desktop/javax.swing.SwingUtilities.notifyAction(SwingUtilities.java:1810)\r\n\tat java.desktop/javax.swing.JComponent.processKeyBinding(JComponent.java:2947)\r\n\tat java.desktop/javax.swing.JMenuBar.processBindingForKeyStrokeRecursive(JMenuBar.java:710)\r\n\tat java.desktop/javax.swing.JMenuBar.processBindingForKeyStrokeRecursive(JMenuBar.java:717)\r\n\tat java.desktop/javax.swing.JMenuBar.processBindingForKeyStrokeRecursive(JMenuBar.java:717)\r\n\tat java.desktop/javax.swing.JMenuBar.processKeyBinding(JMenuBar.java:688)\r\n\tat java.desktop/javax.swing.KeyboardManager.fireBinding(KeyboardManager.java:311)\r\n\tat java.desktop/javax.swing.KeyboardManager.fireKeyboardAction(KeyboardManager.java:297)\r\n\tat java.desktop/javax.swing.JComponent.processKeyBindingsForAllComponents(JComponent.java:3040)\r\n\tat java.desktop/javax.swing.JComponent.processKeyBindings(JComponent.java:3032)\r\n\tat java.desktop/javax.swing.JComponent.processKeyEvent(JComponent.java:2909)\r\n\tat processing.app.syntax.JEditTextArea.processKeyEvent(JEditTextArea.java:1991)\r\n\tat processing.mode.java.JavaTextArea.processKeyEvent(JavaTextArea.java:140)\r\n\tat java.desktop/java.awt.Component.processEvent(Component.java:6403)\r\n\tat java.desktop/java.awt.Container.processEvent(Container.java:2266)\r\n\tat java.desktop/java.awt.Component.dispatchEventImpl(Component.java:5001)\r\n\tat java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2324)\r\n\tat java.desktop/java.awt.Component.dispatchEvent(Component.java:4833)\r\n\tat java.desktop/java.awt.KeyboardFocusManager.redispatchEvent(KeyboardFocusManager.java:1952)\r\n\tat java.desktop/java.awt.DefaultKeyboardFocusManager.dispatchKeyEvent(DefaultKeyboardFocusManager.java:883)\r\n\tat java.desktop/java.awt.DefaultKeyboardFocusManager.preDispatchKeyEvent(DefaultKeyboardFocusManager.java:1150)\r\n\tat java.desktop/java.awt.DefaultKeyboardFocusManager.typeAheadAssertions(DefaultKeyboardFocusManager.java:1020)\r\n\tat java.desktop/java.awt.DefaultKeyboardFocusManager.dispatchEvent(DefaultKeyboardFocusManager.java:848)\r\n\tat java.desktop/java.awt.Component.dispatchEventImpl(Component.java:4882)\r\n\tat java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2324)\r\n\tat java.desktop/java.awt.Window.dispatchEventImpl(Window.java:2780)\r\n\tat java.desktop/java.awt.Component.dispatchEvent(Component.java:4833)\r\n\tat java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:773)\r\n\tat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:722)\r\n\tat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:716)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\r\n\tat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:97)\r\n\tat java.desktop/java.awt.EventQueue$5.run(EventQueue.java:746)\r\n\tat java.desktop/java.awt.EventQueue$5.run(EventQueue.java:744)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\r\n\tat java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:743)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\r\n\tat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\r\n\tat java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\r\n\r\n","title":"Export Application in Processing 4 fails with error message","body":"<p>I'm trying to export the game I'm working on in Processing 4 as a windows executable.\nThe code itself is working fine, I can post all of it if necessary, but when I try and export it I get the following error:</p>\n<blockquote>\n<p>java.lang.NullPointerException: Cannot invoke &quot;String.split(String)&quot; because the return value of &quot;processing.app.Preferences.get(String)&quot; is null</p>\n</blockquote>\n<p>I checked all the preferences in the preferences.txt file, most of them have a value, except the proxy related lines and run.options.</p>\n<p>I searched the web but couldn't find any answer as to what could be causing this.</p>\n<p>I'm running <code>Processing 4.0b4</code> in java mode on <code>Windows 10 Pro 21H2</code> and trying to export to <code>Windows (Intel 64-bit)</code></p>\n<p>my java version:</p>\n<pre><code>openjdk 17.0.2 2022-01-18\nOpenJDK Runtime Environment Temurin-17.0.2+8 (build 17.0.2+8)\nOpenJDK 64-Bit Server VM Temurin-17.0.2+8 (build 17.0.2+8, mixed mode, sharing)\n</code></pre>\n<p>The full exception:</p>\n<pre><code>Exporting application...\n\njava.lang.NullPointerException: Cannot invoke &quot;String.split(String)&quot; because the return value of &quot;processing.app.Preferences.get(String)&quot; is null\nat processing.mode.java.JavaBuild.exportApplication(JavaBuild.java:584)\nat processing.mode.java.JavaMode.handleExportApplication(JavaMode.java:187)\nat processing.mode.java.ExportPrompt.trigger(ExportPrompt.java:494)\nat processing.mode.java.ExportPrompt.trigger(ExportPrompt.java:156)\nat processing.mode.java.JavaEditor.handleExportApplication(JavaEditor.java:516)\nat processing.mode.java.JavaEditor.lambda$buildFileMenu$0(JavaEditor.java:239)\nat java.desktop/javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:1972)\nat java.desktop/javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2313)\nat java.desktop/javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:405)\nat java.desktop/javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:262)\nat java.desktop/javax.swing.AbstractButton.doClick(AbstractButton.java:374)\nat java.desktop/javax.swing.AbstractButton.doClick(AbstractButton.java:354)\nat java.desktop/javax.swing.plaf.basic.BasicMenuItemUI$Actions.actionPerformed(BasicMenuItemUI.java:983)\nat java.desktop/javax.swing.SwingUtilities.notifyAction(SwingUtilities.java:1810)\nat java.desktop/javax.swing.JComponent.processKeyBinding(JComponent.java:2947)\nat java.desktop/javax.swing.JMenuBar.processBindingForKeyStrokeRecursive(JMenuBar.java:710)\nat java.desktop/javax.swing.JMenuBar.processBindingForKeyStrokeRecursive(JMenuBar.java:717)\nat java.desktop/javax.swing.JMenuBar.processBindingForKeyStrokeRecursive(JMenuBar.java:717)\nat java.desktop/javax.swing.JMenuBar.processKeyBinding(JMenuBar.java:688)\nat java.desktop/javax.swing.KeyboardManager.fireBinding(KeyboardManager.java:311)\nat java.desktop/javax.swing.KeyboardManager.fireKeyboardAction(KeyboardManager.java:297)\nat java.desktop/javax.swing.JComponent.processKeyBindingsForAllComponents(JComponent.java:3040)\nat java.desktop/javax.swing.JComponent.processKeyBindings(JComponent.java:3032)\nat java.desktop/javax.swing.JComponent.processKeyEvent(JComponent.java:2909)\nat processing.app.syntax.JEditTextArea.processKeyEvent(JEditTextArea.java:1991)\nat processing.mode.java.JavaTextArea.processKeyEvent(JavaTextArea.java:140)\nat java.desktop/java.awt.Component.processEvent(Component.java:6403)\nat java.desktop/java.awt.Container.processEvent(Container.java:2266)\nat java.desktop/java.awt.Component.dispatchEventImpl(Component.java:5001)\nat java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2324)\nat java.desktop/java.awt.Component.dispatchEvent(Component.java:4833)\nat java.desktop/java.awt.KeyboardFocusManager.redispatchEvent(KeyboardFocusManager.java:1952)\nat java.desktop/java.awt.DefaultKeyboardFocusManager.dispatchKeyEvent(DefaultKeyboardFocusManager.java:883)\nat java.desktop/java.awt.DefaultKeyboardFocusManager.preDispatchKeyEvent(DefaultKeyboardFocusManager.java:1150)\nat java.desktop/java.awt.DefaultKeyboardFocusManager.typeAheadAssertions(DefaultKeyboardFocusManager.java:1020)\nat java.desktop/java.awt.DefaultKeyboardFocusManager.dispatchEvent(DefaultKeyboardFocusManager.java:848)\nat java.desktop/java.awt.Component.dispatchEventImpl(Component.java:4882)\nat java.desktop/java.awt.Container.dispatchEventImpl(Container.java:2324)\nat java.desktop/java.awt.Window.dispatchEventImpl(Window.java:2780)\nat java.desktop/java.awt.Component.dispatchEvent(Component.java:4833)\nat java.desktop/java.awt.EventQueue.dispatchEventImpl(EventQueue.java:773)\nat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:722)\nat java.desktop/java.awt.EventQueue$4.run(EventQueue.java:716)\nat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\nat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\nat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:97)\nat java.desktop/java.awt.EventQueue$5.run(EventQueue.java:746)\nat java.desktop/java.awt.EventQueue$5.run(EventQueue.java:744)\nat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\nat java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:86)\nat java.desktop/java.awt.EventQueue.dispatchEvent(EventQueue.java:743)\nat java.desktop/java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:203)\nat java.desktop/java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:124)\nat java.desktop/java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:113)\nat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:109)\nat java.desktop/java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:101)\nat java.desktop/java.awt.EventDispatchThread.run(EventDispatchThread.java:90)\n</code></pre>\n"},{"tags":["java","android"],"owner":{"account_id":5920715,"reputation":11,"user_id":4658181,"display_name":"dohanin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675034534,"creation_date":1675034534,"question_id":75279113,"body_markdown":"referring to the post https://stackoverflow.com/questions/55961409/any-way-to-go-directly-to-the-enable-usb-debugging-page-in-android, I understand it is possible to simulate long tap on some quick setting tiles in Android.  My question is, is there any way to simulate a short tap on the tiles?  The one I am particular interested in is the work profile tile, which when clicking will enable/disable the work profile.  Thanks.","title":"Any way to toggle Android quick setting tile programmatically","body":"<p>referring to the post <a href=\"https://stackoverflow.com/questions/55961409/any-way-to-go-directly-to-the-enable-usb-debugging-page-in-android\">Any way to go directly to the &quot;Enable Usb Debugging&quot; page in Android?</a>, I understand it is possible to simulate long tap on some quick setting tiles in Android.  My question is, is there any way to simulate a short tap on the tiles?  The one I am particular interested in is the work profile tile, which when clicking will enable/disable the work profile.  Thanks.</p>\n"},{"tags":["java","cryptography","rsa"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1490951321,"post_id":43136036,"comment_id":73350585,"body_markdown":"Before there can be an implementation it has to be possible on mathematical level. AFAIR you can compute a regular RSA key from a RSA-crt key, but not the other way round. But you should make sure and ask on http://crypto.stackexchange.com if it is possible to generate an RSA Chinese Remainder Theorem key from a regular one.","body":"Before there can be an implementation it has to be possible on mathematical level. AFAIR you can compute a regular RSA key from a RSA-crt key, but not the other way round. But you should make sure and ask on <a href=\"http://crypto.stackexchange.com\">crypto.stackexchange.com</a> if it is possible to generate an RSA Chinese Remainder Theorem key from a regular one."},{"owner":{"account_id":5588131,"reputation":3409,"user_id":4428150,"accept_rate":40,"display_name":"Gustave"},"score":0,"creation_date":1491150174,"post_id":43136036,"comment_id":73415025,"body_markdown":"My question is possibly a duplicate of https://stackoverflow.com/questions/2921406/. Related questions in crypto.stackexchange.com: https://crypto.stackexchange.com/questions/25907 and https://crypto.stackexchange.com/questions/16036","body":"My question is possibly a duplicate of <a href=\"https://stackoverflow.com/questions/2921406/\">stackoverflow.com/questions/2921406</a>. Related questions in crypto.stackexchange.com: <a href=\"https://crypto.stackexchange.com/questions/25907\">crypto.stackexchange.com/questions/25907</a> and <a href=\"https://crypto.stackexchange.com/questions/16036\">crypto.stackexchange.com/questions/16036</a>"}],"answers":[{"tags":[],"owner":{"account_id":85671,"reputation":40847,"user_id":238704,"display_name":"President James K. Polk"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1675034510,"creation_date":1490984164,"answer_id":43147199,"question_id":43136036,"body_markdown":"It is possible to do this, and there is a relatively fast algorithm to find the parameters. Here is some Java code that illustrates the algorithm.\r\n\r\nThe code below is my implementation of the algorithm specified in [Chapter 8 of the Handbook of Applied Cryptography][1], by A. Menezes, P. van Oorschot, and S. Vanstone, CRC Press, 1996, section 8.2.2(i):\r\n\r\n&gt; [![enter image description here][2]][2]\r\n\r\n    /**\r\n     * Find a factor of n by following the algorithm outlined in Handbook of Applied Cryptography, section\r\n     * 8.2.2(i). See https://cacr.uwaterloo.ca/hac/about/chap8.pdf.\r\n     *\r\n     */\r\n    \r\n    private static BigInteger findFactor(BigInteger e, BigInteger d, BigInteger n) {\r\n        BigInteger edMinus1 = e.multiply(d).subtract(BigInteger.ONE);\r\n        int s = edMinus1.getLowestSetBit();\r\n        BigInteger t = edMinus1.shiftRight(s);\r\n\r\n        for (int aInt = 2; true; aInt++) {\r\n            BigInteger aPow = BigInteger.valueOf(aInt).modPow(t, n);\r\n            for (int i = 1; i &lt;= s; i++) {\r\n                if (aPow.equals(BigInteger.ONE)) {\r\n                    break;\r\n                }\r\n                if (aPow.equals(n.subtract(BigInteger.ONE))) {\r\n                    break;\r\n                }\r\n                BigInteger aPowSquared = aPow.multiply(aPow).mod(n);\r\n                if (aPowSquared.equals(BigInteger.ONE)) {\r\n                    return aPow.subtract(BigInteger.ONE).gcd(n);\r\n                }\r\n                aPow = aPowSquared;\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    public static RSAPrivateCrtKey createCrtKey(RSAPublicKey rsaPub, RSAPrivateKey rsaPriv) throws NoSuchAlgorithmException, InvalidKeySpecException {\r\n\r\n        BigInteger e = rsaPub.getPublicExponent();\r\n        BigInteger d = rsaPriv.getPrivateExponent();\r\n        BigInteger n = rsaPub.getModulus();\r\n        BigInteger p = findFactor(e, d, n);\r\n        BigInteger q = n.divide(p);\r\n        if (p.compareTo(q) &gt; 0) {\r\n            BigInteger t = p;\r\n            p = q;\r\n            q = t;\r\n        }\r\n        BigInteger exp1 = d.mod(p.subtract(BigInteger.ONE));\r\n        BigInteger exp2 = d.mod(q.subtract(BigInteger.ONE));\r\n        BigInteger coeff = q.modInverse(p);\r\n        RSAPrivateCrtKeySpec keySpec = new RSAPrivateCrtKeySpec(n, e, d, p, q, exp1, exp2, coeff);\r\n        KeyFactory kf = KeyFactory.getInstance(&quot;RSA&quot;);\r\n        return (RSAPrivateCrtKey) kf.generatePrivate(keySpec);\r\n\r\n    }\r\n\r\n\r\n  [1]: https://cacr.uwaterloo.ca/hac/about/chap8.pdf\r\n  [2]: https://i.stack.imgur.com/8SXO2.png","title":"How to get a RSAPrivateCrtKey from a RSAPrivateKey?","body":"<p>It is possible to do this, and there is a relatively fast algorithm to find the parameters. Here is some Java code that illustrates the algorithm.</p>\n<p>The code below is my implementation of the algorithm specified in <a href=\"https://cacr.uwaterloo.ca/hac/about/chap8.pdf\" rel=\"nofollow noreferrer\">Chapter 8 of the Handbook of Applied Cryptography</a>, by A. Menezes, P. van Oorschot, and S. Vanstone, CRC Press, 1996, section 8.2.2(i):</p>\n<blockquote>\n<p><a href=\"https://i.stack.imgur.com/8SXO2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8SXO2.png\" alt=\"enter image description here\" /></a></p>\n</blockquote>\n<pre><code>/**\n * Find a factor of n by following the algorithm outlined in Handbook of Applied Cryptography, section\n * 8.2.2(i). See https://cacr.uwaterloo.ca/hac/about/chap8.pdf.\n *\n */\n\nprivate static BigInteger findFactor(BigInteger e, BigInteger d, BigInteger n) {\n    BigInteger edMinus1 = e.multiply(d).subtract(BigInteger.ONE);\n    int s = edMinus1.getLowestSetBit();\n    BigInteger t = edMinus1.shiftRight(s);\n\n    for (int aInt = 2; true; aInt++) {\n        BigInteger aPow = BigInteger.valueOf(aInt).modPow(t, n);\n        for (int i = 1; i &lt;= s; i++) {\n            if (aPow.equals(BigInteger.ONE)) {\n                break;\n            }\n            if (aPow.equals(n.subtract(BigInteger.ONE))) {\n                break;\n            }\n            BigInteger aPowSquared = aPow.multiply(aPow).mod(n);\n            if (aPowSquared.equals(BigInteger.ONE)) {\n                return aPow.subtract(BigInteger.ONE).gcd(n);\n            }\n            aPow = aPowSquared;\n        }\n    }\n\n}\n\npublic static RSAPrivateCrtKey createCrtKey(RSAPublicKey rsaPub, RSAPrivateKey rsaPriv) throws NoSuchAlgorithmException, InvalidKeySpecException {\n\n    BigInteger e = rsaPub.getPublicExponent();\n    BigInteger d = rsaPriv.getPrivateExponent();\n    BigInteger n = rsaPub.getModulus();\n    BigInteger p = findFactor(e, d, n);\n    BigInteger q = n.divide(p);\n    if (p.compareTo(q) &gt; 0) {\n        BigInteger t = p;\n        p = q;\n        q = t;\n    }\n    BigInteger exp1 = d.mod(p.subtract(BigInteger.ONE));\n    BigInteger exp2 = d.mod(q.subtract(BigInteger.ONE));\n    BigInteger coeff = q.modInverse(p);\n    RSAPrivateCrtKeySpec keySpec = new RSAPrivateCrtKeySpec(n, e, d, p, q, exp1, exp2, coeff);\n    KeyFactory kf = KeyFactory.getInstance(&quot;RSA&quot;);\n    return (RSAPrivateCrtKey) kf.generatePrivate(keySpec);\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7680639,"reputation":21,"user_id":5819969,"display_name":"Anders Rundgren"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1555429767,"creation_date":1555429767,"answer_id":55712115,"question_id":43136036,"body_markdown":"It didn&#39;t work until I switched to &quot;&lt; 0&quot;.\r\n\r\nI verified this by creating key pairs using KeyPairGenerator.generateKeyPair() and then comparing .getEncoded() for the private key &quot;as is&quot; with KeyFactory.generatePrivate().getEncoded() using the keyspec and got the same result. ","title":"How to get a RSAPrivateCrtKey from a RSAPrivateKey?","body":"<p>It didn't work until I switched to \"&lt; 0\".</p>\n\n<p>I verified this by creating key pairs using KeyPairGenerator.generateKeyPair() and then comparing .getEncoded() for the private key \"as is\" with KeyFactory.generatePrivate().getEncoded() using the keyspec and got the same result. </p>\n"}],"owner":{"account_id":5588131,"reputation":3409,"user_id":4428150,"accept_rate":40,"display_name":"Gustave"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2831,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1675034510,"creation_date":1490948992,"question_id":43136036,"body_markdown":"I have a java.security.interfaces.RSAPrivateKey and the corresponding java.security.interfaces.RSAPublicKey containing (only) modulus, private exponent and public exponent.\r\n\r\nIf I understand RSA right, it should be possible to recover the numbers for java.security.interfaces.RSAPrivateCrtKey (for CRT keys).\r\n\r\nIf so, how do I do it? (I assume there is some implementation already).","title":"How to get a RSAPrivateCrtKey from a RSAPrivateKey?","body":"<p>I have a java.security.interfaces.RSAPrivateKey and the corresponding java.security.interfaces.RSAPublicKey containing (only) modulus, private exponent and public exponent.</p>\n\n<p>If I understand RSA right, it should be possible to recover the numbers for java.security.interfaces.RSAPrivateCrtKey (for CRT keys).</p>\n\n<p>If so, how do I do it? (I assume there is some implementation already).</p>\n"},{"tags":["java","random"],"comments":[{"owner":{"account_id":293472,"reputation":467154,"user_id":596781,"accept_rate":80,"display_name":"Kerrek SB"},"score":5,"creation_date":1321227884,"post_id":8115722,"comment_id":9954327,"body_markdown":"You could create a *random permutation* of the range `1..100` (there are famous algorithms for that), but stop after you determined the first `n` elements.","body":"You could create a <i>random permutation</i> of the range <code>1..100</code> (there are famous algorithms for that), but stop after you determined the first <code>n</code> elements."},{"owner":{"display_name":"user289086"},"score":0,"creation_date":1389542120,"post_id":8115722,"comment_id":31698674,"body_markdown":"possible duplicate of [Generating random numbers in a range with Java](http://stackoverflow.com/questions/363681/generating-random-numbers-in-a-range-with-java)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/363681/generating-random-numbers-in-a-range-with-java\">Generating random numbers in a range with Java</a>"},{"owner":{"account_id":4021056,"reputation":8130,"user_id":3591273,"display_name":"Nikos M."},"score":0,"creation_date":1426127927,"post_id":8115722,"comment_id":46249707,"body_markdown":"related http://stackoverflow.com/questions/28990820/iterator-to-produce-unique-random-order","body":"related <a href=\"http://stackoverflow.com/questions/28990820/iterator-to-produce-unique-random-order\" title=\"iterator to produce unique random order\">stackoverflow.com/questions/28990820/&hellip;</a>"},{"owner":{"account_id":4838304,"reputation":1540,"user_id":3904168,"accept_rate":43,"display_name":"Erfan Ahmed"},"score":0,"creation_date":1523568312,"post_id":8115722,"comment_id":86626984,"body_markdown":"This could be useful [Unique random Id generator](https://github.com/ErfanAhmed/unique-random-id-generator)","body":"This could be useful <a href=\"https://github.com/ErfanAhmed/unique-random-id-generator\" rel=\"nofollow noreferrer\">Unique random Id generator</a>"}],"answers":[{"tags":[],"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"down_vote_count":1,"up_vote_count":169,"is_accepted":true,"score":168,"last_activity_date":1652595173,"creation_date":1321227890,"answer_id":8115744,"question_id":8115722,"body_markdown":"- Add each number in the range sequentially in a [list](https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/util/List.html) structure.\r\n- [Shuffle](https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/util/Collections.html#shuffle(java.util.List)) it.\r\n- Take the first &#39;n&#39;.\r\n\r\nHere is a simple implementation.  This will print 3 unique random numbers from the range 1-10.\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Collections;\r\n    \r\n    public class UniqueRandomNumbers {\r\n        \r\n        public static void main(String[] args) {\r\n            ArrayList&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;();\r\n            for (int i=1; i&lt;11; i++) list.add(i);\r\n            Collections.shuffle(list);\r\n            for (int i=0; i&lt;3; i++) System.out.println(list.get(i));\r\n        }\r\n    }\r\n\r\n\r\n---\r\nThe first part of the fix with the original approach, as Mark Byers pointed out in an answer now deleted, is to use only a single `Random` instance.  \r\n\r\nThat is what is causing the numbers to be identical.  A `Random` instance is seeded by the current time in milliseconds.  For a particular **seed value,** the &#39;random&#39; instance will return the exact same **sequence of *pseudo random* numbers.**","title":"Generating Unique Random Numbers in Java","body":"<ul>\n<li>Add each number in the range sequentially in a <a href=\"https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/util/List.html\" rel=\"noreferrer\">list</a> structure.</li>\n<li><a href=\"https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/util/Collections.html#shuffle(java.util.List)\" rel=\"noreferrer\">Shuffle</a> it.</li>\n<li>Take the first 'n'.</li>\n</ul>\n<p>Here is a simple implementation.  This will print 3 unique random numbers from the range 1-10.</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.Collections;\n\npublic class UniqueRandomNumbers {\n    \n    public static void main(String[] args) {\n        ArrayList&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;();\n        for (int i=1; i&lt;11; i++) list.add(i);\n        Collections.shuffle(list);\n        for (int i=0; i&lt;3; i++) System.out.println(list.get(i));\n    }\n}\n</code></pre>\n<hr />\n<p>The first part of the fix with the original approach, as Mark Byers pointed out in an answer now deleted, is to use only a single <code>Random</code> instance.</p>\n<p>That is what is causing the numbers to be identical.  A <code>Random</code> instance is seeded by the current time in milliseconds.  For a particular <strong>seed value,</strong> the 'random' instance will return the exact same <strong>sequence of <em>pseudo random</em> numbers.</strong></p>\n"},{"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"down_vote_count":2,"up_vote_count":17,"is_accepted":false,"score":15,"last_activity_date":1675034181,"creation_date":1321227914,"answer_id":8115750,"question_id":8115722,"body_markdown":"Use `Collections.shuffle()` on all 100 numbers and select the first five, as shown [here][1] and below.\r\n\r\nConsole:\r\n\r\n    59 9 68 24 82\r\n\r\nCode:\r\n\r\n    private static final Random rnd = new Random();\r\n    private static final int N = 100;\r\n    private static final int K = 5;\r\n    private static final List&lt;Integer&gt; S = new ArrayList&lt;&gt;(N);\r\n\r\n    public static void main(String[] args) {\r\n        for (int i = 0; i &lt; N; i++) {\r\n            S.add(i + 1);\r\n        }\r\n        Collections.shuffle(S, rnd);\r\n        for (int i = 0; i &lt; K; i++) {\r\n            System.out.print(S.get(i) + &quot; &quot;);\r\n        }\r\n        System.out.println();\r\n    }\r\n\r\n  [1]: https://stackoverflow.com/questions/2523492/choosing-random-numbers-efficiently/2524394#2524394","title":"Generating Unique Random Numbers in Java","body":"<p>Use <code>Collections.shuffle()</code> on all 100 numbers and select the first five, as shown <a href=\"https://stackoverflow.com/questions/2523492/choosing-random-numbers-efficiently/2524394#2524394\">here</a> and below.</p>\n<p>Console:</p>\n<pre><code>59 9 68 24 82\n</code></pre>\n<p>Code:</p>\n<pre><code>private static final Random rnd = new Random();\nprivate static final int N = 100;\nprivate static final int K = 5;\nprivate static final List&lt;Integer&gt; S = new ArrayList&lt;&gt;(N);\n\npublic static void main(String[] args) {\n    for (int i = 0; i &lt; N; i++) {\n        S.add(i + 1);\n    }\n    Collections.shuffle(S, rnd);\n    for (int i = 0; i &lt; K; i++) {\n        System.out.print(S.get(i) + &quot; &quot;);\n    }\n    System.out.println();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"down_vote_count":1,"up_vote_count":18,"is_accepted":false,"score":17,"last_activity_date":1321228167,"creation_date":1321228167,"answer_id":8115779,"question_id":8115722,"body_markdown":" 1. Create an array of 100 numbers, then randomize their order.\r\n 2. Devise a pseudo-random number generator that has a range of 100.\r\n 3. Create a boolean array of 100 elements, then set an element true when you pick that number.  When you pick the next number check against the array and try again if the array element is set.  (You can make an easy-to-clear boolean array with an array of `long` where you shift and mask to access individual bits.)","title":"Generating Unique Random Numbers in Java","body":"<ol>\n<li>Create an array of 100 numbers, then randomize their order.</li>\n<li>Devise a pseudo-random number generator that has a range of 100.</li>\n<li>Create a boolean array of 100 elements, then set an element true when you pick that number.  When you pick the next number check against the array and try again if the array element is set.  (You can make an easy-to-clear boolean array with an array of <code>long</code> where you shift and mask to access individual bits.)</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1626971,"reputation":57,"user_id":1502316,"display_name":"Anand"},"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1341455661,"creation_date":1341428571,"answer_id":11334273,"question_id":8115722,"body_markdown":"This will work to generate unique random numbers................\r\n\r\n\r\n    import java.util.HashSet;\r\n    import java.util.Random;\r\n    \r\n    public class RandomExample {\r\n    \r\n        public static void main(String[] args) {\r\n            Random rand = new Random();\r\n            int e;\r\n            int i;\r\n            int g = 10;\r\n            HashSet&lt;Integer&gt; randomNumbers = new HashSet&lt;Integer&gt;();\r\n    \r\n            for (i = 0; i &lt; g; i++) {\r\n                e = rand.nextInt(20);\r\n                randomNumbers.add(e);\r\n                if (randomNumbers.size() &lt;= 10) {\r\n                    if (randomNumbers.size() == 10) {\r\n                        g = 10;\r\n                    }\r\n                    g++;\r\n                    randomNumbers.add(e);\r\n                }\r\n            }\r\n            System.out.println(&quot;Ten Unique random numbers from 1 to 20 are  : &quot; + randomNumbers);\r\n        }\r\n    }","title":"Generating Unique Random Numbers in Java","body":"<p>This will work to generate unique random numbers................</p>\n\n<pre><code>import java.util.HashSet;\nimport java.util.Random;\n\npublic class RandomExample {\n\n    public static void main(String[] args) {\n        Random rand = new Random();\n        int e;\n        int i;\n        int g = 10;\n        HashSet&lt;Integer&gt; randomNumbers = new HashSet&lt;Integer&gt;();\n\n        for (i = 0; i &lt; g; i++) {\n            e = rand.nextInt(20);\n            randomNumbers.add(e);\n            if (randomNumbers.size() &lt;= 10) {\n                if (randomNumbers.size() == 10) {\n                    g = 10;\n                }\n                g++;\n                randomNumbers.add(e);\n            }\n        }\n        System.out.println(\"Ten Unique random numbers from 1 to 20 are  : \" + randomNumbers);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":179322,"reputation":8018,"user_id":411902,"display_name":"Rob Kielty"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1342836173,"creation_date":1341447008,"answer_id":11336538,"question_id":8115722,"body_markdown":"I re-factored Anand&#39;s answer to make use not only of the unique properties of a Set but also use the boolean false returned by the `set.add()` when an add to the set fails.\r\n\r\n    import java.util.HashSet;\r\n    import java.util.Random;\r\n    import java.util.Set;\r\n    \r\n    public class randomUniqueNumberGenerator {\r\n    \r\n        public static final int SET_SIZE_REQUIRED = 10;\r\n        public static final int NUMBER_RANGE = 100;\r\n    \r\n        public static void main(String[] args) {\r\n            Random random = new Random();\r\n    \r\n            Set set = new HashSet&lt;Integer&gt;(SET_SIZE_REQUIRED);\r\n    \r\n            while(set.size()&lt; SET_SIZE_REQUIRED) {\r\n                while (set.add(random.nextInt(NUMBER_RANGE)) != true)\r\n                    ;\r\n            }\r\n            assert set.size() == SET_SIZE_REQUIRED;\r\n            System.out.println(set);\r\n        }\r\n    }","title":"Generating Unique Random Numbers in Java","body":"<p>I re-factored Anand's answer to make use not only of the unique properties of a Set but also use the boolean false returned by the <code>set.add()</code> when an add to the set fails.</p>\n\n<pre><code>import java.util.HashSet;\nimport java.util.Random;\nimport java.util.Set;\n\npublic class randomUniqueNumberGenerator {\n\n    public static final int SET_SIZE_REQUIRED = 10;\n    public static final int NUMBER_RANGE = 100;\n\n    public static void main(String[] args) {\n        Random random = new Random();\n\n        Set set = new HashSet&lt;Integer&gt;(SET_SIZE_REQUIRED);\n\n        while(set.size()&lt; SET_SIZE_REQUIRED) {\n            while (set.add(random.nextInt(NUMBER_RANGE)) != true)\n                ;\n        }\n        assert set.size() == SET_SIZE_REQUIRED;\n        System.out.println(set);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":174366,"reputation":12158,"user_id":403682,"accept_rate":95,"display_name":"Kenny Cason"},"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1465797815,"creation_date":1392976579,"answer_id":21930948,"question_id":8115722,"body_markdown":"I feel like this method is worth mentioning.\r\n\r\n       private static final Random RANDOM = new Random();    \r\n       /**\r\n         * Pick n numbers between 0 (inclusive) and k (inclusive)\r\n         * While there are very deterministic ways to do this,\r\n         * for large k and small n, this could be easier than creating\r\n         * an large array and sorting, i.e. k = 10,000\r\n         */\r\n        public Set&lt;Integer&gt; pickRandom(int n, int k) {\r\n            final Set&lt;Integer&gt; picked = new HashSet&lt;&gt;();\r\n            while (picked.size() &lt; n) {\r\n                picked.add(RANDOM.nextInt(k + 1));\r\n            }\r\n            return picked;\r\n        }","title":"Generating Unique Random Numbers in Java","body":"<p>I feel like this method is worth mentioning.</p>\n\n<pre><code>   private static final Random RANDOM = new Random();    \n   /**\n     * Pick n numbers between 0 (inclusive) and k (inclusive)\n     * While there are very deterministic ways to do this,\n     * for large k and small n, this could be easier than creating\n     * an large array and sorting, i.e. k = 10,000\n     */\n    public Set&lt;Integer&gt; pickRandom(int n, int k) {\n        final Set&lt;Integer&gt; picked = new HashSet&lt;&gt;();\n        while (picked.size() &lt; n) {\n            picked.add(RANDOM.nextInt(k + 1));\n        }\n        return picked;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2994086,"reputation":252,"user_id":2540964,"display_name":"A T - student"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1399175660,"creation_date":1399175660,"answer_id":23452414,"question_id":8115722,"body_markdown":"One clever way to do this is to use exponents of a primitive element in modulus.\r\n\r\nFor example, 2 is a primitive root mod 101, meaning that the powers of 2 mod 101 give you a non-repeating sequence that sees every number from 1 to 100 inclusive:\r\n\r\n    2^0 mod 101 = 1\r\n    2^1 mod 101 = 2\r\n    2^2 mod 101 = 4\r\n    ...\r\n    2^50 mod 101 = 100\r\n    2^51 mod 101 = 99\r\n    2^52 mod 101 = 97\r\n    ...\r\n    2^100 mod 101 = 1\r\n\r\nIn Java code, you would write:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    void randInts() {\r\n\tint num=1;\r\n\tfor (int ii=0; ii&lt;101; ii++) {\r\n\t\tSystem.out.println(num);\r\n\t\tnum= (num*2) % 101;\r\n\t    }\r\n\t}\r\n\r\nFinding a primitive root for a specific modulus can be tricky, but Maple&#39;s &quot;primroot&quot; function will do this for you.","title":"Generating Unique Random Numbers in Java","body":"<p>One clever way to do this is to use exponents of a primitive element in modulus.</p>\n\n<p>For example, 2 is a primitive root mod 101, meaning that the powers of 2 mod 101 give you a non-repeating sequence that sees every number from 1 to 100 inclusive:</p>\n\n<pre><code>2^0 mod 101 = 1\n2^1 mod 101 = 2\n2^2 mod 101 = 4\n...\n2^50 mod 101 = 100\n2^51 mod 101 = 99\n2^52 mod 101 = 97\n...\n2^100 mod 101 = 1\n</code></pre>\n\n<p>In Java code, you would write:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>void randInts() {\nint num=1;\nfor (int ii=0; ii&lt;101; ii++) {\n    System.out.println(num);\n    num= (num*2) % 101;\n    }\n}\n</code></pre>\n\n<p>Finding a primitive root for a specific modulus can be tricky, but Maple's \"primroot\" function will do this for you.</p>\n"},{"tags":[],"owner":{"account_id":6152301,"reputation":387,"user_id":4796388,"display_name":"Artashes  Khachatryan"},"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1431463973,"creation_date":1431460828,"answer_id":30200361,"question_id":8115722,"body_markdown":"Check this \r\n\r\n\tpublic class RandomNumbers {\r\n\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\t// TODO Auto-generated method stub\r\n\t\t\tint n = 5;\r\n\t\t\tint A[] = uniqueRandomArray(n);\r\n\t\t\tfor(int i = 0; i&lt;n; i++){\r\n\t\t\t\tSystem.out.println(A[i]);\r\n\t\t\t}\r\n\t\t}\r\n\t\tpublic static int[] uniqueRandomArray(int n){\r\n\t\t\tint [] A = new int[n];\r\n\t\t\tfor(int i = 0; i&lt; A.length; ){\r\n\t\t\t\tif(i == A.length){\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tint b = (int)(Math.random() *n) + 1;\r\n\t\t\t\tif(f(A,b) == false){\r\n\t\t\t\t\tA[i++] = b;\r\n\t\t\t\t} \r\n\t\t\t}\r\n\t\t\treturn A;\r\n\t\t}\r\n\t\tpublic static boolean f(int[] A, int n){\r\n\t\t\tfor(int i=0; i&lt;A.length; i++){\r\n\t\t\t\tif(A[i] == n){\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}","title":"Generating Unique Random Numbers in Java","body":"<p>Check this </p>\n\n<pre><code>public class RandomNumbers {\n\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n        int n = 5;\n        int A[] = uniqueRandomArray(n);\n        for(int i = 0; i&lt;n; i++){\n            System.out.println(A[i]);\n        }\n    }\n    public static int[] uniqueRandomArray(int n){\n        int [] A = new int[n];\n        for(int i = 0; i&lt; A.length; ){\n            if(i == A.length){\n                break;\n            }\n            int b = (int)(Math.random() *n) + 1;\n            if(f(A,b) == false){\n                A[i++] = b;\n            } \n        }\n        return A;\n    }\n    public static boolean f(int[] A, int n){\n        for(int i=0; i&lt;A.length; i++){\n            if(A[i] == n){\n                return true;\n            }\n        }\n        return false;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3835277,"reputation":15077,"user_id":3179759,"display_name":"Alex - GlassEditor.com"},"down_vote_count":0,"up_vote_count":73,"is_accepted":false,"score":73,"last_activity_date":1438196178,"creation_date":1438009569,"answer_id":31656679,"question_id":8115722,"body_markdown":"With Java 8+ you can use the [`ints`][1] method of `Random` to get an [`IntStream`][2] of random values then [`distinct`][3] and [`limit`][4] to reduce the stream to a number of unique random values.\r\n\r\n    \r\n\tThreadLocalRandom.current().ints(0, 100).distinct().limit(5).forEach(System.out::println);\r\n\r\n`Random` also has methods which create `LongStream`s and `DoubleStream`s if you need those instead.\r\n\r\nIf you want all (or a large amount) of the numbers in a range in a random order it might be more efficient to add all of the numbers to a list, shuffle it, and take the first n because the above example is currently implemented by generating random numbers in the range requested and passing them through a set (similarly to [Rob Kielty&#39;s answer][5]), which may require generating many more than the amount passed to limit because the probability of a generating a new unique number decreases with each one found. Here&#39;s an example of the other way:\r\n\r\n\r\n\tList&lt;Integer&gt; range = IntStream.range(0, 100).boxed()\r\n\t\t\t.collect(Collectors.toCollection(ArrayList::new));\r\n\tCollections.shuffle(range);\r\n\trange.subList(0, 99).forEach(System.out::println);\r\n\r\n[1]:https://docs.oracle.com/javase/8/docs/api/java/util/Random.html#ints-int-int-\r\n[2]:https://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html\r\n[3]:https://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html#distinct--\r\n[4]:https://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html#limit-long-\r\n[5]:https://stackoverflow.com/a/11336538/3179759","title":"Generating Unique Random Numbers in Java","body":"<p>With Java 8+ you can use the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Random.html#ints-int-int-\" rel=\"noreferrer\"><code>ints</code></a> method of <code>Random</code> to get an <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html\" rel=\"noreferrer\"><code>IntStream</code></a> of random values then <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html#distinct--\" rel=\"noreferrer\"><code>distinct</code></a> and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html#limit-long-\" rel=\"noreferrer\"><code>limit</code></a> to reduce the stream to a number of unique random values.</p>\n\n<pre><code>ThreadLocalRandom.current().ints(0, 100).distinct().limit(5).forEach(System.out::println);\n</code></pre>\n\n<p><code>Random</code> also has methods which create <code>LongStream</code>s and <code>DoubleStream</code>s if you need those instead.</p>\n\n<p>If you want all (or a large amount) of the numbers in a range in a random order it might be more efficient to add all of the numbers to a list, shuffle it, and take the first n because the above example is currently implemented by generating random numbers in the range requested and passing them through a set (similarly to <a href=\"https://stackoverflow.com/a/11336538/3179759\">Rob Kielty's answer</a>), which may require generating many more than the amount passed to limit because the probability of a generating a new unique number decreases with each one found. Here's an example of the other way:</p>\n\n<pre><code>List&lt;Integer&gt; range = IntStream.range(0, 100).boxed()\n        .collect(Collectors.toCollection(ArrayList::new));\nCollections.shuffle(range);\nrange.subList(0, 99).forEach(System.out::println);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6882110,"reputation":1,"user_id":5288502,"display_name":"Rohit Anand"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1441115219,"creation_date":1441111259,"answer_id":32331928,"question_id":8115722,"body_markdown":"try this out\r\n\r\n    public class RandomValueGenerator {\r\n        /**\r\n         * \r\n         */\r\n        private volatile List&lt;Double&gt; previousGenValues = new ArrayList&lt;Double&gt;();\r\n\r\n        public void init() {\r\n            previousGenValues.add(Double.valueOf(0));\r\n        }\r\n\r\n        public String getNextValue() {\r\n            Random random = new Random();\r\n            double nextValue=0;\r\n            while(previousGenValues.contains(Double.valueOf(nextValue))) {\r\n                nextValue = random.nextDouble();\r\n            }\r\n            previousGenValues.add(Double.valueOf(nextValue));\r\n            return String.valueOf(nextValue);\r\n        }\r\n    }","title":"Generating Unique Random Numbers in Java","body":"<p>try this out</p>\n\n<pre><code>public class RandomValueGenerator {\n    /**\n     * \n     */\n    private volatile List&lt;Double&gt; previousGenValues = new ArrayList&lt;Double&gt;();\n\n    public void init() {\n        previousGenValues.add(Double.valueOf(0));\n    }\n\n    public String getNextValue() {\n        Random random = new Random();\n        double nextValue=0;\n        while(previousGenValues.contains(Double.valueOf(nextValue))) {\n            nextValue = random.nextDouble();\n        }\n        previousGenValues.add(Double.valueOf(nextValue));\n        return String.valueOf(nextValue);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6453072,"reputation":37996,"user_id":4999394,"accept_rate":98,"display_name":"Ravindra babu"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1442818124,"creation_date":1442818124,"answer_id":32688951,"question_id":8115722,"body_markdown":"I have come here from another question, which has been duplicate of this question (https://stackoverflow.com/questions/32680844/generating-unique-random-number-in-java/32680928?noredirect=1#comment53206390_32680928)\r\n\r\n1. Store  1 to 100 numbers in an Array.\r\n\r\n2. Generate random number between 1 to 100 as position and return array[position-1] to get the value  \r\n\r\n3. Once you use a number in array, mark the value as -1 ( No need to maintain another array to check if this number is already used)\r\n\r\n4. If value in array is -1, get the random number again to fetch new location in array.","title":"Generating Unique Random Numbers in Java","body":"<p>I have come here from another question, which has been duplicate of this question (<a href=\"https://stackoverflow.com/questions/32680844/generating-unique-random-number-in-java/32680928?noredirect=1#comment53206390_32680928\">Generating unique random number in java</a>)</p>\n\n<ol>\n<li><p>Store  1 to 100 numbers in an Array.</p></li>\n<li><p>Generate random number between 1 to 100 as position and return array[position-1] to get the value  </p></li>\n<li><p>Once you use a number in array, mark the value as -1 ( No need to maintain another array to check if this number is already used)</p></li>\n<li><p>If value in array is -1, get the random number again to fetch new location in array.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":5270920,"reputation":1827,"user_id":5695336,"accept_rate":31,"display_name":"Jeffrey Chen"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1553440274,"creation_date":1497252971,"answer_id":44493803,"question_id":8115722,"body_markdown":"Choose n unique random numbers from 0 to m-1.\r\n\r\n    int[] uniqueRand(int n, int m){\r\n        Random rand = new Random();\r\n        int[] r = new int[n];\r\n        int[] result = new int[n];\r\n        for(int i = 0; i &lt; n; i++){\r\n            r[i] = rand.nextInt(m-i);\r\n            result[i] = r[i];\r\n            for(int j = i-1; j &gt;= 0; j--){\r\n                if(result[i] &gt;= r[j])\r\n                    result[i]++;\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\nImagine a list containing numbers from 0 to m-1. To choose the first number, we simply use `rand.nextInt(m)`. Then remove the number from the list. Now there remains m-1 numbers, so we call `rand.nextInt(m-1)`. The number we get represents the position in the list. If it is less than the first number, then it is the second number, since the part of list prior to the first number wasn&#39;t changed by the removal of the first number. If the position is greater than or equal to the first number, the second number is position+1. Do some further derivation, you can get this algorithm.\r\n\r\nExplanation\r\n----------\r\nThis algorithm has O(n^2) complexity. So it is good for generating small amount of unique numbers from a large set. While the shuffle based algorithm need at least O(m) to do the shuffle.\n\nAlso shuffle based algorithm need memory to store every possible outcome to do the shuffle, this algorithm doesnt need.","title":"Generating Unique Random Numbers in Java","body":"<p>Choose n unique random numbers from 0 to m-1.</p>\n\n<pre><code>int[] uniqueRand(int n, int m){\n    Random rand = new Random();\n    int[] r = new int[n];\n    int[] result = new int[n];\n    for(int i = 0; i &lt; n; i++){\n        r[i] = rand.nextInt(m-i);\n        result[i] = r[i];\n        for(int j = i-1; j &gt;= 0; j--){\n            if(result[i] &gt;= r[j])\n                result[i]++;\n        }\n    }\n    return result;\n}\n</code></pre>\n\n<p>Imagine a list containing numbers from 0 to m-1. To choose the first number, we simply use <code>rand.nextInt(m)</code>. Then remove the number from the list. Now there remains m-1 numbers, so we call <code>rand.nextInt(m-1)</code>. The number we get represents the position in the list. If it is less than the first number, then it is the second number, since the part of list prior to the first number wasn't changed by the removal of the first number. If the position is greater than or equal to the first number, the second number is position+1. Do some further derivation, you can get this algorithm.</p>\n\n<h2>Explanation</h2>\n\n<p>This algorithm has O(n^2) complexity. So it is good for generating small amount of unique numbers from a large set. While the shuffle based algorithm need at least O(m) to do the shuffle.</p>\n\n<p>Also shuffle based algorithm need memory to store every possible outcome to do the shuffle, this algorithm doesnt need.</p>\n"},{"tags":[],"owner":{"account_id":219831,"reputation":1136,"user_id":476942,"display_name":"AbuNassar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1519132957,"creation_date":1519132957,"answer_id":48886310,"question_id":8115722,"body_markdown":"This isn&#39;t significantly different from other answers, but I wanted the array of integers in the end:\r\n\r\n    \tInteger[] indices = new Integer[n];\r\n\t\tArrays.setAll(indices, i -&gt; i);\r\n\t\tCollections.shuffle(Arrays.asList(indices));\r\n\t\treturn Arrays.stream(indices).mapToInt(Integer::intValue).toArray();","title":"Generating Unique Random Numbers in Java","body":"<p>This isn't significantly different from other answers, but I wanted the array of integers in the end:</p>\n\n<pre><code>    Integer[] indices = new Integer[n];\n    Arrays.setAll(indices, i -&gt; i);\n    Collections.shuffle(Arrays.asList(indices));\n    return Arrays.stream(indices).mapToInt(Integer::intValue).toArray();\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user4182613"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1520126166,"creation_date":1520124376,"answer_id":49090807,"question_id":8115722,"body_markdown":"Below is a way I used to generate unique number always. Random function generates number and stores it in textfile then next time it checks it in file compares it and generate new unique number hence in this way there is always a new unique number.\r\n    \r\n\r\n    public int GenerateRandomNo()\r\n    {\r\n        int _min = 0000;\r\n        int _max = 9999;\r\n        Random _rdm = new Random();\r\n        return _rdm.Next(_min, _max);\r\n    }\r\n    public int rand_num()\r\n    {\r\n        randnum = GenerateRandomNo();\r\n        string createText = randnum.ToString() + Environment.NewLine;\r\n        string file_path = System.IO.Path.GetDirectoryName(System.Windows.Forms.Application.ExecutablePath) + @&quot;\\Invoices\\numbers.txt&quot;;\r\n        File.AppendAllText(file_path, createText);\r\n        int number = File.ReadLines(file_path).Count(); //count number of lines in file\r\n        System.IO.StreamReader file = new System.IO.StreamReader(file_path);\r\n        do\r\n        {\r\n            randnum = GenerateRandomNo();\r\n        }\r\n        while ((file.ReadLine()) == randnum.ToString());\r\n        file.Close();\r\n        return randnum;\r\n\r\n    }","title":"Generating Unique Random Numbers in Java","body":"<p>Below is a way I used to generate unique number always. Random function generates number and stores it in textfile then next time it checks it in file compares it and generate new unique number hence in this way there is always a new unique number.</p>\n\n<pre><code>public int GenerateRandomNo()\n{\n    int _min = 0000;\n    int _max = 9999;\n    Random _rdm = new Random();\n    return _rdm.Next(_min, _max);\n}\npublic int rand_num()\n{\n    randnum = GenerateRandomNo();\n    string createText = randnum.ToString() + Environment.NewLine;\n    string file_path = System.IO.Path.GetDirectoryName(System.Windows.Forms.Application.ExecutablePath) + @\"\\Invoices\\numbers.txt\";\n    File.AppendAllText(file_path, createText);\n    int number = File.ReadLines(file_path).Count(); //count number of lines in file\n    System.IO.StreamReader file = new System.IO.StreamReader(file_path);\n    do\n    {\n        randnum = GenerateRandomNo();\n    }\n    while ((file.ReadLine()) == randnum.ToString());\n    file.Close();\n    return randnum;\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12317882,"reputation":224,"user_id":8987792,"display_name":"Tom"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1526639827,"creation_date":1520894928,"answer_id":49245601,"question_id":8115722,"body_markdown":"I have made this like that.\r\n\r\n\r\n\t\tRandom random = new Random();\r\n\t\tArrayList&lt;Integer&gt; arrayList = new ArrayList&lt;Integer&gt;();\r\n\t\t\r\n\t\twhile (arrayList.size() &lt; 6) { // how many numbers u need - it will 6\r\n\t\t\tint a = random.nextInt(49)+1; // this will give numbers between 1 and 50.\r\n\r\n\t\t\tif (!arrayList.contains(a)) {\r\n\t\t\t\tarrayList.add(a);\r\n\t\t\t}\r\n\t\t}","title":"Generating Unique Random Numbers in Java","body":"<p>I have made this like that.</p>\n\n<pre><code>    Random random = new Random();\n    ArrayList&lt;Integer&gt; arrayList = new ArrayList&lt;Integer&gt;();\n\n    while (arrayList.size() &lt; 6) { // how many numbers u need - it will 6\n        int a = random.nextInt(49)+1; // this will give numbers between 1 and 50.\n\n        if (!arrayList.contains(a)) {\n            arrayList.add(a);\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12454550,"reputation":76,"user_id":9068196,"display_name":"Sachin Rane"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1531912662,"creation_date":1531912662,"answer_id":51400665,"question_id":8115722,"body_markdown":"you can use boolean array to fill the true if value taken else set navigate through boolean array to get value as per given below \r\n\r\n    package study;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    \r\n    /*\r\n    Created By Sachin  Rane on Jul 18, 2018\r\n    */\r\n    public class UniqueRandomNumber {\r\n    \tstatic Boolean[] boolArray;\r\n    \tpublic static void main(String s[]){\r\n    \t\tList&lt;Integer&gt; integers = new ArrayList&lt;&gt;();\r\n    \t\t\r\n    \t\t\r\n    \t\tfor (int i = 0; i &lt; 10; i++) {\r\n    \t\t\tintegers.add(i);\r\n    \t\t}\r\n    \t\t\r\n    \t\t\r\n    \t\t//get unique random numbers\r\n    \t\tboolArray = new Boolean[integers.size()+1];\r\n    \t\tArrays.fill(boolArray, false);\r\n    \t\tfor (int i = 0; i &lt; 10; i++) {\r\n    \t\t\tSystem.out.print(getUniqueRandomNumber(integers) + &quot; &quot;);\r\n    \t\t\t\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    \r\n    \tprivate static int  getUniqueRandomNumber(List&lt;Integer&gt; integers) {\r\n    \t\tint randNum =(int) (Math.random()*integers.size());\r\n    \t\tif(boolArray[randNum]){\r\n    \t\t\twhile(boolArray[randNum]){\r\n    \t\t\t\trandNum++;\r\n    \t\t\t\tif(randNum&gt;boolArray.length){\r\n    \t\t\t\t\trandNum=0;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\tboolArray[randNum]=true;\r\n    \t\t\treturn randNum;\r\n    \t\t}else {\r\n    \t\t\tboolArray[randNum]=true;\r\n    \t\t\treturn randNum;\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"Generating Unique Random Numbers in Java","body":"<p>you can use boolean array to fill the true if value taken else set navigate through boolean array to get value as per given below </p>\n\n<pre><code>package study;\n\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.List;\n\n/*\nCreated By Sachin  Rane on Jul 18, 2018\n*/\npublic class UniqueRandomNumber {\n    static Boolean[] boolArray;\n    public static void main(String s[]){\n        List&lt;Integer&gt; integers = new ArrayList&lt;&gt;();\n\n\n        for (int i = 0; i &lt; 10; i++) {\n            integers.add(i);\n        }\n\n\n        //get unique random numbers\n        boolArray = new Boolean[integers.size()+1];\n        Arrays.fill(boolArray, false);\n        for (int i = 0; i &lt; 10; i++) {\n            System.out.print(getUniqueRandomNumber(integers) + \" \");\n\n        }\n\n    }\n\n    private static int  getUniqueRandomNumber(List&lt;Integer&gt; integers) {\n        int randNum =(int) (Math.random()*integers.size());\n        if(boolArray[randNum]){\n            while(boolArray[randNum]){\n                randNum++;\n                if(randNum&gt;boolArray.length){\n                    randNum=0;\n                }\n            }\n            boolArray[randNum]=true;\n            return randNum;\n        }else {\n            boolArray[randNum]=true;\n            return randNum;\n        }\n\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14944956,"reputation":21,"user_id":10790507,"display_name":"Devarsh Ranpara"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1544785369,"creation_date":1544785369,"answer_id":53778485,"question_id":8115722,"body_markdown":"I have easy solution for this problem, \r\nWith this we can easily generate n number of unique random numbers,\r\nIts just logic anyone can use it in any language.\r\n\r\n    \r\n    for(int i=0;i&lt;4;i++)\r\n            {\r\n                rn[i]= GenerateRandomNumber();\r\n                for (int j=0;j&lt;i;j++)\r\n                {\r\n                    if (rn[i] == rn[j])\r\n                    {\r\n                        i--;\r\n                    }\r\n                }\r\n            }","title":"Generating Unique Random Numbers in Java","body":"<p>I have easy solution for this problem, \nWith this we can easily generate n number of unique random numbers,\nIts just logic anyone can use it in any language.</p>\n\n<pre><code>for(int i=0;i&lt;4;i++)\n        {\n            rn[i]= GenerateRandomNumber();\n            for (int j=0;j&lt;i;j++)\n            {\n                if (rn[i] == rn[j])\n                {\n                    i--;\n                }\n            }\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16569445,"reputation":222,"user_id":11973019,"display_name":"Nuwan Harshakumara Piyarathna"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1579065734,"creation_date":1579065734,"answer_id":59745535,"question_id":8115722,"body_markdown":"You can use the Collections class.\r\n\r\nA utility class called Collections offers different actions that can be performed on a collection like an ArrayList (e.g., search the elements, find the maximum or minimum element, reverse the order of elements, and so on). One of the actions it can perform is to shuffle the elements. The shuffle will randomly move each element to a different position in the list. It does this by using a Random object. This means it&#39;s deterministic randomness, but it will do in most situations.\r\n\r\n\r\nTo shuffle the ArrayList, add the Collections import to the top of the program and then use the Shuffle static method. It takes the ArrayList to be shuffled as a parameter:\r\n\r\n    import java.util.Collections;\r\n    import java.util.ArrayList;\r\n    public class Lottery {\r\n    public static void main(String[] args) {\r\n    //define ArrayList to hold Integer objects\r\n    ArrayList numbers = new ArrayList();\r\n    for(int i = 0; i &lt; 100; i++)\r\n    {\r\n    numbers.add(i+1);\r\n    }\r\n    Collections.shuffle(numbers);\r\n    System.out.println(numbers);\r\n    }\r\n    }\r\n\r\n ","title":"Generating Unique Random Numbers in Java","body":"<p>You can use the Collections class.</p>\n\n<p>A utility class called Collections offers different actions that can be performed on a collection like an ArrayList (e.g., search the elements, find the maximum or minimum element, reverse the order of elements, and so on). One of the actions it can perform is to shuffle the elements. The shuffle will randomly move each element to a different position in the list. It does this by using a Random object. This means it's deterministic randomness, but it will do in most situations.</p>\n\n<p>To shuffle the ArrayList, add the Collections import to the top of the program and then use the Shuffle static method. It takes the ArrayList to be shuffled as a parameter:</p>\n\n<pre><code>import java.util.Collections;\nimport java.util.ArrayList;\npublic class Lottery {\npublic static void main(String[] args) {\n//define ArrayList to hold Integer objects\nArrayList numbers = new ArrayList();\nfor(int i = 0; i &lt; 100; i++)\n{\nnumbers.add(i+1);\n}\nCollections.shuffle(numbers);\nSystem.out.println(numbers);\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16463325,"reputation":11,"user_id":11893938,"display_name":"Baliram Gupta"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1582474591,"creation_date":1582474591,"answer_id":60364229,"question_id":8115722,"body_markdown":"You can generate n unique random number between 0 to n-1 in java\r\n\r\n\r\n    public static void RandomGenerate(int n)\r\n    {\r\n\t     Set&lt;Integer&gt; st=new HashSet&lt;Integer&gt;();\r\n\t     Random r=new Random();\r\n\t     while(st.size()&lt;n)\r\n         {\r\n\t        st.add(r.nextInt(n));\r\n         }\r\n\r\n\t\t\t \r\n   }\r\n\r\n\r\n","title":"Generating Unique Random Numbers in Java","body":"<p>You can generate n unique random number between 0 to n-1 in java</p>\n\n<pre><code>public static void RandomGenerate(int n)\n{\n     Set&lt;Integer&gt; st=new HashSet&lt;Integer&gt;();\n     Random r=new Random();\n     while(st.size()&lt;n)\n     {\n        st.add(r.nextInt(n));\n     }\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":17347832,"reputation":161,"user_id":13276263,"display_name":"Partha Prateem Patra"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1597508044,"creation_date":1589014066,"answer_id":61694056,"question_id":8115722,"body_markdown":"*This is the **most simple** method to generate unique random values in a range or from an array*. \r\n\r\nIn this example, I will be using a predefined array but you can adapt this method to generate random numbers as well. First, we will create a sample array to retrieve our data from.\r\n\r\n1. Generate a random number and add it to the new array.\r\n2. Generate another random number and check if it is already stored in the new array.\r\n3. If not then add it and continue\r\n4. else reiterate the step.\r\n\r\n```\r\nArrayList&lt;Integer&gt; sampleList = new ArrayList&lt;&gt;();\r\nsampleList.add(1);\r\nsampleList.add(2);\r\nsampleList.add(3);\r\nsampleList.add(4);\r\nsampleList.add(5);\r\nsampleList.add(6);\r\nsampleList.add(7);\r\nsampleList.add(8);\r\n```\r\nNow from the `sampleList` we will produce five random numbers that are unique.\r\n\r\n```\r\nint n;\r\nrandomList = new ArrayList&lt;&gt;();\r\nfor(int  i=0;i&lt;5;i++){\r\n    Random random = new Random();\r\n    n=random.nextInt(8);     //Generate a random index between 0-7\r\n\r\n    if(!randomList.contains(sampleList.get(n)))\r\n    randomList.add(sampleList.get(n));\r\n    else\r\n        i--;    //reiterating the step\r\n}\r\n        \r\n```\r\nThis is conceptually very simple. If the random value generated already exists then we will reiterate the step. This will continue until all the values generated are unique.\r\n\r\n*If you found this answer useful then you can vote it up as it is much simple in concept as compared to the other answers*.\r\n","title":"Generating Unique Random Numbers in Java","body":"<p><em>This is the <strong>most simple</strong> method to generate unique random values in a range or from an array</em>.</p>\n<p>In this example, I will be using a predefined array but you can adapt this method to generate random numbers as well. First, we will create a sample array to retrieve our data from.</p>\n<ol>\n<li>Generate a random number and add it to the new array.</li>\n<li>Generate another random number and check if it is already stored in the new array.</li>\n<li>If not then add it and continue</li>\n<li>else reiterate the step.</li>\n</ol>\n<pre><code>ArrayList&lt;Integer&gt; sampleList = new ArrayList&lt;&gt;();\nsampleList.add(1);\nsampleList.add(2);\nsampleList.add(3);\nsampleList.add(4);\nsampleList.add(5);\nsampleList.add(6);\nsampleList.add(7);\nsampleList.add(8);\n</code></pre>\n<p>Now from the <code>sampleList</code> we will produce five random numbers that are unique.</p>\n<pre><code>int n;\nrandomList = new ArrayList&lt;&gt;();\nfor(int  i=0;i&lt;5;i++){\n    Random random = new Random();\n    n=random.nextInt(8);     //Generate a random index between 0-7\n\n    if(!randomList.contains(sampleList.get(n)))\n    randomList.add(sampleList.get(n));\n    else\n        i--;    //reiterating the step\n}\n        \n</code></pre>\n<p>This is conceptually very simple. If the random value generated already exists then we will reiterate the step. This will continue until all the values generated are unique.</p>\n<p><em>If you found this answer useful then you can vote it up as it is much simple in concept as compared to the other answers</em>.</p>\n"},{"tags":[],"owner":{"account_id":2401305,"reputation":94,"user_id":2098903,"display_name":"Kamran Hyder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1594584371,"creation_date":1594582213,"answer_id":62865630,"question_id":8115722,"body_markdown":"Though it&#39;s an old thread, but adding another option might not harm. (JDK 1.8 lambda functions seem to make it easy);\r\n\r\nThe problem could be broken down into the following steps;\r\n\r\n - Get a minimum value for the provided list of integers (for which to generate unique random numbers)\r\n - Get a maximum value for the provided list of integers\r\n - Use ThreadLocalRandom class (from JDK 1.8) to generate random integer values against the previously found min and max integer values and then filter to ensure that the values are indeed contained by the originally provided list. Finally apply distinct to the intstream to ensure that generated numbers are unique.\r\n\r\n\r\nHere is the function with some description:\r\n\r\n    /**\r\n     * Provided an unsequenced / sequenced list of integers, the function returns unique random IDs as defined by the parameter\r\n     * @param numberToGenerate\r\n     * @param idList\r\n     * @return List of unique random integer values from the provided list\r\n     */\r\n    private List&lt;Integer&gt; getUniqueRandomInts(List&lt;Integer&gt; idList, Integer numberToGenerate) {\r\n\r\n        List&lt;Integer&gt; generatedUniqueIds = new ArrayList&lt;&gt;();\r\n\r\n        Integer minId = idList.stream().mapToInt (v-&gt;v).min().orElseThrow(NoSuchElementException::new);\r\n        Integer maxId = idList.stream().mapToInt (v-&gt;v).max().orElseThrow(NoSuchElementException::new);\r\n\r\n                ThreadLocalRandom.current().ints(minId,maxId)\r\n                .filter(e-&gt;idList.contains(e))\r\n                .distinct()\r\n                .limit(numberToGenerate)\r\n                .forEach(generatedUniqueIds:: add);\r\n\r\n        return generatedUniqueIds;\r\n\r\n    }\r\n\r\nSo that, to get 11 unique random numbers for &#39;allIntegers&#39; list object, we&#39;ll call the function like;\r\n\r\n        List&lt;Integer&gt; ids = getUniqueRandomInts(allIntegers,11);\r\n\r\nThe function declares new arrayList &#39;generatedUniqueIds&#39; and populates with each unique random integer up to the required number before returning.\r\n\r\nP.S. ThreadLocalRandom class avoids common seed value in case of concurrent threads.","title":"Generating Unique Random Numbers in Java","body":"<p>Though it's an old thread, but adding another option might not harm. (JDK 1.8 lambda functions seem to make it easy);</p>\n<p>The problem could be broken down into the following steps;</p>\n<ul>\n<li>Get a minimum value for the provided list of integers (for which to generate unique random numbers)</li>\n<li>Get a maximum value for the provided list of integers</li>\n<li>Use ThreadLocalRandom class (from JDK 1.8) to generate random integer values against the previously found min and max integer values and then filter to ensure that the values are indeed contained by the originally provided list. Finally apply distinct to the intstream to ensure that generated numbers are unique.</li>\n</ul>\n<p>Here is the function with some description:</p>\n<pre><code>/**\n * Provided an unsequenced / sequenced list of integers, the function returns unique random IDs as defined by the parameter\n * @param numberToGenerate\n * @param idList\n * @return List of unique random integer values from the provided list\n */\nprivate List&lt;Integer&gt; getUniqueRandomInts(List&lt;Integer&gt; idList, Integer numberToGenerate) {\n\n    List&lt;Integer&gt; generatedUniqueIds = new ArrayList&lt;&gt;();\n\n    Integer minId = idList.stream().mapToInt (v-&gt;v).min().orElseThrow(NoSuchElementException::new);\n    Integer maxId = idList.stream().mapToInt (v-&gt;v).max().orElseThrow(NoSuchElementException::new);\n\n            ThreadLocalRandom.current().ints(minId,maxId)\n            .filter(e-&gt;idList.contains(e))\n            .distinct()\n            .limit(numberToGenerate)\n            .forEach(generatedUniqueIds:: add);\n\n    return generatedUniqueIds;\n\n}\n</code></pre>\n<p>So that, to get 11 unique random numbers for 'allIntegers' list object, we'll call the function like;</p>\n<pre><code>    List&lt;Integer&gt; ids = getUniqueRandomInts(allIntegers,11);\n</code></pre>\n<p>The function declares new arrayList 'generatedUniqueIds' and populates with each unique random integer up to the required number before returning.</p>\n<p>P.S. ThreadLocalRandom class avoids common seed value in case of concurrent threads.</p>\n"}],"owner":{"account_id":433588,"reputation":2419,"user_id":819013,"accept_rate":100,"display_name":"&#214;mer Faruk AK"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":278227,"favorite_count":0,"down_vote_count":0,"up_vote_count":109,"accepted_answer_id":8115744,"answer_count":21,"score":109,"last_activity_date":1675034181,"creation_date":1321227680,"question_id":8115722,"body_markdown":"I&#39;m trying to get random numbers between 0 and 100. But I want them to be unique, not repeated in a sequence. For example if I got 5 numbers, they should be 82,12,53,64,32 and not 82,12,53,12,32\r\nI used this, but it generates same numbers in a sequence.\r\n\r\n    Random rand = new Random();\r\n    selected = rand.nextInt(100);\r\n\r\n","title":"Generating Unique Random Numbers in Java","body":"<p>I'm trying to get random numbers between 0 and 100. But I want them to be unique, not repeated in a sequence. For example if I got 5 numbers, they should be 82,12,53,64,32 and not 82,12,53,12,32\nI used this, but it generates same numbers in a sequence.</p>\n\n<pre><code>Random rand = new Random();\nselected = rand.nextInt(100);\n</code></pre>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":2,"creation_date":1674400984,"post_id":75201549,"comment_id":132702106,"body_markdown":"Why are you using `BorderLayout.CENTER` when your layout is null? Why are you using null layout to start with?","body":"Why are you using <code>BorderLayout.CENTER</code> when your layout is null? Why are you using null layout to start with?"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1674401099,"post_id":75201549,"comment_id":132702123,"body_markdown":"Suggestions: 1. First debug -- make sure that the path is right by displaying the ImageIcon in a JOptionPane. Just pass it in and see if it displays.  2. Better to get images as resources *not* as a file as you&#39;re trying to do.  Get the resource from the class, and lead in an image via `ImageIO.get(...)`. 3. You almost never should use null layouts. 4. To use an image as a background for a GUI, it is usually best to draw it inside of the paintComponent method of the background JPanel.","body":"Suggestions: 1. First debug -- make sure that the path is right by displaying the ImageIcon in a JOptionPane. Just pass it in and see if it displays.  2. Better to get images as resources <i>not</i> as a file as you&#39;re trying to do.  Get the resource from the class, and lead in an image via <code>ImageIO.get(...)</code>. 3. You almost never should use null layouts. 4. To use an image as a background for a GUI, it is usually best to draw it inside of the paintComponent method of the background JPanel."},{"owner":{"account_id":18586861,"reputation":7,"user_id":13673923,"display_name":"zCe"},"score":0,"creation_date":1674401229,"post_id":75201549,"comment_id":132702152,"body_markdown":"Really thanks. I will find out the problem. File file = new File(&quot;ruta/de/la/imagen.jpg&quot;);\nBufferedImage image = ImageIO.read(file);","body":"Really thanks. I will find out the problem. File file = new File(&quot;ruta/de/la/imagen.jpg&quot;); BufferedImage image = ImageIO.read(file);"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1674402898,"post_id":75201549,"comment_id":132702456,"body_markdown":"Large chunks of code in comments are illegible. If it&#39;s an answer, post an answer. If it&#39;s part of the question, edit the question.","body":"Large chunks of code in comments are illegible. If it&#39;s an answer, post an answer. If it&#39;s part of the question, edit the question."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1674402899,"post_id":75201549,"comment_id":132702457,"body_markdown":"[edit] your question with any new information please","body":"<a href=\"https://stackoverflow.com/posts/75201549/edit\">edit</a> your question with any new information please"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1674412140,"post_id":75201549,"comment_id":132704276,"body_markdown":"to put it more drastically: null layout is __wrong__, always","body":"to put it more drastically: null layout is <b>wrong</b>, always"}],"answers":[{"tags":[],"owner":{"account_id":27451148,"reputation":11,"user_id":20943379,"display_name":"axel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674402656,"creation_date":1674402656,"answer_id":75201766,"question_id":75201549,"body_markdown":"You are calling f.setVisible(true), before adding label and icons to it.\r\nAnd you don&#39;t want to add panel in between label and fram.\r\nYou can try this approach,\r\n\r\n\t\t\t\tf = new JFrame();\r\n\t\t\t\tf.setExtendedState(JFrame.MAXIMIZED_BOTH);\r\n\r\n\t\t\t\tf.setDefaultCloseOperation(JFrame.HIDE_ON_CLOSE);\r\n\r\n\t\t\t\tImageIcon icon = new ImageIcon(&quot;C:\\\\Users\\\\jean\\\\Pictures\\\\988057.jpg&quot;);\r\n\t\t\t\tJLabel background = new JLabel();\r\n\t\t\t\tbackground.setIcon(icon);\r\n\r\n\t\t\t\tbackground.setSize(f.getSize());\r\n\t\t\t\tf.add(background);\r\n\t\t\t\tf.setVisible(true);\r\n\r\nI hope this will solve your problem.","title":"Im triying to use a JLabel as a BackGround and I cant","body":"<p>You are calling f.setVisible(true), before adding label and icons to it.\nAnd you don't want to add panel in between label and fram.\nYou can try this approach,</p>\n<pre><code>            f = new JFrame();\n            f.setExtendedState(JFrame.MAXIMIZED_BOTH);\n\n            f.setDefaultCloseOperation(JFrame.HIDE_ON_CLOSE);\n\n            ImageIcon icon = new ImageIcon(&quot;C:\\\\Users\\\\jean\\\\Pictures\\\\988057.jpg&quot;);\n            JLabel background = new JLabel();\n            background.setIcon(icon);\n\n            background.setSize(f.getSize());\n            f.add(background);\n            f.setVisible(true);\n</code></pre>\n<p>I hope this will solve your problem.</p>\n"},{"tags":[],"owner":{"account_id":18586861,"reputation":7,"user_id":13673923,"display_name":"zCe"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1674402969,"creation_date":1674402969,"answer_id":75201812,"question_id":75201549,"body_markdown":"The Solution. Thanks Guys.\r\n\r\n\t\tf = new JFrame();\r\n\t\tf.setExtendedState(JFrame.MAXIMIZED_BOTH);\r\n\t\tf.setVisible(true);\r\n\t\tf.setDefaultCloseOperation(JFrame.HIDE_ON_CLOSE);\r\n\t\t\r\n\t\td = new JPanel();\r\n\t\td.setSize(f.getSize());\r\n\t\tf.add(d);\t\r\n\t\t\r\n\t\tFile file = new File(&quot;C:\\\\Users\\\\jean\\\\Pictures\\\\988057.jpg&quot;);\r\n\r\n\t\t\r\n\t\ttry {\r\n\t\t\t\r\n\t\t    BufferedImage image = ImageIO.read(file);\r\n\t\t    JLabel label = new JLabel(new ImageIcon(image));\r\n\t\t    label.setSize(d.getSize());\r\n\t\t    d.add(label);\r\n\t\t    \r\n\t\t} catch (IOException e) {\r\n\t\t    e.printStackTrace();\r\n\t\t    \r\n\t\t}","title":"Im triying to use a JLabel as a BackGround and I cant","body":"<p>The Solution. Thanks Guys.</p>\n<pre><code>    f = new JFrame();\n    f.setExtendedState(JFrame.MAXIMIZED_BOTH);\n    f.setVisible(true);\n    f.setDefaultCloseOperation(JFrame.HIDE_ON_CLOSE);\n    \n    d = new JPanel();\n    d.setSize(f.getSize());\n    f.add(d);   \n    \n    File file = new File(&quot;C:\\\\Users\\\\jean\\\\Pictures\\\\988057.jpg&quot;);\n\n    \n    try {\n        \n        BufferedImage image = ImageIO.read(file);\n        JLabel label = new JLabel(new ImageIcon(image));\n        label.setSize(d.getSize());\n        d.add(label);\n        \n    } catch (IOException e) {\n        e.printStackTrace();\n        \n    }\n</code></pre>\n"}],"owner":{"account_id":18586861,"reputation":7,"user_id":13673923,"display_name":"zCe"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1675033766,"answer_count":2,"score":-1,"last_activity_date":1675033789,"creation_date":1674400749,"question_id":75201549,"body_markdown":"```lang-java\r\nf = new JFrame();\r\nf.setExtendedState(JFrame.MAXIMIZED_BOTH);\r\nf.setVisible(true);\r\nf.setDefaultCloseOperation(JFrame.HIDE_ON_CLOSE);\r\n\r\nd = new JPanel();\r\nf.add(d);\r\nImageIcon icon = new ImageIcon(&quot;C:\\\\Users\\\\jean\\\\Pictures\\\\988057.jpg&quot;);\r\nJLabel background = new JLabel(icon);\r\nbackground.setSize(d.getSize());\r\nbackground.setLocation(0,0);\r\nd.add(background);\r\nd.setLayout(null);\r\nbackground.setOpaque(true);\r\n\r\nd.add(background, BorderLayout.CENTER, 0);\r\n```\r\n\r\n\r\n\r\nI&#39;m trying to use a JLabel to display a background image but this code isn&#39;t working, despite the path to the image being correct. What is the cause of this problem?","title":"Im triying to use a JLabel as a BackGround and I cant","body":"<pre class=\"lang-java prettyprint-override\"><code>f = new JFrame();\nf.setExtendedState(JFrame.MAXIMIZED_BOTH);\nf.setVisible(true);\nf.setDefaultCloseOperation(JFrame.HIDE_ON_CLOSE);\n\nd = new JPanel();\nf.add(d);\nImageIcon icon = new ImageIcon(&quot;C:\\\\Users\\\\jean\\\\Pictures\\\\988057.jpg&quot;);\nJLabel background = new JLabel(icon);\nbackground.setSize(d.getSize());\nbackground.setLocation(0,0);\nd.add(background);\nd.setLayout(null);\nbackground.setOpaque(true);\n\nd.add(background, BorderLayout.CENTER, 0);\n</code></pre>\n<p>I'm trying to use a JLabel to display a background image but this code isn't working, despite the path to the image being correct. What is the cause of this problem?</p>\n"},{"tags":["java","ios","rest","cordova","postman"],"comments":[{"owner":{"account_id":1329567,"reputation":30389,"user_id":1679187,"accept_rate":97,"display_name":"Yogesh Suthar"},"score":0,"creation_date":1405754607,"post_id":24837703,"comment_id":38563799,"body_markdown":"You are not returning a proper json response. You are getting the error message too, so return proper response from your web server.","body":"You are not returning a proper json response. You are getting the error message too, so return proper response from your web server."},{"owner":{"display_name":"user1907906"},"score":0,"creation_date":1405765892,"post_id":24837703,"comment_id":38566520,"body_markdown":"What is `formData`? Is it valid JSON?","body":"What is <code>formData</code>? Is it valid JSON?"}],"answers":[{"tags":[],"owner":{"account_id":2170438,"reputation":23500,"user_id":1922589,"accept_rate":77,"display_name":"Nurdin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1405916437,"creation_date":1405916437,"answer_id":24857713,"question_id":24837703,"body_markdown":"I already got the answer\r\n\r\n    $.ajax({\r\n        url: &quot;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&quot;,\r\n        type: &quot;POST&quot;,\r\n        contentType: &#39;application/json&#39;,\r\n        data: formData,\r\n        dataType: &quot;json&quot;,\r\n        complete: function(data) {\r\n            $(&quot;#loading&quot;).hide();\r\n            if (data.status == 0) {\r\n                sessionStorage(&quot;userId&quot;, data.userId);\r\n                $(&quot;body&quot;).load(path + &quot;pages/back/menuPage.html&quot;);\r\n                $.getScript(path + &quot;js/back/menuPage.js&quot;, function() {\r\n                    if (currentPage.init) {\r\n                        currentPage.init();\r\n                    }\r\n                });\r\n            } else {\r\n                navigator.notification.alert(&#39;No. kad pengenalan dan kata laluan tidak sah. &#39;, null, &#39;Amaran&#39;, &#39;Ok&#39;);\r\n            }\r\n        }\r\n    }); ","title":"RESTful API - same request but different response on different scenarios","body":"<p>I already got the answer</p>\n\n<pre><code>$.ajax({\n    url: \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\",\n    type: \"POST\",\n    contentType: 'application/json',\n    data: formData,\n    dataType: \"json\",\n    complete: function(data) {\n        $(\"#loading\").hide();\n        if (data.status == 0) {\n            sessionStorage(\"userId\", data.userId);\n            $(\"body\").load(path + \"pages/back/menuPage.html\");\n            $.getScript(path + \"js/back/menuPage.js\", function() {\n                if (currentPage.init) {\n                    currentPage.init();\n                }\n            });\n        } else {\n            navigator.notification.alert('No. kad pengenalan dan kata laluan tidak sah. ', null, 'Amaran', 'Ok');\n        }\n    }\n}); \n</code></pre>\n"}],"owner":{"account_id":2170438,"reputation":23500,"user_id":1922589,"accept_rate":77,"display_name":"Nurdin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":645,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":24857713,"answer_count":1,"score":-1,"last_activity_date":1675033071,"creation_date":1405753459,"question_id":24837703,"body_markdown":"I have a problem when receiving a response from a web service. The request and response are suppose to be like this:\r\n\r\nRequest:\r\n\r\n    {\r\n        &quot;icno&quot;: &quot;880808145588&quot;,\r\n        &quot;password&quot;: &quot;12345abcdejklll&quot;\r\n    }\r\n\r\nResponse:\r\n\r\n    {\r\n        &quot;status&quot;: &quot;0&quot;, //success=0, fail=1\r\n        &quot;userId&quot;: 1\r\n    }\r\n\r\nThen I try on Postman, the result is similar like above.\r\n\r\n![enter image description here][1]\r\n\r\nBut if I try on my mobile app (Cordova based), it returned otherwise, not what I wanted.\r\n\r\nResult:\r\n\r\n    {&quot;readyState&quot;:4,&quot;responseText&quot;:&quot;&lt;html&gt;&lt;head&gt;&lt;title&gt;Apache Tomcat/7.0.54 - Error report&lt;/title&gt;&lt;style&gt;&lt;!--H1 {font-family:Tahoma,Arial,sans-serif;color:white;background-color:#525D76;font-size:22px;} H2 {font-family:Tahoma,Arial,sans-serif;color:white;background-color:#525D76;font-size:16px;} H3 {font-family:Tahoma,Arial,sans-serif;color:white;background-color:#525D76;font-size:14px;} BODY {font-family:Tahoma,Arial,sans-serif;color:black;background-color:white;} B {font-family:Tahoma,Arial,sans-serif;color:white;background-color:#525D76;} P {font-family:Tahoma,Arial,sans-serif;background:white;color:black;font-size:12px;}A {color : black;}A.name {color : black;}HR {color : #525D76;}--&gt;&lt;/style&gt; &lt;/head&gt;&lt;body&gt;&lt;h1&gt;HTTP Status 500 - org.codehaus.jackson.JsonParseException: Unexpected character (&#39;i&#39; (code 105)): expected a valid value (number, String, array, object, &#39;true&#39;, &#39;false&#39; or &#39;null&#39;)&lt;/h1&gt;&lt;HR size=\\&quot;1\\&quot; noshade=\\&quot;noshade\\&quot;&gt;&lt;p&gt;&lt;b&gt;type&lt;/b&gt; Exception report&lt;/p&gt;&lt;p&gt;&lt;b&gt;message&lt;/b&gt; &lt;u&gt;org.codehaus.jackson.JsonParseException: Unexpected character (&#39;i&#39; (code 105)): expected a valid value (number, String, array, object, &#39;true&#39;, &#39;false&#39; or &#39;null&#39;)&lt;/u&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;description&lt;/b&gt; &lt;u&gt;The server encountered an internal error that prevented it from fulfilling this request.&lt;/u&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;exception&lt;/b&gt; &lt;pre&gt;javax.servlet.ServletException: org.codehaus.jackson.JsonParseException: Unexpected character (&#39;i&#39; (code 105)): expected a valid value (number, String, array, object, &#39;true&#39;, &#39;false&#39; or &#39;null&#39;)\\n at [Source: org.apache.catalina.connector.CoyoteInputStream@355a0e8e; line: 1, column: 2]\\n\\tcom.sun.jersey.spi.container.servlet.WebComponent.service(WebComponent.java:420)\\n\\tcom.sun.jersey.spi.container.servlet.ServletContainer.service(ServletContainer.java:538)\\n\\tcom.sun.jersey.spi.container.servlet.ServletContainer.service(ServletContainer.java:716)\\n\\tjavax.servlet.http.HttpServlet.service(HttpServlet.java:727)\\n\\torg.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\\n&lt;/pre&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;root cause&lt;/b&gt; &lt;pre&gt;org.codehaus.jackson.JsonParseException: Unexpected character (&#39;i&#39; (code 105)): expected a valid value (number, String, array, object, &#39;true&#39;, &#39;false&#39; or &#39;null&#39;)\\n at [Source: org.apache.catalina.connector.CoyoteInputStream@355a0e8e; line: 1, column: 2]\\n\\torg.codehaus.jackson.JsonParser._constructError(JsonParser.java:1432)\\n\\torg.codehaus.jackson.impl.JsonParserMinimalBase._reportError(JsonParserMinimalBase.java:385)\\n\\torg.codehaus.jackson.impl.JsonParserMinimalBase._reportUnexpectedChar(JsonParserMinimalBase.java:306)\\n\\torg.codehaus.jackson.impl.Utf8StreamParser._handleUnexpectedValue(Utf8StreamParser.java:2084)\\n\\torg.codehaus.jackson.impl.Utf8StreamParser._nextTokenNotInObject(Utf8StreamParser.java:600)\\n\\torg.codehaus.jackson.impl.Utf8StreamParser.nextToken(Utf8StreamParser.java:486)\\n\\torg.codehaus.jackson.map.ObjectMapper._initForReading(ObjectMapper.java:2761)\\n\\torg.codehaus.jackson.map.ObjectMapper._readValue(ObjectMapper.java:2682)\\n\\torg.codehaus.jackson.map.ObjectMapper.readValue(ObjectMapper.java:1308)\\n\\torg.codehaus.jackson.jaxrs.JacksonJsonProvider.readFrom(JacksonJsonProvider.java:419)\\n\\tcom.sun.jersey.json.impl.provider.entity.JacksonProviderProxy.readFrom(JacksonProviderProxy.java:139)\\n\\tcom.sun.jersey.spi.container.ContainerRequest.getEntity(ContainerRequest.java:483)\\n\\tcom.sun.jersey.server.impl.model.method.dispatch.EntityParamDispatchProvider$EntityInjectable.getValue(EntityParamDispatchProvider.java:123)\\n\\tcom.sun.jersey.server.impl.inject.InjectableValuesProvider.getInjectableValues(InjectableValuesProvider.java:46)\\n\\tcom.sun.jersey.server.impl.model.method.dispatch.AbstractResourceMethodDispatchProvider$EntityParamInInvoker.getParams(AbstractResourceMethodDispatchProvider.java:153)\\n\\tcom.sun.jersey.server.impl.model.method.dispatch.AbstractResourceMethodDispatchProvider$ResponseOutInvoker._dispatch(AbstractResourceMethodDispatchProvider.java:203)\\n\\tcom.sun.jersey.server.impl.model.method.dispatch.ResourceJavaMethodDispatcher.dispatch(ResourceJavaMethodDispatcher.java:75)\\n\\tcom.sun.jersey.server.impl.uri.rules.HttpMethodRule.accept(HttpMethodRule.java:302)\\n\\tcom.sun.jersey.server.impl.uri.rules.RightHandPathRule.accept(RightHandPathRule.java:147)\\n\\tcom.sun.jersey.server.impl.uri.rules.ResourceClassRule.accept(ResourceClassRule.java:108)\\n\\tcom.sun.jersey.server.impl.uri.rules.RightHandPathRule.accept(RightHandPathRule.java:147)\\n\\tcom.sun.jersey.server.impl.uri.rules.RootResourceClassesRule.accept(RootResourceClassesRule.java:84)\\n\\tcom.sun.jersey.server.impl.application.WebApplicationImpl._handleRequest(WebApplicationImpl.java:1480)\\n\\tcom.sun.jersey.server.impl.application.WebApplicationImpl._handleRequest(WebApplicationImpl.java:1411)\\n\\tcom.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:1360)\\n\\tcom.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:1350)\\n\\tcom.sun.jersey.spi.container.servlet.WebComponent.service(WebComponent.java:416)\\n\\tcom.sun.jersey.spi.container.servlet.ServletContainer.service(ServletContainer.java:538)\\n\\tcom.sun.jersey.spi.container.servlet.ServletContainer.service(ServletContainer.java:716)\\n\\tjavax.servlet.http.HttpServlet.service(HttpServlet.java:727)\\n\\torg.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\\n&lt;/pre&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;note&lt;/b&gt; &lt;u&gt;The full stack trace of the root cause is available in the Apache Tomcat/7.0.54 logs.&lt;/u&gt;&lt;/p&gt;&lt;HR size=\\&quot;1\\&quot; noshade=\\&quot;noshade\\&quot;&gt;&lt;h3&gt;Apache Tomcat/7.0.54&lt;/h3&gt;&lt;/body&gt;&lt;/html&gt;&quot;,&quot;status&quot;:500,&quot;statusText&quot;:&quot;Internal Server Error&quot;}\r\n\r\nMy js code\r\n\r\n    $.ajax({\r\n        url: &quot;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&quot;,\r\n        type: &quot;POST&quot;,\r\n        contentType: &#39;application/json&#39;,\r\n        data: formData,\r\n        dataType: &quot;json&quot;,\r\n        complete: function(data) {\r\n            $(&quot;#loading&quot;).hide();\r\n            if (data.status == 0) {\r\n                sessionStorage(&quot;userId&quot;, data.userId);\r\n                $(&quot;body&quot;).load(path + &quot;pages/back/menuPage.html&quot;);\r\n                $.getScript(path + &quot;js/back/menuPage.js&quot;, function() {\r\n                    if (currentPage.init) {\r\n                        currentPage.init();\r\n                    }\r\n                });\r\n            } else {\r\n                navigator.notification.alert(&#39;No. kad pengenalan dan kata laluan tidak sah. &#39;, null, &#39;Amaran&#39;, &#39;Ok&#39;);\r\n            }\r\n        }\r\n    }); \r\n\r\nWhat can I try to resolve this?\r\n\r\n  [1]: http://i.stack.imgur.com/pEAQ4.png\r\n","title":"RESTful API - same request but different response on different scenarios","body":"<p>I have a problem when receiving a response from a web service. The request and response are suppose to be like this:</p>\n<p>Request:</p>\n<pre><code>{\n    &quot;icno&quot;: &quot;880808145588&quot;,\n    &quot;password&quot;: &quot;12345abcdejklll&quot;\n}\n</code></pre>\n<p>Response:</p>\n<pre><code>{\n    &quot;status&quot;: &quot;0&quot;, //success=0, fail=1\n    &quot;userId&quot;: 1\n}\n</code></pre>\n<p>Then I try on Postman, the result is similar like above.</p>\n<p><img src=\"https://i.stack.imgur.com/pEAQ4.png\" alt=\"enter image description here\" /></p>\n<p>But if I try on my mobile app (Cordova based), it returned otherwise, not what I wanted.</p>\n<p>Result:</p>\n<pre><code>{&quot;readyState&quot;:4,&quot;responseText&quot;:&quot;&lt;html&gt;&lt;head&gt;&lt;title&gt;Apache Tomcat/7.0.54 - Error report&lt;/title&gt;&lt;style&gt;&lt;!--H1 {font-family:Tahoma,Arial,sans-serif;color:white;background-color:#525D76;font-size:22px;} H2 {font-family:Tahoma,Arial,sans-serif;color:white;background-color:#525D76;font-size:16px;} H3 {font-family:Tahoma,Arial,sans-serif;color:white;background-color:#525D76;font-size:14px;} BODY {font-family:Tahoma,Arial,sans-serif;color:black;background-color:white;} B {font-family:Tahoma,Arial,sans-serif;color:white;background-color:#525D76;} P {font-family:Tahoma,Arial,sans-serif;background:white;color:black;font-size:12px;}A {color : black;}A.name {color : black;}HR {color : #525D76;}--&gt;&lt;/style&gt; &lt;/head&gt;&lt;body&gt;&lt;h1&gt;HTTP Status 500 - org.codehaus.jackson.JsonParseException: Unexpected character ('i' (code 105)): expected a valid value (number, String, array, object, 'true', 'false' or 'null')&lt;/h1&gt;&lt;HR size=\\&quot;1\\&quot; noshade=\\&quot;noshade\\&quot;&gt;&lt;p&gt;&lt;b&gt;type&lt;/b&gt; Exception report&lt;/p&gt;&lt;p&gt;&lt;b&gt;message&lt;/b&gt; &lt;u&gt;org.codehaus.jackson.JsonParseException: Unexpected character ('i' (code 105)): expected a valid value (number, String, array, object, 'true', 'false' or 'null')&lt;/u&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;description&lt;/b&gt; &lt;u&gt;The server encountered an internal error that prevented it from fulfilling this request.&lt;/u&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;exception&lt;/b&gt; &lt;pre&gt;javax.servlet.ServletException: org.codehaus.jackson.JsonParseException: Unexpected character ('i' (code 105)): expected a valid value (number, String, array, object, 'true', 'false' or 'null')\\n at [Source: org.apache.catalina.connector.CoyoteInputStream@355a0e8e; line: 1, column: 2]\\n\\tcom.sun.jersey.spi.container.servlet.WebComponent.service(WebComponent.java:420)\\n\\tcom.sun.jersey.spi.container.servlet.ServletContainer.service(ServletContainer.java:538)\\n\\tcom.sun.jersey.spi.container.servlet.ServletContainer.service(ServletContainer.java:716)\\n\\tjavax.servlet.http.HttpServlet.service(HttpServlet.java:727)\\n\\torg.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\\n&lt;/pre&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;root cause&lt;/b&gt; &lt;pre&gt;org.codehaus.jackson.JsonParseException: Unexpected character ('i' (code 105)): expected a valid value (number, String, array, object, 'true', 'false' or 'null')\\n at [Source: org.apache.catalina.connector.CoyoteInputStream@355a0e8e; line: 1, column: 2]\\n\\torg.codehaus.jackson.JsonParser._constructError(JsonParser.java:1432)\\n\\torg.codehaus.jackson.impl.JsonParserMinimalBase._reportError(JsonParserMinimalBase.java:385)\\n\\torg.codehaus.jackson.impl.JsonParserMinimalBase._reportUnexpectedChar(JsonParserMinimalBase.java:306)\\n\\torg.codehaus.jackson.impl.Utf8StreamParser._handleUnexpectedValue(Utf8StreamParser.java:2084)\\n\\torg.codehaus.jackson.impl.Utf8StreamParser._nextTokenNotInObject(Utf8StreamParser.java:600)\\n\\torg.codehaus.jackson.impl.Utf8StreamParser.nextToken(Utf8StreamParser.java:486)\\n\\torg.codehaus.jackson.map.ObjectMapper._initForReading(ObjectMapper.java:2761)\\n\\torg.codehaus.jackson.map.ObjectMapper._readValue(ObjectMapper.java:2682)\\n\\torg.codehaus.jackson.map.ObjectMapper.readValue(ObjectMapper.java:1308)\\n\\torg.codehaus.jackson.jaxrs.JacksonJsonProvider.readFrom(JacksonJsonProvider.java:419)\\n\\tcom.sun.jersey.json.impl.provider.entity.JacksonProviderProxy.readFrom(JacksonProviderProxy.java:139)\\n\\tcom.sun.jersey.spi.container.ContainerRequest.getEntity(ContainerRequest.java:483)\\n\\tcom.sun.jersey.server.impl.model.method.dispatch.EntityParamDispatchProvider$EntityInjectable.getValue(EntityParamDispatchProvider.java:123)\\n\\tcom.sun.jersey.server.impl.inject.InjectableValuesProvider.getInjectableValues(InjectableValuesProvider.java:46)\\n\\tcom.sun.jersey.server.impl.model.method.dispatch.AbstractResourceMethodDispatchProvider$EntityParamInInvoker.getParams(AbstractResourceMethodDispatchProvider.java:153)\\n\\tcom.sun.jersey.server.impl.model.method.dispatch.AbstractResourceMethodDispatchProvider$ResponseOutInvoker._dispatch(AbstractResourceMethodDispatchProvider.java:203)\\n\\tcom.sun.jersey.server.impl.model.method.dispatch.ResourceJavaMethodDispatcher.dispatch(ResourceJavaMethodDispatcher.java:75)\\n\\tcom.sun.jersey.server.impl.uri.rules.HttpMethodRule.accept(HttpMethodRule.java:302)\\n\\tcom.sun.jersey.server.impl.uri.rules.RightHandPathRule.accept(RightHandPathRule.java:147)\\n\\tcom.sun.jersey.server.impl.uri.rules.ResourceClassRule.accept(ResourceClassRule.java:108)\\n\\tcom.sun.jersey.server.impl.uri.rules.RightHandPathRule.accept(RightHandPathRule.java:147)\\n\\tcom.sun.jersey.server.impl.uri.rules.RootResourceClassesRule.accept(RootResourceClassesRule.java:84)\\n\\tcom.sun.jersey.server.impl.application.WebApplicationImpl._handleRequest(WebApplicationImpl.java:1480)\\n\\tcom.sun.jersey.server.impl.application.WebApplicationImpl._handleRequest(WebApplicationImpl.java:1411)\\n\\tcom.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:1360)\\n\\tcom.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:1350)\\n\\tcom.sun.jersey.spi.container.servlet.WebComponent.service(WebComponent.java:416)\\n\\tcom.sun.jersey.spi.container.servlet.ServletContainer.service(ServletContainer.java:538)\\n\\tcom.sun.jersey.spi.container.servlet.ServletContainer.service(ServletContainer.java:716)\\n\\tjavax.servlet.http.HttpServlet.service(HttpServlet.java:727)\\n\\torg.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\\n&lt;/pre&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;note&lt;/b&gt; &lt;u&gt;The full stack trace of the root cause is available in the Apache Tomcat/7.0.54 logs.&lt;/u&gt;&lt;/p&gt;&lt;HR size=\\&quot;1\\&quot; noshade=\\&quot;noshade\\&quot;&gt;&lt;h3&gt;Apache Tomcat/7.0.54&lt;/h3&gt;&lt;/body&gt;&lt;/html&gt;&quot;,&quot;status&quot;:500,&quot;statusText&quot;:&quot;Internal Server Error&quot;}\n</code></pre>\n<p>My js code</p>\n<pre><code>$.ajax({\n    url: &quot;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&quot;,\n    type: &quot;POST&quot;,\n    contentType: 'application/json',\n    data: formData,\n    dataType: &quot;json&quot;,\n    complete: function(data) {\n        $(&quot;#loading&quot;).hide();\n        if (data.status == 0) {\n            sessionStorage(&quot;userId&quot;, data.userId);\n            $(&quot;body&quot;).load(path + &quot;pages/back/menuPage.html&quot;);\n            $.getScript(path + &quot;js/back/menuPage.js&quot;, function() {\n                if (currentPage.init) {\n                    currentPage.init();\n                }\n            });\n        } else {\n            navigator.notification.alert('No. kad pengenalan dan kata laluan tidak sah. ', null, 'Amaran', 'Ok');\n        }\n    }\n}); \n</code></pre>\n<p>What can I try to resolve this?</p>\n"},{"tags":["java","android","notifications","media-player"],"answers":[{"tags":[],"owner":{"account_id":12546500,"reputation":21,"user_id":9129614,"display_name":"Muhammad Ali"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1562659806,"creation_date":1562659806,"answer_id":56948085,"question_id":56121902,"body_markdown":"This will solve in 3 steps.\r\n1:_ Open your build.gradle(Module: app) file.\r\nAdd this under the application tag\r\n\r\n    defaultConfig {\r\n    multiDexEnabled true\r\n    }\r\n\r\n2:_ If you using appcompact then add this line under the dependencies tag\r\n\r\n    dependencies {\r\n    implementation &#39;com.android.support:multidex:1.0.3&#39;\r\n    }\r\n\r\nelse if you migrate your project to AndroidX then add this line\r\n\r\n    dependencies {\r\n    implementation &#39;androidx.multidex:multidex:2.0.1&#39;\r\n    }\r\n\r\n3:_ Open your all activity java files and add MultiDex.intall(contextName)\r\n\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n    MultiDex.install(this);\r\n    super.onCreate(savedInstanceState);\r\n    setContentView(R.layout.activity_mine);\r\n            `enter code here`\r\n    }\r\n\r\n","title":"Exception : java.lang.RuntimeException at android.app.ActivityThread.handleReceiver","body":"<p>This will solve in 3 steps.\n1:_ Open your build.gradle(Module: app) file.\nAdd this under the application tag</p>\n\n<pre><code>defaultConfig {\nmultiDexEnabled true\n}\n</code></pre>\n\n<p>2:_ If you using appcompact then add this line under the dependencies tag</p>\n\n<pre><code>dependencies {\nimplementation 'com.android.support:multidex:1.0.3'\n}\n</code></pre>\n\n<p>else if you migrate your project to AndroidX then add this line</p>\n\n<pre><code>dependencies {\nimplementation 'androidx.multidex:multidex:2.0.1'\n}\n</code></pre>\n\n<p>3:_ Open your all activity java files and add MultiDex.intall(contextName)</p>\n\n<pre><code>protected void onCreate(Bundle savedInstanceState) {\nMultiDex.install(this);\nsuper.onCreate(savedInstanceState);\nsetContentView(R.layout.activity_mine);\n        `enter code here`\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17495417,"reputation":1,"user_id":12686706,"display_name":"Emptyset"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675032430,"creation_date":1675032430,"answer_id":75278936,"question_id":56121902,"body_markdown":"Just add flag to your PendingIntent for Android 12 and above.\r\n[Reference][1]\r\n\r\n\r\n  [1]: https://developer.android.com/about/versions/12/behavior-changes-12","title":"Exception : java.lang.RuntimeException at android.app.ActivityThread.handleReceiver","body":"<p>Just add flag to your PendingIntent for Android 12 and above.\n<a href=\"https://developer.android.com/about/versions/12/behavior-changes-12\" rel=\"nofollow noreferrer\">Reference</a></p>\n"}],"owner":{"account_id":10814854,"reputation":4137,"user_id":7954210,"accept_rate":73,"display_name":"Mouaad Abdelghafour AITALI"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3841,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1675032430,"creation_date":1557797988,"question_id":56121902,"body_markdown":"i have an app published in Google play,and i&#39;m stucking with below crash report in Google Console, can anyone help me to understand where this issue came from and how to get resolved.\r\n\r\n\r\n&gt; java.lang.RuntimeException: \r\n&gt;           at android.app.ActivityThread.handleReceiver (ActivityThread.java:3523)\r\n&gt;           at android.app.ActivityThread.access$1400 (ActivityThread.java:207)\r\n&gt;           at android.app.ActivityThread$H.handleMessage (ActivityThread.java:1759)\r\n&gt;           at android.os.Handler.dispatchMessage (Handler.java:106)\r\n&gt;           at android.os.Looper.loop (Looper.java:193)\r\n&gt;           at android.app.ActivityThread.main (ActivityThread.java:6863)\r\n&gt;           at java.lang.reflect.Method.invoke (Native Method)\r\n&gt;           at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run\r\n&gt; (RuntimeInit.java:537)\r\n&gt;           at com.android.internal.os.ZygoteInit.main (ZygoteInit.java:858)\r\n&gt;         Caused by: java.lang.IllegalStateException: \r\n&gt;           at android.support.v4.media.session.MediaButtonReceiver.onReceive\r\n&gt; (MediaButtonReceiver.java:124)\r\n&gt;           at android.app.ActivityThread.handleReceiver (ActivityThread.java:3507)\r\n\r\n\r\n**Notification** : \r\n\r\n    void startNotify(Context context, String playbackStatus, String title) {\r\n            String titlesonge;\r\n            String artist;\r\n            try {\r\n                titlesonge = StringUtils.substringBefore(title, &quot; - &quot;);\r\n                artist = StringUtils.substringAfter(title, &quot; - &quot;);\r\n            } catch (Exception e) {\r\n                titlesonge = title.substring(0, title.indexOf(&quot; - &quot;));\r\n                artist = title.substring(title.lastIndexOf(&quot; - &quot;) - 1);\r\n            }\r\n            int icon = R.drawable.ic_pause_white;\r\n            Intent playbackAction = new Intent(service, RadioService.class);\r\n            playbackAction.setAction(RadioService.ACTION_PAUSE);\r\n            PendingIntent action = PendingIntent.getService(service, 1, playbackAction, 0);\r\n            if (playbackStatus.equals(PlaybackStatus.PAUSED)) {\r\n                icon = R.drawable.ic_play_white;\r\n                playbackAction.setAction(RadioService.ACTION_PLAY);\r\n                action = PendingIntent.getService(service, 2, playbackAction, 0);\r\n    \r\n            }\r\n            Intent stopIntent = new Intent(service, RadioService.class);\r\n            stopIntent.setAction(RadioService.ACTION_STOP);\r\n            PendingIntent stopAction = PendingIntent.getService(service, 3, stopIntent, 0);\r\n    \r\n            Intent intent = new Intent(service, MainActivity.class);\r\n            intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP |\r\n                    Intent.FLAG_ACTIVITY_SINGLE_TOP |\r\n                    Intent.FLAG_ACTIVITY_NEW_TASK);\r\n            PendingIntent pendingIntent = PendingIntent.getActivity(service, 0, intent, 0);\r\n            notificationManager.cancel(NOTIFICATION_ID);\r\n            String PRIMARY_CHANNEL = &quot;PRIMARY_CHANNEL_ID&quot;;\r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n                NotificationManager manager = (NotificationManager) service.getSystemService(Context.NOTIFICATION_SERVICE);\r\n                String PRIMARY_CHANNEL_NAME = &quot;PRIMARY&quot;;\r\n                NotificationChannel channel = new NotificationChannel(PRIMARY_CHANNEL, PRIMARY_CHANNEL_NAME, NotificationManager.IMPORTANCE_LOW);\r\n                channel.setLockscreenVisibility(Notification.VISIBILITY_PRIVATE);\r\n                if (manager != null) {\r\n                    manager.createNotificationChannel(channel);\r\n                }\r\n            }\r\n            NotificationCompat.Builder builder = new NotificationCompat.Builder(service, PRIMARY_CHANNEL)\r\n                    .setAutoCancel(false)\r\n                    .setContentTitle(titlesonge)\r\n                    .setContentText(artist)\r\n                    .setLargeIcon(BitmapFactory.decodeResource(resources, R.drawable.largeicon))\r\n                    .setContentIntent(pendingIntent)\r\n                    .setVisibility(NotificationCompat.VISIBILITY_PUBLIC)\r\n                    .setSmallIcon(R.drawable.smallwidth)\r\n                    .setColor(ContextCompat.getColor(context, R.color.colorneeded))\r\n                    .addAction(icon, &quot;pause&quot;, action)\r\n                    .addAction(R.drawable.ic_stop_white, &quot;stop&quot;, stopAction)\r\n                    .setPriority(NotificationCompat.PRIORITY_HIGH)\r\n                    .setWhen(System.currentTimeMillis())\r\n                    .setStyle(new android.support.v4.media.app.NotificationCompat.MediaStyle()\r\n                            .setMediaSession(service.getMediaSession().getSessionToken())\r\n                            .setShowActionsInCompactView(0, 1)\r\n                            .setShowCancelButton(true)\r\n                            .setCancelButtonIntent(stopAction));\r\n            service.startForeground(NOTIFICATION_ID, builder.build());\r\n    \r\n        }","title":"Exception : java.lang.RuntimeException at android.app.ActivityThread.handleReceiver","body":"<p>i have an app published in Google play,and i'm stucking with below crash report in Google Console, can anyone help me to understand where this issue came from and how to get resolved.</p>\n\n<blockquote>\n  <p>java.lang.RuntimeException: \n            at android.app.ActivityThread.handleReceiver (ActivityThread.java:3523)\n            at android.app.ActivityThread.access$1400 (ActivityThread.java:207)\n            at android.app.ActivityThread$H.handleMessage (ActivityThread.java:1759)\n            at android.os.Handler.dispatchMessage (Handler.java:106)\n            at android.os.Looper.loop (Looper.java:193)\n            at android.app.ActivityThread.main (ActivityThread.java:6863)\n            at java.lang.reflect.Method.invoke (Native Method)\n            at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run\n  (RuntimeInit.java:537)\n            at com.android.internal.os.ZygoteInit.main (ZygoteInit.java:858)\n          Caused by: java.lang.IllegalStateException: \n            at android.support.v4.media.session.MediaButtonReceiver.onReceive\n  (MediaButtonReceiver.java:124)\n            at android.app.ActivityThread.handleReceiver (ActivityThread.java:3507)</p>\n</blockquote>\n\n<p><strong>Notification</strong> : </p>\n\n<pre><code>void startNotify(Context context, String playbackStatus, String title) {\n        String titlesonge;\n        String artist;\n        try {\n            titlesonge = StringUtils.substringBefore(title, \" - \");\n            artist = StringUtils.substringAfter(title, \" - \");\n        } catch (Exception e) {\n            titlesonge = title.substring(0, title.indexOf(\" - \"));\n            artist = title.substring(title.lastIndexOf(\" - \") - 1);\n        }\n        int icon = R.drawable.ic_pause_white;\n        Intent playbackAction = new Intent(service, RadioService.class);\n        playbackAction.setAction(RadioService.ACTION_PAUSE);\n        PendingIntent action = PendingIntent.getService(service, 1, playbackAction, 0);\n        if (playbackStatus.equals(PlaybackStatus.PAUSED)) {\n            icon = R.drawable.ic_play_white;\n            playbackAction.setAction(RadioService.ACTION_PLAY);\n            action = PendingIntent.getService(service, 2, playbackAction, 0);\n\n        }\n        Intent stopIntent = new Intent(service, RadioService.class);\n        stopIntent.setAction(RadioService.ACTION_STOP);\n        PendingIntent stopAction = PendingIntent.getService(service, 3, stopIntent, 0);\n\n        Intent intent = new Intent(service, MainActivity.class);\n        intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP |\n                Intent.FLAG_ACTIVITY_SINGLE_TOP |\n                Intent.FLAG_ACTIVITY_NEW_TASK);\n        PendingIntent pendingIntent = PendingIntent.getActivity(service, 0, intent, 0);\n        notificationManager.cancel(NOTIFICATION_ID);\n        String PRIMARY_CHANNEL = \"PRIMARY_CHANNEL_ID\";\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n            NotificationManager manager = (NotificationManager) service.getSystemService(Context.NOTIFICATION_SERVICE);\n            String PRIMARY_CHANNEL_NAME = \"PRIMARY\";\n            NotificationChannel channel = new NotificationChannel(PRIMARY_CHANNEL, PRIMARY_CHANNEL_NAME, NotificationManager.IMPORTANCE_LOW);\n            channel.setLockscreenVisibility(Notification.VISIBILITY_PRIVATE);\n            if (manager != null) {\n                manager.createNotificationChannel(channel);\n            }\n        }\n        NotificationCompat.Builder builder = new NotificationCompat.Builder(service, PRIMARY_CHANNEL)\n                .setAutoCancel(false)\n                .setContentTitle(titlesonge)\n                .setContentText(artist)\n                .setLargeIcon(BitmapFactory.decodeResource(resources, R.drawable.largeicon))\n                .setContentIntent(pendingIntent)\n                .setVisibility(NotificationCompat.VISIBILITY_PUBLIC)\n                .setSmallIcon(R.drawable.smallwidth)\n                .setColor(ContextCompat.getColor(context, R.color.colorneeded))\n                .addAction(icon, \"pause\", action)\n                .addAction(R.drawable.ic_stop_white, \"stop\", stopAction)\n                .setPriority(NotificationCompat.PRIORITY_HIGH)\n                .setWhen(System.currentTimeMillis())\n                .setStyle(new android.support.v4.media.app.NotificationCompat.MediaStyle()\n                        .setMediaSession(service.getMediaSession().getSessionToken())\n                        .setShowActionsInCompactView(0, 1)\n                        .setShowCancelButton(true)\n                        .setCancelButtonIntent(stopAction));\n        service.startForeground(NOTIFICATION_ID, builder.build());\n\n    }\n</code></pre>\n"},{"tags":["java","string","collections"],"answers":[{"tags":[],"owner":{"account_id":2785,"reputation":76174,"user_id":3916,"accept_rate":100,"display_name":"Vineet Reynolds"},"down_vote_count":0,"up_vote_count":40,"is_accepted":true,"score":40,"last_activity_date":1630113130,"creation_date":1307914749,"answer_id":6324852,"question_id":6324826,"body_markdown":"You can iterate through the list and create the string.\r\n\r\n    String getStringRepresentation(ArrayList&lt;Character&gt; list)\r\n    {    \r\n        StringBuilder builder = new StringBuilder(list.size());\r\n        for(Character ch: list)\r\n        {\r\n            builder.append(ch);\r\n        }\r\n        return builder.toString();\r\n    }\r\n\r\nSetting the capacity of the `StringBuilder` to the list size is an important optimization.  If you don&#39;t do this, some of the `append` calls may trigger an internal resize of the builder. \r\n\r\nAs an aside, `toString()` returns a human-readable format of the ArrayList&#39;s contents. It is not worth the time to filter out the unnecessary characters from it. It&#39;s implementation could change tomorrow, and you will have to rewrite your filtering code.","title":"Converting ArrayList of Characters to a String?","body":"<p>You can iterate through the list and create the string.</p>\n<pre><code>String getStringRepresentation(ArrayList&lt;Character&gt; list)\n{    \n    StringBuilder builder = new StringBuilder(list.size());\n    for(Character ch: list)\n    {\n        builder.append(ch);\n    }\n    return builder.toString();\n}\n</code></pre>\n<p>Setting the capacity of the <code>StringBuilder</code> to the list size is an important optimization.  If you don't do this, some of the <code>append</code> calls may trigger an internal resize of the builder.</p>\n<p>As an aside, <code>toString()</code> returns a human-readable format of the ArrayList's contents. It is not worth the time to filter out the unnecessary characters from it. It's implementation could change tomorrow, and you will have to rewrite your filtering code.</p>\n"},{"tags":[],"owner":{"account_id":96415,"reputation":1902,"user_id":262067,"display_name":"mkro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1307914758,"creation_date":1307914758,"answer_id":6324853,"question_id":6324826,"body_markdown":"Many solutions available. You can iterate over the chars and append to a StringBuilder, then when finished appending, call .toString on the StringBuilder.\r\n\r\nOr use something like commons-lang StringUtils.join from the apache commons-lang project.","title":"Converting ArrayList of Characters to a String?","body":"<p>Many solutions available. You can iterate over the chars and append to a StringBuilder, then when finished appending, call .toString on the StringBuilder.</p>\n\n<p>Or use something like commons-lang StringUtils.join from the apache commons-lang project.</p>\n"},{"tags":[],"owner":{"account_id":299251,"reputation":335905,"user_id":605744,"accept_rate":100,"display_name":"Tomasz Nurkiewicz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1307914805,"creation_date":1307914805,"answer_id":6324861,"question_id":6324826,"body_markdown":"Assuming you have a following list:\r\n\r\n\tfinal ArrayList&lt;Character&gt; charsList = new ArrayList&lt;Character&gt;();\r\n\tcharsList.add(&#39;h&#39;);\r\n\tcharsList.add(&#39;e&#39;);\r\n\tcharsList.add(&#39;l&#39;);\r\n\tcharsList.add(&#39;l&#39;);\r\n\tcharsList.add(&#39;o&#39;);\r\n\r\nThis will yield *`hello`* (I am using [`org.apache.commons.lang.ArrayUtils`](http://commons.apache.org/lang/api-2.6/org/apache/commons/lang/ArrayUtils.html) helper class):\r\n\r\n\tfinal Character[] charactersArray =\r\n\t\tcharsList.toArray(new Character[charsList.size()]);\r\n\tfinal char[] charsArray = ArrayUtils.toPrimitive(charactersArray);\r\n\tSystem.out.println(String.valueOf(charsArray));","title":"Converting ArrayList of Characters to a String?","body":"<p>Assuming you have a following list:</p>\n\n<pre><code>final ArrayList&lt;Character&gt; charsList = new ArrayList&lt;Character&gt;();\ncharsList.add('h');\ncharsList.add('e');\ncharsList.add('l');\ncharsList.add('l');\ncharsList.add('o');\n</code></pre>\n\n<p>This will yield <em><code>hello</code></em> (I am using <a href=\"http://commons.apache.org/lang/api-2.6/org/apache/commons/lang/ArrayUtils.html\" rel=\"nofollow\"><code>org.apache.commons.lang.ArrayUtils</code></a> helper class):</p>\n\n<pre><code>final Character[] charactersArray =\n    charsList.toArray(new Character[charsList.size()]);\nfinal char[] charsArray = ArrayUtils.toPrimitive(charactersArray);\nSystem.out.println(String.valueOf(charsArray));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":331827,"reputation":6829,"user_id":656754,"accept_rate":78,"display_name":"Lucas Kauffman"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1307920437,"creation_date":1307920437,"answer_id":6325347,"question_id":6324826,"body_markdown":"I would say : \r\n\r\n    public String arayListToString(ArrayList arrayList){\r\n    \r\n    StringBuffer b = new StringBuffer();\r\n    \r\n    for(String s : arrayList){\r\n       b.append(s);\r\n       b.append(&quot;,&quot;);\r\n    }\r\n    \r\n    return b.toString();\r\n    }","title":"Converting ArrayList of Characters to a String?","body":"<p>I would say : </p>\n\n<pre><code>public String arayListToString(ArrayList arrayList){\n\nStringBuffer b = new StringBuffer();\n\nfor(String s : arrayList){\n   b.append(s);\n   b.append(\",\");\n}\n\nreturn b.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2362390,"reputation":719,"user_id":2068802,"accept_rate":93,"display_name":"Shiva"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1404732670,"creation_date":1404732670,"answer_id":24609580,"question_id":6324826,"body_markdown":"How about this, Building the list\r\n\r\n    List&lt;Character&gt; charsList = new ArrayList&lt;Character&gt;();\r\n    charsList.add(&#39;h&#39;);\r\n    charsList.add(&#39;e&#39;);\r\n    charsList.add(&#39;l&#39;);\r\n    charsList.add(&#39;l&#39;);\r\n    charsList.add(&#39;o&#39;);\r\n\r\n**Actual code to get String from List of Character:**\r\n\r\n    String word= new String();\r\n    for(char c:charsList){\r\n    word= word+ c; \r\n    }\r\n    System.out.println(word);\r\n\r\nStill learning if there is a misake point out.","title":"Converting ArrayList of Characters to a String?","body":"<p>How about this, Building the list</p>\n\n<pre><code>List&lt;Character&gt; charsList = new ArrayList&lt;Character&gt;();\ncharsList.add('h');\ncharsList.add('e');\ncharsList.add('l');\ncharsList.add('l');\ncharsList.add('o');\n</code></pre>\n\n<p><strong>Actual code to get String from List of Character:</strong></p>\n\n<pre><code>String word= new String();\nfor(char c:charsList){\nword= word+ c; \n}\nSystem.out.println(word);\n</code></pre>\n\n<p>Still learning if there is a misake point out.</p>\n"},{"tags":[],"owner":{"account_id":6464879,"reputation":1241,"user_id":5007257,"display_name":"waggledans"},"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1630112813,"creation_date":1437941999,"answer_id":31641521,"question_id":6324826,"body_markdown":"Here a possible one-line solution using Java8 streams.\r\n\r\na) List of Character objects to String :\r\n\r\n    String str = chars.stream()\r\n                      .map(e-&gt;e.toString())\r\n                      .reduce((acc, e) -&gt; acc  + e)\r\n                      .get();\r\n\r\nb) array of chars (char[] chars)\r\n\r\n    String str = Stream.of(chars)\r\n                       .map(e-&gt;new String(e))\r\n                       .reduce((acc, e) -&gt; acc  + e)\r\n                       .get();\r\n\r\n***UPDATE*** (following comment below):\r\n\r\na) List of Character objects to String :\r\n\r\n    String str = chars.stream()\r\n                      .map(e-&gt;e.toString())\r\n                      .collect(Collectors.joining());\r\n\r\nb) array of chars (char[] chars)\r\n\r\n    String str = Stream.of(chars)\r\n                       .map(e-&gt;new String(e))\r\n                       .collect(Collectors.joining());\r\n\r\n----------------\r\n\r\nNote that the `map(e-&gt;e.toString())` step in the above solutions will create a temporary string for each character in the list.  The strings immediately become garbage.  So, if the performance of the conversion is a relevant concern, you should consider using the [`StringBuilder` approach][1] instead.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/6324852/139985","title":"Converting ArrayList of Characters to a String?","body":"<p>Here a possible one-line solution using Java8 streams.</p>\n<p>a) List of Character objects to String :</p>\n<pre><code>String str = chars.stream()\n                  .map(e-&gt;e.toString())\n                  .reduce((acc, e) -&gt; acc  + e)\n                  .get();\n</code></pre>\n<p>b) array of chars (char[] chars)</p>\n<pre><code>String str = Stream.of(chars)\n                   .map(e-&gt;new String(e))\n                   .reduce((acc, e) -&gt; acc  + e)\n                   .get();\n</code></pre>\n<p><em><strong>UPDATE</strong></em> (following comment below):</p>\n<p>a) List of Character objects to String :</p>\n<pre><code>String str = chars.stream()\n                  .map(e-&gt;e.toString())\n                  .collect(Collectors.joining());\n</code></pre>\n<p>b) array of chars (char[] chars)</p>\n<pre><code>String str = Stream.of(chars)\n                   .map(e-&gt;new String(e))\n                   .collect(Collectors.joining());\n</code></pre>\n<hr />\n<p>Note that the <code>map(e-&gt;e.toString())</code> step in the above solutions will create a temporary string for each character in the list.  The strings immediately become garbage.  So, if the performance of the conversion is a relevant concern, you should consider using the <a href=\"https://stackoverflow.com/a/6324852/139985\"><code>StringBuilder</code> approach</a> instead.</p>\n"},{"tags":[],"owner":{"account_id":9182040,"reputation":59,"user_id":6825526,"display_name":"Leonid Sivko"},"down_vote_count":6,"up_vote_count":7,"is_accepted":false,"score":1,"last_activity_date":1473754700,"creation_date":1473754700,"answer_id":39465294,"question_id":6324826,"body_markdown":"You can do it using toString() and RegExp without any loops and streams:\r\n\r\n`List&lt;Character&gt; list = Arrays.asList(&#39;a&#39;, &#39;b&#39;, &#39;c&#39;);\r\nString s = list.toString().replaceAll(&quot;[,\\\\s\\\\[\\\\]]&quot;, &quot;&quot;);`","title":"Converting ArrayList of Characters to a String?","body":"<p>You can do it using toString() and RegExp without any loops and streams:</p>\n\n<p><code>List&lt;Character&gt; list = Arrays.asList('a', 'b', 'c');\nString s = list.toString().replaceAll(\"[,\\\\s\\\\[\\\\]]\", \"\");</code></p>\n"},{"tags":[],"owner":{"account_id":12262773,"reputation":11,"user_id":8949998,"display_name":"amit mannur"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1510818846,"creation_date":1510818846,"answer_id":47324294,"question_id":6324826,"body_markdown":"     private void countChar() throws IOException {\r\n        HashMap hashMap = new HashMap();\r\n        List list = new ArrayList();\r\n        list = &quot;aammit&quot;.chars().mapToObj(r -&gt; (char) r).collect(Collectors.toList());\r\n        list.stream().forEach(e -&gt; {\r\n            hashMap.computeIfPresent(e, (K, V) -&gt; (int) V + 1);\r\n            hashMap.computeIfAbsent(e, (V) -&gt; 1);\r\n        });\r\n\r\n        System.out.println(hashMap);\r\n\r\n    }","title":"Converting ArrayList of Characters to a String?","body":"<pre><code> private void countChar() throws IOException {\n    HashMap hashMap = new HashMap();\n    List list = new ArrayList();\n    list = \"aammit\".chars().mapToObj(r -&gt; (char) r).collect(Collectors.toList());\n    list.stream().forEach(e -&gt; {\n        hashMap.computeIfPresent(e, (K, V) -&gt; (int) V + 1);\n        hashMap.computeIfAbsent(e, (V) -&gt; 1);\n    });\n\n    System.out.println(hashMap);\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1407178,"reputation":22164,"user_id":1334561,"display_name":"Muhammad Soliman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1562211139,"creation_date":1562211139,"answer_id":56880300,"question_id":6324826,"body_markdown":"Using `join` of a `Joiner` class:\r\n\r\n    // create character list and initialize \r\n    List&lt;Character&gt; arr = Arrays.asList(&#39;a&#39;, &#39;b&#39;, &#39;c&#39;);   \r\n    String str = Joiner.on(&quot;&quot;).join(arr);\r\n    System.out.println(str);\r\n\r\n \r\n\r\nUse `toString` then remove `, and spaces`\r\n\r\n    import com.google.common.base.Joiner; \r\n\r\n    ....\r\n    &lt;Character&gt; arr = Arrays.asList(&#39;h&#39;, &#39;e&#39;, &#39;l&#39;, &#39;l&#39;, &#39;o&#39;); \r\n    // remove [] and spaces \r\n    String str = arr.toString() \r\n              .substring(1, 3 * str.size() - 1) //3 bcs of commas ,\r\n              .replaceAll(&quot;, &quot;, &quot;&quot;); \r\n    System.out.println(str);\r\n\r\n  \r\nOr by using streams:\r\n\r\n    import java.util.stream.Collectors; \r\n    ...\r\n    // using collect and joining() method \r\n    String str =  arr.stream().map(String::valueOf).collect(Collectors.joining()); \r\n\r\n\r\n\r\n  \r\n","title":"Converting ArrayList of Characters to a String?","body":"<p>Using <code>join</code> of a <code>Joiner</code> class:</p>\n\n<pre><code>// create character list and initialize \nList&lt;Character&gt; arr = Arrays.asList('a', 'b', 'c');   \nString str = Joiner.on(\"\").join(arr);\nSystem.out.println(str);\n</code></pre>\n\n<p>Use <code>toString</code> then remove <code>, and spaces</code></p>\n\n<pre><code>import com.google.common.base.Joiner; \n\n....\n&lt;Character&gt; arr = Arrays.asList('h', 'e', 'l', 'l', 'o'); \n// remove [] and spaces \nString str = arr.toString() \n          .substring(1, 3 * str.size() - 1) //3 bcs of commas ,\n          .replaceAll(\", \", \"\"); \nSystem.out.println(str);\n</code></pre>\n\n<p>Or by using streams:</p>\n\n<pre><code>import java.util.stream.Collectors; \n...\n// using collect and joining() method \nString str =  arr.stream().map(String::valueOf).collect(Collectors.joining()); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":10914885,"reputation":41,"user_id":8023023,"display_name":"hahahaha123567"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1566528701,"creation_date":1566528701,"answer_id":57619286,"question_id":6324826,"body_markdown":"a tiny complement to @waggledans &#39;s answer\r\n\r\n**a) List of Character objects to String :**\r\n\r\n    String str = chars.stream().map(e-&gt;e.toString()).collect(Collectors.joining());\r\n\r\nwhich `e-&gt;e.toString()` can be replaced by `Object::toString`\r\n\r\n    String str = chars.stream().map(Object::toString).collect(Collectors.joining());","title":"Converting ArrayList of Characters to a String?","body":"<p>a tiny complement to @waggledans 's answer</p>\n\n<p><strong>a) List of Character objects to String :</strong></p>\n\n<pre><code>String str = chars.stream().map(e-&gt;e.toString()).collect(Collectors.joining());\n</code></pre>\n\n<p>which <code>e-&gt;e.toString()</code> can be replaced by <code>Object::toString</code></p>\n\n<pre><code>String str = chars.stream().map(Object::toString).collect(Collectors.joining());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":179742,"reputation":9030,"user_id":412591,"accept_rate":46,"display_name":"Angelin Nadar"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1675031566,"creation_date":1675024597,"answer_id":75278208,"question_id":6324826,"body_markdown":"I consider this an easy and smart way\r\n   \r\n     // given list containing the chars\r\n     List&lt;Character&gt; arr = Arrays.asList(&#39;a&#39;, &#39;b&#39;, &#39;c&#39;); \r\n     \r\n    //convert list to string\r\n     String output = arr.toString().replaceAll(&quot;[ ,]&quot;,&quot;&quot;)\r\n                           .substring(1, tmpArr.length()-1);\r\n\r\n\r\n**Explanation:**\r\n\r\n    // convert to string.\r\n    String str = arr.toString(); // result is &quot;[a ,b ,c]&quot;\r\n    \r\n    // get rid of the start and the end char i.e &#39;[&#39; &amp; &#39;]&#39;\r\n    str = str.substring(1, tmpArr.length()-1);  //result is &quot;a ,b ,c&quot;\r\n    \r\n    // replace &lt;space&gt; and &#39;,&#39;\r\n    str = str.replaceAll(&quot; ,&quot;,&quot;&quot;) &quot;ABC&quot;\r\n\r\n\r\n","title":"Converting ArrayList of Characters to a String?","body":"<p>I consider this an easy and smart way</p>\n<pre><code> // given list containing the chars\n List&lt;Character&gt; arr = Arrays.asList('a', 'b', 'c'); \n \n//convert list to string\n String output = arr.toString().replaceAll(&quot;[ ,]&quot;,&quot;&quot;)\n                       .substring(1, tmpArr.length()-1);\n</code></pre>\n<p><strong>Explanation:</strong></p>\n<pre><code>// convert to string.\nString str = arr.toString(); // result is &quot;[a ,b ,c]&quot;\n\n// get rid of the start and the end char i.e '[' &amp; ']'\nstr = str.substring(1, tmpArr.length()-1);  //result is &quot;a ,b ,c&quot;\n\n// replace &lt;space&gt; and ','\nstr = str.replaceAll(&quot; ,&quot;,&quot;&quot;) &quot;ABC&quot;\n</code></pre>\n"}],"owner":{"account_id":738737,"reputation":3541,"user_id":701441,"accept_rate":71,"display_name":"phoenix"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87310,"favorite_count":0,"down_vote_count":1,"up_vote_count":42,"accepted_answer_id":6324852,"answer_count":11,"score":41,"last_activity_date":1675031566,"creation_date":1307914471,"question_id":6324826,"body_markdown":"How to convert an `ArrayList&lt;Character&gt;` to a `String` in Java?\r\n\r\nThe `List.toString` method returns it as `[a,b,c]` string - I want to get rid of the brackets (etcetera) and store it as `abc`.","title":"Converting ArrayList of Characters to a String?","body":"<p>How to convert an <code>ArrayList&lt;Character&gt;</code> to a <code>String</code> in Java?</p>\n<p>The <code>List.toString</code> method returns it as <code>[a,b,c]</code> string - I want to get rid of the brackets (etcetera) and store it as <code>abc</code>.</p>\n"},{"tags":["java","opencv","hsv"],"comments":[{"owner":{"account_id":4142240,"reputation":30761,"user_id":4926757,"accept_rate":0,"display_name":"Rotem"},"score":0,"creation_date":1675100329,"post_id":75278707,"comment_id":132851527,"body_markdown":"Please post an executable code sample (complete code that we can build and run). Please post a sample input image - used for testing. HSV of pure blue is `[120, 255, 255]`. The problem is probably in the parts of the code that you are not showing us...","body":"Please post an executable code sample (complete code that we can build and run). Please post a sample input image - used for testing. HSV of pure blue is <code>[120, 255, 255]</code>. The problem is probably in the parts of the code that you are not showing us..."}],"owner":{"account_id":25991577,"reputation":1,"user_id":19703646,"display_name":"carrot"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675030644,"creation_date":1675029700,"question_id":75278707,"body_markdown":"My OpenCV program is detecting my blue (light blue kind of) shirt as well as yellow objects when I only want it to detect yellow objects. Here are my HSV values:\r\n\r\n```\r\n  Scalar strictLowYellow = new Scalar(20,100,100); // lower yellow bound\r\n          Scalar strictHighYellow = new Scalar(30, 255,255); // higher yellow bound\r\n\t      Mat mask = new Mat();\r\n\r\n\t      // change all non-specified color to white\r\n\t      Core.inRange(src, strictLowYellow, strictHighYellow, mask); // all yellow in hsv in mask\r\n```\r\n\r\nI have tried other values, like\r\n \r\n    Scalar strictLowYellow = new Scalar(15,150,100); // lower yellow bound\r\n    Scalar strictHighYellow = new Scalar(255, 255,255); // higher yellow bound\r\n\r\nbut these have not worked either. What should I do? Thanks!\r\n\r\nI tried the values above, but they detected blue in addition to yellow. ","title":"Why is my OpenCV program detecting blue when it should only be yellow?","body":"<p>My OpenCV program is detecting my blue (light blue kind of) shirt as well as yellow objects when I only want it to detect yellow objects. Here are my HSV values:</p>\n<pre><code>  Scalar strictLowYellow = new Scalar(20,100,100); // lower yellow bound\n          Scalar strictHighYellow = new Scalar(30, 255,255); // higher yellow bound\n          Mat mask = new Mat();\n\n          // change all non-specified color to white\n          Core.inRange(src, strictLowYellow, strictHighYellow, mask); // all yellow in hsv in mask\n</code></pre>\n<p>I have tried other values, like</p>\n<pre><code>Scalar strictLowYellow = new Scalar(15,150,100); // lower yellow bound\nScalar strictHighYellow = new Scalar(255, 255,255); // higher yellow bound\n</code></pre>\n<p>but these have not worked either. What should I do? Thanks!</p>\n<p>I tried the values above, but they detected blue in addition to yellow.</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1675024235,"post_id":75278160,"comment_id":132834441,"body_markdown":"Null layouts are a bad idea, instead learn how to use the layout manager apis. Use a CardLayoit to switch between different panels - this will require to isolate your ui into isolated workable units","body":"Null layouts are a bad idea, instead learn how to use the layout manager apis. Use a CardLayoit to switch between different panels - this will require to isolate your ui into isolated workable units"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1675024518,"post_id":75278160,"comment_id":132834508,"body_markdown":"As an [example](https://stackoverflow.com/questions/15212418/swing-jpanel-switching-out-of-scope/15213177#15213177)","body":"As an <a href=\"https://stackoverflow.com/questions/15212418/swing-jpanel-switching-out-of-scope/15213177#15213177\">example</a>"}],"answers":[{"tags":[],"owner":{"account_id":22831229,"reputation":1,"user_id":16979662,"display_name":"Raf897"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675025212,"creation_date":1675025212,"answer_id":75278274,"question_id":75278160,"body_markdown":"You need to unset visibility of this frame and set visible User manager at the action performed level:\r\n\r\n    private navigateToNextFrame(){\r\n   \r\n\r\n    f.dispose(false);\r\n    UserManager frame = new UserManager();\r\n    frame.setVisible(true);\r\n    }\r\n\r\nNow you need to call this method in the action performed method instead of loggedin=true and delete block in main main method (if (loggedIn))\r\nA little suggestion : User Manager could be a singleton so you can create it at least 1 time.\r\n\r\n   ","title":"How to set frame visibility conditionally in JSwing?","body":"<p>You need to unset visibility of this frame and set visible User manager at the action performed level:</p>\n<pre><code>private navigateToNextFrame(){\n\n\nf.dispose(false);\nUserManager frame = new UserManager();\nframe.setVisible(true);\n}\n</code></pre>\n<p>Now you need to call this method in the action performed method instead of loggedin=true and delete block in main main method (if (loggedIn))\nA little suggestion : User Manager could be a singleton so you can create it at least 1 time.</p>\n"},{"tags":[],"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675029475,"creation_date":1675029475,"answer_id":75278682,"question_id":75278160,"body_markdown":"# Use a `CardLayout`\r\n\r\nSee for [How to Use CardLayout](https://docs.oracle.com/javase/tutorial/uiswing/layout/card.html) more details.\r\n\r\nThis will encourage you to isolate you functionality into individual components, there by isolating the workflows and supporting the &quot;single responsibility&quot; concept.\r\n\r\n    import java.awt.CardLayout;\r\n    import java.awt.EventQueue;\r\n    import java.awt.Font;\r\n    import java.awt.GridBagConstraints;\r\n    import java.awt.GridBagLayout;\r\n    import java.awt.Insets;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JOptionPane;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JPasswordField;\r\n    import javax.swing.JTextField;\r\n    import javax.swing.SwingUtilities;\r\n    import javax.swing.border.EmptyBorder;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new MainPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class MainPane extends JPanel {\r\n\r\n            private UserPane userPane;\r\n            private LoginPane loginPane;\r\n\r\n            public MainPane() {\r\n                setLayout(new CardLayout());\r\n\r\n                userPane = new UserPane();\r\n                loginPane = new LoginPane(new AuthenticationListener() {\r\n                    @Override\r\n                    public void authenticationWasSuccessful(User user) {\r\n                        userPane.setUser(user);\r\n                        // The user pane&#39;s content size will have changed\r\n                        SwingUtilities.windowForComponent(userPane).pack();\r\n                        ((CardLayout) getLayout()).show(MainPane.this, &quot;USER&quot;);\r\n                    }\r\n\r\n                    @Override\r\n                    public void authenticationDidFail() {\r\n                        JOptionPane.showMessageDialog(MainPane.this, &quot;Authentication failed&quot;, &quot;Error&quot;, JOptionPane.ERROR_MESSAGE);\r\n                    }\r\n                });\r\n\r\n                add(userPane, &quot;USER&quot;);\r\n                add(loginPane, &quot;LOGIN&quot;);\r\n\r\n                ((CardLayout) getLayout()).show(this, &quot;LOGIN&quot;);\r\n            }\r\n        }\r\n\r\n        public interface User {\r\n            public String getName();\r\n        }\r\n\r\n        public class DefaultUser implements User {\r\n            private String name;\r\n\r\n            public DefaultUser(String name) {\r\n                this.name = name;\r\n            }\r\n\r\n            @Override\r\n            public String getName() {\r\n                return name;\r\n            }\r\n        }\r\n\r\n        public interface AuthenticationListener {\r\n            public void authenticationWasSuccessful(User user);\r\n\r\n            public void authenticationDidFail();\r\n        }\r\n\r\n        public class LoginPane extends JPanel {\r\n            private JTextField user;\r\n            private JPasswordField password;\r\n            private JButton login;\r\n            private AuthenticationListener loginListener;\r\n\r\n            public LoginPane(AuthenticationListener listener) {\r\n                setBorder(new EmptyBorder(32, 32, 32, 32));\r\n                this.loginListener = listener;\r\n                setLayout(new GridBagLayout());\r\n                GridBagConstraints gbc = new GridBagConstraints();\r\n                gbc.insets = new Insets(4, 4, 4, 4);\r\n                gbc.gridx = 0;\r\n                gbc.gridy = 0;\r\n                gbc.anchor = GridBagConstraints.EAST;\r\n                add(new JLabel(&quot;User name:&quot;), gbc);\r\n                gbc.gridy++;\r\n                add(new JLabel(&quot;Password:&quot;), gbc);\r\n\r\n                gbc.gridx++;\r\n                gbc.gridy = 0;\r\n                gbc.anchor = GridBagConstraints.WEST;\r\n\r\n                user = new JTextField(12);\r\n                password = new JPasswordField(12);\r\n\r\n                add(user, gbc);\r\n                gbc.gridy++;\r\n                add(password, gbc);\r\n\r\n                login = new JButton(&quot;Login&quot;);\r\n\r\n                gbc.gridx = 0;\r\n                gbc.gridy++;\r\n                gbc.anchor = GridBagConstraints.CENTER;\r\n                gbc.gridwidth = GridBagConstraints.REMAINDER;\r\n                add(login, gbc);\r\n\r\n                login.addActionListener(new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        boolean accept = (boolean) (((int) Math.round(Math.random() * 1)) == 0 ? true : false);\r\n                        if (accept) {\r\n                            loginListener.authenticationWasSuccessful(new DefaultUser(user.getText()));\r\n                        } else {\r\n                            loginListener.authenticationDidFail();\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n        }\r\n\r\n        public class UserPane extends JPanel {\r\n\r\n            private JLabel userLabel;\r\n\r\n            public UserPane() {\r\n                JLabel label = new JLabel(&quot;Welcome!&quot;);\r\n                Font font = label.getFont();\r\n                label.setFont(font.deriveFont(Font.BOLD, 32));\r\n                setLayout(new GridBagLayout());\r\n                GridBagConstraints gbc = new GridBagConstraints();\r\n                gbc.gridwidth = gbc.REMAINDER;\r\n                add(label, gbc);\r\n\r\n                userLabel = new JLabel();\r\n                add(userLabel, gbc);\r\n            }\r\n\r\n            public void setUser(User user) {\r\n                userLabel.setText(user.getName());\r\n            }\r\n        }\r\n    }\r\n\r\n# Use a modal `JDialog`\r\n\r\nSee [How to Make Dialogs](https://docs.oracle.com/javase/tutorial/uiswing/components/dialog.html) for more details.\r\n\r\nMore windows isn&#39;t always a good choice, but in the context of gathering user credentials, I think you can make an argument.\r\n\r\nThis makes use of a modal dialog to stop the code execution at the point that the window is made visible and it won&#39;t continue until the window is closed.  This allows you an opportunity to get and validate the user credentials before the code continues (it&#39;s black magic in how it works, but it&#39;s a very common workflow)\r\n\r\n    import java.awt.EventQueue;\r\n    import java.awt.Font;\r\n    import java.awt.GridBagConstraints;\r\n    import java.awt.GridBagLayout;\r\n    import java.awt.Insets;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JDialog;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JOptionPane;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JPasswordField;\r\n    import javax.swing.JTextField;\r\n    import javax.swing.border.EmptyBorder;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    User user = LoginPane.showLoginDialog();\r\n\r\n                    if (user != null) {\r\n                        JFrame frame = new JFrame();\r\n                        frame.add(new UserPane(user));\r\n                        frame.pack();\r\n                        frame.setLocationRelativeTo(null);\r\n                        frame.setVisible(true);\r\n                    } else {\r\n                        // Well, you really don&#39;t know do you?  Did they cancel\r\n                        // the dialog or did authentication fail?\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n        public interface User {\r\n            public String getName();\r\n        }\r\n\r\n        public static class DefaultUser implements User {\r\n            private String name;\r\n\r\n            public DefaultUser(String name) {\r\n                this.name = name;\r\n            }\r\n\r\n            @Override\r\n            public String getName() {\r\n                return name;\r\n            }\r\n        }\r\n\r\n        public static class LoginPane extends JPanel {\r\n            public interface AuthenticationListener {\r\n                public void authenticationWasSuccessful(User user);\r\n                public void authenticationDidFail();\r\n            }\r\n\r\n            private JTextField userTextField;\r\n            private JPasswordField passwordField;\r\n            private JButton loginButton;\r\n\r\n            private User user;\r\n\r\n            public LoginPane(AuthenticationListener listener) {\r\n                setBorder(new EmptyBorder(32, 32, 32, 32));\r\n                setLayout(new GridBagLayout());\r\n                GridBagConstraints gbc = new GridBagConstraints();\r\n                gbc.insets = new Insets(4, 4, 4, 4);\r\n                gbc.gridx = 0;\r\n                gbc.gridy = 0;\r\n                gbc.anchor = GridBagConstraints.EAST;\r\n                add(new JLabel(&quot;User name:&quot;), gbc);\r\n                gbc.gridy++;\r\n                add(new JLabel(&quot;Password:&quot;), gbc);\r\n\r\n                gbc.gridx++;\r\n                gbc.gridy = 0;\r\n                gbc.anchor = GridBagConstraints.WEST;\r\n\r\n                userTextField = new JTextField(12);\r\n                passwordField = new JPasswordField(12);\r\n\r\n                add(userTextField, gbc);\r\n                gbc.gridy++;\r\n                add(passwordField, gbc);\r\n\r\n                loginButton = new JButton(&quot;Login&quot;);\r\n\r\n                gbc.gridx = 0;\r\n                gbc.gridy++;\r\n                gbc.anchor = GridBagConstraints.CENTER;\r\n                gbc.gridwidth = GridBagConstraints.REMAINDER;\r\n                add(loginButton, gbc);\r\n\r\n                loginButton.addActionListener(new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        boolean accept = (boolean) (((int) Math.round(Math.random() * 1)) == 0 ? true : false);\r\n                        if (accept) {\r\n                            user = new DefaultUser(userTextField.getText());\r\n                            listener.authenticationWasSuccessful(user);\r\n                        } else {\r\n                            user = null;\r\n                            listener.authenticationDidFail();\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n\r\n            public User getUser() {\r\n                return user;\r\n            }\r\n\r\n            public static User showLoginDialog() {\r\n                JDialog dialog = new JDialog();\r\n                dialog.setTitle(&quot;Login&quot;);\r\n                dialog.setModal(true);\r\n\r\n                LoginPane loginPane = new LoginPane(new LoginPane.AuthenticationListener() {\r\n                    @Override\r\n                    public void authenticationWasSuccessful(User user) {\r\n                        dialog.dispose();\r\n                    }\r\n\r\n                    @Override\r\n                    public void authenticationDidFail() {\r\n                        JOptionPane.showMessageDialog(dialog, &quot;Authentication failed&quot;, &quot;Error&quot;, JOptionPane.ERROR_MESSAGE);\r\n                    }\r\n                });\r\n\r\n                dialog.add(loginPane);\r\n                dialog.pack();\r\n                dialog.setLocationRelativeTo(null);\r\n                dialog.setVisible(true);\r\n\r\n                return loginPane.getUser();\r\n            }\r\n        }\r\n\r\n        public class UserPane extends JPanel {\r\n            public UserPane(User user) {\r\n                setBorder(new EmptyBorder(32, 32, 32, 32));\r\n                JLabel label = new JLabel(&quot;Welcome!&quot;);\r\n                Font font = label.getFont();\r\n                label.setFont(font.deriveFont(Font.BOLD, 32));\r\n                setLayout(new GridBagLayout());\r\n                GridBagConstraints gbc = new GridBagConstraints();\r\n                gbc.gridwidth = gbc.REMAINDER;\r\n                add(label, gbc);\r\n\r\n                JLabel userLabel = new JLabel();\r\n                userLabel.setText(user.getName());\r\n                add(userLabel, gbc);\r\n            }\r\n        }\r\n    }\r\n","title":"How to set frame visibility conditionally in JSwing?","body":"<h1>Use a <code>CardLayout</code></h1>\n<p>See for <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/card.html\" rel=\"nofollow noreferrer\">How to Use CardLayout</a> more details.</p>\n<p>This will encourage you to isolate you functionality into individual components, there by isolating the workflows and supporting the &quot;single responsibility&quot; concept.</p>\n<pre><code>import java.awt.CardLayout;\nimport java.awt.EventQueue;\nimport java.awt.Font;\nimport java.awt.GridBagConstraints;\nimport java.awt.GridBagLayout;\nimport java.awt.Insets;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JOptionPane;\nimport javax.swing.JPanel;\nimport javax.swing.JPasswordField;\nimport javax.swing.JTextField;\nimport javax.swing.SwingUtilities;\nimport javax.swing.border.EmptyBorder;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new MainPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class MainPane extends JPanel {\n\n        private UserPane userPane;\n        private LoginPane loginPane;\n\n        public MainPane() {\n            setLayout(new CardLayout());\n\n            userPane = new UserPane();\n            loginPane = new LoginPane(new AuthenticationListener() {\n                @Override\n                public void authenticationWasSuccessful(User user) {\n                    userPane.setUser(user);\n                    // The user pane's content size will have changed\n                    SwingUtilities.windowForComponent(userPane).pack();\n                    ((CardLayout) getLayout()).show(MainPane.this, &quot;USER&quot;);\n                }\n\n                @Override\n                public void authenticationDidFail() {\n                    JOptionPane.showMessageDialog(MainPane.this, &quot;Authentication failed&quot;, &quot;Error&quot;, JOptionPane.ERROR_MESSAGE);\n                }\n            });\n\n            add(userPane, &quot;USER&quot;);\n            add(loginPane, &quot;LOGIN&quot;);\n\n            ((CardLayout) getLayout()).show(this, &quot;LOGIN&quot;);\n        }\n    }\n\n    public interface User {\n        public String getName();\n    }\n\n    public class DefaultUser implements User {\n        private String name;\n\n        public DefaultUser(String name) {\n            this.name = name;\n        }\n\n        @Override\n        public String getName() {\n            return name;\n        }\n    }\n\n    public interface AuthenticationListener {\n        public void authenticationWasSuccessful(User user);\n\n        public void authenticationDidFail();\n    }\n\n    public class LoginPane extends JPanel {\n        private JTextField user;\n        private JPasswordField password;\n        private JButton login;\n        private AuthenticationListener loginListener;\n\n        public LoginPane(AuthenticationListener listener) {\n            setBorder(new EmptyBorder(32, 32, 32, 32));\n            this.loginListener = listener;\n            setLayout(new GridBagLayout());\n            GridBagConstraints gbc = new GridBagConstraints();\n            gbc.insets = new Insets(4, 4, 4, 4);\n            gbc.gridx = 0;\n            gbc.gridy = 0;\n            gbc.anchor = GridBagConstraints.EAST;\n            add(new JLabel(&quot;User name:&quot;), gbc);\n            gbc.gridy++;\n            add(new JLabel(&quot;Password:&quot;), gbc);\n\n            gbc.gridx++;\n            gbc.gridy = 0;\n            gbc.anchor = GridBagConstraints.WEST;\n\n            user = new JTextField(12);\n            password = new JPasswordField(12);\n\n            add(user, gbc);\n            gbc.gridy++;\n            add(password, gbc);\n\n            login = new JButton(&quot;Login&quot;);\n\n            gbc.gridx = 0;\n            gbc.gridy++;\n            gbc.anchor = GridBagConstraints.CENTER;\n            gbc.gridwidth = GridBagConstraints.REMAINDER;\n            add(login, gbc);\n\n            login.addActionListener(new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    boolean accept = (boolean) (((int) Math.round(Math.random() * 1)) == 0 ? true : false);\n                    if (accept) {\n                        loginListener.authenticationWasSuccessful(new DefaultUser(user.getText()));\n                    } else {\n                        loginListener.authenticationDidFail();\n                    }\n                }\n            });\n        }\n    }\n\n    public class UserPane extends JPanel {\n\n        private JLabel userLabel;\n\n        public UserPane() {\n            JLabel label = new JLabel(&quot;Welcome!&quot;);\n            Font font = label.getFont();\n            label.setFont(font.deriveFont(Font.BOLD, 32));\n            setLayout(new GridBagLayout());\n            GridBagConstraints gbc = new GridBagConstraints();\n            gbc.gridwidth = gbc.REMAINDER;\n            add(label, gbc);\n\n            userLabel = new JLabel();\n            add(userLabel, gbc);\n        }\n\n        public void setUser(User user) {\n            userLabel.setText(user.getName());\n        }\n    }\n}\n</code></pre>\n<h1>Use a modal <code>JDialog</code></h1>\n<p>See <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/dialog.html\" rel=\"nofollow noreferrer\">How to Make Dialogs</a> for more details.</p>\n<p>More windows isn't always a good choice, but in the context of gathering user credentials, I think you can make an argument.</p>\n<p>This makes use of a modal dialog to stop the code execution at the point that the window is made visible and it won't continue until the window is closed.  This allows you an opportunity to get and validate the user credentials before the code continues (it's black magic in how it works, but it's a very common workflow)</p>\n<pre><code>import java.awt.EventQueue;\nimport java.awt.Font;\nimport java.awt.GridBagConstraints;\nimport java.awt.GridBagLayout;\nimport java.awt.Insets;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport javax.swing.JButton;\nimport javax.swing.JDialog;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JOptionPane;\nimport javax.swing.JPanel;\nimport javax.swing.JPasswordField;\nimport javax.swing.JTextField;\nimport javax.swing.border.EmptyBorder;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                User user = LoginPane.showLoginDialog();\n\n                if (user != null) {\n                    JFrame frame = new JFrame();\n                    frame.add(new UserPane(user));\n                    frame.pack();\n                    frame.setLocationRelativeTo(null);\n                    frame.setVisible(true);\n                } else {\n                    // Well, you really don't know do you?  Did they cancel\n                    // the dialog or did authentication fail?\n                }\n            }\n        });\n    }\n\n    public interface User {\n        public String getName();\n    }\n\n    public static class DefaultUser implements User {\n        private String name;\n\n        public DefaultUser(String name) {\n            this.name = name;\n        }\n\n        @Override\n        public String getName() {\n            return name;\n        }\n    }\n\n    public static class LoginPane extends JPanel {\n        public interface AuthenticationListener {\n            public void authenticationWasSuccessful(User user);\n            public void authenticationDidFail();\n        }\n\n        private JTextField userTextField;\n        private JPasswordField passwordField;\n        private JButton loginButton;\n\n        private User user;\n\n        public LoginPane(AuthenticationListener listener) {\n            setBorder(new EmptyBorder(32, 32, 32, 32));\n            setLayout(new GridBagLayout());\n            GridBagConstraints gbc = new GridBagConstraints();\n            gbc.insets = new Insets(4, 4, 4, 4);\n            gbc.gridx = 0;\n            gbc.gridy = 0;\n            gbc.anchor = GridBagConstraints.EAST;\n            add(new JLabel(&quot;User name:&quot;), gbc);\n            gbc.gridy++;\n            add(new JLabel(&quot;Password:&quot;), gbc);\n\n            gbc.gridx++;\n            gbc.gridy = 0;\n            gbc.anchor = GridBagConstraints.WEST;\n\n            userTextField = new JTextField(12);\n            passwordField = new JPasswordField(12);\n\n            add(userTextField, gbc);\n            gbc.gridy++;\n            add(passwordField, gbc);\n\n            loginButton = new JButton(&quot;Login&quot;);\n\n            gbc.gridx = 0;\n            gbc.gridy++;\n            gbc.anchor = GridBagConstraints.CENTER;\n            gbc.gridwidth = GridBagConstraints.REMAINDER;\n            add(loginButton, gbc);\n\n            loginButton.addActionListener(new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    boolean accept = (boolean) (((int) Math.round(Math.random() * 1)) == 0 ? true : false);\n                    if (accept) {\n                        user = new DefaultUser(userTextField.getText());\n                        listener.authenticationWasSuccessful(user);\n                    } else {\n                        user = null;\n                        listener.authenticationDidFail();\n                    }\n                }\n            });\n        }\n\n        public User getUser() {\n            return user;\n        }\n\n        public static User showLoginDialog() {\n            JDialog dialog = new JDialog();\n            dialog.setTitle(&quot;Login&quot;);\n            dialog.setModal(true);\n\n            LoginPane loginPane = new LoginPane(new LoginPane.AuthenticationListener() {\n                @Override\n                public void authenticationWasSuccessful(User user) {\n                    dialog.dispose();\n                }\n\n                @Override\n                public void authenticationDidFail() {\n                    JOptionPane.showMessageDialog(dialog, &quot;Authentication failed&quot;, &quot;Error&quot;, JOptionPane.ERROR_MESSAGE);\n                }\n            });\n\n            dialog.add(loginPane);\n            dialog.pack();\n            dialog.setLocationRelativeTo(null);\n            dialog.setVisible(true);\n\n            return loginPane.getUser();\n        }\n    }\n\n    public class UserPane extends JPanel {\n        public UserPane(User user) {\n            setBorder(new EmptyBorder(32, 32, 32, 32));\n            JLabel label = new JLabel(&quot;Welcome!&quot;);\n            Font font = label.getFont();\n            label.setFont(font.deriveFont(Font.BOLD, 32));\n            setLayout(new GridBagLayout());\n            GridBagConstraints gbc = new GridBagConstraints();\n            gbc.gridwidth = gbc.REMAINDER;\n            add(label, gbc);\n\n            JLabel userLabel = new JLabel();\n            userLabel.setText(user.getName());\n            add(userLabel, gbc);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":20231120,"reputation":761,"user_id":14837632,"display_name":"Soccerball123"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1675029475,"creation_date":1675024030,"question_id":75278160,"body_markdown":"I&#39;m trying to create a login panel in Java Swing where the user will first get a screen that requires them to enter the credentials and if they match the correct credentials, they will be directed to another java GUI class called `UserManager`. I&#39;m not sure how I can set the current frame (of the login panel) to be false and the set the frame visible of the new panel that I want to switch to (the `UserManger` panel) to be true.\r\n\r\nHere is what I have so far but it&#39;s not working:\r\n\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    \r\n    import javax.swing.JOptionPane;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JTextField;\r\n    import javax.swing.JPasswordField;\r\n    import javax.swing.JButton;\r\n    \r\n    public class Main implements ActionListener {\r\n      private static JLabel label;\r\n      private static JTextField userText;\r\n      private static JLabel passwordLabel;\r\n      private static JPasswordField passwordText;\r\n      private static JButton button;\r\n      private static JLabel success;\r\n      private static boolean loggedIn = false;\r\n      \r\n      public static void main(String[] args) {\r\n        // JOptionPane.showMessageDialog(null, &quot;Login&quot;);\r\n        JFrame f = new JFrame();\r\n        JPanel panel = new JPanel();\r\n        f.setSize(100, 100);\r\n        f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        \r\n        f.add(panel);\r\n    \r\n        panel.setLayout(null);\r\n        // username text label\r\n        label = new JLabel(&quot;User&quot;);\r\n        label.setBounds(10, 20, 80, 25);\r\n        panel.add(label);\r\n    \r\n        userText = new JTextField(20);\r\n        userText.setBounds(100, 20, 165, 25);\r\n        panel.add(userText);\r\n    \r\n        // pasword label\r\n        passwordLabel = new JLabel(&quot;Password&quot;);\r\n        passwordLabel.setBounds(10, 50, 80, 25);\r\n        panel.add(passwordLabel);\r\n        \r\n        passwordText = new JPasswordField(20);\r\n        passwordText.setBounds(100, 50, 165, 25);\r\n        panel.add(passwordText);\r\n    \r\n        button = new JButton(&quot;Login&quot;);\r\n        button.setBounds(10, 80, 80, 25);\r\n        button.addActionListener(new Main());\r\n        panel.add(button);\r\n    \r\n        success = new JLabel(&quot;&quot;);\r\n        success.setBounds(10, 110, 300, 25);\r\n        panel.add(success);\r\n        \r\n    \r\n        f.setVisible(true);\r\n    \r\n    \r\n        if (loggedIn) {\r\n          UserManager frame = new UserManager();\r\n          f.setVisible(false);\r\n          frame.setVisible(true);\r\n        }\r\n        \r\n      }\r\n    \r\n      @Override\r\n      public void actionPerformed(ActionEvent e) {\r\n        String user = userText.getText();\r\n        String password = passwordText.getText();\r\n        System.out.println(user + &quot;, &quot; + password);\r\n    \r\n        if(user.equals(&quot;John&quot;) &amp;&amp; password.equals(&quot;hello&quot;)) {\r\n          success.setText(&quot;Login successful&quot;);\r\n          loggedIn = true;\r\n        }\r\n        else {\r\n          success.setText(&quot;Incorrect credentials.&quot;);\r\n        }\r\n      }\r\n    }","title":"How to set frame visibility conditionally in JSwing?","body":"<p>I'm trying to create a login panel in Java Swing where the user will first get a screen that requires them to enter the credentials and if they match the correct credentials, they will be directed to another java GUI class called <code>UserManager</code>. I'm not sure how I can set the current frame (of the login panel) to be false and the set the frame visible of the new panel that I want to switch to (the <code>UserManger</code> panel) to be true.</p>\n<p>Here is what I have so far but it's not working:</p>\n<pre><code>import java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\n\nimport javax.swing.JOptionPane;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.JLabel;\nimport javax.swing.JTextField;\nimport javax.swing.JPasswordField;\nimport javax.swing.JButton;\n\npublic class Main implements ActionListener {\n  private static JLabel label;\n  private static JTextField userText;\n  private static JLabel passwordLabel;\n  private static JPasswordField passwordText;\n  private static JButton button;\n  private static JLabel success;\n  private static boolean loggedIn = false;\n  \n  public static void main(String[] args) {\n    // JOptionPane.showMessageDialog(null, &quot;Login&quot;);\n    JFrame f = new JFrame();\n    JPanel panel = new JPanel();\n    f.setSize(100, 100);\n    f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    \n    f.add(panel);\n\n    panel.setLayout(null);\n    // username text label\n    label = new JLabel(&quot;User&quot;);\n    label.setBounds(10, 20, 80, 25);\n    panel.add(label);\n\n    userText = new JTextField(20);\n    userText.setBounds(100, 20, 165, 25);\n    panel.add(userText);\n\n    // pasword label\n    passwordLabel = new JLabel(&quot;Password&quot;);\n    passwordLabel.setBounds(10, 50, 80, 25);\n    panel.add(passwordLabel);\n    \n    passwordText = new JPasswordField(20);\n    passwordText.setBounds(100, 50, 165, 25);\n    panel.add(passwordText);\n\n    button = new JButton(&quot;Login&quot;);\n    button.setBounds(10, 80, 80, 25);\n    button.addActionListener(new Main());\n    panel.add(button);\n\n    success = new JLabel(&quot;&quot;);\n    success.setBounds(10, 110, 300, 25);\n    panel.add(success);\n    \n\n    f.setVisible(true);\n\n\n    if (loggedIn) {\n      UserManager frame = new UserManager();\n      f.setVisible(false);\n      frame.setVisible(true);\n    }\n    \n  }\n\n  @Override\n  public void actionPerformed(ActionEvent e) {\n    String user = userText.getText();\n    String password = passwordText.getText();\n    System.out.println(user + &quot;, &quot; + password);\n\n    if(user.equals(&quot;John&quot;) &amp;&amp; password.equals(&quot;hello&quot;)) {\n      success.setText(&quot;Login successful&quot;);\n      loggedIn = true;\n    }\n    else {\n      success.setText(&quot;Incorrect credentials.&quot;);\n    }\n  }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1638286724,"creation_date":1638286724,"answer_id":70172027,"question_id":70171912,"body_markdown":"You need to add `@Validate` to your `ABCProperties` as follows:\r\n```java\r\n@Data\r\n@Validated\r\n@Configuration\r\n@ConfigurationProperties(&quot;spring.security.oauth2.resourceserver&quot;)\r\npublic class ABCProperties {\r\n\r\n    @NotNull\r\n    private URI myProperty;\r\n}\r\n```\r\n\r\nAs a side note, as of Spring Boot 2.2, Spring finds and registers `@ConfigurationProperties` classes via classpath scanning. As a consequence, you do not need to annotate such classes with `@Component` or `@Configuration` or even use `@EnableConfigurationProperties`. If you are using a Spring Boot version that is newer than 2.2 you can remove `@Configuration` from your `ABCProperties` class.","title":"@NotNull constraint don&#39;t work for a application property value spring boot","body":"<p>You need to add <code>@Validate</code> to your <code>ABCProperties</code> as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@Validated\n@Configuration\n@ConfigurationProperties(&quot;spring.security.oauth2.resourceserver&quot;)\npublic class ABCProperties {\n\n    @NotNull\n    private URI myProperty;\n}\n</code></pre>\n<p>As a side note, as of Spring Boot 2.2, Spring finds and registers <code>@ConfigurationProperties</code> classes via classpath scanning. As a consequence, you do not need to annotate such classes with <code>@Component</code> or <code>@Configuration</code> or even use <code>@EnableConfigurationProperties</code>. If you are using a Spring Boot version that is newer than 2.2 you can remove <code>@Configuration</code> from your <code>ABCProperties</code> class.</p>\n"},{"tags":[],"owner":{"account_id":1010962,"reputation":776,"user_id":1023544,"accept_rate":89,"display_name":"ASten"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675028897,"creation_date":1675028897,"answer_id":75278625,"question_id":70171912,"body_markdown":"When you have nested objects which fields must be validated, you need add `@Valid` to that nested object class member declaration:\r\n\r\n    @Data\r\n    @Validated\r\n    @Configuration\r\n    @ConfigurationProperties(&quot;spring.security.oauth2.resourceserver&quot;)\r\n    public class ABCProperties {\r\n    \r\n        @Valid\r\n        private MyComplicatedProps myProperty;\r\n\r\n        @Data\r\n        public static class MyComplicatedProps {\r\n            @NotNull\r\n            private URI uri;\r\n    }","title":"@NotNull constraint don&#39;t work for a application property value spring boot","body":"<p>When you have nested objects which fields must be validated, you need add <code>@Valid</code> to that nested object class member declaration:</p>\n<pre><code>@Data\n@Validated\n@Configuration\n@ConfigurationProperties(&quot;spring.security.oauth2.resourceserver&quot;)\npublic class ABCProperties {\n\n    @Valid\n    private MyComplicatedProps myProperty;\n\n    @Data\n    public static class MyComplicatedProps {\n        @NotNull\n        private URI uri;\n}\n</code></pre>\n"}],"owner":{"account_id":2990507,"reputation":4955,"user_id":2538180,"accept_rate":53,"display_name":"emoleumassi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":942,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70172027,"answer_count":2,"score":2,"last_activity_date":1675028897,"creation_date":1638286310,"question_id":70171912,"body_markdown":"I want to prevent a NotNull value of a application property. \r\n\r\nIn my application.yml\r\n\r\n    spring:\r\n      security:\r\n        oauth2:\r\n          resourceserver:\r\n             my-property: classpath:a/b.json\r\n\r\nmy Property class:\r\n\r\n    @Data\r\n    @Configuration\r\n    @ConfigurationProperties(&quot;spring.security.oauth2.resourceserver&quot;)\r\n    public class ABCProperties {\r\n    \r\n        @NotNull\r\n        private URI myProperty\r\n\r\nWhen the value of application property is empty, i don&#39;t have a constraint violation exception. \r\n\r\nHow can i prevent that the value of application property is null?","title":"@NotNull constraint don&#39;t work for a application property value spring boot","body":"<p>I want to prevent a NotNull value of a application property.</p>\n<p>In my application.yml</p>\n<pre><code>spring:\n  security:\n    oauth2:\n      resourceserver:\n         my-property: classpath:a/b.json\n</code></pre>\n<p>my Property class:</p>\n<pre><code>@Data\n@Configuration\n@ConfigurationProperties(&quot;spring.security.oauth2.resourceserver&quot;)\npublic class ABCProperties {\n\n    @NotNull\n    private URI myProperty\n</code></pre>\n<p>When the value of application property is empty, i don't have a constraint violation exception.</p>\n<p>How can i prevent that the value of application property is null?</p>\n"},{"tags":["java","android","in-app-purchase","in-app-billing","in-app-subscription"],"comments":[{"owner":{"account_id":9172301,"reputation":4168,"user_id":6819340,"accept_rate":39,"display_name":"darshan"},"score":0,"creation_date":1675080050,"post_id":75278622,"comment_id":132844464,"body_markdown":"Afaik, this has been the intended behaviour from the beginning since the Google Play shows its own UI component to present the payment/purchase bottom sheet.","body":"Afaik, this has been the intended behaviour from the beginning since the Google Play shows its own UI component to present the payment/purchase bottom sheet."},{"owner":{"account_id":14049443,"reputation":19,"user_id":10148684,"display_name":"kouranyi"},"score":0,"creation_date":1675143223,"post_id":75278622,"comment_id":132859966,"body_markdown":"@Darshan yes, but it&#39;s supposed to be launched within the Activity or The fragment which starts the purchase flow. if you looked at the gif attached above you will notice that the bottom sheet doesn&#39;t appear in the same Activity (Subscription Activity).","body":"@Darshan yes, but it&#39;s supposed to be launched within the Activity or The fragment which starts the purchase flow. if you looked at the gif attached above you will notice that the bottom sheet doesn&#39;t appear in the same Activity (Subscription Activity)."}],"owner":{"account_id":14049443,"reputation":19,"user_id":10148684,"display_name":"kouranyi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":231,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675028882,"creation_date":1675028882,"question_id":75278622,"body_markdown":"Integrated the Google Play Billing Library version 5 into an existing application.\r\nwhen trying to start the purchase flow using launchBillingFlow() method and passing an instance of the current activity which is supposed to be the Activity from which the billing flow will be launched.\r\n`                billingManager.launchBillingFlow(activity,SKU);\r\n`\r\nwhat happends is that the purchase box doesn&#39;t lauch within the activity, what happens seems like a new fragment or activity is created and the purchase box is launched within that activity.\r\n\r\nI don&#39;t know why it&#39;s behave like that. when trying to inspect the layout through the LAYOUT INSPECTOR tool in android studio it shows a blank screen.\r\n[![enter image description here](https://i.stack.imgur.com/Q3QNY.png)](https://i.stack.imgur.com/Q3QNY.png)[![enter image description here](https://i.stack.imgur.com/0LjQM.png)](https://i.stack.imgur.com/0LjQM.png)\r\n[![enter image description here](https://i.stack.imgur.com/ocFR8.gif)](https://i.stack.imgur.com/ocFR8.gif)\r\n[![enter image description here](https://i.stack.imgur.com/q3kIf.jpg)](https://i.stack.imgur.com/q3kIf.jpg)\r\n[![enter image description here](https://i.stack.imgur.com/KjAz7.jpg)](https://i.stack.imgur.com/KjAz7.jpg)\r\n\r\nI created a bran new project and the same code works pretty well as expected.\r\nthat only happens when trying to integrate the feature to an existing application.\r\nI also created a brand new Activity within the existing application and made it the launcher activity to test the subscription button and the problem is still there.","title":"Google Play in-app purchase box doesn&#39;t launch within the context of the activity that starts the subscriptions flow, Android Billing Library V55","body":"<p>Integrated the Google Play Billing Library version 5 into an existing application.\nwhen trying to start the purchase flow using launchBillingFlow() method and passing an instance of the current activity which is supposed to be the Activity from which the billing flow will be launched.\n<code>               billingManager.launchBillingFlow(activity,SKU);</code>\nwhat happends is that the purchase box doesn't lauch within the activity, what happens seems like a new fragment or activity is created and the purchase box is launched within that activity.</p>\n<p>I don't know why it's behave like that. when trying to inspect the layout through the LAYOUT INSPECTOR tool in android studio it shows a blank screen.\n<a href=\"https://i.stack.imgur.com/Q3QNY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Q3QNY.png\" alt=\"enter image description here\" /></a><a href=\"https://i.stack.imgur.com/0LjQM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0LjQM.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/ocFR8.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ocFR8.gif\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/q3kIf.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/q3kIf.jpg\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/KjAz7.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KjAz7.jpg\" alt=\"enter image description here\" /></a></p>\n<p>I created a bran new project and the same code works pretty well as expected.\nthat only happens when trying to integrate the feature to an existing application.\nI also created a brand new Activity within the existing application and made it the launcher activity to test the subscription button and the problem is still there.</p>\n"},{"tags":["javascript","java","selenium","shadow-dom","shadow-root"],"answers":[{"tags":[],"owner":{"account_id":5613946,"reputation":499,"user_id":4445920,"display_name":"Manish"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674949781,"creation_date":1674949781,"answer_id":75271706,"question_id":75271675,"body_markdown":"You would need to use escape sequence in  `&quot;cookies&quot;`\r\nSee below\r\n\r\n    cookies = driver.executeScript(&quot;return document.querySelector(&#39;#usercentrics-root&#39;).shadowRoot.querySelector(\\&quot;cookies\\&quot;)&quot;);","title":"Selenium Java: Accept All Cookies in ShadowRoot","body":"<p>You would need to use escape sequence in  <code>&quot;cookies&quot;</code>\nSee below</p>\n<pre><code>cookies = driver.executeScript(&quot;return document.querySelector('#usercentrics-root').shadowRoot.querySelector(\\&quot;cookies\\&quot;)&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10476413,"reputation":11,"user_id":7722807,"display_name":"akansh singhal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674991287,"creation_date":1674991287,"answer_id":75274477,"question_id":75271675,"body_markdown":"You have to either use single quotes around cookie in js.executeScript method if your css selector is cookie not java variable. And Cookie defined above is WebElement which can not be directly used while calling executeScript method.\r\n\r\n    cookies = driver.executeScript(&quot;return document.querySelector(&#39;#usercentrics-root&#39;).querySelector(button[data-testid = &#39;uc-accept-all-button&#39;])&quot;);\r\n\r\nAnd this does not solve your problem, please explain your issue in details.","title":"Selenium Java: Accept All Cookies in ShadowRoot","body":"<p>You have to either use single quotes around cookie in js.executeScript method if your css selector is cookie not java variable. And Cookie defined above is WebElement which can not be directly used while calling executeScript method.</p>\n<pre><code>cookies = driver.executeScript(&quot;return document.querySelector('#usercentrics-root').querySelector(button[data-testid = 'uc-accept-all-button'])&quot;);\n</code></pre>\n<p>And this does not solve your problem, please explain your issue in details.</p>\n"},{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675028587,"creation_date":1675028587,"answer_id":75278602,"question_id":75271675,"body_markdown":"The element &lt;kbd&gt;Prihvatite sve&lt;/kbd&gt; button is within [**#shadow-root (open)**](https://stackoverflow.com/q/56380091/7429447)\r\n\r\n![usercentrics](https://i.stack.imgur.com/GGajq.png)\r\n\r\n\r\n----------\r\n\r\n\r\nSolution\r\n--------\r\nTo click on the desired element you need to use [querySelector()](https://stackoverflow.com/a/70198069/7429447) and you can use the following [locator strategies](https://stackoverflow.com/questions/48369043/official-locator-strategies-for-the-webdriver):\r\n\r\n\tdriver.get(&quot;https://www.dm.rs/?wt_mc=sea.google.ads_generic.15146192844.132927670207.558370268562&quot;);\r\n\tThread.sleep(5000);\r\n\tWebElement element = driver.findElement(By.cssSelector(&quot;#usercentrics-root&quot;));\r\n\tSearchContext context = element.getShadowRoot();\r\n\tWebElement cookieAcceptAll = context.findElement(By.cssSelector(&quot;button[data-testid=&#39;uc-accept-all-button&#39;]&quot;));\r\n\tcookieAcceptAll.click();\r\n\t\t\t\r\n\r\n\r\n----------\r\n\r\n\r\nReferences\r\n----------\r\nYou can find a couple of relevant detailed discussions in:\r\n\r\n- [How to automate shadow DOM elements using selenium?](https://stackoverflow.com/a/73242476/7429447)\r\n- [How to locate the First Name element within #shadow-root (open) using Selenium4 and Java](https://stackoverflow.com/a/73174561/7429447)","title":"Selenium Java: Accept All Cookies in ShadowRoot","body":"<p>The element <kbd>Prihvatite sve</kbd> button is within <a href=\"https://stackoverflow.com/q/56380091/7429447\"><strong>#shadow-root (open)</strong></a></p>\n<p><img src=\"https://i.stack.imgur.com/GGajq.png\" alt=\"usercentrics\" /></p>\n<hr />\n<h2>Solution</h2>\n<p>To click on the desired element you need to use <a href=\"https://stackoverflow.com/a/70198069/7429447\">querySelector()</a> and you can use the following <a href=\"https://stackoverflow.com/questions/48369043/official-locator-strategies-for-the-webdriver\">locator strategies</a>:</p>\n<pre><code>driver.get(&quot;https://www.dm.rs/?wt_mc=sea.google.ads_generic.15146192844.132927670207.558370268562&quot;);\nThread.sleep(5000);\nWebElement element = driver.findElement(By.cssSelector(&quot;#usercentrics-root&quot;));\nSearchContext context = element.getShadowRoot();\nWebElement cookieAcceptAll = context.findElement(By.cssSelector(&quot;button[data-testid='uc-accept-all-button']&quot;));\ncookieAcceptAll.click();\n        \n</code></pre>\n<hr />\n<h2>References</h2>\n<p>You can find a couple of relevant detailed discussions in:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/a/73242476/7429447\">How to automate shadow DOM elements using selenium?</a></li>\n<li><a href=\"https://stackoverflow.com/a/73174561/7429447\">How to locate the First Name element within #shadow-root (open) using Selenium4 and Java</a></li>\n</ul>\n"}],"owner":{"account_id":27289927,"reputation":1,"user_id":20808511,"display_name":"Milan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":182,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1675028825,"creation_date":1674949314,"question_id":75271675,"body_markdown":"This is my web address:\r\n\r\n[DM](https://www.dm.rs/?wt_mc=sea.google.ads_generic.15146192844.132927670207.558370268562) : \r\n\r\nThis is my locator for button accept all: \r\n```\r\n @FindBy( xpath = &quot;//button[@data-testid = &#39;uc-accept-all-button&#39;]&quot;)\r\n    WebElement cookies;\r\n```\r\nThis is HTML:\r\n\r\n![enter image description here](https://i.stack.imgur.com/PB2Q2.png)\r\n\r\nI use selenium 4 and Java. I try solution like this :\r\n```\r\npublic void acceptAllCookies( ) {\r\n\r\n        cookies = driver.executeScript(&quot;return document.querySelector(&#39;#usercentrics-root&#39;).shadowRoot.querySelector(&quot;cookies&quot;)&quot;);\r\n        cookies.click();\r\n    }\r\n```\r\nBut it does not work. I have error like this:\r\n\r\n![enter image description here](https://i.stack.imgur.com/F8eXd.png)\r\n\r\nAny help please. I am a beginner so i see this for first time\r\n\r\nI try to add more &quot; marks like in solution I find here but then I get whole executeScript like text.","title":"Selenium Java: Accept All Cookies in ShadowRoot","body":"<p>This is my web address:</p>\n<p><a href=\"https://www.dm.rs/?wt_mc=sea.google.ads_generic.15146192844.132927670207.558370268562\" rel=\"nofollow noreferrer\">DM</a> :</p>\n<p>This is my locator for button accept all:</p>\n<pre><code> @FindBy( xpath = &quot;//button[@data-testid = 'uc-accept-all-button']&quot;)\n    WebElement cookies;\n</code></pre>\n<p>This is HTML:</p>\n<p><img src=\"https://i.stack.imgur.com/PB2Q2.png\" alt=\"enter image description here\" /></p>\n<p>I use selenium 4 and Java. I try solution like this :</p>\n<pre><code>public void acceptAllCookies( ) {\n\n        cookies = driver.executeScript(&quot;return document.querySelector('#usercentrics-root').shadowRoot.querySelector(&quot;cookies&quot;)&quot;);\n        cookies.click();\n    }\n</code></pre>\n<p>But it does not work. I have error like this:</p>\n<p><img src=\"https://i.stack.imgur.com/F8eXd.png\" alt=\"enter image description here\" /></p>\n<p>Any help please. I am a beginner so i see this for first time</p>\n<p>I try to add more &quot; marks like in solution I find here but then I get whole executeScript like text.</p>\n"},{"tags":["java","proguard","google-play-console","android-studio-4.1"],"owner":{"account_id":9301106,"reputation":161,"user_id":6906562,"display_name":"Araz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675027964,"creation_date":1675027964,"question_id":75278545,"body_markdown":"It has been the 3rd day that I am struggling with progourd! I am new to this and I just wanted to upload my signed bundle to Play console. I encountered these two major issues 1&amp;2:\r\n\r\n**1- The most basic function not working !** \r\n\r\n-After a lot of frustration I found out bugs generated in my code was due the bundle making process :\r\na) I unzipped the app-release.aab and noticed the png files in the drawable folder are all corrupted! which consequentially were causing my app not to be able to do one of its main functions!\r\nb) Some of libraries were not accessible or working at all causing crashes! \r\n- you might know how difficult it is to debug an app that is uploaded to play console so the work Around (PROOF) was tht I simply set inside grdleBuild:\r\n`ShrinkResources = false` and all the above started to work fine after downloading from playstore! and I checked the bundle before uploading it (by 7zip app) and the png files were okay there.\r\n\r\n**2- The poor documentation !!**\r\n- For the last two days I have been looking around to stackOverflow and proguard own website looking for solutions and yet I have not been able to found anything useful\r\na) I learnt that I needed to exclude this resources from being shrink but I could not find any clear samples saying how can I do that! I tried many different ways but they did not work, \r\nthese are few of latest tries! but non has worked so far \r\ninside the progaurd-rules.pro I typed these\r\n\r\n   \r\n\r\n        -keepclassmembers class android.R.drawable.* {*;}\r\n        -keep class com.isseiaoki.simplecropview.* {*;}\r\n        -keep class com.myprojectname.myname.R.*\r\n        -keepdirectories libs/jdom-1.0.jar\r\n        -keep libs/geonames-1.1.15.jar\r\n        -keepdirectories &lt;java.home&gt;/libs/geonames-1.1.15.jar\r\n        -dontshrink src/main/res/drawable\r\n\r\nALL I NEED TO DO IS TO EXCLUDE THESE FROM BEING SHRANK OR Obfuscation\r\n\r\nCan anyone please help me by providing sample code? I do not get the syntax of all these very clearly ","title":"Progaurd corrupts my png files and disables my libraries files","body":"<p>It has been the 3rd day that I am struggling with progourd! I am new to this and I just wanted to upload my signed bundle to Play console. I encountered these two major issues 1&amp;2:</p>\n<p><strong>1- The most basic function not working !</strong></p>\n<p>-After a lot of frustration I found out bugs generated in my code was due the bundle making process :\na) I unzipped the app-release.aab and noticed the png files in the drawable folder are all corrupted! which consequentially were causing my app not to be able to do one of its main functions!\nb) Some of libraries were not accessible or working at all causing crashes!</p>\n<ul>\n<li>you might know how difficult it is to debug an app that is uploaded to play console so the work Around (PROOF) was tht I simply set inside grdleBuild:\n<code>ShrinkResources = false</code> and all the above started to work fine after downloading from playstore! and I checked the bundle before uploading it (by 7zip app) and the png files were okay there.</li>\n</ul>\n<p><strong>2- The poor documentation !!</strong></p>\n<ul>\n<li><p>For the last two days I have been looking around to stackOverflow and proguard own website looking for solutions and yet I have not been able to found anything useful\na) I learnt that I needed to exclude this resources from being shrink but I could not find any clear samples saying how can I do that! I tried many different ways but they did not work,\nthese are few of latest tries! but non has worked so far\ninside the progaurd-rules.pro I typed these</p>\n<pre><code>  -keepclassmembers class android.R.drawable.* {*;}\n  -keep class com.isseiaoki.simplecropview.* {*;}\n  -keep class com.myprojectname.myname.R.*\n  -keepdirectories libs/jdom-1.0.jar\n  -keep libs/geonames-1.1.15.jar\n  -keepdirectories &lt;java.home&gt;/libs/geonames-1.1.15.jar\n  -dontshrink src/main/res/drawable\n</code></pre>\n</li>\n</ul>\n<p>ALL I NEED TO DO IS TO EXCLUDE THESE FROM BEING SHRANK OR Obfuscation</p>\n<p>Can anyone please help me by providing sample code? I do not get the syntax of all these very clearly</p>\n"},{"tags":["java","algorithm","data-structures","linked-list"],"answers":[{"tags":[],"owner":{"account_id":13306260,"reputation":81,"user_id":9605929,"display_name":"user9605929"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675027503,"creation_date":1674979453,"answer_id":75273419,"question_id":75273327,"body_markdown":"The first while ends when\r\n\r\n            if(slow == fast){\r\n                Cycle =true;\r\n               break;\r\n            }\r\n\r\nThen\r\n\r\n        slow = Head;\r\n\r\ndoesnt change anything, in this case (3-&gt;4-&gt;5-&gt;6) slow is already head, slow==fast is still true and the following while is never entered\r\n \r\n        Node prev=null;  //to track previous of fast\r\n            while(slow != fast){\r\n                 prev = fast;\r\n                 slow = slow.next;\r\n                 fast = fast.next;  //speed is same as slow now\r\n             }\r\n             prev.next =null;  \r\n\r\nmeaning that prev is null when you try to assign prev.next.\r\n\r\nEdit:\r\n\r\nThe reason that your code won&#39;t work without the dummy in trincots answer is that when there are no elements that are not part of the circle, then the first while stops when slow==fast==Head, meaning that the next-reference to head is lost. Using the dummy, slow==fast at the element before head (in case there are no non-circular elements, otherwise earlier), so that prev.next can be reassigned to null. And, there&#39;s no risk that the second while is skipped. (This can also be avoided by using a do-while.)","title":"Error in tracking lastNode at removing the Cycle of Nodes in LinkedLIst in java","body":"<p>The first while ends when</p>\n<pre><code>        if(slow == fast){\n            Cycle =true;\n           break;\n        }\n</code></pre>\n<p>Then</p>\n<pre><code>    slow = Head;\n</code></pre>\n<p>doesnt change anything, in this case (3-&gt;4-&gt;5-&gt;6) slow is already head, slow==fast is still true and the following while is never entered</p>\n<pre><code>    Node prev=null;  //to track previous of fast\n        while(slow != fast){\n             prev = fast;\n             slow = slow.next;\n             fast = fast.next;  //speed is same as slow now\n         }\n         prev.next =null;  \n</code></pre>\n<p>meaning that prev is null when you try to assign prev.next.</p>\n<p>Edit:</p>\n<p>The reason that your code won't work without the dummy in trincots answer is that when there are no elements that are not part of the circle, then the first while stops when slow==fast==Head, meaning that the next-reference to head is lost. Using the dummy, slow==fast at the element before head (in case there are no non-circular elements, otherwise earlier), so that prev.next can be reassigned to null. And, there's no risk that the second while is skipped. (This can also be avoided by using a do-while.)</p>\n"},{"tags":[],"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674988507,"creation_date":1674988507,"answer_id":75274217,"question_id":75273327,"body_markdown":"Your algorithm works for breaking cycles anywhere, except when the cycle includes the head node. \r\n\r\nTo solve this you could temporarily prefix a dummy node before the head, use the algorithm on this longer list, and then omit that dummy node again.\r\n\r\nThe below code is your code except for the lines that reference `dummy`:\r\n\r\n```\r\n    public static int removeCycle() {\r\n        Node dummy = new Node(0); \r\n        dummy.next = Head; // Prefix a dummy node before the head node\r\n        Node slow = dummy; // Apply the algorithm on this longer list\r\n        Node fast = dummy;\r\n        boolean Cycle = false;\r\n\r\n        while(fast !=null &amp;&amp; fast.next != null){\r\n            slow = slow.next;\r\n            fast = fast.next.next;\r\n            count++;\r\n            if(slow == fast){\r\n                Cycle =true;\r\n               break;\r\n            }\r\n        }\r\n        if(Cycle == false){\r\n            return 0;\r\n        }\r\n        \r\n\r\n        slow = dummy;  // Start at the temporary head\r\n        Node prev=null;\r\n        while(slow != fast){\r\n            prev = fast;\r\n            slow = slow.next;\r\n            fast = fast.next;\r\n        }\r\n        prev.next =null;\r\n        return 1;\r\n    }\r\n```\r\n\r\nNote that in your main program you should not try to print the data of a `null` reference. Just print the `next` property that is expected to be `null`:\r\n\r\n```\r\n        System.out.println(Head.next.next.next.next);\r\n```\r\n\r\nBecause the dummy node is not referenced by anything else than a local variable, it can be garbage collected after `removeCycle` returns.","title":"Error in tracking lastNode at removing the Cycle of Nodes in LinkedLIst in java","body":"<p>Your algorithm works for breaking cycles anywhere, except when the cycle includes the head node.</p>\n<p>To solve this you could temporarily prefix a dummy node before the head, use the algorithm on this longer list, and then omit that dummy node again.</p>\n<p>The below code is your code except for the lines that reference <code>dummy</code>:</p>\n<pre><code>    public static int removeCycle() {\n        Node dummy = new Node(0); \n        dummy.next = Head; // Prefix a dummy node before the head node\n        Node slow = dummy; // Apply the algorithm on this longer list\n        Node fast = dummy;\n        boolean Cycle = false;\n\n        while(fast !=null &amp;&amp; fast.next != null){\n            slow = slow.next;\n            fast = fast.next.next;\n            count++;\n            if(slow == fast){\n                Cycle =true;\n               break;\n            }\n        }\n        if(Cycle == false){\n            return 0;\n        }\n        \n\n        slow = dummy;  // Start at the temporary head\n        Node prev=null;\n        while(slow != fast){\n            prev = fast;\n            slow = slow.next;\n            fast = fast.next;\n        }\n        prev.next =null;\n        return 1;\n    }\n</code></pre>\n<p>Note that in your main program you should not try to print the data of a <code>null</code> reference. Just print the <code>next</code> property that is expected to be <code>null</code>:</p>\n<pre><code>        System.out.println(Head.next.next.next.next);\n</code></pre>\n<p>Because the dummy node is not referenced by anything else than a local variable, it can be garbage collected after <code>removeCycle</code> returns.</p>\n"}],"owner":{"account_id":26291330,"reputation":17,"user_id":19958316,"display_name":"SBM"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75274217,"answer_count":2,"score":0,"last_activity_date":1675027503,"creation_date":1674978157,"question_id":75273327,"body_markdown":"\r\nI created some Nodes with lastNode pointing head.\r\nIn removeCycle method Firstly detected the lastNode and then got error, when I try to make lastNode(i,e prev).next = null\r\n\r\n```\r\npublic class loopsRemove {\r\n    public static class Node{\r\n        int data;\r\n        Node next;\r\n\r\n        public Node(int data){\r\n            this.data = data;\r\n            this.next = null;\r\n        }\r\n    }\r\n\r\n    public static Node Head;\r\n    public static Node Tail;\r\n    public static int count =0;\r\n\r\n   \r\n    public static int removeCycle(){\r\n        Node slow = Head;\r\n        Node fast = Head;\r\n          boolean Cycle = false;\r\n    \r\n\r\n        while(fast !=null &amp;&amp; fast.next != null){\r\n            slow = slow.next;\r\n            fast = fast.next.next;\r\n            count++;\r\n            if(slow == fast){\r\n                Cycle =true;\r\n               break;\r\n            }\r\n        }\r\n        if(Cycle == false){\r\n            return 0;  //No Cycle and come out of function (int type is just to observe where function is returning\r\n        }\r\n        \r\n\r\n        slow = Head;\r\n        Node prev=null;  //to track previous of fast\r\n        while(slow != fast){\r\n            prev = fast;\r\n            slow = slow.next;\r\n            fast = fast.next;  //speed is same as slow now\r\n        }\r\n        prev.next =null;  //Making endNode.next to null\r\n        return 1;   //int return is just to check weather my code is returning here or above\r\n    }\r\n \r\n    public static void main(String[] args) {\r\n        Head = new Node(3); \r\n        Head.next = new Node(4);\r\n        Head.next.next = new Node(5);\r\n        Head.next.next.next = new Node(6);\r\n        Head.next.next.next.next = Head;  //cycle formed\r\n        System.out.println(removeCycle());\r\n\r\n       \r\n        System.out.println(Head.next.next.next.next.data); // null is expected at the last node if removeCycle works correctly\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nExpected output:\r\n1\r\nnull\r\n\r\ncurrent output :\r\nException in thread &quot;main&quot; java.lang.NullPointerException: Cannot assign field &quot;next&quot; because &quot;prev&quot; is null\r\n        at loopsRemove.removeCycle(loopsRemove.java:44)\r\n        at loopsRemove.main(loopsRemove.java:55)\r\n\r\n","title":"Error in tracking lastNode at removing the Cycle of Nodes in LinkedLIst in java","body":"<p>I created some Nodes with lastNode pointing head.\nIn removeCycle method Firstly detected the lastNode and then got error, when I try to make lastNode(i,e prev).next = null</p>\n<pre><code>public class loopsRemove {\n    public static class Node{\n        int data;\n        Node next;\n\n        public Node(int data){\n            this.data = data;\n            this.next = null;\n        }\n    }\n\n    public static Node Head;\n    public static Node Tail;\n    public static int count =0;\n\n   \n    public static int removeCycle(){\n        Node slow = Head;\n        Node fast = Head;\n          boolean Cycle = false;\n    \n\n        while(fast !=null &amp;&amp; fast.next != null){\n            slow = slow.next;\n            fast = fast.next.next;\n            count++;\n            if(slow == fast){\n                Cycle =true;\n               break;\n            }\n        }\n        if(Cycle == false){\n            return 0;  //No Cycle and come out of function (int type is just to observe where function is returning\n        }\n        \n\n        slow = Head;\n        Node prev=null;  //to track previous of fast\n        while(slow != fast){\n            prev = fast;\n            slow = slow.next;\n            fast = fast.next;  //speed is same as slow now\n        }\n        prev.next =null;  //Making endNode.next to null\n        return 1;   //int return is just to check weather my code is returning here or above\n    }\n \n    public static void main(String[] args) {\n        Head = new Node(3); \n        Head.next = new Node(4);\n        Head.next.next = new Node(5);\n        Head.next.next.next = new Node(6);\n        Head.next.next.next.next = Head;  //cycle formed\n        System.out.println(removeCycle());\n\n       \n        System.out.println(Head.next.next.next.next.data); // null is expected at the last node if removeCycle works correctly\n    }\n}\n</code></pre>\n<p>Expected output:\n1\nnull</p>\n<p>current output :\nException in thread &quot;main&quot; java.lang.NullPointerException: Cannot assign field &quot;next&quot; because &quot;prev&quot; is null\nat loopsRemove.removeCycle(loopsRemove.java:44)\nat loopsRemove.main(loopsRemove.java:55)</p>\n"},{"tags":["java","maven","intellij-idea","classpath"],"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":1,"creation_date":1674986816,"post_id":75268491,"comment_id":132827552,"body_markdown":"The environment variable CLASSPATH is just one of several ways to specify the classpath of a java application. Other possibilities are the `-cp` argument to the `java` command or an special file in a .jar file. When using build tools like Ant, Maven or Gradle these have specific ways of adding dependencies to a projects classpath too.","body":"The environment variable CLASSPATH is just one of several ways to specify the classpath of a java application. Other possibilities are the <code>-cp</code> argument to the <code>java</code> command or an special file in a .jar file. When using build tools like Ant, Maven or Gradle these have specific ways of adding dependencies to a projects classpath too."},{"owner":{"account_id":2090997,"reputation":840,"user_id":7516740,"display_name":"elvis"},"score":0,"creation_date":1675001460,"post_id":75268491,"comment_id":132829991,"body_markdown":"@ThomasKl&#228;ger thank you for response! Do you want to say that if I have for example a Maven project order-service, inside the JAR of order-service there will be a file with the classpath of this order-service?","body":"@ThomasKl&#228;ger thank you for response! Do you want to say that if I have for example a Maven project order-service, inside the JAR of order-service there will be a file with the classpath of this order-service?"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1675012397,"post_id":75268491,"comment_id":132832155,"body_markdown":"By default maven does not add that entry into the manifest file of the generated jar, but you can instruct it to do so (https://maven.apache.org/shared/maven-archiver/index.html#manifest, element &quot;addClasspath&quot;)","body":"By default maven does not add that entry into the manifest file of the generated jar, but you can instruct it to do so (<a href=\"https://maven.apache.org/shared/maven-archiver/index.html#manifest\" rel=\"nofollow noreferrer\">maven.apache.org/shared/maven-archiver/index.html#manifest</a>, element &quot;addClasspath&quot;)"},{"owner":{"account_id":2090997,"reputation":840,"user_id":7516740,"display_name":"elvis"},"score":0,"creation_date":1675019988,"post_id":75268491,"comment_id":132833689,"body_markdown":"Ok, but if I don&#39;t instruct maven to addClasspath, my project will not have a classpath? I found this BOOT-INF/lib in the MANIFEST/MF. And inside this BOOT-INF/lib are all the JARs used by the project. Isn&#39;t it the classpath?","body":"Ok, but if I don&#39;t instruct maven to addClasspath, my project will not have a classpath? I found this BOOT-INF/lib in the MANIFEST/MF. And inside this BOOT-INF/lib are all the JARs used by the project. Isn&#39;t it the classpath?"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1675030249,"post_id":75268491,"comment_id":132835404,"body_markdown":"I&#39;ve added my reply as an answer. Basically when you write about &quot;the classpath&quot; you usually mean the classpath as defined by the &quot;CLASSPATH&quot; environment variable or as defined by the &quot;-cp&quot; command line argument. Spring Boot brings its own class loading mechanism that loads classes from outside of what you specify with &quot;the classpath&quot; - it is some kind of &quot;spring boot specific class path&quot; that &quot;pure Java&quot; doesn&#39;t understand out of the box.","body":"I&#39;ve added my reply as an answer. Basically when you write about &quot;the classpath&quot; you usually mean the classpath as defined by the &quot;CLASSPATH&quot; environment variable or as defined by the &quot;-cp&quot; command line argument. Spring Boot brings its own class loading mechanism that loads classes from outside of what you specify with &quot;the classpath&quot; - it is some kind of &quot;spring boot specific class path&quot; that &quot;pure Java&quot; doesn&#39;t understand out of the box."}],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674924539,"creation_date":1674924539,"answer_id":75269259,"question_id":75268491,"body_markdown":"The IDE puts &#39;Maven Dependancies&#39; on the class path.\r\n\r\nWhen a jar is built for deployment Maven puts all the listed dependencies in the jar file it builds. Java knows how to read this info and put the right locations on the classpath.\r\n\r\nThe locations of jars are listed in the `META-INF\\MANIFEST.MF`\r\n\r\n    Manifest-Version: 1.0\r\n    Created-By: Maven JAR Plugin 3.2.2\r\n    Build-Jdk-Spec: 11\r\n    Main-Class: org.springframework.boot.loader.JarLauncher\r\n    Start-Class: com.altron.ne.SpringBootApp\r\n    Spring-Boot-Version: 2.7.2\r\n    Spring-Boot-Classes: BOOT-INF/classes/\r\n    Spring-Boot-Lib: BOOT-INF/lib/\r\n    Spring-Boot-Classpath-Index: BOOT-INF/classpath.idx\r\n    Spring-Boot-Layers-Index: BOOT-INF/layers.idx\r\n\r\nIn this case (Spring Boot application) the dependency jars are all in `BOOT-INF/lib/` within the main jar file.\r\n\r\n","title":"Why projects work properly without setting classpath environment variable?","body":"<p>The IDE puts 'Maven Dependancies' on the class path.</p>\n<p>When a jar is built for deployment Maven puts all the listed dependencies in the jar file it builds. Java knows how to read this info and put the right locations on the classpath.</p>\n<p>The locations of jars are listed in the <code>META-INF\\MANIFEST.MF</code></p>\n<pre><code>Manifest-Version: 1.0\nCreated-By: Maven JAR Plugin 3.2.2\nBuild-Jdk-Spec: 11\nMain-Class: org.springframework.boot.loader.JarLauncher\nStart-Class: com.altron.ne.SpringBootApp\nSpring-Boot-Version: 2.7.2\nSpring-Boot-Classes: BOOT-INF/classes/\nSpring-Boot-Lib: BOOT-INF/lib/\nSpring-Boot-Classpath-Index: BOOT-INF/classpath.idx\nSpring-Boot-Layers-Index: BOOT-INF/layers.idx\n</code></pre>\n<p>In this case (Spring Boot application) the dependency jars are all in <code>BOOT-INF/lib/</code> within the main jar file.</p>\n"},{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675027413,"creation_date":1675027413,"answer_id":75278486,"question_id":75268491,"body_markdown":"The classpath is a feature of the JVM (actually: the built-in `ClassLoader`s) that allows you to specify where Java (without any extensions) should load classes from: a list of .jar files that contain classes and a list of directories that contain classes.\r\n\r\nWhen you start a Java application with\r\n\r\n    java -jar yourapp.jar\r\n\r\nthe classpath (as defined either through the environment variable &quot;CLASSPATH&quot; or through the command line argument &quot;-cp&quot;) is ignored.\r\n\r\nInstead of that, Java reads the file &quot;META-INF/MANIFEST.MF&quot; and uses two attributes from that file:\r\n\r\n* `Class-Path` contains the list of jar files and directories to read class files from\r\n* `Main-Class` contains the name of the class that contains the `public static void main(String... args)` method\r\n\r\nSpring Boot is a special case because it brings its own `ClassLoader` implementation that loads additional classes not from Javas classpath.\r\n\r\nIn a Spring Boot application only the &quot;Main-Class&quot; attribute is set, meaning that only classes directly contained in the jar are on the classpath. Among these classes is a Spring Boot specific `ClassLoader` (the `LaunchedURLClassLoader`) and it is this special ClassLoader the interprets the &quot;Spring-Boot-Classes&quot; and &quot;Spring-Boot-Lib&quot; attributes.\r\n\r\nUsing this method allows Spring Boot to package all dependencies into a single &quot;yourapp.jar&quot; file - something that Java doesn&#39;t support out-of-the-box.","title":"Why projects work properly without setting classpath environment variable?","body":"<p>The classpath is a feature of the JVM (actually: the built-in <code>ClassLoader</code>s) that allows you to specify where Java (without any extensions) should load classes from: a list of .jar files that contain classes and a list of directories that contain classes.</p>\n<p>When you start a Java application with</p>\n<pre><code>java -jar yourapp.jar\n</code></pre>\n<p>the classpath (as defined either through the environment variable &quot;CLASSPATH&quot; or through the command line argument &quot;-cp&quot;) is ignored.</p>\n<p>Instead of that, Java reads the file &quot;META-INF/MANIFEST.MF&quot; and uses two attributes from that file:</p>\n<ul>\n<li><code>Class-Path</code> contains the list of jar files and directories to read class files from</li>\n<li><code>Main-Class</code> contains the name of the class that contains the <code>public static void main(String... args)</code> method</li>\n</ul>\n<p>Spring Boot is a special case because it brings its own <code>ClassLoader</code> implementation that loads additional classes not from Javas classpath.</p>\n<p>In a Spring Boot application only the &quot;Main-Class&quot; attribute is set, meaning that only classes directly contained in the jar are on the classpath. Among these classes is a Spring Boot specific <code>ClassLoader</code> (the <code>LaunchedURLClassLoader</code>) and it is this special ClassLoader the interprets the &quot;Spring-Boot-Classes&quot; and &quot;Spring-Boot-Lib&quot; attributes.</p>\n<p>Using this method allows Spring Boot to package all dependencies into a single &quot;yourapp.jar&quot; file - something that Java doesn't support out-of-the-box.</p>\n"}],"owner":{"account_id":2090997,"reputation":840,"user_id":7516740,"display_name":"elvis"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":223,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1675027413,"creation_date":1674917391,"question_id":75268491,"body_markdown":"I try to understand what CLASSPATH does for Java and Spring Boot projects. And I see that it is am environment variable and it is used to provide the root of any package hierarchy to java compiler.\r\nBut I didn&#39;t set this CLASSPATH, it&#39;s missing from environment variables and the projects are working properly. I set only the PATH environment variable and I put the location of jdk/bin.\r\n\r\nOn the other hand, I&#39;m working now at a multimodule Maven project on Intellij, and for example if I try to use the class ObjectMapper in a module where I don&#39;t have the dependency it says: \r\n\r\n    Cannot resolve symbol &#39;ObjectMapper&#39;\r\n    \r\n    Add library &#39;Maven com.fasterxml.jackson.core:jackson-databind.2.13.1&#39; to classpath\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NE1jn.jpg\r\n\r\nAnd when I click it, it adds the jackson-databind dependency in the pom.xml at this modul.\r\nSo in this case it seems that classpath refers to the pom.xml, not an environment variable. Are these different types of classpath? And why my projects are working properly without having the classpath environment variable? Thank you!","title":"Why projects work properly without setting classpath environment variable?","body":"<p>I try to understand what CLASSPATH does for Java and Spring Boot projects. And I see that it is am environment variable and it is used to provide the root of any package hierarchy to java compiler.\nBut I didn't set this CLASSPATH, it's missing from environment variables and the projects are working properly. I set only the PATH environment variable and I put the location of jdk/bin.</p>\n<p>On the other hand, I'm working now at a multimodule Maven project on Intellij, and for example if I try to use the class ObjectMapper in a module where I don't have the dependency it says:</p>\n<pre><code>Cannot resolve symbol 'ObjectMapper'\n\nAdd library 'Maven com.fasterxml.jackson.core:jackson-databind.2.13.1' to classpath\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/NE1jn.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NE1jn.jpg\" alt=\"enter image description here\" /></a></p>\n<p>And when I click it, it adds the jackson-databind dependency in the pom.xml at this modul.\nSo in this case it seems that classpath refers to the pom.xml, not an environment variable. Are these different types of classpath? And why my projects are working properly without having the classpath environment variable? Thank you!</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675027286,"creation_date":1675027286,"answer_id":75278474,"question_id":75278247,"body_markdown":"In the Package Exporer or Navigator tab (right hand panel) right-click on the class that contains `public static void main` and choose Run as &gt;&gt; Java application.\r\n\r\nWhen you have done that successfully you can run with the run button.","title":"Pet BAG Assignment(Class file in Java)-Cannot run the program in Eclipse IDE through apporto","body":"<p>In the Package Exporer or Navigator tab (right hand panel) right-click on the class that contains <code>public static void main</code> and choose Run as &gt;&gt; Java application.</p>\n<p>When you have done that successfully you can run with the run button.</p>\n"}],"owner":{"account_id":26764295,"reputation":1,"user_id":20361709,"display_name":"Dreemzie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":405,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675027286,"creation_date":1675024978,"question_id":75278247,"body_markdown":"[The image is the error message i get as well as showing the eclipse IDE][1]The problem I am having is I cant get my code to run through the eclipse IDE each time I click run it doesn&#39;t run and just gives me an error message &quot;The selection cannot be launched, and there are no recent launches.&quot; I am trying to create a PET class file through java. \r\nhere is the code for my assignment:\r\n\r\n\r\n```\r\nimport java.util.Scanner;\r\nimport java.util.Dictionary;\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\npublic class Pet {\r\nprivate String petType;\r\nprivate String petName;\r\nprivate int petAge;\r\nprivate Map&lt;Pet, Integer&gt; dogSpace; // contains the Pet and days it is staying\r\nprivate Map&lt;Pet, Integer&gt; catSpace; // same but for cats\r\n\r\nprivate int daysStay;\r\npublic double amountDue;\r\n\r\n\r\n/**\r\n* Pet, base class for Dog and Cat\r\n* @param String name - Name of the Pet\r\n* @param int age - Age of the Pet\r\n* @param String type - Cat | Dog\r\n*/\r\npublic Pet(String name, int age, String type) {\r\nthis.petName = name;\r\nthis.petAge = age;\r\nthis.petType = type;\r\nthis.dogSpace = new HashMap&lt;Pet, Integer&gt;(); // use a hashmap to keep track of pets in the shelter\r\nthis.catSpace = new HashMap&lt;Pet, Integer&gt;(); // the Pet object is the key, and the days they are staying is the value.\r\n}\r\n\r\npublic void checkIn(Pet pet) {\r\nScanner in = new Scanner(System.in);\r\nSystem.out.println(&quot;How many days will your &quot; + this.petType + &quot; be staying?&quot;);\r\nint days = (int) in.nextInt();\r\nthis.daysStay = days;\r\n\r\nswitch(this.petType) {\r\ncase &quot;Dog&quot;:\r\nif(days &gt; 1) {\r\nSystem.out.println(&quot;Do you require grooming services?&quot;);\r\nString needsGrooming = in.next();\r\nboolean grooming;\r\nif(needsGrooming.equals(&quot;yes&quot;) || needsGrooming.equals(&quot;y&quot;)) {\r\nSystem.out.println(&quot;We will groom your dog...\\n&quot;);\r\ngrooming = true;\r\n}\r\nelse {\r\ngrooming = false;\r\n}\r\nthis.checkInDog((Dog) pet, days, grooming); // handle the special dog cases\r\n}\r\nelse {\r\nthis.checkInDog((Dog) pet, days, false);\r\n}\r\nbreak;\r\ncase &quot;Cat&quot;:\r\nif(this.catSpace.size() &lt; 12) {\r\nthis.catSpace.put(pet, days);\r\n}\r\nbreak;\r\ndefault: // Throw an exception if a pet other than a Cat | Dog is booked.\r\nin.close(); // Close the scanner before exiting.\r\nthrow new RuntimeException(&quot;Sorry, we only accept cats and dogs&quot;);\r\n}\r\nin.close(); // Close the scanner when there is no exceptin thrown.\r\n}\r\n\r\n/**\r\n* Contains extra steps for checking in a dog.\r\n* @param pet - The dog object.\r\n* @param days - Number of days staying.\r\n* @param grooming - Whether or not the dog needs grooming.\r\n*/\r\nprivate void checkInDog(Dog pet, int days, boolean grooming) {\r\npet.setGrooming(grooming);\r\n\r\ntry {\r\nif(this.dogSpace.size() &lt; 30) { // Enforce the maximum of 30 dogs in the shelter.\r\nthis.dogSpace.put(pet, days);\r\npet.dogSpaceNbr = this.dogSpace.size() + 1;\r\npet.setDaysStay(days);\r\n}\r\n}\r\ncatch (Exception e) { // For some Map objects, calling size() on an empty collection can throw an error.\r\nSystem.out.println(&quot;You&#39;re our first visitor!&quot;);\r\nSystem.out.print(pet);\r\nthis.dogSpace.put(pet, days);\r\npet.dogSpaceNbr = 1;\r\n}\r\nSystem.out.println(&quot;&quot; + pet.getPetName() + &quot; will miss you, but is in good hands.&quot;);\r\n}\r\n\r\n/**\r\n* Check out the desired Pet and calculate how much is owed for the boarding.\r\n* @param pet - The pet you wish the check-out.\r\n* @return amountDue - The amount of money owed for the boarding.\r\n*/\r\npublic double checkOut(Pet pet) {\r\ndouble fee;\r\n\r\nif(pet.getPetType() == &quot;Dog&quot;) {\r\ndouble groomingfee = 0.0;\r\n\r\nDog animal = (Dog) pet;\r\nint days = this.dogSpace.remove(pet);\r\ndouble weight = animal.getDogWeight();\r\nif(weight &lt; 20) {\r\nfee = 24.00;\r\nif(animal.getGrooming()) {\r\ngroomingfee = 19.95;\r\n}\r\n} else if (weight &gt; 20 &amp;&amp; weight &lt; 30) {\r\nfee = 29.00;\r\nif(animal.getGrooming()) {\r\ngroomingfee = 24.95;\r\n}\r\n} else {\r\nfee = 34.00;\r\nif(animal.getGrooming()) {\r\ngroomingfee = 29.95;\r\n}\r\n}\r\nSystem.out.println(&quot;Fee Schedule:\\n Boarding Fee: &quot; + (fee*days) + &quot;\\nGrooming Fee: &quot; + groomingfee);\r\nanimal.amountDue = (fee * days) + groomingfee;\r\nreturn animal.amountDue;\r\n}\r\nelse {\r\nint days = this.catSpace.remove(pet);\r\nfee = 18.00;\r\npet.amountDue = (fee * days);\r\nreturn pet.amountDue;\r\n}\r\n}\r\n\r\npublic Pet getPet(Pet pet) { // Not sure why we need this.\r\nreturn pet;\r\n}\r\n\r\npublic Pet createPet(String name, int age, String type) {\r\nswitch(type) {\r\ncase &quot;Dog&quot;:\r\nreturn new Dog(name, age);\r\ncase &quot;Cat&quot;:\r\nreturn new Pet(name, age, &quot;Cat&quot;); // I have implemented the dog class, not the cat.\r\ndefault:\r\nthrow new Error(&quot;Only Dogs and Cats can stay at this facility.&quot;);\r\n}\r\n}\r\n\r\n/**\r\n* Asks the user to fill in all of the attributes of a pet. Saves them directly to the object it was called on.\r\n* @param pet - The pet you wish to update information on.\r\n*/\r\npublic void updatePet(Pet pet) {\r\nScanner in = new Scanner(System.in);\r\nSystem.out.println(&quot;What is the pets new name?&quot;);\r\npet.setPetName(in.next());\r\nSystem.out.println(&quot;What is the pets age?&quot;);\r\npet.setPetAge(in.nextInt());\r\nSystem.out.println(&quot;What type of animal is your pet?&quot;);\r\npet.setPetType(in.next());\r\nin.close();\r\n}\r\n\r\npublic String getPetName() {\r\nreturn this.petName;\r\n}\r\n\r\npublic int getPetAge() {\r\nreturn this.petAge;\r\n}\r\n\r\npublic String getPetType() {\r\nreturn this.petType;\r\n}\r\n\r\npublic void setPetName(String name) {\r\nthis.petName = name;\r\n}\r\n\r\npublic void setPetAge(int age) {\r\nthis.petAge = age;\r\n}\r\n\r\npublic void setPetType(String type) {\r\nswitch(type) { // while a switch is extra here, it will make it easier to add other pets.\r\ncase &quot;Dog&quot;:\r\nthis.petType = type;\r\nbreak;\r\ncase &quot;Cat&quot;:\r\nthis.petType = type;\r\nbreak;\r\n}\r\n}\r\n\r\npublic void setDaysStay(int days) {\r\nthis.daysStay = days;\r\n}\r\n}\r\n\r\npublic class Dog extends Pet {\r\npublic int dogSpaceNbr;\r\nprivate double dogWeight;\r\nprivate boolean grooming;\r\n\r\npublic Dog(String name, int age) { // automatically declares a pet of type Dog\r\nsuper(name, age, &quot;Dog&quot;); // super is used to call the parent classes constructor\r\n}\r\n\r\npublic double getDogWeight() {\r\nreturn this.dogWeight;\r\n}\r\n\r\npublic boolean getGrooming() {\r\nreturn this.grooming;\r\n}\r\n\r\npublic void setDogWeight(double weight) {\r\nthis.dogWeight = (double) weight; // casting a double here might be redundant, but it helps us to be sure\r\n} // we don&#39;t get at type error\r\n\r\npublic void setGrooming(boolean value) {\r\nthis.grooming = value;\r\n}\r\n}\r\n\r\npublic class Cat extends Pet {\r\nprivate int catSpaceNbr; // The number space the cat is in.\r\n\r\npublic Cat(String name, int age) { // automatically declares a pet of type Cat\r\nsuper(name, age, &quot;Cat&quot;); // Calls the constructor of the parent class\r\n}\r\n\r\npublic int getCatSpace() {\r\nreturn this.catSpaceNbr;\r\n}\r\n\r\npublic void setCatSpace(int number) {\r\nthis.catSpaceNbr = number;\r\n}\r\n}type here\r\n```\r\nI haven&#39;t tried much to fix the issue besides look up videos and now reach out for help just not sure what to do. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/axT7c.png","title":"Pet BAG Assignment(Class file in Java)-Cannot run the program in Eclipse IDE through apporto","body":"<p><a href=\"https://i.stack.imgur.com/axT7c.png\" rel=\"nofollow noreferrer\">The image is the error message i get as well as showing the eclipse IDE</a>The problem I am having is I cant get my code to run through the eclipse IDE each time I click run it doesn't run and just gives me an error message &quot;The selection cannot be launched, and there are no recent launches.&quot; I am trying to create a PET class file through java.\nhere is the code for my assignment:</p>\n<pre><code>import java.util.Scanner;\nimport java.util.Dictionary;\nimport java.util.HashMap;\nimport java.util.Map;\n\npublic class Pet {\nprivate String petType;\nprivate String petName;\nprivate int petAge;\nprivate Map&lt;Pet, Integer&gt; dogSpace; // contains the Pet and days it is staying\nprivate Map&lt;Pet, Integer&gt; catSpace; // same but for cats\n\nprivate int daysStay;\npublic double amountDue;\n\n\n/**\n* Pet, base class for Dog and Cat\n* @param String name - Name of the Pet\n* @param int age - Age of the Pet\n* @param String type - Cat | Dog\n*/\npublic Pet(String name, int age, String type) {\nthis.petName = name;\nthis.petAge = age;\nthis.petType = type;\nthis.dogSpace = new HashMap&lt;Pet, Integer&gt;(); // use a hashmap to keep track of pets in the shelter\nthis.catSpace = new HashMap&lt;Pet, Integer&gt;(); // the Pet object is the key, and the days they are staying is the value.\n}\n\npublic void checkIn(Pet pet) {\nScanner in = new Scanner(System.in);\nSystem.out.println(&quot;How many days will your &quot; + this.petType + &quot; be staying?&quot;);\nint days = (int) in.nextInt();\nthis.daysStay = days;\n\nswitch(this.petType) {\ncase &quot;Dog&quot;:\nif(days &gt; 1) {\nSystem.out.println(&quot;Do you require grooming services?&quot;);\nString needsGrooming = in.next();\nboolean grooming;\nif(needsGrooming.equals(&quot;yes&quot;) || needsGrooming.equals(&quot;y&quot;)) {\nSystem.out.println(&quot;We will groom your dog...\\n&quot;);\ngrooming = true;\n}\nelse {\ngrooming = false;\n}\nthis.checkInDog((Dog) pet, days, grooming); // handle the special dog cases\n}\nelse {\nthis.checkInDog((Dog) pet, days, false);\n}\nbreak;\ncase &quot;Cat&quot;:\nif(this.catSpace.size() &lt; 12) {\nthis.catSpace.put(pet, days);\n}\nbreak;\ndefault: // Throw an exception if a pet other than a Cat | Dog is booked.\nin.close(); // Close the scanner before exiting.\nthrow new RuntimeException(&quot;Sorry, we only accept cats and dogs&quot;);\n}\nin.close(); // Close the scanner when there is no exceptin thrown.\n}\n\n/**\n* Contains extra steps for checking in a dog.\n* @param pet - The dog object.\n* @param days - Number of days staying.\n* @param grooming - Whether or not the dog needs grooming.\n*/\nprivate void checkInDog(Dog pet, int days, boolean grooming) {\npet.setGrooming(grooming);\n\ntry {\nif(this.dogSpace.size() &lt; 30) { // Enforce the maximum of 30 dogs in the shelter.\nthis.dogSpace.put(pet, days);\npet.dogSpaceNbr = this.dogSpace.size() + 1;\npet.setDaysStay(days);\n}\n}\ncatch (Exception e) { // For some Map objects, calling size() on an empty collection can throw an error.\nSystem.out.println(&quot;You're our first visitor!&quot;);\nSystem.out.print(pet);\nthis.dogSpace.put(pet, days);\npet.dogSpaceNbr = 1;\n}\nSystem.out.println(&quot;&quot; + pet.getPetName() + &quot; will miss you, but is in good hands.&quot;);\n}\n\n/**\n* Check out the desired Pet and calculate how much is owed for the boarding.\n* @param pet - The pet you wish the check-out.\n* @return amountDue - The amount of money owed for the boarding.\n*/\npublic double checkOut(Pet pet) {\ndouble fee;\n\nif(pet.getPetType() == &quot;Dog&quot;) {\ndouble groomingfee = 0.0;\n\nDog animal = (Dog) pet;\nint days = this.dogSpace.remove(pet);\ndouble weight = animal.getDogWeight();\nif(weight &lt; 20) {\nfee = 24.00;\nif(animal.getGrooming()) {\ngroomingfee = 19.95;\n}\n} else if (weight &gt; 20 &amp;&amp; weight &lt; 30) {\nfee = 29.00;\nif(animal.getGrooming()) {\ngroomingfee = 24.95;\n}\n} else {\nfee = 34.00;\nif(animal.getGrooming()) {\ngroomingfee = 29.95;\n}\n}\nSystem.out.println(&quot;Fee Schedule:\\n Boarding Fee: &quot; + (fee*days) + &quot;\\nGrooming Fee: &quot; + groomingfee);\nanimal.amountDue = (fee * days) + groomingfee;\nreturn animal.amountDue;\n}\nelse {\nint days = this.catSpace.remove(pet);\nfee = 18.00;\npet.amountDue = (fee * days);\nreturn pet.amountDue;\n}\n}\n\npublic Pet getPet(Pet pet) { // Not sure why we need this.\nreturn pet;\n}\n\npublic Pet createPet(String name, int age, String type) {\nswitch(type) {\ncase &quot;Dog&quot;:\nreturn new Dog(name, age);\ncase &quot;Cat&quot;:\nreturn new Pet(name, age, &quot;Cat&quot;); // I have implemented the dog class, not the cat.\ndefault:\nthrow new Error(&quot;Only Dogs and Cats can stay at this facility.&quot;);\n}\n}\n\n/**\n* Asks the user to fill in all of the attributes of a pet. Saves them directly to the object it was called on.\n* @param pet - The pet you wish to update information on.\n*/\npublic void updatePet(Pet pet) {\nScanner in = new Scanner(System.in);\nSystem.out.println(&quot;What is the pets new name?&quot;);\npet.setPetName(in.next());\nSystem.out.println(&quot;What is the pets age?&quot;);\npet.setPetAge(in.nextInt());\nSystem.out.println(&quot;What type of animal is your pet?&quot;);\npet.setPetType(in.next());\nin.close();\n}\n\npublic String getPetName() {\nreturn this.petName;\n}\n\npublic int getPetAge() {\nreturn this.petAge;\n}\n\npublic String getPetType() {\nreturn this.petType;\n}\n\npublic void setPetName(String name) {\nthis.petName = name;\n}\n\npublic void setPetAge(int age) {\nthis.petAge = age;\n}\n\npublic void setPetType(String type) {\nswitch(type) { // while a switch is extra here, it will make it easier to add other pets.\ncase &quot;Dog&quot;:\nthis.petType = type;\nbreak;\ncase &quot;Cat&quot;:\nthis.petType = type;\nbreak;\n}\n}\n\npublic void setDaysStay(int days) {\nthis.daysStay = days;\n}\n}\n\npublic class Dog extends Pet {\npublic int dogSpaceNbr;\nprivate double dogWeight;\nprivate boolean grooming;\n\npublic Dog(String name, int age) { // automatically declares a pet of type Dog\nsuper(name, age, &quot;Dog&quot;); // super is used to call the parent classes constructor\n}\n\npublic double getDogWeight() {\nreturn this.dogWeight;\n}\n\npublic boolean getGrooming() {\nreturn this.grooming;\n}\n\npublic void setDogWeight(double weight) {\nthis.dogWeight = (double) weight; // casting a double here might be redundant, but it helps us to be sure\n} // we don't get at type error\n\npublic void setGrooming(boolean value) {\nthis.grooming = value;\n}\n}\n\npublic class Cat extends Pet {\nprivate int catSpaceNbr; // The number space the cat is in.\n\npublic Cat(String name, int age) { // automatically declares a pet of type Cat\nsuper(name, age, &quot;Cat&quot;); // Calls the constructor of the parent class\n}\n\npublic int getCatSpace() {\nreturn this.catSpaceNbr;\n}\n\npublic void setCatSpace(int number) {\nthis.catSpaceNbr = number;\n}\n}type here\n</code></pre>\n<p>I haven't tried much to fix the issue besides look up videos and now reach out for help just not sure what to do.</p>\n"},{"tags":["java","spring-boot","hibernate","jpa","jpql"],"comments":[{"owner":{"account_id":12107061,"reputation":2953,"user_id":8845480,"display_name":"sm3sher"},"score":0,"creation_date":1675025327,"post_id":75278196,"comment_id":132834647,"body_markdown":"Does your `TimeSlot` class define a matching constructor for `t_start` and `t_end`?","body":"Does your <code>TimeSlot</code> class define a matching constructor for <code>t_start</code> and <code>t_end</code>?"},{"owner":{"account_id":22257965,"reputation":59,"user_id":16489856,"display_name":"Centuri0n"},"score":0,"creation_date":1675025631,"post_id":75278196,"comment_id":132834710,"body_markdown":"Yes, I use Lombok annotations for that.","body":"Yes, I use Lombok annotations for that."}],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675026862,"creation_date":1675025402,"answer_id":75278292,"question_id":75278196,"body_markdown":"The `@Query` isnt the correct SQL for calling stored proc, it doesnt like the `new`, try:\r\n\r\n    @Query(value=CALL getFirstNAvailableSlots(:N,:t_start,:t_end,:cpu,:max_reservable_cpu), nativeQuery = true)","title":"Mapping function result set into List of Pojos with JPA","body":"<p>The <code>@Query</code> isnt the correct SQL for calling stored proc, it doesnt like the <code>new</code>, try:</p>\n<pre><code>@Query(value=CALL getFirstNAvailableSlots(:N,:t_start,:t_end,:cpu,:max_reservable_cpu), nativeQuery = true)\n</code></pre>\n"}],"owner":{"account_id":22257965,"reputation":59,"user_id":16489856,"display_name":"Centuri0n"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":209,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675026862,"creation_date":1675024430,"question_id":75278196,"body_markdown":"I have the following PostgreSQL function:\r\n```\r\nCREATE OR REPLACE FUNCTION getFirstNAvailableSlots(N INTEGER, timestamp_start TIMESTAMP, timestamp_end TIMESTAMP,\r\ncpu INTEGER, max_reservable_cpu INTEGER)\r\nreturns TABLE (t_start TIMESTAMP, t_end TIMESTAMP)\r\n```\r\nI would like to call the function, and automatically map the result set into a List of TimeSlots:\r\n```\r\npublic class TimeSlot {\r\n\r\n    private Timestamp t_start;\r\n    private Timestamp t_end;\r\n}\r\n```\r\nSo I added a Query in a repository:\r\n```\r\npublic interface WorkstationReservationRepository extends ReservationBaseRepository&lt;WorkstationReservation&gt;{\r\n\r\n    @Query(value=&quot;SELECT new com.warden.reservationmicroservice.dtos.TimeSlot(t_start,t_end) FROM getFirstNAvailableSlots(:N,:t_start,:t_end,:cpu,:max_reservable_cpu)&quot;)\r\n    public List&lt;TimeSlot&gt; getFirstNAvailableSlots(@Param(&quot;N&quot;)int N, @Param(&quot;t_start&quot;)Timestamp t_start, @Param(&quot;t_end&quot;)Timestamp t_end, @Param(&quot;cpu&quot;) int cpu, @Param(&quot;max_reservable_cpu&quot;)int max_reservable_cpu);\r\n\r\n}\r\n```\r\nHowever, I get the following error:\r\n\r\n&gt; Caused by: java.lang.IllegalArgumentException: Validation failed for\r\n&gt; query for method public abstract\r\n&gt; com.warden.reservationmicroservice.dtos.TimeSlot\r\n&gt; com.warden.reservationmicroservice.repositories.WorkstationReservationRepository.getFirstNAvailableSlots(int,java.sql.Timestamp,java.sql.Timestamp,int,int)\r\n&gt; \tat\r\n&gt; org.springframework.data.jpa.repository.query.SimpleJpaQuery.validateQuery(SimpleJpaQuery.java:100)\r\n&gt; ~[spring-data-jpa-3.0.0.jar:3.0.0] \tat\r\n&gt; org.springframework.data.jpa.repository.query.SimpleJpaQuery.&lt;init&gt;(SimpleJpaQuery.java:70)\r\n&gt; ~[spring-data-jpa-3.0.0.jar:3.0.0] \tat\r\n&gt; org.springframework.data.jpa.repository.query.JpaQueryFactory.fromMethodWithQueryString(JpaQueryFactory.java:55)\r\n&gt; ~[spring-data-jpa-3.0.0.jar:3.0.0] \tat\r\n&gt; org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$DeclaredQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:170)\r\n&gt; ~[spring-data-jpa-3.0.0.jar:3.0.0] \tat\r\n&gt; org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateIfNotFoundQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:252)\r\n&gt; ~[spring-data-jpa-3.0.0.jar:3.0.0] \tat\r\n&gt; org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:95)\r\n&gt; ~[spring-data-jpa-3.0.0.jar:3.0.0] \tat\r\n&gt; org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:111)\r\n&gt; ~[spring-data-commons-3.0.0.jar:3.0.0] \t... 56 common frames omitted\r\n&gt; Caused by: java.lang.IllegalArgumentException:\r\n&gt; org.hibernate.query.sqm.ParsingException: line 1:104 mismatched input\r\n&gt; &#39;(&#39; expecting {&lt;EOF&gt;, &#39;,&#39;, &#39;.&#39;, ID, VERSION, VERSIONED, NATURALID,\r\n&gt; ALL, AND, ANY, AS, ASC, AVG, BETWEEN, BOTH, BY, CASE, CAST, COLLATE,\r\n&gt; COUNT, CROSS, CUBE, CURRENT, CURRENT_DATE, CURRENT_INSTANT,\r\n&gt; CURRENT_TIME, CURRENT_TIMESTAMP, DATE, DATETIME, DAY, DELETE, DESC,\r\n&gt; DISTINCT, ELEMENT, ELEMENTS, ELSE, EMPTY, END, ENTRY, ERROR, ESCAPE,\r\n&gt; EVERY, EXCEPT, EXCLUDE, EXISTS, EXTRACT, FETCH, FILTER, FIRST,\r\n&gt; FOLLOWING, FOR, FORMAT, FROM, FULL, FUNCTION, GROUP, GROUPS, HAVING,\r\n&gt; HOUR, IGNORE, ILIKE, IN, INDEX, INDICES, INNER, INSERT, INSTANT,\r\n&gt; INTERSECT, INTO, IS, JOIN, KEY, LAST, LEADING, LEFT, LIKE, LIMIT,\r\n&gt; LIST, LISTAGG, LOCAL, LOCAL_DATE, LOCAL_DATETIME, LOCAL_TIME, MAP,\r\n&gt; MAX, MAXELEMENT, MAXINDEX, MEMBER, MICROSECOND, MILLISECOND, MIN,\r\n&gt; MINELEMENT, MININDEX, MINUTE, MONTH, NANOSECOND, NEW, NEXT, NO, NOT,\r\n&gt; NULLS, OBJECT, OF, OFFSET, OFFSET_DATETIME, ON, ONLY, OR, ORDER,\r\n&gt; OTHERS, OUTER, OVER, OVERFLOW, OVERLAY, PAD, PARTITION, PERCENT,\r\n&gt; PLACING, POSITION, PRECEDING, QUARTER, RANGE, RESPECT, RIGHT, ROLLUP,\r\n&gt; ROW, ROWS, SECOND, SELECT, SET, SIZE, SOME, SUBSTRING, SUM, THEN,\r\n&gt; TIES, TIME, TIMESTAMP, TIMEZONE_HOUR, TIMEZONE_MINUTE, TRAILING,\r\n&gt; TREAT, TRIM, TRUNCATE, TYPE, UNBOUNDED, UNION, UPDATE, VALUE, VALUES,\r\n&gt; WEEK, WHEN, WHERE, WITH, WITHIN, WITHOUT, YEAR, IDENTIFIER,\r\n&gt; QUOTED_IDENTIFIER} \tat\r\n&gt; org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:147)\r\n&gt; ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final] \tat\r\n&gt; org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:175)\r\n&gt; ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final] \tat\r\n&gt; org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:182)\r\n&gt; ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final] \tat\r\n&gt; org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:760)\r\n&gt; ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final] \tat\r\n&gt; org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:662)\r\n&gt; ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final] \tat\r\n&gt; org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:126)\r\n&gt; ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final] \tat\r\n&gt; java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n&gt; ~[na:na] \tat\r\n&gt; java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\r\n&gt; \tat\r\n&gt; org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:360)\r\n&gt; ~[spring-orm-6.0.3.jar:6.0.3] \tat\r\n&gt; jdk.proxy2/jdk.proxy2.$Proxy113.createQuery(Unknown Source) ~[na:na]\r\n&gt; \tat\r\n&gt; org.springframework.data.jpa.repository.query.SimpleJpaQuery.validateQuery(SimpleJpaQuery.java:94)\r\n&gt; ~[spring-data-jpa-3.0.0.jar:3.0.0] \t... 62 common frames omitted\r\n&gt; Caused by: org.hibernate.query.sqm.ParsingException: line 1:104\r\n&gt; mismatched input &#39;(&#39; expecting {&lt;EOF&gt;, &#39;,&#39;, &#39;.&#39;, ID, VERSION,\r\n&gt; VERSIONED, NATURALID, ALL, AND, ANY, AS, ASC, AVG, BETWEEN, BOTH, BY,\r\n&gt; CASE, CAST, COLLATE, COUNT, CROSS, CUBE, CURRENT, CURRENT_DATE,\r\n&gt; CURRENT_INSTANT, CURRENT_TIME, CURRENT_TIMESTAMP, DATE, DATETIME, DAY,\r\n&gt; DELETE, DESC, DISTINCT, ELEMENT, ELEMENTS, ELSE, EMPTY, END, ENTRY,\r\n&gt; ERROR, ESCAPE, EVERY, EXCEPT, EXCLUDE, EXISTS, EXTRACT, FETCH, FILTER,\r\n&gt; FIRST, FOLLOWING, FOR, FORMAT, FROM, FULL, FUNCTION, GROUP, GROUPS,\r\n&gt; HAVING, HOUR, IGNORE, ILIKE, IN, INDEX, INDICES, INNER, INSERT,\r\n&gt; INSTANT, INTERSECT, INTO, IS, JOIN, KEY, LAST, LEADING, LEFT, LIKE,\r\n&gt; LIMIT, LIST, LISTAGG, LOCAL, LOCAL_DATE, LOCAL_DATETIME, LOCAL_TIME,\r\n&gt; MAP, MAX, MAXELEMENT, MAXINDEX, MEMBER, MICROSECOND, MILLISECOND, MIN,\r\n&gt; MINELEMENT, MININDEX, MINUTE, MONTH, NANOSECOND, NEW, NEXT, NO, NOT,\r\n&gt; NULLS, OBJECT, OF, OFFSET, OFFSET_DATETIME, ON, ONLY, OR, ORDER,\r\n&gt; OTHERS, OUTER, OVER, OVERFLOW, OVERLAY, PAD, PARTITION, PERCENT,\r\n&gt; PLACING, POSITION, PRECEDING, QUARTER, RANGE, RESPECT, RIGHT, ROLLUP,\r\n&gt; ROW, ROWS, SECOND, SELECT, SET, SIZE, SOME, SUBSTRING, SUM, THEN,\r\n&gt; TIES, TIME, TIMESTAMP, TIMEZONE_HOUR, TIMEZONE_MINUTE, TRAILING,\r\n&gt; TREAT, TRIM, TRUNCATE, TYPE, UNBOUNDED, UNION, UPDATE, VALUE, VALUES,\r\n&gt; WEEK, WHEN, WHERE, WITH, WITHIN, WITHOUT, YEAR, IDENTIFIER,\r\n&gt; QUOTED_IDENTIFIER} \tat\r\n&gt; org.hibernate.query.hql.internal.StandardHqlTranslator$1.syntaxError(StandardHqlTranslator.java:46)\r\n&gt; ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final] \tat\r\n&gt; org.antlr.v4.runtime.ProxyErrorListener.syntaxError(ProxyErrorListener.java:41)\r\n&gt; ~[antlr4-runtime-4.10.1.jar:4.10.1] \tat\r\n&gt; org.antlr.v4.runtime.Parser.notifyErrorListeners(Parser.java:543)\r\n&gt; ~[antlr4-runtime-4.10.1.jar:4.10.1] \tat\r\n&gt; org.antlr.v4.runtime.DefaultErrorStrategy.reportInputMismatch(DefaultErrorStrategy.java:327)\r\n&gt; ~[antlr4-runtime-4.10.1.jar:4.10.1] \tat\r\n&gt; org.antlr.v4.runtime.DefaultErrorStrategy.reportError(DefaultErrorStrategy.java:139)\r\n&gt; ~[antlr4-runtime-4.10.1.jar:4.10.1] \tat\r\n&gt; org.hibernate.grammars.hql.HqlParser.statement(HqlParser.java:343)\r\n&gt; ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final] \tat\r\n&gt; org.hibernate.query.hql.internal.StandardHqlTranslator.parseHql(StandardHqlTranslator.java:127)\r\n&gt; ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final] \tat\r\n&gt; org.hibernate.query.hql.internal.StandardHqlTranslator.translate(StandardHqlTranslator.java:77)\r\n&gt; ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final] \tat\r\n&gt; org.hibernate.internal.AbstractSharedSessionContract.lambda$createQuery$2(AbstractSharedSessionContract.java:747)\r\n&gt; ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final] \tat\r\n&gt; org.hibernate.query.internal.QueryInterpretationCacheStandardImpl.createHqlInterpretation(QueryInterpretationCacheStandardImpl.java:141)\r\n&gt; ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final] \tat\r\n&gt; org.hibernate.query.internal.QueryInterpretationCacheStandardImpl.resolveHqlInterpretation(QueryInterpretationCacheStandardImpl.java:128)\r\n&gt; ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final] \tat\r\n&gt; org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:744)\r\n&gt; ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final] \t... 69 common frames\r\n&gt; omitted\r\n&gt; \r\n&gt; \r\n&gt; Process finished with exit code 1","title":"Mapping function result set into List of Pojos with JPA","body":"<p>I have the following PostgreSQL function:</p>\n<pre><code>CREATE OR REPLACE FUNCTION getFirstNAvailableSlots(N INTEGER, timestamp_start TIMESTAMP, timestamp_end TIMESTAMP,\ncpu INTEGER, max_reservable_cpu INTEGER)\nreturns TABLE (t_start TIMESTAMP, t_end TIMESTAMP)\n</code></pre>\n<p>I would like to call the function, and automatically map the result set into a List of TimeSlots:</p>\n<pre><code>public class TimeSlot {\n\n    private Timestamp t_start;\n    private Timestamp t_end;\n}\n</code></pre>\n<p>So I added a Query in a repository:</p>\n<pre><code>public interface WorkstationReservationRepository extends ReservationBaseRepository&lt;WorkstationReservation&gt;{\n\n    @Query(value=&quot;SELECT new com.warden.reservationmicroservice.dtos.TimeSlot(t_start,t_end) FROM getFirstNAvailableSlots(:N,:t_start,:t_end,:cpu,:max_reservable_cpu)&quot;)\n    public List&lt;TimeSlot&gt; getFirstNAvailableSlots(@Param(&quot;N&quot;)int N, @Param(&quot;t_start&quot;)Timestamp t_start, @Param(&quot;t_end&quot;)Timestamp t_end, @Param(&quot;cpu&quot;) int cpu, @Param(&quot;max_reservable_cpu&quot;)int max_reservable_cpu);\n\n}\n</code></pre>\n<p>However, I get the following error:</p>\n<blockquote>\n<p>Caused by: java.lang.IllegalArgumentException: Validation failed for\nquery for method public abstract\ncom.warden.reservationmicroservice.dtos.TimeSlot\ncom.warden.reservationmicroservice.repositories.WorkstationReservationRepository.getFirstNAvailableSlots(int,java.sql.Timestamp,java.sql.Timestamp,int,int)\nat\norg.springframework.data.jpa.repository.query.SimpleJpaQuery.validateQuery(SimpleJpaQuery.java:100)\n~[spring-data-jpa-3.0.0.jar:3.0.0]    at\norg.springframework.data.jpa.repository.query.SimpleJpaQuery.(SimpleJpaQuery.java:70)\n~[spring-data-jpa-3.0.0.jar:3.0.0]    at\norg.springframework.data.jpa.repository.query.JpaQueryFactory.fromMethodWithQueryString(JpaQueryFactory.java:55)\n~[spring-data-jpa-3.0.0.jar:3.0.0]    at\norg.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$DeclaredQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:170)\n~[spring-data-jpa-3.0.0.jar:3.0.0]    at\norg.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateIfNotFoundQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:252)\n~[spring-data-jpa-3.0.0.jar:3.0.0]    at\norg.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:95)\n~[spring-data-jpa-3.0.0.jar:3.0.0]    at\norg.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:111)\n~[spring-data-commons-3.0.0.jar:3.0.0]    ... 56 common frames omitted\nCaused by: java.lang.IllegalArgumentException:\norg.hibernate.query.sqm.ParsingException: line 1:104 mismatched input\n'(' expecting {, ',', '.', ID, VERSION, VERSIONED, NATURALID,\nALL, AND, ANY, AS, ASC, AVG, BETWEEN, BOTH, BY, CASE, CAST, COLLATE,\nCOUNT, CROSS, CUBE, CURRENT, CURRENT_DATE, CURRENT_INSTANT,\nCURRENT_TIME, CURRENT_TIMESTAMP, DATE, DATETIME, DAY, DELETE, DESC,\nDISTINCT, ELEMENT, ELEMENTS, ELSE, EMPTY, END, ENTRY, ERROR, ESCAPE,\nEVERY, EXCEPT, EXCLUDE, EXISTS, EXTRACT, FETCH, FILTER, FIRST,\nFOLLOWING, FOR, FORMAT, FROM, FULL, FUNCTION, GROUP, GROUPS, HAVING,\nHOUR, IGNORE, ILIKE, IN, INDEX, INDICES, INNER, INSERT, INSTANT,\nINTERSECT, INTO, IS, JOIN, KEY, LAST, LEADING, LEFT, LIKE, LIMIT,\nLIST, LISTAGG, LOCAL, LOCAL_DATE, LOCAL_DATETIME, LOCAL_TIME, MAP,\nMAX, MAXELEMENT, MAXINDEX, MEMBER, MICROSECOND, MILLISECOND, MIN,\nMINELEMENT, MININDEX, MINUTE, MONTH, NANOSECOND, NEW, NEXT, NO, NOT,\nNULLS, OBJECT, OF, OFFSET, OFFSET_DATETIME, ON, ONLY, OR, ORDER,\nOTHERS, OUTER, OVER, OVERFLOW, OVERLAY, PAD, PARTITION, PERCENT,\nPLACING, POSITION, PRECEDING, QUARTER, RANGE, RESPECT, RIGHT, ROLLUP,\nROW, ROWS, SECOND, SELECT, SET, SIZE, SOME, SUBSTRING, SUM, THEN,\nTIES, TIME, TIMESTAMP, TIMEZONE_HOUR, TIMEZONE_MINUTE, TRAILING,\nTREAT, TRIM, TRUNCATE, TYPE, UNBOUNDED, UNION, UPDATE, VALUE, VALUES,\nWEEK, WHEN, WHERE, WITH, WITHIN, WITHOUT, YEAR, IDENTIFIER,\nQUOTED_IDENTIFIER}    at\norg.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:147)\n~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]     at\norg.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:175)\n~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]     at\norg.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:182)\n~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]     at\norg.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:760)\n~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]     at\norg.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:662)\n~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]     at\norg.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:126)\n~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]     at\njava.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n~[na:na]  at\njava.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\nat\norg.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:360)\n~[spring-orm-6.0.3.jar:6.0.3]     at\njdk.proxy2/jdk.proxy2.$Proxy113.createQuery(Unknown Source) ~[na:na]\nat\norg.springframework.data.jpa.repository.query.SimpleJpaQuery.validateQuery(SimpleJpaQuery.java:94)\n~[spring-data-jpa-3.0.0.jar:3.0.0]    ... 62 common frames omitted\nCaused by: org.hibernate.query.sqm.ParsingException: line 1:104\nmismatched input '(' expecting {, ',', '.', ID, VERSION,\nVERSIONED, NATURALID, ALL, AND, ANY, AS, ASC, AVG, BETWEEN, BOTH, BY,\nCASE, CAST, COLLATE, COUNT, CROSS, CUBE, CURRENT, CURRENT_DATE,\nCURRENT_INSTANT, CURRENT_TIME, CURRENT_TIMESTAMP, DATE, DATETIME, DAY,\nDELETE, DESC, DISTINCT, ELEMENT, ELEMENTS, ELSE, EMPTY, END, ENTRY,\nERROR, ESCAPE, EVERY, EXCEPT, EXCLUDE, EXISTS, EXTRACT, FETCH, FILTER,\nFIRST, FOLLOWING, FOR, FORMAT, FROM, FULL, FUNCTION, GROUP, GROUPS,\nHAVING, HOUR, IGNORE, ILIKE, IN, INDEX, INDICES, INNER, INSERT,\nINSTANT, INTERSECT, INTO, IS, JOIN, KEY, LAST, LEADING, LEFT, LIKE,\nLIMIT, LIST, LISTAGG, LOCAL, LOCAL_DATE, LOCAL_DATETIME, LOCAL_TIME,\nMAP, MAX, MAXELEMENT, MAXINDEX, MEMBER, MICROSECOND, MILLISECOND, MIN,\nMINELEMENT, MININDEX, MINUTE, MONTH, NANOSECOND, NEW, NEXT, NO, NOT,\nNULLS, OBJECT, OF, OFFSET, OFFSET_DATETIME, ON, ONLY, OR, ORDER,\nOTHERS, OUTER, OVER, OVERFLOW, OVERLAY, PAD, PARTITION, PERCENT,\nPLACING, POSITION, PRECEDING, QUARTER, RANGE, RESPECT, RIGHT, ROLLUP,\nROW, ROWS, SECOND, SELECT, SET, SIZE, SOME, SUBSTRING, SUM, THEN,\nTIES, TIME, TIMESTAMP, TIMEZONE_HOUR, TIMEZONE_MINUTE, TRAILING,\nTREAT, TRIM, TRUNCATE, TYPE, UNBOUNDED, UNION, UPDATE, VALUE, VALUES,\nWEEK, WHEN, WHERE, WITH, WITHIN, WITHOUT, YEAR, IDENTIFIER,\nQUOTED_IDENTIFIER}    at\norg.hibernate.query.hql.internal.StandardHqlTranslator$1.syntaxError(StandardHqlTranslator.java:46)\n~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]     at\norg.antlr.v4.runtime.ProxyErrorListener.syntaxError(ProxyErrorListener.java:41)\n~[antlr4-runtime-4.10.1.jar:4.10.1]   at\norg.antlr.v4.runtime.Parser.notifyErrorListeners(Parser.java:543)\n~[antlr4-runtime-4.10.1.jar:4.10.1]   at\norg.antlr.v4.runtime.DefaultErrorStrategy.reportInputMismatch(DefaultErrorStrategy.java:327)\n~[antlr4-runtime-4.10.1.jar:4.10.1]   at\norg.antlr.v4.runtime.DefaultErrorStrategy.reportError(DefaultErrorStrategy.java:139)\n~[antlr4-runtime-4.10.1.jar:4.10.1]   at\norg.hibernate.grammars.hql.HqlParser.statement(HqlParser.java:343)\n~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]     at\norg.hibernate.query.hql.internal.StandardHqlTranslator.parseHql(StandardHqlTranslator.java:127)\n~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]     at\norg.hibernate.query.hql.internal.StandardHqlTranslator.translate(StandardHqlTranslator.java:77)\n~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]     at\norg.hibernate.internal.AbstractSharedSessionContract.lambda$createQuery$2(AbstractSharedSessionContract.java:747)\n~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]     at\norg.hibernate.query.internal.QueryInterpretationCacheStandardImpl.createHqlInterpretation(QueryInterpretationCacheStandardImpl.java:141)\n~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]     at\norg.hibernate.query.internal.QueryInterpretationCacheStandardImpl.resolveHqlInterpretation(QueryInterpretationCacheStandardImpl.java:128)\n~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]     at\norg.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:744)\n~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]     ... 69 common frames\nomitted</p>\n<p>Process finished with exit code 1</p>\n</blockquote>\n"},{"tags":["java","mysql","hibernate","jpa"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1667228339,"post_id":74260800,"comment_id":131114672,"body_markdown":"Secondary table references are treated as FKs from the secondary table to the primary one - PrimaryKeyJoinColumn&#39;s name is the FK from the second table to the first. So you&#39;ve got it backwards, it should be MESSAGE_ID is referenced by REPORT_REFERENCE. Update statements can only hit one table at a time, so I don&#39;t see why you&#39;d think having two queries over the two separate entities would make any difference to the performance; Your provider will break up this query to statements targeting the relevant table(s) anyway.","body":"Secondary table references are treated as FKs from the secondary table to the primary one - PrimaryKeyJoinColumn&#39;s name is the FK from the second table to the first. So you&#39;ve got it backwards, it should be MESSAGE_ID is referenced by REPORT_REFERENCE. Update statements can only hit one table at a time, so I don&#39;t see why you&#39;d think having two queries over the two separate entities would make any difference to the performance; Your provider will break up this query to statements targeting the relevant table(s) anyway."},{"owner":{"account_id":4437292,"reputation":35,"user_id":3612799,"accept_rate":60,"display_name":"iddys"},"score":0,"creation_date":1667378784,"post_id":74260800,"comment_id":131150663,"body_markdown":"Thanks for the answer. When I said that having two queries would be suboptimal, I wasn&#39;t talking about performance but about the fact that the entities are designed in a way where I shouldn&#39;t need to use two queries.\n\nAbout your first answer, even if I write down the secondary table with the MESSAGE_ID referenced by REPORT_REFERENCE, I still get the same behaviour (The query is created with MESSAGE_ID in the WHERE clause for the update on MESSAGE_REPORT). Any idea about that issue ?","body":"Thanks for the answer. When I said that having two queries would be suboptimal, I wasn&#39;t talking about performance but about the fact that the entities are designed in a way where I shouldn&#39;t need to use two queries.  About your first answer, even if I write down the secondary table with the MESSAGE_ID referenced by REPORT_REFERENCE, I still get the same behaviour (The query is created with MESSAGE_ID in the WHERE clause for the update on MESSAGE_REPORT). Any idea about that issue ?"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1667404763,"post_id":74260800,"comment_id":131160322,"body_markdown":"No clue: looks like a bug, but this should be pretty standard behavior. Check the versions being used, and that you don&#39;t have other settings that might conflict that are going unnoticed where you run this and see the problem. Does inserts and updates via persist/merge api work as expected? Are you able to reproduce this in a separate model/project or is it only this one that shows this sort of behavior?","body":"No clue: looks like a bug, but this should be pretty standard behavior. Check the versions being used, and that you don&#39;t have other settings that might conflict that are going unnoticed where you run this and see the problem. Does inserts and updates via persist/merge api work as expected? Are you able to reproduce this in a separate model/project or is it only this one that shows this sort of behavior?"}],"owner":{"account_id":4437292,"reputation":35,"user_id":3612799,"accept_rate":60,"display_name":"iddys"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675026217,"creation_date":1667206327,"question_id":74260800,"body_markdown":"I&#39;m developing a new feature on an existing app that have two tables set up like this : \r\n\r\n```\r\ntable MESSAGE\r\n+-----------------------------+---------------+------+-----+----------------------------------+-------+\r\n| Field                       | Type          | Null | Key | Default                          | Extra |\r\n+-----------------------------+---------------+------+-----+----------------------------------+-------+\r\n| CAMPAIGN_NAME               | varchar(50)   | YES  |     | NULL                             |       |\r\n| CAMPAIGN_UUID_FK            | char(36)      | YES  | MUL | NULL                             |       |\r\n| TITRE                       | varchar(255)  | YES  |     | NULL                             |       |\r\n| DESTINATION                 | longtext      | YES  |     | NULL                             |       |\r\n| DESTINATAIRES_AS_STRING     | longtext      | YES  |     | NULL                             |       |\r\n| TEXT                        | longtext      | YES  |     | NULL                             |       |\r\n| TYPE                        | varchar(255)  | YES  |     | NULL                             |       |\r\n| FROM_FIELD                  | longtext      | YES  |     | NULL                             |       |\r\n| SENT_DATE                   | datetime      | NO   | PRI | 2005-01-01 00:00:00              |       |\r\n| COST                        | decimal(12,4) | YES  |     | NULL                             |       |\r\n| CREATION_DATE               | datetime      | NO   |     | 2005-01-01 00:00:00              |       |\r\n| REFERENCE                   | varchar(100)  | YES  |     | NULL                             |       |\r\n| COMPTE_RENDU                | tinyint(1)    | YES  |     | NULL                             |       |\r\n| ACCOUNT_ID_FK               | int(11)       | YES  | MUL | 0                                |       |\r\n| CLASS_TYPE                  | varchar(255)  | NO   | MUL |                                  |       |\r\n| MESSAGE_ID                  | char(36)      | NO   | PRI |                                  |       |\r\n| MESSAGE_REPORT_REFERENCE_FK | varchar(12)   | YES  |     | NULL                             |       |\r\n| MODEL_MESSAGE               | tinyint(1)    | YES  |     | 0                                |       |\r\n| DELETED                     | tinyint(1)    | YES  |     | 0                                |       |\r\n| INCOMING_MESSAGE            | tinyint(1)    | YES  |     | 0                                |       |\r\n| ACCESS_CHANNEL              | int(11)       | YES  |     | 0                                |       |\r\n+-----------------------------+---------------+------+-----+----------------------------------+-------+\r\n\r\n```\r\n\r\nand\r\n\r\n```\r\ntable MESSAGE_REPORT\r\n+----------------------+--------------+------+-----+---------------------+-------+\r\n| Field                | Type         | Null | Key | Default             | Extra |\r\n+----------------------+--------------+------+-----+---------------------+-------+\r\n| REPORT_REFERENCE     | char(36)     | NO   | PRI |                     |       |\r\n| SENT_DATE            | datetime     | NO   |     | 2004-04-04 00:00:00 |       |\r\n| STATUS               | varchar(20)  | NO   |     |                     |       |\r\n| CREATION_DATE        | datetime     | YES  | MUL | NULL                |       |\r\n| SIZE                 | int(11)      | YES  |     | NULL                |       |\r\n| CALLBACK_URL         | varchar(255) | YES  |     | NULL                |       |\r\n| CALLBACK_URL_REPONSE | varchar(255) | YES  |     | NULL                |       |\r\n| REF_CLIENT           | varchar(25)  | YES  | MUL | NULL                |       |\r\n+----------------------+--------------+------+-----+---------------------+-------+\r\n\r\n\r\n```\r\n\r\n\r\nAnd here is what their respective JPA Entities look like : \r\n\r\n```\r\n@Entity\r\n@DynamicUpdate\r\n@Table(name = &quot;MESSAGE&quot;)\r\n@SecondaryTable(\r\n        name = &quot;MESSAGE_REPORT&quot;,\r\n        pkJoinColumns = @PrimaryKeyJoinColumn(\r\n                name = &quot;REPORT_REFERENCE&quot;))\r\n@Inheritance(strategy = InheritanceType.SINGLE_TABLE)\r\n@DiscriminatorColumn(\r\n        name=&quot;CLASS_TYPE&quot;,\r\n        discriminatorType = DiscriminatorType.STRING,\r\n        length = 50)\r\npublic class Message extends AbstractMessageEntity {\r\n\r\n    private static final long serialVersionUID = 1L;\r\n\r\n    @Column(name = &quot;CAMPAIGN_NAME&quot;, length = 50)\r\n    protected String campaignName;\r\n\r\n    @Column(name = &quot;TITRE&quot;)\r\n    protected String titre;\r\n\r\n    @Lob\r\n    @Column(name = &quot;DESTINATION&quot;)\r\n    protected String destination;\r\n\r\n    @Lob\r\n    @Column(name = &quot;DESTINATAIRES_AS_STRING&quot;)\r\n    protected String destinataireAsString;\r\n\r\n    @Column(name = &quot;REFERENCE&quot;, length = 100)\r\n    protected String reference;\r\n\r\n    @Column(name = &quot;COMPTE_RENDU&quot;)\r\n    protected Boolean compteRendu = Boolean.TRUE;\r\n\r\n    @Id\r\n    @Column(name = &quot;MESSAGE_ID&quot;, length = 36)\r\n    @Access(AccessType.PROPERTY)\r\n    protected String messageId;\r\n\r\n    @Column(name = &quot;INCOMING_MESSAGE&quot;)\r\n    protected Boolean incomingMessage = Boolean.FALSE;\r\n\r\n    @Column(name = &quot;DELETED&quot;)\r\n    protected Boolean deleted = Boolean.FALSE;\r\n\r\n    /**\r\n     * relationship\r\n     */\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;ACCOUNT_ID_FK&quot;)\r\n    protected Channel channel;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;CAMPAIGN_UUID_FK&quot;)\r\n    protected Campaign campaign;\r\n\r\n    @Column(table = &quot;MESSAGE_REPORT&quot;, name = &quot;STATUS&quot;)\r\n    protected String status;\r\n\r\n    @Column(table = &quot;MESSAGE_REPORT&quot;, name = &quot;REF_CLIENT&quot;)\r\n    protected String refClient;\r\n\r\n    @Column(table = &quot;MESSAGE_REPORT&quot;, name = &quot;CALLBACK_URL&quot;)\r\n    protected String callbackUrl;\r\n\r\n    @Column(table = &quot;MESSAGE_REPORT&quot;, name = &quot;CALLBACK_URL_REPONSE&quot;)\r\n    protected String callbackUrlReponse;\r\n\r\n    //constructors and getters/setters etc ....\r\n\r\n}\r\n\r\n@Entity\r\n@Table(name = &quot;MESSAGE_REPORT&quot;)\r\npublic class MessageReport implements Serializable {\r\n\r\n    private static final long serialVersionUID = 1L;\r\n\r\n    @Id\r\n    @Column(name = &quot;REPORT_REFERENCE&quot;, length = 36)\r\n    private String reportReference = &quot;&quot;;\r\n\r\n    @Column(name = &quot;STATUS&quot;, length = 20)\r\n    private String status = &quot;&quot;;\r\n\r\n    @Temporal(TemporalType.TIMESTAMP)\r\n    @Column(name = &quot;CREATION_DATE&quot;)\r\n    private Date creationDate;\r\n\r\n    @Temporal(TemporalType.TIMESTAMP)\r\n    @Column(name = &quot;SENT_DATE&quot;)\r\n    private Date sentDate;\r\n\r\n    @Column(name = &quot;SIZE&quot;)\r\n    private Integer size;\r\n\r\n    @Column(name = &quot;CALLBACK_URL&quot;)\r\n    private String callbackUrl;\r\n\r\n    @Column(name = &quot;CALLBACK_URL_REPONSE&quot;)\r\n    private String callbackUrlReponse;\r\n\r\n    @Column(name = &quot;REF_CLIENT&quot;)\r\n    private String refClient;\r\n\r\n}\r\n\r\n```\r\n\r\nThe problem that I have occurs when implementing a simple update : I&#39;ve created and am trying to call this method that uses a JPA @Query : \r\n\r\n```\r\n@Transactional\r\n\t@Modifying\r\n\t@Query(value = &quot;UPDATE #{#entityName} m &quot; +\r\n\t&quot;set m.text = :text, &quot; +\r\n\t&quot;m.fromField = :from, &quot; +\r\n\t&quot;m.refClient = :refClient, &quot; +\r\n\t&quot;m.sentDate = :sentDate &quot; +\r\n\t&quot;WHERE m.campaign = :campaignId&quot;)\r\n\tvoid \tupdateMessageFromPatchedCampaign(\r\n\t\t\t@Param(value = &quot;campaignId&quot;) Campaign campaign,\r\n\t\t\t@Param(value = &quot;text&quot;) String text,\r\n\t\t\t@Param(value = &quot;from&quot;) String from,\r\n\t\t\t@Param(value = &quot;refClient&quot;) String refClient,\r\n\t\t\t@Param(value = &quot;sentDate&quot;) Date sentDate);\r\n\t\r\n```\r\n(in that case, entityName is mapped to MESSAGE).\r\nWhat happens is that the subquery supposed to update the REF_CLIENT column (refClient) on the MESSAGE_REPORT table is created by Hibernate by using MESSAGE_ID in the where clause instead of REPORT_REFERENCE, like this : \r\n\r\n```\r\n2022-10-31 09:41:03 Failed Query Report SQL=update MESSAGE_REPORT set REF_CLIENT=? where (MESSAGE_ID = &#39;XXXXX&#39;) or (MESSAGE_ID = &#39;XXXXX&#39;) or (MESSAGE_ID = &#39;XXXXX&#39;) or (MESSAGE_ID = &#39;XXXXX&#39;) or (MESSAGE_ID = &#39;XXXXX&#39;); - [maxime-Inspiron-16-5620] \r\n```\r\n(I&#39;ve replaced the actual id values with XXXXX)\r\nIf I was the one who developed the app, I would have used a OneToOne relationship between MESSAGE and MESSAGE_REPORT and would have put a @JoinColumn with a MessageReport attribute in the Message class, but this is what I&#39;m working with.\r\n\r\nHow can I make sure that the correct column (REPORT_REFERENCE) is used when Hibernate generates the subquery used to update REF_CLIENT, and not MESSAGE_ID ? I&#39;ve tried changing the definition of the @SecondaryTable to \r\n\r\n```\r\n@SecondaryTable(\r\n        name = &quot;MESSAGE_REPORT&quot;,\r\n        pkJoinColumns = @PrimaryKeyJoinColumn(\r\n                name = &quot;MESSAGE_ID&quot;,\r\n                referencedColumnName = &quot;REPORT_REFERENCE&quot;)\r\n```\r\n\r\nbut then it stops at launch with this error :\r\n\r\n```\r\nCaused by: org.hibernate.MappingException: Unable to find column with logical name: REPORT_REFERENCE in org.hibernate.mapping.Table(MESSAGE) and its related supertables and secondary tables\r\n``` \r\n\r\nso I am truly unsure on how to go from there. Sure, I could modify the UPDATE query to only update the table MESSAGE and create another method to update MESSAGE_REPORT but I feel like that&#39;s suboptimal. Any ideas ? Any help will be greatly appreciated ! Thanks \r\n\r\n**Edit :** \r\n\r\nEven by using the secondary table that way : \r\n\r\n```\r\n@SecondaryTable(\r\n        name = &quot;MESSAGE_REPORT&quot;,\r\n        pkJoinColumns = @PrimaryKeyJoinColumn(\r\n                name = &quot;REPORT_REFERENCE&quot;,\r\n                referencedColumnName = &quot;MESSAGE_ID&quot;))\r\n```\r\n\r\nI still get the same issue where the UPDATE query is created with MESSAGE_ID in the WHERE clause.\r\n\r\n\r\nEDIT : I couldn&#39;t find an answer/a solution, so I just implementend two different queries.","title":"Problem with JPA Update query when using @SecondaryTable and @PrimaryKeyJoinColumn","body":"<p>I'm developing a new feature on an existing app that have two tables set up like this :</p>\n<pre><code>table MESSAGE\n+-----------------------------+---------------+------+-----+----------------------------------+-------+\n| Field                       | Type          | Null | Key | Default                          | Extra |\n+-----------------------------+---------------+------+-----+----------------------------------+-------+\n| CAMPAIGN_NAME               | varchar(50)   | YES  |     | NULL                             |       |\n| CAMPAIGN_UUID_FK            | char(36)      | YES  | MUL | NULL                             |       |\n| TITRE                       | varchar(255)  | YES  |     | NULL                             |       |\n| DESTINATION                 | longtext      | YES  |     | NULL                             |       |\n| DESTINATAIRES_AS_STRING     | longtext      | YES  |     | NULL                             |       |\n| TEXT                        | longtext      | YES  |     | NULL                             |       |\n| TYPE                        | varchar(255)  | YES  |     | NULL                             |       |\n| FROM_FIELD                  | longtext      | YES  |     | NULL                             |       |\n| SENT_DATE                   | datetime      | NO   | PRI | 2005-01-01 00:00:00              |       |\n| COST                        | decimal(12,4) | YES  |     | NULL                             |       |\n| CREATION_DATE               | datetime      | NO   |     | 2005-01-01 00:00:00              |       |\n| REFERENCE                   | varchar(100)  | YES  |     | NULL                             |       |\n| COMPTE_RENDU                | tinyint(1)    | YES  |     | NULL                             |       |\n| ACCOUNT_ID_FK               | int(11)       | YES  | MUL | 0                                |       |\n| CLASS_TYPE                  | varchar(255)  | NO   | MUL |                                  |       |\n| MESSAGE_ID                  | char(36)      | NO   | PRI |                                  |       |\n| MESSAGE_REPORT_REFERENCE_FK | varchar(12)   | YES  |     | NULL                             |       |\n| MODEL_MESSAGE               | tinyint(1)    | YES  |     | 0                                |       |\n| DELETED                     | tinyint(1)    | YES  |     | 0                                |       |\n| INCOMING_MESSAGE            | tinyint(1)    | YES  |     | 0                                |       |\n| ACCESS_CHANNEL              | int(11)       | YES  |     | 0                                |       |\n+-----------------------------+---------------+------+-----+----------------------------------+-------+\n\n</code></pre>\n<p>and</p>\n<pre><code>table MESSAGE_REPORT\n+----------------------+--------------+------+-----+---------------------+-------+\n| Field                | Type         | Null | Key | Default             | Extra |\n+----------------------+--------------+------+-----+---------------------+-------+\n| REPORT_REFERENCE     | char(36)     | NO   | PRI |                     |       |\n| SENT_DATE            | datetime     | NO   |     | 2004-04-04 00:00:00 |       |\n| STATUS               | varchar(20)  | NO   |     |                     |       |\n| CREATION_DATE        | datetime     | YES  | MUL | NULL                |       |\n| SIZE                 | int(11)      | YES  |     | NULL                |       |\n| CALLBACK_URL         | varchar(255) | YES  |     | NULL                |       |\n| CALLBACK_URL_REPONSE | varchar(255) | YES  |     | NULL                |       |\n| REF_CLIENT           | varchar(25)  | YES  | MUL | NULL                |       |\n+----------------------+--------------+------+-----+---------------------+-------+\n\n\n</code></pre>\n<p>And here is what their respective JPA Entities look like :</p>\n<pre><code>@Entity\n@DynamicUpdate\n@Table(name = &quot;MESSAGE&quot;)\n@SecondaryTable(\n        name = &quot;MESSAGE_REPORT&quot;,\n        pkJoinColumns = @PrimaryKeyJoinColumn(\n                name = &quot;REPORT_REFERENCE&quot;))\n@Inheritance(strategy = InheritanceType.SINGLE_TABLE)\n@DiscriminatorColumn(\n        name=&quot;CLASS_TYPE&quot;,\n        discriminatorType = DiscriminatorType.STRING,\n        length = 50)\npublic class Message extends AbstractMessageEntity {\n\n    private static final long serialVersionUID = 1L;\n\n    @Column(name = &quot;CAMPAIGN_NAME&quot;, length = 50)\n    protected String campaignName;\n\n    @Column(name = &quot;TITRE&quot;)\n    protected String titre;\n\n    @Lob\n    @Column(name = &quot;DESTINATION&quot;)\n    protected String destination;\n\n    @Lob\n    @Column(name = &quot;DESTINATAIRES_AS_STRING&quot;)\n    protected String destinataireAsString;\n\n    @Column(name = &quot;REFERENCE&quot;, length = 100)\n    protected String reference;\n\n    @Column(name = &quot;COMPTE_RENDU&quot;)\n    protected Boolean compteRendu = Boolean.TRUE;\n\n    @Id\n    @Column(name = &quot;MESSAGE_ID&quot;, length = 36)\n    @Access(AccessType.PROPERTY)\n    protected String messageId;\n\n    @Column(name = &quot;INCOMING_MESSAGE&quot;)\n    protected Boolean incomingMessage = Boolean.FALSE;\n\n    @Column(name = &quot;DELETED&quot;)\n    protected Boolean deleted = Boolean.FALSE;\n\n    /**\n     * relationship\n     */\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;ACCOUNT_ID_FK&quot;)\n    protected Channel channel;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;CAMPAIGN_UUID_FK&quot;)\n    protected Campaign campaign;\n\n    @Column(table = &quot;MESSAGE_REPORT&quot;, name = &quot;STATUS&quot;)\n    protected String status;\n\n    @Column(table = &quot;MESSAGE_REPORT&quot;, name = &quot;REF_CLIENT&quot;)\n    protected String refClient;\n\n    @Column(table = &quot;MESSAGE_REPORT&quot;, name = &quot;CALLBACK_URL&quot;)\n    protected String callbackUrl;\n\n    @Column(table = &quot;MESSAGE_REPORT&quot;, name = &quot;CALLBACK_URL_REPONSE&quot;)\n    protected String callbackUrlReponse;\n\n    //constructors and getters/setters etc ....\n\n}\n\n@Entity\n@Table(name = &quot;MESSAGE_REPORT&quot;)\npublic class MessageReport implements Serializable {\n\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @Column(name = &quot;REPORT_REFERENCE&quot;, length = 36)\n    private String reportReference = &quot;&quot;;\n\n    @Column(name = &quot;STATUS&quot;, length = 20)\n    private String status = &quot;&quot;;\n\n    @Temporal(TemporalType.TIMESTAMP)\n    @Column(name = &quot;CREATION_DATE&quot;)\n    private Date creationDate;\n\n    @Temporal(TemporalType.TIMESTAMP)\n    @Column(name = &quot;SENT_DATE&quot;)\n    private Date sentDate;\n\n    @Column(name = &quot;SIZE&quot;)\n    private Integer size;\n\n    @Column(name = &quot;CALLBACK_URL&quot;)\n    private String callbackUrl;\n\n    @Column(name = &quot;CALLBACK_URL_REPONSE&quot;)\n    private String callbackUrlReponse;\n\n    @Column(name = &quot;REF_CLIENT&quot;)\n    private String refClient;\n\n}\n\n</code></pre>\n<p>The problem that I have occurs when implementing a simple update : I've created and am trying to call this method that uses a JPA @Query :</p>\n<pre><code>@Transactional\n    @Modifying\n    @Query(value = &quot;UPDATE #{#entityName} m &quot; +\n    &quot;set m.text = :text, &quot; +\n    &quot;m.fromField = :from, &quot; +\n    &quot;m.refClient = :refClient, &quot; +\n    &quot;m.sentDate = :sentDate &quot; +\n    &quot;WHERE m.campaign = :campaignId&quot;)\n    void    updateMessageFromPatchedCampaign(\n            @Param(value = &quot;campaignId&quot;) Campaign campaign,\n            @Param(value = &quot;text&quot;) String text,\n            @Param(value = &quot;from&quot;) String from,\n            @Param(value = &quot;refClient&quot;) String refClient,\n            @Param(value = &quot;sentDate&quot;) Date sentDate);\n    \n</code></pre>\n<p>(in that case, entityName is mapped to MESSAGE).\nWhat happens is that the subquery supposed to update the REF_CLIENT column (refClient) on the MESSAGE_REPORT table is created by Hibernate by using MESSAGE_ID in the where clause instead of REPORT_REFERENCE, like this :</p>\n<pre><code>2022-10-31 09:41:03 Failed Query Report SQL=update MESSAGE_REPORT set REF_CLIENT=? where (MESSAGE_ID = 'XXXXX') or (MESSAGE_ID = 'XXXXX') or (MESSAGE_ID = 'XXXXX') or (MESSAGE_ID = 'XXXXX') or (MESSAGE_ID = 'XXXXX'); - [maxime-Inspiron-16-5620] \n</code></pre>\n<p>(I've replaced the actual id values with XXXXX)\nIf I was the one who developed the app, I would have used a OneToOne relationship between MESSAGE and MESSAGE_REPORT and would have put a @JoinColumn with a MessageReport attribute in the Message class, but this is what I'm working with.</p>\n<p>How can I make sure that the correct column (REPORT_REFERENCE) is used when Hibernate generates the subquery used to update REF_CLIENT, and not MESSAGE_ID ? I've tried changing the definition of the @SecondaryTable to</p>\n<pre><code>@SecondaryTable(\n        name = &quot;MESSAGE_REPORT&quot;,\n        pkJoinColumns = @PrimaryKeyJoinColumn(\n                name = &quot;MESSAGE_ID&quot;,\n                referencedColumnName = &quot;REPORT_REFERENCE&quot;)\n</code></pre>\n<p>but then it stops at launch with this error :</p>\n<pre><code>Caused by: org.hibernate.MappingException: Unable to find column with logical name: REPORT_REFERENCE in org.hibernate.mapping.Table(MESSAGE) and its related supertables and secondary tables\n</code></pre>\n<p>so I am truly unsure on how to go from there. Sure, I could modify the UPDATE query to only update the table MESSAGE and create another method to update MESSAGE_REPORT but I feel like that's suboptimal. Any ideas ? Any help will be greatly appreciated ! Thanks</p>\n<p><strong>Edit :</strong></p>\n<p>Even by using the secondary table that way :</p>\n<pre><code>@SecondaryTable(\n        name = &quot;MESSAGE_REPORT&quot;,\n        pkJoinColumns = @PrimaryKeyJoinColumn(\n                name = &quot;REPORT_REFERENCE&quot;,\n                referencedColumnName = &quot;MESSAGE_ID&quot;))\n</code></pre>\n<p>I still get the same issue where the UPDATE query is created with MESSAGE_ID in the WHERE clause.</p>\n<p>EDIT : I couldn't find an answer/a solution, so I just implementend two different queries.</p>\n"},{"tags":["java","mongodb","apache-kafka","apache-kafka-connect","mongodb-kafka-connector"],"answers":[{"tags":[],"owner":{"account_id":8266661,"reputation":191,"user_id":6215966,"display_name":"Esben Folger Thomas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667978356,"creation_date":1667978356,"answer_id":74371179,"question_id":74360519,"body_markdown":"figured it out: the problem was due to all the .jar file copying that happened here:\r\n\r\n    mkdir /usr/share/confluent-hub-components/plugins &amp;&amp; \\\r\n    mkdir /usr/share/confluent-hub-components/mongo_plugins &amp;&amp; \\\r\n    cp /usr/share/confluent-hub-components/mongodb-kafka-connect-mongodb/lib/*.jar /usr/share/confluent-hub-components/mongo_plugins &amp;&amp; \\\r\n    cp /usr/share/confluent-hub-components/confluentinc-kafka-connect-avro-converter/lib/*.jar /usr/share/confluent-hub-components/plugins &amp;&amp; \\\r\n    cp /usr/share/filestream-connectors/*.jar /usr/share/confluent-hub-components/plugins\r\n\r\nthe plugin manager is very finicky about where the .jars are located when it comes to custom write strategies. simply removing all these lines and appropriately updating the plugin path fixed the problem","title":"Kafka connect can&#39;t find my custom write strategy","body":"<p>figured it out: the problem was due to all the .jar file copying that happened here:</p>\n<pre><code>mkdir /usr/share/confluent-hub-components/plugins &amp;&amp; \\\nmkdir /usr/share/confluent-hub-components/mongo_plugins &amp;&amp; \\\ncp /usr/share/confluent-hub-components/mongodb-kafka-connect-mongodb/lib/*.jar /usr/share/confluent-hub-components/mongo_plugins &amp;&amp; \\\ncp /usr/share/confluent-hub-components/confluentinc-kafka-connect-avro-converter/lib/*.jar /usr/share/confluent-hub-components/plugins &amp;&amp; \\\ncp /usr/share/filestream-connectors/*.jar /usr/share/confluent-hub-components/plugins\n</code></pre>\n<p>the plugin manager is very finicky about where the .jars are located when it comes to custom write strategies. simply removing all these lines and appropriately updating the plugin path fixed the problem</p>\n"}],"owner":{"account_id":8266661,"reputation":191,"user_id":6215966,"display_name":"Esben Folger Thomas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":211,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675026200,"creation_date":1667909412,"question_id":74360519,"body_markdown":"I am trying to implement a custom write strategy for a sink connector that writes to mongodb as per the documentation here: \r\n\r\nhttps://www.mongodb.com/docs/kafka-connector/current/sink-connector/fundamentals/write-strategies/\r\n\r\nI am trying to get my connector to recognize the following (dummy) custom connector as a proof-of-concept:\r\n\r\n\r\n```\r\npackage com.fu.connect.sink;\r\n\r\nimport org.bson.*;\r\n\r\nimport com.mongodb.client.model.UpdateOneModel;\r\nimport com.mongodb.client.model.UpdateOptions;\r\nimport com.mongodb.client.model.WriteModel;\r\nimport com.mongodb.kafka.connect.sink.converter.SinkDocument;\r\nimport com.mongodb.kafka.connect.sink.writemodel.strategy.WriteModelStrategy;\r\n\r\nimport org.apache.kafka.connect.errors.DataException;\r\n\r\npublic class CustomWriteModelStrategy implements WriteModelStrategy {\r\n\r\n    private static final UpdateOptions UPDATE_OPTIONS = new UpdateOptions().upsert(true);\r\n\r\n    //incoming json should have one message key e.g. { &quot;message&quot;: &quot;Hello World&quot;}\r\n    @Override\r\n    public WriteModel&lt;BsonDocument&gt; createWriteModel(SinkDocument document) {\r\n        \r\n        // Retrieve the value part of the SinkDocument\r\n        BsonDocument vd = document.getValueDoc().orElseThrow(\r\n                () -&gt; new DataException(&quot;Error: cannot build the WriteModel since the value document was missing unexpectedly&quot;));\r\n\r\n        // extract message from incoming document\r\n        BsonString message = new BsonString(&quot;&quot;);\r\n        if (vd.containsKey(&quot;message&quot;)) {\r\n            message = vd.get(&quot;message&quot;).asString();\r\n        }\r\n\r\n        // Define the filter part of the update statement\r\n        BsonDocument filters = new BsonDocument(&quot;counter&quot;, new BsonDocument(&quot;$lt&quot;, new BsonInt32(10)));\r\n\r\n        // Define the update part of the update statement\r\n        BsonDocument updateStatement = new BsonDocument();\r\n        updateStatement.append(&quot;$inc&quot;, new BsonDocument(&quot;counter&quot;, new BsonInt32(1)));\r\n        updateStatement.append(&quot;$push&quot;, new BsonDocument(&quot;messages&quot;, new BsonDocument(&quot;message&quot;, message)));\r\n\r\n        // Return the full update &#229;\r\n        return new UpdateOneModel&lt;BsonDocument&gt;(\r\n                filters,\r\n                updateStatement,\r\n                UPDATE_OPTIONS\r\n        );\r\n    }\r\n}\r\n```\r\n(borrowed from https://github.com/felixreichenbach/kafkaWriteStrategy/blob/master/src/main/java/de/demo/kafka/CustomWriteModelStrategy.java)\r\nI am compiling this class and some other custom transforms to a .jar and adding it to my plugin path using the following Dockerfile:\r\n\r\n\r\n```\r\nFROM maven:3.6.0-jdk-11-slim AS build\r\nCOPY resources/custom_plugins /app/resources/custom_plugins\r\nCOPY resources/whitelist.csv /app/config/\r\n\r\nWORKDIR /app/resources/custom_plugins\r\nRUN mvn -e clean package\r\n\r\nFROM confluentinc/cp-kafka-connect:7.2.2\r\n\r\nARG version\r\nENV VERSION=$version\r\n\r\nUSER appuser\r\nRUN mkdir -p app/bin &amp;&amp; \\\r\n    mkdir -p app/config\r\nCOPY --chown=appuser resources/truststore.jks app/config/\r\nCOPY --chown=appuser resources/whitelist.csv /app/config/\r\n\r\nUSER root\r\n\r\nRUN confluent-hub install --no-prompt confluentinc/kafka-connect-avro-converter:5.5.3 &amp;&amp; \\\r\n    confluent-hub install --no-prompt mongodb/kafka-connect-mongodb:1.8.0 &amp;&amp; \\\r\n    mkdir /usr/share/confluent-hub-components/plugins &amp;&amp; \\\r\n    mkdir /usr/share/confluent-hub-components/mongo_plugins &amp;&amp; \\\r\n    cp /usr/share/confluent-hub-components/mongodb-kafka-connect-mongodb/lib/*.jar /usr/share/confluent-hub-components/mongo_plugins &amp;&amp; \\\r\n    cp /usr/share/confluent-hub-components/confluentinc-kafka-connect-avro-converter/lib/*.jar /usr/share/confluent-hub-components/plugins &amp;&amp; \\\r\n    cp /usr/share/filestream-connectors/*.jar /usr/share/confluent-hub-components/plugins\r\n\r\nUSER appuser\r\n\r\nENV ARTIFACT_ID=CustomPlugins-1.0-SNAPSHOT.jar\r\nCOPY --from=build /app/resources/custom_plugins/target/$ARTIFACT_ID /usr/share/confluent-hub-components/mongo_plugins/$ARTIFACT_ID\r\n\r\nCOPY --chown=appuser scripts/*.sh app/bin/\r\nCOPY --chown=appuser config/* app/config/\r\n```\r\n\r\nmy current plugin path:\r\n\r\n\r\n```\r\nplugin.path=/usr/share/confluent-hub-components/plugins,/usr/share/confluent-hub-components/mongo_plugins/CustomPlugins-1.0-SNAPSHOT.jar,/usr/share/confluent-hub-components/mongo_plugins/mongo-kafka-connect-1.8.0-confluent.jar,\r\n\r\n```\r\n\r\nin my sink properties I set\r\n\r\n\r\n```\r\nwritemodel.strategy=com.fu.connect.sink.CustomWriteModelStrategy \r\n\r\n```\r\n\r\n\r\nI have tried a variety of different path configurations, including but not limited to adding all .jars to the same directory and only specifying one plugin path, and creating separate .jars for the SMTs and the custom write strategy. When I try to run my connector I always get the same error:\r\n\r\n```\r\njava.util.concurrent.ExecutionException: org.apache.kafka.connect.runtime.rest.errors.BadRequestException: Connector configuration is invalid and contains the following 1 error(s):\r\nInvalid value com.fu.connect.sink.CustomWriteModelStrategy for configuration writemodel.strategy: Class not found: com.fu.connect.sink.CustomWriteModelStrategy\r\n```\r\n\r\nmy custom transformations work fine, but as far as I can tell the module that loads these transforms is different from the one that loads custom write strategies. \r\n\r\n\r\n\r\nI have tried restructuring the Java code and the plugin path in all the permutations I can come up with, and I always get the same error","title":"Kafka connect can&#39;t find my custom write strategy","body":"<p>I am trying to implement a custom write strategy for a sink connector that writes to mongodb as per the documentation here:</p>\n<p><a href=\"https://www.mongodb.com/docs/kafka-connector/current/sink-connector/fundamentals/write-strategies/\" rel=\"nofollow noreferrer\">https://www.mongodb.com/docs/kafka-connector/current/sink-connector/fundamentals/write-strategies/</a></p>\n<p>I am trying to get my connector to recognize the following (dummy) custom connector as a proof-of-concept:</p>\n<pre><code>package com.fu.connect.sink;\n\nimport org.bson.*;\n\nimport com.mongodb.client.model.UpdateOneModel;\nimport com.mongodb.client.model.UpdateOptions;\nimport com.mongodb.client.model.WriteModel;\nimport com.mongodb.kafka.connect.sink.converter.SinkDocument;\nimport com.mongodb.kafka.connect.sink.writemodel.strategy.WriteModelStrategy;\n\nimport org.apache.kafka.connect.errors.DataException;\n\npublic class CustomWriteModelStrategy implements WriteModelStrategy {\n\n    private static final UpdateOptions UPDATE_OPTIONS = new UpdateOptions().upsert(true);\n\n    //incoming json should have one message key e.g. { &quot;message&quot;: &quot;Hello World&quot;}\n    @Override\n    public WriteModel&lt;BsonDocument&gt; createWriteModel(SinkDocument document) {\n        \n        // Retrieve the value part of the SinkDocument\n        BsonDocument vd = document.getValueDoc().orElseThrow(\n                () -&gt; new DataException(&quot;Error: cannot build the WriteModel since the value document was missing unexpectedly&quot;));\n\n        // extract message from incoming document\n        BsonString message = new BsonString(&quot;&quot;);\n        if (vd.containsKey(&quot;message&quot;)) {\n            message = vd.get(&quot;message&quot;).asString();\n        }\n\n        // Define the filter part of the update statement\n        BsonDocument filters = new BsonDocument(&quot;counter&quot;, new BsonDocument(&quot;$lt&quot;, new BsonInt32(10)));\n\n        // Define the update part of the update statement\n        BsonDocument updateStatement = new BsonDocument();\n        updateStatement.append(&quot;$inc&quot;, new BsonDocument(&quot;counter&quot;, new BsonInt32(1)));\n        updateStatement.append(&quot;$push&quot;, new BsonDocument(&quot;messages&quot;, new BsonDocument(&quot;message&quot;, message)));\n\n        // Return the full update \n        return new UpdateOneModel&lt;BsonDocument&gt;(\n                filters,\n                updateStatement,\n                UPDATE_OPTIONS\n        );\n    }\n}\n</code></pre>\n<p>(borrowed from <a href=\"https://github.com/felixreichenbach/kafkaWriteStrategy/blob/master/src/main/java/de/demo/kafka/CustomWriteModelStrategy.java\" rel=\"nofollow noreferrer\">https://github.com/felixreichenbach/kafkaWriteStrategy/blob/master/src/main/java/de/demo/kafka/CustomWriteModelStrategy.java</a>)\nI am compiling this class and some other custom transforms to a .jar and adding it to my plugin path using the following Dockerfile:</p>\n<pre><code>FROM maven:3.6.0-jdk-11-slim AS build\nCOPY resources/custom_plugins /app/resources/custom_plugins\nCOPY resources/whitelist.csv /app/config/\n\nWORKDIR /app/resources/custom_plugins\nRUN mvn -e clean package\n\nFROM confluentinc/cp-kafka-connect:7.2.2\n\nARG version\nENV VERSION=$version\n\nUSER appuser\nRUN mkdir -p app/bin &amp;&amp; \\\n    mkdir -p app/config\nCOPY --chown=appuser resources/truststore.jks app/config/\nCOPY --chown=appuser resources/whitelist.csv /app/config/\n\nUSER root\n\nRUN confluent-hub install --no-prompt confluentinc/kafka-connect-avro-converter:5.5.3 &amp;&amp; \\\n    confluent-hub install --no-prompt mongodb/kafka-connect-mongodb:1.8.0 &amp;&amp; \\\n    mkdir /usr/share/confluent-hub-components/plugins &amp;&amp; \\\n    mkdir /usr/share/confluent-hub-components/mongo_plugins &amp;&amp; \\\n    cp /usr/share/confluent-hub-components/mongodb-kafka-connect-mongodb/lib/*.jar /usr/share/confluent-hub-components/mongo_plugins &amp;&amp; \\\n    cp /usr/share/confluent-hub-components/confluentinc-kafka-connect-avro-converter/lib/*.jar /usr/share/confluent-hub-components/plugins &amp;&amp; \\\n    cp /usr/share/filestream-connectors/*.jar /usr/share/confluent-hub-components/plugins\n\nUSER appuser\n\nENV ARTIFACT_ID=CustomPlugins-1.0-SNAPSHOT.jar\nCOPY --from=build /app/resources/custom_plugins/target/$ARTIFACT_ID /usr/share/confluent-hub-components/mongo_plugins/$ARTIFACT_ID\n\nCOPY --chown=appuser scripts/*.sh app/bin/\nCOPY --chown=appuser config/* app/config/\n</code></pre>\n<p>my current plugin path:</p>\n<pre><code>plugin.path=/usr/share/confluent-hub-components/plugins,/usr/share/confluent-hub-components/mongo_plugins/CustomPlugins-1.0-SNAPSHOT.jar,/usr/share/confluent-hub-components/mongo_plugins/mongo-kafka-connect-1.8.0-confluent.jar,\n\n</code></pre>\n<p>in my sink properties I set</p>\n<pre><code>writemodel.strategy=com.fu.connect.sink.CustomWriteModelStrategy \n\n</code></pre>\n<p>I have tried a variety of different path configurations, including but not limited to adding all .jars to the same directory and only specifying one plugin path, and creating separate .jars for the SMTs and the custom write strategy. When I try to run my connector I always get the same error:</p>\n<pre><code>java.util.concurrent.ExecutionException: org.apache.kafka.connect.runtime.rest.errors.BadRequestException: Connector configuration is invalid and contains the following 1 error(s):\nInvalid value com.fu.connect.sink.CustomWriteModelStrategy for configuration writemodel.strategy: Class not found: com.fu.connect.sink.CustomWriteModelStrategy\n</code></pre>\n<p>my custom transformations work fine, but as far as I can tell the module that loads these transforms is different from the one that loads custom write strategies.</p>\n<p>I have tried restructuring the Java code and the plugin path in all the permutations I can come up with, and I always get the same error</p>\n"},{"tags":["java","stripe-payments"],"comments":[{"owner":{"account_id":4463600,"reputation":1658,"user_id":3631795,"display_name":"orakaro"},"score":0,"creation_date":1675046256,"post_id":75278361,"comment_id":132837463,"body_markdown":"When you set `proration_behavior` to `always_invoice` it should create the proration part (Unused time and Remaining time) as an immediate Invoice, then have the Upcoming Invoice for the next period (another $109) separately. I tested and saw it works as expected. If you are seeing otherwise, you may want to reach out to Stripe Support and provide your Subscription Id (sub_xxx) and they will check it in detail.","body":"When you set <code>proration_behavior</code> to <code>always_invoice</code> it should create the proration part (Unused time and Remaining time) as an immediate Invoice, then have the Upcoming Invoice for the next period (another $109) separately. I tested and saw it works as expected. If you are seeing otherwise, you may want to reach out to Stripe Support and provide your Subscription Id (sub_xxx) and they will check it in detail."}],"owner":{"account_id":6507018,"reputation":21,"user_id":5035586,"display_name":"Adam"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675026085,"creation_date":1675026085,"question_id":75278361,"body_markdown":"For example if I want to upgrade my user&#39;s package via Stripe API, from &quot;59$ per month&quot; package to &quot;109$ per month&quot; package and immediately charge (109-59=50$) / invoice the user. This is how I am doing:\r\n\r\n\r\n```\r\nprorationDate = (System.currentTimeMillis() + (30 * 1000)) / 1000L;\r\n\t\t\tsubscription = Subscription.retrieve(subscriptionId);\r\n\r\n\t\t\tMap&lt;String, Object&gt; item1 = new HashMap&lt;&gt;();\r\n\t\t\titem1.put(&quot;id&quot;, subscription.getItems().getData().get(0).getId());\r\n\t\t\titem1.put(&quot;plan&quot;, newPlanId);\r\n\r\n\t\t\tMap&lt;String, Object&gt; items1 = new HashMap&lt;&gt;();\r\n\t\t\titems1.put(&quot;0&quot;, item1);\r\n\r\n\t\t\tMap&lt;String, Object&gt; params1 = new HashMap&lt;&gt;();\r\n\t\t\tparams1.put(&quot;items&quot;, items1);\r\n\r\n\t\t\tparams1.put(&quot;proration_date&quot;, prorationDate);\r\n\t\t\t// params1.put(&quot;prorate&quot;, true); deprecated and changed to the next line\r\n\t\t\tparams1.put(&quot;proration_behavior&quot;, &quot;create_prorations&quot;);\r\n\t\t\tparams1.put(&quot;billing_cycle_anchor&quot;, &quot;unchanged&quot;);\r\n\r\n\t\t\tparams1.put(&quot;payment_behavior&quot;, &quot;pending_if_incomplete&quot;);\r\n\t\t\tsubscription = subscription.update(params1);\r\n```\r\n\r\nThis is upgrading my user&#39;s package successfully but the invoice looks like this:\r\n[![enter image description here](https://i.stack.imgur.com/llRjY.png)](https://i.stack.imgur.com/llRjY.png)\r\n\r\n\r\n\r\nwhy it&#39;s also automatically subscribing for the next period ? even if I used set proration_behavior to always_invoice (when the subscription is updated to a new plan, a new invoice is paid automatically without the user paying).","title":"Stripe Subscription Upgrade showing next Invoice Item","body":"<p>For example if I want to upgrade my user's package via Stripe API, from &quot;59$ per month&quot; package to &quot;109$ per month&quot; package and immediately charge (109-59=50$) / invoice the user. This is how I am doing:</p>\n<pre><code>prorationDate = (System.currentTimeMillis() + (30 * 1000)) / 1000L;\n            subscription = Subscription.retrieve(subscriptionId);\n\n            Map&lt;String, Object&gt; item1 = new HashMap&lt;&gt;();\n            item1.put(&quot;id&quot;, subscription.getItems().getData().get(0).getId());\n            item1.put(&quot;plan&quot;, newPlanId);\n\n            Map&lt;String, Object&gt; items1 = new HashMap&lt;&gt;();\n            items1.put(&quot;0&quot;, item1);\n\n            Map&lt;String, Object&gt; params1 = new HashMap&lt;&gt;();\n            params1.put(&quot;items&quot;, items1);\n\n            params1.put(&quot;proration_date&quot;, prorationDate);\n            // params1.put(&quot;prorate&quot;, true); deprecated and changed to the next line\n            params1.put(&quot;proration_behavior&quot;, &quot;create_prorations&quot;);\n            params1.put(&quot;billing_cycle_anchor&quot;, &quot;unchanged&quot;);\n\n            params1.put(&quot;payment_behavior&quot;, &quot;pending_if_incomplete&quot;);\n            subscription = subscription.update(params1);\n</code></pre>\n<p>This is upgrading my user's package successfully but the invoice looks like this:\n<a href=\"https://i.stack.imgur.com/llRjY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/llRjY.png\" alt=\"enter image description here\" /></a></p>\n<p>why it's also automatically subscribing for the next period ? even if I used set proration_behavior to always_invoice (when the subscription is updated to a new plan, a new invoice is paid automatically without the user paying).</p>\n"},{"tags":["java","spring","spring-boot","design-patterns"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":4,"creation_date":1650691993,"post_id":71977063,"comment_id":127184871,"body_markdown":"_Commands_ are data objects, and beans should be service objects. Command _handlers_ may be beans.","body":"<i>Commands</i> are data objects, and beans should be service objects. Command <i>handlers</i> may be beans."},{"owner":{"account_id":9860872,"reputation":66,"user_id":7303937,"display_name":"defrimhsn"},"score":0,"creation_date":1675021982,"post_id":71977063,"comment_id":132837934,"body_markdown":"Implementation of CQRS pattern in spring boot can easly be done with https://albanoi.defrimhsn.com/ which is a OSS. You need just to define commands and handlers, the mapping between a handler and command is taken care by the built in gateway.","body":"Implementation of CQRS pattern in spring boot can easly be done with <a href=\"https://albanoi.defrimhsn.com/\" rel=\"nofollow noreferrer\">albanoi.defrimhsn.com</a> which is a OSS. You need just to define commands and handlers, the mapping between a handler and command is taken care by the built in gateway."}],"owner":{"account_id":3581540,"reputation":987,"user_id":2989643,"display_name":"Shayan Ahmad"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675026056,"creation_date":1650691387,"question_id":71977063,"body_markdown":"I&#39;ve always used CQRS design pattern in Spring where Commands are simple POJOs and not Spring Beans (annotated with `@Component`). However, I recently started to wonder what would happen if those commands are treated as beans. I do not have a good feeling creating commands as beans but it&#39;s always a good idea ot have a second opinion on it for educative purposes.\r\n\r\nKind regards.","title":"Is it a good idea to create commands as Spring bean in the CQRS design pattern in Spring Boot?","body":"<p>I've always used CQRS design pattern in Spring where Commands are simple POJOs and not Spring Beans (annotated with <code>@Component</code>). However, I recently started to wonder what would happen if those commands are treated as beans. I do not have a good feeling creating commands as beans but it's always a good idea ot have a second opinion on it for educative purposes.</p>\n<p>Kind regards.</p>\n"},{"tags":["java",".net","cqrs"],"answers":[{"tags":[],"owner":{"account_id":19998,"reputation":23114,"user_id":47366,"accept_rate":57,"display_name":"Rinat Abdullin"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1353059359,"creation_date":1291455638,"answer_id":4352896,"question_id":4350943,"body_markdown":"Terms of CQRS and DDDD originated in .NET world and were pushed by .NET Practitioners like Greg Young and Udi Dahan.\r\n\r\nLess people are talking about CQRS in Java world. However, since the [CQRS term][1] itself is just mostly a new name for time-proven practices (united under a simple mental model), it is not limited to .NET only.\r\n\r\nFor example, there are [Axon][2] and [Jdon][3] frameworks in Java. They are frequently referenced in CQRS discussions.\r\n\r\n\r\n  [1]: http://abdullin.com/cqrs/\r\n  [2]: http://www.axonframework.org/\r\n  [3]: http://jdon.sf.net","title":"CQRS in the java world","body":"<p>Terms of CQRS and DDDD originated in .NET world and were pushed by .NET Practitioners like Greg Young and Udi Dahan.</p>\n\n<p>Less people are talking about CQRS in Java world. However, since the <a href=\"http://abdullin.com/cqrs/\" rel=\"nofollow\">CQRS term</a> itself is just mostly a new name for time-proven practices (united under a simple mental model), it is not limited to .NET only.</p>\n\n<p>For example, there are <a href=\"http://www.axonframework.org/\" rel=\"nofollow\">Axon</a> and <a href=\"http://jdon.sf.net\" rel=\"nofollow\">Jdon</a> frameworks in Java. They are frequently referenced in CQRS discussions.</p>\n"},{"tags":[],"owner":{"account_id":1276420,"reputation":1,"user_id":1231581,"display_name":"william simons"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1368663979,"creation_date":1368663979,"answer_id":16577129,"question_id":4350943,"body_markdown":"CQRS is far from dead in the java world.  spring framework will debut spring 4 \r\nin September or October 2013, it will feature the axon framework...\r\nspring already uses some event based framework \r\n\r\nasp.net seems to use workflow with the cloud based azure or\r\npigg cms asp.net mvc Multilanguage cqrs  \r\n\r\nPersonally I stick with Java however I wanted to be fair to .net  \r\nTouchscreen technology needs a command or event based framework \r\nwith .net or java!!!           ","title":"CQRS in the java world","body":"<p>CQRS is far from dead in the java world.  spring framework will debut spring 4 \nin September or October 2013, it will feature the axon framework...\nspring already uses some event based framework </p>\n\n<p>asp.net seems to use workflow with the cloud based azure or\npigg cms asp.net mvc Multilanguage cqrs  </p>\n\n<p>Personally I stick with Java however I wanted to be fair to .net<br>\nTouchscreen technology needs a command or event based framework \nwith .net or java!!!           </p>\n"}],"owner":{"account_id":252157,"reputation":1337,"user_id":529996,"display_name":"Olivier Heidemann"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2071,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"accepted_answer_id":4352896,"answer_count":2,"score":4,"last_activity_date":1675025912,"creation_date":1291420016,"question_id":4350943,"body_markdown":"I follow the discussion about cqrs a long time now. \r\n\r\nSomething that occured to me, is that the programming language of choice is mostly settled in the dot.Net world. \r\n\r\nIs there any reasons why this is the case? Why dind&#39;t the concepts of cqrs nest themself in the java world yet? Is there a another concept/architecture style, maybe different named in the java strathosphere i don&#39;t know yet?","title":"CQRS in the java world","body":"<p>I follow the discussion about cqrs a long time now. </p>\n\n<p>Something that occured to me, is that the programming language of choice is mostly settled in the dot.Net world. </p>\n\n<p>Is there any reasons why this is the case? Why dind't the concepts of cqrs nest themself in the java world yet? Is there a another concept/architecture style, maybe different named in the java strathosphere i don't know yet?</p>\n"},{"tags":["java","android","sql","sqlite","android-sqlite"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1551295079,"post_id":54912911,"comment_id":96592346,"body_markdown":"Did you try `&quot;firstName + &#39; &#39; + lastName like ?&quot;` at all?","body":"Did you try <code>&quot;firstName + &#39; &#39; + lastName like ?&quot;</code> at all?"}],"answers":[{"tags":[],"owner":{"account_id":6077735,"reputation":52951,"user_id":4744514,"accept_rate":96,"display_name":"MikeT"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1551296588,"creation_date":1551295868,"answer_id":54913144,"question_id":54912911,"body_markdown":"It appears that you want to concatenate the first and last names.\n\nYou can does this using **`||`** so your underlying query could be :-\n\n    SELECT firstName, lastName, firstName||&#39; &#39;||lastName AS name_in_full WHERE firstName LIKE ? OR lastName LIKE ?\n\n- that the ? represents a value as supplied (so the above, as it is wouldn&#39;t work as expected).\n- you may or may not you want the firstName and lastName columns in the resultant Cursor\n- the cursor will have a column named **name_in_full** and it is this column that will have both names concatenated.\n\nFor use by the **query** method you would set **sqlSelect** to be\n \n**`sqlSelect = &quot;firstName,lastName,firstName||&#39; &#39;||lastName AS name_in_full&quot;;`**\n\n- *omitting firstName and lastname and the respective separating comma as required*\n\n# Alternative interpretation of Question\n\nIf what you want is to find and only a combination of both e.g. you had rows such as \n\n    Bob Hope\n    Joe Joe\n    Bob Bob\n    Joe Bob\n\nand you want to find the 1 ***Joe Bob*** row i.e. **Joe Bob** but no other rows then instead of **OR** use **AND** \n\ni.e. \n\n    Cursor cursor = qb.query(\n        db, \n        sqlSelect, \n        &quot;firstName LIKE ? AND lastName LIKE ?&quot;, //&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; OR change to AND\n        new String[]{&quot;%&quot; + name + &quot;%&quot;, &quot;%&quot; + name + &quot;%&quot;}, \n        null, null, null\n    );","title":"Android sqlite searching two columns","body":"<p>It appears that you want to concatenate the first and last names.</p>\n<p>You can does this using <strong><code>||</code></strong> so your underlying query could be :-</p>\n<pre><code>SELECT firstName, lastName, firstName||' '||lastName AS name_in_full WHERE firstName LIKE ? OR lastName LIKE ?\n</code></pre>\n<ul>\n<li>that the ? represents a value as supplied (so the above, as it is wouldn't work as expected).</li>\n<li>you may or may not you want the firstName and lastName columns in the resultant Cursor</li>\n<li>the cursor will have a column named <strong>name_in_full</strong> and it is this column that will have both names concatenated.</li>\n</ul>\n<p>For use by the <strong>query</strong> method you would set <strong>sqlSelect</strong> to be</p>\n<p><strong><code>sqlSelect = &quot;firstName,lastName,firstName||' '||lastName AS name_in_full&quot;;</code></strong></p>\n<ul>\n<li><em>omitting firstName and lastname and the respective separating comma as required</em></li>\n</ul>\n<h1>Alternative interpretation of Question</h1>\n<p>If what you want is to find and only a combination of both e.g. you had rows such as</p>\n<pre><code>Bob Hope\nJoe Joe\nBob Bob\nJoe Bob\n</code></pre>\n<p>and you want to find the 1 <em><strong>Joe Bob</strong></em> row i.e. <strong>Joe Bob</strong> but no other rows then instead of <strong>OR</strong> use <strong>AND</strong></p>\n<p>i.e.</p>\n<pre><code>Cursor cursor = qb.query(\n    db, \n    sqlSelect, \n    &quot;firstName LIKE ? AND lastName LIKE ?&quot;, //&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; OR change to AND\n    new String[]{&quot;%&quot; + name + &quot;%&quot;, &quot;%&quot; + name + &quot;%&quot;}, \n    null, null, null\n);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14535244,"reputation":161554,"user_id":10498828,"display_name":"forpas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1551297149,"creation_date":1551297149,"answer_id":54913454,"question_id":54912911,"body_markdown":"You need only 1 argument:\r\n\r\n    Cursor cursor = qb.query(\r\n        db, \r\n        sqlSelect, \r\n        &quot;firstName || &#39; &#39; || lastName LIKE ?&quot;, \r\n        new String[]{&quot;%&quot; + name + &quot;%&quot;}, \r\n        null, null, null\r\n    );","title":"Android sqlite searching two columns","body":"<p>You need only 1 argument:</p>\n\n<pre><code>Cursor cursor = qb.query(\n    db, \n    sqlSelect, \n    \"firstName || ' ' || lastName LIKE ?\", \n    new String[]{\"%\" + name + \"%\"}, \n    null, null, null\n);\n</code></pre>\n"}],"owner":{"account_id":15423653,"reputation":19,"user_id":11127020,"display_name":"Imran Mohammed"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":507,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":54913454,"answer_count":2,"score":1,"last_activity_date":1675025663,"creation_date":1551294988,"question_id":54912911,"body_markdown":"I am getting a bit confused on how to search two separate columns.\r\nI am using sqlite.\r\n\r\n    Cursor cursor = qb.query(db, sqlSelect, &quot;firstName LIKE ? OR lastName LIKE ?&quot; , new String[]{&quot;%&quot; + name + &quot;%&quot;, &quot;%&quot; + name + &quot;%&quot;}, null, null, null);\r\n\r\nWhen i search using for say Joe Bob, with that query i can do\r\n\r\n&#39;Joe&#39; returns Joe Bob\r\n\r\n&#39;Bob&#39; returns Joe Bob\r\n\r\nBut not &#39;Joe Bob&#39;\r\n\r\nSo just want to find a way to search for firstName &#39; &#39; lastName but i am having no luck\r\n\r\n","title":"Android sqlite searching two columns","body":"<p>I am getting a bit confused on how to search two separate columns.\nI am using sqlite.</p>\n<pre><code>Cursor cursor = qb.query(db, sqlSelect, &quot;firstName LIKE ? OR lastName LIKE ?&quot; , new String[]{&quot;%&quot; + name + &quot;%&quot;, &quot;%&quot; + name + &quot;%&quot;}, null, null, null);\n</code></pre>\n<p>When i search using for say Joe Bob, with that query i can do</p>\n<p>'Joe' returns Joe Bob</p>\n<p>'Bob' returns Joe Bob</p>\n<p>But not 'Joe Bob'</p>\n<p>So just want to find a way to search for firstName ' ' lastName but i am having no luck</p>\n"},{"tags":["java","loops","while-loop"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1674979233,"post_id":75273305,"comment_id":132826491,"body_markdown":"You basically re-built a `for` loop, but left out the initializing part, so you depend on the loop variables being 0 initially, but never re-set them in the inner loops.","body":"You basically re-built a <code>for</code> loop, but left out the initializing part, so you depend on the loop variables being 0 initially, but never re-set them in the inner loops."}],"answers":[{"tags":[],"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674978362,"creation_date":1674978362,"answer_id":75273340,"question_id":75273305,"body_markdown":"When your innermost loop executed once, it&#39;ll never meet the condition again: `moveSet[3]` remains at 14, no more printing is done.\r\n\r\nDid you want to set the value back to 0 after the loop? Likely. Also for the other values.\r\n\r\nYou might want to inspect the values in a single step debugger.\r\n","title":"Why does this nested loop only iterate 14 times?","body":"<p>When your innermost loop executed once, it'll never meet the condition again: <code>moveSet[3]</code> remains at 14, no more printing is done.</p>\n<p>Did you want to set the value back to 0 after the loop? Likely. Also for the other values.</p>\n<p>You might want to inspect the values in a single step debugger.</p>\n"},{"tags":[],"owner":{"account_id":36607,"reputation":101051,"user_id":104458,"accept_rate":91,"display_name":"selbie"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674979155,"creation_date":1674978373,"answer_id":75273341,"question_id":75273305,"body_markdown":"You&#39;ll need to reset the inner counters (indices 1,2,and 3) if you want to iterate over every possible combination from 0-13 in each index.  \r\n\r\n        while(moveSet[0] &lt; 14) {\r\n            moveSet[1] = 0;             // RESET\r\n            while(moveSet[1] &lt; 14) {\r\n                moveSet[2] = 0;         // RESET\r\n                while(moveSet[2] &lt; 14) {\r\n                    moveSet[3] = 0;     // RESET\r\n                    while(moveSet[3] &lt; 14) {\r\n                        System.out.println(Arrays.toString(moveSet));\r\n    \r\n                        moveSet[3] ++;\r\n                    }\r\n    \r\n                    moveSet[2] ++;\r\n                }\r\n    \r\n                moveSet[1] ++;\r\n            }\r\n    \r\n            moveSet[0] ++;\r\n       \r\n\r\nAnother way to print all 14x14x14x14==38416 combinations is to use a single for-loop and make use of modulo arithmetic.\r\n\r\n    int iterations = 14*14*14*14;  // 38416\r\n    for (i = 0; i &lt; iterations; i++) {\r\n        int [] moveSet = {0,0,0,0};\r\n        moveSet[3] = i % 14;\r\n        moveSet[2] = (i/14) % 14;\r\n        moveSet[1] = ((i/14)/14) % 14;\r\n        moveSet[0] = (((i/14)/14)/14) % 14;\r\n        System.out.println(Arrays.toString(moveSet));\r\n    }\r\n\r\n","title":"Why does this nested loop only iterate 14 times?","body":"<p>You'll need to reset the inner counters (indices 1,2,and 3) if you want to iterate over every possible combination from 0-13 in each index.</p>\n<pre><code>    while(moveSet[0] &lt; 14) {\n        moveSet[1] = 0;             // RESET\n        while(moveSet[1] &lt; 14) {\n            moveSet[2] = 0;         // RESET\n            while(moveSet[2] &lt; 14) {\n                moveSet[3] = 0;     // RESET\n                while(moveSet[3] &lt; 14) {\n                    System.out.println(Arrays.toString(moveSet));\n\n                    moveSet[3] ++;\n                }\n\n                moveSet[2] ++;\n            }\n\n            moveSet[1] ++;\n        }\n\n        moveSet[0] ++;\n   \n</code></pre>\n<p>Another way to print all 14x14x14x14==38416 combinations is to use a single for-loop and make use of modulo arithmetic.</p>\n<pre><code>int iterations = 14*14*14*14;  // 38416\nfor (i = 0; i &lt; iterations; i++) {\n    int [] moveSet = {0,0,0,0};\n    moveSet[3] = i % 14;\n    moveSet[2] = (i/14) % 14;\n    moveSet[1] = ((i/14)/14) % 14;\n    moveSet[0] = (((i/14)/14)/14) % 14;\n    System.out.println(Arrays.toString(moveSet));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20345523,"reputation":160,"user_id":14923551,"display_name":"Samuel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674978390,"creation_date":1674978390,"answer_id":75273342,"question_id":75273305,"body_markdown":"I think your problem lies  inner loop values, they are not resetting to 0, so your function will only run 14 times,\r\ntry to reset your values to 0 after every inner loop/\r\nthis should help you print all the possible values of the array\r\nExample\r\n\r\n     while(moveSet[0] &lt; 14) {\r\n                while(moveSet[1] &lt; 14) {\r\n                    while(moveSet[2] &lt; 14) {\r\n                        while(moveSet[3] &lt; 14) {\r\n                            System.out.println(Arrays.toString(moveSet));\r\n    \r\n                            moveSet[3] ++;\r\n                        }\r\n                        moveSet[3]=0;\r\n                        moveSet[2] ++;\r\n                    }\r\n                    moveSet[2]=0;\r\n                    moveSet[1] ++;\r\n                }\r\n                 moveSet[1]=0;\r\n                moveSet[0] ++;\r\n            }","title":"Why does this nested loop only iterate 14 times?","body":"<p>I think your problem lies  inner loop values, they are not resetting to 0, so your function will only run 14 times,\ntry to reset your values to 0 after every inner loop/\nthis should help you print all the possible values of the array\nExample</p>\n<pre><code> while(moveSet[0] &lt; 14) {\n            while(moveSet[1] &lt; 14) {\n                while(moveSet[2] &lt; 14) {\n                    while(moveSet[3] &lt; 14) {\n                        System.out.println(Arrays.toString(moveSet));\n\n                        moveSet[3] ++;\n                    }\n                    moveSet[3]=0;\n                    moveSet[2] ++;\n                }\n                moveSet[2]=0;\n                moveSet[1] ++;\n            }\n             moveSet[1]=0;\n            moveSet[0] ++;\n        }\n</code></pre>\n"}],"owner":{"account_id":22458409,"reputation":11,"user_id":16660743,"display_name":"PoultryPants"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75273341,"answer_count":3,"score":-1,"last_activity_date":1675025634,"creation_date":1674977963,"question_id":75273305,"body_markdown":"I am a Java beginner. I am writing a method that should iterate through every possible value of a byte array, but the limit for each byte number in the array is 13. So, I am using nested loops. Here is the code I currently have:\r\n\r\n```\r\npublic static void iterateThroughMoves() {\r\nbyte[] moveSet = {0, 0, 0, 0};\r\n\r\n        while(moveSet[0] &lt; 14) {\r\n            while(moveSet[1] &lt; 14) {\r\n                while(moveSet[2] &lt; 14) {\r\n                    while(moveSet[3] &lt; 14) {\r\n                        System.out.println(Arrays.toString(moveSet));\r\n    \r\n                        moveSet[3] ++;\r\n                    }\r\n    \r\n                    moveSet[2] ++;\r\n                }\r\n    \r\n                moveSet[1] ++;\r\n            }\r\n    \r\n            moveSet[0] ++;\r\n        }\r\n    }\r\n```\r\n\r\nFor some reason, when I run this method, it only prints this to the console:\r\n\r\n```\r\n[0, 0, 0, 0]\r\n[0, 0, 0, 1]\r\n[0, 0, 0, 2]\r\n[0, 0, 0, 3]\r\n[0, 0, 0, 4]\r\n[0, 0, 0, 5]\r\n[0, 0, 0, 6]\r\n[0, 0, 0, 7]\r\n[0, 0, 0, 8]\r\n[0, 0, 0, 9]\r\n[0, 0, 0, 10]\r\n[0, 0, 0, 11]\r\n[0, 0, 0, 12]\r\n[0, 0, 0, 13]\r\n\r\nProcess finished with exit code 0\r\n```\r\n\r\nShouldn&#39;t it print every possible value of the array? And why is it breaking out of the loop? The first while loop won&#39;t break unless the value of the first index of the byte array is greater than 13, and, as we can see in the console output, it never ends up being greater than 13.\r\n\r\nI honestly don&#39;t know what to try. I&#39;ve been looking a lot at the code, and I can&#39;t figure out what is wrong. As I previously mentioned, I am a beginner, so please don&#39;t get mad at me if this is an incredibly simple problem with a stupidly simple solution.","title":"Why does this nested loop only iterate 14 times?","body":"<p>I am a Java beginner. I am writing a method that should iterate through every possible value of a byte array, but the limit for each byte number in the array is 13. So, I am using nested loops. Here is the code I currently have:</p>\n<pre><code>public static void iterateThroughMoves() {\nbyte[] moveSet = {0, 0, 0, 0};\n\n        while(moveSet[0] &lt; 14) {\n            while(moveSet[1] &lt; 14) {\n                while(moveSet[2] &lt; 14) {\n                    while(moveSet[3] &lt; 14) {\n                        System.out.println(Arrays.toString(moveSet));\n    \n                        moveSet[3] ++;\n                    }\n    \n                    moveSet[2] ++;\n                }\n    \n                moveSet[1] ++;\n            }\n    \n            moveSet[0] ++;\n        }\n    }\n</code></pre>\n<p>For some reason, when I run this method, it only prints this to the console:</p>\n<pre><code>[0, 0, 0, 0]\n[0, 0, 0, 1]\n[0, 0, 0, 2]\n[0, 0, 0, 3]\n[0, 0, 0, 4]\n[0, 0, 0, 5]\n[0, 0, 0, 6]\n[0, 0, 0, 7]\n[0, 0, 0, 8]\n[0, 0, 0, 9]\n[0, 0, 0, 10]\n[0, 0, 0, 11]\n[0, 0, 0, 12]\n[0, 0, 0, 13]\n\nProcess finished with exit code 0\n</code></pre>\n<p>Shouldn't it print every possible value of the array? And why is it breaking out of the loop? The first while loop won't break unless the value of the first index of the byte array is greater than 13, and, as we can see in the console output, it never ends up being greater than 13.</p>\n<p>I honestly don't know what to try. I've been looking a lot at the code, and I can't figure out what is wrong. As I previously mentioned, I am a beginner, so please don't get mad at me if this is an incredibly simple problem with a stupidly simple solution.</p>\n"},{"tags":["java","jakarta-ee","gradle","websphere"],"comments":[{"owner":{"account_id":263814,"reputation":2012,"user_id":549643,"accept_rate":96,"display_name":"Patton"},"score":0,"creation_date":1406613281,"post_id":25006537,"comment_id":38887197,"body_markdown":"is core-api.jar an EJB module or plain Classes/Interfaces? If they are plain classes move the same to app.ear/lib, Also I see that you have specified the library directory to be lib but in your app.ear I see it to be libs. Correct this even and try deploying.","body":"is core-api.jar an EJB module or plain Classes/Interfaces? If they are plain classes move the same to app.ear/lib, Also I see that you have specified the library directory to be lib but in your app.ear I see it to be libs. Correct this even and try deploying."},{"owner":{"account_id":380946,"reputation":8170,"user_id":735284,"accept_rate":73,"display_name":"coderatchet"},"score":0,"creation_date":1406613558,"post_id":25006537,"comment_id":38887263,"body_markdown":"The libs dir was a typo, it is meant to say `lib` i have fixed that. as for the classes/interfaces jars, would there be a purpose for having it in the root directory? I notice that eclipse automatically places ejbClient jars in the root as well so i followed suit.","body":"The libs dir was a typo, it is meant to say <code>lib</code> i have fixed that. as for the classes/interfaces jars, would there be a purpose for having it in the root directory? I notice that eclipse automatically places ejbClient jars in the root as well so i followed suit."},{"owner":{"account_id":263814,"reputation":2012,"user_id":549643,"accept_rate":96,"display_name":"Patton"},"score":0,"creation_date":1406624911,"post_id":25006537,"comment_id":38892459,"body_markdown":"I didnt get your question can you please elaborate on this &quot;`as for the classes/interfaces jars, would there be a purpose for having it in the root directory? I notice that eclipse automatically places ejbClient jars in the root as well so i followed suit.`&quot;","body":"I didnt get your question can you please elaborate on this &quot;<code>as for the classes&#47;interfaces jars, would there be a purpose for having it in the root directory? I notice that eclipse automatically places ejbClient jars in the root as well so i followed suit.</code>&quot;"}],"answers":[{"tags":[],"owner":{"account_id":197766,"reputation":4253,"user_id":442041,"accept_rate":85,"display_name":"groo"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1675025540,"creation_date":1406633490,"answer_id":25014266,"question_id":25006537,"body_markdown":"I can see by your application.xml header that you&#39;re using JavaEE 6 packaging and you also mentioned you&#39;re using WebSphere 8.5.5 so follow some ear packaging information.\r\n\r\nYou do not need the application.xml at all if you&#39;re using annotated EJB 3.x and then follow the standard packaging convention: \r\n        \r\n    app.ear\r\n    |-- lib/$UTILITY_JARS_HERE\r\n    |-- EJB.jars\r\n    |-- web.war\r\n\r\nNotice that this is the default packaging for Java EE 6 structures and following this all utility jars that you place inside the lib directory will be available to both the EJBs and WARs you have there so you should use this directory only if your utility jars are required by both EJBs and web applications. If your utility jar is used only by your web application then you should package them inside the standard WEB-INF/lib folder in you war package only.\r\n\r\nNow if you&#39;re using EJBs 2.x together with your packaging than you&#39;ll need to have the application.xml and declare your ejbs and war, you should keep the recommended approach of leaving the utilities jars inside the lib folder and the ones required only by the web layer inside the lib folder of the war package.\r\n\r\nIf for any reason you want to keep your utilities jars at the root level or the ear you can use the approach of declaring them at the Manifest for the EAR but than you DON&#39;T and can&#39;t declare them again in the manifest for the war package. All declared jars on the ear manifest will be automatically visible by the classloader of the war file and EJBs.\r\n\r\nThe javaEE 6 specification Chapter 8 &quot;Application Assembly and Deployment&quot; has the complete explanation on this subject. You can [download the document here][1].\r\n\r\n  [1]: http://download.oracle.com/otndocs/jcp/javaee-6.0-fr-eval-oth-JSpec/","title":"Hello World Ear: NoModuleFileException: A file does not exist for module element having uri: core-api.jar","body":"<p>I can see by your application.xml header that you're using JavaEE 6 packaging and you also mentioned you're using WebSphere 8.5.5 so follow some ear packaging information.</p>\n<p>You do not need the application.xml at all if you're using annotated EJB 3.x and then follow the standard packaging convention:</p>\n<pre><code>app.ear\n|-- lib/$UTILITY_JARS_HERE\n|-- EJB.jars\n|-- web.war\n</code></pre>\n<p>Notice that this is the default packaging for Java EE 6 structures and following this all utility jars that you place inside the lib directory will be available to both the EJBs and WARs you have there so you should use this directory only if your utility jars are required by both EJBs and web applications. If your utility jar is used only by your web application then you should package them inside the standard WEB-INF/lib folder in you war package only.</p>\n<p>Now if you're using EJBs 2.x together with your packaging than you'll need to have the application.xml and declare your ejbs and war, you should keep the recommended approach of leaving the utilities jars inside the lib folder and the ones required only by the web layer inside the lib folder of the war package.</p>\n<p>If for any reason you want to keep your utilities jars at the root level or the ear you can use the approach of declaring them at the Manifest for the EAR but than you DON'T and can't declare them again in the manifest for the war package. All declared jars on the ear manifest will be automatically visible by the classloader of the war file and EJBs.</p>\n<p>The javaEE 6 specification Chapter 8 &quot;Application Assembly and Deployment&quot; has the complete explanation on this subject. You can <a href=\"http://download.oracle.com/otndocs/jcp/javaee-6.0-fr-eval-oth-JSpec/\" rel=\"nofollow noreferrer\">download the document here</a>.</p>\n"}],"owner":{"account_id":380946,"reputation":8170,"user_id":735284,"accept_rate":73,"display_name":"coderatchet"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24176,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":25014266,"answer_count":1,"score":7,"last_activity_date":1675025540,"creation_date":1406594213,"question_id":25006537,"body_markdown":"I have what is a simple EAR file configured like so:\r\n\r\n    app.ear\r\n    |-- lib/...\r\n    |-- META-INF/application.xml\r\n    |-- core.jar\r\n    |   |-- test/MyServiceImpl.class\r\n    |   `-- META-INF/MANIFEST.MF // Class-Path: core-api.jar \r\n    |-- core-api.jar\r\n    |   `-- test/MyService.class\r\n    `-- web.war\r\n        `-- META-INF/MANIFEST.MF // Class-Path: core.jar core-api.jar\r\n\r\nThe application.xml is as follows:\r\n\r\n    &lt;?xml version=&quot;1.0&quot;?&gt;\r\n    &lt;application xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot; id=&quot;app 1&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/application_6.xsd&quot; version=&quot;6&quot;&gt;\r\n      &lt;application-name&gt;MyApp&lt;/application-name&gt;\r\n      &lt;display-name&gt;My App&lt;/display-name&gt;\r\n      &lt;module id=&quot;mod 1&quot;&gt;\r\n        &lt;java&gt;core-api.jar&lt;/java&gt;\r\n      &lt;/module&gt;\r\n      &lt;module id=&quot;mod 2&quot;&gt;\r\n        &lt;java&gt;core.jar&lt;/java&gt;\r\n      &lt;/module&gt;\r\n      &lt;module id=&quot;mod 3&quot;&gt;\r\n        &lt;web&gt;\r\n          &lt;web-uri&gt;web.war&lt;/web-uri&gt;\r\n          &lt;context-root&gt;/&lt;/context-root&gt;\r\n        &lt;/web&gt;\r\n      &lt;/module&gt;\r\n      &lt;library-directory&gt;lib&lt;/library-directory&gt;\r\n    &lt;/application&gt;\r\n\r\nWhen i attempt to deploy the application to the server, I get the following exception:\r\n\r\n    [*] 00000088 SystemErr     R Caused by: org.eclipse.jst.j2ee.commonarchivecore.internal.exception.NoModuleFileException: A file does not exist for module element having uri: core-api.jar\r\n    [*] 00000088 SystemErr     R    at org.eclipse.jst.j2ee.commonarchivecore.internal.impl.ModuleRefImpl.checkType(ModuleRefImpl.java:591)\r\n    [*] 00000088 SystemErr     R    at org.eclipse.jst.j2ee.commonarchivecore.internal.impl.ModuleRefImpl.initModuleFileFromEAR(ModuleRefImpl.java:167)\r\n    [*] 00000088 SystemErr     R    at org.eclipse.jst.j2ee.commonarchivecore.internal.impl.ModuleRefImpl.getModuleFile(ModuleRefImpl.java:120)\r\n    [*] 00000088 SystemErr     R    at org.eclipse.jst.j2ee.commonarchivecore.internal.impl.EARFileImpl.getModuleFile(EARFileImpl.java:165)\r\n    [*] 00000088 SystemErr     R    at org.eclipse.jst.j2ee.commonarchivecore.internal.impl.EARFileImpl.getDeploymentDescriptor(EARFileImpl.java:817)\r\n    [*] 00000088 SystemErr     R    at org.eclipse.jst.j2ee.commonarchivecore.internal.impl.ModuleRefImpl.getDeploymentDescriptor(ModuleRefImpl.java:230)\r\n    [*] 00000088 SystemErr     R    ... 49 more\r\n\r\nI am using Websphere Test Environment v8.5.5.0\r\n\r\n&lt;s&gt;**UPDATE:** I suspected maybe the compression algorithm used to zip the ear file may be to blame and it seems as though I was right; unzipping and rezipping the ear file using 7zip caused the deployment to work without errors.\r\n\r\nI am using gradle as a build tool which provides it&#39;s own mechanism for zipping archives. I have tried setting the `entryCompression` mode to `ZipEntryCompression.STORED` without success.\r\n\r\nThis leads me to a new question: \r\n    \r\n1. How can i control the assembly/compression of the ear file to conform with what Websphere expects?\r\n\r\n    and\r\n\r\n2. What method does gradle use to compress the ear?\r\n\r\n**UPDATE 2:** Looking at the gradle source code, I can see the Zip implementation uses ant&#39;s `org.apache.tools.zip.ZipOutputStream` (1.9.3). has anyone had difficulty with this process before?&lt;/s&gt;\r\n\r\n**UPDATE 3:** It seems as if I&#39;ve been chasing a red herring. I have inspected the file that supposedly deployed correctly and saw that the ear contained an extra folder level above the root of the ear (that is `app.ear!app/&lt;root&gt;`).\r\n\r\nassuming that compression algorithms have nothing to do with it, does anyone have any ideas?\r\n\r\n**UPDATE 4:** Ok, I&#39;m really close, I managed to get the deployment working after inspecting some sample ear files and testing various theories. &lt;s&gt;I did these things and it worked&lt;/s&gt; (see Update 5).\r\n\r\n - Instead of java modules in the application.xml i have ejb modules\r\n - I included a basic META-INF/ejb-jar.xml file in the core.jar (even though the spec says you don&#39;t need them) as websphere apparently does not like it when it&#39;s missing\r\n - I removed the core-api.jar module from the application.xml\r\n\r\nSo i now have the following application.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot;?&gt;\r\n    &lt;application ...&gt;\r\n      &lt;application-name&gt;MyApp&lt;/application-name&gt;\r\n      &lt;display-name&gt;My App&lt;/display-name&gt;\r\n      &lt;module id=&quot;mod 1&quot;&gt;\r\n        &lt;ejb&gt;core.jar&lt;/ejb&gt;\r\n      &lt;/module&gt;\r\n      &lt;module id=&quot;mod 2&quot;&gt;\r\n        &lt;web&gt;\r\n          &lt;web-uri&gt;web.war&lt;/web-uri&gt;\r\n          &lt;context-root&gt;/&lt;/context-root&gt;\r\n        &lt;/web&gt;\r\n      &lt;/module&gt;\r\n      &lt;library-directory&gt;lib&lt;/library-directory&gt;\r\n    &lt;/application&gt;\r\n\r\nOne last question: how can i &#39;deploy&#39; an  artifact to an ear project without adding it to the application xml? alternatively, how can i customize the application.xml after the deployments have been resolved?\r\n\r\n**UPDATE 5:** Apologies for the fluctuating state of my question. \r\n\r\nAlthough the application successfully deployed, it did not start up, giving me an error saying that my ejb jars had no ejbs. I have since decided, following the advice I have received and also an answer below, that my spring-based jars are classed as &quot;utility&quot; jars and should live in the lib folder.\r\n\r\nI am expecting to use these jars in EJBs in the future and so wish to keep them in the lib folder instead of directly in the war.\r\n\r\nthis is my final application.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot;?&gt;\r\n    &lt;application ...&gt;\r\n      &lt;application-name&gt;MyApp&lt;/application-name&gt;\r\n      &lt;display-name&gt;My App&lt;/display-name&gt;\r\n      &lt;module&gt;\r\n        &lt;web&gt;\r\n          &lt;web-uri&gt;web.war&lt;/web-uri&gt;\r\n          &lt;context-root&gt;/&lt;/context-root&gt;\r\n        &lt;/web&gt;\r\n      &lt;/module&gt;\r\n      &lt;library-directory&gt;lib&lt;/library-directory&gt;\r\n    &lt;/application&gt;\r\n\r\nThank you for your time and patience.","title":"Hello World Ear: NoModuleFileException: A file does not exist for module element having uri: core-api.jar","body":"<p>I have what is a simple EAR file configured like so:</p>\n\n<pre><code>app.ear\n|-- lib/...\n|-- META-INF/application.xml\n|-- core.jar\n|   |-- test/MyServiceImpl.class\n|   `-- META-INF/MANIFEST.MF // Class-Path: core-api.jar \n|-- core-api.jar\n|   `-- test/MyService.class\n`-- web.war\n    `-- META-INF/MANIFEST.MF // Class-Path: core.jar core-api.jar\n</code></pre>\n\n<p>The application.xml is as follows:</p>\n\n<pre><code>&lt;?xml version=\"1.0\"?&gt;\n&lt;application xmlns=\"http://java.sun.com/xml/ns/javaee\" id=\"app 1\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/application_6.xsd\" version=\"6\"&gt;\n  &lt;application-name&gt;MyApp&lt;/application-name&gt;\n  &lt;display-name&gt;My App&lt;/display-name&gt;\n  &lt;module id=\"mod 1\"&gt;\n    &lt;java&gt;core-api.jar&lt;/java&gt;\n  &lt;/module&gt;\n  &lt;module id=\"mod 2\"&gt;\n    &lt;java&gt;core.jar&lt;/java&gt;\n  &lt;/module&gt;\n  &lt;module id=\"mod 3\"&gt;\n    &lt;web&gt;\n      &lt;web-uri&gt;web.war&lt;/web-uri&gt;\n      &lt;context-root&gt;/&lt;/context-root&gt;\n    &lt;/web&gt;\n  &lt;/module&gt;\n  &lt;library-directory&gt;lib&lt;/library-directory&gt;\n&lt;/application&gt;\n</code></pre>\n\n<p>When i attempt to deploy the application to the server, I get the following exception:</p>\n\n<pre><code>[*] 00000088 SystemErr     R Caused by: org.eclipse.jst.j2ee.commonarchivecore.internal.exception.NoModuleFileException: A file does not exist for module element having uri: core-api.jar\n[*] 00000088 SystemErr     R    at org.eclipse.jst.j2ee.commonarchivecore.internal.impl.ModuleRefImpl.checkType(ModuleRefImpl.java:591)\n[*] 00000088 SystemErr     R    at org.eclipse.jst.j2ee.commonarchivecore.internal.impl.ModuleRefImpl.initModuleFileFromEAR(ModuleRefImpl.java:167)\n[*] 00000088 SystemErr     R    at org.eclipse.jst.j2ee.commonarchivecore.internal.impl.ModuleRefImpl.getModuleFile(ModuleRefImpl.java:120)\n[*] 00000088 SystemErr     R    at org.eclipse.jst.j2ee.commonarchivecore.internal.impl.EARFileImpl.getModuleFile(EARFileImpl.java:165)\n[*] 00000088 SystemErr     R    at org.eclipse.jst.j2ee.commonarchivecore.internal.impl.EARFileImpl.getDeploymentDescriptor(EARFileImpl.java:817)\n[*] 00000088 SystemErr     R    at org.eclipse.jst.j2ee.commonarchivecore.internal.impl.ModuleRefImpl.getDeploymentDescriptor(ModuleRefImpl.java:230)\n[*] 00000088 SystemErr     R    ... 49 more\n</code></pre>\n\n<p>I am using Websphere Test Environment v8.5.5.0</p>\n\n<p><s><strong>UPDATE:</strong> I suspected maybe the compression algorithm used to zip the ear file may be to blame and it seems as though I was right; unzipping and rezipping the ear file using 7zip caused the deployment to work without errors.</p>\n\n<p>I am using gradle as a build tool which provides it's own mechanism for zipping archives. I have tried setting the <code>entryCompression</code> mode to <code>ZipEntryCompression.STORED</code> without success.</p>\n\n<p>This leads me to a new question: </p>\n\n<ol>\n<li><p>How can i control the assembly/compression of the ear file to conform with what Websphere expects?</p>\n\n<p>and</p></li>\n<li><p>What method does gradle use to compress the ear?</p></li>\n</ol>\n\n<p><strong>UPDATE 2:</strong> Looking at the gradle source code, I can see the Zip implementation uses ant's <code>org.apache.tools.zip.ZipOutputStream</code> (1.9.3). has anyone had difficulty with this process before?</s></p>\n\n<p><strong>UPDATE 3:</strong> It seems as if I've been chasing a red herring. I have inspected the file that supposedly deployed correctly and saw that the ear contained an extra folder level above the root of the ear (that is <code>app.ear!app/&lt;root&gt;</code>).</p>\n\n<p>assuming that compression algorithms have nothing to do with it, does anyone have any ideas?</p>\n\n<p><strong>UPDATE 4:</strong> Ok, I'm really close, I managed to get the deployment working after inspecting some sample ear files and testing various theories. <s>I did these things and it worked</s> (see Update 5).</p>\n\n<ul>\n<li>Instead of java modules in the application.xml i have ejb modules</li>\n<li>I included a basic META-INF/ejb-jar.xml file in the core.jar (even though the spec says you don't need them) as websphere apparently does not like it when it's missing</li>\n<li>I removed the core-api.jar module from the application.xml</li>\n</ul>\n\n<p>So i now have the following application.xml:</p>\n\n<pre><code>&lt;?xml version=\"1.0\"?&gt;\n&lt;application ...&gt;\n  &lt;application-name&gt;MyApp&lt;/application-name&gt;\n  &lt;display-name&gt;My App&lt;/display-name&gt;\n  &lt;module id=\"mod 1\"&gt;\n    &lt;ejb&gt;core.jar&lt;/ejb&gt;\n  &lt;/module&gt;\n  &lt;module id=\"mod 2\"&gt;\n    &lt;web&gt;\n      &lt;web-uri&gt;web.war&lt;/web-uri&gt;\n      &lt;context-root&gt;/&lt;/context-root&gt;\n    &lt;/web&gt;\n  &lt;/module&gt;\n  &lt;library-directory&gt;lib&lt;/library-directory&gt;\n&lt;/application&gt;\n</code></pre>\n\n<p>One last question: how can i 'deploy' an  artifact to an ear project without adding it to the application xml? alternatively, how can i customize the application.xml after the deployments have been resolved?</p>\n\n<p><strong>UPDATE 5:</strong> Apologies for the fluctuating state of my question. </p>\n\n<p>Although the application successfully deployed, it did not start up, giving me an error saying that my ejb jars had no ejbs. I have since decided, following the advice I have received and also an answer below, that my spring-based jars are classed as \"utility\" jars and should live in the lib folder.</p>\n\n<p>I am expecting to use these jars in EJBs in the future and so wish to keep them in the lib folder instead of directly in the war.</p>\n\n<p>this is my final application.xml:</p>\n\n<pre><code>&lt;?xml version=\"1.0\"?&gt;\n&lt;application ...&gt;\n  &lt;application-name&gt;MyApp&lt;/application-name&gt;\n  &lt;display-name&gt;My App&lt;/display-name&gt;\n  &lt;module&gt;\n    &lt;web&gt;\n      &lt;web-uri&gt;web.war&lt;/web-uri&gt;\n      &lt;context-root&gt;/&lt;/context-root&gt;\n    &lt;/web&gt;\n  &lt;/module&gt;\n  &lt;library-directory&gt;lib&lt;/library-directory&gt;\n&lt;/application&gt;\n</code></pre>\n\n<p>Thank you for your time and patience.</p>\n"},{"tags":["java","error-handling","overflow"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1675023117,"post_id":75278014,"comment_id":132834269,"body_markdown":"The exercise says specifically: &quot;using *integer* arithmetic&quot;","body":"The exercise says specifically: &quot;using <i>integer</i> arithmetic&quot;"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1675023555,"post_id":75278014,"comment_id":132834351,"body_markdown":"For the first part, you&#39;re supposed to use integer arithmetic.  For the second part, you&#39;re supposed to recalculate everything using floating point arithmetic.  In other words, you&#39;re not supposed to just recast the results from the first part, which is what you&#39;re trying to do.","body":"For the first part, you&#39;re supposed to use integer arithmetic.  For the second part, you&#39;re supposed to recalculate everything using floating point arithmetic.  In other words, you&#39;re not supposed to just recast the results from the first part, which is what you&#39;re trying to do."},{"owner":{"account_id":21182239,"reputation":11,"user_id":15576401,"display_name":"Pmesh"},"score":0,"creation_date":1675023593,"post_id":75278014,"comment_id":132834352,"body_markdown":"so what do you mean by that? If I convert them all to ints it would be limited by the size an int can be and in turn not give me the correct answer of: 3000000000000000000000.000","body":"so what do you mean by that? If I convert them all to ints it would be limited by the size an int can be and in turn not give me the correct answer of: 3000000000000000000000.000"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1675031085,"post_id":75278014,"comment_id":132835540,"body_markdown":"Yes, that&#39;s exactly the point.  If you use integer arithmetic, the product turns out to be -1679818752.  It&#39;s not numerically correct, of course, but the exercise is to demonstrate that integer arithmetic goes bad when numbers get big enough.  But because you&#39;re using floating point arithmetic to find the product, and converting the result to an `int` afterwards, you&#39;re getting 2147483647, for no other reason than that&#39;s the largest possible `int`.  This result is also numerically incorrect, of course, but it&#39;s also different from the result that the test is expecting.","body":"Yes, that&#39;s exactly the point.  If you use integer arithmetic, the product turns out to be -1679818752.  It&#39;s not numerically correct, of course, but the exercise is to demonstrate that integer arithmetic goes bad when numbers get big enough.  But because you&#39;re using floating point arithmetic to find the product, and converting the result to an <code>int</code> afterwards, you&#39;re getting 2147483647, for no other reason than that&#39;s the largest possible <code>int</code>.  This result is also numerically incorrect, of course, but it&#39;s also different from the result that the test is expecting."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675025505,"creation_date":1675025505,"answer_id":75278307,"question_id":75278014,"body_markdown":"You&#39;re not using integer arithmetic, you are doing `double` arithmetic.\r\n\r\nThe problem with any number stored in a computer is that, unless you sign up to have the memory taken by it grow potentially to infinite sizes (and we haven&#39;t yet invented computers with infinite memory, so that&#39;s a problem), you&#39;re stuck having to store them in a fixed &#39;size&#39;. `int` is 32-bits, `double` is 64-bits. In any case, 32 bits worth of data can only store at most 2 to the 32th power different values. doubles, given that they are 64-bit, can store at most `2^64` different unique values. For the same reason 1 plus 1 is 2 - fundamental mathematical property.\r\n\r\nFor int/long, the chosen values are all integers &#39;near 0&#39;, i.e. `2^31-1` on the plus side and `-2^31` on the negative side are the &#39;largest&#39; numbers that an `int` can store.\r\n\r\nIf you go &#39;past&#39; the edges, the numbers wrap around. That&#39;s how `int` / `long` &#39;solve&#39; the problem when you try to do math that needs more bits than you have.\r\n\r\nFor `double`, instead, certain specific numbers on the number line are &#39;blessed&#39; to be representable, and any other result is rounded to the nearest blessed number. As you move away from 0 (i.e. ever larger numbers), there are fewer and fewer blessed numbers. Around 2^52, the distance is more than 1 between any 2 blessed numbers, even. _This does mean that `double` can represent really, really large numbers_. Just, with a ton of error (as I said, double math silently rounds to the nearest blessed number. If the gaps between any 2 blessed numbers are large, and they are for large numbers, all that rounding adds up to lots of error). That&#39;s how `double` solves the problem when you go beyond what its bits reasonably let you do: Egregious amounts of rounding, and eventually, you get a number that is called `NaN` (not a number) if you go far enough.\r\n\r\nSo, for `double`, the result is off with increasing levels of error, or even `NaN`. It doesn&#39;t, ever, &#39;overflow&#39; (flip around to the other end of the number line).\r\n\r\nYou&#39;re doing double math, hence why you aren&#39;t witnessing the &#39;overflow&#39; kind of mathematical incorrectness. You&#39;re observing the rounding version.\r\n\r\nUse all integral math as the exercise asks you to do. To get an average:\r\n\r\n```\r\nint product = int1 * int2 * int3 * int4;\r\nint average =  (int1+int2+int3+int4)/4;\r\n```\r\n\r\nYes, the average is now &#39;wrong&#39;, but the problem __explicitly says this is the desired result__.\r\n","title":"My code is failing for two specific input tests. &quot;No overflow&quot; and &quot;Big integers overflow&quot;","body":"<p>You're not using integer arithmetic, you are doing <code>double</code> arithmetic.</p>\n<p>The problem with any number stored in a computer is that, unless you sign up to have the memory taken by it grow potentially to infinite sizes (and we haven't yet invented computers with infinite memory, so that's a problem), you're stuck having to store them in a fixed 'size'. <code>int</code> is 32-bits, <code>double</code> is 64-bits. In any case, 32 bits worth of data can only store at most 2 to the 32th power different values. doubles, given that they are 64-bit, can store at most <code>2^64</code> different unique values. For the same reason 1 plus 1 is 2 - fundamental mathematical property.</p>\n<p>For int/long, the chosen values are all integers 'near 0', i.e. <code>2^31-1</code> on the plus side and <code>-2^31</code> on the negative side are the 'largest' numbers that an <code>int</code> can store.</p>\n<p>If you go 'past' the edges, the numbers wrap around. That's how <code>int</code> / <code>long</code> 'solve' the problem when you try to do math that needs more bits than you have.</p>\n<p>For <code>double</code>, instead, certain specific numbers on the number line are 'blessed' to be representable, and any other result is rounded to the nearest blessed number. As you move away from 0 (i.e. ever larger numbers), there are fewer and fewer blessed numbers. Around 2^52, the distance is more than 1 between any 2 blessed numbers, even. <em>This does mean that <code>double</code> can represent really, really large numbers</em>. Just, with a ton of error (as I said, double math silently rounds to the nearest blessed number. If the gaps between any 2 blessed numbers are large, and they are for large numbers, all that rounding adds up to lots of error). That's how <code>double</code> solves the problem when you go beyond what its bits reasonably let you do: Egregious amounts of rounding, and eventually, you get a number that is called <code>NaN</code> (not a number) if you go far enough.</p>\n<p>So, for <code>double</code>, the result is off with increasing levels of error, or even <code>NaN</code>. It doesn't, ever, 'overflow' (flip around to the other end of the number line).</p>\n<p>You're doing double math, hence why you aren't witnessing the 'overflow' kind of mathematical incorrectness. You're observing the rounding version.</p>\n<p>Use all integral math as the exercise asks you to do. To get an average:</p>\n<pre><code>int product = int1 * int2 * int3 * int4;\nint average =  (int1+int2+int3+int4)/4;\n</code></pre>\n<p>Yes, the average is now 'wrong', but the problem <strong>explicitly says this is the desired result</strong>.</p>\n"}],"owner":{"account_id":21182239,"reputation":11,"user_id":15576401,"display_name":"Pmesh"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":128,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1675025505,"creation_date":1675022895,"question_id":75278014,"body_markdown":"Part 1\r\nGiven 4 integers, output their product and their average, using integer arithmetic.\r\n\r\nEx: If the input is:\r\n\r\n8 10 5 4\r\nthe output is:\r\n\r\n1600 6\r\nNote: Integer division discards the fraction. Hence the average of 8 10 5 4 is output as 6, not 6.75.\r\n\r\nNote: The test cases include four very large input values whose product results in overflow. You do not need to do anything special, but just observe that the output does not represent the correct product (in fact, four positive numbers yield a negative output; wow).\r\n\r\nYour program will fail the last test cases (which is expected) until you complete part 2 below. Leave these statements in but also add the statement(s) for part 2.\r\n\r\nPart 2\r\nAlso output the product and average, using floating-point arithmetic.\r\n\r\nOutput each floating-point value with three digits after the decimal point, which can be achieved as follows:\r\nSystem.out.printf(&quot;%.3f&quot;, yourValue);\r\n\r\nEx: If the input is 8 10 5 4, the output is:\r\n\r\n1600 6\r\n1600.000 6.750\r\nNote that fractions aren&#39;t discarded, and that overflow does not occur for the test case with large values.\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class ProgrammingAssignment1 {\r\n   public static void main(String[] args) {\r\n\r\n      Scanner scnr = new Scanner(System.in);\r\n\r\n\r\n\tint int1;\r\n\tint int2;\r\n\tint int3;\r\n\tint int4;\r\n\r\n\tint1 = scnr.nextInt();\r\n\tint2 = scnr.nextInt();\r\n\tint3 = scnr.nextInt();\r\n\tint4 = scnr.nextInt();\r\n\r\n//pt 1\r\n\tdouble product = ((double) int1) * int2 * int3 * int4;\r\n\tdouble average =  (int1+int2+int3+int4)/4.0;\r\n\r\n//pt 2\r\n        int result1 = (int) average;\r\n        int result2 = (int) product;\r\n\r\n        System.out.printf(&quot;%d %d\\n&quot;,result2,result1);\r\n        System.out.printf(&quot;%.3f %.3f\\n&quot;,product,average);\r\n\t}\r\n}\r\n```\r\nHere is my code. It is failing for these tests specifically. Otherwise it runs fine.\r\nOutput differs. See highlights below.\r\nInput\r\n100000 200000 300000 500000\r\nYour output\r\n2147483647 275000\r\n3000000000000000000000.000 275000.000\r\nExpected output\r\n-1679818752 275000\r\n3000000000000000000000.000 275000.000\r\n\r\nand \r\n\r\nOutput differs. See highlights below. \r\nSpecial character legend\r\nInput\r\n100000 200000 300000 500000\r\nYour output starts with\r\n2147483647 275000\r\n3000000000000000000000.000 275000.000\r\nExpected output starts with\r\n-1679818752 275000\r\n\r\nI have tried manipulating the variable types. But with no luck ","title":"My code is failing for two specific input tests. &quot;No overflow&quot; and &quot;Big integers overflow&quot;","body":"<p>Part 1\nGiven 4 integers, output their product and their average, using integer arithmetic.</p>\n<p>Ex: If the input is:</p>\n<p>8 10 5 4\nthe output is:</p>\n<p>1600 6\nNote: Integer division discards the fraction. Hence the average of 8 10 5 4 is output as 6, not 6.75.</p>\n<p>Note: The test cases include four very large input values whose product results in overflow. You do not need to do anything special, but just observe that the output does not represent the correct product (in fact, four positive numbers yield a negative output; wow).</p>\n<p>Your program will fail the last test cases (which is expected) until you complete part 2 below. Leave these statements in but also add the statement(s) for part 2.</p>\n<p>Part 2\nAlso output the product and average, using floating-point arithmetic.</p>\n<p>Output each floating-point value with three digits after the decimal point, which can be achieved as follows:\nSystem.out.printf(&quot;%.3f&quot;, yourValue);</p>\n<p>Ex: If the input is 8 10 5 4, the output is:</p>\n<p>1600 6\n1600.000 6.750\nNote that fractions aren't discarded, and that overflow does not occur for the test case with large values.</p>\n<pre><code>import java.util.Scanner;\n\npublic class ProgrammingAssignment1 {\n   public static void main(String[] args) {\n\n      Scanner scnr = new Scanner(System.in);\n\n\n    int int1;\n    int int2;\n    int int3;\n    int int4;\n\n    int1 = scnr.nextInt();\n    int2 = scnr.nextInt();\n    int3 = scnr.nextInt();\n    int4 = scnr.nextInt();\n\n//pt 1\n    double product = ((double) int1) * int2 * int3 * int4;\n    double average =  (int1+int2+int3+int4)/4.0;\n\n//pt 2\n        int result1 = (int) average;\n        int result2 = (int) product;\n\n        System.out.printf(&quot;%d %d\\n&quot;,result2,result1);\n        System.out.printf(&quot;%.3f %.3f\\n&quot;,product,average);\n    }\n}\n</code></pre>\n<p>Here is my code. It is failing for these tests specifically. Otherwise it runs fine.\nOutput differs. See highlights below.\nInput\n100000 200000 300000 500000\nYour output\n2147483647 275000\n3000000000000000000000.000 275000.000\nExpected output\n-1679818752 275000\n3000000000000000000000.000 275000.000</p>\n<p>and</p>\n<p>Output differs. See highlights below.\nSpecial character legend\nInput\n100000 200000 300000 500000\nYour output starts with\n2147483647 275000\n3000000000000000000000.000 275000.000\nExpected output starts with\n-1679818752 275000</p>\n<p>I have tried manipulating the variable types. But with no luck</p>\n"},{"tags":["java","spring","spring-boot","spring-security","mtls"],"comments":[{"owner":{"account_id":449256,"reputation":2122,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"score":0,"creation_date":1674810128,"post_id":75249923,"comment_id":132796549,"body_markdown":"What url do you use? Did you install the client-certificate into the browser?","body":"What url do you use? Did you install the client-certificate into the browser?"},{"owner":{"account_id":449256,"reputation":2122,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"score":0,"creation_date":1674810493,"post_id":75249923,"comment_id":132796647,"body_markdown":"Using chrome/chromium, did you activated `chrome://flags#allow-insecure-localhost`? Firefox, did you activated `about:config#security.default_personal_cert`?","body":"Using chrome/chromium, did you activated <code>chrome:&#47;&#47;flags#allow-insecure-localhost</code>? Firefox, did you activated <code>about:config#security.default_personal_cert</code>?"},{"owner":{"account_id":449256,"reputation":2122,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"score":0,"creation_date":1674810642,"post_id":75249923,"comment_id":132796677,"body_markdown":"Is the public part of the client-cert within the server&#39;s truststore?","body":"Is the public part of the client-cert within the server&#39;s truststore?"},{"owner":{"account_id":449256,"reputation":2122,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"score":0,"creation_date":1674810759,"post_id":75249923,"comment_id":132796714,"body_markdown":"Is the client-certificate issued by the server only? Is the client-certificate signed by the server&#39;s certificate?","body":"Is the client-certificate issued by the server only? Is the client-certificate signed by the server&#39;s certificate?"},{"owner":{"account_id":9639795,"reputation":817,"user_id":7154462,"accept_rate":100,"display_name":"desertSniper87"},"score":1,"creation_date":1674831040,"post_id":75249923,"comment_id":132802981,"body_markdown":"@Grim, I create a root CA, client certificate and server certificate using openssl (https://torsho-digital-garden.netlify.app/net/sec/pki/tls/implementation-of-m-tls-in-node-js/). I then imported the root CA as a certificate authority and client certificate as my certificate in firefox. The client.crt is imported into the truststore using `keytool -import -alias torsho -file ~/dev/mTLS-nodejs-poc/client.crt -keystore server.p12 -storepass 123456`. The client certificate and server certificate both are signed by the root CA. Then. I am going to https://localhost:8081/user in firefox.","body":"@Grim, I create a root CA, client certificate and server certificate using openssl (<a href=\"https://torsho-digital-garden.netlify.app/net/sec/pki/tls/implementation-of-m-tls-in-node-js/\" rel=\"nofollow noreferrer\">torsho-digital-garden.netlify.app/net/sec/pki/tls/&hellip;</a>). I then imported the root CA as a certificate authority and client certificate as my certificate in firefox. The client.crt is imported into the truststore using <code>keytool -import -alias torsho -file ~&#47;dev&#47;mTLS-nodejs-poc&#47;client.crt -keystore server.p12 -storepass 123456</code>. The client certificate and server certificate both are signed by the root CA. Then. I am going to <a href=\"https://localhost:8081/user\" rel=\"nofollow noreferrer\">localhost:8081/user</a> in firefox."},{"owner":{"account_id":9639795,"reputation":817,"user_id":7154462,"accept_rate":100,"display_name":"desertSniper87"},"score":1,"creation_date":1674831149,"post_id":75249923,"comment_id":132803009,"body_markdown":"I can enter the website by choosing the certificate but cannot get the client certificate in the application layer in the spring boot application.","body":"I can enter the website by choosing the certificate but cannot get the client certificate in the application layer in the spring boot application."},{"owner":{"account_id":9639795,"reputation":817,"user_id":7154462,"accept_rate":100,"display_name":"desertSniper87"},"score":1,"creation_date":1674831173,"post_id":75249923,"comment_id":132803017,"body_markdown":"I am using `https://localhost:8081/user` to hit the webpage.","body":"I am using <code>https:&#47;&#47;localhost:8081&#47;user</code> to hit the webpage."},{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":0,"creation_date":1674907926,"post_id":75249923,"comment_id":132816619,"body_markdown":"@desertSniper87 you can enter an authenticated URL (other than `/`, `/home` and `/login`)?","body":"@desertSniper87 you can enter an authenticated URL (other than <code>&#47;</code>, <code>&#47;home</code> and <code>&#47;login</code>)?"},{"owner":{"account_id":9639795,"reputation":817,"user_id":7154462,"accept_rate":100,"display_name":"desertSniper87"},"score":0,"creation_date":1674965234,"post_id":75249923,"comment_id":132825341,"body_markdown":"@dur, yes i can.","body":"@dur, yes i can."},{"owner":{"account_id":449256,"reputation":2122,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"score":1,"creation_date":1675023935,"post_id":75249923,"comment_id":132834390,"body_markdown":"@desertSniper87 Your code looks correct. All things you told looks correct. Indeed, very interresting! +1 from me","body":"@desertSniper87 Your code looks correct. All things you told looks correct. Indeed, very interresting! +1 from me"}],"answers":[{"tags":[],"owner":{"account_id":449256,"reputation":2122,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1675025405,"creation_date":1675025405,"answer_id":75278293,"question_id":75249923,"body_markdown":"Please try \r\n\r\n    jakarta.servlet.request.X509Certificate\r\n\r\ninstead of \r\n\r\n    javax.servlet.request.X509Certificate\r\n\r\nSee: https://tomcat.apache.org/tomcat-10.0-doc/servletapi/jakarta/servlet/ServletRequest.html#getAttribute(java.lang.String)","title":"Cannot read client&#39;s X509 certificate in Spring Boot mTLS","body":"<p>Please try</p>\n<pre><code>jakarta.servlet.request.X509Certificate\n</code></pre>\n<p>instead of</p>\n<pre><code>javax.servlet.request.X509Certificate\n</code></pre>\n<p>See: <a href=\"https://tomcat.apache.org/tomcat-10.0-doc/servletapi/jakarta/servlet/ServletRequest.html#getAttribute(java.lang.String)\" rel=\"nofollow noreferrer\">https://tomcat.apache.org/tomcat-10.0-doc/servletapi/jakarta/servlet/ServletRequest.html#getAttribute(java.lang.String)</a></p>\n"}],"owner":{"account_id":9639795,"reputation":817,"user_id":7154462,"accept_rate":100,"display_name":"desertSniper87"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":950,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75278293,"answer_count":1,"score":2,"last_activity_date":1675025405,"creation_date":1674755674,"question_id":75249923,"body_markdown":"I want to read client&#39;s x509 certificate in a mTLS connection. I am using Spring Boot with embedded tomcat. \r\n\r\nMy `WebSecurityConfig.java`\r\n\r\n```java\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class WebSecurityConfig {\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        http\r\n                .authorizeHttpRequests((requests) -&gt; requests\r\n                        .requestMatchers(&quot;/&quot;, &quot;/home&quot;).permitAll()\r\n                        .anyRequest().authenticated()\r\n                )\r\n                .x509().withObjectPostProcessor(new ObjectPostProcessor&lt;X509AuthenticationFilter&gt;() {\r\n                    @Override\r\n                    public &lt;O extends X509AuthenticationFilter&gt; O postProcess(O filter) {\r\n//                        filter.setContinueFilterChainOnUnsuccessfulAuthentication(false);\r\n                        return filter;\r\n                    }\r\n                }).and()\r\n                .sessionManagement()\r\n                .sessionCreationPolicy(SessionCreationPolicy.NEVER)\r\n                .and()\r\n                .csrf()\r\n                .disable()\r\n                .formLogin((form) -&gt; form\r\n                        .loginPage(&quot;/login&quot;)\r\n                        .permitAll()\r\n                )\r\n                .logout((logout) -&gt; logout.permitAll());\r\n\r\n\r\n        return http.build();\r\n    }\r\n\r\n    @Bean\r\n    public UserDetailsService userDetailsService() {\r\n        UserDetails user =\r\n                User.withDefaultPasswordEncoder()\r\n                        .username(&quot;u&quot;)\r\n                        .password(&quot;p&quot;)\r\n                        .roles(&quot;USER&quot;)\r\n                        .build();\r\n\r\n        return new InMemoryUserDetailsManager(user);\r\n    }\r\n}\r\n```\r\n\r\nI have a `UserController.java`\r\n\r\n\r\n```java\r\n@Controller  \r\npublic class UserController {  \r\n    @Autowired  \r\n    private HttpServletRequest context;  \r\n  \r\n    @RequestMapping(value = &quot;/user&quot;)  \r\n    public String user(HttpServletRequest request) {  \r\n  \r\n        X509Certificate[] certs = (X509Certificate[]) request.getAttribute(&quot;javax.servlet.request.X509Certificate&quot;);  \r\n        System.out.println(certs[0]);  \r\n  \r\n        return &quot;user&quot;;  \r\n    }  \r\n}\r\n```\r\n\r\nMy `application.yml`\r\n\r\n```yml\r\nserver:  \r\n  port: 8081  \r\n  ssl:  \r\n    enabled: true  \r\n    key-store: &quot;classpath:server.p12&quot;  \r\n    key-store-password: 123456  \r\n    key-store-type: PKCS12  \r\n    client-auth: need  \r\n    enabled-protocols: TLSv1.2  \r\n  \r\n    trust-store: &quot;classpath:server.p12&quot;  \r\n    trust-store-type: pkcs12  \r\n    trust-store-password: 123456\r\n```\r\n\r\nThen I run the code using `mvn spring-boot:run -DclientAuth=true`\r\n\r\n\r\nBut it seems, certificate is null when I hit the `/user` endpoint. \r\n\r\n```java\r\njava.lang.NullPointerException: Cannot load from object array because &quot;certs&quot; is null\r\n\tat com.example.securingweb.UserController.user(UserController.java:20) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207) ~[spring-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152) ~[spring-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-6.0.2.jar:6.0.2]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.2.jar:6.0.2]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.2.jar:6.0.2]\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.2.jar:6.0.2]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1080) ~[spring-webmvc-6.0.2.jar:6.0.2]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:973) ~[spring-webmvc-6.0.2.jar:6.0.2]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003) ~[spring-webmvc-6.0.2.jar:6.0.2]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:895) ~[spring-webmvc-6.0.2.jar:6.0.2]\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:705) ~[tomcat-embed-core-10.1.1.jar:6.0]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:880) ~[spring-webmvc-6.0.2.jar:6.0.2]\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:814) ~[tomcat-embed-core-10.1.1.jar:6.0]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:223) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-10.1.1.jar:10.1.1]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\r\n\tat org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.0.0.jar:6.0.0]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.0.0.jar:6.0.0]\r\n\tat org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100) ~[spring-security-web-6.0.0.jar:6.0.0]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.0.jar:6.0.0]\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.0.0.jar:6.0.0]\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.0.0.jar:6.0.0]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.0.jar:6.0.0]\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.0.0.jar:6.0.0]\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.0.0.jar:6.0.0]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.0.jar:6.0.0]\r\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.0.0.jar:6.0.0]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.0.jar:6.0.0]\r\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.0.0.jar:6.0.0]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.0.jar:6.0.0]\r\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.0.0.jar:6.0.0]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.0.jar:6.0.0]\r\n\tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.0.0.jar:6.0.0]\r\n\tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.0.0.jar:6.0.0]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.0.jar:6.0.0]\r\n\tat org.springframework.security.web.authentication.preauth.AbstractPreAuthenticatedProcessingFilter.doFilter(AbstractPreAuthenticatedProcessingFilter.java:150) ~[spring-security-web-6.0.0.jar:6.0.0]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.0.jar:6.0.0]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.0.0.jar:6.0.0]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.0.0.jar:6.0.0]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.0.jar:6.0.0]\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.0.0.jar:6.0.0]\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.0.0.jar:6.0.0]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.0.jar:6.0.0]\r\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilterInternal(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.0.0.jar:6.0.0]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.0.jar:6.0.0]\r\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.0.0.jar:6.0.0]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.0.jar:6.0.0]\r\n\tat org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.0.0.jar:6.0.0]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.0.jar:6.0.0]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.0.0.jar:6.0.0]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.0.0.jar:6.0.0]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:351) ~[spring-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-6.0.2.jar:6.0.2]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.2.jar:6.0.2]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.2.jar:6.0.2]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.2.jar:6.0.2]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:861) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1739) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\r\n\tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n\r\n\r\n```\r\n\r\nMy `keytool -list -keystore server.p12` output:\r\n\r\n```\r\nEnter keystore password:  \r\nKeystore type: PKCS12\r\nKeystore provider: SUN\r\n\r\nYour keystore contains 3 entries\r\n\r\n1, Jan 27, 2023, PrivateKeyEntry, \r\nCertificate fingerprint (SHA-256): 4F:04:0B:CF:21:AB:45:4A:17:C1:83:93:B0:5D:3C:D4:04:80:B2:0B:79:24:68:70:18:36:5C:CE:7B:77:6C:23\r\nbcc, Jan 27, 2023, trustedCertEntry, \r\nCertificate fingerprint (SHA-256): 49:EF:A6:0F:E7:81:71:22:2B:F5:BD:D0:76:48:77:70:EE:5E:E9:23:BB:FF:66:AC:68:2D:CB:D3:4F:D1:87:DC\r\ntorsho, Jan 27, 2023, trustedCertEntry, \r\nCertificate fingerprint (SHA-256): C0:42:3A:FD:9F:00:A9:6D:05:8B:2F:F9:B9:DE:A7:A7:DA:6F:19:6B:D7:33:34:D6:4F:D3:D8:78:12:AA:25:0A\r\n```\r\n\r\n[My full project](https://github.com/desertSniper87/spring-boot-mtls)","title":"Cannot read client&#39;s X509 certificate in Spring Boot mTLS","body":"<p>I want to read client's x509 certificate in a mTLS connection. I am using Spring Boot with embedded tomcat.</p>\n<p>My <code>WebSecurityConfig.java</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableWebSecurity\npublic class WebSecurityConfig {\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http\n                .authorizeHttpRequests((requests) -&gt; requests\n                        .requestMatchers(&quot;/&quot;, &quot;/home&quot;).permitAll()\n                        .anyRequest().authenticated()\n                )\n                .x509().withObjectPostProcessor(new ObjectPostProcessor&lt;X509AuthenticationFilter&gt;() {\n                    @Override\n                    public &lt;O extends X509AuthenticationFilter&gt; O postProcess(O filter) {\n//                        filter.setContinueFilterChainOnUnsuccessfulAuthentication(false);\n                        return filter;\n                    }\n                }).and()\n                .sessionManagement()\n                .sessionCreationPolicy(SessionCreationPolicy.NEVER)\n                .and()\n                .csrf()\n                .disable()\n                .formLogin((form) -&gt; form\n                        .loginPage(&quot;/login&quot;)\n                        .permitAll()\n                )\n                .logout((logout) -&gt; logout.permitAll());\n\n\n        return http.build();\n    }\n\n    @Bean\n    public UserDetailsService userDetailsService() {\n        UserDetails user =\n                User.withDefaultPasswordEncoder()\n                        .username(&quot;u&quot;)\n                        .password(&quot;p&quot;)\n                        .roles(&quot;USER&quot;)\n                        .build();\n\n        return new InMemoryUserDetailsManager(user);\n    }\n}\n</code></pre>\n<p>I have a <code>UserController.java</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Controller  \npublic class UserController {  \n    @Autowired  \n    private HttpServletRequest context;  \n  \n    @RequestMapping(value = &quot;/user&quot;)  \n    public String user(HttpServletRequest request) {  \n  \n        X509Certificate[] certs = (X509Certificate[]) request.getAttribute(&quot;javax.servlet.request.X509Certificate&quot;);  \n        System.out.println(certs[0]);  \n  \n        return &quot;user&quot;;  \n    }  \n}\n</code></pre>\n<p>My <code>application.yml</code></p>\n<pre class=\"lang-yaml prettyprint-override\"><code>server:  \n  port: 8081  \n  ssl:  \n    enabled: true  \n    key-store: &quot;classpath:server.p12&quot;  \n    key-store-password: 123456  \n    key-store-type: PKCS12  \n    client-auth: need  \n    enabled-protocols: TLSv1.2  \n  \n    trust-store: &quot;classpath:server.p12&quot;  \n    trust-store-type: pkcs12  \n    trust-store-password: 123456\n</code></pre>\n<p>Then I run the code using <code>mvn spring-boot:run -DclientAuth=true</code></p>\n<p>But it seems, certificate is null when I hit the <code>/user</code> endpoint.</p>\n<pre class=\"lang-java prettyprint-override\"><code>java.lang.NullPointerException: Cannot load from object array because &quot;certs&quot; is null\n    at com.example.securingweb.UserController.user(UserController.java:20) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207) ~[spring-web-6.0.2.jar:6.0.2]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152) ~[spring-web-6.0.2.jar:6.0.2]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-6.0.2.jar:6.0.2]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.2.jar:6.0.2]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.2.jar:6.0.2]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.2.jar:6.0.2]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1080) ~[spring-webmvc-6.0.2.jar:6.0.2]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:973) ~[spring-webmvc-6.0.2.jar:6.0.2]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1003) ~[spring-webmvc-6.0.2.jar:6.0.2]\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:895) ~[spring-webmvc-6.0.2.jar:6.0.2]\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:705) ~[tomcat-embed-core-10.1.1.jar:6.0]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:880) ~[spring-webmvc-6.0.2.jar:6.0.2]\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:814) ~[tomcat-embed-core-10.1.1.jar:6.0]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:223) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-10.1.1.jar:10.1.1]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\n    at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.0.0.jar:6.0.0]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.0.0.jar:6.0.0]\n    at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100) ~[spring-security-web-6.0.0.jar:6.0.0]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.0.jar:6.0.0]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.0.0.jar:6.0.0]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.0.0.jar:6.0.0]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.0.jar:6.0.0]\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.0.0.jar:6.0.0]\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.0.0.jar:6.0.0]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.0.jar:6.0.0]\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.0.0.jar:6.0.0]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.0.jar:6.0.0]\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.0.0.jar:6.0.0]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.0.jar:6.0.0]\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.0.0.jar:6.0.0]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.0.jar:6.0.0]\n    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.0.0.jar:6.0.0]\n    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.0.0.jar:6.0.0]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.0.jar:6.0.0]\n    at org.springframework.security.web.authentication.preauth.AbstractPreAuthenticatedProcessingFilter.doFilter(AbstractPreAuthenticatedProcessingFilter.java:150) ~[spring-security-web-6.0.0.jar:6.0.0]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.0.jar:6.0.0]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.0.0.jar:6.0.0]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.0.0.jar:6.0.0]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.0.jar:6.0.0]\n    at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.0.0.jar:6.0.0]\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.0.0.jar:6.0.0]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.0.jar:6.0.0]\n    at org.springframework.security.web.context.SecurityContextHolderFilter.doFilterInternal(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.0.0.jar:6.0.0]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.0.jar:6.0.0]\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.0.0.jar:6.0.0]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.0.jar:6.0.0]\n    at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.0.0.jar:6.0.0]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.0.jar:6.0.0]\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.0.0.jar:6.0.0]\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.0.0.jar:6.0.0]\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:351) ~[spring-web-6.0.2.jar:6.0.2]\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-6.0.2.jar:6.0.2]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.2.jar:6.0.2]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.2.jar:6.0.2]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.2.jar:6.0.2]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.2.jar:6.0.2]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.2.jar:6.0.2]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.2.jar:6.0.2]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:861) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1739) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.1.jar:10.1.1]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n\n\n</code></pre>\n<p>My <code>keytool -list -keystore server.p12</code> output:</p>\n<pre><code>Enter keystore password:  \nKeystore type: PKCS12\nKeystore provider: SUN\n\nYour keystore contains 3 entries\n\n1, Jan 27, 2023, PrivateKeyEntry, \nCertificate fingerprint (SHA-256): 4F:04:0B:CF:21:AB:45:4A:17:C1:83:93:B0:5D:3C:D4:04:80:B2:0B:79:24:68:70:18:36:5C:CE:7B:77:6C:23\nbcc, Jan 27, 2023, trustedCertEntry, \nCertificate fingerprint (SHA-256): 49:EF:A6:0F:E7:81:71:22:2B:F5:BD:D0:76:48:77:70:EE:5E:E9:23:BB:FF:66:AC:68:2D:CB:D3:4F:D1:87:DC\ntorsho, Jan 27, 2023, trustedCertEntry, \nCertificate fingerprint (SHA-256): C0:42:3A:FD:9F:00:A9:6D:05:8B:2F:F9:B9:DE:A7:A7:DA:6F:19:6B:D7:33:34:D6:4F:D3:D8:78:12:AA:25:0A\n</code></pre>\n<p><a href=\"https://github.com/desertSniper87/spring-boot-mtls\" rel=\"nofollow noreferrer\">My full project</a></p>\n"},{"tags":["java","javadoc"],"answers":[{"tags":[],"owner":{"account_id":52616,"reputation":1042915,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"down_vote_count":0,"up_vote_count":72,"is_accepted":true,"score":72,"last_activity_date":1675025261,"creation_date":1301641737,"answer_id":5510188,"question_id":5510170,"body_markdown":"There is none, they&#39;re synonyms.\r\n\r\nFrom [the docs](https://www.oracle.com/technical-resources/articles/java/javadoc-tool.html#throwstag):\r\n\r\n&gt; *Documenting Exceptions with `@throws` Tag  \r\nNOTE - The tags `@throws` and `@exception` are synonyms.*","title":"In javadoc, what is the difference between the tags @throws and @exception?","body":"<p>There is none, they're synonyms.</p>\n<p>From <a href=\"https://www.oracle.com/technical-resources/articles/java/javadoc-tool.html#throwstag\" rel=\"nofollow noreferrer\">the docs</a>:</p>\n<blockquote>\n<p><em>Documenting Exceptions with <code>@throws</code> Tag<br />\nNOTE - The tags <code>@throws</code> and <code>@exception</code> are synonyms.</em></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":269597,"reputation":14829,"user_id":559026,"accept_rate":93,"display_name":"Hardik Mishra"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1675025102,"creation_date":1301642218,"answer_id":5510250,"question_id":5510170,"body_markdown":"`@throws` was added because it is a keyword (&quot;throws&quot; clause in a method declaration),\r\n\r\nand, as a verb, it is just more natural to read. This reads as a sentence:\r\n\r\n```java\r\n@throws NullPointerException\r\n```\r\n\r\nwhile this seem more redundant:\r\n\r\n```java\r\n@exception NullPointerException\r\n```\r\n\r\nOtherwise, both are synonyms","title":"In javadoc, what is the difference between the tags @throws and @exception?","body":"<p><code>@throws</code> was added because it is a keyword (&quot;throws&quot; clause in a method declaration),</p>\n<p>and, as a verb, it is just more natural to read. This reads as a sentence:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@throws NullPointerException\n</code></pre>\n<p>while this seem more redundant:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@exception NullPointerException\n</code></pre>\n<p>Otherwise, both are synonyms</p>\n"},{"tags":[],"owner":{"account_id":2682183,"reputation":91,"user_id":2317318,"display_name":"combinatorics"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1378916536,"creation_date":1378916536,"answer_id":18746413,"question_id":5510170,"body_markdown":"`@exception` isn&#39;t 100% correct if you code throws a `Throwable`. `@throws` is more exact. (I realize there isn&#39;t a good use case for ever using `throw new Throwable()`, but theoretically it is allowed.)","title":"In javadoc, what is the difference between the tags @throws and @exception?","body":"<p><code>@exception</code> isn't 100% correct if you code throws a <code>Throwable</code>. <code>@throws</code> is more exact. (I realize there isn't a good use case for ever using <code>throw new Throwable()</code>, but theoretically it is allowed.)</p>\n"}],"owner":{"account_id":145351,"reputation":1062,"user_id":355096,"accept_rate":83,"display_name":"jon2512chua"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30103,"favorite_count":0,"down_vote_count":0,"up_vote_count":52,"accepted_answer_id":5510188,"answer_count":3,"score":52,"last_activity_date":1675025261,"creation_date":1301641628,"question_id":5510170,"body_markdown":"Take the following implementation of a array-based stack of chars for example:\r\n\r\n```java\r\npublic char peek() throws Underflow {\r\n\tif (!isEmpty()) {\r\n\t\treturn stack[pos];\r\n\t} else {\r\n\t\tthrow new Underflow(&quot;Peeking at an empty stack.&quot;);\r\n\t}\r\n}\r\n```\r\n\r\nBack when I&#39;m using just a text editor, I always use the `@exception`-tag, but now my IDE (NetBeans) used `@throws` when generating the JavaDoc.\r\n\r\nSo my question is, what is the difference between the two and when should one be preferred over another (using the above code for example)?","title":"In javadoc, what is the difference between the tags @throws and @exception?","body":"<p>Take the following implementation of a array-based stack of chars for example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public char peek() throws Underflow {\n    if (!isEmpty()) {\n        return stack[pos];\n    } else {\n        throw new Underflow(&quot;Peeking at an empty stack.&quot;);\n    }\n}\n</code></pre>\n<p>Back when I'm using just a text editor, I always use the <code>@exception</code>-tag, but now my IDE (NetBeans) used <code>@throws</code> when generating the JavaDoc.</p>\n<p>So my question is, what is the difference between the two and when should one be preferred over another (using the above code for example)?</p>\n"},{"tags":["java","android","firebase-mlkit","text-recognition"],"owner":{"account_id":26700889,"reputation":1,"user_id":20308021,"display_name":"Entwickler Witze"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":282,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675025173,"creation_date":1675025173,"question_id":75278268,"body_markdown":"I am trying to make this guid work\r\nhttps://developers.google.com/ml-kit/vision/text-recognition/android?hl=en\r\n\r\nI implemented\r\n\r\n```\r\n  implementation &#39;com.google.android.gms:play-services-mlkit-text-recognition:18.0.2&#39;\r\n\r\n```\r\n\r\nand\r\n\r\n```\r\n  &lt;meta-data\r\n      android:name=&quot;com.google.mlkit.vision.DEPENDENCIES&quot;\r\n      android:value=&quot;ocr&quot; /&gt;\r\n```\r\n\r\nas suggested.\r\n\r\nHowever when I try to use the following code\r\n\r\n\r\n```\r\nTextRecognizer recognizer = TextRecognition.getClient(TextRecognizerOptions.DEFAULT_OPTIONS);\r\n```\r\n\r\nas per guide, it doesn&#39;t import the library and can&#39;t find it. I have synced the project with gradles so this should not be an issue.\r\n\r\nI can cmd click on it and import the suggested library dependency\r\n\r\n\r\n```\r\nimport com.google.mlkit.vision.text.TextRecognizer;\r\n\r\n```\r\n\r\nHowever it states that it cannot find &quot;mlkit&quot;[The issue](https://i.stack.imgur.com/V89G6.png)\r\n\r\nHow can I fix this?\r\n\r\n\r\n\r\nI tried the guide by google","title":"Android Java ML Kit for text detection","body":"<p>I am trying to make this guid work\n<a href=\"https://developers.google.com/ml-kit/vision/text-recognition/android?hl=en\" rel=\"nofollow noreferrer\">https://developers.google.com/ml-kit/vision/text-recognition/android?hl=en</a></p>\n<p>I implemented</p>\n<pre><code>  implementation 'com.google.android.gms:play-services-mlkit-text-recognition:18.0.2'\n\n</code></pre>\n<p>and</p>\n<pre><code>  &lt;meta-data\n      android:name=&quot;com.google.mlkit.vision.DEPENDENCIES&quot;\n      android:value=&quot;ocr&quot; /&gt;\n</code></pre>\n<p>as suggested.</p>\n<p>However when I try to use the following code</p>\n<pre><code>TextRecognizer recognizer = TextRecognition.getClient(TextRecognizerOptions.DEFAULT_OPTIONS);\n</code></pre>\n<p>as per guide, it doesn't import the library and can't find it. I have synced the project with gradles so this should not be an issue.</p>\n<p>I can cmd click on it and import the suggested library dependency</p>\n<pre><code>import com.google.mlkit.vision.text.TextRecognizer;\n\n</code></pre>\n<p>However it states that it cannot find &quot;mlkit&quot;<a href=\"https://i.stack.imgur.com/V89G6.png\" rel=\"nofollow noreferrer\">The issue</a></p>\n<p>How can I fix this?</p>\n<p>I tried the guide by google</p>\n"},{"tags":["java","docker","prometheus"],"comments":[{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1675020576,"post_id":75277449,"comment_id":132833801,"body_markdown":"When you check on the host running the prometheus docker container the url `http://localhost:9090/targets`, does `my_job` show as up or down?","body":"When you check on the host running the prometheus docker container the url <code>http:&#47;&#47;localhost:9090&#47;targets</code>, does <code>my_job</code> show as up or down?"},{"owner":{"account_id":6771260,"reputation":75,"user_id":10094130,"display_name":"YHN"},"score":0,"creation_date":1675021906,"post_id":75277449,"comment_id":132834067,"body_markdown":"@Queeg it shows _up_ (not down). As I mentioned, in the description, I can even query my registered metrics in the `http://localhost:9090/graph` endpoint of the Prometheus. However, `http://localhost:9090/metrics` does not show any of my registered metrics.","body":"@Queeg it shows <i>up</i> (not down). As I mentioned, in the description, I can even query my registered metrics in the <code>http:&#47;&#47;localhost:9090&#47;graph</code> endpoint of the Prometheus. However, <code>http:&#47;&#47;localhost:9090&#47;metrics</code> does not show any of my registered metrics."}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675024737,"creation_date":1675024737,"answer_id":75278223,"question_id":75277449,"body_markdown":"Oh, you are mixing something up. `http://localhost:9090/metrics` is a url on your prometheus instance. It will show metrics about prometheus itself, like how much data was scraped, how much data is stored etc. It is not supposed to show the data that prometheus collected. So the metrics you found is just a status of how much time prometheus spent scraping your data.\r\n\r\nWhat you actually want is to access the Prometheus API at `http://localhost:9090/api/v1` and query the data about your metric. But once you understand how to run queries (and this can be done on the /graph endpoint as well) you probably want a visualization tool like Grafana.\r\n\r\nComing back to your question: It is working as designed.\r\n\r\nSee \r\n- https://prometheus.io/docs/prometheus/latest/querying/api/\r\n- https://grafana.com/","title":"Prometheus not displaying custom metrics from localhost service on `/metrics` endpoint","body":"<p>Oh, you are mixing something up. <code>http://localhost:9090/metrics</code> is a url on your prometheus instance. It will show metrics about prometheus itself, like how much data was scraped, how much data is stored etc. It is not supposed to show the data that prometheus collected. So the metrics you found is just a status of how much time prometheus spent scraping your data.</p>\n<p>What you actually want is to access the Prometheus API at <code>http://localhost:9090/api/v1</code> and query the data about your metric. But once you understand how to run queries (and this can be done on the /graph endpoint as well) you probably want a visualization tool like Grafana.</p>\n<p>Coming back to your question: It is working as designed.</p>\n<p>See</p>\n<ul>\n<li><a href=\"https://prometheus.io/docs/prometheus/latest/querying/api/\" rel=\"nofollow noreferrer\">https://prometheus.io/docs/prometheus/latest/querying/api/</a></li>\n<li><a href=\"https://grafana.com/\" rel=\"nofollow noreferrer\">https://grafana.com/</a></li>\n</ul>\n"}],"owner":{"account_id":6771260,"reputation":75,"user_id":10094130,"display_name":"YHN"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1245,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75278223,"answer_count":1,"score":0,"last_activity_date":1675024737,"creation_date":1675017674,"question_id":75277449,"body_markdown":"I am running a service on localhost that exports metrics to a Prometheus container running on Docker. I am able to see that my metrics are registered, scraped, and displayed correctly through the /graph endpoint of Prometheus. However, I cannot find my metrics being reported on the /metrics endpoint of Prometheus.\r\n\r\nMy service exposes metrics on localhost:8081/metrics using the Prometheus Java client. \r\nMy service exposes the as follows on `localhost:8081/metrics`:\r\n```java\r\npublic class Main {\r\n  private HTTPServer server;\r\n  public static final int SERVER_PORT = 8081;\r\n\r\n  /**\r\n   * Initiates the Prometheus Exposer HTTP Server.\r\n   */\r\n  public void main(String args[]) {\r\n\r\n    try {\r\n      server = new HTTPServer(SERVER_PORT);\r\n    } catch (IOException e) {\r\n      throw new IllegalStateException(&quot;could not start metrics server:\\t&quot; + e);\r\n    }\r\n\r\n    io.prometheus.client.Gauge gauge = io.prometheus.client.Gauge\r\n        .build()\r\n        .namespace(&quot;some_namespace&quot;)\r\n        .subsystem(&quot;some_subsystem&quot;)\r\n        .name(&quot;some_name&quot;)\r\n        .help(&quot;helpMessage&quot;)\r\n        .register();\r\n\r\n    int i = 0;\r\n    while (true) {\r\n      try {\r\n        Thread.sleep(1000);\r\n        gauge.set(i++);\r\n      } catch (InterruptedException ex) {\r\n        System.err.println(&quot;Thread sleep issue, breaking the loop&quot;);\r\n        break;\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Terminates the Prometheus Exposer HTTP Server.\r\n   */\r\n  public void terminate() {\r\n    try {\r\n      server.close();\r\n    } catch (Exception e) {\r\n      throw new IllegalStateException(&quot;could not stop metrics server:\\t&quot; + e);\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n\r\nI am using the Prometheus Docker file and running it with the following configuration:\r\n\r\n```yaml\r\nversion: &#39;2.1&#39;\r\nnetworks:\r\n  monitor-net:\r\n    driver: bridge\r\nvolumes:\r\n    prometheus_data: {}\r\nservices:\r\n  prometheus:\r\n    image: prom/prometheus:v2.22.1\r\n    container_name: prometheus\r\n    volumes:\r\n      - ./prometheus:/etc/prometheus\r\n      - prometheus_data:/prometheus\r\n    command:\r\n      - &#39;--config.file=/etc/prometheus/prometheus.yml&#39;\r\n      - &#39;--storage.tsdb.path=/prometheus&#39;\r\n      - &#39;--web.console.libraries=/etc/prometheus/console_libraries&#39;\r\n      - &#39;--web.console.templates=/etc/prometheus/consoles&#39;\r\n      - &#39;--storage.tsdb.retention.time=200h&#39;\r\n      - &#39;--web.enable-lifecycle&#39;\r\n    restart: unless-stopped\r\n    expose:\r\n      - 9090\r\n    networks:\r\n      - monitor-net\r\n    labels:\r\n      org.label-schema.group: &quot;monitoring&quot;\r\n\r\n```\r\n\r\nMy `prometheus.yml` file is configured as follows:\r\n```yaml\r\nglobal:\r\n  scrape_interval: 15s\r\nscrape_configs:\r\n  - job_name: &#39;my_job&#39;\r\n    honor_timestamps: true\r\n    scrape_interval: 15s\r\n    scrape_timeout: 10s\r\n    metrics_path: /metrics\r\n    scheme: http\r\n    static_configs:\r\n      - targets: [ &#39;host.docker.internal:8081&#39; ]\r\n\r\n```\r\n\r\nI can see that Prometheus collects and reports several Prometheus native metrics associated with the &quot;my_job&quot; on the &quot;/metrics&quot; endpoint. However, the gauge metric that I registered through the Prometheus Java client is only accessible through the &quot;/graph&quot; endpoint. Here is an example of such native metrics of prometheus that is shown on &quot;/metrics&quot; endpoint:\r\n```\r\n# TYPE prometheus_target_sync_length_seconds summary\r\nprometheus_target_sync_length_seconds{scrape_job=&quot;my_job&quot;,quantile=&quot;0.01&quot;} 0.000311125\r\nprometheus_target_sync_length_seconds{scrape_job=&quot;my_job&quot;&quot;,quantile=&quot;0.05&quot;} 0.000311125\r\nprometheus_target_sync_length_seconds{scrape_job=&quot;my_job&quot;,quantile=&quot;0.5&quot;} 0.000311125\r\nprometheus_target_sync_length_seconds{scrape_job=&quot;my_job&quot;&quot;,quantile=&quot;0.9&quot;} 0.000311125\r\nprometheus_target_sync_length_seconds{scrape_job=&quot;my_job&quot;&quot;,quantile=&quot;0.99&quot;} 0.000311125\r\n```\r\n\r\nI have also checked that:\r\n\r\nPrometheus configuration file has the correct target and scrape configuration for my application.\r\nThere were no errors or warnings related to metric collection in the logs of Prometheus and my application.\r\nMetrics are being exported in the Prometheus text format.\r\nMetrics are being exported over the correct endpoint and port that Prometheus is configured to scrape.\r\nI am still not sure why my metrics are not showing up on the &quot;/metrics&quot; endpoint. I will continue to investigate and troubleshoot the issue.","title":"Prometheus not displaying custom metrics from localhost service on `/metrics` endpoint","body":"<p>I am running a service on localhost that exports metrics to a Prometheus container running on Docker. I am able to see that my metrics are registered, scraped, and displayed correctly through the /graph endpoint of Prometheus. However, I cannot find my metrics being reported on the /metrics endpoint of Prometheus.</p>\n<p>My service exposes metrics on localhost:8081/metrics using the Prometheus Java client.\nMy service exposes the as follows on <code>localhost:8081/metrics</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n  private HTTPServer server;\n  public static final int SERVER_PORT = 8081;\n\n  /**\n   * Initiates the Prometheus Exposer HTTP Server.\n   */\n  public void main(String args[]) {\n\n    try {\n      server = new HTTPServer(SERVER_PORT);\n    } catch (IOException e) {\n      throw new IllegalStateException(&quot;could not start metrics server:\\t&quot; + e);\n    }\n\n    io.prometheus.client.Gauge gauge = io.prometheus.client.Gauge\n        .build()\n        .namespace(&quot;some_namespace&quot;)\n        .subsystem(&quot;some_subsystem&quot;)\n        .name(&quot;some_name&quot;)\n        .help(&quot;helpMessage&quot;)\n        .register();\n\n    int i = 0;\n    while (true) {\n      try {\n        Thread.sleep(1000);\n        gauge.set(i++);\n      } catch (InterruptedException ex) {\n        System.err.println(&quot;Thread sleep issue, breaking the loop&quot;);\n        break;\n      }\n    }\n  }\n\n  /**\n   * Terminates the Prometheus Exposer HTTP Server.\n   */\n  public void terminate() {\n    try {\n      server.close();\n    } catch (Exception e) {\n      throw new IllegalStateException(&quot;could not stop metrics server:\\t&quot; + e);\n    }\n  }\n}\n</code></pre>\n<p>I am using the Prometheus Docker file and running it with the following configuration:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>version: '2.1'\nnetworks:\n  monitor-net:\n    driver: bridge\nvolumes:\n    prometheus_data: {}\nservices:\n  prometheus:\n    image: prom/prometheus:v2.22.1\n    container_name: prometheus\n    volumes:\n      - ./prometheus:/etc/prometheus\n      - prometheus_data:/prometheus\n    command:\n      - '--config.file=/etc/prometheus/prometheus.yml'\n      - '--storage.tsdb.path=/prometheus'\n      - '--web.console.libraries=/etc/prometheus/console_libraries'\n      - '--web.console.templates=/etc/prometheus/consoles'\n      - '--storage.tsdb.retention.time=200h'\n      - '--web.enable-lifecycle'\n    restart: unless-stopped\n    expose:\n      - 9090\n    networks:\n      - monitor-net\n    labels:\n      org.label-schema.group: &quot;monitoring&quot;\n\n</code></pre>\n<p>My <code>prometheus.yml</code> file is configured as follows:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>global:\n  scrape_interval: 15s\nscrape_configs:\n  - job_name: 'my_job'\n    honor_timestamps: true\n    scrape_interval: 15s\n    scrape_timeout: 10s\n    metrics_path: /metrics\n    scheme: http\n    static_configs:\n      - targets: [ 'host.docker.internal:8081' ]\n\n</code></pre>\n<p>I can see that Prometheus collects and reports several Prometheus native metrics associated with the &quot;my_job&quot; on the &quot;/metrics&quot; endpoint. However, the gauge metric that I registered through the Prometheus Java client is only accessible through the &quot;/graph&quot; endpoint. Here is an example of such native metrics of prometheus that is shown on &quot;/metrics&quot; endpoint:</p>\n<pre><code># TYPE prometheus_target_sync_length_seconds summary\nprometheus_target_sync_length_seconds{scrape_job=&quot;my_job&quot;,quantile=&quot;0.01&quot;} 0.000311125\nprometheus_target_sync_length_seconds{scrape_job=&quot;my_job&quot;&quot;,quantile=&quot;0.05&quot;} 0.000311125\nprometheus_target_sync_length_seconds{scrape_job=&quot;my_job&quot;,quantile=&quot;0.5&quot;} 0.000311125\nprometheus_target_sync_length_seconds{scrape_job=&quot;my_job&quot;&quot;,quantile=&quot;0.9&quot;} 0.000311125\nprometheus_target_sync_length_seconds{scrape_job=&quot;my_job&quot;&quot;,quantile=&quot;0.99&quot;} 0.000311125\n</code></pre>\n<p>I have also checked that:</p>\n<p>Prometheus configuration file has the correct target and scrape configuration for my application.\nThere were no errors or warnings related to metric collection in the logs of Prometheus and my application.\nMetrics are being exported in the Prometheus text format.\nMetrics are being exported over the correct endpoint and port that Prometheus is configured to scrape.\nI am still not sure why my metrics are not showing up on the &quot;/metrics&quot; endpoint. I will continue to investigate and troubleshoot the issue.</p>\n"},{"tags":["java","memory-leaks","path","concurrenthashmap","yourkit"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1674993020,"post_id":75273096,"comment_id":132828574,"body_markdown":"It&#39;s not GC (garbage won&#39;t show up in heap dumps). The difference seems to be in the keys. For some reason, in the smaller one, the keys are not being counted as part of the retained size of the nodes.","body":"It&#39;s not GC (garbage won&#39;t show up in heap dumps). The difference seems to be in the keys. For some reason, in the smaller one, the keys are not being counted as part of the retained size of the nodes."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1674993168,"post_id":75273096,"comment_id":132828604,"body_markdown":"What version of Java is used?","body":"What version of Java is used?"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1674994007,"post_id":75273096,"comment_id":132828734,"body_markdown":"It&#39;s hard to know what&#39;s happening from the heap dump screenshots alone. It would be helpful if you could show the code that adds entries to the map. My wild guess is that the initial ~10M entries have hash keys that are interned strings, which are allocated in the string pool and perhaps not counted as part of the retained size of the node for that reason. Then, new entries are added later with normally allocated strings, which _are_ counted as part of the retained size of the node. Either way, the same amount of memory is used, it&#39;s just counted differently. Just a guess.","body":"It&#39;s hard to know what&#39;s happening from the heap dump screenshots alone. It would be helpful if you could show the code that adds entries to the map. My wild guess is that the initial ~10M entries have hash keys that are interned strings, which are allocated in the string pool and perhaps not counted as part of the retained size of the node for that reason. Then, new entries are added later with normally allocated strings, which <i>are</i> counted as part of the retained size of the node. Either way, the same amount of memory is used, it&#39;s just counted differently. Just a guess."},{"owner":{"account_id":9132976,"reputation":69,"user_id":6793827,"display_name":"P K"},"score":0,"creation_date":1675024347,"post_id":75273096,"comment_id":132834473,"body_markdown":"@TimMoore java 1.8. Added the code that puts into the map.","body":"@TimMoore java 1.8. Added the code that puts into the map."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":1,"creation_date":1675026347,"post_id":75273096,"comment_id":132834830,"body_markdown":"Thanks for the additional code, but this doesnt show how the keys are created. I just learned that YourKit only includes child objects in the retained size of a parent object if the parent has the only reference to the child. Objects with multiple references are not counted in any other objects retained size. Could that explain it? See https://stackoverflow.com/q/23941688/29470","body":"Thanks for the additional code, but this doesnt show how the keys are created. I just learned that YourKit only includes child objects in the retained size of a parent object if the parent has the only reference to the child. Objects with multiple references are not counted in any other objects retained size. Could that explain it? See <a href=\"https://stackoverflow.com/q/23941688/29470\">stackoverflow.com/q/23941688/29470</a>"}],"owner":{"account_id":9132976,"reputation":69,"user_id":6793827,"display_name":"P K"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1675255762,"answer_count":0,"score":0,"last_activity_date":1675024315,"creation_date":1674975106,"question_id":75273096,"body_markdown":"```lang-java\r\n  private final Map&lt;String, Path&gt; relativePathsByKey = new ConcurrentHashMap&lt;&gt;();\r\n\r\n  private byte[] readValue(final String key) throws IOException {\r\n    Path relativePath = relativePathsByKey.get(key);\r\n    final byte[] returnValue;\r\n    if (relativePath != null) {\r\n      returnValue = readValue(getCacheFileFullPath(relativePath, key));\r\n    } else {\r\n      relativePath = createRelativeFilePath(key);\r\n      Path fullPath = getCacheFileFullPath(relativePath, key);\r\n      if (fullPath.toFile().exists()) {\r\n        returnValue = readValue(fullPath);\r\n        relativePathsByKey.put(key, relativePath);\r\n      } else {\r\n        returnValue = null;\r\n      }\r\n    }\r\n    return returnValue;\r\n  }\r\n\r\n  private Path createRelativeFilePath(final String key) {\r\n    final MLFileCacheKey fileCacheKey =\r\n        new MLFileCacheKey(\r\n            key, offHeapCacheConfig.getLevels(), offHeapCacheConfig.getSegmentSize());\r\n\r\n    final StringBuilder sb = new StringBuilder();\r\n    final String[] segments = fileCacheKey.getKeySegments();\r\n    for (int i = 0; i &lt; segments.length; i++) {\r\n      final int hash = segments[i].hashCode();\r\n      sb.append(&#39;d&#39;)\r\n          .append(i)\r\n          .append(&#39;_&#39;)\r\n          .append(Math.abs(hash % offHeapCacheConfig.getDirectoriesPerLevel()))\r\n          .append(File.separator);\r\n    }\r\n    return Paths.get(sb.toString().intern());\r\n  }\r\n```\r\n\r\nI keep the file paths in a `ConcurrentHashMap` for quick access to files. I took two heap dumps at different times. The results are shown below. What I found is that the size (memory) of the map is totally not making sense when compared to each other.\r\n\r\nThe second last column from the right is the retained size in bytes as shown by yourkit heap dump:\r\n\r\nWhen the map had ~10M entries - retained size = 1.7GB\r\n[![enter image description here][1]][1]\r\n\r\n\r\nWhen it had ~20M entries - retained size = 6.4GB. It is not making sense at all to me when compared to the above picture.\r\n[![enter image description here][2]][2]\r\n\r\n\r\nWhen I went into each node of the map I see that each node in the map is having a list of next nodes:\r\nnode from the map having ~20M entries and the node&#39;s retained size = 2,368 bytes\r\n[![enter image description here][3]][3]\r\n\r\n\r\nnode from the map with ~10M entries and the node&#39;s retained size is much less 1,216 bytes:\r\n[![enter image description here][4]][4]\r\n\r\n\r\nThen I went ahead and checked the retained objects of one of the &quot;next&quot; nodes in both dumps:\r\nThe node from the dump with ~20M entries is referencing two extra objects that are taking up the extra space:\r\nFrom the dump with ~20M entries:\r\n[![enter image description here][5]][5]\r\nOne from the dump with ~10M entries:\r\n[![enter image description here][6]][6]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/c1lsB.png\r\n  [2]: https://i.stack.imgur.com/pq9oJ.png\r\n  [3]: https://i.stack.imgur.com/BfaSP.png\r\n  [4]: https://i.stack.imgur.com/hsQyY.png\r\n  [5]: https://i.stack.imgur.com/EnQAU.png\r\n  [6]: https://i.stack.imgur.com/YuEs8.png\r\n\r\nI&#39;m now confused as to whether it is the GC that&#39;s lagging or I took the two dumps at times that did not line up with the way the map internally organizes itself in Java.","title":"ConcurrentHashMap&lt;String, Path&gt; taking different amount of memory in different dumps as seen by the heap dump taken by yourkit","body":"<pre class=\"lang-java prettyprint-override\"><code>  private final Map&lt;String, Path&gt; relativePathsByKey = new ConcurrentHashMap&lt;&gt;();\n\n  private byte[] readValue(final String key) throws IOException {\n    Path relativePath = relativePathsByKey.get(key);\n    final byte[] returnValue;\n    if (relativePath != null) {\n      returnValue = readValue(getCacheFileFullPath(relativePath, key));\n    } else {\n      relativePath = createRelativeFilePath(key);\n      Path fullPath = getCacheFileFullPath(relativePath, key);\n      if (fullPath.toFile().exists()) {\n        returnValue = readValue(fullPath);\n        relativePathsByKey.put(key, relativePath);\n      } else {\n        returnValue = null;\n      }\n    }\n    return returnValue;\n  }\n\n  private Path createRelativeFilePath(final String key) {\n    final MLFileCacheKey fileCacheKey =\n        new MLFileCacheKey(\n            key, offHeapCacheConfig.getLevels(), offHeapCacheConfig.getSegmentSize());\n\n    final StringBuilder sb = new StringBuilder();\n    final String[] segments = fileCacheKey.getKeySegments();\n    for (int i = 0; i &lt; segments.length; i++) {\n      final int hash = segments[i].hashCode();\n      sb.append('d')\n          .append(i)\n          .append('_')\n          .append(Math.abs(hash % offHeapCacheConfig.getDirectoriesPerLevel()))\n          .append(File.separator);\n    }\n    return Paths.get(sb.toString().intern());\n  }\n</code></pre>\n<p>I keep the file paths in a <code>ConcurrentHashMap</code> for quick access to files. I took two heap dumps at different times. The results are shown below. What I found is that the size (memory) of the map is totally not making sense when compared to each other.</p>\n<p>The second last column from the right is the retained size in bytes as shown by yourkit heap dump:</p>\n<p>When the map had ~10M entries - retained size = 1.7GB\n<a href=\"https://i.stack.imgur.com/c1lsB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/c1lsB.png\" alt=\"enter image description here\" /></a></p>\n<p>When it had ~20M entries - retained size = 6.4GB. It is not making sense at all to me when compared to the above picture.\n<a href=\"https://i.stack.imgur.com/pq9oJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pq9oJ.png\" alt=\"enter image description here\" /></a></p>\n<p>When I went into each node of the map I see that each node in the map is having a list of next nodes:\nnode from the map having ~20M entries and the node's retained size = 2,368 bytes\n<a href=\"https://i.stack.imgur.com/BfaSP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BfaSP.png\" alt=\"enter image description here\" /></a></p>\n<p>node from the map with ~10M entries and the node's retained size is much less 1,216 bytes:\n<a href=\"https://i.stack.imgur.com/hsQyY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hsQyY.png\" alt=\"enter image description here\" /></a></p>\n<p>Then I went ahead and checked the retained objects of one of the &quot;next&quot; nodes in both dumps:\nThe node from the dump with ~20M entries is referencing two extra objects that are taking up the extra space:\nFrom the dump with ~20M entries:\n<a href=\"https://i.stack.imgur.com/EnQAU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EnQAU.png\" alt=\"enter image description here\" /></a>\nOne from the dump with ~10M entries:\n<a href=\"https://i.stack.imgur.com/YuEs8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YuEs8.png\" alt=\"enter image description here\" /></a></p>\n<p>I'm now confused as to whether it is the GC that's lagging or I took the two dumps at times that did not line up with the way the map internally organizes itself in Java.</p>\n"},{"tags":["java","nullpointerexception","sonarqube"],"comments":[{"owner":{"account_id":11616634,"reputation":312,"user_id":8509119,"display_name":"larjae"},"score":0,"creation_date":1674919879,"post_id":75268731,"comment_id":132818689,"body_markdown":"Could you add what line you are getting the warning/error on?","body":"Could you add what line you are getting the warning/error on?"},{"owner":{"account_id":27643602,"reputation":1,"user_id":21100026,"display_name":"VijayRitan"},"score":0,"creation_date":1674920254,"post_id":75268731,"comment_id":132818756,"body_markdown":"getting as A &quot;NullPointerException&quot; could be thrown; &quot;activationConfigParser&quot; is nullable here.","body":"getting as A &quot;NullPointerException&quot; could be thrown; &quot;activationConfigParser&quot; is nullable here."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1674921596,"post_id":75268731,"comment_id":132818978,"body_markdown":"Try to think about what will happen if the code within the `try` block throws an exception: the exception will be caught by the `catch (Exception e) { log.error(e.getMessage()); }` block, but at that point `activationConfigParser` remains `null`, and then `activationConfigParser.evaluateXPath(...)` throws a `NullPointerException`.","body":"Try to think about what will happen if the code within the <code>try</code> block throws an exception: the exception will be caught by the <code>catch (Exception e) { log.error(e.getMessage()); }</code> block, but at that point <code>activationConfigParser</code> remains <code>null</code>, and then <code>activationConfigParser.evaluateXPath(...)</code> throws a <code>NullPointerException</code>."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1674931779,"post_id":75268731,"comment_id":132820954,"body_markdown":"Why do you catch that Exception at all there? And what behaviour do you expect from the whole method when this Exception is actually thrown by the code inside the `try` block?","body":"Why do you catch that Exception at all there? And what behaviour do you expect from the whole method when this Exception is actually thrown by the code inside the <code>try</code> block?"}],"answers":[{"tags":[],"owner":{"account_id":22831229,"reputation":1,"user_id":16979662,"display_name":"Raf897"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675023382,"creation_date":1675023382,"answer_id":75278085,"question_id":75268731,"body_markdown":"When you create the variable activationCOnfigParser you&#39;re in a try/Catch block. You can bypass this error :\r\n\r\n    private void getGtcj(String gtcjStatusValue, String strArchiveReqd) throws Exception {\r\n    XPathHelper activationConfigParser = null;\r\n    try {\r\n        activationConfigParser = ConfigUtil.getInstance().getConfigParser(new URL((V21Constants.FILE\r\n                + System.getProperty(V21Constants.USER_DIR) + &quot;/vServe21/config/ActivationParameters.xml&quot;)));\r\n    } catch (Exception e) {\r\n        actionConfigParser = &lt;DEFAULT VALUE&gt;\r\n        log.error(e.getMessage());\r\n\r\n    }\r\nIn catch block there is &lt;DEFAULT VALUE&gt; that you can replace with a value that actionConfigParser has to assuming in case of exception.","title":"A &quot;NullPointerException&quot; could be thrown; &quot;activationConfigParser&quot; is nullable here","body":"<p>When you create the variable activationCOnfigParser you're in a try/Catch block. You can bypass this error :</p>\n<pre><code>private void getGtcj(String gtcjStatusValue, String strArchiveReqd) throws Exception {\nXPathHelper activationConfigParser = null;\ntry {\n    activationConfigParser = ConfigUtil.getInstance().getConfigParser(new URL((V21Constants.FILE\n            + System.getProperty(V21Constants.USER_DIR) + &quot;/vServe21/config/ActivationParameters.xml&quot;)));\n} catch (Exception e) {\n    actionConfigParser = &lt;DEFAULT VALUE&gt;\n    log.error(e.getMessage());\n\n}\n</code></pre>\n<p>In catch block there is  that you can replace with a value that actionConfigParser has to assuming in case of exception.</p>\n"}],"owner":{"account_id":27643602,"reputation":1,"user_id":21100026,"display_name":"VijayRitan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675023382,"creation_date":1674919659,"question_id":75268731,"body_markdown":"sonar issue\r\n\r\n![1]\t\r\n\r\n```java\r\nprivate void getGtcj(String gtcjStatusValue, String strArchiveReqd) throws Exception {\r\n\tXPathHelper activationConfigParser = null;\r\n\ttry {\r\n\t\tactivationConfigParser = ConfigUtil.getInstance().getConfigParser(new URL((V21Constants.FILE\r\n\t\t\t\t+ System.getProperty(V21Constants.USER_DIR) + &quot;/vServe21/config/ActivationParameters.xml&quot;)));\r\n\t} catch (Exception e) {\r\n\t\tlog.error(e.getMessage());\r\n\t}\r\n\r\n\tStringBuffer useGTCJSolution = new StringBuffer();\r\n\tuseGTCJSolution.append(XPathConstants.ACTIVATION_CONFIG_ACTIVATION_PARAM)\r\n\t\t\t.append(&quot;/parameter[@name = &#39;&quot;).append(XPathConstants.TAG_NAME_USE_GTCJ_SOLUTION)\r\n\t\t\t.append(&quot;&#39;]&quot;);\r\n\r\n\tString useGTCJSolutionStr = activationConfigParser.evaluateXPath(useGTCJSolution.toString());\r\n\tlog.debug(&quot;useGTCJSolutionStr value:&quot; + useGTCJSolutionStr);\r\n\r\n\tif (useGTCJSolutionStr != null &amp;&amp; useGTCJSolutionStr.trim().equalsIgnoreCase(V21Constants.YES)\r\n\t\t\t&amp;&amp; (gtcjStatusValue.equalsIgnoreCase(Statuses.ACTIVATION_SUCCESS)\r\n\t\t\t\t\t|| gtcjStatusValue.equalsIgnoreCase(Statuses.ROLLBACK_SUCCESS)\r\n\t\t\t\t\t|| gtcjStatusValue.equalsIgnoreCase(&quot;Rollback Failure&quot;))) {\r\n\t\tlog.debug(&quot;No need to archive and send response from here.&quot;);\r\n\t} else {\r\n\t\tlog.debug(&quot;inside GTCJSolution for GTCJ orders...Archiving and sending response xml&quot;);\r\n\t\tif (strArchiveReqd != null &amp;&amp; &quot;Yes&quot;.equalsIgnoreCase(strArchiveReqd)) {\r\n\t\t\tarchiveXML(responseFileName, V21Constants.VIF_ARCHIVE_RESPONSE_XML_PATH);\r\n\t\t}\r\n\t\t// sending the response XML\r\n\t\tresponse = new Response();\r\n\t\tresponse.sendResponseXML(properties, responseXml, bNBSConnectivityFlag, queueName, address);\r\n\t}\r\n}\r\n```\r\n\r\nI figured out there should be a finally block after catch, but I don&#39;t know what to add inside the finally block. Or is there any other solution?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JKoBy.png","title":"A &quot;NullPointerException&quot; could be thrown; &quot;activationConfigParser&quot; is nullable here","body":"<p>sonar issue</p>\n<p><img src=\"https://i.stack.imgur.com/JKoBy.png\" alt=\"1\" /></p>\n<pre class=\"lang-java prettyprint-override\"><code>private void getGtcj(String gtcjStatusValue, String strArchiveReqd) throws Exception {\n    XPathHelper activationConfigParser = null;\n    try {\n        activationConfigParser = ConfigUtil.getInstance().getConfigParser(new URL((V21Constants.FILE\n                + System.getProperty(V21Constants.USER_DIR) + &quot;/vServe21/config/ActivationParameters.xml&quot;)));\n    } catch (Exception e) {\n        log.error(e.getMessage());\n    }\n\n    StringBuffer useGTCJSolution = new StringBuffer();\n    useGTCJSolution.append(XPathConstants.ACTIVATION_CONFIG_ACTIVATION_PARAM)\n            .append(&quot;/parameter[@name = '&quot;).append(XPathConstants.TAG_NAME_USE_GTCJ_SOLUTION)\n            .append(&quot;']&quot;);\n\n    String useGTCJSolutionStr = activationConfigParser.evaluateXPath(useGTCJSolution.toString());\n    log.debug(&quot;useGTCJSolutionStr value:&quot; + useGTCJSolutionStr);\n\n    if (useGTCJSolutionStr != null &amp;&amp; useGTCJSolutionStr.trim().equalsIgnoreCase(V21Constants.YES)\n            &amp;&amp; (gtcjStatusValue.equalsIgnoreCase(Statuses.ACTIVATION_SUCCESS)\n                    || gtcjStatusValue.equalsIgnoreCase(Statuses.ROLLBACK_SUCCESS)\n                    || gtcjStatusValue.equalsIgnoreCase(&quot;Rollback Failure&quot;))) {\n        log.debug(&quot;No need to archive and send response from here.&quot;);\n    } else {\n        log.debug(&quot;inside GTCJSolution for GTCJ orders...Archiving and sending response xml&quot;);\n        if (strArchiveReqd != null &amp;&amp; &quot;Yes&quot;.equalsIgnoreCase(strArchiveReqd)) {\n            archiveXML(responseFileName, V21Constants.VIF_ARCHIVE_RESPONSE_XML_PATH);\n        }\n        // sending the response XML\n        response = new Response();\n        response.sendResponseXML(properties, responseXml, bNBSConnectivityFlag, queueName, address);\n    }\n}\n</code></pre>\n<p>I figured out there should be a finally block after catch, but I don't know what to add inside the finally block. Or is there any other solution?</p>\n"},{"tags":["java","spring","spring-boot","spring-batch","itemwriter"],"comments":[{"owner":{"account_id":12767611,"reputation":93,"user_id":10120165,"display_name":"Raj Kundalia"},"score":0,"creation_date":1675662531,"post_id":75275934,"comment_id":132969767,"body_markdown":"Hello Arun, did this answer work for you yet?","body":"Hello Arun, did this answer work for you yet?"}],"answers":[{"tags":[],"owner":{"account_id":21401510,"reputation":66,"user_id":15763551,"display_name":"MahmoudFawzyKhalil"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1675023242,"creation_date":1675023242,"answer_id":75278069,"question_id":75275934,"body_markdown":"According to the [Spring Batch 5.0 migration guide](https://github.com/spring-projects/spring-batch/wiki/Spring-Batch-5.0-Migration-Guide), most references to `List`s in the API were replaced with `Chunk`.\r\n\r\n&gt; -   The signature of the method&#160;`ItemWriter#write(List)`&#160;was changed to&#160;`ItemWriter#write(Chunk)`\r\n&gt; -   All implementations of&#160;`ItemWriter`&#160;were updated to use the&#160;`Chunk`&#160;API instead of&#160;`List`\r\n&gt; -   All methods in the&#160;`ItemWriteListener`&#160;interface were updated to use the&#160;`Chunk`&#160;API instead of&#160;`List`\r\n&gt; -   All implementations of&#160;`ItemWriteListener`&#160;were updated to use the&#160;`Chunk`&#160;API instead of&#160;`List`\r\n&gt; -   The constructor of&#160;`ChunkRequest`&#160;was changed to accept a&#160;`Chunk`&#160;instead of a&#160;`Collection`&#160;of items\r\n&gt; -   The return type of&#160;`ChunkRequest#getItems()`&#160;was changed from&#160;`List`&#160;to&#160;`Chunk`\r\n\r\nA good way to do the migration in your code is to use one of `Chunk`&#39;s [constructors](https://docs.spring.io/spring-batch/docs/current/api/org/springframework/batch/item/Chunk.html#%3Cinit%3E(java.util.List)).\r\n\r\nExample:\r\n\r\n    @Override\r\n    public void write(Chunk&lt;? extends List&lt;DataDTO&gt;&gt; items) throws Exception{\r\n        for(List&lt;DataDTO&gt; sublist:items){\r\n            writer.write(new Chunk&lt;&gt;(sublist));\r\n        }\r\n    }\r\n","title":"Spring Batch Itemwriter Interface fix","body":"<p>According to the <a href=\"https://github.com/spring-projects/spring-batch/wiki/Spring-Batch-5.0-Migration-Guide\" rel=\"nofollow noreferrer\">Spring Batch 5.0 migration guide</a>, most references to <code>List</code>s in the API were replaced with <code>Chunk</code>.</p>\n<blockquote>\n<ul>\n<li>The signature of the method<code>ItemWriter#write(List)</code>was changed to<code>ItemWriter#write(Chunk)</code></li>\n<li>All implementations of<code>ItemWriter</code>were updated to use the<code>Chunk</code>API instead of<code>List</code></li>\n<li>All methods in the<code>ItemWriteListener</code>interface were updated to use the<code>Chunk</code>API instead of<code>List</code></li>\n<li>All implementations of<code>ItemWriteListener</code>were updated to use the<code>Chunk</code>API instead of<code>List</code></li>\n<li>The constructor of<code>ChunkRequest</code>was changed to accept a<code>Chunk</code>instead of a<code>Collection</code>of items</li>\n<li>The return type of<code>ChunkRequest#getItems()</code>was changed from<code>List</code>to<code>Chunk</code></li>\n</ul>\n</blockquote>\n<p>A good way to do the migration in your code is to use one of <code>Chunk</code>'s <a href=\"https://docs.spring.io/spring-batch/docs/current/api/org/springframework/batch/item/Chunk.html#%3Cinit%3E(java.util.List)\" rel=\"nofollow noreferrer\">constructors</a>.</p>\n<p>Example:</p>\n<pre><code>@Override\npublic void write(Chunk&lt;? extends List&lt;DataDTO&gt;&gt; items) throws Exception{\n    for(List&lt;DataDTO&gt; sublist:items){\n        writer.write(new Chunk&lt;&gt;(sublist));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":27591948,"reputation":23,"user_id":21058928,"display_name":"arun"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1347,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75278069,"answer_count":1,"score":1,"last_activity_date":1675023242,"creation_date":1675004952,"question_id":75275934,"body_markdown":"The write method of Itemwriter has been changed in the spring version 5.\r\n\r\n    @Override\r\n    public void write(List&lt;? extends List&lt;DataDTO&gt;&gt; items) throws Exception{\r\n        for(List&lt;DataDTO&gt; sublist:items){\r\n            writer.write(sublist);\r\n    }\r\n\r\nThe above writer is FlatFileItemWriter.\r\n\r\nI changed to the following \r\n\r\n    @Override\r\n    public void write(Chunk&lt;? extends List&lt;DataDTO&gt;&gt; items) throws Exception{\r\n        for(List&lt;DataDTO&gt; sublist:items){\r\n            writer.write((Chunk&lt;? extends DataDTO&gt;)sublist);\r\n        }\r\n    }\r\n\r\nIs this correct way of replacing/fix? need some help.\r\n\r\nIm expecting the correct fix.\r\n\r\nExpecting coreect replacement.","title":"Spring Batch Itemwriter Interface fix","body":"<p>The write method of Itemwriter has been changed in the spring version 5.</p>\n<pre><code>@Override\npublic void write(List&lt;? extends List&lt;DataDTO&gt;&gt; items) throws Exception{\n    for(List&lt;DataDTO&gt; sublist:items){\n        writer.write(sublist);\n}\n</code></pre>\n<p>The above writer is FlatFileItemWriter.</p>\n<p>I changed to the following</p>\n<pre><code>@Override\npublic void write(Chunk&lt;? extends List&lt;DataDTO&gt;&gt; items) throws Exception{\n    for(List&lt;DataDTO&gt; sublist:items){\n        writer.write((Chunk&lt;? extends DataDTO&gt;)sublist);\n    }\n}\n</code></pre>\n<p>Is this correct way of replacing/fix? need some help.</p>\n<p>Im expecting the correct fix.</p>\n<p>Expecting coreect replacement.</p>\n"},{"tags":["java","android","unit-testing","mockito","decimalformat"],"comments":[{"owner":{"account_id":7419981,"reputation":2073,"user_id":5644761,"display_name":"JakeB"},"score":1,"creation_date":1675008534,"post_id":75276330,"comment_id":132831334,"body_markdown":"Use java classes not android classes.","body":"Use java classes not android classes."},{"owner":{"account_id":19621186,"reputation":33,"user_id":14361633,"display_name":"Tr&#226;n V&#245; Bo"},"score":0,"creation_date":1675009072,"post_id":75276330,"comment_id":132831453,"body_markdown":"I did. But the java classes did not work properly when it runs on real devices. That is why I switch to use android classes.","body":"I did. But the java classes did not work properly when it runs on real devices. That is why I switch to use android classes."}],"answers":[{"tags":[],"owner":{"account_id":1262856,"reputation":2627,"user_id":1220743,"accept_rate":74,"display_name":"mol"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675022918,"creation_date":1675022918,"answer_id":75278020,"question_id":75276330,"body_markdown":"When you&#39;re using android classes in your unit tests, [they are actually mocks][1], not real objects. The error you&#39;re seeing [indicates][2] that you&#39;re trying to access mocked android framework object, in your instance DecimalFormat.\r\n\r\nYou can either change android classes to java classes, as JakeB suggested or you can use some framework like [Robolectric][3] to make android framework partially work in unit tests.\r\n\r\n\r\n  [1]: https://developer.android.com/training/testing/local-tests#mockable-library\r\n  [2]: https://developer.android.com/training/testing/local-tests#error\r\n  [3]: https://github.com/robolectric/robolectric","title":"How to unit testing a class that uses android.icu.text.* library with JUnit and Mockito in Android Studio? (in Java)","body":"<p>When you're using android classes in your unit tests, <a href=\"https://developer.android.com/training/testing/local-tests#mockable-library\" rel=\"nofollow noreferrer\">they are actually mocks</a>, not real objects. The error you're seeing <a href=\"https://developer.android.com/training/testing/local-tests#error\" rel=\"nofollow noreferrer\">indicates</a> that you're trying to access mocked android framework object, in your instance DecimalFormat.</p>\n<p>You can either change android classes to java classes, as JakeB suggested or you can use some framework like <a href=\"https://github.com/robolectric/robolectric\" rel=\"nofollow noreferrer\">Robolectric</a> to make android framework partially work in unit tests.</p>\n"}],"owner":{"account_id":19621186,"reputation":33,"user_id":14361633,"display_name":"Tr&#226;n V&#245; Bo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":363,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75278020,"answer_count":1,"score":1,"last_activity_date":1675022918,"creation_date":1675008426,"question_id":75276330,"body_markdown":"I am writing a class which handles formatting input text with given pattern.\r\nI am using `android.icu.text.DecimalFormat` and `android.icu.text.DecimalFormatSymbols` (I used the `java.text.Decimalformat` before but it did not worked correctly on the real android device so I switch to use `android.icu.text.*` classes)\r\nI am facing some issues:\r\n\r\nAt first It throws `Method ... is not mocked.` I fixed this one by add the testOptions in the `build.gradle` file. But then the DecimalFormat instance always returns `null`. \r\n\r\nI tried every thing and It still does not accept my test case.\r\nPlease help me. Thank you very much\r\n\r\nMy class:\r\n\r\n```\r\nimport android.icu.text.DecimalFormat;\r\nimport android.icu.text.DecimalFormatSymbols;\r\n\r\nimport androidx.annotation.NonNull;\r\n\r\nimport java.util.Locale;\r\n\r\npublic class NumberFormatter {\r\n    public String format(String inputText, String pattern){\r\n        DecimalFormatSymbols decimalFormatSymbol = getDefaultDecimalFormatSymbols();\r\n        DecimalFormat decimalFormat = getDecimalFormat(pattern, decimalFormatSymbol);\r\n        double value = Double.parseDouble(inputText);\r\n        return decimalFormat.format(value);\r\n    }\r\n\r\n    @NonNull\r\n    DecimalFormat getDecimalFormat(String pattern, DecimalFormatSymbols decimalFormatSymbol) {\r\n        return new DecimalFormat(pattern, decimalFormatSymbol);\r\n    }\r\n\r\n    @NonNull\r\n    DecimalFormatSymbols getDefaultDecimalFormatSymbols() {\r\n        DecimalFormatSymbols decimalFormatSymbol = new DecimalFormatSymbols(Locale.getDefault());\r\n        decimalFormatSymbol.setDecimalSeparator(&#39;.&#39;);\r\n        decimalFormatSymbol.setGroupingSeparator(&#39;,&#39;);\r\n        return decimalFormatSymbol;\r\n    }\r\n}\r\n```\r\n\r\nMy test class:\r\n\r\n```\r\nimport android.icu.text.DecimalFormat;\r\nimport android.icu.text.DecimalFormatSymbols;\r\n\r\nimport org.junit.Assert;\r\nimport org.junit.Test;\r\n\r\npublic class NumberFormatterTest {\r\n\r\n    @Test\r\n    public void format_givenInputStringAndPatternString_shouldReturnCorrespondingFormattedString(){\r\n        String pattern = &quot;#,###.##&quot;;\r\n        String inputString = &quot;1000.12&quot;;\r\n        String expect = &quot;1,000.12&quot;;\r\n        String actual = new NumberFormatter().format(inputString, pattern);\r\n\r\n        Assert.assertEquals(expect, actual);\r\n    }\r\n}\r\n```\r\n\r\nAt first it showed this error\r\n\r\n```\r\nMethod setDecimalSeparator in android.icu.text.DecimalFormatSymbols not mocked. See http://g.co/androidstudio/not-mocked for details.\r\njava.lang.RuntimeException: Method setDecimalSeparator in android.icu.text.DecimalFormatSymbols not mocked. See http://g.co/androidstudio/not-mocked for details.\r\n\r\n```\r\n\r\nAfter adding to gradle file like this:\r\n\r\n```\r\ntestOptions {\r\n    unitTests.returnDefaultValues = true\r\n}\r\n```\r\n\r\nThen is always return NULL\r\n\r\n```\r\nexpected:&lt;1,000.12&gt; but was:&lt;null&gt;\r\nExpected :1,000.12\r\nActual   :null\r\n&lt;Click to see difference&gt;\r\n\r\njava.lang.AssertionError: expected:&lt;1,000.12&gt; but was:&lt;null&gt;\r\n\tat org.junit.Assert.fail(Assert.java:89)\r\n\tat org.junit.Assert.failNotEquals(Assert.java:835)\r\n\tat org.junit.Assert.assertEquals(Assert.java:120)\r\n\tat org.junit.Assert.assertEquals(Assert.java:146)\r\n```\r\n\r\n\r\nI tried to add `testOptions` in to `build.gradle`\r\nI tried to mock the DecimalFormat object\r\nI expected that it could return some object with my settings but it always return `null`","title":"How to unit testing a class that uses android.icu.text.* library with JUnit and Mockito in Android Studio? (in Java)","body":"<p>I am writing a class which handles formatting input text with given pattern.\nI am using <code>android.icu.text.DecimalFormat</code> and <code>android.icu.text.DecimalFormatSymbols</code> (I used the <code>java.text.Decimalformat</code> before but it did not worked correctly on the real android device so I switch to use <code>android.icu.text.*</code> classes)\nI am facing some issues:</p>\n<p>At first It throws <code>Method ... is not mocked.</code> I fixed this one by add the testOptions in the <code>build.gradle</code> file. But then the DecimalFormat instance always returns <code>null</code>.</p>\n<p>I tried every thing and It still does not accept my test case.\nPlease help me. Thank you very much</p>\n<p>My class:</p>\n<pre><code>import android.icu.text.DecimalFormat;\nimport android.icu.text.DecimalFormatSymbols;\n\nimport androidx.annotation.NonNull;\n\nimport java.util.Locale;\n\npublic class NumberFormatter {\n    public String format(String inputText, String pattern){\n        DecimalFormatSymbols decimalFormatSymbol = getDefaultDecimalFormatSymbols();\n        DecimalFormat decimalFormat = getDecimalFormat(pattern, decimalFormatSymbol);\n        double value = Double.parseDouble(inputText);\n        return decimalFormat.format(value);\n    }\n\n    @NonNull\n    DecimalFormat getDecimalFormat(String pattern, DecimalFormatSymbols decimalFormatSymbol) {\n        return new DecimalFormat(pattern, decimalFormatSymbol);\n    }\n\n    @NonNull\n    DecimalFormatSymbols getDefaultDecimalFormatSymbols() {\n        DecimalFormatSymbols decimalFormatSymbol = new DecimalFormatSymbols(Locale.getDefault());\n        decimalFormatSymbol.setDecimalSeparator('.');\n        decimalFormatSymbol.setGroupingSeparator(',');\n        return decimalFormatSymbol;\n    }\n}\n</code></pre>\n<p>My test class:</p>\n<pre><code>import android.icu.text.DecimalFormat;\nimport android.icu.text.DecimalFormatSymbols;\n\nimport org.junit.Assert;\nimport org.junit.Test;\n\npublic class NumberFormatterTest {\n\n    @Test\n    public void format_givenInputStringAndPatternString_shouldReturnCorrespondingFormattedString(){\n        String pattern = &quot;#,###.##&quot;;\n        String inputString = &quot;1000.12&quot;;\n        String expect = &quot;1,000.12&quot;;\n        String actual = new NumberFormatter().format(inputString, pattern);\n\n        Assert.assertEquals(expect, actual);\n    }\n}\n</code></pre>\n<p>At first it showed this error</p>\n<pre><code>Method setDecimalSeparator in android.icu.text.DecimalFormatSymbols not mocked. See http://g.co/androidstudio/not-mocked for details.\njava.lang.RuntimeException: Method setDecimalSeparator in android.icu.text.DecimalFormatSymbols not mocked. See http://g.co/androidstudio/not-mocked for details.\n\n</code></pre>\n<p>After adding to gradle file like this:</p>\n<pre><code>testOptions {\n    unitTests.returnDefaultValues = true\n}\n</code></pre>\n<p>Then is always return NULL</p>\n<pre><code>expected:&lt;1,000.12&gt; but was:&lt;null&gt;\nExpected :1,000.12\nActual   :null\n&lt;Click to see difference&gt;\n\njava.lang.AssertionError: expected:&lt;1,000.12&gt; but was:&lt;null&gt;\n    at org.junit.Assert.fail(Assert.java:89)\n    at org.junit.Assert.failNotEquals(Assert.java:835)\n    at org.junit.Assert.assertEquals(Assert.java:120)\n    at org.junit.Assert.assertEquals(Assert.java:146)\n</code></pre>\n<p>I tried to add <code>testOptions</code> in to <code>build.gradle</code>\nI tried to mock the DecimalFormat object\nI expected that it could return some object with my settings but it always return <code>null</code></p>\n"},{"tags":["java","cron","quartz"],"answers":[{"tags":[],"owner":{"account_id":7582437,"reputation":5222,"user_id":5752737,"accept_rate":100,"display_name":"geco17"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675022296,"creation_date":1675022296,"answer_id":75277952,"question_id":75277641,"body_markdown":"There are two points to consider here.\r\n\r\n1. The cron expression. What if it changes in the future?\r\nOther than reading the manual, lots of information is available online for describing or generating cron expressions (for just one example see here: https://www.freeformatter.com/cron-expression-generator-quartz.html)\r\n\r\n2. Testing it. How are you testing? The question lists Java. Are you using JUnit? Some code is needed but in general to be sure it will fire when you want it to, write a unit test and mock or override the system time.","title":"cronExpression for last day of month and every 10 min by using CronScheduleBuilder.cronSchedule","body":"<p>There are two points to consider here.</p>\n<ol>\n<li><p>The cron expression. What if it changes in the future?\nOther than reading the manual, lots of information is available online for describing or generating cron expressions (for just one example see here: <a href=\"https://www.freeformatter.com/cron-expression-generator-quartz.html\" rel=\"nofollow noreferrer\">https://www.freeformatter.com/cron-expression-generator-quartz.html</a>)</p>\n</li>\n<li><p>Testing it. How are you testing? The question lists Java. Are you using JUnit? Some code is needed but in general to be sure it will fire when you want it to, write a unit test and mock or override the system time.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":4321457,"reputation":901,"user_id":3529526,"accept_rate":68,"display_name":"tiamat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":130,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75277952,"answer_count":1,"score":0,"last_activity_date":1675022296,"creation_date":1675019525,"question_id":75277641,"body_markdown":"I&#39;m familiar with Cron on linux systems but by using Quartz Jobs, I have some doubts as the format is not really standard...\r\n\r\nI would need a confirmation of the cronExpression syntax...\r\n\r\nHere is the CronExpression I use to trigger my Job every 10 Min:\r\n\r\n    0 10 * ? * *\r\n\r\nAnd here is the CronExpression to start this Job the last day of month at 11:15pm:\r\n\r\n    0 15 23 L * ?\r\n\r\nCan you confirm the syntax is correct ? my expression to start every 10 min works fine, but it will avoid me to wait until the end of the month to test the second one !","title":"cronExpression for last day of month and every 10 min by using CronScheduleBuilder.cronSchedule","body":"<p>I'm familiar with Cron on linux systems but by using Quartz Jobs, I have some doubts as the format is not really standard...</p>\n<p>I would need a confirmation of the cronExpression syntax...</p>\n<p>Here is the CronExpression I use to trigger my Job every 10 Min:</p>\n<pre><code>0 10 * ? * *\n</code></pre>\n<p>And here is the CronExpression to start this Job the last day of month at 11:15pm:</p>\n<pre><code>0 15 23 L * ?\n</code></pre>\n<p>Can you confirm the syntax is correct ? my expression to start every 10 min works fine, but it will avoid me to wait until the end of the month to test the second one !</p>\n"},{"tags":["java","spring","spring-hateoas"],"answers":[{"tags":[],"owner":{"account_id":9744,"reputation":80826,"user_id":18122,"accept_rate":80,"display_name":"Oliver Drotbohm"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1425901469,"creation_date":1425901469,"answer_id":28941196,"question_id":28837518,"body_markdown":"So what you conceptually do is returning an empty collection resource with links attached. This can be achieved by this snippet of code:\r\n\r\n    List&lt;Link&gt; links = \r\n    return new Resources&lt;Object&gt;(Collections.emptySet(), links);","title":"Spring HATEOAS &amp; HAL: Can I serve just Links but no content?","body":"<p>So what you conceptually do is returning an empty collection resource with links attached. This can be achieved by this snippet of code:</p>\n\n<pre><code>List&lt;Link&gt; links = \nreturn new Resources&lt;Object&gt;(Collections.emptySet(), links);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1539292,"reputation":21,"user_id":1434339,"display_name":"Ameen Demidem"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675021704,"creation_date":1675021704,"answer_id":75277892,"question_id":28837518,"body_markdown":"I couldn&#39;t figure out which &quot;Resources&quot; that was and I wanted to return a proper HAL representation in order to make use of &quot;/&quot; as the entry point in HAL Explorer. This worked out for me:\r\n\r\n```\r\nreturn ResponseEntity.ok(new RepresentationModel&lt;&gt;()\r\n    .add(linkTo(methodOn(SomeController.class).GET()).withRel(&quot;some-rel&quot;)));\r\n```","title":"Spring HATEOAS &amp; HAL: Can I serve just Links but no content?","body":"<p>I couldn't figure out which &quot;Resources&quot; that was and I wanted to return a proper HAL representation in order to make use of &quot;/&quot; as the entry point in HAL Explorer. This worked out for me:</p>\n<pre><code>return ResponseEntity.ok(new RepresentationModel&lt;&gt;()\n    .add(linkTo(methodOn(SomeController.class).GET()).withRel(&quot;some-rel&quot;)));\n</code></pre>\n"}],"owner":{"account_id":5143893,"reputation":303,"user_id":4385388,"accept_rate":100,"display_name":"Kirby"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1326,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":28941196,"answer_count":2,"score":7,"last_activity_date":1675021704,"creation_date":1425401853,"question_id":28837518,"body_markdown":"What it says in the title.\r\n\r\nI want to serve a root resource that consists only of links to the &quot;lower&quot; resources. It seems that `Resource` as well as `HttpEntity` want an object with some content as their type, so how can I serve just Links?\r\n\r\nThanks.","title":"Spring HATEOAS &amp; HAL: Can I serve just Links but no content?","body":"<p>What it says in the title.</p>\n\n<p>I want to serve a root resource that consists only of links to the \"lower\" resources. It seems that <code>Resource</code> as well as <code>HttpEntity</code> want an object with some content as their type, so how can I serve just Links?</p>\n\n<p>Thanks.</p>\n"},{"tags":["java","spring","spring-mvc","mockito"],"answers":[{"tags":[],"owner":{"account_id":2981248,"reputation":1121,"user_id":2531159,"display_name":"swist"},"down_vote_count":0,"up_vote_count":35,"is_accepted":true,"score":35,"last_activity_date":1411545539,"creation_date":1399653391,"answer_id":23569794,"question_id":23569213,"body_markdown":"[HTTP Error 415 Unsupported media type](http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html) - means that you send the data which is not supported by the service. In this case it means that you don&#39;t set the Content-Type header and actual content in the request. I suppose the JSON  is expected content, so your call should look like this:\r\n\r\n    this.mockMvc.perform(post(&quot;/payment&quot;).contentType(MediaType.APPLICATION_JSON)\r\n        .content(&quot;{\\&quot;json\\&quot;:\\&quot;request to be send\\&quot;}&quot;))\r\n        .andExpect(status().isOk())\r\n        .and_the_rest_of_validation_part\r\n\r\n\r\n\r\n","title":"MockMVC and Mockito returns Status expected &lt;200&gt; but was &lt;415&gt;","body":"<p><a href=\"http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html\" rel=\"noreferrer\">HTTP Error 415 Unsupported media type</a> - means that you send the data which is not supported by the service. In this case it means that you don't set the Content-Type header and actual content in the request. I suppose the JSON  is expected content, so your call should look like this:</p>\n\n<pre><code>this.mockMvc.perform(post(\"/payment\").contentType(MediaType.APPLICATION_JSON)\n    .content(\"{\\\"json\\\":\\\"request to be send\\\"}\"))\n    .andExpect(status().isOk())\n    .and_the_rest_of_validation_part\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2090891,"reputation":1271,"user_id":1860768,"accept_rate":83,"display_name":"Ann Kilzer"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1419967406,"creation_date":1419967406,"answer_id":27711286,"question_id":23569213,"body_markdown":"You might also be missing some annotations on your controller class. Make sure you use @EnableWebMvc and @Controller\r\n\r\nCheck out [this answer for details][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/25573651/1860768","title":"MockMVC and Mockito returns Status expected &lt;200&gt; but was &lt;415&gt;","body":"<p>You might also be missing some annotations on your controller class. Make sure you use @EnableWebMvc and @Controller</p>\n\n<p>Check out <a href=\"https://stackoverflow.com/a/25573651/1860768\">this answer for details</a></p>\n"},{"tags":[],"owner":{"account_id":7688273,"reputation":11,"user_id":5825313,"display_name":"Sergey  Yurov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1548505707,"creation_date":1548505707,"answer_id":54378355,"question_id":23569213,"body_markdown":"Also you might add accept\r\n\r\n\r\n\r\n   \r\n\r\n     mockMvc.perform(post(&quot;/api/sender/sms/&quot;)\r\n                .accept(MediaType.APPLICATION_JSON_UTF8)\r\n                .contentType(MediaType.APPLICATION_JSON_UTF8)\r\n                .content(&quot;{ \\&quot;serviceName\\&quot;:\\&quot;serviceName\\&quot;,  \\&quot;apiId\\&quot;:\\&quot;apiId\\&quot;,  \\&quot;to\\&quot;:\\&quot;to\\&quot;,  \\&quot;msg\\&quot;:\\&quot;msg\\&quot; }&quot;)\r\n        )\r\n            .andExpect(MockMvcResultMatchers.status().isOk())\r\n            .andReturn();","title":"MockMVC and Mockito returns Status expected &lt;200&gt; but was &lt;415&gt;","body":"<p>Also you might add accept</p>\n\n<pre><code> mockMvc.perform(post(\"/api/sender/sms/\")\n            .accept(MediaType.APPLICATION_JSON_UTF8)\n            .contentType(MediaType.APPLICATION_JSON_UTF8)\n            .content(\"{ \\\"serviceName\\\":\\\"serviceName\\\",  \\\"apiId\\\":\\\"apiId\\\",  \\\"to\\\":\\\"to\\\",  \\\"msg\\\":\\\"msg\\\" }\")\n    )\n        .andExpect(MockMvcResultMatchers.status().isOk())\n        .andReturn();\n</code></pre>\n"}],"owner":{"account_id":892949,"reputation":7179,"user_id":930875,"accept_rate":44,"display_name":"Ben Taliadoros"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33761,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":23569794,"answer_count":3,"score":19,"last_activity_date":1675021496,"creation_date":1399651551,"question_id":23569213,"body_markdown":"I&#39;m testing an api endpoint which works from a http poster (namely PAW) but I cant get a test in the code to pass.\r\n\r\nI&#39;m new to both Mockito and MockMVC so any help would be appreciated.\r\n\r\nTest below:\r\n\r\n     @Test\r\n     public void createPaymentTest() throws Exception {\r\n        User user = new User(&quot;ben&quot;, &quot;password&quot;, &quot;a@a.com&quot;);\r\n\r\n        SuccessResponseDTO successDTO = new SuccessResponseDTO();\r\n        successDTO.setSuccess(true);\r\n\r\n        when(userService.getLoggedInUser()).thenReturn(user);\r\n        when(paymentService.makePayment(Mockito.any(PaymentRequestDTO.class), Mockito.any(User.class))).thenReturn(successDTO.getSuccess());\r\n\r\n        this.mockMvc.perform(post(&quot;/payment&quot;)).andExpect(status().isOk())\r\n                .andExpect(content().contentType(MediaType.APPLICATION_JSON)).andDo(MockMvcResultHandlers.print())\r\n                .andExpect(jsonPath(&quot;$.success&quot;).value(successDTO.getSuccess()));\r\n\r\n    }\r\n\r\nSuccessResponseDTO just contains one attribute, a boolean &#39;success&#39;.\r\n\r\nThe method it&#39;s testing is below:\r\n\r\n    @RequestMapping(value = &quot;/payment&quot;, method = RequestMethod.POST, produces = MediaType.APPLICATION_JSON_VALUE)\r\n    @ResponseBody\r\n    public SuccessResponseDTO createPayment(@RequestBody PaymentRequestDTO payment) {\r\n        User loggedInUser = userService.getLoggedInUser();\r\n        LOGGER.info(&quot;Logged in user found...creating payment...&quot;);\r\n\r\n        Assert.notNull(payment.getAccountId(), &quot;Missing user account id&quot;);\r\n        Assert.notNull(payment.getPayeeAccountNumber(), &quot;Missing payee acount number&quot;);\r\n        Assert.notNull(payment.getPayeeName(), &quot;Missing payee name&quot;);\r\n        Assert.notNull(payment.getPayeeSortCode(), &quot;Missing payee sort code&quot;);\r\n        Assert.notNull(payment.getPaymentAmount(), &quot;Missing payee amount&quot;);\r\n        Assert.notNull(payment.getPaymentDescription(), &quot;Missing payment description&quot;);\r\n\r\n        Boolean paymentResult = paymentService.makePayment(payment, loggedInUser);\r\n\r\n        SuccessResponseDTO successResponse = new SuccessResponseDTO();\r\n\r\n        successResponse.setSuccess(paymentResult);\r\n\r\n        return successResponse;\r\n    }\r\n\r\nCan anyone shed light on the stack trace:\r\n\r\n    java.lang.AssertionError: Status expected:&lt;200&gt; but was:&lt;415&gt;\r\n\tat org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:60)\r\n\tat org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:89)\r\n\tat org.springframework.test.web.servlet.result.StatusResultMatchers$5.match(StatusResultMatchers.java:546)\r\n\tat org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:141)\r\n\tat com.capco.living.controller.PaymentControllerTest.createPaymentTest(PaymentControllerTest.java:69)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:606)\r\n\tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)\r\n\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n\tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)\r\n\tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\r\n\tat org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\r\n\tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:271)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:70)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:50)\r\n\tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)\r\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)\r\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)\r\n\tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)\r\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)\r\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:309)\r\n\tat org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:50)\r\n\tat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:467)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:683)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:390)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:197)\r\n\r\n","title":"MockMVC and Mockito returns Status expected &lt;200&gt; but was &lt;415&gt;","body":"<p>I'm testing an api endpoint which works from a http poster (namely PAW) but I cant get a test in the code to pass.</p>\n\n<p>I'm new to both Mockito and MockMVC so any help would be appreciated.</p>\n\n<p>Test below:</p>\n\n<pre><code> @Test\n public void createPaymentTest() throws Exception {\n    User user = new User(\"ben\", \"password\", \"a@a.com\");\n\n    SuccessResponseDTO successDTO = new SuccessResponseDTO();\n    successDTO.setSuccess(true);\n\n    when(userService.getLoggedInUser()).thenReturn(user);\n    when(paymentService.makePayment(Mockito.any(PaymentRequestDTO.class), Mockito.any(User.class))).thenReturn(successDTO.getSuccess());\n\n    this.mockMvc.perform(post(\"/payment\")).andExpect(status().isOk())\n            .andExpect(content().contentType(MediaType.APPLICATION_JSON)).andDo(MockMvcResultHandlers.print())\n            .andExpect(jsonPath(\"$.success\").value(successDTO.getSuccess()));\n\n}\n</code></pre>\n\n<p>SuccessResponseDTO just contains one attribute, a boolean 'success'.</p>\n\n<p>The method it's testing is below:</p>\n\n<pre><code>@RequestMapping(value = \"/payment\", method = RequestMethod.POST, produces = MediaType.APPLICATION_JSON_VALUE)\n@ResponseBody\npublic SuccessResponseDTO createPayment(@RequestBody PaymentRequestDTO payment) {\n    User loggedInUser = userService.getLoggedInUser();\n    LOGGER.info(\"Logged in user found...creating payment...\");\n\n    Assert.notNull(payment.getAccountId(), \"Missing user account id\");\n    Assert.notNull(payment.getPayeeAccountNumber(), \"Missing payee acount number\");\n    Assert.notNull(payment.getPayeeName(), \"Missing payee name\");\n    Assert.notNull(payment.getPayeeSortCode(), \"Missing payee sort code\");\n    Assert.notNull(payment.getPaymentAmount(), \"Missing payee amount\");\n    Assert.notNull(payment.getPaymentDescription(), \"Missing payment description\");\n\n    Boolean paymentResult = paymentService.makePayment(payment, loggedInUser);\n\n    SuccessResponseDTO successResponse = new SuccessResponseDTO();\n\n    successResponse.setSuccess(paymentResult);\n\n    return successResponse;\n}\n</code></pre>\n\n<p>Can anyone shed light on the stack trace:</p>\n\n<pre><code>java.lang.AssertionError: Status expected:&lt;200&gt; but was:&lt;415&gt;\nat org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:60)\nat org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:89)\nat org.springframework.test.web.servlet.result.StatusResultMatchers$5.match(StatusResultMatchers.java:546)\nat org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:141)\nat com.capco.living.controller.PaymentControllerTest.createPaymentTest(PaymentControllerTest.java:69)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:606)\nat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:47)\nat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\nat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:44)\nat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\nat org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\nat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:271)\nat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:70)\nat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:50)\nat org.junit.runners.ParentRunner$3.run(ParentRunner.java:238)\nat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:63)\nat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:236)\nat org.junit.runners.ParentRunner.access$000(ParentRunner.java:53)\nat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:229)\nat org.junit.runners.ParentRunner.run(ParentRunner.java:309)\nat org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:50)\nat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)\nat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:467)\nat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:683)\nat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:390)\nat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:197)\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1535625726,"post_id":52095014,"comment_id":91140022,"body_markdown":"Without compilation or without packaging?","body":"Without compilation or without packaging?"},{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":0,"creation_date":1535625744,"post_id":52095014,"comment_id":91140039,"body_markdown":"Without compilation.","body":"Without compilation."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1535625777,"post_id":52095014,"comment_id":91140051,"body_markdown":"In that case, I don&#39;t think so","body":"In that case, I don&#39;t think so"},{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":4,"creation_date":1535625899,"post_id":52095014,"comment_id":91140130,"body_markdown":"There&#39;s no way.","body":"There&#39;s no way."},{"owner":{"account_id":2498626,"reputation":2734,"user_id":2174382,"display_name":"guleryuz"},"score":0,"creation_date":1535627631,"post_id":52095014,"comment_id":91141247,"body_markdown":"you should use [spring tool suite + wildfly](http://doraprojects.net/blog/?p=3307) to speed up your development cycles","body":"you should use <a href=\"http://doraprojects.net/blog/?p=3307\" rel=\"nofollow noreferrer\">spring tool suite + wildfly</a> to speed up your development cycles"},{"owner":{"account_id":5144424,"reputation":2664,"user_id":4337151,"display_name":"dehasi"},"score":0,"creation_date":1535631569,"post_id":52095014,"comment_id":91143946,"body_markdown":"Why do you need it?","body":"Why do you need it?"},{"owner":{"account_id":13072244,"reputation":2184,"user_id":10014361,"display_name":"Aven Desta"},"score":0,"creation_date":1675021271,"post_id":52095014,"comment_id":132833958,"body_markdown":"I think you are looking for [JSHELL](https://docs.oracle.com/javase/9/jshell/introduction-jshell.htm#JSHEL-GUID-465BA4F5-E77D-456F-BCB7-D826AC1E18AE). its REPL for java.","body":"I think you are looking for <a href=\"https://docs.oracle.com/javase/9/jshell/introduction-jshell.htm#JSHEL-GUID-465BA4F5-E77D-456F-BCB7-D826AC1E18AE\" rel=\"nofollow noreferrer\">JSHELL</a>. its REPL for java."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1535627467,"creation_date":1535627467,"answer_id":52095593,"question_id":52095014,"body_markdown":"&gt; How to run java without compilation\r\n\r\nThere is no way.\r\n\r\n&gt; For example can I deploy the application as exploded package?\r\n\r\nIf you deploy an application as an exploded package of source files (&quot;.java&quot;), they won&#39;t run.  The container won&#39;t compile them.\r\n\r\nTo deploy it an exploded package of &quot;.class&quot; files, you first need to compile the source code.\r\n\r\nBasically, you cannot avoid compilation.\r\n\r\n--------\r\n\r\nOne way to reduce build / deploy cycle times is to use hot deployment; see [Hot-deploy Java classes and assets in Wildfly 8/9/10](https://www.endpoint.com/blog/2017/10/27/hot-deploy-java-classes-and-assets-in)\r\n","title":"How to run java without compilation","body":"<blockquote>\n  <p>How to run java without compilation</p>\n</blockquote>\n\n<p>There is no way.</p>\n\n<blockquote>\n  <p>For example can I deploy the application as exploded package?</p>\n</blockquote>\n\n<p>If you deploy an application as an exploded package of source files (\".java\"), they won't run.  The container won't compile them.</p>\n\n<p>To deploy it an exploded package of \".class\" files, you first need to compile the source code.</p>\n\n<p>Basically, you cannot avoid compilation.</p>\n\n<hr>\n\n<p>One way to reduce build / deploy cycle times is to use hot deployment; see <a href=\"https://www.endpoint.com/blog/2017/10/27/hot-deploy-java-classes-and-assets-in\" rel=\"nofollow noreferrer\">Hot-deploy Java classes and assets in Wildfly 8/9/10</a></p>\n"},{"tags":[],"owner":{"account_id":9288521,"reputation":128,"user_id":6897598,"display_name":"BazSTR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675021081,"creation_date":1675021081,"answer_id":75277811,"question_id":52095014,"body_markdown":"It is possible but you **can run only a single file with java 11+** https://www.baeldung.com/java-single-file-source-code\r\n\r\nIn order to **reduce compilation time** for **Spring Boot** you can use Gradle build server\r\nhttps://medium.com/@cesarmcferreira/using-gradle-build-cache-server-73d7680baf2a","title":"How to run java without compilation","body":"<p>It is possible but you <strong>can run only a single file with java 11+</strong> <a href=\"https://www.baeldung.com/java-single-file-source-code\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-single-file-source-code</a></p>\n<p>In order to <strong>reduce compilation time</strong> for <strong>Spring Boot</strong> you can use Gradle build server\n<a href=\"https://medium.com/@cesarmcferreira/using-gradle-build-cache-server-73d7680baf2a\" rel=\"nofollow noreferrer\">https://medium.com/@cesarmcferreira/using-gradle-build-cache-server-73d7680baf2a</a></p>\n"}],"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":268,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1675021081,"creation_date":1535625681,"question_id":52095014,"body_markdown":"In order to speed up coding and testing I&#39;m interested is there a way to run Spring Boot application in Wildfly without compilation? \r\n\r\nfor example can I deploy the application as exploded package?","title":"How to run java without compilation","body":"<p>In order to speed up coding and testing I'm interested is there a way to run Spring Boot application in Wildfly without compilation? </p>\n\n<p>for example can I deploy the application as exploded package?</p>\n"},{"tags":["java","spring-boot","reactive","spring-data-r2dbc"],"answers":[{"tags":[],"owner":{"account_id":112364,"reputation":25221,"user_id":296427,"accept_rate":91,"display_name":"pixel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1586976993,"creation_date":1586976993,"answer_id":61236490,"question_id":59124333,"body_markdown":"I know that this is not the exact answer but the only way to create tables in R2DBC is to utilize `databasePopulator`:\r\n\r\n    @Bean\r\n    fun initializer(connectionFactory: ConnectionFactory) =\r\n        ConnectionFactoryInitializer().apply {\r\n            setConnectionFactory(connectionFactory)\r\n            setDatabasePopulator(CompositeDatabasePopulator()\r\n                .apply {\r\n                    addPopulators(ResourceDatabasePopulator(FileSystemResource(&quot;src/test/resources/sql/init.sql&quot;)))\r\n                })\r\n        }\r\n\r\nIt can come in handy during tests.","title":"Spring boot data r2dbc auto create tables","body":"<p>I know that this is not the exact answer but the only way to create tables in R2DBC is to utilize <code>databasePopulator</code>:</p>\n\n<pre><code>@Bean\nfun initializer(connectionFactory: ConnectionFactory) =\n    ConnectionFactoryInitializer().apply {\n        setConnectionFactory(connectionFactory)\n        setDatabasePopulator(CompositeDatabasePopulator()\n            .apply {\n                addPopulators(ResourceDatabasePopulator(FileSystemResource(\"src/test/resources/sql/init.sql\")))\n            })\n    }\n</code></pre>\n\n<p>It can come in handy during tests.</p>\n"},{"tags":[],"owner":{"account_id":26217605,"reputation":13,"user_id":19895538,"display_name":"stackr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663933078,"creation_date":1663933078,"answer_id":73827110,"question_id":59124333,"body_markdown":"In order for r2dbc to auto create tables on app startup all you need is a config java class annotated with the @Configuration eg:\r\n\r\n```\r\nimport io.r2dbc.spi.ConnectionFactory;\r\nimport org.springframework.beans.factory.annotation.Qualifier;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.core.io.ClassPathResource;\r\nimport org.springframework.r2dbc.connection.init.ConnectionFactoryInitializer;\r\nimport org.springframework.r2dbc.connection.init.ResourceDatabasePopulator;\r\n\r\n@Configuration\r\npublic class DbSchemaInitOnStartup {\r\n\r\n    @Bean\r\n    ConnectionFactoryInitializer initializer(@Qualifier(&quot;connectionFactory&quot;) ConnectionFactory connectionFactory) {\r\n        ConnectionFactoryInitializer initializer = new ConnectionFactoryInitializer();\r\n        initializer.setConnectionFactory(connectionFactory);\r\n        ResourceDatabasePopulator resource = new ResourceDatabasePopulator(new ClassPathResource(&quot;schema.sql&quot;));\r\n        initializer.setDatabasePopulator(resource);\r\n        return initializer;\r\n    }\r\n\r\n}\r\n```\r\n\r\nThe ``schema.sql`` file must be placed in ``/resources`` folder for above to work.","title":"Spring boot data r2dbc auto create tables","body":"<p>In order for r2dbc to auto create tables on app startup all you need is a config java class annotated with the @Configuration eg:</p>\n<pre><code>import io.r2dbc.spi.ConnectionFactory;\nimport org.springframework.beans.factory.annotation.Qualifier;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.core.io.ClassPathResource;\nimport org.springframework.r2dbc.connection.init.ConnectionFactoryInitializer;\nimport org.springframework.r2dbc.connection.init.ResourceDatabasePopulator;\n\n@Configuration\npublic class DbSchemaInitOnStartup {\n\n    @Bean\n    ConnectionFactoryInitializer initializer(@Qualifier(&quot;connectionFactory&quot;) ConnectionFactory connectionFactory) {\n        ConnectionFactoryInitializer initializer = new ConnectionFactoryInitializer();\n        initializer.setConnectionFactory(connectionFactory);\n        ResourceDatabasePopulator resource = new ResourceDatabasePopulator(new ClassPathResource(&quot;schema.sql&quot;));\n        initializer.setDatabasePopulator(resource);\n        return initializer;\n    }\n\n}\n</code></pre>\n<p>The <code>schema.sql</code> file must be placed in <code>/resources</code> folder for above to work.</p>\n"},{"tags":[],"owner":{"account_id":4503085,"reputation":23,"user_id":4481384,"display_name":"Nipuna Perera"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675020738,"creation_date":1675020738,"answer_id":75277775,"question_id":59124333,"body_markdown":"For testing purpose, I tried this scenario by creating two datasources that point to the same database. One is for JDBC and the other one is for R2DBC.\r\n\r\n**JDBC Datasource**\r\n\r\n```\r\n@Configuration\r\n@EnableJpaRepositories( basePackages = &quot;com.ns.reactivetest.repository.jdbc&quot;, entityManagerFactoryRef = &quot;jdbcEntityManager&quot;, transactionManagerRef = &quot;jdbcTransactionManager&quot; )\r\n@EnableTransactionManagement\r\npublic class JdbcConfiguration {\r\n\r\n\t@Autowired\r\n\tEnvironment env;\r\n\r\n\t@Bean( name = &quot;jdbcDataSource&quot; )\r\n\t@Primary\r\n\tpublic DataSource jdbcDataSource( ) {\r\n\t\tDriverManagerDataSource dataSource = new DriverManagerDataSource( );\r\n\t\tdataSource.setUrl( env.getProperty( &quot;spring.datasource.url&quot; ) );\r\n\t\tdataSource.setUsername( env.getProperty( &quot;spring.datasource.username&quot; ) );\r\n\t\tdataSource.setPassword( env.getProperty( &quot;spring.datasource.password&quot; ) );\r\n\r\n\t\tHikariDataSource hikariDataSource = new HikariDataSource( );\r\n\t\thikariDataSource.setDataSource( dataSource );\r\n\t\thikariDataSource.setMinimumIdle( Integer.valueOf( env.getProperty( &quot;spring.datasource.hikari.minimum-idle&quot; ) ) );\r\n\t\thikariDataSource.setMaximumPoolSize( Integer.valueOf( env.getProperty( &quot;spring.datasource.hikari.maximum-pool-size&quot; ) ) );\r\n\t\thikariDataSource.setSchema( env.getProperty( &quot;spring.datasource.hikari.schema&quot; ) );\r\n\r\n\t\treturn hikariDataSource;\r\n\t}\r\n\r\n\t@Bean( name = &quot;jdbcEntityManager&quot; )\r\n\t@Primary\r\n\tpublic LocalContainerEntityManagerFactoryBean jdbcEntityManager( @Qualifier( &quot;jdbcDataSource&quot; ) DataSource dataSource ) {\r\n\t\tLocalContainerEntityManagerFactoryBean em = new LocalContainerEntityManagerFactoryBean( );\r\n\t\tem.setDataSource( dataSource );\r\n\t\tem.setPackagesToScan( new String[]{ &quot;com.ns.reactivetest.domain&quot; } );\r\n\t\tem.setPersistenceUnitName( &quot;jdbc_persistence_Unit_Name&quot; );\r\n\r\n\t\tJpaVendorAdapter jpaVendorAdapter = new HibernateJpaVendorAdapter( );\r\n\t\tem.setJpaVendorAdapter( jpaVendorAdapter );\r\n\r\n\t\tProperties properties = new Properties( );\r\n\t\tproperties.setProperty( &quot;hibernate.hbm2ddl.auto&quot;, env.getProperty( &quot;spring.jpa.hibernate.ddl-auto&quot; ) );\r\n\t\tproperties.setProperty( &quot;hibernate.dialect&quot;, env.getProperty( &quot;spring.jpa.properties.hibernate.dialect&quot; ) );\r\n\t\tem.setJpaProperties( properties );\r\n\r\n\t\treturn em;\r\n\t}\r\n\r\n\t@Bean( name = &quot;jdbcTransactionManager&quot; )\r\n\t@Primary\r\n\tpublic PlatformTransactionManager jdbcTransactionManager( @Qualifier( &quot;jdbcDataSource&quot; ) DataSource dataSource ) {\r\n\t\tJpaTransactionManager transactionManager = new JpaTransactionManager( );\r\n\t\ttransactionManager.setDataSource( dataSource );\r\n\t\ttransactionManager.setPersistenceUnitName( &quot;jdbc_persistence_Unit_Name&quot; );\r\n\t\treturn transactionManager;\r\n\t}\r\n\r\n}\r\n```\r\n\r\n\r\n**R2DBC Datasource**\r\n\r\n```\r\n@Configuration\r\n@EnableR2dbcRepositories( basePackages = &quot;com.ns.reactivetest.repository.reactive&quot; )\r\n@EnableTransactionManagement\r\npublic class R2DbcConfiguration  {\r\n\r\n\t@Autowired\r\n\tprivate Environment env;\r\n\r\n\r\n\t@Bean\r\n\tpublic ConnectionFactory connectionFactory( ) {\r\n\t\tConnectionFactory connectionFactory = new PostgresqlConnectionFactory(\r\n\t\t\t\tPostgresqlConnectionConfiguration.builder( )\r\n\t\t\t\t\t\t.host( env.getProperty( &quot;spring.r2dbc.properties.hostname&quot;, &quot;localhost&quot; ) )\r\n\t\t\t\t\t\t.database( env.getProperty( &quot;spring.r2dbc.name&quot;, &quot;postgres&quot; ) )\r\n\t\t\t\t\t\t.username( env.getProperty( &quot;spring.r2dbc.username&quot;, &quot;postgres&quot; ) )\r\n\t\t\t\t\t\t.password( env.getProperty( &quot;spring.r2dbc.password&quot;, &quot;password&quot; ) )\r\n\t\t\t\t\t\t.schema( env.getProperty( &quot;spring.r2dbc.properties.schema&quot;, &quot;public&quot; ) )\r\n\t\t\t\t\t\t.port( Integer.valueOf( env.getProperty( &quot;spring.r2dbc.properties.port&quot;, &quot;5432&quot; ) ) )\r\n\t\t\t\t\t\t//.options( options )\r\n\t\t\t\t\t\t.build( )\r\n\t\t);\r\n\t\tif ( env.getProperty( &quot;spring.r2dbc.pool.enabled&quot;, Boolean.class, false ) ) {\r\n\t\t\tConnectionPoolConfiguration connectionPoolConfiguration = ConnectionPoolConfiguration.builder( connectionFactory )\r\n\t\t\t\t\t.maxIdleTime( Duration.ofSeconds( env.getProperty( &quot;spring.r2dbc.pool.max-idle-time&quot;, Long.class, 1800L ) ) ) // 30 Minutes\r\n\t\t\t\t\t.initialSize( env.getProperty( &quot;spring.r2dbc.pool.initial-size&quot;, Integer.class, 10 ) )\r\n\t\t\t\t\t.maxSize( env.getProperty( &quot;spring.r2dbc.pool.max-size&quot;, Integer.class, 25 ) )\r\n\t\t\t\t\t.validationQuery( env.getProperty( &quot;spring.r2dbc.validation-query&quot;, String.class, &quot;SELECT 1&quot; ) )\r\n\t\t\t\t\t.build( );\r\n\t\t\treturn new ConnectionPool( connectionPoolConfiguration );\r\n\t\t} else {\r\n\t\t\treturn connectionFactory;\r\n\t\t}\r\n\t}\r\n\r\n\t@Bean\r\n\tReactiveTransactionManager transactionManager( ConnectionFactory connectionFactory ) {\r\n\t\treturn new R2dbcTransactionManager( connectionFactory );\r\n\t}\r\n\r\n}\r\n```\r\n\r\n**Note:**\r\nHere I have used two pacakges for JDBC and R2DBC Repositoties.\r\n\r\n**So far it is working fine. But I don&#39;t know how will this work for the complex scenarios and requirements.**","title":"Spring boot data r2dbc auto create tables","body":"<p>For testing purpose, I tried this scenario by creating two datasources that point to the same database. One is for JDBC and the other one is for R2DBC.</p>\n<p><strong>JDBC Datasource</strong></p>\n<pre><code>@Configuration\n@EnableJpaRepositories( basePackages = &quot;com.ns.reactivetest.repository.jdbc&quot;, entityManagerFactoryRef = &quot;jdbcEntityManager&quot;, transactionManagerRef = &quot;jdbcTransactionManager&quot; )\n@EnableTransactionManagement\npublic class JdbcConfiguration {\n\n    @Autowired\n    Environment env;\n\n    @Bean( name = &quot;jdbcDataSource&quot; )\n    @Primary\n    public DataSource jdbcDataSource( ) {\n        DriverManagerDataSource dataSource = new DriverManagerDataSource( );\n        dataSource.setUrl( env.getProperty( &quot;spring.datasource.url&quot; ) );\n        dataSource.setUsername( env.getProperty( &quot;spring.datasource.username&quot; ) );\n        dataSource.setPassword( env.getProperty( &quot;spring.datasource.password&quot; ) );\n\n        HikariDataSource hikariDataSource = new HikariDataSource( );\n        hikariDataSource.setDataSource( dataSource );\n        hikariDataSource.setMinimumIdle( Integer.valueOf( env.getProperty( &quot;spring.datasource.hikari.minimum-idle&quot; ) ) );\n        hikariDataSource.setMaximumPoolSize( Integer.valueOf( env.getProperty( &quot;spring.datasource.hikari.maximum-pool-size&quot; ) ) );\n        hikariDataSource.setSchema( env.getProperty( &quot;spring.datasource.hikari.schema&quot; ) );\n\n        return hikariDataSource;\n    }\n\n    @Bean( name = &quot;jdbcEntityManager&quot; )\n    @Primary\n    public LocalContainerEntityManagerFactoryBean jdbcEntityManager( @Qualifier( &quot;jdbcDataSource&quot; ) DataSource dataSource ) {\n        LocalContainerEntityManagerFactoryBean em = new LocalContainerEntityManagerFactoryBean( );\n        em.setDataSource( dataSource );\n        em.setPackagesToScan( new String[]{ &quot;com.ns.reactivetest.domain&quot; } );\n        em.setPersistenceUnitName( &quot;jdbc_persistence_Unit_Name&quot; );\n\n        JpaVendorAdapter jpaVendorAdapter = new HibernateJpaVendorAdapter( );\n        em.setJpaVendorAdapter( jpaVendorAdapter );\n\n        Properties properties = new Properties( );\n        properties.setProperty( &quot;hibernate.hbm2ddl.auto&quot;, env.getProperty( &quot;spring.jpa.hibernate.ddl-auto&quot; ) );\n        properties.setProperty( &quot;hibernate.dialect&quot;, env.getProperty( &quot;spring.jpa.properties.hibernate.dialect&quot; ) );\n        em.setJpaProperties( properties );\n\n        return em;\n    }\n\n    @Bean( name = &quot;jdbcTransactionManager&quot; )\n    @Primary\n    public PlatformTransactionManager jdbcTransactionManager( @Qualifier( &quot;jdbcDataSource&quot; ) DataSource dataSource ) {\n        JpaTransactionManager transactionManager = new JpaTransactionManager( );\n        transactionManager.setDataSource( dataSource );\n        transactionManager.setPersistenceUnitName( &quot;jdbc_persistence_Unit_Name&quot; );\n        return transactionManager;\n    }\n\n}\n</code></pre>\n<p><strong>R2DBC Datasource</strong></p>\n<pre><code>@Configuration\n@EnableR2dbcRepositories( basePackages = &quot;com.ns.reactivetest.repository.reactive&quot; )\n@EnableTransactionManagement\npublic class R2DbcConfiguration  {\n\n    @Autowired\n    private Environment env;\n\n\n    @Bean\n    public ConnectionFactory connectionFactory( ) {\n        ConnectionFactory connectionFactory = new PostgresqlConnectionFactory(\n                PostgresqlConnectionConfiguration.builder( )\n                        .host( env.getProperty( &quot;spring.r2dbc.properties.hostname&quot;, &quot;localhost&quot; ) )\n                        .database( env.getProperty( &quot;spring.r2dbc.name&quot;, &quot;postgres&quot; ) )\n                        .username( env.getProperty( &quot;spring.r2dbc.username&quot;, &quot;postgres&quot; ) )\n                        .password( env.getProperty( &quot;spring.r2dbc.password&quot;, &quot;password&quot; ) )\n                        .schema( env.getProperty( &quot;spring.r2dbc.properties.schema&quot;, &quot;public&quot; ) )\n                        .port( Integer.valueOf( env.getProperty( &quot;spring.r2dbc.properties.port&quot;, &quot;5432&quot; ) ) )\n                        //.options( options )\n                        .build( )\n        );\n        if ( env.getProperty( &quot;spring.r2dbc.pool.enabled&quot;, Boolean.class, false ) ) {\n            ConnectionPoolConfiguration connectionPoolConfiguration = ConnectionPoolConfiguration.builder( connectionFactory )\n                    .maxIdleTime( Duration.ofSeconds( env.getProperty( &quot;spring.r2dbc.pool.max-idle-time&quot;, Long.class, 1800L ) ) ) // 30 Minutes\n                    .initialSize( env.getProperty( &quot;spring.r2dbc.pool.initial-size&quot;, Integer.class, 10 ) )\n                    .maxSize( env.getProperty( &quot;spring.r2dbc.pool.max-size&quot;, Integer.class, 25 ) )\n                    .validationQuery( env.getProperty( &quot;spring.r2dbc.validation-query&quot;, String.class, &quot;SELECT 1&quot; ) )\n                    .build( );\n            return new ConnectionPool( connectionPoolConfiguration );\n        } else {\n            return connectionFactory;\n        }\n    }\n\n    @Bean\n    ReactiveTransactionManager transactionManager( ConnectionFactory connectionFactory ) {\n        return new R2dbcTransactionManager( connectionFactory );\n    }\n\n}\n</code></pre>\n<p><strong>Note:</strong>\nHere I have used two pacakges for JDBC and R2DBC Repositoties.</p>\n<p><strong>So far it is working fine. But I don't know how will this work for the complex scenarios and requirements.</strong></p>\n"}],"owner":{"account_id":6702549,"reputation":1560,"user_id":5168582,"accept_rate":86,"display_name":"Mateusz Sobczak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2890,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":3,"score":9,"last_activity_date":1675020738,"creation_date":1575193469,"question_id":59124333,"body_markdown":"I have a simple question, is it possible to auto-generate tables using spring boot data r2dbc for MySQL or other databases? in JPA I added spring.jpa.hibernate.ddl-auto=update and created tables\r\n\r\nThis is my pom:\r\n\r\n    \t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot.experimental&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-r2dbc&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;dev.miku&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;r2dbc-mysql&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot.experimental&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-test-autoconfigure-r2dbc&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.netty&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;netty-all&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.1.43.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;","title":"Spring boot data r2dbc auto create tables","body":"<p>I have a simple question, is it possible to auto-generate tables using spring boot data r2dbc for MySQL or other databases? in JPA I added spring.jpa.hibernate.ddl-auto=update and created tables</p>\n\n<p>This is my pom:</p>\n\n<pre><code>    &lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot.experimental&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-r2dbc&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;dev.miku&lt;/groupId&gt;\n        &lt;artifactId&gt;r2dbc-mysql&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n                &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot.experimental&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-test-autoconfigure-r2dbc&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\n        &lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.netty&lt;/groupId&gt;\n        &lt;artifactId&gt;netty-all&lt;/artifactId&gt;\n        &lt;version&gt;4.1.43.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n"},{"tags":["java","intellij-idea","client-server","rmi"],"owner":{"account_id":26460039,"reputation":1,"user_id":20102125,"display_name":"swarna bandara"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675020567,"creation_date":1675020567,"question_id":75277756,"body_markdown":"I&#39;m trying to practice RMI as a beginner. I&#39;m using java 1.8 and ubuntu as OS.But when i&#39;m running the code below mentioned error occured. \r\nThis is my server side code.\r\n\r\n\r\n```\r\npackage server;\r\n\r\nimport java.rmi.RemoteException;\r\nimport java.rmi.registry.LocateRegistry;\r\nimport java.rmi.registry.Registry;\r\n\r\npublic class StartMain {\r\n    public static void main(String[] args) {\r\n            try {\r\n                Registry rmiRegistry = LocateRegistry.createRegistry(5052);\r\n                rmiRegistry.rebind(&quot;RemoteServer&quot;,new RemoteClass());\r\n                System.out.println(&quot;Starting Server&quot;);\r\n            } catch (RemoteException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n    }\r\n}\r\n```\r\nAnd, this is my client side code\r\n\r\n\r\n```\r\npackage client;\r\n\r\nimport rmi.RemoteInterface;\r\n\r\nimport java.net.MalformedURLException;\r\nimport java.rmi.Naming;\r\nimport java.rmi.NotBoundException;\r\nimport java.rmi.RemoteException;\r\n\r\npublic class RemoteClient {\r\n    public static void main(String[] args) {\r\n        try {\r\n            RemoteInterface remoteInterface = (RemoteInterface) Naming.lookup(&quot;rmi://localhost:5052/RemoteServer&quot;);\r\n            remoteInterface.remoteMethod();\r\n        } catch (NotBoundException e) {\r\n            throw new RuntimeException(e);\r\n        } catch (MalformedURLException e) {\r\n            throw new RuntimeException(e);\r\n        } catch (RemoteException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nAfter running RemoteClient class i&#39;m getting following error.\r\n\r\n\r\n```\r\n\r\nException in thread &quot;main&quot; java.lang.RuntimeException: java.rmi.ConnectException: Connection refused to host: localhost; nested exception is: \r\n\tjava.net.ConnectException: Connection refused (Connection refused)\r\n\tat client.RemoteClient.main(RemoteClient.java:20)\r\nCaused by: java.rmi.ConnectException: Connection refused to host: localhost; nested exception is: \r\n\tjava.net.ConnectException: Connection refused (Connection refused)\r\n\tat sun.rmi.transport.tcp.TCPEndpoint.newSocket(TCPEndpoint.java:619)\r\n\tat sun.rmi.transport.tcp.TCPChannel.createConnection(TCPChannel.java:216)\r\n\tat sun.rmi.transport.tcp.TCPChannel.newConnection(TCPChannel.java:202)\r\n\tat sun.rmi.server.UnicastRef.newCall(UnicastRef.java:338)\r\n\tat sun.rmi.registry.RegistryImpl_Stub.lookup(RegistryImpl_Stub.java:112)\r\n\tat java.rmi.Naming.lookup(Naming.java:101)\r\n\tat client.RemoteClient.main(RemoteClient.java:13)\r\nCaused by: java.net.ConnectException: Connection refused (Connection refused)\r\n\tat java.net.PlainSocketImpl.socketConnect(Native Method)\r\n\tat java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)\r\n\tat java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)\r\n\tat java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)\r\n\tat java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)\r\n\tat java.net.Socket.connect(Socket.java:589)\r\n\tat java.net.Socket.connect(Socket.java:538)\r\n\tat java.net.Socket.&lt;init&gt;(Socket.java:434)\r\n\tat java.net.Socket.&lt;init&gt;(Socket.java:211)\r\n\tat sun.rmi.transport.proxy.RMIDirectSocketFactory.createSocket(RMIDirectSocketFactory.java:40)\r\n\tat sun.rmi.transport.proxy.RMIMasterSocketFactory.createSocket(RMIMasterSocketFactory.java:148)\r\n\tat sun.rmi.transport.tcp.TCPEndpoint.newSocket(TCPEndpoint.java:613)\r\n\t... 6 more\r\n\r\nProcess finished with exit code 1\r\n\r\n```\r\nIs anyone know how to fix this?\r\n\r\n\r\n\r\n\r\ni checked the server object&#39;s name and port number. But i could solve the error","title":"RMI Connection refused to host","body":"<p>I'm trying to practice RMI as a beginner. I'm using java 1.8 and ubuntu as OS.But when i'm running the code below mentioned error occured.\nThis is my server side code.</p>\n<pre><code>package server;\n\nimport java.rmi.RemoteException;\nimport java.rmi.registry.LocateRegistry;\nimport java.rmi.registry.Registry;\n\npublic class StartMain {\n    public static void main(String[] args) {\n            try {\n                Registry rmiRegistry = LocateRegistry.createRegistry(5052);\n                rmiRegistry.rebind(&quot;RemoteServer&quot;,new RemoteClass());\n                System.out.println(&quot;Starting Server&quot;);\n            } catch (RemoteException e) {\n                throw new RuntimeException(e);\n            }\n    }\n}\n</code></pre>\n<p>And, this is my client side code</p>\n<pre><code>package client;\n\nimport rmi.RemoteInterface;\n\nimport java.net.MalformedURLException;\nimport java.rmi.Naming;\nimport java.rmi.NotBoundException;\nimport java.rmi.RemoteException;\n\npublic class RemoteClient {\n    public static void main(String[] args) {\n        try {\n            RemoteInterface remoteInterface = (RemoteInterface) Naming.lookup(&quot;rmi://localhost:5052/RemoteServer&quot;);\n            remoteInterface.remoteMethod();\n        } catch (NotBoundException e) {\n            throw new RuntimeException(e);\n        } catch (MalformedURLException e) {\n            throw new RuntimeException(e);\n        } catch (RemoteException e) {\n            throw new RuntimeException(e);\n        }\n    }\n}\n\n</code></pre>\n<p>After running RemoteClient class i'm getting following error.</p>\n<pre><code>\nException in thread &quot;main&quot; java.lang.RuntimeException: java.rmi.ConnectException: Connection refused to host: localhost; nested exception is: \n    java.net.ConnectException: Connection refused (Connection refused)\n    at client.RemoteClient.main(RemoteClient.java:20)\nCaused by: java.rmi.ConnectException: Connection refused to host: localhost; nested exception is: \n    java.net.ConnectException: Connection refused (Connection refused)\n    at sun.rmi.transport.tcp.TCPEndpoint.newSocket(TCPEndpoint.java:619)\n    at sun.rmi.transport.tcp.TCPChannel.createConnection(TCPChannel.java:216)\n    at sun.rmi.transport.tcp.TCPChannel.newConnection(TCPChannel.java:202)\n    at sun.rmi.server.UnicastRef.newCall(UnicastRef.java:338)\n    at sun.rmi.registry.RegistryImpl_Stub.lookup(RegistryImpl_Stub.java:112)\n    at java.rmi.Naming.lookup(Naming.java:101)\n    at client.RemoteClient.main(RemoteClient.java:13)\nCaused by: java.net.ConnectException: Connection refused (Connection refused)\n    at java.net.PlainSocketImpl.socketConnect(Native Method)\n    at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)\n    at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)\n    at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)\n    at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)\n    at java.net.Socket.connect(Socket.java:589)\n    at java.net.Socket.connect(Socket.java:538)\n    at java.net.Socket.&lt;init&gt;(Socket.java:434)\n    at java.net.Socket.&lt;init&gt;(Socket.java:211)\n    at sun.rmi.transport.proxy.RMIDirectSocketFactory.createSocket(RMIDirectSocketFactory.java:40)\n    at sun.rmi.transport.proxy.RMIMasterSocketFactory.createSocket(RMIMasterSocketFactory.java:148)\n    at sun.rmi.transport.tcp.TCPEndpoint.newSocket(TCPEndpoint.java:613)\n    ... 6 more\n\nProcess finished with exit code 1\n\n</code></pre>\n<p>Is anyone know how to fix this?</p>\n<p>i checked the server object's name and port number. But i could solve the error</p>\n"},{"tags":["java","timezone"],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1346678701,"creation_date":1346678701,"answer_id":12248789,"question_id":12248766,"body_markdown":"I suspect this is the problem:\r\n\r\n    now + ( 182 * 86400000)\r\n\r\nThe parenthesized arithmetic expression overflows 32 bits. You probably want:\r\n\r\n    now + ( 182 * 86400000L)\r\n\r\nHowever, that still assumes that any daylight saving time will be applied for roughly six months, which is certainly not the case in the real world. For example, looking at the [Sao Paolo time zone][1], it switches in October and February - so if you ran your code in September, you&#39;d end up seeing -3 / -3. Even for time zones where DST switches on/off roughly every six months, you&#39;re very likely to find 182 consecutive days each year without a switchover (almost by definition, given that that&#39;s slightly less than half a year).\r\n\r\nIt&#39;s not clear *exactly* what you&#39;re trying to do, but I suspect you should really just be saving the time zone ID, e.g. &quot;America/New_York&quot;. Almost anything else is asking for trouble.\r\n\r\n\r\n  [1]: http://www.timeanddate.com/worldclock/timezone.html?n=233","title":"Java TimeZone head scratching","body":"<p>I suspect this is the problem:</p>\n\n<pre><code>now + ( 182 * 86400000)\n</code></pre>\n\n<p>The parenthesized arithmetic expression overflows 32 bits. You probably want:</p>\n\n<pre><code>now + ( 182 * 86400000L)\n</code></pre>\n\n<p>However, that still assumes that any daylight saving time will be applied for roughly six months, which is certainly not the case in the real world. For example, looking at the <a href=\"http://www.timeanddate.com/worldclock/timezone.html?n=233\" rel=\"nofollow\">Sao Paolo time zone</a>, it switches in October and February - so if you ran your code in September, you'd end up seeing -3 / -3. Even for time zones where DST switches on/off roughly every six months, you're very likely to find 182 consecutive days each year without a switchover (almost by definition, given that that's slightly less than half a year).</p>\n\n<p>It's not clear <em>exactly</em> what you're trying to do, but I suspect you should really just be saving the time zone ID, e.g. \"America/New_York\". Almost anything else is asking for trouble.</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1346678841,"creation_date":1346678841,"answer_id":12248824,"question_id":12248766,"body_markdown":"One problem you have is that 182 * 86400000 overflows. If you use\r\n\r\n    long now = System.currentTimeMillis();\r\n    for( String tzID: &quot;EST,EDT,America/New_York&quot;.split(&quot;,&quot;)) {\r\n        TimeZone tz = TimeZone.getTimeZone( tzID);\r\n        System.out.println( tz.getDisplayName() + &quot; now=&quot; + tz.getOffset( now) / 36e5 \r\n                         + &quot; / +182=&quot; + tz.getOffset( now + 182 * 86400000L) / 36e5);\r\n    }\r\n\r\n\r\nprints\r\n\r\n    Eastern Standard Time now=-5.0 / +182=-5.0\r\n    Greenwich Mean Time now=0.0 / +182=0.0\r\n    Eastern Standard Time now=-4.0 / +182=-5.0\r\n\r\nIf you look at the javadoc and source for getTimeZone you can see\r\n\r\n     * @return the specified &lt;code&gt;TimeZone&lt;/code&gt;, or the GMT zone if the given ID\r\n     * cannot be understood.\r\n\r\n    public static synchronized TimeZone getTimeZone(String ID) {\r\n\treturn getTimeZone(ID, true);\r\n    }\r\n\r\n    private static TimeZone getTimeZone(String ID, boolean fallback) {\r\n\tTimeZone tz = ZoneInfo.getTimeZone(ID);\r\n\tif (tz == null) {\r\n\t    tz = parseCustomTimeZone(ID);\r\n\t    if (tz == null &amp;&amp; fallback) {\r\n\t\ttz = new ZoneInfo(GMT_ID, 0);\r\n\t    }\r\n\t}\r\n\treturn tz;\r\n    }\r\n\r\nIn short, EDT is not recognised so it becomes GMT.\r\n","title":"Java TimeZone head scratching","body":"<p>One problem you have is that 182 * 86400000 overflows. If you use</p>\n\n<pre><code>long now = System.currentTimeMillis();\nfor( String tzID: \"EST,EDT,America/New_York\".split(\",\")) {\n    TimeZone tz = TimeZone.getTimeZone( tzID);\n    System.out.println( tz.getDisplayName() + \" now=\" + tz.getOffset( now) / 36e5 \n                     + \" / +182=\" + tz.getOffset( now + 182 * 86400000L) / 36e5);\n}\n</code></pre>\n\n<p>prints</p>\n\n<pre><code>Eastern Standard Time now=-5.0 / +182=-5.0\nGreenwich Mean Time now=0.0 / +182=0.0\nEastern Standard Time now=-4.0 / +182=-5.0\n</code></pre>\n\n<p>If you look at the javadoc and source for getTimeZone you can see</p>\n\n<pre><code> * @return the specified &lt;code&gt;TimeZone&lt;/code&gt;, or the GMT zone if the given ID\n * cannot be understood.\n\npublic static synchronized TimeZone getTimeZone(String ID) {\nreturn getTimeZone(ID, true);\n}\n\nprivate static TimeZone getTimeZone(String ID, boolean fallback) {\nTimeZone tz = ZoneInfo.getTimeZone(ID);\nif (tz == null) {\n    tz = parseCustomTimeZone(ID);\n    if (tz == null &amp;&amp; fallback) {\n    tz = new ZoneInfo(GMT_ID, 0);\n    }\n}\nreturn tz;\n}\n</code></pre>\n\n<p>In short, EDT is not recognised so it becomes GMT.</p>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1675020262,"creation_date":1675020262,"answer_id":75277723,"question_id":12248766,"body_markdown":"java.time\r\n--\r\n\r\nThe question and the [accepted answer](https://stackoverflow.com/a/12248824/10819573) use the `java.util` date-time API which was the right thing to do in 2012. In March 2014, the [modern Date-Time API](https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html) was released as part of the **Java 8 standard library** which supplanted the legacy date-time API and since then it is strongly recommended to switch to `java.time`, the modern date-time API.\r\n\r\nSolution using `java.time`\r\n--\r\n\r\nYou can use [`ZonedDateTime`](https://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html) which automatically adjusts the time zone offset for a given `ZoneId`.\r\n\r\n**Demo:**\r\n\r\n    import java.time.ZoneId;\r\n    import java.time.ZonedDateTime;\r\n    \r\n    class Main {\r\n        public static void main(String[] args) {\r\n            ZoneId zone = ZoneId.of(&quot;America/New_York&quot;);\r\n            ZonedDateTime now = ZonedDateTime.now(zone);\r\n            ZonedDateTime after182Days = now.plusDays(182);\r\n            System.out.println(zone + &quot; now=&quot; + now.getOffset() + &quot; / +182=&quot; + after182Days.getOffset());\r\n        }\r\n    }\r\n\r\n**Output as of now**:\r\n\r\n    America/New_York now=-05:00 / +182=-04:00\r\n\r\n[&lt;kbd&gt;ONLINE DEMO&lt;/kbd&gt;](https://ideone.com/pRHT1b)\r\n\r\nLearn more about the modern Date-Time API from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.\r\n\r\n**Do not use three-letter timezone ID**: Note from the Java 7 `Timezone` [documentation](https://docs.oracle.com/javase/7/docs/api/java/util/TimeZone.html):\r\n\r\n&gt; ### Three-letter time zone IDs\r\n&gt;For compatibility with JDK 1.1.x, some other three-letter time zone IDs (such as &quot;PST&quot;, &quot;CTT&quot;, &quot;AST&quot;) are\r\n&gt; also supported. However, **their use is deprecated** because the same\r\n&gt; abbreviation is often used for multiple time zones (for example, &quot;CST&quot;\r\n&gt; could be U.S. &quot;Central Standard Time&quot; and &quot;China Standard Time&quot;), and\r\n&gt; the Java platform can then only recognize one of them.","title":"Java TimeZone head scratching","body":"<h2>java.time</h2>\n<p>The question and the <a href=\"https://stackoverflow.com/a/12248824/10819573\">accepted answer</a> use the <code>java.util</code> date-time API which was the right thing to do in 2012. In March 2014, the <a href=\"https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html\" rel=\"noreferrer\">modern Date-Time API</a> was released as part of the <strong>Java 8 standard library</strong> which supplanted the legacy date-time API and since then it is strongly recommended to switch to <code>java.time</code>, the modern date-time API.</p>\n<h2>Solution using <code>java.time</code></h2>\n<p>You can use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html\" rel=\"noreferrer\"><code>ZonedDateTime</code></a> which automatically adjusts the time zone offset for a given <code>ZoneId</code>.</p>\n<p><strong>Demo:</strong></p>\n<pre><code>import java.time.ZoneId;\nimport java.time.ZonedDateTime;\n\nclass Main {\n    public static void main(String[] args) {\n        ZoneId zone = ZoneId.of(&quot;America/New_York&quot;);\n        ZonedDateTime now = ZonedDateTime.now(zone);\n        ZonedDateTime after182Days = now.plusDays(182);\n        System.out.println(zone + &quot; now=&quot; + now.getOffset() + &quot; / +182=&quot; + after182Days.getOffset());\n    }\n}\n</code></pre>\n<p><strong>Output as of now</strong>:</p>\n<pre><code>America/New_York now=-05:00 / +182=-04:00\n</code></pre>\n<p><a href=\"https://ideone.com/pRHT1b\" rel=\"noreferrer\"><kbd>ONLINE DEMO</kbd></a></p>\n<p>Learn more about the modern Date-Time API from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"noreferrer\">Trail: Date Time</a></strong>.</p>\n<p><strong>Do not use three-letter timezone ID</strong>: Note from the Java 7 <code>Timezone</code> <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/TimeZone.html\" rel=\"noreferrer\">documentation</a>:</p>\n<blockquote>\n<h3>Three-letter time zone IDs</h3>\n<p>For compatibility with JDK 1.1.x, some other three-letter time zone IDs (such as &quot;PST&quot;, &quot;CTT&quot;, &quot;AST&quot;) are\nalso supported. However, <strong>their use is deprecated</strong> because the same\nabbreviation is often used for multiple time zones (for example, &quot;CST&quot;\ncould be U.S. &quot;Central Standard Time&quot; and &quot;China Standard Time&quot;), and\nthe Java platform can then only recognize one of them.</p>\n</blockquote>\n"}],"owner":{"account_id":111587,"reputation":11539,"user_id":294702,"accept_rate":90,"display_name":"MonoThreaded"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":454,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":12248824,"answer_count":3,"score":1,"last_activity_date":1675020262,"creation_date":1346678591,"question_id":12248766,"body_markdown":"I would like to save some user timezone in a Daylight saving proof format.&lt;br&gt;\r\nMy goal is to get the correct GMT offset whenever the code gets executed.&lt;br&gt;\r\nIn order to figure out my best option, I wrote the following:\r\n\r\n\tArrayList&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\n\tlist.add( &quot;EST&quot;);\r\n\tlist.add( &quot;EDT&quot;);\r\n\tlist.add( &quot;America/New_York&quot;);\r\n\tlong now = System.currentTimeMillis();\r\n\tfor( String tzID: list) {\r\n\t\tTimeZone tz = TimeZone.getTimeZone( tzID);\r\n\t\tSystem.out.println( tzID + &quot; now=&quot; + tz.getOffset( now) / 3600000 + &quot; / +182=&quot; + tz.getOffset( now + ( 182 * 86400000)) / 3600000);\r\n\t}\r\nFor short, give me the offset now and in 182 days&lt;br&gt;\r\nExecuted September 3rd, the output is\r\n\r\n    EST now=-5 / +182=-5\r\n    EDT now=0 / +182=0\r\n    America/New_York now=-4 / +182=-4\r\nThis is unexpected for several reasons&lt;br&gt;\r\n1) Why is America/New_York not giving -4/-5 ?, Isn&#39;t it supposed to be date sensitive?&lt;br&gt;\r\n2) Why does EDT == UTC?","title":"Java TimeZone head scratching","body":"<p>I would like to save some user timezone in a Daylight saving proof format.<br>\nMy goal is to get the correct GMT offset whenever the code gets executed.<br>\nIn order to figure out my best option, I wrote the following:</p>\n\n<pre><code>ArrayList&lt;String&gt; list = new ArrayList&lt;String&gt;();\nlist.add( \"EST\");\nlist.add( \"EDT\");\nlist.add( \"America/New_York\");\nlong now = System.currentTimeMillis();\nfor( String tzID: list) {\n    TimeZone tz = TimeZone.getTimeZone( tzID);\n    System.out.println( tzID + \" now=\" + tz.getOffset( now) / 3600000 + \" / +182=\" + tz.getOffset( now + ( 182 * 86400000)) / 3600000);\n}\n</code></pre>\n\n<p>For short, give me the offset now and in 182 days<br>\nExecuted September 3rd, the output is</p>\n\n<pre><code>EST now=-5 / +182=-5\nEDT now=0 / +182=0\nAmerica/New_York now=-4 / +182=-4\n</code></pre>\n\n<p>This is unexpected for several reasons<br>\n1) Why is America/New_York not giving -4/-5 ?, Isn't it supposed to be date sensitive?<br>\n2) Why does EDT == UTC?</p>\n"},{"tags":["java","kotlin","groovy","overloading"],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675019803,"creation_date":1675019803,"answer_id":75277675,"question_id":75277476,"body_markdown":"The main problem is that in Kotlin, _everything_ returns -- they may just return `Unit`.  There is no `void`.\r\n\r\nOn the other hand, this may mean there is no need to distinguish between these types, you can just have the &quot;with return&quot; version.","title":"Kotlin overload on lambdas that return a value VS ones that don&#39;t. Java, Groovy works, but Kotlin doesn&#39;t","body":"<p>The main problem is that in Kotlin, <em>everything</em> returns -- they may just return <code>Unit</code>.  There is no <code>void</code>.</p>\n<p>On the other hand, this may mean there is no need to distinguish between these types, you can just have the &quot;with return&quot; version.</p>\n"}],"owner":{"account_id":22244,"reputation":58413,"user_id":54684,"accept_rate":57,"display_name":"Mykola Golubyev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75277675,"answer_count":1,"score":2,"last_activity_date":1675019803,"creation_date":1675017844,"question_id":75277476,"body_markdown":"very new to Kotlin and trying to make some of my API work in Kotlin without changing API much.\r\n\r\nI have a method, let&#39;s call it `client` that receives a `validation` function. There are two variants of `Validation`. One that only suppose to do a validation, and the other can also return a value. To streamline user experience, in Java, I exposed two variants of the method. And it works as expected as I believe Java distincts between `void` and `Object` (&amp;lt;R&amp;gt;).\r\n\r\nWhen I use my code in Kotlin, it can&#39;t distinct between two and I need to provide an explicit cast. \r\n\r\nTo remove Java from equation, I tried to replicate the situation in Kotlin using functional interfaces:\r\n\r\n```kotlin\r\nfun interface KotlinValidator {\r\n    fun validate()\r\n}\r\n\r\nfun interface KotlinValidatorWithReturn {\r\n    fun validateAndReturn(): Any\r\n}\r\n\r\nfun client(validator: KotlinValidator) {\r\n    println(&quot;validator NO return&quot;)\r\n    validator.validate()\r\n}\r\n\r\nfun client(validatorAndReturn: KotlinValidatorWithReturn): Any {\r\n    println(&quot;validator WITH return&quot;)\r\n    return validatorAndReturn.validateAndReturn()\r\n}\r\n\r\nfun test() {\r\n    val fromValidator = client {\r\n        100\r\n    }\r\n\r\n    val fromValidatorForced = client(KotlinValidatorWithReturn {\r\n        100\r\n    })\r\n\r\n    client {\r\n    }\r\n}\r\n```\r\nit prints\r\n```\r\nvalidator NO return\r\nvalidator WITH return\r\nvalidator NO return\r\n```\r\n\r\nBased on my googling, it seems to be not possible to make it work without an explicit cast. However I hope that I am wrong as Groovy and Java let me do it.\r\n\r\nTo provide more context, I am trying to make [WebTau](https://github.com/testingisdocumenting/webtau) HTTP module work nicely with Kotlin.\r\n\r\nIn Java and Groovy version I can do:\r\n\r\n```java\r\nint id = http.post(&quot;/customers&quot;, customerPayload, ((header, body) -&gt; {\r\n    return body.get(&quot;id&quot;); \r\n}));\r\n\r\nhttp.put(&quot;/customers/&quot; + id, changedCustomerPayload, ((header, body) -&gt; {\r\n    body.get(&quot;firstName&quot;).should(equal(&quot;FN&quot;));\r\n    body.get(&quot;lastName&quot;).should(equal(changedLastName));\r\n}));\r\n```\r\n\r\nIn Groovy:\r\n```groovy\r\ndef id = http.post(&quot;/customers&quot;, customerPayload) {\r\n    body.id \r\n}\r\n```\r\n\r\nBut in Kotlin:\r\n```kotlin\r\nval id: Int = http.post(&quot;/customers&quot;, customerPayload, HttpResponseValidatorWithReturn { _, body -&gt;\r\n    body.get(&quot;id&quot;)\r\n})\r\n```\r\n\r\nThe reason I brought this example is at the moment I am reluctant to change API and rename functions to distinct between the ones that return a value and the ones that don&#39;t.","title":"Kotlin overload on lambdas that return a value VS ones that don&#39;t. Java, Groovy works, but Kotlin doesn&#39;t","body":"<p>very new to Kotlin and trying to make some of my API work in Kotlin without changing API much.</p>\n<p>I have a method, let's call it <code>client</code> that receives a <code>validation</code> function. There are two variants of <code>Validation</code>. One that only suppose to do a validation, and the other can also return a value. To streamline user experience, in Java, I exposed two variants of the method. And it works as expected as I believe Java distincts between <code>void</code> and <code>Object</code> (&lt;R&gt;).</p>\n<p>When I use my code in Kotlin, it can't distinct between two and I need to provide an explicit cast.</p>\n<p>To remove Java from equation, I tried to replicate the situation in Kotlin using functional interfaces:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun interface KotlinValidator {\n    fun validate()\n}\n\nfun interface KotlinValidatorWithReturn {\n    fun validateAndReturn(): Any\n}\n\nfun client(validator: KotlinValidator) {\n    println(&quot;validator NO return&quot;)\n    validator.validate()\n}\n\nfun client(validatorAndReturn: KotlinValidatorWithReturn): Any {\n    println(&quot;validator WITH return&quot;)\n    return validatorAndReturn.validateAndReturn()\n}\n\nfun test() {\n    val fromValidator = client {\n        100\n    }\n\n    val fromValidatorForced = client(KotlinValidatorWithReturn {\n        100\n    })\n\n    client {\n    }\n}\n</code></pre>\n<p>it prints</p>\n<pre><code>validator NO return\nvalidator WITH return\nvalidator NO return\n</code></pre>\n<p>Based on my googling, it seems to be not possible to make it work without an explicit cast. However I hope that I am wrong as Groovy and Java let me do it.</p>\n<p>To provide more context, I am trying to make <a href=\"https://github.com/testingisdocumenting/webtau\" rel=\"nofollow noreferrer\">WebTau</a> HTTP module work nicely with Kotlin.</p>\n<p>In Java and Groovy version I can do:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int id = http.post(&quot;/customers&quot;, customerPayload, ((header, body) -&gt; {\n    return body.get(&quot;id&quot;); \n}));\n\nhttp.put(&quot;/customers/&quot; + id, changedCustomerPayload, ((header, body) -&gt; {\n    body.get(&quot;firstName&quot;).should(equal(&quot;FN&quot;));\n    body.get(&quot;lastName&quot;).should(equal(changedLastName));\n}));\n</code></pre>\n<p>In Groovy:</p>\n<pre><code>def id = http.post(&quot;/customers&quot;, customerPayload) {\n    body.id \n}\n</code></pre>\n<p>But in Kotlin:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val id: Int = http.post(&quot;/customers&quot;, customerPayload, HttpResponseValidatorWithReturn { _, body -&gt;\n    body.get(&quot;id&quot;)\n})\n</code></pre>\n<p>The reason I brought this example is at the moment I am reluctant to change API and rename functions to distinct between the ones that return a value and the ones that don't.</p>\n"},{"tags":["java","spring","spring-boot","servlets","handlerinterceptor"],"answers":[{"tags":[],"owner":{"account_id":3394779,"reputation":3579,"user_id":2848698,"accept_rate":69,"display_name":"Sumama Waheed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674533704,"creation_date":1674504657,"answer_id":75214570,"question_id":75188708,"body_markdown":"Found the solution. We can extract the controller annotation like this.\r\n\r\n```\r\nClass controller = method.getBeanType();\r\n\r\nif (controller.isAnnotationPresent(RequestMapping.class)) {\r\n\tRequestMapping controllerMapping = (RequestMapping) controller.getAnnotation(RequestMapping.class);\r\n\tif (controllerMapping.value() != null &amp;&amp; controllerMapping.value().length &gt; 0) {\r\n\t\tcontrollerPath = controllerMapping.value()[0];\r\n\t}\r\n}\r\n```\r\n\r\nAnd then prefix that to the method annotation.\r\n\r\nUpdate: The only problem with this approach is that it&#39;s not able to extract the resolved annotation value like this one:\r\n\r\n```\r\n\r\n@RequestMapping(value = &quot;${app.version.v4}&quot;)\r\n```\r\n","title":"Spring extract @RequestMapping annotation in HandlerInterceptor of Controller and Method to form full path","body":"<p>Found the solution. We can extract the controller annotation like this.</p>\n<pre><code>Class controller = method.getBeanType();\n\nif (controller.isAnnotationPresent(RequestMapping.class)) {\n    RequestMapping controllerMapping = (RequestMapping) controller.getAnnotation(RequestMapping.class);\n    if (controllerMapping.value() != null &amp;&amp; controllerMapping.value().length &gt; 0) {\n        controllerPath = controllerMapping.value()[0];\n    }\n}\n</code></pre>\n<p>And then prefix that to the method annotation.</p>\n<p>Update: The only problem with this approach is that it's not able to extract the resolved annotation value like this one:</p>\n<pre><code>\n@RequestMapping(value = &quot;${app.version.v4}&quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13694632,"reputation":411,"user_id":9881640,"display_name":"Vipul Gupta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675019054,"creation_date":1675019054,"answer_id":75277608,"question_id":75188708,"body_markdown":"&gt; Something like this will work as per your code.\r\n\r\n    public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception {\r\n        if (handler instanceof HandlerMethod) {\r\n            HandlerMethod handlerMethod = (HandlerMethod) handler;\r\n            RequestMapping methodAnnotation = handlerMethod.getMethodAnnotation(RequestMapping.class);\r\n            RequestMapping classAnnotation = handlerMethod.getBeanType().getAnnotation(RequestMapping.class);\r\n            if (methodAnnotation != null &amp;&amp; classAnnotation != null) {\r\n                String[] classValues = classAnnotation.value();\r\n                String[] methodValues = methodAnnotation.value();\r\n                String fullPath = classValues[0] + methodValues[0];\r\n                // do something here`enter code here`\r\n            }\r\n        }\r\n        return true;\r\n    }","title":"Spring extract @RequestMapping annotation in HandlerInterceptor of Controller and Method to form full path","body":"<blockquote>\n<p>Something like this will work as per your code.</p>\n</blockquote>\n<pre><code>public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception {\n    if (handler instanceof HandlerMethod) {\n        HandlerMethod handlerMethod = (HandlerMethod) handler;\n        RequestMapping methodAnnotation = handlerMethod.getMethodAnnotation(RequestMapping.class);\n        RequestMapping classAnnotation = handlerMethod.getBeanType().getAnnotation(RequestMapping.class);\n        if (methodAnnotation != null &amp;&amp; classAnnotation != null) {\n            String[] classValues = classAnnotation.value();\n            String[] methodValues = methodAnnotation.value();\n            String fullPath = classValues[0] + methodValues[0];\n            // do something here`enter code here`\n        }\n    }\n    return true;\n}\n</code></pre>\n"}],"owner":{"account_id":3394779,"reputation":3579,"user_id":2848698,"accept_rate":69,"display_name":"Sumama Waheed"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":337,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75214570,"answer_count":2,"score":1,"last_activity_date":1675019054,"creation_date":1674243708,"question_id":75188708,"body_markdown":"I have the following Controller\r\n\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/v4/base&quot;)\r\npublic class ExampleController {\r\n   \r\n    @PostMapping(value = &quot;/users/{userId}&quot;)\r\n    public ResponseEntity&lt;List&lt;ExampleRequest&gt;&gt; test(@RequestHeader HttpHeaders headers,\r\n            @PathVariable String orgId, @RequestBody List&lt;ExampleRequest&gt; request) {\r\n        ...\r\n    }\r\n}\r\n```\r\n\r\nI would like to extract this url from an interceptor\r\n\r\n```\r\n/v4/base/users/{userId}\r\n```\r\n\r\n\r\nWith this approach, \r\n\r\n```\r\npublic class MyInterceptor  implements HandlerInterceptor {\r\n    @Override\r\n\tpublic boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler)\r\n\t\t\tthrows IOException, ServletException {\r\n\r\n            RequestMapping requestMapping = method.getMethodAnnotation(RequestMapping.class);\r\n\t\t\t\r\n\t\t\tif (requestMapping != null) {\r\n\t\t\t\tString[] path = requestMapping.path();\t\r\n\t\t\t}\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\nIt gives me this in the path string[] variable above:\r\n\r\n```\r\n/users/{userId}\r\n```\r\n\r\nHow can I get the full spring request mapping path? \r\n\r\nI do not want the servlet path that looks like this: /v4/base/users/23232","title":"Spring extract @RequestMapping annotation in HandlerInterceptor of Controller and Method to form full path","body":"<p>I have the following Controller</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/v4/base&quot;)\npublic class ExampleController {\n   \n    @PostMapping(value = &quot;/users/{userId}&quot;)\n    public ResponseEntity&lt;List&lt;ExampleRequest&gt;&gt; test(@RequestHeader HttpHeaders headers,\n            @PathVariable String orgId, @RequestBody List&lt;ExampleRequest&gt; request) {\n        ...\n    }\n}\n</code></pre>\n<p>I would like to extract this url from an interceptor</p>\n<pre><code>/v4/base/users/{userId}\n</code></pre>\n<p>With this approach,</p>\n<pre><code>public class MyInterceptor  implements HandlerInterceptor {\n    @Override\n    public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler)\n            throws IOException, ServletException {\n\n            RequestMapping requestMapping = method.getMethodAnnotation(RequestMapping.class);\n            \n            if (requestMapping != null) {\n                String[] path = requestMapping.path();  \n            }\n\n    }\n\n}\n</code></pre>\n<p>It gives me this in the path string[] variable above:</p>\n<pre><code>/users/{userId}\n</code></pre>\n<p>How can I get the full spring request mapping path?</p>\n<p>I do not want the servlet path that looks like this: /v4/base/users/23232</p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":1,"creation_date":1359359168,"post_id":14556037,"comment_id":20309980,"body_markdown":"Related: http://stackoverflow.com/questions/13834692/threads-configuration-based-on-no-of-cpu-cores","body":"Related: <a href=\"http://stackoverflow.com/questions/13834692/threads-configuration-based-on-no-of-cpu-cores\" title=\"threads configuration based on no of cpu cores\">stackoverflow.com/questions/13834692/&hellip;</a>"},{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1359360990,"post_id":14556037,"comment_id":20310559,"body_markdown":"If you have CPU bound process, there is typically a very small &lt;5% drop in performance if you use double the number of CPUS instead of exactly the number of CPUs.  If you have an IO bound process with a high latency, more threads might be better. If you are bottlenecking on a local resource e.g. a hard drive, then you might find that 2 threads is not much better than one.","body":"If you have CPU bound process, there is typically a very small &lt;5% drop in performance if you use double the number of CPUS instead of exactly the number of CPUs.  If you have an IO bound process with a high latency, more threads might be better. If you are bottlenecking on a local resource e.g. a hard drive, then you might find that 2 threads is not much better than one."}],"answers":[{"tags":[],"owner":{"account_id":372293,"reputation":180467,"user_id":721269,"accept_rate":100,"display_name":"David Schwartz"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1359351668,"creation_date":1359351668,"answer_id":14556073,"question_id":14556037,"body_markdown":"That&#39;s not true, unless the number of threads is vastly more than the number of cores. The reasoning is that additional threads will mean additional context switches. But it&#39;s not true because an operating system will only make unforced context switches if those context switches are beneficial, and additional threads don&#39;t force additional context switches.\r\n\r\nIf you create an absurd number of threads, that wastes resources. But none of this is anything compared to how bad creating too few threads is. If you create too few threads, an unexpected block (such as a page fault) can result in CPUs sitting idle, and that swamps any possible harm from a few extra context switches.\r\n","title":"Number of processor core vs the size of a thread pool","body":"<p>That's not true, unless the number of threads is vastly more than the number of cores. The reasoning is that additional threads will mean additional context switches. But it's not true because an operating system will only make unforced context switches if those context switches are beneficial, and additional threads don't force additional context switches.</p>\n\n<p>If you create an absurd number of threads, that wastes resources. But none of this is anything compared to how bad creating too few threads is. If you create too few threads, an unexpected block (such as a page fault) can result in CPUs sitting idle, and that swamps any possible harm from a few extra context switches.</p>\n"},{"tags":[],"owner":{"account_id":60200,"reputation":479675,"user_id":179910,"display_name":"Jerry Coffin"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1359351683,"creation_date":1359351683,"answer_id":14556075,"question_id":14556037,"body_markdown":"Having fewer threads than cores generally means you *can&#39;t* take advantage of all available cores.\r\n\r\nThe usual question is how many more threads than cores you want. That, however, varies, depending on the amount of time (overall) that your threads spend doing things like I/O vs. the amount of time they spend doing computation. If they&#39;re all doing pure computation, then you&#39;d normally want about the same number of threads as cores. If they&#39;re doing a fair amount of I/O, you&#39;d typically want quite a few more threads than cores.\r\n\r\nLooking at it from the other direction for a moment, you want enough threads running to ensure that whenever one thread blocks for some reason (typically waiting on I/O) you have another thread (that&#39;s not blocked) available to run on that core. The exact number that takes depends on how much of its time each thread spends blocked.","title":"Number of processor core vs the size of a thread pool","body":"<p>Having fewer threads than cores generally means you <em>can't</em> take advantage of all available cores.</p>\n\n<p>The usual question is how many more threads than cores you want. That, however, varies, depending on the amount of time (overall) that your threads spend doing things like I/O vs. the amount of time they spend doing computation. If they're all doing pure computation, then you'd normally want about the same number of threads as cores. If they're doing a fair amount of I/O, you'd typically want quite a few more threads than cores.</p>\n\n<p>Looking at it from the other direction for a moment, you want enough threads running to ensure that whenever one thread blocks for some reason (typically waiting on I/O) you have another thread (that's not blocked) available to run on that core. The exact number that takes depends on how much of its time each thread spends blocked.</p>\n"},{"tags":[],"owner":{"account_id":128297,"reputation":12671,"user_id":1560850,"accept_rate":67,"display_name":"valdo"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1359351723,"creation_date":1359351723,"answer_id":14556080,"question_id":14556037,"body_markdown":"Not exactly true, this depends on the overall software architecture. There&#39;s a reason of keeping more threads than available cores in case some of the threads are suspended by the OS because they&#39;re waiting for an I/O to complete. This may be an explicit I/O invocation (such as synchronous reading from file), as well as implicit, such as system paging handling.\r\n\r\nActually I&#39;ve read in one book that keeping the number of threads twice the number of CPU cores is is a good practice.\r\n","title":"Number of processor core vs the size of a thread pool","body":"<p>Not exactly true, this depends on the overall software architecture. There's a reason of keeping more threads than available cores in case some of the threads are suspended by the OS because they're waiting for an I/O to complete. This may be an explicit I/O invocation (such as synchronous reading from file), as well as implicit, such as system paging handling.</p>\n\n<p>Actually I've read in one book that keeping the number of threads twice the number of CPU cores is is a good practice.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":30,"is_accepted":true,"score":30,"last_activity_date":1552016085,"creation_date":1359355558,"answer_id":14556788,"question_id":14556037,"body_markdown":"&gt; Many times I&#39;ve heard that it is better to maintain the number of threads in a thread pool below the number of cores in that system. Having twice or more threads than the number of cores is not only a waste, but also could cause performance degradation.\r\n\r\nThe claims are not true *as a general statement*.  That is to say, sometimes they are true (or true-ish) and other times they are patently false.\r\n\r\nA couple things are indisputably true:\r\n\r\n  1.  More threads means more memory usage.  Each thread requires a thread stack.  For recent HotSpot JVMs, the *minimum* thread stack size is 64Kb, and the default can be as much as 1Mb.  That can be significant.  In addition, any thread that is alive is likely to own or share objects in the heap whether or not it is currently runnable.  Therefore is is reasonable to expect that more threads means a larger memory working set.\r\n\r\n  1.  A JVM cannot have more threads actually running than there are cores (or hyperthread cores or whatever) on the execution hardware.  A car won&#39;t run without an engine, and a thread won&#39;t run without a core.\r\n\r\nBeyond that, things get less clear cut.  The &quot;problem&quot; is that a live thread can in a variety of &quot;states&quot;.  For instance:\r\n\r\n  - A live thread can be running; i.e. actively executing instructions.\r\n  - A live thread can be runnable; i.e. waiting for a core so that it can be run.\r\n  - A live thread can by synchronizing; i.e. waiting for a signal from another thread, or waiting for a lock to be released.\r\n  - A live thread can be waiting on an external event; e.g. waiting for some external server / service to respond to a request.\r\n\r\nThe &quot;one thread per core&quot; heuristic assumes that threads are either running or runnable (according to the above).  But for a lot of multi-threaded applications, the heuristic is wrong ... because it doesn&#39;t take account of threads in the other states.\r\n\r\nNow &quot;too many&quot; threads clearly *can* cause significant performance degradation, simple by using too much memory.  (Imagine that you have 4Gb of physical memory and you create 8,000 threads with 1Mb stacks.  That is a recipe for virtual memory thrashing.)  \r\n\r\nBut what about other things?  Can having too many threads *cause* excessive context switching?  \r\n\r\nI don&#39;t think so.  If you have lots of threads, and your application&#39;s use of those threads can result in excessive context switches, and that *is* bad for performance.  However, I posit that the root cause of the context switched is not the actual number of threads.  The root of the performance problems are more likely that the application is:\r\n\r\n  - synchronizing in a particularly wasteful way; e.g. using `Object.notifyAll()` when `Object.notify()` would be better, OR\r\n  - synchronizing on a highly contended data structure, OR \r\n  - doing too much synchronization relative to the amount of useful work that each thread is doing, OR\r\n  - trying to do too much I/O in parallel.\r\n\r\n(In the last case, the bottleneck is likely to be the I/O system rather than context switches ... unless the I/O is IPC with services / programs on the same machine.)\r\n\r\nThe other point is that in the absence of the confounding factors above, having more threads is not going to increase context switches.  If your application has N runnable threads competing for M processors, and the threads are purely computational and contention free, then the OS&#39;es thread scheduler is going to attempt to time-slice between them.  But the length of a timeslice is likely to be measured in tenths of a second (or more), so that the context switch overhead is negligible compared with the work that a CPU-bound thread actually performs during its slice.  And if we assume that the length of a time slice is constant, then the context switch overhead will be constant too.  Adding more runnable threads (increasing N) won&#39;t change the ratio of work to overhead significantly.\r\n\r\n\r\n---------------------\r\n\r\nIn summary, it is true that &quot;too many threads&quot; is harmful for performance.  However, there is no reliable universal &quot;rule of thumb&quot; for how many is &quot;too many&quot;.  And (fortunately) you generally have considerable leeway before the performance problems of &quot;too many&quot; become significant.\r\n\r\n","title":"Number of processor core vs the size of a thread pool","body":"<blockquote>\n  <p>Many times I've heard that it is better to maintain the number of threads in a thread pool below the number of cores in that system. Having twice or more threads than the number of cores is not only a waste, but also could cause performance degradation.</p>\n</blockquote>\n\n<p>The claims are not true <em>as a general statement</em>.  That is to say, sometimes they are true (or true-ish) and other times they are patently false.</p>\n\n<p>A couple things are indisputably true:</p>\n\n<ol>\n<li><p>More threads means more memory usage.  Each thread requires a thread stack.  For recent HotSpot JVMs, the <em>minimum</em> thread stack size is 64Kb, and the default can be as much as 1Mb.  That can be significant.  In addition, any thread that is alive is likely to own or share objects in the heap whether or not it is currently runnable.  Therefore is is reasonable to expect that more threads means a larger memory working set.</p></li>\n<li><p>A JVM cannot have more threads actually running than there are cores (or hyperthread cores or whatever) on the execution hardware.  A car won't run without an engine, and a thread won't run without a core.</p></li>\n</ol>\n\n<p>Beyond that, things get less clear cut.  The \"problem\" is that a live thread can in a variety of \"states\".  For instance:</p>\n\n<ul>\n<li>A live thread can be running; i.e. actively executing instructions.</li>\n<li>A live thread can be runnable; i.e. waiting for a core so that it can be run.</li>\n<li>A live thread can by synchronizing; i.e. waiting for a signal from another thread, or waiting for a lock to be released.</li>\n<li>A live thread can be waiting on an external event; e.g. waiting for some external server / service to respond to a request.</li>\n</ul>\n\n<p>The \"one thread per core\" heuristic assumes that threads are either running or runnable (according to the above).  But for a lot of multi-threaded applications, the heuristic is wrong ... because it doesn't take account of threads in the other states.</p>\n\n<p>Now \"too many\" threads clearly <em>can</em> cause significant performance degradation, simple by using too much memory.  (Imagine that you have 4Gb of physical memory and you create 8,000 threads with 1Mb stacks.  That is a recipe for virtual memory thrashing.)  </p>\n\n<p>But what about other things?  Can having too many threads <em>cause</em> excessive context switching?  </p>\n\n<p>I don't think so.  If you have lots of threads, and your application's use of those threads can result in excessive context switches, and that <em>is</em> bad for performance.  However, I posit that the root cause of the context switched is not the actual number of threads.  The root of the performance problems are more likely that the application is:</p>\n\n<ul>\n<li>synchronizing in a particularly wasteful way; e.g. using <code>Object.notifyAll()</code> when <code>Object.notify()</code> would be better, OR</li>\n<li>synchronizing on a highly contended data structure, OR </li>\n<li>doing too much synchronization relative to the amount of useful work that each thread is doing, OR</li>\n<li>trying to do too much I/O in parallel.</li>\n</ul>\n\n<p>(In the last case, the bottleneck is likely to be the I/O system rather than context switches ... unless the I/O is IPC with services / programs on the same machine.)</p>\n\n<p>The other point is that in the absence of the confounding factors above, having more threads is not going to increase context switches.  If your application has N runnable threads competing for M processors, and the threads are purely computational and contention free, then the OS'es thread scheduler is going to attempt to time-slice between them.  But the length of a timeslice is likely to be measured in tenths of a second (or more), so that the context switch overhead is negligible compared with the work that a CPU-bound thread actually performs during its slice.  And if we assume that the length of a time slice is constant, then the context switch overhead will be constant too.  Adding more runnable threads (increasing N) won't change the ratio of work to overhead significantly.</p>\n\n<hr>\n\n<p>In summary, it is true that \"too many threads\" is harmful for performance.  However, there is no reliable universal \"rule of thumb\" for how many is \"too many\".  And (fortunately) you generally have considerable leeway before the performance problems of \"too many\" become significant.</p>\n"},{"tags":[],"owner":{"account_id":13694632,"reputation":411,"user_id":9881640,"display_name":"Vipul Gupta"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1675018644,"creation_date":1675018644,"answer_id":75277558,"question_id":14556037,"body_markdown":"For REST API calls or say I/O-bound operations, having more threads than the number of cores can potentially improve the performance by allowing multiple API requests to be processed in parallel. However, the optimal number of threads depends on various factors such as the API request frequency, the complexity of the request processing, and the resources available on the server.\r\n\r\nIf the API request processing is CPU-bound and requires a lot of computation, having too many threads may cause resource contention and lead to reduced performance. In such cases, the number of threads should be limited to the number of cores available.\r\n\r\nOn the other hand, if the API request processing is I/O-bound and involves a lot of waiting for responses from external resources such as databases, having more threads may improve performance by allowing multiple requests to be processed in parallel.\r\n\r\nIn any case, it is recommended to perform performance testing to determine the optimal number of threads for your specific use case and monitor the system performance using metrics such as response time, resource utilization, and error rate.","title":"Number of processor core vs the size of a thread pool","body":"<p>For REST API calls or say I/O-bound operations, having more threads than the number of cores can potentially improve the performance by allowing multiple API requests to be processed in parallel. However, the optimal number of threads depends on various factors such as the API request frequency, the complexity of the request processing, and the resources available on the server.</p>\n<p>If the API request processing is CPU-bound and requires a lot of computation, having too many threads may cause resource contention and lead to reduced performance. In such cases, the number of threads should be limited to the number of cores available.</p>\n<p>On the other hand, if the API request processing is I/O-bound and involves a lot of waiting for responses from external resources such as databases, having more threads may improve performance by allowing multiple requests to be processed in parallel.</p>\n<p>In any case, it is recommended to perform performance testing to determine the optimal number of threads for your specific use case and monitor the system performance using metrics such as response time, resource utilization, and error rate.</p>\n"}],"owner":{"account_id":1667441,"reputation":1231,"user_id":1534573,"accept_rate":63,"display_name":"Prasad Weera"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15643,"favorite_count":0,"down_vote_count":1,"up_vote_count":24,"accepted_answer_id":14556788,"answer_count":5,"score":23,"last_activity_date":1675018644,"creation_date":1359351393,"question_id":14556037,"body_markdown":"Many times I&#39;ve heard that it is better to maintain the number of threads in a thread pool below the number of cores in that system. Having twice or more threads than the number of cores is not only a waste, but also could cause performance degradation.\r\n\r\nAre those true? If not, what are the fundamental principles that debunk those claims (specifically relating to java)?","title":"Number of processor core vs the size of a thread pool","body":"<p>Many times I've heard that it is better to maintain the number of threads in a thread pool below the number of cores in that system. Having twice or more threads than the number of cores is not only a waste, but also could cause performance degradation.</p>\n\n<p>Are those true? If not, what are the fundamental principles that debunk those claims (specifically relating to java)?</p>\n"},{"tags":["java","android","html","parsing","jsoup"],"answers":[{"tags":[],"owner":{"account_id":4181404,"reputation":6036,"user_id":3426328,"accept_rate":83,"display_name":"TDG"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674937913,"creation_date":1674894691,"answer_id":75266352,"question_id":75252533,"body_markdown":"I would take a different approach, without using regex.  \r\nTo get the ebit data, first find the div that contains the title &quot;EBIT&quot;:  \r\n\r\n    Element ebit = doc.select(&quot;[title=EBIT]&quot;).first();\r\nThis element&#39;s direct parent has siblings with all the needed information, which are the columns of the table:  \r\n\r\n    Elements ebitData = ebit.parent().siblingElements();\r\nand all the data can be extracted from the element&#39;s text -  \r\n\r\n    for (Element e : ebitData) {\r\n\t\t\tSystem.out.println(e.text());\t\t\t\r\n\t}\r\nOutput:  \r\n&gt;122,034,000  \r\n122,034,000  \r\n111,852,000  \r\n69,964,000  \r\n69,313,000\r\n\r\n\r\nYou&#39;ll have to skip the 0th element and get all the other ones.  \r\nUse the same method to get all the other values and dates and then you can put them in arrays or hash map. \r\n\r\n**EDIT**  \r\nIn order to get the dates you can use a similar method -  \r\nFind the element that contains the text &quot;Breakdown&quot; (assuming it will remain constant) -  \r\n`Elements dates = doc.select(&quot;:containsOwn(Breakdown)&quot;).first();`  \r\nand now find its parent&#39;s siblings, so it can be written as -  \r\n\r\n    Elements dates = doc.select(&quot;:containsOwn(Breakdown)&quot;).first().parent().siblingElements();\r\n\t\t\r\n\tfor (Element e : dates) {\r\n\t\tSystem.out.println(e.text());\r\n\t}\r\n\r\nAs for the other values that you mention in your comments - I don&#39;t see it in my browser. If you have to open a new tab in the site or even expand a row, then probably it&#39;s sort of xhr or ajax request and jsoup cannot handle it.","title":"On Android Java, how to match a String within a Div Tag and extract a value?","body":"<p>I would take a different approach, without using regex.<br />\nTo get the ebit data, first find the div that contains the title &quot;EBIT&quot;:</p>\n<pre><code>Element ebit = doc.select(&quot;[title=EBIT]&quot;).first();\n</code></pre>\n<p>This element's direct parent has siblings with all the needed information, which are the columns of the table:</p>\n<pre><code>Elements ebitData = ebit.parent().siblingElements();\n</code></pre>\n<p>and all the data can be extracted from the element's text -</p>\n<pre><code>for (Element e : ebitData) {\n        System.out.println(e.text());           \n}\n</code></pre>\n<p>Output:</p>\n<blockquote>\n<p>122,034,000<br />\n122,034,000<br />\n111,852,000<br />\n69,964,000<br />\n69,313,000</p>\n</blockquote>\n<p>You'll have to skip the 0th element and get all the other ones.<br />\nUse the same method to get all the other values and dates and then you can put them in arrays or hash map.</p>\n<p><strong>EDIT</strong><br />\nIn order to get the dates you can use a similar method -<br />\nFind the element that contains the text &quot;Breakdown&quot; (assuming it will remain constant) -<br />\n<code>Elements dates = doc.select(&quot;:containsOwn(Breakdown)&quot;).first();</code><br />\nand now find its parent's siblings, so it can be written as -</p>\n<pre><code>Elements dates = doc.select(&quot;:containsOwn(Breakdown)&quot;).first().parent().siblingElements();\n    \nfor (Element e : dates) {\n    System.out.println(e.text());\n}\n</code></pre>\n<p>As for the other values that you mention in your comments - I don't see it in my browser. If you have to open a new tab in the site or even expand a row, then probably it's sort of xhr or ajax request and jsoup cannot handle it.</p>\n"}],"owner":{"account_id":4526516,"reputation":208,"user_id":4013399,"accept_rate":39,"display_name":"Zac1"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1675018457,"creation_date":1674774207,"question_id":75252533,"body_markdown":"Here&#39;s my code;\r\n\r\n     private static String fetch(String url) throws MalformedURLException, IOException, UnsupportedEncodingException {\r\n        String userAgent1 = &quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36 OPR/56.0.3051.43&quot;;\r\n        try {\r\n            Document doc1 = Jsoup.connect(url).userAgent(userAgent1).get();\r\n            Elements divTags = doc1.getElementsByTag(&quot;div&quot;);\r\n            String re = &quot;^&lt;div class=\\\\\\&quot;Ta\\\\(c\\\\) Py\\\\(6px\\\\) Bxz\\\\(bb\\\\) BdB Bdc\\\\(\\\\$seperatorColor\\\\) Miw\\\\(120px\\\\) Miw\\\\(100px\\\\)\\\\-\\\\-pnclg D\\\\(tbc\\\\)\\\\\\&quot; data-test=\\\\\\&quot;fin-col\\\\\\&quot;&gt;&lt;span&gt;.*&lt;/span&gt;&lt;/div&gt;$&quot;;\r\n            \r\n            for (Element div : divTags) {\r\n                Pattern pattern = Pattern.compile(re, Pattern.DOTALL);\r\n                Matcher matcher = pattern.matcher(div.html());\r\n\r\n                if (matcher.find()) {\r\n                    String data = matcher.group(1);\r\n                    Log.d(&quot;Matched: &quot;, data);\r\n                }\r\n                else {\r\n                    Log.d(&quot;Nothing Matched: &quot;, &quot;&quot;);\r\n                }\r\n            }\r\n        } catch (Exception e) {\r\n            Log.e(&quot;err-new&quot;, &quot;err&quot;, e);\r\n        }\r\n        return &quot;&quot;;\r\n    }\r\n\r\nThis function takes a URL as input, in our case: `https://finance.yahoo.com/quote/AAPL/financials?p=AAPL&amp;guccounter=2` and extracts all the `div` tags using `JSOUP`. \r\n\r\nAnd then, I need to extract these values using Pattern matching. But, in my code above, all I get is that `&quot;Nothing matched: &quot;`. \r\n\r\nHere&#39;s the web page from which I am interested in getting the four numeric values corresponding to the first four yearly columns, corresponding to the row named `EBIT`. (Stands for Earnings Before Interest and Taxes) \r\n\r\n**Link**: https://finance.yahoo.com/quote/AAPL/financials?p=AAPL&amp;guccounter=2\r\n\r\n**Input**: \r\nLooking to get values 122,034,000, 111,852,000, 69,964,000, 69,313,000 on the `EBIT` row for columns 9/30/2022, 9/30/2021, 9/30/2020, 9/30/2019. \r\n\r\nOn `Inspect`, these values are under the following `&lt;div&gt;` tags. \r\n\r\nEBIT 1: `&lt;div class=&quot;Ta(c) Py(6px) Bxz(bb) BdB Bdc($seperatorColor) Miw(120px) Miw(100px)--pnclg D(tbc)&quot; data-test=&quot;fin-col&quot;&gt;&lt;span&gt;122,034,000&lt;/span&gt;&lt;/div&gt;`\r\n\r\nEBIT 2: `&lt;div class=&quot;Ta(c) Py(6px) Bxz(bb) BdB Bdc($seperatorColor) Miw(120px) Miw(100px)--pnclg Bgc($lv1BgColor) fi-row:h_Bgc($hoverBgColor) D(tbc)&quot; data-test=&quot;fin-col&quot;&gt;&lt;span&gt;111,852,000&lt;/span&gt;&lt;/div&gt;`\r\n\r\nEBIT 3: `&lt;div class=&quot;Ta(c) Py(6px) Bxz(bb) BdB Bdc($seperatorColor) Miw(120px) Miw(100px)--pnclg D(tbc)&quot; data-test=&quot;fin-col&quot;&gt;&lt;span&gt;69,964,000&lt;/span&gt;&lt;/div&gt;`\r\n\r\nEBIT 4: `&lt;div class=&quot;Ta(c) Py(6px) Bxz(bb) BdB Bdc($seperatorColor) Miw(120px) Miw(100px)--pnclg Bgc($lv1BgColor) fi-row:h_Bgc($hoverBgColor) D(tbc)&quot; data-test=&quot;fin-col&quot;&gt;&lt;span&gt;69,313,000&lt;/span&gt;&lt;/div&gt;`\r\n\r\nAnd the same thing for the 4 columns under the `Quarterly` tab on the same web page. Looking to get values 25,484,000, 23,785,000, 30,830,000, 41,935,000 on the `EBIT` row for columns 9/30/2022, 6/30/2022, 3/31/2022, 12/31/2021. \r\n\r\nEBIT 1: `&lt;div class=&quot;Ta(c) Py(6px) Bxz(bb) BdB Bdc($seperatorColor) Miw(120px) Miw(100px)--pnclg D(tbc)&quot; data-test=&quot;fin-col&quot;&gt;&lt;span&gt;25,484,000&lt;/span&gt;&lt;/div&gt;`\r\n\r\nEBIT 2: `&lt;div class=&quot;Ta(c) Py(6px) Bxz(bb) BdB Bdc($seperatorColor) Miw(120px) Miw(100px)--pnclg Bgc($lv1BgColor) fi-row:h_Bgc($hoverBgColor) D(tbc)&quot; data-test=&quot;fin-col&quot;&gt;&lt;span&gt;23,785,000&lt;/span&gt;&lt;/div&gt;`\r\n\r\nEBIT 3: `&lt;div class=&quot;Ta(c) Py(6px) Bxz(bb) BdB Bdc($seperatorColor) Miw(120px) Miw(100px)--pnclg D(tbc)&quot; data-test=&quot;fin-col&quot;&gt;&lt;span&gt;30,830,000&lt;/span&gt;&lt;/div&gt;`\r\n\r\nEBIT 4: `&lt;div class=&quot;Ta(c) Py(6px) Bxz(bb) BdB Bdc($seperatorColor) Miw(120px) Miw(100px)--pnclg Bgc($lv1BgColor) fi-row:h_Bgc($hoverBgColor) D(tbc)&quot; data-test=&quot;fin-col&quot;&gt;&lt;span&gt;41,935,000&lt;/span&gt;&lt;/div&gt;`\r\n\r\n\r\n**Output**: \r\ndates = {9/30/2022, 9/30/2021, 9/30/2020, 9/30/2019} \r\n\r\ndatesQ = {9/30/2022, 6/30/2022, 3/31/2022, 12/31/2021}\r\n \r\nEBIT = {122,034,000, 111,852,000, 69,964,000, 69,313,000} \r\n\r\nEBITQ = {25,484,000, 23,785,000, 30,830,000, 41,935,000} \r\n\r\nWhere `Q` stands for Quarterly. \r\n\r\nOR, it could be two hashmaps with \r\nyearlyHash = {date1: value1, date2: value2, date3: value3 and date4: value4} \r\nquarterlyHash = {date1: value1, date2: value2, date3: value3 and date4: value4} \r\n\r\n\r\nI am wondering what&#39;s the best way to match my pattern and extract the values I want.\r\n\r\nEDIT:\r\n\r\nAlso, unfortunately, I don&#39;t see a `title = Current Liabilities` in the source of the page `https://finance.yahoo.com/quote/AAPL/balance-sheet?p=AAPL` because it seems to be under an expandable row in the table under `Total Liabilities`, and I am not sure how the website calculates that field.\r\n\r\nSo, how can I extract that value? Also the quarterly values, what to do for that. That seems to be an AJAX call.\r\n\r\nEDIT:\r\n\r\nThe `Date` values are under;\r\n\r\nPlease fix my code to extract the date values which are under: \r\n\r\nDate1: `&lt;div class=&quot;Ta(c) Py(6px) Bxz(bb) BdB Bdc($seperatorColor) Miw(120px) Miw(100px)--pnclg D(ib) Fw(b)&quot;&gt;&lt;span&gt;9/30/2022&lt;/span&gt;&lt;/div&gt;`\r\n\r\nDate2: `&lt;div class=&quot;Ta(c) Py(6px) Bxz(bb) BdB Bdc($seperatorColor) Miw(120px) Miw(100px)--pnclg D(ib) Fw(b) Bgc($lv1BgColor)&quot;&gt;&lt;span&gt;9/30/2021&lt;/span&gt;&lt;/div&gt;`\r\n\r\nDate3: `&lt;div class=&quot;Ta(c) Py(6px) Bxz(bb) BdB Bdc($seperatorColor) Miw(120px) Miw(100px)--pnclg D(ib) Fw(b)&quot;&gt;&lt;span&gt;9/30/2020&lt;/span&gt;&lt;/div&gt;`\r\n\r\nDate4: `&lt;div class=&quot;Ta(c) Py(6px) Bxz(bb) BdB Bdc($seperatorColor) Miw(120px) Miw(100px)--pnclg D(ib) Fw(b) Bgc($lv1BgColor)&quot;&gt;&lt;span&gt;9/30/2019&lt;/span&gt;&lt;/div&gt;` ","title":"On Android Java, how to match a String within a Div Tag and extract a value?","body":"<p>Here's my code;</p>\n<pre><code> private static String fetch(String url) throws MalformedURLException, IOException, UnsupportedEncodingException {\n    String userAgent1 = &quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36 OPR/56.0.3051.43&quot;;\n    try {\n        Document doc1 = Jsoup.connect(url).userAgent(userAgent1).get();\n        Elements divTags = doc1.getElementsByTag(&quot;div&quot;);\n        String re = &quot;^&lt;div class=\\\\\\&quot;Ta\\\\(c\\\\) Py\\\\(6px\\\\) Bxz\\\\(bb\\\\) BdB Bdc\\\\(\\\\$seperatorColor\\\\) Miw\\\\(120px\\\\) Miw\\\\(100px\\\\)\\\\-\\\\-pnclg D\\\\(tbc\\\\)\\\\\\&quot; data-test=\\\\\\&quot;fin-col\\\\\\&quot;&gt;&lt;span&gt;.*&lt;/span&gt;&lt;/div&gt;$&quot;;\n        \n        for (Element div : divTags) {\n            Pattern pattern = Pattern.compile(re, Pattern.DOTALL);\n            Matcher matcher = pattern.matcher(div.html());\n\n            if (matcher.find()) {\n                String data = matcher.group(1);\n                Log.d(&quot;Matched: &quot;, data);\n            }\n            else {\n                Log.d(&quot;Nothing Matched: &quot;, &quot;&quot;);\n            }\n        }\n    } catch (Exception e) {\n        Log.e(&quot;err-new&quot;, &quot;err&quot;, e);\n    }\n    return &quot;&quot;;\n}\n</code></pre>\n<p>This function takes a URL as input, in our case: <code>https://finance.yahoo.com/quote/AAPL/financials?p=AAPL&amp;guccounter=2</code> and extracts all the <code>div</code> tags using <code>JSOUP</code>.</p>\n<p>And then, I need to extract these values using Pattern matching. But, in my code above, all I get is that <code>&quot;Nothing matched: &quot;</code>.</p>\n<p>Here's the web page from which I am interested in getting the four numeric values corresponding to the first four yearly columns, corresponding to the row named <code>EBIT</code>. (Stands for Earnings Before Interest and Taxes)</p>\n<p><strong>Link</strong>: <a href=\"https://finance.yahoo.com/quote/AAPL/financials?p=AAPL&amp;guccounter=2\" rel=\"nofollow noreferrer\">https://finance.yahoo.com/quote/AAPL/financials?p=AAPL&amp;guccounter=2</a></p>\n<p><strong>Input</strong>:\nLooking to get values 122,034,000, 111,852,000, 69,964,000, 69,313,000 on the <code>EBIT</code> row for columns 9/30/2022, 9/30/2021, 9/30/2020, 9/30/2019.</p>\n<p>On <code>Inspect</code>, these values are under the following <code>&lt;div&gt;</code> tags.</p>\n<p>EBIT 1: <code>&lt;div class=&quot;Ta(c) Py(6px) Bxz(bb) BdB Bdc($seperatorColor) Miw(120px) Miw(100px)--pnclg D(tbc)&quot; data-test=&quot;fin-col&quot;&gt;&lt;span&gt;122,034,000&lt;/span&gt;&lt;/div&gt;</code></p>\n<p>EBIT 2: <code>&lt;div class=&quot;Ta(c) Py(6px) Bxz(bb) BdB Bdc($seperatorColor) Miw(120px) Miw(100px)--pnclg Bgc($lv1BgColor) fi-row:h_Bgc($hoverBgColor) D(tbc)&quot; data-test=&quot;fin-col&quot;&gt;&lt;span&gt;111,852,000&lt;/span&gt;&lt;/div&gt;</code></p>\n<p>EBIT 3: <code>&lt;div class=&quot;Ta(c) Py(6px) Bxz(bb) BdB Bdc($seperatorColor) Miw(120px) Miw(100px)--pnclg D(tbc)&quot; data-test=&quot;fin-col&quot;&gt;&lt;span&gt;69,964,000&lt;/span&gt;&lt;/div&gt;</code></p>\n<p>EBIT 4: <code>&lt;div class=&quot;Ta(c) Py(6px) Bxz(bb) BdB Bdc($seperatorColor) Miw(120px) Miw(100px)--pnclg Bgc($lv1BgColor) fi-row:h_Bgc($hoverBgColor) D(tbc)&quot; data-test=&quot;fin-col&quot;&gt;&lt;span&gt;69,313,000&lt;/span&gt;&lt;/div&gt;</code></p>\n<p>And the same thing for the 4 columns under the <code>Quarterly</code> tab on the same web page. Looking to get values 25,484,000, 23,785,000, 30,830,000, 41,935,000 on the <code>EBIT</code> row for columns 9/30/2022, 6/30/2022, 3/31/2022, 12/31/2021.</p>\n<p>EBIT 1: <code>&lt;div class=&quot;Ta(c) Py(6px) Bxz(bb) BdB Bdc($seperatorColor) Miw(120px) Miw(100px)--pnclg D(tbc)&quot; data-test=&quot;fin-col&quot;&gt;&lt;span&gt;25,484,000&lt;/span&gt;&lt;/div&gt;</code></p>\n<p>EBIT 2: <code>&lt;div class=&quot;Ta(c) Py(6px) Bxz(bb) BdB Bdc($seperatorColor) Miw(120px) Miw(100px)--pnclg Bgc($lv1BgColor) fi-row:h_Bgc($hoverBgColor) D(tbc)&quot; data-test=&quot;fin-col&quot;&gt;&lt;span&gt;23,785,000&lt;/span&gt;&lt;/div&gt;</code></p>\n<p>EBIT 3: <code>&lt;div class=&quot;Ta(c) Py(6px) Bxz(bb) BdB Bdc($seperatorColor) Miw(120px) Miw(100px)--pnclg D(tbc)&quot; data-test=&quot;fin-col&quot;&gt;&lt;span&gt;30,830,000&lt;/span&gt;&lt;/div&gt;</code></p>\n<p>EBIT 4: <code>&lt;div class=&quot;Ta(c) Py(6px) Bxz(bb) BdB Bdc($seperatorColor) Miw(120px) Miw(100px)--pnclg Bgc($lv1BgColor) fi-row:h_Bgc($hoverBgColor) D(tbc)&quot; data-test=&quot;fin-col&quot;&gt;&lt;span&gt;41,935,000&lt;/span&gt;&lt;/div&gt;</code></p>\n<p><strong>Output</strong>:\ndates = {9/30/2022, 9/30/2021, 9/30/2020, 9/30/2019}</p>\n<p>datesQ = {9/30/2022, 6/30/2022, 3/31/2022, 12/31/2021}</p>\n<p>EBIT = {122,034,000, 111,852,000, 69,964,000, 69,313,000}</p>\n<p>EBITQ = {25,484,000, 23,785,000, 30,830,000, 41,935,000}</p>\n<p>Where <code>Q</code> stands for Quarterly.</p>\n<p>OR, it could be two hashmaps with\nyearlyHash = {date1: value1, date2: value2, date3: value3 and date4: value4}\nquarterlyHash = {date1: value1, date2: value2, date3: value3 and date4: value4}</p>\n<p>I am wondering what's the best way to match my pattern and extract the values I want.</p>\n<p>EDIT:</p>\n<p>Also, unfortunately, I don't see a <code>title = Current Liabilities</code> in the source of the page <code>https://finance.yahoo.com/quote/AAPL/balance-sheet?p=AAPL</code> because it seems to be under an expandable row in the table under <code>Total Liabilities</code>, and I am not sure how the website calculates that field.</p>\n<p>So, how can I extract that value? Also the quarterly values, what to do for that. That seems to be an AJAX call.</p>\n<p>EDIT:</p>\n<p>The <code>Date</code> values are under;</p>\n<p>Please fix my code to extract the date values which are under:</p>\n<p>Date1: <code>&lt;div class=&quot;Ta(c) Py(6px) Bxz(bb) BdB Bdc($seperatorColor) Miw(120px) Miw(100px)--pnclg D(ib) Fw(b)&quot;&gt;&lt;span&gt;9/30/2022&lt;/span&gt;&lt;/div&gt;</code></p>\n<p>Date2: <code>&lt;div class=&quot;Ta(c) Py(6px) Bxz(bb) BdB Bdc($seperatorColor) Miw(120px) Miw(100px)--pnclg D(ib) Fw(b) Bgc($lv1BgColor)&quot;&gt;&lt;span&gt;9/30/2021&lt;/span&gt;&lt;/div&gt;</code></p>\n<p>Date3: <code>&lt;div class=&quot;Ta(c) Py(6px) Bxz(bb) BdB Bdc($seperatorColor) Miw(120px) Miw(100px)--pnclg D(ib) Fw(b)&quot;&gt;&lt;span&gt;9/30/2020&lt;/span&gt;&lt;/div&gt;</code></p>\n<p>Date4: <code>&lt;div class=&quot;Ta(c) Py(6px) Bxz(bb) BdB Bdc($seperatorColor) Miw(120px) Miw(100px)--pnclg D(ib) Fw(b) Bgc($lv1BgColor)&quot;&gt;&lt;span&gt;9/30/2019&lt;/span&gt;&lt;/div&gt;</code></p>\n"},{"tags":["java","android-studio","permissions"],"owner":{"account_id":22565659,"reputation":1,"user_id":16752725,"display_name":"ag1999"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":147,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675017677,"creation_date":1675017677,"question_id":75277450,"body_markdown":"I was trying to select an image from a device folder but it an error in the logcat like this:\r\n\r\n(https://i.stack.imgur.com/0yFm8.jpg)\r\n(https://i.stack.imgur.com/owWL4.jpg)\r\n\r\nThis error doesn&#39;t always come out and sometimes it changes, but it&#39;s always about running out of memory\r\n\r\nThis is the code with which I choose an image in the gallery:\r\n\r\n\r\n```\r\npublic void inserimentoImmagine() {\r\n        addImage = findViewById(R.id.aggiuntaFoto);\r\n\r\n        addImage.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                try {\r\n                    if (ActivityCompat.checkSelfPermission(AggiuntaAnimaleManuale.this, Manifest.permission.READ_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED) {\r\n                        ActivityCompat.requestPermissions(AggiuntaAnimaleManuale.this, new String[]{Manifest.permission.READ_EXTERNAL_STORAGE, Manifest.permission.WRITE_EXTERNAL_STORAGE}, PICK_FROM_GALLERY);\r\n                    } else {\r\n                        Intent galleryIntent = new Intent(Intent.ACTION_PICK, android.provider.MediaStore.Images.Media.EXTERNAL_CONTENT_URI);\r\n                        galleryIntent.setType(&quot;image/*&quot;);\r\n                        startActivityForResult(galleryIntent, PICK_FROM_GALLERY);\r\n                    }\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        });\r\n\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String permissions[], @NonNull int[] grantResults) {\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n\r\n        switch (requestCode) {\r\n            case PICK_FROM_GALLERY:\r\n                // If request is cancelled, the result arrays are empty.\r\n                if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n                    Intent galleryIntent = new Intent(Intent.ACTION_PICK, MediaStore.Images.Media.EXTERNAL_CONTENT_URI);\r\n                    galleryIntent.setType(&quot;image/*&quot;);\r\n                    startActivityForResult(galleryIntent, PICK_FROM_GALLERY);\r\n                } else {\r\n                    //do something like displaying a message that he didn`t allow the app to access gallery and you wont be able to let him select from gallery\r\n                }\r\n                break;\r\n        }\r\n    }\r\n    public void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n        if (requestCode == PICK_FROM_GALLERY &amp;&amp; resultCode == RESULT_OK) {\r\n            if (data == null) {\r\n                //Display an error\r\n                return;\r\n            }\r\n\r\n            Uri imgUri= data.getData();\r\n            String[] filePathColumn = { MediaStore.Images.Media.DATA };\r\n\r\n            Cursor cursor=getContentResolver().query(\r\n                    imgUri, filePathColumn, null, null, null\r\n            );\r\n\r\n            String picturePath;\r\n            Bitmap bitmap;\r\n\r\n            if (cursor != null &amp;&amp; cursor.moveToFirst()) {\r\n                int columnIndex = cursor.getColumnIndex(filePathColumn[0]);\r\n                picturePath = cursor.getString(columnIndex);\r\n                cursor.close();\r\n\r\n                bitmap = BitmapFactory.decodeFile(picturePath);\r\n                image.setImageBitmap(bitmap);\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n","title":"Android Studio : READ_EXTERNAL_STORAGE permission causes an error","body":"<p>I was trying to select an image from a device folder but it an error in the logcat like this:</p>\n<p>(<a href=\"https://i.stack.imgur.com/0yFm8.jpg\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/0yFm8.jpg</a>)\n(<a href=\"https://i.stack.imgur.com/owWL4.jpg\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/owWL4.jpg</a>)</p>\n<p>This error doesn't always come out and sometimes it changes, but it's always about running out of memory</p>\n<p>This is the code with which I choose an image in the gallery:</p>\n<pre><code>public void inserimentoImmagine() {\n        addImage = findViewById(R.id.aggiuntaFoto);\n\n        addImage.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                try {\n                    if (ActivityCompat.checkSelfPermission(AggiuntaAnimaleManuale.this, Manifest.permission.READ_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED) {\n                        ActivityCompat.requestPermissions(AggiuntaAnimaleManuale.this, new String[]{Manifest.permission.READ_EXTERNAL_STORAGE, Manifest.permission.WRITE_EXTERNAL_STORAGE}, PICK_FROM_GALLERY);\n                    } else {\n                        Intent galleryIntent = new Intent(Intent.ACTION_PICK, android.provider.MediaStore.Images.Media.EXTERNAL_CONTENT_URI);\n                        galleryIntent.setType(&quot;image/*&quot;);\n                        startActivityForResult(galleryIntent, PICK_FROM_GALLERY);\n                    }\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n            }\n        });\n\n\n    }\n\n    @Override\n    public void onRequestPermissionsResult(int requestCode, @NonNull String permissions[], @NonNull int[] grantResults) {\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n\n        switch (requestCode) {\n            case PICK_FROM_GALLERY:\n                // If request is cancelled, the result arrays are empty.\n                if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n                    Intent galleryIntent = new Intent(Intent.ACTION_PICK, MediaStore.Images.Media.EXTERNAL_CONTENT_URI);\n                    galleryIntent.setType(&quot;image/*&quot;);\n                    startActivityForResult(galleryIntent, PICK_FROM_GALLERY);\n                } else {\n                    //do something like displaying a message that he didn`t allow the app to access gallery and you wont be able to let him select from gallery\n                }\n                break;\n        }\n    }\n    public void onActivityResult(int requestCode, int resultCode, Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n        if (requestCode == PICK_FROM_GALLERY &amp;&amp; resultCode == RESULT_OK) {\n            if (data == null) {\n                //Display an error\n                return;\n            }\n\n            Uri imgUri= data.getData();\n            String[] filePathColumn = { MediaStore.Images.Media.DATA };\n\n            Cursor cursor=getContentResolver().query(\n                    imgUri, filePathColumn, null, null, null\n            );\n\n            String picturePath;\n            Bitmap bitmap;\n\n            if (cursor != null &amp;&amp; cursor.moveToFirst()) {\n                int columnIndex = cursor.getColumnIndex(filePathColumn[0]);\n                picturePath = cursor.getString(columnIndex);\n                cursor.close();\n\n                bitmap = BitmapFactory.decodeFile(picturePath);\n                image.setImageBitmap(bitmap);\n            }\n\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":["java","serialization"],"owner":{"account_id":25643722,"reputation":33,"user_id":19412134,"display_name":"Archibald"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675017660,"creation_date":1675017103,"question_id":75277391,"body_markdown":"I&#39;ve just started to learn about serialization/deserialization and I&#39;m a bit confused about which type is used where and when... let me explain:\r\n\r\nI have an object containing many fields some of which are full of &quot;useless&quot; info.\r\nNow, when I log the contents of such object for debugging purposes I would like the output to be in a nice json format.\r\n\r\nSo in the ```toString()``` method of this object I do the following:\r\n\r\n```\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\n\r\n    ...\r\n    ...\r\n\r\n    @Override\r\n    public String toString() {\r\n        ObjectMapper objectMapper = new ObjectMapper();\r\n        String s = &quot;&quot;;\r\n        try{\r\n            s = objectMapper.writeValueAsString(this);\r\n        } catch (Exception e) {\r\n            \r\n        }\r\n        return s;\r\n    }\r\n```\r\n\r\n\r\nbut this also logs all the useless fields.\r\n\r\nSo I&#39;ve looked around and found the ```@JsonIgnore``` annotation from ```com.fasterxml.jackson.annotation.JsonIgnore``` which I can put on top of the useless fields so as not to log them.\r\n\r\nBut from what I&#39;ve understood serialization is a process of transforming a java object into a bytestream so that it can be written to file, saved in session, sent across the internet. So my noob question is: is it possible that using the ```@JsonIgnore``` annotation on top of certain fields will result in those fields not being saved into session (I use an hazelcast map), or not being sent in the http responses I send, or not being written to a file If I ever decide to do that?\r\n\r\nIf the answer to the previous question is NO, then is that because those types of actions (saving in session, writing to file, sending as http response) use different types of serialization than ```objectMapper.writeValueAsString(this);``` so they don&#39;t conflict?","title":"Conflicting types of serialization/deserialization and annotations","body":"<p>I've just started to learn about serialization/deserialization and I'm a bit confused about which type is used where and when... let me explain:</p>\n<p>I have an object containing many fields some of which are full of &quot;useless&quot; info.\nNow, when I log the contents of such object for debugging purposes I would like the output to be in a nice json format.</p>\n<p>So in the <code>toString()</code> method of this object I do the following:</p>\n<pre><code>import com.fasterxml.jackson.databind.ObjectMapper;\n\n    ...\n    ...\n\n    @Override\n    public String toString() {\n        ObjectMapper objectMapper = new ObjectMapper();\n        String s = &quot;&quot;;\n        try{\n            s = objectMapper.writeValueAsString(this);\n        } catch (Exception e) {\n            \n        }\n        return s;\n    }\n</code></pre>\n<p>but this also logs all the useless fields.</p>\n<p>So I've looked around and found the <code>@JsonIgnore</code> annotation from <code>com.fasterxml.jackson.annotation.JsonIgnore</code> which I can put on top of the useless fields so as not to log them.</p>\n<p>But from what I've understood serialization is a process of transforming a java object into a bytestream so that it can be written to file, saved in session, sent across the internet. So my noob question is: is it possible that using the <code>@JsonIgnore</code> annotation on top of certain fields will result in those fields not being saved into session (I use an hazelcast map), or not being sent in the http responses I send, or not being written to a file If I ever decide to do that?</p>\n<p>If the answer to the previous question is NO, then is that because those types of actions (saving in session, writing to file, sending as http response) use different types of serialization than <code>objectMapper.writeValueAsString(this);</code> so they don't conflict?</p>\n"},{"tags":["java","windows"],"comments":[{"owner":{"account_id":285919,"reputation":43640,"user_id":584862,"accept_rate":93,"display_name":"mre"},"score":6,"creation_date":1339885175,"post_id":11067484,"comment_id":14484360,"body_markdown":"making a Java program that&#39;s platform dependent? mind has been blown.","body":"making a Java program that&#39;s platform dependent? mind has been blown."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":2,"creation_date":1339885473,"post_id":11067484,"comment_id":14484435,"body_markdown":"Java is not a language suited to making such an OS specific app.!","body":"Java is not a language suited to making such an OS specific app.!"}],"answers":[{"tags":[],"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1339886035,"creation_date":1339885186,"answer_id":11067492,"question_id":11067484,"body_markdown":"There is no solution using core Java, but the problem can be solved using JNI or for an easier time, JNA. As noted in the comments, no solution (that I know of) will be platform independent.\r\n\r\nFor instance, this demo program uses JNA to enumerate all Windows with title in a Windows platform, but will also include windows that are not top-level windows and even windows that aren&#39;t visible:\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    import com.sun.jna.Native;\r\n    import com.sun.jna.Pointer;\r\n    import com.sun.jna.win32.StdCallLibrary;\r\n    \r\n    public class EnumAllWindowNames {\r\n       static interface User32 extends StdCallLibrary {\r\n          User32 INSTANCE = (User32) Native.loadLibrary(&quot;user32&quot;, User32.class);\r\n    \r\n          interface WNDENUMPROC extends StdCallCallback {\r\n             boolean callback(Pointer hWnd, Pointer arg);\r\n          }\r\n          \r\n          boolean EnumWindows(WNDENUMPROC lpEnumFunc, Pointer userData);\r\n          int GetWindowTextA(Pointer hWnd, byte[] lpString, int nMaxCount);\r\n          Pointer GetWindow(Pointer hWnd, int uCmd);\r\n       }\r\n       \r\n       public static List&lt;String&gt; getAllWindowNames() {\r\n          final List&lt;String&gt; windowNames = new ArrayList&lt;String&gt;();\r\n          final User32 user32 = User32.INSTANCE;\r\n          user32 .EnumWindows(new User32.WNDENUMPROC() {\r\n             \r\n             @Override\r\n             public boolean callback(Pointer hWnd, Pointer arg) {\r\n                byte[] windowText = new byte[512];\r\n                user32.GetWindowTextA(hWnd, windowText, 512);\r\n                String wText = Native.toString(windowText).trim();\r\n                if (!wText.isEmpty()) {\r\n                   windowNames.add(wText);\r\n                }\r\n                return true;\r\n             }\r\n          }, null);\r\n          \r\n          return windowNames;\r\n       }\r\n       \r\n       public static void main(String[] args) {\r\n          List&lt;String&gt; winNameList = getAllWindowNames();\r\n          for (String winName : winNameList) {\r\n             System.out.println(winName);\r\n          }\r\n       }\r\n       \r\n       \r\n    }","title":"Get titles of Non-Java Windows in Java","body":"<p>There is no solution using core Java, but the problem can be solved using JNI or for an easier time, JNA. As noted in the comments, no solution (that I know of) will be platform independent.</p>\n\n<p>For instance, this demo program uses JNA to enumerate all Windows with title in a Windows platform, but will also include windows that are not top-level windows and even windows that aren't visible:</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\n\nimport com.sun.jna.Native;\nimport com.sun.jna.Pointer;\nimport com.sun.jna.win32.StdCallLibrary;\n\npublic class EnumAllWindowNames {\n   static interface User32 extends StdCallLibrary {\n      User32 INSTANCE = (User32) Native.loadLibrary(\"user32\", User32.class);\n\n      interface WNDENUMPROC extends StdCallCallback {\n         boolean callback(Pointer hWnd, Pointer arg);\n      }\n\n      boolean EnumWindows(WNDENUMPROC lpEnumFunc, Pointer userData);\n      int GetWindowTextA(Pointer hWnd, byte[] lpString, int nMaxCount);\n      Pointer GetWindow(Pointer hWnd, int uCmd);\n   }\n\n   public static List&lt;String&gt; getAllWindowNames() {\n      final List&lt;String&gt; windowNames = new ArrayList&lt;String&gt;();\n      final User32 user32 = User32.INSTANCE;\n      user32 .EnumWindows(new User32.WNDENUMPROC() {\n\n         @Override\n         public boolean callback(Pointer hWnd, Pointer arg) {\n            byte[] windowText = new byte[512];\n            user32.GetWindowTextA(hWnd, windowText, 512);\n            String wText = Native.toString(windowText).trim();\n            if (!wText.isEmpty()) {\n               windowNames.add(wText);\n            }\n            return true;\n         }\n      }, null);\n\n      return windowNames;\n   }\n\n   public static void main(String[] args) {\n      List&lt;String&gt; winNameList = getAllWindowNames();\n      for (String winName : winNameList) {\n         System.out.println(winName);\n      }\n   }\n\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13696680,"reputation":73,"user_id":9883130,"display_name":"MBDNC"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1578616420,"creation_date":1578616420,"answer_id":59674040,"question_id":11067484,"body_markdown":"Addition to [@Hovercraft Full Of Eels][1], if you also have **windows which are titled with unreadable characters** and **get &quot;?&quot;** printed for those characters, try to:\r\n\r\n - *convert byte[] to string by using **different encoding*** (as I understood)\r\n\r\nsee below:\r\n\r\n    String wText = Native.toString(windowText, &quot;windows-1254&quot;).trim();\r\n\r\nPossible encodings instead of &quot;windows-1254 (which worked well for **Turkish characters**)&quot;:\r\n\r\n - UTF-8\r\n - UTF-16\r\n - ASCII\r\n - ISO-8859-1\r\n - ...\r\n\r\n  [1]: https://stackoverflow.com/users/522444/hovercraft-full-of-eels","title":"Get titles of Non-Java Windows in Java","body":"<p>Addition to <a href=\"https://stackoverflow.com/users/522444/hovercraft-full-of-eels\">@Hovercraft Full Of Eels</a>, if you also have <strong>windows which are titled with unreadable characters</strong> and <strong>get \"?\"</strong> printed for those characters, try to:</p>\n\n<ul>\n<li><em>convert byte[] to string by using <strong>different encoding</em></strong> (as I understood)</li>\n</ul>\n\n<p>see below:</p>\n\n<pre><code>String wText = Native.toString(windowText, \"windows-1254\").trim();\n</code></pre>\n\n<p>Possible encodings instead of \"windows-1254 (which worked well for <strong>Turkish characters</strong>)\":</p>\n\n<ul>\n<li>UTF-8</li>\n<li>UTF-16</li>\n<li>ASCII</li>\n<li>ISO-8859-1</li>\n<li>...</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675017653,"creation_date":1675017653,"answer_id":75277444,"question_id":11067484,"body_markdown":"You can now call into native Windows APIs to read the titles of non-java windows with pure-Java code using Foreign Memory API and code bindings generated by a compatible [jextract][1]. \r\n\r\nThis example works with the preview code in JDK19 release and is the equivalent to Hovercraft Full Of Eels answer:\r\n\r\n    /** \r\n     * Run with Windows JDK19 and preview enabled:\r\n     * jdk-19\\bin\\java --enable-native-access=ALL-UNNAMED --enable-preview -cp your.jar EnumWindowsDemo\r\n     */\r\n    public class EnumWindowsDemo {\r\n        // Wide to Java String\r\n        private static String toJavaString(MemorySegment wide, int len) {\r\n            final CharBuffer cb = wide.asByteBuffer().order(ByteOrder.nativeOrder()).asCharBuffer();\r\n            return cb.limit(len).toString();\r\n        }\r\n        public static void main(String[] args) {\r\n            // TODO: You could use someParam to detect specific hWnd inside the callback\r\n            long someParam = 0x1234;\r\n    \r\n            final int isRunning = User32_h.TRUE();\r\n            final int maxChars = 1024;\r\n    \r\n            System.out.format(&quot;EnumWindows Panama 19 Demo Java %s%n&quot;, System.getProperty(&quot;java.runtime.version&quot;));\r\n    \r\n            HashMap&lt;Long,String&gt; windowNames = new HashMap&lt;&gt;();\r\n            try(MemorySession arena = MemorySession.openConfined()) {\r\n            // JDK20 try(Arena arena = Arena.openConfined()) {\r\n                MemorySegment lpString = arena.allocateArray(JAVA_CHAR, maxChars);\r\n    \r\n                // Windows callback WNDENUMPROC(MemorySegment hwnd, long lParam)\r\n                WNDENUMPROC callback = (hWnd, lParam) -&gt; {\r\n                    int used = User32_h.GetWindowTextW(hWnd, lpString, maxChars);\r\n                    if (used &gt; 0) {\r\n                        String text = toJavaString(lpString, used);\r\n                        System.out.format(&quot;hWnd:%x lParam:%x =&gt; `%s`%n&quot;, hWnd.toRawLongValue(), lParam, text);\r\n                        // JDK20: System.out.format(&quot;hWnd:%x lParam:%x =&gt; `%s`%n&quot;, hWnd.address(), lParam, text);\r\n                        if (used &gt;= maxChars) {\r\n                            System.out.format(&quot;*** Oops: increase maxChars &gt; %d, or call GetWindowTextLength first ***%n&quot;, used);\r\n                        }\r\n                        windowNames.put(hWnd.toRawLongValue(), text);\r\n                        // JDK20: windowNames.put(hWnd.address(), text);\r\n                    }\r\n                    return isRunning;\r\n                };\r\n    \r\n                final MemorySegment ewProc = WNDENUMPROC.allocate(callback, arena);\r\n                // JDK20: final MemorySegment ewProc = WNDENUMPROC.allocate(callback, arena.scope());\r\n    \r\n                // Note that someParam is passed to the callback as lParam value\r\n                int rc = User32_h.EnumWindows(ewProc, someParam);\r\n                System.out.format(&quot;EnumWindows rc:%s%n&quot;, rc == 0 ? &quot;FAIL&quot;:&quot;OK&quot;);\r\n                if (rc == 0) {\r\n                    throw new RuntimeException(&quot;EnumWindows failed rc=&quot;+rc);\r\n                }\r\n            }\r\n            System.out.format(&quot;Found windowNames: %s%n&quot;, windowNames.toString());\r\n        }\r\n    }\r\n\r\nThe standalone jextract is used to generate bindings for calling native code. You need to create a header `User32.h` referencing suitable Windows API headers:\r\n\r\n    echo #include ^&lt;shlobj_core.h^&gt; &gt; User32.h\r\n\r\nRun jextract to generate bindings for a suitable set of Windows APIs:\r\n\r\n    set JEXTRACT_ARGS=--source -luser32 User32.h -t somepackage --output java\r\n    set JEXTRACT_SYMBOLS=--include-macro TRUE --include-function EnumWindows --include-function GetWindowTextW --include-function GetWindowTextLengthW --include-typedef  WNDENUMPROC\r\n    jextract %JEXTRACT_ARGS% %JEXTRACT_SYMBOLS%\r\n\r\nYou can also save symbols to a file for easy editing, and re-generate by replacing use of `%JEXTRACT_SYMBOLS%` above by `@your.symbols`.\r\n\r\nSee also:\r\n\r\n - Holger&#39;s answer [Windows wide string to Java String conversion][2]. \r\n - [EnumWindows][3]\r\n - [GetWindowTextW][4]\r\n\r\n\r\n  [1]: https://jdk.java.net/jextract/\r\n  [2]: https://stackoverflow.com/questions/74250504/equivalent-of-memorysegment-getutf8string-for-utf-16/74253747\r\n  [3]: https://learn.microsoft.com/en-us/windows/win32/api/winuser/nf-winuser-enumwindows\r\n  [4]: https://learn.microsoft.com/en-us/windows/win32/api/winuser/nf-winuser-getwindowtextw","title":"Get titles of Non-Java Windows in Java","body":"<p>You can now call into native Windows APIs to read the titles of non-java windows with pure-Java code using Foreign Memory API and code bindings generated by a compatible <a href=\"https://jdk.java.net/jextract/\" rel=\"nofollow noreferrer\">jextract</a>.</p>\n<p>This example works with the preview code in JDK19 release and is the equivalent to Hovercraft Full Of Eels answer:</p>\n<pre><code>/** \n * Run with Windows JDK19 and preview enabled:\n * jdk-19\\bin\\java --enable-native-access=ALL-UNNAMED --enable-preview -cp your.jar EnumWindowsDemo\n */\npublic class EnumWindowsDemo {\n    // Wide to Java String\n    private static String toJavaString(MemorySegment wide, int len) {\n        final CharBuffer cb = wide.asByteBuffer().order(ByteOrder.nativeOrder()).asCharBuffer();\n        return cb.limit(len).toString();\n    }\n    public static void main(String[] args) {\n        // TODO: You could use someParam to detect specific hWnd inside the callback\n        long someParam = 0x1234;\n\n        final int isRunning = User32_h.TRUE();\n        final int maxChars = 1024;\n\n        System.out.format(&quot;EnumWindows Panama 19 Demo Java %s%n&quot;, System.getProperty(&quot;java.runtime.version&quot;));\n\n        HashMap&lt;Long,String&gt; windowNames = new HashMap&lt;&gt;();\n        try(MemorySession arena = MemorySession.openConfined()) {\n        // JDK20 try(Arena arena = Arena.openConfined()) {\n            MemorySegment lpString = arena.allocateArray(JAVA_CHAR, maxChars);\n\n            // Windows callback WNDENUMPROC(MemorySegment hwnd, long lParam)\n            WNDENUMPROC callback = (hWnd, lParam) -&gt; {\n                int used = User32_h.GetWindowTextW(hWnd, lpString, maxChars);\n                if (used &gt; 0) {\n                    String text = toJavaString(lpString, used);\n                    System.out.format(&quot;hWnd:%x lParam:%x =&gt; `%s`%n&quot;, hWnd.toRawLongValue(), lParam, text);\n                    // JDK20: System.out.format(&quot;hWnd:%x lParam:%x =&gt; `%s`%n&quot;, hWnd.address(), lParam, text);\n                    if (used &gt;= maxChars) {\n                        System.out.format(&quot;*** Oops: increase maxChars &gt; %d, or call GetWindowTextLength first ***%n&quot;, used);\n                    }\n                    windowNames.put(hWnd.toRawLongValue(), text);\n                    // JDK20: windowNames.put(hWnd.address(), text);\n                }\n                return isRunning;\n            };\n\n            final MemorySegment ewProc = WNDENUMPROC.allocate(callback, arena);\n            // JDK20: final MemorySegment ewProc = WNDENUMPROC.allocate(callback, arena.scope());\n\n            // Note that someParam is passed to the callback as lParam value\n            int rc = User32_h.EnumWindows(ewProc, someParam);\n            System.out.format(&quot;EnumWindows rc:%s%n&quot;, rc == 0 ? &quot;FAIL&quot;:&quot;OK&quot;);\n            if (rc == 0) {\n                throw new RuntimeException(&quot;EnumWindows failed rc=&quot;+rc);\n            }\n        }\n        System.out.format(&quot;Found windowNames: %s%n&quot;, windowNames.toString());\n    }\n}\n</code></pre>\n<p>The standalone jextract is used to generate bindings for calling native code. You need to create a header <code>User32.h</code> referencing suitable Windows API headers:</p>\n<pre><code>echo #include ^&lt;shlobj_core.h^&gt; &gt; User32.h\n</code></pre>\n<p>Run jextract to generate bindings for a suitable set of Windows APIs:</p>\n<pre><code>set JEXTRACT_ARGS=--source -luser32 User32.h -t somepackage --output java\nset JEXTRACT_SYMBOLS=--include-macro TRUE --include-function EnumWindows --include-function GetWindowTextW --include-function GetWindowTextLengthW --include-typedef  WNDENUMPROC\njextract %JEXTRACT_ARGS% %JEXTRACT_SYMBOLS%\n</code></pre>\n<p>You can also save symbols to a file for easy editing, and re-generate by replacing use of <code>%JEXTRACT_SYMBOLS%</code> above by <code>@your.symbols</code>.</p>\n<p>See also:</p>\n<ul>\n<li>Holger's answer <a href=\"https://stackoverflow.com/questions/74250504/equivalent-of-memorysegment-getutf8string-for-utf-16/74253747\">Windows wide string to Java String conversion</a>.</li>\n<li><a href=\"https://learn.microsoft.com/en-us/windows/win32/api/winuser/nf-winuser-enumwindows\" rel=\"nofollow noreferrer\">EnumWindows</a></li>\n<li><a href=\"https://learn.microsoft.com/en-us/windows/win32/api/winuser/nf-winuser-getwindowtextw\" rel=\"nofollow noreferrer\">GetWindowTextW</a></li>\n</ul>\n"}],"owner":{"account_id":358202,"reputation":141,"user_id":698816,"display_name":"user698816"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8727,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":3,"score":10,"last_activity_date":1675017653,"creation_date":1339885116,"question_id":11067484,"body_markdown":"    Window.getWindows();\r\n\r\nDoesn&#39;t get all the open windows, just the java ones.  Is there a way to get all the windows the operating system has open.  I&#39;m making a java taskbar.","title":"Get titles of Non-Java Windows in Java","body":"<pre><code>Window.getWindows();\n</code></pre>\n\n<p>Doesn't get all the open windows, just the java ones.  Is there a way to get all the windows the operating system has open.  I'm making a java taskbar.</p>\n"},{"tags":["java","selenium","xpath","css-selectors","webdriverwait"],"answers":[{"tags":[],"owner":{"account_id":2078183,"reputation":3320,"user_id":1850925,"display_name":"Arjit"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1433394928,"creation_date":1433394014,"answer_id":30635251,"question_id":30635228,"body_markdown":"Use\r\n\r\n    driver.findElement(By.linkText(&quot;App Configuration&quot;)).click()\r\n\r\nOther Approaches will be\r\n\r\n    JavascriptLibrary jsLib = new JavascriptLibrary(); \r\n    jsLib.callEmbeddedSelenium(selenium, &quot;triggerMouseEventAt&quot;, elementToClick,&quot;click&quot;, &quot;0,0&quot;);\r\n\r\nor\r\n\r\n    ((JavascriptExecutor) driver).executeScript(&quot;arguments[0].click();&quot;, elementToClick);\r\n\r\nFor detailed answer, [View this post][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/12082946/selenium-webdriver-org-openqa-selenium-elementnotvisibleexception-element-is-n","title":"How to click a href link using Selenium","body":"<p>Use</p>\n\n<pre><code>driver.findElement(By.linkText(\"App Configuration\")).click()\n</code></pre>\n\n<p>Other Approaches will be</p>\n\n<pre><code>JavascriptLibrary jsLib = new JavascriptLibrary(); \njsLib.callEmbeddedSelenium(selenium, \"triggerMouseEventAt\", elementToClick,\"click\", \"0,0\");\n</code></pre>\n\n<p>or</p>\n\n<pre><code>((JavascriptExecutor) driver).executeScript(\"arguments[0].click();\", elementToClick);\n</code></pre>\n\n<p>For detailed answer, <a href=\"https://stackoverflow.com/questions/12082946/selenium-webdriver-org-openqa-selenium-elementnotvisibleexception-element-is-n\">View this post</a></p>\n"},{"tags":[],"owner":{"account_id":4725054,"reputation":16161,"user_id":3821981,"accept_rate":62,"display_name":"Saifur"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1433394169,"creation_date":1433394169,"answer_id":30635281,"question_id":30635228,"body_markdown":"Seems like the `a` tag is hidden. Remember Selenium is not able to interact with hidden element. `Javascript` is the only option in that case.\r\n\r\n    By css = By.cssSelector(&quot;a[href=&#39;/docs/configuration&#39;]&quot;);\r\n    WebElement element = driver.findElement(css);\r\n    ((JavascriptExecutor)driver).executeScript(&quot;arguments[0].click();&quot; , element);","title":"How to click a href link using Selenium","body":"<p>Seems like the <code>a</code> tag is hidden. Remember Selenium is not able to interact with hidden element. <code>Javascript</code> is the only option in that case.</p>\n\n<pre><code>By css = By.cssSelector(\"a[href='/docs/configuration']\");\nWebElement element = driver.findElement(css);\n((JavascriptExecutor)driver).executeScript(\"arguments[0].click();\" , element);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6140349,"reputation":2598,"user_id":4787944,"accept_rate":57,"display_name":"Saritha G"},"down_vote_count":0,"up_vote_count":34,"is_accepted":false,"score":34,"last_activity_date":1433409445,"creation_date":1433409445,"answer_id":30639812,"question_id":30635228,"body_markdown":"     webDriver.findElement(By.xpath(&quot;//a[@href=&#39;/docs/configuration&#39;]&quot;)).click();\r\n\r\nThe above line works fine. Please remove the space after href. \r\n\r\nIs that element is visible in the page, if the element is not visible please scroll down the page then perform click action.","title":"How to click a href link using Selenium","body":"<pre><code> webDriver.findElement(By.xpath(\"//a[@href='/docs/configuration']\")).click();\n</code></pre>\n\n<p>The above line works fine. Please remove the space after href. </p>\n\n<p>Is that element is visible in the page, if the element is not visible please scroll down the page then perform click action.</p>\n"},{"tags":[],"owner":{"account_id":9697080,"reputation":1,"user_id":7193158,"display_name":"Nitinkumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1508734727,"creation_date":1479800878,"answer_id":40736368,"question_id":30635228,"body_markdown":"You can use this method:\r\n\r\nFor the links if you use `linkText();` it is more effective than the any other locator. \r\n\r\n    driver.findElement(By.linkText(&quot;App Configuration&quot;)).click();","title":"How to click a href link using Selenium","body":"<p>You can use this method:</p>\n\n<p>For the links if you use <code>linkText();</code> it is more effective than the any other locator. </p>\n\n<pre><code>driver.findElement(By.linkText(\"App Configuration\")).click();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12997530,"reputation":1,"user_id":9394604,"display_name":"omkar mahajan"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1519282437,"creation_date":1519278869,"answer_id":48920534,"question_id":30635228,"body_markdown":"You can use `xpath` as follows, try this one :\r\n\r\n\r\n    driver.findElement(By.xpath(&quot;(.//[@href=&#39;/docs/configuration&#39;])&quot;)).click();\r\n\r\n","title":"How to click a href link using Selenium","body":"<p>You can use <code>xpath</code> as follows, try this one :</p>\n\n<pre><code>driver.findElement(By.xpath(\"(.//[@href='/docs/configuration'])\")).click();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12947355,"reputation":883,"user_id":9361289,"display_name":"Juhil Somaiya"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1519581370,"creation_date":1519579246,"answer_id":48976295,"question_id":30635228,"body_markdown":"Use an explicit `wait` for the element like this:\r\n\r\n    WebDriverWait wait1 = new WebDriverWait(driver, 500);\r\n    wait1.until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;path of element&quot;))).click();\r\n","title":"How to click a href link using Selenium","body":"<p>Use an explicit <code>wait</code> for the element like this:</p>\n\n<pre><code>WebDriverWait wait1 = new WebDriverWait(driver, 500);\nwait1.until(ExpectedConditions.visibilityOfElementLocated(By.xpath(\"path of element\"))).click();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16478730,"reputation":11,"user_id":11905979,"display_name":"user11905979"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1565334990,"creation_date":1565334741,"answer_id":57425083,"question_id":30635228,"body_markdown":"&gt; How to click on link without  using click method in selenum?\r\n\r\nThis is a tricky question. Follow the below steps:\r\n\r\n    driver.get(&quot;https://www.google.com&quot;);\r\n    String gmaillink= driver.findElement(By.xpath(&quot;//a[@href=&#39;https://mail.google.com/mail/?tab=wm&amp;ogbl&#39;]&quot;)).getAttribute(&quot;href&quot;);\r\n    System.out.println(gmaillink);\r\n    driver.get(gmaillink);","title":"How to click a href link using Selenium","body":"<blockquote>\n  <p>How to click on link without  using click method in selenum?</p>\n</blockquote>\n\n<p>This is a tricky question. Follow the below steps:</p>\n\n<pre><code>driver.get(\"https://www.google.com\");\nString gmaillink= driver.findElement(By.xpath(\"//a[@href='https://mail.google.com/mail/?tab=wm&amp;ogbl']\")).getAttribute(\"href\");\nSystem.out.println(gmaillink);\ndriver.get(gmaillink);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14913177,"reputation":116,"user_id":10767933,"display_name":"Salman Arshad"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1568110516,"creation_date":1568110516,"answer_id":57868629,"question_id":30635228,"body_markdown":"Try to use Action class to reach the element\r\n\r\n    Actions action = new Actions(driver);\r\n    action.MoveToElement(driver.findElement(By.xpath(&quot;//a[text()=&#39;AppConfiguration&#39;]&quot;)));\r\n    action.Perform();\r\n\r\n","title":"How to click a href link using Selenium","body":"<p>Try to use Action class to reach the element</p>\n\n<pre><code>Actions action = new Actions(driver);\naction.MoveToElement(driver.findElement(By.xpath(\"//a[text()='AppConfiguration']\")));\naction.Perform();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17189760,"reputation":41,"user_id":12443722,"display_name":"evan"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1574843893,"creation_date":1574839834,"answer_id":59065139,"question_id":30635228,"body_markdown":" \r\nThi is your code : \r\n\r\n    Driver.findElement(By.xpath(//a[@href =&#39;/docs/configuration&#39;]&quot;)).click();\r\n\r\nYou missed the Quotation mark\r\n\r\nit should be as below \r\n\r\n    Driver.findElement(By.xpath(&quot;//a[@href=&#39;/docs/configuration&#39;]&quot;)).click();\r\n\r\nHope this helps!","title":"How to click a href link using Selenium","body":"<p>Thi is your code : </p>\n\n<pre><code>Driver.findElement(By.xpath(//a[@href ='/docs/configuration']\")).click();\n</code></pre>\n\n<p>You missed the Quotation mark</p>\n\n<p>it should be as below </p>\n\n<pre><code>Driver.findElement(By.xpath(\"//a[@href='/docs/configuration']\")).click();\n</code></pre>\n\n<p>Hope this helps!</p>\n"},{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1605523789,"creation_date":1605523789,"answer_id":64856614,"question_id":30635228,"body_markdown":"To `click()` on the element with text as **App Configuration** you can use either of the following [Locator Strategies](https://stackoverflow.com/questions/48369043/official-locator-strategies-for-the-webdriver/48376890#48376890):\r\n\r\n- `linkText`:\r\n\r\n\t  driver.findElement(By.linkText(&quot;App Configuration&quot;)).click();\r\n\r\n- `cssSelector`:\r\n\r\n\t  driver.findElement(By.cssSelector(&quot;a[href=&#39;/docs/configuration&#39;]&quot;)).click();\r\n           \t\r\n- `xpath`:\r\n\r\n\t  driver.findElement(By.xpath(&quot;//a[@href=&#39;/docs/configuration&#39; and text()=&#39;App Configuration&#39;]&quot;)).click();\r\n\r\n\r\n----------\r\n\r\n\r\nIdeally, to `click()` on the element you need to induce [WebDriverWait](https://stackoverflow.com/questions/48989049/selenium-how-selenium-identifies-elements-visible-or-not-is-is-possible-that-i/48990165#48990165) for the `elementToBeClickable()` and you can use either of the following [Locator Strategies](https://stackoverflow.com/questions/48369043/official-locator-strategies-for-the-webdriver/48376890#48376890):\r\n\r\n- `linkText`:\r\n\r\n\t  new WebDriverWait(driver, 20).until(ExpectedConditions.elementToBeClickable(By.linkText(&quot;App Configuration&quot;))).click();\r\n           \t\r\n- `cssSelector`:\r\n\r\n\t  new WebDriverWait(driver, 20).until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;a[href=&#39;/docs/configuration&#39;]&quot;))).click();\r\n           \t\r\n- `xpath`:\r\n\r\n\t  new WebDriverWait(driver, 20).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//a[@href=&#39;/docs/configuration&#39; and text()=&#39;App Configuration&#39;]&quot;))).click();\r\n\r\n\r\n----------\r\n\r\n\r\n\t  \r\nReferences\r\n----------\r\nYou can find a couple of relevant detailed discussions in:\r\n\r\n- [org.openqa.selenium.ElementNotVisibleException: Element is not currently visible while clicking a checkbox through SeleniumWebDriver and Java](https://stackoverflow.com/questions/52720891/org-openqa-selenium-elementnotvisibleexception-element-is-not-currently-visible/52744466#52744466)\r\n- [How to resolve org.openqa.selenium.ElementNotVisibleException using Selenium with Java in Amazon Sign In](https://stackoverflow.com/questions/48358375/how-to-resolve-org-openqa-selenium-elementnotvisibleexception-using-selenium-wit/48358593#48358593)","title":"How to click a href link using Selenium","body":"<p>To <code>click()</code> on the element with text as <strong>App Configuration</strong> you can use either of the following <a href=\"https://stackoverflow.com/questions/48369043/official-locator-strategies-for-the-webdriver/48376890#48376890\">Locator Strategies</a>:</p>\n<ul>\n<li><p><code>linkText</code>:</p>\n<pre><code>driver.findElement(By.linkText(&quot;App Configuration&quot;)).click();\n</code></pre>\n</li>\n<li><p><code>cssSelector</code>:</p>\n<pre><code>driver.findElement(By.cssSelector(&quot;a[href='/docs/configuration']&quot;)).click();\n</code></pre>\n</li>\n<li><p><code>xpath</code>:</p>\n<pre><code>driver.findElement(By.xpath(&quot;//a[@href='/docs/configuration' and text()='App Configuration']&quot;)).click();\n</code></pre>\n</li>\n</ul>\n<hr />\n<p>Ideally, to <code>click()</code> on the element you need to induce <a href=\"https://stackoverflow.com/questions/48989049/selenium-how-selenium-identifies-elements-visible-or-not-is-is-possible-that-i/48990165#48990165\">WebDriverWait</a> for the <code>elementToBeClickable()</code> and you can use either of the following <a href=\"https://stackoverflow.com/questions/48369043/official-locator-strategies-for-the-webdriver/48376890#48376890\">Locator Strategies</a>:</p>\n<ul>\n<li><p><code>linkText</code>:</p>\n<pre><code>new WebDriverWait(driver, 20).until(ExpectedConditions.elementToBeClickable(By.linkText(&quot;App Configuration&quot;))).click();\n</code></pre>\n</li>\n<li><p><code>cssSelector</code>:</p>\n<pre><code>new WebDriverWait(driver, 20).until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;a[href='/docs/configuration']&quot;))).click();\n</code></pre>\n</li>\n<li><p><code>xpath</code>:</p>\n<pre><code>new WebDriverWait(driver, 20).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//a[@href='/docs/configuration' and text()='App Configuration']&quot;))).click();\n</code></pre>\n</li>\n</ul>\n<hr />\n<h2>References</h2>\n<p>You can find a couple of relevant detailed discussions in:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/52720891/org-openqa-selenium-elementnotvisibleexception-element-is-not-currently-visible/52744466#52744466\">org.openqa.selenium.ElementNotVisibleException: Element is not currently visible while clicking a checkbox through SeleniumWebDriver and Java</a></li>\n<li><a href=\"https://stackoverflow.com/questions/48358375/how-to-resolve-org-openqa-selenium-elementnotvisibleexception-using-selenium-wit/48358593#48358593\">How to resolve org.openqa.selenium.ElementNotVisibleException using Selenium with Java in Amazon Sign In</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":21486016,"reputation":11,"user_id":15832638,"display_name":"Valley"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1620132227,"creation_date":1620132227,"answer_id":67385023,"question_id":30635228,"body_markdown":"These answers seem a bit too complicated. This worked for me.\r\nGive the svg tag an id and then find the Element by that id:\r\n\r\nThis is your svg:\r\n\r\n    &lt;svg id=&quot;element-id&quot;&gt;&lt;use href=&quot;/....&quot;&gt;&lt;/use&gt;&lt;/svg&gt;\r\n\r\nThen do it like this:\r\n\r\n    driver.findElement(By.id(&quot;element-id&quot;)).click();","title":"How to click a href link using Selenium","body":"<p>These answers seem a bit too complicated. This worked for me.\nGive the svg tag an id and then find the Element by that id:</p>\n<p>This is your svg:</p>\n<pre><code>&lt;svg id=&quot;element-id&quot;&gt;&lt;use href=&quot;/....&quot;&gt;&lt;/use&gt;&lt;/svg&gt;\n</code></pre>\n<p>Then do it like this:</p>\n<pre><code>driver.findElement(By.id(&quot;element-id&quot;)).click();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11117664,"reputation":61,"user_id":8161523,"display_name":"Rohit Bahadur"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675017052,"creation_date":1675017052,"answer_id":75277382,"question_id":30635228,"body_markdown":"Why not try using this one :  .name of the class &gt; a\r\n\r\nWhat we mean is fetch the class followed by its href\r\n\r\ne.g. could be (.offset3 &gt;a).click()  , here offset3 is the class and a is the anchor tag \r\n\r\nsample code\r\n[![enter image description here][1]][1]\r\n \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8W3ZT.png","title":"How to click a href link using Selenium","body":"<p>Why not try using this one :  .name of the class &gt; a</p>\n<p>What we mean is fetch the class followed by its href</p>\n<p>e.g. could be (.offset3 &gt;a).click()  , here offset3 is the class and a is the anchor tag</p>\n<p>sample code\n<a href=\"https://i.stack.imgur.com/8W3ZT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8W3ZT.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":301468,"reputation":3832,"user_id":609219,"accept_rate":63,"display_name":"Psl"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":284118,"favorite_count":0,"down_vote_count":1,"up_vote_count":29,"answer_count":12,"score":28,"last_activity_date":1675017052,"creation_date":1433393871,"question_id":30635228,"body_markdown":"I have a *html* `href` link\r\n\r\n    &lt;a href=&quot;/docs/configuration&quot;&gt;App Configuration&lt;/a&gt;\r\n\r\nusing Selenium I need to click the link. Currently, I am using below code -\r\n\r\n    Driver.findElement(By.xpath(&quot;//a[text()=&#39;App Configuration&#39;]&quot;)).click(); \r\n\r\nBut it&#39;s not redirecting to the page. I also tried below code -\r\n\r\n    Driver.findElement(By.xpath(//a[@href =&#39;/docs/configuration&#39;]&quot;)).click();\r\n\r\nBut this is throwing below exception -\r\n \r\n    org.openqa.selenium.ElementNotVisibleException: Element is not currently visible and so may not be interacted with\r\n    Command duration or timeout: 13 milliseconds\r\n\r\nThe link is visible and page is completely loaded. I don&#39;t know what&#39;s wrong with my code.","title":"How to click a href link using Selenium","body":"<p>I have a <em>html</em> <code>href</code> link</p>\n<pre><code>&lt;a href=&quot;/docs/configuration&quot;&gt;App Configuration&lt;/a&gt;\n</code></pre>\n<p>using Selenium I need to click the link. Currently, I am using below code -</p>\n<pre><code>Driver.findElement(By.xpath(&quot;//a[text()='App Configuration']&quot;)).click(); \n</code></pre>\n<p>But it's not redirecting to the page. I also tried below code -</p>\n<pre><code>Driver.findElement(By.xpath(//a[@href ='/docs/configuration']&quot;)).click();\n</code></pre>\n<p>But this is throwing below exception -</p>\n<pre><code>org.openqa.selenium.ElementNotVisibleException: Element is not currently visible and so may not be interacted with\nCommand duration or timeout: 13 milliseconds\n</code></pre>\n<p>The link is visible and page is completely loaded. I don't know what's wrong with my code.</p>\n"},{"tags":["java","iterator"],"answers":[{"tags":[],"owner":{"account_id":20906298,"reputation":332,"user_id":15358155,"display_name":"chameerar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675015630,"creation_date":1650181522,"answer_id":71900143,"question_id":71899972,"body_markdown":"The issue is in the line `sortedArray = (E[]) (new Object[size()]);`. You cannot initialize a generic array like this. To initialize the `sortedArray` try below.\r\n\r\n```lang-java\r\nsortedArray =(E[]) Array.newInstance(clazz, size())\r\n```\r\nBe aware that you need to provide the class of the required object as the `clazz`\r\n\r\nSee the answers for this question for more details. https://stackoverflow.com/questions/529085/how-to-create-a-generic-array-in-java?page=1&amp;tab=scoredesc#tab-top","title":"Java BST iterator using an array","body":"<p>The issue is in the line <code>sortedArray = (E[]) (new Object[size()]);</code>. You cannot initialize a generic array like this. To initialize the <code>sortedArray</code> try below.</p>\n<pre class=\"lang-java prettyprint-override\"><code>sortedArray =(E[]) Array.newInstance(clazz, size())\n</code></pre>\n<p>Be aware that you need to provide the class of the required object as the <code>clazz</code></p>\n<p>See the answers for this question for more details. <a href=\"https://stackoverflow.com/questions/529085/how-to-create-a-generic-array-in-java?page=1&amp;tab=scoredesc#tab-top\">How to create a generic array in Java?</a></p>\n"}],"owner":{"account_id":22713030,"reputation":111,"user_id":16878731,"display_name":"learner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1675015630,"creation_date":1650179234,"question_id":71899972,"body_markdown":"Class definition for Binary Search Tree in Java: \r\n\r\n    public class BST&lt;E extends Comparable&lt;E&gt;&gt; implements Iterable&lt;E&gt;, Cloneable\r\n\r\n```lang-java\r\npublic Iterator&lt;E&gt; iterator() {\r\n        return new BSTInOrderIterator();\r\n    }\r\n\r\n    private class BSTInOrderIterator implements Iterator&lt;E&gt; {\r\n        private int sortedArrayFillerIndex;\r\n        private final E[] sortedArray;\r\n\r\n        private int ptr;\r\n\r\n        public BSTInOrderIterator() {\r\n            sortedArrayFillerIndex = 0;\r\n            sortedArray = (E[]) (new Object[size()]);\r\n            inOrder(root);\r\n            ptr = 0;\r\n        }\r\n\r\n        private void inOrder(Node x) {\r\n            if (x == null) return;\r\n            inOrder(x.left);\r\n            sortedArray[sortedArrayFillerIndex++] = x.value;\r\n            inOrder(x.right);\r\n        }\r\n\r\n        @Override\r\n        public boolean hasNext() {\r\n            return ptr &lt; size();\r\n        }\r\n\r\n        @Override\r\n        public E next() {\r\n            return sortedArray[ptr++];\r\n        }\r\n    }\r\n```\r\n\r\n\r\nIn the iterator, I first build a sorted array through an inorder traversal of my BST. \r\nHowever, I get class cast exception in the constructor of the BST iterator. How do I handle that? ","title":"Java BST iterator using an array","body":"<p>Class definition for Binary Search Tree in Java:</p>\n<pre><code>public class BST&lt;E extends Comparable&lt;E&gt;&gt; implements Iterable&lt;E&gt;, Cloneable\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public Iterator&lt;E&gt; iterator() {\n        return new BSTInOrderIterator();\n    }\n\n    private class BSTInOrderIterator implements Iterator&lt;E&gt; {\n        private int sortedArrayFillerIndex;\n        private final E[] sortedArray;\n\n        private int ptr;\n\n        public BSTInOrderIterator() {\n            sortedArrayFillerIndex = 0;\n            sortedArray = (E[]) (new Object[size()]);\n            inOrder(root);\n            ptr = 0;\n        }\n\n        private void inOrder(Node x) {\n            if (x == null) return;\n            inOrder(x.left);\n            sortedArray[sortedArrayFillerIndex++] = x.value;\n            inOrder(x.right);\n        }\n\n        @Override\n        public boolean hasNext() {\n            return ptr &lt; size();\n        }\n\n        @Override\n        public E next() {\n            return sortedArray[ptr++];\n        }\n    }\n</code></pre>\n<p>In the iterator, I first build a sorted array through an inorder traversal of my BST.\nHowever, I get class cast exception in the constructor of the BST iterator. How do I handle that?</p>\n"},{"tags":["java","rest","jpa","spring-boot"],"comments":[{"owner":{"account_id":5478423,"reputation":1520,"user_id":4355748,"accept_rate":56,"display_name":"Rana_S"},"score":0,"creation_date":1450024017,"post_id":34253282,"comment_id":56248230,"body_markdown":"Did you try with (generator = ObjectIdGenerators.PropertyGenerator.class)?","body":"Did you try with (generator = ObjectIdGenerators.PropertyGenerator.class)?"},{"owner":{"account_id":5478423,"reputation":1520,"user_id":4355748,"accept_rate":56,"display_name":"Rana_S"},"score":0,"creation_date":1450024381,"post_id":34253282,"comment_id":56248358,"body_markdown":"I am not sure but instead of using annotation on the collection, can you annotate respective classes and try?","body":"I am not sure but instead of using annotation on the collection, can you annotate respective classes and try?"},{"owner":{"account_id":5478423,"reputation":1520,"user_id":4355748,"accept_rate":56,"display_name":"Rana_S"},"score":0,"creation_date":1450024523,"post_id":34253282,"comment_id":56248421,"body_markdown":"Can you put this annotation on the class itself: @JsonIdentityInfo(generator = ObjectIdGenerators.IntSequenceGenerator.class) public class Teacher {////} and same for the SchoolClass?","body":"Can you put this annotation on the class itself: @JsonIdentityInfo(generator = ObjectIdGenerators.IntSequenceGenerator.class) public class Teacher {////} and same for the SchoolClass?"},{"owner":{"account_id":3217427,"reputation":895,"user_id":2715720,"accept_rate":82,"display_name":"rala"},"score":0,"creation_date":1450025977,"post_id":34253282,"comment_id":56249000,"body_markdown":"this works now; but from the school class I get 4 (OneToMany)","body":"this works now; but from the school class I get 4 (OneToMany)"},{"owner":{"account_id":5478423,"reputation":1520,"user_id":4355748,"accept_rate":56,"display_name":"Rana_S"},"score":0,"creation_date":1450026367,"post_id":34253282,"comment_id":56249143,"body_markdown":"You mean School.class has 4 Teacher.class?","body":"You mean School.class has 4 Teacher.class?"},{"owner":{"account_id":3217427,"reputation":895,"user_id":2715720,"accept_rate":82,"display_name":"rala"},"score":0,"creation_date":1450026397,"post_id":34253282,"comment_id":56249162,"body_markdown":"no the number instead of object ^^&#39;","body":"no the number instead of object ^^&#39;"},{"owner":{"account_id":5478423,"reputation":1520,"user_id":4355748,"accept_rate":56,"display_name":"Rana_S"},"score":0,"creation_date":1450026513,"post_id":34253282,"comment_id":56249206,"body_markdown":"Did you remove the @JsonIdentityInfo from property and put them in the Teacher.class and SchoolClass.class?","body":"Did you remove the @JsonIdentityInfo from property and put them in the Teacher.class and SchoolClass.class?"}],"owner":{"account_id":3217427,"reputation":895,"user_id":2715720,"accept_rate":82,"display_name":"rala"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":616,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675014986,"creation_date":1450023572,"question_id":34253282,"body_markdown":"A question from the past: [Spring boot with JPA and ManyToMany: JsonIdentifyInfo not working properly][1]\r\n\r\n## The Code\r\n**Teacher**\r\n\r\n    @ManyToMany\r\n    @JsonIdentityInfo(generator = ObjectIdGenerators.IntSequenceGenerator.class)\r\n    private Set&lt;SchoolClass&gt; classes = new HashSet&lt;&gt;();\r\n\r\n**SchoolClass**\r\n\r\n    @ManyToMany\r\n    @JsonIdentityInfo(generator = ObjectIdGenerators.IntSequenceGenerator.class)\r\n    private Set&lt;Teacher&gt; teachers = new HashSet&lt;&gt;();\r\n\r\n\r\nThe output from teacher is now:\r\n\r\n\t{\r\n\t  &quot;id&quot;: 1,\r\n\t  // reduced content\r\n\t  &quot;classes&quot;: [\r\n\t    {\r\n\t     @id: 1,\r\n\t     id: 1,\r\n\t     // reduced content\r\n        },\r\n\t    3 // &lt;- no class object\r\n\t  ]\r\n\t}\r\n\r\nIn the database itself there is everything correct linked.\r\nThe `getClasses()` from `Teacher` method has also the correct object in the array.\r\n\r\nWhy is there just `3` instead of the object?&lt;br&gt;\r\n_btw: the correct object id would be 4_\r\n\r\n\r\n  [1]: https://stackoverflow.com/q/33285941/2715720","title":"@JsonIdentityInfo ObjectIdGenerators returning 3 instead of object","body":"<p>A question from the past: <a href=\"https://stackoverflow.com/q/33285941/2715720\">Spring boot with JPA and ManyToMany: JsonIdentifyInfo not working properly</a></p>\n\n<h2>The Code</h2>\n\n<p><strong>Teacher</strong></p>\n\n<pre><code>@ManyToMany\n@JsonIdentityInfo(generator = ObjectIdGenerators.IntSequenceGenerator.class)\nprivate Set&lt;SchoolClass&gt; classes = new HashSet&lt;&gt;();\n</code></pre>\n\n<p><strong>SchoolClass</strong></p>\n\n<pre><code>@ManyToMany\n@JsonIdentityInfo(generator = ObjectIdGenerators.IntSequenceGenerator.class)\nprivate Set&lt;Teacher&gt; teachers = new HashSet&lt;&gt;();\n</code></pre>\n\n<p>The output from teacher is now:</p>\n\n<pre><code>{\n  \"id\": 1,\n  // reduced content\n  \"classes\": [\n    {\n     @id: 1,\n     id: 1,\n     // reduced content\n    },\n    3 // &lt;- no class object\n  ]\n}\n</code></pre>\n\n<p>In the database itself there is everything correct linked.\nThe <code>getClasses()</code> from <code>Teacher</code> method has also the correct object in the array.</p>\n\n<p>Why is there just <code>3</code> instead of the object?<br>\n<em>btw: the correct object id would be 4</em></p>\n"},{"tags":["java","rest-client","quarkus","microprofile"],"comments":[{"owner":{"account_id":1663022,"reputation":20609,"user_id":1530938,"display_name":"kolossus"},"score":0,"creation_date":1590965488,"post_id":61426237,"comment_id":109873188,"body_markdown":"From all indications, there isn&#39;t a reliable way to just configure it on the client per JAX-RS spec. All that&#39;s left to do is for you to manually take control of the situation with a `ClientRequestFilter`. In the filter, you&#39;ll watch for 302 redirects and ignore them. Make sense?","body":"From all indications, there isn&#39;t a reliable way to just configure it on the client per JAX-RS spec. All that&#39;s left to do is for you to manually take control of the situation with a <code>ClientRequestFilter</code>. In the filter, you&#39;ll watch for 302 redirects and ignore them. Make sense?"}],"owner":{"account_id":18402576,"reputation":11,"user_id":13405233,"display_name":"ukasz Sotys"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":564,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675014420,"creation_date":1587820606,"question_id":61426237,"body_markdown":"I need disable follow redirect on REST Clinet in Microprofile(Quarkus). Is there any configuration option to change this behavior?\r\n\r\nRegards,\r\nukasz","title":"Is there any option to disable follow redirect on Microprofile REST Client","body":"<p>I need disable follow redirect on REST Clinet in Microprofile(Quarkus). Is there any configuration option to change this behavior?</p>\n\n<p>Regards,\nukasz</p>\n"}],"has_more":true,"backoff":10,"quota_max":10000,"quota_remaining":9301,"page":691,"page_size":100}
