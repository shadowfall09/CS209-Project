{"items":[{"tags":["java","audio","media"],"comments":[{"owner":{"account_id":2150507,"reputation":4977,"user_id":1907026,"accept_rate":100,"display_name":"Theolodis"},"score":0,"creation_date":1391603607,"post_id":21577338,"comment_id":32593042,"body_markdown":"have you checked that it is definetly added to the classpath?","body":"have you checked that it is definetly added to the classpath?"},{"owner":{"account_id":2150507,"reputation":4977,"user_id":1907026,"accept_rate":100,"display_name":"Theolodis"},"score":0,"creation_date":1391603663,"post_id":21577338,"comment_id":32593075,"body_markdown":"possible duplicate of [Eclipse missing imports (javax.media.\\* and com.sun.media.\\*)](http://stackoverflow.com/questions/16163524/eclipse-missing-imports-javax-media-and-com-sun-media)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/16163524/eclipse-missing-imports-javax-media-and-com-sun-media\">Eclipse missing imports (javax.media.* and com.sun.media.*)</a>"},{"owner":{"display_name":"user3265784"},"score":0,"creation_date":1391603691,"post_id":21577338,"comment_id":32593094,"body_markdown":"Um truth is no. How can this be done?","body":"Um truth is no. How can this be done?"},{"owner":{"account_id":7281,"reputation":248647,"user_id":12597,"accept_rate":76,"display_name":"Ian Boyd"},"score":0,"creation_date":1656527182,"post_id":21577338,"comment_id":128597434,"body_markdown":"@Theolodis *&quot;Have you checked that `it` is definitely added to the classpath?&quot;*  What is ***it***?","body":"@Theolodis <i>&quot;Have you checked that <code>it</code> is definitely added to the classpath?&quot;</i>  What is <b><i>it</i></b>?"},{"owner":{"account_id":2150507,"reputation":4977,"user_id":1907026,"accept_rate":100,"display_name":"Theolodis"},"score":0,"creation_date":1656595489,"post_id":21577338,"comment_id":128615237,"body_markdown":"@IanBoyd that comment has been made 8 years ago, so I am not 100% sure, but my best guess would be that `it` refers to the Java Media Framework","body":"@IanBoyd that comment has been made 8 years ago, so I am not 100% sure, but my best guess would be that <code>it</code> refers to the Java Media Framework"}],"answers":[{"tags":[],"owner":{"account_id":2150507,"reputation":4977,"user_id":1907026,"accept_rate":100,"display_name":"Theolodis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1391603719,"creation_date":1391603719,"answer_id":21577473,"question_id":21577338,"body_markdown":"[Here][1] They solved that problem by rebuilding the project path in eclipse. You might want to try that.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/16163524/eclipse-missing-imports-javax-media-and-com-sun-media","title":"Why am I getting &quot;the import javax.media cannot be resolved&quot;?","body":"<p><a href=\"https://stackoverflow.com/questions/16163524/eclipse-missing-imports-javax-media-and-com-sun-media\">Here</a> They solved that problem by rebuilding the project path in eclipse. You might want to try that.</p>\n"}],"owner":{"display_name":"user3265784"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8134,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":21577473,"answer_count":1,"score":0,"last_activity_date":1656527336,"creation_date":1391603385,"question_id":21577338,"body_markdown":"I found a [sample code][1] of how to play an mp3 file. I installed the [Java Media Framework][2] as the instructions say, but then I still get this from Eclipse:\r\n\r\n&gt; the import javax.media cannot be resolved\r\n\r\non the first line of \r\n\r\n    import javax.media.*;\r\n\r\nAny ideas?\r\n\r\n\r\n  [1]: http://java-demos.blogspot.gr/2012/11/java-code-to-play-mp3-file.html\r\n  [2]: http://www.oracle.com/technetwork/java/javasebusiness/downloads/java-archive-downloads-java-client-419417.html#7372-jmf-2.1.1e-oth-JPR","title":"Why am I getting &quot;the import javax.media cannot be resolved&quot;?","body":"<p>I found a <a href=\"http://java-demos.blogspot.gr/2012/11/java-code-to-play-mp3-file.html\" rel=\"nofollow noreferrer\">sample code</a> of how to play an mp3 file. I installed the <a href=\"http://www.oracle.com/technetwork/java/javasebusiness/downloads/java-archive-downloads-java-client-419417.html#7372-jmf-2.1.1e-oth-JPR\" rel=\"nofollow noreferrer\">Java Media Framework</a> as the instructions say, but then I still get this from Eclipse:</p>\n<blockquote>\n<p>the import javax.media cannot be resolved</p>\n</blockquote>\n<p>on the first line of</p>\n<pre><code>import javax.media.*;\n</code></pre>\n<p>Any ideas?</p>\n"},{"tags":["java","windows","powershell","environment-variables","java-home"],"comments":[{"owner":{"account_id":433754,"reputation":38773,"user_id":995714,"accept_rate":56,"display_name":"phuclv"},"score":0,"creation_date":1656523088,"post_id":72805238,"comment_id":128596039,"body_markdown":"in powershell variables are accessed with `$` so obviously `%JAVA_HOME%` won&#39;t work. Besides don&#39;t use `setx` to set variables because it&#39;s supposed to run only once to set a permanent environment variable, and when necessary there are always better native powershell cmdlets to do that","body":"in powershell variables are accessed with <code>$</code> so obviously <code>%JAVA_HOME%</code> won&#39;t work. Besides don&#39;t use <code>setx</code> to set variables because it&#39;s supposed to run only once to set a permanent environment variable, and when necessary there are always better native powershell cmdlets to do that"},{"owner":{"account_id":1824630,"reputation":59,"user_id":1657780,"display_name":"Fernando Sanchez"},"score":0,"creation_date":1656523707,"post_id":72805238,"comment_id":128596260,"body_markdown":"I need it to expand at the Environment level not at the PowerShell level. So I have to insert the string %JAVA_HOME% into the PATH. Please read my full explanation, not just the title.","body":"I need it to expand at the Environment level not at the PowerShell level. So I have to insert the string %JAVA_HOME% into the PATH. Please read my full explanation, not just the title."}],"answers":[{"tags":[],"owner":{"account_id":1824630,"reputation":59,"user_id":1657780,"display_name":"Fernando Sanchez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1656527273,"creation_date":1656527273,"answer_id":72806217,"question_id":72805238,"body_markdown":"Nevermind, the code works using Set-ItemProperty. Exiting PowerShell and starting a new PowerShell instance does not cause a reload of the environment as hinted at by @[Eryk Sun][1]&#39;s [comment][2]. It is necessary to either completely sign out the user (forcing a sign in) or reboot the computer in order for %JAVA_HOME% to be expanded.\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/205580/eryk-sun\r\n  [2]: https://stackoverflow.com/a/45203408/","title":"%JAVA_HOME%\\bin not expanding string after PowerShell sets PATH","body":"<p>Nevermind, the code works using Set-ItemProperty. Exiting PowerShell and starting a new PowerShell instance does not cause a reload of the environment as hinted at by @<a href=\"https://stackoverflow.com/users/205580/eryk-sun\">Eryk Sun</a>'s <a href=\"https://stackoverflow.com/a/45203408/\">comment</a>. It is necessary to either completely sign out the user (forcing a sign in) or reboot the computer in order for %JAVA_HOME% to be expanded.</p>\n"}],"owner":{"account_id":1824630,"reputation":59,"user_id":1657780,"display_name":"Fernando Sanchez"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":226,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72806217,"answer_count":1,"score":1,"last_activity_date":1656527273,"creation_date":1656522008,"question_id":72805238,"body_markdown":"I&#39;m creating a [PowerShell script][1] to assist me in setting up the newest version of Java and JavaFX on Windows. Procedure is as follows:\r\n\r\n1. Determine newest version of Java and JavaFX from jkd.java.net and gluonhq.com\r\n2. Download archives from online sources, respectively\r\n3. Extract the archives to specified location on system\r\n4. Delete archives\r\n5. Update User Environment Variables with JAVA_HOME and PATH_TO_FX\r\n6. Append User Environment Variable PATH with %JAVA_HOME%\\bin\r\n\r\nSteps 1-5 all work as expected, step 6 however is causing some headaches. The code for step 6 as seen at the very end of the script is the following:\r\n\r\n    $p = [Environment]::GetEnvironmentVariable(&quot;PATH&quot;, [EnvironmentVariableTarget]::User)\r\n    $p = $p.Split(&quot;;&quot;, [System.StringSplitOptions]::RemoveEmptyEntries)\r\n    $p += &quot;%JAVA_HOME%\\bin&quot;\r\n    $p = ($p -join &quot;;&quot;) + &quot;;&quot;\r\n    &lt;# [Environment]::SetEnvironmentVariable(&quot;PATH&quot;, $p, [EnvironmentVariableTarget]::User) #&gt;\r\n    &lt;# Set-ItemProperty HKCU:\\Environment -Name &quot;PATH&quot; -Value $p -Type ExpandString #&gt;\r\n    setx PATH &quot;$p&quot;\r\n\r\nOriginally I used the first commented code SetEnvironmentVariable. With research I determined that this sets the Registry value to a type of **REG_SZ** (the default). That doesn&#39;t work because it requires a type of **REG_EXPAND_SZ** for anything that uses %% substitutions. The second commented code Set-ItemProperty does provide the appropriate type, but when I did a **(dir env:PATH).Value** (after launching a new PowerShell instance to ensure I had the appropriate environment) the PATH does not show the appended/expanded *%JAVA_HOME%\\bin* at all. However, checking the registry and using the *Control Panel &gt; System Properties* I can see *%JAVA_HOME%\\bin* displayed on both. So what gives?\r\n\r\nThe code only worked when I used the **setx** command. I don&#39;t have a problem with it working this way, but isn&#39;t there a more PowerShell &quot;best practices&quot; way of achieving the same result? I found this [question][2] which seems to have done precisely what I did and it seemingly worked. Is it an order of operations problem (as they use Set-ItemProperty and then SetEnvironmentVariable)?\r\n\r\n\r\n  [1]: https://github.com/grimpirate/openjdk_auto_setup\r\n  [2]: https://stackoverflow.com/questions/67818615/setting-environment-variables-as-dependent-on-other-env-vars-on-windows-via-powe","title":"%JAVA_HOME%\\bin not expanding string after PowerShell sets PATH","body":"<p>I'm creating a <a href=\"https://github.com/grimpirate/openjdk_auto_setup\" rel=\"nofollow noreferrer\">PowerShell script</a> to assist me in setting up the newest version of Java and JavaFX on Windows. Procedure is as follows:</p>\n<ol>\n<li>Determine newest version of Java and JavaFX from jkd.java.net and gluonhq.com</li>\n<li>Download archives from online sources, respectively</li>\n<li>Extract the archives to specified location on system</li>\n<li>Delete archives</li>\n<li>Update User Environment Variables with JAVA_HOME and PATH_TO_FX</li>\n<li>Append User Environment Variable PATH with %JAVA_HOME%\\bin</li>\n</ol>\n<p>Steps 1-5 all work as expected, step 6 however is causing some headaches. The code for step 6 as seen at the very end of the script is the following:</p>\n<pre><code>$p = [Environment]::GetEnvironmentVariable(&quot;PATH&quot;, [EnvironmentVariableTarget]::User)\n$p = $p.Split(&quot;;&quot;, [System.StringSplitOptions]::RemoveEmptyEntries)\n$p += &quot;%JAVA_HOME%\\bin&quot;\n$p = ($p -join &quot;;&quot;) + &quot;;&quot;\n&lt;# [Environment]::SetEnvironmentVariable(&quot;PATH&quot;, $p, [EnvironmentVariableTarget]::User) #&gt;\n&lt;# Set-ItemProperty HKCU:\\Environment -Name &quot;PATH&quot; -Value $p -Type ExpandString #&gt;\nsetx PATH &quot;$p&quot;\n</code></pre>\n<p>Originally I used the first commented code SetEnvironmentVariable. With research I determined that this sets the Registry value to a type of <strong>REG_SZ</strong> (the default). That doesn't work because it requires a type of <strong>REG_EXPAND_SZ</strong> for anything that uses %% substitutions. The second commented code Set-ItemProperty does provide the appropriate type, but when I did a <strong>(dir env:PATH).Value</strong> (after launching a new PowerShell instance to ensure I had the appropriate environment) the PATH does not show the appended/expanded <em>%JAVA_HOME%\\bin</em> at all. However, checking the registry and using the <em>Control Panel &gt; System Properties</em> I can see <em>%JAVA_HOME%\\bin</em> displayed on both. So what gives?</p>\n<p>The code only worked when I used the <strong>setx</strong> command. I don't have a problem with it working this way, but isn't there a more PowerShell &quot;best practices&quot; way of achieving the same result? I found this <a href=\"https://stackoverflow.com/questions/67818615/setting-environment-variables-as-dependent-on-other-env-vars-on-windows-via-powe\">question</a> which seems to have done precisely what I did and it seemingly worked. Is it an order of operations problem (as they use Set-ItemProperty and then SetEnvironmentVariable)?</p>\n"},{"tags":["java","https","java-8","jce","jdk6"],"comments":[{"owner":{"account_id":11561699,"reputation":4182,"user_id":8471208,"display_name":"Kevin Boone"},"score":3,"creation_date":1599231636,"post_id":63743430,"comment_id":112719783,"body_markdown":"Try running the Java application with `-Djavax.net.debug=ssl`. That usually flushes out problems like this. But if the problem is a cipher or algorithm that doesn&#39;t exist in Java 1.6, there might not be a lot you can do about it.","body":"Try running the Java application with <code>-Djavax.net.debug=ssl</code>. That usually flushes out problems like this. But if the problem is a cipher or algorithm that doesn&#39;t exist in Java 1.6, there might not be a lot you can do about it."},{"owner":{"account_id":1250548,"reputation":21,"user_id":1211043,"display_name":"user1211043"},"score":0,"creation_date":1599232952,"post_id":63743430,"comment_id":112720415,"body_markdown":"Hi Kevin, I&#180;ve updated the debug result.","body":"Hi Kevin, I&#180;ve updated the debug result."},{"owner":{"display_name":"user14215102"},"score":1,"creation_date":1599233210,"post_id":63743430,"comment_id":112720549,"body_markdown":"Does this answer your question? [HTTPS communication failed , jdk 1.6 (32 bit client) with jdk 1.8 (64 bit) server : READ: Unknown-3.3 Alert, length = 2](https://stackoverflow.com/questions/41936661/https-communication-failed-jdk-1-6-32-bit-client-with-jdk-1-8-64-bit-serve)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/41936661/https-communication-failed-jdk-1-6-32-bit-client-with-jdk-1-8-64-bit-serve\">HTTPS communication failed , jdk 1.6 (32 bit client) with jdk 1.8 (64 bit) server : READ: Unknown-3.3 Alert, length = 2</a>"}],"answers":[{"tags":[],"owner":{"account_id":7278875,"reputation":2373,"user_id":5549301,"accept_rate":38,"display_name":"Udara Seneviratne"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656527139,"creation_date":1656527139,"answer_id":72806195,"question_id":63743430,"body_markdown":"In JDK 6 and JDK 7, SSL is not enabled by default. It is required to enable the above SSL versions through the tomcat.\r\n\r\nAdd the following parameter into the `[TOMCAT_PATH]/bin/setenv.sh` file.\r\n\r\n&gt; -Dhttps.protocols=TLSv1,TLSv1.1,TLSv1.2\r\n\r\n","title":"Getting javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure","body":"<p>In JDK 6 and JDK 7, SSL is not enabled by default. It is required to enable the above SSL versions through the tomcat.</p>\n<p>Add the following parameter into the <code>[TOMCAT_PATH]/bin/setenv.sh</code> file.</p>\n<blockquote>\n<p>-Dhttps.protocols=TLSv1,TLSv1.1,TLSv1.2</p>\n</blockquote>\n"}],"owner":{"account_id":1250548,"reputation":21,"user_id":1211043,"display_name":"user1211043"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":6919,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656527139,"creation_date":1599230893,"question_id":63743430,"body_markdown":"I&#39;m having thar error when consuming an https webservice. I have that error when running a client in Java 6. I can&#39;t change the version of the Jdk. I tried with jdk8 and it works perfectly.\r\n\r\nWhat could be causing this error?\r\n\r\nI added UnlimitedJCEPolicyJDK6 JAR&#39;s;\r\n\r\nMy client code:\r\n\r\n    \t\t\tSystem.setProperty(&quot;javax.net.ssl.trustStore&quot;, &quot;bci-to-scoring-keystore-client.jks&quot;);\r\n\t\t\tSystem.setProperty(&quot;javax.net.ssl.trustStorePassword&quot;, &quot;changeit&quot;);\r\n\r\n\t\t\t\r\n\t\t\tHttpsURLConnection connection = (HttpsURLConnection) url.openConnection();\r\n\t\t\t//connection.setSSLSocketFactory(ssl.getSocketFactory());\r\n\t\t\tconnection.setRequestMethod(&quot;POST&quot;);\r\n\t\t\tconnection.setDoOutput(true);\r\n\r\n\t\t\tconnection.setRequestProperty(&quot;Content-Type&quot;, &quot;text/xml&quot;);\r\n\t\t\tconnection.setHostnameVerifier(new HostnameVerifier() {\r\n\t\t\t\tpublic boolean verify(String hostname, SSLSession session) {\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tconnection.connect();\r\n\r\n\r\nException:\r\n\r\n    javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure\r\n\tat com.sun.net.ssl.internal.ssl.Alerts.getSSLException(Alerts.java:174)\r\n\tat com.sun.net.ssl.internal.ssl.Alerts.getSSLException(Alerts.java:136)\r\n\tat com.sun.net.ssl.internal.ssl.SSLSocketImpl.recvAlert(SSLSocketImpl.java:1822)\r\n\tat com.sun.net.ssl.internal.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:1004)\r\n\tat com.sun.net.ssl.internal.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1188)\r\n\tat com.sun.net.ssl.internal.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1215)\r\n\tat com.sun.net.ssl.internal.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1199)\r\n\tat sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:434)\r\n\tat sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:166)\r\n\tat sun.net.www.protocol.https.HttpsURLConnectionImpl.connect(HttpsURLConnectionImpl.java:133)\r\n\tat com.bci.test.JavaApplication7.execute(JavaApplication7.java:70)\r\n\tat com.bci.test.JavaApplication7.main(JavaApplication7.java:33)\r\n\r\n\r\nWhen running with `-Djavax.net.debug=ssl` I have this:\r\n\r\n    keyStore is : \r\n    keyStore type is : jks\r\n    keyStore provider is : \r\n    init keystore\r\n    init keymanager of type SunX509\r\n    trustStore is: bci-to-scoring-keystore-client.jks\r\n    trustStore type is : jks\r\n    trustStore provider is : \r\n    init truststore\r\n    adding as trusted cert:\r\n      Subject: CN=*.BCITESTES.LOCAL, OU=DSI - Direccao de Sistemas de Informacao, O=&quot;BCI - Banco Comercial e de Investimentos, SA&quot;, L=Maputo, ST=Maputo, C=MZ\r\n      Issuer:  CN=BCI Enterprise Certificate Authority, DC=BCIFOMENTO, DC=CO, DC=MZ\r\n      Algorithm: RSA; Serial number: 0x43000000b6661aefae5816d09c0002000000b6\r\n      Valid from Wed Jun 03 09:10:22 CAT 2020 until Fri Jun 03 09:10:22 CAT 2022\r\n    \r\n    adding as trusted cert:\r\n      Subject: CN=cliente.bci.scoring.co.mz, OU=DSI - Direccao de Sistemas de Informacao, O=BCI - Banco Comercial e de Investimentos, C=MZ, ST=Maputo, L=Maputo\r\n      Issuer:  CN=cliente.bci.scoring.co.mz, OU=DSI - Direccao de Sistemas de Informacao, O=BCI - Banco Comercial e de Investimentos, C=MZ, ST=Maputo, L=Maputo\r\n      Algorithm: RSA; Serial number: 0x5f50ffd3\r\n      Valid from Thu Sep 03 16:38:11 CAT 2020 until Sat Aug 10 16:38:11 CAT 2120\r\n    \r\n    trigger seeding of SecureRandom\r\n    done seeding SecureRandom\r\n    Allow unsafe renegotiation: false\r\n    Allow legacy hello messages: true\r\n    Is initial handshake: true\r\n    Is secure renegotiation: false\r\n    %% No cached client session\r\n    *** ClientHello, TLSv1\r\n    RandomCookie:  GMT: 1599232592 bytes = { 73, 169, 83, 102, 108, 21, 161, 215, 189, 29, 218, 198, 42, 47, 144, 160, 202, 94, 179, 118, 28, 239, 54, 38, 199, 59, 222, 43 }\r\n    Session ID:  {}\r\n    Cipher Suites: [SSL_RSA_WITH_RC4_128_MD5, SSL_RSA_WITH_RC4_128_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, SSL_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_DSS_WITH_3DES_EDE_CBC_SHA, SSL_RSA_WITH_DES_CBC_SHA, SSL_DHE_RSA_WITH_DES_CBC_SHA, SSL_DHE_DSS_WITH_DES_CBC_SHA, SSL_RSA_EXPORT_WITH_RC4_40_MD5, SSL_RSA_EXPORT_WITH_DES40_CBC_SHA, SSL_DHE_RSA_EXPORT_WITH_DES40_CBC_SHA, SSL_DHE_DSS_EXPORT_WITH_DES40_CBC_SHA, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]\r\n    Compression Methods:  { 0 }\r\n    ***\r\n    main, WRITE: TLSv1 Handshake, length = 81\r\n    main, WRITE: SSLv2 client hello message, length = 110\r\n    main, READ: Unknown-3.3 Alert, length = 2\r\n    main, RECV TLSv1 ALERT:  fatal, handshake_failure\r\n    main, called closeSocket()\r\n    main, handling exception: javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure\r\n\r\n\r\n","title":"Getting javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure","body":"<p>I'm having thar error when consuming an https webservice. I have that error when running a client in Java 6. I can't change the version of the Jdk. I tried with jdk8 and it works perfectly.</p>\n<p>What could be causing this error?</p>\n<p>I added UnlimitedJCEPolicyJDK6 JAR's;</p>\n<p>My client code:</p>\n<pre><code>            System.setProperty(&quot;javax.net.ssl.trustStore&quot;, &quot;bci-to-scoring-keystore-client.jks&quot;);\n        System.setProperty(&quot;javax.net.ssl.trustStorePassword&quot;, &quot;changeit&quot;);\n\n        \n        HttpsURLConnection connection = (HttpsURLConnection) url.openConnection();\n        //connection.setSSLSocketFactory(ssl.getSocketFactory());\n        connection.setRequestMethod(&quot;POST&quot;);\n        connection.setDoOutput(true);\n\n        connection.setRequestProperty(&quot;Content-Type&quot;, &quot;text/xml&quot;);\n        connection.setHostnameVerifier(new HostnameVerifier() {\n            public boolean verify(String hostname, SSLSession session) {\n                return true;\n            }\n        });\n        connection.connect();\n</code></pre>\n<p>Exception:</p>\n<pre><code>javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure\nat com.sun.net.ssl.internal.ssl.Alerts.getSSLException(Alerts.java:174)\nat com.sun.net.ssl.internal.ssl.Alerts.getSSLException(Alerts.java:136)\nat com.sun.net.ssl.internal.ssl.SSLSocketImpl.recvAlert(SSLSocketImpl.java:1822)\nat com.sun.net.ssl.internal.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:1004)\nat com.sun.net.ssl.internal.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1188)\nat com.sun.net.ssl.internal.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1215)\nat com.sun.net.ssl.internal.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1199)\nat sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:434)\nat sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:166)\nat sun.net.www.protocol.https.HttpsURLConnectionImpl.connect(HttpsURLConnectionImpl.java:133)\nat com.bci.test.JavaApplication7.execute(JavaApplication7.java:70)\nat com.bci.test.JavaApplication7.main(JavaApplication7.java:33)\n</code></pre>\n<p>When running with <code>-Djavax.net.debug=ssl</code> I have this:</p>\n<pre><code>keyStore is : \nkeyStore type is : jks\nkeyStore provider is : \ninit keystore\ninit keymanager of type SunX509\ntrustStore is: bci-to-scoring-keystore-client.jks\ntrustStore type is : jks\ntrustStore provider is : \ninit truststore\nadding as trusted cert:\n  Subject: CN=*.BCITESTES.LOCAL, OU=DSI - Direccao de Sistemas de Informacao, O=&quot;BCI - Banco Comercial e de Investimentos, SA&quot;, L=Maputo, ST=Maputo, C=MZ\n  Issuer:  CN=BCI Enterprise Certificate Authority, DC=BCIFOMENTO, DC=CO, DC=MZ\n  Algorithm: RSA; Serial number: 0x43000000b6661aefae5816d09c0002000000b6\n  Valid from Wed Jun 03 09:10:22 CAT 2020 until Fri Jun 03 09:10:22 CAT 2022\n\nadding as trusted cert:\n  Subject: CN=cliente.bci.scoring.co.mz, OU=DSI - Direccao de Sistemas de Informacao, O=BCI - Banco Comercial e de Investimentos, C=MZ, ST=Maputo, L=Maputo\n  Issuer:  CN=cliente.bci.scoring.co.mz, OU=DSI - Direccao de Sistemas de Informacao, O=BCI - Banco Comercial e de Investimentos, C=MZ, ST=Maputo, L=Maputo\n  Algorithm: RSA; Serial number: 0x5f50ffd3\n  Valid from Thu Sep 03 16:38:11 CAT 2020 until Sat Aug 10 16:38:11 CAT 2120\n\ntrigger seeding of SecureRandom\ndone seeding SecureRandom\nAllow unsafe renegotiation: false\nAllow legacy hello messages: true\nIs initial handshake: true\nIs secure renegotiation: false\n%% No cached client session\n*** ClientHello, TLSv1\nRandomCookie:  GMT: 1599232592 bytes = { 73, 169, 83, 102, 108, 21, 161, 215, 189, 29, 218, 198, 42, 47, 144, 160, 202, 94, 179, 118, 28, 239, 54, 38, 199, 59, 222, 43 }\nSession ID:  {}\nCipher Suites: [SSL_RSA_WITH_RC4_128_MD5, SSL_RSA_WITH_RC4_128_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, SSL_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_DSS_WITH_3DES_EDE_CBC_SHA, SSL_RSA_WITH_DES_CBC_SHA, SSL_DHE_RSA_WITH_DES_CBC_SHA, SSL_DHE_DSS_WITH_DES_CBC_SHA, SSL_RSA_EXPORT_WITH_RC4_40_MD5, SSL_RSA_EXPORT_WITH_DES40_CBC_SHA, SSL_DHE_RSA_EXPORT_WITH_DES40_CBC_SHA, SSL_DHE_DSS_EXPORT_WITH_DES40_CBC_SHA, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]\nCompression Methods:  { 0 }\n***\nmain, WRITE: TLSv1 Handshake, length = 81\nmain, WRITE: SSLv2 client hello message, length = 110\nmain, READ: Unknown-3.3 Alert, length = 2\nmain, RECV TLSv1 ALERT:  fatal, handshake_failure\nmain, called closeSocket()\nmain, handling exception: javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure\n</code></pre>\n"},{"tags":["java","spring-boot","gradle"],"comments":[{"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":0,"creation_date":1656522211,"post_id":72805262,"comment_id":128595721,"body_markdown":"Which version of Spring Boot are you using?","body":"Which version of Spring Boot are you using?"},{"owner":{"account_id":3498606,"reputation":5166,"user_id":2925962,"accept_rate":0,"display_name":"akortex"},"score":0,"creation_date":1656523011,"post_id":72805262,"comment_id":128596013,"body_markdown":"Are you running the task through an  IDE like IntelliJ or from the command line?","body":"Are you running the task through an  IDE like IntelliJ or from the command line?"},{"owner":{"account_id":25683258,"reputation":23,"user_id":19445732,"display_name":"Iulii Turkin"},"score":0,"creation_date":1656524239,"post_id":72805262,"comment_id":128596447,"body_markdown":"@AndyWilkinson , 2.3.*","body":"@AndyWilkinson , 2.3.*"},{"owner":{"account_id":25683258,"reputation":23,"user_id":19445732,"display_name":"Iulii Turkin"},"score":0,"creation_date":1656524255,"post_id":72805262,"comment_id":128596456,"body_markdown":"@akortex , from command line","body":"@akortex , from command line"},{"owner":{"account_id":3498606,"reputation":5166,"user_id":2925962,"accept_rate":0,"display_name":"akortex"},"score":0,"creation_date":1656524554,"post_id":72805262,"comment_id":128596563,"body_markdown":"Have you verified that the java version you are running is indeed the correct one? Maybe either you system is not configured correctly or Gradle is picking up some other Java version. What is the output of the `./gradlew --version` command?","body":"Have you verified that the java version you are running is indeed the correct one? Maybe either you system is not configured correctly or Gradle is picking up some other Java version. What is the output of the <code>.&#47;gradlew --version</code> command?"},{"owner":{"account_id":25683258,"reputation":23,"user_id":19445732,"display_name":"Iulii Turkin"},"score":0,"creation_date":1656525607,"post_id":72805262,"comment_id":128596943,"body_markdown":"Kotlin:       1.5.31\nGroovy:       3.0.9\nAnt:          Apache Ant(TM) version 1.10.11 compiled on July 10 2021\nJVM:          17 (Oracle Corporation 17+35-2724)\nOS:           Mac OS X 12.3.1 x86_64","body":"Kotlin:       1.5.31 Groovy:       3.0.9 Ant:          Apache Ant(TM) version 1.10.11 compiled on July 10 2021 JVM:          17 (Oracle Corporation 17+35-2724) OS:           Mac OS X 12.3.1 x86_64"},{"owner":{"account_id":14656252,"reputation":672,"user_id":10869284,"display_name":"sigur"},"score":0,"creation_date":1656600279,"post_id":72805262,"comment_id":128617334,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1656526992,"creation_date":1656526992,"answer_id":72806164,"question_id":72805262,"body_markdown":"Spring Boot 2.3 is not compatible with Java 17. Spring Boot 2.4 was the first version that is Java 17 compatible but it is [no longer supported](https://spring.io/projects/spring-boot#support). At the time of writing, the supported versions of Spring Boot that are compatible with Java 17 are 2.6 and 2.7.","title":"Unsupported class file major version 61 for gradle&#39;s bootJar task","body":"<p>Spring Boot 2.3 is not compatible with Java 17. Spring Boot 2.4 was the first version that is Java 17 compatible but it is <a href=\"https://spring.io/projects/spring-boot#support\" rel=\"noreferrer\">no longer supported</a>. At the time of writing, the supported versions of Spring Boot that are compatible with Java 17 are 2.6 and 2.7.</p>\n"}],"owner":{"account_id":25683258,"reputation":23,"user_id":19445732,"display_name":"Iulii Turkin"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2396,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72806164,"answer_count":1,"score":2,"last_activity_date":1656526992,"creation_date":1656522094,"question_id":72805262,"body_markdown":"i&#39;ve just upgraded java in my project to 17 version. When i&#39;m trying to build it with gradle i&#39;m facing this error \r\n\r\n    Execution failed for task &#39;:project:bootJar&#39;.\r\n    &gt; Error while evaluating property &#39;mainClassName&#39; of task &#39;:project:bootJar&#39;\r\n       &gt; Unsupported class file major version 61\r\n\r\nSo , my main java conventions config has \r\n\r\n    java.sourceCompatibility = JavaVersion.VERSION_17\r\n    java.targetCompatibility = JavaVersion.VERSION_17\r\n\r\nAlso i set proper sdk to gradle config in IDEA, Gradle wrapper upgraded to 7.4 \r\n\r\n\r\n\r\n","title":"Unsupported class file major version 61 for gradle&#39;s bootJar task","body":"<p>i've just upgraded java in my project to 17 version. When i'm trying to build it with gradle i'm facing this error</p>\n<pre><code>Execution failed for task ':project:bootJar'.\n&gt; Error while evaluating property 'mainClassName' of task ':project:bootJar'\n   &gt; Unsupported class file major version 61\n</code></pre>\n<p>So , my main java conventions config has</p>\n<pre><code>java.sourceCompatibility = JavaVersion.VERSION_17\njava.targetCompatibility = JavaVersion.VERSION_17\n</code></pre>\n<p>Also i set proper sdk to gradle config in IDEA, Gradle wrapper upgraded to 7.4</p>\n"},{"tags":["java","graphql","mqtt","quarkus","mutiny"],"comments":[{"owner":{"account_id":2411568,"reputation":15860,"user_id":2106516,"accept_rate":91,"display_name":"tmarwen"},"score":0,"creation_date":1656523564,"post_id":72561040,"comment_id":128596206,"body_markdown":"I guess `client` refers to different types in the GraphQL subscription handler and the the message broadcaster, right? Can you update your post with the reference types?","body":"I guess <code>client</code> refers to different types in the GraphQL subscription handler and the the message broadcaster, right? Can you update your post with the reference types?"}],"answers":[{"tags":[],"owner":{"account_id":2411568,"reputation":15860,"user_id":2106516,"accept_rate":91,"display_name":"tmarwen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656526904,"creation_date":1656526904,"answer_id":72806149,"question_id":72561040,"body_markdown":"First *GraphQL* `Subscription` query is initiated to subscribe to *topic-1*:\r\n\r\n 1. A new `BroadcastProcessor` instance is created to bridge *MQTT* server messages to client\r\n 2. The *MQTT* client (shared instance) `publishHandler` is set with a handler using the previously (new) created `BroadcastProcessor` instance to send out items\r\n 3. The *MQTT* client `subscribe`s to the new topic\r\n 4. The `BroadcastProcessor` instance is returned which will *Quarkus* subscribe to to stream message over to client\r\n\r\nAll is well in a single invocation. The issue will arise on the next *GraphQL* subscription query to subscribe to *topic-2*:\r\n\r\n 1. Another new `BroadcastProcessor` instance is created to bridge *MQTT* server messages to client (which is fine)\r\n 2. The *MQTT* client (shared instance) `publishHandler` is **overridden** with another handler using the previously created `BroadcastProcessor` instance to send out items\r\n 3. The *MQTT* client `subscribe`s to **a new topic** (the second one)\r\n 4. The `BroadcastProcessor` instance is returned which will *Quarkus* subscribe to to stream message over to client\r\n\r\nAt the second invocation (*GraphQL* subscription query) you end up with your MQTT client having a `publishHandler` bridging messages from any *MQTT* topic you have subscribed to (in above scenario both *topic-1* and *topic-2*).\r\n\r\nYou can use a share `BroadcastProcessor` and have outgoing stream messages filtered by subscribed topic:\r\n\r\n    BroadcastProcessor&lt;String&gt; processor = BroadcastProcessor.create();\r\n    Multi&lt;String&gt; stream = processor.toHotStream();\r\n    \r\n    client.publishHandler(s -&gt; {\r\n        processor.onNext(Tuple2.of(s.getTopicName(),  s.payload().toString());\r\n    });\r\n\r\nThen within the *GraphQL* subscription handler:\r\n\r\n    @Subscription\r\n    public Multi&lt;String&gt; messageCreated(String topic) {\r\n        client.subscribe(topic);\r\n        return stream.select()\r\n                .where(tuple -&gt; tuple.getItem1().equals(topic));\r\n    }","title":"Publish to multiple streams from vert.x mqtt client","body":"<p>First <em>GraphQL</em> <code>Subscription</code> query is initiated to subscribe to <em>topic-1</em>:</p>\n<ol>\n<li>A new <code>BroadcastProcessor</code> instance is created to bridge <em>MQTT</em> server messages to client</li>\n<li>The <em>MQTT</em> client (shared instance) <code>publishHandler</code> is set with a handler using the previously (new) created <code>BroadcastProcessor</code> instance to send out items</li>\n<li>The <em>MQTT</em> client <code>subscribe</code>s to the new topic</li>\n<li>The <code>BroadcastProcessor</code> instance is returned which will <em>Quarkus</em> subscribe to to stream message over to client</li>\n</ol>\n<p>All is well in a single invocation. The issue will arise on the next <em>GraphQL</em> subscription query to subscribe to <em>topic-2</em>:</p>\n<ol>\n<li>Another new <code>BroadcastProcessor</code> instance is created to bridge <em>MQTT</em> server messages to client (which is fine)</li>\n<li>The <em>MQTT</em> client (shared instance) <code>publishHandler</code> is <strong>overridden</strong> with another handler using the previously created <code>BroadcastProcessor</code> instance to send out items</li>\n<li>The <em>MQTT</em> client <code>subscribe</code>s to <strong>a new topic</strong> (the second one)</li>\n<li>The <code>BroadcastProcessor</code> instance is returned which will <em>Quarkus</em> subscribe to to stream message over to client</li>\n</ol>\n<p>At the second invocation (<em>GraphQL</em> subscription query) you end up with your MQTT client having a <code>publishHandler</code> bridging messages from any <em>MQTT</em> topic you have subscribed to (in above scenario both <em>topic-1</em> and <em>topic-2</em>).</p>\n<p>You can use a share <code>BroadcastProcessor</code> and have outgoing stream messages filtered by subscribed topic:</p>\n<pre><code>BroadcastProcessor&lt;String&gt; processor = BroadcastProcessor.create();\nMulti&lt;String&gt; stream = processor.toHotStream();\n\nclient.publishHandler(s -&gt; {\n    processor.onNext(Tuple2.of(s.getTopicName(),  s.payload().toString());\n});\n</code></pre>\n<p>Then within the <em>GraphQL</em> subscription handler:</p>\n<pre><code>@Subscription\npublic Multi&lt;String&gt; messageCreated(String topic) {\n    client.subscribe(topic);\n    return stream.select()\n            .where(tuple -&gt; tuple.getItem1().equals(topic));\n}\n</code></pre>\n"}],"owner":{"account_id":14961478,"reputation":2107,"user_id":10801086,"display_name":"dna"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1656526904,"creation_date":1654780835,"question_id":72561040,"body_markdown":"I have a *Quarkus* application that expose a *GraphQL* server.\r\n\r\nThis server expose a subscription that I use to have a realtime communication with the front-end.\r\n\r\nI also have a *Vert.x* *MQTT* client (*MQTT* act as message broker).\r\n\r\nWhen I call a mutation I also publish to an *MQTT* topic.\r\n\r\nThe *GraphQL* subscription should return a stream from the *MQTT* published messages.\r\n\r\nThis is the code for the *MQTT* subscription:\r\n\r\n\r\n    public Multi&lt;String&gt; subscribe(String topic) {\r\n\r\n        BroadcastProcessor&lt;String&gt; processor = BroadcastProcessor.create();\r\n\r\n        client.publishHandler(s -&gt; {\r\n                    System.out.println(s.topicName() + &quot; &quot; + s.payload());\r\n                    processor.onNext(s.payload().toString());\r\n                })\r\n                .subscribe(topic, 2);\r\n\r\n        return processor;\r\n    }\r\n\r\n\r\nAnd here down the code of *GraphQL* subscription:\r\n\r\n\r\n    @Subscription\r\n    public Multi&lt;String&gt; messageCreated(String topic) {\r\n        return client.subscribe(topic).toHotStream();\r\n   }\r\n\r\n\r\nMy problem is that when I publish on different topics the *GraphQL* subscription receives each message I send. (*MQTT* client subscription works correctly).\r\n\r\nI think i&#39;m doing something wrong with `BroadcastProcessor` and `Multi` from Mutiny.","title":"Publish to multiple streams from vert.x mqtt client","body":"<p>I have a <em>Quarkus</em> application that expose a <em>GraphQL</em> server.</p>\n<p>This server expose a subscription that I use to have a realtime communication with the front-end.</p>\n<p>I also have a <em>Vert.x</em> <em>MQTT</em> client (<em>MQTT</em> act as message broker).</p>\n<p>When I call a mutation I also publish to an <em>MQTT</em> topic.</p>\n<p>The <em>GraphQL</em> subscription should return a stream from the <em>MQTT</em> published messages.</p>\n<p>This is the code for the <em>MQTT</em> subscription:</p>\n<pre><code>public Multi&lt;String&gt; subscribe(String topic) {\n\n    BroadcastProcessor&lt;String&gt; processor = BroadcastProcessor.create();\n\n    client.publishHandler(s -&gt; {\n                System.out.println(s.topicName() + &quot; &quot; + s.payload());\n                processor.onNext(s.payload().toString());\n            })\n            .subscribe(topic, 2);\n\n    return processor;\n}\n</code></pre>\n<p>And here down the code of <em>GraphQL</em> subscription:</p>\n<pre><code>@Subscription\npublic Multi&lt;String&gt; messageCreated(String topic) {\n    return client.subscribe(topic).toHotStream();\n</code></pre>\n<p>}</p>\n<p>My problem is that when I publish on different topics the <em>GraphQL</em> subscription receives each message I send. (<em>MQTT</em> client subscription works correctly).</p>\n<p>I think i'm doing something wrong with <code>BroadcastProcessor</code> and <code>Multi</code> from Mutiny.</p>\n"},{"tags":["java","spring-security","keycloak","spring-oauth2"],"answers":[{"tags":[],"owner":{"account_id":1706859,"reputation":1320,"user_id":1565759,"accept_rate":83,"display_name":"sonOfRa"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1656525894,"creation_date":1656525894,"answer_id":72805975,"question_id":72805268,"body_markdown":"You&#39;re saying you set your redirect URIs for the client to `http://localhost:80/*`.\r\n\r\nThen you made this request: `GET http://localhost:8080/realms/webReport/protocol/openid-connect/auth?response_type=code&amp;client_id=my_webreport&amp;state=*** redirect_uri=http://localhost:8084/login/oauth2/code/keycloak`.\r\n\r\n`http://localhost:8084/login/oauth2/code/keycloak` is not matched by `http://localhost:80/*`, the port needs to match the actual port of your request.","title":"Keycloak return Invalid parameter: redirect_uri","body":"<p>You're saying you set your redirect URIs for the client to <code>http://localhost:80/*</code>.</p>\n<p>Then you made this request: <code>GET http://localhost:8080/realms/webReport/protocol/openid-connect/auth?response_type=code&amp;client_id=my_webreport&amp;state=*** redirect_uri=http://localhost:8084/login/oauth2/code/keycloak</code>.</p>\n<p><code>http://localhost:8084/login/oauth2/code/keycloak</code> is not matched by <code>http://localhost:80/*</code>, the port needs to match the actual port of your request.</p>\n"}],"owner":{"account_id":18977021,"reputation":107,"user_id":13849269,"display_name":"Axel HK"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7769,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72805975,"answer_count":1,"score":0,"last_activity_date":1656526592,"creation_date":1656522126,"question_id":72805268,"body_markdown":"I am trying to run some simple app by using spring boot and keycloak. App running on localhost:80. Here is my pom.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.5.0&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;testOfKeyCloack&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;15&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;15&lt;/maven.compiler.target&gt;\r\n        &lt;springboot.plugin.version&gt;2.1.4.RELEASE&lt;/springboot.plugin.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-oauth2-client&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${springboot.plugin.version}&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\nThere is my application.yml, where keycloak listening port 8080 on localhost. \r\nAlso there is realm - WebReport and client testK:\r\n```\r\nserver:\r\n  port: &quot;80&quot;\r\nspring:\r\n  application.name: ${APPLICATION_NAME:spring-security-keycloak-oauth}\r\n  security:\r\n    oauth2:\r\n      client:\r\n        provider:\r\n          keycloak:\r\n            issuer-uri: http://localhost:8080/realms/webReport\r\n        registration:\r\n          keycloak:\r\n            client-id: testK\r\n```\r\nValid redirect URI: http://localhost:80/*\r\n\r\nFor test I use controller:\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/api&quot;)\r\npublic class SampleController {\r\n\r\n    @GetMapping(&quot;/anonymous&quot;)\r\n    public String getAnonymousInfo() {\r\n        return &quot;Anonymous&quot;;\r\n    }\r\n\r\n    @GetMapping(&quot;/user&quot;)\r\n    @PreAuthorize(&quot;hasRole(&#39;USER&#39;)&quot;)\r\n    public String getUserInfo() {\r\n        return &quot;user info&quot;;\r\n    }\r\n\r\n    @GetMapping(&quot;/admin&quot;)\r\n    @PreAuthorize(&quot;hasRole(&#39;ADMIN&#39;)&quot;)\r\n    public String getAdminInfo() {\r\n        return &quot;admin info&quot;;\r\n    }\r\n\r\n    @GetMapping(&quot;/service&quot;)\r\n    @PreAuthorize(&quot;hasRole(&#39;SERVICE&#39;)&quot;)\r\n    public String getServiceInfo() {\r\n        return &quot;service info&quot;;\r\n    }\r\n\r\n    @GetMapping(&quot;/me&quot;)\r\n    public Object getMe() {\r\n        final Authentication authentication = SecurityContextHolder.getContext().getAuthentication();\r\n        return authentication.getName();\r\n    }\r\n}\r\n```\r\nAnd this is my WebSecurityConfiguration\r\n```\r\n@Configuration\r\n@EnableGlobalMethodSecurity(prePostEnabled = true)\r\npublic class WebSecurityConfiguration extends WebSecurityConfigurerAdapter {\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http\r\n                .authorizeRequests(authorizeRequests -&gt; authorizeRequests\r\n                        .antMatchers(&quot;/api/anonymous/**&quot;).permitAll()\r\n                        .anyRequest().authenticated())\r\n                .oauth2Login(oauth2Login -&gt; oauth2Login\r\n                        .userInfoEndpoint(userInfoEndpoint -&gt; userInfoEndpoint\r\n                                .oidcUserService(this.oidcUserService())\r\n                        )\r\n                );\r\n\r\n    }\r\n\r\n    @Bean\r\n    public OAuth2UserService&lt;OidcUserRequest, OidcUser&gt; oidcUserService() {\r\n        final OidcUserService delegate = new OidcUserService();\r\n\r\n        return (userRequest) -&gt; {\r\n            OidcUser oidcUser = delegate.loadUser(userRequest);\r\n\r\n            final Map&lt;String, Object&gt; claims = oidcUser.getClaims();\r\n            final JSONArray groups = (JSONArray) claims.get(&quot;groups&quot;);\r\n\r\n            final Set&lt;GrantedAuthority&gt; mappedAuthorities = groups.stream()\r\n                    .map(role -&gt; new SimpleGrantedAuthority((&quot;ROLE_&quot; + role)))\r\n                    .collect(Collectors.toSet());\r\n\r\n            return new DefaultOidcUser(mappedAuthorities, oidcUser.getIdToken(), oidcUser.getUserInfo());\r\n        };\r\n    }\r\n}\r\n```\r\nBut when I try to go for example to : &quot;http://localhost:80/api/admin&quot;\r\nI am getting an error: &quot;Invalid parameter: redirect_uri&quot;\r\nConsole output: &quot;GET http://localhost:8080/realms/webReport/protocol/openid-connect/auth?response_type=code&amp;client_id=my_webreport&amp;state=*** redirect_uri=http://localhost/login/oauth2/code/keycloak 400 (Bad Request)&quot;\r\n\r\nAdvices from other threads didn&#39;t help, so I just don&#39;t know, what to do.\r\n","title":"Keycloak return Invalid parameter: redirect_uri","body":"<p>I am trying to run some simple app by using spring boot and keycloak. App running on localhost:80. Here is my pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.5.0&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\n    &lt;artifactId&gt;testOfKeyCloack&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;15&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;15&lt;/maven.compiler.target&gt;\n        &lt;springboot.plugin.version&gt;2.1.4.RELEASE&lt;/springboot.plugin.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-oauth2-client&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${springboot.plugin.version}&lt;/version&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>There is my application.yml, where keycloak listening port 8080 on localhost.\nAlso there is realm - WebReport and client testK:</p>\n<pre><code>server:\n  port: &quot;80&quot;\nspring:\n  application.name: ${APPLICATION_NAME:spring-security-keycloak-oauth}\n  security:\n    oauth2:\n      client:\n        provider:\n          keycloak:\n            issuer-uri: http://localhost:8080/realms/webReport\n        registration:\n          keycloak:\n            client-id: testK\n</code></pre>\n<p>Valid redirect URI: http://localhost:80/*</p>\n<p>For test I use controller:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api&quot;)\npublic class SampleController {\n\n    @GetMapping(&quot;/anonymous&quot;)\n    public String getAnonymousInfo() {\n        return &quot;Anonymous&quot;;\n    }\n\n    @GetMapping(&quot;/user&quot;)\n    @PreAuthorize(&quot;hasRole('USER')&quot;)\n    public String getUserInfo() {\n        return &quot;user info&quot;;\n    }\n\n    @GetMapping(&quot;/admin&quot;)\n    @PreAuthorize(&quot;hasRole('ADMIN')&quot;)\n    public String getAdminInfo() {\n        return &quot;admin info&quot;;\n    }\n\n    @GetMapping(&quot;/service&quot;)\n    @PreAuthorize(&quot;hasRole('SERVICE')&quot;)\n    public String getServiceInfo() {\n        return &quot;service info&quot;;\n    }\n\n    @GetMapping(&quot;/me&quot;)\n    public Object getMe() {\n        final Authentication authentication = SecurityContextHolder.getContext().getAuthentication();\n        return authentication.getName();\n    }\n}\n</code></pre>\n<p>And this is my WebSecurityConfiguration</p>\n<pre><code>@Configuration\n@EnableGlobalMethodSecurity(prePostEnabled = true)\npublic class WebSecurityConfiguration extends WebSecurityConfigurerAdapter {\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n                .authorizeRequests(authorizeRequests -&gt; authorizeRequests\n                        .antMatchers(&quot;/api/anonymous/**&quot;).permitAll()\n                        .anyRequest().authenticated())\n                .oauth2Login(oauth2Login -&gt; oauth2Login\n                        .userInfoEndpoint(userInfoEndpoint -&gt; userInfoEndpoint\n                                .oidcUserService(this.oidcUserService())\n                        )\n                );\n\n    }\n\n    @Bean\n    public OAuth2UserService&lt;OidcUserRequest, OidcUser&gt; oidcUserService() {\n        final OidcUserService delegate = new OidcUserService();\n\n        return (userRequest) -&gt; {\n            OidcUser oidcUser = delegate.loadUser(userRequest);\n\n            final Map&lt;String, Object&gt; claims = oidcUser.getClaims();\n            final JSONArray groups = (JSONArray) claims.get(&quot;groups&quot;);\n\n            final Set&lt;GrantedAuthority&gt; mappedAuthorities = groups.stream()\n                    .map(role -&gt; new SimpleGrantedAuthority((&quot;ROLE_&quot; + role)))\n                    .collect(Collectors.toSet());\n\n            return new DefaultOidcUser(mappedAuthorities, oidcUser.getIdToken(), oidcUser.getUserInfo());\n        };\n    }\n}\n</code></pre>\n<p>But when I try to go for example to : &quot;http://localhost:80/api/admin&quot;\nI am getting an error: &quot;Invalid parameter: redirect_uri&quot;\nConsole output: &quot;GET http://localhost:8080/realms/webReport/protocol/openid-connect/auth?response_type=code&amp;client_id=my_webreport&amp;state=*** redirect_uri=http://localhost/login/oauth2/code/keycloak 400 (Bad Request)&quot;</p>\n<p>Advices from other threads didn't help, so I just don't know, what to do.</p>\n"},{"tags":["java","json","spring","spring-boot","snowflake-cloud-data-platform"],"comments":[{"owner":{"account_id":19058763,"reputation":2710,"user_id":13915313,"display_name":"Pankaj"},"score":2,"creation_date":1656524427,"post_id":72805442,"comment_id":128596515,"body_markdown":"You can aggregate into an array, using ```array_agg```, this should return a single value as an array with all lists inside array clubbed together. ```TO_JSON``` and ```PARSE_JSON``` can be used to get desired conversion. Do keep in mind the size limitations of 16MB for string and 8MB compressed for JSON.","body":"You can aggregate into an array, using <code>array_agg</code>, this should return a single value as an array with all lists inside array clubbed together. <code>TO_JSON</code> and <code>PARSE_JSON</code> can be used to get desired conversion. Do keep in mind the size limitations of 16MB for string and 8MB compressed for JSON."},{"owner":{"account_id":19058763,"reputation":2710,"user_id":13915313,"display_name":"Pankaj"},"score":0,"creation_date":1656526150,"post_id":72805442,"comment_id":128597117,"body_markdown":"Sure, will add it shortly","body":"Sure, will add it shortly"}],"answers":[{"tags":[],"owner":{"account_id":19058763,"reputation":2710,"user_id":13915313,"display_name":"Pankaj"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1656526498,"creation_date":1656526498,"answer_id":72806077,"question_id":72805442,"body_markdown":"Original statement, producing individual rows -\r\n\r\n```\r\nselect distinct object_construct(&#39;response&#39;,OBJECT_CONSTRUCT(\r\n&#39;id&#39;, id,\r\n&#39;name&#39;, name,\r\n&#39;etc&#39;, etc\r\n)) as RESPONSE from\r\n(select 1 as id, &#39;name&#39; as name, &#39;etc&#39; as etc union all\r\nselect 2, &#39;name&#39;,&#39;etc&#39; union all\r\nselect 3, &#39;name&#39;,&#39;etc&#39;);\r\n+--------------------+\r\n| RESPONSE           |\r\n|--------------------|\r\n| {                  |\r\n|   &quot;response&quot;: {    |\r\n|     &quot;etc&quot;: &quot;etc&quot;,  |\r\n|     &quot;id&quot;: 1,       |\r\n|     &quot;name&quot;: &quot;name&quot; |\r\n|   }                |\r\n| }                  |\r\n| {                  |\r\n|   &quot;response&quot;: {    |\r\n|     &quot;etc&quot;: &quot;etc&quot;,  |\r\n|     &quot;id&quot;: 2,       |\r\n|     &quot;name&quot;: &quot;name&quot; |\r\n|   }                |\r\n| }                  |\r\n| {                  |\r\n|   &quot;response&quot;: {    |\r\n|     &quot;etc&quot;: &quot;etc&quot;,  |\r\n|     &quot;id&quot;: 3,       |\r\n|     &quot;name&quot;: &quot;name&quot; |\r\n|   }                |\r\n| }                  |\r\n+--------------------+\r\n3 Row(s) produced. \r\n```\r\n\r\n\r\nNext we will use ```ARRAY_AGG```, to get result clubbed into single entity.\r\n\r\n```\r\nselect distinct array_agg(OBJECT_construct(\r\n&#39;id&#39;, id,\r\n&#39;name&#39;, name,\r\n&#39;etc&#39;, etc\r\n)) as RESPONSE from\r\n(select 1 as id, &#39;name&#39; as name, &#39;etc&#39; as etc union all\r\nselect 2, &#39;name&#39;,&#39;etc&#39; union all\r\nselect 3, &#39;name&#39;,&#39;etc&#39;);\r\n+--------------------+\r\n| RESPONSE           |\r\n|--------------------|\r\n| [                  |\r\n|   {                |\r\n|     &quot;etc&quot;: &quot;etc&quot;,  |\r\n|     &quot;id&quot;: 1,       |\r\n|     &quot;name&quot;: &quot;name&quot; |\r\n|   },               |\r\n|   {                |\r\n|     &quot;etc&quot;: &quot;etc&quot;,  |\r\n|     &quot;id&quot;: 2,       |\r\n|     &quot;name&quot;: &quot;name&quot; |\r\n|   },               |\r\n|   {                |\r\n|     &quot;etc&quot;: &quot;etc&quot;,  |\r\n|     &quot;id&quot;: 3,       |\r\n|     &quot;name&quot;: &quot;name&quot; |\r\n|   }                |\r\n| ]                  |\r\n+--------------------+\r\n1 Row(s) produced. \r\n```\r\n\r\nIf required, the result can be further converted as needed via ```TO_JSON``` or ```PARSE_JSON```.\r\n\r\nBelow will give string output -\r\n\r\n```\r\nselect distinct to_json(array_agg(OBJECT_construct(\r\n&#39;id&#39;, id,\r\n&#39;name&#39;, name,\r\n&#39;etc&#39;, etc\r\n))) as RESPONSE from\r\n(select 1 as id, &#39;name&#39; as name, &#39;etc&#39; as etc union all\r\nselect 2, &#39;name&#39;,&#39;etc&#39; union all\r\nselect 3, &#39;name&#39;,&#39;etc&#39;);\r\n+------------------------------------------------------------------------------------------------------------+\r\n| RESPONSE                                                                                                   |\r\n|------------------------------------------------------------------------------------------------------------|\r\n| [{&quot;etc&quot;:&quot;etc&quot;,&quot;id&quot;:1,&quot;name&quot;:&quot;name&quot;},{&quot;etc&quot;:&quot;etc&quot;,&quot;id&quot;:2,&quot;name&quot;:&quot;name&quot;},{&quot;etc&quot;:&quot;etc&quot;,&quot;id&quot;:3,&quot;name&quot;:&quot;name&quot;}] |\r\n+------------------------------------------------------------------------------------------------------------+\r\n1 Row(s) produced.\r\n```\r\n\r\nFollowing will give JSON output - \r\n\r\n```\r\nselect distinct parse_json(to_json(array_agg(OBJECT_construct(\r\n&#39;id&#39;, id,\r\n&#39;name&#39;, name,\r\n&#39;etc&#39;, etc\r\n)))) as RESPONSE from\r\n(select 1 as id, &#39;name&#39; as name, &#39;etc&#39; as etc union all\r\nselect 2, &#39;name&#39;,&#39;etc&#39; union all\r\nselect 3, &#39;name&#39;,&#39;etc&#39;);\r\n\r\n+--------------------+\r\n| RESPONSE           |\r\n|--------------------|\r\n| [                  |\r\n|   {                |\r\n|     &quot;etc&quot;: &quot;etc&quot;,  |\r\n|     &quot;id&quot;: 1,       |\r\n|     &quot;name&quot;: &quot;name&quot; |\r\n|   },               |\r\n|   {                |\r\n|     &quot;etc&quot;: &quot;etc&quot;,  |\r\n|     &quot;id&quot;: 2,       |\r\n|     &quot;name&quot;: &quot;name&quot; |\r\n|   },               |\r\n|   {                |\r\n|     &quot;etc&quot;: &quot;etc&quot;,  |\r\n|     &quot;id&quot;: 3,       |\r\n|     &quot;name&quot;: &quot;name&quot; |\r\n|   }                |\r\n| ]                  |\r\n+--------------------+\r\n1 Row(s) produced.\r\n```","title":"How to get snowflake response into json format?","body":"<p>Original statement, producing individual rows -</p>\n<pre><code>select distinct object_construct('response',OBJECT_CONSTRUCT(\n'id', id,\n'name', name,\n'etc', etc\n)) as RESPONSE from\n(select 1 as id, 'name' as name, 'etc' as etc union all\nselect 2, 'name','etc' union all\nselect 3, 'name','etc');\n+--------------------+\n| RESPONSE           |\n|--------------------|\n| {                  |\n|   &quot;response&quot;: {    |\n|     &quot;etc&quot;: &quot;etc&quot;,  |\n|     &quot;id&quot;: 1,       |\n|     &quot;name&quot;: &quot;name&quot; |\n|   }                |\n| }                  |\n| {                  |\n|   &quot;response&quot;: {    |\n|     &quot;etc&quot;: &quot;etc&quot;,  |\n|     &quot;id&quot;: 2,       |\n|     &quot;name&quot;: &quot;name&quot; |\n|   }                |\n| }                  |\n| {                  |\n|   &quot;response&quot;: {    |\n|     &quot;etc&quot;: &quot;etc&quot;,  |\n|     &quot;id&quot;: 3,       |\n|     &quot;name&quot;: &quot;name&quot; |\n|   }                |\n| }                  |\n+--------------------+\n3 Row(s) produced. \n</code></pre>\n<p>Next we will use <code>ARRAY_AGG</code>, to get result clubbed into single entity.</p>\n<pre><code>select distinct array_agg(OBJECT_construct(\n'id', id,\n'name', name,\n'etc', etc\n)) as RESPONSE from\n(select 1 as id, 'name' as name, 'etc' as etc union all\nselect 2, 'name','etc' union all\nselect 3, 'name','etc');\n+--------------------+\n| RESPONSE           |\n|--------------------|\n| [                  |\n|   {                |\n|     &quot;etc&quot;: &quot;etc&quot;,  |\n|     &quot;id&quot;: 1,       |\n|     &quot;name&quot;: &quot;name&quot; |\n|   },               |\n|   {                |\n|     &quot;etc&quot;: &quot;etc&quot;,  |\n|     &quot;id&quot;: 2,       |\n|     &quot;name&quot;: &quot;name&quot; |\n|   },               |\n|   {                |\n|     &quot;etc&quot;: &quot;etc&quot;,  |\n|     &quot;id&quot;: 3,       |\n|     &quot;name&quot;: &quot;name&quot; |\n|   }                |\n| ]                  |\n+--------------------+\n1 Row(s) produced. \n</code></pre>\n<p>If required, the result can be further converted as needed via <code>TO_JSON</code> or <code>PARSE_JSON</code>.</p>\n<p>Below will give string output -</p>\n<pre><code>select distinct to_json(array_agg(OBJECT_construct(\n'id', id,\n'name', name,\n'etc', etc\n))) as RESPONSE from\n(select 1 as id, 'name' as name, 'etc' as etc union all\nselect 2, 'name','etc' union all\nselect 3, 'name','etc');\n+------------------------------------------------------------------------------------------------------------+\n| RESPONSE                                                                                                   |\n|------------------------------------------------------------------------------------------------------------|\n| [{&quot;etc&quot;:&quot;etc&quot;,&quot;id&quot;:1,&quot;name&quot;:&quot;name&quot;},{&quot;etc&quot;:&quot;etc&quot;,&quot;id&quot;:2,&quot;name&quot;:&quot;name&quot;},{&quot;etc&quot;:&quot;etc&quot;,&quot;id&quot;:3,&quot;name&quot;:&quot;name&quot;}] |\n+------------------------------------------------------------------------------------------------------------+\n1 Row(s) produced.\n</code></pre>\n<p>Following will give JSON output -</p>\n<pre><code>select distinct parse_json(to_json(array_agg(OBJECT_construct(\n'id', id,\n'name', name,\n'etc', etc\n)))) as RESPONSE from\n(select 1 as id, 'name' as name, 'etc' as etc union all\nselect 2, 'name','etc' union all\nselect 3, 'name','etc');\n\n+--------------------+\n| RESPONSE           |\n|--------------------|\n| [                  |\n|   {                |\n|     &quot;etc&quot;: &quot;etc&quot;,  |\n|     &quot;id&quot;: 1,       |\n|     &quot;name&quot;: &quot;name&quot; |\n|   },               |\n|   {                |\n|     &quot;etc&quot;: &quot;etc&quot;,  |\n|     &quot;id&quot;: 2,       |\n|     &quot;name&quot;: &quot;name&quot; |\n|   },               |\n|   {                |\n|     &quot;etc&quot;: &quot;etc&quot;,  |\n|     &quot;id&quot;: 3,       |\n|     &quot;name&quot;: &quot;name&quot; |\n|   }                |\n| ]                  |\n+--------------------+\n1 Row(s) produced.\n</code></pre>\n"}],"owner":{"account_id":25266045,"reputation":141,"user_id":19096205,"display_name":"Gojo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":399,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72806077,"answer_count":1,"score":1,"last_activity_date":1656526498,"creation_date":1656522987,"question_id":72805442,"body_markdown":"This is part of a spring boot API I am developing. I am querying snowflake to get some data using a query like this:\r\n```\r\nselect distinct OBJECT_CONSTRUCT(\r\n&#39;id&#39;, id,\r\n&#39;name&#39;, name,\r\n&#39;etc&#39;, etc\r\n) as RESPONSE from ...\r\n```\r\n\r\nI am getting a a List of String which is formatted like this:\r\n\r\n```\r\nlist:\r\n0-&gt; {&#39;id&#39;:1, &#39;name&#39;:name, &#39;etc&#39;:etc}\r\n1-&gt; {&#39;id&#39;:2, &#39;name&#39;:name, &#39;etc&#39;:etc}\r\n2-&gt; {&#39;id&#39;:3, &#39;name&#39;:name, &#39;etc&#39;:etc}\r\n...\r\n```\r\n\r\nWhat is the cleanest way that I can get this response to a single JsonNode response that the api can return? \r\n","title":"How to get snowflake response into json format?","body":"<p>This is part of a spring boot API I am developing. I am querying snowflake to get some data using a query like this:</p>\n<pre><code>select distinct OBJECT_CONSTRUCT(\n'id', id,\n'name', name,\n'etc', etc\n) as RESPONSE from ...\n</code></pre>\n<p>I am getting a a List of String which is formatted like this:</p>\n<pre><code>list:\n0-&gt; {'id':1, 'name':name, 'etc':etc}\n1-&gt; {'id':2, 'name':name, 'etc':etc}\n2-&gt; {'id':3, 'name':name, 'etc':etc}\n...\n</code></pre>\n<p>What is the cleanest way that I can get this response to a single JsonNode response that the api can return?</p>\n"},{"tags":["java","json","spring"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1656526882,"post_id":72805976,"comment_id":128597341,"body_markdown":"https://stackoverflow.com/questions/51522853/gson-convert-keys-to-lowercase","body":"<a href=\"https://stackoverflow.com/questions/51522853/gson-convert-keys-to-lowercase\" title=\"gson convert keys to lowercase\">stackoverflow.com/questions/51522853/&hellip;</a>"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1656531724,"post_id":72805976,"comment_id":128598816,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":5378044,"reputation":1,"user_id":4284242,"display_name":"Thang Bui"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1656526291,"creation_date":1656526291,"answer_id":72806042,"question_id":72805976,"body_markdown":"Which package is your `JSONObject` from? If it is from `javax.json` then it is immutable, hence you need to instantiate a new `JSONObject` instance and import modified key value pairs into the new instance (from [JSONObject Java doc][1]).\r\n\r\n\r\n  [1]: https://docs.oracle.com/javaee/7/api/javax/json/JsonObject.html","title":"JAVA - Convert keys JSONObject to lower case","body":"<p>Which package is your <code>JSONObject</code> from? If it is from <code>javax.json</code> then it is immutable, hence you need to instantiate a new <code>JSONObject</code> instance and import modified key value pairs into the new instance (from <a href=\"https://docs.oracle.com/javaee/7/api/javax/json/JsonObject.html\" rel=\"nofollow noreferrer\">JSONObject Java doc</a>).</p>\n"}],"owner":{"account_id":25683758,"reputation":1,"user_id":19446154,"display_name":"Matheus Victor Ara&#250;jo Ferreira"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":155,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1656526291,"creation_date":1656525895,"question_id":72805976,"body_markdown":"I have a problem related to the keys of a JSONObject. I need to change the keys to lowercase, but I&#39;m not getting it, what&#39;s the best way to do this?","title":"JAVA - Convert keys JSONObject to lower case","body":"<p>I have a problem related to the keys of a JSONObject. I need to change the keys to lowercase, but I'm not getting it, what's the best way to do this?</p>\n"},{"tags":["java","ftp"],"comments":[{"owner":{"account_id":22249835,"reputation":1973,"user_id":16482938,"display_name":"j_b"},"score":0,"creation_date":1654043813,"post_id":72452185,"comment_id":127996788,"body_markdown":"Have you checked that the data port being used for FTP is open (I think default is port  21, but could differ depending on your configuration)?","body":"Have you checked that the data port being used for FTP is open (I think default is port  21, but could differ depending on your configuration)?"},{"owner":{"account_id":18994654,"reputation":25,"user_id":13863080,"display_name":"Baixa"},"score":0,"creation_date":1654057548,"post_id":72452185,"comment_id":127998611,"body_markdown":"Yes, I checked the performance through the FileZilla program. 21 port is opened","body":"Yes, I checked the performance through the FileZilla program. 21 port is opened"}],"answers":[{"tags":[],"owner":{"account_id":25296580,"reputation":2100,"user_id":19121623,"display_name":"Eskandar Abedini"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1654188554,"creation_date":1654021446,"answer_id":72452519,"question_id":72452185,"body_markdown":"Please check [Android FTP error - 425 Can&#39;t open data connection][1] and [Error: 425 Can&#39;t open data connection][2] and edit your configurations based on these guides.\r\n\r\nI&#39;m using this class for ftp handling, you can implement your own exception handling and configuration management.\r\n\r\n    import lombok.extern.slf4j.Slf4j;\r\n    import org.apache.commons.net.ftp.FTP;\r\n    import org.apache.commons.net.ftp.FTPClient;\r\n    import org.apache.commons.net.ftp.FTPSClient;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.core.io.ClassPathResource;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    \r\n    @Component\r\n    @Slf4j\r\n    public class FTPFileWriterImpl implements FTPFileWriter {\r\n        private final FTPProperties ftpProperties;\r\n        protected FTPClient ftpClient;\r\n    \r\n        @Autowired\r\n        public FTPFileWriterImpl(@Autowired FTPProperties ftpProperties) {\r\n            this.ftpProperties = ftpProperties;\r\n        }\r\n    \r\n        //@PostConstruct\r\n        public void init() {\r\n            if (this.ftpProperties.isAutoStart()) {\r\n                log.debug(&quot;Autostarting connection to FTP server.&quot;);\r\n                this.open();\r\n            }\r\n        }\r\n    \r\n        public boolean open() {\r\n            close();\r\n            log.debug(&quot;Connecting and logging in to FTP server.&quot;);\r\n            if (ftpProperties.getProtocolType().equals(&quot;SSL&quot;))\r\n                ftpClient = new FTPSClient();\r\n            else\r\n                ftpClient = new FTPClient();\r\n            ftpClient.enterLocalPassiveMode();\r\n            boolean loggedIn = false;\r\n            try {\r\n                ftpClient.connect(ftpProperties.getServer(), ftpProperties.getPort());\r\n                loggedIn = ftpClient.login(ftpProperties.getUsername(), ftpProperties.getPassword());\r\n                if (loggedIn) {\r\n                    ftpClient.setFileType(FTP.BINARY_FILE_TYPE);\r\n                    if (ftpProperties.getKeepAliveTimout() &gt; 0)\r\n                        ftpClient.setControlKeepAliveTimeout(ftpProperties.getKeepAliveTimout());\r\n                } else {\r\n                    log.error(&quot;Failed login to FTP server&quot;);\r\n                    ftpClient.logout();\r\n                    ftpClient.disconnect();\r\n                }\r\n            } catch (Exception e) {\r\n                log.error(e.getMessage());\r\n            }\r\n            return loggedIn;\r\n        }\r\n    \r\n        public void close() {\r\n            if (ftpClient != null) {\r\n                try {\r\n                    if (ftpClient.isConnected()) {\r\n                        ftpClient.logout();\r\n                        ftpClient.disconnect();\r\n                    }\r\n                } catch (Exception e) {\r\n                    log.error(e.getMessage(), e);\r\n                }\r\n            }\r\n        }\r\n    \r\n        public InputStream loadFile(String fileName) {\r\n            try {\r\n                log.debug(&quot;Trying to retrieve a file from remote path &quot; + fileName);\r\n                this.open();\r\n                return ftpClient.retrieveFileStream(fileName);\r\n            } catch (IOException e) {\r\n                log.error(e.getMessage(), e);\r\n                throw new StorageFileNotFoundException(&quot;File not found!&quot;);\r\n            } finally {\r\n                this.close();\r\n            }\r\n        }\r\n    \r\n        public boolean delete(String fileName) throws IOException {\r\n            this.open();\r\n            boolean result = ftpClient.deleteFile(fileName);\r\n            this.close();\r\n            return result;\r\n        }\r\n    \r\n    \r\n        public String saveFile(InputStream inputStream, String dir, String fileName, boolean append) throws Exception {\r\n            log.debug(&quot;Trying to store a file to destination path &quot; + fileName);\r\n            boolean result;\r\n            this.open();\r\n            try {\r\n                String saveDir = this.ftpProperties.getRemoteDir() + &quot;/&quot; + dir;\r\n                if (!directoryExists(saveDir)) {\r\n                    boolean makeDirResult = this.ftpClient.makeDirectory(saveDir);\r\n                    if(!makeDirResult) {\r\n                        log.error(&quot;Storage directory {} does not exist on ftp server, failed to create it!&quot;, saveDir);\r\n                        throw new StorageException(&quot;Storage directory {} does not exist on ftp server, failed to create it!&quot;);\r\n                    }\r\n                }\r\n                String remote = saveDir + &quot;/&quot; + fileName;\r\n    \r\n                if (append)\r\n                    result = ftpClient.appendFile(remote, inputStream);\r\n                else\r\n                    result = ftpClient.storeFile(remote, inputStream);\r\n                if (!result) {\r\n                    log.error(&quot;Cannot save file on server, Server response is: {}&quot;, ftpClient.getReplyCode());\r\n                    throw new StorageException(String.format(&quot;Cannot save file on server: %s&quot;, ftpClient.getReplyCode()));\r\n                }\r\n                return remote;\r\n            }\r\n            finally {\r\n                this.close();\r\n            }\r\n        }\r\n    \r\n        public String saveFile(String sourcePath, String fileName, boolean append) throws Exception {\r\n            InputStream inputStream;\r\n            inputStream = new ClassPathResource(sourcePath).getInputStream();\r\n            return this.saveFile(inputStream, &quot;&quot;, fileName, append);\r\n        }\r\n        private boolean directoryExists(String dirPath) throws IOException {\r\n            ftpClient.changeWorkingDirectory(dirPath);\r\n            int returnCode = ftpClient.getReplyCode();\r\n            return returnCode != 550;\r\n        }\r\n        public boolean isConnected() {\r\n            boolean connected = false;\r\n            if (ftpClient != null) {\r\n                try {\r\n                    connected = ftpClient.sendNoOp();\r\n                } catch (Exception e) {\r\n                    log.error(e.getMessage(), e);\r\n                }\r\n            }\r\n            log.debug(&quot;Checking for connection to FTP server. Is connected: &quot; + connected);\r\n            return connected;\r\n        }\r\n    }\r\n\r\n`FTPFileWriter` interface:\r\n\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    \r\n    public interface FTPFileWriter {\r\n    \r\n        /**\r\n         * Connects to a server and tries to log in the user.\r\n         *\r\n         * @return boolean True if successful, False otherwise.\r\n         */\r\n        boolean open();\r\n    \r\n        /**\r\n         * Logouts the current user and disconnects from the server.\r\n         */\r\n        void close();\r\n    \r\n        /**\r\n         * Retrieve a file from the ftp server.\r\n         *\r\n         * @param remotePath   Remote path for the file to retrieve.\r\n         * @return boolean True if successful, False otherwise.\r\n         */\r\n    \r\n        InputStream loadFile(String remotePath);\r\n    \r\n        boolean delete(String remotePath) throws IOException;\r\n    \r\n        /**\r\n         * Store a file on the ftp server.\r\n         *\r\n         * @param inputStream Stream the new file is read from.\r\n         * @param dir\r\n         * @param destPath    Remote path the file should be placed at.\r\n         * @param append      Append to an existing file or write as a new file.\r\n         * @return boolean True if successful, False otherwise.\r\n         */\r\n    \r\n        String saveFile(InputStream inputStream, String dir, String destPath, boolean append) throws Exception;\r\n    \r\n        /**\r\n         * Store a file on the ftp server.\r\n         *\r\n         * @param sourcePath Local path the file is read from.\r\n         * @param destPath   Remote path the file should be placed at.\r\n         * @param append      Append to an existing file or write as a new file.\r\n         * @return boolean True if successful, False otherwise.\r\n         */\r\n    \r\n        String saveFile(String sourcePath, String destPath, boolean append) throws Exception;\r\n    \r\n        /**\r\n         * Does a NOOP to see if the connection is valid.\r\n         *\r\n         * @return boolean True if connected, False otherwise.\r\n         */\r\n    \r\n        boolean isConnected();\r\n    }\r\n\r\n`FTPProperties` is a class that provides your ftp settings:\r\n\r\n    public class FTPProperties {\r\n        private String server;\r\n        private String username;\r\n        private String password;\r\n        @Min(0)\r\n        @Max(65535)\r\n        private int port;\r\n        private int keepAliveTimout;\r\n        private boolean autoStart;\r\n        private String protocolType;\r\n        private String remoteDir;\r\n    \r\n        @PostConstruct\r\n        public void init() {\r\n            if (port == 0) {\r\n                port = 21;\r\n            }\r\n        }\r\n    }\r\n\r\nYou can implement your own exception classes instead of `StorageException` and `StorageFileNotFoundException` or throw traditional exceptions\r\n\r\nIn case you got `553 Could not create file` error, it relates to lack of privilege for writing to disk for ftp user and you can resolve it by running following command on Linux-based ftp host:\r\n\r\n    chown -R ftpusername /var/ftpfiles\r\n\r\nReplace /var/ftpfiles with path to ftp storage folder.\r\n\r\n  [1]: https://stackoverflow.com/questions/17351695/android-ftp-error-425-cant-open-data-connection\r\n  [2]: https://community.progress.com/s/article/Error-425-Can-t-open-data-connection-1307565974920\r\n","title":"Java FTP client failing with &quot;425 Failed to establish connection&quot;","body":"<p>Please check <a href=\"https://stackoverflow.com/questions/17351695/android-ftp-error-425-cant-open-data-connection\">Android FTP error - 425 Can't open data connection</a> and <a href=\"https://community.progress.com/s/article/Error-425-Can-t-open-data-connection-1307565974920\" rel=\"nofollow noreferrer\">Error: 425 Can't open data connection</a> and edit your configurations based on these guides.</p>\n<p>I'm using this class for ftp handling, you can implement your own exception handling and configuration management.</p>\n<pre><code>import lombok.extern.slf4j.Slf4j;\nimport org.apache.commons.net.ftp.FTP;\nimport org.apache.commons.net.ftp.FTPClient;\nimport org.apache.commons.net.ftp.FTPSClient;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.core.io.ClassPathResource;\nimport org.springframework.stereotype.Component;\n\nimport java.io.IOException;\nimport java.io.InputStream;\n\n@Component\n@Slf4j\npublic class FTPFileWriterImpl implements FTPFileWriter {\n    private final FTPProperties ftpProperties;\n    protected FTPClient ftpClient;\n\n    @Autowired\n    public FTPFileWriterImpl(@Autowired FTPProperties ftpProperties) {\n        this.ftpProperties = ftpProperties;\n    }\n\n    //@PostConstruct\n    public void init() {\n        if (this.ftpProperties.isAutoStart()) {\n            log.debug(&quot;Autostarting connection to FTP server.&quot;);\n            this.open();\n        }\n    }\n\n    public boolean open() {\n        close();\n        log.debug(&quot;Connecting and logging in to FTP server.&quot;);\n        if (ftpProperties.getProtocolType().equals(&quot;SSL&quot;))\n            ftpClient = new FTPSClient();\n        else\n            ftpClient = new FTPClient();\n        ftpClient.enterLocalPassiveMode();\n        boolean loggedIn = false;\n        try {\n            ftpClient.connect(ftpProperties.getServer(), ftpProperties.getPort());\n            loggedIn = ftpClient.login(ftpProperties.getUsername(), ftpProperties.getPassword());\n            if (loggedIn) {\n                ftpClient.setFileType(FTP.BINARY_FILE_TYPE);\n                if (ftpProperties.getKeepAliveTimout() &gt; 0)\n                    ftpClient.setControlKeepAliveTimeout(ftpProperties.getKeepAliveTimout());\n            } else {\n                log.error(&quot;Failed login to FTP server&quot;);\n                ftpClient.logout();\n                ftpClient.disconnect();\n            }\n        } catch (Exception e) {\n            log.error(e.getMessage());\n        }\n        return loggedIn;\n    }\n\n    public void close() {\n        if (ftpClient != null) {\n            try {\n                if (ftpClient.isConnected()) {\n                    ftpClient.logout();\n                    ftpClient.disconnect();\n                }\n            } catch (Exception e) {\n                log.error(e.getMessage(), e);\n            }\n        }\n    }\n\n    public InputStream loadFile(String fileName) {\n        try {\n            log.debug(&quot;Trying to retrieve a file from remote path &quot; + fileName);\n            this.open();\n            return ftpClient.retrieveFileStream(fileName);\n        } catch (IOException e) {\n            log.error(e.getMessage(), e);\n            throw new StorageFileNotFoundException(&quot;File not found!&quot;);\n        } finally {\n            this.close();\n        }\n    }\n\n    public boolean delete(String fileName) throws IOException {\n        this.open();\n        boolean result = ftpClient.deleteFile(fileName);\n        this.close();\n        return result;\n    }\n\n\n    public String saveFile(InputStream inputStream, String dir, String fileName, boolean append) throws Exception {\n        log.debug(&quot;Trying to store a file to destination path &quot; + fileName);\n        boolean result;\n        this.open();\n        try {\n            String saveDir = this.ftpProperties.getRemoteDir() + &quot;/&quot; + dir;\n            if (!directoryExists(saveDir)) {\n                boolean makeDirResult = this.ftpClient.makeDirectory(saveDir);\n                if(!makeDirResult) {\n                    log.error(&quot;Storage directory {} does not exist on ftp server, failed to create it!&quot;, saveDir);\n                    throw new StorageException(&quot;Storage directory {} does not exist on ftp server, failed to create it!&quot;);\n                }\n            }\n            String remote = saveDir + &quot;/&quot; + fileName;\n\n            if (append)\n                result = ftpClient.appendFile(remote, inputStream);\n            else\n                result = ftpClient.storeFile(remote, inputStream);\n            if (!result) {\n                log.error(&quot;Cannot save file on server, Server response is: {}&quot;, ftpClient.getReplyCode());\n                throw new StorageException(String.format(&quot;Cannot save file on server: %s&quot;, ftpClient.getReplyCode()));\n            }\n            return remote;\n        }\n        finally {\n            this.close();\n        }\n    }\n\n    public String saveFile(String sourcePath, String fileName, boolean append) throws Exception {\n        InputStream inputStream;\n        inputStream = new ClassPathResource(sourcePath).getInputStream();\n        return this.saveFile(inputStream, &quot;&quot;, fileName, append);\n    }\n    private boolean directoryExists(String dirPath) throws IOException {\n        ftpClient.changeWorkingDirectory(dirPath);\n        int returnCode = ftpClient.getReplyCode();\n        return returnCode != 550;\n    }\n    public boolean isConnected() {\n        boolean connected = false;\n        if (ftpClient != null) {\n            try {\n                connected = ftpClient.sendNoOp();\n            } catch (Exception e) {\n                log.error(e.getMessage(), e);\n            }\n        }\n        log.debug(&quot;Checking for connection to FTP server. Is connected: &quot; + connected);\n        return connected;\n    }\n}\n</code></pre>\n<p><code>FTPFileWriter</code> interface:</p>\n<pre><code>import java.io.IOException;\nimport java.io.InputStream;\n\npublic interface FTPFileWriter {\n\n    /**\n     * Connects to a server and tries to log in the user.\n     *\n     * @return boolean True if successful, False otherwise.\n     */\n    boolean open();\n\n    /**\n     * Logouts the current user and disconnects from the server.\n     */\n    void close();\n\n    /**\n     * Retrieve a file from the ftp server.\n     *\n     * @param remotePath   Remote path for the file to retrieve.\n     * @return boolean True if successful, False otherwise.\n     */\n\n    InputStream loadFile(String remotePath);\n\n    boolean delete(String remotePath) throws IOException;\n\n    /**\n     * Store a file on the ftp server.\n     *\n     * @param inputStream Stream the new file is read from.\n     * @param dir\n     * @param destPath    Remote path the file should be placed at.\n     * @param append      Append to an existing file or write as a new file.\n     * @return boolean True if successful, False otherwise.\n     */\n\n    String saveFile(InputStream inputStream, String dir, String destPath, boolean append) throws Exception;\n\n    /**\n     * Store a file on the ftp server.\n     *\n     * @param sourcePath Local path the file is read from.\n     * @param destPath   Remote path the file should be placed at.\n     * @param append      Append to an existing file or write as a new file.\n     * @return boolean True if successful, False otherwise.\n     */\n\n    String saveFile(String sourcePath, String destPath, boolean append) throws Exception;\n\n    /**\n     * Does a NOOP to see if the connection is valid.\n     *\n     * @return boolean True if connected, False otherwise.\n     */\n\n    boolean isConnected();\n}\n</code></pre>\n<p><code>FTPProperties</code> is a class that provides your ftp settings:</p>\n<pre><code>public class FTPProperties {\n    private String server;\n    private String username;\n    private String password;\n    @Min(0)\n    @Max(65535)\n    private int port;\n    private int keepAliveTimout;\n    private boolean autoStart;\n    private String protocolType;\n    private String remoteDir;\n\n    @PostConstruct\n    public void init() {\n        if (port == 0) {\n            port = 21;\n        }\n    }\n}\n</code></pre>\n<p>You can implement your own exception classes instead of <code>StorageException</code> and <code>StorageFileNotFoundException</code> or throw traditional exceptions</p>\n<p>In case you got <code>553 Could not create file</code> error, it relates to lack of privilege for writing to disk for ftp user and you can resolve it by running following command on Linux-based ftp host:</p>\n<pre><code>chown -R ftpusername /var/ftpfiles\n</code></pre>\n<p>Replace /var/ftpfiles with path to ftp storage folder.</p>\n"}],"owner":{"account_id":18994654,"reputation":25,"user_id":13863080,"display_name":"Baixa"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1420,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72452519,"answer_count":1,"score":1,"last_activity_date":1656525790,"creation_date":1654018272,"question_id":72452185,"body_markdown":"My `FtpClient` class is producing an error when I try to upload file on ftp server. I get this message:\r\n ``` \r\n220 (vsFTPd 3.0.3)\r\nUSER newftpuser\r\n331 Please specify the password.\r\nPASS ftp\r\n230 Login successful.\r\nTYPE I\r\n200 Switching to Binary mode.\r\nPORT 192,168,1,7,235,73\r\n200 PORT command successful. Consider using PASV.\r\nSTOR /upload/logo.png\r\n425 Failed to establish connection. \r\n```\r\n**FtpClient.java**\r\n```java\r\nimport org.apache.commons.net.PrintCommandListener;\r\nimport org.apache.commons.net.ftp.FTP;\r\nimport org.apache.commons.net.ftp.FTPClient;\r\nimport org.apache.commons.net.ftp.FTPFile;\r\nimport org.apache.commons.net.ftp.FTPReply;\r\n\r\nimport java.io.*;\r\nimport java.util.Arrays;\r\nimport java.util.Collection;\r\nimport java.util.stream.Collectors;\r\n\r\npublic class FtpClient {\r\n\r\n    private String server;\r\n    private int port;\r\n    private String user;\r\n    private String password;\r\n    private FTPClient ftp;\r\n\r\n    public void open() throws IOException {\r\n        ftp = new FTPClient();\r\n        ftp.addProtocolCommandListener(new PrintCommandListener(new PrintWriter(System.out)));\r\n        ftp.enterLocalPassiveMode();\r\n        ftp.connect(server, port);\r\n        int reply = ftp.getReplyCode();\r\n        if (!FTPReply.isPositiveCompletion(reply)) {\r\n            ftp.disconnect();\r\n            throw new IOException(&quot;Exception in connecting to FTP Server&quot;);\r\n        }\r\n        ftp.login(user, password);\r\n\r\n        ftp.setFileType(FTP.BINARY_FILE_TYPE);\r\n    }\r\n\r\n    public void close() throws IOException {\r\n        ftp.disconnect();\r\n    }\r\n\r\n    public void putFileToPath(InputStream inputStream, String path) throws IOException {\r\n        ftp.storeFile(path, inputStream);\r\n    }\r\n}\r\n```\r\n\r\n**Tests**\r\n```java\r\n@Test\r\npublic void dropFileOnFtpServer() throws IOException, URISyntaxException {\r\n\r\n    ftpClient = new FtpClient(...);\r\n    ftpClient.open();\r\n    InputStream inputStream = this.getClass().getResourceAsStream(&quot;/images/logo.png&quot;);\r\n    ftpClient.putFileToPath(inputStream, &quot;/upload/logo.png&quot;);\r\n    assertTrue(ftpClient.listFiles(&quot;/upload&quot;).contains(&quot;logo.png&quot;));\r\n    ftpClient.close();\r\n}\r\n```\r\n\r\n## Solved ##\r\nReason of problem is passive mode. FTPClient of appache.commons.net need to enable passive mode manually before downloading or uploading files, so programs didn&#39;t work correct. \r\n\r\n**Solution**\r\n\r\n```java\r\npublic void putFileToPath(InputStream inputStream, String path) throws IOException { \r\n        ftp.enterLocalPassiveMode(); \r\n        /* I enable this mode before connecting ftp, so client doesnt work*/\r\n        ftp.storeFile(path, inputStream);\r\n} \r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/19121623/eskandar-abedini","title":"Java FTP client failing with &quot;425 Failed to establish connection&quot;","body":"<p>My <code>FtpClient</code> class is producing an error when I try to upload file on ftp server. I get this message:</p>\n<pre><code>220 (vsFTPd 3.0.3)\nUSER newftpuser\n331 Please specify the password.\nPASS ftp\n230 Login successful.\nTYPE I\n200 Switching to Binary mode.\nPORT 192,168,1,7,235,73\n200 PORT command successful. Consider using PASV.\nSTOR /upload/logo.png\n425 Failed to establish connection. \n</code></pre>\n<p><strong>FtpClient.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.apache.commons.net.PrintCommandListener;\nimport org.apache.commons.net.ftp.FTP;\nimport org.apache.commons.net.ftp.FTPClient;\nimport org.apache.commons.net.ftp.FTPFile;\nimport org.apache.commons.net.ftp.FTPReply;\n\nimport java.io.*;\nimport java.util.Arrays;\nimport java.util.Collection;\nimport java.util.stream.Collectors;\n\npublic class FtpClient {\n\n    private String server;\n    private int port;\n    private String user;\n    private String password;\n    private FTPClient ftp;\n\n    public void open() throws IOException {\n        ftp = new FTPClient();\n        ftp.addProtocolCommandListener(new PrintCommandListener(new PrintWriter(System.out)));\n        ftp.enterLocalPassiveMode();\n        ftp.connect(server, port);\n        int reply = ftp.getReplyCode();\n        if (!FTPReply.isPositiveCompletion(reply)) {\n            ftp.disconnect();\n            throw new IOException(&quot;Exception in connecting to FTP Server&quot;);\n        }\n        ftp.login(user, password);\n\n        ftp.setFileType(FTP.BINARY_FILE_TYPE);\n    }\n\n    public void close() throws IOException {\n        ftp.disconnect();\n    }\n\n    public void putFileToPath(InputStream inputStream, String path) throws IOException {\n        ftp.storeFile(path, inputStream);\n    }\n}\n</code></pre>\n<p><strong>Tests</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\npublic void dropFileOnFtpServer() throws IOException, URISyntaxException {\n\n    ftpClient = new FtpClient(...);\n    ftpClient.open();\n    InputStream inputStream = this.getClass().getResourceAsStream(&quot;/images/logo.png&quot;);\n    ftpClient.putFileToPath(inputStream, &quot;/upload/logo.png&quot;);\n    assertTrue(ftpClient.listFiles(&quot;/upload&quot;).contains(&quot;logo.png&quot;));\n    ftpClient.close();\n}\n</code></pre>\n<h2>Solved</h2>\n<p>Reason of problem is passive mode. FTPClient of appache.commons.net need to enable passive mode manually before downloading or uploading files, so programs didn't work correct.</p>\n<p><strong>Solution</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public void putFileToPath(InputStream inputStream, String path) throws IOException { \n        ftp.enterLocalPassiveMode(); \n        /* I enable this mode before connecting ftp, so client doesnt work*/\n        ftp.storeFile(path, inputStream);\n} \n</code></pre>\n"},{"tags":["java","list","algorithm","recursion","combinations"],"comments":[{"owner":{"account_id":6781763,"reputation":3428,"user_id":5267751,"display_name":"user202729"},"score":2,"creation_date":1656260642,"post_id":72763128,"comment_id":128523247,"body_markdown":"Also classically known as the knapsack problem.","body":"Also classically known as the knapsack problem."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1656264315,"post_id":72763128,"comment_id":128524058,"body_markdown":"So you want to find out whether it&#39;s possible or not to construct the target sum from the given numbers *recursively*, using any of the number in the list not more than once, correct?","body":"So you want to find out whether it&#39;s possible or not to construct the target sum from the given numbers <i>recursively</i>, using any of the number in the list not more than once, correct?"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1656264435,"post_id":72763128,"comment_id":128524083,"body_markdown":"Maybe return type might be `boolean`, what&#39;s the point of returning the same number to the caller?","body":"Maybe return type might be <code>boolean</code>, what&#39;s the point of returning the same number to the caller?"},{"owner":{"account_id":18519443,"reputation":627,"user_id":17120914,"display_name":"Alix Blaine"},"score":0,"creation_date":1656264922,"post_id":72763128,"comment_id":128524174,"body_markdown":"@AlexanderIvanchenko, why `boolean` ?","body":"@AlexanderIvanchenko, why <code>boolean</code> ?"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":1,"creation_date":1656264987,"post_id":72763128,"comment_id":128524192,"body_markdown":"Can you answer the first question (where I&#39;m asking whether my understanding of the problem is correct) ?","body":"Can you answer the first question (where I&#39;m asking whether my understanding of the problem is correct) ?"},{"owner":{"account_id":18519443,"reputation":627,"user_id":17120914,"display_name":"Alix Blaine"},"score":0,"creation_date":1656265042,"post_id":72763128,"comment_id":128524205,"body_markdown":"@AlexanderIvanchenko, please see the entire post. I just added more, see the last code snippet here as well. Thanks.","body":"@AlexanderIvanchenko, please see the entire post. I just added more, see the last code snippet here as well. Thanks."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":1,"creation_date":1656265184,"post_id":72763128,"comment_id":128524232,"body_markdown":"You didn&#39;t answer my question? You need to find out whether it&#39;s possible to obtain the target sum from the given numbers? Right?","body":"You didn&#39;t answer my question? You need to find out whether it&#39;s possible to obtain the target sum from the given numbers? Right?"},{"owner":{"account_id":18519443,"reputation":627,"user_id":17120914,"display_name":"Alix Blaine"},"score":0,"creation_date":1656265224,"post_id":72763128,"comment_id":128524241,"body_markdown":"@AlexanderIvanchenko, for example, given this list: `[1,3,2,2,6,5]` find out with which numbers, you can sum together to construct target value. Is it possible to do it more than once? If, target= **12**, then yes, **3+2+2+5=12** but so will **1+5+6**, however, if we use the numbers to sum a target value, we cannot reuse the same numbers. Meaning that, if **3+2+2+5=12** these match and are used, we are left with `[1,6]` and if these two do not sum to the target then we are **DONE**.","body":"@AlexanderIvanchenko, for example, given this list: <code>[1,3,2,2,6,5]</code> find out with which numbers, you can sum together to construct target value. Is it possible to do it more than once? If, target= <b>12</b>, then yes, <b>3+2+2+5=12</b> but so will <b>1+5+6</b>, however, if we use the numbers to sum a target value, we cannot reuse the same numbers. Meaning that, if <b>3+2+2+5=12</b> these match and are used, we are left with <code>[1,6]</code> and if these two do not sum to the target then we are <b>DONE</b>."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1656265507,"post_id":72763128,"comment_id":128524297,"body_markdown":"`Is it possible to do it more than once? ` - there&#39;s no mention of this requirement in your question. And this requirement is **important**, it should be added to to the question: your current problem statement is vague: *the sum of numbers that makes up the target. And then removes the rest if there aren&#39;t anymore*","body":"<code>Is it possible to do it more than once? </code> - there&#39;s no mention of this requirement in your question. And this requirement is <b>important</b>, it should be added to to the question: your current problem statement is vague: <i>the sum of numbers that makes up the target. And then removes the rest if there aren&#39;t anymore</i>"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1656265697,"post_id":72763128,"comment_id":128524337,"body_markdown":"`do not sum to the target then we are DONE.` - and what should be the return `value` (non of the examples shows what should be returned), number of combinations that add up to the target sum?","body":"<code>do not sum to the target then we are DONE.</code> - and what should be the return <code>value</code> (non of the examples shows what should be returned), number of combinations that add up to the target sum?"},{"owner":{"account_id":18519443,"reputation":627,"user_id":17120914,"display_name":"Alix Blaine"},"score":0,"creation_date":1656265730,"post_id":72763128,"comment_id":128524343,"body_markdown":"@AlexanderIvanchenko, every detailed information is in the post here. The examples there highlight the problem as a whole. If, `[,3,2,2,6,6,5]` sort = `[2,2,3,5,6,6]` and sum up the firs possible sum till we reach the target, **2+2+3+5** = 12, and then we are left with remainders which we need to test again, in this context `[6,6]` also produce target value **12** therefore, we add this sum to the sums and hence = 12 + 12 = 24.","body":"@AlexanderIvanchenko, every detailed information is in the post here. The examples there highlight the problem as a whole. If, <code>[,3,2,2,6,6,5]</code> sort = <code>[2,2,3,5,6,6]</code> and sum up the firs possible sum till we reach the target, <b>2+2+3+5</b> = 12, and then we are left with remainders which we need to test again, in this context <code>[6,6]</code> also produce target value <b>12</b> therefore, we add this sum to the sums and hence = 12 + 12 = 24."},{"owner":{"account_id":18519443,"reputation":627,"user_id":17120914,"display_name":"Alix Blaine"},"score":0,"creation_date":1656265810,"post_id":72763128,"comment_id":128524364,"body_markdown":"@AlexanderIvanchenko, please, please. &gt; &quot;what should be the return value&quot;, please see the latest version, **New version** above which adds up the sums in an ArrayList and then returns the sum();","body":"@AlexanderIvanchenko, please, please. &gt; &quot;what should be the return value&quot;, please see the latest version, <b>New version</b> above which adds up the sums in an ArrayList and then returns the sum();"},{"owner":{"account_id":18519443,"reputation":627,"user_id":17120914,"display_name":"Alix Blaine"},"score":0,"creation_date":1656265834,"post_id":72763128,"comment_id":128524370,"body_markdown":"`if(numbers.size() == 0) {\n            sums.add(sum);\n            return sums.stream().mapToInt(Integer::intValue).sum();\n        }`","body":"<code>if(numbers.size() == 0) {             sums.add(sum);             return sums.stream().mapToInt(Integer::intValue).sum();         }</code>"},{"owner":{"account_id":18519443,"reputation":627,"user_id":17120914,"display_name":"Alix Blaine"},"score":0,"creation_date":1656266225,"post_id":72763128,"comment_id":128524447,"body_markdown":"@AlexanderIvanchenko, I&#39;ve added a **PROBLEM** description now to further explain the issue.","body":"@AlexanderIvanchenko, I&#39;ve added a <b>PROBLEM</b> description now to further explain the issue."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":1,"creation_date":1656267293,"post_id":72763128,"comment_id":128524663,"body_markdown":"I&#39;ve read it. I&#39;ll try again, please correct me if I&#39;m getting you wrong. Let&#39;s say the target is `12` and it&#39;s impossible to sum up the given numbers even once to obtain `12` the return value should be `0`. If only one unique combination (without reuse of numbers) gives `12`, then the return value should be `12`. If there are two such unique combinations, then the return value would be `24`. And so on. Is it correct?","body":"I&#39;ve read it. I&#39;ll try again, please correct me if I&#39;m getting you wrong. Let&#39;s say the target is <code>12</code> and it&#39;s impossible to sum up the given numbers even once to obtain <code>12</code> the return value should be <code>0</code>. If only one unique combination (without reuse of numbers) gives <code>12</code>, then the return value should be <code>12</code>. If there are two such unique combinations, then the return value would be <code>24</code>. And so on. Is it correct?"},{"owner":{"account_id":18519443,"reputation":627,"user_id":17120914,"display_name":"Alix Blaine"},"score":0,"creation_date":1656267783,"post_id":72763128,"comment_id":128524774,"body_markdown":"@AlexanderIvanchenko, **EXACTLY**, and one combination can only be used once.","body":"@AlexanderIvanchenko, <b>EXACTLY</b>, and one combination can only be used once."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1656523736,"post_id":72763128,"comment_id":128596274,"body_markdown":"See the [*demo*](https://www.jdoodle.com/ia/sKM) with your new code. Numbers: `[6, 3, 1, 1, 1, 3]`, target `3`. The result should be `6`.  But method `findCombinations()` fail to find any combinations because of the condition `if(arr.get(i) &gt; target) break;`","body":"See the <a href=\"https://www.jdoodle.com/ia/sKM\" rel=\"nofollow noreferrer\"><i>demo</i></a> with your new code. Numbers: <code>[6, 3, 1, 1, 1, 3]</code>, target <code>3</code>. The result should be <code>6</code>.  But method <code>findCombinations()</code> fail to find any combinations because of the condition <code>if(arr.get(i) &gt; target) break;</code>"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1656526454,"post_id":72763128,"comment_id":128597216,"body_markdown":"The line `if(i&gt;index &amp;&amp; arr.get(i) == arr.get(i-1)) continue;` is suspicious  - why should we prohibit the the same value to be added to the combination? And BTW `arr.get(i) == arr.get(i-1)` is not a correct way to compare instances `Integer` (always use `equals()` to compare objects). I think this line isn&#39;t helpful here, consider removing it. In regard to `if(arr.get(i) &gt; target) break; - change it to `continue`.","body":"The line <code>if(i&gt;index &amp;&amp; arr.get(i) == arr.get(i-1)) continue;</code> is suspicious  - why should we prohibit the the same value to be added to the combination? And BTW <code>arr.get(i) == arr.get(i-1)</code> is not a correct way to compare instances <code>Integer</code> (always use <code>equals()</code> to compare objects). I think this line isn&#39;t helpful here, consider removing it. In regard to <code>if(arr.get(i) &gt; target) break; - change it to </code>continue`."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1656526976,"post_id":72763128,"comment_id":128597373,"body_markdown":"The logic in the method `sum()` is not viable. It neither checks anyhow whether the next combination overlap with previously encountered combinations, no verifies if the current sum is optimal (or there are better options).","body":"The logic in the method <code>sum()</code> is not viable. It neither checks anyhow whether the next combination overlap with previously encountered combinations, no verifies if the current sum is optimal (or there are better options)."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1656524705,"creation_date":1656284065,"answer_id":72765660,"question_id":72763128,"body_markdown":"&lt;h3&gt;Update&lt;/h3&gt;\r\n\r\nIn order to find the maximum possible score of the list, we maximize the number of *non-overlapping combinations* that we can construct from it.\r\n\r\nFor we need to take the following steps:\r\n\r\n* Find all the possible *combinations* which produce the `target` sum. We can **not** reject any combinations on the fly, because we can&#39;t know in advance which of them can be used in the optimal solution. For instance, if `target` is `6` and a list of number is `[3,3,2,2,1,1]`, there will be the following combinations: `[3,3]`, `[2,2,1,1]` and `[3,2,1]` appear two times. If we pick `[3,3]`, which is the shortest combination, we will not be able to construct any combinations and resulting score will be wrong (`6`). Instead, we need to choose two combinations `[3,2,1]` which well give the result `12`. That proves that we can&#39;t rely on the combination size, we need to explore all the combinations and then choose the optimal set of combinations.\r\n\r\n* Generate all possible groups of combinations that fit to the given list of numbers and find a group having the maximum number of combinations in it.\r\n\r\nIn the code below both steps are implemented recursively.\r\n\r\n[*A link to Online Demo*](https://www.jdoodle.com/ia/sKN)\r\n\r\n*Expalanation:*\r\n\r\nThe enty point, this method that kicks in the process. \r\n\r\n    public static int sumRecursively(List&lt;Integer&gt; numbers, int target) {\r\n        Deque&lt;List&lt;Integer&gt;&gt; combinations = new ArrayDeque&lt;&gt;();\r\n        generateCombinations(numbers, combinations, new ArrayList&lt;&gt;(), target);\r\n        \r\n        return processCombinations(combinations, numbers, target);\r\n    }\r\n\r\n**Step 1**. Generating all the *combinations*.\r\n\r\nRecursive method responsible for generating the set of combinations (implemented as `void` to avoid wrapping a combination with an additional collection and then throwing this wrapper away):\r\n\r\n    private static void generateCombinations(List&lt;Integer&gt; numbers,\r\n                                             Queue&lt;List&lt;Integer&gt;&gt; combinations,\r\n                                             List&lt;Integer&gt; combination,\r\n                                             int currentSum) {\r\n        \r\n        if (currentSum == 0) { // base case - a combination has been found\r\n            combinations.add(combination);\r\n            return;\r\n        }        \r\n        // recursive case        \r\n        for (Integer next : numbers) { // loop is need only to discard the elements that exceed the currentSum - pay attention to the condition below and break clause at the end of the loop (we will bread out of the loop after the first encountered element that fits to the current sum)\r\n            \r\n            if (next &gt; currentSum) continue;\r\n            \r\n            List&lt;Integer&gt; newNumbers = new ArrayList&lt;&gt;(numbers);\r\n            newNumbers.remove(next);\r\n            // there two opportunities for each number: use it, or ignore it\r\n            // add next number\r\n            List&lt;Integer&gt; newCombination = new ArrayList&lt;&gt;(combination);\r\n            newCombination.add(next);\r\n            getCombinations(newNumbers, combinations, newCombination, currentSum - next);\r\n            // ignore next number\r\n            getCombinations(newNumbers, combinations, new ArrayList&lt;&gt;(combination), currentSum);\r\n            \r\n            break;\r\n        }\r\n    }\r\n\r\n**Step 2**. Generating the *groups of combinations*.\r\n\r\nMethod below is responsible choosing the group that fits to the given list (i.e. we can construct all the combinations in the group from list elements) and has the maximum number of combinations in it.\r\n\r\nAll the functionality related to the procissing the the group of combinations (which represents a `List&lt;List&lt;Integer&gt;&gt;`) is incapsulated in a class `CombinationGroup` to make the code cleaner.\r\n\r\n    public static int processCombinations(Deque&lt;List&lt;Integer&gt;&gt; combinations,\r\n                                          List&lt;Integer&gt; numbers,\r\n                                          int target) {\r\n        \r\n        List&lt;CombinationGroup&gt; combinationGroups = new ArrayList&lt;&gt;();\r\n        generateGroups(combinationGroups, combinations, new CombinationGroup(numbers.size()));\r\n        \r\n        return combinationGroups.stream()\r\n            .filter(group -&gt; group.canConstruct(numbers))\r\n            .mapToInt(group -&gt; group.getCombCount() * target)\r\n            .max()\r\n            .orElse(0);\r\n    }\r\n\r\nThe following method is responsible for creating the all possible groups of previosly descovered combinations. There&#39;s also a small optimization: total number of elements in each group should not exceed the number of elements in the source list:\r\n\r\n    public static void generateGroups(List&lt;CombinationGroup&gt; groups,\r\n                                      Deque&lt;List&lt;Integer&gt;&gt; combinations,\r\n                                      CombinationGroup group) {\r\n        \r\n        if (combinations.isEmpty()) {\r\n            groups.add(group);\r\n            return;\r\n        }\r\n        \r\n        Deque&lt;List&lt;Integer&gt;&gt; combinationsCopy = new ArrayDeque&lt;&gt;(combinations);\r\n        List&lt;Integer&gt; comb = null;\r\n        while (!combinationsCopy.isEmpty() &amp;&amp; (comb == null || !group.canAdd(comb))) {\r\n            comb = combinationsCopy.removeLast();\r\n        }\r\n        // adding the combination\r\n        if (comb != null) {\r\n            CombinationGroup groupWithNewComb = group.copy();\r\n            groupWithNewComb.addCombination(comb);\r\n            generateGroups(groups, combinationsCopy, groupWithNewComb);\r\n        }\r\n        // ignoring the combination\r\n        generateGroups(groups, combinationsCopy, group);\r\n    }\r\n\r\nClass `CombinationGroup` used in the methods above:\r\n\r\n    public class CombinationGroup {\r\n        private List&lt;List&lt;Integer&gt;&gt; combinations = new ArrayList&lt;&gt;();\r\n        private int combCount; // number of combinations\r\n        private int size;      // total number of elements in the list of combinations\r\n        private int sizeLimit;\r\n        \r\n        public CombinationGroup(int sizeLimit) {\r\n            this.sizeLimit = sizeLimit;\r\n        }\r\n        \r\n        public boolean canAdd(List&lt;Integer&gt; combination) {\r\n            return size + combination.size() &lt;= sizeLimit;\r\n        }\r\n        \r\n        public boolean addCombination(List&lt;Integer&gt; combination) {\r\n            if (!canAdd(combination)) return false;\r\n            \r\n            combinations.add(combination);\r\n            size += combination.size();\r\n            combCount++;\r\n            return true;\r\n        }\r\n        \r\n        public CombinationGroup copy() {\r\n            CombinationGroup copy = new CombinationGroup(this.sizeLimit);\r\n            for (List&lt;Integer&gt; comb : combinations) {\r\n                copy.addCombination(comb);\r\n            }\r\n            return copy;\r\n        }\r\n        \r\n        public boolean canConstruct(List&lt;Integer&gt; numbers) {\r\n            if (numbers.size() &lt; size) return false;\r\n            \r\n            Map&lt;Integer, Long&gt; frequencyByValueNumb = getFrequencies(numbers.stream());\r\n            Map&lt;Integer, Long&gt; frequencyByValueComb = getFrequencies();\r\n            \r\n            return frequencyByValueNumb.keySet().stream() // each element that prent this CombinationGroup appears in the given list of numbers appears at least the same number of times - that means we construct all these combinations from the given list\r\n                .allMatch(key -&gt; frequencyByValueNumb.get(key) &gt;= frequencyByValueComb.getOrDefault(key, 0L));\r\n        }\r\n        \r\n        public Map&lt;Integer, Long&gt; getFrequencies() {\r\n            return getFrequencies(combinations.stream().flatMap(List::stream));\r\n        }\r\n        \r\n        public Map&lt;Integer, Long&gt; getFrequencies(Stream&lt;Integer&gt; stream) {\r\n            return stream.collect(Collectors.groupingBy(\r\n                Function.identity(),\r\n                Collectors.counting()\r\n            ));\r\n        }\r\n    \r\n        public int getCombCount() {\r\n            return combCount;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return &quot;CombinationGroup{&quot; +\r\n                &quot;combinations=&quot; + combinations +\r\n                &#39;}&#39;;\r\n        }\r\n    }\r\n\r\n`main()`\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(sumRecursively(List.of(1, 3, 4, 5, 6, 6), 12));\r\n        System.out.println(sumRecursively(List.of(1, 3, 3, 6, 5), 12));\r\n        System.out.println(sumRecursively(List.of(1, 2, 1, 4, 5, 6), 6));\r\n    }\r\n\r\n*Output:*\r\n```\r\n24\r\n12\r\n18\r\n```\r\n_____________________________________\r\n&lt;h3&gt;Simplified algorithm&lt;/h3&gt; \r\n&lt;h5&gt;(doesn&#39;t maximizes the number of combinations)&lt;/h5&gt;\r\n\r\nIn order to ensure that all the elements in each combination are unique, we to **track** indices that have been already used. I.e. each time we find a combination which sums up to the target number, we should prohibit the usage of elements that have been used in this combination, but not earlier (because there can be many combinations which are not able to produce the target, and therefore any element should eligible to be used until we didn&#39;t construct a complete combination that gives the target using this element).\r\n\r\nTo track the elements that are taken, we need an object that would be visible in every recursive branch. And we are already passing a list of numbers while making every recursive call, what if we would modify it each time we found a combination that produces the target number by removing the elements that have been use in this combination? If we took this road after the first combination, thing would become complicated because we will not be able to rely on the indices (*because they can change in an unpredictable way*) while constructing a single combination - it&#39;s crucial to ensure that each element that belongs to a particular combination is used only once withing a combination. Since values of elements might be identical, we should use the iteration order to construct each combination properly, but each removal of elements would create a mess. So, is there a better way?\r\n\r\nWe can maintain an array of `boolean` values, each element is this array would indicate whether a number at a particular index already belongs to a combination that gives the target or not.\r\n\r\nInstead of clattering the recursive method with the code that manipulates with this `boolean` array, I&#39;ve encapsulated it within a class with simple and self-explanatory methods, and `sumRecursively()` makes use of an instance of this class.\r\n```\r\npublic class CombinationTracker {\r\n    private boolean[] isUsed;\r\n    \r\n    public CombinationTracker(int size) {\r\n        this.isUsed = new boolean[size];\r\n    }\r\n    \r\n    public boolean indexIsUsed(int ind) {\r\n        return isUsed[ind];\r\n    }\r\n    \r\n    public boolean allNotUsed(List&lt;Integer&gt; indices) {\r\n//            return indices.stream().noneMatch(i -&gt; isUsed[i]); // this line does the same as the loop below\r\n        \r\n        boolean result = true;\r\n        for (int idx: indices) {\r\n            if (isUsed[idx]) {\r\n                result = false;\r\n                break;\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n    \r\n    public void setIsUsed(List&lt;Integer&gt; indices) {\r\n        for (int ind: indices)\r\n            setIsUsed(ind);\r\n    }\r\n    \r\n    public void setIsUsed(int ind) {\r\n        isUsed[ind] = true;\r\n    }\r\n}\r\n```\r\nUsing this approach, we are able to construct combinations from numbers that are not used yet, and iterate over the list of numbers starting from a particular position by passing the index while making a recursive call.  We can be sure that any of the elements that reside prier to the current position would not be added to the current combination.\r\n\r\nNow, a quick recap on *recursion*.\r\n\r\nEvery recursive implementation consists of two parts:\r\n\r\n * **Base case** - that represents an edge-case (*or a set of edge-cases*) for which the outcome is known in advance. For this problem, there are **two** edge-cases: \r\n\r\n      * we&#39;ve managed to find a combination that gives the target number, i.e. `currentSum == target`, and the result would be equal to `target`; \r\n\r\n      * the end of the list is reached (and the combination doesn&#39;t result to the target), the result would be `0` (this edge-case resolves automatically by termination condition of the `for` loop in the *recursive case*, and therefore no need to treat it separately).\r\n\r\n* **Recursive case** - a part of a solution where recursive calls are made and where the main logic resides. In the *recursive case* we&#39;re iterating over the list of numbers and at each iteration step (*if the index is not yet used*) we are making *one* or *two* recursive calls depending on a value of the current element (*depending whether we exceed the target or not*). In the general, we have two opportunities: either take the current element, or ignore it. The results of these recursive calls would be added together and produce the return value of the *recursive case*.\r\n\r\nSince we need a couple of additional parameters, it&#39;s a good practice to create an auxiliary overloaded method (*that will be used in the client code*) which expects *only* a list of numbers and a target value and delegates the actual work to the recursive method.\r\n\r\nThat&#39;s how it might look like.\r\n\r\n    public static int sumRecursively(List&lt;Integer&gt; numbers, int target) {\r\n        \r\n        return sumRecursively(new ArrayList&lt;&gt;(numbers),\r\n                              new ArrayList&lt;&gt;(),\r\n                              new CombinationTracker(numbers.size()),\r\n                              0, 0, target);\r\n    }\r\n\r\nThe actual recursive method:\r\n\r\n    private static int sumRecursively(List&lt;Integer&gt; numbers,\r\n                                      List&lt;Integer&gt; combination,\r\n                                      CombinationTracker tracker,\r\n                                      int currentIndex,\r\n                                      int currentSum, int target) {\r\n        \r\n        if (currentSum == target &amp;&amp; tracker.allNotUsed(combination)) { // base case - a combination has been found\r\n            tracker.setIsUsed(combination);\r\n            return target;\r\n        }\r\n        \r\n        // recursive case\r\n        int result = 0;\r\n        \r\n        for (int i = currentIndex; i &lt; numbers.size(); i++) {\r\n\r\n            int next = numbers.get(i);\r\n\r\n            if (tracker.indexIsUsed(i)) continue;\r\n            if (currentSum + next &gt; target) continue;\r\n            // there are two opportunities for each number: either use next number, or ignore it\r\n            // add next number\r\n            if (next + currentSum &lt;= target) {\r\n                List&lt;Integer&gt; newCombination = new ArrayList&lt;&gt;(combination);\r\n                newCombination.add(i);\r\n                result += sumRecursively(numbers, newCombination, tracker, i + 1, currentSum + next, target);\r\n            }\r\n            // ignore next number\r\n            result += sumRecursively(numbers, new ArrayList&lt;&gt;(combination), tracker, i + 1, currentSum, target);\r\n        }\r\n        return result;\r\n    }\r\n\r\n`main()`\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(sumRecursively(List.of(1, 3, 4, 5, 6, 6), 12));\r\n        System.out.println(sumRecursively(List.of(6, 6, 6, 6, 6, 6), 12));\r\n    }\r\n\r\n*Output:*\r\n```\r\n12\r\n36\r\n```","title":"Calculate the sum of dices based on target accurately","body":"<h3>Update</h3>\n<p>In order to find the maximum possible score of the list, we maximize the number of <em>non-overlapping combinations</em> that we can construct from it.</p>\n<p>For we need to take the following steps:</p>\n<ul>\n<li><p>Find all the possible <em>combinations</em> which produce the <code>target</code> sum. We can <strong>not</strong> reject any combinations on the fly, because we can't know in advance which of them can be used in the optimal solution. For instance, if <code>target</code> is <code>6</code> and a list of number is <code>[3,3,2,2,1,1]</code>, there will be the following combinations: <code>[3,3]</code>, <code>[2,2,1,1]</code> and <code>[3,2,1]</code> appear two times. If we pick <code>[3,3]</code>, which is the shortest combination, we will not be able to construct any combinations and resulting score will be wrong (<code>6</code>). Instead, we need to choose two combinations <code>[3,2,1]</code> which well give the result <code>12</code>. That proves that we can't rely on the combination size, we need to explore all the combinations and then choose the optimal set of combinations.</p>\n</li>\n<li><p>Generate all possible groups of combinations that fit to the given list of numbers and find a group having the maximum number of combinations in it.</p>\n</li>\n</ul>\n<p>In the code below both steps are implemented recursively.</p>\n<p><a href=\"https://www.jdoodle.com/ia/sKN\" rel=\"nofollow noreferrer\"><em>A link to Online Demo</em></a></p>\n<p><em>Expalanation:</em></p>\n<p>The enty point, this method that kicks in the process.</p>\n<pre><code>public static int sumRecursively(List&lt;Integer&gt; numbers, int target) {\n    Deque&lt;List&lt;Integer&gt;&gt; combinations = new ArrayDeque&lt;&gt;();\n    generateCombinations(numbers, combinations, new ArrayList&lt;&gt;(), target);\n    \n    return processCombinations(combinations, numbers, target);\n}\n</code></pre>\n<p><strong>Step 1</strong>. Generating all the <em>combinations</em>.</p>\n<p>Recursive method responsible for generating the set of combinations (implemented as <code>void</code> to avoid wrapping a combination with an additional collection and then throwing this wrapper away):</p>\n<pre><code>private static void generateCombinations(List&lt;Integer&gt; numbers,\n                                         Queue&lt;List&lt;Integer&gt;&gt; combinations,\n                                         List&lt;Integer&gt; combination,\n                                         int currentSum) {\n    \n    if (currentSum == 0) { // base case - a combination has been found\n        combinations.add(combination);\n        return;\n    }        \n    // recursive case        \n    for (Integer next : numbers) { // loop is need only to discard the elements that exceed the currentSum - pay attention to the condition below and break clause at the end of the loop (we will bread out of the loop after the first encountered element that fits to the current sum)\n        \n        if (next &gt; currentSum) continue;\n        \n        List&lt;Integer&gt; newNumbers = new ArrayList&lt;&gt;(numbers);\n        newNumbers.remove(next);\n        // there two opportunities for each number: use it, or ignore it\n        // add next number\n        List&lt;Integer&gt; newCombination = new ArrayList&lt;&gt;(combination);\n        newCombination.add(next);\n        getCombinations(newNumbers, combinations, newCombination, currentSum - next);\n        // ignore next number\n        getCombinations(newNumbers, combinations, new ArrayList&lt;&gt;(combination), currentSum);\n        \n        break;\n    }\n}\n</code></pre>\n<p><strong>Step 2</strong>. Generating the <em>groups of combinations</em>.</p>\n<p>Method below is responsible choosing the group that fits to the given list (i.e. we can construct all the combinations in the group from list elements) and has the maximum number of combinations in it.</p>\n<p>All the functionality related to the procissing the the group of combinations (which represents a <code>List&lt;List&lt;Integer&gt;&gt;</code>) is incapsulated in a class <code>CombinationGroup</code> to make the code cleaner.</p>\n<pre><code>public static int processCombinations(Deque&lt;List&lt;Integer&gt;&gt; combinations,\n                                      List&lt;Integer&gt; numbers,\n                                      int target) {\n    \n    List&lt;CombinationGroup&gt; combinationGroups = new ArrayList&lt;&gt;();\n    generateGroups(combinationGroups, combinations, new CombinationGroup(numbers.size()));\n    \n    return combinationGroups.stream()\n        .filter(group -&gt; group.canConstruct(numbers))\n        .mapToInt(group -&gt; group.getCombCount() * target)\n        .max()\n        .orElse(0);\n}\n</code></pre>\n<p>The following method is responsible for creating the all possible groups of previosly descovered combinations. There's also a small optimization: total number of elements in each group should not exceed the number of elements in the source list:</p>\n<pre><code>public static void generateGroups(List&lt;CombinationGroup&gt; groups,\n                                  Deque&lt;List&lt;Integer&gt;&gt; combinations,\n                                  CombinationGroup group) {\n    \n    if (combinations.isEmpty()) {\n        groups.add(group);\n        return;\n    }\n    \n    Deque&lt;List&lt;Integer&gt;&gt; combinationsCopy = new ArrayDeque&lt;&gt;(combinations);\n    List&lt;Integer&gt; comb = null;\n    while (!combinationsCopy.isEmpty() &amp;&amp; (comb == null || !group.canAdd(comb))) {\n        comb = combinationsCopy.removeLast();\n    }\n    // adding the combination\n    if (comb != null) {\n        CombinationGroup groupWithNewComb = group.copy();\n        groupWithNewComb.addCombination(comb);\n        generateGroups(groups, combinationsCopy, groupWithNewComb);\n    }\n    // ignoring the combination\n    generateGroups(groups, combinationsCopy, group);\n}\n</code></pre>\n<p>Class <code>CombinationGroup</code> used in the methods above:</p>\n<pre><code>public class CombinationGroup {\n    private List&lt;List&lt;Integer&gt;&gt; combinations = new ArrayList&lt;&gt;();\n    private int combCount; // number of combinations\n    private int size;      // total number of elements in the list of combinations\n    private int sizeLimit;\n    \n    public CombinationGroup(int sizeLimit) {\n        this.sizeLimit = sizeLimit;\n    }\n    \n    public boolean canAdd(List&lt;Integer&gt; combination) {\n        return size + combination.size() &lt;= sizeLimit;\n    }\n    \n    public boolean addCombination(List&lt;Integer&gt; combination) {\n        if (!canAdd(combination)) return false;\n        \n        combinations.add(combination);\n        size += combination.size();\n        combCount++;\n        return true;\n    }\n    \n    public CombinationGroup copy() {\n        CombinationGroup copy = new CombinationGroup(this.sizeLimit);\n        for (List&lt;Integer&gt; comb : combinations) {\n            copy.addCombination(comb);\n        }\n        return copy;\n    }\n    \n    public boolean canConstruct(List&lt;Integer&gt; numbers) {\n        if (numbers.size() &lt; size) return false;\n        \n        Map&lt;Integer, Long&gt; frequencyByValueNumb = getFrequencies(numbers.stream());\n        Map&lt;Integer, Long&gt; frequencyByValueComb = getFrequencies();\n        \n        return frequencyByValueNumb.keySet().stream() // each element that prent this CombinationGroup appears in the given list of numbers appears at least the same number of times - that means we construct all these combinations from the given list\n            .allMatch(key -&gt; frequencyByValueNumb.get(key) &gt;= frequencyByValueComb.getOrDefault(key, 0L));\n    }\n    \n    public Map&lt;Integer, Long&gt; getFrequencies() {\n        return getFrequencies(combinations.stream().flatMap(List::stream));\n    }\n    \n    public Map&lt;Integer, Long&gt; getFrequencies(Stream&lt;Integer&gt; stream) {\n        return stream.collect(Collectors.groupingBy(\n            Function.identity(),\n            Collectors.counting()\n        ));\n    }\n\n    public int getCombCount() {\n        return combCount;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;CombinationGroup{&quot; +\n            &quot;combinations=&quot; + combinations +\n            '}';\n    }\n}\n</code></pre>\n<p><code>main()</code></p>\n<pre><code>public static void main(String[] args) {\n    System.out.println(sumRecursively(List.of(1, 3, 4, 5, 6, 6), 12));\n    System.out.println(sumRecursively(List.of(1, 3, 3, 6, 5), 12));\n    System.out.println(sumRecursively(List.of(1, 2, 1, 4, 5, 6), 6));\n}\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>24\n12\n18\n</code></pre>\n<hr />\n<h3>Simplified algorithm</h3> \n<h5>(doesn't maximizes the number of combinations)</h5>\n<p>In order to ensure that all the elements in each combination are unique, we to <strong>track</strong> indices that have been already used. I.e. each time we find a combination which sums up to the target number, we should prohibit the usage of elements that have been used in this combination, but not earlier (because there can be many combinations which are not able to produce the target, and therefore any element should eligible to be used until we didn't construct a complete combination that gives the target using this element).</p>\n<p>To track the elements that are taken, we need an object that would be visible in every recursive branch. And we are already passing a list of numbers while making every recursive call, what if we would modify it each time we found a combination that produces the target number by removing the elements that have been use in this combination? If we took this road after the first combination, thing would become complicated because we will not be able to rely on the indices (<em>because they can change in an unpredictable way</em>) while constructing a single combination - it's crucial to ensure that each element that belongs to a particular combination is used only once withing a combination. Since values of elements might be identical, we should use the iteration order to construct each combination properly, but each removal of elements would create a mess. So, is there a better way?</p>\n<p>We can maintain an array of <code>boolean</code> values, each element is this array would indicate whether a number at a particular index already belongs to a combination that gives the target or not.</p>\n<p>Instead of clattering the recursive method with the code that manipulates with this <code>boolean</code> array, I've encapsulated it within a class with simple and self-explanatory methods, and <code>sumRecursively()</code> makes use of an instance of this class.</p>\n<pre><code>public class CombinationTracker {\n    private boolean[] isUsed;\n    \n    public CombinationTracker(int size) {\n        this.isUsed = new boolean[size];\n    }\n    \n    public boolean indexIsUsed(int ind) {\n        return isUsed[ind];\n    }\n    \n    public boolean allNotUsed(List&lt;Integer&gt; indices) {\n//            return indices.stream().noneMatch(i -&gt; isUsed[i]); // this line does the same as the loop below\n        \n        boolean result = true;\n        for (int idx: indices) {\n            if (isUsed[idx]) {\n                result = false;\n                break;\n            }\n        }\n        return result;\n    }\n    \n    public void setIsUsed(List&lt;Integer&gt; indices) {\n        for (int ind: indices)\n            setIsUsed(ind);\n    }\n    \n    public void setIsUsed(int ind) {\n        isUsed[ind] = true;\n    }\n}\n</code></pre>\n<p>Using this approach, we are able to construct combinations from numbers that are not used yet, and iterate over the list of numbers starting from a particular position by passing the index while making a recursive call.  We can be sure that any of the elements that reside prier to the current position would not be added to the current combination.</p>\n<p>Now, a quick recap on <em>recursion</em>.</p>\n<p>Every recursive implementation consists of two parts:</p>\n<ul>\n<li><p><strong>Base case</strong> - that represents an edge-case (<em>or a set of edge-cases</em>) for which the outcome is known in advance. For this problem, there are <strong>two</strong> edge-cases:</p>\n<ul>\n<li><p>we've managed to find a combination that gives the target number, i.e. <code>currentSum == target</code>, and the result would be equal to <code>target</code>;</p>\n</li>\n<li><p>the end of the list is reached (and the combination doesn't result to the target), the result would be <code>0</code> (this edge-case resolves automatically by termination condition of the <code>for</code> loop in the <em>recursive case</em>, and therefore no need to treat it separately).</p>\n</li>\n</ul>\n</li>\n<li><p><strong>Recursive case</strong> - a part of a solution where recursive calls are made and where the main logic resides. In the <em>recursive case</em> we're iterating over the list of numbers and at each iteration step (<em>if the index is not yet used</em>) we are making <em>one</em> or <em>two</em> recursive calls depending on a value of the current element (<em>depending whether we exceed the target or not</em>). In the general, we have two opportunities: either take the current element, or ignore it. The results of these recursive calls would be added together and produce the return value of the <em>recursive case</em>.</p>\n</li>\n</ul>\n<p>Since we need a couple of additional parameters, it's a good practice to create an auxiliary overloaded method (<em>that will be used in the client code</em>) which expects <em>only</em> a list of numbers and a target value and delegates the actual work to the recursive method.</p>\n<p>That's how it might look like.</p>\n<pre><code>public static int sumRecursively(List&lt;Integer&gt; numbers, int target) {\n    \n    return sumRecursively(new ArrayList&lt;&gt;(numbers),\n                          new ArrayList&lt;&gt;(),\n                          new CombinationTracker(numbers.size()),\n                          0, 0, target);\n}\n</code></pre>\n<p>The actual recursive method:</p>\n<pre><code>private static int sumRecursively(List&lt;Integer&gt; numbers,\n                                  List&lt;Integer&gt; combination,\n                                  CombinationTracker tracker,\n                                  int currentIndex,\n                                  int currentSum, int target) {\n    \n    if (currentSum == target &amp;&amp; tracker.allNotUsed(combination)) { // base case - a combination has been found\n        tracker.setIsUsed(combination);\n        return target;\n    }\n    \n    // recursive case\n    int result = 0;\n    \n    for (int i = currentIndex; i &lt; numbers.size(); i++) {\n\n        int next = numbers.get(i);\n\n        if (tracker.indexIsUsed(i)) continue;\n        if (currentSum + next &gt; target) continue;\n        // there are two opportunities for each number: either use next number, or ignore it\n        // add next number\n        if (next + currentSum &lt;= target) {\n            List&lt;Integer&gt; newCombination = new ArrayList&lt;&gt;(combination);\n            newCombination.add(i);\n            result += sumRecursively(numbers, newCombination, tracker, i + 1, currentSum + next, target);\n        }\n        // ignore next number\n        result += sumRecursively(numbers, new ArrayList&lt;&gt;(combination), tracker, i + 1, currentSum, target);\n    }\n    return result;\n}\n</code></pre>\n<p><code>main()</code></p>\n<pre><code>public static void main(String[] args) {\n    System.out.println(sumRecursively(List.of(1, 3, 4, 5, 6, 6), 12));\n    System.out.println(sumRecursively(List.of(6, 6, 6, 6, 6, 6), 12));\n}\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>12\n36\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1656470837,"creation_date":1656435827,"answer_id":72790569,"question_id":72763128,"body_markdown":"UPD.\r\n\r\nGot a comment that code &quot;sucks&quot; due to performance issues...\r\n\r\nFirst of all, I do believe you have missed a point the SO community is not a kind of service which solves code interview puzzles, generally speaking, if you came here with a puzzle you already failed, so, such comments are unacceptable.\r\n\r\nAt second, yes, the code suffers from performance issues just because it is a naive bruteforce solution - I had spent on it about 15 minutes (for example, figuring out all possible combinations with target sum has O(2^N) complexity, if it does not match performance expectations that means any code based on such idea has poor performance). BTW, if you had expectations about the performance you was need to:\r\n- provide correct input constraints (saying `there is 6 numbers` is not correct)\r\n- provide good testcases instead of saying `code does not work` - that allows us to eliminate bad ideas about algorithm.\r\n\r\n\r\nSome idea:\r\n\r\nit seems that we do not need to compute all possible combinations with target sum, because singletons are always preferable over N-lets, pairs are either the same or do not influence on the result or interchangeable with N-lets (e.g. in case of [2,2,8,10,10] we would prefer to eliminate pairs first), but whether it is true for higher N&#39;s completely unclear - it is better to have some testcases.\r\n\r\n\r\n----------\r\n\r\n\r\nNot sure I properly understand the problem, but I believe the solution is following:\r\n\r\n\r\n```java\r\npublic class TargetNumber {\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(score(new int[]{1, 2, 1, 4, 5, 6}, 6));\r\n    }\r\n\r\n    public static int score(int[] candidates, int target) {\r\n        List&lt;List&lt;Integer&gt;&gt; combinations = getUniqueCombinations(candidates, target);\r\n        Map&lt;Integer, Integer&gt; freqs = new HashMap&lt;&gt;();\r\n        for (int n : candidates) {\r\n            freqs.merge(n, 1, Integer::sum);\r\n        }\r\n        return score(0, combinations, freqs, target);\r\n    }\r\n\r\n    public static int score(int offset, List&lt;List&lt;Integer&gt;&gt; combinations, Map&lt;Integer, Integer&gt; freqs, int target) {\r\n        if (offset == combinations.size()) {\r\n            return 0;\r\n        }\r\n        int result = 0;\r\n        List&lt;Integer&gt; comb = combinations.get(offset);\r\n        Map&lt;Integer, Integer&gt; nfreq = reduce(freqs, comb);\r\n        if (nfreq != null) {\r\n            result = Math.max(result, target + score(offset, combinations, nfreq, target));\r\n        }\r\n        result = Math.max(result, score(offset + 1, combinations, freqs, target));\r\n        return result;\r\n    }\r\n\r\n    public static Map&lt;Integer, Integer&gt; reduce(Map&lt;Integer, Integer&gt; freqs, List&lt;Integer&gt; comb) {\r\n        Map&lt;Integer, Integer&gt; result = new HashMap&lt;&gt;(freqs);\r\n        for (int n : comb) {\r\n            if (result.merge(n, -1, Integer::sum) &lt; 0) {\r\n                return null;\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\n    public static List&lt;List&lt;Integer&gt;&gt; getUniqueCombinations(int[] candidates, int target) {\r\n        List&lt;List&lt;Integer&gt;&gt; result = new ArrayList&lt;&gt;();\r\n        Arrays.sort(candidates);\r\n        getUniqueCombinations(candidates, target, 0, new ArrayList&lt;&gt;(), result);\r\n        return result;\r\n    }\r\n\r\n    public static void getUniqueCombinations(int[] candidates, int target, int index, List&lt;Integer&gt; solution, List&lt;List&lt;Integer&gt;&gt; result) {\r\n        for (int i = index, n = candidates.length; i &lt; n; ) {\r\n            int num = candidates[i];\r\n            if (num &gt; target) {\r\n                break;\r\n            }\r\n            solution.add(num);\r\n            if (num == target) {\r\n                result.add(new ArrayList&lt;&gt;(solution));\r\n            }\r\n            getUniqueCombinations(candidates, target - num, i + 1, solution, result);\r\n            solution.remove(solution.size() - 1);\r\n            while (i &lt; n &amp;&amp; num == candidates[i]) {\r\n                i++;\r\n            }\r\n        }\r\n    }\r\n\r\n}\r\n```","title":"Calculate the sum of dices based on target accurately","body":"<p>UPD.</p>\n<p>Got a comment that code &quot;sucks&quot; due to performance issues...</p>\n<p>First of all, I do believe you have missed a point the SO community is not a kind of service which solves code interview puzzles, generally speaking, if you came here with a puzzle you already failed, so, such comments are unacceptable.</p>\n<p>At second, yes, the code suffers from performance issues just because it is a naive bruteforce solution - I had spent on it about 15 minutes (for example, figuring out all possible combinations with target sum has O(2^N) complexity, if it does not match performance expectations that means any code based on such idea has poor performance). BTW, if you had expectations about the performance you was need to:</p>\n<ul>\n<li>provide correct input constraints (saying <code>there is 6 numbers</code> is not correct)</li>\n<li>provide good testcases instead of saying <code>code does not work</code> - that allows us to eliminate bad ideas about algorithm.</li>\n</ul>\n<p>Some idea:</p>\n<p>it seems that we do not need to compute all possible combinations with target sum, because singletons are always preferable over N-lets, pairs are either the same or do not influence on the result or interchangeable with N-lets (e.g. in case of [2,2,8,10,10] we would prefer to eliminate pairs first), but whether it is true for higher N's completely unclear - it is better to have some testcases.</p>\n<hr />\n<p>Not sure I properly understand the problem, but I believe the solution is following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class TargetNumber {\n\n    public static void main(String[] args) {\n        System.out.println(score(new int[]{1, 2, 1, 4, 5, 6}, 6));\n    }\n\n    public static int score(int[] candidates, int target) {\n        List&lt;List&lt;Integer&gt;&gt; combinations = getUniqueCombinations(candidates, target);\n        Map&lt;Integer, Integer&gt; freqs = new HashMap&lt;&gt;();\n        for (int n : candidates) {\n            freqs.merge(n, 1, Integer::sum);\n        }\n        return score(0, combinations, freqs, target);\n    }\n\n    public static int score(int offset, List&lt;List&lt;Integer&gt;&gt; combinations, Map&lt;Integer, Integer&gt; freqs, int target) {\n        if (offset == combinations.size()) {\n            return 0;\n        }\n        int result = 0;\n        List&lt;Integer&gt; comb = combinations.get(offset);\n        Map&lt;Integer, Integer&gt; nfreq = reduce(freqs, comb);\n        if (nfreq != null) {\n            result = Math.max(result, target + score(offset, combinations, nfreq, target));\n        }\n        result = Math.max(result, score(offset + 1, combinations, freqs, target));\n        return result;\n    }\n\n    public static Map&lt;Integer, Integer&gt; reduce(Map&lt;Integer, Integer&gt; freqs, List&lt;Integer&gt; comb) {\n        Map&lt;Integer, Integer&gt; result = new HashMap&lt;&gt;(freqs);\n        for (int n : comb) {\n            if (result.merge(n, -1, Integer::sum) &lt; 0) {\n                return null;\n            }\n        }\n        return result;\n    }\n\n    public static List&lt;List&lt;Integer&gt;&gt; getUniqueCombinations(int[] candidates, int target) {\n        List&lt;List&lt;Integer&gt;&gt; result = new ArrayList&lt;&gt;();\n        Arrays.sort(candidates);\n        getUniqueCombinations(candidates, target, 0, new ArrayList&lt;&gt;(), result);\n        return result;\n    }\n\n    public static void getUniqueCombinations(int[] candidates, int target, int index, List&lt;Integer&gt; solution, List&lt;List&lt;Integer&gt;&gt; result) {\n        for (int i = index, n = candidates.length; i &lt; n; ) {\n            int num = candidates[i];\n            if (num &gt; target) {\n                break;\n            }\n            solution.add(num);\n            if (num == target) {\n                result.add(new ArrayList&lt;&gt;(solution));\n            }\n            getUniqueCombinations(candidates, target - num, i + 1, solution, result);\n            solution.remove(solution.size() - 1);\n            while (i &lt; n &amp;&amp; num == candidates[i]) {\n                i++;\n            }\n        }\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":18519443,"reputation":627,"user_id":17120914,"display_name":"Alix Blaine"},"comment_count":19,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":405,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":72765660,"answer_count":2,"score":1,"last_activity_date":1656524705,"creation_date":1656259292,"question_id":72763128,"body_markdown":"I am trying, to sum up score for a little dice game I made. The dice has the following values: `1-6`, the player can select `target`, `LOW = n &lt; 4`, **1,2,3**. The rest of the targets, `4, 5, 6, 7, 8, 9, 10, 11` and `12`. \r\n\r\nWhen a throw is done, sum up the total sum of the dices, based on `target` value. What this means, is, if **LOW** is select, then everything below **4**, is summed up. Otherwise, the process, must **sum** each dice till it reaches the target **sum**, and continue. \r\nIf, a throw is done, and I selected `6` as target, and get the following set: `{1, 1, 4, 2, 5, 6}`. We have a `6`, `5+1=6`, and `4+2=6`, we are left with `1` which is not counted. \r\n\r\n**Constraints:** \r\n - *1-6* dice values.\r\n - Everything (Target) below *4*, is summed up.\r\n - Everything (Target) selecting between *4, 5, 6, 7, 8, 9, 10, 11, &amp; 1*2, is processed differently. \r\n - 6 dices, can produces any number between `1-6`. This means, `[6,6,6,6,6,6]`, or `[1,1,3,5,4,2`], or some other set.  \r\n\r\n \r\nThe only thing important, is the sum that is calculated and nothing else, as long as it matches the input of dices. \r\n\r\n*For example:* \r\n* If the `target` is `12` and a list of numbers is `[6, 6, 6, 6, 6, 6]` then return value should be `36`.\r\n* If we receive a list of numbers `[1, 3, 4, 5, 6, 6]` and a `target` is should be `12` (`5+1+6=12` and also `5+4+3=12`, however, numbers can only be used once and not reused, therefore only one of the combinations can contribute the result). \r\n\r\n---\r\n\r\nBelow is a method, which gives the occurrences of a dice.\r\n\r\n    public static TreeMap&lt;Integer, Integer&gt; countOccurrences(List&lt;Integer&gt; numbers){\r\n    \t\tTreeMap&lt;Integer, Integer&gt; map = new TreeMap&lt;Integer, Integer&gt;();\r\n    \t\t\r\n    \tint i = 0;\r\n    \tfor(int n: numbers) {\r\n    \t\tif(map.containsKey(n)) {\r\n    \t\t\ti = map.get(n);\r\n    \t\t\tmap.put(n, ++i);\r\n    \t\t}\r\n    \t\telse\r\n    \t\t\tmap.put(n, 1);\r\n    \t}\r\n    \treturn map;\r\n    }\r\n\r\n**Results:**\r\n\r\n    Occurrences: {1=2, 2=1, 4=1, 5=1, 6=1}\r\n\r\n---\r\n\r\n**Sample code** \r\n\r\n    public static void main(String[] args) {\r\n    \tSystem.out.println(sum(combinationSum(List.of(1, 2, 4, 6, 6, 6), 12)));\r\n        System.out.println(combinationSum(List.of(1, 3, 3, 6, 5, 6), 12));\r\n        System.out.println(combinationSum(List.of(1, 2, 1, 4, 5, 6), 6));\r\n    }\r\n    \r\n    public static int sum(List&lt;List&lt;Integer&gt;&gt; numbers)\r\n    {\r\n    \tint sum = 0;\r\n    \tint n = 0;\r\n    \twhile(n &lt; numbers.size()){\r\n    \t\tsum += numbers.get(n).stream().mapToInt(Integer::intValue).sum();\r\n    \t\t++n;\r\n    \t}\r\n    \treturn sum;\r\n    }\r\n    \r\n    public static List&lt;List&lt;Integer&gt;&gt; combinationSum(List&lt;Integer&gt; candidates, int target) {\r\n        List&lt;List&lt;Integer&gt;&gt; res = new ArrayList&lt;&gt;();\r\n        List&lt;Integer&gt; ds = new ArrayList&lt;Integer&gt;();\r\n        findCombinations(res, ds, target, candidates, 0);\r\n        return res;\r\n    }\r\n    \r\n    private static void findCombinations(List&lt;List&lt;Integer&gt;&gt; res, List&lt;Integer&gt; ds, int target, List&lt;Integer&gt; arr, int index ){\r\n        if(target == 0){res.add(new ArrayList&lt;&gt;(ds));  return;}\r\n        \r\n        for(int i= index ; i&lt;arr.size(); i++){\r\n                if(i&gt;index &amp;&amp; arr.get(i) == arr.get(i-1)) continue;\r\n                if(arr.get(i) &gt; target) break;\r\n                ds.add(arr.get(i));\r\n                findCombinations( res, ds, target-arr.get(i) , arr, i+1);\r\n                ds.remove(ds.size()-1 );\r\n        }\r\n    }\r\n\r\n\r\n**Produces:**\r\n\r\n    24\r\n    [[1, 6, 5], [1, 5, 6], [3, 3, 6], [3, 3, 6], [6, 6]]\r\n    [[1, 1, 4], [1, 5], [2, 4], [1, 5], [6]]\r\n\r\n**Live running:** [https://www.jdoodle.com/ia/sHY][2]\r\n \r\n\r\n  [2]: https://www.jdoodle.com/ia/sHY","title":"Calculate the sum of dices based on target accurately","body":"<p>I am trying, to sum up score for a little dice game I made. The dice has the following values: <code>1-6</code>, the player can select <code>target</code>, <code>LOW = n &lt; 4</code>, <strong>1,2,3</strong>. The rest of the targets, <code>4, 5, 6, 7, 8, 9, 10, 11</code> and <code>12</code>.</p>\n<p>When a throw is done, sum up the total sum of the dices, based on <code>target</code> value. What this means, is, if <strong>LOW</strong> is select, then everything below <strong>4</strong>, is summed up. Otherwise, the process, must <strong>sum</strong> each dice till it reaches the target <strong>sum</strong>, and continue.\nIf, a throw is done, and I selected <code>6</code> as target, and get the following set: <code>{1, 1, 4, 2, 5, 6}</code>. We have a <code>6</code>, <code>5+1=6</code>, and <code>4+2=6</code>, we are left with <code>1</code> which is not counted.</p>\n<p><strong>Constraints:</strong></p>\n<ul>\n<li><em>1-6</em> dice values.</li>\n<li>Everything (Target) below <em>4</em>, is summed up.</li>\n<li>Everything (Target) selecting between <em>4, 5, 6, 7, 8, 9, 10, 11, &amp; 1</em>2, is processed differently.</li>\n<li>6 dices, can produces any number between <code>1-6</code>. This means, <code>[6,6,6,6,6,6]</code>, or <code>[1,1,3,5,4,2</code>], or some other set.</li>\n</ul>\n<p>The only thing important, is the sum that is calculated and nothing else, as long as it matches the input of dices.</p>\n<p><em>For example:</em></p>\n<ul>\n<li>If the <code>target</code> is <code>12</code> and a list of numbers is <code>[6, 6, 6, 6, 6, 6]</code> then return value should be <code>36</code>.</li>\n<li>If we receive a list of numbers <code>[1, 3, 4, 5, 6, 6]</code> and a <code>target</code> is should be <code>12</code> (<code>5+1+6=12</code> and also <code>5+4+3=12</code>, however, numbers can only be used once and not reused, therefore only one of the combinations can contribute the result).</li>\n</ul>\n<hr />\n<p>Below is a method, which gives the occurrences of a dice.</p>\n<pre><code>public static TreeMap&lt;Integer, Integer&gt; countOccurrences(List&lt;Integer&gt; numbers){\n        TreeMap&lt;Integer, Integer&gt; map = new TreeMap&lt;Integer, Integer&gt;();\n        \n    int i = 0;\n    for(int n: numbers) {\n        if(map.containsKey(n)) {\n            i = map.get(n);\n            map.put(n, ++i);\n        }\n        else\n            map.put(n, 1);\n    }\n    return map;\n}\n</code></pre>\n<p><strong>Results:</strong></p>\n<pre><code>Occurrences: {1=2, 2=1, 4=1, 5=1, 6=1}\n</code></pre>\n<hr />\n<p><strong>Sample code</strong></p>\n<pre><code>public static void main(String[] args) {\n    System.out.println(sum(combinationSum(List.of(1, 2, 4, 6, 6, 6), 12)));\n    System.out.println(combinationSum(List.of(1, 3, 3, 6, 5, 6), 12));\n    System.out.println(combinationSum(List.of(1, 2, 1, 4, 5, 6), 6));\n}\n\npublic static int sum(List&lt;List&lt;Integer&gt;&gt; numbers)\n{\n    int sum = 0;\n    int n = 0;\n    while(n &lt; numbers.size()){\n        sum += numbers.get(n).stream().mapToInt(Integer::intValue).sum();\n        ++n;\n    }\n    return sum;\n}\n\npublic static List&lt;List&lt;Integer&gt;&gt; combinationSum(List&lt;Integer&gt; candidates, int target) {\n    List&lt;List&lt;Integer&gt;&gt; res = new ArrayList&lt;&gt;();\n    List&lt;Integer&gt; ds = new ArrayList&lt;Integer&gt;();\n    findCombinations(res, ds, target, candidates, 0);\n    return res;\n}\n\nprivate static void findCombinations(List&lt;List&lt;Integer&gt;&gt; res, List&lt;Integer&gt; ds, int target, List&lt;Integer&gt; arr, int index ){\n    if(target == 0){res.add(new ArrayList&lt;&gt;(ds));  return;}\n    \n    for(int i= index ; i&lt;arr.size(); i++){\n            if(i&gt;index &amp;&amp; arr.get(i) == arr.get(i-1)) continue;\n            if(arr.get(i) &gt; target) break;\n            ds.add(arr.get(i));\n            findCombinations( res, ds, target-arr.get(i) , arr, i+1);\n            ds.remove(ds.size()-1 );\n    }\n}\n</code></pre>\n<p><strong>Produces:</strong></p>\n<pre><code>24\n[[1, 6, 5], [1, 5, 6], [3, 3, 6], [3, 3, 6], [6, 6]]\n[[1, 1, 4], [1, 5], [2, 4], [1, 5], [6]]\n</code></pre>\n<p><strong>Live running:</strong> <a href=\"https://www.jdoodle.com/ia/sHY\" rel=\"nofollow noreferrer\">https://www.jdoodle.com/ia/sHY</a></p>\n"},{"tags":["java","spring-boot","rest","http","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":25457848,"reputation":1,"user_id":19258190,"display_name":"Hari Prasath"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656520433,"creation_date":1656520433,"answer_id":72804946,"question_id":72804208,"body_markdown":"503 is a error code, which means service or url or controller, that you are requested is not running/available, make sure your jar file is running and also make sure the url you requested is valid. since service is not available you cant see any logs or error messages. because your controller dint receive any request yet.","title":"Http 503 for some Rest api call","body":"<p>503 is a error code, which means service or url or controller, that you are requested is not running/available, make sure your jar file is running and also make sure the url you requested is valid. since service is not available you cant see any logs or error messages. because your controller dint receive any request yet.</p>\n"},{"tags":[],"owner":{"account_id":3741091,"reputation":86,"user_id":3110869,"display_name":"shylesh krishna"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656520841,"creation_date":1656520841,"answer_id":72805015,"question_id":72804208,"body_markdown":"The 503  error indicate that the server is not ready to handle the request.\r\n\r\nThere are some limitations for transferring data through URL , basically the length of the URL \r\nIn general the limit was 2047 chars and it is different for  different browsers ","title":"Http 503 for some Rest api call","body":"<p>The 503  error indicate that the server is not ready to handle the request.</p>\n<p>There are some limitations for transferring data through URL , basically the length of the URL\nIn general the limit was 2047 chars and it is different for  different browsers</p>\n"},{"tags":[],"owner":{"display_name":"user15773347"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656524554,"creation_date":1656524554,"answer_id":72805737,"question_id":72804208,"body_markdown":"503 means Service Unavailable.\r\n\r\nI think something is wrong with your request. \r\n\r\nYou can try to add a custom OncePerRequestFilter and log your HTTP Request.\r\n\r\n","title":"Http 503 for some Rest api call","body":"<p>503 means Service Unavailable.</p>\n<p>I think something is wrong with your request.</p>\n<p>You can try to add a custom OncePerRequestFilter and log your HTTP Request.</p>\n"}],"owner":{"account_id":1590745,"reputation":1436,"user_id":1474111,"accept_rate":27,"display_name":"user1474111"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1482,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1656524554,"creation_date":1656517095,"question_id":72804208,"body_markdown":"I am running an SpringBoot application and I have a controller which defines Rest Api and accepts a request by a list of ids. Normally it works fine but if number of ids gets bigger, then I receive http 503. Interesting thing is that I cannot see any logs that my request was received by controller as well. Therefore I am not able to understand what is happening. Do you have any idea what can be worth to check ?","title":"Http 503 for some Rest api call","body":"<p>I am running an SpringBoot application and I have a controller which defines Rest Api and accepts a request by a list of ids. Normally it works fine but if number of ids gets bigger, then I receive http 503. Interesting thing is that I cannot see any logs that my request was received by controller as well. Therefore I am not able to understand what is happening. Do you have any idea what can be worth to check ?</p>\n"},{"tags":["java","logging","junit","error-handling"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":1,"creation_date":1656524192,"post_id":72790471,"comment_id":128596428,"body_markdown":"Does `gson.toJson(roleDTOEmployee.orElse(null))` work? It seems like [gson doesn&#39;t support `Optional`](https://github.com/google/gson/issues/1102).","body":"Does <code>gson.toJson(roleDTOEmployee.orElse(null))</code> work? It seems like <a href=\"https://github.com/google/gson/issues/1102\" rel=\"nofollow noreferrer\">gson doesn&#39;t support <code>Optional</code></a>."}],"answers":[{"tags":[],"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1656524367,"creation_date":1656524367,"answer_id":72805697,"question_id":72790471,"body_markdown":"This error typically thrown if you are using higher JDK version (8+) &amp; one of modules (in this case `com.google.gson.Gson` is compatible with lower JDK version). \r\n\r\n\r\nCan you please check both  JDK version Gson version downgrade your JDK if possible &amp; required. That way your error might be gone. Other possibility is to upgrade `com.google.gson.Gson` version so that it is compatible with your JDK.\r\n\r\nAnother workaround (which is typically not recommended) is pass VM args to avoid above error:\r\n\r\n    -Xmx1536M --add-exports=java.base/sun.nio.ch=ALL-UNNAMED --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.lang.reflect=ALL-UNNAMED --add-opens=java.base/java.io=ALL-UNNAMED --add-exports=jdk.unsupported/sun.misc=ALL-UNNAMED\r\n\r\n\r\n","title":"java.lang.reflect.InaccessibleObjectException: Unable to make field private final java.lang.Object java.util.Optional.value accessible:","body":"<p>This error typically thrown if you are using higher JDK version (8+) &amp; one of modules (in this case <code>com.google.gson.Gson</code> is compatible with lower JDK version).</p>\n<p>Can you please check both  JDK version Gson version downgrade your JDK if possible &amp; required. That way your error might be gone. Other possibility is to upgrade <code>com.google.gson.Gson</code> version so that it is compatible with your JDK.</p>\n<p>Another workaround (which is typically not recommended) is pass VM args to avoid above error:</p>\n<pre><code>-Xmx1536M --add-exports=java.base/sun.nio.ch=ALL-UNNAMED --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.lang.reflect=ALL-UNNAMED --add-opens=java.base/java.io=ALL-UNNAMED --add-exports=jdk.unsupported/sun.misc=ALL-UNNAMED\n</code></pre>\n"}],"owner":{"account_id":25141176,"reputation":65,"user_id":18987492,"display_name":"Harsh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17986,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":72805697,"answer_count":1,"score":4,"last_activity_date":1656524367,"creation_date":1656435338,"question_id":72790471,"body_markdown":"```\r\njava.lang.reflect.InaccessibleObjectException: Unable to make field private final java.lang.Object java.util.Optional.value accessible: module java.base does not &quot;opens java.util&quot; to unnamed module @6b26e945\r\n```\r\nI am getting this error when I run my JUnit code.\r\nError arises around the following code block.\r\n```\r\nOptional&lt;RolesDTO&gt; roleDTOEmployee = roles.stream()\r\n        .filter(r -&gt; r.getName().equals(RolesEnum.valueOf(roleName).getRoleName())).findFirst();\r\n\r\nif (logger.isInfoEnabled()) {\r\n    logger.info(&quot;roleDTOEmployee {}&quot;, gson.toJson(roleDTOEmployee));\r\n}\r\n```\r\n\r\nstacktrace:\r\n```\r\nat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\r\n\tat java.base/java.lang.reflect.Field.checkCanSetAccessible(Field.java:178)\r\n\tat java.base/java.lang.reflect.Field.setAccessible(Field.java:172)\r\n\tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:157)\r\n\tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:100)\r\n\tat com.google.gson.Gson.getAdapter(Gson.java:423)\r\n\tat com.google.gson.Gson.toJson(Gson.java:661)\r\n\tat com.google.gson.Gson.toJson(Gson.java:648)\r\n\tat com.google.gson.Gson.toJson(Gson.java:603)\r\n\tat com.google.gson.Gson.toJson(Gson.java:583)\r\n```\r\non removing logger.info(), code JUnit runs perfectly. I would like to understand this behaviour. And is there a workaround it, so I don&#39;t have to remove logger.\r\n","title":"java.lang.reflect.InaccessibleObjectException: Unable to make field private final java.lang.Object java.util.Optional.value accessible:","body":"<pre><code>java.lang.reflect.InaccessibleObjectException: Unable to make field private final java.lang.Object java.util.Optional.value accessible: module java.base does not &quot;opens java.util&quot; to unnamed module @6b26e945\n</code></pre>\n<p>I am getting this error when I run my JUnit code.\nError arises around the following code block.</p>\n<pre><code>Optional&lt;RolesDTO&gt; roleDTOEmployee = roles.stream()\n        .filter(r -&gt; r.getName().equals(RolesEnum.valueOf(roleName).getRoleName())).findFirst();\n\nif (logger.isInfoEnabled()) {\n    logger.info(&quot;roleDTOEmployee {}&quot;, gson.toJson(roleDTOEmployee));\n}\n</code></pre>\n<p>stacktrace:</p>\n<pre><code>at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\n    at java.base/java.lang.reflect.Field.checkCanSetAccessible(Field.java:178)\n    at java.base/java.lang.reflect.Field.setAccessible(Field.java:172)\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:157)\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:100)\n    at com.google.gson.Gson.getAdapter(Gson.java:423)\n    at com.google.gson.Gson.toJson(Gson.java:661)\n    at com.google.gson.Gson.toJson(Gson.java:648)\n    at com.google.gson.Gson.toJson(Gson.java:603)\n    at com.google.gson.Gson.toJson(Gson.java:583)\n</code></pre>\n<p>on removing logger.info(), code JUnit runs perfectly. I would like to understand this behaviour. And is there a workaround it, so I don't have to remove logger.</p>\n"},{"tags":["java","firebase","firebase-realtime-database","google-cloud-firestore"],"comments":[{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":0,"creation_date":1656473739,"post_id":72791119,"comment_id":128578438,"body_markdown":"`ApiFuture` can [have listeners set](https://cloud.google.com/java/docs/reference/api-common/latest/com.google.api.core.ApiFuture), even in pure Java... Without a listener you would need something like await to wait for the task to complete. When the task is complete you can get the QuerySnapshot itself and get document IDs to call delete on.","body":"<code>ApiFuture</code> can <a href=\"https://cloud.google.com/java/docs/reference/api-common/latest/com.google.api.core.ApiFuture\" rel=\"nofollow noreferrer\">have listeners set</a>, even in pure Java... Without a listener you would need something like await to wait for the task to complete. When the task is complete you can get the QuerySnapshot itself and get document IDs to call delete on."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1657096511,"post_id":72791119,"comment_id":128725648,"body_markdown":"Maye this [answer](https://stackoverflow.com/questions/69437683/firestore-or-queries-using-java) will help.","body":"Maye this <a href=\"https://stackoverflow.com/questions/69437683/firestore-or-queries-using-java\">answer</a> will help."}],"answers":[{"tags":[],"owner":{"account_id":22773153,"reputation":1149,"user_id":16930243,"display_name":"Jose German Perez Sanchez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1656524285,"creation_date":1656524285,"answer_id":72805682,"question_id":72791119,"body_markdown":"To delete the list of documents one by one, you can use the delete() function as in the following example:\r\n\r\n\r\n    // [START firestore_data_delete_doc]\r\n    // asynchronously delete a document\r\n    \r\n    ApiFuture&lt;WriteResult&gt; writeResult = db.collection(&quot;cities&quot;).document(&quot;DC&quot;).delete();\r\n    \r\n    // ...\r\n    \r\n    System.out.println(&quot;Update time : &quot; + writeResult.get().getUpdateTime());\r\n    \r\n    // [END firestore_data_delete_doc]\r\n\r\n\r\n\r\nIt is important to note that Cloud Firestore does not automatically remove the documents in its subcollections when you delete a document. By reference, you can still access the papers in the subcollection.\r\n\r\nA document must be deleted [manually][1] along with all of the documents contained in any subcollections.\r\n\r\n[1]: https://firebase.google.com/docs/firestore/manage-data/delete-data#collections","title":"firestore delete a specific document using Java","body":"<p>To delete the list of documents one by one, you can use the delete() function as in the following example:</p>\n<pre><code>// [START firestore_data_delete_doc]\n// asynchronously delete a document\n\nApiFuture&lt;WriteResult&gt; writeResult = db.collection(&quot;cities&quot;).document(&quot;DC&quot;).delete();\n\n// ...\n\nSystem.out.println(&quot;Update time : &quot; + writeResult.get().getUpdateTime());\n\n// [END firestore_data_delete_doc]\n</code></pre>\n<p>It is important to note that Cloud Firestore does not automatically remove the documents in its subcollections when you delete a document. By reference, you can still access the papers in the subcollection.</p>\n<p>A document must be deleted <a href=\"https://firebase.google.com/docs/firestore/manage-data/delete-data#collections\" rel=\"nofollow noreferrer\">manually</a> along with all of the documents contained in any subcollections.</p>\n"}],"owner":{"account_id":3252649,"reputation":230,"user_id":2742526,"accept_rate":100,"display_name":"aarav"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":148,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":72805682,"answer_count":1,"score":0,"last_activity_date":1656524285,"creation_date":1656438958,"question_id":72791119,"body_markdown":"Connected to the Firestore database using below code,\r\n```\r\nQuery query = dbFirestore.collection(&quot;collectionName&quot;).whereEqualTo(&quot;columnName ==&quot;,XXX);\r\nApiFuture&lt;QuerySnapshot&gt; apiFutureResults = query.get();\r\n```\r\nFrom ApiFuture, apiFutureResults.get() ? How to delete the list of documents one by one from here. In my case its only one document for the given condition.  I don&#39;t see any delete function underneath *apiFutureResults* .\r\n\r\n**FYI.** This is pure Java Application. No Android. So No listeners please.","title":"firestore delete a specific document using Java","body":"<p>Connected to the Firestore database using below code,</p>\n<pre><code>Query query = dbFirestore.collection(&quot;collectionName&quot;).whereEqualTo(&quot;columnName ==&quot;,XXX);\nApiFuture&lt;QuerySnapshot&gt; apiFutureResults = query.get();\n</code></pre>\n<p>From ApiFuture, apiFutureResults.get() ? How to delete the list of documents one by one from here. In my case its only one document for the given condition.  I don't see any delete function underneath <em>apiFutureResults</em> .</p>\n<p><strong>FYI.</strong> This is pure Java Application. No Android. So No listeners please.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1656521479,"post_id":72805116,"comment_id":128595471,"body_markdown":"You need to make two arrays and copy manually.","body":"You need to make two arrays and copy manually."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1656521523,"post_id":72805116,"comment_id":128595482,"body_markdown":"Does this answer your question? [Make copy of an array](https://stackoverflow.com/questions/5785745/make-copy-of-an-array)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/5785745/make-copy-of-an-array\">Make copy of an array</a>"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1656521678,"post_id":72805116,"comment_id":128595532,"body_markdown":"You are asking about arrays, but your example is showing *List*. Those are different types, with different API, syntax, and properties.","body":"You are asking about arrays, but your example is showing <i>List</i>. Those are different types, with different API, syntax, and properties."},{"owner":{"account_id":25683154,"reputation":3,"user_id":19445648,"display_name":"Mix32"},"score":0,"creation_date":1656522081,"post_id":72805116,"comment_id":128595680,"body_markdown":"yeah my bad, it should be list.","body":"yeah my bad, it should be list."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":3,"creation_date":1656522869,"post_id":72805116,"comment_id":128595963,"body_markdown":"Feel free to correct it. Use [edit] option to clarify your question (specifically its title).","body":"Feel free to correct it. Use <a href=\"https://stackoverflow.com/posts/72805116/edit\">edit</a> option to clarify your question (specifically its title)."}],"answers":[{"tags":[],"owner":{"account_id":14377484,"reputation":44,"user_id":10385597,"display_name":"toolateitsme"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1656521827,"creation_date":1656521827,"answer_id":72805192,"question_id":72805116,"body_markdown":"If you want to split this list into sublist with fixed size - you can use Guava, or smth else\r\n\r\nYou can find related docs here - https://guava.dev/releases/31.0-jre/api/docs/com/google/common/collect/Lists.html#partition(java.util.List,int)\r\n\r\nExample: \r\n\r\n```\r\n    List&lt;Integer&gt; intList = Lists.newArrayList(1, 2, 3, 4, 5, 6, 7, 8);\r\n    List&lt;List&lt;Integer&gt;&gt; subSets = Lists.partition(intList, 3);\r\n```","title":"How do I split a list with fixed size number into another list?","body":"<p>If you want to split this list into sublist with fixed size - you can use Guava, or smth else</p>\n<p>You can find related docs here - <a href=\"https://guava.dev/releases/31.0-jre/api/docs/com/google/common/collect/Lists.html#partition(java.util.List,int)\" rel=\"nofollow noreferrer\">https://guava.dev/releases/31.0-jre/api/docs/com/google/common/collect/Lists.html#partition(java.util.List,int)</a></p>\n<p>Example:</p>\n<pre><code>    List&lt;Integer&gt; intList = Lists.newArrayList(1, 2, 3, 4, 5, 6, 7, 8);\n    List&lt;List&lt;Integer&gt;&gt; subSets = Lists.partition(intList, 3);\n</code></pre>\n"}],"owner":{"account_id":25683154,"reputation":3,"user_id":19445648,"display_name":"Mix32"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":360,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72805192,"answer_count":1,"score":0,"last_activity_date":1656523820,"creation_date":1656521386,"question_id":72805116,"body_markdown":"So I have a loop in regex,\r\n\r\n    List&lt;String&gt; data = new ArrayList&lt;&gt;();\r\n    List&lt;String&gt; inputData = // String array\r\n    \r\n    Pattern pattern = Pattern.compile(regex);\r\n    inputData.forEach(i -&gt; {\r\n        Matcher matcher = pattern.matcher(i);\r\n        while(matcher.find()) {\r\n            data.add(matcher.group().trim());\r\n        }\r\n    });\r\n\r\nNow data will have an array of strings like this,\r\n \r\n\r\n    data = [&#39;text&#39;, &#39;text2&#39;, &#39;text3&#39;, &#39;text4&#39;, &#39;text5&#39;, &#39;text6&#39;]\r\n\r\nI want to divide this array of strings into a fixed size of 3.\r\n \r\n\r\n    data = [[&#39;text&#39;, &#39;text2&#39;, &#39;text3&#39;], [&#39;text4&#39;, &#39;text5&#39;, &#39;text6&#39;]]\r\n","title":"How do I split a list with fixed size number into another list?","body":"<p>So I have a loop in regex,</p>\n<pre><code>List&lt;String&gt; data = new ArrayList&lt;&gt;();\nList&lt;String&gt; inputData = // String array\n\nPattern pattern = Pattern.compile(regex);\ninputData.forEach(i -&gt; {\n    Matcher matcher = pattern.matcher(i);\n    while(matcher.find()) {\n        data.add(matcher.group().trim());\n    }\n});\n</code></pre>\n<p>Now data will have an array of strings like this,</p>\n<pre><code>data = ['text', 'text2', 'text3', 'text4', 'text5', 'text6']\n</code></pre>\n<p>I want to divide this array of strings into a fixed size of 3.</p>\n<pre><code>data = [['text', 'text2', 'text3'], ['text4', 'text5', 'text6']]\n</code></pre>\n"},{"tags":["java","postgresql","jpa","spring-data"],"comments":[{"owner":{"account_id":19254723,"reputation":2061,"user_id":14071914,"display_name":"JustAnotherDeveloper"},"score":0,"creation_date":1656522883,"post_id":72805339,"comment_id":128595969,"body_markdown":"Are the tags always in the same order in that database table, or might we see one row where the tag colum is &quot;tag1,tag2,tag3&quot; and another where it is &quot;tag2,tag3,tag1&quot;?","body":"Are the tags always in the same order in that database table, or might we see one row where the tag colum is &quot;tag1,tag2,tag3&quot; and another where it is &quot;tag2,tag3,tag1&quot;?"},{"owner":{"account_id":25679784,"reputation":85,"user_id":19442733,"display_name":"TDev"},"score":0,"creation_date":1656523489,"post_id":72805339,"comment_id":128596177,"body_markdown":"They are not in the same order, this was an example. I can&#39;t predict the number of tags and not even which ones it will be...","body":"They are not in the same order, this was an example. I can&#39;t predict the number of tags and not even which ones it will be..."},{"owner":{"account_id":19254723,"reputation":2061,"user_id":14071914,"display_name":"JustAnotherDeveloper"},"score":0,"creation_date":1656524124,"post_id":72805339,"comment_id":128596403,"body_markdown":"Then you might need JPA Criteria Queries for that, build and chain some predicates that each compares with one of the tags in the array: https://www.baeldung.com/hibernate-criteria-queries","body":"Then you might need JPA Criteria Queries for that, build and chain some predicates that each compares with one of the tags in the array: <a href=\"https://www.baeldung.com/hibernate-criteria-queries\" rel=\"nofollow noreferrer\">baeldung.com/hibernate-criteria-queries</a>"}],"owner":{"account_id":25679784,"reputation":85,"user_id":19442733,"display_name":"TDev"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1656523635,"creation_date":1656522553,"question_id":72805339,"body_markdown":"I have a postgres db table named &quot;challenge&quot; which contains a &#39;tags&#39; text column in that each tags of the challenge is stored as &quot;tag1,tag2,tag3...&quot;.\r\n\r\nSo I need to make a request that can check if a challenge contains all tags in the provided array but I don&#39;t know how to make this.\r\n\r\nMy repository method:\r\n\r\n```java\r\n@Query(?)\r\nPage&lt;Challenge&gt; findByTags(String[] tags, Pageable pageable);\r\n```\r\n\r\nWhat i&#39;ve done so far it&#39;s a query which works with one tag but not with an array:\r\n\r\n```sql\r\nSELECT * FROM challenge WHERE tags LIKE &#39;%&#39; || :tag || &#39;%&#39;;\r\n```\r\n","title":"JpaRepository make a query to select all element that contains the array of tags","body":"<p>I have a postgres db table named &quot;challenge&quot; which contains a 'tags' text column in that each tags of the challenge is stored as &quot;tag1,tag2,tag3...&quot;.</p>\n<p>So I need to make a request that can check if a challenge contains all tags in the provided array but I don't know how to make this.</p>\n<p>My repository method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Query(?)\nPage&lt;Challenge&gt; findByTags(String[] tags, Pageable pageable);\n</code></pre>\n<p>What i've done so far it's a query which works with one tag but not with an array:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT * FROM challenge WHERE tags LIKE '%' || :tag || '%';\n</code></pre>\n"},{"tags":["java","if-statement","joptionpane"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":2,"creation_date":1656525062,"post_id":72805261,"comment_id":128596750,"body_markdown":"Before you do anything else, read https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java.  For a delayed Swing action, look into the [Timer](https://docs.oracle.com/en/java/javase/18/docs/api/java.desktop/javax/swing/Timer.html) class.","body":"Before you do anything else, read <a href=\"https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java\" title=\"how do i compare strings in java\">stackoverflow.com/questions/513832/&hellip;</a>.  For a delayed Swing action, look into the <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.desktop/javax/swing/Timer.html\" rel=\"nofollow noreferrer\">Timer</a> class."}],"answers":[{"tags":[],"owner":{"account_id":21467359,"reputation":1,"user_id":15817058,"display_name":"OSX_VINCH"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1656523600,"creation_date":1656523600,"answer_id":72805566,"question_id":72805261,"body_markdown":"I belive you just need to add Thread.sleep(n); before the JOptionPane \r\n\r\nremember to import: java.lang.Thread;\r\n\r\ntime is in ms so 15seconds is gonna be 15000.\r\n\r\n    if (null==moviename|| moviename.trim().isEmpty()) {\r\n        try {  \r\n            Thread.sleep(15000);\r\n        } catch (InterruptedException e) {\r\n            System.out.print(&quot;Sleep problem of type: &quot;+e);\r\n        }\r\n        JOptionPane.showMessageDialog(null, &quot;You did not enter anything&quot;);\r\n        } else {             \r\n        JOptionPane.showMessageDialog(null, moviename + &quot;, sounds like a good watch.&quot;);  \r\n        }","title":"Can you make a JOptionPane.showMessageDialog appear after a duration of time?","body":"<p>I belive you just need to add Thread.sleep(n); before the JOptionPane</p>\n<p>remember to import: java.lang.Thread;</p>\n<p>time is in ms so 15seconds is gonna be 15000.</p>\n<pre><code>if (null==moviename|| moviename.trim().isEmpty()) {\n    try {  \n        Thread.sleep(15000);\n    } catch (InterruptedException e) {\n        System.out.print(&quot;Sleep problem of type: &quot;+e);\n    }\n    JOptionPane.showMessageDialog(null, &quot;You did not enter anything&quot;);\n    } else {             \n    JOptionPane.showMessageDialog(null, moviename + &quot;, sounds like a good watch.&quot;);  \n    }\n</code></pre>\n"}],"owner":{"account_id":25665469,"reputation":1,"user_id":19430524,"display_name":"Rohaan Khan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656523600,"creation_date":1656522089,"question_id":72805261,"body_markdown":"I have a question regarding how someone was to make a JOptionPane.showMesageDialog(); appear within a duration of time. For example, my program is supposed to ask about the user&#39;s favorite movie, Subsequently at least 15 seconds after the user answers, my program is supposed to ask &quot;are you there?&quot;, giving them the option of replying with Yes, no, or maybe. \r\nHow exactly can I do that? (if that&#39;s possible)\r\n\r\nhere&#39;s my code\r\n\r\n    ```\r\n    if (null==moviename|| moviename.trim().isEmpty()) {\r\n    \t\t\tJOptionPane.showMessageDialog(null, &quot;You did not enter anything&quot;);\r\n    \t\t} else {             JOptionPane.showMessageDialog(null, moviename + &quot;, sounds like a good watch.&quot;);  \r\n    \t\t}\r\n  ```\r\n\r\n  String ques=JOptionPane.showInputDialog(&quot;Are you there? Yes? No? Maybe?&quot;);\r\n    if (ques==&quot;yes&quot;) {\r\n    JOptionPane.showMessageDialog(null,&quot;Great To hear!&quot;);\r\n    } else if (ques==&quot;no&quot;) {\r\n    JOptionPane.showMessageDialog(null,&quot;Thats odd..&quot;);\r\n    } else if (ques==&quot;maybe&quot; || ques==&quot;Maybe&quot; ) {\r\n    \tJOptionPane.showMessageDialog(null, &quot;That was rhetorical...&quot;);\r\n    }\r\n    \t}\r\n    ```","title":"Can you make a JOptionPane.showMessageDialog appear after a duration of time?","body":"<p>I have a question regarding how someone was to make a JOptionPane.showMesageDialog(); appear within a duration of time. For example, my program is supposed to ask about the user's favorite movie, Subsequently at least 15 seconds after the user answers, my program is supposed to ask &quot;are you there?&quot;, giving them the option of replying with Yes, no, or maybe.\nHow exactly can I do that? (if that's possible)</p>\n<p>here's my code</p>\n<pre><code>```\nif (null==moviename|| moviename.trim().isEmpty()) {\n            JOptionPane.showMessageDialog(null, &quot;You did not enter anything&quot;);\n        } else {             JOptionPane.showMessageDialog(null, moviename + &quot;, sounds like a good watch.&quot;);  \n        }\n</code></pre>\n<pre><code>\nString ques=JOptionPane.showInputDialog(&quot;Are you there? Yes? No? Maybe?&quot;);\n  if (ques==&quot;yes&quot;) {\n  JOptionPane.showMessageDialog(null,&quot;Great To hear!&quot;);\n  } else if (ques==&quot;no&quot;) {\n  JOptionPane.showMessageDialog(null,&quot;Thats odd..&quot;);\n  } else if (ques==&quot;maybe&quot; || ques==&quot;Maybe&quot; ) {\n      JOptionPane.showMessageDialog(null, &quot;That was rhetorical...&quot;);\n  }\n      }\n  ```\n</code></pre>\n"},{"tags":["java","spring-boot","rollback"],"comments":[{"owner":{"account_id":1852014,"reputation":24139,"user_id":1678362,"display_name":"Aaron"},"score":1,"creation_date":1656492689,"post_id":72798473,"comment_id":128583583,"body_markdown":"put your save call into the if after the try","body":"put your save call into the if after the try"},{"owner":{"account_id":25376058,"reputation":1338,"user_id":19189183,"display_name":"Sayan Bhattacharya"},"score":0,"creation_date":1656492859,"post_id":72798473,"comment_id":128583646,"body_markdown":"If you want to save the `user` regardless of any exceptions then you can put  `userRepository.save(user);` in the `finally`  block of the used `try-catch`","body":"If you want to save the <code>user</code> regardless of any exceptions then you can put  <code>userRepository.save(user);</code> in the <code>finally</code>  block of the used <code>try-catch</code>"},{"owner":{"display_name":"user18772237"},"score":0,"creation_date":1656493228,"post_id":72798473,"comment_id":128583795,"body_markdown":"I can&#39;t do this because my if statement depends on the update","body":"I can&#39;t do this because my if statement depends on the update"},{"owner":{"account_id":10500523,"reputation":520,"user_id":7739375,"accept_rate":40,"display_name":"bloub"},"score":0,"creation_date":1656493322,"post_id":72798473,"comment_id":128583825,"body_markdown":"&quot;when it goes into exception, the database is not updated&quot;. Are you sure that the exception raised is a MailToNotFoundException ?","body":"&quot;when it goes into exception, the database is not updated&quot;. Are you sure that the exception raised is a MailToNotFoundException ?"},{"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"score":0,"creation_date":1656493432,"post_id":72798473,"comment_id":128583869,"body_markdown":"so apparently if exception is thrown from your method, db is not updated but you want to update your db even after exception is thrown? is that the case?","body":"so apparently if exception is thrown from your method, db is not updated but you want to update your db even after exception is thrown? is that the case?"},{"owner":{"display_name":"user18772237"},"score":0,"creation_date":1656493559,"post_id":72798473,"comment_id":128583908,"body_markdown":"@bloub yes, in the log i can see MailNotFoundException","body":"@bloub yes, in the log i can see MailNotFoundException"},{"owner":{"display_name":"user18772237"},"score":0,"creation_date":1656493591,"post_id":72798473,"comment_id":128583918,"body_markdown":"@AshishPatil yes, i wanna my db got updated independently if throw exception or not","body":"@AshishPatil yes, i wanna my db got updated independently if throw exception or not"},{"owner":{"account_id":10500523,"reputation":520,"user_id":7739375,"accept_rate":40,"display_name":"bloub"},"score":0,"creation_date":1656493864,"post_id":72798473,"comment_id":128584033,"body_markdown":"I think there might be something wrong in you save method. Like a commit() to the database missing (and maybe done further in your code). But it&#39;s wild guess.","body":"I think there might be something wrong in you save method. Like a commit() to the database missing (and maybe done further in your code). But it&#39;s wild guess."},{"owner":{"display_name":"user18772237"},"score":0,"creation_date":1656493947,"post_id":72798473,"comment_id":128584072,"body_markdown":"Guys i solved with &quot;@Transactional(noRollbackFor = MailToNotFoundException.class)&quot;","body":"Guys i solved with &quot;@Transactional(noRollbackFor = MailToNotFoundException.class)&quot;"},{"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"score":0,"creation_date":1656494113,"post_id":72798473,"comment_id":128584131,"body_markdown":"@sweet, for handling any general purpose exception, consider using `flush()` inside exception before calling `throw new Exception()..`","body":"@sweet, for handling any general purpose exception, consider using <code>flush()</code> inside exception before calling <code>throw new Exception()..</code>"}],"owner":{"display_name":"user18772237"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":476,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1656523497,"creation_date":1656492573,"question_id":72798473,"body_markdown":"My method makes an update on the database, and then after it tries to send an email, the latter could go into exception, and when it goes into exception, the database is not updated. How can I solve? Thanks in advance\r\n```\r\nuserRepository.save(user);\r\n\r\nif (user.isAccepted()) {\r\n    try {\r\n        mailSender.sendEmail(user);\r\n    } catch (Exception e) {\r\n        throw new MailToNotFoundException(ex);\r\n    }\r\n}\r\n```","title":"Java wait for the operation to finish to continue","body":"<p>My method makes an update on the database, and then after it tries to send an email, the latter could go into exception, and when it goes into exception, the database is not updated. How can I solve? Thanks in advance</p>\n<pre><code>userRepository.save(user);\n\nif (user.isAccepted()) {\n    try {\n        mailSender.sendEmail(user);\n    } catch (Exception e) {\n        throw new MailToNotFoundException(ex);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","validation","enums"],"comments":[{"owner":{"account_id":4136921,"reputation":929,"user_id":3393379,"display_name":"thinkgruen"},"score":0,"creation_date":1656449620,"post_id":72792868,"comment_id":128574354,"body_markdown":"If I remember correctly, you need to add  JsonValue to your enum, supported by [this answer](https://stackoverflow.com/a/20421494/3393379) and from there you can handle the validation. seems like or would create some repetition, though.","body":"If I remember correctly, you need to add  JsonValue to your enum, supported by <a href=\"https://stackoverflow.com/a/20421494/3393379\">this answer</a> and from there you can handle the validation. seems like or would create some repetition, though."},{"owner":{"account_id":17079442,"reputation":51,"user_id":19299440,"display_name":"Lekan Swansons"},"score":1,"creation_date":1656449942,"post_id":72792868,"comment_id":128574439,"body_markdown":"Maybe could try creating your own exception handler?","body":"Maybe could try creating your own exception handler?"},{"owner":{"account_id":4136921,"reputation":929,"user_id":3393379,"display_name":"thinkgruen"},"score":0,"creation_date":1656450030,"post_id":72792868,"comment_id":128574459,"body_markdown":"I was able to dig up [this answer](https://stackoverflow.com/a/18209990/3393379) as well","body":"I was able to dig up <a href=\"https://stackoverflow.com/a/18209990/3393379\">this answer</a> as well"}],"answers":[{"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656511799,"creation_date":1656511799,"answer_id":72802840,"question_id":72792868,"body_markdown":"Your enumeration code misses some important meta-information.\r\n\r\n    @Target({ElementType.METHOD, ElementType.FIELD})\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Constraint(validatedBy=EnumStringValidator.class)\r\n    public @interface EnumString {\r\n        Class&lt;? extends Enum&lt;?&gt;&gt; enumClass();\r\n        String message() default &quot;must be any of enum {enumClass}&quot;;\r\n        Class&lt;?&gt;[] groups() default {};\r\n        Class&lt;? extends Payload&gt;[] payload() default {};\r\n    }","title":"How to throw a meaningful error message from an invalid enum request param in spring boot?","body":"<p>Your enumeration code misses some important meta-information.</p>\n<pre><code>@Target({ElementType.METHOD, ElementType.FIELD})\n@Retention(RetentionPolicy.RUNTIME)\n@Constraint(validatedBy=EnumStringValidator.class)\npublic @interface EnumString {\n    Class&lt;? extends Enum&lt;?&gt;&gt; enumClass();\n    String message() default &quot;must be any of enum {enumClass}&quot;;\n    Class&lt;?&gt;[] groups() default {};\n    Class&lt;? extends Payload&gt;[] payload() default {};\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25266045,"reputation":141,"user_id":19096205,"display_name":"Gojo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656522609,"creation_date":1656522609,"answer_id":72805354,"question_id":72792868,"body_markdown":"I ended up changing to the input parameter as a String instead of Type enum. I also used @Schema(implementation = RequestParams.Type.class) to maintain the dropdown in swagger. Then I added some validation in the java code to check if it matches the enum to throw a proper error message. \r\n\r\n```\r\n@Parameter(name = &quot;type&quot;) @Valid @RequestParam @Schema(implementation = RequestParams.Type.class) String type\r\n```","title":"How to throw a meaningful error message from an invalid enum request param in spring boot?","body":"<p>I ended up changing to the input parameter as a String instead of Type enum. I also used @Schema(implementation = RequestParams.Type.class) to maintain the dropdown in swagger. Then I added some validation in the java code to check if it matches the enum to throw a proper error message.</p>\n<pre><code>@Parameter(name = &quot;type&quot;) @Valid @RequestParam @Schema(implementation = RequestParams.Type.class) String type\n</code></pre>\n"}],"owner":{"account_id":25266045,"reputation":141,"user_id":19096205,"display_name":"Gojo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1605,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1656522609,"creation_date":1656448510,"question_id":72792868,"body_markdown":"I am accepting an enum parameter to my API but when I use an invalid param via Postman I get blank 400 Bad Request response. I want a meaningful error message like : &quot;invalid Type please insert ...&quot;\r\n\r\n```\r\n public ResponseEntity&lt;JsonNode&gt; getForType(\r\n\r\n    @Parameter(name = &quot;type&quot;) @Valid @RequestParam @EnumString(enumClass =  RequestParams.Type.class) RequestParams.Type type,\r\n...\r\n\r\n```\r\nEnumString.java:\r\n```\r\npublic @interface EnumString {\r\n    Class&lt;? extends Enum&lt;?&gt;&gt; enumClass();\r\n    String message() default &quot;must be any of enum {enumClass}&quot;;\r\n    Class&lt;?&gt;[] groups() default {};\r\n    Class&lt;? extends Payload&gt;[] payload() default {};\r\n}\r\n```\r\nEnumStringValidator.java:\r\n```\r\npublic class EnumStringValidator implements ConstraintValidator&lt;EnumString, Enum&gt; {\r\n    private List&lt;String&gt; acceptedValues;\r\n\r\n    @Override\r\n    public void initialize(EnumString annotation) {\r\n        acceptedValues = Stream.of(annotation.enumClass().getEnumConstants())\r\n                .map(Enum::name)\r\n                .collect(Collectors.toList());\r\n    }\r\n\r\n    @Override\r\n    public boolean isValid(Enum value, ConstraintValidatorContext context) {\r\n        if (value == null) {\r\n            return true;\r\n        }\r\n\r\n        return acceptedValues.contains(value.name());\r\n    }\r\n}\r\n}\r\n```\r\n\r\nI created a custom validator EnumString and EnumStringValidator but the type does not even get to the validator. If it is an invalid type then it doesn&#39;t even get into the validation. How can I keep the parameter as an Enum of Type and also throw an error message if a user passes an invalid one?","title":"How to throw a meaningful error message from an invalid enum request param in spring boot?","body":"<p>I am accepting an enum parameter to my API but when I use an invalid param via Postman I get blank 400 Bad Request response. I want a meaningful error message like : &quot;invalid Type please insert ...&quot;</p>\n<pre><code> public ResponseEntity&lt;JsonNode&gt; getForType(\n\n    @Parameter(name = &quot;type&quot;) @Valid @RequestParam @EnumString(enumClass =  RequestParams.Type.class) RequestParams.Type type,\n...\n\n</code></pre>\n<p>EnumString.java:</p>\n<pre><code>public @interface EnumString {\n    Class&lt;? extends Enum&lt;?&gt;&gt; enumClass();\n    String message() default &quot;must be any of enum {enumClass}&quot;;\n    Class&lt;?&gt;[] groups() default {};\n    Class&lt;? extends Payload&gt;[] payload() default {};\n}\n</code></pre>\n<p>EnumStringValidator.java:</p>\n<pre><code>public class EnumStringValidator implements ConstraintValidator&lt;EnumString, Enum&gt; {\n    private List&lt;String&gt; acceptedValues;\n\n    @Override\n    public void initialize(EnumString annotation) {\n        acceptedValues = Stream.of(annotation.enumClass().getEnumConstants())\n                .map(Enum::name)\n                .collect(Collectors.toList());\n    }\n\n    @Override\n    public boolean isValid(Enum value, ConstraintValidatorContext context) {\n        if (value == null) {\n            return true;\n        }\n\n        return acceptedValues.contains(value.name());\n    }\n}\n}\n</code></pre>\n<p>I created a custom validator EnumString and EnumStringValidator but the type does not even get to the validator. If it is an invalid type then it doesn't even get into the validation. How can I keep the parameter as an Enum of Type and also throw an error message if a user passes an invalid one?</p>\n"},{"tags":["java","spring-cloud-feign","openfeign"],"answers":[{"tags":[],"owner":{"account_id":1365317,"reputation":909,"user_id":1301881,"accept_rate":100,"display_name":"James Gawron"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1576096161,"creation_date":1576096161,"answer_id":59293601,"question_id":59293527,"body_markdown":"Headers accepts String[] for value ... So\r\n\r\n        @Headers({ &quot;username: {username}&quot;, &quot;password: {password}&quot; })\r\n\r\nShould do the trick","title":"Is there a way to add multiple headers when using Feign Client","body":"<p>Headers accepts String[] for value ... So</p>\n\n<pre><code>    @Headers({ \"username: {username}\", \"password: {password}\" })\n</code></pre>\n\n<p>Should do the trick</p>\n"},{"tags":[],"owner":{"account_id":11373567,"reputation":406,"user_id":8338512,"display_name":"Mohit Hurkat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641677830,"creation_date":1595831697,"answer_id":63109852,"question_id":59293527,"body_markdown":"&gt;     @RequestLine(&quot;POST /v1/users&quot;)\r\n&gt;     @Body(&quot;{userBody}&quot;)\r\n&gt;     Response createUser(@HeaderMap Map headerMap, @Param(value = &quot;userBody&quot;) String userBody);\r\n\r\n\r\nUpdated\r\n\r\n    @RequestLine(&quot;POST /v1/users&quot;) \r\n    Response createUser(String userBody, @HeaderMap Map headerMap);\r\n","title":"Is there a way to add multiple headers when using Feign Client","body":"<blockquote>\n<pre><code>@RequestLine(&quot;POST /v1/users&quot;)\n@Body(&quot;{userBody}&quot;)\nResponse createUser(@HeaderMap Map headerMap, @Param(value = &quot;userBody&quot;) String userBody);\n</code></pre>\n</blockquote>\n<p>Updated</p>\n<pre><code>@RequestLine(&quot;POST /v1/users&quot;) \nResponse createUser(String userBody, @HeaderMap Map headerMap);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1591602,"reputation":3575,"user_id":1474815,"accept_rate":0,"display_name":"Paulo Pedroso"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1641573158,"creation_date":1641573158,"answer_id":70624363,"question_id":59293527,"body_markdown":"I know it may be late but I am hopping to help others.\r\n\r\nWhat has worked for me:\r\n\r\n    import org.springframework.web.bind.annotation.PostMapping;\r\n    import org.springframework.web.bind.annotation.RequestBody;\r\n    import org.springframework.web.bind.annotation.RequestHeader;\r\n    import org.springframework.web.bind.annotation.RequestParam;\r\n    \r\n    @PostMapping(path = &quot;${service-uri}&quot;, consumes = MediaType.APPLICATION_JSON_VALUE)\r\n        String callService(@RequestBody MyBodyClass body, @RequestParam Integer param01, @RequestParam String param02, @RequestHeader Map&lt;String, String&gt; headerMap);\r\n\r\nThe solution proposed with @HeaderMap doesn&#39;t work, apparently because this class is from *feign* package (import feign.HeaderMap).","title":"Is there a way to add multiple headers when using Feign Client","body":"<p>I know it may be late but I am hopping to help others.</p>\n<p>What has worked for me:</p>\n<pre><code>import org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestHeader;\nimport org.springframework.web.bind.annotation.RequestParam;\n\n@PostMapping(path = &quot;${service-uri}&quot;, consumes = MediaType.APPLICATION_JSON_VALUE)\n    String callService(@RequestBody MyBodyClass body, @RequestParam Integer param01, @RequestParam String param02, @RequestHeader Map&lt;String, String&gt; headerMap);\n</code></pre>\n<p>The solution proposed with @HeaderMap doesn't work, apparently because this class is from <em>feign</em> package (import feign.HeaderMap).</p>\n"}],"owner":{"account_id":5723452,"reputation":1656,"user_id":4521196,"accept_rate":58,"display_name":"jlp"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13893,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":3,"score":6,"last_activity_date":1656522395,"creation_date":1576095869,"question_id":59293527,"body_markdown":"I have a Feign client to access to an createUser endpoint that requires two headers: username and password.  I know how to add one header, but how do I add two headers to the request?\r\n\r\n    @FeignClient(name = &quot;client&quot;, url = &quot;https://abc.abc.com/user/&quot;, configuration = FeignClientConfig.class)\r\n    public interface MyFeignClient {\r\n\r\n    @Headers(&quot;username_header: {username}&quot;)  // how do I add &quot;password&quot; here.\r\n    @PostMapping(value = &quot;v1/users&quot;)\r\n    void createUser((@Param(&quot;username&quot;) String username, User userRequest);\r\n}\r\n\r\n**Update**:  Now based on the answer below, I changed the interface body to:\r\n\r\n    @Headers({&quot;username_header: {username}&quot;, &quot;password_header: {password}&quot;}) \r\n    @PostMapping(value = &quot;v1/users&quot;)\r\n    void createUser(@Param(&quot;username&quot;) String username, \r\n                    @Param(&quot;password&quot;) String password,\r\n                    User userRequest);\r\n\r\nAnd the code that calls it is:\r\n      \r\n    feignClient.createUser(&quot;me&quot;, &quot;123&quot;, userObj);\r\n\r\nThen I am getting an error:\r\n\r\n     org.springframework.beans.factory.BeanCreationException: Error creating bean,\r\n     nested exception is java.lang.IllegalStateException: Method has too many Body parameters: \r\n     feignClient.createUser(java.lang.String,java.lang.String, User)\r\n    \r\n\r\n","title":"Is there a way to add multiple headers when using Feign Client","body":"<p>I have a Feign client to access to an createUser endpoint that requires two headers: username and password.  I know how to add one header, but how do I add two headers to the request?</p>\n\n<pre><code>@FeignClient(name = \"client\", url = \"https://abc.abc.com/user/\", configuration = FeignClientConfig.class)\npublic interface MyFeignClient {\n\n@Headers(\"username_header: {username}\")  // how do I add \"password\" here.\n@PostMapping(value = \"v1/users\")\nvoid createUser((@Param(\"username\") String username, User userRequest);\n</code></pre>\n\n<p>}</p>\n\n<p><strong>Update</strong>:  Now based on the answer below, I changed the interface body to:</p>\n\n<pre><code>@Headers({\"username_header: {username}\", \"password_header: {password}\"}) \n@PostMapping(value = \"v1/users\")\nvoid createUser(@Param(\"username\") String username, \n                @Param(\"password\") String password,\n                User userRequest);\n</code></pre>\n\n<p>And the code that calls it is:</p>\n\n<pre><code>feignClient.createUser(\"me\", \"123\", userObj);\n</code></pre>\n\n<p>Then I am getting an error:</p>\n\n<pre><code> org.springframework.beans.factory.BeanCreationException: Error creating bean,\n nested exception is java.lang.IllegalStateException: Method has too many Body parameters: \n feignClient.createUser(java.lang.String,java.lang.String, User)\n</code></pre>\n"},{"tags":["java","regex","string"],"answers":[{"tags":[],"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1656518855,"creation_date":1656518111,"answer_id":72804447,"question_id":72804317,"body_markdown":"## Regex\r\n\r\nThis is fairly easy to achieve with regex capturing groups. Your pattern will be `&quot;ParamField\\\\(paramName=(.+), paramValue=(.+)\\\\)&quot;` and then you simply match and get `group(1)` and `group(2)`.\r\n\r\nOnce you extracted that, simply create the string with a `StringJoiner` on `;` or similar.\r\n\r\nCould look something like this:\r\n\r\n```java\r\nPattern pattern = Pattern.compile(&quot;ParamField\\\\(paramName=(.+), paramValue=(.+)\\\\)&quot;);\r\n\r\nStringJoiner sj = new StringJoiner(&quot;;&quot;);\r\nfor (String paramField : paramFields) {\r\n  Matcher matcher = pattern.matcher(paramField);\r\n  if (!matcher.find()) {\r\n    throw new IllegalArgumentException(&quot;Bad input format&quot;);\r\n  }\r\n\r\n  String name = matcher.group(1);\r\n  String value = matcher.group(2);\r\n\r\n  sj.add(name + &quot;-&quot; + value);\r\n}\r\n\r\nString result = sj.toString();\r\n```\r\n\r\n----------\r\n## With OOP\r\n\r\nIdeally you would employ some OOP though and create a nice record `ParamField` with a factory method on that string and then use its getters. That way its easier to keep working with the data, in case you need to do more with it.\r\n\r\n```java\r\nrecord ParamField(String name, String value) {\r\n  private static Pattern pattern = Pattern.compile(\r\n    &quot;ParamField\\\\(paramName=(.+), paramValue=(.+)\\\\)&quot;);\r\n\r\n  static ParamField of(String line) {\r\n    Matcher matcher = pattern.matcher(line);\r\n    if (!matcher.find()) {\r\n      throw new IllegalArgumentException(&quot;Bad input format&quot;);\r\n    }\r\n    return new ParamField(matcher.group(1), matcher.group(2));\r\n  }\r\n}\r\n```\r\nwith a usage like\r\n```java\r\nList&lt;ParamField&gt; paramFields = lines.stream()\r\n  .map(ParamField::of)\r\n  .toList();\r\n```\r\nand then work with that data. For example build your string:\r\n```java\r\nString result = paramFields.stream()\r\n  .map(paramField -&gt; paramField.name() + &quot;-&quot; + paramField.value())\r\n  .collect(Collectors.joining(&quot;;&quot;));\r\n```\r\n\r\n### Enum\r\n\r\nIf you need to do more complex stuff with the data, I would suggest you go one step further and also put the **value** into an enum, such as:\r\n\r\n```java\r\nenum ParamValue {\r\n  ADMITTED(&quot;Admitted&quot;),\r\n  DISCARDED(&quot;Discarded&quot;);\r\n\r\n  // field, constructor, getter, of-method\r\n}\r\n```\r\nso that you do not have to work with raw strings anymore but get all the type-safety Java can provide to you.","title":"How can I parse a string by mutliple delimiters using Java8 or regex","body":"<h2>Regex</h2>\n<p>This is fairly easy to achieve with regex capturing groups. Your pattern will be <code>&quot;ParamField\\\\(paramName=(.+), paramValue=(.+)\\\\)&quot;</code> and then you simply match and get <code>group(1)</code> and <code>group(2)</code>.</p>\n<p>Once you extracted that, simply create the string with a <code>StringJoiner</code> on <code>;</code> or similar.</p>\n<p>Could look something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Pattern pattern = Pattern.compile(&quot;ParamField\\\\(paramName=(.+), paramValue=(.+)\\\\)&quot;);\n\nStringJoiner sj = new StringJoiner(&quot;;&quot;);\nfor (String paramField : paramFields) {\n  Matcher matcher = pattern.matcher(paramField);\n  if (!matcher.find()) {\n    throw new IllegalArgumentException(&quot;Bad input format&quot;);\n  }\n\n  String name = matcher.group(1);\n  String value = matcher.group(2);\n\n  sj.add(name + &quot;-&quot; + value);\n}\n\nString result = sj.toString();\n</code></pre>\n<hr />\n<h2>With OOP</h2>\n<p>Ideally you would employ some OOP though and create a nice record <code>ParamField</code> with a factory method on that string and then use its getters. That way its easier to keep working with the data, in case you need to do more with it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>record ParamField(String name, String value) {\n  private static Pattern pattern = Pattern.compile(\n    &quot;ParamField\\\\(paramName=(.+), paramValue=(.+)\\\\)&quot;);\n\n  static ParamField of(String line) {\n    Matcher matcher = pattern.matcher(line);\n    if (!matcher.find()) {\n      throw new IllegalArgumentException(&quot;Bad input format&quot;);\n    }\n    return new ParamField(matcher.group(1), matcher.group(2));\n  }\n}\n</code></pre>\n<p>with a usage like</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;ParamField&gt; paramFields = lines.stream()\n  .map(ParamField::of)\n  .toList();\n</code></pre>\n<p>and then work with that data. For example build your string:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String result = paramFields.stream()\n  .map(paramField -&gt; paramField.name() + &quot;-&quot; + paramField.value())\n  .collect(Collectors.joining(&quot;;&quot;));\n</code></pre>\n<h3>Enum</h3>\n<p>If you need to do more complex stuff with the data, I would suggest you go one step further and also put the <strong>value</strong> into an enum, such as:</p>\n<pre class=\"lang-java prettyprint-override\"><code>enum ParamValue {\n  ADMITTED(&quot;Admitted&quot;),\n  DISCARDED(&quot;Discarded&quot;);\n\n  // field, constructor, getter, of-method\n}\n</code></pre>\n<p>so that you do not have to work with raw strings anymore but get all the type-safety Java can provide to you.</p>\n"},{"tags":[],"owner":{"account_id":3741091,"reputation":86,"user_id":3110869,"display_name":"shylesh krishna"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656520266,"creation_date":1656520266,"answer_id":72804903,"question_id":72804317,"body_markdown":"Using Simple substring  and index of\r\n\r\n    ArrayList list=new ArrayList();\r\n          List.of(\r\n                &quot;ParamField(paramName=Thomas, paramValue=Admitted)&quot;,\r\n                &quot;ParamField(paramName=Martin, paramValue=Discarded)&quot;,\r\n                &quot;ParamField(paramName=Steve, paramValue=Admitted)&quot;\r\n        ).forEach(item-&gt;{\r\n              list.add(item.substring(21,item.lastIndexOf(&quot;,&quot;))+&quot;-&quot;+item.substring(item.lastIndexOf(&quot;ue=&quot;)+3,item.lastIndexOf(&quot;)&quot;)));\r\n        });\r\n        String s =list.toString();","title":"How can I parse a string by mutliple delimiters using Java8 or regex","body":"<p>Using Simple substring  and index of</p>\n<pre><code>ArrayList list=new ArrayList();\n      List.of(\n            &quot;ParamField(paramName=Thomas, paramValue=Admitted)&quot;,\n            &quot;ParamField(paramName=Martin, paramValue=Discarded)&quot;,\n            &quot;ParamField(paramName=Steve, paramValue=Admitted)&quot;\n    ).forEach(item-&gt;{\n          list.add(item.substring(21,item.lastIndexOf(&quot;,&quot;))+&quot;-&quot;+item.substring(item.lastIndexOf(&quot;ue=&quot;)+3,item.lastIndexOf(&quot;)&quot;)));\n    });\n    String s =list.toString();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18416403,"reputation":2172,"user_id":13415164,"display_name":"Sergey Afinogenov"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1656522310,"creation_date":1656522310,"answer_id":72805298,"question_id":72804317,"body_markdown":"Using [Pattern][1] and [Matcher][2] classes with [Stream API][3]:\r\n\r\n```\r\nPattern pattern = Pattern.compile(&quot;ParamField\\\\(paramName=(.+), paramValue=(.+)\\\\)&quot;);\r\n\r\nvar result = Stream.of(\r\n                &quot;ParamField(paramName=Thomas, paramValue=Admitted)&quot;,\r\n                &quot;ParamField(paramName=Martin, paramValue=Discarded)&quot;,\r\n                &quot;ParamField(paramName=Steve, paramValue=Admitted)&quot;\r\n        ).map(pattern::matcher)\r\n        .filter(Matcher::find)\r\n        .map(m -&gt; String.format(&quot;%s-%s&quot;, m.group(1), m.group(2)))\r\n        .collect(Collectors.joining(&quot;;&quot;));\r\n\r\nSystem.out.println(result);\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/util/regex/Matcher.html\r\n  [3]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/stream/package-summary.html","title":"How can I parse a string by mutliple delimiters using Java8 or regex","body":"<p>Using <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html\" rel=\"nofollow noreferrer\">Pattern</a> and <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/regex/Matcher.html\" rel=\"nofollow noreferrer\">Matcher</a> classes with <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/stream/package-summary.html\" rel=\"nofollow noreferrer\">Stream API</a>:</p>\n<pre><code>Pattern pattern = Pattern.compile(&quot;ParamField\\\\(paramName=(.+), paramValue=(.+)\\\\)&quot;);\n\nvar result = Stream.of(\n                &quot;ParamField(paramName=Thomas, paramValue=Admitted)&quot;,\n                &quot;ParamField(paramName=Martin, paramValue=Discarded)&quot;,\n                &quot;ParamField(paramName=Steve, paramValue=Admitted)&quot;\n        ).map(pattern::matcher)\n        .filter(Matcher::find)\n        .map(m -&gt; String.format(&quot;%s-%s&quot;, m.group(1), m.group(2)))\n        .collect(Collectors.joining(&quot;;&quot;));\n\nSystem.out.println(result);\n</code></pre>\n"}],"owner":{"account_id":16688975,"reputation":161,"user_id":12062075,"display_name":"Anam Qureshi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":3,"up_vote_count":3,"closed_date":1656539057,"answer_count":3,"score":0,"last_activity_date":1656522310,"creation_date":1656517584,"question_id":72804317,"body_markdown":"I have a `List&lt;String&gt;` like this:\r\n\r\n    List.of(\r\n      &quot;ParamField(paramName=Thomas, paramValue=Admitted)&quot;,\r\n      &quot;ParamField(paramName=Martin, paramValue=Discarded)&quot;,\r\n      &quot;ParamField(paramName=Steve, paramValue=Admitted)&quot;\r\n    );\r\n\r\nHow can I iterate the list and parse all string in such a way that at the end of iteration I can have a single string which contains something likes this\r\n\r\n    String s = &quot;Thomas-Admitted;Marting-Discarded;Steve-Admitted&quot;;","title":"How can I parse a string by mutliple delimiters using Java8 or regex","body":"<p>I have a <code>List&lt;String&gt;</code> like this:</p>\n<pre><code>List.of(\n  &quot;ParamField(paramName=Thomas, paramValue=Admitted)&quot;,\n  &quot;ParamField(paramName=Martin, paramValue=Discarded)&quot;,\n  &quot;ParamField(paramName=Steve, paramValue=Admitted)&quot;\n);\n</code></pre>\n<p>How can I iterate the list and parse all string in such a way that at the end of iteration I can have a single string which contains something likes this</p>\n<pre><code>String s = &quot;Thomas-Admitted;Marting-Discarded;Steve-Admitted&quot;;\n</code></pre>\n"},{"tags":["java","spring-boot","unit-testing","mockito"],"owner":{"account_id":22543380,"reputation":11,"user_id":16733679,"display_name":"sarat kamal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1656518687,"answer_count":0,"score":1,"last_activity_date":1656522309,"creation_date":1656518387,"question_id":72804494,"body_markdown":"After updated to Spring Boot 2.6.x, I have NullPointerException. While running the Test case in this line. ```when(packageControl.tryPackage(anyString(), anyString(), anyString(), anyList())).thenReturn(&quot;XXXXXX&quot;);```\r\n\r\nI have this below error ```20:13:55.654 [main] INFO XXXXXXXXX - Start Read an Document List.\r\n[MockitoHint] XXXXXXXXXXXXXXXXXXXXXXX (see javadoc for MockitoHint):\r\n[MockitoHint] 1. Unused... -&gt; at XXXXXXXXXXXXXXXXXXXXXX (ListActivityTest.java:298)\r\n[MockitoHint]  ...args ok? -&gt; at xxxxxxxxxxxxxxxxx(ListActivity.java:213)```","title":"MockitoHint 1. Unused... -&gt; at","body":"<p>After updated to Spring Boot 2.6.x, I have NullPointerException. While running the Test case in this line. <code>when(packageControl.tryPackage(anyString(), anyString(), anyString(), anyList())).thenReturn(&quot;XXXXXX&quot;);</code></p>\n<p>I have this below error <code>20:13:55.654 [main] INFO XXXXXXXXX - Start Read an Document List. [MockitoHint] XXXXXXXXXXXXXXXXXXXXXXX (see javadoc for MockitoHint): [MockitoHint] 1. Unused... -&gt; at XXXXXXXXXXXXXXXXXXXXXX (ListActivityTest.java:298) [MockitoHint]  ...args ok? -&gt; at xxxxxxxxxxxxxxxxx(ListActivity.java:213)</code></p>\n"},{"tags":["java","php","css","string","wordpress-theming"],"comments":[{"owner":{"account_id":335034,"reputation":46179,"user_id":661872,"accept_rate":100,"display_name":"Lawrence Cherone"},"score":0,"creation_date":1656517518,"post_id":72804131,"comment_id":128594012,"body_markdown":"look for the other things which are most likely in the code and not in the database, like `art-code`, `txt-rotate`, `data-period`, `data-rotate`, they are most likely right next to what your looking for","body":"look for the other things which are most likely in the code and not in the database, like <code>art-code</code>, <code>txt-rotate</code>, <code>data-period</code>, <code>data-rotate</code>, they are most likely right next to what your looking for"},{"owner":{"account_id":25640432,"reputation":11,"user_id":19409432,"display_name":"Raven"},"score":0,"creation_date":1656519623,"post_id":72804131,"comment_id":128594770,"body_markdown":"hey @LawrenceCherone I have added typing.js above. Do I need to remove something from it?","body":"hey @LawrenceCherone I have added typing.js above. Do I need to remove something from it?"},{"owner":{"account_id":335034,"reputation":46179,"user_id":661872,"accept_rate":100,"display_name":"Lawrence Cherone"},"score":0,"creation_date":1656520518,"post_id":72804131,"comment_id":128595114,"body_markdown":"no, you need to find in the theme or plugin that you use","body":"no, you need to find in the theme or plugin that you use"}],"owner":{"account_id":25640432,"reputation":11,"user_id":19409432,"display_name":"Raven"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1656522019,"creation_date":1656516734,"question_id":72804131,"body_markdown":"I am unable to edit a string in wordpress theme. The theme is not in html so finding source code is tough for me.\r\nThis is the source code shown via inspect element:\r\n\r\n    &lt;div class=&quot;art-lg-text art-code mb-25&quot;&gt; &amp;lt;&lt;i&gt;code&lt;/i&gt;&amp;gt; \r\n     I love &lt;span class=&quot;txt-rotate&quot; data-period=&quot;2000&quot; data-rotate=&quot;[ &amp;quot;coding.&amp;quot;,&amp;quot;Gaming.&amp;quot;,&amp;quot;photo editing.&amp;quot;,&amp;quot;learning.&amp;quot; ]&quot;&gt;&lt;span class=&quot;wrap&quot;&gt;coding&lt;/span&gt;&lt;/span&gt; &amp;lt;/&lt;i&gt;code&lt;/i&gt;&amp;gt;&lt;/div&gt;\r\n\r\nI want to remove `&amp;lt;&lt;i&gt;code&lt;/i&gt;&amp;gt` and `&amp;lt;/&lt;i&gt;code&lt;/i&gt;&amp;gt` which is shown as `&lt;code&gt;`.....`&lt;/code&gt;` on my homepage.\r\nUnfortunately, the index.php and home.php just have references. They don&#39;t have a whole code for home page that index.html files generally have.\r\nI searched all files in my theme but couldn&#39;t find it. I searched the word &quot;***code***&quot; in my theme folder using **string locator plugin** but it gave 2300+ results! I deleted some related **CSS classes** and removed related contents from demo/01/**content.xml**.\r\nStill couldn&#39;t get rid of it.\r\nWhere could I find &amp; remove `&lt;code&gt;` `&lt;/code&gt;` without removing the contents within it.\r\n","title":"Unable to edit a string in wordpress theme","body":"<p>I am unable to edit a string in wordpress theme. The theme is not in html so finding source code is tough for me.\nThis is the source code shown via inspect element:</p>\n<pre><code>&lt;div class=&quot;art-lg-text art-code mb-25&quot;&gt; &amp;lt;&lt;i&gt;code&lt;/i&gt;&amp;gt; \n I love &lt;span class=&quot;txt-rotate&quot; data-period=&quot;2000&quot; data-rotate=&quot;[ &amp;quot;coding.&amp;quot;,&amp;quot;Gaming.&amp;quot;,&amp;quot;photo editing.&amp;quot;,&amp;quot;learning.&amp;quot; ]&quot;&gt;&lt;span class=&quot;wrap&quot;&gt;coding&lt;/span&gt;&lt;/span&gt; &amp;lt;/&lt;i&gt;code&lt;/i&gt;&amp;gt;&lt;/div&gt;\n</code></pre>\n<p>I want to remove <code>&amp;lt;&lt;i&gt;code&lt;/i&gt;&amp;gt</code> and <code>&amp;lt;/&lt;i&gt;code&lt;/i&gt;&amp;gt</code> which is shown as <code>&lt;code&gt;</code>.....<code>&lt;/code&gt;</code> on my homepage.\nUnfortunately, the index.php and home.php just have references. They don't have a whole code for home page that index.html files generally have.\nI searched all files in my theme but couldn't find it. I searched the word &quot;<em><strong>code</strong></em>&quot; in my theme folder using <strong>string locator plugin</strong> but it gave 2300+ results! I deleted some related <strong>CSS classes</strong> and removed related contents from demo/01/<strong>content.xml</strong>.\nStill couldn't get rid of it.\nWhere could I find &amp; remove <code>&lt;code&gt;</code> <code>&lt;/code&gt;</code> without removing the contents within it.</p>\n"},{"tags":["java","spring","spring-boot","spring-security","jwt"],"answers":[{"tags":[],"owner":{"account_id":12597082,"reputation":496,"user_id":9161255,"display_name":"Mohit Singh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1574183035,"creation_date":1574183035,"answer_id":58939352,"question_id":58938733,"body_markdown":"Basically, OncePerRequestFilter works in that way only. Not sure if this can be avoided. Quoting the documentation :\r\n\r\n&gt; Filter base class that aims to guarantee a single execution per\r\n&gt; request dispatch, on any servlet container.\r\n\r\nYou can try adding the method type as well to skip teh authentication on the endpoint.\r\n`.antMatchers(HttpMethod.GET,  &quot;/authenticate&quot;).permitAll()`\r\n\r\n\r\n","title":"Unable to skip the OncePerRequestFilter filter for a login url (basically to get the JWT token during the initial login)in spring boot security","body":"<p>Basically, OncePerRequestFilter works in that way only. Not sure if this can be avoided. Quoting the documentation :</p>\n\n<blockquote>\n  <p>Filter base class that aims to guarantee a single execution per\n  request dispatch, on any servlet container.</p>\n</blockquote>\n\n<p>You can try adding the method type as well to skip teh authentication on the endpoint.\n<code>.antMatchers(HttpMethod.GET,  \"/authenticate\").permitAll()</code></p>\n"},{"tags":[],"owner":{"account_id":3364917,"reputation":3325,"user_id":2825798,"display_name":"PraveenKumar Lalasangi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1574257985,"creation_date":1574185973,"answer_id":58940094,"question_id":58938733,"body_markdown":"As already pointed by Mohit, even i couldn&#39;t see any mistakes in your configuration.\r\n\r\nIf you understand below explanation, it will help you to resolve.&lt;br&gt;\r\nEven though `/authenticate` request is permitAll configured the request should pass through your JWT Filter. But `FilterSecurityInterceptor` is the last filter it will check for configured antMatchers and associated restrictions/permissions based on that it will decide whether request should be permitted or denied.\r\n\r\nFor `/authenticate` method it should pass through filter and requestTokenHeader, username should be null and make sure `chain.doFilter(request, response);` is reaching without any exceptions.\r\n\r\nAnd when it reaches `FilterSecurityInterceptor` and If you have set log level to debug) logs similar as given below should be printed.\r\n\r\n```\r\nDEBUG - /app/admin/app-config at position 12 of 12 in additional filter chain; firing Filter: &#39;FilterSecurityInterceptor&#39; \r\nDEBUG - Checking match of request : &#39;/app/admin/app-config&#39;; against &#39;/resources/**&#39; \r\nDEBUG - Checking match of request : &#39;/app/admin/app-config&#39;; against &#39;/&#39; \r\nDEBUG - Checking match of request : &#39;/app/admin/app-config&#39;; against &#39;/login&#39; \r\nDEBUG - Checking match of request : &#39;/app/admin/app-config&#39;; against &#39;/api/**&#39; \r\nDEBUG - Checking match of request : &#39;/app/admin/app-config&#39;; against &#39;/app/admin/app-config&#39; \r\nDEBUG - Secure object: FilterInvocation: URL: /app/admin/app-config; Attributes: [permitAll] \r\nDEBUG - Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@511cd205: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@2cd90: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: 696171A944493ACA1A0F7D560D93D42B; Granted Authorities: ROLE_ANONYMOUS \r\nDEBUG - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@6df827bf, returned: 1 \r\nDEBUG - Authorization successful \r\n```\r\n\r\nAttach those logs, so that then problem can be predicted. ","title":"Unable to skip the OncePerRequestFilter filter for a login url (basically to get the JWT token during the initial login)in spring boot security","body":"<p>As already pointed by Mohit, even i couldn't see any mistakes in your configuration.</p>\n\n<p>If you understand below explanation, it will help you to resolve.<br>\nEven though <code>/authenticate</code> request is permitAll configured the request should pass through your JWT Filter. But <code>FilterSecurityInterceptor</code> is the last filter it will check for configured antMatchers and associated restrictions/permissions based on that it will decide whether request should be permitted or denied.</p>\n\n<p>For <code>/authenticate</code> method it should pass through filter and requestTokenHeader, username should be null and make sure <code>chain.doFilter(request, response);</code> is reaching without any exceptions.</p>\n\n<p>And when it reaches <code>FilterSecurityInterceptor</code> and If you have set log level to debug) logs similar as given below should be printed.</p>\n\n<pre><code>DEBUG - /app/admin/app-config at position 12 of 12 in additional filter chain; firing Filter: 'FilterSecurityInterceptor' \nDEBUG - Checking match of request : '/app/admin/app-config'; against '/resources/**' \nDEBUG - Checking match of request : '/app/admin/app-config'; against '/' \nDEBUG - Checking match of request : '/app/admin/app-config'; against '/login' \nDEBUG - Checking match of request : '/app/admin/app-config'; against '/api/**' \nDEBUG - Checking match of request : '/app/admin/app-config'; against '/app/admin/app-config' \nDEBUG - Secure object: FilterInvocation: URL: /app/admin/app-config; Attributes: [permitAll] \nDEBUG - Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@511cd205: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@2cd90: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: 696171A944493ACA1A0F7D560D93D42B; Granted Authorities: ROLE_ANONYMOUS \nDEBUG - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@6df827bf, returned: 1 \nDEBUG - Authorization successful \n</code></pre>\n\n<p>Attach those logs, so that then problem can be predicted. </p>\n"},{"tags":[],"owner":{"account_id":11602238,"reputation":1,"user_id":8499000,"display_name":"nforchu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1590167041,"creation_date":1590167041,"answer_id":61960250,"question_id":58938733,"body_markdown":"Write a configuration class that implements *org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter* and override the configur method like so: \r\n\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity httpSecurity) throws Exception {\r\n        // dont authenticate this particular request. you can use a wild card here. e.g /unprotected/**\r\n        httpSecurity.csrf().disable().authorizeRequests().antMatchers(&quot;/authenticate&quot;).permitAll().\r\n                //authenticate everything else\r\n        anyRequest().authenticated().and().exceptionHandling().authenticationEntryPoint(jwtAuthenticationEntryPoint).and().sessionManagement()\r\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n        // Add a filter to validate the tokens with every request\r\n        httpSecurity.addFilterBefore(jwtRequestFilter, UsernamePasswordAuthenticationFilter.class);\r\n    }\r\n","title":"Unable to skip the OncePerRequestFilter filter for a login url (basically to get the JWT token during the initial login)in spring boot security","body":"<p>Write a configuration class that implements <em>org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter</em> and override the configur method like so: </p>\n\n<pre><code>@Override\nprotected void configure(HttpSecurity httpSecurity) throws Exception {\n    // dont authenticate this particular request. you can use a wild card here. e.g /unprotected/**\n    httpSecurity.csrf().disable().authorizeRequests().antMatchers(\"/authenticate\").permitAll().\n            //authenticate everything else\n    anyRequest().authenticated().and().exceptionHandling().authenticationEntryPoint(jwtAuthenticationEntryPoint).and().sessionManagement()\n            .sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n    // Add a filter to validate the tokens with every request\n    httpSecurity.addFilterBefore(jwtRequestFilter, UsernamePasswordAuthenticationFilter.class);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17468770,"reputation":205,"user_id":12664985,"display_name":"manoellribeiro"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1623373063,"creation_date":1623373063,"answer_id":67930075,"question_id":58938733,"body_markdown":"I struggled with this for two days and the best solution was the [Tom answer](https://stackoverflow.com/a/52370780/12664985) combined with this setup on my `SecurityConfig`:\r\n\r\n```\r\noverride fun configure(http: HttpSecurity?) {\r\n        // Disable CORS\r\n        http!!.cors().disable()\r\n\r\n        // Disable CSRF\r\n        http.csrf().disable()\r\n\r\n        // Set session management to stateless\r\n        http.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n\r\n        //Add JwtTokenFilter\r\n        http.addFilterBefore(jwtTokenFilter, UsernamePasswordAuthenticationFilter::class.java)\r\n    }\r\n````","title":"Unable to skip the OncePerRequestFilter filter for a login url (basically to get the JWT token during the initial login)in spring boot security","body":"<p>I struggled with this for two days and the best solution was the <a href=\"https://stackoverflow.com/a/52370780/12664985\">Tom answer</a> combined with this setup on my <code>SecurityConfig</code>:</p>\n<pre><code>override fun configure(http: HttpSecurity?) {\n        // Disable CORS\n        http!!.cors().disable()\n\n        // Disable CSRF\n        http.csrf().disable()\n\n        // Set session management to stateless\n        http.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n\n        //Add JwtTokenFilter\n        http.addFilterBefore(jwtTokenFilter, UsernamePasswordAuthenticationFilter::class.java)\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15039759,"reputation":21,"user_id":10854811,"display_name":"Miss Catz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656521958,"creation_date":1656521958,"answer_id":72805228,"question_id":58938733,"body_markdown":"\r\nI had similar problem, and I overcome it by comparing request path to the path I do not want to filter. \r\n\r\n```\r\n@Override\r\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\r\n\r\n        //To skip OncePerRequestFilter for authenticate endpoint\r\n        if(request.getServletPath().equals(&quot;/authenticate&quot;)){\r\n            filterChain.doFilter(request, response);\r\n            return;\r\n        }\r\n\r\n// filter logic continue..\r\n```","title":"Unable to skip the OncePerRequestFilter filter for a login url (basically to get the JWT token during the initial login)in spring boot security","body":"<p>I had similar problem, and I overcome it by comparing request path to the path I do not want to filter.</p>\n<pre><code>@Override\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\n\n        //To skip OncePerRequestFilter for authenticate endpoint\n        if(request.getServletPath().equals(&quot;/authenticate&quot;)){\n            filterChain.doFilter(request, response);\n            return;\n        }\n\n// filter logic continue..\n</code></pre>\n"}],"owner":{"account_id":1333602,"reputation":55,"user_id":7294613,"display_name":"Archana Acharya T"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9194,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":5,"score":2,"last_activity_date":1656521958,"creation_date":1574180926,"question_id":58938733,"body_markdown":"I am trying a develop a spring boot rest API with JWT authorization using spring security. I want all of my request to go through the filter to validate the JWT token  except for the `/authenticate` request which should generate the jwt token. But with the below code, the `/authenticate` request is also getting intercepted by the filter due to which its failing with 401. Please let me know what am I missing in the below code.\r\n\r\n**JwtTokenFilter class**\r\n```\r\n@Component\r\npublic class JwtTokenFilter extends OncePerRequestFilter\r\n{\r\n\r\n\t@Autowired\r\n\tprivate UserService\t\tjwtUserDetailsService;\r\n\t@Autowired\r\n\tprivate JwtTokenUtil\tjwtTokenUtil;\r\n\r\n\t@Override\r\n\tprotected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain chain) throws ServletException, IOException\r\n\t{\r\n\r\n\t\tfinal String requestTokenHeader = request.getHeader(&quot;Authorization&quot;);\r\n\t\tString username = null;\r\n\t\tString jwtToken = null;\r\n\t\t// JWT Token is in the form &quot;Bearer token&quot;. Remove Bearer word and get\r\n\t\t// only the Token\r\n\t\tif (requestTokenHeader != null &amp;&amp; requestTokenHeader.startsWith(&quot;Bearer &quot;))\r\n\t\t{\r\n\t\t\tjwtToken = requestTokenHeader.substring(7);\r\n\t\t\ttry\r\n\t\t\t{\r\n\t\t\t\tusername = jwtTokenUtil.getUsernameFromToken(jwtToken);\r\n\t\t\t}\r\n\t\t\tcatch (IllegalArgumentException e)\r\n\t\t\t{\r\n\t\t\t\tSystem.out.println(&quot;Unable to get JWT Token&quot;);\r\n\t\t\t}\r\n\t\t\tcatch (ExpiredJwtException e)\r\n\t\t\t{\r\n\t\t\t\tSystem.out.println(&quot;JWT Token has expired&quot;);\r\n\t\t\t}\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tlogger.warn(&quot;JWT Token does not begin with Bearer String&quot;);\r\n\t\t}\r\n\t\t// Once we get the token validate it.\r\n\t\tif (username != null &amp;&amp; SecurityContextHolder.getContext().getAuthentication() == null)\r\n\t\t{\r\n\t\t\tUserDetails userDetails = this.jwtUserDetailsService.loadUserByUsername(username);\r\n\t\t\t// if token is valid configure Spring Security to manually set\r\n\t\t\t// authentication\r\n\t\t\tif (jwtTokenUtil.validateToken(jwtToken, userDetails))\r\n\t\t\t{\r\n\t\t\t\tUsernamePasswordAuthenticationToken usernamePasswordAuthenticationToken = new UsernamePasswordAuthenticationToken(userDetails, null, userDetails.getAuthorities());\r\n\t\t\t\tusernamePasswordAuthenticationToken.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\r\n\t\t\t\t// After setting the Authentication in the context, we specify\r\n\t\t\t\t// that the current user is authenticated. So it passes the\r\n\t\t\t\t// Spring Security Configurations successfully.\r\n\t\t\t\tSecurityContextHolder.getContext().setAuthentication(usernamePasswordAuthenticationToken);\r\n\t\t\t}\r\n\t\t}\r\n\t\tchain.doFilter(request, response);\r\n\t}\r\n}\r\n```\r\n**JwtConfig class**\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\n@EnableGlobalMethodSecurity(prePostEnabled = true)\r\npublic class JwtConfigurer extends WebSecurityConfigurerAdapter\r\n{\r\n\r\n\t@Autowired\r\n\tprivate JwtAuthenticationEntryPoint\tjwtAuthenticationEntryPoint;\r\n\t@Autowired\r\n\tprivate UserService\t\t\t\t\tjwtUserDetailsService;\r\n\t@Autowired\r\n\tprivate JwtTokenFilter\t\t\t\tjwtRequestFilter;\r\n\r\n\t@Autowired\r\n\tpublic void configureGlobal(AuthenticationManagerBuilder auth) throws Exception\r\n\t{\r\n\t\t// configure AuthenticationManager so that it knows from where to load\r\n\t\t// user for matching credentials\r\n\t\t// Use BCryptPasswordEncoder\r\n\t\tauth.userDetailsService(jwtUserDetailsService).passwordEncoder(passwordEncoder());\r\n\t}\r\n\t@Bean\r\n\tpublic PasswordEncoder passwordEncoder()\r\n\t{\r\n\t\treturn new BCryptPasswordEncoder();\r\n\t}\r\n\t@Bean\r\n\t@Override\r\n\tpublic AuthenticationManager authenticationManagerBean() throws Exception\r\n\t{\r\n\t\treturn super.authenticationManagerBean();\r\n\t}\r\n\t@Override\r\n\tprotected void configure(HttpSecurity httpSecurity) throws Exception\r\n\t{\r\n\t\t// We don&#39;t need CSRF for this example\r\n\r\n\t\thttpSecurity.csrf().disable().\r\n\t\t// dont authenticate this particular request\r\n\t\t\t\tauthorizeRequests().antMatchers(&quot;/authenticate&quot;).permitAll().\r\n\t\t\t\t// all other requests need to be authenticated\r\n\t\t\t\tanyRequest().authenticated().and().\r\n\t\t\t\t// make sure we use stateless session; session won&#39;t be used to\r\n\t\t\t\t// store user&#39;s state.\r\n\t\t\t\texceptionHandling().authenticationEntryPoint(jwtAuthenticationEntryPoint).and().sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n\t\t// Add a filter to validate the tokens with every request\r\n\t\thttpSecurity.addFilterAfter(jwtRequestFilter, UsernamePasswordAuthenticationFilter.class);\r\n\t}\r\n}\r\n```\r\n\r\n**Controller class**\r\n```java\r\n@RestController\r\n@CrossOrigin\r\npublic class JwtAuthenticationController\r\n{\r\n\r\n\t@Autowired\r\n\tprivate AuthenticationManager\tauthenticationManager;\r\n\t@Autowired\r\n\tprivate JwtTokenUtil\t\t\tjwtTokenUtil;\r\n\t@Autowired\r\n\tprivate UserService\t\t\t\tuserDetailsService;\r\n\r\n\t@RequestMapping(value = &quot;/authenticate&quot;, method = RequestMethod.POST)\r\n\tpublic ResponseEntity&lt;?&gt; createAuthenticationToken(@RequestBody User authenticationRequest) throws Exception\r\n\t{\r\n\t\tauthenticate(authenticationRequest.getUsername(), authenticationRequest.getPassword());\r\n\t\tfinal UserDetails userDetails = userDetailsService.loadUserByUsername(authenticationRequest.getUsername());\r\n\t\tfinal String token = jwtTokenUtil.generateToken(userDetails);\r\n\r\n\t\tUser u = new User();\r\n\t\tu.setUsername(authenticationRequest.getUsername());\r\n\t\tu.setToken(token);\r\n\t\treturn ResponseEntity.ok(u);\r\n\t}\r\n\tprivate void authenticate(String username, String password) throws Exception\r\n\t{\r\n\t\ttry\r\n\t\t{\r\n\t\t\tauthenticationManager.authenticate(new UsernamePasswordAuthenticationToken(username, password));\r\n\t\t}\r\n\t\tcatch (DisabledException e)\r\n\t\t{\r\n\t\t\tthrow new Exception(&quot;USER_DISABLED&quot;, e);\r\n\t\t}\r\n\t\tcatch (BadCredentialsException e)\r\n\t\t{\r\n\t\t\tthrow new Exception(&quot;INVALID_CREDENTIALS&quot;, e);\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\n\r\n","title":"Unable to skip the OncePerRequestFilter filter for a login url (basically to get the JWT token during the initial login)in spring boot security","body":"<p>I am trying a develop a spring boot rest API with JWT authorization using spring security. I want all of my request to go through the filter to validate the JWT token  except for the <code>/authenticate</code> request which should generate the jwt token. But with the below code, the <code>/authenticate</code> request is also getting intercepted by the filter due to which its failing with 401. Please let me know what am I missing in the below code.</p>\n\n<p><strong>JwtTokenFilter class</strong></p>\n\n<pre><code>@Component\npublic class JwtTokenFilter extends OncePerRequestFilter\n{\n\n    @Autowired\n    private UserService     jwtUserDetailsService;\n    @Autowired\n    private JwtTokenUtil    jwtTokenUtil;\n\n    @Override\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain chain) throws ServletException, IOException\n    {\n\n        final String requestTokenHeader = request.getHeader(\"Authorization\");\n        String username = null;\n        String jwtToken = null;\n        // JWT Token is in the form \"Bearer token\". Remove Bearer word and get\n        // only the Token\n        if (requestTokenHeader != null &amp;&amp; requestTokenHeader.startsWith(\"Bearer \"))\n        {\n            jwtToken = requestTokenHeader.substring(7);\n            try\n            {\n                username = jwtTokenUtil.getUsernameFromToken(jwtToken);\n            }\n            catch (IllegalArgumentException e)\n            {\n                System.out.println(\"Unable to get JWT Token\");\n            }\n            catch (ExpiredJwtException e)\n            {\n                System.out.println(\"JWT Token has expired\");\n            }\n        }\n        else\n        {\n            logger.warn(\"JWT Token does not begin with Bearer String\");\n        }\n        // Once we get the token validate it.\n        if (username != null &amp;&amp; SecurityContextHolder.getContext().getAuthentication() == null)\n        {\n            UserDetails userDetails = this.jwtUserDetailsService.loadUserByUsername(username);\n            // if token is valid configure Spring Security to manually set\n            // authentication\n            if (jwtTokenUtil.validateToken(jwtToken, userDetails))\n            {\n                UsernamePasswordAuthenticationToken usernamePasswordAuthenticationToken = new UsernamePasswordAuthenticationToken(userDetails, null, userDetails.getAuthorities());\n                usernamePasswordAuthenticationToken.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\n                // After setting the Authentication in the context, we specify\n                // that the current user is authenticated. So it passes the\n                // Spring Security Configurations successfully.\n                SecurityContextHolder.getContext().setAuthentication(usernamePasswordAuthenticationToken);\n            }\n        }\n        chain.doFilter(request, response);\n    }\n}\n</code></pre>\n\n<p><strong>JwtConfig class</strong></p>\n\n<pre><code>@Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true)\npublic class JwtConfigurer extends WebSecurityConfigurerAdapter\n{\n\n    @Autowired\n    private JwtAuthenticationEntryPoint jwtAuthenticationEntryPoint;\n    @Autowired\n    private UserService                 jwtUserDetailsService;\n    @Autowired\n    private JwtTokenFilter              jwtRequestFilter;\n\n    @Autowired\n    public void configureGlobal(AuthenticationManagerBuilder auth) throws Exception\n    {\n        // configure AuthenticationManager so that it knows from where to load\n        // user for matching credentials\n        // Use BCryptPasswordEncoder\n        auth.userDetailsService(jwtUserDetailsService).passwordEncoder(passwordEncoder());\n    }\n    @Bean\n    public PasswordEncoder passwordEncoder()\n    {\n        return new BCryptPasswordEncoder();\n    }\n    @Bean\n    @Override\n    public AuthenticationManager authenticationManagerBean() throws Exception\n    {\n        return super.authenticationManagerBean();\n    }\n    @Override\n    protected void configure(HttpSecurity httpSecurity) throws Exception\n    {\n        // We don't need CSRF for this example\n\n        httpSecurity.csrf().disable().\n        // dont authenticate this particular request\n                authorizeRequests().antMatchers(\"/authenticate\").permitAll().\n                // all other requests need to be authenticated\n                anyRequest().authenticated().and().\n                // make sure we use stateless session; session won't be used to\n                // store user's state.\n                exceptionHandling().authenticationEntryPoint(jwtAuthenticationEntryPoint).and().sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n        // Add a filter to validate the tokens with every request\n        httpSecurity.addFilterAfter(jwtRequestFilter, UsernamePasswordAuthenticationFilter.class);\n    }\n}\n</code></pre>\n\n<p><strong>Controller class</strong></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@CrossOrigin\npublic class JwtAuthenticationController\n{\n\n    @Autowired\n    private AuthenticationManager   authenticationManager;\n    @Autowired\n    private JwtTokenUtil            jwtTokenUtil;\n    @Autowired\n    private UserService             userDetailsService;\n\n    @RequestMapping(value = \"/authenticate\", method = RequestMethod.POST)\n    public ResponseEntity&lt;?&gt; createAuthenticationToken(@RequestBody User authenticationRequest) throws Exception\n    {\n        authenticate(authenticationRequest.getUsername(), authenticationRequest.getPassword());\n        final UserDetails userDetails = userDetailsService.loadUserByUsername(authenticationRequest.getUsername());\n        final String token = jwtTokenUtil.generateToken(userDetails);\n\n        User u = new User();\n        u.setUsername(authenticationRequest.getUsername());\n        u.setToken(token);\n        return ResponseEntity.ok(u);\n    }\n    private void authenticate(String username, String password) throws Exception\n    {\n        try\n        {\n            authenticationManager.authenticate(new UsernamePasswordAuthenticationToken(username, password));\n        }\n        catch (DisabledException e)\n        {\n            throw new Exception(\"USER_DISABLED\", e);\n        }\n        catch (BadCredentialsException e)\n        {\n            throw new Exception(\"INVALID_CREDENTIALS\", e);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","multithreading","executorservice","executor"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":5,"creation_date":1656517984,"post_id":72804342,"comment_id":128594198,"body_markdown":"The `get()` call **blocks** the calling thread, and it blocks until the `Future` is complete. And that means the print statements after the `get()` call cannot happen until the submitted task is done. So, a single threaded executor is _not_ for synchronous execution, but the way you made use of it has made the code _effectively_ synchronous.","body":"The <code>get()</code> call <b>blocks</b> the calling thread, and it blocks until the <code>Future</code> is complete. And that means the print statements after the <code>get()</code> call cannot happen until the submitted task is done. So, a single threaded executor is <i>not</i> for synchronous execution, but the way you made use of it has made the code <i>effectively</i> synchronous."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1656518566,"post_id":72804342,"comment_id":128594407,"body_markdown":"To quote [the Javadoc](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Future.html#get()): *“Waits if necessary for the computation to complete, and then retrieves its result.”*","body":"To quote <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Future.html#get()\" rel=\"nofollow noreferrer\">the Javadoc</a>: <i>“Waits if necessary for the computation to complete, and then retrieves its result.”</i>"}],"answers":[{"tags":[],"owner":{"account_id":18416403,"reputation":2172,"user_id":13415164,"display_name":"Sergey Afinogenov"},"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1656518806,"creation_date":1656518278,"answer_id":72804474,"question_id":72804342,"body_markdown":"Method [`get`][1] of `Future` class retrives result of a task, **waiting** endlessly if it is not avalible. \r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Future.html#get()","title":"Callable thread for singleThreadExecutor is working as synchronously","body":"<p>Method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Future.html#get()\" rel=\"nofollow noreferrer\"><code>get</code></a> of <code>Future</code> class retrives result of a task, <strong>waiting</strong> endlessly if it is not avalible.</p>\n"},{"tags":[],"owner":{"account_id":4407008,"reputation":44,"user_id":3591105,"display_name":"faisal"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1656520157,"creation_date":1656520157,"answer_id":72804890,"question_id":72804342,"body_markdown":"&gt; So according to my point of view for Callable with single thread\r\n&gt; executor is working as synchronous\r\n\r\nNo, it does not work synchronously. Both `Callable` and `Runnable` work similar way. The only difference is the `Callable` return value where Runnable doesn&#39;t. \r\n\r\nSee Callable [java doc][1] for the explanation. \r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Callable.html","title":"Callable thread for singleThreadExecutor is working as synchronously","body":"<blockquote>\n<p>So according to my point of view for Callable with single thread\nexecutor is working as synchronous</p>\n</blockquote>\n<p>No, it does not work synchronously. Both <code>Callable</code> and <code>Runnable</code> work similar way. The only difference is the <code>Callable</code> return value where Runnable doesn't.</p>\n<p>See Callable <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Callable.html\" rel=\"nofollow noreferrer\">java doc</a> for the explanation.</p>\n"}],"owner":{"account_id":7792452,"reputation":21,"user_id":5894883,"display_name":"Saravanakumar Arunachalam"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":351,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"accepted_answer_id":72804474,"answer_count":2,"score":-2,"last_activity_date":1656521804,"creation_date":1656517683,"question_id":72804342,"body_markdown":"I have tested the below callable sample code\r\n\r\n   \r\n\r\n    ExecutorService executorService = Executors.newSingleThreadExecutor();\r\n    Future&lt;String&gt; futureResMap = executorService.submit(new Callable&lt;String&gt;() {\r\n    \t@Override\r\n    \tpublic String call() throws Exception {\r\n    \t\treturn &quot;thread:1&quot;;\r\n    \t}\r\n    });\r\n    executorService.shutdown();\r\n    System.out.println(&quot;1&quot;);\r\n    System.out.println(&quot;2&quot;);\r\n    System.out.println(&quot;3&quot;);\r\n    System.out.println(&quot;Thread response:&quot;+futureResMap.get());\r\n    System.out.println(&quot;4&quot;);\r\n    System.out.println(&quot;5&quot;);\r\n\r\nand gets the output always as below\r\n\r\n    1\r\n    2\r\n    3\r\n    Thread response:thread:1\r\n    4\r\n    5\r\n\r\nWhich means Callable with single thread executor runs synchronously always.\r\n\r\nWhen i tried for runnable as below\r\n\r\n    ExecutorService executorService = Executors.newSingleThreadExecutor();  \r\n    executorService.execute(new Runnable() {\r\n    \t@Override\r\n    \tpublic void run() {\r\n    \t\tSystem.out.println(&quot;Thread response:thread:1&quot;);\r\n    \t}\r\n    });\r\n    executorService.shutdown();\r\n    System.out.println(&quot;1&quot;);\r\n    System.out.println(&quot;2&quot;);\r\n    System.out.println(&quot;3&quot;);\r\n    System.out.println(&quot;4&quot;);\r\n    System.out.println(&quot;5&quot;);\r\n\r\nWhich provides different output every time.\r\n\r\nRun:1\r\n   \r\n\r\n    1\r\n    2\r\n    Thread response:thread:1\r\n    3\r\n    4\r\n    5\r\n\r\n\r\nRun 2:\r\n\r\n    1\r\n    2\r\n    3\r\n    Thread response:thread:1\r\n    4\r\n    5\r\n\r\nSo according to my point of view for Callable with single thread executor is working as synchronous. Callable is mostly for multithreaded implementation. Is my understanding correct?\r\n","title":"Callable thread for singleThreadExecutor is working as synchronously","body":"<p>I have tested the below callable sample code</p>\n<pre><code>ExecutorService executorService = Executors.newSingleThreadExecutor();\nFuture&lt;String&gt; futureResMap = executorService.submit(new Callable&lt;String&gt;() {\n    @Override\n    public String call() throws Exception {\n        return &quot;thread:1&quot;;\n    }\n});\nexecutorService.shutdown();\nSystem.out.println(&quot;1&quot;);\nSystem.out.println(&quot;2&quot;);\nSystem.out.println(&quot;3&quot;);\nSystem.out.println(&quot;Thread response:&quot;+futureResMap.get());\nSystem.out.println(&quot;4&quot;);\nSystem.out.println(&quot;5&quot;);\n</code></pre>\n<p>and gets the output always as below</p>\n<pre><code>1\n2\n3\nThread response:thread:1\n4\n5\n</code></pre>\n<p>Which means Callable with single thread executor runs synchronously always.</p>\n<p>When i tried for runnable as below</p>\n<pre><code>ExecutorService executorService = Executors.newSingleThreadExecutor();  \nexecutorService.execute(new Runnable() {\n    @Override\n    public void run() {\n        System.out.println(&quot;Thread response:thread:1&quot;);\n    }\n});\nexecutorService.shutdown();\nSystem.out.println(&quot;1&quot;);\nSystem.out.println(&quot;2&quot;);\nSystem.out.println(&quot;3&quot;);\nSystem.out.println(&quot;4&quot;);\nSystem.out.println(&quot;5&quot;);\n</code></pre>\n<p>Which provides different output every time.</p>\n<p>Run:1</p>\n<pre><code>1\n2\nThread response:thread:1\n3\n4\n5\n</code></pre>\n<p>Run 2:</p>\n<pre><code>1\n2\n3\nThread response:thread:1\n4\n5\n</code></pre>\n<p>So according to my point of view for Callable with single thread executor is working as synchronous. Callable is mostly for multithreaded implementation. Is my understanding correct?</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":15910691,"reputation":1091,"user_id":11480721,"display_name":"Ausgefuchster"},"score":0,"creation_date":1656519822,"post_id":72804728,"comment_id":128594856,"body_markdown":"Could you add your application.yml?","body":"Could you add your application.yml?"},{"owner":{"account_id":15910691,"reputation":1091,"user_id":11480721,"display_name":"Ausgefuchster"},"score":1,"creation_date":1656521074,"post_id":72804728,"comment_id":128595314,"body_markdown":"So I just recreated this and it&#39;s working complety fine for me. Are you sure you don&#39;t have  other annotations (e.g. Component, Service) above Vehicle?","body":"So I just recreated this and it&#39;s working complety fine for me. Are you sure you don&#39;t have  other annotations (e.g. Component, Service) above Vehicle?"},{"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"score":0,"creation_date":1656523736,"post_id":72804728,"comment_id":128596273,"body_markdown":"No error if I can try above, can you check if you have shared everything which is required to raise this question","body":"No error if I can try above, can you check if you have shared everything which is required to raise this question"}],"answers":[{"tags":[],"owner":{"account_id":15910691,"reputation":1091,"user_id":11480721,"display_name":"Ausgefuchster"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1656521543,"creation_date":1656521543,"answer_id":72805151,"question_id":72804728,"body_markdown":"You can try a different way to inject this:\r\n\r\nYou don&#39;t need to create a configuration class where you inject the property as field and then create a bean of Vehicle. You can use constructor injection in Vehicle and make Vehicle a Component with `@Component` annotation;\r\n\r\n```java\r\n@Getter\r\n@Setter\r\n@Component\r\npublic class Vehicle {\r\n    private String model;\r\n    \r\n    public Vehicle(@Value(&quot;${value}&quot;) String model) {\r\n        this.model = model\r\n    }\r\n}\r\n```\r\n\r\nI personally prefer this way and I hope it works for you!","title":"no qualifying bean of type &#39;java.lang.string&#39; available error in spring","body":"<p>You can try a different way to inject this:</p>\n<p>You don't need to create a configuration class where you inject the property as field and then create a bean of Vehicle. You can use constructor injection in Vehicle and make Vehicle a Component with <code>@Component</code> annotation;</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter\n@Setter\n@Component\npublic class Vehicle {\n    private String model;\n    \n    public Vehicle(@Value(&quot;${value}&quot;) String model) {\n        this.model = model\n    }\n}\n</code></pre>\n<p>I personally prefer this way and I hope it works for you!</p>\n"}],"owner":{"account_id":11349516,"reputation":113,"user_id":8321026,"display_name":"Shankar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1791,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72805151,"answer_count":1,"score":1,"last_activity_date":1656521543,"creation_date":1656519414,"question_id":72804728,"body_markdown":"I am getting no qualifying bean of type &#39;java.lang.string&#39; available error in spring, NoSuchBeanDefinitionException in the following code. I have Test.java like the following, where I am trying to read the value from application.yaml.\r\n\r\n    @Configuration\r\n    public class Test {\r\n    \r\n        @Value(&quot;${value}&quot;)\r\n        private String val;\r\n        \r\n        @Bean\r\n        public Vehicle getVehicle() {\r\n        return new Vehicle(val);\r\n        }\r\n    }\r\n\r\nIn Vehicle.java\r\n\r\n    @AllArgConstructor\r\n    @Getter\r\n    @Setter\r\n    public class Vehicle {\r\n    \r\n    private String model;\r\n    \r\n    }\r\n\r\nI have another class, Driver.java, from where I have to inject Vehicle object through constructor.\r\n\r\n    @Service\r\n    public class Driver {\r\n    \r\n    private Vehicle v;\r\n    \r\n    @Autowired\r\n    public Driver(Vehicle v) {\r\n      this.v = v;\r\n    }\r\n\r\napplication.yaml looks like this.\r\n\r\n    value: FORTUNE\r\n    price: 10000","title":"no qualifying bean of type &#39;java.lang.string&#39; available error in spring","body":"<p>I am getting no qualifying bean of type 'java.lang.string' available error in spring, NoSuchBeanDefinitionException in the following code. I have Test.java like the following, where I am trying to read the value from application.yaml.</p>\n<pre><code>@Configuration\npublic class Test {\n\n    @Value(&quot;${value}&quot;)\n    private String val;\n    \n    @Bean\n    public Vehicle getVehicle() {\n    return new Vehicle(val);\n    }\n}\n</code></pre>\n<p>In Vehicle.java</p>\n<pre><code>@AllArgConstructor\n@Getter\n@Setter\npublic class Vehicle {\n\nprivate String model;\n\n}\n</code></pre>\n<p>I have another class, Driver.java, from where I have to inject Vehicle object through constructor.</p>\n<pre><code>@Service\npublic class Driver {\n\nprivate Vehicle v;\n\n@Autowired\npublic Driver(Vehicle v) {\n  this.v = v;\n}\n</code></pre>\n<p>application.yaml looks like this.</p>\n<pre><code>value: FORTUNE\nprice: 10000\n</code></pre>\n"},{"tags":["java","data-structures","linked-list"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1656521412,"post_id":72805110,"comment_id":128595449,"body_markdown":"A reference is Java is basically a pointer.  References do all the same things pointers do, essentially.","body":"A reference is Java is basically a pointer.  References do all the same things pointers do, essentially."},{"owner":{"account_id":21534,"reputation":59456,"user_id":52443,"display_name":"Welbog"},"score":0,"creation_date":1656523617,"post_id":72805110,"comment_id":128596228,"body_markdown":"See [I&#39;m having trouble understanding how object references work in Java?](https://stackoverflow.com/questions/56785593/im-having-trouble-understanding-how-object-references-work-in-java) and [What exactly is a reference variable in Java? How does it differ from other variables?](https://stackoverflow.com/questions/47361971/what-exactly-is-a-reference-variable-in-java-how-does-it-differ-from-other-vari)","body":"See <a href=\"https://stackoverflow.com/questions/56785593/im-having-trouble-understanding-how-object-references-work-in-java\">I&#39;m having trouble understanding how object references work in Java?</a> and <a href=\"https://stackoverflow.com/questions/47361971/what-exactly-is-a-reference-variable-in-java-how-does-it-differ-from-other-vari\">What exactly is a reference variable in Java? How does it differ from other variables?</a>"}],"owner":{"account_id":25479763,"reputation":1,"user_id":19276332,"display_name":"John david"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1656523820,"answer_count":0,"score":0,"last_activity_date":1656521358,"creation_date":1656521358,"question_id":72805110,"body_markdown":"I read in a book that a node in `linked list` points to the `next node` and so on. So how does nodes get the address of  the next node?\r\n\r\n(is it because we pass the reference variable of the previous node to the newly created node through the constructor argument?)","title":"How does the node in the linked list points to the next node when there is no pointer in java?","body":"<p>I read in a book that a node in <code>linked list</code> points to the <code>next node</code> and so on. So how does nodes get the address of  the next node?</p>\n<p>(is it because we pass the reference variable of the previous node to the newly created node through the constructor argument?)</p>\n"},{"tags":["java","mysql"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1656517983,"post_id":72804143,"comment_id":128594197,"body_markdown":"What *exactly precisely* is the data type of your column in MySQL?","body":"What <i>exactly precisely</i> is the data type of your column in MySQL?"},{"owner":{"account_id":22155260,"reputation":3,"user_id":16403109,"display_name":"Javier P&#233;rez Escamilla"},"score":0,"creation_date":1656643042,"post_id":72804143,"comment_id":128628035,"body_markdown":"The type of the field is DateTime","body":"The type of the field is DateTime"}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1656521335,"creation_date":1656517068,"answer_id":72804199,"question_id":72804143,"body_markdown":"# tl;dr\r\n\r\nYou neglected to mention the data type of your column. So I cannot tell you which of these to use.\r\n\r\nEither:\r\n\r\n    OffsetDateTime odt = myResultSet.getObject( … , OffsetDateTime.class ) ;\r\n\r\n… or:\r\n\r\n    LocalDateTime ldt = myResultSet.getObject( … , LocalDateTime.class ) ;\r\n\r\n\r\n# *java.time*\r\n\r\nNever use the legacy class `Timestamp`. It was years ago supplanted by the modern *java.time* classes. Specifically, replaced by `Instant` and `OffsetDateTime`. \r\n\r\nJDBC 4.2 and later requires that a JDBC driver support the *java.time* classes.\r\n\r\n# `OffsetDateTime`\r\n\r\nAssuming you are accessing a column of a data type akin to the SQL standard type `TIMESTAMP WITH TIME ZONE`, retrieve a `OffsetDateTime`.\r\n\r\n    OffsetDateTime odt = myResultSet.getObject( … , OffsetDateTime.class ) ;\r\n\r\nWriting to the database.\r\n\r\n    myPreparedStatement.setObject( … , odt ) ;\r\n\r\n# `LocalDateTime`\r\n\r\nIf you are accessing a database column of a type akin to the SQL standard type `TIMESTAMP WITHOUT TIME ZONE`, use `LocalDateTime` class.\r\n\r\n\r\n# Formats\r\n\r\nYou said: \r\n\r\n&gt; mysql value has the following format: &quot;2022-06-29 10:08:22&quot;\r\n\r\nNo, not accurate. A database column of a date-time type is not text so it has no format. \r\n\r\nWhat you are seeing is text generated to value represented in that column. \r\n\r\nIf you retrieve a `OffsetDateTime` as directed above, no text is involved.\r\n\r\nYou can generate text from your `OffsetDateTime` object. \r\n\r\n - For standard ISO 8601 format, call `toString`. \r\n - For a localized format, use `DateTimeFormatter.ofLocalizedDateTime`.\r\n - For a custom format, use `DateTimeFormatter.ofPattern`.\r\n\r\nAll of these text generation approaches have been covered many many times on Stack Overflow. Search to learn more.\r\n\r\nYou said:\r\n\r\n&gt; Here, we note that the output includes a &quot;T&quot; character.\r\n\r\nThat format with the `T` is defined by the ISO 8601 standard. \r\n\r\n","title":"Error convert in Java Timestamp, not proper transform from Mysql 8.26","body":"<h1>tl;dr</h1>\n<p>You neglected to mention the data type of your column. So I cannot tell you which of these to use.</p>\n<p>Either:</p>\n<pre><code>OffsetDateTime odt = myResultSet.getObject( … , OffsetDateTime.class ) ;\n</code></pre>\n<p>… or:</p>\n<pre><code>LocalDateTime ldt = myResultSet.getObject( … , LocalDateTime.class ) ;\n</code></pre>\n<h1><em>java.time</em></h1>\n<p>Never use the legacy class <code>Timestamp</code>. It was years ago supplanted by the modern <em>java.time</em> classes. Specifically, replaced by <code>Instant</code> and <code>OffsetDateTime</code>.</p>\n<p>JDBC 4.2 and later requires that a JDBC driver support the <em>java.time</em> classes.</p>\n<h1><code>OffsetDateTime</code></h1>\n<p>Assuming you are accessing a column of a data type akin to the SQL standard type <code>TIMESTAMP WITH TIME ZONE</code>, retrieve a <code>OffsetDateTime</code>.</p>\n<pre><code>OffsetDateTime odt = myResultSet.getObject( … , OffsetDateTime.class ) ;\n</code></pre>\n<p>Writing to the database.</p>\n<pre><code>myPreparedStatement.setObject( … , odt ) ;\n</code></pre>\n<h1><code>LocalDateTime</code></h1>\n<p>If you are accessing a database column of a type akin to the SQL standard type <code>TIMESTAMP WITHOUT TIME ZONE</code>, use <code>LocalDateTime</code> class.</p>\n<h1>Formats</h1>\n<p>You said:</p>\n<blockquote>\n<p>mysql value has the following format: &quot;2022-06-29 10:08:22&quot;</p>\n</blockquote>\n<p>No, not accurate. A database column of a date-time type is not text so it has no format.</p>\n<p>What you are seeing is text generated to value represented in that column.</p>\n<p>If you retrieve a <code>OffsetDateTime</code> as directed above, no text is involved.</p>\n<p>You can generate text from your <code>OffsetDateTime</code> object.</p>\n<ul>\n<li>For standard ISO 8601 format, call <code>toString</code>.</li>\n<li>For a localized format, use <code>DateTimeFormatter.ofLocalizedDateTime</code>.</li>\n<li>For a custom format, use <code>DateTimeFormatter.ofPattern</code>.</li>\n</ul>\n<p>All of these text generation approaches have been covered many many times on Stack Overflow. Search to learn more.</p>\n<p>You said:</p>\n<blockquote>\n<p>Here, we note that the output includes a &quot;T&quot; character.</p>\n</blockquote>\n<p>That format with the <code>T</code> is defined by the ISO 8601 standard.</p>\n"}],"owner":{"account_id":22155260,"reputation":3,"user_id":16403109,"display_name":"Javier P&#233;rez Escamilla"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":178,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72804199,"answer_count":1,"score":0,"last_activity_date":1656521335,"creation_date":1656516792,"question_id":72804143,"body_markdown":"I&#39;m trying to extract a vector of object form general case using a string to timestamp conversion.\r\nIn this case, the mysql value has the following format: &quot;2022-06-29 10:08:22&quot;\r\nBut when I printed the String, it has the following format: &quot;2022-06-29T10:08:22&quot;. Here, we note that the output includes a &quot;T&quot; character. When I try to convert using the timestamp I get an error.\r\n\r\n Code:   \r\n\r\n    data = new Object[0][0];   \r\n    data[0][0]=rs.getObject(0);    TimeStamp\r\n    createTimestampt= Timestamp.valueOf((String)data[0][0]));\r\n\r\n  \r\n\r\n\r\n\r\n\r\nIn this case, is a outdate of class java.sql.Timestamp?. or Where i missted?\r\n\r\n\r\n\r\n\r\nNote: Ojbect rs is an instance of java.sql.ResultSet. For obvious reasons not to include all the code. But the essence of the problem was discussed.\r\n\r\nThank you\r\n\r\nThanks","title":"Error convert in Java Timestamp, not proper transform from Mysql 8.26","body":"<p>I'm trying to extract a vector of object form general case using a string to timestamp conversion.\nIn this case, the mysql value has the following format: &quot;2022-06-29 10:08:22&quot;\nBut when I printed the String, it has the following format: &quot;2022-06-29T10:08:22&quot;. Here, we note that the output includes a &quot;T&quot; character. When I try to convert using the timestamp I get an error.</p>\n<p>Code:</p>\n<pre><code>data = new Object[0][0];   \ndata[0][0]=rs.getObject(0);    TimeStamp\ncreateTimestampt= Timestamp.valueOf((String)data[0][0]));\n</code></pre>\n<p>In this case, is a outdate of class java.sql.Timestamp?. or Where i missted?</p>\n<p>Note: Ojbect rs is an instance of java.sql.ResultSet. For obvious reasons not to include all the code. But the essence of the problem was discussed.</p>\n<p>Thank you</p>\n<p>Thanks</p>\n"},{"tags":["java","generics","enums","compilation","extends"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":2,"creation_date":1656521601,"post_id":72804936,"comment_id":128595505,"body_markdown":"What is the point of `&lt;T extends Enum&lt;T&gt; &amp; Operation&gt;`? If you expect T to represent Enum which will also be Operation then only enum which can fulfill this condition is `Operation` itself. So your method could use `Operation` instead of generic type like `public static void testEnumClass(Class&lt;Operation&gt; opSet)`. OR since inside you just want to iterate over values of `Operation` simply use `for (Operation op : Operation.values()){..}` and your method will not need any argument at all.","body":"What is the point of <code>&lt;T extends Enum&lt;T&gt; &amp; Operation&gt;</code>? If you expect T to represent Enum which will also be Operation then only enum which can fulfill this condition is <code>Operation</code> itself. So your method could use <code>Operation</code> instead of generic type like <code>public static void testEnumClass(Class&lt;Operation&gt; opSet)</code>. OR since inside you just want to iterate over values of <code>Operation</code> simply use <code>for (Operation op : Operation.values()){..}</code> and your method will not need any argument at all."}],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1656520772,"creation_date":1656520772,"answer_id":72805006,"question_id":72804936,"body_markdown":"When using `&amp;` in generic bounds, only the first part may be a class. Everything else must be an interface. `Operation` isn&#39;t an interface, that&#39;s why it fails.\r\n\r\nBut your example makes no sense. There is only one type that matches `T extends Enum&lt;T&gt; &amp; Operation`, and that&#39;s `Operation` itself. Why use a generic type anyway?\r\n\r\nThe following would be possible (yes, `OperationEnum` is a terrible name):\r\n\r\n```\r\ninterface Operation { /* some methods */ }\r\nenum OperationEnum implements Operation { /* constants, methods from Operation */ }\r\n```\r\n\r\nBut unless you define an interface that actually adds methods that aren&#39;t already in enums (like `name()` and `ordinal()`), there&#39;s no need to use a stronger bound than just `T extends Enum&lt;T&gt;`.","title":"Java generic function fail to compile: need interface type","body":"<p>When using <code>&amp;</code> in generic bounds, only the first part may be a class. Everything else must be an interface. <code>Operation</code> isn't an interface, that's why it fails.</p>\n<p>But your example makes no sense. There is only one type that matches <code>T extends Enum&lt;T&gt; &amp; Operation</code>, and that's <code>Operation</code> itself. Why use a generic type anyway?</p>\n<p>The following would be possible (yes, <code>OperationEnum</code> is a terrible name):</p>\n<pre><code>interface Operation { /* some methods */ }\nenum OperationEnum implements Operation { /* constants, methods from Operation */ }\n</code></pre>\n<p>But unless you define an interface that actually adds methods that aren't already in enums (like <code>name()</code> and <code>ordinal()</code>), there's no need to use a stronger bound than just <code>T extends Enum&lt;T&gt;</code>.</p>\n"}],"owner":{"account_id":6298937,"reputation":537,"user_id":4894140,"accept_rate":0,"display_name":"Immanuel Kant"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1656521113,"creation_date":1656520398,"question_id":72804936,"body_markdown":"I&#39;m trying a sample code snippet from &quot;Effective Java, item 34&quot;. I&#39;m using jdk1.8 on win10.\r\n\r\n```\r\npackage mygroup;\r\n\r\nimport java.util.*;\r\npublic class ExtendsEnum {\r\n    private static enum Operation {\r\n        Plus,\r\n        Minus;\r\n    }\r\n    public static &lt;T extends Enum&lt;T&gt; &amp; Operation&gt; // error\r\n    void testEnumClass(Class&lt;T&gt; opSet) {\r\n        for (Operation op : opSet.getEnumConstants()) {\r\n            System.out.println(op);\r\n        }\r\n    }\r\n    public static void main(String[] args) {\r\n        ExtendsEnum.testEnumClass(Operation.class);\r\n    }\r\n}\r\n```\r\n\r\nCompiler says: needs interface type.\r\nI&#39;m not sure if my program on the problem line is still valid in jdk1.8, I just tried to copy from the book&#39;s sample code. \r\nDoes jdk recognize:\r\n```\r\n&lt;T extends Enum&lt;T&gt; &amp; Operation&gt;\r\n```\r\n\r\nIf not, how to fix it?","title":"Java generic function fail to compile: need interface type","body":"<p>I'm trying a sample code snippet from &quot;Effective Java, item 34&quot;. I'm using jdk1.8 on win10.</p>\n<pre><code>package mygroup;\n\nimport java.util.*;\npublic class ExtendsEnum {\n    private static enum Operation {\n        Plus,\n        Minus;\n    }\n    public static &lt;T extends Enum&lt;T&gt; &amp; Operation&gt; // error\n    void testEnumClass(Class&lt;T&gt; opSet) {\n        for (Operation op : opSet.getEnumConstants()) {\n            System.out.println(op);\n        }\n    }\n    public static void main(String[] args) {\n        ExtendsEnum.testEnumClass(Operation.class);\n    }\n}\n</code></pre>\n<p>Compiler says: needs interface type.\nI'm not sure if my program on the problem line is still valid in jdk1.8, I just tried to copy from the book's sample code.\nDoes jdk recognize:</p>\n<pre><code>&lt;T extends Enum&lt;T&gt; &amp; Operation&gt;\n</code></pre>\n<p>If not, how to fix it?</p>\n"},{"tags":["java","lambda","syntax","interface"],"comments":[{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":3,"creation_date":1529738525,"post_id":50998923,"comment_id":88991846,"body_markdown":"A Consumer, by definition, doesn&#39;t return anything. A functional interface that returns a boolean is called a Predicate. https://docs.oracle.com/javase/8/docs/api/java/util/function/Predicate.html","body":"A Consumer, by definition, doesn&#39;t return anything. A functional interface that returns a boolean is called a Predicate. <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/function/Predicate.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/util/function/&hellip;</a>"},{"owner":{"account_id":13243947,"reputation":461,"user_id":9563640,"display_name":"kay"},"score":0,"creation_date":1529738670,"post_id":50998923,"comment_id":88991887,"body_markdown":"Did not know that, thanks.","body":"Did not know that, thanks."}],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1529739247,"creation_date":1529738575,"answer_id":50998941,"question_id":50998923,"body_markdown":"A consumer that returns something is not a consumer anymore. It becomes a [`Predicate&lt;String&gt;`][1]:\r\n\r\n    Predicate&lt;String&gt; consumer = (str) -&gt; {\r\n        return str.equals(&quot;yes&quot;); \r\n    };\r\n\r\nYou also mentioned in the title that you want the functional interface to return a `String`. In that case, use [`Function&lt;String, String&gt;`][2].\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/function/Predicate.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/function/Function.html","title":"Java consumers ability to accept and return boolean or string","body":"<p>A consumer that returns something is not a consumer anymore. It becomes a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/function/Predicate.html\" rel=\"noreferrer\"><code>Predicate&lt;String&gt;</code></a>:</p>\n\n<pre><code>Predicate&lt;String&gt; consumer = (str) -&gt; {\n    return str.equals(\"yes\"); \n};\n</code></pre>\n\n<p>You also mentioned in the title that you want the functional interface to return a <code>String</code>. In that case, use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/function/Function.html\" rel=\"noreferrer\"><code>Function&lt;String, String&gt;</code></a>.</p>\n"},{"tags":[],"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1656521029,"creation_date":1529738830,"answer_id":50998974,"question_id":50998923,"body_markdown":"For the case in which one wants to pass a `String` and get a `boolean`, one can use [`Predicate&lt;String&gt;`][pred]. There are similiar functions if one wants to return one of the following primitives:\r\n\r\n* for `int`: [`ToIntFunction&lt;String&gt;`][toInt],\r\n* for `long`: [`ToLongFunction&lt;String&gt;`][toLong], and\r\n* for `double`: [`ToDoubleFunction&lt;String&gt;`][toDouble].\r\n\r\nIn line with the [rest of the `java.util.function`-][funcPackage] and the [`java.util.stream` package][streamPackage], there are no further `To&lt;Primitive&gt;Function` interfaces for the primitives `byte`, `short`, `char` and `float`.\r\n\r\nFor the case in which one wants to pass a `String` and get a `String`, one can use [`UnaryOperator&lt;String&gt;`][unary].\r\n\r\nFor the general case in which one wants to pass some `T` and get some `R`, one can use [`Function&lt;T, R&gt;`][func].\r\n\r\nWhether this, however, improves the readability of the code is another question...\r\n\r\n[pred]: https://docs.oracle.com/javase/10/docs/api/java/util/function/Predicate.html\r\n[toInt]: https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/util/function/ToIntFunction.html\r\n[toLong]: https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/util/function/ToLongFunction.html\r\n[toDouble]: https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/util/function/ToDoubleFunction.html\r\n[funcPackage]: https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/util/function/package-summary.html\r\n[streamPackage]: https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/util/stream/package-summary.html\r\n[unary]: https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/util/function/UnaryOperator.html\r\n[func]: https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/util/function/Function.html","title":"Java consumers ability to accept and return boolean or string","body":"<p>For the case in which one wants to pass a <code>String</code> and get a <code>boolean</code>, one can use <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/function/Predicate.html\" rel=\"nofollow noreferrer\"><code>Predicate&lt;String&gt;</code></a>. There are similiar functions if one wants to return one of the following primitives:</p>\n<ul>\n<li>for <code>int</code>: <a href=\"https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/util/function/ToIntFunction.html\" rel=\"nofollow noreferrer\"><code>ToIntFunction&lt;String&gt;</code></a>,</li>\n<li>for <code>long</code>: <a href=\"https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/util/function/ToLongFunction.html\" rel=\"nofollow noreferrer\"><code>ToLongFunction&lt;String&gt;</code></a>, and</li>\n<li>for <code>double</code>: <a href=\"https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/util/function/ToDoubleFunction.html\" rel=\"nofollow noreferrer\"><code>ToDoubleFunction&lt;String&gt;</code></a>.</li>\n</ul>\n<p>In line with the <a href=\"https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/util/function/package-summary.html\" rel=\"nofollow noreferrer\">rest of the <code>java.util.function</code>-</a> and the <a href=\"https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/util/stream/package-summary.html\" rel=\"nofollow noreferrer\"><code>java.util.stream</code> package</a>, there are no further <code>To&lt;Primitive&gt;Function</code> interfaces for the primitives <code>byte</code>, <code>short</code>, <code>char</code> and <code>float</code>.</p>\n<p>For the case in which one wants to pass a <code>String</code> and get a <code>String</code>, one can use <a href=\"https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/util/function/UnaryOperator.html\" rel=\"nofollow noreferrer\"><code>UnaryOperator&lt;String&gt;</code></a>.</p>\n<p>For the general case in which one wants to pass some <code>T</code> and get some <code>R</code>, one can use <a href=\"https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/util/function/Function.html\" rel=\"nofollow noreferrer\"><code>Function&lt;T, R&gt;</code></a>.</p>\n<p>Whether this, however, improves the readability of the code is another question...</p>\n"}],"owner":{"account_id":13243947,"reputation":461,"user_id":9563640,"display_name":"kay"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16316,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":2,"score":6,"last_activity_date":1656521029,"creation_date":1529738396,"question_id":50998923,"body_markdown":"This is a regular Consumer with usage:\r\n\r\n\r\n    public static void main(String[] args){\r\n\t\tConsumer&lt;String&gt; consumer = (str) -&gt; {\r\n\t\t\t//stuff\r\n\t\t};\r\n\t\t\r\n\t\tconsumer.accept(args[0]);\r\n\t}\r\n\r\n\r\nHere is what I am attempting to do (make it so consumer returns as boolean)\r\n\r\n    public static void main(String[] args){\r\n\t\tConsumer&lt;String&gt; consumer = (str) -&gt; {\r\n\t\t\treturn str.equals(&quot;yes&quot;); //type mis-match error because consumer is void not boolean\r\n\t\t};\r\n\t\t\r\n\t\tboolean a = consumer.accept(args[0]); //type mis-match error because consumer is void not boolean\r\n\t}\r\n\r\nHow can I manipulate consumer to return as a boolean?\r\n\r\nWithout obviously creating a whole new interface.... (below)\r\n\r\n    public interface ConsumerB {\r\n        boolean accept(String s);\r\n    }","title":"Java consumers ability to accept and return boolean or string","body":"<p>This is a regular Consumer with usage:</p>\n\n<pre><code>public static void main(String[] args){\n    Consumer&lt;String&gt; consumer = (str) -&gt; {\n        //stuff\n    };\n\n    consumer.accept(args[0]);\n}\n</code></pre>\n\n<p>Here is what I am attempting to do (make it so consumer returns as boolean)</p>\n\n<pre><code>public static void main(String[] args){\n    Consumer&lt;String&gt; consumer = (str) -&gt; {\n        return str.equals(\"yes\"); //type mis-match error because consumer is void not boolean\n    };\n\n    boolean a = consumer.accept(args[0]); //type mis-match error because consumer is void not boolean\n}\n</code></pre>\n\n<p>How can I manipulate consumer to return as a boolean?</p>\n\n<p>Without obviously creating a whole new interface.... (below)</p>\n\n<pre><code>public interface ConsumerB {\n    boolean accept(String s);\n}\n</code></pre>\n"},{"tags":["java","generics","methods","overriding"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1655032566,"post_id":72591617,"comment_id":128229502,"body_markdown":"Please don&#39;t post images of text.","body":"Please don&#39;t post images of text."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1655032831,"post_id":72591617,"comment_id":128229556,"body_markdown":"`T` can be any type. Not every type has addition defined on it.","body":"<code>T</code> can be any type. Not every type has addition defined on it."},{"owner":{"account_id":379763,"reputation":29886,"user_id":733345,"display_name":"Joe"},"score":1,"creation_date":1655033179,"post_id":72591617,"comment_id":128229644,"body_markdown":"Does this answer your question? [Can I do arithmetic operations on the Number baseclass?](https://stackoverflow.com/questions/3873215/can-i-do-arithmetic-operations-on-the-number-baseclass)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/3873215/can-i-do-arithmetic-operations-on-the-number-baseclass\">Can I do arithmetic operations on the Number baseclass?</a>"}],"answers":[{"tags":[],"owner":{"account_id":23837295,"reputation":308,"user_id":17842877,"display_name":"xthe_white_lionx"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656521017,"creation_date":1656521017,"answer_id":72805042,"question_id":72591617,"body_markdown":"    static class ComplexNum&lt;T extends Number&gt; {\r\n\r\n        T i;\r\n        T r;\r\n\r\n        public ComplexNum(T r, T i) {\r\n\r\n            this.r = r;\r\n            this.i = i;\r\n        }\r\n\r\n        public ComplexNum&lt;Double&gt; add(ComplexNum c2) {\r\n            Double newr = r.doubleValue() + c2.r.doubleValue();\r\n            Double newi = i.doubleValue() + c2.i.doubleValue();\r\n\r\n            return new ComplexNum&lt;&gt;(newr, newi);\r\n\r\n        }\r\n\r\n\r\n        @Override\r\n        public String toString() {\r\n            return this.r + &quot; + &quot; + this.i + &quot;i&quot;;\r\n        }\r\n\r\n    }\r\n\r\n\r\n    class Main {\r\n        public static void main(String[] args) {\r\n            int n1 = 1;\r\n            int n2 = 3;\r\n            double d1 = 4.4;\r\n            double d2 = 5.4;\r\n\r\n            ComplexNum&lt;Integer&gt; c1 = new ComplexNum&lt;&gt;(n1, n2);\r\n            ComplexNum&lt;Double&gt; c2 = new ComplexNum&lt;&gt;(d1, d2);\r\n            ComplexNum&lt;Double&gt; c3 = c1.add(c2);\r\n            System.out.println(c1 + &quot; + &quot; + c2 + &quot; = &quot; + c3);\r\n\r\n\r\n        }\r\n    }","title":"Java : Add method Generic Class","body":"<pre><code>static class ComplexNum&lt;T extends Number&gt; {\n\n    T i;\n    T r;\n\n    public ComplexNum(T r, T i) {\n\n        this.r = r;\n        this.i = i;\n    }\n\n    public ComplexNum&lt;Double&gt; add(ComplexNum c2) {\n        Double newr = r.doubleValue() + c2.r.doubleValue();\n        Double newi = i.doubleValue() + c2.i.doubleValue();\n\n        return new ComplexNum&lt;&gt;(newr, newi);\n\n    }\n\n\n    @Override\n    public String toString() {\n        return this.r + &quot; + &quot; + this.i + &quot;i&quot;;\n    }\n\n}\n\n\nclass Main {\n    public static void main(String[] args) {\n        int n1 = 1;\n        int n2 = 3;\n        double d1 = 4.4;\n        double d2 = 5.4;\n\n        ComplexNum&lt;Integer&gt; c1 = new ComplexNum&lt;&gt;(n1, n2);\n        ComplexNum&lt;Double&gt; c2 = new ComplexNum&lt;&gt;(d1, d2);\n        ComplexNum&lt;Double&gt; c3 = c1.add(c2);\n        System.out.println(c1 + &quot; + &quot; + c2 + &quot; = &quot; + c3);\n\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":13308601,"reputation":1,"user_id":9607628,"display_name":"Jyothish Vijay"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656521017,"creation_date":1655031950,"question_id":72591617,"body_markdown":"I&#39;m new to Java. The Following Code is to create a generic class to generate complex numbers from real and Imaginary Parts. The add() method in the class is throwing the following Error.\r\nNot sure how to proceed further. I have been at this for a day. [Error Prompt][1]\r\n\r\n    import java.util.*;\r\n    \r\n    \r\n      class ComplexNum&lt;T&gt;{\r\n        \r\n        T i;\r\n        T r;\r\n        \r\n        public ComplexNum (T r , T i){\r\n            \r\n            this.r = r;\r\n            this.i = i;\r\n        }\r\n        \r\n        public ComplexNum add(ComplexNum c2)\r\n        {\r\n           \r\n            \r\n            return new ComplexNum (r + c2.r, i +c2.i);\r\n    \r\n        }\r\n        \r\n        \r\n        @Override\r\n        public String toString() {\r\n            return this.r + &quot; + &quot; + this.i + &quot;i&quot;;\r\n        }\r\n        \r\n    }\r\n    \r\n    \r\n    \r\n    class Main{\r\n    public static void main(String[] args) {\r\n            int n1 = 1;\r\n            int n2 = 3;\r\n            double d1 =4.4;\r\n            double d2 = 5.4;\r\n           \r\n            ComplexNum&lt;Integer&gt; c1 = new ComplexNum&lt;Integer&gt;(n1, n2);\r\n            ComplexNum&lt;Double&gt; c2 = new ComplexNum&lt;Double&gt;(d1, d2);\r\n           ComplexNum&lt;Double&gt; c3 = c1.add(c2);\r\n           System.out.println(c1 + &quot; + &quot; + c2 + &quot; = &quot;+ c3) ;\r\n           \r\n           \r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/SD44u.png","title":"Java : Add method Generic Class","body":"<p>I'm new to Java. The Following Code is to create a generic class to generate complex numbers from real and Imaginary Parts. The add() method in the class is throwing the following Error.\nNot sure how to proceed further. I have been at this for a day. <a href=\"https://i.stack.imgur.com/SD44u.png\" rel=\"nofollow noreferrer\">Error Prompt</a></p>\n<pre><code>import java.util.*;\n\n\n  class ComplexNum&lt;T&gt;{\n    \n    T i;\n    T r;\n    \n    public ComplexNum (T r , T i){\n        \n        this.r = r;\n        this.i = i;\n    }\n    \n    public ComplexNum add(ComplexNum c2)\n    {\n       \n        \n        return new ComplexNum (r + c2.r, i +c2.i);\n\n    }\n    \n    \n    @Override\n    public String toString() {\n        return this.r + &quot; + &quot; + this.i + &quot;i&quot;;\n    }\n    \n}\n\n\n\nclass Main{\npublic static void main(String[] args) {\n        int n1 = 1;\n        int n2 = 3;\n        double d1 =4.4;\n        double d2 = 5.4;\n       \n        ComplexNum&lt;Integer&gt; c1 = new ComplexNum&lt;Integer&gt;(n1, n2);\n        ComplexNum&lt;Double&gt; c2 = new ComplexNum&lt;Double&gt;(d1, d2);\n       ComplexNum&lt;Double&gt; c3 = c1.add(c2);\n       System.out.println(c1 + &quot; + &quot; + c2 + &quot; = &quot;+ c3) ;\n       \n       \n    }\n}\n</code></pre>\n"},{"tags":["java","dictionary","oop","hashmap"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":1,"creation_date":1654694895,"post_id":72546479,"comment_id":128152210,"body_markdown":"This sounds like a misunderstanding of how `Map` works. Firstly, `Map` stores references to objects, it doesn&#39;t control creation (outside of semantics like `#compute`). Secondly, a `Map` stores a single value _per key_, which can be referenced by the key you store it with (primarily through `#get(Key)` and `#put(Key, Value)`). Consider if you truly want a map in this case (you typically wouldn&#39;t keep multiple keys for one value, but it&#39;s not _always_ bad). Lastly, what are you truly attempting to achieve by using this `Map`?","body":"This sounds like a misunderstanding of how <code>Map</code> works. Firstly, <code>Map</code> stores references to objects, it doesn&#39;t control creation (outside of semantics like <code>#compute</code>). Secondly, a <code>Map</code> stores a single value <i>per key</i>, which can be referenced by the key you store it with (primarily through <code>#get(Key)</code> and <code>#put(Key, Value)</code>). Consider if you truly want a map in this case (you typically wouldn&#39;t keep multiple keys for one value, but it&#39;s not <i>always</i> bad). Lastly, what are you truly attempting to achieve by using this <code>Map</code>?"},{"owner":{"account_id":22676831,"reputation":1,"user_id":16847687,"display_name":"bogan"},"score":0,"creation_date":1654695180,"post_id":72546479,"comment_id":128152318,"body_markdown":"@Rogue i want to set individual keywords for articles","body":"@Rogue i want to set individual keywords for articles"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1654696368,"post_id":72546479,"comment_id":128152862,"body_markdown":"What if a keyword applies to more than one article? It may be better to have `Artigo` (what I assume is `Article`) store a `Set&lt;String&gt;` of the keywords that are relevant to it.","body":"What if a keyword applies to more than one article? It may be better to have <code>Artigo</code> (what I assume is <code>Article</code>) store a <code>Set&lt;String&gt;</code> of the keywords that are relevant to it."},{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":1,"creation_date":1654697936,"post_id":72546479,"comment_id":128153633,"body_markdown":"You should make a data structure using classes instead. Some of these classes could contain maps. Let your data structure have specific methods for your different use cases.","body":"You should make a data structure using classes instead. Some of these classes could contain maps. Let your data structure have specific methods for your different use cases."}],"answers":[{"tags":[],"owner":{"account_id":23837295,"reputation":308,"user_id":17842877,"display_name":"xthe_white_lionx"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656520340,"creation_date":1656520340,"answer_id":72804925,"question_id":72546479,"body_markdown":"    private Map&lt;String, Artigo&gt; listaArtigos = new HashMap&lt;String, Artigo&gt;();\r\n    \r\n    //for your example from above\r\n    listaArtigos.remove(&quot;nasa&quot;, a1);","title":"How to remove an element from a HashMap with multiple keys in JAVA","body":"<pre><code>private Map&lt;String, Artigo&gt; listaArtigos = new HashMap&lt;String, Artigo&gt;();\n\n//for your example from above\nlistaArtigos.remove(&quot;nasa&quot;, a1);\n</code></pre>\n"}],"owner":{"account_id":22676831,"reputation":1,"user_id":16847687,"display_name":"bogan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656520340,"creation_date":1654694683,"question_id":72546479,"body_markdown":"In my system an element from a HashMap have multiple keys, like an element &quot;chess&quot; have the keys &quot;board&quot;, &quot;game&quot;, &quot;strategy&quot;. I want to remove the element chess and every key pointing to him.\r\n\r\nFor example, thats the map: `private Map&lt;String, Artigo&gt; listaArtigos = new HashMap&lt;String, Artigo&gt;();`\r\n\r\nThe Artigo a1 have the keys &quot;nasa&quot;, &quot;space&quot;, &quot;mars&quot;. I need to delete a1 and all his keys, cuz i think that every time i set an new map (&quot;nasa&quot;, a1), it creates a new a1 with a new key, right? Like in this case i have 3 a1&#39;s in my map?","title":"How to remove an element from a HashMap with multiple keys in JAVA","body":"<p>In my system an element from a HashMap have multiple keys, like an element &quot;chess&quot; have the keys &quot;board&quot;, &quot;game&quot;, &quot;strategy&quot;. I want to remove the element chess and every key pointing to him.</p>\n<p>For example, thats the map: <code>private Map&lt;String, Artigo&gt; listaArtigos = new HashMap&lt;String, Artigo&gt;();</code></p>\n<p>The Artigo a1 have the keys &quot;nasa&quot;, &quot;space&quot;, &quot;mars&quot;. I need to delete a1 and all his keys, cuz i think that every time i set an new map (&quot;nasa&quot;, a1), it creates a new a1 with a new key, right? Like in this case i have 3 a1's in my map?</p>\n"},{"tags":["java","json","spring","spring-boot","yaml"],"comments":[{"owner":{"account_id":4475914,"reputation":14400,"user_id":3641067,"accept_rate":73,"display_name":"bur&#230;quete"},"score":0,"creation_date":1492061804,"post_id":43384202,"comment_id":73830160,"body_markdown":"http://stackoverflow.com/questions/9532840/embedding-json-data-into-yaml-file/9532944#9532944","body":"<a href=\"http://stackoverflow.com/questions/9532840/embedding-json-data-into-yaml-file/9532944#9532944\" title=\"embedding json data into yaml file\">stackoverflow.com/questions/9532840/&hellip;</a>"},{"owner":{"account_id":6396663,"reputation":3288,"user_id":4960784,"accept_rate":42,"display_name":"Arjun"},"score":0,"creation_date":1492061849,"post_id":43384202,"comment_id":73830176,"body_markdown":"you haven&#39;t posted your problem/error! Kindly post the `stack trace` or `error log`","body":"you haven&#39;t posted your problem/error! Kindly post the <code>stack trace</code> or <code>error log</code>"},{"owner":{"account_id":4475914,"reputation":14400,"user_id":3641067,"accept_rate":73,"display_name":"bur&#230;quete"},"score":1,"creation_date":1492061917,"post_id":43384202,"comment_id":73830199,"body_markdown":"Possible duplicate of [Embedding JSON Data into YAML file](http://stackoverflow.com/questions/9532840/embedding-json-data-into-yaml-file)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/9532840/embedding-json-data-into-yaml-file\">Embedding JSON Data into YAML file</a>"}],"answers":[{"tags":[],"owner":{"account_id":6872115,"reputation":31,"user_id":5282046,"display_name":"Đỗ Đăng Qu&#226;n"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1492062627,"creation_date":1492062627,"answer_id":43384460,"question_id":43384202,"body_markdown":"Try modifying your yml file as below:\r\n&lt;pre&gt;\r\nShirt.rest.booking:\r\n   invoiceAddress: &quot;\\&quot;name\\&quot;:\\&quot;VIA Pics AB\\&quot;,\\&quot;address1\\&quot;:\\&quot;VIA Pics AB\\&quot;,\\&quot;address2\\&quot;:\\&quot;Mejeriv&#228;gen 3\\&quot;,\\&quot;zipCode\\&quot;:\\&quot;11743\\&quot;,\\&quot;city\\&quot;:\\&quot;STOCKHOLM\\&quot;,\\&quot;countryCode\\&quot;:\\&quot;SE\\&quot;,\\&quot;email\\&quot;:\\&quot;w.ho@Pics.fr\\&quot;&quot;&lt;/pre&gt;","title":"Autowire json value in springboot from yaml","body":"<p>Try modifying your yml file as below:</p>\n\n<pre>\nShirt.rest.booking:\n   invoiceAddress: \"\\\"name\\\":\\\"VIA Pics AB\\\",\\\"address1\\\":\\\"VIA Pics AB\\\",\\\"address2\\\":\\\"Mejerivägen 3\\\",\\\"zipCode\\\":\\\"11743\\\",\\\"city\\\":\\\"STOCKHOLM\\\",\\\"countryCode\\\":\\\"SE\\\",\\\"email\\\":\\\"w.ho@Pics.fr\\\"\"</pre>\n"},{"tags":[],"owner":{"account_id":6284572,"reputation":5615,"user_id":4884334,"accept_rate":77,"display_name":"Bhushan Uniyal"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1492063406,"creation_date":1492063406,"answer_id":43384625,"question_id":43384202,"body_markdown":"If you want as a plan string you should add this value between single quote &#39;your value.&#39; in your yml file\r\n\r\n    Shirt:\r\n     rest:\r\n      booking:\r\n       invoiceAddress: &#39;{&quot;name&quot;:&quot;VIA Pics AB&quot;,&quot;address1&quot;:&quot;VIA Pics AB&quot;,&quot;address2&quot;:&quot;Mejeriv&#228;gen 3&quot;,&quot;zipCode&quot;:&quot;11743&quot;,&quot;city&quot;:&quot;STOCKHOLM&quot;,&quot;countryCode&quot;:&quot;SE&quot;,&quot;email&quot;:&quot;w.ho@Pics.fr&quot;}&#39;","title":"Autowire json value in springboot from yaml","body":"<p>If you want as a plan string you should add this value between single quote 'your value.' in your yml file</p>\n\n<pre><code>Shirt:\n rest:\n  booking:\n   invoiceAddress: '{\"name\":\"VIA Pics AB\",\"address1\":\"VIA Pics AB\",\"address2\":\"Mejerivägen 3\",\"zipCode\":\"11743\",\"city\":\"STOCKHOLM\",\"countryCode\":\"SE\",\"email\":\"w.ho@Pics.fr\"}'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4139586,"reputation":129,"user_id":3395310,"display_name":"Nilesh Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1525335755,"creation_date":1525335721,"answer_id":50150263,"question_id":43384202,"body_markdown":"Single quotes escapes all the special characters in the values of YAML properties.\r\nJust try adding to the string into single quotes &#39;PropertiesValue&#39;.\r\n\r\nE.g : \r\n\r\n    invoiceAddress: &#39;{&quot;name&quot;:&quot;VIA Pics AB&quot;,&quot;address1&quot;:&quot;VIA Pics AB&quot;,&quot;address2&quot;:&quot;Mejeriv&#228;gen 3&quot;,&quot;zipCode&quot;:&quot;11743&quot;,&quot;city&quot;:&quot;STOCKHOLM&quot;,&quot;countryCode&quot;:&quot;SE&quot;,&quot;email&quot;:&quot;w.ho@Pics.fr&quot;}&#39;\r\n\r\n","title":"Autowire json value in springboot from yaml","body":"<p>Single quotes escapes all the special characters in the values of YAML properties.\nJust try adding to the string into single quotes 'PropertiesValue'.</p>\n\n<p>E.g : </p>\n\n<pre><code>invoiceAddress: '{\"name\":\"VIA Pics AB\",\"address1\":\"VIA Pics AB\",\"address2\":\"Mejerivägen 3\",\"zipCode\":\"11743\",\"city\":\"STOCKHOLM\",\"countryCode\":\"SE\",\"email\":\"w.ho@Pics.fr\"}'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3503118,"reputation":504,"user_id":2929352,"display_name":"David KELLER"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656520304,"creation_date":1656520304,"answer_id":72804919,"question_id":43384202,"body_markdown":"&lt;pre&gt;\r\nShirt:\r\n rest:\r\n  booking:\r\n   invoiceAddress: &gt;\r\n    {&quot;name&quot;:&quot;VIA Pics AB&quot;,&quot;address1&quot;:&quot;VIA Pics AB&quot;,&quot;address2&quot;:&quot;Mejeriv&#228;gen 3&quot;,&quot;zipCode&quot;:&quot;11743&quot;,&quot;city&quot;:&quot;STOCKHOLM&quot;,&quot;countryCode&quot;:&quot;SE&quot;,&quot;email&quot;:&quot;w.ho@Pics.fr&quot;}\r\n&lt;/pre&gt;\r\n\r\n@see https://stackoverflow.com/a/17093553/2929352","title":"Autowire json value in springboot from yaml","body":"<pre>\nShirt:\n rest:\n  booking:\n   invoiceAddress: >\n    {\"name\":\"VIA Pics AB\",\"address1\":\"VIA Pics AB\",\"address2\":\"Mejerivägen 3\",\"zipCode\":\"11743\",\"city\":\"STOCKHOLM\",\"countryCode\":\"SE\",\"email\":\"w.ho@Pics.fr\"}\n</pre>\n<p>@see <a href=\"https://stackoverflow.com/a/17093553/2929352\">https://stackoverflow.com/a/17093553/2929352</a></p>\n"}],"owner":{"account_id":2386002,"reputation":5151,"user_id":2086966,"accept_rate":73,"display_name":"smilyface"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8482,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"accepted_answer_id":43384625,"answer_count":4,"score":4,"last_activity_date":1656520304,"creation_date":1492061364,"question_id":43384202,"body_markdown":"How to read json as a string from a yaml file in spring boot application ?\r\n\r\n&gt; *I need to get the json as a string / json object.*\r\n\r\n**Application.yml**\r\n\r\n    Shirt:\r\n     rest:\r\n      booking:\r\n       invoiceAddress: {&quot;name&quot;:&quot;VIA Pics AB&quot;,&quot;address1&quot;:&quot;VIA Pics AB&quot;,&quot;address2&quot;:&quot;Mejeriv&#228;gen 3&quot;,&quot;zipCode&quot;:&quot;11743&quot;,&quot;city&quot;:&quot;STOCKHOLM&quot;,&quot;countryCode&quot;:&quot;SE&quot;,&quot;email&quot;:&quot;w.ho@Pics.fr&quot;}\r\n\r\n**Configuration class** \r\n   \r\n\r\n    @Configuration\r\n    public class ConfigurationServiceClientConfiguration {\r\n    \r\n        @Value(&quot;${Shirt.rest.booking.invoiceAddress}&quot;)\r\n        private String invoiceAddress;\r\n    \r\n        @Bean\r\n        public String getInvoiceAddress(){\r\n            System.out.println(invoiceAddress);\r\n            return this.invoiceAddress;\r\n        }\r\n    }\r\n\r\nAlso tried @JsonProperty but no idea whether my usage was wrong or not !\r\n\r\n**Note:**\r\nI am not ready to change the json as a list because more jsons (of invoiceAddress) to come and I will have to make list for each. So it&#39;s easy for me if the json can be copied as it is to the yaml file.","title":"Autowire json value in springboot from yaml","body":"<p>How to read json as a string from a yaml file in spring boot application ?</p>\n\n<blockquote>\n  <p><em>I need to get the json as a string / json object.</em></p>\n</blockquote>\n\n<p><strong>Application.yml</strong></p>\n\n<pre><code>Shirt:\n rest:\n  booking:\n   invoiceAddress: {\"name\":\"VIA Pics AB\",\"address1\":\"VIA Pics AB\",\"address2\":\"Mejerivägen 3\",\"zipCode\":\"11743\",\"city\":\"STOCKHOLM\",\"countryCode\":\"SE\",\"email\":\"w.ho@Pics.fr\"}\n</code></pre>\n\n<p><strong>Configuration class</strong> </p>\n\n<pre><code>@Configuration\npublic class ConfigurationServiceClientConfiguration {\n\n    @Value(\"${Shirt.rest.booking.invoiceAddress}\")\n    private String invoiceAddress;\n\n    @Bean\n    public String getInvoiceAddress(){\n        System.out.println(invoiceAddress);\n        return this.invoiceAddress;\n    }\n}\n</code></pre>\n\n<p>Also tried @JsonProperty but no idea whether my usage was wrong or not !</p>\n\n<p><strong>Note:</strong>\nI am not ready to change the json as a list because more jsons (of invoiceAddress) to come and I will have to make list for each. So it's easy for me if the json can be copied as it is to the yaml file.</p>\n"},{"tags":["java","authentication","oauth-2.0","oauth","google-oauth"],"comments":[{"owner":{"account_id":2066403,"reputation":109410,"user_id":1841839,"accept_rate":71,"display_name":"Linda Lawton - DaImTo"},"score":0,"creation_date":1656504653,"post_id":72801091,"comment_id":128588257,"body_markdown":"Which api exactly are you trying to connect to?","body":"Which api exactly are you trying to connect to?"},{"owner":{"account_id":23998843,"reputation":11,"user_id":17984031,"display_name":"kavinila"},"score":0,"creation_date":1656509709,"post_id":72801091,"comment_id":128590463,"body_markdown":"I want to use google api to get the profile of the user.","body":"I want to use google api to get the profile of the user."},{"owner":{"account_id":2066403,"reputation":109410,"user_id":1841839,"accept_rate":71,"display_name":"Linda Lawton - DaImTo"},"score":0,"creation_date":1656519141,"post_id":72801091,"comment_id":128594610,"body_markdown":"Do you want signin or just oauth?","body":"Do you want signin or just oauth?"},{"owner":{"account_id":23998843,"reputation":11,"user_id":17984031,"display_name":"kavinila"},"score":0,"creation_date":1656519356,"post_id":72801091,"comment_id":128594686,"body_markdown":"No ,I just want oauth","body":"No ,I just want oauth"}],"answers":[{"tags":[],"owner":{"account_id":2066403,"reputation":109410,"user_id":1841839,"accept_rate":71,"display_name":"Linda Lawton - DaImTo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656519666,"creation_date":1656519666,"answer_id":72804774,"question_id":72801091,"body_markdown":"I think you should have a look at the [People api quickstart for java](https://developers.google.com/people/quickstart/java)\r\n\r\nIf you have any issues with it let me know I know a lot of the samples are getting updated due to a deprecation in the library.\r\n\r\nThis sample uses the connections endpoint your probably going to want to change it to the [People get](https://developers.google.com/people/api/rest/v1/people/get) method\r\n\r\n\r\n    import com.google.api.client.auth.oauth2.Credential;\r\n    import com.google.api.client.extensions.java6.auth.oauth2.AuthorizationCodeInstalledApp;\r\n    import com.google.api.client.extensions.jetty.auth.oauth2.LocalServerReceiver;\r\n    import com.google.api.client.googleapis.auth.oauth2.GoogleAuthorizationCodeFlow;\r\n    import com.google.api.client.googleapis.auth.oauth2.GoogleClientSecrets;\r\n    import com.google.api.client.googleapis.javanet.GoogleNetHttpTransport;\r\n    import com.google.api.client.http.javanet.NetHttpTransport;\r\n    import com.google.api.client.json.JsonFactory;\r\n    import com.google.api.client.json.gson.GsonFactory;\r\n    import com.google.api.client.util.store.FileDataStoreFactory;\r\n    import com.google.api.services.people.v1.PeopleService;\r\n    import com.google.api.services.people.v1.PeopleServiceScopes;\r\n    import com.google.api.services.people.v1.model.ListConnectionsResponse;\r\n    import com.google.api.services.people.v1.model.Name;\r\n    import com.google.api.services.people.v1.model.Person;\r\n    \r\n    import java.io.FileNotFoundException;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.io.InputStreamReader;\r\n    import java.security.GeneralSecurityException;\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    \r\n    public class PeopleQuickstart {\r\n        private static final String APPLICATION_NAME = &quot;Google People API Java Quickstart&quot;;\r\n        private static final JsonFactory JSON_FACTORY = GsonFactory.getDefaultInstance();\r\n        private static final String TOKENS_DIRECTORY_PATH = &quot;tokens&quot;;\r\n    \r\n        /**\r\n         * Global instance of the scopes required by this quickstart.\r\n         * If modifying these scopes, delete your previously saved tokens/ folder.\r\n         */\r\n        private static final List&lt;String&gt; SCOPES = Arrays.asList(PeopleServiceScopes.CONTACTS_READONLY);\r\n        private static final String CREDENTIALS_FILE_PATH = &quot;/credentials.json&quot;;\r\n    \r\n        /**\r\n         * Creates an authorized Credential object.\r\n         * @param HTTP_TRANSPORT The network HTTP Transport.\r\n         * @return An authorized Credential object.\r\n         * @throws IOException If the credentials.json file cannot be found.\r\n         */\r\n        private static Credential getCredentials(final NetHttpTransport HTTP_TRANSPORT) throws IOException {\r\n            // Load client secrets.\r\n            InputStream in = PeopleQuickstart.class.getResourceAsStream(CREDENTIALS_FILE_PATH);\r\n            if (in == null) {\r\n                throw new FileNotFoundException(&quot;Resource not found: &quot; + CREDENTIALS_FILE_PATH);\r\n            }\r\n            GoogleClientSecrets clientSecrets = GoogleClientSecrets.load(JSON_FACTORY, new InputStreamReader(in));\r\n    \r\n            // Build flow and trigger user authorization request.\r\n            GoogleAuthorizationCodeFlow flow = new GoogleAuthorizationCodeFlow.Builder(\r\n                    HTTP_TRANSPORT, JSON_FACTORY, clientSecrets, SCOPES)\r\n                    .setDataStoreFactory(new FileDataStoreFactory(new java.io.File(TOKENS_DIRECTORY_PATH)))\r\n                    .setAccessType(&quot;offline&quot;)\r\n                    .build();\r\n            LocalServerReceiver receiver = new LocalServerReceiver.Builder().setPort(8888).build();\r\n            return new AuthorizationCodeInstalledApp(flow, receiver).authorize(&quot;user&quot;);\r\n        }\r\n    \r\n        public static void main(String... args) throws IOException, GeneralSecurityException {\r\n            // Build a new authorized API client service.\r\n            final NetHttpTransport HTTP_TRANSPORT = GoogleNetHttpTransport.newTrustedTransport();\r\n            PeopleService service = new PeopleService.Builder(HTTP_TRANSPORT, JSON_FACTORY, getCredentials(HTTP_TRANSPORT))\r\n                    .setApplicationName(APPLICATION_NAME)\r\n                    .build();\r\n    \r\n            // Request 10 connections.\r\n            ListConnectionsResponse response = service.people().connections()\r\n                    .list(&quot;people/me&quot;)\r\n                    .setPageSize(10)\r\n                    .setPersonFields(&quot;names,emailAddresses&quot;)\r\n                    .execute();\r\n    \r\n            // Print display name of connections if available.\r\n            List&lt;Person&gt; connections = response.getConnections();\r\n            if (connections != null &amp;&amp; connections.size() &gt; 0) {\r\n                for (Person person : connections) {\r\n                    List&lt;Name&gt; names = person.getNames();\r\n                    if (names != null &amp;&amp; names.size() &gt; 0) {\r\n                        System.out.println(&quot;Name: &quot; + person.getNames().get(0)\r\n                                .getDisplayName());\r\n                    } else {\r\n                        System.out.println(&quot;No names available for connection.&quot;);\r\n                    }\r\n                }\r\n            } else {\r\n                System.out.println(&quot;No connections found.&quot;);\r\n            }\r\n        }\r\n    }","title":"How to get access token using credential in java code","body":"<p>I think you should have a look at the <a href=\"https://developers.google.com/people/quickstart/java\" rel=\"nofollow noreferrer\">People api quickstart for java</a></p>\n<p>If you have any issues with it let me know I know a lot of the samples are getting updated due to a deprecation in the library.</p>\n<p>This sample uses the connections endpoint your probably going to want to change it to the <a href=\"https://developers.google.com/people/api/rest/v1/people/get\" rel=\"nofollow noreferrer\">People get</a> method</p>\n<pre><code>import com.google.api.client.auth.oauth2.Credential;\nimport com.google.api.client.extensions.java6.auth.oauth2.AuthorizationCodeInstalledApp;\nimport com.google.api.client.extensions.jetty.auth.oauth2.LocalServerReceiver;\nimport com.google.api.client.googleapis.auth.oauth2.GoogleAuthorizationCodeFlow;\nimport com.google.api.client.googleapis.auth.oauth2.GoogleClientSecrets;\nimport com.google.api.client.googleapis.javanet.GoogleNetHttpTransport;\nimport com.google.api.client.http.javanet.NetHttpTransport;\nimport com.google.api.client.json.JsonFactory;\nimport com.google.api.client.json.gson.GsonFactory;\nimport com.google.api.client.util.store.FileDataStoreFactory;\nimport com.google.api.services.people.v1.PeopleService;\nimport com.google.api.services.people.v1.PeopleServiceScopes;\nimport com.google.api.services.people.v1.model.ListConnectionsResponse;\nimport com.google.api.services.people.v1.model.Name;\nimport com.google.api.services.people.v1.model.Person;\n\nimport java.io.FileNotFoundException;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.security.GeneralSecurityException;\nimport java.util.Arrays;\nimport java.util.List;\n\npublic class PeopleQuickstart {\n    private static final String APPLICATION_NAME = &quot;Google People API Java Quickstart&quot;;\n    private static final JsonFactory JSON_FACTORY = GsonFactory.getDefaultInstance();\n    private static final String TOKENS_DIRECTORY_PATH = &quot;tokens&quot;;\n\n    /**\n     * Global instance of the scopes required by this quickstart.\n     * If modifying these scopes, delete your previously saved tokens/ folder.\n     */\n    private static final List&lt;String&gt; SCOPES = Arrays.asList(PeopleServiceScopes.CONTACTS_READONLY);\n    private static final String CREDENTIALS_FILE_PATH = &quot;/credentials.json&quot;;\n\n    /**\n     * Creates an authorized Credential object.\n     * @param HTTP_TRANSPORT The network HTTP Transport.\n     * @return An authorized Credential object.\n     * @throws IOException If the credentials.json file cannot be found.\n     */\n    private static Credential getCredentials(final NetHttpTransport HTTP_TRANSPORT) throws IOException {\n        // Load client secrets.\n        InputStream in = PeopleQuickstart.class.getResourceAsStream(CREDENTIALS_FILE_PATH);\n        if (in == null) {\n            throw new FileNotFoundException(&quot;Resource not found: &quot; + CREDENTIALS_FILE_PATH);\n        }\n        GoogleClientSecrets clientSecrets = GoogleClientSecrets.load(JSON_FACTORY, new InputStreamReader(in));\n\n        // Build flow and trigger user authorization request.\n        GoogleAuthorizationCodeFlow flow = new GoogleAuthorizationCodeFlow.Builder(\n                HTTP_TRANSPORT, JSON_FACTORY, clientSecrets, SCOPES)\n                .setDataStoreFactory(new FileDataStoreFactory(new java.io.File(TOKENS_DIRECTORY_PATH)))\n                .setAccessType(&quot;offline&quot;)\n                .build();\n        LocalServerReceiver receiver = new LocalServerReceiver.Builder().setPort(8888).build();\n        return new AuthorizationCodeInstalledApp(flow, receiver).authorize(&quot;user&quot;);\n    }\n\n    public static void main(String... args) throws IOException, GeneralSecurityException {\n        // Build a new authorized API client service.\n        final NetHttpTransport HTTP_TRANSPORT = GoogleNetHttpTransport.newTrustedTransport();\n        PeopleService service = new PeopleService.Builder(HTTP_TRANSPORT, JSON_FACTORY, getCredentials(HTTP_TRANSPORT))\n                .setApplicationName(APPLICATION_NAME)\n                .build();\n\n        // Request 10 connections.\n        ListConnectionsResponse response = service.people().connections()\n                .list(&quot;people/me&quot;)\n                .setPageSize(10)\n                .setPersonFields(&quot;names,emailAddresses&quot;)\n                .execute();\n\n        // Print display name of connections if available.\n        List&lt;Person&gt; connections = response.getConnections();\n        if (connections != null &amp;&amp; connections.size() &gt; 0) {\n            for (Person person : connections) {\n                List&lt;Name&gt; names = person.getNames();\n                if (names != null &amp;&amp; names.size() &gt; 0) {\n                    System.out.println(&quot;Name: &quot; + person.getNames().get(0)\n                            .getDisplayName());\n                } else {\n                    System.out.println(&quot;No names available for connection.&quot;);\n                }\n            }\n        } else {\n            System.out.println(&quot;No connections found.&quot;);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23998843,"reputation":11,"user_id":17984031,"display_name":"kavinila"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1693,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1656519666,"creation_date":1656504059,"question_id":72801091,"body_markdown":"I have to get the access token using credential so that I tried following code\r\n\r\n Here is the code: \r\n\r\n``` \r\nOAuthClient client = new OAuthClient(new URLConnectionClient());\r\n         OAuthClientRequest request =\r\n                    OAuthClientRequest.tokenLocation(&quot;https://accounts.google.com/o/oauth2/token&quot;)\r\n                            .setGrantType(GrantType.AUTHORIZATION_CODE)\r\n                            .setClientId(&quot;My client id&quot;)\r\n                            .setClientSecret(&quot;My client secret&quot;)\r\n                            .buildQueryMessage();\r\n          String token = client.accessToken(request, OAuth.HttpMethod.POST, OAuthJSONAccessTokenResponse.class).getAccessToken();\r\n```\r\nBut I got following error:\r\n\r\n```\r\nException in thread &quot;main&quot; OAuthProblemException{error=&#39;unsupported_response_type&#39;, description=&#39;Invalid response! Response body is not application/json encoded&#39;, uri=&#39;null&#39;, state=&#39;null&#39;, scope=&#39;null&#39;, redirectUri=&#39;null&#39;, responseStatus=0, parameters={}}\r\n\tat org.apache.oltu.oauth2.common.exception.OAuthProblemException.error(OAuthProblemException.java:63)\r\n\tat org.apache.oltu.oauth2.client.response.OAuthJSONAccessTokenResponse.setBody(OAuthJSONAccessTokenResponse.java:76)\r\n\tat org.apache.oltu.oauth2.client.response.OAuthClientResponse.init(OAuthClientResponse.java:92)\r\n\tat org.apache.oltu.oauth2.client.response.OAuthAccessTokenResponse.init(OAuthAccessTokenResponse.java:65)\r\n\tat org.apache.oltu.oauth2.client.response.OAuthClientResponse.init(OAuthClientResponse.java:101)\r\n\tat org.apache.oltu.oauth2.client.response.OAuthAccessTokenResponse.init(OAuthAccessTokenResponse.java:60)\r\n\tat org.apache.oltu.oauth2.client.response.OAuthClientResponse.init(OAuthClientResponse.java:120)\r\n\tat org.apache.oltu.oauth2.client.response.OAuthClientResponseFactory.createCustomResponse(OAuthClientResponseFactory.java:82)\r\n\tat org.apache.oltu.oauth2.client.URLConnectionClient.execute(URLConnectionClient.java:111)\r\n\tat org.apache.oltu.oauth2.client.OAuthClient.accessToken(OAuthClient.java:65)\r\n\tat org.example.google.accesstoken.main(accesstoken.java:42)\r\n```\r\n\r\n\r\nIs there any solution?\r\n\r\n\r\nThanks in advance!!","title":"How to get access token using credential in java code","body":"<p>I have to get the access token using credential so that I tried following code</p>\n<p>Here is the code:</p>\n<pre><code>OAuthClient client = new OAuthClient(new URLConnectionClient());\n         OAuthClientRequest request =\n                    OAuthClientRequest.tokenLocation(&quot;https://accounts.google.com/o/oauth2/token&quot;)\n                            .setGrantType(GrantType.AUTHORIZATION_CODE)\n                            .setClientId(&quot;My client id&quot;)\n                            .setClientSecret(&quot;My client secret&quot;)\n                            .buildQueryMessage();\n          String token = client.accessToken(request, OAuth.HttpMethod.POST, OAuthJSONAccessTokenResponse.class).getAccessToken();\n</code></pre>\n<p>But I got following error:</p>\n<pre><code>Exception in thread &quot;main&quot; OAuthProblemException{error='unsupported_response_type', description='Invalid response! Response body is not application/json encoded', uri='null', state='null', scope='null', redirectUri='null', responseStatus=0, parameters={}}\n    at org.apache.oltu.oauth2.common.exception.OAuthProblemException.error(OAuthProblemException.java:63)\n    at org.apache.oltu.oauth2.client.response.OAuthJSONAccessTokenResponse.setBody(OAuthJSONAccessTokenResponse.java:76)\n    at org.apache.oltu.oauth2.client.response.OAuthClientResponse.init(OAuthClientResponse.java:92)\n    at org.apache.oltu.oauth2.client.response.OAuthAccessTokenResponse.init(OAuthAccessTokenResponse.java:65)\n    at org.apache.oltu.oauth2.client.response.OAuthClientResponse.init(OAuthClientResponse.java:101)\n    at org.apache.oltu.oauth2.client.response.OAuthAccessTokenResponse.init(OAuthAccessTokenResponse.java:60)\n    at org.apache.oltu.oauth2.client.response.OAuthClientResponse.init(OAuthClientResponse.java:120)\n    at org.apache.oltu.oauth2.client.response.OAuthClientResponseFactory.createCustomResponse(OAuthClientResponseFactory.java:82)\n    at org.apache.oltu.oauth2.client.URLConnectionClient.execute(URLConnectionClient.java:111)\n    at org.apache.oltu.oauth2.client.OAuthClient.accessToken(OAuthClient.java:65)\n    at org.example.google.accesstoken.main(accesstoken.java:42)\n</code></pre>\n<p>Is there any solution?</p>\n<p>Thanks in advance!!</p>\n"},{"tags":["java","android","xml"],"answers":[{"tags":[],"owner":{"account_id":14064733,"reputation":3952,"user_id":10159898,"display_name":"Bruno"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656519425,"creation_date":1656428506,"answer_id":72788854,"question_id":72788765,"body_markdown":"You have to provide your own custom view and then you have to retrieve your EditTexts with `findViewByID()`\r\n\r\n```\r\nView view = getLayoutInflater().inflate(R.layout.custom_dialog, null);\r\nEditText edt1 = view.findViewById(R.id.Description);\r\n// get other EditTexts here\r\nfinal Dialog alertDialog = new Dialog(activity);\r\nalertDialog.setView(view);\r\nalertDialog.setPositiveButton(&quot;Ok&quot;, (dialogInterface, i) -&gt; {\r\n    String description = edt1.getText().toString();\r\n    //other stuff\r\n});\r\n\r\n```\r\n\r\nEntire sample inspired from your code\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    private ActivityMainBinding binding;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n\r\n        binding = ActivityMainBinding.inflate(LayoutInflater.from(this));\r\n\r\n        setContentView(binding.getRoot());\r\n\r\n        binding.fab.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n\r\n                View viewcustom = getLayoutInflater().inflate(R.layout.custom_dialog, null);\r\n                EditText edt1 = viewcustom.findViewById(R.id.Description);\r\n                EditText edt2 = viewcustom.findViewById(R.id.Age);\r\n                EditText edt3 = viewcustom.findViewById(R.id.Hobby);\r\n                EditText edt4 = viewcustom.findViewById(R.id.City);\r\n\r\n                final AlertDialog.Builder alertDialog = new AlertDialog.Builder(MainActivity.this)\r\n                        .setView(viewcustom)\r\n                        .setPositiveButton(&quot;Ok&quot;, (dialogInterface, i) -&gt; {\r\n                            String description = edt1.getText().toString();\r\n                            String age = edt2.getText().toString();\r\n                            String Hobby = edt3.getText().toString();\r\n                            String City = edt4.getText().toString();\r\n\r\n                            Toast.makeText(MainActivity.this, description, Toast.LENGTH_SHORT).show();\r\n                        });\r\n                alertDialog.setNegativeButton(&quot;Cancel&quot;, null);\r\n                alertDialog.create().show();\r\n            }\r\n        });\r\n    }\r\n}\r\n```","title":"Dialog with multiple textview","body":"<p>You have to provide your own custom view and then you have to retrieve your EditTexts with <code>findViewByID()</code></p>\n<pre><code>View view = getLayoutInflater().inflate(R.layout.custom_dialog, null);\nEditText edt1 = view.findViewById(R.id.Description);\n// get other EditTexts here\nfinal Dialog alertDialog = new Dialog(activity);\nalertDialog.setView(view);\nalertDialog.setPositiveButton(&quot;Ok&quot;, (dialogInterface, i) -&gt; {\n    String description = edt1.getText().toString();\n    //other stuff\n});\n\n</code></pre>\n<p>Entire sample inspired from your code</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    private ActivityMainBinding binding;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        binding = ActivityMainBinding.inflate(LayoutInflater.from(this));\n\n        setContentView(binding.getRoot());\n\n        binding.fab.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n\n                View viewcustom = getLayoutInflater().inflate(R.layout.custom_dialog, null);\n                EditText edt1 = viewcustom.findViewById(R.id.Description);\n                EditText edt2 = viewcustom.findViewById(R.id.Age);\n                EditText edt3 = viewcustom.findViewById(R.id.Hobby);\n                EditText edt4 = viewcustom.findViewById(R.id.City);\n\n                final AlertDialog.Builder alertDialog = new AlertDialog.Builder(MainActivity.this)\n                        .setView(viewcustom)\n                        .setPositiveButton(&quot;Ok&quot;, (dialogInterface, i) -&gt; {\n                            String description = edt1.getText().toString();\n                            String age = edt2.getText().toString();\n                            String Hobby = edt3.getText().toString();\n                            String City = edt4.getText().toString();\n\n                            Toast.makeText(MainActivity.this, description, Toast.LENGTH_SHORT).show();\n                        });\n                alertDialog.setNegativeButton(&quot;Cancel&quot;, null);\n                alertDialog.create().show();\n            }\n        });\n    }\n}\n</code></pre>\n"}],"owner":{"display_name":"user19420525"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":119,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":72788854,"answer_count":1,"score":-2,"last_activity_date":1656519425,"creation_date":1656428211,"question_id":72788765,"body_markdown":"i need to add 5 text view in my code. For now there is only one and it is used to put a marker in google maps. I would like that in addition to this you could put another 4 data insertions like (description, age, work, hobbys).Below I also put the custom dialog I made can you check if it&#39;s okay? Feel free to ask for anything. How can I do?   \r\n\r\n                    add_address.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                View viewcustom = getLayoutInflater().inflate(R.layout.custom_dialog, null);\r\n                EditText edt1 = view.findViewById(R.id.Description);\r\n                EditText edt2 = view.findViewById(R.id.Age);\r\n                EditText edt3 = view.findViewById(R.id.Hobby);\r\n                EditText edt4 = view.findViewById(R.id.City);\r\n                EditText edt5 = view.findViewById(R.id.address);\r\n\r\n                final AlertDialog.Builder alertDialog = new AlertDialog.Builder(requireContext())\r\n                        .setView(viewcustom)\r\n                        .setPositiveButton(&quot;Ok&quot;, (dialogInterface, i) -&gt; {\r\n                            String description = edt1.getText().toString();\r\n                            String age = edt2.getText().toString();\r\n                            String Hobby = edt3.getText().toString();\r\n                            String City = edt4.getText().toString();\r\n                            String address = edt5.getText().toString();\r\n\r\n                            Toast.makeText(requireContext(), description, Toast.LENGTH_SHORT).show();\r\n                    firebaseUser = FirebaseAuth.getInstance().getCurrentUser();\r\n                    reference = FirebaseDatabase.getInstance().getReference(&quot;Users&quot;).child(firebaseUser.getUid()).child(&quot;address&quot;);\r\n                    reference.setValue(address);\r\n                });\r\n                alertDialog.setNegativeButton(&quot;Cancel&quot;, null);\r\n                alertDialog.create().show();\r\n                //startAutoCompleteIntent();\r\n            }\r\n        });\r\nCustomdialog.xml\r\n\r\n   \r\n\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:orientation=&quot;vertical&quot; android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;&gt;\r\n    \r\n        &lt;EditText\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:hint=&quot;Text 1&quot;\r\n            android:id=&quot;@+id/Description&quot; /&gt;\r\n    \r\n        &lt;EditText\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:hint=&quot;Text 2&quot;\r\n            android:id=&quot;@+id/Age&quot; /&gt;\r\n    \r\n        &lt;EditText\r\n            android:id=&quot;@+id/Hobby&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_gravity=&quot;center_horizontal&quot;\r\n            android:hint=&quot;Text 3&quot; /&gt;\r\n    \r\n        &lt;EditText\r\n            android:id=&quot;@+id/City&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:hint=&quot;Text 4&quot; /&gt;\r\n        &lt;EditText\r\n            android:id=&quot;@+id/Marker&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:hint=&quot;Text 5&quot; /&gt;\r\n    &lt;/LinearLayout&gt;\r\n\r\n","title":"Dialog with multiple textview","body":"<p>i need to add 5 text view in my code. For now there is only one and it is used to put a marker in google maps. I would like that in addition to this you could put another 4 data insertions like (description, age, work, hobbys).Below I also put the custom dialog I made can you check if it's okay? Feel free to ask for anything. How can I do?</p>\n<pre><code>                add_address.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            View viewcustom = getLayoutInflater().inflate(R.layout.custom_dialog, null);\n            EditText edt1 = view.findViewById(R.id.Description);\n            EditText edt2 = view.findViewById(R.id.Age);\n            EditText edt3 = view.findViewById(R.id.Hobby);\n            EditText edt4 = view.findViewById(R.id.City);\n            EditText edt5 = view.findViewById(R.id.address);\n\n            final AlertDialog.Builder alertDialog = new AlertDialog.Builder(requireContext())\n                    .setView(viewcustom)\n                    .setPositiveButton(&quot;Ok&quot;, (dialogInterface, i) -&gt; {\n                        String description = edt1.getText().toString();\n                        String age = edt2.getText().toString();\n                        String Hobby = edt3.getText().toString();\n                        String City = edt4.getText().toString();\n                        String address = edt5.getText().toString();\n\n                        Toast.makeText(requireContext(), description, Toast.LENGTH_SHORT).show();\n                firebaseUser = FirebaseAuth.getInstance().getCurrentUser();\n                reference = FirebaseDatabase.getInstance().getReference(&quot;Users&quot;).child(firebaseUser.getUid()).child(&quot;address&quot;);\n                reference.setValue(address);\n            });\n            alertDialog.setNegativeButton(&quot;Cancel&quot;, null);\n            alertDialog.create().show();\n            //startAutoCompleteIntent();\n        }\n    });\n</code></pre>\n<p>Customdialog.xml</p>\n<pre><code>&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:orientation=&quot;vertical&quot; android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n\n    &lt;EditText\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:hint=&quot;Text 1&quot;\n        android:id=&quot;@+id/Description&quot; /&gt;\n\n    &lt;EditText\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:hint=&quot;Text 2&quot;\n        android:id=&quot;@+id/Age&quot; /&gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/Hobby&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_gravity=&quot;center_horizontal&quot;\n        android:hint=&quot;Text 3&quot; /&gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/City&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:hint=&quot;Text 4&quot; /&gt;\n    &lt;EditText\n        android:id=&quot;@+id/Marker&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:hint=&quot;Text 5&quot; /&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n"},{"tags":["java","android","kotlin","bundle","parcelable"],"comments":[{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":2,"creation_date":1656520010,"post_id":72804679,"comment_id":128594932,"body_markdown":"Passing custom types between apps is unlikely to work well. Pass the data in a neutral format, such as JSON.","body":"Passing custom types between apps is unlikely to work well. Pass the data in a neutral format, such as JSON."},{"owner":{"display_name":"user19309143"},"score":0,"creation_date":1656536015,"post_id":72804679,"comment_id":128600128,"body_markdown":"This doesn&#39;t apply to your specific question but it is in the same ballpark. If binding is required (it doesn&#39;t seem to be in this case), then you could use AIDL and share the AIDL file between both apps. This will allow you to essentially share custom data types.","body":"This doesn&#39;t apply to your specific question but it is in the same ballpark. If binding is required (it doesn&#39;t seem to be in this case), then you could use AIDL and share the AIDL file between both apps. This will allow you to essentially share custom data types."}],"owner":{"account_id":25672666,"reputation":71,"user_id":19436650,"display_name":"Mehar Ahmer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1656519328,"creation_date":1656519154,"question_id":72804679,"body_markdown":"I&#39;m facing following Errors/Exceptions when receiving data from ```one App to another App``` in Kotlin (Android):\r\n\r\n1. Class Not Found When Unmarshalling: com.example.Parcelable.User\r\n2. mExtras=Bundle[{)}]\r\n3. mParcelledData=null\r\n4. mMap=size 0\r\n\r\nAlso, In MainActivtiy: ```if(intent.hasExtra(&quot;USER&quot;))``` statement giving error and displaying Toast message written in Else statement.\r\n\r\nPlease help me how I can resolve these exceptions ? **Thanks a Lot!**\r\n\r\n**(SendingApp File) -&gt; MainActivity.kt**\r\n```\r\nbtnSendData1.setOnClickListener {\r\n            val intent = Intent(Intent.ACTION_SEND).setType(&quot;text/plain&quot;)\r\n\r\n            intent.component =\r\n                ComponentName.unflattenFromString(&quot;com.example.receive&quot;)\r\n\r\n            val args = Bundle()\r\n            args.putParcelable(USER_KEY, User(&quot;Ahmer&quot;, &quot;28&quot;))\r\n            intent.putExtras(args)\r\n\r\n            Log.d(&quot;Ahmer&quot;, args.toString())\r\n\r\n            startActivity(Intent.createChooser(intent, &quot;Share to...&quot;))\r\n        }\r\n```\r\n\r\n**(ReceivingApp File) -&gt; MainActivity.kt**\r\n```\r\nclass MainActivity : AppCompatActivity() {\r\n    private lateinit var textView: TextView\r\n\r\n    @SuppressLint(&quot;SetTextI18n&quot;)\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        setContentView(R.layout.activity_main)\r\n\r\n        textView = findViewById(R.id.tv_username)\r\n\r\n        when (intent?.action) {\r\n            Intent.ACTION_SEND -&gt; {\r\n                if (&quot;text/plain&quot; == intent.type) {\r\n                    handleSendText(intent)\r\n                } else {\r\n                    Toast.makeText(this, &quot;No Text&quot;, Toast.LENGTH_SHORT).show()\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    @SuppressLint(&quot;SetTextI18n&quot;)\r\n    private fun handleSendText(intent: Intent) {\r\n        if (intent.extras != null) {\r\n            if (intent.hasExtra(&quot;USER&quot;)) {\r\n                Log.d(&quot;Intent&quot;, intent.toString())\r\n\r\n                val bundle = intent.extras\r\n                val user = bundle?.getParcelable&lt;User&gt;(&quot;USER&quot;) as User\r\n                textView.text = &quot;${user.name}${user.age}&quot;\r\n            } else {\r\n                Toast.makeText(this, &quot;Has Extras Null&quot;, Toast.LENGTH_SHORT).show()\r\n            }\r\n        } else {\r\n            Toast.makeText(this, &quot;Extras Null&quot;, Toast.LENGTH_SHORT).show()\r\n        }\r\n    }\r\n}\r\n```\r\n**(ReceivingApp File) -&gt; User.kt**\r\n```\r\npackage com.example.receive\r\n\r\nimport android.os.Parcelable\r\nimport kotlinx.android.parcel.Parcelize\r\n\r\n@Parcelize\r\ndata class User(\r\n    var name: String,\r\n    var age: String\r\n) : Parcelable\r\n```","title":"Class Not Found When Unmarshalling: com.example.Parcelable.User","body":"<p>I'm facing following Errors/Exceptions when receiving data from <code>one App to another App</code> in Kotlin (Android):</p>\n<ol>\n<li>Class Not Found When Unmarshalling: com.example.Parcelable.User</li>\n<li>mExtras=Bundle[{)}]</li>\n<li>mParcelledData=null</li>\n<li>mMap=size 0</li>\n</ol>\n<p>Also, In MainActivtiy: <code>if(intent.hasExtra(&quot;USER&quot;))</code> statement giving error and displaying Toast message written in Else statement.</p>\n<p>Please help me how I can resolve these exceptions ? <strong>Thanks a Lot!</strong></p>\n<p><strong>(SendingApp File) -&gt; MainActivity.kt</strong></p>\n<pre><code>btnSendData1.setOnClickListener {\n            val intent = Intent(Intent.ACTION_SEND).setType(&quot;text/plain&quot;)\n\n            intent.component =\n                ComponentName.unflattenFromString(&quot;com.example.receive&quot;)\n\n            val args = Bundle()\n            args.putParcelable(USER_KEY, User(&quot;Ahmer&quot;, &quot;28&quot;))\n            intent.putExtras(args)\n\n            Log.d(&quot;Ahmer&quot;, args.toString())\n\n            startActivity(Intent.createChooser(intent, &quot;Share to...&quot;))\n        }\n</code></pre>\n<p><strong>(ReceivingApp File) -&gt; MainActivity.kt</strong></p>\n<pre><code>class MainActivity : AppCompatActivity() {\n    private lateinit var textView: TextView\n\n    @SuppressLint(&quot;SetTextI18n&quot;)\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        textView = findViewById(R.id.tv_username)\n\n        when (intent?.action) {\n            Intent.ACTION_SEND -&gt; {\n                if (&quot;text/plain&quot; == intent.type) {\n                    handleSendText(intent)\n                } else {\n                    Toast.makeText(this, &quot;No Text&quot;, Toast.LENGTH_SHORT).show()\n                }\n            }\n        }\n    }\n\n    @SuppressLint(&quot;SetTextI18n&quot;)\n    private fun handleSendText(intent: Intent) {\n        if (intent.extras != null) {\n            if (intent.hasExtra(&quot;USER&quot;)) {\n                Log.d(&quot;Intent&quot;, intent.toString())\n\n                val bundle = intent.extras\n                val user = bundle?.getParcelable&lt;User&gt;(&quot;USER&quot;) as User\n                textView.text = &quot;${user.name}${user.age}&quot;\n            } else {\n                Toast.makeText(this, &quot;Has Extras Null&quot;, Toast.LENGTH_SHORT).show()\n            }\n        } else {\n            Toast.makeText(this, &quot;Extras Null&quot;, Toast.LENGTH_SHORT).show()\n        }\n    }\n}\n</code></pre>\n<p><strong>(ReceivingApp File) -&gt; User.kt</strong></p>\n<pre><code>package com.example.receive\n\nimport android.os.Parcelable\nimport kotlinx.android.parcel.Parcelize\n\n@Parcelize\ndata class User(\n    var name: String,\n    var age: String\n) : Parcelable\n</code></pre>\n"},{"tags":["java","quarkus"],"answers":[{"tags":[],"owner":{"account_id":3084600,"reputation":5860,"user_id":2612030,"display_name":"ewramner"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1656519285,"creation_date":1656519285,"answer_id":72804709,"question_id":72804565,"body_markdown":"Check [bean validation][1]. Then you can annotate the REST parameters with `@Valid` and the framework will check that all validations (also expressed with annotations) hold. More advanced scenarios are also supported. The dependency you need is `quarkus-hibernate-validator`.\r\n\r\n\r\n  [1]: https://quarkus.io/guides/validation","title":"Good Practice for validation json in Quarkus","body":"<p>Check <a href=\"https://quarkus.io/guides/validation\" rel=\"nofollow noreferrer\">bean validation</a>. Then you can annotate the REST parameters with <code>@Valid</code> and the framework will check that all validations (also expressed with annotations) hold. More advanced scenarios are also supported. The dependency you need is <code>quarkus-hibernate-validator</code>.</p>\n"}],"owner":{"account_id":16016597,"reputation":743,"user_id":11559150,"display_name":"Cesar Justo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3386,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72804709,"answer_count":1,"score":0,"last_activity_date":1656519285,"creation_date":1656518686,"question_id":72804565,"body_markdown":"I am working with Quarkus and doing a REST Services, in my organization it has a work scheme that I would like to improve, currently we have the following format for Request:\r\n\r\n\r\n    {\r\n        &quot;FindPukCodeBS&quot;: {\r\n            &quot;Header&quot;: {\r\n                &quot;country&quot;: &quot;VE&quot;,\r\n                &quot;lang&quot;: &quot;ES&quot;,\r\n                &quot;entity&quot;: &quot;TMVE&quot;,\r\n                &quot;system&quot;: 97,\r\n                &quot;subsystem&quot;: &quot;APP&quot;,\r\n                &quot;originator&quot;: &quot;VE:TMVE:97:APP&quot;,\r\n                &quot;userId&quot;: &quot;04142985219&quot;,\r\n                &quot;operation&quot;: &quot;FindPukCode&quot;,\r\n                &quot;destination&quot;: &quot;VE:TMVE:93:RSB&quot;,\r\n                &quot;timestamp&quot;: &quot;2021-01-20T10:23:23.233-04:00&quot;,\r\n                &quot;msgType&quot;: &quot;REQUEST&quot;\r\n            },\r\n            &quot;Body&quot;: {\r\n                &quot;findPukCodeBSRequest&quot;: {\r\n                    &quot;iccid&quot;: &quot;895804120018888888&quot;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nCurrently to validate this Request I use a class of the following type:\r\n\r\n    package com.tmve.subscriber.until;\r\n    \r\n    \r\n    import com.tmve.subscriber.domain.request.HeaderRequest;\r\n    import com.tmve.subscriber.domain.request.FindPukCodeBSInput;\r\n    \r\n    public class Validator {\r\n    \r\n        public static String validateHeader(HeaderRequest headerRequest) {\r\n            String valid = &quot;false&quot;;\r\n            if (headerRequest != null &amp;&amp; headerRequest.getCountry() != null &amp;&amp; headerRequest.getCountry().length() &gt; 0\r\n                    &amp;&amp; headerRequest.getLang() != null &amp;&amp; headerRequest.getLang().length() &gt; 0\r\n                    &amp;&amp; headerRequest.getEntity() != null &amp;&amp; headerRequest.getEntity().length() &gt; 0\r\n                    &amp;&amp; headerRequest.getSystem() != 0 &amp;&amp; headerRequest.getTimestamp() != null\r\n                    &amp;&amp; headerRequest.getSubsystem() != null &amp;&amp; headerRequest.getSubsystem().length() &gt; 0\r\n                    &amp;&amp; headerRequest.getOriginator() != null &amp;&amp; headerRequest.getOriginator().length() &gt; 0\r\n                    &amp;&amp; headerRequest.getUserId() != null &amp;&amp; headerRequest.getUserId().length() &gt; 0\r\n                    &amp;&amp; headerRequest.getMsgType() != null &amp;&amp; headerRequest.getMsgType().length() &gt; 0\r\n                    &amp;&amp; headerRequest.getOperation() != null &amp;&amp; headerRequest.getOperation().length() &gt; 0\r\n                    &amp;&amp; headerRequest.getDestination() != null &amp;&amp; headerRequest.getDestination().length() &gt; 0\r\n                    &amp;&amp; headerRequest.getMsgType() != null &amp;&amp; headerRequest.getMsgType().length() &gt; 0) {\r\n                valid = &quot;true&quot;;\r\n            }\r\n            return valid;\r\n        }\r\n    \r\n        public static String validateRequest(FindPukCodeBSInput request) {\r\n            String valid = &quot;false&quot;;\r\n            try {\r\n                if (request != null &amp;&amp; request.getFindPukCode() != null\r\n                        &amp;&amp; request.getFindPukCode().getBody() != null\r\n                        &amp;&amp; request.getFindPukCode().getBody().getFindPukCodeBSRequest() != null\r\n                        &amp;&amp; request.getFindPukCode().getBody().getFindPukCodeBSRequest().getIccid() != null\r\n                        &amp;&amp; request.getFindPukCode().getBody().getFindPukCodeBSRequest().getIccid()\r\n                        .length() &gt; 0\r\n                        &amp;&amp; request.getFindPukCode().getBody().getFindPukCodeBSRequest().getIccid() != &quot;&quot;\r\n                        ) {\r\n                    valid = &quot;true&quot;;\r\n                }else{\r\n                    if( request == null\r\n                            || request.getFindPukCode() == null\r\n                            || request.getFindPukCode().getBody() == null\r\n                            || request.getFindPukCode().getBody().getFindPukCodeBSRequest() == null){\r\n                            return &quot;iccid&quot;;\r\n                    }else if(request.getFindPukCode().getBody().getFindPukCodeBSRequest().getIccid() == &quot;&quot;\r\n                            || request.getFindPukCode().getBody().getFindPukCodeBSRequest().getIccid() == null\r\n                            || request.getFindPukCode().getBody().getFindPukCodeBSRequest().getIccid().length() == 0){\r\n                            return &quot;iccid&quot;;\r\n                    }\r\n                }\r\n            } catch (Exception e) {\r\n                return valid;\r\n            }\r\n            return valid;\r\n        }\r\n    }\r\n\r\nAnd I have the following classes that make up the Request:\r\n\r\n**FindPukCodeBSInput**\r\n\r\n    package com.tmve.subscriber.domain.request;\r\n    import com.fasterxml.jackson.annotation.JsonProperty;\r\n    import lombok.*;\r\n    \r\n    @Builder\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Data\r\n    public class FindPukCodeBSInput {\r\n        @JsonProperty(&quot;FindPukCodeBS&quot;)\r\n        FindPukCode findPukCode;\r\n    }\r\n\r\n**FindPukCode**\r\n\r\n    package com.tmve.subscriber.domain.request;\r\n    \r\n    import com.fasterxml.jackson.annotation.JsonProperty;\r\n    import lombok.*;\r\n    \r\n    @Setter\r\n    @Getter\r\n    @Builder\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Data\r\n    public class FindPukCode {\r\n        @JsonProperty(&quot;Header&quot;)\r\n        HeaderRequest header;\r\n        @JsonProperty(&quot;Body&quot;)\r\n        BodyRequest body;\r\n    }\r\n\r\n**Header Request**\r\n\r\n    package com.tmve.subscriber.domain.request;\r\n    import lombok.*;\r\n    \r\n    @Setter\r\n    @Getter\r\n    @Builder\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class HeaderRequest {\r\n        private String country;\r\n        private String lang;\r\n        private String entity;\r\n        private int system;\r\n        private String subsystem;\r\n        private String originator;\r\n        private String userId;\r\n        private String operation;\r\n        private String destination;\r\n        private String timestamp;\r\n        private String msgType;\r\n    }\r\n**BodyRequest**\r\n\r\n    package com.tmve.subscriber.domain.request;\r\n    \r\n    import com.fasterxml.jackson.annotation.JsonProperty;\r\n    import lombok.Data;\r\n    import lombok.Getter;\r\n    import lombok.Setter;\r\n    \r\n    @Setter\r\n    @Getter\r\n    @Data\r\n    public class BodyRequest {\r\n        @JsonProperty(&quot;findPukCodeBSRequest&quot;)\r\n        FindPukCodeBSRequest findPukCodeBSRequest;\r\n    }\r\n\r\n**FindPukCodeBSRequest**\r\n\r\n    package com.tmve.subscriber.domain.request;\r\n    \r\n    import lombok.Data;\r\n    import lombok.Getter;\r\n    import lombok.Setter;\r\n    \r\n    @Setter\r\n    @Getter\r\n    @Data\r\n    public class FindPukCodeBSRequest {\r\n        private String iccid;\r\n    }\r\n\r\nIs there a good practice that can improve this code?\r\n\r\nThe validation basically is to validate that the field is not null, that the size of the field is greater than 0 and in some cases that the field does not exceed a certain number of characters\r\n","title":"Good Practice for validation json in Quarkus","body":"<p>I am working with Quarkus and doing a REST Services, in my organization it has a work scheme that I would like to improve, currently we have the following format for Request:</p>\n<pre><code>{\n    &quot;FindPukCodeBS&quot;: {\n        &quot;Header&quot;: {\n            &quot;country&quot;: &quot;VE&quot;,\n            &quot;lang&quot;: &quot;ES&quot;,\n            &quot;entity&quot;: &quot;TMVE&quot;,\n            &quot;system&quot;: 97,\n            &quot;subsystem&quot;: &quot;APP&quot;,\n            &quot;originator&quot;: &quot;VE:TMVE:97:APP&quot;,\n            &quot;userId&quot;: &quot;04142985219&quot;,\n            &quot;operation&quot;: &quot;FindPukCode&quot;,\n            &quot;destination&quot;: &quot;VE:TMVE:93:RSB&quot;,\n            &quot;timestamp&quot;: &quot;2021-01-20T10:23:23.233-04:00&quot;,\n            &quot;msgType&quot;: &quot;REQUEST&quot;\n        },\n        &quot;Body&quot;: {\n            &quot;findPukCodeBSRequest&quot;: {\n                &quot;iccid&quot;: &quot;895804120018888888&quot;\n            }\n        }\n    }\n}\n</code></pre>\n<p>Currently to validate this Request I use a class of the following type:</p>\n<pre><code>package com.tmve.subscriber.until;\n\n\nimport com.tmve.subscriber.domain.request.HeaderRequest;\nimport com.tmve.subscriber.domain.request.FindPukCodeBSInput;\n\npublic class Validator {\n\n    public static String validateHeader(HeaderRequest headerRequest) {\n        String valid = &quot;false&quot;;\n        if (headerRequest != null &amp;&amp; headerRequest.getCountry() != null &amp;&amp; headerRequest.getCountry().length() &gt; 0\n                &amp;&amp; headerRequest.getLang() != null &amp;&amp; headerRequest.getLang().length() &gt; 0\n                &amp;&amp; headerRequest.getEntity() != null &amp;&amp; headerRequest.getEntity().length() &gt; 0\n                &amp;&amp; headerRequest.getSystem() != 0 &amp;&amp; headerRequest.getTimestamp() != null\n                &amp;&amp; headerRequest.getSubsystem() != null &amp;&amp; headerRequest.getSubsystem().length() &gt; 0\n                &amp;&amp; headerRequest.getOriginator() != null &amp;&amp; headerRequest.getOriginator().length() &gt; 0\n                &amp;&amp; headerRequest.getUserId() != null &amp;&amp; headerRequest.getUserId().length() &gt; 0\n                &amp;&amp; headerRequest.getMsgType() != null &amp;&amp; headerRequest.getMsgType().length() &gt; 0\n                &amp;&amp; headerRequest.getOperation() != null &amp;&amp; headerRequest.getOperation().length() &gt; 0\n                &amp;&amp; headerRequest.getDestination() != null &amp;&amp; headerRequest.getDestination().length() &gt; 0\n                &amp;&amp; headerRequest.getMsgType() != null &amp;&amp; headerRequest.getMsgType().length() &gt; 0) {\n            valid = &quot;true&quot;;\n        }\n        return valid;\n    }\n\n    public static String validateRequest(FindPukCodeBSInput request) {\n        String valid = &quot;false&quot;;\n        try {\n            if (request != null &amp;&amp; request.getFindPukCode() != null\n                    &amp;&amp; request.getFindPukCode().getBody() != null\n                    &amp;&amp; request.getFindPukCode().getBody().getFindPukCodeBSRequest() != null\n                    &amp;&amp; request.getFindPukCode().getBody().getFindPukCodeBSRequest().getIccid() != null\n                    &amp;&amp; request.getFindPukCode().getBody().getFindPukCodeBSRequest().getIccid()\n                    .length() &gt; 0\n                    &amp;&amp; request.getFindPukCode().getBody().getFindPukCodeBSRequest().getIccid() != &quot;&quot;\n                    ) {\n                valid = &quot;true&quot;;\n            }else{\n                if( request == null\n                        || request.getFindPukCode() == null\n                        || request.getFindPukCode().getBody() == null\n                        || request.getFindPukCode().getBody().getFindPukCodeBSRequest() == null){\n                        return &quot;iccid&quot;;\n                }else if(request.getFindPukCode().getBody().getFindPukCodeBSRequest().getIccid() == &quot;&quot;\n                        || request.getFindPukCode().getBody().getFindPukCodeBSRequest().getIccid() == null\n                        || request.getFindPukCode().getBody().getFindPukCodeBSRequest().getIccid().length() == 0){\n                        return &quot;iccid&quot;;\n                }\n            }\n        } catch (Exception e) {\n            return valid;\n        }\n        return valid;\n    }\n}\n</code></pre>\n<p>And I have the following classes that make up the Request:</p>\n<p><strong>FindPukCodeBSInput</strong></p>\n<pre><code>package com.tmve.subscriber.domain.request;\nimport com.fasterxml.jackson.annotation.JsonProperty;\nimport lombok.*;\n\n@Builder\n@AllArgsConstructor\n@NoArgsConstructor\n@Data\npublic class FindPukCodeBSInput {\n    @JsonProperty(&quot;FindPukCodeBS&quot;)\n    FindPukCode findPukCode;\n}\n</code></pre>\n<p><strong>FindPukCode</strong></p>\n<pre><code>package com.tmve.subscriber.domain.request;\n\nimport com.fasterxml.jackson.annotation.JsonProperty;\nimport lombok.*;\n\n@Setter\n@Getter\n@Builder\n@AllArgsConstructor\n@NoArgsConstructor\n@Data\npublic class FindPukCode {\n    @JsonProperty(&quot;Header&quot;)\n    HeaderRequest header;\n    @JsonProperty(&quot;Body&quot;)\n    BodyRequest body;\n}\n</code></pre>\n<p><strong>Header Request</strong></p>\n<pre><code>package com.tmve.subscriber.domain.request;\nimport lombok.*;\n\n@Setter\n@Getter\n@Builder\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class HeaderRequest {\n    private String country;\n    private String lang;\n    private String entity;\n    private int system;\n    private String subsystem;\n    private String originator;\n    private String userId;\n    private String operation;\n    private String destination;\n    private String timestamp;\n    private String msgType;\n}\n</code></pre>\n<p><strong>BodyRequest</strong></p>\n<pre><code>package com.tmve.subscriber.domain.request;\n\nimport com.fasterxml.jackson.annotation.JsonProperty;\nimport lombok.Data;\nimport lombok.Getter;\nimport lombok.Setter;\n\n@Setter\n@Getter\n@Data\npublic class BodyRequest {\n    @JsonProperty(&quot;findPukCodeBSRequest&quot;)\n    FindPukCodeBSRequest findPukCodeBSRequest;\n}\n</code></pre>\n<p><strong>FindPukCodeBSRequest</strong></p>\n<pre><code>package com.tmve.subscriber.domain.request;\n\nimport lombok.Data;\nimport lombok.Getter;\nimport lombok.Setter;\n\n@Setter\n@Getter\n@Data\npublic class FindPukCodeBSRequest {\n    private String iccid;\n}\n</code></pre>\n<p>Is there a good practice that can improve this code?</p>\n<p>The validation basically is to validate that the field is not null, that the size of the field is greater than 0 and in some cases that the field does not exceed a certain number of characters</p>\n"},{"tags":["java","logging","jboss","quarkus"],"answers":[{"tags":[],"owner":{"account_id":2795364,"reputation":7571,"user_id":2404683,"display_name":"Davide D&#39;Alto"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1656519229,"creation_date":1656442356,"answer_id":72791781,"question_id":72791534,"body_markdown":"You are not injecting the logger. You can change the code to:\r\n```\r\n    @Inject\r\n    AgroalDataSource defaultDataSource;\r\n\r\n    @Inject\r\n    Logger log;\r\n```\r\n\r\nBy the way, Quarkus [offers an additional way to get the logger][1] without injection:\r\n```\r\npackage com.example;\r\n\r\nimport io.quarkus.logging.Log; \r\n\r\nclass MyService { \r\n    public void doSomething() {\r\n        Log.info(&quot;Simple!&quot;); \r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://quarkus.io/guides/logging#logging-with-panache","title":"Error when using the logs in Quarkus with logger jboss","body":"<p>You are not injecting the logger. You can change the code to:</p>\n<pre><code>    @Inject\n    AgroalDataSource defaultDataSource;\n\n    @Inject\n    Logger log;\n</code></pre>\n<p>By the way, Quarkus <a href=\"https://quarkus.io/guides/logging#logging-with-panache\" rel=\"nofollow noreferrer\">offers an additional way to get the logger</a> without injection:</p>\n<pre><code>package com.example;\n\nimport io.quarkus.logging.Log; \n\nclass MyService { \n    public void doSomething() {\n        Log.info(&quot;Simple!&quot;); \n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1276303,"reputation":2937,"user_id":1231484,"display_name":"Clement"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1656485651,"creation_date":1656485651,"answer_id":72796978,"question_id":72791534,"body_markdown":"@Davide answer is totally right, I just wanted to add that you can use _constructor_ injection:\r\n\r\n```java\r\n\r\nprivate final AgroalDataSource ds;\r\nprivate final Logger log;\r\n\r\npublic FindPrepaidSubscriberICCID(AgroalDataSource ds, Logger log) {\r\n   this.ds = ds;\r\n   this.log = log;\r\n}\r\n```\r\n\r\nConstructor injection tends to ease testability (because you can create instances of your objects passing spies or mocks). It also makes sure you do not write to the _managed_ fields (as the fields are final).","title":"Error when using the logs in Quarkus with logger jboss","body":"<p>@Davide answer is totally right, I just wanted to add that you can use <em>constructor</em> injection:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nprivate final AgroalDataSource ds;\nprivate final Logger log;\n\npublic FindPrepaidSubscriberICCID(AgroalDataSource ds, Logger log) {\n   this.ds = ds;\n   this.log = log;\n}\n</code></pre>\n<p>Constructor injection tends to ease testability (because you can create instances of your objects passing spies or mocks). It also makes sure you do not write to the <em>managed</em> fields (as the fields are final).</p>\n"}],"owner":{"account_id":16016597,"reputation":743,"user_id":11559150,"display_name":"Cesar Justo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1220,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":72791781,"answer_count":2,"score":0,"last_activity_date":1656519229,"creation_date":1656441136,"question_id":72791534,"body_markdown":"Good afternoon, I have a query, I am starting in Quarkus and I have a problem with the use of logs in it, I am working with a simple service that uses the GET verb, when placing the line of logs it throws me an error of java.lang.NullPointerException. This is my main code:\r\n\r\n    package com.tmve.subscriber;\r\n    \r\n    import com.tmve.subscriber.repository.FindPrepaidSubscriberICCIDRepository;\r\n    import io.agroal.api.AgroalDataSource;\r\n    import org.jboss.logging.Logger;\r\n    \r\n    import javax.inject.Inject;\r\n    import javax.ws.rs.GET;\r\n    import javax.ws.rs.Path;\r\n    import javax.ws.rs.Produces;\r\n    import javax.ws.rs.core.MediaType;\r\n    import java.util.HashMap;\r\n    \r\n    \r\n    @Path(&quot;/api&quot;)\r\n    public class FindPrepaidSubscriberICCID {\r\n    \r\n        @Inject\r\n        AgroalDataSource defaultDataSource;\r\n        Logger log;\r\n        FindPrepaidSubscriberICCIDRepository repository= new FindPrepaidSubscriberICCIDRepository();\r\n        private final String movil=&quot;142910399&quot;;\r\n    \r\n        @GET\r\n        @Produces(MediaType.TEXT_PLAIN)\r\n        public HashMap&lt;String,String&gt; hello() {\r\n            HashMap&lt;String,String&gt; map=new HashMap&lt;&gt;();\r\n            map=repository.getResources(defaultDataSource,movil);\r\n            log.info(&quot;movil: &quot;+movil);\r\n            return map;\r\n        }\r\n    }\r\n\r\nMy application.properties\r\n\r\n    quarkus.datasource.db-kind=oracle\r\n    #quarkus.datasource.jdbc.driver=oracle.jdbc.driver.OracleDriver\r\n    #quarkus.datasource.jdbc.driver=io.opentracing.contrib.jdbc.TracingDriver\r\n    quarkus.datasource.jdbc.url=jdbc:oracle:thin:@172.xx.2.xxx:1522/IVR\r\n    quarkus.datasource.username=${USERNAME_CONNECTION_BD:psp}\r\n    quarkus.datasource.password=${PASSWORD_CONNECTION_BD:xxxxxxxxx}\r\n    quarkus.http.port=${PORT:8080}\r\n    quarkus.log.level=INFO\r\n    quarkus.log.category.&quot;org.hibernate&quot;.level=DEBUG\r\n    \r\n    # Send output to a trace.log file under the /tmp directory\r\n    quarkus.log.file.path=/tmp/trace.log\r\n    quarkus.log.console.format=%d{HH:mm:ss} %-5p [%c{2.}] (%t) %s%e%n\r\n    # Configure a named handler that logs to console\r\n    quarkus.log.handler.console.&quot;STRUCTURED_LOGGING&quot;.format=%e%n\r\n    # Configure a named handler that logs to file\r\n    quarkus.log.handler.file.&quot;STRUCTURED_LOGGING_FILE&quot;.enable=true\r\n    quarkus.log.handler.file.&quot;STRUCTURED_LOGGING_FILE&quot;.format=%e%n\r\n    # Configure the category and link the two named handlers to it\r\n    quarkus.log.category.&quot;io.quarkus.category&quot;.level=INFO\r\n    quarkus.log.category.&quot;io.quarkus.category&quot;.handlers=STRUCTURED_LOGGING,STRUCTURED_LOGGING_FILE\r\n\r\nMy pom.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot;?&gt;\r\n    &lt;project xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot; xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n      &lt;groupId&gt;com.tmve.subscriber&lt;/groupId&gt;\r\n      &lt;artifactId&gt;find-prepaid-subscriber-iccid&lt;/artifactId&gt;\r\n      &lt;version&gt;1.0.0&lt;/version&gt;\r\n      &lt;properties&gt;\r\n        &lt;compiler-plugin.version&gt;3.8.1&lt;/compiler-plugin.version&gt;\r\n        &lt;maven.compiler.release&gt;11&lt;/maven.compiler.release&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n        &lt;quarkus.platform.artifact-id&gt;quarkus-bom&lt;/quarkus.platform.artifact-id&gt;\r\n        &lt;quarkus.platform.group-id&gt;io.quarkus.platform&lt;/quarkus.platform.group-id&gt;\r\n        &lt;quarkus.platform.version&gt;2.10.0.Final&lt;/quarkus.platform.version&gt;\r\n        &lt;skipITs&gt;true&lt;/skipITs&gt;\r\n        &lt;surefire-plugin.version&gt;3.0.0-M7&lt;/surefire-plugin.version&gt;\r\n      &lt;/properties&gt;\r\n      &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n          &lt;dependency&gt;\r\n            &lt;groupId&gt;${quarkus.platform.group-id}&lt;/groupId&gt;\r\n            &lt;artifactId&gt;${quarkus.platform.artifact-id}&lt;/artifactId&gt;\r\n            &lt;version&gt;${quarkus.platform.version}&lt;/version&gt;\r\n            &lt;type&gt;pom&lt;/type&gt;\r\n            &lt;scope&gt;import&lt;/scope&gt;\r\n          &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n      &lt;/dependencyManagement&gt;\r\n      &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n          &lt;artifactId&gt;quarkus-resteasy-jaxb&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n          &lt;artifactId&gt;quarkus-resteasy&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n          &lt;artifactId&gt;quarkus-resteasy-jackson&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n          &lt;artifactId&gt;quarkus-arc&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n          &lt;artifactId&gt;quarkus-jdbc-oracle&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n          &lt;artifactId&gt;quarkus-agroal&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n          &lt;artifactId&gt;quarkus-hibernate-orm&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.jboss.logmanager&lt;/groupId&gt;\r\n          &lt;artifactId&gt;log4j2-jboss-logmanager&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n          &lt;artifactId&gt;quarkus-junit5&lt;/artifactId&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\r\n          &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n          &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n          &lt;version&gt;1.18.22&lt;/version&gt;\r\n          &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n      &lt;build&gt;\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;${quarkus.platform.group-id}&lt;/groupId&gt;\r\n            &lt;artifactId&gt;quarkus-maven-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;${quarkus.platform.version}&lt;/version&gt;\r\n            &lt;extensions&gt;true&lt;/extensions&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;build&lt;/goal&gt;\r\n                  &lt;goal&gt;generate-code&lt;/goal&gt;\r\n                  &lt;goal&gt;generate-code-tests&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n          &lt;/plugin&gt;\r\n          &lt;plugin&gt;\r\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;${compiler-plugin.version}&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n              &lt;compilerArgs&gt;\r\n                &lt;arg&gt;-parameters&lt;/arg&gt;\r\n              &lt;/compilerArgs&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n          &lt;plugin&gt;\r\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;${surefire-plugin.version}&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n              &lt;systemPropertyVariables&gt;\r\n                &lt;java.util.logging.manager&gt;org.jboss.logmanager.LogManager&lt;/java.util.logging.manager&gt;\r\n                &lt;maven.home&gt;${maven.home}&lt;/maven.home&gt;\r\n              &lt;/systemPropertyVariables&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n          &lt;plugin&gt;\r\n            &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;${surefire-plugin.version}&lt;/version&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;integration-test&lt;/goal&gt;\r\n                  &lt;goal&gt;verify&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;configuration&gt;\r\n                  &lt;systemPropertyVariables&gt;\r\n                    &lt;native.image.path&gt;${project.build.directory}/${project.build.finalName}-runner&lt;/native.image.path&gt;\r\n                    &lt;java.util.logging.manager&gt;org.jboss.logmanager.LogManager&lt;/java.util.logging.manager&gt;\r\n                    &lt;maven.home&gt;${maven.home}&lt;/maven.home&gt;\r\n                  &lt;/systemPropertyVariables&gt;\r\n                &lt;/configuration&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n      &lt;profiles&gt;\r\n        &lt;profile&gt;\r\n          &lt;id&gt;native&lt;/id&gt;\r\n          &lt;activation&gt;\r\n            &lt;property&gt;\r\n              &lt;name&gt;native&lt;/name&gt;\r\n            &lt;/property&gt;\r\n          &lt;/activation&gt;\r\n          &lt;properties&gt;\r\n            &lt;skipITs&gt;false&lt;/skipITs&gt;\r\n            &lt;quarkus.package.type&gt;native&lt;/quarkus.package.type&gt;\r\n          &lt;/properties&gt;\r\n        &lt;/profile&gt;\r\n      &lt;/profiles&gt;\r\n    &lt;/project&gt;\r\n\r\nError:\r\n\r\n    14:28:22 ERROR [io.qu.ve.ht.ru.QuarkusErrorHandler] (executor-thread-0) HTTP Request to /api failed, error id: 85c7bf48-6300-4c29-b93a-74f3532832d8-3: org.jboss.resteasy.spi.UnhandledExcepti\r\n    on: java.lang.NullPointerException: Cannot invoke &quot;org.jboss.logging.Logger.info(Object)&quot; because &quot;this.log&quot; is null\r\n            at org.jboss.resteasy.core.ExceptionHandler.handleApplicationException(ExceptionHandler.java:105)\r\n            at org.jboss.resteasy.core.ExceptionHandler.handleException(ExceptionHandler.java:359)\r\n            at org.jboss.resteasy.core.SynchronousDispatcher.writeException(SynchronousDispatcher.java:218)\r\n            at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:519)\r\n            at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:261)\r\n            at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:161)\r\n            at org.jboss.resteasy.core.interception.jaxrs.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:364)\r\n            at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:164)\r\n            at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:247)\r\n            at io.quarkus.resteasy.runtime.standalone.RequestDispatcher.service(RequestDispatcher.java:73)\r\n            at io.quarkus.resteasy.runtime.standalone.VertxRequestHandler.dispatch(VertxRequestHandler.java:151)\r\n            at io.quarkus.resteasy.runtime.standalone.VertxRequestHandler$1.run(VertxRequestHandler.java:91)\r\n            at io.quarkus.vertx.core.runtime.VertxCoreRecorder$14.runWith(VertxCoreRecorder.java:554)\r\n            at org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2449)\r\n            at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1478)\r\n            at org.jboss.threads.DelegatingRunnable.run(DelegatingRunnable.java:29)\r\n            at org.jboss.threads.ThreadLocalResettingRunnable.run(ThreadLocalResettingRunnable.java:29)\r\n            at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n            at java.base/java.lang.Thread.run(Thread.java:833)\r\n    Caused by: java.lang.NullPointerException: Cannot invoke &quot;org.jboss.logging.Logger.info(Object)&quot; because &quot;this.log&quot; is null\r\n            at com.tmve.subscriber.FindPrepaidSubscriberICCID.hello(FindPrepaidSubscriberICCID.java:29)\r\n            at com.tmve.subscriber.FindPrepaidSubscriberICCID_Subclass.hello$$superforward1(Unknown Source)\r\n            at com.tmve.subscriber.FindPrepaidSubscriberICCID_Subclass$$function$$3.apply(Unknown Source)\r\n            at io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:53)\r\n            at io.quarkus.arc.runtime.devconsole.InvocationInterceptor.proceed(InvocationInterceptor.java:62)\r\n            at io.quarkus.arc.runtime.devconsole.InvocationInterceptor.monitor(InvocationInterceptor.java:49)\r\n            at io.quarkus.arc.runtime.devconsole.InvocationInterceptor_Bean.intercept(Unknown Source)\r\n            at io.quarkus.arc.impl.InterceptorInvocation.invoke(InterceptorInvocation.java:41)\r\n            at io.quarkus.arc.impl.AroundInvokeInvocationContext.perform(AroundInvokeInvocationContext.java:40)\r\n            at io.quarkus.arc.impl.InvocationContexts.performAroundInvoke(InvocationContexts.java:32)\r\n            at com.tmve.subscriber.FindPrepaidSubscriberICCID_Subclass.hello(Unknown Source)\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n            at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n            at java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n            at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:170)\r\n            at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:130)\r\n            at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:660)\r\n            at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:524)\r\n            at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$2(ResourceMethodInvoker.java:474)\r\n            at org.jboss.resteasy.core.interception.jaxrs.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:364)\r\n            at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:476)\r\n            at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:434)\r\n            at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:408)\r\n            at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:69)\r\n            at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:492)\r\n            ... 15 more\r\n\r\n[![enter image description here][1]][1]\r\n\r\nWhat could be happening, I don&#39;t understand\r\n\r\n  [1]: https://i.stack.imgur.com/4fF2N.png","title":"Error when using the logs in Quarkus with logger jboss","body":"<p>Good afternoon, I have a query, I am starting in Quarkus and I have a problem with the use of logs in it, I am working with a simple service that uses the GET verb, when placing the line of logs it throws me an error of java.lang.NullPointerException. This is my main code:</p>\n<pre><code>package com.tmve.subscriber;\n\nimport com.tmve.subscriber.repository.FindPrepaidSubscriberICCIDRepository;\nimport io.agroal.api.AgroalDataSource;\nimport org.jboss.logging.Logger;\n\nimport javax.inject.Inject;\nimport javax.ws.rs.GET;\nimport javax.ws.rs.Path;\nimport javax.ws.rs.Produces;\nimport javax.ws.rs.core.MediaType;\nimport java.util.HashMap;\n\n\n@Path(&quot;/api&quot;)\npublic class FindPrepaidSubscriberICCID {\n\n    @Inject\n    AgroalDataSource defaultDataSource;\n    Logger log;\n    FindPrepaidSubscriberICCIDRepository repository= new FindPrepaidSubscriberICCIDRepository();\n    private final String movil=&quot;142910399&quot;;\n\n    @GET\n    @Produces(MediaType.TEXT_PLAIN)\n    public HashMap&lt;String,String&gt; hello() {\n        HashMap&lt;String,String&gt; map=new HashMap&lt;&gt;();\n        map=repository.getResources(defaultDataSource,movil);\n        log.info(&quot;movil: &quot;+movil);\n        return map;\n    }\n}\n</code></pre>\n<p>My application.properties</p>\n<pre><code>quarkus.datasource.db-kind=oracle\n#quarkus.datasource.jdbc.driver=oracle.jdbc.driver.OracleDriver\n#quarkus.datasource.jdbc.driver=io.opentracing.contrib.jdbc.TracingDriver\nquarkus.datasource.jdbc.url=jdbc:oracle:thin:@172.xx.2.xxx:1522/IVR\nquarkus.datasource.username=${USERNAME_CONNECTION_BD:psp}\nquarkus.datasource.password=${PASSWORD_CONNECTION_BD:xxxxxxxxx}\nquarkus.http.port=${PORT:8080}\nquarkus.log.level=INFO\nquarkus.log.category.&quot;org.hibernate&quot;.level=DEBUG\n\n# Send output to a trace.log file under the /tmp directory\nquarkus.log.file.path=/tmp/trace.log\nquarkus.log.console.format=%d{HH:mm:ss} %-5p [%c{2.}] (%t) %s%e%n\n# Configure a named handler that logs to console\nquarkus.log.handler.console.&quot;STRUCTURED_LOGGING&quot;.format=%e%n\n# Configure a named handler that logs to file\nquarkus.log.handler.file.&quot;STRUCTURED_LOGGING_FILE&quot;.enable=true\nquarkus.log.handler.file.&quot;STRUCTURED_LOGGING_FILE&quot;.format=%e%n\n# Configure the category and link the two named handlers to it\nquarkus.log.category.&quot;io.quarkus.category&quot;.level=INFO\nquarkus.log.category.&quot;io.quarkus.category&quot;.handlers=STRUCTURED_LOGGING,STRUCTURED_LOGGING_FILE\n</code></pre>\n<p>My pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot;?&gt;\n&lt;project xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot; xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;com.tmve.subscriber&lt;/groupId&gt;\n  &lt;artifactId&gt;find-prepaid-subscriber-iccid&lt;/artifactId&gt;\n  &lt;version&gt;1.0.0&lt;/version&gt;\n  &lt;properties&gt;\n    &lt;compiler-plugin.version&gt;3.8.1&lt;/compiler-plugin.version&gt;\n    &lt;maven.compiler.release&gt;11&lt;/maven.compiler.release&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n    &lt;quarkus.platform.artifact-id&gt;quarkus-bom&lt;/quarkus.platform.artifact-id&gt;\n    &lt;quarkus.platform.group-id&gt;io.quarkus.platform&lt;/quarkus.platform.group-id&gt;\n    &lt;quarkus.platform.version&gt;2.10.0.Final&lt;/quarkus.platform.version&gt;\n    &lt;skipITs&gt;true&lt;/skipITs&gt;\n    &lt;surefire-plugin.version&gt;3.0.0-M7&lt;/surefire-plugin.version&gt;\n  &lt;/properties&gt;\n  &lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;${quarkus.platform.group-id}&lt;/groupId&gt;\n        &lt;artifactId&gt;${quarkus.platform.artifact-id}&lt;/artifactId&gt;\n        &lt;version&gt;${quarkus.platform.version}&lt;/version&gt;\n        &lt;type&gt;pom&lt;/type&gt;\n        &lt;scope&gt;import&lt;/scope&gt;\n      &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n  &lt;/dependencyManagement&gt;\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n      &lt;artifactId&gt;quarkus-resteasy-jaxb&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n      &lt;artifactId&gt;quarkus-resteasy&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n      &lt;artifactId&gt;quarkus-resteasy-jackson&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n      &lt;artifactId&gt;quarkus-arc&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n      &lt;artifactId&gt;quarkus-jdbc-oracle&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n      &lt;artifactId&gt;quarkus-agroal&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n      &lt;artifactId&gt;quarkus-hibernate-orm&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.jboss.logmanager&lt;/groupId&gt;\n      &lt;artifactId&gt;log4j2-jboss-logmanager&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n      &lt;artifactId&gt;quarkus-junit5&lt;/artifactId&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\n      &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n      &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n      &lt;version&gt;1.18.22&lt;/version&gt;\n      &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;${quarkus.platform.group-id}&lt;/groupId&gt;\n        &lt;artifactId&gt;quarkus-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;${quarkus.platform.version}&lt;/version&gt;\n        &lt;extensions&gt;true&lt;/extensions&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;build&lt;/goal&gt;\n              &lt;goal&gt;generate-code&lt;/goal&gt;\n              &lt;goal&gt;generate-code-tests&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;version&gt;${compiler-plugin.version}&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;compilerArgs&gt;\n            &lt;arg&gt;-parameters&lt;/arg&gt;\n          &lt;/compilerArgs&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n        &lt;version&gt;${surefire-plugin.version}&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;systemPropertyVariables&gt;\n            &lt;java.util.logging.manager&gt;org.jboss.logmanager.LogManager&lt;/java.util.logging.manager&gt;\n            &lt;maven.home&gt;${maven.home}&lt;/maven.home&gt;\n          &lt;/systemPropertyVariables&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n        &lt;version&gt;${surefire-plugin.version}&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;integration-test&lt;/goal&gt;\n              &lt;goal&gt;verify&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n              &lt;systemPropertyVariables&gt;\n                &lt;native.image.path&gt;${project.build.directory}/${project.build.finalName}-runner&lt;/native.image.path&gt;\n                &lt;java.util.logging.manager&gt;org.jboss.logmanager.LogManager&lt;/java.util.logging.manager&gt;\n                &lt;maven.home&gt;${maven.home}&lt;/maven.home&gt;\n              &lt;/systemPropertyVariables&gt;\n            &lt;/configuration&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n  &lt;profiles&gt;\n    &lt;profile&gt;\n      &lt;id&gt;native&lt;/id&gt;\n      &lt;activation&gt;\n        &lt;property&gt;\n          &lt;name&gt;native&lt;/name&gt;\n        &lt;/property&gt;\n      &lt;/activation&gt;\n      &lt;properties&gt;\n        &lt;skipITs&gt;false&lt;/skipITs&gt;\n        &lt;quarkus.package.type&gt;native&lt;/quarkus.package.type&gt;\n      &lt;/properties&gt;\n    &lt;/profile&gt;\n  &lt;/profiles&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Error:</p>\n<pre><code>14:28:22 ERROR [io.qu.ve.ht.ru.QuarkusErrorHandler] (executor-thread-0) HTTP Request to /api failed, error id: 85c7bf48-6300-4c29-b93a-74f3532832d8-3: org.jboss.resteasy.spi.UnhandledExcepti\non: java.lang.NullPointerException: Cannot invoke &quot;org.jboss.logging.Logger.info(Object)&quot; because &quot;this.log&quot; is null\n        at org.jboss.resteasy.core.ExceptionHandler.handleApplicationException(ExceptionHandler.java:105)\n        at org.jboss.resteasy.core.ExceptionHandler.handleException(ExceptionHandler.java:359)\n        at org.jboss.resteasy.core.SynchronousDispatcher.writeException(SynchronousDispatcher.java:218)\n        at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:519)\n        at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:261)\n        at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:161)\n        at org.jboss.resteasy.core.interception.jaxrs.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:364)\n        at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:164)\n        at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:247)\n        at io.quarkus.resteasy.runtime.standalone.RequestDispatcher.service(RequestDispatcher.java:73)\n        at io.quarkus.resteasy.runtime.standalone.VertxRequestHandler.dispatch(VertxRequestHandler.java:151)\n        at io.quarkus.resteasy.runtime.standalone.VertxRequestHandler$1.run(VertxRequestHandler.java:91)\n        at io.quarkus.vertx.core.runtime.VertxCoreRecorder$14.runWith(VertxCoreRecorder.java:554)\n        at org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2449)\n        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1478)\n        at org.jboss.threads.DelegatingRunnable.run(DelegatingRunnable.java:29)\n        at org.jboss.threads.ThreadLocalResettingRunnable.run(ThreadLocalResettingRunnable.java:29)\n        at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n        at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;org.jboss.logging.Logger.info(Object)&quot; because &quot;this.log&quot; is null\n        at com.tmve.subscriber.FindPrepaidSubscriberICCID.hello(FindPrepaidSubscriberICCID.java:29)\n        at com.tmve.subscriber.FindPrepaidSubscriberICCID_Subclass.hello$$superforward1(Unknown Source)\n        at com.tmve.subscriber.FindPrepaidSubscriberICCID_Subclass$$function$$3.apply(Unknown Source)\n        at io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:53)\n        at io.quarkus.arc.runtime.devconsole.InvocationInterceptor.proceed(InvocationInterceptor.java:62)\n        at io.quarkus.arc.runtime.devconsole.InvocationInterceptor.monitor(InvocationInterceptor.java:49)\n        at io.quarkus.arc.runtime.devconsole.InvocationInterceptor_Bean.intercept(Unknown Source)\n        at io.quarkus.arc.impl.InterceptorInvocation.invoke(InterceptorInvocation.java:41)\n        at io.quarkus.arc.impl.AroundInvokeInvocationContext.perform(AroundInvokeInvocationContext.java:40)\n        at io.quarkus.arc.impl.InvocationContexts.performAroundInvoke(InvocationContexts.java:32)\n        at com.tmve.subscriber.FindPrepaidSubscriberICCID_Subclass.hello(Unknown Source)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n        at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:170)\n        at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:130)\n        at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:660)\n        at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:524)\n        at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$2(ResourceMethodInvoker.java:474)\n        at org.jboss.resteasy.core.interception.jaxrs.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:364)\n        at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:476)\n        at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:434)\n        at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:408)\n        at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:69)\n        at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:492)\n        ... 15 more\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/4fF2N.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4fF2N.png\" alt=\"enter image description here\" /></a></p>\n<p>What could be happening, I don't understand</p>\n"},{"tags":["java","spring","rest"],"comments":[{"owner":{"account_id":4136921,"reputation":929,"user_id":3393379,"display_name":"thinkgruen"},"score":0,"creation_date":1656518319,"post_id":72804392,"comment_id":128594332,"body_markdown":"The entity should use a String for the id, you can use the getfullId method when you construct it.","body":"The entity should use a String for the id, you can use the getfullId method when you construct it."}],"answers":[{"tags":[],"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656518968,"creation_date":1656518468,"answer_id":72804512,"question_id":72804392,"body_markdown":"Your `Identificationnumber` is not primitive but custom class. What you are doing is trying to use `Long` against your `Identificationnumber` in `teilnehmerById` method.\r\n\r\nI would suggest to either change `@Id` column of  `Teilnehmer` to `Long` from  `Identificationnumber` or you can still pass `Identificationnumber` in `teilnehmerById` method by doing something like below (This is based on consideration that you have implemented your own `findById` which will convert `Identificationnumber` to `Long`):\r\n\r\n    @GetMapping(&quot;/teilnehmer/{id}&quot;)\r\n    Teilnehmer teilnehmerById(@PathVariable Long secondpart){\r\n         Identificationnumber number = new Identificationnumber();\r\n         number.setSecondpart(secondpart);\r\n       \r\n      \r\n        Optional&lt;Teilnehmer&gt; teilnehmerOptional = this.teilnehmerRepository.findById(number.getfullID());\r\n        if(teilnehmerOptional.isPresent()) {\r\n            return teilnehmerOptional.get();\r\n        }\r\n        return null;\r\n\r\n\r\nBased on hibernate error, it looks like you have to use my first option which is change `@Id` of `Teilnehmer` to `Long`.\r\n\r\nEdit : just updated code so that you can use composition of String to Long.","title":"How can I indicate the PathVariable for Spring REST-method?","body":"<p>Your <code>Identificationnumber</code> is not primitive but custom class. What you are doing is trying to use <code>Long</code> against your <code>Identificationnumber</code> in <code>teilnehmerById</code> method.</p>\n<p>I would suggest to either change <code>@Id</code> column of  <code>Teilnehmer</code> to <code>Long</code> from  <code>Identificationnumber</code> or you can still pass <code>Identificationnumber</code> in <code>teilnehmerById</code> method by doing something like below (This is based on consideration that you have implemented your own <code>findById</code> which will convert <code>Identificationnumber</code> to <code>Long</code>):</p>\n<pre><code>@GetMapping(&quot;/teilnehmer/{id}&quot;)\nTeilnehmer teilnehmerById(@PathVariable Long secondpart){\n     Identificationnumber number = new Identificationnumber();\n     number.setSecondpart(secondpart);\n   \n  \n    Optional&lt;Teilnehmer&gt; teilnehmerOptional = this.teilnehmerRepository.findById(number.getfullID());\n    if(teilnehmerOptional.isPresent()) {\n        return teilnehmerOptional.get();\n    }\n    return null;\n</code></pre>\n<p>Based on hibernate error, it looks like you have to use my first option which is change <code>@Id</code> of <code>Teilnehmer</code> to <code>Long</code>.</p>\n<p>Edit : just updated code so that you can use composition of String to Long.</p>\n"}],"owner":{"account_id":25682595,"reputation":11,"user_id":19445172,"display_name":"Eric Winter"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1656518968,"creation_date":1656517892,"question_id":72804392,"body_markdown":"I want to indicate the pathvariable secondpart. Thats not possible because an errormessage shows: Could not determine type for: veranstaltung.Identificationnumber, at table: teilnehmer, for columns: [org.hibernate.mapping.Column(id)]\r\n\r\n\r\nWhat I have to change to use the variable secondpart? How can I access the variable secondpart in the method of the Controller?\r\n\r\n    \tpackage veranstaltung;\r\n\r\n\timport javax.persistence.Entity;\r\n\timport javax.persistence.GeneratedValue;\r\n\timport javax.persistence.GenerationType;\r\n\timport javax.persistence.Id;\r\n\r\n\t@Entity\r\n\tpublic class Teilnehmer {\r\n\r\n\t\r\n\tstatic int idnumber=69;\r\n\t\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate Identificationnumber id;\r\n\tprivate String name;\r\n\tprivate String vorname;\r\n\tprivate String wohnort;\r\n\t\r\n\tprotected Teilnehmer() {}\r\n\t\r\n\tpublic Teilnehmer(Identificationnumber id, String name, String vorname,String wohnort)\r\n\t{\r\n\t\tthis.id=id;\r\n\t\tthis.name=name;\r\n\t\tthis.vorname=vorname;\r\n\t\tthis.wohnort=wohnort;\r\n\t}\r\n\t\r\n\t\r\n\tpublic static String erzeugeID ()\r\n\t{\r\n\t\tString id= &quot;JAVALAND-&quot;;\r\n\t\tid=id+idnumber;\r\n\t\tidnumber++;\r\n\t\treturn id;\r\n\t}\r\n\t\r\n\tpublic String getName() {\r\n\t\treturn name;\r\n\t}\r\n\r\n\tpublic void setName(String name) {\r\n\t\tthis.name = name;\r\n\t}\r\n\r\n\tpublic String getVorname() {\r\n\t\treturn vorname;\r\n\t}\r\n\r\n\tpublic void setVorname(String vorname) {\r\n\t\tthis.vorname = vorname;\r\n\t}\r\n\r\n\tpublic String getWohnort() {\r\n\t\treturn wohnort;\r\n\t}\r\n\r\n\tpublic void setWohnort(String wohnort) {\r\n\t\tthis.wohnort = wohnort;\r\n\t}\r\n\r\n\t\r\n\t@Override\r\n\tpublic String toString()\r\n\t{\r\n\t\treturn  id.getfullID()+&quot; &quot;+getName()+&quot; &quot;+getVorname()+&quot; &quot;+getWohnort();\r\n\t}\r\n}\r\n\r\n    \tpackage veranstaltung;\r\n\r\n\tpublic class Identificationnumber {\r\n\r\n\t\r\n\tprivate String firstpart;\r\n\tprivate Long secondpart;\r\n\t\r\n\tpublic Identificationnumber(String firstpart, Long secondpart)\r\n\t{\r\n\t\tthis.firstpart=firstpart;\r\n\t\tthis.secondpart=secondpart;\r\n\t}\r\n\t\r\n\t\r\n\tpublic String getFirstpart() {\r\n\t\treturn firstpart;\r\n\t}\r\n\r\n\tpublic void setFirstpart(String firstpart) {\r\n\t\tthis.firstpart = firstpart;\r\n\t}\r\n\r\n\tpublic Long getSecondpart() {\r\n\t\treturn secondpart;\r\n\t}\r\n\r\n\tpublic void setSecondpart(Long secondpart) {\r\n\t\tthis.secondpart = secondpart;\r\n\t}\r\n\t\r\n\tpublic String getfullID()\r\n\t{\r\n\t\treturn firstpart+&#39; &#39;+secondpart;\r\n\t}\r\n}\r\n\r\n    \tpackage veranstaltung;\r\n\r\n\timport veranstaltung.Teilnehmer;\r\n\timport veranstaltung.Identificationnumber;\r\n\timport veranstaltung.TeilnehmerRepository;\r\n\r\n\timport java.util.Optional;\r\n\r\n\timport org.springframework.beans.factory.annotation.Autowired;\r\n\timport org.springframework.http.ResponseEntity;\r\n\timport org.springframework.web.bind.annotation.*;\r\n\r\n\t@RestController\r\n\tpublic class TeilnehmerController {\r\n\t\r\n\t@Autowired\r\n\tTeilnehmerRepository teilnehmerRepository;\r\n\t\r\n\t\r\n\t@GetMapping(&quot;/teilnehmer&quot;)\r\n\t    Iterable&lt;Teilnehmer&gt; teilnehmer(){\r\n\t        return this.teilnehmerRepository.findAll();\r\n\t    }\r\n\t\r\n\t@GetMapping(&quot;/teilnehmer/{id}&quot;)\r\n    Teilnehmer teilnehmerById(@PathVariable Long secondpart){\r\n        Optional&lt;Teilnehmer&gt; teilnehmerOptional = this.teilnehmerRepository.findById(secondpart);\r\n        if(teilnehmerOptional.isPresent()) {\r\n            return teilnehmerOptional.get();\r\n        }\r\n        return null;\r\n    }\r\n\r\n\t}\r\n","title":"How can I indicate the PathVariable for Spring REST-method?","body":"<p>I want to indicate the pathvariable secondpart. Thats not possible because an errormessage shows: Could not determine type for: veranstaltung.Identificationnumber, at table: teilnehmer, for columns: [org.hibernate.mapping.Column(id)]</p>\n<p>What I have to change to use the variable secondpart? How can I access the variable secondpart in the method of the Controller?</p>\n<pre><code>    package veranstaltung;\n\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\n\n@Entity\npublic class Teilnehmer {\n\n\nstatic int idnumber=69;\n\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate Identificationnumber id;\nprivate String name;\nprivate String vorname;\nprivate String wohnort;\n\nprotected Teilnehmer() {}\n\npublic Teilnehmer(Identificationnumber id, String name, String vorname,String wohnort)\n{\n    this.id=id;\n    this.name=name;\n    this.vorname=vorname;\n    this.wohnort=wohnort;\n}\n\n\npublic static String erzeugeID ()\n{\n    String id= &quot;JAVALAND-&quot;;\n    id=id+idnumber;\n    idnumber++;\n    return id;\n}\n\npublic String getName() {\n    return name;\n}\n\npublic void setName(String name) {\n    this.name = name;\n}\n\npublic String getVorname() {\n    return vorname;\n}\n\npublic void setVorname(String vorname) {\n    this.vorname = vorname;\n}\n\npublic String getWohnort() {\n    return wohnort;\n}\n\npublic void setWohnort(String wohnort) {\n    this.wohnort = wohnort;\n}\n\n\n@Override\npublic String toString()\n{\n    return  id.getfullID()+&quot; &quot;+getName()+&quot; &quot;+getVorname()+&quot; &quot;+getWohnort();\n}\n</code></pre>\n<p>}</p>\n<pre><code>    package veranstaltung;\n\npublic class Identificationnumber {\n\n\nprivate String firstpart;\nprivate Long secondpart;\n\npublic Identificationnumber(String firstpart, Long secondpart)\n{\n    this.firstpart=firstpart;\n    this.secondpart=secondpart;\n}\n\n\npublic String getFirstpart() {\n    return firstpart;\n}\n\npublic void setFirstpart(String firstpart) {\n    this.firstpart = firstpart;\n}\n\npublic Long getSecondpart() {\n    return secondpart;\n}\n\npublic void setSecondpart(Long secondpart) {\n    this.secondpart = secondpart;\n}\n\npublic String getfullID()\n{\n    return firstpart+' '+secondpart;\n}\n</code></pre>\n<p>}</p>\n<pre><code>    package veranstaltung;\n\nimport veranstaltung.Teilnehmer;\nimport veranstaltung.Identificationnumber;\nimport veranstaltung.TeilnehmerRepository;\n\nimport java.util.Optional;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.*;\n\n@RestController\npublic class TeilnehmerController {\n\n@Autowired\nTeilnehmerRepository teilnehmerRepository;\n\n\n@GetMapping(&quot;/teilnehmer&quot;)\n    Iterable&lt;Teilnehmer&gt; teilnehmer(){\n        return this.teilnehmerRepository.findAll();\n    }\n\n@GetMapping(&quot;/teilnehmer/{id}&quot;)\nTeilnehmer teilnehmerById(@PathVariable Long secondpart){\n    Optional&lt;Teilnehmer&gt; teilnehmerOptional = this.teilnehmerRepository.findById(secondpart);\n    if(teilnehmerOptional.isPresent()) {\n        return teilnehmerOptional.get();\n    }\n    return null;\n}\n\n}\n</code></pre>\n"},{"tags":["java","eclipse","gradle","build.gradle","buildship"],"answers":[{"tags":[],"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1656518783,"creation_date":1656518465,"answer_id":72804509,"question_id":72802628,"body_markdown":"The problem is that the *New Gradle Project* dialog invokes the Gradle `init` task with the hard-coded argument `--type java-library` and that the project layout for Gradle versions higher than 6.6.1 has a `lib` folder besides the main project folder for a project of the type `java-library` (in contrast to in Gradle 6.6.1 or lower and in contrast to a project of the type `application` independent of the Gradle version).\r\n\r\nIn the future, in the *New Gradle Project* dialog, the type `application` should also be chooseable, to get a simple project structure like in the past. But this is not implemented yet:&lt;br&gt;\r\n[Eclipse Buildship issue #1118: **Add more project templates to New Gradle Project wizard**][1] \r\n\r\nAs a **workaround** do the following:\r\n\r\n 1. In the *New Gradle Project* dialog on the second or third page, check *Override workspace settings* and\r\n    - choose as ***Specific Gradle version*** the version ***6.6.1*** and\r\n    - for ***Java home*** a **Java 11** JDK\r\n 2. In the **`build.gradle`** change `id &#39;java-library&#39;` to **`id &#39;application&#39;`**\r\n 3. In ***Project &gt; Properties: Gradle*** choose a higher Gradle version\r\n\r\nThe last two steps are only required to use a Gradle version higher than 6.6.1.\r\n\r\n  [1]: https://github.com/eclipse/buildship/issues/1118","title":"Why is the source folder in the lib folder in eclipse gradle project?","body":"<p>The problem is that the <em>New Gradle Project</em> dialog invokes the Gradle <code>init</code> task with the hard-coded argument <code>--type java-library</code> and that the project layout for Gradle versions higher than 6.6.1 has a <code>lib</code> folder besides the main project folder for a project of the type <code>java-library</code> (in contrast to in Gradle 6.6.1 or lower and in contrast to a project of the type <code>application</code> independent of the Gradle version).</p>\n<p>In the future, in the <em>New Gradle Project</em> dialog, the type <code>application</code> should also be chooseable, to get a simple project structure like in the past. But this is not implemented yet:<br>\n<a href=\"https://github.com/eclipse/buildship/issues/1118\" rel=\"nofollow noreferrer\">Eclipse Buildship issue #1118: <strong>Add more project templates to New Gradle Project wizard</strong></a></p>\n<p>As a <strong>workaround</strong> do the following:</p>\n<ol>\n<li>In the <em>New Gradle Project</em> dialog on the second or third page, check <em>Override workspace settings</em> and\n<ul>\n<li>choose as <em><strong>Specific Gradle version</strong></em> the version <em><strong>6.6.1</strong></em> and</li>\n<li>for <em><strong>Java home</strong></em> a <strong>Java 11</strong> JDK</li>\n</ul>\n</li>\n<li>In the <strong><code>build.gradle</code></strong> change <code>id 'java-library'</code> to <strong><code>id 'application'</code></strong></li>\n<li>In <em><strong>Project &gt; Properties: Gradle</strong></em> choose a higher Gradle version</li>\n</ol>\n<p>The last two steps are only required to use a Gradle version higher than 6.6.1.</p>\n"}],"owner":{"account_id":19283000,"reputation":45,"user_id":14094644,"display_name":"PaulerLeOne"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2878,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":72804509,"answer_count":1,"score":3,"last_activity_date":1656518783,"creation_date":1656510905,"question_id":72802628,"body_markdown":"When trying to create a gradle project in eclipse, the source folder, build.gradle and others are stored in a different folder called *lib* as a separate project.\r\nHow can I make all the folders be within the project folder like in a normal java project?","title":"Why is the source folder in the lib folder in eclipse gradle project?","body":"<p>When trying to create a gradle project in eclipse, the source folder, build.gradle and others are stored in a different folder called <em>lib</em> as a separate project.\nHow can I make all the folders be within the project folder like in a normal java project?</p>\n"},{"tags":["java","fibonacci"],"comments":[{"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1656172208,"post_id":72755238,"comment_id":128508960,"body_markdown":"There is no need to be checking the constraints in your code, since they are guaranteed.","body":"There is no need to be checking the constraints in your code, since they are guaranteed."},{"owner":{"account_id":7178634,"reputation":55168,"user_id":5483526,"display_name":"Matt Timmermans"},"score":3,"creation_date":1656172230,"post_id":72755238,"comment_id":128508962,"body_markdown":"Your code returns the wrong answer for N=1","body":"Your code returns the wrong answer for N=1"},{"owner":{"account_id":25645440,"reputation":332,"user_id":19413610,"display_name":"Ayan Dasgupta"},"score":0,"creation_date":1656173100,"post_id":72755238,"comment_id":128509162,"body_markdown":"@MattTimmermans cheers mate, I added the condition to return 0 should n be equal to one and it worked.","body":"@MattTimmermans cheers mate, I added the condition to return 0 should n be equal to one and it worked."}],"answers":[{"tags":[],"owner":{"account_id":15416144,"reputation":534,"user_id":11121568,"display_name":"Soroush Shemshadi"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1656174656,"creation_date":1656173218,"answer_id":72755386,"question_id":72755238,"body_markdown":"As [Matt Timmermans](https://stackoverflow.com/users/5483526/matt-timmermans) mentiond in comments section your code returns the wrong answer for `N = 1`.\r\n\r\nYour code must return `1` when the `N = 1`.\r\n\r\nYou must change your first if&#39;s condition to something like this:\r\n\r\n```java\r\nif(n ==0 || n == 1)\r\n    return n;\r\n\r\n// or better way:\r\nif(n &lt;= 1)\r\n    return n;\r\n```","title":"How to implement constraints in a Java program?","body":"<p>As <a href=\"https://stackoverflow.com/users/5483526/matt-timmermans\">Matt Timmermans</a> mentiond in comments section your code returns the wrong answer for <code>N = 1</code>.</p>\n<p>Your code must return <code>1</code> when the <code>N = 1</code>.</p>\n<p>You must change your first if's condition to something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if(n ==0 || n == 1)\n    return n;\n\n// or better way:\nif(n &lt;= 1)\n    return n;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14981336,"reputation":30,"user_id":10815252,"display_name":"Sougata Ghosh"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1656177852,"creation_date":1656173508,"answer_id":72755422,"question_id":72755238,"body_markdown":"Add a condition check for n = 1. \r\n\r\n    static int largestFibonacciNumber(int n){\r\n        if(n == 1)\r\n            return 0;\r\n    \r\n        int first = 0, second = 1;\r\n        int third = first + second;\r\n    \r\n        while(third &lt; n){\r\n            first = second;\r\n            second = third;\r\n            third = first + second;\r\n        }\r\n        return second;\r\n    }\r\n\r\nThen it won&#39;t fail for n = 1, also n = 0 check is not needed since N is expected to be greater than 0","title":"How to implement constraints in a Java program?","body":"<p>Add a condition check for n = 1.</p>\n<pre><code>static int largestFibonacciNumber(int n){\n    if(n == 1)\n        return 0;\n\n    int first = 0, second = 1;\n    int third = first + second;\n\n    while(third &lt; n){\n        first = second;\n        second = third;\n        third = first + second;\n    }\n    return second;\n}\n</code></pre>\n<p>Then it won't fail for n = 1, also n = 0 check is not needed since N is expected to be greater than 0</p>\n"},{"tags":[],"owner":{"account_id":23837295,"reputation":308,"user_id":17842877,"display_name":"xthe_white_lionx"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656518723,"creation_date":1656514138,"answer_id":72803435,"question_id":72755238,"body_markdown":"    public static int largestFibonacciNumber(int n) {\r\n        if (n == 1){\r\n            return 0;\r\n        } else {\r\n            int[] fibonacciNumbers = new int[n];\r\n            for (int i = 0; i &lt; fibonacciNumbers.length; i++) {\r\n                if (i &lt; 2) {\r\n                    fibonacciNumbers[i] = 1;\r\n                } else {\r\n                    fibonacciNumbers[i] = fibonacciNumbers[i - 2] + fibonacciNumbers[i - 1];\r\n                }\r\n            }\r\n            return fibonacciNumbers[n - 2];\r\n        }\r\n    }","title":"How to implement constraints in a Java program?","body":"<pre><code>public static int largestFibonacciNumber(int n) {\n    if (n == 1){\n        return 0;\n    } else {\n        int[] fibonacciNumbers = new int[n];\n        for (int i = 0; i &lt; fibonacciNumbers.length; i++) {\n            if (i &lt; 2) {\n                fibonacciNumbers[i] = 1;\n            } else {\n                fibonacciNumbers[i] = fibonacciNumbers[i - 2] + fibonacciNumbers[i - 1];\n            }\n        }\n        return fibonacciNumbers[n - 2];\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25645440,"reputation":332,"user_id":19413610,"display_name":"Ayan Dasgupta"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":321,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72755422,"answer_count":3,"score":1,"last_activity_date":1656518723,"creation_date":1656172009,"question_id":72755238,"body_markdown":"I was appearing for an interview where I was required to write a program to find the largest fibonacci number below N. While I successfully got the output for a lot of test cases, my code failed for *edge-test*.\r\n\r\nThis is my code:\r\n\r\n    import java.util.*;\r\n    import java.lang.Math;\r\n    \r\n    \r\n    class LargestFibonacciNumber{\r\n        public static void main(String args[]){\r\n            Scanner sc = new Scanner(System.in);\r\n            int t = sc.nextInt();\r\n            if(t&lt;=Math.pow(10,4)){\r\n                while (t--&gt;0) {\r\n                int n = sc.nextInt();\r\n                if(n &gt; 0 &amp;&amp; n&lt;= Math.pow(10,9)){\r\n                    int result = largestFibonacciNumber(n);\r\n                System.out.println(result);}\r\n                \r\n            }\r\n            sc.close();\r\n            }\r\n            \r\n        }\r\n    \r\n        static int largestFibonacciNumber(int n){\r\n            \r\n            \r\n                if(n == 0){\r\n                return 0;\r\n            }\r\n    \r\n            int first = 0, second = 1;\r\n            int third = first + second;\r\n    \r\n            while(third &lt; n){\r\n                first = second;\r\n                second = third;\r\n                third = first + second;\r\n            }\r\n    \r\n            return second;\r\n            \r\n        }\r\n    }\r\n\r\nThis is the problem statement:\r\n\r\n**Problem Description**\r\n\r\nGiven a number N, you have to find the largest Fibonacci number which is less than N.\r\n\r\n**Input Format**\r\n\r\nFirst line contains an integer T - Number of test cases.\r\n\r\nNext T lines each have a given number N\r\n\r\n**Output Format**\r\n\r\nPrint the answer for each test case in a separate line.\r\n\r\n**Constraints**\r\n\r\nT &lt;= 10^4\r\n\r\n0 &lt; N &lt;= 10^9\r\n\r\nWhat could be the issue with my code which makes it fail the *edge-test*? I&#39;m guessing it has got something to do with constraints which I&#39;m unable to understand.","title":"How to implement constraints in a Java program?","body":"<p>I was appearing for an interview where I was required to write a program to find the largest fibonacci number below N. While I successfully got the output for a lot of test cases, my code failed for <em>edge-test</em>.</p>\n<p>This is my code:</p>\n<pre><code>import java.util.*;\nimport java.lang.Math;\n\n\nclass LargestFibonacciNumber{\n    public static void main(String args[]){\n        Scanner sc = new Scanner(System.in);\n        int t = sc.nextInt();\n        if(t&lt;=Math.pow(10,4)){\n            while (t--&gt;0) {\n            int n = sc.nextInt();\n            if(n &gt; 0 &amp;&amp; n&lt;= Math.pow(10,9)){\n                int result = largestFibonacciNumber(n);\n            System.out.println(result);}\n            \n        }\n        sc.close();\n        }\n        \n    }\n\n    static int largestFibonacciNumber(int n){\n        \n        \n            if(n == 0){\n            return 0;\n        }\n\n        int first = 0, second = 1;\n        int third = first + second;\n\n        while(third &lt; n){\n            first = second;\n            second = third;\n            third = first + second;\n        }\n\n        return second;\n        \n    }\n}\n</code></pre>\n<p>This is the problem statement:</p>\n<p><strong>Problem Description</strong></p>\n<p>Given a number N, you have to find the largest Fibonacci number which is less than N.</p>\n<p><strong>Input Format</strong></p>\n<p>First line contains an integer T - Number of test cases.</p>\n<p>Next T lines each have a given number N</p>\n<p><strong>Output Format</strong></p>\n<p>Print the answer for each test case in a separate line.</p>\n<p><strong>Constraints</strong></p>\n<p>T &lt;= 10^4</p>\n<p>0 &lt; N &lt;= 10^9</p>\n<p>What could be the issue with my code which makes it fail the <em>edge-test</em>? I'm guessing it has got something to do with constraints which I'm unable to understand.</p>\n"},{"tags":["java","certificate"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":2,"creation_date":1526458958,"post_id":50363930,"comment_id":87747715,"body_markdown":"Surely the password is null rather than empty?","body":"Surely the password is null rather than empty?"},{"owner":{"account_id":1801257,"reputation":8969,"user_id":1639556,"accept_rate":79,"display_name":"Leos Literak"},"score":0,"creation_date":1526464549,"post_id":50363930,"comment_id":87751586,"body_markdown":"Wow, that works!","body":"Wow, that works!"},{"owner":{"account_id":1801257,"reputation":8969,"user_id":1639556,"accept_rate":79,"display_name":"Leos Literak"},"score":0,"creation_date":1526465939,"post_id":50363930,"comment_id":87752498,"body_markdown":"if you add an answer I will accept it. Thanks","body":"if you add an answer I will accept it. Thanks"}],"answers":[{"tags":[],"owner":{"account_id":9841098,"reputation":76,"user_id":7290095,"display_name":"Nikita Gavand"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1653921722,"creation_date":1653921722,"answer_id":72436143,"question_id":50363930,"body_markdown":"The password is incorrect or null. Also the password accepted can be base64","title":"Java keystore failed PKCS12 integrity checking but keytool works","body":"<p>The password is incorrect or null. Also the password accepted can be base64</p>\n"}],"owner":{"account_id":1801257,"reputation":8969,"user_id":1639556,"accept_rate":79,"display_name":"Leos Literak"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18189,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":72436143,"answer_count":1,"score":3,"last_activity_date":1656518475,"creation_date":1526452567,"question_id":50363930,"body_markdown":"I have some PCKS12 certificate that is being served by two environments differently. When we upload it to a DEV environment, java can parse it. But it fails on a PRODuction. The server is Microsoft DotNet solution which is responsible for a certificate manipulation. The generated keystore has empty password. When I open the certificate in Windows I can successfully import it into the operating system - without a password.\r\n\r\nI can list *DEV* certificate with keytool but the representation is strange:\r\n\r\n    Keystore type: PKCS12\r\n    Keystore provider: SunJSSE\r\n\r\n    Your keystore contains 1 entry\r\n\r\n    Alias name: {8c6xx9f-8041-49d2-95f7-3bcffxxxc8bcf}\r\n    Creation date: 15.5.2018\r\n    Entry type: PrivateKeyEntry\r\n\r\n    *******************************************\r\n    *******************************************\r\n\r\nBut I can open it in java \r\n\r\n    KeyStore keyStore = KeyStore.getInstance(&quot;pkcs12&quot;);\r\n    keyStore.load(fis, &quot;&quot;.toCharArray());\r\n\r\nAnd browse it with Keystore Explorer:\r\n[![enter image description here][1]][1]\r\n\r\nI can list the *PROD* certificate correctly with keytool:\r\n\r\n    Keystore type: PKCS12\r\n    Keystore provider: SunJSSE\r\n    \r\n    Your keystore contains 1 entry\r\n    \r\n    Alias name: {9exx43e-83f8-405d-8f74-8b1xxxeaac37}\r\n    Creation date: 15.5.2018\r\n    Entry type: PrivateKeyEntry\r\n    Certificate chain length: 1\r\n    Certificate[1]:\r\n    Owner: OID.2.5.4.13=YCCere01, CN=CZ7, DC=CZ\r\n    Issuer: CN=EET CA 1, O=Česk&#225; Republika ? Gener&#225;ln&#237; finančn&#237; ředitelstv&#237;, DC=CZ\r\n    Serial number: 84cxxxc6\r\n    Valid from: Wed May 09 16:11:43 CEST 2018 until: Sun May 09 16:11:43 CEST 2021\r\n    Certificate fingerprints:\r\n             MD5:  21:CB:24:AE:4D:F5:EE:4D:C9:6A:A0:DD:AA:2F:6F:A8\r\n             SHA1: 02:0F:6B:C2:B8:E5:18:16:F9:49:28:4F:9E:F6:63:5C:D0:6E:6B:95\r\n             SHA256: B8:37:57:66:1A:33:31:BD:DB:4E:AB:9C:E5:31:C3:18:2B:96:88:A9:1B:21:85:30:97:D9:BB:F7:84:7B:4A:52\r\n             Signature algorithm name: SHA256withRSA\r\n             Version: 3\r\n\r\nBut both java and Keystore Explorer fails to open it:\r\n\r\n    Exception in thread &quot;main&quot; java.io.IOException: Integrity check failed: \r\n    java.lang.SecurityException: Failed PKCS12 integrity checking\r\n \tat sun.security.pkcs12.PKCS12KeyStore.engineLoad(PKCS12KeyStore.java:2058)\r\n \tat java.security.KeyStore.load(KeyStore.java:1445)\r\n\tat Main.main(Main.java:17)\r\n    Caused by: java.lang.SecurityException: Failed PKCS12 integrity checking\r\n\tat sun.security.pkcs12.PKCS12KeyStore.engineLoad(PKCS12KeyStore.java:2054)\r\n\r\nAny idea where is the problem? The password is really empty because I was able to import the key into Windows without it. Keytool can list its content - so why does java API fail to open it with PKCS12 integrity checking error?\r\n\r\n  [1]: https://i.stack.imgur.com/Cjqjc.png","title":"Java keystore failed PKCS12 integrity checking but keytool works","body":"<p>I have some PCKS12 certificate that is being served by two environments differently. When we upload it to a DEV environment, java can parse it. But it fails on a PRODuction. The server is Microsoft DotNet solution which is responsible for a certificate manipulation. The generated keystore has empty password. When I open the certificate in Windows I can successfully import it into the operating system - without a password.</p>\n\n<p>I can list <em>DEV</em> certificate with keytool but the representation is strange:</p>\n\n<pre><code>Keystore type: PKCS12\nKeystore provider: SunJSSE\n\nYour keystore contains 1 entry\n\nAlias name: {8c6xx9f-8041-49d2-95f7-3bcffxxxc8bcf}\nCreation date: 15.5.2018\nEntry type: PrivateKeyEntry\n\n*******************************************\n*******************************************\n</code></pre>\n\n<p>But I can open it in java </p>\n\n<pre><code>KeyStore keyStore = KeyStore.getInstance(\"pkcs12\");\nkeyStore.load(fis, \"\".toCharArray());\n</code></pre>\n\n<p>And browse it with Keystore Explorer:\n<a href=\"https://i.stack.imgur.com/Cjqjc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Cjqjc.png\" alt=\"enter image description here\"></a></p>\n\n<p>I can list the <em>PROD</em> certificate correctly with keytool:</p>\n\n<pre><code>Keystore type: PKCS12\nKeystore provider: SunJSSE\n\nYour keystore contains 1 entry\n\nAlias name: {9exx43e-83f8-405d-8f74-8b1xxxeaac37}\nCreation date: 15.5.2018\nEntry type: PrivateKeyEntry\nCertificate chain length: 1\nCertificate[1]:\nOwner: OID.2.5.4.13=YCCere01, CN=CZ7, DC=CZ\nIssuer: CN=EET CA 1, O=Česká Republika ? Generální finanční ředitelství, DC=CZ\nSerial number: 84cxxxc6\nValid from: Wed May 09 16:11:43 CEST 2018 until: Sun May 09 16:11:43 CEST 2021\nCertificate fingerprints:\n         MD5:  21:CB:24:AE:4D:F5:EE:4D:C9:6A:A0:DD:AA:2F:6F:A8\n         SHA1: 02:0F:6B:C2:B8:E5:18:16:F9:49:28:4F:9E:F6:63:5C:D0:6E:6B:95\n         SHA256: B8:37:57:66:1A:33:31:BD:DB:4E:AB:9C:E5:31:C3:18:2B:96:88:A9:1B:21:85:30:97:D9:BB:F7:84:7B:4A:52\n         Signature algorithm name: SHA256withRSA\n         Version: 3\n</code></pre>\n\n<p>But both java and Keystore Explorer fails to open it:</p>\n\n<pre><code>Exception in thread \"main\" java.io.IOException: Integrity check failed: \njava.lang.SecurityException: Failed PKCS12 integrity checking\nat sun.security.pkcs12.PKCS12KeyStore.engineLoad(PKCS12KeyStore.java:2058)\nat java.security.KeyStore.load(KeyStore.java:1445)\nat Main.main(Main.java:17)\nCaused by: java.lang.SecurityException: Failed PKCS12 integrity checking\nat sun.security.pkcs12.PKCS12KeyStore.engineLoad(PKCS12KeyStore.java:2054)\n</code></pre>\n\n<p>Any idea where is the problem? The password is really empty because I was able to import the key into Windows without it. Keytool can list its content - so why does java API fail to open it with PKCS12 integrity checking error?</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":8063342,"reputation":681,"user_id":6078268,"display_name":"vladtkachuk"},"score":1,"creation_date":1656009218,"post_id":72734853,"comment_id":128473804,"body_markdown":"is it absolutely not an option to build jar from P1? Although it might be possible to do what you want, it would be a very dirty solution, esp for production use. Another approach would be to create a multi-module maven project and add P1 as a maven module.\nPS: on a lower level, it would be possible to include the compiled classes of P1 into the classpath of P2","body":"is it absolutely not an option to build jar from P1? Although it might be possible to do what you want, it would be a very dirty solution, esp for production use. Another approach would be to create a multi-module maven project and add P1 as a maven module. PS: on a lower level, it would be possible to include the compiled classes of P1 into the classpath of P2"},{"owner":{"display_name":"user14925447"},"score":0,"creation_date":1656009488,"post_id":72734853,"comment_id":128473890,"body_markdown":"I will try to generate a jar instead. So for my pom.xml, would I simply add a dependency to that jar?","body":"I will try to generate a jar instead. So for my pom.xml, would I simply add a dependency to that jar?"},{"owner":{"account_id":8063342,"reputation":681,"user_id":6078268,"display_name":"vladtkachuk"},"score":1,"creation_date":1656009642,"post_id":72734853,"comment_id":128473947,"body_markdown":"yes, after generating the jar and `mvn install`ing it, you should be able to reference it by its groupId &amp; artifactId &amp; version","body":"yes, after generating the jar and <code>mvn install</code>ing it, you should be able to reference it by its groupId &amp; artifactId &amp; version"}],"answers":[{"tags":[],"owner":{"display_name":"user14925447"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1656518183,"creation_date":1656518183,"answer_id":72804452,"question_id":72734853,"body_markdown":"Instead what I did was just convert the project1 to a maven project and in project2, added the dependency without needing to generate the jar. Seems like maven is smart enough to find the project and not look into the .m2 version (like if I did a mvn install).\r\n","title":"Maven how to include a Java project as a dependency","body":"<p>Instead what I did was just convert the project1 to a maven project and in project2, added the dependency without needing to generate the jar. Seems like maven is smart enough to find the project and not look into the .m2 version (like if I did a mvn install).</p>\n"}],"owner":{"display_name":"user14925447"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72804452,"answer_count":1,"score":0,"last_activity_date":1656518183,"creation_date":1656008246,"question_id":72734853,"body_markdown":"I have the following structure\r\n\r\n    --&gt;Project1 (Java SE Project)\r\n    ----&gt;src (My Java Code)\r\n\r\n    --&gt;Project2 (Maven Project)\r\n    ----&gt;pom.xml\r\n    ----&gt;src\r\n    -------&gt;main\r\n    -------&gt;test\r\n    \r\n\r\nIn Eclipse, I can configure the build path of the maven project to include Project1 and it runs fine in the IDE. However, I realized that it seems when I want to run it as a command\r\n\r\n    mvn test-compile\r\n\r\nthe Project2 can&#39;t find the project. I am thinking I need to somehow reference it in my pom.xml (which then, I can ignore the step in Eclipse to configure it on the build path).\r\n\r\nThe error is\r\n\r\n    [ERROR] package foo does not exist\r\n\r\nThe Project1 is not really being compiled into a .jar so that isn&#39;t the solution. I want the actual entire project as a reference somehow.\r\n","title":"Maven how to include a Java project as a dependency","body":"<p>I have the following structure</p>\n<pre><code>--&gt;Project1 (Java SE Project)\n----&gt;src (My Java Code)\n\n--&gt;Project2 (Maven Project)\n----&gt;pom.xml\n----&gt;src\n-------&gt;main\n-------&gt;test\n</code></pre>\n<p>In Eclipse, I can configure the build path of the maven project to include Project1 and it runs fine in the IDE. However, I realized that it seems when I want to run it as a command</p>\n<pre><code>mvn test-compile\n</code></pre>\n<p>the Project2 can't find the project. I am thinking I need to somehow reference it in my pom.xml (which then, I can ignore the step in Eclipse to configure it on the build path).</p>\n<p>The error is</p>\n<pre><code>[ERROR] package foo does not exist\n</code></pre>\n<p>The Project1 is not really being compiled into a .jar so that isn't the solution. I want the actual entire project as a reference somehow.</p>\n"},{"tags":["java","spring","spring-boot","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":4741976,"reputation":5385,"user_id":3834413,"display_name":"Eugene"},"score":0,"creation_date":1656452929,"post_id":72792100,"comment_id":128575238,"body_markdown":"Could you please show how you create Privilege entity?","body":"Could you please show how you create Privilege entity?"},{"owner":{"account_id":4741976,"reputation":5385,"user_id":3834413,"display_name":"Eugene"},"score":0,"creation_date":1656454504,"post_id":72792100,"comment_id":128575569,"body_markdown":"Probably you set Id for Privilege entity manually, it should be null in case it is a new entity. If entity has already present in DB then it should be found from DB via methods `find` or `merge`","body":"Probably you set Id for Privilege entity manually, it should be null in case it is a new entity. If entity has already present in DB then it should be found from DB via methods <code>find</code> or <code>merge</code>"},{"owner":{"account_id":2610679,"reputation":423,"user_id":2260835,"accept_rate":75,"display_name":"Discipulos"},"score":0,"creation_date":1656491023,"post_id":72792100,"comment_id":128582934,"body_markdown":"As you can see it is defined as @Id @GeneratedValue(strategy = GenerationType.IDENTITY), whereas in User:  @ManyToMany(cascade = {\n        CascadeType.PERSIST,\n        CascadeType.MERGE})\n    @JoinTable(name = &quot;user_to_privileges&quot;,\n            joinColumns = {@JoinColumn(name = &quot;user_id&quot;, referencedColumnName = &quot;id&quot;, nullable = false)},\n            inverseJoinColumns = {@JoinColumn(name = &quot;privilege_id&quot;,  referencedColumnName = &quot;id&quot;, nullable = false)})\n    private Set&lt;Privilege&gt; privileges= new HashSet&lt;&gt;();","body":"As you can see it is defined as @Id @GeneratedValue(strategy = GenerationType.IDENTITY), whereas in User:  @ManyToMany(cascade = {         CascadeType.PERSIST,         CascadeType.MERGE})     @JoinTable(name = &quot;user_to_privileges&quot;,             joinColumns = {@JoinColumn(name = &quot;user_id&quot;, referencedColumnName = &quot;id&quot;, nullable = false)},             inverseJoinColumns = {@JoinColumn(name = &quot;privilege_id&quot;,  referencedColumnName = &quot;id&quot;, nullable = false)})     private Set&lt;Privilege&gt; privileges= new HashSet&lt;&gt;();"}],"answers":[{"tags":[],"owner":{"account_id":16109706,"reputation":1,"user_id":11628261,"display_name":"George Mayko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656447905,"creation_date":1656447905,"answer_id":72792754,"question_id":72792100,"body_markdown":"As you have a @ManyToMany relationship you need to reference both objects each other.\r\n\r\n```\r\nUser user = new User();\r\nuser.addPrivileges(admin);\r\n\r\n...\r\npublic void addPrivileges(Privilege priv){\r\n   priv.addUser(this);\r\n   this.privileges.add(priv);\r\n}\r\n```\r\n\r\nTake a look in depth for an example of many to many relationship using JPA.\r\nLink:\r\nhttps://vladmihalcea.com/the-best-way-to-use-the-manytomany-annotation-with-jpa-and-hibernate/","title":"Springboot @ManyToMany throws detached entity passed","body":"<p>As you have a @ManyToMany relationship you need to reference both objects each other.</p>\n<pre><code>User user = new User();\nuser.addPrivileges(admin);\n\n...\npublic void addPrivileges(Privilege priv){\n   priv.addUser(this);\n   this.privileges.add(priv);\n}\n</code></pre>\n<p>Take a look in depth for an example of many to many relationship using JPA.\nLink:\n<a href=\"https://vladmihalcea.com/the-best-way-to-use-the-manytomany-annotation-with-jpa-and-hibernate/\" rel=\"nofollow noreferrer\">https://vladmihalcea.com/the-best-way-to-use-the-manytomany-annotation-with-jpa-and-hibernate/</a></p>\n"},{"tags":[],"owner":{"account_id":2610679,"reputation":423,"user_id":2260835,"accept_rate":75,"display_name":"Discipulos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656518131,"creation_date":1656495418,"answer_id":72799122,"question_id":72792100,"body_markdown":"It seems working using cascade = {CascadeType.MERGE, CascadeType.REFRESH}, but I have absolutely no idea why. Any hint would be very appraciated.\r\n\r\nMoreover, a double deploy emptys the joint tables","title":"Springboot @ManyToMany throws detached entity passed","body":"<p>It seems working using cascade = {CascadeType.MERGE, CascadeType.REFRESH}, but I have absolutely no idea why. Any hint would be very appraciated.</p>\n<p>Moreover, a double deploy emptys the joint tables</p>\n"}],"owner":{"account_id":2610679,"reputation":423,"user_id":2260835,"accept_rate":75,"display_name":"Discipulos"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1656518131,"creation_date":1656444162,"question_id":72792100,"body_markdown":"In my SpringBoot application I created two entities, users and privileges. I also would create a table that associates the id of the users with the id of the privileges they have.\r\nHere my User entity:\r\n\r\n \r\n\r\n    @Entity\r\n    @Table(name = &quot;user&quot;, catalog = &quot;users&quot;)\r\n    public class User implements Serializable\r\n    {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @Column(nullable = false, unique = true)\r\n    private String username;\r\n\r\n    @Column(nullable = false, unique = true)\r\n    private String mail;\r\n    \r\n    private String password;\r\n\r\n    @ManyToMany(cascade = {\r\n        CascadeType.PERSIST,\r\n        CascadeType.MERGE})\r\n    @JoinTable(name = &quot;user_to_privileges&quot;,\r\n            joinColumns = {@JoinColumn(name = &quot;user_id&quot;, referencedColumnName = &quot;id&quot;, nullable = false)},\r\n            inverseJoinColumns = {@JoinColumn(name = &quot;privilege_id&quot;,  referencedColumnName = &quot;id&quot;, nullable = false)})\r\n    private Set&lt;Privilege&gt; privileges= new HashSet&lt;&gt;();\r\n\r\n    @ManyToOne(fetch = FetchType.EAGER)\r\n    @JoinColumn(name = &quot;organization_id&quot;, nullable = false)\r\n    private Organization organization;\r\n\r\n    //\r\n\r\n    public User() {\r\n        super();\r\n    }\r\n    \r\n    public User(String username, String password, String mail, Set&lt;Privilege&gt; privileges, Organization organization) {\r\n        super();\r\n        this.username=username;\r\n        this.password=password;\r\n        this.privileges=privileges;\r\n        this.organization=organization;\r\n        this.mail=mail;        \r\n    }\r\n    //\r\n    public Long getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(Long id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getUsername() {\r\n        return username;\r\n    }\r\n\r\n    public void addPrivileges(Privilege priv)\r\n    {\r\n      priv.addUser(this);\r\n      this.privileges.add(priv);\r\n     }\r\n    \r\n    public void setUsername(String username) {\r\n        this.username = username;\r\n    }\r\n\r\n     public String getMail() {\r\n        return mail;\r\n    }\r\n\r\n    public void setMail(String mail) {\r\n        this.mail = mail;\r\n    }\r\n    \r\n    public String getPassword() {\r\n        return password;\r\n    }\r\n\r\n    public void setPassword(String password) {\r\n        this.password = password;\r\n    }\r\n\r\n    public Set&lt;Privilege&gt; getPrivileges() {\r\n        return privileges;\r\n    }\r\n\r\n    public void setPrivileges(Set&lt;Privilege&gt; privileges) {\r\n        this.privileges = privileges;\r\n    }\r\n\r\n    public Organization getOrganization() {\r\n        return organization;\r\n    }\r\n\r\n    public void setOrganization(Organization organization) {\r\n        this.organization = organization;\r\n    }\r\n\r\n    //\r\n\r\n    @Override\r\n    public String toString() {\r\n        final StringBuilder builder = new StringBuilder();\r\n        builder.append(&quot;User [id=&quot;).append(id).append(&quot;, username=&quot;).append(username).append(&quot;, password=&quot;).append(password).append(&quot;, privileges=&quot;).append(privileges).append(&quot;, organization=&quot;).append(organization).append(&quot;]&quot;);\r\n        return builder.toString();\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        final int prime = 31;\r\n        int result = 1;\r\n        result = (prime * result) + ((id == null) ? 0 : id.hashCode());\r\n        result = (prime * result) + ((organization == null) ? 0 : organization.hashCode());\r\n        result = (prime * result) + ((password == null) ? 0 : password.hashCode());\r\n        result = (prime * result) + ((privileges == null) ? 0 : privileges.hashCode());\r\n        result = (prime * result) + ((username == null) ? 0 : username.hashCode());\r\n        return result;\r\n    }\r\n\r\n    @Override\r\n    public boolean equals(Object obj) {\r\n        if (this == obj) {\r\n            return true;\r\n        }\r\n        if (obj == null) {\r\n            return false;\r\n        }\r\n        if (getClass() != obj.getClass()) {\r\n            return false;\r\n        }\r\n        final User other = (User) obj;\r\n        if (id == null) {\r\n            if (other.id != null) {\r\n                return false;\r\n            }\r\n        } else if (!id.equals(other.id)) {\r\n            return false;\r\n        }\r\n        if (organization == null) {\r\n            if (other.organization != null) {\r\n                return false;\r\n            }\r\n        } else if (!organization.equals(other.organization)) {\r\n            return false;\r\n        }\r\n        if (password == null) {\r\n            if (other.password != null) {\r\n                return false;\r\n            }\r\n        } else if (!password.equals(other.password)) {\r\n            return false;\r\n        }\r\n        if (privileges == null) {\r\n            if (other.privileges != null) {\r\n                return false;\r\n            }\r\n        } else if (!privileges.equals(other.privileges)) {\r\n            return false;\r\n        }\r\n        if (username == null) {\r\n            if (other.username != null) {\r\n                return false;\r\n            }\r\n        } else if (!username.equals(other.username)) {\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n        }\r\n    \r\n\r\n   \r\n\r\nand Privilege entity:\r\n\r\n    @Entity\r\n    @Table(name = &quot;privilege&quot;, catalog = &quot;users&quot;)\r\n     public class Privilege implements Serializable\r\n    {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @Column(nullable = false, unique = true)\r\n    private String name;\r\n\r\n    @ManyToMany(mappedBy= &quot;privileges&quot;)    \r\n    private Set&lt;User&gt; users = new HashSet&lt;&gt;();\r\n    \r\n\r\n    public Privilege() {\r\n        super();\r\n    }\r\n\r\n    public Privilege(String name) {\r\n        super();\r\n        this.name = name;\r\n    }\r\n\r\n    public void addUser(User user)\r\n    {\r\n      this.users.add(user);\r\n    }\r\n    \r\n    public Long getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(Long id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public Set &lt;User&gt; getUsers() {\r\n        return users;\r\n    }\r\n\r\n    public void getUsers(final Set&lt;User&gt; users) {\r\n        this.users = users;\r\n    }\r\n    //\r\n\r\n    @Override\r\n    public String toString() {\r\n        final StringBuilder builder = new StringBuilder();\r\n        builder.append(&quot;Privilege [id=&quot;).append(id).append(&quot;, name=&quot;).append(name).append(&quot;]&quot;);\r\n        return builder.toString();\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        final int prime = 31;\r\n        int result = 1;\r\n        result = (prime * result) + ((id == null) ? 0 : id.hashCode());\r\n        result = (prime * result) + ((name == null) ? 0 : name.hashCode());\r\n        return result;\r\n    }\r\n\r\n    @Override\r\n    public boolean equals(Object obj) {\r\n        if (this == obj) {\r\n            return true;\r\n        }\r\n        if (obj == null) {\r\n            return false;\r\n        }\r\n        if (getClass() != obj.getClass()) {\r\n            return false;\r\n        }\r\n        final Privilege other = (Privilege) obj;\r\n        if (id == null) {\r\n            if (other.id != null) {\r\n                return false;\r\n            }\r\n        } else if (!id.equals(other.id)) {\r\n            return false;\r\n        }\r\n        if (name == null) {\r\n            if (other.name != null) {\r\n                return false;\r\n            }\r\n        } else if (!name.equals(other.name)) {\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n    }\r\n\r\nCreating a user like:\r\n       \r\n\r\n            User user =new User();\r\n            user.setUsername(&quot;username&quot;);\r\n            user.setPassword(encodePassword(&quot;test&quot;));\r\n            user.setMail(mail);      \r\n            user.setOrganization(org);\r\n            user.setPrivileges(adminPriv);\r\n            userRep.save(user);\r\n    \r\nthrows an\r\n\r\n    org.hibernate.PersistentObjectException: detached entity passed to persist: it.unict.spring.application.persistence.model.user.Privilege\r\n\r\nOrganization and Privilege are correctly persisted into the database, but due to setPrivileges (or analogously the parameterized constructor of User) this error is thrown. I guess that there is something wrong with the definitions of entities but I cannot get rid. Any aidea?","title":"Springboot @ManyToMany throws detached entity passed","body":"<p>In my SpringBoot application I created two entities, users and privileges. I also would create a table that associates the id of the users with the id of the privileges they have.\nHere my User entity:</p>\n<pre><code>@Entity\n@Table(name = &quot;user&quot;, catalog = &quot;users&quot;)\npublic class User implements Serializable\n{\n\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate Long id;\n\n@Column(nullable = false, unique = true)\nprivate String username;\n\n@Column(nullable = false, unique = true)\nprivate String mail;\n\nprivate String password;\n\n@ManyToMany(cascade = {\n    CascadeType.PERSIST,\n    CascadeType.MERGE})\n@JoinTable(name = &quot;user_to_privileges&quot;,\n        joinColumns = {@JoinColumn(name = &quot;user_id&quot;, referencedColumnName = &quot;id&quot;, nullable = false)},\n        inverseJoinColumns = {@JoinColumn(name = &quot;privilege_id&quot;,  referencedColumnName = &quot;id&quot;, nullable = false)})\nprivate Set&lt;Privilege&gt; privileges= new HashSet&lt;&gt;();\n\n@ManyToOne(fetch = FetchType.EAGER)\n@JoinColumn(name = &quot;organization_id&quot;, nullable = false)\nprivate Organization organization;\n\n//\n\npublic User() {\n    super();\n}\n\npublic User(String username, String password, String mail, Set&lt;Privilege&gt; privileges, Organization organization) {\n    super();\n    this.username=username;\n    this.password=password;\n    this.privileges=privileges;\n    this.organization=organization;\n    this.mail=mail;        \n}\n//\npublic Long getId() {\n    return id;\n}\n\npublic void setId(Long id) {\n    this.id = id;\n}\n\npublic String getUsername() {\n    return username;\n}\n\npublic void addPrivileges(Privilege priv)\n{\n  priv.addUser(this);\n  this.privileges.add(priv);\n }\n\npublic void setUsername(String username) {\n    this.username = username;\n}\n\n public String getMail() {\n    return mail;\n}\n\npublic void setMail(String mail) {\n    this.mail = mail;\n}\n\npublic String getPassword() {\n    return password;\n}\n\npublic void setPassword(String password) {\n    this.password = password;\n}\n\npublic Set&lt;Privilege&gt; getPrivileges() {\n    return privileges;\n}\n\npublic void setPrivileges(Set&lt;Privilege&gt; privileges) {\n    this.privileges = privileges;\n}\n\npublic Organization getOrganization() {\n    return organization;\n}\n\npublic void setOrganization(Organization organization) {\n    this.organization = organization;\n}\n\n//\n\n@Override\npublic String toString() {\n    final StringBuilder builder = new StringBuilder();\n    builder.append(&quot;User [id=&quot;).append(id).append(&quot;, username=&quot;).append(username).append(&quot;, password=&quot;).append(password).append(&quot;, privileges=&quot;).append(privileges).append(&quot;, organization=&quot;).append(organization).append(&quot;]&quot;);\n    return builder.toString();\n}\n\n@Override\npublic int hashCode() {\n    final int prime = 31;\n    int result = 1;\n    result = (prime * result) + ((id == null) ? 0 : id.hashCode());\n    result = (prime * result) + ((organization == null) ? 0 : organization.hashCode());\n    result = (prime * result) + ((password == null) ? 0 : password.hashCode());\n    result = (prime * result) + ((privileges == null) ? 0 : privileges.hashCode());\n    result = (prime * result) + ((username == null) ? 0 : username.hashCode());\n    return result;\n}\n\n@Override\npublic boolean equals(Object obj) {\n    if (this == obj) {\n        return true;\n    }\n    if (obj == null) {\n        return false;\n    }\n    if (getClass() != obj.getClass()) {\n        return false;\n    }\n    final User other = (User) obj;\n    if (id == null) {\n        if (other.id != null) {\n            return false;\n        }\n    } else if (!id.equals(other.id)) {\n        return false;\n    }\n    if (organization == null) {\n        if (other.organization != null) {\n            return false;\n        }\n    } else if (!organization.equals(other.organization)) {\n        return false;\n    }\n    if (password == null) {\n        if (other.password != null) {\n            return false;\n        }\n    } else if (!password.equals(other.password)) {\n        return false;\n    }\n    if (privileges == null) {\n        if (other.privileges != null) {\n            return false;\n        }\n    } else if (!privileges.equals(other.privileges)) {\n        return false;\n    }\n    if (username == null) {\n        if (other.username != null) {\n            return false;\n        }\n    } else if (!username.equals(other.username)) {\n        return false;\n    }\n    return true;\n}\n    }\n</code></pre>\n<p>and Privilege entity:</p>\n<pre><code>@Entity\n@Table(name = &quot;privilege&quot;, catalog = &quot;users&quot;)\n public class Privilege implements Serializable\n{\n\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate Long id;\n\n@Column(nullable = false, unique = true)\nprivate String name;\n\n@ManyToMany(mappedBy= &quot;privileges&quot;)    \nprivate Set&lt;User&gt; users = new HashSet&lt;&gt;();\n\n\npublic Privilege() {\n    super();\n}\n\npublic Privilege(String name) {\n    super();\n    this.name = name;\n}\n\npublic void addUser(User user)\n{\n  this.users.add(user);\n}\n\npublic Long getId() {\n    return id;\n}\n\npublic void setId(Long id) {\n    this.id = id;\n}\n\npublic String getName() {\n    return name;\n}\n\npublic void setName(String name) {\n    this.name = name;\n}\n\npublic Set &lt;User&gt; getUsers() {\n    return users;\n}\n\npublic void getUsers(final Set&lt;User&gt; users) {\n    this.users = users;\n}\n//\n\n@Override\npublic String toString() {\n    final StringBuilder builder = new StringBuilder();\n    builder.append(&quot;Privilege [id=&quot;).append(id).append(&quot;, name=&quot;).append(name).append(&quot;]&quot;);\n    return builder.toString();\n}\n\n@Override\npublic int hashCode() {\n    final int prime = 31;\n    int result = 1;\n    result = (prime * result) + ((id == null) ? 0 : id.hashCode());\n    result = (prime * result) + ((name == null) ? 0 : name.hashCode());\n    return result;\n}\n\n@Override\npublic boolean equals(Object obj) {\n    if (this == obj) {\n        return true;\n    }\n    if (obj == null) {\n        return false;\n    }\n    if (getClass() != obj.getClass()) {\n        return false;\n    }\n    final Privilege other = (Privilege) obj;\n    if (id == null) {\n        if (other.id != null) {\n            return false;\n        }\n    } else if (!id.equals(other.id)) {\n        return false;\n    }\n    if (name == null) {\n        if (other.name != null) {\n            return false;\n        }\n    } else if (!name.equals(other.name)) {\n        return false;\n    }\n    return true;\n}\n}\n</code></pre>\n<p>Creating a user like:</p>\n<pre><code>        User user =new User();\n        user.setUsername(&quot;username&quot;);\n        user.setPassword(encodePassword(&quot;test&quot;));\n        user.setMail(mail);      \n        user.setOrganization(org);\n        user.setPrivileges(adminPriv);\n        userRep.save(user);\n</code></pre>\n<p>throws an</p>\n<pre><code>org.hibernate.PersistentObjectException: detached entity passed to persist: it.unict.spring.application.persistence.model.user.Privilege\n</code></pre>\n<p>Organization and Privilege are correctly persisted into the database, but due to setPrivileges (or analogously the parameterized constructor of User) this error is thrown. I guess that there is something wrong with the definitions of entities but I cannot get rid. Any aidea?</p>\n"},{"tags":["java","spring-boot","spring-security"],"comments":[{"owner":{"account_id":8206531,"reputation":364,"user_id":6176087,"display_name":"Nullish Byte"},"score":0,"creation_date":1656528935,"post_id":72804439,"comment_id":128597939,"body_markdown":"How do you plan to provide user this token at the very first place? \nUsually when you provide some credentials this token is provided by the server in response and stored in the browser.","body":"How do you plan to provide user this token at the very first place?  Usually when you provide some credentials this token is provided by the server in response and stored in the browser."},{"owner":{"account_id":14207362,"reputation":49,"user_id":10263511,"display_name":"Lee Bin"},"score":0,"creation_date":1656614280,"post_id":72804439,"comment_id":128622236,"body_markdown":"I will generate this token for each user on admin panel.  it will include user id as well.","body":"I will generate this token for each user on admin panel.  it will include user id as well."}],"owner":{"account_id":14207362,"reputation":49,"user_id":10263511,"display_name":"Lee Bin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":392,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1656518065,"creation_date":1656518065,"question_id":72804439,"body_markdown":"I am trying to implement login using some link in spring boot.\r\nfor example, the url will be `http://localhost:8080/superlogin?token=323xs232sdfddgw3`\r\nwhenever user open this url in browser, will need to decrypt the token and get user id, then make auto-login as that user. This will need to be same with normal login after that.\r\nI made normal login page and it works, but I am not sure for this link login. I am sure I need to do something in security configuration.\r\nCan anyone advise me kindly?","title":"How to implement automatic authentication using link in spring boot?","body":"<p>I am trying to implement login using some link in spring boot.\nfor example, the url will be <code>http://localhost:8080/superlogin?token=323xs232sdfddgw3</code>\nwhenever user open this url in browser, will need to decrypt the token and get user id, then make auto-login as that user. This will need to be same with normal login after that.\nI made normal login page and it works, but I am not sure for this link login. I am sure I need to do something in security configuration.\nCan anyone advise me kindly?</p>\n"},{"tags":["java","apache-spark"],"owner":{"account_id":14796686,"reputation":21,"user_id":10686147,"display_name":"Tibor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":172,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1656517928,"creation_date":1656517928,"question_id":72804402,"body_markdown":"when I execute my UDF on a local spark cluster it works as expected. When I execute it on docker VMs I get the following error :\r\n```\r\nDriver stacktrace:] with root cause\r\n\r\njava.lang.IllegalStateException: unread block data\r\n\tat java.io.ObjectInputStream$BlockDataInputStream.setBlockDataMode(ObjectInputStream.java:2934) ~[na:na]\r\n\tat java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1704) ~[na:na]\r\n\tat java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:2431) ~[na:na]\r\n\tat java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2355) ~[na:na]\r\n\tat java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2213) ~[na:na]\r\n\tat java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1669) ~[na:na]\r\n\tat java.io.ObjectInputStream.readObject(ObjectInputStream.java:503) ~[na:na]\r\n\tat java.io.ObjectInputStream.readObject(ObjectInputStream.java:461) ~[na:na]\r\n\tat org.apache.spark.serializer.JavaDeserializationStream.readObject(JavaSerializer.scala:87) ~[spark-core_2.12-3.3.0.jar:3.3.0]\r\n\tat org.apache.spark.serializer.JavaSerializerInstance.deserialize(JavaSerializer.scala:129) ~[spark-core_2.12-3.3.0.jar:3.3.0]\r\n\tat org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:507) ~[spark-core_2.12-3.3.0.jar:3.3.0]\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[na:na]\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[na:na]\r\n\tat java.lang.Thread.run(Thread.java:750) ~[na:na]\r\n```\r\n\r\nThe driver code:\r\n```\r\n        StructType structType = new StructType()\r\n                .add(&quot;number&quot;, DataTypes.IntegerType)\r\n                .add(&quot;factorial&quot;, DataTypes.IntegerType);\r\n\r\n        List&lt;Row&gt; rows = numbers.stream().map(i -&gt; new GenericRowWithSchema(new Integer[]{i, i}, structType)).collect(Collectors.toList());\r\n        JavaRDD&lt;Row&gt; words = sparkContext.parallelize(rows);\r\n\r\n        UserDefinedFunction factorialFunction = udf(\r\n                new Factorial(), DataTypes.LongType\r\n        );\r\n\r\n        sparkSession.udf().register(&quot;factorialFunction&quot;, factorialFunction);\r\n\r\n        Dataset&lt;Row&gt; dataFrame = sparkSession.createDataFrame(words, structType);\r\n        //&gt;&gt;next line fails in cluster mode. local mode works fine\r\n        //https://stackoverflow.com/questions/28186607/java-lang-classcastexception-using-lambda-expressions-in-spark-job-on-remote-ser/28367602#28367602\r\n        List&lt;Row&gt; result = dataFrame.select(col(&quot;number&quot;), factorialFunction.apply(col(&quot;factorial&quot;))).collectAsList();\r\n        return result.stream().distinct().collect(Collectors.toMap(e -&gt; (Integer) e.get(0), e -&gt; (Long) e.get(1)));\r\n```\r\nThe Spark configuration:\r\n```\r\nnew SparkConf()\r\n                .setAppName(appName)\r\n                .setMaster(masterUri)\r\n                .setJars(new String[]{&quot;target/hello-spark-0.0.1-SNAPSHOT.jar&quot;})\r\n                .set(&quot;spark.serializer&quot;, &quot;org.apache.spark.serializer.KryoSerializer&quot;)\r\n                .set(&quot;spark.kryo.registrationRequired&quot;, &quot;true&quot;)\r\n                .registerKryoClasses(new Class[]{\r\n                        Factorial.class,\r\n                        WordCountService.class,\r\n                        GenericRowWithSchema.class,\r\n                        StructType.class,\r\n                        StructField.class,\r\n                        StructField[].class,\r\n                        IntegerType$.class,\r\n                        Metadata.class,\r\n                        Integer[].class})\r\n```\r\nThe default spring profile executes on the local cluster, the profile &#39;local&#39; will connect to one master-spark node which delegates to two worker nodes. I also tried the Java serialization which led me to \r\n```\r\njava.lang.ClassCastException: cannot assign instance of java.lang.invoke.SerializedLambda to field org.apache.spark.rdd.MapPartitionsRDD.f of type scala.Function3 in instance of org.apache.spark.rdd.MapPartitionsRDD\r\n\tat java.io.ObjectStreamClass$FieldReflector.setObjFieldValues(ObjectStreamClass.java:2301) ~[na:na]\r\n\tat java.io.ObjectStreamClass.setObjFieldValues(ObjectStreamClass.java:1431) ~[na:na]\r\n\tat java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:2437) ~[na:na]\r\n\tat java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2355) ~[na:na]\r\n\tat java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2213) ~[na:na]\r\n\tat java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1669) ~[na:na]\r\n\tat java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:2431) ~[na:na]\r\n\tat java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2355) ~[na:na]\r\n\tat java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2213) ~[na:na]\r\n\tat java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1669) ~[na:na]\r\n\tat java.io.ObjectInputStream.readObject(ObjectInputStream.java:503) ~[na:na]\r\n\tat java.io.ObjectInputStream.readObject(ObjectInputStream.java:461) ~[na:na]\r\n\tat scala.collection.immutable.List$SerializationProxy.readObject(List.scala:527) ~[scala-library-2.12.15.jar:na]\r\n\tat sun.reflect.GeneratedMethodAccessor4.invoke(Unknown Source) ~[na:na]\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.lang.reflect.Method.invoke(Method.java:498) ~[na:na]\r\n\tat java.io.ObjectStreamClass.invokeReadObject(ObjectStreamClass.java:1184) ~[na:na]\r\n\tat java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2322) ~[na:na]\r\n\tat java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2213) ~[na:na]\r\n\tat java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1669) ~[na:na]\r\n\tat java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:2431) ~[na:na]\r\n\tat java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2355) ~[na:na]\r\n\tat java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2213) ~[na:na]\r\n\tat java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1669) ~[na:na]\r\n\tat java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:2431) ~[na:na]\r\n\tat java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2355) ~[na:na]\r\n\tat java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2213) ~[na:na]\r\n\tat java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1669) ~[na:na]\r\n\tat java.io.ObjectInputStream.readObject(ObjectInputStream.java:503) ~[na:na]\r\n\tat java.io.ObjectInputStream.readObject(ObjectInputStream.java:461) ~[na:na]\r\n\tat org.apache.spark.serializer.JavaDeserializationStream.readObject(JavaSerializer.scala:87) ~[spark-core_2.12-3.3.0.jar:3.3.0]\r\n\tat org.apache.spark.serializer.JavaSerializerInstance.deserialize(JavaSerializer.scala:129) ~[spark-core_2.12-3.3.0.jar:3.3.0]\r\n\tat org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:83) ~[spark-core_2.12-3.3.0.jar:3.3.0]\r\n\tat org.apache.spark.scheduler.Task.run(Task.scala:136) ~[spark-core_2.12-3.3.0.jar:3.3.0]\r\n\tat org.apache.spark.executor.Executor$TaskRunner.$anonfun$run$3(Executor.scala:548) ~[spark-core_2.12-3.3.0.jar:3.3.0]\r\n\tat org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1504) ~[spark-core_2.12-3.3.0.jar:3.3.0]\r\n\tat org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:551) ~[spark-core_2.12-3.3.0.jar:3.3.0]\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[na:na]\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[na:na]\r\n\tat java.lang.Thread.run(Thread.java:750) ~[na:na]\r\n``` \r\n\r\nI also looked up all the corresponding problems on SO. I can see during startup, that the jar file is loaded:\r\n\r\n```\r\norg.apache.spark.SparkContext: Added JAR target/hello-spark-0.0.1-SNAPSHOT.jar at spark://192.168.178.172:54061/jars/hello-spark-0.0.1-SNAPSHOT.jar with timestamp 1656517689330\r\n```\r\n\r\nPlease help, I spent 2 days, still no luck.\r\n\r\nKind Regards","title":"Apache Spark: java.lang.IllegalStateException: unread block data Serialization issue","body":"<p>when I execute my UDF on a local spark cluster it works as expected. When I execute it on docker VMs I get the following error :</p>\n<pre><code>Driver stacktrace:] with root cause\n\njava.lang.IllegalStateException: unread block data\n    at java.io.ObjectInputStream$BlockDataInputStream.setBlockDataMode(ObjectInputStream.java:2934) ~[na:na]\n    at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1704) ~[na:na]\n    at java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:2431) ~[na:na]\n    at java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2355) ~[na:na]\n    at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2213) ~[na:na]\n    at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1669) ~[na:na]\n    at java.io.ObjectInputStream.readObject(ObjectInputStream.java:503) ~[na:na]\n    at java.io.ObjectInputStream.readObject(ObjectInputStream.java:461) ~[na:na]\n    at org.apache.spark.serializer.JavaDeserializationStream.readObject(JavaSerializer.scala:87) ~[spark-core_2.12-3.3.0.jar:3.3.0]\n    at org.apache.spark.serializer.JavaSerializerInstance.deserialize(JavaSerializer.scala:129) ~[spark-core_2.12-3.3.0.jar:3.3.0]\n    at org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:507) ~[spark-core_2.12-3.3.0.jar:3.3.0]\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[na:na]\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[na:na]\n    at java.lang.Thread.run(Thread.java:750) ~[na:na]\n</code></pre>\n<p>The driver code:</p>\n<pre><code>        StructType structType = new StructType()\n                .add(&quot;number&quot;, DataTypes.IntegerType)\n                .add(&quot;factorial&quot;, DataTypes.IntegerType);\n\n        List&lt;Row&gt; rows = numbers.stream().map(i -&gt; new GenericRowWithSchema(new Integer[]{i, i}, structType)).collect(Collectors.toList());\n        JavaRDD&lt;Row&gt; words = sparkContext.parallelize(rows);\n\n        UserDefinedFunction factorialFunction = udf(\n                new Factorial(), DataTypes.LongType\n        );\n\n        sparkSession.udf().register(&quot;factorialFunction&quot;, factorialFunction);\n\n        Dataset&lt;Row&gt; dataFrame = sparkSession.createDataFrame(words, structType);\n        //&gt;&gt;next line fails in cluster mode. local mode works fine\n        //https://stackoverflow.com/questions/28186607/java-lang-classcastexception-using-lambda-expressions-in-spark-job-on-remote-ser/28367602#28367602\n        List&lt;Row&gt; result = dataFrame.select(col(&quot;number&quot;), factorialFunction.apply(col(&quot;factorial&quot;))).collectAsList();\n        return result.stream().distinct().collect(Collectors.toMap(e -&gt; (Integer) e.get(0), e -&gt; (Long) e.get(1)));\n</code></pre>\n<p>The Spark configuration:</p>\n<pre><code>new SparkConf()\n                .setAppName(appName)\n                .setMaster(masterUri)\n                .setJars(new String[]{&quot;target/hello-spark-0.0.1-SNAPSHOT.jar&quot;})\n                .set(&quot;spark.serializer&quot;, &quot;org.apache.spark.serializer.KryoSerializer&quot;)\n                .set(&quot;spark.kryo.registrationRequired&quot;, &quot;true&quot;)\n                .registerKryoClasses(new Class[]{\n                        Factorial.class,\n                        WordCountService.class,\n                        GenericRowWithSchema.class,\n                        StructType.class,\n                        StructField.class,\n                        StructField[].class,\n                        IntegerType$.class,\n                        Metadata.class,\n                        Integer[].class})\n</code></pre>\n<p>The default spring profile executes on the local cluster, the profile 'local' will connect to one master-spark node which delegates to two worker nodes. I also tried the Java serialization which led me to</p>\n<pre><code>java.lang.ClassCastException: cannot assign instance of java.lang.invoke.SerializedLambda to field org.apache.spark.rdd.MapPartitionsRDD.f of type scala.Function3 in instance of org.apache.spark.rdd.MapPartitionsRDD\n    at java.io.ObjectStreamClass$FieldReflector.setObjFieldValues(ObjectStreamClass.java:2301) ~[na:na]\n    at java.io.ObjectStreamClass.setObjFieldValues(ObjectStreamClass.java:1431) ~[na:na]\n    at java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:2437) ~[na:na]\n    at java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2355) ~[na:na]\n    at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2213) ~[na:na]\n    at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1669) ~[na:na]\n    at java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:2431) ~[na:na]\n    at java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2355) ~[na:na]\n    at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2213) ~[na:na]\n    at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1669) ~[na:na]\n    at java.io.ObjectInputStream.readObject(ObjectInputStream.java:503) ~[na:na]\n    at java.io.ObjectInputStream.readObject(ObjectInputStream.java:461) ~[na:na]\n    at scala.collection.immutable.List$SerializationProxy.readObject(List.scala:527) ~[scala-library-2.12.15.jar:na]\n    at sun.reflect.GeneratedMethodAccessor4.invoke(Unknown Source) ~[na:na]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[na:na]\n    at java.io.ObjectStreamClass.invokeReadObject(ObjectStreamClass.java:1184) ~[na:na]\n    at java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2322) ~[na:na]\n    at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2213) ~[na:na]\n    at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1669) ~[na:na]\n    at java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:2431) ~[na:na]\n    at java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2355) ~[na:na]\n    at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2213) ~[na:na]\n    at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1669) ~[na:na]\n    at java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:2431) ~[na:na]\n    at java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2355) ~[na:na]\n    at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2213) ~[na:na]\n    at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1669) ~[na:na]\n    at java.io.ObjectInputStream.readObject(ObjectInputStream.java:503) ~[na:na]\n    at java.io.ObjectInputStream.readObject(ObjectInputStream.java:461) ~[na:na]\n    at org.apache.spark.serializer.JavaDeserializationStream.readObject(JavaSerializer.scala:87) ~[spark-core_2.12-3.3.0.jar:3.3.0]\n    at org.apache.spark.serializer.JavaSerializerInstance.deserialize(JavaSerializer.scala:129) ~[spark-core_2.12-3.3.0.jar:3.3.0]\n    at org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:83) ~[spark-core_2.12-3.3.0.jar:3.3.0]\n    at org.apache.spark.scheduler.Task.run(Task.scala:136) ~[spark-core_2.12-3.3.0.jar:3.3.0]\n    at org.apache.spark.executor.Executor$TaskRunner.$anonfun$run$3(Executor.scala:548) ~[spark-core_2.12-3.3.0.jar:3.3.0]\n    at org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1504) ~[spark-core_2.12-3.3.0.jar:3.3.0]\n    at org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:551) ~[spark-core_2.12-3.3.0.jar:3.3.0]\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[na:na]\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[na:na]\n    at java.lang.Thread.run(Thread.java:750) ~[na:na]\n</code></pre>\n<p>I also looked up all the corresponding problems on SO. I can see during startup, that the jar file is loaded:</p>\n<pre><code>org.apache.spark.SparkContext: Added JAR target/hello-spark-0.0.1-SNAPSHOT.jar at spark://192.168.178.172:54061/jars/hello-spark-0.0.1-SNAPSHOT.jar with timestamp 1656517689330\n</code></pre>\n<p>Please help, I spent 2 days, still no luck.</p>\n<p>Kind Regards</p>\n"},{"tags":["java","cassandra","datastax-java-driver"],"answers":[{"tags":[],"owner":{"account_id":60456,"reputation":55961,"user_id":1054558,"accept_rate":100,"display_name":"Aaron"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656508517,"creation_date":1656508517,"answer_id":72802064,"question_id":72798801,"body_markdown":"One thing I see, is that you&#39;re checking `dataCenter` for `null`, but you&#39;re not checking if it&#39;s empty.  So if `dataCenter` was equal to `&quot;&quot;` (an empty string) it would get past the check for null, but still not apply a valid `dataCenter`.  Therefore, it&#39;s considered a better practice to validate strings in Java like this, instead:\r\n\r\n    if ( dataCenter != null &amp;&amp; !dataCenter.isEmpty() ) {\r\n        builder.withLocalDatacenter( dataCenter );\r\n    }\r\n\r\nBut I think the core problem here, is that `dataCenter` isn&#39;t getting a value.  I&#39;d verify that.","title":"Connecting to Cassandra with Java driver, getting error &quot;local DC must be explicitly set&quot;","body":"<p>One thing I see, is that you're checking <code>dataCenter</code> for <code>null</code>, but you're not checking if it's empty.  So if <code>dataCenter</code> was equal to <code>&quot;&quot;</code> (an empty string) it would get past the check for null, but still not apply a valid <code>dataCenter</code>.  Therefore, it's considered a better practice to validate strings in Java like this, instead:</p>\n<pre><code>if ( dataCenter != null &amp;&amp; !dataCenter.isEmpty() ) {\n    builder.withLocalDatacenter( dataCenter );\n}\n</code></pre>\n<p>But I think the core problem here, is that <code>dataCenter</code> isn't getting a value.  I'd verify that.</p>\n"},{"tags":[],"owner":{"account_id":5357170,"reputation":14233,"user_id":4269535,"display_name":"Erick Ramirez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656517750,"creation_date":1656517750,"answer_id":72804362,"question_id":72798801,"body_markdown":"Based on the code snippet you provided, `dataCenter` is undefined and hasn&#39;t been initialised. As a result the test condition doesn&#39;t get satisfied so `withLocalDatacenter()` doesn&#39;t get called.\r\n\r\nIn any case as the error message states, you need to explicitly tell the driver the name of the local DC so checking whether `dataCenter` is null or empty is bad practice.\r\n\r\nInstead, you should always specify the data centre local to your app. For example:\r\n\r\n```\r\ndatastax-java-driver {\r\n  basic.load-balancing-policy {\r\n    local-datacenter = DC1\r\n  }\r\n}\r\n```\r\n\r\nOf course when you&#39;re programatically building the session configuration,  *always* make a call to `withLocalDatacenter()`, for example:\r\n\r\n```\r\nCqlSession session = CqlSession.builder()\r\n    .withLocalDatacenter(&quot;DC1&quot;)\r\n    .build();\r\n```\r\n\r\nFor details, see [Load balancing in the Java driver][1].\r\n\r\n\r\n  [1]: https://docs.datastax.com/en/developer/java-driver/latest/manual/core/load_balancing/","title":"Connecting to Cassandra with Java driver, getting error &quot;local DC must be explicitly set&quot;","body":"<p>Based on the code snippet you provided, <code>dataCenter</code> is undefined and hasn't been initialised. As a result the test condition doesn't get satisfied so <code>withLocalDatacenter()</code> doesn't get called.</p>\n<p>In any case as the error message states, you need to explicitly tell the driver the name of the local DC so checking whether <code>dataCenter</code> is null or empty is bad practice.</p>\n<p>Instead, you should always specify the data centre local to your app. For example:</p>\n<pre><code>datastax-java-driver {\n  basic.load-balancing-policy {\n    local-datacenter = DC1\n  }\n}\n</code></pre>\n<p>Of course when you're programatically building the session configuration,  <em>always</em> make a call to <code>withLocalDatacenter()</code>, for example:</p>\n<pre><code>CqlSession session = CqlSession.builder()\n    .withLocalDatacenter(&quot;DC1&quot;)\n    .build();\n</code></pre>\n<p>For details, see <a href=\"https://docs.datastax.com/en/developer/java-driver/latest/manual/core/load_balancing/\" rel=\"nofollow noreferrer\">Load balancing in the Java driver</a>.</p>\n"}],"owner":{"account_id":3425729,"reputation":419,"user_id":2871531,"accept_rate":0,"display_name":"DbSchema"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":634,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1656517750,"creation_date":1656494001,"question_id":72798801,"body_markdown":"I try to create a connection using given paramters.\r\n```\r\nCqlSessionBuilder builder = CqlSession.builder();\r\n        int port = 9042;\r\n        for ( String host : hosts ){\r\n            int idx = host.indexOf(&quot;:&quot;);\r\n            if ( idx &gt; 0 ){\r\n                port = Integer.parseInt( host.substring( idx +1).trim() );\r\n                host = host.substring( 0, idx ).trim();\r\n            }\r\n            builder.addContactPoint( new InetSocketAddress( host, port ) );\r\n            if (sslEnabled) {\r\n                //builder.withSSL();\r\n            }\r\n        }\r\n        if ( dataCenter != null ) builder.withLocalDatacenter( dataCenter );\r\n        if ( userName != null &amp;&amp; !userName.isEmpty() &amp;&amp; password != null ) {\r\n            builder.withAuthCredentials(userName, password);\r\n        }\r\n        return builder.build();\r\n```\r\nWhen connecting, I get this error:\r\n\r\n```\r\nSince you provided explicit contact points, the local DC must be explicitly set.\r\n```\r\n\r\nThere is a builder.withLocalDatacenter() in the code.\r\n\r\nWhat could be wrong?","title":"Connecting to Cassandra with Java driver, getting error &quot;local DC must be explicitly set&quot;","body":"<p>I try to create a connection using given paramters.</p>\n<pre><code>CqlSessionBuilder builder = CqlSession.builder();\n        int port = 9042;\n        for ( String host : hosts ){\n            int idx = host.indexOf(&quot;:&quot;);\n            if ( idx &gt; 0 ){\n                port = Integer.parseInt( host.substring( idx +1).trim() );\n                host = host.substring( 0, idx ).trim();\n            }\n            builder.addContactPoint( new InetSocketAddress( host, port ) );\n            if (sslEnabled) {\n                //builder.withSSL();\n            }\n        }\n        if ( dataCenter != null ) builder.withLocalDatacenter( dataCenter );\n        if ( userName != null &amp;&amp; !userName.isEmpty() &amp;&amp; password != null ) {\n            builder.withAuthCredentials(userName, password);\n        }\n        return builder.build();\n</code></pre>\n<p>When connecting, I get this error:</p>\n<pre><code>Since you provided explicit contact points, the local DC must be explicitly set.\n</code></pre>\n<p>There is a builder.withLocalDatacenter() in the code.</p>\n<p>What could be wrong?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":16711774,"reputation":26,"user_id":12078863,"display_name":"Albert Rovsing"},"score":0,"creation_date":1656510534,"post_id":72802491,"comment_id":128590806,"body_markdown":"https://stackoverflow.com/questions/2255220/how-to-parse-a-json-and-turn-its-values-into-an-array","body":"<a href=\"https://stackoverflow.com/questions/2255220/how-to-parse-a-json-and-turn-its-values-into-an-array\" title=\"how to parse a json and turn its values into an array\">stackoverflow.com/questions/2255220/&hellip;</a>"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1656510542,"post_id":72802491,"comment_id":128590809,"body_markdown":"`{&quot;Tpid&quot;:&quot;23&quot;, &quot;45&quot;}` isn&#39;t valid JSON object since `&quot;45&quot;` doesn&#39;t have its *key*. Please try to avoid adding to question unrelated problems so we all wouldn&#39;t waste our time (you because you are not really interested in it, others because problem they are pointing out/trying to solve probably doesn&#39;t even exists in your real scenario).","body":"<code>{&quot;Tpid&quot;:&quot;23&quot;, &quot;45&quot;}</code> isn&#39;t valid JSON object since <code>&quot;45&quot;</code> doesn&#39;t have its <i>key</i>. Please try to avoid adding to question unrelated problems so we all wouldn&#39;t waste our time (you because you are not really interested in it, others because problem they are pointing out/trying to solve probably doesn&#39;t even exists in your real scenario)."},{"owner":{"account_id":6665833,"reputation":9,"user_id":5143497,"display_name":"Tiwari Richa"},"score":0,"creation_date":1656511973,"post_id":72802491,"comment_id":128591462,"body_markdown":"@Pshemo- I have added the screen shot.","body":"@Pshemo- I have added the screen shot."},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":1,"creation_date":1656512534,"post_id":72802491,"comment_id":128591711,"body_markdown":"The screenshot shows a single string containing two numbers separated by a comma. That is very different from what you show in the text. Please edit your question to show &quot;23,45&quot; instead of &quot;23&quot;,&quot;45&quot;.","body":"The screenshot shows a single string containing two numbers separated by a comma. That is very different from what you show in the text. Please edit your question to show &quot;23,45&quot; instead of &quot;23&quot;,&quot;45&quot;."},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1656512587,"post_id":72802491,"comment_id":128591735,"body_markdown":"Anyway, the answer is that &quot;23,45&quot; is returned as just a string. You can use `String.split` to split it yourself.","body":"Anyway, the answer is that &quot;23,45&quot; is returned as just a string. You can use <code>String.split</code> to split it yourself."},{"owner":{"account_id":6665833,"reputation":9,"user_id":5143497,"display_name":"Tiwari Richa"},"score":0,"creation_date":1656516590,"post_id":72802491,"comment_id":128593612,"body_markdown":"Thanks @k314159, I have changed it now but I am not able to get the list in the format I mentioned. Can you please advice how to do it?","body":"Thanks @k314159, I have changed it now but I am not able to get the list in the format I mentioned. Can you please advice how to do it?"},{"owner":{"account_id":6665833,"reputation":9,"user_id":5143497,"display_name":"Tiwari Richa"},"score":0,"creation_date":1656516710,"post_id":72802491,"comment_id":128593669,"body_markdown":"I am using String [] arr=jsonArray.toString(). split(&quot;:&quot;) And it is giving &quot;23, 45&quot;}]","body":"I am using String [] arr=jsonArray.toString(). split(&quot;:&quot;) And it is giving &quot;23, 45&quot;}]"},{"owner":{"account_id":4617916,"reputation":107677,"user_id":3744182,"display_name":"dbc"},"score":0,"creation_date":1656517092,"post_id":72802491,"comment_id":128593838,"body_markdown":"Please [edit] your question to include your code and JSON as **text** rather than as a screenshot. On stack overflow images should not be used for textual content, see [*Discourage screenshots of code and/or errors*](https://meta.stackoverflow.com/a/307500) and [*Why not upload images of code on SO when asking a question*](https://meta.stackoverflow.com/a/285557) for why. For instructions on formatting see *[How do I format my code blocks?](https://meta.stackexchange.com/q/22186)*. A [mcve] showing what you have tried that did not work would maximize your chances of getting help. See [ask].","body":"Please <a href=\"https://stackoverflow.com/posts/72802491/edit\">edit</a> your question to include your code and JSON as <b>text</b> rather than as a screenshot. On stack overflow images should not be used for textual content, see <a href=\"https://meta.stackoverflow.com/a/307500\"><i>Discourage screenshots of code and/or errors</i></a> and <a href=\"https://meta.stackoverflow.com/a/285557\"><i>Why not upload images of code on SO when asking a question</i></a> for why. For instructions on formatting see <i><a href=\"https://meta.stackexchange.com/q/22186\">How do I format my code blocks?</a></i>. A <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> showing what you have tried that did not work would maximize your chances of getting help. See <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."},{"owner":{"account_id":25376058,"reputation":1338,"user_id":19189183,"display_name":"Sayan Bhattacharya"},"score":0,"creation_date":1656518813,"post_id":72802491,"comment_id":128594500,"body_markdown":"Please take down your screenshot. Now Everyone knows the code is for Which company. The leaking of codes of a company in a public forum may not end up well if they find out.","body":"Please take down your screenshot. Now Everyone knows the code is for Which company. The leaking of codes of a company in a public forum may not end up well if they find out."}],"answers":[{"tags":[],"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656517675,"creation_date":1656517675,"answer_id":72804340,"question_id":72802491,"body_markdown":"You JSonArray is `[{&quot;Tpid&quot;:&quot;23, 45&quot;}]`. What you want to extract is `&quot;23, 45&quot;`.\r\n\r\nYour array contains one JSON object. That JSON object is at index 0 of your array.\r\n\r\nSo, first, use your JSON library to retrieve your JSON object as the first element of your JSON  array.\r\n\r\nThen, get the value from your JSON object.\r\n\r\nAnd finally, take the value and split it.\r\n\r\nExample (pseudocode depending on your JSON library):\r\n\r\n    JSONObject jsonObject = jsonArray.get(0);\r\n    String value = jsonObject.getAsString(&quot;Tpid&quot;);\r\n    String[] arrayOfValues = value.split(&quot;, &quot;);","title":"How to convert Json Array to String list","body":"<p>You JSonArray is <code>[{&quot;Tpid&quot;:&quot;23, 45&quot;}]</code>. What you want to extract is <code>&quot;23, 45&quot;</code>.</p>\n<p>Your array contains one JSON object. That JSON object is at index 0 of your array.</p>\n<p>So, first, use your JSON library to retrieve your JSON object as the first element of your JSON  array.</p>\n<p>Then, get the value from your JSON object.</p>\n<p>And finally, take the value and split it.</p>\n<p>Example (pseudocode depending on your JSON library):</p>\n<pre><code>JSONObject jsonObject = jsonArray.get(0);\nString value = jsonObject.getAsString(&quot;Tpid&quot;);\nString[] arrayOfValues = value.split(&quot;, &quot;);\n</code></pre>\n"}],"owner":{"account_id":6665833,"reputation":9,"user_id":5143497,"display_name":"Tiwari Richa"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":140,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1656572806,"answer_count":1,"score":-1,"last_activity_date":1656517675,"creation_date":1656510340,"question_id":72802491,"body_markdown":"[enter image description here][1]I have below JsonArry\r\n\r\n[{&quot;Tpid&quot;:&quot;23, 45&quot;}]\r\nand want to convert in stringList in below format \r\nlist=[23, 45]\r\nCan anyone please help? Please note that it can contain 1k list also. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/AChCX.jpg","title":"How to convert Json Array to String list","body":"<p><a href=\"https://i.stack.imgur.com/AChCX.jpg\" rel=\"nofollow noreferrer\">enter image description here</a>I have below JsonArry</p>\n<p>[{&quot;Tpid&quot;:&quot;23, 45&quot;}]\nand want to convert in stringList in below format\nlist=[23, 45]\nCan anyone please help? Please note that it can contain 1k list also.</p>\n"},{"tags":["java","functional-programming"],"answers":[{"tags":[],"owner":{"account_id":61566,"reputation":68924,"user_id":183406,"accept_rate":74,"display_name":"meriton"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656516257,"creation_date":1656516257,"answer_id":72804004,"question_id":72803744,"body_markdown":"Yes, by using an intermediary variable:\r\n\r\n        Function&lt;Derived1, String&gt; function1 = serviceClass::method1;\r\n        Function&lt;Derived2, String&gt; function2 = serviceClass::method2;        \r\n        Function&lt;? extends Base, String&gt; function = condition ? function1 : function2;\r\n\r\nThat said, you won&#39;t be able to invoke `function`, because you don&#39;t know whether to pass a `Derived1` or a `Derived2`, or as the compiler puts it:\r\n\r\n        function.apply(new Derived2()); \r\n        // error: The method apply(capture#1-of ? extends Base) in the type Function&lt;capture#1-of ? extends Base,String&gt; is not applicable for the arguments (Derived2)\r\n\r\n\r\nYou could, however, use generics to abstract over the argument type:\r\n\r\n    &lt;T extends Base&gt; invokeSafely(Function&lt;T, String&gt; function, T argument) {\r\n        function.apply(argument);\r\n    }\r\n\r\nwhich would allow you to write\r\n\r\n    invokeSafely(serviceClass::method1, new Derived1());\r\n    invokeSafely(serviceClass::method2, new Derived2());\r\n\r\nbut not\r\n\r\n    invokeSafely(function, new Derived1()); // same error as before","title":"Using wildcard with Generic method","body":"<p>Yes, by using an intermediary variable:</p>\n<pre><code>    Function&lt;Derived1, String&gt; function1 = serviceClass::method1;\n    Function&lt;Derived2, String&gt; function2 = serviceClass::method2;        \n    Function&lt;? extends Base, String&gt; function = condition ? function1 : function2;\n</code></pre>\n<p>That said, you won't be able to invoke <code>function</code>, because you don't know whether to pass a <code>Derived1</code> or a <code>Derived2</code>, or as the compiler puts it:</p>\n<pre><code>    function.apply(new Derived2()); \n    // error: The method apply(capture#1-of ? extends Base) in the type Function&lt;capture#1-of ? extends Base,String&gt; is not applicable for the arguments (Derived2)\n</code></pre>\n<p>You could, however, use generics to abstract over the argument type:</p>\n<pre><code>&lt;T extends Base&gt; invokeSafely(Function&lt;T, String&gt; function, T argument) {\n    function.apply(argument);\n}\n</code></pre>\n<p>which would allow you to write</p>\n<pre><code>invokeSafely(serviceClass::method1, new Derived1());\ninvokeSafely(serviceClass::method2, new Derived2());\n</code></pre>\n<p>but not</p>\n<pre><code>invokeSafely(function, new Derived1()); // same error as before\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656516612,"creation_date":1656516612,"answer_id":72804101,"question_id":72803744,"body_markdown":"```\r\n//Incompatible types: Base is not convertible to Derived1\r\nFunction&lt;? extends Base,String&gt; function1 = serviceClass::method1; \r\n```\r\n\r\nIt&#39;s some weird quirk of type inference that I don&#39;t fully understand. It&#39;s inferring `Function&lt;Base,String&gt;` from the left-hand side and trying to apply it to the right-hand-side.\r\n\r\nYou can fix it like this. The cast is safe:\r\n\r\n```\r\nFunction&lt;? extends Base,String&gt; function1 = (Function&lt;Derived1, String&gt;) serviceClass::method1;\r\n```\r\n\r\nor this:\r\n\r\n```\r\nFunction&lt;Derived1, String&gt; tmp = serviceClass::method1;\r\nFunction&lt;? extends Base,String&gt; function1 = tmp;\r\n```\r\n\r\nIt&#39;s worth noting that you can never invoke this function (except with `null`), since you have thrown away the knowledge of what type of argument it expects. `? extends Base` is *something* that extends Base (i.e. Derived1 or Derived2) but we don&#39;t know which.\r\n\r\n```\r\n//Incompatible types: Object is not convertible to Derived1            \r\nFunction&lt;?,String&gt; function2 = serviceClass::method1;\r\n```         \r\n\r\nSame issue as the first one, except it&#39;s inferring Object instead of Base.\r\n\r\n```\r\n//Incompatible types: Base is not convertible to Derived2\r\nFunction&lt;? super Base,String&gt; function3 = serviceClass::method2;\r\n```\r\n\r\nDerived1 or Derived2 are not **super**classes of Base. They are subclasses. Only Object is a superclass of Base. `method2` does not expect `Object`.","title":"Using wildcard with Generic method","body":"<pre><code>//Incompatible types: Base is not convertible to Derived1\nFunction&lt;? extends Base,String&gt; function1 = serviceClass::method1; \n</code></pre>\n<p>It's some weird quirk of type inference that I don't fully understand. It's inferring <code>Function&lt;Base,String&gt;</code> from the left-hand side and trying to apply it to the right-hand-side.</p>\n<p>You can fix it like this. The cast is safe:</p>\n<pre><code>Function&lt;? extends Base,String&gt; function1 = (Function&lt;Derived1, String&gt;) serviceClass::method1;\n</code></pre>\n<p>or this:</p>\n<pre><code>Function&lt;Derived1, String&gt; tmp = serviceClass::method1;\nFunction&lt;? extends Base,String&gt; function1 = tmp;\n</code></pre>\n<p>It's worth noting that you can never invoke this function (except with <code>null</code>), since you have thrown away the knowledge of what type of argument it expects. <code>? extends Base</code> is <em>something</em> that extends Base (i.e. Derived1 or Derived2) but we don't know which.</p>\n<pre><code>//Incompatible types: Object is not convertible to Derived1            \nFunction&lt;?,String&gt; function2 = serviceClass::method1;\n</code></pre>\n<p>Same issue as the first one, except it's inferring Object instead of Base.</p>\n<pre><code>//Incompatible types: Base is not convertible to Derived2\nFunction&lt;? super Base,String&gt; function3 = serviceClass::method2;\n</code></pre>\n<p>Derived1 or Derived2 are not <strong>super</strong>classes of Base. They are subclasses. Only Object is a superclass of Base. <code>method2</code> does not expect <code>Object</code>.</p>\n"}],"owner":{"account_id":19170500,"reputation":165,"user_id":14004337,"display_name":"Raman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72804004,"answer_count":2,"score":1,"last_activity_date":1656517336,"creation_date":1656515246,"question_id":72803744,"body_markdown":"Would like to get some advise on it\r\n\r\nMy class structure is like this\r\n\r\n    public abstract class Base {}\r\n    public class Derived1 extends Base {}\r\n    public class Derived2 extends Base {}\r\n\r\n    public class ServiceClass {\r\n        public String method1(Derived1 derived1) {\r\n            return &quot;derived1&quot;;\r\n        }\r\n        public String method2(Derived2 derived2) {\r\n            return &quot;derived2&quot;;\r\n        }\r\n    }\r\n\r\nIn my main code (MainProg),I am trying to use the same function to refer to the 2 methods in service class and seeing the compilation error as put in the comment\r\n\r\n    public class MainProg {\r\n        public static void main(String[] args) {\r\n            ServiceClass serviceClass = new ServiceClass();\r\n\r\n            //Incompatible types: Base is not convertible to Derived1\r\n            Function&lt;? extends Base,String&gt; function1 = serviceClass::method1; \r\n    \r\n            //Incompatible types: Object is not convertible to Derived1            \r\n            Function&lt;?,String&gt; function2 = serviceClass::method1;\r\n                \r\n            //Incompatible types: Base is not convertible to Derived2\r\n            Function&lt;? super Base,String&gt; function3 = serviceClass::method2;\r\n        }\r\n    }\r\n\r\nIs there a way to declare my function object so that same function object can be used to refer to methods taking different type of arguments?","title":"Using wildcard with Generic method","body":"<p>Would like to get some advise on it</p>\n<p>My class structure is like this</p>\n<pre><code>public abstract class Base {}\npublic class Derived1 extends Base {}\npublic class Derived2 extends Base {}\n\npublic class ServiceClass {\n    public String method1(Derived1 derived1) {\n        return &quot;derived1&quot;;\n    }\n    public String method2(Derived2 derived2) {\n        return &quot;derived2&quot;;\n    }\n}\n</code></pre>\n<p>In my main code (MainProg),I am trying to use the same function to refer to the 2 methods in service class and seeing the compilation error as put in the comment</p>\n<pre><code>public class MainProg {\n    public static void main(String[] args) {\n        ServiceClass serviceClass = new ServiceClass();\n\n        //Incompatible types: Base is not convertible to Derived1\n        Function&lt;? extends Base,String&gt; function1 = serviceClass::method1; \n\n        //Incompatible types: Object is not convertible to Derived1            \n        Function&lt;?,String&gt; function2 = serviceClass::method1;\n            \n        //Incompatible types: Base is not convertible to Derived2\n        Function&lt;? super Base,String&gt; function3 = serviceClass::method2;\n    }\n}\n</code></pre>\n<p>Is there a way to declare my function object so that same function object can be used to refer to methods taking different type of arguments?</p>\n"},{"tags":["java","applicationcontext","spring-orm"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1624969239,"post_id":68178543,"comment_id":120497427,"body_markdown":"Spring 5 doesn&#39;t support hibernate 3 (which is what the exception is clearly telling you as well). You need to upgrade to Hibernate 5 as well and use the Hibernate way of registering custom types.","body":"Spring 5 doesn&#39;t support hibernate 3 (which is what the exception is clearly telling you as well). You need to upgrade to Hibernate 5 as well and use the Hibernate way of registering custom types."},{"owner":{"account_id":13345304,"reputation":101,"user_id":9632236,"display_name":"Sarat Kumar"},"score":0,"creation_date":1624969527,"post_id":68178543,"comment_id":120497556,"body_markdown":"Yes. I updated to Hibernate 5x.","body":"Yes. I updated to Hibernate 5x."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1624969618,"post_id":68178543,"comment_id":120497601,"body_markdown":"Then you need to ditch this and use the Hibernate5 way of registering custom types.","body":"Then you need to ditch this and use the Hibernate5 way of registering custom types."},{"owner":{"account_id":13345304,"reputation":101,"user_id":9632236,"display_name":"Sarat Kumar"},"score":0,"creation_date":1624970258,"post_id":68178543,"comment_id":120497909,"body_markdown":"Ok. TypeDefinitionBean class is deprecated. Could you please tell me what I need to use instead of that?","body":"Ok. TypeDefinitionBean class is deprecated. Could you please tell me what I need to use instead of that?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1624972689,"post_id":68178543,"comment_id":120498985,"body_markdown":"The regular way of HIbernate to register those, as documented by Hibernate.","body":"The regular way of HIbernate to register those, as documented by Hibernate."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1624973392,"post_id":68178543,"comment_id":120499300,"body_markdown":"Which is by using the `@Type` annotation on the fields that need it.","body":"Which is by using the <code>@Type</code> annotation on the fields that need it."}],"owner":{"account_id":13345304,"reputation":101,"user_id":9632236,"display_name":"Sarat Kumar"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1656517237,"creation_date":1624969040,"question_id":68178543,"body_markdown":"Currently, I am converting the spring-orm 3x version to 5x. and Hibenate 3x to 5x. My applicationcontext.xml file have a configuration \r\n```xml\r\n&lt;property name=&quot;typeDefinitions&quot;&gt;\r\n\t\t\t&lt;list&gt;\r\n\t\t\t\t&lt;bean\r\n\t\t\t\t\tclass=&quot;org.springframework.orm.hibernate3.TypeDefinitionBean&quot;&gt;\r\n\t\t\t\t\t&lt;property name=&quot;typeName&quot; value=&quot;varchar_enum&quot; /&gt;\r\n\t\t\t\t\t&lt;property name=&quot;typeClass&quot;\r\n\t\t\t\t\t\tvalue=&quot;xxx.xxx.xxx&quot; /&gt;\r\n\t\t\t\t&lt;/bean&gt;\r\n\t\t\t\t&lt;bean\r\n\t\t\t\t\tclass=&quot;org.springframework.orm.hibernate3.TypeDefinitionBean&quot;&gt;\r\n\t\t\t\t\t&lt;property name=&quot;typeName&quot; value=&quot;trimmed_string&quot; /&gt;\r\n\t\t\t\t\t&lt;property name=&quot;typeClass&quot;\r\n\t\t\t\t\t\tvalue=&quot;xxx.xxx.xxx&quot; /&gt;\r\n\t\t\t\t&lt;/bean&gt;\r\n\t\t\t&lt;/list&gt;\r\n\t\t&lt;/property&gt;","title":"Spring-orm 5x version","body":"<p>Currently, I am converting the spring-orm 3x version to 5x. and Hibenate 3x to 5x. My applicationcontext.xml file have a configuration</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;property name=&quot;typeDefinitions&quot;&gt;\n            &lt;list&gt;\n                &lt;bean\n                    class=&quot;org.springframework.orm.hibernate3.TypeDefinitionBean&quot;&gt;\n                    &lt;property name=&quot;typeName&quot; value=&quot;varchar_enum&quot; /&gt;\n                    &lt;property name=&quot;typeClass&quot;\n                        value=&quot;xxx.xxx.xxx&quot; /&gt;\n                &lt;/bean&gt;\n                &lt;bean\n                    class=&quot;org.springframework.orm.hibernate3.TypeDefinitionBean&quot;&gt;\n                    &lt;property name=&quot;typeName&quot; value=&quot;trimmed_string&quot; /&gt;\n                    &lt;property name=&quot;typeClass&quot;\n                        value=&quot;xxx.xxx.xxx&quot; /&gt;\n                &lt;/bean&gt;\n            &lt;/list&gt;\n        &lt;/property&gt;\n</code></pre>\n"},{"tags":["java","json","xpath","jackson","jsonpath"],"comments":[{"owner":{"account_id":2237265,"reputation":26976,"user_id":1973271,"accept_rate":100,"display_name":"flup"},"score":0,"creation_date":1417507385,"post_id":27244431,"comment_id":42964256,"body_markdown":"PropertyUtils has a setProperty method as well, have you tried that?","body":"PropertyUtils has a setProperty method as well, have you tried that?"},{"owner":{"account_id":5404044,"reputation":861,"user_id":4303068,"accept_rate":74,"display_name":"vaibhavcool20"},"score":0,"creation_date":1417510608,"post_id":27244431,"comment_id":42965877,"body_markdown":"@flup setProperty code is not working its not giving any error but its not changing the value either","body":"@flup setProperty code is not working its not giving any error but its not changing the value either"},{"owner":{"account_id":2237265,"reputation":26976,"user_id":1973271,"accept_rate":100,"display_name":"flup"},"score":0,"creation_date":1417510901,"post_id":27244431,"comment_id":42966025,"body_markdown":"The object tree lives in memory only. So after you change the value in the object tree, you have to serialize it back to file.","body":"The object tree lives in memory only. So after you change the value in the object tree, you have to serialize it back to file."},{"owner":{"account_id":5404044,"reputation":861,"user_id":4303068,"accept_rate":74,"display_name":"vaibhavcool20"},"score":0,"creation_date":1417513692,"post_id":27244431,"comment_id":42967564,"body_markdown":"@flup  &lt;br/&gt;                                                    PropertyUtils.setProperty(jsonObj, &quot;session.name&quot;, &quot;lkihilh&quot;);\nmapper.writeValue(json file ,jsonObj);   this will write the entire  json code in a file if the file is big it consume a lot of time Is their in other way to do it","body":"@flup  &lt;br/&gt;                                                    PropertyUtils.setProperty(jsonObj, &quot;session.name&quot;, &quot;lkihilh&quot;); mapper.writeValue(json file ,jsonObj);   this will write the entire  json code in a file if the file is big it consume a lot of time Is their in other way to do it"},{"owner":{"account_id":2237265,"reputation":26976,"user_id":1973271,"accept_rate":100,"display_name":"flup"},"score":0,"creation_date":1417517218,"post_id":27244431,"comment_id":42969660,"body_markdown":"If the file is big, reading it into memory will take a lot of memory and writing it will take a lot of time. Such is the way of things ;) Is this your actual question then? How to edit JSON files in a streaming way, or even in place on the harddisk? Or merely how to do this using Jackson and PropertyUtils?","body":"If the file is big, reading it into memory will take a lot of memory and writing it will take a lot of time. Such is the way of things ;) Is this your actual question then? How to edit JSON files in a streaming way, or even in place on the harddisk? Or merely how to do this using Jackson and PropertyUtils?"},{"owner":{"account_id":5404044,"reputation":861,"user_id":4303068,"accept_rate":74,"display_name":"vaibhavcool20"},"score":0,"creation_date":1417595929,"post_id":27244431,"comment_id":43005036,"body_markdown":"@flup initially that was my question now my question is there a way to edit json file without re writing the entire file. so that it can be more code be efficient.","body":"@flup initially that was my question now my question is there a way to edit json file without re writing the entire file. so that it can be more code be efficient."},{"owner":{"account_id":2237265,"reputation":26976,"user_id":1973271,"accept_rate":100,"display_name":"flup"},"score":1,"creation_date":1417617946,"post_id":27244431,"comment_id":43018360,"body_markdown":"Probably best to create a new question for the new question :)","body":"Probably best to create a new question for the new question :)"}],"answers":[{"tags":[],"owner":{"account_id":5404044,"reputation":861,"user_id":4303068,"accept_rate":74,"display_name":"vaibhavcool20"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1417514231,"creation_date":1417514231,"answer_id":27246485,"question_id":27244431,"body_markdown":"    PropertyUtils.setProperty(jsonObj, &quot;session.value&quot;, &quot;new value&quot;);\r\n  \t\t\tPropertyUtils.setProperty(jsonObj, &quot;session.name&quot;, &quot;new name&quot;);\r\n  \t\t\tmapper.writeValue(Json File ,jsonObj);\r\n  \t\t\t\r\n","title":"How to change values in a json file using XPath/JsonPath in java","body":"<pre><code>PropertyUtils.setProperty(jsonObj, \"session.value\", \"new value\");\n        PropertyUtils.setProperty(jsonObj, \"session.name\", \"new name\");\n        mapper.writeValue(Json File ,jsonObj);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":253352,"reputation":1869,"user_id":531988,"display_name":"kalle"},"down_vote_count":0,"up_vote_count":47,"is_accepted":true,"score":47,"last_activity_date":1424766171,"creation_date":1424766171,"answer_id":28691028,"question_id":27244431,"body_markdown":"Using [Jayways JsonPath][1] you can:\r\n\r\n    private static final Configuration configuration = Configuration.builder()\r\n\t\t.jsonProvider(new JacksonJsonNodeJsonProvider())\r\n\t\t.mappingProvider(new JacksonMappingProvider())\r\n\t\t.build();\r\n\r\n\t@Test\r\n\tpublic void a_value_can_be_updated(){\r\n\r\n\t\tString originalJson = &quot;{\\n&quot;\r\n\t\t\t+ &quot;\\&quot;session\\&quot;:\\n&quot;\r\n\t\t\t+ &quot;    {\\n&quot;\r\n\t\t\t+ &quot;        \\&quot;name\\&quot;:\\&quot;JSESSIONID\\&quot;,\\n&quot;\r\n\t\t\t+ &quot;        \\&quot;value\\&quot;:\\&quot;5864FD56A1F84D5B0233E641B5D63B52\\&quot;\\n&quot;\r\n\t\t\t+ &quot;    },\\n&quot;\r\n\t\t\t+ &quot;\\&quot;loginInfo\\&quot;:\\n&quot;\r\n\t\t\t+ &quot;    {\\n&quot;\r\n\t\t\t+ &quot;        \\&quot;loginCount\\&quot;:77,\\n&quot;\r\n\t\t\t+ &quot;        \\&quot;previousLoginTime\\&quot;:\\&quot;2014-12-02T11:11:58.561+0530\\&quot;\\n&quot;\r\n\t\t\t+ &quot;    }\\n&quot;\r\n\t\t\t+ &quot;}&quot;;\r\n\r\n\t\tJsonNode updatedJson = JsonPath.using(configuration).parse(originalJson).set(&quot;$.session.name&quot;, &quot;MYSESSINID&quot;).json();\r\n\r\n\t\tSystem.out.println(updatedJson.toString());\r\n\t}\r\n\r\nYou can configure the default JsonProvider so you don&#39;t have to pass it in all calls.\r\n \r\n  [1]: https://github.com/jayway/JsonPath","title":"How to change values in a json file using XPath/JsonPath in java","body":"<p>Using <a href=\"https://github.com/jayway/JsonPath\" rel=\"noreferrer\">Jayways JsonPath</a> you can:</p>\n\n<pre><code>private static final Configuration configuration = Configuration.builder()\n    .jsonProvider(new JacksonJsonNodeJsonProvider())\n    .mappingProvider(new JacksonMappingProvider())\n    .build();\n\n@Test\npublic void a_value_can_be_updated(){\n\n    String originalJson = \"{\\n\"\n        + \"\\\"session\\\":\\n\"\n        + \"    {\\n\"\n        + \"        \\\"name\\\":\\\"JSESSIONID\\\",\\n\"\n        + \"        \\\"value\\\":\\\"5864FD56A1F84D5B0233E641B5D63B52\\\"\\n\"\n        + \"    },\\n\"\n        + \"\\\"loginInfo\\\":\\n\"\n        + \"    {\\n\"\n        + \"        \\\"loginCount\\\":77,\\n\"\n        + \"        \\\"previousLoginTime\\\":\\\"2014-12-02T11:11:58.561+0530\\\"\\n\"\n        + \"    }\\n\"\n        + \"}\";\n\n    JsonNode updatedJson = JsonPath.using(configuration).parse(originalJson).set(\"$.session.name\", \"MYSESSINID\").json();\n\n    System.out.println(updatedJson.toString());\n}\n</code></pre>\n\n<p>You can configure the default JsonProvider so you don't have to pass it in all calls.</p>\n"},{"tags":[],"owner":{"account_id":2720893,"reputation":1730,"user_id":2347210,"accept_rate":67,"display_name":"Vladi"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1626607048,"creation_date":1603704829,"answer_id":64534531,"question_id":27244431,"body_markdown":"the easiest way i found to exchange inside Json  (When my **Body** is a **JSONObject**)\r\n\r\n    import com.jayway.jsonpath.JsonPath;\r\n\r\n\r\n    JsonPath.parse(Body).set(fieldPath, Value);","title":"How to change values in a json file using XPath/JsonPath in java","body":"<p>the easiest way i found to exchange inside Json  (When my <strong>Body</strong> is a <strong>JSONObject</strong>)</p>\n<pre><code>import com.jayway.jsonpath.JsonPath;\n\n\nJsonPath.parse(Body).set(fieldPath, Value);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2135127,"reputation":1100,"user_id":1895111,"accept_rate":43,"display_name":"Justin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656517212,"creation_date":1656516180,"answer_id":72803982,"question_id":27244431,"body_markdown":"I tried Kalle&#39;s way, it always said jsonPath not found when I am adding a new field.\r\n\r\nSo I used this updated way to add a new field\r\n\r\n```\r\n\t\t@Test\r\n\t    public void a_node_can_be_updated_and_created() throws ParseException{\r\n\t\t\r\n\t\tSystem.out.println(originalJson);\r\n\t\tJSONObject json = (JSONObject)new JSONParser(JSONParser.DEFAULT_PERMISSIVE_MODE).parse(originalJson);\r\n\t\tJSONObject session = JsonPath.read(json, &quot;$.session&quot;);\r\n\t\tsession.appendField(&quot;new__field&quot;, &quot;new__value&quot;);   \t\t// add a new field\r\n\t\tsession.put(&quot;name&quot;, &quot;Justin2&quot;);   \t\t\t\t\t\t// update an existing field\r\n\t\tSystem.out.println(JsonFormatter.prettyPrint(json.toJSONString()) );\r\n\t\t\r\n\t}\r\n```\r\n\r\nThis new way also doesn&#39;t need Jackson library, only Jayway.\r\n","title":"How to change values in a json file using XPath/JsonPath in java","body":"<p>I tried Kalle's way, it always said jsonPath not found when I am adding a new field.</p>\n<p>So I used this updated way to add a new field</p>\n<pre><code>        @Test\n        public void a_node_can_be_updated_and_created() throws ParseException{\n        \n        System.out.println(originalJson);\n        JSONObject json = (JSONObject)new JSONParser(JSONParser.DEFAULT_PERMISSIVE_MODE).parse(originalJson);\n        JSONObject session = JsonPath.read(json, &quot;$.session&quot;);\n        session.appendField(&quot;new__field&quot;, &quot;new__value&quot;);        // add a new field\n        session.put(&quot;name&quot;, &quot;Justin2&quot;);                         // update an existing field\n        System.out.println(JsonFormatter.prettyPrint(json.toJSONString()) );\n        \n    }\n</code></pre>\n<p>This new way also doesn't need Jackson library, only Jayway.</p>\n"}],"owner":{"account_id":5404044,"reputation":861,"user_id":4303068,"accept_rate":74,"display_name":"vaibhavcool20"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30899,"favorite_count":0,"down_vote_count":0,"up_vote_count":23,"accepted_answer_id":28691028,"answer_count":4,"score":23,"last_activity_date":1656517212,"creation_date":1417507058,"question_id":27244431,"body_markdown":"here is the json file \r\n\r\n    {\r\n    \t&quot;session&quot;:\r\n    \t\t{\r\n    \t\t\t&quot;name&quot;:&quot;JSESSIONID&quot;,\r\n    \t\t\t&quot;value&quot;:&quot;5864FD56A1F84D5B0233E641B5D63B52&quot;\r\n    \t\t},\r\n    \t&quot;loginInfo&quot;:\r\n    \t\t{\r\n    \t\t\t&quot;loginCount&quot;:77,\r\n    \t\t\t&quot;previousLoginTime&quot;:&quot;2014-12-02T11:11:58.561+0530&quot;\r\n    \t\t}\r\n    }\r\n\r\nI want to change the value of name.by directly giving XPath/JsonPath Like\r\n\r\n `($.session.name).changevalue(&quot;MYSESSINID&quot;)`\r\nthis is just a Example\r\n\r\nI am correctly using jackson library and using the below code for reading via XPath\r\n\r\n    ObjectMapper mapper = new ObjectMapper();\r\n\r\n  \t\t\tObject jsonObj=mapper.readValue(new File(Json file), Object.class);\r\n  \t\t\tObject name=PropertyUtils.getProperty(jsonObj, &quot;session.name&quot;);\r\n  \t\t\tSystem.out.println(&quot;Name:&quot;+name);\r\n so is their a way to change the name by XPath\r\n\r\n    PropertyUtils.setProperty(jsonObj, &quot;session.value&quot;, &quot;new value&quot;);\r\n\r\nstill in the file its not working.\r\n","title":"How to change values in a json file using XPath/JsonPath in java","body":"<p>here is the json file </p>\n\n<pre><code>{\n    \"session\":\n        {\n            \"name\":\"JSESSIONID\",\n            \"value\":\"5864FD56A1F84D5B0233E641B5D63B52\"\n        },\n    \"loginInfo\":\n        {\n            \"loginCount\":77,\n            \"previousLoginTime\":\"2014-12-02T11:11:58.561+0530\"\n        }\n}\n</code></pre>\n\n<p>I want to change the value of name.by directly giving XPath/JsonPath Like</p>\n\n<p><code>($.session.name).changevalue(\"MYSESSINID\")</code>\nthis is just a Example</p>\n\n<p>I am correctly using jackson library and using the below code for reading via XPath</p>\n\n<pre><code>ObjectMapper mapper = new ObjectMapper();\n\n        Object jsonObj=mapper.readValue(new File(Json file), Object.class);\n        Object name=PropertyUtils.getProperty(jsonObj, \"session.name\");\n        System.out.println(\"Name:\"+name);\n</code></pre>\n\n<p>so is their a way to change the name by XPath</p>\n\n<pre><code>PropertyUtils.setProperty(jsonObj, \"session.value\", \"new value\");\n</code></pre>\n\n<p>still in the file its not working.</p>\n"},{"tags":["java","api","maven","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":36734,"reputation":392127,"user_id":104891,"display_name":"CrazyCoder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656516863,"creation_date":1656516863,"answer_id":72804163,"question_id":72804063,"body_markdown":"Your IntelliJ IDEA version has no support for JDK 18 as this IDE version was released long before JDK 18 which has introduced some changes to the layout and required updated support from the IDE side. Please [update to the current IDE release](https://www.jetbrains.com/idea/download/index.html).","title":"Cannot determine path to &#39;tools.jar&#39; library for openjdk-18","body":"<p>Your IntelliJ IDEA version has no support for JDK 18 as this IDE version was released long before JDK 18 which has introduced some changes to the layout and required updated support from the IDE side. Please <a href=\"https://www.jetbrains.com/idea/download/index.html\" rel=\"nofollow noreferrer\">update to the current IDE release</a>.</p>\n"}],"owner":{"account_id":24913919,"reputation":33,"user_id":18783116,"display_name":"Sunny"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2944,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72804163,"answer_count":1,"score":1,"last_activity_date":1656516863,"creation_date":1656516493,"question_id":72804063,"body_markdown":"I am working with Maven for the first time. But I couldn&#39;t progress because of the error. I tried many things like Invalidate Caches,  JDK version, Maven version etc. How can I fix it? \r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/h5LGF.png\r\n\r\nIntellij 2020.02\r\nJDK 14","title":"Cannot determine path to &#39;tools.jar&#39; library for openjdk-18","body":"<p>I am working with Maven for the first time. But I couldn't progress because of the error. I tried many things like Invalidate Caches,  JDK version, Maven version etc. How can I fix it?\n<a href=\"https://i.stack.imgur.com/h5LGF.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Intellij 2020.02\nJDK 14</p>\n"},{"tags":["java","sql","spring","hazelcast"],"answers":[{"tags":[],"owner":{"account_id":7592512,"reputation":3070,"user_id":5759723,"display_name":"Neil Stevenson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656516596,"creation_date":1656516596,"answer_id":72804092,"question_id":72803309,"body_markdown":"Yes, see [Hazelcast 5.1 or later](https://docs.hazelcast.com/hazelcast/5.1/sql/functions-and-operators#string-functions)\r\n\r\nIf your key is a string then you could do something like\r\n```\r\nSELECT DISTINCT(SUBSTRING(__key FROM 1 FOR 2)) FROM m\r\n```\r\nassuming the length is fixed.\r\n\r\nIf the length isn&#39;t fixed, just make the key a POJO, and use\r\n```\r\nSELECT DISTINCT(field1) FROM m\r\n```","title":"Is there a way to query unique substrings/prefixes of keys in hazelcast map using sql predicate?","body":"<p>Yes, see <a href=\"https://docs.hazelcast.com/hazelcast/5.1/sql/functions-and-operators#string-functions\" rel=\"nofollow noreferrer\">Hazelcast 5.1 or later</a></p>\n<p>If your key is a string then you could do something like</p>\n<pre><code>SELECT DISTINCT(SUBSTRING(__key FROM 1 FOR 2)) FROM m\n</code></pre>\n<p>assuming the length is fixed.</p>\n<p>If the length isn't fixed, just make the key a POJO, and use</p>\n<pre><code>SELECT DISTINCT(field1) FROM m\n</code></pre>\n"}],"owner":{"account_id":18731783,"reputation":65,"user_id":13657000,"display_name":"Oscar Andersson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656516596,"creation_date":1656513658,"question_id":72803309,"body_markdown":"Using Java, spring, hazelcast, map\r\n\r\nIn a map all keys are obviously unique, but I&#39;m searching for a way to query all unique prefixes or substrings?\r\n\r\nsuch that I find \r\n\r\n    groupId1\r\n    groupId2\r\n\r\nif I query this map\r\n\r\n    groupId1 + &quot;_&quot; + key1, value 1\r\n    groupId1 + &quot;_&quot; + key2, value 2\r\n    groupId2 + &quot;_&quot; + key1, value 3\r\n\r\n\r\nI have looked here but don&#39;t find anything that satisfies my requirement.\r\nhttps://docs.hazelcast.com/imdg/4.2/query/how-distributed-query-works\r\n\r\nAny help is appreciated.\r\n","title":"Is there a way to query unique substrings/prefixes of keys in hazelcast map using sql predicate?","body":"<p>Using Java, spring, hazelcast, map</p>\n<p>In a map all keys are obviously unique, but I'm searching for a way to query all unique prefixes or substrings?</p>\n<p>such that I find</p>\n<pre><code>groupId1\ngroupId2\n</code></pre>\n<p>if I query this map</p>\n<pre><code>groupId1 + &quot;_&quot; + key1, value 1\ngroupId1 + &quot;_&quot; + key2, value 2\ngroupId2 + &quot;_&quot; + key1, value 3\n</code></pre>\n<p>I have looked here but don't find anything that satisfies my requirement.\n<a href=\"https://docs.hazelcast.com/imdg/4.2/query/how-distributed-query-works\" rel=\"nofollow noreferrer\">https://docs.hazelcast.com/imdg/4.2/query/how-distributed-query-works</a></p>\n<p>Any help is appreciated.</p>\n"},{"tags":["java","spring","kotlin"],"comments":[{"owner":{"account_id":13774089,"reputation":2593,"user_id":9940820,"display_name":"AlexT"},"score":0,"creation_date":1656516408,"post_id":72803962,"comment_id":128593549,"body_markdown":"Not sure atm about catching that, especially since you have not mentioned what you want to happen after the error has been caught. But the quickest solution would be to use a default value. `@Value(&quot;${secret_name:not given}&quot;)` or something else, and then base your logic on that value, or have a check in the `init` of the class, etc.","body":"Not sure atm about catching that, especially since you have not mentioned what you want to happen after the error has been caught. But the quickest solution would be to use a default value. <code>@Value(&quot;${secret_name:not given}&quot;)</code> or something else, and then base your logic on that value, or have a check in the <code>init</code> of the class, etc."},{"owner":{"account_id":3731798,"reputation":5057,"user_id":3103891,"display_name":"GalAbra"},"score":0,"creation_date":1656516954,"post_id":72803962,"comment_id":128593783,"body_markdown":"Thank you for your answer! I do have `{}` as a default value, which doesn&#39;t work","body":"Thank you for your answer! I do have <code>{}</code> as a default value, which doesn&#39;t work"},{"owner":{"account_id":13774089,"reputation":2593,"user_id":9940820,"display_name":"AlexT"},"score":1,"creation_date":1656518395,"post_id":72803962,"comment_id":128594349,"body_markdown":"Oh, just noticed. I&#39;m not sure, I&#39;ve never had that issue with default. Maybe that  `{}` is not an issue, but have you tried something else? Like `[]` or I don&#39;t know, `abc`. Just as a test, spring is fiddly sometimes, and maybe, just maybe it doesn&#39;t like the `{}` since those are already present in the declaration? It is a long shot, and maybe a silly attempt, but it might solve it.","body":"Oh, just noticed. I&#39;m not sure, I&#39;ve never had that issue with default. Maybe that  <code>{}</code> is not an issue, but have you tried something else? Like <code>[]</code> or I don&#39;t know, <code>abc</code>. Just as a test, spring is fiddly sometimes, and maybe, just maybe it doesn&#39;t like the <code>{}</code> since those are already present in the declaration? It is a long shot, and maybe a silly attempt, but it might solve it."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1656569344,"post_id":72803962,"comment_id":128605757,"body_markdown":"The default will only work if `secret_name` doesn&#39;t exists, it doesn&#39;t work if the resolved `secret_name` doesn&#39;t exist. If you know it doesn&#39;t work in an environment use a different profile which has a hardcoded value for that secret (or omit the bean with with `@Profile` or something  like that.","body":"The default will only work if <code>secret_name</code> doesn&#39;t exists, it doesn&#39;t work if the resolved <code>secret_name</code> doesn&#39;t exist. If you know it doesn&#39;t work in an environment use a different profile which has a hardcoded value for that secret (or omit the bean with with <code>@Profile</code> or something  like that."}],"owner":{"account_id":3731798,"reputation":5057,"user_id":3103891,"display_name":"GalAbra"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1656516094,"creation_date":1656516094,"question_id":72803962,"body_markdown":"I&#39;m using Spring to inject a GCP Secret into a variable, using the following code:\r\n\r\n```kotlin\r\n@Value(&quot;\\${secret_name:{}}&quot;)\r\nprivate lateinit var secretValue: String\r\n```\r\n\r\nIn my `application.yaml` file I map `secret_name` to GCP&#39;s Secret Manager to a secret that doesn&#39;t necessarily exist (depending on the environment).\r\n\r\nIf this secret doesn&#39;t exist I get the following error, while trying to run my application:\r\n\r\n&gt; Application run failed\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name **\\&lt;ServiceName&gt;**: Injection of autowired dependencies failed; nested exception is com.google.api.gax.rpc.NotFoundException: io.grpc.StatusRuntimeException: NOT_FOUND: Secret [projects/**\\&lt;project_id&gt;**/secrets/**\\&lt;secret_name&gt;**] not found or has no versions.\r\n\r\nHow can I catch this error while the `@Value` runs &quot;behind the scenes&quot;?","title":"Catching an error while Spring injects a value","body":"<p>I'm using Spring to inject a GCP Secret into a variable, using the following code:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Value(&quot;\\${secret_name:{}}&quot;)\nprivate lateinit var secretValue: String\n</code></pre>\n<p>In my <code>application.yaml</code> file I map <code>secret_name</code> to GCP's Secret Manager to a secret that doesn't necessarily exist (depending on the environment).</p>\n<p>If this secret doesn't exist I get the following error, while trying to run my application:</p>\n<blockquote>\n<p>Application run failed\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name <strong>&lt;ServiceName&gt;</strong>: Injection of autowired dependencies failed; nested exception is com.google.api.gax.rpc.NotFoundException: io.grpc.StatusRuntimeException: NOT_FOUND: Secret [projects/<strong>&lt;project_id&gt;</strong>/secrets/<strong>&lt;secret_name&gt;</strong>] not found or has no versions.</p>\n</blockquote>\n<p>How can I catch this error while the <code>@Value</code> runs &quot;behind the scenes&quot;?</p>\n"},{"tags":["java","spring","apache-kafka","spring-cloud-stream"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656515314,"creation_date":1656515314,"answer_id":72803761,"question_id":72801683,"body_markdown":"You should be able to define `@Bean NewTopic` resources in your application configuration, either parsed from properties, or in code.\r\n\r\nThe partition count cannot be dynamic. You should know how many consumers are necessary ahead of time for absolute ordering or for max parallelism. Partition count can only ever increase, but doing so will lose ordering within the topic ","title":"Configure Topics in Kafka broker itself or via Spring Cloud Stream","body":"<p>You should be able to define <code>@Bean NewTopic</code> resources in your application configuration, either parsed from properties, or in code.</p>\n<p>The partition count cannot be dynamic. You should know how many consumers are necessary ahead of time for absolute ordering or for max parallelism. Partition count can only ever increase, but doing so will lose ordering within the topic</p>\n"},{"tags":[],"owner":{"account_id":2365019,"reputation":5194,"user_id":2070861,"accept_rate":100,"display_name":"sobychacko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1656515929,"creation_date":1656515929,"answer_id":72803925,"question_id":72801683,"body_markdown":"Kafka binder provides a topic provisioner as part of its implementation (`KafkaTopicProvisioner`). Therefore, if your broker allows automatic topic creation, the desired topic with the correct configurations can be created using the provisioner before any bindings take effect. If the topic does not already exist, the provisioner creates the topic for you. If you have a producer application, see this [blog][1] for a detailed explanation on the various configuration available for setting up partitions. \r\n\r\nIf you have a consumer application, then if the topic does not exist when the app starts, it creates the topic with `instanceCount * concurrency`. See [this implementation detail][2] for that. If the topic exists, then it can still increase the number of partitions on the broker based on the `instanceCount` and `concurrency` settings, but it cannot decrease the number of partitions. \r\n\r\nYou can set the replication factor using the property - `spring.cloud.stream.kafka.bindings.&lt;input-binding&gt;.consumer.topic.replicationFactor` for consumer apps and `spring.cloud.stream.kafka.bindings.&lt;ouptut-binding&gt;.producer.topic.replicationFactor` for producer apps. \r\n\r\nYou can also provide [replicaAssignments][3] using the same property prefixes. \r\n\r\nIn addition, you can pass along any arbitrary [topic configuration][4] using \r\n`spring.cloud.stream.kafka.bindings.&lt;input-binding&gt;.consumer.topic.properties` or `spring.cloud.stream.kafka.bindings.&lt;output-binding&gt;.producer.topic.properties`\r\n\r\n  [1]: https://spring.io/blog/2021/02/03/demystifying-spring-cloud-stream-producers-with-apache-kafka-partitions\r\n  [2]: https://github.com/spring-cloud/spring-cloud-stream/blob/main/binders/kafka-binder/spring-cloud-stream-binder-kafka-core/src/main/java/org/springframework/cloud/stream/binder/kafka/provisioning/KafkaTopicProvisioner.java#L245\r\n  [3]: https://github.com/spring-cloud/spring-cloud-stream/blob/main/binders/kafka-binder/spring-cloud-stream-binder-kafka-core/src/main/java/org/springframework/cloud/stream/binder/kafka/properties/KafkaTopicProperties.java#L34\r\n  [4]: https://kafka.apache.org/documentation/#topicconfigs","title":"Configure Topics in Kafka broker itself or via Spring Cloud Stream","body":"<p>Kafka binder provides a topic provisioner as part of its implementation (<code>KafkaTopicProvisioner</code>). Therefore, if your broker allows automatic topic creation, the desired topic with the correct configurations can be created using the provisioner before any bindings take effect. If the topic does not already exist, the provisioner creates the topic for you. If you have a producer application, see this <a href=\"https://spring.io/blog/2021/02/03/demystifying-spring-cloud-stream-producers-with-apache-kafka-partitions\" rel=\"nofollow noreferrer\">blog</a> for a detailed explanation on the various configuration available for setting up partitions.</p>\n<p>If you have a consumer application, then if the topic does not exist when the app starts, it creates the topic with <code>instanceCount * concurrency</code>. See <a href=\"https://github.com/spring-cloud/spring-cloud-stream/blob/main/binders/kafka-binder/spring-cloud-stream-binder-kafka-core/src/main/java/org/springframework/cloud/stream/binder/kafka/provisioning/KafkaTopicProvisioner.java#L245\" rel=\"nofollow noreferrer\">this implementation detail</a> for that. If the topic exists, then it can still increase the number of partitions on the broker based on the <code>instanceCount</code> and <code>concurrency</code> settings, but it cannot decrease the number of partitions.</p>\n<p>You can set the replication factor using the property - <code>spring.cloud.stream.kafka.bindings.&lt;input-binding&gt;.consumer.topic.replicationFactor</code> for consumer apps and <code>spring.cloud.stream.kafka.bindings.&lt;ouptut-binding&gt;.producer.topic.replicationFactor</code> for producer apps.</p>\n<p>You can also provide <a href=\"https://github.com/spring-cloud/spring-cloud-stream/blob/main/binders/kafka-binder/spring-cloud-stream-binder-kafka-core/src/main/java/org/springframework/cloud/stream/binder/kafka/properties/KafkaTopicProperties.java#L34\" rel=\"nofollow noreferrer\">replicaAssignments</a> using the same property prefixes.</p>\n<p>In addition, you can pass along any arbitrary <a href=\"https://kafka.apache.org/documentation/#topicconfigs\" rel=\"nofollow noreferrer\">topic configuration</a> using\n<code>spring.cloud.stream.kafka.bindings.&lt;input-binding&gt;.consumer.topic.properties</code> or <code>spring.cloud.stream.kafka.bindings.&lt;output-binding&gt;.producer.topic.properties</code></p>\n"}],"owner":{"account_id":374940,"reputation":475,"user_id":725455,"accept_rate":51,"display_name":"user725455"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":536,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72803925,"answer_count":2,"score":0,"last_activity_date":1656515929,"creation_date":1656506815,"question_id":72801683,"body_markdown":"I have to define topics in my application.  I am using Spring Cloud Stream to configure messaging between application. Spring cloud stream uses kafka binder in the background.  I wonder what is the best way to create topics with partitions and replication factor.I wonder if we should configure it itself, or we should make it using application.properties.? What about if partition number can be a dynamic value  that depends on consumer number. Please give me hints to implement in correct way.","title":"Configure Topics in Kafka broker itself or via Spring Cloud Stream","body":"<p>I have to define topics in my application.  I am using Spring Cloud Stream to configure messaging between application. Spring cloud stream uses kafka binder in the background.  I wonder what is the best way to create topics with partitions and replication factor.I wonder if we should configure it itself, or we should make it using application.properties.? What about if partition number can be a dynamic value  that depends on consumer number. Please give me hints to implement in correct way.</p>\n"},{"tags":["java","android","retrofit","localdate"],"owner":{"account_id":25385132,"reputation":21,"user_id":19197035,"display_name":"ProFra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1656515918,"creation_date":1656515918,"question_id":72803920,"body_markdown":"I&#180;m trying to get a LocalDate with Retrofit but it doesn&#180;t works.\r\n\r\nI get this error: E/Error: java.lang.IllegalStateException: Expected BEGIN_OBJECT but was STRING at line 1 column 35 path $[0].fecha_alta\r\n[Error][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/P4jaP.png\r\n\r\nRetrofit class:\r\n\r\n    public class Client {\r\n    public static Retrofit getClient(String url) {\r\n\r\n        Gson gson = new GsonBuilder().registerTypeAdapter(LocalDate.class, new JsonDeserializer&lt;LocalDate&gt;() {\r\n            @Override\r\n            public LocalDate deserialize(JsonElement json, Type type, JsonDeserializationContext jsonDeserializationContext) throws JsonParseException {\r\n                return LocalDate.parse(json.getAsString(), DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy&quot;));\r\n            }\r\n        }).create();\r\n\r\n        return new Retrofit.Builder().baseUrl(url).addConverterFactory(GsonConverterFactory.create(gson)).build();\r\n    }\r\n}\r\nPOJO:\r\n\r\n    \r\n        @Generated(&quot;com.robohorse.robopojogenerator&quot;)\r\n    public class Profesores implements Serializable {\r\n        @SerializedName(&quot;dni&quot;)\r\n        private String dni;\r\n        @SerializedName(&quot;fecha_alta&quot;)\r\n        private LocalDate fecha_alta;\r\n        @SerializedName(&quot;direccion&quot;)\r\n        private String direccion;\r\n        @SerializedName(&quot;fecha_nac&quot;)\r\n        private LocalDate fecha_nac;\r\n        @SerializedName(&quot;nombre_grupo&quot;)\r\n        private String nombre_grupo;\r\n        @SerializedName(&quot;usuario&quot;)\r\n        private Usuarios usuario;\r\n\r\nCode where it&#180;s called:\r\n\r\n     public void getListaProfesores() {\r\n        //Se crea una instancia de llamada a la API\r\n        apiService = Network.getInstance().create(ApiService.class);\r\n        //Se llama al servicio que obtiene los profesores\r\n        Call&lt;List&lt;Profesores&gt;&gt; call = apiService.getProfesores(grupo);\r\n        call.enqueue(new Callback&lt;List&lt;Profesores&gt;&gt;() {\r\n            @Override\r\n            public void onResponse(Call&lt;List&lt;Profesores&gt;&gt; call, Response&lt;List&lt;Profesores&gt;&gt; response) {\r\n                listaProfesores = response.body();\r\n                profesorAdapter = new ProfesorAdapter(ListaProfesoresActivity.this, listaProfesores, ListaProfesoresActivity.this::onProfesorClick);\r\n                recyclerViewProfesores.setAdapter(profesorAdapter);\r\n            }\r\n\r\n            @Override\r\n            public void onFailure(Call&lt;List&lt;Profesores&gt;&gt; call, Throwable t) {\r\n                Log.e(&quot;Error&quot;, t.getMessage());\r\n            }\r\n        });\r\n    }\r\n\r\n","title":"java.lang.IllegalStateException: Trying to get a LocalDate","body":"<p>I´m trying to get a LocalDate with Retrofit but it doesn´t works.</p>\n<p>I get this error: E/Error: java.lang.IllegalStateException: Expected BEGIN_OBJECT but was STRING at line 1 column 35 path $[0].fecha_alta\n<a href=\"https://i.stack.imgur.com/P4jaP.png\" rel=\"nofollow noreferrer\">Error</a></p>\n<p>Retrofit class:</p>\n<pre><code>public class Client {\npublic static Retrofit getClient(String url) {\n\n    Gson gson = new GsonBuilder().registerTypeAdapter(LocalDate.class, new JsonDeserializer&lt;LocalDate&gt;() {\n        @Override\n        public LocalDate deserialize(JsonElement json, Type type, JsonDeserializationContext jsonDeserializationContext) throws JsonParseException {\n            return LocalDate.parse(json.getAsString(), DateTimeFormatter.ofPattern(&quot;dd/MM/yyyy&quot;));\n        }\n    }).create();\n\n    return new Retrofit.Builder().baseUrl(url).addConverterFactory(GsonConverterFactory.create(gson)).build();\n}\n</code></pre>\n<p>}\nPOJO:</p>\n<pre><code>    @Generated(&quot;com.robohorse.robopojogenerator&quot;)\npublic class Profesores implements Serializable {\n    @SerializedName(&quot;dni&quot;)\n    private String dni;\n    @SerializedName(&quot;fecha_alta&quot;)\n    private LocalDate fecha_alta;\n    @SerializedName(&quot;direccion&quot;)\n    private String direccion;\n    @SerializedName(&quot;fecha_nac&quot;)\n    private LocalDate fecha_nac;\n    @SerializedName(&quot;nombre_grupo&quot;)\n    private String nombre_grupo;\n    @SerializedName(&quot;usuario&quot;)\n    private Usuarios usuario;\n</code></pre>\n<p>Code where it´s called:</p>\n<pre><code> public void getListaProfesores() {\n    //Se crea una instancia de llamada a la API\n    apiService = Network.getInstance().create(ApiService.class);\n    //Se llama al servicio que obtiene los profesores\n    Call&lt;List&lt;Profesores&gt;&gt; call = apiService.getProfesores(grupo);\n    call.enqueue(new Callback&lt;List&lt;Profesores&gt;&gt;() {\n        @Override\n        public void onResponse(Call&lt;List&lt;Profesores&gt;&gt; call, Response&lt;List&lt;Profesores&gt;&gt; response) {\n            listaProfesores = response.body();\n            profesorAdapter = new ProfesorAdapter(ListaProfesoresActivity.this, listaProfesores, ListaProfesoresActivity.this::onProfesorClick);\n            recyclerViewProfesores.setAdapter(profesorAdapter);\n        }\n\n        @Override\n        public void onFailure(Call&lt;List&lt;Profesores&gt;&gt; call, Throwable t) {\n            Log.e(&quot;Error&quot;, t.getMessage());\n        }\n    });\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","kotlin","thymeleaf"],"comments":[{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1656516139,"post_id":72803751,"comment_id":128593441,"body_markdown":"Not an answer, just an observation: All of that style info should be placed in a CSS class, and not used inline. Then you can just use `th:text=&quot;${myVariable}&quot;` for `&quot;This is my styled text&quot;` instead of `utext` which is a security risk if it is handling user-provided (or otherwise unsafe) content. Is there a reason why you need the styles to be inline?","body":"Not an answer, just an observation: All of that style info should be placed in a CSS class, and not used inline. Then you can just use <code>th:text=&quot;${myVariable}&quot;</code> for <code>&quot;This is my styled text&quot;</code> instead of <code>utext</code> which is a security risk if it is handling user-provided (or otherwise unsafe) content. Is there a reason why you need the styles to be inline?"},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1656516165,"post_id":72803751,"comment_id":128593458,"body_markdown":"Also, I cannot recreate your issue. If I do use inline styles and `utext` (NOT recommended!), then Thymeleaf renders the data correctly - the Java String has all of the double-quotes escaped (`\\&quot;`).","body":"Also, I cannot recreate your issue. If I do use inline styles and <code>utext</code> (NOT recommended!), then Thymeleaf renders the data correctly - the Java String has all of the double-quotes escaped (<code>\\&quot;</code>)."},{"owner":{"account_id":7255677,"reputation":922,"user_id":12099409,"display_name":"Osama A.Rehman"},"score":0,"creation_date":1656516921,"post_id":72803751,"comment_id":128593770,"body_markdown":"The html comes with inline styles and it is stored as is in the database. The (HTML) string is held without escaping the quotes in the kotlin string, and if I try to render that html using utext, then it fails.","body":"The html comes with inline styles and it is stored as is in the database. The (HTML) string is held without escaping the quotes in the kotlin string, and if I try to render that html using utext, then it fails."},{"owner":{"account_id":5152799,"reputation":19367,"user_id":4126893,"display_name":"Metroids"},"score":0,"creation_date":1656520663,"post_id":72803751,"comment_id":128595165,"body_markdown":"That HTML is wrong to begin with... there is no closing quote around the font-face `&quot;Noto Color Emoji;` (just an open quote).  Regardless of that though, this problem should be fixed before being saved in the database (by using single quotes or using `&amp;quot;` in your inline styles.  Thymeleaf will happily spit out what is in your database, but if the original HTML is invalid in the database there is nothing Thymeleaf can do about it.","body":"That HTML is wrong to begin with... there is no closing quote around the font-face <code>&quot;Noto Color Emoji;</code> (just an open quote).  Regardless of that though, this problem should be fixed before being saved in the database (by using single quotes or using <code>&amp;quot;</code> in your inline styles.  Thymeleaf will happily spit out what is in your database, but if the original HTML is invalid in the database there is nothing Thymeleaf can do about it."}],"owner":{"account_id":7255677,"reputation":922,"user_id":12099409,"display_name":"Osama A.Rehman"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":382,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1656515262,"creation_date":1656515262,"question_id":72803751,"body_markdown":"I&#39;ve some html styled text that I want to display in the Thymeleaf template. To display the html, I&#39;m using `th:utext=&quot;${myVariable}&quot;`, however, I&#39;m getting an error:\r\n\r\n```Element type &quot;span&quot; must be followed by either attribute specifications, &quot;&gt;&quot; or &quot;/&gt;&quot;.```\r\n\r\nIt&#39;s may be because the html looks like this:\r\n\r\n```\r\n&lt;p&gt;&lt;span style=&quot;color: rgba(0,0,0,0.85);background-color: rgb\r\n(255,255,255);font-size: 14px;font-family: -apple-system,\r\nBlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, &quot;Helvetica Neue&quot;, Arial, &quot;Noto\r\nSans&quot;, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;,\r\n&quot;Noto Color Emoji;&quot;&gt;This is my styled text.&lt;/span&gt;&amp;nbsp;&lt;/p&gt;\r\n```\r\n\r\nAs you can see, it has inline styles that are contained with &quot;&quot;, so thymeleaf is unable to process it. Any idea how can I resolve this issue?","title":"How to display html in Thymeleaf that contains inline style with quotes","body":"<p>I've some html styled text that I want to display in the Thymeleaf template. To display the html, I'm using <code>th:utext=&quot;${myVariable}&quot;</code>, however, I'm getting an error:</p>\n<p><code>Element type &quot;span&quot; must be followed by either attribute specifications, &quot;&gt;&quot; or &quot;/&gt;&quot;.</code></p>\n<p>It's may be because the html looks like this:</p>\n<pre><code>&lt;p&gt;&lt;span style=&quot;color: rgba(0,0,0,0.85);background-color: rgb\n(255,255,255);font-size: 14px;font-family: -apple-system,\nBlinkMacSystemFont, &quot;Segoe UI&quot;, Roboto, &quot;Helvetica Neue&quot;, Arial, &quot;Noto\nSans&quot;, sans-serif, &quot;Apple Color Emoji&quot;, &quot;Segoe UI Emoji&quot;, &quot;Segoe UI Symbol&quot;,\n&quot;Noto Color Emoji;&quot;&gt;This is my styled text.&lt;/span&gt;&amp;nbsp;&lt;/p&gt;\n</code></pre>\n<p>As you can see, it has inline styles that are contained with &quot;&quot;, so thymeleaf is unable to process it. Any idea how can I resolve this issue?</p>\n"},{"tags":["java","spring-boot","maven","graalvm-native-image","spring-native"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1656342050,"post_id":72773873,"comment_id":128542318,"body_markdown":"First recommendation upgrade the native-maven-plugin to most recent version....","body":"First recommendation upgrade the native-maven-plugin to most recent version...."},{"owner":{"account_id":25661568,"reputation":43,"user_id":19427242,"display_name":"BigMouse"},"score":0,"creation_date":1656344524,"post_id":72773873,"comment_id":128543329,"body_markdown":"done, no change in the error log","body":"done, no change in the error log"}],"answers":[{"tags":[],"owner":{"account_id":4635391,"reputation":1131,"user_id":3756780,"display_name":"slindenau"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656515250,"creation_date":1656514826,"answer_id":72803627,"question_id":72773873,"body_markdown":"From the [github issue](https://github.com/oracle/graal/issues/3870) that you linked we can see that the solution was to add reflection support on sealed classes in GraalVM.\r\n\r\nThis was merged to master via the [following pull request](https://github.com/oracle/graal/pull/3979).\r\n\r\nIn the [GraalVM release notes](https://www.graalvm.org/release-notes/22_0/) we can see that this made it into the releases from version `22.0.0` and higher.\r\n\r\n&gt; 22.0.0 \r\n(2021-01-18)\r\n\r\n_This date seems wrong, it&#39;s probably 2022-01-18_\r\n\r\n&gt; Added support for reflective introspection of sealed classes on JDK 17: Class.isSealed() and Class.getPermittedSubclasses().\r\n\r\nYour current JDK is using GraalVM 21.3.2, so that doesn&#39;t contain this fix yet.\r\nThe solution would be to find a JDK build that has version 22.x or higher of GraalVM.","title":"Spring Native runtime error : Unsupported method java.lang.Class.isSealed() is reachable","body":"<p>From the <a href=\"https://github.com/oracle/graal/issues/3870\" rel=\"nofollow noreferrer\">github issue</a> that you linked we can see that the solution was to add reflection support on sealed classes in GraalVM.</p>\n<p>This was merged to master via the <a href=\"https://github.com/oracle/graal/pull/3979\" rel=\"nofollow noreferrer\">following pull request</a>.</p>\n<p>In the <a href=\"https://www.graalvm.org/release-notes/22_0/\" rel=\"nofollow noreferrer\">GraalVM release notes</a> we can see that this made it into the releases from version <code>22.0.0</code> and higher.</p>\n<blockquote>\n<p>22.0.0\n(2021-01-18)</p>\n</blockquote>\n<p><em>This date seems wrong, it's probably 2022-01-18</em></p>\n<blockquote>\n<p>Added support for reflective introspection of sealed classes on JDK 17: Class.isSealed() and Class.getPermittedSubclasses().</p>\n</blockquote>\n<p>Your current JDK is using GraalVM 21.3.2, so that doesn't contain this fix yet.\nThe solution would be to find a JDK build that has version 22.x or higher of GraalVM.</p>\n"}],"owner":{"account_id":25661568,"reputation":43,"user_id":19427242,"display_name":"BigMouse"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":354,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72803627,"answer_count":1,"score":2,"last_activity_date":1656515250,"creation_date":1656340527,"question_id":72773873,"body_markdown":"I am trying to execute my native image built by Spring Native and Spring Boot. Executing my app generated in the /target directory give me the following error : \r\n```\r\nWARN 18883 --- [           main] w.s.c.ServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;methodValidationPostProcessor&#39;: Unexpected exception during bean creation; nested exception is com.oracle.svm.core.jdk.UnsupportedFeatureError: Unsupported method java.lang.Class.isSealed() is reachable: The declaring class of this element has been substituted, but this element is not present in the substitution class\r\nERROR 18883 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;methodValidationPostProcessor&#39;: Unexpected exception during bean creation; nested exception is com.oracle.svm.core.jdk.UnsupportedFeatureError: Unsupported method java.lang.Class.isSealed() is reachable: The declaring class of this element has been substituted, but this element is not present in the substitution class\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:555) ~[na:na]\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[na:na]\r\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[na:na]\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[na:na]\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:213) ~[na:na]\r\n        at org.springframework.context.support.PostProcessorRegistrationDelegate.registerBeanPostProcessors(PostProcessorRegistrationDelegate.java:258) ~[na:na]\r\n        at org.springframework.context.support.AbstractApplicationContext.registerBeanPostProcessors(AbstractApplicationContext.java:762) ~[na:na]\r\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:567) ~[na:na]\r\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[na:na]\r\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[clea-ws-rest:2.7.0]\r\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[clea-ws-rest:2.7.0]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[clea-ws-rest:2.7.0]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[clea-ws-rest:2.7.0]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[clea-ws-rest:2.7.0]\r\n        at fr.gouv.clea.ws.CleaWsRestApplication.main(CleaWsRestApplication.java:11) ~[clea-ws-rest:0-SNAPSHOT]\r\nCaused by: com.oracle.svm.core.jdk.UnsupportedFeatureError: Unsupported method java.lang.Class.isSealed() is reachable: The declaring class of this element has been substituted, but this element is not present in the substitution class\r\n        at com.oracle.svm.core.util.VMError.unsupportedFeature(VMError.java:87) ~[na:na]\r\n        at java.lang.Class.isSealed(DynamicHub.java:4563) ~[clea-ws-rest:na]\r\n        at java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n        at org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:282) ~[na:na]\r\n        at org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:266) ~[na:na]\r\n        at org.springframework.aop.framework.AopProxyUtils.completeProxiedInterfaces(AopProxyUtils.java:146) ~[na:na]\r\n        at org.springframework.aop.framework.JdkDynamicAopProxy.&lt;init&gt;(JdkDynamicAopProxy.java:111) ~[na:na]\r\n        at org.springframework.aop.framework.DefaultAopProxyFactory.createAopProxy(DefaultAopProxyFactory.java:55) ~[na:na]\r\n        at org.springframework.aop.framework.ProxyCreatorSupport.createAopProxy(ProxyCreatorSupport.java:105) ~[na:na]\r\n        at org.springframework.aop.framework.ProxyFactory.getProxy(ProxyFactory.java:110) ~[na:na]\r\n        at org.springframework.context.annotation.ContextAnnotationAutowireCandidateResolver.buildLazyResolutionProxy(ContextAnnotationAutowireCandidateResolver.java:130) ~[na:na]\r\n        at org.springframework.context.annotation.ContextAnnotationAutowireCandidateResolver.getLazyResolutionProxyIfNecessary(ContextAnnotationAutowireCandidateResolver.java:54) ~[na:na]\r\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1306) ~[na:na]\r\n        at org.springframework.aot.beans.factory.InjectedConstructionResolver.lambda$resolve$0(InjectedConstructionResolver.java:83) ~[na:na]\r\n        at org.springframework.aot.beans.factory.InjectedConstructionResolver.resolveDependency(InjectedConstructionResolver.java:97) ~[na:na]\r\n        at org.springframework.aot.beans.factory.InjectedConstructionResolver.resolve(InjectedConstructionResolver.java:83) ~[na:na]\r\n        at org.springframework.aot.beans.factory.InjectedElementResolver.resolve(InjectedElementResolver.java:35) ~[na:na]\r\n        at org.springframework.aot.beans.factory.InjectedElementResolver.create(InjectedElementResolver.java:66) ~[na:na]\r\n        at org.springframework.aot.beans.factory.BeanDefinitionRegistrar$BeanInstanceContext.create(BeanDefinitionRegistrar.java:211) ~[na:na]\r\n        at org.springframework.aot.ContextBootstrapInitializer.lambda$initialize$39(ContextBootstrapInitializer.java:378) ~[na:na]\r\n        at org.springframework.aot.beans.factory.BeanDefinitionRegistrar$ThrowableFunction.apply(BeanDefinitionRegistrar.java:294) ~[na:na]\r\n        at org.springframework.aot.beans.factory.BeanDefinitionRegistrar.lambda$instanceSupplier$0(BeanDefinitionRegistrar.java:115) ~[na:na]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.obtainFromSupplier(AbstractAutowireCapableBeanFactory.java:1249) ~[na:na]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1191) ~[na:na]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[na:na]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[na:na]\r\n```\r\nI use the following dependencies in my pom.xml : \r\n```\r\n       &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.experimental&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-native&lt;/artifactId&gt;\r\n            &lt;version&gt;0.12.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.experimental&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-aot&lt;/artifactId&gt;\r\n            &lt;version&gt;0.12.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\nthese plugins : \r\n```\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.7.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;image&gt;\r\n                        &lt;builder&gt;paketobuildpacks/builder:tiny&lt;/builder&gt;\r\n                        &lt;env&gt;\r\n                            &lt;BP_NATIVE_IMAGE&gt;true&lt;/BP_NATIVE_IMAGE&gt;\r\n                        &lt;/env&gt;\r\n                    &lt;/image&gt;\r\n                    &lt;classifier&gt;exec&lt;/classifier&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.experimental&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-aot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;0.12.0&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.experimental&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-aot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;0.12.0&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;generate&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;generate&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n```\r\nand these profile for building native image : \r\n```  \r\n      &lt;profile&gt;\r\n            &lt;id&gt;native&lt;/id&gt;\r\n            &lt;build&gt;\r\n                &lt;plugins&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;org.graalvm.buildtools&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;native-maven-plugin&lt;/artifactId&gt;\r\n                        &lt;version&gt;0.9.11&lt;/version&gt;\r\n                        &lt;executions&gt;\r\n                            &lt;execution&gt;\r\n                                &lt;id&gt;build-native&lt;/id&gt;\r\n                                &lt;goals&gt;\r\n                                    &lt;goal&gt;build&lt;/goal&gt;\r\n                                &lt;/goals&gt;\r\n                                &lt;phase&gt;package&lt;/phase&gt;\r\n                            &lt;/execution&gt;\r\n                        &lt;/executions&gt;\r\n                    &lt;/plugin&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;classifier&gt;exec&lt;/classifier&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/plugin&gt;\r\n                &lt;/plugins&gt;\r\n            &lt;/build&gt;\r\n        &lt;/profile&gt;\r\n```\r\n\r\nTo build image, i use these commands lines : \r\n`mvn package -Pnative` or `mvn package spring-boot:build-image`; then, the result appear in the /target directory, i use `./target/myApp` to run it. \r\n\r\nHere is the result of `java --version` : \r\n```\r\nopenjdk 17.0.3 2022-04-19\r\nOpenJDK Runtime Environment GraalVM CE 21.3.2 (build 17.0.3+7-jvmci-21.3-b14)\r\nOpenJDK 64-Bit Server VM GraalVM CE 21.3.2 (build 17.0.3+7-jvmci-21.3-b14, mixed mode, sharing)\r\n```\r\nI found [this problem][1] on github which seems very similar to mine, if not identical. The ticket has been closed but I don&#39;t understand the resolution.\r\n\r\nThe error seems to have something to do with the profiles related to the environments (dev,prod,test ...). [A section of the Spring Native documentation][2] is dedicated to this aspect. To solve the error, I filled in a profile in the `application.yml` configuration file. The profile is correctly loaded during the run time but the error is the same. \r\n\r\nWouldn&#39;t the error come from a compatibility problem between the jdk and the Spring libraries? However, [in the javadoc][3], the method is present since the jdk version 17.\r\n\r\n \r\nThanks in advance\r\n\r\n\r\n  [1]: https://github.com/oracle/graal/issues/3870#issue-1017685079\r\n  [2]: https://docs.spring.io/spring-native/docs/current/reference/htmlsingle/#aot-bean-factory-preparation\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html#isSealed()","title":"Spring Native runtime error : Unsupported method java.lang.Class.isSealed() is reachable","body":"<p>I am trying to execute my native image built by Spring Native and Spring Boot. Executing my app generated in the /target directory give me the following error :</p>\n<pre><code>WARN 18883 --- [           main] w.s.c.ServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'methodValidationPostProcessor': Unexpected exception during bean creation; nested exception is com.oracle.svm.core.jdk.UnsupportedFeatureError: Unsupported method java.lang.Class.isSealed() is reachable: The declaring class of this element has been substituted, but this element is not present in the substitution class\nERROR 18883 --- [           main] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'methodValidationPostProcessor': Unexpected exception during bean creation; nested exception is com.oracle.svm.core.jdk.UnsupportedFeatureError: Unsupported method java.lang.Class.isSealed() is reachable: The declaring class of this element has been substituted, but this element is not present in the substitution class\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:555) ~[na:na]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[na:na]\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[na:na]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[na:na]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:213) ~[na:na]\n        at org.springframework.context.support.PostProcessorRegistrationDelegate.registerBeanPostProcessors(PostProcessorRegistrationDelegate.java:258) ~[na:na]\n        at org.springframework.context.support.AbstractApplicationContext.registerBeanPostProcessors(AbstractApplicationContext.java:762) ~[na:na]\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:567) ~[na:na]\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[na:na]\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[clea-ws-rest:2.7.0]\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[clea-ws-rest:2.7.0]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[clea-ws-rest:2.7.0]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[clea-ws-rest:2.7.0]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[clea-ws-rest:2.7.0]\n        at fr.gouv.clea.ws.CleaWsRestApplication.main(CleaWsRestApplication.java:11) ~[clea-ws-rest:0-SNAPSHOT]\nCaused by: com.oracle.svm.core.jdk.UnsupportedFeatureError: Unsupported method java.lang.Class.isSealed() is reachable: The declaring class of this element has been substituted, but this element is not present in the substitution class\n        at com.oracle.svm.core.util.VMError.unsupportedFeature(VMError.java:87) ~[na:na]\n        at java.lang.Class.isSealed(DynamicHub.java:4563) ~[clea-ws-rest:na]\n        at java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n        at org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:282) ~[na:na]\n        at org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:266) ~[na:na]\n        at org.springframework.aop.framework.AopProxyUtils.completeProxiedInterfaces(AopProxyUtils.java:146) ~[na:na]\n        at org.springframework.aop.framework.JdkDynamicAopProxy.&lt;init&gt;(JdkDynamicAopProxy.java:111) ~[na:na]\n        at org.springframework.aop.framework.DefaultAopProxyFactory.createAopProxy(DefaultAopProxyFactory.java:55) ~[na:na]\n        at org.springframework.aop.framework.ProxyCreatorSupport.createAopProxy(ProxyCreatorSupport.java:105) ~[na:na]\n        at org.springframework.aop.framework.ProxyFactory.getProxy(ProxyFactory.java:110) ~[na:na]\n        at org.springframework.context.annotation.ContextAnnotationAutowireCandidateResolver.buildLazyResolutionProxy(ContextAnnotationAutowireCandidateResolver.java:130) ~[na:na]\n        at org.springframework.context.annotation.ContextAnnotationAutowireCandidateResolver.getLazyResolutionProxyIfNecessary(ContextAnnotationAutowireCandidateResolver.java:54) ~[na:na]\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1306) ~[na:na]\n        at org.springframework.aot.beans.factory.InjectedConstructionResolver.lambda$resolve$0(InjectedConstructionResolver.java:83) ~[na:na]\n        at org.springframework.aot.beans.factory.InjectedConstructionResolver.resolveDependency(InjectedConstructionResolver.java:97) ~[na:na]\n        at org.springframework.aot.beans.factory.InjectedConstructionResolver.resolve(InjectedConstructionResolver.java:83) ~[na:na]\n        at org.springframework.aot.beans.factory.InjectedElementResolver.resolve(InjectedElementResolver.java:35) ~[na:na]\n        at org.springframework.aot.beans.factory.InjectedElementResolver.create(InjectedElementResolver.java:66) ~[na:na]\n        at org.springframework.aot.beans.factory.BeanDefinitionRegistrar$BeanInstanceContext.create(BeanDefinitionRegistrar.java:211) ~[na:na]\n        at org.springframework.aot.ContextBootstrapInitializer.lambda$initialize$39(ContextBootstrapInitializer.java:378) ~[na:na]\n        at org.springframework.aot.beans.factory.BeanDefinitionRegistrar$ThrowableFunction.apply(BeanDefinitionRegistrar.java:294) ~[na:na]\n        at org.springframework.aot.beans.factory.BeanDefinitionRegistrar.lambda$instanceSupplier$0(BeanDefinitionRegistrar.java:115) ~[na:na]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.obtainFromSupplier(AbstractAutowireCapableBeanFactory.java:1249) ~[na:na]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1191) ~[na:na]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[na:na]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[na:na]\n</code></pre>\n<p>I use the following dependencies in my pom.xml :</p>\n<pre><code>       &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.experimental&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-native&lt;/artifactId&gt;\n            &lt;version&gt;0.12.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.experimental&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-aot&lt;/artifactId&gt;\n            &lt;version&gt;0.12.0&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>these plugins :</p>\n<pre><code>            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.7.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;image&gt;\n                        &lt;builder&gt;paketobuildpacks/builder:tiny&lt;/builder&gt;\n                        &lt;env&gt;\n                            &lt;BP_NATIVE_IMAGE&gt;true&lt;/BP_NATIVE_IMAGE&gt;\n                        &lt;/env&gt;\n                    &lt;/image&gt;\n                    &lt;classifier&gt;exec&lt;/classifier&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.experimental&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-aot-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.12.0&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.experimental&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-aot-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.12.0&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;generate&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;generate&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<p>and these profile for building native image :</p>\n<pre><code>      &lt;profile&gt;\n            &lt;id&gt;native&lt;/id&gt;\n            &lt;build&gt;\n                &lt;plugins&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;org.graalvm.buildtools&lt;/groupId&gt;\n                        &lt;artifactId&gt;native-maven-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;0.9.11&lt;/version&gt;\n                        &lt;executions&gt;\n                            &lt;execution&gt;\n                                &lt;id&gt;build-native&lt;/id&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;build&lt;/goal&gt;\n                                &lt;/goals&gt;\n                                &lt;phase&gt;package&lt;/phase&gt;\n                            &lt;/execution&gt;\n                        &lt;/executions&gt;\n                    &lt;/plugin&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                        &lt;configuration&gt;\n                            &lt;classifier&gt;exec&lt;/classifier&gt;\n                        &lt;/configuration&gt;\n                    &lt;/plugin&gt;\n                &lt;/plugins&gt;\n            &lt;/build&gt;\n        &lt;/profile&gt;\n</code></pre>\n<p>To build image, i use these commands lines :\n<code>mvn package -Pnative</code> or <code>mvn package spring-boot:build-image</code>; then, the result appear in the /target directory, i use <code>./target/myApp</code> to run it.</p>\n<p>Here is the result of <code>java --version</code> :</p>\n<pre><code>openjdk 17.0.3 2022-04-19\nOpenJDK Runtime Environment GraalVM CE 21.3.2 (build 17.0.3+7-jvmci-21.3-b14)\nOpenJDK 64-Bit Server VM GraalVM CE 21.3.2 (build 17.0.3+7-jvmci-21.3-b14, mixed mode, sharing)\n</code></pre>\n<p>I found <a href=\"https://github.com/oracle/graal/issues/3870#issue-1017685079\" rel=\"nofollow noreferrer\">this problem</a> on github which seems very similar to mine, if not identical. The ticket has been closed but I don't understand the resolution.</p>\n<p>The error seems to have something to do with the profiles related to the environments (dev,prod,test ...). <a href=\"https://docs.spring.io/spring-native/docs/current/reference/htmlsingle/#aot-bean-factory-preparation\" rel=\"nofollow noreferrer\">A section of the Spring Native documentation</a> is dedicated to this aspect. To solve the error, I filled in a profile in the <code>application.yml</code> configuration file. The profile is correctly loaded during the run time but the error is the same.</p>\n<p>Wouldn't the error come from a compatibility problem between the jdk and the Spring libraries? However, <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html#isSealed()\" rel=\"nofollow noreferrer\">in the javadoc</a>, the method is present since the jdk version 17.</p>\n<p>Thanks in advance</p>\n"},{"tags":["java","spring","spring-cloud-stream","spring-cloud-stream-binder-kafka"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1656515210,"creation_date":1656514349,"answer_id":72803483,"question_id":72803216,"body_markdown":"That requirement is no longer necessary if your broker is 2.5 or later and you are using a currently supported version of spring-cloud-stream (3.2.x) and spring-kafka (2.8.x).\r\n\r\nYou must now use a unique prefix even for consumer-initiated transactions.\r\n\r\nIf you are using an older broker or an unsupported spring-kafka version that does not use EOSMode V2 (BETA) by default, you can configure two binders.\r\n\r\nhttps://docs.spring.io/spring-kafka/docs/current/reference/html/#transaction-id-prefix\r\n\r\n&gt;This problem (different rules for transactional.id) has been eliminated when EOSMode.BETA is being used (with broker versions &gt;= 2.5); see Exactly Once Semantics.","title":"How to set transaction-id-prefix in app which has both consumer and producer-only transactions in Spring Cloud Stream","body":"<p>That requirement is no longer necessary if your broker is 2.5 or later and you are using a currently supported version of spring-cloud-stream (3.2.x) and spring-kafka (2.8.x).</p>\n<p>You must now use a unique prefix even for consumer-initiated transactions.</p>\n<p>If you are using an older broker or an unsupported spring-kafka version that does not use EOSMode V2 (BETA) by default, you can configure two binders.</p>\n<p><a href=\"https://docs.spring.io/spring-kafka/docs/current/reference/html/#transaction-id-prefix\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-kafka/docs/current/reference/html/#transaction-id-prefix</a></p>\n<blockquote>\n<p>This problem (different rules for transactional.id) has been eliminated when EOSMode.BETA is being used (with broker versions &gt;= 2.5); see Exactly Once Semantics.</p>\n</blockquote>\n"}],"owner":{"account_id":7313625,"reputation":6030,"user_id":5572007,"display_name":"amseager"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1789,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72803483,"answer_count":1,"score":0,"last_activity_date":1656515210,"creation_date":1656513273,"question_id":72803216,"body_markdown":"For transactions that have been started by a listener container, we need to set the same transaction id prefix for all app instances.\r\nFor producing-only transaction, we need to set a different value for each instance instead.\r\n\r\nI&#39;m using Spring Cloud Stream Kafka Binder in the app which has both types of transactions, and the property `spring.cloud.stream.kafka.binder.transaction.transaction-id-prefix` is used for creating a common transaction manager.\r\n\r\nI wonder how to make it all work properly because it seems that you can&#39;t have it both ways at the same time. ","title":"How to set transaction-id-prefix in app which has both consumer and producer-only transactions in Spring Cloud Stream","body":"<p>For transactions that have been started by a listener container, we need to set the same transaction id prefix for all app instances.\nFor producing-only transaction, we need to set a different value for each instance instead.</p>\n<p>I'm using Spring Cloud Stream Kafka Binder in the app which has both types of transactions, and the property <code>spring.cloud.stream.kafka.binder.transaction.transaction-id-prefix</code> is used for creating a common transaction manager.</p>\n<p>I wonder how to make it all work properly because it seems that you can't have it both ways at the same time.</p>\n"},{"tags":["java","amazon-web-services","apache-kafka","apache-flink","aws-msk"],"comments":[{"owner":{"account_id":25223850,"reputation":1664,"user_id":19059974,"display_name":"Gerard Garcia"},"score":0,"creation_date":1653630201,"post_id":72398012,"comment_id":127901766,"body_markdown":"Not sure if it will solve your issue, but the package `flink-streaming-java_2.11` should have scope: `provided` so it uses the code available in the Flink cluster and is not added into the JAR. https://nightlies.apache.org/flink/flink-docs-stable/docs/dev/datastream/project-configuration/#setting-up-a-project-basic-dependencies","body":"Not sure if it will solve your issue, but the package <code>flink-streaming-java_2.11</code> should have scope: <code>provided</code> so it uses the code available in the Flink cluster and is not added into the JAR. <a href=\"https://nightlies.apache.org/flink/flink-docs-stable/docs/dev/datastream/project-configuration/#setting-up-a-project-basic-dependencies\" rel=\"nofollow noreferrer\">nightlies.apache.org/flink/flink-docs-stable/docs/dev/&hellip;</a>"},{"owner":{"account_id":4185538,"reputation":50,"user_id":3429388,"display_name":"Ghilherme"},"score":0,"creation_date":1653661909,"post_id":72398012,"comment_id":127912149,"body_markdown":"I&#39;ve tried to change scope to provided, but it is not compiling... It is taking too long to build and write dependency-reduced-pom.xml","body":"I&#39;ve tried to change scope to provided, but it is not compiling... It is taking too long to build and write dependency-reduced-pom.xml"}],"answers":[{"tags":[],"owner":{"account_id":4185538,"reputation":50,"user_id":3429388,"display_name":"Ghilherme"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1656515159,"creation_date":1656515159,"answer_id":72803726,"question_id":72398012,"body_markdown":"Flink 1.9.2 doesn’t support IAM auth for MSK connection. To solve the problem, I had to upgrade Flink version to 1.13.2 and then upload the following jars to Flink server classpath:\r\n\r\nAWS lib aws-msk-iam-auth-1.1.4-all.jar and Kafka lib kafka-clients-2.4.1.jar into /opt/flink/lib folder inside the Flink nodes.\r\n\r\nAfter this, I restarted Flink services and then job ran succesfully.","title":"Failed to construct Kafka Consumer in Flink cluster for connecting to MSK","body":"<p>Flink 1.9.2 doesn’t support IAM auth for MSK connection. To solve the problem, I had to upgrade Flink version to 1.13.2 and then upload the following jars to Flink server classpath:</p>\n<p>AWS lib aws-msk-iam-auth-1.1.4-all.jar and Kafka lib kafka-clients-2.4.1.jar into /opt/flink/lib folder inside the Flink nodes.</p>\n<p>After this, I restarted Flink services and then job ran succesfully.</p>\n"}],"owner":{"account_id":4185538,"reputation":50,"user_id":3429388,"display_name":"Ghilherme"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":934,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72803726,"answer_count":1,"score":1,"last_activity_date":1656515159,"creation_date":1653599252,"question_id":72398012,"body_markdown":"I am trying to connect my Flink app using Flink-kafka-connector to MSK in AWS. Flink app is running on a EC2 instance.\r\n\r\nflink.version: 1.9.2\r\npom.xml:\r\n\r\n       &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\r\n            &lt;artifactId&gt;flink-streaming-java_2.11&lt;/artifactId&gt;\r\n            &lt;version&gt;${flink.version}&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;software.amazon.msk&lt;/groupId&gt;\r\n            &lt;artifactId&gt;aws-msk-iam-auth&lt;/artifactId&gt;\r\n            &lt;version&gt;1.1.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n       &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\r\n            &lt;artifactId&gt;flink-connector-kafka_2.11&lt;/artifactId&gt;\r\n            &lt;version&gt;${flink.version}&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\nExceptions from Flink TaskManager logs:\r\n\r\n    org.apache.kafka.common.KafkaException: Failed to construct kafka consumer\r\n    \tat org.apache.kafka.clients.consumer.KafkaConsumer.&lt;init&gt;(KafkaConsumer.java:811)\r\n    \tat org.apache.kafka.clients.consumer.KafkaConsumer.&lt;init&gt;(KafkaConsumer.java:659)\r\n    \tat org.apache.kafka.clients.consumer.KafkaConsumer.&lt;init&gt;(KafkaConsumer.java:639)\r\n    \tat org.apache.flink.streaming.connectors.kafka.internal.KafkaPartitionDiscoverer.initializeConnections(KafkaPartitionDiscoverer.java:58)\r\n    \tat org.apache.flink.streaming.connectors.kafka.internals.AbstractPartitionDiscoverer.open(AbstractPartitionDiscoverer.java:94)\r\n    \tat org.apache.flink.streaming.connectors.kafka.FlinkKafkaConsumerBase.open(FlinkKafkaConsumerBase.java:505)\r\n    \tat org.apache.flink.api.common.functions.util.FunctionUtils.openFunction(FunctionUtils.java:36)\r\n    \tat org.apache.flink.streaming.api.operators.AbstractUdfStreamOperator.open(AbstractUdfStreamOperator.java:102)\r\n    \tat org.apache.flink.streaming.runtime.tasks.StreamTask.openAllOperators(StreamTask.java:552)\r\n    \tat org.apache.flink.streaming.runtime.tasks.StreamTask.invoke(StreamTask.java:416)\r\n    \tat org.apache.flink.runtime.taskmanager.Task.doRun(Task.java:705)\r\n    \tat org.apache.flink.runtime.taskmanager.Task.run(Task.java:530)\r\n    \tat java.lang.Thread.run(Thread.java:748)\r\n    Caused by: org.apache.kafka.common.KafkaException: java.lang.NoClassDefFoundError: Could not initialize class com.amazonaws.auth.AWSCredentialsProviderChain\r\n    \tat org.apache.kafka.common.network.SaslChannelBuilder.configure(SaslChannelBuilder.java:160)\r\n    \tat org.apache.kafka.common.network.ChannelBuilders.create(ChannelBuilders.java:146)\r\n    \tat org.apache.kafka.common.network.ChannelBuilders.clientChannelBuilder(ChannelBuilders.java:67)\r\n    \tat org.apache.kafka.clients.ClientUtils.createChannelBuilder(ClientUtils.java:112)\r\n    \tat org.apache.kafka.clients.consumer.KafkaConsumer.&lt;init&gt;(KafkaConsumer.java:726)\r\n    \t... 12 more\r\n    Caused by: java.lang.NoClassDefFoundError: Could not initialize class com.amazonaws.auth.AWSCredentialsProviderChain\r\n    \tat software.amazon.msk.auth.iam.internals.MSKCredentialProvider.getDefaultProvider(MSKCredentialProvider.java:123)\r\n    \tat software.amazon.msk.auth.iam.internals.MSKCredentialProvider.&lt;init&gt;(MSKCredentialProvider.java:104)\r\n    \tat software.amazon.msk.auth.iam.internals.MSKCredentialProvider.&lt;init&gt;(MSKCredentialProvider.java:94)\r\n    \tat software.amazon.msk.auth.iam.internals.MSKCredentialProvider.&lt;init&gt;(MSKCredentialProvider.java:90)\r\n    \tat software.amazon.msk.auth.iam.IAMClientCallbackHandler.lambda$configure$1(IAMClientCallbackHandler.java:54)\r\n    \tat java.util.Optional.map(Optional.java:215)\r\n    \tat software.amazon.msk.auth.iam.IAMClientCallbackHandler.configure(IAMClientCallbackHandler.java:54)\r\n    \tat org.apache.kafka.common.network.SaslChannelBuilder.configure(SaslChannelBuilder.java:130)\r\n    \t... 16 more\r\n\r\n\r\nDuring the build, I can see clearly that the maven shade plugin includes all the libraries needed from AWS in the uber jar:\r\n\r\n    [INFO] Including software.amazon.msk:aws-msk-iam-auth:jar:1.1.4 in the shaded jar.\r\n    [INFO] Including com.amazonaws:aws-java-sdk-core:jar:1.11.986 in the shaded jar.\r\n    [INFO] Including software.amazon.ion:ion-java:jar:1.0.2 in the shaded jar.\r\n    [INFO] Including com.fasterxml.jackson.dataformat:jackson-dataformat-cbor:jar:2.6.7 in the shaded jar.\r\n    [INFO] Including com.amazonaws:aws-java-sdk-sts:jar:1.11.986 in the shaded jar.\r\n    [INFO] Including com.amazonaws:jmespath-java:jar:1.11.986 in the shaded jar.\r\n    [INFO] Including software.amazon.awssdk:auth:jar:2.17.192 in the shaded jar.\r\n    [INFO] Including software.amazon.awssdk:annotations:jar:2.17.192 in the shaded jar.\r\n    [INFO] Including software.amazon.awssdk:utils:jar:2.17.192 in the shaded jar.\r\n    [INFO] Including software.amazon.awssdk:sdk-core:jar:2.17.192 in the shaded jar.\r\n    [INFO] Including software.amazon.awssdk:regions:jar:2.17.192 in the shaded jar.\r\n    [INFO] Including software.amazon.awssdk:profiles:jar:2.17.192 in the shaded jar.\r\n    [INFO] Including software.amazon.awssdk:http-client-spi:jar:2.17.192 in the shaded jar.\r\n    [INFO] Including software.amazon.awssdk:json-utils:jar:2.17.192 in the shaded jar.\r\n    [INFO] Including software.amazon.awssdk:third-party-jackson-core:jar:2.17.192 in the shaded jar.\r\n    [INFO] Including software.amazon.eventstream:eventstream:jar:1.0.1 in the shaded jar.\r\n    [INFO] Including software.amazon.awssdk:sso:jar:2.17.192 in the shaded jar.\r\n    [INFO] Including software.amazon.awssdk:protocol-core:jar:2.17.192 in the shaded jar.\r\n    [INFO] Including software.amazon.awssdk:aws-json-protocol:jar:2.17.192 in the shaded jar.\r\n    [INFO] Including software.amazon.awssdk:aws-core:jar:2.17.192 in the shaded jar.\r\n    [INFO] Including software.amazon.awssdk:metrics-spi:jar:2.17.192 in the shaded jar.\r\n    [INFO] Including software.amazon.awssdk:netty-nio-client:jar:2.17.192 in the shaded jar.\r\n\r\n\r\nMy Kafka consumer config:\r\n\r\n    org.apache.kafka.clients.consumer.ConsumerConfig              - ConsumerConfig values: \r\n    \tauto.commit.interval.ms = 5000\r\n    \tauto.offset.reset = latest\r\n    \tbootstrap.servers = [***]\r\n    \tcheck.crcs = true\r\n    \tclient.dns.lookup = default\r\n    \tclient.id = \r\n    \tconnections.max.idle.ms = 540000\r\n    \tdefault.api.timeout.ms = 60000\r\n    \tenable.auto.commit = true\r\n    \texclude.internal.topics = true\r\n    \tfetch.max.bytes = 52428800\r\n    \tfetch.max.wait.ms = 500\r\n    \tfetch.min.bytes = 1\r\n    \tgroup.id = msk-gps-testing-FlinkRealTimeGPS\r\n    \theartbeat.interval.ms = 3000\r\n    \tinterceptor.classes = []\r\n    \tinternal.leave.group.on.close = true\r\n    \tisolation.level = read_uncommitted\r\n    \tkey.deserializer = class org.apache.kafka.common.serialization.ByteArrayDeserializer\r\n    \tmax.partition.fetch.bytes = 1048576\r\n    \tmax.poll.interval.ms = 300000\r\n    \tmax.poll.records = 500\r\n    \tmetadata.max.age.ms = 300000\r\n    \tmetric.reporters = []\r\n    \tmetrics.num.samples = 2\r\n    \tmetrics.recording.level = INFO\r\n    \tmetrics.sample.window.ms = 30000\r\n    \tpartition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor]\r\n    \treceive.buffer.bytes = 65536\r\n    \treconnect.backoff.max.ms = 1000\r\n    \treconnect.backoff.ms = 50\r\n    \trequest.timeout.ms = 30000\r\n    \tretry.backoff.ms = 100\r\n    \tsasl.client.callback.handler.class = class software.amazon.msk.auth.iam.IAMClientCallbackHandler\r\n    \tsasl.jaas.config = [hidden]\r\n    \tsasl.kerberos.kinit.cmd = /usr/bin/kinit\r\n    \tsasl.kerberos.min.time.before.relogin = 60000\r\n    \tsasl.kerberos.service.name = null\r\n    \tsasl.kerberos.ticket.renew.jitter = 0.05\r\n    \tsasl.kerberos.ticket.renew.window.factor = 0.8\r\n    \tsasl.login.callback.handler.class = null\r\n    \tsasl.login.class = null\r\n    \tsasl.login.refresh.buffer.seconds = 300\r\n    \tsasl.login.refresh.min.period.seconds = 60\r\n    \tsasl.login.refresh.window.factor = 0.8\r\n    \tsasl.login.refresh.window.jitter = 0.05\r\n    \tsasl.mechanism = AWS_MSK_IAM\r\n    \tsecurity.protocol = SASL_SSL\r\n    \tsend.buffer.bytes = 131072\r\n    \tsession.timeout.ms = 10000\r\n    \tssl.cipher.suites = null\r\n    \tssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]\r\n    \tssl.endpoint.identification.algorithm = https\r\n    \tssl.key.password = null\r\n    \tssl.keymanager.algorithm = SunX509\r\n    \tssl.keystore.location = null\r\n    \tssl.keystore.password = null\r\n    \tssl.keystore.type = JKS\r\n    \tssl.protocol = TLS\r\n    \tssl.provider = null\r\n    \tssl.secure.random.implementation = null\r\n    \tssl.trustmanager.algorithm = PKIX\r\n    \tssl.truststore.location = /opt/certs/truststore.jks\r\n    \tssl.truststore.password = [hidden]\r\n    \tssl.truststore.type = JKS\r\n    \tvalue.deserializer = class org.apache.kafka.common.serialization.ByteArrayDeserializer\r\n\r\nI&#39;ve also checked for credentials on the flink cluster and this what I got:\r\n\r\n    ubuntu@flink1-10:~$ aws configure list\r\n    \r\n          Name                    Value             Type    Location\r\n    \r\n          ----                    -----             ----    --------\r\n    \r\n       profile                &lt;not set&gt;             None    None\r\n    \r\n    access_key     ********************         iam-role    \r\n    \r\n    secret_key     ********************         iam-role    \r\n    \r\n        region                &lt;not set&gt;             None    None\r\n\r\nI&#39;ve read all this documentation AWS provided: https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html\r\n\r\nI&#39;ve tried a lot of things to solve it, but I cannot find any answer.","title":"Failed to construct Kafka Consumer in Flink cluster for connecting to MSK","body":"<p>I am trying to connect my Flink app using Flink-kafka-connector to MSK in AWS. Flink app is running on a EC2 instance.</p>\n<p>flink.version: 1.9.2\npom.xml:</p>\n<pre><code>   &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\n        &lt;artifactId&gt;flink-streaming-java_2.11&lt;/artifactId&gt;\n        &lt;version&gt;${flink.version}&lt;/version&gt;\n        &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;software.amazon.msk&lt;/groupId&gt;\n        &lt;artifactId&gt;aws-msk-iam-auth&lt;/artifactId&gt;\n        &lt;version&gt;1.1.4&lt;/version&gt;\n    &lt;/dependency&gt;\n   &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\n        &lt;artifactId&gt;flink-connector-kafka_2.11&lt;/artifactId&gt;\n        &lt;version&gt;${flink.version}&lt;/version&gt;\n        &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Exceptions from Flink TaskManager logs:</p>\n<pre><code>org.apache.kafka.common.KafkaException: Failed to construct kafka consumer\n    at org.apache.kafka.clients.consumer.KafkaConsumer.&lt;init&gt;(KafkaConsumer.java:811)\n    at org.apache.kafka.clients.consumer.KafkaConsumer.&lt;init&gt;(KafkaConsumer.java:659)\n    at org.apache.kafka.clients.consumer.KafkaConsumer.&lt;init&gt;(KafkaConsumer.java:639)\n    at org.apache.flink.streaming.connectors.kafka.internal.KafkaPartitionDiscoverer.initializeConnections(KafkaPartitionDiscoverer.java:58)\n    at org.apache.flink.streaming.connectors.kafka.internals.AbstractPartitionDiscoverer.open(AbstractPartitionDiscoverer.java:94)\n    at org.apache.flink.streaming.connectors.kafka.FlinkKafkaConsumerBase.open(FlinkKafkaConsumerBase.java:505)\n    at org.apache.flink.api.common.functions.util.FunctionUtils.openFunction(FunctionUtils.java:36)\n    at org.apache.flink.streaming.api.operators.AbstractUdfStreamOperator.open(AbstractUdfStreamOperator.java:102)\n    at org.apache.flink.streaming.runtime.tasks.StreamTask.openAllOperators(StreamTask.java:552)\n    at org.apache.flink.streaming.runtime.tasks.StreamTask.invoke(StreamTask.java:416)\n    at org.apache.flink.runtime.taskmanager.Task.doRun(Task.java:705)\n    at org.apache.flink.runtime.taskmanager.Task.run(Task.java:530)\n    at java.lang.Thread.run(Thread.java:748)\nCaused by: org.apache.kafka.common.KafkaException: java.lang.NoClassDefFoundError: Could not initialize class com.amazonaws.auth.AWSCredentialsProviderChain\n    at org.apache.kafka.common.network.SaslChannelBuilder.configure(SaslChannelBuilder.java:160)\n    at org.apache.kafka.common.network.ChannelBuilders.create(ChannelBuilders.java:146)\n    at org.apache.kafka.common.network.ChannelBuilders.clientChannelBuilder(ChannelBuilders.java:67)\n    at org.apache.kafka.clients.ClientUtils.createChannelBuilder(ClientUtils.java:112)\n    at org.apache.kafka.clients.consumer.KafkaConsumer.&lt;init&gt;(KafkaConsumer.java:726)\n    ... 12 more\nCaused by: java.lang.NoClassDefFoundError: Could not initialize class com.amazonaws.auth.AWSCredentialsProviderChain\n    at software.amazon.msk.auth.iam.internals.MSKCredentialProvider.getDefaultProvider(MSKCredentialProvider.java:123)\n    at software.amazon.msk.auth.iam.internals.MSKCredentialProvider.&lt;init&gt;(MSKCredentialProvider.java:104)\n    at software.amazon.msk.auth.iam.internals.MSKCredentialProvider.&lt;init&gt;(MSKCredentialProvider.java:94)\n    at software.amazon.msk.auth.iam.internals.MSKCredentialProvider.&lt;init&gt;(MSKCredentialProvider.java:90)\n    at software.amazon.msk.auth.iam.IAMClientCallbackHandler.lambda$configure$1(IAMClientCallbackHandler.java:54)\n    at java.util.Optional.map(Optional.java:215)\n    at software.amazon.msk.auth.iam.IAMClientCallbackHandler.configure(IAMClientCallbackHandler.java:54)\n    at org.apache.kafka.common.network.SaslChannelBuilder.configure(SaslChannelBuilder.java:130)\n    ... 16 more\n</code></pre>\n<p>During the build, I can see clearly that the maven shade plugin includes all the libraries needed from AWS in the uber jar:</p>\n<pre><code>[INFO] Including software.amazon.msk:aws-msk-iam-auth:jar:1.1.4 in the shaded jar.\n[INFO] Including com.amazonaws:aws-java-sdk-core:jar:1.11.986 in the shaded jar.\n[INFO] Including software.amazon.ion:ion-java:jar:1.0.2 in the shaded jar.\n[INFO] Including com.fasterxml.jackson.dataformat:jackson-dataformat-cbor:jar:2.6.7 in the shaded jar.\n[INFO] Including com.amazonaws:aws-java-sdk-sts:jar:1.11.986 in the shaded jar.\n[INFO] Including com.amazonaws:jmespath-java:jar:1.11.986 in the shaded jar.\n[INFO] Including software.amazon.awssdk:auth:jar:2.17.192 in the shaded jar.\n[INFO] Including software.amazon.awssdk:annotations:jar:2.17.192 in the shaded jar.\n[INFO] Including software.amazon.awssdk:utils:jar:2.17.192 in the shaded jar.\n[INFO] Including software.amazon.awssdk:sdk-core:jar:2.17.192 in the shaded jar.\n[INFO] Including software.amazon.awssdk:regions:jar:2.17.192 in the shaded jar.\n[INFO] Including software.amazon.awssdk:profiles:jar:2.17.192 in the shaded jar.\n[INFO] Including software.amazon.awssdk:http-client-spi:jar:2.17.192 in the shaded jar.\n[INFO] Including software.amazon.awssdk:json-utils:jar:2.17.192 in the shaded jar.\n[INFO] Including software.amazon.awssdk:third-party-jackson-core:jar:2.17.192 in the shaded jar.\n[INFO] Including software.amazon.eventstream:eventstream:jar:1.0.1 in the shaded jar.\n[INFO] Including software.amazon.awssdk:sso:jar:2.17.192 in the shaded jar.\n[INFO] Including software.amazon.awssdk:protocol-core:jar:2.17.192 in the shaded jar.\n[INFO] Including software.amazon.awssdk:aws-json-protocol:jar:2.17.192 in the shaded jar.\n[INFO] Including software.amazon.awssdk:aws-core:jar:2.17.192 in the shaded jar.\n[INFO] Including software.amazon.awssdk:metrics-spi:jar:2.17.192 in the shaded jar.\n[INFO] Including software.amazon.awssdk:netty-nio-client:jar:2.17.192 in the shaded jar.\n</code></pre>\n<p>My Kafka consumer config:</p>\n<pre><code>org.apache.kafka.clients.consumer.ConsumerConfig              - ConsumerConfig values: \n    auto.commit.interval.ms = 5000\n    auto.offset.reset = latest\n    bootstrap.servers = [***]\n    check.crcs = true\n    client.dns.lookup = default\n    client.id = \n    connections.max.idle.ms = 540000\n    default.api.timeout.ms = 60000\n    enable.auto.commit = true\n    exclude.internal.topics = true\n    fetch.max.bytes = 52428800\n    fetch.max.wait.ms = 500\n    fetch.min.bytes = 1\n    group.id = msk-gps-testing-FlinkRealTimeGPS\n    heartbeat.interval.ms = 3000\n    interceptor.classes = []\n    internal.leave.group.on.close = true\n    isolation.level = read_uncommitted\n    key.deserializer = class org.apache.kafka.common.serialization.ByteArrayDeserializer\n    max.partition.fetch.bytes = 1048576\n    max.poll.interval.ms = 300000\n    max.poll.records = 500\n    metadata.max.age.ms = 300000\n    metric.reporters = []\n    metrics.num.samples = 2\n    metrics.recording.level = INFO\n    metrics.sample.window.ms = 30000\n    partition.assignment.strategy = [class org.apache.kafka.clients.consumer.RangeAssignor]\n    receive.buffer.bytes = 65536\n    reconnect.backoff.max.ms = 1000\n    reconnect.backoff.ms = 50\n    request.timeout.ms = 30000\n    retry.backoff.ms = 100\n    sasl.client.callback.handler.class = class software.amazon.msk.auth.iam.IAMClientCallbackHandler\n    sasl.jaas.config = [hidden]\n    sasl.kerberos.kinit.cmd = /usr/bin/kinit\n    sasl.kerberos.min.time.before.relogin = 60000\n    sasl.kerberos.service.name = null\n    sasl.kerberos.ticket.renew.jitter = 0.05\n    sasl.kerberos.ticket.renew.window.factor = 0.8\n    sasl.login.callback.handler.class = null\n    sasl.login.class = null\n    sasl.login.refresh.buffer.seconds = 300\n    sasl.login.refresh.min.period.seconds = 60\n    sasl.login.refresh.window.factor = 0.8\n    sasl.login.refresh.window.jitter = 0.05\n    sasl.mechanism = AWS_MSK_IAM\n    security.protocol = SASL_SSL\n    send.buffer.bytes = 131072\n    session.timeout.ms = 10000\n    ssl.cipher.suites = null\n    ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]\n    ssl.endpoint.identification.algorithm = https\n    ssl.key.password = null\n    ssl.keymanager.algorithm = SunX509\n    ssl.keystore.location = null\n    ssl.keystore.password = null\n    ssl.keystore.type = JKS\n    ssl.protocol = TLS\n    ssl.provider = null\n    ssl.secure.random.implementation = null\n    ssl.trustmanager.algorithm = PKIX\n    ssl.truststore.location = /opt/certs/truststore.jks\n    ssl.truststore.password = [hidden]\n    ssl.truststore.type = JKS\n    value.deserializer = class org.apache.kafka.common.serialization.ByteArrayDeserializer\n</code></pre>\n<p>I've also checked for credentials on the flink cluster and this what I got:</p>\n<pre><code>ubuntu@flink1-10:~$ aws configure list\n\n      Name                    Value             Type    Location\n\n      ----                    -----             ----    --------\n\n   profile                &lt;not set&gt;             None    None\n\naccess_key     ********************         iam-role    \n\nsecret_key     ********************         iam-role    \n\n    region                &lt;not set&gt;             None    None\n</code></pre>\n<p>I've read all this documentation AWS provided: <a href=\"https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/msk/latest/developerguide/iam-access-control.html</a></p>\n<p>I've tried a lot of things to solve it, but I cannot find any answer.</p>\n"},{"tags":["java","spring","websphere","websphere-liberty","open-liberty"],"comments":[{"owner":{"account_id":47100,"reputation":1425,"user_id":139380,"display_name":"Azquelt"},"score":0,"creation_date":1655889899,"post_id":72709271,"comment_id":128436871,"body_markdown":"Can you include some example code from your application where you&#39;re trying to use the property? If you get an error, please include that as well.","body":"Can you include some example code from your application where you&#39;re trying to use the property? If you get an error, please include that as well."},{"owner":{"account_id":23979149,"reputation":31,"user_id":17966864,"display_name":"Rb C"},"score":0,"creation_date":1655904770,"post_id":72709271,"comment_id":128442671,"body_markdown":"@Azquelt its just normal java.util.Properties nothing special.","body":"@Azquelt its just normal java.util.Properties nothing special."},{"owner":{"account_id":47100,"reputation":1425,"user_id":139380,"display_name":"Azquelt"},"score":0,"creation_date":1655914928,"post_id":72709271,"comment_id":128446864,"body_markdown":"Ok, but how are you reading or injecting it? Are you using `@Inject` and expecting a framework to inject it, are you trying to do `Properties.load()` and read from a classpath resource or are you doing something different?","body":"Ok, but how are you reading or injecting it? Are you using <code>@Inject</code> and expecting a framework to inject it, are you trying to do <code>Properties.load()</code> and read from a classpath resource or are you doing something different?"},{"owner":{"account_id":47100,"reputation":1425,"user_id":139380,"display_name":"Azquelt"},"score":0,"creation_date":1655915132,"post_id":72709271,"comment_id":128446934,"body_markdown":"From your edit, it looks like you&#39;re setting a system property? Are you trying to read it in your application code with `System.getProperty(name)`?","body":"From your edit, it looks like you&#39;re setting a system property? Are you trying to read it in your application code with <code>System.getProperty(name)</code>?"}],"answers":[{"tags":[],"owner":{"account_id":4558101,"reputation":17722,"user_id":3701228,"display_name":"Gas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655900624,"creation_date":1655900624,"answer_id":72715429,"question_id":72709271,"body_markdown":"I&#39;d consider using Microprofile config, checkout this [guide][1] and see it does answer your questions.\r\n\r\nIt shows you how to inject variables using following schema:\r\n\r\n```\r\n@Inject @ConfigProperty(name=&quot;port&quot;)\r\nprivate int port;\r\n```\r\nassuming there is PORT env entry in your system.\r\n\r\nYou can also use env variables in server configuration using `server.xml` for example:\r\n\r\n```\r\n&lt;properties.db2.jcc serverName=&quot;${JDBC_HOST}&quot; portNumber=&quot;${JDBC_PORT}&quot; databaseName=&quot;${JDBC_DB}&quot; sslConnection=&quot;${JDBC_SSL}&quot;\r\n            user=&quot;${JDBC_ID}&quot; password=&quot;${JDBC_PASSWORD}&quot;/&gt;\r\n```\r\nDetails here https://openliberty.io/docs/latest/reference/config/server-configuration-overview.html\r\n\r\nFor your library point you would have to add it to your application via classloader, so I wouldn&#39;t recommend that. Like this:\r\n```\r\n&lt;application name=&quot;myapp&quot; type=&quot;ear&quot; location=&quot;myapp.ear&quot;&gt;\r\n  &lt;classloader commonLibraryRef=&quot;configs&quot; /&gt;\r\n&lt;/application&gt;\r\n```\r\n\r\nHope it solves your problems.\r\n\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://openliberty.io/guides/microprofile-config-intro.html","title":"With Open Liberty, how to use an environment variable as an application property?","body":"<p>I'd consider using Microprofile config, checkout this <a href=\"https://openliberty.io/guides/microprofile-config-intro.html\" rel=\"nofollow noreferrer\">guide</a> and see it does answer your questions.</p>\n<p>It shows you how to inject variables using following schema:</p>\n<pre><code>@Inject @ConfigProperty(name=&quot;port&quot;)\nprivate int port;\n</code></pre>\n<p>assuming there is PORT env entry in your system.</p>\n<p>You can also use env variables in server configuration using <code>server.xml</code> for example:</p>\n<pre><code>&lt;properties.db2.jcc serverName=&quot;${JDBC_HOST}&quot; portNumber=&quot;${JDBC_PORT}&quot; databaseName=&quot;${JDBC_DB}&quot; sslConnection=&quot;${JDBC_SSL}&quot;\n            user=&quot;${JDBC_ID}&quot; password=&quot;${JDBC_PASSWORD}&quot;/&gt;\n</code></pre>\n<p>Details here <a href=\"https://openliberty.io/docs/latest/reference/config/server-configuration-overview.html\" rel=\"nofollow noreferrer\">https://openliberty.io/docs/latest/reference/config/server-configuration-overview.html</a></p>\n<p>For your library point you would have to add it to your application via classloader, so I wouldn't recommend that. Like this:</p>\n<pre><code>&lt;application name=&quot;myapp&quot; type=&quot;ear&quot; location=&quot;myapp.ear&quot;&gt;\n  &lt;classloader commonLibraryRef=&quot;configs&quot; /&gt;\n&lt;/application&gt;\n</code></pre>\n<p>Hope it solves your problems.</p>\n"},{"tags":[],"owner":{"account_id":5763076,"reputation":355,"user_id":4548811,"display_name":"Brent Daniel"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1655918503,"creation_date":1655918503,"answer_id":72719617,"question_id":72709271,"body_markdown":"It should work for you exactly the way it does in Jboss:\r\n\r\n`wlp/bin/server start server1 -Dmy.ldap.url=$LDAP_URL`\r\n\r\nYour `&lt;variable&gt;` definition would create a Liberty configuration variable that resolves to the value of LDAP_URL in the environment, but it would not be set as a java system property. \r\n\r\nIf you&#39;re still seeing problems with passing the value on the command line you could check all java system properties by running:\r\n\r\n`wlp/bin/server dump {server name}`\r\n\r\nIn the output zip file, the dump_{timestamp}/introspections/JavaRuntimeInformation.txt will show both the command line arguments and all defined java system properties. ","title":"With Open Liberty, how to use an environment variable as an application property?","body":"<p>It should work for you exactly the way it does in Jboss:</p>\n<p><code>wlp/bin/server start server1 -Dmy.ldap.url=$LDAP_URL</code></p>\n<p>Your <code>&lt;variable&gt;</code> definition would create a Liberty configuration variable that resolves to the value of LDAP_URL in the environment, but it would not be set as a java system property.</p>\n<p>If you're still seeing problems with passing the value on the command line you could check all java system properties by running:</p>\n<p><code>wlp/bin/server dump {server name}</code></p>\n<p>In the output zip file, the dump_{timestamp}/introspections/JavaRuntimeInformation.txt will show both the command line arguments and all defined java system properties.</p>\n"},{"tags":[],"owner":{"account_id":23979149,"reputation":31,"user_id":17966864,"display_name":"Rb C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656515101,"creation_date":1656515101,"answer_id":72803707,"question_id":72709271,"body_markdown":"The final answer I found to this, is you can inject environment variables into properties using the `&lt;appProperties&gt;` tag in your server.xml\r\n\r\nDocumentation is here\r\nhttps://openliberty.io/guides/microprofile-config-intro.html#configuring-as-an-appproperties-element-scoped-by-application\r\n\r\nA simple example of this using an environment variable looks like ...\r\n\r\n    &lt;webApplication location=&quot;my.war&quot; type=&quot;war&quot;&gt;\r\n      &lt;appProperties&gt;\r\n         &lt;property name=&quot;my.ldap.url&quot; value=&quot;${LDAP_URL}&quot;/&gt;\r\n      &lt;/appProperties&gt;\r\n    &lt;/webApplication&gt;\r\n\r\n\r\n","title":"With Open Liberty, how to use an environment variable as an application property?","body":"<p>The final answer I found to this, is you can inject environment variables into properties using the <code>&lt;appProperties&gt;</code> tag in your server.xml</p>\n<p>Documentation is here\n<a href=\"https://openliberty.io/guides/microprofile-config-intro.html#configuring-as-an-appproperties-element-scoped-by-application\" rel=\"nofollow noreferrer\">https://openliberty.io/guides/microprofile-config-intro.html#configuring-as-an-appproperties-element-scoped-by-application</a></p>\n<p>A simple example of this using an environment variable looks like ...</p>\n<pre><code>&lt;webApplication location=&quot;my.war&quot; type=&quot;war&quot;&gt;\n  &lt;appProperties&gt;\n     &lt;property name=&quot;my.ldap.url&quot; value=&quot;${LDAP_URL}&quot;/&gt;\n  &lt;/appProperties&gt;\n&lt;/webApplication&gt;\n</code></pre>\n"}],"owner":{"account_id":23979149,"reputation":31,"user_id":17966864,"display_name":"Rb C"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1977,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1656515101,"creation_date":1655867783,"question_id":72709271,"body_markdown":"I expected to be able to do something like this in my server.xml, but I could not get it to work:\r\n\r\n    &lt;variable name=&quot;my.ldap.url&quot; value=&quot;${LDAP_URL}&quot; /&gt;\r\n\r\nSetting it in jvm.options or server.env do not seem to be options either from what I can tell. Neither of those are parsing environment variables from my tests.\r\n\r\n    -Dmy.ldap.url=$LDAP_URL\r\n\r\nSetting properties in my own files and using environment variables did not seem to work either. I tried something like this in my server.xml\r\n\r\n    &lt;library id=&quot;configs&quot;&gt;\r\n        &lt;fileset dir=&quot;${server.config.dir}/configs&quot; includes=&quot;*.properties&quot; /&gt;\r\n    &lt;/library&gt;\r\n\r\nSo I&#39;m just lost for ideas right now. How do I take environment variables and inject them into an Open Liberty application as application properties?\r\n\r\nI searched high and low for documentation on this, with no success.\r\n\r\nIn Jboss I was able to accomplish simple via \r\n\r\n    bin/standalone.sh -Dmy.ldap.url=$LDAP_URL","title":"With Open Liberty, how to use an environment variable as an application property?","body":"<p>I expected to be able to do something like this in my server.xml, but I could not get it to work:</p>\n<pre><code>&lt;variable name=&quot;my.ldap.url&quot; value=&quot;${LDAP_URL}&quot; /&gt;\n</code></pre>\n<p>Setting it in jvm.options or server.env do not seem to be options either from what I can tell. Neither of those are parsing environment variables from my tests.</p>\n<pre><code>-Dmy.ldap.url=$LDAP_URL\n</code></pre>\n<p>Setting properties in my own files and using environment variables did not seem to work either. I tried something like this in my server.xml</p>\n<pre><code>&lt;library id=&quot;configs&quot;&gt;\n    &lt;fileset dir=&quot;${server.config.dir}/configs&quot; includes=&quot;*.properties&quot; /&gt;\n&lt;/library&gt;\n</code></pre>\n<p>So I'm just lost for ideas right now. How do I take environment variables and inject them into an Open Liberty application as application properties?</p>\n<p>I searched high and low for documentation on this, with no success.</p>\n<p>In Jboss I was able to accomplish simple via</p>\n<pre><code>bin/standalone.sh -Dmy.ldap.url=$LDAP_URL\n</code></pre>\n"},{"tags":["java","spring","ehcache"],"comments":[{"owner":{"account_id":3330282,"reputation":1127,"user_id":2799389,"accept_rate":63,"display_name":"xedo"},"score":0,"creation_date":1429945381,"post_id":29862053,"comment_id":47849697,"body_markdown":"You don&#39;t really need to specify the key if there is only one argument","body":"You don&#39;t really need to specify the key if there is only one argument"},{"owner":{"account_id":3330282,"reputation":1127,"user_id":2799389,"accept_rate":63,"display_name":"xedo"},"score":0,"creation_date":1429945870,"post_id":29862053,"comment_id":47849809,"body_markdown":"could you add the test?","body":"could you add the test?"},{"owner":{"account_id":3330282,"reputation":1127,"user_id":2799389,"accept_rate":63,"display_name":"xedo"},"score":0,"creation_date":1429947823,"post_id":29862053,"comment_id":47850321,"body_markdown":"you miss the parameter at `dataService.findByDirector()`","body":"you miss the parameter at <code>dataService.findByDirector()</code>"},{"owner":{"account_id":5054136,"reputation":3210,"user_id":4057865,"accept_rate":100,"display_name":"Green Lei"},"score":0,"creation_date":1429948908,"post_id":29862053,"comment_id":47850628,"body_markdown":"which  parameter, please?","body":"which  parameter, please?"},{"owner":{"account_id":890308,"reputation":47359,"user_id":928711,"accept_rate":60,"display_name":"Guillaume Polet"},"score":0,"creation_date":1429952003,"post_id":29862053,"comment_id":47851451,"body_markdown":"@GreenLei `System.err.println(dataService.findByDirector());` you don&#39;t pass any `name` parameter to the method. It should be `System.err.println(dataService.findByDirector(&quot;John smith&quot;));` for example","body":"@GreenLei <code>System.err.println(dataService.findByDirector());</code> you don&#39;t pass any <code>name</code> parameter to the method. It should be <code>System.err.println(dataService.findByDirector(&quot;John smith&quot;));</code> for example"},{"owner":{"account_id":5054136,"reputation":3210,"user_id":4057865,"accept_rate":100,"display_name":"Green Lei"},"score":0,"creation_date":1429954879,"post_id":29862053,"comment_id":47852293,"body_markdown":"Thanks, I miss the parameter when edit my question. I added it.","body":"Thanks, I miss the parameter when edit my question. I added it."}],"answers":[{"tags":[],"owner":{"account_id":9949,"reputation":13854,"user_id":18591,"display_name":"Louis Jacomet"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1431334847,"creation_date":1431334847,"answer_id":30163463,"question_id":29862053,"body_markdown":"The message of the `IllegalArgumentException` is pretty explicit. The [following table](http://docs.spring.io/spring/docs/current/spring-framework-reference/html/cache.html#cache-spel-context) in the spring documentation indicates what is available for using argument names.\r\n\r\nAnd the relevant [`javac` options are documented](http://docs.oracle.com/javase/6/docs/technotes/tools/windows/javac.html#options). You want the `-g` ones in this context.","title":"spring cache - Null key returned for cache operation","body":"<p>The message of the <code>IllegalArgumentException</code> is pretty explicit. The <a href=\"http://docs.spring.io/spring/docs/current/spring-framework-reference/html/cache.html#cache-spel-context\" rel=\"nofollow\">following table</a> in the spring documentation indicates what is available for using argument names.</p>\n\n<p>And the relevant <a href=\"http://docs.oracle.com/javase/6/docs/technotes/tools/windows/javac.html#options\" rel=\"nofollow\"><code>javac</code> options are documented</a>. You want the <code>-g</code> ones in this context.</p>\n"},{"tags":[],"owner":{"account_id":422188,"reputation":176,"user_id":6399736,"display_name":"david chi"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1499396454,"creation_date":1499396454,"answer_id":44961877,"question_id":29862053,"body_markdown":"  \r\nyou could try to replace key with #p0\r\n\r\n    @Component\r\n    public class DataService {\r\n        @Cacheable(value=&quot;movieFindCache&quot;, key=&quot;#p0&quot;)\r\n        public String findByDirector(String name) {\r\n            return &quot;hello&quot;;\r\n        }\r\n    }\r\n\r\nreference from\r\nhttps://stackoverflow.com/questions/14197359/spring-cache-abstraction-vs-interfaces-vs-key-param-null-key-returned-for-cach\r\n","title":"spring cache - Null key returned for cache operation","body":"<p>you could try to replace key with #p0</p>\n\n<pre><code>@Component\npublic class DataService {\n    @Cacheable(value=\"movieFindCache\", key=\"#p0\")\n    public String findByDirector(String name) {\n        return \"hello\";\n    }\n}\n</code></pre>\n\n<p>reference from\n<a href=\"https://stackoverflow.com/questions/14197359/spring-cache-abstraction-vs-interfaces-vs-key-param-null-key-returned-for-cach\">Spring Cache Abstraction VS interfaces VS key param (&quot;Null key returned for cache operation&quot; error)</a></p>\n"},{"tags":[],"owner":{"account_id":2063530,"reputation":556,"user_id":1839580,"display_name":"Wil"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1553098899,"creation_date":1553098899,"answer_id":55265590,"question_id":29862053,"body_markdown":"I had this happen using ehCache 3.  It worked fine in my local environment using the parameter name as the key, for instance:\r\n\r\n    // this would fail\r\n    @Cacheable(value=&quot;movieFindCache&quot;, key=&quot;name&quot;)\r\n        public String findByDirector(String name) {\r\n\r\n\r\nbut when deployed in a test environment I would receive the error.  I resolved this by removing the key property from the @Cacheable annotation for methods with a single parameter:\r\n\r\n    // this worked\r\n    @Cacheable(&quot;movieFindCache&quot;)\r\n        public String findByDirector(String name) {\r\n\r\n","title":"spring cache - Null key returned for cache operation","body":"<p>I had this happen using ehCache 3.  It worked fine in my local environment using the parameter name as the key, for instance:</p>\n\n<pre><code>// this would fail\n@Cacheable(value=\"movieFindCache\", key=\"name\")\n    public String findByDirector(String name) {\n</code></pre>\n\n<p>but when deployed in a test environment I would receive the error.  I resolved this by removing the key property from the @Cacheable annotation for methods with a single parameter:</p>\n\n<pre><code>// this worked\n@Cacheable(\"movieFindCache\")\n    public String findByDirector(String name) {\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7426697,"reputation":2793,"user_id":5648942,"accept_rate":100,"display_name":"Javasick"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1574263309,"creation_date":1574263309,"answer_id":58957809,"question_id":29862053,"body_markdown":"Had the same problem, root cause was that in tests parameter was really null, so, just added not null check\r\n\r\n    @Cacheable(value=&quot;movieFindCache&quot;, key=&quot;#p0&quot;, condition=&quot;#p0!=null&quot;)\r\n    public String findByDirector(String name) {...}","title":"spring cache - Null key returned for cache operation","body":"<p>Had the same problem, root cause was that in tests parameter was really null, so, just added not null check</p>\n\n<pre><code>@Cacheable(value=\"movieFindCache\", key=\"#p0\", condition=\"#p0!=null\")\npublic String findByDirector(String name) {...}\n</code></pre>\n"}],"owner":{"account_id":5054136,"reputation":3210,"user_id":4057865,"accept_rate":100,"display_name":"Green Lei"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40994,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":44961877,"answer_count":4,"score":15,"last_activity_date":1656513932,"creation_date":1429944873,"question_id":29862053,"body_markdown":"I have been working with Spring Cache Abstraction and `Ehcache`. I&#39;m using the `@Cacheable` annotation on a target method like so:\r\n\r\n\r\n    @Component\r\n    public class DataService {\r\n        @Cacheable(value=&quot;movieFindCache&quot;, key=&quot;#name&quot;)\r\n\t    public String findByDirector(String name) {\r\n\t\t    return &quot;hello&quot;;\r\n        }\r\n\t}\r\n\r\nThis is my jUnit test:\r\n\r\n    public class ServiceTest extends AbstractJUnit4SpringContextTests{\r\n\r\n        @Resource\r\n        private DataService dataService;\r\n\r\n        @Test\r\n        public void test_service() {\r\n            System.err.println(dataService.findByDirector(&quot;Hello&quot;));\r\n        }\r\n    }\r\n\r\nThis is not working fine when I debug with jUnit test. It throws an `IllegalArgumentException` as follows: \r\n\r\n    java.lang.IllegalArgumentException: Null key returned for cache operation (maybe you are using named params on classes without debug info?) CacheableOperation[public java.lang.String com.eliteams.quick4j.web.service.ExcelDataService.getCarData()] caches=[movieFindCache] | key=&#39;#name&#39; | condition=&#39;&#39; | unless=&#39;&#39;\r\n\tat org.springframework.util.Assert.notNull(Assert.java:112)\r\n\tat org.springframework.cache.interceptor.CacheAspectSupport.generateKey(CacheAspectSupport.java:315)\r\n\tat org.springframework.cache.interceptor.CacheAspectSupport.collectPutRequests(CacheAspectSupport.java:265)\r\n\r\nI have the following config:\r\n\r\napplicationContext.xml:\r\n\r\n    &lt;cache:annotation-driven cache-manager=&quot;cacheManager&quot;/&gt;\r\n    &lt;bean id=&quot;ehCacheManagerFactory&quot; class=&quot;org.springframework.cache.ehcache.EhCacheManagerFactoryBean&quot;\r\n          p:configLocation=&quot;classpath:ehcache.xml&quot; p:shared=&quot;true&quot;/&gt;\r\n    &lt;bean id=&quot;cacheManager&quot; class=&quot;org.springframework.cache.ehcache.EhCacheCacheManager&quot;\r\n          p:cacheManager-ref=&quot;ehCacheManagerFactory&quot;/&gt;\r\n\r\nehcache.xml:\r\n\r\n    &lt;ehcache xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:noNamespaceSchemaLocation=&quot;http://ehcache.org/ehcache.xsd&quot;\r\n         updateCheck=&quot;true&quot;\r\n         monitoring=&quot;autodetect&quot;\r\n         dynamicConfig=&quot;true&quot;&gt;\r\n\r\n    &lt;diskStore path=&quot;java.io.tmpdir&quot; /&gt;\r\n\r\n    &lt;cache name=&quot;movieFindCache&quot;\r\n           maxEntriesLocalHeap=&quot;10000&quot;\r\n           maxEntriesLocalDisk=&quot;1000&quot;\r\n           eternal=&quot;false&quot;\r\n           diskSpoolBufferSizeMB=&quot;20&quot;\r\n           timeToIdleSeconds=&quot;300&quot; timeToLiveSeconds=&quot;600&quot;\r\n           memoryStoreEvictionPolicy=&quot;LFU&quot;\r\n           transactionalMode=&quot;off&quot;&gt;\r\n        &lt;persistence strategy=&quot;localTempSwap&quot; /&gt;\r\n    &lt;/cache&gt;\r\n\r\n&lt;/ehcache&gt;\r\n\r\nnote: If I don&#39;t specify the &quot;key&quot; in the `@Cacheable` annotations, it works.\r\n\r\nIs there anything I forgot to specify? config? annotations?","title":"spring cache - Null key returned for cache operation","body":"<p>I have been working with Spring Cache Abstraction and <code>Ehcache</code>. I'm using the <code>@Cacheable</code> annotation on a target method like so:</p>\n<pre><code>@Component\npublic class DataService {\n    @Cacheable(value=&quot;movieFindCache&quot;, key=&quot;#name&quot;)\n    public String findByDirector(String name) {\n        return &quot;hello&quot;;\n    }\n}\n</code></pre>\n<p>This is my jUnit test:</p>\n<pre><code>public class ServiceTest extends AbstractJUnit4SpringContextTests{\n\n    @Resource\n    private DataService dataService;\n\n    @Test\n    public void test_service() {\n        System.err.println(dataService.findByDirector(&quot;Hello&quot;));\n    }\n}\n</code></pre>\n<p>This is not working fine when I debug with jUnit test. It throws an <code>IllegalArgumentException</code> as follows:</p>\n<pre><code>java.lang.IllegalArgumentException: Null key returned for cache operation (maybe you are using named params on classes without debug info?) CacheableOperation[public java.lang.String com.eliteams.quick4j.web.service.ExcelDataService.getCarData()] caches=[movieFindCache] | key='#name' | condition='' | unless=''\nat org.springframework.util.Assert.notNull(Assert.java:112)\nat org.springframework.cache.interceptor.CacheAspectSupport.generateKey(CacheAspectSupport.java:315)\nat org.springframework.cache.interceptor.CacheAspectSupport.collectPutRequests(CacheAspectSupport.java:265)\n</code></pre>\n<p>I have the following config:</p>\n<p>applicationContext.xml:</p>\n<pre><code>&lt;cache:annotation-driven cache-manager=&quot;cacheManager&quot;/&gt;\n&lt;bean id=&quot;ehCacheManagerFactory&quot; class=&quot;org.springframework.cache.ehcache.EhCacheManagerFactoryBean&quot;\n      p:configLocation=&quot;classpath:ehcache.xml&quot; p:shared=&quot;true&quot;/&gt;\n&lt;bean id=&quot;cacheManager&quot; class=&quot;org.springframework.cache.ehcache.EhCacheCacheManager&quot;\n      p:cacheManager-ref=&quot;ehCacheManagerFactory&quot;/&gt;\n</code></pre>\n<p>ehcache.xml:</p>\n<pre><code>&lt;ehcache xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n     xsi:noNamespaceSchemaLocation=&quot;http://ehcache.org/ehcache.xsd&quot;\n     updateCheck=&quot;true&quot;\n     monitoring=&quot;autodetect&quot;\n     dynamicConfig=&quot;true&quot;&gt;\n\n&lt;diskStore path=&quot;java.io.tmpdir&quot; /&gt;\n\n&lt;cache name=&quot;movieFindCache&quot;\n       maxEntriesLocalHeap=&quot;10000&quot;\n       maxEntriesLocalDisk=&quot;1000&quot;\n       eternal=&quot;false&quot;\n       diskSpoolBufferSizeMB=&quot;20&quot;\n       timeToIdleSeconds=&quot;300&quot; timeToLiveSeconds=&quot;600&quot;\n       memoryStoreEvictionPolicy=&quot;LFU&quot;\n       transactionalMode=&quot;off&quot;&gt;\n    &lt;persistence strategy=&quot;localTempSwap&quot; /&gt;\n&lt;/cache&gt;\n</code></pre>\n\n<p>note: If I don't specify the &quot;key&quot; in the <code>@Cacheable</code> annotations, it works.</p>\n<p>Is there anything I forgot to specify? config? annotations?</p>\n"},{"tags":["java","android","sdk"],"comments":[{"owner":{"account_id":11293608,"reputation":526,"user_id":8281754,"display_name":"raxerz"},"score":0,"creation_date":1561863190,"post_id":56821250,"comment_id":100196962,"body_markdown":"Are you using a proxy? Is your internet working fine?","body":"Are you using a proxy? Is your internet working fine?"}],"answers":[{"tags":[],"owner":{"account_id":16019407,"reputation":194,"user_id":11561242,"display_name":"Nicat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1561849571,"creation_date":1561849030,"answer_id":56821374,"question_id":56821250,"body_markdown":"I think you should Migrate to AndroidX if you want to use `&#39;com.google.android.gms:play-services-auth:17.0.0&#39;` (17.0.0 version) or if you don&#39;t want to migrate androdiX use version 16.0.0 `implementation &#39;com.google.android.gms:play-services-auth:16.0.0&#39;`","title":"error: package android.support.v7.app does not exist","body":"<p>I think you should Migrate to AndroidX if you want to use <code>'com.google.android.gms:play-services-auth:17.0.0'</code> (17.0.0 version) or if you don't want to migrate androdiX use version 16.0.0 <code>implementation 'com.google.android.gms:play-services-auth:16.0.0'</code></p>\n"},{"tags":[],"owner":{"account_id":16357178,"reputation":81,"user_id":11813896,"display_name":"arpit patel"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1563693828,"creation_date":1563683920,"answer_id":57130369,"question_id":56821250,"body_markdown":"For latest version **(3.4 or higher)** of Android Studio\r\n\r\nInstead of \r\n\r\n    import android.support.v7.app.AppcompatActivity\r\n\r\nUse this\r\n\r\n    import androidx.appcompat.app.AppcompatActivity\r\n\r\nIn `MainActivity.java` or in main java file","title":"error: package android.support.v7.app does not exist","body":"<p>For latest version <strong>(3.4 or higher)</strong> of Android Studio</p>\n\n<p>Instead of </p>\n\n<pre><code>import android.support.v7.app.AppcompatActivity\n</code></pre>\n\n<p>Use this</p>\n\n<pre><code>import androidx.appcompat.app.AppcompatActivity\n</code></pre>\n\n<p>In <code>MainActivity.java</code> or in main java file</p>\n"},{"tags":[],"owner":{"account_id":8185087,"reputation":46,"user_id":6161130,"display_name":"John Pool"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656513897,"creation_date":1656513897,"answer_id":72803376,"question_id":56821250,"body_markdown":"The c in AppcompatActivity must be in uppercase:\r\n\r\n```\r\nimport androidx.appcompat.app.AppCompatActivity\r\n```","title":"error: package android.support.v7.app does not exist","body":"<p>The c in AppcompatActivity must be in uppercase:</p>\n<pre><code>import androidx.appcompat.app.AppCompatActivity\n</code></pre>\n"}],"owner":{"account_id":8266682,"reputation":314,"user_id":8450741,"display_name":"Anas Zayene"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8911,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":57130369,"answer_count":3,"score":1,"last_activity_date":1656513897,"creation_date":1561847300,"question_id":56821250,"body_markdown":"i&#39;m going to integrate firebase to my android project, but after following the tutorial i found that this error showing up\r\nerror: package android.support.v7.app does not exist.\r\ni tried to clean the project,and  i checked update in android . \r\nthis is my build.gradle [module ]\r\n\r\n    apply plugin: &#39;com.android.application&#39;\r\n    \r\n  \r\n    android {\r\n    compileSdkVersion 28\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.example.myapplication&quot;\r\n        minSdkVersion 15\r\n        targetSdkVersion 28\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n        testInstrumentationRunner &quot;android.support.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    }\r\n    dependencies {\r\n    implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n    implementation &#39;com.android.support:appcompat-v7:28.0.0&#39;\r\n    implementation &#39;com.android.support.constraint:constraint-layout:1.1.3&#39;\r\n    implementation &#39;com.android.support:design:28.0.0&#39;\r\n    testImplementation &#39;junit:junit:4.12&#39;\r\n      androidTestImplementation &#39;com.android.support.test:runner:1.0.2&#39;\r\n        androidTestImplementation \r\n    &#39;com.android.support.test.espresso:espresso-core:3.0.2&#39;\r\n    implementation &#39;com.google.android.gms:play-services-auth:17.0.0&#39;\r\n\r\n       }\r\n\r\nand this my build.gradle [ project ] \r\n\r\n    buildscript {\r\n    repositories {\r\n        google()\r\n        jcenter()\r\n        \r\n    }\r\n    dependencies {\r\n        classpath &#39;com.android.tools.build:gradle:3.4.1&#39;\r\n    }\r\n    }\r\n\r\n    allprojects {\r\n    repositories {\r\n        google()\r\n        jcenter()\r\n        \r\n    }\r\n    }\r\n\r\n    task clean(type: Delete) {\r\n    delete rootProject.buildDir\r\n    }\r\n\r\nplease help to solve this problem i spent all this day looking for a solution . thank you \r\n\r\n","title":"error: package android.support.v7.app does not exist","body":"<p>i'm going to integrate firebase to my android project, but after following the tutorial i found that this error showing up\nerror: package android.support.v7.app does not exist.\ni tried to clean the project,and  i checked update in android . \nthis is my build.gradle [module ]</p>\n\n<pre><code>apply plugin: 'com.android.application'\n\n\nandroid {\ncompileSdkVersion 28\n\ndefaultConfig {\n    applicationId \"com.example.myapplication\"\n    minSdkVersion 15\n    targetSdkVersion 28\n    versionCode 1\n    versionName \"1.0\"\n    testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n}\nbuildTypes {\n    release {\n        minifyEnabled false\n        proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n    }\n}\n}\ndependencies {\nimplementation fileTree(dir: 'libs', include: ['*.jar'])\nimplementation 'com.android.support:appcompat-v7:28.0.0'\nimplementation 'com.android.support.constraint:constraint-layout:1.1.3'\nimplementation 'com.android.support:design:28.0.0'\ntestImplementation 'junit:junit:4.12'\n  androidTestImplementation 'com.android.support.test:runner:1.0.2'\n    androidTestImplementation \n'com.android.support.test.espresso:espresso-core:3.0.2'\nimplementation 'com.google.android.gms:play-services-auth:17.0.0'\n\n   }\n</code></pre>\n\n<p>and this my build.gradle [ project ] </p>\n\n<pre><code>buildscript {\nrepositories {\n    google()\n    jcenter()\n\n}\ndependencies {\n    classpath 'com.android.tools.build:gradle:3.4.1'\n}\n}\n\nallprojects {\nrepositories {\n    google()\n    jcenter()\n\n}\n}\n\ntask clean(type: Delete) {\ndelete rootProject.buildDir\n}\n</code></pre>\n\n<p>please help to solve this problem i spent all this day looking for a solution . thank you </p>\n"},{"tags":["java","android","kotlin","arcore"],"answers":[{"tags":[],"owner":{"account_id":19897151,"reputation":193,"user_id":14578025,"display_name":"turbohenoch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656513832,"creation_date":1656513832,"answer_id":72803354,"question_id":72798290,"body_markdown":"First get some supported camera configs and select one fitting you. For example highest width*height\r\n\r\n    val bestConfig = session.getSupportedCameraConfigs(CameraConfigFilter(session)).maxByOrNull {\r\n                it.imageSize.width * it.imageSize.height\r\n            }\r\n\r\nThen reconfigure ARCore session to use this camera configuration.\r\n\r\n    session.cameraConfig = bestConfig\r\n   \r\nDocs here: https://developers.google.com/ar/reference/java/com/google/ar/core/Session#setCameraConfig-cameraConfig","title":"How to get high quality image from arcore","body":"<p>First get some supported camera configs and select one fitting you. For example highest width*height</p>\n<pre><code>val bestConfig = session.getSupportedCameraConfigs(CameraConfigFilter(session)).maxByOrNull {\n            it.imageSize.width * it.imageSize.height\n        }\n</code></pre>\n<p>Then reconfigure ARCore session to use this camera configuration.</p>\n<pre><code>session.cameraConfig = bestConfig\n</code></pre>\n<p>Docs here: <a href=\"https://developers.google.com/ar/reference/java/com/google/ar/core/Session#setCameraConfig-cameraConfig\" rel=\"nofollow noreferrer\">https://developers.google.com/ar/reference/java/com/google/ar/core/Session#setCameraConfig-cameraConfig</a></p>\n"}],"owner":{"account_id":25678854,"reputation":1,"user_id":19441901,"display_name":"unknown"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656513832,"creation_date":1656491792,"question_id":72798290,"body_markdown":"**I need high quality image with arcore. Currently I can extract the image but the armodel does not show.\r\nI have tried to get the image from draw frame\r\n** ","title":"How to get high quality image from arcore","body":"<p>**I need high quality image with arcore. Currently I can extract the image but the armodel does not show.\nI have tried to get the image from draw frame\n**</p>\n"},{"tags":["java","data-structures"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":5,"creation_date":1656513830,"post_id":72803329,"comment_id":128592336,"body_markdown":"Does this answer your question? [Why does the default Object.toString() include the hashcode?](https://stackoverflow.com/questions/4712139/why-does-the-default-object-tostring-include-the-hashcode)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/4712139/why-does-the-default-object-tostring-include-the-hashcode\">Why does the default Object.toString() include the hashcode?</a>"},{"owner":{"account_id":45934,"reputation":203659,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":4,"creation_date":1656513875,"post_id":72803329,"comment_id":128592355,"body_markdown":"See also: [How do I print my Java object without getting &quot;SomeType@2f92e0f4&quot;?](https://stackoverflow.com/questions/29140402/how-do-i-print-my-java-object-without-getting-sometype2f92e0f4)","body":"See also: <a href=\"https://stackoverflow.com/questions/29140402/how-do-i-print-my-java-object-without-getting-sometype2f92e0f4\">How do I print my Java object without getting &quot;SomeType@2f92e0f4&quot;?</a>"},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1656514020,"post_id":72803329,"comment_id":128592427,"body_markdown":"java does not know how to make a String representation of an instance of any random class. So there&#39;s a default implementation, the result of which you can see here.","body":"java does not know how to make a String representation of an instance of any random class. So there&#39;s a default implementation, the result of which you can see here."}],"owner":{"account_id":25479763,"reputation":1,"user_id":19276332,"display_name":"John david"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1656514113,"answer_count":0,"score":0,"last_activity_date":1656513749,"creation_date":1656513729,"question_id":72803329,"body_markdown":"    package packege1s;\r\n    \r\n    class p1{\r\n    \tp1 p;\r\n    \tint a;\r\n    \tp1(int a,p1 p){\r\n    \t\tthis.p = p;\r\n    \t\tthis.a = a;\r\n    \t}\r\n    }\r\n    \r\n    public class LinkedlistEg{\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\tp1 n = new p1(21,null);\r\n    \t\tp1 n1 = new p1(21,n);\r\n    \t\tSystem.out.println(n.p);\r\n    \t\tSystem.out.println(n1.p);\r\n    \t}\r\n    }\r\n\r\nWhen I run this code I get the following output : \r\n\r\n    null\r\n    packege1s.p1@156643d4\r\n\r\nWhat is packege1s.p1@156643d4? (packege1s is the name of the package)\r\n\r\n ","title":"Printing the reference of an object","body":"<pre><code>package packege1s;\n\nclass p1{\n    p1 p;\n    int a;\n    p1(int a,p1 p){\n        this.p = p;\n        this.a = a;\n    }\n}\n\npublic class LinkedlistEg{\n    \n    public static void main(String[] args) {\n\n        p1 n = new p1(21,null);\n        p1 n1 = new p1(21,n);\n        System.out.println(n.p);\n        System.out.println(n1.p);\n    }\n}\n</code></pre>\n<p>When I run this code I get the following output :</p>\n<pre><code>null\npackege1s.p1@156643d4\n</code></pre>\n<p>What is packege1s.p1@156643d4? (packege1s is the name of the package)</p>\n"},{"tags":["java","bouncycastle","public-key","secret-key","ecdh"],"comments":[{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1534468915,"post_id":51861056,"comment_id":90725779,"body_markdown":"(x,y) are not enough information, you also need to know what particular elliptic curve they are from.","body":"(x,y) are not enough information, you also need to know what particular elliptic curve they are from."},{"owner":{"account_id":1226320,"reputation":825,"user_id":8954551,"display_name":"Vito Lipari"},"score":0,"creation_date":1534702978,"post_id":51861056,"comment_id":90790942,"body_markdown":"I have all necessary informations ( curve name, curve parameters, etc.. ). How can I set the public key from this informations ( x,y point, curve parameters, etc.. )?\nBob must receive all the information from alice?","body":"I have all necessary informations ( curve name, curve parameters, etc.. ). How can I set the public key from this informations ( x,y point, curve parameters, etc.. )? Bob must receive all the information from alice?"},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1535941758,"post_id":51861056,"comment_id":91234870,"body_markdown":"I thought I already commented on this. If you just want a publickey, dupe https://stackoverflow.com/questions/30445997/loading-raw-64-byte-long-ecdsa-public-key-in-java and https://stackoverflow.com/questions/22646792/how-does-one-convert-a-public-ec-code-point-and-curve-name-into-a-publickey . If you particularly want to go through `X509EncodedKeySpec` even though you don&#39;t need to, see Maarten&#39;s answer to the former, or rfc5480 -- or rfc3279 except it&#39;s cheaper _and_ simpler to refer to SEC1 as 5480 does instead of only X9.62 as 3279 does. ...","body":"I thought I already commented on this. If you just want a publickey, dupe <a href=\"https://stackoverflow.com/questions/30445997/loading-raw-64-byte-long-ecdsa-public-key-in-java\" title=\"loading raw 64 byte long ecdsa public key in java\">stackoverflow.com/questions/30445997/&hellip;</a> and <a href=\"https://stackoverflow.com/questions/22646792/how-does-one-convert-a-public-ec-code-point-and-curve-name-into-a-publickey\" title=\"how does one convert a public ec code point and curve name into a publickey\">stackoverflow.com/questions/22646792/&hellip;</a> . If you particularly want to go through <code>X509EncodedKeySpec</code> even though you don&#39;t need to, see Maarten&#39;s answer to the former, or rfc5480 -- or rfc3279 except it&#39;s cheaper <i>and</i> simpler to refer to SEC1 as 5480 does instead of only X9.62 as 3279 does. ..."},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":1,"creation_date":1535941895,"post_id":51861056,"comment_id":91234893,"body_markdown":"... Also, unless you also send Bob&#39;s pubkey to Alice and let her do the derivation, you don&#39;t actually have key _agreement_: only Bob has the derived result, making it totally 100% useless.","body":"... Also, unless you also send Bob&#39;s pubkey to Alice and let her do the derivation, you don&#39;t actually have key <i>agreement</i>: only Bob has the derived result, making it totally 100% useless."}],"answers":[{"tags":[],"owner":{"account_id":1226320,"reputation":825,"user_id":8954551,"display_name":"Vito Lipari"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1656513255,"creation_date":1565904893,"answer_id":57516532,"question_id":51861056,"body_markdown":"I solved in this way ( Java Server Side )\r\n\r\n    // arrive a string like this 04456cb4ba8ee9263311485baa8562c27991f7ff22d59f3d8245b9a05661d159911b632a6f8a7a080d82f4ca77e4d12bb201b89c8ec93f61d5b4dd22df42e1b482\r\n    Map&lt;String, Object&gt; result = new HashMap&lt;&gt;();\r\n        try {\r\n\r\n            // set provider\r\n            Security.addProvider(new BouncyCastleProvider());\r\n\r\n            // transform from hex to ECPublicKey\r\n            byte[] ecRawExternalPublicKey = HexFormat.of().parseHex(clientPublicKey.getPublicKey());\r\n            ECPublicKey ecExternalPublicKey = null;\r\n            KeyFactory externalKeyFactor = null;\r\n\r\n            ECNamedCurveParameterSpec ecExternalNamedCurveParameterSpec = ECNamedCurveTable.getParameterSpec(&quot;secp256r1&quot;);\r\n            ECCurve curve = ecExternalNamedCurveParameterSpec.getCurve();\r\n            EllipticCurve ellipticCurve = EC5Util.convertCurve(curve, ecExternalNamedCurveParameterSpec.getSeed());\r\n            java.security.spec.ECPoint ecPoint = ECPointUtil.decodePoint(ellipticCurve, ecRawExternalPublicKey);\r\n            java.security.spec.ECParameterSpec ecParameterSpec = EC5Util.convertSpec(ellipticCurve, ecExternalNamedCurveParameterSpec);\r\n            java.security.spec.ECPublicKeySpec externalPublicKeySpec = new java.security.spec.ECPublicKeySpec(ecPoint, ecParameterSpec);\r\n\r\n            externalKeyFactor = java.security.KeyFactory.getInstance(&quot;EC&quot;);\r\n            // this is externalPubicKey\r\n            ecExternalPublicKey = (ECPublicKey) externalKeyFactor.generatePublic(externalPublicKeySpec);\r\n\r\n            KeyPairGenerator keyGen = KeyPairGenerator.getInstance(&quot;ECDH&quot;, &quot;BC&quot;);\r\n            keyGen.initialize(new ECGenParameterSpec(&quot;secp256r1&quot;), new SecureRandom());\r\n\r\n            KeyPair pair = keyGen.generateKeyPair();\r\n            ECPublicKey pub = (ECPublicKey)pair.getPublic();\r\n            ECPrivateKey pvt = (ECPrivateKey)pair.getPrivate();\r\n\r\n            byte[] pubEncoded = pub.getEncoded();\r\n            byte[] pvtEncoded = pvt.getEncoded();\r\n\r\n            KeyAgreement keyAgree = KeyAgreement.getInstance(&quot;ECDH&quot;);\r\n            keyAgree.init(pvt);\r\n            keyAgree.doPhase(ecExternalPublicKey, true);\r\n\r\n            System.out.println(&quot;sharedKey: &quot;+ this.bytesToHex( keyAgree.generateSecret() ));\r\n\r\n            // internal public key\r\n            return &quot;04&quot;+ pub.getW().getAffineX().toString(16) + pub.getW().getAffineY().toString(16)\r\n\r\n        }\r\n        catch (Exception e ){\r\n            e.printStackTrace();\r\n            return null;\r\n        }\r\n\r\n\r\nJavascript ( Client Side )\r\n\r\n    ecdhHandShake() {\r\n\t\tlet _this = this;\r\n\r\n\t\tthis.keyGeneration()\r\n\t\t.then( k =&gt; {\r\n\t\t\tajax({\r\n\t\t\t\turl: &quot;http://localhost:5050/test/ecdh/handshake&quot;,\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t&quot;Content-Type&quot;: &quot;application/json&quot;\r\n\t\t\t\t},\r\n\t\t\t\tbody: {\r\n\t\t\t\t\tpublickey: this.buf2Hex(this.publicKey)\r\n\t\t\t\t},\r\n\t\t\t\tmethod: &#39;POST&#39;,\r\n\t\t\t\tcrossDomain: true,\r\n\t\t\t\tresponseType: &#39;json&#39;\r\n\t\t\t})\r\n\t\t\t.subscribe(\r\n\t\t\t\tpayload =&gt; {\r\n\t\t\t\t\tconst publicKey = _this.hex2Arr(payload.response.publicKey);\r\n\t\t\t\t\t_this.serverPublicKey = _this.hex2Arr(payload.response.publicKey);\r\n\r\n\t\t\t\t\t_this.importServerKey()\r\n\t\t\t\t\t.then(sharedSecret =&gt; {\r\n\t\t\t\t\t\tconst sharedSecretHex = this.buf2Hex(sharedSecret);\r\n\t\t\t\t\t\tconsole.log(&quot;shared key: &quot;+ sharedSecretHex);\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch( e =&gt; {\r\n\t\t\t\t\t\tconsole.log(e);\r\n\t\t\t\t\t})\r\n\t\t\t\t},\r\n\t\t\t\terror =&gt; {\r\n\t\t\t\t\tconsole.log(error);\r\n\t\t\t\t},\r\n\t\t\t\t() =&gt; console.log(&#39;done&#39;)\r\n\t\t\t)\r\n\t\t\t;\r\n\t\t})\r\n\t\t.catch( e =&gt; {\r\n\t\t\tconsole.log(e);\r\n\t\t})\r\n\t\t;\r\n\t}\r\n    \r\n    \r\n    keyGeneration() {       \r\n        \r\n        let _this = this;\r\n        return window.crypto.subtle.generateKey(\r\n            {\r\n                name: &quot;ECDH&quot;,\r\n                namedCurve: &quot;P-256&quot;, // the curve name\r\n            },\r\n            true, // &lt;== Here if you want it to be exportable !!\r\n            [&quot;deriveKey&quot;, &quot;deriveBits&quot;] // usage\r\n        )\r\n        .then(key =&gt; {\r\n            _this.keys = key;\r\n            return window.crypto.subtle.exportKey(\r\n                &quot;raw&quot;, //can be &quot;jwk&quot; (public or private), &quot;raw&quot; (public only), &quot;spki&quot; (public only), or &quot;pkcs8&quot; (private only)\r\n                _this.keys.publicKey\r\n            )\r\n            .then(rawPublicKey =&gt; {\r\n                _this.publicKey = rawPublicKey;\r\n                return rawPublicKey;\r\n            })\r\n            .catch(function(err){\r\n                console.error(err);\r\n            })\r\n            ;\r\n        })\r\n        .catch(function(err){\r\n            console.error(err);\r\n        })\r\n        ;\r\n    \r\n    }\r\n\r\n    importServerKey() {\r\n\r\n        return window.crypto.subtle.importKey(\r\n            &#39;raw&#39;,\r\n            this.serverPublicKey,\r\n            {\r\n                name: &#39;ECDH&#39;,\r\n                namedCurve: &#39;P-256&#39;\r\n            },\r\n            true,\r\n            []\r\n        )\r\n        .then(aliceKeyImported =&gt; {\r\n            return window.crypto.subtle.deriveBits(\r\n                {\r\n                    name: &#39;ECDH&#39;,\r\n                    namedCurve: &#39;P-256&#39;,\r\n                    public: aliceKeyImported\r\n                },\r\n                this.keys.privateKey,\r\n                256)\r\n        })\r\n        .catch( e =&gt; {\r\n            console.log(e);\r\n        })\r\n    }\r\n\r\n\r\n    hex2Arr( str ) {\r\n        if (!str) {\r\n            return new Uint8Array();\r\n        }\r\n        const arr = [];\r\n        for (let i = 0, len = str.length; i &lt; len; i+=2) {\r\n            arr.push(parseInt(str.substr(i, 2), 16));\r\n        }\r\n        return new Uint8Array(arr);\r\n    }\r\n    \r\n    buf2Hex( buf ) {\r\n        return Array.from(new Uint8Array(buf))\r\n            .map(x =&gt; (&#39;00&#39; + x.toString(16)).slice(-2))\r\n            .join(&#39;&#39;)\r\n    }\r\n    \r\n    ","title":"Javascript - Java ECDH","body":"<p>I solved in this way ( Java Server Side )</p>\n<pre><code>// arrive a string like this 04456cb4ba8ee9263311485baa8562c27991f7ff22d59f3d8245b9a05661d159911b632a6f8a7a080d82f4ca77e4d12bb201b89c8ec93f61d5b4dd22df42e1b482\nMap&lt;String, Object&gt; result = new HashMap&lt;&gt;();\n    try {\n\n        // set provider\n        Security.addProvider(new BouncyCastleProvider());\n\n        // transform from hex to ECPublicKey\n        byte[] ecRawExternalPublicKey = HexFormat.of().parseHex(clientPublicKey.getPublicKey());\n        ECPublicKey ecExternalPublicKey = null;\n        KeyFactory externalKeyFactor = null;\n\n        ECNamedCurveParameterSpec ecExternalNamedCurveParameterSpec = ECNamedCurveTable.getParameterSpec(&quot;secp256r1&quot;);\n        ECCurve curve = ecExternalNamedCurveParameterSpec.getCurve();\n        EllipticCurve ellipticCurve = EC5Util.convertCurve(curve, ecExternalNamedCurveParameterSpec.getSeed());\n        java.security.spec.ECPoint ecPoint = ECPointUtil.decodePoint(ellipticCurve, ecRawExternalPublicKey);\n        java.security.spec.ECParameterSpec ecParameterSpec = EC5Util.convertSpec(ellipticCurve, ecExternalNamedCurveParameterSpec);\n        java.security.spec.ECPublicKeySpec externalPublicKeySpec = new java.security.spec.ECPublicKeySpec(ecPoint, ecParameterSpec);\n\n        externalKeyFactor = java.security.KeyFactory.getInstance(&quot;EC&quot;);\n        // this is externalPubicKey\n        ecExternalPublicKey = (ECPublicKey) externalKeyFactor.generatePublic(externalPublicKeySpec);\n\n        KeyPairGenerator keyGen = KeyPairGenerator.getInstance(&quot;ECDH&quot;, &quot;BC&quot;);\n        keyGen.initialize(new ECGenParameterSpec(&quot;secp256r1&quot;), new SecureRandom());\n\n        KeyPair pair = keyGen.generateKeyPair();\n        ECPublicKey pub = (ECPublicKey)pair.getPublic();\n        ECPrivateKey pvt = (ECPrivateKey)pair.getPrivate();\n\n        byte[] pubEncoded = pub.getEncoded();\n        byte[] pvtEncoded = pvt.getEncoded();\n\n        KeyAgreement keyAgree = KeyAgreement.getInstance(&quot;ECDH&quot;);\n        keyAgree.init(pvt);\n        keyAgree.doPhase(ecExternalPublicKey, true);\n\n        System.out.println(&quot;sharedKey: &quot;+ this.bytesToHex( keyAgree.generateSecret() ));\n\n        // internal public key\n        return &quot;04&quot;+ pub.getW().getAffineX().toString(16) + pub.getW().getAffineY().toString(16)\n\n    }\n    catch (Exception e ){\n        e.printStackTrace();\n        return null;\n    }\n</code></pre>\n<p>Javascript ( Client Side )</p>\n<pre><code>ecdhHandShake() {\n    let _this = this;\n\n    this.keyGeneration()\n    .then( k =&gt; {\n        ajax({\n            url: &quot;http://localhost:5050/test/ecdh/handshake&quot;,\n            headers: {\n                &quot;Content-Type&quot;: &quot;application/json&quot;\n            },\n            body: {\n                publickey: this.buf2Hex(this.publicKey)\n            },\n            method: 'POST',\n            crossDomain: true,\n            responseType: 'json'\n        })\n        .subscribe(\n            payload =&gt; {\n                const publicKey = _this.hex2Arr(payload.response.publicKey);\n                _this.serverPublicKey = _this.hex2Arr(payload.response.publicKey);\n\n                _this.importServerKey()\n                .then(sharedSecret =&gt; {\n                    const sharedSecretHex = this.buf2Hex(sharedSecret);\n                    console.log(&quot;shared key: &quot;+ sharedSecretHex);\n                })\n                .catch( e =&gt; {\n                    console.log(e);\n                })\n            },\n            error =&gt; {\n                console.log(error);\n            },\n            () =&gt; console.log('done')\n        )\n        ;\n    })\n    .catch( e =&gt; {\n        console.log(e);\n    })\n    ;\n}\n\n\nkeyGeneration() {       \n    \n    let _this = this;\n    return window.crypto.subtle.generateKey(\n        {\n            name: &quot;ECDH&quot;,\n            namedCurve: &quot;P-256&quot;, // the curve name\n        },\n        true, // &lt;== Here if you want it to be exportable !!\n        [&quot;deriveKey&quot;, &quot;deriveBits&quot;] // usage\n    )\n    .then(key =&gt; {\n        _this.keys = key;\n        return window.crypto.subtle.exportKey(\n            &quot;raw&quot;, //can be &quot;jwk&quot; (public or private), &quot;raw&quot; (public only), &quot;spki&quot; (public only), or &quot;pkcs8&quot; (private only)\n            _this.keys.publicKey\n        )\n        .then(rawPublicKey =&gt; {\n            _this.publicKey = rawPublicKey;\n            return rawPublicKey;\n        })\n        .catch(function(err){\n            console.error(err);\n        })\n        ;\n    })\n    .catch(function(err){\n        console.error(err);\n    })\n    ;\n\n}\n\nimportServerKey() {\n\n    return window.crypto.subtle.importKey(\n        'raw',\n        this.serverPublicKey,\n        {\n            name: 'ECDH',\n            namedCurve: 'P-256'\n        },\n        true,\n        []\n    )\n    .then(aliceKeyImported =&gt; {\n        return window.crypto.subtle.deriveBits(\n            {\n                name: 'ECDH',\n                namedCurve: 'P-256',\n                public: aliceKeyImported\n            },\n            this.keys.privateKey,\n            256)\n    })\n    .catch( e =&gt; {\n        console.log(e);\n    })\n}\n\n\nhex2Arr( str ) {\n    if (!str) {\n        return new Uint8Array();\n    }\n    const arr = [];\n    for (let i = 0, len = str.length; i &lt; len; i+=2) {\n        arr.push(parseInt(str.substr(i, 2), 16));\n    }\n    return new Uint8Array(arr);\n}\n\nbuf2Hex( buf ) {\n    return Array.from(new Uint8Array(buf))\n        .map(x =&gt; ('00' + x.toString(16)).slice(-2))\n        .join('')\n}\n</code></pre>\n"}],"owner":{"account_id":1226320,"reputation":825,"user_id":8954551,"display_name":"Vito Lipari"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1562,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":57516532,"answer_count":1,"score":2,"last_activity_date":1656513255,"creation_date":1534344562,"question_id":51861056,"body_markdown":"In my scenario there are Alice and Bob who have agreed on which curve to use. \r\n\r\n- Alice generates the public key and the private key \r\n- Alice sends the public key to Bob \r\n- Bob generates his keys and generates the session key ( or secret key, or shared key ) based on the Alice public key he received.\r\n\r\nMy problem is that Alice&#39;s public key is actually a point, so it has the xy format.\r\n\r\nI need to convert the x,y coordinates bytes into a ECPublicKey.\r\n\r\nThis is the source code I&#39;m using        \r\n\r\n        // outerPublicKey is the raw bytes from x,y coordinates in hex format\r\n        KeyFactory kf = KeyFactory.getInstance(&quot;EC&quot;);\r\n\r\n        PublicKey remoteAlicePub = kf.generatePublic(new X509EncodedKeySpec(outerPublicKey));\r\n\r\n        KeyPairGenerator bobKeyGen = KeyPairGenerator.getInstance(&quot;ECDH&quot;, &quot;BC&quot;);\r\n        bobKeyGen.initialize(new ECGenParameterSpec(properties.getCurveName()), new SecureRandom());\r\n\r\n        KeyPair bobPair = bobKeyGen.generateKeyPair();\r\n        ECPublicKey bobPub = (ECPublicKey)bobPair.getPublic();\r\n        ECPrivateKey bobPvt = (ECPrivateKey)bobPair.getPrivate();\r\n\r\n        byte[] bobPubEncoded = bobPub.getEncoded();\r\n        byte[] bobPvtEncoded = bobPvt.getEncoded();\r\n\r\n        KeyAgreement bobKeyAgree = KeyAgreement.getInstance(&quot;ECDH&quot;);\r\n        bobKeyAgree.init(bobPvt);\r\n        bobKeyAgree.doPhase(remoteAlicePub, true);\r\n\r\n        return DatatypeConverter.printHexBinary(bobKeyAgree.generateSecret());\r\n\r\n\r\nthe problem is:\r\n\r\n        new X509EncodedKeySpec(outerPublicKey);\r\n\r\n\r\nHow can I create a public key from the xy coordinates of the point?\r\nbecause `outerPublicKey` is a raw byte array of x,y coordinates, what kind of format should i use?","title":"Javascript - Java ECDH","body":"<p>In my scenario there are Alice and Bob who have agreed on which curve to use. </p>\n\n<ul>\n<li>Alice generates the public key and the private key </li>\n<li>Alice sends the public key to Bob </li>\n<li>Bob generates his keys and generates the session key ( or secret key, or shared key ) based on the Alice public key he received.</li>\n</ul>\n\n<p>My problem is that Alice's public key is actually a point, so it has the xy format.</p>\n\n<p>I need to convert the x,y coordinates bytes into a ECPublicKey.</p>\n\n<p>This is the source code I'm using        </p>\n\n<pre><code>    // outerPublicKey is the raw bytes from x,y coordinates in hex format\n    KeyFactory kf = KeyFactory.getInstance(\"EC\");\n\n    PublicKey remoteAlicePub = kf.generatePublic(new X509EncodedKeySpec(outerPublicKey));\n\n    KeyPairGenerator bobKeyGen = KeyPairGenerator.getInstance(\"ECDH\", \"BC\");\n    bobKeyGen.initialize(new ECGenParameterSpec(properties.getCurveName()), new SecureRandom());\n\n    KeyPair bobPair = bobKeyGen.generateKeyPair();\n    ECPublicKey bobPub = (ECPublicKey)bobPair.getPublic();\n    ECPrivateKey bobPvt = (ECPrivateKey)bobPair.getPrivate();\n\n    byte[] bobPubEncoded = bobPub.getEncoded();\n    byte[] bobPvtEncoded = bobPvt.getEncoded();\n\n    KeyAgreement bobKeyAgree = KeyAgreement.getInstance(\"ECDH\");\n    bobKeyAgree.init(bobPvt);\n    bobKeyAgree.doPhase(remoteAlicePub, true);\n\n    return DatatypeConverter.printHexBinary(bobKeyAgree.generateSecret());\n</code></pre>\n\n<p>the problem is:</p>\n\n<pre><code>    new X509EncodedKeySpec(outerPublicKey);\n</code></pre>\n\n<p>How can I create a public key from the xy coordinates of the point?\nbecause <code>outerPublicKey</code> is a raw byte array of x,y coordinates, what kind of format should i use?</p>\n"},{"tags":["java","android","user-interface","colors","android-styles"],"comments":[{"owner":{"account_id":1773418,"reputation":18513,"user_id":1617737,"accept_rate":53,"display_name":"ban-geoengineering"},"score":0,"creation_date":1452002890,"post_id":26788464,"comment_id":56972414,"body_markdown":"None of the XML-based answers so far have solved this issue for me, but I have successfully used your `homeAsUpIndicator` / `@drawable/abc_ic_ab_back_mtrl_am_alpha` code to make the back arrow white. I prefer this than hacking into the Java.","body":"None of the XML-based answers so far have solved this issue for me, but I have successfully used your <code>homeAsUpIndicator</code> / <code>@drawable&#47;abc_ic_ab_back_mtrl_am_alpha</code> code to make the back arrow white. I prefer this than hacking into the Java."},{"owner":{"account_id":5838839,"reputation":1527,"user_id":4601078,"accept_rate":27,"display_name":"f470071"},"score":0,"creation_date":1490895362,"post_id":26788464,"comment_id":73328545,"body_markdown":"Old but still. Are (were) you using ActionBar or the new Toolbar?","body":"Old but still. Are (were) you using ActionBar or the new Toolbar?"},{"owner":{"account_id":796053,"reputation":115361,"user_id":878126,"accept_rate":51,"display_name":"android developer"},"score":0,"creation_date":1513608279,"post_id":26788464,"comment_id":82706787,"body_markdown":"The default one is supposed to be a bit gray, by using android:theme=&quot;@style/Widget.AppCompat.Light.ActionBar&quot; inside the Toolbar XML tag. Its color is #737373","body":"The default one is supposed to be a bit gray, by using android:theme=&quot;@style/Widget.AppCompat.Light.ActionBar&quot; inside the Toolbar XML tag. Its color is #737373"}],"answers":[{"tags":[],"owner":{"account_id":292867,"reputation":6585,"user_id":595881,"accept_rate":85,"display_name":"Fl&#225;vio Faria"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1415306275,"creation_date":1415306275,"answer_id":26788957,"question_id":26788464,"body_markdown":"Just remove `android:homeAsUpIndicator` and `homeAsUpIndicator` from your theme and it will be fine. The `color` attribute in your `DrawerArrowStyle` style must be enough.","title":"How to change color of the back arrow in the new material theme?","body":"<p>Just remove <code>android:homeAsUpIndicator</code> and <code>homeAsUpIndicator</code> from your theme and it will be fine. The <code>color</code> attribute in your <code>DrawerArrowStyle</code> style must be enough.</p>\n"},{"tags":[],"owner":{"account_id":1136523,"reputation":11039,"user_id":1121497,"accept_rate":42,"display_name":"Ferran Maylinch"},"down_vote_count":5,"up_vote_count":1,"is_accepted":false,"score":-4,"last_activity_date":1415475498,"creation_date":1415475498,"answer_id":26821268,"question_id":26788464,"body_markdown":"Unless there&#39;s a better solution...\r\n\r\nWhat I did is to take the `@drawable/abc_ic_ab_back_mtrl_am_alpha` images, which seem to be white, and paint them in the color I desire using a photo editor.","title":"How to change color of the back arrow in the new material theme?","body":"<p>Unless there's a better solution...</p>\n\n<p>What I did is to take the <code>@drawable/abc_ic_ab_back_mtrl_am_alpha</code> images, which seem to be white, and paint them in the color I desire using a photo editor.</p>\n"},{"tags":[],"owner":{"account_id":3340451,"reputation":4509,"user_id":2806855,"display_name":"Carles"},"down_vote_count":3,"up_vote_count":374,"is_accepted":true,"score":371,"last_activity_date":1519390283,"creation_date":1415595750,"answer_id":26837072,"question_id":26788464,"body_markdown":"You can achieve it through code. Obtain the back arrow drawable, modify its color with a filter, and set it as back button.\r\n\r\n    final Drawable upArrow = getResources().getDrawable(R.drawable.abc_ic_ab_back_mtrl_am_alpha);\r\n    upArrow.setColorFilter(getResources().getColor(R.color.grey), PorterDuff.Mode.SRC_ATOP);\r\n    getSupportActionBar().setHomeAsUpIndicator(upArrow);\r\n\r\n**Revision 1:**\r\n\r\nStarting from API 23 (Marshmallow) the drawable resource `abc_ic_ab_back_mtrl_am_alpha` is changed to `abc_ic_ab_back_material`.\r\n \r\nEDIT:\r\n\r\nYou can use this code to achieve the results you want:\r\n\r\n    toolbar.getNavigationIcon().setColorFilter(getResources().getColor(R.color.blue_gray_15), PorterDuff.Mode.SRC_ATOP);","title":"How to change color of the back arrow in the new material theme?","body":"<p>You can achieve it through code. Obtain the back arrow drawable, modify its color with a filter, and set it as back button.</p>\n\n<pre><code>final Drawable upArrow = getResources().getDrawable(R.drawable.abc_ic_ab_back_mtrl_am_alpha);\nupArrow.setColorFilter(getResources().getColor(R.color.grey), PorterDuff.Mode.SRC_ATOP);\ngetSupportActionBar().setHomeAsUpIndicator(upArrow);\n</code></pre>\n\n<p><strong>Revision 1:</strong></p>\n\n<p>Starting from API 23 (Marshmallow) the drawable resource <code>abc_ic_ab_back_mtrl_am_alpha</code> is changed to <code>abc_ic_ab_back_material</code>.</p>\n\n<p>EDIT:</p>\n\n<p>You can use this code to achieve the results you want:</p>\n\n<pre><code>toolbar.getNavigationIcon().setColorFilter(getResources().getColor(R.color.blue_gray_15), PorterDuff.Mode.SRC_ATOP);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1833788,"reputation":4157,"user_id":1664556,"accept_rate":43,"display_name":"rockgecko"},"down_vote_count":5,"up_vote_count":218,"is_accepted":false,"score":213,"last_activity_date":1419211292,"creation_date":1418787148,"answer_id":27517878,"question_id":26788464,"body_markdown":"Looking at the `Toolbar` and `TintManager` source, `drawable/abc_ic_ab_back_mtrl_am_alpha` is tinted with the value of the style attribute `colorControlNormal`.\r\n\r\nI did try setting this in my project (with `&lt;item name=&quot;colorControlNormal&quot;&gt;@color/my_awesome_color&lt;/item&gt;` in my theme), but it&#39;s still black for me.\r\n\r\n**Update**:\r\n\r\nFound it. You need to set the `actionBarTheme` attribute (**not** `actionBarStyle`) with `colorControlNormal`.\r\n\r\nEg:\r\n\r\n    &lt;style name=&quot;MyTheme&quot; parent=&quot;Theme.AppCompat.Light&quot;&gt;        \r\n        &lt;item name=&quot;actionBarTheme&quot;&gt;@style/MyApp.ActionBarTheme&lt;/item&gt;\r\n        &lt;item name=&quot;actionBarStyle&quot;&gt;@style/MyApp.ActionBar&lt;/item&gt;\r\n        &lt;!-- color for widget theming, eg EditText. Doesn&#39;t effect ActionBar. --&gt;\r\n        &lt;item name=&quot;colorControlNormal&quot;&gt;@color/my_awesome_color&lt;/item&gt;\r\n        &lt;!-- The animated arrow style --&gt;\r\n        &lt;item name=&quot;drawerArrowStyle&quot;&gt;@style/DrawerArrowStyle&lt;/item&gt;\r\n    &lt;/style&gt;\r\n\r\n    &lt;style name=&quot;MyApp.ActionBarTheme&quot; parent=&quot;@style/ThemeOverlay.AppCompat.ActionBar&quot;&gt;       \r\n        &lt;!-- THIS is where you can color the arrow! --&gt;\r\n        &lt;item name=&quot;colorControlNormal&quot;&gt;@color/my_awesome_color&lt;/item&gt;\r\n    &lt;/style&gt;\r\n\r\n    &lt;style name=&quot;MyApp.ActionBarStyle&quot; parent=&quot;@style/Widget.AppCompat.Light.ActionBar&quot;&gt;\r\n        &lt;item name=&quot;elevation&quot;&gt;0dp&lt;/item&gt;      \r\n        &lt;!-- style for actionBar title --&gt;  \r\n        &lt;item name=&quot;titleTextStyle&quot;&gt;@style/ActionBarTitleText&lt;/item&gt;\r\n        &lt;!-- style for actionBar subtitle --&gt;  \r\n        &lt;item name=&quot;subtitleTextStyle&quot;&gt;@style/ActionBarSubtitleText&lt;/item&gt;\r\n\r\n        &lt;!-- \r\n        the actionBarTheme doesn&#39;t use the colorControlNormal attribute\r\n        &lt;item name=&quot;colorControlNormal&quot;&gt;@color/my_awesome_color&lt;/item&gt;\r\n         --&gt;\r\n    &lt;/style&gt;","title":"How to change color of the back arrow in the new material theme?","body":"<p>Looking at the <code>Toolbar</code> and <code>TintManager</code> source, <code>drawable/abc_ic_ab_back_mtrl_am_alpha</code> is tinted with the value of the style attribute <code>colorControlNormal</code>.</p>\n\n<p>I did try setting this in my project (with <code>&lt;item name=\"colorControlNormal\"&gt;@color/my_awesome_color&lt;/item&gt;</code> in my theme), but it's still black for me.</p>\n\n<p><strong>Update</strong>:</p>\n\n<p>Found it. You need to set the <code>actionBarTheme</code> attribute (<strong>not</strong> <code>actionBarStyle</code>) with <code>colorControlNormal</code>.</p>\n\n<p>Eg:</p>\n\n<pre><code>&lt;style name=\"MyTheme\" parent=\"Theme.AppCompat.Light\"&gt;        \n    &lt;item name=\"actionBarTheme\"&gt;@style/MyApp.ActionBarTheme&lt;/item&gt;\n    &lt;item name=\"actionBarStyle\"&gt;@style/MyApp.ActionBar&lt;/item&gt;\n    &lt;!-- color for widget theming, eg EditText. Doesn't effect ActionBar. --&gt;\n    &lt;item name=\"colorControlNormal\"&gt;@color/my_awesome_color&lt;/item&gt;\n    &lt;!-- The animated arrow style --&gt;\n    &lt;item name=\"drawerArrowStyle\"&gt;@style/DrawerArrowStyle&lt;/item&gt;\n&lt;/style&gt;\n\n&lt;style name=\"MyApp.ActionBarTheme\" parent=\"@style/ThemeOverlay.AppCompat.ActionBar\"&gt;       \n    &lt;!-- THIS is where you can color the arrow! --&gt;\n    &lt;item name=\"colorControlNormal\"&gt;@color/my_awesome_color&lt;/item&gt;\n&lt;/style&gt;\n\n&lt;style name=\"MyApp.ActionBarStyle\" parent=\"@style/Widget.AppCompat.Light.ActionBar\"&gt;\n    &lt;item name=\"elevation\"&gt;0dp&lt;/item&gt;      \n    &lt;!-- style for actionBar title --&gt;  \n    &lt;item name=\"titleTextStyle\"&gt;@style/ActionBarTitleText&lt;/item&gt;\n    &lt;!-- style for actionBar subtitle --&gt;  \n    &lt;item name=\"subtitleTextStyle\"&gt;@style/ActionBarSubtitleText&lt;/item&gt;\n\n    &lt;!-- \n    the actionBarTheme doesn't use the colorControlNormal attribute\n    &lt;item name=\"colorControlNormal\"&gt;@color/my_awesome_color&lt;/item&gt;\n     --&gt;\n&lt;/style&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":397387,"reputation":133,"user_id":761493,"display_name":"GFred"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1426652030,"creation_date":1426652030,"answer_id":29114008,"question_id":26788464,"body_markdown":"I found a solution that works pre Lollipop.  Set the &quot;colorControlNormal&quot; within the &quot;actionBarWidgetTheme&quot; to change the homeAsUpIndicator color.  Modifying rockgecko&#39;s answer from above to look like this:\r\n\r\n    &lt;style name=&quot;MyTheme&quot; parent=&quot;Theme.AppCompat.Light&quot;&gt;        \r\n        &lt;item name=&quot;actionBarTheme&quot;&gt;@style/MyApp.ActionBarTheme&lt;/item&gt;\r\n        &lt;item name=&quot;actionBarStyle&quot;&gt;@style/MyApp.ActionBar&lt;/item&gt;\r\n        &lt;!-- color for widget theming, eg EditText. Doesn&#39;t effect ActionBar. --&gt;\r\n        &lt;item name=&quot;colorControlNormal&quot;&gt;@color/my_awesome_color&lt;/item&gt;\r\n        &lt;!-- The animated arrow style --&gt;\r\n        &lt;item name=&quot;drawerArrowStyle&quot;&gt;@style/DrawerArrowStyle&lt;/item&gt;\r\n\t    &lt;!-- The style for the widgets on the ActionBar. --&gt;\r\n\t    &lt;item name=&quot;actionBarWidgetTheme&quot;&gt;@style/WidgetStyle&lt;/item&gt;\r\n    &lt;/style&gt;\r\n\r\n    &lt;style name=&quot;WidgetStyle&quot; parent=&quot;style/ThemeOverlay.AppCompat.Light&quot;&gt;\r\n\t    &lt;item name=&quot;colorControlNormal&quot;&gt;@color/my_awesome_color&lt;/item&gt;\r\n    &lt;/style&gt;","title":"How to change color of the back arrow in the new material theme?","body":"<p>I found a solution that works pre Lollipop.  Set the \"colorControlNormal\" within the \"actionBarWidgetTheme\" to change the homeAsUpIndicator color.  Modifying rockgecko's answer from above to look like this:</p>\n\n<pre><code>&lt;style name=\"MyTheme\" parent=\"Theme.AppCompat.Light\"&gt;        \n    &lt;item name=\"actionBarTheme\"&gt;@style/MyApp.ActionBarTheme&lt;/item&gt;\n    &lt;item name=\"actionBarStyle\"&gt;@style/MyApp.ActionBar&lt;/item&gt;\n    &lt;!-- color for widget theming, eg EditText. Doesn't effect ActionBar. --&gt;\n    &lt;item name=\"colorControlNormal\"&gt;@color/my_awesome_color&lt;/item&gt;\n    &lt;!-- The animated arrow style --&gt;\n    &lt;item name=\"drawerArrowStyle\"&gt;@style/DrawerArrowStyle&lt;/item&gt;\n    &lt;!-- The style for the widgets on the ActionBar. --&gt;\n    &lt;item name=\"actionBarWidgetTheme\"&gt;@style/WidgetStyle&lt;/item&gt;\n&lt;/style&gt;\n\n&lt;style name=\"WidgetStyle\" parent=\"style/ThemeOverlay.AppCompat.Light\"&gt;\n    &lt;item name=\"colorControlNormal\"&gt;@color/my_awesome_color&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1932473,"reputation":3546,"user_id":1741586,"accept_rate":25,"display_name":"Neo"},"down_vote_count":0,"up_vote_count":70,"is_accepted":false,"score":70,"last_activity_date":1467369020,"creation_date":1435517930,"answer_id":31103586,"question_id":26788464,"body_markdown":"Need to add a single attribute to your toolbar theme - \r\n\r\n    &lt;style name=&quot;toolbar_theme&quot; parent=&quot;@style/ThemeOverlay.AppCompat.Dark.ActionBar&quot;&gt;\r\n        &lt;item name=&quot;colorControlNormal&quot;&gt;@color/arrow_color&lt;/item&gt;\r\n    &lt;/style&gt;\r\nApply this toolbar_theme to your toolbar.\r\n\r\n**OR** \r\n\r\nyou can directly apply to your theme - \r\n\r\n    &lt;style name=&quot;CustomTheme&quot; parent=&quot;Theme.AppCompat.Light.NoActionBar&quot;&gt;\r\n      &lt;item name=&quot;colorControlNormal&quot;&gt;@color/arrow_color&lt;/item&gt; \r\n      //your code ....\r\n    &lt;/style&gt;","title":"How to change color of the back arrow in the new material theme?","body":"<p>Need to add a single attribute to your toolbar theme - </p>\n\n<pre><code>&lt;style name=\"toolbar_theme\" parent=\"@style/ThemeOverlay.AppCompat.Dark.ActionBar\"&gt;\n    &lt;item name=\"colorControlNormal\"&gt;@color/arrow_color&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n\n<p>Apply this toolbar_theme to your toolbar.</p>\n\n<p><strong>OR</strong> </p>\n\n<p>you can directly apply to your theme - </p>\n\n<pre><code>&lt;style name=\"CustomTheme\" parent=\"Theme.AppCompat.Light.NoActionBar\"&gt;\n  &lt;item name=\"colorControlNormal\"&gt;@color/arrow_color&lt;/item&gt; \n  //your code ....\n&lt;/style&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2605109,"reputation":4349,"user_id":2373113,"accept_rate":40,"display_name":"Jumpa"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1449581862,"creation_date":1436895662,"answer_id":31413647,"question_id":26788464,"body_markdown":"Use below method:\r\n\r\n    private Drawable getColoredArrow() {\r\n        Drawable arrowDrawable = getResources().getDrawable(R.drawable.abc_ic_ab_back_mtrl_am_alpha);\r\n        Drawable wrapped = DrawableCompat.wrap(arrowDrawable);\r\n    \r\n        if (arrowDrawable != null &amp;&amp; wrapped != null) {\r\n            // This should avoid tinting all the arrows\r\n            arrowDrawable.mutate();\r\n            DrawableCompat.setTint(wrapped, Color.GRAY);\r\n        }\r\n    \r\n        return wrapped;\r\n    }\r\n\r\nNow you can set the drawable with:\r\n\r\n    getSupportActionBar().setHomeAsUpIndicator(getColoredArrow());","title":"How to change color of the back arrow in the new material theme?","body":"<p>Use below method:</p>\n\n<pre><code>private Drawable getColoredArrow() {\n    Drawable arrowDrawable = getResources().getDrawable(R.drawable.abc_ic_ab_back_mtrl_am_alpha);\n    Drawable wrapped = DrawableCompat.wrap(arrowDrawable);\n\n    if (arrowDrawable != null &amp;&amp; wrapped != null) {\n        // This should avoid tinting all the arrows\n        arrowDrawable.mutate();\n        DrawableCompat.setTint(wrapped, Color.GRAY);\n    }\n\n    return wrapped;\n}\n</code></pre>\n\n<p>Now you can set the drawable with:</p>\n\n<pre><code>getSupportActionBar().setHomeAsUpIndicator(getColoredArrow());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4871977,"reputation":1612,"user_id":3928135,"display_name":"Harry Aung"},"down_vote_count":1,"up_vote_count":128,"is_accepted":false,"score":127,"last_activity_date":1442308664,"creation_date":1442308664,"answer_id":32582254,"question_id":26788464,"body_markdown":"Tried all suggestions above. The only way that I managed to change the color of navigation icon default Back button arrow in my toolbar is to set colorControlNormal in base theme like this. Probably due to the fact that the parent is using Theme.AppCompat.Light.NoActionBar  \r\n\r\n    &lt;style name=&quot;BaseTheme&quot; parent=&quot;Theme.AppCompat.Light.NoActionBar&quot;&gt;\r\n      &lt;item name=&quot;colorControlNormal&quot;&gt;@color/white&lt;/item&gt; \r\n      //the rest of your codes...\r\n    &lt;/style&gt;","title":"How to change color of the back arrow in the new material theme?","body":"<p>Tried all suggestions above. The only way that I managed to change the color of navigation icon default Back button arrow in my toolbar is to set colorControlNormal in base theme like this. Probably due to the fact that the parent is using Theme.AppCompat.Light.NoActionBar  </p>\n\n<pre><code>&lt;style name=\"BaseTheme\" parent=\"Theme.AppCompat.Light.NoActionBar\"&gt;\n  &lt;item name=\"colorControlNormal\"&gt;@color/white&lt;/item&gt; \n  //the rest of your codes...\n&lt;/style&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":451597,"reputation":9982,"user_id":847575,"accept_rate":93,"display_name":"Vinay W"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1467933845,"creation_date":1449669725,"answer_id":34180711,"question_id":26788464,"body_markdown":"Another solution that might work for you is to not declare your toolbar as the app&#39;s action bar ( by `setActionBar` or `setSupportActionBar` ) and set the back icon in your onActivityCreated using the code mentioned in another answer on this page\r\n\r\n    final Drawable upArrow = getResources().getDrawable(R.drawable.abc_ic_ab_back_mtrl_am_alpha);\r\n    upArrow.setColorFilter(getResources().getColor(R.color.grey), PorterDuff.Mode.SRC_ATOP);\r\n    toolbar.setNavigationIcon(upArrow);\r\n\r\nNow, you will not get the `onOptionItemSelected` callback when you press the back button. However, you can register for that using `setNavigationOnClickListener`. This is what i do: \r\n\r\n    toolbar.setNavigationOnClickListener(new View.OnClickListener() {\r\n        @Override\r\n        public void onClick(View view) {\r\n            getActivity().onBackPressed(); //or whatever you used to do on your onOptionItemSelected&#39;s android.R.id.home callback\r\n        }\r\n    });\r\n\r\nI&#39;m not sure if it will work if you work with menu items. ","title":"How to change color of the back arrow in the new material theme?","body":"<p>Another solution that might work for you is to not declare your toolbar as the app's action bar ( by <code>setActionBar</code> or <code>setSupportActionBar</code> ) and set the back icon in your onActivityCreated using the code mentioned in another answer on this page</p>\n\n<pre><code>final Drawable upArrow = getResources().getDrawable(R.drawable.abc_ic_ab_back_mtrl_am_alpha);\nupArrow.setColorFilter(getResources().getColor(R.color.grey), PorterDuff.Mode.SRC_ATOP);\ntoolbar.setNavigationIcon(upArrow);\n</code></pre>\n\n<p>Now, you will not get the <code>onOptionItemSelected</code> callback when you press the back button. However, you can register for that using <code>setNavigationOnClickListener</code>. This is what i do: </p>\n\n<pre><code>toolbar.setNavigationOnClickListener(new View.OnClickListener() {\n    @Override\n    public void onClick(View view) {\n        getActivity().onBackPressed(); //or whatever you used to do on your onOptionItemSelected's android.R.id.home callback\n    }\n});\n</code></pre>\n\n<p>I'm not sure if it will work if you work with menu items. </p>\n"},{"tags":[],"owner":{"account_id":2733341,"reputation":10415,"user_id":2356570,"accept_rate":73,"display_name":"capt.swag"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1454560960,"creation_date":1454560960,"answer_id":35192656,"question_id":26788464,"body_markdown":"The answer by Carles is the correct answer, but few of the methods like ***getDrawable(), getColor() got deprecated at the time I am writing this answer***. So the updated answer would be\r\n\r\n    Drawable upArrow = ContextCompat.getDrawable(context, R.drawable.abc_ic_ab_back_mtrl_am_alpha);\r\n    upArrow.setColorFilter(ContextCompat.getColor(context, R.color.white), PorterDuff.Mode.SRC_ATOP);\r\n    getSupportActionBar().setHomeAsUpIndicator(upArrow);\r\n\r\n---\r\nFollowing some other stackoverflow queries I found that calling ***ContextCompat.getDrawable()*** is similar to\r\n\r\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) {\r\n        return resources.getDrawable(id, context.getTheme());\r\n    } else {\r\n        return resources.getDrawable(id);\r\n    }\r\n\r\n---\r\nAnd **ContextCompat.getColor()** is similar to \r\n\r\n    public static final int getColor(Context context, int id) {\r\n        final int version = Build.VERSION.SDK_INT;\r\n        if (version &gt;= 23) {\r\n            return ContextCompatApi23.getColor(context, id);\r\n        } else {\r\n            return context.getResources().getColor(id);\r\n        }\r\n    }\r\n\r\n***[Link 1: ContextCompat.getDrawable()][1]***\r\n\r\n***[Link 2: ContextCompat.getColor()][2]***\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/29041027/android-getresources-getdrawable-deprecated-api-22\r\n  [2]: https://stackoverflow.com/questions/31590714/getcolorint-id-deprecated-on-android-6-0-marshmallow-api-23","title":"How to change color of the back arrow in the new material theme?","body":"<p>The answer by Carles is the correct answer, but few of the methods like <strong><em>getDrawable(), getColor() got deprecated at the time I am writing this answer</em></strong>. So the updated answer would be</p>\n\n<pre><code>Drawable upArrow = ContextCompat.getDrawable(context, R.drawable.abc_ic_ab_back_mtrl_am_alpha);\nupArrow.setColorFilter(ContextCompat.getColor(context, R.color.white), PorterDuff.Mode.SRC_ATOP);\ngetSupportActionBar().setHomeAsUpIndicator(upArrow);\n</code></pre>\n\n<hr>\n\n<p>Following some other stackoverflow queries I found that calling <strong><em>ContextCompat.getDrawable()</em></strong> is similar to</p>\n\n<pre><code>if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) {\n    return resources.getDrawable(id, context.getTheme());\n} else {\n    return resources.getDrawable(id);\n}\n</code></pre>\n\n<hr>\n\n<p>And <strong>ContextCompat.getColor()</strong> is similar to </p>\n\n<pre><code>public static final int getColor(Context context, int id) {\n    final int version = Build.VERSION.SDK_INT;\n    if (version &gt;= 23) {\n        return ContextCompatApi23.getColor(context, id);\n    } else {\n        return context.getResources().getColor(id);\n    }\n}\n</code></pre>\n\n<p><strong><em><a href=\"https://stackoverflow.com/questions/29041027/android-getresources-getdrawable-deprecated-api-22\">Link 1: ContextCompat.getDrawable()</a></em></strong></p>\n\n<p><strong><em><a href=\"https://stackoverflow.com/questions/31590714/getcolorint-id-deprecated-on-android-6-0-marshmallow-api-23\">Link 2: ContextCompat.getColor()</a></em></strong></p>\n"},{"tags":[],"owner":{"account_id":6631047,"reputation":805,"user_id":5119746,"display_name":"Julian Horst"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1455801566,"creation_date":1455801566,"answer_id":35482603,"question_id":26788464,"body_markdown":"We were running into the same problem and all we wanted was to set the \n\n**app:collapseIcon**\n\n  attribute in the toolbar in the end, which we did not find since it is not very well documented :)\n\n    &lt;android.support.v7.widget.Toolbar\n             android:id=&quot;@+id/toolbar&quot;\n             android:layout_width=&quot;match_parent&quot;\n             android:layout_height=&quot;@dimen/toolbarHeight&quot;\n             app:collapseIcon=&quot;@drawable/collapseBackIcon&quot; /&gt;","title":"How to change color of the back arrow in the new material theme?","body":"<p>We were running into the same problem and all we wanted was to set the</p>\n<p><strong>app:collapseIcon</strong></p>\n<p>attribute in the toolbar in the end, which we did not find since it is not very well documented :)</p>\n<pre><code>&lt;android.support.v7.widget.Toolbar\n         android:id=&quot;@+id/toolbar&quot;\n         android:layout_width=&quot;match_parent&quot;\n         android:layout_height=&quot;@dimen/toolbarHeight&quot;\n         app:collapseIcon=&quot;@drawable/collapseBackIcon&quot; /&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4190180,"reputation":822,"user_id":3432987,"accept_rate":13,"display_name":"Pravesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1461827258,"creation_date":1461827258,"answer_id":36907618,"question_id":26788464,"body_markdown":"You can change the color of the navigation icon programmatically like this:\r\n\r\n    mToolbar.setNavigationIcon(getColoredArrow()); \r\n    \r\n    private Drawable getColoredArrow() {\r\n            Drawable arrowDrawable = getResources().getDrawable(R.drawable.abc_ic_ab_back_mtrl_am_alpha);\r\n            Drawable wrapped = DrawableCompat.wrap(arrowDrawable);\r\n    \r\n            if (arrowDrawable != null &amp;&amp; wrapped != null) {\r\n                // This should avoid tinting all the arrows\r\n                arrowDrawable.mutate();\r\n                    DrawableCompat.setTintList(wrapped, ColorStateList.valueOf(this.getResources().getColor(R.color.your_color)));\r\n                }\r\n            }\r\n    \r\n            return wrapped;\r\n    }","title":"How to change color of the back arrow in the new material theme?","body":"<p>You can change the color of the navigation icon programmatically like this:</p>\n\n<pre><code>mToolbar.setNavigationIcon(getColoredArrow()); \n\nprivate Drawable getColoredArrow() {\n        Drawable arrowDrawable = getResources().getDrawable(R.drawable.abc_ic_ab_back_mtrl_am_alpha);\n        Drawable wrapped = DrawableCompat.wrap(arrowDrawable);\n\n        if (arrowDrawable != null &amp;&amp; wrapped != null) {\n            // This should avoid tinting all the arrows\n            arrowDrawable.mutate();\n                DrawableCompat.setTintList(wrapped, ColorStateList.valueOf(this.getResources().getColor(R.color.your_color)));\n            }\n        }\n\n        return wrapped;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6939736,"reputation":1514,"user_id":5326518,"accept_rate":25,"display_name":"S bruce"},"down_vote_count":1,"up_vote_count":47,"is_accepted":false,"score":46,"last_activity_date":1471962722,"creation_date":1471962722,"answer_id":39104056,"question_id":26788464,"body_markdown":"Just add \r\n\r\n    &lt;item name=&quot;colorControlNormal&quot;&gt;@color/white&lt;/item&gt; \r\n\r\nto your current app theme.","title":"How to change color of the back arrow in the new material theme?","body":"<p>Just add </p>\n\n<pre><code>&lt;item name=\"colorControlNormal\"&gt;@color/white&lt;/item&gt; \n</code></pre>\n\n<p>to your current app theme.</p>\n"},{"tags":[],"owner":{"account_id":3093463,"reputation":525,"user_id":2619136,"display_name":"manuelvsc"},"down_vote_count":0,"up_vote_count":34,"is_accepted":false,"score":34,"last_activity_date":1473934020,"creation_date":1473934020,"answer_id":39508362,"question_id":26788464,"body_markdown":"As said on most of the previous comments, the solution is to add \r\n\r\n`&lt;item name=&quot;colorControlNormal&quot;&gt;@color/white&lt;/item&gt;` \r\nto your app theme. \r\nBut confirm that you don&#180;t have another theme defined in your Toolbar element on your layout.\r\n\r\n         &lt;android.support.v7.widget.Toolbar\r\n                android:id=&quot;@+id/toolbar&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;?attr/actionBarSize&quot;\r\n                android:background=&quot;?attr/colorPrimary&quot;\r\n                android:elevation=&quot;4dp&quot;\r\n                android:theme=&quot;@style/ThemeOverlay.AppCompat.ActionBar&quot;\r\n                app:popupTheme=&quot;@style/ThemeOverlay.AppCompat.Light&quot; /&gt;","title":"How to change color of the back arrow in the new material theme?","body":"<p>As said on most of the previous comments, the solution is to add </p>\n\n<p><code>&lt;item name=\"colorControlNormal\"&gt;@color/white&lt;/item&gt;</code> \nto your app theme. \nBut confirm that you don´t have another theme defined in your Toolbar element on your layout.</p>\n\n<pre><code>     &lt;android.support.v7.widget.Toolbar\n            android:id=\"@+id/toolbar\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"?attr/actionBarSize\"\n            android:background=\"?attr/colorPrimary\"\n            android:elevation=\"4dp\"\n            android:theme=\"@style/ThemeOverlay.AppCompat.ActionBar\"\n            app:popupTheme=\"@style/ThemeOverlay.AppCompat.Light\" /&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7192082,"reputation":5768,"user_id":5492017,"display_name":"Siddarth Kanted"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1477308883,"creation_date":1477308883,"answer_id":40217359,"question_id":26788464,"body_markdown":"try this\r\n\r\n\r\n\tpublic void enableActionBarHomeButton(AppCompatActivity appCompatActivity, int colorId){\r\n\r\n        final Drawable upArrow = ContextCompat.getDrawable(appCompatActivity, R.drawable.abc_ic_ab_back_material);\r\n        upArrow.setColorFilter(ContextCompat.getColor(appCompatActivity, colorId), PorterDuff.Mode.SRC_ATOP);\r\n\r\n        android.support.v7.app.ActionBar mActionBar = appCompatActivity.getSupportActionBar();\r\n        mActionBar.setHomeAsUpIndicator(upArrow);\r\n        mActionBar.setHomeButtonEnabled(true);\r\n        mActionBar.setDisplayHomeAsUpEnabled(true);\r\n    }\r\n\r\nfunction call:\r\n\r\n\tenableActionBarHomeButton(this, R.color.white);","title":"How to change color of the back arrow in the new material theme?","body":"<p>try this</p>\n\n<pre><code>public void enableActionBarHomeButton(AppCompatActivity appCompatActivity, int colorId){\n\n    final Drawable upArrow = ContextCompat.getDrawable(appCompatActivity, R.drawable.abc_ic_ab_back_material);\n    upArrow.setColorFilter(ContextCompat.getColor(appCompatActivity, colorId), PorterDuff.Mode.SRC_ATOP);\n\n    android.support.v7.app.ActionBar mActionBar = appCompatActivity.getSupportActionBar();\n    mActionBar.setHomeAsUpIndicator(upArrow);\n    mActionBar.setHomeButtonEnabled(true);\n    mActionBar.setDisplayHomeAsUpEnabled(true);\n}\n</code></pre>\n\n<p>function call:</p>\n\n<pre><code>enableActionBarHomeButton(this, R.color.white);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":110236,"reputation":4799,"user_id":291779,"accept_rate":44,"display_name":"chrizonline"},"down_vote_count":2,"up_vote_count":9,"is_accepted":false,"score":7,"last_activity_date":1481270415,"creation_date":1481270415,"answer_id":41055677,"question_id":26788464,"body_markdown":"On compileSdkVersoin 25, you could do this:\r\n\r\nstyles.xml\r\n\r\n    &lt;style name=&quot;AppTheme&quot; parent=&quot;Theme.AppCompat.Light&quot;&gt;\r\n         &lt;item name=&quot;android:textColorSecondary&quot;&gt;@color/your_color&lt;/item&gt;\r\n    &lt;/style&gt;","title":"How to change color of the back arrow in the new material theme?","body":"<p>On compileSdkVersoin 25, you could do this:</p>\n\n<p>styles.xml</p>\n\n<pre><code>&lt;style name=\"AppTheme\" parent=\"Theme.AppCompat.Light\"&gt;\n     &lt;item name=\"android:textColorSecondary\"&gt;@color/your_color&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7488479,"reputation":345,"user_id":5690961,"display_name":"Sumit Saxena"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1487230407,"creation_date":1487230407,"answer_id":42267599,"question_id":26788464,"body_markdown":"[![enter image description here][1]][1]\r\n\r\nChange Menu Nav Icon Color\r\n\r\n\r\n\r\n[![Final convert Menu Icon Color][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xTC39.png\r\n  [2]: https://i.stack.imgur.com/vmoCu.png\r\n\r\nIn style.xml :\r\n\r\n    &lt;style name=&quot;MyMaterialTheme.Base&quot; parent=&quot;Theme.AppCompat.Light.DarkActionBar&quot;&gt;\r\n        &lt;item name=&quot;windowNoTitle&quot;&gt;true&lt;/item&gt;\r\n        &lt;item name=&quot;windowActionBar&quot;&gt;false&lt;/item&gt;\r\n        &lt;item name=&quot;colorPrimary&quot;&gt;@color/colorPrimary&lt;/item&gt;\r\n        &lt;item name=&quot;colorPrimaryDark&quot;&gt;@color/colorPrimaryDark&lt;/item&gt;\r\n        &lt;item name=&quot;colorAccent&quot;&gt;@color/colorAccent&lt;/item&gt;\r\n        &lt;item name=&quot;drawerArrowStyle&quot;&gt;@style/DrawerArrowStyle&lt;/item&gt;\r\n        &lt;item name=&quot;android:textColor&quot;&gt;@color/colorAccent&lt;/item&gt;\r\n    \r\n    \r\n    &lt;/style&gt;\r\n    \r\n    &lt;style name=&quot;DrawerArrowStyle&quot; parent=&quot;@style/Widget.AppCompat.DrawerArrowToggle&quot;&gt;\r\n        &lt;item name=&quot;spinBars&quot;&gt;true&lt;/item&gt;\r\n        &lt;item name=&quot;color&quot;&gt;@color/colorPrimaryDark&lt;/item&gt;\r\n    &lt;/style&gt;\r\n    \r\n\r\n  \r\n    \r\n\r\n \r\n\r\n    In Mainfests.xml :\r\n    \r\n    &lt;activity android:name=&quot;.MainActivity&quot;\r\n            android:theme=&quot;@style/MyMaterialTheme.Base&quot;&gt;&lt;/activity&gt;\r\n\r\n","title":"How to change color of the back arrow in the new material theme?","body":"<p><a href=\"https://i.stack.imgur.com/xTC39.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/xTC39.png\" alt=\"enter image description here\"></a></p>\n\n<p>Change Menu Nav Icon Color</p>\n\n<p><a href=\"https://i.stack.imgur.com/vmoCu.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/vmoCu.png\" alt=\"Final convert Menu Icon Color\"></a></p>\n\n<p>In style.xml :</p>\n\n<pre><code>&lt;style name=\"MyMaterialTheme.Base\" parent=\"Theme.AppCompat.Light.DarkActionBar\"&gt;\n    &lt;item name=\"windowNoTitle\"&gt;true&lt;/item&gt;\n    &lt;item name=\"windowActionBar\"&gt;false&lt;/item&gt;\n    &lt;item name=\"colorPrimary\"&gt;@color/colorPrimary&lt;/item&gt;\n    &lt;item name=\"colorPrimaryDark\"&gt;@color/colorPrimaryDark&lt;/item&gt;\n    &lt;item name=\"colorAccent\"&gt;@color/colorAccent&lt;/item&gt;\n    &lt;item name=\"drawerArrowStyle\"&gt;@style/DrawerArrowStyle&lt;/item&gt;\n    &lt;item name=\"android:textColor\"&gt;@color/colorAccent&lt;/item&gt;\n\n\n&lt;/style&gt;\n\n&lt;style name=\"DrawerArrowStyle\" parent=\"@style/Widget.AppCompat.DrawerArrowToggle\"&gt;\n    &lt;item name=\"spinBars\"&gt;true&lt;/item&gt;\n    &lt;item name=\"color\"&gt;@color/colorPrimaryDark&lt;/item&gt;\n&lt;/style&gt;\n\n\n\n\n\n\n\nIn Mainfests.xml :\n\n&lt;activity android:name=\".MainActivity\"\n        android:theme=\"@style/MyMaterialTheme.Base\"&gt;&lt;/activity&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6830031,"reputation":379,"user_id":5254420,"display_name":"longbaobao"},"down_vote_count":1,"up_vote_count":38,"is_accepted":false,"score":37,"last_activity_date":1487498348,"creation_date":1487498348,"answer_id":42325863,"question_id":26788464,"body_markdown":"if use `Toolbar`,you can try this\r\n\r\n    Drawable drawable = toolbar.getNavigationIcon();\r\n    drawable.setColorFilter(ContextCompat.getColor(appCompatActivity, colorId), PorterDuff.Mode.SRC_ATOP);","title":"How to change color of the back arrow in the new material theme?","body":"<p>if use <code>Toolbar</code>,you can try this</p>\n\n<pre><code>Drawable drawable = toolbar.getNavigationIcon();\ndrawable.setColorFilter(ContextCompat.getColor(appCompatActivity, colorId), PorterDuff.Mode.SRC_ATOP);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1164443,"reputation":8160,"user_id":1143361,"accept_rate":56,"display_name":"fullmoon"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1506925599,"creation_date":1506925599,"answer_id":46520443,"question_id":26788464,"body_markdown":"I just changed the toolbar theme to be @style/ThemeOverlay.AppCompat.Light \r\n\r\nand the arrow became dark gray\r\n\r\n                &lt;android.support.v7.widget.Toolbar\r\n                android:id=&quot;@+id/toolbar&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;?attr/actionBarSize&quot;\r\n                android:gravity=&quot;center&quot;\r\n                app:layout_collapseMode=&quot;pin&quot;\r\n                app:theme=&quot;@style/ThemeOverlay.AppCompat.Light&quot;&gt;","title":"How to change color of the back arrow in the new material theme?","body":"<p>I just changed the toolbar theme to be @style/ThemeOverlay.AppCompat.Light </p>\n\n<p>and the arrow became dark gray</p>\n\n<pre><code>            &lt;android.support.v7.widget.Toolbar\n            android:id=\"@+id/toolbar\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"?attr/actionBarSize\"\n            android:gravity=\"center\"\n            app:layout_collapseMode=\"pin\"\n            app:theme=\"@style/ThemeOverlay.AppCompat.Light\"&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7112041,"reputation":851,"user_id":5439549,"display_name":"Sadashiv"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1574060844,"creation_date":1573726817,"answer_id":58854391,"question_id":26788464,"body_markdown":"This is what worked for me:\r\n\r\nAdd the below attributes to your theme.\r\n\r\nTo change toolbar/actionbar back arrow above api 21\r\n\r\n    &lt;item name=&quot;android:homeAsUpIndicator&quot;&gt;@drawable/your_drawable_icon&lt;/item&gt;\r\nTo change toolbar/actionbar back arrow below api 21\r\n\r\n    &lt;item name=&quot;homeAsUpIndicator&quot;&gt;@drawable/your_drawable_icon&lt;/item&gt;\r\n\r\nTo change action mode back arrow\r\n\r\n    &lt;item name=&quot;actionModeCloseDrawable&quot;&gt;@drawable/your_drawable_icon&lt;/item&gt;\r\nTo remove toolbar/actionbar shadow\r\n\r\n    &lt;item name=&quot;android:elevation&quot; tools:targetApi=&quot;lollipop&quot;&gt;0dp&lt;/item&gt;\r\n    &lt;item name=&quot;elevation&quot;&gt;0dp&lt;/item&gt;\r\n    &lt;!--backward compatibility--&gt;\r\n    &lt;item name=&quot;android:windowContentOverlay&quot;&gt;@null&lt;/item&gt;\r\n\r\n To change actionbar overflow drawable\r\n\r\n    &lt;!--under theme--&gt;\r\n    &lt;item name=&quot;actionOverflowButtonStyle&quot;&gt;@style/MenuOverflowStyle&lt;/item&gt;\r\n    \r\n    &lt;style name=&quot;MenuOverflowStyle&quot; parent=&quot;Widget.AppCompat.ActionButton.Overflow&quot;&gt;\r\n    &lt;item name=&quot;srcCompat&quot;&gt;@drawable/ic_menu_overflow&lt;/item&gt;\r\n  &lt;/style&gt;\r\n\r\nNote : &#39;srcCompat&#39; is used instead of &#39;android:src&#39; because of vector drawable support for api below 21","title":"How to change color of the back arrow in the new material theme?","body":"<p>This is what worked for me:</p>\n\n<p>Add the below attributes to your theme.</p>\n\n<p>To change toolbar/actionbar back arrow above api 21</p>\n\n<pre><code>&lt;item name=\"android:homeAsUpIndicator\"&gt;@drawable/your_drawable_icon&lt;/item&gt;\n</code></pre>\n\n<p>To change toolbar/actionbar back arrow below api 21</p>\n\n<pre><code>&lt;item name=\"homeAsUpIndicator\"&gt;@drawable/your_drawable_icon&lt;/item&gt;\n</code></pre>\n\n<p>To change action mode back arrow</p>\n\n<pre><code>&lt;item name=\"actionModeCloseDrawable\"&gt;@drawable/your_drawable_icon&lt;/item&gt;\n</code></pre>\n\n<p>To remove toolbar/actionbar shadow</p>\n\n<pre><code>&lt;item name=\"android:elevation\" tools:targetApi=\"lollipop\"&gt;0dp&lt;/item&gt;\n&lt;item name=\"elevation\"&gt;0dp&lt;/item&gt;\n&lt;!--backward compatibility--&gt;\n&lt;item name=\"android:windowContentOverlay\"&gt;@null&lt;/item&gt;\n</code></pre>\n\n<p>To change actionbar overflow drawable</p>\n\n<pre><code>&lt;!--under theme--&gt;\n&lt;item name=\"actionOverflowButtonStyle\"&gt;@style/MenuOverflowStyle&lt;/item&gt;\n\n&lt;style name=\"MenuOverflowStyle\" parent=\"Widget.AppCompat.ActionButton.Overflow\"&gt;\n&lt;item name=\"srcCompat\"&gt;@drawable/ic_menu_overflow&lt;/item&gt;\n</code></pre>\n\n<p></p>\n\n<p>Note : 'srcCompat' is used instead of 'android:src' because of vector drawable support for api below 21</p>\n"},{"tags":[],"owner":{"account_id":85690,"reputation":41035,"user_id":238753,"accept_rate":61,"display_name":"Sam"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1580511318,"creation_date":1580511318,"answer_id":60012351,"question_id":26788464,"body_markdown":"Here&#39;s how I did it in Material Components:\r\n\r\n```xml\r\n&lt;style name=&quot;AppTheme&quot; parent=&quot;Theme.MaterialComponents.DayNight.NoActionBar&quot;&gt;\r\n    &lt;item name=&quot;drawerArrowStyle&quot;&gt;@style/AppTheme.DrawerArrowToggle&lt;/item&gt;\r\n&lt;/style&gt;\r\n\r\n&lt;style name=&quot;AppTheme.DrawerArrowToggle&quot; parent=&quot;Widget.AppCompat.DrawerArrowToggle&quot;&gt;\r\n    &lt;item name=&quot;color&quot;&gt;@android:color/white&lt;/item&gt;\r\n&lt;/style&gt;\r\n```","title":"How to change color of the back arrow in the new material theme?","body":"<p>Here's how I did it in Material Components:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;style name=\"AppTheme\" parent=\"Theme.MaterialComponents.DayNight.NoActionBar\"&gt;\n    &lt;item name=\"drawerArrowStyle\"&gt;@style/AppTheme.DrawerArrowToggle&lt;/item&gt;\n&lt;/style&gt;\n\n&lt;style name=\"AppTheme.DrawerArrowToggle\" parent=\"Widget.AppCompat.DrawerArrowToggle\"&gt;\n    &lt;item name=\"color\"&gt;@android:color/white&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9667071,"reputation":415,"user_id":8408851,"display_name":"Suyog n"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1587994450,"creation_date":1587994450,"answer_id":61460127,"question_id":26788464,"body_markdown":"Solution is very simple\r\n\r\nJust put following line into your style named as **AppTheme** \r\n\r\n    &lt;item name=&quot;colorControlNormal&quot;&gt;@color/white&lt;/item&gt;\r\n\r\nNow your whole xml code will look like shown below (default style).\r\n\r\n    &lt;style name=&quot;AppTheme&quot; parent=&quot;Theme.AppCompat.Light.NoActionBar&quot;&gt;\r\n    \r\n            &lt;item name=&quot;colorPrimary&quot;&gt;#0F0F0F&lt;/item&gt;\r\n            &lt;item name=&quot;android:statusBarColor&quot;&gt;#EEEEF0&lt;/item&gt;\r\n            &lt;item name=&quot;android:windowLightStatusBar&quot;&gt;true&lt;/item&gt;\r\n            &lt;item name=&quot;colorAccent&quot;&gt;@color/colorAccent&lt;/item&gt;\r\n            &lt;item name=&quot;android:windowActivityTransitions&quot;&gt;true&lt;/item&gt;\r\n    \r\n            &lt;item name=&quot;colorControlNormal&quot;&gt;@color/white&lt;/item&gt;\r\n    &lt;/style&gt;","title":"How to change color of the back arrow in the new material theme?","body":"<p>Solution is very simple</p>\n\n<p>Just put following line into your style named as <strong>AppTheme</strong> </p>\n\n<pre><code>&lt;item name=\"colorControlNormal\"&gt;@color/white&lt;/item&gt;\n</code></pre>\n\n<p>Now your whole xml code will look like shown below (default style).</p>\n\n<pre><code>&lt;style name=\"AppTheme\" parent=\"Theme.AppCompat.Light.NoActionBar\"&gt;\n\n        &lt;item name=\"colorPrimary\"&gt;#0F0F0F&lt;/item&gt;\n        &lt;item name=\"android:statusBarColor\"&gt;#EEEEF0&lt;/item&gt;\n        &lt;item name=\"android:windowLightStatusBar\"&gt;true&lt;/item&gt;\n        &lt;item name=\"colorAccent\"&gt;@color/colorAccent&lt;/item&gt;\n        &lt;item name=\"android:windowActivityTransitions\"&gt;true&lt;/item&gt;\n\n        &lt;item name=\"colorControlNormal\"&gt;@color/white&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2752329,"reputation":7312,"user_id":2371425,"accept_rate":72,"display_name":"Sakiboy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1613531294,"creation_date":1613531294,"answer_id":66235204,"question_id":26788464,"body_markdown":"The simplest (and best) way to change the color of the back/up-arrow. Best part is \r\nthat there are **no side-effects** (unlike the other answers)! \r\n\r\n - Create a style with parent `Widget.AppCompat.DrawerArrowToggle`, define the `color` and any other attributes you&#39;d like.\r\n - Set the style on the `drawerArrowStyle` attribute in the apps Theme.\r\n\r\n**Create style:**\r\n\r\n    &lt;style name=&quot;DrawerArrowStyle&quot; parent=&quot;Widget.AppCompat.DrawerArrowToggle&quot;&gt;\r\n        &lt;!--        Set that the nav buttons will animate--&gt;\r\n        &lt;item name=&quot;spinBars&quot;&gt;true&lt;/item&gt;\r\n        &lt;!--        Set the color of the up arrow / hamburger button--&gt;\r\n        &lt;item name=&quot;color&quot;&gt;@color/white&lt;/item&gt;\r\n    &lt;/style&gt;\r\n\r\n**Set the style in App Theme:**\r\n\r\n    &lt;!-- Base application theme. --&gt;\r\n    &lt;style name=&quot;AppTheme&quot; parent=&quot;Theme.MaterialComponents.Light.NoActionBar&quot;&gt;\r\n        &lt;item name=&quot;colorPrimary&quot;&gt;@color/colorPrimary&lt;/item&gt;\r\n        &lt;item name=&quot;colorPrimaryDark&quot;&gt;@color/colorPrimaryDark&lt;/item&gt;\r\n        &lt;item name=&quot;colorAccent&quot;&gt;@color/colorAccent&lt;/item&gt;\r\n\r\n        &lt;!--  Change global up-arrow color with no side-effects    --&gt;\r\n        &lt;item name=&quot;drawerArrowStyle&quot;&gt;@style/DrawerArrowStyle&lt;/item&gt;\r\n    &lt;/style&gt;\r\n\r\n\r\nTo change the `ToolBar` text color (and other attributes), create this `style`:\r\n\r\n    &lt;style name=&quot;ToolbarStyle&quot; parent=&quot;Widget.AppCompat.Toolbar&quot;&gt;\r\n        &lt;item name=&quot;android:textColor&quot;&gt;@color/white&lt;/item&gt;\r\n        &lt;item name=&quot;titleTextColor&quot;&gt;@color/white&lt;/item&gt;\r\n        &lt;item name=&quot;colorControlNormal&quot;&gt;@color/white&lt;/item&gt; &lt;!-- colorControlNormal is Probably not necessary    --&gt;\r\n    &lt;/style&gt;\r\n\r\nThen set that style on the AppTheme:\r\n\r\n    &lt;!-- Base application theme. --&gt;\r\n    &lt;style name=&quot;AppTheme.MyProduceApp&quot; parent=&quot;Theme.MaterialComponents.Light.NoActionBar.Bridge&quot;&gt;\r\n        &lt;item name=&quot;colorPrimary&quot;&gt;@color/colorPrimary&lt;/item&gt;\r\n        &lt;item name=&quot;colorPrimaryDark&quot;&gt;@color/colorPrimaryDark&lt;/item&gt;\r\n        &lt;item name=&quot;colorAccent&quot;&gt;@color/colorAccent&lt;/item&gt;\r\n\r\n        &lt;!--  Style the toolbar (mostly the color of the text) --&gt;\r\n        &lt;item name=&quot;toolbarStyle&quot;&gt;@style/ToolbarStyle&lt;/item&gt;\r\n        &lt;!--  Change color of up-arrow    --&gt;\r\n        &lt;item name=&quot;drawerArrowStyle&quot;&gt;@style/DrawerArrowStyle&lt;/item&gt;\r\n    &lt;/style&gt;","title":"How to change color of the back arrow in the new material theme?","body":"<p>The simplest (and best) way to change the color of the back/up-arrow. Best part is\nthat there are <strong>no side-effects</strong> (unlike the other answers)!</p>\n<ul>\n<li>Create a style with parent <code>Widget.AppCompat.DrawerArrowToggle</code>, define the <code>color</code> and any other attributes you'd like.</li>\n<li>Set the style on the <code>drawerArrowStyle</code> attribute in the apps Theme.</li>\n</ul>\n<p><strong>Create style:</strong></p>\n<pre><code>&lt;style name=&quot;DrawerArrowStyle&quot; parent=&quot;Widget.AppCompat.DrawerArrowToggle&quot;&gt;\n    &lt;!--        Set that the nav buttons will animate--&gt;\n    &lt;item name=&quot;spinBars&quot;&gt;true&lt;/item&gt;\n    &lt;!--        Set the color of the up arrow / hamburger button--&gt;\n    &lt;item name=&quot;color&quot;&gt;@color/white&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n<p><strong>Set the style in App Theme:</strong></p>\n<pre><code>&lt;!-- Base application theme. --&gt;\n&lt;style name=&quot;AppTheme&quot; parent=&quot;Theme.MaterialComponents.Light.NoActionBar&quot;&gt;\n    &lt;item name=&quot;colorPrimary&quot;&gt;@color/colorPrimary&lt;/item&gt;\n    &lt;item name=&quot;colorPrimaryDark&quot;&gt;@color/colorPrimaryDark&lt;/item&gt;\n    &lt;item name=&quot;colorAccent&quot;&gt;@color/colorAccent&lt;/item&gt;\n\n    &lt;!--  Change global up-arrow color with no side-effects    --&gt;\n    &lt;item name=&quot;drawerArrowStyle&quot;&gt;@style/DrawerArrowStyle&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n<p>To change the <code>ToolBar</code> text color (and other attributes), create this <code>style</code>:</p>\n<pre><code>&lt;style name=&quot;ToolbarStyle&quot; parent=&quot;Widget.AppCompat.Toolbar&quot;&gt;\n    &lt;item name=&quot;android:textColor&quot;&gt;@color/white&lt;/item&gt;\n    &lt;item name=&quot;titleTextColor&quot;&gt;@color/white&lt;/item&gt;\n    &lt;item name=&quot;colorControlNormal&quot;&gt;@color/white&lt;/item&gt; &lt;!-- colorControlNormal is Probably not necessary    --&gt;\n&lt;/style&gt;\n</code></pre>\n<p>Then set that style on the AppTheme:</p>\n<pre><code>&lt;!-- Base application theme. --&gt;\n&lt;style name=&quot;AppTheme.MyProduceApp&quot; parent=&quot;Theme.MaterialComponents.Light.NoActionBar.Bridge&quot;&gt;\n    &lt;item name=&quot;colorPrimary&quot;&gt;@color/colorPrimary&lt;/item&gt;\n    &lt;item name=&quot;colorPrimaryDark&quot;&gt;@color/colorPrimaryDark&lt;/item&gt;\n    &lt;item name=&quot;colorAccent&quot;&gt;@color/colorAccent&lt;/item&gt;\n\n    &lt;!--  Style the toolbar (mostly the color of the text) --&gt;\n    &lt;item name=&quot;toolbarStyle&quot;&gt;@style/ToolbarStyle&lt;/item&gt;\n    &lt;!--  Change color of up-arrow    --&gt;\n    &lt;item name=&quot;drawerArrowStyle&quot;&gt;@style/DrawerArrowStyle&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5112074,"reputation":158,"user_id":4098372,"display_name":"Rami"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628264132,"creation_date":1628264132,"answer_id":68684213,"question_id":26788464,"body_markdown":"    private fun setToolbarNavigationIconColor(context: Context, toolbar: Toolbar?, color: Int) {\r\n        val drawableBack = toolbar?.navigationIcon\r\n        drawableBack?.let {\r\n            val drawableWrap = DrawableCompat.wrap(drawableBack).mutate()\r\n            DrawableCompat.setTint(\r\n                drawableWrap, ContextCompat.getColor(context, white)\r\n            )\r\n            toolbar.navigationIcon = drawableWrap\r\n        }\r\n    }","title":"How to change color of the back arrow in the new material theme?","body":"<pre><code>private fun setToolbarNavigationIconColor(context: Context, toolbar: Toolbar?, color: Int) {\n    val drawableBack = toolbar?.navigationIcon\n    drawableBack?.let {\n        val drawableWrap = DrawableCompat.wrap(drawableBack).mutate()\n        DrawableCompat.setTint(\n            drawableWrap, ContextCompat.getColor(context, white)\n        )\n        toolbar.navigationIcon = drawableWrap\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8235698,"reputation":145,"user_id":6194988,"accept_rate":0,"display_name":"Mohamed Mohamed Taha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632814356,"creation_date":1632814356,"answer_id":69357501,"question_id":26788464,"body_markdown":"I saw all soluation but didn&#39;t fix the problem , If you need fix the problem just add in XMl file this code if you but dark make it light\r\n\r\n     app:theme=&quot;@style/ThemeOverlay.AppCompat.Light&quot;","title":"How to change color of the back arrow in the new material theme?","body":"<p>I saw all soluation but didn't fix the problem , If you need fix the problem just add in XMl file this code if you but dark make it light</p>\n<pre><code> app:theme=&quot;@style/ThemeOverlay.AppCompat.Light&quot;\n</code></pre>\n"}],"owner":{"account_id":1136523,"reputation":11039,"user_id":1121497,"accept_rate":42,"display_name":"Ferran Maylinch"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":186086,"favorite_count":0,"down_vote_count":0,"up_vote_count":211,"accepted_answer_id":26837072,"answer_count":25,"score":211,"last_activity_date":1656513069,"creation_date":1415304372,"question_id":26788464,"body_markdown":"I&#39;ve updated my SDK to API 21 and now the back/up icon is a black arrow pointing to the left.\r\n\r\n![Black back arrow][1]\r\n\r\nI would like it to be grey. How can I do that?\r\n\r\nIn the Play Store, for example, the arrow is white.\r\n\r\nI&#39;ve done this to set some styles. I have used `@drawable/abc_ic_ab_back_mtrl_am_alpha` for `homeAsUpIndicator`. That drawable is transparent (only alpha) but the arrow is displayed in black. I wonder if I can set the color like I do in the `DrawerArrowStyle`. Or if the only solution is to create my `@drawable/grey_arrow` and use it for `homeAsUpIndicator`.\r\n\r\n```xml\r\n&lt;!-- Base application theme --&gt;\r\n&lt;style name=&quot;AppTheme&quot; parent=&quot;Theme.AppCompat.Light&quot;&gt;\r\n    &lt;item name=&quot;android:actionBarStyle&quot; tools:ignore=&quot;NewApi&quot;&gt;@style/MyActionBar&lt;/item&gt;\r\n    &lt;item name=&quot;actionBarStyle&quot;&gt;@style/MyActionBar&lt;/item&gt;\r\n\r\n    &lt;item name=&quot;drawerArrowStyle&quot;&gt;@style/DrawerArrowStyle&lt;/item&gt;\r\n\r\n    &lt;item name=&quot;homeAsUpIndicator&quot;&gt;@drawable/abc_ic_ab_back_mtrl_am_alpha&lt;/item&gt;\r\n    &lt;item name=&quot;android:homeAsUpIndicator&quot; tools:ignore=&quot;NewApi&quot;&gt;@drawable/abc_ic_ab_back_mtrl_am_alpha&lt;/item&gt;\r\n&lt;/style&gt;\r\n\r\n&lt;!-- ActionBar style --&gt;\r\n&lt;style name=&quot;MyActionBar&quot; parent=&quot;@style/Widget.AppCompat.Light.ActionBar.Solid&quot;&gt;\r\n\r\n    &lt;item name=&quot;android:background&quot;&gt;@color/actionbar_background&lt;/item&gt;\r\n    &lt;!-- Support library compatibility --&gt;\r\n    &lt;item name=&quot;background&quot;&gt;@color/actionbar_background&lt;/item&gt;\r\n&lt;/style&gt;\r\n\r\n&lt;!-- Style for the navigation drawer icon --&gt;\r\n&lt;style name=&quot;DrawerArrowStyle&quot; parent=&quot;Widget.AppCompat.DrawerArrowToggle&quot;&gt;\r\n    &lt;item name=&quot;spinBars&quot;&gt;true&lt;/item&gt;\r\n    &lt;item name=&quot;color&quot;&gt;@color/actionbar_text&lt;/item&gt;\r\n&lt;/style&gt;\r\n```\r\n\r\nMy solution so far has been to take the `@drawable/abc_ic_ab_back_mtrl_am_alpha`, which seems to be white, and paint it in the color I desire using a photo editor. It works, although I would prefer to use `@color/actionbar_text` like in `DrawerArrowStyle`.\r\n\r\n  [1]: http://i.stack.imgur.com/FUEND.jpg","title":"How to change color of the back arrow in the new material theme?","body":"<p>I've updated my SDK to API 21 and now the back/up icon is a black arrow pointing to the left.</p>\n<p><img src=\"https://i.stack.imgur.com/FUEND.jpg\" alt=\"Black back arrow\" /></p>\n<p>I would like it to be grey. How can I do that?</p>\n<p>In the Play Store, for example, the arrow is white.</p>\n<p>I've done this to set some styles. I have used <code>@drawable/abc_ic_ab_back_mtrl_am_alpha</code> for <code>homeAsUpIndicator</code>. That drawable is transparent (only alpha) but the arrow is displayed in black. I wonder if I can set the color like I do in the <code>DrawerArrowStyle</code>. Or if the only solution is to create my <code>@drawable/grey_arrow</code> and use it for <code>homeAsUpIndicator</code>.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!-- Base application theme --&gt;\n&lt;style name=&quot;AppTheme&quot; parent=&quot;Theme.AppCompat.Light&quot;&gt;\n    &lt;item name=&quot;android:actionBarStyle&quot; tools:ignore=&quot;NewApi&quot;&gt;@style/MyActionBar&lt;/item&gt;\n    &lt;item name=&quot;actionBarStyle&quot;&gt;@style/MyActionBar&lt;/item&gt;\n\n    &lt;item name=&quot;drawerArrowStyle&quot;&gt;@style/DrawerArrowStyle&lt;/item&gt;\n\n    &lt;item name=&quot;homeAsUpIndicator&quot;&gt;@drawable/abc_ic_ab_back_mtrl_am_alpha&lt;/item&gt;\n    &lt;item name=&quot;android:homeAsUpIndicator&quot; tools:ignore=&quot;NewApi&quot;&gt;@drawable/abc_ic_ab_back_mtrl_am_alpha&lt;/item&gt;\n&lt;/style&gt;\n\n&lt;!-- ActionBar style --&gt;\n&lt;style name=&quot;MyActionBar&quot; parent=&quot;@style/Widget.AppCompat.Light.ActionBar.Solid&quot;&gt;\n\n    &lt;item name=&quot;android:background&quot;&gt;@color/actionbar_background&lt;/item&gt;\n    &lt;!-- Support library compatibility --&gt;\n    &lt;item name=&quot;background&quot;&gt;@color/actionbar_background&lt;/item&gt;\n&lt;/style&gt;\n\n&lt;!-- Style for the navigation drawer icon --&gt;\n&lt;style name=&quot;DrawerArrowStyle&quot; parent=&quot;Widget.AppCompat.DrawerArrowToggle&quot;&gt;\n    &lt;item name=&quot;spinBars&quot;&gt;true&lt;/item&gt;\n    &lt;item name=&quot;color&quot;&gt;@color/actionbar_text&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n<p>My solution so far has been to take the <code>@drawable/abc_ic_ab_back_mtrl_am_alpha</code>, which seems to be white, and paint it in the color I desire using a photo editor. It works, although I would prefer to use <code>@color/actionbar_text</code> like in <code>DrawerArrowStyle</code>.</p>\n"},{"tags":["java","kotlin","jvm"],"comments":[{"owner":{"account_id":6522457,"reputation":384,"user_id":5046259,"display_name":"Niklas"},"score":0,"creation_date":1548239875,"post_id":54325243,"comment_id":95469044,"body_markdown":"Why explicitly an array or why the parameter is there at all?","body":"Why explicitly an array or why the parameter is there at all?"}],"answers":[{"tags":[],"owner":{"account_id":8247130,"reputation":22669,"user_id":6202869,"accept_rate":50,"display_name":"Roland"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1548244257,"creation_date":1548239926,"answer_id":54325306,"question_id":54325243,"body_markdown":"The array contains the command line arguments passed to your program.\r\n\r\nYou can also omit it, if you do not want to use them, i.e. you can also just write:\r\n\r\n    fun main() {\r\n      println(&quot;Hello, world!&quot;)\r\n    }\r\n\r\nI am already too late to link to the [JLS for `Test.main`](https://docs.oracle.com/javase/specs/jls/se11/html/jls-12.html#jls-12.1.4) here ([s1m0nw1 already did](https://stackoverflow.com/a/54325625/6202869); I just prepared and went away ;-)) \r\n\r\nBut nonetheless I want to add something regarding the choice for `String` (i.e. my opinion why `String` was chosen): it&#39;s probably the most common denominator for all the possible command line arguments. `Any`/`Object` is too broad; you can only pass numbers or strings in the command line to a program (pipes are handled differently). But having a number type is too narrow, so the only acceptable type that remains is `String` which can represent both. Still you need to parse numbers if you want to use them, but that&#39;s better then interpreting a string out of numbers ;-)","title":"Why is Array&lt;String&gt; the chosen parameter type for the main function in kotlin?","body":"<p>The array contains the command line arguments passed to your program.</p>\n\n<p>You can also omit it, if you do not want to use them, i.e. you can also just write:</p>\n\n<pre><code>fun main() {\n  println(\"Hello, world!\")\n}\n</code></pre>\n\n<p>I am already too late to link to the <a href=\"https://docs.oracle.com/javase/specs/jls/se11/html/jls-12.html#jls-12.1.4\" rel=\"nofollow noreferrer\">JLS for <code>Test.main</code></a> here (<a href=\"https://stackoverflow.com/a/54325625/6202869\">s1m0nw1 already did</a>; I just prepared and went away ;-)) </p>\n\n<p>But nonetheless I want to add something regarding the choice for <code>String</code> (i.e. my opinion why <code>String</code> was chosen): it's probably the most common denominator for all the possible command line arguments. <code>Any</code>/<code>Object</code> is too broad; you can only pass numbers or strings in the command line to a program (pipes are handled differently). But having a number type is too narrow, so the only acceptable type that remains is <code>String</code> which can represent both. Still you need to parse numbers if you want to use them, but that's better then interpreting a string out of numbers ;-)</p>\n"},{"tags":[],"owner":{"account_id":10988981,"reputation":77763,"user_id":8073652,"accept_rate":100,"display_name":"s1m0nw1"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1548254817,"creation_date":1548240990,"answer_id":54325625,"question_id":54325243,"body_markdown":"The signature of `main` is based on what the Java Virtual Machine [expects][1]:\r\n\r\n&gt;The method `main` must be declared `public, static, and void`. It must specify a formal parameter (&#167;8.4.1) whose declared type is **array of String**. Therefore, either of the following declarations is acceptable:\r\n\r\n&gt;     public static void main(String[] args)\r\n    public static void main(String... args)\r\n\r\nThis is what the Kotlin compiler compiles your main function to. As of Kotlin 1.3, the explicit `Array&lt;String&gt;` can be omitted but will still be available in the byte code.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se8/html/jls-12.html#jls-12.1","title":"Why is Array&lt;String&gt; the chosen parameter type for the main function in kotlin?","body":"<p>The signature of <code>main</code> is based on what the Java Virtual Machine <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-12.html#jls-12.1\" rel=\"nofollow noreferrer\">expects</a>:</p>\n\n<blockquote>\n  <p>The method <code>main</code> must be declared <code>public, static, and void</code>. It must specify a formal parameter (§8.4.1) whose declared type is <strong>array of String</strong>. Therefore, either of the following declarations is acceptable:</p>\n\n<pre><code>public static void main(String[] args)\npublic static void main(String... args)\n</code></pre>\n</blockquote>\n\n<p>This is what the Kotlin compiler compiles your main function to. As of Kotlin 1.3, the explicit <code>Array&lt;String&gt;</code> can be omitted but will still be available in the byte code.</p>\n"},{"tags":[],"owner":{"account_id":10847218,"reputation":2369,"user_id":7976274,"display_name":"ankuranurag2"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1548241589,"creation_date":1548241589,"answer_id":54325814,"question_id":54325243,"body_markdown":"`Collections` were not there in JAVA 1. Hence, `Array` was the default choice. Also the arguments provided from Command Line are in string format, hence we use `Array&lt;String&gt;`. Kotlin, to maintain interoperability with JAVA, followed the same convention. But, with the update to Kotlin 1.3, that too has been omitted. Now you can use `main()` function without passing `args:Array&lt;String&gt;`.","title":"Why is Array&lt;String&gt; the chosen parameter type for the main function in kotlin?","body":"<p><code>Collections</code> were not there in JAVA 1. Hence, <code>Array</code> was the default choice. Also the arguments provided from Command Line are in string format, hence we use <code>Array&lt;String&gt;</code>. Kotlin, to maintain interoperability with JAVA, followed the same convention. But, with the update to Kotlin 1.3, that too has been omitted. Now you can use <code>main()</code> function without passing <code>args:Array&lt;String&gt;</code>.</p>\n"},{"tags":[],"owner":{"account_id":10726108,"reputation":1,"user_id":7893575,"display_name":"kevin maina"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1580825585,"creation_date":1580825585,"answer_id":60059253,"question_id":54325243,"body_markdown":"Your are defining the entry point of an application. in this case, an application will start running from the main function. Passing the argument Array of type String.","title":"Why is Array&lt;String&gt; the chosen parameter type for the main function in kotlin?","body":"<p>Your are defining the entry point of an application. in this case, an application will start running from the main function. Passing the argument Array of type String.</p>\n"}],"owner":{"account_id":9037970,"reputation":8357,"user_id":6733153,"accept_rate":52,"display_name":"Zorgan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4308,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":4,"score":3,"last_activity_date":1656513054,"creation_date":1548239751,"question_id":54325243,"body_markdown":"The main function in kotlin:\r\n\r\n    fun main(args : Array&lt;String&gt;) { \r\n      println(&quot;Hello, world!&quot;) \r\n    }\r\n\r\nWhy is an Array&lt;String&gt; passed in?\r\n","title":"Why is Array&lt;String&gt; the chosen parameter type for the main function in kotlin?","body":"<p>The main function in kotlin:</p>\n\n<pre><code>fun main(args : Array&lt;String&gt;) { \n  println(\"Hello, world!\") \n}\n</code></pre>\n\n<p>Why is an Array passed in?</p>\n"},{"tags":["java","android","sql-server","xml","database-connection"],"comments":[{"owner":{"account_id":4713195,"reputation":33148,"user_id":3813116,"display_name":"Sean Lange"},"score":0,"creation_date":1656510567,"post_id":72802470,"comment_id":128590820,"body_markdown":"Are you getting errors in your log? Is the query actually running? I think the first step is figuring what is running and what isn&#39;t.","body":"Are you getting errors in your log? Is the query actually running? I think the first step is figuring what is running and what isn&#39;t."},{"owner":{"account_id":25680925,"reputation":1,"user_id":19443717,"display_name":"Wooga"},"score":0,"creation_date":1656512869,"post_id":72802470,"comment_id":128591876,"body_markdown":"The errors that I am receiving have been added to the bottom of the post, thanks","body":"The errors that I am receiving have been added to the bottom of the post, thanks"}],"owner":{"account_id":25680925,"reputation":1,"user_id":19443717,"display_name":"Wooga"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":200,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1656513008,"creation_date":1656510260,"question_id":72802470,"body_markdown":"I&#39;m trying to create an android app to print off labels, I am currently just getting started and new to android development. The app &quot;should&quot; display 7 textbox&#39;s on the screen each being a new column from SQL. The app runs but doesn&#39;t display any of the data, I haven&#39;t been able to find anything online to help me but I imagine that&#39;s something small is missing in the code. I have added my 3 files that are being used and my AndroidManifest.xml all below. Thank you\r\n\r\nMainActivity.java\r\n```\r\npackage com.example.zebraprint_v2;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.View;\r\nimport android.widget.SimpleAdapter;\r\nimport android.widget.TextView;\r\n\r\nimport java.sql.Connection;\r\nimport java.sql.ResultSet;\r\nimport java.sql.Statement;\r\n\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    Connection connect;\r\n    String connectionresult = &quot;&quot;;\r\n    SimpleAdapter ad;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n    }\r\n\r\n    public void GetTextFromSQL(View v)\r\n    {\r\n        TextView tx1 = (TextView) findViewById(R.id.textView);\r\n        TextView tx2 = (TextView) findViewById(R.id.textView2);\r\n        TextView tx3 = (TextView) findViewById(R.id.textView3);\r\n        TextView tx4 = (TextView) findViewById(R.id.textView4);\r\n        TextView tx5 = (TextView) findViewById(R.id.textView5);\r\n        TextView tx6 = (TextView) findViewById(R.id.textView6);\r\n        TextView tx7 = (TextView) findViewById(R.id.textView7);\r\n\r\n\r\n        try\r\n        {\r\n            ConnectionHelper connectionHelper = new ConnectionHelper();\r\n            connect = connectionHelper.initConnection(&quot;ServerName&quot;, &quot;DatabaseName&quot;);\r\n            if(connect != null)\r\n            {\r\n                String query = &quot;SELECT * FROM SQLTableName&quot;;\r\n                Statement st = connect.createStatement();\r\n                ResultSet rs = st.executeQuery(query);\r\n\r\n                while (rs.next())\r\n                {\r\n                    tx1.setText(rs.getString(1));\r\n                    tx2.setText(rs.getString(2));\r\n                    tx3.setText(rs.getString(3));\r\n                    tx4.setText(rs.getString(4));\r\n                    tx5.setText(rs.getString(5));\r\n                    tx6.setText(rs.getString(6));\r\n                    tx7.setText(rs.getString(7));\r\n\r\n                }\r\n            }\r\n            else\r\n            {\r\n                connectionresult = &quot;Check Connection&quot;;\r\n            }\r\n        }\r\n        catch (Exception ex)\r\n        {\r\n            Log.e(&quot;Error Connection Unsuccessful&quot;, ex.getMessage());\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\nConnectionHelper.java\r\n```\r\npackage com.example.zebraprint_v2;\r\n\r\nimport android.annotation.SuppressLint;\r\nimport android.os.StrictMode;\r\nimport android.util.Log;\r\n\r\nimport java.sql.Connection;\r\nimport java.sql.DriverManager;\r\n\r\npublic class ConnectionHelper {\r\n    @SuppressLint(&quot;NewApi&quot;)\r\n\r\n    public static Connection initConnection(String server, String database) {\r\n\r\n        String ip, port, un, pass, db = null;\r\n        // Log in\r\n        switch(server){\r\n            case &quot;ServerName&quot;:\r\n                ip = &quot;00.0.000.00&quot;;\r\n                port = &quot;0000&quot;;\r\n                un = &quot;UserName&quot;;\r\n                pass = &quot;PassWord&quot;;\r\n                db = database; //&quot;DatabaseName&quot;;\r\n                break;\r\n                /*\r\n            case &quot;ServerName&quot;:\r\n                ip = &quot;00.0.000.00&quot;;\r\n                port = &quot;000&quot;;\r\n                un = &quot;Username&quot;;\r\n                pass = &quot;Password&quot;;\r\n                db = database; //&quot;DatabaseName&quot;;\r\n                break;\r\n                 */\r\n            // reached if inputted an invalid server\r\n            default:\r\n                ip = null;\r\n                port = null;\r\n                db = null;\r\n                un = null;\r\n                pass = null;\r\n        }\r\n\r\n        StrictMode.ThreadPolicy policy = new StrictMode.ThreadPolicy.Builder().permitAll().build();\r\n        StrictMode.setThreadPolicy((policy));\r\n        Connection connection = null;\r\n        String ConnectURL = null;\r\n        try {\r\n            Class.forName(&quot;net.sourceforge.jtds.jdbc.Driver&quot;);\r\n            ConnectURL = &quot;jdbc:jtds:sqlserver://&quot; + ip + &quot;:&quot; + port + &quot;;&quot; + &quot;databaseName=&quot; + db + &quot;;user=&quot; + un + &quot;;password=&quot; + pass + &quot;;&quot;;\r\n            // this statement breaks out if timeout, change integer for larger wait time if necessary\r\n            DriverManager.setLoginTimeout(10);\r\n            connection = DriverManager.getConnection(ConnectURL);\r\n        } catch (Exception ex) {\r\n            // cant connext to network, try again later\r\n            Log.e(&quot;Error &quot;, ex.getMessage());\r\n            return null;\r\n        }\r\n\r\n        return connection;\r\n    }\r\n}\r\n```\r\n\r\nactivity_main.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:id=&quot;@+id/LoadKANBAN&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/textView&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:inputType=&quot;textPersonName&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.173&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.046&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/textView2&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:inputType=&quot;textPersonName&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.173&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.133&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/textView3&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:inputType=&quot;textPersonName&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.173&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.22&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/textView4&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:inputType=&quot;textPersonName&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.173&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.306&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/textView5&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:inputType=&quot;textPersonName&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.173&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.392&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/textView6&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:inputType=&quot;textPersonName&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.173&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.479&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/textView7&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:inputType=&quot;textPersonName&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.173&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.571&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/LoadData&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:onClick=&quot;GetTextFromSQL&quot;\r\n        android:text=&quot;Load KANBAN Card PrintOut&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.498&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.926&quot; /&gt;\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\nAndroidManifest.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    package=&quot;com.example.zebraprint_v2&quot;&gt;\r\n&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;&gt;&lt;/uses-permission&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot;&gt;&lt;/uses-permission&gt;\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.ZebraPrintV2&quot;\r\n        tools:targetApi=&quot;31&quot;&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n```\r\n\r\nHere are the error that are in my Logcat\r\n\r\n```\r\n28823-28823/com.example.zebraprint_v2 E/e.zebraprint_v: Unknown bits set in runtime_flags: 0x8000\r\n\r\n28823-29002/com.example.zebraprint_v2 E/Perf: Fail to get file list com.example.zebraprint_v2\r\n\r\n28823-29002/com.example.zebraprint_v2 E/Perf: getFolderSize() : Exception_1 = java.lang.NullPointerException: Attempt to get length of null array\r\n\r\n28823-29002/com.example.zebraprint_v2 E/Perf: Fail to get file list com.example.zebraprint_v2\r\n\r\n28823-29002/com.example.zebraprint_v2 E/Perf: getFolderSize() : Exception_1 = java.lang.NullPointerException: Attempt to get length of null array\r\n```","title":"Android Studio display SQL data in TextView boxes (Java)","body":"<p>I'm trying to create an android app to print off labels, I am currently just getting started and new to android development. The app &quot;should&quot; display 7 textbox's on the screen each being a new column from SQL. The app runs but doesn't display any of the data, I haven't been able to find anything online to help me but I imagine that's something small is missing in the code. I have added my 3 files that are being used and my AndroidManifest.xml all below. Thank you</p>\n<p>MainActivity.java</p>\n<pre><code>package com.example.zebraprint_v2;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.View;\nimport android.widget.SimpleAdapter;\nimport android.widget.TextView;\n\nimport java.sql.Connection;\nimport java.sql.ResultSet;\nimport java.sql.Statement;\n\n\npublic class MainActivity extends AppCompatActivity {\n\n    Connection connect;\n    String connectionresult = &quot;&quot;;\n    SimpleAdapter ad;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n    }\n\n    public void GetTextFromSQL(View v)\n    {\n        TextView tx1 = (TextView) findViewById(R.id.textView);\n        TextView tx2 = (TextView) findViewById(R.id.textView2);\n        TextView tx3 = (TextView) findViewById(R.id.textView3);\n        TextView tx4 = (TextView) findViewById(R.id.textView4);\n        TextView tx5 = (TextView) findViewById(R.id.textView5);\n        TextView tx6 = (TextView) findViewById(R.id.textView6);\n        TextView tx7 = (TextView) findViewById(R.id.textView7);\n\n\n        try\n        {\n            ConnectionHelper connectionHelper = new ConnectionHelper();\n            connect = connectionHelper.initConnection(&quot;ServerName&quot;, &quot;DatabaseName&quot;);\n            if(connect != null)\n            {\n                String query = &quot;SELECT * FROM SQLTableName&quot;;\n                Statement st = connect.createStatement();\n                ResultSet rs = st.executeQuery(query);\n\n                while (rs.next())\n                {\n                    tx1.setText(rs.getString(1));\n                    tx2.setText(rs.getString(2));\n                    tx3.setText(rs.getString(3));\n                    tx4.setText(rs.getString(4));\n                    tx5.setText(rs.getString(5));\n                    tx6.setText(rs.getString(6));\n                    tx7.setText(rs.getString(7));\n\n                }\n            }\n            else\n            {\n                connectionresult = &quot;Check Connection&quot;;\n            }\n        }\n        catch (Exception ex)\n        {\n            Log.e(&quot;Error Connection Unsuccessful&quot;, ex.getMessage());\n        }\n    }\n\n}\n</code></pre>\n<p>ConnectionHelper.java</p>\n<pre><code>package com.example.zebraprint_v2;\n\nimport android.annotation.SuppressLint;\nimport android.os.StrictMode;\nimport android.util.Log;\n\nimport java.sql.Connection;\nimport java.sql.DriverManager;\n\npublic class ConnectionHelper {\n    @SuppressLint(&quot;NewApi&quot;)\n\n    public static Connection initConnection(String server, String database) {\n\n        String ip, port, un, pass, db = null;\n        // Log in\n        switch(server){\n            case &quot;ServerName&quot;:\n                ip = &quot;00.0.000.00&quot;;\n                port = &quot;0000&quot;;\n                un = &quot;UserName&quot;;\n                pass = &quot;PassWord&quot;;\n                db = database; //&quot;DatabaseName&quot;;\n                break;\n                /*\n            case &quot;ServerName&quot;:\n                ip = &quot;00.0.000.00&quot;;\n                port = &quot;000&quot;;\n                un = &quot;Username&quot;;\n                pass = &quot;Password&quot;;\n                db = database; //&quot;DatabaseName&quot;;\n                break;\n                 */\n            // reached if inputted an invalid server\n            default:\n                ip = null;\n                port = null;\n                db = null;\n                un = null;\n                pass = null;\n        }\n\n        StrictMode.ThreadPolicy policy = new StrictMode.ThreadPolicy.Builder().permitAll().build();\n        StrictMode.setThreadPolicy((policy));\n        Connection connection = null;\n        String ConnectURL = null;\n        try {\n            Class.forName(&quot;net.sourceforge.jtds.jdbc.Driver&quot;);\n            ConnectURL = &quot;jdbc:jtds:sqlserver://&quot; + ip + &quot;:&quot; + port + &quot;;&quot; + &quot;databaseName=&quot; + db + &quot;;user=&quot; + un + &quot;;password=&quot; + pass + &quot;;&quot;;\n            // this statement breaks out if timeout, change integer for larger wait time if necessary\n            DriverManager.setLoginTimeout(10);\n            connection = DriverManager.getConnection(ConnectURL);\n        } catch (Exception ex) {\n            // cant connext to network, try again later\n            Log.e(&quot;Error &quot;, ex.getMessage());\n            return null;\n        }\n\n        return connection;\n    }\n}\n</code></pre>\n<p>activity_main.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:id=&quot;@+id/LoadKANBAN&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/textView&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:inputType=&quot;textPersonName&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.173&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintVertical_bias=&quot;0.046&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/textView2&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:inputType=&quot;textPersonName&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.173&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintVertical_bias=&quot;0.133&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/textView3&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:inputType=&quot;textPersonName&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.173&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintVertical_bias=&quot;0.22&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/textView4&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:inputType=&quot;textPersonName&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.173&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintVertical_bias=&quot;0.306&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/textView5&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:inputType=&quot;textPersonName&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.173&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintVertical_bias=&quot;0.392&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/textView6&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:inputType=&quot;textPersonName&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.173&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintVertical_bias=&quot;0.479&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/textView7&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:inputType=&quot;textPersonName&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.173&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintVertical_bias=&quot;0.571&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/LoadData&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:onClick=&quot;GetTextFromSQL&quot;\n        android:text=&quot;Load KANBAN Card PrintOut&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.498&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintVertical_bias=&quot;0.926&quot; /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>AndroidManifest.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    package=&quot;com.example.zebraprint_v2&quot;&gt;\n&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;&gt;&lt;/uses-permission&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot;&gt;&lt;/uses-permission&gt;\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.ZebraPrintV2&quot;\n        tools:targetApi=&quot;31&quot;&gt;\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n<p>Here are the error that are in my Logcat</p>\n<pre><code>28823-28823/com.example.zebraprint_v2 E/e.zebraprint_v: Unknown bits set in runtime_flags: 0x8000\n\n28823-29002/com.example.zebraprint_v2 E/Perf: Fail to get file list com.example.zebraprint_v2\n\n28823-29002/com.example.zebraprint_v2 E/Perf: getFolderSize() : Exception_1 = java.lang.NullPointerException: Attempt to get length of null array\n\n28823-29002/com.example.zebraprint_v2 E/Perf: Fail to get file list com.example.zebraprint_v2\n\n28823-29002/com.example.zebraprint_v2 E/Perf: getFolderSize() : Exception_1 = java.lang.NullPointerException: Attempt to get length of null array\n</code></pre>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":7,"creation_date":1656187117,"post_id":72756954,"comment_id":128512070,"body_markdown":"You have to write out the lambda: `u -&gt; u.getCourses().size()`.","body":"You have to write out the lambda: <code>u -&gt; u.getCourses().size()</code>."},{"owner":{"account_id":2555978,"reputation":1482,"user_id":2217962,"display_name":"schrom"},"score":2,"creation_date":1656275358,"post_id":72756954,"comment_id":128526259,"body_markdown":"Please don&#39;t post code or error messages as images.","body":"Please don&#39;t post code or error messages as images."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1656324029,"post_id":72756954,"comment_id":128535271,"body_markdown":"You probably mean `Integer`, as there is no type `Int`.","body":"You probably mean <code>Integer</code>, as there is no type <code>Int</code>."}],"answers":[{"tags":[],"owner":{"account_id":22382525,"reputation":141,"user_id":16595881,"display_name":"ReubenBeeler"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656480934,"creation_date":1656478840,"answer_id":72795978,"question_id":72756954,"body_markdown":"Generally, I avoid Collectors because they are complicated and unnecessary. Without Collectors, you could do the following:\r\n```\r\nList&lt;Universities&gt; universities = //...\r\n@SuppressWarnings(&quot;unchecked&quot;)\r\nMap&lt;String, Integer&gt; result = Map.ofEntries(universities.stream()\r\n                                  .map(university -&gt; new AbstractMap.SimpleEntry&lt;&gt;(university.getName(), university.getCourses().size()))\r\n                                  .toArray(Map.Entry[]::new));\r\n```\r\nIf you really want to use Collectors, this is what you&#39;re looking for:\r\n```\r\nList&lt;Universities&gt; universities = //...\r\nMap&lt;String, Integer&gt; result = universities.stream().collect(Collectors.toMap(\r\n                                  University::getName,\r\n                                  university -&gt; university.getCourses().size()\r\n                              ));\r\n```\r\nThe following is with regards to the `Function&lt;? super T,? extends U&gt; valueMapper` (2nd parameter) of `Collectors.toMap(...)`:\r\n\r\n`List#size()` is a function call, not a reference to the size function pointer. `List::size` is closer to what you are looking for (using &quot;::&quot; for reference to function pointer). Notice that you put `University::getCourses`, which returns the function pointer for the `University#getCourses()` method, not a `List`. The `University#getCourses()` method does not execute until the `Stream#collect(...)` method calls `valueMapper.apply(...)`. Since there is no single method call to map a `University` to the length of its courses, I believe there is no way to accomplish this task with just function pointers, so just use the above lambda.","title":"How to create Map&lt;String,Int&gt; from a number of Objects containing a Name and a List","body":"<p>Generally, I avoid Collectors because they are complicated and unnecessary. Without Collectors, you could do the following:</p>\n<pre><code>List&lt;Universities&gt; universities = //...\n@SuppressWarnings(&quot;unchecked&quot;)\nMap&lt;String, Integer&gt; result = Map.ofEntries(universities.stream()\n                                  .map(university -&gt; new AbstractMap.SimpleEntry&lt;&gt;(university.getName(), university.getCourses().size()))\n                                  .toArray(Map.Entry[]::new));\n</code></pre>\n<p>If you really want to use Collectors, this is what you're looking for:</p>\n<pre><code>List&lt;Universities&gt; universities = //...\nMap&lt;String, Integer&gt; result = universities.stream().collect(Collectors.toMap(\n                                  University::getName,\n                                  university -&gt; university.getCourses().size()\n                              ));\n</code></pre>\n<p>The following is with regards to the <code>Function&lt;? super T,? extends U&gt; valueMapper</code> (2nd parameter) of <code>Collectors.toMap(...)</code>:</p>\n<p><code>List#size()</code> is a function call, not a reference to the size function pointer. <code>List::size</code> is closer to what you are looking for (using &quot;::&quot; for reference to function pointer). Notice that you put <code>University::getCourses</code>, which returns the function pointer for the <code>University#getCourses()</code> method, not a <code>List</code>. The <code>University#getCourses()</code> method does not execute until the <code>Stream#collect(...)</code> method calls <code>valueMapper.apply(...)</code>. Since there is no single method call to map a <code>University</code> to the length of its courses, I believe there is no way to accomplish this task with just function pointers, so just use the above lambda.</p>\n"}],"owner":{"account_id":15131206,"reputation":31,"user_id":10919039,"display_name":"tdeus"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":119,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1656512925,"creation_date":1656186778,"question_id":72756954,"body_markdown":"So I have 3 University Instances each having a String Name  and a List of Courses:\r\n\r\n[this is univerities.json][1]\r\n\r\nI want to create a map with the names of the Universities as the keys and the value should be the number of courses. I tried this using a stream pipeline:\r\n\r\n       Map&lt;String,Int&gt; result = universities.stream().collect( Collectors.toMap(University::getName,University::getCourses.size()))\r\n\r\n[And it doesnt work because you probably cant use such methods on Lists right?][2]\r\n\r\nMy guess is that  could use these methods on ArrayLists, but I am a bit lost how to pull that of in a stream Pipeline since this is still new to me. Any suggestions?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ExNrA.png\r\n  [2]: https://i.stack.imgur.com/aWgST.png","title":"How to create Map&lt;String,Int&gt; from a number of Objects containing a Name and a List","body":"<p>So I have 3 University Instances each having a String Name  and a List of Courses:</p>\n<p><a href=\"https://i.stack.imgur.com/ExNrA.png\" rel=\"nofollow noreferrer\">this is univerities.json</a></p>\n<p>I want to create a map with the names of the Universities as the keys and the value should be the number of courses. I tried this using a stream pipeline:</p>\n<pre><code>   Map&lt;String,Int&gt; result = universities.stream().collect( Collectors.toMap(University::getName,University::getCourses.size()))\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/aWgST.png\" rel=\"nofollow noreferrer\">And it doesnt work because you probably cant use such methods on Lists right?</a></p>\n<p>My guess is that  could use these methods on ArrayLists, but I am a bit lost how to pull that of in a stream Pipeline since this is still new to me. Any suggestions?</p>\n"},{"tags":["java","sql-server","scala","apache-spark","google-cloud-dataproc"],"comments":[{"owner":{"account_id":166167,"reputation":8075,"user_id":390122,"accept_rate":75,"display_name":"AlwaysLearning"},"score":0,"creation_date":1656538315,"post_id":72803068,"comment_id":128600791,"body_markdown":"Did you read through the [Commonly Faced Issues](https://learn.microsoft.com/en-us/sql/connect/spark/connector#commonly-faced-issues) section of the Apache Spark Connector page you linked initially?","body":"Did you read through the <a href=\"https://learn.microsoft.com/en-us/sql/connect/spark/connector#commonly-faced-issues\" rel=\"nofollow noreferrer\">Commonly Faced Issues</a> section of the Apache Spark Connector page you linked initially?"},{"owner":{"account_id":12347955,"reputation":570,"user_id":9008023,"accept_rate":75,"display_name":"Harikrishnan Balachandran"},"score":0,"creation_date":1656560127,"post_id":72803068,"comment_id":128604246,"body_markdown":"Yes. As I said there is no issue with Spark Connector. It works fine while writing the data.","body":"Yes. As I said there is no issue with Spark Connector. It works fine while writing the data."}],"owner":{"account_id":12347955,"reputation":570,"user_id":9008023,"accept_rate":75,"display_name":"Harikrishnan Balachandran"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":314,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1656512661,"creation_date":1656512661,"question_id":72803068,"body_markdown":"Please hear me out.\r\n\r\nI am able to successfully write to Azure SQL server table using [Apache Spark connector][1] in Dataproc cluster. But then while testing I found sometime that the SQL server database in not available and because of this the write operation fails.\r\n\r\nSo, I decided to add an exception logic to check if the database is available or not using the following code before writing to Azure DB,\r\n\r\n        var connection: Connection = null\r\n        val url = &quot;jdbc:sqlserver://***.database.windows.net:1433;databaseName=some_db;encrypt=true;trustServerCertificate=true;authentication=ActiveDirectoryPassword&quot;\r\n        val user = &quot;xxxx&quot;\r\n        val password = ******\r\n        try\r\n              {\r\n                Class.forName(&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;)\r\n                connection = DriverManager.getConnection(url, user, password)\r\n                log.info(s&quot;Successfully established connection on attempt: &quot;+attempts)\r\n                return\r\n              }\r\n\r\n**This code works fine in my local machine. But while running the same in Dataproc I am getting the below error,**\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/microsoft/aad/adal4j/AuthenticationException\r\n\r\nI already went though this similar [issue][2] discussed in SO. But it&#39;s bit different for me as the  Apache Spark connector to write to SQL server is working fine. I just want to have the code `DriverManager.getConnection(url, user, password)` work to test the connection before my write.\r\n              \r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/sql/connect/spark/connector?view=sql-server-ver16\r\n  [2]: https://stackoverflow.com/questions/70289697/noclassdeffounderror-com-microsoft-aad-adal4j-authenticationexception-while-conn","title":"Getting adal4j/AuthenticationException while connecting to Azure SQL from Google Dataproc Cluster","body":"<p>Please hear me out.</p>\n<p>I am able to successfully write to Azure SQL server table using <a href=\"https://learn.microsoft.com/en-us/sql/connect/spark/connector?view=sql-server-ver16\" rel=\"nofollow noreferrer\">Apache Spark connector</a> in Dataproc cluster. But then while testing I found sometime that the SQL server database in not available and because of this the write operation fails.</p>\n<p>So, I decided to add an exception logic to check if the database is available or not using the following code before writing to Azure DB,</p>\n<pre><code>    var connection: Connection = null\n    val url = &quot;jdbc:sqlserver://***.database.windows.net:1433;databaseName=some_db;encrypt=true;trustServerCertificate=true;authentication=ActiveDirectoryPassword&quot;\n    val user = &quot;xxxx&quot;\n    val password = ******\n    try\n          {\n            Class.forName(&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;)\n            connection = DriverManager.getConnection(url, user, password)\n            log.info(s&quot;Successfully established connection on attempt: &quot;+attempts)\n            return\n          }\n</code></pre>\n<p><strong>This code works fine in my local machine. But while running the same in Dataproc I am getting the below error,</strong></p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/microsoft/aad/adal4j/AuthenticationException\n</code></pre>\n<p>I already went though this similar <a href=\"https://stackoverflow.com/questions/70289697/noclassdeffounderror-com-microsoft-aad-adal4j-authenticationexception-while-conn\">issue</a> discussed in SO. But it's bit different for me as the  Apache Spark connector to write to SQL server is working fine. I just want to have the code <code>DriverManager.getConnection(url, user, password)</code> work to test the connection before my write.</p>\n"},{"tags":["java","spring","spring-boot","spring-batch"],"answers":[{"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656512155,"creation_date":1656512155,"answer_id":72802938,"question_id":72802514,"body_markdown":"This is because you are creating a new Spring application context for each request to your API. You can add the batch application context to your Spring Boot app and inject the job and job launcher in your controller instead, something like:\r\n\r\n```\r\n@RestController\r\npublic class JobLaunchingController {\r\n\r\n\t@Autowired\r\n\tprivate Job job;\r\n\r\n\t@Autowired\r\n\tprivate JobLauncher jobLauncher;\r\n\r\n\t@RequestMapping(value = &quot;/&quot;, method = RequestMethod.POST)\r\n\t@ResponseStatus(HttpStatus.ACCEPTED)\r\n\tpublic void launch(@RequestParam(&quot;name&quot;) String name) throws Exception {\r\n\t\tJobParameters jobParameters = new JobParametersBuilder()\r\n\t\t\t\t\t\t.addString(&quot;name&quot;, name)\r\n\t\t\t\t\t\t.toJobParameters();\r\n\t\tthis.jobLauncher.run(job, jobParameters);\r\n\t}\r\n}\r\n```\r\n\r\nThis will use the same database connection pool of the main application context which will be closed correctly when your Boot app is shutdown.","title":"Spring boot data connection is not released","body":"<p>This is because you are creating a new Spring application context for each request to your API. You can add the batch application context to your Spring Boot app and inject the job and job launcher in your controller instead, something like:</p>\n<pre><code>@RestController\npublic class JobLaunchingController {\n\n    @Autowired\n    private Job job;\n\n    @Autowired\n    private JobLauncher jobLauncher;\n\n    @RequestMapping(value = &quot;/&quot;, method = RequestMethod.POST)\n    @ResponseStatus(HttpStatus.ACCEPTED)\n    public void launch(@RequestParam(&quot;name&quot;) String name) throws Exception {\n        JobParameters jobParameters = new JobParametersBuilder()\n                        .addString(&quot;name&quot;, name)\n                        .toJobParameters();\n        this.jobLauncher.run(job, jobParameters);\n    }\n}\n</code></pre>\n<p>This will use the same database connection pool of the main application context which will be closed correctly when your Boot app is shutdown.</p>\n"}],"owner":{"account_id":14200864,"reputation":73,"user_id":10258807,"display_name":"Sooraj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":304,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656512608,"creation_date":1656510406,"question_id":72802514,"body_markdown":"I have a batch job configured using an XML file. And I have created a new Spring boot application with dependency to this batch job. The purpose of this spring boot application is to run the batch job using an API (for testing purpose).\r\nLet me share my implementation of the same.\r\n\r\nbatch-job-config.xml\r\n```\r\n&lt;batch:job id=&quot;batch-job_update&quot; parent=&quot;baseJob&quot;&gt;\r\n        &lt;batch:step id=&quot;batch_update.step01&quot;&gt;\r\n            &lt;batch:tasklet transaction-manager=&quot;transactionManager&quot;&gt;\r\n                &lt;batch:chunk\r\n                        reader=&quot;batchReader&quot;\r\n                        processor=&quot;batchProcessor&quot;\r\n                        writer=&quot;batchWriter&quot;\r\n                        commit-interval=&quot;1&quot;&gt;\r\n                &lt;/batch:chunk&gt;\r\n            &lt;/batch:tasklet&gt;\r\n        &lt;/batch:step&gt;\r\n    &lt;/batch:job&gt;\r\n```\r\n\r\nIn the spring boot controller, I am running the batch job by loading this XML file into the context\r\n```\r\nClassPathXmlApplicationContext context = new ClassPathXmlApplicationContext(&quot;path/to/batch-job-config.xml&quot;);\r\n\r\nJob job = context.getBean(&quot;batch-job_update, Job.class);\r\nJobRepository jobRepository = context.getBean(&quot;jobRepositoryBeanName&quot;, JobRepository.class);\r\nJobLauncher jobLauncher = context.getBean(&quot;jobLauncherBeanName&quot;, JobLauncher.class);\r\njobLauncherTestUtils.setJob(job);\r\njobLauncherTestUtils.setJobLauncher(jobLauncher);\r\njobLauncherTestUtils.setJobRepository(jobRepository);\r\nJobParameters jobParameters = getJobParameters(jobParametersList);\r\nJobExecution jobExecution = jobLauncherTestUtils.launchJob(jobParameters);\r\n\r\ncontext.close();\r\n```\r\n\r\nThe issue I am facing is that the db connections created while running the batch are not closed, and since I am running this API with lot of test cases, after the connections are exhausted I am getting the following exception\r\n\r\n```\r\n28-06-2022 10:01:38.476 [http-nio-7788-exec-3] ERROR org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].[dispatcherServlet].log - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;jobRepository&#39;: Invocation of init method failed; nested exception is org.springframework.jdbc.support.MetaDataAccessException: Could not get Connection for extracting meta-data; nested exception is org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLException: Cannot create PoolableConnectionFactory (FATAL: remaining connection slots are reserved for non-replication superuser connections)] with root cause\r\norg.postgresql.util.PSQLException: FATAL: remaining connection slots are reserved for non-replication superuser connections\r\n```\r\n\r\nCould anyone please help me with this one? Thanks in advance","title":"Spring boot data connection is not released","body":"<p>I have a batch job configured using an XML file. And I have created a new Spring boot application with dependency to this batch job. The purpose of this spring boot application is to run the batch job using an API (for testing purpose).\nLet me share my implementation of the same.</p>\n<p>batch-job-config.xml</p>\n<pre><code>&lt;batch:job id=&quot;batch-job_update&quot; parent=&quot;baseJob&quot;&gt;\n        &lt;batch:step id=&quot;batch_update.step01&quot;&gt;\n            &lt;batch:tasklet transaction-manager=&quot;transactionManager&quot;&gt;\n                &lt;batch:chunk\n                        reader=&quot;batchReader&quot;\n                        processor=&quot;batchProcessor&quot;\n                        writer=&quot;batchWriter&quot;\n                        commit-interval=&quot;1&quot;&gt;\n                &lt;/batch:chunk&gt;\n            &lt;/batch:tasklet&gt;\n        &lt;/batch:step&gt;\n    &lt;/batch:job&gt;\n</code></pre>\n<p>In the spring boot controller, I am running the batch job by loading this XML file into the context</p>\n<pre><code>ClassPathXmlApplicationContext context = new ClassPathXmlApplicationContext(&quot;path/to/batch-job-config.xml&quot;);\n\nJob job = context.getBean(&quot;batch-job_update, Job.class);\nJobRepository jobRepository = context.getBean(&quot;jobRepositoryBeanName&quot;, JobRepository.class);\nJobLauncher jobLauncher = context.getBean(&quot;jobLauncherBeanName&quot;, JobLauncher.class);\njobLauncherTestUtils.setJob(job);\njobLauncherTestUtils.setJobLauncher(jobLauncher);\njobLauncherTestUtils.setJobRepository(jobRepository);\nJobParameters jobParameters = getJobParameters(jobParametersList);\nJobExecution jobExecution = jobLauncherTestUtils.launchJob(jobParameters);\n\ncontext.close();\n</code></pre>\n<p>The issue I am facing is that the db connections created while running the batch are not closed, and since I am running this API with lot of test cases, after the connections are exhausted I am getting the following exception</p>\n<pre><code>28-06-2022 10:01:38.476 [http-nio-7788-exec-3] ERROR org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/].[dispatcherServlet].log - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jobRepository': Invocation of init method failed; nested exception is org.springframework.jdbc.support.MetaDataAccessException: Could not get Connection for extracting meta-data; nested exception is org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLException: Cannot create PoolableConnectionFactory (FATAL: remaining connection slots are reserved for non-replication superuser connections)] with root cause\norg.postgresql.util.PSQLException: FATAL: remaining connection slots are reserved for non-replication superuser connections\n</code></pre>\n<p>Could anyone please help me with this one? Thanks in advance</p>\n"},{"tags":["java","email","encoding","utf-8","sendgrid"],"comments":[{"owner":{"account_id":12307150,"reputation":131,"user_id":8979849,"display_name":"Dsleeper"},"score":0,"creation_date":1589886917,"post_id":61818140,"comment_id":109464848,"body_markdown":"Still no reply from Sendgrid support. Has anybody else had issues with getting a response from their support team? I&#39;ve tried multiple channels now and all I get is silence","body":"Still no reply from Sendgrid support. Has anybody else had issues with getting a response from their support team? I&#39;ve tried multiple channels now and all I get is silence"},{"owner":{"account_id":2282781,"reputation":1457,"user_id":2007503,"display_name":"Joshua"},"score":0,"creation_date":1597578388,"post_id":61818140,"comment_id":112173012,"body_markdown":"I&#39;m running into the very same issue right now. Did you find any viable workaround to avoid e-mails being clipped in Gmail?","body":"I&#39;m running into the very same issue right now. Did you find any viable workaround to avoid e-mails being clipped in Gmail?"},{"owner":{"account_id":12307150,"reputation":131,"user_id":8979849,"display_name":"Dsleeper"},"score":2,"creation_date":1597742631,"post_id":61818140,"comment_id":112226406,"body_markdown":"Hi Joshua! No I opted to go for a different vendor in the end. However I finally did get a reply from Sendgrid support. I&#39;ve appended the reply from support in the original post above","body":"Hi Joshua! No I opted to go for a different vendor in the end. However I finally did get a reply from Sendgrid support. I&#39;ve appended the reply from support in the original post above"},{"owner":{"account_id":2282781,"reputation":1457,"user_id":2007503,"display_name":"Joshua"},"score":1,"creation_date":1597831413,"post_id":61818140,"comment_id":112259622,"body_markdown":"Thank you! I ended up going with an HTML e-mail in the end, encoding non-ASCII characters as HTML entities. Not great, but did the trick.","body":"Thank you! I ended up going with an HTML e-mail in the end, encoding non-ASCII characters as HTML entities. Not great, but did the trick."}],"answers":[{"tags":[],"owner":{"account_id":4318785,"reputation":136,"user_id":3527742,"display_name":"Tomasz Sołtysik"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1656512546,"creation_date":1656512546,"answer_id":72803043,"question_id":61818140,"body_markdown":"As a workaround you can force usage of UTF-8 in HTML email body: add character outside of ISO-8859 charset in comment. For example add:\r\n\r\n    &lt;!-- ™ --&gt;\r\n\r\nUsers won&#39;t see it unless they open raw body content.","title":"Cannot use Sendgrid Java API to send UTF-8 encoded emails","body":"<p>As a workaround you can force usage of UTF-8 in HTML email body: add character outside of ISO-8859 charset in comment. For example add:</p>\n<pre><code>&lt;!-- ™ --&gt;\n</code></pre>\n<p>Users won't see it unless they open raw body content.</p>\n"}],"owner":{"account_id":12307150,"reputation":131,"user_id":8979849,"display_name":"Dsleeper"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4828,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"answer_count":1,"score":13,"last_activity_date":1656512546,"creation_date":1589542127,"question_id":61818140,"body_markdown":"I&#39;ve just switched from Mandrill to Sendgrid. When using the standard Sendgrid JAVA API to send emails the email header content-type is listed as:\r\n\r\n    Content-Type: text/html; charset=iso-8859-1\r\n\r\nI have not been able to find a way to change this to UTF-8 which is my requirement for sending properly encoded emails. This worked just fine when using Mandrill. Sending via Mandrill kept the original source encoding intact in the content-type header. My current code is basically using this Sendgrid sample code:\r\nhttps://sendgrid.com/docs/for-developers/sending-email/v3-java-code-example/\r\n\r\n**Environment:**\r\n\r\n - JDK 1.8\r\n - sendgrid-java 4.48\r\n\r\nMy source files are all encoded with UTF-8 and my project is built via Maven with maven-compiler-plugin set to\r\n\r\n    &lt;encoding&gt;UTF-8&lt;/encoding&gt;\r\n\r\nThe messsage body that I am posting to Sendgrid is HTML and has the following content-type set in the head element:\r\n\r\n    &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=utf-8&quot; /&gt;\r\n\r\n\r\nThe results of using Sendgrid is that the message gets clipped in Gmail. This seems to be due to the conflicting encoding types. Ie the &quot;mail&quot; header says iso-8859-1 even though the actual content is UTF-8. If I understand this correctly the result is that characters are encoded incorretly.\r\n\r\nNote: I&#39;m sending Norwegian characters &#198;&#216;&#197;.\r\n\r\nI&#39;ve tried to convert the message body to ASCII and iso-8859-1. The results of this is that the email is no longer clipped in Gmail, but the &#198;&#216;&#197; characters are replaced with questionmarks (I know that US_ASCII does not support the &#198;&#216;&#197; characters). I&#39;ve also tried to override the Sendgrid header with this code:\r\n\r\n    mail.addHeader(&quot;Content-Type&quot;, &quot;text/html; charset=UTF-8&quot;);\r\n\r\nBut that key is reserved and cannot be overriden..\r\n\r\nI&#39;ve also contacted Sendgrid support. They replied with the following:\r\n\r\n&gt; Unfortunately, our system will automatically encode the body with\r\n&gt; whatever encoding is being passed to us. This means, that if there are\r\n&gt; characters in that email that are ISO-8859 characters. Then the body\r\n&gt; is going to be using that encoding. We do not currently have an option\r\n&gt; to force UTF-8 encode the body of emails that are being passed through\r\n&gt; us.\r\n&gt; \r\n&gt; Going forward, you would need to convert these emails previous to\r\n&gt; sending them to our servers. Or put a procedure in place to decode\r\n&gt; them into UTF-8 when they are received. For more in depth help with\r\n&gt; code, I would suggest reaching out of the GitHub issue board of the\r\n&gt; language you&#39;re using is a great way to gain insight:\r\n&gt; https://github.com/sendgrid/sendgrid-java.","title":"Cannot use Sendgrid Java API to send UTF-8 encoded emails","body":"<p>I've just switched from Mandrill to Sendgrid. When using the standard Sendgrid JAVA API to send emails the email header content-type is listed as:</p>\n<pre><code>Content-Type: text/html; charset=iso-8859-1\n</code></pre>\n<p>I have not been able to find a way to change this to UTF-8 which is my requirement for sending properly encoded emails. This worked just fine when using Mandrill. Sending via Mandrill kept the original source encoding intact in the content-type header. My current code is basically using this Sendgrid sample code:\n<a href=\"https://sendgrid.com/docs/for-developers/sending-email/v3-java-code-example/\" rel=\"noreferrer\">https://sendgrid.com/docs/for-developers/sending-email/v3-java-code-example/</a></p>\n<p><strong>Environment:</strong></p>\n<ul>\n<li>JDK 1.8</li>\n<li>sendgrid-java 4.48</li>\n</ul>\n<p>My source files are all encoded with UTF-8 and my project is built via Maven with maven-compiler-plugin set to</p>\n<pre><code>&lt;encoding&gt;UTF-8&lt;/encoding&gt;\n</code></pre>\n<p>The messsage body that I am posting to Sendgrid is HTML and has the following content-type set in the head element:</p>\n<pre><code>&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=utf-8&quot; /&gt;\n</code></pre>\n<p>The results of using Sendgrid is that the message gets clipped in Gmail. This seems to be due to the conflicting encoding types. Ie the &quot;mail&quot; header says iso-8859-1 even though the actual content is UTF-8. If I understand this correctly the result is that characters are encoded incorretly.</p>\n<p>Note: I'm sending Norwegian characters ÆØÅ.</p>\n<p>I've tried to convert the message body to ASCII and iso-8859-1. The results of this is that the email is no longer clipped in Gmail, but the ÆØÅ characters are replaced with questionmarks (I know that US_ASCII does not support the ÆØÅ characters). I've also tried to override the Sendgrid header with this code:</p>\n<pre><code>mail.addHeader(&quot;Content-Type&quot;, &quot;text/html; charset=UTF-8&quot;);\n</code></pre>\n<p>But that key is reserved and cannot be overriden..</p>\n<p>I've also contacted Sendgrid support. They replied with the following:</p>\n<blockquote>\n<p>Unfortunately, our system will automatically encode the body with\nwhatever encoding is being passed to us. This means, that if there are\ncharacters in that email that are ISO-8859 characters. Then the body\nis going to be using that encoding. We do not currently have an option\nto force UTF-8 encode the body of emails that are being passed through\nus.</p>\n<p>Going forward, you would need to convert these emails previous to\nsending them to our servers. Or put a procedure in place to decode\nthem into UTF-8 when they are received. For more in depth help with\ncode, I would suggest reaching out of the GitHub issue board of the\nlanguage you're using is a great way to gain insight:\n<a href=\"https://github.com/sendgrid/sendgrid-java\" rel=\"noreferrer\">https://github.com/sendgrid/sendgrid-java</a>.</p>\n</blockquote>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":14331920,"reputation":351,"user_id":10352461,"display_name":"Stefan de Kraker"},"score":1,"creation_date":1656508334,"post_id":72801073,"comment_id":128589874,"body_markdown":"You should push data: [see this post](https://stackoverflow.com/a/28822372/10352461)","body":"You should push data: <a href=\"https://stackoverflow.com/a/28822372/10352461\">see this post</a>"},{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1656512775,"post_id":72801073,"comment_id":128591820,"body_markdown":"Did you try calling `FirebaseDatabase.getInstance().getReference().child(&quot;User/&quot; + uid + &quot;/CollectionList&quot;).push().setValue(theNewList)` to add the new data?","body":"Did you try calling <code>FirebaseDatabase.getInstance().getReference().child(&quot;User&#47;&quot; + uid + &quot;&#47;CollectionList&quot;).push().setValue(theNewList)</code> to add the new data?"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1657099825,"post_id":72801073,"comment_id":128726851,"body_markdown":"Firebase API is asynchronous. So you might be interested in reading this [resource](https://medium.com/firebase-tips-tricks/how-to-read-data-from-firebase-realtime-database-using-get-269ef3e179c5).","body":"Firebase API is asynchronous. So you might be interested in reading this <a href=\"https://medium.com/firebase-tips-tricks/how-to-read-data-from-firebase-realtime-database-using-get-269ef3e179c5\" rel=\"nofollow noreferrer\">resource</a>."}],"owner":{"account_id":25680384,"reputation":1,"user_id":19443263,"display_name":"QWERTY_Rebooted"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1656512541,"creation_date":1656503985,"question_id":72801073,"body_markdown":"I am trying to add an Item under a Collection in Firebase.\r\n\r\n![Firebase Real Time Database][1]\r\n\r\nI am adding an Item and the Key is being assigned a value of null. I want to be able to add the Item below the Key for collection5. So I need a way to make the Key get the Value of collection5&#39;s Key.\r\n\r\nThere is a Recycler View which displays added Collections to a Logged In User. After clicking on a Collection the User is taken to a Recycler View for Items. This is where they are able to access the CreateItemActivity.\r\n\r\nThese are declarations at the top of my CreateItemActivity:\r\n```\r\nString[] collectionsList = new String[6];\r\n    int a = 0;\r\n```\r\nThe following code is below the OnCreate Method:\r\n```\r\nmDatabaseRef = FirebaseDatabase.getInstance().getReference().child(&quot;User/&quot; + uid + &quot;/CollectionList/&quot;+ collectionsList[a] );\r\n```\r\n```\r\nmDatabaseRef.addListenerForSingleValueEvent(new ValueEventListener() {\r\n    @Override\r\n    public void onDataChange(DataSnapshot dataSnapshot) {\r\n        while (a &lt;= 1) {\r\n            for (DataSnapshot postSnapshot : dataSnapshot.getChildren()) {\r\n                System.out.println(postSnapshot.getKey());\r\n                key = postSnapshot.getKey();\r\n                Toast.makeText(CreateItemsActivity.this, postSnapshot.getKey(), Toast.LENGTH_SHORT).show();\r\n                collectionsList[a] = dataSnapshot.child(key).getKey();\r\n            }\r\n            a = a + 1;\r\n        }\r\n    }\r\n    @Override\r\n    public void onCancelled(DatabaseError databaseError) {\r\n        Toast.makeText(CreateItemsActivity.this, databaseError.getMessage(), Toast.LENGTH_SHORT).show();\r\n        throw databaseError.toException();\r\n    }\r\n});\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/w1q6q.png","title":"Firebase How to Input Data under Unique Key","body":"<p>I am trying to add an Item under a Collection in Firebase.</p>\n<p><img src=\"https://i.stack.imgur.com/w1q6q.png\" alt=\"Firebase Real Time Database\" /></p>\n<p>I am adding an Item and the Key is being assigned a value of null. I want to be able to add the Item below the Key for collection5. So I need a way to make the Key get the Value of collection5's Key.</p>\n<p>There is a Recycler View which displays added Collections to a Logged In User. After clicking on a Collection the User is taken to a Recycler View for Items. This is where they are able to access the CreateItemActivity.</p>\n<p>These are declarations at the top of my CreateItemActivity:</p>\n<pre><code>String[] collectionsList = new String[6];\n    int a = 0;\n</code></pre>\n<p>The following code is below the OnCreate Method:</p>\n<pre><code>mDatabaseRef = FirebaseDatabase.getInstance().getReference().child(&quot;User/&quot; + uid + &quot;/CollectionList/&quot;+ collectionsList[a] );\n</code></pre>\n<pre><code>mDatabaseRef.addListenerForSingleValueEvent(new ValueEventListener() {\n    @Override\n    public void onDataChange(DataSnapshot dataSnapshot) {\n        while (a &lt;= 1) {\n            for (DataSnapshot postSnapshot : dataSnapshot.getChildren()) {\n                System.out.println(postSnapshot.getKey());\n                key = postSnapshot.getKey();\n                Toast.makeText(CreateItemsActivity.this, postSnapshot.getKey(), Toast.LENGTH_SHORT).show();\n                collectionsList[a] = dataSnapshot.child(key).getKey();\n            }\n            a = a + 1;\n        }\n    }\n    @Override\n    public void onCancelled(DatabaseError databaseError) {\n        Toast.makeText(CreateItemsActivity.this, databaseError.getMessage(), Toast.LENGTH_SHORT).show();\n        throw databaseError.toException();\n    }\n});\n</code></pre>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":14331920,"reputation":351,"user_id":10352461,"display_name":"Stefan de Kraker"},"score":1,"creation_date":1656506893,"post_id":72801208,"comment_id":128589213,"body_markdown":"Firebase does not support the option to delete a list by index or id. What you should do, is make the changes to the document (a class that holds the data) in your code, and then update it, by the `update` function of Firebase","body":"Firebase does not support the option to delete a list by index or id. What you should do, is make the changes to the document (a class that holds the data) in your code, and then update it, by the <code>update</code> function of Firebase"}],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1656512346,"creation_date":1656512346,"answer_id":72802988,"question_id":72801208,"body_markdown":"To remove the existing node and add a new node in one operation would be something like this:\r\n```\r\nString listToDelete = &quot;20211127&quot;;\r\nString listToAdd = &quot;20220629&quot;;\r\nMap dataToAdd = ...; // &#128072; You have to provide this\r\n\r\nMap updates = new HashMap&lt;String, Object&gt;();\r\nupdates.put(&quot;cafeTrans/&quot;+listToDelete, null);\r\nupdates.put(&quot;cafeTrans/&quot;listToAdd, dataToAdd);\r\nFirebaseDatabase.getInstance().getReference().updateChildren(updates);\r\n```","title":"How to delete a list and create a new list in firebase android?","body":"<p>To remove the existing node and add a new node in one operation would be something like this:</p>\n<pre><code>String listToDelete = &quot;20211127&quot;;\nString listToAdd = &quot;20220629&quot;;\nMap dataToAdd = ...; // 👈 You have to provide this\n\nMap updates = new HashMap&lt;String, Object&gt;();\nupdates.put(&quot;cafeTrans/&quot;+listToDelete, null);\nupdates.put(&quot;cafeTrans/&quot;listToAdd, dataToAdd);\nFirebaseDatabase.getInstance().getReference().updateChildren(updates);\n</code></pre>\n"}],"owner":{"account_id":2268208,"reputation":3,"user_id":1996286,"display_name":"Mano"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72802988,"answer_count":1,"score":0,"last_activity_date":1656512346,"creation_date":1656504611,"question_id":72801208,"body_markdown":"Im having a database as below, \r\n\r\n![firebase database][1]\r\n\r\nHere, I want to dynamically delete the existing list &quot;20211127&quot;, \r\nand add a new list with a different name in place of deleted one.\r\n\r\nI have been going over this issue for 6 days now, without a solution. Could you please help me with this?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/iKxFZ.png","title":"How to delete a list and create a new list in firebase android?","body":"<p>Im having a database as below,</p>\n<p><img src=\"https://i.stack.imgur.com/iKxFZ.png\" alt=\"firebase database\" /></p>\n<p>Here, I want to dynamically delete the existing list &quot;20211127&quot;,\nand add a new list with a different name in place of deleted one.</p>\n<p>I have been going over this issue for 6 days now, without a solution. Could you please help me with this?</p>\n"},{"tags":["java","reflection"],"answers":[{"tags":[],"owner":{"display_name":"user19443549"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656508481,"creation_date":1656508481,"answer_id":72802055,"question_id":72801678,"body_markdown":"You can use reflections but best approach will be to use jackson libraries (jackson-core and jackson-databind) because these libraries will give you performance benefits as well.\r\n\r\nBelow is small piece of code by using jackson libraries that you can refer -\r\n\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        String message = &quot;{\\&quot;my_id\\&quot;:\\&quot;1234\\&quot;}&quot;;\r\n        MyClass myClass = mapper.readValue(message,MyClass.class);\r\n        System.out.println(myClass.getId());\r\n\r\nYou can use Gson as well if you want but @JsonProperty wont work for Gson, there is different annotaion in Gson corresponding to this **@SerializedName(&quot;my_id&quot;)**.\r\nBelow is sample code for Gson as well -\r\n\r\n    public class MyClass {\r\n\r\n        @SerializedName(&quot;my_id&quot;)\r\n        private String id;\r\n        public String getId() {\r\n            return this.id;\r\n        }\r\n        public void setId(String id) {\r\n            this.id = id;\r\n        }\r\n    }\r\n\r\n    String message = &quot;{\\&quot;my_id\\&quot;:\\&quot;1234\\&quot;}&quot;;\r\n    MyClass myClass = new Gson().fromJson(message,MyClass.class);\r\n    System.out.println(myClass.getId());","title":"Trigger the setter method of a field based on the field&#39;s JsonProperty","body":"<p>You can use reflections but best approach will be to use jackson libraries (jackson-core and jackson-databind) because these libraries will give you performance benefits as well.</p>\n<p>Below is small piece of code by using jackson libraries that you can refer -</p>\n<pre><code>    ObjectMapper mapper = new ObjectMapper();\n    String message = &quot;{\\&quot;my_id\\&quot;:\\&quot;1234\\&quot;}&quot;;\n    MyClass myClass = mapper.readValue(message,MyClass.class);\n    System.out.println(myClass.getId());\n</code></pre>\n<p>You can use Gson as well if you want but @JsonProperty wont work for Gson, there is different annotaion in Gson corresponding to this <strong>@SerializedName(&quot;my_id&quot;)</strong>.\nBelow is sample code for Gson as well -</p>\n<pre><code>public class MyClass {\n\n    @SerializedName(&quot;my_id&quot;)\n    private String id;\n    public String getId() {\n        return this.id;\n    }\n    public void setId(String id) {\n        this.id = id;\n    }\n}\n\nString message = &quot;{\\&quot;my_id\\&quot;:\\&quot;1234\\&quot;}&quot;;\nMyClass myClass = new Gson().fromJson(message,MyClass.class);\nSystem.out.println(myClass.getId());\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user19443549"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656511893,"creation_date":1656510031,"answer_id":72802427,"question_id":72801678,"body_markdown":"If you don&#39;t have message with you, in that case I think reflection only can help you and if you use reflection you even don&#39;t need to call setter method for setting value, you can use below code to set the value-\r\n\r\n    public void myMethod(MyClass myClass, String jsonProperty, String newId) throws IllegalAccessException {\r\n        for (Field field : MyClass.class.getDeclaredFields()) {\r\n            JsonProperty jsonPropAnnotation = field.getAnnotation(JsonProperty.class);\r\n            if (jsonPropAnnotation != null)\r\n                if (jsonPropAnnotation.value().equals(jsonProperty)) {\r\n                    field.setAccessible(true);\r\n                    field.set(myClass, newId);\r\n                }\r\n        }\r\n    }\r\n\r\nWithout iterating with for loop you cant set value but you can change approach where at application start up  you can populate a static map like below and then in your application you can just get field from map and can set the value without iterating again over loop. \r\n\r\n    public class MainClass {\r\n    private static final Map&lt;String, Field&gt; FIELD_MAP = new HashMap&lt;&gt;();\r\n\r\n    public static void main(String[] args) throws IllegalAccessException {\r\n        setFieldMap();\r\n        MyClass myClass = new MyClass();\r\n        myMethod(myClass, &quot;my_id&quot;, &quot;1234&quot;);\r\n        System.out.println(myClass.getId());\r\n    }\r\n\r\n    public static void myMethod(MyClass myClass, String jsonProperty, String newId) throws IllegalAccessException {\r\n        Field field = FIELD_MAP.get(jsonProperty);\r\n        field.setAccessible(true);\r\n        field.set(myClass, newId);\r\n    }\r\n\r\n    public static void setFieldMap() {\r\n        for (Field field : MyClass.class.getDeclaredFields()) {\r\n            JsonProperty ann = field.getAnnotation(JsonProperty.class);\r\n            if (ann != null)\r\n                if (null != ann.value()) {\r\n                    FIELD_MAP.put(ann.value(), field);\r\n                }\r\n        }\r\n    }\r\n    }\r\n\r\n","title":"Trigger the setter method of a field based on the field&#39;s JsonProperty","body":"<p>If you don't have message with you, in that case I think reflection only can help you and if you use reflection you even don't need to call setter method for setting value, you can use below code to set the value-</p>\n<pre><code>public void myMethod(MyClass myClass, String jsonProperty, String newId) throws IllegalAccessException {\n    for (Field field : MyClass.class.getDeclaredFields()) {\n        JsonProperty jsonPropAnnotation = field.getAnnotation(JsonProperty.class);\n        if (jsonPropAnnotation != null)\n            if (jsonPropAnnotation.value().equals(jsonProperty)) {\n                field.setAccessible(true);\n                field.set(myClass, newId);\n            }\n    }\n}\n</code></pre>\n<p>Without iterating with for loop you cant set value but you can change approach where at application start up  you can populate a static map like below and then in your application you can just get field from map and can set the value without iterating again over loop.</p>\n<pre><code>public class MainClass {\nprivate static final Map&lt;String, Field&gt; FIELD_MAP = new HashMap&lt;&gt;();\n\npublic static void main(String[] args) throws IllegalAccessException {\n    setFieldMap();\n    MyClass myClass = new MyClass();\n    myMethod(myClass, &quot;my_id&quot;, &quot;1234&quot;);\n    System.out.println(myClass.getId());\n}\n\npublic static void myMethod(MyClass myClass, String jsonProperty, String newId) throws IllegalAccessException {\n    Field field = FIELD_MAP.get(jsonProperty);\n    field.setAccessible(true);\n    field.set(myClass, newId);\n}\n\npublic static void setFieldMap() {\n    for (Field field : MyClass.class.getDeclaredFields()) {\n        JsonProperty ann = field.getAnnotation(JsonProperty.class);\n        if (ann != null)\n            if (null != ann.value()) {\n                FIELD_MAP.put(ann.value(), field);\n            }\n    }\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25557844,"reputation":93,"user_id":19340995,"display_name":"gmrm"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656512259,"creation_date":1656510531,"answer_id":72802546,"question_id":72801678,"body_markdown":"With reflection:\r\n```\r\nclass AnotherClass {\r\n\r\n    Class&lt;JsonProperty&gt; jacksonAnnotation = JsonProperty.class;\r\n\r\n    public void myMethod(MyClass myClass, String jsonProperty, String newId) throws InvocationTargetException, IllegalAccessException {\r\n        Class&lt;MyClass&gt; clazz = MyClass.class;\r\n        Field[] fields = clazz.getDeclaredFields();\r\n        Method[] methods = clazz.getDeclaredMethods();\r\n        Method setter = null;\r\n        Method getter = null;\r\n        for(Field field : fields){\r\n            if(field.isAnnotationPresent(jacksonAnnotation)){\r\n                String value = field.getAnnotation(jacksonAnnotation).value();\r\n                if(value.equals(jsonProperty)){\r\n                    getter = getMethodForField(methods, field, &quot;get&quot;);\r\n                    setter = getMethodForField(methods, field, &quot;set&quot;);\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n\r\n        //getId() result\r\n        Object getResult = getter.invoke(myClass);\r\n\r\n        //setId() execution\r\n        setter.invoke(myClass, newId);\r\n\r\n        // Your logic comes here\r\n        System.out.println(getResult);\r\n        System.out.println(myClass.getId());\r\n\r\n    }\r\n\r\n    private Method getMethodForField(Method[] methods, Field field, String name) {\r\n        for(Method method : methods){\r\n            String methodName = method.getName().toLowerCase();\r\n            String getterName = String.format(&quot;%s%s&quot;, name, field.getName()).toLowerCase();\r\n            if(methodName.equals(getterName)){\r\n                return method;\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\n}\r\n```\r\n\r\nThis code will find the matching `getter` and `setter` for a field matching the `JsonProperty` and use them.\r\n\r\nSo the following execution:\r\n```\r\npublic static void main(String[] args) throws InvocationTargetException, IllegalAccessException {\r\n        MyClass myClass = new MyClass();\r\n        myClass.setId(&quot;oldId&quot;);\r\n        new AnotherClass().myMethod(myClass, &quot;my_id&quot;, &quot;newId&quot;);\r\n    }\r\n```\r\nWill output:\r\n```\r\noldId\r\nnewId\r\n```\r\n\r\n**Edit:**\r\n\r\nBased on [this answer][1], you could use Jacksons merge functionality to achieve the same and avoid a loop on fields:\r\n\r\n```\r\n    public void myMethod(MyClass myClass, String jsonProperty, String newId) throws JsonProcessingException {\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        ObjectReader updater = mapper.readerForUpdating(myClass);\r\n        MyClass updated = updater.readValue(String.format(&quot;{ \\&quot;%s\\&quot;:\\&quot;%s\\&quot; }&quot;, jsonProperty, newId));\r\n        System.out.println(updated.getId());\r\n    }\r\n```\r\n\r\nThough I don&#39;t know the performance impacts it might have since it requires transforming data to and from json.\r\n\r\n  [1]: https://stackoverflow.com/questions/9895041/merging-two-json-documents-using-jackson","title":"Trigger the setter method of a field based on the field&#39;s JsonProperty","body":"<p>With reflection:</p>\n<pre><code>class AnotherClass {\n\n    Class&lt;JsonProperty&gt; jacksonAnnotation = JsonProperty.class;\n\n    public void myMethod(MyClass myClass, String jsonProperty, String newId) throws InvocationTargetException, IllegalAccessException {\n        Class&lt;MyClass&gt; clazz = MyClass.class;\n        Field[] fields = clazz.getDeclaredFields();\n        Method[] methods = clazz.getDeclaredMethods();\n        Method setter = null;\n        Method getter = null;\n        for(Field field : fields){\n            if(field.isAnnotationPresent(jacksonAnnotation)){\n                String value = field.getAnnotation(jacksonAnnotation).value();\n                if(value.equals(jsonProperty)){\n                    getter = getMethodForField(methods, field, &quot;get&quot;);\n                    setter = getMethodForField(methods, field, &quot;set&quot;);\n                    break;\n                }\n            }\n        }\n\n        //getId() result\n        Object getResult = getter.invoke(myClass);\n\n        //setId() execution\n        setter.invoke(myClass, newId);\n\n        // Your logic comes here\n        System.out.println(getResult);\n        System.out.println(myClass.getId());\n\n    }\n\n    private Method getMethodForField(Method[] methods, Field field, String name) {\n        for(Method method : methods){\n            String methodName = method.getName().toLowerCase();\n            String getterName = String.format(&quot;%s%s&quot;, name, field.getName()).toLowerCase();\n            if(methodName.equals(getterName)){\n                return method;\n            }\n        }\n        return null;\n    }\n\n}\n</code></pre>\n<p>This code will find the matching <code>getter</code> and <code>setter</code> for a field matching the <code>JsonProperty</code> and use them.</p>\n<p>So the following execution:</p>\n<pre><code>public static void main(String[] args) throws InvocationTargetException, IllegalAccessException {\n        MyClass myClass = new MyClass();\n        myClass.setId(&quot;oldId&quot;);\n        new AnotherClass().myMethod(myClass, &quot;my_id&quot;, &quot;newId&quot;);\n    }\n</code></pre>\n<p>Will output:</p>\n<pre><code>oldId\nnewId\n</code></pre>\n<p><strong>Edit:</strong></p>\n<p>Based on <a href=\"https://stackoverflow.com/questions/9895041/merging-two-json-documents-using-jackson\">this answer</a>, you could use Jacksons merge functionality to achieve the same and avoid a loop on fields:</p>\n<pre><code>    public void myMethod(MyClass myClass, String jsonProperty, String newId) throws JsonProcessingException {\n        ObjectMapper mapper = new ObjectMapper();\n        ObjectReader updater = mapper.readerForUpdating(myClass);\n        MyClass updated = updater.readValue(String.format(&quot;{ \\&quot;%s\\&quot;:\\&quot;%s\\&quot; }&quot;, jsonProperty, newId));\n        System.out.println(updated.getId());\n    }\n</code></pre>\n<p>Though I don't know the performance impacts it might have since it requires transforming data to and from json.</p>\n"}],"owner":{"account_id":18770885,"reputation":772,"user_id":13687718,"display_name":"mang4521"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":444,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72802427,"answer_count":3,"score":1,"last_activity_date":1656512259,"creation_date":1656506795,"question_id":72801678,"body_markdown":"I have a class as follows:\r\n\r\n```\r\npublic class MyClass {\r\n   @JsonProperty(&quot;my_id&quot;)\r\n   private String id;\r\n\r\n   public getId() {\r\n      return this.id;\r\n   }\r\n\r\n   public setId(String id) {\r\n      this.id = id;\r\n   }\r\n}\r\n```\r\n\r\nI have another class where I have the *JsonProperty [my_id]* information with me. With this information, I would like to trigger the *getId()* and *setId()* methods.\r\n\r\n```\r\npublic class AnotherClass {\r\n   // jsonProperty value is &quot;my_id&quot;\r\n   public myMethod(MyClass myClass, String jsonProperty, String newId) {\r\n      // call the setter method setId(newId) of myClass\r\n     // call the getter method getId() of myClass\r\n   }\r\n}\r\n```\r\n\r\nI do understand that this is a classic case of *Reflection* in Java but I am unable to implement the same even after going through hours of documentation and resources on reflection. Can someone please help me here?\r\n\r\nWould it also be possible to use *Jackson ObjectMapper* or *Google Gson* to get the desired result?\r\n\r\n***Edit:***\r\n\r\nTwo of the solutions provided by &quot;@gmrm&quot; and &quot;@suraj tomar&quot; does the intended task [Thank you both]. But, both solutions are forced to iterate over each of the available fields. Instead of iterating over all the &quot;Fields&quot;, **isn&#39;t there a way to simply fetch the Field I am looking for based on the JsonProperty name**? As an example:\r\n\r\n```\r\npublic void myMethod(MyClass myClass, String jsonProperty, String newId) throws IllegalAccessException {\r\n    for (Field field : MyClass.class.getDeclaredFields()) {\r\n        JsonProperty jsonPropAnnotation = field.getAnnotation(JsonProperty.class);\r\n        if (jsonPropAnnotation != null)\r\n            if (jsonPropAnnotation.value().equals(jsonProperty)) {\r\n                field.setAccessible(true);\r\n                field.set(myClass, newId);\r\n            }\r\n    }\r\n}\r\n```\r\n\r\nThe solution above works.\r\nYet, I would like to avoid the loop below, if at all it is possible.\r\n\r\n```\r\nfor (Field field : MyClass.class.getDeclaredFields())\r\n```","title":"Trigger the setter method of a field based on the field&#39;s JsonProperty","body":"<p>I have a class as follows:</p>\n<pre><code>public class MyClass {\n   @JsonProperty(&quot;my_id&quot;)\n   private String id;\n\n   public getId() {\n      return this.id;\n   }\n\n   public setId(String id) {\n      this.id = id;\n   }\n}\n</code></pre>\n<p>I have another class where I have the <em>JsonProperty [my_id]</em> information with me. With this information, I would like to trigger the <em>getId()</em> and <em>setId()</em> methods.</p>\n<pre><code>public class AnotherClass {\n   // jsonProperty value is &quot;my_id&quot;\n   public myMethod(MyClass myClass, String jsonProperty, String newId) {\n      // call the setter method setId(newId) of myClass\n     // call the getter method getId() of myClass\n   }\n}\n</code></pre>\n<p>I do understand that this is a classic case of <em>Reflection</em> in Java but I am unable to implement the same even after going through hours of documentation and resources on reflection. Can someone please help me here?</p>\n<p>Would it also be possible to use <em>Jackson ObjectMapper</em> or <em>Google Gson</em> to get the desired result?</p>\n<p><em><strong>Edit:</strong></em></p>\n<p>Two of the solutions provided by &quot;@gmrm&quot; and &quot;@suraj tomar&quot; does the intended task [Thank you both]. But, both solutions are forced to iterate over each of the available fields. Instead of iterating over all the &quot;Fields&quot;, <strong>isn't there a way to simply fetch the Field I am looking for based on the JsonProperty name</strong>? As an example:</p>\n<pre><code>public void myMethod(MyClass myClass, String jsonProperty, String newId) throws IllegalAccessException {\n    for (Field field : MyClass.class.getDeclaredFields()) {\n        JsonProperty jsonPropAnnotation = field.getAnnotation(JsonProperty.class);\n        if (jsonPropAnnotation != null)\n            if (jsonPropAnnotation.value().equals(jsonProperty)) {\n                field.setAccessible(true);\n                field.set(myClass, newId);\n            }\n    }\n}\n</code></pre>\n<p>The solution above works.\nYet, I would like to avoid the loop below, if at all it is possible.</p>\n<pre><code>for (Field field : MyClass.class.getDeclaredFields())\n</code></pre>\n"},{"tags":["java","abstract-methods","default-method"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1656362192,"post_id":72777996,"comment_id":128549119,"body_markdown":"A _default_ method is by definition not _abstract_. Default methods were added to Java in version 8 and can only be declared in interfaces. If your method was declared like `void sampleMethod();`, then it would be abstract (implicitly, due to it being declared in an interface, though you could explicitly add the `abstract` keyword). As you can see, an abstract method cannot _do_ anything, as it has no method body.","body":"A <i>default</i> method is by definition not <i>abstract</i>. Default methods were added to Java in version 8 and can only be declared in interfaces. If your method was declared like <code>void sampleMethod();</code>, then it would be abstract (implicitly, due to it being declared in an interface, though you could explicitly add the <code>abstract</code> keyword). As you can see, an abstract method cannot <i>do</i> anything, as it has no method body."},{"owner":{"account_id":3013735,"reputation":13241,"user_id":2556520,"display_name":"bhspencer"},"score":1,"creation_date":1656362251,"post_id":72777996,"comment_id":128549137,"body_markdown":"That is a default method on an interface not an abstract method on an abstract class. https://stackoverflow.com/questions/19998454/when-to-use-java-8-interface-default-method-vs-abstract-method#:~:text=These%20two%20are%20quite%20different,are%20intended%20to%20be%20extended.","body":"That is a default method on an interface not an abstract method on an abstract class. <a href=\"https://stackoverflow.com/questions/19998454/when-to-use-java-8-interface-default-method-vs-abstract-method#:~:text=These%20two%20are%20quite%20different,are%20intended%20to%20be%20extended\" title=\"when to use java 8 interface default method vs abstract method%23%3a%7e%3atext%3dThese%2520two%2520are%2520quite%2520different%2care%2520intended%2520to%2520be%2520extended\">stackoverflow.com/questions/19998454/&hellip;</a>."}],"answers":[{"tags":[],"owner":{"account_id":23837295,"reputation":308,"user_id":17842877,"display_name":"xthe_white_lionx"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656512189,"creation_date":1656512189,"answer_id":72802946,"question_id":72777996,"body_markdown":"The *sampleMethod()* isn&#39;t an abstract method it is a default methode, which means that you can call this Methode at any implementation, because this is the default methode which will be called. \r\nFurthermore you can override this methode in your implementation but if you do not it wil simply call your default methode from the interface. So you don&#39;t have to override/implement it in your implementation class.\r\n\r\nBut keep in mind that even with a default methode in your interface you can&#39;t manage any variables if you wont to do this use an abstract class like this   \r\n\r\n    public abstract class SomeAbstractClass{\r\n        String thing;\r\n\r\n        protected SomeAbstractClass(String thing) {\r\n            this.thing = thing;\r\n        }\r\n\r\n        void sampleMethod() {\r\n            System.out.println(thing);\r\n            //or do other stuff\r\n        }\r\n\r\n        abstract void otherMethode();\r\n    }","title":"can abstract method do System.out.println?","body":"<p>The <em>sampleMethod()</em> isn't an abstract method it is a default methode, which means that you can call this Methode at any implementation, because this is the default methode which will be called.\nFurthermore you can override this methode in your implementation but if you do not it wil simply call your default methode from the interface. So you don't have to override/implement it in your implementation class.</p>\n<p>But keep in mind that even with a default methode in your interface you can't manage any variables if you wont to do this use an abstract class like this</p>\n<pre><code>public abstract class SomeAbstractClass{\n    String thing;\n\n    protected SomeAbstractClass(String thing) {\n        this.thing = thing;\n    }\n\n    void sampleMethod() {\n        System.out.println(thing);\n        //or do other stuff\n    }\n\n    abstract void otherMethode();\n}\n</code></pre>\n"}],"owner":{"account_id":20733348,"reputation":11,"user_id":15224752,"display_name":"Lei"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":191,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1656512189,"creation_date":1656362058,"question_id":72777996,"body_markdown":"I am a beginner in Java. I have a question about the abstract method in Interface. Is the following ```sampleMethod()``` an abstract method? My understanding is that it is not an abstract method due to ```System.out.println```. Am I correct?\r\n\r\n```\r\ndefault void sampleMethod() {\r\n            System.out.println(&quot;Am I abstract method?&quot;);\r\n}\r\n```\r\n\r\nThanks in advance! \r\n\r\n  ","title":"can abstract method do System.out.println?","body":"<p>I am a beginner in Java. I have a question about the abstract method in Interface. Is the following <code>sampleMethod()</code> an abstract method? My understanding is that it is not an abstract method due to <code>System.out.println</code>. Am I correct?</p>\n<pre><code>default void sampleMethod() {\n            System.out.println(&quot;Am I abstract method?&quot;);\n}\n</code></pre>\n<p>Thanks in advance!</p>\n"},{"tags":["java","arrays","list","arraylist","data-structures"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":3,"creation_date":1656502158,"post_id":72800624,"comment_id":128587285,"body_markdown":"Could you use [edit] option and explain what makes *you* think it &quot;doesn&#39;t work correctly&quot;? How did you use it, what results did you expect and what did you get instead?","body":"Could you use <a href=\"https://stackoverflow.com/posts/72800624/edit\">edit</a> option and explain what makes <i>you</i> think it &quot;doesn&#39;t work correctly&quot;? How did you use it, what results did you expect and what did you get instead?"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1656502249,"post_id":72800624,"comment_id":128587314,"body_markdown":"Also note that you are checking `i &lt; n/2;` but later doing `n--`. Does it look right?","body":"Also note that you are checking <code>i &lt; n&#47;2;</code> but later doing <code>n--</code>. Does it look right?"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":2,"creation_date":1656502267,"post_id":72800624,"comment_id":128587325,"body_markdown":"`n-1-i` instead of `n-1`","body":"<code>n-1-i</code> instead of <code>n-1</code>"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1656502549,"post_id":72800624,"comment_id":128587441,"body_markdown":"BTW `a.set(i, a.set(n-1-i, a.get(i)));`  could be done for swapping, as `set` returns the old value.","body":"BTW <code>a.set(i, a.set(n-1-i, a.get(i)));</code>  could be done for swapping, as <code>set</code> returns the old value."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1656503198,"post_id":72800624,"comment_id":128587724,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1656505285,"post_id":72800624,"comment_id":128588508,"body_markdown":"Why do you name a method to reverse a list, “`reverseArray`”?","body":"Why do you name a method to reverse a list, “<code>reverseArray</code>”?"}],"answers":[{"tags":[],"owner":{"account_id":15777655,"reputation":1762,"user_id":11385052,"display_name":"Ryan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656512001,"creation_date":1656512001,"answer_id":72802885,"question_id":72800624,"body_markdown":"I wouldn&#39;t use such an implementation as you&#39;re being destructive to the parameter.  If you&#39;re going to return a list, then create a new list.  Anyone using such a function will assume their source list will remain unaltered, but with your implementation, that isn&#39;t true.  Do something more like this:\r\n\r\n    public static &lt;T&gt; List&lt;T&gt; reverse(List&lt;T&gt; list) {\r\n        List&lt;T&gt; reverse = new ArrayList&lt;&gt;();\r\n\r\n        for (int i = list.size() - 1; i &gt;= 0; i--) {\r\n            reverse.add(list.get(i));\r\n        }\r\n\r\n        return reverse;\r\n    }","title":"Reverse a List in Java","body":"<p>I wouldn't use such an implementation as you're being destructive to the parameter.  If you're going to return a list, then create a new list.  Anyone using such a function will assume their source list will remain unaltered, but with your implementation, that isn't true.  Do something more like this:</p>\n<pre><code>public static &lt;T&gt; List&lt;T&gt; reverse(List&lt;T&gt; list) {\n    List&lt;T&gt; reverse = new ArrayList&lt;&gt;();\n\n    for (int i = list.size() - 1; i &gt;= 0; i--) {\n        reverse.add(list.get(i));\n    }\n\n    return reverse;\n}\n</code></pre>\n"}],"owner":{"account_id":23832879,"reputation":1,"user_id":18778302,"display_name":"Youssef Sultan"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":175,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1656512001,"creation_date":1656502062,"question_id":72800624,"body_markdown":"Why this code for reverse a list in java doesn&#39;t work correctly?\r\n\r\n```\r\nimport java.util.List;\r\npublic class Main{\r\npublic static List&lt;Integer&gt; reverseArray(List&lt;Integer&gt; a){\r\n        int n = a.size();\r\n        int temp = 0;\r\n        for (int i = 0; i &lt; n/2; i++){\r\n            temp = a.get(n-1);\r\n            a.set(n-1, a.get(i));\r\n            a.set(i, temp);\r\n            n--;\r\n        }\r\n        return a;\r\n    }\r\n}\r\n```","title":"Reverse a List in Java","body":"<p>Why this code for reverse a list in java doesn't work correctly?</p>\n<pre><code>import java.util.List;\npublic class Main{\npublic static List&lt;Integer&gt; reverseArray(List&lt;Integer&gt; a){\n        int n = a.size();\n        int temp = 0;\n        for (int i = 0; i &lt; n/2; i++){\n            temp = a.get(n-1);\n            a.set(n-1, a.get(i));\n            a.set(i, temp);\n            n--;\n        }\n        return a;\n    }\n}\n</code></pre>\n"},{"tags":["java","mockito"],"answers":[{"tags":[],"owner":{"account_id":14295587,"reputation":41,"user_id":13326343,"display_name":"Felipe Martins"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1656511698,"creation_date":1656499911,"answer_id":72800148,"question_id":72799088,"body_markdown":"You need to use `spy` instead of `mock`:\r\n```java\r\nChannel channel = new Channel(portNumber);\r\nChannel spyChannel = Mockito.spy(channel);\r\nwhen(spyChannel.handle()).thenReturn(&quot;Ok&quot;);    // Mock implementation\r\n//when(chan.connect()).thenCallRealMethod();  now it calls real method by default\r\nspyChannel.connect();\r\n```\r\n\r\nplease take a look at this tutorial as well, probably it will solve your issue:\r\nhttps://www.baeldung.com/mockito-spy\r\n","title":"Pass constructor argument mock","body":"<p>You need to use <code>spy</code> instead of <code>mock</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Channel channel = new Channel(portNumber);\nChannel spyChannel = Mockito.spy(channel);\nwhen(spyChannel.handle()).thenReturn(&quot;Ok&quot;);    // Mock implementation\n//when(chan.connect()).thenCallRealMethod();  now it calls real method by default\nspyChannel.connect();\n</code></pre>\n<p>please take a look at this tutorial as well, probably it will solve your issue:\n<a href=\"https://www.baeldung.com/mockito-spy\" rel=\"nofollow noreferrer\">https://www.baeldung.com/mockito-spy</a></p>\n"}],"owner":{"account_id":455809,"reputation":12993,"user_id":854207,"accept_rate":62,"display_name":"paul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":150,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656511698,"creation_date":1656495262,"question_id":72799088,"body_markdown":"I have a class `Channel` that receive in the constructor the port where need to make the call\r\n\r\nI want to mock partially the class, and for some method use the real implementation.\r\n\r\nI know I can use `thenCallRealMethod` but in order to use this `connect` method, my mock need to have the port, which as I mention I&#39;m passing in the constructor.\r\n\r\n    Channel  chan= mock(Channel.class);\r\n    when(chan.handle()).thenReturn(&quot;Ok&quot;);    // Mock implementation\r\n    when(chan.connect()).thenCallRealMethod(); \r\n\r\nAny idea how to make it?\r\n\r\n","title":"Pass constructor argument mock","body":"<p>I have a class <code>Channel</code> that receive in the constructor the port where need to make the call</p>\n<p>I want to mock partially the class, and for some method use the real implementation.</p>\n<p>I know I can use <code>thenCallRealMethod</code> but in order to use this <code>connect</code> method, my mock need to have the port, which as I mention I'm passing in the constructor.</p>\n<pre><code>Channel  chan= mock(Channel.class);\nwhen(chan.handle()).thenReturn(&quot;Ok&quot;);    // Mock implementation\nwhen(chan.connect()).thenCallRealMethod(); \n</code></pre>\n<p>Any idea how to make it?</p>\n"},{"tags":["java","spring","spring-batch","spring-transactions"],"answers":[{"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656511638,"creation_date":1656511638,"answer_id":72802791,"question_id":72797943,"body_markdown":"Two important points are worth mentioning in your case:\r\n\r\n* In the chunk-oriented processing model of Spring Batch, the design of what an &quot;item&quot; is is crucial. Items should be carefully designed as this would impact the correct choice of the item reader, processor and writer. Encapsulation is key here.\r\n* The chunk-oriented processing model is ***not*** suitable to every use case. In your requirement, I see a read operation in the write phase: ` [...] write country: foreach country { read csv list.. [...]`. This is a sign that the chunk-oriented model is probably not suitable, or the design of your algorithm is not compatible to be implemented with a chunk-oriented step.\r\n\r\nThat said, I do not see the requirement to use nested jobs with a single step each. A single job with different steps is more suitable IMO. One would design a job if there is a need for restartability, etc. But in your case, there is no such need for those nested jobs.\r\n\r\nThe way I would approach this kind of specific requirements is by first trying to come up with an algorithm independent from Spring Batch (ie ask yourself how I would do it ***without*** Spring Batch), then try to implement it with what Spring Batch provides (simple takslets, chunk-oriented tasklets, etc).","title":"How to process various levels of items in Spring Batch","body":"<p>Two important points are worth mentioning in your case:</p>\n<ul>\n<li>In the chunk-oriented processing model of Spring Batch, the design of what an &quot;item&quot; is is crucial. Items should be carefully designed as this would impact the correct choice of the item reader, processor and writer. Encapsulation is key here.</li>\n<li>The chunk-oriented processing model is <em><strong>not</strong></em> suitable to every use case. In your requirement, I see a read operation in the write phase: <code> [...] write country: foreach country { read csv list.. [...]</code>. This is a sign that the chunk-oriented model is probably not suitable, or the design of your algorithm is not compatible to be implemented with a chunk-oriented step.</li>\n</ul>\n<p>That said, I do not see the requirement to use nested jobs with a single step each. A single job with different steps is more suitable IMO. One would design a job if there is a need for restartability, etc. But in your case, there is no such need for those nested jobs.</p>\n<p>The way I would approach this kind of specific requirements is by first trying to come up with an algorithm independent from Spring Batch (ie ask yourself how I would do it <em><strong>without</strong></em> Spring Batch), then try to implement it with what Spring Batch provides (simple takslets, chunk-oriented tasklets, etc).</p>\n"}],"owner":{"account_id":25678068,"reputation":1,"user_id":19441205,"display_name":"eim equipazo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":162,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656511638,"creation_date":1656490256,"question_id":72797943,"body_markdown":"I need to process various levels of items in Spring Batch. \r\nFor each item level, I need to read new data and process it in a nested way.\r\n\r\nFor example, this 3 levels (country, csv list, csv):\r\n\r\n    read country...\r\n    process country... \r\n    write country: foreach country {\r\n       read csv list..\r\n       process csv list..\r\n       write csv list: foreach csv list {\r\n          read csv...\r\n          process csv...\r\n          write csv...\r\n       }\r\n\r\nAs first aproach I have managed to do it in a single job (with one read-write step), buy now I am trying to separate it in different jobs (because I want to re-use some methods, implement repositioning, multithread, and so on).\r\n\r\nI have seen that there is a way to launch jobs inside other job:\r\n\r\n    stepBuilderFactory.get(&quot;nestedJobStep&quot;).job(getNestedJob()).build();\r\n\r\n  \r\nBut this is valid only for sequential steps/jobs. I need a Job to be launched inside another, because it will process a single item of other job (for example, a csv from a csv list from a country).\r\n\r\nSo I think that the solution is to launch a job directly inside the write method of the step of the parent job:\r\n\r\n    @Override\r\n    public void write(List&lt;? extends OperationalCountry&gt; list) throws Exception {\r\n        for (CtbOperationalCountries item : list) {\r\n            writeItem(item);\r\n        }\r\n    }\r\n    \r\n    @Transactional(propagation = Propagation.REQUIRES_NEW)\r\n    public void writeItem(OperationalCountry item) throws Exception {\r\n        jobLauncher.run(getProcessCsvListJob(), createJobParameters(item));\r\n    }\r\n\r\nIn order to be able to launch a second job inside another I needed to do this in my JobRepositoryFactoryBean (otherwise I get a java.lang.IllegalStateException: Existing transaction detected in JobRepository):\r\n\r\n    factory.setValidateTransactionState(false);\r\n\r\nNow I can launch nested jobs, but it stucks while reading the second item (processCsvListJob) of the nested job. It seems that it is not creating new transactions...\r\n\r\nIn the AbstractJobRepositoryFactoryBean javadoc says:\r\n\r\n&gt; public void setIsolationLevelForCreate(java.lang.String isolationLevelForCreate) \r\n\r\n&gt; Flag to determine whether to check for an existing transaction when a\r\n&gt; JobExecution is created. Defaults to true because it is usually a\r\n&gt; mistake, and leads to problems with restartability and also to\r\n&gt; deadlocks in multi-threaded steps.\r\n\r\nSo maybe this is not the way of working with spring batch, or I am not configuring the transactions correctly, or I am missing something else.\r\n\r\nThanks in advance.","title":"How to process various levels of items in Spring Batch","body":"<p>I need to process various levels of items in Spring Batch.\nFor each item level, I need to read new data and process it in a nested way.</p>\n<p>For example, this 3 levels (country, csv list, csv):</p>\n<pre><code>read country...\nprocess country... \nwrite country: foreach country {\n   read csv list..\n   process csv list..\n   write csv list: foreach csv list {\n      read csv...\n      process csv...\n      write csv...\n   }\n</code></pre>\n<p>As first aproach I have managed to do it in a single job (with one read-write step), buy now I am trying to separate it in different jobs (because I want to re-use some methods, implement repositioning, multithread, and so on).</p>\n<p>I have seen that there is a way to launch jobs inside other job:</p>\n<pre><code>stepBuilderFactory.get(&quot;nestedJobStep&quot;).job(getNestedJob()).build();\n</code></pre>\n<p>But this is valid only for sequential steps/jobs. I need a Job to be launched inside another, because it will process a single item of other job (for example, a csv from a csv list from a country).</p>\n<p>So I think that the solution is to launch a job directly inside the write method of the step of the parent job:</p>\n<pre><code>@Override\npublic void write(List&lt;? extends OperationalCountry&gt; list) throws Exception {\n    for (CtbOperationalCountries item : list) {\n        writeItem(item);\n    }\n}\n\n@Transactional(propagation = Propagation.REQUIRES_NEW)\npublic void writeItem(OperationalCountry item) throws Exception {\n    jobLauncher.run(getProcessCsvListJob(), createJobParameters(item));\n}\n</code></pre>\n<p>In order to be able to launch a second job inside another I needed to do this in my JobRepositoryFactoryBean (otherwise I get a java.lang.IllegalStateException: Existing transaction detected in JobRepository):</p>\n<pre><code>factory.setValidateTransactionState(false);\n</code></pre>\n<p>Now I can launch nested jobs, but it stucks while reading the second item (processCsvListJob) of the nested job. It seems that it is not creating new transactions...</p>\n<p>In the AbstractJobRepositoryFactoryBean javadoc says:</p>\n<blockquote>\n<p>public void setIsolationLevelForCreate(java.lang.String isolationLevelForCreate)</p>\n</blockquote>\n<blockquote>\n<p>Flag to determine whether to check for an existing transaction when a\nJobExecution is created. Defaults to true because it is usually a\nmistake, and leads to problems with restartability and also to\ndeadlocks in multi-threaded steps.</p>\n</blockquote>\n<p>So maybe this is not the way of working with spring batch, or I am not configuring the transactions correctly, or I am missing something else.</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","prometheus","metrics","dropwizard","codahale-metrics"],"comments":[{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1656505039,"post_id":72800851,"comment_id":128588412,"body_markdown":"Your `localhost:8080/metrics` page looks like JSON. I am not aware Prometheus would digest that.  See https://prometheus.io/docs/instrumenting/exposition_formats/","body":"Your <code>localhost:8080&#47;metrics</code> page looks like JSON. I am not aware Prometheus would digest that.  See <a href=\"https://prometheus.io/docs/instrumenting/exposition_formats/\" rel=\"nofollow noreferrer\">prometheus.io/docs/instrumenting/exposition_formats</a>"},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":0,"creation_date":1656505946,"post_id":72800851,"comment_id":128588768,"body_markdown":"@Hiran Chaudhuri You are 100% correct.  Do you have an idea how to change format ? The question is actually about it.","body":"@Hiran Chaudhuri You are 100% correct.  Do you have an idea how to change format ? The question is actually about it."}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656506230,"creation_date":1656506230,"answer_id":72801557,"question_id":72800851,"body_markdown":"I have implemented different ways to export metrics to Prometheus:\r\n\r\n1.1) Custom implementation for Pushgateway\r\n\r\nI wrote code that generates output into a StringBuilder and just follows the documentation https://prometheus.io/docs/instrumenting/exposition_formats/\r\n\r\nFinally POST that string to the Pushgateway using a java HttpClient of your choice.\r\n\r\n1.2) Custom page to be scraped by Prometheus\r\n\r\nI wrote a dynamic page (servlet, jsp, ...) that generates output with plain/text content type and just follows the documentation https://prometheus.io/docs/instrumenting/exposition_formats/\r\n\r\nConfigure Prometheus to scrape that dynamic page.\r\n\r\n2) use existing library\r\n\r\nI made use of https://github.com/prometheus/client_java, which is the official client library for Java. Check the chapter about Exporting in the readme, it is quite good and covers both pushing the metrics as well as getting scraped.","title":"How to export metrics (collected by DropWizard) in Prometheus format from java application?","body":"<p>I have implemented different ways to export metrics to Prometheus:</p>\n<p>1.1) Custom implementation for Pushgateway</p>\n<p>I wrote code that generates output into a StringBuilder and just follows the documentation <a href=\"https://prometheus.io/docs/instrumenting/exposition_formats/\" rel=\"nofollow noreferrer\">https://prometheus.io/docs/instrumenting/exposition_formats/</a></p>\n<p>Finally POST that string to the Pushgateway using a java HttpClient of your choice.</p>\n<p>1.2) Custom page to be scraped by Prometheus</p>\n<p>I wrote a dynamic page (servlet, jsp, ...) that generates output with plain/text content type and just follows the documentation <a href=\"https://prometheus.io/docs/instrumenting/exposition_formats/\" rel=\"nofollow noreferrer\">https://prometheus.io/docs/instrumenting/exposition_formats/</a></p>\n<p>Configure Prometheus to scrape that dynamic page.</p>\n<ol start=\"2\">\n<li>use existing library</li>\n</ol>\n<p>I made use of <a href=\"https://github.com/prometheus/client_java\" rel=\"nofollow noreferrer\">https://github.com/prometheus/client_java</a>, which is the official client library for Java. Check the chapter about Exporting in the readme, it is quite good and covers both pushing the metrics as well as getting scraped.</p>\n"},{"tags":[],"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1656510598,"creation_date":1656508582,"answer_id":72802084,"question_id":72800851,"body_markdown":"I don&#39;t see significant difference but it is working example:\r\n\r\n    public class JavaDropwizard {\r\n      // Create registry for Dropwizard metrics.\r\n      static final MetricRegistry metrics = new MetricRegistry();\r\n      // Create a Dropwizard counter.\r\n      static final Counter counter = metrics.counter(&quot;my.example.counter.total&quot;);\r\n    \r\n      public static void main( String[] args ) throws Exception {\r\n          // Increment the counter.\r\n          counter.inc();\r\n    \r\n          // Hook the Dropwizard registry into the Prometheus registry\r\n          // via the DropwizardExports collector.\r\n          CollectorRegistry.defaultRegistry.register(new DropwizardExports(metrics));\r\n    \r\n    \r\n          // Expose Prometheus metrics.\r\n          Server server = new Server(1234);\r\n          ServletContextHandler context = new ServletContextHandler();\r\n          context.setContextPath(&quot;/&quot;);\r\n          server.setHandler(context);\r\n          context.addServlet(new ServletHolder(new MetricsServlet()), &quot;/metrics&quot;);\r\n          // Add metrics about CPU, JVM memory etc.\r\n          DefaultExports.initialize();\r\n          // Start the webserver.\r\n          server.start();\r\n          server.join();\r\n      }\r\n    }\r\n\r\n\r\n**pom.xml**\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n      xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n      &lt;groupId&gt;io.robustperception.java_examples&lt;/groupId&gt;\r\n      &lt;artifactId&gt;java_dropwizard&lt;/artifactId&gt;\r\n      &lt;packaging&gt;jar&lt;/packaging&gt;\r\n      &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n      &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n      &lt;/properties&gt;\r\n      &lt;name&gt;java_dropwizard&lt;/name&gt;\r\n      &lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n      &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;io.prometheus&lt;/groupId&gt;\r\n          &lt;artifactId&gt;simpleclient&lt;/artifactId&gt;\r\n          &lt;version&gt;0.15.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;io.prometheus&lt;/groupId&gt;\r\n          &lt;artifactId&gt;simpleclient_hotspot&lt;/artifactId&gt;\r\n          &lt;version&gt;0.15.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;io.prometheus&lt;/groupId&gt;\r\n          &lt;artifactId&gt;simpleclient_servlet&lt;/artifactId&gt;\r\n          &lt;version&gt;0.15.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;io.prometheus&lt;/groupId&gt;\r\n          &lt;artifactId&gt;simpleclient_dropwizard&lt;/artifactId&gt;\r\n          &lt;version&gt;0.15.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.dropwizard.metrics&lt;/groupId&gt;\r\n            &lt;artifactId&gt;metrics-core&lt;/artifactId&gt;\r\n            &lt;version&gt;4.2.9&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\r\n          &lt;artifactId&gt;jetty-servlet&lt;/artifactId&gt;\r\n          &lt;version&gt;8.1.7.v20120910&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n    \r\n      &lt;build&gt;\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1&lt;/version&gt;\r\n          &lt;/plugin&gt;\r\n          &lt;!-- Build a full jar with dependencies --&gt; \r\n          &lt;plugin&gt;\r\n            &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n            &lt;configuration&gt;\r\n              &lt;archive&gt;\r\n            &lt;manifest&gt;\r\n              &lt;mainClass&gt;io.robustperception.java_examples.JavaDropwizard&lt;/mainClass&gt;\r\n            &lt;/manifest&gt;\r\n          &lt;/archive&gt;\r\n          &lt;descriptorRefs&gt;\r\n            &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n          &lt;/descriptorRefs&gt;\r\n        &lt;/configuration&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;id&gt;make-assembly&lt;/id&gt;\r\n            &lt;phase&gt;package&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;single&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n&lt;/project&gt;\r\n","title":"How to export metrics (collected by DropWizard) in Prometheus format from java application?","body":"<p>I don't see significant difference but it is working example:</p>\n<pre><code>public class JavaDropwizard {\n  // Create registry for Dropwizard metrics.\n  static final MetricRegistry metrics = new MetricRegistry();\n  // Create a Dropwizard counter.\n  static final Counter counter = metrics.counter(&quot;my.example.counter.total&quot;);\n\n  public static void main( String[] args ) throws Exception {\n      // Increment the counter.\n      counter.inc();\n\n      // Hook the Dropwizard registry into the Prometheus registry\n      // via the DropwizardExports collector.\n      CollectorRegistry.defaultRegistry.register(new DropwizardExports(metrics));\n\n\n      // Expose Prometheus metrics.\n      Server server = new Server(1234);\n      ServletContextHandler context = new ServletContextHandler();\n      context.setContextPath(&quot;/&quot;);\n      server.setHandler(context);\n      context.addServlet(new ServletHolder(new MetricsServlet()), &quot;/metrics&quot;);\n      // Add metrics about CPU, JVM memory etc.\n      DefaultExports.initialize();\n      // Start the webserver.\n      server.start();\n      server.join();\n  }\n}\n</code></pre>\n<p><strong>pom.xml</strong></p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;io.robustperception.java_examples&lt;/groupId&gt;\n  &lt;artifactId&gt;java_dropwizard&lt;/artifactId&gt;\n  &lt;packaging&gt;jar&lt;/packaging&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n  &lt;properties&gt;\n    &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n  &lt;/properties&gt;\n  &lt;name&gt;java_dropwizard&lt;/name&gt;\n  &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.prometheus&lt;/groupId&gt;\n      &lt;artifactId&gt;simpleclient&lt;/artifactId&gt;\n      &lt;version&gt;0.15.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.prometheus&lt;/groupId&gt;\n      &lt;artifactId&gt;simpleclient_hotspot&lt;/artifactId&gt;\n      &lt;version&gt;0.15.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.prometheus&lt;/groupId&gt;\n      &lt;artifactId&gt;simpleclient_servlet&lt;/artifactId&gt;\n      &lt;version&gt;0.15.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.prometheus&lt;/groupId&gt;\n      &lt;artifactId&gt;simpleclient_dropwizard&lt;/artifactId&gt;\n      &lt;version&gt;0.15.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.dropwizard.metrics&lt;/groupId&gt;\n        &lt;artifactId&gt;metrics-core&lt;/artifactId&gt;\n        &lt;version&gt;4.2.9&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\n      &lt;artifactId&gt;jetty-servlet&lt;/artifactId&gt;\n      &lt;version&gt;8.1.7.v20120910&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.1&lt;/version&gt;\n      &lt;/plugin&gt;\n      &lt;!-- Build a full jar with dependencies --&gt; \n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n        &lt;configuration&gt;\n          &lt;archive&gt;\n        &lt;manifest&gt;\n          &lt;mainClass&gt;io.robustperception.java_examples.JavaDropwizard&lt;/mainClass&gt;\n        &lt;/manifest&gt;\n      &lt;/archive&gt;\n      &lt;descriptorRefs&gt;\n        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n      &lt;/descriptorRefs&gt;\n    &lt;/configuration&gt;\n    &lt;executions&gt;\n      &lt;execution&gt;\n        &lt;id&gt;make-assembly&lt;/id&gt;\n        &lt;phase&gt;package&lt;/phase&gt;\n        &lt;goals&gt;\n          &lt;goal&gt;single&lt;/goal&gt;\n        &lt;/goals&gt;\n      &lt;/execution&gt;\n    &lt;/executions&gt;\n  &lt;/plugin&gt;\n&lt;/plugins&gt;\n</code></pre>\n  \n\n"},{"tags":[],"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656511579,"creation_date":1656511579,"answer_id":72802776,"question_id":72800851,"body_markdown":"Finally I&#39;ve found a root cause:\r\n\r\n    com.codahale.metrics.servlets.MetricsServlet\r\n\r\nshould be replaced with\r\n \r\n\r\n    io.prometheus.client.exporter.MetricsServlet\r\n\r\n","title":"How to export metrics (collected by DropWizard) in Prometheus format from java application?","body":"<p>Finally I've found a root cause:</p>\n<pre><code>com.codahale.metrics.servlets.MetricsServlet\n</code></pre>\n<p>should be replaced with</p>\n<pre><code>io.prometheus.client.exporter.MetricsServlet\n</code></pre>\n"}],"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2419,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72802084,"answer_count":3,"score":2,"last_activity_date":1656511579,"creation_date":1656503012,"question_id":72800851,"body_markdown":"**My aim** - create spring boot application, collect metrics using DropWizard and expose endpoint for Prometheus to consume application metrics:\r\n\r\nMy code:\r\n\r\n    @SpringBootApplication\r\n    @EnableMetrics(proxyTargetClass = true)\r\n    public class DemoApplication {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            SpringApplication.run(DemoApplication.class, args);\r\n        }\r\n    \r\n    }\r\n\r\n---------------------------------------------------\r\n\r\n    package com.example.demo;\r\n    \r\n    import com.codahale.metrics.Counter;\r\n    import com.codahale.metrics.MetricRegistry;\r\n    import com.codahale.metrics.annotation.Timed;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    import javax.annotation.PostConstruct;\r\n    import java.util.concurrent.atomic.AtomicLong;\r\n    \r\n    @RestController\r\n    public class HelloController {\r\n        private AtomicLong atomicLong = new AtomicLong();\r\n        private Counter counter;\r\n    \r\n        @Autowired\r\n        private MetricRegistry metricRegistry;\r\n    \r\n        @PostConstruct\r\n        public void init() {\r\n            counter = metricRegistry.counter(&quot;counter&quot;);\r\n        }\r\n    \r\n        @GetMapping(&quot;/hello&quot;)\r\n        @Timed(name = &quot;my-index&quot;)\r\n        public String index() {\r\n            counter.inc();\r\n    \r\n            return &quot;Greetings from Spring Boot!. count=&quot; + atomicLong.incrementAndGet();\r\n        }\r\n    \r\n    }\r\n    \r\n    \r\n----------------------------------------------------  \r\n    \r\n    package com.example.demo;\r\n    \r\n    import com.codahale.metrics.ConsoleReporter;\r\n    import com.codahale.metrics.MetricRegistry;\r\n    import com.codahale.metrics.jvm.FileDescriptorRatioGauge;\r\n    import com.codahale.metrics.jvm.GarbageCollectorMetricSet;\r\n    import com.codahale.metrics.jvm.MemoryUsageGaugeSet;\r\n    import com.codahale.metrics.jvm.ThreadStatesGaugeSet;\r\n    import com.codahale.metrics.servlets.AdminServlet;\r\n    import com.codahale.metrics.servlets.CpuProfileServlet;\r\n    import com.codahale.metrics.servlets.MetricsServlet;\r\n    import com.ryantenney.metrics.spring.config.annotation.EnableMetrics;\r\n    import com.ryantenney.metrics.spring.config.annotation.MetricsConfigurerAdapter;\r\n    import io.prometheus.client.dropwizard.DropwizardExports;\r\n    import org.springframework.boot.web.servlet.ServletRegistrationBean;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    \r\n    import java.util.concurrent.TimeUnit;\r\n    \r\n    @Configuration\r\n    public class Config /*extends MetricsConfigurerAdapter*/ {\r\n        //@Override\r\n                //public void configureReporters(MetricRegistry metricRegistry) {\r\n            //    // registerReporter allows the MetricsConfigurerAdapter to\r\n            //    // shut down the reporter when the Spring context is closed\r\n            //   // registerReporter(ConsoleReporter\r\n            //   //         .forRegistry(metricRegistry)\r\n            //   //         .build())\r\n            //   //         .start(1, TimeUnit.MINUTES);\r\n    \r\n    \r\n            //    new DropwizardExports(metricRegistry).register();\r\n            //}\r\n    \r\n       @Bean\r\n       public DropwizardExports dropwizardExports(MetricRegistry metricRegistry){\r\n           DropwizardExports dropwizardExports = new DropwizardExports(metricRegistry);\r\n           dropwizardExports.register();\r\n           return dropwizardExports;\r\n       }\r\n    \r\n        @Bean\r\n        public MetricRegistry metricRegistry() {\r\n            MetricRegistry metricRegistry = new MetricRegistry();\r\n            metricRegistry.registerAll(new GarbageCollectorMetricSet());\r\n            metricRegistry.registerAll(new MemoryUsageGaugeSet());\r\n            metricRegistry.registerAll(new ThreadStatesGaugeSet());\r\n            return metricRegistry;\r\n        }\r\n    \r\n        @Bean\r\n        public ConsoleReporter consoleReporter(MetricRegistry metricRegistry) {\r\n            ConsoleReporter reporter = ConsoleReporter.forRegistry(metricRegistry).build();\r\n            reporter.start(5, TimeUnit.SECONDS);\r\n            reporter.report();\r\n            return reporter;\r\n        }\r\n    \r\n        @Bean\r\n        public ServletRegistrationBean&lt;MetricsServlet&gt; registerMetricsServlet(MetricRegistry metricRegistry) {\r\n            return new ServletRegistrationBean&lt;&gt;(new MetricsServlet(metricRegistry), &quot;/metrics/*&quot;);\r\n        }\r\n    \r\n        @Bean\r\n        public ServletRegistrationBean&lt;CpuProfileServlet&gt; registerCpuServlet() {\r\n            return new ServletRegistrationBean&lt;&gt;(new CpuProfileServlet(), &quot;/cpu/*&quot;);\r\n        }\r\n    }\r\n\r\n\r\n**build.gradle:**\r\n\r\n    plugins {\r\n    \tid &#39;org.springframework.boot&#39; version &#39;2.7.1&#39;\r\n    \tid &#39;io.spring.dependency-management&#39; version &#39;1.0.11.RELEASE&#39;\r\n    \tid &#39;java&#39;\r\n    }\r\n    \r\n    group = &#39;com.example&#39;\r\n    version = &#39;0.0.1-SNAPSHOT&#39;\r\n    sourceCompatibility = &#39;17&#39;\r\n    \r\n    repositories {\r\n    \tmavenCentral()\r\n    }\r\n    \r\n    dependencies {\r\n    \timplementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n    \timplementation &quot;org.springframework.boot:spring-boot-starter-actuator&quot;\r\n    \t// Minimum required for metrics.\r\n    \timplementation (&#39;com.ryantenney.metrics:metrics-spring:3.1.3&#39;) {\r\n    \t\texclude group: &#39;com.codahale.metrics&#39;\r\n    \t\texclude group: &#39;org.springframework&#39;\r\n    \t}\r\n    \timplementation &#39;io.dropwizard.metrics:metrics-core:4.2.9&#39;\r\n    \timplementation &#39;io.dropwizard.metrics:metrics-annotation:4.2.9&#39;\r\n    \timplementation &#39;io.dropwizard.metrics:metrics-servlets:4.2.9&#39;\r\n    \r\n    \timplementation &#39;io.prometheus:simpleclient_dropwizard:0.15.0&#39;\r\n    \timplementation &#39;io.prometheus:simpleclient_servlet:0.15.0&#39;\r\n    \timplementation &#39;io.dropwizard:dropwizard-core:2.1.0&#39;\r\n    \r\n    \timplementation &#39;com.ryantenney.metrics:metrics-spring:3.1.3&#39;\r\n    \timplementation &#39;io.prometheus:simpleclient_common:0.16.0&#39;\r\n    \r\n    \ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n    }\r\n    \r\n    tasks.named(&#39;test&#39;) {\r\n    \tuseJUnitPlatform()\r\n    }\r\n\r\nI access `localhost:8080/metrics` and receive following response:\r\n\r\n    {\r\n      &quot;version&quot;: &quot;4.0.0&quot;,\r\n      &quot;gauges&quot;: {\r\n        &quot;G1-Old-Generation.count&quot;: {\r\n          &quot;value&quot;: 0\r\n        },\r\n        &quot;G1-Old-Generation.time&quot;: {\r\n          &quot;value&quot;: 0\r\n        },\r\n        &quot;G1-Young-Generation.count&quot;: {\r\n          &quot;value&quot;: 7\r\n        },\r\n        &quot;G1-Young-Generation.time&quot;: {\r\n          &quot;value&quot;: 31\r\n        },\r\n        &quot;blocked.count&quot;: {\r\n          &quot;value&quot;: 0\r\n        },\r\n        &quot;count&quot;: {\r\n          &quot;value&quot;: 26\r\n        },\r\n        &quot;daemon.count&quot;: {\r\n          &quot;value&quot;: 22\r\n        },\r\n        &quot;deadlock.count&quot;: {\r\n          &quot;value&quot;: 0\r\n        },\r\n        &quot;deadlocks&quot;: {\r\n          &quot;value&quot;: []\r\n        },\r\n        &quot;heap.committed&quot;: {\r\n          &quot;value&quot;: 301989888\r\n        },\r\n        &quot;heap.init&quot;: {\r\n          &quot;value&quot;: 532676608\r\n        },\r\n        &quot;heap.max&quot;: {\r\n          &quot;value&quot;: 8518631424\r\n        },\r\n        &quot;heap.usage&quot;: {\r\n          &quot;value&quot;: 0.008041180864688155\r\n        },\r\n        &quot;heap.used&quot;: {\r\n          &quot;value&quot;: 68499856\r\n        },\r\n        &quot;new.count&quot;: {\r\n          &quot;value&quot;: 0\r\n        },\r\n        &quot;non-heap.committed&quot;: {\r\n          &quot;value&quot;: 51707904\r\n        },\r\n        &quot;non-heap.init&quot;: {\r\n          &quot;value&quot;: 2555904\r\n        },\r\n        &quot;non-heap.max&quot;: {\r\n          &quot;value&quot;: -1\r\n        },\r\n        &quot;non-heap.usage&quot;: {\r\n          &quot;value&quot;: -5.0738536E7\r\n        },\r\n        &quot;non-heap.used&quot;: {\r\n          &quot;value&quot;: 50738536\r\n        },\r\n        &quot;peak.count&quot;: {\r\n          &quot;value&quot;: 32\r\n        },\r\n        &quot;pools.CodeCache.committed&quot;: {\r\n          &quot;value&quot;: 10551296\r\n        },\r\n        &quot;pools.CodeCache.init&quot;: {\r\n          &quot;value&quot;: 2555904\r\n        },\r\n        &quot;pools.CodeCache.max&quot;: {\r\n          &quot;value&quot;: 50331648\r\n        },\r\n        &quot;pools.CodeCache.usage&quot;: {\r\n          &quot;value&quot;: 0.2039642333984375\r\n        },\r\n        &quot;pools.CodeCache.used&quot;: {\r\n          &quot;value&quot;: 10265856\r\n        },\r\n        &quot;pools.Compressed-Class-Space.committed&quot;: {\r\n          &quot;value&quot;: 5177344\r\n        },\r\n        &quot;pools.Compressed-Class-Space.init&quot;: {\r\n          &quot;value&quot;: 0\r\n        },\r\n        &quot;pools.Compressed-Class-Space.max&quot;: {\r\n          &quot;value&quot;: 1073741824\r\n        },\r\n        &quot;pools.Compressed-Class-Space.usage&quot;: {\r\n          &quot;value&quot;: 0.004625104367733002\r\n        },\r\n        &quot;pools.Compressed-Class-Space.used&quot;: {\r\n          &quot;value&quot;: 4966168\r\n        },\r\n        &quot;pools.G1-Eden-Space.committed&quot;: {\r\n          &quot;value&quot;: 188743680\r\n        },\r\n        &quot;pools.G1-Eden-Space.init&quot;: {\r\n          &quot;value&quot;: 29360128\r\n        },\r\n        &quot;pools.G1-Eden-Space.max&quot;: {\r\n          &quot;value&quot;: -1\r\n        },\r\n        &quot;pools.G1-Eden-Space.usage&quot;: {\r\n          &quot;value&quot;: 0.26666666666666666\r\n        },\r\n        &quot;pools.G1-Eden-Space.used&quot;: {\r\n          &quot;value&quot;: 50331648\r\n        },\r\n        &quot;pools.G1-Eden-Space.used-after-gc&quot;: {\r\n          &quot;value&quot;: 0\r\n        },\r\n        &quot;pools.G1-Old-Gen.committed&quot;: {\r\n          &quot;value&quot;: 109051904\r\n        },\r\n        &quot;pools.G1-Old-Gen.init&quot;: {\r\n          &quot;value&quot;: 503316480\r\n        },\r\n        &quot;pools.G1-Old-Gen.max&quot;: {\r\n          &quot;value&quot;: 8518631424\r\n        },\r\n        &quot;pools.G1-Old-Gen.usage&quot;: {\r\n          &quot;value&quot;: 0.0017806278080379123\r\n        },\r\n        &quot;pools.G1-Old-Gen.used&quot;: {\r\n          &quot;value&quot;: 15168512\r\n        },\r\n        &quot;pools.G1-Old-Gen.used-after-gc&quot;: {\r\n          &quot;value&quot;: 15168512\r\n        },\r\n        &quot;pools.G1-Survivor-Space.committed&quot;: {\r\n          &quot;value&quot;: 4194304\r\n        },\r\n        &quot;pools.G1-Survivor-Space.init&quot;: {\r\n          &quot;value&quot;: 0\r\n        },\r\n        &quot;pools.G1-Survivor-Space.max&quot;: {\r\n          &quot;value&quot;: -1\r\n        },\r\n        &quot;pools.G1-Survivor-Space.usage&quot;: {\r\n          &quot;value&quot;: 0.7151832580566406\r\n        },\r\n        &quot;pools.G1-Survivor-Space.used&quot;: {\r\n          &quot;value&quot;: 2999696\r\n        },\r\n        &quot;pools.G1-Survivor-Space.used-after-gc&quot;: {\r\n          &quot;value&quot;: 2999696\r\n        },\r\n        &quot;pools.Metaspace.committed&quot;: {\r\n          &quot;value&quot;: 35979264\r\n        },\r\n        &quot;pools.Metaspace.init&quot;: {\r\n          &quot;value&quot;: 0\r\n        },\r\n        &quot;pools.Metaspace.max&quot;: {\r\n          &quot;value&quot;: -1\r\n        },\r\n        &quot;pools.Metaspace.usage&quot;: {\r\n          &quot;value&quot;: 0.9868604316086066\r\n        },\r\n        &quot;pools.Metaspace.used&quot;: {\r\n          &quot;value&quot;: 35506512\r\n        },\r\n        &quot;runnable.count&quot;: {\r\n          &quot;value&quot;: 10\r\n        },\r\n        &quot;terminated.count&quot;: {\r\n          &quot;value&quot;: 0\r\n        },\r\n        &quot;timed_waiting.count&quot;: {\r\n          &quot;value&quot;: 5\r\n        },\r\n        &quot;total.committed&quot;: {\r\n          &quot;value&quot;: 353697792\r\n        },\r\n        &quot;total.init&quot;: {\r\n          &quot;value&quot;: 535232512\r\n        },\r\n        &quot;total.max&quot;: {\r\n          &quot;value&quot;: 8518631423\r\n        },\r\n        &quot;total.used&quot;: {\r\n          &quot;value&quot;: 119238392\r\n        },\r\n        &quot;total_started.count&quot;: {\r\n          &quot;value&quot;: 47\r\n        },\r\n        &quot;waiting.count&quot;: {\r\n          &quot;value&quot;: 11\r\n        }\r\n      },\r\n      &quot;counters&quot;: {\r\n        &quot;counter&quot;: {\r\n          &quot;count&quot;: 9\r\n        }\r\n      },\r\n      &quot;histograms&quot;: {},\r\n      &quot;meters&quot;: {},\r\n      &quot;timers&quot;: {}\r\n    }\r\n\r\n\r\nObviously this output is not applicable for Prometheus (all dots should be replaced with &quot;_&quot; at least)\r\n\r\n\r\nHow can I make output in format ready for prometheus ?\r\n\r\nP.S.\r\n-\r\n\r\nBased on [documentation][1] I&#39;ve understand that class `io.prometheus.client.dropwizardDropwizardExports` is responsible for generating metric in format ready for Prometheus but I can&#39;t understand how. \r\n\r\n\r\n  [1]: https://github.com/prometheus/client_java","title":"How to export metrics (collected by DropWizard) in Prometheus format from java application?","body":"<p><strong>My aim</strong> - create spring boot application, collect metrics using DropWizard and expose endpoint for Prometheus to consume application metrics:</p>\n<p>My code:</p>\n<pre><code>@SpringBootApplication\n@EnableMetrics(proxyTargetClass = true)\npublic class DemoApplication {\n\n    public static void main(String[] args) {\n\n        SpringApplication.run(DemoApplication.class, args);\n    }\n\n}\n</code></pre>\n<hr />\n<pre><code>package com.example.demo;\n\nimport com.codahale.metrics.Counter;\nimport com.codahale.metrics.MetricRegistry;\nimport com.codahale.metrics.annotation.Timed;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport javax.annotation.PostConstruct;\nimport java.util.concurrent.atomic.AtomicLong;\n\n@RestController\npublic class HelloController {\n    private AtomicLong atomicLong = new AtomicLong();\n    private Counter counter;\n\n    @Autowired\n    private MetricRegistry metricRegistry;\n\n    @PostConstruct\n    public void init() {\n        counter = metricRegistry.counter(&quot;counter&quot;);\n    }\n\n    @GetMapping(&quot;/hello&quot;)\n    @Timed(name = &quot;my-index&quot;)\n    public String index() {\n        counter.inc();\n\n        return &quot;Greetings from Spring Boot!. count=&quot; + atomicLong.incrementAndGet();\n    }\n\n}\n</code></pre>\n<hr />\n<pre><code>package com.example.demo;\n\nimport com.codahale.metrics.ConsoleReporter;\nimport com.codahale.metrics.MetricRegistry;\nimport com.codahale.metrics.jvm.FileDescriptorRatioGauge;\nimport com.codahale.metrics.jvm.GarbageCollectorMetricSet;\nimport com.codahale.metrics.jvm.MemoryUsageGaugeSet;\nimport com.codahale.metrics.jvm.ThreadStatesGaugeSet;\nimport com.codahale.metrics.servlets.AdminServlet;\nimport com.codahale.metrics.servlets.CpuProfileServlet;\nimport com.codahale.metrics.servlets.MetricsServlet;\nimport com.ryantenney.metrics.spring.config.annotation.EnableMetrics;\nimport com.ryantenney.metrics.spring.config.annotation.MetricsConfigurerAdapter;\nimport io.prometheus.client.dropwizard.DropwizardExports;\nimport org.springframework.boot.web.servlet.ServletRegistrationBean;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\nimport java.util.concurrent.TimeUnit;\n\n@Configuration\npublic class Config /*extends MetricsConfigurerAdapter*/ {\n    //@Override\n            //public void configureReporters(MetricRegistry metricRegistry) {\n        //    // registerReporter allows the MetricsConfigurerAdapter to\n        //    // shut down the reporter when the Spring context is closed\n        //   // registerReporter(ConsoleReporter\n        //   //         .forRegistry(metricRegistry)\n        //   //         .build())\n        //   //         .start(1, TimeUnit.MINUTES);\n\n\n        //    new DropwizardExports(metricRegistry).register();\n        //}\n\n   @Bean\n   public DropwizardExports dropwizardExports(MetricRegistry metricRegistry){\n       DropwizardExports dropwizardExports = new DropwizardExports(metricRegistry);\n       dropwizardExports.register();\n       return dropwizardExports;\n   }\n\n    @Bean\n    public MetricRegistry metricRegistry() {\n        MetricRegistry metricRegistry = new MetricRegistry();\n        metricRegistry.registerAll(new GarbageCollectorMetricSet());\n        metricRegistry.registerAll(new MemoryUsageGaugeSet());\n        metricRegistry.registerAll(new ThreadStatesGaugeSet());\n        return metricRegistry;\n    }\n\n    @Bean\n    public ConsoleReporter consoleReporter(MetricRegistry metricRegistry) {\n        ConsoleReporter reporter = ConsoleReporter.forRegistry(metricRegistry).build();\n        reporter.start(5, TimeUnit.SECONDS);\n        reporter.report();\n        return reporter;\n    }\n\n    @Bean\n    public ServletRegistrationBean&lt;MetricsServlet&gt; registerMetricsServlet(MetricRegistry metricRegistry) {\n        return new ServletRegistrationBean&lt;&gt;(new MetricsServlet(metricRegistry), &quot;/metrics/*&quot;);\n    }\n\n    @Bean\n    public ServletRegistrationBean&lt;CpuProfileServlet&gt; registerCpuServlet() {\n        return new ServletRegistrationBean&lt;&gt;(new CpuProfileServlet(), &quot;/cpu/*&quot;);\n    }\n}\n</code></pre>\n<p><strong>build.gradle:</strong></p>\n<pre><code>plugins {\n    id 'org.springframework.boot' version '2.7.1'\n    id 'io.spring.dependency-management' version '1.0.11.RELEASE'\n    id 'java'\n}\n\ngroup = 'com.example'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '17'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation &quot;org.springframework.boot:spring-boot-starter-actuator&quot;\n    // Minimum required for metrics.\n    implementation ('com.ryantenney.metrics:metrics-spring:3.1.3') {\n        exclude group: 'com.codahale.metrics'\n        exclude group: 'org.springframework'\n    }\n    implementation 'io.dropwizard.metrics:metrics-core:4.2.9'\n    implementation 'io.dropwizard.metrics:metrics-annotation:4.2.9'\n    implementation 'io.dropwizard.metrics:metrics-servlets:4.2.9'\n\n    implementation 'io.prometheus:simpleclient_dropwizard:0.15.0'\n    implementation 'io.prometheus:simpleclient_servlet:0.15.0'\n    implementation 'io.dropwizard:dropwizard-core:2.1.0'\n\n    implementation 'com.ryantenney.metrics:metrics-spring:3.1.3'\n    implementation 'io.prometheus:simpleclient_common:0.16.0'\n\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n}\n\ntasks.named('test') {\n    useJUnitPlatform()\n}\n</code></pre>\n<p>I access <code>localhost:8080/metrics</code> and receive following response:</p>\n<pre><code>{\n  &quot;version&quot;: &quot;4.0.0&quot;,\n  &quot;gauges&quot;: {\n    &quot;G1-Old-Generation.count&quot;: {\n      &quot;value&quot;: 0\n    },\n    &quot;G1-Old-Generation.time&quot;: {\n      &quot;value&quot;: 0\n    },\n    &quot;G1-Young-Generation.count&quot;: {\n      &quot;value&quot;: 7\n    },\n    &quot;G1-Young-Generation.time&quot;: {\n      &quot;value&quot;: 31\n    },\n    &quot;blocked.count&quot;: {\n      &quot;value&quot;: 0\n    },\n    &quot;count&quot;: {\n      &quot;value&quot;: 26\n    },\n    &quot;daemon.count&quot;: {\n      &quot;value&quot;: 22\n    },\n    &quot;deadlock.count&quot;: {\n      &quot;value&quot;: 0\n    },\n    &quot;deadlocks&quot;: {\n      &quot;value&quot;: []\n    },\n    &quot;heap.committed&quot;: {\n      &quot;value&quot;: 301989888\n    },\n    &quot;heap.init&quot;: {\n      &quot;value&quot;: 532676608\n    },\n    &quot;heap.max&quot;: {\n      &quot;value&quot;: 8518631424\n    },\n    &quot;heap.usage&quot;: {\n      &quot;value&quot;: 0.008041180864688155\n    },\n    &quot;heap.used&quot;: {\n      &quot;value&quot;: 68499856\n    },\n    &quot;new.count&quot;: {\n      &quot;value&quot;: 0\n    },\n    &quot;non-heap.committed&quot;: {\n      &quot;value&quot;: 51707904\n    },\n    &quot;non-heap.init&quot;: {\n      &quot;value&quot;: 2555904\n    },\n    &quot;non-heap.max&quot;: {\n      &quot;value&quot;: -1\n    },\n    &quot;non-heap.usage&quot;: {\n      &quot;value&quot;: -5.0738536E7\n    },\n    &quot;non-heap.used&quot;: {\n      &quot;value&quot;: 50738536\n    },\n    &quot;peak.count&quot;: {\n      &quot;value&quot;: 32\n    },\n    &quot;pools.CodeCache.committed&quot;: {\n      &quot;value&quot;: 10551296\n    },\n    &quot;pools.CodeCache.init&quot;: {\n      &quot;value&quot;: 2555904\n    },\n    &quot;pools.CodeCache.max&quot;: {\n      &quot;value&quot;: 50331648\n    },\n    &quot;pools.CodeCache.usage&quot;: {\n      &quot;value&quot;: 0.2039642333984375\n    },\n    &quot;pools.CodeCache.used&quot;: {\n      &quot;value&quot;: 10265856\n    },\n    &quot;pools.Compressed-Class-Space.committed&quot;: {\n      &quot;value&quot;: 5177344\n    },\n    &quot;pools.Compressed-Class-Space.init&quot;: {\n      &quot;value&quot;: 0\n    },\n    &quot;pools.Compressed-Class-Space.max&quot;: {\n      &quot;value&quot;: 1073741824\n    },\n    &quot;pools.Compressed-Class-Space.usage&quot;: {\n      &quot;value&quot;: 0.004625104367733002\n    },\n    &quot;pools.Compressed-Class-Space.used&quot;: {\n      &quot;value&quot;: 4966168\n    },\n    &quot;pools.G1-Eden-Space.committed&quot;: {\n      &quot;value&quot;: 188743680\n    },\n    &quot;pools.G1-Eden-Space.init&quot;: {\n      &quot;value&quot;: 29360128\n    },\n    &quot;pools.G1-Eden-Space.max&quot;: {\n      &quot;value&quot;: -1\n    },\n    &quot;pools.G1-Eden-Space.usage&quot;: {\n      &quot;value&quot;: 0.26666666666666666\n    },\n    &quot;pools.G1-Eden-Space.used&quot;: {\n      &quot;value&quot;: 50331648\n    },\n    &quot;pools.G1-Eden-Space.used-after-gc&quot;: {\n      &quot;value&quot;: 0\n    },\n    &quot;pools.G1-Old-Gen.committed&quot;: {\n      &quot;value&quot;: 109051904\n    },\n    &quot;pools.G1-Old-Gen.init&quot;: {\n      &quot;value&quot;: 503316480\n    },\n    &quot;pools.G1-Old-Gen.max&quot;: {\n      &quot;value&quot;: 8518631424\n    },\n    &quot;pools.G1-Old-Gen.usage&quot;: {\n      &quot;value&quot;: 0.0017806278080379123\n    },\n    &quot;pools.G1-Old-Gen.used&quot;: {\n      &quot;value&quot;: 15168512\n    },\n    &quot;pools.G1-Old-Gen.used-after-gc&quot;: {\n      &quot;value&quot;: 15168512\n    },\n    &quot;pools.G1-Survivor-Space.committed&quot;: {\n      &quot;value&quot;: 4194304\n    },\n    &quot;pools.G1-Survivor-Space.init&quot;: {\n      &quot;value&quot;: 0\n    },\n    &quot;pools.G1-Survivor-Space.max&quot;: {\n      &quot;value&quot;: -1\n    },\n    &quot;pools.G1-Survivor-Space.usage&quot;: {\n      &quot;value&quot;: 0.7151832580566406\n    },\n    &quot;pools.G1-Survivor-Space.used&quot;: {\n      &quot;value&quot;: 2999696\n    },\n    &quot;pools.G1-Survivor-Space.used-after-gc&quot;: {\n      &quot;value&quot;: 2999696\n    },\n    &quot;pools.Metaspace.committed&quot;: {\n      &quot;value&quot;: 35979264\n    },\n    &quot;pools.Metaspace.init&quot;: {\n      &quot;value&quot;: 0\n    },\n    &quot;pools.Metaspace.max&quot;: {\n      &quot;value&quot;: -1\n    },\n    &quot;pools.Metaspace.usage&quot;: {\n      &quot;value&quot;: 0.9868604316086066\n    },\n    &quot;pools.Metaspace.used&quot;: {\n      &quot;value&quot;: 35506512\n    },\n    &quot;runnable.count&quot;: {\n      &quot;value&quot;: 10\n    },\n    &quot;terminated.count&quot;: {\n      &quot;value&quot;: 0\n    },\n    &quot;timed_waiting.count&quot;: {\n      &quot;value&quot;: 5\n    },\n    &quot;total.committed&quot;: {\n      &quot;value&quot;: 353697792\n    },\n    &quot;total.init&quot;: {\n      &quot;value&quot;: 535232512\n    },\n    &quot;total.max&quot;: {\n      &quot;value&quot;: 8518631423\n    },\n    &quot;total.used&quot;: {\n      &quot;value&quot;: 119238392\n    },\n    &quot;total_started.count&quot;: {\n      &quot;value&quot;: 47\n    },\n    &quot;waiting.count&quot;: {\n      &quot;value&quot;: 11\n    }\n  },\n  &quot;counters&quot;: {\n    &quot;counter&quot;: {\n      &quot;count&quot;: 9\n    }\n  },\n  &quot;histograms&quot;: {},\n  &quot;meters&quot;: {},\n  &quot;timers&quot;: {}\n}\n</code></pre>\n<p>Obviously this output is not applicable for Prometheus (all dots should be replaced with &quot;_&quot; at least)</p>\n<p>How can I make output in format ready for prometheus ?</p>\n<h2>P.S.</h2>\n<p>Based on <a href=\"https://github.com/prometheus/client_java\" rel=\"nofollow noreferrer\">documentation</a> I've understand that class <code>io.prometheus.client.dropwizardDropwizardExports</code> is responsible for generating metric in format ready for Prometheus but I can't understand how.</p>\n"},{"tags":["java","spring","spring-boot","spring-security","spring-oauth2"],"answers":[{"tags":[],"owner":{"account_id":7134819,"reputation":5058,"user_id":5454842,"display_name":"Marcus Hert da Coregio"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1656511488,"creation_date":1656511488,"answer_id":72802761,"question_id":72786829,"body_markdown":"The `ResourceServerSecurityConfigurer` is from the [EOL&#39;d `spring-security-oauth` project][1], therefore there is no support for new features/deprecations. I recommend you to use [Spring Security&#39;s support for OAuth 2.0][2].\r\n\r\n\r\n  [1]: https://github.com/spring-attic/spring-security-oauth#spring-security-oauth-is-no-longer-actively-maintained-by-vmware-inc\r\n  [2]: https://docs.spring.io/spring-security/reference/servlet/oauth2/resource-server/index.html","title":"Replace WebSecurityConfigurerAdapter in Spring boot for ResourceServerConfigurerAdapter","body":"<p>The <code>ResourceServerSecurityConfigurer</code> is from the <a href=\"https://github.com/spring-attic/spring-security-oauth#spring-security-oauth-is-no-longer-actively-maintained-by-vmware-inc\" rel=\"nofollow noreferrer\">EOL'd <code>spring-security-oauth</code> project</a>, therefore there is no support for new features/deprecations. I recommend you to use <a href=\"https://docs.spring.io/spring-security/reference/servlet/oauth2/resource-server/index.html\" rel=\"nofollow noreferrer\">Spring Security's support for OAuth 2.0</a>.</p>\n"}],"owner":{"account_id":2676787,"reputation":1076,"user_id":2352196,"accept_rate":67,"display_name":"Bojan Trajkovski"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2914,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":72802761,"answer_count":1,"score":3,"last_activity_date":1656511488,"creation_date":1656420912,"question_id":72786829,"body_markdown":"Since Spring Boot 2.7.x version `WebSecurityConfigurerAdapter` class is deprecated and there is a [guide][1] from spring.io on how to replace those classes and use component-based security configuration.\r\n\r\nMy question is how to handle the following use-case:\r\n\r\n```java\r\n@Configuration\r\n@EnableResourceServer\r\npublic class BearerAuthWebSecurityConfiguration extends ResourceServerConfigurerAdapter {\r\n\r\n    @Override\r\n    public void configure(HttpSecurity http) throws Exception {\r\n        http\r\n                .antMatcher(&quot;/api/**&quot;)\r\n                .sessionManagement()\r\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                .and()\r\n                .authorizeRequests()\r\n                .anyRequest()\r\n                .authenticated();\r\n    }\r\n\r\n    @Override\r\n    public void configure(ResourceServerSecurityConfigurer resources) {\r\n        resources.resourceId(null);\r\n        resources.authenticationManager(new OAuth2AuthenticationManager());\r\n    }\r\n    \r\n}\r\n```\r\n\r\nI did not find any guide on how to handle `@EnableResourceServer` and `ResourceServerConfigurerAdapter` using the new component-based security configuration. And under the hood these classes also use `WebSecurityConfigurerAdapter` and should be moved to the component-based security configuration. \r\n\r\n  [1]: https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter","title":"Replace WebSecurityConfigurerAdapter in Spring boot for ResourceServerConfigurerAdapter","body":"<p>Since Spring Boot 2.7.x version <code>WebSecurityConfigurerAdapter</code> class is deprecated and there is a <a href=\"https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter\" rel=\"nofollow noreferrer\">guide</a> from spring.io on how to replace those classes and use component-based security configuration.</p>\n<p>My question is how to handle the following use-case:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableResourceServer\npublic class BearerAuthWebSecurityConfiguration extends ResourceServerConfigurerAdapter {\n\n    @Override\n    public void configure(HttpSecurity http) throws Exception {\n        http\n                .antMatcher(&quot;/api/**&quot;)\n                .sessionManagement()\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n                .and()\n                .authorizeRequests()\n                .anyRequest()\n                .authenticated();\n    }\n\n    @Override\n    public void configure(ResourceServerSecurityConfigurer resources) {\n        resources.resourceId(null);\n        resources.authenticationManager(new OAuth2AuthenticationManager());\n    }\n    \n}\n</code></pre>\n<p>I did not find any guide on how to handle <code>@EnableResourceServer</code> and <code>ResourceServerConfigurerAdapter</code> using the new component-based security configuration. And under the hood these classes also use <code>WebSecurityConfigurerAdapter</code> and should be moved to the component-based security configuration.</p>\n"},{"tags":["java","selenium","selenium-chromedriver","nosuchelementexception","findelement"],"comments":[{"owner":{"account_id":18966922,"reputation":3563,"user_id":13841248,"display_name":"RichEdwards"},"score":0,"creation_date":1656507558,"post_id":72801204,"comment_id":128589526,"body_markdown":"`js.executeScript(&quot;return document.readyState&quot;)` is just that page source has loaded, not that the final page content is ready and redered. Pages which load with JS take longer and need extra synchronisation.  Try and implicit wait for simplicity.  Beyond that, validate if your element is in an `iframe` or `shadowroot`. Both of these need special handling. Finally, are you sure your element is present at runtime? - Your using an absolute xpath and as such it&#39;s fragile. Even things like the window size can break xpaths like that.","body":"<code>js.executeScript(&quot;return document.readyState&quot;)</code> is just that page source has loaded, not that the final page content is ready and redered. Pages which load with JS take longer and need extra synchronisation.  Try and implicit wait for simplicity.  Beyond that, validate if your element is in an <code>iframe</code> or <code>shadowroot</code>. Both of these need special handling. Finally, are you sure your element is present at runtime? - Your using an absolute xpath and as such it&#39;s fragile. Even things like the window size can break xpaths like that."},{"owner":{"account_id":25531653,"reputation":17,"user_id":19319560,"display_name":"DGStar"},"score":0,"creation_date":1656507981,"post_id":72801204,"comment_id":128589707,"body_markdown":"@RichEdwards I&#39;m still learning so I don&#39;t know how to do that, could you help me with that?","body":"@RichEdwards I&#39;m still learning so I don&#39;t know how to do that, could you help me with that?"},{"owner":{"account_id":18966922,"reputation":3563,"user_id":13841248,"display_name":"RichEdwards"},"score":0,"creation_date":1656508170,"post_id":72801204,"comment_id":128589793,"body_markdown":"Implicit wait - add this once after you create your driver: `driver.manage().timeouts().implicitlyWait(10,TimeUnit.SECONDS) ;`","body":"Implicit wait - add this once after you create your driver: <code>driver.manage().timeouts().implicitlyWait(10,TimeUnit.SECOND&zwnj;&#8203;S) ;</code>"},{"owner":{"account_id":18966922,"reputation":3563,"user_id":13841248,"display_name":"RichEdwards"},"score":0,"creation_date":1656508250,"post_id":72801204,"comment_id":128589836,"body_markdown":"for `iframe` - open devtools (`f12`), select the elements tab,  ctrl+f to find in the DOM, and search `iframe` and `frame` - then scroll up/down to see if your element is within any given frame","body":"for <code>iframe</code> - open devtools (<code>f12</code>), select the elements tab,  ctrl+f to find in the DOM, and search <code>iframe</code> and <code>frame</code> - then scroll up/down to see if your element is within any given frame"},{"owner":{"account_id":18966922,"reputation":3563,"user_id":13841248,"display_name":"RichEdwards"},"score":0,"creation_date":1656508298,"post_id":72801204,"comment_id":128589860,"body_markdown":"Your identifier i can&#39;t rewrite for you as it depends how it looks in the DOM","body":"Your identifier i can&#39;t rewrite for you as it depends how it looks in the DOM"},{"owner":{"account_id":25531653,"reputation":17,"user_id":19319560,"display_name":"DGStar"},"score":1,"creation_date":1656510769,"post_id":72801204,"comment_id":128590925,"body_markdown":"@RichEdwards it works now add it as an answer so I can accept it","body":"@RichEdwards it works now add it as an answer so I can accept it"}],"answers":[{"tags":[],"owner":{"account_id":18966922,"reputation":3563,"user_id":13841248,"display_name":"RichEdwards"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1656511250,"creation_date":1656511250,"answer_id":72802700,"question_id":72801204,"body_markdown":"The solution discussed in the comments was to add a wait.\r\n\r\nAdd this once when you create the driver object:\r\n\r\n```\r\ndriver.manage().timeouts().implicitlyWait(10,TimeUnit.SECONDS) \r\n```","title":"I&#39;m trying to Check if a certain WebElement is present through chrome drive in java after checking the page is loaded, but it&#39;s not working","body":"<p>The solution discussed in the comments was to add a wait.</p>\n<p>Add this once when you create the driver object:</p>\n<pre><code>driver.manage().timeouts().implicitlyWait(10,TimeUnit.SECONDS) \n</code></pre>\n"}],"owner":{"account_id":25531653,"reputation":17,"user_id":19319560,"display_name":"DGStar"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72802700,"answer_count":1,"score":0,"last_activity_date":1656511250,"creation_date":1656504589,"question_id":72801204,"body_markdown":"I&#39;m trying to Check if a certain WebElement is present through chrome drive in java after checking the page is loaded.\r\neven though the page is loaded and the element is present the driver can&#39;t locate it and I get a \r\nNoSuchElementException.\r\nif I&#39;ll let it run more time it would probably make it but that&#39;s not possible with logic of my code because I&#39;m checking if this element is present while the page is loaded to see if something is clickable (when I over it looks clickable but when I click it nothing happen so something like &quot;isClickable&quot; {if that&#39;s a thing} probably won&#39;t work) and gets me to the right place.\r\n \r\npart of my code: \r\n\r\n    while (true) {\r\n                        JavascriptExecutor js = (JavascriptExecutor) driver;\r\n                        if (js.executeScript(&quot;return document.readyState&quot;).toString().equals(&quot;complete&quot;)) {\r\n                            try {\r\n                                if (driver.findElement(By.xpath(&quot;/html/body/div[1]/div/div[4]/div/div/div/div/div[1]/div&quot;)).isEnabled()) {\r\n                                    inProfilePictureTab = true;\r\n                                    toBreak = true;\r\n                                    break;\r\n                                }\r\n                            } catch (NoSuchElementException exception) {\r\n                                warningLabelChanger(&quot;Profile picture isn&#39;t clickable, try something else&quot;);\r\n                                toBreak = true;\r\n                                break;\r\n\r\n\r\n                            } catch (NullPointerException exception2) {\r\n\r\n                            }\r\n                        }\r\n                        try {\r\n                            Thread.sleep(Constants.SLEEP_TIME);\r\n                        } catch (InterruptedException e) {\r\n                            e.printStackTrace();\r\n                        }\r\n                    }\r\n\r\nHow can I fix that?\r\n","title":"I&#39;m trying to Check if a certain WebElement is present through chrome drive in java after checking the page is loaded, but it&#39;s not working","body":"<p>I'm trying to Check if a certain WebElement is present through chrome drive in java after checking the page is loaded.\neven though the page is loaded and the element is present the driver can't locate it and I get a\nNoSuchElementException.\nif I'll let it run more time it would probably make it but that's not possible with logic of my code because I'm checking if this element is present while the page is loaded to see if something is clickable (when I over it looks clickable but when I click it nothing happen so something like &quot;isClickable&quot; {if that's a thing} probably won't work) and gets me to the right place.</p>\n<p>part of my code:</p>\n<pre><code>while (true) {\n                    JavascriptExecutor js = (JavascriptExecutor) driver;\n                    if (js.executeScript(&quot;return document.readyState&quot;).toString().equals(&quot;complete&quot;)) {\n                        try {\n                            if (driver.findElement(By.xpath(&quot;/html/body/div[1]/div/div[4]/div/div/div/div/div[1]/div&quot;)).isEnabled()) {\n                                inProfilePictureTab = true;\n                                toBreak = true;\n                                break;\n                            }\n                        } catch (NoSuchElementException exception) {\n                            warningLabelChanger(&quot;Profile picture isn't clickable, try something else&quot;);\n                            toBreak = true;\n                            break;\n\n\n                        } catch (NullPointerException exception2) {\n\n                        }\n                    }\n                    try {\n                        Thread.sleep(Constants.SLEEP_TIME);\n                    } catch (InterruptedException e) {\n                        e.printStackTrace();\n                    }\n                }\n</code></pre>\n<p>How can I fix that?</p>\n"},{"tags":["java","spring-boot","spring-integration","spring-integration-dsl","spring-integration-http"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656510730,"creation_date":1656510730,"answer_id":72802593,"question_id":72801777,"body_markdown":"Add a custom release strategy to the gatherer.\r\n\r\n```java\r\n/**\r\n * Strategy for determining when a group of messages reaches a state of\r\n * completion (i.e. can trip a barrier).\r\n */\r\n@FunctionalInterface\r\npublic interface ReleaseStrategy {\r\n\r\n\tboolean canRelease(MessageGroup group);\r\n\r\n}\r\n```\r\n\r\n```\r\ngatherer -&gt; gatherer.releaseLockBeforeSend(true)\r\n                .releaseStrategy(msgGrp -&gt; theOnesIWantHaveArrived(msgGrp))\r\n                .discardChannel(&quot;nullChannel&quot;));\r\n```\r\n\r\nIt would be best to have the DB flow not return a reply, then you won&#39;t need the discard channel or any custom code.\r\n\r\nThen, you could just use\r\n\r\n```\r\ngatherer -&gt; gatherer.releaseLockBeforeSend(true)\r\n                .releaseStrategy(&quot;size() == 2&quot;));\r\n```\r\n","title":"How to make gatherer to receive only some specific flow&#39;s response, instead of waiting for all the flows and then gather the response in S Integration","body":"<p>Add a custom release strategy to the gatherer.</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * Strategy for determining when a group of messages reaches a state of\n * completion (i.e. can trip a barrier).\n */\n@FunctionalInterface\npublic interface ReleaseStrategy {\n\n    boolean canRelease(MessageGroup group);\n\n}\n</code></pre>\n<pre><code>gatherer -&gt; gatherer.releaseLockBeforeSend(true)\n                .releaseStrategy(msgGrp -&gt; theOnesIWantHaveArrived(msgGrp))\n                .discardChannel(&quot;nullChannel&quot;));\n</code></pre>\n<p>It would be best to have the DB flow not return a reply, then you won't need the discard channel or any custom code.</p>\n<p>Then, you could just use</p>\n<pre><code>gatherer -&gt; gatherer.releaseLockBeforeSend(true)\n                .releaseStrategy(&quot;size() == 2&quot;));\n</code></pre>\n"}],"owner":{"account_id":25593085,"reputation":95,"user_id":19369457,"display_name":"Somnath Mukherjee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656510730,"creation_date":1656507253,"question_id":72801777,"body_markdown":"Here I&#39;m using Scatter-gather pattern and calling 3 sub-flows parallelly. One of the flow (DBFlow) is taking lot&#39;s of time so gatherer is waiting for so long. I want the DB flow to happen but as that is a independent task so I don&#39;t want response back from DB Flow . \r\nI want only the other two flow&#39;s response and gather them. How to achieve that ?\r\n\r\n  \r\n\r\n \r\n\r\n \r\n\r\n//Configuration class\r\n        \r\n            \r\n           @Configuration\r\n        public class IntegrationConfiguration {\r\n          @Autowired LoansServiceImpl loansService;\r\n        \r\n          long dbId = new SequenceGenerator().nextId();\r\n          //   Main flow\r\n          @Bean\r\n          public IntegrationFlow flow() {\r\n            return flow -&gt;\r\n                flow.split()\r\n                    .log()\r\n                    .channel(c -&gt; c.executor(Executors.newCachedThreadPool()))\r\n                    .convert(LoanProvisionRequest.class)\r\n                    .scatterGather(\r\n                        scatterer -&gt;\r\n                            scatterer\r\n                                .applySequence(true)\r\n                                .recipientFlow(flow1())\r\n                                .recipientFlow(flow2())\r\n                                .recipientFlow(flow3()),\r\n                        gatherer -&gt; gatherer.releaseLockBeforeSend(true))\r\n                    .log()\r\n                    .aggregate(a -&gt; a.outputProcessor(MessageGroup::getMessages))\r\n                    .channel(&quot;output-flow&quot;);\r\n          }\r\n          //   flow1\r\n          @Bean\r\n          public IntegrationFlow flow1() {\r\n            return integrationFlowDefination -&gt;\r\n                integrationFlowDefination\r\n                    .channel(c -&gt; c.executor(Executors.newCachedThreadPool()))\r\n                    .handle(\r\n                        message -&gt; {\r\n                          try {\r\n                            lionService.saveLionRequest(\r\n                                (LionRequest) message.getPayload(), String.valueOf(dbId));\r\n                          } catch (JsonProcessingException e) {\r\n                            throw new RuntimeException(e);\r\n                          }\r\n                        });\r\n          }\r\n        \r\n          //   flow2\r\n          @Bean\r\n          public IntegrationFlow flow2() {\r\n            return integrationFlowDefination -&gt;\r\n                integrationFlowDefination\r\n                    .channel(c -&gt; c.executor(Executors.newCachedThreadPool()))\r\n                    .handle(\r\n                        message -&gt;\r\n                            lionService.getData(\r\n                                (LionRequest) message.getPayload(), SourceSystem.PROVISION))\r\n                    .log();\r\n          }\r\n        \r\n          //  flow3\r\n          @Bean\r\n          public IntegrationFlow flow3() {\r\n            return integrationFlowDefination -&gt;\r\n                integrationFlowDefination\r\n                    .channel(c -&gt; c.executor(Executors.newCachedThreadPool()))\r\n                    .handle(\r\n                        message -&gt;\r\n                            lionService.prepareCDRequest(\r\n                                (LionRequest) message));\r\n          }\r\n        \r\n          @Bean\r\n          public MessageChannel replyChannel() {\r\n            return MessageChannels.executor(&quot;output-flow&quot;, outputExecutor()).get();\r\n          }\r\n        \r\n          @Bean\r\n          public ThreadPoolTaskExecutor outputExecutor() {\r\n            ThreadPoolTaskExecutor pool = new ThreadPoolTaskExecutor();\r\n            pool.setCorePoolSize(4);\r\n            pool.setMaxPoolSize(4);\r\n            return pool;\r\n          }\r\n        }\r\n\r\n //Gateway service\r\n\r\n \r\n\r\n    @MessagingGateway\r\n    public interface LionGateway {\r\n    \r\n      @Gateway(requestChannel = &quot;flow.input&quot;, replyChannel = &quot;output-flow&quot;)\r\n      List&lt;?&gt; echo(LionRequest lionRequest);\r\n    }\r\n\r\n \r\n\r\n //Controller\r\n\r\n      @Autowired private LionGateway lionGateway;\r\n    \r\n     @PostMapping(value = &quot;/invoke-integration&quot;)\r\n      public String invokeIntegrationFlow(@RequestBody LionRequest lionRequest) {\r\n        String response = lionGateway.echo(lionRequest).toString();\r\n        return response;\r\n      }\r\n\r\n","title":"How to make gatherer to receive only some specific flow&#39;s response, instead of waiting for all the flows and then gather the response in S Integration","body":"<p>Here I'm using Scatter-gather pattern and calling 3 sub-flows parallelly. One of the flow (DBFlow) is taking lot's of time so gatherer is waiting for so long. I want the DB flow to happen but as that is a independent task so I don't want response back from DB Flow .\nI want only the other two flow's response and gather them. How to achieve that ?</p>\n<p>//Configuration class</p>\n<pre><code>       @Configuration\n    public class IntegrationConfiguration {\n      @Autowired LoansServiceImpl loansService;\n    \n      long dbId = new SequenceGenerator().nextId();\n      //   Main flow\n      @Bean\n      public IntegrationFlow flow() {\n        return flow -&gt;\n            flow.split()\n                .log()\n                .channel(c -&gt; c.executor(Executors.newCachedThreadPool()))\n                .convert(LoanProvisionRequest.class)\n                .scatterGather(\n                    scatterer -&gt;\n                        scatterer\n                            .applySequence(true)\n                            .recipientFlow(flow1())\n                            .recipientFlow(flow2())\n                            .recipientFlow(flow3()),\n                    gatherer -&gt; gatherer.releaseLockBeforeSend(true))\n                .log()\n                .aggregate(a -&gt; a.outputProcessor(MessageGroup::getMessages))\n                .channel(&quot;output-flow&quot;);\n      }\n      //   flow1\n      @Bean\n      public IntegrationFlow flow1() {\n        return integrationFlowDefination -&gt;\n            integrationFlowDefination\n                .channel(c -&gt; c.executor(Executors.newCachedThreadPool()))\n                .handle(\n                    message -&gt; {\n                      try {\n                        lionService.saveLionRequest(\n                            (LionRequest) message.getPayload(), String.valueOf(dbId));\n                      } catch (JsonProcessingException e) {\n                        throw new RuntimeException(e);\n                      }\n                    });\n      }\n    \n      //   flow2\n      @Bean\n      public IntegrationFlow flow2() {\n        return integrationFlowDefination -&gt;\n            integrationFlowDefination\n                .channel(c -&gt; c.executor(Executors.newCachedThreadPool()))\n                .handle(\n                    message -&gt;\n                        lionService.getData(\n                            (LionRequest) message.getPayload(), SourceSystem.PROVISION))\n                .log();\n      }\n    \n      //  flow3\n      @Bean\n      public IntegrationFlow flow3() {\n        return integrationFlowDefination -&gt;\n            integrationFlowDefination\n                .channel(c -&gt; c.executor(Executors.newCachedThreadPool()))\n                .handle(\n                    message -&gt;\n                        lionService.prepareCDRequest(\n                            (LionRequest) message));\n      }\n    \n      @Bean\n      public MessageChannel replyChannel() {\n        return MessageChannels.executor(&quot;output-flow&quot;, outputExecutor()).get();\n      }\n    \n      @Bean\n      public ThreadPoolTaskExecutor outputExecutor() {\n        ThreadPoolTaskExecutor pool = new ThreadPoolTaskExecutor();\n        pool.setCorePoolSize(4);\n        pool.setMaxPoolSize(4);\n        return pool;\n      }\n    }\n</code></pre>\n<p>//Gateway service</p>\n<pre><code>@MessagingGateway\npublic interface LionGateway {\n\n  @Gateway(requestChannel = &quot;flow.input&quot;, replyChannel = &quot;output-flow&quot;)\n  List&lt;?&gt; echo(LionRequest lionRequest);\n}\n</code></pre>\n<p>//Controller</p>\n<pre><code>  @Autowired private LionGateway lionGateway;\n\n @PostMapping(value = &quot;/invoke-integration&quot;)\n  public String invokeIntegrationFlow(@RequestBody LionRequest lionRequest) {\n    String response = lionGateway.echo(lionRequest).toString();\n    return response;\n  }\n</code></pre>\n"},{"tags":["java","java-17"],"comments":[{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":6,"creation_date":1656343590,"post_id":72774607,"comment_id":128542990,"body_markdown":"64K? https://docs.oracle.com/javase/specs/jvms/se17/html/jvms-4.html#jvms-4.7.31","body":"64K? <a href=\"https://docs.oracle.com/javase/specs/jvms/se17/html/jvms-4.html#jvms-4.7.31\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/specs/jvms/se17/html/&hellip;</a>"},{"owner":{"account_id":4910286,"reputation":458,"user_id":3955765,"display_name":"twwwt"},"score":0,"creation_date":1656344844,"post_id":72774607,"comment_id":128543445,"body_markdown":"@akarnokd I agree, 64k seems to be the technical limit. Thanks for the pointer to the doc.","body":"@akarnokd I agree, 64k seems to be the technical limit. Thanks for the pointer to the doc."},{"owner":{"account_id":1416522,"reputation":91354,"user_id":3553087,"display_name":"Brian Goetz"},"score":4,"creation_date":1656356552,"post_id":72774607,"comment_id":128547536,"body_markdown":"@akarnokd Don&#39;t forget every `Constant_Class_info` also requires an associated `Constant_Utf8_info`, so really 32K.  But really, less.","body":"@akarnokd Don&#39;t forget every <code>Constant_Class_info</code> also requires an associated <code>Constant_Utf8_info</code>, so really 32K.  But really, less."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1656348717,"creation_date":1656348717,"answer_id":72775712,"question_id":72774607,"body_markdown":"The JLS (Java Language Spec) generally includes no limits at all. Even though there are lots of limits. It&#39;s the JVMS (Java Virtual Machine Specification) that includes limits. This makes sense: A lot of these limits are fundamentally related to bytecode and class file format concepts, which are ideas that the JLS doesn&#39;t know about - in other words, even if the JLS wanted to, it couldn&#39;t possibly describe the limits in terms that are defined in the JLS.\r\n\r\nFor example, the max size of a method is &#39;measured&#39; in bytecode instructions, which isn&#39;t a java-the-language concept in the first place.\r\n\r\nHence, the JVMS is where to look for such limits. For example [JVM Spec &#167;4.7.31](https://docs.oracle.com/javase/specs/jvms/se17/html/jvms-4.html#jvms-4.7.31) (as provided by @akarnokd, good find!).\r\n\r\nThere are limits on:\r\n\r\n* Number of methods in a type\r\n* Number of fields in a type\r\n* Number of interfaces in your `implements` list\r\n* Number of parameters a method can have\r\n* Size of a method&#39;s &quot;frame&quot; (how much stack space it needs)\r\n* Size of the number of local slots. These last 2 bullets more or less translate in java-the-language to a limit on number of local vars you can have.\r\n* Number of bytecode per method. Easiest way to run into this limit is by having a large `finally` block attached to a try with loads of `catch` blocks. The finally block is replicated for all of them. Nest try blocks for exponential bytecode growth!\r\n* Number of type params you can have in signatures.\r\n* Number of entries in the constant pool. This would appear in java-the-language as limits on the number of literals you can include in a single class.\r\n\r\nI&#39;m sure I&#39;m forgetting a few.\r\n\r\n\r\nThere are further limits that are in no spec; such as memory and heap size limits, and a lot of details about command line switches (for example, on a bunch of JVM releases and OSes, any `-Xss` parameter (that sets stack sizes) that isn&#39;t evenly divisible by a &#39;word boundary&#39;, whose definition depends on OS and architecture, was completely ignored) - all unspecced.\r\n\r\nSome of that makes sense (the exact specifics on precisely how much heap you really can reserve depends on too many factors to attempt to document in detail), some of it really doesn&#39;t (the fact that the tool switches act like they are highly specced, having 2 layers of &#39;less specced&#39; in both `-X` and `-XX` doesn&#39;t really mesh well with the idea that neither the JVMS nor the JLS mentions the tools available or their command line switches in much detail.\r\n","title":"How many subclasses can be declared for a sealed class?","body":"<p>The JLS (Java Language Spec) generally includes no limits at all. Even though there are lots of limits. It's the JVMS (Java Virtual Machine Specification) that includes limits. This makes sense: A lot of these limits are fundamentally related to bytecode and class file format concepts, which are ideas that the JLS doesn't know about - in other words, even if the JLS wanted to, it couldn't possibly describe the limits in terms that are defined in the JLS.</p>\n<p>For example, the max size of a method is 'measured' in bytecode instructions, which isn't a java-the-language concept in the first place.</p>\n<p>Hence, the JVMS is where to look for such limits. For example <a href=\"https://docs.oracle.com/javase/specs/jvms/se17/html/jvms-4.html#jvms-4.7.31\" rel=\"noreferrer\">JVM Spec §4.7.31</a> (as provided by @akarnokd, good find!).</p>\n<p>There are limits on:</p>\n<ul>\n<li>Number of methods in a type</li>\n<li>Number of fields in a type</li>\n<li>Number of interfaces in your <code>implements</code> list</li>\n<li>Number of parameters a method can have</li>\n<li>Size of a method's &quot;frame&quot; (how much stack space it needs)</li>\n<li>Size of the number of local slots. These last 2 bullets more or less translate in java-the-language to a limit on number of local vars you can have.</li>\n<li>Number of bytecode per method. Easiest way to run into this limit is by having a large <code>finally</code> block attached to a try with loads of <code>catch</code> blocks. The finally block is replicated for all of them. Nest try blocks for exponential bytecode growth!</li>\n<li>Number of type params you can have in signatures.</li>\n<li>Number of entries in the constant pool. This would appear in java-the-language as limits on the number of literals you can include in a single class.</li>\n</ul>\n<p>I'm sure I'm forgetting a few.</p>\n<p>There are further limits that are in no spec; such as memory and heap size limits, and a lot of details about command line switches (for example, on a bunch of JVM releases and OSes, any <code>-Xss</code> parameter (that sets stack sizes) that isn't evenly divisible by a 'word boundary', whose definition depends on OS and architecture, was completely ignored) - all unspecced.</p>\n<p>Some of that makes sense (the exact specifics on precisely how much heap you really can reserve depends on too many factors to attempt to document in detail), some of it really doesn't (the fact that the tool switches act like they are highly specced, having 2 layers of 'less specced' in both <code>-X</code> and <code>-XX</code> doesn't really mesh well with the idea that neither the JVMS nor the JLS mentions the tools available or their command line switches in much detail.</p>\n"},{"tags":[],"owner":{"account_id":1416522,"reputation":91354,"user_id":3553087,"display_name":"Brian Goetz"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1656356519,"creation_date":1656356519,"answer_id":72777160,"question_id":72774607,"body_markdown":"The answer [here](https://stackoverflow.com/a/72775712/3553087) is correct, but I&#39;ll add that even in JVMS 4.7.31 (the `PermittedSubtypes` attribute), you won&#39;t find a specific limit.  But since every permitted subtype must correspond to a `Constant_Class_info` in the constant pool, and the constant pool is limited to 64K entries, and each `Class` constant has an associate `String` constant, so you could not get more than 32K in any case.  Of course, you probably have other things in your class too, which compete for the constant pool, so you won&#39;t get that either.  But the answer is, effectively &quot;thousands&quot;.  ","title":"How many subclasses can be declared for a sealed class?","body":"<p>The answer <a href=\"https://stackoverflow.com/a/72775712/3553087\">here</a> is correct, but I'll add that even in JVMS 4.7.31 (the <code>PermittedSubtypes</code> attribute), you won't find a specific limit.  But since every permitted subtype must correspond to a <code>Constant_Class_info</code> in the constant pool, and the constant pool is limited to 64K entries, and each <code>Class</code> constant has an associate <code>String</code> constant, so you could not get more than 32K in any case.  Of course, you probably have other things in your class too, which compete for the constant pool, so you won't get that either.  But the answer is, effectively &quot;thousands&quot;.</p>\n"}],"owner":{"account_id":4910286,"reputation":458,"user_id":3955765,"display_name":"twwwt"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1400,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":2,"score":9,"last_activity_date":1656510653,"creation_date":1656343443,"question_id":72774607,"body_markdown":"What is the maximum number of sub classes that can be listed for a sealed class (analogous for interfaces):\r\n```java\r\npublic sealed class Foo permits A, B, C {\r\n   // How many sub classes can  ^^^^^^^\r\n   // be listed here?\r\n}\r\n```\r\nDoes the *language* actually define a limit; i.e., is it virtually infinite at the level of the language?\r\n\r\nIf there is no such limit at the level of the language, it seems that an *implementation* still must have a technical limit. Somewhere there ought to be a list that stores some kind of representation of the sub classes permitted. I would expect a 16 or 32 bit integer to be used then.","title":"How many subclasses can be declared for a sealed class?","body":"<p>What is the maximum number of sub classes that can be listed for a sealed class (analogous for interfaces):</p>\n<pre class=\"lang-java prettyprint-override\"><code>public sealed class Foo permits A, B, C {\n   // How many sub classes can  ^^^^^^^\n   // be listed here?\n}\n</code></pre>\n<p>Does the <em>language</em> actually define a limit; i.e., is it virtually infinite at the level of the language?</p>\n<p>If there is no such limit at the level of the language, it seems that an <em>implementation</em> still must have a technical limit. Somewhere there ought to be a list that stores some kind of representation of the sub classes permitted. I would expect a 16 or 32 bit integer to be used then.</p>\n"},{"tags":["java","string","class","field"],"comments":[{"owner":{"account_id":1642711,"reputation":19842,"user_id":1514861,"accept_rate":86,"display_name":"Ivo"},"score":2,"creation_date":1656509704,"post_id":72802282,"comment_id":128590461,"body_markdown":"Does this answer your question? [How to format strings in Java](https://stackoverflow.com/questions/6431933/how-to-format-strings-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/6431933/how-to-format-strings-in-java\">How to format strings in Java</a>"},{"owner":{"account_id":3521980,"reputation":481,"user_id":2944012,"accept_rate":57,"display_name":"RamanaMuttana"},"score":0,"creation_date":1656509988,"post_id":72802282,"comment_id":128590578,"body_markdown":"ClassA ft = new ClassA();\n\t\tClass ftClass = ft.getClass();\n\n\t\tField[] fields = ftClass.getDeclaredFields();\n\t\tfor (int i = 0; i &lt; fields.length; i++) {\n\t\t\tSystem.out.println(&quot;the field&quot;+fields[i] +&quot; belong to class A.&quot;)\n\t\t}http://www.avajava.com/tutorials/lessons/how-do-i-list-the-declared-fields-of-a-class.html#:~:text=In%20JavaSW%2C%20it&#39;s,%2C%20protected%2C%20and%20private%20fields.","body":"ClassA ft = new ClassA(); \t\tClass ftClass = ft.getClass();  \t\tField[] fields = ftClass.getDeclaredFields(); \t\tfor (int i = 0; i &lt; fields.length; i++) { \t\t\tSystem.out.println(&quot;the field&quot;+fields[i] +&quot; belong to class A.&quot;) \t\t}<a href=\"http://www.avajava.com/tutorials/lessons/how-do-i-list-the-declared-fields-of-a-class.html#:~:text=In%20JavaSW%2C%20it&#39;s,%2C%20protected%2C%20and%20private%20fields\" rel=\"nofollow noreferrer\">avajava.com/tutorials/lessons/&hellip;</a>."}],"answers":[{"tags":[],"owner":{"account_id":19306794,"reputation":85,"user_id":14113432,"display_name":"Harshita"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1656510575,"creation_date":1656510575,"answer_id":72802556,"question_id":72802282,"body_markdown":"This can be done by use of reflection in Java.\r\nhttps://www.oracle.com/technical-resources/articles/java/javareflection.html#:~:text=Reflection%20is%20a%20feature%20in,its%20members%20and%20display%20them.","title":"How can I pass field name of a class as parameter to include it in a String?","body":"<p>This can be done by use of reflection in Java.\n<a href=\"https://www.oracle.com/technical-resources/articles/java/javareflection.html#:%7E:text=Reflection%20is%20a%20feature%20in,its%20members%20and%20display%20them\" rel=\"nofollow noreferrer\">https://www.oracle.com/technical-resources/articles/java/javareflection.html#:~:text=Reflection%20is%20a%20feature%20in,its%20members%20and%20display%20them</a>.</p>\n"}],"owner":{"account_id":15543306,"reputation":13,"user_id":11213369,"display_name":"Yacine Tazdait"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":481,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72802556,"answer_count":1,"score":0,"last_activity_date":1656510575,"creation_date":1656509434,"question_id":72802282,"body_markdown":"I&#39;m wondering How can I pass field name of a class as parameter to include it in a String? \r\n\r\nFor example, let&#39;s say I have a class A with this members :\r\n\r\n    public class A {\r\n\r\n    String name;\r\n    String reference;\r\n    ....\r\n\r\n    }\r\n\r\nWhat I want, is to be able to initialize a string having as parameters \r\none of the two classe field name to display it dynamically. So for instance, I want to do this :\r\n\r\n    System.out.println(&quot;the field {nameField} belong to class A.&quot;);\r\n\r\nAnd in output I would have this :\r\n\r\n    output : the field name belong to class A.\r\n\r\nIs that possible in Java ?\r\n\r\nAny help would be much appreciated ?\r\n\r\nRegards\r\n\r\nYT\r\n\r\n ","title":"How can I pass field name of a class as parameter to include it in a String?","body":"<p>I'm wondering How can I pass field name of a class as parameter to include it in a String?</p>\n<p>For example, let's say I have a class A with this members :</p>\n<pre><code>public class A {\n\nString name;\nString reference;\n....\n\n}\n</code></pre>\n<p>What I want, is to be able to initialize a string having as parameters\none of the two classe field name to display it dynamically. So for instance, I want to do this :</p>\n<pre><code>System.out.println(&quot;the field {nameField} belong to class A.&quot;);\n</code></pre>\n<p>And in output I would have this :</p>\n<pre><code>output : the field name belong to class A.\n</code></pre>\n<p>Is that possible in Java ?</p>\n<p>Any help would be much appreciated ?</p>\n<p>Regards</p>\n<p>YT</p>\n"},{"tags":["java","azure","azure-functions","azureservicebus"],"answers":[{"tags":[],"owner":{"account_id":16361166,"reputation":13389,"user_id":11816733,"display_name":"Cindy Pau"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1605609313,"creation_date":1605609313,"answer_id":64873555,"question_id":64861026,"body_markdown":"The key to the problem is that the Java-based azure sdk package of offcial didn&#39;t not write the MessageReceiver class. (As far as I know, the official only implements the IMessageReceiver interface of C#) If it is C#, you can use it directly:\r\n\r\nhttps://learn.microsoft.com/en-us/dotnet/api/microsoft.azure.servicebus.core.messagereceiver?view=azure-dotnet\r\n\r\nBut for java, The official has not yet implemented this, only a interface:\r\n\r\nhttps://learn.microsoft.com/en-us/java/api/com.microsoft.azure.servicebus.imessagereceiver?view=azure-java-stable\r\n\r\n&gt; I see a bunch of methods in queue client called deadletter, but they\r\n&gt; take a UUID as a parameter (I am not sure what that is), and not a\r\n&gt; message String.\r\n\r\nI know this, but it is not based on messages, if you create an object of queueclient and use the method, it will tells you no receiver:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nIn summary, I think this is an unfinished feature, and maybe it can be updated in a future sdk version. But not now, unless you read the underlying code and implement the IMessageReceiver interface yourself, otherwise it will be impossible.\r\n\r\n  [1]: https://i.stack.imgur.com/sB9LE.png","title":"How can I send a message directly into a dead letter queue in azure service bus (java)?","body":"<p>The key to the problem is that the Java-based azure sdk package of offcial didn't not write the MessageReceiver class. (As far as I know, the official only implements the IMessageReceiver interface of C#) If it is C#, you can use it directly:</p>\n<p><a href=\"https://learn.microsoft.com/en-us/dotnet/api/microsoft.azure.servicebus.core.messagereceiver?view=azure-dotnet\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/dotnet/api/microsoft.azure.servicebus.core.messagereceiver?view=azure-dotnet</a></p>\n<p>But for java, The official has not yet implemented this, only a interface:</p>\n<p><a href=\"https://learn.microsoft.com/en-us/java/api/com.microsoft.azure.servicebus.imessagereceiver?view=azure-java-stable\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/java/api/com.microsoft.azure.servicebus.imessagereceiver?view=azure-java-stable</a></p>\n<blockquote>\n<p>I see a bunch of methods in queue client called deadletter, but they\ntake a UUID as a parameter (I am not sure what that is), and not a\nmessage String.</p>\n</blockquote>\n<p>I know this, but it is not based on messages, if you create an object of queueclient and use the method, it will tells you no receiver:</p>\n<p><a href=\"https://i.stack.imgur.com/sB9LE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sB9LE.png\" alt=\"enter image description here\" /></a></p>\n<p>In summary, I think this is an unfinished feature, and maybe it can be updated in a future sdk version. But not now, unless you read the underlying code and implement the IMessageReceiver interface yourself, otherwise it will be impossible.</p>\n"},{"tags":[],"owner":{"account_id":1488695,"reputation":672,"user_id":1396346,"accept_rate":89,"display_name":"ielkhalloufi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656510325,"creation_date":1656510325,"answer_id":72802485,"question_id":64861026,"body_markdown":"I encountered the same issue, the [github issue][1] is still open. \r\n\r\n\r\n  [1]: https://github.com/Azure/azure-functions-java-worker/issues/407","title":"How can I send a message directly into a dead letter queue in azure service bus (java)?","body":"<p>I encountered the same issue, the <a href=\"https://github.com/Azure/azure-functions-java-worker/issues/407\" rel=\"nofollow noreferrer\">github issue</a> is still open.</p>\n"}],"owner":{"account_id":2095740,"reputation":429,"user_id":1864552,"accept_rate":57,"display_name":"JS noob"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1212,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1656510325,"creation_date":1605541245,"question_id":64861026,"body_markdown":"I have a servicebusqueuetrigger function that takes a string off the service bus and calls another api, if that api call does not return a 200, I want to move that string as a meesage into a dead letter queue.  How can I do this?\r\n\r\nSo far I have this...\r\n\r\n```\r\npublic class myEventsConsumerFunction {\r\n\r\n    @FunctionName(&quot;myEventTrigger&quot;)\r\n    public void myEventTrigger(\r\n            @ServiceBusQueueTrigger(name = &quot;message&quot;, queueName = &quot;%QUEUE_NAME%&quot;, connection = &quot;ServiceBusConnection&quot;) String message,\r\n            final ExecutionContext context) throws MSPException {\r\n            int responseCode = callApi(message);\r\n                    if(responseCode!=200){\r\n            String ConnectionString = &quot;connectionstring&quot;\r\n            QueueClient sendClient = new QueueClient(new ConnectionStringBuilder(ConnectionString, queueName), ReceiveMode.PEEKLOCK);\r\n            //\r\n            //how do i send my String message to dead letter queue here?\r\n            //\r\n\r\n\r\n        }\r\n```\r\n\r\nI see a bunch of methods in queue client called deadletter, but they take a UUID as a parameter (I am not sure what that is), and not a message String.  ","title":"How can I send a message directly into a dead letter queue in azure service bus (java)?","body":"<p>I have a servicebusqueuetrigger function that takes a string off the service bus and calls another api, if that api call does not return a 200, I want to move that string as a meesage into a dead letter queue.  How can I do this?</p>\n<p>So far I have this...</p>\n<pre><code>public class myEventsConsumerFunction {\n\n    @FunctionName(&quot;myEventTrigger&quot;)\n    public void myEventTrigger(\n            @ServiceBusQueueTrigger(name = &quot;message&quot;, queueName = &quot;%QUEUE_NAME%&quot;, connection = &quot;ServiceBusConnection&quot;) String message,\n            final ExecutionContext context) throws MSPException {\n            int responseCode = callApi(message);\n                    if(responseCode!=200){\n            String ConnectionString = &quot;connectionstring&quot;\n            QueueClient sendClient = new QueueClient(new ConnectionStringBuilder(ConnectionString, queueName), ReceiveMode.PEEKLOCK);\n            //\n            //how do i send my String message to dead letter queue here?\n            //\n\n\n        }\n</code></pre>\n<p>I see a bunch of methods in queue client called deadletter, but they take a UUID as a parameter (I am not sure what that is), and not a message String.</p>\n"},{"tags":["java","spring","spring-boot","h2","jdbctemplate"],"comments":[{"owner":{"account_id":1800179,"reputation":3396,"user_id":1638718,"display_name":"ooozguuur"},"score":0,"creation_date":1655983339,"post_id":72729210,"comment_id":128464031,"body_markdown":"Can you share your application.yml file.  You make sure add this attrubute: spring.datasource.driverClassName=org.h2.Driver","body":"Can you share your application.yml file.  You make sure add this attrubute: spring.datasource.driverClassName=org.h2.Driver"},{"owner":{"account_id":1674328,"reputation":2652,"user_id":1540177,"display_name":"grekier"},"score":0,"creation_date":1655983458,"post_id":72729210,"comment_id":128464070,"body_markdown":"Problem is that you have 3 different datasource and Spring doesn&#39;t know which one to choose from. Spring has been more strict on those checks in later version than it was earlier. You need to remove the unnecessary ones so that there is only one or add a `@Qualifier` to explicitly tell spring which one to use. You have 3 now: `snowflakeDataSource, snowflakeAskDataSource, transactionDataSource`","body":"Problem is that you have 3 different datasource and Spring doesn&#39;t know which one to choose from. Spring has been more strict on those checks in later version than it was earlier. You need to remove the unnecessary ones so that there is only one or add a <code>@Qualifier</code> to explicitly tell spring which one to use. You have 3 now: <code>snowflakeDataSource, snowflakeAskDataSource, transactionDataSource</code>"},{"owner":{"account_id":15585153,"reputation":1806,"user_id":11243901,"display_name":"Arun Sai Mustyala"},"score":0,"creation_date":1655984285,"post_id":72729210,"comment_id":128464345,"body_markdown":"can you add snowflakeDataSource,snowflakeAskDataSource,transactionDataSource bean configs code?","body":"can you add snowflakeDataSource,snowflakeAskDataSource,transactionDataSo&zwnj;&#8203;urce bean configs code?"},{"owner":{"account_id":3016931,"reputation":191,"user_id":2558819,"accept_rate":60,"display_name":"Saurabh Gadariya"},"score":0,"creation_date":1656333553,"post_id":72729210,"comment_id":128538694,"body_markdown":"@ArunSai Added bean configs code.","body":"@ArunSai Added bean configs code."},{"owner":{"account_id":15585153,"reputation":1806,"user_id":11243901,"display_name":"Arun Sai Mustyala"},"score":0,"creation_date":1656335230,"post_id":72729210,"comment_id":128539373,"body_markdown":"@Saurabh Gadariya Can you add H2ConsoleAutoConfiguration.java class","body":"@Saurabh Gadariya Can you add H2ConsoleAutoConfiguration.java class"}],"answers":[{"tags":[],"owner":{"account_id":1093641,"reputation":4759,"user_id":1087718,"accept_rate":84,"display_name":"czupe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655983610,"creation_date":1655983610,"answer_id":72729358,"question_id":72729210,"body_markdown":"It seems like you have no unique bean, you have actually 3 beans that could be injected there, those beans are:\r\n\r\n```\r\nsnowflakeDataSource,snowflakeAskDataSource,transactionDataSource\r\n```\r\n\r\nand your h2Console cannot choose the datasource. As I understand.\r\n\r\nYou could add names to your beans:\r\n```\r\n@Component(&quot;myBean&quot;)\r\n```\r\n\r\nAnd then you can use this with Qualifier annotation later.\r\n\r\nOr exclude them, but I think none of those datasources are good probably...\r\n\r\nWould be good to check your property file, you shall have something similar to this there:\r\n```\r\nspring:\r\n  datasource:\r\n    url: jdbc:h2:mem:mydb\r\n    username: sa\r\n    password: password\r\n    driverClassName: org.h2.Driver\r\n```\r\n","title":"Spring boot upgrade from 2.1.3.RELEASE to 2.5.12: &quot;No qualifying bean of type &#39;javax.sql.DataSource&#39; available&quot; in JUnit run","body":"<p>It seems like you have no unique bean, you have actually 3 beans that could be injected there, those beans are:</p>\n<pre><code>snowflakeDataSource,snowflakeAskDataSource,transactionDataSource\n</code></pre>\n<p>and your h2Console cannot choose the datasource. As I understand.</p>\n<p>You could add names to your beans:</p>\n<pre><code>@Component(&quot;myBean&quot;)\n</code></pre>\n<p>And then you can use this with Qualifier annotation later.</p>\n<p>Or exclude them, but I think none of those datasources are good probably...</p>\n<p>Would be good to check your property file, you shall have something similar to this there:</p>\n<pre><code>spring:\n  datasource:\n    url: jdbc:h2:mem:mydb\n    username: sa\n    password: password\n    driverClassName: org.h2.Driver\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11643394,"reputation":1124,"user_id":8527109,"display_name":"L&#225;szl&#243; Stahorszki"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656335207,"creation_date":1656335207,"answer_id":72772626,"question_id":72729210,"body_markdown":"There are two things I noticed:\r\n\r\n### 1) Above some datasources you have a comment saying `tags it as primary database`\r\n\r\nThis is a fine thing to do, but you don&#39;t actually tag those as primary. For that you need to use the `@Primary` annotation.\r\n\r\n### 2) You can&#39;t have multiple Primary datasources\r\n\r\nThere can be only one primary datasource, so tagging multiple of them as primary is wrong and will result in an error. You need to choose one datasource to tag as primary and coincidentally, that datasource is the one you&#39;ll be able to interact with from your H2 Console.","title":"Spring boot upgrade from 2.1.3.RELEASE to 2.5.12: &quot;No qualifying bean of type &#39;javax.sql.DataSource&#39; available&quot; in JUnit run","body":"<p>There are two things I noticed:</p>\n<h3>1) Above some datasources you have a comment saying <code>tags it as primary database</code></h3>\n<p>This is a fine thing to do, but you don't actually tag those as primary. For that you need to use the <code>@Primary</code> annotation.</p>\n<h3>2) You can't have multiple Primary datasources</h3>\n<p>There can be only one primary datasource, so tagging multiple of them as primary is wrong and will result in an error. You need to choose one datasource to tag as primary and coincidentally, that datasource is the one you'll be able to interact with from your H2 Console.</p>\n"},{"tags":[],"owner":{"account_id":3016931,"reputation":191,"user_id":2558819,"accept_rate":60,"display_name":"Saurabh Gadariya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1656509970,"creation_date":1656509970,"answer_id":72802414,"question_id":72729210,"body_markdown":"I finally able to run test-cases by switching off h2 console\r\n\r\n    spring.h2.console.enabled=false\r\n\r\n","title":"Spring boot upgrade from 2.1.3.RELEASE to 2.5.12: &quot;No qualifying bean of type &#39;javax.sql.DataSource&#39; available&quot; in JUnit run","body":"<p>I finally able to run test-cases by switching off h2 console</p>\n<pre><code>spring.h2.console.enabled=false\n</code></pre>\n"}],"owner":{"account_id":3016931,"reputation":191,"user_id":2558819,"accept_rate":60,"display_name":"Saurabh Gadariya"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3514,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72802414,"answer_count":3,"score":1,"last_activity_date":1656509970,"creation_date":1655982837,"question_id":72729210,"body_markdown":"I am getting the below exception when I tried to &quot;mvn package&quot; after upgrading the Spring boot version from 2.1.3.RELEASE to 2.5.12 in JUnit Run\r\n\r\n - Upgraded relevant dependency version as well:\r\n&lt;spring.cloud.version&gt;2.2.6.RELEASE&lt;/spring.cloud.version&gt;\r\n - removed junit-jupiter-api and log4j2\r\n - added spring-boot-starter-validation\r\n\r\nBelow is full stacktrace\r\n\r\n    java.lang.IllegalStateException: Failed to load ApplicationContext\r\n    \r\n    \tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:132)\r\n    \tat org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)\r\n    \tat org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:190)\r\n    \tat org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:132)\r\n    \tat org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)\r\n    \tat org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$6(ClassBasedTestDescriptor.java:350)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:355)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$7(ClassBasedTestDescriptor.java:350)\r\n    \tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\r\n    \tat java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)\r\n    \tat java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)\r\n    \tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)\r\n    \tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\r\n    \tat java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)\r\n    \tat java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)\r\n    \tat java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)\r\n    \tat java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:349)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$4(ClassBasedTestDescriptor.java:270)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:269)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$2(ClassBasedTestDescriptor.java:259)\r\n    \tat java.base/java.util.Optional.orElseGet(Optional.java:369)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$3(ClassBasedTestDescriptor.java:258)\r\n    \tat org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:101)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:100)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:65)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$1(NodeTestTask.java:111)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:111)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:79)\r\n    \tat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\r\n    \tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\r\n    \tat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\r\n    \tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:75)\r\n    \tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)\r\n    \tat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\r\n    \tat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\r\n    \tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\r\n    \tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\r\n    \tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;h2Console&#39; defined in class path resource [org/springframework/boot/autoconfigure/h2/H2ConsoleAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.boot.web.servlet.ServletRegistrationBean]: Factory method &#39;h2Console&#39; threw exception; nested exception is org.springframework.beans.factory.NoUniqueBeanDefinitionException: No qualifying bean of type &#39;javax.sql.DataSource&#39; available: expected single matching bean but found 3: snowflakeDataSource,snowflakeAskDataSource,transactionDataSource\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658)\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:638)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775)\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:448)\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:339)\r\n    \tat org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)\r\n    \tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)\r\n    \tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)\r\n    \t... 69 more\r\n    Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.boot.web.servlet.ServletRegistrationBean]: Factory method &#39;h2Console&#39; threw exception; nested exception is org.springframework.beans.factory.NoUniqueBeanDefinitionException: No qualifying bean of type &#39; &#39; available: expected single matching bean but found 3: snowflakeDataSource,snowflakeAskDataSource,transactionDataSource\r\n    \tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185)\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)\r\n    \t... 87 more\r\n    Caused by: org.springframework.beans.factory.NoUniqueBeanDefinitionException: No qualifying bean of type &#39;javax.sql.DataSource&#39; available: expected single matching bean but found 3: snowflakeDataSource,snowflakeAskDataSource,transactionDataSource\r\n    \tat org.springframework.beans.factory.config.DependencyDescriptor.resolveNotUnique(DependencyDescriptor.java:220)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1367)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory$DependencyObjectProvider.getIfAvailable(DefaultListableBeanFactory.java:2030)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory$DependencyObjectProvider.ifAvailable(DefaultListableBeanFactory.java:2041)\r\n    \tat org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration.h2Console(H2ConsoleAutoConfiguration.java:66)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n    \tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)\r\n    \t... 88 more\r\n\r\n**TransactionalDataConfiguration:**\r\n\r\n    @Configuration\r\n    @Log4j2\r\n    public class TransactionDataConfiguration {\r\n    \r\n      private static final String POSTGRES_DATASOURCE_PREFIX = &quot;postgres.datasource&quot;;\r\n    \r\n      /**\r\n       * Configure Snowflake data source and tags it as primary database\r\n       *\r\n       * @return DBCP enabled data source\r\n       */\r\n      @ConfigurationProperties(prefix = POSTGRES_DATASOURCE_PREFIX)\r\n      @Bean\r\n      @Qualifier(&quot;transactionDataSource&quot;)\r\n      public DataSource transactionDataSource() {\r\n        log.debug(&quot;Creating transaction datasource&quot;);\r\n        return DataSourceBuilder.create().type(HikariDataSource.class).build();\r\n      }\r\n    \r\n      @Bean\r\n      @Qualifier(&quot;transactionNamedJdbcTemplate&quot;)\r\n      public NamedParameterJdbcTemplate transactionNamedJdbcTemplate(\r\n          @Qualifier(&quot;transactionDataSource&quot;) DataSource productDataSource) {\r\n        return new NamedParameterJdbcTemplate(productDataSource);\r\n      }\r\n    }\r\n\r\n**Snowflake Configuration:**\r\n\r\n    @Configuration\r\n    @Log4j2\r\n    public class SnowflakeConfiguration {\r\n    \r\n      @Value(&quot;${snowflake.datasource.usepassword:false}&quot;)\r\n      private boolean usePassword;\r\n    \r\n      /** Configure Snowflake data source and tags it as primary database */\r\n      @Bean(name = &quot;snowflakeDataSource&quot;)\r\n      public DataSource dataSource(Environment env) throws Exception {\r\n        var ds = new DriverManagerDataSource();\r\n        var connProp = loadSnowflakeConnectionCommonProperties(env);\r\n        connProp.put(&quot;warehouse&quot;, env.getProperty(&quot;snowflake.datasource.reportswarehouse&quot;));\r\n        ds.setDriverClassName(env.getProperty(&quot;snowflake.datasource.driver-class-name&quot;));\r\n        ds.setUrl(env.getProperty(&quot;snowflake.datasource.url&quot;));\r\n        ds.setConnectionProperties(connProp);\r\n        return ds;\r\n      }\r\n    \r\n      @Bean(name = &quot;snowflakeAskDataSource&quot;)\r\n      public DataSource askDataSource(Environment env) throws Exception {\r\n        var ds = new DriverManagerDataSource();\r\n        var connProp = loadSnowflakeConnectionCommonProperties(env);\r\n        connProp.put(&quot;warehouse&quot;, env.getProperty(&quot;snowflake.datasource.askwarehouse&quot;));\r\n        ds.setDriverClassName(env.getProperty(&quot;snowflake.datasource.driver-class-name&quot;));\r\n        ds.setUrl(env.getProperty(&quot;snowflake.datasource.url&quot;));\r\n        ds.setConnectionProperties(connProp);\r\n        return ds;\r\n      }\r\n    \r\n      /** Loads connection properties from application.properties file. */\r\n      private Properties loadSnowflakeConnectionCommonProperties(Environment env) throws Exception {\r\n        var prop = new Properties();\r\n        prop.put(&quot;user&quot;, env.getProperty(&quot;snowflake.datasource.username&quot;));\r\n        prop.put(&quot;db&quot;, env.getProperty(&quot;snowflake.datasource.db&quot;));\r\n        prop.put(&quot;schema&quot;, env.getProperty(&quot;snowflake.datasource.schema&quot;));\r\n        prop.put(&quot;tracing&quot;, env.getProperty(&quot;snowflake.datasource.tracing&quot;));\r\n        prop.put(&quot;role&quot;, env.getProperty(&quot;snowflake.datasource.role&quot;));\r\n    \r\n        if (usePassword) prop.put(&quot;password&quot;, env.getProperty(&quot;snowflake.datasource.password&quot;));\r\n        else\r\n          prop.put(\r\n              &quot;privateKey&quot;,\r\n              CommonUtils.generatePrivateKey(\r\n                  env.getProperty(&quot;snowflake.datasource.privateKey&quot;),\r\n                  env.getProperty(&quot;snowflake.datasource.passcode&quot;)));\r\n        return prop;\r\n      }\r\n    \r\n      @Bean(&quot;masterJdbcTemplate&quot;)\r\n      public JdbcTemplate masterJdbcTemplate(\r\n          @Qualifier(&quot;snowflakeDataSource&quot;) DataSource masterDataSource) {\r\n        var jdbcTemplate = new JdbcTemplate(masterDataSource);\r\n        log.debug(&quot; ---------- Creating master jdbcTemplate -------- &quot;);\r\n        return jdbcTemplate;\r\n      }\r\n    \r\n      @Bean(&quot;masterAskJdbcTemplate&quot;)\r\n      public JdbcTemplate masterAskJdbcTemplate(\r\n          @Qualifier(&quot;snowflakeAskDataSource&quot;) DataSource masterDataSource) {\r\n        var jdbcTemplate = new JdbcTemplate(masterDataSource);\r\n        log.debug(&quot; ---------- Creating ask jdbcTemplate -------- &quot;);\r\n        return jdbcTemplate;\r\n      }\r\n    }\r\n\r\n","title":"Spring boot upgrade from 2.1.3.RELEASE to 2.5.12: &quot;No qualifying bean of type &#39;javax.sql.DataSource&#39; available&quot; in JUnit run","body":"<p>I am getting the below exception when I tried to &quot;mvn package&quot; after upgrading the Spring boot version from 2.1.3.RELEASE to 2.5.12 in JUnit Run</p>\n<ul>\n<li>Upgraded relevant dependency version as well:\n&lt;spring.cloud.version&gt;2.2.6.RELEASE&lt;/spring.cloud.version&gt;</li>\n<li>removed junit-jupiter-api and log4j2</li>\n<li>added spring-boot-starter-validation</li>\n</ul>\n<p>Below is full stacktrace</p>\n<pre><code>java.lang.IllegalStateException: Failed to load ApplicationContext\n\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:132)\n    at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)\n    at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:190)\n    at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:132)\n    at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)\n    at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$6(ClassBasedTestDescriptor.java:350)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:355)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$7(ClassBasedTestDescriptor.java:350)\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\n    at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)\n    at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\n    at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)\n    at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)\n    at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)\n    at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:349)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$4(ClassBasedTestDescriptor.java:270)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:269)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$2(ClassBasedTestDescriptor.java:259)\n    at java.base/java.util.Optional.orElseGet(Optional.java:369)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$3(ClassBasedTestDescriptor.java:258)\n    at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:101)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:100)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:65)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$1(NodeTestTask.java:111)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:111)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:79)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:143)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:129)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:127)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:126)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:84)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:96)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:75)\n    at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\n    at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'h2Console' defined in class path resource [org/springframework/boot/autoconfigure/h2/H2ConsoleAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.boot.web.servlet.ServletRegistrationBean]: Factory method 'h2Console' threw exception; nested exception is org.springframework.beans.factory.NoUniqueBeanDefinitionException: No qualifying bean of type 'javax.sql.DataSource' available: expected single matching bean but found 3: snowflakeDataSource,snowflakeAskDataSource,transactionDataSource\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658)\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:638)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775)\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:448)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:339)\n    at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:136)\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)\n    ... 69 more\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.boot.web.servlet.ServletRegistrationBean]: Factory method 'h2Console' threw exception; nested exception is org.springframework.beans.factory.NoUniqueBeanDefinitionException: No qualifying bean of type ' ' available: expected single matching bean but found 3: snowflakeDataSource,snowflakeAskDataSource,transactionDataSource\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185)\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)\n    ... 87 more\nCaused by: org.springframework.beans.factory.NoUniqueBeanDefinitionException: No qualifying bean of type 'javax.sql.DataSource' available: expected single matching bean but found 3: snowflakeDataSource,snowflakeAskDataSource,transactionDataSource\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveNotUnique(DependencyDescriptor.java:220)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1367)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory$DependencyObjectProvider.getIfAvailable(DefaultListableBeanFactory.java:2030)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory$DependencyObjectProvider.ifAvailable(DefaultListableBeanFactory.java:2041)\n    at org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration.h2Console(H2ConsoleAutoConfiguration.java:66)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)\n    ... 88 more\n</code></pre>\n<p><strong>TransactionalDataConfiguration:</strong></p>\n<pre><code>@Configuration\n@Log4j2\npublic class TransactionDataConfiguration {\n\n  private static final String POSTGRES_DATASOURCE_PREFIX = &quot;postgres.datasource&quot;;\n\n  /**\n   * Configure Snowflake data source and tags it as primary database\n   *\n   * @return DBCP enabled data source\n   */\n  @ConfigurationProperties(prefix = POSTGRES_DATASOURCE_PREFIX)\n  @Bean\n  @Qualifier(&quot;transactionDataSource&quot;)\n  public DataSource transactionDataSource() {\n    log.debug(&quot;Creating transaction datasource&quot;);\n    return DataSourceBuilder.create().type(HikariDataSource.class).build();\n  }\n\n  @Bean\n  @Qualifier(&quot;transactionNamedJdbcTemplate&quot;)\n  public NamedParameterJdbcTemplate transactionNamedJdbcTemplate(\n      @Qualifier(&quot;transactionDataSource&quot;) DataSource productDataSource) {\n    return new NamedParameterJdbcTemplate(productDataSource);\n  }\n}\n</code></pre>\n<p><strong>Snowflake Configuration:</strong></p>\n<pre><code>@Configuration\n@Log4j2\npublic class SnowflakeConfiguration {\n\n  @Value(&quot;${snowflake.datasource.usepassword:false}&quot;)\n  private boolean usePassword;\n\n  /** Configure Snowflake data source and tags it as primary database */\n  @Bean(name = &quot;snowflakeDataSource&quot;)\n  public DataSource dataSource(Environment env) throws Exception {\n    var ds = new DriverManagerDataSource();\n    var connProp = loadSnowflakeConnectionCommonProperties(env);\n    connProp.put(&quot;warehouse&quot;, env.getProperty(&quot;snowflake.datasource.reportswarehouse&quot;));\n    ds.setDriverClassName(env.getProperty(&quot;snowflake.datasource.driver-class-name&quot;));\n    ds.setUrl(env.getProperty(&quot;snowflake.datasource.url&quot;));\n    ds.setConnectionProperties(connProp);\n    return ds;\n  }\n\n  @Bean(name = &quot;snowflakeAskDataSource&quot;)\n  public DataSource askDataSource(Environment env) throws Exception {\n    var ds = new DriverManagerDataSource();\n    var connProp = loadSnowflakeConnectionCommonProperties(env);\n    connProp.put(&quot;warehouse&quot;, env.getProperty(&quot;snowflake.datasource.askwarehouse&quot;));\n    ds.setDriverClassName(env.getProperty(&quot;snowflake.datasource.driver-class-name&quot;));\n    ds.setUrl(env.getProperty(&quot;snowflake.datasource.url&quot;));\n    ds.setConnectionProperties(connProp);\n    return ds;\n  }\n\n  /** Loads connection properties from application.properties file. */\n  private Properties loadSnowflakeConnectionCommonProperties(Environment env) throws Exception {\n    var prop = new Properties();\n    prop.put(&quot;user&quot;, env.getProperty(&quot;snowflake.datasource.username&quot;));\n    prop.put(&quot;db&quot;, env.getProperty(&quot;snowflake.datasource.db&quot;));\n    prop.put(&quot;schema&quot;, env.getProperty(&quot;snowflake.datasource.schema&quot;));\n    prop.put(&quot;tracing&quot;, env.getProperty(&quot;snowflake.datasource.tracing&quot;));\n    prop.put(&quot;role&quot;, env.getProperty(&quot;snowflake.datasource.role&quot;));\n\n    if (usePassword) prop.put(&quot;password&quot;, env.getProperty(&quot;snowflake.datasource.password&quot;));\n    else\n      prop.put(\n          &quot;privateKey&quot;,\n          CommonUtils.generatePrivateKey(\n              env.getProperty(&quot;snowflake.datasource.privateKey&quot;),\n              env.getProperty(&quot;snowflake.datasource.passcode&quot;)));\n    return prop;\n  }\n\n  @Bean(&quot;masterJdbcTemplate&quot;)\n  public JdbcTemplate masterJdbcTemplate(\n      @Qualifier(&quot;snowflakeDataSource&quot;) DataSource masterDataSource) {\n    var jdbcTemplate = new JdbcTemplate(masterDataSource);\n    log.debug(&quot; ---------- Creating master jdbcTemplate -------- &quot;);\n    return jdbcTemplate;\n  }\n\n  @Bean(&quot;masterAskJdbcTemplate&quot;)\n  public JdbcTemplate masterAskJdbcTemplate(\n      @Qualifier(&quot;snowflakeAskDataSource&quot;) DataSource masterDataSource) {\n    var jdbcTemplate = new JdbcTemplate(masterDataSource);\n    log.debug(&quot; ---------- Creating ask jdbcTemplate -------- &quot;);\n    return jdbcTemplate;\n  }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","spring-data-jpa","jackson"],"comments":[{"owner":{"account_id":9905560,"reputation":641,"user_id":7334180,"accept_rate":75,"display_name":"Holinc"},"score":0,"creation_date":1656470874,"post_id":72794236,"comment_id":128578105,"body_markdown":"What&#39;s your JSON String?","body":"What&#39;s your JSON String?"},{"owner":{"account_id":7788702,"reputation":836,"user_id":5892518,"display_name":"Harsh"},"score":0,"creation_date":1656506648,"post_id":72794236,"comment_id":128589106,"body_markdown":"I believe this is the nature of Transient isn&#39;t it ? Variables marked as transient aren&#39;t `Serialized` ! So ultimately will be skipped in JSON to POJO and Vice-versa conversion to my knowledge","body":"I believe this is the nature of Transient isn&#39;t it ? Variables marked as transient aren&#39;t <code>Serialized</code> ! So ultimately will be skipped in JSON to POJO and Vice-versa conversion to my knowledge"}],"answers":[{"tags":[],"owner":{"account_id":25386555,"reputation":9,"user_id":19198263,"display_name":"yeleubay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656509927,"creation_date":1656509927,"answer_id":72802404,"question_id":72794236,"body_markdown":"If you have Serialization problem, Make sure that you add both Getters and Setters to your PersonData class to all needed params\r\n\r\n\r\n    public class PersonData {\r\n\r\n    String name;\r\n    Integer age;\r\n    \r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public void setAge(Integer age) {\r\n        this.age = age;\r\n    }\r\n\r\n    public Integer getAge() {\r\n        return age;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\nif you think problem caused by annotations you have used, Your output will not have null, but dont have personDataDetails param at all","title":"Map a Json string to pojo class inside entity class - Springboot","body":"<p>If you have Serialization problem, Make sure that you add both Getters and Setters to your PersonData class to all needed params</p>\n<pre><code>public class PersonData {\n\nString name;\nInteger age;\n\npublic void setName(String name) {\n    this.name = name;\n}\n\npublic void setAge(Integer age) {\n    this.age = age;\n}\n\npublic Integer getAge() {\n    return age;\n}\n\npublic String getName() {\n    return name;\n}\n</code></pre>\n<p>if you think problem caused by annotations you have used, Your output will not have null, but dont have personDataDetails param at all</p>\n"}],"owner":{"account_id":6631961,"reputation":464,"user_id":5120388,"accept_rate":57,"display_name":"newcoder"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":157,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656509927,"creation_date":1656459251,"question_id":72794236,"body_markdown":"I am trying to map a JSON String object from my DB to a transient member inside the entity class.\r\nBut when I am getting the response it&#39;s coming as null.\r\n\r\nCan you please let me know what I am doing wrong ?\r\n\r\n  \r\n\r\n      @Entity\r\n        @Getters\r\n        //other annotations\r\n        public class Person {\r\n        \r\n        // members\r\n        \r\n        @Lob\r\n        @JsonIgnore\r\n        String personData;\r\n    \r\n    @Transient\r\n    @JsonIclude\r\n    PersonData personDataDetails\r\n    \r\n    public PersonData getPersonDataDetails(){\r\n    \r\n        //Create Object Mapper obj\r\n         return objectMapper.readValue(personData, PersonData.class);\r\n    \r\n     }\r\n    \r\n    }\r\n\r\nbut in the output personDataDetails is coming as null. How I can assign the value to personDataDetails and get the same in the response ?","title":"Map a Json string to pojo class inside entity class - Springboot","body":"<p>I am trying to map a JSON String object from my DB to a transient member inside the entity class.\nBut when I am getting the response it's coming as null.</p>\n<p>Can you please let me know what I am doing wrong ?</p>\n<pre><code>  @Entity\n    @Getters\n    //other annotations\n    public class Person {\n    \n    // members\n    \n    @Lob\n    @JsonIgnore\n    String personData;\n\n@Transient\n@JsonIclude\nPersonData personDataDetails\n\npublic PersonData getPersonDataDetails(){\n\n    //Create Object Mapper obj\n     return objectMapper.readValue(personData, PersonData.class);\n\n }\n\n}\n</code></pre>\n<p>but in the output personDataDetails is coming as null. How I can assign the value to personDataDetails and get the same in the response ?</p>\n"},{"tags":["java","garbage-collection","jconsole","jvisualvm"],"answers":[{"tags":[],"owner":{"account_id":422964,"reputation":33652,"user_id":802050,"accept_rate":89,"display_name":"M Sach"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1656509520,"creation_date":1474794494,"answer_id":39685173,"question_id":39679235,"body_markdown":"**Parallel Garbage collector:**&#160;`-XX:+UseParallelGC` (jvm option to use this collector, though this is default as of java 8)\r\n\r\nUnder jconsole/jvisualvm\r\n\r\n    Name = &#39;PS Scavenge&#39;, ... for (Minor Collection)\r\n    Garbage collector:&#160;\r\n    Name = &#39;PS MarkSweep&#39;, for (Major Collection)\r\n\r\n\r\n**CMS Garbage collector:**&#160;`-XX:+UseParNewGC` (jvm option to use this collector)\r\n\r\nUnder jconsole/jvisualvm\r\n\r\n    Name = &#39;ParNew&#39;, ... for (Minor Collection)\r\n    Garbage collector:&#160;\r\n    Name = &#39;MarkSweepCompact&#39;, for (Major Collection)\r\n\r\n**G1 Garbage collector:** `-XX:+UseG1GC` (jvm option to use this collector)\r\n\r\nUnder jconsole/jvisualvm\r\n\r\n    Name = &#39;G1 Young Generation&#39;, ... for (Minor Collection)\r\n    Garbage collector:&#160;\r\n    Name = &#39;G1 Old Generation&#39;, for (Major Collection)\r\n\r\n\r\n**Without jconsole/jvisualvm:-** you can juse `-XX:+PrintCommandLineFlags` jvm option to see GC type details on console","title":"Determine Garbage collector type from jconsole/jvisualvm?","body":"<p><strong>Parallel Garbage collector:</strong> <code>-XX:+UseParallelGC</code> (jvm option to use this collector, though this is default as of java 8)</p>\n<p>Under jconsole/jvisualvm</p>\n<pre><code>Name = 'PS Scavenge', ... for (Minor Collection)\nGarbage collector: \nName = 'PS MarkSweep', for (Major Collection)\n</code></pre>\n<p><strong>CMS Garbage collector:</strong> <code>-XX:+UseParNewGC</code> (jvm option to use this collector)</p>\n<p>Under jconsole/jvisualvm</p>\n<pre><code>Name = 'ParNew', ... for (Minor Collection)\nGarbage collector: \nName = 'MarkSweepCompact', for (Major Collection)\n</code></pre>\n<p><strong>G1 Garbage collector:</strong> <code>-XX:+UseG1GC</code> (jvm option to use this collector)</p>\n<p>Under jconsole/jvisualvm</p>\n<pre><code>Name = 'G1 Young Generation', ... for (Minor Collection)\nGarbage collector: \nName = 'G1 Old Generation', for (Major Collection)\n</code></pre>\n<p><strong>Without jconsole/jvisualvm:-</strong> you can juse <code>-XX:+PrintCommandLineFlags</code> jvm option to see GC type details on console</p>\n"}],"owner":{"account_id":2042921,"reputation":10170,"user_id":3222249,"accept_rate":73,"display_name":"emilly"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1044,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656509520,"creation_date":1474739105,"question_id":39679235,"body_markdown":"Is there a way I can find GC type (parallel or CMS or G1 ) from jnconsole or jvisualvm? In my case, I see  below related info:\r\n\r\n    Garbage Collector : Name=&#39;PS MarkSweep&#39;....\r\n    Garbage Collector : Name=&#39;PS Scavenge&#39;....\r\n\r\nWhen I use the command `-XX: +PrintCommandLineFlags` it displays ` -XX:+UseParallelGC`, so it confirms its parallel GC collector(though I though its CMS because of name `PS MarkSweep` in jconsole/jvisualvm) .  \r\n\r\nWhat will be the GC collector values for CMS and G1?","title":"Determine Garbage collector type from jconsole/jvisualvm?","body":"<p>Is there a way I can find GC type (parallel or CMS or G1 ) from jnconsole or jvisualvm? In my case, I see  below related info:</p>\n\n<pre><code>Garbage Collector : Name='PS MarkSweep'....\nGarbage Collector : Name='PS Scavenge'....\n</code></pre>\n\n<p>When I use the command <code>-XX: +PrintCommandLineFlags</code> it displays <code>-XX:+UseParallelGC</code>, so it confirms its parallel GC collector(though I though its CMS because of name <code>PS MarkSweep</code> in jconsole/jvisualvm) .  </p>\n\n<p>What will be the GC collector values for CMS and G1?</p>\n"},{"tags":["java","constructor","void"],"comments":[{"owner":{"account_id":53317,"reputation":19342,"user_id":159388,"accept_rate":73,"display_name":"murgatroid99"},"score":16,"creation_date":1406319040,"post_id":24963718,"comment_id":38802351,"body_markdown":"That second one isn&#39;t a constructor. It&#39;s just a method that happens to share a name with its class.","body":"That second one isn&#39;t a constructor. It&#39;s just a method that happens to share a name with its class."},{"owner":{"account_id":44195,"reputation":269043,"user_id":129570,"accept_rate":79,"display_name":"Oliver Charlesworth"},"score":1,"creation_date":1406319042,"post_id":24963718,"comment_id":38802353,"body_markdown":"Because it&#39;s no longer a constructor.","body":"Because it&#39;s no longer a constructor."},{"owner":{"account_id":2612287,"reputation":418,"user_id":2262185,"accept_rate":60,"display_name":"Doswell"},"score":5,"creation_date":1406319161,"post_id":24963718,"comment_id":38802413,"body_markdown":"the answer on this similar question  [Why do constructors in java not have a return type](http://stackoverflow.com/questions/6801500/why-do-constructors-in-java-not-have-a-return-type) gives a great reason.","body":"the answer on this similar question  <a href=\"http://stackoverflow.com/questions/6801500/why-do-constructors-in-java-not-have-a-return-type\">Why do constructors in java not have a return type</a> gives a great reason."},{"owner":{"account_id":4801924,"reputation":1203,"user_id":3878321,"display_name":"Hadi"},"score":0,"creation_date":1406319326,"post_id":24963718,"comment_id":38802473,"body_markdown":"its amazing that you wrote answer just before i can refresh the page ; tnx all,","body":"its amazing that you wrote answer just before i can refresh the page ; tnx all,"}],"answers":[{"tags":[],"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"down_vote_count":0,"up_vote_count":59,"is_accepted":true,"score":59,"last_activity_date":1406319077,"creation_date":1406319077,"answer_id":24963755,"question_id":24963718,"body_markdown":"In Java, the constructor **is not** a method. It only has the name of the class and a specific visibility. If it declares that returns something, then **it is not a constructor**, not even if it declares that returns a `void`. Note the difference here:\r\n\r\n    public class SomeClass {\r\n        public SomeClass() {\r\n            //constructor\r\n        }\r\n        public void SomeClass() {\r\n            //a method, NOT a constructor\r\n        }\r\n    }\r\n\r\nAlso, if a class doesn&#39;t define a constructor, then the compiler will automatically add a default constructor for you.","title":"java &quot;void&quot; and &quot;non void&quot; constructor","body":"<p>In Java, the constructor <strong>is not</strong> a method. It only has the name of the class and a specific visibility. If it declares that returns something, then <strong>it is not a constructor</strong>, not even if it declares that returns a <code>void</code>. Note the difference here:</p>\n\n<pre><code>public class SomeClass {\n    public SomeClass() {\n        //constructor\n    }\n    public void SomeClass() {\n        //a method, NOT a constructor\n    }\n}\n</code></pre>\n\n<p>Also, if a class doesn't define a constructor, then the compiler will automatically add a default constructor for you.</p>\n"},{"tags":[],"owner":{"account_id":4775046,"reputation":1818,"user_id":3858487,"display_name":"Khary Mendez"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1406319080,"creation_date":1406319080,"answer_id":24963756,"question_id":24963718,"body_markdown":"public void class1() is not a constructor, it is a void method whose name happens to match the class name.  It is never called.  Instead java creates a default constructor (since you have not created one), which does nothing.","title":"java &quot;void&quot; and &quot;non void&quot; constructor","body":"<p>public void class1() is not a constructor, it is a void method whose name happens to match the class name.  It is never called.  Instead java creates a default constructor (since you have not created one), which does nothing.</p>\n"},{"tags":[],"owner":{"account_id":2979851,"reputation":723,"user_id":2530060,"accept_rate":83,"display_name":"Cal Stephens"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1406319238,"creation_date":1406319238,"answer_id":24963792,"question_id":24963718,"body_markdown":"Using void in the constructor by definition leads it to not longer be the constructor. \r\nThe constructor specifically has no return type. While void doesn&#39;t return a value in the strictest sense of the word, it is still considered a return type.\r\n\r\nIn the second example (where you use the void), you would have to do `h.class1()` for the method to get called because it is no longer the constructor. Or you could just remove the void.","title":"java &quot;void&quot; and &quot;non void&quot; constructor","body":"<p>Using void in the constructor by definition leads it to not longer be the constructor. \nThe constructor specifically has no return type. While void doesn't return a value in the strictest sense of the word, it is still considered a return type.</p>\n\n<p>In the second example (where you use the void), you would have to do <code>h.class1()</code> for the method to get called because it is no longer the constructor. Or you could just remove the void.</p>\n"},{"tags":[],"owner":{"account_id":4801683,"reputation":83,"user_id":3878150,"display_name":"Lin Sherman"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1406319477,"creation_date":1406319477,"answer_id":24963850,"question_id":24963718,"body_markdown":"This is arguably a design flaw in Java.\r\n\r\n    class MyClass {\r\n    \r\n       // this is a constructor\r\n       MyClass() {...}\r\n\r\n       // this is an instance method\r\n       void MyClass() {...}\r\n\r\n     }\r\n\r\nPerfectly legal. Probably shouldn&#39;t be, but is.\r\n\r\nIn your example, class1() is never getting called, because it&#39;s not a constructor. Instead, the default constructor is getting called.\r\n\r\nSuggestion: familiarize yourself with Java naming conventions. Class names should start with uppercase.\r\n     ","title":"java &quot;void&quot; and &quot;non void&quot; constructor","body":"<p>This is arguably a design flaw in Java.</p>\n\n<pre><code>class MyClass {\n\n   // this is a constructor\n   MyClass() {...}\n\n   // this is an instance method\n   void MyClass() {...}\n\n }\n</code></pre>\n\n<p>Perfectly legal. Probably shouldn't be, but is.</p>\n\n<p>In your example, class1() is never getting called, because it's not a constructor. Instead, the default constructor is getting called.</p>\n\n<p>Suggestion: familiarize yourself with Java naming conventions. Class names should start with uppercase.</p>\n"},{"tags":[],"owner":{"account_id":23532878,"reputation":31,"user_id":17578231,"display_name":"louie anderson"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1656509322,"creation_date":1656027305,"answer_id":72737612,"question_id":24963718,"body_markdown":"The reason the constructor doesn&#39;t return a value is because it&#39;s not called directly by your code, it&#39;s called by the memory allocation and object initialization code in the run time.\r\n\r\nHere is an article explaining this in greater detail:\r\nhttps://www.quora.com/Why-is-the-return-type-of-constructor-not-void-while-the-return-type-of-a-function-can-be-void","title":"java &quot;void&quot; and &quot;non void&quot; constructor","body":"<p>The reason the constructor doesn't return a value is because it's not called directly by your code, it's called by the memory allocation and object initialization code in the run time.</p>\n<p>Here is an article explaining this in greater detail:\n<a href=\"https://www.quora.com/Why-is-the-return-type-of-constructor-not-void-while-the-return-type-of-a-function-can-be-void\" rel=\"nofollow noreferrer\">https://www.quora.com/Why-is-the-return-type-of-constructor-not-void-while-the-return-type-of-a-function-can-be-void</a></p>\n"}],"owner":{"account_id":4801924,"reputation":1203,"user_id":3878321,"display_name":"Hadi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32151,"favorite_count":0,"down_vote_count":1,"up_vote_count":22,"accepted_answer_id":24963755,"answer_count":5,"score":21,"last_activity_date":1656509322,"creation_date":1406318943,"question_id":24963718,"body_markdown":"I wrote this simple class in java just for testing some of its features.\r\n\r\n    public class class1 {\r\n        public static Integer value=0;\r\n        public class1() {\r\n           da();\r\n        }\r\n        public int da() {\r\n            class1.value=class1.value+1;\r\n            return 5;\r\n        }\r\n        public static void main(String[] args) {\r\n           class1 h  = new class1();\r\n           class1 h2 = new class1();\r\n           System.out.println(class1.value);\r\n        }\r\n    }\r\n\r\nThe output is:\r\n\r\n&gt; 2\r\n\r\nBut in this code:\r\n\r\n    public class class1 {\r\n        public static Integer value=0;\r\n        public void class1() {\r\n            da();\r\n        }\r\n        public int da() {\r\n            class1.value=class1.value+1;\r\n            return 5;\r\n        }\r\n        public static void main(String[] args) {\r\n            class1 h  = new class1();\r\n            class1 h2 = new class1();\r\n            System.out.println(class1.value);\r\n        }\r\n    }\r\n\r\nThe output of this code is:\r\n\r\n&gt; 0\r\n\r\nSo why doesn&#39;t, when I use `void` in the constructor method declaration, the static field of the class doesn&#39;t change any more?","title":"java &quot;void&quot; and &quot;non void&quot; constructor","body":"<p>I wrote this simple class in java just for testing some of its features.</p>\n\n<pre><code>public class class1 {\n    public static Integer value=0;\n    public class1() {\n       da();\n    }\n    public int da() {\n        class1.value=class1.value+1;\n        return 5;\n    }\n    public static void main(String[] args) {\n       class1 h  = new class1();\n       class1 h2 = new class1();\n       System.out.println(class1.value);\n    }\n}\n</code></pre>\n\n<p>The output is:</p>\n\n<blockquote>\n  <p>2</p>\n</blockquote>\n\n<p>But in this code:</p>\n\n<pre><code>public class class1 {\n    public static Integer value=0;\n    public void class1() {\n        da();\n    }\n    public int da() {\n        class1.value=class1.value+1;\n        return 5;\n    }\n    public static void main(String[] args) {\n        class1 h  = new class1();\n        class1 h2 = new class1();\n        System.out.println(class1.value);\n    }\n}\n</code></pre>\n\n<p>The output of this code is:</p>\n\n<blockquote>\n  <p>0</p>\n</blockquote>\n\n<p>So why doesn't, when I use <code>void</code> in the constructor method declaration, the static field of the class doesn't change any more?</p>\n"},{"tags":["java","spring","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":3498606,"reputation":5166,"user_id":2925962,"accept_rate":0,"display_name":"akortex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656367168,"creation_date":1656367168,"answer_id":72778722,"question_id":72773624,"body_markdown":"It&#39;s not entirely clear what you want to achieve based on the description you have provided but if I get this right, you would like to create a repository when that will effectively update the value of the `isValid` field for all `Dom` objects. If that is indeed the case then you could simply create a custom repository method that will accept your flag and will make use of a simple HQL or JPQL to update all records in the database. For example something like this could work for this case:\r\n\r\n```java\r\n@Modifying\r\n@Query(&quot;UPDATE Dom SET isValid = :valid&quot;)\r\nvoid updateValidAll(boolean valid);\r\n```\r\n\r\nIf on the other hand you want to perform the update in memory on the fetched entities and then perform a `saveAll` you could do something like this:\r\n\r\n```java\r\n@Transactional\r\npublic void updateAllRecords2(boolean isValid) {\r\n    var records = repository.findAll()\r\n        .stream()\r\n\t    .peek(dom -&gt; dom.setValid(isValid))\r\n\t    .toList();\r\n    repository.saveAll(records);\r\n}\r\n```\r\n\r\nNote that the latter is not very optimal as it uses `peek` which should not be used on operations that have side-effects (i.e mutations). On top of that will will perform an update query for every single entity that is present, meaning N queries for N entities.","title":"How created multi update query with JPA data?","body":"<p>It's not entirely clear what you want to achieve based on the description you have provided but if I get this right, you would like to create a repository when that will effectively update the value of the <code>isValid</code> field for all <code>Dom</code> objects. If that is indeed the case then you could simply create a custom repository method that will accept your flag and will make use of a simple HQL or JPQL to update all records in the database. For example something like this could work for this case:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Modifying\n@Query(&quot;UPDATE Dom SET isValid = :valid&quot;)\nvoid updateValidAll(boolean valid);\n</code></pre>\n<p>If on the other hand you want to perform the update in memory on the fetched entities and then perform a <code>saveAll</code> you could do something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Transactional\npublic void updateAllRecords2(boolean isValid) {\n    var records = repository.findAll()\n        .stream()\n        .peek(dom -&gt; dom.setValid(isValid))\n        .toList();\n    repository.saveAll(records);\n}\n</code></pre>\n<p>Note that the latter is not very optimal as it uses <code>peek</code> which should not be used on operations that have side-effects (i.e mutations). On top of that will will perform an update query for every single entity that is present, meaning N queries for N entities.</p>\n"}],"owner":{"account_id":20222092,"reputation":109,"user_id":14831240,"display_name":"kiki keke"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656509283,"creation_date":1656339501,"question_id":72773624,"body_markdown":"I try to create query setAll , because a entity with top isValid and I want  all value to false before I use saveAll for udpade my database. I use this methods synchronize my database with a batch 6000-7000 lines actually.\r\n\r\n``````java\r\nimport org.springframework.data.repository.CrudRepository;\r\npublic interface  DomRepository extends CrudRepository&lt;Dom, String&gt; {\r\n\r\n\tpublic Domaine findDomByName(String dom);\r\n\tpublic List&lt;Dom&gt; findAll();\r\n\tpublic void setIsValidAll(boolean isValid);\r\n\r\n}\r\nimport javax.persistence.*;\r\nimport org.hibernate.annotations.DynamicUpdate;\r\nimport org.springframework.data.annotation.CreatedDate;\r\n@Entity\r\n@DynamicUpdate\r\npublic class Dom{\r\n\t\r\n\t@Id\r\n\t@GeneratedValue(strategy=GenerationType.AUTO)\r\n\tprivate int id;\r\n\tprivate String name;\r\n\t// more attribute\r\n\tprivate boolean isValid;\r\n``````\r\n``````\r\nCaused by: org.springframework.data.mapping.PropertyReferenceException: No property &#39;setIsValidAll&#39; found for type &#39;Dom&#39;!\r\n``````","title":"How created multi update query with JPA data?","body":"<p>I try to create query setAll , because a entity with top isValid and I want  all value to false before I use saveAll for udpade my database. I use this methods synchronize my database with a batch 6000-7000 lines actually.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.data.repository.CrudRepository;\npublic interface  DomRepository extends CrudRepository&lt;Dom, String&gt; {\n\n    public Domaine findDomByName(String dom);\n    public List&lt;Dom&gt; findAll();\n    public void setIsValidAll(boolean isValid);\n\n}\nimport javax.persistence.*;\nimport org.hibernate.annotations.DynamicUpdate;\nimport org.springframework.data.annotation.CreatedDate;\n@Entity\n@DynamicUpdate\npublic class Dom{\n    \n    @Id\n    @GeneratedValue(strategy=GenerationType.AUTO)\n    private int id;\n    private String name;\n    // more attribute\n    private boolean isValid;\n</code></pre>\n<pre><code>Caused by: org.springframework.data.mapping.PropertyReferenceException: No property 'setIsValidAll' found for type 'Dom'!\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1656460941,"post_id":72794354,"comment_id":128576683,"body_markdown":"You create a blank buffered image `resizedImage`, then you write a blank `ByteArrayOutputStream` to it `ImageIO.write(resizedImage, &quot;jpg&quot;,baos);`, so you get the default black image with no content. Make sure you write an actual image. See duplicate question: [BufferedImage displaying as only black](https://stackoverflow.com/questions/27660366/bufferedimage-displaying-as-only-black)","body":"You create a blank buffered image <code>resizedImage</code>, then you write a blank <code>ByteArrayOutputStream</code> to it <code>ImageIO.write(resizedImage, &quot;jpg&quot;,baos);</code>, so you get the default black image with no content. Make sure you write an actual image. See duplicate question: <a href=\"https://stackoverflow.com/questions/27660366/bufferedimage-displaying-as-only-black\">BufferedImage displaying as only black</a>"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1656462185,"post_id":72794354,"comment_id":128576864,"body_markdown":"Personally, I&#39;d just make  use of the `Graphics2D` API - for [example](https://stackoverflow.com/questions/37758061/rotate-a-buffered-image-in-java/37758533#37758533)","body":"Personally, I&#39;d just make  use of the <code>Graphics2D</code> API - for <a href=\"https://stackoverflow.com/questions/37758061/rotate-a-buffered-image-in-java/37758533#37758533\">example</a>"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1656512522,"post_id":72794354,"comment_id":128591703,"body_markdown":"When you rotate around (0,0) corner, data tends to be outside the image. Further note that there is no point in setting rendering hints *after* you performed the operation, not to speak of setting them after dispose(). Btw transforming a `BufferedImage` into another can be a one-liner when using [`AffineTransformOp`](https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/awt/image/AffineTransformOp.html) and [`getQuadrantRotateInstance`](https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/awt/geom/AffineTransform.html#getQuadrantRotateInstance(int,double,double))","body":"When you rotate around (0,0) corner, data tends to be outside the image. Further note that there is no point in setting rendering hints <i>after</i> you performed the operation, not to speak of setting them after dispose(). Btw transforming a <code>BufferedImage</code> into another can be a one-liner when using <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/awt/image/AffineTransformOp.html\" rel=\"nofollow noreferrer\"><code>AffineTransformOp</code></a> and <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/awt/geom/AffineTransform.html#getQuadrantRotateInstance(int,double,double)\" rel=\"nofollow noreferrer\"><code>getQuadrantRotateInstance</code></a>"}],"owner":{"account_id":25334822,"reputation":101,"user_id":19154125,"display_name":"mobiw"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":342,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1656509231,"creation_date":1656460720,"question_id":72794354,"body_markdown":"When i rotate BufferedImage i get black image.\r\n\r\nI need rectangle image, and rotate image if image has EXIF data about orientation(https://stackoverflow.com/questions/15978809/imageio-read-always-rotates-my-uploaded-picture/29319713#29319713)\r\nBut when i rotate image it became black\r\nIf I don&#39;t rotate the image everything works.\r\n\r\n       public static byte[]  compress(byte[] img) throws IOException, ImageProcessingException, MetadataException {\r\n    \r\n    \r\n           ByteArrayOutputStream rescale = rescale(img);\r\n    \r\n    \r\n           return rescale.toByteArray();\r\n    \r\n       }\r\n    \r\n       private static Double getOrientation(InputStream inputstream) throws ImageProcessingException, IOException, MetadataException {\r\n           Metadata metadata = ImageMetadataReader.readMetadata(inputstream);\r\n    \r\n           ExifIFD0Directory exifIFD0 = metadata.getDirectory(ExifIFD0Directory.class);\r\n           int orientation = exifIFD0.getInt(ExifIFD0Directory.TAG_ORIENTATION);\r\n    \r\n           switch (orientation) {\r\n               case 1: // [Exif IFD0] Orientation - Top, left side (Horizontal / normal)\r\n                   return null;\r\n               case 6: // [Exif IFD0] Orientation - Right side, top (Rotate 90 CW)\r\n                   return 90d;\r\n               case 3: // [Exif IFD0] Orientation - Bottom, right side (Rotate 180)\r\n                   return 180d;\r\n               case 8: // [Exif IFD0] Orientation - Left side, bottom (Rotate 270 CW)\r\n                   return 270d;\r\n           }\r\n           return null;\r\n    \r\n       }\r\n        private static ByteArrayOutputStream rescale(byte[] img) throws IOException {\r\n    \r\n            InputStream inputstreamMeta = new ByteArrayInputStream(img);\r\n            InputStream inputstream = new ByteArrayInputStream(img);\r\n    \r\n            Double orientation1 = null;\r\n            try {\r\n                orientation1 = getOrientation(inputstreamMeta);\r\n            } catch (ImageProcessingException | MetadataException | IOException e) {\r\n    \r\n            }\r\n            BufferedImage bi = ImageIO.read(inputstream);\r\n    \r\n            ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n            \r\n            int originalWidth = 0;\r\n            int originalHeight = 0;\r\n            if(orientation1!=null &amp;&amp; (orientation1 == 90 || orientation1 == 270)) {\r\n                originalWidth = bi.getHeight();\r\n                originalHeight = bi.getWidth();\r\n            }else {\r\n                 originalWidth = bi.getWidth();\r\n                 originalHeight = bi.getHeight();\r\n            }\r\n            int type = bi.getType() == 0? BufferedImage.TYPE_INT_ARGB : bi.getType();\r\n    \r\n            //rescale 50%\r\n            BufferedImage resizedImage = new BufferedImage(originalWidth/4, originalHeight/4, type);\r\n            Graphics2D g = resizedImage.createGraphics();\r\n    \r\n              if(orientation1!=null) {\r\n                g.rotate(orientation1);\r\n            }\r\n            g.drawImage(bi, 0, 0, originalWidth/4, originalHeight/4, null);\r\n          \r\n            g.dispose();\r\n            g.setComposite(AlphaComposite.Src);\r\n            g.setRenderingHint(RenderingHints.KEY_INTERPOLATION,RenderingHints.VALUE_INTERPOLATION_BILINEAR);\r\n            g.setRenderingHint(RenderingHints.KEY_RENDERING,RenderingHints.VALUE_RENDER_QUALITY);\r\n            g.setRenderingHint(RenderingHints.KEY_ANTIALIASING,RenderingHints.VALUE_ANTIALIAS_ON);\r\n    \r\n    \r\n    \r\n    \r\n            ImageIO.write(resizedImage, &quot;jpg&quot;,baos);\r\n    \r\n            return baos;\r\n        }\r\n\r\noriginal image:\r\n\r\n[enter image description here][1]\r\n\r\n\r\nafter rorate and rectangle\r\n[enter image description here][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KwwfG.jpg\r\n  [2]: https://i.stack.imgur.com/zoNnx.jpg","title":"BufferedImage rotate","body":"<p>When i rotate BufferedImage i get black image.</p>\n<p>I need rectangle image, and rotate image if image has EXIF data about orientation(<a href=\"https://stackoverflow.com/questions/15978809/imageio-read-always-rotates-my-uploaded-picture/29319713#29319713\">ImageIO.read( ) always rotates my uploaded picture</a>)\nBut when i rotate image it became black\nIf I don't rotate the image everything works.</p>\n<pre><code>   public static byte[]  compress(byte[] img) throws IOException, ImageProcessingException, MetadataException {\n\n\n       ByteArrayOutputStream rescale = rescale(img);\n\n\n       return rescale.toByteArray();\n\n   }\n\n   private static Double getOrientation(InputStream inputstream) throws ImageProcessingException, IOException, MetadataException {\n       Metadata metadata = ImageMetadataReader.readMetadata(inputstream);\n\n       ExifIFD0Directory exifIFD0 = metadata.getDirectory(ExifIFD0Directory.class);\n       int orientation = exifIFD0.getInt(ExifIFD0Directory.TAG_ORIENTATION);\n\n       switch (orientation) {\n           case 1: // [Exif IFD0] Orientation - Top, left side (Horizontal / normal)\n               return null;\n           case 6: // [Exif IFD0] Orientation - Right side, top (Rotate 90 CW)\n               return 90d;\n           case 3: // [Exif IFD0] Orientation - Bottom, right side (Rotate 180)\n               return 180d;\n           case 8: // [Exif IFD0] Orientation - Left side, bottom (Rotate 270 CW)\n               return 270d;\n       }\n       return null;\n\n   }\n    private static ByteArrayOutputStream rescale(byte[] img) throws IOException {\n\n        InputStream inputstreamMeta = new ByteArrayInputStream(img);\n        InputStream inputstream = new ByteArrayInputStream(img);\n\n        Double orientation1 = null;\n        try {\n            orientation1 = getOrientation(inputstreamMeta);\n        } catch (ImageProcessingException | MetadataException | IOException e) {\n\n        }\n        BufferedImage bi = ImageIO.read(inputstream);\n\n        ByteArrayOutputStream baos = new ByteArrayOutputStream();\n        \n        int originalWidth = 0;\n        int originalHeight = 0;\n        if(orientation1!=null &amp;&amp; (orientation1 == 90 || orientation1 == 270)) {\n            originalWidth = bi.getHeight();\n            originalHeight = bi.getWidth();\n        }else {\n             originalWidth = bi.getWidth();\n             originalHeight = bi.getHeight();\n        }\n        int type = bi.getType() == 0? BufferedImage.TYPE_INT_ARGB : bi.getType();\n\n        //rescale 50%\n        BufferedImage resizedImage = new BufferedImage(originalWidth/4, originalHeight/4, type);\n        Graphics2D g = resizedImage.createGraphics();\n\n          if(orientation1!=null) {\n            g.rotate(orientation1);\n        }\n        g.drawImage(bi, 0, 0, originalWidth/4, originalHeight/4, null);\n      \n        g.dispose();\n        g.setComposite(AlphaComposite.Src);\n        g.setRenderingHint(RenderingHints.KEY_INTERPOLATION,RenderingHints.VALUE_INTERPOLATION_BILINEAR);\n        g.setRenderingHint(RenderingHints.KEY_RENDERING,RenderingHints.VALUE_RENDER_QUALITY);\n        g.setRenderingHint(RenderingHints.KEY_ANTIALIASING,RenderingHints.VALUE_ANTIALIAS_ON);\n\n\n\n\n        ImageIO.write(resizedImage, &quot;jpg&quot;,baos);\n\n        return baos;\n    }\n</code></pre>\n<p>original image:</p>\n<p><a href=\"https://i.stack.imgur.com/KwwfG.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>after rorate and rectangle\n<a href=\"https://i.stack.imgur.com/zoNnx.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","intellij-idea","junit","intellij-plugin"],"answers":[{"tags":[],"owner":{"account_id":2686602,"reputation":3815,"user_id":3008984,"display_name":"common sense"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656509198,"creation_date":1656509198,"answer_id":72802233,"question_id":72801970,"body_markdown":"Got it working by deleting the folder `build/classes` from root of my plugin folder. ","title":"JUnit error &quot;java.lang.NoClassDefFoundError:&quot;","body":"<p>Got it working by deleting the folder <code>build/classes</code> from root of my plugin folder.</p>\n"}],"owner":{"account_id":2686602,"reputation":3815,"user_id":3008984,"display_name":"common sense"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":529,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656509198,"creation_date":1656508146,"question_id":72801970,"body_markdown":"I encounter a weird issue with JUnit testing. I added a new rule to my BNF file which results in creation of a new token FOO. Running the plugin works fine and the token and element is shown in PSI View. However, when executing a UnitTest it fails with:\r\n\r\n```\r\nde/foo/bar/psi/impl/FooBarImpl\r\njava.lang.NoClassDefFoundError: de/foo/bar/psi/impl/FooBarImpl\r\n\tat de.foo.bar.psi.FooTypes$Factory.createElement(FooTypes.java:424)\r\n\tat de.foo.bar.parser.FooParserDefinition.createElement(FooParserDefinition.java:63)\r\n\tat com.intellij.psi.impl.source.tree.CompositeElement.createPsiNoLock(CompositeElement.java:705)\r\n\r\n...\r\n\r\nCaused by: java.lang.ClassNotFoundException: de.foo.bar.psi.impl.FooTinesImpl\r\n\tat com.intellij.util.lang.UrlClassLoader.findClass(UrlClassLoader.java:215)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:589)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\r\n\t... 40 more\r\n```\r\n\r\nThe class reported as not found is available.","title":"JUnit error &quot;java.lang.NoClassDefFoundError:&quot;","body":"<p>I encounter a weird issue with JUnit testing. I added a new rule to my BNF file which results in creation of a new token FOO. Running the plugin works fine and the token and element is shown in PSI View. However, when executing a UnitTest it fails with:</p>\n<pre><code>de/foo/bar/psi/impl/FooBarImpl\njava.lang.NoClassDefFoundError: de/foo/bar/psi/impl/FooBarImpl\n    at de.foo.bar.psi.FooTypes$Factory.createElement(FooTypes.java:424)\n    at de.foo.bar.parser.FooParserDefinition.createElement(FooParserDefinition.java:63)\n    at com.intellij.psi.impl.source.tree.CompositeElement.createPsiNoLock(CompositeElement.java:705)\n\n...\n\nCaused by: java.lang.ClassNotFoundException: de.foo.bar.psi.impl.FooTinesImpl\n    at com.intellij.util.lang.UrlClassLoader.findClass(UrlClassLoader.java:215)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:589)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\n    ... 40 more\n</code></pre>\n<p>The class reported as not found is available.</p>\n"},{"tags":["java","image","class"],"comments":[{"owner":{"account_id":1531514,"reputation":26639,"user_id":1428606,"accept_rate":71,"display_name":"Harald K"},"score":0,"creation_date":1656508272,"post_id":72799802,"comment_id":128589846,"body_markdown":"I might be missing a point here, but there is certainly no need for more classes... Either pass a parameter to the properties constructor if you choose to create a new one each time you show the window, or use an event to change the contents of the porperies window.  This seems very similar to classic master/detail.","body":"I might be missing a point here, but there is certainly no need for more classes... Either pass a parameter to the properties constructor if you choose to create a new one each time you show the window, or use an event to change the contents of the porperies window.  This seems very similar to classic master/detail."},{"owner":{"account_id":24924127,"reputation":27,"user_id":18792117,"display_name":"Alanzhou"},"score":0,"creation_date":1656512815,"post_id":72799802,"comment_id":128591848,"body_markdown":"@HaraldK Could you show me how to change the contents of the properties window?","body":"@HaraldK Could you show me how to change the contents of the properties window?"}],"answers":[{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656509004,"creation_date":1656509004,"answer_id":72802190,"question_id":72799802,"body_markdown":"You should only really need on Class for all your elements.\r\n\r\nNow, this is not an answer but merely a suggestion for perhaps a different approach (concept) on the task at hand and the best way to to describe it is to see it in action:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThis is actually from **www.britannica.com** and you can [play with it here](https://www.britannica.com/science/periodic-table). When the page displays, click on the small periodic table image so to Zoom the image. A panel is opened displaying a larger version of the periodic table and at the bottom is an Image Spinner. Scroll the image spinner to the very last image and click on it with your mouse pointer. An interactive periodic table will be displayed in the window. Now just move your mouse pointer over the periodic table elements and select the one you want to see the properties for.  This is basically how I would do this but, to each their own. I just thought I would pass it along.\r\n\r\nThe periodic table itself could be a JPanel consisting of 103 JLabels in a grid type layout with each having it&#39;s own element image and other JLabels for things like the title and legend data. Doll it up the way you like. The important part would be to create a global Mouse Listener to handle ***mouseEntered***, ***mouseExited*** (for border highlighting), and ***mouseClicked*** (to display properties) events for all element JLabels. This could perhaps even be an Inner Class, for example:\r\n\r\n    private class ElementsMouseHandler extends java.awt.event.MouseAdapter {\r\n        @Override\r\n        public void mouseClicked(java.awt.event.MouseEvent evt) {\r\n             // Do whatever you like here\r\n        }\r\n\r\n        @Override\r\n        public void mouseReleased(java.awt.event.MouseEvent evt) {\r\n             // Example:\r\n\r\n             // Ignore the right mouse button.\r\n             if (SwingUtilities.isRightMouseButton(evt)) {\r\n                return;\r\n            }\r\n            \r\n            /* Which JLabel fired the event. You can do this also in \r\n               the other events below.       */\r\n            javax.swing.JLabel source = (javax.swing.JLabel) evt.getSource();\r\n\r\n            // Get the name placed into the element JLabel&#39;s Name property\r\n            String elementName = source.getName();\r\n\r\n            /* Do whatever you want here like perhaps display another JPanel\r\n               in the window containing the properties information or the \r\n               image thereof related to the elementName retrieved.    */\r\n        }\r\n\r\n        @Override\r\n        public void mouseEntered(java.awt.event.MouseEvent evt) {\r\n            // Do whatever you like here\r\n        }\r\n\r\n        @Override\r\n        public void mouseExited(java.awt.event.MouseEvent evt) {\r\n            // Do whatever you like here\r\n        }\r\n    }\r\n\r\nThen when in the members area of your Main class you might have something like this: \r\n\r\n    ElementsMouseHandler elementsMouseHandler;\r\n\r\nThen just before you initialize all your element JLabels you could have something like this:\r\n\r\n    elementsMouseHandler = new ElementsMouseHandler();\r\n\r\nAnd when you actually initialize your elements JLabel you could do something like this:\r\n\r\n    elementJLabel[idx].addMouseListener(elementMouseHandler);\r\n\r\nNow the same mouse listener can handle the mouse events for all Elements JLabels. Anyways...food for thought.\r\n\r\n  [1]: https://i.stack.imgur.com/YCION.gif","title":"Is there any other way to display different images in a new JFrame, depending on the JRadioButton object clicked, without creating 100+classes?","body":"<p>You should only really need on Class for all your elements.</p>\n<p>Now, this is not an answer but merely a suggestion for perhaps a different approach (concept) on the task at hand and the best way to to describe it is to see it in action:</p>\n<p><a href=\"https://i.stack.imgur.com/YCION.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YCION.gif\" alt=\"enter image description here\" /></a></p>\n<p>This is actually from <strong><a href=\"http://www.britannica.com\" rel=\"nofollow noreferrer\">www.britannica.com</a></strong> and you can <a href=\"https://www.britannica.com/science/periodic-table\" rel=\"nofollow noreferrer\">play with it here</a>. When the page displays, click on the small periodic table image so to Zoom the image. A panel is opened displaying a larger version of the periodic table and at the bottom is an Image Spinner. Scroll the image spinner to the very last image and click on it with your mouse pointer. An interactive periodic table will be displayed in the window. Now just move your mouse pointer over the periodic table elements and select the one you want to see the properties for.  This is basically how I would do this but, to each their own. I just thought I would pass it along.</p>\n<p>The periodic table itself could be a JPanel consisting of 103 JLabels in a grid type layout with each having it's own element image and other JLabels for things like the title and legend data. Doll it up the way you like. The important part would be to create a global Mouse Listener to handle <em><strong>mouseEntered</strong></em>, <em><strong>mouseExited</strong></em> (for border highlighting), and <em><strong>mouseClicked</strong></em> (to display properties) events for all element JLabels. This could perhaps even be an Inner Class, for example:</p>\n<pre><code>private class ElementsMouseHandler extends java.awt.event.MouseAdapter {\n    @Override\n    public void mouseClicked(java.awt.event.MouseEvent evt) {\n         // Do whatever you like here\n    }\n\n    @Override\n    public void mouseReleased(java.awt.event.MouseEvent evt) {\n         // Example:\n\n         // Ignore the right mouse button.\n         if (SwingUtilities.isRightMouseButton(evt)) {\n            return;\n        }\n        \n        /* Which JLabel fired the event. You can do this also in \n           the other events below.       */\n        javax.swing.JLabel source = (javax.swing.JLabel) evt.getSource();\n\n        // Get the name placed into the element JLabel's Name property\n        String elementName = source.getName();\n\n        /* Do whatever you want here like perhaps display another JPanel\n           in the window containing the properties information or the \n           image thereof related to the elementName retrieved.    */\n    }\n\n    @Override\n    public void mouseEntered(java.awt.event.MouseEvent evt) {\n        // Do whatever you like here\n    }\n\n    @Override\n    public void mouseExited(java.awt.event.MouseEvent evt) {\n        // Do whatever you like here\n    }\n}\n</code></pre>\n<p>Then when in the members area of your Main class you might have something like this:</p>\n<pre><code>ElementsMouseHandler elementsMouseHandler;\n</code></pre>\n<p>Then just before you initialize all your element JLabels you could have something like this:</p>\n<pre><code>elementsMouseHandler = new ElementsMouseHandler();\n</code></pre>\n<p>And when you actually initialize your elements JLabel you could do something like this:</p>\n<pre><code>elementJLabel[idx].addMouseListener(elementMouseHandler);\n</code></pre>\n<p>Now the same mouse listener can handle the mouse events for all Elements JLabels. Anyways...food for thought.</p>\n"}],"owner":{"account_id":24924127,"reputation":27,"user_id":18792117,"display_name":"Alanzhou"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72802190,"answer_count":1,"score":0,"last_activity_date":1656509004,"creation_date":1656498363,"question_id":72799802,"body_markdown":"I created a Java program that is intended for the following purpose: upon clicking each JRadioButton object representing a chemical element in the periodic table, the corresponding screenshot represented by a JLabel object in a new JFrame would exhibit various properties of each chemical element in the periodic table. \r\n\r\nThe program has the public classes named PeriodicTable, AtomicNumber and Properties. PeriodicTable contains the main method and instantiates AtomicNumber. AtomicNumber is a JFrame displaying the periodic table, whereas Properties opens up a new JFrame for displaying the png image for properties. All chemical elements are represented by JRadioButton objects. Various properties of each chemical element in the periodic table is a screenshot that has been saved as a png image, instantiated with the JLabel ImageIcon method.\r\n\r\nAfter arranging all the chemical elements in the exact order as in the periodic table, I noticed that there is not enough space in the JFrame for adding the png files for properties. To resolve this issue, I created a new JFrame with the public class named Properties, in which only the png image of the first chemical element Hydrogen could be displayed. While resizing the png images for properties seems to be a feasible approach, the font would be too small to be legible as a result. \r\nIn order to display different png images for properties, depending on which JRadioButton object representing chemical element is clicked, I have tried to add and remove the png images within ActionEvent in the public class AtomicNumber, but to no avail.\r\n\r\nI have considered the possibility of creating more than 100 classes for displaying each window containing the corresponding png file of properties, but it seems to be too much of a hassle. Without creating 100+ classes, is there any other way to display each corresponding png file of properties upon clicking a JRadioButton object representing a chemical element? Thank you for the help.\r\n\r\n[![enter image description here][1]][1]\r\n[![enter image description here][2]][2]\r\n\r\nMy code is as follows:\r\n\r\n    //PeriodicTable.java\r\n    public class PeriodicTable {\r\n      public static void main(String[] args) {\r\n        new AtomicNumber();\r\n      }\r\n    }\r\n    ********************\r\n    //AtomicNumber.java\r\n        import java.awt.Color;\r\n        import java.awt.Dimension;\r\n        import java.awt.EventQueue;\r\n        import java.awt.event.ActionEvent;\r\n        import java.awt.event.ActionListener;\r\n        import java.awt.Font;\r\n        import javax.swing.ButtonGroup;\r\n        import javax.swing.ImageIcon;\r\n        import javax.swing.JButton;\r\n        import javax.swing.JFrame;\r\n        import javax.swing.JLabel;\r\n        import javax.swing.JOptionPane;\r\n        import javax.swing.JPanel;\r\n        import javax.swing.JRadioButton;\r\n        import javax.swing.JTextField;\r\n        import javax.swing.SwingConstants;\r\n        \r\n        public class AtomicNumber extends JFrame implements ActionListener {\r\n          private static final long serialVersionUID = 1L;\r\n          static ButtonGroup periodicTable;\r\n          ImageIcon[] elementImage;\r\n          ImageIcon periodicTableIcon;\r\n          static JButton[] button;\r\n          static JLabel[] properties;\r\n          static JPanel panel;\r\n          static JRadioButton[] element;\r\n          JTextField title;\r\n        \r\n      AtomicNumber() {\r\n        elementClip = new Clip[119];\r\n        propertiesClip = new Clip[119];\r\n        elementAudioFile = new File[119];\r\n        propertiesAudioFile = new File[119];\r\n        elementAudioFile[1] = new File(&quot;H.wav&quot;);\r\n    \r\n        elementImage = new ImageIcon[119];\r\n        properties = new JLabel[119];\r\n        button = new JButton[2];\r\n        button[0] = new JButton(&quot;reset&quot;);\r\n        button[0].setBounds(1000, 500, 200, 50);\r\n        button[1] = new JButton(&quot;restart&quot;);\r\n        button[1].setBounds(1000, 550, 200, 50);\r\n        for (int i = 0; i &lt; 2; i++) {\r\n          button[i].addActionListener(this);\r\n          button[i].setFocusable(false);\r\n          button[i].setFont(new Font(&quot;Times New Roman&quot;, Font.BOLD, 30));\r\n          button[i].setPreferredSize(new Dimension(240, 50));\r\n        }\r\n        title = new JTextField(&quot;The Periodic Table of the Chemical Elements&quot;);\r\n        title.setBounds(0, 0, 1080, 65);\r\n        title.setEditable(false);\r\n        title.setFont(new Font(&quot;Arial&quot;, Font.BOLD, 50));\r\n        element = new JRadioButton[119];\r\n        element[1] = new JRadioButton(&quot;1&quot;);\r\n        element[1].setBounds(50, 75, 50, 50);\r\n        elementImage[1] = new ImageIcon(getClass().getClassLoader().getResource(&quot;H.png&quot;));\r\n        properties[1] = new JLabel();\r\n        element[2] = new JRadioButton(&quot;2&quot;);\r\n        element[2].setBounds(925, 75, 50, 50);\r\n        elementImage[2] = new ImageIcon(getClass().getClassLoader().getResource(&quot;He.png&quot;));\r\n        properties[2] = new JLabel();\r\n        element[3] = new JRadioButton(&quot;3&quot;);\r\n        element[3].setBounds(50, 125, 50, 50);\r\n        elementImage[3] = new ImageIcon(getClass().getClassLoader().getResource(&quot;Li.png&quot;));\r\n        properties[3] = new JLabel();\r\n        element[4] = new JRadioButton(&quot;4&quot;);\r\n        element[4].setBounds(100, 125, 50, 50);\r\n        elementImage[4] = new ImageIcon(getClass().getClassLoader().getResource(&quot;Be.png&quot;));\r\n        properties[4] = new JLabel();\r\n        element[5] = new JRadioButton(&quot;5&quot;);\r\n        element[5].setBounds(675, 125, 50, 50);\r\n        elementImage[5] = new ImageIcon(getClass().getClassLoader().getResource(&quot;B.png&quot;));\r\n        properties[5] = new JLabel();\r\n        element[6] = new JRadioButton(&quot;6&quot;);\r\n        element[6].setBounds(725, 125, 50, 50);\r\n        elementImage[6] = new ImageIcon(getClass().getClassLoader().getResource(&quot;C.png&quot;));\r\n        properties[6] = new JLabel();\r\n        element[7] = new JRadioButton(&quot;7&quot;);\r\n        element[7].setBounds(775, 125, 50, 50);\r\n        elementImage[7] = new ImageIcon(getClass().getClassLoader().getResource(&quot;N.png&quot;));\r\n        properties[7] = new JLabel();\r\n        element[8] = new JRadioButton(&quot;8&quot;);\r\n        element[8].setBounds(825, 125, 50, 50);\r\n        elementImage[8] = new ImageIcon(getClass().getClassLoader().getResource(&quot;O.png&quot;));\r\n        properties[8] = new JLabel();\r\n        element[9] = new JRadioButton(&quot;9&quot;);\r\n        element[9].setBounds(875, 125, 50, 50);\r\n        elementImage[9] = new ImageIcon(getClass().getClassLoader().getResource(&quot;F.png&quot;));\r\n        properties[9] = new JLabel();\r\n        element[10] = new JRadioButton(&quot;10&quot;);\r\n        element[10].setBounds(925, 125, 50, 50);\r\n        elementImage[10] = new ImageIcon(getClass().getClassLoader().getResource(&quot;Ne.png&quot;));\r\n        properties[10] = new JLabel();\r\n        element[11] = new JRadioButton(&quot;11&quot;);\r\n        element[11].setBounds(50, 175, 50, 50);\r\n        elementImage[11] = new ImageIcon(getClass().getClassLoader().getResource(&quot;Na.png&quot;));\r\n        properties[11] = new JLabel();\r\n        element[12] = new JRadioButton(&quot;12&quot;);\r\n        element[12].setBounds(100, 175, 50, 50);\r\n        elementImage[12] = new ImageIcon(getClass().getClassLoader().getResource(&quot;Mg.png&quot;));\r\n        properties[12] = new JLabel();\r\n        element[13] = new JRadioButton(&quot;13&quot;);\r\n        element[13].setBounds(675, 175, 50, 50);\r\n        elementImage[13] = new ImageIcon(getClass().getClassLoader().getResource(&quot;Al.png&quot;));\r\n        properties[13] = new JLabel();\r\n        element[14] = new JRadioButton(&quot;14&quot;);\r\n        element[14].setBounds(725, 175, 50, 50);\r\n        elementImage[14] = new ImageIcon(getClass().getClassLoader().getResource(&quot;Si.png&quot;));\r\n        properties[14] = new JLabel();\r\n        element[15] = new JRadioButton(&quot;15&quot;);\r\n        element[15].setBounds(775, 175, 50, 50);\r\n        elementImage[15] = new ImageIcon(getClass().getClassLoader().getResource(&quot;P.png&quot;));\r\n        properties[15] = new JLabel();\r\n        element[16] = new JRadioButton(&quot;16&quot;);\r\n        element[16].setBounds(825, 175, 50, 50);\r\n        elementImage[16] = new ImageIcon(getClass().getClassLoader().getResource(&quot;S.png&quot;));\r\n        properties[16] = new JLabel();\r\n        element[17] = new JRadioButton(&quot;17&quot;);\r\n        element[17].setBounds(875, 175, 50, 50);\r\n        elementImage[17] = new ImageIcon(getClass().getClassLoader().getResource(&quot;Cl.png&quot;));\r\n        properties[17] = new JLabel();\r\n        element[18] = new JRadioButton(&quot;18&quot;);\r\n        element[18].setBounds(925, 175, 50, 50);\r\n        elementImage[18] = new ImageIcon(getClass().getClassLoader().getResource(&quot;Ar.png&quot;));\r\n        properties[18] = new JLabel();\r\n        element[19] = new JRadioButton(&quot;19&quot;);\r\n        element[19].setBounds(50, 225, 50, 50);\r\n        elementImage[19] = new ImageIcon(getClass().getClassLoader().getResource(&quot;K.png&quot;));\r\n        properties[19] = new JLabel();\r\n        element[20] = new JRadioButton(&quot;20&quot;);\r\n        element[20].setBounds(100, 225, 50, 50);\r\n        elementImage[20] = new ImageIcon(getClass().getClassLoader().getResource(&quot;Ca.png&quot;));\r\n        properties[20] = new JLabel();\r\n        element[21] = new JRadioButton(&quot;21&quot;);\r\n        element[21].setBounds(150, 225, 50, 50);\r\n        elementImage[21] = new ImageIcon(getClass().getClassLoader().getResource(&quot;Sc.png&quot;));\r\n        properties[21] = new JLabel();\r\n        element[22] = new JRadioButton(&quot;22&quot;);\r\n        element[22].setBounds(225, 225, 50, 50);\r\n        elementImage[22] = new ImageIcon(getClass().getClassLoader().getResource(&quot;Ti.png&quot;));\r\n        properties[22] = new JLabel();\r\n        element[23] = new JRadioButton(&quot;23&quot;);\r\n        element[23].setBounds(275, 225, 50, 50);\r\n        elementImage[23] = new ImageIcon(getClass().getClassLoader().getResource(&quot;V.png&quot;));\r\n        properties[23] = new JLabel();\r\n        element[24] = new JRadioButton(&quot;24&quot;);\r\n        element[24].setBounds(325, 225, 50, 50);\r\n        elementImage[24] = new ImageIcon(getClass().getClassLoader().getResource(&quot;Cr.png&quot;));\r\n        properties[24] = new JLabel();\r\n        element[25] = new JRadioButton(&quot;25&quot;);\r\n        element[25].setBounds(375, 225, 50, 50);\r\n        elementImage[25] = new ImageIcon(getClass().getClassLoader().getResource(&quot;Mn.png&quot;));\r\n        properties[25] = new JLabel();\r\n        element[26] = new JRadioButton(&quot;26&quot;);\r\n        element[26].setBounds(425, 225, 50, 50);\r\n        elementImage[26] = new ImageIcon(getClass().getClassLoader().getResource(&quot;Fe.png&quot;));\r\n        properties[26] = new JLabel();\r\n        element[27] = new JRadioButton(&quot;27&quot;);\r\n        element[27].setBounds(475, 225, 50, 50);\r\n        elementImage[27] = new ImageIcon(getClass().getClassLoader().getResource(&quot;Co.png&quot;));\r\n        properties[27] = new JLabel();\r\n        element[28] = new JRadioButton(&quot;28&quot;);\r\n        element[28].setBounds(525, 225, 50, 50);\r\n        elementImage[28] = new ImageIcon(getClass().getClassLoader().getResource(&quot;Ni.png&quot;));\r\n        properties[28] = new JLabel();\r\n        element[29] = new JRadioButton(&quot;29&quot;);\r\n        element[29].setBounds(575, 225, 50, 50);\r\n        elementImage[29] = new ImageIcon(getClass().getClassLoader().getResource(&quot;Cu.png&quot;));\r\n        properties[29] = new JLabel();\r\n        element[30] = new JRadioButton(&quot;30&quot;);\r\n        element[30].setBounds(625, 225, 50, 50);\r\n        elementImage[30] = new ImageIcon(getClass().getClassLoader().getResource(&quot;Zn.png&quot;));\r\n        properties[30] = new JLabel();\r\n        element[31] = new JRadioButton(&quot;31&quot;);\r\n        element[31].setBounds(675, 225, 50, 50);\r\n        elementImage[31] = new ImageIcon(getClass().getClassLoader().getResource(&quot;Ga.png&quot;));\r\n        properties[31] = new JLabel();\r\n        element[32] = new JRadioButton(&quot;32&quot;);\r\n        element[32].setBounds(725, 225, 50, 50);\r\n        elementImage[32] = new ImageIcon(getClass().getClassLoader().getResource(&quot;Ge.png&quot;));\r\n        properties[32] = new JLabel();\r\n        element[33] = new JRadioButton(&quot;33&quot;);\r\n        element[33].setBounds(775, 225, 50, 50);\r\n        elementImage[33] = new ImageIcon(getClass().getClassLoader().getResource(&quot;As.png&quot;));\r\n        properties[33] = new JLabel();\r\n        element[34] = new JRadioButton(&quot;34&quot;);\r\n        element[34].setBounds(825, 225, 50, 50);\r\n        elementImage[34] = new ImageIcon(getClass().getClassLoader().getResource(&quot;Se.png&quot;));\r\n        properties[34] = new JLabel();\r\n        element[35] = new JRadioButton(&quot;35&quot;);\r\n        element[35].setBounds(875, 225, 50, 50);\r\n        elementImage[35] = new ImageIcon(getClass().getClassLoader().getResource(&quot;Br.png&quot;));\r\n        properties[35] = new JLabel();\r\n        element[36] = new JRadioButton(&quot;36&quot;);\r\n        element[36].setBounds(925, 225, 50, 50);\r\n        elementImage[36] = new ImageIcon(getClass().getClassLoader().getResource(&quot;Kr.png&quot;));\r\n        properties[36] = new JLabel();\r\n        element[37] = new JRadioButton(&quot;37&quot;);\r\n        element[37].setBounds(50, 275, 50, 50);\r\n        elementImage[37] = new ImageIcon(getClass().getClassLoader().getResource(&quot;Rb.png&quot;));\r\n        properties[37] = new JLabel();\r\n        element[38] = new JRadioButton(&quot;38&quot;);\r\n        element[38].setBounds(100, 275, 50, 50);\r\n        elementImage[38] = new ImageIcon(getClass().getClassLoader().getResource(&quot;Sr.png&quot;));\r\n        properties[38] = new JLabel();\r\n        element[39] = new JRadioButton(&quot;39&quot;);\r\n        element[39].setBounds(150, 275, 50, 50);\r\n        elementImage[39] = new ImageIcon(getClass().getClassLoader().getResource(&quot;Y.png&quot;));\r\n        properties[39] = new JLabel();\r\n        element[40] = new JRadioButton(&quot;40&quot;);\r\n        element[40].setBounds(225, 275, 50, 50);\r\n        elementImage[40] = new ImageIcon(getClass().getClassLoader().getResource(&quot;Zr.png&quot;));\r\n        properties[40] = new JLabel();\r\n        element[41] = new JRadioButton(&quot;41&quot;);\r\n        element[41].setBounds(275, 275, 50, 50);\r\n        elementImage[41] = new ImageIcon(getClass().getClassLoader().getResource(&quot;Nb.png&quot;));\r\n        properties[41] = new JLabel();\r\n        element[42] = new JRadioButton(&quot;42&quot;);\r\n        element[42].setBounds(325, 275, 50, 50);\r\n        elementImage[42] = new ImageIcon(getClass().getClassLoader().getResource(&quot;Mo.png&quot;));\r\n        properties[42] = new JLabel();\r\n        element[43] = new JRadioButton(&quot;43&quot;);\r\n        element[43].setBounds(375, 275, 50, 50);\r\n        elementImage[43] = new ImageIcon(getClass().getClassLoader().getResource(&quot;Tc.png&quot;));\r\n        properties[43] = new JLabel();\r\n        element[44] = new JRadioButton(&quot;44&quot;);\r\n        element[44].setBounds(425, 275, 50, 50);\r\n        elementImage[44] = new ImageIcon(getClass().getClassLoader().getResource(&quot;Ru.png&quot;));\r\n        properties[44] = new JLabel();\r\n        element[45] = new JRadioButton(&quot;45&quot;);\r\n        element[45].setBounds(475, 275, 50, 50);\r\n        elementImage[45] = new ImageIcon(getClass().getClassLoader().getResource(&quot;Rh.png&quot;));\r\n        properties[45] = new JLabel();\r\n        element[46] = new JRadioButton(&quot;46&quot;);\r\n        element[46].setBounds(525, 275, 50, 50);\r\n        elementImage[46] = new ImageIcon(getClass().getClassLoader().getResource(&quot;Pd.png&quot;));\r\n        properties[46] = new JLabel();\r\n        element[47] = new JRadioButton(&quot;47&quot;);\r\n        element[47].setBounds(575, 275, 50, 50);\r\n        elementImage[47] = new ImageIcon(getClass().getClassLoader().getResource(&quot;Ag.png&quot;));\r\n        properties[47] = new JLabel();\r\n        element[48] = new JRadioButton(&quot;48&quot;);\r\n        element[48].setBounds(625, 275, 50, 50);\r\n        elementImage[48] = new ImageIcon(getClass().getClassLoader().getResource(&quot;Cd.png&quot;));\r\n        properties[48] = new JLabel();\r\n        element[49] = new JRadioButton(&quot;49&quot;);\r\n        element[49].setBounds(675, 275, 50, 50);\r\n        elementImage[49] = new ImageIcon(getClass().getClassLoader().getResource(&quot;In.png&quot;));\r\n        properties[49] = new JLabel();\r\n        element[50] = new JRadioButton(&quot;50&quot;);\r\n        element[50].setBounds(725, 275, 50, 50);\r\n        elementImage[50] = new ImageIcon(getClass().getClassLoader().getResource(&quot;Sn.png&quot;));\r\n        properties[50] = new JLabel();\r\n        element[51] = new JRadioButton(&quot;51&quot;);\r\n        element[51].setBounds(775, 275, 50, 50);\r\n        elementImage[51] = new ImageIcon(getClass().getClassLoader().getResource(&quot;Sb.png&quot;));\r\n        properties[51] = new JLabel();\r\n        element[52] = new JRadioButton(&quot;52&quot;);\r\n        element[52].setBounds(825, 275, 50, 50);\r\n        elementImage[52] = new ImageIcon(getClass().getClassLoader().getResource(&quot;Te.png&quot;));\r\n        properties[52] = new JLabel();\r\n        element[53] = new JRadioButton(&quot;53&quot;);\r\n        element[53].setBounds(875, 275, 50, 50);\r\n        elementImage[53] = new ImageIcon(getClass().getClassLoader().getResource(&quot;I.png&quot;));\r\n        properties[53] = new JLabel();\r\n        element[54] = new JRadioButton(&quot;54&quot;);\r\n        element[54].setBounds(925, 275, 50, 50);\r\n        elementImage[54] = new ImageIcon(getClass().getClassLoader().getResource(&quot;Xe.png&quot;));\r\n        properties[54] = new JLabel();\r\n        element[55] = new JRadioButton(&quot;55&quot;);\r\n        element[55].setBounds(50, 325, 50, 50);\r\n        elementImage[55] = new ImageIcon(getClass().getClassLoader().getResource(&quot;Cs.png&quot;));\r\n        properties[55] = new JLabel();\r\n        element[56] = new JRadioButton(&quot;56&quot;);\r\n        element[56].setBounds(100, 325, 50, 50);\r\n        elementImage[56] = new ImageIcon(getClass().getClassLoader().getResource(&quot;Ba.png&quot;));\r\n        properties[56] = new JLabel();\r\n        /*element[57]=new JRadioButton(&quot;57);\r\n        elementImage[57]=new ImageIcon(getClass().getClassLoader().getResource(&quot;La.png&quot;));\r\n        properties[57]=new JLabel();*/\r\n    \r\n        periodicTableIcon = new ImageIcon(getClass().getClassLoader().getResource(&quot;periodicTableIcon.png&quot;));\r\n        periodicTable = new ButtonGroup();\r\n        panel = new JPanel();\r\n        panel.add(title);\r\n        for (int i = 1; i &lt; 57; i++) {\r\n          element[i].addActionListener(this);\r\n          element[i].setFocusable(false);\r\n          element[i].setIcon(elementImage[i]);\r\n          element[i].setHorizontalTextPosition(SwingConstants.CENTER);\r\n          element[i].setVerticalTextPosition(SwingConstants.TOP);\r\n          periodicTable.add(element[i]);\r\n          panel.add(element[i]);\r\n          panel.add(properties[i]);\r\n        }\r\n        for (int i = 0; i &lt; 2; i++) {\r\n          panel.add(button[i]);\r\n        }\r\n        panel.setLayout(null);\r\n        panel.setOpaque(false);\r\n        this.add(panel);\r\n        this.getContentPane().setBackground(Color.WHITE);\r\n        this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        this.setIconImage(periodicTableIcon.getImage());\r\n        this.setSize(1500, 1500);\r\n        this.setTitle(&quot;The Periodic Table of the Chemical Elements&quot;);\r\n        this.setVisible(true);\r\n      }\r\n      public void actionPerformed(ActionEvent e) {\r\n          Properties Properties = new Properties();\r\n          for (int i = 1; i &lt; 119; i++) {\r\n            if (e.getSource() == button[0] &amp;&amp; element[i].isSelected()) {\r\n              periodicTable.clearSelection();\r\n            }\r\n          }\r\n          if (e.getSource() == button[1]) {\r\n            EventQueue.invokeLater(new Runnable() {\r\n              public void run() {\r\n                new AtomicNumber();\r\n                JOptionPane.showMessageDialog(null, &quot;Program has restarted.&quot;, &quot;Restart&quot;, JOptionPane.INFORMATION_MESSAGE);\r\n              }\r\n            });\r\n          }\r\n          if (element[1].isSelected()) {\r\n            new Properties().setVisible(true);}\r\n    ********************\r\n    //Properties.java\r\n    import javax.swing.ImageIcon;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    \r\n    public class Properties extends JFrame {\r\n    \r\n      private static final long serialVersionUID = 1L;\r\n    \r\n      JLabel[] properties;\r\n      JPanel propertiesPanel;\r\n      Properties() {\r\n        properties = new JLabel[119];\r\n        properties[0] = new JLabel(new ImageIcon(getClass().getClassLoader().getResource(&quot;H_properties.png&quot;)));\r\n    \r\n        propertiesPanel = new JPanel();\r\n        propertiesPanel.add(properties[0]);\r\n        this.add(propertiesPanel);\r\n        this.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\r\n        this.setResizable(false);\r\n        this.setSize(1250, 340);\r\n    \r\n      }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KW0pv.png\r\n  [2]: https://i.stack.imgur.com/H7PcY.png","title":"Is there any other way to display different images in a new JFrame, depending on the JRadioButton object clicked, without creating 100+classes?","body":"<p>I created a Java program that is intended for the following purpose: upon clicking each JRadioButton object representing a chemical element in the periodic table, the corresponding screenshot represented by a JLabel object in a new JFrame would exhibit various properties of each chemical element in the periodic table.</p>\n<p>The program has the public classes named PeriodicTable, AtomicNumber and Properties. PeriodicTable contains the main method and instantiates AtomicNumber. AtomicNumber is a JFrame displaying the periodic table, whereas Properties opens up a new JFrame for displaying the png image for properties. All chemical elements are represented by JRadioButton objects. Various properties of each chemical element in the periodic table is a screenshot that has been saved as a png image, instantiated with the JLabel ImageIcon method.</p>\n<p>After arranging all the chemical elements in the exact order as in the periodic table, I noticed that there is not enough space in the JFrame for adding the png files for properties. To resolve this issue, I created a new JFrame with the public class named Properties, in which only the png image of the first chemical element Hydrogen could be displayed. While resizing the png images for properties seems to be a feasible approach, the font would be too small to be legible as a result.\nIn order to display different png images for properties, depending on which JRadioButton object representing chemical element is clicked, I have tried to add and remove the png images within ActionEvent in the public class AtomicNumber, but to no avail.</p>\n<p>I have considered the possibility of creating more than 100 classes for displaying each window containing the corresponding png file of properties, but it seems to be too much of a hassle. Without creating 100+ classes, is there any other way to display each corresponding png file of properties upon clicking a JRadioButton object representing a chemical element? Thank you for the help.</p>\n<p><a href=\"https://i.stack.imgur.com/KW0pv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KW0pv.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/H7PcY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/H7PcY.png\" alt=\"enter image description here\" /></a></p>\n<p>My code is as follows:</p>\n<pre><code>//PeriodicTable.java\npublic class PeriodicTable {\n  public static void main(String[] args) {\n    new AtomicNumber();\n  }\n}\n********************\n//AtomicNumber.java\n    import java.awt.Color;\n    import java.awt.Dimension;\n    import java.awt.EventQueue;\n    import java.awt.event.ActionEvent;\n    import java.awt.event.ActionListener;\n    import java.awt.Font;\n    import javax.swing.ButtonGroup;\n    import javax.swing.ImageIcon;\n    import javax.swing.JButton;\n    import javax.swing.JFrame;\n    import javax.swing.JLabel;\n    import javax.swing.JOptionPane;\n    import javax.swing.JPanel;\n    import javax.swing.JRadioButton;\n    import javax.swing.JTextField;\n    import javax.swing.SwingConstants;\n    \n    public class AtomicNumber extends JFrame implements ActionListener {\n      private static final long serialVersionUID = 1L;\n      static ButtonGroup periodicTable;\n      ImageIcon[] elementImage;\n      ImageIcon periodicTableIcon;\n      static JButton[] button;\n      static JLabel[] properties;\n      static JPanel panel;\n      static JRadioButton[] element;\n      JTextField title;\n    \n  AtomicNumber() {\n    elementClip = new Clip[119];\n    propertiesClip = new Clip[119];\n    elementAudioFile = new File[119];\n    propertiesAudioFile = new File[119];\n    elementAudioFile[1] = new File(&quot;H.wav&quot;);\n\n    elementImage = new ImageIcon[119];\n    properties = new JLabel[119];\n    button = new JButton[2];\n    button[0] = new JButton(&quot;reset&quot;);\n    button[0].setBounds(1000, 500, 200, 50);\n    button[1] = new JButton(&quot;restart&quot;);\n    button[1].setBounds(1000, 550, 200, 50);\n    for (int i = 0; i &lt; 2; i++) {\n      button[i].addActionListener(this);\n      button[i].setFocusable(false);\n      button[i].setFont(new Font(&quot;Times New Roman&quot;, Font.BOLD, 30));\n      button[i].setPreferredSize(new Dimension(240, 50));\n    }\n    title = new JTextField(&quot;The Periodic Table of the Chemical Elements&quot;);\n    title.setBounds(0, 0, 1080, 65);\n    title.setEditable(false);\n    title.setFont(new Font(&quot;Arial&quot;, Font.BOLD, 50));\n    element = new JRadioButton[119];\n    element[1] = new JRadioButton(&quot;1&quot;);\n    element[1].setBounds(50, 75, 50, 50);\n    elementImage[1] = new ImageIcon(getClass().getClassLoader().getResource(&quot;H.png&quot;));\n    properties[1] = new JLabel();\n    element[2] = new JRadioButton(&quot;2&quot;);\n    element[2].setBounds(925, 75, 50, 50);\n    elementImage[2] = new ImageIcon(getClass().getClassLoader().getResource(&quot;He.png&quot;));\n    properties[2] = new JLabel();\n    element[3] = new JRadioButton(&quot;3&quot;);\n    element[3].setBounds(50, 125, 50, 50);\n    elementImage[3] = new ImageIcon(getClass().getClassLoader().getResource(&quot;Li.png&quot;));\n    properties[3] = new JLabel();\n    element[4] = new JRadioButton(&quot;4&quot;);\n    element[4].setBounds(100, 125, 50, 50);\n    elementImage[4] = new ImageIcon(getClass().getClassLoader().getResource(&quot;Be.png&quot;));\n    properties[4] = new JLabel();\n    element[5] = new JRadioButton(&quot;5&quot;);\n    element[5].setBounds(675, 125, 50, 50);\n    elementImage[5] = new ImageIcon(getClass().getClassLoader().getResource(&quot;B.png&quot;));\n    properties[5] = new JLabel();\n    element[6] = new JRadioButton(&quot;6&quot;);\n    element[6].setBounds(725, 125, 50, 50);\n    elementImage[6] = new ImageIcon(getClass().getClassLoader().getResource(&quot;C.png&quot;));\n    properties[6] = new JLabel();\n    element[7] = new JRadioButton(&quot;7&quot;);\n    element[7].setBounds(775, 125, 50, 50);\n    elementImage[7] = new ImageIcon(getClass().getClassLoader().getResource(&quot;N.png&quot;));\n    properties[7] = new JLabel();\n    element[8] = new JRadioButton(&quot;8&quot;);\n    element[8].setBounds(825, 125, 50, 50);\n    elementImage[8] = new ImageIcon(getClass().getClassLoader().getResource(&quot;O.png&quot;));\n    properties[8] = new JLabel();\n    element[9] = new JRadioButton(&quot;9&quot;);\n    element[9].setBounds(875, 125, 50, 50);\n    elementImage[9] = new ImageIcon(getClass().getClassLoader().getResource(&quot;F.png&quot;));\n    properties[9] = new JLabel();\n    element[10] = new JRadioButton(&quot;10&quot;);\n    element[10].setBounds(925, 125, 50, 50);\n    elementImage[10] = new ImageIcon(getClass().getClassLoader().getResource(&quot;Ne.png&quot;));\n    properties[10] = new JLabel();\n    element[11] = new JRadioButton(&quot;11&quot;);\n    element[11].setBounds(50, 175, 50, 50);\n    elementImage[11] = new ImageIcon(getClass().getClassLoader().getResource(&quot;Na.png&quot;));\n    properties[11] = new JLabel();\n    element[12] = new JRadioButton(&quot;12&quot;);\n    element[12].setBounds(100, 175, 50, 50);\n    elementImage[12] = new ImageIcon(getClass().getClassLoader().getResource(&quot;Mg.png&quot;));\n    properties[12] = new JLabel();\n    element[13] = new JRadioButton(&quot;13&quot;);\n    element[13].setBounds(675, 175, 50, 50);\n    elementImage[13] = new ImageIcon(getClass().getClassLoader().getResource(&quot;Al.png&quot;));\n    properties[13] = new JLabel();\n    element[14] = new JRadioButton(&quot;14&quot;);\n    element[14].setBounds(725, 175, 50, 50);\n    elementImage[14] = new ImageIcon(getClass().getClassLoader().getResource(&quot;Si.png&quot;));\n    properties[14] = new JLabel();\n    element[15] = new JRadioButton(&quot;15&quot;);\n    element[15].setBounds(775, 175, 50, 50);\n    elementImage[15] = new ImageIcon(getClass().getClassLoader().getResource(&quot;P.png&quot;));\n    properties[15] = new JLabel();\n    element[16] = new JRadioButton(&quot;16&quot;);\n    element[16].setBounds(825, 175, 50, 50);\n    elementImage[16] = new ImageIcon(getClass().getClassLoader().getResource(&quot;S.png&quot;));\n    properties[16] = new JLabel();\n    element[17] = new JRadioButton(&quot;17&quot;);\n    element[17].setBounds(875, 175, 50, 50);\n    elementImage[17] = new ImageIcon(getClass().getClassLoader().getResource(&quot;Cl.png&quot;));\n    properties[17] = new JLabel();\n    element[18] = new JRadioButton(&quot;18&quot;);\n    element[18].setBounds(925, 175, 50, 50);\n    elementImage[18] = new ImageIcon(getClass().getClassLoader().getResource(&quot;Ar.png&quot;));\n    properties[18] = new JLabel();\n    element[19] = new JRadioButton(&quot;19&quot;);\n    element[19].setBounds(50, 225, 50, 50);\n    elementImage[19] = new ImageIcon(getClass().getClassLoader().getResource(&quot;K.png&quot;));\n    properties[19] = new JLabel();\n    element[20] = new JRadioButton(&quot;20&quot;);\n    element[20].setBounds(100, 225, 50, 50);\n    elementImage[20] = new ImageIcon(getClass().getClassLoader().getResource(&quot;Ca.png&quot;));\n    properties[20] = new JLabel();\n    element[21] = new JRadioButton(&quot;21&quot;);\n    element[21].setBounds(150, 225, 50, 50);\n    elementImage[21] = new ImageIcon(getClass().getClassLoader().getResource(&quot;Sc.png&quot;));\n    properties[21] = new JLabel();\n    element[22] = new JRadioButton(&quot;22&quot;);\n    element[22].setBounds(225, 225, 50, 50);\n    elementImage[22] = new ImageIcon(getClass().getClassLoader().getResource(&quot;Ti.png&quot;));\n    properties[22] = new JLabel();\n    element[23] = new JRadioButton(&quot;23&quot;);\n    element[23].setBounds(275, 225, 50, 50);\n    elementImage[23] = new ImageIcon(getClass().getClassLoader().getResource(&quot;V.png&quot;));\n    properties[23] = new JLabel();\n    element[24] = new JRadioButton(&quot;24&quot;);\n    element[24].setBounds(325, 225, 50, 50);\n    elementImage[24] = new ImageIcon(getClass().getClassLoader().getResource(&quot;Cr.png&quot;));\n    properties[24] = new JLabel();\n    element[25] = new JRadioButton(&quot;25&quot;);\n    element[25].setBounds(375, 225, 50, 50);\n    elementImage[25] = new ImageIcon(getClass().getClassLoader().getResource(&quot;Mn.png&quot;));\n    properties[25] = new JLabel();\n    element[26] = new JRadioButton(&quot;26&quot;);\n    element[26].setBounds(425, 225, 50, 50);\n    elementImage[26] = new ImageIcon(getClass().getClassLoader().getResource(&quot;Fe.png&quot;));\n    properties[26] = new JLabel();\n    element[27] = new JRadioButton(&quot;27&quot;);\n    element[27].setBounds(475, 225, 50, 50);\n    elementImage[27] = new ImageIcon(getClass().getClassLoader().getResource(&quot;Co.png&quot;));\n    properties[27] = new JLabel();\n    element[28] = new JRadioButton(&quot;28&quot;);\n    element[28].setBounds(525, 225, 50, 50);\n    elementImage[28] = new ImageIcon(getClass().getClassLoader().getResource(&quot;Ni.png&quot;));\n    properties[28] = new JLabel();\n    element[29] = new JRadioButton(&quot;29&quot;);\n    element[29].setBounds(575, 225, 50, 50);\n    elementImage[29] = new ImageIcon(getClass().getClassLoader().getResource(&quot;Cu.png&quot;));\n    properties[29] = new JLabel();\n    element[30] = new JRadioButton(&quot;30&quot;);\n    element[30].setBounds(625, 225, 50, 50);\n    elementImage[30] = new ImageIcon(getClass().getClassLoader().getResource(&quot;Zn.png&quot;));\n    properties[30] = new JLabel();\n    element[31] = new JRadioButton(&quot;31&quot;);\n    element[31].setBounds(675, 225, 50, 50);\n    elementImage[31] = new ImageIcon(getClass().getClassLoader().getResource(&quot;Ga.png&quot;));\n    properties[31] = new JLabel();\n    element[32] = new JRadioButton(&quot;32&quot;);\n    element[32].setBounds(725, 225, 50, 50);\n    elementImage[32] = new ImageIcon(getClass().getClassLoader().getResource(&quot;Ge.png&quot;));\n    properties[32] = new JLabel();\n    element[33] = new JRadioButton(&quot;33&quot;);\n    element[33].setBounds(775, 225, 50, 50);\n    elementImage[33] = new ImageIcon(getClass().getClassLoader().getResource(&quot;As.png&quot;));\n    properties[33] = new JLabel();\n    element[34] = new JRadioButton(&quot;34&quot;);\n    element[34].setBounds(825, 225, 50, 50);\n    elementImage[34] = new ImageIcon(getClass().getClassLoader().getResource(&quot;Se.png&quot;));\n    properties[34] = new JLabel();\n    element[35] = new JRadioButton(&quot;35&quot;);\n    element[35].setBounds(875, 225, 50, 50);\n    elementImage[35] = new ImageIcon(getClass().getClassLoader().getResource(&quot;Br.png&quot;));\n    properties[35] = new JLabel();\n    element[36] = new JRadioButton(&quot;36&quot;);\n    element[36].setBounds(925, 225, 50, 50);\n    elementImage[36] = new ImageIcon(getClass().getClassLoader().getResource(&quot;Kr.png&quot;));\n    properties[36] = new JLabel();\n    element[37] = new JRadioButton(&quot;37&quot;);\n    element[37].setBounds(50, 275, 50, 50);\n    elementImage[37] = new ImageIcon(getClass().getClassLoader().getResource(&quot;Rb.png&quot;));\n    properties[37] = new JLabel();\n    element[38] = new JRadioButton(&quot;38&quot;);\n    element[38].setBounds(100, 275, 50, 50);\n    elementImage[38] = new ImageIcon(getClass().getClassLoader().getResource(&quot;Sr.png&quot;));\n    properties[38] = new JLabel();\n    element[39] = new JRadioButton(&quot;39&quot;);\n    element[39].setBounds(150, 275, 50, 50);\n    elementImage[39] = new ImageIcon(getClass().getClassLoader().getResource(&quot;Y.png&quot;));\n    properties[39] = new JLabel();\n    element[40] = new JRadioButton(&quot;40&quot;);\n    element[40].setBounds(225, 275, 50, 50);\n    elementImage[40] = new ImageIcon(getClass().getClassLoader().getResource(&quot;Zr.png&quot;));\n    properties[40] = new JLabel();\n    element[41] = new JRadioButton(&quot;41&quot;);\n    element[41].setBounds(275, 275, 50, 50);\n    elementImage[41] = new ImageIcon(getClass().getClassLoader().getResource(&quot;Nb.png&quot;));\n    properties[41] = new JLabel();\n    element[42] = new JRadioButton(&quot;42&quot;);\n    element[42].setBounds(325, 275, 50, 50);\n    elementImage[42] = new ImageIcon(getClass().getClassLoader().getResource(&quot;Mo.png&quot;));\n    properties[42] = new JLabel();\n    element[43] = new JRadioButton(&quot;43&quot;);\n    element[43].setBounds(375, 275, 50, 50);\n    elementImage[43] = new ImageIcon(getClass().getClassLoader().getResource(&quot;Tc.png&quot;));\n    properties[43] = new JLabel();\n    element[44] = new JRadioButton(&quot;44&quot;);\n    element[44].setBounds(425, 275, 50, 50);\n    elementImage[44] = new ImageIcon(getClass().getClassLoader().getResource(&quot;Ru.png&quot;));\n    properties[44] = new JLabel();\n    element[45] = new JRadioButton(&quot;45&quot;);\n    element[45].setBounds(475, 275, 50, 50);\n    elementImage[45] = new ImageIcon(getClass().getClassLoader().getResource(&quot;Rh.png&quot;));\n    properties[45] = new JLabel();\n    element[46] = new JRadioButton(&quot;46&quot;);\n    element[46].setBounds(525, 275, 50, 50);\n    elementImage[46] = new ImageIcon(getClass().getClassLoader().getResource(&quot;Pd.png&quot;));\n    properties[46] = new JLabel();\n    element[47] = new JRadioButton(&quot;47&quot;);\n    element[47].setBounds(575, 275, 50, 50);\n    elementImage[47] = new ImageIcon(getClass().getClassLoader().getResource(&quot;Ag.png&quot;));\n    properties[47] = new JLabel();\n    element[48] = new JRadioButton(&quot;48&quot;);\n    element[48].setBounds(625, 275, 50, 50);\n    elementImage[48] = new ImageIcon(getClass().getClassLoader().getResource(&quot;Cd.png&quot;));\n    properties[48] = new JLabel();\n    element[49] = new JRadioButton(&quot;49&quot;);\n    element[49].setBounds(675, 275, 50, 50);\n    elementImage[49] = new ImageIcon(getClass().getClassLoader().getResource(&quot;In.png&quot;));\n    properties[49] = new JLabel();\n    element[50] = new JRadioButton(&quot;50&quot;);\n    element[50].setBounds(725, 275, 50, 50);\n    elementImage[50] = new ImageIcon(getClass().getClassLoader().getResource(&quot;Sn.png&quot;));\n    properties[50] = new JLabel();\n    element[51] = new JRadioButton(&quot;51&quot;);\n    element[51].setBounds(775, 275, 50, 50);\n    elementImage[51] = new ImageIcon(getClass().getClassLoader().getResource(&quot;Sb.png&quot;));\n    properties[51] = new JLabel();\n    element[52] = new JRadioButton(&quot;52&quot;);\n    element[52].setBounds(825, 275, 50, 50);\n    elementImage[52] = new ImageIcon(getClass().getClassLoader().getResource(&quot;Te.png&quot;));\n    properties[52] = new JLabel();\n    element[53] = new JRadioButton(&quot;53&quot;);\n    element[53].setBounds(875, 275, 50, 50);\n    elementImage[53] = new ImageIcon(getClass().getClassLoader().getResource(&quot;I.png&quot;));\n    properties[53] = new JLabel();\n    element[54] = new JRadioButton(&quot;54&quot;);\n    element[54].setBounds(925, 275, 50, 50);\n    elementImage[54] = new ImageIcon(getClass().getClassLoader().getResource(&quot;Xe.png&quot;));\n    properties[54] = new JLabel();\n    element[55] = new JRadioButton(&quot;55&quot;);\n    element[55].setBounds(50, 325, 50, 50);\n    elementImage[55] = new ImageIcon(getClass().getClassLoader().getResource(&quot;Cs.png&quot;));\n    properties[55] = new JLabel();\n    element[56] = new JRadioButton(&quot;56&quot;);\n    element[56].setBounds(100, 325, 50, 50);\n    elementImage[56] = new ImageIcon(getClass().getClassLoader().getResource(&quot;Ba.png&quot;));\n    properties[56] = new JLabel();\n    /*element[57]=new JRadioButton(&quot;57);\n    elementImage[57]=new ImageIcon(getClass().getClassLoader().getResource(&quot;La.png&quot;));\n    properties[57]=new JLabel();*/\n\n    periodicTableIcon = new ImageIcon(getClass().getClassLoader().getResource(&quot;periodicTableIcon.png&quot;));\n    periodicTable = new ButtonGroup();\n    panel = new JPanel();\n    panel.add(title);\n    for (int i = 1; i &lt; 57; i++) {\n      element[i].addActionListener(this);\n      element[i].setFocusable(false);\n      element[i].setIcon(elementImage[i]);\n      element[i].setHorizontalTextPosition(SwingConstants.CENTER);\n      element[i].setVerticalTextPosition(SwingConstants.TOP);\n      periodicTable.add(element[i]);\n      panel.add(element[i]);\n      panel.add(properties[i]);\n    }\n    for (int i = 0; i &lt; 2; i++) {\n      panel.add(button[i]);\n    }\n    panel.setLayout(null);\n    panel.setOpaque(false);\n    this.add(panel);\n    this.getContentPane().setBackground(Color.WHITE);\n    this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    this.setIconImage(periodicTableIcon.getImage());\n    this.setSize(1500, 1500);\n    this.setTitle(&quot;The Periodic Table of the Chemical Elements&quot;);\n    this.setVisible(true);\n  }\n  public void actionPerformed(ActionEvent e) {\n      Properties Properties = new Properties();\n      for (int i = 1; i &lt; 119; i++) {\n        if (e.getSource() == button[0] &amp;&amp; element[i].isSelected()) {\n          periodicTable.clearSelection();\n        }\n      }\n      if (e.getSource() == button[1]) {\n        EventQueue.invokeLater(new Runnable() {\n          public void run() {\n            new AtomicNumber();\n            JOptionPane.showMessageDialog(null, &quot;Program has restarted.&quot;, &quot;Restart&quot;, JOptionPane.INFORMATION_MESSAGE);\n          }\n        });\n      }\n      if (element[1].isSelected()) {\n        new Properties().setVisible(true);}\n********************\n//Properties.java\nimport javax.swing.ImageIcon;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\n\npublic class Properties extends JFrame {\n\n  private static final long serialVersionUID = 1L;\n\n  JLabel[] properties;\n  JPanel propertiesPanel;\n  Properties() {\n    properties = new JLabel[119];\n    properties[0] = new JLabel(new ImageIcon(getClass().getClassLoader().getResource(&quot;H_properties.png&quot;)));\n\n    propertiesPanel = new JPanel();\n    propertiesPanel.add(properties[0]);\n    this.add(propertiesPanel);\n    this.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\n    this.setResizable(false);\n    this.setSize(1250, 340);\n\n  }\n}\n</code></pre>\n"},{"tags":["java","selenium","loops","selenium-webdriver","automation"],"comments":[{"owner":{"account_id":24379947,"reputation":303,"user_id":18311683,"display_name":"Josh Heaps"},"score":0,"creation_date":1656523643,"post_id":72802166,"comment_id":128596234,"body_markdown":"Can you show us your code?","body":"Can you show us your code?"},{"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"score":0,"creation_date":1656580832,"post_id":72802166,"comment_id":128609723,"body_markdown":"And what is the issue?","body":"And what is the issue?"}],"owner":{"account_id":17743157,"reputation":13,"user_id":12882983,"display_name":"usha sree"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1656508890,"creation_date":1656508890,"question_id":72802166,"body_markdown":"Need help in Automation - How to write Automation code for below,\r\n\r\n**One of the website consists many travelers.  It can be just one, 2 or 3**\r\n\r\n[![enter image description here][1]][1]\r\n\r\nIt should check People Insured \r\n\r\n\tif (condition1) {\r\n\t\t  // block of code to be executed if condition1 is true\r\n\t\t} else if (condition2) {\r\n\t\t  // block of code to be executed if the condition1 is false and condition2 is true\r\n\t\t} else {\r\n\t\t  // block of code to be executed if the condition1 is false and condition2 is false\r\n\t\t}\r\n\r\n\r\nCondition 1 = if People Insured consists only 1 traveler,\r\nCondition 2 = if People Insured consists 2 travelers\r\nand so on..\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\nlike that, it should check with names...  doesn&#39;t matter with title or names..\r\n\r\nIt should check no. of lists tag and proceed with that code..\r\n\r\n\r\nThank you\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/MoOhk.png\r\n  [2]: https://i.stack.imgur.com/0Zuuu.png","title":"Need Logic in Selenium - Using loop","body":"<p>Need help in Automation - How to write Automation code for below,</p>\n<p><strong>One of the website consists many travelers.  It can be just one, 2 or 3</strong></p>\n<p><a href=\"https://i.stack.imgur.com/MoOhk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MoOhk.png\" alt=\"enter image description here\" /></a></p>\n<p>It should check People Insured</p>\n<pre><code>if (condition1) {\n      // block of code to be executed if condition1 is true\n    } else if (condition2) {\n      // block of code to be executed if the condition1 is false and condition2 is true\n    } else {\n      // block of code to be executed if the condition1 is false and condition2 is false\n    }\n</code></pre>\n<p>Condition 1 = if People Insured consists only 1 traveler,\nCondition 2 = if People Insured consists 2 travelers\nand so on..</p>\n<p><a href=\"https://i.stack.imgur.com/0Zuuu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0Zuuu.png\" alt=\"enter image description here\" /></a></p>\n<p>like that, it should check with names...  doesn't matter with title or names..</p>\n<p>It should check no. of lists tag and proceed with that code..</p>\n<p>Thank you</p>\n"},{"tags":["java","angular","spring-boot"],"comments":[{"owner":{"account_id":1925103,"reputation":30437,"user_id":1735756,"accept_rate":65,"display_name":"Haifeng Zhang"},"score":0,"creation_date":1556125996,"post_id":55835179,"comment_id":98335099,"body_markdown":"you can try to reduce the `max-age` from 3600 seconds to a reasonable value","body":"you can try to reduce the <code>max-age</code> from 3600 seconds to a reasonable value"}],"answers":[{"tags":[],"owner":{"account_id":10310871,"reputation":25632,"user_id":7606764,"display_name":"Andronicus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1556125520,"creation_date":1556125520,"answer_id":55835230,"question_id":55835179,"body_markdown":"I can see you&#39;re caching on the server side, you can evict cache by calling method annotated with `@CacheEvict` with the key you want to evict:\r\n\r\n    @CacheEvict(value = &quot;users&quot;, allEntries = true)\r\n\r\nOr you can do this programmatically by using `CacheManager`:\r\n\r\n    @Autowired\r\n    CacheManager cacheManager;\r\n     \r\n    public void evictSingleCacheValue(String cacheName, String cacheKey) {\r\n        cacheManager.getCache(cacheName).evict(cacheKey);\r\n    }","title":"How to invalidate browser cache in a web application built with angular7 and springboot","body":"<p>I can see you're caching on the server side, you can evict cache by calling method annotated with <code>@CacheEvict</code> with the key you want to evict:</p>\n\n<pre><code>@CacheEvict(value = \"users\", allEntries = true)\n</code></pre>\n\n<p>Or you can do this programmatically by using <code>CacheManager</code>:</p>\n\n<pre><code>@Autowired\nCacheManager cacheManager;\n\npublic void evictSingleCacheValue(String cacheName, String cacheKey) {\n    cacheManager.getCache(cacheName).evict(cacheKey);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8208829,"reputation":1,"user_id":6177694,"display_name":"ermanp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656508440,"creation_date":1656508401,"answer_id":72802038,"question_id":55835179,"body_markdown":"You can check if there is any changes in your server side Time-based or Content-based controls by lightweight requests.\r\n\r\nTime-based =&gt; your can use Last=Modified in the header\r\n\r\nContent-based =&gt; you can use Etag\r\n\r\nplease check these two links;\r\nhttps://devcenter.heroku.com/articles/increasing-application-performance-with-http-cache-headers\r\n\r\nhttps://www.logicbig.com/quick-info/web/last-modified-and-if-modified-since.html\r\n","title":"How to invalidate browser cache in a web application built with angular7 and springboot","body":"<p>You can check if there is any changes in your server side Time-based or Content-based controls by lightweight requests.</p>\n<p>Time-based =&gt; your can use Last=Modified in the header</p>\n<p>Content-based =&gt; you can use Etag</p>\n<p>please check these two links;\n<a href=\"https://devcenter.heroku.com/articles/increasing-application-performance-with-http-cache-headers\" rel=\"nofollow noreferrer\">https://devcenter.heroku.com/articles/increasing-application-performance-with-http-cache-headers</a></p>\n<p><a href=\"https://www.logicbig.com/quick-info/web/last-modified-and-if-modified-since.html\" rel=\"nofollow noreferrer\">https://www.logicbig.com/quick-info/web/last-modified-and-if-modified-since.html</a></p>\n"}],"owner":{"account_id":8505672,"reputation":3,"user_id":6377335,"display_name":"Patrick Mazzucchetti"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":723,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":55835230,"answer_count":2,"score":0,"last_activity_date":1656508440,"creation_date":1556125312,"question_id":55835179,"body_markdown":"I&#39;m developing a web application using springboot for the backend serving rest API and Angular7 for the frontend.\r\n\r\nmy application takes so much time to load because it has to perform a lot of processing on the server, so I decided to improve the performance by storing the cached data in order to load the page first and eventually update the data when processing ends.\r\n\r\nThis works but I&#39;m having a problem: \r\nWhen I update data in Angular these are normally saved in my database but if I update the page I don&#39;t see the changes because the browser continues to access the old cached data rather than getting the new ones modified.\r\n\r\nIs there a way to invalidate certain data in the browser cache when they are modified?\r\n\r\nSpringboot:\r\n\r\nMy rest controller endpoint are similar to that:\r\n\r\n```\r\n  @GetMapping(value = &quot;/users&quot;)\r\n  public Iterable&lt;User&gt; getAllUsers(HttpServletResponse response) {\r\n    response.setHeader(&quot;Cache-Control&quot;, &quot;max-age=3600&quot;);\r\n    return this.userService.findAll());\r\n  }\r\n```\r\n\r\nMy service:\r\n```\r\n  @Cacheable(&quot;users&quot;)\r\n  public Iterable&lt;User&gt; findAll() {\r\n    return this.userRepository.findAll();\r\n  }\r\n```\r\n\r\nMy angular service:\r\n```\r\n  getUsers(): Observable&lt;User[]&gt; {\r\n    return this.http.get&lt;User[]&gt;(`&lt;ip&gt;&#39; + &#39;/users&#39;);\r\n  }\r\n```","title":"How to invalidate browser cache in a web application built with angular7 and springboot","body":"<p>I'm developing a web application using springboot for the backend serving rest API and Angular7 for the frontend.</p>\n\n<p>my application takes so much time to load because it has to perform a lot of processing on the server, so I decided to improve the performance by storing the cached data in order to load the page first and eventually update the data when processing ends.</p>\n\n<p>This works but I'm having a problem: \nWhen I update data in Angular these are normally saved in my database but if I update the page I don't see the changes because the browser continues to access the old cached data rather than getting the new ones modified.</p>\n\n<p>Is there a way to invalidate certain data in the browser cache when they are modified?</p>\n\n<p>Springboot:</p>\n\n<p>My rest controller endpoint are similar to that:</p>\n\n<pre><code>  @GetMapping(value = \"/users\")\n  public Iterable&lt;User&gt; getAllUsers(HttpServletResponse response) {\n    response.setHeader(\"Cache-Control\", \"max-age=3600\");\n    return this.userService.findAll());\n  }\n</code></pre>\n\n<p>My service:</p>\n\n<pre><code>  @Cacheable(\"users\")\n  public Iterable&lt;User&gt; findAll() {\n    return this.userRepository.findAll();\n  }\n</code></pre>\n\n<p>My angular service:</p>\n\n<pre><code>  getUsers(): Observable&lt;User[]&gt; {\n    return this.http.get&lt;User[]&gt;(`&lt;ip&gt;' + '/users');\n  }\n</code></pre>\n"},{"tags":["java","android","android-studio","oncreate"],"comments":[{"owner":{"account_id":6348437,"reputation":1619,"user_id":4958351,"display_name":"AIMIN PAN"},"score":0,"creation_date":1656471542,"post_id":72795201,"comment_id":128578184,"body_markdown":"so you should paste in your OnClickListener code.","body":"so you should paste in your OnClickListener code."},{"owner":{"account_id":7881594,"reputation":737,"user_id":5955362,"display_name":"Jaydeep Devda"},"score":0,"creation_date":1656473287,"post_id":72795201,"comment_id":128578382,"body_markdown":"please read : https://developer.android.com/guide/components/activities/intro-activities","body":"please read : <a href=\"https://developer.android.com/guide/components/activities/intro-activities\" rel=\"nofollow noreferrer\">developer.android.com/guide/components/activities/&hellip;</a>"},{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":0,"creation_date":1656473396,"post_id":72795201,"comment_id":128578395,"body_markdown":"Are you displaying this activity? If so, how? It has no view set... If this is just some class, and not actually an activity it should *not* extend the activity class.","body":"Are you displaying this activity? If so, how? It has no view set... If this is just some class, and not actually an activity it should <i>not</i> extend the activity class."},{"owner":{"display_name":"user17378410"},"score":0,"creation_date":1656473910,"post_id":72795201,"comment_id":128578467,"body_markdown":"@TylerV This class is use for a bottom sheet,  if I remove the activity then how do I make it run on start/create?","body":"@TylerV This class is use for a bottom sheet,  if I remove the activity then how do I make it run on start/create?"},{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":0,"creation_date":1656473953,"post_id":72795201,"comment_id":128578475,"body_markdown":"Those are part of the activity lifecycle, if this is not an activity it should not and will not run those at all. Maybe you should show more in the question about how you create and use this class and what you are trying to achieve here.","body":"Those are part of the activity lifecycle, if this is not an activity it should not and will not run those at all. Maybe you should show more in the question about how you create and use this class and what you are trying to achieve here."},{"owner":{"display_name":"user17378410"},"score":0,"creation_date":1656474077,"post_id":72795201,"comment_id":128578492,"body_markdown":"I&#39;m trying to make a setOnClickListener on a button  This is the code that im running https://privatebin.net/?85429f280fb147b0#8qN5ETWfUxHCAJLEvzhWv9NF8SiB8XPaiYWXwrim2rxn","body":"I&#39;m trying to make a setOnClickListener on a button  This is the code that im running <a href=\"https://privatebin.net/?85429f280fb147b0#8qN5ETWfUxHCAJLEvzhWv9NF8SiB8XPaiYWXwrim2rxn\" rel=\"nofollow noreferrer\">privatebin.net/&hellip;</a>"},{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":0,"creation_date":1656474238,"post_id":72795201,"comment_id":128578524,"body_markdown":"Then you can just use `button.setOnClickListener`, why do you need another class? **Please** do not add code as a comment, it is unreadable. Edit the question. Where is the code you posted located? In this fake activity class? If so, also show how that is used.","body":"Then you can just use <code>button.setOnClickListener</code>, why do you need another class? <b>Please</b> do not add code as a comment, it is unreadable. Edit the question. Where is the code you posted located? In this fake activity class? If so, also show how that is used."},{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":0,"creation_date":1656474459,"post_id":72795201,"comment_id":128578561,"body_markdown":"The code you pasted is not in a valid activity. You **cannot** simply make a random class that extends Activity and expect it to work/run onCreate etc. Show us where this is used in the *actual* activity class you have. The TextView in the code you pasted will always be null - that &quot;activity&quot; has no view set.","body":"The code you pasted is not in a valid activity. You <b>cannot</b> simply make a random class that extends Activity and expect it to work/run onCreate etc. Show us where this is used in the <i>actual</i> activity class you have. The TextView in the code you pasted will always be null - that &quot;activity&quot; has no view set."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1656481232,"post_id":72795201,"comment_id":128579799,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":25664132,"reputation":28,"user_id":19429448,"display_name":"Muhamad DiarFadillah"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656470714,"creation_date":1656470714,"answer_id":72795220,"question_id":72795201,"body_markdown":"Consider that you should use `setContentView(binding.getRoot());` in your `onCreate` method.","title":"Why is onCreate() method not being called?","body":"<p>Consider that you should use <code>setContentView(binding.getRoot());</code> in your <code>onCreate</code> method.</p>\n"}],"owner":{"display_name":"user17378410"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656508376,"creation_date":1656470478,"question_id":72795201,"body_markdown":"I made a new class and I wanted to make an OnClickListener for a button but I notice that the onCreate wasn&#39;t being called. Any help is appreciated.\r\n\r\n\r\n    public class BedtimeBottomSheet extends Activity {\r\n\r\n        private static final String TAG = &quot;BedtimeBottomSheet&quot;;\r\n\r\n\r\n        @Override\r\n        protected void onCreate(@Nullable Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n\r\n            Log.d(TAG, &quot;onCreate: &quot;);\r\n        }\r\n    }\r\n\r\n","title":"Why is onCreate() method not being called?","body":"<p>I made a new class and I wanted to make an OnClickListener for a button but I notice that the onCreate wasn't being called. Any help is appreciated.</p>\n<pre><code>public class BedtimeBottomSheet extends Activity {\n\n    private static final String TAG = &quot;BedtimeBottomSheet&quot;;\n\n\n    @Override\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        Log.d(TAG, &quot;onCreate: &quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","byte-buddy"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1656408552,"post_id":72783366,"comment_id":128558950,"body_markdown":"I suppose, when you use `FixedValue.value(…)` with something that is not a compile-time constant, it will add a new field to hold the value. Use something like a delegation to a static method that returns the value instead.","body":"I suppose, when you use <code>FixedValue.value(…)</code> with something that is not a compile-time constant, it will add a new field to hold the value. Use something like a delegation to a static method that returns the value instead."}],"answers":[{"tags":[],"owner":{"account_id":1284143,"reputation":43090,"user_id":1237575,"accept_rate":96,"display_name":"Rafael Winterhalter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656508325,"creation_date":1656508325,"answer_id":72802016,"question_id":72783366,"body_markdown":"As Holger points put: you cannot add fields to loaded classes. If You set a Method delegation to a static method, the problem will not occur.\r\n\r\nIn the static method, you could for example keep a weak map of instances (via @Origin) to these objects and read the return value from there.","title":"Bytebuddy method interceptor not working with self defined class","body":"<p>As Holger points put: you cannot add fields to loaded classes. If You set a Method delegation to a static method, the problem will not occur.</p>\n<p>In the static method, you could for example keep a weak map of instances (via @Origin) to these objects and read the return value from there.</p>\n"}],"owner":{"account_id":5126879,"reputation":1733,"user_id":4108584,"accept_rate":43,"display_name":"Jakim"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":151,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1656508325,"creation_date":1656405961,"question_id":72783366,"body_markdown":"I am new to bytebuddy, given class Foo and Bar:\r\n\r\n```java\r\nclass Foo {\r\n  public String hello() {\r\n    return &quot;greeting&quot;\r\n  }\r\n}\r\n\r\nclass Bar {\r\n  public Greet hello() {\r\n    return new Greet(&quot;greeting&quot;);\r\n  }\r\n}\r\n\r\nclass Greet {\r\n  private String message;\r\n  Greet(String message) {\r\n    this.message = message;\r\n  }\r\n}\r\n```\r\n\r\nThen if I try to redefine Foo&#39;s hello, it works, but I cannot make it work for Bar:\r\n\r\n```\r\n\r\n//worked\r\nByteBuddyAgent.install();\r\nnew ByteBuddy()\r\n  .redefine(Foo.class)\r\n  .method(named(&quot;hello&quot;))\r\n  .intercept(FixedValue.value(&quot;modified greeting&quot;))\r\n  .make()\r\n  .load(getClass().getClassLoader(), ClassReloadingStrategy.fromInstalledAgent())\r\n  .getLoaded()\r\n  .newInstance()\r\n  .hello();\r\n\r\n//gives error\r\nByteBuddyAgent.install();\r\nnew ByteBuddy()\r\n  .redefine(Bar.class)\r\n  .method(named(&quot;hello&quot;))\r\n  .intercept(FixedValue.value(new Greeting(&quot;modified greeting&quot;)))\r\n  .make()\r\n  .load(getClass().getClassLoader(), ClassReloadingStrategy.fromInstalledAgent())\r\n  .getLoaded()\r\n  .newInstance()\r\n  .hello();\r\n```\r\n\r\nit gives error:\r\n``` \r\njava.lang.UnsupportedOperationException: class redefinition failed: attempted to change the schema (add/remove fields)\r\n```\r\n\r\nHow can I make it work for Bar?","title":"Bytebuddy method interceptor not working with self defined class","body":"<p>I am new to bytebuddy, given class Foo and Bar:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Foo {\n  public String hello() {\n    return &quot;greeting&quot;\n  }\n}\n\nclass Bar {\n  public Greet hello() {\n    return new Greet(&quot;greeting&quot;);\n  }\n}\n\nclass Greet {\n  private String message;\n  Greet(String message) {\n    this.message = message;\n  }\n}\n</code></pre>\n<p>Then if I try to redefine Foo's hello, it works, but I cannot make it work for Bar:</p>\n<pre><code>\n//worked\nByteBuddyAgent.install();\nnew ByteBuddy()\n  .redefine(Foo.class)\n  .method(named(&quot;hello&quot;))\n  .intercept(FixedValue.value(&quot;modified greeting&quot;))\n  .make()\n  .load(getClass().getClassLoader(), ClassReloadingStrategy.fromInstalledAgent())\n  .getLoaded()\n  .newInstance()\n  .hello();\n\n//gives error\nByteBuddyAgent.install();\nnew ByteBuddy()\n  .redefine(Bar.class)\n  .method(named(&quot;hello&quot;))\n  .intercept(FixedValue.value(new Greeting(&quot;modified greeting&quot;)))\n  .make()\n  .load(getClass().getClassLoader(), ClassReloadingStrategy.fromInstalledAgent())\n  .getLoaded()\n  .newInstance()\n  .hello();\n</code></pre>\n<p>it gives error:</p>\n<pre><code>java.lang.UnsupportedOperationException: class redefinition failed: attempted to change the schema (add/remove fields)\n</code></pre>\n<p>How can I make it work for Bar?</p>\n"},{"tags":["java","oop"],"comments":[{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1656507999,"post_id":72801870,"comment_id":128589715,"body_markdown":"You want the pizza constructor to construct a sandwich when called. Do you think that&#39;s possible? What is the practicality of this? If the pizza constructor construct a sandwich, how would you then construct a pizza? What does the sandwich constructor construct?","body":"You want the pizza constructor to construct a sandwich when called. Do you think that&#39;s possible? What is the practicality of this? If the pizza constructor construct a sandwich, how would you then construct a pizza? What does the sandwich constructor construct?"},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1656508055,"post_id":72801870,"comment_id":128589746,"body_markdown":"This is impossible, @Notlimitedwolf. Stack Trace just gives you &#39;Class1&#39;, it doesn&#39;t give you _the instance_.","body":"This is impossible, @Notlimitedwolf. Stack Trace just gives you &#39;Class1&#39;, it doesn&#39;t give you <i>the instance</i>."},{"owner":{"account_id":17755377,"reputation":15,"user_id":12983404,"display_name":"Notlimitedwolf"},"score":0,"creation_date":1656508191,"post_id":72801870,"comment_id":128589814,"body_markdown":"@hfontanez You have missed the idea. I do not want to create another instance of Class1, I just want to get the one that called it. Better example with human and sandwich: I don&#39;t want sandwich to create new human, I just want sandwich to know its creator without passing it into parameters","body":"@hfontanez You have missed the idea. I do not want to create another instance of Class1, I just want to get the one that called it. Better example with human and sandwich: I don&#39;t want sandwich to create new human, I just want sandwich to know its creator without passing it into parameters"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1656508721,"post_id":72801870,"comment_id":128590035,"body_markdown":"@Notlimitedwolf The relationship (in Java) between an object instance and the creator (the entity calling the constructor) is not preserved. You must do this yourself if it is important to you. Because you need to establish it, it cannot be done without passing some kind of parameter.","body":"@Notlimitedwolf The relationship (in Java) between an object instance and the creator (the entity calling the constructor) is not preserved. You must do this yourself if it is important to you. Because you need to establish it, it cannot be done without passing some kind of parameter."},{"owner":{"account_id":17755377,"reputation":15,"user_id":12983404,"display_name":"Notlimitedwolf"},"score":0,"creation_date":1656509025,"post_id":72801870,"comment_id":128590154,"body_markdown":"@hfontanez a solution by daniu was exactly the one that I was looking for. It obtains Class1 and provides an ability to get some fields","body":"@hfontanez a solution by daniu was exactly the one that I was looking for. It obtains Class1 and provides an ability to get some fields"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1656509269,"post_id":72801870,"comment_id":128590283,"body_markdown":"@Notlimitedwolf Perhaps you need to read the comment I posted there. The association between &quot;Human&quot; and &quot;Sandwich&quot; is technically speaking NOT what you requested. There is a reason why in UML there&#39;s no &quot;created by&quot; relationship.","body":"@Notlimitedwolf Perhaps you need to read the comment I posted there. The association between &quot;Human&quot; and &quot;Sandwich&quot; is technically speaking NOT what you requested. There is a reason why in UML there&#39;s no &quot;created by&quot; relationship."}],"answers":[{"tags":[],"owner":{"account_id":212417,"reputation":43624,"user_id":465223,"accept_rate":75,"display_name":"dunni"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1656508039,"creation_date":1656508039,"answer_id":72801943,"question_id":72801870,"body_markdown":"If you really need the instance of `Class1`, and not just the class name, then the only way would be something like this:\r\n\r\nIn `Class1`:\r\n\r\n    public doStuff() {\r\n        this.field = new Class2(this);\r\n    }\r\n\r\nIn `Class2`:\r\n\r\n    public Class2(Class1 instance) {\r\n        // do whatever you need with the Class1 instance)\r\n    }","title":"Is it possible to get instance of a class 2 where constructor of class 1 was called?","body":"<p>If you really need the instance of <code>Class1</code>, and not just the class name, then the only way would be something like this:</p>\n<p>In <code>Class1</code>:</p>\n<pre><code>public doStuff() {\n    this.field = new Class2(this);\n}\n</code></pre>\n<p>In <code>Class2</code>:</p>\n<pre><code>public Class2(Class1 instance) {\n    // do whatever you need with the Class1 instance)\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1656508299,"creation_date":1656508299,"answer_id":72802008,"question_id":72801870,"body_markdown":"Since your `Class2` always seems to require a `Class1` object, this might be a pretty good case for an inner class.\r\n\r\n```\r\npublic class Class1 {\r\n    private Class2 field;\r\n    public doStuff() {\r\n         this.field = new Class2();\r\n    }\r\n\r\n    // Class2 is an inner class of Class1\r\n    public class Class2 {\r\n        public Class1 getCreatingClass1Instance() {\r\n           return Class1.this;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nWhether this actually makes sense for you depends on the context. Your &quot;get the `Human` that made the `Sandwich` is not one.","title":"Is it possible to get instance of a class 2 where constructor of class 1 was called?","body":"<p>Since your <code>Class2</code> always seems to require a <code>Class1</code> object, this might be a pretty good case for an inner class.</p>\n<pre><code>public class Class1 {\n    private Class2 field;\n    public doStuff() {\n         this.field = new Class2();\n    }\n\n    // Class2 is an inner class of Class1\n    public class Class2 {\n        public Class1 getCreatingClass1Instance() {\n           return Class1.this;\n        }\n    }\n}\n</code></pre>\n<p>Whether this actually makes sense for you depends on the context. Your &quot;get the <code>Human</code> that made the <code>Sandwich</code> is not one.</p>\n"}],"owner":{"account_id":17755377,"reputation":15,"user_id":12983404,"display_name":"Notlimitedwolf"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72802008,"answer_count":2,"score":0,"last_activity_date":1656508299,"creation_date":1656507690,"question_id":72801870,"body_markdown":"Lets imagine this situation: we have Class1 and Class2\r\n\r\n    public class Class1 {\r\n        private Class2 field;\r\n        public Class1() {}\r\n        public doStuff() {\r\n             this.field = new Class2();\r\n        }\r\n    }\r\n    public class Class2 {\r\n        public Class2() {} //get Class1 instance that has called this method\r\n    }\r\n\r\nI want to know if it is possible to get Class1 instance in Class2 constructor somehow.  \r\nI&#39;ve been thinking about viewing a stack trace but it looks like a bad way","title":"Is it possible to get instance of a class 2 where constructor of class 1 was called?","body":"<p>Lets imagine this situation: we have Class1 and Class2</p>\n<pre><code>public class Class1 {\n    private Class2 field;\n    public Class1() {}\n    public doStuff() {\n         this.field = new Class2();\n    }\n}\npublic class Class2 {\n    public Class2() {} //get Class1 instance that has called this method\n}\n</code></pre>\n<p>I want to know if it is possible to get Class1 instance in Class2 constructor somehow.<br />\nI've been thinking about viewing a stack trace but it looks like a bad way</p>\n"},{"tags":["java","string","substring","partial"],"comments":[{"owner":{"account_id":8440460,"reputation":16742,"user_id":6849682,"accept_rate":33,"display_name":"bigbounty"},"score":0,"creation_date":1504986803,"post_id":46134568,"comment_id":79231276,"body_markdown":"Use regex in java. java.util.regex","body":"Use regex in java. java.util.regex"},{"owner":{"account_id":9906199,"reputation":194,"user_id":7334645,"accept_rate":100,"display_name":"DannyBoy"},"score":0,"creation_date":1504987142,"post_id":46134568,"comment_id":79231363,"body_markdown":"I edited my question, can i still use regex?","body":"I edited my question, can i still use regex?"},{"owner":{"account_id":7311725,"reputation":653,"user_id":5570652,"display_name":"Charu Rajput"},"score":0,"creation_date":1504987348,"post_id":46134568,"comment_id":79231410,"body_markdown":"Use indexOf()method. Index of method give index of matching string. So it its value is greater than -1, that means seach string exist in list and you can use that string.","body":"Use indexOf()method. Index of method give index of matching string. So it its value is greater than -1, that means seach string exist in list and you can use that string."}],"answers":[{"tags":[],"owner":{"account_id":1592127,"reputation":18171,"user_id":1475228,"accept_rate":84,"display_name":"Pritam Banerjee"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1504987278,"creation_date":1504987278,"answer_id":46134648,"question_id":46134568,"body_markdown":"You can do something like this by adding a `if` condition:\r\n\r\n    for(int i =0;i&lt;items.size();++i){\r\n        if (list.contains(items.valueAt(i))) {\r\n            TextBlock item = items.valueAt(i);\r\n            if(item.getValue().indexOf(&quot;Your String&quot;) &gt; -1){\r\n              stringBuilder.append(item.getValue());\r\n              stringBuilder.append(&quot;\\n&quot;);\r\n            }\r\n            \r\n        }\r\n    }\r\n\r\nIn place of `your string` use the string value you want to search for.","title":"Java find partially matching string from list","body":"<p>You can do something like this by adding a <code>if</code> condition:</p>\n\n<pre><code>for(int i =0;i&lt;items.size();++i){\n    if (list.contains(items.valueAt(i))) {\n        TextBlock item = items.valueAt(i);\n        if(item.getValue().indexOf(\"Your String\") &gt; -1){\n          stringBuilder.append(item.getValue());\n          stringBuilder.append(\"\\n\");\n        }\n\n    }\n}\n</code></pre>\n\n<p>In place of <code>your string</code> use the string value you want to search for.</p>\n"},{"tags":[],"owner":{"account_id":7311725,"reputation":653,"user_id":5570652,"display_name":"Charu Rajput"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1504987526,"creation_date":1504987526,"answer_id":46134677,"question_id":46134568,"body_markdown":"Use indexOf()method. Index of method give index of matching string. So it its value is greater than -1, that means seach string exist in list and you can use that string.","title":"Java find partially matching string from list","body":"<p>Use indexOf()method. Index of method give index of matching string. So it its value is greater than -1, that means seach string exist in list and you can use that string.</p>\n"},{"tags":[],"owner":{"account_id":3366602,"reputation":611,"user_id":2827025,"display_name":"anemomylos"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1504987630,"creation_date":1504987630,"answer_id":46134688,"question_id":46134568,"body_markdown":"You can use the `startsWith` method of `String`. If `ocrString` has value `BigSizeScrew   45**` then execute a `for` loop to the list with the strings to match, and `if(ocrString.startsWith(list.get(i)) then ...`.","title":"Java find partially matching string from list","body":"<p>You can use the <code>startsWith</code> method of <code>String</code>. If <code>ocrString</code> has value <code>BigSizeScrew   45**</code> then execute a <code>for</code> loop to the list with the strings to match, and <code>if(ocrString.startsWith(list.get(i)) then ...</code>.</p>\n"},{"tags":[],"owner":{"account_id":10512053,"reputation":44,"user_id":7747422,"display_name":"Joshua West"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1504988064,"creation_date":1504988064,"answer_id":46134737,"question_id":46134568,"body_markdown":"I think you may actually want a fuzzy sentence matcher. If letters are not captured by the optics you&#39;ll need to interpolate what they might be. It gets into NLP but might be the proper way to implement.\r\n\r\nHere is a link to Smith-Waterman wikipedia: https://en.wikipedia.org/wiki/Smith%E2%80%93Waterman_algorithm\r\n\r\nLeveshtein Distance:\r\nhttps://en.wikipedia.org/wiki/Levenshtein_distance\r\n\r\nThere are various implementations and libraries to do a single function call on each statement read. &quot;Local sentence alignment&quot; is the problem you are trying to solve. Forget exact match when screen readers are involved expect human and computer error.","title":"Java find partially matching string from list","body":"<p>I think you may actually want a fuzzy sentence matcher. If letters are not captured by the optics you'll need to interpolate what they might be. It gets into NLP but might be the proper way to implement.</p>\n\n<p>Here is a link to Smith-Waterman wikipedia: <a href=\"https://en.wikipedia.org/wiki/Smith%E2%80%93Waterman_algorithm\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Smith%E2%80%93Waterman_algorithm</a></p>\n\n<p>Leveshtein Distance:\n<a href=\"https://en.wikipedia.org/wiki/Levenshtein_distance\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Levenshtein_distance</a></p>\n\n<p>There are various implementations and libraries to do a single function call on each statement read. \"Local sentence alignment\" is the problem you are trying to solve. Forget exact match when screen readers are involved expect human and computer error.</p>\n"},{"tags":[],"owner":{"account_id":2583683,"reputation":21,"user_id":2239844,"display_name":"Yannis Thanasoulas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656507591,"creation_date":1656507591,"answer_id":72801849,"question_id":46134568,"body_markdown":"__A regex approach to the problem:__\r\n\r\n\r\n        List&lt;String&gt; testInput = Arrays.asList(new String[]{\r\n                &quot;BigSizeScrewA   45**&quot;,\r\n                &quot;BigSizeScrewB   45**&quot;,\r\n                &quot;BigSizeScrewC   45**&quot;,\r\n                &quot;BigSizeScrewD   45**&quot;,\r\n                &quot;BigSizeScrewE   45**&quot;,\r\n        });\r\n\r\n        Pattern pattern = Pattern.compile(&quot;\\\\w+&quot;);\r\n        for (String test : testInput) {\r\n            Matcher matcher = pattern.matcher(test);\r\n            if (matcher.find()) {\r\n                System.out.println(matcher.group());\r\n            }\r\n        }\r\n\r\n__output:__\r\n```\r\nBigSizeScrewA\r\nBigSizeScrewB\r\nBigSizeScrewC\r\nBigSizeScrewD\r\nBigSizeScrewE\r\n```","title":"Java find partially matching string from list","body":"<p><strong>A regex approach to the problem:</strong></p>\n<pre><code>    List&lt;String&gt; testInput = Arrays.asList(new String[]{\n            &quot;BigSizeScrewA   45**&quot;,\n            &quot;BigSizeScrewB   45**&quot;,\n            &quot;BigSizeScrewC   45**&quot;,\n            &quot;BigSizeScrewD   45**&quot;,\n            &quot;BigSizeScrewE   45**&quot;,\n    });\n\n    Pattern pattern = Pattern.compile(&quot;\\\\w+&quot;);\n    for (String test : testInput) {\n        Matcher matcher = pattern.matcher(test);\n        if (matcher.find()) {\n            System.out.println(matcher.group());\n        }\n    }\n</code></pre>\n<p><strong>output:</strong></p>\n<pre><code>BigSizeScrewA\nBigSizeScrewB\nBigSizeScrewC\nBigSizeScrewD\nBigSizeScrewE\n</code></pre>\n"}],"owner":{"account_id":9906199,"reputation":194,"user_id":7334645,"accept_rate":100,"display_name":"DannyBoy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2943,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":46134688,"answer_count":5,"score":2,"last_activity_date":1656507591,"creation_date":1504986691,"question_id":46134568,"body_markdown":"So Im creating an optical text reader using google camera api for OCR. When reaeding from the camera i want to filter the read strings by matching them to a list of strings and if the read string partially matches, the item from the list gets added and displayed.\r\n\r\nEverything but the filtering works.\r\n\r\nSay i have a list containing the string:\r\n\r\n    &quot;BigSizeScrew   45**&quot;\r\n\r\nI want to match the read string:\r\n\r\n    &quot;BigSizeScrew&quot;\r\n\r\n...to the one with the number and then add the string containing the number too.\r\n\r\nThe number and stars are for another reason but must be kept, the reason is irrelevant to the question.\r\n\r\ntl;dr:\r\n\r\nHow do i match partially match a string to an existing string from a list?\r\n\r\nI have the following but it exclusively searches for a 100% matching string, not if the checked string contains a substring of the read string.\r\n\r\n    for(int i =0;i&lt;items.size();++i){\r\n        if (list.contains(items.valueAt(i))) {\r\n            TextBlock item = items.valueAt(i);\r\n            stringBuilder.append(item.getValue());\r\n            stringBuilder.append(&quot;\\n&quot;);\r\n        }\r\n    }\r\n\r\nEDIT:\r\n\r\nThe list contains approx 200 different strings that should be matchable partially. But all in the same way; Partially matching the main string but not the numbers/stars.","title":"Java find partially matching string from list","body":"<p>So Im creating an optical text reader using google camera api for OCR. When reaeding from the camera i want to filter the read strings by matching them to a list of strings and if the read string partially matches, the item from the list gets added and displayed.</p>\n\n<p>Everything but the filtering works.</p>\n\n<p>Say i have a list containing the string:</p>\n\n<pre><code>\"BigSizeScrew   45**\"\n</code></pre>\n\n<p>I want to match the read string:</p>\n\n<pre><code>\"BigSizeScrew\"\n</code></pre>\n\n<p>...to the one with the number and then add the string containing the number too.</p>\n\n<p>The number and stars are for another reason but must be kept, the reason is irrelevant to the question.</p>\n\n<p>tl;dr:</p>\n\n<p>How do i match partially match a string to an existing string from a list?</p>\n\n<p>I have the following but it exclusively searches for a 100% matching string, not if the checked string contains a substring of the read string.</p>\n\n<pre><code>for(int i =0;i&lt;items.size();++i){\n    if (list.contains(items.valueAt(i))) {\n        TextBlock item = items.valueAt(i);\n        stringBuilder.append(item.getValue());\n        stringBuilder.append(\"\\n\");\n    }\n}\n</code></pre>\n\n<p>EDIT:</p>\n\n<p>The list contains approx 200 different strings that should be matchable partially. But all in the same way; Partially matching the main string but not the numbers/stars.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8768,"page":1224,"page_size":100}
