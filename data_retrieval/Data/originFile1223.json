{"items":[{"tags":["java","garbage-collection","finalize"],"comments":[{"owner":{"account_id":166521,"reputation":30433,"user_id":390695,"accept_rate":72,"display_name":"Damian Leszczy≈Ñski - Vash"},"score":0,"creation_date":1279786306,"post_id":3306883,"comment_id":3426540,"body_markdown":"Please read this article: \nhttp://www.codeguru.com/java/tij/tij0051.shtml","body":"Please read this article:  <a href=\"http://www.codeguru.com/java/tij/tij0051.shtml\" rel=\"nofollow noreferrer\">codeguru.com/java/tij/tij0051.shtml</a>"},{"owner":{"account_id":7052,"reputation":48090,"user_id":12048,"accept_rate":94,"display_name":"finnw"},"score":0,"creation_date":1279810734,"post_id":3306883,"comment_id":3430259,"body_markdown":"@Vash, that article is very out-of-date","body":"@Vash, that article is very out-of-date"}],"answers":[{"tags":[],"owner":{"account_id":45934,"reputation":203659,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1279786258,"creation_date":1279786258,"answer_id":3306906,"question_id":3306883,"body_markdown":"There is no guarantee that `finalize()` will always be called, or even that garbage collection will run at all.\r\n\r\nSuppose that your program ends (either by calling `System.exit()` or when all running threads reach their end), then the JVM will just quit, it won&#39;t clean everything up and call `finalize()` on all objects.\r\n\r\nTherefore, putting cleanup tasks that absolutely must run in a `finalize()` method is not a good idea.","title":"Java Interview Question: finalize() method","body":"<p>There is no guarantee that <code>finalize()</code> will always be called, or even that garbage collection will run at all.</p>\n\n<p>Suppose that your program ends (either by calling <code>System.exit()</code> or when all running threads reach their end), then the JVM will just quit, it won't clean everything up and call <code>finalize()</code> on all objects.</p>\n\n<p>Therefore, putting cleanup tasks that absolutely must run in a <code>finalize()</code> method is not a good idea.</p>\n"},{"tags":[],"owner":{"account_id":85644,"reputation":54700,"user_id":238639,"display_name":"bakkal"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1279786712,"creation_date":1279786334,"answer_id":3306913,"question_id":3306883,"body_markdown":"I think it hints that the fact that there are actually other things that can be done / happen to the object before the GC really discards it.\r\n\r\n**To quote the reference:**\r\n\r\n&gt; [...]The finalize method may take any\r\n&gt; action, including making this object\r\n&gt; **available again to other threads**; the usual purpose of finalize,\r\n&gt; however, is to perform cleanup actions\r\n&gt; **before the object is irrevocably discarded**. For example, the finalize\r\n&gt; method for an object that represents\r\n&gt; an input/output connection might\r\n&gt; perform explicit I/O transactions to\r\n&gt; break the connection **before the\r\n&gt; object is permanently\r\n&gt; discarded.**[...]\r\n\r\nSo in this light, the finalizing process isn&#39;t the last thing before the GC discards it.","title":"Java Interview Question: finalize() method","body":"<p>I think it hints that the fact that there are actually other things that can be done / happen to the object before the GC really discards it.</p>\n\n<p><strong>To quote the reference:</strong></p>\n\n<blockquote>\n  <p>[...]The finalize method may take any\n  action, including making this object\n  <strong>available again to other threads</strong>; the usual purpose of finalize,\n  however, is to perform cleanup actions\n  <strong>before the object is irrevocably discarded</strong>. For example, the finalize\n  method for an object that represents\n  an input/output connection might\n  perform explicit I/O transactions to\n  break the connection <strong>before the\n  object is permanently\n  discarded.</strong>[...]</p>\n</blockquote>\n\n<p>So in this light, the finalizing process isn't the last thing before the GC discards it.</p>\n"},{"tags":[],"owner":{"account_id":11983,"reputation":71675,"user_id":23368,"accept_rate":92,"display_name":"Daniel Rikowski"},"down_vote_count":1,"up_vote_count":60,"is_accepted":true,"score":59,"last_activity_date":1395706732,"creation_date":1279786378,"answer_id":3306921,"question_id":3306883,"body_markdown":"The order is different:\r\n\r\n1. **First** the object is **collected**.\r\n2. **Then** the object is **finalized**.\r\n\r\nSee http://java.dzone.com/articles/ocajp-7-object-lifecycle-java\r\n\r\n&gt; Object lifecycle:\r\n&gt;\r\n&gt; 1. Created\r\n&gt; 1. In use (strongly reachable)\r\n&gt; 1. Invisible\r\n&gt; 1. Unreachable\r\n&gt; 1. *Collected* \r\n&gt; 1. *Finalized* \r\n&gt; 1. Deallocated","title":"Java Interview Question: finalize() method","body":"<p>The order is different:</p>\n\n<ol>\n<li><strong>First</strong> the object is <strong>collected</strong>.</li>\n<li><strong>Then</strong> the object is <strong>finalized</strong>.</li>\n</ol>\n\n<p>See <a href=\"http://java.dzone.com/articles/ocajp-7-object-lifecycle-java\" rel=\"noreferrer\">http://java.dzone.com/articles/ocajp-7-object-lifecycle-java</a></p>\n\n<blockquote>\n  <p>Object lifecycle:</p>\n  \n  <ol>\n  <li>Created</li>\n  <li>In use (strongly reachable)</li>\n  <li>Invisible</li>\n  <li>Unreachable</li>\n  <li><em>Collected</em> </li>\n  <li><em>Finalized</em> </li>\n  <li>Deallocated</li>\n  </ol>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":62440,"reputation":23185,"user_id":185541,"display_name":"rsp"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1279786440,"creation_date":1279786440,"answer_id":3306931,"question_id":3306883,"body_markdown":"I guess you can defend both answers, `finalize()` is called by the garbage collector before it collects the object, but you cannot be sure that will ever be the case before the apllication ends. Not all objects that are allegible to be garbage collected have to be colected. You may never depend on the `finalize()` method to be called for any object.\r\n","title":"Java Interview Question: finalize() method","body":"<p>I guess you can defend both answers, <code>finalize()</code> is called by the garbage collector before it collects the object, but you cannot be sure that will ever be the case before the apllication ends. Not all objects that are allegible to be garbage collected have to be colected. You may never depend on the <code>finalize()</code> method to be called for any object.</p>\n"},{"tags":[],"owner":{"account_id":36858,"reputation":113744,"user_id":105224,"accept_rate":73,"display_name":"Andreas Dolk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1279786996,"creation_date":1279786996,"answer_id":3306991,"question_id":3306883,"body_markdown":"The order is wrong, as [DR][1] already showed. \r\n\r\nAn object changes its state to *collected* when the gc has recognized, that the object is unreachable.\r\n\r\nSo *who* should take action to finalize an object before this &#39;unreachable&#39; condition was detected? In fact it&#39;s the garbage collector that marks collected objects for finalization (if the objects finalize method is overridden). And we really don&#39;t want to finalize objects that are still reachable, e.g. &#39;in use&#39;.\r\n\r\nNice question anyway, because you tend to say &#39;yes it&#39;s true&#39;.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/3306883/java-interview-question-finalize-method/3306921#3306921","title":"Java Interview Question: finalize() method","body":"<p>The order is wrong, as <a href=\"https://stackoverflow.com/questions/3306883/java-interview-question-finalize-method/3306921#3306921\">DR</a> already showed. </p>\n\n<p>An object changes its state to <em>collected</em> when the gc has recognized, that the object is unreachable.</p>\n\n<p>So <em>who</em> should take action to finalize an object before this 'unreachable' condition was detected? In fact it's the garbage collector that marks collected objects for finalization (if the objects finalize method is overridden). And we really don't want to finalize objects that are still reachable, e.g. 'in use'.</p>\n\n<p>Nice question anyway, because you tend to say 'yes it's true'.</p>\n"},{"tags":[],"owner":{"account_id":6151217,"reputation":1356,"user_id":4795584,"accept_rate":100,"display_name":"RoHaN"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1435948750,"creation_date":1435948750,"answer_id":31212617,"question_id":3306883,"body_markdown":"You can resurrect the object in the finalize method by making something point to it so the object may not be collected by the GC after calling finalized method. but when the object again becomes available for garbage collection it wont call the finalized method of that object as it has been marked/flagged as finalized. so before GC it may happen the call finalize method or the object can resurrect. ","title":"Java Interview Question: finalize() method","body":"<p>You can resurrect the object in the finalize method by making something point to it so the object may not be collected by the GC after calling finalized method. but when the object again becomes available for garbage collection it wont call the finalized method of that object as it has been marked/flagged as finalized. so before GC it may happen the call finalize method or the object can resurrect. </p>\n"}],"owner":{"account_id":73540,"reputation":12590,"user_id":211701,"accept_rate":94,"display_name":"Andrei Ciobanu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5323,"favorite_count":0,"down_vote_count":0,"up_vote_count":30,"accepted_answer_id":3306921,"answer_count":6,"score":30,"last_activity_date":1656556383,"creation_date":1279786066,"question_id":3306883,"body_markdown":"I was given the following phrase in an interview:\r\n\r\n&gt; The invocation of an Object&#39;s\r\n&gt; finalize() method is the last thing\r\n&gt; that happens before an object is\r\n&gt; garbaged collected.\r\n\r\nI had to answer by:\r\n\r\n- True\r\n- False\r\n\r\nI&#39;ve chosen `True` but it was wrong.\r\nCan you please explain me why ?","title":"Java Interview Question: finalize() method","body":"<p>I was given the following phrase in an interview:</p>\n\n<blockquote>\n  <p>The invocation of an Object's\n  finalize() method is the last thing\n  that happens before an object is\n  garbaged collected.</p>\n</blockquote>\n\n<p>I had to answer by:</p>\n\n<ul>\n<li>True</li>\n<li>False</li>\n</ul>\n\n<p>I've chosen <code>True</code> but it was wrong.\nCan you please explain me why ?</p>\n"},{"tags":["java","oop","inheritance"],"comments":[{"owner":{"account_id":126610,"reputation":13693,"user_id":323221,"accept_rate":76,"display_name":"Erik Pragt"},"score":0,"creation_date":1656555093,"post_id":72809605,"comment_id":128603579,"body_markdown":"A factory class would be a reasonable solution to this: `BaseObjectFactory.create(isGood) { ... }`","body":"A factory class would be a reasonable solution to this: <code>BaseObjectFactory.create(isGood) { ... }</code>"}],"answers":[{"tags":[],"owner":{"account_id":126610,"reputation":13693,"user_id":323221,"accept_rate":76,"display_name":"Erik Pragt"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1656555444,"creation_date":1656555444,"answer_id":72809658,"question_id":72809605,"body_markdown":"I&#39;d recommend going with the Factory approach, such as: \r\n\r\n    public class BaseObjectFactory {\r\n        public static BaseObject create(boolean isGood) {\r\n             return isGood ? new GoodObject(...) : new BadObject(...);\r\n        }\r\n    }\r\n\r\nIf you want a Design Pattern approach. In my actual code, I&#39;d probably have an if statement somewhere, and not be too concerned with this.","title":"Best way to choose different child class to create new instance based on a boolean","body":"<p>I'd recommend going with the Factory approach, such as:</p>\n<pre><code>public class BaseObjectFactory {\n    public static BaseObject create(boolean isGood) {\n         return isGood ? new GoodObject(...) : new BadObject(...);\n    }\n}\n</code></pre>\n<p>If you want a Design Pattern approach. In my actual code, I'd probably have an if statement somewhere, and not be too concerned with this.</p>\n"}],"owner":{"account_id":24118424,"reputation":179,"user_id":18087971,"display_name":"waynewingorc"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72809658,"answer_count":1,"score":1,"last_activity_date":1656556259,"creation_date":1656554884,"question_id":72809605,"body_markdown":"Hi my question is simple.     \r\nI have 3 classes, `BaseObject`, and `GoodObject` + `BadObject` that extends it:\r\n\r\n```java\r\n\r\npublic class BaseObject {\r\n  // some properties\r\n}\r\n\r\npublic class GoodObject extends BaseObject {\r\n  // good properties\r\n}\r\n\r\npublic class BadObject extends BaseObject {\r\n  // bad properties\r\n}\r\n\r\n```\r\n\r\nAnd in the code, I&#39;ll need to choose to create `GoodObject` or `BadObject`, depending on boolean value `isGood`:\r\n```java\r\npublic BaseObject businessLogic(){\r\n  // ...\r\n  return isGood ? new GoodObject(...) : new BadObject(...);\r\n}\r\n\r\n```\r\n\r\nI don&#39;t like the idea for `businessLogic` to worry about which `BaseObject` instance to create, so plan to extract the `return isGood ? new GoodObject(...) : new BadObject(...);` into a factory class, so `businessLogic` will call something like `Factory.createObject(isGood, ...)`.\r\nBut not sure if there&#39;s a better or more elegant way.\r\n\r\n---\r\n\r\nAn additional question, if I&#39;m to use Factory class, what is the good way for me to pass in different properties? What I can think of is something similar to Builder pattern.\r\n```Java\r\npublic class ObjectFactory {\r\n  // all properties...\r\n\r\n  public BaseObject withGoodProperties(good properties)   {\r\n    // set good properties\r\n    return this;\r\n  }\r\n\r\n  public BaseObject withBadProperties(bad properties)   {\r\n    // set bad properties\r\n    return this;\r\n  }\r\n\r\n  public BaseObject create(boolean isGood, base properties){\r\n    return isGood ? new GoodObject(...) : new BadObject(...);\r\n  }\r\n}\r\n```\r\n\r\nThen in order to create a `GoodObject` i.e.: I need to call   `ObjectFactory.withGoodProperties(...).create(true, ...)`.   \r\nThe problem is that it doesn&#39;t seem much simpler than the original    \r\n`return isGood ? new GoodObject(...) : new BadObject(...);`...","title":"Best way to choose different child class to create new instance based on a boolean","body":"<p>Hi my question is simple.<br />\nI have 3 classes, <code>BaseObject</code>, and <code>GoodObject</code> + <code>BadObject</code> that extends it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\npublic class BaseObject {\n  // some properties\n}\n\npublic class GoodObject extends BaseObject {\n  // good properties\n}\n\npublic class BadObject extends BaseObject {\n  // bad properties\n}\n\n</code></pre>\n<p>And in the code, I'll need to choose to create <code>GoodObject</code> or <code>BadObject</code>, depending on boolean value <code>isGood</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public BaseObject businessLogic(){\n  // ...\n  return isGood ? new GoodObject(...) : new BadObject(...);\n}\n\n</code></pre>\n<p>I don't like the idea for <code>businessLogic</code> to worry about which <code>BaseObject</code> instance to create, so plan to extract the <code>return isGood ? new GoodObject(...) : new BadObject(...);</code> into a factory class, so <code>businessLogic</code> will call something like <code>Factory.createObject(isGood, ...)</code>.\nBut not sure if there's a better or more elegant way.</p>\n<hr />\n<p>An additional question, if I'm to use Factory class, what is the good way for me to pass in different properties? What I can think of is something similar to Builder pattern.</p>\n<pre><code>public class ObjectFactory {\n  // all properties...\n\n  public BaseObject withGoodProperties(good properties)   {\n    // set good properties\n    return this;\n  }\n\n  public BaseObject withBadProperties(bad properties)   {\n    // set bad properties\n    return this;\n  }\n\n  public BaseObject create(boolean isGood, base properties){\n    return isGood ? new GoodObject(...) : new BadObject(...);\n  }\n}\n</code></pre>\n<p>Then in order to create a <code>GoodObject</code> i.e.: I need to call   <code>ObjectFactory.withGoodProperties(...).create(true, ...)</code>.<br />\nThe problem is that it doesn't seem much simpler than the original<br />\n<code>return isGood ? new GoodObject(...) : new BadObject(...);</code>...</p>\n"},{"tags":["java","interface"],"comments":[{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":1,"creation_date":1587960926,"post_id":61438377,"comment_id":108705382,"body_markdown":"`interface` is a reserved keyword - call your thing something else. Also is `itfc` supposed to be a type? If so, why is it not using proper Java case conventions? It feels like you misunderstood how to declare variables type and naming here.","body":"<code>interface</code> is a reserved keyword - call your thing something else. Also is <code>itfc</code> supposed to be a type? If so, why is it not using proper Java case conventions? It feels like you misunderstood how to declare variables type and naming here."},{"owner":{"account_id":16186751,"reputation":361,"user_id":11686638,"display_name":"chl"},"score":0,"creation_date":1587967535,"post_id":61438377,"comment_id":108707099,"body_markdown":"sorry, it was just a mistake. \nthe thing is , there is a interface like ( public interface Itfc { ~ } )\nand i declare this interface as &quot;Itfc itfc&quot;. my bad","body":"sorry, it was just a mistake.  the thing is , there is a interface like ( public interface Itfc { ~ } ) and i declare this interface as &quot;Itfc itfc&quot;. my bad"},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1587999060,"post_id":61438377,"comment_id":108723151,"body_markdown":"Start using proper java conventions: and interface, like a class, starts with a capital letter, and because others (including future your) need to be able to read that code, spell it out. &quot;ltfc&quot; is nothing, it&#39;s not a word, it&#39;s not a description, etc. Write a proper interface name, and then declare a field of that type. And _update your code in the post_ to actually show the relevant code you&#39;re using, don&#39;t slim it down to the point where it has syntax errors.","body":"Start using proper java conventions: and interface, like a class, starts with a capital letter, and because others (including future your) need to be able to read that code, spell it out. &quot;ltfc&quot; is nothing, it&#39;s not a word, it&#39;s not a description, etc. Write a proper interface name, and then declare a field of that type. And <i>update your code in the post</i> to actually show the relevant code you&#39;re using, don&#39;t slim it down to the point where it has syntax errors."},{"owner":{"account_id":16186751,"reputation":361,"user_id":11686638,"display_name":"chl"},"score":0,"creation_date":1588738941,"post_id":61438377,"comment_id":109011218,"body_markdown":"ok, thank you. i&#39;m newbie in programming, especially in java, and also english is not my first language so i&#39;m not used to the things you mentioned. i would do write better in future questions. thanks again","body":"ok, thank you. i&#39;m newbie in programming, especially in java, and also english is not my first language so i&#39;m not used to the things you mentioned. i would do write better in future questions. thanks again"}],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1587963143,"creation_date":1587961576,"answer_id":61451713,"question_id":61438377,"body_markdown":"Try [`class.forName(String)`](https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#forName-java.lang.String-), e.g. something like\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    Class.forName(&quot;my.package.name.ClassPrefix&quot; + name)\r\n\r\nAlso make sure you take care of proper exception handling.\r\n\r\n---\r\n\r\n**Update:** Here is a complete [MCVE](https://stackoverflow.com/help/mcve) as a proof of concept which also shows you how to instantiate the class via reflection API. But in this case you need to make sure that each target class has a default (no-arguments) constructor.\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    package de.scrum_master.app;\r\n    \r\n    public interface MyInterface {}\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    package de.scrum_master.app;\r\n\r\n    public class Foo implements MyInterface {}\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    package de.scrum_master.app;\r\n\r\n    public class Bar implements MyInterface {}\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    package de.scrum_master.app;\r\n\r\n    public class Zot implements MyInterface {}\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    package de.scrum_master.app;\r\n\r\n    public class UhOh /*implements MyInterface*/ {}\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    package de.scrum_master.app;\r\n    \r\n    public class Application {\r\n      public static void main(String[] argv) throws Exception {\r\n        System.out.println(makeInstanceByName(&quot;Foo&quot;));\r\n        System.out.println(makeInstanceByName(&quot;Bar&quot;));\r\n        System.out.println(makeInstanceByName(&quot;Zot&quot;));\r\n        System.out.println(makeInstanceByName(&quot;UhOh&quot;));\r\n      }\r\n    \r\n      public static MyInterface makeInstanceByName(String name) throws Exception {\r\n        return\r\n          (MyInterface) Class.forName(&quot;de.scrum_master.app.&quot; + name)\r\n            .getConstructor()\r\n            .newInstance();\r\n      }\r\n    }\r\n\r\nConsole log:\r\n\r\n```none\r\nde.scrum_master.app.Foo@6d06d69c\r\nde.scrum_master.app.Bar@7852e922\r\nde.scrum_master.app.Zot@4e25154f\r\nException in thread &quot;main&quot; java.lang.ClassCastException: de.scrum_master.app.UhOh cannot be cast to de.scrum_master.app.MyInterface\r\n\tat de.scrum_master.app.Application.makeInstanceByName(Application.java:15)\r\n\tat de.scrum_master.app.Application.main(Application.java:8)\r\n```","title":"How can i create instance conditionally(by string) in Java?","body":"<p>Try <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#forName-java.lang.String-\" rel=\"nofollow noreferrer\"><code>class.forName(String)</code></a>, e.g. something like</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>Class.forName(\"my.package.name.ClassPrefix\" + name)\n</code></pre>\n\n<p>Also make sure you take care of proper exception handling.</p>\n\n<hr>\n\n<p><strong>Update:</strong> Here is a complete <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a> as a proof of concept which also shows you how to instantiate the class via reflection API. But in this case you need to make sure that each target class has a default (no-arguments) constructor.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.app;\n\npublic interface MyInterface {}\n</code></pre>\n\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.app;\n\npublic class Foo implements MyInterface {}\n</code></pre>\n\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.app;\n\npublic class Bar implements MyInterface {}\n</code></pre>\n\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.app;\n\npublic class Zot implements MyInterface {}\n</code></pre>\n\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.app;\n\npublic class UhOh /*implements MyInterface*/ {}\n</code></pre>\n\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.app;\n\npublic class Application {\n  public static void main(String[] argv) throws Exception {\n    System.out.println(makeInstanceByName(\"Foo\"));\n    System.out.println(makeInstanceByName(\"Bar\"));\n    System.out.println(makeInstanceByName(\"Zot\"));\n    System.out.println(makeInstanceByName(\"UhOh\"));\n  }\n\n  public static MyInterface makeInstanceByName(String name) throws Exception {\n    return\n      (MyInterface) Class.forName(\"de.scrum_master.app.\" + name)\n        .getConstructor()\n        .newInstance();\n  }\n}\n</code></pre>\n\n<p>Console log:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>de.scrum_master.app.Foo@6d06d69c\nde.scrum_master.app.Bar@7852e922\nde.scrum_master.app.Zot@4e25154f\nException in thread \"main\" java.lang.ClassCastException: de.scrum_master.app.UhOh cannot be cast to de.scrum_master.app.MyInterface\n    at de.scrum_master.app.Application.makeInstanceByName(Application.java:15)\n    at de.scrum_master.app.Application.main(Application.java:8)\n</code></pre>\n"}],"owner":{"account_id":16186751,"reputation":361,"user_id":11686638,"display_name":"chl"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":61451713,"answer_count":1,"score":0,"last_activity_date":1656556171,"creation_date":1587892547,"question_id":61438377,"body_markdown":"I&#39;m trying to create(initiate) instance conditionally. \r\n\r\nI have an interface and there are several classes which implement the interface.\r\n(e.g. interface named &quot;itfc&quot; and there class &quot;classA&quot;, &quot;classB&quot;, &quot;classC&quot;\r\n\r\nwhen I get a string from outside, (e.g. &quot;a&quot;) then I wanna make class of A\r\n\r\nso, it can be written like this:\r\n\r\n```\r\npublic class someClass {\r\n    itfc interface;\r\n\r\n    public someClass(String name) {\r\n         this.inteface = makeInstanceByName(name);\r\n    }\r\n\r\n    public makeInstanceByName(name) {\r\n         if (name == &quot;A&quot;) { return new classA(); }\r\n         else if (name == &quot;B&quot;) { return new classB(); }\r\n         ...\r\n         else { return null; }\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nbut I have lots of classes which implements the interface, and also this codes don&#39;t look good.\r\n\r\nI&#39;ve searched the enums, but I don&#39;t know how to apply it into my one.\r\n\r\nCan you help me?","title":"How can i create instance conditionally(by string) in Java?","body":"<p>I'm trying to create(initiate) instance conditionally. </p>\n\n<p>I have an interface and there are several classes which implement the interface.\n(e.g. interface named \"itfc\" and there class \"classA\", \"classB\", \"classC\"</p>\n\n<p>when I get a string from outside, (e.g. \"a\") then I wanna make class of A</p>\n\n<p>so, it can be written like this:</p>\n\n<pre><code>public class someClass {\n    itfc interface;\n\n    public someClass(String name) {\n         this.inteface = makeInstanceByName(name);\n    }\n\n    public makeInstanceByName(name) {\n         if (name == \"A\") { return new classA(); }\n         else if (name == \"B\") { return new classB(); }\n         ...\n         else { return null; }\n    }\n\n}\n\n</code></pre>\n\n<p>but I have lots of classes which implements the interface, and also this codes don't look good.</p>\n\n<p>I've searched the enums, but I don't know how to apply it into my one.</p>\n\n<p>Can you help me?</p>\n"},{"tags":["java","spring-boot","apache","tomcat"],"answers":[{"tags":[],"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656550928,"creation_date":1656550928,"answer_id":72809290,"question_id":72808978,"body_markdown":"You can achieve this using apache httpd and tomcat by using the reverseProxy settings\r\n\r\n1. Uncomment the appropriate line in Apache‚Äôs httpd.conf file to enable the Apache mod_proxy and mod_proxy_http modules\r\n\r\n    LoadModule proxy_module modules/mod_proxy.so\r\n\r\n    LoadModule proxy_http_module modules/mod_proxy_http.so\r\n    \r\n2. add an Apache proxypass and an Apache proxypassreverse entry at the end of the httpd.conf file. \r\n\r\n    ProxyPass /sample http://localhost:8080/sample\r\n\r\n    ProxyPassReverse /sample http://localhost:8080/sample\r\n\r\nSee https://www.theserverside.com/blog/Coffee-Talk-Java-News-Stories-and-Opinions/How-to-configure-Apache-as-a-reverse-proxy-example for more details\r\n","title":"Trying to mask tomcat address with 8080 port with domain address","body":"<p>You can achieve this using apache httpd and tomcat by using the reverseProxy settings</p>\n<ol>\n<li><p>Uncomment the appropriate line in Apache‚Äôs httpd.conf file to enable the Apache mod_proxy and mod_proxy_http modules</p>\n<p>LoadModule proxy_module modules/mod_proxy.so</p>\n<p>LoadModule proxy_http_module modules/mod_proxy_http.so</p>\n</li>\n<li><p>add an Apache proxypass and an Apache proxypassreverse entry at the end of the httpd.conf file.</p>\n<p>ProxyPass /sample http://localhost:8080/sample</p>\n<p>ProxyPassReverse /sample http://localhost:8080/sample</p>\n</li>\n</ol>\n<p>See <a href=\"https://www.theserverside.com/blog/Coffee-Talk-Java-News-Stories-and-Opinions/How-to-configure-Apache-as-a-reverse-proxy-example\" rel=\"nofollow noreferrer\">https://www.theserverside.com/blog/Coffee-Talk-Java-News-Stories-and-Opinions/How-to-configure-Apache-as-a-reverse-proxy-example</a> for more details</p>\n"},{"tags":[],"owner":{"account_id":126610,"reputation":13693,"user_id":323221,"accept_rate":76,"display_name":"Erik Pragt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656555820,"creation_date":1656555820,"answer_id":72809682,"question_id":72808978,"body_markdown":"The simplest way to address this, without any extra software is, is to [run Tomcat on port 80][1], which will fix the 8080 part, and to rename your war file to ROOT.war, which address the context part (the `app` in the URL).\r\n\r\n  [1]: https://stackoverflow.com/questions/4756039/how-to-change-the-port-of-tomcat-from-8080-to-80","title":"Trying to mask tomcat address with 8080 port with domain address","body":"<p>The simplest way to address this, without any extra software is, is to <a href=\"https://stackoverflow.com/questions/4756039/how-to-change-the-port-of-tomcat-from-8080-to-80\">run Tomcat on port 80</a>, which will fix the 8080 part, and to rename your war file to ROOT.war, which address the context part (the <code>app</code> in the URL).</p>\n"}],"owner":{"account_id":1532206,"reputation":249,"user_id":1429144,"display_name":"zoostar"},"comment_count":0,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":246,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1656559369,"answer_count":2,"score":-1,"last_activity_date":1656555820,"creation_date":1656546760,"question_id":72808978,"body_markdown":"I want to have an intranet site such that\r\nThere is a machine with static IP address: 192.168.88.80\r\nMapped via hosts file to domain: www.example.com\r\nThen I want to map an address such that when I enter the following in browser address bar: http://app.example.com\r\nIt loads my Tomcat hosted application at http://www.example.com:8080/app but address bar still displays http://app.example.com\r\nI have tried several combinations but not able to configure such. I keep getting http://www.example.com:8080/app in my browser bar.\r\nDoes anyone have any idea, preferably using Apache httpd\r\nThanks","title":"Trying to mask tomcat address with 8080 port with domain address","body":"<p>I want to have an intranet site such that\nThere is a machine with static IP address: 192.168.88.80\nMapped via hosts file to domain: <a href=\"http://www.example.com\" rel=\"nofollow noreferrer\">www.example.com</a>\nThen I want to map an address such that when I enter the following in browser address bar: <a href=\"http://app.example.com\" rel=\"nofollow noreferrer\">http://app.example.com</a>\nIt loads my Tomcat hosted application at <a href=\"http://www.example.com:8080/app\" rel=\"nofollow noreferrer\">http://www.example.com:8080/app</a> but address bar still displays <a href=\"http://app.example.com\" rel=\"nofollow noreferrer\">http://app.example.com</a>\nI have tried several combinations but not able to configure such. I keep getting <a href=\"http://www.example.com:8080/app\" rel=\"nofollow noreferrer\">http://www.example.com:8080/app</a> in my browser bar.\nDoes anyone have any idea, preferably using Apache httpd\nThanks</p>\n"},{"tags":["java","rx-java"],"comments":[{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1651817746,"post_id":72136890,"comment_id":127458072,"body_markdown":"Hint: even when doing pseudo code, be diligent about naming. never ever call a variable &quot;boolean&quot;.","body":"Hint: even when doing pseudo code, be diligent about naming. never ever call a variable &quot;boolean&quot;."},{"owner":{"account_id":128739,"reputation":3915,"user_id":326807,"accept_rate":100,"display_name":"Reporter"},"score":0,"creation_date":1651821041,"post_id":72136890,"comment_id":127459005,"body_markdown":"Please fix the code indention to improve the readability.","body":"Please fix the code indention to improve the readability."}],"answers":[{"tags":[],"owner":{"account_id":9735736,"reputation":1,"user_id":7219030,"display_name":"ann20502"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656554928,"creation_date":1656554928,"answer_id":72809611,"question_id":72136890,"body_markdown":"Below could be an alternative (pardon me for the heavy indentation):\r\n\r\n    import io.reactivex.rxjava3.core.Observable;\r\n    import io.reactivex.rxjava3.core.Single;\r\n    import io.reactivex.rxjava3.schedulers.Schedulers;\r\n    \r\n    import java.util.concurrent.TimeUnit;\r\n    \r\n    public class Answer {\r\n    \r\n        private static final int MAX_ATTEMPT = 5;\r\n    \r\n        public static void main(String[] args) {\r\n            Single&lt;String&gt; solution =\r\n                    Single.just(&quot;dummy data&quot;)\r\n                            .flatMap(data -&gt;\r\n                                    Observable.range(1, MAX_ATTEMPT)\r\n                                            .map(Answer::checkFlag)\r\n                                            .delay(result -&gt; {\r\n                                                if (!result) {\r\n                                                    return Observable\r\n                                                            .just(false)\r\n                                                            .delay(1, TimeUnit.SECONDS, Schedulers.trampoline());\r\n                                                }\r\n                                                return Observable.just(true);\r\n                                            })\r\n                                            .takeUntil(result -&gt; result == true)\r\n                                            .toList()\r\n                                            .map(results -&gt; results.size() &lt; MAX_ATTEMPT || (results.size() == MAX_ATTEMPT &amp;&amp; results.get(MAX_ATTEMPT - 1)))\r\n                                            .map(result -&gt; {\r\n                                                if (!result) {\r\n                                                    throw new Exception(&quot;check flag error&quot;);\r\n                                                }\r\n                                                return data;\r\n                                            })\r\n                            );\r\n    \r\n            solution.subscribe(\r\n                    (data) -&gt; {\r\n                        System.out.println(&quot;onSuccess: &quot; + data);\r\n                    },\r\n                    (error) -&gt; {\r\n                        System.out.println(&quot;onError: &quot; + error);\r\n                    }\r\n            );\r\n        }\r\n    \r\n        private static boolean checkFlag(int attempt) {\r\n            System.out.println(&quot;check flag attempt #&quot; + attempt);\r\n            return attempt == MAX_ATTEMPT;\r\n        }\r\n    \r\n    }\r\n\r\n","title":"Repeat Rxjava chain","body":"<p>Below could be an alternative (pardon me for the heavy indentation):</p>\n<pre><code>import io.reactivex.rxjava3.core.Observable;\nimport io.reactivex.rxjava3.core.Single;\nimport io.reactivex.rxjava3.schedulers.Schedulers;\n\nimport java.util.concurrent.TimeUnit;\n\npublic class Answer {\n\n    private static final int MAX_ATTEMPT = 5;\n\n    public static void main(String[] args) {\n        Single&lt;String&gt; solution =\n                Single.just(&quot;dummy data&quot;)\n                        .flatMap(data -&gt;\n                                Observable.range(1, MAX_ATTEMPT)\n                                        .map(Answer::checkFlag)\n                                        .delay(result -&gt; {\n                                            if (!result) {\n                                                return Observable\n                                                        .just(false)\n                                                        .delay(1, TimeUnit.SECONDS, Schedulers.trampoline());\n                                            }\n                                            return Observable.just(true);\n                                        })\n                                        .takeUntil(result -&gt; result == true)\n                                        .toList()\n                                        .map(results -&gt; results.size() &lt; MAX_ATTEMPT || (results.size() == MAX_ATTEMPT &amp;&amp; results.get(MAX_ATTEMPT - 1)))\n                                        .map(result -&gt; {\n                                            if (!result) {\n                                                throw new Exception(&quot;check flag error&quot;);\n                                            }\n                                            return data;\n                                        })\n                        );\n\n        solution.subscribe(\n                (data) -&gt; {\n                    System.out.println(&quot;onSuccess: &quot; + data);\n                },\n                (error) -&gt; {\n                    System.out.println(&quot;onError: &quot; + error);\n                }\n        );\n    }\n\n    private static boolean checkFlag(int attempt) {\n        System.out.println(&quot;check flag attempt #&quot; + attempt);\n        return attempt == MAX_ATTEMPT;\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":24899378,"reputation":23,"user_id":18770232,"display_name":"Serhio"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656554928,"creation_date":1651817470,"question_id":72136890,"body_markdown":"I am getting data then I am doing an async request to check flag and if it is false, I want to repeat this step for 5 times with 1 sec delay until it gets true and continue processing or throw exception.\r\n\r\n    return getData()\r\n               .flatMap(data -&gt; checkFlag()\r\n                        .map(b -&gt; {\r\n                            if (b) {\r\n                                return data;\r\n                            } else {\r\n                                throw new Exception();\r\n                            }\r\n                        }))\r\n               .retryWhen((Flowable&lt;Throwable&gt; f) -&gt; f.take(5).delay(1000, TimeUnit.MILLISECONDS))\r\n               .flatmapCompletable(data -&gt; sendEvent(data))\r\n\r\n    Maybe&lt;Dto&gt; getData();\r\n    Maybe&lt;Boolean&gt; checkFlag();\r\n    Completable sendEvent(Dto dto);\r\n\r\nI am using retryWhen(), but because of it I have to throw Exception on false case. Maybe there is a better way to do it and to avoid working from exception? \r\nIf it is not, then how can I retry only for specific Exception?\r\n\r\n    .retryWhen(e -&gt; e.flatMap(error -&gt; {\r\n                    if (error instanceof CustomException) {\r\n                        return Flowable.just(null);//doesn&#39;t trigger repeat\r\n                    }\r\n                    return Flowable.error(error);\r\n                }).take(5).delay(1000, TimeUnit.MILLISECONDS))","title":"Repeat Rxjava chain","body":"<p>I am getting data then I am doing an async request to check flag and if it is false, I want to repeat this step for 5 times with 1 sec delay until it gets true and continue processing or throw exception.</p>\n<pre><code>return getData()\n           .flatMap(data -&gt; checkFlag()\n                    .map(b -&gt; {\n                        if (b) {\n                            return data;\n                        } else {\n                            throw new Exception();\n                        }\n                    }))\n           .retryWhen((Flowable&lt;Throwable&gt; f) -&gt; f.take(5).delay(1000, TimeUnit.MILLISECONDS))\n           .flatmapCompletable(data -&gt; sendEvent(data))\n\nMaybe&lt;Dto&gt; getData();\nMaybe&lt;Boolean&gt; checkFlag();\nCompletable sendEvent(Dto dto);\n</code></pre>\n<p>I am using retryWhen(), but because of it I have to throw Exception on false case. Maybe there is a better way to do it and to avoid working from exception?\nIf it is not, then how can I retry only for specific Exception?</p>\n<pre><code>.retryWhen(e -&gt; e.flatMap(error -&gt; {\n                if (error instanceof CustomException) {\n                    return Flowable.just(null);//doesn't trigger repeat\n                }\n                return Flowable.error(error);\n            }).take(5).delay(1000, TimeUnit.MILLISECONDS))\n</code></pre>\n"},{"tags":["java","rx-java","couchbase","couchbase-java-api"],"comments":[{"owner":{"account_id":9475686,"reputation":10818,"user_id":7045114,"accept_rate":83,"display_name":"Maksim Ostrovidov"},"score":0,"creation_date":1490248277,"post_id":42968111,"comment_id":73029672,"body_markdown":"Please provide the code you tried and what result you got.","body":"Please provide the code you tried and what result you got."},{"owner":{"account_id":7460660,"reputation":2741,"user_id":5672261,"accept_rate":72,"display_name":"Nitin"},"score":0,"creation_date":1490250898,"post_id":42968111,"comment_id":73030692,"body_markdown":"Method `toMap` required function as argument  , which i don&#39;t know how to write","body":"Method <code>toMap</code> required function as argument  , which i don&#39;t know how to write"},{"owner":{"account_id":9475686,"reputation":10818,"user_id":7045114,"accept_rate":83,"display_name":"Maksim Ostrovidov"},"score":0,"creation_date":1490253781,"post_id":42968111,"comment_id":73031858,"body_markdown":"Is your problem to combine key and flatMap result? Then check this - http://stackoverflow.com/a/41820372/7045114","body":"Is your problem to combine key and flatMap result? Then check this - <a href=\"http://stackoverflow.com/a/41820372/7045114\">stackoverflow.com/a/41820372/7045114</a>"}],"answers":[{"tags":[],"owner":{"account_id":398930,"reputation":12242,"user_id":763935,"accept_rate":65,"display_name":"david.mihola"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1490255479,"creation_date":1490255479,"answer_id":42970100,"question_id":42968111,"body_markdown":"You correctly mentioned in your comment that `toMap` needs a `Function` as its argument. This `Function` will be used to &quot;extract&quot; (or maybe &quot;construct&quot;) the key under which each value will be entered into the map.\r\n\r\nSo, in your case you will need a `Function&lt;JsonDocument, String&gt;` that takes a `JsonDocument` as its input and somehow returns a `String` which you will later use to find the `JsonDocument` in the `Map`. What that `String` will be is something only you can answer - maybe there is some ID inside the `JsonDocument`?","title":"prepare map using Observable Rx-java","body":"<p>You correctly mentioned in your comment that <code>toMap</code> needs a <code>Function</code> as its argument. This <code>Function</code> will be used to \"extract\" (or maybe \"construct\") the key under which each value will be entered into the map.</p>\n\n<p>So, in your case you will need a <code>Function&lt;JsonDocument, String&gt;</code> that takes a <code>JsonDocument</code> as its input and somehow returns a <code>String</code> which you will later use to find the <code>JsonDocument</code> in the <code>Map</code>. What that <code>String</code> will be is something only you can answer - maybe there is some ID inside the <code>JsonDocument</code>?</p>\n"}],"owner":{"account_id":7460660,"reputation":2741,"user_id":5672261,"accept_rate":72,"display_name":"Nitin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":119,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1656552720,"creation_date":1490247770,"question_id":42968111,"body_markdown":"Here i my sample code which returns list of `JsonDocument` from couchbase server.\r\n\r\n    Cluster cluster = CouchbaseCluster.create();\r\n    Bucket bucket = cluster.openBucket();\r\n    \r\n    List&lt;JsonDocument&gt; foundDocs = Observable\r\n        .just(&quot;key1&quot;, &quot;key2&quot;, &quot;key3&quot;, &quot;key4&quot;, &quot;key5&quot;)\r\n        .flatMap(new Func1&lt;String, Observable&lt;JsonDocument&gt;&gt;() {\r\n            @Override\r\n            public Observable&lt;JsonDocument&gt; call(String id) {\r\n                return bucket.async().get(id);\r\n            }\r\n        })\r\n        .toList()\r\n        .toBlocking()\r\n        .single();\r\n\r\nI want to return `Map` instead of `List`.My return type would be `Map&lt;String, JsonDocument&gt;`.\r\nI tried with `toMap` method but it did not work for me.","title":"prepare map using Observable Rx-java","body":"<p>Here i my sample code which returns list of <code>JsonDocument</code> from couchbase server.</p>\n\n<pre><code>Cluster cluster = CouchbaseCluster.create();\nBucket bucket = cluster.openBucket();\n\nList&lt;JsonDocument&gt; foundDocs = Observable\n    .just(\"key1\", \"key2\", \"key3\", \"key4\", \"key5\")\n    .flatMap(new Func1&lt;String, Observable&lt;JsonDocument&gt;&gt;() {\n        @Override\n        public Observable&lt;JsonDocument&gt; call(String id) {\n            return bucket.async().get(id);\n        }\n    })\n    .toList()\n    .toBlocking()\n    .single();\n</code></pre>\n\n<p>I want to return <code>Map</code> instead of <code>List</code>.My return type would be <code>Map&lt;String, JsonDocument&gt;</code>.\nI tried with <code>toMap</code> method but it did not work for me.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4946019,"reputation":147,"user_id":3981342,"display_name":"HelloWorld"},"score":0,"creation_date":1656552670,"post_id":60922773,"comment_id":128603277,"body_markdown":"Is your problem solved? I also encountered the same problem.","body":"Is your problem solved? I also encountered the same problem."},{"owner":{"account_id":6879972,"reputation":433,"user_id":5286990,"accept_rate":100,"display_name":"ÂàòÊÄùÂá°"},"score":0,"creation_date":1657077770,"post_id":60922773,"comment_id":128721208,"body_markdown":"Yes, the  problem is solved, you can read the answer below.","body":"Yes, the  problem is solved, you can read the answer below."}],"answers":[{"tags":[],"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1585532063,"creation_date":1585532063,"answer_id":60922909,"question_id":60922773,"body_markdown":" &gt; It seems only next field of head was modified, how is the reference of head changed?\r\n\r\nCorrect, `head.next` was changed.\r\n\r\nThe `head` field of the queue is intentionally not modified by the `offer(e)` method.\r\n\r\nThe `head` and `tail` fields of the queue are never `null`, so when the queue is empty, they both refer to the same node, and that node has `item = null`. It is always valid for one or more nodes to have `item = null`. Those nodes will be skipped when querying or polling the queue.\r\n\r\nIt&#39;s all done that way to make the code thread-safe without the use of locking.","title":"How is java.util.concurrent.ConcurrentLinkedQueue#head updated after initialisation?","body":"<blockquote>\n  <p>It seems only next field of head was modified, how is the reference of head changed?</p>\n</blockquote>\n\n<p>Correct, <code>head.next</code> was changed.</p>\n\n<p>The <code>head</code> field of the queue is intentionally not modified by the <code>offer(e)</code> method.</p>\n\n<p>The <code>head</code> and <code>tail</code> fields of the queue are never <code>null</code>, so when the queue is empty, they both refer to the same node, and that node has <code>item = null</code>. It is always valid for one or more nodes to have <code>item = null</code>. Those nodes will be skipped when querying or polling the queue.</p>\n\n<p>It's all done that way to make the code thread-safe without the use of locking.</p>\n"}],"owner":{"account_id":6879972,"reputation":433,"user_id":5286990,"accept_rate":100,"display_name":"ÂàòÊÄùÂá°"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":256,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656552642,"creation_date":1585530689,"question_id":60922773,"body_markdown":"Environment:  \r\njava :```java version &quot;1.8.0_201&quot;```  \r\nos:```Ubuntu 16.04.6 LTS Linux version 4.15.0-91-generic ```    \r\n\r\nRecently I read the source code of ```java.util.concurrent.ConcurrentLinkedQueue#offer```, and I am confused with the code below.\r\n```\r\npublic boolean offer(E e){\r\n        checkNotNull(e);\r\n        final Node&lt;E&gt; newNode = new Node&lt;E&gt;(e);\r\n\r\n        for (Node&lt;E&gt; t = tail, p = t; ; ) {\r\n          Node&lt;E&gt; q = p.next;\r\n          if (q == null) {\r\n            // p is last node\r\n            if (p.casNext(null, newNode)) {\r\n            ......\r\n````\r\nwhen ```ConcurrentLinkedQueue``` is initialized, the `item` of `head` and `tail` is null.\r\n````\r\n public ConcurrentLinkedQueue() {\r\n        head = tail = new Node&lt;E&gt;(null);\r\n    }\r\n````  \r\n\r\nbut after I first invoke  `ConcurrentLinkedQueue#offer`(with `queue.offer(1)`) and the code executed the line\r\n`p.casNext(null, newNode)`(here `p` and `head` are the same reference), the reference of `head` was changed to `newNode`,and &#39;item&#39; value of head was change to `1`.  \r\nDetail of ```p.casNext``` is like this  \r\n````\r\n        boolean casNext(Node&lt;E&gt; cmp, Node&lt;E&gt; val) {\r\n            return UNSAFE.compareAndSwapObject(this, nextOffset, cmp, val);\r\n        }\r\n````\r\nIt seems only next filed of head was modified in the cas method, but why was the reference of head changed?   \r\nCan you give me some explation? Thanks in advance!","title":"How is java.util.concurrent.ConcurrentLinkedQueue#head updated after initialisation?","body":"<p>Environment:<br>\njava :<code>java version \"1.8.0_201\"</code><br>\nos:<code>Ubuntu 16.04.6 LTS Linux version 4.15.0-91-generic</code>    </p>\n\n<p>Recently I read the source code of <code>java.util.concurrent.ConcurrentLinkedQueue#offer</code>, and I am confused with the code below.</p>\n\n<pre><code>public boolean offer(E e){\n        checkNotNull(e);\n        final Node&lt;E&gt; newNode = new Node&lt;E&gt;(e);\n\n        for (Node&lt;E&gt; t = tail, p = t; ; ) {\n          Node&lt;E&gt; q = p.next;\n          if (q == null) {\n            // p is last node\n            if (p.casNext(null, newNode)) {\n            ......\n</code></pre>\n\n<p>when <code>ConcurrentLinkedQueue</code> is initialized, the <code>item</code> of <code>head</code> and <code>tail</code> is null.</p>\n\n<pre><code> public ConcurrentLinkedQueue() {\n        head = tail = new Node&lt;E&gt;(null);\n    }\n</code></pre>\n\n<p>but after I first invoke  <code>ConcurrentLinkedQueue#offer</code>(with <code>queue.offer(1)</code>) and the code executed the line\n<code>p.casNext(null, newNode)</code>(here <code>p</code> and <code>head</code> are the same reference), the reference of <code>head</code> was changed to <code>newNode</code>,and 'item' value of head was change to <code>1</code>.<br>\nDetail of <code>p.casNext</code> is like this  </p>\n\n<pre><code>        boolean casNext(Node&lt;E&gt; cmp, Node&lt;E&gt; val) {\n            return UNSAFE.compareAndSwapObject(this, nextOffset, cmp, val);\n        }\n</code></pre>\n\n<p>It seems only next filed of head was modified in the cas method, but why was the reference of head changed?<br>\nCan you give me some explation? Thanks in advance!</p>\n"},{"tags":["java","postgresql","jdbc","plpgsql","mybatis"],"comments":[{"owner":{"display_name":"user330315"},"score":1,"creation_date":1656501766,"post_id":72800408,"comment_id":128587126,"body_markdown":"Why not make declare the function as `returns table (..)` then use `select * from test(?)` with a `PreparedStatement.executeQuery()`?","body":"Why not make declare the function as <code>returns table (..)</code> then use <code>select * from test(?)</code> with a <code>PreparedStatement.executeQuery()</code>?"},{"owner":{"account_id":4968850,"reputation":1,"user_id":3997314,"display_name":"Ju Sung Park"},"score":0,"creation_date":1656507112,"post_id":72800408,"comment_id":128589321,"body_markdown":"@Laurenz Albe\nout refcursor can not return","body":"@Laurenz Albe out refcursor can not return"},{"owner":{"account_id":4968850,"reputation":1,"user_id":3997314,"display_name":"Ju Sung Park"},"score":0,"creation_date":1656507131,"post_id":72800408,"comment_id":128589327,"body_markdown":"@user16320675 just test code, and order of the sql results, not the order of the columns.","body":"@user16320675 just test code, and order of the sql results, not the order of the columns."},{"owner":{"account_id":4968850,"reputation":1,"user_id":3997314,"display_name":"Ju Sung Park"},"score":0,"creation_date":1656508035,"post_id":72800408,"comment_id":128589739,"body_markdown":"@a_horse_with_no_name Tried it but didn&#39;t get the desired result","body":"@a_horse_with_no_name Tried it but didn&#39;t get the desired result"},{"owner":{"account_id":8633322,"reputation":218393,"user_id":6464308,"display_name":"Laurenz Albe"},"score":0,"creation_date":1656508463,"post_id":72800408,"comment_id":128589931,"body_markdown":"Your PL/pgSQL procedure is full of syntax errors.","body":"Your PL/pgSQL procedure is full of syntax errors."},{"owner":{"account_id":8633322,"reputation":218393,"user_id":6464308,"display_name":"Laurenz Albe"},"score":0,"creation_date":1656508862,"post_id":72800408,"comment_id":128590090,"body_markdown":"I cannot reproduce the problem. Perhaps you can provide a complete code sample.","body":"I cannot reproduce the problem. Perhaps you can provide a complete code sample."}],"owner":{"account_id":4968850,"reputation":1,"user_id":3997314,"display_name":"Ju Sung Park"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1656551881,"creation_date":1656501095,"question_id":72800408,"body_markdown":"**--postgresql function--**\r\n\r\n    create function test(v_param bigin, OUT mycursor refcursor) returns refcursor\r\n    language plpgsql\r\n    DECLARE\r\n    ...\r\n    BEGIN\r\n    l_stmt := &quot;select * from (select * from mytable order by date_column DESC) as t&quot; --order query execut\r\n    ..\r\n    OPEN mycursor FOR EXECUTE l_stmt\r\n    END;\r\n\r\n**--java code--**\r\n\r\n    Connection conn = sqlSession.getConnection();\r\n    PreparedStatement preStmt = conn.prepareStatement(&quot;select * from (select * from mytable order by date_column DESC) as t&quot;); //pl/sql function same query\r\n    ResultSet resultSet = preStmt.executeQuery();\r\n    while(resultSet.next()) {\r\n       /**\r\n          date_column| etc_column\r\n          2022/06/25 | a\r\n          2022/06/24 | b\r\n          2022/06/23 | c\r\n       **/\r\n       System.out.println(resultSet.getObject(11)) //result row ordered\r\n    }\r\n\r\n**--java code (call function result set ordering problem)--**\r\n\r\n    Connection conn = sqlSession.getConnection();\r\n    conn.setAutoCommit(false);\r\n    CallableStatement call = conn.prepareCall(&quot;{ ? = call test(?) }&quot;);\r\n    call.registerOutParameter(1, Types.REF_CURSOR);\r\n    call.setLong(1, 0L);\r\n    call.execute();\r\n    ResultSet resultSet = call.getObject(1);\r\n    while(resultSet.next()) {\r\n        /**\r\n          date_column| etc_column\r\n          2022/06/24 | b\r\n          2022/06/25 | a\r\n          2022/06/23 | c\r\n       **/\r\n       System.out.println(resultSet.getObject(11)) //result row not ordered\r\n    }\r\n\r\n--Questions.--\r\n\r\n**Is the order not guaranteed when getting a cursor by executing a sorted query?**\r\n\r\n\r\n\r\n","title":"PostgreSQL call function out refcursor ResultSet next order not working","body":"<p><strong>--postgresql function--</strong></p>\n<pre><code>create function test(v_param bigin, OUT mycursor refcursor) returns refcursor\nlanguage plpgsql\nDECLARE\n...\nBEGIN\nl_stmt := &quot;select * from (select * from mytable order by date_column DESC) as t&quot; --order query execut\n..\nOPEN mycursor FOR EXECUTE l_stmt\nEND;\n</code></pre>\n<p><strong>--java code--</strong></p>\n<pre><code>Connection conn = sqlSession.getConnection();\nPreparedStatement preStmt = conn.prepareStatement(&quot;select * from (select * from mytable order by date_column DESC) as t&quot;); //pl/sql function same query\nResultSet resultSet = preStmt.executeQuery();\nwhile(resultSet.next()) {\n   /**\n      date_column| etc_column\n      2022/06/25 | a\n      2022/06/24 | b\n      2022/06/23 | c\n   **/\n   System.out.println(resultSet.getObject(11)) //result row ordered\n}\n</code></pre>\n<p><strong>--java code (call function result set ordering problem)--</strong></p>\n<pre><code>Connection conn = sqlSession.getConnection();\nconn.setAutoCommit(false);\nCallableStatement call = conn.prepareCall(&quot;{ ? = call test(?) }&quot;);\ncall.registerOutParameter(1, Types.REF_CURSOR);\ncall.setLong(1, 0L);\ncall.execute();\nResultSet resultSet = call.getObject(1);\nwhile(resultSet.next()) {\n    /**\n      date_column| etc_column\n      2022/06/24 | b\n      2022/06/25 | a\n      2022/06/23 | c\n   **/\n   System.out.println(resultSet.getObject(11)) //result row not ordered\n}\n</code></pre>\n<p>--Questions.--</p>\n<p><strong>Is the order not guaranteed when getting a cursor by executing a sorted query?</strong></p>\n"},{"tags":["java","multithreading","conditional-statements","synchronized"],"comments":[{"owner":{"account_id":25534785,"reputation":532,"user_id":19322069,"display_name":"access violation"},"score":3,"creation_date":1656551101,"post_id":72809273,"comment_id":128603084,"body_markdown":"The synchonization needs to be held across the lookup and insert, since the entire &quot;insert if not already present&quot; needs to be treated as atomic.","body":"The synchonization needs to be held across the lookup and insert, since the entire &quot;insert if not already present&quot; needs to be treated as atomic."},{"owner":{"account_id":8900519,"reputation":503,"user_id":6644123,"display_name":"shanfeng"},"score":0,"creation_date":1656552035,"post_id":72809273,"comment_id":128603198,"body_markdown":"`dataMap` may provides some atomic operations which may be help. Or you can use db lock or db key to solve this.","body":"<code>dataMap</code> may provides some atomic operations which may be help. Or you can use db lock or db key to solve this."}],"answers":[{"tags":[],"owner":{"account_id":444416,"reputation":15934,"user_id":836214,"accept_rate":86,"display_name":"Krease"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656551351,"creation_date":1656551351,"answer_id":72809315,"question_id":72809273,"body_markdown":"`synchronized` will help with controlling access by multiple threads within a single process.\r\n\r\nHowever, slapping on `synchronized` isn&#39;t always right, and can cause more problems if it&#39;s not right.  Since it looks like you&#39;re dealing with an external persistence layer (a table), there&#39;s the possibility of a different process (either on the same machine or a different machine) that is making an update - `synchronized` won&#39;t help with that. \r\n\r\nYou need to debug further &amp; determine the root cause of the issue - what is it that&#39;s making the competing modification - before determining if using `synchronized` is the right solution.","title":"How to use synchronized method to prevent race condition in if statement?","body":"<p><code>synchronized</code> will help with controlling access by multiple threads within a single process.</p>\n<p>However, slapping on <code>synchronized</code> isn't always right, and can cause more problems if it's not right.  Since it looks like you're dealing with an external persistence layer (a table), there's the possibility of a different process (either on the same machine or a different machine) that is making an update - <code>synchronized</code> won't help with that.</p>\n<p>You need to debug further &amp; determine the root cause of the issue - what is it that's making the competing modification - before determining if using <code>synchronized</code> is the right solution.</p>\n"}],"owner":{"account_id":22341888,"reputation":11,"user_id":16561546,"display_name":"Burak Topcu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":167,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1656551351,"creation_date":1656550730,"question_id":72809273,"body_markdown":"I&#39;m trying to prevent race condition in my code,\r\nAt one code block if statement checking a condition with a method (if a variable is null or not), and end of the code block (after some major operations) that variable changes, it&#39;s not NULL anymore.\r\n\r\nIf two thread run that block at the same time, one of them finishing the block and after that other one getting exception because of ID/Value already written(exist) to the datamap by first thread.\r\nThe second thread need to wait for the first one finish its job.\r\nAnd after the that waiting, variable is not NULL anymore , and second thread will not run the code block, won&#39;t get exception.\r\n\r\nExample code (JAVA):\r\n\r\n```\r\nSOTable testtable= SOTable.getInstance();\r\n\r\nif (testtable.findvalue(ID) == null){\r\n\r\n// A lot of if statements here...\r\n// At the last of the code block:\r\n\r\ntesttable.insert(ID,data);\r\n\r\n// testtable.findvalue(ID) not equal NULL any more\r\n\r\n}\r\n\r\n// findvalue method\r\npublic SOData findvalue(String ID) {      \r\n      SOData  testdata = null;\r\n      synchronized (lock) {\r\n         testdata = (SOData)dataMap.getValue(ID);\r\n      }\r\n      return testdata; // If ID not match returns NULL\r\n   }\r\n```\r\nDo you think using of &quot;synchronized (lock)&quot; here can prevent that situation ?\r\n\r\nThanks","title":"How to use synchronized method to prevent race condition in if statement?","body":"<p>I'm trying to prevent race condition in my code,\nAt one code block if statement checking a condition with a method (if a variable is null or not), and end of the code block (after some major operations) that variable changes, it's not NULL anymore.</p>\n<p>If two thread run that block at the same time, one of them finishing the block and after that other one getting exception because of ID/Value already written(exist) to the datamap by first thread.\nThe second thread need to wait for the first one finish its job.\nAnd after the that waiting, variable is not NULL anymore , and second thread will not run the code block, won't get exception.</p>\n<p>Example code (JAVA):</p>\n<pre><code>SOTable testtable= SOTable.getInstance();\n\nif (testtable.findvalue(ID) == null){\n\n// A lot of if statements here...\n// At the last of the code block:\n\ntesttable.insert(ID,data);\n\n// testtable.findvalue(ID) not equal NULL any more\n\n}\n\n// findvalue method\npublic SOData findvalue(String ID) {      \n      SOData  testdata = null;\n      synchronized (lock) {\n         testdata = (SOData)dataMap.getValue(ID);\n      }\n      return testdata; // If ID not match returns NULL\n   }\n</code></pre>\n<p>Do you think using of &quot;synchronized (lock)&quot; here can prevent that situation ?</p>\n<p>Thanks</p>\n"},{"tags":["java","android","android-edittext","android-textinputlayout"],"comments":[{"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1656493748,"post_id":72798708,"comment_id":128583981,"body_markdown":"`yourString.replaceAll(&quot;\\\\s+&quot;, &quot;&quot;)` ?","body":"<code>yourString.replaceAll(&quot;\\\\s+&quot;, &quot;&quot;)</code> ?"},{"owner":{"account_id":14451793,"reputation":43,"user_id":10439038,"display_name":"Wilson Lesley"},"score":0,"creation_date":1656493855,"post_id":72798708,"comment_id":128584028,"body_markdown":"The hard part is the max length, because if I use the usual filter or onTextChange, it won&#39;t work due to the length cutted first before it trim whitespace. It will become &quot;1234123&quot; instead.","body":"The hard part is the max length, because if I use the usual filter or onTextChange, it won&#39;t work due to the length cutted first before it trim whitespace. It will become &quot;1234123&quot; instead."},{"owner":{"account_id":24438997,"reputation":1738,"user_id":18362930,"display_name":"Sandesh Khutal"},"score":0,"creation_date":1656494561,"post_id":72798708,"comment_id":128584308,"body_markdown":"Try this thread -https://stackoverflow.com/questions/9757991/how-to-delete-instantly-space-from-an-edittext-if-a-user-presses-the-space","body":"Try this thread -<a href=\"https://stackoverflow.com/questions/9757991/how-to-delete-instantly-space-from-an-edittext-if-a-user-presses-the-space\" title=\"how to delete instantly space from an edittext if a user presses the space\">stackoverflow.com/questions/9757991/&hellip;</a>"},{"owner":{"account_id":14451793,"reputation":43,"user_id":10439038,"display_name":"Wilson Lesley"},"score":0,"creation_date":1656496627,"post_id":72798708,"comment_id":128585085,"body_markdown":"The hard part is the max length, because if I use the usual filter or onTextChange, it won&#39;t work due to the length cutted first before it trim whitespace. It will become &quot;1234123&quot; instead.","body":"The hard part is the max length, because if I use the usual filter or onTextChange, it won&#39;t work due to the length cutted first before it trim whitespace. It will become &quot;1234123&quot; instead."}],"answers":[{"tags":[],"owner":{"account_id":8373673,"reputation":61868,"user_id":6287910,"display_name":"Cheticamp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1656551240,"creation_date":1656512939,"answer_id":72803127,"question_id":72798708,"body_markdown":"Here is an [InputFilter.LengthFilter](https://developer.android.com/reference/android/text/InputFilter.LengthFilter) that should work:\r\n\r\n    private class MyLengthFilter(max: Int) : InputFilter.LengthFilter(max) {\r\n        private val mMax = max\r\n\r\n        override fun filter(\r\n            source: CharSequence, start: Int, end: Int, dest: Spanned, dstart: Int, dend: Int\r\n        ): CharSequence? {\r\n            val newSource = super.filter(source, start, end, dest, dstart, dend)\r\n\r\n            if (newSource.isNullOrEmpty()) return newSource\r\n\r\n            // Calculate how many characters were truncated\r\n            val truncated = (end - start) - newSource.length\r\n            if (truncated &lt;= 0) return newSource\r\n\r\n            // Remove all space characters. Adjust this to change how the replacement string is adjusted.\r\n            val noSpaceSource = source.filter { !Character.isSpaceChar(it) }\r\n            if (noSpaceSource == source) return newSource // No white space.\r\n\r\n            return super.filter(\r\n                noSpaceSource, start, start + noSpaceSource.length, dest, dstart, dend\r\n            ) ?: noSpaceSource\r\n        }\r\n    }\r\n\r\nTake note of the comment in _InputFilter_ regarding spans when `source` is an instance of _Spanned_ or _Spannable_ in case it effects you.","title":"Remove whitespace before Paste with a Max Length","body":"<p>Here is an <a href=\"https://developer.android.com/reference/android/text/InputFilter.LengthFilter\" rel=\"nofollow noreferrer\">InputFilter.LengthFilter</a> that should work:</p>\n<pre><code>private class MyLengthFilter(max: Int) : InputFilter.LengthFilter(max) {\n    private val mMax = max\n\n    override fun filter(\n        source: CharSequence, start: Int, end: Int, dest: Spanned, dstart: Int, dend: Int\n    ): CharSequence? {\n        val newSource = super.filter(source, start, end, dest, dstart, dend)\n\n        if (newSource.isNullOrEmpty()) return newSource\n\n        // Calculate how many characters were truncated\n        val truncated = (end - start) - newSource.length\n        if (truncated &lt;= 0) return newSource\n\n        // Remove all space characters. Adjust this to change how the replacement string is adjusted.\n        val noSpaceSource = source.filter { !Character.isSpaceChar(it) }\n        if (noSpaceSource == source) return newSource // No white space.\n\n        return super.filter(\n            noSpaceSource, start, start + noSpaceSource.length, dest, dstart, dend\n        ) ?: noSpaceSource\n    }\n}\n</code></pre>\n<p>Take note of the comment in <em>InputFilter</em> regarding spans when <code>source</code> is an instance of <em>Spanned</em> or <em>Spannable</em> in case it effects you.</p>\n"}],"owner":{"account_id":14451793,"reputation":43,"user_id":10439038,"display_name":"Wilson Lesley"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":184,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72803127,"answer_count":1,"score":1,"last_activity_date":1656551240,"creation_date":1656493648,"question_id":72798708,"body_markdown":"So I use TextInputEditText with a max length of 8 .\r\n\r\nIf I paste &quot;1234 1234&quot;, it will become &quot;1234 123&quot;. \r\nMy goal is for it to become &quot;12341234&quot; \r\n\r\nThe hard part is the max length, because if I use the usual filter or onTextChange, it won&#39;t work due to the length cutted first before it trim whitespace. \r\nIt will become &quot;1234123&quot; instead. \r\n\r\nSo I want to trim the whitespace before it pasted to the edit text. \r\n\r\nAny idea ? \r\n\r\nEdit : Because every commenter never read my question. Here&#39;s why onTextChanged dont work on mine. \r\nI copy &quot;1234 1234&quot;. When I pasted, due to max length it will be converted to &quot;1234 123&quot;. Then go to TextWatcher Listener, or RxJava Listener. So if I put it in onTextChange,beforeTextChange,or afterTextChange, it already become &quot;1234 123&quot;, hence I can&#39;t achieve the goal of &quot;12341234&quot;","title":"Remove whitespace before Paste with a Max Length","body":"<p>So I use TextInputEditText with a max length of 8 .</p>\n<p>If I paste &quot;1234 1234&quot;, it will become &quot;1234 123&quot;.\nMy goal is for it to become &quot;12341234&quot;</p>\n<p>The hard part is the max length, because if I use the usual filter or onTextChange, it won't work due to the length cutted first before it trim whitespace.\nIt will become &quot;1234123&quot; instead.</p>\n<p>So I want to trim the whitespace before it pasted to the edit text.</p>\n<p>Any idea ?</p>\n<p>Edit : Because every commenter never read my question. Here's why onTextChanged dont work on mine.\nI copy &quot;1234 1234&quot;. When I pasted, due to max length it will be converted to &quot;1234 123&quot;. Then go to TextWatcher Listener, or RxJava Listener. So if I put it in onTextChange,beforeTextChange,or afterTextChange, it already become &quot;1234 123&quot;, hence I can't achieve the goal of &quot;12341234&quot;</p>\n"},{"tags":["java","javascript","java-7","jsobject"],"answers":[{"tags":[],"owner":{"account_id":1980698,"reputation":94,"user_id":1777395,"display_name":"Napsteur"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1352466045,"creation_date":1352466045,"answer_id":13308561,"question_id":13308495,"body_markdown":"I think you have to add:\r\n\r\n    import java.awt.Window;\r\n    import java.awt.event.WindowEvent","title":"Why is getWindow() not able to be resolved?","body":"<p>I think you have to add:</p>\n\n<pre><code>import java.awt.Window;\nimport java.awt.event.WindowEvent\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1460122,"reputation":3062,"user_id":1374673,"display_name":"willome"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1352466179,"creation_date":1352466179,"answer_id":13308599,"question_id":13308495,"body_markdown":"Is the &quot;MAYSCRIPT&quot; applet tag parameter declared ?\r\n\r\n    &lt;APPLET code=&quot;XYZApp.class&quot; codebase=&quot;html/&quot; align=&quot;baseline&quot;\r\n     width=&quot;200&quot; height=&quot;200&quot; MAYSCRIPT&gt;\r\n&lt;PARAM NAME=&quot;model&quot; VALUE=&quot;models/HyaluronicAcid.xyz&quot;&gt;\r\n\r\n&lt;/APPLET&gt;","title":"Why is getWindow() not able to be resolved?","body":"<p>Is the \"MAYSCRIPT\" applet tag parameter declared ?</p>\n\n<pre><code>&lt;APPLET code=\"XYZApp.class\" codebase=\"html/\" align=\"baseline\"\n width=\"200\" height=\"200\" MAYSCRIPT&gt;\n</code></pre>\n\n<p></p>\n\n<p></p>\n"},{"tags":[],"owner":{"account_id":2248847,"reputation":596,"user_id":1981561,"display_name":"Brandon Coder"},"down_vote_count":0,"up_vote_count":48,"is_accepted":true,"score":48,"last_activity_date":1656550541,"creation_date":1358282592,"answer_id":14346541,"question_id":13308495,"body_markdown":"In `jdk1.7.0_11`, I noticed that there are two separate jars within \r\n\r\n    ../jre/lib/ \r\n\r\nthat contain the `netscape.javascript.JSObject.class`, namely \r\n\r\n- jfxrt.jar\r\n- plugin.jar\r\n\r\nIn the case of my IDE (IntelliJ), when I created a project SDK for Java it added both the `jfxrt.jar` and the `plugin.jar` jars to the classpath.  \r\n\r\nAs the `jfxrt.jar` appears alphabetically before `plugin.jar` in the **classpath**, my application code was not resolving \r\n\r\n    JSObject.getWindow(...)\r\n\r\nproperly.  \r\n\r\nAs we&#39;re not using JavaFX within our application I simply removed the jfxrt.jar from my projects Java SDK classpath.","title":"Why is getWindow() not able to be resolved?","body":"<p>In <code>jdk1.7.0_11</code>, I noticed that there are two separate jars within</p>\n<pre><code>../jre/lib/ \n</code></pre>\n<p>that contain the <code>netscape.javascript.JSObject.class</code>, namely</p>\n<ul>\n<li>jfxrt.jar</li>\n<li>plugin.jar</li>\n</ul>\n<p>In the case of my IDE (IntelliJ), when I created a project SDK for Java it added both the <code>jfxrt.jar</code> and the <code>plugin.jar</code> jars to the classpath.</p>\n<p>As the <code>jfxrt.jar</code> appears alphabetically before <code>plugin.jar</code> in the <strong>classpath</strong>, my application code was not resolving</p>\n<pre><code>JSObject.getWindow(...)\n</code></pre>\n<p>properly.</p>\n<p>As we're not using JavaFX within our application I simply removed the jfxrt.jar from my projects Java SDK classpath.</p>\n"}],"owner":{"account_id":1510282,"reputation":1387,"user_id":1412593,"accept_rate":90,"display_name":"Hello World"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11175,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"accepted_answer_id":14346541,"answer_count":3,"score":21,"last_activity_date":1656550541,"creation_date":1352465815,"question_id":13308495,"body_markdown":"I can&#39;t resolve the getWindow(); method for some reason...\r\n\r\n\r\n    import java.applet.Applet;\r\n\r\n    import netscape.javascript.JSObject;\r\n\r\n    public class Class466 {\r\n\tpublic static void method6020(Applet applet, String string, int i)\r\n\t\t\tthrows Throwable {\r\n\t\ttry {\r\n\t\t\tJSObject.getWindow(applet).eval(string);\r\n\t\t} catch (RuntimeException runtimeexception) {\r\n\t\t\tthrow Class346.method4175(runtimeexception, new StringBuilder()\r\n\t\t\t\t\t.append(&quot;tf.a(&quot;).append(&#39;)&#39;).toString());\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static Object method6021(Applet applet, String string, short i)\r\n\t\t\tthrows Throwable {\r\n\t\ttry {\r\n\t\t\treturn JSObject.getWindow(applet).call(string, null);\r\n\t\t} catch (RuntimeException runtimeexception) {\r\n\t\t\tthrow Class346.method4175(runtimeexception, new StringBuilder()\r\n\t\t\t\t\t.append(&quot;tf.f(&quot;).append(&#39;)&#39;).toString());\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static Object method6022(Applet applet, String string,\r\n\t\t\tObject[] objects, byte i) throws Throwable {\r\n\t\ttry {\r\n\t\t\treturn JSObject.getWindow(applet).call(string, objects);\r\n\t\t} catch (RuntimeException runtimeexception) {\r\n\t\t\tthrow Class346.method4175(runtimeexception, new StringBuilder()\r\n\t\t\t\t\t.append(&quot;tf.b(&quot;).append(&#39;)&#39;).toString());\r\n\t\t}\r\n\t}\r\n\r\n\tClass466() throws Throwable {\r\n\t\tthrow new Error();\r\n\t}\r\n    }\r\n","title":"Why is getWindow() not able to be resolved?","body":"<p>I can't resolve the getWindow(); method for some reason...</p>\n\n<pre><code>import java.applet.Applet;\n\nimport netscape.javascript.JSObject;\n\npublic class Class466 {\npublic static void method6020(Applet applet, String string, int i)\n        throws Throwable {\n    try {\n        JSObject.getWindow(applet).eval(string);\n    } catch (RuntimeException runtimeexception) {\n        throw Class346.method4175(runtimeexception, new StringBuilder()\n                .append(\"tf.a(\").append(')').toString());\n    }\n}\n\npublic static Object method6021(Applet applet, String string, short i)\n        throws Throwable {\n    try {\n        return JSObject.getWindow(applet).call(string, null);\n    } catch (RuntimeException runtimeexception) {\n        throw Class346.method4175(runtimeexception, new StringBuilder()\n                .append(\"tf.f(\").append(')').toString());\n    }\n}\n\npublic static Object method6022(Applet applet, String string,\n        Object[] objects, byte i) throws Throwable {\n    try {\n        return JSObject.getWindow(applet).call(string, objects);\n    } catch (RuntimeException runtimeexception) {\n        throw Class346.method4175(runtimeexception, new StringBuilder()\n                .append(\"tf.b(\").append(')').toString());\n    }\n}\n\nClass466() throws Throwable {\n    throw new Error();\n}\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","graphql","graphql-java"],"answers":[{"tags":[],"owner":{"account_id":17610498,"reputation":94,"user_id":12778661,"display_name":"Ivan Polovyi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656550222,"creation_date":1656550222,"answer_id":72809244,"question_id":72568206,"body_markdown":"I&#39;ve asked a similar question on a GitHub. Responses from graphql-java project ([#2866][1]) and spring-graphql project ([#415][2]) were similar. To summarise at the time of writing it is not possible. \r\nThen I&#39;ve created a &quot;workaround&quot;:\r\n\r\nFirst, create a custom exception class that implements GraphQLError.\r\n\r\n    import graphql.GraphQLError;\r\n    import graphql.language.SourceLocation;\r\n    import lombok.Getter;\r\n    import lombok.NoArgsConstructor;\r\n    import org.springframework.graphql.execution.ErrorType;\r\n    import org.springframework.http.HttpStatus;\r\n    \r\n    import java.util.LinkedHashMap;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    \r\n    @Getter\r\n    @NoArgsConstructor\r\n    public class BadRequestException extends RuntimeException implements GraphQLError {\r\n    \r\n        private HttpStatus status = HttpStatus.BAD_REQUEST;\r\n    \r\n        private String message = &quot;Resource not found&quot;;\r\n    \r\n        // Below code used for GraphQL only\r\n        private List&lt;SourceLocation&gt; locations;\r\n    \r\n        public BadRequestException(String message, List&lt;SourceLocation&gt; locations) {\r\n            this.message = message;\r\n            this.locations = locations;\r\n        }\r\n    \r\n        @Override\r\n        public Map&lt;String, Object&gt; getExtensions() {\r\n            Map&lt;String, Object&gt; customAttributes = new LinkedHashMap&lt;&gt;();\r\n            customAttributes.put(&quot;errorCode&quot;, this.status.value());\r\n            return customAttributes;\r\n        }\r\n    \r\n        @Override\r\n        public List&lt;SourceLocation&gt; getLocations() {\r\n            return locations;\r\n        }\r\n    \r\n        @Override\r\n        public ErrorType getErrorType() {\r\n            return ErrorType.BAD_REQUEST;\r\n        }\r\n    \r\n        @Override\r\n        public Map&lt;String, Object&gt; toSpecification() {\r\n            return GraphQLError.super.toSpecification();\r\n        }\r\n    \r\n    }\r\n\r\n   \r\nSecond, create an interceptor class that implements WebGraphQlInterceptor and annotate it as @Component, so Spring can create it as a bean. Inside this class implement logic to catch the needed error and convert it to the exception class created before\r\n\r\n    import graphql.ErrorClassification;\r\n    import graphql.ErrorType;\r\n    import graphql.GraphQLError;\r\n    import graphql.validation.ValidationErrorType;\r\n    import lombok.extern.slf4j.Slf4j;\r\n    import org.apache.commons.lang3.StringUtils;\r\n    import org.springframework.graphql.ResponseError;\r\n    import org.springframework.graphql.server.WebGraphQlInterceptor;\r\n    import org.springframework.graphql.server.WebGraphQlRequest;\r\n    import org.springframework.graphql.server.WebGraphQlResponse;\r\n    import org.springframework.stereotype.Component;\r\n    import reactor.core.publisher.Mono;\r\n    \r\n    import java.util.List;\r\n    import java.util.stream.Collectors;\r\n    \r\n    @Slf4j\r\n    @Component\r\n    public class ErrorInterceptor implements WebGraphQlInterceptor {\r\n    \r\n        @Override\r\n        public Mono&lt;WebGraphQlResponse&gt; intercept(WebGraphQlRequest request, Chain chain) {\r\n            return chain.next(request)\r\n                    .map(response -&gt; {\r\n                        log.info(&quot;[ErrorInterceptor] Intercepting response... &quot;);\r\n    \r\n                        List&lt;GraphQLError&gt; graphQLErrors = response.getErrors().stream()\r\n                                .filter(error -&gt; ErrorType.ValidationError.equals(error.getErrorType()))\r\n                                .map(this::resolveException)\r\n                                .collect(Collectors.toList());\r\n    \r\n                        if (!graphQLErrors.isEmpty()) {\r\n                            log.info(&quot;[ErrorInterceptor] Found invalid syntax error! Overriding the message.&quot;);\r\n                            return response.transform(builder -&gt; builder.errors(graphQLErrors));\r\n                        }\r\n    \r\n                        return response;\r\n                    });\r\n        }\r\n    \r\n        private GraphQLError resolveException(ResponseError responseError) {\r\n    \r\n            ErrorClassification errorType = responseError.getErrorType();\r\n    \r\n            if (ErrorType.ValidationError.equals(errorType)) {\r\n                String message = responseError.getMessage();\r\n                log.info(&quot;[ErrorInterceptor] Returning invalid field error &quot;);\r\n    \r\n                if (ValidationErrorType.NullValueForNonNullArgument.equals(\r\n                        extractValidationErrorFromErrorMessage(responseError.getMessage()))) {\r\n                    String errorMessage =\r\n                            &quot;Field &quot; + StringUtils.substringBetween(message, &quot;argument &quot;, &quot; @&quot;) + &quot; cannot be null&quot;;\r\n                    return new BadRequestException(errorMessage, responseError.getLocations());\r\n                }\r\n            }\r\n    \r\n            log.info(&quot;[ErrorInterceptor] Returning unknown query validation error &quot;);\r\n            return new BadRequestException(&quot;Unknown error&quot;, responseError.getLocations());\r\n        }\r\n    \r\n        private ValidationErrorType extractValidationErrorFromErrorMessage(String message) {\r\n            return ValidationErrorType.valueOf(StringUtils.substringBetween(message, &quot;type &quot;, &quot;:&quot;));\r\n        }\r\n    \r\n    }\r\n\r\nThe only problem with this approach is that all needed information like a type of an error, the field that causes the error, etc. is embedded in the native error message. So to extract the needed parameters we have to parse the string message. \r\n\r\n  [1]: https://github.com/graphql-java/graphql-java/discussions/2866\r\n  [2]: https://github.com/spring-projects/spring-graphql/issues/415\r\n\r\n","title":"How to handle GraphQL query validation error in Spring Boot","body":"<p>I've asked a similar question on a GitHub. Responses from graphql-java project (<a href=\"https://github.com/graphql-java/graphql-java/discussions/2866\" rel=\"nofollow noreferrer\">#2866</a>) and spring-graphql project (<a href=\"https://github.com/spring-projects/spring-graphql/issues/415\" rel=\"nofollow noreferrer\">#415</a>) were similar. To summarise at the time of writing it is not possible.\nThen I've created a &quot;workaround&quot;:</p>\n<p>First, create a custom exception class that implements GraphQLError.</p>\n<pre><code>import graphql.GraphQLError;\nimport graphql.language.SourceLocation;\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport org.springframework.graphql.execution.ErrorType;\nimport org.springframework.http.HttpStatus;\n\nimport java.util.LinkedHashMap;\nimport java.util.List;\nimport java.util.Map;\n\n@Getter\n@NoArgsConstructor\npublic class BadRequestException extends RuntimeException implements GraphQLError {\n\n    private HttpStatus status = HttpStatus.BAD_REQUEST;\n\n    private String message = &quot;Resource not found&quot;;\n\n    // Below code used for GraphQL only\n    private List&lt;SourceLocation&gt; locations;\n\n    public BadRequestException(String message, List&lt;SourceLocation&gt; locations) {\n        this.message = message;\n        this.locations = locations;\n    }\n\n    @Override\n    public Map&lt;String, Object&gt; getExtensions() {\n        Map&lt;String, Object&gt; customAttributes = new LinkedHashMap&lt;&gt;();\n        customAttributes.put(&quot;errorCode&quot;, this.status.value());\n        return customAttributes;\n    }\n\n    @Override\n    public List&lt;SourceLocation&gt; getLocations() {\n        return locations;\n    }\n\n    @Override\n    public ErrorType getErrorType() {\n        return ErrorType.BAD_REQUEST;\n    }\n\n    @Override\n    public Map&lt;String, Object&gt; toSpecification() {\n        return GraphQLError.super.toSpecification();\n    }\n\n}\n</code></pre>\n<p>Second, create an interceptor class that implements WebGraphQlInterceptor and annotate it as @Component, so Spring can create it as a bean. Inside this class implement logic to catch the needed error and convert it to the exception class created before</p>\n<pre><code>import graphql.ErrorClassification;\nimport graphql.ErrorType;\nimport graphql.GraphQLError;\nimport graphql.validation.ValidationErrorType;\nimport lombok.extern.slf4j.Slf4j;\nimport org.apache.commons.lang3.StringUtils;\nimport org.springframework.graphql.ResponseError;\nimport org.springframework.graphql.server.WebGraphQlInterceptor;\nimport org.springframework.graphql.server.WebGraphQlRequest;\nimport org.springframework.graphql.server.WebGraphQlResponse;\nimport org.springframework.stereotype.Component;\nimport reactor.core.publisher.Mono;\n\nimport java.util.List;\nimport java.util.stream.Collectors;\n\n@Slf4j\n@Component\npublic class ErrorInterceptor implements WebGraphQlInterceptor {\n\n    @Override\n    public Mono&lt;WebGraphQlResponse&gt; intercept(WebGraphQlRequest request, Chain chain) {\n        return chain.next(request)\n                .map(response -&gt; {\n                    log.info(&quot;[ErrorInterceptor] Intercepting response... &quot;);\n\n                    List&lt;GraphQLError&gt; graphQLErrors = response.getErrors().stream()\n                            .filter(error -&gt; ErrorType.ValidationError.equals(error.getErrorType()))\n                            .map(this::resolveException)\n                            .collect(Collectors.toList());\n\n                    if (!graphQLErrors.isEmpty()) {\n                        log.info(&quot;[ErrorInterceptor] Found invalid syntax error! Overriding the message.&quot;);\n                        return response.transform(builder -&gt; builder.errors(graphQLErrors));\n                    }\n\n                    return response;\n                });\n    }\n\n    private GraphQLError resolveException(ResponseError responseError) {\n\n        ErrorClassification errorType = responseError.getErrorType();\n\n        if (ErrorType.ValidationError.equals(errorType)) {\n            String message = responseError.getMessage();\n            log.info(&quot;[ErrorInterceptor] Returning invalid field error &quot;);\n\n            if (ValidationErrorType.NullValueForNonNullArgument.equals(\n                    extractValidationErrorFromErrorMessage(responseError.getMessage()))) {\n                String errorMessage =\n                        &quot;Field &quot; + StringUtils.substringBetween(message, &quot;argument &quot;, &quot; @&quot;) + &quot; cannot be null&quot;;\n                return new BadRequestException(errorMessage, responseError.getLocations());\n            }\n        }\n\n        log.info(&quot;[ErrorInterceptor] Returning unknown query validation error &quot;);\n        return new BadRequestException(&quot;Unknown error&quot;, responseError.getLocations());\n    }\n\n    private ValidationErrorType extractValidationErrorFromErrorMessage(String message) {\n        return ValidationErrorType.valueOf(StringUtils.substringBetween(message, &quot;type &quot;, &quot;:&quot;));\n    }\n\n}\n</code></pre>\n<p>The only problem with this approach is that all needed information like a type of an error, the field that causes the error, etc. is embedded in the native error message. So to extract the needed parameters we have to parse the string message.</p>\n"}],"owner":{"account_id":17610498,"reputation":94,"user_id":12778661,"display_name":"Ivan Polovyi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3217,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656550222,"creation_date":1654824613,"question_id":72568206,"body_markdown":"I have a simple Spring Boot project using `spring-boot-starter-graphql`. This project has one controller that accepts one argument.\r\n\r\n    @Controller\r\n    public class HelloNameController {\r\n    \r\n        @QueryMapping\r\n        public String hello(@Argument String name) {\r\n            return &quot;Hello &quot; + name;\r\n        }\r\n    }\r\n\r\n This argument is required. \r\n\r\nGraphql schema\r\n\r\n     type Query {\r\n         hello (name : String!) : String\r\n      }\r\nWhen I call this API in the Postman and do not pass this argument the app returns an error. I want to override the message of this error message, but I can&#39;t find a way to do it. \r\nIn the official [documentation][1], it says to implement `DataFetcherExceptionResolverAdapter` and I&#39;ve implemented it as a bean \r\n\r\n    @Configuration\r\n    public class GraphQLConfig {\r\n    \r\n        @Bean\r\n        public DataFetcherExceptionResolver exceptionResolver() {\r\n            return DataFetcherExceptionResolverAdapter.from((ex, env) -&gt; {\r\n                if (ex instanceof CoercingParseValueException) {\r\n    \r\n                    return GraphqlErrorBuilder.newError(env).message(&quot;CoercingParseValueException&quot;)\r\n                            .errorType(ErrorType.ExecutionAborted).build();\r\n                }\r\n                if (ex instanceof CoercingSerializeException) {\r\n                    return GraphqlErrorBuilder.newError(env).message(&quot;CoercingSerializeException&quot;)\r\n                            .errorType(ErrorType.ExecutionAborted).build();\r\n                } else {\r\n                    return null;\r\n                }\r\n            });\r\n        }\r\n    }\r\nThe problem is that the error never gets to this point. How do I catch this type of error and override the message? \r\n  \r\n\r\n\r\n  [1]: https://docs.spring.io/spring-graphql/docs/current/reference/html/#execution-exceptions","title":"How to handle GraphQL query validation error in Spring Boot","body":"<p>I have a simple Spring Boot project using <code>spring-boot-starter-graphql</code>. This project has one controller that accepts one argument.</p>\n<pre><code>@Controller\npublic class HelloNameController {\n\n    @QueryMapping\n    public String hello(@Argument String name) {\n        return &quot;Hello &quot; + name;\n    }\n}\n</code></pre>\n<p>This argument is required.</p>\n<p>Graphql schema</p>\n<pre><code> type Query {\n     hello (name : String!) : String\n  }\n</code></pre>\n<p>When I call this API in the Postman and do not pass this argument the app returns an error. I want to override the message of this error message, but I can't find a way to do it.\nIn the official <a href=\"https://docs.spring.io/spring-graphql/docs/current/reference/html/#execution-exceptions\" rel=\"nofollow noreferrer\">documentation</a>, it says to implement <code>DataFetcherExceptionResolverAdapter</code> and I've implemented it as a bean</p>\n<pre><code>@Configuration\npublic class GraphQLConfig {\n\n    @Bean\n    public DataFetcherExceptionResolver exceptionResolver() {\n        return DataFetcherExceptionResolverAdapter.from((ex, env) -&gt; {\n            if (ex instanceof CoercingParseValueException) {\n\n                return GraphqlErrorBuilder.newError(env).message(&quot;CoercingParseValueException&quot;)\n                        .errorType(ErrorType.ExecutionAborted).build();\n            }\n            if (ex instanceof CoercingSerializeException) {\n                return GraphqlErrorBuilder.newError(env).message(&quot;CoercingSerializeException&quot;)\n                        .errorType(ErrorType.ExecutionAborted).build();\n            } else {\n                return null;\n            }\n        });\n    }\n}\n</code></pre>\n<p>The problem is that the error never gets to this point. How do I catch this type of error and override the message?</p>\n"},{"tags":["java","performance","multidimensional-array"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":2,"creation_date":1656541715,"post_id":72808461,"comment_id":128601578,"body_markdown":"Yes, create an array of arrays and populate it in a loop.","body":"Yes, create an array of arrays and populate it in a loop."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1656541762,"post_id":72808461,"comment_id":128601590,"body_markdown":"Not sure what you mean by fastest and what this has to do with [tag:performance].","body":"Not sure what you mean by fastest and what this has to do with <a href=\"https://stackoverflow.com/questions/tagged/performance\">performance</a>."},{"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"score":1,"creation_date":1656542510,"post_id":72808461,"comment_id":128601737,"body_markdown":"What does this mean: _create array1(1 To 10000000, 1 To 3) and populate it with &quot;file1.txt&quot;_? Does each array element contain the same string value `&quot;file1.txt&quot;`? So array1 contains 30 million elements, each with the string value `&quot;file1.txt&quot;`?","body":"What does this mean: <i>create array1(1 To 10000000, 1 To 3) and populate it with &quot;file1.txt&quot;</i>? Does each array element contain the same string value <code>&quot;file1.txt&quot;</code>? So array1 contains 30 million elements, each with the string value <code>&quot;file1.txt&quot;</code>?"},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":1,"creation_date":1656543198,"post_id":72808461,"comment_id":128601891,"body_markdown":"A fast way to create and populate 50 arrays is to find the fastest way to create and populate 1 array and do it 50 times in parallel threads.","body":"A fast way to create and populate 50 arrays is to find the fastest way to create and populate 1 array and do it 50 times in parallel threads."},{"owner":{"account_id":14133183,"reputation":45,"user_id":10210571,"display_name":"JOAO12"},"score":0,"creation_date":1656549106,"post_id":72808461,"comment_id":128602845,"body_markdown":"@shmosel, I have already tryied to use an array of arrays. Could you please correct the code I wrote? See my edited message.","body":"@shmosel, I have already tryied to use an array of arrays. Could you please correct the code I wrote? See my edited message."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1656549199,"post_id":72808461,"comment_id":128602855,"body_markdown":"The **fastest** way can only be determined by benchmarking with your specific code, your files ... and your hardware.  Frankly, this whole question smells of *premature optimization*.","body":"The <b>fastest</b> way can only be determined by benchmarking with your specific code, your files ... and your hardware.  Frankly, this whole question smells of <i>premature optimization</i>."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1656549268,"post_id":72808461,"comment_id":128602869,"body_markdown":"`arrayA` is a one-dimensional array.","body":"<code>arrayA</code> is a one-dimensional array."},{"owner":{"account_id":14133183,"reputation":45,"user_id":10210571,"display_name":"JOAO12"},"score":0,"creation_date":1656549838,"post_id":72808461,"comment_id":128602933,"body_markdown":"@shmosel, what should be changed in order to make this array of arrays run properly?","body":"@shmosel, what should be changed in order to make this array of arrays run properly?"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1656552004,"post_id":72808461,"comment_id":128603190,"body_markdown":"If you really care about speed, replace your use of `split` with two `indexOf` calls.  Regular expressions may look short in your code, but there‚Äôs a lot of work being done under the hood.  In contrast, indexOf can be compiled by the JIT compiler to a single x86 instruction.","body":"If you really care about speed, replace your use of <code>split</code> with two <code>indexOf</code> calls.  Regular expressions may look short in your code, but there‚Äôs a lot of work being done under the hood.  In contrast, indexOf can be compiled by the JIT compiler to a single x86 instruction."},{"owner":{"account_id":14133183,"reputation":45,"user_id":10210571,"display_name":"JOAO12"},"score":0,"creation_date":1656553835,"post_id":72808461,"comment_id":128603409,"body_markdown":"@VGR, I am searching stackoverflow, but so far I have found no example of a java code to fill a 2d int array using `indexOf`. Could you please help me adapt this piece of code to use `indexOf`?","body":"@VGR, I am searching stackoverflow, but so far I have found no example of a java code to fill a 2d int array using <code>indexOf</code>. Could you please help me adapt this piece of code to use <code>indexOf</code>?"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1656586545,"post_id":72808461,"comment_id":128611838,"body_markdown":"@VGR actually, `split(&quot;,&quot;)` does not use the regex engine, as in case of the reference implementation, there is a short-cut for single character patterns. However, I don‚Äôt understand why the OP does this at all, when the goal seems to be to do something with that integer array which is not even touched in this loop‚Ä¶","body":"@VGR actually, <code>split(&quot;,&quot;)</code> does not use the regex engine, as in case of the reference implementation, there is a short-cut for single character patterns. However, I don‚Äôt understand why the OP does this at all, when the goal seems to be to do something with that integer array which is not even touched in this loop‚Ä¶"}],"answers":[{"tags":[],"owner":{"account_id":15777655,"reputation":1762,"user_id":11385052,"display_name":"Ryan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656542367,"creation_date":1656542367,"answer_id":72808580,"question_id":72808461,"body_markdown":"There may be a way to do it faster, but this is what I came up with:\r\n\r\n    public static String[][] generateArray(int rows, int cols, String value) {\r\n        String[][] array = new String[rows][cols];\r\n        for (int i = 0; i &lt; rows; i++) {\r\n            for (int j = 0; j &lt; cols; j++) {\r\n                array[i][j] = value;\r\n            }\r\n        }\r\n        return array;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        final int numArrays = 50;\r\n        final int rows = 1000000;\r\n        final int cols = 3;\r\n\r\n        List&lt;String[][]&gt; arrays = Collections.synchronizedList(new ArrayList&lt;&gt;(numArrays));\r\n        ExecutorService executor = Executors.newFixedThreadPool(Runtime.getRuntime().availableProcessors());\r\n        final CountDownLatch latch = new CountDownLatch(numArrays);\r\n\r\n        long start = System.nanoTime();\r\n        for (int i = 0; i &lt; numArrays; i++) {\r\n            final String value = String.format(&quot;file%d.txt&quot;, i);\r\n            Runnable runnable = new Runnable() {\r\n                public void run() {\r\n                    String[][] array = generateArray(rows, cols, value);\r\n                    try {\r\n                        arrays.add(array);\r\n                    } finally {\r\n                        latch.countDown();\r\n                    }\r\n                }\r\n            };\r\n            executor.submit(runnable);\r\n        }\r\n        executor.shutdown();\r\n        try {\r\n            latch.await();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        long stop = System.nanoTime();\r\n        long seconds = TimeUnit.NANOSECONDS.toSeconds((stop - start));\r\n        System.out.println(&quot;Completed in &quot; + seconds + &quot; seconds.&quot;);\r\n    }","title":"What&#39;s the fastest way to create and populate 50 arrays?","body":"<p>There may be a way to do it faster, but this is what I came up with:</p>\n<pre><code>public static String[][] generateArray(int rows, int cols, String value) {\n    String[][] array = new String[rows][cols];\n    for (int i = 0; i &lt; rows; i++) {\n        for (int j = 0; j &lt; cols; j++) {\n            array[i][j] = value;\n        }\n    }\n    return array;\n}\n\npublic static void main(String[] args) {\n    final int numArrays = 50;\n    final int rows = 1000000;\n    final int cols = 3;\n\n    List&lt;String[][]&gt; arrays = Collections.synchronizedList(new ArrayList&lt;&gt;(numArrays));\n    ExecutorService executor = Executors.newFixedThreadPool(Runtime.getRuntime().availableProcessors());\n    final CountDownLatch latch = new CountDownLatch(numArrays);\n\n    long start = System.nanoTime();\n    for (int i = 0; i &lt; numArrays; i++) {\n        final String value = String.format(&quot;file%d.txt&quot;, i);\n        Runnable runnable = new Runnable() {\n            public void run() {\n                String[][] array = generateArray(rows, cols, value);\n                try {\n                    arrays.add(array);\n                } finally {\n                    latch.countDown();\n                }\n            }\n        };\n        executor.submit(runnable);\n    }\n    executor.shutdown();\n    try {\n        latch.await();\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n    long stop = System.nanoTime();\n    long seconds = TimeUnit.NANOSECONDS.toSeconds((stop - start));\n    System.out.println(&quot;Completed in &quot; + seconds + &quot; seconds.&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":14133183,"reputation":45,"user_id":10210571,"display_name":"JOAO12"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"answer_count":1,"score":-4,"last_activity_date":1656548690,"creation_date":1656541270,"question_id":72808461,"body_markdown":"I need to write a java code to create and populate 50 arrays (array1 to array50, with 10000000 rows and 3 columns each array):\r\n\r\ncreate array**1**(1 To 10000000, 1 To 3) and populate it with file**1**.txt;\r\n\r\ncreate array**2**(1 To 10000000, 1 To 3) and populate it with file**2**.txt;\r\n\r\n[...]\r\n\r\ncreate array**49**(1 To 1000000, 1 To 3) and populate it with file**49**.txt;\r\n\r\ncreate array**50**(1 To 1000000, 1 To 3) and populate it with file**50**.txt;\r\n\r\nWhat&#39;s the fastest way to accomplish this goal? Is it possible to use a loop so that it doesn&#39;t take so many lines of code?\r\n\r\nThanks.\r\n\r\n\r\nEdit 1:\r\nI&#39;m sorry I was not clear previously.\r\n\r\nIn fact, I need to create 50 int arrays and fill each one with elements in the respective file.\r\n\r\nCreate int array**1** with 10000000 rows and 3 columns and populate it with elements in File**1**.txt;\r\n\r\nCreate int array**2** with 10000000 rows and 3 columns and populate it with elements in File**2**.txt;\r\n\r\nI&#39;m using this piece of code to create and populate each one of the 50 arrays:\r\n\r\n    int[][] array1 = new int [10000000][3];\r\n    List&lt;List&lt;String&gt;&gt; records = new ArrayList&lt;&gt;();\r\n    try (BufferedReader br = new BufferedReader(filepath/File1.txt&quot;))) {\r\n        String line;\r\n        while ((line = br.readLine()) != null) {\r\n            String[] values = line.split(&quot;,&quot;);\r\n            records.add(Arrays.asList(values));\r\n        }\r\n    }\r\n\r\nAs there are too many lines of code, I am trying to get a new code that could be faster and with less lines. I have already tryied to use an array of arrays. I wrote this piece of code, but it does not work (could someone please correct it?):\r\n\r\n    String arrayA[] = {&quot;array1&quot;, &quot;array2&quot;, &quot;array3&quot;, &quot;array4&quot;, &quot;array5&quot;, &quot;array6&quot;, &quot;array7&quot;, &quot;array8&quot;, &quot;array9&quot;, &quot;array10&quot;, &quot;array11&quot;, &quot;array12&quot;, &quot;array13&quot;, &quot;array14&quot;, &quot;array15&quot;, &quot;array16&quot;, &quot;array17&quot;, &quot;array18&quot;, &quot;array19&quot;, &quot;array20&quot;, &quot;array21&quot;, &quot;array22&quot;, &quot;array23&quot;, &quot;array24&quot;, &quot;array25&quot;, &quot;array26&quot;, &quot;array27&quot;, &quot;array28&quot;, &quot;array29&quot;, &quot;array30&quot;, &quot;array31&quot;, &quot;array32&quot;, &quot;array33&quot;, &quot;array34&quot;, &quot;array35&quot;, &quot;array36&quot;, &quot;array37&quot;, &quot;array38&quot;, &quot;array39&quot;, &quot;array40&quot;, &quot;array41&quot;, &quot;array42&quot;, &quot;array43&quot;, &quot;array44&quot;, &quot;array45&quot;, &quot;array46&quot;, &quot;array47&quot;, &quot;array48&quot;, &quot;array49&quot;, &quot;array50&quot;};\r\n    for (int i = 0; i &lt; arrayA.length; i++) {\r\n        int[][] arrayA[i] = new int [10000000][3];\r\n        List&lt;List&lt;String&gt;&gt; records = new ArrayList&lt;&gt;();\r\n        try (BufferedReader br = new BufferedReader(&quot;C:/filepath/File&quot; + i + 1 + &quot;.txt&quot;))) {\r\n            String line;\r\n            while ((line = br.readLine()) != null) {\r\n                String[] values = line.split(&quot;,&quot;);\r\n                records.add(Arrays.asList(values));\r\n            }\r\n        }\r\n        System.out.println(arrayA[i][1][3]);\r\n    }\r\n\r\n","title":"What&#39;s the fastest way to create and populate 50 arrays?","body":"<p>I need to write a java code to create and populate 50 arrays (array1 to array50, with 10000000 rows and 3 columns each array):</p>\n<p>create array<strong>1</strong>(1 To 10000000, 1 To 3) and populate it with file<strong>1</strong>.txt;</p>\n<p>create array<strong>2</strong>(1 To 10000000, 1 To 3) and populate it with file<strong>2</strong>.txt;</p>\n<p>[...]</p>\n<p>create array<strong>49</strong>(1 To 1000000, 1 To 3) and populate it with file<strong>49</strong>.txt;</p>\n<p>create array<strong>50</strong>(1 To 1000000, 1 To 3) and populate it with file<strong>50</strong>.txt;</p>\n<p>What's the fastest way to accomplish this goal? Is it possible to use a loop so that it doesn't take so many lines of code?</p>\n<p>Thanks.</p>\n<p>Edit 1:\nI'm sorry I was not clear previously.</p>\n<p>In fact, I need to create 50 int arrays and fill each one with elements in the respective file.</p>\n<p>Create int array<strong>1</strong> with 10000000 rows and 3 columns and populate it with elements in File<strong>1</strong>.txt;</p>\n<p>Create int array<strong>2</strong> with 10000000 rows and 3 columns and populate it with elements in File<strong>2</strong>.txt;</p>\n<p>I'm using this piece of code to create and populate each one of the 50 arrays:</p>\n<pre><code>int[][] array1 = new int [10000000][3];\nList&lt;List&lt;String&gt;&gt; records = new ArrayList&lt;&gt;();\ntry (BufferedReader br = new BufferedReader(filepath/File1.txt&quot;))) {\n    String line;\n    while ((line = br.readLine()) != null) {\n        String[] values = line.split(&quot;,&quot;);\n        records.add(Arrays.asList(values));\n    }\n}\n</code></pre>\n<p>As there are too many lines of code, I am trying to get a new code that could be faster and with less lines. I have already tryied to use an array of arrays. I wrote this piece of code, but it does not work (could someone please correct it?):</p>\n<pre><code>String arrayA[] = {&quot;array1&quot;, &quot;array2&quot;, &quot;array3&quot;, &quot;array4&quot;, &quot;array5&quot;, &quot;array6&quot;, &quot;array7&quot;, &quot;array8&quot;, &quot;array9&quot;, &quot;array10&quot;, &quot;array11&quot;, &quot;array12&quot;, &quot;array13&quot;, &quot;array14&quot;, &quot;array15&quot;, &quot;array16&quot;, &quot;array17&quot;, &quot;array18&quot;, &quot;array19&quot;, &quot;array20&quot;, &quot;array21&quot;, &quot;array22&quot;, &quot;array23&quot;, &quot;array24&quot;, &quot;array25&quot;, &quot;array26&quot;, &quot;array27&quot;, &quot;array28&quot;, &quot;array29&quot;, &quot;array30&quot;, &quot;array31&quot;, &quot;array32&quot;, &quot;array33&quot;, &quot;array34&quot;, &quot;array35&quot;, &quot;array36&quot;, &quot;array37&quot;, &quot;array38&quot;, &quot;array39&quot;, &quot;array40&quot;, &quot;array41&quot;, &quot;array42&quot;, &quot;array43&quot;, &quot;array44&quot;, &quot;array45&quot;, &quot;array46&quot;, &quot;array47&quot;, &quot;array48&quot;, &quot;array49&quot;, &quot;array50&quot;};\nfor (int i = 0; i &lt; arrayA.length; i++) {\n    int[][] arrayA[i] = new int [10000000][3];\n    List&lt;List&lt;String&gt;&gt; records = new ArrayList&lt;&gt;();\n    try (BufferedReader br = new BufferedReader(&quot;C:/filepath/File&quot; + i + 1 + &quot;.txt&quot;))) {\n        String line;\n        while ((line = br.readLine()) != null) {\n            String[] values = line.split(&quot;,&quot;);\n            records.add(Arrays.asList(values));\n        }\n    }\n    System.out.println(arrayA[i][1][3]);\n}\n</code></pre>\n"},{"tags":["java","java-platform-module-system"],"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1656539223,"post_id":72807971,"comment_id":128601032,"body_markdown":"What is the command line?","body":"What is the command line?"},{"owner":{"account_id":7281,"reputation":248647,"user_id":12597,"accept_rate":76,"display_name":"Ian Boyd"},"score":0,"creation_date":1656540617,"post_id":72807971,"comment_id":128601341,"body_markdown":"@JohannesKuhn *If* there is a way to see it: i don&#39;t know it.","body":"@JohannesKuhn <i>If</i> there is a way to see it: i don&#39;t know it."},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1656540990,"post_id":72807971,"comment_id":128601420,"body_markdown":"What libraries/dependencies do you have in your project?","body":"What libraries/dependencies do you have in your project?"},{"owner":{"account_id":7281,"reputation":248647,"user_id":12597,"accept_rate":76,"display_name":"Ian Boyd"},"score":0,"creation_date":1656541907,"post_id":72807971,"comment_id":128601614,"body_markdown":"@JohannesKuhn While file or folder would i look at the find libraries? Which file or folder would i look at to find dependencies?","body":"@JohannesKuhn While file or folder would i look at the find libraries? Which file or folder would i look at to find dependencies?"},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1656542077,"post_id":72807971,"comment_id":128601650,"body_markdown":"Anything that adds something to those packages.","body":"Anything that adds something to those packages."},{"owner":{"account_id":7281,"reputation":248647,"user_id":12597,"accept_rate":76,"display_name":"Ian Boyd"},"score":0,"creation_date":1656542448,"post_id":72807971,"comment_id":128601721,"body_markdown":"What would be an example of **where** something would add anything to a package? Which file would you like me to dump the contents of? Which folder would you like me to dump to contents of?","body":"What would be an example of <b>where</b> something would add anything to a package? Which file would you like me to dump the contents of? Which folder would you like me to dump to contents of?"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1656542634,"post_id":72807971,"comment_id":128601759,"body_markdown":"Perhaps `build.xml`? I think that&#39;s an Ant file, which is a dependency management/build tool for Java (though I have no experience with it).","body":"Perhaps <code>build.xml</code>? I think that&#39;s an Ant file, which is a dependency management/build tool for Java (though I have no experience with it)."},{"owner":{"account_id":7281,"reputation":248647,"user_id":12597,"accept_rate":76,"display_name":"Ian Boyd"},"score":0,"creation_date":1656542977,"post_id":72807971,"comment_id":128601842,"body_markdown":"@Slaw The `build.xml` referenced a file inside the folder `nbproject`. I deleted `build.xml` and the folder `nbproject` (see edited question above) and the errors still happen.","body":"@Slaw The <code>build.xml</code> referenced a file inside the folder <code>nbproject</code>. I deleted <code>build.xml</code> and the folder <code>nbproject</code> (see edited question above) and the errors still happen."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1656543036,"post_id":72807971,"comment_id":128601850,"body_markdown":"Sorry, I didn&#39;t mean delete that file. I was answering [your question](https://stackoverflow.com/questions/72807971/how-to-make-a-package-not-accessible-from-a-module-i-e-how-to-remove-a-package#comment128601721_72807971) towards @JohannesKuhn.","body":"Sorry, I didn&#39;t mean delete that file. I was answering <a href=\"https://stackoverflow.com/questions/72807971/how-to-make-a-package-not-accessible-from-a-module-i-e-how-to-remove-a-package#comment128601721_72807971\">your question</a> towards @JohannesKuhn."},{"owner":{"account_id":7281,"reputation":248647,"user_id":12597,"accept_rate":76,"display_name":"Ian Boyd"},"score":0,"creation_date":1656543082,"post_id":72807971,"comment_id":128601857,"body_markdown":"@Slaw Well, it didn&#39;t break anything. It may have been leftover from Eclipse in 2005.","body":"@Slaw Well, it didn&#39;t break anything. It may have been leftover from Eclipse in 2005."},{"owner":{"account_id":7281,"reputation":248647,"user_id":12597,"accept_rate":76,"display_name":"Ian Boyd"},"score":1,"creation_date":1656543177,"post_id":72807971,"comment_id":128601885,"body_markdown":"Might `WebRoot/WEB-INF/lib` be relevant? How about `WebRoot/META-INF`?","body":"Might <code>WebRoot&#47;WEB-INF&#47;lib</code> be relevant? How about <code>WebRoot&#47;META-INF</code>?"},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1656543360,"post_id":72807971,"comment_id":128601924,"body_markdown":"Yes. What libraries are in there? Names help, opening them with a zip program is better.","body":"Yes. What libraries are in there? Names help, opening them with a zip program is better."},{"owner":{"account_id":7281,"reputation":248647,"user_id":12597,"accept_rate":76,"display_name":"Ian Boyd"},"score":0,"creation_date":1656545707,"post_id":72807971,"comment_id":128602358,"body_markdown":"How do i know what libraries are in where? Which folder would you like a screenshot of? Which file would you like a screenshot of? The folder structure is in the question.","body":"How do i know what libraries are in where? Which folder would you like a screenshot of? Which file would you like a screenshot of? The folder structure is in the question."},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1656545938,"post_id":72807971,"comment_id":128602389,"body_markdown":"WebRoot/WEB-INF/lib","body":"WebRoot/WEB-INF/lib"},{"owner":{"account_id":7281,"reputation":248647,"user_id":12597,"accept_rate":76,"display_name":"Ian Boyd"},"score":0,"creation_date":1656547838,"post_id":72807971,"comment_id":128602686,"body_markdown":"Added the list of files in the `WebRoot/WEB-INF/lib` folder to the question.","body":"Added the list of files in the <code>WebRoot&#47;WEB-INF&#47;lib</code> folder to the question."},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1656548521,"post_id":72807971,"comment_id":128602774,"body_markdown":"In short, you get that error if a jar on the classpath has classes in the same package as some module - I guess, from the jar file names, that `dom.jar` contains classes in `org.w3c.dom`, `jaxp-api` - `javax.xml.parsers`... Just open the files as zip archive, and look if they contain one of the reported package names as folder (with `.` treated as path separator).","body":"In short, you get that error if a jar on the classpath has classes in the same package as some module - I guess, from the jar file names, that <code>dom.jar</code> contains classes in <code>org.w3c.dom</code>, <code>jaxp-api</code> - <code>javax.xml.parsers</code>... Just open the files as zip archive, and look if they contain one of the reported package names as folder (with <code>.</code> treated as path separator)."}],"owner":{"account_id":7281,"reputation":248647,"user_id":12597,"accept_rate":76,"display_name":"Ian Boyd"},"comment_count":16,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1099,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":0,"score":4,"last_activity_date":1656548142,"creation_date":1656537420,"question_id":72807971,"body_markdown":"Short Version\r\n=============\r\n\r\nWhat file do i have to delete from what folder to stop the error:\r\n\r\n&gt; The package %s is accessible from more than one module: \\&lt;unnamed\\&gt;, %s\r\n\r\nLong Version\r\n===========\r\n\r\nWhen trying to build a Java web-site, i am getting the error:\r\n\r\n&gt; The package %s is accessible from more than one module: \\&lt;unnamed\\&gt;, %s\r\n\r\nFor example:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n- `The package org.w3c.dom is accessible from more than one module: \\&lt;unnamed\\&gt;, java.xml`\r\n- `The package javax.xml.parsers is accessible from more than one module: \\&lt;unnamed\\&gt;, java.xml`\r\n- `The package netscape.javascript is accessible from more than one module: \\&lt;unnamed\\&gt;, jdk.jsobject`\r\n- `The package org.xml.sax is accessible from more than one module: \\&lt;unnamed\\&gt;, java.xml`\r\n\r\n\r\nNow:\r\n\r\n- I don&#39;t know what a module is\r\n- and i don&#39;t know what a package is\r\n\r\nBut i do get get the sense that i need to delete a file (maybe a `.jar` file), or i need to edit a configuration file to remove a line, or i need to delete files elsewhere on my computer, or i need to delete environment variables.\r\n\r\n- i don&#39;t know what file to delete\r\n- i don&#39;t know what `.jar` file to delete \r\n- i don&#39;t know what text file to edit\r\n- i don&#39;t know what configuration file to edit\r\n- i don&#39;t know what line in what text file to add, edit, or remove\r\n\r\nSo, how do i:\r\n\r\n&gt; Make package %s ***not*** accessible from more than one module\r\n\r\n-----------\r\n\r\nApparently it is an bug added with Java 9 and the [**Java Platform Module System (JPMS)**][2], and it is not anything to do with Eclipse, NetBeans, or any IDE. It is a rule that was always there, but only Java 9 started enforcing it.\r\n\r\n- Some [say you can disable the JPMS][3] by deleting `module-info.java`\r\n- Others insist that you cannot disable JPMS at all after Java 8, and you just have to live on Java 8\r\n- Some have said that if you delete `module-info.java` it will get re-created\r\n\r\nI don&#39;t have a `module-info.java` file anywhere in the folder or subfolders of the project\r\n\r\n\r\n- Others suggest it is an issue with `classpath`, or `modulepath`\r\n\r\nAlthough i don&#39;t have a classpath or modulepath set:\r\n\r\n```\r\n&gt;echo %classpath%\r\n%classpath%\r\n\r\n&gt;echo %modulepath%\r\n%modulepath%\r\n\r\n&gt;echo %java_home%\r\nC:\\Program Files\\Java\\jdk-18.0.1.1\r\n```\r\n\r\nIDE: [Visual Studio Code][4]\r\n\r\nProject structure\r\n---------------\r\n\r\nThe web-site is make up of a structure of files and folders. Some are probably there by convention, some are probably there by rule, and some may have been a dumping ground for extra stuff. I don&#39;t know which is which:\r\n\r\n- &#128193;.vscode\r\n- &#128193;build\r\n- &#128193;conf\r\n- &#128193;dist\r\n- &#128193;JMeter\r\n- &#128193;LibrarySourceCode\r\n- &lt;strike&gt;&#128193;nbproject&lt;/strike&gt; *(deleted in an attempt to fix the issue)*\r\n- &#128193;sql\r\n- &#128193;src\r\n- &#128193;WebRoot\r\n  - &#128193;applets\r\n  - &#128193;META-INF\r\n  - &#128193;WEB-INF\r\n    - &#128193;classes\r\n    - &#128193;lib\r\n      - &#128193;activation.jar\r\n      - &#128193;cglib-full-2.0.2.jar\r\n      - &#128193;commons-beanutils.jar\r\n      - &#128193;commons-codec-1.3.jar\r\n      - &#128193;commons-collections-2.1.1.jar\r\n      - &#128193;commons-collections4-4.4.jar\r\n      - &#128193;commons-compress-1.20.jar\r\n      - &#128193;commons-dbcp-1.2.1.jar\r\n      - &#128193;commons-digester.jar\r\n      - &#128193;commons-fileupload.jar\r\n      - &#128193;commons-lang-1.0.1.jar\r\n      - &#128193;commons-logging-1.2.jar\r\n      - &#128193;commons-math3-3.6.1.jar\r\n      - &#128193;commons-pool-1.2.jar\r\n      - &#128193;commons-validator.jar\r\n      - &#128193;curvesapi-1.06.jar\r\n      - &#128193;dom.jar\r\n      - &#128193;dom4j-1.4.jar\r\n      - &#128193;ehcache-0.9.jar\r\n      - &#128193;hibernate2.jar\r\n      - &#128193;itext-1.4.jar\r\n      - &#128193;jakarta-oro.jar\r\n      - &#128193;jaxen-full.jar\r\n      - &#128193;jaxp-api.jar\r\n      - &#128193;jmf.jar\r\n      - &#128193;jstl.jar\r\n      - &#128193;jta.jar\r\n      - &#128193;log4j-1.2-api-2.17.1.jar\r\n      - &#128193;log4j-api-2.17.1.jar\r\n      - &#128193;log4j-core-2.17.1.jar\r\n      - &#128193;log4j-jcl-2.17.1.jar\r\n      - &#128193;mail.jar\r\n      - &#128193;odmg-3.0.jar\r\n      - &#128193;ooxml-schemas-1.1.jar\r\n      - &#128193;plugin.jar\r\n      - &#128193;poi-3.9-20121203.jar\r\n      - &#128193;poi-ooxml-3.9-20121203.jar\r\n      - &#128193;poi-ooxml-schemas-3.9-20121203.jar\r\n      - &#128193;sax.jar\r\n      - &#128193;saxpath.jar\r\n      - &#128193;sessionmon.jar\r\n      - &#128193;sqljdbc41.jar\r\n      - &#128193;standard.jar\r\n      - &#128193;struts.jar\r\n      - &#128193;xalan.jar\r\n      - &#128193;xercesImpl.jar\r\n      - &#128193;xml-apis.jar\r\n      - &#128193;xmlbeans-3.0.1.jar\r\n      - &#128193;xmlbeans-4.0.0.jar\r\n      - &#128193;xmlbeans-5.0.3.jar\r\n    - &#128193;tags\r\n- &lt;strike&gt;&#128196;build.xml&lt;/strike&gt; *(deleted in an attempt to fix the issue)*\r\n\r\nResearch Effort\r\n---------------\r\n\r\n\r\n&gt; That&#39;s a restriction by the Java Platform Module System (JPMS), not by Eclipse (so don&#39;t shoot the messenger). If you delete the file module-info.java in your default package (which disables JPMS) it should work with Java 9 or higher.\r\n\r\n\r\n- https://stackoverflow.com/questions/55571046/eclipse-is-confused-by-imports-accessible-from-more-than-one-module\r\n- https://stackoverflow.com/questions/55902512/package-accessible-from-more-than-one-module-unnamed\r\n- https://stackoverflow.com/questions/72171466/the-package-org-xml-sax-is-accessible-from-more-than-one-module-unnamed-java\r\n- https://stackoverflow.com/questions/61551300/the-package-javax-xml-namespace-is-accessible-from-more-than-one-module-unname\r\n- https://stackoverflow.com/questions/67227759/the-package-is-accessible-from-more-than-one-module-error-fix-for-using-sax-in\r\n- https://stackoverflow.com/questions/63792162/the-package-java-util-is-accessible-from-more-than-one-module-unnamed-java-b\r\n- https://stackoverflow.com/questions/59053049/the-package-java-util-is-accessible-from-more-than-one-module-error\r\n- https://stackoverflow.com/questions/69760969/eclipse-error-the-package-javax-xml-datatype-is-accessible-from-more-than-one-mo\r\n- https://stackoverflow.com/questions/57286825/the-package-org-w3c-dom-is-accessible-from-more-than-one-module-unnamed-java\r\n- https://stackoverflow.com/questions/63938809/the-package-javax-xml-stream-is-accessible-from-more-than-one-module-unnamed\r\n- https://stackoverflow.com/questions/69308625/error-importing-org-packages-accessible-from-more-than-one-module\r\n- https://stackoverflow.com/questions/70660455/eclipse-rcp-the-packagexxx-is-accessible-from-more-than-one-module-unnamed\r\n- https://stackoverflow.com/questions/57551269/package-is-accessible-from-more-than-one-module\r\n- https://stackoverflow.com/questions/59935009/the-package-javax-xml-namespace-is-accessible-from-more-than-one-module\r\n- https://stackoverflow.com/questions/60802975/package-accessible-from-more-than-one-module-in-eclipse-rcp\r\n- https://stackoverflow.com/questions/68832650/the-package-org-json-is-accessible-from-more-than-one-module-unnamed-org-jso\r\n- https://stackoverflow.com/questions/68839894/java-11-migration-package-is-accessible-from-more-than-one-module-issue\r\n- https://stackoverflow.com/questions/61278108/vscode-the-package-is-accessible-from-more-than-one-module\r\n- https://stackoverflow.com/questions/60703832/the-package-is-accessible-from-more-than-one-module\r\n- https://stackoverflow.com/questions/66638659/the-package-javax-xml-transform-is-accesible-from-more-than-one-module\r\n- https://stackoverflow.com/questions/58873562/the-package-is-accessible-from-more-than-one-module-problem-under-vscode-only\r\n- https://stackoverflow.com/questions/68771253/java-8-to-kava-11-migration-issue\r\n- https://stackoverflow.com/questions/64870172/specific-question-concerning-the-package-org-w3c-dom-is-accessible-from-more-th\r\n- https://stackoverflow.com/questions/56353171/package-is-accessible-from-more-than-one-module-in-jdk-11-module-system\r\n- https://stackoverflow.com/questions/70743912/java-build-issues-java-8-to-java-11-migration\r\n- https://stackoverflow.com/questions/62286414/how-to-solve-javax-xml-namespace-is-accessible-from-more-than-one-module-with-jd\r\n- https://stackoverflow.com/questions/46834695/the-package-org-openqa-selenium-is-accessible-from-more-than-one-module\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/N3BMr.png\r\n  [2]: https://en.wikipedia.org/wiki/Java_Platform_Module_System\r\n  [3]: https://stackoverflow.com/questions/55571046/eclipse-is-confused-by-imports-accessible-from-more-than-one-module\r\n  [4]: https://stackoverflow.com/questions/72793527/cannot-add-glassfish-server-to-netbeans-ide-14","title":"How to make a package not accessible from a module (i.e. how to remove a package from a module?)","body":"<h1>Short Version</h1>\n<p>What file do i have to delete from what folder to stop the error:</p>\n<blockquote>\n<p>The package %s is accessible from more than one module: &lt;unnamed&gt;, %s</p>\n</blockquote>\n<h1>Long Version</h1>\n<p>When trying to build a Java web-site, i am getting the error:</p>\n<blockquote>\n<p>The package %s is accessible from more than one module: &lt;unnamed&gt;, %s</p>\n</blockquote>\n<p>For example:</p>\n<p><a href=\"https://i.stack.imgur.com/N3BMr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/N3BMr.png\" alt=\"enter image description here\" /></a></p>\n<ul>\n<li><code>The package org.w3c.dom is accessible from more than one module: \\&lt;unnamed\\&gt;, java.xml</code></li>\n<li><code>The package javax.xml.parsers is accessible from more than one module: \\&lt;unnamed\\&gt;, java.xml</code></li>\n<li><code>The package netscape.javascript is accessible from more than one module: \\&lt;unnamed\\&gt;, jdk.jsobject</code></li>\n<li><code>The package org.xml.sax is accessible from more than one module: \\&lt;unnamed\\&gt;, java.xml</code></li>\n</ul>\n<p>Now:</p>\n<ul>\n<li>I don't know what a module is</li>\n<li>and i don't know what a package is</li>\n</ul>\n<p>But i do get get the sense that i need to delete a file (maybe a <code>.jar</code> file), or i need to edit a configuration file to remove a line, or i need to delete files elsewhere on my computer, or i need to delete environment variables.</p>\n<ul>\n<li>i don't know what file to delete</li>\n<li>i don't know what <code>.jar</code> file to delete</li>\n<li>i don't know what text file to edit</li>\n<li>i don't know what configuration file to edit</li>\n<li>i don't know what line in what text file to add, edit, or remove</li>\n</ul>\n<p>So, how do i:</p>\n<blockquote>\n<p>Make package %s <em><strong>not</strong></em> accessible from more than one module</p>\n</blockquote>\n<hr />\n<p>Apparently it is an bug added with Java 9 and the <a href=\"https://en.wikipedia.org/wiki/Java_Platform_Module_System\" rel=\"nofollow noreferrer\"><strong>Java Platform Module System (JPMS)</strong></a>, and it is not anything to do with Eclipse, NetBeans, or any IDE. It is a rule that was always there, but only Java 9 started enforcing it.</p>\n<ul>\n<li>Some <a href=\"https://stackoverflow.com/questions/55571046/eclipse-is-confused-by-imports-accessible-from-more-than-one-module\">say you can disable the JPMS</a> by deleting <code>module-info.java</code></li>\n<li>Others insist that you cannot disable JPMS at all after Java 8, and you just have to live on Java 8</li>\n<li>Some have said that if you delete <code>module-info.java</code> it will get re-created</li>\n</ul>\n<p>I don't have a <code>module-info.java</code> file anywhere in the folder or subfolders of the project</p>\n<ul>\n<li>Others suggest it is an issue with <code>classpath</code>, or <code>modulepath</code></li>\n</ul>\n<p>Although i don't have a classpath or modulepath set:</p>\n<pre><code>&gt;echo %classpath%\n%classpath%\n\n&gt;echo %modulepath%\n%modulepath%\n\n&gt;echo %java_home%\nC:\\Program Files\\Java\\jdk-18.0.1.1\n</code></pre>\n<p>IDE: <a href=\"https://stackoverflow.com/questions/72793527/cannot-add-glassfish-server-to-netbeans-ide-14\">Visual Studio Code</a></p>\n<h2>Project structure</h2>\n<p>The web-site is make up of a structure of files and folders. Some are probably there by convention, some are probably there by rule, and some may have been a dumping ground for extra stuff. I don't know which is which:</p>\n<ul>\n<li>üìÅ.vscode</li>\n<li>üìÅbuild</li>\n<li>üìÅconf</li>\n<li>üìÅdist</li>\n<li>üìÅJMeter</li>\n<li>üìÅLibrarySourceCode</li>\n<li><strike>üìÅnbproject</strike> <em>(deleted in an attempt to fix the issue)</em></li>\n<li>üìÅsql</li>\n<li>üìÅsrc</li>\n<li>üìÅWebRoot\n<ul>\n<li>üìÅapplets</li>\n<li>üìÅMETA-INF</li>\n<li>üìÅWEB-INF\n<ul>\n<li>üìÅclasses</li>\n<li>üìÅlib\n<ul>\n<li>üìÅactivation.jar</li>\n<li>üìÅcglib-full-2.0.2.jar</li>\n<li>üìÅcommons-beanutils.jar</li>\n<li>üìÅcommons-codec-1.3.jar</li>\n<li>üìÅcommons-collections-2.1.1.jar</li>\n<li>üìÅcommons-collections4-4.4.jar</li>\n<li>üìÅcommons-compress-1.20.jar</li>\n<li>üìÅcommons-dbcp-1.2.1.jar</li>\n<li>üìÅcommons-digester.jar</li>\n<li>üìÅcommons-fileupload.jar</li>\n<li>üìÅcommons-lang-1.0.1.jar</li>\n<li>üìÅcommons-logging-1.2.jar</li>\n<li>üìÅcommons-math3-3.6.1.jar</li>\n<li>üìÅcommons-pool-1.2.jar</li>\n<li>üìÅcommons-validator.jar</li>\n<li>üìÅcurvesapi-1.06.jar</li>\n<li>üìÅdom.jar</li>\n<li>üìÅdom4j-1.4.jar</li>\n<li>üìÅehcache-0.9.jar</li>\n<li>üìÅhibernate2.jar</li>\n<li>üìÅitext-1.4.jar</li>\n<li>üìÅjakarta-oro.jar</li>\n<li>üìÅjaxen-full.jar</li>\n<li>üìÅjaxp-api.jar</li>\n<li>üìÅjmf.jar</li>\n<li>üìÅjstl.jar</li>\n<li>üìÅjta.jar</li>\n<li>üìÅlog4j-1.2-api-2.17.1.jar</li>\n<li>üìÅlog4j-api-2.17.1.jar</li>\n<li>üìÅlog4j-core-2.17.1.jar</li>\n<li>üìÅlog4j-jcl-2.17.1.jar</li>\n<li>üìÅmail.jar</li>\n<li>üìÅodmg-3.0.jar</li>\n<li>üìÅooxml-schemas-1.1.jar</li>\n<li>üìÅplugin.jar</li>\n<li>üìÅpoi-3.9-20121203.jar</li>\n<li>üìÅpoi-ooxml-3.9-20121203.jar</li>\n<li>üìÅpoi-ooxml-schemas-3.9-20121203.jar</li>\n<li>üìÅsax.jar</li>\n<li>üìÅsaxpath.jar</li>\n<li>üìÅsessionmon.jar</li>\n<li>üìÅsqljdbc41.jar</li>\n<li>üìÅstandard.jar</li>\n<li>üìÅstruts.jar</li>\n<li>üìÅxalan.jar</li>\n<li>üìÅxercesImpl.jar</li>\n<li>üìÅxml-apis.jar</li>\n<li>üìÅxmlbeans-3.0.1.jar</li>\n<li>üìÅxmlbeans-4.0.0.jar</li>\n<li>üìÅxmlbeans-5.0.3.jar</li>\n</ul>\n</li>\n<li>üìÅtags</li>\n</ul>\n</li>\n</ul>\n</li>\n<li><strike>üìÑbuild.xml</strike> <em>(deleted in an attempt to fix the issue)</em></li>\n</ul>\n<h2>Research Effort</h2>\n<blockquote>\n<p>That's a restriction by the Java Platform Module System (JPMS), not by Eclipse (so don't shoot the messenger). If you delete the file module-info.java in your default package (which disables JPMS) it should work with Java 9 or higher.</p>\n</blockquote>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/55571046/eclipse-is-confused-by-imports-accessible-from-more-than-one-module\">Eclipse is confused by imports (&quot;accessible from more than one module&quot;)</a></li>\n<li><a href=\"https://stackoverflow.com/questions/55902512/package-accessible-from-more-than-one-module-unnamed\">Package accessible from more than one module: &lt;unnamed&gt;</a></li>\n<li><a href=\"https://stackoverflow.com/questions/72171466/the-package-org-xml-sax-is-accessible-from-more-than-one-module-unnamed-java\">The package org.xml.sax is accessible from more than one module: &lt;unnamed&gt;, java.xml</a></li>\n<li><a href=\"https://stackoverflow.com/questions/61551300/the-package-javax-xml-namespace-is-accessible-from-more-than-one-module-unname\">The package javax.xml.namespace is accessible from more than one module: &lt;unnamed&gt;, java.xml in eclipse webservice</a></li>\n<li><a href=\"https://stackoverflow.com/questions/67227759/the-package-is-accessible-from-more-than-one-module-error-fix-for-using-sax-in\">The package is accessible from more than one module (Error fix for using SAX in Eclipse)</a></li>\n<li><a href=\"https://stackoverflow.com/questions/63792162/the-package-java-util-is-accessible-from-more-than-one-module-unnamed-java-b\">The package java.util is accessible from more than one module: &lt;unnamed&gt;, java.base while adding &#39;android.jar&#39; in classpath</a></li>\n<li><a href=\"https://stackoverflow.com/questions/59053049/the-package-java-util-is-accessible-from-more-than-one-module-error\">The package java.util is accessible from more than one module: error</a></li>\n<li><a href=\"https://stackoverflow.com/questions/69760969/eclipse-error-the-package-javax-xml-datatype-is-accessible-from-more-than-one-mo\">Eclipse error The package javax.xml.datatype is accessible from more than one module: &lt;unnamed&gt;, java.xml - split packaging</a></li>\n<li><a href=\"https://stackoverflow.com/questions/57286825/the-package-org-w3c-dom-is-accessible-from-more-than-one-module-unnamed-java\">The package org.w3c.dom is accessible from more than one module: &lt;unnamed&gt;, java.xml</a></li>\n<li><a href=\"https://stackoverflow.com/questions/63938809/the-package-javax-xml-stream-is-accessible-from-more-than-one-module-unnamed\">The package javax.xml.stream is accessible from more than one module: &lt;unnamed&gt;, java.xml</a></li>\n<li><a href=\"https://stackoverflow.com/questions/69308625/error-importing-org-packages-accessible-from-more-than-one-module\">Error importing org packages - accessible from more than one module</a></li>\n<li><a href=\"https://stackoverflow.com/questions/70660455/eclipse-rcp-the-packagexxx-is-accessible-from-more-than-one-module-unnamed\">Eclipse RCP , The packagexxx is accessible from more than one module: &lt;unnamed&gt;</a></li>\n<li><a href=\"https://stackoverflow.com/questions/57551269/package-is-accessible-from-more-than-one-module\">Package is accessible from more than one module</a></li>\n<li><a href=\"https://stackoverflow.com/questions/59935009/the-package-javax-xml-namespace-is-accessible-from-more-than-one-module\">The package javax.xml.namespace is accessible from more than one module</a></li>\n<li><a href=\"https://stackoverflow.com/questions/60802975/package-accessible-from-more-than-one-module-in-eclipse-rcp\">Package accessible from more than one module in Eclipse RCP</a></li>\n<li><a href=\"https://stackoverflow.com/questions/68832650/the-package-org-json-is-accessible-from-more-than-one-module-unnamed-org-jso\">The package org.json is accessible from more than one module: &lt;unnamed&gt;, org.json</a></li>\n<li><a href=\"https://stackoverflow.com/questions/68839894/java-11-migration-package-is-accessible-from-more-than-one-module-issue\">Java 11 migration: Package is accessible from more than one module issue</a></li>\n<li><a href=\"https://stackoverflow.com/questions/61278108/vscode-the-package-is-accessible-from-more-than-one-module\">VSCode: The package is accessible from more than one module</a></li>\n<li><a href=\"https://stackoverflow.com/questions/60703832/the-package-is-accessible-from-more-than-one-module\">The package *** is accessible from more than one module</a></li>\n<li><a href=\"https://stackoverflow.com/questions/66638659/the-package-javax-xml-transform-is-accesible-from-more-than-one-module\">The package javax.xml.transform is accesible from more than one module</a></li>\n<li><a href=\"https://stackoverflow.com/questions/58873562/the-package-is-accessible-from-more-than-one-module-problem-under-vscode-only\">The package is accessible from more than one module problem under VSCode only</a></li>\n<li><a href=\"https://stackoverflow.com/questions/68771253/java-8-to-kava-11-migration-issue\">Java 8 to Kava 11 migration issue</a></li>\n<li><a href=\"https://stackoverflow.com/questions/64870172/specific-question-concerning-the-package-org-w3c-dom-is-accessible-from-more-th\">Specific question concerning &quot;The package org.w3c.dom is accessible from more than one module: &lt;unnamed&gt;, java.xml&quot;</a></li>\n<li><a href=\"https://stackoverflow.com/questions/56353171/package-is-accessible-from-more-than-one-module-in-jdk-11-module-system\">Package is accessible from more than one module in JDK 11 Module system</a></li>\n<li><a href=\"https://stackoverflow.com/questions/70743912/java-build-issues-java-8-to-java-11-migration\">Java build issues - Java 8 to Java 11 migration</a></li>\n<li><a href=\"https://stackoverflow.com/questions/62286414/how-to-solve-javax-xml-namespace-is-accessible-from-more-than-one-module-with-jd\">how to solve javax.xml.namespace is accessible from more than one module with jdk11</a></li>\n<li><a href=\"https://stackoverflow.com/questions/46834695/the-package-org-openqa-selenium-is-accessible-from-more-than-one-module\">The package org.openqa.selenium is accessible from more than one module</a></li>\n</ul>\n"},{"tags":["java","list","implementation"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":2,"creation_date":1656546148,"post_id":72808904,"comment_id":128602427,"body_markdown":"It depends a lot on if you want to generate monsters on the fly and have random encounters, or if you want to pre-bake every interaction. Personally, I would make a Monster class and extend it for each of the types to reduce duplicate code as much as possible, however, I don&#39;t know the scope and depth of your project. The benefit of creating a Monster class is that you can add methods to decrease/increase health and all sorts of things, the Player themselves could extend the monster class and just add additional inventory methods for example.","body":"It depends a lot on if you want to generate monsters on the fly and have random encounters, or if you want to pre-bake every interaction. Personally, I would make a Monster class and extend it for each of the types to reduce duplicate code as much as possible, however, I don&#39;t know the scope and depth of your project. The benefit of creating a Monster class is that you can add methods to decrease/increase health and all sorts of things, the Player themselves could extend the monster class and just add additional inventory methods for example."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1656546751,"post_id":72808904,"comment_id":128602519,"body_markdown":"Personally, I&#39;d start with a base line `interface`, which represents all the properties that EVERY `Monster` MUST have.  You can then expand on &quot;specialised&quot; functionality via other `interfaces`, like `Flyable`, `Swimmable`, etc...","body":"Personally, I&#39;d start with a base line <code>interface</code>, which represents all the properties that EVERY <code>Monster</code> MUST have.  You can then expand on &quot;specialised&quot; functionality via other <code>interfaces</code>, like <code>Flyable</code>, <code>Swimmable</code>, etc..."},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":2,"creation_date":1656547317,"post_id":72808904,"comment_id":128602607,"body_markdown":"If there are lots of monsters and they have the same properties then I&#39;d create one Monster class, and a way to load the monsters from a Java resource or even file. Then you can keep the monster definition out of the code. In other words, I would treat them as **data**, not source code. Java properties would work, or maybe JSON or XML.","body":"If there are lots of monsters and they have the same properties then I&#39;d create one Monster class, and a way to load the monsters from a Java resource or even file. Then you can keep the monster definition out of the code. In other words, I would treat them as <b>data</b>, not source code. Java properties would work, or maybe JSON or XML."},{"owner":{"account_id":22658272,"reputation":116,"user_id":16831808,"display_name":"Patrick Abbey"},"score":0,"creation_date":1656611400,"post_id":72808904,"comment_id":128621358,"body_markdown":"I should clarify, I intend to have at least, say, 30 monsters, and I want the interactions to be procedural. For example, this area would have these kinds of monsters, and the number and difficulty would depend on the difficulty setting, so kind of a controlled random if that makes sense.\nIf I do have an extended class for every monster type, would I have a constructor for each subclass and set the data in the constructor? Would that be possible?","body":"I should clarify, I intend to have at least, say, 30 monsters, and I want the interactions to be procedural. For example, this area would have these kinds of monsters, and the number and difficulty would depend on the difficulty setting, so kind of a controlled random if that makes sense. If I do have an extended class for every monster type, would I have a constructor for each subclass and set the data in the constructor? Would that be possible?"},{"owner":{"account_id":22658272,"reputation":116,"user_id":16831808,"display_name":"Patrick Abbey"},"score":0,"creation_date":1656615273,"post_id":72808904,"comment_id":128622509,"body_markdown":"So an update, I figured out for now a decent route for me.\n`\npublic class Monster {\n    protected String name;\n    protected int[] stats;\n    protected int[] attackRange;\n    protected int defense;\n    protected int health;\n    \n    public String getName() {\n        return name;\n    }\n    public int getDefense() {\n        return defense;\n    }\n    public int[] getAttack() {\n        return attackRange;\n    }\n    public int getHealth() {\n        return health;\n    }\n}\n`\nThen have each monster type be a subclass like I was thinking, with constructors setting those values.","body":"So an update, I figured out for now a decent route for me. ` public class Monster {     protected String name;     protected int[] stats;     protected int[] attackRange;     protected int defense;     protected int health;          public String getName() {         return name;     }     public int getDefense() {         return defense;     }     public int[] getAttack() {         return attackRange;     }     public int getHealth() {         return health;     } } ` Then have each monster type be a subclass like I was thinking, with constructors setting those values."}],"answers":[{"tags":[],"owner":{"account_id":1974670,"reputation":331,"user_id":1772736,"display_name":"byteherder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656547133,"creation_date":1656547133,"answer_id":72809011,"question_id":72808904,"body_markdown":"You could do this with a list of Monster classes. Each monster would have its own instance of Monster and would be added into the list. If a monster need additional attributes like speed or special attack, then you could extend the Monster base class. In the Fight class, you would have a loadPlayer() and loadMonster() method. You would pass in the index of the monster you wanted to fight. An initiateCombat() in the Fight class would begin the melee.","title":"How to best implement a list of &#39;monsters&#39; in Java?","body":"<p>You could do this with a list of Monster classes. Each monster would have its own instance of Monster and would be added into the list. If a monster need additional attributes like speed or special attack, then you could extend the Monster base class. In the Fight class, you would have a loadPlayer() and loadMonster() method. You would pass in the index of the monster you wanted to fight. An initiateCombat() in the Fight class would begin the melee.</p>\n"}],"owner":{"account_id":22658272,"reputation":116,"user_id":16831808,"display_name":"Patrick Abbey"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":297,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1656547133,"creation_date":1656545984,"question_id":72808904,"body_markdown":"Let&#39;s say I want to have a list of Monsters. Each of these monsters has similar sets of attributes to them, a few of which are these:\r\n\r\n```\r\nString name;\r\nint[] stats;\r\nint[] attackRange;\r\nint defense;\r\nint health;\r\n```\r\n\r\nEvery monster has their own value of these stats, but they all have them. For example, one monster type might be this:\r\n```\r\nname = &quot;Slime&quot;;\r\nstats = [3, 0, 1, 1];\r\nattackRange = [1, 2, 3];\r\ndefense = 1;\r\nhealth = 5;\r\n```\r\n\r\nNow, say I have a class called &#39;Fight&#39; that basically initiates an instance of combat. \r\nThe player&#39;s stats are loaded in, and I want to be able to also load in the stats of at least 1 instance of a monster, i.e. a Slime with the stats mentioned above, and a Giant Bat, which would have its own version of the stats mentioned above.\r\n\r\nFor some reason, I&#39;m having a hard time figuring out an efficient way of approaching this. One idea would be to have each monster type to be a subclass of a Monster class, like\r\n```\r\nclass Slime extends Monster\r\n```\r\n\r\nBut considering there&#39;s going to be lots of different types of monsters, I don&#39;t know how cumbersome/&#39;clunky&#39; that idea might be to implement. Another way is to have an array of all the monsters and select it via a selector index, such as \r\n```\r\npublic void loadMonster(int index){\r\n    switch(index){\r\n      case 0: name = &quot;Slime&quot;; stats = [3, 0, 1, 1]; //and so on with the rest of the attributes\r\n}\r\n```\r\nand then call that several times to load, but it&#39;d be awkward and hard to read if I put all the stats of every monster into one switch statement.","title":"How to best implement a list of &#39;monsters&#39; in Java?","body":"<p>Let's say I want to have a list of Monsters. Each of these monsters has similar sets of attributes to them, a few of which are these:</p>\n<pre><code>String name;\nint[] stats;\nint[] attackRange;\nint defense;\nint health;\n</code></pre>\n<p>Every monster has their own value of these stats, but they all have them. For example, one monster type might be this:</p>\n<pre><code>name = &quot;Slime&quot;;\nstats = [3, 0, 1, 1];\nattackRange = [1, 2, 3];\ndefense = 1;\nhealth = 5;\n</code></pre>\n<p>Now, say I have a class called 'Fight' that basically initiates an instance of combat.\nThe player's stats are loaded in, and I want to be able to also load in the stats of at least 1 instance of a monster, i.e. a Slime with the stats mentioned above, and a Giant Bat, which would have its own version of the stats mentioned above.</p>\n<p>For some reason, I'm having a hard time figuring out an efficient way of approaching this. One idea would be to have each monster type to be a subclass of a Monster class, like</p>\n<pre><code>class Slime extends Monster\n</code></pre>\n<p>But considering there's going to be lots of different types of monsters, I don't know how cumbersome/'clunky' that idea might be to implement. Another way is to have an array of all the monsters and select it via a selector index, such as</p>\n<pre><code>public void loadMonster(int index){\n    switch(index){\n      case 0: name = &quot;Slime&quot;; stats = [3, 0, 1, 1]; //and so on with the rest of the attributes\n}\n</code></pre>\n<p>and then call that several times to load, but it'd be awkward and hard to read if I put all the stats of every monster into one switch statement.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1656509326,"post_id":72795667,"comment_id":128590315,"body_markdown":"You should ask the author of this code. There‚Äôs so much wrong with this code, it‚Äôs not worth discussing whether the interface could be a class.","body":"You should ask the author of this code. There‚Äôs so much wrong with this code, it‚Äôs not worth discussing whether the interface could be a class."},{"owner":{"account_id":2112403,"reputation":746,"user_id":1877412,"display_name":"cbuteau"},"score":0,"creation_date":1656763623,"post_id":72795667,"comment_id":128654098,"body_markdown":"Does that code execute? that is not an interface then.\nAn interface is just function signatures and properties not code at ALL.","body":"Does that code execute? that is not an interface then. An interface is just function signatures and properties not code at ALL."},{"owner":{"account_id":27594883,"reputation":120,"user_id":21061328,"display_name":"java_coder"},"score":1,"creation_date":1693224958,"post_id":72795667,"comment_id":135727781,"body_markdown":"Consult with the code&#39;s author","body":"Consult with the code&#39;s author"}],"answers":[{"tags":[],"owner":{"account_id":9200398,"reputation":171,"user_id":6837577,"display_name":"Igor Rom&#225;n"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656477064,"creation_date":1656477064,"answer_id":72795814,"question_id":72795667,"body_markdown":"The static methods was included in Java 8.\r\n\r\nSuppose we have the Product interface which is implemented in multiple classes, for that case we could add product operations directly in the interface, this allows to group responsibilities and reuse code, just that.\r\n\r\n","title":"Why is static method(with implementation) used inside an interface? Why is the below interface made like that?","body":"<p>The static methods was included in Java 8.</p>\n<p>Suppose we have the Product interface which is implemented in multiple classes, for that case we could add product operations directly in the interface, this allows to group responsibilities and reuse code, just that.</p>\n"},{"tags":[],"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656547026,"creation_date":1656547026,"answer_id":72809000,"question_id":72795667,"body_markdown":"The static methods in interfaces are similar to default methods but the difference is that you can‚Äôt override them.\r\n\r\nA link to an old question (pre Java 8) but it has been updated to include this answer https://stackoverflow.com/a/513001/2310289\r\n\r\n","title":"Why is static method(with implementation) used inside an interface? Why is the below interface made like that?","body":"<p>The static methods in interfaces are similar to default methods but the difference is that you can‚Äôt override them.</p>\n<p>A link to an old question (pre Java 8) but it has been updated to include this answer <a href=\"https://stackoverflow.com/a/513001/2310289\">https://stackoverflow.com/a/513001/2310289</a></p>\n"}],"owner":{"account_id":19306526,"reputation":203,"user_id":14113217,"display_name":"Palak Kharbanda"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1656547026,"creation_date":1656475357,"question_id":72795667,"body_markdown":"    public interface Validator {\r\n\tstatic boolean checkEmptyOrNull(String string, ApiException apiException) {\r\n\t\tif (Objects.isNull(string) || string.trim().isEmpty()) {\r\n\t\t\tthrow apiException;\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n\r\n\r\n\tstatic boolean checkEmptyOrNull(int value, ApiException apiException) {\r\n\t\tif (value &lt; 1) {\r\n\t\t\tthrow apiException;\r\n\t\t}\r\n\r\n\t\treturn true;\r\n\t}\r\n\r\n}\r\n\r\n\r\nWhy haven&#39;t we just created a class instead of interface? What difference it would make?","title":"Why is static method(with implementation) used inside an interface? Why is the below interface made like that?","body":"<pre><code>public interface Validator {\nstatic boolean checkEmptyOrNull(String string, ApiException apiException) {\n    if (Objects.isNull(string) || string.trim().isEmpty()) {\n        throw apiException;\n    }\n    return true;\n}\n\n\nstatic boolean checkEmptyOrNull(int value, ApiException apiException) {\n    if (value &lt; 1) {\n        throw apiException;\n    }\n\n    return true;\n}\n</code></pre>\n<p>}</p>\n<p>Why haven't we just created a class instead of interface? What difference it would make?</p>\n"},{"tags":["java","cookies"],"comments":[{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":0,"creation_date":1656520961,"post_id":72805005,"comment_id":128595269,"body_markdown":"What is your exact question?","body":"What is your exact question?"},{"owner":{"account_id":16665505,"reputation":21,"user_id":12044287,"display_name":"Sital Mandal"},"score":0,"creation_date":1656521887,"post_id":72805005,"comment_id":128595608,"body_markdown":"@PM77-1 it should not store cookie &#39;c1&#39; value because it is an .gov.","body":"@PM77-1 it should not store cookie &#39;c1&#39; value because it is an .gov."},{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":0,"creation_date":1656525275,"post_id":72805005,"comment_id":128596832,"body_markdown":"I have edited the bottom of your question. If I did not get it right - please [Edit] it for further clarification.","body":"I have edited the bottom of your question. If I did not get it right - please <a href=\"https://stackoverflow.com/posts/72805005/edit\">Edit</a> it for further clarification."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1656545230,"post_id":72805005,"comment_id":128602283,"body_markdown":"It is the `CookieManager` that has a `CookiePolicy`, not the `CookieStore`. The store just does what you tell it to do. Try via `CookieManager.put()`, or better still install the cookie manager and try via a real .gov URL.","body":"It is the <code>CookieManager</code> that has a <code>CookiePolicy</code>, not the <code>CookieStore</code>. The store just does what you tell it to do. Try via <code>CookieManager.put()</code>, or better still install the cookie manager and try via a real .gov URL."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1656566543,"post_id":72805005,"comment_id":128605143,"body_markdown":"NB There is no [tag:spring] here. nor any [tag:collections], nor (so far) any [tag:network-programming] either. Don&#39;t tag indiscriminately.","body":"NB There is no <a href=\"https://stackoverflow.com/questions/tagged/spring\">spring</a> here. nor any <a href=\"https://stackoverflow.com/questions/tagged/collections\">collections</a>, nor (so far) any <a href=\"https://stackoverflow.com/questions/tagged/network-programming\">network-programming</a> either. Don&#39;t tag indiscriminately."}],"owner":{"account_id":16665505,"reputation":21,"user_id":12044287,"display_name":"Sital Mandal"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":204,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1656546377,"creation_date":1656520769,"question_id":72805005,"body_markdown":"    import java.net.CookiePolicy;\r\n    import java.net.HttpCookie;\r\n    import java.net.URI;\r\n    \r\n    public class NoGovernmentCookies implements CookiePolicy {\r\n        @Override\r\n        public boolean shouldAccept(URI uri, HttpCookie cookie){\r\n            if(uri.getAuthority().toLowerCase().endsWith(&quot;.gov&quot;)){\r\n                return false;\r\n            }\r\n            return true;\r\n        }\r\n    }\r\n\r\nI have made new CookieTest class to call NoGovernmentCookies.\r\n \r\n    import java.net.*;\r\n    import java.util.List;\r\n    \r\n    public class CookieTest {\r\n        public static void main(String[] args) {\r\n    \r\n            CookieManager manager = new CookieManager();\r\n    \r\n    \r\n            HttpCookie c1 = new HttpCookie(&quot;user1&quot;, &quot;1&quot;);\r\n            URI uri1 = URI.create(&quot;http://spm.gov&quot;);\r\n    \r\n    \r\n    \r\n            manager.setCookiePolicy(new NoGovernmentCookies());\r\n    \r\n          /*  manager.setCookiePolicy(CookiePolicy.ACCEPT_ALL);\r\n            manager.setCookiePolicy(CookiePolicy.ACCEPT_NONE);\r\n            manager.setCookiePolicy(CookiePolicy.ACCEPT_ORIGINAL_SERVER);*/\r\n    \r\n           // CookieHandler.setDefault(manager);\r\n            CookieStore cs = manager.getCookieStore();\r\n            cs. add(uri1, c1);\r\n    \r\n    \r\n            //read stored cookies\r\n            List cl = cs.getCookies();\r\n            System.out.println(&quot;cookies list in cookiestore&quot; + cl + &quot;\\n&quot;);\r\n        }\r\n    \r\n    }\r\n\r\n\r\nit is showing output as value:\r\n\r\n    cookies list in cookiestore[user1=&quot;1&quot;]\r\n\r\nI do not want to add it in cookiestore, because it is against our  NoGovernmentCookies policy for `.gov`.","title":"Write a Java program that shows a simple CookiePolicy that blocks cookies from .gov domains, but allows others","body":"<pre><code>import java.net.CookiePolicy;\nimport java.net.HttpCookie;\nimport java.net.URI;\n\npublic class NoGovernmentCookies implements CookiePolicy {\n    @Override\n    public boolean shouldAccept(URI uri, HttpCookie cookie){\n        if(uri.getAuthority().toLowerCase().endsWith(&quot;.gov&quot;)){\n            return false;\n        }\n        return true;\n    }\n}\n</code></pre>\n<p>I have made new CookieTest class to call NoGovernmentCookies.</p>\n<pre><code>import java.net.*;\nimport java.util.List;\n\npublic class CookieTest {\n    public static void main(String[] args) {\n\n        CookieManager manager = new CookieManager();\n\n\n        HttpCookie c1 = new HttpCookie(&quot;user1&quot;, &quot;1&quot;);\n        URI uri1 = URI.create(&quot;http://spm.gov&quot;);\n\n\n\n        manager.setCookiePolicy(new NoGovernmentCookies());\n\n      /*  manager.setCookiePolicy(CookiePolicy.ACCEPT_ALL);\n        manager.setCookiePolicy(CookiePolicy.ACCEPT_NONE);\n        manager.setCookiePolicy(CookiePolicy.ACCEPT_ORIGINAL_SERVER);*/\n\n       // CookieHandler.setDefault(manager);\n        CookieStore cs = manager.getCookieStore();\n        cs. add(uri1, c1);\n\n\n        //read stored cookies\n        List cl = cs.getCookies();\n        System.out.println(&quot;cookies list in cookiestore&quot; + cl + &quot;\\n&quot;);\n    }\n\n}\n</code></pre>\n<p>it is showing output as value:</p>\n<pre><code>cookies list in cookiestore[user1=&quot;1&quot;]\n</code></pre>\n<p>I do not want to add it in cookiestore, because it is against our  NoGovernmentCookies policy for <code>.gov</code>.</p>\n"},{"tags":["java","spring-boot","mocking","mockito","powermockito"],"comments":[{"owner":{"account_id":126610,"reputation":13693,"user_id":323221,"accept_rate":76,"display_name":"Erik Pragt"},"score":0,"creation_date":1656556388,"post_id":72808797,"comment_id":128603763,"body_markdown":"I  know this isn&#39;t really an answer per se, but I think using PowrMockito to mock private methods is a last resort option, when your code isn&#39;t under your control. But when it is, I&#39;d change the code to make it more testable, for example by delegating the `talkToServer` method to a separate class, and mock/stub that code.","body":"I  know this isn&#39;t really an answer per se, but I think using PowrMockito to mock private methods is a last resort option, when your code isn&#39;t under your control. But when it is, I&#39;d change the code to make it more testable, for example by delegating the <code>talkToServer</code> method to a separate class, and mock/stub that code."}],"answers":[{"tags":[],"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656546072,"creation_date":1656546072,"answer_id":72808911,"question_id":72808797,"body_markdown":"Because you&#39;ve replaced `flex` with a mock, you can&#39;t expect any of the methods of `FlexComm` to run for that mock, unless you explicitly tell them to do that.  So the `processRequest` method won&#39;t actually call `doFlexComm` at all.\r\n\r\nYou probably want to use a Spy instead of a Mock, which is an object that you can stub, whose methods actually call real methods on a real object by default.  I&#39;ve never tried using Spy objects with PowerMock, but there are examples online which I&#39;m sure you can find.","title":"PowerMockito not allowing access to private method","body":"<p>Because you've replaced <code>flex</code> with a mock, you can't expect any of the methods of <code>FlexComm</code> to run for that mock, unless you explicitly tell them to do that.  So the <code>processRequest</code> method won't actually call <code>doFlexComm</code> at all.</p>\n<p>You probably want to use a Spy instead of a Mock, which is an object that you can stub, whose methods actually call real methods on a real object by default.  I've never tried using Spy objects with PowerMock, but there are examples online which I'm sure you can find.</p>\n"}],"owner":{"account_id":8960804,"reputation":99,"user_id":6683538,"display_name":"src2012"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656546072,"creation_date":1656544773,"question_id":72808797,"body_markdown":"I have the below classes:\r\n\r\nTest Class:\r\n```\r\n@RunWith(PowerMockRunner.class)\r\n@PrepareForTest(FlexComm.class)\r\n@SpringBootTest(classes = ApplicationContext.class)\r\n@ContextConfiguration(classes = {Processor.class, FlexComm.class,...})\r\npublic class ProcessorTest {\r\n    @Autowired\r\n    Cache cache;\r\n    @Autowired\r\n    Processor processor;\r\n\r\n    @Autowired\r\n    FlexComm flex;\r\n\r\n     @Before\r\n     public void init() {\r\n         flex = PowerMockito.mock(FlexComm.class);\r\n    }\r\n\r\n    @Test\r\n    public void testProcessorValid() {\r\n        try {\r\n            \r\n            String req = &quot;{\\&quot;version\\&quot;:\\&quot;1\\&quot;,\\&quot;data\\&quot;:\\&quot;encryptedData\\&quot;}&quot;;\r\n            byte[] requestToBytes = req.getBytes();\r\n            String url = &quot;https://someurl&quot;;\r\n            String resp = &quot;{\\&quot;type\\&quot;:\\&quot;CHECKOUT\\&quot;,\\&quot;id\\&quot;:\\&quot;hostid\\&quot;,\\&quot;status\\&quot;:\\&quot;SUCCESS\\&quot;,\\&quot;error\\&quot;:\\&quot;\\&quot;}&quot;;\r\n            byte[] responseToBytes = resp.getBytes();\r\n            String payload = &quot;{\\&quot;source\\&quot;:\\&quot;HQVNMTBVK\\&quot;,\\&quot;id\\&quot;:\\&quot;hostid\\&quot;,\\&quot;auditValue\\&quot;:2986,\\&quot;requestData\\&quot;:[{\\&quot;featureName\\&quot;:\\&quot;name\\&quot;,\\&quot;featureVersion\\&quot;:\\&quot;1.0\\&quot;,\\&quot;count\\&quot;:1,\\&quot;flags\\&quot;:0}]}&quot;;\r\n         \r\n            PowerMockito.doReturn(responseToBytes).when(flex, &quot;talkToServer&quot;, Byte[].class, String.class);\r\n            \r\n            RequestData reqData = new RequestData(&quot;1&quot;, Tools.encryptString(payload));\r\n            CompletableFuture&lt;ResponseData&gt; response = processor.processRequest(reqData);\r\n            assertEquals(&quot;SUCCESS&quot;, response.getStatus(&quot;status&quot;));\r\n        } catch(Exception e) {\r\n            System.out.println(e.getMessage());\r\n        }\r\n    }\r\n}\r\n```\r\nClass I&#39;m testing:\r\n\r\n```\r\n@Configuration\r\npublic class Processor {\r\n    @Autowired\r\n    private FlexComm flex;\r\n\r\n    @Autowired\r\n    Cache cache;\r\n\r\n    public void processRequest() {\r\n        //does some logic then calls below method\r\n        doCheckOut();\r\n    }\r\n    private ResponseData doCheckOut() {\r\n        //more logic, then calls the public flex method\r\n        ReturnData rd = flex.checkOut();\r\n    }\r\n}\r\n```\r\nClass with private method I&#39;m trying to access\r\n\r\n```\r\n@Configuration\r\npublic class FlexComm {\r\n\r\n    public ReturnData checkOut() {\r\n        return doFlexComm();\r\n    }\r\n\r\n    private ReturnData doFlexComm() {\r\n        LicenseManager licenseManager = createLicenseManager() //imported class\r\n        \r\n        byte[] requestData = null;\r\n        byte[] responseData = null;\r\n        //more logic, too much code to include here\r\n        requestData = licenseManager.getRequestData();\r\n        responseData = talkToServer(requestData); //this is the method I want to call\r\n        return new ReturnData(requestData, responseData);   \r\n    }\r\n\r\n    private byte[] talkToServer(byte[] requestData) {\r\n        Comm comm = getHttpInstance();\r\n        byte[] responseData = sendBinaryRequest(comm, requestData);\r\n        return responseData;\r\n    }\r\n}\r\n```\r\n\r\nI&#39;m trying to mock the talkToServer method, but PowerMockito keeps saying that it can&#39;t be accessed because it is a private method. I also can&#39;t change any of the source code because it is too tightly bound together, so any changes could easily break something. I&#39;ve scoured the web for an answer, and I&#39;ve tried every variation of ```PowerMockito.doReturn().when()``` and ```PowerMockito.when().thenReturn()```, but have had no luck. At this point I&#39;m really just looking to see if there is something obviously wrong with how my code is set up, or if what I&#39;m doing is actually possible. Any help is appreciated. ","title":"PowerMockito not allowing access to private method","body":"<p>I have the below classes:</p>\n<p>Test Class:</p>\n<pre><code>@RunWith(PowerMockRunner.class)\n@PrepareForTest(FlexComm.class)\n@SpringBootTest(classes = ApplicationContext.class)\n@ContextConfiguration(classes = {Processor.class, FlexComm.class,...})\npublic class ProcessorTest {\n    @Autowired\n    Cache cache;\n    @Autowired\n    Processor processor;\n\n    @Autowired\n    FlexComm flex;\n\n     @Before\n     public void init() {\n         flex = PowerMockito.mock(FlexComm.class);\n    }\n\n    @Test\n    public void testProcessorValid() {\n        try {\n            \n            String req = &quot;{\\&quot;version\\&quot;:\\&quot;1\\&quot;,\\&quot;data\\&quot;:\\&quot;encryptedData\\&quot;}&quot;;\n            byte[] requestToBytes = req.getBytes();\n            String url = &quot;https://someurl&quot;;\n            String resp = &quot;{\\&quot;type\\&quot;:\\&quot;CHECKOUT\\&quot;,\\&quot;id\\&quot;:\\&quot;hostid\\&quot;,\\&quot;status\\&quot;:\\&quot;SUCCESS\\&quot;,\\&quot;error\\&quot;:\\&quot;\\&quot;}&quot;;\n            byte[] responseToBytes = resp.getBytes();\n            String payload = &quot;{\\&quot;source\\&quot;:\\&quot;HQVNMTBVK\\&quot;,\\&quot;id\\&quot;:\\&quot;hostid\\&quot;,\\&quot;auditValue\\&quot;:2986,\\&quot;requestData\\&quot;:[{\\&quot;featureName\\&quot;:\\&quot;name\\&quot;,\\&quot;featureVersion\\&quot;:\\&quot;1.0\\&quot;,\\&quot;count\\&quot;:1,\\&quot;flags\\&quot;:0}]}&quot;;\n         \n            PowerMockito.doReturn(responseToBytes).when(flex, &quot;talkToServer&quot;, Byte[].class, String.class);\n            \n            RequestData reqData = new RequestData(&quot;1&quot;, Tools.encryptString(payload));\n            CompletableFuture&lt;ResponseData&gt; response = processor.processRequest(reqData);\n            assertEquals(&quot;SUCCESS&quot;, response.getStatus(&quot;status&quot;));\n        } catch(Exception e) {\n            System.out.println(e.getMessage());\n        }\n    }\n}\n</code></pre>\n<p>Class I'm testing:</p>\n<pre><code>@Configuration\npublic class Processor {\n    @Autowired\n    private FlexComm flex;\n\n    @Autowired\n    Cache cache;\n\n    public void processRequest() {\n        //does some logic then calls below method\n        doCheckOut();\n    }\n    private ResponseData doCheckOut() {\n        //more logic, then calls the public flex method\n        ReturnData rd = flex.checkOut();\n    }\n}\n</code></pre>\n<p>Class with private method I'm trying to access</p>\n<pre><code>@Configuration\npublic class FlexComm {\n\n    public ReturnData checkOut() {\n        return doFlexComm();\n    }\n\n    private ReturnData doFlexComm() {\n        LicenseManager licenseManager = createLicenseManager() //imported class\n        \n        byte[] requestData = null;\n        byte[] responseData = null;\n        //more logic, too much code to include here\n        requestData = licenseManager.getRequestData();\n        responseData = talkToServer(requestData); //this is the method I want to call\n        return new ReturnData(requestData, responseData);   \n    }\n\n    private byte[] talkToServer(byte[] requestData) {\n        Comm comm = getHttpInstance();\n        byte[] responseData = sendBinaryRequest(comm, requestData);\n        return responseData;\n    }\n}\n</code></pre>\n<p>I'm trying to mock the talkToServer method, but PowerMockito keeps saying that it can't be accessed because it is a private method. I also can't change any of the source code because it is too tightly bound together, so any changes could easily break something. I've scoured the web for an answer, and I've tried every variation of <code>PowerMockito.doReturn().when()</code> and <code>PowerMockito.when().thenReturn()</code>, but have had no luck. At this point I'm really just looking to see if there is something obviously wrong with how my code is set up, or if what I'm doing is actually possible. Any help is appreciated.</p>\n"},{"tags":["java","geometry","javafx"],"comments":[{"owner":{"account_id":483434,"reputation":25487,"user_id":898478,"accept_rate":86,"display_name":"m0skit0"},"score":0,"creation_date":1384707791,"post_id":20033512,"comment_id":29834664,"body_markdown":"http://stackoverflow.com/questions/3851520/basic-2d-collision-detection","body":"<a href=\"http://stackoverflow.com/questions/3851520/basic-2d-collision-detection\" title=\"basic 2d collision detection\">stackoverflow.com/questions/3851520/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1299356,"reputation":1264,"user_id":2312686,"accept_rate":90,"display_name":"matovitch"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1384723885,"creation_date":1384723885,"answer_id":20036434,"question_id":20033512,"body_markdown":"I don&#39;t know JavaFx but here is the idea :\r\n\r\n    while (1) {\r\n        bool btop = pos.y &gt;= top\r\n        bool bbottom = pos.y &lt;= bottom\r\n        bool bleft = pos.x &lt;= left\r\n        bool bright = pos.x &gt;= right\r\n        bool rect_btop = pos.y &lt;= rect_top &amp;&amp; pos.x &gt;= rect_left &amp;&amp; pos.x &lt;= rect_right\r\n        bool rect_bbottom = pos.y &lt;= rect_bottom &amp;&amp; pos.x &gt;= rect_left &amp;&amp; pos.x &lt;= rect_right\r\n        bool rect_bright = pos.x &lt;= rect_right &amp;&amp; pos.y &gt;= rect_bottom &amp;&amp; pos.y &lt;= rect_top\r\n        bool rect_bleft = pos.x &gt;= rect_left &amp;&amp; pos.y &gt;= rect_bottom &amp;&amp; pos.y &lt;= rect_top\r\n\r\n        if (btop || bottom || rect_btop || rect_bbottom)\r\n            vy -= vy\r\n\r\n        if (bleft || bright || rect_bleft || rect_bright)\r\n            vx -= vx\r\n    }\r\n\r\nThere are however far better and scalable solution (to code a breakout bricks).","title":"How to make ball bounce off an object in Javafx?","body":"<p>I don't know JavaFx but here is the idea :</p>\n\n<pre><code>while (1) {\n    bool btop = pos.y &gt;= top\n    bool bbottom = pos.y &lt;= bottom\n    bool bleft = pos.x &lt;= left\n    bool bright = pos.x &gt;= right\n    bool rect_btop = pos.y &lt;= rect_top &amp;&amp; pos.x &gt;= rect_left &amp;&amp; pos.x &lt;= rect_right\n    bool rect_bbottom = pos.y &lt;= rect_bottom &amp;&amp; pos.x &gt;= rect_left &amp;&amp; pos.x &lt;= rect_right\n    bool rect_bright = pos.x &lt;= rect_right &amp;&amp; pos.y &gt;= rect_bottom &amp;&amp; pos.y &lt;= rect_top\n    bool rect_bleft = pos.x &gt;= rect_left &amp;&amp; pos.y &gt;= rect_bottom &amp;&amp; pos.y &lt;= rect_top\n\n    if (btop || bottom || rect_btop || rect_bbottom)\n        vy -= vy\n\n    if (bleft || bright || rect_bleft || rect_bright)\n        vx -= vx\n}\n</code></pre>\n\n<p>There are however far better and scalable solution (to code a breakout bricks).</p>\n"},{"tags":[],"owner":{"account_id":14565579,"reputation":61,"user_id":12893495,"display_name":"Irving Gabriel Meldak"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656546028,"creation_date":1587881532,"answer_id":61436534,"question_id":20033512,"body_markdown":"[this post][1] help me a lot\r\n\r\n\r\n  [1]: https://mkyong.com/javafx/javafx-animated-ball-example/\r\n\r\n    package com.mkyong.javafx.animatedball;\r\n    \r\n    import javafx.animation.KeyFrame;\r\n    import javafx.animation.Timeline;\r\n    import javafx.application.Application;\r\n    import javafx.event.ActionEvent;\r\n    import javafx.event.EventHandler;\r\n    import javafx.geometry.Bounds;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.layout.Pane;\r\n    import javafx.scene.paint.Color;\r\n    import javafx.scene.shape.Circle;\r\n    import javafx.stage.Stage;\r\n    import javafx.util.Duration;\r\n    \r\n    public class BouncingBall extends Application{\r\n    \r\n        @Override\r\n        public void start(Stage stage) {\r\n    \r\n        \tPane canvas = new Pane();\r\n        \tScene scene = new Scene(canvas, 300, 300, Color.ALICEBLUE);\r\n        \tCircle ball = new Circle(10, Color.CADETBLUE);\r\n            ball.relocate(5, 5);\r\n    \r\n            canvas.getChildren().add(ball);\r\n    \r\n            stage.setTitle(&quot;Animated Ball&quot;);\r\n            stage.setScene(scene);\r\n            stage.show();\r\n    \r\n            Timeline timeline = new Timeline(new KeyFrame(Duration.millis(20),\r\n                    new EventHandler &lt; ActionEvent&gt;() {\r\n    \r\n            \tdouble dx = 7; //Step on x or velocity\r\n            \tdouble dy = 3; //Step on y\r\n    \r\n                @Override\r\n                public void handle(ActionEvent t) {\r\n                \t//move the ball\r\n                \tball.setLayoutX(ball.getLayoutX() + dx);\r\n                \tball.setLayoutY(ball.getLayoutY() + dy);\r\n    \r\n                    Bounds bounds = canvas.getBoundsInLocal();\r\n    \r\n                    //If the ball reaches the left or right border make the step negative\r\n                    if(ball.getLayoutX() &amp;lt;= (bounds.getMinX() + ball.getRadius()) ||\r\n                            ball.getLayoutX() &gt;= (bounds.getMaxX() - ball.getRadius()) ){\r\n    \r\n                    \tdx = -dx;\r\n    \r\n                    }\r\n    \r\n                    //If the ball reaches the bottom or top border make the step negative\r\n                    if((ball.getLayoutY() &gt;= (bounds.getMaxY() - ball.getRadius())) ||\r\n                            (ball.getLayoutY() &amp;lt;= (bounds.getMinY() + ball.getRadius()))){\r\n    \r\n                    \tdy = -dy;\r\n    \r\n                    }\r\n                }\r\n            }));\r\n            timeline.setCycleCount(Timeline.INDEFINITE);\r\n            timeline.play();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch();\r\n        }\r\n    }","title":"How to make ball bounce off an object in Javafx?","body":"<p><a href=\"https://mkyong.com/javafx/javafx-animated-ball-example/\" rel=\"nofollow noreferrer\">this post</a> help me a lot</p>\n<pre><code>package com.mkyong.javafx.animatedball;\n\nimport javafx.animation.KeyFrame;\nimport javafx.animation.Timeline;\nimport javafx.application.Application;\nimport javafx.event.ActionEvent;\nimport javafx.event.EventHandler;\nimport javafx.geometry.Bounds;\nimport javafx.scene.Scene;\nimport javafx.scene.layout.Pane;\nimport javafx.scene.paint.Color;\nimport javafx.scene.shape.Circle;\nimport javafx.stage.Stage;\nimport javafx.util.Duration;\n\npublic class BouncingBall extends Application{\n\n    @Override\n    public void start(Stage stage) {\n\n        Pane canvas = new Pane();\n        Scene scene = new Scene(canvas, 300, 300, Color.ALICEBLUE);\n        Circle ball = new Circle(10, Color.CADETBLUE);\n        ball.relocate(5, 5);\n\n        canvas.getChildren().add(ball);\n\n        stage.setTitle(&quot;Animated Ball&quot;);\n        stage.setScene(scene);\n        stage.show();\n\n        Timeline timeline = new Timeline(new KeyFrame(Duration.millis(20),\n                new EventHandler &lt; ActionEvent&gt;() {\n\n            double dx = 7; //Step on x or velocity\n            double dy = 3; //Step on y\n\n            @Override\n            public void handle(ActionEvent t) {\n                //move the ball\n                ball.setLayoutX(ball.getLayoutX() + dx);\n                ball.setLayoutY(ball.getLayoutY() + dy);\n\n                Bounds bounds = canvas.getBoundsInLocal();\n\n                //If the ball reaches the left or right border make the step negative\n                if(ball.getLayoutX() &amp;lt;= (bounds.getMinX() + ball.getRadius()) ||\n                        ball.getLayoutX() &gt;= (bounds.getMaxX() - ball.getRadius()) ){\n\n                    dx = -dx;\n\n                }\n\n                //If the ball reaches the bottom or top border make the step negative\n                if((ball.getLayoutY() &gt;= (bounds.getMaxY() - ball.getRadius())) ||\n                        (ball.getLayoutY() &amp;lt;= (bounds.getMinY() + ball.getRadius()))){\n\n                    dy = -dy;\n\n                }\n            }\n        }));\n        timeline.setCycleCount(Timeline.INDEFINITE);\n        timeline.play();\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3484244,"reputation":675,"user_id":2915567,"accept_rate":88,"display_name":"Gregg1989"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2912,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":20036434,"answer_count":2,"score":0,"last_activity_date":1656546028,"creation_date":1384707651,"question_id":20033512,"body_markdown":"I currently have a ball bouncing off the walls of the canvas. I added a rectangle in the middle of the screen. Whenever the ball collides with the rectangle, I want it to bounce off it too, but I don&#39;t know how to do that. I have a rectangle called &quot;r&quot;. \r\n\r\nHow do I make the ball treat the rectangle as a wall and change direction whenever it hits it? Code examples will be greatly appreciated. Thanks.\r\n\r\nHere&#39;s my code for the ball bouncing off the walls:\r\n\r\n    public void handle(ActionEvent t) {\r\n                    \r\n                        // Moves the ball depending on the values of X and Y\r\n                        circle.setLayoutX(circle.getLayoutX() + X);\r\n                        circle.setLayoutY(circle.getLayoutY() + Y);                        \r\n    \r\n                        final Bounds bounds = canvas.getBoundsInLocal();\r\n               // Boolean values to check if a wall has been hit\r\n                        boolean leftWall = circle.getLayoutX() &lt;= (bounds.getMinX() + circle.getRadius()); \r\n                        boolean topWall = circle.getLayoutY() &lt;= (bounds.getMinY() + circle.getRadius());\r\n                        boolean rightWall = circle.getLayoutX() &gt;= (bounds.getMaxX() - circle.getRadius());\r\n                        boolean bottomWall = circle.getLayoutY() &gt;= (bounds.getMaxY() - circle.getRadius());\r\n                        \r\n    \r\n    \r\n                        // If the bottom or top wall has been touched, the ball reverses direction.\r\n                        if (bottomWall || topWall) {\r\n    \r\n                            Y = Y * -1;\r\n                        }\r\n                        // If the left or right wall has been touched, the ball reverses direction.\r\n                        if (leftWall || rightWall) {\r\n                            X = X * -1;\r\n                        }\r\n                    }              \r\n    \r\n            }));\r\n    \r\n            loop.setCycleCount(Timeline.INDEFINITE);\r\n            loop.play();\r\n        }","title":"How to make ball bounce off an object in Javafx?","body":"<p>I currently have a ball bouncing off the walls of the canvas. I added a rectangle in the middle of the screen. Whenever the ball collides with the rectangle, I want it to bounce off it too, but I don't know how to do that. I have a rectangle called \"r\". </p>\n\n<p>How do I make the ball treat the rectangle as a wall and change direction whenever it hits it? Code examples will be greatly appreciated. Thanks.</p>\n\n<p>Here's my code for the ball bouncing off the walls:</p>\n\n<pre><code>public void handle(ActionEvent t) {\n\n                    // Moves the ball depending on the values of X and Y\n                    circle.setLayoutX(circle.getLayoutX() + X);\n                    circle.setLayoutY(circle.getLayoutY() + Y);                        \n\n                    final Bounds bounds = canvas.getBoundsInLocal();\n           // Boolean values to check if a wall has been hit\n                    boolean leftWall = circle.getLayoutX() &lt;= (bounds.getMinX() + circle.getRadius()); \n                    boolean topWall = circle.getLayoutY() &lt;= (bounds.getMinY() + circle.getRadius());\n                    boolean rightWall = circle.getLayoutX() &gt;= (bounds.getMaxX() - circle.getRadius());\n                    boolean bottomWall = circle.getLayoutY() &gt;= (bounds.getMaxY() - circle.getRadius());\n\n\n\n                    // If the bottom or top wall has been touched, the ball reverses direction.\n                    if (bottomWall || topWall) {\n\n                        Y = Y * -1;\n                    }\n                    // If the left or right wall has been touched, the ball reverses direction.\n                    if (leftWall || rightWall) {\n                        X = X * -1;\n                    }\n                }              \n\n        }));\n\n        loop.setCycleCount(Timeline.INDEFINITE);\n        loop.play();\n    }\n</code></pre>\n"},{"tags":["java","android","oop","sdk","access-modifiers"],"comments":[{"owner":{"account_id":14679090,"reputation":1359,"user_id":10601203,"display_name":"Jesse"},"score":1,"creation_date":1656546502,"post_id":72808899,"comment_id":128602478,"body_markdown":"Could you have a method that takes the external object, generates (or retrieves) the internal portion of it, and creates a new instance of `Everything`? There is no way that the application using the SDK is going to be able to give you an instance of `Internal` if it only knows that `External` exists (without them using some funky reflection logic which shouldn&#39;t be necessary). Having them in the same class is also a bad idea if this is sensitive information because they can always use reflection to get the value of fields, even if they&#39;re private.","body":"Could you have a method that takes the external object, generates (or retrieves) the internal portion of it, and creates a new instance of <code>Everything</code>? There is no way that the application using the SDK is going to be able to give you an instance of <code>Internal</code> if it only knows that <code>External</code> exists (without them using some funky reflection logic which shouldn&#39;t be necessary). Having them in the same class is also a bad idea if this is sensitive information because they can always use reflection to get the value of fields, even if they&#39;re private."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1656571912,"post_id":72808899,"comment_id":128606552,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":14977384,"reputation":1,"user_id":10812441,"display_name":"Zoose"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1656545938,"creation_date":1656545938,"question_id":72808899,"body_markdown":"Say I have the following class in an SDK library:\r\n\r\n```\r\npublic class Everything {\r\n    public String external1;\r\n    public String external2;\r\n    public String internal1;\r\n    public String internal2;\r\n}\r\n```\r\n\r\nThat I&#39;m trying to split up into 2 separate classes:\r\n```\r\npublic class External {\r\n    public String external1;\r\n    public String external2;\r\n}\r\n\r\nprivate class Internal extends External {\r\n    public String internal1;\r\n    public String internal2;\r\n}\r\n```\r\n\r\nWith the intention of exposing the `External` class to any app injecting my SDK, while hiding and not making the `Internal` class accessible to any application injecting said SDK. Is there a way to accomplish this without having to set my `Internal` class as private so that I may still have access to it and its members across my SDK library internally?\r\n\r\nEffectively, `Internal` will become the new `Everything` class that will contain both `External` and `Internal` members. But only my SDK library should be aware of this larger class. Is there a better approach with interfaces/inheritance?? Nested private classes?? Thanks in advance.","title":"Make Private Class Accessible from SDK But Not App","body":"<p>Say I have the following class in an SDK library:</p>\n<pre><code>public class Everything {\n    public String external1;\n    public String external2;\n    public String internal1;\n    public String internal2;\n}\n</code></pre>\n<p>That I'm trying to split up into 2 separate classes:</p>\n<pre><code>public class External {\n    public String external1;\n    public String external2;\n}\n\nprivate class Internal extends External {\n    public String internal1;\n    public String internal2;\n}\n</code></pre>\n<p>With the intention of exposing the <code>External</code> class to any app injecting my SDK, while hiding and not making the <code>Internal</code> class accessible to any application injecting said SDK. Is there a way to accomplish this without having to set my <code>Internal</code> class as private so that I may still have access to it and its members across my SDK library internally?</p>\n<p>Effectively, <code>Internal</code> will become the new <code>Everything</code> class that will contain both <code>External</code> and <code>Internal</code> members. But only my SDK library should be aware of this larger class. Is there a better approach with interfaces/inheritance?? Nested private classes?? Thanks in advance.</p>\n"},{"tags":["java","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":2795364,"reputation":7571,"user_id":2404683,"display_name":"Davide D&#39;Alto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656534023,"creation_date":1656534023,"answer_id":72807376,"question_id":72806831,"body_markdown":"I don&#39;t think that&#39;s possible. The assumption is that the scripts will populate the tables created during schema generation. \r\n\r\nIf you need to prepare the database, you need to do it before starting the session factory","title":"Running a script before auto create tables","body":"<p>I don't think that's possible. The assumption is that the scripts will populate the tables created during schema generation.</p>\n<p>If you need to prepare the database, you need to do it before starting the session factory</p>\n"}],"owner":{"account_id":17813347,"reputation":1635,"user_id":12937443,"display_name":"DEV"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656545621,"creation_date":1656530774,"question_id":72806831,"body_markdown":"I am using Hibernate &amp; postgresql, I want to run a script before hibernate create my tables based on entities\r\n\r\nI am using this property in the applications.properties file, but It seems to be missing something, the script is not running\r\n\r\n    hibernate.hbm2ddl.import_files= classpath:schema.sql","title":"Running a script before auto create tables","body":"<p>I am using Hibernate &amp; postgresql, I want to run a script before hibernate create my tables based on entities</p>\n<p>I am using this property in the applications.properties file, but It seems to be missing something, the script is not running</p>\n<pre><code>hibernate.hbm2ddl.import_files= classpath:schema.sql\n</code></pre>\n"},{"tags":["java","spring","xsd","xsd-validation","spring-bean"],"answers":[{"tags":[],"owner":{"account_id":2504971,"reputation":134,"user_id":2178964,"accept_rate":43,"display_name":"user2178964"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1656542396,"creation_date":1656542396,"answer_id":72808581,"question_id":72798525,"body_markdown":"I successfully solved the problem following this tutorial : \r\n\r\nhttps://access.redhat.com/solutions/168093\r\n\r\nBriefly, I create a modules/org/springframework/spring/main/module.xml file, with the spring jar in resources.\r\nI copy the spring jar already present in tmp/deployment/vfs on the server in this directory : modules/org/springframework/spring/main/\r\nAnd then I create a jboss-deployment-structure in my app and add the spring modules.\r\n\r\nBut, I don&#39;t really understand why I need to do all of this, creating a spring module...etc for Wildfly\r\n\r\nThe spring are dependencies of the project, and jar are available, so why it doesn&#39;t work simply like this ?\r\n\r\n","title":"Failed to read schema document spring xsd","body":"<p>I successfully solved the problem following this tutorial :</p>\n<p><a href=\"https://access.redhat.com/solutions/168093\" rel=\"nofollow noreferrer\">https://access.redhat.com/solutions/168093</a></p>\n<p>Briefly, I create a modules/org/springframework/spring/main/module.xml file, with the spring jar in resources.\nI copy the spring jar already present in tmp/deployment/vfs on the server in this directory : modules/org/springframework/spring/main/\nAnd then I create a jboss-deployment-structure in my app and add the spring modules.</p>\n<p>But, I don't really understand why I need to do all of this, creating a spring module...etc for Wildfly</p>\n<p>The spring are dependencies of the project, and jar are available, so why it doesn't work simply like this ?</p>\n"}],"owner":{"account_id":2504971,"reputation":134,"user_id":2178964,"accept_rate":43,"display_name":"user2178964"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1323,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72808581,"answer_count":1,"score":0,"last_activity_date":1656542396,"creation_date":1656492822,"question_id":72798525,"body_markdown":"I know it&#39;s a common problem but I tried a lot of solutions already proposed here and none of them works :/\r\n\r\nI had an existing project which runs on an old Jboss 4.2.3.\r\nSo I&#39;m migrating it to Wildfly 8.\r\nI have the 4.0.6 spring version configured in my pom.xml everywhere in project.\r\n\r\nIn my databaseBeans.xml I had 2.5 version of xsd configured before migration, so I put the new version : \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n    \t   xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \t   xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\r\n           \thttp://www.springframework.org/schema/beans/spring-beans-4.0.xsd&quot;&gt;\r\n    \r\n        &lt;bean id=&quot;mappingList&quot; class=&quot;java.util.ArrayList&quot;&gt;\r\n\r\n\r\nBut I&#39;m getting : \r\n\r\n    2022-06-29 10:38:20,980 WARN  [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] (default task-2) Ignored XML validation warning: org.xml.sax.SAXParseException; lineNumber: 5; columnNumber: 76; schema_reference.4: Failed to read schema document &#39;http://www.springframework.org/schema/beans/spring-beans-4.0.xsd&#39;, because 1) could not find the document; 2) the document could not be read; 3) the root element of the document is not &lt;xsd:schema&gt;.\r\n    \tat org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(ErrorHandlerWrapper.java:196)\r\n    \tat org.apache.xerces.util.ErrorHandlerWrapper.warning(ErrorHandlerWrapper.java:97)\r\n    \tat org.apache.xerces.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:390)\r\n    \tat org.apache.xerces.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:304)\r\n    \tat org.apache.xerces.impl.xs.traversers.XSDHandler.reportSchemaWarning(XSDHandler.java:4112)\r\n    \tat org.apache.xerces.impl.xs.traversers.XSDHandler.getSchemaDocument1(XSDHandler.java:2462)\r\n    \tat org.apache.xerces.impl.xs.traversers.XSDHandler.getSchemaDocument(XSDHandler.java:2160)\r\n    \tat org.apache.xerces.impl.xs.traversers.XSDHandler.parseSchema(XSDHandler.java:557)\r\n    \tat org.apache.xerces.impl.xs.XMLSchemaLoader.loadSchema(XMLSchemaLoader.java:580)\r\n    \tat org.apache.xerces.impl.xs.XMLSchemaValidator.findSchemaGrammar(XMLSchemaValidator.java:2716)\r\n    \tat org.apache.xerces.impl.xs.XMLSchemaValidator.handleStartElement(XMLSchemaValidator.java:2079)\r\n    \tat org.apache.xerces.impl.xs.XMLSchemaValidator.startElement(XMLSchemaValidator.java:788)\r\n    \tat org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanStartElement(XMLNSDocumentScannerImpl.java:283)\r\n    \tat org.apache.xerces.impl.XMLNSDocumentScannerImpl$NSContentDispatcher.scanRootElementHook(XMLNSDocumentScannerImpl.java:733)\r\n    \tat org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(XMLDocumentFragmentScannerImpl.java:1754)\r\n    \tat org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:324)\r\n    \tat org.apache.xerces.parsers.XML11Configuration.parse(XML11Configuration.java:875)\r\n    \tat org.apache.xerces.parsers.XML11Configuration.parse(XML11Configuration.java:798)\r\n    \tat org.apache.xerces.parsers.XMLParser.parse(XMLParser.java:108)\r\n    \tat org.apache.xerces.parsers.DOMParser.parse(DOMParser.java:230)\r\n    \tat org.apache.xerces.jaxp.DocumentBuilderImpl.parse(DocumentBuilderImpl.java:298)\r\n    \tat org.springframework.beans.factory.xml.DefaultDocumentLoader.loadDocument(DefaultDocumentLoader.java:76) [spring-beans-4.0.6.RELEASE.jar:4.0.6.RELEASE]\r\n\r\nI tried also removing the -4.0.xsd to let spring choose but same error :\r\n\r\n    2022-06-29 10:51:25,429 WARN  [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] (default task-1) Ignored XML validation warning: org.xml.sax.SAXParseException; lineNumber: 5; columnNumber: 72; schema_reference.4: Failed to read schema document &#39;http://www.springframework.org/schema/beans/spring-beans.xsd&#39;, because 1) could not find the document; 2) the document could not be read; 3) the root element of the document is not &lt;xsd:schema&gt;.\r\n\tat org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(ErrorHandlerWrapper.java:196)\r\n\tat org.apache.xerces.util.ErrorHandlerWrapper.warning(ErrorHandlerWrapper.java:97)\r\n\tat org.apache.xerces.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:390)\r\n\tat org.apache.xerces.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:304)\r\n\tat org.apache.xerces.impl.xs.traversers.XSDHandler.reportSchemaWarning(XSDHandler.java:4112)\r\n\tat org.apache.xerces.impl.xs.traversers.XSDHandler.getSchemaDocument1(XSDHandler.java:2462)\r\n\tat org.apache.xerces.impl.xs.traversers.XSDHandler.getSchemaDocument(XSDHandler.java:2160)\r\n\tat org.apache.xerces.impl.xs.traversers.XSDHandler.parseSchema(XSDHandler.java:557)\r\n\tat org.apache.xerces.impl.xs.XMLSchemaLoader.loadSchema(XMLSchemaLoader.java:580)\r\n\tat org.apache.xerces.impl.xs.XMLSchemaValidator.findSchemaGrammar(XMLSchemaValidator.java:2716)\r\n\tat org.apache.xerces.impl.xs.XMLSchemaValidator.handleStartElement(XMLSchemaValidator.java:2079)\r\n\tat org.apache.xerces.impl.xs.XMLSchemaValidator.startElement(XMLSchemaValidator.java:788)\r\n\tat org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanStartElement(XMLNSDocumentScannerImpl.java:283)\r\n\tat org.apache.xerces.impl.XMLNSDocumentScannerImpl$NSContentDispatcher.scanRootElementHook(XMLNSDocumentScannerImpl.java:733)\r\n\tat org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(XMLDocumentFragmentScannerImpl.java:1754)\r\n\tat org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:324)\r\n\tat org.apache.xerces.parsers.XML11Configuration.parse(XML11Configuration.java:875)\r\n\tat org.apache.xerces.parsers.XML11Configuration.parse(XML11Configuration.java:798)\r\n\tat org.apache.xerces.parsers.XMLParser.parse(XMLParser.java:108)\r\n\tat org.apache.xerces.parsers.DOMParser.parse(DOMParser.java:230)\r\n\tat org.apache.xerces.jaxp.DocumentBuilderImpl.parse(DocumentBuilderImpl.java:298)\r\n\tat org.springframework.beans.factory.xml.DefaultDocumentLoader.loadDocument(DefaultDocumentLoader.java:76) [spring-beans-4.0.6.RELEASE.jar:4.0.6.RELEASE]\r\n\tat org.springframework.beans.factory.xml.XmlBeanDefinitionReader.doLoadDocument(XmlBeanDefinitionReader.java:428) [spring-beans-4.0.6.RELEASE.jar:4.0.6.RELEASE]\r\n\tat org.springframework.beans.factory.xml.XmlBeanDefinitionReader.doLoadBeanDefinitions(XmlBeanDefinitionReader.java:390) [spring-beans-4.0.6.RELEASE.jar:4.0.6.RELEASE]\r\n\tat org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:335) [spring-beans-4.0.6.RELEASE.jar:4.0.6.RELEASE]\r\n\tat org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:303) [spring-beans-4.0.6.RELEASE.jar:4.0.6.RELEASE]\r\n\r\n\r\nIn the jar listed in the end of this stacktrace (spring-beans-4.0.6.RELEASE.jar:4.0.6.RELEASE), I have check in META-INF/spring.schemas and I have : \r\n\r\n    http\\://www.springframework.org/schema/beans/spring-beans-2.0.xsd=org/springframework/beans/factory/xml/spring-beans-2.0.xsd\r\n    http\\://www.springframework.org/schema/beans/spring-beans-2.5.xsd=org/springframework/beans/factory/xml/spring-beans-2.5.xsd\r\n    http\\://www.springframework.org/schema/beans/spring-beans-3.0.xsd=org/springframework/beans/factory/xml/spring-beans-3.0.xsd\r\n    http\\://www.springframework.org/schema/beans/spring-beans-3.1.xsd=org/springframework/beans/factory/xml/spring-beans-3.1.xsd\r\n    http\\://www.springframework.org/schema/beans/spring-beans-3.2.xsd=org/springframework/beans/factory/xml/spring-beans-3.2.xsd\r\n    http\\://www.springframework.org/schema/beans/spring-beans-4.0.xsd=org/springframework/beans/factory/xml/spring-beans-4.0.xsd\r\n    http\\://www.springframework.org/schema/beans/spring-beans.xsd=org/springframework/beans/factory/xml/spring-beans-4.0.xsd\r\n    http\\://www.springframework.org/schema/tool/spring-tool-2.0.xsd=org/springframework/beans/factory/xml/spring-tool-2.0.xsd\r\n    http\\://www.springframework.org/schema/tool/spring-tool-2.5.xsd=org/springframework/beans/factory/xml/spring-tool-2.5.xsd\r\n    http\\://www.springframework.org/schema/tool/spring-tool-3.0.xsd=org/springframework/beans/factory/xml/spring-tool-3.0.xsd\r\n    http\\://www.springframework.org/schema/tool/spring-tool-3.1.xsd=org/springframework/beans/factory/xml/spring-tool-3.1.xsd\r\n    http\\://www.springframework.org/schema/tool/spring-tool-3.2.xsd=org/springframework/beans/factory/xml/spring-tool-3.2.xsd\r\n    http\\://www.springframework.org/schema/tool/spring-tool-4.0.xsd=org/springframework/beans/factory/xml/spring-tool-4.0.xsd\r\n    http\\://www.springframework.org/schema/tool/spring-tool.xsd=org/springframework/beans/factory/xml/spring-tool-4.0.xsd\r\n    http\\://www.springframework.org/schema/util/spring-util-2.0.xsd=org/springframework/beans/factory/xml/spring-util-2.0.xsd\r\n    http\\://www.springframework.org/schema/util/spring-util-2.5.xsd=org/springframework/beans/factory/xml/spring-util-2.5.xsd\r\n    http\\://www.springframework.org/schema/util/spring-util-3.0.xsd=org/springframework/beans/factory/xml/spring-util-3.0.xsd\r\n    http\\://www.springframework.org/schema/util/spring-util-3.1.xsd=org/springframework/beans/factory/xml/spring-util-3.1.xsd\r\n    http\\://www.springframework.org/schema/util/spring-util-3.2.xsd=org/springframework/beans/factory/xml/spring-util-3.2.xsd\r\n    http\\://www.springframework.org/schema/util/spring-util-4.0.xsd=org/springframework/beans/factory/xml/spring-util-4.0.xsd\r\n    http\\://www.springframework.org/schema/util/spring-util.xsd=org/springframework/beans/factory/xml/spring-util-4.0.xsd\r\n\r\n\r\nWhat I&#39;m doing wrong ?\r\n\r\nEDIT : \r\n\r\nI try to debug the code, and when the XML is read, I see a difference between Jboss version and Wildly version.\r\n\r\nJboss version with a &quot;UnifiedClassLoader&quot; has dozen of &quot;packages&quot; loaded in it (included spring-beans and others things) :\r\n\r\n[![enter image description here][1]][1]\r\n\r\nWildfly version with a &quot;ModuleClassLoader&quot; has only 2 packages, and not the spring-beans jar :\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nIt seems to be a problem with my two files for my App : 1 war and 1 .ear file.\r\n\r\nThe .ear file is not loaded like Jboss, and miss the spring dependencies.\r\n\r\nBut why in the stack trace we see &quot;spring-beans-4.0.6.RELEASE.jar&quot; mentioned in this case ?\r\n\r\n  [1]: https://i.stack.imgur.com/UwE9o.jpg\r\n  [2]: https://i.stack.imgur.com/cvKy1.jpg","title":"Failed to read schema document spring xsd","body":"<p>I know it's a common problem but I tried a lot of solutions already proposed here and none of them works :/</p>\n<p>I had an existing project which runs on an old Jboss 4.2.3.\nSo I'm migrating it to Wildfly 8.\nI have the 4.0.6 spring version configured in my pom.xml everywhere in project.</p>\n<p>In my databaseBeans.xml I had 2.5 version of xsd configured before migration, so I put the new version :</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\n        http://www.springframework.org/schema/beans/spring-beans-4.0.xsd&quot;&gt;\n\n    &lt;bean id=&quot;mappingList&quot; class=&quot;java.util.ArrayList&quot;&gt;\n</code></pre>\n<p>But I'm getting :</p>\n<pre><code>2022-06-29 10:38:20,980 WARN  [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] (default task-2) Ignored XML validation warning: org.xml.sax.SAXParseException; lineNumber: 5; columnNumber: 76; schema_reference.4: Failed to read schema document 'http://www.springframework.org/schema/beans/spring-beans-4.0.xsd', because 1) could not find the document; 2) the document could not be read; 3) the root element of the document is not &lt;xsd:schema&gt;.\n    at org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(ErrorHandlerWrapper.java:196)\n    at org.apache.xerces.util.ErrorHandlerWrapper.warning(ErrorHandlerWrapper.java:97)\n    at org.apache.xerces.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:390)\n    at org.apache.xerces.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:304)\n    at org.apache.xerces.impl.xs.traversers.XSDHandler.reportSchemaWarning(XSDHandler.java:4112)\n    at org.apache.xerces.impl.xs.traversers.XSDHandler.getSchemaDocument1(XSDHandler.java:2462)\n    at org.apache.xerces.impl.xs.traversers.XSDHandler.getSchemaDocument(XSDHandler.java:2160)\n    at org.apache.xerces.impl.xs.traversers.XSDHandler.parseSchema(XSDHandler.java:557)\n    at org.apache.xerces.impl.xs.XMLSchemaLoader.loadSchema(XMLSchemaLoader.java:580)\n    at org.apache.xerces.impl.xs.XMLSchemaValidator.findSchemaGrammar(XMLSchemaValidator.java:2716)\n    at org.apache.xerces.impl.xs.XMLSchemaValidator.handleStartElement(XMLSchemaValidator.java:2079)\n    at org.apache.xerces.impl.xs.XMLSchemaValidator.startElement(XMLSchemaValidator.java:788)\n    at org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanStartElement(XMLNSDocumentScannerImpl.java:283)\n    at org.apache.xerces.impl.XMLNSDocumentScannerImpl$NSContentDispatcher.scanRootElementHook(XMLNSDocumentScannerImpl.java:733)\n    at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(XMLDocumentFragmentScannerImpl.java:1754)\n    at org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:324)\n    at org.apache.xerces.parsers.XML11Configuration.parse(XML11Configuration.java:875)\n    at org.apache.xerces.parsers.XML11Configuration.parse(XML11Configuration.java:798)\n    at org.apache.xerces.parsers.XMLParser.parse(XMLParser.java:108)\n    at org.apache.xerces.parsers.DOMParser.parse(DOMParser.java:230)\n    at org.apache.xerces.jaxp.DocumentBuilderImpl.parse(DocumentBuilderImpl.java:298)\n    at org.springframework.beans.factory.xml.DefaultDocumentLoader.loadDocument(DefaultDocumentLoader.java:76) [spring-beans-4.0.6.RELEASE.jar:4.0.6.RELEASE]\n</code></pre>\n<p>I tried also removing the -4.0.xsd to let spring choose but same error :</p>\n<pre><code>2022-06-29 10:51:25,429 WARN  [org.springframework.beans.factory.xml.XmlBeanDefinitionReader] (default task-1) Ignored XML validation warning: org.xml.sax.SAXParseException; lineNumber: 5; columnNumber: 72; schema_reference.4: Failed to read schema document 'http://www.springframework.org/schema/beans/spring-beans.xsd', because 1) could not find the document; 2) the document could not be read; 3) the root element of the document is not &lt;xsd:schema&gt;.\nat org.apache.xerces.util.ErrorHandlerWrapper.createSAXParseException(ErrorHandlerWrapper.java:196)\nat org.apache.xerces.util.ErrorHandlerWrapper.warning(ErrorHandlerWrapper.java:97)\nat org.apache.xerces.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:390)\nat org.apache.xerces.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:304)\nat org.apache.xerces.impl.xs.traversers.XSDHandler.reportSchemaWarning(XSDHandler.java:4112)\nat org.apache.xerces.impl.xs.traversers.XSDHandler.getSchemaDocument1(XSDHandler.java:2462)\nat org.apache.xerces.impl.xs.traversers.XSDHandler.getSchemaDocument(XSDHandler.java:2160)\nat org.apache.xerces.impl.xs.traversers.XSDHandler.parseSchema(XSDHandler.java:557)\nat org.apache.xerces.impl.xs.XMLSchemaLoader.loadSchema(XMLSchemaLoader.java:580)\nat org.apache.xerces.impl.xs.XMLSchemaValidator.findSchemaGrammar(XMLSchemaValidator.java:2716)\nat org.apache.xerces.impl.xs.XMLSchemaValidator.handleStartElement(XMLSchemaValidator.java:2079)\nat org.apache.xerces.impl.xs.XMLSchemaValidator.startElement(XMLSchemaValidator.java:788)\nat org.apache.xerces.impl.XMLNSDocumentScannerImpl.scanStartElement(XMLNSDocumentScannerImpl.java:283)\nat org.apache.xerces.impl.XMLNSDocumentScannerImpl$NSContentDispatcher.scanRootElementHook(XMLNSDocumentScannerImpl.java:733)\nat org.apache.xerces.impl.XMLDocumentFragmentScannerImpl$FragmentContentDispatcher.dispatch(XMLDocumentFragmentScannerImpl.java:1754)\nat org.apache.xerces.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:324)\nat org.apache.xerces.parsers.XML11Configuration.parse(XML11Configuration.java:875)\nat org.apache.xerces.parsers.XML11Configuration.parse(XML11Configuration.java:798)\nat org.apache.xerces.parsers.XMLParser.parse(XMLParser.java:108)\nat org.apache.xerces.parsers.DOMParser.parse(DOMParser.java:230)\nat org.apache.xerces.jaxp.DocumentBuilderImpl.parse(DocumentBuilderImpl.java:298)\nat org.springframework.beans.factory.xml.DefaultDocumentLoader.loadDocument(DefaultDocumentLoader.java:76) [spring-beans-4.0.6.RELEASE.jar:4.0.6.RELEASE]\nat org.springframework.beans.factory.xml.XmlBeanDefinitionReader.doLoadDocument(XmlBeanDefinitionReader.java:428) [spring-beans-4.0.6.RELEASE.jar:4.0.6.RELEASE]\nat org.springframework.beans.factory.xml.XmlBeanDefinitionReader.doLoadBeanDefinitions(XmlBeanDefinitionReader.java:390) [spring-beans-4.0.6.RELEASE.jar:4.0.6.RELEASE]\nat org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:335) [spring-beans-4.0.6.RELEASE.jar:4.0.6.RELEASE]\nat org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:303) [spring-beans-4.0.6.RELEASE.jar:4.0.6.RELEASE]\n</code></pre>\n<p>In the jar listed in the end of this stacktrace (spring-beans-4.0.6.RELEASE.jar:4.0.6.RELEASE), I have check in META-INF/spring.schemas and I have :</p>\n<pre><code>http\\://www.springframework.org/schema/beans/spring-beans-2.0.xsd=org/springframework/beans/factory/xml/spring-beans-2.0.xsd\nhttp\\://www.springframework.org/schema/beans/spring-beans-2.5.xsd=org/springframework/beans/factory/xml/spring-beans-2.5.xsd\nhttp\\://www.springframework.org/schema/beans/spring-beans-3.0.xsd=org/springframework/beans/factory/xml/spring-beans-3.0.xsd\nhttp\\://www.springframework.org/schema/beans/spring-beans-3.1.xsd=org/springframework/beans/factory/xml/spring-beans-3.1.xsd\nhttp\\://www.springframework.org/schema/beans/spring-beans-3.2.xsd=org/springframework/beans/factory/xml/spring-beans-3.2.xsd\nhttp\\://www.springframework.org/schema/beans/spring-beans-4.0.xsd=org/springframework/beans/factory/xml/spring-beans-4.0.xsd\nhttp\\://www.springframework.org/schema/beans/spring-beans.xsd=org/springframework/beans/factory/xml/spring-beans-4.0.xsd\nhttp\\://www.springframework.org/schema/tool/spring-tool-2.0.xsd=org/springframework/beans/factory/xml/spring-tool-2.0.xsd\nhttp\\://www.springframework.org/schema/tool/spring-tool-2.5.xsd=org/springframework/beans/factory/xml/spring-tool-2.5.xsd\nhttp\\://www.springframework.org/schema/tool/spring-tool-3.0.xsd=org/springframework/beans/factory/xml/spring-tool-3.0.xsd\nhttp\\://www.springframework.org/schema/tool/spring-tool-3.1.xsd=org/springframework/beans/factory/xml/spring-tool-3.1.xsd\nhttp\\://www.springframework.org/schema/tool/spring-tool-3.2.xsd=org/springframework/beans/factory/xml/spring-tool-3.2.xsd\nhttp\\://www.springframework.org/schema/tool/spring-tool-4.0.xsd=org/springframework/beans/factory/xml/spring-tool-4.0.xsd\nhttp\\://www.springframework.org/schema/tool/spring-tool.xsd=org/springframework/beans/factory/xml/spring-tool-4.0.xsd\nhttp\\://www.springframework.org/schema/util/spring-util-2.0.xsd=org/springframework/beans/factory/xml/spring-util-2.0.xsd\nhttp\\://www.springframework.org/schema/util/spring-util-2.5.xsd=org/springframework/beans/factory/xml/spring-util-2.5.xsd\nhttp\\://www.springframework.org/schema/util/spring-util-3.0.xsd=org/springframework/beans/factory/xml/spring-util-3.0.xsd\nhttp\\://www.springframework.org/schema/util/spring-util-3.1.xsd=org/springframework/beans/factory/xml/spring-util-3.1.xsd\nhttp\\://www.springframework.org/schema/util/spring-util-3.2.xsd=org/springframework/beans/factory/xml/spring-util-3.2.xsd\nhttp\\://www.springframework.org/schema/util/spring-util-4.0.xsd=org/springframework/beans/factory/xml/spring-util-4.0.xsd\nhttp\\://www.springframework.org/schema/util/spring-util.xsd=org/springframework/beans/factory/xml/spring-util-4.0.xsd\n</code></pre>\n<p>What I'm doing wrong ?</p>\n<p>EDIT :</p>\n<p>I try to debug the code, and when the XML is read, I see a difference between Jboss version and Wildly version.</p>\n<p>Jboss version with a &quot;UnifiedClassLoader&quot; has dozen of &quot;packages&quot; loaded in it (included spring-beans and others things) :</p>\n<p><a href=\"https://i.stack.imgur.com/UwE9o.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UwE9o.jpg\" alt=\"enter image description here\" /></a></p>\n<p>Wildfly version with a &quot;ModuleClassLoader&quot; has only 2 packages, and not the spring-beans jar :</p>\n<p><a href=\"https://i.stack.imgur.com/cvKy1.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cvKy1.jpg\" alt=\"enter image description here\" /></a></p>\n<p>It seems to be a problem with my two files for my App : 1 war and 1 .ear file.</p>\n<p>The .ear file is not loaded like Jboss, and miss the spring dependencies.</p>\n<p>But why in the stack trace we see &quot;spring-beans-4.0.6.RELEASE.jar&quot; mentioned in this case ?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1656542294,"post_id":72808551,"comment_id":128601691,"body_markdown":"The error message will tell you exactly what the problem is. Your new_map is a Map of types `&lt;String, Map&lt;String&gt;&gt;` not `&lt;String, String&gt;` so the put method needs to watch it `new_map.put(key, inerMap);`, you&#39;ll need to construct the innerMap first, or change your new_map to be `&lt;String, String&gt;`","body":"The error message will tell you exactly what the problem is. Your new_map is a Map of types <code>&lt;String, Map&lt;String&gt;&gt;</code> not <code>&lt;String, String&gt;</code> so the put method needs to watch it <code>new_map.put(key, inerMap);</code>, you&#39;ll need to construct the innerMap first, or change your new_map to be <code>&lt;String, String&gt;</code>"},{"owner":{"account_id":11267740,"reputation":186,"user_id":8264070,"display_name":"christheliz"},"score":0,"creation_date":1656542910,"post_id":72808551,"comment_id":128601823,"body_markdown":"When I change the put || get method, I get the error that the getValues method is not working anymore. That is why I am confused","body":"When I change the put || get method, I get the error that the getValues method is not working anymore. That is why I am confused"},{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1656543028,"post_id":72808551,"comment_id":128601848,"body_markdown":"The problem you have with get is exactly the same, you are trying to mix types. Read the error message and it will tell you exactly that. if you get a value from a map of maps you need to assign it to a map variable, but if you get a value from a map of strings, then you need to assign it to a string variable.","body":"The problem you have with get is exactly the same, you are trying to mix types. Read the error message and it will tell you exactly that. if you get a value from a map of maps you need to assign it to a map variable, but if you get a value from a map of strings, then you need to assign it to a string variable."}],"owner":{"account_id":11267740,"reputation":186,"user_id":8264070,"display_name":"christheliz"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1656542279,"creation_date":1656542052,"question_id":72808551,"body_markdown":"I am working on saving updates of a map in a new map where only the keys are the same as in the original map but the value of each key shows a list of all previous updates. My approach was: \r\n1. receiving the update as a map from a server.\r\n2. define a new map of the form key, value[]\r\n3. Extract the values of the keys and add them to the value list\r\n\r\nBut the *put* and *get* methods do not seem to work here. Here is my code:\r\n\r\n```\r\nMap&lt;String, String&gt; map = DatatoJson.main(null);\r\nMap&lt;String, Map&lt;String, List&lt;String&gt;&gt;&gt; new_map = new HashMap&lt;String, Map&lt;String, List&lt;String&gt;&gt;&gt;();\r\n\r\nfor (Map.Entry&lt;String, String&gt; entry : map.entrySet()) {\r\n    String key = entry.getKey();\r\n    String value = entry.getValue();\r\n\r\n    // check if a new map called new_map is empty in Java\r\n    if (new_map.isEmpty()) {\r\n        // include key and value of map in the new map &quot;new_map&quot;\r\n        new_map.put(key, value);\r\n    }\r\n\r\n    // check if the key of the map is already in the new map\r\n    if (new_map.containsKey(key)) {\r\n        // get the key of new_map\r\n        Map&lt;String, List&lt;String&gt;&gt; new_key = new_map.get(key);\r\n        // check if new_key and key are the same\r\n        if (new_key.equals(key)) {\r\n            // if they are the same, then add the value of map to a value list in new_map corresponding to the key\r\n            new_map.get(key).add(value);\r\n        }\r\n    }\r\n}\r\n```\r\n","title":"Save value updates of a map in a new map as a value list of all previous values of the specific key&#39;s value","body":"<p>I am working on saving updates of a map in a new map where only the keys are the same as in the original map but the value of each key shows a list of all previous updates. My approach was:</p>\n<ol>\n<li>receiving the update as a map from a server.</li>\n<li>define a new map of the form key, value[]</li>\n<li>Extract the values of the keys and add them to the value list</li>\n</ol>\n<p>But the <em>put</em> and <em>get</em> methods do not seem to work here. Here is my code:</p>\n<pre><code>Map&lt;String, String&gt; map = DatatoJson.main(null);\nMap&lt;String, Map&lt;String, List&lt;String&gt;&gt;&gt; new_map = new HashMap&lt;String, Map&lt;String, List&lt;String&gt;&gt;&gt;();\n\nfor (Map.Entry&lt;String, String&gt; entry : map.entrySet()) {\n    String key = entry.getKey();\n    String value = entry.getValue();\n\n    // check if a new map called new_map is empty in Java\n    if (new_map.isEmpty()) {\n        // include key and value of map in the new map &quot;new_map&quot;\n        new_map.put(key, value);\n    }\n\n    // check if the key of the map is already in the new map\n    if (new_map.containsKey(key)) {\n        // get the key of new_map\n        Map&lt;String, List&lt;String&gt;&gt; new_key = new_map.get(key);\n        // check if new_key and key are the same\n        if (new_key.equals(key)) {\n            // if they are the same, then add the value of map to a value list in new_map corresponding to the key\n            new_map.get(key).add(value);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","c#","cryptography","bouncycastle","elliptic-curve"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1656819595,"post_id":72772080,"comment_id":128662776,"body_markdown":"Why are you drawing more attention to this Q?  It looks like you already have a good answer.  If you need more / different information, you should comment or edit the question to say what you need ... or ask a new one.  (If you simply wanted to reward the Topaco&#39;s answer ... you should have used the &quot;Reward existing answer&quot; reason ...)","body":"Why are you drawing more attention to this Q?  It looks like you already have a good answer.  If you need more / different information, you should comment or edit the question to say what you need ... or ask a new one.  (If you simply wanted to reward the Topaco&#39;s answer ... you should have used the &quot;Reward existing answer&quot; reason ...)"}],"answers":[{"tags":[],"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1656542235,"creation_date":1656541836,"answer_id":72808526,"question_id":72772080,"body_markdown":"The C# code exports the public key as a Base64 encoded `EccPublicBlob` whose format is described in the [link][1] given in the question:&lt;br&gt;\r\nThe first 4 bytes 0x45434B31 denote in little endian order a public ECDH key for curve P-256, the following 4 bytes are in little endian order the key length in bytes (0x20000000 = 32), the rest are the x and y coordinates of the EC point i.e. the public key, 32 bytes each.&lt;br&gt;\r\nIt is striking that in the key you posted, the second 4 bytes are 0x20000001, but the x and y coordinates are 32 bytes each. Possibly there is a copy/paste error here. Anyway, with the posted C# code, I cannot reproduce a key that has a value other than 0x20000000 in the second 4 bytes.\r\n\r\nJava/BC does not directly support importing an `EccPublicBlob` (which is MS proprietary), but it does support importing an uncompressed public key. This results when the x and y coordinates are concatenated and 0x04 is used as prefix. The import with Java/BC is then possible as follows:\r\n\r\n```java\r\nimport java.security.KeyFactory;\r\nimport java.security.PublicKey;\r\nimport java.security.interfaces.ECPublicKey;\r\nimport java.security.spec.ECPoint;\r\nimport java.security.spec.ECPublicKeySpec;\r\nimport org.bouncycastle.jce.ECNamedCurveTable;\r\nimport org.bouncycastle.jce.ECPointUtil;\r\nimport org.bouncycastle.jce.provider.BouncyCastleProvider;\r\nimport org.bouncycastle.jce.spec.ECNamedCurveParameterSpec;\r\nimport org.bouncycastle.jce.spec.ECNamedCurveSpec;\r\n...\r\npublic static PublicKey getPubKeyFromCurve(byte[] uncompRawPubKey, String curveName) throws Exception {\r\n\t  ECNamedCurveParameterSpec spec = ECNamedCurveTable.getParameterSpec(curveName);\r\n\t  ECNamedCurveSpec params = new ECNamedCurveSpec(spec.getName(), spec.getCurve(), spec.getG(), spec.getN());\r\n\t  ECPoint point = ECPointUtil.decodePoint(params.getCurve(), uncompRawPubKey);\r\n\t  ECPublicKeySpec pubKeySpec = new ECPublicKeySpec(point, params);\r\n\t  KeyFactory kf = KeyFactory.getInstance(&quot;ECDH&quot;, new BouncyCastleProvider());\r\n\t  ECPublicKey pubKey = (ECPublicKey) kf.generatePublic(pubKeySpec);\r\n\t  return pubKey;\r\n}\r\n```\r\n\r\nTest (assuming `EccPublicBlob` is Base64 encoded like the posted one):\r\n\r\n```java\r\nimport java.util.Base64;\r\n...\r\nString publicKeyBlob = &quot;RUNLMSAAAAAFzw4IGY4N8PKVt0MGF38SAKU5ixJhptVUdrWzuPhFDOcj/2k4SlGRN1RpRMbar9Iu7Uvcx7Vtm8Wa0HSzWJdE&quot;;\r\nbyte[] rawPublic = new byte[65];\r\nrawPublic[0] = 0x04;\r\nSystem.arraycopy(Base64.getDecoder().decode(publicKeyBlob), 8, rawPublic, 1, 64);\r\nPublicKey pub = getPubKeyFromCurve(rawPublic, &quot;P-256&quot;);\r\nSystem.out.println(Base64.getEncoder().encodeToString(pub.getEncoded())); // MFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAEBc8OCBmODfDylbdDBhd/EgClOYsSYabVVHa1s7j4RQznI/9pOEpRkTdUaUTG2q/SLu1L3Me1bZvFmtB0s1iXRA==\r\n```\r\n\r\nThe test imports the `EccPublicBlob` and exports it as a Base64 encoded DER key in X.509/SPKI format. This can be read with an ASN.1 parser, e.g. https://lapo.it/asn1js/, and thus be verified.\r\n\r\n-------------\r\n\r\nNote that C# also supports the export of other formats. However, this depends on the version. E.g. as of .NET Core 3.0 there is the method [`ExportSubjectPublicKeyInfo()`][2] that exports the public key in X.509/SPKI format, DER encoded. This format and encoding can be imported directly into Java using `X509EncodedKeySpec` (even without BouncyCastle).&lt;br&gt;\r\nIn other versions of C#, BouncyCastle for C# can be used for the export, which also supports the X.509/SPKI format.&lt;br&gt;\r\nSince you didn&#39;t post your .NET version, it&#39;s unclear what specific alternatives exist for you.\r\n\r\n-----------\r\n\r\nKeep in mind that an ECDH key for P-256 can also be created more simply with:\r\n\r\n```java\r\nECDiffieHellmanCng cng = new ECDiffieHellmanCng(ECCurve.NamedCurves.nistP256)\r\n```\r\n\r\nor cross-platform with\r\n\r\n```java\r\nECDiffieHellman ecdh = ECDiffieHellman.Create(ECCurve.NamedCurves.nistP256)\r\n```\r\n\r\n[1]: https://stackoverflow.com/a/24255090/9014097\r\n[2]: https://learn.microsoft.com/en-us/dotnet/api/system.security.cryptography.asymmetricalgorithm.exportsubjectpublickeyinfo?view=net-6.0","title":"Java Bouncy Castle : Invalid point encoding 0x45","body":"<p>The C# code exports the public key as a Base64 encoded <code>EccPublicBlob</code> whose format is described in the <a href=\"https://stackoverflow.com/a/24255090/9014097\">link</a> given in the question:<br>\nThe first 4 bytes 0x45434B31 denote in little endian order a public ECDH key for curve P-256, the following 4 bytes are in little endian order the key length in bytes (0x20000000 = 32), the rest are the x and y coordinates of the EC point i.e. the public key, 32 bytes each.<br>\nIt is striking that in the key you posted, the second 4 bytes are 0x20000001, but the x and y coordinates are 32 bytes each. Possibly there is a copy/paste error here. Anyway, with the posted C# code, I cannot reproduce a key that has a value other than 0x20000000 in the second 4 bytes.</p>\n<p>Java/BC does not directly support importing an <code>EccPublicBlob</code> (which is MS proprietary), but it does support importing an uncompressed public key. This results when the x and y coordinates are concatenated and 0x04 is used as prefix. The import with Java/BC is then possible as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.security.KeyFactory;\nimport java.security.PublicKey;\nimport java.security.interfaces.ECPublicKey;\nimport java.security.spec.ECPoint;\nimport java.security.spec.ECPublicKeySpec;\nimport org.bouncycastle.jce.ECNamedCurveTable;\nimport org.bouncycastle.jce.ECPointUtil;\nimport org.bouncycastle.jce.provider.BouncyCastleProvider;\nimport org.bouncycastle.jce.spec.ECNamedCurveParameterSpec;\nimport org.bouncycastle.jce.spec.ECNamedCurveSpec;\n...\npublic static PublicKey getPubKeyFromCurve(byte[] uncompRawPubKey, String curveName) throws Exception {\n      ECNamedCurveParameterSpec spec = ECNamedCurveTable.getParameterSpec(curveName);\n      ECNamedCurveSpec params = new ECNamedCurveSpec(spec.getName(), spec.getCurve(), spec.getG(), spec.getN());\n      ECPoint point = ECPointUtil.decodePoint(params.getCurve(), uncompRawPubKey);\n      ECPublicKeySpec pubKeySpec = new ECPublicKeySpec(point, params);\n      KeyFactory kf = KeyFactory.getInstance(&quot;ECDH&quot;, new BouncyCastleProvider());\n      ECPublicKey pubKey = (ECPublicKey) kf.generatePublic(pubKeySpec);\n      return pubKey;\n}\n</code></pre>\n<p>Test (assuming <code>EccPublicBlob</code> is Base64 encoded like the posted one):</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Base64;\n...\nString publicKeyBlob = &quot;RUNLMSAAAAAFzw4IGY4N8PKVt0MGF38SAKU5ixJhptVUdrWzuPhFDOcj/2k4SlGRN1RpRMbar9Iu7Uvcx7Vtm8Wa0HSzWJdE&quot;;\nbyte[] rawPublic = new byte[65];\nrawPublic[0] = 0x04;\nSystem.arraycopy(Base64.getDecoder().decode(publicKeyBlob), 8, rawPublic, 1, 64);\nPublicKey pub = getPubKeyFromCurve(rawPublic, &quot;P-256&quot;);\nSystem.out.println(Base64.getEncoder().encodeToString(pub.getEncoded())); // MFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAEBc8OCBmODfDylbdDBhd/EgClOYsSYabVVHa1s7j4RQznI/9pOEpRkTdUaUTG2q/SLu1L3Me1bZvFmtB0s1iXRA==\n</code></pre>\n<p>The test imports the <code>EccPublicBlob</code> and exports it as a Base64 encoded DER key in X.509/SPKI format. This can be read with an ASN.1 parser, e.g. <a href=\"https://lapo.it/asn1js/\" rel=\"noreferrer\">https://lapo.it/asn1js/</a>, and thus be verified.</p>\n<hr />\n<p>Note that C# also supports the export of other formats. However, this depends on the version. E.g. as of .NET Core 3.0 there is the method <a href=\"https://learn.microsoft.com/en-us/dotnet/api/system.security.cryptography.asymmetricalgorithm.exportsubjectpublickeyinfo?view=net-6.0\" rel=\"noreferrer\"><code>ExportSubjectPublicKeyInfo()</code></a> that exports the public key in X.509/SPKI format, DER encoded. This format and encoding can be imported directly into Java using <code>X509EncodedKeySpec</code> (even without BouncyCastle).<br>\nIn other versions of C#, BouncyCastle for C# can be used for the export, which also supports the X.509/SPKI format.<br>\nSince you didn't post your .NET version, it's unclear what specific alternatives exist for you.</p>\n<hr />\n<p>Keep in mind that an ECDH key for P-256 can also be created more simply with:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ECDiffieHellmanCng cng = new ECDiffieHellmanCng(ECCurve.NamedCurves.nistP256)\n</code></pre>\n<p>or cross-platform with</p>\n<pre class=\"lang-java prettyprint-override\"><code>ECDiffieHellman ecdh = ECDiffieHellman.Create(ECCurve.NamedCurves.nistP256)\n</code></pre>\n"}],"owner":{"account_id":1591359,"reputation":3758,"user_id":1474618,"accept_rate":72,"display_name":"Naveen Kumar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":957,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":72808526,"answer_count":1,"score":3,"last_activity_date":1656542235,"creation_date":1656332729,"question_id":72772080,"body_markdown":"I am loading a public key in `java` using `bouncy castle` library but always getting error `Invalid point encoding 0x45`.\r\n\r\nThe public key is generated at client side using C# CNG APIs.\r\n\r\nJava method 1:\r\n\r\n    public PublicKey loadPublicKey(String encodedPublicKey)\r\n    \t\t\tthrows NoSuchProviderException, NoSuchAlgorithmException, InvalidKeySpecException {\r\n    \t\t\r\n    \t\tbyte[] keybytes = java.util.Base64.getDecoder().decode(encodedPublicKey);\r\n    \t\t\r\n    \t\tSecurity.addProvider(new BouncyCastleProvider());\r\n    \t\t\r\n    \t\tECNamedCurveParameterSpec params = ECNamedCurveTable.getParameterSpec(&quot;P-256&quot;);\r\n    \t\t\r\n    \t\tECPublicKeySpec keySpec = new ECPublicKeySpec(params.getCurve().decodePoint(keybytes), params);\r\n    \t\t\r\n    \t\treturn new BCECPublicKey(&quot;ECDH&quot;, keySpec, BouncyCastleProvider.CONFIGURATION);\r\n    \r\n    \t}\r\n\r\nMethod 2 \r\n\r\n    public PublicKey loadPublicKey(String pKey) throws Exception {\r\n    \t\tbyte[] keybytes = java.util.Base64.getDecoder().decode(pKey);\r\n    \t\tSecurity.addProvider(new BouncyCastleProvider());\r\n    \t\tECParameterSpec params = ECNamedCurveTable.getParameterSpec(&quot;P-256&quot;);\r\n    \t\tECPublicKeySpec pubKey = new ECPublicKeySpec(params.getCurve().decodePoint(keybytes), params);\r\n    \t\tKeyFactory kf = KeyFactory.getInstance(&quot;ECDH&quot;, &quot;BC&quot;);\r\n    \t\treturn kf.generatePublic(pubKey);\r\n    \t}\r\n\r\nException \r\n\r\n    java.lang.IllegalArgumentException: Invalid point encoding 0x45\r\n    \tat org.bouncycastle.math.ec.ECCurve.decodePoint(ECCurve.java:443)\r\n\r\nBelow method to create public key\r\n\r\n    public static (byte[] publicKey, byte[] privateKey) CreateKeyPair()\r\n            {\r\n                using (ECDiffieHellmanCng cng = new ECDiffieHellmanCng(\r\n                    // need to do this to be able to export private key\r\n                    CngKey.Create(\r\n                        CngAlgorithm.ECDiffieHellmanP256,\r\n                        null,\r\n                        new CngKeyCreationParameters\r\n                        { ExportPolicy = CngExportPolicies.AllowPlaintextExport })))\r\n                {\r\n                    cng.KeyDerivationFunction = ECDiffieHellmanKeyDerivationFunction.Hash;\r\n                    cng.HashAlgorithm = CngAlgorithm.Sha256;\r\n                    // export both private and public keys and return\r\n                    var pr = cng.Key.Export(CngKeyBlobFormat.EccPrivateBlob);\r\n                    var pub = cng.PublicKey.ToByteArray();\r\n                    return (pub, pr);\r\n                }\r\n            }\r\n\r\nPublic Key generated `RUNLMSAAAAHddHI6TOEDG/Ka7naBbLQH0u/DSFfbKJI2w0WSoxrmFkwKm1tktz4wD0rqnwkZp8FwdHJ+8OVrTcpDMmxrwvS6`\r\n\r\nThe key which I am receiving at java is of `72 bytes`. But I think `bouncy castle java` supports `64 bytes` of key.\r\n\r\nI was also looking into [this][1] but did not get any help \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/24251336/import-a-public-key-from-somewhere-else-to-cngkey#answer-24255090","title":"Java Bouncy Castle : Invalid point encoding 0x45","body":"<p>I am loading a public key in <code>java</code> using <code>bouncy castle</code> library but always getting error <code>Invalid point encoding 0x45</code>.</p>\n<p>The public key is generated at client side using C# CNG APIs.</p>\n<p>Java method 1:</p>\n<pre><code>public PublicKey loadPublicKey(String encodedPublicKey)\n            throws NoSuchProviderException, NoSuchAlgorithmException, InvalidKeySpecException {\n        \n        byte[] keybytes = java.util.Base64.getDecoder().decode(encodedPublicKey);\n        \n        Security.addProvider(new BouncyCastleProvider());\n        \n        ECNamedCurveParameterSpec params = ECNamedCurveTable.getParameterSpec(&quot;P-256&quot;);\n        \n        ECPublicKeySpec keySpec = new ECPublicKeySpec(params.getCurve().decodePoint(keybytes), params);\n        \n        return new BCECPublicKey(&quot;ECDH&quot;, keySpec, BouncyCastleProvider.CONFIGURATION);\n\n    }\n</code></pre>\n<p>Method 2</p>\n<pre><code>public PublicKey loadPublicKey(String pKey) throws Exception {\n        byte[] keybytes = java.util.Base64.getDecoder().decode(pKey);\n        Security.addProvider(new BouncyCastleProvider());\n        ECParameterSpec params = ECNamedCurveTable.getParameterSpec(&quot;P-256&quot;);\n        ECPublicKeySpec pubKey = new ECPublicKeySpec(params.getCurve().decodePoint(keybytes), params);\n        KeyFactory kf = KeyFactory.getInstance(&quot;ECDH&quot;, &quot;BC&quot;);\n        return kf.generatePublic(pubKey);\n    }\n</code></pre>\n<p>Exception</p>\n<pre><code>java.lang.IllegalArgumentException: Invalid point encoding 0x45\n    at org.bouncycastle.math.ec.ECCurve.decodePoint(ECCurve.java:443)\n</code></pre>\n<p>Below method to create public key</p>\n<pre><code>public static (byte[] publicKey, byte[] privateKey) CreateKeyPair()\n        {\n            using (ECDiffieHellmanCng cng = new ECDiffieHellmanCng(\n                // need to do this to be able to export private key\n                CngKey.Create(\n                    CngAlgorithm.ECDiffieHellmanP256,\n                    null,\n                    new CngKeyCreationParameters\n                    { ExportPolicy = CngExportPolicies.AllowPlaintextExport })))\n            {\n                cng.KeyDerivationFunction = ECDiffieHellmanKeyDerivationFunction.Hash;\n                cng.HashAlgorithm = CngAlgorithm.Sha256;\n                // export both private and public keys and return\n                var pr = cng.Key.Export(CngKeyBlobFormat.EccPrivateBlob);\n                var pub = cng.PublicKey.ToByteArray();\n                return (pub, pr);\n            }\n        }\n</code></pre>\n<p>Public Key generated <code>RUNLMSAAAAHddHI6TOEDG/Ka7naBbLQH0u/DSFfbKJI2w0WSoxrmFkwKm1tktz4wD0rqnwkZp8FwdHJ+8OVrTcpDMmxrwvS6</code></p>\n<p>The key which I am receiving at java is of <code>72 bytes</code>. But I think <code>bouncy castle java</code> supports <code>64 bytes</code> of key.</p>\n<p>I was also looking into <a href=\"https://stackoverflow.com/questions/24251336/import-a-public-key-from-somewhere-else-to-cngkey#answer-24255090\">this</a> but did not get any help</p>\n"},{"tags":["java","fonts","opentype"],"answers":[{"tags":[],"owner":{"account_id":32516,"reputation":11064,"user_id":90313,"display_name":"MahdeTo"},"down_vote_count":1,"up_vote_count":4,"is_accepted":true,"score":3,"last_activity_date":1242486250,"creation_date":1242486250,"answer_id":872596,"question_id":872569,"body_markdown":"I don&#39;t think there is Open Type Font support in java (not free atleast), iText claimed to have such support, tried it a few month ago and it didn&#39;t work, what worked for me is a program called FontForge which I used to create a ttf from the otf which I then used.","title":"How to use Open Type Fonts in Java?","body":"<p>I don't think there is Open Type Font support in java (not free atleast), iText claimed to have such support, tried it a few month ago and it didn't work, what worked for me is a program called FontForge which I used to create a ttf from the otf which I then used.</p>\n"},{"tags":[],"owner":{"account_id":46297,"reputation":2454,"user_id":136698,"display_name":"christopheml"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1247499589,"creation_date":1247499589,"answer_id":1120242,"question_id":872569,"body_markdown":"[Java OpenType font support depends on your OS and JDK version.] [1]\r\n\r\nPrior to Java 6, you can only use TrueType flavored OpenType fonts. With Java 6 you can use all OpenType fonts but you won&#39;t benefit from advanced typographic features like ligatures.\r\n\r\n[1]: http://mindprod.com/jgloss/opentype.html#JAVASUPPORT ","title":"How to use Open Type Fonts in Java?","body":"<p><a href=\"http://mindprod.com/jgloss/opentype.html#JAVASUPPORT\" rel=\"noreferrer\">Java OpenType font support depends on your OS and JDK version.</a></p>\n\n<p>Prior to Java 6, you can only use TrueType flavored OpenType fonts. With Java 6 you can use all OpenType fonts but you won't benefit from advanced typographic features like ligatures.</p>\n"},{"tags":[],"owner":{"account_id":330712,"reputation":1464,"user_id":654973,"display_name":"luukes"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1350460870,"creation_date":1350460870,"answer_id":12929723,"question_id":872569,"body_markdown":"I&#39;ve used a font-converter to convert the **OTF** to a **TTF** file. There are some online-services out there (like [www.freefontconverter.com][1] ) which do the job. For me this was a fast and simple workaround.\r\n\r\n\r\n  [1]: http://www.freefontconverter.com","title":"How to use Open Type Fonts in Java?","body":"<p>I've used a font-converter to convert the <strong>OTF</strong> to a <strong>TTF</strong> file. There are some online-services out there (like <a href=\"http://www.freefontconverter.com\" rel=\"nofollow\">www.freefontconverter.com</a> ) which do the job. For me this was a fast and simple workaround.</p>\n"},{"tags":[],"owner":{"account_id":4669399,"reputation":175,"user_id":3781572,"display_name":"user3781572"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1598144107,"creation_date":1438937954,"answer_id":31873657,"question_id":872569,"body_markdown":"Open Type (`.otf`) font files are not supported in Java 1.6. From Java 1.7, support is added:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    Font font = Font.createFont(Font.TRUETYPE_FONT, new File(&quot;MyFont.otf&quot;));\r\n    font  = font.deriveFont(Font.BOLD, 40);\r\n\r\n    label.setFont(font);\r\n\r\nMore details:\r\n\r\n* http://bugs.java.com/view_bug.do?bug_id=6992611\r\n* http://docs.oracle.com/javase/7/docs/webnotes/adoptionGuide/#swing\r\n","title":"How to use Open Type Fonts in Java?","body":"<p>Open Type (<code>.otf</code>) font files are not supported in Java 1.6. From Java 1.7, support is added:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Font font = Font.createFont(Font.TRUETYPE_FONT, new File(&quot;MyFont.otf&quot;));\nfont  = font.deriveFont(Font.BOLD, 40);\n\nlabel.setFont(font);\n</code></pre>\n<p>More details:</p>\n<ul>\n<li><a href=\"http://bugs.java.com/view_bug.do?bug_id=6992611\" rel=\"nofollow noreferrer\">http://bugs.java.com/view_bug.do?bug_id=6992611</a></li>\n<li><a href=\"http://docs.oracle.com/javase/7/docs/webnotes/adoptionGuide/#swing\" rel=\"nofollow noreferrer\">http://docs.oracle.com/javase/7/docs/webnotes/adoptionGuide/#swing</a></li>\n</ul>\n"}],"owner":{"account_id":22567,"reputation":1819,"user_id":55800,"accept_rate":100,"display_name":"HaBaLeS"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22016,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":872596,"answer_count":4,"score":10,"last_activity_date":1656541137,"creation_date":1242485410,"question_id":872569,"body_markdown":"Is there a way to read Open Type fonts in Java the same way as I do with TrueType fonts?\r\n\r\nThis works perfectly for TTF but I did not figure out yet how to do the same with Open Type fonts.\r\n\r\n    Font f = Font.createFont( Font.TRUETYPE_FONT,\r\n    new FileInputStream(&quot;f.ttf&quot;) );\r\n\r\nPlease note I cannot rely on installed fonts. I provide the font with my program but don&#39;t want to install it system-wide.","title":"How to use Open Type Fonts in Java?","body":"<p>Is there a way to read Open Type fonts in Java the same way as I do with TrueType fonts?</p>\n<p>This works perfectly for TTF but I did not figure out yet how to do the same with Open Type fonts.</p>\n<pre><code>Font f = Font.createFont( Font.TRUETYPE_FONT,\nnew FileInputStream(&quot;f.ttf&quot;) );\n</code></pre>\n<p>Please note I cannot rely on installed fonts. I provide the font with my program but don't want to install it system-wide.</p>\n"},{"tags":["java","spring-boot","caching"],"answers":[{"tags":[],"owner":{"account_id":13222880,"reputation":15,"user_id":9549017,"display_name":"Rijad Pedljak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656521974,"creation_date":1656521974,"answer_id":72805230,"question_id":71109548,"body_markdown":"For me the issue was that the cacheable method was in the same class, which you mentioned are not in your case. However, cacheable will not get called if the classes are part of the same bean. I separated them and it works fine for me. Hope it helps.","title":"@Cachable annotated method is not caching a new data after doing @CacheEvict","body":"<p>For me the issue was that the cacheable method was in the same class, which you mentioned are not in your case. However, cacheable will not get called if the classes are part of the same bean. I separated them and it works fine for me. Hope it helps.</p>\n"}],"owner":{"account_id":24250971,"reputation":11,"user_id":18201966,"display_name":"RAGAVENDRAN VISWANATHAN"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":205,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1656540951,"creation_date":1644830607,"question_id":71109548,"body_markdown":"Developed an API to retrieve data from a table and put it into cache in spring boot from Eclipse. Integrated with an SAP cloud platform. \r\n\r\nDB- SAP cloud HANA DB.\r\n\r\n**Step-1:** Call an API from the postman.\r\n\r\n**Step-2:** Method invoked. The method annotated with @Cacheable(&quot;dictionary&quot;)\r\n\r\n** ** --&gt;At this time the values from DB 4000+ records get cached\r\n--&gt; within 5 mins if postman executes, values are returning faster based on execution time as expected.\r\n** **\r\n\r\n**Step-3:** Every 5 mins, @CacheEvict is scheduled.\r\n\r\n** **Before Eviction starts, updating a DB column &quot;comments&quot; in DB** **\r\n\r\n**Step-4:** Scheduled Eviction method executed.\r\n\r\n```\r\n@Service\r\npublic class CacheEvit {\r\n\r\n\t@Autowired\r\n\tprivate CacheManager cacheManager;\t\r\n\r\n\t@Scheduled(cron = &quot;0 0/5 * * * ?&quot;) // execure after every 5 min\r\n\tpublic void clearCacheSchedule() {\r\n\t\tSystem.err.println(&quot;inside clear scheduled--&quot; + cacheManager.getCacheNames());\r\n\t\tCache c = cacheManager.getCache(&quot;dictionary&quot;);\r\n\t\tfor (String name : cacheManager.getCacheNames()) {\r\n\t\t\tSystem.err.println(&quot;inside clear scheduled before clear in for loop&quot; + cacheManager.getCacheNames()); \r\n\t\t\tcacheManager.getCache(&quot;dictionary&quot;).clear(); // clear cache by name\r\n\t\t}\r\n\r\n\t\tif (c != null) {\r\n\t\t\tSystem.err.println(&quot;cleared succ -- &quot; + cacheManager.getCacheNames());\r\n\t\t} else {\r\n\t\t\tSystem.err.println(&quot;cache is not null&quot;);\r\n\t\t}\r\n\t}\r\n\r\n}\r\n```\r\n```\r\n @Cacheable(&quot;dictionary&quot;)\r\n  public List&lt;DictionaryEntity&gt; getDictionaryData() {\r\n\t  System.err.println(&quot;inside getDictionaryData&quot;);\r\n    return dictionaryServiceImpl.getDictionary();\r\n  }\r\n```\r\n@EnableScheduling\r\n@EnableCaching --&gt; declared in Starter class.\r\n```\r\n@Bean\r\n  public CacheManager cacheManager() {\r\n      SimpleCacheManager cacheManager = new SimpleCacheManager();\r\n      cacheManager.setCaches(Arrays.asList(\r\n        new ConcurrentMapCache(&quot;dictionary&quot;)));\r\n      return cacheManager;\r\n  }\r\n```\r\n\r\nThese both are in different java classes and different services.\r\n\r\n**Problem:** As cache got cleared, The method with @Cachable is executed ( observed by printing log ) **but the value of cache is not loaded newly as we edited comments, still its returning old values**\r\n\r\n\r\n\r\n","title":"@Cachable annotated method is not caching a new data after doing @CacheEvict","body":"<p>Developed an API to retrieve data from a table and put it into cache in spring boot from Eclipse. Integrated with an SAP cloud platform.</p>\n<p>DB- SAP cloud HANA DB.</p>\n<p><strong>Step-1:</strong> Call an API from the postman.</p>\n<p><strong>Step-2:</strong> Method invoked. The method annotated with @Cacheable(&quot;dictionary&quot;)</p>\n<p>** ** --&gt;At this time the values from DB 4000+ records get cached\n--&gt; within 5 mins if postman executes, values are returning faster based on execution time as expected.</p>\n<hr />\n<p><strong>Step-3:</strong> Every 5 mins, @CacheEvict is scheduled.</p>\n<p>** <strong>Before Eviction starts, updating a DB column &quot;comments&quot; in DB</strong> **</p>\n<p><strong>Step-4:</strong> Scheduled Eviction method executed.</p>\n<pre><code>@Service\npublic class CacheEvit {\n\n    @Autowired\n    private CacheManager cacheManager;  \n\n    @Scheduled(cron = &quot;0 0/5 * * * ?&quot;) // execure after every 5 min\n    public void clearCacheSchedule() {\n        System.err.println(&quot;inside clear scheduled--&quot; + cacheManager.getCacheNames());\n        Cache c = cacheManager.getCache(&quot;dictionary&quot;);\n        for (String name : cacheManager.getCacheNames()) {\n            System.err.println(&quot;inside clear scheduled before clear in for loop&quot; + cacheManager.getCacheNames()); \n            cacheManager.getCache(&quot;dictionary&quot;).clear(); // clear cache by name\n        }\n\n        if (c != null) {\n            System.err.println(&quot;cleared succ -- &quot; + cacheManager.getCacheNames());\n        } else {\n            System.err.println(&quot;cache is not null&quot;);\n        }\n    }\n\n}\n</code></pre>\n<pre><code> @Cacheable(&quot;dictionary&quot;)\n  public List&lt;DictionaryEntity&gt; getDictionaryData() {\n      System.err.println(&quot;inside getDictionaryData&quot;);\n    return dictionaryServiceImpl.getDictionary();\n  }\n</code></pre>\n<p>@EnableScheduling\n@EnableCaching --&gt; declared in Starter class.</p>\n<pre><code>@Bean\n  public CacheManager cacheManager() {\n      SimpleCacheManager cacheManager = new SimpleCacheManager();\n      cacheManager.setCaches(Arrays.asList(\n        new ConcurrentMapCache(&quot;dictionary&quot;)));\n      return cacheManager;\n  }\n</code></pre>\n<p>These both are in different java classes and different services.</p>\n<p><strong>Problem:</strong> As cache got cleared, The method with @Cachable is executed ( observed by printing log ) <strong>but the value of cache is not loaded newly as we edited comments, still its returning old values</strong></p>\n"},{"tags":["java","android","oop","generics","reflection"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1656415975,"post_id":72785586,"comment_id":128561797,"body_markdown":"because it needs a `Class`, to specify the `enum` and not just an instance of that  `enum` (you could not use the method for an empty `enum` {why ever one is declared empty} nor does it make much sense {what is the exact meaning of using the one constant instead of another one})","body":"because it needs a <code>Class</code>, to specify the <code>enum</code> and not just an instance of that  <code>enum</code> (you could not use the method for an empty <code>enum</code> {why ever one is declared empty} nor does it make much sense {what is the exact meaning of using the one constant instead of another one})"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":5,"creation_date":1656416514,"post_id":72785586,"comment_id":128561982,"body_markdown":"`EnumSet.noneOf(Authority)` is not legal Java.  If you want to pass a type in Java, you use a class literal (i.e., `Authority.class`). And it doesn&#39;t make sense to pass an _instance_ of a type when you want an empty set of said type. Also, if it used `Class&lt;?&gt;` then you could pass _any_ type, not just an enum type. Though that can be solved with an upper bound. But with a wildcard, you can&#39;t get an `EnumSet&lt;E&gt;` back.; it would be an `EnumSet&lt;?&gt;` , which is not exactly useful.","body":"<code>EnumSet.noneOf(Authority)</code> is not legal Java.  If you want to pass a type in Java, you use a class literal (i.e., <code>Authority.class</code>). And it doesn&#39;t make sense to pass an <i>instance</i> of a type when you want an empty set of said type. Also, if it used <code>Class&lt;?&gt;</code> then you could pass <i>any</i> type, not just an enum type. Though that can be solved with an upper bound. But with a wildcard, you can&#39;t get an <code>EnumSet&lt;E&gt;</code> back.; it would be an <code>EnumSet&lt;?&gt;</code> , which is not exactly useful."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1656416600,"post_id":72785586,"comment_id":128562021,"body_markdown":"Note that `E` is bounded (the declaration is `&lt;E extends Enum&lt;E&gt;&gt;`).","body":"Note that <code>E</code> is bounded (the declaration is <code>&lt;E extends Enum&lt;E&gt;&gt;</code>)."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1656431939,"post_id":72785586,"comment_id":128568611,"body_markdown":"@Slaw I suggest you make an Answer of your useful Comments.","body":"@Slaw I suggest you make an Answer of your useful Comments."},{"owner":{"account_id":1622560,"reputation":1026,"user_id":1498827,"accept_rate":84,"display_name":"microwth"},"score":0,"creation_date":1656435256,"post_id":72785586,"comment_id":128569777,"body_markdown":"@Slaw please add your comment as an answer so I pick it.thanks","body":"@Slaw please add your comment as an answer so I pick it.thanks"}],"answers":[{"tags":[],"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1656539550,"creation_date":1656443392,"answer_id":72791975,"question_id":72785586,"body_markdown":"&gt; I know the type (Authority) at compile time,so could it have been `EnumSet.noneOf(Authority)` ?\r\n\r\nYou can&#39;t do `EnumSet.noneOf(Authority)` because that&#39;s not legal Java. When you want to pass around a type then you use a `Class` instance, and when you know the needed class at compile-time, you use a class literal (e.g., `Authority.class`).\r\n\r\n---\r\n\r\n&gt; But why does it require `Class&lt;E&gt;` and not, say, T as in `noneOf(T elementType)` ?\r\n\r\nConceptually, it makes no sense to require an _instance_ of a type when you want an _empty_ set of said type. But then I suppose the question becomes, &quot;Why is any argument needed in the first place?&quot;. After all, you can do something like:\r\n\r\n```lang-java\r\nSet&lt;String&gt; set = new HashSet&lt;&gt;();\r\n```\r\n\r\nWithout passing a `Class` instance.\r\n\r\nThe reason is because `EnumSet` is a highly specialized `Set` implementation. It needs to know of all the existing `enum` constants, which can be queried using the `Class`, even when the set is empty. Also, the implementation only works with a _single type_. An `EnumSet` cannot contain constants from different `enum` types. The `Class` allows the implementation to enforce this.\r\n\r\nOther methods, such as `EnumSet#of(E)`, don&#39;t require a `Class` because they require instances of the `enum` (i.e., one or more constants) and the type can be grabbed from them.\r\n\r\n---\r\n\r\n&gt; Since it seems to require though,why not use the anytype as in Class&lt;?&gt;\r\n\r\nBecause a `Class&lt;?&gt;` would allow you to pass _any type_, not just an `enum` type. Though of course that could be solved by bounding the wildcard: `Class&lt;? extends Enum&lt;?&gt;&gt;`. Now only `enum` types are allowed, but the static type system has no idea _which_ `enum` type you&#39;re using. This means methods such as `noneOf` would only be capable of returning an `EnumSet&lt;?&gt;`, which is not very useful.\r\n\r\nBy declaring a type variable `E` and bounding it to extend `Enum&lt;E&gt;`, the use of `Class&lt;E&gt;` forces you to pass an `enum` type _and_ you get an `EnumSet&lt;E&gt;` back.","title":"Java - EnumSet.noneOf()- Why use Class&lt;E&gt; instead of T?","body":"<blockquote>\n<p>I know the type (Authority) at compile time,so could it have been <code>EnumSet.noneOf(Authority)</code> ?</p>\n</blockquote>\n<p>You can't do <code>EnumSet.noneOf(Authority)</code> because that's not legal Java. When you want to pass around a type then you use a <code>Class</code> instance, and when you know the needed class at compile-time, you use a class literal (e.g., <code>Authority.class</code>).</p>\n<hr />\n<blockquote>\n<p>But why does it require <code>Class&lt;E&gt;</code> and not, say, T as in <code>noneOf(T elementType)</code> ?</p>\n</blockquote>\n<p>Conceptually, it makes no sense to require an <em>instance</em> of a type when you want an <em>empty</em> set of said type. But then I suppose the question becomes, &quot;Why is any argument needed in the first place?&quot;. After all, you can do something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Set&lt;String&gt; set = new HashSet&lt;&gt;();\n</code></pre>\n<p>Without passing a <code>Class</code> instance.</p>\n<p>The reason is because <code>EnumSet</code> is a highly specialized <code>Set</code> implementation. It needs to know of all the existing <code>enum</code> constants, which can be queried using the <code>Class</code>, even when the set is empty. Also, the implementation only works with a <em>single type</em>. An <code>EnumSet</code> cannot contain constants from different <code>enum</code> types. The <code>Class</code> allows the implementation to enforce this.</p>\n<p>Other methods, such as <code>EnumSet#of(E)</code>, don't require a <code>Class</code> because they require instances of the <code>enum</code> (i.e., one or more constants) and the type can be grabbed from them.</p>\n<hr />\n<blockquote>\n<p>Since it seems to require though,why not use the anytype as in Class&lt;?&gt;</p>\n</blockquote>\n<p>Because a <code>Class&lt;?&gt;</code> would allow you to pass <em>any type</em>, not just an <code>enum</code> type. Though of course that could be solved by bounding the wildcard: <code>Class&lt;? extends Enum&lt;?&gt;&gt;</code>. Now only <code>enum</code> types are allowed, but the static type system has no idea <em>which</em> <code>enum</code> type you're using. This means methods such as <code>noneOf</code> would only be capable of returning an <code>EnumSet&lt;?&gt;</code>, which is not very useful.</p>\n<p>By declaring a type variable <code>E</code> and bounding it to extend <code>Enum&lt;E&gt;</code>, the use of <code>Class&lt;E&gt;</code> forces you to pass an <code>enum</code> type <em>and</em> you get an <code>EnumSet&lt;E&gt;</code> back.</p>\n"},{"tags":[],"owner":{"account_id":3066464,"reputation":6190,"user_id":2598037,"display_name":"Carl Mastrangelo"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1656450268,"creation_date":1656450268,"answer_id":72793128,"question_id":72785586,"body_markdown":"The other answers don&#39;t seem to give charitable interpretations of your question, so I&#39;ll add one.\r\n\r\n&gt; But why does it require Class&lt;E&gt; and not, say, T as in noneOf(T elementType) ?\r\n\r\nIt&#39;s because the EnumSet needs to be able to verify the type later.  For example:\r\n\r\n```java\r\nvar set = EnumSet.noneOf(Authority.class);\r\nset.add(Authority.ADMIN); // ordinal 1\r\n```\r\n\r\nOn the second line, the set needs to verify that enum being added to the set is the same type as the others.  There wouldn&#39;t be a way to check the types match if someone later wrote:\r\n\r\n\r\n```java\r\nset.add(Color.BLUE) // ordinal 1, oops!\r\n```\r\n\r\n\r\nIt wouldn&#39;t be possible to distinguish the problem without the enum class. You ask a valid question of why this should be the type with (lightly rewritten):\r\n\r\n&gt; EnumSet.noneOf(Authority.ADMIN)\r\n\r\nThis would be possible, except it wouldn&#39;t work for empty enums:\r\n\r\n```java\r\nenum Empty {}\r\n```\r\n\r\nFinally, it&#39;s important to note the values from each enum may have different classes:\r\n\r\n```java\r\nenum Authority {\r\n  ADMIN {\r\n    @Override void checkPermissions() {...}\r\n  },\r\n  USER {\r\n    @Override void checkPermissions() {...}\r\n  };\r\n\r\n  abstract void checkPermissions();\r\n}\r\nassert Authority.ADMIN.getClass() != Authority.USER.getClass();\r\n```\r\n\r\n\r\nAs a result, the *outermost* class needs to be passed into `EnumSet`, so the class object is preferred.","title":"Java - EnumSet.noneOf()- Why use Class&lt;E&gt; instead of T?","body":"<p>The other answers don't seem to give charitable interpretations of your question, so I'll add one.</p>\n<blockquote>\n<p>But why does it require Class and not, say, T as in noneOf(T elementType) ?</p>\n</blockquote>\n<p>It's because the EnumSet needs to be able to verify the type later.  For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var set = EnumSet.noneOf(Authority.class);\nset.add(Authority.ADMIN); // ordinal 1\n</code></pre>\n<p>On the second line, the set needs to verify that enum being added to the set is the same type as the others.  There wouldn't be a way to check the types match if someone later wrote:</p>\n<pre class=\"lang-java prettyprint-override\"><code>set.add(Color.BLUE) // ordinal 1, oops!\n</code></pre>\n<p>It wouldn't be possible to distinguish the problem without the enum class. You ask a valid question of why this should be the type with (lightly rewritten):</p>\n<blockquote>\n<p>EnumSet.noneOf(Authority.ADMIN)</p>\n</blockquote>\n<p>This would be possible, except it wouldn't work for empty enums:</p>\n<pre class=\"lang-java prettyprint-override\"><code>enum Empty {}\n</code></pre>\n<p>Finally, it's important to note the values from each enum may have different classes:</p>\n<pre class=\"lang-java prettyprint-override\"><code>enum Authority {\n  ADMIN {\n    @Override void checkPermissions() {...}\n  },\n  USER {\n    @Override void checkPermissions() {...}\n  };\n\n  abstract void checkPermissions();\n}\nassert Authority.ADMIN.getClass() != Authority.USER.getClass();\n</code></pre>\n<p>As a result, the <em>outermost</em> class needs to be passed into <code>EnumSet</code>, so the class object is preferred.</p>\n"}],"owner":{"account_id":1622560,"reputation":1026,"user_id":1498827,"accept_rate":84,"display_name":"microwth"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":231,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72791975,"answer_count":2,"score":2,"last_activity_date":1656539550,"creation_date":1656415636,"question_id":72785586,"body_markdown":"The definition is:\r\nhttps://developer.android.com/reference/java/util/EnumSet\r\n\r\n    noneOf(Class&lt;E&gt; elementType)\r\n    Creates an empty enum set with the specified element type.\r\n\r\nBut why does it require `Class&lt;E&gt;` and not, say, T as in `noneOf(T elementType)` ?\r\nIs it because it requires the type to be entered at runtime?\r\nBut when I write code for example `EnumSet.noneOf(Authority.class);` I know the type (Authority) at compile time,so could it have been `EnumSet.noneOf(Authority)` ?\r\n\r\nSince it seems to require &lt;E&gt; though,why not use the anytype as in Class&lt;?&gt;\r\n\r\n","title":"Java - EnumSet.noneOf()- Why use Class&lt;E&gt; instead of T?","body":"<p>The definition is:\n<a href=\"https://developer.android.com/reference/java/util/EnumSet\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/java/util/EnumSet</a></p>\n<pre><code>noneOf(Class&lt;E&gt; elementType)\nCreates an empty enum set with the specified element type.\n</code></pre>\n<p>But why does it require <code>Class&lt;E&gt;</code> and not, say, T as in <code>noneOf(T elementType)</code> ?\nIs it because it requires the type to be entered at runtime?\nBut when I write code for example <code>EnumSet.noneOf(Authority.class);</code> I know the type (Authority) at compile time,so could it have been <code>EnumSet.noneOf(Authority)</code> ?</p>\n<p>Since it seems to require  though,why not use the anytype as in Class&lt;?&gt;</p>\n"},{"tags":["java","ssl","truststore"],"comments":[{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1656338813,"post_id":72773314,"comment_id":128540875,"body_markdown":"What is expiration date of the trust store? Can you add some references where trust store expiration is mentioned?","body":"What is expiration date of the trust store? Can you add some references where trust store expiration is mentioned?"},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1656339370,"post_id":72773314,"comment_id":128541083,"body_markdown":"I suspect he means the notbefore/notafter dates for certificates held in the truststore.","body":"I suspect he means the notbefore/notafter dates for certificates held in the truststore."},{"owner":{"account_id":13983475,"reputation":3,"user_id":10133391,"display_name":"user10133391"},"score":0,"creation_date":1656420253,"post_id":72773314,"comment_id":128563551,"body_markdown":"Hi @AlexeyR. and Hiran !\nThank you both for your answers.\n\nI am talking about the date which I can fetch using the keytool -list command:\n\nKeystore-Typ: PKCS12\nKeystore-Provider: SUN\n\nKeystore enth&#228;lt 3 Eintr&#228;ge\n\n1, 28.06.2022, trustedCertEntry,","body":"Hi @AlexeyR. and Hiran ! Thank you both for your answers.  I am talking about the date which I can fetch using the keytool -list command:  Keystore-Typ: PKCS12 Keystore-Provider: SUN  Keystore enth&#228;lt 3 Eintr&#228;ge  1, 28.06.2022, trustedCertEntry,"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1656490967,"post_id":72773314,"comment_id":128582910,"body_markdown":"That&#39;s the expiration date of an *entry*. There is no such thing as &#39;expiration date of the truststore&#39;.","body":"That&#39;s the expiration date of an <i>entry</i>. There is no such thing as &#39;expiration date of the truststore&#39;."},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1656501939,"post_id":72773314,"comment_id":128587203,"body_markdown":"@user207421: actually, no. The date shown by plain `keytool -list` for JKS or JCEKS is the date the _entry_ was created (without regard to the cert or certs in it) and for PKCS12, which does not record this value, it is _always_ today on all entries. If you add option `-v` it will show (often extensive) details of each cert including `Valid from: {date&amp;time} until: {date&amp;time}` and _that_ is the expiration.","body":"@user207421: actually, no. The date shown by plain <code>keytool -list</code> for JKS or JCEKS is the date the <i>entry</i> was created (without regard to the cert or certs in it) and for PKCS12, which does not record this value, it is <i>always</i> today on all entries. If you add option <code>-v</code> it will show (often extensive) details of each cert including <code>Valid from: {date&amp;time} until: {date&amp;time}</code> and <i>that</i> is the expiration."}],"answers":[{"tags":[],"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656539341,"creation_date":1656539341,"answer_id":72808226,"question_id":72773314,"body_markdown":"TLDR: **no**\r\n\r\nJava implements cert-chain (or formally _path_) validation as specified for PKIX in RFC 5280, which checks the current (or specified) time against the validity period (notBefore and notAfter=expiration) on each cert from the leaf up to but NOT including the &#39;anchor&#39;. In fact 5280 does not require the anchor to even _be_ a certificate or _have_ a validity period; see [section 6.1.1](https://datatracker.ietf.org/doc/html/rfc5280#section-6.1.1) and observe that validity is not among the initial parameters set (mostly) from the anchor. \r\n\r\nThis is somewhat obscured because Java does _usually_ &quot;provide the trust anchor ... in the form of a self-signed [i.e. root CA] certificate&quot;, as that section says &quot;may&quot; be done. The usual default truststore _file_, JRE/lib/cacerts (or for JSSE=SSL/TLS jssecacerts if it exists), does indeed contain root certs, as do the truststores used by many if not all other systems and libraries that use X.509/PKIX certs (Windows, MacOS, OpenSSL, NSS, and the SMIME part of GnuPG at minimum). If you use JSSE&#39;s default TrustManager it always uses that type of file, though you can specify a different file name, and if you use JSSE&#39;s default TrustManager _implementations_ obtained from `TrustManagerFactory` they go one level higher by taking a `KeyStore` object containing/providing root certs -- which you can have created using something other than a file.\r\n\r\nWhen JSSE needs to validate a cert-chain for a handshake, SSLSocketImpl (or SSLEngineImpl) doesn&#39;t do so directly but calls the TrustManager which was set from the factory and context (default or other), and [the above default](http://hg.openjdk.java.net/jdk/jdk11/file/1ddf9a99e4ad/src/java.base/share/classes/sun/security/ssl/X509TrustManagerImpl.java) first calls `checkTrustedInit` which (once) calls [sun.security.validator.Validator.getInstance](http://hg.openjdk.java.net/jdk/jdk11/file/1ddf9a99e4ad/src/java.base/share/classes/sun/security/validator/Validator.java) to create either [SimpleValidator](http://hg.openjdk.java.net/jdk/jdk11/file/1ddf9a99e4ad/src/java.base/share/classes/sun/security/validator/SimpleValidator.java) or [PKIXValidator](http://hg.openjdk.java.net/jdk/jdk11/file/1ddf9a99e4ad/src/java.base/share/classes/sun/security/validator/PKIXValidator.java) which is then used to validate the cert-chain. The former (now considered obsolete but still in the code) directly implements a simpler/earlier version of the validation algorithm, and as you can see for the anchor/root at `chain[chain.length-1]` it does almost no checks before turning it into a [`sun.security.cert.TrustAnchor`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/security/cert/TrustAnchor.html) which is used to check the lower certs. The latter (now default) is more complicated and uses the `CertPathValidator` (and possibly `CertPathBuilder`) API(s), which end up doing the same thing.\r\n\r\nIf you want you can substitute your own TrustManager implementation which implements the standard differently (perhaps including checking validity period on the anchor cert) or even not at all (in which case of course the security of connections you make depends on what you implement).\r\n\r\nLet&#39;s Encrypt actually makes use of behavior like this to [support old versions of Android](https://letsencrypt.org/2020/12/21/extending-android-compatibility.html) that don&#39;t have LE&#39;s own root cert &#39;ISRG Root X1&#39; because they predate 2015-ish, and can&#39;t be updated usually because the manufacturer stopped supporting them or even stopped existing. Although they describe this only for Android, it actually works for Java also -- where it shouldn&#39;t be needed because most uses of Java, except maybe the embedded/card version ME, can be and are updated or at least the truststore maintained. \r\n\r\nYou can demonstrate this by running the below code to read in the expired DST-X3 root cert and use only it, and not the ISRG-X1 root that people normally should use, to validate a connection to a site that uses a LetsEncrypt cert with the &#39;compatibility&#39; chain -- StackExchange itself including stackoverflow.com is such a site at least for now. You can&#39;t get DST-X3 from a current Java, where it has been deleted precisely because it is expired and should not be used (and of course _deleting_ it does cause cert chains using it to fail validation!) or most other systems/devices if current. If you use an _Oracle_ Java package older than last fall, it does have the DST-X3 cert; if you use an older OpenJDK it _may_ use a private cacerts that does have DST-X3 but depending on which builder&#39;s package you use it may instead use an external (platform) truststore that is updated to remove DST-X3 even though Java itself is not updated. You can also get DST-X3 [from LetsEncrypt or Identrust directly](https://letsencrypt.org/certificates/) or from public repositories such as [this one](https://crt.sh/?id=8395) (also linked by LetsEncrypt). \r\n\r\n\t\t// file_containing_CAcert(e.g. DSTX3) hostname [port]\r\n\t\tX509Certificate c;\r\n\t\ttry( InputStream is = new FileInputStream (args[0])) {\r\n\t\t\tc = (X509Certificate) CertificateFactory.getInstance(&quot;X.509&quot;).generateCertificate(is);\r\n\t\t}\r\n\t\tSystem.out.println (c.getNotAfter()+&quot; &quot;+c.getSubjectDN());\r\n\t\tKeyStore ks = KeyStore.getInstance(&quot;PKCS12&quot;); // any file-based\r\n\t\tks.load(null); ks.setCertificateEntry(&quot;test&quot;, c);\r\n\t\tTrustManagerFactory tmf = TrustManagerFactory.getInstance(&quot;PKIX&quot;);\r\n\t\ttmf.init(ks);\r\n\t\tSSLContext ctx = SSLContext.getInstance(&quot;TLS&quot;);\r\n\t\tctx.init(null,  tmf.getTrustManagers(), null);\r\n\t\tSSLSocket s = (SSLSocket) ctx.getSocketFactory().createSocket(args[1], args.length&gt;2? Integer.parseInt(args[2]): 443);\r\n\t\ts.startHandshake();\r\n\t\tSystem.out.println (&quot;successful!&quot;);\r\n\t\tfor( java.security.cert.Certificate t : s.getSession().getPeerCertificates() ){\r\n\t\t\tX509Certificate x = (X509Certificate) t;\r\n\t\t\tSystem.out.println (x.getNotAfter() + &quot; &quot; + x.getSubjectDN() );\r\n\t\t}\r\n","title":"Does Java check expiration date of truststore?","body":"<p>TLDR: <strong>no</strong></p>\n<p>Java implements cert-chain (or formally <em>path</em>) validation as specified for PKIX in RFC 5280, which checks the current (or specified) time against the validity period (notBefore and notAfter=expiration) on each cert from the leaf up to but NOT including the 'anchor'. In fact 5280 does not require the anchor to even <em>be</em> a certificate or <em>have</em> a validity period; see <a href=\"https://datatracker.ietf.org/doc/html/rfc5280#section-6.1.1\" rel=\"nofollow noreferrer\">section 6.1.1</a> and observe that validity is not among the initial parameters set (mostly) from the anchor.</p>\n<p>This is somewhat obscured because Java does <em>usually</em> &quot;provide the trust anchor ... in the form of a self-signed [i.e. root CA] certificate&quot;, as that section says &quot;may&quot; be done. The usual default truststore <em>file</em>, JRE/lib/cacerts (or for JSSE=SSL/TLS jssecacerts if it exists), does indeed contain root certs, as do the truststores used by many if not all other systems and libraries that use X.509/PKIX certs (Windows, MacOS, OpenSSL, NSS, and the SMIME part of GnuPG at minimum). If you use JSSE's default TrustManager it always uses that type of file, though you can specify a different file name, and if you use JSSE's default TrustManager <em>implementations</em> obtained from <code>TrustManagerFactory</code> they go one level higher by taking a <code>KeyStore</code> object containing/providing root certs -- which you can have created using something other than a file.</p>\n<p>When JSSE needs to validate a cert-chain for a handshake, SSLSocketImpl (or SSLEngineImpl) doesn't do so directly but calls the TrustManager which was set from the factory and context (default or other), and <a href=\"http://hg.openjdk.java.net/jdk/jdk11/file/1ddf9a99e4ad/src/java.base/share/classes/sun/security/ssl/X509TrustManagerImpl.java\" rel=\"nofollow noreferrer\">the above default</a> first calls <code>checkTrustedInit</code> which (once) calls <a href=\"http://hg.openjdk.java.net/jdk/jdk11/file/1ddf9a99e4ad/src/java.base/share/classes/sun/security/validator/Validator.java\" rel=\"nofollow noreferrer\">sun.security.validator.Validator.getInstance</a> to create either <a href=\"http://hg.openjdk.java.net/jdk/jdk11/file/1ddf9a99e4ad/src/java.base/share/classes/sun/security/validator/SimpleValidator.java\" rel=\"nofollow noreferrer\">SimpleValidator</a> or <a href=\"http://hg.openjdk.java.net/jdk/jdk11/file/1ddf9a99e4ad/src/java.base/share/classes/sun/security/validator/PKIXValidator.java\" rel=\"nofollow noreferrer\">PKIXValidator</a> which is then used to validate the cert-chain. The former (now considered obsolete but still in the code) directly implements a simpler/earlier version of the validation algorithm, and as you can see for the anchor/root at <code>chain[chain.length-1]</code> it does almost no checks before turning it into a <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/security/cert/TrustAnchor.html\" rel=\"nofollow noreferrer\"><code>sun.security.cert.TrustAnchor</code></a> which is used to check the lower certs. The latter (now default) is more complicated and uses the <code>CertPathValidator</code> (and possibly <code>CertPathBuilder</code>) API(s), which end up doing the same thing.</p>\n<p>If you want you can substitute your own TrustManager implementation which implements the standard differently (perhaps including checking validity period on the anchor cert) or even not at all (in which case of course the security of connections you make depends on what you implement).</p>\n<p>Let's Encrypt actually makes use of behavior like this to <a href=\"https://letsencrypt.org/2020/12/21/extending-android-compatibility.html\" rel=\"nofollow noreferrer\">support old versions of Android</a> that don't have LE's own root cert 'ISRG Root X1' because they predate 2015-ish, and can't be updated usually because the manufacturer stopped supporting them or even stopped existing. Although they describe this only for Android, it actually works for Java also -- where it shouldn't be needed because most uses of Java, except maybe the embedded/card version ME, can be and are updated or at least the truststore maintained.</p>\n<p>You can demonstrate this by running the below code to read in the expired DST-X3 root cert and use only it, and not the ISRG-X1 root that people normally should use, to validate a connection to a site that uses a LetsEncrypt cert with the 'compatibility' chain -- StackExchange itself including stackoverflow.com is such a site at least for now. You can't get DST-X3 from a current Java, where it has been deleted precisely because it is expired and should not be used (and of course <em>deleting</em> it does cause cert chains using it to fail validation!) or most other systems/devices if current. If you use an <em>Oracle</em> Java package older than last fall, it does have the DST-X3 cert; if you use an older OpenJDK it <em>may</em> use a private cacerts that does have DST-X3 but depending on which builder's package you use it may instead use an external (platform) truststore that is updated to remove DST-X3 even though Java itself is not updated. You can also get DST-X3 <a href=\"https://letsencrypt.org/certificates/\" rel=\"nofollow noreferrer\">from LetsEncrypt or Identrust directly</a> or from public repositories such as <a href=\"https://crt.sh/?id=8395\" rel=\"nofollow noreferrer\">this one</a> (also linked by LetsEncrypt).</p>\n<pre><code>    // file_containing_CAcert(e.g. DSTX3) hostname [port]\n    X509Certificate c;\n    try( InputStream is = new FileInputStream (args[0])) {\n        c = (X509Certificate) CertificateFactory.getInstance(&quot;X.509&quot;).generateCertificate(is);\n    }\n    System.out.println (c.getNotAfter()+&quot; &quot;+c.getSubjectDN());\n    KeyStore ks = KeyStore.getInstance(&quot;PKCS12&quot;); // any file-based\n    ks.load(null); ks.setCertificateEntry(&quot;test&quot;, c);\n    TrustManagerFactory tmf = TrustManagerFactory.getInstance(&quot;PKIX&quot;);\n    tmf.init(ks);\n    SSLContext ctx = SSLContext.getInstance(&quot;TLS&quot;);\n    ctx.init(null,  tmf.getTrustManagers(), null);\n    SSLSocket s = (SSLSocket) ctx.getSocketFactory().createSocket(args[1], args.length&gt;2? Integer.parseInt(args[2]): 443);\n    s.startHandshake();\n    System.out.println (&quot;successful!&quot;);\n    for( java.security.cert.Certificate t : s.getSession().getPeerCertificates() ){\n        X509Certificate x = (X509Certificate) t;\n        System.out.println (x.getNotAfter() + &quot; &quot; + x.getSubjectDN() );\n    }\n</code></pre>\n"}],"owner":{"account_id":13983475,"reputation":3,"user_id":10133391,"display_name":"user10133391"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1123,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":72808226,"answer_count":1,"score":-1,"last_activity_date":1656539341,"creation_date":1656338184,"question_id":72773314,"body_markdown":"Does the Java 11 sun.security.ssl.SSLSocketImpl#startHandshake implementation check the expiration date of the truststore?\r\nMeaning, if the truststore is expired, the SSL handshake will fail as it&#39;s not being validated by Java?\r\n\r\nThank you in advance for your help!\r\nBest regards","title":"Does Java check expiration date of truststore?","body":"<p>Does the Java 11 sun.security.ssl.SSLSocketImpl#startHandshake implementation check the expiration date of the truststore?\nMeaning, if the truststore is expired, the SSL handshake will fail as it's not being validated by Java?</p>\n<p>Thank you in advance for your help!\nBest regards</p>\n"},{"tags":["java","android","cordova","ionic-framework","ionic4"],"answers":[{"tags":[],"owner":{"account_id":3433519,"reputation":425,"user_id":2877183,"display_name":"Fractal Mind"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656539333,"creation_date":1656539333,"answer_id":72808224,"question_id":72790087,"body_markdown":"Ok so after 3 days of bullsh*t I finally understand the problem.\r\n\r\nAccording to this: https://developer.android.com/studio/build/multidex.html\r\n\r\nYou need to install/enable Multidex for your project because if it uses at startup a class not loaded by default it will crash with the error:\r\n\r\n    java.lang.RuntimeException: Unable to instantiate application &quot;blablabla&quot;  on path: DexPathList\r\n\r\nTo fix this on ionic:\r\n\r\n    cordova plugin add cordova-plugin-enable-multidex\r\n\r\nIn *config.xml* add **androidx.multidex.MultiDexApplication**\r\n\r\n        &lt;platform name=&quot;android&quot;&gt;\r\n            &lt;edit-config file=&quot;app/src/main/AndroidManifest.xml&quot; mode=&quot;merge&quot; target=&quot;/manifest/application&quot;&gt;\r\n                ...\r\n                &lt;application android:name=&quot;androidx.multidex.MultiDexApplication&quot; /&gt;\r\n                ...\r\n\r\nthen\r\n\r\n    ionic cordova platform remove android\r\n    ionic cordova platform add android","title":"java.lang.RuntimeException: Unable to instantiate application android.hardware.bluetooth on path: DexPathList","body":"<p>Ok so after 3 days of bullsh*t I finally understand the problem.</p>\n<p>According to this: <a href=\"https://developer.android.com/studio/build/multidex.html\" rel=\"nofollow noreferrer\">https://developer.android.com/studio/build/multidex.html</a></p>\n<p>You need to install/enable Multidex for your project because if it uses at startup a class not loaded by default it will crash with the error:</p>\n<pre><code>java.lang.RuntimeException: Unable to instantiate application &quot;blablabla&quot;  on path: DexPathList\n</code></pre>\n<p>To fix this on ionic:</p>\n<pre><code>cordova plugin add cordova-plugin-enable-multidex\n</code></pre>\n<p>In <em>config.xml</em> add <strong>androidx.multidex.MultiDexApplication</strong></p>\n<pre><code>    &lt;platform name=&quot;android&quot;&gt;\n        &lt;edit-config file=&quot;app/src/main/AndroidManifest.xml&quot; mode=&quot;merge&quot; target=&quot;/manifest/application&quot;&gt;\n            ...\n            &lt;application android:name=&quot;androidx.multidex.MultiDexApplication&quot; /&gt;\n            ...\n</code></pre>\n<p>then</p>\n<pre><code>ionic cordova platform remove android\nionic cordova platform add android\n</code></pre>\n"}],"owner":{"account_id":3433519,"reputation":425,"user_id":2877183,"display_name":"Fractal Mind"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":566,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656539333,"creation_date":1656433559,"question_id":72790087,"body_markdown":"I want to use Ionic 4 to compile a Android 12 app.\r\n\r\nWhen I compile my ionic v4 project with JDK8 + SDK Level 27.0.3 for Android &lt;= 10 **and it works.**\r\n\r\nBut for Android 12 I need to use SDK level 31.0.0 + JDK 11 + Gradle 7.* **and it crashes**\r\n\r\nAfter the update when I open my app I see the splash screen for half a second then it crashes.\r\n\r\nAfter I `adb shell` &gt; `logcat` I get\r\n\r\n    E AndroidRuntime: FATAL EXCEPTION: main\r\n    E AndroidRuntime: Process: com.myapp, PID: 28761\r\n    E AndroidRuntime: java.lang.RuntimeException: Unable to instantiate application android.hardware.bluetooth package com.myapp: java.lang.ClassNotFoundException: Didn&#39;t find class &quot;android.hardware.bluetooth&quot; on path: DexPathList[[zip file &quot;/data/app/~~8T8KfSjt3r4E8wgw-yQ0KA==/com.myapp-3qG2CR3HTq76WQg0MM5V1Q==/base.apk&quot;],nativeLibraryDirectories=[/data/app/~~8T8KfSjt3r4E8wgw-yQ0KA==/com.myapp-3qG2CR3HTq76WQg0MM5V1Q==/lib/arm64, /data/app/~~8T8KfSjt3r4E8wgw-yQ0KA==/com.myapp-3qG2CR3HTq76WQg0MM5V1Q==/base.apk!/lib/arm64-v8a, /system/lib64, /system/system_ext/lib64]]\r\n    E AndroidRuntime: \tat android.app.LoadedApk.makeApplication(LoadedApk.java:1464)\r\n    E AndroidRuntime: \tat android.app.ActivityThread.handleBindApplication(ActivityThread.java:7458)\r\n    E AndroidRuntime: \tat android.app.ActivityThread.access$1700(ActivityThread.java:310)\r\n    E AndroidRuntime: \tat android.app.ActivityThread$H.handleMessage(ActivityThread.java:2281)\r\n    E AndroidRuntime: \tat android.os.Handler.dispatchMessage(Handler.java:106)\r\n    E AndroidRuntime: \tat android.os.Looper.loopOnce(Looper.java:226)\r\n    E AndroidRuntime: \tat android.os.Looper.loop(Looper.java:313)\r\n    E AndroidRuntime: \tat android.app.ActivityThread.main(ActivityThread.java:8663)\r\n    E AndroidRuntime: \tat java.lang.reflect.Method.invoke(Native Method)\r\n    E AndroidRuntime: \tat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:567)\r\n    E AndroidRuntime: \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1135)\r\n    E AndroidRuntime: Caused by: java.lang.ClassNotFoundException: Didn&#39;t find class &quot;android.hardware.bluetooth&quot; on path: DexPathList[[zip file &quot;/data/app/~~8T8KfSjt3r4E8wgw-yQ0KA==/com.myapp-3qG2CR3HTq76WQg0MM5V1Q==/base.apk&quot;],nativeLibraryDirectories=[/data/app/~~8T8KfSjt3r4E8wgw-yQ0KA==/com.myapp-3qG2CR3HTq76WQg0MM5V1Q==/lib/arm64, /data/app/~~8T8KfSjt3r4E8wgw-yQ0KA==/com.myapp-3qG2CR3HTq76WQg0MM5V1Q==/base.apk!/lib/arm64-v8a, /system/lib64, /system/system_ext/lib64]]\r\n    E AndroidRuntime: \tat dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:218)\r\n    E AndroidRuntime: \tat java.lang.ClassLoader.loadClass(ClassLoader.java:379)\r\n    E AndroidRuntime: \tat java.lang.ClassLoader.loadClass(ClassLoader.java:312)\r\n    E AndroidRuntime: \tat android.app.AppComponentFactory.instantiateApplication(AppComponentFactory.java:76)\r\n    E AndroidRuntime: \tat androidx.core.app.CoreComponentFactory.instantiateApplication(CoreComponentFactory.java:52)\r\n    E AndroidRuntime: \tat android.app.Instrumentation.newApplication(Instrumentation.java:1177)\r\n    E AndroidRuntime: \tat android.app.LoadedApk.makeApplication(LoadedApk.java:1456)\r\n    E AndroidRuntime: \t... 10 more\r\n\r\nI use in *config.xml*\r\n\r\n    &lt;?xml version=&#39;1.0&#39; encoding=&#39;utf-8&#39;?&gt;\r\n    &lt;widget id=&quot;com.myappid&quot; version=&quot;4.4.49&quot; xmlns=&quot;http://www.w3.org/ns/widgets&quot; xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n        &lt;name&gt;My app Title&lt;/name&gt;\r\n        &lt;description&gt;Blablabla&lt;/description&gt;\r\n        &lt;author email=&quot;sales@myapp.com&quot; href=&quot;http://myapp.com/&quot;&gt;MyApp&lt;/author&gt;\r\n        &lt;content src=&quot;index.html&quot; /&gt;\r\n        &lt;access origin=&quot;*&quot; /&gt;\r\n        &lt;allow-navigation href=&quot;*&quot; /&gt;\r\n        &lt;allow-intent href=&quot;http://*/*&quot; /&gt;\r\n        &lt;allow-intent href=&quot;https://*/*&quot; /&gt;\r\n        &lt;allow-intent href=&quot;ws://*/*&quot; /&gt;\r\n        &lt;allow-intent href=&quot;tel:*&quot; /&gt;\r\n        &lt;allow-intent href=&quot;sms:*&quot; /&gt;\r\n        &lt;allow-intent href=&quot;mailto:*&quot; /&gt;\r\n        &lt;allow-intent href=&quot;geo:*&quot; /&gt;\r\n        &lt;preference name=&quot;ScrollEnabled&quot; value=&quot;false&quot; /&gt;\r\n        &lt;preference name=&quot;android-minSdkVersion&quot; value=&quot;28&quot; /&gt;\r\n        &lt;preference name=&quot;android-targetSdkVersion&quot; value=&quot;31&quot; /&gt;\r\n        &lt;preference name=&quot;BackupWebStorage&quot; value=&quot;none&quot; /&gt;\r\n        &lt;preference name=&quot;SplashMaintainAspectRatio&quot; value=&quot;true&quot; /&gt;\r\n        &lt;preference name=&quot;FadeSplashScreenDuration&quot; value=&quot;300&quot; /&gt;\r\n        &lt;preference name=&quot;SplashShowOnlyFirstTime&quot; value=&quot;false&quot; /&gt;\r\n        &lt;preference name=&quot;SplashScreen&quot; value=&quot;screen&quot; /&gt;\r\n        &lt;preference name=&quot;SplashScreenDelay&quot; value=&quot;3000&quot; /&gt;\r\n        &lt;preference name=&quot;loadUrlTimeoutValue&quot; value=&quot;700000&quot; /&gt;\r\n        &lt;platform name=&quot;android&quot;&gt;\r\n            &lt;edit-config file=&quot;app/src/main/AndroidManifest.xml&quot; mode=&quot;merge&quot; target=&quot;/manifest/application&quot;&gt;\r\n                &lt;application android:usesCleartextTraffic=&quot;true&quot; /&gt;\r\n                &lt;application android:requestLegacyExternalStorage=&quot;true&quot; /&gt;\r\n                &lt;activity android:exported=&quot;true&quot; /&gt;\r\n                &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH&quot; /&gt;\r\n                &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_CONNECT&quot; /&gt;\r\n                &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_ADMIN&quot; /&gt;\r\n                &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n                &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\r\n                &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\r\n                &lt;uses-permission android:name=&quot;android.permission.ACCESS_BACKGROUND_LOCATION&quot; /&gt;\r\n                &lt;uses-feature android:name=&quot;android.hardware.bluetooth&quot; android:required=&quot;true&quot; /&gt;\r\n            &lt;/edit-config&gt;\r\n            &lt;resource-file src=&quot;resources/android/xml/network_security_config.xml&quot; target=&quot;app/src/main/res/xml/network_security_config.xml&quot; /&gt;\r\n            &lt;preference name=&quot;SplashMaintainAspectRatio&quot; value=&quot;true&quot; /&gt;\r\n            &lt;preference name=&quot;SplashShowOnlyFirstTime&quot; value=&quot;true&quot; /&gt;\r\n            &lt;preference name=&quot;AndroidPersistentFileLocation&quot; value=&quot;Compatibility&quot; /&gt;\r\n            &lt;preference name=&quot;loadUrlTimeoutValue&quot; value=&quot;700000&quot; /&gt;\r\n            &lt;icon density=&quot;ldpi&quot; src=&quot;resources/android/icon/drawable-ldpi-icon.png&quot; /&gt;\r\n            &lt;icon density=&quot;mdpi&quot; src=&quot;resources/android/icon/drawable-mdpi-icon.png&quot; /&gt;\r\n            &lt;icon density=&quot;hdpi&quot; src=&quot;resources/android/icon/drawable-hdpi-icon.png&quot; /&gt;\r\n            &lt;icon density=&quot;xhdpi&quot; src=&quot;resources/android/icon/drawable-xhdpi-icon.png&quot; /&gt;\r\n            &lt;icon density=&quot;xxhdpi&quot; src=&quot;resources/android/icon/drawable-xxhdpi-icon.png&quot; /&gt;\r\n            &lt;icon density=&quot;xxxhdpi&quot; src=&quot;resources/android/icon/drawable-xxxhdpi-icon.png&quot; /&gt;\r\n        &lt;/platform&gt;\r\n\r\nAnd it translate to my *AndroidManifest.xml*\r\n\r\n    &lt;?xml version=&#39;1.0&#39; encoding=&#39;utf-8&#39;?&gt;\r\n    &lt;manifest android:hardwareAccelerated=&quot;true&quot; android:versionCode=&quot;40449&quot; android:versionName=&quot;4.4.49&quot; package=&quot;com.myapp&quot; xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n        &lt;supports-screens android:anyDensity=&quot;true&quot; android:largeScreens=&quot;true&quot; android:normalScreens=&quot;true&quot; android:resizeable=&quot;true&quot; android:smallScreens=&quot;true&quot; android:xlargeScreens=&quot;true&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n        &lt;application android:exported=&quot;true&quot; android:hardwareAccelerated=&quot;true&quot; android:icon=&quot;@mipmap/ic_launcher&quot; android:label=&quot;@string/app_name&quot; android:name=&quot;android.hardware.bluetooth&quot; android:requestLegacyExternalStorage=&quot;true&quot; android:required=&quot;true&quot; android:supportsRtl=&quot;true&quot; android:usesCleartextTraffic=&quot;true&quot;&gt;\r\n            &lt;activity android:configChanges=&quot;orientation|keyboardHidden|keyboard|screenSize|locale|smallestScreenSize|screenLayout|uiMode&quot; android:exported=&quot;true&quot; android:label=&quot;@string/activity_name&quot; android:launchMode=&quot;singleTop&quot; android:name=&quot;MainActivity&quot; android:theme=&quot;@style/Theme.AppCompat.NoActionBar&quot; android:windowSoftInputMode=&quot;adjustResize&quot;&gt;\r\n                &lt;intent-filter android:label=&quot;@string/launcher_name&quot;&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n            &lt;provider android:authorities=&quot;${applicationId}.cordova.plugin.camera.provider&quot; android:exported=&quot;false&quot; android:grantUriPermissions=&quot;true&quot; android:name=&quot;org.apache.cordova.camera.FileProvider&quot;&gt;\r\n                &lt;meta-data android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot; android:resource=&quot;@xml/camera_provider_paths&quot; /&gt;\r\n            &lt;/provider&gt;\r\n            &lt;activity android:clearTaskOnLaunch=&quot;true&quot; android:configChanges=&quot;orientation|keyboardHidden|screenSize&quot; android:exported=&quot;false&quot; android:name=&quot;com.google.zxing.client.android.CaptureActivity&quot; android:theme=&quot;@android:style/Theme.NoTitleBar.Fullscreen&quot; android:windowSoftInputMode=&quot;stateAlwaysHidden&quot; /&gt;\r\n            &lt;activity android:label=&quot;Share&quot; android:name=&quot;com.google.zxing.client.android.encode.EncodeActivity&quot; /&gt;\r\n        &lt;/application&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_ADMIN&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n        &lt;queries&gt;\r\n            &lt;intent&gt;\r\n                &lt;action android:name=&quot;android.media.action.IMAGE_CAPTURE&quot; /&gt;\r\n            &lt;/intent&gt;\r\n            &lt;intent&gt;\r\n                &lt;action android:name=&quot;android.intent.action.GET_CONTENT&quot; /&gt;\r\n            &lt;/intent&gt;\r\n            &lt;intent&gt;\r\n                &lt;action android:name=&quot;android.intent.action.PICK&quot; /&gt;\r\n            &lt;/intent&gt;\r\n            &lt;intent&gt;\r\n                &lt;action android:name=&quot;com.android.camera.action.CROP&quot; /&gt;\r\n                &lt;data android:mimeType=&quot;image/*&quot; android:scheme=&quot;content&quot; /&gt;\r\n            &lt;/intent&gt;\r\n        &lt;/queries&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.FLASHLIGHT&quot; /&gt;\r\n        &lt;uses-feature android:name=&quot;android.hardware.camera&quot; android:required=&quot;true&quot; /&gt;\r\n    &lt;/manifest&gt;\r\n\r\n**As you can see I think I have all the right permission for bluetooth but why on earth it crash on Android 12!?**","title":"java.lang.RuntimeException: Unable to instantiate application android.hardware.bluetooth on path: DexPathList","body":"<p>I want to use Ionic 4 to compile a Android 12 app.</p>\n<p>When I compile my ionic v4 project with JDK8 + SDK Level 27.0.3 for Android &lt;= 10 <strong>and it works.</strong></p>\n<p>But for Android 12 I need to use SDK level 31.0.0 + JDK 11 + Gradle 7.* <strong>and it crashes</strong></p>\n<p>After the update when I open my app I see the splash screen for half a second then it crashes.</p>\n<p>After I <code>adb shell</code> &gt; <code>logcat</code> I get</p>\n<pre><code>E AndroidRuntime: FATAL EXCEPTION: main\nE AndroidRuntime: Process: com.myapp, PID: 28761\nE AndroidRuntime: java.lang.RuntimeException: Unable to instantiate application android.hardware.bluetooth package com.myapp: java.lang.ClassNotFoundException: Didn't find class &quot;android.hardware.bluetooth&quot; on path: DexPathList[[zip file &quot;/data/app/~~8T8KfSjt3r4E8wgw-yQ0KA==/com.myapp-3qG2CR3HTq76WQg0MM5V1Q==/base.apk&quot;],nativeLibraryDirectories=[/data/app/~~8T8KfSjt3r4E8wgw-yQ0KA==/com.myapp-3qG2CR3HTq76WQg0MM5V1Q==/lib/arm64, /data/app/~~8T8KfSjt3r4E8wgw-yQ0KA==/com.myapp-3qG2CR3HTq76WQg0MM5V1Q==/base.apk!/lib/arm64-v8a, /system/lib64, /system/system_ext/lib64]]\nE AndroidRuntime:   at android.app.LoadedApk.makeApplication(LoadedApk.java:1464)\nE AndroidRuntime:   at android.app.ActivityThread.handleBindApplication(ActivityThread.java:7458)\nE AndroidRuntime:   at android.app.ActivityThread.access$1700(ActivityThread.java:310)\nE AndroidRuntime:   at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2281)\nE AndroidRuntime:   at android.os.Handler.dispatchMessage(Handler.java:106)\nE AndroidRuntime:   at android.os.Looper.loopOnce(Looper.java:226)\nE AndroidRuntime:   at android.os.Looper.loop(Looper.java:313)\nE AndroidRuntime:   at android.app.ActivityThread.main(ActivityThread.java:8663)\nE AndroidRuntime:   at java.lang.reflect.Method.invoke(Native Method)\nE AndroidRuntime:   at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:567)\nE AndroidRuntime:   at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1135)\nE AndroidRuntime: Caused by: java.lang.ClassNotFoundException: Didn't find class &quot;android.hardware.bluetooth&quot; on path: DexPathList[[zip file &quot;/data/app/~~8T8KfSjt3r4E8wgw-yQ0KA==/com.myapp-3qG2CR3HTq76WQg0MM5V1Q==/base.apk&quot;],nativeLibraryDirectories=[/data/app/~~8T8KfSjt3r4E8wgw-yQ0KA==/com.myapp-3qG2CR3HTq76WQg0MM5V1Q==/lib/arm64, /data/app/~~8T8KfSjt3r4E8wgw-yQ0KA==/com.myapp-3qG2CR3HTq76WQg0MM5V1Q==/base.apk!/lib/arm64-v8a, /system/lib64, /system/system_ext/lib64]]\nE AndroidRuntime:   at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:218)\nE AndroidRuntime:   at java.lang.ClassLoader.loadClass(ClassLoader.java:379)\nE AndroidRuntime:   at java.lang.ClassLoader.loadClass(ClassLoader.java:312)\nE AndroidRuntime:   at android.app.AppComponentFactory.instantiateApplication(AppComponentFactory.java:76)\nE AndroidRuntime:   at androidx.core.app.CoreComponentFactory.instantiateApplication(CoreComponentFactory.java:52)\nE AndroidRuntime:   at android.app.Instrumentation.newApplication(Instrumentation.java:1177)\nE AndroidRuntime:   at android.app.LoadedApk.makeApplication(LoadedApk.java:1456)\nE AndroidRuntime:   ... 10 more\n</code></pre>\n<p>I use in <em>config.xml</em></p>\n<pre><code>&lt;?xml version='1.0' encoding='utf-8'?&gt;\n&lt;widget id=&quot;com.myappid&quot; version=&quot;4.4.49&quot; xmlns=&quot;http://www.w3.org/ns/widgets&quot; xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n    &lt;name&gt;My app Title&lt;/name&gt;\n    &lt;description&gt;Blablabla&lt;/description&gt;\n    &lt;author email=&quot;sales@myapp.com&quot; href=&quot;http://myapp.com/&quot;&gt;MyApp&lt;/author&gt;\n    &lt;content src=&quot;index.html&quot; /&gt;\n    &lt;access origin=&quot;*&quot; /&gt;\n    &lt;allow-navigation href=&quot;*&quot; /&gt;\n    &lt;allow-intent href=&quot;http://*/*&quot; /&gt;\n    &lt;allow-intent href=&quot;https://*/*&quot; /&gt;\n    &lt;allow-intent href=&quot;ws://*/*&quot; /&gt;\n    &lt;allow-intent href=&quot;tel:*&quot; /&gt;\n    &lt;allow-intent href=&quot;sms:*&quot; /&gt;\n    &lt;allow-intent href=&quot;mailto:*&quot; /&gt;\n    &lt;allow-intent href=&quot;geo:*&quot; /&gt;\n    &lt;preference name=&quot;ScrollEnabled&quot; value=&quot;false&quot; /&gt;\n    &lt;preference name=&quot;android-minSdkVersion&quot; value=&quot;28&quot; /&gt;\n    &lt;preference name=&quot;android-targetSdkVersion&quot; value=&quot;31&quot; /&gt;\n    &lt;preference name=&quot;BackupWebStorage&quot; value=&quot;none&quot; /&gt;\n    &lt;preference name=&quot;SplashMaintainAspectRatio&quot; value=&quot;true&quot; /&gt;\n    &lt;preference name=&quot;FadeSplashScreenDuration&quot; value=&quot;300&quot; /&gt;\n    &lt;preference name=&quot;SplashShowOnlyFirstTime&quot; value=&quot;false&quot; /&gt;\n    &lt;preference name=&quot;SplashScreen&quot; value=&quot;screen&quot; /&gt;\n    &lt;preference name=&quot;SplashScreenDelay&quot; value=&quot;3000&quot; /&gt;\n    &lt;preference name=&quot;loadUrlTimeoutValue&quot; value=&quot;700000&quot; /&gt;\n    &lt;platform name=&quot;android&quot;&gt;\n        &lt;edit-config file=&quot;app/src/main/AndroidManifest.xml&quot; mode=&quot;merge&quot; target=&quot;/manifest/application&quot;&gt;\n            &lt;application android:usesCleartextTraffic=&quot;true&quot; /&gt;\n            &lt;application android:requestLegacyExternalStorage=&quot;true&quot; /&gt;\n            &lt;activity android:exported=&quot;true&quot; /&gt;\n            &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH&quot; /&gt;\n            &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_CONNECT&quot; /&gt;\n            &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_ADMIN&quot; /&gt;\n            &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n            &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\n            &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\n            &lt;uses-permission android:name=&quot;android.permission.ACCESS_BACKGROUND_LOCATION&quot; /&gt;\n            &lt;uses-feature android:name=&quot;android.hardware.bluetooth&quot; android:required=&quot;true&quot; /&gt;\n        &lt;/edit-config&gt;\n        &lt;resource-file src=&quot;resources/android/xml/network_security_config.xml&quot; target=&quot;app/src/main/res/xml/network_security_config.xml&quot; /&gt;\n        &lt;preference name=&quot;SplashMaintainAspectRatio&quot; value=&quot;true&quot; /&gt;\n        &lt;preference name=&quot;SplashShowOnlyFirstTime&quot; value=&quot;true&quot; /&gt;\n        &lt;preference name=&quot;AndroidPersistentFileLocation&quot; value=&quot;Compatibility&quot; /&gt;\n        &lt;preference name=&quot;loadUrlTimeoutValue&quot; value=&quot;700000&quot; /&gt;\n        &lt;icon density=&quot;ldpi&quot; src=&quot;resources/android/icon/drawable-ldpi-icon.png&quot; /&gt;\n        &lt;icon density=&quot;mdpi&quot; src=&quot;resources/android/icon/drawable-mdpi-icon.png&quot; /&gt;\n        &lt;icon density=&quot;hdpi&quot; src=&quot;resources/android/icon/drawable-hdpi-icon.png&quot; /&gt;\n        &lt;icon density=&quot;xhdpi&quot; src=&quot;resources/android/icon/drawable-xhdpi-icon.png&quot; /&gt;\n        &lt;icon density=&quot;xxhdpi&quot; src=&quot;resources/android/icon/drawable-xxhdpi-icon.png&quot; /&gt;\n        &lt;icon density=&quot;xxxhdpi&quot; src=&quot;resources/android/icon/drawable-xxxhdpi-icon.png&quot; /&gt;\n    &lt;/platform&gt;\n</code></pre>\n<p>And it translate to my <em>AndroidManifest.xml</em></p>\n<pre><code>&lt;?xml version='1.0' encoding='utf-8'?&gt;\n&lt;manifest android:hardwareAccelerated=&quot;true&quot; android:versionCode=&quot;40449&quot; android:versionName=&quot;4.4.49&quot; package=&quot;com.myapp&quot; xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n    &lt;supports-screens android:anyDensity=&quot;true&quot; android:largeScreens=&quot;true&quot; android:normalScreens=&quot;true&quot; android:resizeable=&quot;true&quot; android:smallScreens=&quot;true&quot; android:xlargeScreens=&quot;true&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n    &lt;application android:exported=&quot;true&quot; android:hardwareAccelerated=&quot;true&quot; android:icon=&quot;@mipmap/ic_launcher&quot; android:label=&quot;@string/app_name&quot; android:name=&quot;android.hardware.bluetooth&quot; android:requestLegacyExternalStorage=&quot;true&quot; android:required=&quot;true&quot; android:supportsRtl=&quot;true&quot; android:usesCleartextTraffic=&quot;true&quot;&gt;\n        &lt;activity android:configChanges=&quot;orientation|keyboardHidden|keyboard|screenSize|locale|smallestScreenSize|screenLayout|uiMode&quot; android:exported=&quot;true&quot; android:label=&quot;@string/activity_name&quot; android:launchMode=&quot;singleTop&quot; android:name=&quot;MainActivity&quot; android:theme=&quot;@style/Theme.AppCompat.NoActionBar&quot; android:windowSoftInputMode=&quot;adjustResize&quot;&gt;\n            &lt;intent-filter android:label=&quot;@string/launcher_name&quot;&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n        &lt;provider android:authorities=&quot;${applicationId}.cordova.plugin.camera.provider&quot; android:exported=&quot;false&quot; android:grantUriPermissions=&quot;true&quot; android:name=&quot;org.apache.cordova.camera.FileProvider&quot;&gt;\n            &lt;meta-data android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot; android:resource=&quot;@xml/camera_provider_paths&quot; /&gt;\n        &lt;/provider&gt;\n        &lt;activity android:clearTaskOnLaunch=&quot;true&quot; android:configChanges=&quot;orientation|keyboardHidden|screenSize&quot; android:exported=&quot;false&quot; android:name=&quot;com.google.zxing.client.android.CaptureActivity&quot; android:theme=&quot;@android:style/Theme.NoTitleBar.Fullscreen&quot; android:windowSoftInputMode=&quot;stateAlwaysHidden&quot; /&gt;\n        &lt;activity android:label=&quot;Share&quot; android:name=&quot;com.google.zxing.client.android.encode.EncodeActivity&quot; /&gt;\n    &lt;/application&gt;\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_ADMIN&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n    &lt;queries&gt;\n        &lt;intent&gt;\n            &lt;action android:name=&quot;android.media.action.IMAGE_CAPTURE&quot; /&gt;\n        &lt;/intent&gt;\n        &lt;intent&gt;\n            &lt;action android:name=&quot;android.intent.action.GET_CONTENT&quot; /&gt;\n        &lt;/intent&gt;\n        &lt;intent&gt;\n            &lt;action android:name=&quot;android.intent.action.PICK&quot; /&gt;\n        &lt;/intent&gt;\n        &lt;intent&gt;\n            &lt;action android:name=&quot;com.android.camera.action.CROP&quot; /&gt;\n            &lt;data android:mimeType=&quot;image/*&quot; android:scheme=&quot;content&quot; /&gt;\n        &lt;/intent&gt;\n    &lt;/queries&gt;\n    &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.FLASHLIGHT&quot; /&gt;\n    &lt;uses-feature android:name=&quot;android.hardware.camera&quot; android:required=&quot;true&quot; /&gt;\n&lt;/manifest&gt;\n</code></pre>\n<p><strong>As you can see I think I have all the right permission for bluetooth but why on earth it crash on Android 12!?</strong></p>\n"},{"tags":["java","android","android-fragments","navigation-drawer","android-tabbed-activity"],"answers":[{"tags":[],"owner":{"account_id":2874699,"reputation":678,"user_id":2467112,"display_name":"YMY"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1566898085,"creation_date":1566898085,"answer_id":57671604,"question_id":57671322,"body_markdown":"First of all, I think you should use childFragmentManager instead of supportFragmentManager.\r\n\r\n    SectionsPagerAdapter sectionsPagerAdapter = new SectionsPagerAdapter(context, getChildFragmentManager());\r\n\r\n","title":"Empty tab when parent is not an activity but a fragment","body":"<p>First of all, I think you should use childFragmentManager instead of supportFragmentManager.</p>\n\n<pre><code>SectionsPagerAdapter sectionsPagerAdapter = new SectionsPagerAdapter(context, getChildFragmentManager());\n</code></pre>\n"}],"owner":{"account_id":16582321,"reputation":13,"user_id":11982614,"display_name":"androi_peter"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":57671604,"answer_count":1,"score":1,"last_activity_date":1656538562,"creation_date":1566897192,"question_id":57671322,"body_markdown":"I&#39;ve got a running Android App with a Navigation Drawer Activity. For every menu item, I wanted to implement a separate Fragment, so I can use the same toolbar and drawer menu. Now one of this Fragments should contain a view with 3 Tabs (3 Fragments with Recyclerviews in them). I created a Tabbed Activity and migrated the code in a new Fragment. \r\nWhen I click on the menuitem with the Tab-Fragment for the first time, it works perfectly fine. But when i browse through the menu and then open the Tab-Fragment again, it shows the 3 Tabs but there&#39;s nothing in them. Now when I click on the third Tab, the data is shown. And when I switch back to the first Tab, the Data is back, too. Only the middle Tab stays empty.\r\n\r\nI tried this method on a completely new and empty project, only with a navigation drawer activity and an tabbed activity, where I also migrated the code to a fragment. I only used the code which Android-Studio (3.4.2) generated. In these tabs are only textviews, but there&#39;s still the same issue.\r\n\r\nTab-Fragment (migrated code from a generated Tabbed Activity):\r\n```\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n\r\n        v = inflater.inflate(R.layout.activity_tab, container, false);\r\n\r\n        context = getActivity().getApplicationContext();\r\n\r\n        SectionsPagerAdapter sectionsPagerAdapter = new SectionsPagerAdapter(context, getActivity().getSupportFragmentManager());\r\n        ViewPager viewPager = v.findViewById(R.id.view_pager);\r\n        viewPager.setAdapter(sectionsPagerAdapter);\r\n        TabLayout tabs = v.findViewById(R.id.tabs);\r\n        tabs.setupWithViewPager(viewPager);\r\n\r\n        return v;\r\n    }\r\n```\r\nGenerated SectionsPagerAdapter:\r\n```\r\npublic class SectionsPagerAdapter extends FragmentPagerAdapter {\r\n\r\n    @StringRes\r\n    private static final int[] TAB_TITLES = new int[]{R.string.tab_text_1, R.string.tab_text_2};\r\n    private final Context mContext;\r\n\r\n    public SectionsPagerAdapter(Context context, FragmentManager fm) {\r\n        super(fm);\r\n        mContext = context;\r\n    }\r\n\r\n    @Override\r\n    public Fragment getItem(int position) {\r\n        // getItem is called to instantiate the fragment for the given page.\r\n        // Return a PlaceholderFragment (defined as a static inner class below).\r\n        return PlaceholderFragment.newInstance(position + 1);\r\n    }\r\n\r\n    @Nullable\r\n    @Override\r\n    public CharSequence getPageTitle(int position) {\r\n        return &quot;Some Title&quot;;\r\n    }\r\n\r\n    @Override\r\n    public int getCount() {\r\n        // Show 3 total pages.\r\n        return 3;\r\n    }\r\n}\r\n```\r\nI only changed the amount of Tabs in &quot;getCount&quot; and the returned String in &quot;getPageTitle&quot;\r\n\r\nI handle the menu item clicks in my Navigation Drawer Activity (Main) with the NavigationItemSelectedListener and change the Fragment like this:\r\n```\r\ngetSupportFragmentManager().beginTransaction().replace(R.id.content, new TabFragment()).commit();\r\n```\r\n\r\nThe &quot;activity_tab&quot; layout looks like this:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;android.support.design.widget.CoordinatorLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n    &lt;android.support.design.widget.AppBarLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:theme=&quot;@style/AppTheme.AppBarOverlay&quot;&gt;\r\n\r\n        &lt;android.support.design.widget.TabLayout\r\n            android:id=&quot;@+id/tabs&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:background=&quot;?attr/colorPrimary&quot; /&gt;\r\n    &lt;/android.support.design.widget.AppBarLayout&gt;\r\n\r\n    &lt;android.support.v4.view.ViewPager\r\n        android:id=&quot;@+id/view_pager&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        app:layout_behavior=&quot;@string/appbar_scrolling_view_behavior&quot; /&gt;\r\n    \r\n&lt;/android.support.design.widget.CoordinatorLayout&gt;\r\n```\r\n\r\nIs there a possibility to stay with Fragments on menu item clicks or do I have to use a Tabbed Activity?","title":"Empty tab when parent is not an activity but a fragment","body":"<p>I've got a running Android App with a Navigation Drawer Activity. For every menu item, I wanted to implement a separate Fragment, so I can use the same toolbar and drawer menu. Now one of this Fragments should contain a view with 3 Tabs (3 Fragments with Recyclerviews in them). I created a Tabbed Activity and migrated the code in a new Fragment.\nWhen I click on the menuitem with the Tab-Fragment for the first time, it works perfectly fine. But when i browse through the menu and then open the Tab-Fragment again, it shows the 3 Tabs but there's nothing in them. Now when I click on the third Tab, the data is shown. And when I switch back to the first Tab, the Data is back, too. Only the middle Tab stays empty.</p>\n<p>I tried this method on a completely new and empty project, only with a navigation drawer activity and an tabbed activity, where I also migrated the code to a fragment. I only used the code which Android-Studio (3.4.2) generated. In these tabs are only textviews, but there's still the same issue.</p>\n<p>Tab-Fragment (migrated code from a generated Tabbed Activity):</p>\n<pre><code>    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n\n        v = inflater.inflate(R.layout.activity_tab, container, false);\n\n        context = getActivity().getApplicationContext();\n\n        SectionsPagerAdapter sectionsPagerAdapter = new SectionsPagerAdapter(context, getActivity().getSupportFragmentManager());\n        ViewPager viewPager = v.findViewById(R.id.view_pager);\n        viewPager.setAdapter(sectionsPagerAdapter);\n        TabLayout tabs = v.findViewById(R.id.tabs);\n        tabs.setupWithViewPager(viewPager);\n\n        return v;\n    }\n</code></pre>\n<p>Generated SectionsPagerAdapter:</p>\n<pre><code>public class SectionsPagerAdapter extends FragmentPagerAdapter {\n\n    @StringRes\n    private static final int[] TAB_TITLES = new int[]{R.string.tab_text_1, R.string.tab_text_2};\n    private final Context mContext;\n\n    public SectionsPagerAdapter(Context context, FragmentManager fm) {\n        super(fm);\n        mContext = context;\n    }\n\n    @Override\n    public Fragment getItem(int position) {\n        // getItem is called to instantiate the fragment for the given page.\n        // Return a PlaceholderFragment (defined as a static inner class below).\n        return PlaceholderFragment.newInstance(position + 1);\n    }\n\n    @Nullable\n    @Override\n    public CharSequence getPageTitle(int position) {\n        return &quot;Some Title&quot;;\n    }\n\n    @Override\n    public int getCount() {\n        // Show 3 total pages.\n        return 3;\n    }\n}\n</code></pre>\n<p>I only changed the amount of Tabs in &quot;getCount&quot; and the returned String in &quot;getPageTitle&quot;</p>\n<p>I handle the menu item clicks in my Navigation Drawer Activity (Main) with the NavigationItemSelectedListener and change the Fragment like this:</p>\n<pre><code>getSupportFragmentManager().beginTransaction().replace(R.id.content, new TabFragment()).commit();\n</code></pre>\n<p>The &quot;activity_tab&quot; layout looks like this:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;android.support.design.widget.CoordinatorLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;android.support.design.widget.AppBarLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:theme=&quot;@style/AppTheme.AppBarOverlay&quot;&gt;\n\n        &lt;android.support.design.widget.TabLayout\n            android:id=&quot;@+id/tabs&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:background=&quot;?attr/colorPrimary&quot; /&gt;\n    &lt;/android.support.design.widget.AppBarLayout&gt;\n\n    &lt;android.support.v4.view.ViewPager\n        android:id=&quot;@+id/view_pager&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        app:layout_behavior=&quot;@string/appbar_scrolling_view_behavior&quot; /&gt;\n    \n&lt;/android.support.design.widget.CoordinatorLayout&gt;\n</code></pre>\n<p>Is there a possibility to stay with Fragments on menu item clicks or do I have to use a Tabbed Activity?</p>\n"},{"tags":["java","android","delphi"],"comments":[{"owner":{"account_id":3814324,"reputation":3408,"user_id":3164070,"accept_rate":60,"display_name":"Dave Nottage"},"score":2,"creation_date":1656534140,"post_id":72807321,"comment_id":128599559,"body_markdown":"There was a change in Android 12 to the Location class. This issue has been resolved in Delphi 11.1","body":"There was a change in Android 12 to the Location class. This issue has been resolved in Delphi 11.1"},{"owner":{"account_id":18723145,"reputation":300,"user_id":13650492,"display_name":"Bart Kindt"},"score":2,"creation_date":1656548553,"post_id":72807321,"comment_id":128602777,"body_markdown":"I had no idea there was any update from 11.0. I do not get notified, and the GetIt package manager claims I am up-to-date... Downloading it now, plus the Patch... Thanks Dave.","body":"I had no idea there was any update from 11.0. I do not get notified, and the GetIt package manager claims I am up-to-date... Downloading it now, plus the Patch... Thanks Dave."},{"owner":{"account_id":18723145,"reputation":300,"user_id":13650492,"display_name":"Bart Kindt"},"score":0,"creation_date":1656614323,"post_id":72807321,"comment_id":128622244,"body_markdown":"After upgrading to 11.1, my Service crashed. Managed to fix this. Now, I get a: com.embarcadero.rtl.NativeDispatchException: Invoke error: method &#39;onLocationChanged(Ljava/util/List;)V&#39; not found\n07-01 06:31:51.139: E/AndroidRuntime(2581): \tat com.embarcadero.services.SARTrackServiceProxyInterface.dispatchToNative2(Native Method)","body":"After upgrading to 11.1, my Service crashed. Managed to fix this. Now, I get a: com.embarcadero.rtl.NativeDispatchException: Invoke error: method &#39;onLocationChanged(Ljava/util/List;)V&#39; not found 07-01 06:31:51.139: E/AndroidRuntime(2581): \tat com.embarcadero.services.SARTrackServiceProxyInterface.dispa&zwnj;&#8203;tchToNative2(Native Method)"},{"owner":{"account_id":3485756,"reputation":2215,"user_id":2916756,"accept_rate":70,"display_name":"Freddie Bell"},"score":0,"creation_date":1702201773,"post_id":72807321,"comment_id":136865770,"body_markdown":"See updates at (https://quality.embarcadero.com/browse/RSP-39566)","body":"See updates at (<a href=\"https://quality.embarcadero.com/browse/RSP-39566\" rel=\"nofollow noreferrer\">quality.embarcadero.com/browse/RSP-39566</a>)"}],"owner":{"account_id":18723145,"reputation":300,"user_id":13650492,"display_name":"Bart Kindt"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":247,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1656538509,"creation_date":1656533690,"question_id":72807321,"body_markdown":"In Android 12, my Android app (written in Delphi) can no longer access the `Jlocation` after this is supplied by `onLocationChanged`. It works fine in earlier versions.\r\n\r\nThe location system is running from a Foreground Service, which is started by the main App. `ACCESS_BACKGROUND_LOCATION` has been set. User &quot;Location Allow All The Time&quot; has been set. \r\n\r\nIt works perfectly normal in Android 10.\r\n\r\nThe Foreground Service *crashes* with this error:\r\n\r\n```none\r\njava_vm_ext.cc:579] JNI DETECTED ERROR IN APPLICATION: can&#39;t call double android.location.Location.getLatitude() on instance of java.util.ArrayList\r\n06-30 06:54:13.222: A/ack.SARTrackAp(4421): java_vm_ext.cc:579]     in call to CallDoubleMethodA\r\n06-30 06:54:13.222: A/ack.SARTrackAp(4421): java_vm_ext.cc:579]     from java.lang.Object com.embarcadero.services.SARTrackServiceProxyInterface.dispatchToNative(java.lang.String, java.lang.Object[], long)\r\n06-30 06:54:13.626: A/ack.SARTrackAp(4421): runtime.cc:669] Runtime aborting...\r\n```\r\n\r\nIn fact, *any* call to the `JLocation` causes a crash. But, the `onLocationChanged` is generated by Android itself, so how can the supplied `JLocation` be invalid?\r\n\r\nFor example:\r\n\r\n```delphi\r\nprocedure TLocationListener.onLocationChanged(location: JLocation);\r\nvar\r\n  Accuracy: double;\r\nbegin\r\n  if location.hasAccuracy then // &lt;&lt;&lt; It crashes the Service here already\r\n  begin\r\n    LocalLog(&#39;onLocationChanged: hasAccuracy&#39;);\r\n    Accuracy := location.getAccuracy;\r\n    LocalLog(&#39;onLocationChanged: Accuracy=&#39;+Accuracy.ToString);\r\n  end else LocalLog(&#39;onLocationChanged: NOT hasAccuracy&#39;);\r\nend;\r\n```","title":"Android 12: on LocationChanged has invalid location?","body":"<p>In Android 12, my Android app (written in Delphi) can no longer access the <code>Jlocation</code> after this is supplied by <code>onLocationChanged</code>. It works fine in earlier versions.</p>\n<p>The location system is running from a Foreground Service, which is started by the main App. <code>ACCESS_BACKGROUND_LOCATION</code> has been set. User &quot;Location Allow All The Time&quot; has been set.</p>\n<p>It works perfectly normal in Android 10.</p>\n<p>The Foreground Service <em>crashes</em> with this error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>java_vm_ext.cc:579] JNI DETECTED ERROR IN APPLICATION: can't call double android.location.Location.getLatitude() on instance of java.util.ArrayList\n06-30 06:54:13.222: A/ack.SARTrackAp(4421): java_vm_ext.cc:579]     in call to CallDoubleMethodA\n06-30 06:54:13.222: A/ack.SARTrackAp(4421): java_vm_ext.cc:579]     from java.lang.Object com.embarcadero.services.SARTrackServiceProxyInterface.dispatchToNative(java.lang.String, java.lang.Object[], long)\n06-30 06:54:13.626: A/ack.SARTrackAp(4421): runtime.cc:669] Runtime aborting...\n</code></pre>\n<p>In fact, <em>any</em> call to the <code>JLocation</code> causes a crash. But, the <code>onLocationChanged</code> is generated by Android itself, so how can the supplied <code>JLocation</code> be invalid?</p>\n<p>For example:</p>\n<pre class=\"lang-pascal prettyprint-override\"><code>procedure TLocationListener.onLocationChanged(location: JLocation);\nvar\n  Accuracy: double;\nbegin\n  if location.hasAccuracy then // &lt;&lt;&lt; It crashes the Service here already\n  begin\n    LocalLog('onLocationChanged: hasAccuracy');\n    Accuracy := location.getAccuracy;\n    LocalLog('onLocationChanged: Accuracy='+Accuracy.ToString);\n  end else LocalLog('onLocationChanged: NOT hasAccuracy');\nend;\n</code></pre>\n"},{"tags":["java","eclipse","collections"],"comments":[{"owner":{"account_id":20852673,"reputation":315,"user_id":15316832,"display_name":"Rabbitminers"},"score":0,"creation_date":1615307164,"post_id":66550706,"comment_id":117648006,"body_markdown":"Does this help? https://stackoverflow.com/questions/25609538/how-to-fix-collectiontype-import-issues-in-eclipse","body":"Does this help? <a href=\"https://stackoverflow.com/questions/25609538/how-to-fix-collectiontype-import-issues-in-eclipse\" title=\"how to fix collectiontype import issues in eclipse\">stackoverflow.com/questions/25609538/&hellip;</a>"},{"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"score":0,"creation_date":1615307685,"post_id":66550706,"comment_id":117648266,"body_markdown":"Are you using a jdk with version prior to 7?","body":"Are you using a jdk with version prior to 7?"},{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1615316189,"post_id":66550706,"comment_id":117652020,"body_markdown":"Is your project still pointing to a valid Java Runtime?","body":"Is your project still pointing to a valid Java Runtime?"},{"owner":{"account_id":17717005,"reputation":626,"user_id":12863076,"display_name":"Siddhant"},"score":0,"creation_date":1615352144,"post_id":66550706,"comment_id":117661409,"body_markdown":"could you please post your code here","body":"could you please post your code here"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1615377447,"post_id":66550706,"comment_id":117670483,"body_markdown":"It would be helpful to include the Eclipse version and the Java version. Perhaps, the Eclipse version is too old for the used Java version and fails to process some of the class files.","body":"It would be helpful to include the Eclipse version and the Java version. Perhaps, the Eclipse version is too old for the used Java version and fails to process some of the class files."}],"answers":[{"tags":[],"owner":{"account_id":17474859,"reputation":2389,"user_id":12669945,"display_name":"Atmas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1615307472,"creation_date":1615307472,"answer_id":66550928,"question_id":66550706,"body_markdown":"Ensure you are not somehow referencing or implicitly using a Java Runtime that&#39;s older than Collections allow.","title":"Eclipse Import - java Collections can not be resolved error","body":"<p>Ensure you are not somehow referencing or implicitly using a Java Runtime that's older than Collections allow.</p>\n"},{"tags":[],"owner":{"display_name":"user14972917"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1631349787,"creation_date":1631349787,"answer_id":69141407,"question_id":66550706,"body_markdown":"For me the &quot;solution&quot; was to add an &quot;additional&quot; JRE (Window &gt; Preferences &gt; Java &gt; Installed JREs &gt; Add) in Eclipse (version 2021-06, 4.20.0) and switch to that.\r\n\r\nIn Linux you can just add e.g. `/usr/lib/jvm/java-11-openjdk-amd64` and additionally `/usr/lib/jvm/java-1.11.0-openjdk-amd64`.\r\n\r\nSwitching back to the JRE where Eclipse showed the errors was also fine. The error message stayed away.","title":"Eclipse Import - java Collections can not be resolved error","body":"<p>For me the &quot;solution&quot; was to add an &quot;additional&quot; JRE (Window &gt; Preferences &gt; Java &gt; Installed JREs &gt; Add) in Eclipse (version 2021-06, 4.20.0) and switch to that.</p>\n<p>In Linux you can just add e.g. <code>/usr/lib/jvm/java-11-openjdk-amd64</code> and additionally <code>/usr/lib/jvm/java-1.11.0-openjdk-amd64</code>.</p>\n<p>Switching back to the JRE where Eclipse showed the errors was also fine. The error message stayed away.</p>\n"},{"tags":[],"owner":{"account_id":25684987,"reputation":1,"user_id":19447215,"display_name":"Viktor Puglejev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656536816,"creation_date":1656536816,"answer_id":72807883,"question_id":66550706,"body_markdown":"Delete all imports that you have and press CTRl+Shift+O\r\nIt will re-import everything you need\r\nSolved the same issue for me","title":"Eclipse Import - java Collections can not be resolved error","body":"<p>Delete all imports that you have and press CTRl+Shift+O\nIt will re-import everything you need\nSolved the same issue for me</p>\n"}],"owner":{"account_id":16869453,"reputation":33,"user_id":12198289,"display_name":"karen66"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3426,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1656536816,"creation_date":1615306689,"question_id":66550706,"body_markdown":"Error happens in the code below. \r\n\r\n```Arrays.sort(a, Collections.reverseOrder());```\r\n\r\nIt says &quot;Collections can not be resolved.&quot;\r\n\r\nAttempts to solve: \r\n\r\n(1) Added the import at the top, but it still says &quot;import java.util.Collections can not be resolved.&quot; \r\n\r\n```import java.util.Collections;``` \r\n\r\n(2) Collection import works fine though \r\n\r\n```import java.util.Collection;``` \r\n\r\nAny help will be appreciated. \r\n\r\n","title":"Eclipse Import - java Collections can not be resolved error","body":"<p>Error happens in the code below.</p>\n<p><code>Arrays.sort(a, Collections.reverseOrder());</code></p>\n<p>It says &quot;Collections can not be resolved.&quot;</p>\n<p>Attempts to solve:</p>\n<p>(1) Added the import at the top, but it still says &quot;import java.util.Collections can not be resolved.&quot;</p>\n<p><code>import java.util.Collections;</code></p>\n<p>(2) Collection import works fine though</p>\n<p><code>import java.util.Collection;</code></p>\n<p>Any help will be appreciated.</p>\n"},{"tags":["java","api","automation","backend","rest-assured"],"comments":[{"owner":{"account_id":6454500,"reputation":86,"user_id":5000401,"display_name":"ankit MISHRA"},"score":0,"creation_date":1553601711,"post_id":49843435,"comment_id":97436851,"body_markdown":"Did you find the solution for this?","body":"Did you find the solution for this?"},{"owner":{"account_id":8534957,"reputation":1493,"user_id":6397151,"accept_rate":70,"display_name":"Osanda Deshan"},"score":0,"creation_date":1553662751,"post_id":49843435,"comment_id":97462895,"body_markdown":"@ankitMISHRA Please check my answer below.","body":"@ankitMISHRA Please check my answer below."}],"answers":[{"tags":[],"owner":{"account_id":13368448,"reputation":1,"user_id":9647786,"display_name":"gnag"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1523807742,"creation_date":1523807742,"answer_id":49843896,"question_id":49843435,"body_markdown":"Please add the consumer as well.\r\n\r\nSee [here][1] for the encoders available for Rest Assured. \r\nThis might be causing the problem -\r\n\r\n    encodeContentTypeAs(&quot;application/form-data&quot;, ContentType.TEXT)\r\n\r\nYou can also try this - \r\n\r\n    .encoderConfig(encoderConfig().appendDefaultContentCharsetToContentTypeIfUndefined(false).encodeContentTypeAs(&quot;application/form-data&quot;, ContentType.TEXT));\r\n\r\n\r\n\r\n  [1]: http://static.javadoc.io/io.rest-assured/rest-assured/3.0.6/io/restassured/http/ContentType.html#fromContentType-java.lang.String-","title":"How to send a Content-Type form-data request using rest assured?","body":"<p>Please add the consumer as well.</p>\n\n<p>See <a href=\"http://static.javadoc.io/io.rest-assured/rest-assured/3.0.6/io/restassured/http/ContentType.html#fromContentType-java.lang.String-\" rel=\"nofollow noreferrer\">here</a> for the encoders available for Rest Assured. \nThis might be causing the problem -</p>\n\n<pre><code>encodeContentTypeAs(\"application/form-data\", ContentType.TEXT)\n</code></pre>\n\n<p>You can also try this - </p>\n\n<pre><code>.encoderConfig(encoderConfig().appendDefaultContentCharsetToContentTypeIfUndefined(false).encodeContentTypeAs(\"application/form-data\", ContentType.TEXT));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8014800,"reputation":442,"user_id":6045460,"display_name":"Vytautas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1523807778,"creation_date":1523807778,"answer_id":49843899,"question_id":49843435,"body_markdown":"As far as I can tell, `headers(headers)` method replaces all headers, and then RestAssured uses `x-www-form-urlencoded` content type as default.\r\n\r\nTry adding &quot;Content-Type&quot; header after the call to `headers(headers)`.","title":"How to send a Content-Type form-data request using rest assured?","body":"<p>As far as I can tell, <code>headers(headers)</code> method replaces all headers, and then RestAssured uses <code>x-www-form-urlencoded</code> content type as default.</p>\n\n<p>Try adding \"Content-Type\" header after the call to <code>headers(headers)</code>.</p>\n"},{"tags":[],"owner":{"account_id":8534957,"reputation":1493,"user_id":6397151,"accept_rate":70,"display_name":"Osanda Deshan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1553662696,"creation_date":1553662696,"answer_id":55370071,"question_id":49843435,"body_markdown":"I have solve this issue by using `encodeContentTypeAs(&quot;multipart/form-data&quot;, ContentType.TEXT)`\r\n\r\nEx:-\r\n\r\n    public void invoke() {\r\n         response = given()\r\n                    .config(\r\n                            RestAssured.config()\r\n                                    .encoderConfig(\r\n                                            encoderConfig()\r\n                                                    .encodeContentTypeAs(&quot;multipart/form-data&quot;, ContentType.TEXT)))\r\n                    .headers(headers)\r\n                    .formParams(formParams)\r\n                    .when()\r\n                    .post(oAuthBaseURI).then().extract().response();\r\n    }","title":"How to send a Content-Type form-data request using rest assured?","body":"<p>I have solve this issue by using <code>encodeContentTypeAs(\"multipart/form-data\", ContentType.TEXT)</code></p>\n\n<p>Ex:-</p>\n\n<pre><code>public void invoke() {\n     response = given()\n                .config(\n                        RestAssured.config()\n                                .encoderConfig(\n                                        encoderConfig()\n                                                .encodeContentTypeAs(\"multipart/form-data\", ContentType.TEXT)))\n                .headers(headers)\n                .formParams(formParams)\n                .when()\n                .post(oAuthBaseURI).then().extract().response();\n}\n</code></pre>\n"}],"owner":{"account_id":8534957,"reputation":1493,"user_id":6397151,"accept_rate":70,"display_name":"Osanda Deshan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13057,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1656536510,"creation_date":1523804887,"question_id":49843435,"body_markdown":"I need to invoke a form-data typed API using Rest Assured. Here is my code.\r\n\r\n    private Map&lt;String, String&gt; getFormParamsMap() {\r\n      Map&lt;String, String&gt; formParams = new HashMap&lt;&gt;();\r\n        formParams.put(&quot;creatorId&quot;, &quot;Instructor1&quot;);\r\n        formParams.put(&quot;creatorPlatform&quot;, &quot;Web&quot;);\r\n        formParams.put(&quot;creatoredSource&quot;, &quot;File&quot;);\r\n        formParams.put(&quot;creatoredType&quot;, &quot;Auto&quot;);\r\n        formParams.put(&quot;deckId&quot;, &quot;5a605b472e02d86561172dad&quot;);\r\n        formParams.put(&quot;userId&quot;, &quot;kind&quot;);\r\n        return formParams;\r\n    }\r\n\r\n    public void invoke() {\r\n              response = given()\r\n                        .header(&quot;Content-Type&quot;, &quot;application/form-data&quot;)\r\n                        .header(AUTHORIZATION_HEADER_NAME, accessToken) //Some API contains access token to run with the API\r\n                        .headers(headers)\r\n                        .formParams(getFormParamsMap()) // requestParamsMap here.\r\n                        .when()\r\n                        .post(invokingEndpoint);\r\n    }\r\n\r\n\r\nWhen I execute this, I am getting the below error.\r\n\r\n    Message: java.lang.IllegalArgumentException: Don&#39;t know how to encode creatorPlatform=Web&amp;creatoredType=Auto&amp;deckId=5a605b472e02d86561172dad&amp;creatorId=Instructor1&amp;creatoredSource=File&amp;userId=kind as a byte stream.\r\n    \r\n    Please use EncoderConfig (EncoderConfig#encodeContentTypeAs) to specify how to serialize data for this content-type.\r\n    For example: &quot;given().config(RestAssured.config().encoderConfig(encoderConfig().encodeContentTypeAs(&quot;application/form-data&quot;, ContentType.TEXT))). ..&quot;\r\n    Stack Trace:\r\n    io.restassured.internal.http.EncoderRegistry.encodeStream(EncoderRegistry.java:130)\r\n\r\nWhen I use `.config(RestAssured.config().encoderConfig(encoderConfig().encodeContentTypeAs(&quot;application/form-data&quot;, ContentType.TEXT)))` in the `invoke()` method, it gives the result as below.\r\n\r\n    {\r\n    &quot;status&quot;: 400,\r\n        &quot;message&quot;: &quot;Content type &#39;application/x-www-form-urlencoded;charset=ISO-8859-1&#39; not supported&quot;,\r\n        &quot;error&quot;: &quot;Bad Request&quot;,\r\n        &quot;exception&quot;: &quot;org.springframework.web.HttpMediaTypeNotSupportedException&quot;\r\n    }\r\n\r\nMy request is not `x-www-form-urlencoded` type, it is `form-data` type. I can execute it using postman.\r\n\r\nAppreciate your support on this.\r\n\r\n\r\nThanks.\r\n","title":"How to send a Content-Type form-data request using rest assured?","body":"<p>I need to invoke a form-data typed API using Rest Assured. Here is my code.</p>\n\n<pre><code>private Map&lt;String, String&gt; getFormParamsMap() {\n  Map&lt;String, String&gt; formParams = new HashMap&lt;&gt;();\n    formParams.put(\"creatorId\", \"Instructor1\");\n    formParams.put(\"creatorPlatform\", \"Web\");\n    formParams.put(\"creatoredSource\", \"File\");\n    formParams.put(\"creatoredType\", \"Auto\");\n    formParams.put(\"deckId\", \"5a605b472e02d86561172dad\");\n    formParams.put(\"userId\", \"kind\");\n    return formParams;\n}\n\npublic void invoke() {\n          response = given()\n                    .header(\"Content-Type\", \"application/form-data\")\n                    .header(AUTHORIZATION_HEADER_NAME, accessToken) //Some API contains access token to run with the API\n                    .headers(headers)\n                    .formParams(getFormParamsMap()) // requestParamsMap here.\n                    .when()\n                    .post(invokingEndpoint);\n}\n</code></pre>\n\n<p>When I execute this, I am getting the below error.</p>\n\n<pre><code>Message: java.lang.IllegalArgumentException: Don't know how to encode creatorPlatform=Web&amp;creatoredType=Auto&amp;deckId=5a605b472e02d86561172dad&amp;creatorId=Instructor1&amp;creatoredSource=File&amp;userId=kind as a byte stream.\n\nPlease use EncoderConfig (EncoderConfig#encodeContentTypeAs) to specify how to serialize data for this content-type.\nFor example: \"given().config(RestAssured.config().encoderConfig(encoderConfig().encodeContentTypeAs(\"application/form-data\", ContentType.TEXT))). ..\"\nStack Trace:\nio.restassured.internal.http.EncoderRegistry.encodeStream(EncoderRegistry.java:130)\n</code></pre>\n\n<p>When I use <code>.config(RestAssured.config().encoderConfig(encoderConfig().encodeContentTypeAs(\"application/form-data\", ContentType.TEXT)))</code> in the <code>invoke()</code> method, it gives the result as below.</p>\n\n<pre><code>{\n\"status\": 400,\n    \"message\": \"Content type 'application/x-www-form-urlencoded;charset=ISO-8859-1' not supported\",\n    \"error\": \"Bad Request\",\n    \"exception\": \"org.springframework.web.HttpMediaTypeNotSupportedException\"\n}\n</code></pre>\n\n<p>My request is not <code>x-www-form-urlencoded</code> type, it is <code>form-data</code> type. I can execute it using postman.</p>\n\n<p>Appreciate your support on this.</p>\n\n<p>Thanks.</p>\n"},{"tags":["java","reactjs","json","api","design-patterns"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":3,"creation_date":1656537287,"post_id":72807810,"comment_id":128600513,"body_markdown":"I don&#39;t believe there&#39;s a meaningful way to answer &quot;which is better&quot;. If the back end is the system of record then IMO the front end is responsible for munging the data into a shape it can use. APIs *in general* present data in a neutral way; this is what makes them powerful--consumers can do whatever they want with that data.","body":"I don&#39;t believe there&#39;s a meaningful way to answer &quot;which is better&quot;. If the back end is the system of record then IMO the front end is responsible for munging the data into a shape it can use. APIs <i>in general</i> present data in a neutral way; this is what makes them powerful--consumers can do whatever they want with that data."}],"owner":{"account_id":24739495,"reputation":29,"user_id":18626423,"display_name":"user18626423"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1656536403,"creation_date":1656536403,"question_id":72807810,"body_markdown":"Let&#39;s say I&#39;m trying to make a universal cat tracking app. \r\n[![Universal Cat Tracker App][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/f7MmO.png\r\n\r\nI have two ideas for designing this json, where each json represents the node and the arrow before it.\r\nDesigning from an api backend perspective where the general idea of cat ownership is more important (so users pulling from this endpoint can understand and use the data as they see fit), I have this:\r\n```\r\n{\r\nnodeId: Integer\r\nLinked to: last node id\r\nEvidenceConfidence: (high medium low)\r\nExplanation: [&quot;checked collar, checked with neighbors&quot;]\r\nrecordType: [cat location event, evidence, cat ownership determination]\r\nrecordDetail: {\r\nevidenceType: (collar, word of mouth, missing cat report match, etc )\r\nneighbor name:\r\nneighbor phone:\r\n}\r\n```\r\nThis json breaks down the information into well named fields, but does not conform to the ui. \r\n\r\nDesigning from a frontend perspective where the structure of the actual ui design is more important, I have this:\r\n```\r\nconst example = {\r\n id: node id,\r\nEvidenceConfidence:\r\n  linkedTo: &#39;last node id&#39;,\r\n  Explanation: [&quot;checked collar, checked with neighbors&quot;]\r\nrecordType: [cat location event, evidence, cat ownership determination]\r\n  content: &#39;neighhbors suggest cat lives a t this residence&#39;,\r\n  label: &#39;neighbor name&#39;,\r\n  sublabel: &#39;neighbor phone&#39;,\r\n  additionalInfo:,\r\n};\r\n```\r\nThis json is a lot more specific to the ui, and would simplify my ui codebase as I wouldn&#39;t have to translate between the raw data from the backend and the frontend.\r\n\r\nWhich json is better? Should there be some data processing layer in between the front and api to translate the data from raw api data to a format the ui can use? Should the backend directly pipeline data to the frontend in the format the frontend wants it to be in? Should the frontend massage the data to be in the format it wants it to be in? \r\n\r\n\r\n\r\n\r\n","title":"Json Design: What is the backend responsible for vs the frontend?","body":"<p>Let's say I'm trying to make a universal cat tracking app.\n<a href=\"https://i.stack.imgur.com/f7MmO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/f7MmO.png\" alt=\"Universal Cat Tracker App\" /></a></p>\n<p>I have two ideas for designing this json, where each json represents the node and the arrow before it.\nDesigning from an api backend perspective where the general idea of cat ownership is more important (so users pulling from this endpoint can understand and use the data as they see fit), I have this:</p>\n<pre><code>{\nnodeId: Integer\nLinked to: last node id\nEvidenceConfidence: (high medium low)\nExplanation: [&quot;checked collar, checked with neighbors&quot;]\nrecordType: [cat location event, evidence, cat ownership determination]\nrecordDetail: {\nevidenceType: (collar, word of mouth, missing cat report match, etc )\nneighbor name:\nneighbor phone:\n}\n</code></pre>\n<p>This json breaks down the information into well named fields, but does not conform to the ui.</p>\n<p>Designing from a frontend perspective where the structure of the actual ui design is more important, I have this:</p>\n<pre><code>const example = {\n id: node id,\nEvidenceConfidence:\n  linkedTo: 'last node id',\n  Explanation: [&quot;checked collar, checked with neighbors&quot;]\nrecordType: [cat location event, evidence, cat ownership determination]\n  content: 'neighhbors suggest cat lives a t this residence',\n  label: 'neighbor name',\n  sublabel: 'neighbor phone',\n  additionalInfo:,\n};\n</code></pre>\n<p>This json is a lot more specific to the ui, and would simplify my ui codebase as I wouldn't have to translate between the raw data from the backend and the frontend.</p>\n<p>Which json is better? Should there be some data processing layer in between the front and api to translate the data from raw api data to a format the ui can use? Should the backend directly pipeline data to the frontend in the format the frontend wants it to be in? Should the frontend massage the data to be in the format it wants it to be in?</p>\n"},{"tags":["java","sunpkcs11"],"comments":[{"owner":{"account_id":15118702,"reputation":747,"user_id":10910098,"display_name":"bathudaide"},"score":0,"creation_date":1649124338,"post_id":71739312,"comment_id":126791042,"body_markdown":"Anyone help me?","body":"Anyone help me?"}],"answers":[{"tags":[],"owner":{"account_id":18532022,"reputation":11,"user_id":19177126,"display_name":"MrLinux"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656536165,"creation_date":1656536165,"answer_id":72807761,"question_id":71739312,"body_markdown":"It&#39;s been a while since this question was posted, but if you&#39;d like to use a PKCS11 provider other than SunPKCS11, you can use:\r\n\r\n - IAIK PKCS11 wrapper &lt;https://jce.iaik.tugraz.at/products/core-crypto-toolkits/pkcs11-wrapper/&gt; \r\n - OpenSC &lt;https://github.com/OpenSC/OpenSC-Java/blob/master/pkcs11-test/src/test/java/org/opensc/test/pkcs11/PKCS11ProviderTestCase.java&gt;\r\n - Build your own provider by following Oracle tutorial &lt;https://docs.oracle.com/en/java/javase/17/security/howtoimplaprovider.html#GUID-C485394F-08C9-4D35-A245-1B82CDDBC031&gt;\r\n\r\nYou just need to instantiate them and register with &quot;Security.addProvider(yourProvider)&quot;","title":"How to initialize the PKCS11 provider without using SunPKCS11?","body":"<p>It's been a while since this question was posted, but if you'd like to use a PKCS11 provider other than SunPKCS11, you can use:</p>\n<ul>\n<li>IAIK PKCS11 wrapper <a href=\"https://jce.iaik.tugraz.at/products/core-crypto-toolkits/pkcs11-wrapper/\" rel=\"nofollow noreferrer\">https://jce.iaik.tugraz.at/products/core-crypto-toolkits/pkcs11-wrapper/</a></li>\n<li>OpenSC <a href=\"https://github.com/OpenSC/OpenSC-Java/blob/master/pkcs11-test/src/test/java/org/opensc/test/pkcs11/PKCS11ProviderTestCase.java\" rel=\"nofollow noreferrer\">https://github.com/OpenSC/OpenSC-Java/blob/master/pkcs11-test/src/test/java/org/opensc/test/pkcs11/PKCS11ProviderTestCase.java</a></li>\n<li>Build your own provider by following Oracle tutorial <a href=\"https://docs.oracle.com/en/java/javase/17/security/howtoimplaprovider.html#GUID-C485394F-08C9-4D35-A245-1B82CDDBC031\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/17/security/howtoimplaprovider.html#GUID-C485394F-08C9-4D35-A245-1B82CDDBC031</a></li>\n</ul>\n<p>You just need to instantiate them and register with &quot;Security.addProvider(yourProvider)&quot;</p>\n"}],"owner":{"account_id":15118702,"reputation":747,"user_id":10910098,"display_name":"bathudaide"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1199,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1656536165,"creation_date":1649083769,"question_id":71739312,"body_markdown":"I have a problem and I tried searching a solution but couldn&#39;t find it. Someone please help me, thanks you so much.\r\n\r\n    String pkcs11Config = &quot;name=CA-Token\\nlibrary=C:/java/CA-Token_v2.dll\\nslot=1&quot;;\r\n    InputStream is = new ByteArrayInputStream(pkcs11Config.getBytes())\r\n    SunPKCS11 providerPKCS11 = new sun.security.pkcs11.SunPKCS11(is); // (1)\r\n    Security.addProvider(providerPKCS11);\r\n\r\nFor this code, can we initialize the PKCS11 provider without using **SunPKCS11**?","title":"How to initialize the PKCS11 provider without using SunPKCS11?","body":"<p>I have a problem and I tried searching a solution but couldn't find it. Someone please help me, thanks you so much.</p>\n<pre><code>String pkcs11Config = &quot;name=CA-Token\\nlibrary=C:/java/CA-Token_v2.dll\\nslot=1&quot;;\nInputStream is = new ByteArrayInputStream(pkcs11Config.getBytes())\nSunPKCS11 providerPKCS11 = new sun.security.pkcs11.SunPKCS11(is); // (1)\nSecurity.addProvider(providerPKCS11);\n</code></pre>\n<p>For this code, can we initialize the PKCS11 provider without using <strong>SunPKCS11</strong>?</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":4739783,"reputation":612585,"user_id":3832970,"display_name":"Wiktor Stribi≈ºew"},"score":0,"creation_date":1656509777,"post_id":72802315,"comment_id":128590488,"body_markdown":"Try `replaceFirst(&quot;^(-?\\\\w+)\\\\s*([/*+-]+)\\\\s*(-?\\\\w+)$&quot;, &quot;$1 $2 $3&quot;)`","body":"Try <code>replaceFirst(&quot;^(-?\\\\w+)\\\\s*([&#47;*+-]+)\\\\s*(-?\\\\w+)$&quot;, &quot;$1 $2 $3&quot;)</code>"},{"owner":{"account_id":22940848,"reputation":29,"user_id":17073644,"display_name":"PRD"},"score":0,"creation_date":1656534879,"post_id":72802315,"comment_id":128599762,"body_markdown":"thanks, but it doesnt work with smth like this a+-b it gives a +- b and should give a + -b((","body":"thanks, but it doesnt work with smth like this a+-b it gives a +- b and should give a + -b(("},{"owner":{"account_id":4739783,"reputation":612585,"user_id":3832970,"display_name":"Wiktor Stribi≈ºew"},"score":0,"creation_date":1656535200,"post_id":72802315,"comment_id":128599860,"body_markdown":"Ok, use `^(-?\\w+)\\s*((?:(?!-\\b)[/*+-])+)\\s*(-?\\w+)$`","body":"Ok, use <code>^(-?\\w+)\\s*((?:(?!-\\b)[&#47;*+-])+)\\s*(-?\\w+)$</code>"}],"answers":[{"tags":[],"owner":{"account_id":4739783,"reputation":612585,"user_id":3832970,"display_name":"Wiktor Stribi≈ºew"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656535893,"creation_date":1656535256,"answer_id":72807603,"question_id":72802315,"body_markdown":"You can use\r\n```none\r\n^(-?\\w+)\\s*((?:(?!-\\b)[/*+-])+)\\s*(-?\\w+)$\r\n```\r\nSee the [regex demo][1]. *Details*:\r\n\r\n - `^` - start of string\r\n - `(-?\\w+)` - Group 1 (`$1`): an optional `-` and then one or more word chars (`\\p{Alnum}+` might be a better idea if you need to exclude `_`)\r\n - `\\s*` - zero or more whitespaces\r\n - `((?:(?!-\\b)[/*+-])+)` - Group 2 (`$2`): one or more `/`, `*`, `+`, `-` chars but the `-` char cannot be followed with a word char\r\n - `\\s*` - zero or more whitespaces\r\n - `(-?\\w+)` - Group 3 (`$3`): an optional `-` and then one or more word chars (or `\\p{Alnum}+`)\r\n - `$` - end of string\r\n\r\nIn Java:\r\n```java\r\nString result = text.replaceFirst(&quot;^(-?\\\\w+)\\\\s*((?:(?!-\\\\b)[/*+-])+)\\\\s*(-?\\\\w+)$&quot;, &quot;$1 $2 $3&quot;);\r\n```\r\n\r\n\r\n  [1]: https://regex101.com/r/FsKNMX/1","title":"Insert spaces into a string with certain pattern JAVA","body":"<p>You can use</p>\n<pre class=\"lang-none prettyprint-override\"><code>^(-?\\w+)\\s*((?:(?!-\\b)[/*+-])+)\\s*(-?\\w+)$\n</code></pre>\n<p>See the <a href=\"https://regex101.com/r/FsKNMX/1\" rel=\"nofollow noreferrer\">regex demo</a>. <em>Details</em>:</p>\n<ul>\n<li><code>^</code> - start of string</li>\n<li><code>(-?\\w+)</code> - Group 1 (<code>$1</code>): an optional <code>-</code> and then one or more word chars (<code>\\p{Alnum}+</code> might be a better idea if you need to exclude <code>_</code>)</li>\n<li><code>\\s*</code> - zero or more whitespaces</li>\n<li><code>((?:(?!-\\b)[/*+-])+)</code> - Group 2 (<code>$2</code>): one or more <code>/</code>, <code>*</code>, <code>+</code>, <code>-</code> chars but the <code>-</code> char cannot be followed with a word char</li>\n<li><code>\\s*</code> - zero or more whitespaces</li>\n<li><code>(-?\\w+)</code> - Group 3 (<code>$3</code>): an optional <code>-</code> and then one or more word chars (or <code>\\p{Alnum}+</code>)</li>\n<li><code>$</code> - end of string</li>\n</ul>\n<p>In Java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String result = text.replaceFirst(&quot;^(-?\\\\w+)\\\\s*((?:(?!-\\\\b)[/*+-])+)\\\\s*(-?\\\\w+)$&quot;, &quot;$1 $2 $3&quot;);\n</code></pre>\n"}],"owner":{"account_id":22940848,"reputation":29,"user_id":17073644,"display_name":"PRD"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1656535893,"creation_date":1656509579,"question_id":72802315,"body_markdown":"I have a String input which looks smth like this:\r\n\r\n    a = &quot;-5+++5&quot;  ---&gt; -5 +++ 5\r\n    b = &quot;5                 ++    -5&quot; ---&gt; 5 ++ -5\r\n    c = &quot;ABC        */ ZXC&quot; ---&gt; ABC */ ZXC \r\n    d = &quot;-XY**          XX&quot; ---&gt; -XY ** XX\r\nessentialy string consists from 3 parts: \r\npart1, part2 - integer or letters, probably with minus. and operation - some substring made of + - * /\r\nI need to insert spaces around operation thing, so i will be able to get an List with split(&quot; &quot;)\r\nMy code is but it doesnt work(((\r\n\r\n        string.replaceAll(&quot;(-?\\\\d+|\\\\D+)(?=[+\\\\-*/]+)&quot;, &quot;$0 &quot;);\r\n\r\nand to get rid of exstra whitespaces\r\n\r\n        string.replaceAll(&quot;\\\\s+&quot;, &quot; &quot;).trim()\r\n\r\n\r\n","title":"Insert spaces into a string with certain pattern JAVA","body":"<p>I have a String input which looks smth like this:</p>\n<pre><code>a = &quot;-5+++5&quot;  ---&gt; -5 +++ 5\nb = &quot;5                 ++    -5&quot; ---&gt; 5 ++ -5\nc = &quot;ABC        */ ZXC&quot; ---&gt; ABC */ ZXC \nd = &quot;-XY**          XX&quot; ---&gt; -XY ** XX\n</code></pre>\n<p>essentialy string consists from 3 parts:\npart1, part2 - integer or letters, probably with minus. and operation - some substring made of + - * /\nI need to insert spaces around operation thing, so i will be able to get an List with split(&quot; &quot;)\nMy code is but it doesnt work(((</p>\n<pre><code>    string.replaceAll(&quot;(-?\\\\d+|\\\\D+)(?=[+\\\\-*/]+)&quot;, &quot;$0 &quot;);\n</code></pre>\n<p>and to get rid of exstra whitespaces</p>\n<pre><code>    string.replaceAll(&quot;\\\\s+&quot;, &quot; &quot;).trim()\n</code></pre>\n"},{"tags":["java","spring","spring-boot","rest"],"comments":[{"owner":{"account_id":5344327,"reputation":1074,"user_id":6771708,"accept_rate":71,"display_name":"namila007"},"score":1,"creation_date":1656531595,"post_id":72806793,"comment_id":128598761,"body_markdown":"can you add default constructor and getters and setters for the given fields","body":"can you add default constructor and getters and setters for the given fields"},{"owner":{"account_id":12051589,"reputation":1279,"user_id":8814332,"display_name":"Risalat Zaman"},"score":0,"creation_date":1656572963,"post_id":72806793,"comment_id":128606905,"body_markdown":"Could you add code for the Car POJO please","body":"Could you add code for the Car POJO please"}],"answers":[{"tags":[],"owner":{"account_id":11126166,"reputation":156,"user_id":8167597,"display_name":"ksparrow"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656535768,"creation_date":1656535768,"answer_id":72807700,"question_id":72806793,"body_markdown":"It sounds like your controller consumes `application/json`. So behind the scenes, by default Spring is attempting to use Jackson Databind to map fields into your `Cab` object. Databind has requirements for how the class is written to allow values to be bound to objects.\r\n\r\nIn the simplest case, you&#39;re writing a POJO:\r\n* Add a public default (no-arg) constructor. You can still have additional constructors if they suit your purposes, e.g. test fixturing.\r\n* Add `public` getters and setters.  (Jackson can also bind to a public field.)\r\n\r\nBy default, Jackson will find setters from `Cab` and its `Vehicle` superclass (and any other classes above that).  So if the three POJO properties you&#39;ve listed really belong to `Vehicle`, they should get bound there, all without using your 3-arg constructor. Then you can add `Cab`-specific properties to `Cab`, also using property binding.\r\n\r\nThere are a bunch of annotations you can use to customize how values are bound, e.g. mapping differing JSON attribute names to your POJO properties, or ignoring certain properties.\r\n\r\nSee [jackson-databind](https://github.com/FasterXML/jackson-databind) for details. There is even a way to map JSON values into a constructor, though I personally wouldn&#39;t use it -- yet another thing to maintain if the object model changes, especially when inheritance is a factor.\r\n\r\nIn the case that your body isn&#39;t JSON, Spring has several other `HttpMessageConverter` implementations, which of course are configurable.  See Spring&#39;s [Rest Message Conversion](https://docs.spring.io/spring-framework/docs/current/reference/html/integration.html#rest-message-conversion) docs.","title":"@Requestbody mapping to inherited subclass","body":"<p>It sounds like your controller consumes <code>application/json</code>. So behind the scenes, by default Spring is attempting to use Jackson Databind to map fields into your <code>Cab</code> object. Databind has requirements for how the class is written to allow values to be bound to objects.</p>\n<p>In the simplest case, you're writing a POJO:</p>\n<ul>\n<li>Add a public default (no-arg) constructor. You can still have additional constructors if they suit your purposes, e.g. test fixturing.</li>\n<li>Add <code>public</code> getters and setters.  (Jackson can also bind to a public field.)</li>\n</ul>\n<p>By default, Jackson will find setters from <code>Cab</code> and its <code>Vehicle</code> superclass (and any other classes above that).  So if the three POJO properties you've listed really belong to <code>Vehicle</code>, they should get bound there, all without using your 3-arg constructor. Then you can add <code>Cab</code>-specific properties to <code>Cab</code>, also using property binding.</p>\n<p>There are a bunch of annotations you can use to customize how values are bound, e.g. mapping differing JSON attribute names to your POJO properties, or ignoring certain properties.</p>\n<p>See <a href=\"https://github.com/FasterXML/jackson-databind\" rel=\"nofollow noreferrer\">jackson-databind</a> for details. There is even a way to map JSON values into a constructor, though I personally wouldn't use it -- yet another thing to maintain if the object model changes, especially when inheritance is a factor.</p>\n<p>In the case that your body isn't JSON, Spring has several other <code>HttpMessageConverter</code> implementations, which of course are configurable.  See Spring's <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/integration.html#rest-message-conversion\" rel=\"nofollow noreferrer\">Rest Message Conversion</a> docs.</p>\n"}],"owner":{"account_id":22220409,"reputation":1,"user_id":16458176,"display_name":"ManuelP"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":254,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656535768,"creation_date":1656530545,"question_id":72806793,"body_markdown":"I have a class Vehicle in my Java Program.\r\nThe class Cab inherits from Vehicle.\r\n\r\nIn my controller I have a post mapping for adding new cabs to the Vehicles array.\r\n\r\n\r\n    @PostMapping(&quot;/vehicles/add/cab&quot;)\r\n    public void addCab(@RequestBody Cab cab) {\r\n        System.out.println(cab);\r\n        cc.addVehicle(cab);\r\n    }\r\n\r\nThe contractor of Cab looks like this.\r\n\r\n    public Cab(String licensePlate, double basePricePerKm, double horsePower)\r\n\r\nI tried printing the Object in the RequestBody to the console, it had all the properties of the constructor\r\n\r\n    {\r\n    &quot;licensePlate&quot;: &quot;GR-221CH&quot;,\r\n    &quot;basePricePerKm&quot;: 3.0,\r\n    &quot;horsePower&quot;: 25.5\r\n    }\r\n\r\nHowever I get an error \r\n\r\n&gt; JSON parse error: Cannot construct instance of `com.example.demo3.Cab.Cab`\r\n\r\nHow do I do it right/resolve this error?","title":"@Requestbody mapping to inherited subclass","body":"<p>I have a class Vehicle in my Java Program.\nThe class Cab inherits from Vehicle.</p>\n<p>In my controller I have a post mapping for adding new cabs to the Vehicles array.</p>\n<pre><code>@PostMapping(&quot;/vehicles/add/cab&quot;)\npublic void addCab(@RequestBody Cab cab) {\n    System.out.println(cab);\n    cc.addVehicle(cab);\n}\n</code></pre>\n<p>The contractor of Cab looks like this.</p>\n<pre><code>public Cab(String licensePlate, double basePricePerKm, double horsePower)\n</code></pre>\n<p>I tried printing the Object in the RequestBody to the console, it had all the properties of the constructor</p>\n<pre><code>{\n&quot;licensePlate&quot;: &quot;GR-221CH&quot;,\n&quot;basePricePerKm&quot;: 3.0,\n&quot;horsePower&quot;: 25.5\n}\n</code></pre>\n<p>However I get an error</p>\n<blockquote>\n<p>JSON parse error: Cannot construct instance of <code>com.example.demo3.Cab.Cab</code></p>\n</blockquote>\n<p>How do I do it right/resolve this error?</p>\n"},{"tags":["java","spring-boot","java-8"],"comments":[{"owner":{"account_id":5613556,"reputation":2315,"user_id":4445625,"accept_rate":50,"display_name":"Marc Stroebel"},"score":0,"creation_date":1656484449,"post_id":72796686,"comment_id":128580631,"body_markdown":"what type is ListObj? Is obj.getDate() returning a Date? Or a LocalDate? Or... https://stackoverflow.com/help/how-to-ask","body":"what type is ListObj? Is obj.getDate() returning a Date? Or a LocalDate? Or... <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>"},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1656484818,"post_id":72796686,"comment_id":128580729,"body_markdown":"You need to share more information. So far your data does not seem to contain any date.","body":"You need to share more information. So far your data does not seem to contain any date."},{"owner":{"account_id":21624443,"reputation":11,"user_id":15948952,"display_name":"Ujjwal Kuikel"},"score":0,"creation_date":1656485361,"post_id":72796686,"comment_id":128580891,"body_markdown":"ListObj is a list of profile object. profile contains information on multiple events for a profile with event date.  i need to delete older events if the gap between two events is more than 1 year.","body":"ListObj is a list of profile object. profile contains information on multiple events for a profile with event date.  i need to delete older events if the gap between two events is more than 1 year."},{"owner":{"account_id":21624443,"reputation":11,"user_id":15948952,"display_name":"Ujjwal Kuikel"},"score":0,"creation_date":1656485420,"post_id":72796686,"comment_id":128580908,"body_markdown":"So, I am trying to sort the list of objects using the date. so that i can calculate gap between two events.","body":"So, I am trying to sort the list of objects using the date. so that i can calculate gap between two events."},{"owner":{"account_id":104347,"reputation":4910,"user_id":279028,"display_name":"Andrei"},"score":1,"creation_date":1656485536,"post_id":72796686,"comment_id":128580940,"body_markdown":"@UjjwalKuikel then isn&#39;t the fact that you have a `Map` irrelevant? You can sort each profile&#39;s events independently, no? And the filtering logic is for &quot;filtering out events older than 1 year from some fixed date (e.g. today)&quot;, as in the question, or &quot;if the gap between consecutive events is larger than 1 year&quot;, as in the comment above?","body":"@UjjwalKuikel then isn&#39;t the fact that you have a <code>Map</code> irrelevant? You can sort each profile&#39;s events independently, no? And the filtering logic is for &quot;filtering out events older than 1 year from some fixed date (e.g. today)&quot;, as in the question, or &quot;if the gap between consecutive events is larger than 1 year&quot;, as in the comment above?"},{"owner":{"account_id":104347,"reputation":4910,"user_id":279028,"display_name":"Andrei"},"score":0,"creation_date":1656485628,"post_id":72796686,"comment_id":128580962,"body_markdown":"How many elements do you have in the `Map` and and in the `List`? Can you filter the `List` in-place or do you need a new `List` with just the sorted and filtered data?","body":"How many elements do you have in the <code>Map</code> and and in the <code>List</code>? Can you filter the <code>List</code> in-place or do you need a new <code>List</code> with just the sorted and filtered data?"},{"owner":{"account_id":21624443,"reputation":11,"user_id":15948952,"display_name":"Ujjwal Kuikel"},"score":0,"creation_date":1656485692,"post_id":72796686,"comment_id":128580984,"body_markdown":"For each profile, there are multiple events. I need to check the gap between events belonging to the same profile only, So the map is used for that. Or, is there a better way to do that?","body":"For each profile, there are multiple events. I need to check the gap between events belonging to the same profile only, So the map is used for that. Or, is there a better way to do that?"},{"owner":{"account_id":21624443,"reputation":11,"user_id":15948952,"display_name":"Ujjwal Kuikel"},"score":0,"creation_date":1656485757,"post_id":72796686,"comment_id":128581007,"body_markdown":"Can you suggest a way to sort each profile&#39;s event independently?","body":"Can you suggest a way to sort each profile&#39;s event independently?"},{"owner":{"account_id":21624443,"reputation":11,"user_id":15948952,"display_name":"Ujjwal Kuikel"},"score":0,"creation_date":1656485931,"post_id":72796686,"comment_id":128581064,"body_markdown":"There can be 1000 of elements in the map and each element may contain 5-10 events in the list","body":"There can be 1000 of elements in the map and each element may contain 5-10 events in the list"},{"owner":{"account_id":104347,"reputation":4910,"user_id":279028,"display_name":"Andrei"},"score":1,"creation_date":1656486001,"post_id":72796686,"comment_id":128581093,"body_markdown":"Please specify the logic for going from one list of events to the final one you seek, because it is not clear. With examples, if possible. And rephrase your question to be about manipulating the `List`, unless you have issues with applying the same processing for each element in the `Map` (since each profile is independent)","body":"Please specify the logic for going from one list of events to the final one you seek, because it is not clear. With examples, if possible. And rephrase your question to be about manipulating the <code>List</code>, unless you have issues with applying the same processing for each element in the <code>Map</code> (since each profile is independent)"}],"answers":[{"tags":[],"owner":{"account_id":25658115,"reputation":79,"user_id":19424202,"display_name":"Daniellllll"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656484831,"creation_date":1656484831,"answer_id":72796830,"question_id":72796686,"body_markdown":"If you are trying to have the elements in your List sorted, I recommend using a natively existing type such as a &quot;SortedSet&quot; implementation. E.g. a TreeSet\r\n\r\n    Map&lt;String, TreeSet&lt;Object&gt;&gt; profileMap = new HashMap&lt;&gt;();\r\n\r\n\r\n\r\n\r\nThis will have you implementing the Comparator Interface in which you can define to sort by Date.\r\n\r\n    public class Objekt implements Comparator&lt;Objekt&gt; {\r\n\r\n    @Override\r\n    public int compare(Objekt o1, Objekt o2) {\r\n        if (o1.getDate().before(o2.getDate())) {\r\n            return -1;\r\n        } else if (o1.getDate().after(o2.getDate())) {\r\n            return 1;\r\n        } else {\r\n            return 0;\r\n        }\r\n    }\r\n\r\n\r\nMore on how to implement that here: https://stackoverflow.com/questions/8424526/compare-object-by-dates-implements-comparator\r\n\r\n\r\n\r\n","title":"How do manipulate list of objects by date parameters in a hashmap?","body":"<p>If you are trying to have the elements in your List sorted, I recommend using a natively existing type such as a &quot;SortedSet&quot; implementation. E.g. a TreeSet</p>\n<pre><code>Map&lt;String, TreeSet&lt;Object&gt;&gt; profileMap = new HashMap&lt;&gt;();\n</code></pre>\n<p>This will have you implementing the Comparator Interface in which you can define to sort by Date.</p>\n<pre><code>public class Objekt implements Comparator&lt;Objekt&gt; {\n\n@Override\npublic int compare(Objekt o1, Objekt o2) {\n    if (o1.getDate().before(o2.getDate())) {\n        return -1;\n    } else if (o1.getDate().after(o2.getDate())) {\n        return 1;\n    } else {\n        return 0;\n    }\n}\n</code></pre>\n<p>More on how to implement that here: <a href=\"https://stackoverflow.com/questions/8424526/compare-object-by-dates-implements-comparator\">Compare Object by dates ( implements Comparator)</a></p>\n"},{"tags":[],"owner":{"account_id":6601006,"reputation":13,"user_id":5099321,"display_name":"Tan Le"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656484993,"creation_date":1656484993,"answer_id":72796863,"question_id":72796686,"body_markdown":"You can try to iterate over the HashMap item and filter the element with Date that is older than 1 year.\r\n\r\nGiven the Profile class as below\r\n\r\n    public class Profile {\r\n\r\n    private Date createdAt;\r\n\r\n    public Date getCreatedAt() {\r\n        return createdAt;\r\n    }\r\n\r\n    public void setCreatedAt(Date createdAt) {\r\n        this.createdAt = createdAt;\r\n    }\r\n}\r\n\r\nAnd our List is\r\n\r\n    HashMap&lt;String, Profile&gt; profiles = new HashMap&lt;&gt;();\r\n\r\nThen we can simply do as below to get the list of Map.Entry that matches your requirement.\r\n\r\n    List&lt;Map.Entry&lt;String, Profile&gt;&gt; matchProfile = profiles.entrySet().stream().filter(item -&gt; item.getValue().getCreatedAt().getYear() &gt; 2015)\r\n                .collect(Collectors.toList());","title":"How do manipulate list of objects by date parameters in a hashmap?","body":"<p>You can try to iterate over the HashMap item and filter the element with Date that is older than 1 year.</p>\n<p>Given the Profile class as below</p>\n<pre><code>public class Profile {\n\nprivate Date createdAt;\n\npublic Date getCreatedAt() {\n    return createdAt;\n}\n\npublic void setCreatedAt(Date createdAt) {\n    this.createdAt = createdAt;\n}\n</code></pre>\n<p>}</p>\n<p>And our List is</p>\n<pre><code>HashMap&lt;String, Profile&gt; profiles = new HashMap&lt;&gt;();\n</code></pre>\n<p>Then we can simply do as below to get the list of Map.Entry that matches your requirement.</p>\n<pre><code>List&lt;Map.Entry&lt;String, Profile&gt;&gt; matchProfile = profiles.entrySet().stream().filter(item -&gt; item.getValue().getCreatedAt().getYear() &gt; 2015)\n            .collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":104347,"reputation":4910,"user_id":279028,"display_name":"Andrei"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656535700,"creation_date":1656535700,"answer_id":72807685,"question_id":72796686,"body_markdown":"There are several constraints you should have in mind, mostly regarding modifying your existing objects.\r\n\r\nThe simplest code that processes your items is this:       \r\n\r\n        Map&lt;String, List&lt;Profile&gt;&gt; profileMap= ...;\r\n\r\n        profileMap.forEach((k, v) -&gt; {\r\n            v.sort(Comparator.comparing(Profile::getDate));\r\n            // additional processing on &quot;v&quot; here (v is the value in the Map.Entry, i.e. the list of profiles)\r\n        });\r\n\r\nBut the code above modifies the `List` which exists in your map.\r\n\r\nIf you need to preserve the existing `List` as-is, then instead of sorting `v`, you should create a new `List` and then process that.\r\n\r\n        profileMap.entrySet().forEach(e -&gt; {\r\n            List&lt;Profile&gt; profiles = new ArrayList&lt;&gt;(e.getValue());\r\n            profiles.sort(Comparator.comparing(Profile::getDate));\r\n            e.setValue(profiles);\r\n        });\r\n\r\nThe code above modifies the `profileMap`, it now maps the original keys to new values.\r\n\r\nAgain, if that is not ok, and you want to preserve the original `profileMap` entirely, then in the `forEach` above you need to fill a new `Map` instead of `setValue`-ing the existing entries.\r\n\r\nMake sure to focus on solving or improving the overall product, not just on a small piece of the processing. Sometimes, the best way to improving a process is to eliminate some parts of it entirely and adjust the remaining pieces.\r\n\r\nWhy do you have a huge list of events that is both unsorted and containing obsolete entries? Can you sort the events when receiving them? Or when reading them from the database? \r\n","title":"How do manipulate list of objects by date parameters in a hashmap?","body":"<p>There are several constraints you should have in mind, mostly regarding modifying your existing objects.</p>\n<p>The simplest code that processes your items is this:</p>\n<pre><code>    Map&lt;String, List&lt;Profile&gt;&gt; profileMap= ...;\n\n    profileMap.forEach((k, v) -&gt; {\n        v.sort(Comparator.comparing(Profile::getDate));\n        // additional processing on &quot;v&quot; here (v is the value in the Map.Entry, i.e. the list of profiles)\n    });\n</code></pre>\n<p>But the code above modifies the <code>List</code> which exists in your map.</p>\n<p>If you need to preserve the existing <code>List</code> as-is, then instead of sorting <code>v</code>, you should create a new <code>List</code> and then process that.</p>\n<pre><code>    profileMap.entrySet().forEach(e -&gt; {\n        List&lt;Profile&gt; profiles = new ArrayList&lt;&gt;(e.getValue());\n        profiles.sort(Comparator.comparing(Profile::getDate));\n        e.setValue(profiles);\n    });\n</code></pre>\n<p>The code above modifies the <code>profileMap</code>, it now maps the original keys to new values.</p>\n<p>Again, if that is not ok, and you want to preserve the original <code>profileMap</code> entirely, then in the <code>forEach</code> above you need to fill a new <code>Map</code> instead of <code>setValue</code>-ing the existing entries.</p>\n<p>Make sure to focus on solving or improving the overall product, not just on a small piece of the processing. Sometimes, the best way to improving a process is to eliminate some parts of it entirely and adjust the remaining pieces.</p>\n<p>Why do you have a huge list of events that is both unsorted and containing obsolete entries? Can you sort the events when receiving them? Or when reading them from the database?</p>\n"}],"owner":{"account_id":21624443,"reputation":11,"user_id":15948952,"display_name":"Ujjwal Kuikel"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":172,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":3,"score":-2,"last_activity_date":1656535700,"creation_date":1656484052,"question_id":72796686,"body_markdown":"I have a hashmap with key and object like \r\n      \r\n\r\n&gt; HashMap&lt;String,List&lt;Object,&gt; &gt; profileMap=   new HashMap&lt;&gt;();\r\n&gt;        ArrayList&lt;Profile&gt; eventList = new ArrayList&lt;Profile&gt;();\r\n\r\n&gt; for(Profile profile:Plist) {\r\n        &gt;         profileMap.putIfAbsent(profile.getprofileID(),eventList );\r\n               cpToEvent.get(event.getContact_profile()).add(event);\r\n&gt;     }\r\n\r\nProfile object contains information about different events, event date, and profileID associated with that event.\r\n\r\nI need to delete the events of the profile where the gap between two events in a profile is more than 1 yrs.\r\n\r\nFor that, I need to sort the list so that I can calculate the gap between them before deleting them.\r\nHow do achieve this?\r\n\r\n\r\n","title":"How do manipulate list of objects by date parameters in a hashmap?","body":"<p>I have a hashmap with key and object like</p>\n<blockquote>\n<p>HashMap&lt;String,List&lt;Object,&gt; &gt; profileMap=   new HashMap&lt;&gt;();\nArrayList eventList = new ArrayList();</p>\n</blockquote>\n<blockquote>\n<p>for(Profile profile:Plist) {\n&gt;         profileMap.putIfAbsent(profile.getprofileID(),eventList );\ncpToEvent.get(event.getContact_profile()).add(event);\n}</p>\n</blockquote>\n<p>Profile object contains information about different events, event date, and profileID associated with that event.</p>\n<p>I need to delete the events of the profile where the gap between two events in a profile is more than 1 yrs.</p>\n<p>For that, I need to sort the list so that I can calculate the gap between them before deleting them.\nHow do achieve this?</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1656528677,"post_id":72803001,"comment_id":128597867,"body_markdown":"Try looking at [Overview of WorkManager in Android Architecture Components](https://www.google.com/amp/s/www.geeksforgeeks.org/overview-of-workmanager-in-android-architecture-components/amp/).","body":"Try looking at <a href=\"https://www.google.com/amp/s/www.geeksforgeeks.org/overview-of-workmanager-in-android-architecture-components/amp/\" rel=\"nofollow noreferrer\">Overview of WorkManager in Android Architecture Components</a>."}],"answers":[{"tags":[],"owner":{"display_name":"user19309143"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656535385,"creation_date":1656535385,"answer_id":72807626,"question_id":72803001,"body_markdown":"If it doesn&#39;t matter when during the day the notification is sent, then @AliasCartellano comment is correct. However, if you want to send the notification at a specific time during the day (i.e. not at 23:59 when the user is sleeping), then you should use [`AlarmManager`](https://developer.android.com/reference/android/app/AlarmManager). Specifically, look at `setAlarmClock()`. This is its intended usage. ","title":"Android Background Service which check current Date","body":"<p>If it doesn't matter when during the day the notification is sent, then @AliasCartellano comment is correct. However, if you want to send the notification at a specific time during the day (i.e. not at 23:59 when the user is sleeping), then you should use <a href=\"https://developer.android.com/reference/android/app/AlarmManager\" rel=\"nofollow noreferrer\"><code>AlarmManager</code></a>. Specifically, look at <code>setAlarmClock()</code>. This is its intended usage.</p>\n"}],"owner":{"account_id":25548151,"reputation":39,"user_id":19333096,"display_name":"MateMalte"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1656535385,"creation_date":1656512371,"question_id":72803001,"body_markdown":"I programmed a simple calendar app where you can add Events to specific Dates. \r\n\r\nWhen I close the app it still should check once a day which Date is it and if an Event is on this Date. If there is an Event a push notification shall appear.\r\n\r\nHow could I do that? I save the Date with an event within the sharedPrefrences.\r\n\r\nCan someone help?","title":"Android Background Service which check current Date","body":"<p>I programmed a simple calendar app where you can add Events to specific Dates.</p>\n<p>When I close the app it still should check once a day which Date is it and if an Event is on this Date. If there is an Event a push notification shall appear.</p>\n<p>How could I do that? I save the Date with an event within the sharedPrefrences.</p>\n<p>Can someone help?</p>\n"},{"tags":["java","multithreading","observable"],"comments":[{"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":0,"creation_date":1652972955,"post_id":72306721,"comment_id":127742310,"body_markdown":"Is your application multi-threaded? Have you performed a thread dump when the process is hung?","body":"Is your application multi-threaded? Have you performed a thread dump when the process is hung?"}],"answers":[{"tags":[],"owner":{"account_id":23067834,"reputation":15,"user_id":19154031,"display_name":"Coder123"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656535339,"creation_date":1656535339,"answer_id":72807618,"question_id":72306721,"body_markdown":"As Erickson suggested, creating a thread dump led to the realisation that a thread deadlock was occuring.","title":"Java Observable setChanged() method issues","body":"<p>As Erickson suggested, creating a thread dump led to the realisation that a thread deadlock was occuring.</p>\n"}],"owner":{"account_id":23067834,"reputation":15,"user_id":19154031,"display_name":"Coder123"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72807618,"answer_count":1,"score":0,"last_activity_date":1656535339,"creation_date":1652971781,"question_id":72306721,"body_markdown":"We have an application that works fine most of the time, but every now and then we get a bug. We are using the java observable library. During debugging, I have noticed the issue seems to lie with the observable method `setChanged()`. When it is being executed, it seems to cause the main method to stop executing. This causes everything defined after that method to not be called either.\r\n\r\nExample\r\n\r\n``` \r\npublic abstract class SomeClassName extends Observable {\r\n\r\n    public void someMethod() {\r\n        ... //some code executed\r\n\r\n        setChanged(); //Execution of this makes main method (someMethod()) stop once this is reached\r\n\r\n        someMethod(); //This and everything below will no longer be executed\r\n\r\n        ...\r\n\r\n    }\r\n    \r\n}\r\n\r\n``` \r\n\r\nMost of the time there is no issue and everything works fine as expected. But every now an then we get the issue as shown above. It seems to halt that method entirely in its track. The rest of the application is still fine. There are no errors in the log or anything to work with. Anyone have any idea what the possible issue might be here?","title":"Java Observable setChanged() method issues","body":"<p>We have an application that works fine most of the time, but every now and then we get a bug. We are using the java observable library. During debugging, I have noticed the issue seems to lie with the observable method <code>setChanged()</code>. When it is being executed, it seems to cause the main method to stop executing. This causes everything defined after that method to not be called either.</p>\n<p>Example</p>\n<pre><code>public abstract class SomeClassName extends Observable {\n\n    public void someMethod() {\n        ... //some code executed\n\n        setChanged(); //Execution of this makes main method (someMethod()) stop once this is reached\n\n        someMethod(); //This and everything below will no longer be executed\n\n        ...\n\n    }\n    \n}\n\n</code></pre>\n<p>Most of the time there is no issue and everything works fine as expected. But every now an then we get the issue as shown above. It seems to halt that method entirely in its track. The rest of the application is still fine. There are no errors in the log or anything to work with. Anyone have any idea what the possible issue might be here?</p>\n"},{"tags":["java","xml","spring","resttemplate"],"answers":[{"tags":[],"owner":{"account_id":2751815,"reputation":667,"user_id":2381424,"accept_rate":25,"display_name":"Roshan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655895846,"creation_date":1655895846,"answer_id":72714360,"question_id":72714265,"body_markdown":"tag `&lt;064E&gt;` is illegal: \r\nRead up on the rules for XML tag names :\r\nhttps://www.w3schools.com/xml/xml_elements.asp\r\n\r\nAs a workaround you could use an `_` before the number character or write your custom xml parser  :\r\nhttps://stackoverflow.com/questions/23106/best-method-to-parse-various-custom-xml-documents-in-java","title":"Fasterxml Jackson - XML Parsing Error - XML Tags starting with 0","body":"<p>tag <code>&lt;064E&gt;</code> is illegal:\nRead up on the rules for XML tag names :\n<a href=\"https://www.w3schools.com/xml/xml_elements.asp\" rel=\"nofollow noreferrer\">https://www.w3schools.com/xml/xml_elements.asp</a></p>\n<p>As a workaround you could use an <code>_</code> before the number character or write your custom xml parser  :\n<a href=\"https://stackoverflow.com/questions/23106/best-method-to-parse-various-custom-xml-documents-in-java\">Best method to parse various custom XML documents in Java</a></p>\n"}],"owner":{"account_id":25617907,"reputation":11,"user_id":19390241,"display_name":"ale.soft"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":207,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656535257,"creation_date":1655895453,"question_id":72714265,"body_markdown":"I am using the Spring Framework to make an http call to parse a *xml* file:\r\n\r\n**HTTP response**:\r\n\r\n    &lt;ReducedContext&gt;\r\n        &lt;workflowId&gt;580ce4fa-d4e9-427e&lt;/workflowId&gt;\r\n        &lt;runId&gt;52f1773c-cfe9-47da&lt;/runId&gt;\r\n        &lt;status&gt;WORKFLOW_EXECUTION_STATUS&lt;/status&gt;\r\n        &lt;steps&gt;\r\n            &lt;steps&gt;\r\n                &lt;stepTechnicalName&gt;step1&lt;/stepTechnicalName&gt;\r\n                &lt;variableReads&gt;\r\n                    &lt;variableReads&gt;HASH_ARTEFACT&lt;/variableReads&gt;\r\n                    &lt;variableReads&gt;RUN_ID&lt;/variableReads&gt;\r\n                &lt;/variableReads&gt;\r\n            &lt;/steps&gt;\r\n            &lt;steps&gt;\r\n                &lt;stepTechnicalName&gt;step2&lt;/stepTechnicalName&gt;\r\n                &lt;variableReads&gt;\r\n                    &lt;variableReads&gt;VEHICLE&lt;/variableReads&gt;\r\n                    &lt;variableReads&gt;UPDATE_ORDER&lt;/variableReads&gt;\r\n                &lt;/variableReads&gt;\r\n            &lt;/steps&gt;\r\n        &lt;/steps&gt;\r\n        &lt;variables&gt;\r\n            &lt;TOPOLOGY&gt;\r\n                &lt;064E&gt;\r\n                    &lt;diagnosisAddressMaster&gt;00C5&lt;/diagnosisAddressMaster&gt;\r\n                    &lt;diagnosisClass&gt;2&lt;/diagnosisClass&gt;\r\n                    &lt;nodeAddress&gt;004E&lt;/nodeAddress&gt;\r\n                    &lt;diagnosisAddress&gt;064E&lt;/diagnosisAddress&gt;\r\n                &lt;/064E&gt;\r\n                &lt;00A5&gt;\r\n                    &lt;diagnosisAddressMaster&gt;00A5&lt;/diagnosisAddressMaster&gt;\r\n                    &lt;diagnosisClass&gt;3&lt;/diagnosisClass&gt;\r\n                    &lt;nodeAddress&gt;004F&lt;/nodeAddress&gt;\r\n                    &lt;diagnosisAddress&gt;00A5&lt;/diagnosisAddress&gt;\r\n                &lt;/00A5&gt;\r\n                &lt;8132&gt;\r\n                    &lt;diagnosisAddressMaster&gt;8132&lt;/diagnosisAddressMaster&gt;\r\n                    &lt;diagnosisClass&gt;4&lt;/diagnosisClass&gt;\r\n                    &lt;nodeAddress&gt;0114&lt;/nodeAddress&gt;\r\n                    &lt;diagnosisAddress&gt;8132&lt;/diagnosisAddress&gt;\r\n                &lt;/8132&gt;\r\n            &lt;/TOPOLOGY&gt;\r\n            &lt;PR_NUMBERS&gt;023&lt;/PR_NUMBERS&gt;\r\n            &lt;PR_NUMBERS&gt;025&lt;/PR_NUMBERS&gt;\r\n            &lt;PR_NUMBERS&gt;081&lt;/PR_NUMBERS&gt;\r\n            &lt;PR_NUMBERS&gt;099&lt;/PR_NUMBERS&gt;\r\n            &lt;PR_NUMBERS&gt;0E1&lt;/PR_NUMBERS&gt;\r\n        &lt;/variables&gt;\r\n    &lt;/ReducedContext&gt; \r\n\r\nI&#39;m trying to get the response via `RestTemplate.getForEntity`\r\n\r\n    final ResponseEntity&lt;ResponseDto&gt; response = restTemplate.getForEntity(url, ResponseDto.class, urlParameter);\r\n\r\nAnd `ResponseDto` looks like this: \r\n\r\n    @Getter\r\n    @Setter\r\n    @Accessors(chain = true)\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    public class ResponseDto {\r\n        private String workflowId;\r\n        private List&lt;Step&gt; steps;\r\n        private Map&lt;String, Object&gt; variables;\r\n    }\r\n\r\nWhen trying to map between response and `ResponseDto`, I get the following error:\r\n\r\n    org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Unexpected character &#39;0&#39; (code 48) in content after &#39;&lt;&#39; (malformed start element?).\r\n     at [row,col {unknown-source}]: [1,5487]; nested exception is com.fasterxml.jackson.databind.JsonMappingException: Unexpected character &#39;0&#39; (code 48) in content after &#39;&lt;&#39; (malformed start element?).\r\n\r\nI tried to delete tags starting with `0` (for example `&lt;064E&gt;`).\r\n\r\nIf I delete them, it&#39;s working, but I don&#39;t want to delete them, I need them.\r\n\r\nWhat do you think I could do?","title":"Fasterxml Jackson - XML Parsing Error - XML Tags starting with 0","body":"<p>I am using the Spring Framework to make an http call to parse a <em>xml</em> file:</p>\n<p><strong>HTTP response</strong>:</p>\n<pre><code>&lt;ReducedContext&gt;\n    &lt;workflowId&gt;580ce4fa-d4e9-427e&lt;/workflowId&gt;\n    &lt;runId&gt;52f1773c-cfe9-47da&lt;/runId&gt;\n    &lt;status&gt;WORKFLOW_EXECUTION_STATUS&lt;/status&gt;\n    &lt;steps&gt;\n        &lt;steps&gt;\n            &lt;stepTechnicalName&gt;step1&lt;/stepTechnicalName&gt;\n            &lt;variableReads&gt;\n                &lt;variableReads&gt;HASH_ARTEFACT&lt;/variableReads&gt;\n                &lt;variableReads&gt;RUN_ID&lt;/variableReads&gt;\n            &lt;/variableReads&gt;\n        &lt;/steps&gt;\n        &lt;steps&gt;\n            &lt;stepTechnicalName&gt;step2&lt;/stepTechnicalName&gt;\n            &lt;variableReads&gt;\n                &lt;variableReads&gt;VEHICLE&lt;/variableReads&gt;\n                &lt;variableReads&gt;UPDATE_ORDER&lt;/variableReads&gt;\n            &lt;/variableReads&gt;\n        &lt;/steps&gt;\n    &lt;/steps&gt;\n    &lt;variables&gt;\n        &lt;TOPOLOGY&gt;\n            &lt;064E&gt;\n                &lt;diagnosisAddressMaster&gt;00C5&lt;/diagnosisAddressMaster&gt;\n                &lt;diagnosisClass&gt;2&lt;/diagnosisClass&gt;\n                &lt;nodeAddress&gt;004E&lt;/nodeAddress&gt;\n                &lt;diagnosisAddress&gt;064E&lt;/diagnosisAddress&gt;\n            &lt;/064E&gt;\n            &lt;00A5&gt;\n                &lt;diagnosisAddressMaster&gt;00A5&lt;/diagnosisAddressMaster&gt;\n                &lt;diagnosisClass&gt;3&lt;/diagnosisClass&gt;\n                &lt;nodeAddress&gt;004F&lt;/nodeAddress&gt;\n                &lt;diagnosisAddress&gt;00A5&lt;/diagnosisAddress&gt;\n            &lt;/00A5&gt;\n            &lt;8132&gt;\n                &lt;diagnosisAddressMaster&gt;8132&lt;/diagnosisAddressMaster&gt;\n                &lt;diagnosisClass&gt;4&lt;/diagnosisClass&gt;\n                &lt;nodeAddress&gt;0114&lt;/nodeAddress&gt;\n                &lt;diagnosisAddress&gt;8132&lt;/diagnosisAddress&gt;\n            &lt;/8132&gt;\n        &lt;/TOPOLOGY&gt;\n        &lt;PR_NUMBERS&gt;023&lt;/PR_NUMBERS&gt;\n        &lt;PR_NUMBERS&gt;025&lt;/PR_NUMBERS&gt;\n        &lt;PR_NUMBERS&gt;081&lt;/PR_NUMBERS&gt;\n        &lt;PR_NUMBERS&gt;099&lt;/PR_NUMBERS&gt;\n        &lt;PR_NUMBERS&gt;0E1&lt;/PR_NUMBERS&gt;\n    &lt;/variables&gt;\n&lt;/ReducedContext&gt; \n</code></pre>\n<p>I'm trying to get the response via <code>RestTemplate.getForEntity</code></p>\n<pre><code>final ResponseEntity&lt;ResponseDto&gt; response = restTemplate.getForEntity(url, ResponseDto.class, urlParameter);\n</code></pre>\n<p>And <code>ResponseDto</code> looks like this:</p>\n<pre><code>@Getter\n@Setter\n@Accessors(chain = true)\n@JsonIgnoreProperties(ignoreUnknown = true)\npublic class ResponseDto {\n    private String workflowId;\n    private List&lt;Step&gt; steps;\n    private Map&lt;String, Object&gt; variables;\n}\n</code></pre>\n<p>When trying to map between response and <code>ResponseDto</code>, I get the following error:</p>\n<pre><code>org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Unexpected character '0' (code 48) in content after '&lt;' (malformed start element?).\n at [row,col {unknown-source}]: [1,5487]; nested exception is com.fasterxml.jackson.databind.JsonMappingException: Unexpected character '0' (code 48) in content after '&lt;' (malformed start element?).\n</code></pre>\n<p>I tried to delete tags starting with <code>0</code> (for example <code>&lt;064E&gt;</code>).</p>\n<p>If I delete them, it's working, but I don't want to delete them, I need them.</p>\n<p>What do you think I could do?</p>\n"},{"tags":["java","csv"],"comments":[{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":0,"creation_date":1656171292,"post_id":72755140,"comment_id":128508774,"body_markdown":"What&#39;s `out`? Does it have `.flush()`?","body":"What&#39;s <code>out</code>? Does it have <code>.flush()</code>?"},{"owner":{"account_id":794766,"reputation":158675,"user_id":871026,"accept_rate":76,"display_name":"Reimeus"},"score":5,"creation_date":1656171464,"post_id":72755140,"comment_id":128508805,"body_markdown":"To avoid people guessing what the problem might be, please post a [mcve]","body":"To avoid people guessing what the problem might be, please post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"},{"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"score":2,"creation_date":1656171481,"post_id":72755140,"comment_id":128508813,"body_markdown":"In addition to `out`, what is `fstream`? Could you post all of the relevant parts? Maybe take a look here: [How to create a Minimal, Reproducible Example](https://stackoverflow.com/help/minimal-reproducible-example)","body":"In addition to <code>out</code>, what is <code>fstream</code>? Could you post all of the relevant parts? Maybe take a look here: <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">How to create a Minimal, Reproducible Example</a>"},{"owner":{"account_id":5227426,"reputation":307,"user_id":4179025,"display_name":"Rajpal Singh"},"score":0,"creation_date":1656172982,"post_id":72755140,"comment_id":128509138,"body_markdown":"First of all your details are imperfect to get the actual solution for you.\nBut, you can check by adding a delimiter while writing values.","body":"First of all your details are imperfect to get the actual solution for you. But, you can check by adding a delimiter while writing values."},{"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"score":0,"creation_date":1656179366,"post_id":72755140,"comment_id":128510471,"body_markdown":"Not sure what&#39;s the difficulty here; put `out.flush();` before `rs2.close()`.","body":"Not sure what&#39;s the difficulty here; put <code>out.flush();</code> before <code>rs2.close()</code>."},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1656236361,"post_id":72755140,"comment_id":128518133,"body_markdown":"Use `out.close()` instead of `fstream.close()`, and I highly recommend that you switch to using try-with-resources.","body":"Use <code>out.close()</code> instead of <code>fstream.close()</code>, and I highly recommend that you switch to using try-with-resources."}],"answers":[{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656535139,"creation_date":1656535139,"answer_id":72807588,"question_id":72755140,"body_markdown":"You need `out.close();` instead of `fstream.close();`. This will write, flush, the buffer of the BufferedWriter and close the fstream.\r\n\r\nIt is a good idea to use the _try-with-resources_ syntax instead of closing oneself. Less messy.\r\n\r\nAlso use the `Files` utility class. For instance File Writer is an old convenience class that uses the default operating system encoding. One might prefer full Unicode with UTF-8.\r\n","title":"Java CSV writer fails but data is there","body":"<p>You need <code>out.close();</code> instead of <code>fstream.close();</code>. This will write, flush, the buffer of the BufferedWriter and close the fstream.</p>\n<p>It is a good idea to use the <em>try-with-resources</em> syntax instead of closing oneself. Less messy.</p>\n<p>Also use the <code>Files</code> utility class. For instance File Writer is an old convenience class that uses the default operating system encoding. One might prefer full Unicode with UTF-8.</p>\n"}],"owner":{"account_id":2890104,"reputation":7,"user_id":2479098,"display_name":"cjingeorgia"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656535139,"creation_date":1656171096,"question_id":72755140,"body_markdown":"I am trying to write the output of a query to a CSV file. I issue three queries to a table with three companies (CompanyA, CompanyB, CompanyC) and output the result of each query to a csv file (A.csv, B.csv, C.csv).\r\n\r\nThe queries are valid and `System.out.println` (below) produces correct names. \r\n\r\nHowever, when I check the output files only CompanyC is populated. CompanyA and B are blank. I thought it was only processing the last query so I removed C from the query and still A.csv and B.csv are blank. There&#39;s no formatting difference between these names and no nulls or anything that could throw off the output. I just can&#39;t figure out why ONE of them always works? \r\nJust to reiterate: the query is valid and the console output is correct and what I&#39;m trying to write to those files:\r\n \r\n```java\r\nwhile (rsGroups.next()) {\r\n\r\n    String groupcode = rsGroups.getString(&quot;GroupCode&quot;);\r\n    String groupname = rsGroups.getString(&quot;groupname&quot;);\r\n    String sqlGetComms = &quot;Select companyname from companies where groupcode =&#39;&quot; + groupcode + &quot;&#39;&quot;;\r\n    System.out.println(sqlGetComms);\r\n    ResultSet rs2 = st.executeQuery(sqlGetComms);\r\n    FileWriter fstream = new FileWriter(&quot;C:\\\\temp\\\\&quot; + groupname + &quot;comms.csv&quot;);\r\n    BufferedWriter out = new BufferedWriter(fstream);\r\n            \r\n    while (rs2.next()) { \r\n        out.write(rs2.getString(&quot;CompanyName&quot;) );\r\n        System.out.println(rs2.getString(&quot;companyname&quot;));\r\n        out.newLine();\r\n    }\r\n    rs2.close();\r\n            \r\n    fstream.close();\r\n   // fstream.flush();\r\n}\r\nSystem.out.println(&quot;done&quot;);\r\n```","title":"Java CSV writer fails but data is there","body":"<p>I am trying to write the output of a query to a CSV file. I issue three queries to a table with three companies (CompanyA, CompanyB, CompanyC) and output the result of each query to a csv file (A.csv, B.csv, C.csv).</p>\n<p>The queries are valid and <code>System.out.println</code> (below) produces correct names.</p>\n<p>However, when I check the output files only CompanyC is populated. CompanyA and B are blank. I thought it was only processing the last query so I removed C from the query and still A.csv and B.csv are blank. There's no formatting difference between these names and no nulls or anything that could throw off the output. I just can't figure out why ONE of them always works?\nJust to reiterate: the query is valid and the console output is correct and what I'm trying to write to those files:</p>\n<pre class=\"lang-java prettyprint-override\"><code>while (rsGroups.next()) {\n\n    String groupcode = rsGroups.getString(&quot;GroupCode&quot;);\n    String groupname = rsGroups.getString(&quot;groupname&quot;);\n    String sqlGetComms = &quot;Select companyname from companies where groupcode ='&quot; + groupcode + &quot;'&quot;;\n    System.out.println(sqlGetComms);\n    ResultSet rs2 = st.executeQuery(sqlGetComms);\n    FileWriter fstream = new FileWriter(&quot;C:\\\\temp\\\\&quot; + groupname + &quot;comms.csv&quot;);\n    BufferedWriter out = new BufferedWriter(fstream);\n            \n    while (rs2.next()) { \n        out.write(rs2.getString(&quot;CompanyName&quot;) );\n        System.out.println(rs2.getString(&quot;companyname&quot;));\n        out.newLine();\n    }\n    rs2.close();\n            \n    fstream.close();\n   // fstream.flush();\n}\nSystem.out.println(&quot;done&quot;);\n</code></pre>\n"},{"tags":["java","spring","spring-boot","jpa","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":5344327,"reputation":1074,"user_id":6771708,"accept_rate":71,"display_name":"namila007"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656534652,"creation_date":1656534652,"answer_id":72807502,"question_id":72805157,"body_markdown":"1. from what i understand from the references, yes you have to use `@Modifying` for an Insert/create/delete ddl query. And you have to use `@Modifying(clearAutomatically=true, flushAutomatically=true)` if you are doing more update/modifying operations before or after another update/modifying operations. In the given SO he clearly stated whats happening if you are not using those two flags.\r\n\r\n2. `@Transactional` should use for the service method/ business method. if you execute set of selections, updates, deletion in one business logic, those will be grouped and one persistence context will be used for them. so your micro query changes are visible to other micro queries with in the transaction(there can be many micro queries in your business logic code). Even if you use those above flags without using `@transaction` those changes wont visible to other micro queries as its work in different transaction level and which will fail your business logic .","title":"@Modifying annotation in the latest Spring Data JPA versions?","body":"<ol>\n<li><p>from what i understand from the references, yes you have to use <code>@Modifying</code> for an Insert/create/delete ddl query. And you have to use <code>@Modifying(clearAutomatically=true, flushAutomatically=true)</code> if you are doing more update/modifying operations before or after another update/modifying operations. In the given SO he clearly stated whats happening if you are not using those two flags.</p>\n</li>\n<li><p><code>@Transactional</code> should use for the service method/ business method. if you execute set of selections, updates, deletion in one business logic, those will be grouped and one persistence context will be used for them. so your micro query changes are visible to other micro queries with in the transaction(there can be many micro queries in your business logic code). Even if you use those above flags without using <code>@transaction</code> those changes wont visible to other micro queries as its work in different transaction level and which will fail your business logic .</p>\n</li>\n</ol>\n"}],"owner":{"display_name":"user19254373"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":845,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1656534652,"creation_date":1656521600,"question_id":72805157,"body_markdown":"I am new in Spring data JPA and when I am searching I also read [Spring Data JPA @Modifying Annotation](https://www.baeldung.com/spring-data-jpa-modifying-annotation) and [https://stackoverflow.com/questions/43665090/why-do-we-have-to-use-modifying-annotation-for-queries-in-data-jpa](https://stackoverflow.com/questions/43665090/why-do-we-have-to-use-modifying-annotation-for-queries-in-data-jpa). \r\n\r\nAfter reading the accepted answer on SO page, I am confused. Now, could you pls clarify me about the following issues?\r\n\r\n**1.** Should we still need to use @Modifying Annotation in the last version(s) of Spring Data JPA? If so, could you explain how should I use properly (any annotation for proper usage)? \r\n\r\n**2.** I am also wondering if the similar issue is valid for `@Transactional` annotation? Should we also need to use it for the create, update and delete methods in Spring Boot service methods? If so, could you also give a proper usage examples for an example scenario? ","title":"@Modifying annotation in the latest Spring Data JPA versions?","body":"<p>I am new in Spring data JPA and when I am searching I also read <a href=\"https://www.baeldung.com/spring-data-jpa-modifying-annotation\" rel=\"nofollow noreferrer\">Spring Data JPA @Modifying Annotation</a> and <a href=\"https://stackoverflow.com/questions/43665090/why-do-we-have-to-use-modifying-annotation-for-queries-in-data-jpa\">why do we have to use @Modifying annotation for queries in Data Jpa</a>.</p>\n<p>After reading the accepted answer on SO page, I am confused. Now, could you pls clarify me about the following issues?</p>\n<p><strong>1.</strong> Should we still need to use @Modifying Annotation in the last version(s) of Spring Data JPA? If so, could you explain how should I use properly (any annotation for proper usage)?</p>\n<p><strong>2.</strong> I am also wondering if the similar issue is valid for <code>@Transactional</code> annotation? Should we also need to use it for the create, update and delete methods in Spring Boot service methods? If so, could you also give a proper usage examples for an example scenario?</p>\n"},{"tags":["java","datetime","localdate"],"comments":[{"owner":{"account_id":3702133,"reputation":2669,"user_id":3081519,"accept_rate":53,"display_name":"user3081519"},"score":0,"creation_date":1656369818,"post_id":72778921,"comment_id":128550877,"body_markdown":"@DawoodibnKareem that would require me if-elseing distinguishing between chronounits rather than being agnostic to which one is passed. But I agree, that method would work for the quarter use case.","body":"@DawoodibnKareem that would require me if-elseing distinguishing between chronounits rather than being agnostic to which one is passed. But I agree, that method would work for the quarter use case."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1656369910,"post_id":72778921,"comment_id":128550892,"body_markdown":"But Quarters aren&#39;t a [`ChronoUnit`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/temporal/ChronoUnit.html) anyway","body":"But Quarters aren&#39;t a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/temporal/ChronoUnit.html\" rel=\"nofollow noreferrer\"><code>ChronoUnit</code></a> anyway"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1656371299,"post_id":72778921,"comment_id":128551130,"body_markdown":"You could make your own enum that has the units that you want to support, along with a lambda in the enum that  references the different methods you&#39;ll need.  The enum itself will be a bit hairy, but the use of it will be very clean.","body":"You could make your own enum that has the units that you want to support, along with a lambda in the enum that  references the different methods you&#39;ll need.  The enum itself will be a bit hairy, but the use of it will be very clean."},{"owner":{"account_id":3702133,"reputation":2669,"user_id":3081519,"accept_rate":53,"display_name":"user3081519"},"score":0,"creation_date":1656372169,"post_id":72778921,"comment_id":128551289,"body_markdown":"Yeah, that&#39;s exactly what I am doing. I am implementing the enum, but want it to be pretty and was wondering if there is a well-defined java pattern for something like that.","body":"Yeah, that&#39;s exactly what I am doing. I am implementing the enum, but want it to be pretty and was wondering if there is a well-defined java pattern for something like that."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1656373352,"post_id":72778921,"comment_id":128551483,"body_markdown":"OK, it wasn&#39;t clear from your question that you were creating your own enum instead of using the JDK `ChronoUnit` enum.  As I said, the pattern is that the enum has a field which is a method reference.  I guess its type would be `Function&lt;LocalDate,LocalDate&gt;` in your case.  Then you&#39;d assign a different lambda for each element of your enum.  That way, all the code for finding the &quot;start of&quot; a unit is wrapped up in the enum itself.","body":"OK, it wasn&#39;t clear from your question that you were creating your own enum instead of using the JDK <code>ChronoUnit</code> enum.  As I said, the pattern is that the enum has a field which is a method reference.  I guess its type would be <code>Function&lt;LocalDate,LocalDate&gt;</code> in your case.  Then you&#39;d assign a different lambda for each element of your enum.  That way, all the code for finding the &quot;start of&quot; a unit is wrapped up in the enum itself."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1656373546,"post_id":72778921,"comment_id":128551505,"body_markdown":"Just a tip - don&#39;t call your enum `ChronoUnit`, because it will create confusion down the track with the JDK `ChronoUnit`.","body":"Just a tip - don&#39;t call your enum <code>ChronoUnit</code>, because it will create confusion down the track with the JDK <code>ChronoUnit</code>."}],"answers":[{"tags":[],"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656369756,"creation_date":1656369756,"answer_id":72778982,"question_id":72778921,"body_markdown":"You can use the `firstMonthOfQuarter` method of the `Month` enum to help you adjust a `LocalDate` to the beginning of the quarter.  A solution using this could look something like this.\r\n\r\n    public static LocalDate startOfQuarter(LocalDate arg) {\r\n        Month firstMonthOfQuarter = arg.getMonth().firstMonthOfQuarter();\r\n        return arg.withDayOfMonth(1).withMonth(firstMonthOfQuarter.getValue());\r\n    }","title":"How to find the first day of any ChronoUnit including quarters in Java?","body":"<p>You can use the <code>firstMonthOfQuarter</code> method of the <code>Month</code> enum to help you adjust a <code>LocalDate</code> to the beginning of the quarter.  A solution using this could look something like this.</p>\n<pre><code>public static LocalDate startOfQuarter(LocalDate arg) {\n    Month firstMonthOfQuarter = arg.getMonth().firstMonthOfQuarter();\n    return arg.withDayOfMonth(1).withMonth(firstMonthOfQuarter.getValue());\n}\n</code></pre>\n"}],"owner":{"account_id":3702133,"reputation":2669,"user_id":3081519,"accept_rate":53,"display_name":"user3081519"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656533395,"creation_date":1656369081,"question_id":72778921,"body_markdown":"What I am trying to achieve is a simple method which would use a ChronoUnit + duration to return the first day of the following ChronoUnit. \r\n\r\nContext: \r\n```\r\n\r\nChronoUnit unit = ChronoUnit.MONTHS(WEEKS, QUARTERS, YEARS, DAYS); // Supplied by an enum instance\r\nDateTimeFormatter df = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;);\r\nLocalDate start = LocalDate.parse(&quot;1990-12-15&quot;,df);\r\nLocalDate end = LocalDate.parse(&quot;1991-06-07&quot;,df);\r\nLocalDate lastCompoundDate = end;\r\nLocalDate current = start;\r\nArrayList compoundingDates = new ArrayList&lt;LocalDate&gt;();\r\n\r\nwhile (current.isBefore(end)) {\r\n    compoundingDates.add(current);\r\n    current = findFirstDateOf(current.plus(duration, unit), unit);\r\n    \r\n}\r\n\r\ncompoundingDates.add(end)\r\n\r\nreturn CompoundingDates\r\n```\r\n\r\nNot sure what my best bet for the implementation is, I googled and it seems like getting a a first day of week and month might be trivial with standard java classes, but quarters are a bit tricker. I found people suggesting this: https://www.threeten.org/threeten-extra/ as well, but don&#39;t know if that&#39;s a way to go since it doesn&#39;t provide a clear interface I am looking for. \r\n\r\nIn a nutshell, I just want to avoid doing all the `if-elif-elif` depending on the type of chrono unit and wonder if there is a clean, simple way to express that in java. If it&#39;s impossible at least maybe there is a clean way to do it for everything, but quarters?\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"How to find the first day of any ChronoUnit including quarters in Java?","body":"<p>What I am trying to achieve is a simple method which would use a ChronoUnit + duration to return the first day of the following ChronoUnit.</p>\n<p>Context:</p>\n<pre><code>\nChronoUnit unit = ChronoUnit.MONTHS(WEEKS, QUARTERS, YEARS, DAYS); // Supplied by an enum instance\nDateTimeFormatter df = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;);\nLocalDate start = LocalDate.parse(&quot;1990-12-15&quot;,df);\nLocalDate end = LocalDate.parse(&quot;1991-06-07&quot;,df);\nLocalDate lastCompoundDate = end;\nLocalDate current = start;\nArrayList compoundingDates = new ArrayList&lt;LocalDate&gt;();\n\nwhile (current.isBefore(end)) {\n    compoundingDates.add(current);\n    current = findFirstDateOf(current.plus(duration, unit), unit);\n    \n}\n\ncompoundingDates.add(end)\n\nreturn CompoundingDates\n</code></pre>\n<p>Not sure what my best bet for the implementation is, I googled and it seems like getting a a first day of week and month might be trivial with standard java classes, but quarters are a bit tricker. I found people suggesting this: <a href=\"https://www.threeten.org/threeten-extra/\" rel=\"nofollow noreferrer\">https://www.threeten.org/threeten-extra/</a> as well, but don't know if that's a way to go since it doesn't provide a clear interface I am looking for.</p>\n<p>In a nutshell, I just want to avoid doing all the <code>if-elif-elif</code> depending on the type of chrono unit and wonder if there is a clean, simple way to express that in java. If it's impossible at least maybe there is a clean way to do it for everything, but quarters?</p>\n"},{"tags":["java","serialization"],"comments":[{"owner":{"account_id":359062,"reputation":6355,"user_id":700232,"accept_rate":83,"display_name":"Kalpak Gadre"},"score":0,"creation_date":1334897801,"post_id":10240426,"comment_id":13160216,"body_markdown":"You can control what gets serialized and what form using interface\n    java.io.Externalizable \nBut it will create object for you when de-serializing using the default constructor, so I believe there is no way for you to instruct it to use some specific constructor. Only possible way to do it is by doing serialization on your own.","body":"You can control what gets serialized and what form using interface     java.io.Externalizable  But it will create object for you when de-serializing using the default constructor, so I believe there is no way for you to instruct it to use some specific constructor. Only possible way to do it is by doing serialization on your own."}],"answers":[{"tags":[],"owner":{"account_id":451780,"reputation":6004,"user_id":847853,"accept_rate":68,"display_name":"Low Flying Pelican"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1472481237,"creation_date":1334898438,"answer_id":10240575,"question_id":10240426,"body_markdown":"xstream does support using constructors other than default one in the enhanced mode.\r\n\r\nhttp://x-stream.github.io/index.html","title":"How to serialize specific fields of an object?","body":"<p>xstream does support using constructors other than default one in the enhanced mode.</p>\n\n<p><a href=\"http://x-stream.github.io/index.html\" rel=\"nofollow\">http://x-stream.github.io/index.html</a></p>\n"},{"tags":[],"owner":{"account_id":1375604,"reputation":7717,"user_id":1309650,"accept_rate":33,"display_name":"dash1e"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1334898642,"creation_date":1334898642,"answer_id":10240606,"question_id":10240426,"body_markdown":"If you change your class `Person` so that it implements `Serializable` then you can simply use Java serialization features. And the deserialization process will recreates all the object hierarchy.\r\n\r\nYou don&#39;t need any other library if your task is simply serialize and store that class.\r\n\r\nHere a simple [article][1] on Java serialization.\r\n\r\n\r\n  [1]: http://java.sun.com/developer/technicalArticles/Programming/serialization/","title":"How to serialize specific fields of an object?","body":"<p>If you change your class <code>Person</code> so that it implements <code>Serializable</code> then you can simply use Java serialization features. And the deserialization process will recreates all the object hierarchy.</p>\n\n<p>You don't need any other library if your task is simply serialize and store that class.</p>\n\n<p>Here a simple <a href=\"http://java.sun.com/developer/technicalArticles/Programming/serialization/\" rel=\"nofollow\">article</a> on Java serialization.</p>\n"},{"tags":[],"owner":{"account_id":46617,"reputation":2395,"user_id":137772,"display_name":"Vic Fryzel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1334899402,"creation_date":1334899402,"answer_id":10240705,"question_id":10240426,"body_markdown":"You can do this using [Gson](http://code.google.com/p/google-gson/) to serialize and deserialize objects to and from a JSON representation.  Gson has built in serializers and deserializers that are capable of handling generic objects, but if you require something special, then you can implement your own.  In the example mentioned in the question, the generic serializers and deserializers would probably work if the class had a constructor with no arguments.\r\n\r\nThe simple way to do what you need is as follows:\r\n\r\n    public class Person {\r\n      private String name;\r\n      private int age;\r\n      private Person parent = null;\r\n\r\n      public Person() {\r\n        // Required no-args constructor for Gson.\r\n      }\r\n\r\n      public Person(String name, int age) {\r\n        this.name = name;\r\n        this.age = age;\r\n      }\r\n    }\r\n\r\n**Serialization**\r\n\r\n    Person joe = new Person(&quot;Joe&quot;, 20);\r\n    Gson gson = new Gson();\r\n    String json = gson.toJson(joe);  \r\n    ==&gt; json is {&quot;name&quot;:&quot;Joe&quot;,&quot;age&quot;:&quot;20&quot;}\r\n\r\nNote that you can not serialize objects with circular references since that will result in infinite recursion.  Also, the example provided in the question would not be possible, as parents would be instantiated indefinitely.\r\n\r\n**Deserialization**\r\n\r\n    Person joe = gson.fromJson(json, Person.class);\r\n\r\n\r\nIf you need something more custom than this, you can use custom serialization and deserialization.  From the [user guide](https://sites.google.com/site/gson/gson-user-guide#TOC-Custom-Serialization-and-Deserialization):\r\n\r\n&gt; **Custom Serialization and Deserialization**\r\n&gt;\r\n&gt; Sometimes default representation is not what you want. This is often\r\n&gt; the case when dealing with library classes (DateTime, etc).  Gson\r\n&gt; allows you to register your own custom serializers and deserializers.\r\n&gt; This is done by defining two parts:  Json Serialiers: Need to define\r\n&gt; custom serialization for an object Json Deserializers: Needed to\r\n&gt; define custom deserialization for a type Instance Creators: Not needed\r\n&gt; if no-args constructor is available or a deserializer is registered\r\n&gt;\r\n&gt;     GsonBuilder gson = new GsonBuilder();\r\n&gt;     gson.registerTypeAdapter(MyType2.class, new MyTypeAdapter());\r\n&gt;     gson.registerTypeAdapter(MyType.class, new MySerializer());\r\n&gt;     gson.registerTypeAdapter(MyType.class, new MyDeserializer());\r\n&gt;     gson.registerTypeAdapter(MyType.class, new MyInstanceCreator());\r\n&gt; \r\n&gt; registerTypeAdapter call checks if the type adapter implements more\r\n&gt; than one of these interfaces and register it for all of them.\r\n&gt;\r\n&gt; **Writing a Serializer**\r\n&gt; \r\n&gt; Here is an example of how to write a custom serializer for JodaTime\r\n&gt; DateTime class. \r\n&gt; \r\n&gt;     private class DateTimeSerializer implements JsonSerializer&lt;DateTime&gt; {\r\n&gt;       public JsonElement serialize(DateTime src, Type typeOfSrc,\r\n&gt;           JsonSerializationContext context) {\r\n&gt;         return new JsonPrimitive(src.toString());\r\n&gt;       }\r\n&gt;     }\r\n&gt; \r\n&gt; Gson calls toJson() when it runs into a DateTime object during\r\n&gt; serialization.\r\n&gt;\r\n&gt; **Writing a Deserializer**\r\n&gt; \r\n&gt; Here is an example of how to write a custom deserializer for JodaTime\r\n&gt; DateTime class. \r\n&gt; \r\n&gt;     private class DateTimeDeserializer implements\r\n&gt;         JsonDeserializer&lt;DateTime&gt; {\r\n&gt;       public DateTime deserialize(JsonElement\r\n&gt;           json, Type typeOfT, JsonDeserializationContext context)\r\n&gt;           throws JsonParseException {\r\n&gt;         return new DateTime(json.getAsJsonPrimitive().getAsString());\r\n&gt;       }\r\n&gt;     }\r\n&gt;\r\n&gt; Gson calls fromJson() when it needs to deserialize a JSON string fragment into a DateTime object","title":"How to serialize specific fields of an object?","body":"<p>You can do this using <a href=\"http://code.google.com/p/google-gson/\" rel=\"nofollow\">Gson</a> to serialize and deserialize objects to and from a JSON representation.  Gson has built in serializers and deserializers that are capable of handling generic objects, but if you require something special, then you can implement your own.  In the example mentioned in the question, the generic serializers and deserializers would probably work if the class had a constructor with no arguments.</p>\n\n<p>The simple way to do what you need is as follows:</p>\n\n<pre><code>public class Person {\n  private String name;\n  private int age;\n  private Person parent = null;\n\n  public Person() {\n    // Required no-args constructor for Gson.\n  }\n\n  public Person(String name, int age) {\n    this.name = name;\n    this.age = age;\n  }\n}\n</code></pre>\n\n<p><strong>Serialization</strong></p>\n\n<pre><code>Person joe = new Person(\"Joe\", 20);\nGson gson = new Gson();\nString json = gson.toJson(joe);  \n==&gt; json is {\"name\":\"Joe\",\"age\":\"20\"}\n</code></pre>\n\n<p>Note that you can not serialize objects with circular references since that will result in infinite recursion.  Also, the example provided in the question would not be possible, as parents would be instantiated indefinitely.</p>\n\n<p><strong>Deserialization</strong></p>\n\n<pre><code>Person joe = gson.fromJson(json, Person.class);\n</code></pre>\n\n<p>If you need something more custom than this, you can use custom serialization and deserialization.  From the <a href=\"https://sites.google.com/site/gson/gson-user-guide#TOC-Custom-Serialization-and-Deserialization\" rel=\"nofollow\">user guide</a>:</p>\n\n<blockquote>\n  <p><strong>Custom Serialization and Deserialization</strong></p>\n  \n  <p>Sometimes default representation is not what you want. This is often\n  the case when dealing with library classes (DateTime, etc).  Gson\n  allows you to register your own custom serializers and deserializers.\n  This is done by defining two parts:  Json Serialiers: Need to define\n  custom serialization for an object Json Deserializers: Needed to\n  define custom deserialization for a type Instance Creators: Not needed\n  if no-args constructor is available or a deserializer is registered</p>\n\n<pre><code>GsonBuilder gson = new GsonBuilder();\ngson.registerTypeAdapter(MyType2.class, new MyTypeAdapter());\ngson.registerTypeAdapter(MyType.class, new MySerializer());\ngson.registerTypeAdapter(MyType.class, new MyDeserializer());\ngson.registerTypeAdapter(MyType.class, new MyInstanceCreator());\n</code></pre>\n  \n  <p>registerTypeAdapter call checks if the type adapter implements more\n  than one of these interfaces and register it for all of them.</p>\n  \n  <p><strong>Writing a Serializer</strong></p>\n  \n  <p>Here is an example of how to write a custom serializer for JodaTime\n  DateTime class. </p>\n\n<pre><code>private class DateTimeSerializer implements JsonSerializer&lt;DateTime&gt; {\n  public JsonElement serialize(DateTime src, Type typeOfSrc,\n      JsonSerializationContext context) {\n    return new JsonPrimitive(src.toString());\n  }\n}\n</code></pre>\n  \n  <p>Gson calls toJson() when it runs into a DateTime object during\n  serialization.</p>\n  \n  <p><strong>Writing a Deserializer</strong></p>\n  \n  <p>Here is an example of how to write a custom deserializer for JodaTime\n  DateTime class. </p>\n\n<pre><code>private class DateTimeDeserializer implements\n    JsonDeserializer&lt;DateTime&gt; {\n  public DateTime deserialize(JsonElement\n      json, Type typeOfT, JsonDeserializationContext context)\n      throws JsonParseException {\n    return new DateTime(json.getAsJsonPrimitive().getAsString());\n  }\n}\n</code></pre>\n  \n  <p>Gson calls fromJson() when it needs to deserialize a JSON string fragment into a DateTime object</p>\n</blockquote>\n"}],"owner":{"account_id":893145,"reputation":1571,"user_id":931037,"accept_rate":56,"display_name":"delita"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":411,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1656533198,"creation_date":1334897327,"question_id":10240426,"body_markdown":"I would like to serialize certain fields on an object. And during the deserialization process force to to re-construct the object by going thru the appropriate constructor. Is this possible ?\r\n\r\nFor Example:\r\n\r\n    public Person()\r\n    {\r\n        private String name;\r\n        private int age;\r\n        private Person parent;\r\n        \r\n        void Person(String name, int age)\r\n        {\r\n            this.name = name;\r\n            this.age = age;\r\n\r\n            this.parent = new Person(&quot;Mom&quot;, 65);\r\n        }\r\n    }\r\n\r\n\r\nI would like to store the &quot;name&quot; and &quot;age&quot; fields of person. And when deserializing, to call the constructor and re-create the parent object. ","title":"How to serialize specific fields of an object?","body":"<p>I would like to serialize certain fields on an object. And during the deserialization process force to to re-construct the object by going thru the appropriate constructor. Is this possible ?</p>\n\n<p>For Example:</p>\n\n<pre><code>public Person()\n{\n    private String name;\n    private int age;\n    private Person parent;\n\n    void Person(String name, int age)\n    {\n        this.name = name;\n        this.age = age;\n\n        this.parent = new Person(\"Mom\", 65);\n    }\n}\n</code></pre>\n\n<p>I would like to store the \"name\" and \"age\" fields of person. And when deserializing, to call the constructor and re-create the parent object. </p>\n"},{"tags":["java"],"comments":[{"owner":{"display_name":"user554546"},"score":12,"creation_date":1345495023,"post_id":12044721,"comment_id":16081000,"body_markdown":"1. Try benchmarking. 2. I&#39;d almost bet precious parts of my anatomy that casting a String to a boolean value is **not** the performance bottleneck of whatever application you&#39;re working on.","body":"1. Try benchmarking. 2. I&#39;d almost bet precious parts of my anatomy that casting a String to a boolean value is <b>not</b> the performance bottleneck of whatever application you&#39;re working on."},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1345495119,"post_id":12044721,"comment_id":16081043,"body_markdown":"(The answer is almost certainly 3, but you should really have experimented first.)","body":"(The answer is almost certainly 3, but you should really have experimented first.)"},{"owner":{"account_id":12404,"reputation":62016,"user_id":24396,"accept_rate":74,"display_name":"Steve Kuo"},"score":0,"creation_date":1345495435,"post_id":12044721,"comment_id":16081143,"body_markdown":"This is a legitimate question. It&#39;s difficult to benchmark correctly in Java. I think it&#39;s reasonable that the poster didn&#39;t attempt to.","body":"This is a legitimate question. It&#39;s difficult to benchmark correctly in Java. I think it&#39;s reasonable that the poster didn&#39;t attempt to."},{"owner":{"display_name":"user554546"},"score":0,"creation_date":1345495517,"post_id":12044721,"comment_id":16081170,"body_markdown":"How would it be difficult to benchmark this? Just do each of 1, 2, and 3, say, 1 million times, and compare the distribution of timings.","body":"How would it be difficult to benchmark this? Just do each of 1, 2, and 3, say, 1 million times, and compare the distribution of timings."},{"owner":{"account_id":299251,"reputation":335905,"user_id":605744,"accept_rate":100,"display_name":"Tomasz Nurkiewicz"},"score":3,"creation_date":1345495662,"post_id":12044721,"comment_id":16081234,"body_markdown":"@JackManey: it&#39;s difficult due to JIT, method inlining, virtual calls optimization, unpredictable GC pauses...","body":"@JackManey: it&#39;s difficult due to JIT, method inlining, virtual calls optimization, unpredictable GC pauses..."},{"owner":{"account_id":12404,"reputation":62016,"user_id":24396,"accept_rate":74,"display_name":"Steve Kuo"},"score":1,"creation_date":1345496029,"post_id":12044721,"comment_id":16081366,"body_markdown":"@JackManey See Brian Goetz&#39;s article on microbenchmarking http://www.ibm.com/developerworks/java/library/j-jtp02225/index.html","body":"@JackManey See Brian Goetz&#39;s article on microbenchmarking <a href=\"http://www.ibm.com/developerworks/java/library/j-jtp02225/index.html\" rel=\"nofollow noreferrer\">ibm.com/developerworks/java/library/j-jtp02225/index.html</a>"}],"answers":[{"tags":[],"owner":{"account_id":299251,"reputation":335905,"user_id":605744,"accept_rate":100,"display_name":"Tomasz Nurkiewicz"},"down_vote_count":0,"up_vote_count":22,"is_accepted":true,"score":22,"last_activity_date":1656533186,"creation_date":1345495125,"answer_id":12044775,"question_id":12044721,"body_markdown":"    boolean value = new Boolean(&quot;true&quot;).booleanValue();\r\n\r\nis the worst. It creates new `Boolean` objects all the time. BTW, `booleanValue()` is not necessary; unboxing will do it for you.\r\n\r\n    boolean value = Boolean.valueOf(&quot;true&quot;);\r\n\r\nis much better. It uses a cached `Boolean` instance, but it performs unnecessary (although very cheap) unboxing.\r\n\r\n    boolean value = Boolean.parseBoolean(&quot;true&quot;);\r\n\r\nis best. Nothing is wasted, it operates barely on primitives, and no memory allocations are involved. BTW, all of them delegate to (Sun/Oracle):\r\n\r\n    private static boolean toBoolean(String name) { \r\n      return ((name != null) &amp;&amp; name.equalsIgnoreCase(&quot;true&quot;));\r\n    }\r\n\r\nIf you are paranoid, you can create your own `toBoolean(String name)` not ignoring case&amp;mdash; it is negligibly faster:\r\n\r\n    boolean value = &quot;true&quot;.equals(yourString);\r\n","title":"Best performance for string-to-Boolean conversion","body":"<pre><code>boolean value = new Boolean(&quot;true&quot;).booleanValue();\n</code></pre>\n<p>is the worst. It creates new <code>Boolean</code> objects all the time. BTW, <code>booleanValue()</code> is not necessary; unboxing will do it for you.</p>\n<pre><code>boolean value = Boolean.valueOf(&quot;true&quot;);\n</code></pre>\n<p>is much better. It uses a cached <code>Boolean</code> instance, but it performs unnecessary (although very cheap) unboxing.</p>\n<pre><code>boolean value = Boolean.parseBoolean(&quot;true&quot;);\n</code></pre>\n<p>is best. Nothing is wasted, it operates barely on primitives, and no memory allocations are involved. BTW, all of them delegate to (Sun/Oracle):</p>\n<pre><code>private static boolean toBoolean(String name) { \n  return ((name != null) &amp;&amp; name.equalsIgnoreCase(&quot;true&quot;));\n}\n</code></pre>\n<p>If you are paranoid, you can create your own <code>toBoolean(String name)</code> not ignoring case‚Äî it is negligibly faster:</p>\n<pre><code>boolean value = &quot;true&quot;.equals(yourString);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":977580,"reputation":1834,"user_id":998181,"accept_rate":40,"display_name":"davidmontoyago"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1656532690,"creation_date":1345495154,"answer_id":12044777,"question_id":12044721,"body_markdown":"The second and third one are the best options since they are **static factory methods** and internally they can reuse references.\r\n\r\nLooking at the `Boolean.valueOf(&quot;true&quot;)` and `Boolean.parseBoolean(&quot;true&quot;)` implementations, they both do the same (they both call `toBoolean(s);`) with the difference that `valueOf` returns the Boxed type.\r\n","title":"Best performance for string-to-Boolean conversion","body":"<p>The second and third one are the best options since they are <strong>static factory methods</strong> and internally they can reuse references.</p>\n<p>Looking at the <code>Boolean.valueOf(&quot;true&quot;)</code> and <code>Boolean.parseBoolean(&quot;true&quot;)</code> implementations, they both do the same (they both call <code>toBoolean(s);</code>) with the difference that <code>valueOf</code> returns the Boxed type.</p>\n"},{"tags":[],"owner":{"account_id":356129,"reputation":5868,"user_id":695461,"accept_rate":81,"display_name":"Daniel Moses"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1656532767,"creation_date":1345495226,"answer_id":12044791,"question_id":12044721,"body_markdown":"Here is the source:\r\n\r\n    public static Boolean valueOf(String s) {\r\n    \treturn toBoolean(s) ? TRUE : FALSE;\r\n    }\r\n\r\n    public static boolean parseBoolean(String s) {\r\n        return toBoolean(s);\r\n    }\r\n\r\n    public Boolean(String s) {\r\n\t    this(toBoolean(s));\r\n    }\r\n\r\n    private static boolean toBoolean(String name) {\r\n\t    return ((name != null) &amp;&amp; name.equalsIgnoreCase(&quot;true&quot;));\r\n    }\r\n\r\n\r\n","title":"Best performance for string-to-Boolean conversion","body":"<p>Here is the source:</p>\n<pre><code>public static Boolean valueOf(String s) {\n    return toBoolean(s) ? TRUE : FALSE;\n}\n\npublic static boolean parseBoolean(String s) {\n    return toBoolean(s);\n}\n\npublic Boolean(String s) {\n    this(toBoolean(s));\n}\n\nprivate static boolean toBoolean(String name) {\n    return ((name != null) &amp;&amp; name.equalsIgnoreCase(&quot;true&quot;));\n}\n</code></pre>\n"}],"owner":{"account_id":249229,"reputation":3938,"user_id":525146,"accept_rate":53,"display_name":"user525146"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2902,"favorite_count":0,"down_vote_count":5,"up_vote_count":11,"accepted_answer_id":12044775,"answer_count":3,"score":6,"last_activity_date":1656533186,"creation_date":1345494845,"question_id":12044721,"body_markdown":"Which of the below options has the best performance while converting string to Boolean?\r\n\r\n1. `boolean value = new Boolean(&quot;true&quot;).booleanValue();`\r\n2. `boolean value = Boolean.valueOf(&quot;true&quot;);`\r\n3. `boolean value = Boolean.parseBoolean(&quot;true&quot;);`\r\n\r\n","title":"Best performance for string-to-Boolean conversion","body":"<p>Which of the below options has the best performance while converting string to Boolean?</p>\n<ol>\n<li><code>boolean value = new Boolean(&quot;true&quot;).booleanValue();</code></li>\n<li><code>boolean value = Boolean.valueOf(&quot;true&quot;);</code></li>\n<li><code>boolean value = Boolean.parseBoolean(&quot;true&quot;);</code></li>\n</ol>\n"},{"tags":["java","multithreading","quarkus","mutiny"],"comments":[{"owner":{"account_id":1268556,"reputation":48088,"user_id":1225328,"accept_rate":93,"display_name":"sp00m"},"score":2,"creation_date":1655220142,"post_id":72619533,"comment_id":128278108,"body_markdown":"The method themselves yeah, but what about the actual supplier? Try to access the thread(s) that effectively run `itemService.getItem(&quot;item_id_1&quot;)` and `itemService.getItemDetail(&quot;dummy_item_id&quot;)`.","body":"The method themselves yeah, but what about the actual supplier? Try to access the thread(s) that effectively run <code>itemService.getItem(&quot;item_id_1&quot;)</code> and <code>itemService.getItemDetail(&quot;dummy_item_id&quot;)</code>."},{"owner":{"account_id":7069330,"reputation":101,"user_id":5411523,"display_name":"Erdem Akkuzu"},"score":0,"creation_date":1655220419,"post_id":72619533,"comment_id":128278229,"body_markdown":"@sp00m yes. Also itemService.getItem(&quot;item_id_1&quot;) and itemService.getItemDetail(&quot;dummy_item_id&quot;) methods run in the same thread too. They work sequentially","body":"@sp00m yes. Also itemService.getItem(&quot;item_id_1&quot;) and itemService.getItemDetail(&quot;dummy_item_id&quot;) methods run in the same thread too. They work sequentially"},{"owner":{"account_id":385127,"reputation":6284,"user_id":742081,"display_name":"Ladicek"},"score":1,"creation_date":1655221859,"post_id":72619533,"comment_id":128278831,"body_markdown":"Your code, or at least the portion you show here, doesn&#39;t really define on which threads should subscription/emission happen. Therefore, they all happen on the original thread. See e.g. https://smallrye.io/smallrye-mutiny/guides/emission-threads for more info.","body":"Your code, or at least the portion you show here, doesn&#39;t really define on which threads should subscription/emission happen. Therefore, they all happen on the original thread. See e.g. <a href=\"https://smallrye.io/smallrye-mutiny/guides/emission-threads\" rel=\"nofollow noreferrer\">smallrye.io/smallrye-mutiny/guides/emission-threads</a> for more info."},{"owner":{"account_id":7069330,"reputation":101,"user_id":5411523,"display_name":"Erdem Akkuzu"},"score":0,"creation_date":1655282592,"post_id":72619533,"comment_id":128293220,"body_markdown":"@Ladicek I edited the question. Can you take a look please?","body":"@Ladicek I edited the question. Can you take a look please?"},{"owner":{"account_id":385127,"reputation":6284,"user_id":742081,"display_name":"Ladicek"},"score":1,"creation_date":1655295413,"post_id":72619533,"comment_id":128297754,"body_markdown":"I guess that would be expected -- I should have probably pointed you to https://smallrye.io/smallrye-mutiny/guides/emit-subscription instead. If I understand your question correctly, you want `runSubscriptionOn`, not `emitOn`.","body":"I guess that would be expected -- I should have probably pointed you to <a href=\"https://smallrye.io/smallrye-mutiny/guides/emit-subscription\" rel=\"nofollow noreferrer\">smallrye.io/smallrye-mutiny/guides/emit-subscription</a> instead. If I understand your question correctly, you want <code>runSubscriptionOn</code>, not <code>emitOn</code>."}],"answers":[{"tags":[],"owner":{"account_id":2411568,"reputation":15860,"user_id":2106516,"accept_rate":91,"display_name":"tmarwen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656532819,"creation_date":1656532819,"answer_id":72807179,"question_id":72619533,"body_markdown":"Since you are composing different `Uni`s using `Uni.combine().all().unis().asTuple()`, the combined `Uni` will emit its result (combination) after the last element has emitted its item.\r\n\r\nThe last (upstream) `Uni` will have its item emitted (as is the case for other `Uni`s as well) on whatever `Thread` that you have declaratively set it to emit on. Hence the combination `Uni` will follow execution on the same calling `Thread`.\r\n\r\nAs a result, if you are accessing the combined group values, you will be accessing these on the same execution carrier `Thread`.\r\n","title":"io.smallrye.mutiny.Uni multi threading doesn&#39;t work (Quarkus)","body":"<p>Since you are composing different <code>Uni</code>s using <code>Uni.combine().all().unis().asTuple()</code>, the combined <code>Uni</code> will emit its result (combination) after the last element has emitted its item.</p>\n<p>The last (upstream) <code>Uni</code> will have its item emitted (as is the case for other <code>Uni</code>s as well) on whatever <code>Thread</code> that you have declaratively set it to emit on. Hence the combination <code>Uni</code> will follow execution on the same calling <code>Thread</code>.</p>\n<p>As a result, if you are accessing the combined group values, you will be accessing these on the same execution carrier <code>Thread</code>.</p>\n"}],"owner":{"account_id":7069330,"reputation":101,"user_id":5411523,"display_name":"Erdem Akkuzu"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1023,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1656532819,"creation_date":1655220013,"question_id":72619533,"body_markdown":"I try to perform 2 different operations with different threads each.Here is my code : \r\n\r\n     Uni.combine().all()\r\n                .unis(getItem(), getItemDetails())\r\n                .asTuple().subscribe().with(tuple -&gt; {\r\n                    context.setItem(tuple.getItem1());\r\n                    context.setItemDetails(tuple.getItem2());\r\n                });\r\n\r\nMethods : \r\n\r\n    public Uni&lt;ItemResponse&gt; callGetItem(){\r\n        Supplier&lt;ItemResponse&gt; supplier = () -&gt; itemService.getItem(&quot;item_id_1&quot;);\r\n        return Uni.createFrom().item(supplier);\r\n    }\r\n\r\n    public Uni&lt;ItemDetailsResponse&gt; callGetItemDetail(){\r\n            Supplier&lt;ItemDetailsResponse&gt; supplier = () -&gt; itemService.getItemDetail(&quot;dummy_item_id&quot;);\r\n            return Uni.createFrom().item(supplier) ;\r\n        }\r\n\r\nBut when i run the code both **callGetItem()** and **callGetItemDetail()** methods works in the same thread (executor-thread-0). \r\n\r\nWhere am i doing wrong?\r\n\r\nEdit:\r\n\r\nWhen i give an executor service  Executors.newFixedThreadPool(2) for my Unis,\r\nThey still work in single thread. I mofified callGetItem() and callGetItemDetail() as :\r\n\r\n   \r\n\r\n     public Uni&lt;ItemResponse&gt; callGetItem(){\r\n        Supplier&lt;ItemResponse&gt; supplier = () -&gt; itemService.getItem(&quot;item_id_1&quot;);\r\n        return Uni.createFrom().item(supplier).emitOn(executor);\r\n    }\r\n\r\n    public Uni&lt;ItemDetailsResponse&gt; callGetItemDetail(){\r\n            Supplier&lt;ItemDetailsResponse&gt; supplier = () -&gt; itemService.getItemDetail(&quot;dummy_item_id&quot;);\r\n            return Uni.createFrom().item(supplier).emitOn(executor) ;\r\n        }\r\n\r\n\r\n\r\n\r\n  executor is : \r\n\r\n \r\n\r\n      ExecutorService executor = Executors.newFixedThreadPool(2);\r\n\r\n  but they still works in same thread. Do you have any idea why it happens?\r\n","title":"io.smallrye.mutiny.Uni multi threading doesn&#39;t work (Quarkus)","body":"<p>I try to perform 2 different operations with different threads each.Here is my code :</p>\n<pre><code> Uni.combine().all()\n            .unis(getItem(), getItemDetails())\n            .asTuple().subscribe().with(tuple -&gt; {\n                context.setItem(tuple.getItem1());\n                context.setItemDetails(tuple.getItem2());\n            });\n</code></pre>\n<p>Methods :</p>\n<pre><code>public Uni&lt;ItemResponse&gt; callGetItem(){\n    Supplier&lt;ItemResponse&gt; supplier = () -&gt; itemService.getItem(&quot;item_id_1&quot;);\n    return Uni.createFrom().item(supplier);\n}\n\npublic Uni&lt;ItemDetailsResponse&gt; callGetItemDetail(){\n        Supplier&lt;ItemDetailsResponse&gt; supplier = () -&gt; itemService.getItemDetail(&quot;dummy_item_id&quot;);\n        return Uni.createFrom().item(supplier) ;\n    }\n</code></pre>\n<p>But when i run the code both <strong>callGetItem()</strong> and <strong>callGetItemDetail()</strong> methods works in the same thread (executor-thread-0).</p>\n<p>Where am i doing wrong?</p>\n<p>Edit:</p>\n<p>When i give an executor service  Executors.newFixedThreadPool(2) for my Unis,\nThey still work in single thread. I mofified callGetItem() and callGetItemDetail() as :</p>\n<pre><code> public Uni&lt;ItemResponse&gt; callGetItem(){\n    Supplier&lt;ItemResponse&gt; supplier = () -&gt; itemService.getItem(&quot;item_id_1&quot;);\n    return Uni.createFrom().item(supplier).emitOn(executor);\n}\n\npublic Uni&lt;ItemDetailsResponse&gt; callGetItemDetail(){\n        Supplier&lt;ItemDetailsResponse&gt; supplier = () -&gt; itemService.getItemDetail(&quot;dummy_item_id&quot;);\n        return Uni.createFrom().item(supplier).emitOn(executor) ;\n    }\n</code></pre>\n<p>executor is :</p>\n<pre><code>  ExecutorService executor = Executors.newFixedThreadPool(2);\n</code></pre>\n<p>but they still works in same thread. Do you have any idea why it happens?</p>\n"},{"tags":["java","vb.net","reflection","introspection","instanceof"],"answers":[{"tags":[],"owner":{"account_id":15778,"reputation":416386,"user_id":33708,"accept_rate":83,"display_name":"Mehrdad Afshari"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1245196737,"creation_date":1245196737,"answer_id":1004481,"question_id":1004476,"body_markdown":"    TypeOf obj Is MyClass","title":"What is the VB equivalent of Java&#39;s instanceof and isInstance()?","body":"<pre><code>TypeOf obj Is MyClass\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2212,"reputation":403860,"user_id":3043,"accept_rate":70,"display_name":"Joel Coehoorn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1245196744,"creation_date":1245196744,"answer_id":1004482,"question_id":1004476,"body_markdown":"The VB equivalent to your linked question is almost identical:\r\n\r\n    Dim result As Boolean = obj.GetType().IsAssignableFrom(otherObj.GetType())","title":"What is the VB equivalent of Java&#39;s instanceof and isInstance()?","body":"<p>The VB equivalent to your linked question is almost identical:</p>\n\n<pre><code>Dim result As Boolean = obj.GetType().IsAssignableFrom(otherObj.GetType())\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8403,"reputation":8487,"user_id":15127,"accept_rate":97,"display_name":"Andrew"},"down_vote_count":0,"up_vote_count":21,"is_accepted":true,"score":21,"last_activity_date":1505910780,"creation_date":1245196911,"answer_id":1004488,"question_id":1004476,"body_markdown":"Are you looking for something like `TypeOf`?  This only works with reference types, not int/etc.\r\n\r\n    If TypeOf &quot;value&quot; Is String Then\r\n         Console.WriteLine(&quot;&#39;tis a string, m&#39;lord!&quot;)\r\n\r\n\r\nOr do you want to compare two different instances of variables? Also works for ref types:\r\n\r\n    Dim one As Object = &quot;not an object&quot;\r\n    Dim two As Object = &quot;also not an object, exactly&quot;\r\n    Dim three as Object = 3D\r\n    \r\n    If one.GetType.Equals( two.GetType ) Then WL(&quot;They are the same, man&quot;)\r\n    If one.GetType Is two.GetType then WL(&quot;Also the same&quot;)\r\n    If one.GetType IsNot three.GetType Then WL(&quot;but these aren&#39;t&quot;)\r\n\r\nYou could also use `gettype()` like thus, if you aren&#39;t using two objects:\r\n\r\n    If three.GetType Is gettype(integer) then WL(&quot;is int&quot;)\r\n\r\nIf you want to see if something is a subclass of another type (and are in .net 3.5):\r\n\r\n    If three.GetType.IsSubclassOf(gettype(Object)) then WL(&quot;it is&quot;)\r\n\r\nBut if you want to do that in the earlier versions, you have to flip it (weird to look at) and use:\r\n\r\n    If gettype(Object).IsAssignableFrom(three.GetType) Then WL(&quot;it is&quot;)\r\n\r\n\r\nAll of these compile in [SnippetCompiler][1], so go DL if you don&#39;t have it.\r\n\r\n  [1]: http://www.sliver.com/dotnet/SnippetCompiler/","title":"What is the VB equivalent of Java&#39;s instanceof and isInstance()?","body":"<p>Are you looking for something like <code>TypeOf</code>?  This only works with reference types, not int/etc.</p>\n\n<pre><code>If TypeOf \"value\" Is String Then\n     Console.WriteLine(\"'tis a string, m'lord!\")\n</code></pre>\n\n<p>Or do you want to compare two different instances of variables? Also works for ref types:</p>\n\n<pre><code>Dim one As Object = \"not an object\"\nDim two As Object = \"also not an object, exactly\"\nDim three as Object = 3D\n\nIf one.GetType.Equals( two.GetType ) Then WL(\"They are the same, man\")\nIf one.GetType Is two.GetType then WL(\"Also the same\")\nIf one.GetType IsNot three.GetType Then WL(\"but these aren't\")\n</code></pre>\n\n<p>You could also use <code>gettype()</code> like thus, if you aren't using two objects:</p>\n\n<pre><code>If three.GetType Is gettype(integer) then WL(\"is int\")\n</code></pre>\n\n<p>If you want to see if something is a subclass of another type (and are in .net 3.5):</p>\n\n<pre><code>If three.GetType.IsSubclassOf(gettype(Object)) then WL(\"it is\")\n</code></pre>\n\n<p>But if you want to do that in the earlier versions, you have to flip it (weird to look at) and use:</p>\n\n<pre><code>If gettype(Object).IsAssignableFrom(three.GetType) Then WL(\"it is\")\n</code></pre>\n\n<p>All of these compile in <a href=\"http://www.sliver.com/dotnet/SnippetCompiler/\" rel=\"noreferrer\">SnippetCompiler</a>, so go DL if you don't have it.</p>\n"},{"tags":[],"owner":{"account_id":107968,"reputation":3928,"user_id":286807,"accept_rate":29,"display_name":"Timothy C. Quinn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656532720,"creation_date":1656532720,"answer_id":72807166,"question_id":1004476,"body_markdown":"Not sure when it was implemented but VB now has [Type.IsInstanceOfType(&lt;obj&gt;)][1]:\r\n\r\n&quot;Returns true if the current Type is in the inheritance hierarchy of the object represented by o, or if the current Type is an interface that o implements...&quot;\r\n\r\nExample:\r\n```\r\nDim arr(10) As Integer\r\nIf GetType(Array).IsInstanceOfType(arr) Then _\r\n    Console.WriteLine(&quot;Is int[] an instance of the Array class? {0}.&quot;,\r\n                       GetType(Array).IsInstanceOfType(arr))\r\n\r\n```\r\nOutput: `Is int[] an instance of the Array class? True.`\r\n\r\n  [1]: https://learn.microsoft.com/en-us/dotnet/api/system.type.isinstanceoftype?view=net-6.0","title":"What is the VB equivalent of Java&#39;s instanceof and isInstance()?","body":"<p>Not sure when it was implemented but VB now has <a href=\"https://learn.microsoft.com/en-us/dotnet/api/system.type.isinstanceoftype?view=net-6.0\" rel=\"nofollow noreferrer\">Type.IsInstanceOfType()</a>:</p>\n<p>&quot;Returns true if the current Type is in the inheritance hierarchy of the object represented by o, or if the current Type is an interface that o implements...&quot;</p>\n<p>Example:</p>\n<pre><code>Dim arr(10) As Integer\nIf GetType(Array).IsInstanceOfType(arr) Then _\n    Console.WriteLine(&quot;Is int[] an instance of the Array class? {0}.&quot;,\n                       GetType(Array).IsInstanceOfType(arr))\n\n</code></pre>\n<p>Output: <code>Is int[] an instance of the Array class? True.</code></p>\n"}],"owner":{"account_id":4258,"reputation":76650,"user_id":6340,"accept_rate":84,"display_name":"brasskazoo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15447,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":1004488,"answer_count":4,"score":14,"last_activity_date":1656532720,"creation_date":1245196599,"question_id":1004476,"body_markdown":"In the spirit of the [c#](https://stackoverflow.com/questions/282459/what-is-the-c-equivalent-to-javas-instanceof-and-isinstance) question..\r\n\r\nWhat is the equivalent statements to compare class types in VB.NET?","title":"What is the VB equivalent of Java&#39;s instanceof and isInstance()?","body":"<p>In the spirit of the <a href=\"https://stackoverflow.com/questions/282459/what-is-the-c-equivalent-to-javas-instanceof-and-isinstance\">c#</a> question..</p>\n\n<p>What is the equivalent statements to compare class types in VB.NET?</p>\n"},{"tags":["java","android","string","replace","textwatcher"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1656501414,"post_id":72800362,"comment_id":128586995,"body_markdown":"Possibly related: https://stackoverflow.com/a/16686403","body":"Possibly related: <a href=\"https://stackoverflow.com/a/16686403\">stackoverflow.com/a/16686403</a>"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1656501539,"post_id":72800362,"comment_id":128587050,"body_markdown":"BTW `if(condition) {variable = true;} else {variable=false;}` can be written as `variable = condition;`.","body":"BTW <code>if(condition) {variable = true;} else {variable=false;}</code> can be written as <code>variable = condition;</code>."},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1656503238,"post_id":72800362,"comment_id":128587747,"body_markdown":"So if the user types in `123,456,776`, then the output should be `123.456.776`? You should review your current code. Both `DecimalFormat` have the same pattern. Also, you don&#39;t necessarily correctly identify if a number has decimals. Overall it would probably better to define a format you expect, lets say thousand separator as `,` and decimal as `.` (or vice versa). Then you can parse the input with the correct format. Then you have a number you can in turn format with your desired output format","body":"So if the user types in <code>123,456,776</code>, then the output should be <code>123.456.776</code>? You should review your current code. Both <code>DecimalFormat</code> have the same pattern. Also, you don&#39;t necessarily correctly identify if a number has decimals. Overall it would probably better to define a format you expect, lets say thousand separator as <code>,</code> and decimal as <code>.</code> (or vice versa). Then you can parse the input with the correct format. Then you have a number you can in turn format with your desired output format"},{"owner":{"account_id":25434703,"reputation":11,"user_id":19238594,"display_name":"ivan14"},"score":0,"creation_date":1656505008,"post_id":72800362,"comment_id":128588403,"body_markdown":"The user input is &#39;123456776&#39; and the formatter splits it with ,","body":"The user input is &#39;123456776&#39; and the formatter splits it with ,"},{"owner":{"account_id":25434703,"reputation":11,"user_id":19238594,"display_name":"ivan14"},"score":0,"creation_date":1656505052,"post_id":72800362,"comment_id":128588418,"body_markdown":"i need the thoused separator to be &#39;.&#39; and the decimal separator to be &#39;,&#39;","body":"i need the thoused separator to be &#39;.&#39; and the decimal separator to be &#39;,&#39;"}],"answers":[{"tags":[],"owner":{"account_id":11941592,"reputation":1007,"user_id":8738231,"display_name":"mostafa3dmax"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656531794,"creation_date":1656531794,"answer_id":72807008,"question_id":72800362,"body_markdown":"Use this:\r\n\r\n    DecimalFormat decimalFormat=new DecimalFormat();\r\n    DecimalFormatSymbols decimalFormatSymbols=DecimalFormatSymbols.getInstance();\r\n    decimalFormatSymbols.setDecimalSeparator(&#39;,&#39;);\r\n    decimalFormatSymbols.setGroupingSeparator(&#39;.&#39;);\r\n    decimalFormat.setDecimalFormatSymbols(decimalFormatSymbols);\r\n    String formattedNumber=decimalFormat.format(123456.78);// prints 123.456,78","title":"Replace &quot;,&quot; with &quot;. &quot; in TextWatcher","body":"<p>Use this:</p>\n<pre><code>DecimalFormat decimalFormat=new DecimalFormat();\nDecimalFormatSymbols decimalFormatSymbols=DecimalFormatSymbols.getInstance();\ndecimalFormatSymbols.setDecimalSeparator(',');\ndecimalFormatSymbols.setGroupingSeparator('.');\ndecimalFormat.setDecimalFormatSymbols(decimalFormatSymbols);\nString formattedNumber=decimalFormat.format(123456.78);// prints 123.456,78\n</code></pre>\n"}],"owner":{"account_id":25434703,"reputation":11,"user_id":19238594,"display_name":"ivan14"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656531794,"creation_date":1656500878,"question_id":72800362,"body_markdown":"I am using this TextWatcher for .addtextOnChangeListener, the output of the string is ex: &quot;123,456,77&quot; i want it to be &quot;123.456,77&quot; if i use the replace method on &quot;et&quot; in the &quot;afterTextChanged&quot; method, the number isn&#39;t even formatting. With the code below the listener works and everything, i just don&#39;t know how to replace the &quot;,&quot; with &quot;.&quot; until the decimals.\r\n\r\nIf you think to just change the pattern (&quot;###,##0,00&quot;) it doesn&#39;t work \r\n\r\nThis is the TextWatcher I have for the EditText\r\n\r\n    import android.text.Editable;\r\n    import android.text.TextWatcher;\r\n    import android.widget.EditText;\r\n    \r\n    import java.text.DecimalFormat;\r\n    import java.text.ParseException;\r\n    import java.util.Locale;\r\n    \r\n    public class NumberTextWatcher implements TextWatcher {\r\n    \r\n        private DecimalFormat df;\r\n        private DecimalFormat dfnd;\r\n        private boolean hasFractionalPart;\r\n    \r\n        private EditText et;\r\n    \r\n        public NumberTextWatcher(EditText et)\r\n        {\r\n            df = new DecimalFormat(&quot;###,##0,00&quot;);\r\n            df.setDecimalSeparatorAlwaysShown(true);\r\n            dfnd = new DecimalFormat(&quot;###,##0,00&quot;);\r\n            this.et = et;\r\n            hasFractionalPart = false;\r\n        }\r\n    \r\n        @SuppressWarnings(&quot;unused&quot;)\r\n        private static final String TAG = &quot;NumberTextWatcher&quot;;\r\n    \r\n        @Override\r\n        public void afterTextChanged(Editable s)\r\n        {\r\n    \r\n    \r\n            et.removeTextChangedListener(this);\r\n    \r\n            try {\r\n                int inilen, endlen;\r\n                inilen = et.getText().length();\r\n    \r\n                String v = s.toString().replace(String.valueOf(df.getDecimalFormatSymbols().getGroupingSeparator()), &quot;&quot;);\r\n                Number n = df.parse(v);\r\n                int cp = et.getSelectionStart();\r\n                if (hasFractionalPart) {\r\n                    et.setText(df.format(n));\r\n                } else {\r\n                    et.setText(dfnd.format(n));\r\n                }\r\n                endlen = et.getText().length();\r\n                int sel = (cp + (endlen - inilen));\r\n                if (sel &gt; 0 &amp;&amp; sel &lt;= et.getText().length()) {\r\n                    et.setSelection(sel);\r\n                } else {\r\n                    // place cursor at the end?\r\n                    et.setSelection(et.getText().length() - 1);\r\n                }\r\n    \r\n                \r\n            } catch (NumberFormatException nfe) {\r\n                // do nothing?\r\n            } catch (ParseException e) {\r\n                // do nothing?\r\n            }\r\n    \r\n    \r\n    \r\n            et.addTextChangedListener(this);\r\n    \r\n    \r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void beforeTextChanged(CharSequence s, int start, int count, int after)\r\n        {\r\n        }\r\n    \r\n        @Override\r\n        public void onTextChanged(CharSequence s, int start, int before, int count) {\r\n        int index = s.toString().indexOf(String.valueOf(df.getDecimalFormatSymbols().getDecimalSeparator()));\r\n        int trailingZeroCount = 0;\r\n    if (index &gt; -1)\r\n        {\r\n            for (index++; index &lt; s.length(); index++) {\r\n                if (s.charAt(index) == &#39;0&#39;)\r\n                    trailingZeroCount++;\r\n                else {\r\n                    trailingZeroCount = 0;\r\n                }\r\n            }\r\n    \r\n            hasFractionalPart = true;\r\n        } else {\r\n            hasFractionalPart = false;\r\n        }\r\n    \r\n        {\r\n            if (s.toString().contains(String.valueOf(df.getDecimalFormatSymbols().getDecimalSeparator())))\r\n            {\r\n                hasFractionalPart = true;\r\n            } else {\r\n                hasFractionalPart = false;\r\n            }\r\n        }\r\n    \r\n    }\r\n    }","title":"Replace &quot;,&quot; with &quot;. &quot; in TextWatcher","body":"<p>I am using this TextWatcher for .addtextOnChangeListener, the output of the string is ex: &quot;123,456,77&quot; i want it to be &quot;123.456,77&quot; if i use the replace method on &quot;et&quot; in the &quot;afterTextChanged&quot; method, the number isn't even formatting. With the code below the listener works and everything, i just don't know how to replace the &quot;,&quot; with &quot;.&quot; until the decimals.</p>\n<p>If you think to just change the pattern (&quot;###,##0,00&quot;) it doesn't work</p>\n<p>This is the TextWatcher I have for the EditText</p>\n<pre><code>import android.text.Editable;\nimport android.text.TextWatcher;\nimport android.widget.EditText;\n\nimport java.text.DecimalFormat;\nimport java.text.ParseException;\nimport java.util.Locale;\n\npublic class NumberTextWatcher implements TextWatcher {\n\n    private DecimalFormat df;\n    private DecimalFormat dfnd;\n    private boolean hasFractionalPart;\n\n    private EditText et;\n\n    public NumberTextWatcher(EditText et)\n    {\n        df = new DecimalFormat(&quot;###,##0,00&quot;);\n        df.setDecimalSeparatorAlwaysShown(true);\n        dfnd = new DecimalFormat(&quot;###,##0,00&quot;);\n        this.et = et;\n        hasFractionalPart = false;\n    }\n\n    @SuppressWarnings(&quot;unused&quot;)\n    private static final String TAG = &quot;NumberTextWatcher&quot;;\n\n    @Override\n    public void afterTextChanged(Editable s)\n    {\n\n\n        et.removeTextChangedListener(this);\n\n        try {\n            int inilen, endlen;\n            inilen = et.getText().length();\n\n            String v = s.toString().replace(String.valueOf(df.getDecimalFormatSymbols().getGroupingSeparator()), &quot;&quot;);\n            Number n = df.parse(v);\n            int cp = et.getSelectionStart();\n            if (hasFractionalPart) {\n                et.setText(df.format(n));\n            } else {\n                et.setText(dfnd.format(n));\n            }\n            endlen = et.getText().length();\n            int sel = (cp + (endlen - inilen));\n            if (sel &gt; 0 &amp;&amp; sel &lt;= et.getText().length()) {\n                et.setSelection(sel);\n            } else {\n                // place cursor at the end?\n                et.setSelection(et.getText().length() - 1);\n            }\n\n            \n        } catch (NumberFormatException nfe) {\n            // do nothing?\n        } catch (ParseException e) {\n            // do nothing?\n        }\n\n\n\n        et.addTextChangedListener(this);\n\n\n\n    }\n\n    @Override\n    public void beforeTextChanged(CharSequence s, int start, int count, int after)\n    {\n    }\n\n    @Override\n    public void onTextChanged(CharSequence s, int start, int before, int count) {\n    int index = s.toString().indexOf(String.valueOf(df.getDecimalFormatSymbols().getDecimalSeparator()));\n    int trailingZeroCount = 0;\nif (index &gt; -1)\n    {\n        for (index++; index &lt; s.length(); index++) {\n            if (s.charAt(index) == '0')\n                trailingZeroCount++;\n            else {\n                trailingZeroCount = 0;\n            }\n        }\n\n        hasFractionalPart = true;\n    } else {\n        hasFractionalPart = false;\n    }\n\n    {\n        if (s.toString().contains(String.valueOf(df.getDecimalFormatSymbols().getDecimalSeparator())))\n        {\n            hasFractionalPart = true;\n        } else {\n            hasFractionalPart = false;\n        }\n    }\n\n}\n}\n</code></pre>\n"},{"tags":["java","certificate","bouncycastle"],"comments":[{"owner":{"account_id":208197,"reputation":818,"user_id":458531,"display_name":"tsaarni"},"score":0,"creation_date":1654722485,"post_id":72552074,"comment_id":128162675,"body_markdown":"In golang similar functionality exists: x509.CreateCertificate() internally deduces preferred algorithm https://github.com/golang/go/blob/1858ea5d857f3a874bef131b7e1bc162d05b3366/src/crypto/x509/x509.go#L1342-L1417","body":"In golang similar functionality exists: x509.CreateCertificate() internally deduces preferred algorithm <a href=\"https://github.com/golang/go/blob/1858ea5d857f3a874bef131b7e1bc162d05b3366/src/crypto/x509/x509.go#L1342-L1417\" rel=\"nofollow noreferrer\">github.com/golang/go/blob/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":208197,"reputation":818,"user_id":458531,"display_name":"tsaarni"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1656531706,"creation_date":1656527916,"answer_id":72806309,"question_id":72552074,"body_markdown":"Answering to my own question, I ended up simply implementing my own method like this\r\n\r\n    private static String signatureAlgorithm(PublicKey pub) {\r\n        switch (pub.getAlgorithm()) {\r\n            case &quot;EC&quot;:\r\n                EllipticCurve curve = ((ECPublicKey) pub).getParams().getCurve();\r\n                switch (curve.getField().getFieldSize()) {\r\n                    case 224:\r\n                    case 256:\r\n                        return &quot;SHA256withECDSA&quot;;\r\n                    case 384:\r\n                        return &quot;SHA384withECDSA&quot;;\r\n                    case 521:\r\n                        return &quot;SHA512withECDSA&quot;;\r\n                    default:\r\n                        throw new IllegalArgumentException(&quot;unknown elliptic curve: &quot; + curve);\r\n                }\r\n            case &quot;RSA&quot;:\r\n                return &quot;SHA256WithRSAEncryption&quot;;\r\n            default:\r\n                throw new UnsupportedOperationException(&quot;unsupported private key algorithm: &quot; + pub.getAlgorithm());\r\n        }\r\n    }\r\n\r\nRecommended message digest algorithms for EC curves are given in [RFC5480][1] in a table on page 9 ([errata][2]).\r\n\r\n\r\n  [1]: https://datatracker.ietf.org/doc/html/rfc5480#page-9\r\n  [2]: https://www.rfc-editor.org/errata_search.php?rfc=5480&amp;rec_status=0","title":"How to find preferred signature algorithm for given private key","body":"<p>Answering to my own question, I ended up simply implementing my own method like this</p>\n<pre><code>private static String signatureAlgorithm(PublicKey pub) {\n    switch (pub.getAlgorithm()) {\n        case &quot;EC&quot;:\n            EllipticCurve curve = ((ECPublicKey) pub).getParams().getCurve();\n            switch (curve.getField().getFieldSize()) {\n                case 224:\n                case 256:\n                    return &quot;SHA256withECDSA&quot;;\n                case 384:\n                    return &quot;SHA384withECDSA&quot;;\n                case 521:\n                    return &quot;SHA512withECDSA&quot;;\n                default:\n                    throw new IllegalArgumentException(&quot;unknown elliptic curve: &quot; + curve);\n            }\n        case &quot;RSA&quot;:\n            return &quot;SHA256WithRSAEncryption&quot;;\n        default:\n            throw new UnsupportedOperationException(&quot;unsupported private key algorithm: &quot; + pub.getAlgorithm());\n    }\n}\n</code></pre>\n<p>Recommended message digest algorithms for EC curves are given in <a href=\"https://datatracker.ietf.org/doc/html/rfc5480#page-9\" rel=\"nofollow noreferrer\">RFC5480</a> in a table on page 9 (<a href=\"https://www.rfc-editor.org/errata_search.php?rfc=5480&amp;rec_status=0\" rel=\"nofollow noreferrer\">errata</a>).</p>\n"}],"owner":{"account_id":208197,"reputation":818,"user_id":458531,"display_name":"tsaarni"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1087,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656531706,"creation_date":1654721613,"question_id":72552074,"body_markdown":"I&#39;m using BouncyCastle to issue X509 certificates. I&#39;ve found many code examples where the signature algorithm name is fixed like &quot;SHA256WithRSAEncryption&quot; [here][1]:\r\n\r\n    ContentSigner sigGen = new JcaContentSignerBuilder(&quot;SHA256WithRSAEncryption&quot;)\r\n            .setProvider(BC).build(privKey);\r\n\r\nIs there a method in BouncyCastle or JDK to find the preferred signature algorithm name for given `PrivateKey`? Something like `getPreferredSignatureAlgorithm()` here: \r\n\r\n    // is there method like this?\r\n    String signatureAlgorithm = getPreferredSignatureAlgorithm(issuerPrivKey);\r\n \r\n    JcaX509v3CertificateBuilder builder = new JcaX509v3CertificateBuilder(...);\r\n    ContentSigner signer = new JcaContentSignerBuilder(signatureAlgorithm)\r\n            .build(issuerPrivKey);\r\n    X509Certificate certificate = new JcaX509CertificateConverter()\r\n            .setProvider(new BouncyCastleProvider())\r\n            .getCertificate(builder.build(signer));\r\n\r\n\r\n  [1]: https://github.com/bcgit/bc-java/blob/bc3b92f1f0e78b82e2584c5fb4b226a13e7f8b3b/pkix/src/test/java/org/bouncycastle/cert/test/CertTest.java#L1594","title":"How to find preferred signature algorithm for given private key","body":"<p>I'm using BouncyCastle to issue X509 certificates. I've found many code examples where the signature algorithm name is fixed like &quot;SHA256WithRSAEncryption&quot; <a href=\"https://github.com/bcgit/bc-java/blob/bc3b92f1f0e78b82e2584c5fb4b226a13e7f8b3b/pkix/src/test/java/org/bouncycastle/cert/test/CertTest.java#L1594\" rel=\"nofollow noreferrer\">here</a>:</p>\n<pre><code>ContentSigner sigGen = new JcaContentSignerBuilder(&quot;SHA256WithRSAEncryption&quot;)\n        .setProvider(BC).build(privKey);\n</code></pre>\n<p>Is there a method in BouncyCastle or JDK to find the preferred signature algorithm name for given <code>PrivateKey</code>? Something like <code>getPreferredSignatureAlgorithm()</code> here:</p>\n<pre><code>// is there method like this?\nString signatureAlgorithm = getPreferredSignatureAlgorithm(issuerPrivKey);\n\nJcaX509v3CertificateBuilder builder = new JcaX509v3CertificateBuilder(...);\nContentSigner signer = new JcaContentSignerBuilder(signatureAlgorithm)\n        .build(issuerPrivKey);\nX509Certificate certificate = new JcaX509CertificateConverter()\n        .setProvider(new BouncyCastleProvider())\n        .getCertificate(builder.build(signer));\n</code></pre>\n"},{"tags":["java","tomcat","tomcat9"],"comments":[{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1656450667,"post_id":72793016,"comment_id":128574668,"body_markdown":"Can you clarify which `web.xml` file(s) you are referring to? The app-specific ones in each web app&#39;s `WEB-INF/web.xml` file, or only the Tomcat file in `conf/web.xml` file?","body":"Can you clarify which <code>web.xml</code> file(s) you are referring to? The app-specific ones in each web app&#39;s <code>WEB-INF&#47;web.xml</code> file, or only the Tomcat file in <code>conf&#47;web.xml</code> file?"},{"owner":{"account_id":18401338,"reputation":1190,"user_id":13404308,"display_name":"nu_popli"},"score":1,"creation_date":1656450839,"post_id":72793016,"comment_id":128574719,"body_markdown":"It is ```conf/web.xml```","body":"It is <code>conf&#47;web.xml</code>"},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":1,"creation_date":1656450958,"post_id":72793016,"comment_id":128574758,"body_markdown":"OK - then definitely follow the guidance in the answer by @hiranchaudhuri - there should be no need to modify that file.","body":"OK - then definitely follow the guidance in the answer by @hiranchaudhuri - there should be no need to modify that file."}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1656531103,"creation_date":1656450528,"answer_id":72793162,"question_id":72793016,"body_markdown":"Put the constraint for confidential data transfer into the frontApp&#39;s web.xml. As you do not redirect the others do not put such a constraint into them. There is no need to modify the global server configuration.","title":"Url Pattern for specific war files (apps) in tomcat","body":"<p>Put the constraint for confidential data transfer into the frontApp's web.xml. As you do not redirect the others do not put such a constraint into them. There is no need to modify the global server configuration.</p>\n"}],"owner":{"account_id":18401338,"reputation":1190,"user_id":13404308,"display_name":"nu_popli"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":192,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72793162,"answer_count":1,"score":1,"last_activity_date":1656531103,"creation_date":1656449466,"question_id":72793016,"body_markdown":"I have 3 war files deployed on my tomcat (9) server. I have recently added SSL configuration and works fine and auto-redirects all http requests to https.\r\n\r\nThe problem is that I need to redirect only some apps to https. Other(s) should work with http and https. They open as:\r\n* https://example.com/frontApp/index.do\r\n* https://example.com/backOne/index.do\r\n* https://example.com/backTwo/index.do\r\n\r\nbackOne and backTwo shouldn&#39;t redirect to https.\r\n\r\nI have tried various ```&lt;url-pattern&gt;``` in web.xml but nothing seems to achieve the above mentioned scenario.\r\n\r\n```xml\r\n&lt;security-constraint&gt;\r\n &lt;web-resource-collection&gt;\r\n &lt;web-resource-name&gt;Protected Context&lt;/web-resource-name&gt;\r\n &lt;url-pattern&gt;/frontApp&lt;/url-pattern&gt;\r\n &lt;/web-resource-collection&gt;\r\n &lt;user-data-constraint&gt;\r\n &lt;transport-guarantee&gt;CONFIDENTIAL&lt;/transport-guarantee&gt;\r\n &lt;/user-data-constraint&gt;\r\n &lt;/security-constraint&gt;\r\n```\r\n\r\n```xml\r\n&lt;security-constraint&gt;\r\n &lt;web-resource-collection&gt;\r\n &lt;web-resource-name&gt;Protected Context&lt;/web-resource-name&gt;\r\n &lt;url-pattern&gt;/backTwo&lt;/url-pattern&gt;\r\n &lt;/web-resource-collection&gt;\r\n &lt;/security-constraint&gt;\r\n\r\n&lt;security-constraint&gt;\r\n &lt;web-resource-collection&gt;\r\n &lt;web-resource-name&gt;Protected Context&lt;/web-resource-name&gt;\r\n &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n  &lt;/web-resource-collection&gt;\r\n &lt;user-data-constraint&gt;\r\n &lt;transport-guarantee&gt;CONFIDENTIAL&lt;/transport-guarantee&gt;\r\n &lt;/user-data-constraint&gt;\r\n &lt;/security-constraint&gt;\r\n```\r\n\r\nHave gone through a lot of questions here. [This](https://stackoverflow.com/questions/4281587/ssl-for-specific-pages-url-patterns-in-tomcat) is the closest but I can&#39;t figure it out.\r\n\r\nSorry if answer is obvious and I can&#39;t see it. Don&#39;t have a lot of experience with tomcat.","title":"Url Pattern for specific war files (apps) in tomcat","body":"<p>I have 3 war files deployed on my tomcat (9) server. I have recently added SSL configuration and works fine and auto-redirects all http requests to https.</p>\n<p>The problem is that I need to redirect only some apps to https. Other(s) should work with http and https. They open as:</p>\n<ul>\n<li><a href=\"https://example.com/frontApp/index.do\" rel=\"nofollow noreferrer\">https://example.com/frontApp/index.do</a></li>\n<li><a href=\"https://example.com/backOne/index.do\" rel=\"nofollow noreferrer\">https://example.com/backOne/index.do</a></li>\n<li><a href=\"https://example.com/backTwo/index.do\" rel=\"nofollow noreferrer\">https://example.com/backTwo/index.do</a></li>\n</ul>\n<p>backOne and backTwo shouldn't redirect to https.</p>\n<p>I have tried various <code>&lt;url-pattern&gt;</code> in web.xml but nothing seems to achieve the above mentioned scenario.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;security-constraint&gt;\n &lt;web-resource-collection&gt;\n &lt;web-resource-name&gt;Protected Context&lt;/web-resource-name&gt;\n &lt;url-pattern&gt;/frontApp&lt;/url-pattern&gt;\n &lt;/web-resource-collection&gt;\n &lt;user-data-constraint&gt;\n &lt;transport-guarantee&gt;CONFIDENTIAL&lt;/transport-guarantee&gt;\n &lt;/user-data-constraint&gt;\n &lt;/security-constraint&gt;\n</code></pre>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;security-constraint&gt;\n &lt;web-resource-collection&gt;\n &lt;web-resource-name&gt;Protected Context&lt;/web-resource-name&gt;\n &lt;url-pattern&gt;/backTwo&lt;/url-pattern&gt;\n &lt;/web-resource-collection&gt;\n &lt;/security-constraint&gt;\n\n&lt;security-constraint&gt;\n &lt;web-resource-collection&gt;\n &lt;web-resource-name&gt;Protected Context&lt;/web-resource-name&gt;\n &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n  &lt;/web-resource-collection&gt;\n &lt;user-data-constraint&gt;\n &lt;transport-guarantee&gt;CONFIDENTIAL&lt;/transport-guarantee&gt;\n &lt;/user-data-constraint&gt;\n &lt;/security-constraint&gt;\n</code></pre>\n<p>Have gone through a lot of questions here. <a href=\"https://stackoverflow.com/questions/4281587/ssl-for-specific-pages-url-patterns-in-tomcat\">This</a> is the closest but I can't figure it out.</p>\n<p>Sorry if answer is obvious and I can't see it. Don't have a lot of experience with tomcat.</p>\n"},{"tags":["java","pdf","pdfbox"],"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1656561876,"post_id":72806874,"comment_id":128604458,"body_markdown":"What PDFBox version are you using? The current version is 2.0.26. Your code looks ok and I understand your question. Btw (unrelated to your problem) you can open the file directly, you don&#39;t need `FileInputStream`.","body":"What PDFBox version are you using? The current version is 2.0.26. Your code looks ok and I understand your question. Btw (unrelated to your problem) you can open the file directly, you don&#39;t need <code>FileInputStream</code>."},{"owner":{"account_id":25684249,"reputation":1,"user_id":19446575,"display_name":"Roger09"},"score":0,"creation_date":1656595324,"post_id":72806874,"comment_id":128615173,"body_markdown":"I am using 2.0.24. Yes, that is correct. it works without FileInputStream. I tried using 2.0.26 but it still reads the entire content of the PDF. Is there any other solution to this? Also can some help me rephrase the question if it is not clear?","body":"I am using 2.0.24. Yes, that is correct. it works without FileInputStream. I tried using 2.0.26 but it still reads the entire content of the PDF. Is there any other solution to this? Also can some help me rephrase the question if it is not clear?"},{"owner":{"account_id":25684249,"reputation":1,"user_id":19446575,"display_name":"Roger09"},"score":0,"creation_date":1656610578,"post_id":72806874,"comment_id":128621090,"body_markdown":"The PDF is generated using some internal tool, but does the origin of the PDF affect the use of PDFbox library? Also, what do I need to check in the PDF properties so that PDFbox can extract the content from the PDF?","body":"The PDF is generated using some internal tool, but does the origin of the PDF affect the use of PDFbox library? Also, what do I need to check in the PDF properties so that PDFbox can extract the content from the PDF?"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1656612744,"post_id":72806874,"comment_id":128621760,"body_markdown":"The origin doesn&#39;t matter if the PDF is correct. I can only say that your PDF is fine and I was able to get the first page only with your code. Thus I suspect something went wrong when writing the question, this can happen when stressed. Re the second question, this is complex. Your file doesn&#39;t have permissions, so text extraction is allowed. But for extraction to actually work much more is to be done which is much too long to explain (but most files are fine, and so is yours).","body":"The origin doesn&#39;t matter if the PDF is correct. I can only say that your PDF is fine and I was able to get the first page only with your code. Thus I suspect something went wrong when writing the question, this can happen when stressed. Re the second question, this is complex. Your file doesn&#39;t have permissions, so text extraction is allowed. But for extraction to actually work much more is to be done which is much too long to explain (but most files are fine, and so is yours)."},{"owner":{"account_id":25684249,"reputation":1,"user_id":19446575,"display_name":"Roger09"},"score":0,"creation_date":1656613166,"post_id":72806874,"comment_id":128621890,"body_markdown":"So if I am getting it right, there is something wrong with that particular PDF I am using and nothing wrong with the code. Is there any alternative to PDFbox to extract content from the PDF that I can try?","body":"So if I am getting it right, there is something wrong with that particular PDF I am using and nothing wrong with the code. Is there any alternative to PDFbox to extract content from the PDF that I can try?"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1656613354,"post_id":72806874,"comment_id":128621938,"body_markdown":"No the PDF is fine. The one from the link. I suspect your code uses a different one.","body":"No the PDF is fine. The one from the link. I suspect your code uses a different one."},{"owner":{"account_id":25684249,"reputation":1,"user_id":19446575,"display_name":"Roger09"},"score":0,"creation_date":1656613612,"post_id":72806874,"comment_id":128622015,"body_markdown":"Yes I am using different PDF, but I cannot share that PDF here. Anything that can help me debug or identify what&#39;s wrong with the PDF?","body":"Yes I am using different PDF, but I cannot share that PDF here. Anything that can help me debug or identify what&#39;s wrong with the PDF?"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1656613909,"post_id":72806874,"comment_id":128622118,"body_markdown":"You can use PDFDebugger and look at the cropbox / mediabox of the pages. Sometimes PDFs (e.g. 3 part folded flyers) have the same page content but different cropbox / mediabox. So you see a different part each time, but text extraction doesn&#39;t take these into consideration.","body":"You can use PDFDebugger and look at the cropbox / mediabox of the pages. Sometimes PDFs (e.g. 3 part folded flyers) have the same page content but different cropbox / mediabox. So you see a different part each time, but text extraction doesn&#39;t take these into consideration."},{"owner":{"account_id":25684249,"reputation":1,"user_id":19446575,"display_name":"Roger09"},"score":0,"creation_date":1656614037,"post_id":72806874,"comment_id":128622158,"body_markdown":"Okay great, will check that.","body":"Okay great, will check that."},{"owner":{"account_id":25684249,"reputation":1,"user_id":19446575,"display_name":"Roger09"},"score":0,"creation_date":1656616282,"post_id":72806874,"comment_id":128622826,"body_markdown":"Any suggestions or links on how to use PDFdebugger with Java maven project? or how to check the pages of the pdf using pdfdebugger?","body":"Any suggestions or links on how to use PDFdebugger with Java maven project? or how to check the pages of the pdf using pdfdebugger?"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1656644443,"post_id":72806874,"comment_id":128628199,"body_markdown":"PDFDebugger is an application. Download and run. Click everywhere.","body":"PDFDebugger is an application. Download and run. Click everywhere."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1656675238,"post_id":72806874,"comment_id":128635855,"body_markdown":"*&quot;Yes I am using different PDF, but I cannot share that PDF here. Anything that can help me debug or identify what&#39;s wrong with the PDF?&quot;* - Without seeing the PDF we can only guess. One possible cause I&#39;ve seen a number of times is that the content stream of each page contains the content of multiple pages and shows only one page by setting the crop box accordingly.","body":"<i>&quot;Yes I am using different PDF, but I cannot share that PDF here. Anything that can help me debug or identify what&#39;s wrong with the PDF?&quot;</i> - Without seeing the PDF we can only guess. One possible cause I&#39;ve seen a number of times is that the content stream of each page contains the content of multiple pages and shows only one page by setting the crop box accordingly."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1656678826,"post_id":72806874,"comment_id":128637084,"body_markdown":"You can try the tool `ShowVicinity` used in [this answer](https://stackoverflow.com/a/68406240/1729265) that enlarges the media box and removes clip paths to check whether there are additional contents in the page content streams around the visual content.","body":"You can try the tool <code>ShowVicinity</code> used in <a href=\"https://stackoverflow.com/a/68406240/1729265\">this answer</a> that enlarges the media box and removes clip paths to check whether there are additional contents in the page content streams around the visual content."}],"owner":{"account_id":25684249,"reputation":1,"user_id":19446575,"display_name":"Roger09"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1656531006,"creation_date":1656531006,"question_id":72806874,"body_markdown":"I am unable to use setStartPage and setEndpage for a PDF that is downloaded from a particular link.It shows the entire content of the document and not the content from the particular page. But my code works for sample pdf downloaded from http://www.africau.edu/images/default/sample.pdf.\r\n\r\n        File file = new File(home + &quot;/Downloads/&quot; + fileDownloaded);\r\n        FileInputStream fis = new FileInputStream(file);\r\n        PDDocument pdfDoc = PDDocument.load(fis);\r\n        PDFTextStripper reader = new PDFTextStripper();\r\n        reader.setStartPage(1);\r\n        reader.setEndPage(1);\r\n        String pageText = reader.getText(pdfDoc);\r\n        System.out.println(&quot;++++++++++++++++++++++++++++++++++++&quot;);\r\n        System.out.println(pageText);\r\n        System.out.println(&quot;++++++++++++++++++++++++++++++++++++&quot;);`\r\nCan anyone help me out?","title":"Unable to read contents of a particular page using PDFbox","body":"<p>I am unable to use setStartPage and setEndpage for a PDF that is downloaded from a particular link.It shows the entire content of the document and not the content from the particular page. But my code works for sample pdf downloaded from <a href=\"http://www.africau.edu/images/default/sample.pdf\" rel=\"nofollow noreferrer\">http://www.africau.edu/images/default/sample.pdf</a>.</p>\n<pre><code>    File file = new File(home + &quot;/Downloads/&quot; + fileDownloaded);\n    FileInputStream fis = new FileInputStream(file);\n    PDDocument pdfDoc = PDDocument.load(fis);\n    PDFTextStripper reader = new PDFTextStripper();\n    reader.setStartPage(1);\n    reader.setEndPage(1);\n    String pageText = reader.getText(pdfDoc);\n    System.out.println(&quot;++++++++++++++++++++++++++++++++++++&quot;);\n    System.out.println(pageText);\n    System.out.println(&quot;++++++++++++++++++++++++++++++++++++&quot;);`\n</code></pre>\n<p>Can anyone help me out?</p>\n"},{"tags":["java","android","android-studio","nullpointerexception"],"comments":[{"owner":{"account_id":5684074,"reputation":572,"user_id":4494178,"display_name":"Sonam"},"score":1,"creation_date":1490346261,"post_id":42994519,"comment_id":73080822,"body_markdown":"Check below answer, it might help you: http://stackoverflow.com/questions/39320630/gradle-build-error-after-bsodjava-lang-nullpointerexception-no-error-message","body":"Check below answer, it might help you: <a href=\"http://stackoverflow.com/questions/39320630/gradle-build-error-after-bsodjava-lang-nullpointerexception-no-error-message\" title=\"gradle build error after bsodjava lang nullpointerexception no error message\">stackoverflow.com/questions/39320630/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"display_name":"user7761052"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1490344752,"creation_date":1490344752,"answer_id":42994850,"question_id":42994519,"body_markdown":"Try one of them. \r\n 1. (On Top Bar) Build-&gt; Clean Project \r\n 2. Build-&gt; Rebuild Project\r\n 3. File-&gt; Invalidate Caches\r\n\r\n\r\n ","title":"Android Studio project build failed on startup-Null pointer Exception","body":"<p>Try one of them. \n 1. (On Top Bar) Build-> Clean Project \n 2. Build-> Rebuild Project\n 3. File-> Invalidate Caches</p>\n"},{"tags":[],"owner":{"account_id":7264494,"reputation":999,"user_id":5539802,"display_name":"Ankit Aman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1550850388,"creation_date":1490345227,"answer_id":42994986,"question_id":42994519,"body_markdown":"You can try this Gradle command:\r\n\r\n    ./gradlew assembledebug --info --stacktrace --\r\n\r\n\r\nor check [this answer](https://stackoverflow.com/a/39281447/5539802).","title":"Android Studio project build failed on startup-Null pointer Exception","body":"<p>You can try this Gradle command:</p>\n\n<pre><code>./gradlew assembledebug --info --stacktrace --\n</code></pre>\n\n<p>or check <a href=\"https://stackoverflow.com/a/39281447/5539802\">this answer</a>.</p>\n"},{"tags":[],"owner":{"account_id":16835664,"reputation":88,"user_id":12172420,"display_name":"Abdul Muqeet"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656530514,"creation_date":1656048593,"answer_id":72739370,"question_id":42994519,"body_markdown":"In my case I was using Glide for showing the image. But for some reason, I replaced the Glide library with the Picasso library. When I removed the Glide dependency, I was getting the same error. So I just put the Glide dependency back in even though I was using Picasso for showing images now. Everything works fine again. It maybe due to some dependency issues.","title":"Android Studio project build failed on startup-Null pointer Exception","body":"<p>In my case I was using Glide for showing the image. But for some reason, I replaced the Glide library with the Picasso library. When I removed the Glide dependency, I was getting the same error. So I just put the Glide dependency back in even though I was using Picasso for showing images now. Everything works fine again. It maybe due to some dependency issues.</p>\n"}],"owner":{"account_id":5314748,"reputation":295,"user_id":4240003,"accept_rate":28,"display_name":"Amit Nair"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1794,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":3,"score":-1,"last_activity_date":1656530514,"creation_date":1490343498,"question_id":42994519,"body_markdown":"I am getting the following error on Android Studio ver 2.2 startup and when it tries to build the project. Thanks in advance.\n \n\n&gt; Error:FAILURE: Build failed with an exception.\n&gt;\n&gt;* What went wrong:\n&gt;java.lang.NullPointerException (no error message)\n&gt;\n&gt;* Try:\n&gt;Run with --info or --debug option to get more log output.\n&gt;\n&gt;* Exception is:\njava.lang.NullPointerException\n    at org.gradle.api.internal.changedetection.state.TreeSnapshotRepository.removeTreeSnapshotUsage(TreeSnapshotRepository.java:85)\n    at org.gradle.api.internal.changedetection.state.CacheBackedFileSnapshotRepository.remove(CacheBackedFileSnapshotRepository.java:47)\n    at org.gradle.api.internal.changedetection.state.CacheBackedTaskHistoryRepository$1$1.run(CacheBackedTaskHistoryRepository.java:81)\n    at org.gradle.internal.Factories$1.create(Factories.java:22)\n    at org.gradle.cache.internal.DefaultCacheAccess.useCache(DefaultCacheAccess.java:192)\n    at org.gradle.cache.internal.DefaultCacheAccess.useCache(DefaultCacheAccess.java:175)\n    at org.gradle.cache.internal.DefaultPersistentDirectoryStore.useCache(DefaultPersistentDirectoryStore.java:106)\n    at org.gradle.cache.internal.DefaultCacheFactory$ReferenceTrackingCache.useCache(DefaultCacheFactory.java:187)\n    at org.gradle.api.internal.changedetection.state.DefaultTaskArtifactStateCacheAccess.useCache(DefaultTaskArtifactStateCacheAccess.java:60)\n    at org.gradle.api.internal.changedetection.state.CacheBackedTaskHistoryRepository$1.update(CacheBackedTaskHistoryRepository.java:66)\n    at org.gradle.api.internal.changedetection.changes.DefaultTaskArtifactStateRepository$TaskArtifactStateImpl.afterTask(DefaultTaskArtifactStateRepository.java:135)\n    at org.gradle.api.internal.tasks.execution.SkipUpToDateTaskExecuter.execute(SkipUpToDateTaskExecuter.java:68)\n    at org.gradle.api.internal.tasks.execution.ValidatingTaskExecuter.execute(ValidatingTaskExecuter.java:58)\n    at org.gradle.api.internal.tasks.execution.SkipEmptySourceFilesTaskExecuter.execute(SkipEmptySourceFilesTaskExecuter.java:52)\n    at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:52)\n    at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:53)\n    at org.gradle.api.internal.tasks.execution.ExecuteAtMostOnceTaskExecuter.execute(ExecuteAtMostOnceTaskExecuter.java:43)\n    at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:203)\n    at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:185)\n    at org.gradle.execution.taskgraph.AbstractTaskPlanExecutor$TaskExecutorWorker.processTask(AbstractTaskPlanExecutor.java:66)\n    at org.gradle.execution.taskgraph.AbstractTaskPlanExecutor$TaskExecutorWorker.run(AbstractTaskPlanExecutor.java:50)\n    at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor.process(DefaultTaskPlanExecutor.java:25)\n    at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter.execute(DefaultTaskGraphExecuter.java:110)\n    at org.gradle.execution.SelectedTaskExecutionAction.execute(SelectedTaskExecutionAction.java:37)\n    at org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:37)\n    at org.gradle.execution.DefaultBuildExecuter.access$000(DefaultBuildExecuter.java:23)\n    at org.gradle.execution.DefaultBuildExecuter$1.proceed(DefaultBuildExecuter.java:43)\n    at org.gradle.execution.DryRunBuildExecutionAction.execute(DryRunBuildExecutionAction.java:32)\n    at org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:37)\n    at org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:30)\n    at org.gradle.initialization.DefaultGradleLauncher$4.run(DefaultGradleLauncher.java:153)\n    at org.gradle.internal.Factories$1.create(Factories.java:22)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:91)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:53)\n    at org.gradle.initialization.DefaultGradleLauncher.doBuildStages(DefaultGradleLauncher.java:150)\n    at org.gradle.initialization.DefaultGradleLauncher.access$200(DefaultGradleLauncher.java:32)\n    at org.gradle.initialization.DefaultGradleLauncher$1.create(DefaultGradleLauncher.java:98)\n    at org.gradle.initialization.DefaultGradleLauncher$1.create(DefaultGradleLauncher.java:92)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:91)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:63)\n    at org.gradle.initialization.DefaultGradleLauncher.doBuild(DefaultGradleLauncher.java:92)\n    at org.gradle.initialization.DefaultGradleLauncher.run(DefaultGradleLauncher.java:83)\n    at org.gradle.launcher.exec.InProcessBuildActionExecuter$DefaultBuildController.run(InProcessBuildActionExecuter.java:99)\n    at org.gradle.tooling.internal.provider.runner.BuildModelActionRunner.run(BuildModelActionRunner.java:46)\n    at org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\n    at org.gradle.tooling.internal.provider.runner.SubscribableBuildActionRunner.run(SubscribableBuildActionRunner.java:58)\n    at org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\n    at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:48)\n    at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:30)\n    at org.gradle.launcher.exec.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:81)\n    at org.gradle.launcher.exec.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:46)\n    at org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:52)\n    at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\n    at org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:37)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\n    at org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:26)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\n    at org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:34)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\n    at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.call(ForwardClientInput.java:74)\n    at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.call(ForwardClientInput.java:72)\n    at org.gradle.util.Swapper.swap(Swapper.java:38)\n    at org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:72)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\n    at org.gradle.launcher.daemon.server.health.DaemonHealthTracker.execute(DaemonHealthTracker.java:47)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\n    at org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:60)\n    at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\n    at org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:72)\n    at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\n    at org.gradle.launcher.daemon.server.health.HintGCAfterBuild.execute(HintGCAfterBuild.java:41)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\n    at org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:50)\n    at org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:237)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:54)\n    at org.gradle.internal.concurrent.StoppableExecutorImpl$1.run(StoppableExecutorImpl.java:40)\n\n","title":"Android Studio project build failed on startup-Null pointer Exception","body":"<p>I am getting the following error on Android Studio ver 2.2 startup and when it tries to build the project. Thanks in advance.</p>\n<blockquote>\n<p>Error:FAILURE: Build failed with an exception.</p>\n<ul>\n<li><p>What went wrong:\njava.lang.NullPointerException (no error message)</p>\n</li>\n<li><p>Try:\nRun with --info or --debug option to get more log output.</p>\n</li>\n<li><p>Exception is:\njava.lang.NullPointerException\nat org.gradle.api.internal.changedetection.state.TreeSnapshotRepository.removeTreeSnapshotUsage(TreeSnapshotRepository.java:85)\nat org.gradle.api.internal.changedetection.state.CacheBackedFileSnapshotRepository.remove(CacheBackedFileSnapshotRepository.java:47)\nat org.gradle.api.internal.changedetection.state.CacheBackedTaskHistoryRepository$1$1.run(CacheBackedTaskHistoryRepository.java:81)\nat org.gradle.internal.Factories$1.create(Factories.java:22)\nat org.gradle.cache.internal.DefaultCacheAccess.useCache(DefaultCacheAccess.java:192)\nat org.gradle.cache.internal.DefaultCacheAccess.useCache(DefaultCacheAccess.java:175)\nat org.gradle.cache.internal.DefaultPersistentDirectoryStore.useCache(DefaultPersistentDirectoryStore.java:106)\nat org.gradle.cache.internal.DefaultCacheFactory$ReferenceTrackingCache.useCache(DefaultCacheFactory.java:187)\nat org.gradle.api.internal.changedetection.state.DefaultTaskArtifactStateCacheAccess.useCache(DefaultTaskArtifactStateCacheAccess.java:60)\nat org.gradle.api.internal.changedetection.state.CacheBackedTaskHistoryRepository$1.update(CacheBackedTaskHistoryRepository.java:66)\nat org.gradle.api.internal.changedetection.changes.DefaultTaskArtifactStateRepository$TaskArtifactStateImpl.afterTask(DefaultTaskArtifactStateRepository.java:135)\nat org.gradle.api.internal.tasks.execution.SkipUpToDateTaskExecuter.execute(SkipUpToDateTaskExecuter.java:68)\nat org.gradle.api.internal.tasks.execution.ValidatingTaskExecuter.execute(ValidatingTaskExecuter.java:58)\nat org.gradle.api.internal.tasks.execution.SkipEmptySourceFilesTaskExecuter.execute(SkipEmptySourceFilesTaskExecuter.java:52)\nat org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:52)\nat org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:53)\nat org.gradle.api.internal.tasks.execution.ExecuteAtMostOnceTaskExecuter.execute(ExecuteAtMostOnceTaskExecuter.java:43)\nat org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:203)\nat org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:185)\nat org.gradle.execution.taskgraph.AbstractTaskPlanExecutor$TaskExecutorWorker.processTask(AbstractTaskPlanExecutor.java:66)\nat org.gradle.execution.taskgraph.AbstractTaskPlanExecutor$TaskExecutorWorker.run(AbstractTaskPlanExecutor.java:50)\nat org.gradle.execution.taskgraph.DefaultTaskPlanExecutor.process(DefaultTaskPlanExecutor.java:25)\nat org.gradle.execution.taskgraph.DefaultTaskGraphExecuter.execute(DefaultTaskGraphExecuter.java:110)\nat org.gradle.execution.SelectedTaskExecutionAction.execute(SelectedTaskExecutionAction.java:37)\nat org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:37)\nat org.gradle.execution.DefaultBuildExecuter.access$000(DefaultBuildExecuter.java:23)\nat org.gradle.execution.DefaultBuildExecuter$1.proceed(DefaultBuildExecuter.java:43)\nat org.gradle.execution.DryRunBuildExecutionAction.execute(DryRunBuildExecutionAction.java:32)\nat org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:37)\nat org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:30)\nat org.gradle.initialization.DefaultGradleLauncher$4.run(DefaultGradleLauncher.java:153)\nat org.gradle.internal.Factories$1.create(Factories.java:22)\nat org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:91)\nat org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:53)\nat org.gradle.initialization.DefaultGradleLauncher.doBuildStages(DefaultGradleLauncher.java:150)\nat org.gradle.initialization.DefaultGradleLauncher.access$200(DefaultGradleLauncher.java:32)\nat org.gradle.initialization.DefaultGradleLauncher$1.create(DefaultGradleLauncher.java:98)\nat org.gradle.initialization.DefaultGradleLauncher$1.create(DefaultGradleLauncher.java:92)\nat org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:91)\nat org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:63)\nat org.gradle.initialization.DefaultGradleLauncher.doBuild(DefaultGradleLauncher.java:92)\nat org.gradle.initialization.DefaultGradleLauncher.run(DefaultGradleLauncher.java:83)\nat org.gradle.launcher.exec.InProcessBuildActionExecuter$DefaultBuildController.run(InProcessBuildActionExecuter.java:99)\nat org.gradle.tooling.internal.provider.runner.BuildModelActionRunner.run(BuildModelActionRunner.java:46)\nat org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\nat org.gradle.tooling.internal.provider.runner.SubscribableBuildActionRunner.run(SubscribableBuildActionRunner.java:58)\nat org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\nat org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:48)\nat org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:30)\nat org.gradle.launcher.exec.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:81)\nat org.gradle.launcher.exec.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:46)\nat org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:52)\nat org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\nat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\nat org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:37)\nat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\nat org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:26)\nat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\nat org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:34)\nat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\nat org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.call(ForwardClientInput.java:74)\nat org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.call(ForwardClientInput.java:72)\nat org.gradle.util.Swapper.swap(Swapper.java:38)\nat org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:72)\nat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\nat org.gradle.launcher.daemon.server.health.DaemonHealthTracker.execute(DaemonHealthTracker.java:47)\nat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\nat org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:60)\nat org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\nat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\nat org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:72)\nat org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\nat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\nat org.gradle.launcher.daemon.server.health.HintGCAfterBuild.execute(HintGCAfterBuild.java:41)\nat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\nat org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:50)\nat org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:237)\nat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:54)\nat org.gradle.internal.concurrent.StoppableExecutorImpl$1.run(StoppableExecutorImpl.java:40)</p>\n</li>\n</ul>\n</blockquote>\n"},{"tags":["java","pdf","pdfbox"],"comments":[{"owner":{"account_id":7096,"reputation":16899,"user_id":12171,"accept_rate":90,"display_name":"Adrian Petrescu"},"score":0,"creation_date":1311744633,"post_id":6839787,"comment_id":8129884,"body_markdown":"Can you be more specific about what you mean by &quot;read&quot;?","body":"Can you be more specific about what you mean by &quot;read&quot;?"},{"owner":{"account_id":65284,"reputation":91155,"user_id":192247,"accept_rate":81,"display_name":"missingfaktor"},"score":1,"creation_date":1311744867,"post_id":6839787,"comment_id":8129921,"body_markdown":"@Adrian: Say, I want the page #2 in `PDPage` object.","body":"@Adrian: Say, I want the page #2 in <code>PDPage</code> object."}],"answers":[{"tags":[],"owner":{"account_id":403973,"reputation":140174,"user_id":772035,"accept_rate":95,"display_name":"Paul"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1311744585,"creation_date":1311744585,"answer_id":6839810,"question_id":6839787,"body_markdown":"Add this to the command-line call:\r\n\r\n    ExtractText -startPage 1 -endPage 1 filename.pdf\r\n\r\nChange 1 to the page number that you need.","title":"Reading a particular page from a PDF document using PDFBox","body":"<p>Add this to the command-line call:</p>\n\n<pre><code>ExtractText -startPage 1 -endPage 1 filename.pdf\n</code></pre>\n\n<p>Change 1 to the page number that you need.</p>\n"},{"tags":[],"owner":{"account_id":412676,"reputation":14001,"user_id":785864,"accept_rate":72,"display_name":"Nicolas Modrzyk"},"down_vote_count":2,"up_vote_count":34,"is_accepted":true,"score":32,"last_activity_date":1444964687,"creation_date":1311744813,"answer_id":6839835,"question_id":6839787,"body_markdown":"This should work:\r\n\r\n    PDPage firstPage = (PDPage)doc.getAllPages().get( 0 );\r\n\r\nas seen in the [BookMark section of the tutorial](http://pdfbox.apache.org/userguide/bookmarks.html)\r\n\r\n**Update 2015, Version 2.0.0 SNAPSHOT**\r\n\r\nSeems this was removed and put back (?). *getPage* is in the 2.0.0 [javadoc][1]. To use it:\r\n\r\n    PDDocument document = PDDocument.load(new File(filename));\r\n    PDPage doc = document.getPage(0);\r\n\r\nThe *getAllPages* method has been renamed *[getPages][2]*\r\n\r\n    PDPage page = (PDPage)doc.getPages().get( 0 );\r\n\r\n\r\n  [1]: https://pdfbox.apache.org/docs/2.0.0-SNAPSHOT/javadocs/org/apache/pdfbox/pdmodel/PDDocument.html#getPage%28int%29\r\n  [2]: https://pdfbox.apache.org/docs/2.0.0-SNAPSHOT/javadocs/org/apache/pdfbox/pdmodel/PDDocument.html#getPages%28%29","title":"Reading a particular page from a PDF document using PDFBox","body":"<p>This should work:</p>\n\n<pre><code>PDPage firstPage = (PDPage)doc.getAllPages().get( 0 );\n</code></pre>\n\n<p>as seen in the <a href=\"http://pdfbox.apache.org/userguide/bookmarks.html\">BookMark section of the tutorial</a></p>\n\n<p><strong>Update 2015, Version 2.0.0 SNAPSHOT</strong></p>\n\n<p>Seems this was removed and put back (?). <em>getPage</em> is in the 2.0.0 <a href=\"https://pdfbox.apache.org/docs/2.0.0-SNAPSHOT/javadocs/org/apache/pdfbox/pdmodel/PDDocument.html#getPage%28int%29\">javadoc</a>. To use it:</p>\n\n<pre><code>PDDocument document = PDDocument.load(new File(filename));\nPDPage doc = document.getPage(0);\n</code></pre>\n\n<p>The <em>getAllPages</em> method has been renamed <em><a href=\"https://pdfbox.apache.org/docs/2.0.0-SNAPSHOT/javadocs/org/apache/pdfbox/pdmodel/PDDocument.html#getPages%28%29\">getPages</a></em></p>\n\n<pre><code>PDPage page = (PDPage)doc.getPages().get( 0 );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":128933,"reputation":410,"user_id":327144,"display_name":"Raymond C Borges Hink"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1411758597,"creation_date":1342210789,"answer_id":11477790,"question_id":6839787,"body_markdown":"    //Using PDFBox library available from http://pdfbox.apache.org/  \r\n    //Writes pdf document of specific pages as a new pdf file\r\n    \r\n    //Reads in pdf document  \r\n    PDDocument pdDoc = PDDocument.load(file);\r\n    \r\n    //Creates a new pdf document  \r\n    PDDocument document = null;\r\n    \r\n    //Adds specific page &quot;i&quot; where &quot;i&quot; is the page number and then saves the new pdf document   \r\n    try {   \r\n        document = new PDDocument();   \r\n        document.addPage((PDPage) pdDoc.getDocumentCatalog().getAllPages().get(i));   \r\n        document.save(&quot;file path&quot;+&quot;new document title&quot;+&quot;.pdf&quot;);  \r\n        document.close();  \r\n    }catch(Exception e){}","title":"Reading a particular page from a PDF document using PDFBox","body":"<pre><code>//Using PDFBox library available from http://pdfbox.apache.org/  \n//Writes pdf document of specific pages as a new pdf file\n\n//Reads in pdf document  \nPDDocument pdDoc = PDDocument.load(file);\n\n//Creates a new pdf document  \nPDDocument document = null;\n\n//Adds specific page \"i\" where \"i\" is the page number and then saves the new pdf document   \ntry {   \n    document = new PDDocument();   \n    document.addPage((PDPage) pdDoc.getDocumentCatalog().getAllPages().get(i));   \n    document.save(\"file path\"+\"new document title\"+\".pdf\");  \n    document.close();  \n}catch(Exception e){}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3608366,"reputation":566,"user_id":3010020,"display_name":"sam9046"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1390900429,"creation_date":1390900429,"answer_id":21401305,"question_id":6839787,"body_markdown":"Thought I would add my answer here as I found the above answers useful but not exactly what I needed. \r\n\r\nIn my scenario I wanted to scan each page individually, look for a keyword, if that keyword appeared, then do something with that page (ie copy or ignore it). \r\n\r\nI&#39;ve tried to simply and replace common variables etc in my answer: \r\n\r\n    public void extractImages() throws Exception {\r\n            try {\r\n                String destinationDir = &quot;OUTPUT DIR GOES HERE&quot;;\r\n            \t// Load the pdf\r\n                String inputPdf = &quot;INPUT PDF DIR GOES HERE&quot;;\r\n                document = PDDocument.load( inputPdf);\r\n                List&lt;PDPage&gt; list = document.getDocumentCatalog().getAllPages();\r\n                // Declare output fileName\r\n                String fileName = &quot;output.pdf&quot;;\r\n                // Create output file\r\n                PDDocument newDocument = new PDDocument();\r\n                // Create PDFTextStripper - used for searching the page string\r\n                PDFTextStripper textStripper=new PDFTextStripper(); \r\n                // Declare &quot;pages&quot; and &quot;found&quot; variable\r\n                String pages= null; \r\n                boolean found = false;     \r\n                // Loop through each page and search for &quot;SEARCH STRING&quot;. If this doesn&#39;t exist\r\n                // ie is the image page, then copy into the new output.pdf. \r\n                for(int i = 0; i &lt; list.size(); i++) {\r\n                    // Set textStripper to search one page at a time \r\n                    textStripper.setStartPage(i); \r\n                    textStripper.setEndPage(i);             \r\n                    PDPage returnPage = null;\r\n                    // Fetch page text and insert into &quot;pages&quot; string\r\n                    pages = textStripper.getText(document); \r\n                    found = pages.contains(&quot;SEARCH STRING&quot;);\r\n    \t                if (i != 0) {\r\n                                // if nothing is found, then copy the page across to new                     output pdf file\r\n    \t\t                if (found == false) {\r\n    \t\t                \treturnPage = list.get(i - 1); \r\n    \t\t                \tSystem.out.println(&quot;page returned is: &quot; + returnPage);\r\n    \t\t                \tSystem.out.println(&quot;Copy page&quot;);\r\n    \t\t                \tnewDocument.importPage(returnPage);\r\n    \t                \t}\r\n    \t                }\r\n                }    \r\n                newDocument.save(destinationDir + fileName);\r\n                \r\n                System.out.println(fileName + &quot; saved&quot;);\r\n             } \r\n        \t catch (Exception e) {\r\n        \t\t e.printStackTrace();\r\n        \t\t System.out.println(&quot;catch extract image&quot;);\r\n        \t }\r\n        }","title":"Reading a particular page from a PDF document using PDFBox","body":"<p>Thought I would add my answer here as I found the above answers useful but not exactly what I needed. </p>\n\n<p>In my scenario I wanted to scan each page individually, look for a keyword, if that keyword appeared, then do something with that page (ie copy or ignore it). </p>\n\n<p>I've tried to simply and replace common variables etc in my answer: </p>\n\n<pre><code>public void extractImages() throws Exception {\n        try {\n            String destinationDir = \"OUTPUT DIR GOES HERE\";\n            // Load the pdf\n            String inputPdf = \"INPUT PDF DIR GOES HERE\";\n            document = PDDocument.load( inputPdf);\n            List&lt;PDPage&gt; list = document.getDocumentCatalog().getAllPages();\n            // Declare output fileName\n            String fileName = \"output.pdf\";\n            // Create output file\n            PDDocument newDocument = new PDDocument();\n            // Create PDFTextStripper - used for searching the page string\n            PDFTextStripper textStripper=new PDFTextStripper(); \n            // Declare \"pages\" and \"found\" variable\n            String pages= null; \n            boolean found = false;     \n            // Loop through each page and search for \"SEARCH STRING\". If this doesn't exist\n            // ie is the image page, then copy into the new output.pdf. \n            for(int i = 0; i &lt; list.size(); i++) {\n                // Set textStripper to search one page at a time \n                textStripper.setStartPage(i); \n                textStripper.setEndPage(i);             \n                PDPage returnPage = null;\n                // Fetch page text and insert into \"pages\" string\n                pages = textStripper.getText(document); \n                found = pages.contains(\"SEARCH STRING\");\n                    if (i != 0) {\n                            // if nothing is found, then copy the page across to new                     output pdf file\n                        if (found == false) {\n                            returnPage = list.get(i - 1); \n                            System.out.println(\"page returned is: \" + returnPage);\n                            System.out.println(\"Copy page\");\n                            newDocument.importPage(returnPage);\n                        }\n                    }\n            }    \n            newDocument.save(destinationDir + fileName);\n\n            System.out.println(fileName + \" saved\");\n         } \n         catch (Exception e) {\n             e.printStackTrace();\n             System.out.println(\"catch extract image\");\n         }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3569543,"reputation":490,"user_id":2980234,"accept_rate":50,"display_name":"Bilal Shahid"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1464184786,"creation_date":1447482711,"answer_id":33705814,"question_id":6839787,"body_markdown":"you can you getPage method over PDDocument instance \r\n\r\n\tPDDocument pdDocument=null;\r\n\tpdDocument = PDDocument.load(inputStream);\r\n\tPDPage pdPage = pdDocument.getPage(0);\r\n","title":"Reading a particular page from a PDF document using PDFBox","body":"<p>you can you getPage method over PDDocument instance </p>\n\n<pre><code>PDDocument pdDocument=null;\npdDocument = PDDocument.load(inputStream);\nPDPage pdPage = pdDocument.getPage(0);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11233249,"reputation":477,"user_id":8240440,"display_name":"Mowazzem Hosen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1559022269,"creation_date":1498899736,"answer_id":44859170,"question_id":6839787,"body_markdown":"Here is the solution. Hope it will solve your issue.\r\n                   \r\n\r\n    string fileName=&quot;C:\\mypdf.pdf&quot;;\r\n    PDDocument doc = PDDocument.load(fileName);                   \r\n    PDFTextStripper stripper = new PDFTextStripper();\r\n    stripper.setStartPage(1);\r\n    stripper.setEndPage(2);\r\n    //above page number 1 to 2 will be parsed. for parsing only one page set both value same (ex:setStartPage(1);  setEndPage(1);)\r\n    string reslut = stripper.getText(doc);\r\n\r\n    doc.close();","title":"Reading a particular page from a PDF document using PDFBox","body":"<p>Here is the solution. Hope it will solve your issue.</p>\n\n<pre><code>string fileName=\"C:\\mypdf.pdf\";\nPDDocument doc = PDDocument.load(fileName);                   \nPDFTextStripper stripper = new PDFTextStripper();\nstripper.setStartPage(1);\nstripper.setEndPage(2);\n//above page number 1 to 2 will be parsed. for parsing only one page set both value same (ex:setStartPage(1);  setEndPage(1);)\nstring reslut = stripper.getText(doc);\n\ndoc.close();\n</code></pre>\n"}],"owner":{"account_id":65284,"reputation":91155,"user_id":192247,"accept_rate":81,"display_name":"missingfaktor"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63882,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"accepted_answer_id":6839835,"answer_count":6,"score":22,"last_activity_date":1656530278,"creation_date":1311744306,"question_id":6839787,"body_markdown":"How do I read a particular page (given a page number) from a PDF document using PDFBox?","title":"Reading a particular page from a PDF document using PDFBox","body":"<p>How do I read a particular page (given a page number) from a PDF document using PDFBox?</p>\n"},{"tags":["java","spring-mvc","variables","spring-annotations"],"comments":[{"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"score":0,"creation_date":1656452313,"post_id":72793333,"comment_id":128575084,"body_markdown":"please show the enclosing class of `variable` is it a spring component annotated or instantiated correctly thus registering it as a bean?","body":"please show the enclosing class of <code>variable</code> is it a spring component annotated or instantiated correctly thus registering it as a bean?"},{"owner":{"account_id":329138,"reputation":8059,"user_id":652497,"accept_rate":91,"display_name":"Jonathan S. Fisher"},"score":0,"creation_date":1656523403,"post_id":72793333,"comment_id":128596146,"body_markdown":"can you paste the entire class where you are `@Inject` or `@Autowire` `MyService`? (the class with the injection point)","body":"can you paste the entire class where you are <code>@Inject</code> or <code>@Autowire</code> <code>MyService</code>? (the class with the injection point)"},{"owner":{"account_id":19123315,"reputation":25,"user_id":13966809,"display_name":"Andrew Estes"},"score":0,"creation_date":1656523504,"post_id":72793333,"comment_id":128596182,"body_markdown":"The class is annotated with the `@Service` tag. In the edit I made, I opted to exclude details about my code that I consider irrelevant to the problem. @Lino","body":"The class is annotated with the <code>@Service</code> tag. In the edit I made, I opted to exclude details about my code that I consider irrelevant to the problem. @Lino"},{"owner":{"account_id":19123315,"reputation":25,"user_id":13966809,"display_name":"Andrew Estes"},"score":0,"creation_date":1656524420,"post_id":72793333,"comment_id":128596510,"body_markdown":"I&#39;ve just made an edit and included the APIController class. Thanks! @JonathanS.Fisher.","body":"I&#39;ve just made an edit and included the APIController class. Thanks! @JonathanS.Fisher."}],"answers":[{"tags":[],"owner":{"account_id":329138,"reputation":8059,"user_id":652497,"accept_rate":91,"display_name":"Jonathan S. Fisher"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1656530274,"creation_date":1656530274,"answer_id":72806735,"question_id":72793333,"body_markdown":"```\r\n@Autowired\r\nprivate final static MyService myService = new MyService();\r\n```\r\n\r\nThree issues:\r\n\r\nFirst, you cannot have a `new` operator. Spring controls the lifecycle of your class instances. It will call `new` for you in the background. Remove the entire new operator stanza.\r\n\r\nNext: your your field cannot be `final`. After construction of the class, Spring will need to modify that field with a proxy. Remove the `final` declaration;\r\n\r\nFinally: your field cannot be `static`. `static` variables have a certain lifecycle with the JVM, and you need to let the Spring framework manage your lifecycle. remove the static operator.\r\n\r\nThe correct declaration should be:\r\n\r\n```\r\n@Autowired\r\nprivate MyService myService;\r\n```","title":"@Value not Injecting ANY value","body":"<pre><code>@Autowired\nprivate final static MyService myService = new MyService();\n</code></pre>\n<p>Three issues:</p>\n<p>First, you cannot have a <code>new</code> operator. Spring controls the lifecycle of your class instances. It will call <code>new</code> for you in the background. Remove the entire new operator stanza.</p>\n<p>Next: your your field cannot be <code>final</code>. After construction of the class, Spring will need to modify that field with a proxy. Remove the <code>final</code> declaration;</p>\n<p>Finally: your field cannot be <code>static</code>. <code>static</code> variables have a certain lifecycle with the JVM, and you need to let the Spring framework manage your lifecycle. remove the static operator.</p>\n<p>The correct declaration should be:</p>\n<pre><code>@Autowired\nprivate MyService myService;\n</code></pre>\n"}],"owner":{"account_id":19123315,"reputation":25,"user_id":13966809,"display_name":"Andrew Estes"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":451,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72806735,"answer_count":1,"score":1,"last_activity_date":1656530274,"creation_date":1656451653,"question_id":72793333,"body_markdown":"I&#39;m learning how to create a RESTful API with Springboot, and the @Value tag is not injecting values from application.properties, nor is it injecting values specified in the tag itself. I have my project structured as such:\r\n- api\r\n    - config\r\n    - controllers\r\n    - model\r\n    - services\r\n    - SpringApplication.java\r\n- resources\r\n    - application.properties\r\n\r\nStrangely, this behavior only seems to occur within files located in my &quot;services&quot; folder. The `@Value` tag works as expected in files located in my &quot;controllers&quot; folder. Below are examples of what I am doing:\r\n```\r\n@Value(&quot;${var}&quot;)\r\nString variable\r\n```\r\n&quot;var&quot; is defined in application.properties as `var=some_string`but *variable* is still initialized as &#39;null&#39;\r\n```\r\n@Value(&quot;I am directly assigning a value to this variable, but it still comes out null&quot;)\r\nString variable\r\n```\r\nI believe I am using the correct import: `import org.springframework.beans.factory.annotation.Value`.\r\nAt first I just thought the &quot;services&quot; folder was blind to the directory where application.properties is located, but after trying to directly inject values, I&#39;m not so sure what to think.\r\n\r\nEdit\r\n-\r\nAll of the classes in the services folder are annotated with `@Service` and nothing else. Below is what the class looks like. I&#39;ve opted to leave out implementations of the methods, other variables, and irrelevant imports. The code/methods all work as expected when hard-coding the variables. My focus is the @Value tag.\r\n\r\n```\r\npackage myapi.api.services;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.stereotype.Service;\r\n\r\n@Service\r\npublic class MyService {\r\n\r\n    @Value(&quot;${var}&quot;)\r\n    String variable;\r\n\r\n    public List&lt;Data&gt; getData() {\r\n        return new ArrayList&lt;Data&gt;();\r\n    }\r\n\r\n    public void postData() {\r\n\r\n    }\r\n```\r\n\r\nEdit 2\r\n-\r\nBelow is the APIController class, stored in the &quot;controllers&quot; folder. Again, I&#39;ve opted to leave out irrelevant methods/imports/variables. I would also like to note, that the `@Value` tag works as expected in this class.\r\n```\r\npackage myapi.api.controllers;\r\n\r\nimport java.util.List;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport myapi.api.services.MyService;\r\nimport lombok.RequiredArgsConstructor;\r\n\r\n@RestController\r\n@RequestMapping(&quot;api&quot;)\r\n@RequiredArgsConstructor\r\npublic class APIController {\r\n\r\n @Autowired\r\n private final static MyService myService = new MyService();\r\n\r\n @GetMapping(&quot;/getdata&quot;)\r\n public List&lt;Data&gt; getData() {\r\n     return myService.getData();\r\n   }\r\n}","title":"@Value not Injecting ANY value","body":"<p>I'm learning how to create a RESTful API with Springboot, and the @Value tag is not injecting values from application.properties, nor is it injecting values specified in the tag itself. I have my project structured as such:</p>\n<ul>\n<li>api\n<ul>\n<li>config</li>\n<li>controllers</li>\n<li>model</li>\n<li>services</li>\n<li>SpringApplication.java</li>\n</ul>\n</li>\n<li>resources\n<ul>\n<li>application.properties</li>\n</ul>\n</li>\n</ul>\n<p>Strangely, this behavior only seems to occur within files located in my &quot;services&quot; folder. The <code>@Value</code> tag works as expected in files located in my &quot;controllers&quot; folder. Below are examples of what I am doing:</p>\n<pre><code>@Value(&quot;${var}&quot;)\nString variable\n</code></pre>\n<p>&quot;var&quot; is defined in application.properties as <code>var=some_string</code>but <em>variable</em> is still initialized as 'null'</p>\n<pre><code>@Value(&quot;I am directly assigning a value to this variable, but it still comes out null&quot;)\nString variable\n</code></pre>\n<p>I believe I am using the correct import: <code>import org.springframework.beans.factory.annotation.Value</code>.\nAt first I just thought the &quot;services&quot; folder was blind to the directory where application.properties is located, but after trying to directly inject values, I'm not so sure what to think.</p>\n<h2>Edit</h2>\n<p>All of the classes in the services folder are annotated with <code>@Service</code> and nothing else. Below is what the class looks like. I've opted to leave out implementations of the methods, other variables, and irrelevant imports. The code/methods all work as expected when hard-coding the variables. My focus is the @Value tag.</p>\n<pre><code>package myapi.api.services;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.stereotype.Service;\n\n@Service\npublic class MyService {\n\n    @Value(&quot;${var}&quot;)\n    String variable;\n\n    public List&lt;Data&gt; getData() {\n        return new ArrayList&lt;Data&gt;();\n    }\n\n    public void postData() {\n\n    }\n</code></pre>\n<h2>Edit 2</h2>\n<p>Below is the APIController class, stored in the &quot;controllers&quot; folder. Again, I've opted to leave out irrelevant methods/imports/variables. I would also like to note, that the <code>@Value</code> tag works as expected in this class.</p>\n<pre><code>package myapi.api.controllers;\n\nimport java.util.List;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport myapi.api.services.MyService;\nimport lombok.RequiredArgsConstructor;\n\n@RestController\n@RequestMapping(&quot;api&quot;)\n@RequiredArgsConstructor\npublic class APIController {\n\n @Autowired\n private final static MyService myService = new MyService();\n\n @GetMapping(&quot;/getdata&quot;)\n public List&lt;Data&gt; getData() {\n     return myService.getData();\n   }\n}\n</code></pre>\n"},{"tags":["java","apache-spark","type-conversion","decimal","scientific-notation"],"answers":[{"tags":[],"owner":{"account_id":3269897,"reputation":22672,"user_id":2753501,"accept_rate":75,"display_name":"ZygD"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656529574,"creation_date":1656529202,"answer_id":72806532,"question_id":72803426,"body_markdown":"I can see that you&#39;re left with 17 significant digits. I used to have [this same problem working with Python](https://stackoverflow.com/questions/60046169/how-to-pass-decimal-as-a-value-when-creating-a-pyspark-dataframe/71635693#71635693).\r\n\r\nIn a nut shell, *double precision floating point numbers* are created out of what you provide to the programming language. They have 16-17 significant digits. So, even before `cast`, your number is already changed. It&#39;s a normal thing, as people usually don&#39;t deal with such high precision numbers. \r\n\r\nOne way around it would be using strings instead of numbers. Then, after casting, you should get correct value. Also, when working with Python, there&#39;s a `decimal` library dedicated to deal with decimal numbers.","title":"Non-deterministic conversion from scientific notation to decimal","body":"<p>I can see that you're left with 17 significant digits. I used to have <a href=\"https://stackoverflow.com/questions/60046169/how-to-pass-decimal-as-a-value-when-creating-a-pyspark-dataframe/71635693#71635693\">this same problem working with Python</a>.</p>\n<p>In a nut shell, <em>double precision floating point numbers</em> are created out of what you provide to the programming language. They have 16-17 significant digits. So, even before <code>cast</code>, your number is already changed. It's a normal thing, as people usually don't deal with such high precision numbers.</p>\n<p>One way around it would be using strings instead of numbers. Then, after casting, you should get correct value. Also, when working with Python, there's a <code>decimal</code> library dedicated to deal with decimal numbers.</p>\n"}],"owner":{"account_id":8517354,"reputation":77,"user_id":6385384,"display_name":"JanKo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":201,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656529574,"creation_date":1656514098,"question_id":72803426,"body_markdown":"Trying to convert a scientific notation in Spark (PySpark and SQL) and I seem to get really weird, non-deterministic results. \r\n\r\nI&#39;ve even tried to revert to using value times power(10,x) instead of valueEX, however I still get the same issue, where 3 different values are converted to the same value.\r\n\r\nIs this some kind of scale setting in the actual conversion? Is this a thing with the Java underneath Spark?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\n    SELECT CAST(3.57080748200000147E17 AS DECIMAL(18,0))\r\n    union all\r\n    SELECT CAST(3.570807482000001E17 AS DECIMAL(18,0))\r\n    union all\r\n    SELECT CAST(3.5708074820000013E17 AS DECIMAL(18,0))\r\n    \r\n    SELECT CAST(3.57080748200000147*power(10,17) AS DECIMAL(18,0))\r\n    union all\r\n    SELECT CAST(3.570807482000001*power(10,17) AS DECIMAL(18,0))\r\n    union all\r\n    SELECT CAST(3.5708074820000013*power(10,17) AS DECIMAL(18,0))\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7S1SE.png\r\n  [2]: https://i.stack.imgur.com/XrNbd.png","title":"Non-deterministic conversion from scientific notation to decimal","body":"<p>Trying to convert a scientific notation in Spark (PySpark and SQL) and I seem to get really weird, non-deterministic results.</p>\n<p>I've even tried to revert to using value times power(10,x) instead of valueEX, however I still get the same issue, where 3 different values are converted to the same value.</p>\n<p>Is this some kind of scale setting in the actual conversion? Is this a thing with the Java underneath Spark?</p>\n<p><a href=\"https://i.stack.imgur.com/7S1SE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7S1SE.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/XrNbd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XrNbd.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>SELECT CAST(3.57080748200000147E17 AS DECIMAL(18,0))\nunion all\nSELECT CAST(3.570807482000001E17 AS DECIMAL(18,0))\nunion all\nSELECT CAST(3.5708074820000013E17 AS DECIMAL(18,0))\n\nSELECT CAST(3.57080748200000147*power(10,17) AS DECIMAL(18,0))\nunion all\nSELECT CAST(3.570807482000001*power(10,17) AS DECIMAL(18,0))\nunion all\nSELECT CAST(3.5708074820000013*power(10,17) AS DECIMAL(18,0))\n</code></pre>\n"},{"tags":["java","realm","keycloak"],"comments":[{"owner":{"account_id":3399229,"reputation":34668,"user_id":2851937,"accept_rate":67,"display_name":"Jay"},"score":0,"creation_date":1656612125,"post_id":72798302,"comment_id":128621571,"body_markdown":"What does Realm, part of MongoDB Realm the database have to do with this question.","body":"What does Realm, part of MongoDB Realm the database have to do with this question."}],"answers":[{"tags":[],"owner":{"account_id":1706859,"reputation":1320,"user_id":1565759,"accept_rate":83,"display_name":"sonOfRa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656529502,"creation_date":1656529502,"answer_id":72806596,"question_id":72798302,"body_markdown":"This is not possible in Keycloak by design, realms are isolated from each other. The exception to this rule is the master realm. A user that is in the master and has the global `admin` role is allowed to do everything in all realms.\r\n\r\nIn addition, there are (automatically generated) management clients for all realms in the master realm, in your case named `internal-realm` and `external-realm`. These clients, in turn, have a list of client-roles that allow the user that is in those roles, to perform specific actions. You can read more about this in the Keycloak documentation [here][1].\r\n\r\n  [1]: https://www.keycloak.org/docs/latest/server_admin/#master-realm-access-control","title":"Get list of users from another realm in Keycloak Spring boot","body":"<p>This is not possible in Keycloak by design, realms are isolated from each other. The exception to this rule is the master realm. A user that is in the master and has the global <code>admin</code> role is allowed to do everything in all realms.</p>\n<p>In addition, there are (automatically generated) management clients for all realms in the master realm, in your case named <code>internal-realm</code> and <code>external-realm</code>. These clients, in turn, have a list of client-roles that allow the user that is in those roles, to perform specific actions. You can read more about this in the Keycloak documentation <a href=\"https://www.keycloak.org/docs/latest/server_admin/#master-realm-access-control\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":10473591,"reputation":858,"user_id":7720801,"display_name":"LDropl"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":811,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72806596,"answer_count":1,"score":0,"last_activity_date":1656529502,"creation_date":1656491876,"question_id":72798302,"body_markdown":"I have two realms in Keycloak &quot;internal&quot; and &quot;external&quot;.\r\n\r\n As a user (not Admin!) from &quot;internal&quot; realm I would like to get list of users from &quot;external&quot; realm.\r\n\r\nThere is default Role &quot;view_users&quot; but I guess it&#39;s only for the users from the same realm right ?\r\n\r\nis it possible as not admin user to access to another realm ?\r\n\r\nhow it would look like in java Spring Boot ?","title":"Get list of users from another realm in Keycloak Spring boot","body":"<p>I have two realms in Keycloak &quot;internal&quot; and &quot;external&quot;.</p>\n<p>As a user (not Admin!) from &quot;internal&quot; realm I would like to get list of users from &quot;external&quot; realm.</p>\n<p>There is default Role &quot;view_users&quot; but I guess it's only for the users from the same realm right ?</p>\n<p>is it possible as not admin user to access to another realm ?</p>\n<p>how it would look like in java Spring Boot ?</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":1,"creation_date":1656432298,"post_id":72789762,"comment_id":128568734,"body_markdown":"If you want a more equivalent stream, try `map.entrySet().stream()` to stream over the map entries. You would want to use `Stream#filter` to include only results that satisfy your `if` statement, and then finally use `Stream#forEach` to iterate the results. Using `Map#forEach` directly will really be no different than the for loop. Also, you can use `Stream#filter` multiple times, to specify the conditions separately.","body":"If you want a more equivalent stream, try <code>map.entrySet().stream()</code> to stream over the map entries. You would want to use <code>Stream#filter</code> to include only results that satisfy your <code>if</code> statement, and then finally use <code>Stream#forEach</code> to iterate the results. Using <code>Map#forEach</code> directly will really be no different than the for loop. Also, you can use <code>Stream#filter</code> multiple times, to specify the conditions separately."},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1656434958,"post_id":72789762,"comment_id":128569676,"body_markdown":"I would `map` the entries to their respective `String`, and then use `Collectors.joining`.","body":"I would <code>map</code> the entries to their respective <code>String</code>, and then use <code>Collectors.joining</code>."}],"answers":[{"tags":[],"owner":{"account_id":2016713,"reputation":26480,"user_id":1803853,"accept_rate":71,"display_name":"Davide Lorenzo MARINO"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1656433321,"creation_date":1656432978,"answer_id":72789964,"question_id":72789762,"body_markdown":"To have a full use of stream functionalities You need to use stream, filter and reduce functions as follow:\r\n\r\n    // Get the stream from entrySet\r\n    String result = map.entrySet().stream()    \r\n          // Filter entries based on your condition\r\n          .filter(val -&gt;  val.getValue() &gt;= 10 \r\n                               &amp;&amp; !Objects.equals(val.getKey(), &quot; &quot;) \r\n                               &amp;&amp; val.getKey().length() &gt; 3)  \r\n           // Apply the reduce to combine filtered entries in a single string     \r\n          .reduce(&quot;&quot;, (stats, val) -&gt; stats \r\n                                      + val.getKey().toLowerCase() \r\n                                      + &quot; - &quot; \r\n                                      + val.getValue() \r\n                                      + &quot;\\n&quot;);\r\n\r\nThe [stream][1] method applied to a Collection give a new Stream of the item present in the set:\r\n\r\n&gt; Returns a sequential Stream with this collection as its source.\r\n\r\nThe [filter][2] method appplied on the stream:\r\n\r\n&gt; Returns a stream consisting of the elements of this stream that match the given predicate.\r\n\r\nThe [reduce][3] function on the stream object:\r\n\r\n&gt; Performs a reduction on the elements of this stream, using the provided identity value and an associative accumulation function, and returns the reduced value\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Collection.html#stream--\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#filter-java.util.function.Predicate-\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#reduce-T-java.util.function.BinaryOperator-","title":"Iterating over hashmap with streams with condition","body":"<p>To have a full use of stream functionalities You need to use stream, filter and reduce functions as follow:</p>\n<pre><code>// Get the stream from entrySet\nString result = map.entrySet().stream()    \n      // Filter entries based on your condition\n      .filter(val -&gt;  val.getValue() &gt;= 10 \n                           &amp;&amp; !Objects.equals(val.getKey(), &quot; &quot;) \n                           &amp;&amp; val.getKey().length() &gt; 3)  \n       // Apply the reduce to combine filtered entries in a single string     \n      .reduce(&quot;&quot;, (stats, val) -&gt; stats \n                                  + val.getKey().toLowerCase() \n                                  + &quot; - &quot; \n                                  + val.getValue() \n                                  + &quot;\\n&quot;);\n</code></pre>\n<p>The <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Collection.html#stream--\" rel=\"nofollow noreferrer\">stream</a> method applied to a Collection give a new Stream of the item present in the set:</p>\n<blockquote>\n<p>Returns a sequential Stream with this collection as its source.</p>\n</blockquote>\n<p>The <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#filter-java.util.function.Predicate-\" rel=\"nofollow noreferrer\">filter</a> method appplied on the stream:</p>\n<blockquote>\n<p>Returns a stream consisting of the elements of this stream that match the given predicate.</p>\n</blockquote>\n<p>The <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#reduce-T-java.util.function.BinaryOperator-\" rel=\"nofollow noreferrer\">reduce</a> function on the stream object:</p>\n<blockquote>\n<p>Performs a reduction on the elements of this stream, using the provided identity value and an associative accumulation function, and returns the reduced value</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":250529,"reputation":11921,"user_id":527312,"accept_rate":73,"display_name":"ktm5124"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1656433345,"creation_date":1656433345,"answer_id":72790040,"question_id":72789762,"body_markdown":"Good job using the forEach method. It&#39;s good practice to use streams and the stream API.\r\n\r\nHere&#39;s a very simple program that does something similar to what you want to do.\r\n\r\n    import java.util.Map;\r\n    import java.util.HashMap;\r\n    public class Test {\r\n        public static void main(String[] args) {\r\n            Map&lt;String, Integer&gt; map = new HashMap&lt;&gt;();\r\n            map.put(&quot;aaaa&quot;, 1);\r\n            map.put(&quot;bbbb&quot;, 2);\r\n            map.put(&quot;cccc&quot;, 3);\r\n            map.forEach((k,v)-&gt;System.out.println(k + &quot;: &quot; + v));\r\n        }\r\n    }\r\n\r\nNow we can compile and run the code.\r\n\r\n    % javac Test.java\r\n    % java Test\r\n    aaaa: 1\r\n    bbbb: 2\r\n    cccc: 3\r\n\r\nNow, what&#39;s the error in your code? \r\n\r\nThe error is this. The Map.forEach method takes a BiConsumer. The BiConsumer operation takes two input arguments (k and v) and returns no result. You are using a BiConsumer operation to return a result in a ternary expression. The BiConsumer operation has a return type of void. So what you can do is... you can execute code inside of the BiConsumer operation (like I did in my example) but you cannot return a result in the BiConsumer operation (which you are trying to do).\r\n\r\nYou can read about the Map.forEach method and the BiConsumer functional operation in the Java docs.\r\n\r\n 1. [Java docs for the Map.forEach method][1] \r\n 2. [Java docs for the BiConsumer operation][2]\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#forEach(java.util.function.BiConsumer)\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/BiConsumer.html","title":"Iterating over hashmap with streams with condition","body":"<p>Good job using the forEach method. It's good practice to use streams and the stream API.</p>\n<p>Here's a very simple program that does something similar to what you want to do.</p>\n<pre><code>import java.util.Map;\nimport java.util.HashMap;\npublic class Test {\n    public static void main(String[] args) {\n        Map&lt;String, Integer&gt; map = new HashMap&lt;&gt;();\n        map.put(&quot;aaaa&quot;, 1);\n        map.put(&quot;bbbb&quot;, 2);\n        map.put(&quot;cccc&quot;, 3);\n        map.forEach((k,v)-&gt;System.out.println(k + &quot;: &quot; + v));\n    }\n}\n</code></pre>\n<p>Now we can compile and run the code.</p>\n<pre><code>% javac Test.java\n% java Test\naaaa: 1\nbbbb: 2\ncccc: 3\n</code></pre>\n<p>Now, what's the error in your code?</p>\n<p>The error is this. The Map.forEach method takes a BiConsumer. The BiConsumer operation takes two input arguments (k and v) and returns no result. You are using a BiConsumer operation to return a result in a ternary expression. The BiConsumer operation has a return type of void. So what you can do is... you can execute code inside of the BiConsumer operation (like I did in my example) but you cannot return a result in the BiConsumer operation (which you are trying to do).</p>\n<p>You can read about the Map.forEach method and the BiConsumer functional operation in the Java docs.</p>\n<ol>\n<li><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#forEach(java.util.function.BiConsumer)\" rel=\"nofollow noreferrer\">Java docs for the Map.forEach method</a></li>\n<li><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/BiConsumer.html\" rel=\"nofollow noreferrer\">Java docs for the BiConsumer operation</a></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1268556,"reputation":48088,"user_id":1225328,"accept_rate":93,"display_name":"sp00m"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1656434888,"creation_date":1656434888,"answer_id":72790367,"question_id":72789762,"body_markdown":"Here could be an approach:\r\n\r\n```java\r\nString stats = map.entrySet().stream()\r\n        // keep only the entries you&#39;re interested in:\r\n        .filter(entry -&gt; entry.getKey().length() &gt; 3 &amp;&amp; entry.getValue() &gt;= 10)\r\n        // serialise entries one by one:\r\n        .map(entry -&gt; entry.getKey().toLowerCase() + &quot; - &quot; + entry.getValue())\r\n        // join:\r\n        .collect(Collectors.joining(&quot;\\n&quot;));\r\n```","title":"Iterating over hashmap with streams with condition","body":"<p>Here could be an approach:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String stats = map.entrySet().stream()\n        // keep only the entries you're interested in:\n        .filter(entry -&gt; entry.getKey().length() &gt; 3 &amp;&amp; entry.getValue() &gt;= 10)\n        // serialise entries one by one:\n        .map(entry -&gt; entry.getKey().toLowerCase() + &quot; - &quot; + entry.getValue())\n        // join:\n        .collect(Collectors.joining(&quot;\\n&quot;));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1656529311,"creation_date":1656449147,"answer_id":72792961,"question_id":72789762,"body_markdown":"There are many approaches, here is one.\r\n- first some test data.\r\n```\r\nMap&lt;String, Integer&gt; map = Map.of(&quot; &quot;, 18, &quot;foo&quot;, 14, &quot;abcd&quot;,\r\n\t\t20, &quot;ab&quot;, 10, &quot;efgh&quot;, 3, &quot;rstuv&quot;, 14);\r\n```\r\n- Then I would define a `Predicate&lt;Entry&lt;String, Integer&gt;&gt;` to reduce the clutter of the stream construct.  Note that since you are checking for `length &lt; 3` the condition for a single space can be omitted.  If you meant check for a blank String, you can use `!val.getKey().isBlank()` as the condition.\r\n\r\n- `reduce` takes an initial argument followed by a `BinaryOperator` as an accumulator.  In this case the accumulation is a concatenation of the mapped strings.  `String::concat` meets the requirements and is used here to fulfill the operation.\r\n```\r\nPredicate&lt;Entry&lt;String, Integer&gt;&gt; check =\r\n\t\tval -&gt; val.getValue() &gt;= 10\r\n\t\t\t\t&amp;&amp; val.getKey().length() &gt; 3;\r\n```\r\nThen it is just a matter of streaming the `EntrySet`.\r\n```\r\nString result = map.entrySet().stream().filter(check)\r\n         .map(e -&gt; e.getKey().toLowerCase() + &quot; - &quot; + e.getValue() + &quot;\\n&quot;)\r\n\t\t .reduce(&quot;&quot;, String::concat);\r\n\r\nSystemm.out.print(result);\r\n```\r\nPrints the following.\r\n```\r\nabcd - 20\r\nrstuv - 14\r\n","title":"Iterating over hashmap with streams with condition","body":"<p>There are many approaches, here is one.</p>\n<ul>\n<li>first some test data.</li>\n</ul>\n<pre><code>Map&lt;String, Integer&gt; map = Map.of(&quot; &quot;, 18, &quot;foo&quot;, 14, &quot;abcd&quot;,\n        20, &quot;ab&quot;, 10, &quot;efgh&quot;, 3, &quot;rstuv&quot;, 14);\n</code></pre>\n<ul>\n<li><p>Then I would define a <code>Predicate&lt;Entry&lt;String, Integer&gt;&gt;</code> to reduce the clutter of the stream construct.  Note that since you are checking for <code>length &lt; 3</code> the condition for a single space can be omitted.  If you meant check for a blank String, you can use <code>!val.getKey().isBlank()</code> as the condition.</p>\n</li>\n<li><p><code>reduce</code> takes an initial argument followed by a <code>BinaryOperator</code> as an accumulator.  In this case the accumulation is a concatenation of the mapped strings.  <code>String::concat</code> meets the requirements and is used here to fulfill the operation.</p>\n</li>\n</ul>\n<pre><code>Predicate&lt;Entry&lt;String, Integer&gt;&gt; check =\n        val -&gt; val.getValue() &gt;= 10\n                &amp;&amp; val.getKey().length() &gt; 3;\n</code></pre>\n<p>Then it is just a matter of streaming the <code>EntrySet</code>.</p>\n<pre><code>String result = map.entrySet().stream().filter(check)\n         .map(e -&gt; e.getKey().toLowerCase() + &quot; - &quot; + e.getValue() + &quot;\\n&quot;)\n         .reduce(&quot;&quot;, String::concat);\n\nSystemm.out.print(result);\n</code></pre>\n<p>Prints the following.</p>\n<pre><code>abcd - 20\nrstuv - 14\n</code></pre>\n"}],"owner":{"account_id":25358037,"reputation":51,"user_id":19173827,"display_name":"czauto"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1206,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"accepted_answer_id":72790367,"answer_count":4,"score":1,"last_activity_date":1656529311,"creation_date":1656432114,"question_id":72789762,"body_markdown":"So I have this loop \r\n\r\n    for (Map.Entry&lt;String, Integer&gt; val : map.entrySet()) {\r\n            if (val.getValue() &gt;= 10 &amp;&amp; !Objects.equals(val.getKey(), &quot; &quot;) &amp;&amp; val.getKey().length() &gt; 3) {\r\n                stats = stats + val.getKey().toLowerCase() + &quot; - &quot; + val.getValue() + &quot;\\n&quot;;\r\n            }\r\n        }\r\nNow I want to get rid of for loop and if condition using streams. How can I do this?","title":"Iterating over hashmap with streams with condition","body":"<p>So I have this loop</p>\n<pre><code>for (Map.Entry&lt;String, Integer&gt; val : map.entrySet()) {\n        if (val.getValue() &gt;= 10 &amp;&amp; !Objects.equals(val.getKey(), &quot; &quot;) &amp;&amp; val.getKey().length() &gt; 3) {\n            stats = stats + val.getKey().toLowerCase() + &quot; - &quot; + val.getValue() + &quot;\\n&quot;;\n        }\n    }\n</code></pre>\n<p>Now I want to get rid of for loop and if condition using streams. How can I do this?</p>\n"},{"tags":["java","eclipse","selenium","selenium-webdriver"],"comments":[{"owner":{"account_id":5535028,"reputation":1362,"user_id":4393666,"display_name":"Andrey Kotov"},"score":0,"creation_date":1656521012,"post_id":72804834,"comment_id":128595287,"body_markdown":"In the error there is a text `Invalid port. Exiting`. Check [this answer](https://stackoverflow.com/questions/62993623/invalid-port-exiting-exception-in-thread-main-org-openqa-selenium-webdrivere)","body":"In the error there is a text <code>Invalid port. Exiting</code>. Check <a href=\"https://stackoverflow.com/questions/62993623/invalid-port-exiting-exception-in-thread-main-org-openqa-selenium-webdrivere\">this answer</a>"},{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1656523346,"post_id":72804834,"comment_id":128596129,"body_markdown":"You&#39;ll want an absolute path to the chromedriver exe.","body":"You&#39;ll want an absolute path to the chromedriver exe."}],"owner":{"account_id":4516798,"reputation":3,"user_id":3671371,"display_name":"user3671371"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":372,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1656529188,"creation_date":1656519943,"question_id":72804834,"body_markdown":"I&#39;m just a new java developer I&#39;m trying to use the selenium library to do some test cases but I&#39;m experiencing this confusing issue as shown in the image below: \r\n\r\n[![Exception in thread &quot;main&quot;][1]][1]\r\n\r\n    package automationFramework;\r\n    \r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n    \r\n    public class FirstTestCase {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;chromedriver_win3222\\\\chromedriver.exe&quot;);\r\n    \r\n    \t\t\r\n    \t\tWebDriver wd =new ChromeDriver();\r\n    \t\tString baseUrl = &quot;https://www.google.com&quot;;\r\n    \t\twd.get(baseUrl);\r\n    \t\t\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n\r\n\r\n```\r\nSLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\r\nSLF4J: Defaulting to no-operation (NOP) logger implementation\r\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\r\nInvalid port. Exiting...\r\nException in thread &quot;main&quot; org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Possible causes are invalid address of the remote server or browser start-up failure.\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:587)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.startSession(RemoteWebDriver.java:264)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:179)\r\n\tat org.openqa.selenium.chromium.ChromiumDriver.&lt;init&gt;(ChromiumDriver.java:101)\r\n\tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:81)\r\n\tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:49)\r\n\tat automationFramework.FirstTestCase.main(FirstTestCase.java:13)\r\nCaused by: org.openqa.selenium.WebDriverException: Driver server process died prematurely.\r\nBuild info: version: &#39;4.3.0&#39;, revision: &#39;a4995e2c09*&#39;\r\nSystem info: host: &#39;DESKTOP-G3NE69C&#39;, ip: &#39;192.168.56.1&#39;, os.name: &#39;Windows 11&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;17.0.2&#39;\r\nDriver info: driver.version: ChromeDriver\r\n\tat org.openqa.selenium.remote.service.DriverService.start(DriverService.java:226)\r\n\tat org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:98)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:569)\r\n```\r\n\r\nI can deal with the first error &quot;SLF4J&quot; but I really need other issues to be solved. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/494S6.png\r\n","title":"Invalid port. Exiting... Exception in thread &quot;main&quot; org.openqa.selenium.SessionNotCreatedException: Error in Eclips","body":"<p>I'm just a new java developer I'm trying to use the selenium library to do some test cases but I'm experiencing this confusing issue as shown in the image below:</p>\n<p><a href=\"https://i.stack.imgur.com/494S6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/494S6.png\" alt=\"Exception in thread &quot;main&quot;\" /></a></p>\n<pre><code>package automationFramework;\n\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\n\npublic class FirstTestCase {\n\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n        System.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;chromedriver_win3222\\\\chromedriver.exe&quot;);\n\n        \n        WebDriver wd =new ChromeDriver();\n        String baseUrl = &quot;https://www.google.com&quot;;\n        wd.get(baseUrl);\n        \n    }\n\n}\n</code></pre>\n<pre><code>SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\nInvalid port. Exiting...\nException in thread &quot;main&quot; org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Possible causes are invalid address of the remote server or browser start-up failure.\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:587)\n    at org.openqa.selenium.remote.RemoteWebDriver.startSession(RemoteWebDriver.java:264)\n    at org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:179)\n    at org.openqa.selenium.chromium.ChromiumDriver.&lt;init&gt;(ChromiumDriver.java:101)\n    at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:81)\n    at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:49)\n    at automationFramework.FirstTestCase.main(FirstTestCase.java:13)\nCaused by: org.openqa.selenium.WebDriverException: Driver server process died prematurely.\nBuild info: version: '4.3.0', revision: 'a4995e2c09*'\nSystem info: host: 'DESKTOP-G3NE69C', ip: '192.168.56.1', os.name: 'Windows 11', os.arch: 'amd64', os.version: '10.0', java.version: '17.0.2'\nDriver info: driver.version: ChromeDriver\n    at org.openqa.selenium.remote.service.DriverService.start(DriverService.java:226)\n    at org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:98)\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:569)\n</code></pre>\n<p>I can deal with the first error &quot;SLF4J&quot; but I really need other issues to be solved.</p>\n"},{"tags":["java","wildfly","jndi"],"owner":{"account_id":22572286,"reputation":133,"user_id":16758296,"display_name":"kim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":185,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1656529091,"creation_date":1656517351,"question_id":72804268,"body_markdown":"I am using jndi on wildfly 10.\r\nwhen doing the lookup, i&#39;ve got an error :\r\n**&quot;java.net.ConnectException: Connection refused: no further information&quot;**\r\n\r\nmy jboss-ejb-client.properties is not read event in the classpath.\r\nSo I put the data in the InitialContext.\r\n\r\n\r\n\r\n```\r\n\tprivate static Context createInitialContext() throws NamingException {\r\n\t\tProperties jndiProperties = new Properties();\r\n\t\tjndiProperties.put(Context.INITIAL_CONTEXT_FACTORY,\t&quot;org.jboss.naming.remote.client.InitialContextFactory&quot;);\r\n\r\n\t\tjndiProperties.put(Context.URL_PKG_PREFIXES,\t\t&quot;org.jboss.ejb.client.naming&quot;);\r\n//\t\tjndiProperties.put(Context.PROVIDER_URL,\t\t\t&quot;remote://localhost:8089&quot;);\r\n\t\tjndiProperties.put(Context.PROVIDER_URL, \t\t\t&quot;remote://localhost:4447&quot;);\r\n\t\tjndiProperties.put(&quot;jboss.naming.client.ejb.context&quot;, true);\r\n\r\n\t\tjndiProperties.put(&quot;endpoint.name&quot;,&quot;client-endpoint&quot;);\r\n\t\tjndiProperties.put(&quot;remote.connectionprovider.create.options.org.xnio.Options.SSL_ENABLED&quot;,&quot;false&quot;);\r\n\t\tjndiProperties.put(&quot;remote.connections&quot;,&quot;default&quot;);\r\n\t\tjndiProperties.put(&quot;remote.connection.default.host&quot;,&quot;localhost&quot;);\r\n\t\tjndiProperties.put(&quot;remote.connection.default.port&quot;,&quot;4447&quot;);\r\n\t\tjndiProperties.put(&quot;remote.connection.default.connect.options.org.xnio.Options.SASL_POLICY_NOANONYMOUS&quot;,&quot;false&quot;);\r\n\t\tjndiProperties.put(&quot;remote.connection.default.username&quot;,&quot;***&quot;);\r\n\t\tjndiProperties.put(&quot;remote.connection.default.password&quot;,&quot;***&quot;);\r\n\t\treturn new InitialContext(jndiProperties);\r\n\t}\r\n```\r\n\r\n1) remote seems to be the only protocol available.\r\n2)) Is there any configuration needed somewhere else?\r\n\r\ntx for ur help.\r\n","title":"wildfly jndi (java.net.ConnectException: Connection refused: no further information)]","body":"<p>I am using jndi on wildfly 10.\nwhen doing the lookup, i've got an error :\n<strong>&quot;java.net.ConnectException: Connection refused: no further information&quot;</strong></p>\n<p>my jboss-ejb-client.properties is not read event in the classpath.\nSo I put the data in the InitialContext.</p>\n<pre><code>    private static Context createInitialContext() throws NamingException {\n        Properties jndiProperties = new Properties();\n        jndiProperties.put(Context.INITIAL_CONTEXT_FACTORY, &quot;org.jboss.naming.remote.client.InitialContextFactory&quot;);\n\n        jndiProperties.put(Context.URL_PKG_PREFIXES,        &quot;org.jboss.ejb.client.naming&quot;);\n//      jndiProperties.put(Context.PROVIDER_URL,            &quot;remote://localhost:8089&quot;);\n        jndiProperties.put(Context.PROVIDER_URL,            &quot;remote://localhost:4447&quot;);\n        jndiProperties.put(&quot;jboss.naming.client.ejb.context&quot;, true);\n\n        jndiProperties.put(&quot;endpoint.name&quot;,&quot;client-endpoint&quot;);\n        jndiProperties.put(&quot;remote.connectionprovider.create.options.org.xnio.Options.SSL_ENABLED&quot;,&quot;false&quot;);\n        jndiProperties.put(&quot;remote.connections&quot;,&quot;default&quot;);\n        jndiProperties.put(&quot;remote.connection.default.host&quot;,&quot;localhost&quot;);\n        jndiProperties.put(&quot;remote.connection.default.port&quot;,&quot;4447&quot;);\n        jndiProperties.put(&quot;remote.connection.default.connect.options.org.xnio.Options.SASL_POLICY_NOANONYMOUS&quot;,&quot;false&quot;);\n        jndiProperties.put(&quot;remote.connection.default.username&quot;,&quot;***&quot;);\n        jndiProperties.put(&quot;remote.connection.default.password&quot;,&quot;***&quot;);\n        return new InitialContext(jndiProperties);\n    }\n</code></pre>\n<ol>\n<li>remote seems to be the only protocol available.\n2)) Is there any configuration needed somewhere else?</li>\n</ol>\n<p>tx for ur help.</p>\n"},{"tags":["java","libgdx"],"comments":[{"owner":{"account_id":3273973,"reputation":5791,"user_id":2756574,"accept_rate":89,"display_name":"Sebastian"},"score":0,"creation_date":1656497349,"post_id":72772392,"comment_id":128585396,"body_markdown":"Please add more details and be a little more specific: What is &quot;Characters&quot; and what do you mean with &quot;animate&quot;?","body":"Please add more details and be a little more specific: What is &quot;Characters&quot; and what do you mean with &quot;animate&quot;?"}],"answers":[{"tags":[],"owner":{"account_id":16065871,"reputation":1,"user_id":18412675,"display_name":"randomGuy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656528769,"creation_date":1656528769,"answer_id":72806451,"question_id":72772392,"body_markdown":"if your characters have a `draw()` function\r\n\r\n```\r\nfor(Characters c: characters){ c.draw() }\r\n```\r\n\r\nOtherwise I do it like this\r\n\r\n```\r\n class Characters{\r\n   public SpriteBatch batch;\r\n   public TextureRegion[] regions; //create array of texture\r\n   public Animation&lt;TextureRegion&gt; animation;\r\n\r\n   public Characters(String relative_path, int tileWidth, int tileHeight){\r\n     batch =  new SpriteBatch();\r\n     // I take into consideration that you use an image so probably a sprite sheet.\r\n     regions = TextureRegion.split(new Texture(relative_path), tileWidth, tileHeight)[0];\r\n     animation = new Animation&lt;&gt;(frameDuration, regions);\r\n   }\r\n\r\n   public void draw(float elapse){\r\n      batch.begin();\r\n      batch.draw(animation.getKeyFrame(elapse, `loop` : true),x,y,width,height);\r\n      batch.end();\r\n   }\r\n   \r\n }\r\n\r\npublic class MyGdxGame extends ApplicationAdapter {\r\n\r\n\tCharacters characters = new Array&lt;Characters&gt;();\r\n\r\n\t@Override\r\n\tpublic void create () {\r\n      //width/height of a frame not the entire image\r\n\t  characters.add(&quot;img1.png&quot;, width, height);\r\n      characters.add(&quot;img2.png&quot;, width, height);\r\n      characters.add(&quot;img3.png&quot;, width, height);\r\n      characters.add(&quot;img4.png&quot;, width, height);\r\n      characters.add(&quot;img5.png&quot;, width, height);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void render () {\r\n\t\tGdx.gl.glClear(GL20.GL_COLOR_BUFFER_BIT);\r\n\r\n\t\telapse += Gdx.graphics.getDeltaTime();\r\n\t\tfor(Characters c: characters ){\r\n          c.draw(elapse);\r\n        }\r\n\r\n\t}\r\n}\r\n\r\n\r\n```\r\n\r\nit is lot of code but hope its helping. ","title":"Animate multiple sprites in libgdx screen","body":"<p>if your characters have a <code>draw()</code> function</p>\n<pre><code>for(Characters c: characters){ c.draw() }\n</code></pre>\n<p>Otherwise I do it like this</p>\n<pre><code> class Characters{\n   public SpriteBatch batch;\n   public TextureRegion[] regions; //create array of texture\n   public Animation&lt;TextureRegion&gt; animation;\n\n   public Characters(String relative_path, int tileWidth, int tileHeight){\n     batch =  new SpriteBatch();\n     // I take into consideration that you use an image so probably a sprite sheet.\n     regions = TextureRegion.split(new Texture(relative_path), tileWidth, tileHeight)[0];\n     animation = new Animation&lt;&gt;(frameDuration, regions);\n   }\n\n   public void draw(float elapse){\n      batch.begin();\n      batch.draw(animation.getKeyFrame(elapse, `loop` : true),x,y,width,height);\n      batch.end();\n   }\n   \n }\n\npublic class MyGdxGame extends ApplicationAdapter {\n\n    Characters characters = new Array&lt;Characters&gt;();\n\n    @Override\n    public void create () {\n      //width/height of a frame not the entire image\n      characters.add(&quot;img1.png&quot;, width, height);\n      characters.add(&quot;img2.png&quot;, width, height);\n      characters.add(&quot;img3.png&quot;, width, height);\n      characters.add(&quot;img4.png&quot;, width, height);\n      characters.add(&quot;img5.png&quot;, width, height);\n    }\n\n    @Override\n    public void render () {\n        Gdx.gl.glClear(GL20.GL_COLOR_BUFFER_BIT);\n\n        elapse += Gdx.graphics.getDeltaTime();\n        for(Characters c: characters ){\n          c.draw(elapse);\n        }\n\n    }\n}\n\n\n</code></pre>\n<p>it is lot of code but hope its helping.</p>\n"}],"owner":{"account_id":25024779,"reputation":17,"user_id":18883106,"display_name":"witsel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656528769,"creation_date":1656334162,"question_id":72772392,"body_markdown":"I am making a small game in libgdx, and I would like to animate more characters on the screen. I know how to animate a single character, but considering for example 5 characters, I wouldn&#39;t know how to animate all of them. Can anyone give me some advice? For now the characters are inside an array. My array is:\r\n\r\n        public void makeCharacters() {\r\n        characters = new Array&lt;Characters&gt;();\r\n        characters.add(new Characters(new Sprite(new Texture(&quot;img1.png&quot;)), spawn));\r\n        characters.add(new Characters(new Sprite(new Texture(&quot;img2.png&quot;)), spawn));\r\n        characters.add(new Characters(new Sprite(new Texture(&quot;img3.png&quot;)), spawn));\r\n        characters.add(new Characters(new Sprite(new Texture(&quot;img4.png&quot;)), spawn));\r\n        characters.add(new Characters(new Sprite(new Texture(&quot;img5png&quot;)), spawn));","title":"Animate multiple sprites in libgdx screen","body":"<p>I am making a small game in libgdx, and I would like to animate more characters on the screen. I know how to animate a single character, but considering for example 5 characters, I wouldn't know how to animate all of them. Can anyone give me some advice? For now the characters are inside an array. My array is:</p>\n<pre><code>    public void makeCharacters() {\n    characters = new Array&lt;Characters&gt;();\n    characters.add(new Characters(new Sprite(new Texture(&quot;img1.png&quot;)), spawn));\n    characters.add(new Characters(new Sprite(new Texture(&quot;img2.png&quot;)), spawn));\n    characters.add(new Characters(new Sprite(new Texture(&quot;img3.png&quot;)), spawn));\n    characters.add(new Characters(new Sprite(new Texture(&quot;img4.png&quot;)), spawn));\n    characters.add(new Characters(new Sprite(new Texture(&quot;img5png&quot;)), spawn));\n</code></pre>\n"},{"tags":["java","regex","string","impala"],"answers":[{"tags":[],"owner":{"account_id":1021725,"reputation":10018,"user_id":1031887,"accept_rate":77,"display_name":"phatfingers"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656516581,"creation_date":1656516581,"answer_id":72804087,"question_id":72802750,"body_markdown":"You could key the pattern off of a word immediately preceding one of a set of known data types.  Depending on when you perform that step, you&#39;ll need to customize that list to match either the Impala or the SQL Server types.\r\n\r\n`(\\w+)\\s+(?:BOOLEAN|CHAR|DATE|DECIMAL|DOUBLE|FLOAT|INT|REAL|STRING|TIMESTAMP|VARCHAR|etc)`","title":"Regex changes to a DDL (Java)","body":"<p>You could key the pattern off of a word immediately preceding one of a set of known data types.  Depending on when you perform that step, you'll need to customize that list to match either the Impala or the SQL Server types.</p>\n<p><code>(\\w+)\\s+(?:BOOLEAN|CHAR|DATE|DECIMAL|DOUBLE|FLOAT|INT|REAL|STRING|TIMESTAMP|VARCHAR|etc)</code></p>\n"},{"tags":[],"owner":{"account_id":2965537,"reputation":685,"user_id":2518751,"accept_rate":67,"display_name":"user2518751"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656528604,"creation_date":1656528604,"answer_id":72806420,"question_id":72802750,"body_markdown":"With regards to columns start with a digit,\r\nthis has worked for me:\r\n\r\n    variable.replaceAll(&quot;(\\\\d{1}[a-z]+[a-z0-9_]*)&quot;, &quot;\\&quot;$0\\&quot;&quot;);\r\n\r\n\r\nIt finds anything with a number in the beginning of the column name and wraps it in quotes.\r\n\r\n\r\nWith regards to reserved words, I&#39;ve had to manually look for words like year, month, day, date, etc. and replace them a quoted name, e.g &quot;year&quot;, &quot;month&quot;, etc.\r\n\r\n    variable.replace(&quot; date &quot;, &quot; \\&quot;date\\&quot; &quot;).replace(&quot; year &quot;, &quot; \\&quot;year\\&quot; &quot;).replace(&quot; month &quot;, &quot; \\&quot;month\\&quot; &quot;).replace(&quot; day &quot;, &quot; \\&quot;day\\&quot; &quot;);\r\n\r\n\r\nI hope someone will find this useful.","title":"Regex changes to a DDL (Java)","body":"<p>With regards to columns start with a digit,\nthis has worked for me:</p>\n<pre><code>variable.replaceAll(&quot;(\\\\d{1}[a-z]+[a-z0-9_]*)&quot;, &quot;\\&quot;$0\\&quot;&quot;);\n</code></pre>\n<p>It finds anything with a number in the beginning of the column name and wraps it in quotes.</p>\n<p>With regards to reserved words, I've had to manually look for words like year, month, day, date, etc. and replace them a quoted name, e.g &quot;year&quot;, &quot;month&quot;, etc.</p>\n<pre><code>variable.replace(&quot; date &quot;, &quot; \\&quot;date\\&quot; &quot;).replace(&quot; year &quot;, &quot; \\&quot;year\\&quot; &quot;).replace(&quot; month &quot;, &quot; \\&quot;month\\&quot; &quot;).replace(&quot; day &quot;, &quot; \\&quot;day\\&quot; &quot;);\n</code></pre>\n<p>I hope someone will find this useful.</p>\n"}],"owner":{"account_id":2965537,"reputation":685,"user_id":2518751,"accept_rate":67,"display_name":"user2518751"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1656528604,"creation_date":1656511425,"question_id":72802750,"body_markdown":"I have a process that gets a DDL from Impala and makes a few changes for it to work on SQL Server.\r\n\r\nI get something like this from Impala\r\n\r\n    CREATE EXTERNAL TABLE xxx.yyy (\r\n    year INT,\r\n    day INT,\r\n    mmm_yyyy DATE,\r\n    2target_revenue_day DECIMAL(38,6),\r\n    2budget_day DECIMAL(38,6),\r\n    last_6_months STRING,\r\n    load_timestamp TIMESTAMP\r\n    )\r\n    STORED AS PARQUET\r\n    LOCATION &#39;s3a://xxx&#39;\r\n    TBLPROPERTIES (&#39;&#39;)\r\n\r\nI managed to remove the &quot;EXTERNAL TABLE&quot; bit as I only need &quot;TABLE&quot;,\r\nchanged &quot;STRING&quot; to &quot;VARCHAR&quot; and  &quot;TIMESTAMP&quot; to &quot;DATETIME2&quot;.\r\nAlso removed the bit at the bottom, i.e STORED AS PARQUET\r\nLOCATION &#39;s3a://xxx&#39;\r\nTBLPROPERTIES (&#39;&#39;)\r\n\r\nMy problem is, some of the column names like year, day and 2target_revenue_day I am going to need to wrap in quotes otherwise script won&#39;t work (reserved words, name starts with a digit).\r\nI need to find a way to either wrap all column names in quotes or just the ones which are reserved words and start with a digit.\r\n\r\nAny idea how to go about it?\r\n\r\nThank you","title":"Regex changes to a DDL (Java)","body":"<p>I have a process that gets a DDL from Impala and makes a few changes for it to work on SQL Server.</p>\n<p>I get something like this from Impala</p>\n<pre><code>CREATE EXTERNAL TABLE xxx.yyy (\nyear INT,\nday INT,\nmmm_yyyy DATE,\n2target_revenue_day DECIMAL(38,6),\n2budget_day DECIMAL(38,6),\nlast_6_months STRING,\nload_timestamp TIMESTAMP\n)\nSTORED AS PARQUET\nLOCATION 's3a://xxx'\nTBLPROPERTIES ('')\n</code></pre>\n<p>I managed to remove the &quot;EXTERNAL TABLE&quot; bit as I only need &quot;TABLE&quot;,\nchanged &quot;STRING&quot; to &quot;VARCHAR&quot; and  &quot;TIMESTAMP&quot; to &quot;DATETIME2&quot;.\nAlso removed the bit at the bottom, i.e STORED AS PARQUET\nLOCATION 's3a://xxx'\nTBLPROPERTIES ('')</p>\n<p>My problem is, some of the column names like year, day and 2target_revenue_day I am going to need to wrap in quotes otherwise script won't work (reserved words, name starts with a digit).\nI need to find a way to either wrap all column names in quotes or just the ones which are reserved words and start with a digit.</p>\n<p>Any idea how to go about it?</p>\n<p>Thank you</p>\n"},{"tags":["java","authentication","keycloak","two-factor-authentication"],"answers":[{"tags":[],"owner":{"account_id":1706859,"reputation":1320,"user_id":1565759,"accept_rate":83,"display_name":"sonOfRa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656528386,"creation_date":1656528386,"answer_id":72806382,"question_id":72716247,"body_markdown":"This is a known issue in Keycloak. As of now, the order of authentications is dependent on the order of the credentials as they are saved in the user, rather than the order of the authentication flow. There&#39;s a [GitHub Issue][1] and a [Pull Request][2] about this. So as of now, there sadly isn&#39;t much to be done about it except waiting until it is merged and part of a new release.\r\n\r\n\r\n  [1]: https://github.com/keycloak/keycloak/issues/12102\r\n  [2]: https://github.com/keycloak/keycloak/pull/12291","title":"Keycloak authentication two-step authentication flow order","body":"<p>This is a known issue in Keycloak. As of now, the order of authentications is dependent on the order of the credentials as they are saved in the user, rather than the order of the authentication flow. There's a <a href=\"https://github.com/keycloak/keycloak/issues/12102\" rel=\"nofollow noreferrer\">GitHub Issue</a> and a <a href=\"https://github.com/keycloak/keycloak/pull/12291\" rel=\"nofollow noreferrer\">Pull Request</a> about this. So as of now, there sadly isn't much to be done about it except waiting until it is merged and part of a new release.</p>\n"}],"owner":{"account_id":19441918,"reputation":63,"user_id":14220158,"display_name":"Ernest Kahnwald"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":828,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72806382,"answer_count":1,"score":1,"last_activity_date":1656528386,"creation_date":1655903817,"question_id":72716247,"body_markdown":"I&#39;m trying to implement Two-Factor authentication (SMS/OTP), where SMS is required to have priority over OTP, so it must be shown first, OTP is just another way to authenticate via &quot;Try Another Way&quot;. I have a flow order with SMS priority but still, OTP shows first.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0U0bc.jpg","title":"Keycloak authentication two-step authentication flow order","body":"<p>I'm trying to implement Two-Factor authentication (SMS/OTP), where SMS is required to have priority over OTP, so it must be shown first, OTP is just another way to authenticate via &quot;Try Another Way&quot;. I have a flow order with SMS priority but still, OTP shows first.</p>\n<p><a href=\"https://i.stack.imgur.com/0U0bc.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0U0bc.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","swing","text","graphics","awt"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":4,"creation_date":1656376909,"post_id":72779585,"comment_id":128551977,"body_markdown":"Use the Graphics.getFontMetrics(...) method. With the FontMetrics object you can calculate the width of each string and do your own alignment.","body":"Use the Graphics.getFontMetrics(...) method. With the FontMetrics object you can calculate the width of each string and do your own alignment."}],"answers":[{"tags":[],"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1656527989,"creation_date":1656378165,"answer_id":72779688,"question_id":72779585,"body_markdown":"HTML can be used in Swing components which support rich text, like `JLabel`. The label can be [painted onto an image](https://stackoverflow.com/a/7775713/418556). \r\n\r\nThis HTML/CSS should do the trick.\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-css --&gt;\r\n\r\n    .num {\r\n    \tcolor: rgb(0,0,255);\r\n    }\r\n    td {\r\n    \ttext-align: center;\r\n    \tpadding: 10px;\r\n    }\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;table border=0 cellspacing=0&gt;\r\n    &lt;tr&gt;\r\n    &lt;td&gt;\r\n    HEADING1&lt;br&gt;\r\n    &lt;span class=&#39;num&#39;&gt;103&lt;/span&gt;\r\n    &lt;/td&gt;\r\n    &lt;td&gt;\r\n    HEADING2&lt;br&gt;\r\n    &lt;span class=&#39;num&#39;&gt;76&lt;/span&gt;\r\n    &lt;/td&gt;\r\n    &lt;td&gt;\r\n    HEADING3&lt;br&gt;\r\n    &lt;span class=&#39;num&#39;&gt;64&lt;/span&gt;\r\n    &lt;/td&gt;\r\n    &lt;/tr&gt;\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n## Edit 1:\r\n\r\n&gt; Can&#39;t use HTML as I have custom fonts and it won&#39;t use the fonts correctly.\r\n\r\nTo use a *custom* font in HTML, it needs to be (imported and) registered with the `GraphicsContext` as shown in [this answer](https://stackoverflow.com/a/32152592/418556). \r\n\r\n&lt;img src=&quot;https://i.stack.imgur.com/vkhI8.png&quot;&gt;\r\n\r\n","title":"How can I align text in a BufferedImage as columns?","body":"<p>HTML can be used in Swing components which support rich text, like <code>JLabel</code>. The label can be <a href=\"https://stackoverflow.com/a/7775713/418556\">painted onto an image</a>.</p>\n<p>This HTML/CSS should do the trick.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.num {\n    color: rgb(0,0,255);\n}\ntd {\n    text-align: center;\n    padding: 10px;\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;table border=0 cellspacing=0&gt;\n&lt;tr&gt;\n&lt;td&gt;\nHEADING1&lt;br&gt;\n&lt;span class='num'&gt;103&lt;/span&gt;\n&lt;/td&gt;\n&lt;td&gt;\nHEADING2&lt;br&gt;\n&lt;span class='num'&gt;76&lt;/span&gt;\n&lt;/td&gt;\n&lt;td&gt;\nHEADING3&lt;br&gt;\n&lt;span class='num'&gt;64&lt;/span&gt;\n&lt;/td&gt;\n&lt;/tr&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<h2>Edit 1:</h2>\n<blockquote>\n<p>Can't use HTML as I have custom fonts and it won't use the fonts correctly.</p>\n</blockquote>\n<p>To use a <em>custom</em> font in HTML, it needs to be (imported and) registered with the <code>GraphicsContext</code> as shown in <a href=\"https://stackoverflow.com/a/32152592/418556\">this answer</a>.</p>\n<img src=\"https://i.stack.imgur.com/vkhI8.png\">\n"}],"owner":{"account_id":1127485,"reputation":4047,"user_id":1114386,"accept_rate":83,"display_name":"avijendr"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":106,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1656400219,"accepted_answer_id":72779688,"answer_count":1,"score":-1,"last_activity_date":1656527989,"creation_date":1656376771,"question_id":72779585,"body_markdown":"I am using `BufferedImage` and `Graphics2D` to generate a GIF image, but I am struggling to have the layout like in the picture below. I am not even sure if it&#39;s possible at all. \r\n\r\nThe GIF will be animated and the values in `Heading3` will change. I&#39;ve created the code to generate the GIF, but I can&#39;t really get this layout. I looked into `TextLayout` and `LineBreakMeasurer`, but am not getting the desired o/p. The text should scale based on the image size (which I&#39;ve got working), but that&#39;s key as well.  \r\n\r\nAny tips?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1HuNz.png","title":"How can I align text in a BufferedImage as columns?","body":"<p>I am using <code>BufferedImage</code> and <code>Graphics2D</code> to generate a GIF image, but I am struggling to have the layout like in the picture below. I am not even sure if it's possible at all.</p>\n<p>The GIF will be animated and the values in <code>Heading3</code> will change. I've created the code to generate the GIF, but I can't really get this layout. I looked into <code>TextLayout</code> and <code>LineBreakMeasurer</code>, but am not getting the desired o/p. The text should scale based on the image size (which I've got working), but that's key as well.</p>\n<p>Any tips?</p>\n<p><a href=\"https://i.stack.imgur.com/1HuNz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1HuNz.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","selenium","selenium-webdriver","config","pageobjects"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1656525882,"post_id":72805906,"comment_id":128597029,"body_markdown":"From your question I assume that you think that the problem is the scope of the variable `ip`? That does not matter here. `prop` loads the values from that file in the constructor. But this *requires* that the constructor is called before that static `initialization` method, which is not what you would expect.","body":"From your question I assume that you think that the problem is the scope of the variable <code>ip</code>? That does not matter here. <code>prop</code> loads the values from that file in the constructor. But this <i>requires</i> that the constructor is called before that static <code>initialization</code> method, which is not what you would expect."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656527534,"creation_date":1656527534,"answer_id":72806256,"question_id":72805906,"body_markdown":"This code can work but it&#39;s really bad and should be fixed. This code requires that you create an instance of `TestBase`, and that act will initialize the _`static`_ variable `prop`. This is valid java but idiotic: That means invoking `initialization()`, a static method, will throw a NullPointerException unless you invoke the constructor once. If you invoke the constructor more than once, it keeps re-loading that properties file for no good reason.\r\n\r\nThe exception handling is also deplorable (the proper &quot;I do not want to deal with it&quot; catch block is `throw new RuntimeException(&quot;uncaught&quot;, e)`, not `e.printStackTrace()`, and the catch of `FileNotFoundException` should be deleted, given that the `IOException` already deals with it; FNFEx is a subtype of IOEx).\r\n\r\nIn general `static` should be avoided, but if somehow its appropriate here (doubtful, but not enough context to be sure), such a setup should look like either:\r\n\r\n```\r\nclass TestBase {\r\n  private static final TestBase INSTANCE = new TestBase();\r\n  private final Properties prop;\r\n\r\n  private TestBase() {\r\n    prop = new Properties();\r\n    try {\r\n      try (var ip = new FileInputStream(&quot;/users/Christain/Documents/workspace/qa/config/config.properties&quot;)) {\r\n        prop.load(ip);\r\n      }\r\n    } catch (IOException e) {\r\n      throw new RuntimeException(&quot;uncaught&quot;, e);\r\n    }\r\n  }\r\n\r\n  public static TestBase get() {\r\n    return INSTANCE;\r\n  }\r\n\r\n  public void init() {\r\n    String browserName = ....;\r\n    .. code as written here ..\r\n  }\r\n}\r\n```\r\n\r\nand where you currently have `TestBase.initialization()`, you should have `TestBase.get().initialization()` instead.\r\n\r\nAlternatively:\r\n\r\n```\r\npublic class TestBase {\r\n  private static Properties properties;\r\n\r\n  private static void ensureProperties() {\r\n    if (properties != null) return;\r\n    Properties p = new Properties();\r\n    try {\r\n      try (var ip = new FileInputStream(&quot;/users/Christain/Documents/workspace/qa/config/config.properties&quot;)) {\r\n        prop.load(ip);\r\n      }\r\n    } catch (IOException e) {\r\n      throw new RuntimeException(&quot;uncaught&quot;, e);\r\n    }\r\n    properties = p;\r\n  }\r\n\r\n  public static void initialization() {\r\n    ensureProperties();\r\n    String browserName = ....;\r\n    ... code as written here ....\r\n  }\r\n}\r\n```","title":"How prop.getProperty(&quot;browser&quot;) present in initialization() will work?","body":"<p>This code can work but it's really bad and should be fixed. This code requires that you create an instance of <code>TestBase</code>, and that act will initialize the <em><code>static</code></em> variable <code>prop</code>. This is valid java but idiotic: That means invoking <code>initialization()</code>, a static method, will throw a NullPointerException unless you invoke the constructor once. If you invoke the constructor more than once, it keeps re-loading that properties file for no good reason.</p>\n<p>The exception handling is also deplorable (the proper &quot;I do not want to deal with it&quot; catch block is <code>throw new RuntimeException(&quot;uncaught&quot;, e)</code>, not <code>e.printStackTrace()</code>, and the catch of <code>FileNotFoundException</code> should be deleted, given that the <code>IOException</code> already deals with it; FNFEx is a subtype of IOEx).</p>\n<p>In general <code>static</code> should be avoided, but if somehow its appropriate here (doubtful, but not enough context to be sure), such a setup should look like either:</p>\n<pre><code>class TestBase {\n  private static final TestBase INSTANCE = new TestBase();\n  private final Properties prop;\n\n  private TestBase() {\n    prop = new Properties();\n    try {\n      try (var ip = new FileInputStream(&quot;/users/Christain/Documents/workspace/qa/config/config.properties&quot;)) {\n        prop.load(ip);\n      }\n    } catch (IOException e) {\n      throw new RuntimeException(&quot;uncaught&quot;, e);\n    }\n  }\n\n  public static TestBase get() {\n    return INSTANCE;\n  }\n\n  public void init() {\n    String browserName = ....;\n    .. code as written here ..\n  }\n}\n</code></pre>\n<p>and where you currently have <code>TestBase.initialization()</code>, you should have <code>TestBase.get().initialization()</code> instead.</p>\n<p>Alternatively:</p>\n<pre><code>public class TestBase {\n  private static Properties properties;\n\n  private static void ensureProperties() {\n    if (properties != null) return;\n    Properties p = new Properties();\n    try {\n      try (var ip = new FileInputStream(&quot;/users/Christain/Documents/workspace/qa/config/config.properties&quot;)) {\n        prop.load(ip);\n      }\n    } catch (IOException e) {\n      throw new RuntimeException(&quot;uncaught&quot;, e);\n    }\n    properties = p;\n  }\n\n  public static void initialization() {\n    ensureProperties();\n    String browserName = ....;\n    ... code as written here ....\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":24682121,"reputation":75,"user_id":18575723,"display_name":"Jackie M"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":386,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72806256,"answer_count":1,"score":0,"last_activity_date":1656527534,"creation_date":1656525418,"question_id":72805906,"body_markdown":"    static WebDriver driver;\r\n    static Properties prop;\r\n    \r\n    public TestBase(){\r\n    try {\r\n    prop=new properties();\r\n    FileInputStream ip = new FileInputStream(&quot;/users/Christain/Documents/workspace&quot;+&quot;/qa/config/config.properties&quot;);\r\n    prop.load(ip);\r\n    } catch (FileNotFoundException e) {\r\n    e.printStackTruce();\r\n    } catch (IOException e) {\r\n    e.printStackTrace();\r\n    }\r\n    }\r\n    \r\n    public static void initialization(){\r\n    String browserName = prop.getProperty(&quot;browser&quot;);\r\n    \r\n    if(browserName.equals(&quot;chrome&quot;)){\r\n    System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;/User/Christain/Downloads/chromedriver&quot;);\r\n    driver=new ChromeDriver();\r\n    }\r\n    else if(browserName.equals(&quot;FF&quot;)){\r\n    System.setProperty(&quot;webdriver.gecko.driver&quot;, &quot;/User/Christain/Dwonloads/geckodriver&quot;);\r\n    driver=new ForefoxDriver();\r\n    }\r\n\r\n\r\nIf `prop.load(ip)` present in `TestBase()`, then how `prop.getProperty(&quot;browser&quot;)` present in `initialization()` will work? \r\n\r\nI mean `prop.load(ip)` know where config file is and it&#39;s **range not outside** `TestBase()`,\r\nthen how `prop.getProperty(&quot;browser&quot;)` present in `initialization()` will work?","title":"How prop.getProperty(&quot;browser&quot;) present in initialization() will work?","body":"<pre><code>static WebDriver driver;\nstatic Properties prop;\n\npublic TestBase(){\ntry {\nprop=new properties();\nFileInputStream ip = new FileInputStream(&quot;/users/Christain/Documents/workspace&quot;+&quot;/qa/config/config.properties&quot;);\nprop.load(ip);\n} catch (FileNotFoundException e) {\ne.printStackTruce();\n} catch (IOException e) {\ne.printStackTrace();\n}\n}\n\npublic static void initialization(){\nString browserName = prop.getProperty(&quot;browser&quot;);\n\nif(browserName.equals(&quot;chrome&quot;)){\nSystem.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;/User/Christain/Downloads/chromedriver&quot;);\ndriver=new ChromeDriver();\n}\nelse if(browserName.equals(&quot;FF&quot;)){\nSystem.setProperty(&quot;webdriver.gecko.driver&quot;, &quot;/User/Christain/Dwonloads/geckodriver&quot;);\ndriver=new ForefoxDriver();\n}\n</code></pre>\n<p>If <code>prop.load(ip)</code> present in <code>TestBase()</code>, then how <code>prop.getProperty(&quot;browser&quot;)</code> present in <code>initialization()</code> will work?</p>\n<p>I mean <code>prop.load(ip)</code> know where config file is and it's <strong>range not outside</strong> <code>TestBase()</code>,\nthen how <code>prop.getProperty(&quot;browser&quot;)</code> present in <code>initialization()</code> will work?</p>\n"},{"tags":["java","audio","media"],"comments":[{"owner":{"account_id":2150507,"reputation":4977,"user_id":1907026,"accept_rate":100,"display_name":"Theolodis"},"score":0,"creation_date":1391603607,"post_id":21577338,"comment_id":32593042,"body_markdown":"have you checked that it is definetly added to the classpath?","body":"have you checked that it is definetly added to the classpath?"},{"owner":{"account_id":2150507,"reputation":4977,"user_id":1907026,"accept_rate":100,"display_name":"Theolodis"},"score":0,"creation_date":1391603663,"post_id":21577338,"comment_id":32593075,"body_markdown":"possible duplicate of [Eclipse missing imports (javax.media.\\* and com.sun.media.\\*)](http://stackoverflow.com/questions/16163524/eclipse-missing-imports-javax-media-and-com-sun-media)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/16163524/eclipse-missing-imports-javax-media-and-com-sun-media\">Eclipse missing imports (javax.media.* and com.sun.media.*)</a>"},{"owner":{"display_name":"user3265784"},"score":0,"creation_date":1391603691,"post_id":21577338,"comment_id":32593094,"body_markdown":"Um truth is no. How can this be done?","body":"Um truth is no. How can this be done?"},{"owner":{"account_id":7281,"reputation":248647,"user_id":12597,"accept_rate":76,"display_name":"Ian Boyd"},"score":0,"creation_date":1656527182,"post_id":21577338,"comment_id":128597434,"body_markdown":"@Theolodis *&quot;Have you checked that `it` is definitely added to the classpath?&quot;*  What is ***it***?","body":"@Theolodis <i>&quot;Have you checked that <code>it</code> is definitely added to the classpath?&quot;</i>  What is <b><i>it</i></b>?"},{"owner":{"account_id":2150507,"reputation":4977,"user_id":1907026,"accept_rate":100,"display_name":"Theolodis"},"score":0,"creation_date":1656595489,"post_id":21577338,"comment_id":128615237,"body_markdown":"@IanBoyd that comment has been made 8 years ago, so I am not 100% sure, but my best guess would be that `it` refers to the Java Media Framework","body":"@IanBoyd that comment has been made 8 years ago, so I am not 100% sure, but my best guess would be that <code>it</code> refers to the Java Media Framework"}],"answers":[{"tags":[],"owner":{"account_id":2150507,"reputation":4977,"user_id":1907026,"accept_rate":100,"display_name":"Theolodis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1391603719,"creation_date":1391603719,"answer_id":21577473,"question_id":21577338,"body_markdown":"[Here][1] They solved that problem by rebuilding the project path in eclipse. You might want to try that.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/16163524/eclipse-missing-imports-javax-media-and-com-sun-media","title":"Why am I getting &quot;the import javax.media cannot be resolved&quot;?","body":"<p><a href=\"https://stackoverflow.com/questions/16163524/eclipse-missing-imports-javax-media-and-com-sun-media\">Here</a> They solved that problem by rebuilding the project path in eclipse. You might want to try that.</p>\n"}],"owner":{"display_name":"user3265784"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8134,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":21577473,"answer_count":1,"score":0,"last_activity_date":1656527336,"creation_date":1391603385,"question_id":21577338,"body_markdown":"I found a [sample code][1] of how to play an mp3 file. I installed the [Java Media Framework][2] as the instructions say, but then I still get this from Eclipse:\r\n\r\n&gt; the import javax.media cannot be resolved\r\n\r\non the first line of \r\n\r\n    import javax.media.*;\r\n\r\nAny ideas?\r\n\r\n\r\n  [1]: http://java-demos.blogspot.gr/2012/11/java-code-to-play-mp3-file.html\r\n  [2]: http://www.oracle.com/technetwork/java/javasebusiness/downloads/java-archive-downloads-java-client-419417.html#7372-jmf-2.1.1e-oth-JPR","title":"Why am I getting &quot;the import javax.media cannot be resolved&quot;?","body":"<p>I found a <a href=\"http://java-demos.blogspot.gr/2012/11/java-code-to-play-mp3-file.html\" rel=\"nofollow noreferrer\">sample code</a> of how to play an mp3 file. I installed the <a href=\"http://www.oracle.com/technetwork/java/javasebusiness/downloads/java-archive-downloads-java-client-419417.html#7372-jmf-2.1.1e-oth-JPR\" rel=\"nofollow noreferrer\">Java Media Framework</a> as the instructions say, but then I still get this from Eclipse:</p>\n<blockquote>\n<p>the import javax.media cannot be resolved</p>\n</blockquote>\n<p>on the first line of</p>\n<pre><code>import javax.media.*;\n</code></pre>\n<p>Any ideas?</p>\n"},{"tags":["java","windows","powershell","environment-variables","java-home"],"comments":[{"owner":{"account_id":433754,"reputation":38773,"user_id":995714,"accept_rate":56,"display_name":"phuclv"},"score":0,"creation_date":1656523088,"post_id":72805238,"comment_id":128596039,"body_markdown":"in powershell variables are accessed with `$` so obviously `%JAVA_HOME%` won&#39;t work. Besides don&#39;t use `setx` to set variables because it&#39;s supposed to run only once to set a permanent environment variable, and when necessary there are always better native powershell cmdlets to do that","body":"in powershell variables are accessed with <code>$</code> so obviously <code>%JAVA_HOME%</code> won&#39;t work. Besides don&#39;t use <code>setx</code> to set variables because it&#39;s supposed to run only once to set a permanent environment variable, and when necessary there are always better native powershell cmdlets to do that"},{"owner":{"account_id":1824630,"reputation":59,"user_id":1657780,"display_name":"Fernando Sanchez"},"score":0,"creation_date":1656523707,"post_id":72805238,"comment_id":128596260,"body_markdown":"I need it to expand at the Environment level not at the PowerShell level. So I have to insert the string %JAVA_HOME% into the PATH. Please read my full explanation, not just the title.","body":"I need it to expand at the Environment level not at the PowerShell level. So I have to insert the string %JAVA_HOME% into the PATH. Please read my full explanation, not just the title."}],"answers":[{"tags":[],"owner":{"account_id":1824630,"reputation":59,"user_id":1657780,"display_name":"Fernando Sanchez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1656527273,"creation_date":1656527273,"answer_id":72806217,"question_id":72805238,"body_markdown":"Nevermind, the code works using Set-ItemProperty. Exiting PowerShell and starting a new PowerShell instance does not cause a reload of the environment as hinted at by @[Eryk Sun][1]&#39;s [comment][2]. It is necessary to either completely sign out the user (forcing a sign in) or reboot the computer in order for %JAVA_HOME% to be expanded.\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/205580/eryk-sun\r\n  [2]: https://stackoverflow.com/a/45203408/","title":"%JAVA_HOME%\\bin not expanding string after PowerShell sets PATH","body":"<p>Nevermind, the code works using Set-ItemProperty. Exiting PowerShell and starting a new PowerShell instance does not cause a reload of the environment as hinted at by @<a href=\"https://stackoverflow.com/users/205580/eryk-sun\">Eryk Sun</a>'s <a href=\"https://stackoverflow.com/a/45203408/\">comment</a>. It is necessary to either completely sign out the user (forcing a sign in) or reboot the computer in order for %JAVA_HOME% to be expanded.</p>\n"}],"owner":{"account_id":1824630,"reputation":59,"user_id":1657780,"display_name":"Fernando Sanchez"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":226,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72806217,"answer_count":1,"score":1,"last_activity_date":1656527273,"creation_date":1656522008,"question_id":72805238,"body_markdown":"I&#39;m creating a [PowerShell script][1] to assist me in setting up the newest version of Java and JavaFX on Windows. Procedure is as follows:\r\n\r\n1. Determine newest version of Java and JavaFX from jkd.java.net and gluonhq.com\r\n2. Download archives from online sources, respectively\r\n3. Extract the archives to specified location on system\r\n4. Delete archives\r\n5. Update User Environment Variables with JAVA_HOME and PATH_TO_FX\r\n6. Append User Environment Variable PATH with %JAVA_HOME%\\bin\r\n\r\nSteps 1-5 all work as expected, step 6 however is causing some headaches. The code for step 6 as seen at the very end of the script is the following:\r\n\r\n    $p = [Environment]::GetEnvironmentVariable(&quot;PATH&quot;, [EnvironmentVariableTarget]::User)\r\n    $p = $p.Split(&quot;;&quot;, [System.StringSplitOptions]::RemoveEmptyEntries)\r\n    $p += &quot;%JAVA_HOME%\\bin&quot;\r\n    $p = ($p -join &quot;;&quot;) + &quot;;&quot;\r\n    &lt;# [Environment]::SetEnvironmentVariable(&quot;PATH&quot;, $p, [EnvironmentVariableTarget]::User) #&gt;\r\n    &lt;# Set-ItemProperty HKCU:\\Environment -Name &quot;PATH&quot; -Value $p -Type ExpandString #&gt;\r\n    setx PATH &quot;$p&quot;\r\n\r\nOriginally I used the first commented code SetEnvironmentVariable. With research I determined that this sets the Registry value to a type of **REG_SZ** (the default). That doesn&#39;t work because it requires a type of **REG_EXPAND_SZ** for anything that uses %% substitutions. The second commented code Set-ItemProperty does provide the appropriate type, but when I did a **(dir env:PATH).Value** (after launching a new PowerShell instance to ensure I had the appropriate environment) the PATH does not show the appended/expanded *%JAVA_HOME%\\bin* at all. However, checking the registry and using the *Control Panel &gt; System Properties* I can see *%JAVA_HOME%\\bin* displayed on both. So what gives?\r\n\r\nThe code only worked when I used the **setx** command. I don&#39;t have a problem with it working this way, but isn&#39;t there a more PowerShell &quot;best practices&quot; way of achieving the same result? I found this [question][2] which seems to have done precisely what I did and it seemingly worked. Is it an order of operations problem (as they use Set-ItemProperty and then SetEnvironmentVariable)?\r\n\r\n\r\n  [1]: https://github.com/grimpirate/openjdk_auto_setup\r\n  [2]: https://stackoverflow.com/questions/67818615/setting-environment-variables-as-dependent-on-other-env-vars-on-windows-via-powe","title":"%JAVA_HOME%\\bin not expanding string after PowerShell sets PATH","body":"<p>I'm creating a <a href=\"https://github.com/grimpirate/openjdk_auto_setup\" rel=\"nofollow noreferrer\">PowerShell script</a> to assist me in setting up the newest version of Java and JavaFX on Windows. Procedure is as follows:</p>\n<ol>\n<li>Determine newest version of Java and JavaFX from jkd.java.net and gluonhq.com</li>\n<li>Download archives from online sources, respectively</li>\n<li>Extract the archives to specified location on system</li>\n<li>Delete archives</li>\n<li>Update User Environment Variables with JAVA_HOME and PATH_TO_FX</li>\n<li>Append User Environment Variable PATH with %JAVA_HOME%\\bin</li>\n</ol>\n<p>Steps 1-5 all work as expected, step 6 however is causing some headaches. The code for step 6 as seen at the very end of the script is the following:</p>\n<pre><code>$p = [Environment]::GetEnvironmentVariable(&quot;PATH&quot;, [EnvironmentVariableTarget]::User)\n$p = $p.Split(&quot;;&quot;, [System.StringSplitOptions]::RemoveEmptyEntries)\n$p += &quot;%JAVA_HOME%\\bin&quot;\n$p = ($p -join &quot;;&quot;) + &quot;;&quot;\n&lt;# [Environment]::SetEnvironmentVariable(&quot;PATH&quot;, $p, [EnvironmentVariableTarget]::User) #&gt;\n&lt;# Set-ItemProperty HKCU:\\Environment -Name &quot;PATH&quot; -Value $p -Type ExpandString #&gt;\nsetx PATH &quot;$p&quot;\n</code></pre>\n<p>Originally I used the first commented code SetEnvironmentVariable. With research I determined that this sets the Registry value to a type of <strong>REG_SZ</strong> (the default). That doesn't work because it requires a type of <strong>REG_EXPAND_SZ</strong> for anything that uses %% substitutions. The second commented code Set-ItemProperty does provide the appropriate type, but when I did a <strong>(dir env:PATH).Value</strong> (after launching a new PowerShell instance to ensure I had the appropriate environment) the PATH does not show the appended/expanded <em>%JAVA_HOME%\\bin</em> at all. However, checking the registry and using the <em>Control Panel &gt; System Properties</em> I can see <em>%JAVA_HOME%\\bin</em> displayed on both. So what gives?</p>\n<p>The code only worked when I used the <strong>setx</strong> command. I don't have a problem with it working this way, but isn't there a more PowerShell &quot;best practices&quot; way of achieving the same result? I found this <a href=\"https://stackoverflow.com/questions/67818615/setting-environment-variables-as-dependent-on-other-env-vars-on-windows-via-powe\">question</a> which seems to have done precisely what I did and it seemingly worked. Is it an order of operations problem (as they use Set-ItemProperty and then SetEnvironmentVariable)?</p>\n"},{"tags":["java","https","java-8","jce","jdk6"],"comments":[{"owner":{"account_id":11561699,"reputation":4182,"user_id":8471208,"display_name":"Kevin Boone"},"score":3,"creation_date":1599231636,"post_id":63743430,"comment_id":112719783,"body_markdown":"Try running the Java application with `-Djavax.net.debug=ssl`. That usually flushes out problems like this. But if the problem is a cipher or algorithm that doesn&#39;t exist in Java 1.6, there might not be a lot you can do about it.","body":"Try running the Java application with <code>-Djavax.net.debug=ssl</code>. That usually flushes out problems like this. But if the problem is a cipher or algorithm that doesn&#39;t exist in Java 1.6, there might not be a lot you can do about it."},{"owner":{"account_id":1250548,"reputation":21,"user_id":1211043,"display_name":"user1211043"},"score":0,"creation_date":1599232952,"post_id":63743430,"comment_id":112720415,"body_markdown":"Hi Kevin, I&#180;ve updated the debug result.","body":"Hi Kevin, I&#180;ve updated the debug result."},{"owner":{"display_name":"user14215102"},"score":1,"creation_date":1599233210,"post_id":63743430,"comment_id":112720549,"body_markdown":"Does this answer your question? [HTTPS communication failed , jdk 1.6 (32 bit client) with jdk 1.8 (64 bit) server : READ: Unknown-3.3 Alert, length = 2](https://stackoverflow.com/questions/41936661/https-communication-failed-jdk-1-6-32-bit-client-with-jdk-1-8-64-bit-serve)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/41936661/https-communication-failed-jdk-1-6-32-bit-client-with-jdk-1-8-64-bit-serve\">HTTPS communication failed , jdk 1.6 (32 bit client) with jdk 1.8 (64 bit) server : READ: Unknown-3.3 Alert, length = 2</a>"}],"answers":[{"tags":[],"owner":{"account_id":7278875,"reputation":2373,"user_id":5549301,"accept_rate":38,"display_name":"Udara Seneviratne"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656527139,"creation_date":1656527139,"answer_id":72806195,"question_id":63743430,"body_markdown":"In JDK 6 and JDK 7, SSL is not enabled by default. It is required to enable the above SSL versions through the tomcat.\r\n\r\nAdd the following parameter into the `[TOMCAT_PATH]/bin/setenv.sh` file.\r\n\r\n&gt; -Dhttps.protocols=TLSv1,TLSv1.1,TLSv1.2\r\n\r\n","title":"Getting javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure","body":"<p>In JDK 6 and JDK 7, SSL is not enabled by default. It is required to enable the above SSL versions through the tomcat.</p>\n<p>Add the following parameter into the <code>[TOMCAT_PATH]/bin/setenv.sh</code> file.</p>\n<blockquote>\n<p>-Dhttps.protocols=TLSv1,TLSv1.1,TLSv1.2</p>\n</blockquote>\n"}],"owner":{"account_id":1250548,"reputation":21,"user_id":1211043,"display_name":"user1211043"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":6919,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656527139,"creation_date":1599230893,"question_id":63743430,"body_markdown":"I&#39;m having thar error when consuming an https webservice. I have that error when running a client in Java 6. I can&#39;t change the version of the Jdk. I tried with jdk8 and it works perfectly.\r\n\r\nWhat could be causing this error?\r\n\r\nI added UnlimitedJCEPolicyJDK6 JAR&#39;s;\r\n\r\nMy client code:\r\n\r\n    \t\t\tSystem.setProperty(&quot;javax.net.ssl.trustStore&quot;, &quot;bci-to-scoring-keystore-client.jks&quot;);\r\n\t\t\tSystem.setProperty(&quot;javax.net.ssl.trustStorePassword&quot;, &quot;changeit&quot;);\r\n\r\n\t\t\t\r\n\t\t\tHttpsURLConnection connection = (HttpsURLConnection) url.openConnection();\r\n\t\t\t//connection.setSSLSocketFactory(ssl.getSocketFactory());\r\n\t\t\tconnection.setRequestMethod(&quot;POST&quot;);\r\n\t\t\tconnection.setDoOutput(true);\r\n\r\n\t\t\tconnection.setRequestProperty(&quot;Content-Type&quot;, &quot;text/xml&quot;);\r\n\t\t\tconnection.setHostnameVerifier(new HostnameVerifier() {\r\n\t\t\t\tpublic boolean verify(String hostname, SSLSession session) {\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tconnection.connect();\r\n\r\n\r\nException:\r\n\r\n    javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure\r\n\tat com.sun.net.ssl.internal.ssl.Alerts.getSSLException(Alerts.java:174)\r\n\tat com.sun.net.ssl.internal.ssl.Alerts.getSSLException(Alerts.java:136)\r\n\tat com.sun.net.ssl.internal.ssl.SSLSocketImpl.recvAlert(SSLSocketImpl.java:1822)\r\n\tat com.sun.net.ssl.internal.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:1004)\r\n\tat com.sun.net.ssl.internal.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1188)\r\n\tat com.sun.net.ssl.internal.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1215)\r\n\tat com.sun.net.ssl.internal.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1199)\r\n\tat sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:434)\r\n\tat sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:166)\r\n\tat sun.net.www.protocol.https.HttpsURLConnectionImpl.connect(HttpsURLConnectionImpl.java:133)\r\n\tat com.bci.test.JavaApplication7.execute(JavaApplication7.java:70)\r\n\tat com.bci.test.JavaApplication7.main(JavaApplication7.java:33)\r\n\r\n\r\nWhen running with `-Djavax.net.debug=ssl` I have this:\r\n\r\n    keyStore is : \r\n    keyStore type is : jks\r\n    keyStore provider is : \r\n    init keystore\r\n    init keymanager of type SunX509\r\n    trustStore is: bci-to-scoring-keystore-client.jks\r\n    trustStore type is : jks\r\n    trustStore provider is : \r\n    init truststore\r\n    adding as trusted cert:\r\n      Subject: CN=*.BCITESTES.LOCAL, OU=DSI - Direccao de Sistemas de Informacao, O=&quot;BCI - Banco Comercial e de Investimentos, SA&quot;, L=Maputo, ST=Maputo, C=MZ\r\n      Issuer:  CN=BCI Enterprise Certificate Authority, DC=BCIFOMENTO, DC=CO, DC=MZ\r\n      Algorithm: RSA; Serial number: 0x43000000b6661aefae5816d09c0002000000b6\r\n      Valid from Wed Jun 03 09:10:22 CAT 2020 until Fri Jun 03 09:10:22 CAT 2022\r\n    \r\n    adding as trusted cert:\r\n      Subject: CN=cliente.bci.scoring.co.mz, OU=DSI - Direccao de Sistemas de Informacao, O=BCI - Banco Comercial e de Investimentos, C=MZ, ST=Maputo, L=Maputo\r\n      Issuer:  CN=cliente.bci.scoring.co.mz, OU=DSI - Direccao de Sistemas de Informacao, O=BCI - Banco Comercial e de Investimentos, C=MZ, ST=Maputo, L=Maputo\r\n      Algorithm: RSA; Serial number: 0x5f50ffd3\r\n      Valid from Thu Sep 03 16:38:11 CAT 2020 until Sat Aug 10 16:38:11 CAT 2120\r\n    \r\n    trigger seeding of SecureRandom\r\n    done seeding SecureRandom\r\n    Allow unsafe renegotiation: false\r\n    Allow legacy hello messages: true\r\n    Is initial handshake: true\r\n    Is secure renegotiation: false\r\n    %% No cached client session\r\n    *** ClientHello, TLSv1\r\n    RandomCookie:  GMT: 1599232592 bytes = { 73, 169, 83, 102, 108, 21, 161, 215, 189, 29, 218, 198, 42, 47, 144, 160, 202, 94, 179, 118, 28, 239, 54, 38, 199, 59, 222, 43 }\r\n    Session ID:  {}\r\n    Cipher Suites: [SSL_RSA_WITH_RC4_128_MD5, SSL_RSA_WITH_RC4_128_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, SSL_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_DSS_WITH_3DES_EDE_CBC_SHA, SSL_RSA_WITH_DES_CBC_SHA, SSL_DHE_RSA_WITH_DES_CBC_SHA, SSL_DHE_DSS_WITH_DES_CBC_SHA, SSL_RSA_EXPORT_WITH_RC4_40_MD5, SSL_RSA_EXPORT_WITH_DES40_CBC_SHA, SSL_DHE_RSA_EXPORT_WITH_DES40_CBC_SHA, SSL_DHE_DSS_EXPORT_WITH_DES40_CBC_SHA, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]\r\n    Compression Methods:  { 0 }\r\n    ***\r\n    main, WRITE: TLSv1 Handshake, length = 81\r\n    main, WRITE: SSLv2 client hello message, length = 110\r\n    main, READ: Unknown-3.3 Alert, length = 2\r\n    main, RECV TLSv1 ALERT:  fatal, handshake_failure\r\n    main, called closeSocket()\r\n    main, handling exception: javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure\r\n\r\n\r\n","title":"Getting javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure","body":"<p>I'm having thar error when consuming an https webservice. I have that error when running a client in Java 6. I can't change the version of the Jdk. I tried with jdk8 and it works perfectly.</p>\n<p>What could be causing this error?</p>\n<p>I added UnlimitedJCEPolicyJDK6 JAR's;</p>\n<p>My client code:</p>\n<pre><code>            System.setProperty(&quot;javax.net.ssl.trustStore&quot;, &quot;bci-to-scoring-keystore-client.jks&quot;);\n        System.setProperty(&quot;javax.net.ssl.trustStorePassword&quot;, &quot;changeit&quot;);\n\n        \n        HttpsURLConnection connection = (HttpsURLConnection) url.openConnection();\n        //connection.setSSLSocketFactory(ssl.getSocketFactory());\n        connection.setRequestMethod(&quot;POST&quot;);\n        connection.setDoOutput(true);\n\n        connection.setRequestProperty(&quot;Content-Type&quot;, &quot;text/xml&quot;);\n        connection.setHostnameVerifier(new HostnameVerifier() {\n            public boolean verify(String hostname, SSLSession session) {\n                return true;\n            }\n        });\n        connection.connect();\n</code></pre>\n<p>Exception:</p>\n<pre><code>javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure\nat com.sun.net.ssl.internal.ssl.Alerts.getSSLException(Alerts.java:174)\nat com.sun.net.ssl.internal.ssl.Alerts.getSSLException(Alerts.java:136)\nat com.sun.net.ssl.internal.ssl.SSLSocketImpl.recvAlert(SSLSocketImpl.java:1822)\nat com.sun.net.ssl.internal.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:1004)\nat com.sun.net.ssl.internal.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1188)\nat com.sun.net.ssl.internal.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1215)\nat com.sun.net.ssl.internal.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1199)\nat sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:434)\nat sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:166)\nat sun.net.www.protocol.https.HttpsURLConnectionImpl.connect(HttpsURLConnectionImpl.java:133)\nat com.bci.test.JavaApplication7.execute(JavaApplication7.java:70)\nat com.bci.test.JavaApplication7.main(JavaApplication7.java:33)\n</code></pre>\n<p>When running with <code>-Djavax.net.debug=ssl</code> I have this:</p>\n<pre><code>keyStore is : \nkeyStore type is : jks\nkeyStore provider is : \ninit keystore\ninit keymanager of type SunX509\ntrustStore is: bci-to-scoring-keystore-client.jks\ntrustStore type is : jks\ntrustStore provider is : \ninit truststore\nadding as trusted cert:\n  Subject: CN=*.BCITESTES.LOCAL, OU=DSI - Direccao de Sistemas de Informacao, O=&quot;BCI - Banco Comercial e de Investimentos, SA&quot;, L=Maputo, ST=Maputo, C=MZ\n  Issuer:  CN=BCI Enterprise Certificate Authority, DC=BCIFOMENTO, DC=CO, DC=MZ\n  Algorithm: RSA; Serial number: 0x43000000b6661aefae5816d09c0002000000b6\n  Valid from Wed Jun 03 09:10:22 CAT 2020 until Fri Jun 03 09:10:22 CAT 2022\n\nadding as trusted cert:\n  Subject: CN=cliente.bci.scoring.co.mz, OU=DSI - Direccao de Sistemas de Informacao, O=BCI - Banco Comercial e de Investimentos, C=MZ, ST=Maputo, L=Maputo\n  Issuer:  CN=cliente.bci.scoring.co.mz, OU=DSI - Direccao de Sistemas de Informacao, O=BCI - Banco Comercial e de Investimentos, C=MZ, ST=Maputo, L=Maputo\n  Algorithm: RSA; Serial number: 0x5f50ffd3\n  Valid from Thu Sep 03 16:38:11 CAT 2020 until Sat Aug 10 16:38:11 CAT 2120\n\ntrigger seeding of SecureRandom\ndone seeding SecureRandom\nAllow unsafe renegotiation: false\nAllow legacy hello messages: true\nIs initial handshake: true\nIs secure renegotiation: false\n%% No cached client session\n*** ClientHello, TLSv1\nRandomCookie:  GMT: 1599232592 bytes = { 73, 169, 83, 102, 108, 21, 161, 215, 189, 29, 218, 198, 42, 47, 144, 160, 202, 94, 179, 118, 28, 239, 54, 38, 199, 59, 222, 43 }\nSession ID:  {}\nCipher Suites: [SSL_RSA_WITH_RC4_128_MD5, SSL_RSA_WITH_RC4_128_SHA, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_RSA_WITH_AES_128_CBC_SHA, TLS_DHE_RSA_WITH_AES_256_CBC_SHA, TLS_DHE_DSS_WITH_AES_128_CBC_SHA, TLS_DHE_DSS_WITH_AES_256_CBC_SHA, SSL_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_RSA_WITH_3DES_EDE_CBC_SHA, SSL_DHE_DSS_WITH_3DES_EDE_CBC_SHA, SSL_RSA_WITH_DES_CBC_SHA, SSL_DHE_RSA_WITH_DES_CBC_SHA, SSL_DHE_DSS_WITH_DES_CBC_SHA, SSL_RSA_EXPORT_WITH_RC4_40_MD5, SSL_RSA_EXPORT_WITH_DES40_CBC_SHA, SSL_DHE_RSA_EXPORT_WITH_DES40_CBC_SHA, SSL_DHE_DSS_EXPORT_WITH_DES40_CBC_SHA, TLS_EMPTY_RENEGOTIATION_INFO_SCSV]\nCompression Methods:  { 0 }\n***\nmain, WRITE: TLSv1 Handshake, length = 81\nmain, WRITE: SSLv2 client hello message, length = 110\nmain, READ: Unknown-3.3 Alert, length = 2\nmain, RECV TLSv1 ALERT:  fatal, handshake_failure\nmain, called closeSocket()\nmain, handling exception: javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure\n</code></pre>\n"},{"tags":["java","spring-boot","gradle"],"comments":[{"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":0,"creation_date":1656522211,"post_id":72805262,"comment_id":128595721,"body_markdown":"Which version of Spring Boot are you using?","body":"Which version of Spring Boot are you using?"},{"owner":{"account_id":3498606,"reputation":5166,"user_id":2925962,"accept_rate":0,"display_name":"akortex"},"score":0,"creation_date":1656523011,"post_id":72805262,"comment_id":128596013,"body_markdown":"Are you running the task through an  IDE like IntelliJ or from the command line?","body":"Are you running the task through an  IDE like IntelliJ or from the command line?"},{"owner":{"account_id":25683258,"reputation":23,"user_id":19445732,"display_name":"Iulii Turkin"},"score":0,"creation_date":1656524239,"post_id":72805262,"comment_id":128596447,"body_markdown":"@AndyWilkinson , 2.3.*","body":"@AndyWilkinson , 2.3.*"},{"owner":{"account_id":25683258,"reputation":23,"user_id":19445732,"display_name":"Iulii Turkin"},"score":0,"creation_date":1656524255,"post_id":72805262,"comment_id":128596456,"body_markdown":"@akortex , from command line","body":"@akortex , from command line"},{"owner":{"account_id":3498606,"reputation":5166,"user_id":2925962,"accept_rate":0,"display_name":"akortex"},"score":0,"creation_date":1656524554,"post_id":72805262,"comment_id":128596563,"body_markdown":"Have you verified that the java version you are running is indeed the correct one? Maybe either you system is not configured correctly or Gradle is picking up some other Java version. What is the output of the `./gradlew --version` command?","body":"Have you verified that the java version you are running is indeed the correct one? Maybe either you system is not configured correctly or Gradle is picking up some other Java version. What is the output of the <code>.&#47;gradlew --version</code> command?"},{"owner":{"account_id":25683258,"reputation":23,"user_id":19445732,"display_name":"Iulii Turkin"},"score":0,"creation_date":1656525607,"post_id":72805262,"comment_id":128596943,"body_markdown":"Kotlin:       1.5.31\nGroovy:       3.0.9\nAnt:          Apache Ant(TM) version 1.10.11 compiled on July 10 2021\nJVM:          17 (Oracle Corporation 17+35-2724)\nOS:           Mac OS X 12.3.1 x86_64","body":"Kotlin:       1.5.31 Groovy:       3.0.9 Ant:          Apache Ant(TM) version 1.10.11 compiled on July 10 2021 JVM:          17 (Oracle Corporation 17+35-2724) OS:           Mac OS X 12.3.1 x86_64"},{"owner":{"account_id":14656252,"reputation":672,"user_id":10869284,"display_name":"sigur"},"score":0,"creation_date":1656600279,"post_id":72805262,"comment_id":128617334,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1656526992,"creation_date":1656526992,"answer_id":72806164,"question_id":72805262,"body_markdown":"Spring Boot 2.3 is not compatible with Java 17. Spring Boot 2.4 was the first version that is Java 17 compatible but it is [no longer supported](https://spring.io/projects/spring-boot#support). At the time of writing, the supported versions of Spring Boot that are compatible with Java 17 are 2.6 and 2.7.","title":"Unsupported class file major version 61 for gradle&#39;s bootJar task","body":"<p>Spring Boot 2.3 is not compatible with Java 17. Spring Boot 2.4 was the first version that is Java 17 compatible but it is <a href=\"https://spring.io/projects/spring-boot#support\" rel=\"noreferrer\">no longer supported</a>. At the time of writing, the supported versions of Spring Boot that are compatible with Java 17 are 2.6 and 2.7.</p>\n"}],"owner":{"account_id":25683258,"reputation":23,"user_id":19445732,"display_name":"Iulii Turkin"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2396,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72806164,"answer_count":1,"score":2,"last_activity_date":1656526992,"creation_date":1656522094,"question_id":72805262,"body_markdown":"i&#39;ve just upgraded java in my project to 17 version. When i&#39;m trying to build it with gradle i&#39;m facing this error \r\n\r\n    Execution failed for task &#39;:project:bootJar&#39;.\r\n    &gt; Error while evaluating property &#39;mainClassName&#39; of task &#39;:project:bootJar&#39;\r\n       &gt; Unsupported class file major version 61\r\n\r\nSo , my main java conventions config has \r\n\r\n    java.sourceCompatibility = JavaVersion.VERSION_17\r\n    java.targetCompatibility = JavaVersion.VERSION_17\r\n\r\nAlso i set proper sdk to gradle config in IDEA, Gradle wrapper upgraded to 7.4 \r\n\r\n\r\n\r\n","title":"Unsupported class file major version 61 for gradle&#39;s bootJar task","body":"<p>i've just upgraded java in my project to 17 version. When i'm trying to build it with gradle i'm facing this error</p>\n<pre><code>Execution failed for task ':project:bootJar'.\n&gt; Error while evaluating property 'mainClassName' of task ':project:bootJar'\n   &gt; Unsupported class file major version 61\n</code></pre>\n<p>So , my main java conventions config has</p>\n<pre><code>java.sourceCompatibility = JavaVersion.VERSION_17\njava.targetCompatibility = JavaVersion.VERSION_17\n</code></pre>\n<p>Also i set proper sdk to gradle config in IDEA, Gradle wrapper upgraded to 7.4</p>\n"},{"tags":["java","graphql","mqtt","quarkus","mutiny"],"comments":[{"owner":{"account_id":2411568,"reputation":15860,"user_id":2106516,"accept_rate":91,"display_name":"tmarwen"},"score":0,"creation_date":1656523564,"post_id":72561040,"comment_id":128596206,"body_markdown":"I guess `client` refers to different types in the GraphQL subscription handler and the the message broadcaster, right? Can you update your post with the reference types?","body":"I guess <code>client</code> refers to different types in the GraphQL subscription handler and the the message broadcaster, right? Can you update your post with the reference types?"}],"answers":[{"tags":[],"owner":{"account_id":2411568,"reputation":15860,"user_id":2106516,"accept_rate":91,"display_name":"tmarwen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656526904,"creation_date":1656526904,"answer_id":72806149,"question_id":72561040,"body_markdown":"First *GraphQL* `Subscription` query is initiated to subscribe to *topic-1*:\r\n\r\n 1. A new `BroadcastProcessor` instance is created to bridge *MQTT* server messages to client\r\n 2. The *MQTT* client (shared instance) `publishHandler` is set with a handler using the previously (new) created `BroadcastProcessor` instance to send out items\r\n 3. The *MQTT* client `subscribe`s to the new topic\r\n 4. The `BroadcastProcessor` instance is returned which will *Quarkus* subscribe to to stream message over to client\r\n\r\nAll is well in a single invocation. The issue will arise on the next *GraphQL* subscription query to subscribe to *topic-2*:\r\n\r\n 1. Another new `BroadcastProcessor` instance is created to bridge *MQTT* server messages to client (which is fine)\r\n 2. The *MQTT* client (shared instance) `publishHandler` is **overridden** with another handler using the previously created `BroadcastProcessor` instance to send out items\r\n 3. The *MQTT* client `subscribe`s to **a new topic** (the second one)\r\n 4. The `BroadcastProcessor` instance is returned which will *Quarkus* subscribe to to stream message over to client\r\n\r\nAt the second invocation (*GraphQL* subscription query) you end up with your MQTT client having a `publishHandler` bridging messages from any *MQTT* topic you have subscribed to (in above scenario both *topic-1* and *topic-2*).\r\n\r\nYou can use a share `BroadcastProcessor` and have outgoing stream messages filtered by subscribed topic:\r\n\r\n    BroadcastProcessor&lt;String&gt; processor = BroadcastProcessor.create();\r\n    Multi&lt;String&gt; stream = processor.toHotStream();\r\n    \r\n    client.publishHandler(s -&gt; {\r\n        processor.onNext(Tuple2.of(s.getTopicName(),  s.payload().toString());\r\n    });\r\n\r\nThen within the *GraphQL* subscription handler:\r\n\r\n    @Subscription\r\n    public Multi&lt;String&gt; messageCreated(String topic) {\r\n        client.subscribe(topic);\r\n        return stream.select()\r\n                .where(tuple -&gt; tuple.getItem1().equals(topic));\r\n    }","title":"Publish to multiple streams from vert.x mqtt client","body":"<p>First <em>GraphQL</em> <code>Subscription</code> query is initiated to subscribe to <em>topic-1</em>:</p>\n<ol>\n<li>A new <code>BroadcastProcessor</code> instance is created to bridge <em>MQTT</em> server messages to client</li>\n<li>The <em>MQTT</em> client (shared instance) <code>publishHandler</code> is set with a handler using the previously (new) created <code>BroadcastProcessor</code> instance to send out items</li>\n<li>The <em>MQTT</em> client <code>subscribe</code>s to the new topic</li>\n<li>The <code>BroadcastProcessor</code> instance is returned which will <em>Quarkus</em> subscribe to to stream message over to client</li>\n</ol>\n<p>All is well in a single invocation. The issue will arise on the next <em>GraphQL</em> subscription query to subscribe to <em>topic-2</em>:</p>\n<ol>\n<li>Another new <code>BroadcastProcessor</code> instance is created to bridge <em>MQTT</em> server messages to client (which is fine)</li>\n<li>The <em>MQTT</em> client (shared instance) <code>publishHandler</code> is <strong>overridden</strong> with another handler using the previously created <code>BroadcastProcessor</code> instance to send out items</li>\n<li>The <em>MQTT</em> client <code>subscribe</code>s to <strong>a new topic</strong> (the second one)</li>\n<li>The <code>BroadcastProcessor</code> instance is returned which will <em>Quarkus</em> subscribe to to stream message over to client</li>\n</ol>\n<p>At the second invocation (<em>GraphQL</em> subscription query) you end up with your MQTT client having a <code>publishHandler</code> bridging messages from any <em>MQTT</em> topic you have subscribed to (in above scenario both <em>topic-1</em> and <em>topic-2</em>).</p>\n<p>You can use a share <code>BroadcastProcessor</code> and have outgoing stream messages filtered by subscribed topic:</p>\n<pre><code>BroadcastProcessor&lt;String&gt; processor = BroadcastProcessor.create();\nMulti&lt;String&gt; stream = processor.toHotStream();\n\nclient.publishHandler(s -&gt; {\n    processor.onNext(Tuple2.of(s.getTopicName(),  s.payload().toString());\n});\n</code></pre>\n<p>Then within the <em>GraphQL</em> subscription handler:</p>\n<pre><code>@Subscription\npublic Multi&lt;String&gt; messageCreated(String topic) {\n    client.subscribe(topic);\n    return stream.select()\n            .where(tuple -&gt; tuple.getItem1().equals(topic));\n}\n</code></pre>\n"}],"owner":{"account_id":14961478,"reputation":2107,"user_id":10801086,"display_name":"dna"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1656526904,"creation_date":1654780835,"question_id":72561040,"body_markdown":"I have a *Quarkus* application that expose a *GraphQL* server.\r\n\r\nThis server expose a subscription that I use to have a realtime communication with the front-end.\r\n\r\nI also have a *Vert.x* *MQTT* client (*MQTT* act as message broker).\r\n\r\nWhen I call a mutation I also publish to an *MQTT* topic.\r\n\r\nThe *GraphQL* subscription should return a stream from the *MQTT* published messages.\r\n\r\nThis is the code for the *MQTT* subscription:\r\n\r\n\r\n    public Multi&lt;String&gt; subscribe(String topic) {\r\n\r\n        BroadcastProcessor&lt;String&gt; processor = BroadcastProcessor.create();\r\n\r\n        client.publishHandler(s -&gt; {\r\n                    System.out.println(s.topicName() + &quot; &quot; + s.payload());\r\n                    processor.onNext(s.payload().toString());\r\n                })\r\n                .subscribe(topic, 2);\r\n\r\n        return processor;\r\n    }\r\n\r\n\r\nAnd here down the code of *GraphQL* subscription:\r\n\r\n\r\n    @Subscription\r\n    public Multi&lt;String&gt; messageCreated(String topic) {\r\n        return client.subscribe(topic).toHotStream();\r\n   }\r\n\r\n\r\nMy problem is that when I publish on different topics the *GraphQL* subscription receives each message I send. (*MQTT* client subscription works correctly).\r\n\r\nI think i&#39;m doing something wrong with `BroadcastProcessor` and `Multi` from Mutiny.","title":"Publish to multiple streams from vert.x mqtt client","body":"<p>I have a <em>Quarkus</em> application that expose a <em>GraphQL</em> server.</p>\n<p>This server expose a subscription that I use to have a realtime communication with the front-end.</p>\n<p>I also have a <em>Vert.x</em> <em>MQTT</em> client (<em>MQTT</em> act as message broker).</p>\n<p>When I call a mutation I also publish to an <em>MQTT</em> topic.</p>\n<p>The <em>GraphQL</em> subscription should return a stream from the <em>MQTT</em> published messages.</p>\n<p>This is the code for the <em>MQTT</em> subscription:</p>\n<pre><code>public Multi&lt;String&gt; subscribe(String topic) {\n\n    BroadcastProcessor&lt;String&gt; processor = BroadcastProcessor.create();\n\n    client.publishHandler(s -&gt; {\n                System.out.println(s.topicName() + &quot; &quot; + s.payload());\n                processor.onNext(s.payload().toString());\n            })\n            .subscribe(topic, 2);\n\n    return processor;\n}\n</code></pre>\n<p>And here down the code of <em>GraphQL</em> subscription:</p>\n<pre><code>@Subscription\npublic Multi&lt;String&gt; messageCreated(String topic) {\n    return client.subscribe(topic).toHotStream();\n</code></pre>\n<p>}</p>\n<p>My problem is that when I publish on different topics the <em>GraphQL</em> subscription receives each message I send. (<em>MQTT</em> client subscription works correctly).</p>\n<p>I think i'm doing something wrong with <code>BroadcastProcessor</code> and <code>Multi</code> from Mutiny.</p>\n"},{"tags":["java","spring-security","keycloak","spring-oauth2"],"answers":[{"tags":[],"owner":{"account_id":1706859,"reputation":1320,"user_id":1565759,"accept_rate":83,"display_name":"sonOfRa"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1656525894,"creation_date":1656525894,"answer_id":72805975,"question_id":72805268,"body_markdown":"You&#39;re saying you set your redirect URIs for the client to `http://localhost:80/*`.\r\n\r\nThen you made this request: `GET http://localhost:8080/realms/webReport/protocol/openid-connect/auth?response_type=code&amp;client_id=my_webreport&amp;state=*** redirect_uri=http://localhost:8084/login/oauth2/code/keycloak`.\r\n\r\n`http://localhost:8084/login/oauth2/code/keycloak` is not matched by `http://localhost:80/*`, the port needs to match the actual port of your request.","title":"Keycloak return Invalid parameter: redirect_uri","body":"<p>You're saying you set your redirect URIs for the client to <code>http://localhost:80/*</code>.</p>\n<p>Then you made this request: <code>GET http://localhost:8080/realms/webReport/protocol/openid-connect/auth?response_type=code&amp;client_id=my_webreport&amp;state=*** redirect_uri=http://localhost:8084/login/oauth2/code/keycloak</code>.</p>\n<p><code>http://localhost:8084/login/oauth2/code/keycloak</code> is not matched by <code>http://localhost:80/*</code>, the port needs to match the actual port of your request.</p>\n"}],"owner":{"account_id":18977021,"reputation":107,"user_id":13849269,"display_name":"Axel HK"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7769,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72805975,"answer_count":1,"score":0,"last_activity_date":1656526592,"creation_date":1656522126,"question_id":72805268,"body_markdown":"I am trying to run some simple app by using spring boot and keycloak. App running on localhost:80. Here is my pom.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.5.0&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;testOfKeyCloack&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;15&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;15&lt;/maven.compiler.target&gt;\r\n        &lt;springboot.plugin.version&gt;2.1.4.RELEASE&lt;/springboot.plugin.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-oauth2-client&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${springboot.plugin.version}&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\nThere is my application.yml, where keycloak listening port 8080 on localhost. \r\nAlso there is realm - WebReport and client testK:\r\n```\r\nserver:\r\n  port: &quot;80&quot;\r\nspring:\r\n  application.name: ${APPLICATION_NAME:spring-security-keycloak-oauth}\r\n  security:\r\n    oauth2:\r\n      client:\r\n        provider:\r\n          keycloak:\r\n            issuer-uri: http://localhost:8080/realms/webReport\r\n        registration:\r\n          keycloak:\r\n            client-id: testK\r\n```\r\nValid redirect URI: http://localhost:80/*\r\n\r\nFor test I use controller:\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/api&quot;)\r\npublic class SampleController {\r\n\r\n    @GetMapping(&quot;/anonymous&quot;)\r\n    public String getAnonymousInfo() {\r\n        return &quot;Anonymous&quot;;\r\n    }\r\n\r\n    @GetMapping(&quot;/user&quot;)\r\n    @PreAuthorize(&quot;hasRole(&#39;USER&#39;)&quot;)\r\n    public String getUserInfo() {\r\n        return &quot;user info&quot;;\r\n    }\r\n\r\n    @GetMapping(&quot;/admin&quot;)\r\n    @PreAuthorize(&quot;hasRole(&#39;ADMIN&#39;)&quot;)\r\n    public String getAdminInfo() {\r\n        return &quot;admin info&quot;;\r\n    }\r\n\r\n    @GetMapping(&quot;/service&quot;)\r\n    @PreAuthorize(&quot;hasRole(&#39;SERVICE&#39;)&quot;)\r\n    public String getServiceInfo() {\r\n        return &quot;service info&quot;;\r\n    }\r\n\r\n    @GetMapping(&quot;/me&quot;)\r\n    public Object getMe() {\r\n        final Authentication authentication = SecurityContextHolder.getContext().getAuthentication();\r\n        return authentication.getName();\r\n    }\r\n}\r\n```\r\nAnd this is my WebSecurityConfiguration\r\n```\r\n@Configuration\r\n@EnableGlobalMethodSecurity(prePostEnabled = true)\r\npublic class WebSecurityConfiguration extends WebSecurityConfigurerAdapter {\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http\r\n                .authorizeRequests(authorizeRequests -&gt; authorizeRequests\r\n                        .antMatchers(&quot;/api/anonymous/**&quot;).permitAll()\r\n                        .anyRequest().authenticated())\r\n                .oauth2Login(oauth2Login -&gt; oauth2Login\r\n                        .userInfoEndpoint(userInfoEndpoint -&gt; userInfoEndpoint\r\n                                .oidcUserService(this.oidcUserService())\r\n                        )\r\n                );\r\n\r\n    }\r\n\r\n    @Bean\r\n    public OAuth2UserService&lt;OidcUserRequest, OidcUser&gt; oidcUserService() {\r\n        final OidcUserService delegate = new OidcUserService();\r\n\r\n        return (userRequest) -&gt; {\r\n            OidcUser oidcUser = delegate.loadUser(userRequest);\r\n\r\n            final Map&lt;String, Object&gt; claims = oidcUser.getClaims();\r\n            final JSONArray groups = (JSONArray) claims.get(&quot;groups&quot;);\r\n\r\n            final Set&lt;GrantedAuthority&gt; mappedAuthorities = groups.stream()\r\n                    .map(role -&gt; new SimpleGrantedAuthority((&quot;ROLE_&quot; + role)))\r\n                    .collect(Collectors.toSet());\r\n\r\n            return new DefaultOidcUser(mappedAuthorities, oidcUser.getIdToken(), oidcUser.getUserInfo());\r\n        };\r\n    }\r\n}\r\n```\r\nBut when I try to go for example to : &quot;http://localhost:80/api/admin&quot;\r\nI am getting an error: &quot;Invalid parameter: redirect_uri&quot;\r\nConsole output: &quot;GET http://localhost:8080/realms/webReport/protocol/openid-connect/auth?response_type=code&amp;client_id=my_webreport&amp;state=*** redirect_uri=http://localhost/login/oauth2/code/keycloak 400 (Bad Request)&quot;\r\n\r\nAdvices from other threads didn&#39;t help, so I just don&#39;t know, what to do.\r\n","title":"Keycloak return Invalid parameter: redirect_uri","body":"<p>I am trying to run some simple app by using spring boot and keycloak. App running on localhost:80. Here is my pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.5.0&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\n    &lt;artifactId&gt;testOfKeyCloack&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;15&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;15&lt;/maven.compiler.target&gt;\n        &lt;springboot.plugin.version&gt;2.1.4.RELEASE&lt;/springboot.plugin.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-oauth2-client&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${springboot.plugin.version}&lt;/version&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>There is my application.yml, where keycloak listening port 8080 on localhost.\nAlso there is realm - WebReport and client testK:</p>\n<pre><code>server:\n  port: &quot;80&quot;\nspring:\n  application.name: ${APPLICATION_NAME:spring-security-keycloak-oauth}\n  security:\n    oauth2:\n      client:\n        provider:\n          keycloak:\n            issuer-uri: http://localhost:8080/realms/webReport\n        registration:\n          keycloak:\n            client-id: testK\n</code></pre>\n<p>Valid redirect URI: http://localhost:80/*</p>\n<p>For test I use controller:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api&quot;)\npublic class SampleController {\n\n    @GetMapping(&quot;/anonymous&quot;)\n    public String getAnonymousInfo() {\n        return &quot;Anonymous&quot;;\n    }\n\n    @GetMapping(&quot;/user&quot;)\n    @PreAuthorize(&quot;hasRole('USER')&quot;)\n    public String getUserInfo() {\n        return &quot;user info&quot;;\n    }\n\n    @GetMapping(&quot;/admin&quot;)\n    @PreAuthorize(&quot;hasRole('ADMIN')&quot;)\n    public String getAdminInfo() {\n        return &quot;admin info&quot;;\n    }\n\n    @GetMapping(&quot;/service&quot;)\n    @PreAuthorize(&quot;hasRole('SERVICE')&quot;)\n    public String getServiceInfo() {\n        return &quot;service info&quot;;\n    }\n\n    @GetMapping(&quot;/me&quot;)\n    public Object getMe() {\n        final Authentication authentication = SecurityContextHolder.getContext().getAuthentication();\n        return authentication.getName();\n    }\n}\n</code></pre>\n<p>And this is my WebSecurityConfiguration</p>\n<pre><code>@Configuration\n@EnableGlobalMethodSecurity(prePostEnabled = true)\npublic class WebSecurityConfiguration extends WebSecurityConfigurerAdapter {\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n                .authorizeRequests(authorizeRequests -&gt; authorizeRequests\n                        .antMatchers(&quot;/api/anonymous/**&quot;).permitAll()\n                        .anyRequest().authenticated())\n                .oauth2Login(oauth2Login -&gt; oauth2Login\n                        .userInfoEndpoint(userInfoEndpoint -&gt; userInfoEndpoint\n                                .oidcUserService(this.oidcUserService())\n                        )\n                );\n\n    }\n\n    @Bean\n    public OAuth2UserService&lt;OidcUserRequest, OidcUser&gt; oidcUserService() {\n        final OidcUserService delegate = new OidcUserService();\n\n        return (userRequest) -&gt; {\n            OidcUser oidcUser = delegate.loadUser(userRequest);\n\n            final Map&lt;String, Object&gt; claims = oidcUser.getClaims();\n            final JSONArray groups = (JSONArray) claims.get(&quot;groups&quot;);\n\n            final Set&lt;GrantedAuthority&gt; mappedAuthorities = groups.stream()\n                    .map(role -&gt; new SimpleGrantedAuthority((&quot;ROLE_&quot; + role)))\n                    .collect(Collectors.toSet());\n\n            return new DefaultOidcUser(mappedAuthorities, oidcUser.getIdToken(), oidcUser.getUserInfo());\n        };\n    }\n}\n</code></pre>\n<p>But when I try to go for example to : &quot;http://localhost:80/api/admin&quot;\nI am getting an error: &quot;Invalid parameter: redirect_uri&quot;\nConsole output: &quot;GET http://localhost:8080/realms/webReport/protocol/openid-connect/auth?response_type=code&amp;client_id=my_webreport&amp;state=*** redirect_uri=http://localhost/login/oauth2/code/keycloak 400 (Bad Request)&quot;</p>\n<p>Advices from other threads didn't help, so I just don't know, what to do.</p>\n"},{"tags":["java","json","spring","spring-boot","snowflake-cloud-data-platform"],"comments":[{"owner":{"account_id":19058763,"reputation":2710,"user_id":13915313,"display_name":"Pankaj"},"score":2,"creation_date":1656524427,"post_id":72805442,"comment_id":128596515,"body_markdown":"You can aggregate into an array, using ```array_agg```, this should return a single value as an array with all lists inside array clubbed together. ```TO_JSON``` and ```PARSE_JSON``` can be used to get desired conversion. Do keep in mind the size limitations of 16MB for string and 8MB compressed for JSON.","body":"You can aggregate into an array, using <code>array_agg</code>, this should return a single value as an array with all lists inside array clubbed together. <code>TO_JSON</code> and <code>PARSE_JSON</code> can be used to get desired conversion. Do keep in mind the size limitations of 16MB for string and 8MB compressed for JSON."},{"owner":{"account_id":19058763,"reputation":2710,"user_id":13915313,"display_name":"Pankaj"},"score":0,"creation_date":1656526150,"post_id":72805442,"comment_id":128597117,"body_markdown":"Sure, will add it shortly","body":"Sure, will add it shortly"}],"answers":[{"tags":[],"owner":{"account_id":19058763,"reputation":2710,"user_id":13915313,"display_name":"Pankaj"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1656526498,"creation_date":1656526498,"answer_id":72806077,"question_id":72805442,"body_markdown":"Original statement, producing individual rows -\r\n\r\n```\r\nselect distinct object_construct(&#39;response&#39;,OBJECT_CONSTRUCT(\r\n&#39;id&#39;, id,\r\n&#39;name&#39;, name,\r\n&#39;etc&#39;, etc\r\n)) as RESPONSE from\r\n(select 1 as id, &#39;name&#39; as name, &#39;etc&#39; as etc union all\r\nselect 2, &#39;name&#39;,&#39;etc&#39; union all\r\nselect 3, &#39;name&#39;,&#39;etc&#39;);\r\n+--------------------+\r\n| RESPONSE           |\r\n|--------------------|\r\n| {                  |\r\n|   &quot;response&quot;: {    |\r\n|     &quot;etc&quot;: &quot;etc&quot;,  |\r\n|     &quot;id&quot;: 1,       |\r\n|     &quot;name&quot;: &quot;name&quot; |\r\n|   }                |\r\n| }                  |\r\n| {                  |\r\n|   &quot;response&quot;: {    |\r\n|     &quot;etc&quot;: &quot;etc&quot;,  |\r\n|     &quot;id&quot;: 2,       |\r\n|     &quot;name&quot;: &quot;name&quot; |\r\n|   }                |\r\n| }                  |\r\n| {                  |\r\n|   &quot;response&quot;: {    |\r\n|     &quot;etc&quot;: &quot;etc&quot;,  |\r\n|     &quot;id&quot;: 3,       |\r\n|     &quot;name&quot;: &quot;name&quot; |\r\n|   }                |\r\n| }                  |\r\n+--------------------+\r\n3 Row(s) produced. \r\n```\r\n\r\n\r\nNext we will use ```ARRAY_AGG```, to get result clubbed into single entity.\r\n\r\n```\r\nselect distinct array_agg(OBJECT_construct(\r\n&#39;id&#39;, id,\r\n&#39;name&#39;, name,\r\n&#39;etc&#39;, etc\r\n)) as RESPONSE from\r\n(select 1 as id, &#39;name&#39; as name, &#39;etc&#39; as etc union all\r\nselect 2, &#39;name&#39;,&#39;etc&#39; union all\r\nselect 3, &#39;name&#39;,&#39;etc&#39;);\r\n+--------------------+\r\n| RESPONSE           |\r\n|--------------------|\r\n| [                  |\r\n|   {                |\r\n|     &quot;etc&quot;: &quot;etc&quot;,  |\r\n|     &quot;id&quot;: 1,       |\r\n|     &quot;name&quot;: &quot;name&quot; |\r\n|   },               |\r\n|   {                |\r\n|     &quot;etc&quot;: &quot;etc&quot;,  |\r\n|     &quot;id&quot;: 2,       |\r\n|     &quot;name&quot;: &quot;name&quot; |\r\n|   },               |\r\n|   {                |\r\n|     &quot;etc&quot;: &quot;etc&quot;,  |\r\n|     &quot;id&quot;: 3,       |\r\n|     &quot;name&quot;: &quot;name&quot; |\r\n|   }                |\r\n| ]                  |\r\n+--------------------+\r\n1 Row(s) produced. \r\n```\r\n\r\nIf required, the result can be further converted as needed via ```TO_JSON``` or ```PARSE_JSON```.\r\n\r\nBelow will give string output -\r\n\r\n```\r\nselect distinct to_json(array_agg(OBJECT_construct(\r\n&#39;id&#39;, id,\r\n&#39;name&#39;, name,\r\n&#39;etc&#39;, etc\r\n))) as RESPONSE from\r\n(select 1 as id, &#39;name&#39; as name, &#39;etc&#39; as etc union all\r\nselect 2, &#39;name&#39;,&#39;etc&#39; union all\r\nselect 3, &#39;name&#39;,&#39;etc&#39;);\r\n+------------------------------------------------------------------------------------------------------------+\r\n| RESPONSE                                                                                                   |\r\n|------------------------------------------------------------------------------------------------------------|\r\n| [{&quot;etc&quot;:&quot;etc&quot;,&quot;id&quot;:1,&quot;name&quot;:&quot;name&quot;},{&quot;etc&quot;:&quot;etc&quot;,&quot;id&quot;:2,&quot;name&quot;:&quot;name&quot;},{&quot;etc&quot;:&quot;etc&quot;,&quot;id&quot;:3,&quot;name&quot;:&quot;name&quot;}] |\r\n+------------------------------------------------------------------------------------------------------------+\r\n1 Row(s) produced.\r\n```\r\n\r\nFollowing will give JSON output - \r\n\r\n```\r\nselect distinct parse_json(to_json(array_agg(OBJECT_construct(\r\n&#39;id&#39;, id,\r\n&#39;name&#39;, name,\r\n&#39;etc&#39;, etc\r\n)))) as RESPONSE from\r\n(select 1 as id, &#39;name&#39; as name, &#39;etc&#39; as etc union all\r\nselect 2, &#39;name&#39;,&#39;etc&#39; union all\r\nselect 3, &#39;name&#39;,&#39;etc&#39;);\r\n\r\n+--------------------+\r\n| RESPONSE           |\r\n|--------------------|\r\n| [                  |\r\n|   {                |\r\n|     &quot;etc&quot;: &quot;etc&quot;,  |\r\n|     &quot;id&quot;: 1,       |\r\n|     &quot;name&quot;: &quot;name&quot; |\r\n|   },               |\r\n|   {                |\r\n|     &quot;etc&quot;: &quot;etc&quot;,  |\r\n|     &quot;id&quot;: 2,       |\r\n|     &quot;name&quot;: &quot;name&quot; |\r\n|   },               |\r\n|   {                |\r\n|     &quot;etc&quot;: &quot;etc&quot;,  |\r\n|     &quot;id&quot;: 3,       |\r\n|     &quot;name&quot;: &quot;name&quot; |\r\n|   }                |\r\n| ]                  |\r\n+--------------------+\r\n1 Row(s) produced.\r\n```","title":"How to get snowflake response into json format?","body":"<p>Original statement, producing individual rows -</p>\n<pre><code>select distinct object_construct('response',OBJECT_CONSTRUCT(\n'id', id,\n'name', name,\n'etc', etc\n)) as RESPONSE from\n(select 1 as id, 'name' as name, 'etc' as etc union all\nselect 2, 'name','etc' union all\nselect 3, 'name','etc');\n+--------------------+\n| RESPONSE           |\n|--------------------|\n| {                  |\n|   &quot;response&quot;: {    |\n|     &quot;etc&quot;: &quot;etc&quot;,  |\n|     &quot;id&quot;: 1,       |\n|     &quot;name&quot;: &quot;name&quot; |\n|   }                |\n| }                  |\n| {                  |\n|   &quot;response&quot;: {    |\n|     &quot;etc&quot;: &quot;etc&quot;,  |\n|     &quot;id&quot;: 2,       |\n|     &quot;name&quot;: &quot;name&quot; |\n|   }                |\n| }                  |\n| {                  |\n|   &quot;response&quot;: {    |\n|     &quot;etc&quot;: &quot;etc&quot;,  |\n|     &quot;id&quot;: 3,       |\n|     &quot;name&quot;: &quot;name&quot; |\n|   }                |\n| }                  |\n+--------------------+\n3 Row(s) produced. \n</code></pre>\n<p>Next we will use <code>ARRAY_AGG</code>, to get result clubbed into single entity.</p>\n<pre><code>select distinct array_agg(OBJECT_construct(\n'id', id,\n'name', name,\n'etc', etc\n)) as RESPONSE from\n(select 1 as id, 'name' as name, 'etc' as etc union all\nselect 2, 'name','etc' union all\nselect 3, 'name','etc');\n+--------------------+\n| RESPONSE           |\n|--------------------|\n| [                  |\n|   {                |\n|     &quot;etc&quot;: &quot;etc&quot;,  |\n|     &quot;id&quot;: 1,       |\n|     &quot;name&quot;: &quot;name&quot; |\n|   },               |\n|   {                |\n|     &quot;etc&quot;: &quot;etc&quot;,  |\n|     &quot;id&quot;: 2,       |\n|     &quot;name&quot;: &quot;name&quot; |\n|   },               |\n|   {                |\n|     &quot;etc&quot;: &quot;etc&quot;,  |\n|     &quot;id&quot;: 3,       |\n|     &quot;name&quot;: &quot;name&quot; |\n|   }                |\n| ]                  |\n+--------------------+\n1 Row(s) produced. \n</code></pre>\n<p>If required, the result can be further converted as needed via <code>TO_JSON</code> or <code>PARSE_JSON</code>.</p>\n<p>Below will give string output -</p>\n<pre><code>select distinct to_json(array_agg(OBJECT_construct(\n'id', id,\n'name', name,\n'etc', etc\n))) as RESPONSE from\n(select 1 as id, 'name' as name, 'etc' as etc union all\nselect 2, 'name','etc' union all\nselect 3, 'name','etc');\n+------------------------------------------------------------------------------------------------------------+\n| RESPONSE                                                                                                   |\n|------------------------------------------------------------------------------------------------------------|\n| [{&quot;etc&quot;:&quot;etc&quot;,&quot;id&quot;:1,&quot;name&quot;:&quot;name&quot;},{&quot;etc&quot;:&quot;etc&quot;,&quot;id&quot;:2,&quot;name&quot;:&quot;name&quot;},{&quot;etc&quot;:&quot;etc&quot;,&quot;id&quot;:3,&quot;name&quot;:&quot;name&quot;}] |\n+------------------------------------------------------------------------------------------------------------+\n1 Row(s) produced.\n</code></pre>\n<p>Following will give JSON output -</p>\n<pre><code>select distinct parse_json(to_json(array_agg(OBJECT_construct(\n'id', id,\n'name', name,\n'etc', etc\n)))) as RESPONSE from\n(select 1 as id, 'name' as name, 'etc' as etc union all\nselect 2, 'name','etc' union all\nselect 3, 'name','etc');\n\n+--------------------+\n| RESPONSE           |\n|--------------------|\n| [                  |\n|   {                |\n|     &quot;etc&quot;: &quot;etc&quot;,  |\n|     &quot;id&quot;: 1,       |\n|     &quot;name&quot;: &quot;name&quot; |\n|   },               |\n|   {                |\n|     &quot;etc&quot;: &quot;etc&quot;,  |\n|     &quot;id&quot;: 2,       |\n|     &quot;name&quot;: &quot;name&quot; |\n|   },               |\n|   {                |\n|     &quot;etc&quot;: &quot;etc&quot;,  |\n|     &quot;id&quot;: 3,       |\n|     &quot;name&quot;: &quot;name&quot; |\n|   }                |\n| ]                  |\n+--------------------+\n1 Row(s) produced.\n</code></pre>\n"}],"owner":{"account_id":25266045,"reputation":141,"user_id":19096205,"display_name":"Gojo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":399,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72806077,"answer_count":1,"score":1,"last_activity_date":1656526498,"creation_date":1656522987,"question_id":72805442,"body_markdown":"This is part of a spring boot API I am developing. I am querying snowflake to get some data using a query like this:\r\n```\r\nselect distinct OBJECT_CONSTRUCT(\r\n&#39;id&#39;, id,\r\n&#39;name&#39;, name,\r\n&#39;etc&#39;, etc\r\n) as RESPONSE from ...\r\n```\r\n\r\nI am getting a a List of String which is formatted like this:\r\n\r\n```\r\nlist:\r\n0-&gt; {&#39;id&#39;:1, &#39;name&#39;:name, &#39;etc&#39;:etc}\r\n1-&gt; {&#39;id&#39;:2, &#39;name&#39;:name, &#39;etc&#39;:etc}\r\n2-&gt; {&#39;id&#39;:3, &#39;name&#39;:name, &#39;etc&#39;:etc}\r\n...\r\n```\r\n\r\nWhat is the cleanest way that I can get this response to a single JsonNode response that the api can return? \r\n","title":"How to get snowflake response into json format?","body":"<p>This is part of a spring boot API I am developing. I am querying snowflake to get some data using a query like this:</p>\n<pre><code>select distinct OBJECT_CONSTRUCT(\n'id', id,\n'name', name,\n'etc', etc\n) as RESPONSE from ...\n</code></pre>\n<p>I am getting a a List of String which is formatted like this:</p>\n<pre><code>list:\n0-&gt; {'id':1, 'name':name, 'etc':etc}\n1-&gt; {'id':2, 'name':name, 'etc':etc}\n2-&gt; {'id':3, 'name':name, 'etc':etc}\n...\n</code></pre>\n<p>What is the cleanest way that I can get this response to a single JsonNode response that the api can return?</p>\n"},{"tags":["java","json","spring"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1656526882,"post_id":72805976,"comment_id":128597341,"body_markdown":"https://stackoverflow.com/questions/51522853/gson-convert-keys-to-lowercase","body":"<a href=\"https://stackoverflow.com/questions/51522853/gson-convert-keys-to-lowercase\" title=\"gson convert keys to lowercase\">stackoverflow.com/questions/51522853/&hellip;</a>"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1656531724,"post_id":72805976,"comment_id":128598816,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":5378044,"reputation":1,"user_id":4284242,"display_name":"Thang Bui"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1656526291,"creation_date":1656526291,"answer_id":72806042,"question_id":72805976,"body_markdown":"Which package is your `JSONObject` from? If it is from `javax.json` then it is immutable, hence you need to instantiate a new `JSONObject` instance and import modified key value pairs into the new instance (from [JSONObject Java doc][1]).\r\n\r\n\r\n  [1]: https://docs.oracle.com/javaee/7/api/javax/json/JsonObject.html","title":"JAVA - Convert keys JSONObject to lower case","body":"<p>Which package is your <code>JSONObject</code> from? If it is from <code>javax.json</code> then it is immutable, hence you need to instantiate a new <code>JSONObject</code> instance and import modified key value pairs into the new instance (from <a href=\"https://docs.oracle.com/javaee/7/api/javax/json/JsonObject.html\" rel=\"nofollow noreferrer\">JSONObject Java doc</a>).</p>\n"}],"owner":{"account_id":25683758,"reputation":1,"user_id":19446154,"display_name":"Matheus Victor Ara&#250;jo Ferreira"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":155,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1656526291,"creation_date":1656525895,"question_id":72805976,"body_markdown":"I have a problem related to the keys of a JSONObject. I need to change the keys to lowercase, but I&#39;m not getting it, what&#39;s the best way to do this?","title":"JAVA - Convert keys JSONObject to lower case","body":"<p>I have a problem related to the keys of a JSONObject. I need to change the keys to lowercase, but I'm not getting it, what's the best way to do this?</p>\n"},{"tags":["java","ftp"],"comments":[{"owner":{"account_id":22249835,"reputation":1973,"user_id":16482938,"display_name":"j_b"},"score":0,"creation_date":1654043813,"post_id":72452185,"comment_id":127996788,"body_markdown":"Have you checked that the data port being used for FTP is open (I think default is port  21, but could differ depending on your configuration)?","body":"Have you checked that the data port being used for FTP is open (I think default is port  21, but could differ depending on your configuration)?"},{"owner":{"account_id":18994654,"reputation":25,"user_id":13863080,"display_name":"Baixa"},"score":0,"creation_date":1654057548,"post_id":72452185,"comment_id":127998611,"body_markdown":"Yes, I checked the performance through the FileZilla program. 21 port is opened","body":"Yes, I checked the performance through the FileZilla program. 21 port is opened"}],"answers":[{"tags":[],"owner":{"account_id":25296580,"reputation":2100,"user_id":19121623,"display_name":"Eskandar Abedini"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1654188554,"creation_date":1654021446,"answer_id":72452519,"question_id":72452185,"body_markdown":"Please check [Android FTP error - 425 Can&#39;t open data connection][1] and [Error: 425 Can&#39;t open data connection][2] and edit your configurations based on these guides.\r\n\r\nI&#39;m using this class for ftp handling, you can implement your own exception handling and configuration management.\r\n\r\n    import lombok.extern.slf4j.Slf4j;\r\n    import org.apache.commons.net.ftp.FTP;\r\n    import org.apache.commons.net.ftp.FTPClient;\r\n    import org.apache.commons.net.ftp.FTPSClient;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.core.io.ClassPathResource;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    \r\n    @Component\r\n    @Slf4j\r\n    public class FTPFileWriterImpl implements FTPFileWriter {\r\n        private final FTPProperties ftpProperties;\r\n        protected FTPClient ftpClient;\r\n    \r\n        @Autowired\r\n        public FTPFileWriterImpl(@Autowired FTPProperties ftpProperties) {\r\n            this.ftpProperties = ftpProperties;\r\n        }\r\n    \r\n        //@PostConstruct\r\n        public void init() {\r\n            if (this.ftpProperties.isAutoStart()) {\r\n                log.debug(&quot;Autostarting connection to FTP server.&quot;);\r\n                this.open();\r\n            }\r\n        }\r\n    \r\n        public boolean open() {\r\n            close();\r\n            log.debug(&quot;Connecting and logging in to FTP server.&quot;);\r\n            if (ftpProperties.getProtocolType().equals(&quot;SSL&quot;))\r\n                ftpClient = new FTPSClient();\r\n            else\r\n                ftpClient = new FTPClient();\r\n            ftpClient.enterLocalPassiveMode();\r\n            boolean loggedIn = false;\r\n            try {\r\n                ftpClient.connect(ftpProperties.getServer(), ftpProperties.getPort());\r\n                loggedIn = ftpClient.login(ftpProperties.getUsername(), ftpProperties.getPassword());\r\n                if (loggedIn) {\r\n                    ftpClient.setFileType(FTP.BINARY_FILE_TYPE);\r\n                    if (ftpProperties.getKeepAliveTimout() &gt; 0)\r\n                        ftpClient.setControlKeepAliveTimeout(ftpProperties.getKeepAliveTimout());\r\n                } else {\r\n                    log.error(&quot;Failed login to FTP server&quot;);\r\n                    ftpClient.logout();\r\n                    ftpClient.disconnect();\r\n                }\r\n            } catch (Exception e) {\r\n                log.error(e.getMessage());\r\n            }\r\n            return loggedIn;\r\n        }\r\n    \r\n        public void close() {\r\n            if (ftpClient != null) {\r\n                try {\r\n                    if (ftpClient.isConnected()) {\r\n                        ftpClient.logout();\r\n                        ftpClient.disconnect();\r\n                    }\r\n                } catch (Exception e) {\r\n                    log.error(e.getMessage(), e);\r\n                }\r\n            }\r\n        }\r\n    \r\n        public InputStream loadFile(String fileName) {\r\n            try {\r\n                log.debug(&quot;Trying to retrieve a file from remote path &quot; + fileName);\r\n                this.open();\r\n                return ftpClient.retrieveFileStream(fileName);\r\n            } catch (IOException e) {\r\n                log.error(e.getMessage(), e);\r\n                throw new StorageFileNotFoundException(&quot;File not found!&quot;);\r\n            } finally {\r\n                this.close();\r\n            }\r\n        }\r\n    \r\n        public boolean delete(String fileName) throws IOException {\r\n            this.open();\r\n            boolean result = ftpClient.deleteFile(fileName);\r\n            this.close();\r\n            return result;\r\n        }\r\n    \r\n    \r\n        public String saveFile(InputStream inputStream, String dir, String fileName, boolean append) throws Exception {\r\n            log.debug(&quot;Trying to store a file to destination path &quot; + fileName);\r\n            boolean result;\r\n            this.open();\r\n            try {\r\n                String saveDir = this.ftpProperties.getRemoteDir() + &quot;/&quot; + dir;\r\n                if (!directoryExists(saveDir)) {\r\n                    boolean makeDirResult = this.ftpClient.makeDirectory(saveDir);\r\n                    if(!makeDirResult) {\r\n                        log.error(&quot;Storage directory {} does not exist on ftp server, failed to create it!&quot;, saveDir);\r\n                        throw new StorageException(&quot;Storage directory {} does not exist on ftp server, failed to create it!&quot;);\r\n                    }\r\n                }\r\n                String remote = saveDir + &quot;/&quot; + fileName;\r\n    \r\n                if (append)\r\n                    result = ftpClient.appendFile(remote, inputStream);\r\n                else\r\n                    result = ftpClient.storeFile(remote, inputStream);\r\n                if (!result) {\r\n                    log.error(&quot;Cannot save file on server, Server response is: {}&quot;, ftpClient.getReplyCode());\r\n                    throw new StorageException(String.format(&quot;Cannot save file on server: %s&quot;, ftpClient.getReplyCode()));\r\n                }\r\n                return remote;\r\n            }\r\n            finally {\r\n                this.close();\r\n            }\r\n        }\r\n    \r\n        public String saveFile(String sourcePath, String fileName, boolean append) throws Exception {\r\n            InputStream inputStream;\r\n            inputStream = new ClassPathResource(sourcePath).getInputStream();\r\n            return this.saveFile(inputStream, &quot;&quot;, fileName, append);\r\n        }\r\n        private boolean directoryExists(String dirPath) throws IOException {\r\n            ftpClient.changeWorkingDirectory(dirPath);\r\n            int returnCode = ftpClient.getReplyCode();\r\n            return returnCode != 550;\r\n        }\r\n        public boolean isConnected() {\r\n            boolean connected = false;\r\n            if (ftpClient != null) {\r\n                try {\r\n                    connected = ftpClient.sendNoOp();\r\n                } catch (Exception e) {\r\n                    log.error(e.getMessage(), e);\r\n                }\r\n            }\r\n            log.debug(&quot;Checking for connection to FTP server. Is connected: &quot; + connected);\r\n            return connected;\r\n        }\r\n    }\r\n\r\n`FTPFileWriter` interface:\r\n\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    \r\n    public interface FTPFileWriter {\r\n    \r\n        /**\r\n         * Connects to a server and tries to log in the user.\r\n         *\r\n         * @return boolean True if successful, False otherwise.\r\n         */\r\n        boolean open();\r\n    \r\n        /**\r\n         * Logouts the current user and disconnects from the server.\r\n         */\r\n        void close();\r\n    \r\n        /**\r\n         * Retrieve a file from the ftp server.\r\n         *\r\n         * @param remotePath   Remote path for the file to retrieve.\r\n         * @return boolean True if successful, False otherwise.\r\n         */\r\n    \r\n        InputStream loadFile(String remotePath);\r\n    \r\n        boolean delete(String remotePath) throws IOException;\r\n    \r\n        /**\r\n         * Store a file on the ftp server.\r\n         *\r\n         * @param inputStream Stream the new file is read from.\r\n         * @param dir\r\n         * @param destPath    Remote path the file should be placed at.\r\n         * @param append      Append to an existing file or write as a new file.\r\n         * @return boolean True if successful, False otherwise.\r\n         */\r\n    \r\n        String saveFile(InputStream inputStream, String dir, String destPath, boolean append) throws Exception;\r\n    \r\n        /**\r\n         * Store a file on the ftp server.\r\n         *\r\n         * @param sourcePath Local path the file is read from.\r\n         * @param destPath   Remote path the file should be placed at.\r\n         * @param append      Append to an existing file or write as a new file.\r\n         * @return boolean True if successful, False otherwise.\r\n         */\r\n    \r\n        String saveFile(String sourcePath, String destPath, boolean append) throws Exception;\r\n    \r\n        /**\r\n         * Does a NOOP to see if the connection is valid.\r\n         *\r\n         * @return boolean True if connected, False otherwise.\r\n         */\r\n    \r\n        boolean isConnected();\r\n    }\r\n\r\n`FTPProperties` is a class that provides your ftp settings:\r\n\r\n    public class FTPProperties {\r\n        private String server;\r\n        private String username;\r\n        private String password;\r\n        @Min(0)\r\n        @Max(65535)\r\n        private int port;\r\n        private int keepAliveTimout;\r\n        private boolean autoStart;\r\n        private String protocolType;\r\n        private String remoteDir;\r\n    \r\n        @PostConstruct\r\n        public void init() {\r\n            if (port == 0) {\r\n                port = 21;\r\n            }\r\n        }\r\n    }\r\n\r\nYou can implement your own exception classes instead of `StorageException` and `StorageFileNotFoundException` or throw traditional exceptions\r\n\r\nIn case you got `553 Could not create file` error, it relates to lack of privilege for writing to disk for ftp user and you can resolve it by running following command on Linux-based ftp host:\r\n\r\n    chown -R ftpusername /var/ftpfiles\r\n\r\nReplace /var/ftpfiles with path to ftp storage folder.\r\n\r\n  [1]: https://stackoverflow.com/questions/17351695/android-ftp-error-425-cant-open-data-connection\r\n  [2]: https://community.progress.com/s/article/Error-425-Can-t-open-data-connection-1307565974920\r\n","title":"Java FTP client failing with &quot;425 Failed to establish connection&quot;","body":"<p>Please check <a href=\"https://stackoverflow.com/questions/17351695/android-ftp-error-425-cant-open-data-connection\">Android FTP error - 425 Can't open data connection</a> and <a href=\"https://community.progress.com/s/article/Error-425-Can-t-open-data-connection-1307565974920\" rel=\"nofollow noreferrer\">Error: 425 Can't open data connection</a> and edit your configurations based on these guides.</p>\n<p>I'm using this class for ftp handling, you can implement your own exception handling and configuration management.</p>\n<pre><code>import lombok.extern.slf4j.Slf4j;\nimport org.apache.commons.net.ftp.FTP;\nimport org.apache.commons.net.ftp.FTPClient;\nimport org.apache.commons.net.ftp.FTPSClient;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.core.io.ClassPathResource;\nimport org.springframework.stereotype.Component;\n\nimport java.io.IOException;\nimport java.io.InputStream;\n\n@Component\n@Slf4j\npublic class FTPFileWriterImpl implements FTPFileWriter {\n    private final FTPProperties ftpProperties;\n    protected FTPClient ftpClient;\n\n    @Autowired\n    public FTPFileWriterImpl(@Autowired FTPProperties ftpProperties) {\n        this.ftpProperties = ftpProperties;\n    }\n\n    //@PostConstruct\n    public void init() {\n        if (this.ftpProperties.isAutoStart()) {\n            log.debug(&quot;Autostarting connection to FTP server.&quot;);\n            this.open();\n        }\n    }\n\n    public boolean open() {\n        close();\n        log.debug(&quot;Connecting and logging in to FTP server.&quot;);\n        if (ftpProperties.getProtocolType().equals(&quot;SSL&quot;))\n            ftpClient = new FTPSClient();\n        else\n            ftpClient = new FTPClient();\n        ftpClient.enterLocalPassiveMode();\n        boolean loggedIn = false;\n        try {\n            ftpClient.connect(ftpProperties.getServer(), ftpProperties.getPort());\n            loggedIn = ftpClient.login(ftpProperties.getUsername(), ftpProperties.getPassword());\n            if (loggedIn) {\n                ftpClient.setFileType(FTP.BINARY_FILE_TYPE);\n                if (ftpProperties.getKeepAliveTimout() &gt; 0)\n                    ftpClient.setControlKeepAliveTimeout(ftpProperties.getKeepAliveTimout());\n            } else {\n                log.error(&quot;Failed login to FTP server&quot;);\n                ftpClient.logout();\n                ftpClient.disconnect();\n            }\n        } catch (Exception e) {\n            log.error(e.getMessage());\n        }\n        return loggedIn;\n    }\n\n    public void close() {\n        if (ftpClient != null) {\n            try {\n                if (ftpClient.isConnected()) {\n                    ftpClient.logout();\n                    ftpClient.disconnect();\n                }\n            } catch (Exception e) {\n                log.error(e.getMessage(), e);\n            }\n        }\n    }\n\n    public InputStream loadFile(String fileName) {\n        try {\n            log.debug(&quot;Trying to retrieve a file from remote path &quot; + fileName);\n            this.open();\n            return ftpClient.retrieveFileStream(fileName);\n        } catch (IOException e) {\n            log.error(e.getMessage(), e);\n            throw new StorageFileNotFoundException(&quot;File not found!&quot;);\n        } finally {\n            this.close();\n        }\n    }\n\n    public boolean delete(String fileName) throws IOException {\n        this.open();\n        boolean result = ftpClient.deleteFile(fileName);\n        this.close();\n        return result;\n    }\n\n\n    public String saveFile(InputStream inputStream, String dir, String fileName, boolean append) throws Exception {\n        log.debug(&quot;Trying to store a file to destination path &quot; + fileName);\n        boolean result;\n        this.open();\n        try {\n            String saveDir = this.ftpProperties.getRemoteDir() + &quot;/&quot; + dir;\n            if (!directoryExists(saveDir)) {\n                boolean makeDirResult = this.ftpClient.makeDirectory(saveDir);\n                if(!makeDirResult) {\n                    log.error(&quot;Storage directory {} does not exist on ftp server, failed to create it!&quot;, saveDir);\n                    throw new StorageException(&quot;Storage directory {} does not exist on ftp server, failed to create it!&quot;);\n                }\n            }\n            String remote = saveDir + &quot;/&quot; + fileName;\n\n            if (append)\n                result = ftpClient.appendFile(remote, inputStream);\n            else\n                result = ftpClient.storeFile(remote, inputStream);\n            if (!result) {\n                log.error(&quot;Cannot save file on server, Server response is: {}&quot;, ftpClient.getReplyCode());\n                throw new StorageException(String.format(&quot;Cannot save file on server: %s&quot;, ftpClient.getReplyCode()));\n            }\n            return remote;\n        }\n        finally {\n            this.close();\n        }\n    }\n\n    public String saveFile(String sourcePath, String fileName, boolean append) throws Exception {\n        InputStream inputStream;\n        inputStream = new ClassPathResource(sourcePath).getInputStream();\n        return this.saveFile(inputStream, &quot;&quot;, fileName, append);\n    }\n    private boolean directoryExists(String dirPath) throws IOException {\n        ftpClient.changeWorkingDirectory(dirPath);\n        int returnCode = ftpClient.getReplyCode();\n        return returnCode != 550;\n    }\n    public boolean isConnected() {\n        boolean connected = false;\n        if (ftpClient != null) {\n            try {\n                connected = ftpClient.sendNoOp();\n            } catch (Exception e) {\n                log.error(e.getMessage(), e);\n            }\n        }\n        log.debug(&quot;Checking for connection to FTP server. Is connected: &quot; + connected);\n        return connected;\n    }\n}\n</code></pre>\n<p><code>FTPFileWriter</code> interface:</p>\n<pre><code>import java.io.IOException;\nimport java.io.InputStream;\n\npublic interface FTPFileWriter {\n\n    /**\n     * Connects to a server and tries to log in the user.\n     *\n     * @return boolean True if successful, False otherwise.\n     */\n    boolean open();\n\n    /**\n     * Logouts the current user and disconnects from the server.\n     */\n    void close();\n\n    /**\n     * Retrieve a file from the ftp server.\n     *\n     * @param remotePath   Remote path for the file to retrieve.\n     * @return boolean True if successful, False otherwise.\n     */\n\n    InputStream loadFile(String remotePath);\n\n    boolean delete(String remotePath) throws IOException;\n\n    /**\n     * Store a file on the ftp server.\n     *\n     * @param inputStream Stream the new file is read from.\n     * @param dir\n     * @param destPath    Remote path the file should be placed at.\n     * @param append      Append to an existing file or write as a new file.\n     * @return boolean True if successful, False otherwise.\n     */\n\n    String saveFile(InputStream inputStream, String dir, String destPath, boolean append) throws Exception;\n\n    /**\n     * Store a file on the ftp server.\n     *\n     * @param sourcePath Local path the file is read from.\n     * @param destPath   Remote path the file should be placed at.\n     * @param append      Append to an existing file or write as a new file.\n     * @return boolean True if successful, False otherwise.\n     */\n\n    String saveFile(String sourcePath, String destPath, boolean append) throws Exception;\n\n    /**\n     * Does a NOOP to see if the connection is valid.\n     *\n     * @return boolean True if connected, False otherwise.\n     */\n\n    boolean isConnected();\n}\n</code></pre>\n<p><code>FTPProperties</code> is a class that provides your ftp settings:</p>\n<pre><code>public class FTPProperties {\n    private String server;\n    private String username;\n    private String password;\n    @Min(0)\n    @Max(65535)\n    private int port;\n    private int keepAliveTimout;\n    private boolean autoStart;\n    private String protocolType;\n    private String remoteDir;\n\n    @PostConstruct\n    public void init() {\n        if (port == 0) {\n            port = 21;\n        }\n    }\n}\n</code></pre>\n<p>You can implement your own exception classes instead of <code>StorageException</code> and <code>StorageFileNotFoundException</code> or throw traditional exceptions</p>\n<p>In case you got <code>553 Could not create file</code> error, it relates to lack of privilege for writing to disk for ftp user and you can resolve it by running following command on Linux-based ftp host:</p>\n<pre><code>chown -R ftpusername /var/ftpfiles\n</code></pre>\n<p>Replace /var/ftpfiles with path to ftp storage folder.</p>\n"}],"owner":{"account_id":18994654,"reputation":25,"user_id":13863080,"display_name":"Baixa"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1420,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72452519,"answer_count":1,"score":1,"last_activity_date":1656525790,"creation_date":1654018272,"question_id":72452185,"body_markdown":"My `FtpClient` class is producing an error when I try to upload file on ftp server. I get this message:\r\n ``` \r\n220 (vsFTPd 3.0.3)\r\nUSER newftpuser\r\n331 Please specify the password.\r\nPASS ftp\r\n230 Login successful.\r\nTYPE I\r\n200 Switching to Binary mode.\r\nPORT 192,168,1,7,235,73\r\n200 PORT command successful. Consider using PASV.\r\nSTOR /upload/logo.png\r\n425 Failed to establish connection. \r\n```\r\n**FtpClient.java**\r\n```java\r\nimport org.apache.commons.net.PrintCommandListener;\r\nimport org.apache.commons.net.ftp.FTP;\r\nimport org.apache.commons.net.ftp.FTPClient;\r\nimport org.apache.commons.net.ftp.FTPFile;\r\nimport org.apache.commons.net.ftp.FTPReply;\r\n\r\nimport java.io.*;\r\nimport java.util.Arrays;\r\nimport java.util.Collection;\r\nimport java.util.stream.Collectors;\r\n\r\npublic class FtpClient {\r\n\r\n    private String server;\r\n    private int port;\r\n    private String user;\r\n    private String password;\r\n    private FTPClient ftp;\r\n\r\n    public void open() throws IOException {\r\n        ftp = new FTPClient();\r\n        ftp.addProtocolCommandListener(new PrintCommandListener(new PrintWriter(System.out)));\r\n        ftp.enterLocalPassiveMode();\r\n        ftp.connect(server, port);\r\n        int reply = ftp.getReplyCode();\r\n        if (!FTPReply.isPositiveCompletion(reply)) {\r\n            ftp.disconnect();\r\n            throw new IOException(&quot;Exception in connecting to FTP Server&quot;);\r\n        }\r\n        ftp.login(user, password);\r\n\r\n        ftp.setFileType(FTP.BINARY_FILE_TYPE);\r\n    }\r\n\r\n    public void close() throws IOException {\r\n        ftp.disconnect();\r\n    }\r\n\r\n    public void putFileToPath(InputStream inputStream, String path) throws IOException {\r\n        ftp.storeFile(path, inputStream);\r\n    }\r\n}\r\n```\r\n\r\n**Tests**\r\n```java\r\n@Test\r\npublic void dropFileOnFtpServer() throws IOException, URISyntaxException {\r\n\r\n    ftpClient = new FtpClient(...);\r\n    ftpClient.open();\r\n    InputStream inputStream = this.getClass().getResourceAsStream(&quot;/images/logo.png&quot;);\r\n    ftpClient.putFileToPath(inputStream, &quot;/upload/logo.png&quot;);\r\n    assertTrue(ftpClient.listFiles(&quot;/upload&quot;).contains(&quot;logo.png&quot;));\r\n    ftpClient.close();\r\n}\r\n```\r\n\r\n## Solved ##\r\nReason of problem is passive mode. FTPClient of appache.commons.net need to enable passive mode manually before downloading or uploading files, so programs didn&#39;t work correct. \r\n\r\n**Solution**\r\n\r\n```java\r\npublic void putFileToPath(InputStream inputStream, String path) throws IOException { \r\n        ftp.enterLocalPassiveMode(); \r\n        /* I enable this mode before connecting ftp, so client doesnt work*/\r\n        ftp.storeFile(path, inputStream);\r\n} \r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/19121623/eskandar-abedini","title":"Java FTP client failing with &quot;425 Failed to establish connection&quot;","body":"<p>My <code>FtpClient</code> class is producing an error when I try to upload file on ftp server. I get this message:</p>\n<pre><code>220 (vsFTPd 3.0.3)\nUSER newftpuser\n331 Please specify the password.\nPASS ftp\n230 Login successful.\nTYPE I\n200 Switching to Binary mode.\nPORT 192,168,1,7,235,73\n200 PORT command successful. Consider using PASV.\nSTOR /upload/logo.png\n425 Failed to establish connection. \n</code></pre>\n<p><strong>FtpClient.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.apache.commons.net.PrintCommandListener;\nimport org.apache.commons.net.ftp.FTP;\nimport org.apache.commons.net.ftp.FTPClient;\nimport org.apache.commons.net.ftp.FTPFile;\nimport org.apache.commons.net.ftp.FTPReply;\n\nimport java.io.*;\nimport java.util.Arrays;\nimport java.util.Collection;\nimport java.util.stream.Collectors;\n\npublic class FtpClient {\n\n    private String server;\n    private int port;\n    private String user;\n    private String password;\n    private FTPClient ftp;\n\n    public void open() throws IOException {\n        ftp = new FTPClient();\n        ftp.addProtocolCommandListener(new PrintCommandListener(new PrintWriter(System.out)));\n        ftp.enterLocalPassiveMode();\n        ftp.connect(server, port);\n        int reply = ftp.getReplyCode();\n        if (!FTPReply.isPositiveCompletion(reply)) {\n            ftp.disconnect();\n            throw new IOException(&quot;Exception in connecting to FTP Server&quot;);\n        }\n        ftp.login(user, password);\n\n        ftp.setFileType(FTP.BINARY_FILE_TYPE);\n    }\n\n    public void close() throws IOException {\n        ftp.disconnect();\n    }\n\n    public void putFileToPath(InputStream inputStream, String path) throws IOException {\n        ftp.storeFile(path, inputStream);\n    }\n}\n</code></pre>\n<p><strong>Tests</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\npublic void dropFileOnFtpServer() throws IOException, URISyntaxException {\n\n    ftpClient = new FtpClient(...);\n    ftpClient.open();\n    InputStream inputStream = this.getClass().getResourceAsStream(&quot;/images/logo.png&quot;);\n    ftpClient.putFileToPath(inputStream, &quot;/upload/logo.png&quot;);\n    assertTrue(ftpClient.listFiles(&quot;/upload&quot;).contains(&quot;logo.png&quot;));\n    ftpClient.close();\n}\n</code></pre>\n<h2>Solved</h2>\n<p>Reason of problem is passive mode. FTPClient of appache.commons.net need to enable passive mode manually before downloading or uploading files, so programs didn't work correct.</p>\n<p><strong>Solution</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public void putFileToPath(InputStream inputStream, String path) throws IOException { \n        ftp.enterLocalPassiveMode(); \n        /* I enable this mode before connecting ftp, so client doesnt work*/\n        ftp.storeFile(path, inputStream);\n} \n</code></pre>\n"},{"tags":["java","list","algorithm","recursion","combinations"],"comments":[{"owner":{"account_id":6781763,"reputation":3428,"user_id":5267751,"display_name":"user202729"},"score":2,"creation_date":1656260642,"post_id":72763128,"comment_id":128523247,"body_markdown":"Also classically known as the knapsack problem.","body":"Also classically known as the knapsack problem."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1656264315,"post_id":72763128,"comment_id":128524058,"body_markdown":"So you want to find out whether it&#39;s possible or not to construct the target sum from the given numbers *recursively*, using any of the number in the list not more than once, correct?","body":"So you want to find out whether it&#39;s possible or not to construct the target sum from the given numbers <i>recursively</i>, using any of the number in the list not more than once, correct?"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1656264435,"post_id":72763128,"comment_id":128524083,"body_markdown":"Maybe return type might be `boolean`, what&#39;s the point of returning the same number to the caller?","body":"Maybe return type might be <code>boolean</code>, what&#39;s the point of returning the same number to the caller?"},{"owner":{"account_id":18519443,"reputation":627,"user_id":17120914,"display_name":"Alix Blaine"},"score":0,"creation_date":1656264922,"post_id":72763128,"comment_id":128524174,"body_markdown":"@AlexanderIvanchenko, why `boolean` ?","body":"@AlexanderIvanchenko, why <code>boolean</code> ?"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":1,"creation_date":1656264987,"post_id":72763128,"comment_id":128524192,"body_markdown":"Can you answer the first question (where I&#39;m asking whether my understanding of the problem is correct) ?","body":"Can you answer the first question (where I&#39;m asking whether my understanding of the problem is correct) ?"},{"owner":{"account_id":18519443,"reputation":627,"user_id":17120914,"display_name":"Alix Blaine"},"score":0,"creation_date":1656265042,"post_id":72763128,"comment_id":128524205,"body_markdown":"@AlexanderIvanchenko, please see the entire post. I just added more, see the last code snippet here as well. Thanks.","body":"@AlexanderIvanchenko, please see the entire post. I just added more, see the last code snippet here as well. Thanks."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":1,"creation_date":1656265184,"post_id":72763128,"comment_id":128524232,"body_markdown":"You didn&#39;t answer my question? You need to find out whether it&#39;s possible to obtain the target sum from the given numbers? Right?","body":"You didn&#39;t answer my question? You need to find out whether it&#39;s possible to obtain the target sum from the given numbers? Right?"},{"owner":{"account_id":18519443,"reputation":627,"user_id":17120914,"display_name":"Alix Blaine"},"score":0,"creation_date":1656265224,"post_id":72763128,"comment_id":128524241,"body_markdown":"@AlexanderIvanchenko, for example, given this list: `[1,3,2,2,6,5]` find out with which numbers, you can sum together to construct target value. Is it possible to do it more than once? If, target= **12**, then yes, **3+2+2+5=12** but so will **1+5+6**, however, if we use the numbers to sum a target value, we cannot reuse the same numbers. Meaning that, if **3+2+2+5=12** these match and are used, we are left with `[1,6]` and if these two do not sum to the target then we are **DONE**.","body":"@AlexanderIvanchenko, for example, given this list: <code>[1,3,2,2,6,5]</code> find out with which numbers, you can sum together to construct target value. Is it possible to do it more than once? If, target= <b>12</b>, then yes, <b>3+2+2+5=12</b> but so will <b>1+5+6</b>, however, if we use the numbers to sum a target value, we cannot reuse the same numbers. Meaning that, if <b>3+2+2+5=12</b> these match and are used, we are left with <code>[1,6]</code> and if these two do not sum to the target then we are <b>DONE</b>."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1656265507,"post_id":72763128,"comment_id":128524297,"body_markdown":"`Is it possible to do it more than once? ` - there&#39;s no mention of this requirement in your question. And this requirement is **important**, it should be added to to the question: your current problem statement is vague: *the sum of numbers that makes up the target. And then removes the rest if there aren&#39;t anymore*","body":"<code>Is it possible to do it more than once? </code> - there&#39;s no mention of this requirement in your question. And this requirement is <b>important</b>, it should be added to to the question: your current problem statement is vague: <i>the sum of numbers that makes up the target. And then removes the rest if there aren&#39;t anymore</i>"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1656265697,"post_id":72763128,"comment_id":128524337,"body_markdown":"`do not sum to the target then we are DONE.` - and what should be the return `value` (non of the examples shows what should be returned), number of combinations that add up to the target sum?","body":"<code>do not sum to the target then we are DONE.</code> - and what should be the return <code>value</code> (non of the examples shows what should be returned), number of combinations that add up to the target sum?"},{"owner":{"account_id":18519443,"reputation":627,"user_id":17120914,"display_name":"Alix Blaine"},"score":0,"creation_date":1656265730,"post_id":72763128,"comment_id":128524343,"body_markdown":"@AlexanderIvanchenko, every detailed information is in the post here. The examples there highlight the problem as a whole. If, `[,3,2,2,6,6,5]` sort = `[2,2,3,5,6,6]` and sum up the firs possible sum till we reach the target, **2+2+3+5** = 12, and then we are left with remainders which we need to test again, in this context `[6,6]` also produce target value **12** therefore, we add this sum to the sums and hence = 12 + 12 = 24.","body":"@AlexanderIvanchenko, every detailed information is in the post here. The examples there highlight the problem as a whole. If, <code>[,3,2,2,6,6,5]</code> sort = <code>[2,2,3,5,6,6]</code> and sum up the firs possible sum till we reach the target, <b>2+2+3+5</b> = 12, and then we are left with remainders which we need to test again, in this context <code>[6,6]</code> also produce target value <b>12</b> therefore, we add this sum to the sums and hence = 12 + 12 = 24."},{"owner":{"account_id":18519443,"reputation":627,"user_id":17120914,"display_name":"Alix Blaine"},"score":0,"creation_date":1656265810,"post_id":72763128,"comment_id":128524364,"body_markdown":"@AlexanderIvanchenko, please, please. &gt; &quot;what should be the return value&quot;, please see the latest version, **New version** above which adds up the sums in an ArrayList and then returns the sum();","body":"@AlexanderIvanchenko, please, please. &gt; &quot;what should be the return value&quot;, please see the latest version, <b>New version</b> above which adds up the sums in an ArrayList and then returns the sum();"},{"owner":{"account_id":18519443,"reputation":627,"user_id":17120914,"display_name":"Alix Blaine"},"score":0,"creation_date":1656265834,"post_id":72763128,"comment_id":128524370,"body_markdown":"`if(numbers.size() == 0) {\n            sums.add(sum);\n            return sums.stream().mapToInt(Integer::intValue).sum();\n        }`","body":"<code>if(numbers.size() == 0) {             sums.add(sum);             return sums.stream().mapToInt(Integer::intValue).sum();         }</code>"},{"owner":{"account_id":18519443,"reputation":627,"user_id":17120914,"display_name":"Alix Blaine"},"score":0,"creation_date":1656266225,"post_id":72763128,"comment_id":128524447,"body_markdown":"@AlexanderIvanchenko, I&#39;ve added a **PROBLEM** description now to further explain the issue.","body":"@AlexanderIvanchenko, I&#39;ve added a <b>PROBLEM</b> description now to further explain the issue."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":1,"creation_date":1656267293,"post_id":72763128,"comment_id":128524663,"body_markdown":"I&#39;ve read it. I&#39;ll try again, please correct me if I&#39;m getting you wrong. Let&#39;s say the target is `12` and it&#39;s impossible to sum up the given numbers even once to obtain `12` the return value should be `0`. If only one unique combination (without reuse of numbers) gives `12`, then the return value should be `12`. If there are two such unique combinations, then the return value would be `24`. And so on. Is it correct?","body":"I&#39;ve read it. I&#39;ll try again, please correct me if I&#39;m getting you wrong. Let&#39;s say the target is <code>12</code> and it&#39;s impossible to sum up the given numbers even once to obtain <code>12</code> the return value should be <code>0</code>. If only one unique combination (without reuse of numbers) gives <code>12</code>, then the return value should be <code>12</code>. If there are two such unique combinations, then the return value would be <code>24</code>. And so on. Is it correct?"},{"owner":{"account_id":18519443,"reputation":627,"user_id":17120914,"display_name":"Alix Blaine"},"score":0,"creation_date":1656267783,"post_id":72763128,"comment_id":128524774,"body_markdown":"@AlexanderIvanchenko, **EXACTLY**, and one combination can only be used once.","body":"@AlexanderIvanchenko, <b>EXACTLY</b>, and one combination can only be used once."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1656523736,"post_id":72763128,"comment_id":128596274,"body_markdown":"See the [*demo*](https://www.jdoodle.com/ia/sKM) with your new code. Numbers: `[6, 3, 1, 1, 1, 3]`, target `3`. The result should be `6`.  But method `findCombinations()` fail to find any combinations because of the condition `if(arr.get(i) &gt; target) break;`","body":"See the <a href=\"https://www.jdoodle.com/ia/sKM\" rel=\"nofollow noreferrer\"><i>demo</i></a> with your new code. Numbers: <code>[6, 3, 1, 1, 1, 3]</code>, target <code>3</code>. The result should be <code>6</code>.  But method <code>findCombinations()</code> fail to find any combinations because of the condition <code>if(arr.get(i) &gt; target) break;</code>"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1656526454,"post_id":72763128,"comment_id":128597216,"body_markdown":"The line `if(i&gt;index &amp;&amp; arr.get(i) == arr.get(i-1)) continue;` is suspicious  - why should we prohibit the the same value to be added to the combination? And BTW `arr.get(i) == arr.get(i-1)` is not a correct way to compare instances `Integer` (always use `equals()` to compare objects). I think this line isn&#39;t helpful here, consider removing it. In regard to `if(arr.get(i) &gt; target) break; - change it to `continue`.","body":"The line <code>if(i&gt;index &amp;&amp; arr.get(i) == arr.get(i-1)) continue;</code> is suspicious  - why should we prohibit the the same value to be added to the combination? And BTW <code>arr.get(i) == arr.get(i-1)</code> is not a correct way to compare instances <code>Integer</code> (always use <code>equals()</code> to compare objects). I think this line isn&#39;t helpful here, consider removing it. In regard to <code>if(arr.get(i) &gt; target) break; - change it to </code>continue`."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1656526976,"post_id":72763128,"comment_id":128597373,"body_markdown":"The logic in the method `sum()` is not viable. It neither checks anyhow whether the next combination overlap with previously encountered combinations, no verifies if the current sum is optimal (or there are better options).","body":"The logic in the method <code>sum()</code> is not viable. It neither checks anyhow whether the next combination overlap with previously encountered combinations, no verifies if the current sum is optimal (or there are better options)."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1656524705,"creation_date":1656284065,"answer_id":72765660,"question_id":72763128,"body_markdown":"&lt;h3&gt;Update&lt;/h3&gt;\r\n\r\nIn order to find the maximum possible score of the list, we maximize the number of *non-overlapping combinations* that we can construct from it.\r\n\r\nFor we need to take the following steps:\r\n\r\n* Find all the possible *combinations* which produce the `target` sum. We can **not** reject any combinations on the fly, because we can&#39;t know in advance which of them can be used in the optimal solution. For instance, if `target` is `6` and a list of number is `[3,3,2,2,1,1]`, there will be the following combinations: `[3,3]`, `[2,2,1,1]` and `[3,2,1]` appear two times. If we pick `[3,3]`, which is the shortest combination, we will not be able to construct any combinations and resulting score will be wrong (`6`). Instead, we need to choose two combinations `[3,2,1]` which well give the result `12`. That proves that we can&#39;t rely on the combination size, we need to explore all the combinations and then choose the optimal set of combinations.\r\n\r\n* Generate all possible groups of combinations that fit to the given list of numbers and find a group having the maximum number of combinations in it.\r\n\r\nIn the code below both steps are implemented recursively.\r\n\r\n[*A link to Online Demo*](https://www.jdoodle.com/ia/sKN)\r\n\r\n*Expalanation:*\r\n\r\nThe enty point, this method that kicks in the process. \r\n\r\n    public static int sumRecursively(List&lt;Integer&gt; numbers, int target) {\r\n        Deque&lt;List&lt;Integer&gt;&gt; combinations = new ArrayDeque&lt;&gt;();\r\n        generateCombinations(numbers, combinations, new ArrayList&lt;&gt;(), target);\r\n        \r\n        return processCombinations(combinations, numbers, target);\r\n    }\r\n\r\n**Step 1**. Generating all the *combinations*.\r\n\r\nRecursive method responsible for generating the set of combinations (implemented as `void` to avoid wrapping a combination with an additional collection and then throwing this wrapper away):\r\n\r\n    private static void generateCombinations(List&lt;Integer&gt; numbers,\r\n                                             Queue&lt;List&lt;Integer&gt;&gt; combinations,\r\n                                             List&lt;Integer&gt; combination,\r\n                                             int currentSum) {\r\n        \r\n        if (currentSum == 0) { // base case - a combination has been found\r\n            combinations.add(combination);\r\n            return;\r\n        }        \r\n        // recursive case        \r\n        for (Integer next : numbers) { // loop is need only to discard the elements that exceed the currentSum - pay attention to the condition below and break clause at the end of the loop (we will bread out of the loop after the first encountered element that fits to the current sum)\r\n            \r\n            if (next &gt; currentSum) continue;\r\n            \r\n            List&lt;Integer&gt; newNumbers = new ArrayList&lt;&gt;(numbers);\r\n            newNumbers.remove(next);\r\n            // there two opportunities for each number: use it, or ignore it\r\n            // add next number\r\n            List&lt;Integer&gt; newCombination = new ArrayList&lt;&gt;(combination);\r\n            newCombination.add(next);\r\n            getCombinations(newNumbers, combinations, newCombination, currentSum - next);\r\n            // ignore next number\r\n            getCombinations(newNumbers, combinations, new ArrayList&lt;&gt;(combination), currentSum);\r\n            \r\n            break;\r\n        }\r\n    }\r\n\r\n**Step 2**. Generating the *groups of combinations*.\r\n\r\nMethod below is responsible choosing the group that fits to the given list (i.e. we can construct all the combinations in the group from list elements) and has the maximum number of combinations in it.\r\n\r\nAll the functionality related to the procissing the the group of combinations (which represents a `List&lt;List&lt;Integer&gt;&gt;`) is incapsulated in a class `CombinationGroup` to make the code cleaner.\r\n\r\n    public static int processCombinations(Deque&lt;List&lt;Integer&gt;&gt; combinations,\r\n                                          List&lt;Integer&gt; numbers,\r\n                                          int target) {\r\n        \r\n        List&lt;CombinationGroup&gt; combinationGroups = new ArrayList&lt;&gt;();\r\n        generateGroups(combinationGroups, combinations, new CombinationGroup(numbers.size()));\r\n        \r\n        return combinationGroups.stream()\r\n            .filter(group -&gt; group.canConstruct(numbers))\r\n            .mapToInt(group -&gt; group.getCombCount() * target)\r\n            .max()\r\n            .orElse(0);\r\n    }\r\n\r\nThe following method is responsible for creating the all possible groups of previosly descovered combinations. There&#39;s also a small optimization: total number of elements in each group should not exceed the number of elements in the source list:\r\n\r\n    public static void generateGroups(List&lt;CombinationGroup&gt; groups,\r\n                                      Deque&lt;List&lt;Integer&gt;&gt; combinations,\r\n                                      CombinationGroup group) {\r\n        \r\n        if (combinations.isEmpty()) {\r\n            groups.add(group);\r\n            return;\r\n        }\r\n        \r\n        Deque&lt;List&lt;Integer&gt;&gt; combinationsCopy = new ArrayDeque&lt;&gt;(combinations);\r\n        List&lt;Integer&gt; comb = null;\r\n        while (!combinationsCopy.isEmpty() &amp;&amp; (comb == null || !group.canAdd(comb))) {\r\n            comb = combinationsCopy.removeLast();\r\n        }\r\n        // adding the combination\r\n        if (comb != null) {\r\n            CombinationGroup groupWithNewComb = group.copy();\r\n            groupWithNewComb.addCombination(comb);\r\n            generateGroups(groups, combinationsCopy, groupWithNewComb);\r\n        }\r\n        // ignoring the combination\r\n        generateGroups(groups, combinationsCopy, group);\r\n    }\r\n\r\nClass `CombinationGroup` used in the methods above:\r\n\r\n    public class CombinationGroup {\r\n        private List&lt;List&lt;Integer&gt;&gt; combinations = new ArrayList&lt;&gt;();\r\n        private int combCount; // number of combinations\r\n        private int size;      // total number of elements in the list of combinations\r\n        private int sizeLimit;\r\n        \r\n        public CombinationGroup(int sizeLimit) {\r\n            this.sizeLimit = sizeLimit;\r\n        }\r\n        \r\n        public boolean canAdd(List&lt;Integer&gt; combination) {\r\n            return size + combination.size() &lt;= sizeLimit;\r\n        }\r\n        \r\n        public boolean addCombination(List&lt;Integer&gt; combination) {\r\n            if (!canAdd(combination)) return false;\r\n            \r\n            combinations.add(combination);\r\n            size += combination.size();\r\n            combCount++;\r\n            return true;\r\n        }\r\n        \r\n        public CombinationGroup copy() {\r\n            CombinationGroup copy = new CombinationGroup(this.sizeLimit);\r\n            for (List&lt;Integer&gt; comb : combinations) {\r\n                copy.addCombination(comb);\r\n            }\r\n            return copy;\r\n        }\r\n        \r\n        public boolean canConstruct(List&lt;Integer&gt; numbers) {\r\n            if (numbers.size() &lt; size) return false;\r\n            \r\n            Map&lt;Integer, Long&gt; frequencyByValueNumb = getFrequencies(numbers.stream());\r\n            Map&lt;Integer, Long&gt; frequencyByValueComb = getFrequencies();\r\n            \r\n            return frequencyByValueNumb.keySet().stream() // each element that prent this CombinationGroup appears in the given list of numbers appears at least the same number of times - that means we construct all these combinations from the given list\r\n                .allMatch(key -&gt; frequencyByValueNumb.get(key) &gt;= frequencyByValueComb.getOrDefault(key, 0L));\r\n        }\r\n        \r\n        public Map&lt;Integer, Long&gt; getFrequencies() {\r\n            return getFrequencies(combinations.stream().flatMap(List::stream));\r\n        }\r\n        \r\n        public Map&lt;Integer, Long&gt; getFrequencies(Stream&lt;Integer&gt; stream) {\r\n            return stream.collect(Collectors.groupingBy(\r\n                Function.identity(),\r\n                Collectors.counting()\r\n            ));\r\n        }\r\n    \r\n        public int getCombCount() {\r\n            return combCount;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return &quot;CombinationGroup{&quot; +\r\n                &quot;combinations=&quot; + combinations +\r\n                &#39;}&#39;;\r\n        }\r\n    }\r\n\r\n`main()`\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(sumRecursively(List.of(1, 3, 4, 5, 6, 6), 12));\r\n        System.out.println(sumRecursively(List.of(1, 3, 3, 6, 5), 12));\r\n        System.out.println(sumRecursively(List.of(1, 2, 1, 4, 5, 6), 6));\r\n    }\r\n\r\n*Output:*\r\n```\r\n24\r\n12\r\n18\r\n```\r\n_____________________________________\r\n&lt;h3&gt;Simplified algorithm&lt;/h3&gt; \r\n&lt;h5&gt;(doesn&#39;t maximizes the number of combinations)&lt;/h5&gt;\r\n\r\nIn order to ensure that all the elements in each combination are unique, we to **track** indices that have been already used. I.e. each time we find a combination which sums up to the target number, we should prohibit the usage of elements that have been used in this combination, but not earlier (because there can be many combinations which are not able to produce the target, and therefore any element should eligible to be used until we didn&#39;t construct a complete combination that gives the target using this element).\r\n\r\nTo track the elements that are taken, we need an object that would be visible in every recursive branch. And we are already passing a list of numbers while making every recursive call, what if we would modify it each time we found a combination that produces the target number by removing the elements that have been use in this combination? If we took this road after the first combination, thing would become complicated because we will not be able to rely on the indices (*because they can change in an unpredictable way*) while constructing a single combination - it&#39;s crucial to ensure that each element that belongs to a particular combination is used only once withing a combination. Since values of elements might be identical, we should use the iteration order to construct each combination properly, but each removal of elements would create a mess. So, is there a better way?\r\n\r\nWe can maintain an array of `boolean` values, each element is this array would indicate whether a number at a particular index already belongs to a combination that gives the target or not.\r\n\r\nInstead of clattering the recursive method with the code that manipulates with this `boolean` array, I&#39;ve encapsulated it within a class with simple and self-explanatory methods, and `sumRecursively()` makes use of an instance of this class.\r\n```\r\npublic class CombinationTracker {\r\n    private boolean[] isUsed;\r\n    \r\n    public CombinationTracker(int size) {\r\n        this.isUsed = new boolean[size];\r\n    }\r\n    \r\n    public boolean indexIsUsed(int ind) {\r\n        return isUsed[ind];\r\n    }\r\n    \r\n    public boolean allNotUsed(List&lt;Integer&gt; indices) {\r\n//            return indices.stream().noneMatch(i -&gt; isUsed[i]); // this line does the same as the loop below\r\n        \r\n        boolean result = true;\r\n        for (int idx: indices) {\r\n            if (isUsed[idx]) {\r\n                result = false;\r\n                break;\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n    \r\n    public void setIsUsed(List&lt;Integer&gt; indices) {\r\n        for (int ind: indices)\r\n            setIsUsed(ind);\r\n    }\r\n    \r\n    public void setIsUsed(int ind) {\r\n        isUsed[ind] = true;\r\n    }\r\n}\r\n```\r\nUsing this approach, we are able to construct combinations from numbers that are not used yet, and iterate over the list of numbers starting from a particular position by passing the index while making a recursive call.  We can be sure that any of the elements that reside prier to the current position would not be added to the current combination.\r\n\r\nNow, a quick recap on *recursion*.\r\n\r\nEvery recursive implementation consists of two parts:\r\n\r\n * **Base case** - that represents an edge-case (*or a set of edge-cases*) for which the outcome is known in advance. For this problem, there are **two** edge-cases: \r\n\r\n      * we&#39;ve managed to find a combination that gives the target number, i.e. `currentSum == target`, and the result would be equal to `target`; \r\n\r\n      * the end of the list is reached (and the combination doesn&#39;t result to the target), the result would be `0` (this edge-case resolves automatically by termination condition of the `for` loop in the *recursive case*, and therefore no need to treat it separately).\r\n\r\n* **Recursive case** - a part of a solution where recursive calls are made and where the main logic resides. In the *recursive case* we&#39;re iterating over the list of numbers and at each iteration step (*if the index is not yet used*) we are making *one* or *two* recursive calls depending on a value of the current element (*depending whether we exceed the target or not*). In the general, we have two opportunities: either take the current element, or ignore it. The results of these recursive calls would be added together and produce the return value of the *recursive case*.\r\n\r\nSince we need a couple of additional parameters, it&#39;s a good practice to create an auxiliary overloaded method (*that will be used in the client code*) which expects *only* a list of numbers and a target value and delegates the actual work to the recursive method.\r\n\r\nThat&#39;s how it might look like.\r\n\r\n    public static int sumRecursively(List&lt;Integer&gt; numbers, int target) {\r\n        \r\n        return sumRecursively(new ArrayList&lt;&gt;(numbers),\r\n                              new ArrayList&lt;&gt;(),\r\n                              new CombinationTracker(numbers.size()),\r\n                              0, 0, target);\r\n    }\r\n\r\nThe actual recursive method:\r\n\r\n    private static int sumRecursively(List&lt;Integer&gt; numbers,\r\n                                      List&lt;Integer&gt; combination,\r\n                                      CombinationTracker tracker,\r\n                                      int currentIndex,\r\n                                      int currentSum, int target) {\r\n        \r\n        if (currentSum == target &amp;&amp; tracker.allNotUsed(combination)) { // base case - a combination has been found\r\n            tracker.setIsUsed(combination);\r\n            return target;\r\n        }\r\n        \r\n        // recursive case\r\n        int result = 0;\r\n        \r\n        for (int i = currentIndex; i &lt; numbers.size(); i++) {\r\n\r\n            int next = numbers.get(i);\r\n\r\n            if (tracker.indexIsUsed(i)) continue;\r\n            if (currentSum + next &gt; target) continue;\r\n            // there are two opportunities for each number: either use next number, or ignore it\r\n            // add next number\r\n            if (next + currentSum &lt;= target) {\r\n                List&lt;Integer&gt; newCombination = new ArrayList&lt;&gt;(combination);\r\n                newCombination.add(i);\r\n                result += sumRecursively(numbers, newCombination, tracker, i + 1, currentSum + next, target);\r\n            }\r\n            // ignore next number\r\n            result += sumRecursively(numbers, new ArrayList&lt;&gt;(combination), tracker, i + 1, currentSum, target);\r\n        }\r\n        return result;\r\n    }\r\n\r\n`main()`\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(sumRecursively(List.of(1, 3, 4, 5, 6, 6), 12));\r\n        System.out.println(sumRecursively(List.of(6, 6, 6, 6, 6, 6), 12));\r\n    }\r\n\r\n*Output:*\r\n```\r\n12\r\n36\r\n```","title":"Calculate the sum of dices based on target accurately","body":"<h3>Update</h3>\n<p>In order to find the maximum possible score of the list, we maximize the number of <em>non-overlapping combinations</em> that we can construct from it.</p>\n<p>For we need to take the following steps:</p>\n<ul>\n<li><p>Find all the possible <em>combinations</em> which produce the <code>target</code> sum. We can <strong>not</strong> reject any combinations on the fly, because we can't know in advance which of them can be used in the optimal solution. For instance, if <code>target</code> is <code>6</code> and a list of number is <code>[3,3,2,2,1,1]</code>, there will be the following combinations: <code>[3,3]</code>, <code>[2,2,1,1]</code> and <code>[3,2,1]</code> appear two times. If we pick <code>[3,3]</code>, which is the shortest combination, we will not be able to construct any combinations and resulting score will be wrong (<code>6</code>). Instead, we need to choose two combinations <code>[3,2,1]</code> which well give the result <code>12</code>. That proves that we can't rely on the combination size, we need to explore all the combinations and then choose the optimal set of combinations.</p>\n</li>\n<li><p>Generate all possible groups of combinations that fit to the given list of numbers and find a group having the maximum number of combinations in it.</p>\n</li>\n</ul>\n<p>In the code below both steps are implemented recursively.</p>\n<p><a href=\"https://www.jdoodle.com/ia/sKN\" rel=\"nofollow noreferrer\"><em>A link to Online Demo</em></a></p>\n<p><em>Expalanation:</em></p>\n<p>The enty point, this method that kicks in the process.</p>\n<pre><code>public static int sumRecursively(List&lt;Integer&gt; numbers, int target) {\n    Deque&lt;List&lt;Integer&gt;&gt; combinations = new ArrayDeque&lt;&gt;();\n    generateCombinations(numbers, combinations, new ArrayList&lt;&gt;(), target);\n    \n    return processCombinations(combinations, numbers, target);\n}\n</code></pre>\n<p><strong>Step 1</strong>. Generating all the <em>combinations</em>.</p>\n<p>Recursive method responsible for generating the set of combinations (implemented as <code>void</code> to avoid wrapping a combination with an additional collection and then throwing this wrapper away):</p>\n<pre><code>private static void generateCombinations(List&lt;Integer&gt; numbers,\n                                         Queue&lt;List&lt;Integer&gt;&gt; combinations,\n                                         List&lt;Integer&gt; combination,\n                                         int currentSum) {\n    \n    if (currentSum == 0) { // base case - a combination has been found\n        combinations.add(combination);\n        return;\n    }        \n    // recursive case        \n    for (Integer next : numbers) { // loop is need only to discard the elements that exceed the currentSum - pay attention to the condition below and break clause at the end of the loop (we will bread out of the loop after the first encountered element that fits to the current sum)\n        \n        if (next &gt; currentSum) continue;\n        \n        List&lt;Integer&gt; newNumbers = new ArrayList&lt;&gt;(numbers);\n        newNumbers.remove(next);\n        // there two opportunities for each number: use it, or ignore it\n        // add next number\n        List&lt;Integer&gt; newCombination = new ArrayList&lt;&gt;(combination);\n        newCombination.add(next);\n        getCombinations(newNumbers, combinations, newCombination, currentSum - next);\n        // ignore next number\n        getCombinations(newNumbers, combinations, new ArrayList&lt;&gt;(combination), currentSum);\n        \n        break;\n    }\n}\n</code></pre>\n<p><strong>Step 2</strong>. Generating the <em>groups of combinations</em>.</p>\n<p>Method below is responsible choosing the group that fits to the given list (i.e. we can construct all the combinations in the group from list elements) and has the maximum number of combinations in it.</p>\n<p>All the functionality related to the procissing the the group of combinations (which represents a <code>List&lt;List&lt;Integer&gt;&gt;</code>) is incapsulated in a class <code>CombinationGroup</code> to make the code cleaner.</p>\n<pre><code>public static int processCombinations(Deque&lt;List&lt;Integer&gt;&gt; combinations,\n                                      List&lt;Integer&gt; numbers,\n                                      int target) {\n    \n    List&lt;CombinationGroup&gt; combinationGroups = new ArrayList&lt;&gt;();\n    generateGroups(combinationGroups, combinations, new CombinationGroup(numbers.size()));\n    \n    return combinationGroups.stream()\n        .filter(group -&gt; group.canConstruct(numbers))\n        .mapToInt(group -&gt; group.getCombCount() * target)\n        .max()\n        .orElse(0);\n}\n</code></pre>\n<p>The following method is responsible for creating the all possible groups of previosly descovered combinations. There's also a small optimization: total number of elements in each group should not exceed the number of elements in the source list:</p>\n<pre><code>public static void generateGroups(List&lt;CombinationGroup&gt; groups,\n                                  Deque&lt;List&lt;Integer&gt;&gt; combinations,\n                                  CombinationGroup group) {\n    \n    if (combinations.isEmpty()) {\n        groups.add(group);\n        return;\n    }\n    \n    Deque&lt;List&lt;Integer&gt;&gt; combinationsCopy = new ArrayDeque&lt;&gt;(combinations);\n    List&lt;Integer&gt; comb = null;\n    while (!combinationsCopy.isEmpty() &amp;&amp; (comb == null || !group.canAdd(comb))) {\n        comb = combinationsCopy.removeLast();\n    }\n    // adding the combination\n    if (comb != null) {\n        CombinationGroup groupWithNewComb = group.copy();\n        groupWithNewComb.addCombination(comb);\n        generateGroups(groups, combinationsCopy, groupWithNewComb);\n    }\n    // ignoring the combination\n    generateGroups(groups, combinationsCopy, group);\n}\n</code></pre>\n<p>Class <code>CombinationGroup</code> used in the methods above:</p>\n<pre><code>public class CombinationGroup {\n    private List&lt;List&lt;Integer&gt;&gt; combinations = new ArrayList&lt;&gt;();\n    private int combCount; // number of combinations\n    private int size;      // total number of elements in the list of combinations\n    private int sizeLimit;\n    \n    public CombinationGroup(int sizeLimit) {\n        this.sizeLimit = sizeLimit;\n    }\n    \n    public boolean canAdd(List&lt;Integer&gt; combination) {\n        return size + combination.size() &lt;= sizeLimit;\n    }\n    \n    public boolean addCombination(List&lt;Integer&gt; combination) {\n        if (!canAdd(combination)) return false;\n        \n        combinations.add(combination);\n        size += combination.size();\n        combCount++;\n        return true;\n    }\n    \n    public CombinationGroup copy() {\n        CombinationGroup copy = new CombinationGroup(this.sizeLimit);\n        for (List&lt;Integer&gt; comb : combinations) {\n            copy.addCombination(comb);\n        }\n        return copy;\n    }\n    \n    public boolean canConstruct(List&lt;Integer&gt; numbers) {\n        if (numbers.size() &lt; size) return false;\n        \n        Map&lt;Integer, Long&gt; frequencyByValueNumb = getFrequencies(numbers.stream());\n        Map&lt;Integer, Long&gt; frequencyByValueComb = getFrequencies();\n        \n        return frequencyByValueNumb.keySet().stream() // each element that prent this CombinationGroup appears in the given list of numbers appears at least the same number of times - that means we construct all these combinations from the given list\n            .allMatch(key -&gt; frequencyByValueNumb.get(key) &gt;= frequencyByValueComb.getOrDefault(key, 0L));\n    }\n    \n    public Map&lt;Integer, Long&gt; getFrequencies() {\n        return getFrequencies(combinations.stream().flatMap(List::stream));\n    }\n    \n    public Map&lt;Integer, Long&gt; getFrequencies(Stream&lt;Integer&gt; stream) {\n        return stream.collect(Collectors.groupingBy(\n            Function.identity(),\n            Collectors.counting()\n        ));\n    }\n\n    public int getCombCount() {\n        return combCount;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;CombinationGroup{&quot; +\n            &quot;combinations=&quot; + combinations +\n            '}';\n    }\n}\n</code></pre>\n<p><code>main()</code></p>\n<pre><code>public static void main(String[] args) {\n    System.out.println(sumRecursively(List.of(1, 3, 4, 5, 6, 6), 12));\n    System.out.println(sumRecursively(List.of(1, 3, 3, 6, 5), 12));\n    System.out.println(sumRecursively(List.of(1, 2, 1, 4, 5, 6), 6));\n}\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>24\n12\n18\n</code></pre>\n<hr />\n<h3>Simplified algorithm</h3> \n<h5>(doesn't maximizes the number of combinations)</h5>\n<p>In order to ensure that all the elements in each combination are unique, we to <strong>track</strong> indices that have been already used. I.e. each time we find a combination which sums up to the target number, we should prohibit the usage of elements that have been used in this combination, but not earlier (because there can be many combinations which are not able to produce the target, and therefore any element should eligible to be used until we didn't construct a complete combination that gives the target using this element).</p>\n<p>To track the elements that are taken, we need an object that would be visible in every recursive branch. And we are already passing a list of numbers while making every recursive call, what if we would modify it each time we found a combination that produces the target number by removing the elements that have been use in this combination? If we took this road after the first combination, thing would become complicated because we will not be able to rely on the indices (<em>because they can change in an unpredictable way</em>) while constructing a single combination - it's crucial to ensure that each element that belongs to a particular combination is used only once withing a combination. Since values of elements might be identical, we should use the iteration order to construct each combination properly, but each removal of elements would create a mess. So, is there a better way?</p>\n<p>We can maintain an array of <code>boolean</code> values, each element is this array would indicate whether a number at a particular index already belongs to a combination that gives the target or not.</p>\n<p>Instead of clattering the recursive method with the code that manipulates with this <code>boolean</code> array, I've encapsulated it within a class with simple and self-explanatory methods, and <code>sumRecursively()</code> makes use of an instance of this class.</p>\n<pre><code>public class CombinationTracker {\n    private boolean[] isUsed;\n    \n    public CombinationTracker(int size) {\n        this.isUsed = new boolean[size];\n    }\n    \n    public boolean indexIsUsed(int ind) {\n        return isUsed[ind];\n    }\n    \n    public boolean allNotUsed(List&lt;Integer&gt; indices) {\n//            return indices.stream().noneMatch(i -&gt; isUsed[i]); // this line does the same as the loop below\n        \n        boolean result = true;\n        for (int idx: indices) {\n            if (isUsed[idx]) {\n                result = false;\n                break;\n            }\n        }\n        return result;\n    }\n    \n    public void setIsUsed(List&lt;Integer&gt; indices) {\n        for (int ind: indices)\n            setIsUsed(ind);\n    }\n    \n    public void setIsUsed(int ind) {\n        isUsed[ind] = true;\n    }\n}\n</code></pre>\n<p>Using this approach, we are able to construct combinations from numbers that are not used yet, and iterate over the list of numbers starting from a particular position by passing the index while making a recursive call.  We can be sure that any of the elements that reside prier to the current position would not be added to the current combination.</p>\n<p>Now, a quick recap on <em>recursion</em>.</p>\n<p>Every recursive implementation consists of two parts:</p>\n<ul>\n<li><p><strong>Base case</strong> - that represents an edge-case (<em>or a set of edge-cases</em>) for which the outcome is known in advance. For this problem, there are <strong>two</strong> edge-cases:</p>\n<ul>\n<li><p>we've managed to find a combination that gives the target number, i.e. <code>currentSum == target</code>, and the result would be equal to <code>target</code>;</p>\n</li>\n<li><p>the end of the list is reached (and the combination doesn't result to the target), the result would be <code>0</code> (this edge-case resolves automatically by termination condition of the <code>for</code> loop in the <em>recursive case</em>, and therefore no need to treat it separately).</p>\n</li>\n</ul>\n</li>\n<li><p><strong>Recursive case</strong> - a part of a solution where recursive calls are made and where the main logic resides. In the <em>recursive case</em> we're iterating over the list of numbers and at each iteration step (<em>if the index is not yet used</em>) we are making <em>one</em> or <em>two</em> recursive calls depending on a value of the current element (<em>depending whether we exceed the target or not</em>). In the general, we have two opportunities: either take the current element, or ignore it. The results of these recursive calls would be added together and produce the return value of the <em>recursive case</em>.</p>\n</li>\n</ul>\n<p>Since we need a couple of additional parameters, it's a good practice to create an auxiliary overloaded method (<em>that will be used in the client code</em>) which expects <em>only</em> a list of numbers and a target value and delegates the actual work to the recursive method.</p>\n<p>That's how it might look like.</p>\n<pre><code>public static int sumRecursively(List&lt;Integer&gt; numbers, int target) {\n    \n    return sumRecursively(new ArrayList&lt;&gt;(numbers),\n                          new ArrayList&lt;&gt;(),\n                          new CombinationTracker(numbers.size()),\n                          0, 0, target);\n}\n</code></pre>\n<p>The actual recursive method:</p>\n<pre><code>private static int sumRecursively(List&lt;Integer&gt; numbers,\n                                  List&lt;Integer&gt; combination,\n                                  CombinationTracker tracker,\n                                  int currentIndex,\n                                  int currentSum, int target) {\n    \n    if (currentSum == target &amp;&amp; tracker.allNotUsed(combination)) { // base case - a combination has been found\n        tracker.setIsUsed(combination);\n        return target;\n    }\n    \n    // recursive case\n    int result = 0;\n    \n    for (int i = currentIndex; i &lt; numbers.size(); i++) {\n\n        int next = numbers.get(i);\n\n        if (tracker.indexIsUsed(i)) continue;\n        if (currentSum + next &gt; target) continue;\n        // there are two opportunities for each number: either use next number, or ignore it\n        // add next number\n        if (next + currentSum &lt;= target) {\n            List&lt;Integer&gt; newCombination = new ArrayList&lt;&gt;(combination);\n            newCombination.add(i);\n            result += sumRecursively(numbers, newCombination, tracker, i + 1, currentSum + next, target);\n        }\n        // ignore next number\n        result += sumRecursively(numbers, new ArrayList&lt;&gt;(combination), tracker, i + 1, currentSum, target);\n    }\n    return result;\n}\n</code></pre>\n<p><code>main()</code></p>\n<pre><code>public static void main(String[] args) {\n    System.out.println(sumRecursively(List.of(1, 3, 4, 5, 6, 6), 12));\n    System.out.println(sumRecursively(List.of(6, 6, 6, 6, 6, 6), 12));\n}\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>12\n36\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1656470837,"creation_date":1656435827,"answer_id":72790569,"question_id":72763128,"body_markdown":"UPD.\r\n\r\nGot a comment that code &quot;sucks&quot; due to performance issues...\r\n\r\nFirst of all, I do believe you have missed a point the SO community is not a kind of service which solves code interview puzzles, generally speaking, if you came here with a puzzle you already failed, so, such comments are unacceptable.\r\n\r\nAt second, yes, the code suffers from performance issues just because it is a naive bruteforce solution - I had spent on it about 15 minutes (for example, figuring out all possible combinations with target sum has O(2^N) complexity, if it does not match performance expectations that means any code based on such idea has poor performance). BTW, if you had expectations about the performance you was need to:\r\n- provide correct input constraints (saying `there is 6 numbers` is not correct)\r\n- provide good testcases instead of saying `code does not work` - that allows us to eliminate bad ideas about algorithm.\r\n\r\n\r\nSome idea:\r\n\r\nit seems that we do not need to compute all possible combinations with target sum, because singletons are always preferable over N-lets, pairs are either the same or do not influence on the result or interchangeable with N-lets (e.g. in case of [2,2,8,10,10] we would prefer to eliminate pairs first), but whether it is true for higher N&#39;s completely unclear - it is better to have some testcases.\r\n\r\n\r\n----------\r\n\r\n\r\nNot sure I properly understand the problem, but I believe the solution is following:\r\n\r\n\r\n```java\r\npublic class TargetNumber {\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(score(new int[]{1, 2, 1, 4, 5, 6}, 6));\r\n    }\r\n\r\n    public static int score(int[] candidates, int target) {\r\n        List&lt;List&lt;Integer&gt;&gt; combinations = getUniqueCombinations(candidates, target);\r\n        Map&lt;Integer, Integer&gt; freqs = new HashMap&lt;&gt;();\r\n        for (int n : candidates) {\r\n            freqs.merge(n, 1, Integer::sum);\r\n        }\r\n        return score(0, combinations, freqs, target);\r\n    }\r\n\r\n    public static int score(int offset, List&lt;List&lt;Integer&gt;&gt; combinations, Map&lt;Integer, Integer&gt; freqs, int target) {\r\n        if (offset == combinations.size()) {\r\n            return 0;\r\n        }\r\n        int result = 0;\r\n        List&lt;Integer&gt; comb = combinations.get(offset);\r\n        Map&lt;Integer, Integer&gt; nfreq = reduce(freqs, comb);\r\n        if (nfreq != null) {\r\n            result = Math.max(result, target + score(offset, combinations, nfreq, target));\r\n        }\r\n        result = Math.max(result, score(offset + 1, combinations, freqs, target));\r\n        return result;\r\n    }\r\n\r\n    public static Map&lt;Integer, Integer&gt; reduce(Map&lt;Integer, Integer&gt; freqs, List&lt;Integer&gt; comb) {\r\n        Map&lt;Integer, Integer&gt; result = new HashMap&lt;&gt;(freqs);\r\n        for (int n : comb) {\r\n            if (result.merge(n, -1, Integer::sum) &lt; 0) {\r\n                return null;\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\n    public static List&lt;List&lt;Integer&gt;&gt; getUniqueCombinations(int[] candidates, int target) {\r\n        List&lt;List&lt;Integer&gt;&gt; result = new ArrayList&lt;&gt;();\r\n        Arrays.sort(candidates);\r\n        getUniqueCombinations(candidates, target, 0, new ArrayList&lt;&gt;(), result);\r\n        return result;\r\n    }\r\n\r\n    public static void getUniqueCombinations(int[] candidates, int target, int index, List&lt;Integer&gt; solution, List&lt;List&lt;Integer&gt;&gt; result) {\r\n        for (int i = index, n = candidates.length; i &lt; n; ) {\r\n            int num = candidates[i];\r\n            if (num &gt; target) {\r\n                break;\r\n            }\r\n            solution.add(num);\r\n            if (num == target) {\r\n                result.add(new ArrayList&lt;&gt;(solution));\r\n            }\r\n            getUniqueCombinations(candidates, target - num, i + 1, solution, result);\r\n            solution.remove(solution.size() - 1);\r\n            while (i &lt; n &amp;&amp; num == candidates[i]) {\r\n                i++;\r\n            }\r\n        }\r\n    }\r\n\r\n}\r\n```","title":"Calculate the sum of dices based on target accurately","body":"<p>UPD.</p>\n<p>Got a comment that code &quot;sucks&quot; due to performance issues...</p>\n<p>First of all, I do believe you have missed a point the SO community is not a kind of service which solves code interview puzzles, generally speaking, if you came here with a puzzle you already failed, so, such comments are unacceptable.</p>\n<p>At second, yes, the code suffers from performance issues just because it is a naive bruteforce solution - I had spent on it about 15 minutes (for example, figuring out all possible combinations with target sum has O(2^N) complexity, if it does not match performance expectations that means any code based on such idea has poor performance). BTW, if you had expectations about the performance you was need to:</p>\n<ul>\n<li>provide correct input constraints (saying <code>there is 6 numbers</code> is not correct)</li>\n<li>provide good testcases instead of saying <code>code does not work</code> - that allows us to eliminate bad ideas about algorithm.</li>\n</ul>\n<p>Some idea:</p>\n<p>it seems that we do not need to compute all possible combinations with target sum, because singletons are always preferable over N-lets, pairs are either the same or do not influence on the result or interchangeable with N-lets (e.g. in case of [2,2,8,10,10] we would prefer to eliminate pairs first), but whether it is true for higher N's completely unclear - it is better to have some testcases.</p>\n<hr />\n<p>Not sure I properly understand the problem, but I believe the solution is following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class TargetNumber {\n\n    public static void main(String[] args) {\n        System.out.println(score(new int[]{1, 2, 1, 4, 5, 6}, 6));\n    }\n\n    public static int score(int[] candidates, int target) {\n        List&lt;List&lt;Integer&gt;&gt; combinations = getUniqueCombinations(candidates, target);\n        Map&lt;Integer, Integer&gt; freqs = new HashMap&lt;&gt;();\n        for (int n : candidates) {\n            freqs.merge(n, 1, Integer::sum);\n        }\n        return score(0, combinations, freqs, target);\n    }\n\n    public static int score(int offset, List&lt;List&lt;Integer&gt;&gt; combinations, Map&lt;Integer, Integer&gt; freqs, int target) {\n        if (offset == combinations.size()) {\n            return 0;\n        }\n        int result = 0;\n        List&lt;Integer&gt; comb = combinations.get(offset);\n        Map&lt;Integer, Integer&gt; nfreq = reduce(freqs, comb);\n        if (nfreq != null) {\n            result = Math.max(result, target + score(offset, combinations, nfreq, target));\n        }\n        result = Math.max(result, score(offset + 1, combinations, freqs, target));\n        return result;\n    }\n\n    public static Map&lt;Integer, Integer&gt; reduce(Map&lt;Integer, Integer&gt; freqs, List&lt;Integer&gt; comb) {\n        Map&lt;Integer, Integer&gt; result = new HashMap&lt;&gt;(freqs);\n        for (int n : comb) {\n            if (result.merge(n, -1, Integer::sum) &lt; 0) {\n                return null;\n            }\n        }\n        return result;\n    }\n\n    public static List&lt;List&lt;Integer&gt;&gt; getUniqueCombinations(int[] candidates, int target) {\n        List&lt;List&lt;Integer&gt;&gt; result = new ArrayList&lt;&gt;();\n        Arrays.sort(candidates);\n        getUniqueCombinations(candidates, target, 0, new ArrayList&lt;&gt;(), result);\n        return result;\n    }\n\n    public static void getUniqueCombinations(int[] candidates, int target, int index, List&lt;Integer&gt; solution, List&lt;List&lt;Integer&gt;&gt; result) {\n        for (int i = index, n = candidates.length; i &lt; n; ) {\n            int num = candidates[i];\n            if (num &gt; target) {\n                break;\n            }\n            solution.add(num);\n            if (num == target) {\n                result.add(new ArrayList&lt;&gt;(solution));\n            }\n            getUniqueCombinations(candidates, target - num, i + 1, solution, result);\n            solution.remove(solution.size() - 1);\n            while (i &lt; n &amp;&amp; num == candidates[i]) {\n                i++;\n            }\n        }\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":18519443,"reputation":627,"user_id":17120914,"display_name":"Alix Blaine"},"comment_count":19,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":405,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":72765660,"answer_count":2,"score":1,"last_activity_date":1656524705,"creation_date":1656259292,"question_id":72763128,"body_markdown":"I am trying, to sum up score for a little dice game I made. The dice has the following values: `1-6`, the player can select `target`, `LOW = n &lt; 4`, **1,2,3**. The rest of the targets, `4, 5, 6, 7, 8, 9, 10, 11` and `12`. \r\n\r\nWhen a throw is done, sum up the total sum of the dices, based on `target` value. What this means, is, if **LOW** is select, then everything below **4**, is summed up. Otherwise, the process, must **sum** each dice till it reaches the target **sum**, and continue. \r\nIf, a throw is done, and I selected `6` as target, and get the following set: `{1, 1, 4, 2, 5, 6}`. We have a `6`, `5+1=6`, and `4+2=6`, we are left with `1` which is not counted. \r\n\r\n**Constraints:** \r\n - *1-6* dice values.\r\n - Everything (Target) below *4*, is summed up.\r\n - Everything (Target) selecting between *4, 5, 6, 7, 8, 9, 10, 11, &amp; 1*2, is processed differently. \r\n - 6 dices, can produces any number between `1-6`. This means, `[6,6,6,6,6,6]`, or `[1,1,3,5,4,2`], or some other set.  \r\n\r\n \r\nThe only thing important, is the sum that is calculated and nothing else, as long as it matches the input of dices. \r\n\r\n*For example:* \r\n* If the `target` is `12` and a list of numbers is `[6, 6, 6, 6, 6, 6]` then return value should be `36`.\r\n* If we receive a list of numbers `[1, 3, 4, 5, 6, 6]` and a `target` is should be `12` (`5+1+6=12` and also `5+4+3=12`, however, numbers can only be used once and not reused, therefore only one of the combinations can contribute the result). \r\n\r\n---\r\n\r\nBelow is a method, which gives the occurrences of a dice.\r\n\r\n    public static TreeMap&lt;Integer, Integer&gt; countOccurrences(List&lt;Integer&gt; numbers){\r\n    \t\tTreeMap&lt;Integer, Integer&gt; map = new TreeMap&lt;Integer, Integer&gt;();\r\n    \t\t\r\n    \tint i = 0;\r\n    \tfor(int n: numbers) {\r\n    \t\tif(map.containsKey(n)) {\r\n    \t\t\ti = map.get(n);\r\n    \t\t\tmap.put(n, ++i);\r\n    \t\t}\r\n    \t\telse\r\n    \t\t\tmap.put(n, 1);\r\n    \t}\r\n    \treturn map;\r\n    }\r\n\r\n**Results:**\r\n\r\n    Occurrences: {1=2, 2=1, 4=1, 5=1, 6=1}\r\n\r\n---\r\n\r\n**Sample code** \r\n\r\n    public static void main(String[] args) {\r\n    \tSystem.out.println(sum(combinationSum(List.of(1, 2, 4, 6, 6, 6), 12)));\r\n        System.out.println(combinationSum(List.of(1, 3, 3, 6, 5, 6), 12));\r\n        System.out.println(combinationSum(List.of(1, 2, 1, 4, 5, 6), 6));\r\n    }\r\n    \r\n    public static int sum(List&lt;List&lt;Integer&gt;&gt; numbers)\r\n    {\r\n    \tint sum = 0;\r\n    \tint n = 0;\r\n    \twhile(n &lt; numbers.size()){\r\n    \t\tsum += numbers.get(n).stream().mapToInt(Integer::intValue).sum();\r\n    \t\t++n;\r\n    \t}\r\n    \treturn sum;\r\n    }\r\n    \r\n    public static List&lt;List&lt;Integer&gt;&gt; combinationSum(List&lt;Integer&gt; candidates, int target) {\r\n        List&lt;List&lt;Integer&gt;&gt; res = new ArrayList&lt;&gt;();\r\n        List&lt;Integer&gt; ds = new ArrayList&lt;Integer&gt;();\r\n        findCombinations(res, ds, target, candidates, 0);\r\n        return res;\r\n    }\r\n    \r\n    private static void findCombinations(List&lt;List&lt;Integer&gt;&gt; res, List&lt;Integer&gt; ds, int target, List&lt;Integer&gt; arr, int index ){\r\n        if(target == 0){res.add(new ArrayList&lt;&gt;(ds));  return;}\r\n        \r\n        for(int i= index ; i&lt;arr.size(); i++){\r\n                if(i&gt;index &amp;&amp; arr.get(i) == arr.get(i-1)) continue;\r\n                if(arr.get(i) &gt; target) break;\r\n                ds.add(arr.get(i));\r\n                findCombinations( res, ds, target-arr.get(i) , arr, i+1);\r\n                ds.remove(ds.size()-1 );\r\n        }\r\n    }\r\n\r\n\r\n**Produces:**\r\n\r\n    24\r\n    [[1, 6, 5], [1, 5, 6], [3, 3, 6], [3, 3, 6], [6, 6]]\r\n    [[1, 1, 4], [1, 5], [2, 4], [1, 5], [6]]\r\n\r\n**Live running:** [https://www.jdoodle.com/ia/sHY][2]\r\n \r\n\r\n  [2]: https://www.jdoodle.com/ia/sHY","title":"Calculate the sum of dices based on target accurately","body":"<p>I am trying, to sum up score for a little dice game I made. The dice has the following values: <code>1-6</code>, the player can select <code>target</code>, <code>LOW = n &lt; 4</code>, <strong>1,2,3</strong>. The rest of the targets, <code>4, 5, 6, 7, 8, 9, 10, 11</code> and <code>12</code>.</p>\n<p>When a throw is done, sum up the total sum of the dices, based on <code>target</code> value. What this means, is, if <strong>LOW</strong> is select, then everything below <strong>4</strong>, is summed up. Otherwise, the process, must <strong>sum</strong> each dice till it reaches the target <strong>sum</strong>, and continue.\nIf, a throw is done, and I selected <code>6</code> as target, and get the following set: <code>{1, 1, 4, 2, 5, 6}</code>. We have a <code>6</code>, <code>5+1=6</code>, and <code>4+2=6</code>, we are left with <code>1</code> which is not counted.</p>\n<p><strong>Constraints:</strong></p>\n<ul>\n<li><em>1-6</em> dice values.</li>\n<li>Everything (Target) below <em>4</em>, is summed up.</li>\n<li>Everything (Target) selecting between <em>4, 5, 6, 7, 8, 9, 10, 11, &amp; 1</em>2, is processed differently.</li>\n<li>6 dices, can produces any number between <code>1-6</code>. This means, <code>[6,6,6,6,6,6]</code>, or <code>[1,1,3,5,4,2</code>], or some other set.</li>\n</ul>\n<p>The only thing important, is the sum that is calculated and nothing else, as long as it matches the input of dices.</p>\n<p><em>For example:</em></p>\n<ul>\n<li>If the <code>target</code> is <code>12</code> and a list of numbers is <code>[6, 6, 6, 6, 6, 6]</code> then return value should be <code>36</code>.</li>\n<li>If we receive a list of numbers <code>[1, 3, 4, 5, 6, 6]</code> and a <code>target</code> is should be <code>12</code> (<code>5+1+6=12</code> and also <code>5+4+3=12</code>, however, numbers can only be used once and not reused, therefore only one of the combinations can contribute the result).</li>\n</ul>\n<hr />\n<p>Below is a method, which gives the occurrences of a dice.</p>\n<pre><code>public static TreeMap&lt;Integer, Integer&gt; countOccurrences(List&lt;Integer&gt; numbers){\n        TreeMap&lt;Integer, Integer&gt; map = new TreeMap&lt;Integer, Integer&gt;();\n        \n    int i = 0;\n    for(int n: numbers) {\n        if(map.containsKey(n)) {\n            i = map.get(n);\n            map.put(n, ++i);\n        }\n        else\n            map.put(n, 1);\n    }\n    return map;\n}\n</code></pre>\n<p><strong>Results:</strong></p>\n<pre><code>Occurrences: {1=2, 2=1, 4=1, 5=1, 6=1}\n</code></pre>\n<hr />\n<p><strong>Sample code</strong></p>\n<pre><code>public static void main(String[] args) {\n    System.out.println(sum(combinationSum(List.of(1, 2, 4, 6, 6, 6), 12)));\n    System.out.println(combinationSum(List.of(1, 3, 3, 6, 5, 6), 12));\n    System.out.println(combinationSum(List.of(1, 2, 1, 4, 5, 6), 6));\n}\n\npublic static int sum(List&lt;List&lt;Integer&gt;&gt; numbers)\n{\n    int sum = 0;\n    int n = 0;\n    while(n &lt; numbers.size()){\n        sum += numbers.get(n).stream().mapToInt(Integer::intValue).sum();\n        ++n;\n    }\n    return sum;\n}\n\npublic static List&lt;List&lt;Integer&gt;&gt; combinationSum(List&lt;Integer&gt; candidates, int target) {\n    List&lt;List&lt;Integer&gt;&gt; res = new ArrayList&lt;&gt;();\n    List&lt;Integer&gt; ds = new ArrayList&lt;Integer&gt;();\n    findCombinations(res, ds, target, candidates, 0);\n    return res;\n}\n\nprivate static void findCombinations(List&lt;List&lt;Integer&gt;&gt; res, List&lt;Integer&gt; ds, int target, List&lt;Integer&gt; arr, int index ){\n    if(target == 0){res.add(new ArrayList&lt;&gt;(ds));  return;}\n    \n    for(int i= index ; i&lt;arr.size(); i++){\n            if(i&gt;index &amp;&amp; arr.get(i) == arr.get(i-1)) continue;\n            if(arr.get(i) &gt; target) break;\n            ds.add(arr.get(i));\n            findCombinations( res, ds, target-arr.get(i) , arr, i+1);\n            ds.remove(ds.size()-1 );\n    }\n}\n</code></pre>\n<p><strong>Produces:</strong></p>\n<pre><code>24\n[[1, 6, 5], [1, 5, 6], [3, 3, 6], [3, 3, 6], [6, 6]]\n[[1, 1, 4], [1, 5], [2, 4], [1, 5], [6]]\n</code></pre>\n<p><strong>Live running:</strong> <a href=\"https://www.jdoodle.com/ia/sHY\" rel=\"nofollow noreferrer\">https://www.jdoodle.com/ia/sHY</a></p>\n"},{"tags":["java","spring-boot","rest","http","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":25457848,"reputation":1,"user_id":19258190,"display_name":"Hari Prasath"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656520433,"creation_date":1656520433,"answer_id":72804946,"question_id":72804208,"body_markdown":"503 is a error code, which means service or url or controller, that you are requested is not running/available, make sure your jar file is running and also make sure the url you requested is valid. since service is not available you cant see any logs or error messages. because your controller dint receive any request yet.","title":"Http 503 for some Rest api call","body":"<p>503 is a error code, which means service or url or controller, that you are requested is not running/available, make sure your jar file is running and also make sure the url you requested is valid. since service is not available you cant see any logs or error messages. because your controller dint receive any request yet.</p>\n"},{"tags":[],"owner":{"account_id":3741091,"reputation":86,"user_id":3110869,"display_name":"shylesh krishna"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656520841,"creation_date":1656520841,"answer_id":72805015,"question_id":72804208,"body_markdown":"The 503  error indicate that the server is not ready to handle the request.\r\n\r\nThere are some limitations for transferring data through URL , basically the length of the URL \r\nIn general the limit was 2047 chars and it is different for  different browsers ","title":"Http 503 for some Rest api call","body":"<p>The 503  error indicate that the server is not ready to handle the request.</p>\n<p>There are some limitations for transferring data through URL , basically the length of the URL\nIn general the limit was 2047 chars and it is different for  different browsers</p>\n"},{"tags":[],"owner":{"display_name":"user15773347"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656524554,"creation_date":1656524554,"answer_id":72805737,"question_id":72804208,"body_markdown":"503 means Service Unavailable.\r\n\r\nI think something is wrong with your request. \r\n\r\nYou can try to add a custom OncePerRequestFilter and log your HTTP Request.\r\n\r\n","title":"Http 503 for some Rest api call","body":"<p>503 means Service Unavailable.</p>\n<p>I think something is wrong with your request.</p>\n<p>You can try to add a custom OncePerRequestFilter and log your HTTP Request.</p>\n"}],"owner":{"account_id":1590745,"reputation":1436,"user_id":1474111,"accept_rate":27,"display_name":"user1474111"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1482,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1656524554,"creation_date":1656517095,"question_id":72804208,"body_markdown":"I am running an SpringBoot application and I have a controller which defines Rest Api and accepts a request by a list of ids. Normally it works fine but if number of ids gets bigger, then I receive http 503. Interesting thing is that I cannot see any logs that my request was received by controller as well. Therefore I am not able to understand what is happening. Do you have any idea what can be worth to check ?","title":"Http 503 for some Rest api call","body":"<p>I am running an SpringBoot application and I have a controller which defines Rest Api and accepts a request by a list of ids. Normally it works fine but if number of ids gets bigger, then I receive http 503. Interesting thing is that I cannot see any logs that my request was received by controller as well. Therefore I am not able to understand what is happening. Do you have any idea what can be worth to check ?</p>\n"},{"tags":["java","logging","junit","error-handling"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":1,"creation_date":1656524192,"post_id":72790471,"comment_id":128596428,"body_markdown":"Does `gson.toJson(roleDTOEmployee.orElse(null))` work? It seems like [gson doesn&#39;t support `Optional`](https://github.com/google/gson/issues/1102).","body":"Does <code>gson.toJson(roleDTOEmployee.orElse(null))</code> work? It seems like <a href=\"https://github.com/google/gson/issues/1102\" rel=\"nofollow noreferrer\">gson doesn&#39;t support <code>Optional</code></a>."}],"answers":[{"tags":[],"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1656524367,"creation_date":1656524367,"answer_id":72805697,"question_id":72790471,"body_markdown":"This error typically thrown if you are using higher JDK version (8+) &amp; one of modules (in this case `com.google.gson.Gson` is compatible with lower JDK version). \r\n\r\n\r\nCan you please check both  JDK version Gson version downgrade your JDK if possible &amp; required. That way your error might be gone. Other possibility is to upgrade `com.google.gson.Gson` version so that it is compatible with your JDK.\r\n\r\nAnother workaround (which is typically not recommended) is pass VM args to avoid above error:\r\n\r\n    -Xmx1536M --add-exports=java.base/sun.nio.ch=ALL-UNNAMED --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.lang.reflect=ALL-UNNAMED --add-opens=java.base/java.io=ALL-UNNAMED --add-exports=jdk.unsupported/sun.misc=ALL-UNNAMED\r\n\r\n\r\n","title":"java.lang.reflect.InaccessibleObjectException: Unable to make field private final java.lang.Object java.util.Optional.value accessible:","body":"<p>This error typically thrown if you are using higher JDK version (8+) &amp; one of modules (in this case <code>com.google.gson.Gson</code> is compatible with lower JDK version).</p>\n<p>Can you please check both  JDK version Gson version downgrade your JDK if possible &amp; required. That way your error might be gone. Other possibility is to upgrade <code>com.google.gson.Gson</code> version so that it is compatible with your JDK.</p>\n<p>Another workaround (which is typically not recommended) is pass VM args to avoid above error:</p>\n<pre><code>-Xmx1536M --add-exports=java.base/sun.nio.ch=ALL-UNNAMED --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.lang.reflect=ALL-UNNAMED --add-opens=java.base/java.io=ALL-UNNAMED --add-exports=jdk.unsupported/sun.misc=ALL-UNNAMED\n</code></pre>\n"}],"owner":{"account_id":25141176,"reputation":65,"user_id":18987492,"display_name":"Harsh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17986,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":72805697,"answer_count":1,"score":4,"last_activity_date":1656524367,"creation_date":1656435338,"question_id":72790471,"body_markdown":"```\r\njava.lang.reflect.InaccessibleObjectException: Unable to make field private final java.lang.Object java.util.Optional.value accessible: module java.base does not &quot;opens java.util&quot; to unnamed module @6b26e945\r\n```\r\nI am getting this error when I run my JUnit code.\r\nError arises around the following code block.\r\n```\r\nOptional&lt;RolesDTO&gt; roleDTOEmployee = roles.stream()\r\n        .filter(r -&gt; r.getName().equals(RolesEnum.valueOf(roleName).getRoleName())).findFirst();\r\n\r\nif (logger.isInfoEnabled()) {\r\n    logger.info(&quot;roleDTOEmployee {}&quot;, gson.toJson(roleDTOEmployee));\r\n}\r\n```\r\n\r\nstacktrace:\r\n```\r\nat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\r\n\tat java.base/java.lang.reflect.Field.checkCanSetAccessible(Field.java:178)\r\n\tat java.base/java.lang.reflect.Field.setAccessible(Field.java:172)\r\n\tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:157)\r\n\tat com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:100)\r\n\tat com.google.gson.Gson.getAdapter(Gson.java:423)\r\n\tat com.google.gson.Gson.toJson(Gson.java:661)\r\n\tat com.google.gson.Gson.toJson(Gson.java:648)\r\n\tat com.google.gson.Gson.toJson(Gson.java:603)\r\n\tat com.google.gson.Gson.toJson(Gson.java:583)\r\n```\r\non removing logger.info(), code JUnit runs perfectly. I would like to understand this behaviour. And is there a workaround it, so I don&#39;t have to remove logger.\r\n","title":"java.lang.reflect.InaccessibleObjectException: Unable to make field private final java.lang.Object java.util.Optional.value accessible:","body":"<pre><code>java.lang.reflect.InaccessibleObjectException: Unable to make field private final java.lang.Object java.util.Optional.value accessible: module java.base does not &quot;opens java.util&quot; to unnamed module @6b26e945\n</code></pre>\n<p>I am getting this error when I run my JUnit code.\nError arises around the following code block.</p>\n<pre><code>Optional&lt;RolesDTO&gt; roleDTOEmployee = roles.stream()\n        .filter(r -&gt; r.getName().equals(RolesEnum.valueOf(roleName).getRoleName())).findFirst();\n\nif (logger.isInfoEnabled()) {\n    logger.info(&quot;roleDTOEmployee {}&quot;, gson.toJson(roleDTOEmployee));\n}\n</code></pre>\n<p>stacktrace:</p>\n<pre><code>at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\n    at java.base/java.lang.reflect.Field.checkCanSetAccessible(Field.java:178)\n    at java.base/java.lang.reflect.Field.setAccessible(Field.java:172)\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.getBoundFields(ReflectiveTypeAdapterFactory.java:157)\n    at com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.create(ReflectiveTypeAdapterFactory.java:100)\n    at com.google.gson.Gson.getAdapter(Gson.java:423)\n    at com.google.gson.Gson.toJson(Gson.java:661)\n    at com.google.gson.Gson.toJson(Gson.java:648)\n    at com.google.gson.Gson.toJson(Gson.java:603)\n    at com.google.gson.Gson.toJson(Gson.java:583)\n</code></pre>\n<p>on removing logger.info(), code JUnit runs perfectly. I would like to understand this behaviour. And is there a workaround it, so I don't have to remove logger.</p>\n"},{"tags":["java","firebase","firebase-realtime-database","google-cloud-firestore"],"comments":[{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":0,"creation_date":1656473739,"post_id":72791119,"comment_id":128578438,"body_markdown":"`ApiFuture` can [have listeners set](https://cloud.google.com/java/docs/reference/api-common/latest/com.google.api.core.ApiFuture), even in pure Java... Without a listener you would need something like await to wait for the task to complete. When the task is complete you can get the QuerySnapshot itself and get document IDs to call delete on.","body":"<code>ApiFuture</code> can <a href=\"https://cloud.google.com/java/docs/reference/api-common/latest/com.google.api.core.ApiFuture\" rel=\"nofollow noreferrer\">have listeners set</a>, even in pure Java... Without a listener you would need something like await to wait for the task to complete. When the task is complete you can get the QuerySnapshot itself and get document IDs to call delete on."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1657096511,"post_id":72791119,"comment_id":128725648,"body_markdown":"Maye this [answer](https://stackoverflow.com/questions/69437683/firestore-or-queries-using-java) will help.","body":"Maye this <a href=\"https://stackoverflow.com/questions/69437683/firestore-or-queries-using-java\">answer</a> will help."}],"answers":[{"tags":[],"owner":{"account_id":22773153,"reputation":1149,"user_id":16930243,"display_name":"Jose German Perez Sanchez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1656524285,"creation_date":1656524285,"answer_id":72805682,"question_id":72791119,"body_markdown":"To delete the list of documents one by one, you can use the delete() function as in the following example:\r\n\r\n\r\n    // [START firestore_data_delete_doc]\r\n    // asynchronously delete a document\r\n    \r\n    ApiFuture&lt;WriteResult&gt; writeResult = db.collection(&quot;cities&quot;).document(&quot;DC&quot;).delete();\r\n    \r\n    // ...\r\n    \r\n    System.out.println(&quot;Update time : &quot; + writeResult.get().getUpdateTime());\r\n    \r\n    // [END firestore_data_delete_doc]\r\n\r\n\r\n\r\nIt is important to note that Cloud Firestore does not automatically remove the documents in its subcollections when you delete a document. By reference, you can still access the papers in the subcollection.\r\n\r\nA document must be deleted [manually][1] along with all of the documents contained in any subcollections.\r\n\r\n[1]: https://firebase.google.com/docs/firestore/manage-data/delete-data#collections","title":"firestore delete a specific document using Java","body":"<p>To delete the list of documents one by one, you can use the delete() function as in the following example:</p>\n<pre><code>// [START firestore_data_delete_doc]\n// asynchronously delete a document\n\nApiFuture&lt;WriteResult&gt; writeResult = db.collection(&quot;cities&quot;).document(&quot;DC&quot;).delete();\n\n// ...\n\nSystem.out.println(&quot;Update time : &quot; + writeResult.get().getUpdateTime());\n\n// [END firestore_data_delete_doc]\n</code></pre>\n<p>It is important to note that Cloud Firestore does not automatically remove the documents in its subcollections when you delete a document. By reference, you can still access the papers in the subcollection.</p>\n<p>A document must be deleted <a href=\"https://firebase.google.com/docs/firestore/manage-data/delete-data#collections\" rel=\"nofollow noreferrer\">manually</a> along with all of the documents contained in any subcollections.</p>\n"}],"owner":{"account_id":3252649,"reputation":230,"user_id":2742526,"accept_rate":100,"display_name":"aarav"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":148,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":72805682,"answer_count":1,"score":0,"last_activity_date":1656524285,"creation_date":1656438958,"question_id":72791119,"body_markdown":"Connected to the Firestore database using below code,\r\n```\r\nQuery query = dbFirestore.collection(&quot;collectionName&quot;).whereEqualTo(&quot;columnName ==&quot;,XXX);\r\nApiFuture&lt;QuerySnapshot&gt; apiFutureResults = query.get();\r\n```\r\nFrom ApiFuture, apiFutureResults.get() ? How to delete the list of documents one by one from here. In my case its only one document for the given condition.  I don&#39;t see any delete function underneath *apiFutureResults* .\r\n\r\n**FYI.** This is pure Java Application. No Android. So No listeners please.","title":"firestore delete a specific document using Java","body":"<p>Connected to the Firestore database using below code,</p>\n<pre><code>Query query = dbFirestore.collection(&quot;collectionName&quot;).whereEqualTo(&quot;columnName ==&quot;,XXX);\nApiFuture&lt;QuerySnapshot&gt; apiFutureResults = query.get();\n</code></pre>\n<p>From ApiFuture, apiFutureResults.get() ? How to delete the list of documents one by one from here. In my case its only one document for the given condition.  I don't see any delete function underneath <em>apiFutureResults</em> .</p>\n<p><strong>FYI.</strong> This is pure Java Application. No Android. So No listeners please.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1656521479,"post_id":72805116,"comment_id":128595471,"body_markdown":"You need to make two arrays and copy manually.","body":"You need to make two arrays and copy manually."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1656521523,"post_id":72805116,"comment_id":128595482,"body_markdown":"Does this answer your question? [Make copy of an array](https://stackoverflow.com/questions/5785745/make-copy-of-an-array)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/5785745/make-copy-of-an-array\">Make copy of an array</a>"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1656521678,"post_id":72805116,"comment_id":128595532,"body_markdown":"You are asking about arrays, but your example is showing *List*. Those are different types, with different API, syntax, and properties.","body":"You are asking about arrays, but your example is showing <i>List</i>. Those are different types, with different API, syntax, and properties."},{"owner":{"account_id":25683154,"reputation":3,"user_id":19445648,"display_name":"Mix32"},"score":0,"creation_date":1656522081,"post_id":72805116,"comment_id":128595680,"body_markdown":"yeah my bad, it should be list.","body":"yeah my bad, it should be list."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":3,"creation_date":1656522869,"post_id":72805116,"comment_id":128595963,"body_markdown":"Feel free to correct it. Use [edit] option to clarify your question (specifically its title).","body":"Feel free to correct it. Use <a href=\"https://stackoverflow.com/posts/72805116/edit\">edit</a> option to clarify your question (specifically its title)."}],"answers":[{"tags":[],"owner":{"account_id":14377484,"reputation":44,"user_id":10385597,"display_name":"toolateitsme"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1656521827,"creation_date":1656521827,"answer_id":72805192,"question_id":72805116,"body_markdown":"If you want to split this list into sublist with fixed size - you can use Guava, or smth else\r\n\r\nYou can find related docs here - https://guava.dev/releases/31.0-jre/api/docs/com/google/common/collect/Lists.html#partition(java.util.List,int)\r\n\r\nExample: \r\n\r\n```\r\n    List&lt;Integer&gt; intList = Lists.newArrayList(1, 2, 3, 4, 5, 6, 7, 8);\r\n    List&lt;List&lt;Integer&gt;&gt; subSets = Lists.partition(intList, 3);\r\n```","title":"How do I split a list with fixed size number into another list?","body":"<p>If you want to split this list into sublist with fixed size - you can use Guava, or smth else</p>\n<p>You can find related docs here - <a href=\"https://guava.dev/releases/31.0-jre/api/docs/com/google/common/collect/Lists.html#partition(java.util.List,int)\" rel=\"nofollow noreferrer\">https://guava.dev/releases/31.0-jre/api/docs/com/google/common/collect/Lists.html#partition(java.util.List,int)</a></p>\n<p>Example:</p>\n<pre><code>    List&lt;Integer&gt; intList = Lists.newArrayList(1, 2, 3, 4, 5, 6, 7, 8);\n    List&lt;List&lt;Integer&gt;&gt; subSets = Lists.partition(intList, 3);\n</code></pre>\n"}],"owner":{"account_id":25683154,"reputation":3,"user_id":19445648,"display_name":"Mix32"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":360,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72805192,"answer_count":1,"score":0,"last_activity_date":1656523820,"creation_date":1656521386,"question_id":72805116,"body_markdown":"So I have a loop in regex,\r\n\r\n    List&lt;String&gt; data = new ArrayList&lt;&gt;();\r\n    List&lt;String&gt; inputData = // String array\r\n    \r\n    Pattern pattern = Pattern.compile(regex);\r\n    inputData.forEach(i -&gt; {\r\n        Matcher matcher = pattern.matcher(i);\r\n        while(matcher.find()) {\r\n            data.add(matcher.group().trim());\r\n        }\r\n    });\r\n\r\nNow data will have an array of strings like this,\r\n \r\n\r\n    data = [&#39;text&#39;, &#39;text2&#39;, &#39;text3&#39;, &#39;text4&#39;, &#39;text5&#39;, &#39;text6&#39;]\r\n\r\nI want to divide this array of strings into a fixed size of 3.\r\n \r\n\r\n    data = [[&#39;text&#39;, &#39;text2&#39;, &#39;text3&#39;], [&#39;text4&#39;, &#39;text5&#39;, &#39;text6&#39;]]\r\n","title":"How do I split a list with fixed size number into another list?","body":"<p>So I have a loop in regex,</p>\n<pre><code>List&lt;String&gt; data = new ArrayList&lt;&gt;();\nList&lt;String&gt; inputData = // String array\n\nPattern pattern = Pattern.compile(regex);\ninputData.forEach(i -&gt; {\n    Matcher matcher = pattern.matcher(i);\n    while(matcher.find()) {\n        data.add(matcher.group().trim());\n    }\n});\n</code></pre>\n<p>Now data will have an array of strings like this,</p>\n<pre><code>data = ['text', 'text2', 'text3', 'text4', 'text5', 'text6']\n</code></pre>\n<p>I want to divide this array of strings into a fixed size of 3.</p>\n<pre><code>data = [['text', 'text2', 'text3'], ['text4', 'text5', 'text6']]\n</code></pre>\n"},{"tags":["java","postgresql","jpa","spring-data"],"comments":[{"owner":{"account_id":19254723,"reputation":2061,"user_id":14071914,"display_name":"JustAnotherDeveloper"},"score":0,"creation_date":1656522883,"post_id":72805339,"comment_id":128595969,"body_markdown":"Are the tags always in the same order in that database table, or might we see one row where the tag colum is &quot;tag1,tag2,tag3&quot; and another where it is &quot;tag2,tag3,tag1&quot;?","body":"Are the tags always in the same order in that database table, or might we see one row where the tag colum is &quot;tag1,tag2,tag3&quot; and another where it is &quot;tag2,tag3,tag1&quot;?"},{"owner":{"account_id":25679784,"reputation":85,"user_id":19442733,"display_name":"TDev"},"score":0,"creation_date":1656523489,"post_id":72805339,"comment_id":128596177,"body_markdown":"They are not in the same order, this was an example. I can&#39;t predict the number of tags and not even which ones it will be...","body":"They are not in the same order, this was an example. I can&#39;t predict the number of tags and not even which ones it will be..."},{"owner":{"account_id":19254723,"reputation":2061,"user_id":14071914,"display_name":"JustAnotherDeveloper"},"score":0,"creation_date":1656524124,"post_id":72805339,"comment_id":128596403,"body_markdown":"Then you might need JPA Criteria Queries for that, build and chain some predicates that each compares with one of the tags in the array: https://www.baeldung.com/hibernate-criteria-queries","body":"Then you might need JPA Criteria Queries for that, build and chain some predicates that each compares with one of the tags in the array: <a href=\"https://www.baeldung.com/hibernate-criteria-queries\" rel=\"nofollow noreferrer\">baeldung.com/hibernate-criteria-queries</a>"}],"owner":{"account_id":25679784,"reputation":85,"user_id":19442733,"display_name":"TDev"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1656523635,"creation_date":1656522553,"question_id":72805339,"body_markdown":"I have a postgres db table named &quot;challenge&quot; which contains a &#39;tags&#39; text column in that each tags of the challenge is stored as &quot;tag1,tag2,tag3...&quot;.\r\n\r\nSo I need to make a request that can check if a challenge contains all tags in the provided array but I don&#39;t know how to make this.\r\n\r\nMy repository method:\r\n\r\n```java\r\n@Query(?)\r\nPage&lt;Challenge&gt; findByTags(String[] tags, Pageable pageable);\r\n```\r\n\r\nWhat i&#39;ve done so far it&#39;s a query which works with one tag but not with an array:\r\n\r\n```sql\r\nSELECT * FROM challenge WHERE tags LIKE &#39;%&#39; || :tag || &#39;%&#39;;\r\n```\r\n","title":"JpaRepository make a query to select all element that contains the array of tags","body":"<p>I have a postgres db table named &quot;challenge&quot; which contains a 'tags' text column in that each tags of the challenge is stored as &quot;tag1,tag2,tag3...&quot;.</p>\n<p>So I need to make a request that can check if a challenge contains all tags in the provided array but I don't know how to make this.</p>\n<p>My repository method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Query(?)\nPage&lt;Challenge&gt; findByTags(String[] tags, Pageable pageable);\n</code></pre>\n<p>What i've done so far it's a query which works with one tag but not with an array:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT * FROM challenge WHERE tags LIKE '%' || :tag || '%';\n</code></pre>\n"},{"tags":["java","if-statement","joptionpane"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":2,"creation_date":1656525062,"post_id":72805261,"comment_id":128596750,"body_markdown":"Before you do anything else, read https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java.  For a delayed Swing action, look into the [Timer](https://docs.oracle.com/en/java/javase/18/docs/api/java.desktop/javax/swing/Timer.html) class.","body":"Before you do anything else, read <a href=\"https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java\" title=\"how do i compare strings in java\">stackoverflow.com/questions/513832/&hellip;</a>.  For a delayed Swing action, look into the <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.desktop/javax/swing/Timer.html\" rel=\"nofollow noreferrer\">Timer</a> class."}],"answers":[{"tags":[],"owner":{"account_id":21467359,"reputation":1,"user_id":15817058,"display_name":"OSX_VINCH"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1656523600,"creation_date":1656523600,"answer_id":72805566,"question_id":72805261,"body_markdown":"I belive you just need to add Thread.sleep(n); before the JOptionPane \r\n\r\nremember to import: java.lang.Thread;\r\n\r\ntime is in ms so 15seconds is gonna be 15000.\r\n\r\n    if (null==moviename|| moviename.trim().isEmpty()) {\r\n        try {  \r\n            Thread.sleep(15000);\r\n        } catch (InterruptedException e) {\r\n            System.out.print(&quot;Sleep problem of type: &quot;+e);\r\n        }\r\n        JOptionPane.showMessageDialog(null, &quot;You did not enter anything&quot;);\r\n        } else {             \r\n        JOptionPane.showMessageDialog(null, moviename + &quot;, sounds like a good watch.&quot;);  \r\n        }","title":"Can you make a JOptionPane.showMessageDialog appear after a duration of time?","body":"<p>I belive you just need to add Thread.sleep(n); before the JOptionPane</p>\n<p>remember to import: java.lang.Thread;</p>\n<p>time is in ms so 15seconds is gonna be 15000.</p>\n<pre><code>if (null==moviename|| moviename.trim().isEmpty()) {\n    try {  \n        Thread.sleep(15000);\n    } catch (InterruptedException e) {\n        System.out.print(&quot;Sleep problem of type: &quot;+e);\n    }\n    JOptionPane.showMessageDialog(null, &quot;You did not enter anything&quot;);\n    } else {             \n    JOptionPane.showMessageDialog(null, moviename + &quot;, sounds like a good watch.&quot;);  \n    }\n</code></pre>\n"}],"owner":{"account_id":25665469,"reputation":1,"user_id":19430524,"display_name":"Rohaan Khan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656523600,"creation_date":1656522089,"question_id":72805261,"body_markdown":"I have a question regarding how someone was to make a JOptionPane.showMesageDialog(); appear within a duration of time. For example, my program is supposed to ask about the user&#39;s favorite movie, Subsequently at least 15 seconds after the user answers, my program is supposed to ask &quot;are you there?&quot;, giving them the option of replying with Yes, no, or maybe. \r\nHow exactly can I do that? (if that&#39;s possible)\r\n\r\nhere&#39;s my code\r\n\r\n    ```\r\n    if (null==moviename|| moviename.trim().isEmpty()) {\r\n    \t\t\tJOptionPane.showMessageDialog(null, &quot;You did not enter anything&quot;);\r\n    \t\t} else {             JOptionPane.showMessageDialog(null, moviename + &quot;, sounds like a good watch.&quot;);  \r\n    \t\t}\r\n  ```\r\n\r\n  String ques=JOptionPane.showInputDialog(&quot;Are you there? Yes? No? Maybe?&quot;);\r\n    if (ques==&quot;yes&quot;) {\r\n    JOptionPane.showMessageDialog(null,&quot;Great To hear!&quot;);\r\n    } else if (ques==&quot;no&quot;) {\r\n    JOptionPane.showMessageDialog(null,&quot;Thats odd..&quot;);\r\n    } else if (ques==&quot;maybe&quot; || ques==&quot;Maybe&quot; ) {\r\n    \tJOptionPane.showMessageDialog(null, &quot;That was rhetorical...&quot;);\r\n    }\r\n    \t}\r\n    ```","title":"Can you make a JOptionPane.showMessageDialog appear after a duration of time?","body":"<p>I have a question regarding how someone was to make a JOptionPane.showMesageDialog(); appear within a duration of time. For example, my program is supposed to ask about the user's favorite movie, Subsequently at least 15 seconds after the user answers, my program is supposed to ask &quot;are you there?&quot;, giving them the option of replying with Yes, no, or maybe.\nHow exactly can I do that? (if that's possible)</p>\n<p>here's my code</p>\n<pre><code>```\nif (null==moviename|| moviename.trim().isEmpty()) {\n            JOptionPane.showMessageDialog(null, &quot;You did not enter anything&quot;);\n        } else {             JOptionPane.showMessageDialog(null, moviename + &quot;, sounds like a good watch.&quot;);  \n        }\n</code></pre>\n<pre><code>\nString ques=JOptionPane.showInputDialog(&quot;Are you there? Yes? No? Maybe?&quot;);\n  if (ques==&quot;yes&quot;) {\n  JOptionPane.showMessageDialog(null,&quot;Great To hear!&quot;);\n  } else if (ques==&quot;no&quot;) {\n  JOptionPane.showMessageDialog(null,&quot;Thats odd..&quot;);\n  } else if (ques==&quot;maybe&quot; || ques==&quot;Maybe&quot; ) {\n      JOptionPane.showMessageDialog(null, &quot;That was rhetorical...&quot;);\n  }\n      }\n  ```\n</code></pre>\n"},{"tags":["java","spring-boot","rollback"],"comments":[{"owner":{"account_id":1852014,"reputation":24139,"user_id":1678362,"display_name":"Aaron"},"score":1,"creation_date":1656492689,"post_id":72798473,"comment_id":128583583,"body_markdown":"put your save call into the if after the try","body":"put your save call into the if after the try"},{"owner":{"account_id":25376058,"reputation":1338,"user_id":19189183,"display_name":"Sayan Bhattacharya"},"score":0,"creation_date":1656492859,"post_id":72798473,"comment_id":128583646,"body_markdown":"If you want to save the `user` regardless of any exceptions then you can put  `userRepository.save(user);` in the `finally`  block of the used `try-catch`","body":"If you want to save the <code>user</code> regardless of any exceptions then you can put  <code>userRepository.save(user);</code> in the <code>finally</code>  block of the used <code>try-catch</code>"},{"owner":{"display_name":"user18772237"},"score":0,"creation_date":1656493228,"post_id":72798473,"comment_id":128583795,"body_markdown":"I can&#39;t do this because my if statement depends on the update","body":"I can&#39;t do this because my if statement depends on the update"},{"owner":{"account_id":10500523,"reputation":520,"user_id":7739375,"accept_rate":40,"display_name":"bloub"},"score":0,"creation_date":1656493322,"post_id":72798473,"comment_id":128583825,"body_markdown":"&quot;when it goes into exception, the database is not updated&quot;. Are you sure that the exception raised is a MailToNotFoundException ?","body":"&quot;when it goes into exception, the database is not updated&quot;. Are you sure that the exception raised is a MailToNotFoundException ?"},{"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"score":0,"creation_date":1656493432,"post_id":72798473,"comment_id":128583869,"body_markdown":"so apparently if exception is thrown from your method, db is not updated but you want to update your db even after exception is thrown? is that the case?","body":"so apparently if exception is thrown from your method, db is not updated but you want to update your db even after exception is thrown? is that the case?"},{"owner":{"display_name":"user18772237"},"score":0,"creation_date":1656493559,"post_id":72798473,"comment_id":128583908,"body_markdown":"@bloub yes, in the log i can see MailNotFoundException","body":"@bloub yes, in the log i can see MailNotFoundException"},{"owner":{"display_name":"user18772237"},"score":0,"creation_date":1656493591,"post_id":72798473,"comment_id":128583918,"body_markdown":"@AshishPatil yes, i wanna my db got updated independently if throw exception or not","body":"@AshishPatil yes, i wanna my db got updated independently if throw exception or not"},{"owner":{"account_id":10500523,"reputation":520,"user_id":7739375,"accept_rate":40,"display_name":"bloub"},"score":0,"creation_date":1656493864,"post_id":72798473,"comment_id":128584033,"body_markdown":"I think there might be something wrong in you save method. Like a commit() to the database missing (and maybe done further in your code). But it&#39;s wild guess.","body":"I think there might be something wrong in you save method. Like a commit() to the database missing (and maybe done further in your code). But it&#39;s wild guess."},{"owner":{"display_name":"user18772237"},"score":0,"creation_date":1656493947,"post_id":72798473,"comment_id":128584072,"body_markdown":"Guys i solved with &quot;@Transactional(noRollbackFor = MailToNotFoundException.class)&quot;","body":"Guys i solved with &quot;@Transactional(noRollbackFor = MailToNotFoundException.class)&quot;"},{"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"score":0,"creation_date":1656494113,"post_id":72798473,"comment_id":128584131,"body_markdown":"@sweet, for handling any general purpose exception, consider using `flush()` inside exception before calling `throw new Exception()..`","body":"@sweet, for handling any general purpose exception, consider using <code>flush()</code> inside exception before calling <code>throw new Exception()..</code>"}],"owner":{"display_name":"user18772237"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":476,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1656523497,"creation_date":1656492573,"question_id":72798473,"body_markdown":"My method makes an update on the database, and then after it tries to send an email, the latter could go into exception, and when it goes into exception, the database is not updated. How can I solve? Thanks in advance\r\n```\r\nuserRepository.save(user);\r\n\r\nif (user.isAccepted()) {\r\n    try {\r\n        mailSender.sendEmail(user);\r\n    } catch (Exception e) {\r\n        throw new MailToNotFoundException(ex);\r\n    }\r\n}\r\n```","title":"Java wait for the operation to finish to continue","body":"<p>My method makes an update on the database, and then after it tries to send an email, the latter could go into exception, and when it goes into exception, the database is not updated. How can I solve? Thanks in advance</p>\n<pre><code>userRepository.save(user);\n\nif (user.isAccepted()) {\n    try {\n        mailSender.sendEmail(user);\n    } catch (Exception e) {\n        throw new MailToNotFoundException(ex);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","validation","enums"],"comments":[{"owner":{"account_id":4136921,"reputation":929,"user_id":3393379,"display_name":"thinkgruen"},"score":0,"creation_date":1656449620,"post_id":72792868,"comment_id":128574354,"body_markdown":"If I remember correctly, you need to add  JsonValue to your enum, supported by [this answer](https://stackoverflow.com/a/20421494/3393379) and from there you can handle the validation. seems like or would create some repetition, though.","body":"If I remember correctly, you need to add  JsonValue to your enum, supported by <a href=\"https://stackoverflow.com/a/20421494/3393379\">this answer</a> and from there you can handle the validation. seems like or would create some repetition, though."},{"owner":{"account_id":17079442,"reputation":51,"user_id":19299440,"display_name":"Lekan Swansons"},"score":1,"creation_date":1656449942,"post_id":72792868,"comment_id":128574439,"body_markdown":"Maybe could try creating your own exception handler?","body":"Maybe could try creating your own exception handler?"},{"owner":{"account_id":4136921,"reputation":929,"user_id":3393379,"display_name":"thinkgruen"},"score":0,"creation_date":1656450030,"post_id":72792868,"comment_id":128574459,"body_markdown":"I was able to dig up [this answer](https://stackoverflow.com/a/18209990/3393379) as well","body":"I was able to dig up <a href=\"https://stackoverflow.com/a/18209990/3393379\">this answer</a> as well"}],"answers":[{"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656511799,"creation_date":1656511799,"answer_id":72802840,"question_id":72792868,"body_markdown":"Your enumeration code misses some important meta-information.\r\n\r\n    @Target({ElementType.METHOD, ElementType.FIELD})\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Constraint(validatedBy=EnumStringValidator.class)\r\n    public @interface EnumString {\r\n        Class&lt;? extends Enum&lt;?&gt;&gt; enumClass();\r\n        String message() default &quot;must be any of enum {enumClass}&quot;;\r\n        Class&lt;?&gt;[] groups() default {};\r\n        Class&lt;? extends Payload&gt;[] payload() default {};\r\n    }","title":"How to throw a meaningful error message from an invalid enum request param in spring boot?","body":"<p>Your enumeration code misses some important meta-information.</p>\n<pre><code>@Target({ElementType.METHOD, ElementType.FIELD})\n@Retention(RetentionPolicy.RUNTIME)\n@Constraint(validatedBy=EnumStringValidator.class)\npublic @interface EnumString {\n    Class&lt;? extends Enum&lt;?&gt;&gt; enumClass();\n    String message() default &quot;must be any of enum {enumClass}&quot;;\n    Class&lt;?&gt;[] groups() default {};\n    Class&lt;? extends Payload&gt;[] payload() default {};\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25266045,"reputation":141,"user_id":19096205,"display_name":"Gojo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656522609,"creation_date":1656522609,"answer_id":72805354,"question_id":72792868,"body_markdown":"I ended up changing to the input parameter as a String instead of Type enum. I also used @Schema(implementation = RequestParams.Type.class) to maintain the dropdown in swagger. Then I added some validation in the java code to check if it matches the enum to throw a proper error message. \r\n\r\n```\r\n@Parameter(name = &quot;type&quot;) @Valid @RequestParam @Schema(implementation = RequestParams.Type.class) String type\r\n```","title":"How to throw a meaningful error message from an invalid enum request param in spring boot?","body":"<p>I ended up changing to the input parameter as a String instead of Type enum. I also used @Schema(implementation = RequestParams.Type.class) to maintain the dropdown in swagger. Then I added some validation in the java code to check if it matches the enum to throw a proper error message.</p>\n<pre><code>@Parameter(name = &quot;type&quot;) @Valid @RequestParam @Schema(implementation = RequestParams.Type.class) String type\n</code></pre>\n"}],"owner":{"account_id":25266045,"reputation":141,"user_id":19096205,"display_name":"Gojo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1605,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1656522609,"creation_date":1656448510,"question_id":72792868,"body_markdown":"I am accepting an enum parameter to my API but when I use an invalid param via Postman I get blank 400 Bad Request response. I want a meaningful error message like : &quot;invalid Type please insert ...&quot;\r\n\r\n```\r\n public ResponseEntity&lt;JsonNode&gt; getForType(\r\n\r\n    @Parameter(name = &quot;type&quot;) @Valid @RequestParam @EnumString(enumClass =  RequestParams.Type.class) RequestParams.Type type,\r\n...\r\n\r\n```\r\nEnumString.java:\r\n```\r\npublic @interface EnumString {\r\n    Class&lt;? extends Enum&lt;?&gt;&gt; enumClass();\r\n    String message() default &quot;must be any of enum {enumClass}&quot;;\r\n    Class&lt;?&gt;[] groups() default {};\r\n    Class&lt;? extends Payload&gt;[] payload() default {};\r\n}\r\n```\r\nEnumStringValidator.java:\r\n```\r\npublic class EnumStringValidator implements ConstraintValidator&lt;EnumString, Enum&gt; {\r\n    private List&lt;String&gt; acceptedValues;\r\n\r\n    @Override\r\n    public void initialize(EnumString annotation) {\r\n        acceptedValues = Stream.of(annotation.enumClass().getEnumConstants())\r\n                .map(Enum::name)\r\n                .collect(Collectors.toList());\r\n    }\r\n\r\n    @Override\r\n    public boolean isValid(Enum value, ConstraintValidatorContext context) {\r\n        if (value == null) {\r\n            return true;\r\n        }\r\n\r\n        return acceptedValues.contains(value.name());\r\n    }\r\n}\r\n}\r\n```\r\n\r\nI created a custom validator EnumString and EnumStringValidator but the type does not even get to the validator. If it is an invalid type then it doesn&#39;t even get into the validation. How can I keep the parameter as an Enum of Type and also throw an error message if a user passes an invalid one?","title":"How to throw a meaningful error message from an invalid enum request param in spring boot?","body":"<p>I am accepting an enum parameter to my API but when I use an invalid param via Postman I get blank 400 Bad Request response. I want a meaningful error message like : &quot;invalid Type please insert ...&quot;</p>\n<pre><code> public ResponseEntity&lt;JsonNode&gt; getForType(\n\n    @Parameter(name = &quot;type&quot;) @Valid @RequestParam @EnumString(enumClass =  RequestParams.Type.class) RequestParams.Type type,\n...\n\n</code></pre>\n<p>EnumString.java:</p>\n<pre><code>public @interface EnumString {\n    Class&lt;? extends Enum&lt;?&gt;&gt; enumClass();\n    String message() default &quot;must be any of enum {enumClass}&quot;;\n    Class&lt;?&gt;[] groups() default {};\n    Class&lt;? extends Payload&gt;[] payload() default {};\n}\n</code></pre>\n<p>EnumStringValidator.java:</p>\n<pre><code>public class EnumStringValidator implements ConstraintValidator&lt;EnumString, Enum&gt; {\n    private List&lt;String&gt; acceptedValues;\n\n    @Override\n    public void initialize(EnumString annotation) {\n        acceptedValues = Stream.of(annotation.enumClass().getEnumConstants())\n                .map(Enum::name)\n                .collect(Collectors.toList());\n    }\n\n    @Override\n    public boolean isValid(Enum value, ConstraintValidatorContext context) {\n        if (value == null) {\n            return true;\n        }\n\n        return acceptedValues.contains(value.name());\n    }\n}\n}\n</code></pre>\n<p>I created a custom validator EnumString and EnumStringValidator but the type does not even get to the validator. If it is an invalid type then it doesn't even get into the validation. How can I keep the parameter as an Enum of Type and also throw an error message if a user passes an invalid one?</p>\n"},{"tags":["java","spring-cloud-feign","openfeign"],"answers":[{"tags":[],"owner":{"account_id":1365317,"reputation":909,"user_id":1301881,"accept_rate":100,"display_name":"James Gawron"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1576096161,"creation_date":1576096161,"answer_id":59293601,"question_id":59293527,"body_markdown":"Headers accepts String[] for value ... So\r\n\r\n        @Headers({ &quot;username: {username}&quot;, &quot;password: {password}&quot; })\r\n\r\nShould do the trick","title":"Is there a way to add multiple headers when using Feign Client","body":"<p>Headers accepts String[] for value ... So</p>\n\n<pre><code>    @Headers({ \"username: {username}\", \"password: {password}\" })\n</code></pre>\n\n<p>Should do the trick</p>\n"},{"tags":[],"owner":{"account_id":11373567,"reputation":406,"user_id":8338512,"display_name":"Mohit Hurkat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641677830,"creation_date":1595831697,"answer_id":63109852,"question_id":59293527,"body_markdown":"&gt;     @RequestLine(&quot;POST /v1/users&quot;)\r\n&gt;     @Body(&quot;{userBody}&quot;)\r\n&gt;     Response createUser(@HeaderMap Map headerMap, @Param(value = &quot;userBody&quot;) String userBody);\r\n\r\n\r\nUpdated\r\n\r\n    @RequestLine(&quot;POST /v1/users&quot;) \r\n    Response createUser(String userBody, @HeaderMap Map headerMap);\r\n","title":"Is there a way to add multiple headers when using Feign Client","body":"<blockquote>\n<pre><code>@RequestLine(&quot;POST /v1/users&quot;)\n@Body(&quot;{userBody}&quot;)\nResponse createUser(@HeaderMap Map headerMap, @Param(value = &quot;userBody&quot;) String userBody);\n</code></pre>\n</blockquote>\n<p>Updated</p>\n<pre><code>@RequestLine(&quot;POST /v1/users&quot;) \nResponse createUser(String userBody, @HeaderMap Map headerMap);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1591602,"reputation":3575,"user_id":1474815,"accept_rate":0,"display_name":"Paulo Pedroso"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1641573158,"creation_date":1641573158,"answer_id":70624363,"question_id":59293527,"body_markdown":"I know it may be late but I am hopping to help others.\r\n\r\nWhat has worked for me:\r\n\r\n    import org.springframework.web.bind.annotation.PostMapping;\r\n    import org.springframework.web.bind.annotation.RequestBody;\r\n    import org.springframework.web.bind.annotation.RequestHeader;\r\n    import org.springframework.web.bind.annotation.RequestParam;\r\n    \r\n    @PostMapping(path = &quot;${service-uri}&quot;, consumes = MediaType.APPLICATION_JSON_VALUE)\r\n        String callService(@RequestBody MyBodyClass body, @RequestParam Integer param01, @RequestParam String param02, @RequestHeader Map&lt;String, String&gt; headerMap);\r\n\r\nThe solution proposed with @HeaderMap doesn&#39;t work, apparently because this class is from *feign* package (import feign.HeaderMap).","title":"Is there a way to add multiple headers when using Feign Client","body":"<p>I know it may be late but I am hopping to help others.</p>\n<p>What has worked for me:</p>\n<pre><code>import org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestHeader;\nimport org.springframework.web.bind.annotation.RequestParam;\n\n@PostMapping(path = &quot;${service-uri}&quot;, consumes = MediaType.APPLICATION_JSON_VALUE)\n    String callService(@RequestBody MyBodyClass body, @RequestParam Integer param01, @RequestParam String param02, @RequestHeader Map&lt;String, String&gt; headerMap);\n</code></pre>\n<p>The solution proposed with @HeaderMap doesn't work, apparently because this class is from <em>feign</em> package (import feign.HeaderMap).</p>\n"}],"owner":{"account_id":5723452,"reputation":1656,"user_id":4521196,"accept_rate":58,"display_name":"jlp"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13893,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":3,"score":6,"last_activity_date":1656522395,"creation_date":1576095869,"question_id":59293527,"body_markdown":"I have a Feign client to access to an createUser endpoint that requires two headers: username and password.  I know how to add one header, but how do I add two headers to the request?\r\n\r\n    @FeignClient(name = &quot;client&quot;, url = &quot;https://abc.abc.com/user/&quot;, configuration = FeignClientConfig.class)\r\n    public interface MyFeignClient {\r\n\r\n    @Headers(&quot;username_header: {username}&quot;)  // how do I add &quot;password&quot; here.\r\n    @PostMapping(value = &quot;v1/users&quot;)\r\n    void createUser((@Param(&quot;username&quot;) String username, User userRequest);\r\n}\r\n\r\n**Update**:  Now based on the answer below, I changed the interface body to:\r\n\r\n    @Headers({&quot;username_header: {username}&quot;, &quot;password_header: {password}&quot;}) \r\n    @PostMapping(value = &quot;v1/users&quot;)\r\n    void createUser(@Param(&quot;username&quot;) String username, \r\n                    @Param(&quot;password&quot;) String password,\r\n                    User userRequest);\r\n\r\nAnd the code that calls it is:\r\n      \r\n    feignClient.createUser(&quot;me&quot;, &quot;123&quot;, userObj);\r\n\r\nThen I am getting an error:\r\n\r\n     org.springframework.beans.factory.BeanCreationException: Error creating bean,\r\n     nested exception is java.lang.IllegalStateException: Method has too many Body parameters: \r\n     feignClient.createUser(java.lang.String,java.lang.String, User)\r\n    \r\n\r\n","title":"Is there a way to add multiple headers when using Feign Client","body":"<p>I have a Feign client to access to an createUser endpoint that requires two headers: username and password.  I know how to add one header, but how do I add two headers to the request?</p>\n\n<pre><code>@FeignClient(name = \"client\", url = \"https://abc.abc.com/user/\", configuration = FeignClientConfig.class)\npublic interface MyFeignClient {\n\n@Headers(\"username_header: {username}\")  // how do I add \"password\" here.\n@PostMapping(value = \"v1/users\")\nvoid createUser((@Param(\"username\") String username, User userRequest);\n</code></pre>\n\n<p>}</p>\n\n<p><strong>Update</strong>:  Now based on the answer below, I changed the interface body to:</p>\n\n<pre><code>@Headers({\"username_header: {username}\", \"password_header: {password}\"}) \n@PostMapping(value = \"v1/users\")\nvoid createUser(@Param(\"username\") String username, \n                @Param(\"password\") String password,\n                User userRequest);\n</code></pre>\n\n<p>And the code that calls it is:</p>\n\n<pre><code>feignClient.createUser(\"me\", \"123\", userObj);\n</code></pre>\n\n<p>Then I am getting an error:</p>\n\n<pre><code> org.springframework.beans.factory.BeanCreationException: Error creating bean,\n nested exception is java.lang.IllegalStateException: Method has too many Body parameters: \n feignClient.createUser(java.lang.String,java.lang.String, User)\n</code></pre>\n"},{"tags":["java","regex","string"],"answers":[{"tags":[],"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1656518855,"creation_date":1656518111,"answer_id":72804447,"question_id":72804317,"body_markdown":"## Regex\r\n\r\nThis is fairly easy to achieve with regex capturing groups. Your pattern will be `&quot;ParamField\\\\(paramName=(.+), paramValue=(.+)\\\\)&quot;` and then you simply match and get `group(1)` and `group(2)`.\r\n\r\nOnce you extracted that, simply create the string with a `StringJoiner` on `;` or similar.\r\n\r\nCould look something like this:\r\n\r\n```java\r\nPattern pattern = Pattern.compile(&quot;ParamField\\\\(paramName=(.+), paramValue=(.+)\\\\)&quot;);\r\n\r\nStringJoiner sj = new StringJoiner(&quot;;&quot;);\r\nfor (String paramField : paramFields) {\r\n  Matcher matcher = pattern.matcher(paramField);\r\n  if (!matcher.find()) {\r\n    throw new IllegalArgumentException(&quot;Bad input format&quot;);\r\n  }\r\n\r\n  String name = matcher.group(1);\r\n  String value = matcher.group(2);\r\n\r\n  sj.add(name + &quot;-&quot; + value);\r\n}\r\n\r\nString result = sj.toString();\r\n```\r\n\r\n----------\r\n## With OOP\r\n\r\nIdeally you would employ some OOP though and create a nice record `ParamField` with a factory method on that string and then use its getters. That way its easier to keep working with the data, in case you need to do more with it.\r\n\r\n```java\r\nrecord ParamField(String name, String value) {\r\n  private static Pattern pattern = Pattern.compile(\r\n    &quot;ParamField\\\\(paramName=(.+), paramValue=(.+)\\\\)&quot;);\r\n\r\n  static ParamField of(String line) {\r\n    Matcher matcher = pattern.matcher(line);\r\n    if (!matcher.find()) {\r\n      throw new IllegalArgumentException(&quot;Bad input format&quot;);\r\n    }\r\n    return new ParamField(matcher.group(1), matcher.group(2));\r\n  }\r\n}\r\n```\r\nwith a usage like\r\n```java\r\nList&lt;ParamField&gt; paramFields = lines.stream()\r\n  .map(ParamField::of)\r\n  .toList();\r\n```\r\nand then work with that data. For example build your string:\r\n```java\r\nString result = paramFields.stream()\r\n  .map(paramField -&gt; paramField.name() + &quot;-&quot; + paramField.value())\r\n  .collect(Collectors.joining(&quot;;&quot;));\r\n```\r\n\r\n### Enum\r\n\r\nIf you need to do more complex stuff with the data, I would suggest you go one step further and also put the **value** into an enum, such as:\r\n\r\n```java\r\nenum ParamValue {\r\n  ADMITTED(&quot;Admitted&quot;),\r\n  DISCARDED(&quot;Discarded&quot;);\r\n\r\n  // field, constructor, getter, of-method\r\n}\r\n```\r\nso that you do not have to work with raw strings anymore but get all the type-safety Java can provide to you.","title":"How can I parse a string by mutliple delimiters using Java8 or regex","body":"<h2>Regex</h2>\n<p>This is fairly easy to achieve with regex capturing groups. Your pattern will be <code>&quot;ParamField\\\\(paramName=(.+), paramValue=(.+)\\\\)&quot;</code> and then you simply match and get <code>group(1)</code> and <code>group(2)</code>.</p>\n<p>Once you extracted that, simply create the string with a <code>StringJoiner</code> on <code>;</code> or similar.</p>\n<p>Could look something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Pattern pattern = Pattern.compile(&quot;ParamField\\\\(paramName=(.+), paramValue=(.+)\\\\)&quot;);\n\nStringJoiner sj = new StringJoiner(&quot;;&quot;);\nfor (String paramField : paramFields) {\n  Matcher matcher = pattern.matcher(paramField);\n  if (!matcher.find()) {\n    throw new IllegalArgumentException(&quot;Bad input format&quot;);\n  }\n\n  String name = matcher.group(1);\n  String value = matcher.group(2);\n\n  sj.add(name + &quot;-&quot; + value);\n}\n\nString result = sj.toString();\n</code></pre>\n<hr />\n<h2>With OOP</h2>\n<p>Ideally you would employ some OOP though and create a nice record <code>ParamField</code> with a factory method on that string and then use its getters. That way its easier to keep working with the data, in case you need to do more with it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>record ParamField(String name, String value) {\n  private static Pattern pattern = Pattern.compile(\n    &quot;ParamField\\\\(paramName=(.+), paramValue=(.+)\\\\)&quot;);\n\n  static ParamField of(String line) {\n    Matcher matcher = pattern.matcher(line);\n    if (!matcher.find()) {\n      throw new IllegalArgumentException(&quot;Bad input format&quot;);\n    }\n    return new ParamField(matcher.group(1), matcher.group(2));\n  }\n}\n</code></pre>\n<p>with a usage like</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;ParamField&gt; paramFields = lines.stream()\n  .map(ParamField::of)\n  .toList();\n</code></pre>\n<p>and then work with that data. For example build your string:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String result = paramFields.stream()\n  .map(paramField -&gt; paramField.name() + &quot;-&quot; + paramField.value())\n  .collect(Collectors.joining(&quot;;&quot;));\n</code></pre>\n<h3>Enum</h3>\n<p>If you need to do more complex stuff with the data, I would suggest you go one step further and also put the <strong>value</strong> into an enum, such as:</p>\n<pre class=\"lang-java prettyprint-override\"><code>enum ParamValue {\n  ADMITTED(&quot;Admitted&quot;),\n  DISCARDED(&quot;Discarded&quot;);\n\n  // field, constructor, getter, of-method\n}\n</code></pre>\n<p>so that you do not have to work with raw strings anymore but get all the type-safety Java can provide to you.</p>\n"},{"tags":[],"owner":{"account_id":3741091,"reputation":86,"user_id":3110869,"display_name":"shylesh krishna"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1656520266,"creation_date":1656520266,"answer_id":72804903,"question_id":72804317,"body_markdown":"Using Simple substring  and index of\r\n\r\n    ArrayList list=new ArrayList();\r\n          List.of(\r\n                &quot;ParamField(paramName=Thomas, paramValue=Admitted)&quot;,\r\n                &quot;ParamField(paramName=Martin, paramValue=Discarded)&quot;,\r\n                &quot;ParamField(paramName=Steve, paramValue=Admitted)&quot;\r\n        ).forEach(item-&gt;{\r\n              list.add(item.substring(21,item.lastIndexOf(&quot;,&quot;))+&quot;-&quot;+item.substring(item.lastIndexOf(&quot;ue=&quot;)+3,item.lastIndexOf(&quot;)&quot;)));\r\n        });\r\n        String s =list.toString();","title":"How can I parse a string by mutliple delimiters using Java8 or regex","body":"<p>Using Simple substring  and index of</p>\n<pre><code>ArrayList list=new ArrayList();\n      List.of(\n            &quot;ParamField(paramName=Thomas, paramValue=Admitted)&quot;,\n            &quot;ParamField(paramName=Martin, paramValue=Discarded)&quot;,\n            &quot;ParamField(paramName=Steve, paramValue=Admitted)&quot;\n    ).forEach(item-&gt;{\n          list.add(item.substring(21,item.lastIndexOf(&quot;,&quot;))+&quot;-&quot;+item.substring(item.lastIndexOf(&quot;ue=&quot;)+3,item.lastIndexOf(&quot;)&quot;)));\n    });\n    String s =list.toString();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18416403,"reputation":2172,"user_id":13415164,"display_name":"Sergey Afinogenov"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1656522310,"creation_date":1656522310,"answer_id":72805298,"question_id":72804317,"body_markdown":"Using [Pattern][1] and [Matcher][2] classes with [Stream API][3]:\r\n\r\n```\r\nPattern pattern = Pattern.compile(&quot;ParamField\\\\(paramName=(.+), paramValue=(.+)\\\\)&quot;);\r\n\r\nvar result = Stream.of(\r\n                &quot;ParamField(paramName=Thomas, paramValue=Admitted)&quot;,\r\n                &quot;ParamField(paramName=Martin, paramValue=Discarded)&quot;,\r\n                &quot;ParamField(paramName=Steve, paramValue=Admitted)&quot;\r\n        ).map(pattern::matcher)\r\n        .filter(Matcher::find)\r\n        .map(m -&gt; String.format(&quot;%s-%s&quot;, m.group(1), m.group(2)))\r\n        .collect(Collectors.joining(&quot;;&quot;));\r\n\r\nSystem.out.println(result);\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/util/regex/Matcher.html\r\n  [3]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/stream/package-summary.html","title":"How can I parse a string by mutliple delimiters using Java8 or regex","body":"<p>Using <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html\" rel=\"nofollow noreferrer\">Pattern</a> and <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/regex/Matcher.html\" rel=\"nofollow noreferrer\">Matcher</a> classes with <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/stream/package-summary.html\" rel=\"nofollow noreferrer\">Stream API</a>:</p>\n<pre><code>Pattern pattern = Pattern.compile(&quot;ParamField\\\\(paramName=(.+), paramValue=(.+)\\\\)&quot;);\n\nvar result = Stream.of(\n                &quot;ParamField(paramName=Thomas, paramValue=Admitted)&quot;,\n                &quot;ParamField(paramName=Martin, paramValue=Discarded)&quot;,\n                &quot;ParamField(paramName=Steve, paramValue=Admitted)&quot;\n        ).map(pattern::matcher)\n        .filter(Matcher::find)\n        .map(m -&gt; String.format(&quot;%s-%s&quot;, m.group(1), m.group(2)))\n        .collect(Collectors.joining(&quot;;&quot;));\n\nSystem.out.println(result);\n</code></pre>\n"}],"owner":{"account_id":16688975,"reputation":161,"user_id":12062075,"display_name":"Anam Qureshi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":3,"up_vote_count":3,"closed_date":1656539057,"answer_count":3,"score":0,"last_activity_date":1656522310,"creation_date":1656517584,"question_id":72804317,"body_markdown":"I have a `List&lt;String&gt;` like this:\r\n\r\n    List.of(\r\n      &quot;ParamField(paramName=Thomas, paramValue=Admitted)&quot;,\r\n      &quot;ParamField(paramName=Martin, paramValue=Discarded)&quot;,\r\n      &quot;ParamField(paramName=Steve, paramValue=Admitted)&quot;\r\n    );\r\n\r\nHow can I iterate the list and parse all string in such a way that at the end of iteration I can have a single string which contains something likes this\r\n\r\n    String s = &quot;Thomas-Admitted;Marting-Discarded;Steve-Admitted&quot;;","title":"How can I parse a string by mutliple delimiters using Java8 or regex","body":"<p>I have a <code>List&lt;String&gt;</code> like this:</p>\n<pre><code>List.of(\n  &quot;ParamField(paramName=Thomas, paramValue=Admitted)&quot;,\n  &quot;ParamField(paramName=Martin, paramValue=Discarded)&quot;,\n  &quot;ParamField(paramName=Steve, paramValue=Admitted)&quot;\n);\n</code></pre>\n<p>How can I iterate the list and parse all string in such a way that at the end of iteration I can have a single string which contains something likes this</p>\n<pre><code>String s = &quot;Thomas-Admitted;Marting-Discarded;Steve-Admitted&quot;;\n</code></pre>\n"},{"tags":["java","spring-boot","unit-testing","mockito"],"owner":{"account_id":22543380,"reputation":11,"user_id":16733679,"display_name":"sarat kamal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1656518687,"answer_count":0,"score":1,"last_activity_date":1656522309,"creation_date":1656518387,"question_id":72804494,"body_markdown":"After updated to Spring Boot 2.6.x, I have NullPointerException. While running the Test case in this line. ```when(packageControl.tryPackage(anyString(), anyString(), anyString(), anyList())).thenReturn(&quot;XXXXXX&quot;);```\r\n\r\nI have this below error ```20:13:55.654 [main] INFO XXXXXXXXX - Start Read an Document List.\r\n[MockitoHint] XXXXXXXXXXXXXXXXXXXXXXX (see javadoc for MockitoHint):\r\n[MockitoHint] 1. Unused... -&gt; at XXXXXXXXXXXXXXXXXXXXXX (ListActivityTest.java:298)\r\n[MockitoHint]  ...args ok? -&gt; at xxxxxxxxxxxxxxxxx(ListActivity.java:213)```","title":"MockitoHint 1. Unused... -&gt; at","body":"<p>After updated to Spring Boot 2.6.x, I have NullPointerException. While running the Test case in this line. <code>when(packageControl.tryPackage(anyString(), anyString(), anyString(), anyList())).thenReturn(&quot;XXXXXX&quot;);</code></p>\n<p>I have this below error <code>20:13:55.654 [main] INFO XXXXXXXXX - Start Read an Document List. [MockitoHint] XXXXXXXXXXXXXXXXXXXXXXX (see javadoc for MockitoHint): [MockitoHint] 1. Unused... -&gt; at XXXXXXXXXXXXXXXXXXXXXX (ListActivityTest.java:298) [MockitoHint]  ...args ok? -&gt; at xxxxxxxxxxxxxxxxx(ListActivity.java:213)</code></p>\n"},{"tags":["java","php","css","string","wordpress-theming"],"comments":[{"owner":{"account_id":335034,"reputation":46179,"user_id":661872,"accept_rate":100,"display_name":"Lawrence Cherone"},"score":0,"creation_date":1656517518,"post_id":72804131,"comment_id":128594012,"body_markdown":"look for the other things which are most likely in the code and not in the database, like `art-code`, `txt-rotate`, `data-period`, `data-rotate`, they are most likely right next to what your looking for","body":"look for the other things which are most likely in the code and not in the database, like <code>art-code</code>, <code>txt-rotate</code>, <code>data-period</code>, <code>data-rotate</code>, they are most likely right next to what your looking for"},{"owner":{"account_id":25640432,"reputation":11,"user_id":19409432,"display_name":"Raven"},"score":0,"creation_date":1656519623,"post_id":72804131,"comment_id":128594770,"body_markdown":"hey @LawrenceCherone I have added typing.js above. Do I need to remove something from it?","body":"hey @LawrenceCherone I have added typing.js above. Do I need to remove something from it?"},{"owner":{"account_id":335034,"reputation":46179,"user_id":661872,"accept_rate":100,"display_name":"Lawrence Cherone"},"score":0,"creation_date":1656520518,"post_id":72804131,"comment_id":128595114,"body_markdown":"no, you need to find in the theme or plugin that you use","body":"no, you need to find in the theme or plugin that you use"}],"owner":{"account_id":25640432,"reputation":11,"user_id":19409432,"display_name":"Raven"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1656522019,"creation_date":1656516734,"question_id":72804131,"body_markdown":"I am unable to edit a string in wordpress theme. The theme is not in html so finding source code is tough for me.\r\nThis is the source code shown via inspect element:\r\n\r\n    &lt;div class=&quot;art-lg-text art-code mb-25&quot;&gt; &amp;lt;&lt;i&gt;code&lt;/i&gt;&amp;gt; \r\n     I love &lt;span class=&quot;txt-rotate&quot; data-period=&quot;2000&quot; data-rotate=&quot;[ &amp;quot;coding.&amp;quot;,&amp;quot;Gaming.&amp;quot;,&amp;quot;photo editing.&amp;quot;,&amp;quot;learning.&amp;quot; ]&quot;&gt;&lt;span class=&quot;wrap&quot;&gt;coding&lt;/span&gt;&lt;/span&gt; &amp;lt;/&lt;i&gt;code&lt;/i&gt;&amp;gt;&lt;/div&gt;\r\n\r\nI want to remove `&amp;lt;&lt;i&gt;code&lt;/i&gt;&amp;gt` and `&amp;lt;/&lt;i&gt;code&lt;/i&gt;&amp;gt` which is shown as `&lt;code&gt;`.....`&lt;/code&gt;` on my homepage.\r\nUnfortunately, the index.php and home.php just have references. They don&#39;t have a whole code for home page that index.html files generally have.\r\nI searched all files in my theme but couldn&#39;t find it. I searched the word &quot;***code***&quot; in my theme folder using **string locator plugin** but it gave 2300+ results! I deleted some related **CSS classes** and removed related contents from demo/01/**content.xml**.\r\nStill couldn&#39;t get rid of it.\r\nWhere could I find &amp; remove `&lt;code&gt;` `&lt;/code&gt;` without removing the contents within it.\r\n","title":"Unable to edit a string in wordpress theme","body":"<p>I am unable to edit a string in wordpress theme. The theme is not in html so finding source code is tough for me.\nThis is the source code shown via inspect element:</p>\n<pre><code>&lt;div class=&quot;art-lg-text art-code mb-25&quot;&gt; &amp;lt;&lt;i&gt;code&lt;/i&gt;&amp;gt; \n I love &lt;span class=&quot;txt-rotate&quot; data-period=&quot;2000&quot; data-rotate=&quot;[ &amp;quot;coding.&amp;quot;,&amp;quot;Gaming.&amp;quot;,&amp;quot;photo editing.&amp;quot;,&amp;quot;learning.&amp;quot; ]&quot;&gt;&lt;span class=&quot;wrap&quot;&gt;coding&lt;/span&gt;&lt;/span&gt; &amp;lt;/&lt;i&gt;code&lt;/i&gt;&amp;gt;&lt;/div&gt;\n</code></pre>\n<p>I want to remove <code>&amp;lt;&lt;i&gt;code&lt;/i&gt;&amp;gt</code> and <code>&amp;lt;/&lt;i&gt;code&lt;/i&gt;&amp;gt</code> which is shown as <code>&lt;code&gt;</code>.....<code>&lt;/code&gt;</code> on my homepage.\nUnfortunately, the index.php and home.php just have references. They don't have a whole code for home page that index.html files generally have.\nI searched all files in my theme but couldn't find it. I searched the word &quot;<em><strong>code</strong></em>&quot; in my theme folder using <strong>string locator plugin</strong> but it gave 2300+ results! I deleted some related <strong>CSS classes</strong> and removed related contents from demo/01/<strong>content.xml</strong>.\nStill couldn't get rid of it.\nWhere could I find &amp; remove <code>&lt;code&gt;</code> <code>&lt;/code&gt;</code> without removing the contents within it.</p>\n"},{"tags":["java","spring","spring-boot","spring-security","jwt"],"answers":[{"tags":[],"owner":{"account_id":12597082,"reputation":496,"user_id":9161255,"display_name":"Mohit Singh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1574183035,"creation_date":1574183035,"answer_id":58939352,"question_id":58938733,"body_markdown":"Basically, OncePerRequestFilter works in that way only. Not sure if this can be avoided. Quoting the documentation :\r\n\r\n&gt; Filter base class that aims to guarantee a single execution per\r\n&gt; request dispatch, on any servlet container.\r\n\r\nYou can try adding the method type as well to skip teh authentication on the endpoint.\r\n`.antMatchers(HttpMethod.GET,  &quot;/authenticate&quot;).permitAll()`\r\n\r\n\r\n","title":"Unable to skip the OncePerRequestFilter filter for a login url (basically to get the JWT token during the initial login)in spring boot security","body":"<p>Basically, OncePerRequestFilter works in that way only. Not sure if this can be avoided. Quoting the documentation :</p>\n\n<blockquote>\n  <p>Filter base class that aims to guarantee a single execution per\n  request dispatch, on any servlet container.</p>\n</blockquote>\n\n<p>You can try adding the method type as well to skip teh authentication on the endpoint.\n<code>.antMatchers(HttpMethod.GET,  \"/authenticate\").permitAll()</code></p>\n"},{"tags":[],"owner":{"account_id":3364917,"reputation":3325,"user_id":2825798,"display_name":"PraveenKumar Lalasangi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1574257985,"creation_date":1574185973,"answer_id":58940094,"question_id":58938733,"body_markdown":"As already pointed by Mohit, even i couldn&#39;t see any mistakes in your configuration.\r\n\r\nIf you understand below explanation, it will help you to resolve.&lt;br&gt;\r\nEven though `/authenticate` request is permitAll configured the request should pass through your JWT Filter. But `FilterSecurityInterceptor` is the last filter it will check for configured antMatchers and associated restrictions/permissions based on that it will decide whether request should be permitted or denied.\r\n\r\nFor `/authenticate` method it should pass through filter and requestTokenHeader, username should be null and make sure `chain.doFilter(request, response);` is reaching without any exceptions.\r\n\r\nAnd when it reaches `FilterSecurityInterceptor` and If you have set log level to debug) logs similar as given below should be printed.\r\n\r\n```\r\nDEBUG - /app/admin/app-config at position 12 of 12 in additional filter chain; firing Filter: &#39;FilterSecurityInterceptor&#39; \r\nDEBUG - Checking match of request : &#39;/app/admin/app-config&#39;; against &#39;/resources/**&#39; \r\nDEBUG - Checking match of request : &#39;/app/admin/app-config&#39;; against &#39;/&#39; \r\nDEBUG - Checking match of request : &#39;/app/admin/app-config&#39;; against &#39;/login&#39; \r\nDEBUG - Checking match of request : &#39;/app/admin/app-config&#39;; against &#39;/api/**&#39; \r\nDEBUG - Checking match of request : &#39;/app/admin/app-config&#39;; against &#39;/app/admin/app-config&#39; \r\nDEBUG - Secure object: FilterInvocation: URL: /app/admin/app-config; Attributes: [permitAll] \r\nDEBUG - Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@511cd205: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@2cd90: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: 696171A944493ACA1A0F7D560D93D42B; Granted Authorities: ROLE_ANONYMOUS \r\nDEBUG - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@6df827bf, returned: 1 \r\nDEBUG - Authorization successful \r\n```\r\n\r\nAttach those logs, so that then problem can be predicted. ","title":"Unable to skip the OncePerRequestFilter filter for a login url (basically to get the JWT token during the initial login)in spring boot security","body":"<p>As already pointed by Mohit, even i couldn't see any mistakes in your configuration.</p>\n\n<p>If you understand below explanation, it will help you to resolve.<br>\nEven though <code>/authenticate</code> request is permitAll configured the request should pass through your JWT Filter. But <code>FilterSecurityInterceptor</code> is the last filter it will check for configured antMatchers and associated restrictions/permissions based on that it will decide whether request should be permitted or denied.</p>\n\n<p>For <code>/authenticate</code> method it should pass through filter and requestTokenHeader, username should be null and make sure <code>chain.doFilter(request, response);</code> is reaching without any exceptions.</p>\n\n<p>And when it reaches <code>FilterSecurityInterceptor</code> and If you have set log level to debug) logs similar as given below should be printed.</p>\n\n<pre><code>DEBUG - /app/admin/app-config at position 12 of 12 in additional filter chain; firing Filter: 'FilterSecurityInterceptor' \nDEBUG - Checking match of request : '/app/admin/app-config'; against '/resources/**' \nDEBUG - Checking match of request : '/app/admin/app-config'; against '/' \nDEBUG - Checking match of request : '/app/admin/app-config'; against '/login' \nDEBUG - Checking match of request : '/app/admin/app-config'; against '/api/**' \nDEBUG - Checking match of request : '/app/admin/app-config'; against '/app/admin/app-config' \nDEBUG - Secure object: FilterInvocation: URL: /app/admin/app-config; Attributes: [permitAll] \nDEBUG - Previously Authenticated: org.springframework.security.authentication.AnonymousAuthenticationToken@511cd205: Principal: anonymousUser; Credentials: [PROTECTED]; Authenticated: true; Details: org.springframework.security.web.authentication.WebAuthenticationDetails@2cd90: RemoteIpAddress: 0:0:0:0:0:0:0:1; SessionId: 696171A944493ACA1A0F7D560D93D42B; Granted Authorities: ROLE_ANONYMOUS \nDEBUG - Voter: org.springframework.security.web.access.expression.WebExpressionVoter@6df827bf, returned: 1 \nDEBUG - Authorization successful \n</code></pre>\n\n<p>Attach those logs, so that then problem can be predicted. </p>\n"},{"tags":[],"owner":{"account_id":11602238,"reputation":1,"user_id":8499000,"display_name":"nforchu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1590167041,"creation_date":1590167041,"answer_id":61960250,"question_id":58938733,"body_markdown":"Write a configuration class that implements *org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter* and override the configur method like so: \r\n\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity httpSecurity) throws Exception {\r\n        // dont authenticate this particular request. you can use a wild card here. e.g /unprotected/**\r\n        httpSecurity.csrf().disable().authorizeRequests().antMatchers(&quot;/authenticate&quot;).permitAll().\r\n                //authenticate everything else\r\n        anyRequest().authenticated().and().exceptionHandling().authenticationEntryPoint(jwtAuthenticationEntryPoint).and().sessionManagement()\r\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n        // Add a filter to validate the tokens with every request\r\n        httpSecurity.addFilterBefore(jwtRequestFilter, UsernamePasswordAuthenticationFilter.class);\r\n    }\r\n","title":"Unable to skip the OncePerRequestFilter filter for a login url (basically to get the JWT token during the initial login)in spring boot security","body":"<p>Write a configuration class that implements <em>org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter</em> and override the configur method like so: </p>\n\n<pre><code>@Override\nprotected void configure(HttpSecurity httpSecurity) throws Exception {\n    // dont authenticate this particular request. you can use a wild card here. e.g /unprotected/**\n    httpSecurity.csrf().disable().authorizeRequests().antMatchers(\"/authenticate\").permitAll().\n            //authenticate everything else\n    anyRequest().authenticated().and().exceptionHandling().authenticationEntryPoint(jwtAuthenticationEntryPoint).and().sessionManagement()\n            .sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n    // Add a filter to validate the tokens with every request\n    httpSecurity.addFilterBefore(jwtRequestFilter, UsernamePasswordAuthenticationFilter.class);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17468770,"reputation":205,"user_id":12664985,"display_name":"manoellribeiro"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1623373063,"creation_date":1623373063,"answer_id":67930075,"question_id":58938733,"body_markdown":"I struggled with this for two days and the best solution was the [Tom answer](https://stackoverflow.com/a/52370780/12664985) combined with this setup on my `SecurityConfig`:\r\n\r\n```\r\noverride fun configure(http: HttpSecurity?) {\r\n        // Disable CORS\r\n        http!!.cors().disable()\r\n\r\n        // Disable CSRF\r\n        http.csrf().disable()\r\n\r\n        // Set session management to stateless\r\n        http.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n\r\n        //Add JwtTokenFilter\r\n        http.addFilterBefore(jwtTokenFilter, UsernamePasswordAuthenticationFilter::class.java)\r\n    }\r\n````","title":"Unable to skip the OncePerRequestFilter filter for a login url (basically to get the JWT token during the initial login)in spring boot security","body":"<p>I struggled with this for two days and the best solution was the <a href=\"https://stackoverflow.com/a/52370780/12664985\">Tom answer</a> combined with this setup on my <code>SecurityConfig</code>:</p>\n<pre><code>override fun configure(http: HttpSecurity?) {\n        // Disable CORS\n        http!!.cors().disable()\n\n        // Disable CSRF\n        http.csrf().disable()\n\n        // Set session management to stateless\n        http.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n\n        //Add JwtTokenFilter\n        http.addFilterBefore(jwtTokenFilter, UsernamePasswordAuthenticationFilter::class.java)\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15039759,"reputation":21,"user_id":10854811,"display_name":"Miss Catz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656521958,"creation_date":1656521958,"answer_id":72805228,"question_id":58938733,"body_markdown":"\r\nI had similar problem, and I overcome it by comparing request path to the path I do not want to filter. \r\n\r\n```\r\n@Override\r\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\r\n\r\n        //To skip OncePerRequestFilter for authenticate endpoint\r\n        if(request.getServletPath().equals(&quot;/authenticate&quot;)){\r\n            filterChain.doFilter(request, response);\r\n            return;\r\n        }\r\n\r\n// filter logic continue..\r\n```","title":"Unable to skip the OncePerRequestFilter filter for a login url (basically to get the JWT token during the initial login)in spring boot security","body":"<p>I had similar problem, and I overcome it by comparing request path to the path I do not want to filter.</p>\n<pre><code>@Override\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\n\n        //To skip OncePerRequestFilter for authenticate endpoint\n        if(request.getServletPath().equals(&quot;/authenticate&quot;)){\n            filterChain.doFilter(request, response);\n            return;\n        }\n\n// filter logic continue..\n</code></pre>\n"}],"owner":{"account_id":1333602,"reputation":55,"user_id":7294613,"display_name":"Archana Acharya T"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9194,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":5,"score":2,"last_activity_date":1656521958,"creation_date":1574180926,"question_id":58938733,"body_markdown":"I am trying a develop a spring boot rest API with JWT authorization using spring security. I want all of my request to go through the filter to validate the JWT token  except for the `/authenticate` request which should generate the jwt token. But with the below code, the `/authenticate` request is also getting intercepted by the filter due to which its failing with 401. Please let me know what am I missing in the below code.\r\n\r\n**JwtTokenFilter class**\r\n```\r\n@Component\r\npublic class JwtTokenFilter extends OncePerRequestFilter\r\n{\r\n\r\n\t@Autowired\r\n\tprivate UserService\t\tjwtUserDetailsService;\r\n\t@Autowired\r\n\tprivate JwtTokenUtil\tjwtTokenUtil;\r\n\r\n\t@Override\r\n\tprotected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain chain) throws ServletException, IOException\r\n\t{\r\n\r\n\t\tfinal String requestTokenHeader = request.getHeader(&quot;Authorization&quot;);\r\n\t\tString username = null;\r\n\t\tString jwtToken = null;\r\n\t\t// JWT Token is in the form &quot;Bearer token&quot;. Remove Bearer word and get\r\n\t\t// only the Token\r\n\t\tif (requestTokenHeader != null &amp;&amp; requestTokenHeader.startsWith(&quot;Bearer &quot;))\r\n\t\t{\r\n\t\t\tjwtToken = requestTokenHeader.substring(7);\r\n\t\t\ttry\r\n\t\t\t{\r\n\t\t\t\tusername = jwtTokenUtil.getUsernameFromToken(jwtToken);\r\n\t\t\t}\r\n\t\t\tcatch (IllegalArgumentException e)\r\n\t\t\t{\r\n\t\t\t\tSystem.out.println(&quot;Unable to get JWT Token&quot;);\r\n\t\t\t}\r\n\t\t\tcatch (ExpiredJwtException e)\r\n\t\t\t{\r\n\t\t\t\tSystem.out.println(&quot;JWT Token has expired&quot;);\r\n\t\t\t}\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tlogger.warn(&quot;JWT Token does not begin with Bearer String&quot;);\r\n\t\t}\r\n\t\t// Once we get the token validate it.\r\n\t\tif (username != null &amp;&amp; SecurityContextHolder.getContext().getAuthentication() == null)\r\n\t\t{\r\n\t\t\tUserDetails userDetails = this.jwtUserDetailsService.loadUserByUsername(username);\r\n\t\t\t// if token is valid configure Spring Security to manually set\r\n\t\t\t// authentication\r\n\t\t\tif (jwtTokenUtil.validateToken(jwtToken, userDetails))\r\n\t\t\t{\r\n\t\t\t\tUsernamePasswordAuthenticationToken usernamePasswordAuthenticationToken = new UsernamePasswordAuthenticationToken(userDetails, null, userDetails.getAuthorities());\r\n\t\t\t\tusernamePasswordAuthenticationToken.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\r\n\t\t\t\t// After setting the Authentication in the context, we specify\r\n\t\t\t\t// that the current user is authenticated. So it passes the\r\n\t\t\t\t// Spring Security Configurations successfully.\r\n\t\t\t\tSecurityContextHolder.getContext().setAuthentication(usernamePasswordAuthenticationToken);\r\n\t\t\t}\r\n\t\t}\r\n\t\tchain.doFilter(request, response);\r\n\t}\r\n}\r\n```\r\n**JwtConfig class**\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\n@EnableGlobalMethodSecurity(prePostEnabled = true)\r\npublic class JwtConfigurer extends WebSecurityConfigurerAdapter\r\n{\r\n\r\n\t@Autowired\r\n\tprivate JwtAuthenticationEntryPoint\tjwtAuthenticationEntryPoint;\r\n\t@Autowired\r\n\tprivate UserService\t\t\t\t\tjwtUserDetailsService;\r\n\t@Autowired\r\n\tprivate JwtTokenFilter\t\t\t\tjwtRequestFilter;\r\n\r\n\t@Autowired\r\n\tpublic void configureGlobal(AuthenticationManagerBuilder auth) throws Exception\r\n\t{\r\n\t\t// configure AuthenticationManager so that it knows from where to load\r\n\t\t// user for matching credentials\r\n\t\t// Use BCryptPasswordEncoder\r\n\t\tauth.userDetailsService(jwtUserDetailsService).passwordEncoder(passwordEncoder());\r\n\t}\r\n\t@Bean\r\n\tpublic PasswordEncoder passwordEncoder()\r\n\t{\r\n\t\treturn new BCryptPasswordEncoder();\r\n\t}\r\n\t@Bean\r\n\t@Override\r\n\tpublic AuthenticationManager authenticationManagerBean() throws Exception\r\n\t{\r\n\t\treturn super.authenticationManagerBean();\r\n\t}\r\n\t@Override\r\n\tprotected void configure(HttpSecurity httpSecurity) throws Exception\r\n\t{\r\n\t\t// We don&#39;t need CSRF for this example\r\n\r\n\t\thttpSecurity.csrf().disable().\r\n\t\t// dont authenticate this particular request\r\n\t\t\t\tauthorizeRequests().antMatchers(&quot;/authenticate&quot;).permitAll().\r\n\t\t\t\t// all other requests need to be authenticated\r\n\t\t\t\tanyRequest().authenticated().and().\r\n\t\t\t\t// make sure we use stateless session; session won&#39;t be used to\r\n\t\t\t\t// store user&#39;s state.\r\n\t\t\t\texceptionHandling().authenticationEntryPoint(jwtAuthenticationEntryPoint).and().sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n\t\t// Add a filter to validate the tokens with every request\r\n\t\thttpSecurity.addFilterAfter(jwtRequestFilter, UsernamePasswordAuthenticationFilter.class);\r\n\t}\r\n}\r\n```\r\n\r\n**Controller class**\r\n```java\r\n@RestController\r\n@CrossOrigin\r\npublic class JwtAuthenticationController\r\n{\r\n\r\n\t@Autowired\r\n\tprivate AuthenticationManager\tauthenticationManager;\r\n\t@Autowired\r\n\tprivate JwtTokenUtil\t\t\tjwtTokenUtil;\r\n\t@Autowired\r\n\tprivate UserService\t\t\t\tuserDetailsService;\r\n\r\n\t@RequestMapping(value = &quot;/authenticate&quot;, method = RequestMethod.POST)\r\n\tpublic ResponseEntity&lt;?&gt; createAuthenticationToken(@RequestBody User authenticationRequest) throws Exception\r\n\t{\r\n\t\tauthenticate(authenticationRequest.getUsername(), authenticationRequest.getPassword());\r\n\t\tfinal UserDetails userDetails = userDetailsService.loadUserByUsername(authenticationRequest.getUsername());\r\n\t\tfinal String token = jwtTokenUtil.generateToken(userDetails);\r\n\r\n\t\tUser u = new User();\r\n\t\tu.setUsername(authenticationRequest.getUsername());\r\n\t\tu.setToken(token);\r\n\t\treturn ResponseEntity.ok(u);\r\n\t}\r\n\tprivate void authenticate(String username, String password) throws Exception\r\n\t{\r\n\t\ttry\r\n\t\t{\r\n\t\t\tauthenticationManager.authenticate(new UsernamePasswordAuthenticationToken(username, password));\r\n\t\t}\r\n\t\tcatch (DisabledException e)\r\n\t\t{\r\n\t\t\tthrow new Exception(&quot;USER_DISABLED&quot;, e);\r\n\t\t}\r\n\t\tcatch (BadCredentialsException e)\r\n\t\t{\r\n\t\t\tthrow new Exception(&quot;INVALID_CREDENTIALS&quot;, e);\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\n\r\n","title":"Unable to skip the OncePerRequestFilter filter for a login url (basically to get the JWT token during the initial login)in spring boot security","body":"<p>I am trying a develop a spring boot rest API with JWT authorization using spring security. I want all of my request to go through the filter to validate the JWT token  except for the <code>/authenticate</code> request which should generate the jwt token. But with the below code, the <code>/authenticate</code> request is also getting intercepted by the filter due to which its failing with 401. Please let me know what am I missing in the below code.</p>\n\n<p><strong>JwtTokenFilter class</strong></p>\n\n<pre><code>@Component\npublic class JwtTokenFilter extends OncePerRequestFilter\n{\n\n    @Autowired\n    private UserService     jwtUserDetailsService;\n    @Autowired\n    private JwtTokenUtil    jwtTokenUtil;\n\n    @Override\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain chain) throws ServletException, IOException\n    {\n\n        final String requestTokenHeader = request.getHeader(\"Authorization\");\n        String username = null;\n        String jwtToken = null;\n        // JWT Token is in the form \"Bearer token\". Remove Bearer word and get\n        // only the Token\n        if (requestTokenHeader != null &amp;&amp; requestTokenHeader.startsWith(\"Bearer \"))\n        {\n            jwtToken = requestTokenHeader.substring(7);\n            try\n            {\n                username = jwtTokenUtil.getUsernameFromToken(jwtToken);\n            }\n            catch (IllegalArgumentException e)\n            {\n                System.out.println(\"Unable to get JWT Token\");\n            }\n            catch (ExpiredJwtException e)\n            {\n                System.out.println(\"JWT Token has expired\");\n            }\n        }\n        else\n        {\n            logger.warn(\"JWT Token does not begin with Bearer String\");\n        }\n        // Once we get the token validate it.\n        if (username != null &amp;&amp; SecurityContextHolder.getContext().getAuthentication() == null)\n        {\n            UserDetails userDetails = this.jwtUserDetailsService.loadUserByUsername(username);\n            // if token is valid configure Spring Security to manually set\n            // authentication\n            if (jwtTokenUtil.validateToken(jwtToken, userDetails))\n            {\n                UsernamePasswordAuthenticationToken usernamePasswordAuthenticationToken = new UsernamePasswordAuthenticationToken(userDetails, null, userDetails.getAuthorities());\n                usernamePasswordAuthenticationToken.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\n                // After setting the Authentication in the context, we specify\n                // that the current user is authenticated. So it passes the\n                // Spring Security Configurations successfully.\n                SecurityContextHolder.getContext().setAuthentication(usernamePasswordAuthenticationToken);\n            }\n        }\n        chain.doFilter(request, response);\n    }\n}\n</code></pre>\n\n<p><strong>JwtConfig class</strong></p>\n\n<pre><code>@Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true)\npublic class JwtConfigurer extends WebSecurityConfigurerAdapter\n{\n\n    @Autowired\n    private JwtAuthenticationEntryPoint jwtAuthenticationEntryPoint;\n    @Autowired\n    private UserService                 jwtUserDetailsService;\n    @Autowired\n    private JwtTokenFilter              jwtRequestFilter;\n\n    @Autowired\n    public void configureGlobal(AuthenticationManagerBuilder auth) throws Exception\n    {\n        // configure AuthenticationManager so that it knows from where to load\n        // user for matching credentials\n        // Use BCryptPasswordEncoder\n        auth.userDetailsService(jwtUserDetailsService).passwordEncoder(passwordEncoder());\n    }\n    @Bean\n    public PasswordEncoder passwordEncoder()\n    {\n        return new BCryptPasswordEncoder();\n    }\n    @Bean\n    @Override\n    public AuthenticationManager authenticationManagerBean() throws Exception\n    {\n        return super.authenticationManagerBean();\n    }\n    @Override\n    protected void configure(HttpSecurity httpSecurity) throws Exception\n    {\n        // We don't need CSRF for this example\n\n        httpSecurity.csrf().disable().\n        // dont authenticate this particular request\n                authorizeRequests().antMatchers(\"/authenticate\").permitAll().\n                // all other requests need to be authenticated\n                anyRequest().authenticated().and().\n                // make sure we use stateless session; session won't be used to\n                // store user's state.\n                exceptionHandling().authenticationEntryPoint(jwtAuthenticationEntryPoint).and().sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n        // Add a filter to validate the tokens with every request\n        httpSecurity.addFilterAfter(jwtRequestFilter, UsernamePasswordAuthenticationFilter.class);\n    }\n}\n</code></pre>\n\n<p><strong>Controller class</strong></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@CrossOrigin\npublic class JwtAuthenticationController\n{\n\n    @Autowired\n    private AuthenticationManager   authenticationManager;\n    @Autowired\n    private JwtTokenUtil            jwtTokenUtil;\n    @Autowired\n    private UserService             userDetailsService;\n\n    @RequestMapping(value = \"/authenticate\", method = RequestMethod.POST)\n    public ResponseEntity&lt;?&gt; createAuthenticationToken(@RequestBody User authenticationRequest) throws Exception\n    {\n        authenticate(authenticationRequest.getUsername(), authenticationRequest.getPassword());\n        final UserDetails userDetails = userDetailsService.loadUserByUsername(authenticationRequest.getUsername());\n        final String token = jwtTokenUtil.generateToken(userDetails);\n\n        User u = new User();\n        u.setUsername(authenticationRequest.getUsername());\n        u.setToken(token);\n        return ResponseEntity.ok(u);\n    }\n    private void authenticate(String username, String password) throws Exception\n    {\n        try\n        {\n            authenticationManager.authenticate(new UsernamePasswordAuthenticationToken(username, password));\n        }\n        catch (DisabledException e)\n        {\n            throw new Exception(\"USER_DISABLED\", e);\n        }\n        catch (BadCredentialsException e)\n        {\n            throw new Exception(\"INVALID_CREDENTIALS\", e);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","multithreading","executorservice","executor"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":5,"creation_date":1656517984,"post_id":72804342,"comment_id":128594198,"body_markdown":"The `get()` call **blocks** the calling thread, and it blocks until the `Future` is complete. And that means the print statements after the `get()` call cannot happen until the submitted task is done. So, a single threaded executor is _not_ for synchronous execution, but the way you made use of it has made the code _effectively_ synchronous.","body":"The <code>get()</code> call <b>blocks</b> the calling thread, and it blocks until the <code>Future</code> is complete. And that means the print statements after the <code>get()</code> call cannot happen until the submitted task is done. So, a single threaded executor is <i>not</i> for synchronous execution, but the way you made use of it has made the code <i>effectively</i> synchronous."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1656518566,"post_id":72804342,"comment_id":128594407,"body_markdown":"To quote [the Javadoc](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Future.html#get()): *‚ÄúWaits if necessary for the computation to complete, and then retrieves its result.‚Äù*","body":"To quote <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Future.html#get()\" rel=\"nofollow noreferrer\">the Javadoc</a>: <i>‚ÄúWaits if necessary for the computation to complete, and then retrieves its result.‚Äù</i>"}],"answers":[{"tags":[],"owner":{"account_id":18416403,"reputation":2172,"user_id":13415164,"display_name":"Sergey Afinogenov"},"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1656518806,"creation_date":1656518278,"answer_id":72804474,"question_id":72804342,"body_markdown":"Method [`get`][1] of `Future` class retrives result of a task, **waiting** endlessly if it is not avalible. \r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Future.html#get()","title":"Callable thread for singleThreadExecutor is working as synchronously","body":"<p>Method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Future.html#get()\" rel=\"nofollow noreferrer\"><code>get</code></a> of <code>Future</code> class retrives result of a task, <strong>waiting</strong> endlessly if it is not avalible.</p>\n"},{"tags":[],"owner":{"account_id":4407008,"reputation":44,"user_id":3591105,"display_name":"faisal"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1656520157,"creation_date":1656520157,"answer_id":72804890,"question_id":72804342,"body_markdown":"&gt; So according to my point of view for Callable with single thread\r\n&gt; executor is working as synchronous\r\n\r\nNo, it does not work synchronously. Both `Callable` and `Runnable` work similar way. The only difference is the `Callable` return value where Runnable doesn&#39;t. \r\n\r\nSee Callable [java doc][1] for the explanation. \r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Callable.html","title":"Callable thread for singleThreadExecutor is working as synchronously","body":"<blockquote>\n<p>So according to my point of view for Callable with single thread\nexecutor is working as synchronous</p>\n</blockquote>\n<p>No, it does not work synchronously. Both <code>Callable</code> and <code>Runnable</code> work similar way. The only difference is the <code>Callable</code> return value where Runnable doesn't.</p>\n<p>See Callable <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Callable.html\" rel=\"nofollow noreferrer\">java doc</a> for the explanation.</p>\n"}],"owner":{"account_id":7792452,"reputation":21,"user_id":5894883,"display_name":"Saravanakumar Arunachalam"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":351,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"accepted_answer_id":72804474,"answer_count":2,"score":-2,"last_activity_date":1656521804,"creation_date":1656517683,"question_id":72804342,"body_markdown":"I have tested the below callable sample code\r\n\r\n   \r\n\r\n    ExecutorService executorService = Executors.newSingleThreadExecutor();\r\n    Future&lt;String&gt; futureResMap = executorService.submit(new Callable&lt;String&gt;() {\r\n    \t@Override\r\n    \tpublic String call() throws Exception {\r\n    \t\treturn &quot;thread:1&quot;;\r\n    \t}\r\n    });\r\n    executorService.shutdown();\r\n    System.out.println(&quot;1&quot;);\r\n    System.out.println(&quot;2&quot;);\r\n    System.out.println(&quot;3&quot;);\r\n    System.out.println(&quot;Thread response:&quot;+futureResMap.get());\r\n    System.out.println(&quot;4&quot;);\r\n    System.out.println(&quot;5&quot;);\r\n\r\nand gets the output always as below\r\n\r\n    1\r\n    2\r\n    3\r\n    Thread response:thread:1\r\n    4\r\n    5\r\n\r\nWhich means Callable with single thread executor runs synchronously always.\r\n\r\nWhen i tried for runnable as below\r\n\r\n    ExecutorService executorService = Executors.newSingleThreadExecutor();  \r\n    executorService.execute(new Runnable() {\r\n    \t@Override\r\n    \tpublic void run() {\r\n    \t\tSystem.out.println(&quot;Thread response:thread:1&quot;);\r\n    \t}\r\n    });\r\n    executorService.shutdown();\r\n    System.out.println(&quot;1&quot;);\r\n    System.out.println(&quot;2&quot;);\r\n    System.out.println(&quot;3&quot;);\r\n    System.out.println(&quot;4&quot;);\r\n    System.out.println(&quot;5&quot;);\r\n\r\nWhich provides different output every time.\r\n\r\nRun:1\r\n   \r\n\r\n    1\r\n    2\r\n    Thread response:thread:1\r\n    3\r\n    4\r\n    5\r\n\r\n\r\nRun 2:\r\n\r\n    1\r\n    2\r\n    3\r\n    Thread response:thread:1\r\n    4\r\n    5\r\n\r\nSo according to my point of view for Callable with single thread executor is working as synchronous. Callable is mostly for multithreaded implementation. Is my understanding correct?\r\n","title":"Callable thread for singleThreadExecutor is working as synchronously","body":"<p>I have tested the below callable sample code</p>\n<pre><code>ExecutorService executorService = Executors.newSingleThreadExecutor();\nFuture&lt;String&gt; futureResMap = executorService.submit(new Callable&lt;String&gt;() {\n    @Override\n    public String call() throws Exception {\n        return &quot;thread:1&quot;;\n    }\n});\nexecutorService.shutdown();\nSystem.out.println(&quot;1&quot;);\nSystem.out.println(&quot;2&quot;);\nSystem.out.println(&quot;3&quot;);\nSystem.out.println(&quot;Thread response:&quot;+futureResMap.get());\nSystem.out.println(&quot;4&quot;);\nSystem.out.println(&quot;5&quot;);\n</code></pre>\n<p>and gets the output always as below</p>\n<pre><code>1\n2\n3\nThread response:thread:1\n4\n5\n</code></pre>\n<p>Which means Callable with single thread executor runs synchronously always.</p>\n<p>When i tried for runnable as below</p>\n<pre><code>ExecutorService executorService = Executors.newSingleThreadExecutor();  \nexecutorService.execute(new Runnable() {\n    @Override\n    public void run() {\n        System.out.println(&quot;Thread response:thread:1&quot;);\n    }\n});\nexecutorService.shutdown();\nSystem.out.println(&quot;1&quot;);\nSystem.out.println(&quot;2&quot;);\nSystem.out.println(&quot;3&quot;);\nSystem.out.println(&quot;4&quot;);\nSystem.out.println(&quot;5&quot;);\n</code></pre>\n<p>Which provides different output every time.</p>\n<p>Run:1</p>\n<pre><code>1\n2\nThread response:thread:1\n3\n4\n5\n</code></pre>\n<p>Run 2:</p>\n<pre><code>1\n2\n3\nThread response:thread:1\n4\n5\n</code></pre>\n<p>So according to my point of view for Callable with single thread executor is working as synchronous. Callable is mostly for multithreaded implementation. Is my understanding correct?</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":15910691,"reputation":1091,"user_id":11480721,"display_name":"Ausgefuchster"},"score":0,"creation_date":1656519822,"post_id":72804728,"comment_id":128594856,"body_markdown":"Could you add your application.yml?","body":"Could you add your application.yml?"},{"owner":{"account_id":15910691,"reputation":1091,"user_id":11480721,"display_name":"Ausgefuchster"},"score":1,"creation_date":1656521074,"post_id":72804728,"comment_id":128595314,"body_markdown":"So I just recreated this and it&#39;s working complety fine for me. Are you sure you don&#39;t have  other annotations (e.g. Component, Service) above Vehicle?","body":"So I just recreated this and it&#39;s working complety fine for me. Are you sure you don&#39;t have  other annotations (e.g. Component, Service) above Vehicle?"},{"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"score":0,"creation_date":1656523736,"post_id":72804728,"comment_id":128596273,"body_markdown":"No error if I can try above, can you check if you have shared everything which is required to raise this question","body":"No error if I can try above, can you check if you have shared everything which is required to raise this question"}],"answers":[{"tags":[],"owner":{"account_id":15910691,"reputation":1091,"user_id":11480721,"display_name":"Ausgefuchster"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1656521543,"creation_date":1656521543,"answer_id":72805151,"question_id":72804728,"body_markdown":"You can try a different way to inject this:\r\n\r\nYou don&#39;t need to create a configuration class where you inject the property as field and then create a bean of Vehicle. You can use constructor injection in Vehicle and make Vehicle a Component with `@Component` annotation;\r\n\r\n```java\r\n@Getter\r\n@Setter\r\n@Component\r\npublic class Vehicle {\r\n    private String model;\r\n    \r\n    public Vehicle(@Value(&quot;${value}&quot;) String model) {\r\n        this.model = model\r\n    }\r\n}\r\n```\r\n\r\nI personally prefer this way and I hope it works for you!","title":"no qualifying bean of type &#39;java.lang.string&#39; available error in spring","body":"<p>You can try a different way to inject this:</p>\n<p>You don't need to create a configuration class where you inject the property as field and then create a bean of Vehicle. You can use constructor injection in Vehicle and make Vehicle a Component with <code>@Component</code> annotation;</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter\n@Setter\n@Component\npublic class Vehicle {\n    private String model;\n    \n    public Vehicle(@Value(&quot;${value}&quot;) String model) {\n        this.model = model\n    }\n}\n</code></pre>\n<p>I personally prefer this way and I hope it works for you!</p>\n"}],"owner":{"account_id":11349516,"reputation":113,"user_id":8321026,"display_name":"Shankar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1791,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72805151,"answer_count":1,"score":1,"last_activity_date":1656521543,"creation_date":1656519414,"question_id":72804728,"body_markdown":"I am getting no qualifying bean of type &#39;java.lang.string&#39; available error in spring, NoSuchBeanDefinitionException in the following code. I have Test.java like the following, where I am trying to read the value from application.yaml.\r\n\r\n    @Configuration\r\n    public class Test {\r\n    \r\n        @Value(&quot;${value}&quot;)\r\n        private String val;\r\n        \r\n        @Bean\r\n        public Vehicle getVehicle() {\r\n        return new Vehicle(val);\r\n        }\r\n    }\r\n\r\nIn Vehicle.java\r\n\r\n    @AllArgConstructor\r\n    @Getter\r\n    @Setter\r\n    public class Vehicle {\r\n    \r\n    private String model;\r\n    \r\n    }\r\n\r\nI have another class, Driver.java, from where I have to inject Vehicle object through constructor.\r\n\r\n    @Service\r\n    public class Driver {\r\n    \r\n    private Vehicle v;\r\n    \r\n    @Autowired\r\n    public Driver(Vehicle v) {\r\n      this.v = v;\r\n    }\r\n\r\napplication.yaml looks like this.\r\n\r\n    value: FORTUNE\r\n    price: 10000","title":"no qualifying bean of type &#39;java.lang.string&#39; available error in spring","body":"<p>I am getting no qualifying bean of type 'java.lang.string' available error in spring, NoSuchBeanDefinitionException in the following code. I have Test.java like the following, where I am trying to read the value from application.yaml.</p>\n<pre><code>@Configuration\npublic class Test {\n\n    @Value(&quot;${value}&quot;)\n    private String val;\n    \n    @Bean\n    public Vehicle getVehicle() {\n    return new Vehicle(val);\n    }\n}\n</code></pre>\n<p>In Vehicle.java</p>\n<pre><code>@AllArgConstructor\n@Getter\n@Setter\npublic class Vehicle {\n\nprivate String model;\n\n}\n</code></pre>\n<p>I have another class, Driver.java, from where I have to inject Vehicle object through constructor.</p>\n<pre><code>@Service\npublic class Driver {\n\nprivate Vehicle v;\n\n@Autowired\npublic Driver(Vehicle v) {\n  this.v = v;\n}\n</code></pre>\n<p>application.yaml looks like this.</p>\n<pre><code>value: FORTUNE\nprice: 10000\n</code></pre>\n"},{"tags":["java","data-structures","linked-list"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1656521412,"post_id":72805110,"comment_id":128595449,"body_markdown":"A reference is Java is basically a pointer.  References do all the same things pointers do, essentially.","body":"A reference is Java is basically a pointer.  References do all the same things pointers do, essentially."},{"owner":{"account_id":21534,"reputation":59456,"user_id":52443,"display_name":"Welbog"},"score":0,"creation_date":1656523617,"post_id":72805110,"comment_id":128596228,"body_markdown":"See [I&#39;m having trouble understanding how object references work in Java?](https://stackoverflow.com/questions/56785593/im-having-trouble-understanding-how-object-references-work-in-java) and [What exactly is a reference variable in Java? How does it differ from other variables?](https://stackoverflow.com/questions/47361971/what-exactly-is-a-reference-variable-in-java-how-does-it-differ-from-other-vari)","body":"See <a href=\"https://stackoverflow.com/questions/56785593/im-having-trouble-understanding-how-object-references-work-in-java\">I&#39;m having trouble understanding how object references work in Java?</a> and <a href=\"https://stackoverflow.com/questions/47361971/what-exactly-is-a-reference-variable-in-java-how-does-it-differ-from-other-vari\">What exactly is a reference variable in Java? How does it differ from other variables?</a>"}],"owner":{"account_id":25479763,"reputation":1,"user_id":19276332,"display_name":"John david"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1656523820,"answer_count":0,"score":0,"last_activity_date":1656521358,"creation_date":1656521358,"question_id":72805110,"body_markdown":"I read in a book that a node in `linked list` points to the `next node` and so on. So how does nodes get the address of  the next node?\r\n\r\n(is it because we pass the reference variable of the previous node to the newly created node through the constructor argument?)","title":"How does the node in the linked list points to the next node when there is no pointer in java?","body":"<p>I read in a book that a node in <code>linked list</code> points to the <code>next node</code> and so on. So how does nodes get the address of  the next node?</p>\n<p>(is it because we pass the reference variable of the previous node to the newly created node through the constructor argument?)</p>\n"},{"tags":["java","mysql"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1656517983,"post_id":72804143,"comment_id":128594197,"body_markdown":"What *exactly precisely* is the data type of your column in MySQL?","body":"What <i>exactly precisely</i> is the data type of your column in MySQL?"},{"owner":{"account_id":22155260,"reputation":3,"user_id":16403109,"display_name":"Javier P&#233;rez Escamilla"},"score":0,"creation_date":1656643042,"post_id":72804143,"comment_id":128628035,"body_markdown":"The type of the field is DateTime","body":"The type of the field is DateTime"}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1656521335,"creation_date":1656517068,"answer_id":72804199,"question_id":72804143,"body_markdown":"# tl;dr\r\n\r\nYou neglected to mention the data type of your column. So I cannot tell you which of these to use.\r\n\r\nEither:\r\n\r\n    OffsetDateTime odt = myResultSet.getObject( ‚Ä¶ , OffsetDateTime.class ) ;\r\n\r\n‚Ä¶ or:\r\n\r\n    LocalDateTime ldt = myResultSet.getObject( ‚Ä¶ , LocalDateTime.class ) ;\r\n\r\n\r\n# *java.time*\r\n\r\nNever use the legacy class `Timestamp`. It was years ago supplanted by the modern *java.time* classes. Specifically, replaced by `Instant` and `OffsetDateTime`. \r\n\r\nJDBC 4.2 and later requires that a JDBC driver support the *java.time* classes.\r\n\r\n# `OffsetDateTime`\r\n\r\nAssuming you are accessing a column of a data type akin to the SQL standard type `TIMESTAMP WITH TIME ZONE`, retrieve a `OffsetDateTime`.\r\n\r\n    OffsetDateTime odt = myResultSet.getObject( ‚Ä¶ , OffsetDateTime.class ) ;\r\n\r\nWriting to the database.\r\n\r\n    myPreparedStatement.setObject( ‚Ä¶ , odt ) ;\r\n\r\n# `LocalDateTime`\r\n\r\nIf you are accessing a database column of a type akin to the SQL standard type `TIMESTAMP WITHOUT TIME ZONE`, use `LocalDateTime` class.\r\n\r\n\r\n# Formats\r\n\r\nYou said: \r\n\r\n&gt; mysql value has the following format: &quot;2022-06-29 10:08:22&quot;\r\n\r\nNo, not accurate. A database column of a date-time type is not text so it has no format. \r\n\r\nWhat you are seeing is text generated to value represented in that column. \r\n\r\nIf you retrieve a `OffsetDateTime` as directed above, no text is involved.\r\n\r\nYou can generate text from your `OffsetDateTime` object. \r\n\r\n - For standard ISO 8601 format, call `toString`. \r\n - For a localized format, use `DateTimeFormatter.ofLocalizedDateTime`.\r\n - For a custom format, use `DateTimeFormatter.ofPattern`.\r\n\r\nAll of these text generation approaches have been covered many many times on Stack Overflow. Search to learn more.\r\n\r\nYou said:\r\n\r\n&gt; Here, we note that the output includes a &quot;T&quot; character.\r\n\r\nThat format with the `T` is defined by the ISO 8601 standard. \r\n\r\n","title":"Error convert in Java Timestamp, not proper transform from Mysql 8.26","body":"<h1>tl;dr</h1>\n<p>You neglected to mention the data type of your column. So I cannot tell you which of these to use.</p>\n<p>Either:</p>\n<pre><code>OffsetDateTime odt = myResultSet.getObject( ‚Ä¶ , OffsetDateTime.class ) ;\n</code></pre>\n<p>‚Ä¶ or:</p>\n<pre><code>LocalDateTime ldt = myResultSet.getObject( ‚Ä¶ , LocalDateTime.class ) ;\n</code></pre>\n<h1><em>java.time</em></h1>\n<p>Never use the legacy class <code>Timestamp</code>. It was years ago supplanted by the modern <em>java.time</em> classes. Specifically, replaced by <code>Instant</code> and <code>OffsetDateTime</code>.</p>\n<p>JDBC 4.2 and later requires that a JDBC driver support the <em>java.time</em> classes.</p>\n<h1><code>OffsetDateTime</code></h1>\n<p>Assuming you are accessing a column of a data type akin to the SQL standard type <code>TIMESTAMP WITH TIME ZONE</code>, retrieve a <code>OffsetDateTime</code>.</p>\n<pre><code>OffsetDateTime odt = myResultSet.getObject( ‚Ä¶ , OffsetDateTime.class ) ;\n</code></pre>\n<p>Writing to the database.</p>\n<pre><code>myPreparedStatement.setObject( ‚Ä¶ , odt ) ;\n</code></pre>\n<h1><code>LocalDateTime</code></h1>\n<p>If you are accessing a database column of a type akin to the SQL standard type <code>TIMESTAMP WITHOUT TIME ZONE</code>, use <code>LocalDateTime</code> class.</p>\n<h1>Formats</h1>\n<p>You said:</p>\n<blockquote>\n<p>mysql value has the following format: &quot;2022-06-29 10:08:22&quot;</p>\n</blockquote>\n<p>No, not accurate. A database column of a date-time type is not text so it has no format.</p>\n<p>What you are seeing is text generated to value represented in that column.</p>\n<p>If you retrieve a <code>OffsetDateTime</code> as directed above, no text is involved.</p>\n<p>You can generate text from your <code>OffsetDateTime</code> object.</p>\n<ul>\n<li>For standard ISO 8601 format, call <code>toString</code>.</li>\n<li>For a localized format, use <code>DateTimeFormatter.ofLocalizedDateTime</code>.</li>\n<li>For a custom format, use <code>DateTimeFormatter.ofPattern</code>.</li>\n</ul>\n<p>All of these text generation approaches have been covered many many times on Stack Overflow. Search to learn more.</p>\n<p>You said:</p>\n<blockquote>\n<p>Here, we note that the output includes a &quot;T&quot; character.</p>\n</blockquote>\n<p>That format with the <code>T</code> is defined by the ISO 8601 standard.</p>\n"}],"owner":{"account_id":22155260,"reputation":3,"user_id":16403109,"display_name":"Javier P&#233;rez Escamilla"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":178,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72804199,"answer_count":1,"score":0,"last_activity_date":1656521335,"creation_date":1656516792,"question_id":72804143,"body_markdown":"I&#39;m trying to extract a vector of object form general case using a string to timestamp conversion.\r\nIn this case, the mysql value has the following format: &quot;2022-06-29 10:08:22&quot;\r\nBut when I printed the String, it has the following format: &quot;2022-06-29T10:08:22&quot;. Here, we note that the output includes a &quot;T&quot; character. When I try to convert using the timestamp I get an error.\r\n\r\n Code:   \r\n\r\n    data = new Object[0][0];   \r\n    data[0][0]=rs.getObject(0);    TimeStamp\r\n    createTimestampt= Timestamp.valueOf((String)data[0][0]));\r\n\r\n  \r\n\r\n\r\n\r\n\r\nIn this case, is a outdate of class java.sql.Timestamp?. or Where i missted?\r\n\r\n\r\n\r\n\r\nNote: Ojbect rs is an instance of java.sql.ResultSet. For obvious reasons not to include all the code. But the essence of the problem was discussed.\r\n\r\nThank you\r\n\r\nThanks","title":"Error convert in Java Timestamp, not proper transform from Mysql 8.26","body":"<p>I'm trying to extract a vector of object form general case using a string to timestamp conversion.\nIn this case, the mysql value has the following format: &quot;2022-06-29 10:08:22&quot;\nBut when I printed the String, it has the following format: &quot;2022-06-29T10:08:22&quot;. Here, we note that the output includes a &quot;T&quot; character. When I try to convert using the timestamp I get an error.</p>\n<p>Code:</p>\n<pre><code>data = new Object[0][0];   \ndata[0][0]=rs.getObject(0);    TimeStamp\ncreateTimestampt= Timestamp.valueOf((String)data[0][0]));\n</code></pre>\n<p>In this case, is a outdate of class java.sql.Timestamp?. or Where i missted?</p>\n<p>Note: Ojbect rs is an instance of java.sql.ResultSet. For obvious reasons not to include all the code. But the essence of the problem was discussed.</p>\n<p>Thank you</p>\n<p>Thanks</p>\n"},{"tags":["java","generics","enums","compilation","extends"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":2,"creation_date":1656521601,"post_id":72804936,"comment_id":128595505,"body_markdown":"What is the point of `&lt;T extends Enum&lt;T&gt; &amp; Operation&gt;`? If you expect T to represent Enum which will also be Operation then only enum which can fulfill this condition is `Operation` itself. So your method could use `Operation` instead of generic type like `public static void testEnumClass(Class&lt;Operation&gt; opSet)`. OR since inside you just want to iterate over values of `Operation` simply use `for (Operation op : Operation.values()){..}` and your method will not need any argument at all.","body":"What is the point of <code>&lt;T extends Enum&lt;T&gt; &amp; Operation&gt;</code>? If you expect T to represent Enum which will also be Operation then only enum which can fulfill this condition is <code>Operation</code> itself. So your method could use <code>Operation</code> instead of generic type like <code>public static void testEnumClass(Class&lt;Operation&gt; opSet)</code>. OR since inside you just want to iterate over values of <code>Operation</code> simply use <code>for (Operation op : Operation.values()){..}</code> and your method will not need any argument at all."}],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1656520772,"creation_date":1656520772,"answer_id":72805006,"question_id":72804936,"body_markdown":"When using `&amp;` in generic bounds, only the first part may be a class. Everything else must be an interface. `Operation` isn&#39;t an interface, that&#39;s why it fails.\r\n\r\nBut your example makes no sense. There is only one type that matches `T extends Enum&lt;T&gt; &amp; Operation`, and that&#39;s `Operation` itself. Why use a generic type anyway?\r\n\r\nThe following would be possible (yes, `OperationEnum` is a terrible name):\r\n\r\n```\r\ninterface Operation { /* some methods */ }\r\nenum OperationEnum implements Operation { /* constants, methods from Operation */ }\r\n```\r\n\r\nBut unless you define an interface that actually adds methods that aren&#39;t already in enums (like `name()` and `ordinal()`), there&#39;s no need to use a stronger bound than just `T extends Enum&lt;T&gt;`.","title":"Java generic function fail to compile: need interface type","body":"<p>When using <code>&amp;</code> in generic bounds, only the first part may be a class. Everything else must be an interface. <code>Operation</code> isn't an interface, that's why it fails.</p>\n<p>But your example makes no sense. There is only one type that matches <code>T extends Enum&lt;T&gt; &amp; Operation</code>, and that's <code>Operation</code> itself. Why use a generic type anyway?</p>\n<p>The following would be possible (yes, <code>OperationEnum</code> is a terrible name):</p>\n<pre><code>interface Operation { /* some methods */ }\nenum OperationEnum implements Operation { /* constants, methods from Operation */ }\n</code></pre>\n<p>But unless you define an interface that actually adds methods that aren't already in enums (like <code>name()</code> and <code>ordinal()</code>), there's no need to use a stronger bound than just <code>T extends Enum&lt;T&gt;</code>.</p>\n"}],"owner":{"account_id":6298937,"reputation":537,"user_id":4894140,"accept_rate":0,"display_name":"Immanuel Kant"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1656521113,"creation_date":1656520398,"question_id":72804936,"body_markdown":"I&#39;m trying a sample code snippet from &quot;Effective Java, item 34&quot;. I&#39;m using jdk1.8 on win10.\r\n\r\n```\r\npackage mygroup;\r\n\r\nimport java.util.*;\r\npublic class ExtendsEnum {\r\n    private static enum Operation {\r\n        Plus,\r\n        Minus;\r\n    }\r\n    public static &lt;T extends Enum&lt;T&gt; &amp; Operation&gt; // error\r\n    void testEnumClass(Class&lt;T&gt; opSet) {\r\n        for (Operation op : opSet.getEnumConstants()) {\r\n            System.out.println(op);\r\n        }\r\n    }\r\n    public static void main(String[] args) {\r\n        ExtendsEnum.testEnumClass(Operation.class);\r\n    }\r\n}\r\n```\r\n\r\nCompiler says: needs interface type.\r\nI&#39;m not sure if my program on the problem line is still valid in jdk1.8, I just tried to copy from the book&#39;s sample code. \r\nDoes jdk recognize:\r\n```\r\n&lt;T extends Enum&lt;T&gt; &amp; Operation&gt;\r\n```\r\n\r\nIf not, how to fix it?","title":"Java generic function fail to compile: need interface type","body":"<p>I'm trying a sample code snippet from &quot;Effective Java, item 34&quot;. I'm using jdk1.8 on win10.</p>\n<pre><code>package mygroup;\n\nimport java.util.*;\npublic class ExtendsEnum {\n    private static enum Operation {\n        Plus,\n        Minus;\n    }\n    public static &lt;T extends Enum&lt;T&gt; &amp; Operation&gt; // error\n    void testEnumClass(Class&lt;T&gt; opSet) {\n        for (Operation op : opSet.getEnumConstants()) {\n            System.out.println(op);\n        }\n    }\n    public static void main(String[] args) {\n        ExtendsEnum.testEnumClass(Operation.class);\n    }\n}\n</code></pre>\n<p>Compiler says: needs interface type.\nI'm not sure if my program on the problem line is still valid in jdk1.8, I just tried to copy from the book's sample code.\nDoes jdk recognize:</p>\n<pre><code>&lt;T extends Enum&lt;T&gt; &amp; Operation&gt;\n</code></pre>\n<p>If not, how to fix it?</p>\n"},{"tags":["java","lambda","syntax","interface"],"comments":[{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":3,"creation_date":1529738525,"post_id":50998923,"comment_id":88991846,"body_markdown":"A Consumer, by definition, doesn&#39;t return anything. A functional interface that returns a boolean is called a Predicate. https://docs.oracle.com/javase/8/docs/api/java/util/function/Predicate.html","body":"A Consumer, by definition, doesn&#39;t return anything. A functional interface that returns a boolean is called a Predicate. <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/function/Predicate.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/util/function/&hellip;</a>"},{"owner":{"account_id":13243947,"reputation":461,"user_id":9563640,"display_name":"kay"},"score":0,"creation_date":1529738670,"post_id":50998923,"comment_id":88991887,"body_markdown":"Did not know that, thanks.","body":"Did not know that, thanks."}],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1529739247,"creation_date":1529738575,"answer_id":50998941,"question_id":50998923,"body_markdown":"A consumer that returns something is not a consumer anymore. It becomes a [`Predicate&lt;String&gt;`][1]:\r\n\r\n    Predicate&lt;String&gt; consumer = (str) -&gt; {\r\n        return str.equals(&quot;yes&quot;); \r\n    };\r\n\r\nYou also mentioned in the title that you want the functional interface to return a `String`. In that case, use [`Function&lt;String, String&gt;`][2].\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/function/Predicate.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/function/Function.html","title":"Java consumers ability to accept and return boolean or string","body":"<p>A consumer that returns something is not a consumer anymore. It becomes a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/function/Predicate.html\" rel=\"noreferrer\"><code>Predicate&lt;String&gt;</code></a>:</p>\n\n<pre><code>Predicate&lt;String&gt; consumer = (str) -&gt; {\n    return str.equals(\"yes\"); \n};\n</code></pre>\n\n<p>You also mentioned in the title that you want the functional interface to return a <code>String</code>. In that case, use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/function/Function.html\" rel=\"noreferrer\"><code>Function&lt;String, String&gt;</code></a>.</p>\n"},{"tags":[],"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1656521029,"creation_date":1529738830,"answer_id":50998974,"question_id":50998923,"body_markdown":"For the case in which one wants to pass a `String` and get a `boolean`, one can use [`Predicate&lt;String&gt;`][pred]. There are similiar functions if one wants to return one of the following primitives:\r\n\r\n* for `int`: [`ToIntFunction&lt;String&gt;`][toInt],\r\n* for `long`: [`ToLongFunction&lt;String&gt;`][toLong], and\r\n* for `double`: [`ToDoubleFunction&lt;String&gt;`][toDouble].\r\n\r\nIn line with the [rest of the `java.util.function`-][funcPackage] and the [`java.util.stream` package][streamPackage], there are no further `To&lt;Primitive&gt;Function` interfaces for the primitives `byte`, `short`, `char` and `float`.\r\n\r\nFor the case in which one wants to pass a `String` and get a `String`, one can use [`UnaryOperator&lt;String&gt;`][unary].\r\n\r\nFor the general case in which one wants to pass some `T` and get some `R`, one can use [`Function&lt;T, R&gt;`][func].\r\n\r\nWhether this, however, improves the readability of the code is another question...\r\n\r\n[pred]: https://docs.oracle.com/javase/10/docs/api/java/util/function/Predicate.html\r\n[toInt]: https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/util/function/ToIntFunction.html\r\n[toLong]: https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/util/function/ToLongFunction.html\r\n[toDouble]: https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/util/function/ToDoubleFunction.html\r\n[funcPackage]: https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/util/function/package-summary.html\r\n[streamPackage]: https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/util/stream/package-summary.html\r\n[unary]: https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/util/function/UnaryOperator.html\r\n[func]: https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/util/function/Function.html","title":"Java consumers ability to accept and return boolean or string","body":"<p>For the case in which one wants to pass a <code>String</code> and get a <code>boolean</code>, one can use <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/function/Predicate.html\" rel=\"nofollow noreferrer\"><code>Predicate&lt;String&gt;</code></a>. There are similiar functions if one wants to return one of the following primitives:</p>\n<ul>\n<li>for <code>int</code>: <a href=\"https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/util/function/ToIntFunction.html\" rel=\"nofollow noreferrer\"><code>ToIntFunction&lt;String&gt;</code></a>,</li>\n<li>for <code>long</code>: <a href=\"https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/util/function/ToLongFunction.html\" rel=\"nofollow noreferrer\"><code>ToLongFunction&lt;String&gt;</code></a>, and</li>\n<li>for <code>double</code>: <a href=\"https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/util/function/ToDoubleFunction.html\" rel=\"nofollow noreferrer\"><code>ToDoubleFunction&lt;String&gt;</code></a>.</li>\n</ul>\n<p>In line with the <a href=\"https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/util/function/package-summary.html\" rel=\"nofollow noreferrer\">rest of the <code>java.util.function</code>-</a> and the <a href=\"https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/util/stream/package-summary.html\" rel=\"nofollow noreferrer\"><code>java.util.stream</code> package</a>, there are no further <code>To&lt;Primitive&gt;Function</code> interfaces for the primitives <code>byte</code>, <code>short</code>, <code>char</code> and <code>float</code>.</p>\n<p>For the case in which one wants to pass a <code>String</code> and get a <code>String</code>, one can use <a href=\"https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/util/function/UnaryOperator.html\" rel=\"nofollow noreferrer\"><code>UnaryOperator&lt;String&gt;</code></a>.</p>\n<p>For the general case in which one wants to pass some <code>T</code> and get some <code>R</code>, one can use <a href=\"https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/util/function/Function.html\" rel=\"nofollow noreferrer\"><code>Function&lt;T, R&gt;</code></a>.</p>\n<p>Whether this, however, improves the readability of the code is another question...</p>\n"}],"owner":{"account_id":13243947,"reputation":461,"user_id":9563640,"display_name":"kay"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16316,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":2,"score":6,"last_activity_date":1656521029,"creation_date":1529738396,"question_id":50998923,"body_markdown":"This is a regular Consumer with usage:\r\n\r\n\r\n    public static void main(String[] args){\r\n\t\tConsumer&lt;String&gt; consumer = (str) -&gt; {\r\n\t\t\t//stuff\r\n\t\t};\r\n\t\t\r\n\t\tconsumer.accept(args[0]);\r\n\t}\r\n\r\n\r\nHere is what I am attempting to do (make it so consumer returns as boolean)\r\n\r\n    public static void main(String[] args){\r\n\t\tConsumer&lt;String&gt; consumer = (str) -&gt; {\r\n\t\t\treturn str.equals(&quot;yes&quot;); //type mis-match error because consumer is void not boolean\r\n\t\t};\r\n\t\t\r\n\t\tboolean a = consumer.accept(args[0]); //type mis-match error because consumer is void not boolean\r\n\t}\r\n\r\nHow can I manipulate consumer to return as a boolean?\r\n\r\nWithout obviously creating a whole new interface.... (below)\r\n\r\n    public interface ConsumerB {\r\n        boolean accept(String s);\r\n    }","title":"Java consumers ability to accept and return boolean or string","body":"<p>This is a regular Consumer with usage:</p>\n\n<pre><code>public static void main(String[] args){\n    Consumer&lt;String&gt; consumer = (str) -&gt; {\n        //stuff\n    };\n\n    consumer.accept(args[0]);\n}\n</code></pre>\n\n<p>Here is what I am attempting to do (make it so consumer returns as boolean)</p>\n\n<pre><code>public static void main(String[] args){\n    Consumer&lt;String&gt; consumer = (str) -&gt; {\n        return str.equals(\"yes\"); //type mis-match error because consumer is void not boolean\n    };\n\n    boolean a = consumer.accept(args[0]); //type mis-match error because consumer is void not boolean\n}\n</code></pre>\n\n<p>How can I manipulate consumer to return as a boolean?</p>\n\n<p>Without obviously creating a whole new interface.... (below)</p>\n\n<pre><code>public interface ConsumerB {\n    boolean accept(String s);\n}\n</code></pre>\n"},{"tags":["java","generics","methods","overriding"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1655032566,"post_id":72591617,"comment_id":128229502,"body_markdown":"Please don&#39;t post images of text.","body":"Please don&#39;t post images of text."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1655032831,"post_id":72591617,"comment_id":128229556,"body_markdown":"`T` can be any type. Not every type has addition defined on it.","body":"<code>T</code> can be any type. Not every type has addition defined on it."},{"owner":{"account_id":379763,"reputation":29886,"user_id":733345,"display_name":"Joe"},"score":1,"creation_date":1655033179,"post_id":72591617,"comment_id":128229644,"body_markdown":"Does this answer your question? [Can I do arithmetic operations on the Number baseclass?](https://stackoverflow.com/questions/3873215/can-i-do-arithmetic-operations-on-the-number-baseclass)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/3873215/can-i-do-arithmetic-operations-on-the-number-baseclass\">Can I do arithmetic operations on the Number baseclass?</a>"}],"answers":[{"tags":[],"owner":{"account_id":23837295,"reputation":308,"user_id":17842877,"display_name":"xthe_white_lionx"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656521017,"creation_date":1656521017,"answer_id":72805042,"question_id":72591617,"body_markdown":"    static class ComplexNum&lt;T extends Number&gt; {\r\n\r\n        T i;\r\n        T r;\r\n\r\n        public ComplexNum(T r, T i) {\r\n\r\n            this.r = r;\r\n            this.i = i;\r\n        }\r\n\r\n        public ComplexNum&lt;Double&gt; add(ComplexNum c2) {\r\n            Double newr = r.doubleValue() + c2.r.doubleValue();\r\n            Double newi = i.doubleValue() + c2.i.doubleValue();\r\n\r\n            return new ComplexNum&lt;&gt;(newr, newi);\r\n\r\n        }\r\n\r\n\r\n        @Override\r\n        public String toString() {\r\n            return this.r + &quot; + &quot; + this.i + &quot;i&quot;;\r\n        }\r\n\r\n    }\r\n\r\n\r\n    class Main {\r\n        public static void main(String[] args) {\r\n            int n1 = 1;\r\n            int n2 = 3;\r\n            double d1 = 4.4;\r\n            double d2 = 5.4;\r\n\r\n            ComplexNum&lt;Integer&gt; c1 = new ComplexNum&lt;&gt;(n1, n2);\r\n            ComplexNum&lt;Double&gt; c2 = new ComplexNum&lt;&gt;(d1, d2);\r\n            ComplexNum&lt;Double&gt; c3 = c1.add(c2);\r\n            System.out.println(c1 + &quot; + &quot; + c2 + &quot; = &quot; + c3);\r\n\r\n\r\n        }\r\n    }","title":"Java : Add method Generic Class","body":"<pre><code>static class ComplexNum&lt;T extends Number&gt; {\n\n    T i;\n    T r;\n\n    public ComplexNum(T r, T i) {\n\n        this.r = r;\n        this.i = i;\n    }\n\n    public ComplexNum&lt;Double&gt; add(ComplexNum c2) {\n        Double newr = r.doubleValue() + c2.r.doubleValue();\n        Double newi = i.doubleValue() + c2.i.doubleValue();\n\n        return new ComplexNum&lt;&gt;(newr, newi);\n\n    }\n\n\n    @Override\n    public String toString() {\n        return this.r + &quot; + &quot; + this.i + &quot;i&quot;;\n    }\n\n}\n\n\nclass Main {\n    public static void main(String[] args) {\n        int n1 = 1;\n        int n2 = 3;\n        double d1 = 4.4;\n        double d2 = 5.4;\n\n        ComplexNum&lt;Integer&gt; c1 = new ComplexNum&lt;&gt;(n1, n2);\n        ComplexNum&lt;Double&gt; c2 = new ComplexNum&lt;&gt;(d1, d2);\n        ComplexNum&lt;Double&gt; c3 = c1.add(c2);\n        System.out.println(c1 + &quot; + &quot; + c2 + &quot; = &quot; + c3);\n\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":13308601,"reputation":1,"user_id":9607628,"display_name":"Jyothish Vijay"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656521017,"creation_date":1655031950,"question_id":72591617,"body_markdown":"I&#39;m new to Java. The Following Code is to create a generic class to generate complex numbers from real and Imaginary Parts. The add() method in the class is throwing the following Error.\r\nNot sure how to proceed further. I have been at this for a day. [Error Prompt][1]\r\n\r\n    import java.util.*;\r\n    \r\n    \r\n      class ComplexNum&lt;T&gt;{\r\n        \r\n        T i;\r\n        T r;\r\n        \r\n        public ComplexNum (T r , T i){\r\n            \r\n            this.r = r;\r\n            this.i = i;\r\n        }\r\n        \r\n        public ComplexNum add(ComplexNum c2)\r\n        {\r\n           \r\n            \r\n            return new ComplexNum (r + c2.r, i +c2.i);\r\n    \r\n        }\r\n        \r\n        \r\n        @Override\r\n        public String toString() {\r\n            return this.r + &quot; + &quot; + this.i + &quot;i&quot;;\r\n        }\r\n        \r\n    }\r\n    \r\n    \r\n    \r\n    class Main{\r\n    public static void main(String[] args) {\r\n            int n1 = 1;\r\n            int n2 = 3;\r\n            double d1 =4.4;\r\n            double d2 = 5.4;\r\n           \r\n            ComplexNum&lt;Integer&gt; c1 = new ComplexNum&lt;Integer&gt;(n1, n2);\r\n            ComplexNum&lt;Double&gt; c2 = new ComplexNum&lt;Double&gt;(d1, d2);\r\n           ComplexNum&lt;Double&gt; c3 = c1.add(c2);\r\n           System.out.println(c1 + &quot; + &quot; + c2 + &quot; = &quot;+ c3) ;\r\n           \r\n           \r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/SD44u.png","title":"Java : Add method Generic Class","body":"<p>I'm new to Java. The Following Code is to create a generic class to generate complex numbers from real and Imaginary Parts. The add() method in the class is throwing the following Error.\nNot sure how to proceed further. I have been at this for a day. <a href=\"https://i.stack.imgur.com/SD44u.png\" rel=\"nofollow noreferrer\">Error Prompt</a></p>\n<pre><code>import java.util.*;\n\n\n  class ComplexNum&lt;T&gt;{\n    \n    T i;\n    T r;\n    \n    public ComplexNum (T r , T i){\n        \n        this.r = r;\n        this.i = i;\n    }\n    \n    public ComplexNum add(ComplexNum c2)\n    {\n       \n        \n        return new ComplexNum (r + c2.r, i +c2.i);\n\n    }\n    \n    \n    @Override\n    public String toString() {\n        return this.r + &quot; + &quot; + this.i + &quot;i&quot;;\n    }\n    \n}\n\n\n\nclass Main{\npublic static void main(String[] args) {\n        int n1 = 1;\n        int n2 = 3;\n        double d1 =4.4;\n        double d2 = 5.4;\n       \n        ComplexNum&lt;Integer&gt; c1 = new ComplexNum&lt;Integer&gt;(n1, n2);\n        ComplexNum&lt;Double&gt; c2 = new ComplexNum&lt;Double&gt;(d1, d2);\n       ComplexNum&lt;Double&gt; c3 = c1.add(c2);\n       System.out.println(c1 + &quot; + &quot; + c2 + &quot; = &quot;+ c3) ;\n       \n       \n    }\n}\n</code></pre>\n"},{"tags":["java","dictionary","oop","hashmap"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":1,"creation_date":1654694895,"post_id":72546479,"comment_id":128152210,"body_markdown":"This sounds like a misunderstanding of how `Map` works. Firstly, `Map` stores references to objects, it doesn&#39;t control creation (outside of semantics like `#compute`). Secondly, a `Map` stores a single value _per key_, which can be referenced by the key you store it with (primarily through `#get(Key)` and `#put(Key, Value)`). Consider if you truly want a map in this case (you typically wouldn&#39;t keep multiple keys for one value, but it&#39;s not _always_ bad). Lastly, what are you truly attempting to achieve by using this `Map`?","body":"This sounds like a misunderstanding of how <code>Map</code> works. Firstly, <code>Map</code> stores references to objects, it doesn&#39;t control creation (outside of semantics like <code>#compute</code>). Secondly, a <code>Map</code> stores a single value <i>per key</i>, which can be referenced by the key you store it with (primarily through <code>#get(Key)</code> and <code>#put(Key, Value)</code>). Consider if you truly want a map in this case (you typically wouldn&#39;t keep multiple keys for one value, but it&#39;s not <i>always</i> bad). Lastly, what are you truly attempting to achieve by using this <code>Map</code>?"},{"owner":{"account_id":22676831,"reputation":1,"user_id":16847687,"display_name":"bogan"},"score":0,"creation_date":1654695180,"post_id":72546479,"comment_id":128152318,"body_markdown":"@Rogue i want to set individual keywords for articles","body":"@Rogue i want to set individual keywords for articles"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1654696368,"post_id":72546479,"comment_id":128152862,"body_markdown":"What if a keyword applies to more than one article? It may be better to have `Artigo` (what I assume is `Article`) store a `Set&lt;String&gt;` of the keywords that are relevant to it.","body":"What if a keyword applies to more than one article? It may be better to have <code>Artigo</code> (what I assume is <code>Article</code>) store a <code>Set&lt;String&gt;</code> of the keywords that are relevant to it."},{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":1,"creation_date":1654697936,"post_id":72546479,"comment_id":128153633,"body_markdown":"You should make a data structure using classes instead. Some of these classes could contain maps. Let your data structure have specific methods for your different use cases.","body":"You should make a data structure using classes instead. Some of these classes could contain maps. Let your data structure have specific methods for your different use cases."}],"answers":[{"tags":[],"owner":{"account_id":23837295,"reputation":308,"user_id":17842877,"display_name":"xthe_white_lionx"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656520340,"creation_date":1656520340,"answer_id":72804925,"question_id":72546479,"body_markdown":"    private Map&lt;String, Artigo&gt; listaArtigos = new HashMap&lt;String, Artigo&gt;();\r\n    \r\n    //for your example from above\r\n    listaArtigos.remove(&quot;nasa&quot;, a1);","title":"How to remove an element from a HashMap with multiple keys in JAVA","body":"<pre><code>private Map&lt;String, Artigo&gt; listaArtigos = new HashMap&lt;String, Artigo&gt;();\n\n//for your example from above\nlistaArtigos.remove(&quot;nasa&quot;, a1);\n</code></pre>\n"}],"owner":{"account_id":22676831,"reputation":1,"user_id":16847687,"display_name":"bogan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1656520340,"creation_date":1654694683,"question_id":72546479,"body_markdown":"In my system an element from a HashMap have multiple keys, like an element &quot;chess&quot; have the keys &quot;board&quot;, &quot;game&quot;, &quot;strategy&quot;. I want to remove the element chess and every key pointing to him.\r\n\r\nFor example, thats the map: `private Map&lt;String, Artigo&gt; listaArtigos = new HashMap&lt;String, Artigo&gt;();`\r\n\r\nThe Artigo a1 have the keys &quot;nasa&quot;, &quot;space&quot;, &quot;mars&quot;. I need to delete a1 and all his keys, cuz i think that every time i set an new map (&quot;nasa&quot;, a1), it creates a new a1 with a new key, right? Like in this case i have 3 a1&#39;s in my map?","title":"How to remove an element from a HashMap with multiple keys in JAVA","body":"<p>In my system an element from a HashMap have multiple keys, like an element &quot;chess&quot; have the keys &quot;board&quot;, &quot;game&quot;, &quot;strategy&quot;. I want to remove the element chess and every key pointing to him.</p>\n<p>For example, thats the map: <code>private Map&lt;String, Artigo&gt; listaArtigos = new HashMap&lt;String, Artigo&gt;();</code></p>\n<p>The Artigo a1 have the keys &quot;nasa&quot;, &quot;space&quot;, &quot;mars&quot;. I need to delete a1 and all his keys, cuz i think that every time i set an new map (&quot;nasa&quot;, a1), it creates a new a1 with a new key, right? Like in this case i have 3 a1's in my map?</p>\n"},{"tags":["java","json","spring","spring-boot","yaml"],"comments":[{"owner":{"account_id":4475914,"reputation":14400,"user_id":3641067,"accept_rate":73,"display_name":"bur&#230;quete"},"score":0,"creation_date":1492061804,"post_id":43384202,"comment_id":73830160,"body_markdown":"http://stackoverflow.com/questions/9532840/embedding-json-data-into-yaml-file/9532944#9532944","body":"<a href=\"http://stackoverflow.com/questions/9532840/embedding-json-data-into-yaml-file/9532944#9532944\" title=\"embedding json data into yaml file\">stackoverflow.com/questions/9532840/&hellip;</a>"},{"owner":{"account_id":6396663,"reputation":3288,"user_id":4960784,"accept_rate":42,"display_name":"Arjun"},"score":0,"creation_date":1492061849,"post_id":43384202,"comment_id":73830176,"body_markdown":"you haven&#39;t posted your problem/error! Kindly post the `stack trace` or `error log`","body":"you haven&#39;t posted your problem/error! Kindly post the <code>stack trace</code> or <code>error log</code>"},{"owner":{"account_id":4475914,"reputation":14400,"user_id":3641067,"accept_rate":73,"display_name":"bur&#230;quete"},"score":1,"creation_date":1492061917,"post_id":43384202,"comment_id":73830199,"body_markdown":"Possible duplicate of [Embedding JSON Data into YAML file](http://stackoverflow.com/questions/9532840/embedding-json-data-into-yaml-file)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/9532840/embedding-json-data-into-yaml-file\">Embedding JSON Data into YAML file</a>"}],"answers":[{"tags":[],"owner":{"account_id":6872115,"reputation":31,"user_id":5282046,"display_name":"ƒê·ªó ƒêƒÉng Qu&#226;n"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1492062627,"creation_date":1492062627,"answer_id":43384460,"question_id":43384202,"body_markdown":"Try modifying your yml file as below:\r\n&lt;pre&gt;\r\nShirt.rest.booking:\r\n   invoiceAddress: &quot;\\&quot;name\\&quot;:\\&quot;VIA Pics AB\\&quot;,\\&quot;address1\\&quot;:\\&quot;VIA Pics AB\\&quot;,\\&quot;address2\\&quot;:\\&quot;Mejeriv&#228;gen 3\\&quot;,\\&quot;zipCode\\&quot;:\\&quot;11743\\&quot;,\\&quot;city\\&quot;:\\&quot;STOCKHOLM\\&quot;,\\&quot;countryCode\\&quot;:\\&quot;SE\\&quot;,\\&quot;email\\&quot;:\\&quot;w.ho@Pics.fr\\&quot;&quot;&lt;/pre&gt;","title":"Autowire json value in springboot from yaml","body":"<p>Try modifying your yml file as below:</p>\n\n<pre>\nShirt.rest.booking:\n   invoiceAddress: \"\\\"name\\\":\\\"VIA Pics AB\\\",\\\"address1\\\":\\\"VIA Pics AB\\\",\\\"address2\\\":\\\"Mejeriv√§gen 3\\\",\\\"zipCode\\\":\\\"11743\\\",\\\"city\\\":\\\"STOCKHOLM\\\",\\\"countryCode\\\":\\\"SE\\\",\\\"email\\\":\\\"w.ho@Pics.fr\\\"\"</pre>\n"},{"tags":[],"owner":{"account_id":6284572,"reputation":5615,"user_id":4884334,"accept_rate":77,"display_name":"Bhushan Uniyal"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1492063406,"creation_date":1492063406,"answer_id":43384625,"question_id":43384202,"body_markdown":"If you want as a plan string you should add this value between single quote &#39;your value.&#39; in your yml file\r\n\r\n    Shirt:\r\n     rest:\r\n      booking:\r\n       invoiceAddress: &#39;{&quot;name&quot;:&quot;VIA Pics AB&quot;,&quot;address1&quot;:&quot;VIA Pics AB&quot;,&quot;address2&quot;:&quot;Mejeriv&#228;gen 3&quot;,&quot;zipCode&quot;:&quot;11743&quot;,&quot;city&quot;:&quot;STOCKHOLM&quot;,&quot;countryCode&quot;:&quot;SE&quot;,&quot;email&quot;:&quot;w.ho@Pics.fr&quot;}&#39;","title":"Autowire json value in springboot from yaml","body":"<p>If you want as a plan string you should add this value between single quote 'your value.' in your yml file</p>\n\n<pre><code>Shirt:\n rest:\n  booking:\n   invoiceAddress: '{\"name\":\"VIA Pics AB\",\"address1\":\"VIA Pics AB\",\"address2\":\"Mejeriv√§gen 3\",\"zipCode\":\"11743\",\"city\":\"STOCKHOLM\",\"countryCode\":\"SE\",\"email\":\"w.ho@Pics.fr\"}'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4139586,"reputation":129,"user_id":3395310,"display_name":"Nilesh Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1525335755,"creation_date":1525335721,"answer_id":50150263,"question_id":43384202,"body_markdown":"Single quotes escapes all the special characters in the values of YAML properties.\r\nJust try adding to the string into single quotes &#39;PropertiesValue&#39;.\r\n\r\nE.g : \r\n\r\n    invoiceAddress: &#39;{&quot;name&quot;:&quot;VIA Pics AB&quot;,&quot;address1&quot;:&quot;VIA Pics AB&quot;,&quot;address2&quot;:&quot;Mejeriv&#228;gen 3&quot;,&quot;zipCode&quot;:&quot;11743&quot;,&quot;city&quot;:&quot;STOCKHOLM&quot;,&quot;countryCode&quot;:&quot;SE&quot;,&quot;email&quot;:&quot;w.ho@Pics.fr&quot;}&#39;\r\n\r\n","title":"Autowire json value in springboot from yaml","body":"<p>Single quotes escapes all the special characters in the values of YAML properties.\nJust try adding to the string into single quotes 'PropertiesValue'.</p>\n\n<p>E.g : </p>\n\n<pre><code>invoiceAddress: '{\"name\":\"VIA Pics AB\",\"address1\":\"VIA Pics AB\",\"address2\":\"Mejeriv√§gen 3\",\"zipCode\":\"11743\",\"city\":\"STOCKHOLM\",\"countryCode\":\"SE\",\"email\":\"w.ho@Pics.fr\"}'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3503118,"reputation":504,"user_id":2929352,"display_name":"David KELLER"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656520304,"creation_date":1656520304,"answer_id":72804919,"question_id":43384202,"body_markdown":"&lt;pre&gt;\r\nShirt:\r\n rest:\r\n  booking:\r\n   invoiceAddress: &gt;\r\n    {&quot;name&quot;:&quot;VIA Pics AB&quot;,&quot;address1&quot;:&quot;VIA Pics AB&quot;,&quot;address2&quot;:&quot;Mejeriv&#228;gen 3&quot;,&quot;zipCode&quot;:&quot;11743&quot;,&quot;city&quot;:&quot;STOCKHOLM&quot;,&quot;countryCode&quot;:&quot;SE&quot;,&quot;email&quot;:&quot;w.ho@Pics.fr&quot;}\r\n&lt;/pre&gt;\r\n\r\n@see https://stackoverflow.com/a/17093553/2929352","title":"Autowire json value in springboot from yaml","body":"<pre>\nShirt:\n rest:\n  booking:\n   invoiceAddress: >\n    {\"name\":\"VIA Pics AB\",\"address1\":\"VIA Pics AB\",\"address2\":\"Mejeriv√§gen 3\",\"zipCode\":\"11743\",\"city\":\"STOCKHOLM\",\"countryCode\":\"SE\",\"email\":\"w.ho@Pics.fr\"}\n</pre>\n<p>@see <a href=\"https://stackoverflow.com/a/17093553/2929352\">https://stackoverflow.com/a/17093553/2929352</a></p>\n"}],"owner":{"account_id":2386002,"reputation":5151,"user_id":2086966,"accept_rate":73,"display_name":"smilyface"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8482,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"accepted_answer_id":43384625,"answer_count":4,"score":4,"last_activity_date":1656520304,"creation_date":1492061364,"question_id":43384202,"body_markdown":"How to read json as a string from a yaml file in spring boot application ?\r\n\r\n&gt; *I need to get the json as a string / json object.*\r\n\r\n**Application.yml**\r\n\r\n    Shirt:\r\n     rest:\r\n      booking:\r\n       invoiceAddress: {&quot;name&quot;:&quot;VIA Pics AB&quot;,&quot;address1&quot;:&quot;VIA Pics AB&quot;,&quot;address2&quot;:&quot;Mejeriv&#228;gen 3&quot;,&quot;zipCode&quot;:&quot;11743&quot;,&quot;city&quot;:&quot;STOCKHOLM&quot;,&quot;countryCode&quot;:&quot;SE&quot;,&quot;email&quot;:&quot;w.ho@Pics.fr&quot;}\r\n\r\n**Configuration class** \r\n   \r\n\r\n    @Configuration\r\n    public class ConfigurationServiceClientConfiguration {\r\n    \r\n        @Value(&quot;${Shirt.rest.booking.invoiceAddress}&quot;)\r\n        private String invoiceAddress;\r\n    \r\n        @Bean\r\n        public String getInvoiceAddress(){\r\n            System.out.println(invoiceAddress);\r\n            return this.invoiceAddress;\r\n        }\r\n    }\r\n\r\nAlso tried @JsonProperty but no idea whether my usage was wrong or not !\r\n\r\n**Note:**\r\nI am not ready to change the json as a list because more jsons (of invoiceAddress) to come and I will have to make list for each. So it&#39;s easy for me if the json can be copied as it is to the yaml file.","title":"Autowire json value in springboot from yaml","body":"<p>How to read json as a string from a yaml file in spring boot application ?</p>\n\n<blockquote>\n  <p><em>I need to get the json as a string / json object.</em></p>\n</blockquote>\n\n<p><strong>Application.yml</strong></p>\n\n<pre><code>Shirt:\n rest:\n  booking:\n   invoiceAddress: {\"name\":\"VIA Pics AB\",\"address1\":\"VIA Pics AB\",\"address2\":\"Mejeriv√§gen 3\",\"zipCode\":\"11743\",\"city\":\"STOCKHOLM\",\"countryCode\":\"SE\",\"email\":\"w.ho@Pics.fr\"}\n</code></pre>\n\n<p><strong>Configuration class</strong> </p>\n\n<pre><code>@Configuration\npublic class ConfigurationServiceClientConfiguration {\n\n    @Value(\"${Shirt.rest.booking.invoiceAddress}\")\n    private String invoiceAddress;\n\n    @Bean\n    public String getInvoiceAddress(){\n        System.out.println(invoiceAddress);\n        return this.invoiceAddress;\n    }\n}\n</code></pre>\n\n<p>Also tried @JsonProperty but no idea whether my usage was wrong or not !</p>\n\n<p><strong>Note:</strong>\nI am not ready to change the json as a list because more jsons (of invoiceAddress) to come and I will have to make list for each. So it's easy for me if the json can be copied as it is to the yaml file.</p>\n"},{"tags":["java","authentication","oauth-2.0","oauth","google-oauth"],"comments":[{"owner":{"account_id":2066403,"reputation":109410,"user_id":1841839,"accept_rate":71,"display_name":"Linda Lawton - DaImTo"},"score":0,"creation_date":1656504653,"post_id":72801091,"comment_id":128588257,"body_markdown":"Which api exactly are you trying to connect to?","body":"Which api exactly are you trying to connect to?"},{"owner":{"account_id":23998843,"reputation":11,"user_id":17984031,"display_name":"kavinila"},"score":0,"creation_date":1656509709,"post_id":72801091,"comment_id":128590463,"body_markdown":"I want to use google api to get the profile of the user.","body":"I want to use google api to get the profile of the user."},{"owner":{"account_id":2066403,"reputation":109410,"user_id":1841839,"accept_rate":71,"display_name":"Linda Lawton - DaImTo"},"score":0,"creation_date":1656519141,"post_id":72801091,"comment_id":128594610,"body_markdown":"Do you want signin or just oauth?","body":"Do you want signin or just oauth?"},{"owner":{"account_id":23998843,"reputation":11,"user_id":17984031,"display_name":"kavinila"},"score":0,"creation_date":1656519356,"post_id":72801091,"comment_id":128594686,"body_markdown":"No ,I just want oauth","body":"No ,I just want oauth"}],"answers":[{"tags":[],"owner":{"account_id":2066403,"reputation":109410,"user_id":1841839,"accept_rate":71,"display_name":"Linda Lawton - DaImTo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656519666,"creation_date":1656519666,"answer_id":72804774,"question_id":72801091,"body_markdown":"I think you should have a look at the [People api quickstart for java](https://developers.google.com/people/quickstart/java)\r\n\r\nIf you have any issues with it let me know I know a lot of the samples are getting updated due to a deprecation in the library.\r\n\r\nThis sample uses the connections endpoint your probably going to want to change it to the [People get](https://developers.google.com/people/api/rest/v1/people/get) method\r\n\r\n\r\n    import com.google.api.client.auth.oauth2.Credential;\r\n    import com.google.api.client.extensions.java6.auth.oauth2.AuthorizationCodeInstalledApp;\r\n    import com.google.api.client.extensions.jetty.auth.oauth2.LocalServerReceiver;\r\n    import com.google.api.client.googleapis.auth.oauth2.GoogleAuthorizationCodeFlow;\r\n    import com.google.api.client.googleapis.auth.oauth2.GoogleClientSecrets;\r\n    import com.google.api.client.googleapis.javanet.GoogleNetHttpTransport;\r\n    import com.google.api.client.http.javanet.NetHttpTransport;\r\n    import com.google.api.client.json.JsonFactory;\r\n    import com.google.api.client.json.gson.GsonFactory;\r\n    import com.google.api.client.util.store.FileDataStoreFactory;\r\n    import com.google.api.services.people.v1.PeopleService;\r\n    import com.google.api.services.people.v1.PeopleServiceScopes;\r\n    import com.google.api.services.people.v1.model.ListConnectionsResponse;\r\n    import com.google.api.services.people.v1.model.Name;\r\n    import com.google.api.services.people.v1.model.Person;\r\n    \r\n    import java.io.FileNotFoundException;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.io.InputStreamReader;\r\n    import java.security.GeneralSecurityException;\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    \r\n    public class PeopleQuickstart {\r\n        private static final String APPLICATION_NAME = &quot;Google People API Java Quickstart&quot;;\r\n        private static final JsonFactory JSON_FACTORY = GsonFactory.getDefaultInstance();\r\n        private static final String TOKENS_DIRECTORY_PATH = &quot;tokens&quot;;\r\n    \r\n        /**\r\n         * Global instance of the scopes required by this quickstart.\r\n         * If modifying these scopes, delete your previously saved tokens/ folder.\r\n         */\r\n        private static final List&lt;String&gt; SCOPES = Arrays.asList(PeopleServiceScopes.CONTACTS_READONLY);\r\n        private static final String CREDENTIALS_FILE_PATH = &quot;/credentials.json&quot;;\r\n    \r\n        /**\r\n         * Creates an authorized Credential object.\r\n         * @param HTTP_TRANSPORT The network HTTP Transport.\r\n         * @return An authorized Credential object.\r\n         * @throws IOException If the credentials.json file cannot be found.\r\n         */\r\n        private static Credential getCredentials(final NetHttpTransport HTTP_TRANSPORT) throws IOException {\r\n            // Load client secrets.\r\n            InputStream in = PeopleQuickstart.class.getResourceAsStream(CREDENTIALS_FILE_PATH);\r\n            if (in == null) {\r\n                throw new FileNotFoundException(&quot;Resource not found: &quot; + CREDENTIALS_FILE_PATH);\r\n            }\r\n            GoogleClientSecrets clientSecrets = GoogleClientSecrets.load(JSON_FACTORY, new InputStreamReader(in));\r\n    \r\n            // Build flow and trigger user authorization request.\r\n            GoogleAuthorizationCodeFlow flow = new GoogleAuthorizationCodeFlow.Builder(\r\n                    HTTP_TRANSPORT, JSON_FACTORY, clientSecrets, SCOPES)\r\n                    .setDataStoreFactory(new FileDataStoreFactory(new java.io.File(TOKENS_DIRECTORY_PATH)))\r\n                    .setAccessType(&quot;offline&quot;)\r\n                    .build();\r\n            LocalServerReceiver receiver = new LocalServerReceiver.Builder().setPort(8888).build();\r\n            return new AuthorizationCodeInstalledApp(flow, receiver).authorize(&quot;user&quot;);\r\n        }\r\n    \r\n        public static void main(String... args) throws IOException, GeneralSecurityException {\r\n            // Build a new authorized API client service.\r\n            final NetHttpTransport HTTP_TRANSPORT = GoogleNetHttpTransport.newTrustedTransport();\r\n            PeopleService service = new PeopleService.Builder(HTTP_TRANSPORT, JSON_FACTORY, getCredentials(HTTP_TRANSPORT))\r\n                    .setApplicationName(APPLICATION_NAME)\r\n                    .build();\r\n    \r\n            // Request 10 connections.\r\n            ListConnectionsResponse response = service.people().connections()\r\n                    .list(&quot;people/me&quot;)\r\n                    .setPageSize(10)\r\n                    .setPersonFields(&quot;names,emailAddresses&quot;)\r\n                    .execute();\r\n    \r\n            // Print display name of connections if available.\r\n            List&lt;Person&gt; connections = response.getConnections();\r\n            if (connections != null &amp;&amp; connections.size() &gt; 0) {\r\n                for (Person person : connections) {\r\n                    List&lt;Name&gt; names = person.getNames();\r\n                    if (names != null &amp;&amp; names.size() &gt; 0) {\r\n                        System.out.println(&quot;Name: &quot; + person.getNames().get(0)\r\n                                .getDisplayName());\r\n                    } else {\r\n                        System.out.println(&quot;No names available for connection.&quot;);\r\n                    }\r\n                }\r\n            } else {\r\n                System.out.println(&quot;No connections found.&quot;);\r\n            }\r\n        }\r\n    }","title":"How to get access token using credential in java code","body":"<p>I think you should have a look at the <a href=\"https://developers.google.com/people/quickstart/java\" rel=\"nofollow noreferrer\">People api quickstart for java</a></p>\n<p>If you have any issues with it let me know I know a lot of the samples are getting updated due to a deprecation in the library.</p>\n<p>This sample uses the connections endpoint your probably going to want to change it to the <a href=\"https://developers.google.com/people/api/rest/v1/people/get\" rel=\"nofollow noreferrer\">People get</a> method</p>\n<pre><code>import com.google.api.client.auth.oauth2.Credential;\nimport com.google.api.client.extensions.java6.auth.oauth2.AuthorizationCodeInstalledApp;\nimport com.google.api.client.extensions.jetty.auth.oauth2.LocalServerReceiver;\nimport com.google.api.client.googleapis.auth.oauth2.GoogleAuthorizationCodeFlow;\nimport com.google.api.client.googleapis.auth.oauth2.GoogleClientSecrets;\nimport com.google.api.client.googleapis.javanet.GoogleNetHttpTransport;\nimport com.google.api.client.http.javanet.NetHttpTransport;\nimport com.google.api.client.json.JsonFactory;\nimport com.google.api.client.json.gson.GsonFactory;\nimport com.google.api.client.util.store.FileDataStoreFactory;\nimport com.google.api.services.people.v1.PeopleService;\nimport com.google.api.services.people.v1.PeopleServiceScopes;\nimport com.google.api.services.people.v1.model.ListConnectionsResponse;\nimport com.google.api.services.people.v1.model.Name;\nimport com.google.api.services.people.v1.model.Person;\n\nimport java.io.FileNotFoundException;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.security.GeneralSecurityException;\nimport java.util.Arrays;\nimport java.util.List;\n\npublic class PeopleQuickstart {\n    private static final String APPLICATION_NAME = &quot;Google People API Java Quickstart&quot;;\n    private static final JsonFactory JSON_FACTORY = GsonFactory.getDefaultInstance();\n    private static final String TOKENS_DIRECTORY_PATH = &quot;tokens&quot;;\n\n    /**\n     * Global instance of the scopes required by this quickstart.\n     * If modifying these scopes, delete your previously saved tokens/ folder.\n     */\n    private static final List&lt;String&gt; SCOPES = Arrays.asList(PeopleServiceScopes.CONTACTS_READONLY);\n    private static final String CREDENTIALS_FILE_PATH = &quot;/credentials.json&quot;;\n\n    /**\n     * Creates an authorized Credential object.\n     * @param HTTP_TRANSPORT The network HTTP Transport.\n     * @return An authorized Credential object.\n     * @throws IOException If the credentials.json file cannot be found.\n     */\n    private static Credential getCredentials(final NetHttpTransport HTTP_TRANSPORT) throws IOException {\n        // Load client secrets.\n        InputStream in = PeopleQuickstart.class.getResourceAsStream(CREDENTIALS_FILE_PATH);\n        if (in == null) {\n            throw new FileNotFoundException(&quot;Resource not found: &quot; + CREDENTIALS_FILE_PATH);\n        }\n        GoogleClientSecrets clientSecrets = GoogleClientSecrets.load(JSON_FACTORY, new InputStreamReader(in));\n\n        // Build flow and trigger user authorization request.\n        GoogleAuthorizationCodeFlow flow = new GoogleAuthorizationCodeFlow.Builder(\n                HTTP_TRANSPORT, JSON_FACTORY, clientSecrets, SCOPES)\n                .setDataStoreFactory(new FileDataStoreFactory(new java.io.File(TOKENS_DIRECTORY_PATH)))\n                .setAccessType(&quot;offline&quot;)\n                .build();\n        LocalServerReceiver receiver = new LocalServerReceiver.Builder().setPort(8888).build();\n        return new AuthorizationCodeInstalledApp(flow, receiver).authorize(&quot;user&quot;);\n    }\n\n    public static void main(String... args) throws IOException, GeneralSecurityException {\n        // Build a new authorized API client service.\n        final NetHttpTransport HTTP_TRANSPORT = GoogleNetHttpTransport.newTrustedTransport();\n        PeopleService service = new PeopleService.Builder(HTTP_TRANSPORT, JSON_FACTORY, getCredentials(HTTP_TRANSPORT))\n                .setApplicationName(APPLICATION_NAME)\n                .build();\n\n        // Request 10 connections.\n        ListConnectionsResponse response = service.people().connections()\n                .list(&quot;people/me&quot;)\n                .setPageSize(10)\n                .setPersonFields(&quot;names,emailAddresses&quot;)\n                .execute();\n\n        // Print display name of connections if available.\n        List&lt;Person&gt; connections = response.getConnections();\n        if (connections != null &amp;&amp; connections.size() &gt; 0) {\n            for (Person person : connections) {\n                List&lt;Name&gt; names = person.getNames();\n                if (names != null &amp;&amp; names.size() &gt; 0) {\n                    System.out.println(&quot;Name: &quot; + person.getNames().get(0)\n                            .getDisplayName());\n                } else {\n                    System.out.println(&quot;No names available for connection.&quot;);\n                }\n            }\n        } else {\n            System.out.println(&quot;No connections found.&quot;);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23998843,"reputation":11,"user_id":17984031,"display_name":"kavinila"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1693,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1656519666,"creation_date":1656504059,"question_id":72801091,"body_markdown":"I have to get the access token using credential so that I tried following code\r\n\r\n Here is the code: \r\n\r\n``` \r\nOAuthClient client = new OAuthClient(new URLConnectionClient());\r\n         OAuthClientRequest request =\r\n                    OAuthClientRequest.tokenLocation(&quot;https://accounts.google.com/o/oauth2/token&quot;)\r\n                            .setGrantType(GrantType.AUTHORIZATION_CODE)\r\n                            .setClientId(&quot;My client id&quot;)\r\n                            .setClientSecret(&quot;My client secret&quot;)\r\n                            .buildQueryMessage();\r\n          String token = client.accessToken(request, OAuth.HttpMethod.POST, OAuthJSONAccessTokenResponse.class).getAccessToken();\r\n```\r\nBut I got following error:\r\n\r\n```\r\nException in thread &quot;main&quot; OAuthProblemException{error=&#39;unsupported_response_type&#39;, description=&#39;Invalid response! Response body is not application/json encoded&#39;, uri=&#39;null&#39;, state=&#39;null&#39;, scope=&#39;null&#39;, redirectUri=&#39;null&#39;, responseStatus=0, parameters={}}\r\n\tat org.apache.oltu.oauth2.common.exception.OAuthProblemException.error(OAuthProblemException.java:63)\r\n\tat org.apache.oltu.oauth2.client.response.OAuthJSONAccessTokenResponse.setBody(OAuthJSONAccessTokenResponse.java:76)\r\n\tat org.apache.oltu.oauth2.client.response.OAuthClientResponse.init(OAuthClientResponse.java:92)\r\n\tat org.apache.oltu.oauth2.client.response.OAuthAccessTokenResponse.init(OAuthAccessTokenResponse.java:65)\r\n\tat org.apache.oltu.oauth2.client.response.OAuthClientResponse.init(OAuthClientResponse.java:101)\r\n\tat org.apache.oltu.oauth2.client.response.OAuthAccessTokenResponse.init(OAuthAccessTokenResponse.java:60)\r\n\tat org.apache.oltu.oauth2.client.response.OAuthClientResponse.init(OAuthClientResponse.java:120)\r\n\tat org.apache.oltu.oauth2.client.response.OAuthClientResponseFactory.createCustomResponse(OAuthClientResponseFactory.java:82)\r\n\tat org.apache.oltu.oauth2.client.URLConnectionClient.execute(URLConnectionClient.java:111)\r\n\tat org.apache.oltu.oauth2.client.OAuthClient.accessToken(OAuthClient.java:65)\r\n\tat org.example.google.accesstoken.main(accesstoken.java:42)\r\n```\r\n\r\n\r\nIs there any solution?\r\n\r\n\r\nThanks in advance!!","title":"How to get access token using credential in java code","body":"<p>I have to get the access token using credential so that I tried following code</p>\n<p>Here is the code:</p>\n<pre><code>OAuthClient client = new OAuthClient(new URLConnectionClient());\n         OAuthClientRequest request =\n                    OAuthClientRequest.tokenLocation(&quot;https://accounts.google.com/o/oauth2/token&quot;)\n                            .setGrantType(GrantType.AUTHORIZATION_CODE)\n                            .setClientId(&quot;My client id&quot;)\n                            .setClientSecret(&quot;My client secret&quot;)\n                            .buildQueryMessage();\n          String token = client.accessToken(request, OAuth.HttpMethod.POST, OAuthJSONAccessTokenResponse.class).getAccessToken();\n</code></pre>\n<p>But I got following error:</p>\n<pre><code>Exception in thread &quot;main&quot; OAuthProblemException{error='unsupported_response_type', description='Invalid response! Response body is not application/json encoded', uri='null', state='null', scope='null', redirectUri='null', responseStatus=0, parameters={}}\n    at org.apache.oltu.oauth2.common.exception.OAuthProblemException.error(OAuthProblemException.java:63)\n    at org.apache.oltu.oauth2.client.response.OAuthJSONAccessTokenResponse.setBody(OAuthJSONAccessTokenResponse.java:76)\n    at org.apache.oltu.oauth2.client.response.OAuthClientResponse.init(OAuthClientResponse.java:92)\n    at org.apache.oltu.oauth2.client.response.OAuthAccessTokenResponse.init(OAuthAccessTokenResponse.java:65)\n    at org.apache.oltu.oauth2.client.response.OAuthClientResponse.init(OAuthClientResponse.java:101)\n    at org.apache.oltu.oauth2.client.response.OAuthAccessTokenResponse.init(OAuthAccessTokenResponse.java:60)\n    at org.apache.oltu.oauth2.client.response.OAuthClientResponse.init(OAuthClientResponse.java:120)\n    at org.apache.oltu.oauth2.client.response.OAuthClientResponseFactory.createCustomResponse(OAuthClientResponseFactory.java:82)\n    at org.apache.oltu.oauth2.client.URLConnectionClient.execute(URLConnectionClient.java:111)\n    at org.apache.oltu.oauth2.client.OAuthClient.accessToken(OAuthClient.java:65)\n    at org.example.google.accesstoken.main(accesstoken.java:42)\n</code></pre>\n<p>Is there any solution?</p>\n<p>Thanks in advance!!</p>\n"},{"tags":["java","android","xml"],"answers":[{"tags":[],"owner":{"account_id":14064733,"reputation":3952,"user_id":10159898,"display_name":"Bruno"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1656519425,"creation_date":1656428506,"answer_id":72788854,"question_id":72788765,"body_markdown":"You have to provide your own custom view and then you have to retrieve your EditTexts with `findViewByID()`\r\n\r\n```\r\nView view = getLayoutInflater().inflate(R.layout.custom_dialog, null);\r\nEditText edt1 = view.findViewById(R.id.Description);\r\n// get other EditTexts here\r\nfinal Dialog alertDialog = new Dialog(activity);\r\nalertDialog.setView(view);\r\nalertDialog.setPositiveButton(&quot;Ok&quot;, (dialogInterface, i) -&gt; {\r\n    String description = edt1.getText().toString();\r\n    //other stuff\r\n});\r\n\r\n```\r\n\r\nEntire sample inspired from your code\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    private ActivityMainBinding binding;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n\r\n        binding = ActivityMainBinding.inflate(LayoutInflater.from(this));\r\n\r\n        setContentView(binding.getRoot());\r\n\r\n        binding.fab.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n\r\n                View viewcustom = getLayoutInflater().inflate(R.layout.custom_dialog, null);\r\n                EditText edt1 = viewcustom.findViewById(R.id.Description);\r\n                EditText edt2 = viewcustom.findViewById(R.id.Age);\r\n                EditText edt3 = viewcustom.findViewById(R.id.Hobby);\r\n                EditText edt4 = viewcustom.findViewById(R.id.City);\r\n\r\n                final AlertDialog.Builder alertDialog = new AlertDialog.Builder(MainActivity.this)\r\n                        .setView(viewcustom)\r\n                        .setPositiveButton(&quot;Ok&quot;, (dialogInterface, i) -&gt; {\r\n                            String description = edt1.getText().toString();\r\n                            String age = edt2.getText().toString();\r\n                            String Hobby = edt3.getText().toString();\r\n                            String City = edt4.getText().toString();\r\n\r\n                            Toast.makeText(MainActivity.this, description, Toast.LENGTH_SHORT).show();\r\n                        });\r\n                alertDialog.setNegativeButton(&quot;Cancel&quot;, null);\r\n                alertDialog.create().show();\r\n            }\r\n        });\r\n    }\r\n}\r\n```","title":"Dialog with multiple textview","body":"<p>You have to provide your own custom view and then you have to retrieve your EditTexts with <code>findViewByID()</code></p>\n<pre><code>View view = getLayoutInflater().inflate(R.layout.custom_dialog, null);\nEditText edt1 = view.findViewById(R.id.Description);\n// get other EditTexts here\nfinal Dialog alertDialog = new Dialog(activity);\nalertDialog.setView(view);\nalertDialog.setPositiveButton(&quot;Ok&quot;, (dialogInterface, i) -&gt; {\n    String description = edt1.getText().toString();\n    //other stuff\n});\n\n</code></pre>\n<p>Entire sample inspired from your code</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    private ActivityMainBinding binding;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        binding = ActivityMainBinding.inflate(LayoutInflater.from(this));\n\n        setContentView(binding.getRoot());\n\n        binding.fab.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n\n                View viewcustom = getLayoutInflater().inflate(R.layout.custom_dialog, null);\n                EditText edt1 = viewcustom.findViewById(R.id.Description);\n                EditText edt2 = viewcustom.findViewById(R.id.Age);\n                EditText edt3 = viewcustom.findViewById(R.id.Hobby);\n                EditText edt4 = viewcustom.findViewById(R.id.City);\n\n                final AlertDialog.Builder alertDialog = new AlertDialog.Builder(MainActivity.this)\n                        .setView(viewcustom)\n                        .setPositiveButton(&quot;Ok&quot;, (dialogInterface, i) -&gt; {\n                            String description = edt1.getText().toString();\n                            String age = edt2.getText().toString();\n                            String Hobby = edt3.getText().toString();\n                            String City = edt4.getText().toString();\n\n                            Toast.makeText(MainActivity.this, description, Toast.LENGTH_SHORT).show();\n                        });\n                alertDialog.setNegativeButton(&quot;Cancel&quot;, null);\n                alertDialog.create().show();\n            }\n        });\n    }\n}\n</code></pre>\n"}],"owner":{"display_name":"user19420525"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":119,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":72788854,"answer_count":1,"score":-2,"last_activity_date":1656519425,"creation_date":1656428211,"question_id":72788765,"body_markdown":"i need to add 5 text view in my code. For now there is only one and it is used to put a marker in google maps. I would like that in addition to this you could put another 4 data insertions like (description, age, work, hobbys).Below I also put the custom dialog I made can you check if it&#39;s okay? Feel free to ask for anything. How can I do?   \r\n\r\n                    add_address.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                View viewcustom = getLayoutInflater().inflate(R.layout.custom_dialog, null);\r\n                EditText edt1 = view.findViewById(R.id.Description);\r\n                EditText edt2 = view.findViewById(R.id.Age);\r\n                EditText edt3 = view.findViewById(R.id.Hobby);\r\n                EditText edt4 = view.findViewById(R.id.City);\r\n                EditText edt5 = view.findViewById(R.id.address);\r\n\r\n                final AlertDialog.Builder alertDialog = new AlertDialog.Builder(requireContext())\r\n                        .setView(viewcustom)\r\n                        .setPositiveButton(&quot;Ok&quot;, (dialogInterface, i) -&gt; {\r\n                            String description = edt1.getText().toString();\r\n                            String age = edt2.getText().toString();\r\n                            String Hobby = edt3.getText().toString();\r\n                            String City = edt4.getText().toString();\r\n                            String address = edt5.getText().toString();\r\n\r\n                            Toast.makeText(requireContext(), description, Toast.LENGTH_SHORT).show();\r\n                    firebaseUser = FirebaseAuth.getInstance().getCurrentUser();\r\n                    reference = FirebaseDatabase.getInstance().getReference(&quot;Users&quot;).child(firebaseUser.getUid()).child(&quot;address&quot;);\r\n                    reference.setValue(address);\r\n                });\r\n                alertDialog.setNegativeButton(&quot;Cancel&quot;, null);\r\n                alertDialog.create().show();\r\n                //startAutoCompleteIntent();\r\n            }\r\n        });\r\nCustomdialog.xml\r\n\r\n   \r\n\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:orientation=&quot;vertical&quot; android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;&gt;\r\n    \r\n        &lt;EditText\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:hint=&quot;Text 1&quot;\r\n            android:id=&quot;@+id/Description&quot; /&gt;\r\n    \r\n        &lt;EditText\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:hint=&quot;Text 2&quot;\r\n            android:id=&quot;@+id/Age&quot; /&gt;\r\n    \r\n        &lt;EditText\r\n            android:id=&quot;@+id/Hobby&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_gravity=&quot;center_horizontal&quot;\r\n            android:hint=&quot;Text 3&quot; /&gt;\r\n    \r\n        &lt;EditText\r\n            android:id=&quot;@+id/City&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:hint=&quot;Text 4&quot; /&gt;\r\n        &lt;EditText\r\n            android:id=&quot;@+id/Marker&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:hint=&quot;Text 5&quot; /&gt;\r\n    &lt;/LinearLayout&gt;\r\n\r\n","title":"Dialog with multiple textview","body":"<p>i need to add 5 text view in my code. For now there is only one and it is used to put a marker in google maps. I would like that in addition to this you could put another 4 data insertions like (description, age, work, hobbys).Below I also put the custom dialog I made can you check if it's okay? Feel free to ask for anything. How can I do?</p>\n<pre><code>                add_address.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            View viewcustom = getLayoutInflater().inflate(R.layout.custom_dialog, null);\n            EditText edt1 = view.findViewById(R.id.Description);\n            EditText edt2 = view.findViewById(R.id.Age);\n            EditText edt3 = view.findViewById(R.id.Hobby);\n            EditText edt4 = view.findViewById(R.id.City);\n            EditText edt5 = view.findViewById(R.id.address);\n\n            final AlertDialog.Builder alertDialog = new AlertDialog.Builder(requireContext())\n                    .setView(viewcustom)\n                    .setPositiveButton(&quot;Ok&quot;, (dialogInterface, i) -&gt; {\n                        String description = edt1.getText().toString();\n                        String age = edt2.getText().toString();\n                        String Hobby = edt3.getText().toString();\n                        String City = edt4.getText().toString();\n                        String address = edt5.getText().toString();\n\n                        Toast.makeText(requireContext(), description, Toast.LENGTH_SHORT).show();\n                firebaseUser = FirebaseAuth.getInstance().getCurrentUser();\n                reference = FirebaseDatabase.getInstance().getReference(&quot;Users&quot;).child(firebaseUser.getUid()).child(&quot;address&quot;);\n                reference.setValue(address);\n            });\n            alertDialog.setNegativeButton(&quot;Cancel&quot;, null);\n            alertDialog.create().show();\n            //startAutoCompleteIntent();\n        }\n    });\n</code></pre>\n<p>Customdialog.xml</p>\n<pre><code>&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:orientation=&quot;vertical&quot; android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n\n    &lt;EditText\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:hint=&quot;Text 1&quot;\n        android:id=&quot;@+id/Description&quot; /&gt;\n\n    &lt;EditText\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:hint=&quot;Text 2&quot;\n        android:id=&quot;@+id/Age&quot; /&gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/Hobby&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_gravity=&quot;center_horizontal&quot;\n        android:hint=&quot;Text 3&quot; /&gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/City&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:hint=&quot;Text 4&quot; /&gt;\n    &lt;EditText\n        android:id=&quot;@+id/Marker&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:hint=&quot;Text 5&quot; /&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n"},{"tags":["java","android","kotlin","bundle","parcelable"],"comments":[{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":2,"creation_date":1656520010,"post_id":72804679,"comment_id":128594932,"body_markdown":"Passing custom types between apps is unlikely to work well. Pass the data in a neutral format, such as JSON.","body":"Passing custom types between apps is unlikely to work well. Pass the data in a neutral format, such as JSON."},{"owner":{"display_name":"user19309143"},"score":0,"creation_date":1656536015,"post_id":72804679,"comment_id":128600128,"body_markdown":"This doesn&#39;t apply to your specific question but it is in the same ballpark. If binding is required (it doesn&#39;t seem to be in this case), then you could use AIDL and share the AIDL file between both apps. This will allow you to essentially share custom data types.","body":"This doesn&#39;t apply to your specific question but it is in the same ballpark. If binding is required (it doesn&#39;t seem to be in this case), then you could use AIDL and share the AIDL file between both apps. This will allow you to essentially share custom data types."}],"owner":{"account_id":25672666,"reputation":71,"user_id":19436650,"display_name":"Mehar Ahmer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1656519328,"creation_date":1656519154,"question_id":72804679,"body_markdown":"I&#39;m facing following Errors/Exceptions when receiving data from ```one App to another App``` in Kotlin (Android):\r\n\r\n1. Class Not Found When Unmarshalling: com.example.Parcelable.User\r\n2. mExtras=Bundle[{)}]\r\n3. mParcelledData=null\r\n4. mMap=size 0\r\n\r\nAlso, In MainActivtiy: ```if(intent.hasExtra(&quot;USER&quot;))``` statement giving error and displaying Toast message written in Else statement.\r\n\r\nPlease help me how I can resolve these exceptions ? **Thanks a Lot!**\r\n\r\n**(SendingApp File) -&gt; MainActivity.kt**\r\n```\r\nbtnSendData1.setOnClickListener {\r\n            val intent = Intent(Intent.ACTION_SEND).setType(&quot;text/plain&quot;)\r\n\r\n            intent.component =\r\n                ComponentName.unflattenFromString(&quot;com.example.receive&quot;)\r\n\r\n            val args = Bundle()\r\n            args.putParcelable(USER_KEY, User(&quot;Ahmer&quot;, &quot;28&quot;))\r\n            intent.putExtras(args)\r\n\r\n            Log.d(&quot;Ahmer&quot;, args.toString())\r\n\r\n            startActivity(Intent.createChooser(intent, &quot;Share to...&quot;))\r\n        }\r\n```\r\n\r\n**(ReceivingApp File) -&gt; MainActivity.kt**\r\n```\r\nclass MainActivity : AppCompatActivity() {\r\n    private lateinit var textView: TextView\r\n\r\n    @SuppressLint(&quot;SetTextI18n&quot;)\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        setContentView(R.layout.activity_main)\r\n\r\n        textView = findViewById(R.id.tv_username)\r\n\r\n        when (intent?.action) {\r\n            Intent.ACTION_SEND -&gt; {\r\n                if (&quot;text/plain&quot; == intent.type) {\r\n                    handleSendText(intent)\r\n                } else {\r\n                    Toast.makeText(this, &quot;No Text&quot;, Toast.LENGTH_SHORT).show()\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    @SuppressLint(&quot;SetTextI18n&quot;)\r\n    private fun handleSendText(intent: Intent) {\r\n        if (intent.extras != null) {\r\n            if (intent.hasExtra(&quot;USER&quot;)) {\r\n                Log.d(&quot;Intent&quot;, intent.toString())\r\n\r\n                val bundle = intent.extras\r\n                val user = bundle?.getParcelable&lt;User&gt;(&quot;USER&quot;) as User\r\n                textView.text = &quot;${user.name}${user.age}&quot;\r\n            } else {\r\n                Toast.makeText(this, &quot;Has Extras Null&quot;, Toast.LENGTH_SHORT).show()\r\n            }\r\n        } else {\r\n            Toast.makeText(this, &quot;Extras Null&quot;, Toast.LENGTH_SHORT).show()\r\n        }\r\n    }\r\n}\r\n```\r\n**(ReceivingApp File) -&gt; User.kt**\r\n```\r\npackage com.example.receive\r\n\r\nimport android.os.Parcelable\r\nimport kotlinx.android.parcel.Parcelize\r\n\r\n@Parcelize\r\ndata class User(\r\n    var name: String,\r\n    var age: String\r\n) : Parcelable\r\n```","title":"Class Not Found When Unmarshalling: com.example.Parcelable.User","body":"<p>I'm facing following Errors/Exceptions when receiving data from <code>one App to another App</code> in Kotlin (Android):</p>\n<ol>\n<li>Class Not Found When Unmarshalling: com.example.Parcelable.User</li>\n<li>mExtras=Bundle[{)}]</li>\n<li>mParcelledData=null</li>\n<li>mMap=size 0</li>\n</ol>\n<p>Also, In MainActivtiy: <code>if(intent.hasExtra(&quot;USER&quot;))</code> statement giving error and displaying Toast message written in Else statement.</p>\n<p>Please help me how I can resolve these exceptions ? <strong>Thanks a Lot!</strong></p>\n<p><strong>(SendingApp File) -&gt; MainActivity.kt</strong></p>\n<pre><code>btnSendData1.setOnClickListener {\n            val intent = Intent(Intent.ACTION_SEND).setType(&quot;text/plain&quot;)\n\n            intent.component =\n                ComponentName.unflattenFromString(&quot;com.example.receive&quot;)\n\n            val args = Bundle()\n            args.putParcelable(USER_KEY, User(&quot;Ahmer&quot;, &quot;28&quot;))\n            intent.putExtras(args)\n\n            Log.d(&quot;Ahmer&quot;, args.toString())\n\n            startActivity(Intent.createChooser(intent, &quot;Share to...&quot;))\n        }\n</code></pre>\n<p><strong>(ReceivingApp File) -&gt; MainActivity.kt</strong></p>\n<pre><code>class MainActivity : AppCompatActivity() {\n    private lateinit var textView: TextView\n\n    @SuppressLint(&quot;SetTextI18n&quot;)\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        textView = findViewById(R.id.tv_username)\n\n        when (intent?.action) {\n            Intent.ACTION_SEND -&gt; {\n                if (&quot;text/plain&quot; == intent.type) {\n                    handleSendText(intent)\n                } else {\n                    Toast.makeText(this, &quot;No Text&quot;, Toast.LENGTH_SHORT).show()\n                }\n            }\n        }\n    }\n\n    @SuppressLint(&quot;SetTextI18n&quot;)\n    private fun handleSendText(intent: Intent) {\n        if (intent.extras != null) {\n            if (intent.hasExtra(&quot;USER&quot;)) {\n                Log.d(&quot;Intent&quot;, intent.toString())\n\n                val bundle = intent.extras\n                val user = bundle?.getParcelable&lt;User&gt;(&quot;USER&quot;) as User\n                textView.text = &quot;${user.name}${user.age}&quot;\n            } else {\n                Toast.makeText(this, &quot;Has Extras Null&quot;, Toast.LENGTH_SHORT).show()\n            }\n        } else {\n            Toast.makeText(this, &quot;Extras Null&quot;, Toast.LENGTH_SHORT).show()\n        }\n    }\n}\n</code></pre>\n<p><strong>(ReceivingApp File) -&gt; User.kt</strong></p>\n<pre><code>package com.example.receive\n\nimport android.os.Parcelable\nimport kotlinx.android.parcel.Parcelize\n\n@Parcelize\ndata class User(\n    var name: String,\n    var age: String\n) : Parcelable\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8769,"page":1223,"page_size":100}
