{"items":[{"tags":["java","spring","spring-cloud-vault-config"],"answers":[{"tags":[],"owner":{"account_id":5630280,"reputation":41,"user_id":4457423,"display_name":"fbiberger"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1606810034,"creation_date":1606810034,"answer_id":65086768,"question_id":64954966,"body_markdown":"I had the exact same problem yesterday. The issue had been solved in this question: https://stackoverflow.com/questions/53933508/caused-by-java-lang-illegalargumentexception-token-spring-cloud-vault-token\r\n\r\nYour test class is loaded in application context, but the error you get is thrown in bootstrap context. `spring.cloud`-properties are always loaded in that context. The solution is to set `spring.cloud.vault.enabled=false` in bootstrap context, e.g. you can put it in a bootstrap.yml file in your test-ressources.","title":"Not able to disable Spring Vault during unit tests in Java","body":"<p>I had the exact same problem yesterday. The issue had been solved in this question: <a href=\"https://stackoverflow.com/questions/53933508/caused-by-java-lang-illegalargumentexception-token-spring-cloud-vault-token\">Caused by: java.lang.IllegalArgumentException: Token (spring.cloud.vault.token) must not be empty - Hashicorp Vault</a></p>\n<p>Your test class is loaded in application context, but the error you get is thrown in bootstrap context. <code>spring.cloud</code>-properties are always loaded in that context. The solution is to set <code>spring.cloud.vault.enabled=false</code> in bootstrap context, e.g. you can put it in a bootstrap.yml file in your test-ressources.</p>\n"},{"tags":[],"owner":{"account_id":1277422,"reputation":179,"user_id":1232362,"accept_rate":64,"display_name":"Alexander Tilkin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1663851549,"creation_date":1663851549,"answer_id":73815073,"question_id":64954966,"body_markdown":"Spring Cloud Vault doesn&#39;t support bootstrap.yml anymore. Hence, you have to write the configuration in application.yml.\r\n\r\nWhen you use application context: WebFluxTest, SpringBootTest, Autowire, etc. the test loads application context that results in reading the application.yml file\r\n\r\nTo avoid loading Vault in UTs you need to create an application.yml file in the resources folder in the Test folder and add the following line: \r\n\r\n    spring.cloud.vault.enabled: false\r\n\r\nNote: yml = properties (whatever format you use) \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OdPDU.png","title":"Not able to disable Spring Vault during unit tests in Java","body":"<p>Spring Cloud Vault doesn't support bootstrap.yml anymore. Hence, you have to write the configuration in application.yml.</p>\n<p>When you use application context: WebFluxTest, SpringBootTest, Autowire, etc. the test loads application context that results in reading the application.yml file</p>\n<p>To avoid loading Vault in UTs you need to create an application.yml file in the resources folder in the Test folder and add the following line:</p>\n<pre><code>spring.cloud.vault.enabled: false\n</code></pre>\n<p>Note: yml = properties (whatever format you use)</p>\n<p><a href=\"https://i.stack.imgur.com/OdPDU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OdPDU.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":9427779,"reputation":336,"user_id":7012221,"display_name":"Abhishek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688046660,"creation_date":1688046660,"answer_id":76581682,"question_id":64954966,"body_markdown":"I&#39;m able to fix this issue using \r\n\r\n    azure.keyvault.enabled=false","title":"Not able to disable Spring Vault during unit tests in Java","body":"<p>I'm able to fix this issue using</p>\n<pre><code>azure.keyvault.enabled=false\n</code></pre>\n"}],"owner":{"account_id":3751239,"reputation":2505,"user_id":3118692,"accept_rate":53,"display_name":"Syed"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5203,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1688046660,"creation_date":1606053162,"question_id":64954966,"body_markdown":"I&#39;ve disabled the spring vault in my unit tests. But however, its still enabling it and running in the back ground. This is my code. Is there any issue in the below code\r\n\r\n    @RunWith(SpringRunner.class)\r\n\r\n    @SpringBootTest(properties = &quot;spring.cloud.vault.enabled=false&quot;, classes = \r\n     DummyTest.class)\r\n    public class DummyTest{\r\n\t    \r\n\t\t@Test\r\n\t    public void getDummyTest() throws Exception{\r\n\t    \tassertTrue(true);\r\n\t    }\r\n\t\t\r\n    }\r\n\r\nFollowing is the exception that its printing in the console\r\n\r\n    Caused by: java.lang.IllegalArgumentException: Token (spring.cloud.vault.token) must not be empty\r\n\tat org.springframework.util.Assert.hasText(Assert.java:287)\r\n\tat org.springframework.cloud.vault.config.ClientAuthenticationFactory.createClientAuthentication(ClientAuthenticationFactory.java:108)\r\n\tat org.springframework.cloud.vault.config.VaultBootstrapConfiguration.clientAuthentication(VaultBootstrapConfiguration.java:206)\r\n\tat org.springframework.cloud.vault.config.VaultBootstrapConfiguration$$EnhancerBySpringCGLIB$$1d0bfc2.CGLIB$clientAuthentication$3(&lt;generated&gt;)\r\n\tat org.springframework.cloud.vault.config.VaultBootstrapConfiguration$$EnhancerBySpringCGLIB$$1d0bfc2$$FastClassBySpringCGLIB$$7f75c921.invoke(&lt;generated&gt;)\r\n\tat org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244)\r\n\tat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331)\r\n\tat org.springframework.cloud.vault.config.VaultBootstrapConfiguration$$EnhancerBySpringCGLIB$$1d0bfc2.clientAuthentication(&lt;generated&gt;)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)\r\n\t... 99 more","title":"Not able to disable Spring Vault during unit tests in Java","body":"<p>I've disabled the spring vault in my unit tests. But however, its still enabling it and running in the back ground. This is my code. Is there any issue in the below code</p>\n<pre><code>@RunWith(SpringRunner.class)\n\n@SpringBootTest(properties = &quot;spring.cloud.vault.enabled=false&quot;, classes = \n DummyTest.class)\npublic class DummyTest{\n    \n    @Test\n    public void getDummyTest() throws Exception{\n        assertTrue(true);\n    }\n    \n}\n</code></pre>\n<p>Following is the exception that its printing in the console</p>\n<pre><code>Caused by: java.lang.IllegalArgumentException: Token (spring.cloud.vault.token) must not be empty\nat org.springframework.util.Assert.hasText(Assert.java:287)\nat org.springframework.cloud.vault.config.ClientAuthenticationFactory.createClientAuthentication(ClientAuthenticationFactory.java:108)\nat org.springframework.cloud.vault.config.VaultBootstrapConfiguration.clientAuthentication(VaultBootstrapConfiguration.java:206)\nat org.springframework.cloud.vault.config.VaultBootstrapConfiguration$$EnhancerBySpringCGLIB$$1d0bfc2.CGLIB$clientAuthentication$3(&lt;generated&gt;)\nat org.springframework.cloud.vault.config.VaultBootstrapConfiguration$$EnhancerBySpringCGLIB$$1d0bfc2$$FastClassBySpringCGLIB$$7f75c921.invoke(&lt;generated&gt;)\nat org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244)\nat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331)\nat org.springframework.cloud.vault.config.VaultBootstrapConfiguration$$EnhancerBySpringCGLIB$$1d0bfc2.clientAuthentication(&lt;generated&gt;)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\nat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)\n... 99 more\n</code></pre>\n"},{"tags":["java","soap","spring-webflux","spring-webclient"],"answers":[{"tags":[],"owner":{"account_id":3143684,"reputation":687,"user_id":2658627,"accept_rate":33,"display_name":"anonymous"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688046315,"creation_date":1688046315,"answer_id":76581633,"question_id":76577257,"body_markdown":"I was able to find and fix my problem. Checking the javadocs some more, encodeValue() by default raises UnsupportedOperationException as it is expected that some encoders cannot produce a single buffer or cannot do so synchronously (e.g. encoding a Resource).\r\n\r\nSo, I redid these classes:\r\n\r\nclass Jaxb2RsaDecoder extends Jaxb2XmlDecoder\r\n\r\n    public Jaxb2RsaDecoder() {\r\n        super();\r\n    }\r\n\r\n    @Override\r\n    @SuppressWarnings({&quot;rawtypes&quot;, &quot;unchecked&quot;, &quot;cast&quot;})  // XMLEventReader is Iterator&lt;Object&gt; on JDK 9\r\n    public Object decode(DataBuffer dataBuffer, ResolvableType targetType,\r\n                         @Nullable MimeType mimeType, @Nullable Map&lt;String, Object&gt; hints) throws DecodingException {\r\n        log.debug(&quot;dataBuffer: {}, targetType: {}&quot;, dataBuffer, targetType);\r\n        try {\r\n            DefaultStrategiesHelper helper = new DefaultStrategiesHelper(WebServiceTemplate.class);\r\n            WebServiceMessageFactory messageFactory = helper.getDefaultStrategy(WebServiceMessageFactory.class);\r\n            WebServiceMessage message = messageFactory.createWebServiceMessage( dataBuffer.asInputStream() );\r\n            return unmarshal(message, targetType.toClass());\r\n        }\r\n        catch (Throwable ex) {\r\n            ex = (ex.getCause() instanceof XMLStreamException ? ex.getCause() : ex);\r\n            throw Exceptions.propagate(ex);\r\n        }\r\n        finally {\r\n            DataBufferUtils.release(dataBuffer);\r\n        }\r\n    }\r\n\r\n    private Object unmarshal(WebServiceMessage message, Class&lt;?&gt; outputClass) {\r\n        log.debug(&quot;message: {}, outputClass: {}&quot;, message, outputClass);\r\n        try {\r\n            Jaxb2Marshaller marshaller = initJaxb2Marshaller();\r\n            Object value = marshaller.unmarshal(message.getPayloadSource());\r\n            log.debug(&quot;value.class: {}, outputClass: {}&quot;, value.getClass(), outputClass);\r\n            return value;\r\n        }\r\n        catch (UnmarshalException ex) {\r\n            throw new DecodingException(&quot;Could not unmarshal XML to &quot; + outputClass, ex);\r\n        }\r\n        catch (JAXBException ex) {\r\n            throw new CodecException(&quot;Invalid JAXB configuration&quot;, ex);\r\n        }\r\n        catch (Exception ex) {\r\n            throw new DecodingException(&quot;Could not unmarshal XML to &quot; + outputClass, ex);\r\n        }\r\n    }\r\n\r\n    private Jaxb2Marshaller initJaxb2Marshaller() throws JAXBException {\r\n        Jaxb2Marshaller marshaller = new Jaxb2Marshaller();\r\n        marshaller.setContextPath(settings.getRsaPackage());\r\n\r\n        try {\r\n            marshaller.afterPropertiesSet();\r\n        } catch (Exception e) {\r\n            log.error(&quot;Could not set properties, please check &quot;, e);\r\n        }\r\n\r\n        getUnmarshallerProcessor().apply(marshaller.createUnmarshaller());\r\n\r\n        return marshaller;\r\n    }\r\n\r\nclass Jaxb2RsaEncoder implements Encoder&lt;Object&gt;\r\n\r\n    @Override\r\n    public boolean canEncode(ResolvableType elementType, MimeType mimeType) {\r\n        Class&lt;?&gt; outputClass = elementType.toClass();\r\n        boolean result = (outputClass.isAnnotationPresent(XmlRootElement.class) ||\r\n                          outputClass.isAnnotationPresent(XmlType.class));\r\n        log.debug(&quot;outputClass: {}, canEncode: {}&quot;, outputClass, result);\r\n        return result;\r\n    }\r\n\r\n    @Override\r\n    public Flux&lt;DataBuffer&gt; encode(Publisher&lt;?&gt; inputStream, DataBufferFactory bufferFactory, ResolvableType elementType, MimeType mimeType, Map&lt;String, Object&gt; hints) {\r\n        return Flux.from(inputStream)\r\n                .take(1)\r\n                .concatMap(value -&gt; encode(value, bufferFactory, elementType, mimeType, hints))\r\n                .doOnDiscard(PooledDataBuffer.class, PooledDataBuffer::release);\r\n    }\r\n\r\n    @Override\r\n    public List&lt;MimeType&gt; getEncodableMimeTypes() {\r\n        return Arrays.asList( MediaType.TEXT_XML );\r\n    }\r\n\r\n    private Flux&lt;DataBuffer&gt; encode(Object value,\r\n                                    DataBufferFactory bufferFactory,\r\n                                    ResolvableType type,\r\n                                    MimeType mimeType,\r\n                                    Map&lt;String, Object&gt; hints) {\r\n        return Mono.fromCallable(() -&gt; this.encodeValue(value, bufferFactory, type, mimeType, hints)).flux();\r\n    }\r\n\r\n    @Override\r\n    public DataBuffer encodeValue(Object value, DataBufferFactory bufferFactory, ResolvableType type,\r\n                                  @Nullable MimeType mimeType, @Nullable Map&lt;String, Object&gt; hints) {\r\n        log.debug(&quot;encodeValue - start: {}&quot;, value.getClass());\r\n        boolean release = true;\r\n        DataBuffer buffer = bufferFactory.allocateBuffer(1024);\r\n        try {\r\n            OutputStream outputStream = buffer.asOutputStream();\r\n            Class&lt;?&gt; clazz = ClassUtils.getUserClass(value);\r\n            Marshaller marshaller = initJaxb2Marshaller().createMarshaller();\r\n\r\n            // here should be optimized\r\n            DefaultStrategiesHelper helper = new DefaultStrategiesHelper(WebServiceTemplate.class);\r\n            WebServiceMessageFactory messageFactory = helper.getDefaultStrategy(WebServiceMessageFactory.class);\r\n            WebServiceMessage message = messageFactory.createWebServiceMessage();\r\n\r\n            marshaller.marshal(value, message.getPayloadResult());\r\n            message.writeTo(outputStream);\r\n\r\n            release = false;\r\n            log.debug(&quot;encodeValue - buffer: {}&quot;, buffer);\r\n            return buffer;\r\n        } catch (MarshalException ex) {\r\n            throw new EncodingException(&quot;Could not marshal &quot; + value.getClass() + &quot; to XML&quot;, ex);\r\n        } catch (JAXBException ex) {\r\n            throw new CodecException(&quot;Invalid JAXB configuration&quot;, ex);\r\n        } catch (Exception ex) {\r\n            throw new EncodingException(&quot;Could not encode value &quot; + value.getClass() + &quot; to XML&quot;, ex);\r\n        } finally {\r\n            if (release) {\r\n                DataBufferUtils.release(buffer);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    private Jaxb2Marshaller initJaxb2Marshaller() throws JAXBException {\r\n        Jaxb2Marshaller marshaller = new Jaxb2Marshaller();\r\n        marshaller.setContextPath(settings.getRsaPackage());\r\n\r\n        try {\r\n            marshaller.afterPropertiesSet();\r\n        } catch (Exception e) {\r\n            log.error(&quot;Could not set properties, please check &quot;, e);\r\n        }\r\n\r\n        return marshaller;\r\n    }\r\n\r\nAnd then updated the ExchangeStrategy on the webClient:\r\n\r\n    @Bean(&quot;soapWebClient&quot;)\r\n    WebClient soapWebClient() {\r\n        ExchangeStrategies exchangeStrategies = ExchangeStrategies.builder()\r\n            .codecs(clientCodecConfigurer -&gt; {\r\n                Encoder&lt;Object&gt; encoder = new Jaxb2RsaEncoder();\r\n                clientCodecConfigurer.customCodecs().encoder(encoder);\r\n                Decoder&lt;Object&gt; decoder = new Jaxb2RsaDecoder();\r\n                clientCodecConfigurer.customCodecs().decoder(decoder);\r\n                log.debug(&quot;clientCodecConfigurer: {}&quot;, clientCodecConfigurer);\r\n                log.debug(&quot;customCodecs: {}&quot;, clientCodecConfigurer.customCodecs());\r\n                log.debug(&quot;encoder: {}, decoder: {}&quot;, encoder, decoder);\r\n            }).build();\r\n\r\n        WebClient webClient = WebClient.builder()\r\n            .clientConnector(new ReactorClientHttpConnector(httpClient()))\r\n            .filter(this.logRequest())\r\n            .filter(this.logResponse())\r\n            .exchangeStrategies(exchangeStrategies)\r\n            .build();\r\n\r\n        log.debug(&quot;exchangeStrategies: {}, webClient: {}&quot;, exchangeStrategies, webClient);\r\n        return webClient;\r\n    }\r\n\r\nNow, I can make synchronous requests and the exchange strategy will use my WSDL generated packages to handle encoding and decoding of the SOAP classes.","title":"Spring WebClient - SOAP Encoder UnsupportedOperationException: null","body":"<p>I was able to find and fix my problem. Checking the javadocs some more, encodeValue() by default raises UnsupportedOperationException as it is expected that some encoders cannot produce a single buffer or cannot do so synchronously (e.g. encoding a Resource).</p>\n<p>So, I redid these classes:</p>\n<p>class Jaxb2RsaDecoder extends Jaxb2XmlDecoder</p>\n<pre><code>public Jaxb2RsaDecoder() {\n    super();\n}\n\n@Override\n@SuppressWarnings({&quot;rawtypes&quot;, &quot;unchecked&quot;, &quot;cast&quot;})  // XMLEventReader is Iterator&lt;Object&gt; on JDK 9\npublic Object decode(DataBuffer dataBuffer, ResolvableType targetType,\n                     @Nullable MimeType mimeType, @Nullable Map&lt;String, Object&gt; hints) throws DecodingException {\n    log.debug(&quot;dataBuffer: {}, targetType: {}&quot;, dataBuffer, targetType);\n    try {\n        DefaultStrategiesHelper helper = new DefaultStrategiesHelper(WebServiceTemplate.class);\n        WebServiceMessageFactory messageFactory = helper.getDefaultStrategy(WebServiceMessageFactory.class);\n        WebServiceMessage message = messageFactory.createWebServiceMessage( dataBuffer.asInputStream() );\n        return unmarshal(message, targetType.toClass());\n    }\n    catch (Throwable ex) {\n        ex = (ex.getCause() instanceof XMLStreamException ? ex.getCause() : ex);\n        throw Exceptions.propagate(ex);\n    }\n    finally {\n        DataBufferUtils.release(dataBuffer);\n    }\n}\n\nprivate Object unmarshal(WebServiceMessage message, Class&lt;?&gt; outputClass) {\n    log.debug(&quot;message: {}, outputClass: {}&quot;, message, outputClass);\n    try {\n        Jaxb2Marshaller marshaller = initJaxb2Marshaller();\n        Object value = marshaller.unmarshal(message.getPayloadSource());\n        log.debug(&quot;value.class: {}, outputClass: {}&quot;, value.getClass(), outputClass);\n        return value;\n    }\n    catch (UnmarshalException ex) {\n        throw new DecodingException(&quot;Could not unmarshal XML to &quot; + outputClass, ex);\n    }\n    catch (JAXBException ex) {\n        throw new CodecException(&quot;Invalid JAXB configuration&quot;, ex);\n    }\n    catch (Exception ex) {\n        throw new DecodingException(&quot;Could not unmarshal XML to &quot; + outputClass, ex);\n    }\n}\n\nprivate Jaxb2Marshaller initJaxb2Marshaller() throws JAXBException {\n    Jaxb2Marshaller marshaller = new Jaxb2Marshaller();\n    marshaller.setContextPath(settings.getRsaPackage());\n\n    try {\n        marshaller.afterPropertiesSet();\n    } catch (Exception e) {\n        log.error(&quot;Could not set properties, please check &quot;, e);\n    }\n\n    getUnmarshallerProcessor().apply(marshaller.createUnmarshaller());\n\n    return marshaller;\n}\n</code></pre>\n<p>class Jaxb2RsaEncoder implements Encoder</p>\n<pre><code>@Override\npublic boolean canEncode(ResolvableType elementType, MimeType mimeType) {\n    Class&lt;?&gt; outputClass = elementType.toClass();\n    boolean result = (outputClass.isAnnotationPresent(XmlRootElement.class) ||\n                      outputClass.isAnnotationPresent(XmlType.class));\n    log.debug(&quot;outputClass: {}, canEncode: {}&quot;, outputClass, result);\n    return result;\n}\n\n@Override\npublic Flux&lt;DataBuffer&gt; encode(Publisher&lt;?&gt; inputStream, DataBufferFactory bufferFactory, ResolvableType elementType, MimeType mimeType, Map&lt;String, Object&gt; hints) {\n    return Flux.from(inputStream)\n            .take(1)\n            .concatMap(value -&gt; encode(value, bufferFactory, elementType, mimeType, hints))\n            .doOnDiscard(PooledDataBuffer.class, PooledDataBuffer::release);\n}\n\n@Override\npublic List&lt;MimeType&gt; getEncodableMimeTypes() {\n    return Arrays.asList( MediaType.TEXT_XML );\n}\n\nprivate Flux&lt;DataBuffer&gt; encode(Object value,\n                                DataBufferFactory bufferFactory,\n                                ResolvableType type,\n                                MimeType mimeType,\n                                Map&lt;String, Object&gt; hints) {\n    return Mono.fromCallable(() -&gt; this.encodeValue(value, bufferFactory, type, mimeType, hints)).flux();\n}\n\n@Override\npublic DataBuffer encodeValue(Object value, DataBufferFactory bufferFactory, ResolvableType type,\n                              @Nullable MimeType mimeType, @Nullable Map&lt;String, Object&gt; hints) {\n    log.debug(&quot;encodeValue - start: {}&quot;, value.getClass());\n    boolean release = true;\n    DataBuffer buffer = bufferFactory.allocateBuffer(1024);\n    try {\n        OutputStream outputStream = buffer.asOutputStream();\n        Class&lt;?&gt; clazz = ClassUtils.getUserClass(value);\n        Marshaller marshaller = initJaxb2Marshaller().createMarshaller();\n\n        // here should be optimized\n        DefaultStrategiesHelper helper = new DefaultStrategiesHelper(WebServiceTemplate.class);\n        WebServiceMessageFactory messageFactory = helper.getDefaultStrategy(WebServiceMessageFactory.class);\n        WebServiceMessage message = messageFactory.createWebServiceMessage();\n\n        marshaller.marshal(value, message.getPayloadResult());\n        message.writeTo(outputStream);\n\n        release = false;\n        log.debug(&quot;encodeValue - buffer: {}&quot;, buffer);\n        return buffer;\n    } catch (MarshalException ex) {\n        throw new EncodingException(&quot;Could not marshal &quot; + value.getClass() + &quot; to XML&quot;, ex);\n    } catch (JAXBException ex) {\n        throw new CodecException(&quot;Invalid JAXB configuration&quot;, ex);\n    } catch (Exception ex) {\n        throw new EncodingException(&quot;Could not encode value &quot; + value.getClass() + &quot; to XML&quot;, ex);\n    } finally {\n        if (release) {\n            DataBufferUtils.release(buffer);\n        }\n    }\n}\n\n\nprivate Jaxb2Marshaller initJaxb2Marshaller() throws JAXBException {\n    Jaxb2Marshaller marshaller = new Jaxb2Marshaller();\n    marshaller.setContextPath(settings.getRsaPackage());\n\n    try {\n        marshaller.afterPropertiesSet();\n    } catch (Exception e) {\n        log.error(&quot;Could not set properties, please check &quot;, e);\n    }\n\n    return marshaller;\n}\n</code></pre>\n<p>And then updated the ExchangeStrategy on the webClient:</p>\n<pre><code>@Bean(&quot;soapWebClient&quot;)\nWebClient soapWebClient() {\n    ExchangeStrategies exchangeStrategies = ExchangeStrategies.builder()\n        .codecs(clientCodecConfigurer -&gt; {\n            Encoder&lt;Object&gt; encoder = new Jaxb2RsaEncoder();\n            clientCodecConfigurer.customCodecs().encoder(encoder);\n            Decoder&lt;Object&gt; decoder = new Jaxb2RsaDecoder();\n            clientCodecConfigurer.customCodecs().decoder(decoder);\n            log.debug(&quot;clientCodecConfigurer: {}&quot;, clientCodecConfigurer);\n            log.debug(&quot;customCodecs: {}&quot;, clientCodecConfigurer.customCodecs());\n            log.debug(&quot;encoder: {}, decoder: {}&quot;, encoder, decoder);\n        }).build();\n\n    WebClient webClient = WebClient.builder()\n        .clientConnector(new ReactorClientHttpConnector(httpClient()))\n        .filter(this.logRequest())\n        .filter(this.logResponse())\n        .exchangeStrategies(exchangeStrategies)\n        .build();\n\n    log.debug(&quot;exchangeStrategies: {}, webClient: {}&quot;, exchangeStrategies, webClient);\n    return webClient;\n}\n</code></pre>\n<p>Now, I can make synchronous requests and the exchange strategy will use my WSDL generated packages to handle encoding and decoding of the SOAP classes.</p>\n"}],"owner":{"account_id":3143684,"reputation":687,"user_id":2658627,"accept_rate":33,"display_name":"anonymous"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":178,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688046315,"creation_date":1687994882,"question_id":76577257,"body_markdown":"I am getting a UnsupportedOperationException: null on [Encoder.encodeValue() \\[spring-core-5.2.0.RELEASE\\]][1] when making a POST to a SOAP service using WebClient from Spring WebFlux.\r\n\r\nI am using spring-boot 2.2.0.RELEASE with JDK 1.8.0_252 (application has requirement to use this for compatibility reasons). The application also has a requirement to be able to run synchronously, but we are evaluating replacing a blocking WebClient from our old RestTemplate and WebServiceTemplate to have a standard way to make web requests since RestTemplate is now in maintenance only mode. The calls I made with WebClient replacing RestTemplate work as expected, I just need to fix this error to handle the replacing of the WebServiceTemplate.\r\n\r\nI setup the encoder and decoder with the clientCodecConfigurer object, but I can&#39;t seem to see the source of the code processing the Encoder.encodeValue() interface method. It doesn&#39;t look like it is going into the encoder I have setup, so I can&#39;t trace where the null value is coming from or why it is coming. Any help would be greatly appreciated.\r\n\r\n    2023-06-28T10:03:31.974-0400 DEBUG SpringService.rsa.RSAClient:42 - Making SOAP request to https://{soap.url}:{soap.port}/AdaptiveAuthentication/services/AdaptiveAuthentication 30\r\n    2023-06-28T10:03:31.974-0400 INFO SpringService.rsa.RSAClient:132 - Making analyze request now\r\n    2023-06-28T10:03:32.047-0400 INFO SpringService.config.WebClientConfig:99 - WebClient request: POST https://{soap.url}:{soap.port}/AdaptiveAuthentication/services/AdaptiveAuthentication org.springframework.web.reactive.function.BodyInserters$$Lambda$709/1296999056@320c5ef8\r\n    2023-06-28T10:03:32.051-0400 DEBUG SpringService.config.WebClientConfig:101 - Header: Content-Type: text/xml\r\n    2023-06-28T10:03:32.111-0400 DEBUG io.netty.util.ResourceLeakDetector:129 - -Dio.netty.leakDetection.level: simple\r\n    2023-06-28T10:03:32.111-0400 DEBUG io.netty.util.ResourceLeakDetector:130 - -Dio.netty.leakDetection.targetRecords: 4\r\n    2023-06-28T10:03:32.147-0400 DEBUG reactor.netty.resources.DefaultLoopEpoll:249 - Default Epoll support : true\r\n    2023-06-28T10:03:32.149-0400 DEBUG reactor.netty.resources.DefaultLoopKQueue:249 - Default KQueue support : false\r\n    2023-06-28T10:03:32.159-0400 DEBUG io.netty.channel.MultithreadEventLoopGroup:44 - -Dio.netty.eventLoopThreads: 8\r\n    2023-06-28T10:03:32.179-0400 DEBUG io.netty.util.internal.InternalThreadLocalMap:54 - -Dio.netty.threadLocalMap.stringBuilder.initialSize: 1024\r\n    2023-06-28T10:03:32.179-0400 DEBUG io.netty.util.internal.InternalThreadLocalMap:57 - -Dio.netty.threadLocalMap.stringBuilder.maxSize: 4096\r\n    2023-06-28T10:03:32.195-0400 DEBUG io.netty.util.internal.PlatformDependent:890 - org.jctools-core.MpscChunkedArrayQueue: available\r\n    2023-06-28T10:03:32.239-0400 DEBUG org.springframework.web.reactive.function.client.ExchangeFunctions:91 - [73ba4b0e] HTTP POST https://{soap.url}:{soap.port}/AdaptiveAuthentication/services/AdaptiveAuthentication\r\n    2023-06-28T10:03:32.258-0400 DEBUG io.netty.handler.ssl.OpenSsl:124 - netty-tcnative not in the classpath; OpenSslEngine will be unavailable.\r\n    2023-06-28T10:03:32.307-0400 DEBUG io.netty.handler.ssl.JdkSslContext:96 - Default protocols (JDK): [TLSv1.2, TLSv1.1, TLSv1] \r\n    2023-06-28T10:03:32.308-0400 DEBUG io.netty.handler.ssl.JdkSslContext:97 - Default cipher suites (JDK): [TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA]\r\n    2023-06-28T10:03:32.323-0400 DEBUG reactor.netty.resources.PooledConnectionProvider:254 - Creating new client pool [http-client] for {soap.url}:{soap.port}\r\n    2023-06-28T10:03:32.353-0400 DEBUG io.netty.channel.DefaultChannelId:79 - -Dio.netty.processId: 1351120 (auto-detected)\r\n    2023-06-28T10:03:32.355-0400 DEBUG io.netty.channel.DefaultChannelId:101 - -Dio.netty.machineId: 00:50:56:ff:fe:9e:25:8d (auto-detected)\r\n    2023-06-28T10:03:32.382-0400 DEBUG io.netty.buffer.PooledByteBufAllocator:142 - -Dio.netty.allocator.numHeapArenas: 4\r\n    2023-06-28T10:03:32.382-0400 DEBUG io.netty.buffer.PooledByteBufAllocator:143 - -Dio.netty.allocator.numDirectArenas: 4\r\n    2023-06-28T10:03:32.382-0400 DEBUG io.netty.buffer.PooledByteBufAllocator:145 - -Dio.netty.allocator.pageSize: 8192\r\n    2023-06-28T10:03:32.382-0400 DEBUG io.netty.buffer.PooledByteBufAllocator:150 - -Dio.netty.allocator.maxOrder: 11\r\n    2023-06-28T10:03:32.382-0400 DEBUG io.netty.buffer.PooledByteBufAllocator:154 - -Dio.netty.allocator.chunkSize: 16777216\r\n    2023-06-28T10:03:32.382-0400 DEBUG io.netty.buffer.PooledByteBufAllocator:155 - -Dio.netty.allocator.tinyCacheSize: 512\r\n    2023-06-28T10:03:32.383-0400 DEBUG io.netty.buffer.PooledByteBufAllocator:156 - -Dio.netty.allocator.smallCacheSize: 256\r\n    2023-06-28T10:03:32.383-0400 DEBUG io.netty.buffer.PooledByteBufAllocator:157 - -Dio.netty.allocator.normalCacheSize: 64\r\n    2023-06-28T10:03:32.383-0400 DEBUG io.netty.buffer.PooledByteBufAllocator:158 - -Dio.netty.allocator.maxCachedBufferCapacity: 32768\r\n    2023-06-28T10:03:32.383-0400 DEBUG io.netty.buffer.PooledByteBufAllocator:159 - -Dio.netty.allocator.cacheTrimInterval: 8192\r\n    2023-06-28T10:03:32.383-0400 DEBUG io.netty.buffer.PooledByteBufAllocator:160 - -Dio.netty.allocator.cacheTrimIntervalMillis: 0\r\n    2023-06-28T10:03:32.383-0400 DEBUG io.netty.buffer.PooledByteBufAllocator:161 - -Dio.netty.allocator.useCacheForAllThreads: true\r\n    2023-06-28T10:03:32.383-0400 DEBUG io.netty.buffer.PooledByteBufAllocator:162 - -Dio.netty.allocator.maxCachedByteBuffersPerChunk: 1023\r\n    2023-06-28T10:03:32.391-0400 DEBUG io.netty.buffer.ByteBufUtil:85 - -Dio.netty.allocator.type: pooled\r\n    2023-06-28T10:03:32.392-0400 DEBUG io.netty.buffer.ByteBufUtil:94 - -Dio.netty.threadLocalDirectBufferSize: 0\r\n    2023-06-28T10:03:32.392-0400 DEBUG io.netty.buffer.ByteBufUtil:97 - -Dio.netty.maxThreadLocalCharBufferSize: 16384\r\n    2023-06-28T10:03:32.408-0400 DEBUG reactor.netty.resources.PooledConnectionProvider:254 - [id: 0x8f0f4d88] Created new pooled channel, now 1 active connections and 0 inactive connections\r\n    2023-06-28T10:03:32.432-0400 DEBUG io.netty.buffer.AbstractByteBuf:62 - -Dio.netty.buffer.checkAccessible: true\r\n    2023-06-28T10:03:32.432-0400 DEBUG io.netty.buffer.AbstractByteBuf:63 - -Dio.netty.buffer.checkBounds: true\r\n    2023-06-28T10:03:32.434-0400 DEBUG io.netty.util.ResourceLeakDetectorFactory:195 - Loaded default ResourceLeakDetector: io.netty.util.ResourceLeakDetector@3cf5a5a0\r\n    2023-06-28T10:03:32.442-0400 DEBUG reactor.netty.tcp.SslProvider:254 - [id: 0x8f0f4d88] SSL enabled using engine SSLEngineImpl and SNI {soap.url}:{soap.port}\r\n    2023-06-28T10:03:32.447-0400 DEBUG reactor.netty.channel.BootstrapHandlers:254 - [id: 0x8f0f4d88] Initialized pipeline DefaultChannelPipeline{(reactor.left.sslHandler = io.netty.handler.ssl.SslHandler), (reactor.left.sslReader = reactor.netty.tcp.SslProvider$SslReadHandler), (BootstrapHandlers$BootstrapInitializerHandler#0 = reactor.netty.channel.BootstrapHandlers$BootstrapInitializerHandler), (reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}\r\n    2023-06-28T10:03:32.458-0400 DEBUG reactor.netty.resources.PooledConnectionProvider:254 - [id: 0x8f0f4d88, L:/{host.ip}:36508 - R:{soap.url}/{soap.ip}:8443] Channel connected, now 1 active connections and 0 inactive connections\r\n    2023-06-28T10:03:32.464-0400 DEBUG io.netty.util.Recycler:96 - -Dio.netty.recycler.maxCapacityPerThread: 4096\r\n    2023-06-28T10:03:32.464-0400 DEBUG io.netty.util.Recycler:97 - -Dio.netty.recycler.maxSharedCapacityFactor: 2\r\n    2023-06-28T10:03:32.464-0400 DEBUG io.netty.util.Recycler:98 - -Dio.netty.recycler.linkCapacity: 16\r\n    2023-06-28T10:03:32.464-0400 DEBUG io.netty.util.Recycler:99 - -Dio.netty.recycler.ratio: 8\r\n    2023-06-28T10:03:32.536-0400 DEBUG io.netty.handler.ssl.SslHandler:1748 - [id: 0x8f0f4d88, L:/{host.ip}:36508 - R:{soap.url}/{soap.ip}:8443] HANDSHAKEN: TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256\r\n    2023-06-28T10:03:32.537-0400 DEBUG reactor.netty.resources.PooledConnectionProvider:254 - [id: 0x8f0f4d88, L:/{host.ip}:36508 - R:{soap.url}/{soap.ip}:8443] onStateChange(PooledConnection{channel=[id: 0x8f0f4d88, L:/{host.ip}:36508 - R:{soap.url}/{soap.ip}:8443]}, [connected])\r\n    2023-06-28T10:03:32.539-0400 INFO SpringService.config.WebClientConfig:118 - WebClient State Change: connection=PooledConnection{channel=[id: 0x8f0f4d88, L:/{host.ip}:36508 - R:{soap.url}/{soap.ip}:8443]}, newState=[connected]\r\n    2023-06-28T10:03:32.555-0400 DEBUG reactor.netty.resources.PooledConnectionProvider:254 - [id: 0x8f0f4d88, L:/{host.ip}:36508 - R:{soap.url}/{soap.ip}:8443] onStateChange(GET{uri=/, connection=PooledConnection{channel=[id: 0x8f0f4d88, L:/{host.ip}:36508 - R:{soap.url}/{soap.ip}:8443]}}, [configured])\r\n    2023-06-28T10:03:32.556-0400 INFO SpringService.config.WebClientConfig:118 - WebClient State Change: connection=GET{uri=/, connection=PooledConnection{channel=[id: 0x8f0f4d88, L:/{host.ip}:36508 - R:{soap.url}/{soap.ip}:8443]}}, newState=[configured]\r\n    2023-06-28T10:03:32.557-0400 DEBUG reactor.netty.http.client.HttpClientConnect:254 - [id: 0x8f0f4d88, L:/{host.ip}:36508 - R:{soap.url}/{soap.ip}:8443] Handler is being applied: {uri=https://{soap.url}:{soap.port}/AdaptiveAuthentication/services/AdaptiveAuthentication, method=POST}\r\n    2023-06-28T10:03:32.570-0400 DEBUG reactor.netty.http.client.HttpClientOperations:259 - [id: 0x8f0f4d88, L:/{host.ip}:36508 - R:{soap.url}/{soap.ip}:8443] Outbound error happened\r\n    java.lang.UnsupportedOperationException: null\r\n    \tat org.springframework.core.codec.Encoder.encodeValue(Encoder.java:89) ~[spring-core-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\r\n    \tat org.springframework.http.codec.EncoderHttpMessageWriter.lambda$write$1(EncoderHttpMessageWriter.java:125) ~[spring-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\r\n    \tat reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:118) [reactor-core-3.3.0.RELEASE.jar!/:3.3.0.RELEASE]\r\n    \tat reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:67) [reactor-core-3.3.0.RELEASE.jar!/:3.3.0.RELEASE]\r\n    \tat reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2148) [reactor-core-3.3.0.RELEASE.jar!/:3.3.0.RELEASE]\r\n    \tat reactor.core.publisher.Operators$MultiSubscriptionSubscriber.set(Operators.java:1956) [reactor-core-3.3.0.RELEASE.jar!/:3.3.0.RELEASE]\r\n    \tat reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onSubscribe(Operators.java:1830) [reactor-core-3.3.0.RELEASE.jar!/:3.3.0.RELEASE]\r\n    \tat reactor.core.publisher.MonoJust.subscribe(MonoJust.java:54) [reactor-core-3.3.0.RELEASE.jar!/:3.3.0.RELEASE]\r\n    \tat reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:55) [reactor-core-3.3.0.RELEASE.jar!/:3.3.0.RELEASE]\r\n    \tat reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52) [reactor-core-3.3.0.RELEASE.jar!/:3.3.0.RELEASE]\r\n    \tat reactor.netty.http.client.HttpClientConnect$HttpIOHandlerObserver.onStateChange(HttpClientConnect.java:430) [reactor-netty-0.9.0.RELEASE.jar!/:0.9.0.RELEASE]\r\n    \tat reactor.netty.ReactorNetty$CompositeConnectionObserver.onStateChange(ReactorNetty.java:473) [reactor-netty-0.9.0.RELEASE.jar!/:0.9.0.RELEASE]\r\n    \tat reactor.netty.resources.PooledConnectionProvider$DisposableAcquire.onStateChange(PooledConnectionProvider.java:525) [reactor-netty-0.9.0.RELEASE.jar!/:0.9.0.RELEASE]\r\n    \tat reactor.netty.resources.PooledConnectionProvider$PooledConnection.onStateChange(PooledConnectionProvider.java:434) [reactor-netty-0.9.0.RELEASE.jar!/:0.9.0.RELEASE]\r\n    \tat reactor.netty.channel.ChannelOperationsHandler.channelActive(ChannelOperationsHandler.java:62) [reactor-netty-0.9.0.RELEASE.jar!/:0.9.0.RELEASE]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelActive(AbstractChannelHandlerContext.java:225) [netty-transport-4.1.42.Final.jar!/:4.1.42.Final]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelActive(AbstractChannelHandlerContext.java:211) [netty-transport-4.1.42.Final.jar!/:4.1.42.Final]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.fireChannelActive(AbstractChannelHandlerContext.java:204) [netty-transport-4.1.42.Final.jar!/:4.1.42.Final]\r\n    \tat io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelActive(CombinedChannelDuplexHandler.java:414) [netty-transport-4.1.42.Final.jar!/:4.1.42.Final]\r\n    \tat io.netty.channel.ChannelInboundHandlerAdapter.channelActive(ChannelInboundHandlerAdapter.java:69) [netty-transport-4.1.42.Final.jar!/:4.1.42.Final]\r\n    \tat io.netty.channel.CombinedChannelDuplexHandler.channelActive(CombinedChannelDuplexHandler.java:213) [netty-transport-4.1.42.Final.jar!/:4.1.42.Final]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelActive(AbstractChannelHandlerContext.java:225) [netty-transport-4.1.42.Final.jar!/:4.1.42.Final]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelActive(AbstractChannelHandlerContext.java:211) [netty-transport-4.1.42.Final.jar!/:4.1.42.Final]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.fireChannelActive(AbstractChannelHandlerContext.java:204) [netty-transport-4.1.42.Final.jar!/:4.1.42.Final]\r\n    \tat reactor.netty.tcp.SslProvider$SslReadHandler.userEventTriggered(SslProvider.java:731) [reactor-netty-0.9.0.RELEASE.jar!/:0.9.0.RELEASE]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeUserEventTriggered(AbstractChannelHandlerContext.java:341) [netty-transport-4.1.42.Final.jar!/:4.1.42.Final]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeUserEventTriggered(AbstractChannelHandlerContext.java:327) [netty-transport-4.1.42.Final.jar!/:4.1.42.Final]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.fireUserEventTriggered(AbstractChannelHandlerContext.java:319) [netty-transport-4.1.42.Final.jar!/:4.1.42.Final]\r\n    \tat io.netty.handler.ssl.SslHandler.setHandshakeSuccess(SslHandler.java:1750) [netty-handler-4.1.42.Final.jar!/:4.1.42.Final]\r\n    \tat io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1409) [netty-handler-4.1.42.Final.jar!/:4.1.42.Final]\r\n    \tat io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1224) [netty-handler-4.1.42.Final.jar!/:4.1.42.Final]\r\n    \tat io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1271) [netty-handler-4.1.42.Final.jar!/:4.1.42.Final]\r\n    \tat io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:505) [netty-codec-4.1.42.Final.jar!/:4.1.42.Final]\r\n    \tat io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:444) [netty-codec-4.1.42.Final.jar!/:4.1.42.Final]\r\n    \tat io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:283) [netty-codec-4.1.42.Final.jar!/:4.1.42.Final]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:374) [netty-transport-4.1.42.Final.jar!/:4.1.42.Final]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:360) [netty-transport-4.1.42.Final.jar!/:4.1.42.Final]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:352) [netty-transport-4.1.42.Final.jar!/:4.1.42.Final]\r\n    \tat io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1422) [netty-transport-4.1.42.Final.jar!/:4.1.42.Final]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:374) [netty-transport-4.1.42.Final.jar!/:4.1.42.Final]\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:360) [netty-transport-4.1.42.Final.jar!/:4.1.42.Final]\r\n    \tat io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:931) [netty-transport-4.1.42.Final.jar!/:4.1.42.Final]\r\n    \tat io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.epollInReady(AbstractEpollStreamChannel.java:792) [netty-transport-native-epoll-4.1.42.Final-linux-x86_64.jar!/:4.1.42.Final]\r\n    \tat io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:483) [netty-transport-native-epoll-4.1.42.Final-linux-x86_64.jar!/:4.1.42.Final]\r\n    \tat io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:383) [netty-transport-native-epoll-4.1.42.Final-linux-x86_64.jar!/:4.1.42.Final]\r\n    \tat io.netty.util.concurrent.SingleThreadEventExecutor$6.run(SingleThreadEventExecutor.java:1044) [netty-common-4.1.42.Final.jar!/:4.1.42.Final]\r\n    \tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) [netty-common-4.1.42.Final.jar!/:4.1.42.Final]\r\n    \tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) [netty-common-4.1.42.Final.jar!/:4.1.42.Final]\r\n    \tat java.lang.Thread.run(Thread.java:748) [?:1.8.0_252]\r\n\r\nI have a @Configuration class: WebClientConfig implements ConnectionObserver, with the following Beans:\r\n\r\n    @Bean(&quot;httpClient&quot;)\r\n    HttpClient httpClient() {\r\n        ConnectionProvider connectionProvider = ConnectionProvider.fixed(&quot;http-client&quot;,\r\n                settings.getMaxConnections(),\r\n                settings.getAcquireTimeout(),\r\n                Duration.ofMillis(settings.getMaxIdleTime()));\r\n        HttpClient httpClient = HttpClient.create(connectionProvider)\r\n                .observe(this);\r\n        log.debug(&quot;connectionProvider: {}, httpClient: {}&quot;, connectionProvider, httpClient);\r\n        return httpClient;\r\n    }\r\n\r\n    @Bean(&quot;soapWebClient&quot;)\r\n    WebClient soapWebClient() {\r\n        ExchangeStrategies exchangeStrategies = ExchangeStrategies.builder()\r\n            .codecs(clientCodecConfigurer -&gt; {\r\n                clientCodecConfigurer.customCodecs().encoder(new Jaxb2SoapEncoder());\r\n                clientCodecConfigurer.customCodecs().decoder(new Jaxb2SoapDecoder());\r\n                log.debug(&quot;clientCodecConfigurer: {}&quot;, clientCodecConfigurer);\r\n                log.debug(&quot;customCodecs: {}&quot;, clientCodecConfigurer.customCodecs());\r\n            }).build();\r\n\r\n        WebClient webClient = WebClient.builder()\r\n            .clientConnector(new ReactorClientHttpConnector(httpClient()))\r\n            .filter(this.logRequest())\r\n            .filter(this.logResponse())\r\n            .exchangeStrategies(exchangeStrategies)\r\n            .build();\r\n\r\n        log.debug(&quot;exchangeStrategies: {}, webClient: {}&quot;, exchangeStrategies, webClient);\r\n        return webClient;\r\n    }\r\n\r\nclass: Jaxb2SoapDecoder extends Jaxb2XmlDecoder\r\n\r\n    private static final XMLInputFactory inputFactory = StaxUtils.createDefensiveInputFactory();\r\n\r\n    private final JaxbContextContainer jaxbContexts = new JaxbContextContainer();\r\n\r\n    public Jaxb2SoapDecoder() {\r\n        super();\r\n    }\r\n\r\n    @Override\r\n    @SuppressWarnings({&quot;rawtypes&quot;, &quot;unchecked&quot;, &quot;cast&quot;})  // XMLEventReader is Iterator&lt;Object&gt; on JDK 9\r\n    public Object decode(DataBuffer dataBuffer, ResolvableType targetType,\r\n                         @Nullable MimeType mimeType, @Nullable Map&lt;String, Object&gt; hints) throws DecodingException {\r\n        try {\r\n            DefaultStrategiesHelper helper = new DefaultStrategiesHelper(WebServiceTemplate.class);\r\n            WebServiceMessageFactory messageFactory = helper.getDefaultStrategy(WebServiceMessageFactory.class);\r\n            WebServiceMessage message = messageFactory.createWebServiceMessage( dataBuffer.asInputStream() );\r\n            return unmarshal(message, targetType.toClass());\r\n        }\r\n        catch (Throwable ex) {\r\n            ex = (ex.getCause() instanceof XMLStreamException ? ex.getCause() : ex);\r\n            throw Exceptions.propagate(ex);\r\n        }\r\n        finally {\r\n            DataBufferUtils.release(dataBuffer);\r\n        }\r\n    }\r\n\r\n    private Object unmarshal(WebServiceMessage message, Class&lt;?&gt; outputClass) {\r\n        try {\r\n            Unmarshaller unmarshaller = initUnmarshaller(outputClass);\r\n            JAXBElement&lt;?&gt; jaxbElement = unmarshaller.unmarshal(message.getPayloadSource(),outputClass);\r\n            return jaxbElement.getValue();\r\n        }\r\n        catch (UnmarshalException ex) {\r\n            throw new DecodingException(&quot;Could not unmarshal XML to &quot; + outputClass, ex);\r\n        }\r\n        catch (JAXBException ex) {\r\n            throw new CodecException(&quot;Invalid JAXB configuration&quot;, ex);\r\n        }\r\n    }\r\n\r\n    private Unmarshaller initUnmarshaller(Class&lt;?&gt; outputClass) throws CodecException, JAXBException {\r\n        Unmarshaller unmarshaller = this.jaxbContexts.createUnmarshaller(outputClass);\r\n        return getUnmarshallerProcessor().apply(unmarshaller);\r\n    }\r\n\r\nclass: Jaxb2SoapEncoder implements Encoder&lt;Object&gt;\r\n\r\n    private final JaxbContextContainer jaxbContexts = new JaxbContextContainer();\r\n\r\n    @Override\r\n    public boolean canEncode(ResolvableType elementType, MimeType mimeType) {\r\n        Class&lt;?&gt; outputClass = elementType.toClass();\r\n        return (outputClass.isAnnotationPresent(XmlRootElement.class) ||\r\n                outputClass.isAnnotationPresent(XmlType.class));\r\n    }\r\n\r\n    @Override\r\n    public Flux&lt;DataBuffer&gt; encode(Publisher&lt;?&gt; inputStream, DataBufferFactory bufferFactory, ResolvableType elementType, MimeType mimeType, Map&lt;String, Object&gt; hints) {\r\n        return Flux.from(inputStream)\r\n                .take(1)\r\n                .concatMap(value -&gt; encode(value, bufferFactory, elementType, mimeType, hints))\r\n                .doOnDiscard(PooledDataBuffer.class, PooledDataBuffer::release);\r\n    }\r\n\r\n    @Override\r\n    public List&lt;MimeType&gt; getEncodableMimeTypes() {\r\n        return Arrays.asList( MimeTypeUtils.TEXT_XML );\r\n    }\r\n\r\n    private Flux&lt;DataBuffer&gt; encode(Object value ,\r\n                                    DataBufferFactory bufferFactory,\r\n                                    ResolvableType type,\r\n                                    MimeType mimeType,\r\n                                    Map&lt;String, Object&gt; hints){\r\n        return Mono.fromCallable(() -&gt; {\r\n            boolean release = true;\r\n            DataBuffer buffer = bufferFactory.allocateBuffer(1024);\r\n            try {\r\n                SoapEnvelopeRequest soapEnvelopeRequest = (SoapEnvelopeRequest)value;\r\n\r\n                OutputStream outputStream = buffer.asOutputStream();\r\n                Class&lt;?&gt; clazz = ClassUtils.getUserClass(soapEnvelopeRequest.getBody());\r\n                Marshaller marshaller = initMarshaller(clazz);\r\n\r\n                DefaultStrategiesHelper helper = new DefaultStrategiesHelper(WebServiceTemplate.class);\r\n                WebServiceMessageFactory messageFactory = helper.getDefaultStrategy(WebServiceMessageFactory.class);\r\n                WebServiceMessage message = messageFactory.createWebServiceMessage();\r\n\r\n                if( soapEnvelopeRequest.getHeaderContent() != null ){\r\n                    SoapMessage soapMessage = (SoapMessage)message;\r\n                    SoapHeader header = soapMessage.getSoapHeader();\r\n                    StringSource headerSource = new StringSource(soapEnvelopeRequest.getHeaderContent());\r\n                    Transformer transformer = TransformerFactory.newInstance().newTransformer();\r\n                    transformer.transform(headerSource, header.getResult());\r\n                }\r\n\r\n                marshaller.marshal(soapEnvelopeRequest.getBody(), message.getPayloadResult());\r\n                message.writeTo(outputStream);\r\n\r\n                release = false;\r\n                return buffer;\r\n            }\r\n            catch (MarshalException ex) {\r\n                throw new EncodingException(\r\n                        &quot;Could not marshal &quot; + value.getClass() + &quot; to XML&quot;, ex);\r\n            }\r\n            catch (JAXBException ex) {\r\n                throw new CodecException(&quot;Invalid JAXB configuration&quot;, ex);\r\n            }\r\n            finally {\r\n                if (release) {\r\n                    DataBufferUtils.release(buffer);\r\n                }\r\n            }\r\n        }).flux();\r\n    }\r\n\r\n    private Marshaller initMarshaller(Class&lt;?&gt; clazz) throws JAXBException {\r\n        Marshaller marshaller = this.jaxbContexts.createMarshaller(clazz);\r\n        marshaller.setProperty(Marshaller.JAXB_ENCODING, StandardCharsets.UTF_8.name());\r\n        return marshaller;\r\n    }\r\n\r\nclass: JaxbContextContainer\r\n\r\n    private final ConcurrentMap&lt;Class&lt;?&gt;, JAXBContext&gt; jaxbContexts = new ConcurrentHashMap&lt;&gt;(64);\r\n\r\n\r\n    public Marshaller createMarshaller(Class&lt;?&gt; clazz) throws JAXBException {\r\n        JAXBContext jaxbContext = getJaxbContext(clazz);\r\n        return jaxbContext.createMarshaller();\r\n    }\r\n\r\n    public Unmarshaller createUnmarshaller(Class&lt;?&gt; clazz) throws JAXBException {\r\n        JAXBContext jaxbContext = getJaxbContext(clazz);\r\n        return jaxbContext.createUnmarshaller();\r\n    }\r\n\r\n    private JAXBContext getJaxbContext(Class&lt;?&gt; clazz) throws JAXBException {\r\n        Assert.notNull(clazz, &quot;Class must not be null&quot;);\r\n        JAXBContext jaxbContext = this.jaxbContexts.get(clazz);\r\n        if (jaxbContext == null) {\r\n            jaxbContext = JAXBContext.newInstance(clazz);\r\n            this.jaxbContexts.putIfAbsent(clazz, jaxbContext);\r\n        }\r\n        return jaxbContext;\r\n    }\r\n\r\nAnd when I make the request:\r\n\r\n    @Autowired\r\n    @Qualifier(&quot;soapWebClient&quot;)\r\n    WebClient soapWebClient;\r\n\r\n    public &lt;I, O&gt; O marshalSendAndReceive(String soapServiceUrl, I request, Class&lt;I&gt; requestClass, Class&lt;O&gt; responseClass) {\r\n        log.debug(&quot;Making SOAP request to {} {}&quot;, soapServiceUrl, log.isTraceEnabled() ? String.valueOf(request) : String.valueOf(request).length());\r\n        return soapWebClient.post()\r\n            .uri(soapServiceUrl)\r\n            .contentType(MediaType.TEXT_XML)\r\n            .body(Mono.just(request), requestClass)\r\n            .retrieve()\r\n            .onStatus(HttpStatus::isError, clientResponse -&gt;\r\n                clientResponse.bodyToMono(String.class).flatMap(errorResponseBody -&gt; {\r\n                    log.error(&quot;Fault from SOAP call {} {} {}&quot;, soapServiceUrl, clientResponse.statusCode(), errorResponseBody);\r\n                    return Mono.error(new ResponseStatusHeadersException(\r\n                        clientResponse.statusCode(),\r\n                        clientResponse.headers().asHttpHeaders(),\r\n                        errorResponseBody\r\n                    ));\r\n                })\r\n            )\r\n            .bodyToMono(responseClass)\r\n            .block();\r\n    }\r\n\r\n    public AnalyzeResponse analyze(Analyze request) {\r\n        log.info(&quot;RSAClient - Processing the analyze request:&quot; + request.toString());\r\n        log.info(&quot;Making analyze request now&quot;);\r\n        \r\n        AnalyzeResponse response = null;\r\n        response = marshalSendAndReceive(settings.getRsaEntServerAddress(), request, Analyze.class, AnalyzeResponse.class);\r\n        \r\n        log.info(&quot;Successfully got analyze response: {}&quot;, response);\r\n        return response;\r\n    }\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/5.2.0.RELEASE/javadoc-api/org/springframework/core/codec/Encoder.html#encodeValue-T-org.springframework.core.io.buffer.DataBufferFactory-org.springframework.core.ResolvableType-org.springframework.util.MimeType-java.util.Map-","title":"Spring WebClient - SOAP Encoder UnsupportedOperationException: null","body":"<p>I am getting a UnsupportedOperationException: null on <a href=\"https://docs.spring.io/spring-framework/docs/5.2.0.RELEASE/javadoc-api/org/springframework/core/codec/Encoder.html#encodeValue-T-org.springframework.core.io.buffer.DataBufferFactory-org.springframework.core.ResolvableType-org.springframework.util.MimeType-java.util.Map-\" rel=\"nofollow noreferrer\">Encoder.encodeValue() [spring-core-5.2.0.RELEASE]</a> when making a POST to a SOAP service using WebClient from Spring WebFlux.</p>\n<p>I am using spring-boot 2.2.0.RELEASE with JDK 1.8.0_252 (application has requirement to use this for compatibility reasons). The application also has a requirement to be able to run synchronously, but we are evaluating replacing a blocking WebClient from our old RestTemplate and WebServiceTemplate to have a standard way to make web requests since RestTemplate is now in maintenance only mode. The calls I made with WebClient replacing RestTemplate work as expected, I just need to fix this error to handle the replacing of the WebServiceTemplate.</p>\n<p>I setup the encoder and decoder with the clientCodecConfigurer object, but I can't seem to see the source of the code processing the Encoder.encodeValue() interface method. It doesn't look like it is going into the encoder I have setup, so I can't trace where the null value is coming from or why it is coming. Any help would be greatly appreciated.</p>\n<pre><code>2023-06-28T10:03:31.974-0400 DEBUG SpringService.rsa.RSAClient:42 - Making SOAP request to https://{soap.url}:{soap.port}/AdaptiveAuthentication/services/AdaptiveAuthentication 30\n2023-06-28T10:03:31.974-0400 INFO SpringService.rsa.RSAClient:132 - Making analyze request now\n2023-06-28T10:03:32.047-0400 INFO SpringService.config.WebClientConfig:99 - WebClient request: POST https://{soap.url}:{soap.port}/AdaptiveAuthentication/services/AdaptiveAuthentication org.springframework.web.reactive.function.BodyInserters$$Lambda$709/1296999056@320c5ef8\n2023-06-28T10:03:32.051-0400 DEBUG SpringService.config.WebClientConfig:101 - Header: Content-Type: text/xml\n2023-06-28T10:03:32.111-0400 DEBUG io.netty.util.ResourceLeakDetector:129 - -Dio.netty.leakDetection.level: simple\n2023-06-28T10:03:32.111-0400 DEBUG io.netty.util.ResourceLeakDetector:130 - -Dio.netty.leakDetection.targetRecords: 4\n2023-06-28T10:03:32.147-0400 DEBUG reactor.netty.resources.DefaultLoopEpoll:249 - Default Epoll support : true\n2023-06-28T10:03:32.149-0400 DEBUG reactor.netty.resources.DefaultLoopKQueue:249 - Default KQueue support : false\n2023-06-28T10:03:32.159-0400 DEBUG io.netty.channel.MultithreadEventLoopGroup:44 - -Dio.netty.eventLoopThreads: 8\n2023-06-28T10:03:32.179-0400 DEBUG io.netty.util.internal.InternalThreadLocalMap:54 - -Dio.netty.threadLocalMap.stringBuilder.initialSize: 1024\n2023-06-28T10:03:32.179-0400 DEBUG io.netty.util.internal.InternalThreadLocalMap:57 - -Dio.netty.threadLocalMap.stringBuilder.maxSize: 4096\n2023-06-28T10:03:32.195-0400 DEBUG io.netty.util.internal.PlatformDependent:890 - org.jctools-core.MpscChunkedArrayQueue: available\n2023-06-28T10:03:32.239-0400 DEBUG org.springframework.web.reactive.function.client.ExchangeFunctions:91 - [73ba4b0e] HTTP POST https://{soap.url}:{soap.port}/AdaptiveAuthentication/services/AdaptiveAuthentication\n2023-06-28T10:03:32.258-0400 DEBUG io.netty.handler.ssl.OpenSsl:124 - netty-tcnative not in the classpath; OpenSslEngine will be unavailable.\n2023-06-28T10:03:32.307-0400 DEBUG io.netty.handler.ssl.JdkSslContext:96 - Default protocols (JDK): [TLSv1.2, TLSv1.1, TLSv1] \n2023-06-28T10:03:32.308-0400 DEBUG io.netty.handler.ssl.JdkSslContext:97 - Default cipher suites (JDK): [TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA, TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA, TLS_RSA_WITH_AES_128_GCM_SHA256, TLS_RSA_WITH_AES_128_CBC_SHA, TLS_RSA_WITH_AES_256_CBC_SHA]\n2023-06-28T10:03:32.323-0400 DEBUG reactor.netty.resources.PooledConnectionProvider:254 - Creating new client pool [http-client] for {soap.url}:{soap.port}\n2023-06-28T10:03:32.353-0400 DEBUG io.netty.channel.DefaultChannelId:79 - -Dio.netty.processId: 1351120 (auto-detected)\n2023-06-28T10:03:32.355-0400 DEBUG io.netty.channel.DefaultChannelId:101 - -Dio.netty.machineId: 00:50:56:ff:fe:9e:25:8d (auto-detected)\n2023-06-28T10:03:32.382-0400 DEBUG io.netty.buffer.PooledByteBufAllocator:142 - -Dio.netty.allocator.numHeapArenas: 4\n2023-06-28T10:03:32.382-0400 DEBUG io.netty.buffer.PooledByteBufAllocator:143 - -Dio.netty.allocator.numDirectArenas: 4\n2023-06-28T10:03:32.382-0400 DEBUG io.netty.buffer.PooledByteBufAllocator:145 - -Dio.netty.allocator.pageSize: 8192\n2023-06-28T10:03:32.382-0400 DEBUG io.netty.buffer.PooledByteBufAllocator:150 - -Dio.netty.allocator.maxOrder: 11\n2023-06-28T10:03:32.382-0400 DEBUG io.netty.buffer.PooledByteBufAllocator:154 - -Dio.netty.allocator.chunkSize: 16777216\n2023-06-28T10:03:32.382-0400 DEBUG io.netty.buffer.PooledByteBufAllocator:155 - -Dio.netty.allocator.tinyCacheSize: 512\n2023-06-28T10:03:32.383-0400 DEBUG io.netty.buffer.PooledByteBufAllocator:156 - -Dio.netty.allocator.smallCacheSize: 256\n2023-06-28T10:03:32.383-0400 DEBUG io.netty.buffer.PooledByteBufAllocator:157 - -Dio.netty.allocator.normalCacheSize: 64\n2023-06-28T10:03:32.383-0400 DEBUG io.netty.buffer.PooledByteBufAllocator:158 - -Dio.netty.allocator.maxCachedBufferCapacity: 32768\n2023-06-28T10:03:32.383-0400 DEBUG io.netty.buffer.PooledByteBufAllocator:159 - -Dio.netty.allocator.cacheTrimInterval: 8192\n2023-06-28T10:03:32.383-0400 DEBUG io.netty.buffer.PooledByteBufAllocator:160 - -Dio.netty.allocator.cacheTrimIntervalMillis: 0\n2023-06-28T10:03:32.383-0400 DEBUG io.netty.buffer.PooledByteBufAllocator:161 - -Dio.netty.allocator.useCacheForAllThreads: true\n2023-06-28T10:03:32.383-0400 DEBUG io.netty.buffer.PooledByteBufAllocator:162 - -Dio.netty.allocator.maxCachedByteBuffersPerChunk: 1023\n2023-06-28T10:03:32.391-0400 DEBUG io.netty.buffer.ByteBufUtil:85 - -Dio.netty.allocator.type: pooled\n2023-06-28T10:03:32.392-0400 DEBUG io.netty.buffer.ByteBufUtil:94 - -Dio.netty.threadLocalDirectBufferSize: 0\n2023-06-28T10:03:32.392-0400 DEBUG io.netty.buffer.ByteBufUtil:97 - -Dio.netty.maxThreadLocalCharBufferSize: 16384\n2023-06-28T10:03:32.408-0400 DEBUG reactor.netty.resources.PooledConnectionProvider:254 - [id: 0x8f0f4d88] Created new pooled channel, now 1 active connections and 0 inactive connections\n2023-06-28T10:03:32.432-0400 DEBUG io.netty.buffer.AbstractByteBuf:62 - -Dio.netty.buffer.checkAccessible: true\n2023-06-28T10:03:32.432-0400 DEBUG io.netty.buffer.AbstractByteBuf:63 - -Dio.netty.buffer.checkBounds: true\n2023-06-28T10:03:32.434-0400 DEBUG io.netty.util.ResourceLeakDetectorFactory:195 - Loaded default ResourceLeakDetector: io.netty.util.ResourceLeakDetector@3cf5a5a0\n2023-06-28T10:03:32.442-0400 DEBUG reactor.netty.tcp.SslProvider:254 - [id: 0x8f0f4d88] SSL enabled using engine SSLEngineImpl and SNI {soap.url}:{soap.port}\n2023-06-28T10:03:32.447-0400 DEBUG reactor.netty.channel.BootstrapHandlers:254 - [id: 0x8f0f4d88] Initialized pipeline DefaultChannelPipeline{(reactor.left.sslHandler = io.netty.handler.ssl.SslHandler), (reactor.left.sslReader = reactor.netty.tcp.SslProvider$SslReadHandler), (BootstrapHandlers$BootstrapInitializerHandler#0 = reactor.netty.channel.BootstrapHandlers$BootstrapInitializerHandler), (reactor.left.httpCodec = io.netty.handler.codec.http.HttpClientCodec), (reactor.right.reactiveBridge = reactor.netty.channel.ChannelOperationsHandler)}\n2023-06-28T10:03:32.458-0400 DEBUG reactor.netty.resources.PooledConnectionProvider:254 - [id: 0x8f0f4d88, L:/{host.ip}:36508 - R:{soap.url}/{soap.ip}:8443] Channel connected, now 1 active connections and 0 inactive connections\n2023-06-28T10:03:32.464-0400 DEBUG io.netty.util.Recycler:96 - -Dio.netty.recycler.maxCapacityPerThread: 4096\n2023-06-28T10:03:32.464-0400 DEBUG io.netty.util.Recycler:97 - -Dio.netty.recycler.maxSharedCapacityFactor: 2\n2023-06-28T10:03:32.464-0400 DEBUG io.netty.util.Recycler:98 - -Dio.netty.recycler.linkCapacity: 16\n2023-06-28T10:03:32.464-0400 DEBUG io.netty.util.Recycler:99 - -Dio.netty.recycler.ratio: 8\n2023-06-28T10:03:32.536-0400 DEBUG io.netty.handler.ssl.SslHandler:1748 - [id: 0x8f0f4d88, L:/{host.ip}:36508 - R:{soap.url}/{soap.ip}:8443] HANDSHAKEN: TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256\n2023-06-28T10:03:32.537-0400 DEBUG reactor.netty.resources.PooledConnectionProvider:254 - [id: 0x8f0f4d88, L:/{host.ip}:36508 - R:{soap.url}/{soap.ip}:8443] onStateChange(PooledConnection{channel=[id: 0x8f0f4d88, L:/{host.ip}:36508 - R:{soap.url}/{soap.ip}:8443]}, [connected])\n2023-06-28T10:03:32.539-0400 INFO SpringService.config.WebClientConfig:118 - WebClient State Change: connection=PooledConnection{channel=[id: 0x8f0f4d88, L:/{host.ip}:36508 - R:{soap.url}/{soap.ip}:8443]}, newState=[connected]\n2023-06-28T10:03:32.555-0400 DEBUG reactor.netty.resources.PooledConnectionProvider:254 - [id: 0x8f0f4d88, L:/{host.ip}:36508 - R:{soap.url}/{soap.ip}:8443] onStateChange(GET{uri=/, connection=PooledConnection{channel=[id: 0x8f0f4d88, L:/{host.ip}:36508 - R:{soap.url}/{soap.ip}:8443]}}, [configured])\n2023-06-28T10:03:32.556-0400 INFO SpringService.config.WebClientConfig:118 - WebClient State Change: connection=GET{uri=/, connection=PooledConnection{channel=[id: 0x8f0f4d88, L:/{host.ip}:36508 - R:{soap.url}/{soap.ip}:8443]}}, newState=[configured]\n2023-06-28T10:03:32.557-0400 DEBUG reactor.netty.http.client.HttpClientConnect:254 - [id: 0x8f0f4d88, L:/{host.ip}:36508 - R:{soap.url}/{soap.ip}:8443] Handler is being applied: {uri=https://{soap.url}:{soap.port}/AdaptiveAuthentication/services/AdaptiveAuthentication, method=POST}\n2023-06-28T10:03:32.570-0400 DEBUG reactor.netty.http.client.HttpClientOperations:259 - [id: 0x8f0f4d88, L:/{host.ip}:36508 - R:{soap.url}/{soap.ip}:8443] Outbound error happened\njava.lang.UnsupportedOperationException: null\n    at org.springframework.core.codec.Encoder.encodeValue(Encoder.java:89) ~[spring-core-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\n    at org.springframework.http.codec.EncoderHttpMessageWriter.lambda$write$1(EncoderHttpMessageWriter.java:125) ~[spring-web-5.2.0.RELEASE.jar!/:5.2.0.RELEASE]\n    at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:118) [reactor-core-3.3.0.RELEASE.jar!/:3.3.0.RELEASE]\n    at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:67) [reactor-core-3.3.0.RELEASE.jar!/:3.3.0.RELEASE]\n    at reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2148) [reactor-core-3.3.0.RELEASE.jar!/:3.3.0.RELEASE]\n    at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.set(Operators.java:1956) [reactor-core-3.3.0.RELEASE.jar!/:3.3.0.RELEASE]\n    at reactor.core.publisher.Operators$MultiSubscriptionSubscriber.onSubscribe(Operators.java:1830) [reactor-core-3.3.0.RELEASE.jar!/:3.3.0.RELEASE]\n    at reactor.core.publisher.MonoJust.subscribe(MonoJust.java:54) [reactor-core-3.3.0.RELEASE.jar!/:3.3.0.RELEASE]\n    at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:55) [reactor-core-3.3.0.RELEASE.jar!/:3.3.0.RELEASE]\n    at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52) [reactor-core-3.3.0.RELEASE.jar!/:3.3.0.RELEASE]\n    at reactor.netty.http.client.HttpClientConnect$HttpIOHandlerObserver.onStateChange(HttpClientConnect.java:430) [reactor-netty-0.9.0.RELEASE.jar!/:0.9.0.RELEASE]\n    at reactor.netty.ReactorNetty$CompositeConnectionObserver.onStateChange(ReactorNetty.java:473) [reactor-netty-0.9.0.RELEASE.jar!/:0.9.0.RELEASE]\n    at reactor.netty.resources.PooledConnectionProvider$DisposableAcquire.onStateChange(PooledConnectionProvider.java:525) [reactor-netty-0.9.0.RELEASE.jar!/:0.9.0.RELEASE]\n    at reactor.netty.resources.PooledConnectionProvider$PooledConnection.onStateChange(PooledConnectionProvider.java:434) [reactor-netty-0.9.0.RELEASE.jar!/:0.9.0.RELEASE]\n    at reactor.netty.channel.ChannelOperationsHandler.channelActive(ChannelOperationsHandler.java:62) [reactor-netty-0.9.0.RELEASE.jar!/:0.9.0.RELEASE]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelActive(AbstractChannelHandlerContext.java:225) [netty-transport-4.1.42.Final.jar!/:4.1.42.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelActive(AbstractChannelHandlerContext.java:211) [netty-transport-4.1.42.Final.jar!/:4.1.42.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelActive(AbstractChannelHandlerContext.java:204) [netty-transport-4.1.42.Final.jar!/:4.1.42.Final]\n    at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelActive(CombinedChannelDuplexHandler.java:414) [netty-transport-4.1.42.Final.jar!/:4.1.42.Final]\n    at io.netty.channel.ChannelInboundHandlerAdapter.channelActive(ChannelInboundHandlerAdapter.java:69) [netty-transport-4.1.42.Final.jar!/:4.1.42.Final]\n    at io.netty.channel.CombinedChannelDuplexHandler.channelActive(CombinedChannelDuplexHandler.java:213) [netty-transport-4.1.42.Final.jar!/:4.1.42.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelActive(AbstractChannelHandlerContext.java:225) [netty-transport-4.1.42.Final.jar!/:4.1.42.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelActive(AbstractChannelHandlerContext.java:211) [netty-transport-4.1.42.Final.jar!/:4.1.42.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelActive(AbstractChannelHandlerContext.java:204) [netty-transport-4.1.42.Final.jar!/:4.1.42.Final]\n    at reactor.netty.tcp.SslProvider$SslReadHandler.userEventTriggered(SslProvider.java:731) [reactor-netty-0.9.0.RELEASE.jar!/:0.9.0.RELEASE]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeUserEventTriggered(AbstractChannelHandlerContext.java:341) [netty-transport-4.1.42.Final.jar!/:4.1.42.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeUserEventTriggered(AbstractChannelHandlerContext.java:327) [netty-transport-4.1.42.Final.jar!/:4.1.42.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.fireUserEventTriggered(AbstractChannelHandlerContext.java:319) [netty-transport-4.1.42.Final.jar!/:4.1.42.Final]\n    at io.netty.handler.ssl.SslHandler.setHandshakeSuccess(SslHandler.java:1750) [netty-handler-4.1.42.Final.jar!/:4.1.42.Final]\n    at io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1409) [netty-handler-4.1.42.Final.jar!/:4.1.42.Final]\n    at io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1224) [netty-handler-4.1.42.Final.jar!/:4.1.42.Final]\n    at io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1271) [netty-handler-4.1.42.Final.jar!/:4.1.42.Final]\n    at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:505) [netty-codec-4.1.42.Final.jar!/:4.1.42.Final]\n    at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:444) [netty-codec-4.1.42.Final.jar!/:4.1.42.Final]\n    at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:283) [netty-codec-4.1.42.Final.jar!/:4.1.42.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:374) [netty-transport-4.1.42.Final.jar!/:4.1.42.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:360) [netty-transport-4.1.42.Final.jar!/:4.1.42.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:352) [netty-transport-4.1.42.Final.jar!/:4.1.42.Final]\n    at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1422) [netty-transport-4.1.42.Final.jar!/:4.1.42.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:374) [netty-transport-4.1.42.Final.jar!/:4.1.42.Final]\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:360) [netty-transport-4.1.42.Final.jar!/:4.1.42.Final]\n    at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:931) [netty-transport-4.1.42.Final.jar!/:4.1.42.Final]\n    at io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.epollInReady(AbstractEpollStreamChannel.java:792) [netty-transport-native-epoll-4.1.42.Final-linux-x86_64.jar!/:4.1.42.Final]\n    at io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:483) [netty-transport-native-epoll-4.1.42.Final-linux-x86_64.jar!/:4.1.42.Final]\n    at io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:383) [netty-transport-native-epoll-4.1.42.Final-linux-x86_64.jar!/:4.1.42.Final]\n    at io.netty.util.concurrent.SingleThreadEventExecutor$6.run(SingleThreadEventExecutor.java:1044) [netty-common-4.1.42.Final.jar!/:4.1.42.Final]\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) [netty-common-4.1.42.Final.jar!/:4.1.42.Final]\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) [netty-common-4.1.42.Final.jar!/:4.1.42.Final]\n    at java.lang.Thread.run(Thread.java:748) [?:1.8.0_252]\n</code></pre>\n<p>I have a @Configuration class: WebClientConfig implements ConnectionObserver, with the following Beans:</p>\n<pre><code>@Bean(&quot;httpClient&quot;)\nHttpClient httpClient() {\n    ConnectionProvider connectionProvider = ConnectionProvider.fixed(&quot;http-client&quot;,\n            settings.getMaxConnections(),\n            settings.getAcquireTimeout(),\n            Duration.ofMillis(settings.getMaxIdleTime()));\n    HttpClient httpClient = HttpClient.create(connectionProvider)\n            .observe(this);\n    log.debug(&quot;connectionProvider: {}, httpClient: {}&quot;, connectionProvider, httpClient);\n    return httpClient;\n}\n\n@Bean(&quot;soapWebClient&quot;)\nWebClient soapWebClient() {\n    ExchangeStrategies exchangeStrategies = ExchangeStrategies.builder()\n        .codecs(clientCodecConfigurer -&gt; {\n            clientCodecConfigurer.customCodecs().encoder(new Jaxb2SoapEncoder());\n            clientCodecConfigurer.customCodecs().decoder(new Jaxb2SoapDecoder());\n            log.debug(&quot;clientCodecConfigurer: {}&quot;, clientCodecConfigurer);\n            log.debug(&quot;customCodecs: {}&quot;, clientCodecConfigurer.customCodecs());\n        }).build();\n\n    WebClient webClient = WebClient.builder()\n        .clientConnector(new ReactorClientHttpConnector(httpClient()))\n        .filter(this.logRequest())\n        .filter(this.logResponse())\n        .exchangeStrategies(exchangeStrategies)\n        .build();\n\n    log.debug(&quot;exchangeStrategies: {}, webClient: {}&quot;, exchangeStrategies, webClient);\n    return webClient;\n}\n</code></pre>\n<p>class: Jaxb2SoapDecoder extends Jaxb2XmlDecoder</p>\n<pre><code>private static final XMLInputFactory inputFactory = StaxUtils.createDefensiveInputFactory();\n\nprivate final JaxbContextContainer jaxbContexts = new JaxbContextContainer();\n\npublic Jaxb2SoapDecoder() {\n    super();\n}\n\n@Override\n@SuppressWarnings({&quot;rawtypes&quot;, &quot;unchecked&quot;, &quot;cast&quot;})  // XMLEventReader is Iterator&lt;Object&gt; on JDK 9\npublic Object decode(DataBuffer dataBuffer, ResolvableType targetType,\n                     @Nullable MimeType mimeType, @Nullable Map&lt;String, Object&gt; hints) throws DecodingException {\n    try {\n        DefaultStrategiesHelper helper = new DefaultStrategiesHelper(WebServiceTemplate.class);\n        WebServiceMessageFactory messageFactory = helper.getDefaultStrategy(WebServiceMessageFactory.class);\n        WebServiceMessage message = messageFactory.createWebServiceMessage( dataBuffer.asInputStream() );\n        return unmarshal(message, targetType.toClass());\n    }\n    catch (Throwable ex) {\n        ex = (ex.getCause() instanceof XMLStreamException ? ex.getCause() : ex);\n        throw Exceptions.propagate(ex);\n    }\n    finally {\n        DataBufferUtils.release(dataBuffer);\n    }\n}\n\nprivate Object unmarshal(WebServiceMessage message, Class&lt;?&gt; outputClass) {\n    try {\n        Unmarshaller unmarshaller = initUnmarshaller(outputClass);\n        JAXBElement&lt;?&gt; jaxbElement = unmarshaller.unmarshal(message.getPayloadSource(),outputClass);\n        return jaxbElement.getValue();\n    }\n    catch (UnmarshalException ex) {\n        throw new DecodingException(&quot;Could not unmarshal XML to &quot; + outputClass, ex);\n    }\n    catch (JAXBException ex) {\n        throw new CodecException(&quot;Invalid JAXB configuration&quot;, ex);\n    }\n}\n\nprivate Unmarshaller initUnmarshaller(Class&lt;?&gt; outputClass) throws CodecException, JAXBException {\n    Unmarshaller unmarshaller = this.jaxbContexts.createUnmarshaller(outputClass);\n    return getUnmarshallerProcessor().apply(unmarshaller);\n}\n</code></pre>\n<p>class: Jaxb2SoapEncoder implements Encoder</p>\n<pre><code>private final JaxbContextContainer jaxbContexts = new JaxbContextContainer();\n\n@Override\npublic boolean canEncode(ResolvableType elementType, MimeType mimeType) {\n    Class&lt;?&gt; outputClass = elementType.toClass();\n    return (outputClass.isAnnotationPresent(XmlRootElement.class) ||\n            outputClass.isAnnotationPresent(XmlType.class));\n}\n\n@Override\npublic Flux&lt;DataBuffer&gt; encode(Publisher&lt;?&gt; inputStream, DataBufferFactory bufferFactory, ResolvableType elementType, MimeType mimeType, Map&lt;String, Object&gt; hints) {\n    return Flux.from(inputStream)\n            .take(1)\n            .concatMap(value -&gt; encode(value, bufferFactory, elementType, mimeType, hints))\n            .doOnDiscard(PooledDataBuffer.class, PooledDataBuffer::release);\n}\n\n@Override\npublic List&lt;MimeType&gt; getEncodableMimeTypes() {\n    return Arrays.asList( MimeTypeUtils.TEXT_XML );\n}\n\nprivate Flux&lt;DataBuffer&gt; encode(Object value ,\n                                DataBufferFactory bufferFactory,\n                                ResolvableType type,\n                                MimeType mimeType,\n                                Map&lt;String, Object&gt; hints){\n    return Mono.fromCallable(() -&gt; {\n        boolean release = true;\n        DataBuffer buffer = bufferFactory.allocateBuffer(1024);\n        try {\n            SoapEnvelopeRequest soapEnvelopeRequest = (SoapEnvelopeRequest)value;\n\n            OutputStream outputStream = buffer.asOutputStream();\n            Class&lt;?&gt; clazz = ClassUtils.getUserClass(soapEnvelopeRequest.getBody());\n            Marshaller marshaller = initMarshaller(clazz);\n\n            DefaultStrategiesHelper helper = new DefaultStrategiesHelper(WebServiceTemplate.class);\n            WebServiceMessageFactory messageFactory = helper.getDefaultStrategy(WebServiceMessageFactory.class);\n            WebServiceMessage message = messageFactory.createWebServiceMessage();\n\n            if( soapEnvelopeRequest.getHeaderContent() != null ){\n                SoapMessage soapMessage = (SoapMessage)message;\n                SoapHeader header = soapMessage.getSoapHeader();\n                StringSource headerSource = new StringSource(soapEnvelopeRequest.getHeaderContent());\n                Transformer transformer = TransformerFactory.newInstance().newTransformer();\n                transformer.transform(headerSource, header.getResult());\n            }\n\n            marshaller.marshal(soapEnvelopeRequest.getBody(), message.getPayloadResult());\n            message.writeTo(outputStream);\n\n            release = false;\n            return buffer;\n        }\n        catch (MarshalException ex) {\n            throw new EncodingException(\n                    &quot;Could not marshal &quot; + value.getClass() + &quot; to XML&quot;, ex);\n        }\n        catch (JAXBException ex) {\n            throw new CodecException(&quot;Invalid JAXB configuration&quot;, ex);\n        }\n        finally {\n            if (release) {\n                DataBufferUtils.release(buffer);\n            }\n        }\n    }).flux();\n}\n\nprivate Marshaller initMarshaller(Class&lt;?&gt; clazz) throws JAXBException {\n    Marshaller marshaller = this.jaxbContexts.createMarshaller(clazz);\n    marshaller.setProperty(Marshaller.JAXB_ENCODING, StandardCharsets.UTF_8.name());\n    return marshaller;\n}\n</code></pre>\n<p>class: JaxbContextContainer</p>\n<pre><code>private final ConcurrentMap&lt;Class&lt;?&gt;, JAXBContext&gt; jaxbContexts = new ConcurrentHashMap&lt;&gt;(64);\n\n\npublic Marshaller createMarshaller(Class&lt;?&gt; clazz) throws JAXBException {\n    JAXBContext jaxbContext = getJaxbContext(clazz);\n    return jaxbContext.createMarshaller();\n}\n\npublic Unmarshaller createUnmarshaller(Class&lt;?&gt; clazz) throws JAXBException {\n    JAXBContext jaxbContext = getJaxbContext(clazz);\n    return jaxbContext.createUnmarshaller();\n}\n\nprivate JAXBContext getJaxbContext(Class&lt;?&gt; clazz) throws JAXBException {\n    Assert.notNull(clazz, &quot;Class must not be null&quot;);\n    JAXBContext jaxbContext = this.jaxbContexts.get(clazz);\n    if (jaxbContext == null) {\n        jaxbContext = JAXBContext.newInstance(clazz);\n        this.jaxbContexts.putIfAbsent(clazz, jaxbContext);\n    }\n    return jaxbContext;\n}\n</code></pre>\n<p>And when I make the request:</p>\n<pre><code>@Autowired\n@Qualifier(&quot;soapWebClient&quot;)\nWebClient soapWebClient;\n\npublic &lt;I, O&gt; O marshalSendAndReceive(String soapServiceUrl, I request, Class&lt;I&gt; requestClass, Class&lt;O&gt; responseClass) {\n    log.debug(&quot;Making SOAP request to {} {}&quot;, soapServiceUrl, log.isTraceEnabled() ? String.valueOf(request) : String.valueOf(request).length());\n    return soapWebClient.post()\n        .uri(soapServiceUrl)\n        .contentType(MediaType.TEXT_XML)\n        .body(Mono.just(request), requestClass)\n        .retrieve()\n        .onStatus(HttpStatus::isError, clientResponse -&gt;\n            clientResponse.bodyToMono(String.class).flatMap(errorResponseBody -&gt; {\n                log.error(&quot;Fault from SOAP call {} {} {}&quot;, soapServiceUrl, clientResponse.statusCode(), errorResponseBody);\n                return Mono.error(new ResponseStatusHeadersException(\n                    clientResponse.statusCode(),\n                    clientResponse.headers().asHttpHeaders(),\n                    errorResponseBody\n                ));\n            })\n        )\n        .bodyToMono(responseClass)\n        .block();\n}\n\npublic AnalyzeResponse analyze(Analyze request) {\n    log.info(&quot;RSAClient - Processing the analyze request:&quot; + request.toString());\n    log.info(&quot;Making analyze request now&quot;);\n    \n    AnalyzeResponse response = null;\n    response = marshalSendAndReceive(settings.getRsaEntServerAddress(), request, Analyze.class, AnalyzeResponse.class);\n    \n    log.info(&quot;Successfully got analyze response: {}&quot;, response);\n    return response;\n}\n</code></pre>\n"},{"tags":["java","couchbase"],"comments":[{"owner":{"account_id":17736,"reputation":25458,"user_id":40015,"accept_rate":84,"display_name":"Matthew Groves"},"score":0,"creation_date":1687785523,"post_id":76553888,"comment_id":134981007,"body_markdown":"What version of Couchbase are you using? Also, is this related to Spring Data? If so, perhaps paste the relevant portion of the code.","body":"What version of Couchbase are you using? Also, is this related to Spring Data? If so, perhaps paste the relevant portion of the code."},{"owner":{"account_id":4915308,"reputation":679,"user_id":3959387,"accept_rate":39,"display_name":"Yo Yo Money Singh"},"score":1,"creation_date":1687934062,"post_id":76553888,"comment_id":135004556,"body_markdown":"Added details, as requested. Thanks.","body":"Added details, as requested. Thanks."},{"owner":{"account_id":17736,"reputation":25458,"user_id":40015,"accept_rate":84,"display_name":"Matthew Groves"},"score":0,"creation_date":1688037725,"post_id":76553888,"comment_id":135021481,"body_markdown":"I see you removed the Spring tag, but this is the Java SDK, correct?","body":"I see you removed the Spring tag, but this is the Java SDK, correct?"},{"owner":{"account_id":4915308,"reputation":679,"user_id":3959387,"accept_rate":39,"display_name":"Yo Yo Money Singh"},"score":1,"creation_date":1688046799,"post_id":76553888,"comment_id":135023555,"body_markdown":"That&#39;s right. It&#39;s the Java SDK.","body":"That&#39;s right. It&#39;s the Java SDK."},{"owner":{"account_id":303087,"reputation":8621,"user_id":611819,"accept_rate":100,"display_name":"dnault"},"score":1,"creation_date":1688154053,"post_id":76553888,"comment_id":135040999,"body_markdown":"I think your hunch might be correct. What is your KV timeout set to? If you search your app log for CoreCreatedEvent you should see the timeout settings as part of the &quot;timeoutConfig&quot; object. This message is logged at INFO level to the &quot;com.couchbase.core&quot; category.","body":"I think your hunch might be correct. What is your KV timeout set to? If you search your app log for CoreCreatedEvent you should see the timeout settings as part of the &quot;timeoutConfig&quot; object. This message is logged at INFO level to the &quot;com.couchbase.core&quot; category."},{"owner":{"account_id":4915308,"reputation":679,"user_id":3959387,"accept_rate":39,"display_name":"Yo Yo Money Singh"},"score":1,"creation_date":1688537721,"post_id":76553888,"comment_id":135084644,"body_markdown":"Is there a way to tell Step 2 to execute only once step 1 is finished executing?","body":"Is there a way to tell Step 2 to execute only once step 1 is finished executing?"},{"owner":{"account_id":5963819,"reputation":416,"user_id":4688115,"display_name":"Graham Pople"},"score":1,"creation_date":1688648628,"post_id":76553888,"comment_id":135104243,"body_markdown":"@YoYoMoneySingh Couchbase SDK engineer here, and looks to me like the SDK hasn&#39;t finished bootstrapping yet.  We occasionally see this in higher latency setups.  As David says, you could increase the KV timeout. You can also apply the &quot;wan-development&quot; environment profile, which will do the same.  Or - my preferred option - you could add a cluster.waitUntilReady() during initialisation, which will block until bootstrapping is complete.","body":"@YoYoMoneySingh Couchbase SDK engineer here, and looks to me like the SDK hasn&#39;t finished bootstrapping yet.  We occasionally see this in higher latency setups.  As David says, you could increase the KV timeout. You can also apply the &quot;wan-development&quot; environment profile, which will do the same.  Or - my preferred option - you could add a cluster.waitUntilReady() during initialisation, which will block until bootstrapping is complete."}],"owner":{"account_id":4915308,"reputation":679,"user_id":3959387,"accept_rate":39,"display_name":"Yo Yo Money Singh"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1688045654,"creation_date":1687759322,"question_id":76553888,"body_markdown":"I am a newbie to couchbase. In one of my applications, we are occassionally getting\r\n`com.couchbase.client.core.error.RequestCancelledException` with `NO_MORE_TRIES (COLLECTION_MAP_REFRESH_IN_PROFRESS)` reason.\r\n\r\nI tried searching about this reason, but could find any relevant doc which explains this reason in detail. Can someone help?\r\n\r\n[Edit:]\r\nMy erroneous code looks like below, and error is triggered on second line (document fetch step).\r\n\r\nI have a hunch that the `Collection collection = ...` is an async step and the collection isn&#39;t fully populated by the time the `collection.get(id)` is invoked.\r\n\r\n\r\n```\r\n Collection collection = scope.collection(myCollection);\r\n MyEntity myEntity = collection.get(id).contentAs(MyEntity.class);\r\n```\r\n\r\nI will paste the couchbase version once I have that info, but rest assured it&#39;s quite a newer version.\r\n\r\n[Edit:]\r\nMy couchbase version is 7.1.3 EE. and Couchbase client SDK 3.2.4","title":"COLLECTION_MAP_REFRESH_IN_PROGRESS reason with RequestCancelledException while connecting to couchbase","body":"<p>I am a newbie to couchbase. In one of my applications, we are occassionally getting\n<code>com.couchbase.client.core.error.RequestCancelledException</code> with <code>NO_MORE_TRIES (COLLECTION_MAP_REFRESH_IN_PROFRESS)</code> reason.</p>\n<p>I tried searching about this reason, but could find any relevant doc which explains this reason in detail. Can someone help?</p>\n<p>[Edit:]\nMy erroneous code looks like below, and error is triggered on second line (document fetch step).</p>\n<p>I have a hunch that the <code>Collection collection = ...</code> is an async step and the collection isn't fully populated by the time the <code>collection.get(id)</code> is invoked.</p>\n<pre><code> Collection collection = scope.collection(myCollection);\n MyEntity myEntity = collection.get(id).contentAs(MyEntity.class);\n</code></pre>\n<p>I will paste the couchbase version once I have that info, but rest assured it's quite a newer version.</p>\n<p>[Edit:]\nMy couchbase version is 7.1.3 EE. and Couchbase client SDK 3.2.4</p>\n"},{"tags":["java","html","swing","javafx","editor"],"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1687698824,"post_id":76550530,"comment_id":134970011,"body_markdown":"`JApplet` is deprecated; is it essential? Why not [tag:jeditorpane] or [tag:jedit].","body":"<code>JApplet</code> is deprecated; is it essential? Why not <a href=\"https://stackoverflow.com/questions/tagged/jeditorpane\">jeditorpane</a> or <a href=\"https://stackoverflow.com/questions/tagged/jedit\">jedit</a>."},{"owner":{"account_id":9248558,"reputation":11,"user_id":6869735,"display_name":"Doug Stockman"},"score":0,"creation_date":1687733985,"post_id":76550530,"comment_id":134973826,"body_markdown":"I need user-level text editing such as ordered and un-ordered lists, various font sizes and styles, etc.  I played a long time with JEditorPane and could not get it to do all that I wanted.  The documentation seemed less than ideal for what I was trying to create.  I tried some other WYSIWYG Java editors written by others and they had many bugs.","body":"I need user-level text editing such as ordered and un-ordered lists, various font sizes and styles, etc.  I played a long time with JEditorPane and could not get it to do all that I wanted.  The documentation seemed less than ideal for what I was trying to create.  I tried some other WYSIWYG Java editors written by others and they had many bugs."}],"answers":[{"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687979565,"creation_date":1687905997,"answer_id":76569059,"question_id":76550530,"body_markdown":"Empirically, absent a reason to destroy the applet or shut down the JavaFX runtime, I focused on the &lt;kbd&gt;Close&lt;/kbd&gt; button&#39;s action handler method in your example to effect the desired behavior. The precise formulation will depend on your use case. \r\n\r\n**You could** alter the frame&#39;s visibility, reusing it as needed:\r\n\r\n    btnCaretExit.setOnAction((ActionEvent event) -&gt; {\r\n        frame.setVisible(false);\r\n    });\r\n\r\n**You could** alter the frame&#39;s default closing operation and tell it to close, reusing it as needed:\r\n\r\n    frame.setDefaultCloseOperation(\r\n        JFrame.DO_NOTHING_ON_CLOSE);\r\n    …\r\n    btnCaretExit.setOnAction((ActionEvent event) -&gt; {\r\n        frame.setVisible(false);\r\n        frame.dispatchEvent(newWindowEvent(\r\n            frame, WindowEvent.WINDOW_CLOSING));\r\n    });\r\n\r\n[![Editor image][1]][1]\r\n\r\n**You could** open the `HTMLEditor` in a modal dialog as shown below in a variation of this [example][2]. Instead of a `Button`, a `WindowListener` observes the dialog&#39;s closing to access the editor&#39;s content. As [`JApplet`][3] is deprecated, you may want to migrate by using an intermediate hybrid similar to your example and those seen [here][4]:\r\n\r\n```\r\nimport java.awt.BorderLayout;\r\nimport java.awt.Dimension;\r\nimport java.awt.EventQueue;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.WindowAdapter;\r\nimport java.awt.event.WindowEvent;\r\nimport javax.swing.JFrame;\r\nimport javafx.application.Platform;\r\nimport javafx.embed.swing.JFXPanel;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.layout.StackPane;\r\nimport javafx.scene.web.HTMLEditor;\r\nimport javax.swing.AbstractAction;\r\nimport javax.swing.JButton;\r\nimport javax.swing.JDialog;\r\n\r\n/**\r\n * @see https://stackoverflow.com/q/76550530/230513\r\n * @see https://stackoverflow.com/a/31576647/230513\r\n */\r\npublic class SwingEditorTest {\r\n\r\n    private HTMLEditor editor;\r\n\r\n    private void initAndShowGUI() {\r\n        // This method is invoked on the EDT thread\r\n        var frame = new JFrame(&quot;Swing and JavaFX&quot;);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        final var fxPanel = new JFXPanel() {\r\n\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(600, 300);\r\n            }\r\n        };\r\n        Platform.runLater(() -&gt; {\r\n            editor = initFX(fxPanel);\r\n        });\r\n        var dialog = new JDialog(frame);\r\n        dialog.add(fxPanel);\r\n        dialog.pack();\r\n        dialog.setLocationRelativeTo(frame);\r\n        dialog.addWindowListener(new WindowAdapter() {\r\n            @Override\r\n            public void windowClosing(WindowEvent e) {\r\n                Platform.runLater(() -&gt; {\r\n                    System.out.println(editor.getHtmlText());\r\n                });\r\n            }\r\n        });\r\n        frame.add(new JButton(new AbstractAction(&quot;Edit&quot;) {\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                dialog.setVisible(true);\r\n            }\r\n        }), BorderLayout.CENTER);\r\n        frame.pack();\r\n        frame.setLocationRelativeTo(null);\r\n        frame.setVisible(true);\r\n    }\r\n\r\n    private HTMLEditor initFX(JFXPanel fxPanel) {\r\n        // This method is invoked on the JavaFX thread\r\n        StackPane root = new StackPane();\r\n        Scene scene = new Scene(root);\r\n        editor = new HTMLEditor();\r\n        editor.setHtmlText(&quot;Testing&quot;);\r\n        root.getChildren().add(editor);\r\n        fxPanel.setScene(scene);\r\n        return editor;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        EventQueue.invokeLater(new SwingEditorTest()::initAndShowGUI);\r\n    }\r\n}\r\n```\r\n\r\n[![Dialog image][5]][5] \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vHJCE.png\r\n  [2]: https://stackoverflow.com/a/31576647/230513\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/JApplet.html\r\n  [4]: https://stackoverflow.com/a/12449949/230513\r\n  [5]: https://i.stack.imgur.com/L4nZg.png","title":"JavaFX HTML editor in swing application and reloading editor not working","body":"<p>Empirically, absent a reason to destroy the applet or shut down the JavaFX runtime, I focused on the <kbd>Close</kbd> button's action handler method in your example to effect the desired behavior. The precise formulation will depend on your use case.</p>\n<p><strong>You could</strong> alter the frame's visibility, reusing it as needed:</p>\n<pre><code>btnCaretExit.setOnAction((ActionEvent event) -&gt; {\n    frame.setVisible(false);\n});\n</code></pre>\n<p><strong>You could</strong> alter the frame's default closing operation and tell it to close, reusing it as needed:</p>\n<pre><code>frame.setDefaultCloseOperation(\n    JFrame.DO_NOTHING_ON_CLOSE);\n…\nbtnCaretExit.setOnAction((ActionEvent event) -&gt; {\n    frame.setVisible(false);\n    frame.dispatchEvent(newWindowEvent(\n        frame, WindowEvent.WINDOW_CLOSING));\n});\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/vHJCE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vHJCE.png\" alt=\"Editor image\" /></a></p>\n<p><strong>You could</strong> open the <code>HTMLEditor</code> in a modal dialog as shown below in a variation of this <a href=\"https://stackoverflow.com/a/31576647/230513\">example</a>. Instead of a <code>Button</code>, a <code>WindowListener</code> observes the dialog's closing to access the editor's content. As <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/JApplet.html\" rel=\"nofollow noreferrer\"><code>JApplet</code></a> is deprecated, you may want to migrate by using an intermediate hybrid similar to your example and those seen <a href=\"https://stackoverflow.com/a/12449949/230513\">here</a>:</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.WindowAdapter;\nimport java.awt.event.WindowEvent;\nimport javax.swing.JFrame;\nimport javafx.application.Platform;\nimport javafx.embed.swing.JFXPanel;\nimport javafx.scene.Scene;\nimport javafx.scene.layout.StackPane;\nimport javafx.scene.web.HTMLEditor;\nimport javax.swing.AbstractAction;\nimport javax.swing.JButton;\nimport javax.swing.JDialog;\n\n/**\n * @see https://stackoverflow.com/q/76550530/230513\n * @see https://stackoverflow.com/a/31576647/230513\n */\npublic class SwingEditorTest {\n\n    private HTMLEditor editor;\n\n    private void initAndShowGUI() {\n        // This method is invoked on the EDT thread\n        var frame = new JFrame(&quot;Swing and JavaFX&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        final var fxPanel = new JFXPanel() {\n\n            @Override\n            public Dimension getPreferredSize() {\n                return new Dimension(600, 300);\n            }\n        };\n        Platform.runLater(() -&gt; {\n            editor = initFX(fxPanel);\n        });\n        var dialog = new JDialog(frame);\n        dialog.add(fxPanel);\n        dialog.pack();\n        dialog.setLocationRelativeTo(frame);\n        dialog.addWindowListener(new WindowAdapter() {\n            @Override\n            public void windowClosing(WindowEvent e) {\n                Platform.runLater(() -&gt; {\n                    System.out.println(editor.getHtmlText());\n                });\n            }\n        });\n        frame.add(new JButton(new AbstractAction(&quot;Edit&quot;) {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                dialog.setVisible(true);\n            }\n        }), BorderLayout.CENTER);\n        frame.pack();\n        frame.setLocationRelativeTo(null);\n        frame.setVisible(true);\n    }\n\n    private HTMLEditor initFX(JFXPanel fxPanel) {\n        // This method is invoked on the JavaFX thread\n        StackPane root = new StackPane();\n        Scene scene = new Scene(root);\n        editor = new HTMLEditor();\n        editor.setHtmlText(&quot;Testing&quot;);\n        root.getChildren().add(editor);\n        fxPanel.setScene(scene);\n        return editor;\n    }\n\n    public static void main(String[] args) {\n        EventQueue.invokeLater(new SwingEditorTest()::initAndShowGUI);\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/L4nZg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/L4nZg.png\" alt=\"Dialog image\" /></a></p>\n"}],"owner":{"account_id":9248558,"reputation":11,"user_id":6869735,"display_name":"Doug Stockman"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688044455,"creation_date":1687698032,"question_id":76550530,"body_markdown":"I have a large Java swing-based application and needed to add a text editor.  The JavaFX HTML editor appears to be my best option.  I am hoping to have the HTML Editor in a JPanel aside other controls in the Swing environment.  I can do this but I must not be closing the JavaFX HTML Editor correctly because I can only get the HTML Editor to run once unless I exit the entire larger program.  The first time I open the Editor app the Platform.runLater() executes.  The second call to the Editor app does not run the Platform.runLater().  I have included code for the &quot;calling&quot; program with 2 buttons.  Each button calls the Editor code.  The first button click opens the editor correctly.  Clicking a second time opens the Swing window but the HTML Editor is not loaded.  The second code is for the program that opens a Swing frame and tries to load the JavaFX HTML Editor into a JPanel in the JFrame.  This is on a Windows machine and NetBeans is my IDE.  Thanks for any help you can offer.\r\n\r\nDoug\r\n\r\n###### calling program\r\n```\r\npackage testjavafxeditorswingcaller;\r\n\r\nimport testhtmleditorminimal.TestHTMLeditorMinimal;\r\n\r\n/**\r\n *\r\n * @author DStockman\r\n */\r\npublic class NewJFrame extends javax.swing.JFrame {\r\n\r\n    /**\r\n     * Creates new form NewJFrame\r\n     */\r\n    public NewJFrame() {\r\n        initComponents();\r\n    }\r\n    \r\n    \r\n\r\n    /**\r\n     * This method is called from within the constructor to initialize the form.\r\n     * WARNING: Do NOT modify this code. The content of this method is always\r\n     * regenerated by the Form Editor.\r\n     */\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    // &lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot;Generated Code&quot;&gt;                          \r\n    private void initComponents() {\r\n\r\n        call1PB = new javax.swing.JButton();\r\n        call2PB = new javax.swing.JButton();\r\n\r\n        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);\r\n\r\n        call1PB.setText(&quot;Call1&quot;);\r\n        call1PB.addActionListener(new java.awt.event.ActionListener() {\r\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\r\n                call1PBActionPerformed(evt);\r\n            }\r\n        });\r\n\r\n        call2PB.setText(&quot;Call2&quot;);\r\n        call2PB.addActionListener(new java.awt.event.ActionListener() {\r\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\r\n                call2PBActionPerformed(evt);\r\n            }\r\n        });\r\n\r\n        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());\r\n        getContentPane().setLayout(layout);\r\n        layout.setHorizontalGroup(\r\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n            .addGroup(layout.createSequentialGroup()\r\n                .addGap(163, 163, 163)\r\n                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n                    .addComponent(call2PB)\r\n                    .addComponent(call1PB))\r\n                .addContainerGap(165, Short.MAX_VALUE))\r\n        );\r\n        layout.setVerticalGroup(\r\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n            .addGroup(layout.createSequentialGroup()\r\n                .addGap(57, 57, 57)\r\n                .addComponent(call1PB)\r\n                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\r\n                .addComponent(call2PB)\r\n                .addContainerGap(193, Short.MAX_VALUE))\r\n        );\r\n\r\n        setSize(new java.awt.Dimension(416, 308));\r\n        setLocationRelativeTo(null);\r\n    }// &lt;/editor-fold&gt;                        \r\n\r\n    private void call1PBActionPerformed(java.awt.event.ActionEvent evt) {                                        \r\n        TestHTMLeditorMinimal a1 = new TestHTMLeditorMinimal();\r\n        a1.main(null);\r\n        a1.setVisible(true);\r\n    }                                       \r\n\r\n    private void call2PBActionPerformed(java.awt.event.ActionEvent evt) {                                        \r\n        TestHTMLeditorMinimal a2 = new TestHTMLeditorMinimal();\r\n        a2.main(null);\r\n        a2.setVisible(true);\r\n    }                                       \r\n\r\n    /**\r\n     * @param args the command line arguments\r\n     */\r\n    public static void main(String args[]) {\r\n        /* Set the Nimbus look and feel */\r\n        //&lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot; Look and feel setting code (optional) &quot;&gt;\r\n        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.\r\n         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html \r\n         */\r\n        try {\r\n            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {\r\n                if (&quot;Nimbus&quot;.equals(info.getName())) {\r\n                    javax.swing.UIManager.setLookAndFeel(info.getClassName());\r\n                    break;\r\n                }\r\n            }\r\n        } catch (ClassNotFoundException ex) {\r\n            java.util.logging.Logger.getLogger(NewJFrame.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n        } catch (InstantiationException ex) {\r\n            java.util.logging.Logger.getLogger(NewJFrame.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n        } catch (IllegalAccessException ex) {\r\n            java.util.logging.Logger.getLogger(NewJFrame.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n        } catch (javax.swing.UnsupportedLookAndFeelException ex) {\r\n            java.util.logging.Logger.getLogger(NewJFrame.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n        }\r\n        //&lt;/editor-fold&gt;\r\n\r\n        /* Create and display the form */\r\n        java.awt.EventQueue.invokeLater(new Runnable() {\r\n            public void run() {\r\n                new NewJFrame().setVisible(true);\r\n            }\r\n        });\r\n    }\r\n\r\n    // Variables declaration - do not modify                     \r\n    private javax.swing.JButton call1PB;\r\n    private javax.swing.JButton call2PB;\r\n    // End of variables declaration                   \r\n}\r\n```\r\n\r\n###### Editor program\r\n\r\n```\r\npackage testhtmleditorminimal;\r\n\r\nimport java.awt.BorderLayout;\r\nimport java.awt.Dimension;\r\nimport javafx.application.Platform;\r\nimport javafx.embed.swing.JFXPanel;\r\nimport javafx.event.ActionEvent;\r\nimport javafx.scene.Node;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.control.ToolBar;\r\nimport javafx.scene.web.HTMLEditor;\r\nimport javafx.scene.web.WebView;\r\nimport javax.swing.JApplet;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.SwingUtilities;\r\nimport javax.swing.UIManager;\r\n\r\n/**\r\n *\r\n * @author DStockman\r\n */\r\npublic class TestHTMLeditorMinimal extends JApplet {\r\n\r\n    private static final int JFXPANEL_WIDTH_INT = 1200;\r\n    private static final int JFXPANEL_HEIGHT_INT = 1000;\r\n    private static JFXPanel fxContainer;\r\n    public static HTMLEditor htmlEditor=null;\r\n    public static Scene scene = null;\r\n    public static JFrame frame=null;\r\n    public static JApplet applet=null;\r\n    public static JPanel jpanel=null;\r\n\r\n    /**\r\n     * @param args the command line arguments\r\n     */\r\n    public static void main(String[] args) {\r\n        SwingUtilities.invokeLater(new Runnable() {\r\n            \r\n            @Override\r\n            public void run() {\r\n                try {\r\n                    UIManager.setLookAndFeel(&quot;com.sun.java.swing.plaf.nimbus.NimbusLookAndFeel&quot;);\r\n                } catch (Exception e) {\r\n                }\r\n                \r\n                frame = new JFrame(&quot;JavaFX 2 in Swing&quot;);\r\n                frame.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\r\n                applet = new TestHTMLeditorMinimal();\r\n                applet.init();\r\n                frame.setContentPane(applet.getContentPane());\r\n                frame.pack();\r\n                frame.setLocationRelativeTo(null);\r\n                frame.setVisible(true);\r\n                applet.start();\r\n            }\r\n        });\r\n    }\r\n    \r\n    @Override\r\n    public void init() {\r\n        jpanel = new JPanel();\r\n        fxContainer = new JFXPanel();\r\n        fxContainer.setPreferredSize(new Dimension(JFXPANEL_WIDTH_INT, JFXPANEL_HEIGHT_INT));\r\n        jpanel.add(fxContainer);\r\n        add(jpanel, BorderLayout.CENTER);\r\n        Platform.runLater(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                createScene();\r\n            }\r\n        });\r\n\r\n    }\r\n    \r\n    private void createScene() {\r\n        htmlEditor = new HTMLEditor();\r\n        htmlEditor.setHtmlText(&quot;Testing&quot;);\r\n        addToolBar();\r\n        scene = new Scene(htmlEditor);\r\n        fxContainer.setScene(scene);\r\n    } // ********************************************\r\n    \r\n    \r\n    public void addToolBar(){\r\n        Node toolNode = htmlEditor.lookup(&quot;.top-toolbar&quot;);\r\n        Node webNode = htmlEditor.lookup(&quot;.web-view&quot;);\r\n\r\n        if (toolNode instanceof ToolBar &amp;&amp; webNode instanceof WebView) {\r\n            ToolBar bar = (ToolBar) toolNode;\r\n            WebView webView = (WebView) webNode;\r\n            //engine = webView.getEngine();\r\n            Button btnCaretExit = new Button(&quot;Close&quot;);\r\n            bar.getItems().addAll(btnCaretExit);\r\n            \r\n// I tried multiple ways to exit program\r\n            btnCaretExit.setOnAction((ActionEvent event) -&gt; {\r\n                Platform.setImplicitExit(true);\r\n                applet.destroy();\r\n                fxContainer.removeAll();\r\n                Platform.exit();\r\n                frame.dispose();\r\n            });\r\n        }\r\n    }\r\n  \r\n}\r\n\r\n```\r\n\r\nThanks for the suggestions! I got rid of the JApplet.  I continued to test various ways to close the code with the HTMLEditor in it but the HTMLEditor would still not reinitialize when a second start of the code was attempted (without shutting down the calling program).  The only way I could get the program to work was your suggestion of: frame.setVisible(false);  I tried a couple different methods to re-open the hidden app.  What I am doing right now from the calling program is:\r\n\r\n                \r\n        // calling program\r\n        public WebViewTest a1=null;\r\n        \r\n        if(a1 == null){\r\n            a1 = new WebViewTest();\r\n            a1.initAndShowGUI(&quot;Starting 2&quot;, 900,900);\r\n        }\r\n        else{\r\n        \ta1.initAndShowGUI(&quot;Starting 2 restart&quot;, 900,900);\r\n        \t// when I used the following I got an error with .setContent\r\n        \t//a1.setVisible();\r\n        \t//a1.setContent(&quot;Selected Call 2&quot;);\r\n        }\r\n    \r\n    // in the editor program\r\n    // does not work\r\n    public void setContent(String content){\r\n    \thtmlEditor.setHtmlText(content);\r\n    }\r\n\r\nIs the above method going to keep creating new (quasi)instances of the code every time it is opened because of the repeated calls to initAndShowGUI?  Sorry for my ignorance on the basics of Java functioning.\r\n\r\nThanks again!\r\nDoug\r\n","title":"JavaFX HTML editor in swing application and reloading editor not working","body":"<p>I have a large Java swing-based application and needed to add a text editor.  The JavaFX HTML editor appears to be my best option.  I am hoping to have the HTML Editor in a JPanel aside other controls in the Swing environment.  I can do this but I must not be closing the JavaFX HTML Editor correctly because I can only get the HTML Editor to run once unless I exit the entire larger program.  The first time I open the Editor app the Platform.runLater() executes.  The second call to the Editor app does not run the Platform.runLater().  I have included code for the &quot;calling&quot; program with 2 buttons.  Each button calls the Editor code.  The first button click opens the editor correctly.  Clicking a second time opens the Swing window but the HTML Editor is not loaded.  The second code is for the program that opens a Swing frame and tries to load the JavaFX HTML Editor into a JPanel in the JFrame.  This is on a Windows machine and NetBeans is my IDE.  Thanks for any help you can offer.</p>\n<p>Doug</p>\n<h6>calling program</h6>\n<pre><code>package testjavafxeditorswingcaller;\n\nimport testhtmleditorminimal.TestHTMLeditorMinimal;\n\n/**\n *\n * @author DStockman\n */\npublic class NewJFrame extends javax.swing.JFrame {\n\n    /**\n     * Creates new form NewJFrame\n     */\n    public NewJFrame() {\n        initComponents();\n    }\n    \n    \n\n    /**\n     * This method is called from within the constructor to initialize the form.\n     * WARNING: Do NOT modify this code. The content of this method is always\n     * regenerated by the Form Editor.\n     */\n    @SuppressWarnings(&quot;unchecked&quot;)\n    // &lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot;Generated Code&quot;&gt;                          \n    private void initComponents() {\n\n        call1PB = new javax.swing.JButton();\n        call2PB = new javax.swing.JButton();\n\n        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);\n\n        call1PB.setText(&quot;Call1&quot;);\n        call1PB.addActionListener(new java.awt.event.ActionListener() {\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\n                call1PBActionPerformed(evt);\n            }\n        });\n\n        call2PB.setText(&quot;Call2&quot;);\n        call2PB.addActionListener(new java.awt.event.ActionListener() {\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\n                call2PBActionPerformed(evt);\n            }\n        });\n\n        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());\n        getContentPane().setLayout(layout);\n        layout.setHorizontalGroup(\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGroup(layout.createSequentialGroup()\n                .addGap(163, 163, 163)\n                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n                    .addComponent(call2PB)\n                    .addComponent(call1PB))\n                .addContainerGap(165, Short.MAX_VALUE))\n        );\n        layout.setVerticalGroup(\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGroup(layout.createSequentialGroup()\n                .addGap(57, 57, 57)\n                .addComponent(call1PB)\n                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\n                .addComponent(call2PB)\n                .addContainerGap(193, Short.MAX_VALUE))\n        );\n\n        setSize(new java.awt.Dimension(416, 308));\n        setLocationRelativeTo(null);\n    }// &lt;/editor-fold&gt;                        \n\n    private void call1PBActionPerformed(java.awt.event.ActionEvent evt) {                                        \n        TestHTMLeditorMinimal a1 = new TestHTMLeditorMinimal();\n        a1.main(null);\n        a1.setVisible(true);\n    }                                       \n\n    private void call2PBActionPerformed(java.awt.event.ActionEvent evt) {                                        \n        TestHTMLeditorMinimal a2 = new TestHTMLeditorMinimal();\n        a2.main(null);\n        a2.setVisible(true);\n    }                                       \n\n    /**\n     * @param args the command line arguments\n     */\n    public static void main(String args[]) {\n        /* Set the Nimbus look and feel */\n        //&lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot; Look and feel setting code (optional) &quot;&gt;\n        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.\n         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html \n         */\n        try {\n            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {\n                if (&quot;Nimbus&quot;.equals(info.getName())) {\n                    javax.swing.UIManager.setLookAndFeel(info.getClassName());\n                    break;\n                }\n            }\n        } catch (ClassNotFoundException ex) {\n            java.util.logging.Logger.getLogger(NewJFrame.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        } catch (InstantiationException ex) {\n            java.util.logging.Logger.getLogger(NewJFrame.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        } catch (IllegalAccessException ex) {\n            java.util.logging.Logger.getLogger(NewJFrame.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        } catch (javax.swing.UnsupportedLookAndFeelException ex) {\n            java.util.logging.Logger.getLogger(NewJFrame.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        }\n        //&lt;/editor-fold&gt;\n\n        /* Create and display the form */\n        java.awt.EventQueue.invokeLater(new Runnable() {\n            public void run() {\n                new NewJFrame().setVisible(true);\n            }\n        });\n    }\n\n    // Variables declaration - do not modify                     \n    private javax.swing.JButton call1PB;\n    private javax.swing.JButton call2PB;\n    // End of variables declaration                   \n}\n</code></pre>\n<h6>Editor program</h6>\n<pre><code>package testhtmleditorminimal;\n\nimport java.awt.BorderLayout;\nimport java.awt.Dimension;\nimport javafx.application.Platform;\nimport javafx.embed.swing.JFXPanel;\nimport javafx.event.ActionEvent;\nimport javafx.scene.Node;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.ToolBar;\nimport javafx.scene.web.HTMLEditor;\nimport javafx.scene.web.WebView;\nimport javax.swing.JApplet;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.SwingUtilities;\nimport javax.swing.UIManager;\n\n/**\n *\n * @author DStockman\n */\npublic class TestHTMLeditorMinimal extends JApplet {\n\n    private static final int JFXPANEL_WIDTH_INT = 1200;\n    private static final int JFXPANEL_HEIGHT_INT = 1000;\n    private static JFXPanel fxContainer;\n    public static HTMLEditor htmlEditor=null;\n    public static Scene scene = null;\n    public static JFrame frame=null;\n    public static JApplet applet=null;\n    public static JPanel jpanel=null;\n\n    /**\n     * @param args the command line arguments\n     */\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new Runnable() {\n            \n            @Override\n            public void run() {\n                try {\n                    UIManager.setLookAndFeel(&quot;com.sun.java.swing.plaf.nimbus.NimbusLookAndFeel&quot;);\n                } catch (Exception e) {\n                }\n                \n                frame = new JFrame(&quot;JavaFX 2 in Swing&quot;);\n                frame.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\n                applet = new TestHTMLeditorMinimal();\n                applet.init();\n                frame.setContentPane(applet.getContentPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n                applet.start();\n            }\n        });\n    }\n    \n    @Override\n    public void init() {\n        jpanel = new JPanel();\n        fxContainer = new JFXPanel();\n        fxContainer.setPreferredSize(new Dimension(JFXPANEL_WIDTH_INT, JFXPANEL_HEIGHT_INT));\n        jpanel.add(fxContainer);\n        add(jpanel, BorderLayout.CENTER);\n        Platform.runLater(new Runnable() {\n            @Override\n            public void run() {\n                createScene();\n            }\n        });\n\n    }\n    \n    private void createScene() {\n        htmlEditor = new HTMLEditor();\n        htmlEditor.setHtmlText(&quot;Testing&quot;);\n        addToolBar();\n        scene = new Scene(htmlEditor);\n        fxContainer.setScene(scene);\n    } // ********************************************\n    \n    \n    public void addToolBar(){\n        Node toolNode = htmlEditor.lookup(&quot;.top-toolbar&quot;);\n        Node webNode = htmlEditor.lookup(&quot;.web-view&quot;);\n\n        if (toolNode instanceof ToolBar &amp;&amp; webNode instanceof WebView) {\n            ToolBar bar = (ToolBar) toolNode;\n            WebView webView = (WebView) webNode;\n            //engine = webView.getEngine();\n            Button btnCaretExit = new Button(&quot;Close&quot;);\n            bar.getItems().addAll(btnCaretExit);\n            \n// I tried multiple ways to exit program\n            btnCaretExit.setOnAction((ActionEvent event) -&gt; {\n                Platform.setImplicitExit(true);\n                applet.destroy();\n                fxContainer.removeAll();\n                Platform.exit();\n                frame.dispose();\n            });\n        }\n    }\n  \n}\n\n</code></pre>\n<p>Thanks for the suggestions! I got rid of the JApplet.  I continued to test various ways to close the code with the HTMLEditor in it but the HTMLEditor would still not reinitialize when a second start of the code was attempted (without shutting down the calling program).  The only way I could get the program to work was your suggestion of: frame.setVisible(false);  I tried a couple different methods to re-open the hidden app.  What I am doing right now from the calling program is:</p>\n<pre><code>    // calling program\n    public WebViewTest a1=null;\n    \n    if(a1 == null){\n        a1 = new WebViewTest();\n        a1.initAndShowGUI(&quot;Starting 2&quot;, 900,900);\n    }\n    else{\n        a1.initAndShowGUI(&quot;Starting 2 restart&quot;, 900,900);\n        // when I used the following I got an error with .setContent\n        //a1.setVisible();\n        //a1.setContent(&quot;Selected Call 2&quot;);\n    }\n\n// in the editor program\n// does not work\npublic void setContent(String content){\n    htmlEditor.setHtmlText(content);\n}\n</code></pre>\n<p>Is the above method going to keep creating new (quasi)instances of the code every time it is opened because of the repeated calls to initAndShowGUI?  Sorry for my ignorance on the basics of Java functioning.</p>\n<p>Thanks again!\nDoug</p>\n"},{"tags":["java","spring-boot","unit-testing","testcontainers","testcontainers-junit5"],"answers":[{"tags":[],"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683719464,"creation_date":1683719464,"answer_id":76218051,"question_id":76217978,"body_markdown":"I think you are missing `@Testcontainers` over your test class.","title":"Spring Boot Integration Testing with TestContainers with MySql - BeanDefinitionStoreException","body":"<p>I think you are missing <code>@Testcontainers</code> over your test class.</p>\n"},{"tags":[],"owner":{"account_id":2537085,"reputation":6205,"user_id":2203890,"display_name":"Edd&#250; Mel&#233;ndez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683734008,"creation_date":1683734008,"answer_id":76220460,"question_id":76217978,"body_markdown":"Add `@AutoConfigureTestDatabase(replace = AutoConfigureTestDatabase.Replace.NONE)` at class level","title":"Spring Boot Integration Testing with TestContainers with MySql - BeanDefinitionStoreException","body":"<p>Add <code>@AutoConfigureTestDatabase(replace = AutoConfigureTestDatabase.Replace.NONE)</code> at class level</p>\n"},{"tags":[],"owner":{"account_id":28827506,"reputation":1,"user_id":22078596,"display_name":"Grigoryev Pavel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686832426,"creation_date":1686832426,"answer_id":76482528,"question_id":76217978,"body_markdown":"Try to remove @Container annotation and add mySQLContainer.start() to this method.\r\n\r\n    @DynamicPropertySource\r\n       static void setProperties(DynamicPropertyRegistry properties){\r\n       mySQLContainer.start();\r\n       properties.add(&quot;spring.datasource.url&quot;, mySQLContainer::getJdbcUrl);\r\n       properties.add(&quot;spring.datasource.username&quot;, mySQLContainer::getUsername);\r\n       properties.add(&quot;spring.datasource.password&quot;, mySQLContainer::getPassword);\r\n    }\r\n\r\n","title":"Spring Boot Integration Testing with TestContainers with MySql - BeanDefinitionStoreException","body":"<p>Try to remove @Container annotation and add mySQLContainer.start() to this method.</p>\n<pre><code>@DynamicPropertySource\n   static void setProperties(DynamicPropertyRegistry properties){\n   mySQLContainer.start();\n   properties.add(&quot;spring.datasource.url&quot;, mySQLContainer::getJdbcUrl);\n   properties.add(&quot;spring.datasource.username&quot;, mySQLContainer::getUsername);\n   properties.add(&quot;spring.datasource.password&quot;, mySQLContainer::getPassword);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":474845,"reputation":352,"user_id":884799,"accept_rate":75,"display_name":"Pablo Thiele"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688040644,"creation_date":1688040644,"answer_id":76580925,"question_id":76217978,"body_markdown":"Based on the final portion of the stack you are not providing a valid Docker installation running and available at your `PATH`.\r\n\r\nI would recommend you to ensure the Docker Desktop installation via official ways at: https://docs.docker.com/engine/install/ \r\n\r\nAfter that and using the `@Testcontainers` as stated before should help you further in the testing process.  ","title":"Spring Boot Integration Testing with TestContainers with MySql - BeanDefinitionStoreException","body":"<p>Based on the final portion of the stack you are not providing a valid Docker installation running and available at your <code>PATH</code>.</p>\n<p>I would recommend you to ensure the Docker Desktop installation via official ways at: <a href=\"https://docs.docker.com/engine/install/\" rel=\"nofollow noreferrer\">https://docs.docker.com/engine/install/</a></p>\n<p>After that and using the <code>@Testcontainers</code> as stated before should help you further in the testing process.</p>\n"},{"tags":[],"owner":{"account_id":480584,"reputation":8226,"user_id":893898,"accept_rate":42,"display_name":"Hantsy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688044092,"creation_date":1688044092,"answer_id":76581374,"question_id":76217978,"body_markdown":"For your test try to add `@SpringBootTest` and `@Testcontainers` on the test class.\r\n\r\nBut personally I think you could change your testing strategy to make tests more effectively.\r\n\r\n* Test the db related features, such as Repository, XXXTemplate with `@DataJdbcTest` or other DataXXXTest with a testcontainers database.\r\n* Mock the Repository and test against the Controller/APIs with `@WebMvcTest` or `@WebFluxTest`, etc\r\n* Use the latest Spring `WebClient` to verify the functionality in an integration env with `@SpringBootTest(....RAMDON_PORT)`\r\n\r\nCheck my Spring Boot example project with testing codes here, https://github.com/hantsy/spring6-sandbox/tree/master/boot/src/test/java/com/example/demo","title":"Spring Boot Integration Testing with TestContainers with MySql - BeanDefinitionStoreException","body":"<p>For your test try to add <code>@SpringBootTest</code> and <code>@Testcontainers</code> on the test class.</p>\n<p>But personally I think you could change your testing strategy to make tests more effectively.</p>\n<ul>\n<li>Test the db related features, such as Repository, XXXTemplate with <code>@DataJdbcTest</code> or other DataXXXTest with a testcontainers database.</li>\n<li>Mock the Repository and test against the Controller/APIs with <code>@WebMvcTest</code> or <code>@WebFluxTest</code>, etc</li>\n<li>Use the latest Spring <code>WebClient</code> to verify the functionality in an integration env with <code>@SpringBootTest(....RAMDON_PORT)</code></li>\n</ul>\n<p>Check my Spring Boot example project with testing codes here, <a href=\"https://github.com/hantsy/spring6-sandbox/tree/master/boot/src/test/java/com/example/demo\" rel=\"nofollow noreferrer\">https://github.com/hantsy/spring6-sandbox/tree/master/boot/src/test/java/com/example/demo</a></p>\n"}],"owner":{"account_id":1359473,"reputation":1054,"user_id":1297091,"accept_rate":40,"display_name":"codezoner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1086,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":5,"score":2,"last_activity_date":1688044092,"creation_date":1683719011,"question_id":76217978,"body_markdown":"I&#39;m trying to implement an integration test using TestContainers. But I&#39;m continuously getting BeanDefinitionStoreException.\r\n\r\nMy Test Class\r\n\r\n    \t@SpringBootTest\r\n\t@AutoConfigureMockMvc\r\n\tclass OrderServiceApplicationTests {\r\n\r\n\t\t@Container\r\n\t\tstatic final MySQLContainer mySQLContainer = new MySQLContainer&lt;&gt;(&quot;mysql:8.0.30&quot;)\r\n\t\t\t\t.withDatabaseName(&quot;testcontainer&quot;)\r\n\t\t\t\t.withUsername(&quot;test&quot;)\r\n\t\t\t\t.withPassword(&quot;test&quot;);\r\n\r\n\t\t@Autowired\r\n\t\tObjectMapper objectMapper;\r\n\t\t@Autowired\r\n\t\tprivate MockMvc mockMvc;\r\n\t\t@Autowired\r\n\t\tOrderRepository orderRepository;\r\n\r\n\t\t@DynamicPropertySource\r\n\t\tstatic void setProperties(DynamicPropertyRegistry properties){\r\n\t\t\tproperties.add(&quot;spring.datasource.url&quot;, mySQLContainer::getJdbcUrl);\r\n\t\t\tproperties.add(&quot;spring.datasource.username&quot;, mySQLContainer::getUsername);\r\n\t\t\tproperties.add(&quot;spring.datasource.password&quot;, mySQLContainer::getPassword);\r\n\t\t}\r\n\r\n\t\t@Test\r\n\t\tvoid shouldPlaceOrder() throws Exception {\r\n\r\n\t\t\tOrderItemsDto orderItemsDto = OrderItemsDto.builder()\r\n\t\t\t\t\t.skuCode(&quot;Test SKU&quot;)\r\n\t\t\t\t\t.price(new BigDecimal(123.32))\r\n\t\t\t\t\t.quantity(2).build();\r\n\t\t\tOrderDto orderDto = OrderDto.builder()\r\n\t\t\t\t\t.orderItemsDtos(Arrays.asList(orderItemsDto)).build();\r\n\t\t\tString reqString = objectMapper.writeValueAsString(orderDto);\r\n\t\t\tmockMvc.perform(MockMvcRequestBuilders.post(&quot;api/order&quot;)\r\n\t\t\t.contentType(MediaType.APPLICATION_JSON)\r\n\t\t\t.content(reqString))\r\n\t\t\t\t\t.andExpect(status().isCreated());\r\n\t\t\tAssertions.assertTrue(orderRepository.findAll().size() == 1);\r\n\r\n\t\t}\r\n\r\n\t}\r\n\r\nHere is my POM File\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;3.1.0-SNAPSHOT&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;order-service&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;order-service&lt;/name&gt;\r\n    \t&lt;description&gt;Order Service&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mysql&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;dependencyManagement&gt;\r\n    \t\t&lt;dependencies&gt;\r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;testcontainers-bom&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;1.18.0&lt;/version&gt;\r\n    \t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n    \t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n    \t\t&lt;/dependencies&gt;\r\n    \t&lt;/dependencyManagement&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;excludes&gt;\r\n    \t\t\t\t\t\t&lt;exclude&gt;\r\n    \t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;/exclude&gt;\r\n    \t\t\t\t\t&lt;/excludes&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \t&lt;repositories&gt;\r\n    \t\t&lt;repository&gt;\r\n    \t\t\t&lt;id&gt;spring-milestones&lt;/id&gt;\r\n    \t\t\t&lt;name&gt;Spring Milestones&lt;/name&gt;\r\n    \t\t\t&lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\r\n    \t\t\t&lt;snapshots&gt;\r\n    \t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n    \t\t\t&lt;/snapshots&gt;\r\n    \t\t&lt;/repository&gt;\r\n    \t\t&lt;repository&gt;\r\n    \t\t\t&lt;id&gt;spring-snapshots&lt;/id&gt;\r\n    \t\t\t&lt;name&gt;Spring Snapshots&lt;/name&gt;\r\n    \t\t\t&lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\r\n    \t\t\t&lt;releases&gt;\r\n    \t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n    \t\t\t&lt;/releases&gt;\r\n    \t\t&lt;/repository&gt;\r\n    \t&lt;/repositories&gt;\r\n    \t&lt;pluginRepositories&gt;\r\n    \t\t&lt;pluginRepository&gt;\r\n    \t\t\t&lt;id&gt;spring-milestones&lt;/id&gt;\r\n    \t\t\t&lt;name&gt;Spring Milestones&lt;/name&gt;\r\n    \t\t\t&lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\r\n    \t\t\t&lt;snapshots&gt;\r\n    \t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n    \t\t\t&lt;/snapshots&gt;\r\n    \t\t&lt;/pluginRepository&gt;\r\n    \t\t&lt;pluginRepository&gt;\r\n    \t\t\t&lt;id&gt;spring-snapshots&lt;/id&gt;\r\n    \t\t\t&lt;name&gt;Spring Snapshots&lt;/name&gt;\r\n    \t\t\t&lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\r\n    \t\t\t&lt;releases&gt;\r\n    \t\t\t\t&lt;enabled&gt;false&lt;/enabled&gt;\r\n    \t\t\t&lt;/releases&gt;\r\n    \t\t&lt;/pluginRepository&gt;\r\n    \t&lt;/pluginRepositories&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nThis is my console.\r\n\r\n    16:14:14.843 [main] INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils -- Could not detect default configuration classes for test class [com.example.orderservice.OrderServiceApplicationTests]: OrderServiceApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.\r\n    16:14:14.940 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper -- Found @SpringBootConfiguration com.example.orderservice.OrderServiceApplication for test class com.example.orderservice.OrderServiceApplicationTests\r\n    16:14:15.163 [main] WARN org.testcontainers.utility.TestcontainersConfiguration -- Attempted to read Testcontainers configuration file at file:/C:/Users/binul/.testcontainers.properties but the file was not found. Exception message: FileNotFoundException: C:\\Users\\binul\\.testcontainers.properties (The system cannot find the file specified)\r\n    16:14:15.169 [main] INFO org.testcontainers.utility.ImageNameSubstitutor -- Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of &#39;ConfigurationFileImageNameSubstitutor&#39; and &#39;PrefixingImageNameSubstitutor&#39;)\r\n    \r\n      .   ____          _            __ _ _\r\n     /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n    ( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n     \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n      &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n     =========|_|==============|___/=/_/_/_/\r\n     :: Spring Boot ::       (v3.1.0-SNAPSHOT)\r\n    \r\n    2023-05-10T16:14:15.441+05:30  INFO 13040 --- [           main] c.e.o.OrderServiceApplicationTests       : Starting OrderServiceApplicationTests using Java 17.0.7 with PID 13040 (started by binul in D:\\Project Docs\\R&amp;D\\Microservices-Online-Shop\\order-service)\r\n    2023-05-10T16:14:15.444+05:30  INFO 13040 --- [           main] c.e.o.OrderServiceApplicationTests       : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n    2023-05-10T16:14:16.013+05:30  INFO 13040 --- [           main] .t.d.DockerMachineClientProviderStrategy : docker-machine executable was not found on PATH ([C:\\Program Files\\Common Files\\Oracle\\Java\\javapath, C:\\Program Files (x86)\\Common Files\\Oracle\\Java\\javapath, C:\\Windows\\system32, C:\\Windows, C:\\Windows\\System32\\Wbem, C:\\Windows\\System32\\WindowsPowerShell\\v1.0\\, C:\\Windows\\System32\\OpenSSH\\, C:\\Program Files\\Git\\cmd, C:\\Program Files\\Java\\jdk1.8.0_311\\bin, C:\\dev_tools\\apache-maven-3.8.3\\bin, C:\\Program Files\\PuTTY\\, C:\\Program Files\\dotnet\\, C:\\Program Files\\nodejs\\, C:\\Program Files\\Meld\\, C:\\Users\\binul\\AppData\\Local\\Microsoft\\WindowsApps, C:\\Users\\binul\\AppData\\Local\\Programs\\Microsoft VS Code\\bin, C:\\dev_tools\\gradle-6.8.1\\bin, C:\\Users\\binul\\AppData\\Roaming\\npm, C:\\Users\\binul\\.dotnet\\tools])\r\n    2023-05-10T16:14:16.014+05:30 ERROR 13040 --- [           main] o.t.d.DockerClientProviderStrategy       : Could not find a valid Docker environment. Please check configuration. Attempted configurations were:\r\n    As no valid configuration was found, execution cannot continue.\r\n    See https://www.testcontainers.org/on_failure.html for more details.\r\n    2023-05-10T16:14:16.027+05:30  WARN 13040 --- [           main] o.s.w.c.s.GenericWebApplicationContext   : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanDefinitionStoreException: Failed to process import candidates for configuration class [com.example.orderservice.OrderServiceApplication]: Error processing condition on org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration$EmbeddedDatabaseConfiguration\r\n    2023-05-10T16:14:16.054+05:30  INFO 13040 --- [           main] .s.b.a.l.ConditionEvaluationReportLogger : \r\n    \r\n    Error starting ApplicationContext. To display the condition evaluation report re-run your application with &#39;debug&#39; enabled.\r\n    2023-05-10T16:14:16.088+05:30 ERROR 13040 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n    \r\n    org.springframework.beans.factory.BeanDefinitionStoreException: Failed to process import candidates for configuration class [com.example.orderservice.OrderServiceApplication]: Error processing condition on org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration$EmbeddedDatabaseConfiguration\r\n    \tat org.springframework.context.annotation.ConfigurationClassParser.processImports(ConfigurationClassParser.java:524) ~[spring-context-6.0.9-20230509.130721-27.jar:6.0.9-SNAPSHOT]\r\n    \tat org.springframework.context.annotation.ConfigurationClassParser$DeferredImportSelectorGroupingHandler.lambda$processGroupImports$1(ConfigurationClassParser.java:726) ~[spring-context-6.0.9-20230509.130721-27.jar:6.0.9-SNAPSHOT]\r\n    \tat java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]\r\n    \tat org.springframework.context.annotation.ConfigurationClassParser$DeferredImportSelectorGroupingHandler.processGroupImports(ConfigurationClassParser.java:723) ~[spring-context-6.0.9-20230509.130721-27.jar:6.0.9-SNAPSHOT]\r\n    \tat org.springframework.context.annotation.ConfigurationClassParser$DeferredImportSelectorHandler.process(ConfigurationClassParser.java:694) ~[spring-context-6.0.9-20230509.130721-27.jar:6.0.9-SNAPSHOT]\r\n    \tat org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:182) ~[spring-context-6.0.9-20230509.130721-27.jar:6.0.9-SNAPSHOT]\r\n    \tat org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:415) ~[spring-context-6.0.9-20230509.130721-27.jar:6.0.9-SNAPSHOT]\r\n    \tat org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:287) ~[spring-context-6.0.9-20230509.130721-27.jar:6.0.9-SNAPSHOT]\r\n    \tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:344) ~[spring-context-6.0.9-20230509.130721-27.jar:6.0.9-SNAPSHOT]\r\n    \tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:115) ~[spring-context-6.0.9-20230509.130721-27.jar:6.0.9-SNAPSHOT]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:747) ~[spring-context-6.0.9-20230509.130721-27.jar:6.0.9-SNAPSHOT]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:565) ~[spring-context-6.0.9-20230509.130721-27.jar:6.0.9-SNAPSHOT]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733) ~[spring-boot-3.1.0-20230509.165129-256.jar:3.1.0-SNAPSHOT]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435) ~[spring-boot-3.1.0-20230509.165129-256.jar:3.1.0-SNAPSHOT]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:311) ~[spring-boot-3.1.0-20230509.165129-256.jar:3.1.0-SNAPSHOT]\r\n    \tat org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137) ~[spring-boot-test-3.1.0-20230509.165129-256.jar:3.1.0-SNAPSHOT]\r\n    \tat org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58) ~[spring-core-6.0.9-20230509.130721-27.jar:6.0.9-SNAPSHOT]\r\n    \tat org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46) ~[spring-core-6.0.9-20230509.130721-27.jar:6.0.9-SNAPSHOT]\r\n    \tat org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405) ~[spring-boot-3.1.0-20230509.165129-256.jar:3.1.0-SNAPSHOT]\r\n    \tat org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545) ~[spring-boot-test-3.1.0-20230509.165129-256.jar:3.1.0-SNAPSHOT]\r\n    \tat org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137) ~[spring-boot-test-3.1.0-20230509.165129-256.jar:3.1.0-SNAPSHOT]\r\n    \tat org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108) ~[spring-boot-test-3.1.0-20230509.165129-256.jar:3.1.0-SNAPSHOT]\r\n    \tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184) ~[spring-test-6.0.9-20230509.130721-27.jar:6.0.9-SNAPSHOT]\r\n    \tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118) ~[spring-test-6.0.9-20230509.130721-27.jar:6.0.9-SNAPSHOT]\r\n    \tat org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127) ~[spring-test-6.0.9-20230509.130721-27.jar:6.0.9-SNAPSHOT]\r\n    \tat org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:191) ~[spring-test-6.0.9-20230509.130721-27.jar:6.0.9-SNAPSHOT]\r\n    \tat org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:130) ~[spring-test-6.0.9-20230509.130721-27.jar:6.0.9-SNAPSHOT]\r\n    \tat org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241) ~[spring-test-6.0.9-20230509.130721-27.jar:6.0.9-SNAPSHOT]\r\n    \tat org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138) ~[spring-test-6.0.9-20230509.130721-27.jar:6.0.9-SNAPSHOT]\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377) ~[junit-jupiter-engine-5.9.3.jar:5.9.3]\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382) ~[junit-jupiter-engine-5.9.3.jar:5.9.3]\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377) ~[junit-jupiter-engine-5.9.3.jar:5.9.3]\r\n    \tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]\r\n    \tat java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179) ~[na:na]\r\n    \tat java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625) ~[na:na]\r\n    \tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[na:na]\r\n    \tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]\r\n    \tat java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310) ~[na:na]\r\n    \tat java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735) ~[na:na]\r\n    \tat java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734) ~[na:na]\r\n    \tat java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762) ~[na:na]\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376) ~[junit-jupiter-engine-5.9.3.jar:5.9.3]\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289) ~[junit-jupiter-engine-5.9.3.jar:5.9.3]\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.9.3.jar:1.9.3]\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288) ~[junit-jupiter-engine-5.9.3.jar:5.9.3]\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278) ~[junit-jupiter-engine-5.9.3.jar:5.9.3]\r\n    \tat java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277) ~[junit-jupiter-engine-5.9.3.jar:5.9.3]\r\n    \tat org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31) ~[junit-jupiter-engine-5.9.3.jar:5.9.3]\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105) ~[junit-jupiter-engine-5.9.3.jar:5.9.3]\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.9.3.jar:1.9.3]\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104) ~[junit-jupiter-engine-5.9.3.jar:5.9.3]\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68) ~[junit-jupiter-engine-5.9.3.jar:5.9.3]\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123) ~[junit-platform-engine-1.9.3.jar:1.9.3]\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.9.3.jar:1.9.3]\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123) ~[junit-platform-engine-1.9.3.jar:1.9.3]\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90) ~[junit-platform-engine-1.9.3.jar:1.9.3]\r\n    \tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.9.3.jar:1.9.3]\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155) ~[junit-platform-engine-1.9.3.jar:1.9.3]\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.9.3.jar:1.9.3]\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141) ~[junit-platform-engine-1.9.3.jar:1.9.3]\r\n    \tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.9.3.jar:1.9.3]\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139) ~[junit-platform-engine-1.9.3.jar:1.9.3]\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.9.3.jar:1.9.3]\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138) ~[junit-platform-engine-1.9.3.jar:1.9.3]\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.9.3.jar:1.9.3]\r\n    \tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.9.3.jar:1.9.3]\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155) ~[junit-platform-engine-1.9.3.jar:1.9.3]\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.9.3.jar:1.9.3]\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141) ~[junit-platform-engine-1.9.3.jar:1.9.3]\r\n    \tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.9.3.jar:1.9.3]\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139) ~[junit-platform-engine-1.9.3.jar:1.9.3]\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.9.3.jar:1.9.3]\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138) ~[junit-platform-engine-1.9.3.jar:1.9.3]\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.9.3.jar:1.9.3]\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35) ~[junit-platform-engine-1.9.3.jar:1.9.3]\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.9.3.jar:1.9.3]\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54) ~[junit-platform-engine-1.9.3.jar:1.9.3]\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147) ~[junit-platform-launcher-1.9.3.jar:1.9.3]\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127) ~[junit-platform-launcher-1.9.3.jar:1.9.3]\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90) ~[junit-platform-launcher-1.9.3.jar:1.9.3]\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55) ~[junit-platform-launcher-1.9.3.jar:1.9.3]\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102) ~[junit-platform-launcher-1.9.3.jar:1.9.3]\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54) ~[junit-platform-launcher-1.9.3.jar:1.9.3]\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114) ~[junit-platform-launcher-1.9.3.jar:1.9.3]\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86) ~[junit-platform-launcher-1.9.3.jar:1.9.3]\r\n    \tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86) ~[junit-platform-launcher-1.9.3.jar:1.9.3]\r\n    \tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53) ~[junit-platform-launcher-1.9.3.jar:1.9.3]\r\n    \tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69) ~[junit5-rt.jar:na]\r\n    \tat com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47) ~[junit-rt.jar:na]\r\n    \tat com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242) ~[junit-rt.jar:na]\r\n    \tat com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) ~[junit-rt.jar:na]\r\n    Caused by: java.lang.IllegalStateException: Error processing condition on org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration$EmbeddedDatabaseConfiguration\r\n    \tat org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:60) ~[spring-boot-autoconfigure-3.1.0-20230509.165129-256.jar:3.1.0-SNAPSHOT]\r\n    \tat org.springframework.context.annotation.ConditionEvaluator.shouldSkip(ConditionEvaluator.java:108) ~[spring-context-6.0.9-20230509.130721-27.jar:6.0.9-SNAPSHOT]\r\n    \tat org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:219) ~[spring-context-6.0.9-20230509.130721-27.jar:6.0.9-SNAPSHOT]\r\n    \tat org.springframework.context.annotation.ConfigurationClassParser.processMemberClasses(ConfigurationClassParser.java:365) ~[spring-context-6.0.9-20230509.130721-27.jar:6.0.9-SNAPSHOT]\r\n    \tat org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:265) ~[spring-context-6.0.9-20230509.130721-27.jar:6.0.9-SNAPSHOT]\r\n    \tat org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:243) ~[spring-context-6.0.9-20230509.130721-27.jar:6.0.9-SNAPSHOT]\r\n    \tat org.springframework.context.annotation.ConfigurationClassParser.processImports(ConfigurationClassParser.java:514) ~[spring-context-6.0.9-20230509.130721-27.jar:6.0.9-SNAPSHOT]\r\n    \t... 93 common frames omitted\r\n    Caused by: java.lang.IllegalStateException: Previous attempts to find a Docker environment failed. Will not retry. Please see logs and check configuration\r\n    \tat org.testcontainers.dockerclient.DockerClientProviderStrategy.getFirstValidStrategy(DockerClientProviderStrategy.java:212) ~[testcontainers-1.18.0.jar:1.18.0]\r\n    \tat org.testcontainers.DockerClientFactory.getOrInitializeStrategy(DockerClientFactory.java:150) ~[testcontainers-1.18.0.jar:1.18.0]\r\n    \tat org.testcontainers.DockerClientFactory.dockerHostIpAddress(DockerClientFactory.java:323) ~[testcontainers-1.18.0.jar:1.18.0]\r\n    \tat org.testcontainers.containers.ContainerState.getHost(ContainerState.java:64) ~[testcontainers-1.18.0.jar:na]\r\n    \tat org.testcontainers.containers.MySQLContainer.getJdbcUrl(MySQLContainer.java:104) ~[mysql-1.18.0.jar:na]\r\n    \tat com.example.orderservice.OrderServiceApplicationTests.lambda$setProperties$0(OrderServiceApplicationTests.java:46) ~[test-classes/:na]\r\n    \tat org.springframework.test.context.support.DynamicValuesPropertySource.getProperty(DynamicValuesPropertySource.java:43) ~[spring-test-6.0.9-20230509.130721-27.jar:6.0.9-SNAPSHOT]\r\n    \tat org.springframework.core.env.PropertySourcesPropertyResolver.getProperty(PropertySourcesPropertyResolver.java:85) ~[spring-core-6.0.9-20230509.130721-27.jar:6.0.9-SNAPSHOT]\r\n    \tat org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertyResolver$DefaultResolver.getProperty(ConfigurationPropertySourcesPropertyResolver.java:123) ~[spring-boot-3.1.0-20230509.165129-256.jar:3.1.0-SNAPSHOT]\r\n    \tat org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertyResolver.findPropertyValue(ConfigurationPropertySourcesPropertyResolver.java:97) ~[spring-boot-3.1.0-20230509.165129-256.jar:3.1.0-SNAPSHOT]\r\n    \tat org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertyResolver.getProperty(ConfigurationPropertySourcesPropertyResolver.java:74) ~[spring-boot-3.1.0-20230509.165129-256.jar:3.1.0-SNAPSHOT]\r\n    \tat org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertyResolver.getProperty(ConfigurationPropertySourcesPropertyResolver.java:60) ~[spring-boot-3.1.0-20230509.165129-256.jar:3.1.0-SNAPSHOT]\r\n    \tat org.springframework.core.env.AbstractEnvironment.getProperty(AbstractEnvironment.java:552) ~[spring-core-6.0.9-20230509.130721-27.jar:6.0.9-SNAPSHOT]\r\n    \tat org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration$EmbeddedDatabaseCondition.hasDataSourceUrlProperty(DataSourceAutoConfiguration.java:156) ~[spring-boot-autoconfigure-3.1.0-20230509.165129-256.jar:3.1.0-SNAPSHOT]\r\n    \tat org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration$EmbeddedDatabaseCondition.getMatchOutcome(DataSourceAutoConfiguration.java:139) ~[spring-boot-autoconfigure-3.1.0-20230509.165129-256.jar:3.1.0-SNAPSHOT]\r\n    \tat org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:47) ~[spring-boot-autoconfigure-3.1.0-20230509.165129-256.jar:3.1.0-SNAPSHOT]\r\n    \t... 99 common frames omitted\r\n\r\nI highly suspect that this is related to injecting Mysql image into the local environment.\r\nNote : I did the same code to Mongodb and it works fine.\r\n\r\nCould anyone had the same issue and resolved ? btw unit testing becoming embarrassing :-( \r\n\r\n\r\n","title":"Spring Boot Integration Testing with TestContainers with MySql - BeanDefinitionStoreException","body":"<p>I'm trying to implement an integration test using TestContainers. But I'm continuously getting BeanDefinitionStoreException.</p>\n<p>My Test Class</p>\n<pre><code>    @SpringBootTest\n@AutoConfigureMockMvc\nclass OrderServiceApplicationTests {\n\n    @Container\n    static final MySQLContainer mySQLContainer = new MySQLContainer&lt;&gt;(&quot;mysql:8.0.30&quot;)\n            .withDatabaseName(&quot;testcontainer&quot;)\n            .withUsername(&quot;test&quot;)\n            .withPassword(&quot;test&quot;);\n\n    @Autowired\n    ObjectMapper objectMapper;\n    @Autowired\n    private MockMvc mockMvc;\n    @Autowired\n    OrderRepository orderRepository;\n\n    @DynamicPropertySource\n    static void setProperties(DynamicPropertyRegistry properties){\n        properties.add(&quot;spring.datasource.url&quot;, mySQLContainer::getJdbcUrl);\n        properties.add(&quot;spring.datasource.username&quot;, mySQLContainer::getUsername);\n        properties.add(&quot;spring.datasource.password&quot;, mySQLContainer::getPassword);\n    }\n\n    @Test\n    void shouldPlaceOrder() throws Exception {\n\n        OrderItemsDto orderItemsDto = OrderItemsDto.builder()\n                .skuCode(&quot;Test SKU&quot;)\n                .price(new BigDecimal(123.32))\n                .quantity(2).build();\n        OrderDto orderDto = OrderDto.builder()\n                .orderItemsDtos(Arrays.asList(orderItemsDto)).build();\n        String reqString = objectMapper.writeValueAsString(orderDto);\n        mockMvc.perform(MockMvcRequestBuilders.post(&quot;api/order&quot;)\n        .contentType(MediaType.APPLICATION_JSON)\n        .content(reqString))\n                .andExpect(status().isCreated());\n        Assertions.assertTrue(orderRepository.findAll().size() == 1);\n\n    }\n\n}\n</code></pre>\n<p>Here is my POM File</p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.0-SNAPSHOT&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;order-service&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;order-service&lt;/name&gt;\n    &lt;description&gt;Order Service&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\n                &lt;artifactId&gt;testcontainers-bom&lt;/artifactId&gt;\n                &lt;version&gt;1.18.0&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;spring-milestones&lt;/id&gt;\n            &lt;name&gt;Spring Milestones&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/repository&gt;\n        &lt;repository&gt;\n            &lt;id&gt;spring-snapshots&lt;/id&gt;\n            &lt;name&gt;Spring Snapshots&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\n            &lt;releases&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/releases&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n    &lt;pluginRepositories&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;spring-milestones&lt;/id&gt;\n            &lt;name&gt;Spring Milestones&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/milestone&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/pluginRepository&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;spring-snapshots&lt;/id&gt;\n            &lt;name&gt;Spring Snapshots&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/snapshot&lt;/url&gt;\n            &lt;releases&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/releases&gt;\n        &lt;/pluginRepository&gt;\n    &lt;/pluginRepositories&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>This is my console.</p>\n<pre><code>16:14:14.843 [main] INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils -- Could not detect default configuration classes for test class [com.example.orderservice.OrderServiceApplicationTests]: OrderServiceApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.\n16:14:14.940 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper -- Found @SpringBootConfiguration com.example.orderservice.OrderServiceApplication for test class com.example.orderservice.OrderServiceApplicationTests\n16:14:15.163 [main] WARN org.testcontainers.utility.TestcontainersConfiguration -- Attempted to read Testcontainers configuration file at file:/C:/Users/binul/.testcontainers.properties but the file was not found. Exception message: FileNotFoundException: C:\\Users\\binul\\.testcontainers.properties (The system cannot find the file specified)\n16:14:15.169 [main] INFO org.testcontainers.utility.ImageNameSubstitutor -- Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')\n\n  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::       (v3.1.0-SNAPSHOT)\n\n2023-05-10T16:14:15.441+05:30  INFO 13040 --- [           main] c.e.o.OrderServiceApplicationTests       : Starting OrderServiceApplicationTests using Java 17.0.7 with PID 13040 (started by binul in D:\\Project Docs\\R&amp;D\\Microservices-Online-Shop\\order-service)\n2023-05-10T16:14:15.444+05:30  INFO 13040 --- [           main] c.e.o.OrderServiceApplicationTests       : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2023-05-10T16:14:16.013+05:30  INFO 13040 --- [           main] .t.d.DockerMachineClientProviderStrategy : docker-machine executable was not found on PATH ([C:\\Program Files\\Common Files\\Oracle\\Java\\javapath, C:\\Program Files (x86)\\Common Files\\Oracle\\Java\\javapath, C:\\Windows\\system32, C:\\Windows, C:\\Windows\\System32\\Wbem, C:\\Windows\\System32\\WindowsPowerShell\\v1.0\\, C:\\Windows\\System32\\OpenSSH\\, C:\\Program Files\\Git\\cmd, C:\\Program Files\\Java\\jdk1.8.0_311\\bin, C:\\dev_tools\\apache-maven-3.8.3\\bin, C:\\Program Files\\PuTTY\\, C:\\Program Files\\dotnet\\, C:\\Program Files\\nodejs\\, C:\\Program Files\\Meld\\, C:\\Users\\binul\\AppData\\Local\\Microsoft\\WindowsApps, C:\\Users\\binul\\AppData\\Local\\Programs\\Microsoft VS Code\\bin, C:\\dev_tools\\gradle-6.8.1\\bin, C:\\Users\\binul\\AppData\\Roaming\\npm, C:\\Users\\binul\\.dotnet\\tools])\n2023-05-10T16:14:16.014+05:30 ERROR 13040 --- [           main] o.t.d.DockerClientProviderStrategy       : Could not find a valid Docker environment. Please check configuration. Attempted configurations were:\nAs no valid configuration was found, execution cannot continue.\nSee https://www.testcontainers.org/on_failure.html for more details.\n2023-05-10T16:14:16.027+05:30  WARN 13040 --- [           main] o.s.w.c.s.GenericWebApplicationContext   : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanDefinitionStoreException: Failed to process import candidates for configuration class [com.example.orderservice.OrderServiceApplication]: Error processing condition on org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration$EmbeddedDatabaseConfiguration\n2023-05-10T16:14:16.054+05:30  INFO 13040 --- [           main] .s.b.a.l.ConditionEvaluationReportLogger : \n\nError starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.\n2023-05-10T16:14:16.088+05:30 ERROR 13040 --- [           main] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.BeanDefinitionStoreException: Failed to process import candidates for configuration class [com.example.orderservice.OrderServiceApplication]: Error processing condition on org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration$EmbeddedDatabaseConfiguration\n    at org.springframework.context.annotation.ConfigurationClassParser.processImports(ConfigurationClassParser.java:524) ~[spring-context-6.0.9-20230509.130721-27.jar:6.0.9-SNAPSHOT]\n    at org.springframework.context.annotation.ConfigurationClassParser$DeferredImportSelectorGroupingHandler.lambda$processGroupImports$1(ConfigurationClassParser.java:726) ~[spring-context-6.0.9-20230509.130721-27.jar:6.0.9-SNAPSHOT]\n    at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]\n    at org.springframework.context.annotation.ConfigurationClassParser$DeferredImportSelectorGroupingHandler.processGroupImports(ConfigurationClassParser.java:723) ~[spring-context-6.0.9-20230509.130721-27.jar:6.0.9-SNAPSHOT]\n    at org.springframework.context.annotation.ConfigurationClassParser$DeferredImportSelectorHandler.process(ConfigurationClassParser.java:694) ~[spring-context-6.0.9-20230509.130721-27.jar:6.0.9-SNAPSHOT]\n    at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:182) ~[spring-context-6.0.9-20230509.130721-27.jar:6.0.9-SNAPSHOT]\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:415) ~[spring-context-6.0.9-20230509.130721-27.jar:6.0.9-SNAPSHOT]\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:287) ~[spring-context-6.0.9-20230509.130721-27.jar:6.0.9-SNAPSHOT]\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:344) ~[spring-context-6.0.9-20230509.130721-27.jar:6.0.9-SNAPSHOT]\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:115) ~[spring-context-6.0.9-20230509.130721-27.jar:6.0.9-SNAPSHOT]\n    at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:747) ~[spring-context-6.0.9-20230509.130721-27.jar:6.0.9-SNAPSHOT]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:565) ~[spring-context-6.0.9-20230509.130721-27.jar:6.0.9-SNAPSHOT]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733) ~[spring-boot-3.1.0-20230509.165129-256.jar:3.1.0-SNAPSHOT]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435) ~[spring-boot-3.1.0-20230509.165129-256.jar:3.1.0-SNAPSHOT]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:311) ~[spring-boot-3.1.0-20230509.165129-256.jar:3.1.0-SNAPSHOT]\n    at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137) ~[spring-boot-test-3.1.0-20230509.165129-256.jar:3.1.0-SNAPSHOT]\n    at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58) ~[spring-core-6.0.9-20230509.130721-27.jar:6.0.9-SNAPSHOT]\n    at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46) ~[spring-core-6.0.9-20230509.130721-27.jar:6.0.9-SNAPSHOT]\n    at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405) ~[spring-boot-3.1.0-20230509.165129-256.jar:3.1.0-SNAPSHOT]\n    at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545) ~[spring-boot-test-3.1.0-20230509.165129-256.jar:3.1.0-SNAPSHOT]\n    at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137) ~[spring-boot-test-3.1.0-20230509.165129-256.jar:3.1.0-SNAPSHOT]\n    at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108) ~[spring-boot-test-3.1.0-20230509.165129-256.jar:3.1.0-SNAPSHOT]\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184) ~[spring-test-6.0.9-20230509.130721-27.jar:6.0.9-SNAPSHOT]\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118) ~[spring-test-6.0.9-20230509.130721-27.jar:6.0.9-SNAPSHOT]\n    at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127) ~[spring-test-6.0.9-20230509.130721-27.jar:6.0.9-SNAPSHOT]\n    at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:191) ~[spring-test-6.0.9-20230509.130721-27.jar:6.0.9-SNAPSHOT]\n    at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:130) ~[spring-test-6.0.9-20230509.130721-27.jar:6.0.9-SNAPSHOT]\n    at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241) ~[spring-test-6.0.9-20230509.130721-27.jar:6.0.9-SNAPSHOT]\n    at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138) ~[spring-test-6.0.9-20230509.130721-27.jar:6.0.9-SNAPSHOT]\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377) ~[junit-jupiter-engine-5.9.3.jar:5.9.3]\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382) ~[junit-jupiter-engine-5.9.3.jar:5.9.3]\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377) ~[junit-jupiter-engine-5.9.3.jar:5.9.3]\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]\n    at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179) ~[na:na]\n    at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625) ~[na:na]\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[na:na]\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]\n    at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310) ~[na:na]\n    at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735) ~[na:na]\n    at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734) ~[na:na]\n    at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762) ~[na:na]\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376) ~[junit-jupiter-engine-5.9.3.jar:5.9.3]\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289) ~[junit-jupiter-engine-5.9.3.jar:5.9.3]\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.9.3.jar:1.9.3]\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288) ~[junit-jupiter-engine-5.9.3.jar:5.9.3]\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278) ~[junit-jupiter-engine-5.9.3.jar:5.9.3]\n    at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277) ~[junit-jupiter-engine-5.9.3.jar:5.9.3]\n    at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31) ~[junit-jupiter-engine-5.9.3.jar:5.9.3]\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105) ~[junit-jupiter-engine-5.9.3.jar:5.9.3]\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.9.3.jar:1.9.3]\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104) ~[junit-jupiter-engine-5.9.3.jar:5.9.3]\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68) ~[junit-jupiter-engine-5.9.3.jar:5.9.3]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123) ~[junit-platform-engine-1.9.3.jar:1.9.3]\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.9.3.jar:1.9.3]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123) ~[junit-platform-engine-1.9.3.jar:1.9.3]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90) ~[junit-platform-engine-1.9.3.jar:1.9.3]\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.9.3.jar:1.9.3]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155) ~[junit-platform-engine-1.9.3.jar:1.9.3]\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.9.3.jar:1.9.3]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141) ~[junit-platform-engine-1.9.3.jar:1.9.3]\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.9.3.jar:1.9.3]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139) ~[junit-platform-engine-1.9.3.jar:1.9.3]\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.9.3.jar:1.9.3]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138) ~[junit-platform-engine-1.9.3.jar:1.9.3]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.9.3.jar:1.9.3]\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.9.3.jar:1.9.3]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155) ~[junit-platform-engine-1.9.3.jar:1.9.3]\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.9.3.jar:1.9.3]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141) ~[junit-platform-engine-1.9.3.jar:1.9.3]\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.9.3.jar:1.9.3]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139) ~[junit-platform-engine-1.9.3.jar:1.9.3]\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.9.3.jar:1.9.3]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138) ~[junit-platform-engine-1.9.3.jar:1.9.3]\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.9.3.jar:1.9.3]\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35) ~[junit-platform-engine-1.9.3.jar:1.9.3]\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.9.3.jar:1.9.3]\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54) ~[junit-platform-engine-1.9.3.jar:1.9.3]\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147) ~[junit-platform-launcher-1.9.3.jar:1.9.3]\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127) ~[junit-platform-launcher-1.9.3.jar:1.9.3]\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90) ~[junit-platform-launcher-1.9.3.jar:1.9.3]\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55) ~[junit-platform-launcher-1.9.3.jar:1.9.3]\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102) ~[junit-platform-launcher-1.9.3.jar:1.9.3]\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54) ~[junit-platform-launcher-1.9.3.jar:1.9.3]\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114) ~[junit-platform-launcher-1.9.3.jar:1.9.3]\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86) ~[junit-platform-launcher-1.9.3.jar:1.9.3]\n    at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86) ~[junit-platform-launcher-1.9.3.jar:1.9.3]\n    at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53) ~[junit-platform-launcher-1.9.3.jar:1.9.3]\n    at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:69) ~[junit5-rt.jar:na]\n    at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47) ~[junit-rt.jar:na]\n    at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242) ~[junit-rt.jar:na]\n    at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70) ~[junit-rt.jar:na]\nCaused by: java.lang.IllegalStateException: Error processing condition on org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration$EmbeddedDatabaseConfiguration\n    at org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:60) ~[spring-boot-autoconfigure-3.1.0-20230509.165129-256.jar:3.1.0-SNAPSHOT]\n    at org.springframework.context.annotation.ConditionEvaluator.shouldSkip(ConditionEvaluator.java:108) ~[spring-context-6.0.9-20230509.130721-27.jar:6.0.9-SNAPSHOT]\n    at org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:219) ~[spring-context-6.0.9-20230509.130721-27.jar:6.0.9-SNAPSHOT]\n    at org.springframework.context.annotation.ConfigurationClassParser.processMemberClasses(ConfigurationClassParser.java:365) ~[spring-context-6.0.9-20230509.130721-27.jar:6.0.9-SNAPSHOT]\n    at org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:265) ~[spring-context-6.0.9-20230509.130721-27.jar:6.0.9-SNAPSHOT]\n    at org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:243) ~[spring-context-6.0.9-20230509.130721-27.jar:6.0.9-SNAPSHOT]\n    at org.springframework.context.annotation.ConfigurationClassParser.processImports(ConfigurationClassParser.java:514) ~[spring-context-6.0.9-20230509.130721-27.jar:6.0.9-SNAPSHOT]\n    ... 93 common frames omitted\nCaused by: java.lang.IllegalStateException: Previous attempts to find a Docker environment failed. Will not retry. Please see logs and check configuration\n    at org.testcontainers.dockerclient.DockerClientProviderStrategy.getFirstValidStrategy(DockerClientProviderStrategy.java:212) ~[testcontainers-1.18.0.jar:1.18.0]\n    at org.testcontainers.DockerClientFactory.getOrInitializeStrategy(DockerClientFactory.java:150) ~[testcontainers-1.18.0.jar:1.18.0]\n    at org.testcontainers.DockerClientFactory.dockerHostIpAddress(DockerClientFactory.java:323) ~[testcontainers-1.18.0.jar:1.18.0]\n    at org.testcontainers.containers.ContainerState.getHost(ContainerState.java:64) ~[testcontainers-1.18.0.jar:na]\n    at org.testcontainers.containers.MySQLContainer.getJdbcUrl(MySQLContainer.java:104) ~[mysql-1.18.0.jar:na]\n    at com.example.orderservice.OrderServiceApplicationTests.lambda$setProperties$0(OrderServiceApplicationTests.java:46) ~[test-classes/:na]\n    at org.springframework.test.context.support.DynamicValuesPropertySource.getProperty(DynamicValuesPropertySource.java:43) ~[spring-test-6.0.9-20230509.130721-27.jar:6.0.9-SNAPSHOT]\n    at org.springframework.core.env.PropertySourcesPropertyResolver.getProperty(PropertySourcesPropertyResolver.java:85) ~[spring-core-6.0.9-20230509.130721-27.jar:6.0.9-SNAPSHOT]\n    at org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertyResolver$DefaultResolver.getProperty(ConfigurationPropertySourcesPropertyResolver.java:123) ~[spring-boot-3.1.0-20230509.165129-256.jar:3.1.0-SNAPSHOT]\n    at org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertyResolver.findPropertyValue(ConfigurationPropertySourcesPropertyResolver.java:97) ~[spring-boot-3.1.0-20230509.165129-256.jar:3.1.0-SNAPSHOT]\n    at org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertyResolver.getProperty(ConfigurationPropertySourcesPropertyResolver.java:74) ~[spring-boot-3.1.0-20230509.165129-256.jar:3.1.0-SNAPSHOT]\n    at org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertyResolver.getProperty(ConfigurationPropertySourcesPropertyResolver.java:60) ~[spring-boot-3.1.0-20230509.165129-256.jar:3.1.0-SNAPSHOT]\n    at org.springframework.core.env.AbstractEnvironment.getProperty(AbstractEnvironment.java:552) ~[spring-core-6.0.9-20230509.130721-27.jar:6.0.9-SNAPSHOT]\n    at org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration$EmbeddedDatabaseCondition.hasDataSourceUrlProperty(DataSourceAutoConfiguration.java:156) ~[spring-boot-autoconfigure-3.1.0-20230509.165129-256.jar:3.1.0-SNAPSHOT]\n    at org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration$EmbeddedDatabaseCondition.getMatchOutcome(DataSourceAutoConfiguration.java:139) ~[spring-boot-autoconfigure-3.1.0-20230509.165129-256.jar:3.1.0-SNAPSHOT]\n    at org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:47) ~[spring-boot-autoconfigure-3.1.0-20230509.165129-256.jar:3.1.0-SNAPSHOT]\n    ... 99 common frames omitted\n</code></pre>\n<p>I highly suspect that this is related to injecting Mysql image into the local environment.\nNote : I did the same code to Mongodb and it works fine.</p>\n<p>Could anyone had the same issue and resolved ? btw unit testing becoming embarrassing :-(</p>\n"},{"tags":["java","spring-boot","httpclient"],"answers":[{"tags":[],"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688044056,"creation_date":1688044056,"answer_id":76581369,"question_id":76579495,"body_markdown":"No. Apache HTTP client will log the data as it is sent/received. That&#39;s why it is called wire logging.\r\n\r\nIf you want to log the payload un compressed you have to do it yourself in your code.","title":"How to log unzipped gzip content using Apache HttpClient","body":"<p>No. Apache HTTP client will log the data as it is sent/received. That's why it is called wire logging.</p>\n<p>If you want to log the payload un compressed you have to do it yourself in your code.</p>\n"}],"owner":{"account_id":3220345,"reputation":5564,"user_id":2717958,"accept_rate":57,"display_name":"Michal Krasny"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76581369,"answer_count":1,"score":0,"last_activity_date":1688044056,"creation_date":1688028641,"question_id":76579495,"body_markdown":"I&#39;m using Spring Boot (ver. 3.1.1) RestTemplate which is configured to use Apache `org.apache.hc.client5.http.classic.HttpClient` (ver. 5.2.1) like this\r\n\r\n    @Bean\r\n    public RestTemplate restTemplate() {\r\n        final RestTemplate restTemplate = new RestTemplate();\r\n        //we make Rest Template using HTTP client to be able to turn logging on\r\n        restTemplate.setRequestFactory(new HttpComponentsClientHttpRequestFactory());\r\n        return restTemplate;\r\n    }\r\n\r\nI have turned the Logback logging like this\r\n\r\n    &lt;logger name=&quot;org.apache.hc.client5.http&quot; level=&quot;debug&quot;/&gt;\r\n\r\nAnd when I check the logs after I send a request, I can see the response is being compressed by gzip, so the incoming payload is unreadable:\r\n\r\n    ... headers omitted for brevity\r\n    2023-06-180 10:23:54.222 [Test worker] DEBUG org.apache.hc.client5.http.wire - http-outgoing-0 &lt;&lt; &quot;AY[0xffffffce][0x19][0xffffffd5][0xffffffc6][0xffffff8f]hFY[0x3]H[0xffffff9e]3[0xffffff8a][0x1][0xfffffffa]*{[0xffffff9f]V[0xffffffe3]|[0xffffffba][0xffffffb5]O&#39;[0x1e][0xffffffcb][0xffffffff]w[0xffffffc1][0xffffffe7][0x7f][0xfffffffe][0x1f][0x0][0x0][0x0][0xffffffff][0xffffffff][0x3][0x0][0xffffffcd][0xffffff89][0xfffffff0][0xffffffd7][0x3][0xffffffd5][0x3][0x0][\\r][\\n]&quot;\r\n\r\n\r\nIs it possible to log the response body after it is unzipped?","title":"How to log unzipped gzip content using Apache HttpClient","body":"<p>I'm using Spring Boot (ver. 3.1.1) RestTemplate which is configured to use Apache <code>org.apache.hc.client5.http.classic.HttpClient</code> (ver. 5.2.1) like this</p>\n<pre><code>@Bean\npublic RestTemplate restTemplate() {\n    final RestTemplate restTemplate = new RestTemplate();\n    //we make Rest Template using HTTP client to be able to turn logging on\n    restTemplate.setRequestFactory(new HttpComponentsClientHttpRequestFactory());\n    return restTemplate;\n}\n</code></pre>\n<p>I have turned the Logback logging like this</p>\n<pre><code>&lt;logger name=&quot;org.apache.hc.client5.http&quot; level=&quot;debug&quot;/&gt;\n</code></pre>\n<p>And when I check the logs after I send a request, I can see the response is being compressed by gzip, so the incoming payload is unreadable:</p>\n<pre><code>... headers omitted for brevity\n2023-06-180 10:23:54.222 [Test worker] DEBUG org.apache.hc.client5.http.wire - http-outgoing-0 &lt;&lt; &quot;AY[0xffffffce][0x19][0xffffffd5][0xffffffc6][0xffffff8f]hFY[0x3]H[0xffffff9e]3[0xffffff8a][0x1][0xfffffffa]*{[0xffffff9f]V[0xffffffe3]|[0xffffffba][0xffffffb5]O'[0x1e][0xffffffcb][0xffffffff]w[0xffffffc1][0xffffffe7][0x7f][0xfffffffe][0x1f][0x0][0x0][0x0][0xffffffff][0xffffffff][0x3][0x0][0xffffffcd][0xffffff89][0xfffffff0][0xffffffd7][0x3][0xffffffd5][0x3][0x0][\\r][\\n]&quot;\n</code></pre>\n<p>Is it possible to log the response body after it is unzipped?</p>\n"},{"tags":["java","postgresql","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":2662746,"reputation":11456,"user_id":2302032,"display_name":"Stefanov.sm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688043724,"creation_date":1688040794,"answer_id":76580939,"question_id":76580177,"body_markdown":"I would serialize the list of UUID arrays as a 2-dim JSON array, i.e.   \r\n```\r\n[\r\n  [&quot;63efc3d9-8fc7-4b39-a9ce-b926dae4e104&quot;, &quot;63efc3d9-8fc7-4b39-a9ce-b926dae4e105&quot;],\r\n  [&quot;63efc3d9-8fc7-4b39-a9ce-b926dae4e106&quot;, &quot;63efc3d9-8fc7-4b39-a9ce-b926dae4e107&quot;],\r\n  [&quot;63efc3d9-8fc7-4b39-a9ce-b926dae4e108&quot;, &quot;63efc3d9-8fc7-4b39-a9ce-b926dae4e109&quot;]\r\n]\r\n```\r\nand pass it as a parameter to this native query:\r\n```sql\r\nselect * from collision_danger_pair_contexts cdpc\r\nwhere exists\r\n(\r\n select from json_array_elements((:targetIds)::json) j\r\n where j -&gt;&gt; 0 = cdpc.first_target_id::text\r\n   and j -&gt;&gt; 1 = cdpc.second_target_id::text\r\n);\r\n```\r\n","title":"How to use tuples in &#39;where in&#39; clause using Spring JPA native queries","body":"<p>I would serialize the list of UUID arrays as a 2-dim JSON array, i.e.</p>\n<pre><code>[\n  [&quot;63efc3d9-8fc7-4b39-a9ce-b926dae4e104&quot;, &quot;63efc3d9-8fc7-4b39-a9ce-b926dae4e105&quot;],\n  [&quot;63efc3d9-8fc7-4b39-a9ce-b926dae4e106&quot;, &quot;63efc3d9-8fc7-4b39-a9ce-b926dae4e107&quot;],\n  [&quot;63efc3d9-8fc7-4b39-a9ce-b926dae4e108&quot;, &quot;63efc3d9-8fc7-4b39-a9ce-b926dae4e109&quot;]\n]\n</code></pre>\n<p>and pass it as a parameter to this native query:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>select * from collision_danger_pair_contexts cdpc\nwhere exists\n(\n select from json_array_elements((:targetIds)::json) j\n where j -&gt;&gt; 0 = cdpc.first_target_id::text\n   and j -&gt;&gt; 1 = cdpc.second_target_id::text\n);\n</code></pre>\n"}],"owner":{"account_id":943688,"reputation":2561,"user_id":971355,"accept_rate":79,"display_name":"ka3ak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":349,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1688043724,"creation_date":1688034406,"question_id":76580177,"body_markdown":"I want to use 2 columns in `where in` clause in PostgreSQL 13.2. I tested it by executing the following query\r\n\r\n    select * from collision_danger_pair_contexts \r\n    where \r\n    (first_target_id, second_target_id) \r\n    in\r\n    ( (&#39;63efc3d9-8fc7-4b39-a9ce-b926dae4e104&#39;, &#39;63efc3d9-8fc7-4b39-a9ce-b926dae4e105&#39;) );\r\n\r\nit worked.\r\n\r\nNow the question is how to achieve the same using Spring Data JPA. I&#39;ve tried the following query\r\n\r\n    @Query(\r\n        nativeQuery = true,\r\n        value = &quot;&quot;&quot;\r\n                SELECT * FROM collision_danger_pair_contexts ctx\r\n                WHERE (ctx.first_target_id, ctx.second_target_id) IN (:targetIds)\r\n                &quot;&quot;&quot;\r\n    )\r\n    List&lt;CollisionDangerPairContext&gt; findByTarget1IdAndTarget2Id(@Param(&quot;targetIds&quot;) List&lt;UUID[]&gt; targetIds);\r\n\r\nwhere `targetIds` contains a list of arrays of UUIDs. The length of each array is 2.\r\n\r\nBut I&#39;ve got the error:\r\n   \r\n\r\n     Caused by: org.postgresql.util.PSQLException: ERROR: operator does not exist: record = bytea\r\n          Hint: No operator matches the given name and argument types. You might need to add explicit type casts.\r\n\r\nBefore I ran the query my intuition told me that I was to optimistic hoping that it would work, but I don&#39;t understand how and where I should do the &quot;casting&quot;.\r\n\r\nI&#39;ve also tried to change the parameter to\r\n\r\n    List&lt;List&lt;UUID&gt;&gt; targetIds\r\n\r\nbut it didn&#39;t work either. What is the correct syntax/casting ?\r\n\r\nThe best way for me would be using\r\n\r\n    List&lt;org.apache.commons.lang3.tuple.ImmutablePair&lt;UUID, UUID&gt;&gt; targetIds","title":"How to use tuples in &#39;where in&#39; clause using Spring JPA native queries","body":"<p>I want to use 2 columns in <code>where in</code> clause in PostgreSQL 13.2. I tested it by executing the following query</p>\n<pre><code>select * from collision_danger_pair_contexts \nwhere \n(first_target_id, second_target_id) \nin\n( ('63efc3d9-8fc7-4b39-a9ce-b926dae4e104', '63efc3d9-8fc7-4b39-a9ce-b926dae4e105') );\n</code></pre>\n<p>it worked.</p>\n<p>Now the question is how to achieve the same using Spring Data JPA. I've tried the following query</p>\n<pre><code>@Query(\n    nativeQuery = true,\n    value = &quot;&quot;&quot;\n            SELECT * FROM collision_danger_pair_contexts ctx\n            WHERE (ctx.first_target_id, ctx.second_target_id) IN (:targetIds)\n            &quot;&quot;&quot;\n)\nList&lt;CollisionDangerPairContext&gt; findByTarget1IdAndTarget2Id(@Param(&quot;targetIds&quot;) List&lt;UUID[]&gt; targetIds);\n</code></pre>\n<p>where <code>targetIds</code> contains a list of arrays of UUIDs. The length of each array is 2.</p>\n<p>But I've got the error:</p>\n<pre><code> Caused by: org.postgresql.util.PSQLException: ERROR: operator does not exist: record = bytea\n      Hint: No operator matches the given name and argument types. You might need to add explicit type casts.\n</code></pre>\n<p>Before I ran the query my intuition told me that I was to optimistic hoping that it would work, but I don't understand how and where I should do the &quot;casting&quot;.</p>\n<p>I've also tried to change the parameter to</p>\n<pre><code>List&lt;List&lt;UUID&gt;&gt; targetIds\n</code></pre>\n<p>but it didn't work either. What is the correct syntax/casting ?</p>\n<p>The best way for me would be using</p>\n<pre><code>List&lt;org.apache.commons.lang3.tuple.ImmutablePair&lt;UUID, UUID&gt;&gt; targetIds\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1688045771,"post_id":76581317,"comment_id":135023286,"body_markdown":"Those aren&#39;t errors but warnings. If you read the documentation (the javadoc of the deprecated methods) it will explain exactly what you need to replace it with.","body":"Those aren&#39;t errors but warnings. If you read the documentation (the javadoc of the deprecated methods) it will explain exactly what you need to replace it with."}],"owner":{"account_id":20321813,"reputation":33,"user_id":14906325,"display_name":"Mihai Daian"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688043651,"creation_date":1688043651,"question_id":76581317,"body_markdown":"I&#39;m trying to build a spring boot JWT authentication and authorization app and I&#39;m facing some errors at the class SecurityConfiguration which deals with the bean securityFilterChain. The code is here. \r\n```\r\npackage com.daian.security.config;\r\n\r\nimport lombok.RequiredArgsConstructor;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.authentication.AuthenticationProvider;\r\nimport org.springframework.security.config.annotation.method.configuration.EnableMethodSecurity;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.config.http.SessionCreationPolicy;\r\nimport org.springframework.security.web.SecurityFilterChain;\r\nimport org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;\r\n\r\n\r\n\r\n@Configuration\r\n@EnableWebSecurity\r\n@RequiredArgsConstructor\r\n@EnableMethodSecurity\r\npublic class SecurityConfiguration {\r\n\r\n    private final JwtAuthenticationFilter jwtAuthFilter;\r\n    private final AuthenticationProvider authentificationProvider;\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception{\r\n        http\r\n                .authorizeHttpRequests()\r\n                .requestMatchers(&quot;/api/v1/auth/**&quot;)\r\n                .permitAll()\r\n                .anyRequest()\r\n                .authenticated()\r\n                .and()\r\n                .sessionManagement()\r\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                .and()\r\n                .authenticationProvider(authentificationProvider)\r\n                .addFilterBefore(jwtAuthFilter, UsernamePasswordAuthenticationFilter.class)\r\n                .build();\r\n        return http.build();\r\n    }\r\n}\r\n\r\n```\r\nI am working with Intellij. I get that authorizeHttpRequests(), and(), sessionManagement(), and() are deprecated and marked for removal. Do you have any solution to this?","title":"SecurityConfiguration class has erros at securityFilterChain method","body":"<p>I'm trying to build a spring boot JWT authentication and authorization app and I'm facing some errors at the class SecurityConfiguration which deals with the bean securityFilterChain. The code is here.</p>\n<pre><code>package com.daian.security.config;\n\nimport lombok.RequiredArgsConstructor;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.authentication.AuthenticationProvider;\nimport org.springframework.security.config.annotation.method.configuration.EnableMethodSecurity;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.http.SessionCreationPolicy;\nimport org.springframework.security.web.SecurityFilterChain;\nimport org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;\n\n\n\n@Configuration\n@EnableWebSecurity\n@RequiredArgsConstructor\n@EnableMethodSecurity\npublic class SecurityConfiguration {\n\n    private final JwtAuthenticationFilter jwtAuthFilter;\n    private final AuthenticationProvider authentificationProvider;\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception{\n        http\n                .authorizeHttpRequests()\n                .requestMatchers(&quot;/api/v1/auth/**&quot;)\n                .permitAll()\n                .anyRequest()\n                .authenticated()\n                .and()\n                .sessionManagement()\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n                .and()\n                .authenticationProvider(authentificationProvider)\n                .addFilterBefore(jwtAuthFilter, UsernamePasswordAuthenticationFilter.class)\n                .build();\n        return http.build();\n    }\n}\n\n</code></pre>\n<p>I am working with Intellij. I get that authorizeHttpRequests(), and(), sessionManagement(), and() are deprecated and marked for removal. Do you have any solution to this?</p>\n"},{"tags":["java","spring","iso8583","jpos"],"answers":[{"tags":[],"owner":{"account_id":27907985,"reputation":1,"user_id":21310765,"display_name":"vidhya Gowda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687947149,"creation_date":1687947149,"answer_id":76572173,"question_id":76570800,"body_markdown":"i was able to fix my issue by changing field 44 IFB_LLLHNUM --&gt; IFB_LLHCHAR ","title":"org.jpos.iso.IFB_LLLHNUM: Problem unpacking field 44 (org.jpos.iso.ISOException: Field length 3634 too long. Max: 25) unpacking field=44, consumed=87","body":"<p>i was able to fix my issue by changing field 44 IFB_LLLHNUM --&gt; IFB_LLHCHAR</p>\n"}],"owner":{"account_id":27907985,"reputation":1,"user_id":21310765,"display_name":"vidhya Gowda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1688043470,"creation_date":1687936023,"question_id":76570800,"body_markdown":"I have been trying send a flag in `ISO 8583 spec` - in field 40 which will yield 44 field in response.\r\n\r\nSeeing the below error...\r\n\r\n    all other field gets unpacked just fine expect this filed 44.\r\n    &lt;log realm=&quot;client-logger/168.244.126.8:10096&quot; at=&quot;2023-06-27T06:38:56.573210&quot; lifespan=&quot;70ms&quot;&gt;\r\n      &lt;receive&gt;\r\n        &lt;iso-exception&gt;\r\n           org.jpos.iso.IFB_LLLHNUM: Problem unpacking field 44 (org.jpos.iso.ISOException: Field length 3634 too long. Max: 25) unpacking field=44, consumed=87\r\n          org.jpos.iso.ISOException: org.jpos.iso.IFB_LLLHNUM: Problem unpacking field 44 (org.jpos.iso.ISOException: Field length 3634 too long. Max: 25) unpacking field=44, consumed=87\r\n            at org.jpos.iso.ISOBasePackager.unpack(ISOBasePackager.java:340)\r\n            at org.jpos.iso.ISOMsg.unpack(ISOMsg.java:468)\r\n            at org.jpos.iso.BaseChannel.unpack(BaseChannel.java:976)\r\n            at org.jpos.iso.BaseChannel.receive(BaseChannel.java:746)\r\n\r\n\r\nISOPACKAGER: \r\n\r\n \r\n\r\n    /*Field 44 */  new IFB_LLLHNUM(25, &quot;EOV Date&quot;, true),  //has to be Ascii\r\n\r\nI tried truncating the field 44 to size 25.\r\n\r\nSaw this on logs: seems like it&#39;s returning some ASCII special characters while receiving the msg we are seeing this error, whereas the request is reaching them just fine.\r\n\r\n\r\n    0000  03 10 78 B8 00 01 86 D0  B0 00 13 06 00 64 91 73  ..x..........d.s\r\n    0010  14 99 80 09 25 92 00 00  00 00 00 00 50 00 00 00  ....%.......P...\r\n    0020  00 00 50 00 61 00 00 00  75 82 44 13 29 36 06 18  ..P.a...u.D.)6..\r\n    0030  05 06 76 24 05 06 82 50  30 30 35 30 30 30 30 31  ..v$...P00500001\r\n    0040  30 30 30 37 35 38 32 34  30 30 30 30 30 30 30 39  0007582400000009\r\n    0050  39 38 30 30 30 30 30 0E  32 30 32 33 30 39 32 35  9800000.20230925\r\n    0060  54 31 33 32 30 5A 08 40  08 40 30 30 30 30 37 37  T1320Z.@.@000077\r\n    0070  30 39                                             09\r\n\r\n","title":"org.jpos.iso.IFB_LLLHNUM: Problem unpacking field 44 (org.jpos.iso.ISOException: Field length 3634 too long. Max: 25) unpacking field=44, consumed=87","body":"<p>I have been trying send a flag in <code>ISO 8583 spec</code> - in field 40 which will yield 44 field in response.</p>\n<p>Seeing the below error...</p>\n<pre><code>all other field gets unpacked just fine expect this filed 44.\n&lt;log realm=&quot;client-logger/168.244.126.8:10096&quot; at=&quot;2023-06-27T06:38:56.573210&quot; lifespan=&quot;70ms&quot;&gt;\n  &lt;receive&gt;\n    &lt;iso-exception&gt;\n       org.jpos.iso.IFB_LLLHNUM: Problem unpacking field 44 (org.jpos.iso.ISOException: Field length 3634 too long. Max: 25) unpacking field=44, consumed=87\n      org.jpos.iso.ISOException: org.jpos.iso.IFB_LLLHNUM: Problem unpacking field 44 (org.jpos.iso.ISOException: Field length 3634 too long. Max: 25) unpacking field=44, consumed=87\n        at org.jpos.iso.ISOBasePackager.unpack(ISOBasePackager.java:340)\n        at org.jpos.iso.ISOMsg.unpack(ISOMsg.java:468)\n        at org.jpos.iso.BaseChannel.unpack(BaseChannel.java:976)\n        at org.jpos.iso.BaseChannel.receive(BaseChannel.java:746)\n</code></pre>\n<p>ISOPACKAGER:</p>\n<pre><code>/*Field 44 */  new IFB_LLLHNUM(25, &quot;EOV Date&quot;, true),  //has to be Ascii\n</code></pre>\n<p>I tried truncating the field 44 to size 25.</p>\n<p>Saw this on logs: seems like it's returning some ASCII special characters while receiving the msg we are seeing this error, whereas the request is reaching them just fine.</p>\n<pre><code>0000  03 10 78 B8 00 01 86 D0  B0 00 13 06 00 64 91 73  ..x..........d.s\n0010  14 99 80 09 25 92 00 00  00 00 00 00 50 00 00 00  ....%.......P...\n0020  00 00 50 00 61 00 00 00  75 82 44 13 29 36 06 18  ..P.a...u.D.)6..\n0030  05 06 76 24 05 06 82 50  30 30 35 30 30 30 30 31  ..v$...P00500001\n0040  30 30 30 37 35 38 32 34  30 30 30 30 30 30 30 39  0007582400000009\n0050  39 38 30 30 30 30 30 0E  32 30 32 33 30 39 32 35  9800000.20230925\n0060  54 31 33 32 30 5A 08 40  08 40 30 30 30 30 37 37  T1320Z.@.@000077\n0070  30 39                                             09\n</code></pre>\n"},{"tags":["java","reflection","wildcard"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":2,"creation_date":1687902630,"post_id":76567571,"comment_id":135001628,"body_markdown":"&quot;? extends Number &amp; Serializable&quot; is legal, yes.","body":"&quot;? extends Number &amp; Serializable&quot; is legal, yes."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1687913752,"post_id":76567571,"comment_id":135002668,"body_markdown":"*What*? Do you mean the `&amp;` syntax for lower and upper bounds?","body":"<i>What</i>? Do you mean the <code>&amp;</code> syntax for lower and upper bounds?"},{"owner":{"account_id":9149557,"reputation":1927,"user_id":6804605,"accept_rate":75,"display_name":"FredSuvn"},"score":0,"creation_date":1687916993,"post_id":76567571,"comment_id":135002926,"body_markdown":"@LouisWasserman sure? which version? could you show me an example？","body":"@LouisWasserman sure? which version? could you show me an example？"},{"owner":{"account_id":9149557,"reputation":1927,"user_id":6804605,"accept_rate":75,"display_name":"FredSuvn"},"score":0,"creation_date":1687917027,"post_id":76567571,"comment_id":135002933,"body_markdown":"@user207421 yes","body":"@user207421 yes"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1687971255,"post_id":76567571,"comment_id":135012520,"body_markdown":"@FredSuvn, here is the relevant _Java Tutorial_.  I believe this synatx was added after the initial release of _Generics_, although I&#39;m not sure.  _[Bounded Type Parameters (The Java™ Tutorials &gt; Learning the Java Language &gt; Generics (Updated))](https://docs.oracle.com/javase/tutorial/java/generics/bounded.html)_.","body":"@FredSuvn, here is the relevant <i>Java Tutorial</i>.  I believe this synatx was added after the initial release of <i>Generics</i>, although I&#39;m not sure.  <i><a href=\"https://docs.oracle.com/javase/tutorial/java/generics/bounded.html\" rel=\"nofollow noreferrer\">Bounded Type Parameters (The Java™ Tutorials &gt; Learning the Java Language &gt; Generics (Updated))</a></i>."}],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1687978240,"creation_date":1687978240,"answer_id":76575949,"question_id":76567571,"body_markdown":"I think it’s valid to say that this part of the Reflection API is not a good API at all. The base type [`java.lang.reflect.Type`] does not provide any helpful query methods, except for the name and even that was added as late as Java&#160;8.\r\n\r\nSo from Java&#160;5 to Java&#160;7, developers were left with an empty interface. And even today, it requires a bunch of `instanceof` tests to find out what you are looking at. This is, of course, especially awful if it’s not clear what possibilities exist, in other words, what you have to test for.\r\n\r\nThe case of `getRawType()` declaring the base type `Type` when it is always expected to be a `Class` (or is it?), is bad. But the case of the bounds is even weirder.\r\n\r\nThe question whether a wildcard type can have multiple upper bounds is actually independent from the question whether the method `getUpperBounds()` can ever return an array with more than one element.\r\n\r\nIn general, wildcard types with multiple bounds are possible, but only as a result of type inference. At a first glance, this applies to intermediate values only, whose types are never reported by Reflection and so the designers of Generics did not consider this scenario when defining the bytecode format. In other words, *it’s impossible to describe a wildcard with multiple bounds in [the bytecode format]*.\r\n\r\nSince the assumption that such inferred types can not occur as part of runtime Reflection visible artifacts was actually wrong, we can test it:\r\n\r\n```java\r\nimport java.io.Serializable;\r\nimport java.lang.reflect.*;\r\n\r\npublic class Tmp&lt;T&gt; {\r\n  public static void main(String[] args) {\r\n    withTypeVariable(null);\r\n    withWildcardType();\r\n  }\r\n\r\n  public static &lt;T extends Number &amp; Serializable&gt; void withTypeVariable(T t) {\r\n    var tmp = new Tmp&lt;T&gt;(t, t);\r\n\r\n    Serializable s = tmp.get();\r\n    Number n = tmp.get();\r\n\r\n    tmp.new Inner() { { printType(getClass().getGenericSuperclass()); } };\r\n  }\r\n\r\n  public static void withWildcardType() {\r\n    var tmp = new Tmp&lt;&gt;(10, 1.0);\r\n\r\n    Serializable s = tmp.get();\r\n    Number n = tmp.get();\r\n\r\n    tmp.new Inner() { { printType(getClass().getGenericSuperclass()); } };\r\n  }\r\n\r\n  Tmp(T t1, T t2) {}\r\n\r\n  T get() {\r\n    return null;\r\n  }\r\n\r\n  class Inner {}\r\n\r\n  static void printType(Type type) {\r\n    System.out.println(type);\r\n    Type typeArg = ((ParameterizedType)\r\n        ((ParameterizedType)type).getOwnerType()).getActualTypeArguments()[0];\r\n    Type[] bounds;\r\n    if(typeArg instanceof TypeVariable&lt;?&gt; tv) {\r\n      System.out.print(tv.getName());\r\n      bounds = tv.getBounds();\r\n    }\r\n    else if(typeArg instanceof WildcardType wt) {\r\n      System.out.print(&quot;?&quot;);\r\n      bounds = wt.getUpperBounds();\r\n    }\r\n    else {\r\n      System.out.println(typeArg);\r\n      return;\r\n    }\r\n    String s = &quot; extends &quot;;\r\n    for(var b: bounds) {\r\n      System.out.print(s + b);\r\n      s = &quot; &amp; &quot;;\r\n    }\r\n    System.out.println();\r\n  }\r\n}\r\n```\r\n\r\nThis shows two similar scenarios with a type with upper bounds, once a type variable and once a wildcard type. The `get()` calls demonstrate the presence of both bounds, `Number` and `Serializable`, in either case.\r\n\r\nAs said above, the wildcard case isn’t expressible in bytecode. So what happens? Recent `javac` versions simply refuse to compile this code, because they can’t generate a valid signature attribute. Recent eclipse versions use a work-around. With this work-around, the compiled program prints\r\n\r\n```java\r\nTmp&lt;T&gt;$Inner\r\nT extends class java.lang.Number &amp; interface java.io.Serializable\r\nTmp&lt;java.lang.Number&gt;$Inner\r\nclass java.lang.Number\r\n```\r\n\r\nSo the inexpressible `? extends Number &amp; Serializable` became just `Number` despite the `get()` calls pass, demonstrating that the code actually uses `? extends Number &amp; Serializable`.\r\n\r\nNote that both behaviors are an improvement to earlier versions, as in the past, both compilers generated illegal signatures in such scenarios which would fail at runtime. Compare with bug reports [ECJ 494198] and [JDK-8016196].\r\n\r\nFurther note that you don’t need `var` for this issue. I only used it here so I can add the `get()` calls. A code construct like `new Tmp&lt;&gt;(10, 1.0).new Inner() { … }` would run into this issue in all Java versions with Generics.\r\n\r\nSo, while wildcard types with multiple bounds are possible, you will never get an array with more than one element from `getUpperBounds()` or `getLowerBounds()`—at least if the interface implementation truly reflects what has been found in an actual class file. And, as far as I know, there are no scenarios with multiple lower bounds.\r\n\r\nI notice that this answer didn’t explain *why* these methods were defined to return an array. But we probably will never know. At least, I tried to provide all information there is about it.\r\n\r\n[`java.lang.reflect.Type`]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/reflect/Type.html\r\n[the bytecode format]: https://docs.oracle.com/javase/specs/jvms/se20/html/jvms-4.html#jvms-4.7.9.1\r\n[ECJ 494198]: https://bugs.eclipse.org/bugs/show_bug.cgi?id=494198\r\n[JDK-8016196]: https://bugs.openjdk.org/browse/JDK-8016196","title":"Why upperBounds and lowerBounds of WildcardType are array in java?","body":"<p>I think it’s valid to say that this part of the Reflection API is not a good API at all. The base type <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/reflect/Type.html\" rel=\"nofollow noreferrer\"><code>java.lang.reflect.Type</code></a> does not provide any helpful query methods, except for the name and even that was added as late as Java 8.</p>\n<p>So from Java 5 to Java 7, developers were left with an empty interface. And even today, it requires a bunch of <code>instanceof</code> tests to find out what you are looking at. This is, of course, especially awful if it’s not clear what possibilities exist, in other words, what you have to test for.</p>\n<p>The case of <code>getRawType()</code> declaring the base type <code>Type</code> when it is always expected to be a <code>Class</code> (or is it?), is bad. But the case of the bounds is even weirder.</p>\n<p>The question whether a wildcard type can have multiple upper bounds is actually independent from the question whether the method <code>getUpperBounds()</code> can ever return an array with more than one element.</p>\n<p>In general, wildcard types with multiple bounds are possible, but only as a result of type inference. At a first glance, this applies to intermediate values only, whose types are never reported by Reflection and so the designers of Generics did not consider this scenario when defining the bytecode format. In other words, <em>it’s impossible to describe a wildcard with multiple bounds in <a href=\"https://docs.oracle.com/javase/specs/jvms/se20/html/jvms-4.html#jvms-4.7.9.1\" rel=\"nofollow noreferrer\">the bytecode format</a></em>.</p>\n<p>Since the assumption that such inferred types can not occur as part of runtime Reflection visible artifacts was actually wrong, we can test it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.Serializable;\nimport java.lang.reflect.*;\n\npublic class Tmp&lt;T&gt; {\n  public static void main(String[] args) {\n    withTypeVariable(null);\n    withWildcardType();\n  }\n\n  public static &lt;T extends Number &amp; Serializable&gt; void withTypeVariable(T t) {\n    var tmp = new Tmp&lt;T&gt;(t, t);\n\n    Serializable s = tmp.get();\n    Number n = tmp.get();\n\n    tmp.new Inner() { { printType(getClass().getGenericSuperclass()); } };\n  }\n\n  public static void withWildcardType() {\n    var tmp = new Tmp&lt;&gt;(10, 1.0);\n\n    Serializable s = tmp.get();\n    Number n = tmp.get();\n\n    tmp.new Inner() { { printType(getClass().getGenericSuperclass()); } };\n  }\n\n  Tmp(T t1, T t2) {}\n\n  T get() {\n    return null;\n  }\n\n  class Inner {}\n\n  static void printType(Type type) {\n    System.out.println(type);\n    Type typeArg = ((ParameterizedType)\n        ((ParameterizedType)type).getOwnerType()).getActualTypeArguments()[0];\n    Type[] bounds;\n    if(typeArg instanceof TypeVariable&lt;?&gt; tv) {\n      System.out.print(tv.getName());\n      bounds = tv.getBounds();\n    }\n    else if(typeArg instanceof WildcardType wt) {\n      System.out.print(&quot;?&quot;);\n      bounds = wt.getUpperBounds();\n    }\n    else {\n      System.out.println(typeArg);\n      return;\n    }\n    String s = &quot; extends &quot;;\n    for(var b: bounds) {\n      System.out.print(s + b);\n      s = &quot; &amp; &quot;;\n    }\n    System.out.println();\n  }\n}\n</code></pre>\n<p>This shows two similar scenarios with a type with upper bounds, once a type variable and once a wildcard type. The <code>get()</code> calls demonstrate the presence of both bounds, <code>Number</code> and <code>Serializable</code>, in either case.</p>\n<p>As said above, the wildcard case isn’t expressible in bytecode. So what happens? Recent <code>javac</code> versions simply refuse to compile this code, because they can’t generate a valid signature attribute. Recent eclipse versions use a work-around. With this work-around, the compiled program prints</p>\n<pre class=\"lang-java prettyprint-override\"><code>Tmp&lt;T&gt;$Inner\nT extends class java.lang.Number &amp; interface java.io.Serializable\nTmp&lt;java.lang.Number&gt;$Inner\nclass java.lang.Number\n</code></pre>\n<p>So the inexpressible <code>? extends Number &amp; Serializable</code> became just <code>Number</code> despite the <code>get()</code> calls pass, demonstrating that the code actually uses <code>? extends Number &amp; Serializable</code>.</p>\n<p>Note that both behaviors are an improvement to earlier versions, as in the past, both compilers generated illegal signatures in such scenarios which would fail at runtime. Compare with bug reports <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=494198\" rel=\"nofollow noreferrer\">ECJ 494198</a> and <a href=\"https://bugs.openjdk.org/browse/JDK-8016196\" rel=\"nofollow noreferrer\">JDK-8016196</a>.</p>\n<p>Further note that you don’t need <code>var</code> for this issue. I only used it here so I can add the <code>get()</code> calls. A code construct like <code>new Tmp&lt;&gt;(10, 1.0).new Inner() { … }</code> would run into this issue in all Java versions with Generics.</p>\n<p>So, while wildcard types with multiple bounds are possible, you will never get an array with more than one element from <code>getUpperBounds()</code> or <code>getLowerBounds()</code>—at least if the interface implementation truly reflects what has been found in an actual class file. And, as far as I know, there are no scenarios with multiple lower bounds.</p>\n<p>I notice that this answer didn’t explain <em>why</em> these methods were defined to return an array. But we probably will never know. At least, I tried to provide all information there is about it.</p>\n"}],"owner":{"account_id":9149557,"reputation":1927,"user_id":6804605,"accept_rate":75,"display_name":"FredSuvn"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1688043121,"creation_date":1687889101,"question_id":76567571,"body_markdown":"Why upperBounds and lowerBounds of `WildcardType` are array in java?\r\n\r\n    // Only has a Number\r\n    ? extends Number\r\n\r\n`T` has two (`Number` and `Serializable`) but `T` is `TypeVariable` **not** `WildcardType`\r\n\r\n    T extends Number &amp; Serializable\r\n\r\nAnd in jdk implementation `com.sun.beans.WildcardTypeImpl` and `sun.reflect.generics.reflectiveObjects.WildcardTypeImpl` I see this code in `toString()`:\r\n\r\n    for(int var3 = 0; var3 &lt; var2.length; ++var3) {\r\n                if (var3 &gt; 0) {\r\n                    var1.append(&quot; &amp; &quot;);\r\n                }\r\n    \r\n                var1.append(var2[var3] instanceof Class ? ((Class)var2[var3]).getName() : var2[var3].toString());\r\n            }\r\n\r\nWhy? Is this legal??? `? extends Number &amp; Serializable`\r\n\r\nSame problem for `rawType` of `ParameterizedType`: Why return `Type` **not** `Class`?","title":"Why upperBounds and lowerBounds of WildcardType are array in java?","body":"<p>Why upperBounds and lowerBounds of <code>WildcardType</code> are array in java?</p>\n<pre><code>// Only has a Number\n? extends Number\n</code></pre>\n<p><code>T</code> has two (<code>Number</code> and <code>Serializable</code>) but <code>T</code> is <code>TypeVariable</code> <strong>not</strong> <code>WildcardType</code></p>\n<pre><code>T extends Number &amp; Serializable\n</code></pre>\n<p>And in jdk implementation <code>com.sun.beans.WildcardTypeImpl</code> and <code>sun.reflect.generics.reflectiveObjects.WildcardTypeImpl</code> I see this code in <code>toString()</code>:</p>\n<pre><code>for(int var3 = 0; var3 &lt; var2.length; ++var3) {\n            if (var3 &gt; 0) {\n                var1.append(&quot; &amp; &quot;);\n            }\n\n            var1.append(var2[var3] instanceof Class ? ((Class)var2[var3]).getName() : var2[var3].toString());\n        }\n</code></pre>\n<p>Why? Is this legal??? <code>? extends Number &amp; Serializable</code></p>\n<p>Same problem for <code>rawType</code> of <code>ParameterizedType</code>: Why return <code>Type</code> <strong>not</strong> <code>Class</code>?</p>\n"},{"tags":["java","unit-testing","testing","junit","mockito"],"comments":[{"owner":{"account_id":4012793,"reputation":1627,"user_id":3305737,"display_name":"Jonasz"},"score":0,"creation_date":1687977741,"post_id":76575677,"comment_id":135013632,"body_markdown":"Is `userRepository` a mock or a spy object injected into your class under test? Does the `User` class have getters?","body":"Is <code>userRepository</code> a mock or a spy object injected into your class under test? Does the <code>User</code> class have getters?"},{"owner":{"account_id":11198898,"reputation":3,"user_id":8216678,"display_name":"vorex"},"score":0,"creation_date":1687978389,"post_id":76575677,"comment_id":135013739,"body_markdown":"it&#39;s mocked object. I&#39;ve got spy only on passwordEncoder.","body":"it&#39;s mocked object. I&#39;ve got spy only on passwordEncoder."}],"answers":[{"tags":[],"owner":{"account_id":4012793,"reputation":1627,"user_id":3305737,"display_name":"Jonasz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687978927,"creation_date":1687978927,"answer_id":76576009,"question_id":76575677,"body_markdown":"Two simplest ways of verifying if the password was changed are in my opinion:\r\n\r\n1. Using a getter of the object returned from the mocked repository. It&#39;s the same object instance, so if it&#39;s modified inside the tested method, we can see that after the method is called in the test:\r\n\r\n```java\r\n@Test\r\nvoid userWithGetter() {\r\n    var email = &quot;email@example.com&quot;;\r\n    var password = &quot;admin123&quot;;\r\n    var user = new User();\r\n    when(userRepository.findByEmail(email))\r\n            .thenReturn(Optional.of(user));\r\n\r\n    testedClass.changeUserPassword(email, password);\r\n\r\n    assertEquals(password, user.getPassword());\r\n}\r\n```\r\n\r\n2. Similarly, but in case `User` class does not have a getter for the password, we can spy on the object that we&#39;re returning from the mocked repository to verify the setter call:\r\n\r\n```java\r\n@Test\r\nvoid userWithoutGetter() {\r\n    var email = &quot;email@example.com&quot;;\r\n    var password = &quot;admin123&quot;;\r\n    var user = spy(new User());\r\n    when(userRepository.findByEmail(email))\r\n            .thenReturn(Optional.of(user));\r\n\r\n    testedClass.changeUserPassword(email, password);\r\n\r\n    verify(user).setPassword(password);\r\n}\r\n```\r\n\r\n\r\nI&#39;ve prepared [a GitHub repository][1] with shortened code reproducing your class under test and included the tests described above - both pass. If any further clarification is needed, I&#39;d be happy to help.\r\n\r\n\r\n  [1]: https://github.com/Jonarzz/stack-overflow/commit/0d8345eefa8a325ae2a3369a488e6b05ce95ad21","title":"Is there a way to check if local variable methods have been used with JUnit5 and Mockito?","body":"<p>Two simplest ways of verifying if the password was changed are in my opinion:</p>\n<ol>\n<li>Using a getter of the object returned from the mocked repository. It's the same object instance, so if it's modified inside the tested method, we can see that after the method is called in the test:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\nvoid userWithGetter() {\n    var email = &quot;email@example.com&quot;;\n    var password = &quot;admin123&quot;;\n    var user = new User();\n    when(userRepository.findByEmail(email))\n            .thenReturn(Optional.of(user));\n\n    testedClass.changeUserPassword(email, password);\n\n    assertEquals(password, user.getPassword());\n}\n</code></pre>\n<ol start=\"2\">\n<li>Similarly, but in case <code>User</code> class does not have a getter for the password, we can spy on the object that we're returning from the mocked repository to verify the setter call:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\nvoid userWithoutGetter() {\n    var email = &quot;email@example.com&quot;;\n    var password = &quot;admin123&quot;;\n    var user = spy(new User());\n    when(userRepository.findByEmail(email))\n            .thenReturn(Optional.of(user));\n\n    testedClass.changeUserPassword(email, password);\n\n    verify(user).setPassword(password);\n}\n</code></pre>\n<p>I've prepared <a href=\"https://github.com/Jonarzz/stack-overflow/commit/0d8345eefa8a325ae2a3369a488e6b05ce95ad21\" rel=\"nofollow noreferrer\">a GitHub repository</a> with shortened code reproducing your class under test and included the tests described above - both pass. If any further clarification is needed, I'd be happy to help.</p>\n"}],"owner":{"account_id":11198898,"reputation":3,"user_id":8216678,"display_name":"vorex"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76576009,"answer_count":1,"score":0,"last_activity_date":1688043089,"creation_date":1687975386,"question_id":76575677,"body_markdown":"I&#39;ve got a service class for the User entity. One of the methods is responsible for changing the user password. And here is the problem. The method looks for a user in the database and stores it in a local variable. Obviously, it&#39;s working, but is there a way to write a test to check if the password setter method in the user class was used?\r\n\r\n```\r\npublic AuthenticationResponse changeUserPassword(ChangeUserPasswordDto changeUserPasswordDto,\r\n            String jwtToken)\r\n            throws RuntimeException\r\n{\r\n        User user = userRepository.findByEmail(jwtUtil.extractUsername(jwtToken)).get();\r\n\r\n        if (!passwordEncoder.matches(changeUserPasswordDto.getPassword(),user.getPassword()))\r\n            throw new InvalidPasswordException(&quot;Old password is not matching.&quot;);\r\n        if (!changeUserPasswordDto.getNewPassword().equals(changeUserPasswordDto.getNewPasswordConfirmation()))\r\n            throw new NotMatchingPasswordsException(&quot;Passwords are not matching.&quot;);\r\n\r\n        user.setPassword(passwordEncoder.encode(changeUserPasswordDto.getNewPassword()));\r\n        user.setLastCredentialsChangeTime(System.currentTimeMillis());\r\n        return AuthenticationResponse.builder().token(jwtUtil.generateToken(userRepository.save(user))).build();\r\n}\r\n```\r\n\r\n\r\nI&#39;ve been looking for a solution to this problem for half of the day, but I found only  [one](https://stackoverflow.com/questions/16506254/mockito-with-local-variables) questionable solution using [Powermock library](https://github.com/powermock/powermock). Still, this library hasn&#39;t been updated since last year.\r\n\r\nThere is no possibility of using Mockito.verify() or something because it&#39;s not visible outside.\r\n\r\nDoes it even make sense to write a test for something like this?\r\n","title":"Is there a way to check if local variable methods have been used with JUnit5 and Mockito?","body":"<p>I've got a service class for the User entity. One of the methods is responsible for changing the user password. And here is the problem. The method looks for a user in the database and stores it in a local variable. Obviously, it's working, but is there a way to write a test to check if the password setter method in the user class was used?</p>\n<pre><code>public AuthenticationResponse changeUserPassword(ChangeUserPasswordDto changeUserPasswordDto,\n            String jwtToken)\n            throws RuntimeException\n{\n        User user = userRepository.findByEmail(jwtUtil.extractUsername(jwtToken)).get();\n\n        if (!passwordEncoder.matches(changeUserPasswordDto.getPassword(),user.getPassword()))\n            throw new InvalidPasswordException(&quot;Old password is not matching.&quot;);\n        if (!changeUserPasswordDto.getNewPassword().equals(changeUserPasswordDto.getNewPasswordConfirmation()))\n            throw new NotMatchingPasswordsException(&quot;Passwords are not matching.&quot;);\n\n        user.setPassword(passwordEncoder.encode(changeUserPasswordDto.getNewPassword()));\n        user.setLastCredentialsChangeTime(System.currentTimeMillis());\n        return AuthenticationResponse.builder().token(jwtUtil.generateToken(userRepository.save(user))).build();\n}\n</code></pre>\n<p>I've been looking for a solution to this problem for half of the day, but I found only  <a href=\"https://stackoverflow.com/questions/16506254/mockito-with-local-variables\">one</a> questionable solution using <a href=\"https://github.com/powermock/powermock\" rel=\"nofollow noreferrer\">Powermock library</a>. Still, this library hasn't been updated since last year.</p>\n<p>There is no possibility of using Mockito.verify() or something because it's not visible outside.</p>\n<p>Does it even make sense to write a test for something like this?</p>\n"},{"tags":["java","android","firebase"],"answers":[{"tags":[],"owner":{"account_id":23694106,"reputation":3,"user_id":17718081,"display_name":"killersea"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688042447,"creation_date":1687282516,"answer_id":76517169,"question_id":76516966,"body_markdown":"I got the solution.\r\n\r\nI needed to place my code inside the event listener because of Firebase being asynchronous.","title":"Android Studio Firebase returning null on getkey and getvalue","body":"<p>I got the solution.</p>\n<p>I needed to place my code inside the event listener because of Firebase being asynchronous.</p>\n"}],"owner":{"account_id":23694106,"reputation":3,"user_id":17718081,"display_name":"killersea"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688042447,"creation_date":1687280753,"question_id":76516966,"body_markdown":"I gave up debugging this problem\r\nI already check many posts and my code is similar to them\r\nI think my code is right but it always keep returning null\r\n\r\n```\r\npackage com.example.dejabrew;\r\n\r\nimport static java.lang.Integer.parseInt;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.ImageView;\r\nimport android.widget.TextView;\r\n\r\nimport com.google.firebase.database.DataSnapshot;\r\nimport com.google.firebase.database.DatabaseError;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\nimport com.google.firebase.database.ValueEventListener;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class CartList extends AppCompatActivity implements RecyclerViewInterface {\r\n\r\n    TextView finalprice;\r\n    Integer getprice;\r\n    Integer Finalprice = 0;\r\n    ImageView home, favourite;\r\n    RecyclerView cartrecyclerview;\r\n    RecyclerViewAdapter2 recyclerViewAdapter2;\r\n    ArrayList&lt;Cartmodel&gt; list;\r\n    ArrayList&lt;Integer&gt; pricelist = new ArrayList&lt;&gt;();\r\n    DatabaseReference databaseReference = FirebaseDatabase.getInstance().getReferenceFromUrl(&quot;https://dejabrew-2bcc8-default-rtdb.asia-southeast1.firebasedatabase.app/&quot;);\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.cartlist);\r\n\r\n        finalprice = (TextView) findViewById(R.id.finalprice);\r\n        cartrecyclerview = (RecyclerView)findViewById(R.id.cartrecyclerview);\r\n        cartrecyclerview.setHasFixedSize(true);\r\n        home = (ImageView) findViewById(R.id.home2);\r\n        favourite = (ImageView) findViewById(R.id.heart2);\r\n\r\n        RecyclerView.LayoutManager layoutManager = (new LinearLayoutManager(this));\r\n        cartrecyclerview.setLayoutManager(layoutManager);\r\n        list = new ArrayList&lt;&gt;();\r\n        recyclerViewAdapter2 = new RecyclerViewAdapter2(this, this, list);\r\n        cartrecyclerview.setAdapter(recyclerViewAdapter2);\r\n\r\n        databaseReference.child(&quot;AddtoCart&quot;).child(&quot;Orders&quot;).addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                list.clear();\r\n                for (DataSnapshot dataSnapshot : snapshot.getChildren()){\r\n                    Cartmodel cartmodel = dataSnapshot.getValue(Cartmodel.class);\r\n                    list.add(cartmodel);\r\n                }\r\n                recyclerViewAdapter2.notifyDataSetChanged();\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n            }\r\n        });\r\n\r\n        databaseReference.child(&quot;AddtoCart&quot;).child(&quot;Orders&quot;).addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot1) {;\r\n                for (DataSnapshot dataSnapshot1: snapshot1.getChildren()){\r\n                    String getkey = dataSnapshot1.getKey();\r\n                    getprice = snapshot1.child(getkey).child(&quot;price&quot;).getValue(Integer.class);\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n            }\r\n        });\r\n\r\n        home.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Intent intent = new Intent(CartList.this, HomePage.class);\r\n                startActivity(intent);\r\n            }\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public void onitemclick(int position) {\r\n        Cartmodel cartmodel = list.get(position);\r\n        String id = cartmodel.getItemid();\r\n        databaseReference.child(&quot;AddtoCart&quot;).child(&quot;Orders&quot;).child(id).removeValue();\r\n        recyclerViewAdapter2.notifyItemRemoved(position);\r\n\r\n    }\r\n}\r\n```\r\n\r\n[[Database](https://i.stack.imgur.com/5reCs.png)][Debugger](https://i.stack.imgur.com/LPu1j.png)\r\n\r\n\r\nI need to get all the price value of items in cart to get the total price\r\nHere is the image of my firebase realtime database and the picture of the debugger","title":"Android Studio Firebase returning null on getkey and getvalue","body":"<p>I gave up debugging this problem\nI already check many posts and my code is similar to them\nI think my code is right but it always keep returning null</p>\n<pre><code>package com.example.dejabrew;\n\nimport static java.lang.Integer.parseInt;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.recyclerview.widget.LinearLayoutManager;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.ImageView;\nimport android.widget.TextView;\n\nimport com.google.firebase.database.DataSnapshot;\nimport com.google.firebase.database.DatabaseError;\nimport com.google.firebase.database.DatabaseReference;\nimport com.google.firebase.database.FirebaseDatabase;\nimport com.google.firebase.database.ValueEventListener;\n\nimport java.util.ArrayList;\n\npublic class CartList extends AppCompatActivity implements RecyclerViewInterface {\n\n    TextView finalprice;\n    Integer getprice;\n    Integer Finalprice = 0;\n    ImageView home, favourite;\n    RecyclerView cartrecyclerview;\n    RecyclerViewAdapter2 recyclerViewAdapter2;\n    ArrayList&lt;Cartmodel&gt; list;\n    ArrayList&lt;Integer&gt; pricelist = new ArrayList&lt;&gt;();\n    DatabaseReference databaseReference = FirebaseDatabase.getInstance().getReferenceFromUrl(&quot;https://dejabrew-2bcc8-default-rtdb.asia-southeast1.firebasedatabase.app/&quot;);\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.cartlist);\n\n        finalprice = (TextView) findViewById(R.id.finalprice);\n        cartrecyclerview = (RecyclerView)findViewById(R.id.cartrecyclerview);\n        cartrecyclerview.setHasFixedSize(true);\n        home = (ImageView) findViewById(R.id.home2);\n        favourite = (ImageView) findViewById(R.id.heart2);\n\n        RecyclerView.LayoutManager layoutManager = (new LinearLayoutManager(this));\n        cartrecyclerview.setLayoutManager(layoutManager);\n        list = new ArrayList&lt;&gt;();\n        recyclerViewAdapter2 = new RecyclerViewAdapter2(this, this, list);\n        cartrecyclerview.setAdapter(recyclerViewAdapter2);\n\n        databaseReference.child(&quot;AddtoCart&quot;).child(&quot;Orders&quot;).addValueEventListener(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\n                list.clear();\n                for (DataSnapshot dataSnapshot : snapshot.getChildren()){\n                    Cartmodel cartmodel = dataSnapshot.getValue(Cartmodel.class);\n                    list.add(cartmodel);\n                }\n                recyclerViewAdapter2.notifyDataSetChanged();\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError error) {\n\n            }\n        });\n\n        databaseReference.child(&quot;AddtoCart&quot;).child(&quot;Orders&quot;).addValueEventListener(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot snapshot1) {;\n                for (DataSnapshot dataSnapshot1: snapshot1.getChildren()){\n                    String getkey = dataSnapshot1.getKey();\n                    getprice = snapshot1.child(getkey).child(&quot;price&quot;).getValue(Integer.class);\n                }\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError error) {\n\n            }\n        });\n\n        home.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                Intent intent = new Intent(CartList.this, HomePage.class);\n                startActivity(intent);\n            }\n        });\n    }\n\n    @Override\n    public void onitemclick(int position) {\n        Cartmodel cartmodel = list.get(position);\n        String id = cartmodel.getItemid();\n        databaseReference.child(&quot;AddtoCart&quot;).child(&quot;Orders&quot;).child(id).removeValue();\n        recyclerViewAdapter2.notifyItemRemoved(position);\n\n    }\n}\n</code></pre>\n<p>[<a href=\"https://i.stack.imgur.com/5reCs.png\" rel=\"nofollow noreferrer\">Database</a>]<a href=\"https://i.stack.imgur.com/LPu1j.png\" rel=\"nofollow noreferrer\">Debugger</a></p>\n<p>I need to get all the price value of items in cart to get the total price\nHere is the image of my firebase realtime database and the picture of the debugger</p>\n"},{"tags":["java","spring","caching","logging"],"answers":[{"tags":[],"owner":{"account_id":104911,"reputation":119202,"user_id":280244,"accept_rate":81,"display_name":"Ralph"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1436957274,"creation_date":1436957274,"answer_id":31428289,"question_id":31428240,"body_markdown":"You could use [log4jdbc][1] ([docu][2]) - it is wrapper around your normal jdbc connection that logs every executed statement.\r\n\r\n\r\n  [1]: https://github.com/arthurblake/log4jdbc\r\n  [2]: https://code.google.com/p/log4jdbc/","title":"Spring log if cache is called for @Cacheable","body":"<p>You could use <a href=\"https://github.com/arthurblake/log4jdbc\" rel=\"nofollow\">log4jdbc</a> (<a href=\"https://code.google.com/p/log4jdbc/\" rel=\"nofollow\">docu</a>) - it is wrapper around your normal jdbc connection that logs every executed statement.</p>\n"},{"tags":[],"owner":{"account_id":2863588,"reputation":11468,"user_id":2458310,"display_name":"denov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1459917995,"creation_date":1459917995,"answer_id":36441721,"question_id":31428240,"body_markdown":"you can a log message in your service layer if there&#39;s going to be a call to your persistence layer.  here&#39;s a method from some code i&#39;m working where i&#39;m doing this.  I only get a log entry when the cache isn&#39;t hit. \r\n\r\n    @Cacheable(value = CACHE_PICO)\r\n    @Transactional(readOnly = true)\r\n    @PostAuthorize(PICO_READ + OR + ALLOWED_FOR_ADMIN)\r\n    public Pico get(long id) {\r\n        log.info(&quot;cached missed for pico {}&quot;, id);\r\n        return _picoRepository.findOne(id);\r\n    }\r\n","title":"Spring log if cache is called for @Cacheable","body":"<p>you can a log message in your service layer if there's going to be a call to your persistence layer.  here's a method from some code i'm working where i'm doing this.  I only get a log entry when the cache isn't hit. </p>\n\n<pre><code>@Cacheable(value = CACHE_PICO)\n@Transactional(readOnly = true)\n@PostAuthorize(PICO_READ + OR + ALLOWED_FOR_ADMIN)\npublic Pico get(long id) {\n    log.info(\"cached missed for pico {}\", id);\n    return _picoRepository.findOne(id);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5444810,"reputation":3671,"user_id":4331750,"accept_rate":83,"display_name":"whistling_marmot"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1512137998,"creation_date":1512137998,"answer_id":47595372,"question_id":31428240,"body_markdown":"Spring logs out cache hits and misses under the `org.springframework.cache` category at `TRACE` level.","title":"Spring log if cache is called for @Cacheable","body":"<p>Spring logs out cache hits and misses under the <code>org.springframework.cache</code> category at <code>TRACE</code> level.</p>\n"},{"tags":[],"owner":{"account_id":25850929,"reputation":31,"user_id":21219675,"display_name":"Murat Samatov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688042372,"creation_date":1688042372,"answer_id":76581151,"question_id":31428240,"body_markdown":"if u use application.yml \r\n\r\n```\r\nlogging:\r\n  level:\r\n    org.springframework.cache: TRACE\r\n```","title":"Spring log if cache is called for @Cacheable","body":"<p>if u use application.yml</p>\n<pre><code>logging:\n  level:\n    org.springframework.cache: TRACE\n</code></pre>\n"}],"owner":{"account_id":3946298,"reputation":103,"user_id":3258772,"accept_rate":43,"display_name":"user3258772"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5857,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":4,"score":4,"last_activity_date":1688042372,"creation_date":1436957086,"question_id":31428240,"body_markdown":"I have a simple spring 3.2 web application, which is connected to a MySQL db. My question is simple: I have method in dao, which is annotated with @Cacheable. Is there a way to log if the method goes to db, or its result is loaded from cache? For example, I&#39;d like to see the following log:\r\n     \r\n    Object with id &#39;x&#39; was retrieved from database at 23:44:30 / 2015....\r\n    Object with id &#39;x&#39; was retrived from cache at...\r\n\r\nThank you","title":"Spring log if cache is called for @Cacheable","body":"<p>I have a simple spring 3.2 web application, which is connected to a MySQL db. My question is simple: I have method in dao, which is annotated with @Cacheable. Is there a way to log if the method goes to db, or its result is loaded from cache? For example, I'd like to see the following log:</p>\n\n<pre><code>Object with id 'x' was retrieved from database at 23:44:30 / 2015....\nObject with id 'x' was retrived from cache at...\n</code></pre>\n\n<p>Thank you</p>\n"},{"tags":["java","splunk","easymock","finalize"],"answers":[{"tags":[],"owner":{"account_id":392465,"reputation":5571,"user_id":753739,"display_name":"Henri"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686191240,"creation_date":1686191240,"answer_id":76428207,"question_id":76422215,"body_markdown":"This is really strange. It it expecting `finalize`. It means that an expectation was set for it. But I don&#39;t see an expectation set. So it could be that it is set somewhere else in your code, or that it&#39;s called by the GC while you are setting your expectations. But I doubt it, because it wouldn&#39;t be in the same thread.\r\n\r\nSo my assumption is that a `finalize` is expected somewhere else and should be `expectLastCall().andStubReturn()` instead of just `mock.finalize()`. ","title":"junit.framework.AssertionFailedError: Expectation failure on verify: finalize(): expected: 1, actual: 0","body":"<p>This is really strange. It it expecting <code>finalize</code>. It means that an expectation was set for it. But I don't see an expectation set. So it could be that it is set somewhere else in your code, or that it's called by the GC while you are setting your expectations. But I doubt it, because it wouldn't be in the same thread.</p>\n<p>So my assumption is that a <code>finalize</code> is expected somewhere else and should be <code>expectLastCall().andStubReturn()</code> instead of just <code>mock.finalize()</code>.</p>\n"},{"tags":[],"owner":{"account_id":6383695,"reputation":5206,"user_id":4952262,"accept_rate":71,"display_name":"Michu93"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688041630,"creation_date":1688041630,"answer_id":76581060,"question_id":76422215,"body_markdown":"It was really old EasyMock version: https://github.com/easymock/easymock/issues/32, upgrading fix the issue.","title":"junit.framework.AssertionFailedError: Expectation failure on verify: finalize(): expected: 1, actual: 0","body":"<p>It was really old EasyMock version: <a href=\"https://github.com/easymock/easymock/issues/32\" rel=\"nofollow noreferrer\">https://github.com/easymock/easymock/issues/32</a>, upgrading fix the issue.</p>\n"}],"owner":{"account_id":6383695,"reputation":5206,"user_id":4952262,"accept_rate":71,"display_name":"Michu93"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1688041630,"creation_date":1686132855,"question_id":76422215,"body_markdown":"I have an old test in code which uses EasyMock instead of Mockito.\r\nWhen I run test locally then it works, however when it runs in gitlab pipeline then I get:\r\n\r\n    junit.framework.AssertionFailedError: \r\n      Expectation failure on verify:\r\n        finalize(): expected: 1, actual: 0\r\n        finalize(): expected: 1, actual: 0\r\n    \tat org.easymock.internal.MocksControl.verify(MocksControl.java:184)\r\n    \tat myproject.mocks.EasyMockTestCase.verify(EasyMockTestCase.java:72)\r\n    \tat myproject.controllers.TestController.userIsAbleToSave(TestController.java:132)\r\n\r\nof course I can see a lot of the same questions on stackoverflow and in the net but here it&#39;s strange because of `finalize()` method.\r\n\r\nMy code:\r\n\r\n    @RequestMapping(value = ACTION, params = &quot;buttonSubmit&quot;)\r\n        @Secured(Permissions.UPDATE_INSTRUMENT)\r\n        public ModelAndView buttonSubmit(TypeRequest typeRequest, final HttpServletRequest request) throws Exception {\r\n            ModelAndView mav = getView();\r\n            Product product;\r\n            try {\r\n                product = productLifeCycleService.createNew(new AppRequest(request));\r\n            } catch (DuplicateException e) {\r\n                return handleDuplicate(typeRequest, request, false, e);\r\n            } catch (ValidationException e) {\r\n                return handleValidation(request, false, e);\r\n            }\r\n            return redirectToProductDetail(mav, product.getId());\r\n        }\r\n\r\nand test for this:\r\n\r\n    @Test\r\n    \tpublic void userIsAbleToSave() throws Exception {\r\n    \t\texpect(productLifeCycleService.createNew((Request)anyObject())).andStubReturn(product);\r\n    \t\texpect(product.getId()).andStubReturn(STANDARD);\r\n    \t\tTypeRequest typeRequest = new TypeRequest (QQ, HH, GOAL);\r\n    \r\n    \t\treplay();\r\n    \t\tunderTest.buttonSubmit(typeRequest, httpRequest);\r\n    \t\tverify();\r\n    \t}\r\n\r\nWhy is it failing on `finalize()`, why it works locally and don&#39;t work on Gitlab? It started to fail in pipeline after adding `appender` to connect to Splunk in `logback.xml`.\r\n\r\nWhen product is created this way:\r\n\r\n    Product product;\r\n    product = productLifeCycleService.createNew(new AppRequest(request));\r\n\r\nit&#39;s also not easy to use Mockito here.\r\n\r\n@Edit\r\nI see that adding into `logback.xml`:\r\n\r\n    &lt;appender-ref ref=&quot;http&quot;/&gt;\r\n\r\nspoil test. In `@Before` I have `mockHttpRequest()` method which do:\r\n\r\n    private void mockHttpRequest() {\r\n    \t\thttpRequest = mock(MockHttpServletRequest.class);\r\n    \t\texpect(httpRequest.getRequestURI()).andStubReturn(URI);\r\n    \t\texpect(httpRequest.getHeader(HEADER)).andStubReturn(null);\r\n    \t\texpect(httpRequest.getParameter(TYPE)).andStubReturn(TypeName.LEGAL.getFormName());\r\n    \t\texpect(httpRequest.getMethod()).andStubReturn(POST);\r\n    \t}","title":"junit.framework.AssertionFailedError: Expectation failure on verify: finalize(): expected: 1, actual: 0","body":"<p>I have an old test in code which uses EasyMock instead of Mockito.\nWhen I run test locally then it works, however when it runs in gitlab pipeline then I get:</p>\n<pre><code>junit.framework.AssertionFailedError: \n  Expectation failure on verify:\n    finalize(): expected: 1, actual: 0\n    finalize(): expected: 1, actual: 0\n    at org.easymock.internal.MocksControl.verify(MocksControl.java:184)\n    at myproject.mocks.EasyMockTestCase.verify(EasyMockTestCase.java:72)\n    at myproject.controllers.TestController.userIsAbleToSave(TestController.java:132)\n</code></pre>\n<p>of course I can see a lot of the same questions on stackoverflow and in the net but here it's strange because of <code>finalize()</code> method.</p>\n<p>My code:</p>\n<pre><code>@RequestMapping(value = ACTION, params = &quot;buttonSubmit&quot;)\n    @Secured(Permissions.UPDATE_INSTRUMENT)\n    public ModelAndView buttonSubmit(TypeRequest typeRequest, final HttpServletRequest request) throws Exception {\n        ModelAndView mav = getView();\n        Product product;\n        try {\n            product = productLifeCycleService.createNew(new AppRequest(request));\n        } catch (DuplicateException e) {\n            return handleDuplicate(typeRequest, request, false, e);\n        } catch (ValidationException e) {\n            return handleValidation(request, false, e);\n        }\n        return redirectToProductDetail(mav, product.getId());\n    }\n</code></pre>\n<p>and test for this:</p>\n<pre><code>@Test\n    public void userIsAbleToSave() throws Exception {\n        expect(productLifeCycleService.createNew((Request)anyObject())).andStubReturn(product);\n        expect(product.getId()).andStubReturn(STANDARD);\n        TypeRequest typeRequest = new TypeRequest (QQ, HH, GOAL);\n\n        replay();\n        underTest.buttonSubmit(typeRequest, httpRequest);\n        verify();\n    }\n</code></pre>\n<p>Why is it failing on <code>finalize()</code>, why it works locally and don't work on Gitlab? It started to fail in pipeline after adding <code>appender</code> to connect to Splunk in <code>logback.xml</code>.</p>\n<p>When product is created this way:</p>\n<pre><code>Product product;\nproduct = productLifeCycleService.createNew(new AppRequest(request));\n</code></pre>\n<p>it's also not easy to use Mockito here.</p>\n<p>@Edit\nI see that adding into <code>logback.xml</code>:</p>\n<pre><code>&lt;appender-ref ref=&quot;http&quot;/&gt;\n</code></pre>\n<p>spoil test. In <code>@Before</code> I have <code>mockHttpRequest()</code> method which do:</p>\n<pre><code>private void mockHttpRequest() {\n        httpRequest = mock(MockHttpServletRequest.class);\n        expect(httpRequest.getRequestURI()).andStubReturn(URI);\n        expect(httpRequest.getHeader(HEADER)).andStubReturn(null);\n        expect(httpRequest.getParameter(TYPE)).andStubReturn(TypeName.LEGAL.getFormName());\n        expect(httpRequest.getMethod()).andStubReturn(POST);\n    }\n</code></pre>\n"},{"tags":["java","events","javafx"],"comments":[{"owner":{"account_id":8664592,"reputation":9965,"user_id":6485651,"accept_rate":65,"display_name":"Zephyr"},"score":0,"creation_date":1540088354,"post_id":52911646,"comment_id":92733861,"body_markdown":"You could try printing to console in those event handlers and find out which is fired first :)","body":"You could try printing to console in those event handlers and find out which is fired first :)"},{"owner":{"account_id":7026140,"reputation":306,"user_id":5383451,"display_name":"mark mark"},"score":0,"creation_date":1540089344,"post_id":52911646,"comment_id":92734009,"body_markdown":"I already did, but I would like an explanation","body":"I already did, but I would like an explanation"}],"answers":[{"tags":[],"owner":{"account_id":5211089,"reputation":2867,"user_id":4167500,"display_name":"JKostikiadis"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1540142463,"creation_date":1540104355,"answer_id":52912777,"question_id":52911646,"body_markdown":"You are actually adding an event handler to your `Node`, which handles a specific type of a `MouseEvent`. ( Have a look at [Handling JavaFX Events][1] as well )\r\n\r\nIf you take a look at `MouseEvent` documentation you will see :\r\n\r\n**MOUSE_PRESSED**\r\n\r\n`public static final EventType&lt;MouseEvent&gt; MOUSE_PRESSED`\r\n\r\n&gt; This event occurs when mouse button is pressed. This activates a\r\n&gt; press-drag-release gesture, so all subsequent mouse events until the\r\n&gt; button is released are delivered to the same node.\r\n\r\n**MOUSE_RELEASED**\r\n\r\n`public static final EventType&lt;MouseEvent&gt; MOUSE_RELEASED`\r\n\r\n&gt; This event occurs when mouse button is released. It is delivered to\r\n&gt; the same node where the button has been pressed which activated a\r\n&gt; press-drag-release gesture.\r\n\r\n**MOUSE_CLICKED**\r\n\r\n`public static final EventType&lt;MouseEvent&gt; MOUSE_CLICKED`\r\n\r\n&gt; This event occurs when mouse button has been clicked (**pressed and\r\n&gt; released on the same node**). This event provides a button-like behavior\r\n&gt; to any node. Note that even long drags can generate click event (it is\r\n&gt; delivered to the top-most node on which the mouse was both pressed and\r\n&gt; released).\r\n\r\nSo to answer your question yes, the order of events is always : \r\n\r\n    MOUSE_PRESSED -&gt;  MOUSE_RELEASED -&gt; MOUSE_CLICKED\r\n\r\n\r\n  [1]: https://docs.oracle.com/javafx/2/events/convenience_methods.htm","title":"In Javafx, does mouseReleased event always happen before mouseClicked?","body":"<p>You are actually adding an event handler to your <code>Node</code>, which handles a specific type of a <code>MouseEvent</code>. ( Have a look at <a href=\"https://docs.oracle.com/javafx/2/events/convenience_methods.htm\" rel=\"noreferrer\">Handling JavaFX Events</a> as well )</p>\n\n<p>If you take a look at <code>MouseEvent</code> documentation you will see :</p>\n\n<p><strong>MOUSE_PRESSED</strong></p>\n\n<p><code>public static final EventType&lt;MouseEvent&gt; MOUSE_PRESSED</code></p>\n\n<blockquote>\n  <p>This event occurs when mouse button is pressed. This activates a\n  press-drag-release gesture, so all subsequent mouse events until the\n  button is released are delivered to the same node.</p>\n</blockquote>\n\n<p><strong>MOUSE_RELEASED</strong></p>\n\n<p><code>public static final EventType&lt;MouseEvent&gt; MOUSE_RELEASED</code></p>\n\n<blockquote>\n  <p>This event occurs when mouse button is released. It is delivered to\n  the same node where the button has been pressed which activated a\n  press-drag-release gesture.</p>\n</blockquote>\n\n<p><strong>MOUSE_CLICKED</strong></p>\n\n<p><code>public static final EventType&lt;MouseEvent&gt; MOUSE_CLICKED</code></p>\n\n<blockquote>\n  <p>This event occurs when mouse button has been clicked (<strong>pressed and\n  released on the same node</strong>). This event provides a button-like behavior\n  to any node. Note that even long drags can generate click event (it is\n  delivered to the top-most node on which the mouse was both pressed and\n  released).</p>\n</blockquote>\n\n<p>So to answer your question yes, the order of events is always : </p>\n\n<pre><code>MOUSE_PRESSED -&gt;  MOUSE_RELEASED -&gt; MOUSE_CLICKED\n</code></pre>\n"}],"owner":{"account_id":7026140,"reputation":306,"user_id":5383451,"display_name":"mark mark"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1439,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":52912777,"answer_count":1,"score":4,"last_activity_date":1688041326,"creation_date":1540088273,"question_id":52911646,"body_markdown":"Which event is fired first?  Does it depend on initialization order? Does it depend on something else? What is the principle behind this?\r\n\r\n    pane.setOnMouseClicked(e -&gt; {\r\n        doSomething();\r\n    });\r\n\r\n    pane.setOnMouseReleased(e -&gt; {\r\n        doSomething();\r\n    });\r\n\r\n       \r\n     ","title":"In Javafx, does mouseReleased event always happen before mouseClicked?","body":"<p>Which event is fired first?  Does it depend on initialization order? Does it depend on something else? What is the principle behind this?</p>\n\n<pre><code>pane.setOnMouseClicked(e -&gt; {\n    doSomething();\n});\n\npane.setOnMouseReleased(e -&gt; {\n    doSomething();\n});\n</code></pre>\n"},{"tags":["java","maven","snyk"],"answers":[{"tags":[],"owner":{"account_id":28179571,"reputation":409,"user_id":21536808,"display_name":"Jonathan Gruber"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688041325,"creation_date":1688041325,"answer_id":76581019,"question_id":76580904,"body_markdown":"Today the `.snyk` file can ignore:\r\n- a file\r\n- a folder\r\n- a issue ID (vulnerability or license issue)\r\n\r\nToday it doesn&#39;t allow to ignore a specific dependency. If you have an Enterprise plan you may ignore at scale the CVEs associated to this dependency in the **Policies** tab in the Group level today, it is not ideal but some kind of workaround.\r\n\r\nYou may also use the ignore button in the UI but it will be on a *per-project* *per-vuln* basis\r\n\r\n\r\n","title":"Can snyk be configured to ignore all issues for a particular maven dependency?","body":"<p>Today the <code>.snyk</code> file can ignore:</p>\n<ul>\n<li>a file</li>\n<li>a folder</li>\n<li>a issue ID (vulnerability or license issue)</li>\n</ul>\n<p>Today it doesn't allow to ignore a specific dependency. If you have an Enterprise plan you may ignore at scale the CVEs associated to this dependency in the <strong>Policies</strong> tab in the Group level today, it is not ideal but some kind of workaround.</p>\n<p>You may also use the ignore button in the UI but it will be on a <em>per-project</em> <em>per-vuln</em> basis</p>\n"}],"owner":{"account_id":14059622,"reputation":99,"user_id":12648740,"display_name":"John Smith"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":267,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":76581019,"answer_count":1,"score":3,"last_activity_date":1688041325,"creation_date":1688040468,"question_id":76580904,"body_markdown":"I would like to clarify some moments regarding snyk ignore.\r\nIs it possible to configure **.snyk file** to ignore all kinds of issues for a particular maven dependency.\r\nhttps://docs.snyk.io/snyk-cli/commands/ignore\r\n```\r\nignore:\r\n  &#39;*&#39;:  //&lt;ISSUE_ID&gt; all issues\r\n    - &#39;path to maven dependecny&#39;:    // &lt;PATH_TO_RESOURCE&gt;\r\n      reason: &lt;REASON&gt;\r\n      expires: &lt;EXPIRY&gt;\r\n```\r\n\r\nI suppose it will not work as here issues&#39; ids  should be specified. \r\nAnyway. I would be grateful for any piece of advice.","title":"Can snyk be configured to ignore all issues for a particular maven dependency?","body":"<p>I would like to clarify some moments regarding snyk ignore.\nIs it possible to configure <strong>.snyk file</strong> to ignore all kinds of issues for a particular maven dependency.\n<a href=\"https://docs.snyk.io/snyk-cli/commands/ignore\" rel=\"nofollow noreferrer\">https://docs.snyk.io/snyk-cli/commands/ignore</a></p>\n<pre><code>ignore:\n  '*':  //&lt;ISSUE_ID&gt; all issues\n    - 'path to maven dependecny':    // &lt;PATH_TO_RESOURCE&gt;\n      reason: &lt;REASON&gt;\n      expires: &lt;EXPIRY&gt;\n</code></pre>\n<p>I suppose it will not work as here issues' ids  should be specified.\nAnyway. I would be grateful for any piece of advice.</p>\n"},{"tags":["java","json","module","yasson"],"comments":[{"owner":{"account_id":5347179,"reputation":10433,"user_id":4262407,"accept_rate":40,"display_name":"mipa"},"score":0,"creation_date":1653217457,"post_id":72335737,"comment_id":127792779,"body_markdown":"Have you tried it without all this module stuff?","body":"Have you tried it without all this module stuff?"},{"owner":{"account_id":5208125,"reputation":639,"user_id":4165384,"accept_rate":67,"display_name":"Damien Cooke"},"score":1,"creation_date":1653220498,"post_id":72335737,"comment_id":127793335,"body_markdown":"This is the direction that Java wants us to go, so it is my intention to resolve this not give up.","body":"This is the direction that Java wants us to go, so it is my intention to resolve this not give up."},{"owner":{"account_id":5347179,"reputation":10433,"user_id":4262407,"accept_rate":40,"display_name":"mipa"},"score":1,"creation_date":1653220799,"post_id":72335737,"comment_id":127793397,"body_markdown":"I did not say that you should give up but it is good practice to split up problems into smaller ones that you can then investigate step by step. In your case the problem may be a missing maven dependency and/or a missing module dependency. So, if you can exclude the first you can then concentrate on the second.","body":"I did not say that you should give up but it is good practice to split up problems into smaller ones that you can then investigate step by step. In your case the problem may be a missing maven dependency and/or a missing module dependency. So, if you can exclude the first you can then concentrate on the second."}],"answers":[{"tags":[],"owner":{"account_id":5208125,"reputation":639,"user_id":4165384,"accept_rate":67,"display_name":"Damien Cooke"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1653265846,"creation_date":1653265846,"answer_id":72342194,"question_id":72335737,"body_markdown":"Removing the following dependency resolved the issue.\r\n\r\n    \t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.glassfish&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jakarta.json&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.0.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nI assume it was clashing with parsson.","title":"Java 17 module project (maven), when reading Json NoClassDefFoundError: jakarta/json/JsonConfig$KeyStrategy","body":"<p>Removing the following dependency resolved the issue.</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.glassfish&lt;/groupId&gt;\n        &lt;artifactId&gt;jakarta.json&lt;/artifactId&gt;\n        &lt;version&gt;2.0.1&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>I assume it was clashing with parsson.</p>\n"},{"tags":[],"owner":{"account_id":398093,"reputation":5018,"user_id":762585,"accept_rate":100,"display_name":"Franziskus Karsunke"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1688040995,"creation_date":1688040995,"answer_id":76580970,"question_id":72335737,"body_markdown":"I had to add the `jakarta.json-api` in a version higher or equal `2.1.0` (`JsonConfig` class was introduced in version `2.1` of jakarta jsonb implementation)\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;jakarta.json&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jakarta.json-api&lt;/artifactId&gt;\r\n      &lt;version&gt;2.1.2&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"Java 17 module project (maven), when reading Json NoClassDefFoundError: jakarta/json/JsonConfig$KeyStrategy","body":"<p>I had to add the <code>jakarta.json-api</code> in a version higher or equal <code>2.1.0</code> (<code>JsonConfig</code> class was introduced in version <code>2.1</code> of jakarta jsonb implementation)</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;jakarta.json&lt;/groupId&gt;\n  &lt;artifactId&gt;jakarta.json-api&lt;/artifactId&gt;\n  &lt;version&gt;2.1.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":5208125,"reputation":639,"user_id":4165384,"accept_rate":67,"display_name":"Damien Cooke"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":964,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72342194,"answer_count":2,"score":1,"last_activity_date":1688040995,"creation_date":1653205860,"question_id":72335737,"body_markdown":"This is not my first module based project but I am very shakey on how it all works, I am sure this is my issue.  Project Jigsaw seems like smoke and mirrors to me at the moment.\r\nAny assistance would be greatly appreciated.\r\n\r\nHere is where the exception happens:\r\n\r\n    result.payload().ifPresent(payloadString -&gt; {\r\n\r\n            final var jsonReader = Json.createReader(new StringReader(payloadString));\r\n            final var jsonObject = jsonReader.readObject(); &lt;== error here\r\n            jsonReader.close();\r\n\r\nMy module-info.java\r\n\r\n        module com.mymodule.pocclient {\r\n        requires javafx.controls;\r\n        requires javafx.fxml;\r\n        requires jcip.annotations;\r\n        requires java.logging;\r\n        requires org.controlsfx.controls;\r\n        requires com.dlsc.formsfx;\r\n        requires jakarta.json.bind;\r\n        requires jakarta.json;\r\n        requires org.eclipse.yasson;\r\n        requires org.eclipse.parsson;\r\n        requires static lombok;\r\n        requires jjwt.api;\r\n        requires com.mymodule.cryptography;\r\n    \r\n    \r\n        opens com.mymodule.pocclient.controllers to javafx.fxml;\r\n        opens com.mymodule.pocclient.model to javafx.base, org.eclipse.yasson;\r\n        opens com.mymodule.pocclient to javafx.fxml;\r\n        opens com.mymodule.pocclient.network to org.eclipse.parsson;\r\n    \r\n        exports com.mymodule.pocclient;\r\n        exports com.mymodule.pocclient.controllers;\r\n    }\r\n\r\nThe exception:\r\n\r\n    java.lang.NoClassDefFoundError: jakarta/json/JsonConfig$KeyStrategy\r\n\tat org.eclipse.parsson@1.1.0/org.eclipse.parsson.JsonObjectBuilderImpl$DuplicateStrategy.&lt;clinit&gt;(JsonObjectBuilderImpl.java:373)\r\n\tat org.eclipse.parsson@1.1.0/org.eclipse.parsson.JsonObjectBuilderImpl.&lt;init&gt;(JsonObjectBuilderImpl.java:59)\r\n\tat org.eclipse.parsson@1.1.0/org.eclipse.parsson.JsonParserImpl.getObject(JsonParserImpl.java:171)\r\n\tat org.eclipse.parsson@1.1.0/org.eclipse.parsson.JsonReaderImpl.readObject(JsonReaderImpl.java:103)\r\n\tat com.lifelenz.poclifelenzclient/com.mymodule.pocclient.controllers.LoginController.lambda$processAuthenticatedUser$0(LoginController.java:121)\r\n\r\n\r\n\r\ndependencies from my pom file (not sure how much is relevant) \r\n\r\n    &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.lifelenz.jmsa&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;cryptography&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.1.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.eclipse.parsson&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;parsson&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.1.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;jakarta.json&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jakarta.json-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.1.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.3.0.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.18.24&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;jakarta.json.bind&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jakarta.json.bind-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.eclipse&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;yasson&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.0-RC2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.glassfish&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jakarta.json&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.0.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jjwt-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.11.5&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jjwt-impl&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.11.5&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jjwt-jackson&lt;/artifactId&gt; &lt;!-- or jjwt-gson if Gson is preferred --&gt;\r\n\t\t\t&lt;version&gt;0.11.5&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;net.jcip&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jcip-annotations&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${javafx.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${javafx.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.0.1.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.controlsfx&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;controlsfx&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;11.1.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.dlsc.formsfx&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;formsfx-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;11.5.0&lt;/version&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;*&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${junit.version}&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${junit.version}&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javafx-graphics&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;18.0.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n","title":"Java 17 module project (maven), when reading Json NoClassDefFoundError: jakarta/json/JsonConfig$KeyStrategy","body":"<p>This is not my first module based project but I am very shakey on how it all works, I am sure this is my issue.  Project Jigsaw seems like smoke and mirrors to me at the moment.\nAny assistance would be greatly appreciated.</p>\n<p>Here is where the exception happens:</p>\n<pre><code>result.payload().ifPresent(payloadString -&gt; {\n\n        final var jsonReader = Json.createReader(new StringReader(payloadString));\n        final var jsonObject = jsonReader.readObject(); &lt;== error here\n        jsonReader.close();\n</code></pre>\n<p>My module-info.java</p>\n<pre><code>    module com.mymodule.pocclient {\n    requires javafx.controls;\n    requires javafx.fxml;\n    requires jcip.annotations;\n    requires java.logging;\n    requires org.controlsfx.controls;\n    requires com.dlsc.formsfx;\n    requires jakarta.json.bind;\n    requires jakarta.json;\n    requires org.eclipse.yasson;\n    requires org.eclipse.parsson;\n    requires static lombok;\n    requires jjwt.api;\n    requires com.mymodule.cryptography;\n\n\n    opens com.mymodule.pocclient.controllers to javafx.fxml;\n    opens com.mymodule.pocclient.model to javafx.base, org.eclipse.yasson;\n    opens com.mymodule.pocclient to javafx.fxml;\n    opens com.mymodule.pocclient.network to org.eclipse.parsson;\n\n    exports com.mymodule.pocclient;\n    exports com.mymodule.pocclient.controllers;\n}\n</code></pre>\n<p>The exception:</p>\n<pre><code>java.lang.NoClassDefFoundError: jakarta/json/JsonConfig$KeyStrategy\nat org.eclipse.parsson@1.1.0/org.eclipse.parsson.JsonObjectBuilderImpl$DuplicateStrategy.&lt;clinit&gt;(JsonObjectBuilderImpl.java:373)\nat org.eclipse.parsson@1.1.0/org.eclipse.parsson.JsonObjectBuilderImpl.&lt;init&gt;(JsonObjectBuilderImpl.java:59)\nat org.eclipse.parsson@1.1.0/org.eclipse.parsson.JsonParserImpl.getObject(JsonParserImpl.java:171)\nat org.eclipse.parsson@1.1.0/org.eclipse.parsson.JsonReaderImpl.readObject(JsonReaderImpl.java:103)\nat com.lifelenz.poclifelenzclient/com.mymodule.pocclient.controllers.LoginController.lambda$processAuthenticatedUser$0(LoginController.java:121)\n</code></pre>\n<p>dependencies from my pom file (not sure how much is relevant)</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;com.lifelenz.jmsa&lt;/groupId&gt;\n        &lt;artifactId&gt;cryptography&lt;/artifactId&gt;\n        &lt;version&gt;0.1.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.eclipse.parsson&lt;/groupId&gt;\n        &lt;artifactId&gt;parsson&lt;/artifactId&gt;\n        &lt;version&gt;1.1.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;jakarta.json&lt;/groupId&gt;\n        &lt;artifactId&gt;jakarta.json-api&lt;/artifactId&gt;\n        &lt;version&gt;2.1.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n        &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n        &lt;version&gt;1.3.0.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;version&gt;1.18.24&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;jakarta.json.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jakarta.json.bind-api&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.eclipse&lt;/groupId&gt;\n        &lt;artifactId&gt;yasson&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0-RC2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.glassfish&lt;/groupId&gt;\n        &lt;artifactId&gt;jakarta.json&lt;/artifactId&gt;\n        &lt;version&gt;2.0.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n        &lt;artifactId&gt;jjwt-api&lt;/artifactId&gt;\n        &lt;version&gt;0.11.5&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n        &lt;artifactId&gt;jjwt-impl&lt;/artifactId&gt;\n        &lt;version&gt;0.11.5&lt;/version&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n        &lt;artifactId&gt;jjwt-jackson&lt;/artifactId&gt; &lt;!-- or jjwt-gson if Gson is preferred --&gt;\n        &lt;version&gt;0.11.5&lt;/version&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;net.jcip&lt;/groupId&gt;\n        &lt;artifactId&gt;jcip-annotations&lt;/artifactId&gt;\n        &lt;version&gt;1.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n        &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n        &lt;version&gt;${javafx.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n        &lt;artifactId&gt;javafx-fxml&lt;/artifactId&gt;\n        &lt;version&gt;${javafx.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n        &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n        &lt;version&gt;2.0.1.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.controlsfx&lt;/groupId&gt;\n        &lt;artifactId&gt;controlsfx&lt;/artifactId&gt;\n        &lt;version&gt;11.1.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.dlsc.formsfx&lt;/groupId&gt;\n        &lt;artifactId&gt;formsfx-core&lt;/artifactId&gt;\n        &lt;version&gt;11.5.0&lt;/version&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n                &lt;artifactId&gt;*&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n        &lt;version&gt;${junit.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n        &lt;version&gt;${junit.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n        &lt;artifactId&gt;javafx-graphics&lt;/artifactId&gt;\n        &lt;version&gt;18.0.1&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","soap","wsdl","cxf","wsdl2java"],"answers":[{"tags":[],"owner":{"account_id":14376658,"reputation":383,"user_id":10384954,"display_name":"Wladimir Diskowski"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688040916,"creation_date":1688040916,"answer_id":76580957,"question_id":75210578,"body_markdown":"Simpliest way - pass bareMethods parameter to wsdl2java:\r\n\r\n    wsdl2java {\r\n    wsdlDir = file(&quot;$projectDir/src/main/resources/&quot;)\r\n    includeJava8XmlDependencies = false\r\n    cxfVersion = &quot;4.0.0&quot;\r\n    cxfPluginVersion = &quot;4.0.0&quot;\r\n    wsdlsToGenerate = listOf(\r\n        listOf(\r\n            &quot;-b&quot;, &quot;$projectDir/src/main/resources/wsdl/bindings.xml&quot;,\r\n            &quot;-wsdlLocation&quot;, &quot;https://ewus.nfz.gov.pl/ws-broker-server-ewus-auth-test/services/Auth?wsdl&quot;,\r\n            &quot;-autoNameResolution&quot;,\r\n            &quot;-bareMethods&quot;,\r\n            &quot;https://ewus.nfz.gov.pl/ws-broker-server-ewus-auth-test/services/Auth?wsdl&quot;,\r\n        )\r\n    )}\r\n\r\n\r\n","title":"wsdl2java - how to force wrapped response return type instead of using out parameters wrapped in Holders?","body":"<p>Simpliest way - pass bareMethods parameter to wsdl2java:</p>\n<pre><code>wsdl2java {\nwsdlDir = file(&quot;$projectDir/src/main/resources/&quot;)\nincludeJava8XmlDependencies = false\ncxfVersion = &quot;4.0.0&quot;\ncxfPluginVersion = &quot;4.0.0&quot;\nwsdlsToGenerate = listOf(\n    listOf(\n        &quot;-b&quot;, &quot;$projectDir/src/main/resources/wsdl/bindings.xml&quot;,\n        &quot;-wsdlLocation&quot;, &quot;https://ewus.nfz.gov.pl/ws-broker-server-ewus-auth-test/services/Auth?wsdl&quot;,\n        &quot;-autoNameResolution&quot;,\n        &quot;-bareMethods&quot;,\n        &quot;https://ewus.nfz.gov.pl/ws-broker-server-ewus-auth-test/services/Auth?wsdl&quot;,\n    )\n)}\n</code></pre>\n"}],"owner":{"account_id":17023620,"reputation":57,"user_id":12315478,"display_name":"adriangl1997"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":487,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76580957,"answer_count":1,"score":1,"last_activity_date":1688040916,"creation_date":1674482507,"question_id":75210578,"body_markdown":"Using `wsdl2java` tool to generate client classes, I can&#39;t seem to able to force to wrap Web Service response in a return type - the return type is always `void` and `OUT` parameters wrapped in `Holder`s are generated. `Auth.java` auto-generated client interface looks like this:\r\n```java\r\n@WebService(targetNamespace = &quot;http://xml.kamsoft.pl/ws/auth&quot;, name = &quot;Auth&quot;)\r\n@XmlSeeAlso({pl.kamsoft.xml.ws.common.ObjectFactory.class, pl.kamsoft.xml.ws.kaas.login_types.ObjectFactory.class})\r\n@SOAPBinding(parameterStyle = SOAPBinding.ParameterStyle.BARE)\r\npublic interface Auth {\r\n\r\n    // [...] - `logout`, `changePassword`, `changePasswordLog` methods\r\n\r\n    @WebMethod(action = &quot;login&quot;)\r\n    public void login(\r\n\r\n        @WebParam(partName = &quot;request&quot;, name = &quot;login&quot;, targetNamespace = &quot;http://xml.kamsoft.pl/ws/kaas/login_types&quot;)\r\n        pl.kamsoft.xml.ws.kaas.login_types.LoginRequest request,\r\n        @WebParam(partName = &quot;response&quot;, mode = WebParam.Mode.OUT, name = &quot;loginReturn&quot;, targetNamespace = &quot;http://xml.kamsoft.pl/ws/kaas/login_types&quot;)\r\n        jakarta.xml.ws.Holder&lt;java.lang.String&gt; response,\r\n        @WebParam(partName = &quot;session&quot;, mode = WebParam.Mode.OUT, name = &quot;session&quot;, targetNamespace = &quot;http://xml.kamsoft.pl/ws/common&quot;, header = true)\r\n        jakarta.xml.ws.Holder&lt;pl.kamsoft.xml.ws.common.Session&gt; session,\r\n        @WebParam(partName = &quot;token&quot;, mode = WebParam.Mode.OUT, name = &quot;authToken&quot;, targetNamespace = &quot;http://xml.kamsoft.pl/ws/common&quot;, header = true)\r\n        jakarta.xml.ws.Holder&lt;pl.kamsoft.xml.ws.common.AuthToken&gt; token\r\n    ) throws pl.kamsoft.wsdl.common.AuthenticationExceptionMsg, pl.kamsoft.wsdl.common.ServerExceptionMsg, PassExpiredExceptionMsg, pl.kamsoft.wsdl.common.AuthTokenExceptionMsg, pl.kamsoft.wsdl.common.InputExceptionMsg, pl.kamsoft.wsdl.common.AuthorizationExceptionMsg;\r\n}\r\n```\r\n\r\nMinimal example (`build.gradle.kts` file with Gradle configuration):\r\n```kotlin\r\nplugins {\r\n    java\r\n    id(&quot;com.yupzip.wsdl2java&quot;) version &quot;3.0.0&quot;\r\n}\r\n\r\njava {\r\n    toolchain {\r\n        languageVersion.set(JavaLanguageVersion.of(17))\r\n    }\r\n}\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    implementation(&quot;org.apache.cxf:cxf-rt-frontend-jaxws:4.0.0&quot;)\r\n    implementation(&quot;org.apache.cxf:cxf-rt-transports-http-hc5:4.0.0&quot;)\r\n    wsdl2java(&quot;com.sun.xml.bind:jaxb-impl:4.0.1&quot;)\r\n    wsdl2java(&quot;org.apache.cxf.xjc-utils:cxf-xjc-runtime:4.0.0&quot;)\r\n    wsdl2java(&quot;jakarta.xml.ws:jakarta.xml.ws-api:4.0.0&quot;)\r\n    wsdl2java(&quot;com.sun.xml.ws:rt:4.0.0&quot;)\r\n    wsdl2java(&quot;org.jvnet.jaxb2_commons:jaxb2-namespace-prefix:2.0&quot;)\r\n    wsdl2java(&quot;codes.rafael.jaxb2_commons:jaxb2-basics-runtime:3.0.0&quot;)\r\n    wsdl2java(&quot;codes.rafael.jaxb2_commons:jaxb2-basics:3.0.0&quot;)\r\n}\r\n\r\nwsdl2java {\r\n    wsdlDir = file(&quot;$projectDir/src/main/resources/&quot;)\r\n    includeJava8XmlDependencies = false\r\n    cxfVersion = &quot;4.0.0&quot;\r\n    cxfPluginVersion = &quot;4.0.0&quot;\r\n    wsdlsToGenerate = listOf(\r\n        listOf(\r\n            &quot;-wsdlLocation&quot;, &quot;https://ewus.nfz.gov.pl/ws-broker-server-ewus-auth-test/services/Auth?wsdl&quot;,\r\n            &quot;-autoNameResolution&quot;,\r\n            &quot;https://ewus.nfz.gov.pl/ws-broker-server-ewus-auth-test/services/Auth?wsdl&quot;,\r\n        )\r\n    )\r\n}\r\n```\r\n\r\n**How can I force `wsdl2java` tool to generate `LoginResponse` class of which instance would be returned on `Auth#login` invocation**?\r\n\r\nI&#39;ve tried to include binding file (`bindings.xml`):\r\n```xml\r\n&lt;bindings\r\n        wsdlLocation=&quot;https://ewus.nfz.gov.pl/ws-broker-server-ewus-auth-test/services/Auth?wsdl&quot;\r\n        xmlns:wsdl=&quot;http://schemas.xmlsoap.org/wsdl/&quot;\r\n        xmlns=&quot;http://java.sun.com/xml/ns/jaxws&quot;&gt;\r\n    &lt;enableWrapperStyle&gt;false&lt;/enableWrapperStyle&gt;\r\n&lt;/bindings&gt;\r\n```\r\n\r\nbut neither setting `enableWrapperStyle` to `false` or `true` did change anything. Here is how my configuration looked like (`build.gradle.kts`):\r\n```kotlin\r\nwsdl2java {\r\n    wsdlDir = file(&quot;$projectDir/src/main/resources/&quot;)\r\n    includeJava8XmlDependencies = false\r\n    cxfVersion = &quot;4.0.0&quot;\r\n    cxfPluginVersion = &quot;4.0.0&quot;\r\n    wsdlsToGenerate = listOf(\r\n        listOf(\r\n            &quot;-b&quot;, &quot;$projectDir/src/main/resources/wsdl/bindings.xml&quot;,\r\n            &quot;-wsdlLocation&quot;, &quot;https://ewus.nfz.gov.pl/ws-broker-server-ewus-auth-test/services/Auth?wsdl&quot;,\r\n            &quot;-autoNameResolution&quot;,\r\n            &quot;https://ewus.nfz.gov.pl/ws-broker-server-ewus-auth-test/services/Auth?wsdl&quot;,\r\n        )\r\n    )\r\n}\r\n```\r\n\r\nCan the fact that both `session` and `token` are declared as `wsdlsoap:header` have impact on the resulting generated Java code?","title":"wsdl2java - how to force wrapped response return type instead of using out parameters wrapped in Holders?","body":"<p>Using <code>wsdl2java</code> tool to generate client classes, I can't seem to able to force to wrap Web Service response in a return type - the return type is always <code>void</code> and <code>OUT</code> parameters wrapped in <code>Holder</code>s are generated. <code>Auth.java</code> auto-generated client interface looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@WebService(targetNamespace = &quot;http://xml.kamsoft.pl/ws/auth&quot;, name = &quot;Auth&quot;)\n@XmlSeeAlso({pl.kamsoft.xml.ws.common.ObjectFactory.class, pl.kamsoft.xml.ws.kaas.login_types.ObjectFactory.class})\n@SOAPBinding(parameterStyle = SOAPBinding.ParameterStyle.BARE)\npublic interface Auth {\n\n    // [...] - `logout`, `changePassword`, `changePasswordLog` methods\n\n    @WebMethod(action = &quot;login&quot;)\n    public void login(\n\n        @WebParam(partName = &quot;request&quot;, name = &quot;login&quot;, targetNamespace = &quot;http://xml.kamsoft.pl/ws/kaas/login_types&quot;)\n        pl.kamsoft.xml.ws.kaas.login_types.LoginRequest request,\n        @WebParam(partName = &quot;response&quot;, mode = WebParam.Mode.OUT, name = &quot;loginReturn&quot;, targetNamespace = &quot;http://xml.kamsoft.pl/ws/kaas/login_types&quot;)\n        jakarta.xml.ws.Holder&lt;java.lang.String&gt; response,\n        @WebParam(partName = &quot;session&quot;, mode = WebParam.Mode.OUT, name = &quot;session&quot;, targetNamespace = &quot;http://xml.kamsoft.pl/ws/common&quot;, header = true)\n        jakarta.xml.ws.Holder&lt;pl.kamsoft.xml.ws.common.Session&gt; session,\n        @WebParam(partName = &quot;token&quot;, mode = WebParam.Mode.OUT, name = &quot;authToken&quot;, targetNamespace = &quot;http://xml.kamsoft.pl/ws/common&quot;, header = true)\n        jakarta.xml.ws.Holder&lt;pl.kamsoft.xml.ws.common.AuthToken&gt; token\n    ) throws pl.kamsoft.wsdl.common.AuthenticationExceptionMsg, pl.kamsoft.wsdl.common.ServerExceptionMsg, PassExpiredExceptionMsg, pl.kamsoft.wsdl.common.AuthTokenExceptionMsg, pl.kamsoft.wsdl.common.InputExceptionMsg, pl.kamsoft.wsdl.common.AuthorizationExceptionMsg;\n}\n</code></pre>\n<p>Minimal example (<code>build.gradle.kts</code> file with Gradle configuration):</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>plugins {\n    java\n    id(&quot;com.yupzip.wsdl2java&quot;) version &quot;3.0.0&quot;\n}\n\njava {\n    toolchain {\n        languageVersion.set(JavaLanguageVersion.of(17))\n    }\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation(&quot;org.apache.cxf:cxf-rt-frontend-jaxws:4.0.0&quot;)\n    implementation(&quot;org.apache.cxf:cxf-rt-transports-http-hc5:4.0.0&quot;)\n    wsdl2java(&quot;com.sun.xml.bind:jaxb-impl:4.0.1&quot;)\n    wsdl2java(&quot;org.apache.cxf.xjc-utils:cxf-xjc-runtime:4.0.0&quot;)\n    wsdl2java(&quot;jakarta.xml.ws:jakarta.xml.ws-api:4.0.0&quot;)\n    wsdl2java(&quot;com.sun.xml.ws:rt:4.0.0&quot;)\n    wsdl2java(&quot;org.jvnet.jaxb2_commons:jaxb2-namespace-prefix:2.0&quot;)\n    wsdl2java(&quot;codes.rafael.jaxb2_commons:jaxb2-basics-runtime:3.0.0&quot;)\n    wsdl2java(&quot;codes.rafael.jaxb2_commons:jaxb2-basics:3.0.0&quot;)\n}\n\nwsdl2java {\n    wsdlDir = file(&quot;$projectDir/src/main/resources/&quot;)\n    includeJava8XmlDependencies = false\n    cxfVersion = &quot;4.0.0&quot;\n    cxfPluginVersion = &quot;4.0.0&quot;\n    wsdlsToGenerate = listOf(\n        listOf(\n            &quot;-wsdlLocation&quot;, &quot;https://ewus.nfz.gov.pl/ws-broker-server-ewus-auth-test/services/Auth?wsdl&quot;,\n            &quot;-autoNameResolution&quot;,\n            &quot;https://ewus.nfz.gov.pl/ws-broker-server-ewus-auth-test/services/Auth?wsdl&quot;,\n        )\n    )\n}\n</code></pre>\n<p><strong>How can I force <code>wsdl2java</code> tool to generate <code>LoginResponse</code> class of which instance would be returned on <code>Auth#login</code> invocation</strong>?</p>\n<p>I've tried to include binding file (<code>bindings.xml</code>):</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;bindings\n        wsdlLocation=&quot;https://ewus.nfz.gov.pl/ws-broker-server-ewus-auth-test/services/Auth?wsdl&quot;\n        xmlns:wsdl=&quot;http://schemas.xmlsoap.org/wsdl/&quot;\n        xmlns=&quot;http://java.sun.com/xml/ns/jaxws&quot;&gt;\n    &lt;enableWrapperStyle&gt;false&lt;/enableWrapperStyle&gt;\n&lt;/bindings&gt;\n</code></pre>\n<p>but neither setting <code>enableWrapperStyle</code> to <code>false</code> or <code>true</code> did change anything. Here is how my configuration looked like (<code>build.gradle.kts</code>):</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>wsdl2java {\n    wsdlDir = file(&quot;$projectDir/src/main/resources/&quot;)\n    includeJava8XmlDependencies = false\n    cxfVersion = &quot;4.0.0&quot;\n    cxfPluginVersion = &quot;4.0.0&quot;\n    wsdlsToGenerate = listOf(\n        listOf(\n            &quot;-b&quot;, &quot;$projectDir/src/main/resources/wsdl/bindings.xml&quot;,\n            &quot;-wsdlLocation&quot;, &quot;https://ewus.nfz.gov.pl/ws-broker-server-ewus-auth-test/services/Auth?wsdl&quot;,\n            &quot;-autoNameResolution&quot;,\n            &quot;https://ewus.nfz.gov.pl/ws-broker-server-ewus-auth-test/services/Auth?wsdl&quot;,\n        )\n    )\n}\n</code></pre>\n<p>Can the fact that both <code>session</code> and <code>token</code> are declared as <code>wsdlsoap:header</code> have impact on the resulting generated Java code?</p>\n"},{"tags":["java","android","web3-java"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1687262602,"post_id":76514458,"comment_id":134909222,"body_markdown":"*Maybe* it would help if you told us what the problem is, in more detail than &quot;there is no way to solve the creating wallet step&quot;","body":"<i>Maybe</i> it would help if you told us what the problem is, in more detail than &quot;there is no way to solve the creating wallet step&quot;"},{"owner":{"account_id":2715257,"reputation":23,"user_id":2342776,"display_name":"user2342776"},"score":0,"creation_date":1687263262,"post_id":76514458,"comment_id":134909374,"body_markdown":"When I launch the app in the emulator. Nothing happens in one hour (+/-) then Logcat has &quot;Waiting for a blocking GC Instrumentation&quot;, &quot;WaitForGcToComplete blocked Instrumentation on Background ...&quot;, &quot;Background concurrent copying GC freed 6(144B) ...&quot; (repeated several times with some changes)... And finally: &quot;FATAL EXCEPTION: main                                                                                                    java.lang.OutOfMemoryError: Failed to allocate a 131088 byte allocation with 84696 free bytes and 82KB until OOM, target footprint 201326592, growth limit 201326592&quot;","body":"When I launch the app in the emulator. Nothing happens in one hour (+/-) then Logcat has &quot;Waiting for a blocking GC Instrumentation&quot;, &quot;WaitForGcToComplete blocked Instrumentation on Background ...&quot;, &quot;Background concurrent copying GC freed 6(144B) ...&quot; (repeated several times with some changes)... And finally: &quot;FATAL EXCEPTION: main                                                                                                    java.lang.OutOfMemoryError: Failed to allocate a 131088 byte allocation with 84696 free bytes and 82KB until OOM, target footprint 201326592, growth limit 201326592&quot;"},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1687263862,"post_id":76514458,"comment_id":134909529,"body_markdown":"For adding a lot of new (multi-line) info please edit your question and add the info there. In comments it is not good to read.","body":"For adding a lot of new (multi-line) info please edit your question and add the info there. In comments it is not good to read."},{"owner":{"account_id":2715257,"reputation":23,"user_id":2342776,"display_name":"user2342776"},"score":0,"creation_date":1687437451,"post_id":76514458,"comment_id":134938769,"body_markdown":"I have edited my question... But I did not have room enogh to put all the log.... Hope the lines selected will help you... Best regards.","body":"I have edited my question... But I did not have room enogh to put all the log.... Hope the lines selected will help you... Best regards."}],"answers":[{"tags":[],"owner":{"account_id":2715257,"reputation":23,"user_id":2342776,"display_name":"user2342776"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688040694,"creation_date":1687609024,"answer_id":76546016,"question_id":76514458,"body_markdown":"Finally... I still do not kwow why does not work... But I found a way to scape\r\n\r\nI change from **WalletUtils.generateNewWalletFile** to **WalletUtils.generateLightNewWalletFile** which returned after a very long time, with success...\r\n\r\nI do not know the consecuences of this change because web3j apidoc is not too good...\r\n\r\nI have more problems with Web3j library... Communications TLS cause trouble... After many tests, I found some librearies combinatios that worked:\r\n\r\n```\r\ndependencies {\r\n    ...\r\n    implementation &#39;org.web3j:core:4.9.8&#39;\r\n    api &#39;com.madgag.spongycastle:pg:1.54.0.0&#39;\r\n}\r\n```\r\n\r\nAnd defining the new Provider:\r\n```\r\n    public boolean setupBouncyCastle(oks ok, Object... extras_array) throws Exception {\r\n        if (ok.es == false) { return false; }\r\n        try {\r\n            final Provider provider = Security.getProvider(BouncyCastleProvider.PROVIDER_NAME);\r\n            if (provider == null) {\r\n                return false;\r\n            }\r\n            if (provider.getClass().equals(org.bouncycastle.jce.provider.BouncyCastleProvider.class)) {\r\n                return false;\r\n            }\r\n            Security.removeProvider(BouncyCastleProvider.PROVIDER_NAME);\r\n//            org.bouncycastle.jce.provider.BouncyCastleProvider bouncyCastleProvider = new org.bouncycastle.jce.provider.BouncyCastleProvider();\r\n            org.spongycastle.jce.provider.BouncyCastleProvider bouncyCastleProvider = new org.spongycastle.jce.provider.BouncyCastleProvider();\r\n            Security.insertProviderAt(bouncyCastleProvider, 1);\r\n        } catch (Exception e) {\r\n            ok.setTxt(e);\r\n        }\r\n        return ok.es;\r\n    }\r\n\r\n```\r\nRegards\r\n\r\n","title":"Android Web3j create wallet turns out of memory and other problems with communications TLS (other similar questions did not helped me)","body":"<p>Finally... I still do not kwow why does not work... But I found a way to scape</p>\n<p>I change from <strong>WalletUtils.generateNewWalletFile</strong> to <strong>WalletUtils.generateLightNewWalletFile</strong> which returned after a very long time, with success...</p>\n<p>I do not know the consecuences of this change because web3j apidoc is not too good...</p>\n<p>I have more problems with Web3j library... Communications TLS cause trouble... After many tests, I found some librearies combinatios that worked:</p>\n<pre><code>dependencies {\n    ...\n    implementation 'org.web3j:core:4.9.8'\n    api 'com.madgag.spongycastle:pg:1.54.0.0'\n}\n</code></pre>\n<p>And defining the new Provider:</p>\n<pre><code>    public boolean setupBouncyCastle(oks ok, Object... extras_array) throws Exception {\n        if (ok.es == false) { return false; }\n        try {\n            final Provider provider = Security.getProvider(BouncyCastleProvider.PROVIDER_NAME);\n            if (provider == null) {\n                return false;\n            }\n            if (provider.getClass().equals(org.bouncycastle.jce.provider.BouncyCastleProvider.class)) {\n                return false;\n            }\n            Security.removeProvider(BouncyCastleProvider.PROVIDER_NAME);\n//            org.bouncycastle.jce.provider.BouncyCastleProvider bouncyCastleProvider = new org.bouncycastle.jce.provider.BouncyCastleProvider();\n            org.spongycastle.jce.provider.BouncyCastleProvider bouncyCastleProvider = new org.spongycastle.jce.provider.BouncyCastleProvider();\n            Security.insertProviderAt(bouncyCastleProvider, 1);\n        } catch (Exception e) {\n            ok.setTxt(e);\n        }\n        return ok.es;\n    }\n\n</code></pre>\n<p>Regards</p>\n"}],"owner":{"account_id":2715257,"reputation":23,"user_id":2342776,"display_name":"user2342776"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76546016,"answer_count":1,"score":0,"last_activity_date":1688040866,"creation_date":1687262308,"question_id":76514458,"body_markdown":"I have this project stopped because there is no way to solve the creating wallet step:\r\nhttps://github.com/EAG-es/crear_wallet_web3j\r\nMain code:\r\n\r\n    public class Create_wallet_web3j extends AppCompatActivity {\r\n    public static final int ID_REQUEST_PERMISSIONS_CODE_WRITE_STORAGE = 1;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_create_wallet);\r\n        try {\r\n            getWriteStoragePermission();\r\n            if (setupBouncyCastle()) {\r\n                create_wallet(&quot;12345&quot;, &quot;/android.ingui.create_wallet_web3j/assets/re&quot;);\r\n            }\r\n        } catch (Exception e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n    public boolean setupBouncyCastle() {\r\n        final Provider provider = Security.getProvider(BouncyCastleProvider.PROVIDER_NAME);\r\n        if (provider == null) {\r\n            // Web3j will set up the provider lazily when it&#39;s first used.\r\n            return false;\r\n        }\r\n        if (provider.getClass().equals(org.bouncycastle.jce.provider.BouncyCastleProvider.class)) {\r\n            return false;\r\n        }\r\n        Security.removeProvider(BouncyCastleProvider.PROVIDER_NAME);\r\n        org.bouncycastle.jce.provider.BouncyCastleProvider bouncyCastleProvider = new org.bouncycastle.jce.provider.BouncyCastleProvider();\r\n    //            org.spongycastle.jce.provider.BouncyCastleProvider bouncyCastleProvider = new org.spongycastle.jce.provider.BouncyCastleProvider();\r\n        Security.insertProviderAt(bouncyCastleProvider, 1);\r\n        return true;\r\n    }\r\n    public File create_wallet(String password, String path) throws Exception {\r\n        File result = null;\r\n        File extern_dir = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOCUMENTS);\r\n        File file = extern_dir;\r\n        String [] dirs_array = path.split(File.separator);\r\n        for (String dir: dirs_array) {\r\n            file = new File(file, dir);\r\n            if (file.exists() == false) {\r\n                if (file.mkdir() == false) {\r\n                    return null;\r\n                }\r\n            }\r\n        }\r\n        if (file.exists()) {\r\n            if (file.isDirectory()) {\r\n                String nombre_de_archivo = WalletUtils.generateNewWalletFile(password, file);\r\n                result = new File(file, nombre_de_archivo);\r\n            } else {\r\n                return null;\r\n            }\r\n        } else {\r\n            return null;\r\n        }\r\n        return result;\r\n    }\r\n    private Boolean getWriteStoragePermission() {\r\n        if (ActivityCompat.checkSelfPermission(this, WRITE_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED) {\r\n            String [] strings_array = {WRITE_EXTERNAL_STORAGE};\r\n            requestPermissions(strings_array, ID_REQUEST_PERMISSIONS_CODE_WRITE_STORAGE);\r\n        }\r\n        return true;\r\n    }\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, String[] permissions,\r\n                                           int[] grantResults) {\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n        boolean is_granted = false;\r\n        switch (requestCode) {\r\n        case ID_REQUEST_PERMISSIONS_CODE_WRITE_STORAGE:\r\n            if (grantResults.length &gt; 0) {\r\n                is_granted = true;\r\n                for (int result: grantResults) {\r\n                    if (result != PackageManager.PERMISSION_GRANTED) {\r\n                        is_granted = false;\r\n                    }\r\n                }\r\n            }\r\n            if (is_granted == false) {\r\n                throw new RuntimeException(&quot;Permission not Granted: &quot; + &quot;WRITE_EXTERNAL_STORAGE&quot;);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n\r\n    \r\nManifest:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;\r\n        android:maxSdkVersion=&quot;28&quot;\r\n        tools:ignore=&quot;ScopedStorage&quot; /&gt;\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n        android:icon=&quot;@mipmap/cripto_y_mas_icono_kw&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/cripto_y_mas_icono_kw&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.Crear_wallet_web3j&quot;\r\n        tools:targetApi=&quot;31&quot;&gt;\r\n        &lt;activity\r\n            android:configChanges=&quot;orientation|screenSize&quot;\r\n            android:name=&quot;.Create_wallet_web3j&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n&lt;/manifest&gt;\r\n\r\n\r\ngradle.build:\r\n\r\n    plugins {\r\n    id &#39;com.android.application&#39;\r\n    }\r\n\r\n    android {\r\n    namespace &#39;android.ingui.create_wallet_web3j&#39;\r\n    compileSdk 33\r\n\r\n    defaultConfig {\r\n        applicationId &quot;android.ingui.create_wallet_web3j&quot;\r\n        minSdk 26\r\n        targetSdk 33\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n    gradle.projectsEvaluated {\r\n        tasks.withType(JavaCompile) {\r\n            options.compilerArgs += [&#39;-Xlint:deprecation&#39;]\r\n        }\r\n    }\r\n    }\r\n\r\n\r\n    dependencies {\r\n\r\n    implementation &#39;androidx.appcompat:appcompat:1.6.1&#39;\r\n    implementation &#39;com.google.android.material:material:1.5.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.5&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.5.1&#39;\r\n    implementation &#39;org.web3j:core:4.8.7-android&#39;\r\n    //    api &#39;com.madgag.spongycastle:pg:1.54.0.0&#39;\r\n    }\r\n\r\nUsing:\r\n\r\n    Android Studio Flamingo | 2022.2.1 Patch 1\r\n    Build #AI-222.4459.24.2221.9971841, built on April 19, 2023\r\n    Runtime version: 17.0.6+0-17.0.6b802.4-9586694 amd64\r\n    VM: OpenJDK 64-Bit Server VM by JetBrains s.r.o.\r\n    Linux 5.15.0-72-generic\r\n    GC: G1 Young Generation, G1 Old Generation\r\n    Memory: 3072M\r\n    Cores: 4\r\n    Registry:\r\n    external.system.auto.import.disabled=true\r\n    ide.text.editor.with.preview.show.floating.toolbar=false\r\n    gradle.version.catalogs.dynamic.support=true\r\n    Current Desktop: XFCE\r\n\r\nOn:\r\n  Linux Mint XFCE\r\n\r\nMachine:\r\n  Type: Laptop System: Hewlett-Packard product: HP ProBook 430 G1\r\n\r\nCPU:\r\n  Info: dual core model: Intel Core i5-4200U bits: 64 type: MT MCP arch: Haswell rev: 1 cache:\r\n    L1: 128 KiB L2: 512 KiB L3: 3 MiB\r\n  Speed (MHz): avg: 2473 high: 2570 min/max: 800/2600 cores: 1: 2534 2: 2295 3: 2494 4: 2570\r\n    bogomips: 18358\r\n\r\nMemory: 10.99 GiB\r\n\r\nI have tried in many ways (threads, service, Increase heap to 8 Mb,...) so I must confess I am lost...\r\n\r\nThis is the Logcat I got in my last Try (one hour to get finnished):\r\n```\r\n2023-06-22 12:20:34.479  7769-7769  te_wallet_web3j         android.ingui.create_wallet_web3j    W  Got a deoptimization request on un-deoptimizable method java.lang.Object java.lang.reflect.Constructor.newInstance0(java.lang.Object[])\r\n2023-06-22 12:20:50.264  7769-7780  te_wallet_web3j         android.ingui.create_wallet_web3j    I  Background young concurrent copying GC freed 44745(2472KB) AllocSpace objects, 0(0B) LOS objects, 36% free, 4380KB/6914KB, paused 34us,12us total 156.755ms\r\n2023-06-22 12:50:27.564  7769-7780  te_wallet_web3j         android.ingui.create_wallet_web3j    I  Background concurrent copying GC freed 6(16KB) AllocSpace objects, 0(0B) LOS objects, 15% free, 128MB/152MB, paused 41us,11us total 118.052ms\r\n....\r\n2023-06-22 13:10:10.297  7769-7769  te_wallet_web3j         android.ingui.create_wallet_web3j    I  Waiting for a blocking GC Alloc\r\n2023-06-22 13:10:10.428  7769-7780  te_wallet_web3j         android.ingui.create_wallet_web3j    I  Clamp target GC heap from 215MB to 192MB\r\n2023-06-22 13:10:10.494  7769-7780  te_wallet_web3j         android.ingui.create_wallet_web3j    I  Background concurrent copying GC freed 6(144B) AllocSpace objects, 0(0B) LOS objects, 0% free, 191MB/192MB, paused 11.905ms,12us total 749.140ms\r\n2023-06-22 13:10:10.494  7769-7769  te_wallet_web3j         android.ingui.create_wallet_web3j    I  WaitForGcToComplete blocked Alloc on Background for 197.083ms\r\n2023-06-22 13:10:10.495  7769-7769  te_wallet_web3j         android.ingui.create_wallet_web3j    I  Starting a blocking GC Alloc\r\n2023-06-22 13:10:10.497  7769-7769  te_wallet_web3j         android.ingui.create_wallet_web3j    I  Forcing collection of SoftReferences for 128KB allocation\r\n2023-06-22 13:10:10.497  7769-7769  te_wallet_web3j         android.ingui.create_wallet_web3j    I  Starting a blocking GC Alloc\r\n2023-06-22 13:10:10.528  7769-7769  te_wallet_web3j         android.ingui.create_wallet_web3j    I  Clamp target GC heap from 215MB to 192MB\r\n2023-06-22 13:10:10.529  7769-7769  te_wallet_web3j         android.ingui.create_wallet_web3j    I  Alloc concurrent copying GC freed 196(8392B) AllocSpace objects, 0(0B) LOS objects, 0% free, 191MB/192MB, paused 37us,14us total 30.848ms\r\n2023-06-22 13:10:10.530  7769-7769  te_wallet_web3j         android.ingui.create_wallet_web3j    W  Throwing OutOfMemoryError &quot;Failed to allocate a 131084 byte allocation with 17000 free bytes and 16KB until OOM, target footprint 201326592, growth limit 201326592&quot; (VmSize 14098680 kB)\r\n2023-06-22 13:10:10.531  7769-7769  te_wallet_web3j         android.ingui.create_wallet_web3j    I  Starting a blocking GC Alloc\r\n2023-06-22 13:10:10.532  7769-7769  te_wallet_web3j         android.ingui.create_wallet_web3j    I  Starting a blocking GC Alloc\r\n2023-06-22 13:10:10.544  7769-7769  te_wallet_web3j         android.ingui.create_wallet_web3j    I  Alloc young concurrent copying GC freed 4(776B) AllocSpace objects, 0(0B) LOS objects, 0% free, 191MB/192MB, paused 55us,14us total 11.598ms\r\n2023-06-22 13:10:10.545  7769-7769  te_wallet_web3j         android.ingui.create_wallet_web3j    I  Forcing collection of SoftReferences for 128KB allocation\r\n2023-06-22 13:10:10.545  7769-7769  te_wallet_web3j         android.ingui.create_wallet_web3j    I  Starting a blocking GC Alloc\r\n....\r\n2023-06-22 13:10:32.127  7769-7780  te_wallet_web3j         android.ingui.create_wallet_web3j    I  Background young concurrent copying GC freed 0(0B) AllocSpace objects, 0(0B) LOS objects, 0% free, 191MB/192MB, paused 30us,10us total 364.225ms\r\n2023-06-22 13:10:32.676  7769-7780  te_wallet_web3j         android.ingui.create_wallet_web3j    I  Clamp target GC heap from 215MB to 192MB\r\n....\r\n2023-06-22 13:10:48.330  7769-7780  te_wallet_web3j         android.ingui.create_wallet_web3j    I  Background young concurrent copying GC freed 0(0B) AllocSpace objects, 0(0B) LOS objects, 0% free, 191MB/192MB, paused 55.978ms,9us total 623.327ms\r\n2023-06-22 13:10:48.689  7769-7780  te_wallet_web3j         android.ingui.create_wallet_web3j    I  Clamp target GC heap from 215MB to 192MB\r\n....\r\n2023-06-22 13:13:38.561  7769-7769  te_wallet_web3j         android.ingui.create_wallet_web3j    I  WaitForGcToComplete blocked Instrumentation on Background for 66.016ms\r\n2023-06-22 13:19:34.870  7769-7769  AndroidRuntime          android.ingui.create_wallet_web3j    D  Shutting down VM\r\n2023-06-22 13:19:34.904  7769-7769  te_wallet_web3j         android.ingui.create_wallet_web3j    I  Waiting for a blocking GC Alloc\r\n2023-06-22 13:19:34.939  7769-7769  te_wallet_web3j         android.ingui.create_wallet_web3j    I  WaitForGcToComplete blocked Alloc on Background for 34.873ms\r\n2023-06-22 13:19:34.940  7769-7769  te_wallet_web3j         android.ingui.create_wallet_web3j    I  Starting a blocking GC Alloc\r\n2023-06-22 13:19:34.966  7769-7769  AndroidRuntime          android.ingui.create_wallet_web3j    E  FATAL EXCEPTION: main\r\n                                                                                                    Process: android.ingui.create_wallet_web3j, PID: 7769\r\n                                                                                                    java.lang.OutOfMemoryError: Failed to allocate a 131088 byte allocation with 16800 free bytes and 16KB until OOM, target footprint 201326592, growth limit 201326592\r\n                                                                                                    \tat org.bouncycastle.crypto.generators.SCrypt.SMix(Unknown Source:46)\r\n                                                                                                    \tat org.bouncycastle.crypto.generators.SCrypt.MFcrypt(Unknown Source:37)\r\n                                                                                                    \tat org.bouncycastle.crypto.generators.SCrypt.generate(Unknown Source:44)\r\n                                                                                                    \tat org.web3j.crypto.Wallet.generateDerivedScryptKey(Wallet.java:145)\r\n                                                                                                    \tat org.web3j.crypto.Wallet.create(Wallet.java:80)\r\n                                                                                                    \tat org.web3j.crypto.Wallet.createStandard(Wallet.java:98)\r\n                                                                                                    \tat org.web3j.crypto.WalletUtils.generateWalletFile(WalletUtils.java:81)\r\n                                                                                                    \tat org.web3j.crypto.WalletUtils.generateNewWalletFile(WalletUtils.java:72)\r\n                                                                                                    \tat org.web3j.crypto.WalletUtils.generateFullNewWalletFile(WalletUtils.java:50)\r\n                                                                                                    \tat org.web3j.crypto.WalletUtils.generateNewWalletFile(WalletUtils.java:63)\r\n                                                                                                    \tat android.ingui.create_wallet_web3j.Create_wallet_web3j.create_wallet(Create_wallet_web3j.java:65)\r\n                                                                                                    \tat android.ingui.create_wallet_web3j.Create_wallet_web3j.onCreate(Create_wallet_web3j.java:29)\r\n                                                                                                    \tat android.app.Activity.performCreate(Activity.java:8305)\r\n                                                                                                    \tat android.app.Activity.performCreate(Activity.java:8284)\r\n                                                                                                    \tat android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1417)\r\n                                                                                                    \tat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3626)\r\n                                                                                                    \tat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3782)\r\n                                                                                                    \tat android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:101)\r\n                                                                                                    \tat android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\r\n                                                                                                    \tat android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\r\n                                                                                                    \tat android.app.ActivityThread$H.handleMessage(ActivityThread.java:2307)\r\n                                                                                                    \tat android.os.Handler.dispatchMessage(Handler.java:106)\r\n                                                                                                    \tat android.os.Looper.loopOnce(Looper.java:201)\r\n                                                                                                    \tat android.os.Looper.loop(Looper.java:288)\r\n                                                                                                    \tat android.app.ActivityThread.main(ActivityThread.java:7872)\r\n                                                                                                    \tat java.lang.reflect.Method.invoke(Native Method)\r\n                                                                                                    \tat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)\r\n                                                                                                    \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:936)\r\n\r\n```","title":"Android Web3j create wallet turns out of memory and other problems with communications TLS (other similar questions did not helped me)","body":"<p>I have this project stopped because there is no way to solve the creating wallet step:\n<a href=\"https://github.com/EAG-es/crear_wallet_web3j\" rel=\"nofollow noreferrer\">https://github.com/EAG-es/crear_wallet_web3j</a>\nMain code:</p>\n<pre><code>public class Create_wallet_web3j extends AppCompatActivity {\npublic static final int ID_REQUEST_PERMISSIONS_CODE_WRITE_STORAGE = 1;\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_create_wallet);\n    try {\n        getWriteStoragePermission();\n        if (setupBouncyCastle()) {\n            create_wallet(&quot;12345&quot;, &quot;/android.ingui.create_wallet_web3j/assets/re&quot;);\n        }\n    } catch (Exception e) {\n        throw new RuntimeException(e);\n    }\n}\npublic boolean setupBouncyCastle() {\n    final Provider provider = Security.getProvider(BouncyCastleProvider.PROVIDER_NAME);\n    if (provider == null) {\n        // Web3j will set up the provider lazily when it's first used.\n        return false;\n    }\n    if (provider.getClass().equals(org.bouncycastle.jce.provider.BouncyCastleProvider.class)) {\n        return false;\n    }\n    Security.removeProvider(BouncyCastleProvider.PROVIDER_NAME);\n    org.bouncycastle.jce.provider.BouncyCastleProvider bouncyCastleProvider = new org.bouncycastle.jce.provider.BouncyCastleProvider();\n//            org.spongycastle.jce.provider.BouncyCastleProvider bouncyCastleProvider = new org.spongycastle.jce.provider.BouncyCastleProvider();\n    Security.insertProviderAt(bouncyCastleProvider, 1);\n    return true;\n}\npublic File create_wallet(String password, String path) throws Exception {\n    File result = null;\n    File extern_dir = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOCUMENTS);\n    File file = extern_dir;\n    String [] dirs_array = path.split(File.separator);\n    for (String dir: dirs_array) {\n        file = new File(file, dir);\n        if (file.exists() == false) {\n            if (file.mkdir() == false) {\n                return null;\n            }\n        }\n    }\n    if (file.exists()) {\n        if (file.isDirectory()) {\n            String nombre_de_archivo = WalletUtils.generateNewWalletFile(password, file);\n            result = new File(file, nombre_de_archivo);\n        } else {\n            return null;\n        }\n    } else {\n        return null;\n    }\n    return result;\n}\nprivate Boolean getWriteStoragePermission() {\n    if (ActivityCompat.checkSelfPermission(this, WRITE_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED) {\n        String [] strings_array = {WRITE_EXTERNAL_STORAGE};\n        requestPermissions(strings_array, ID_REQUEST_PERMISSIONS_CODE_WRITE_STORAGE);\n    }\n    return true;\n}\n@Override\npublic void onRequestPermissionsResult(int requestCode, String[] permissions,\n                                       int[] grantResults) {\n    super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n    boolean is_granted = false;\n    switch (requestCode) {\n    case ID_REQUEST_PERMISSIONS_CODE_WRITE_STORAGE:\n        if (grantResults.length &gt; 0) {\n            is_granted = true;\n            for (int result: grantResults) {\n                if (result != PackageManager.PERMISSION_GRANTED) {\n                    is_granted = false;\n                }\n            }\n        }\n        if (is_granted == false) {\n            throw new RuntimeException(&quot;Permission not Granted: &quot; + &quot;WRITE_EXTERNAL_STORAGE&quot;);\n        }\n    }\n}\n</code></pre>\n<p>}</p>\n<p>Manifest:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;\n    android:maxSdkVersion=&quot;28&quot;\n    tools:ignore=&quot;ScopedStorage&quot; /&gt;\n&lt;application\n    android:allowBackup=&quot;true&quot;\n    android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n    android:fullBackupContent=&quot;@xml/backup_rules&quot;\n    android:icon=&quot;@mipmap/cripto_y_mas_icono_kw&quot;\n    android:label=&quot;@string/app_name&quot;\n    android:roundIcon=&quot;@mipmap/cripto_y_mas_icono_kw&quot;\n    android:supportsRtl=&quot;true&quot;\n    android:theme=&quot;@style/Theme.Crear_wallet_web3j&quot;\n    tools:targetApi=&quot;31&quot;&gt;\n    &lt;activity\n        android:configChanges=&quot;orientation|screenSize&quot;\n        android:name=&quot;.Create_wallet_web3j&quot;\n        android:exported=&quot;true&quot;&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n            &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n&lt;/application&gt;\n</code></pre>\n\n<p>gradle.build:</p>\n<pre><code>plugins {\nid 'com.android.application'\n}\n\nandroid {\nnamespace 'android.ingui.create_wallet_web3j'\ncompileSdk 33\n\ndefaultConfig {\n    applicationId &quot;android.ingui.create_wallet_web3j&quot;\n    minSdk 26\n    targetSdk 33\n    versionCode 1\n    versionName &quot;1.0&quot;\n\n    testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n}\n\nbuildTypes {\n    release {\n        minifyEnabled false\n        proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n    }\n}\ncompileOptions {\n    sourceCompatibility JavaVersion.VERSION_1_8\n    targetCompatibility JavaVersion.VERSION_1_8\n}\ngradle.projectsEvaluated {\n    tasks.withType(JavaCompile) {\n        options.compilerArgs += ['-Xlint:deprecation']\n    }\n}\n}\n\n\ndependencies {\n\nimplementation 'androidx.appcompat:appcompat:1.6.1'\nimplementation 'com.google.android.material:material:1.5.0'\nimplementation 'androidx.constraintlayout:constraintlayout:2.1.4'\ntestImplementation 'junit:junit:4.13.2'\nandroidTestImplementation 'androidx.test.ext:junit:1.1.5'\nandroidTestImplementation 'androidx.test.espresso:espresso-core:3.5.1'\nimplementation 'org.web3j:core:4.8.7-android'\n//    api 'com.madgag.spongycastle:pg:1.54.0.0'\n}\n</code></pre>\n<p>Using:</p>\n<pre><code>Android Studio Flamingo | 2022.2.1 Patch 1\nBuild #AI-222.4459.24.2221.9971841, built on April 19, 2023\nRuntime version: 17.0.6+0-17.0.6b802.4-9586694 amd64\nVM: OpenJDK 64-Bit Server VM by JetBrains s.r.o.\nLinux 5.15.0-72-generic\nGC: G1 Young Generation, G1 Old Generation\nMemory: 3072M\nCores: 4\nRegistry:\nexternal.system.auto.import.disabled=true\nide.text.editor.with.preview.show.floating.toolbar=false\ngradle.version.catalogs.dynamic.support=true\nCurrent Desktop: XFCE\n</code></pre>\n<p>On:\nLinux Mint XFCE</p>\n<p>Machine:\nType: Laptop System: Hewlett-Packard product: HP ProBook 430 G1</p>\n<p>CPU:\nInfo: dual core model: Intel Core i5-4200U bits: 64 type: MT MCP arch: Haswell rev: 1 cache:\nL1: 128 KiB L2: 512 KiB L3: 3 MiB\nSpeed (MHz): avg: 2473 high: 2570 min/max: 800/2600 cores: 1: 2534 2: 2295 3: 2494 4: 2570\nbogomips: 18358</p>\n<p>Memory: 10.99 GiB</p>\n<p>I have tried in many ways (threads, service, Increase heap to 8 Mb,...) so I must confess I am lost...</p>\n<p>This is the Logcat I got in my last Try (one hour to get finnished):</p>\n<pre><code>2023-06-22 12:20:34.479  7769-7769  te_wallet_web3j         android.ingui.create_wallet_web3j    W  Got a deoptimization request on un-deoptimizable method java.lang.Object java.lang.reflect.Constructor.newInstance0(java.lang.Object[])\n2023-06-22 12:20:50.264  7769-7780  te_wallet_web3j         android.ingui.create_wallet_web3j    I  Background young concurrent copying GC freed 44745(2472KB) AllocSpace objects, 0(0B) LOS objects, 36% free, 4380KB/6914KB, paused 34us,12us total 156.755ms\n2023-06-22 12:50:27.564  7769-7780  te_wallet_web3j         android.ingui.create_wallet_web3j    I  Background concurrent copying GC freed 6(16KB) AllocSpace objects, 0(0B) LOS objects, 15% free, 128MB/152MB, paused 41us,11us total 118.052ms\n....\n2023-06-22 13:10:10.297  7769-7769  te_wallet_web3j         android.ingui.create_wallet_web3j    I  Waiting for a blocking GC Alloc\n2023-06-22 13:10:10.428  7769-7780  te_wallet_web3j         android.ingui.create_wallet_web3j    I  Clamp target GC heap from 215MB to 192MB\n2023-06-22 13:10:10.494  7769-7780  te_wallet_web3j         android.ingui.create_wallet_web3j    I  Background concurrent copying GC freed 6(144B) AllocSpace objects, 0(0B) LOS objects, 0% free, 191MB/192MB, paused 11.905ms,12us total 749.140ms\n2023-06-22 13:10:10.494  7769-7769  te_wallet_web3j         android.ingui.create_wallet_web3j    I  WaitForGcToComplete blocked Alloc on Background for 197.083ms\n2023-06-22 13:10:10.495  7769-7769  te_wallet_web3j         android.ingui.create_wallet_web3j    I  Starting a blocking GC Alloc\n2023-06-22 13:10:10.497  7769-7769  te_wallet_web3j         android.ingui.create_wallet_web3j    I  Forcing collection of SoftReferences for 128KB allocation\n2023-06-22 13:10:10.497  7769-7769  te_wallet_web3j         android.ingui.create_wallet_web3j    I  Starting a blocking GC Alloc\n2023-06-22 13:10:10.528  7769-7769  te_wallet_web3j         android.ingui.create_wallet_web3j    I  Clamp target GC heap from 215MB to 192MB\n2023-06-22 13:10:10.529  7769-7769  te_wallet_web3j         android.ingui.create_wallet_web3j    I  Alloc concurrent copying GC freed 196(8392B) AllocSpace objects, 0(0B) LOS objects, 0% free, 191MB/192MB, paused 37us,14us total 30.848ms\n2023-06-22 13:10:10.530  7769-7769  te_wallet_web3j         android.ingui.create_wallet_web3j    W  Throwing OutOfMemoryError &quot;Failed to allocate a 131084 byte allocation with 17000 free bytes and 16KB until OOM, target footprint 201326592, growth limit 201326592&quot; (VmSize 14098680 kB)\n2023-06-22 13:10:10.531  7769-7769  te_wallet_web3j         android.ingui.create_wallet_web3j    I  Starting a blocking GC Alloc\n2023-06-22 13:10:10.532  7769-7769  te_wallet_web3j         android.ingui.create_wallet_web3j    I  Starting a blocking GC Alloc\n2023-06-22 13:10:10.544  7769-7769  te_wallet_web3j         android.ingui.create_wallet_web3j    I  Alloc young concurrent copying GC freed 4(776B) AllocSpace objects, 0(0B) LOS objects, 0% free, 191MB/192MB, paused 55us,14us total 11.598ms\n2023-06-22 13:10:10.545  7769-7769  te_wallet_web3j         android.ingui.create_wallet_web3j    I  Forcing collection of SoftReferences for 128KB allocation\n2023-06-22 13:10:10.545  7769-7769  te_wallet_web3j         android.ingui.create_wallet_web3j    I  Starting a blocking GC Alloc\n....\n2023-06-22 13:10:32.127  7769-7780  te_wallet_web3j         android.ingui.create_wallet_web3j    I  Background young concurrent copying GC freed 0(0B) AllocSpace objects, 0(0B) LOS objects, 0% free, 191MB/192MB, paused 30us,10us total 364.225ms\n2023-06-22 13:10:32.676  7769-7780  te_wallet_web3j         android.ingui.create_wallet_web3j    I  Clamp target GC heap from 215MB to 192MB\n....\n2023-06-22 13:10:48.330  7769-7780  te_wallet_web3j         android.ingui.create_wallet_web3j    I  Background young concurrent copying GC freed 0(0B) AllocSpace objects, 0(0B) LOS objects, 0% free, 191MB/192MB, paused 55.978ms,9us total 623.327ms\n2023-06-22 13:10:48.689  7769-7780  te_wallet_web3j         android.ingui.create_wallet_web3j    I  Clamp target GC heap from 215MB to 192MB\n....\n2023-06-22 13:13:38.561  7769-7769  te_wallet_web3j         android.ingui.create_wallet_web3j    I  WaitForGcToComplete blocked Instrumentation on Background for 66.016ms\n2023-06-22 13:19:34.870  7769-7769  AndroidRuntime          android.ingui.create_wallet_web3j    D  Shutting down VM\n2023-06-22 13:19:34.904  7769-7769  te_wallet_web3j         android.ingui.create_wallet_web3j    I  Waiting for a blocking GC Alloc\n2023-06-22 13:19:34.939  7769-7769  te_wallet_web3j         android.ingui.create_wallet_web3j    I  WaitForGcToComplete blocked Alloc on Background for 34.873ms\n2023-06-22 13:19:34.940  7769-7769  te_wallet_web3j         android.ingui.create_wallet_web3j    I  Starting a blocking GC Alloc\n2023-06-22 13:19:34.966  7769-7769  AndroidRuntime          android.ingui.create_wallet_web3j    E  FATAL EXCEPTION: main\n                                                                                                    Process: android.ingui.create_wallet_web3j, PID: 7769\n                                                                                                    java.lang.OutOfMemoryError: Failed to allocate a 131088 byte allocation with 16800 free bytes and 16KB until OOM, target footprint 201326592, growth limit 201326592\n                                                                                                        at org.bouncycastle.crypto.generators.SCrypt.SMix(Unknown Source:46)\n                                                                                                        at org.bouncycastle.crypto.generators.SCrypt.MFcrypt(Unknown Source:37)\n                                                                                                        at org.bouncycastle.crypto.generators.SCrypt.generate(Unknown Source:44)\n                                                                                                        at org.web3j.crypto.Wallet.generateDerivedScryptKey(Wallet.java:145)\n                                                                                                        at org.web3j.crypto.Wallet.create(Wallet.java:80)\n                                                                                                        at org.web3j.crypto.Wallet.createStandard(Wallet.java:98)\n                                                                                                        at org.web3j.crypto.WalletUtils.generateWalletFile(WalletUtils.java:81)\n                                                                                                        at org.web3j.crypto.WalletUtils.generateNewWalletFile(WalletUtils.java:72)\n                                                                                                        at org.web3j.crypto.WalletUtils.generateFullNewWalletFile(WalletUtils.java:50)\n                                                                                                        at org.web3j.crypto.WalletUtils.generateNewWalletFile(WalletUtils.java:63)\n                                                                                                        at android.ingui.create_wallet_web3j.Create_wallet_web3j.create_wallet(Create_wallet_web3j.java:65)\n                                                                                                        at android.ingui.create_wallet_web3j.Create_wallet_web3j.onCreate(Create_wallet_web3j.java:29)\n                                                                                                        at android.app.Activity.performCreate(Activity.java:8305)\n                                                                                                        at android.app.Activity.performCreate(Activity.java:8284)\n                                                                                                        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1417)\n                                                                                                        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3626)\n                                                                                                        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3782)\n                                                                                                        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:101)\n                                                                                                        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\n                                                                                                        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\n                                                                                                        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2307)\n                                                                                                        at android.os.Handler.dispatchMessage(Handler.java:106)\n                                                                                                        at android.os.Looper.loopOnce(Looper.java:201)\n                                                                                                        at android.os.Looper.loop(Looper.java:288)\n                                                                                                        at android.app.ActivityThread.main(ActivityThread.java:7872)\n                                                                                                        at java.lang.reflect.Method.invoke(Native Method)\n                                                                                                        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)\n                                                                                                        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:936)\n\n</code></pre>\n"},{"tags":["java","swing","apache-poi"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":1,"creation_date":1687990389,"post_id":76574800,"comment_id":135015644,"body_markdown":"You create and show the `JFrame` and write the workbook to a file before the user can even read what&#39;s on the screen, much less respond.  Oracle has a helpful tutorial, [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/index.html).  Skip the Learning Swing with the NetBeans IDE section.  Take your time studying the tutorial.","body":"You create and show the <code>JFrame</code> and write the workbook to a file before the user can even read what&#39;s on the screen, much less respond.  Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Learning Swing with the NetBeans IDE section.  Take your time studying the tutorial."},{"owner":{"account_id":28595299,"reputation":1,"user_id":22129328,"display_name":"Apoorv"},"score":0,"creation_date":1688023303,"post_id":76574800,"comment_id":135018639,"body_markdown":"@GilbertLeBlanc I do understand how to create and work  with swing. My issue is when I take a user input  via getText(); I dont get the desired output . The workbook name is set as null cause the static string generated is null.","body":"@GilbertLeBlanc I do understand how to create and work  with swing. My issue is when I take a user input  via getText(); I dont get the desired output . The workbook name is set as null cause the static string generated is null."},{"owner":{"account_id":28595299,"reputation":1,"user_id":22129328,"display_name":"Apoorv"},"score":0,"creation_date":1688026844,"post_id":76574800,"comment_id":135019371,"body_markdown":"I got the answer to my question instead of creating a new global variable i should have made a new form in the void actionPerformed  method.","body":"I got the answer to my question instead of creating a new global variable i should have made a new form in the void actionPerformed  method."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1688040845,"post_id":76574800,"comment_id":135022140,"body_markdown":"Construct and manipulate Swing GUI objects _only_ on the [event dispatch thread](https://docs.oracle.com/javase/tutorial/uiswing/concurrency/initial.html).","body":"Construct and manipulate Swing GUI objects <i>only</i> on the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/initial.html\" rel=\"nofollow noreferrer\">event dispatch thread</a>."}],"answers":[{"tags":[],"owner":{"account_id":28595299,"reputation":1,"user_id":22129328,"display_name":"Apoorv"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688040639,"creation_date":1688027463,"answer_id":76579335,"question_id":76574800,"body_markdown":"I got the answer to my question: instead of creating a new global variable I should have made a new form in the `actionPerformed` method.\t\r\n```java\r\nmainbutton.setText(&quot;SUBMIT&quot;);\r\nmainbutton.setPreferredSize(new Dimension(100,25));\r\nmaintext.setPreferredSize(new Dimension(100,25));\r\nmainbutton.addActionListener(new ActionListener() {\r\n    public void actionPerformed(ActionEvent e) {\r\n        if (e.getSource() == mainbutton) {\r\n            try {\r\n                XSSFWorkbook workbook = new XSSFWorkbook();\r\n                Sheet sheet = workbook.createSheet(&quot;Data&quot;);\r\n                FileOutputStream fileOutputStream = new FileOutputStream(&quot;.\\\\documents\\\\&quot;+maintext.getText() + &quot;.xlsx&quot;);\r\n                workbook.write(fileOutputStream);\r\n                fileOutputStream.close();\r\n                System.out.println(&quot;Workbook saved to file: &quot; + maintext + &quot;.xlsx&quot;);\r\n                maintext.setEditable(false);\r\n                mainbutton.setEnabled(false);\r\n            } catch (IOException ex) {\r\n                ex.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n});\r\n\r\n//adding stuff to the main frame\t\r\nmainframe.add(mainlabelheading,BorderLayout.NORTH);\r\nmainframe.add(mainlabelheading2,BorderLayout.CENTER);\r\nmainframe.add(mainlabelheadingempty,BorderLayout.SOUTH);\r\ngbc.gridx=0;\r\ngbc.gridy=0;\r\nmainlabelheading2.add(mainlabelheading2sublabel1,gbc);\r\ngbc.gridx=2;\r\ngbc.gridy=0;\r\nmainlabelheading2.add(mainbutton,gbc);\r\ngbc.gridx=1;\r\ngbc.gridy=0;\r\nmainlabelheading2.add(maintext,gbc);\r\n``` \r\nDid play with the code and found out I was referencing a non static variable from a static method. When I changed the global variable to static it was creating null `.xlsx` files. Then used ChatGPT and stackoverflow to find the answer for my solutions.\r\n","title":"How can i make a workbook in java which accepts dynamic values of string in java?","body":"<p>I got the answer to my question: instead of creating a new global variable I should have made a new form in the <code>actionPerformed</code> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>mainbutton.setText(&quot;SUBMIT&quot;);\nmainbutton.setPreferredSize(new Dimension(100,25));\nmaintext.setPreferredSize(new Dimension(100,25));\nmainbutton.addActionListener(new ActionListener() {\n    public void actionPerformed(ActionEvent e) {\n        if (e.getSource() == mainbutton) {\n            try {\n                XSSFWorkbook workbook = new XSSFWorkbook();\n                Sheet sheet = workbook.createSheet(&quot;Data&quot;);\n                FileOutputStream fileOutputStream = new FileOutputStream(&quot;.\\\\documents\\\\&quot;+maintext.getText() + &quot;.xlsx&quot;);\n                workbook.write(fileOutputStream);\n                fileOutputStream.close();\n                System.out.println(&quot;Workbook saved to file: &quot; + maintext + &quot;.xlsx&quot;);\n                maintext.setEditable(false);\n                mainbutton.setEnabled(false);\n            } catch (IOException ex) {\n                ex.printStackTrace();\n            }\n        }\n    }\n});\n\n//adding stuff to the main frame    \nmainframe.add(mainlabelheading,BorderLayout.NORTH);\nmainframe.add(mainlabelheading2,BorderLayout.CENTER);\nmainframe.add(mainlabelheadingempty,BorderLayout.SOUTH);\ngbc.gridx=0;\ngbc.gridy=0;\nmainlabelheading2.add(mainlabelheading2sublabel1,gbc);\ngbc.gridx=2;\ngbc.gridy=0;\nmainlabelheading2.add(mainbutton,gbc);\ngbc.gridx=1;\ngbc.gridy=0;\nmainlabelheading2.add(maintext,gbc);\n</code></pre>\n<p>Did play with the code and found out I was referencing a non static variable from a static method. When I changed the global variable to static it was creating null <code>.xlsx</code> files. Then used ChatGPT and stackoverflow to find the answer for my solutions.</p>\n"}],"owner":{"account_id":28595299,"reputation":1,"user_id":22129328,"display_name":"Apoorv"},"comment_count":4,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1688040943,"accepted_answer_id":76579335,"answer_count":1,"score":-3,"last_activity_date":1688040639,"creation_date":1687967329,"question_id":76574800,"body_markdown":"Its a simple program where i have a text field and i get user input .\r\ni store it in a global variable and create a function to get the file path for the workbook.\r\nhowever i am made to change it to static and all my files created are named null.\r\ni am using eclipse IDE and apache poi version. 5.0.0.\r\n\r\n```\r\n// imported files\r\npublic class MyFrame extends JFrame implements ActionListener{\r\n\tString name;\r\n\tJButton button;\r\n\tJTextField textField;\r\n\tString workbook1() {\r\n\t\t\r\n\t\tString name1=&quot;D:\\\\&quot;+name+&quot;.xlsx&quot;;\r\n\t\treturn name1;\r\n\t\t}\r\n\t\r\n\tMyFrame(){\r\n\t\tthis.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tthis.setLayout(new FlowLayout());\r\n\t\t\r\n\t\tbutton = new JButton(&quot;Submit&quot;);\r\n\t\tbutton.addActionListener(this);\r\n\t\t\r\n\t\ttextField = new JTextField();\r\n\t\ttextField.setPreferredSize(new Dimension(250,40));\r\n\t\ttextField.setFont(new Font(&quot;Consolas&quot;,Font.PLAIN,35));\r\n\t\ttextField.setForeground(new Color(0x00FF00));\r\n\t\ttextField.setBackground(Color.black);\r\n\t\ttextField.setCaretColor(Color.white);\r\n\t\ttextField.setText(&quot;username&quot;);\r\n\t\t\r\n\t\t\r\n\t\tthis.add(button);\r\n\t\tthis.add(textField);\r\n\t\tthis.pack();\r\n\t\tthis.setVisible(true);\r\n\t}\r\n\t@Override\r\n\tpublic void actionPerformed(ActionEvent e) {\r\n\t\tif(e.getSource()==button) {\r\n\t\t\tSystem.out.println(&quot;Welcome &quot;+ textField.getText());\r\n\t\t\t name=textField.getText();\r\n\t\t\t//button.setEnabled(false);\r\n\t\t\t//textField.setEditable(false);\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic static void main(String args[]) throws IOException {\r\n\t\r\n\t\t\r\n\t\tnew MyFrame();\r\n\t\tWorkbook wb = new XSSFWorkbook();\r\n\t\tSheet sheet1 = wb.createSheet(&quot;Ripon&quot;);\r\n\t\tFileOutputStream fileOut = new FileOutputStream(workbook1());\r\n\t\twb.write(fileOut);\r\n\t\tfileOut.close();\r\n\t\twb.close();\r\n\t}\r\n\t\r\n}\r\n```\r\n\r\n*I am just a beginner and any help is appreciated. The code is stolen from BroCode and Stack overflow*\r\n\r\nI am trying to create a java application where i can enter details into different columns and rows to create a kind of bill.\r\nI watch tutorial and customize it to my need.\r\n ","title":"How can i make a workbook in java which accepts dynamic values of string in java?","body":"<p>Its a simple program where i have a text field and i get user input .\ni store it in a global variable and create a function to get the file path for the workbook.\nhowever i am made to change it to static and all my files created are named null.\ni am using eclipse IDE and apache poi version. 5.0.0.</p>\n<pre><code>// imported files\npublic class MyFrame extends JFrame implements ActionListener{\n    String name;\n    JButton button;\n    JTextField textField;\n    String workbook1() {\n        \n        String name1=&quot;D:\\\\&quot;+name+&quot;.xlsx&quot;;\n        return name1;\n        }\n    \n    MyFrame(){\n        this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        this.setLayout(new FlowLayout());\n        \n        button = new JButton(&quot;Submit&quot;);\n        button.addActionListener(this);\n        \n        textField = new JTextField();\n        textField.setPreferredSize(new Dimension(250,40));\n        textField.setFont(new Font(&quot;Consolas&quot;,Font.PLAIN,35));\n        textField.setForeground(new Color(0x00FF00));\n        textField.setBackground(Color.black);\n        textField.setCaretColor(Color.white);\n        textField.setText(&quot;username&quot;);\n        \n        \n        this.add(button);\n        this.add(textField);\n        this.pack();\n        this.setVisible(true);\n    }\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        if(e.getSource()==button) {\n            System.out.println(&quot;Welcome &quot;+ textField.getText());\n             name=textField.getText();\n            //button.setEnabled(false);\n            //textField.setEditable(false);\n        }\n        \n    }\n    \n    public static void main(String args[]) throws IOException {\n    \n        \n        new MyFrame();\n        Workbook wb = new XSSFWorkbook();\n        Sheet sheet1 = wb.createSheet(&quot;Ripon&quot;);\n        FileOutputStream fileOut = new FileOutputStream(workbook1());\n        wb.write(fileOut);\n        fileOut.close();\n        wb.close();\n    }\n    \n}\n</code></pre>\n<p><em>I am just a beginner and any help is appreciated. The code is stolen from BroCode and Stack overflow</em></p>\n<p>I am trying to create a java application where i can enter details into different columns and rows to create a kind of bill.\nI watch tutorial and customize it to my need.</p>\n"},{"tags":["java","sql","database","oracle","dbunit"],"answers":[{"tags":[],"owner":{"account_id":4454,"reputation":7238,"user_id":6703,"accept_rate":100,"display_name":"Adam Hawkes"},"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1528386352,"creation_date":1334154969,"answer_id":10108123,"question_id":10103629,"body_markdown":"From the [docs][1]:\r\n\r\n&gt; `public class AmbiguousTableNameException extends DataSetException`\r\n&gt; \r\n&gt; This exception is thrown by `IDataSet` when multiple tables having the\r\n&gt; same name are accessible. This usually occurs when the database\r\n&gt; connection have access to multiple schemas containing identical table\r\n&gt; names. \r\n&gt; \r\n&gt; Possible solutions:\r\n&gt; \r\n&gt; 1) Use a database connection credential that has\r\n&gt; access to only one database schema.\r\n&gt;\r\n&gt; 2) Specify a schema name to the\r\n&gt; `DatabaseConnection` or `DatabaseDataSourceConnection` constructor.\r\n&gt;\r\n&gt; 3) Enable the qualified table name support (see How-to documentation).\r\n\r\n \r\n\r\n\r\n  [1]: http://www.dbunit.org/apidocs/org/dbunit/database/AmbiguousTableNameException.html","title":"Oracle + dbunit gets AmbiguousTableNameException","body":"<p>From the <a href=\"http://www.dbunit.org/apidocs/org/dbunit/database/AmbiguousTableNameException.html\" rel=\"noreferrer\">docs</a>:</p>\n\n<blockquote>\n  <p><code>public class AmbiguousTableNameException extends DataSetException</code></p>\n  \n  <p>This exception is thrown by <code>IDataSet</code> when multiple tables having the\n  same name are accessible. This usually occurs when the database\n  connection have access to multiple schemas containing identical table\n  names. </p>\n  \n  <p>Possible solutions:</p>\n  \n  <p>1) Use a database connection credential that has\n  access to only one database schema.</p>\n  \n  <p>2) Specify a schema name to the\n  <code>DatabaseConnection</code> or <code>DatabaseDataSourceConnection</code> constructor.</p>\n  \n  <p>3) Enable the qualified table name support (see How-to documentation).</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2213130,"reputation":129,"user_id":1954412,"accept_rate":45,"display_name":"Esca Tran"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1407017562,"creation_date":1407017562,"answer_id":25099874,"question_id":10103629,"body_markdown":"For whom uses SpringDBUnit. I had struggled with this very annoying issue. I had ended up solving the issue by adding the configuration for `com.github.springtestdbunit.bean.DatabaseConfigBean` and `com.github.springtestdbunit.bean.DatabaseDataSourceConnectionFactoryBean`.\r\n\r\nThis is my full spring context for SpringDBUnit\r\n\r\n    &lt;bean id=&quot;dataSource&quot; class=&quot;org.apache.commons.dbcp.BasicDataSource&quot;\r\n    \t\tdestroy-method=&quot;close&quot;&gt;\r\n    \t\t&lt;property name=&quot;driverClassName&quot; value=&quot;oracle.jdbc.driver.OracleDriver&quot; /&gt;\r\n    \t\t&lt;property name=&quot;url&quot; value=&quot;jdbc:oracle:thin:@localhost:1521/XE&quot; /&gt;\r\n    \t\t&lt;property name=&quot;username&quot; value=&quot;xxxx&quot; /&gt;\r\n    \t\t&lt;property name=&quot;password&quot; value=&quot;xxxx&quot; /&gt;\r\n    \t&lt;/bean&gt;\r\n    \r\n    \r\n    \t&lt;bean id=&quot;sessionFactory&quot;\r\n    \t\tclass=&quot;org.springframework.orm.hibernate3.annotation.AnnotationSessionFactoryBean&quot;&gt;\r\n    \t\t&lt;property name=&quot;dataSource&quot;&gt;\r\n    \t\t\t&lt;ref bean=&quot;dataSource&quot; /&gt;\r\n    \t\t&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;hibernateProperties&quot;&gt;\r\n    \t\t\t&lt;props&gt;\r\n    \t\t\t\t&lt;prop key=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.OracleDialect&lt;/prop&gt;\r\n    \t\t\t\t&lt;prop key=&quot;hibernate.show_sql&quot;&gt;true&lt;/prop&gt;\r\n    \t\t\t&lt;/props&gt;\r\n    \t\t&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;annotatedClasses&quot;&gt;\r\n    \t\t\t&lt;list&gt;\r\n    \t\t\t\t&lt;value&gt;xxx.example.domain.Person&lt;/value&gt;\r\n    \t\t\t&lt;/list&gt;\r\n    \t\t&lt;/property&gt;\r\n    \t&lt;/bean&gt;\r\n    \r\n    \t&lt;bean id=&quot;dbUnitDatabaseConfig&quot; class=&quot;com.github.springtestdbunit.bean.DatabaseConfigBean&quot;&gt;\r\n    \t\t&lt;property name=&quot;skipOracleRecyclebinTables&quot; value=&quot;true&quot; /&gt;\r\n    \t\t&lt;property name=&quot;qualifiedTableNames&quot; value=&quot;true&quot; /&gt;\r\n    \t\t&lt;!-- &lt;property name=&quot;caseSensitiveTableNames&quot; value=&quot;true&quot;/&gt; --&gt;\r\n    \t&lt;/bean&gt;\r\n    \t&lt;bean id=&quot;dbUnitDatabaseConnection&quot;\r\n    \t\tclass=&quot;com.github.springtestdbunit.bean.DatabaseDataSourceConnectionFactoryBean&quot;&gt;\r\n    \t\t&lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;/&gt;\r\n    \t\t&lt;property name=&quot;databaseConfig&quot; ref=&quot;dbUnitDatabaseConfig&quot; /&gt;\r\n    \t\t&lt;property name=&quot;schema&quot; value=&quot;&lt;your_schema_name&gt;&quot;/&gt;\r\n    \t&lt;/bean&gt;","title":"Oracle + dbunit gets AmbiguousTableNameException","body":"<p>For whom uses SpringDBUnit. I had struggled with this very annoying issue. I had ended up solving the issue by adding the configuration for <code>com.github.springtestdbunit.bean.DatabaseConfigBean</code> and <code>com.github.springtestdbunit.bean.DatabaseDataSourceConnectionFactoryBean</code>.</p>\n\n<p>This is my full spring context for SpringDBUnit</p>\n\n<pre><code>&lt;bean id=\"dataSource\" class=\"org.apache.commons.dbcp.BasicDataSource\"\n        destroy-method=\"close\"&gt;\n        &lt;property name=\"driverClassName\" value=\"oracle.jdbc.driver.OracleDriver\" /&gt;\n        &lt;property name=\"url\" value=\"jdbc:oracle:thin:@localhost:1521/XE\" /&gt;\n        &lt;property name=\"username\" value=\"xxxx\" /&gt;\n        &lt;property name=\"password\" value=\"xxxx\" /&gt;\n    &lt;/bean&gt;\n\n\n    &lt;bean id=\"sessionFactory\"\n        class=\"org.springframework.orm.hibernate3.annotation.AnnotationSessionFactoryBean\"&gt;\n        &lt;property name=\"dataSource\"&gt;\n            &lt;ref bean=\"dataSource\" /&gt;\n        &lt;/property&gt;\n        &lt;property name=\"hibernateProperties\"&gt;\n            &lt;props&gt;\n                &lt;prop key=\"hibernate.dialect\"&gt;org.hibernate.dialect.OracleDialect&lt;/prop&gt;\n                &lt;prop key=\"hibernate.show_sql\"&gt;true&lt;/prop&gt;\n            &lt;/props&gt;\n        &lt;/property&gt;\n        &lt;property name=\"annotatedClasses\"&gt;\n            &lt;list&gt;\n                &lt;value&gt;xxx.example.domain.Person&lt;/value&gt;\n            &lt;/list&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=\"dbUnitDatabaseConfig\" class=\"com.github.springtestdbunit.bean.DatabaseConfigBean\"&gt;\n        &lt;property name=\"skipOracleRecyclebinTables\" value=\"true\" /&gt;\n        &lt;property name=\"qualifiedTableNames\" value=\"true\" /&gt;\n        &lt;!-- &lt;property name=\"caseSensitiveTableNames\" value=\"true\"/&gt; --&gt;\n    &lt;/bean&gt;\n    &lt;bean id=\"dbUnitDatabaseConnection\"\n        class=\"com.github.springtestdbunit.bean.DatabaseDataSourceConnectionFactoryBean\"&gt;\n        &lt;property name=\"dataSource\" ref=\"dataSource\"/&gt;\n        &lt;property name=\"databaseConfig\" ref=\"dbUnitDatabaseConfig\" /&gt;\n        &lt;property name=\"schema\" value=\"&lt;your_schema_name&gt;\"/&gt;\n    &lt;/bean&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6132022,"reputation":65,"user_id":4781917,"accept_rate":50,"display_name":"Smitha Nair"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1430129310,"creation_date":1430129310,"answer_id":29892786,"question_id":10103629,"body_markdown":"\r\n\r\nI had the same AmbiguousTableNameException while executing Dbunits aginst Oracle DB. It was working fine and started throwing error one day.\r\n\r\nRootcause: while calling a stored procedure, it got modified by mistake to lower case. When changed to upper case it stared working.\r\n\r\nI could solve this also by setting the shema name to IDatabaseTester like iDatabaseTester.setSchema(&quot;SCHEMANAMEINCAPS&quot;)\r\n\r\nAlso please make sure your connection doesn&#39;t access only to  many schemas having same table name.","title":"Oracle + dbunit gets AmbiguousTableNameException","body":"<p>I had the same AmbiguousTableNameException while executing Dbunits aginst Oracle DB. It was working fine and started throwing error one day.</p>\n\n<p>Rootcause: while calling a stored procedure, it got modified by mistake to lower case. When changed to upper case it stared working.</p>\n\n<p>I could solve this also by setting the shema name to IDatabaseTester like iDatabaseTester.setSchema(\"SCHEMANAMEINCAPS\")</p>\n\n<p>Also please make sure your connection doesn't access only to  many schemas having same table name.</p>\n"},{"tags":[],"owner":{"account_id":1014074,"reputation":594,"user_id":1026044,"display_name":"knutesten"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1474367813,"creation_date":1474367813,"answer_id":39591925,"question_id":10103629,"body_markdown":"Setting the database schema fixed it for me:\r\n\r\n    @Bean\r\n    public DatabaseDataSourceConnectionFactoryBean dbUnitDatabaseConnection(final DataSource dataSource){\r\n        final DatabaseDataSourceConnectionFactoryBean connectionFactory = new DatabaseDataSourceConnectionFactoryBean();\r\n        connectionFactory.setDataSource(dataSource);\r\n        connectionFactory.setSchema(DB_SCHEMA);\r\n        return connectionFactory;\r\n    }","title":"Oracle + dbunit gets AmbiguousTableNameException","body":"<p>Setting the database schema fixed it for me:</p>\n\n<pre><code>@Bean\npublic DatabaseDataSourceConnectionFactoryBean dbUnitDatabaseConnection(final DataSource dataSource){\n    final DatabaseDataSourceConnectionFactoryBean connectionFactory = new DatabaseDataSourceConnectionFactoryBean();\n    connectionFactory.setDataSource(dataSource);\n    connectionFactory.setSchema(DB_SCHEMA);\n    return connectionFactory;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1138777,"reputation":2445,"user_id":1123252,"accept_rate":71,"display_name":"Paul Podgorsek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1481973164,"creation_date":1481973164,"answer_id":41197964,"question_id":10103629,"body_markdown":"You might encounter issues when importing data from Hibernate before DBUnit runs. According to the database you are using, the casing of table and column names could be important.\r\n\r\nFor example, in HSQL, database names must be declared in uppercase.\r\nIn case you import data via Hibernate&#39;s import.sql, make sure the table names are also in uppercase there, otherwise you&#39;ll end up with the following problem:\r\n\r\n  - Hibernate creates the tables in lower case\r\n  - DBUnit reads the table names from the DB in lower case\r\n  - DBUnit tries to import its datasets using upper case table names\r\n  - You end up in a mess, with the ambiguous name exception.\r\n\r\nRemember to also check whether multiple tables were created during a previous run (both upper and lower case), in which case you need to clean it up too.\r\n","title":"Oracle + dbunit gets AmbiguousTableNameException","body":"<p>You might encounter issues when importing data from Hibernate before DBUnit runs. According to the database you are using, the casing of table and column names could be important.</p>\n\n<p>For example, in HSQL, database names must be declared in uppercase.\nIn case you import data via Hibernate's import.sql, make sure the table names are also in uppercase there, otherwise you'll end up with the following problem:</p>\n\n<ul>\n<li>Hibernate creates the tables in lower case</li>\n<li>DBUnit reads the table names from the DB in lower case</li>\n<li>DBUnit tries to import its datasets using upper case table names</li>\n<li>You end up in a mess, with the ambiguous name exception.</li>\n</ul>\n\n<p>Remember to also check whether multiple tables were created during a previous run (both upper and lower case), in which case you need to clean it up too.</p>\n"},{"tags":[],"owner":{"account_id":24156977,"reputation":1,"user_id":18121098,"display_name":"Antony-K"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688040569,"creation_date":1688040119,"answer_id":76580866,"question_id":10103629,"body_markdown":"For me with Oracle worked simple creation schema with some priveleges instead ALL or DBA. Dbunit stopped conflicting with tables from other schemas.\r\n\r\n    GRANT CREATE SESSION, CONNECT, RECOURCE TO testdb IDENTIFIED BY testdb;","title":"Oracle + dbunit gets AmbiguousTableNameException","body":"<p>For me with Oracle worked simple creation schema with some priveleges instead ALL or DBA. Dbunit stopped conflicting with tables from other schemas.</p>\n<pre><code>GRANT CREATE SESSION, CONNECT, RECOURCE TO testdb IDENTIFIED BY testdb;\n</code></pre>\n"}],"owner":{"account_id":955655,"reputation":669,"user_id":981009,"accept_rate":80,"display_name":"Josep Rodr&#237;guez L&#243;pez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15212,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":10108123,"answer_count":6,"score":10,"last_activity_date":1688040569,"creation_date":1334138009,"question_id":10103629,"body_markdown":"I am using dbunit to create database backups, which can be imported and exported. My application can use several database engines: MySQL, PostgreSQL, SQLServer, H2 and Oracle.\r\n\r\nAll of the above work fine with the following code:\r\n\r\n    \t\t\t// Connect to the database \r\n\t\t\tconn =BackupManager.getInstance().getConnection();\r\n\t\t\tIDatabaseConnection connection = new DatabaseConnection(conn);\r\n\t\t\tInputSource xmlSource = new InputSource(new FileInputStream(new File(nameXML)));\r\n\t\t\tFlatXmlProducer flatXmlProducer = new FlatXmlProducer(xmlSource);\r\n\t\t\tflatXmlProducer.setColumnSensing(true);\r\n\t\t\t\r\n\t\t\tDatabaseOperation.CLEAN_INSERT.execute(connection,new FlatXmlDataSet(flatXmlProducer));  \r\n\r\nBut on Oracle I get this exception:\r\n\r\n    \r\n    \r\n    !ENTRY es.giro.girlabel.backup 1 0 2012-04-11 11:51:40.542\r\n    !MESSAGE Start import backup\r\n    org.dbunit.database.AmbiguousTableNameException: AQ$_SCHEDULES\r\n    \tat org.dbunit.dataset.OrderedTableNameMap.add(OrderedTableNameMap.java:198)\r\n    \tat org.dbunit.database.DatabaseDataSet.initialize(DatabaseDataSet.java:231)\r\n    \tat org.dbunit.database.DatabaseDataSet.getTableMetaData(DatabaseDataSet.java:281)\r\n    \tat org.dbunit.operation.DeleteAllOperation.execute(DeleteAllOperation.java:109)\r\n    \tat org.dbunit.operation.CompositeOperation.execute(CompositeOperation.java:79)\r\n    \tat es.giro.girlabel.backup.ImportBackup.createData(ImportBackup.java:39)\r\n    \tat es.giro.girlabel.backup.handlers.Import.execute(Import.java:45)","title":"Oracle + dbunit gets AmbiguousTableNameException","body":"<p>I am using dbunit to create database backups, which can be imported and exported. My application can use several database engines: MySQL, PostgreSQL, SQLServer, H2 and Oracle.</p>\n\n<p>All of the above work fine with the following code:</p>\n\n<pre><code>            // Connect to the database \n        conn =BackupManager.getInstance().getConnection();\n        IDatabaseConnection connection = new DatabaseConnection(conn);\n        InputSource xmlSource = new InputSource(new FileInputStream(new File(nameXML)));\n        FlatXmlProducer flatXmlProducer = new FlatXmlProducer(xmlSource);\n        flatXmlProducer.setColumnSensing(true);\n\n        DatabaseOperation.CLEAN_INSERT.execute(connection,new FlatXmlDataSet(flatXmlProducer));  \n</code></pre>\n\n<p>But on Oracle I get this exception:</p>\n\n<pre><code>!ENTRY es.giro.girlabel.backup 1 0 2012-04-11 11:51:40.542\n!MESSAGE Start import backup\norg.dbunit.database.AmbiguousTableNameException: AQ$_SCHEDULES\n    at org.dbunit.dataset.OrderedTableNameMap.add(OrderedTableNameMap.java:198)\n    at org.dbunit.database.DatabaseDataSet.initialize(DatabaseDataSet.java:231)\n    at org.dbunit.database.DatabaseDataSet.getTableMetaData(DatabaseDataSet.java:281)\n    at org.dbunit.operation.DeleteAllOperation.execute(DeleteAllOperation.java:109)\n    at org.dbunit.operation.CompositeOperation.execute(CompositeOperation.java:79)\n    at es.giro.girlabel.backup.ImportBackup.createData(ImportBackup.java:39)\n    at es.giro.girlabel.backup.handlers.Import.execute(Import.java:45)\n</code></pre>\n"},{"tags":["java","jboss","weblogic","jstl"],"owner":{"account_id":28917535,"reputation":1,"user_id":22149189,"display_name":"Akhilesh Kokardekar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688040090,"creation_date":1688028296,"question_id":76579455,"body_markdown":"We are in process of migrating a legacy application from one weblogic 12C (JDK 7) to JBoss 7.2 (JDK 8). However, while running the application, we are getting an error \r\n\r\n*Caused by: javax.servlet.jsp.JspTagException: Invalid property in &amp;lt;set&amp;gt;:  &quot;articleId&quot;\r\n\tat org.apache.taglibs.standard.tag.common.core.SetSupport.**exportToBeanProperty**(SetSupport.java:244)\r\n\tat org.apache.taglibs.standard.tag.common.core.SetSupport.doEndTag(SetSupport.java:96)*\r\n\r\nNot sure why its going to exportToBean instead of exporttoMap.\r\n\r\nHere is the piece of code which is causing the problem. The same works perfectly with weblogic. \r\n\r\n    &lt;jsp:useBean id=&quot;editParams&quot; class=&quot;java.util.HashMap&quot; /&gt;\r\n    &lt;c:set target=&quot;${editParams}&quot; property=&quot;articleId&quot; value=&quot;${row.id}&quot; /&gt; \r\n    &lt;c:set target=&quot;${editParams}&quot; property=&quot;editable&quot; value=&quot;true&quot; /&gt;\r\n\r\nNot sure what is missing here. Any help would be greatly appreciated.\r\n","title":"JSTL c:set with HashMap","body":"<p>We are in process of migrating a legacy application from one weblogic 12C (JDK 7) to JBoss 7.2 (JDK 8). However, while running the application, we are getting an error</p>\n<p><em>Caused by: javax.servlet.jsp.JspTagException: Invalid property in &lt;set&gt;:  &quot;articleId&quot;\nat org.apache.taglibs.standard.tag.common.core.SetSupport.<strong>exportToBeanProperty</strong>(SetSupport.java:244)\nat org.apache.taglibs.standard.tag.common.core.SetSupport.doEndTag(SetSupport.java:96)</em></p>\n<p>Not sure why its going to exportToBean instead of exporttoMap.</p>\n<p>Here is the piece of code which is causing the problem. The same works perfectly with weblogic.</p>\n<pre><code>&lt;jsp:useBean id=&quot;editParams&quot; class=&quot;java.util.HashMap&quot; /&gt;\n&lt;c:set target=&quot;${editParams}&quot; property=&quot;articleId&quot; value=&quot;${row.id}&quot; /&gt; \n&lt;c:set target=&quot;${editParams}&quot; property=&quot;editable&quot; value=&quot;true&quot; /&gt;\n</code></pre>\n<p>Not sure what is missing here. Any help would be greatly appreciated.</p>\n"},{"tags":["java","spring-ws","soapfault","webservicetemplate"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1687877612,"post_id":76566014,"comment_id":134996735,"body_markdown":"Apart from your code feeling like you are doing things you shouldn&#39;t be doing (generally when seeing code like `WebServiceTemplate.getMarshaller` this means you are doing it wrong). Have you re-generated your classes with JAXB so it has the proper annotations?","body":"Apart from your code feeling like you are doing things you shouldn&#39;t be doing (generally when seeing code like <code>WebServiceTemplate.getMarshaller</code> this means you are doing it wrong). Have you re-generated your classes with JAXB so it has the proper annotations?"},{"owner":{"account_id":13291750,"reputation":1,"user_id":9596020,"display_name":"Jagannath Jha"},"score":0,"creation_date":1687947415,"post_id":76566014,"comment_id":135007154,"body_markdown":"Thanks for your response , this code is fine if we use dont migrate to jakarta and Jdk 19. While debugging I can see it has error on below line","body":"Thanks for your response , this code is fine if we use dont migrate to jakarta and Jdk 19. While debugging I can see it has error on below line"},{"owner":{"account_id":13291750,"reputation":1,"user_id":9596020,"display_name":"Jagannath Jha"},"score":0,"creation_date":1687948147,"post_id":76566014,"comment_id":135007302,"body_markdown":"We have bean of marsheller that we use to parse response. That is working but it only issue when server retunrs soap fault then it is not able to type cast with (SoapMessage) response , response is WebServiceMessage . Means it is not able to typecast internally with jakarta node perhaps. This might be bug with open jdk","body":"We have bean of marsheller that we use to parse response. That is working but it only issue when server retunrs soap fault then it is not able to type cast with (SoapMessage) response , response is WebServiceMessage . Means it is not able to typecast internally with jakarta node perhaps. This might be bug with open jdk"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1687949818,"post_id":76566014,"comment_id":135007631,"body_markdown":"If you switch to jakarta you need to regenerate your XML classes else they are still using the old annotations. Next to that the marshaller is automatically used, you are basically doing what the `WebServiceTemplate` is already doing (so you are over complicating things).","body":"If you switch to jakarta you need to regenerate your XML classes else they are still using the old annotations. Next to that the marshaller is automatically used, you are basically doing what the <code>WebServiceTemplate</code> is already doing (so you are over complicating things)."},{"owner":{"account_id":13291750,"reputation":1,"user_id":9596020,"display_name":"Jagannath Jha"},"score":0,"creation_date":1688030200,"post_id":76566014,"comment_id":135020094,"body_markdown":"Beacuse it is not throwing soap fault exception with simple way , even tried with interceptor stil hasFault methid is not get called if server throws soapfault. Which XML clases you mean can you please explain.. Thanks","body":"Beacuse it is not throwing soap fault exception with simple way , even tried with interceptor stil hasFault methid is not get called if server throws soapfault. Which XML clases you mean can you please explain.. Thanks"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1688031284,"post_id":76566014,"comment_id":135020331,"body_markdown":"I strongly get the feeling you have no idea how the frameworks/tools you are using work? The XML classes the classes that are generated from processing the WSDL/XSD you got with the JAXB plugin. That generates classes wit the proper annotations. If you upgrade java and Spring Boot you need to re-generate those as else it will not have the annotations.","body":"I strongly get the feeling you have no idea how the frameworks/tools you are using work? The XML classes the classes that are generated from processing the WSDL/XSD you got with the JAXB plugin. That generates classes wit the proper annotations. If you upgrade java and Spring Boot you need to re-generate those as else it will not have the annotations."},{"owner":{"account_id":13291750,"reputation":1,"user_id":9596020,"display_name":"Jagannath Jha"},"score":0,"creation_date":1688034770,"post_id":76566014,"comment_id":135020964,"body_markdown":"This is always geneated with new jdk , Ithink you are not looking what problem it is. It is working with success case how then It is working ? if server responding with proper response then no issue . Only issue when server returns soapfault and then It is having exception as explainf above . I had debug on api level and it having issue here below on com.sun.xml.messaging.saaj.soap.SOAPDocumentImpl method find\n        if (found == null &amp;&amp; required) {\n            throw new IllegalArgumentException(MessageFormat.format(&quot;Cannot find SOAP wrapper for element {0}&quot;, node));","body":"This is always geneated with new jdk , Ithink you are not looking what problem it is. It is working with success case how then It is working ? if server responding with proper response then no issue . Only issue when server returns soapfault and then It is having exception as explainf above . I had debug on api level and it having issue here below on com.sun.xml.messaging.saaj.soap.SOAPDocumentImpl method find         if (found == null &amp;&amp; required) {             throw new IllegalArgumentException(MessageFormat.format(&quot;Cannot find SOAP wrapper for element {0}&quot;, node));"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1688039236,"post_id":76566014,"comment_id":135021789,"body_markdown":"What exception? Ther eis no exception in your problem description. Next to that again why aren&#39;t you using the tools as they should be used using `marshallSendAndReceive` you only need to set a soap action. IMHO part of the issue is what you are doing here.","body":"What exception? Ther eis no exception in your problem description. Next to that again why aren&#39;t you using the tools as they should be used using <code>marshallSendAndReceive</code> you only need to set a soap action. IMHO part of the issue is what you are doing here."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1688040392,"post_id":76566014,"comment_id":135022035,"body_markdown":"What you should be using is `webServiceTemplate.marshallSendAndRecieve(requestPayload, new SoapActionCallBack(soapAction));` and let the fault handling to the framework. Also JAXB isn&#39;t part of the JDK so if you haven&#39;t updated that or did not regenerate the classes they simply don&#39;t match. Anyway please update your code and please add your list of dependencies (your pom or build file) to your question.","body":"What you should be using is <code>webServiceTemplate.marshallSendAndRecieve(requestPayload, new SoapActionCallBack(soapAction));</code> and let the fault handling to the framework. Also JAXB isn&#39;t part of the JDK so if you haven&#39;t updated that or did not regenerate the classes they simply don&#39;t match. Anyway please update your code and please add your list of dependencies (your pom or build file) to your question."},{"owner":{"account_id":13291750,"reputation":1,"user_id":9596020,"display_name":"Jagannath Jha"},"score":0,"creation_date":1688045186,"post_id":76566014,"comment_id":135023149,"body_markdown":"If we use default marshallSendAndReceive  then It thriws &quot;JAXB unmarshalling exception&quot;  but only when server throws soap fault and rest cases are fine.  I will upate our build file and pom file","body":"If we use default marshallSendAndReceive  then It thriws &quot;JAXB unmarshalling exception&quot;  but only when server throws soap fault and rest cases are fine.  I will upate our build file and pom file"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1688045301,"post_id":76566014,"comment_id":135023175,"body_markdown":"Please include the stacktrace as well and the configuration you are using for the template.","body":"Please include the stacktrace as well and the configuration you are using for the template."}],"owner":{"account_id":13291750,"reputation":1,"user_id":9596020,"display_name":"Jagannath Jha"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688040020,"creation_date":1687876816,"question_id":76566014,"body_markdown":"We are consumng soap service and it was worlking very well when we were using Java 8 and Spring boot 2.X\r\nWhen we are migrating to open Jdk 19 and Spring Boot 3.x which uses Jakarta It has exception when soap fault.\r\n\r\nNot able to parse soap fault and some where seen in debug not able to type cast in jakarta.xml.node\r\n\r\n**Cannot find SOAP wrapper for element [soap:Fault: null]**\r\n\r\nHere is is our client code \r\n\r\n```java\r\nfinal Marshaller marshaller = webServiceTemplateParam.getMarshaller();\r\n\r\nObject ret = webServiceTemplateParam.sendAndReceive(request - &gt; {\r\n    if (requestPayload != null) {\r\n\r\n        if (marshaller == null) {\r\n            throw new IllegalStateException(&quot;No marshaller registered. Check configuration of WebServiceTemplate.&quot;);\r\n        }\r\n        MarshallingUtils.marshal(marshaller, requestPayload, request);\r\n\r\n        Assert.isInstanceOf(SoapMessage.class, request);\r\n        SoapMessage soapMessage = (SoapMessage) request;\r\n        soapMessage.setSoapAction(soapAction);\r\n\r\n    }\r\n}, new WebServiceMessageExtractor &lt; Object &gt; () {\r\n\r\n    @Override\r\n    public Object extractData(final WebServiceMessage response) throws IOException {\r\n        if (unmarshaller == null) {\r\n            throw new IllegalStateException(&quot;No unmarshaller registered. Check configuration of WebServiceTemplate.&quot;);\r\n        }\r\n        if (hasFault(response)) {\r\n            throw new SoapFaultClientException((SoapMessage) response);\r\n        } else {\r\n            return MarshallingUtils.unmarshal(unmarshaller, response);\r\n        }\r\n    }\r\n\r\n    boolean hasFault(final WebServiceMessage response) {\r\n        if (response instanceof FaultAwareWebServiceMessage) {\r\n            FaultAwareWebServiceMessage faultMessage = (FaultAwareWebServiceMessage) response;\r\n            return faultMessage.hasFault();\r\n        }\r\n        return false;\r\n    }\r\n});\r\n```\r\n\r\n","title":"With Open Jdk 19 , Cannot find SOAP wrapper for element [soap:Fault: null]","body":"<p>We are consumng soap service and it was worlking very well when we were using Java 8 and Spring boot 2.X\nWhen we are migrating to open Jdk 19 and Spring Boot 3.x which uses Jakarta It has exception when soap fault.</p>\n<p>Not able to parse soap fault and some where seen in debug not able to type cast in jakarta.xml.node</p>\n<p><strong>Cannot find SOAP wrapper for element [soap:Fault: null]</strong></p>\n<p>Here is is our client code</p>\n<pre class=\"lang-java prettyprint-override\"><code>final Marshaller marshaller = webServiceTemplateParam.getMarshaller();\n\nObject ret = webServiceTemplateParam.sendAndReceive(request - &gt; {\n    if (requestPayload != null) {\n\n        if (marshaller == null) {\n            throw new IllegalStateException(&quot;No marshaller registered. Check configuration of WebServiceTemplate.&quot;);\n        }\n        MarshallingUtils.marshal(marshaller, requestPayload, request);\n\n        Assert.isInstanceOf(SoapMessage.class, request);\n        SoapMessage soapMessage = (SoapMessage) request;\n        soapMessage.setSoapAction(soapAction);\n\n    }\n}, new WebServiceMessageExtractor &lt; Object &gt; () {\n\n    @Override\n    public Object extractData(final WebServiceMessage response) throws IOException {\n        if (unmarshaller == null) {\n            throw new IllegalStateException(&quot;No unmarshaller registered. Check configuration of WebServiceTemplate.&quot;);\n        }\n        if (hasFault(response)) {\n            throw new SoapFaultClientException((SoapMessage) response);\n        } else {\n            return MarshallingUtils.unmarshal(unmarshaller, response);\n        }\n    }\n\n    boolean hasFault(final WebServiceMessage response) {\n        if (response instanceof FaultAwareWebServiceMessage) {\n            FaultAwareWebServiceMessage faultMessage = (FaultAwareWebServiceMessage) response;\n            return faultMessage.hasFault();\n        }\n        return false;\n    }\n});\n</code></pre>\n"},{"tags":["java","bukkit"],"comments":[{"owner":{"account_id":12060587,"reputation":3933,"user_id":8819761,"display_name":"Jeroen Steenbeeke"},"score":0,"creation_date":1688040312,"post_id":76580824,"comment_id":135022018,"body_markdown":"Please include the sources for `com.palmergames.bukkit.util.BukkitTools`. Your `isEventCancelled` method appears to have a side effect that triggers events. Your stacktrace indicates this method is called from `MobRemovalTimerTask.run()`","body":"Please include the sources for <code>com.palmergames.bukkit.util.BukkitTools</code>. Your <code>isEventCancelled</code> method appears to have a side effect that triggers events. Your stacktrace indicates this method is called from <code>MobRemovalTimerTask.run()</code>"},{"owner":{"account_id":28918677,"reputation":1,"user_id":22150119,"display_name":"Mihanoks"},"score":0,"creation_date":1688040797,"post_id":76580824,"comment_id":135022129,"body_markdown":"@JeroenSteenbeeke Sorry, I don&#39;t quite understand what needs to be done","body":"@JeroenSteenbeeke Sorry, I don&#39;t quite understand what needs to be done"},{"owner":{"account_id":12060587,"reputation":3933,"user_id":8819761,"display_name":"Jeroen Steenbeeke"},"score":1,"creation_date":1688041397,"post_id":76580824,"comment_id":135022280,"body_markdown":"Turns out it isn&#39;t your code. This is an error in Towny: https://github.com/TownyAdvanced/Towny/issues/6766. You need to use a newer version of Towny","body":"Turns out it isn&#39;t your code. This is an error in Towny: <a href=\"https://github.com/TownyAdvanced/Towny/issues/6766\" rel=\"nofollow noreferrer\">github.com/TownyAdvanced/Towny/issues/6766</a>. You need to use a newer version of Towny"}],"owner":{"account_id":28918677,"reputation":1,"user_id":22150119,"display_name":"Mihanoks"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688039829,"creation_date":1688039829,"question_id":76580824,"body_markdown":"I&#39;m making a small Bukkit plugin that will allow certain hostile mobs to be on the territory of cities from the Towny plugin. In it I use MobRemovalEvent and MobSpawnRemovalEvent. But an error is being spammed in the console and the plugin does not work.\r\n\r\n\r\n```\r\npackage ru.earthmine.onkrintowns;\r\n\r\nimport org.bukkit.plugin.java.JavaPlugin;\r\n\r\npublic final class ONKRInTowns extends JavaPlugin {\r\n\r\n    @Override\r\n    public void onEnable() {\r\n        registerListeners();\r\n    }\r\n\r\n    @Override\r\n    public void onDisable() {\r\n    }\r\n\r\n    private void registerListeners() {\r\n        getServer().getPluginManager().registerEvents(new DespawnListener(), this);\r\n    }\r\n}\r\n```\r\n\r\n```\r\npackage ru.earthmine.onkrintowns;\r\n\r\nimport com.palmergames.bukkit.towny.event.MobRemovalEvent;\r\nimport com.palmergames.bukkit.towny.event.mobs.MobSpawnRemovalEvent;\r\nimport org.bukkit.event.EventHandler;\r\nimport org.bukkit.event.Listener;\r\n\r\npublic class DespawnListener implements Listener {\r\n\r\n    @EventHandler\r\n    public void onMobRemovalEvent(MobRemovalEvent event) {\r\n        if(event.getEntity().getName().equalsIgnoreCase(&quot;&amp;cКонтролирующий&quot;)) {\r\n            event.setCancelled(true);\r\n        }\r\n    }\r\n\r\n    @EventHandler\r\n    public void onMobSpawnRemovalEvent(MobSpawnRemovalEvent event) {\r\n        if(event.getEntity().getName().equalsIgnoreCase(&quot;&amp;cКонтролирующий&quot;)) {\r\n            event.setCancelled(true);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n```\r\n[14:54:25 WARN]: [Towny] Task #44 for Towny v0.99.2.0 generated an exception\r\njava.lang.IllegalStateException: MobRemovalEvent may only be triggered asynchronously.\r\nat io.papermc.paper.plugin.manager.PaperEventManager.callEvent(PaperEventManager.java:40) ~[purpur-1.19.4.jar:git-Purpur-1985]\r\nat io.papermc.paper.plugin.manager.PaperPluginManagerImpl.callEvent(PaperPluginManagerImpl.java:126) ~[purpur-1.19.4.jar:git-Purpur-1985]\r\nat org.bukkit.plugin.SimplePluginManager.callEvent(SimplePluginManager.java:617) ~[purpur-api-1.19.4-R0.1-SNAPSHOT.jar:?]\r\nat com.palmergames.bukkit.util.BukkitTools.fireEvent(BukkitTools.java:342) ~[Towny-0.99.2.0.jar:?]\r\nat com.palmergames.bukkit.util.BukkitTools.isEventCancelled(BukkitTools.java:323) ~[Towny-0.99.2.0.jar:?]\r\nat com.palmergames.bukkit.towny.tasks.MobRemovalTimerTask.run(MobRemovalTimerTask.java:115) ~[Towny-0.99.2.0.jar:?]\r\nat org.bukkit.craftbukkit.v1_19_R3.scheduler.CraftTask.run(CraftTask.java:101) ~[purpur-1.19.4.jar:git-Purpur-1985]\r\nat org.bukkit.craftbukkit.v1_19_R3.scheduler.CraftScheduler.mainThreadHeartbeat(CraftScheduler.java:483) ~[purpur-1.19.4.jar:git-Purpur-1985]\r\nat net.minecraft.server.MinecraftServer.tickChildren(MinecraftServer.java:1510) ~[purpur-1.19.4.jar:git-Purpur-1985]\r\nat net.minecraft.server.dedicated.DedicatedServer.tickChildren(DedicatedServer.java:488) ~[purpur-1.19.4.jar:git-Purpur-1985]\r\nat net.minecraft.server.MinecraftServer.tickServer(MinecraftServer.java:1424) ~[purpur-1.19.4.jar:git-Purpur-1985]\r\nat net.minecraft.server.MinecraftServer.runServer(MinecraftServer.java:1195) ~[purpur-1.19.4.jar:git-Purpur-1985]\r\nat net.minecraft.server.MinecraftServer.lambda$spin$0(MinecraftServer.java:325) ~[purpur-1.19.4.jar:git-Purpur-1985]\r\nat java.lang.Thread.run(Unknown Source) ~[?:?]\r\n```\r\n\r\n\r\nI have little experience in development, so I don&#39;t really understand what needs to be done.","title":"MobRemovalEvent may only be triggered asynchronously (Bukkit, TownyAPI)","body":"<p>I'm making a small Bukkit plugin that will allow certain hostile mobs to be on the territory of cities from the Towny plugin. In it I use MobRemovalEvent and MobSpawnRemovalEvent. But an error is being spammed in the console and the plugin does not work.</p>\n<pre><code>package ru.earthmine.onkrintowns;\n\nimport org.bukkit.plugin.java.JavaPlugin;\n\npublic final class ONKRInTowns extends JavaPlugin {\n\n    @Override\n    public void onEnable() {\n        registerListeners();\n    }\n\n    @Override\n    public void onDisable() {\n    }\n\n    private void registerListeners() {\n        getServer().getPluginManager().registerEvents(new DespawnListener(), this);\n    }\n}\n</code></pre>\n<pre><code>package ru.earthmine.onkrintowns;\n\nimport com.palmergames.bukkit.towny.event.MobRemovalEvent;\nimport com.palmergames.bukkit.towny.event.mobs.MobSpawnRemovalEvent;\nimport org.bukkit.event.EventHandler;\nimport org.bukkit.event.Listener;\n\npublic class DespawnListener implements Listener {\n\n    @EventHandler\n    public void onMobRemovalEvent(MobRemovalEvent event) {\n        if(event.getEntity().getName().equalsIgnoreCase(&quot;&amp;cКонтролирующий&quot;)) {\n            event.setCancelled(true);\n        }\n    }\n\n    @EventHandler\n    public void onMobSpawnRemovalEvent(MobSpawnRemovalEvent event) {\n        if(event.getEntity().getName().equalsIgnoreCase(&quot;&amp;cКонтролирующий&quot;)) {\n            event.setCancelled(true);\n        }\n    }\n}\n</code></pre>\n<pre><code>[14:54:25 WARN]: [Towny] Task #44 for Towny v0.99.2.0 generated an exception\njava.lang.IllegalStateException: MobRemovalEvent may only be triggered asynchronously.\nat io.papermc.paper.plugin.manager.PaperEventManager.callEvent(PaperEventManager.java:40) ~[purpur-1.19.4.jar:git-Purpur-1985]\nat io.papermc.paper.plugin.manager.PaperPluginManagerImpl.callEvent(PaperPluginManagerImpl.java:126) ~[purpur-1.19.4.jar:git-Purpur-1985]\nat org.bukkit.plugin.SimplePluginManager.callEvent(SimplePluginManager.java:617) ~[purpur-api-1.19.4-R0.1-SNAPSHOT.jar:?]\nat com.palmergames.bukkit.util.BukkitTools.fireEvent(BukkitTools.java:342) ~[Towny-0.99.2.0.jar:?]\nat com.palmergames.bukkit.util.BukkitTools.isEventCancelled(BukkitTools.java:323) ~[Towny-0.99.2.0.jar:?]\nat com.palmergames.bukkit.towny.tasks.MobRemovalTimerTask.run(MobRemovalTimerTask.java:115) ~[Towny-0.99.2.0.jar:?]\nat org.bukkit.craftbukkit.v1_19_R3.scheduler.CraftTask.run(CraftTask.java:101) ~[purpur-1.19.4.jar:git-Purpur-1985]\nat org.bukkit.craftbukkit.v1_19_R3.scheduler.CraftScheduler.mainThreadHeartbeat(CraftScheduler.java:483) ~[purpur-1.19.4.jar:git-Purpur-1985]\nat net.minecraft.server.MinecraftServer.tickChildren(MinecraftServer.java:1510) ~[purpur-1.19.4.jar:git-Purpur-1985]\nat net.minecraft.server.dedicated.DedicatedServer.tickChildren(DedicatedServer.java:488) ~[purpur-1.19.4.jar:git-Purpur-1985]\nat net.minecraft.server.MinecraftServer.tickServer(MinecraftServer.java:1424) ~[purpur-1.19.4.jar:git-Purpur-1985]\nat net.minecraft.server.MinecraftServer.runServer(MinecraftServer.java:1195) ~[purpur-1.19.4.jar:git-Purpur-1985]\nat net.minecraft.server.MinecraftServer.lambda$spin$0(MinecraftServer.java:325) ~[purpur-1.19.4.jar:git-Purpur-1985]\nat java.lang.Thread.run(Unknown Source) ~[?:?]\n</code></pre>\n<p>I have little experience in development, so I don't really understand what needs to be done.</p>\n"},{"tags":["java","spring-boot","maven","http","soap"],"owner":{"account_id":12634959,"reputation":222,"user_id":9184784,"display_name":"tyb9900"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688039691,"creation_date":1687980370,"question_id":76576166,"body_markdown":"I have consumed the WSDL and generated a SOAP client using the Apache CXF Maven plugin: cxf-codegen-plugin. \r\n\r\nHowever, I am encountering an issue when attempting to call the SOAP service through code. While the requests work fine in SOAP UI, I receive an error when trying to invoke the service programmatically.\r\n\r\n**WSDL URL:** `https://www.w3schools.com/xml/tempconvert.asmx?wsdl`\r\n\r\n**Service Calling:**\r\n\r\n    TempConvert tempconvert = new TempConvert(new URL(wsdlUrl));\r\n    TempConvertSoap tempconvertsoap = tempconvert.getTempConvertSoap();\r\n    String result = tempconvertsoap.fahrenheitToCelsius(&quot;33&quot;);\r\n\r\n**Exception Trace:**\r\n\r\n \r\n\r\n    org.apache.cxf.phase.PhaseInterceptorChain - Interceptor for {https://www.w3schools.com/xml/}TempConvert#{https://www.w3schools.com/xml/}FahrenheitToCelsius has thrown exception, unwinding now \r\n    org.apache.cxf.interceptor.Fault: Response was of unexpected text/html ContentType.  Incoming portion of HTML stream: &lt;html&gt;\r\n    &lt;head&gt;&lt;title&gt;301 Moved Permanently&lt;/title&gt;&lt;/head&gt;\r\n    &lt;body&gt;\r\n    &lt;center&gt;&lt;h1&gt;301 Moved Permanently&lt;/h1&gt;&lt;/center&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n    \r\n    \tat org.apache.cxf.interceptor.StaxInInterceptor.handleMessage(StaxInInterceptor.java:98) ~[cxf-core-4.0.2.jar:4.0.2]\r\n    \tat org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:307) ~[cxf-core-4.0.2.jar:4.0.2]\r\n    \tat org.apache.cxf.endpoint.ClientImpl.onMessage(ClientImpl.java:829) ~[cxf-core-4.0.2.jar:4.0.2]\r\n    \tat org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.handleResponseInternal(HTTPConduit.java:1738) ~[cxf-rt-transports-http-4.0.2.jar:4.0.2]\r\n    \tat org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.handleResponse(HTTPConduit.java:1604) ~[cxf-rt-transports-http-4.0.2.jar:4.0.2]\r\n    \tat org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.close(HTTPConduit.java:1398) ~[cxf-rt-transports-http-4.0.2.jar:4.0.2]\r\n    \tat org.apache.cxf.transport.AbstractConduit.close(AbstractConduit.java:56) ~[cxf-core-4.0.2.jar:4.0.2]\r\n    \tat org.apache.cxf.transport.http.HTTPConduit.close(HTTPConduit.java:695) ~[cxf-rt-transports-http-4.0.2.jar:4.0.2]\r\n    \tat org.apache.cxf.interceptor.MessageSenderInterceptor$MessageSenderEndingInterceptor.handleMessage(MessageSenderInterceptor.java:63) ~[cxf-core-4.0.2.jar:4.0.2]\r\n    \tat org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:307) ~[cxf-core-4.0.2.jar:4.0.2]\r\n    \tat org.apache.cxf.endpoint.ClientImpl.doInvoke(ClientImpl.java:528) ~[cxf-core-4.0.2.jar:4.0.2]\r\n    \tat org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:439) ~[cxf-core-4.0.2.jar:4.0.2]\r\n    \tat org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:354) ~[cxf-core-4.0.2.jar:4.0.2]\r\n    \tat org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:312) ~[cxf-core-4.0.2.jar:4.0.2]\r\n    \tat org.apache.cxf.frontend.ClientProxy.invokeSync(ClientProxy.java:96) ~[cxf-rt-frontend-simple-4.0.2.jar:4.0.2]\r\n    \tat org.apache.cxf.jaxws.JaxWsClientProxy.invoke(JaxWsClientProxy.java:140) ~[cxf-rt-frontend-jaxws-4.0.2.jar:4.0.2]\r\n    \tat jdk.proxy2.$Proxy118.fahrenheitToCelsius(Unknown Source) ~[?:?]\r\n    \tat com.ninegoldplatform.tempconvertspringapi.service.TempConvertSpringApiServiceImpl.invokeSoapClient(TempConvertSpringApiServiceImpl.java:50) ~[classes/:?]\r\n    \tat com.ninegoldplatform.tempconvertspringapi.controller.TempConvertSpringApiController.fahrenheittocelsius(TempConvertSpringApiController.java:19) ~[classes/:?]\r\n    \tat jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[?:?]\r\n    \tat java.lang.reflect.Method.invoke(Method.java:578) ~[?:?]\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207) ~[spring-web-6.0.9.jar:6.0.9]\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152) ~[spring-web-6.0.9.jar:6.0.9]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.0.9.jar:6.0.9]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.9.jar:6.0.9]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.9.jar:6.0.9]\r\n    \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.9.jar:6.0.9]\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.9.jar:6.0.9]\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.9.jar:6.0.9]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.9.jar:6.0.9]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.0.9.jar:6.0.9]\r\n    \tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.8.jar:6.0]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.9.jar:6.0.9]\r\n    \tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.8.jar:6.0]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.8.jar:10.1.8]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.9.jar:6.0.9]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.9.jar:6.0.9]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.9.jar:6.0.9]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.9.jar:6.0.9]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.9.jar:6.0.9]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.9.jar:6.0.9]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\r\n    \tat java.lang.Thread.run(Thread.java:1623) [?:?]\r\n\r\nBelow is the generated files by Maven plugin: cxf-codegen-plugin. \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3EdHz.png\r\n\r\n\r\n**Maven plugin cxf-codegen-plugin:**\r\n\r\n \r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\r\n        &lt;artifactId&gt;cxf-codegen-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;${cxf.version}&lt;/version&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n        \t&lt;id&gt;generate-sources&lt;/id&gt;\r\n        \t&lt;phase&gt;generate-sources&lt;/phase&gt;\r\n        \t&lt;configuration&gt;\r\n        \t  &lt;defaultOptions&gt;\r\n        \t  &lt;extraargs&gt;\r\n        \t  &lt;extraarg&gt;-p&lt;/extraarg&gt;\t\t\t\t \r\n              &lt;extraarg&gt;com.stub.target&lt;/extraarg&gt;\r\n        \t  &lt;/extraargs&gt;\r\n        \t  &lt;/defaultOptions&gt;\r\n        \t  &lt;wsdlOptions&gt;\r\n        \t  &lt;wsdlOption \r\n      &lt;wsdl&gt;https://www.w3schools.com/xml/tempconvert.asmx?wsdl&lt;/wsdl&gt;\r\n        \t&lt;/wsdlOption&gt;\r\n        \t&lt;/wsdlOptions&gt;\r\n        \t&lt;includes&gt;\r\n        \t&lt;include&gt;${project.build.directory}/generated-sources/cxf/**&lt;/include&gt;\r\n        \t&lt;/includes&gt;\r\n        \t&lt;/configuration&gt;\r\n        \t&lt;goals&gt;\r\n        \t&lt;goal&gt;wsdl2java&lt;/goal&gt;\r\n        \t&lt;/goals&gt;\r\n        \t&lt;/execution&gt;\r\n        \t&lt;/executions&gt;\r\n    &lt;/plugin&gt;    ","title":"Getting error while calling SOAP service generated by cxf-codegen-plugin","body":"<p>I have consumed the WSDL and generated a SOAP client using the Apache CXF Maven plugin: cxf-codegen-plugin.</p>\n<p>However, I am encountering an issue when attempting to call the SOAP service through code. While the requests work fine in SOAP UI, I receive an error when trying to invoke the service programmatically.</p>\n<p><strong>WSDL URL:</strong> <code>https://www.w3schools.com/xml/tempconvert.asmx?wsdl</code></p>\n<p><strong>Service Calling:</strong></p>\n<pre><code>TempConvert tempconvert = new TempConvert(new URL(wsdlUrl));\nTempConvertSoap tempconvertsoap = tempconvert.getTempConvertSoap();\nString result = tempconvertsoap.fahrenheitToCelsius(&quot;33&quot;);\n</code></pre>\n<p><strong>Exception Trace:</strong></p>\n<pre><code>org.apache.cxf.phase.PhaseInterceptorChain - Interceptor for {https://www.w3schools.com/xml/}TempConvert#{https://www.w3schools.com/xml/}FahrenheitToCelsius has thrown exception, unwinding now \norg.apache.cxf.interceptor.Fault: Response was of unexpected text/html ContentType.  Incoming portion of HTML stream: &lt;html&gt;\n&lt;head&gt;&lt;title&gt;301 Moved Permanently&lt;/title&gt;&lt;/head&gt;\n&lt;body&gt;\n&lt;center&gt;&lt;h1&gt;301 Moved Permanently&lt;/h1&gt;&lt;/center&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n\n    at org.apache.cxf.interceptor.StaxInInterceptor.handleMessage(StaxInInterceptor.java:98) ~[cxf-core-4.0.2.jar:4.0.2]\n    at org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:307) ~[cxf-core-4.0.2.jar:4.0.2]\n    at org.apache.cxf.endpoint.ClientImpl.onMessage(ClientImpl.java:829) ~[cxf-core-4.0.2.jar:4.0.2]\n    at org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.handleResponseInternal(HTTPConduit.java:1738) ~[cxf-rt-transports-http-4.0.2.jar:4.0.2]\n    at org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.handleResponse(HTTPConduit.java:1604) ~[cxf-rt-transports-http-4.0.2.jar:4.0.2]\n    at org.apache.cxf.transport.http.HTTPConduit$WrappedOutputStream.close(HTTPConduit.java:1398) ~[cxf-rt-transports-http-4.0.2.jar:4.0.2]\n    at org.apache.cxf.transport.AbstractConduit.close(AbstractConduit.java:56) ~[cxf-core-4.0.2.jar:4.0.2]\n    at org.apache.cxf.transport.http.HTTPConduit.close(HTTPConduit.java:695) ~[cxf-rt-transports-http-4.0.2.jar:4.0.2]\n    at org.apache.cxf.interceptor.MessageSenderInterceptor$MessageSenderEndingInterceptor.handleMessage(MessageSenderInterceptor.java:63) ~[cxf-core-4.0.2.jar:4.0.2]\n    at org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:307) ~[cxf-core-4.0.2.jar:4.0.2]\n    at org.apache.cxf.endpoint.ClientImpl.doInvoke(ClientImpl.java:528) ~[cxf-core-4.0.2.jar:4.0.2]\n    at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:439) ~[cxf-core-4.0.2.jar:4.0.2]\n    at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:354) ~[cxf-core-4.0.2.jar:4.0.2]\n    at org.apache.cxf.endpoint.ClientImpl.invoke(ClientImpl.java:312) ~[cxf-core-4.0.2.jar:4.0.2]\n    at org.apache.cxf.frontend.ClientProxy.invokeSync(ClientProxy.java:96) ~[cxf-rt-frontend-simple-4.0.2.jar:4.0.2]\n    at org.apache.cxf.jaxws.JaxWsClientProxy.invoke(JaxWsClientProxy.java:140) ~[cxf-rt-frontend-jaxws-4.0.2.jar:4.0.2]\n    at jdk.proxy2.$Proxy118.fahrenheitToCelsius(Unknown Source) ~[?:?]\n    at com.ninegoldplatform.tempconvertspringapi.service.TempConvertSpringApiServiceImpl.invokeSoapClient(TempConvertSpringApiServiceImpl.java:50) ~[classes/:?]\n    at com.ninegoldplatform.tempconvertspringapi.controller.TempConvertSpringApiController.fahrenheittocelsius(TempConvertSpringApiController.java:19) ~[classes/:?]\n    at jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[?:?]\n    at java.lang.reflect.Method.invoke(Method.java:578) ~[?:?]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207) ~[spring-web-6.0.9.jar:6.0.9]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152) ~[spring-web-6.0.9.jar:6.0.9]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.0.9.jar:6.0.9]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.9.jar:6.0.9]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.9.jar:6.0.9]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.9.jar:6.0.9]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.9.jar:6.0.9]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.9.jar:6.0.9]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.9.jar:6.0.9]\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.0.9.jar:6.0.9]\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.8.jar:6.0]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.9.jar:6.0.9]\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.8.jar:6.0]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.9.jar:6.0.9]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.9.jar:6.0.9]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.9.jar:6.0.9]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.9.jar:6.0.9]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.9.jar:6.0.9]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.9.jar:6.0.9]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.8.jar:10.1.8]\n    at java.lang.Thread.run(Thread.java:1623) [?:?]\n</code></pre>\n<p>Below is the generated files by Maven plugin: cxf-codegen-plugin.</p>\n<p><a href=\"https://i.stack.imgur.com/3EdHz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3EdHz.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Maven plugin cxf-codegen-plugin:</strong></p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\n    &lt;artifactId&gt;cxf-codegen-plugin&lt;/artifactId&gt;\n    &lt;version&gt;${cxf.version}&lt;/version&gt;\n    &lt;executions&gt;\n      &lt;execution&gt;\n        &lt;id&gt;generate-sources&lt;/id&gt;\n        &lt;phase&gt;generate-sources&lt;/phase&gt;\n        &lt;configuration&gt;\n          &lt;defaultOptions&gt;\n          &lt;extraargs&gt;\n          &lt;extraarg&gt;-p&lt;/extraarg&gt;                \n          &lt;extraarg&gt;com.stub.target&lt;/extraarg&gt;\n          &lt;/extraargs&gt;\n          &lt;/defaultOptions&gt;\n          &lt;wsdlOptions&gt;\n          &lt;wsdlOption \n  &lt;wsdl&gt;https://www.w3schools.com/xml/tempconvert.asmx?wsdl&lt;/wsdl&gt;\n        &lt;/wsdlOption&gt;\n        &lt;/wsdlOptions&gt;\n        &lt;includes&gt;\n        &lt;include&gt;${project.build.directory}/generated-sources/cxf/**&lt;/include&gt;\n        &lt;/includes&gt;\n        &lt;/configuration&gt;\n        &lt;goals&gt;\n        &lt;goal&gt;wsdl2java&lt;/goal&gt;\n        &lt;/goals&gt;\n        &lt;/execution&gt;\n        &lt;/executions&gt;\n&lt;/plugin&gt;    \n</code></pre>\n"},{"tags":["java","spring-boot","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":4,"creation_date":1687178405,"post_id":76506703,"comment_id":134896178,"body_markdown":"Nice try with the batching but you are doing it wrong, as you are still loading everything in memory. Instead do this and directly write to the json file instead of storing them in memory. Process chunks not all of them at once.","body":"Nice try with the batching but you are doing it wrong, as you are still loading everything in memory. Instead do this and directly write to the json file instead of storing them in memory. Process chunks not all of them at once."},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1687178451,"post_id":76506703,"comment_id":134896189,"body_markdown":"For queries this large, you should use a streaming API. I&#39;m not sure if JPA has that feature, but something like jOOQ certainly does. But at any rate, you don&#39;t want to have all those objects in memory at the same time. Open the output stream and write each batch to it as it comes in.","body":"For queries this large, you should use a streaming API. I&#39;m not sure if JPA has that feature, but something like jOOQ certainly does. But at any rate, you don&#39;t want to have all those objects in memory at the same time. Open the output stream and write each batch to it as it comes in."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":3,"creation_date":1687178477,"post_id":76506703,"comment_id":134896197,"body_markdown":"*&quot;Is there a way to improve how I&#39;m doing this?&quot;* - don&#39;t build a list of a million `Entity` objects.","body":"<i>&quot;Is there a way to improve how I&#39;m doing this?&quot;</i> - don&#39;t build a list of a million <code>Entity</code> objects."},{"owner":{"account_id":875002,"reputation":6703,"user_id":924820,"display_name":"BigMike"},"score":1,"creation_date":1687178932,"post_id":76506703,"comment_id":134896290,"body_markdown":"Is there anything against using Oracle&#39;s own exp tool ?","body":"Is there anything against using Oracle&#39;s own exp tool ?"},{"owner":{"account_id":1635690,"reputation":150047,"user_id":1509264,"accept_rate":58,"display_name":"MT0"},"score":1,"creation_date":1687179249,"post_id":76506703,"comment_id":134896363,"body_markdown":"I am removing the Oracle tag because, apart from using it in the background, there is nothing obviously related to Oracle in the question. If Oracle is actually relevant to the question then please [edit] the question an include a [MRE] with: the `CREATE TABLE` and `CREATE INDEX` statements for your table(s)/index(es); the `SELECT` statement you are generating; an example of the data you are passing to Oracle; the expected output from the query; and the `EXPLAIN PLAN` for the query.","body":"I am removing the Oracle tag because, apart from using it in the background, there is nothing obviously related to Oracle in the question. If Oracle is actually relevant to the question then please <a href=\"https://stackoverflow.com/posts/76506703/edit\">edit</a> the question an include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> with: the <code>CREATE TABLE</code> and <code>CREATE INDEX</code> statements for your table(s)/index(es); the <code>SELECT</code> statement you are generating; an example of the data you are passing to Oracle; the expected output from the query; and the <code>EXPLAIN PLAN</code> for the query."},{"owner":{"account_id":2324803,"reputation":2518,"user_id":2039574,"accept_rate":80,"display_name":"Euridice01"},"score":0,"creation_date":1687179289,"post_id":76506703,"comment_id":134896370,"body_markdown":"Ok got it, I&#39;ll batch it and then write directly to file for every batch then instead of collecting it in a giant list in memory. \n\nFor oracle&#39;s own export tool, I need the &quot;response object&quot; formatted differently than how the records are presented in the db and also I need to join two tables. I can&#39;t use the export tool.","body":"Ok got it, I&#39;ll batch it and then write directly to file for every batch then instead of collecting it in a giant list in memory.   For oracle&#39;s own export tool, I need the &quot;response object&quot; formatted differently than how the records are presented in the db and also I need to join two tables. I can&#39;t use the export tool."},{"owner":{"account_id":875002,"reputation":6703,"user_id":924820,"display_name":"BigMike"},"score":2,"creation_date":1687179524,"post_id":76506703,"comment_id":134896411,"body_markdown":"I would&#39;ve gone with a simple PL/SQL block,  a cursor fetch loop writing JSON or whatever format you need on a file. A million records may seem daunting but can be managed even with some simple sql*plus script (yes, even with the json output). But I guess an Oracle take on this isn&#39;t required anymore.","body":"I would&#39;ve gone with a simple PL/SQL block,  a cursor fetch loop writing JSON or whatever format you need on a file. A million records may seem daunting but can be managed even with some simple sql*plus script (yes, even with the json output). But I guess an Oracle take on this isn&#39;t required anymore."},{"owner":{"account_id":2458519,"reputation":7657,"user_id":2143128,"display_name":"Ratul Sharker"},"score":1,"creation_date":1687180502,"post_id":76506703,"comment_id":134896671,"body_markdown":"You can follow this post blog [&quot;Streaming Large JSON Response In Spring&quot;](https://dev.to/ratulsharker/streaming-large-json-response-in-spring-2pho)","body":"You can follow this post blog <a href=\"https://dev.to/ratulsharker/streaming-large-json-response-in-spring-2pho\" rel=\"nofollow noreferrer\">&quot;Streaming Large JSON Response In Spring&quot;</a>"},{"owner":{"account_id":2324803,"reputation":2518,"user_id":2039574,"accept_rate":80,"display_name":"Euridice01"},"score":0,"creation_date":1687186855,"post_id":76506703,"comment_id":134898096,"body_markdown":"Hey everyone, is this the right approach? I updated my post to reflect me writing to JSON file instead. I&#39;m running it now and I don&#39;t know how long it will take but please double check my code and see if it makes sense or I&#39;m still missing something core. Thanks!","body":"Hey everyone, is this the right approach? I updated my post to reflect me writing to JSON file instead. I&#39;m running it now and I don&#39;t know how long it will take but please double check my code and see if it makes sense or I&#39;m still missing something core. Thanks!"},{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":1,"creation_date":1687199498,"post_id":76506703,"comment_id":134900587,"body_markdown":"I would do at least 2 things: measure what takes more time, query+unmarshalling or writing to file. I guess query+unmarshalling takes more time. Depends on the &quot;size&quot; and structure of `Entity`. A bunch of fields won&#39;t take very long, even 1M records. Also consider that the query has no (obvious) order, it may return the same record again and again.","body":"I would do at least 2 things: measure what takes more time, query+unmarshalling or writing to file. I guess query+unmarshalling takes more time. Depends on the &quot;size&quot; and structure of <code>Entity</code>. A bunch of fields won&#39;t take very long, even 1M records. Also consider that the query has no (obvious) order, it may return the same record again and again."},{"owner":{"account_id":2324803,"reputation":2518,"user_id":2039574,"accept_rate":80,"display_name":"Euridice01"},"score":0,"creation_date":1687207149,"post_id":76506703,"comment_id":134901705,"body_markdown":"Why would it return the same record again? @PeterMmm should I order it?","body":"Why would it return the same record again? @PeterMmm should I order it?"},{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":1,"creation_date":1687261240,"post_id":76506703,"comment_id":134908952,"body_markdown":"I said &quot;may&quot;, I won&#39;t bet that the &quot;natural order&quot; is always the same in separate `selects` https://dev.to/peledzohar/the-natural-order-misconception-2ekg","body":"I said &quot;may&quot;, I won&#39;t bet that the &quot;natural order&quot; is always the same in separate <code>selects</code> <a href=\"https://dev.to/peledzohar/the-natural-order-misconception-2ekg\" rel=\"nofollow noreferrer\">dev.to/peledzohar/the-natural-order-misconception-2ekg</a>"},{"owner":{"account_id":10933290,"reputation":2086,"user_id":8035759,"display_name":"Asgar"},"score":0,"creation_date":1687449971,"post_id":76506703,"comment_id":134941781,"body_markdown":"Do you really need to write all of your data(I mean all columns, along with those expensive formulae and all)?","body":"Do you really need to write all of your data(I mean all columns, along with those expensive formulae and all)?"},{"owner":{"account_id":2324803,"reputation":2518,"user_id":2039574,"accept_rate":80,"display_name":"Euridice01"},"score":0,"creation_date":1687454213,"post_id":76506703,"comment_id":134942578,"body_markdown":"Maybe not all the columns for the select * in FIND_NEW_ENTITIES but I need the selects from the other fields","body":"Maybe not all the columns for the select * in FIND_NEW_ENTITIES but I need the selects from the other fields"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1687503635,"post_id":76506703,"comment_id":134948715,"body_markdown":"Your entity does a lot of additional selects, which is going to be slow. You basically have a 1+N select problem (or rather 1 + (2*N) here) due to your formulas. Your conversion is also a bit slow, creating a stream adds overhead. Instead of using JPA and conversion, I would suggest to write a dedicated SQL query and use a `JdbcTemplate` and extract/write results. This will eliminate much of the overhead you currently have.","body":"Your entity does a lot of additional selects, which is going to be slow. You basically have a 1+N select problem (or rather 1 + (2*N) here) due to your formulas. Your conversion is also a bit slow, creating a stream adds overhead. Instead of using JPA and conversion, I would suggest to write a dedicated SQL query and use a <code>JdbcTemplate</code> and extract/write results. This will eliminate much of the overhead you currently have."},{"owner":{"account_id":2324803,"reputation":2518,"user_id":2039574,"accept_rate":80,"display_name":"Euridice01"},"score":0,"creation_date":1687529647,"post_id":76506703,"comment_id":134954247,"body_markdown":"Can you share an example of what you mean by JDBCTemplate and use dedicated sql query? Thanks for the suggestion.","body":"Can you share an example of what you mean by JDBCTemplate and use dedicated sql query? Thanks for the suggestion."},{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":0,"creation_date":1687763906,"post_id":76506703,"comment_id":134976645,"body_markdown":"If you really want fast processing: use raw JDBC and generate JSON manually. You can&#39;t beat that.","body":"If you really want fast processing: use raw JDBC and generate JSON manually. You can&#39;t beat that."},{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":0,"creation_date":1687851179,"post_id":76506703,"comment_id":134990570,"body_markdown":"See [here](https://www.tutorialspoint.com/jdbc/jdbc-select-records.htm) for a basic tutorial on JDBC.","body":"See <a href=\"https://www.tutorialspoint.com/jdbc/jdbc-select-records.htm\" rel=\"nofollow noreferrer\">here</a> for a basic tutorial on JDBC."},{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":0,"creation_date":1687851269,"post_id":76506703,"comment_id":134990585,"body_markdown":"Write a single SQL query that will fetch all the data you need. For better performance, increase the fetch size to 500 or 1000 (as explained [here](https://stackoverflow.com/a/24815708/12763954)).","body":"Write a single SQL query that will fetch all the data you need. For better performance, increase the fetch size to 500 or 1000 (as explained <a href=\"https://stackoverflow.com/a/24815708/12763954\">here</a>)."}],"answers":[{"tags":[],"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687441832,"creation_date":1687422267,"answer_id":76529918,"question_id":76506703,"body_markdown":"You could parallelize your batching. As soon as you need to export 1,000,000 records, you could create e.g. 4 threads each starting data extraction from it&#39;s own offset and writing the data into its own temporary file.\r\n\r\nAfter batching is over you merge four temp files into the resulting one.\r\n\r\nIf one of threads fails for some reason you don&#39;t need to start the whole process from the very beginning but the use results stored in temp files.\r\n\r\nAlso in your code you create a new expensive `Gson` object for each chunk of size 1000, making 1000 objects for the whole batch. Instead one object cached in the field or injected by IoC container can be used.\r\n\r\nI suggest you to modify your code as:\r\n```java\r\npublic class BatchExtractor {\r\n  private static final int BATCH_SIZE = 1000;\r\n\r\n  private EntityManager entityManager;\r\n  private Gson gson = new Gson();\r\n\r\n  @SneakyThrows\r\n  public void getNewEntities() {\r\n    int limit = 250_000;\r\n    int parallelism = 4;\r\n    try (ExecutorService executorService = Executors.newFixedThreadPool(parallelism)) {\r\n      List&lt;Future&lt;File&gt;&gt; futures = new ArrayList&lt;&gt;();\r\n      for (int i = 0; i &lt; parallelism; i++) {\r\n        int offset = i * limit;\r\n        Future&lt;File&gt; future = executorService.submit(() -&gt; extract(offset, limit));\r\n        futures.add(future);\r\n      }\r\n      File resultingFile = new File(&quot;new_entities.json&quot;);\r\n      resultingFile.createNewFile();\r\n      try (FileOutputStream fos = new FileOutputStream(resultingFile)) {\r\n        futures.stream().map(this::getFile).forEach(tempFile -&gt; transfer(tempFile, fos));\r\n        fos.flush();\r\n      }\r\n    }\r\n  }\r\n\r\n  @SneakyThrows\r\n  private File extract(int offset, int limit) {\r\n    String fileName = &quot;new_entities_temp_&quot; + offset + &quot;.json&quot;;\r\n    File file = new File(fileName);\r\n    file.createNewFile();\r\n    int extractedCount = 0;\r\n    try (FileWriter tempFile = new FileWriter(file)) {\r\n      while (extractedCount &lt; limit) {\r\n        offset += BATCH_SIZE;\r\n        List&lt;Entity&gt; entityList = entityManager.createNamedQuery(Entity.SELECT_NEW_ENTITIES, Entity.class)\r\n                .setFirstResult(offset)\r\n                .setMaxResults(BATCH_SIZE)\r\n                .getResultList();\r\n        tempFile.write(gson.toJson(entityList));\r\n        extractedCount += entityList.size();\r\n      }\r\n    }\r\n    return file;\r\n  }\r\n\r\n  @SneakyThrows\r\n  private long transfer(File tempFile, FileOutputStream fos) {\r\n    return Files.copy(tempFile.toPath(), fos);\r\n  }\r\n\r\n  @SneakyThrows\r\n  private File getFile(Future&lt;File&gt; fileFuture) {\r\n    return fileFuture.get();\r\n  }\r\n}\r\n```\r\n\r\n**UPD** You could also combine this approach with the streaming suggested in another answer.","title":"Best way to export a million records formatted as json?","body":"<p>You could parallelize your batching. As soon as you need to export 1,000,000 records, you could create e.g. 4 threads each starting data extraction from it's own offset and writing the data into its own temporary file.</p>\n<p>After batching is over you merge four temp files into the resulting one.</p>\n<p>If one of threads fails for some reason you don't need to start the whole process from the very beginning but the use results stored in temp files.</p>\n<p>Also in your code you create a new expensive <code>Gson</code> object for each chunk of size 1000, making 1000 objects for the whole batch. Instead one object cached in the field or injected by IoC container can be used.</p>\n<p>I suggest you to modify your code as:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class BatchExtractor {\n  private static final int BATCH_SIZE = 1000;\n\n  private EntityManager entityManager;\n  private Gson gson = new Gson();\n\n  @SneakyThrows\n  public void getNewEntities() {\n    int limit = 250_000;\n    int parallelism = 4;\n    try (ExecutorService executorService = Executors.newFixedThreadPool(parallelism)) {\n      List&lt;Future&lt;File&gt;&gt; futures = new ArrayList&lt;&gt;();\n      for (int i = 0; i &lt; parallelism; i++) {\n        int offset = i * limit;\n        Future&lt;File&gt; future = executorService.submit(() -&gt; extract(offset, limit));\n        futures.add(future);\n      }\n      File resultingFile = new File(&quot;new_entities.json&quot;);\n      resultingFile.createNewFile();\n      try (FileOutputStream fos = new FileOutputStream(resultingFile)) {\n        futures.stream().map(this::getFile).forEach(tempFile -&gt; transfer(tempFile, fos));\n        fos.flush();\n      }\n    }\n  }\n\n  @SneakyThrows\n  private File extract(int offset, int limit) {\n    String fileName = &quot;new_entities_temp_&quot; + offset + &quot;.json&quot;;\n    File file = new File(fileName);\n    file.createNewFile();\n    int extractedCount = 0;\n    try (FileWriter tempFile = new FileWriter(file)) {\n      while (extractedCount &lt; limit) {\n        offset += BATCH_SIZE;\n        List&lt;Entity&gt; entityList = entityManager.createNamedQuery(Entity.SELECT_NEW_ENTITIES, Entity.class)\n                .setFirstResult(offset)\n                .setMaxResults(BATCH_SIZE)\n                .getResultList();\n        tempFile.write(gson.toJson(entityList));\n        extractedCount += entityList.size();\n      }\n    }\n    return file;\n  }\n\n  @SneakyThrows\n  private long transfer(File tempFile, FileOutputStream fos) {\n    return Files.copy(tempFile.toPath(), fos);\n  }\n\n  @SneakyThrows\n  private File getFile(Future&lt;File&gt; fileFuture) {\n    return fileFuture.get();\n  }\n}\n</code></pre>\n<p><strong>UPD</strong> You could also combine this approach with the streaming suggested in another answer.</p>\n"},{"tags":[],"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687442463,"creation_date":1687423301,"answer_id":76530051,"question_id":76506703,"body_markdown":"Use a stream instead of batching and detach the objects as not to polute the memory with objects you don&#39;t need. \r\n\r\nCreate `Gson` once and re-use as it is an expensive object. \r\n\r\nIn the code below I make a couple of assumptions:\r\n- Spring Boot 3.x\r\n- Java 17 or higher\r\n\r\n\r\n```java\r\n@Transactional(readOnly=true)\r\npublic void getNewEntities() {\r\n    var gson = new Gson();\r\n\r\n    try (var writer = Files.newBufferedWriter(Path.get(&quot;new_entities.json&quot;))) {\r\n      var entities = entityManager.createNamedQuery(Entity.SELECT_NEW_ENTITIES, Entity.class)\r\n      .setHint(QueryHints.HINT_FETCH_SIZE, &quot;1000&quot;)\r\n      .setHint(QueryHints.READ_ONLY, &quot;true&quot;)\r\n      .getResultStream();\r\n\r\n       entities.forEach( (entity) -&gt; writeToFile(gson, writer, entity);      \r\n    }\r\n    catch(IOException ex) {\r\n        throw new IllegalStateException(ex);\r\n    };\r\n}\r\n\r\nprivate void writeToFile(Gson gson, Writer writer, Entity entity) {\r\n  try {\r\n    writer.write(gson.toJson(entity.toNewEntity()));\r\n  } catch (Exception ex) {\r\n    throw new IllegalStateException(ex);\r\n  }\r\n  entityManager.detach(entity);\r\n}\r\n\r\n```","title":"Best way to export a million records formatted as json?","body":"<p>Use a stream instead of batching and detach the objects as not to polute the memory with objects you don't need.</p>\n<p>Create <code>Gson</code> once and re-use as it is an expensive object.</p>\n<p>In the code below I make a couple of assumptions:</p>\n<ul>\n<li>Spring Boot 3.x</li>\n<li>Java 17 or higher</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>@Transactional(readOnly=true)\npublic void getNewEntities() {\n    var gson = new Gson();\n\n    try (var writer = Files.newBufferedWriter(Path.get(&quot;new_entities.json&quot;))) {\n      var entities = entityManager.createNamedQuery(Entity.SELECT_NEW_ENTITIES, Entity.class)\n      .setHint(QueryHints.HINT_FETCH_SIZE, &quot;1000&quot;)\n      .setHint(QueryHints.READ_ONLY, &quot;true&quot;)\n      .getResultStream();\n\n       entities.forEach( (entity) -&gt; writeToFile(gson, writer, entity);      \n    }\n    catch(IOException ex) {\n        throw new IllegalStateException(ex);\n    };\n}\n\nprivate void writeToFile(Gson gson, Writer writer, Entity entity) {\n  try {\n    writer.write(gson.toJson(entity.toNewEntity()));\n  } catch (Exception ex) {\n    throw new IllegalStateException(ex);\n  }\n  entityManager.detach(entity);\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10933290,"reputation":2086,"user_id":8035759,"display_name":"Asgar"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1687537175,"creation_date":1687534379,"answer_id":76541556,"question_id":76506703,"body_markdown":"The way I see this is, you are fetching a million records as an entity.\r\nAfter the query is executed, the resultset will be mapped into the Entity class. In your case, 2 `@Formula` are being executed for each record and also a list of locations being populated too. I suggest you fetching them directly via native queries.\r\n\r\nI am writing a pseudo code, \r\n\r\n```JAVA\r\n@Transactional(readOnly=true)\r\npublic void writeMyEntitiesToJsonFile() {\r\n        Gson gson = new Gson();\r\n        try {\r\n\r\n            FileWriter file = new FileWriter(&quot;new_entities.json&quot;);\r\n\r\n            //this query will fetch all the records from your table name\r\n            String rawQuery = &quot;SELECT \\n&quot;\r\n                    + &quot;t.NEW_ENTITY_ID AS id,\\n&quot;\r\n                    + &quot;t.SHARED_ID AS sharedId,\\n&quot;\r\n                    + &quot;a.SOME_ID AS someId,\\n&quot;\r\n                    + &quot;a.CODE AS code\\n&quot;\r\n                    + &quot;FROM TABLE_NAME t\\n&quot;\r\n                    + &quot;JOIN ANOTHER_TABLE a \\n&quot;\r\n                    + &quot;ON t.SHARED_ID=a.SHARED_ID&quot;;\r\n\r\n            List&lt;Object[]&gt; newEntityRawList = em.createNativeQuery(rawQuery)\r\n                    .getResultList();\r\n\r\n            //mapping all those Object[] into a DTO&gt; EntityDTO\r\n            List&lt;EntityDTO&gt; newEntityDTOList = newEntityRawList\r\n                    .stream()\r\n                    .map(obj -&gt; new EntityDTO((Number) obj[0], (Number) obj[1], (String) obj[2], (String) obj[3]))\r\n                    .collect(Collectors.toList());\r\n\r\n            //this query will fetch all the location from your table\r\n            String locationQuery = &quot;SELECT \\n&quot;\r\n                    + &quot;l.newEntityId,\\n&quot;\r\n                    + &quot;l.id,\\n&quot;\r\n                    + &quot;l.city,\\n&quot;\r\n                    + &quot;l.state,\\n&quot;\r\n                    + &quot;l.country \\n&quot;\r\n                    + &quot;FROM location l&quot;;\r\n            List&lt;Object[]&gt; locationRawList = em.createNativeQuery(locationQuery)\r\n                    .getResultList();\r\n\r\n            //mapping all those Object[] into a DTO&gt; LocationDTO\r\n            List&lt;LocationDTO&gt; locationDTOList = locationRawList\r\n                    .stream()\r\n                    .map(ob -&gt; new LocationDTO((Number) ob[0], (Number) ob[1], (String) ob[2], (String) ob[3], (String) ob[4]))\r\n                    .collect(Collectors.toList());\r\n\r\n            //Using lambda to get a map with key&gt; new entity id. and values&gt; List of Location \r\n            Map&lt;Long, List&lt;LocationDTO&gt;&gt; mapOfNewEntityIdAndLocationList = locationDTOList\r\n                    .stream()\r\n                    .collect(Collectors.groupingBy(LocationDTO::getNewEntityId));\r\n\r\n            //setting The list of locations to EntityDTO\r\n            for (EntityDTO ne : newEntityDTOList) {\r\n                ne.setLocations(mapOfNewEntityIdAndLocationList.get(ne.getId()));\r\n            }\r\n            \r\n            //writing data to file\r\n            file.write(gson.toJson(newEntityDTOList));\r\n        } catch (IOException io) {\r\n            io.printStackTrace();\r\n        }\r\n    }\r\n\r\n    @Getter\r\n    public class EntityDTO {\r\n\r\n        private final long id;\r\n        private final long sharedId;\r\n        private final String someId;\r\n        private final String code;\r\n\r\n        @Setter\r\n        private List&lt;LocationDTO&gt; locations;\r\n\r\n        public EntityDTO(Number id,\r\n                Number sharedId,\r\n                String someId,\r\n                String code) {\r\n            this.id = id.longValue();\r\n            this.sharedId = sharedId.longValue();\r\n            this.someId = someId;\r\n            this.code = code;\r\n        }\r\n    }\r\n\r\n    @Getter\r\n    public class LocationDTO {\r\n\r\n        private final long id;\r\n        private final long newEntityId;\r\n        private final String city;\r\n        private final String state;\r\n        private final String country;\r\n\r\n        public LocationDTO(Number id,\r\n                Number newEntityId,\r\n                String city,\r\n                String state,\r\n                String country) {\r\n            this.id = id.longValue();\r\n            this.newEntityId = newEntityId.longValue();\r\n            this.city = city;\r\n            this.state = state;\r\n            this.country = country;\r\n        }\r\n\r\n    }\r\n    \r\n```\r\nInstead of using the constructors, you can also use [SqlResultSetMapping](https://www.baeldung.com/jpa-sql-resultset-mapping).\r\n\r\nOf course, this will still be an expensive operation and you have figured out the batching yourself from the other answers in the answer section.\r\n \r\nThis approach of solution should eliminate the additional expensive queries.\r\n\r\nI did not run the process I don&#39;t have any data to work with.\r\n\r\nP.S.  Please do try the batching too. The `maxResult` for the first native query is easy, fetching the corresponding data from the second query will be a little tricky as you can you will need to set the `WHERE NEW_ENTITY_ID BETWEEN`  MIN AND MAX `id`s obtained from the first result(should not be very hard as you know how the data are sitting on your database tables).\r\n\r\n\r\nGood luck!","title":"Best way to export a million records formatted as json?","body":"<p>The way I see this is, you are fetching a million records as an entity.\nAfter the query is executed, the resultset will be mapped into the Entity class. In your case, 2 <code>@Formula</code> are being executed for each record and also a list of locations being populated too. I suggest you fetching them directly via native queries.</p>\n<p>I am writing a pseudo code,</p>\n<pre><code>@Transactional(readOnly=true)\npublic void writeMyEntitiesToJsonFile() {\n        Gson gson = new Gson();\n        try {\n\n            FileWriter file = new FileWriter(&quot;new_entities.json&quot;);\n\n            //this query will fetch all the records from your table name\n            String rawQuery = &quot;SELECT \\n&quot;\n                    + &quot;t.NEW_ENTITY_ID AS id,\\n&quot;\n                    + &quot;t.SHARED_ID AS sharedId,\\n&quot;\n                    + &quot;a.SOME_ID AS someId,\\n&quot;\n                    + &quot;a.CODE AS code\\n&quot;\n                    + &quot;FROM TABLE_NAME t\\n&quot;\n                    + &quot;JOIN ANOTHER_TABLE a \\n&quot;\n                    + &quot;ON t.SHARED_ID=a.SHARED_ID&quot;;\n\n            List&lt;Object[]&gt; newEntityRawList = em.createNativeQuery(rawQuery)\n                    .getResultList();\n\n            //mapping all those Object[] into a DTO&gt; EntityDTO\n            List&lt;EntityDTO&gt; newEntityDTOList = newEntityRawList\n                    .stream()\n                    .map(obj -&gt; new EntityDTO((Number) obj[0], (Number) obj[1], (String) obj[2], (String) obj[3]))\n                    .collect(Collectors.toList());\n\n            //this query will fetch all the location from your table\n            String locationQuery = &quot;SELECT \\n&quot;\n                    + &quot;l.newEntityId,\\n&quot;\n                    + &quot;l.id,\\n&quot;\n                    + &quot;l.city,\\n&quot;\n                    + &quot;l.state,\\n&quot;\n                    + &quot;l.country \\n&quot;\n                    + &quot;FROM location l&quot;;\n            List&lt;Object[]&gt; locationRawList = em.createNativeQuery(locationQuery)\n                    .getResultList();\n\n            //mapping all those Object[] into a DTO&gt; LocationDTO\n            List&lt;LocationDTO&gt; locationDTOList = locationRawList\n                    .stream()\n                    .map(ob -&gt; new LocationDTO((Number) ob[0], (Number) ob[1], (String) ob[2], (String) ob[3], (String) ob[4]))\n                    .collect(Collectors.toList());\n\n            //Using lambda to get a map with key&gt; new entity id. and values&gt; List of Location \n            Map&lt;Long, List&lt;LocationDTO&gt;&gt; mapOfNewEntityIdAndLocationList = locationDTOList\n                    .stream()\n                    .collect(Collectors.groupingBy(LocationDTO::getNewEntityId));\n\n            //setting The list of locations to EntityDTO\n            for (EntityDTO ne : newEntityDTOList) {\n                ne.setLocations(mapOfNewEntityIdAndLocationList.get(ne.getId()));\n            }\n            \n            //writing data to file\n            file.write(gson.toJson(newEntityDTOList));\n        } catch (IOException io) {\n            io.printStackTrace();\n        }\n    }\n\n    @Getter\n    public class EntityDTO {\n\n        private final long id;\n        private final long sharedId;\n        private final String someId;\n        private final String code;\n\n        @Setter\n        private List&lt;LocationDTO&gt; locations;\n\n        public EntityDTO(Number id,\n                Number sharedId,\n                String someId,\n                String code) {\n            this.id = id.longValue();\n            this.sharedId = sharedId.longValue();\n            this.someId = someId;\n            this.code = code;\n        }\n    }\n\n    @Getter\n    public class LocationDTO {\n\n        private final long id;\n        private final long newEntityId;\n        private final String city;\n        private final String state;\n        private final String country;\n\n        public LocationDTO(Number id,\n                Number newEntityId,\n                String city,\n                String state,\n                String country) {\n            this.id = id.longValue();\n            this.newEntityId = newEntityId.longValue();\n            this.city = city;\n            this.state = state;\n            this.country = country;\n        }\n\n    }\n    \n</code></pre>\n<p>Instead of using the constructors, you can also use <a href=\"https://www.baeldung.com/jpa-sql-resultset-mapping\" rel=\"nofollow noreferrer\">SqlResultSetMapping</a>.</p>\n<p>Of course, this will still be an expensive operation and you have figured out the batching yourself from the other answers in the answer section.</p>\n<p>This approach of solution should eliminate the additional expensive queries.</p>\n<p>I did not run the process I don't have any data to work with.</p>\n<p>P.S.  Please do try the batching too. The <code>maxResult</code> for the first native query is easy, fetching the corresponding data from the second query will be a little tricky as you can you will need to set the <code>WHERE NEW_ENTITY_ID BETWEEN</code>  MIN AND MAX <code>id</code>s obtained from the first result(should not be very hard as you know how the data are sitting on your database tables).</p>\n<p>Good luck!</p>\n"},{"tags":[],"owner":{"account_id":7265249,"reputation":1110,"user_id":5540231,"display_name":"jausen brett"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688039453,"creation_date":1687873483,"answer_id":76565517,"question_id":76506703,"body_markdown":"In case you suffer from Entity cache blowing up and processing speed decreasing over time, you might consider to use EntityManager.clear() method.\r\n(Creating lots of Entities is one of the best ways to bring down your system. Use a loop and call the clear method after every couple of some hundred entities to get rid of the Entities you do not need anymore.)\r\n[See also here][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/13886608/when-to-use-entitymanager-clear","title":"Best way to export a million records formatted as json?","body":"<p>In case you suffer from Entity cache blowing up and processing speed decreasing over time, you might consider to use EntityManager.clear() method.\n(Creating lots of Entities is one of the best ways to bring down your system. Use a loop and call the clear method after every couple of some hundred entities to get rid of the Entities you do not need anymore.)\n<a href=\"https://stackoverflow.com/questions/13886608/when-to-use-entitymanager-clear\">See also here</a></p>\n"}],"owner":{"account_id":2324803,"reputation":2518,"user_id":2039574,"accept_rate":80,"display_name":"Euridice01"},"comment_count":19,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":833,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"answer_count":4,"score":4,"last_activity_date":1688039453,"creation_date":1687178220,"question_id":76506703,"body_markdown":"I have a request to export roughly a million records to do a one time migration and I need those records exported in JSON format and adhering to the same api contract object structure we normally expose to this other team. \r\n\r\nThe object I need to expose is composed of data from two tables and I have a conditional in place to limit the resultset from millions to 1 million. \r\n\r\nThe batching logic I have below does the initial fetch then batches them in groups of 1000 and add them to a list that I want to expose eventually. \r\n\r\nService method below: \r\n\r\n    public List&lt;NewEntity&gt; getNewEntities() {\r\n        int i=0;\r\n        int BATCH_SIZE = 1000; \r\n    \r\n        List&lt;Entity&gt; totalEntityList = new ArrayList&lt;&gt;();\r\n        \r\n        List&lt;Entity&gt; entityList = entityManager.createNamedQuery(Entity.SELECT_NEW_ENTITIES, Entity.class)\r\n            .setFirstResult(i)\r\n            .setMaxResults(BATCH_SIZE).getResultList();\r\n    \r\n        while(entityList.size() == BATCH_SIZE) {\r\n            i+=BATCH_SIZE;\r\n            entityList = entityManager.createNamedQuery(Entity.SELECT_NEW_ENTITIES, Entity.class)\r\n                .setFirstResult(i)\r\n                .setMaxResults(BATCH_SIZE)\r\n                .getResultList();\r\n            totalEntityList.addAll(entityList);\r\n        }\r\n    \r\n        return totalEntityList.stream()\r\n            .map(entity -&gt; entity.toNewEntity())\r\n            .collect(toList());\r\n    }\r\n\r\nThis process was taking 2.5 (with batch of 1000) and 3.5 hours (with batch of 2000). The first time I ran it, I had a bug where I didn&#39;t save all of them to the list, so I ran it again overnight. I checked in the morning, it took longer and my IDE froze so I don&#39;t know why the request eventually failed with 500 error. I force quit my IDE and trying again now but I won&#39;t know if it works until after 2 to 3 hours. This is very slow. \r\n\r\nIs there a way to improve how I&#39;m doing this? Any other approaches here? \r\n\r\nI&#39;m using Spring Boot, Java, JPA. \r\n\r\nThanks! \r\n\r\nEDIT: UPDATE 2 after adjusting per recommendations from the comments: \r\n\r\n    public void getNewEntities() {\r\n        int i=0;\r\n        int BATCH_SIZE = 1000; \r\n        \r\n        List&lt;Entity&gt; entityList = entityManager.createNamedQuery(Entity.SELECT_NEW_ENTITIES, Entity.class)\r\n            .setFirstResult(i)\r\n            .setMaxResults(BATCH_SIZE).getResultList();\r\n    \r\n        try{\r\n            FileWriter file = new FileWriter(&quot;new_entities.json&quot;);\r\n            while(entityList.size() == BATCH_SIZE) {\r\n                i+=BATCH_SIZE;\r\n                entityList = entityManager.createNamedQuery(Entity.SELECT_NEW_ENTITIES, Entity.class)\r\n                    .setFirstResult(i)\r\n                    .setMaxResults(BATCH_SIZE)\r\n                    .getResultList();\r\n                file.write(new Gson().toJson(entityList));\r\n            }\r\n            file.close();\r\n        }\r\n        catch(IOException ex) {\r\n            ex.printStackTrace(); \r\n        };\r\n    }\r\n\r\nIs this a better(correct?) approach? I&#39;m letting it run right now and not sure how long it would take to write 1,000,000 records to JSON file but let me know if this on the right track? Currently, it&#39;s been two hours and it&#39;s only about 450,000 records through!\r\n\r\nUPDATE 3 adding Entity for visibility. I&#39;m assuming now it could be an issue with the mapping to locations where I&#39;m converting it to list at the end. Should I just keep it as a stream instead? Also I obviously have a lot more fields but I removed the ones where it was just a simple column field with no complexity to it. \r\n\r\n    @Builder\r\n    @Getter\r\n    @Entity\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Table(name = &quot;TABLE_NAME&quot;, schema = &quot;SCHEMA&quot;)\r\n    @NamedQuery(name = SELECT_NEW_ENTITIES, query = FIND_NEW_ENTITIES)\r\n    public class Entity { \r\n    \r\n        public static final String SELECT_NEW_ENTITIES = &quot;SELECT_NEW_ENTITIES&quot;;\r\n    \r\n        protected static final String FIND_NEW_ENTITIES = &quot;&quot; + \r\n            &quot;SELECT a FROM Entity a &quot; + \r\n            &quot;WHERE a.code IS NOT NULL &quot; + \r\n            &quot;AND a.someId IS NOT NULL &quot; +\r\n            &quot;ORDER BY a.id &quot;;\r\n        \r\n        @Id \r\n        @Column(name = &quot;NEW_ENTITY_ID&quot;) \r\n        private Long id;\r\n    \r\n        @Column(name = &quot;SHARED_ID&quot;) \r\n        private Long sharedId;\r\n    \r\n        @OneToMany(cascade = CascadeType.ALL) \r\n        @JoinColumn(name = &quot;NEW_ENTITY_ID&quot;)\r\n        @Builder.Default \r\n        private List&lt;Location&gt; locations = new ArrayList&lt;&gt;();\r\n        \r\n        @Formula(value = &quot;(SELECT eng.SOME_ID from SCHEMA.ANOTHER_TABLE eng WHERE eng.SHARED_ID = SHARED_ID)&quot;) \r\n        private String someId;\r\n        \r\n        @Formula(value = &quot;(SELECT eng.CODE from SCHEMA.ANOTHER_TABLE eng WHERE eng.SHARED_ID = SHARED_ID)&quot;) \r\n        private String code;\r\n    \r\n        public NewEntity toNewEntity() { \r\n            return NewEntity\r\n            .builder() \r\n            .newEntityId(this.getId())\r\n            .code(code) \r\n            .locations(mapLocations()) \r\n            .build(); \r\n            }\r\n     \r\n        private List&lt;LocationModel&gt; mapLocations() { \r\n            return this.getLocations()\r\n            .stream() \r\n            .map(location -&gt; LocationModel.builder() \r\n                .id(location.getId()) \r\n                .newEntityId(location.getNewEntityId()) \r\n                .city(location.getCity()) \r\n                .state(location.getState()) \r\n                .country(location.getCountry())\r\n                .build()) \r\n            .collect(toList()); \r\n        }\r\n    }\r\n\r\n ","title":"Best way to export a million records formatted as json?","body":"<p>I have a request to export roughly a million records to do a one time migration and I need those records exported in JSON format and adhering to the same api contract object structure we normally expose to this other team.</p>\n<p>The object I need to expose is composed of data from two tables and I have a conditional in place to limit the resultset from millions to 1 million.</p>\n<p>The batching logic I have below does the initial fetch then batches them in groups of 1000 and add them to a list that I want to expose eventually.</p>\n<p>Service method below:</p>\n<pre><code>public List&lt;NewEntity&gt; getNewEntities() {\n    int i=0;\n    int BATCH_SIZE = 1000; \n\n    List&lt;Entity&gt; totalEntityList = new ArrayList&lt;&gt;();\n    \n    List&lt;Entity&gt; entityList = entityManager.createNamedQuery(Entity.SELECT_NEW_ENTITIES, Entity.class)\n        .setFirstResult(i)\n        .setMaxResults(BATCH_SIZE).getResultList();\n\n    while(entityList.size() == BATCH_SIZE) {\n        i+=BATCH_SIZE;\n        entityList = entityManager.createNamedQuery(Entity.SELECT_NEW_ENTITIES, Entity.class)\n            .setFirstResult(i)\n            .setMaxResults(BATCH_SIZE)\n            .getResultList();\n        totalEntityList.addAll(entityList);\n    }\n\n    return totalEntityList.stream()\n        .map(entity -&gt; entity.toNewEntity())\n        .collect(toList());\n}\n</code></pre>\n<p>This process was taking 2.5 (with batch of 1000) and 3.5 hours (with batch of 2000). The first time I ran it, I had a bug where I didn't save all of them to the list, so I ran it again overnight. I checked in the morning, it took longer and my IDE froze so I don't know why the request eventually failed with 500 error. I force quit my IDE and trying again now but I won't know if it works until after 2 to 3 hours. This is very slow.</p>\n<p>Is there a way to improve how I'm doing this? Any other approaches here?</p>\n<p>I'm using Spring Boot, Java, JPA.</p>\n<p>Thanks!</p>\n<p>EDIT: UPDATE 2 after adjusting per recommendations from the comments:</p>\n<pre><code>public void getNewEntities() {\n    int i=0;\n    int BATCH_SIZE = 1000; \n    \n    List&lt;Entity&gt; entityList = entityManager.createNamedQuery(Entity.SELECT_NEW_ENTITIES, Entity.class)\n        .setFirstResult(i)\n        .setMaxResults(BATCH_SIZE).getResultList();\n\n    try{\n        FileWriter file = new FileWriter(&quot;new_entities.json&quot;);\n        while(entityList.size() == BATCH_SIZE) {\n            i+=BATCH_SIZE;\n            entityList = entityManager.createNamedQuery(Entity.SELECT_NEW_ENTITIES, Entity.class)\n                .setFirstResult(i)\n                .setMaxResults(BATCH_SIZE)\n                .getResultList();\n            file.write(new Gson().toJson(entityList));\n        }\n        file.close();\n    }\n    catch(IOException ex) {\n        ex.printStackTrace(); \n    };\n}\n</code></pre>\n<p>Is this a better(correct?) approach? I'm letting it run right now and not sure how long it would take to write 1,000,000 records to JSON file but let me know if this on the right track? Currently, it's been two hours and it's only about 450,000 records through!</p>\n<p>UPDATE 3 adding Entity for visibility. I'm assuming now it could be an issue with the mapping to locations where I'm converting it to list at the end. Should I just keep it as a stream instead? Also I obviously have a lot more fields but I removed the ones where it was just a simple column field with no complexity to it.</p>\n<pre><code>@Builder\n@Getter\n@Entity\n@AllArgsConstructor\n@NoArgsConstructor\n@Table(name = &quot;TABLE_NAME&quot;, schema = &quot;SCHEMA&quot;)\n@NamedQuery(name = SELECT_NEW_ENTITIES, query = FIND_NEW_ENTITIES)\npublic class Entity { \n\n    public static final String SELECT_NEW_ENTITIES = &quot;SELECT_NEW_ENTITIES&quot;;\n\n    protected static final String FIND_NEW_ENTITIES = &quot;&quot; + \n        &quot;SELECT a FROM Entity a &quot; + \n        &quot;WHERE a.code IS NOT NULL &quot; + \n        &quot;AND a.someId IS NOT NULL &quot; +\n        &quot;ORDER BY a.id &quot;;\n    \n    @Id \n    @Column(name = &quot;NEW_ENTITY_ID&quot;) \n    private Long id;\n\n    @Column(name = &quot;SHARED_ID&quot;) \n    private Long sharedId;\n\n    @OneToMany(cascade = CascadeType.ALL) \n    @JoinColumn(name = &quot;NEW_ENTITY_ID&quot;)\n    @Builder.Default \n    private List&lt;Location&gt; locations = new ArrayList&lt;&gt;();\n    \n    @Formula(value = &quot;(SELECT eng.SOME_ID from SCHEMA.ANOTHER_TABLE eng WHERE eng.SHARED_ID = SHARED_ID)&quot;) \n    private String someId;\n    \n    @Formula(value = &quot;(SELECT eng.CODE from SCHEMA.ANOTHER_TABLE eng WHERE eng.SHARED_ID = SHARED_ID)&quot;) \n    private String code;\n\n    public NewEntity toNewEntity() { \n        return NewEntity\n        .builder() \n        .newEntityId(this.getId())\n        .code(code) \n        .locations(mapLocations()) \n        .build(); \n        }\n \n    private List&lt;LocationModel&gt; mapLocations() { \n        return this.getLocations()\n        .stream() \n        .map(location -&gt; LocationModel.builder() \n            .id(location.getId()) \n            .newEntityId(location.getNewEntityId()) \n            .city(location.getCity()) \n            .state(location.getState()) \n            .country(location.getCountry())\n            .build()) \n        .collect(toList()); \n    }\n}\n</code></pre>\n"},{"tags":["java","openjdk-11","sdkman"],"comments":[{"owner":{"account_id":137237,"reputation":13989,"user_id":341291,"accept_rate":76,"display_name":"Axel"},"score":0,"creation_date":1612847075,"post_id":66113251,"comment_id":116887461,"body_markdown":"Why would you want to use a Linux JDK on windows?","body":"Why would you want to use a Linux JDK on windows?"},{"owner":{"account_id":18152416,"reputation":377,"user_id":13204939,"display_name":"TanDev"},"score":0,"creation_date":1612847153,"post_id":66113251,"comment_id":116887475,"body_markdown":"our professor said we should use sdkman to download java 11 and I did it using wsl.","body":"our professor said we should use sdkman to download java 11 and I did it using wsl."},{"owner":{"account_id":18152416,"reputation":377,"user_id":13204939,"display_name":"TanDev"},"score":0,"creation_date":1612847177,"post_id":66113251,"comment_id":116887480,"body_markdown":"i am very confused about that part and if i messed up","body":"i am very confused about that part and if i messed up"},{"owner":{"account_id":137237,"reputation":13989,"user_id":341291,"accept_rate":76,"display_name":"Axel"},"score":0,"creation_date":1612847251,"post_id":66113251,"comment_id":116887505,"body_markdown":"Could it be he meant you should use sdkman only if you are using Linux?","body":"Could it be he meant you should use sdkman only if you are using Linux?"},{"owner":{"account_id":18152416,"reputation":377,"user_id":13204939,"display_name":"TanDev"},"score":0,"creation_date":1612847369,"post_id":66113251,"comment_id":116887534,"body_markdown":"is it possible to run sdkman on the windows command prompt?","body":"is it possible to run sdkman on the windows command prompt?"},{"owner":{"account_id":137237,"reputation":13989,"user_id":341291,"accept_rate":76,"display_name":"Axel"},"score":0,"creation_date":1612847436,"post_id":66113251,"comment_id":116887550,"body_markdown":"You will probably not be able to create a user interface and also run into other difficulties when using a Linux JDK under windows. Just install the windows version of whatever JDK he told you to install and use that one in VSCode.","body":"You will probably not be able to create a user interface and also run into other difficulties when using a Linux JDK under windows. Just install the windows version of whatever JDK he told you to install and use that one in VSCode."},{"owner":{"account_id":18152416,"reputation":377,"user_id":13204939,"display_name":"TanDev"},"score":0,"creation_date":1612847466,"post_id":66113251,"comment_id":116887560,"body_markdown":"i mean I googled it and it said we need WSL..however when I downloaded sdkman and the JDK using sdkman, it gets placed in this \\\\wsl$\\Ubuntu\\home\\devt\\.sdkman\\candidates\\java which is not accessible when i try to set the path or something","body":"i mean I googled it and it said we need WSL..however when I downloaded sdkman and the JDK using sdkman, it gets placed in this \\\\wsl$\\Ubuntu\\home\\devt\\.sdkman\\candidates\\java which is not accessible when i try to set the path or something"},{"owner":{"account_id":137237,"reputation":13989,"user_id":341291,"accept_rate":76,"display_name":"Axel"},"score":0,"creation_date":1612847657,"post_id":66113251,"comment_id":116887613,"body_markdown":"Just install a windows version of the JDK. Using sdkman on windows will probably give you nothing but trouble.","body":"Just install a windows version of the JDK. Using sdkman on windows will probably give you nothing but trouble."},{"owner":{"account_id":18152416,"reputation":377,"user_id":13204939,"display_name":"TanDev"},"score":0,"creation_date":1612847718,"post_id":66113251,"comment_id":116887630,"body_markdown":"thats exactly what I am experiencing... TROUBLEE!!","body":"thats exactly what I am experiencing... TROUBLEE!!"},{"owner":{"account_id":3544080,"reputation":324,"user_id":2960486,"accept_rate":40,"display_name":"kenchew"},"score":0,"creation_date":1624695310,"post_id":66113251,"comment_id":120432201,"body_markdown":"Add the sdkman path to java.home in vscode settings.json","body":"Add the sdkman path to java.home in vscode settings.json"},{"owner":{"account_id":1088354,"reputation":2157,"user_id":1083552,"accept_rate":43,"display_name":"Abhinav Kulshreshtha"},"score":0,"creation_date":1651728227,"post_id":66113251,"comment_id":127432831,"body_markdown":"https://code.visualstudio.com/docs/remote/wsl","body":"<a href=\"https://code.visualstudio.com/docs/remote/wsl\" rel=\"nofollow noreferrer\">code.visualstudio.com/docs/remote/wsl</a>"}],"answers":[{"tags":[],"owner":{"account_id":1088354,"reputation":2157,"user_id":1083552,"accept_rate":43,"display_name":"Abhinav Kulshreshtha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651728550,"creation_date":1651728550,"answer_id":72122323,"question_id":66113251,"body_markdown":"They now provide a complete extension for connection to wsl. WSL is a separate user-space inside NT kernel. Your VS-Code is running in windows userspace. Hard way to do it would be to remote into your wsl, and configure there. Easy way would be to install vscode inside wsl, because windows now let you install and use linux GUI apps via wsl. Or use the extension they provide, which works on the microsoft build of vscode,( It doesn&#39;t work with non-microsoft binaries of vscode, like code-oss, vscodium etc.)\r\n\r\n\r\nComplete instructions on working with WSL is documented here. \r\nhttps://code.visualstudio.com/docs/remote/wsl","title":"Java JDK VScode issues","body":"<p>They now provide a complete extension for connection to wsl. WSL is a separate user-space inside NT kernel. Your VS-Code is running in windows userspace. Hard way to do it would be to remote into your wsl, and configure there. Easy way would be to install vscode inside wsl, because windows now let you install and use linux GUI apps via wsl. Or use the extension they provide, which works on the microsoft build of vscode,( It doesn't work with non-microsoft binaries of vscode, like code-oss, vscodium etc.)</p>\n<p>Complete instructions on working with WSL is documented here.\n<a href=\"https://code.visualstudio.com/docs/remote/wsl\" rel=\"nofollow noreferrer\">https://code.visualstudio.com/docs/remote/wsl</a></p>\n"},{"tags":[],"owner":{"account_id":28918503,"reputation":1,"user_id":22149978,"display_name":"Priyadarshi Roy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688038421,"creation_date":1688038421,"answer_id":76580638,"question_id":66113251,"body_markdown":" first step\r\n\r\n(- Install java jdk first \r\n     \r\n \r\n - open settings in vs code \r\n - search for &quot;jdk&quot; in settings\r\n - In java Home\r\n - paste the jdk path:- C:\\Program Files\\Java\\jdk-20\\bin\r\n)\r\n\r\n2nd Step\r\n(\r\n- open settings in vs code \r\n - search for &quot;jdk&quot; in settings\r\n - In java Home - settings json -(Open it)\r\nand add\r\n\r\n&quot;java.home&quot;:&quot;C:\\\\Program Files\\\\Java\\\\jdk1.8.0_161&quot;\r\n\r\n)","title":"Java JDK VScode issues","body":"<p>first step</p>\n<p>(- Install java jdk first</p>\n<ul>\n<li>open settings in vs code</li>\n<li>search for &quot;jdk&quot; in settings</li>\n<li>In java Home</li>\n<li>paste the jdk path:- C:\\Program Files\\Java\\jdk-20\\bin\n)</li>\n</ul>\n<p>2nd Step\n(</p>\n<ul>\n<li>open settings in vs code</li>\n<li>search for &quot;jdk&quot; in settings</li>\n<li>In java Home - settings json -(Open it)\nand add</li>\n</ul>\n<p>&quot;java.home&quot;:&quot;C:\\Program Files\\Java\\jdk1.8.0_161&quot;</p>\n<p>)</p>\n"}],"owner":{"account_id":18152416,"reputation":377,"user_id":13204939,"display_name":"TanDev"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1356,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1688038421,"creation_date":1612846786,"question_id":66113251,"body_markdown":"I installed java jdk using sdkman on my windows machine. I am using wsl for this purpose. \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nHowever, I need to add this to my VScode and when I look at the installed jdk&#39;s available to me I only see these:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2kK8C.png\r\n  [2]: https://i.stack.imgur.com/ou3eu.png\r\n\r\nThis does not display the JDK I installed using sdkman which is located in the folder `\\\\wsl$\\Ubuntu\\home\\devt\\.sdkman\\candidates\\java`. I do not know how to direct my `JAVA_HOME` variable to this location. \r\n","title":"Java JDK VScode issues","body":"<p>I installed java jdk using sdkman on my windows machine. I am using wsl for this purpose.</p>\n<p><a href=\"https://i.stack.imgur.com/2kK8C.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2kK8C.png\" alt=\"enter image description here\" /></a></p>\n<p>However, I need to add this to my VScode and when I look at the installed jdk's available to me I only see these:</p>\n<p><a href=\"https://i.stack.imgur.com/ou3eu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ou3eu.png\" alt=\"enter image description here\" /></a></p>\n<p>This does not display the JDK I installed using sdkman which is located in the folder <code>\\\\wsl$\\Ubuntu\\home\\devt\\.sdkman\\candidates\\java</code>. I do not know how to direct my <code>JAVA_HOME</code> variable to this location.</p>\n"},{"tags":["java","spring","spring-boot","spring-data"],"comments":[{"owner":{"account_id":4573453,"reputation":89,"user_id":3712541,"display_name":"blaze9"},"score":0,"creation_date":1636021361,"post_id":53181491,"comment_id":123448679,"body_markdown":"Did you find out what is the best practice?","body":"Did you find out what is the best practice?"},{"owner":{"account_id":12316529,"reputation":841,"user_id":8995555,"display_name":"RukshanJS"},"score":0,"creation_date":1667726461,"post_id":53181491,"comment_id":131231444,"body_markdown":"This seems to be a very trivial requirement, but couldn&#39;t find any viable solution still.  https://www.baeldung.com/spring-rest-json-patch uses json patch for this and it works. Only downside is that the request needs to be `application/json-patch+json` which is not very REST-friendly for a PATCH in my opinion.","body":"This seems to be a very trivial requirement, but couldn&#39;t find any viable solution still.  <a href=\"https://www.baeldung.com/spring-rest-json-patch\" rel=\"nofollow noreferrer\">baeldung.com/spring-rest-json-patch</a> uses json patch for this and it works. Only downside is that the request needs to be <code>application&#47;json-patch+json</code> which is not very REST-friendly for a PATCH in my opinion."}],"answers":[{"tags":[],"owner":{"account_id":10207558,"reputation":76,"user_id":7535818,"display_name":"bayrem404"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1541546883,"creation_date":1541546883,"answer_id":53181621,"question_id":53181491,"body_markdown":"HTTP PATCH is a nice way to update a resource by specifying only the properties that have changed.\r\nThe following [blog][1] explain it very well \r\n\r\n\r\n  [1]: https://www.infoworld.com/article/3206264/application-development/how-to-perform-partial-updates-to-rest-web-api-resources.html","title":"Spring boot - partial update best practise?","body":"<p>HTTP PATCH is a nice way to update a resource by specifying only the properties that have changed.\nThe following <a href=\"https://www.infoworld.com/article/3206264/application-development/how-to-perform-partial-updates-to-rest-web-api-resources.html\" rel=\"nofollow noreferrer\">blog</a> explain it very well </p>\n"},{"tags":[],"owner":{"account_id":2482344,"reputation":2585,"user_id":2161568,"accept_rate":83,"display_name":"Downhillski"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1541551664,"creation_date":1541551664,"answer_id":53182218,"question_id":53181491,"body_markdown":"If you are using Spring Data MongoDB, you have two options either use the [MongoDB Repository][1] or using the [MongoTemplate][2].\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-data/mongodb/docs/2.1.2.RELEASE/reference/html/#mongo.repositories\r\n  [2]: https://docs.spring.io/spring-data/mongodb/docs/2.1.2.RELEASE/reference/html/#mongo-template.save-update-remove","title":"Spring boot - partial update best practise?","body":"<p>If you are using Spring Data MongoDB, you have two options either use the <a href=\"https://docs.spring.io/spring-data/mongodb/docs/2.1.2.RELEASE/reference/html/#mongo.repositories\" rel=\"nofollow noreferrer\">MongoDB Repository</a> or using the <a href=\"https://docs.spring.io/spring-data/mongodb/docs/2.1.2.RELEASE/reference/html/#mongo-template.save-update-remove\" rel=\"nofollow noreferrer\">MongoTemplate</a>.</p>\n"},{"tags":[],"owner":{"account_id":5779604,"reputation":103,"user_id":4560682,"display_name":"Farai Mugaviri"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1567421289,"creation_date":1567421289,"answer_id":57755616,"question_id":53181491,"body_markdown":"You can actually expose just one endpoint. This is the situation I had a few months ago:\r\n\r\nI wanted people to modify any (or even all)fields of a Projects document (who am I to force the users to manually supply all fields lol). So I have my Model,\r\nProject.java: \r\n\r\n\r\n    package com.foxxmg.jarvisbackend.models;\r\n    //imports\r\n    \r\n    @Document(collection = &quot;Projects&quot;)\r\n    public class Project {\r\n        @Id\r\n        public String id;\r\n        public String projectTitle;\r\n        public String projectOverview;\r\n        public Date startDate;\r\n        public Date endDate;\r\n        public List&lt;String&gt; assignedTo;\r\n        public String progress;\r\n    \r\n       //constructors\r\n    \r\n        //getters &amp; setters\r\n    }\r\n\r\n\r\nI have my repository:\r\n\r\nProjectRepository.java\r\n\r\n   \r\n\r\n     package com.foxxmg.jarvisbackend.repositories;\r\n    //imports\r\n          \r\n        @Repository\r\n        public interface ProjectRepository extends MongoRepository&lt;Project, String&gt;, QuerydslPredicateExecutor&lt;Project&gt; {\r\n    //please note, we are going to use findById(string) method for updating\r\n            Project findByid(String id);\r\n    //other abstract methods \r\n        \r\n        \r\n        }\r\n\r\nNow to my Controller, ProjectController.java:\r\n\r\n  \r\n\r\n    package com.foxxmg.jarvisbackend.controllers;\r\n            //import\r\n\r\n            @RestController\r\n            @RequestMapping(&quot;/projects&quot;)\r\n            @CrossOrigin(&quot;*&quot;)\r\n            public class ProjectController {\r\n                @Autowired\r\n                private ProjectRepository projectRepository;\r\n                \r\n        @PutMapping(&quot;update/{id}&quot;)\r\n            public ResponseEntity&lt;Project&gt; update(@PathVariable(&quot;id&quot;) String id, @RequestBody Project project) {\r\n                Optional&lt;Project&gt; optionalProject = projectRepository.findById(id);\r\n                if (optionalProject.isPresent()) {\r\n                    Project p = optionalProject.get();\r\n                    if (project.getProjectTitle() != null)\r\n                        p.setProjectTitle(project.getProjectTitle());\r\n                    if (project.getProjectOverview() != null)\r\n                        p.setProjectOverview(project.getProjectOverview());\r\n                    if (project.getStartDate() != null)\r\n                        p.setStartDate(project.getStartDate());\r\n                    if (project.getEndDate() != null)\r\n                        p.setEndDate(project.getEndDate());\r\n                    if (project.getAssignedTo() != null)\r\n                        p.setAssignedTo(project.getAssignedTo());\r\n                    return new ResponseEntity&lt;&gt;(projectRepository.save(p), HttpStatus.OK);\r\n                } else\r\n                    return new ResponseEntity&lt;&gt;(HttpStatus.NOT_FOUND);\r\n            }\r\n         }\r\n\r\nThat will allow partial update in MongoDB with Spring Boot.\r\n\r\n","title":"Spring boot - partial update best practise?","body":"<p>You can actually expose just one endpoint. This is the situation I had a few months ago:</p>\n\n<p>I wanted people to modify any (or even all)fields of a Projects document (who am I to force the users to manually supply all fields lol). So I have my Model,\nProject.java: </p>\n\n<pre><code>package com.foxxmg.jarvisbackend.models;\n//imports\n\n@Document(collection = \"Projects\")\npublic class Project {\n    @Id\n    public String id;\n    public String projectTitle;\n    public String projectOverview;\n    public Date startDate;\n    public Date endDate;\n    public List&lt;String&gt; assignedTo;\n    public String progress;\n\n   //constructors\n\n    //getters &amp; setters\n}\n</code></pre>\n\n<p>I have my repository:</p>\n\n<p>ProjectRepository.java</p>\n\n<pre><code> package com.foxxmg.jarvisbackend.repositories;\n//imports\n\n    @Repository\n    public interface ProjectRepository extends MongoRepository&lt;Project, String&gt;, QuerydslPredicateExecutor&lt;Project&gt; {\n//please note, we are going to use findById(string) method for updating\n        Project findByid(String id);\n//other abstract methods \n\n\n    }\n</code></pre>\n\n<p>Now to my Controller, ProjectController.java:</p>\n\n<pre><code>package com.foxxmg.jarvisbackend.controllers;\n        //import\n\n        @RestController\n        @RequestMapping(\"/projects\")\n        @CrossOrigin(\"*\")\n        public class ProjectController {\n            @Autowired\n            private ProjectRepository projectRepository;\n\n    @PutMapping(\"update/{id}\")\n        public ResponseEntity&lt;Project&gt; update(@PathVariable(\"id\") String id, @RequestBody Project project) {\n            Optional&lt;Project&gt; optionalProject = projectRepository.findById(id);\n            if (optionalProject.isPresent()) {\n                Project p = optionalProject.get();\n                if (project.getProjectTitle() != null)\n                    p.setProjectTitle(project.getProjectTitle());\n                if (project.getProjectOverview() != null)\n                    p.setProjectOverview(project.getProjectOverview());\n                if (project.getStartDate() != null)\n                    p.setStartDate(project.getStartDate());\n                if (project.getEndDate() != null)\n                    p.setEndDate(project.getEndDate());\n                if (project.getAssignedTo() != null)\n                    p.setAssignedTo(project.getAssignedTo());\n                return new ResponseEntity&lt;&gt;(projectRepository.save(p), HttpStatus.OK);\n            } else\n                return new ResponseEntity&lt;&gt;(HttpStatus.NOT_FOUND);\n        }\n     }\n</code></pre>\n\n<p>That will allow partial update in MongoDB with Spring Boot.</p>\n"},{"tags":[],"owner":{"account_id":1573445,"reputation":4861,"user_id":1460591,"accept_rate":79,"display_name":"Youans"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688038063,"creation_date":1688037680,"answer_id":76580553,"question_id":53181491,"body_markdown":"If you are using Mapstruct then this blog is very helpful \r\nhttps://cassiomolin.com/2019/06/10/using-http-patch-in-spring/\r\n\r\nthe idea is simple,\r\n- You load the entity from DB\r\n- You convert that entity to dto same type as the payload sent in the API request\r\n- Then you apply merge/patch operation on the payload &amp; the converted dto from last step [utlity included]\r\n- The output is merged dto\r\n- You convert that merged dto to the entity\r\n- You save the entity\r\n\r\n\r\n\r\nexample from the blog:\r\n\r\n    @PatchMapping(path = &quot;/{id}&quot;, consumes = &quot;application/json-patch+json&quot;)\r\n    public ResponseEntity&lt;Void&gt; updateContact(@PathVariable Long id,\r\n                                              @RequestBody JsonPatch patchDocument) {\r\n    \r\n        // Find the domain model that will be patched\r\n        Contact contact = contactService.findContact(id).orElseThrow(ResourceNotFoundException::new);\r\n        \r\n        // Map the domain model to an API resource model\r\n        ContactResourceInput contactResource = contactMapper.asContactResourceInput(contact);\r\n        \r\n        // Apply the patch to the API resource model\r\n        ContactResourceInput contactResourcePatched = patch(patchDocument, contactResource, ContactResourceInput.class);\r\n    \r\n         // Update the domain model with the details from the API resource model\r\n        contactMapper.update(contactResourcePatched, contact);\r\n        \r\n        // Persist the changes\r\n        contactService.updateContact(contact);\r\n    \r\n        // Return 204 to indicate the request has succeeded\r\n        return ResponseEntity.noContent().build();\r\n    }\r\n\r\n\r\nP.S Using mapstruct you will have an easy control on properties mapping, map something to something else or even ignore, this is beneficial if you have a `customerId` long type and you want to map it to `customer`\r\n","title":"Spring boot - partial update best practise?","body":"<p>If you are using Mapstruct then this blog is very helpful\n<a href=\"https://cassiomolin.com/2019/06/10/using-http-patch-in-spring/\" rel=\"nofollow noreferrer\">https://cassiomolin.com/2019/06/10/using-http-patch-in-spring/</a></p>\n<p>the idea is simple,</p>\n<ul>\n<li>You load the entity from DB</li>\n<li>You convert that entity to dto same type as the payload sent in the API request</li>\n<li>Then you apply merge/patch operation on the payload &amp; the converted dto from last step [utlity included]</li>\n<li>The output is merged dto</li>\n<li>You convert that merged dto to the entity</li>\n<li>You save the entity</li>\n</ul>\n<p>example from the blog:</p>\n<pre><code>@PatchMapping(path = &quot;/{id}&quot;, consumes = &quot;application/json-patch+json&quot;)\npublic ResponseEntity&lt;Void&gt; updateContact(@PathVariable Long id,\n                                          @RequestBody JsonPatch patchDocument) {\n\n    // Find the domain model that will be patched\n    Contact contact = contactService.findContact(id).orElseThrow(ResourceNotFoundException::new);\n    \n    // Map the domain model to an API resource model\n    ContactResourceInput contactResource = contactMapper.asContactResourceInput(contact);\n    \n    // Apply the patch to the API resource model\n    ContactResourceInput contactResourcePatched = patch(patchDocument, contactResource, ContactResourceInput.class);\n\n     // Update the domain model with the details from the API resource model\n    contactMapper.update(contactResourcePatched, contact);\n    \n    // Persist the changes\n    contactService.updateContact(contact);\n\n    // Return 204 to indicate the request has succeeded\n    return ResponseEntity.noContent().build();\n}\n</code></pre>\n<p>P.S Using mapstruct you will have an easy control on properties mapping, map something to something else or even ignore, this is beneficial if you have a <code>customerId</code> long type and you want to map it to <code>customer</code></p>\n"}],"owner":{"account_id":8755393,"reputation":217,"user_id":6547145,"accept_rate":20,"display_name":"qwertyqwerty"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9037,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":4,"score":5,"last_activity_date":1688038063,"creation_date":1541546055,"question_id":53181491,"body_markdown":"I am using Spring boot v2 with mongo database.  I was wondering what is the best way to do partial updates on the data model.  Say I have a model with x attributes, depending on the request I may only want to update 1, 2, or x of them attributes. Should I be exposing an endpoint for each type of update operation, or is it possible to expose one endpoint and do it in a generic way? Note I will need to be able to validate the contents of the request attributes (e.g tel. no. must be numbers only)\r\n\r\nThanks,","title":"Spring boot - partial update best practise?","body":"<p>I am using Spring boot v2 with mongo database.  I was wondering what is the best way to do partial updates on the data model.  Say I have a model with x attributes, depending on the request I may only want to update 1, 2, or x of them attributes. Should I be exposing an endpoint for each type of update operation, or is it possible to expose one endpoint and do it in a generic way? Note I will need to be able to validate the contents of the request attributes (e.g tel. no. must be numbers only)</p>\n<p>Thanks,</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1688040437,"post_id":76580588,"comment_id":135022053,"body_markdown":"No it isn&#39;t. 2.7 is JavaEE, 3.0 is JakartaEE and those aren&#39;t compatible.","body":"No it isn&#39;t. 2.7 is JavaEE, 3.0 is JakartaEE and those aren&#39;t compatible."},{"owner":{"account_id":213468,"reputation":103489,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1688045615,"post_id":76580588,"comment_id":135023255,"body_markdown":"This is exactly one of the big (if not biggest) breaking changes when going from 2.7 to 3.0. Spring Boot 2.7 uses JakartaEE 8 / Java EE 8, while 3.0 uses JakartaEE 9. and the big breaking change with JakartaEE 9 is moving a lot of libraries from the `javax.*` namespace to `jakarta.*` namespace.","body":"This is exactly one of the big (if not biggest) breaking changes when going from 2.7 to 3.0. Spring Boot 2.7 uses JakartaEE 8 / Java EE 8, while 3.0 uses JakartaEE 9. and the big breaking change with JakartaEE 9 is moving a lot of libraries from the <code>javax.*</code> namespace to <code>jakarta.*</code> namespace."},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1688048725,"post_id":76580588,"comment_id":135024036,"body_markdown":"@Saintka did you try first reading the release notes of Spring Boot 3.0 and the migration guide? You are expected to investigate before trying to open a question here. Please read https://stackoverflow.com/help/how-to-ask (topic Search, and research).","body":"@Saintka did you try first reading the release notes of Spring Boot 3.0 and the migration guide? You are expected to investigate before trying to open a question here. Please read <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a> (topic Search, and research)."}],"owner":{"account_id":19582383,"reputation":33,"user_id":14331146,"display_name":"Saintka"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1479,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688037991,"creation_date":1688037991,"question_id":76580588,"body_markdown":"There are two applications, first application work on Spring Boot 3.x, second application work on Spring Boot 2.7.x, from the second apllication pull dependensys which contains `Entity` at run Spring Boot 3.x application i get eror `Not a managed type`, firs case use `javax`, second case use `jakarta`.\r\nIs it possible to Spring Boot 3.x use `Entity` which use Spring Boot 2.7.x?","title":"Compatibility Spring Boot 3.x and Spring Boot 2.7.x?","body":"<p>There are two applications, first application work on Spring Boot 3.x, second application work on Spring Boot 2.7.x, from the second apllication pull dependensys which contains <code>Entity</code> at run Spring Boot 3.x application i get eror <code>Not a managed type</code>, firs case use <code>javax</code>, second case use <code>jakarta</code>.\nIs it possible to Spring Boot 3.x use <code>Entity</code> which use Spring Boot 2.7.x?</p>\n"},{"tags":["java","spring-boot","jdbc"],"comments":[{"owner":{"account_id":213468,"reputation":103489,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1688036194,"post_id":76580106,"comment_id":135021172,"body_markdown":"The Spring way is to annotate the method with `@Transactional`. As an aside, if you&#39;re using JDBC directly, then the proper way is to use `connection.setAutoCommit(false)`, the driver will then automatically start a transaction when it needs to, and you would then commit with `connection.commit()`. You should not use this type of statements (e.g. `BEGIN`) to configure transactional behaviour as it may result in incorrect behaviour because the driver may not track those statements and still think it is in auto-commit mode.","body":"The Spring way is to annotate the method with <code>@Transactional</code>. As an aside, if you&#39;re using JDBC directly, then the proper way is to use <code>connection.setAutoCommit(false)</code>, the driver will then automatically start a transaction when it needs to, and you would then commit with <code>connection.commit()</code>. You should not use this type of statements (e.g. <code>BEGIN</code>) to configure transactional behaviour as it may result in incorrect behaviour because the driver may not track those statements and still think it is in auto-commit mode."},{"owner":{"account_id":8605963,"reputation":11,"user_id":6446097,"display_name":"vital"},"score":0,"creation_date":1688037112,"post_id":76580106,"comment_id":135021362,"body_markdown":"@MarkRotteveel Yes, I&#39;m using `@Transactional` and `TransactionTemplate`, but I want to start transaction explicitly. Because I use ProxySQL as database proxy who not support implicit transaction, You can see detail reason here: https://planet.mysql.com/entry/?id=5997899","body":"@MarkRotteveel Yes, I&#39;m using <code>@Transactional</code> and <code>TransactionTemplate</code>, but I want to start transaction explicitly. Because I use ProxySQL as database proxy who not support implicit transaction, You can see detail reason here: <a href=\"https://planet.mysql.com/entry/?id=5997899\" rel=\"nofollow noreferrer\">planet.mysql.com/entry/?id=5997899</a>"},{"owner":{"account_id":213468,"reputation":103489,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1688037572,"post_id":76580106,"comment_id":135021459,"body_markdown":"That is pertinent information which you should include in your question itself. Also, implicit transaction start is something JDBC requires of a driver, but a driver implementation can send an explicit transaction start, so one does not preclude the other.","body":"That is pertinent information which you should include in your question itself. Also, implicit transaction start is something JDBC requires of a driver, but a driver implementation can send an explicit transaction start, so one does not preclude the other."},{"owner":{"account_id":8605963,"reputation":11,"user_id":6446097,"display_name":"vital"},"score":0,"creation_date":1688039917,"post_id":76580106,"comment_id":135021922,"body_markdown":"@MarkRotteveel Thanks a lot, I re-edit this question. But I wonder how to send an explicit transaction start In Spring transaction? Could you plz give me some information or demo code?","body":"@MarkRotteveel Thanks a lot, I re-edit this question. But I wonder how to send an explicit transaction start In Spring transaction? Could you plz give me some information or demo code?"},{"owner":{"account_id":213468,"reputation":103489,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1688041240,"post_id":76580106,"comment_id":135022237,"body_markdown":"Formally, you can&#39;t, because neither JDBC, and by extension, Spring support explicit transaction starts. If the JDBC driver you use doesn&#39;t itself send explicit transaction starts when it needs to, you will need to find or write one that does.","body":"Formally, you can&#39;t, because neither JDBC, and by extension, Spring support explicit transaction starts. If the JDBC driver you use doesn&#39;t itself send explicit transaction starts when it needs to, you will need to find or write one that does."}],"answers":[{"tags":[],"owner":{"account_id":26826260,"reputation":1,"user_id":20414858,"display_name":"dany0140"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688036354,"creation_date":1688036354,"answer_id":76580408,"question_id":76580106,"body_markdown":"I read up on this on baeldung recently, I think your exact answer is provided here -&gt;\r\nhttps://www.baeldung.com/spring-transactions-read-only#2-jpaspring\r\n\r\nYou can either let Spring take over the transaction handling with the `@Transactional` annotation, or use the annotation `@EnableJpaRepositories(enableDefaultTransactions = false)` if you want to manually decide where Transactions should be handeled.","title":"How to make transaction SQL queries explicitly in Spring framework?","body":"<p>I read up on this on baeldung recently, I think your exact answer is provided here -&gt;\n<a href=\"https://www.baeldung.com/spring-transactions-read-only#2-jpaspring\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-transactions-read-only#2-jpaspring</a></p>\n<p>You can either let Spring take over the transaction handling with the <code>@Transactional</code> annotation, or use the annotation <code>@EnableJpaRepositories(enableDefaultTransactions = false)</code> if you want to manually decide where Transactions should be handeled.</p>\n"}],"owner":{"account_id":8605963,"reputation":11,"user_id":6446097,"display_name":"vital"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":176,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688037517,"creation_date":1688033725,"question_id":76580106,"body_markdown":"Just like this\r\n```\r\nSET autocommit=0;\r\nBEGIN;\r\n...\r\n```\r\nBut I found that in Spring(or JDBC) transaction queries not have `BEGIN`;\r\n\r\nHow to make SQL query start transaction explicitly in Spring framework transaction?\r\n\r\n```\r\nSET autocommit=0;\r\nBEGIN;\r\n...\r\n```\r\nThe reason why I want to start transaction explicitly is I&#39;m using ProxySQL as database proxy service. But there are some problems not friendly support to implicity transaction https://planet.mysql.com/entry/?id=5997899\r\n","title":"How to make transaction SQL queries explicitly in Spring framework?","body":"<p>Just like this</p>\n<pre><code>SET autocommit=0;\nBEGIN;\n...\n</code></pre>\n<p>But I found that in Spring(or JDBC) transaction queries not have <code>BEGIN</code>;</p>\n<p>How to make SQL query start transaction explicitly in Spring framework transaction?</p>\n<pre><code>SET autocommit=0;\nBEGIN;\n...\n</code></pre>\n<p>The reason why I want to start transaction explicitly is I'm using ProxySQL as database proxy service. But there are some problems not friendly support to implicity transaction <a href=\"https://planet.mysql.com/entry/?id=5997899\" rel=\"nofollow noreferrer\">https://planet.mysql.com/entry/?id=5997899</a></p>\n"},{"tags":["java","recursion","tree","traversal","postorder"],"comments":[{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":0,"creation_date":1687992565,"post_id":76577103,"comment_id":135015837,"body_markdown":"What is the type of the list? A list of strings or some custom type? Did I get it right you basically want to filter out the nulls?","body":"What is the type of the list? A list of strings or some custom type? Did I get it right you basically want to filter out the nulls?"},{"owner":{"account_id":22158798,"reputation":105,"user_id":16406115,"display_name":"Bal&#225;zs Patai"},"score":0,"creation_date":1687992857,"post_id":76577103,"comment_id":135015866,"body_markdown":"The list is made of a custom type. The nulls should not be present in the desired outcome, but it determines the hierarchy among the elements.","body":"The list is made of a custom type. The nulls should not be present in the desired outcome, but it determines the hierarchy among the elements."},{"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1688021665,"post_id":76577103,"comment_id":135018318,"body_markdown":"Please provide your code attempt, including code that creates the example tree.","body":"Please provide your code attempt, including code that creates the example tree."}],"answers":[{"tags":[],"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1688032969,"creation_date":1688032969,"answer_id":76580015,"question_id":76577103,"body_markdown":"You write:\r\n\r\n&gt; now I would like to go through the the elements in postorder manner\r\n\r\nIf you don&#39;t intend to include the `null` items, then it wouldn&#39;t make any difference if you went through the elements in pre-order, in-order or post-order manner: the output will be the same.\r\n\r\nThe binary tree you describe is a *full* binary tree with no data in the internal nodes. The difference between traversal orders like pre-order, in-order and post-order, is when **internal** nodes are visited:\r\n\r\n* &quot;pre&quot; refers to *first* visiting an internal node, then its children,\r\n* &quot;in&quot; refers to visiting an internal node *in between* the visits of its left and right children,\r\n* &quot;post&quot; refers to visiting an internal node *after* having visited its children.\r\n\r\nBut this does not affect the relative order in which they visit leaf nodes, because they all visit a node&#39;s left child before its right child! The order of the leaf visits is the same for all three traversals.\r\n\r\n### Example\r\n\r\nYour example was a bit small, so here is a less trivial example, where I have temporarily labeled the internal nodes with numbers:\r\n\r\n```none\r\n                             _______1______ \r\n                            /              \\\r\n                         __2__              6\r\n                        /     \\            / \\\r\n                       3       5          7   I\r\n                      / \\     / \\        / \\\r\n                     A   4   D   E      8   H\r\n                        / \\            / \\\r\n                       B   C          F   G\r\n```\r\n\r\nHere are the traversals for this tree:\r\n\r\n```\r\nPre-order:  1 2 3 A 4 B C 5 D E 6 7 8 F G H I\r\nIn-order:   A 3 B 4 C 2 D 5 E 1 F 8 G 7 H 6 I\r\nPost-order: A B C 4 3 D E 5 2 F G 8 H 7 I 6 1\r\n```\r\n\r\nIf we now remove the labels of the internal nodes, and just keep the data, we see all these traversals have the same order for that data:\r\n\r\n```\r\nPre-order:  A B C D E F G H I\r\nIn-order:   A B C D E F G H I\r\nPost-order: A B C D E F G H I\r\n```\r\n\r\n### Algorithm\r\n\r\nThe algorithm to make the traversal can use recursion or an explicit stack. I went with the second option. Here I have defined the data as strings, but it would be similar for any other data type:\r\n\r\n```\r\n    static List&lt;String&gt; collectLeaves(String[][] tree) {\r\n        List&lt;String&gt; output = new ArrayList&lt;&gt;();\r\n        Stack&lt;String&gt; stack = new Stack&lt;&gt;();\r\n        stack.push(null);\r\n        for (var pair : tree) {\r\n            stack.push(pair[1]);\r\n            stack.push(pair[0]);\r\n            while (stack.peek() != null) {\r\n                output.add(stack.pop()); // data\r\n            }\r\n            stack.pop(); // null\r\n        }\r\n        return output;\r\n    }\r\n```\r\n\r\nAnd here is some code to define the example as input and use the above function:\r\n\r\n```\r\n        String[][] input = {\r\n            {null, null}, {null, null}, {&quot;A&quot;, null}, {&quot;B&quot;, &quot;C&quot;},\r\n            {&quot;D&quot;, &quot;E&quot;}, {null, &quot;I&quot;}, {null, &quot;H&quot;}, {&quot;F&quot;, &quot;G&quot;},\r\n        };\r\n        var output = collectLeaves(input);\r\n        for (var item : output) {\r\n            System.out.print(item + &quot; &quot;);\r\n        }\r\n        System.out.println();\r\n```\r\n\r\nOutput:\r\n\r\n```\r\nA B C D E F G H I\r\n```\r\n","title":"How to traverse a list in postorder manner which was made in preorder?","body":"<p>You write:</p>\n<blockquote>\n<p>now I would like to go through the the elements in postorder manner</p>\n</blockquote>\n<p>If you don't intend to include the <code>null</code> items, then it wouldn't make any difference if you went through the elements in pre-order, in-order or post-order manner: the output will be the same.</p>\n<p>The binary tree you describe is a <em>full</em> binary tree with no data in the internal nodes. The difference between traversal orders like pre-order, in-order and post-order, is when <strong>internal</strong> nodes are visited:</p>\n<ul>\n<li>&quot;pre&quot; refers to <em>first</em> visiting an internal node, then its children,</li>\n<li>&quot;in&quot; refers to visiting an internal node <em>in between</em> the visits of its left and right children,</li>\n<li>&quot;post&quot; refers to visiting an internal node <em>after</em> having visited its children.</li>\n</ul>\n<p>But this does not affect the relative order in which they visit leaf nodes, because they all visit a node's left child before its right child! The order of the leaf visits is the same for all three traversals.</p>\n<h3>Example</h3>\n<p>Your example was a bit small, so here is a less trivial example, where I have temporarily labeled the internal nodes with numbers:</p>\n<pre class=\"lang-none prettyprint-override\"><code>                             _______1______ \n                            /              \\\n                         __2__              6\n                        /     \\            / \\\n                       3       5          7   I\n                      / \\     / \\        / \\\n                     A   4   D   E      8   H\n                        / \\            / \\\n                       B   C          F   G\n</code></pre>\n<p>Here are the traversals for this tree:</p>\n<pre><code>Pre-order:  1 2 3 A 4 B C 5 D E 6 7 8 F G H I\nIn-order:   A 3 B 4 C 2 D 5 E 1 F 8 G 7 H 6 I\nPost-order: A B C 4 3 D E 5 2 F G 8 H 7 I 6 1\n</code></pre>\n<p>If we now remove the labels of the internal nodes, and just keep the data, we see all these traversals have the same order for that data:</p>\n<pre><code>Pre-order:  A B C D E F G H I\nIn-order:   A B C D E F G H I\nPost-order: A B C D E F G H I\n</code></pre>\n<h3>Algorithm</h3>\n<p>The algorithm to make the traversal can use recursion or an explicit stack. I went with the second option. Here I have defined the data as strings, but it would be similar for any other data type:</p>\n<pre><code>    static List&lt;String&gt; collectLeaves(String[][] tree) {\n        List&lt;String&gt; output = new ArrayList&lt;&gt;();\n        Stack&lt;String&gt; stack = new Stack&lt;&gt;();\n        stack.push(null);\n        for (var pair : tree) {\n            stack.push(pair[1]);\n            stack.push(pair[0]);\n            while (stack.peek() != null) {\n                output.add(stack.pop()); // data\n            }\n            stack.pop(); // null\n        }\n        return output;\n    }\n</code></pre>\n<p>And here is some code to define the example as input and use the above function:</p>\n<pre><code>        String[][] input = {\n            {null, null}, {null, null}, {&quot;A&quot;, null}, {&quot;B&quot;, &quot;C&quot;},\n            {&quot;D&quot;, &quot;E&quot;}, {null, &quot;I&quot;}, {null, &quot;H&quot;}, {&quot;F&quot;, &quot;G&quot;},\n        };\n        var output = collectLeaves(input);\n        for (var item : output) {\n            System.out.print(item + &quot; &quot;);\n        }\n        System.out.println();\n</code></pre>\n<p>Output:</p>\n<pre><code>A B C D E F G H I\n</code></pre>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688037376,"creation_date":1688037376,"answer_id":76580525,"question_id":76577103,"body_markdown":"This produces the results you&#39;ve posted:\r\n\r\n    List&lt;List&lt;String&gt;&gt; input = ...;\r\n    List&lt;String&gt; result = input.stream()\r\n      .flatMap(List::stream)\r\n      .filter(Objects::nonNull)\r\n      .collect(toList());","title":"How to traverse a list in postorder manner which was made in preorder?","body":"<p>This produces the results you've posted:</p>\n<pre><code>List&lt;List&lt;String&gt;&gt; input = ...;\nList&lt;String&gt; result = input.stream()\n  .flatMap(List::stream)\n  .filter(Objects::nonNull)\n  .collect(toList());\n</code></pre>\n"}],"owner":{"account_id":22158798,"reputation":105,"user_id":16406115,"display_name":"Bal&#225;zs Patai"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76580015,"answer_count":2,"score":0,"last_activity_date":1688037376,"creation_date":1687991769,"question_id":76577103,"body_markdown":"In java I have a list where each element consist of a leftName and rightName. If the left or rightName is null it indicates that it has an another leaf/node (if both of them are null they have 2 leaves). The list was made from a tree in preorder traversal, and now I would like to go through the the elements in postorder manner.\r\n\r\nOther from the null-s you can not really know the order of the list by looking at the text. (In the case of ordered numbers it would be much easier).\r\n\r\n\r\n&gt; Example for the list: \r\n&gt; [[null,null],[something1,something2],[otherthing1,otherthing2]]\r\n&gt; \r\n&gt; Desired output\r\n&gt; \r\n&gt; something1,something2,otherthing1,otherthing2\r\n&gt; \r\n&gt; Another example for the list: \r\n&gt; [[something,null],[other,secondOther],[otherthing1,otherthing2]]\r\n&gt; \r\n&gt; Desired output\r\n&gt; \r\n&gt; something, other, secondother, otherthing1, otherthing2\r\n\r\nI have managed to correctly traverse through the whole left side of the list, but finding the index of the last element in the left side is hard for me. (If you know this number dynamically you can process the right side of the tree).\r\n\r\nThanks for the help in advance!","title":"How to traverse a list in postorder manner which was made in preorder?","body":"<p>In java I have a list where each element consist of a leftName and rightName. If the left or rightName is null it indicates that it has an another leaf/node (if both of them are null they have 2 leaves). The list was made from a tree in preorder traversal, and now I would like to go through the the elements in postorder manner.</p>\n<p>Other from the null-s you can not really know the order of the list by looking at the text. (In the case of ordered numbers it would be much easier).</p>\n<blockquote>\n<p>Example for the list:\n[[null,null],[something1,something2],[otherthing1,otherthing2]]</p>\n<p>Desired output</p>\n<p>something1,something2,otherthing1,otherthing2</p>\n<p>Another example for the list:\n[[something,null],[other,secondOther],[otherthing1,otherthing2]]</p>\n<p>Desired output</p>\n<p>something, other, secondother, otherthing1, otherthing2</p>\n</blockquote>\n<p>I have managed to correctly traverse through the whole left side of the list, but finding the index of the last element in the left side is hard for me. (If you know this number dynamically you can process the right side of the tree).</p>\n<p>Thanks for the help in advance!</p>\n"},{"tags":["java","polymorphism","upcasting","run-time-polymorphism"],"comments":[{"owner":{"account_id":1888343,"reputation":176597,"user_id":1707091,"display_name":"rgettman"},"score":0,"creation_date":1565803159,"post_id":57499266,"comment_id":101468147,"body_markdown":"Your code is great example of polymorphism, which will execute the subclass method even on an object typed as the superclass.","body":"Your code is great example of polymorphism, which will execute the subclass method even on an object typed as the superclass."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1565803371,"post_id":57499266,"comment_id":101468229,"body_markdown":"Just because you call it something else doesn&#39;t actually change the underlying object in memory. This is how it should be, otherwise you&#39;d break a fairly large sect of programming paradigms (LSP in particular). `Upcasting` is actually a bit of a nonsense phrase that I&#39;m guilty of having used in the past myself","body":"Just because you call it something else doesn&#39;t actually change the underlying object in memory. This is how it should be, otherwise you&#39;d break a fairly large sect of programming paradigms (LSP in particular). <code>Upcasting</code> is actually a bit of a nonsense phrase that I&#39;m guilty of having used in the past myself"},{"owner":{"display_name":"user10762593"},"score":0,"creation_date":1565838346,"post_id":57499266,"comment_id":101477314,"body_markdown":"The cast ```(Tree)``` is not even needed here, since ```t``` is an array of ```Tree```.  Therefore ```t[i]``` is already a ```Tree```, so the cast is a request to treat the ```Tree``` as a ```Tree```.","body":"The cast <code>(Tree)</code> is not even needed here, since <code>t</code> is an array of <code>Tree</code>.  Therefore <code>t[i]</code> is already a <code>Tree</code>, so the cast is a request to treat the <code>Tree</code> as a <code>Tree</code>."}],"answers":[{"tags":[],"owner":{"account_id":16426288,"reputation":376,"user_id":11866249,"display_name":"nishantc1527"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1565804636,"creation_date":1565803343,"answer_id":57499348,"question_id":57499266,"body_markdown":"This is called polymorphism. The method takes the same type (none), same return type (void), and same name (print). So, when you call the print method, it calls the most specialized (the method that is lowest in the inheritance tree). There is something called what they think the object is and what it really is. They think it is a Tree, but is actually a Banyan Tree. If you up cast it, it doesn&#39;t do anything because the array of Trees make it so that they think they are Trees, and if you up cast it to a tree they still think it is a tree. Technically, you&#39;re up casting it to the exact same thing. Sorry for not including this in my answer. When you make a new Tree, the inheritance structure looks like this.\r\n\r\n    Object (Cosmic Super-class)\r\n  \r\n     |\r\n\r\n    \\ /\r\n\r\n    Tree\r\n\r\nThe most specialized method is tree. However, when you create another type of tree, let&#39;s say BanyanTree, the structure looks like this.\r\n\r\n    Object\r\n\r\n     |\r\n\r\n    \\ /\r\n\r\n    Tree\r\n\r\n     |\r\n\r\n    \\ /\r\n\r\n    BanyanTree\r\n\r\nThe most specialized print method comes from BanyanTree, so it executes that. Sorry if you didn&#39;t understand, it&#39;s a pretty complicated topic. ","title":"How does upcasting actually works in java","body":"<p>This is called polymorphism. The method takes the same type (none), same return type (void), and same name (print). So, when you call the print method, it calls the most specialized (the method that is lowest in the inheritance tree). There is something called what they think the object is and what it really is. They think it is a Tree, but is actually a Banyan Tree. If you up cast it, it doesn't do anything because the array of Trees make it so that they think they are Trees, and if you up cast it to a tree they still think it is a tree. Technically, you're up casting it to the exact same thing. Sorry for not including this in my answer. When you make a new Tree, the inheritance structure looks like this.</p>\n\n<pre><code>Object (Cosmic Super-class)\n\n |\n\n\\ /\n\nTree\n</code></pre>\n\n<p>The most specialized method is tree. However, when you create another type of tree, let's say BanyanTree, the structure looks like this.</p>\n\n<pre><code>Object\n\n |\n\n\\ /\n\nTree\n\n |\n\n\\ /\n\nBanyanTree\n</code></pre>\n\n<p>The most specialized print method comes from BanyanTree, so it executes that. Sorry if you didn't understand, it's a pretty complicated topic. </p>\n"},{"tags":[],"owner":{"account_id":16503711,"reputation":1,"user_id":11924334,"display_name":"evengy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1565811645,"creation_date":1565805689,"answer_id":57499863,"question_id":57499266,"body_markdown":"If `DerivedClass` extends `BaseClass` and has a method with same name and same signature of `BaseClass` then the overriding will take place at run-time polymorphism. \r\nAlso there is no need in upcast as you already initialized your array as `BaseClass[ ]`","title":"How does upcasting actually works in java","body":"<p>If <code>DerivedClass</code> extends <code>BaseClass</code> and has a method with same name and same signature of <code>BaseClass</code> then the overriding will take place at run-time polymorphism. \nAlso there is no need in upcast as you already initialized your array as <code>BaseClass[ ]</code></p>\n"},{"tags":[],"owner":{"account_id":28918460,"reputation":1,"user_id":22149943,"display_name":"Ahmed Abdullah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688037365,"creation_date":1688037365,"answer_id":76580521,"question_id":57499266,"body_markdown":"base class work as blueprint for derived class, since derived class inherit from base class and adds its own behaviors , the following link maybe help for this topic. \r\n\r\nhttps://youtu.be/CZ3VMokXqQI","title":"How does upcasting actually works in java","body":"<p>base class work as blueprint for derived class, since derived class inherit from base class and adds its own behaviors , the following link maybe help for this topic.</p>\n<p><a href=\"https://youtu.be/CZ3VMokXqQI\" rel=\"nofollow noreferrer\">https://youtu.be/CZ3VMokXqQI</a></p>\n"}],"owner":{"account_id":5838262,"reputation":1034,"user_id":4600638,"accept_rate":0,"display_name":"Vaibhav More"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":383,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1688037365,"creation_date":1565802950,"question_id":57499266,"body_markdown":"I have 3 classes where one is the `super class` and other two are `sub classes`. They have `print()` method common in them. While calling `print()` methods from `main()` I have upcasted the objects to `super class` then is it not that it must invoke method of `super class` rather than `subclasses`. I am confused here a little bit. How is it possible? Is there any reason for such kind of behaviour in java.\r\n\r\nHere is my code\r\n\r\n    class Tree {\r\n\tpublic void print() {\r\n\t\tSystem.out.println(&quot;I am Tree&quot;);\r\n\t}\r\n\tpublic static void main(String []args) {\r\n\t\tTree t[] = new Tree[3];\r\n\t\tt[0] = new Tree();\r\n\t\tt[1] = new BanyanTree();\r\n\t\tt[2] = new PeepalTree();\r\n\t\tfor(int i = 0; i &lt; 3; i++) {\r\n\t\t\t((Tree)t[i]).print();\r\n\t\t}\r\n\t  }\r\n    }\r\n\r\n\r\n    public class BanyanTree extends Tree{\r\n\tpublic void print() {\r\n\t\tSystem.out.println(&quot;I am BanyanTree&quot;);\r\n\t  }\r\n    }\r\n\r\n\r\n    public class PeepalTree extends Tree{\r\n\tpublic void print() {\r\n\t\tSystem.out.println(&quot;I am PeepalTree&quot;);\r\n\t  }\r\n    }\r\n\r\nThe output of the program is\r\n\r\n    I am Tree\r\n    I am BanyanTree\r\n    I am PeepalTree\r\n\r\nAccording to me the output should be\r\n\r\n    I am Tree\r\n    I am Tree\r\n    I am Tree\r\n\r\nAm I missing something here???\r\n","title":"How does upcasting actually works in java","body":"<p>I have 3 classes where one is the <code>super class</code> and other two are <code>sub classes</code>. They have <code>print()</code> method common in them. While calling <code>print()</code> methods from <code>main()</code> I have upcasted the objects to <code>super class</code> then is it not that it must invoke method of <code>super class</code> rather than <code>subclasses</code>. I am confused here a little bit. How is it possible? Is there any reason for such kind of behaviour in java.</p>\n\n<p>Here is my code</p>\n\n<pre><code>class Tree {\npublic void print() {\n    System.out.println(\"I am Tree\");\n}\npublic static void main(String []args) {\n    Tree t[] = new Tree[3];\n    t[0] = new Tree();\n    t[1] = new BanyanTree();\n    t[2] = new PeepalTree();\n    for(int i = 0; i &lt; 3; i++) {\n        ((Tree)t[i]).print();\n    }\n  }\n}\n\n\npublic class BanyanTree extends Tree{\npublic void print() {\n    System.out.println(\"I am BanyanTree\");\n  }\n}\n\n\npublic class PeepalTree extends Tree{\npublic void print() {\n    System.out.println(\"I am PeepalTree\");\n  }\n}\n</code></pre>\n\n<p>The output of the program is</p>\n\n<pre><code>I am Tree\nI am BanyanTree\nI am PeepalTree\n</code></pre>\n\n<p>According to me the output should be</p>\n\n<pre><code>I am Tree\nI am Tree\nI am Tree\n</code></pre>\n\n<p>Am I missing something here???</p>\n"},{"tags":["java","android","audio","android-mediaplayer","media-player"],"owner":{"account_id":6140624,"reputation":592,"user_id":4788165,"accept_rate":47,"display_name":"Josemafuen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688037227,"creation_date":1688037227,"question_id":76580509,"body_markdown":"I&#39;m trying to add a PresetReverb to a MediaPlayer. The weird thing is that, without it, the audio plays normally. But if I add the PresetReverb, no sound is playing. Here&#39;s what I tried:\r\n\r\n\r\n        mCurrentPlayer = MediaPlayer.create(ctx, song);\r\n        PresetReverb pr = new PresetReverb(1, mp.getAudioSessionId());\r\n        pr.setPreset(PresetReverb.PRESET_SMALLROOM);\r\n        pr.setEnabled(true);\r\n        mCurrentPlayer.attachAuxEffect(pr.getId());\r\n        mCurrentPlayer.setAuxEffectSendLevel(1.0f);\r\n        mCurrentPlayer.setVolume(0.5f, 0.5f);\r\n        mCurrentPlayer.setOnPreparedListener(mediaPlayer -&gt; mCurrentPlayer.start());\r\n        mCurrentPlayer.start();\r\n\r\nOf course, \r\n    `&lt;uses-permission android:name=&quot;android.permission.MODIFY_AUDIO_SETTINGS&quot;/&gt;` is in my manifest","title":"PresetReverb makes MediaPlayer silent","body":"<p>I'm trying to add a PresetReverb to a MediaPlayer. The weird thing is that, without it, the audio plays normally. But if I add the PresetReverb, no sound is playing. Here's what I tried:</p>\n<pre><code>    mCurrentPlayer = MediaPlayer.create(ctx, song);\n    PresetReverb pr = new PresetReverb(1, mp.getAudioSessionId());\n    pr.setPreset(PresetReverb.PRESET_SMALLROOM);\n    pr.setEnabled(true);\n    mCurrentPlayer.attachAuxEffect(pr.getId());\n    mCurrentPlayer.setAuxEffectSendLevel(1.0f);\n    mCurrentPlayer.setVolume(0.5f, 0.5f);\n    mCurrentPlayer.setOnPreparedListener(mediaPlayer -&gt; mCurrentPlayer.start());\n    mCurrentPlayer.start();\n</code></pre>\n<p>Of course,\n<code>&lt;uses-permission android:name=&quot;android.permission.MODIFY_AUDIO_SETTINGS&quot;/&gt;</code> is in my manifest</p>\n"},{"tags":["java","rmi","jira-rest-java-api"],"comments":[{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":0,"creation_date":1687642337,"post_id":76547965,"comment_id":134966059,"body_markdown":"where is your [mcve]?","body":"where is your <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>?"},{"owner":{"account_id":19975347,"reputation":380,"user_id":14639814,"display_name":"lordyhas"},"score":0,"creation_date":1687647291,"post_id":76547965,"comment_id":134966409,"body_markdown":"@OldProgrammer I added my code sample,","body":"@OldProgrammer I added my code sample,"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":2,"creation_date":1687738986,"post_id":76547965,"comment_id":134974176,"body_markdown":"If it isn&#39;t `Serializable` and you can&#39;t make it so, you will have to send something else instead and map it at both ends.","body":"If it isn&#39;t <code>Serializable</code> and you can&#39;t make it so, you will have to send something else instead and map it at both ends."},{"owner":{"account_id":19975347,"reputation":380,"user_id":14639814,"display_name":"lordyhas"},"score":0,"creation_date":1687761917,"post_id":76547965,"comment_id":134976261,"body_markdown":"@user207421 I didn&#39;t think that was my only solution, but I&#39;d say it&#39;s the only one.","body":"@user207421 I didn&#39;t think that was my only solution, but I&#39;d say it&#39;s the only one."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1687842714,"post_id":76547965,"comment_id":134989220,"body_markdown":"@lordyhas Eh? You didn&#39;&#39;t think so but now you do? If you have access to the source code you could use `writeReplace()` and `readResolve()`, but then if you had access to the source code you could make it `Serializable`.","body":"@lordyhas Eh? You didn&#39;&#39;t think so but now you do? If you have access to the source code you could use <code>writeReplace()</code> and <code>readResolve()</code>, but then if you had access to the source code you could make it <code>Serializable</code>."},{"owner":{"account_id":19975347,"reputation":380,"user_id":14639814,"display_name":"lordyhas"},"score":0,"creation_date":1688029423,"post_id":76547965,"comment_id":135019889,"body_markdown":"@user207421  I wanted to say that I was already thinking of such a solution but I was hoping to find other alternatives by coming here. I didn&#39;t think it was the only one.\nSo I used the `com.google.code.gson:gson:2.10.1` (Gson) package from google to map the `Issue` class.\nThanks for your help.","body":"@user207421  I wanted to say that I was already thinking of such a solution but I was hoping to find other alternatives by coming here. I didn&#39;t think it was the only one. So I used the <code>com.google.code.gson:gson:2.10.1</code> (Gson) package from google to map the <code>Issue</code> class. Thanks for your help."}],"owner":{"account_id":19975347,"reputation":380,"user_id":14639814,"display_name":"lordyhas"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1688037021,"creation_date":1687640245,"question_id":76547965,"body_markdown":"I wanted to transfer the Issue class from [jira rest client api](https://www.baeldung.com/jira-rest-api, &quot;click here if you wanna know more about&quot;), and apparently this class is not serializable.\r\n\r\nHere  my code :\r\n\r\n**rmi_server side**\r\n\r\n`JiraConnection.class`\r\n```java\r\npublic interface JiraConnection extends Remote {\r\n    ...\r\n    public List&lt;Issue&gt; getIssuesFromJqlSearch(String jqlSearch) throws RemoteException, TimeoutException;\r\n    ...\r\n}\r\n\r\n```\r\n\r\n`JiraServant.class`\r\n```java\r\n\r\npublic class JiraServant extends UnicastRemoteObject implements JiraConnection {\r\n    private String username = &quot;...&quot;;\r\n    private String password = &quot;...&quot;;\r\n    private String jiraUrl = &quot;...&quot;;\r\n    private JiraRestClient restClient;\r\n\r\n    public JiraServant() throws RemoteException {\r\n        super();\r\n        this.restClient = getJiraRestClient();\r\n    }\r\n    ....\r\n    private JiraRestClient getJiraRestClient() throws RemoteException {\r\n        return new AsynchronousJiraRestClientFactory()\r\n                .createWithBasicHttpAuthentication(this.jiraUrl , this.username, this.password);\r\n    }\r\n    public List&lt;Issue&gt; getIssuesFromJqlSearch(String jqlSearch) throws RemoteException, TimeoutException {\r\n        try {\r\n            final SearchResult searchResult = getJiraRestClient().getSearchClient()\r\n                    .searchJql(jqlSearch)\r\n                    .get(5000, TimeUnit.SECONDS);\r\n            return Lists.newArrayList(searchResult.getIssues());\r\n        } catch (TimeoutException e) {\r\n            System.err.println(&quot;jira rest client timeout from jql search error. cause: &quot; + e.getMessage());\r\n            throw e;\r\n        } catch (Exception e) {\r\n            System.err.println(&quot;jira rest client get issue from jql search error. cause: &quot; + e.getMessage());\r\n            return Collections.emptyList();\r\n        }\r\n    }\r\n    ...\r\n}\r\n```\r\n`Main.class`\r\n```java\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;=== RMI Server ===&quot;);\r\n        try{\r\n            JiraServant servant  =  new JiraServant();\r\n            String url = &quot;rmi://localhost:5097/jira-api&quot;;\r\n            LocateRegistry.createRegistry(5097);\r\n            Naming.rebind(url, servant);\r\n\r\n            System.out.println(&quot;Server ready...&quot;);\r\n        }catch(RemoteException | MalformedURLException e){\r\n            System.out.println(&quot;Failed to open the server&quot;);\r\n        }\r\n\r\n    }\r\n}\r\n```\r\n**rmi_client side**\r\n```java\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;=== === RMI Client === ===&quot;);\r\n        try{\r\n            String url = &quot;rmi://localhost:5097/jira-api&quot;; //todo: change this to jira\r\n\r\n            JiraConnection jiraConnection = (JiraConnection)  Naming.lookup(url);\r\n            String jqlSearch = &quot;project = &#39;SDR&#39; AND assignee = 627cba6c6ba8640069cf1faa AND status IN (Open) ORDER BY created DESC&quot;;\r\n\r\n            try {\r\n                List&lt;Issue&gt; results = jiraConnection.getIssuesFromJqlSearch(jqlSearch);\r\n                \r\n                for(Issue issue: results){\r\n                    String reporterAccountId = Objects.requireNonNull(issue.getReporter()).getAccountId();\r\n                    System.out.print(&quot;Reporter: &quot;+ jiraConnection.getUser(reporterAccountId));\r\n                    System.out.println(&quot;, Key: &quot;+issue.getKey() + &quot;, Title: &quot;+issue.getSummary() + &quot;, Status: &quot; + issue.getStatus().getName());\r\n                }\r\n                System.out.println(&quot;Ben a &quot;+results.size() +&quot; open issues&quot;);\r\n            } catch (TimeoutException ex) {\r\n                Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\r\n            }\r\n\r\n        }catch(RemoteException | MalformedURLException e){\r\n            System.out.println(&quot;Failed to open the server&quot;);\r\n            System.out.println(&quot;Error Message : &quot;+e);\r\n        } catch (NotBoundException ex) {\r\n            Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nAnd I get this error: \r\n```\r\njava.rmi.UnmarshalException: error unmarshalling return; \r\nnested exception is: java.io.WriteAbortedException: writing aborted; \r\njava.io.NotSerializableException: com.atlassian.jira.rest.client.api.domain.Issue\r\n```\r\n\r\nDoes anyone have solution to allow me to transfer Issue class from server to client, using RMI.\r\n\r\n","title":"Java RMI : How to transfer non-remote existing object class","body":"<p>I wanted to transfer the Issue class from <a href=\"https://www.baeldung.com/jira-rest-api,\" rel=\"nofollow noreferrer\" title=\"click here if you wanna know more about\">jira rest client api</a>, and apparently this class is not serializable.</p>\n<p>Here  my code :</p>\n<p><strong>rmi_server side</strong></p>\n<p><code>JiraConnection.class</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface JiraConnection extends Remote {\n    ...\n    public List&lt;Issue&gt; getIssuesFromJqlSearch(String jqlSearch) throws RemoteException, TimeoutException;\n    ...\n}\n\n</code></pre>\n<p><code>JiraServant.class</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>\npublic class JiraServant extends UnicastRemoteObject implements JiraConnection {\n    private String username = &quot;...&quot;;\n    private String password = &quot;...&quot;;\n    private String jiraUrl = &quot;...&quot;;\n    private JiraRestClient restClient;\n\n    public JiraServant() throws RemoteException {\n        super();\n        this.restClient = getJiraRestClient();\n    }\n    ....\n    private JiraRestClient getJiraRestClient() throws RemoteException {\n        return new AsynchronousJiraRestClientFactory()\n                .createWithBasicHttpAuthentication(this.jiraUrl , this.username, this.password);\n    }\n    public List&lt;Issue&gt; getIssuesFromJqlSearch(String jqlSearch) throws RemoteException, TimeoutException {\n        try {\n            final SearchResult searchResult = getJiraRestClient().getSearchClient()\n                    .searchJql(jqlSearch)\n                    .get(5000, TimeUnit.SECONDS);\n            return Lists.newArrayList(searchResult.getIssues());\n        } catch (TimeoutException e) {\n            System.err.println(&quot;jira rest client timeout from jql search error. cause: &quot; + e.getMessage());\n            throw e;\n        } catch (Exception e) {\n            System.err.println(&quot;jira rest client get issue from jql search error. cause: &quot; + e.getMessage());\n            return Collections.emptyList();\n        }\n    }\n    ...\n}\n</code></pre>\n<p><code>Main.class</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n    public static void main(String[] args) {\n        System.out.println(&quot;=== RMI Server ===&quot;);\n        try{\n            JiraServant servant  =  new JiraServant();\n            String url = &quot;rmi://localhost:5097/jira-api&quot;;\n            LocateRegistry.createRegistry(5097);\n            Naming.rebind(url, servant);\n\n            System.out.println(&quot;Server ready...&quot;);\n        }catch(RemoteException | MalformedURLException e){\n            System.out.println(&quot;Failed to open the server&quot;);\n        }\n\n    }\n}\n</code></pre>\n<p><strong>rmi_client side</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n    public static void main(String[] args) {\n        System.out.println(&quot;=== === RMI Client === ===&quot;);\n        try{\n            String url = &quot;rmi://localhost:5097/jira-api&quot;; //todo: change this to jira\n\n            JiraConnection jiraConnection = (JiraConnection)  Naming.lookup(url);\n            String jqlSearch = &quot;project = 'SDR' AND assignee = 627cba6c6ba8640069cf1faa AND status IN (Open) ORDER BY created DESC&quot;;\n\n            try {\n                List&lt;Issue&gt; results = jiraConnection.getIssuesFromJqlSearch(jqlSearch);\n                \n                for(Issue issue: results){\n                    String reporterAccountId = Objects.requireNonNull(issue.getReporter()).getAccountId();\n                    System.out.print(&quot;Reporter: &quot;+ jiraConnection.getUser(reporterAccountId));\n                    System.out.println(&quot;, Key: &quot;+issue.getKey() + &quot;, Title: &quot;+issue.getSummary() + &quot;, Status: &quot; + issue.getStatus().getName());\n                }\n                System.out.println(&quot;Ben a &quot;+results.size() +&quot; open issues&quot;);\n            } catch (TimeoutException ex) {\n                Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\n            }\n\n        }catch(RemoteException | MalformedURLException e){\n            System.out.println(&quot;Failed to open the server&quot;);\n            System.out.println(&quot;Error Message : &quot;+e);\n        } catch (NotBoundException ex) {\n            Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\n        }\n    }\n}\n</code></pre>\n<p>And I get this error:</p>\n<pre><code>java.rmi.UnmarshalException: error unmarshalling return; \nnested exception is: java.io.WriteAbortedException: writing aborted; \njava.io.NotSerializableException: com.atlassian.jira.rest.client.api.domain.Issue\n</code></pre>\n<p>Does anyone have solution to allow me to transfer Issue class from server to client, using RMI.</p>\n"},{"tags":["java","xml","jackson","deserialization","xml-deserialization"],"answers":[{"tags":[],"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688036682,"creation_date":1688036682,"answer_id":76580449,"question_id":76575998,"body_markdown":"As you observed in your post the problem stands in the fact that the usual standard way of deserializing a map cannot be applied to the xml you provided, but you can interpret the xml as a list of `MyEntry` class and deserialize it as a list. Starting from the initial xml:\r\n\r\n~~~\r\n&lt;MyMap&gt;\r\n    &lt;MyEntry&gt;\r\n        &lt;Key&gt;key1&lt;/Key&gt;\r\n        &lt;Value&gt;value1&lt;/Value&gt;\r\n    &lt;/MyEntry&gt;\r\n    &lt;MyEntry&gt;\r\n        &lt;Key&gt;key2&lt;/Key&gt;\r\n        &lt;Value&gt;value2&lt;/Value&gt;\r\n    &lt;/MyEntry&gt;\r\n&lt;/MyMap&gt;\r\n~~~\r\n\r\nYou can define two classes named `MyRoot` and `MyEntry` like below:\r\n\r\n~~~\r\n@Data\r\npublic class MyRoot {\r\n\r\n    //a MyEntry tag is a MyEntry element of the list\r\n    @JacksonXmlProperty(localName = &quot;MyEntry&quot;)\r\n    @JacksonXmlElementWrapper(useWrapping = false)\r\n    List&lt;MyEntry&gt; myMap;\r\n}\r\n\r\n@Data\r\npublic class MyEntry {\r\n\r\n    @JacksonXmlProperty(localName = &quot;Key&quot;)\r\n    private String key;\r\n    @JacksonXmlProperty(localName = &quot;Value&quot;)\r\n    private String value;\r\n}\r\n~~~\r\n\r\nYou can note that now the `myMap` is a `List` instance that contains the `MyEntry` objects, now you can deserialize the xml with the expected result:\r\n\r\n~~~\r\nXmlMapper xmlMapper = new XmlMapper();\r\nMyRoot myRoot = xmlMapper.readValue(xml, MyRoot.class);\r\n//ok, it prints MyRoot(myMap=[MyEntry(key=key1, value=value1), MyEntry(key=key2, value=value2)])\r\nSystem.out.println(myRoot);\r\n~~~","title":"Jackson XmlMapper XML Serialization of Java Map With Wrapper Entry Element","body":"<p>As you observed in your post the problem stands in the fact that the usual standard way of deserializing a map cannot be applied to the xml you provided, but you can interpret the xml as a list of <code>MyEntry</code> class and deserialize it as a list. Starting from the initial xml:</p>\n<pre><code>&lt;MyMap&gt;\n    &lt;MyEntry&gt;\n        &lt;Key&gt;key1&lt;/Key&gt;\n        &lt;Value&gt;value1&lt;/Value&gt;\n    &lt;/MyEntry&gt;\n    &lt;MyEntry&gt;\n        &lt;Key&gt;key2&lt;/Key&gt;\n        &lt;Value&gt;value2&lt;/Value&gt;\n    &lt;/MyEntry&gt;\n&lt;/MyMap&gt;\n</code></pre>\n<p>You can define two classes named <code>MyRoot</code> and <code>MyEntry</code> like below:</p>\n<pre><code>@Data\npublic class MyRoot {\n\n    //a MyEntry tag is a MyEntry element of the list\n    @JacksonXmlProperty(localName = &quot;MyEntry&quot;)\n    @JacksonXmlElementWrapper(useWrapping = false)\n    List&lt;MyEntry&gt; myMap;\n}\n\n@Data\npublic class MyEntry {\n\n    @JacksonXmlProperty(localName = &quot;Key&quot;)\n    private String key;\n    @JacksonXmlProperty(localName = &quot;Value&quot;)\n    private String value;\n}\n</code></pre>\n<p>You can note that now the <code>myMap</code> is a <code>List</code> instance that contains the <code>MyEntry</code> objects, now you can deserialize the xml with the expected result:</p>\n<pre><code>XmlMapper xmlMapper = new XmlMapper();\nMyRoot myRoot = xmlMapper.readValue(xml, MyRoot.class);\n//ok, it prints MyRoot(myMap=[MyEntry(key=key1, value=value1), MyEntry(key=key2, value=value2)])\nSystem.out.println(myRoot);\n</code></pre>\n"}],"owner":{"account_id":544898,"reputation":1104,"user_id":914502,"accept_rate":75,"display_name":"Dmitriy Sukharev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":258,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1688036682,"creation_date":1687978782,"question_id":76575998,"body_markdown":"The question is about Jackson XML Map serializing and deserializing. By default Jackson expects keys of the map to be XML elements themselves.\r\n```\r\n&lt;MyMap&gt;\r\n    &lt;key1&gt;value1&lt;/key1&gt;\r\n    &lt;key2&gt;value2&lt;/key2&gt;\r\n&lt;/MyMap&gt;\r\n```\r\nBut this makes it impossible to have keys which are invalid XML element names.\r\n\r\nIs there a way in Jackson to deserialize XML with wrapping entry XML element, like below?\r\n```\r\n&lt;MyMap&gt;\r\n    &lt;MyEntry&gt;\r\n        &lt;Key&gt;key1&lt;/Key&gt;\r\n        &lt;Value&gt;value1&lt;/Value&gt;\r\n    &lt;/MyEntry&gt;\r\n    &lt;MyEntry&gt;\r\n        &lt;Key&gt;key2&lt;/Key&gt;\r\n        &lt;Value&gt;value2&lt;/Value&gt;\r\n    &lt;/MyEntry&gt;\r\n&lt;/MyMap&gt;\r\n```\r\n\r\nI&#39;ve seen [`@JacksonXmlElementWrapper`](https://github.com/FasterXML/jackson-dataformat-xml/wiki/Jackson-XML-annotations) but it doesn&#39;t seem to allow naming an entity&#39;s XML element, it names the map&#39;s XML element instead. I don&#39;t know if it&#39;s a bug or expected behavior. But I hope there&#39;s a way around it.\r\n\r\nThe demonstration code I am using in case somebody wants to reproduce\r\n\r\n```\r\nimport com.fasterxml.jackson.core.JsonProcessingException;\r\nimport com.fasterxml.jackson.databind.DeserializationFeature;\r\nimport com.fasterxml.jackson.dataformat.xml.XmlMapper;\r\nimport com.fasterxml.jackson.dataformat.xml.annotation.*;\r\nimport lombok.*;\r\nimport org.junit.jupiter.api.Test;\r\n\r\nimport java.util.Map;\r\n\r\nimport static org.junit.jupiter.api.Assertions.*;\r\n\r\npublic class ReproductionTest {\r\n\r\n    private static final String XML = &quot;&quot;&quot;\r\n&lt;MyRoot&gt;\r\n    &lt;MyMap&gt;\r\n        &lt;MyEntry&gt;&lt;Key&gt;key1&lt;/Key&gt;&lt;Value&gt;value1&lt;/Value&gt;&lt;/MyEntry&gt;\r\n        &lt;MyEntry&gt;&lt;Key&gt;key2&lt;/Key&gt;&lt;Value&gt;value2&lt;/Value&gt;&lt;/MyEntry&gt;\r\n        &lt;!--33Key3&gt;Not an option since I don&#39;t control keys to have valid XML names&lt;/33Key3--&gt;\r\n    &lt;/MyMap&gt;\r\n    &lt;MyString&gt;abc&lt;/MyString&gt;\r\n&lt;/MyRoot&gt;&quot;&quot;&quot;;\r\n\r\n    @NoArgsConstructor\r\n    @Getter\r\n    @Setter\r\n    @ToString\r\n    static class MyRoot {\r\n        @JacksonXmlProperty(localName = &quot;MyMap&quot;)\r\n        // With the next line uncommented, the following exception is thrown:\r\n        // UnrecognizedPropertyException: Unrecognized field &quot;MyMap&quot;...\r\n        // not marked as ignorable (2 known properties: &quot;MyString&quot;, &quot;MyEntry&quot;])\r\n        //@JacksonXmlElementWrapper(localName = &quot;MyEntry&quot;)\r\n        Map&lt;String, String&gt; myMap;\r\n        @JacksonXmlProperty(localName = &quot;MyString&quot;)\r\n        String myString;\r\n    }\r\n\r\n    @Test\r\n    public void reproducesDeserializationIssue() throws JsonProcessingException {\r\n        XmlMapper xmlMapper = new XmlMapper();\r\n        MyRoot myRoot = xmlMapper.readValue(XML, MyRoot.class);\r\n        xmlMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, true); // re-enforcing default\r\n        assertEquals(&quot;abc&quot;, myRoot.getMyString());          // passes\r\n        assertEquals(1, myRoot.getMyMap().size());          // passes\r\n        assertNotNull(myRoot.getMyMap().get(&quot;MyEntry&quot;));    // passes, unexpectedly\r\n        assertEquals(&quot;&quot;, myRoot.getMyMap().get(&quot;MyEntry&quot;)); // passes, unexpectedly\r\n        assertNull(myRoot.getMyMap().get(&quot;key1&quot;));          // passes, unexpectedly\r\n        assertNull(myRoot.getMyMap().get(&quot;key2&quot;));          // passes, unexpectedly\r\n        System.out.println(xmlMapper.writeValueAsString(myRoot));\r\n        // Prints &lt;MyRoot&gt;&lt;myMap&gt;&lt;myItem&gt;&lt;/myItem&gt;&lt;/myMap&gt;&lt;myString&gt;abc&lt;/myString&gt;&lt;/MyRoot&gt;\r\n    }\r\n}\r\n```\r\n\r\nP.S. At this point I don&#39;t have control over XML schema, nor output POJOs. But I have control over XmlMapper configuration. So it&#39;s my understanding that my options are limited to MixIns and custom deserializers. But hope there&#39;s an easier solution.","title":"Jackson XmlMapper XML Serialization of Java Map With Wrapper Entry Element","body":"<p>The question is about Jackson XML Map serializing and deserializing. By default Jackson expects keys of the map to be XML elements themselves.</p>\n<pre><code>&lt;MyMap&gt;\n    &lt;key1&gt;value1&lt;/key1&gt;\n    &lt;key2&gt;value2&lt;/key2&gt;\n&lt;/MyMap&gt;\n</code></pre>\n<p>But this makes it impossible to have keys which are invalid XML element names.</p>\n<p>Is there a way in Jackson to deserialize XML with wrapping entry XML element, like below?</p>\n<pre><code>&lt;MyMap&gt;\n    &lt;MyEntry&gt;\n        &lt;Key&gt;key1&lt;/Key&gt;\n        &lt;Value&gt;value1&lt;/Value&gt;\n    &lt;/MyEntry&gt;\n    &lt;MyEntry&gt;\n        &lt;Key&gt;key2&lt;/Key&gt;\n        &lt;Value&gt;value2&lt;/Value&gt;\n    &lt;/MyEntry&gt;\n&lt;/MyMap&gt;\n</code></pre>\n<p>I've seen <a href=\"https://github.com/FasterXML/jackson-dataformat-xml/wiki/Jackson-XML-annotations\" rel=\"nofollow noreferrer\"><code>@JacksonXmlElementWrapper</code></a> but it doesn't seem to allow naming an entity's XML element, it names the map's XML element instead. I don't know if it's a bug or expected behavior. But I hope there's a way around it.</p>\n<p>The demonstration code I am using in case somebody wants to reproduce</p>\n<pre><code>import com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.DeserializationFeature;\nimport com.fasterxml.jackson.dataformat.xml.XmlMapper;\nimport com.fasterxml.jackson.dataformat.xml.annotation.*;\nimport lombok.*;\nimport org.junit.jupiter.api.Test;\n\nimport java.util.Map;\n\nimport static org.junit.jupiter.api.Assertions.*;\n\npublic class ReproductionTest {\n\n    private static final String XML = &quot;&quot;&quot;\n&lt;MyRoot&gt;\n    &lt;MyMap&gt;\n        &lt;MyEntry&gt;&lt;Key&gt;key1&lt;/Key&gt;&lt;Value&gt;value1&lt;/Value&gt;&lt;/MyEntry&gt;\n        &lt;MyEntry&gt;&lt;Key&gt;key2&lt;/Key&gt;&lt;Value&gt;value2&lt;/Value&gt;&lt;/MyEntry&gt;\n        &lt;!--33Key3&gt;Not an option since I don't control keys to have valid XML names&lt;/33Key3--&gt;\n    &lt;/MyMap&gt;\n    &lt;MyString&gt;abc&lt;/MyString&gt;\n&lt;/MyRoot&gt;&quot;&quot;&quot;;\n\n    @NoArgsConstructor\n    @Getter\n    @Setter\n    @ToString\n    static class MyRoot {\n        @JacksonXmlProperty(localName = &quot;MyMap&quot;)\n        // With the next line uncommented, the following exception is thrown:\n        // UnrecognizedPropertyException: Unrecognized field &quot;MyMap&quot;...\n        // not marked as ignorable (2 known properties: &quot;MyString&quot;, &quot;MyEntry&quot;])\n        //@JacksonXmlElementWrapper(localName = &quot;MyEntry&quot;)\n        Map&lt;String, String&gt; myMap;\n        @JacksonXmlProperty(localName = &quot;MyString&quot;)\n        String myString;\n    }\n\n    @Test\n    public void reproducesDeserializationIssue() throws JsonProcessingException {\n        XmlMapper xmlMapper = new XmlMapper();\n        MyRoot myRoot = xmlMapper.readValue(XML, MyRoot.class);\n        xmlMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, true); // re-enforcing default\n        assertEquals(&quot;abc&quot;, myRoot.getMyString());          // passes\n        assertEquals(1, myRoot.getMyMap().size());          // passes\n        assertNotNull(myRoot.getMyMap().get(&quot;MyEntry&quot;));    // passes, unexpectedly\n        assertEquals(&quot;&quot;, myRoot.getMyMap().get(&quot;MyEntry&quot;)); // passes, unexpectedly\n        assertNull(myRoot.getMyMap().get(&quot;key1&quot;));          // passes, unexpectedly\n        assertNull(myRoot.getMyMap().get(&quot;key2&quot;));          // passes, unexpectedly\n        System.out.println(xmlMapper.writeValueAsString(myRoot));\n        // Prints &lt;MyRoot&gt;&lt;myMap&gt;&lt;myItem&gt;&lt;/myItem&gt;&lt;/myMap&gt;&lt;myString&gt;abc&lt;/myString&gt;&lt;/MyRoot&gt;\n    }\n}\n</code></pre>\n<p>P.S. At this point I don't have control over XML schema, nor output POJOs. But I have control over XmlMapper configuration. So it's my understanding that my options are limited to MixIns and custom deserializers. But hope there's an easier solution.</p>\n"},{"tags":["java","ssh","sftp","j2ssh"],"answers":[{"tags":[],"owner":{"account_id":20177,"reputation":45320,"user_id":47961,"accept_rate":83,"display_name":"Eugene Mayevski &#39;Callback"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1296510918,"creation_date":1296510918,"answer_id":4856593,"question_id":4856326,"body_markdown":"Not sure that I understood your question ... \r\n\r\nIf you only have SFTP access to both servers, and your code runs locally (on the client), then your only option is to download the file and upload it to another server. If you have SSH access to server1, then you can create a script which will upload/download file to/from server 2. \r\n\r\nAnd if your code is running on server1 and you need to upload the file from server1 to server2, then how is it different (other than the local path is different) from your current situation when you upload the code from client1 to server2? ","title":"j2ssh remote to remote file transfer","body":"<p>Not sure that I understood your question ... </p>\n\n<p>If you only have SFTP access to both servers, and your code runs locally (on the client), then your only option is to download the file and upload it to another server. If you have SSH access to server1, then you can create a script which will upload/download file to/from server 2. </p>\n\n<p>And if your code is running on server1 and you need to upload the file from server1 to server2, then how is it different (other than the local path is different) from your current situation when you upload the code from client1 to server2? </p>\n"}],"owner":{"account_id":203942,"reputation":9,"user_id":451872,"accept_rate":0,"display_name":"user451872"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4822,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688036382,"creation_date":1296509284,"question_id":4856326,"body_markdown":"The following code is working fine for localhost to remote server. But my application runs on a separate server so I need to pick files from `remote1` server and then put it in `remote2` server. How would I do this with J2SSH?\r\n\r\n```java\r\n    package com.test.sftp;\r\n    \r\n    import java.io.File;\r\n    import java.text.DateFormat;\r\n    import java.util.Calendar;\r\n    import java.util.Date;\r\n    import java.util.Properties;\r\n    \r\n    import com.sshtools.daemon.SshServer;\r\n    import com.sshtools.j2ssh.SftpClient;\r\n    import com.sshtools.j2ssh.SshClient;\r\n    import com.sshtools.j2ssh.authentication.AuthenticationProtocolState;\r\n    import com.sshtools.j2ssh.authentication.PasswordAuthenticationClient;\r\n    import com.sshtools.j2ssh.configuration.SshConnectionProperties;\r\n    import com.sshtools.j2ssh.sftp.SftpFile;\r\n    import com.sshtools.j2ssh.transport.ConsoleKnownHostsKeyVerification;\r\n    import com.sshtools.j2ssh.transport.IgnoreHostKeyVerification;\r\n    import com.sshtools.j2ssh.transport.InvalidHostFileException;\r\n    import com.sshtools.j2ssh.transport.publickey.SshPublicKey;\r\n    \r\n    import java.io.BufferedInputStream;\r\n    import java.io.DataInputStream;\r\n    import java.io.FileInputStream;\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.net.MalformedURLException;\r\n    import java.net.URI;\r\n    import java.net.URL;\r\n    \r\n    public class SftpTest {\r\n    \r\n        /**\r\n         * @param args\r\n         */\r\n     public String userName;\r\n     \r\n     public String uri;\r\n     public Date date;\r\n     public String sdate;\r\n     public DateFormat formatter ;\r\n     public String serviceStart;\r\n     \r\n        public String hostname=null;\r\n        public String username=null;\r\n        public String password=null;\r\n        \r\n        public String hostname1=null;\r\n        public String username1=null;\r\n        public String password1=null;\r\n        \r\n        public String remotepath=null;\r\n        public String localpath=null;\r\n        public String remoteFilename=null;\r\n        public void con()\r\n        {\r\n        SshClient ssh=null;\r\n        SftpClient sftp=null;\r\n        SftpFile sstp = null;\r\n        try\r\n        {\r\n       \r\n      \r\n     \r\n        hostname=&quot;192.168.1.1&quot;;\r\n        username=&quot;xxxxx&quot;;\r\n        password=&quot;xxxxxxx&quot;;\r\n        \r\n       \r\n        \r\n        SshClient client = new SshClient();\r\n        \r\n        \r\n        SshConnectionProperties connectionProperties = new SshConnectionProperties();\r\n        \r\n       connectionProperties.setTransportProvider(SshConnectionProperties.USE_STANDARD_SOCKET); // or USE_STANDARD_SOCKET or USE_SOCKS4_PROXY or USE_SOCKS5_PROXY\r\n      connectionProperties.setProxyHost(&quot;proxy.example.com&quot;);\r\n       \r\n         connectionProperties.setProxyPort(22);\r\n         connectionProperties.setHost(hostname);\r\n         connectionProperties.setPort(22);\r\n    \r\n       client.connect(connectionProperties, new IgnoreHostKeyVerification());\r\n    \r\n        PasswordAuthenticationClient authenticationClient = new PasswordAuthenticationClient();\r\n        authenticationClient.setUsername(username);\r\n        authenticationClient.setPassword(password);\r\n        int result = client.authenticate(authenticationClient);\r\n        System.out.println(&quot;result value ::&quot;+result);\r\n        if (result == AuthenticationProtocolState.COMPLETE)\r\n        System.out.println(&quot;success Authentication&quot;);\r\n        else\r\n        System.out.println(&quot;failed Authentication&quot;);\r\n        System.out.println(client.isConnected());\r\n        \r\n        \r\n        SftpClient sftpClient = client.openSftpClient();\r\n        String localpath = &quot;C:/Documents and Settings/user1/Desktop/images&quot;;\r\n        sftpClient.lcd(localpath);\r\n        //sftpClient.cd(&quot;/&quot;);\r\n        \r\n    \r\n        \r\n     \r\n       \r\n        File folder = new File(&quot;C:/Documents and Settings/user/Desktop/images&quot;);\r\n        File[] listOfFiles = folder.listFiles();\r\n    \r\n        \r\n        for (int i = 0; i &lt; listOfFiles.length; i++) {\r\n          if (listOfFiles[i].isFile()) {\r\n              String str =&quot;C:/Documents and Settings/user1/Desktop/images/&quot;+listOfFiles[i].getName();\r\n           \r\n           //  sftpClient.put(str,&quot;/usr/project/images/&quot;);\r\n              System.out.println(&quot;File &quot; + listOfFiles[i].getName());\r\n          } else if (listOfFiles[i].isDirectory()) {\r\n            System.out.println(&quot;Directory &quot; + listOfFiles[i].getName());\r\n          }\r\n        }\r\n     \r\n        \r\n        \r\n    \r\n     \r\n        \r\n        \r\n       \r\n        sftpClient.quit();\r\n        client.disconnect();\r\n        }\r\n        catch(Exception e)\r\n        {\r\n        System.out.println(&quot;Exception while connecting to the remote server&quot; + e);\r\n        }\r\n        }\r\n        public static void main(String args[]) throws Exception\r\n        {\r\n        SftpTest obj = new SftpTest();\r\n         obj.con();// calling the function\r\n                   \r\n        }\r\n\r\n    }\r\n```\r\n\r\n\r\nPlease help me understand how I can achieve this. Thank you.\r\n","title":"j2ssh remote to remote file transfer","body":"<p>The following code is working fine for localhost to remote server. But my application runs on a separate server so I need to pick files from <code>remote1</code> server and then put it in <code>remote2</code> server. How would I do this with J2SSH?</p>\n<pre class=\"lang-java prettyprint-override\"><code>    package com.test.sftp;\n    \n    import java.io.File;\n    import java.text.DateFormat;\n    import java.util.Calendar;\n    import java.util.Date;\n    import java.util.Properties;\n    \n    import com.sshtools.daemon.SshServer;\n    import com.sshtools.j2ssh.SftpClient;\n    import com.sshtools.j2ssh.SshClient;\n    import com.sshtools.j2ssh.authentication.AuthenticationProtocolState;\n    import com.sshtools.j2ssh.authentication.PasswordAuthenticationClient;\n    import com.sshtools.j2ssh.configuration.SshConnectionProperties;\n    import com.sshtools.j2ssh.sftp.SftpFile;\n    import com.sshtools.j2ssh.transport.ConsoleKnownHostsKeyVerification;\n    import com.sshtools.j2ssh.transport.IgnoreHostKeyVerification;\n    import com.sshtools.j2ssh.transport.InvalidHostFileException;\n    import com.sshtools.j2ssh.transport.publickey.SshPublicKey;\n    \n    import java.io.BufferedInputStream;\n    import java.io.DataInputStream;\n    import java.io.FileInputStream;\n    import java.io.FileOutputStream;\n    import java.io.IOException;\n    import java.io.InputStream;\n    import java.net.MalformedURLException;\n    import java.net.URI;\n    import java.net.URL;\n    \n    public class SftpTest {\n    \n        /**\n         * @param args\n         */\n     public String userName;\n     \n     public String uri;\n     public Date date;\n     public String sdate;\n     public DateFormat formatter ;\n     public String serviceStart;\n     \n        public String hostname=null;\n        public String username=null;\n        public String password=null;\n        \n        public String hostname1=null;\n        public String username1=null;\n        public String password1=null;\n        \n        public String remotepath=null;\n        public String localpath=null;\n        public String remoteFilename=null;\n        public void con()\n        {\n        SshClient ssh=null;\n        SftpClient sftp=null;\n        SftpFile sstp = null;\n        try\n        {\n       \n      \n     \n        hostname=&quot;192.168.1.1&quot;;\n        username=&quot;xxxxx&quot;;\n        password=&quot;xxxxxxx&quot;;\n        \n       \n        \n        SshClient client = new SshClient();\n        \n        \n        SshConnectionProperties connectionProperties = new SshConnectionProperties();\n        \n       connectionProperties.setTransportProvider(SshConnectionProperties.USE_STANDARD_SOCKET); // or USE_STANDARD_SOCKET or USE_SOCKS4_PROXY or USE_SOCKS5_PROXY\n      connectionProperties.setProxyHost(&quot;proxy.example.com&quot;);\n       \n         connectionProperties.setProxyPort(22);\n         connectionProperties.setHost(hostname);\n         connectionProperties.setPort(22);\n    \n       client.connect(connectionProperties, new IgnoreHostKeyVerification());\n    \n        PasswordAuthenticationClient authenticationClient = new PasswordAuthenticationClient();\n        authenticationClient.setUsername(username);\n        authenticationClient.setPassword(password);\n        int result = client.authenticate(authenticationClient);\n        System.out.println(&quot;result value ::&quot;+result);\n        if (result == AuthenticationProtocolState.COMPLETE)\n        System.out.println(&quot;success Authentication&quot;);\n        else\n        System.out.println(&quot;failed Authentication&quot;);\n        System.out.println(client.isConnected());\n        \n        \n        SftpClient sftpClient = client.openSftpClient();\n        String localpath = &quot;C:/Documents and Settings/user1/Desktop/images&quot;;\n        sftpClient.lcd(localpath);\n        //sftpClient.cd(&quot;/&quot;);\n        \n    \n        \n     \n       \n        File folder = new File(&quot;C:/Documents and Settings/user/Desktop/images&quot;);\n        File[] listOfFiles = folder.listFiles();\n    \n        \n        for (int i = 0; i &lt; listOfFiles.length; i++) {\n          if (listOfFiles[i].isFile()) {\n              String str =&quot;C:/Documents and Settings/user1/Desktop/images/&quot;+listOfFiles[i].getName();\n           \n           //  sftpClient.put(str,&quot;/usr/project/images/&quot;);\n              System.out.println(&quot;File &quot; + listOfFiles[i].getName());\n          } else if (listOfFiles[i].isDirectory()) {\n            System.out.println(&quot;Directory &quot; + listOfFiles[i].getName());\n          }\n        }\n     \n        \n        \n    \n     \n        \n        \n       \n        sftpClient.quit();\n        client.disconnect();\n        }\n        catch(Exception e)\n        {\n        System.out.println(&quot;Exception while connecting to the remote server&quot; + e);\n        }\n        }\n        public static void main(String args[]) throws Exception\n        {\n        SftpTest obj = new SftpTest();\n         obj.con();// calling the function\n                   \n        }\n\n    }\n</code></pre>\n<p>Please help me understand how I can achieve this. Thank you.</p>\n"},{"tags":["java","oracle","jdbc","oracle11gr2"],"comments":[{"owner":{"account_id":35585,"reputation":7037,"user_id":100836,"accept_rate":100,"display_name":"Zaki"},"score":0,"creation_date":1319474426,"post_id":7878735,"comment_id":9614301,"body_markdown":"Firstly, you have to &quot;CREATE TYPE elements AS varray(22) OF NUMBER(5,2);&quot; and then use this type in oracle.jdbc.OracleConnection.createARRAY()","body":"Firstly, you have to &quot;CREATE TYPE elements AS varray(22) OF NUMBER(5,2);&quot; and then use this type in oracle.jdbc.OracleConnection.createARRAY()"},{"owner":{"account_id":101336,"reputation":10523,"user_id":272735,"accept_rate":92,"display_name":"user272735"},"score":0,"creation_date":1319521342,"post_id":7878735,"comment_id":9623132,"body_markdown":"@Zaki: If you read the question carefully, I&#39;m sure you see that is exactly what I&#39;m doing. The type name is `widgets_t`.","body":"@Zaki: If you read the question carefully, I&#39;m sure you see that is exactly what I&#39;m doing. The type name is <code>widgets_t</code>."}],"answers":[{"tags":[],"owner":{"account_id":131213,"reputation":47334,"user_id":331052,"display_name":"Affe"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1319475305,"creation_date":1319475305,"answer_id":7879073,"question_id":7878735,"body_markdown":"You&#39;re on the right track with #2, but you can&#39;t create an oracle Array from a connection of type java.sql.Connection.  It has to be an OracleConnection to be able to use those methods.\r\n\r\n    oracle.jdbc.OracleDriver ora = new oracle.jdbc.OracleDriver();\r\n    java.sql.Connection conn = ora.defaultConnection();\r\n    OracleConnection oraConn = conn.unwrap(OracleConnection.class);\r\n    oracle.sql.ARRAY widgets = oraConn.createARRAY(&quot;widgets_t&quot;, elements);","title":"How to create an oracle.sql.ARRAY object?","body":"<p>You're on the right track with #2, but you can't create an oracle Array from a connection of type java.sql.Connection.  It has to be an OracleConnection to be able to use those methods.</p>\n\n<pre><code>oracle.jdbc.OracleDriver ora = new oracle.jdbc.OracleDriver();\njava.sql.Connection conn = ora.defaultConnection();\nOracleConnection oraConn = conn.unwrap(OracleConnection.class);\noracle.sql.ARRAY widgets = oraConn.createARRAY(\"widgets_t\", elements);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8709,"reputation":5827,"user_id":15816,"display_name":"Chris Mazzola"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1319483036,"creation_date":1319483036,"answer_id":7880523,"question_id":7878735,"body_markdown":"    // array sample (using a stored procedure to sum two or more numbers)\r\n    Connection connection = dataSource.getConnection(username,password);\r\n    ArrayDescriptor desc = \r\n        ArrayDescriptor.createDescriptor(schemaName + &quot;.&quot; + arrayType, connection);\r\n\r\n    // first ? is the array, second ? is the result via out parameter\r\n    String sql = &quot;call sum_numbers(?,?)&quot;;\r\n    CallableStatement cs = connection.prepareCall(sql);\r\n    \r\n    String[] args = {&quot;5&quot;,&quot;15&quot;,&quot;25&quot;,&quot;35&quot;}; // what to sum\r\n    Array array = new oracle.sql.ARRAY(desc, connection, args);\r\n    \r\n    cs.setArray(1, array);\r\n    cs.registerOutParameter(2, Types.INTEGER);\r\n    cs.execute();\r\n    int result = cs.getInt(2);\r\n    cs.close();\r\n\r\n","title":"How to create an oracle.sql.ARRAY object?","body":"<pre><code>// array sample (using a stored procedure to sum two or more numbers)\nConnection connection = dataSource.getConnection(username,password);\nArrayDescriptor desc = \n    ArrayDescriptor.createDescriptor(schemaName + \".\" + arrayType, connection);\n\n// first ? is the array, second ? is the result via out parameter\nString sql = \"call sum_numbers(?,?)\";\nCallableStatement cs = connection.prepareCall(sql);\n\nString[] args = {\"5\",\"15\",\"25\",\"35\"}; // what to sum\nArray array = new oracle.sql.ARRAY(desc, connection, args);\n\ncs.setArray(1, array);\ncs.registerOutParameter(2, Types.INTEGER);\ncs.execute();\nint result = cs.getInt(2);\ncs.close();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1319489749,"creation_date":1319486735,"answer_id":7881299,"question_id":7878735,"body_markdown":"Just to mention that in Java 1.6 you have [`connection.createArrayOf(..)`][1], which is standard.\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/sql/Connection.html#createArrayOf%28java.lang.String,%20java.lang.Object%5B%5D%29","title":"How to create an oracle.sql.ARRAY object?","body":"<p>Just to mention that in Java 1.6 you have <a href=\"http://download.oracle.com/javase/6/docs/api/java/sql/Connection.html#createArrayOf%28java.lang.String,%20java.lang.Object%5B%5D%29\" rel=\"nofollow\"><code>connection.createArrayOf(..)</code></a>, which is standard.</p>\n"},{"tags":[],"owner":{"account_id":101336,"reputation":10523,"user_id":272735,"accept_rate":92,"display_name":"user272735"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1319537618,"creation_date":1319536505,"answer_id":7887536,"question_id":7878735,"body_markdown":"Based on answers of Affe and Chris Mazzola I have succeeded to build two examples that compile in Oracle 11g R2 database.\r\n\r\n**Example based on Affe&#39;s answer**\r\n\r\n    create or replace type widgets_t is table of varchar2(32767);\r\n    /\r\n\r\n    create or replace and compile java source named &quot;so20ja1&quot; as\r\n    public class so20ja1 {\r\n        public void f1() throws java.sql.SQLException {\r\n            String[] elements = new String[]{&quot;foo&quot;, &quot;bar&quot;, &quot;zoo&quot;};\r\n            oracle.jdbc.OracleDriver ora = new oracle.jdbc.OracleDriver();\r\n            java.sql.Connection conn = ora.defaultConnection();\r\n            oracle.jdbc.OracleConnection oraConn = (oracle.jdbc.OracleConnection)conn;\r\n            java.sql.Array widgets = oraConn.createARRAY(&quot;widgets_t&quot;, elements);\r\n        }\r\n    };\r\n    /\r\n    show errors java source &quot;so20ja1&quot;\r\n\r\n**Example based on Chris Mazzola&#39;s answer**\r\n\r\n    create or replace type widgets_t is table of varchar2(32767);\r\n    /\r\n\r\n    create or replace and compile java source named &quot;so20ja2&quot; as\r\n    public class so20ja2 {\r\n        public void f1() throws java.sql.SQLException {\r\n            String[] elements = new String[]{&quot;foo&quot;, &quot;bar&quot;, &quot;zoo&quot;};\r\n            oracle.jdbc.OracleDriver ora = new oracle.jdbc.OracleDriver();\r\n            java.sql.Connection conn = ora.defaultConnection();\r\n            oracle.sql.ArrayDescriptor desc = \r\n                oracle.sql.ArrayDescriptor.createDescriptor(&quot;widgets_t&quot;, conn);\r\n            java.sql.Array widgets = new oracle.sql.ARRAY(desc, conn, elements);\r\n        }\r\n    };\r\n    /\r\n    show errors java source &quot;so20ja2&quot;\r\n","title":"How to create an oracle.sql.ARRAY object?","body":"<p>Based on answers of Affe and Chris Mazzola I have succeeded to build two examples that compile in Oracle 11g R2 database.</p>\n\n<p><strong>Example based on Affe's answer</strong></p>\n\n<pre><code>create or replace type widgets_t is table of varchar2(32767);\n/\n\ncreate or replace and compile java source named \"so20ja1\" as\npublic class so20ja1 {\n    public void f1() throws java.sql.SQLException {\n        String[] elements = new String[]{\"foo\", \"bar\", \"zoo\"};\n        oracle.jdbc.OracleDriver ora = new oracle.jdbc.OracleDriver();\n        java.sql.Connection conn = ora.defaultConnection();\n        oracle.jdbc.OracleConnection oraConn = (oracle.jdbc.OracleConnection)conn;\n        java.sql.Array widgets = oraConn.createARRAY(\"widgets_t\", elements);\n    }\n};\n/\nshow errors java source \"so20ja1\"\n</code></pre>\n\n<p><strong>Example based on Chris Mazzola's answer</strong></p>\n\n<pre><code>create or replace type widgets_t is table of varchar2(32767);\n/\n\ncreate or replace and compile java source named \"so20ja2\" as\npublic class so20ja2 {\n    public void f1() throws java.sql.SQLException {\n        String[] elements = new String[]{\"foo\", \"bar\", \"zoo\"};\n        oracle.jdbc.OracleDriver ora = new oracle.jdbc.OracleDriver();\n        java.sql.Connection conn = ora.defaultConnection();\n        oracle.sql.ArrayDescriptor desc = \n            oracle.sql.ArrayDescriptor.createDescriptor(\"widgets_t\", conn);\n        java.sql.Array widgets = new oracle.sql.ARRAY(desc, conn, elements);\n    }\n};\n/\nshow errors java source \"so20ja2\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13318707,"reputation":1,"user_id":9614170,"display_name":"AKHILESH KUMAR SINGH 11BEE1082"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687936653,"creation_date":1628750503,"answer_id":68752742,"question_id":7878735,"body_markdown":"\r\n\r\n    Map&lt;String, Object&gt; params = new HashMap&lt;&gt;();\r\n    \r\n    \t\tparams.put(&quot;input_to_sp&quot;, new ExampleArrayMapper (new String[] { &quot;ABC&quot; }));\r\n    \r\n    \t\tMap&lt;String, Object&gt; results = spObject.execute(params);\r\n    \r\n    \t\tfinal List&lt;Object&gt; output = (List&lt;Object&gt;) results.get(&quot;po_out_cur&quot;);\r\n    \r\n    \r\n        public class ExampleArrayMapper extends AbstractSqlTypeValue {\r\n    \t\tprivate String[] customObject;\r\n    \r\n    \t\tpublic ExampleArrayMapper (String[] customObject) {\r\n    \t\t\tthis.customObject= customObject;\r\n    \t\t}\r\n    \r\n    \t\tpublic String getSQlTypeName() throws SQLException {\r\n    \t\t\treturn &quot;NAME_OF_TYPE_IN_SQL&quot;;\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tprotected Object createTypeValue(Connection con, int sqlType, String typeName) throws SQLException {\r\n    \t\t\ttry {\r\n    \t\t\t\tcon = dataSource.getConnection().unwrap(OracleConnection.class);\r\n    \t\t\t\tArray reportsArray = ((OracleConnection) con).createOracleArray(SQL_TYPE_NAME, customObject);\r\n    \t\t\t\treturn reportsArray;\r\n    \t\t\t} finally {\r\n    \t\t\t\tcon.close();\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}","title":"How to create an oracle.sql.ARRAY object?","body":"<pre><code>Map&lt;String, Object&gt; params = new HashMap&lt;&gt;();\n\n        params.put(&quot;input_to_sp&quot;, new ExampleArrayMapper (new String[] { &quot;ABC&quot; }));\n\n        Map&lt;String, Object&gt; results = spObject.execute(params);\n\n        final List&lt;Object&gt; output = (List&lt;Object&gt;) results.get(&quot;po_out_cur&quot;);\n\n\n    public class ExampleArrayMapper extends AbstractSqlTypeValue {\n        private String[] customObject;\n\n        public ExampleArrayMapper (String[] customObject) {\n            this.customObject= customObject;\n        }\n\n        public String getSQlTypeName() throws SQLException {\n            return &quot;NAME_OF_TYPE_IN_SQL&quot;;\n        }\n\n        @Override\n        protected Object createTypeValue(Connection con, int sqlType, String typeName) throws SQLException {\n            try {\n                con = dataSource.getConnection().unwrap(OracleConnection.class);\n                Array reportsArray = ((OracleConnection) con).createOracleArray(SQL_TYPE_NAME, customObject);\n                return reportsArray;\n            } finally {\n                con.close();\n            }\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14853904,"reputation":21,"user_id":10726998,"display_name":"vasu2005s"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676559045,"creation_date":1676280792,"answer_id":75434108,"question_id":7878735,"body_markdown":"Oracle 12.2 version:\r\n\r\n```\r\noracle.jdbc.OracleArray  v_arr ;\r\nString[] v_list ;\r\n\r\n\r\nv_arr = ((oracle.jdbc.OracleConnection)DriverManager.getConnection(&quot;jdbc:default:connection:&quot;)).createARRAY ( &quot;T_STRING_ARRAY&quot; , v_list ) ;\r\n```","title":"How to create an oracle.sql.ARRAY object?","body":"<p>Oracle 12.2 version:</p>\n<pre><code>oracle.jdbc.OracleArray  v_arr ;\nString[] v_list ;\n\n\nv_arr = ((oracle.jdbc.OracleConnection)DriverManager.getConnection(&quot;jdbc:default:connection:&quot;)).createARRAY ( &quot;T_STRING_ARRAY&quot; , v_list ) ;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":207965,"reputation":3704,"user_id":458157,"accept_rate":75,"display_name":"gouessej"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1688036341,"creation_date":1687942280,"answer_id":76571542,"question_id":7878735,"body_markdown":"Here is a working example tested with Oracle 19:\r\n\r\n    final BigDecimal[] plainJavaArray = new BigDecimal[]{BigDecimal.valueOf(1L), BigDecimal.valueOf(2L)};\r\n    final oracle.jdbc.OracleConnection oracleConnection = (oracle.jdbc.OracleConnection) jdbcConnection;\r\n    final java.sql.Array array = oracleConnection.createOracleArray(&quot;SYS.ODCINUMBERLIST&quot;, plainJavaArray);\r\n\r\nKeep in mind some very important aspects:\r\n\r\n - [oracle.jdbc.OracleConnection.createOracleArray()][1] expects the array type name, not the element type name unlike [java.sql.Connection.createArrayOf()][2].\r\n- [java.sql.Connection.createArrayOf()][2] throws a java.sql.SQLFeatureNotSupportedException.\r\n - The first parameter is case-sensitive; if you pass the correct array type name with the wrong case, you&#39;ll get an SQLException complaining about a wrong model name.\r\n - You can use `SYS.ODCIVARCHAR2LIST` or `SYS.FI_CATEGORICALS` for `VARCHAR2`, `SYS.ODCIDATELIST` for `DATE`, etc. `SYS.ODCIGRANULELIST` is twice bigger than `SYS.ODCINUMBERLIST` and if it&#39;s not enough, use `SYS.FI_NUMERICALS`. I haven&#39;t tested with user-defined types but `CREATE TYPE ARRAY_OF_THING IS TABLE OF THING` should work.\r\n - Don&#39;t use deprecated methods, they&#39;ll stop working or be removed sooner or later.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/database/oracle/oracle-database/19/jajdb/oracle/jdbc/OracleConnection.html#createOracleArray_java_lang_String_java_lang_Object_\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.sql/java/sql/Connection.html#createArrayOf(java.lang.String,java.lang.Object[])","title":"How to create an oracle.sql.ARRAY object?","body":"<p>Here is a working example tested with Oracle 19:</p>\n<pre><code>final BigDecimal[] plainJavaArray = new BigDecimal[]{BigDecimal.valueOf(1L), BigDecimal.valueOf(2L)};\nfinal oracle.jdbc.OracleConnection oracleConnection = (oracle.jdbc.OracleConnection) jdbcConnection;\nfinal java.sql.Array array = oracleConnection.createOracleArray(&quot;SYS.ODCINUMBERLIST&quot;, plainJavaArray);\n</code></pre>\n<p>Keep in mind some very important aspects:</p>\n<ul>\n<li><a href=\"https://docs.oracle.com/en/database/oracle/oracle-database/19/jajdb/oracle/jdbc/OracleConnection.html#createOracleArray_java_lang_String_java_lang_Object_\" rel=\"nofollow noreferrer\">oracle.jdbc.OracleConnection.createOracleArray()</a> expects the array type name, not the element type name unlike <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.sql/java/sql/Connection.html#createArrayOf(java.lang.String,java.lang.Object%5B%5D)\" rel=\"nofollow noreferrer\">java.sql.Connection.createArrayOf()</a>.</li>\n<li><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.sql/java/sql/Connection.html#createArrayOf(java.lang.String,java.lang.Object%5B%5D)\" rel=\"nofollow noreferrer\">java.sql.Connection.createArrayOf()</a> throws a java.sql.SQLFeatureNotSupportedException.</li>\n<li>The first parameter is case-sensitive; if you pass the correct array type name with the wrong case, you'll get an SQLException complaining about a wrong model name.</li>\n<li>You can use <code>SYS.ODCIVARCHAR2LIST</code> or <code>SYS.FI_CATEGORICALS</code> for <code>VARCHAR2</code>, <code>SYS.ODCIDATELIST</code> for <code>DATE</code>, etc. <code>SYS.ODCIGRANULELIST</code> is twice bigger than <code>SYS.ODCINUMBERLIST</code> and if it's not enough, use <code>SYS.FI_NUMERICALS</code>. I haven't tested with user-defined types but <code>CREATE TYPE ARRAY_OF_THING IS TABLE OF THING</code> should work.</li>\n<li>Don't use deprecated methods, they'll stop working or be removed sooner or later.</li>\n</ul>\n"}],"owner":{"account_id":101336,"reputation":10523,"user_id":272735,"accept_rate":92,"display_name":"user272735"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59610,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":7879073,"answer_count":7,"score":8,"last_activity_date":1688036341,"creation_date":1319473474,"question_id":7878735,"body_markdown":"This question is related to my original issue [How to return an array from Java to PL/SQL ?](https://stackoverflow.com/q/7872688), but is a more specific.\r\n\r\nI have been reading [Oracle Database JDBC Developer&#39;s Guide](http://download.oracle.com/docs/cd/E11882_01/java.112/e16548/toc.htm) and\r\n\r\n  * [Creating ARRAY objects](http://download.oracle.com/docs/cd/E11882_01/java.112/e16548/oraarr.htm#i1056647)\r\n  * [Server-Side Internal Driver](http://download.oracle.com/docs/cd/E11882_01/java.112/e16548/ssid.htm)\r\n  * [oracle.jdbc.OracleConnection](http://download.oracle.com/docs/cd/E11882_01/appdev.112/e13995/oracle/jdbc/OracleConnection.html)\r\n  * [oracle.jdbc.OracleDriver](http://download.oracle.com/docs/cd/E11882_01/appdev.112/e13995/oracle/jdbc/OracleDriver.html)\r\n\r\nbut I still fail to write a minimum code where I can create ARRAY using \r\n\r\n    ARRAY array = oracle.jdbc.OracleConnection.createARRAY(sql_type_name, elements);\r\n\r\nas instructed in [Creating ARRAY objects](http://download.oracle.com/docs/cd/E11882_01/java.112/e16548/oraarr.htm#i1056647).\r\n\r\nI&#39;m using Oracle Database JVM.\r\n\r\nI have tried following:\r\n\r\n**Example 1**\r\n\r\n    create or replace type widgets_t is table of varchar2(32767);\r\n    /\r\n    \r\n    create or replace and compile java source named &quot;so20j1&quot; as\r\n    public class so20j1 {\r\n        public void f1() {\r\n            String[] elements = new String[]{&quot;foo&quot;, &quot;bar&quot;, &quot;zoo&quot;};\r\n            oracle.sql.ARRAY widgets =\r\n                oracle.jdbc.OracleConnection.createARRAY(&quot;widgets_t&quot;, elements);\r\n        }\r\n    };\r\n    /\r\n    show errors java source &quot;so20j1&quot;\r\n\r\nFails with:\r\n\r\n    Errors for JAVA SOURCE &quot;so20j1&quot;:\r\n    \r\n    LINE/COL ERROR\r\n    -------- -----------------------------------------------------------------\r\n    0/0\t so20j1:4: non-static method\r\n    \t createARRAY(java.lang.String,java.lang.Object) cannot be\r\n    \t referenced from a static context\r\n    \r\n    0/0\t 1 error\r\n    0/0\t ^\r\n    0/0\t oracle.sql.ARRAY widgets =\r\n    \t oracle.jdbc.OracleConnection.createARRAY(&quot;widgets_t&quot;, elements);\r\n\r\n**Example 2**\r\n\r\n    create or replace type widgets_t is table of varchar2(32767);\r\n    /\r\n\r\n    create or replace and compile java source named &quot;so20j2&quot; as\r\n    \r\n    public class so20j2 {\r\n        public void f1() {\r\n            String[] elements = new String[]{&quot;foo&quot;, &quot;bar&quot;, &quot;zoo&quot;};\r\n            oracle.jdbc.OracleDriver ora = new oracle.jdbc.OracleDriver();\r\n            java.sql.Connection conn = ora.defaultConnection();\r\n            oracle.sql.ARRAY widgets = conn.createARRAY(&quot;widgets_t&quot;, elements);\r\n        }\r\n    };\r\n    /\r\n    show errors java source &quot;so20j2&quot;\r\n\r\nFails with:\r\n\r\n    Errors for JAVA SOURCE &quot;so20j2&quot;:\r\n    \r\n    LINE/COL ERROR\r\n    -------- -----------------------------------------------------------------\r\n    0/0\t so20j2:6: cannot find symbol\r\n    0/0\t symbol  : method createARRAY(java.lang.String,java.lang.String[])\r\n    0/0\t 1 error\r\n    0/0\t oracle.sql.ARRAY widgets = conn.createARRAY(&quot;widgets_t&quot;,\r\n    \t elements);\r\n    \r\n    0/0\t ^\r\n    0/0\t location: interface java.sql.Connection\r\n\r\nDisclaimer: I&#39;m not a Java programmer (yet).","title":"How to create an oracle.sql.ARRAY object?","body":"<p>This question is related to my original issue <a href=\"https://stackoverflow.com/q/7872688\">How to return an array from Java to PL/SQL ?</a>, but is a more specific.</p>\n\n<p>I have been reading <a href=\"http://download.oracle.com/docs/cd/E11882_01/java.112/e16548/toc.htm\" rel=\"nofollow noreferrer\">Oracle Database JDBC Developer's Guide</a> and</p>\n\n<ul>\n<li><a href=\"http://download.oracle.com/docs/cd/E11882_01/java.112/e16548/oraarr.htm#i1056647\" rel=\"nofollow noreferrer\">Creating ARRAY objects</a></li>\n<li><a href=\"http://download.oracle.com/docs/cd/E11882_01/java.112/e16548/ssid.htm\" rel=\"nofollow noreferrer\">Server-Side Internal Driver</a></li>\n<li><a href=\"http://download.oracle.com/docs/cd/E11882_01/appdev.112/e13995/oracle/jdbc/OracleConnection.html\" rel=\"nofollow noreferrer\">oracle.jdbc.OracleConnection</a></li>\n<li><a href=\"http://download.oracle.com/docs/cd/E11882_01/appdev.112/e13995/oracle/jdbc/OracleDriver.html\" rel=\"nofollow noreferrer\">oracle.jdbc.OracleDriver</a></li>\n</ul>\n\n<p>but I still fail to write a minimum code where I can create ARRAY using </p>\n\n<pre><code>ARRAY array = oracle.jdbc.OracleConnection.createARRAY(sql_type_name, elements);\n</code></pre>\n\n<p>as instructed in <a href=\"http://download.oracle.com/docs/cd/E11882_01/java.112/e16548/oraarr.htm#i1056647\" rel=\"nofollow noreferrer\">Creating ARRAY objects</a>.</p>\n\n<p>I'm using Oracle Database JVM.</p>\n\n<p>I have tried following:</p>\n\n<p><strong>Example 1</strong></p>\n\n<pre><code>create or replace type widgets_t is table of varchar2(32767);\n/\n\ncreate or replace and compile java source named \"so20j1\" as\npublic class so20j1 {\n    public void f1() {\n        String[] elements = new String[]{\"foo\", \"bar\", \"zoo\"};\n        oracle.sql.ARRAY widgets =\n            oracle.jdbc.OracleConnection.createARRAY(\"widgets_t\", elements);\n    }\n};\n/\nshow errors java source \"so20j1\"\n</code></pre>\n\n<p>Fails with:</p>\n\n<pre><code>Errors for JAVA SOURCE \"so20j1\":\n\nLINE/COL ERROR\n-------- -----------------------------------------------------------------\n0/0  so20j1:4: non-static method\n     createARRAY(java.lang.String,java.lang.Object) cannot be\n     referenced from a static context\n\n0/0  1 error\n0/0  ^\n0/0  oracle.sql.ARRAY widgets =\n     oracle.jdbc.OracleConnection.createARRAY(\"widgets_t\", elements);\n</code></pre>\n\n<p><strong>Example 2</strong></p>\n\n<pre><code>create or replace type widgets_t is table of varchar2(32767);\n/\n\ncreate or replace and compile java source named \"so20j2\" as\n\npublic class so20j2 {\n    public void f1() {\n        String[] elements = new String[]{\"foo\", \"bar\", \"zoo\"};\n        oracle.jdbc.OracleDriver ora = new oracle.jdbc.OracleDriver();\n        java.sql.Connection conn = ora.defaultConnection();\n        oracle.sql.ARRAY widgets = conn.createARRAY(\"widgets_t\", elements);\n    }\n};\n/\nshow errors java source \"so20j2\"\n</code></pre>\n\n<p>Fails with:</p>\n\n<pre><code>Errors for JAVA SOURCE \"so20j2\":\n\nLINE/COL ERROR\n-------- -----------------------------------------------------------------\n0/0  so20j2:6: cannot find symbol\n0/0  symbol  : method createARRAY(java.lang.String,java.lang.String[])\n0/0  1 error\n0/0  oracle.sql.ARRAY widgets = conn.createARRAY(\"widgets_t\",\n     elements);\n\n0/0  ^\n0/0  location: interface java.sql.Connection\n</code></pre>\n\n<p>Disclaimer: I'm not a Java programmer (yet).</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","spring-data"],"owner":{"account_id":7968015,"reputation":33,"user_id":6013693,"accept_rate":83,"display_name":"Jokes on me"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688036214,"creation_date":1688036214,"question_id":76580393,"body_markdown":"This is my entity:\r\n\r\n```java\r\n@Entity\r\n@Data\r\n@NoArgsConstructor\r\n@Table()\r\n@Audited\r\npublic class Group {\r\n\r\n    @Id\r\n    @GenericGenerator(name = &quot;uuid-gen&quot;, strategy = &quot;uuid2&quot;)\r\n    @GeneratedValue(generator = &quot;uuid-gen&quot;)\r\n    @Column(columnDefinition = &quot;uuid&quot;)\r\n    private UUID id;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;id_grouping&quot;, referencedColumnName = &quot;id&quot;, updatable = false)\r\n    private Group grouping;\r\n}\r\n```\r\n\r\nThat means one Group can have one Grouping.\r\nFor example, we can have the five following registers:\r\n\r\n```\r\nGroup 1 - Sweet Box\r\nGroup 2 - Candy Paper\r\nGroup 3 - Gum Paper\r\nGroup 4 - Candy\r\nGroup 5 - Gum\r\n```\r\n\r\nAnd we&#39;ll have the following connections between groups:\r\n\r\n```\r\nSweet Box -&gt; Candy Paper -&gt; Candy\r\nSweet Box -&gt; Gum Paper -&gt; Gum\r\n```\r\n\r\nWhere &quot;Sweet Box&quot; is the parent of Candy Paper and Gum Paper.\r\n\r\nIf the user try to connect &quot;Sweet Box&quot; with some of his childrens, It need to be validated, like:\r\n```\r\nSweet Box -&gt; Candy Paper -&gt; Sweet Box.\r\n```\r\n\r\nThe parent cannot be children of some of his childrens or himself. But can have an Infinite cascade of parents.\r\n\r\nSo is there anyway to do this in a single shot? Tried checking resursively but didn&#39;t find a way in JPA.","title":"Spring Data JPA OneToMany Parent recursively find if any Children is the Parent","body":"<p>This is my entity:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Data\n@NoArgsConstructor\n@Table()\n@Audited\npublic class Group {\n\n    @Id\n    @GenericGenerator(name = &quot;uuid-gen&quot;, strategy = &quot;uuid2&quot;)\n    @GeneratedValue(generator = &quot;uuid-gen&quot;)\n    @Column(columnDefinition = &quot;uuid&quot;)\n    private UUID id;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;id_grouping&quot;, referencedColumnName = &quot;id&quot;, updatable = false)\n    private Group grouping;\n}\n</code></pre>\n<p>That means one Group can have one Grouping.\nFor example, we can have the five following registers:</p>\n<pre><code>Group 1 - Sweet Box\nGroup 2 - Candy Paper\nGroup 3 - Gum Paper\nGroup 4 - Candy\nGroup 5 - Gum\n</code></pre>\n<p>And we'll have the following connections between groups:</p>\n<pre><code>Sweet Box -&gt; Candy Paper -&gt; Candy\nSweet Box -&gt; Gum Paper -&gt; Gum\n</code></pre>\n<p>Where &quot;Sweet Box&quot; is the parent of Candy Paper and Gum Paper.</p>\n<p>If the user try to connect &quot;Sweet Box&quot; with some of his childrens, It need to be validated, like:</p>\n<pre><code>Sweet Box -&gt; Candy Paper -&gt; Sweet Box.\n</code></pre>\n<p>The parent cannot be children of some of his childrens or himself. But can have an Infinite cascade of parents.</p>\n<p>So is there anyway to do this in a single shot? Tried checking resursively but didn't find a way in JPA.</p>\n"},{"tags":["java","jvm","java-9","javax.activation"],"comments":[{"owner":{"account_id":2766699,"reputation":6030,"user_id":2382246,"accept_rate":100,"display_name":"blalasaadri"},"score":7,"creation_date":1542651775,"post_id":46493613,"comment_id":93636775,"body_markdown":"A small addition: JDK 11 actually removes this (as part of JEP 320), so starting with that JAF has to be included as a separate dependency if used.","body":"A small addition: JDK 11 actually removes this (as part of JEP 320), so starting with that JAF has to be included as a separate dependency if used."},{"owner":{"account_id":11764939,"reputation":3827,"user_id":8609847,"display_name":"Satish Patro"},"score":0,"creation_date":1587021311,"post_id":46493613,"comment_id":108345900,"body_markdown":"what is javax activation dependency for mail required? javax.mail should suffice. Right?","body":"what is javax activation dependency for mail required? javax.mail should suffice. Right?"},{"owner":{"account_id":126861,"reputation":2404,"user_id":323653,"accept_rate":21,"display_name":"Mike"},"score":4,"creation_date":1605069429,"post_id":46493613,"comment_id":114537127,"body_markdown":"javax.mail&#39;s MimeBodyPart uses activation&#39;s DataHandler to set the mime content for that part. I ran into that today. Couldn&#39;t figure out  why the main thread simply vanished on me while running in the IDE even. I was only catch Exception, so the class not found thing slipped right through.\nAfter telling my project should run using JRE 8, the problem went away&gt; Lost hours on this.","body":"javax.mail&#39;s MimeBodyPart uses activation&#39;s DataHandler to set the mime content for that part. I ran into that today. Couldn&#39;t figure out  why the main thread simply vanished on me while running in the IDE even. I was only catch Exception, so the class not found thing slipped right through. After telling my project should run using JRE 8, the problem went away&gt; Lost hours on this."}],"answers":[{"tags":[],"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"down_vote_count":0,"up_vote_count":85,"is_accepted":true,"score":85,"last_activity_date":1539813582,"creation_date":1506705026,"answer_id":46493809,"question_id":46493613,"body_markdown":"[JavaBeans Activation Framework (JAF)](https://github.com/eclipse-ee4j/jaf) is possibly the alternative you are looking for to the existing package.\r\n\r\n&gt; This standalone release of JAF uses a Java Platform Module System\r\n&gt; ***automatic module*** name of **[`java.activation`](https://docs.oracle.com/javase/9/docs/api/java.activation-summary.htmll)**, to match the module name\r\n&gt; used in JDK 9. A future version will include full module metadata.\r\n\r\nThe standalone APIs are supported in modular form only, via the concept of *[upgradeable modules](http://openjdk.java.net/projects/jigsaw/goals-reqs/03#upgradeable-modules)*. Using them, it&#39;s possible to use a version of that module from a later release in any phase, i.e., at compile time, build time, or runtime.\r\n\r\n----------\r\n\r\n\r\nThe currently [available version](https://search.maven.org/#artifactdetails%7Ccom.sun.activation%7Cjavax.activation%7C1.2.0%7Cjar) for this is `1.2.0` which can be used like this: \r\n\r\n***Maven*** \r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.sun.activation&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javax.activation&lt;/artifactId&gt;\r\n        &lt;version&gt;1.2.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n***Gradle*** \r\n\r\n    compile &#39;com.sun.activation:javax.activation:1.2.0&#39;\r\n\r\n***Ivy***\r\n\r\n    &lt;dependency org=&quot;com.sun.activation&quot; name=&quot;javax.activation&quot; rev=&quot;1.2.0&quot; /&gt;\r\n","title":"What is the replacement for javax.activation package in java 9?","body":"<p><a href=\"https://github.com/eclipse-ee4j/jaf\" rel=\"noreferrer\">JavaBeans Activation Framework (JAF)</a> is possibly the alternative you are looking for to the existing package.</p>\n\n<blockquote>\n  <p>This standalone release of JAF uses a Java Platform Module System\n  <strong><em>automatic module</em></strong> name of <strong><a href=\"https://docs.oracle.com/javase/9/docs/api/java.activation-summary.htmll\" rel=\"noreferrer\"><code>java.activation</code></a></strong>, to match the module name\n  used in JDK 9. A future version will include full module metadata.</p>\n</blockquote>\n\n<p>The standalone APIs are supported in modular form only, via the concept of <em><a href=\"http://openjdk.java.net/projects/jigsaw/goals-reqs/03#upgradeable-modules\" rel=\"noreferrer\">upgradeable modules</a></em>. Using them, it's possible to use a version of that module from a later release in any phase, i.e., at compile time, build time, or runtime.</p>\n\n<hr>\n\n<p>The currently <a href=\"https://search.maven.org/#artifactdetails%7Ccom.sun.activation%7Cjavax.activation%7C1.2.0%7Cjar\" rel=\"noreferrer\">available version</a> for this is <code>1.2.0</code> which can be used like this: </p>\n\n<p><strong><em>Maven</em></strong> </p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.sun.activation&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.activation&lt;/artifactId&gt;\n    &lt;version&gt;1.2.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p><strong><em>Gradle</em></strong> </p>\n\n<pre><code>compile 'com.sun.activation:javax.activation:1.2.0'\n</code></pre>\n\n<p><strong><em>Ivy</em></strong></p>\n\n<pre><code>&lt;dependency org=\"com.sun.activation\" name=\"javax.activation\" rev=\"1.2.0\" /&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10098519,"reputation":5323,"user_id":7463126,"display_name":"Alan Bateman"},"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1599565200,"creation_date":1506705240,"answer_id":46493853,"question_id":46493613,"body_markdown":"The JavaBeans Activiation Framework is a standalone technology with its own maintenance JSR in the JCP and its own download. Yes, Java SE 9 has deprecated it and has proposes to remove in a future release along with the modules shared with Java EE but this doesn&#39;t impact the standalone version. The standalone version will live on. If you are using Maven then this should work:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.sun.activation&lt;/groupId&gt;\r\n      &lt;artifactId&gt;javax.activation&lt;/artifactId&gt;\r\n      &lt;version&gt;1.2.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nand if you are developing a module then you can use `requires java.activation`.","title":"What is the replacement for javax.activation package in java 9?","body":"<p>The JavaBeans Activiation Framework is a standalone technology with its own maintenance JSR in the JCP and its own download. Yes, Java SE 9 has deprecated it and has proposes to remove in a future release along with the modules shared with Java EE but this doesn't impact the standalone version. The standalone version will live on. If you are using Maven then this should work:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.sun.activation&lt;/groupId&gt;\n  &lt;artifactId&gt;javax.activation&lt;/artifactId&gt;\n  &lt;version&gt;1.2.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>and if you are developing a module then you can use <code>requires java.activation</code>.</p>\n"},{"tags":[],"owner":{"account_id":1841182,"reputation":21,"user_id":1670531,"display_name":"Michal Cz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1556017754,"creation_date":1556017754,"answer_id":55809875,"question_id":46493613,"body_markdown":"As written above, java versions &gt; 8 are not providing javax.activation. I met this exception when working on camel project. I&#39;ve just added the following dependency:\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/javax.activation/activation --&gt;\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;javax.activation&lt;/groupId&gt;\r\n    &lt;artifactId&gt;activation&lt;/artifactId&gt;\r\n    &lt;version&gt;1.1.1&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"What is the replacement for javax.activation package in java 9?","body":"<p>As written above, java versions > 8 are not providing javax.activation. I met this exception when working on camel project. I've just added the following dependency:</p>\n\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/javax.activation/activation --&gt;\n&lt;dependency&gt;\n&lt;groupId&gt;javax.activation&lt;/groupId&gt;\n&lt;artifactId&gt;activation&lt;/artifactId&gt;\n&lt;version&gt;1.1.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1317517,"reputation":314,"user_id":1264066,"display_name":"Benjam&#237;n Valero"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1592126786,"creation_date":1592126786,"answer_id":62370666,"question_id":46493613,"body_markdown":"I am using module configuration in my project, so this issue has been simply solved by adding `requires java.activation` to the `module-info.java` file.","title":"What is the replacement for javax.activation package in java 9?","body":"<p>I am using module configuration in my project, so this issue has been simply solved by adding <code>requires java.activation</code> to the <code>module-info.java</code> file.</p>\n"},{"tags":[],"owner":{"account_id":104911,"reputation":119202,"user_id":280244,"accept_rate":81,"display_name":"Ralph"},"down_vote_count":1,"up_vote_count":25,"is_accepted":false,"score":24,"last_activity_date":1688036184,"creation_date":1607088093,"answer_id":65144335,"question_id":46493613,"body_markdown":"# Update 2020\r\n_the next renaming_\r\n\r\n(due to some legal [issues][1], `javax.*` was renamed to `jakarta.*`. So the current 1.2.2+ versions of [Jakarta Activation Framework][2] use the names:\r\n- `jakarta.activation:jakarta.activation-api` (instead of `javax.activation:javax.activation-api`) or\r\n- `com.sun.activation:jakarta.activation` (instead of `com.sun.activation:javax.activation` and `javax.activation:activation`) \r\n\r\n\r\n\r\n(The package names within this libraries is still `javax.activation` so this issue is just with the Maven dependency names)\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;jakarta.activation&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jakarta.activation-api&lt;/artifactId&gt;\r\n    &lt;version&gt;1.2.2&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nor \r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.sun.activation&lt;/groupId&gt;\r\n    &lt;artifactId&gt;javax.activation&lt;/artifactId&gt;\r\n    &lt;version&gt;1.2.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nAttention: you do **not** need both dependencies, because `com.sun.activation:javax.activation` include the classes from `jakarta.activation:jakarta.activation-api`\r\n\r\n-----\r\n**Hint** Use Maven enforcer to keep your project free of this duplicates:\r\n```\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;maven-enforcer-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;3.0.0-M3&lt;/version&gt;\r\n    &lt;executions&gt;\r\n        &lt;execution&gt;\r\n            &lt;id&gt;enforce-lib-ban&lt;/id&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;enforce&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n                &lt;rules&gt;\r\n                    &lt;bannedDependencies&gt;\r\n                        &lt;!-- the activation framework was renamed to jarkata activation framework --&gt;\r\n                        &lt;excludes&gt;\r\n                            &lt;exclude&gt;javax.activation:javax.actication-api&lt;/exclude&gt;                        \r\n                            &lt;exclude&gt;com.sun.activation:javax.activation&lt;/exclude&gt;\r\n                            &lt;exclude&gt;javax.activation:activation&lt;/exclude&gt;\r\n                        &lt;/excludes&gt;\r\n                        &lt;message&gt;use jakarta.activation:jakarta.activation-api or com.sun.activation:jakarta.activation instead of javax.activation&lt;/message&gt;\r\n                    &lt;/bannedDependencies&gt;\r\n&lt;!-- if you use com.sun.activation:jakarta.activation\r\n                    &lt;bannedDependencies&gt;\r\n                        &lt;!- - the implementation com.sun.activation:jakarta.activation contains the api classes too - -&gt;\r\n                        &lt;excludes&gt;\r\n                            &lt;exclude&gt;jakarta.activation:jakarta.activation-api&lt;/exclude&gt;\r\n                        &lt;/excludes&gt;\r\n                        &lt;message&gt;the implementation com.sun.activation:jakarta.activation is included and it contains the api classes too&lt;/message&gt;\r\n                    &lt;/bannedDependencies&gt;\r\n--&gt;\r\n                &lt;/rules&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/execution&gt;\r\n    &lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\n\r\n  [1]: https://eclipse-foundation.blog/2019/05/03/jakarta-ee-java-trademarks/\r\n  [2]: https://eclipse-ee4j.github.io/jaf/","title":"What is the replacement for javax.activation package in java 9?","body":"<h1>Update 2020</h1>\n<p><em>the next renaming</em></p>\n<p>(due to some legal <a href=\"https://eclipse-foundation.blog/2019/05/03/jakarta-ee-java-trademarks/\" rel=\"nofollow noreferrer\">issues</a>, <code>javax.*</code> was renamed to <code>jakarta.*</code>. So the current 1.2.2+ versions of <a href=\"https://eclipse-ee4j.github.io/jaf/\" rel=\"nofollow noreferrer\">Jakarta Activation Framework</a> use the names:</p>\n<ul>\n<li><code>jakarta.activation:jakarta.activation-api</code> (instead of <code>javax.activation:javax.activation-api</code>) or</li>\n<li><code>com.sun.activation:jakarta.activation</code> (instead of <code>com.sun.activation:javax.activation</code> and <code>javax.activation:activation</code>)</li>\n</ul>\n<p>(The package names within this libraries is still <code>javax.activation</code> so this issue is just with the Maven dependency names)</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;jakarta.activation&lt;/groupId&gt;\n    &lt;artifactId&gt;jakarta.activation-api&lt;/artifactId&gt;\n    &lt;version&gt;1.2.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>or</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.sun.activation&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.activation&lt;/artifactId&gt;\n    &lt;version&gt;1.2.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Attention: you do <strong>not</strong> need both dependencies, because <code>com.sun.activation:javax.activation</code> include the classes from <code>jakarta.activation:jakarta.activation-api</code></p>\n<hr />\n<p><strong>Hint</strong> Use Maven enforcer to keep your project free of this duplicates:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-enforcer-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.0.0-M3&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;enforce-lib-ban&lt;/id&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;enforce&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;rules&gt;\n                    &lt;bannedDependencies&gt;\n                        &lt;!-- the activation framework was renamed to jarkata activation framework --&gt;\n                        &lt;excludes&gt;\n                            &lt;exclude&gt;javax.activation:javax.actication-api&lt;/exclude&gt;                        \n                            &lt;exclude&gt;com.sun.activation:javax.activation&lt;/exclude&gt;\n                            &lt;exclude&gt;javax.activation:activation&lt;/exclude&gt;\n                        &lt;/excludes&gt;\n                        &lt;message&gt;use jakarta.activation:jakarta.activation-api or com.sun.activation:jakarta.activation instead of javax.activation&lt;/message&gt;\n                    &lt;/bannedDependencies&gt;\n&lt;!-- if you use com.sun.activation:jakarta.activation\n                    &lt;bannedDependencies&gt;\n                        &lt;!- - the implementation com.sun.activation:jakarta.activation contains the api classes too - -&gt;\n                        &lt;excludes&gt;\n                            &lt;exclude&gt;jakarta.activation:jakarta.activation-api&lt;/exclude&gt;\n                        &lt;/excludes&gt;\n                        &lt;message&gt;the implementation com.sun.activation:jakarta.activation is included and it contains the api classes too&lt;/message&gt;\n                    &lt;/bannedDependencies&gt;\n--&gt;\n                &lt;/rules&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3162994,"reputation":1345,"user_id":2673577,"accept_rate":0,"display_name":"asifaftab87"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1617201979,"creation_date":1617201979,"answer_id":66890088,"question_id":46493613,"body_markdown":"I have to send mail in Liferay 7.1 so I added dependency like this\r\n\r\ncompile &#39;javax.mail:mail:1.4.7&#39;\r\n\r\n","title":"What is the replacement for javax.activation package in java 9?","body":"<p>I have to send mail in Liferay 7.1 so I added dependency like this</p>\n<p>compile 'javax.mail:mail:1.4.7'</p>\n"}],"owner":{"account_id":9573991,"reputation":11925,"user_id":7110799,"accept_rate":87,"display_name":"Dmitriy Dumanskiy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":115812,"favorite_count":0,"down_vote_count":0,"up_vote_count":85,"accepted_answer_id":46493809,"answer_count":6,"score":85,"last_activity_date":1688036184,"creation_date":1506704153,"question_id":46493613,"body_markdown":"Seems like `javax.activation` package is deprecated in Java 9.\r\nOracle migration guide proposes to use `--add-modules java.activation` option during JVM start. \r\n\r\nHowever, I would like to avoid this and replace `javax.activation` package&#39;s classes, as it is deprecated and will be removed in future java versions. I suppose, there should be some kind of alternative for `javax.activation`. If there is any available, what is it?\r\n\r\n","title":"What is the replacement for javax.activation package in java 9?","body":"<p>Seems like <code>javax.activation</code> package is deprecated in Java 9.\nOracle migration guide proposes to use <code>--add-modules java.activation</code> option during JVM start. </p>\n\n<p>However, I would like to avoid this and replace <code>javax.activation</code> package's classes, as it is deprecated and will be removed in future java versions. I suppose, there should be some kind of alternative for <code>javax.activation</code>. If there is any available, what is it?</p>\n"},{"tags":["java","spring-boot","maven"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1687857827,"post_id":76563413,"comment_id":134991923,"body_markdown":"What&#39;s the source code of `DemotechnikApplicationTests`?","body":"What&#39;s the source code of <code>DemotechnikApplicationTests</code>?"},{"owner":{"account_id":4102353,"reputation":132,"user_id":4387651,"display_name":"nikunj"},"score":0,"creation_date":1687857983,"post_id":76563413,"comment_id":134991955,"body_markdown":"It&#39;s completely empty app.The main app was not working so I have created a new dummy app to test.this is dummy app my main app is also not working.But I think the issue is not related to code.","body":"It&#39;s completely empty app.The main app was not working so I have created a new dummy app to test.this is dummy app my main app is also not working.But I think the issue is not related to code."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1687858177,"post_id":76563413,"comment_id":134991982,"body_markdown":"Please edit your question and add the source code of `DemotechnikApplicationTests`. What&#39;s an &quot;empty app&quot;?","body":"Please edit your question and add the source code of <code>DemotechnikApplicationTests</code>. What&#39;s an &quot;empty app&quot;?"},{"owner":{"account_id":13342760,"reputation":1334,"user_id":9630486,"display_name":"Egor"},"score":0,"creation_date":1687860500,"post_id":76563413,"comment_id":134992505,"body_markdown":"Did you forget @SpringBootApplication annotation?","body":"Did you forget @SpringBootApplication annotation?"},{"owner":{"account_id":4102353,"reputation":132,"user_id":4387651,"display_name":"nikunj"},"score":0,"creation_date":1687860783,"post_id":76563413,"comment_id":134992571,"body_markdown":"@Egor no it&#39;s there","body":"@Egor no it&#39;s there"}],"answers":[{"tags":[],"owner":{"account_id":28889835,"reputation":21,"user_id":22127239,"display_name":"NeveMore"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687863664,"creation_date":1687863664,"answer_id":76564186,"question_id":76563413,"body_markdown":"Sorry I do not have authority to comment directly so I add a answer here.\r\n\r\nI tried your code on my local and it can start successfully without `Process finished with exit code 0`.\r\n\r\nI checked your log and I think one possible problem is that your application has NOT been regarded as a web application. \r\n\r\nThe log ends with\r\n\r\n    2023-06-27 14:41:47.860  INFO 25047 --- [           main] c.t.d.DemotechnikApplicationTests        : Started DemotechnikApplicationTests in 2.003 seconds (JVM running for 2.861)\r\n    \r\nSo please check whether you are running DemotechnikApplicationTests actually.\r\n\r\nBTW, my local log includes the tomcat, please check whether it is correctly configured.\r\n\r\n    o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n    o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n    org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.76]\r\n    o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n\r\n\r\n","title":"Springboot Java webapp error : process finished with exit code 0","body":"<p>Sorry I do not have authority to comment directly so I add a answer here.</p>\n<p>I tried your code on my local and it can start successfully without <code>Process finished with exit code 0</code>.</p>\n<p>I checked your log and I think one possible problem is that your application has NOT been regarded as a web application.</p>\n<p>The log ends with</p>\n<pre><code>2023-06-27 14:41:47.860  INFO 25047 --- [           main] c.t.d.DemotechnikApplicationTests        : Started DemotechnikApplicationTests in 2.003 seconds (JVM running for 2.861)\n</code></pre>\n<p>So please check whether you are running DemotechnikApplicationTests actually.</p>\n<p>BTW, my local log includes the tomcat, please check whether it is correctly configured.</p>\n<pre><code>o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\no.apache.catalina.core.StandardService   : Starting service [Tomcat]\norg.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.76]\no.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4102353,"reputation":132,"user_id":4387651,"display_name":"nikunj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688035861,"creation_date":1688035861,"answer_id":76580342,"question_id":76563413,"body_markdown":"I made a silly mistake there. As I told I am new to JAVA, this was indeed my first code.\r\n***I was running the package instead of app.***\r\nIt just runs the test and that&#39;s the output pasted above.","title":"Springboot Java webapp error : process finished with exit code 0","body":"<p>I made a silly mistake there. As I told I am new to JAVA, this was indeed my first code.\n<em><strong>I was running the package instead of app.</strong></em>\nIt just runs the test and that's the output pasted above.</p>\n"}],"owner":{"account_id":4102353,"reputation":132,"user_id":4387651,"display_name":"nikunj"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":194,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76580342,"answer_count":2,"score":0,"last_activity_date":1688035861,"creation_date":1687857674,"question_id":76563413,"body_markdown":"My app always exit. &quot;process finished with exit code 0&quot;.\r\nI tried with different versions of JAVA, Springboot but I get same issue everytime.\r\n\r\nBelow is the run output and POM file data\r\n```\r\npackage com.technik.demotechnik;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n@SpringBootApplication\r\npublic class DemotechnikApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(DemotechnikApplication.class, args);\r\n\t\tSystem.out.println(&quot;Hello, world!&quot;);\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.13&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.technik&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;demotechnik&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;demotechnik&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nBuild log\r\n\r\n    /Library/Java/JavaVirtualMachines/jdk-19.jdk/Contents/Home/bin/java -ea -Didea.test.cyclic.buffer.size=1048576 -javaagent:/Applications/IntelliJ IDEA CE.app/Contents/lib/idea_rt.jar=64000:/Applications/IntelliJ IDEA CE.app/Contents/bin -Dfile.encoding=UTF-8 -Dsun.stdout.encoding=UTF-8 -Dsun.stderr.encoding=UTF-8 -classpath /Users/nikunjrai/.m2/repository/org/junit/platform/junit-platform-launcher/1.8.2/junit-platform-launcher-1.8.2.jar:/Applications/IntelliJ IDEA CE.app/Contents/lib/idea_rt.jar:/Applications/IntelliJ IDEA CE.app/Contents/plugins/junit/lib/junit5-rt.jar:/Applications/IntelliJ IDEA CE.app/Contents/plugins/junit/lib/junit-rt.jar:/Users/nikunjrai/Documents/work/nikunj/projects/java/demotechnik/target/test-classes:/Users/nikunjrai/Documents/work/nikunj/projects/java/demotechnik/target/classes:/Users/nikunjrai/.m2/repository/org/springframework/boot/spring-boot-starter-data-mongodb/2.7.13/spring-boot-starter-data-mongodb-2.7.13.jar:/Users/nikunjrai/.m2/repository/org/springframework/boot/spring-boot-starter/2.7.13/spring-boot-starter-2.7.13.jar:/Users/nikunjrai/.m2/repository/org/springframework/boot/spring-boot/2.7.13/spring-boot-2.7.13.jar:/Users/nikunjrai/.m2/repository/org/springframework/boot/spring-boot-autoconfigure/2.7.13/spring-boot-autoconfigure-2.7.13.jar:/Users/nikunjrai/.m2/repository/org/springframework/boot/spring-boot-starter-logging/2.7.13/spring-boot-starter-logging-2.7.13.jar:/Users/nikunjrai/.m2/repository/ch/qos/logback/logback-classic/1.2.12/logback-classic-1.2.12.jar:/Users/nikunjrai/.m2/repository/ch/qos/logback/logback-core/1.2.12/logback-core-1.2.12.jar:/Users/nikunjrai/.m2/repository/org/apache/logging/log4j/log4j-to-slf4j/2.17.2/log4j-to-slf4j-2.17.2.jar:/Users/nikunjrai/.m2/repository/org/apache/logging/log4j/log4j-api/2.17.2/log4j-api-2.17.2.jar:/Users/nikunjrai/.m2/repository/org/slf4j/jul-to-slf4j/1.7.36/jul-to-slf4j-1.7.36.jar:/Users/nikunjrai/.m2/repository/jakarta/annotation/jakarta.annotation-api/1.3.5/jakarta.annotation-api-1.3.5.jar:/Users/nikunjrai/.m2/repository/org/yaml/snakeyaml/1.30/snakeyaml-1.30.jar:/Users/nikunjrai/.m2/repository/org/mongodb/mongodb-driver-sync/4.6.1/mongodb-driver-sync-4.6.1.jar:/Users/nikunjrai/.m2/repository/org/mongodb/bson/4.6.1/bson-4.6.1.jar:/Users/nikunjrai/.m2/repository/org/mongodb/mongodb-driver-core/4.6.1/mongodb-driver-core-4.6.1.jar:/Users/nikunjrai/.m2/repository/org/mongodb/bson-record-codec/4.6.1/bson-record-codec-4.6.1.jar:/Users/nikunjrai/.m2/repository/org/springframework/data/spring-data-mongodb/3.4.13/spring-data-mongodb-3.4.13.jar:/Users/nikunjrai/.m2/repository/org/springframework/spring-tx/5.3.28/spring-tx-5.3.28.jar:/Users/nikunjrai/.m2/repository/org/springframework/spring-context/5.3.28/spring-context-5.3.28.jar:/Users/nikunjrai/.m2/repository/org/springframework/spring-beans/5.3.28/spring-beans-5.3.28.jar:/Users/nikunjrai/.m2/repository/org/springframework/spring-expression/5.3.28/spring-expression-5.3.28.jar:/Users/nikunjrai/.m2/repository/org/springframework/data/spring-data-commons/2.7.13/spring-data-commons-2.7.13.jar:/Users/nikunjrai/.m2/repository/org/slf4j/slf4j-api/1.7.36/slf4j-api-1.7.36.jar:/Users/nikunjrai/.m2/repository/org/springframework/boot/spring-boot-starter-web/2.7.13/spring-boot-starter-web-2.7.13.jar:/Users/nikunjrai/.m2/repository/org/springframework/boot/spring-boot-starter-json/2.7.13/spring-boot-starter-json-2.7.13.jar:/Users/nikunjrai/.m2/repository/com/fasterxml/jackson/core/jackson-databind/2.13.5/jackson-databind-2.13.5.jar:/Users/nikunjrai/.m2/repository/com/fasterxml/jackson/core/jackson-annotations/2.13.5/jackson-annotations-2.13.5.jar:/Users/nikunjrai/.m2/repository/com/fasterxml/jackson/core/jackson-core/2.13.5/jackson-core-2.13.5.jar:/Users/nikunjrai/.m2/repository/com/fasterxml/jackson/datatype/jackson-datatype-jdk8/2.13.5/jackson-datatype-jdk8-2.13.5.jar:/Users/nikunjrai/.m2/repository/com/fasterxml/jackson/datatype/jackson-datatype-jsr310/2.13.5/jackson-datatype-jsr310-2.13.5.jar:/Users/nikunjrai/.m2/repository/com/fasterxml/jackson/module/jackson-module-parameter-names/2.13.5/jackson-module-parameter-names-2.13.5.jar:/Users/nikunjrai/.m2/repository/org/springframework/boot/spring-boot-starter-tomcat/2.7.13/spring-boot-starter-tomcat-2.7.13.jar:/Users/nikunjrai/.m2/repository/org/apache/tomcat/embed/tomcat-embed-core/9.0.76/tomcat-embed-core-9.0.76.jar:/Users/nikunjrai/.m2/repository/org/apache/tomcat/embed/tomcat-embed-el/9.0.76/tomcat-embed-el-9.0.76.jar:/Users/nikunjrai/.m2/repository/org/apache/tomcat/embed/tomcat-embed-websocket/9.0.76/tomcat-embed-websocket-9.0.76.jar:/Users/nikunjrai/.m2/repository/org/springframework/spring-web/5.3.28/spring-web-5.3.28.jar:/Users/nikunjrai/.m2/repository/org/springframework/spring-webmvc/5.3.28/spring-webmvc-5.3.28.jar:/Users/nikunjrai/.m2/repository/org/springframework/spring-aop/5.3.28/spring-aop-5.3.28.jar:/Users/nikunjrai/.m2/repository/org/projectlombok/lombok/1.18.28/lombok-1.18.28.jar:/Users/nikunjrai/.m2/repository/org/springframework/boot/spring-boot-starter-test/2.7.13/spring-boot-starter-test-2.7.13.jar:/Users/nikunjrai/.m2/repository/org/springframework/boot/spring-boot-test/2.7.13/spring-boot-test-2.7.13.jar:/Users/nikunjrai/.m2/repository/org/springframework/boot/spring-boot-test-autoconfigure/2.7.13/spring-boot-test-autoconfigure-2.7.13.jar:/Users/nikunjrai/.m2/repository/com/jayway/jsonpath/json-path/2.7.0/json-path-2.7.0.jar:/Users/nikunjrai/.m2/repository/net/minidev/json-smart/2.4.11/json-smart-2.4.11.jar:/Users/nikunjrai/.m2/repository/net/minidev/accessors-smart/2.4.11/accessors-smart-2.4.11.jar:/Users/nikunjrai/.m2/repository/org/ow2/asm/asm/9.3/asm-9.3.jar:/Users/nikunjrai/.m2/repository/jakarta/xml/bind/jakarta.xml.bind-api/2.3.3/jakarta.xml.bind-api-2.3.3.jar:/Users/nikunjrai/.m2/repository/jakarta/activation/jakarta.activation-api/1.2.2/jakarta.activation-api-1.2.2.jar:/Users/nikunjrai/.m2/repository/org/assertj/assertj-core/3.22.0/assertj-core-3.22.0.jar:/Users/nikunjrai/.m2/repository/org/hamcrest/hamcrest/2.2/hamcrest-2.2.jar:/Users/nikunjrai/.m2/repository/org/junit/jupiter/junit-jupiter/5.8.2/junit-jupiter-5.8.2.jar:/Users/nikunjrai/.m2/repository/org/junit/jupiter/junit-jupiter-api/5.8.2/junit-jupiter-api-5.8.2.jar:/Users/nikunjrai/.m2/repository/org/opentest4j/opentest4j/1.2.0/opentest4j-1.2.0.jar:/Users/nikunjrai/.m2/repository/org/junit/platform/junit-platform-commons/1.8.2/junit-platform-commons-1.8.2.jar:/Users/nikunjrai/.m2/repository/org/apiguardian/apiguardian-api/1.1.2/apiguardian-api-1.1.2.jar:/Users/nikunjrai/.m2/repository/org/junit/jupiter/junit-jupiter-params/5.8.2/junit-jupiter-params-5.8.2.jar:/Users/nikunjrai/.m2/repository/org/junit/jupiter/junit-jupiter-engine/5.8.2/junit-jupiter-engine-5.8.2.jar:/Users/nikunjrai/.m2/repository/org/junit/platform/junit-platform-engine/1.8.2/junit-platform-engine-1.8.2.jar:/Users/nikunjrai/.m2/repository/org/mockito/mockito-core/4.5.1/mockito-core-4.5.1.jar:/Users/nikunjrai/.m2/repository/net/bytebuddy/byte-buddy/1.12.23/byte-buddy-1.12.23.jar:/Users/nikunjrai/.m2/repository/net/bytebuddy/byte-buddy-agent/1.12.23/byte-buddy-agent-1.12.23.jar:/Users/nikunjrai/.m2/repository/org/objenesis/objenesis/3.2/objenesis-3.2.jar:/Users/nikunjrai/.m2/repository/org/mockito/mockito-junit-jupiter/4.5.1/mockito-junit-jupiter-4.5.1.jar:/Users/nikunjrai/.m2/repository/org/skyscreamer/jsonassert/1.5.1/jsonassert-1.5.1.jar:/Users/nikunjrai/.m2/repository/com/vaadin/external/google/android-json/0.0.20131108.vaadin1/android-json-0.0.20131108.vaadin1.jar:/Users/nikunjrai/.m2/repository/org/springframework/spring-core/5.3.28/spring-core-5.3.28.jar:/Users/nikunjrai/.m2/repository/org/springframework/spring-jcl/5.3.28/spring-jcl-5.3.28.jar:/Users/nikunjrai/.m2/repository/org/springframework/spring-test/5.3.28/spring-test-5.3.28.jar:/Users/nikunjrai/.m2/repository/org/xmlunit/xmlunit-core/2.9.1/xmlunit-core-2.9.1.jar com.intellij.rt.junit.JUnitStarter -ideVersion5 -junit5 @w@/private/var/folders/mx/tyh72g3d09z3m68qkqpns8sr0000gn/T/idea_working_dirs_junit.tmp @/private/var/folders/mx/tyh72g3d09z3m68qkqpns8sr0000gn/T/idea_junit.tmp -socket63999\r\n    14:41:45.585 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating CacheAwareContextLoaderDelegate from class [org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate]\r\n    14:41:45.596 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating BootstrapContext using constructor [public org.springframework.test.context.support.DefaultBootstrapContext(java.lang.Class,org.springframework.test.context.CacheAwareContextLoaderDelegate)]\r\n    14:41:45.629 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating TestContextBootstrapper for test class [com.technik.demotechnik.DemotechnikApplicationTests] from class [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]\r\n    14:41:45.641 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.technik.demotechnik.DemotechnikApplicationTests], using SpringBootContextLoader\r\n    14:41:45.645 [main] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [com.technik.demotechnik.DemotechnikApplicationTests]: class path resource [com/technik/demotechnik/DemotechnikApplicationTests-context.xml] does not exist\r\n    14:41:45.645 [main] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [com.technik.demotechnik.DemotechnikApplicationTests]: class path resource [com/technik/demotechnik/DemotechnikApplicationTestsContext.groovy] does not exist\r\n    14:41:45.646 [main] INFO org.springframework.test.context.support.AbstractContextLoader - Could not detect default resource locations for test class [com.technik.demotechnik.DemotechnikApplicationTests]: no resource found for suffixes {-context.xml, Context.groovy}.\r\n    14:41:45.646 [main] INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.technik.demotechnik.DemotechnikApplicationTests]: DemotechnikApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.\r\n    14:41:45.684 [main] DEBUG org.springframework.test.context.support.ActiveProfilesUtils - Could not find an &#39;annotation declaring class&#39; for annotation type [org.springframework.test.context.ActiveProfiles] and class [com.technik.demotechnik.DemotechnikApplicationTests]\r\n    14:41:45.733 [main] DEBUG org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider - Identified candidate component class: file [/Users/nikunjrai/Documents/work/nikunj/projects/java/demotechnik/target/classes/com/technik/demotechnik/DemotechnikApplication.class]\r\n    14:41:45.733 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.technik.demotechnik.DemotechnikApplication for test class com.technik.demotechnik.DemotechnikApplicationTests\r\n    14:41:45.803 [main] DEBUG org.springframework.boot.test.context.SpringBootTestContextBootstrapper - @TestExecutionListeners is not present for class [com.technik.demotechnik.DemotechnikApplicationTests]: using defaults.\r\n    14:41:45.803 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]\r\n    14:41:45.819 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@1863d2fe, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1787bc24, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@544d57e, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@55c53a33, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@53b7f657, org.springframework.test.context.support.DirtiesContextTestExecutionListener@797b0699, org.springframework.test.context.transaction.TransactionalTestExecutionListener@5a37d3ed, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@26df6e3a, org.springframework.test.context.event.EventPublishingTestExecutionListener@4a3631f8, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@6b58b9e9, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@f14a7d4, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@52e7a6b2, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@29a5f4e7, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@79c97cb, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@2d9caaeb]\r\n    14:41:45.822 [main] DEBUG org.springframework.test.context.support.AbstractDirtiesContextTestExecutionListener - Before test class: context [DefaultTestContext@34f6515b testClass = DemotechnikApplicationTests, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4b34fff9 testClass = DemotechnikApplicationTests, locations = &#39;{}&#39;, classes = &#39;{class com.technik.demotechnik.DemotechnikApplication}&#39;, contextInitializerClasses = &#39;[]&#39;, activeProfiles = &#39;{}&#39;, propertySourceLocations = &#39;{}&#39;, propertySourceProperties = &#39;{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}&#39;, contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5aebe890, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1190200a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@37271612, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@6f45df59, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@5609159b, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@31610302], resourceBasePath = &#39;src/main/webapp&#39;, contextLoader = &#39;org.springframework.boot.test.context.SpringBootContextLoader&#39;, parent = [null]], attributes = map[&#39;org.springframework.test.context.web.ServletTestExecutionListener.activateListener&#39; -&gt; true]], class annotated with @DirtiesContext [false] with mode [null].\r\n    \r\n      .   ____          _            __ _ _\r\n     /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n    ( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n     \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n      &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n     =========|_|==============|___/=/_/_/_/\r\n     :: Spring Boot ::               (v2.7.13)\r\n    \r\n    2023-06-27 14:41:46.253  INFO 25047 --- [           main] c.t.d.DemotechnikApplicationTests        : Starting DemotechnikApplicationTests using Java 19.0.2 on Nikunjs-MacBook-Pro-2.local with PID 25047 (started by nikunjrai in /Users/nikunjrai/Documents/work/nikunj/projects/java/demotechnik)\r\n    2023-06-27 14:41:46.255  INFO 25047 --- [           main] c.t.d.DemotechnikApplicationTests        : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n    2023-06-27 14:41:46.682  INFO 25047 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.\r\n    2023-06-27 14:41:46.690  INFO 25047 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 3 ms. Found 0 MongoDB repository interfaces.\r\n    2023-06-27 14:41:47.623  INFO 25047 --- [           main] org.mongodb.driver.client                : MongoClient with metadata {&quot;driver&quot;: {&quot;name&quot;: &quot;mongo-java-driver|sync|spring-boot&quot;, &quot;version&quot;: &quot;4.6.1&quot;}, &quot;os&quot;: {&quot;type&quot;: &quot;Darwin&quot;, &quot;name&quot;: &quot;Mac OS X&quot;, &quot;architecture&quot;: &quot;x86_64&quot;, &quot;version&quot;: &quot;12.6&quot;}, &quot;platform&quot;: &quot;Java/Oracle Corporation/19.0.2+7-44&quot;} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=null, streamFactoryFactory=null, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.Jep395RecordCodecProvider@21c747a]}, clusterSettings={hosts=[localhost:27017], srvServiceName=mongodb, mode=SINGLE, requiredClusterType=UNKNOWN, requiredReplicaSetName=&#39;null&#39;, serverSelector=&#39;null&#39;, clusterListeners=&#39;[]&#39;, serverSelectionTimeout=&#39;30000 ms&#39;, localThreshold=&#39;30000 ms&#39;}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, sendBufferSize=0}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, sendBufferSize=0}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners=&#39;[]&#39;, serverMonitorListeners=&#39;[]&#39;}, sslSettings=SslSettings{enabled=false, invalidHostNameAllowed=false, context=null}, applicationName=&#39;null&#39;, compressorList=[], uuidRepresentation=JAVA_LEGACY, serverApi=null, autoEncryptionSettings=null, contextProvider=null}\r\n    2023-06-27 14:41:47.635  INFO 25047 --- [localhost:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:2, serverValue:81}] to localhost:27017\r\n    2023-06-27 14:41:47.635  INFO 25047 --- [localhost:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:1, serverValue:80}] to localhost:27017\r\n    2023-06-27 14:41:47.635  INFO 25047 --- [localhost:27017] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=17, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=19258901}\r\n    2023-06-27 14:41:47.860  INFO 25047 --- [           main] c.t.d.DemotechnikApplicationTests        : Started DemotechnikApplicationTests in 2.003 seconds (JVM running for 2.861)\r\n    \r\n    Process finished with exit code 0\r\n\r\n\r\n\r\nIt&#39;s completely empty app.The main app was not working so I have created a new dummy app to test.this is dummy app my main app is also not working\r\nI am trying to build Rest API app.I am new to JAVA.","title":"Springboot Java webapp error : process finished with exit code 0","body":"<p>My app always exit. &quot;process finished with exit code 0&quot;.\nI tried with different versions of JAVA, Springboot but I get same issue everytime.</p>\n<p>Below is the run output and POM file data</p>\n<pre><code>package com.technik.demotechnik;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class DemotechnikApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(DemotechnikApplication.class, args);\n        System.out.println(&quot;Hello, world!&quot;);\n    }\n\n}\n\n</code></pre>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.13&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.technik&lt;/groupId&gt;\n    &lt;artifactId&gt;demotechnik&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;demotechnik&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Build log</p>\n<pre><code>/Library/Java/JavaVirtualMachines/jdk-19.jdk/Contents/Home/bin/java -ea -Didea.test.cyclic.buffer.size=1048576 -javaagent:/Applications/IntelliJ IDEA CE.app/Contents/lib/idea_rt.jar=64000:/Applications/IntelliJ IDEA CE.app/Contents/bin -Dfile.encoding=UTF-8 -Dsun.stdout.encoding=UTF-8 -Dsun.stderr.encoding=UTF-8 -classpath /Users/nikunjrai/.m2/repository/org/junit/platform/junit-platform-launcher/1.8.2/junit-platform-launcher-1.8.2.jar:/Applications/IntelliJ IDEA CE.app/Contents/lib/idea_rt.jar:/Applications/IntelliJ IDEA CE.app/Contents/plugins/junit/lib/junit5-rt.jar:/Applications/IntelliJ IDEA CE.app/Contents/plugins/junit/lib/junit-rt.jar:/Users/nikunjrai/Documents/work/nikunj/projects/java/demotechnik/target/test-classes:/Users/nikunjrai/Documents/work/nikunj/projects/java/demotechnik/target/classes:/Users/nikunjrai/.m2/repository/org/springframework/boot/spring-boot-starter-data-mongodb/2.7.13/spring-boot-starter-data-mongodb-2.7.13.jar:/Users/nikunjrai/.m2/repository/org/springframework/boot/spring-boot-starter/2.7.13/spring-boot-starter-2.7.13.jar:/Users/nikunjrai/.m2/repository/org/springframework/boot/spring-boot/2.7.13/spring-boot-2.7.13.jar:/Users/nikunjrai/.m2/repository/org/springframework/boot/spring-boot-autoconfigure/2.7.13/spring-boot-autoconfigure-2.7.13.jar:/Users/nikunjrai/.m2/repository/org/springframework/boot/spring-boot-starter-logging/2.7.13/spring-boot-starter-logging-2.7.13.jar:/Users/nikunjrai/.m2/repository/ch/qos/logback/logback-classic/1.2.12/logback-classic-1.2.12.jar:/Users/nikunjrai/.m2/repository/ch/qos/logback/logback-core/1.2.12/logback-core-1.2.12.jar:/Users/nikunjrai/.m2/repository/org/apache/logging/log4j/log4j-to-slf4j/2.17.2/log4j-to-slf4j-2.17.2.jar:/Users/nikunjrai/.m2/repository/org/apache/logging/log4j/log4j-api/2.17.2/log4j-api-2.17.2.jar:/Users/nikunjrai/.m2/repository/org/slf4j/jul-to-slf4j/1.7.36/jul-to-slf4j-1.7.36.jar:/Users/nikunjrai/.m2/repository/jakarta/annotation/jakarta.annotation-api/1.3.5/jakarta.annotation-api-1.3.5.jar:/Users/nikunjrai/.m2/repository/org/yaml/snakeyaml/1.30/snakeyaml-1.30.jar:/Users/nikunjrai/.m2/repository/org/mongodb/mongodb-driver-sync/4.6.1/mongodb-driver-sync-4.6.1.jar:/Users/nikunjrai/.m2/repository/org/mongodb/bson/4.6.1/bson-4.6.1.jar:/Users/nikunjrai/.m2/repository/org/mongodb/mongodb-driver-core/4.6.1/mongodb-driver-core-4.6.1.jar:/Users/nikunjrai/.m2/repository/org/mongodb/bson-record-codec/4.6.1/bson-record-codec-4.6.1.jar:/Users/nikunjrai/.m2/repository/org/springframework/data/spring-data-mongodb/3.4.13/spring-data-mongodb-3.4.13.jar:/Users/nikunjrai/.m2/repository/org/springframework/spring-tx/5.3.28/spring-tx-5.3.28.jar:/Users/nikunjrai/.m2/repository/org/springframework/spring-context/5.3.28/spring-context-5.3.28.jar:/Users/nikunjrai/.m2/repository/org/springframework/spring-beans/5.3.28/spring-beans-5.3.28.jar:/Users/nikunjrai/.m2/repository/org/springframework/spring-expression/5.3.28/spring-expression-5.3.28.jar:/Users/nikunjrai/.m2/repository/org/springframework/data/spring-data-commons/2.7.13/spring-data-commons-2.7.13.jar:/Users/nikunjrai/.m2/repository/org/slf4j/slf4j-api/1.7.36/slf4j-api-1.7.36.jar:/Users/nikunjrai/.m2/repository/org/springframework/boot/spring-boot-starter-web/2.7.13/spring-boot-starter-web-2.7.13.jar:/Users/nikunjrai/.m2/repository/org/springframework/boot/spring-boot-starter-json/2.7.13/spring-boot-starter-json-2.7.13.jar:/Users/nikunjrai/.m2/repository/com/fasterxml/jackson/core/jackson-databind/2.13.5/jackson-databind-2.13.5.jar:/Users/nikunjrai/.m2/repository/com/fasterxml/jackson/core/jackson-annotations/2.13.5/jackson-annotations-2.13.5.jar:/Users/nikunjrai/.m2/repository/com/fasterxml/jackson/core/jackson-core/2.13.5/jackson-core-2.13.5.jar:/Users/nikunjrai/.m2/repository/com/fasterxml/jackson/datatype/jackson-datatype-jdk8/2.13.5/jackson-datatype-jdk8-2.13.5.jar:/Users/nikunjrai/.m2/repository/com/fasterxml/jackson/datatype/jackson-datatype-jsr310/2.13.5/jackson-datatype-jsr310-2.13.5.jar:/Users/nikunjrai/.m2/repository/com/fasterxml/jackson/module/jackson-module-parameter-names/2.13.5/jackson-module-parameter-names-2.13.5.jar:/Users/nikunjrai/.m2/repository/org/springframework/boot/spring-boot-starter-tomcat/2.7.13/spring-boot-starter-tomcat-2.7.13.jar:/Users/nikunjrai/.m2/repository/org/apache/tomcat/embed/tomcat-embed-core/9.0.76/tomcat-embed-core-9.0.76.jar:/Users/nikunjrai/.m2/repository/org/apache/tomcat/embed/tomcat-embed-el/9.0.76/tomcat-embed-el-9.0.76.jar:/Users/nikunjrai/.m2/repository/org/apache/tomcat/embed/tomcat-embed-websocket/9.0.76/tomcat-embed-websocket-9.0.76.jar:/Users/nikunjrai/.m2/repository/org/springframework/spring-web/5.3.28/spring-web-5.3.28.jar:/Users/nikunjrai/.m2/repository/org/springframework/spring-webmvc/5.3.28/spring-webmvc-5.3.28.jar:/Users/nikunjrai/.m2/repository/org/springframework/spring-aop/5.3.28/spring-aop-5.3.28.jar:/Users/nikunjrai/.m2/repository/org/projectlombok/lombok/1.18.28/lombok-1.18.28.jar:/Users/nikunjrai/.m2/repository/org/springframework/boot/spring-boot-starter-test/2.7.13/spring-boot-starter-test-2.7.13.jar:/Users/nikunjrai/.m2/repository/org/springframework/boot/spring-boot-test/2.7.13/spring-boot-test-2.7.13.jar:/Users/nikunjrai/.m2/repository/org/springframework/boot/spring-boot-test-autoconfigure/2.7.13/spring-boot-test-autoconfigure-2.7.13.jar:/Users/nikunjrai/.m2/repository/com/jayway/jsonpath/json-path/2.7.0/json-path-2.7.0.jar:/Users/nikunjrai/.m2/repository/net/minidev/json-smart/2.4.11/json-smart-2.4.11.jar:/Users/nikunjrai/.m2/repository/net/minidev/accessors-smart/2.4.11/accessors-smart-2.4.11.jar:/Users/nikunjrai/.m2/repository/org/ow2/asm/asm/9.3/asm-9.3.jar:/Users/nikunjrai/.m2/repository/jakarta/xml/bind/jakarta.xml.bind-api/2.3.3/jakarta.xml.bind-api-2.3.3.jar:/Users/nikunjrai/.m2/repository/jakarta/activation/jakarta.activation-api/1.2.2/jakarta.activation-api-1.2.2.jar:/Users/nikunjrai/.m2/repository/org/assertj/assertj-core/3.22.0/assertj-core-3.22.0.jar:/Users/nikunjrai/.m2/repository/org/hamcrest/hamcrest/2.2/hamcrest-2.2.jar:/Users/nikunjrai/.m2/repository/org/junit/jupiter/junit-jupiter/5.8.2/junit-jupiter-5.8.2.jar:/Users/nikunjrai/.m2/repository/org/junit/jupiter/junit-jupiter-api/5.8.2/junit-jupiter-api-5.8.2.jar:/Users/nikunjrai/.m2/repository/org/opentest4j/opentest4j/1.2.0/opentest4j-1.2.0.jar:/Users/nikunjrai/.m2/repository/org/junit/platform/junit-platform-commons/1.8.2/junit-platform-commons-1.8.2.jar:/Users/nikunjrai/.m2/repository/org/apiguardian/apiguardian-api/1.1.2/apiguardian-api-1.1.2.jar:/Users/nikunjrai/.m2/repository/org/junit/jupiter/junit-jupiter-params/5.8.2/junit-jupiter-params-5.8.2.jar:/Users/nikunjrai/.m2/repository/org/junit/jupiter/junit-jupiter-engine/5.8.2/junit-jupiter-engine-5.8.2.jar:/Users/nikunjrai/.m2/repository/org/junit/platform/junit-platform-engine/1.8.2/junit-platform-engine-1.8.2.jar:/Users/nikunjrai/.m2/repository/org/mockito/mockito-core/4.5.1/mockito-core-4.5.1.jar:/Users/nikunjrai/.m2/repository/net/bytebuddy/byte-buddy/1.12.23/byte-buddy-1.12.23.jar:/Users/nikunjrai/.m2/repository/net/bytebuddy/byte-buddy-agent/1.12.23/byte-buddy-agent-1.12.23.jar:/Users/nikunjrai/.m2/repository/org/objenesis/objenesis/3.2/objenesis-3.2.jar:/Users/nikunjrai/.m2/repository/org/mockito/mockito-junit-jupiter/4.5.1/mockito-junit-jupiter-4.5.1.jar:/Users/nikunjrai/.m2/repository/org/skyscreamer/jsonassert/1.5.1/jsonassert-1.5.1.jar:/Users/nikunjrai/.m2/repository/com/vaadin/external/google/android-json/0.0.20131108.vaadin1/android-json-0.0.20131108.vaadin1.jar:/Users/nikunjrai/.m2/repository/org/springframework/spring-core/5.3.28/spring-core-5.3.28.jar:/Users/nikunjrai/.m2/repository/org/springframework/spring-jcl/5.3.28/spring-jcl-5.3.28.jar:/Users/nikunjrai/.m2/repository/org/springframework/spring-test/5.3.28/spring-test-5.3.28.jar:/Users/nikunjrai/.m2/repository/org/xmlunit/xmlunit-core/2.9.1/xmlunit-core-2.9.1.jar com.intellij.rt.junit.JUnitStarter -ideVersion5 -junit5 @w@/private/var/folders/mx/tyh72g3d09z3m68qkqpns8sr0000gn/T/idea_working_dirs_junit.tmp @/private/var/folders/mx/tyh72g3d09z3m68qkqpns8sr0000gn/T/idea_junit.tmp -socket63999\n14:41:45.585 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating CacheAwareContextLoaderDelegate from class [org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate]\n14:41:45.596 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating BootstrapContext using constructor [public org.springframework.test.context.support.DefaultBootstrapContext(java.lang.Class,org.springframework.test.context.CacheAwareContextLoaderDelegate)]\n14:41:45.629 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating TestContextBootstrapper for test class [com.technik.demotechnik.DemotechnikApplicationTests] from class [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]\n14:41:45.641 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.technik.demotechnik.DemotechnikApplicationTests], using SpringBootContextLoader\n14:41:45.645 [main] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [com.technik.demotechnik.DemotechnikApplicationTests]: class path resource [com/technik/demotechnik/DemotechnikApplicationTests-context.xml] does not exist\n14:41:45.645 [main] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [com.technik.demotechnik.DemotechnikApplicationTests]: class path resource [com/technik/demotechnik/DemotechnikApplicationTestsContext.groovy] does not exist\n14:41:45.646 [main] INFO org.springframework.test.context.support.AbstractContextLoader - Could not detect default resource locations for test class [com.technik.demotechnik.DemotechnikApplicationTests]: no resource found for suffixes {-context.xml, Context.groovy}.\n14:41:45.646 [main] INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.technik.demotechnik.DemotechnikApplicationTests]: DemotechnikApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.\n14:41:45.684 [main] DEBUG org.springframework.test.context.support.ActiveProfilesUtils - Could not find an 'annotation declaring class' for annotation type [org.springframework.test.context.ActiveProfiles] and class [com.technik.demotechnik.DemotechnikApplicationTests]\n14:41:45.733 [main] DEBUG org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider - Identified candidate component class: file [/Users/nikunjrai/Documents/work/nikunj/projects/java/demotechnik/target/classes/com/technik/demotechnik/DemotechnikApplication.class]\n14:41:45.733 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.technik.demotechnik.DemotechnikApplication for test class com.technik.demotechnik.DemotechnikApplicationTests\n14:41:45.803 [main] DEBUG org.springframework.boot.test.context.SpringBootTestContextBootstrapper - @TestExecutionListeners is not present for class [com.technik.demotechnik.DemotechnikApplicationTests]: using defaults.\n14:41:45.803 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]\n14:41:45.819 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@1863d2fe, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1787bc24, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@544d57e, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@55c53a33, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@53b7f657, org.springframework.test.context.support.DirtiesContextTestExecutionListener@797b0699, org.springframework.test.context.transaction.TransactionalTestExecutionListener@5a37d3ed, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@26df6e3a, org.springframework.test.context.event.EventPublishingTestExecutionListener@4a3631f8, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@6b58b9e9, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@f14a7d4, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@52e7a6b2, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@29a5f4e7, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@79c97cb, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@2d9caaeb]\n14:41:45.822 [main] DEBUG org.springframework.test.context.support.AbstractDirtiesContextTestExecutionListener - Before test class: context [DefaultTestContext@34f6515b testClass = DemotechnikApplicationTests, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@4b34fff9 testClass = DemotechnikApplicationTests, locations = '{}', classes = '{class com.technik.demotechnik.DemotechnikApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5aebe890, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1190200a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@37271612, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@6f45df59, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@5609159b, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@31610302], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -&gt; true]], class annotated with @DirtiesContext [false] with mode [null].\n\n  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::               (v2.7.13)\n\n2023-06-27 14:41:46.253  INFO 25047 --- [           main] c.t.d.DemotechnikApplicationTests        : Starting DemotechnikApplicationTests using Java 19.0.2 on Nikunjs-MacBook-Pro-2.local with PID 25047 (started by nikunjrai in /Users/nikunjrai/Documents/work/nikunj/projects/java/demotechnik)\n2023-06-27 14:41:46.255  INFO 25047 --- [           main] c.t.d.DemotechnikApplicationTests        : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2023-06-27 14:41:46.682  INFO 25047 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.\n2023-06-27 14:41:46.690  INFO 25047 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 3 ms. Found 0 MongoDB repository interfaces.\n2023-06-27 14:41:47.623  INFO 25047 --- [           main] org.mongodb.driver.client                : MongoClient with metadata {&quot;driver&quot;: {&quot;name&quot;: &quot;mongo-java-driver|sync|spring-boot&quot;, &quot;version&quot;: &quot;4.6.1&quot;}, &quot;os&quot;: {&quot;type&quot;: &quot;Darwin&quot;, &quot;name&quot;: &quot;Mac OS X&quot;, &quot;architecture&quot;: &quot;x86_64&quot;, &quot;version&quot;: &quot;12.6&quot;}, &quot;platform&quot;: &quot;Java/Oracle Corporation/19.0.2+7-44&quot;} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=null, streamFactoryFactory=null, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.Jep395RecordCodecProvider@21c747a]}, clusterSettings={hosts=[localhost:27017], srvServiceName=mongodb, mode=SINGLE, requiredClusterType=UNKNOWN, requiredReplicaSetName='null', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='30000 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, sendBufferSize=0}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, sendBufferSize=0}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=false, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=JAVA_LEGACY, serverApi=null, autoEncryptionSettings=null, contextProvider=null}\n2023-06-27 14:41:47.635  INFO 25047 --- [localhost:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:2, serverValue:81}] to localhost:27017\n2023-06-27 14:41:47.635  INFO 25047 --- [localhost:27017] org.mongodb.driver.connection            : Opened connection [connectionId{localValue:1, serverValue:80}] to localhost:27017\n2023-06-27 14:41:47.635  INFO 25047 --- [localhost:27017] org.mongodb.driver.cluster               : Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=17, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=19258901}\n2023-06-27 14:41:47.860  INFO 25047 --- [           main] c.t.d.DemotechnikApplicationTests        : Started DemotechnikApplicationTests in 2.003 seconds (JVM running for 2.861)\n\nProcess finished with exit code 0\n</code></pre>\n<p>It's completely empty app.The main app was not working so I have created a new dummy app to test.this is dummy app my main app is also not working\nI am trying to build Rest API app.I am new to JAVA.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":4738490,"reputation":682,"user_id":3832116,"display_name":"perbellinio"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1479895574,"creation_date":1479895574,"answer_id":40761325,"question_id":36640299,"body_markdown":"You can create a custom factory for your field:\r\n\r\n       class HostNamesFactory implements Factory&lt;String[]&gt; {\r\n            @Override\r\n            public String[] create() {\r\n                return new String[] {&quot;host1&quot;, &quot;host2&quot;, &quot;host3&quot;};\r\n            }\r\n        }\r\n\r\nThen use this factory when you create your custom configuration and pass it to the bean tester: \r\n\r\n        Configuration configuration = new ConfigurationBuilder().overrideFactory(&quot;hostNames&quot;, new HostNamesFactory()).build();\r\n        new BeanTester().testBean(Machine.class, configuration);\r\n\r\nI am agree this is not the perfect solution but at least the property getter and setter will be tested.","title":"meanbean: failed to test bean with arrays","body":"<p>You can create a custom factory for your field:</p>\n\n<pre><code>   class HostNamesFactory implements Factory&lt;String[]&gt; {\n        @Override\n        public String[] create() {\n            return new String[] {\"host1\", \"host2\", \"host3\"};\n        }\n    }\n</code></pre>\n\n<p>Then use this factory when you create your custom configuration and pass it to the bean tester: </p>\n\n<pre><code>    Configuration configuration = new ConfigurationBuilder().overrideFactory(\"hostNames\", new HostNamesFactory()).build();\n    new BeanTester().testBean(Machine.class, configuration);\n</code></pre>\n\n<p>I am agree this is not the perfect solution but at least the property getter and setter will be tested.</p>\n"},{"tags":[],"owner":{"account_id":5532352,"reputation":1512,"user_id":4391948,"accept_rate":78,"display_name":"Rogelio Blanco"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1513093456,"creation_date":1513093456,"answer_id":47776412,"question_id":36640299,"body_markdown":"Maybe too late, but you can include in the **AbstractJavaBeanTest** the factories of each property that cannot be created.\r\n\r\nHere is a sample when you need a factory for LocalDateTime and UUID\r\n\r\n    @Test\r\n    public void getterAndSetterCorrectness() throws Exception\r\n    {\r\n        final BeanTester beanTester = new BeanTester();\r\n        beanTester.getFactoryCollection().addFactory(LocalDateTime.class,\r\n                new LocalDateTimeFactory());\r\n        beanTester.getFactoryCollection().addFactory(UUID.class,\r\n                new ExecutionUUIDFactory());\r\n        beanTester.testBean(getBeanInstance().getClass());\r\n    }\r\n\r\nThen you just define the custom factories that you want (in this example)\r\n\r\n    /**\r\n     * Concrete Factory that creates a LocalDateTime.\r\n     */\r\n    class LocalDateTimeFactory implements Factory&lt;LocalDateTime&gt;\r\n    {\r\n        @Override\r\n        public LocalDateTime create()\r\n        {\r\n            return LocalDateTime.now();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Concrete Factory that creates a UUID.\r\n     */\r\n    class ExecutionUUIDFactory implements Factory&lt;UUID&gt;\r\n    {\r\n        @Override\r\n        public UUID create()\r\n        {\r\n            return UUID.randomUUID();\r\n        }\r\n    }\r\n\r\n","title":"meanbean: failed to test bean with arrays","body":"<p>Maybe too late, but you can include in the <strong>AbstractJavaBeanTest</strong> the factories of each property that cannot be created.</p>\n\n<p>Here is a sample when you need a factory for LocalDateTime and UUID</p>\n\n<pre><code>@Test\npublic void getterAndSetterCorrectness() throws Exception\n{\n    final BeanTester beanTester = new BeanTester();\n    beanTester.getFactoryCollection().addFactory(LocalDateTime.class,\n            new LocalDateTimeFactory());\n    beanTester.getFactoryCollection().addFactory(UUID.class,\n            new ExecutionUUIDFactory());\n    beanTester.testBean(getBeanInstance().getClass());\n}\n</code></pre>\n\n<p>Then you just define the custom factories that you want (in this example)</p>\n\n<pre><code>/**\n * Concrete Factory that creates a LocalDateTime.\n */\nclass LocalDateTimeFactory implements Factory&lt;LocalDateTime&gt;\n{\n    @Override\n    public LocalDateTime create()\n    {\n        return LocalDateTime.now();\n    }\n}\n\n/**\n * Concrete Factory that creates a UUID.\n */\nclass ExecutionUUIDFactory implements Factory&lt;UUID&gt;\n{\n    @Override\n    public UUID create()\n    {\n        return UUID.randomUUID();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17950059,"reputation":1,"user_id":13043370,"display_name":"koralliogenic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688035849,"creation_date":1688035849,"answer_id":76580340,"question_id":36640299,"body_markdown":"This error happened to my test, but it had no arrays (and there is no question for that, hence adding it here, as it might help people with similar issues).\r\n\r\nMy Class was annotated with @Data and @AllArgsConstructor. Members were of String and Double type only.\r\n\r\nThe solution was to add a @NoArgsConstructor to the class.","title":"meanbean: failed to test bean with arrays","body":"<p>This error happened to my test, but it had no arrays (and there is no question for that, hence adding it here, as it might help people with similar issues).</p>\n<p>My Class was annotated with @Data and @AllArgsConstructor. Members were of String and Double type only.</p>\n<p>The solution was to add a @NoArgsConstructor to the class.</p>\n"}],"owner":{"account_id":4008309,"reputation":3678,"user_id":3302424,"accept_rate":70,"display_name":"Hari Krishna"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8182,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":47776412,"answer_count":3,"score":5,"last_activity_date":1688035849,"creation_date":1460703711,"question_id":36640299,"body_markdown":"I am using mean bean &#39;http://meanbean.sourceforge.net&#39; to validate/test my beans. It works fine for most of the beans. But when a bean has arrays in it, it is failing with following error.\r\n\r\n\r\n    SEVERE: getFactory: Failed to find suitable Factory for property=[hostNames] of type=[class [I]. Please register a custom Factory. Throw NoSuchFactoryException.\r\n    org.meanbean.factories.ObjectCreationException: Failed to instantiate object of type [[I] due to NoSuchMethodException.\r\n\r\nFollowing is my sample code.\r\n\r\n    public class Machine {\r\n\tprivate String[] hostNames;\r\n\r\n\tpublic String[] getHostNames() {\r\n\t\treturn hostNames;\r\n\t}\r\n\r\n\tpublic void setHostNames(String[] hostNames) {\r\n\t\tthis.hostNames = hostNames;\r\n\t}\r\n\r\n }\r\n\r\n    import org.junit.Test;\r\n    import org.meanbean.test.BeanTester;\r\n\r\n    public class TestBeanUtil {\r\n\t    @Test\r\n\t     public void test1(){\r\n\t\t    new BeanTester().testBean(Machine.class);\r\n\t    }\r\n     }\r\n\r\nAny help on how to get rid of this error. I found one way by ignoring specific fields like below.\r\n\r\n    Configuration configuration = new     ConfigurationBuilder().ignoreProperty(&quot;hostNames&quot;).build();\r\n\t\t\r\n    new BeanTester().testBean(Machine.class, configuration);\r\n\r\nBut My concern is is there any way that i can test without ignoring specific proper (or) ignore all the arrays in one shot ?","title":"meanbean: failed to test bean with arrays","body":"<p>I am using mean bean '<a href=\"http://meanbean.sourceforge.net\" rel=\"noreferrer\">http://meanbean.sourceforge.net</a>' to validate/test my beans. It works fine for most of the beans. But when a bean has arrays in it, it is failing with following error.</p>\n\n<pre><code>SEVERE: getFactory: Failed to find suitable Factory for property=[hostNames] of type=[class [I]. Please register a custom Factory. Throw NoSuchFactoryException.\norg.meanbean.factories.ObjectCreationException: Failed to instantiate object of type [[I] due to NoSuchMethodException.\n</code></pre>\n\n<p>Following is my sample code.</p>\n\n<pre><code>public class Machine {\nprivate String[] hostNames;\n\npublic String[] getHostNames() {\n    return hostNames;\n}\n\npublic void setHostNames(String[] hostNames) {\n    this.hostNames = hostNames;\n}\n</code></pre>\n\n<p>}</p>\n\n<pre><code>import org.junit.Test;\nimport org.meanbean.test.BeanTester;\n\npublic class TestBeanUtil {\n    @Test\n     public void test1(){\n        new BeanTester().testBean(Machine.class);\n    }\n }\n</code></pre>\n\n<p>Any help on how to get rid of this error. I found one way by ignoring specific fields like below.</p>\n\n<pre><code>Configuration configuration = new     ConfigurationBuilder().ignoreProperty(\"hostNames\").build();\n\nnew BeanTester().testBean(Machine.class, configuration);\n</code></pre>\n\n<p>But My concern is is there any way that i can test without ignoring specific proper (or) ignore all the arrays in one shot ?</p>\n"},{"tags":["java","string","integer","hex"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1687977522,"post_id":76575830,"comment_id":135013581,"body_markdown":"Your question title says you want to convert the hex-string to an `int []`.  But. in your example where you use `Integer.toBinaryString`, the end result is an `int`.  So, which is the desired result?","body":"Your question title says you want to convert the hex-string to an <code>int []</code>.  But. in your example where you use <code>Integer.toBinaryString</code>, the end result is an <code>int</code>.  So, which is the desired result?"},{"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"score":1,"creation_date":1687977530,"post_id":76575830,"comment_id":135013582,"body_markdown":"Java&#39;s short is signed, so its max value is 32767 and you got overflow.","body":"Java&#39;s short is signed, so its max value is 32767 and you got overflow."},{"owner":{"account_id":22931744,"reputation":97,"user_id":17065901,"display_name":"Avarage cat enjoyer"},"score":1,"creation_date":1687977612,"post_id":76575830,"comment_id":135013603,"body_markdown":"Does this answer your question? [Convert hex little endian String to int in java](https://stackoverflow.com/questions/32064861/convert-hex-little-endian-string-to-int-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/32064861/convert-hex-little-endian-string-to-int-in-java\">Convert hex little endian String to int in java</a>"},{"owner":{"account_id":4360770,"reputation":539,"user_id":3557939,"accept_rate":75,"display_name":"sdorof"},"score":0,"creation_date":1687977744,"post_id":76575830,"comment_id":135013633,"body_markdown":"In general, I want to convert a string which codes array of 16-bit integers (so, two bytes per int) to int array. But in example string &quot;c4d2&quot; shold be converted to int.","body":"In general, I want to convert a string which codes array of 16-bit integers (so, two bytes per int) to int array. But in example string &quot;c4d2&quot; shold be converted to int."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1687991265,"post_id":76575830,"comment_id":135015726,"body_markdown":"`int n = new BigInteger(&quot;c4d2&quot;, 16).intValue();`","body":"<code>int n = new BigInteger(&quot;c4d2&quot;, 16).intValue();</code>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1687992826,"post_id":76575830,"comment_id":135015863,"body_markdown":"Sorry, just realised you wanted little-endian, so `int n = ByteBuffer.wrap(new BigInteger(s, 16).toByteArray()).order(LITTLE_ENDIAN).getShort(1) &amp; 0xFFFF; // (import static of ByeOrder)`","body":"Sorry, just realised you wanted little-endian, so <code>int n = ByteBuffer.wrap(new BigInteger(s, 16).toByteArray()).order(LITTLE_ENDIAN).getShort(1) &amp; 0xFFFF; &#47;&#47; (import static of ByeOrder)</code>"}],"answers":[{"tags":[],"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687977855,"creation_date":1687977855,"answer_id":76575910,"question_id":76575830,"body_markdown":"Java&#39;s short is signed, so its max value is 32767 and you got overflow. You can use `Short.toUnsignedInt()`:\r\n\r\n        String s = &quot;c4d2&quot;; // 53956\r\n        byte[] b = HexFormat.of().parseHex(s);\r\n        int n = Short.toUnsignedInt(ByteBuffer.wrap(b).order(ByteOrder.LITTLE_ENDIAN).getShort());\r\n        System.out.println(s + &quot; -&gt; &quot; + Arrays.toString(b) + &quot; -&gt; &quot; + n);\r\n\r\nprints \r\n\r\n&gt; c4d2 -&gt; [-60, -46] -&gt; 53956","title":"Convert string of hex-encoded integers to int array in Java","body":"<p>Java's short is signed, so its max value is 32767 and you got overflow. You can use <code>Short.toUnsignedInt()</code>:</p>\n<pre><code>    String s = &quot;c4d2&quot;; // 53956\n    byte[] b = HexFormat.of().parseHex(s);\n    int n = Short.toUnsignedInt(ByteBuffer.wrap(b).order(ByteOrder.LITTLE_ENDIAN).getShort());\n    System.out.println(s + &quot; -&gt; &quot; + Arrays.toString(b) + &quot; -&gt; &quot; + n);\n</code></pre>\n<p>prints</p>\n<blockquote>\n<p>c4d2 -&gt; [-60, -46] -&gt; 53956</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687977920,"creation_date":1687977920,"answer_id":76575914,"question_id":76575830,"body_markdown":"One approach would be to reverse the values, and then use the _[Integer#parseInt](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Integer.html#parseInt(java.lang.String,int))_ method, specifying a _16_ for the radix.\r\n\r\n```java\r\nString string = &quot;c4d2&quot;;\r\nStringBuilder reversed = new StringBuilder();\r\nfor (int index = string.length() - 1; index &gt;= 0; index -= 2)\r\n    reversed.append(string, index - 1, index + 1);\r\nint number = Integer.parseInt(reversed.toString(), 16);\r\n```\r\n\r\nOutput, for _number_.\r\n\r\n```none\r\n53956\r\n```","title":"Convert string of hex-encoded integers to int array in Java","body":"<p>One approach would be to reverse the values, and then use the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Integer.html#parseInt(java.lang.String,int)\" rel=\"nofollow noreferrer\">Integer#parseInt</a></em> method, specifying a <em>16</em> for the radix.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String string = &quot;c4d2&quot;;\nStringBuilder reversed = new StringBuilder();\nfor (int index = string.length() - 1; index &gt;= 0; index -= 2)\n    reversed.append(string, index - 1, index + 1);\nint number = Integer.parseInt(reversed.toString(), 16);\n</code></pre>\n<p>Output, for <em>number</em>.</p>\n<pre class=\"lang-none prettyprint-override\"><code>53956\n</code></pre>\n"}],"owner":{"account_id":4360770,"reputation":539,"user_id":3557939,"accept_rate":75,"display_name":"sdorof"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1687978659,"accepted_answer_id":76575910,"answer_count":2,"score":-1,"last_activity_date":1688035784,"creation_date":1687977052,"question_id":76575830,"body_markdown":"For example, we have a string `&quot;c4d2&quot;`, known it is a `little`-endian coded 16-bit int `53956`. (It is NOT about conversion `&quot;c4d2&quot;` to `int[] {0xc4, 0xd2}`, but about coversion of `&quot;c4d2&quot;` to integer `53956`). How to convert the string to int use Java?\r\n\r\nUse python I do\r\n```\r\ns = b&#39;\\xc4\\xd2&#39;\r\nn = int.from_bytes(s, &quot;little&quot;)\r\nprint(f&quot;{s} -&gt; {n}&quot;)\r\n```\r\noutput is right\r\n```\r\nb&#39;\\xc4\\xd2&#39; -&gt; 53956\r\n```\r\n\r\nUse Java I do\r\n```\r\nString s = &quot;c4d2&quot;; // 53956\r\nbyte[] b = HexFormat.of().parseHex(s);\r\nint n = ByteBuffer.wrap(b).order(ByteOrder.LITTLE_ENDIAN).getShort();\r\nSystem.out.println(s + &quot; -&gt; &quot; + Arrays.toString(b) + &quot; -&gt; &quot; + n);\r\n```\r\nand got\r\n```\r\nc4d2 -&gt; [-60, -46] -&gt; -11580\r\n```\r\nthat is wrong. But if I do conversion through binary string as\r\n```\r\nString s2 = Integer.toBinaryString(0xd2) + Integer.toBinaryString(0xc4);\r\nint n2 = Integer.parseInt(s2, 2);\r\nSystem.out.println(s + &quot; -&gt; &quot; + s2 + &quot; -&gt; &quot; + n2);\r\n```\r\nI got\r\n```\r\nc4d2 -&gt; 1101001011000100 -&gt; 53956\r\n```\r\nthe result is right, but the method seems stange.\r\n\r\nHow to properly convert hex-string to int?\r\n\r\n\r\n","title":"Convert string of hex-encoded integers to int array in Java","body":"<p>For example, we have a string <code>&quot;c4d2&quot;</code>, known it is a <code>little</code>-endian coded 16-bit int <code>53956</code>. (It is NOT about conversion <code>&quot;c4d2&quot;</code> to <code>int[] {0xc4, 0xd2}</code>, but about coversion of <code>&quot;c4d2&quot;</code> to integer <code>53956</code>). How to convert the string to int use Java?</p>\n<p>Use python I do</p>\n<pre><code>s = b'\\xc4\\xd2'\nn = int.from_bytes(s, &quot;little&quot;)\nprint(f&quot;{s} -&gt; {n}&quot;)\n</code></pre>\n<p>output is right</p>\n<pre><code>b'\\xc4\\xd2' -&gt; 53956\n</code></pre>\n<p>Use Java I do</p>\n<pre><code>String s = &quot;c4d2&quot;; // 53956\nbyte[] b = HexFormat.of().parseHex(s);\nint n = ByteBuffer.wrap(b).order(ByteOrder.LITTLE_ENDIAN).getShort();\nSystem.out.println(s + &quot; -&gt; &quot; + Arrays.toString(b) + &quot; -&gt; &quot; + n);\n</code></pre>\n<p>and got</p>\n<pre><code>c4d2 -&gt; [-60, -46] -&gt; -11580\n</code></pre>\n<p>that is wrong. But if I do conversion through binary string as</p>\n<pre><code>String s2 = Integer.toBinaryString(0xd2) + Integer.toBinaryString(0xc4);\nint n2 = Integer.parseInt(s2, 2);\nSystem.out.println(s + &quot; -&gt; &quot; + s2 + &quot; -&gt; &quot; + n2);\n</code></pre>\n<p>I got</p>\n<pre><code>c4d2 -&gt; 1101001011000100 -&gt; 53956\n</code></pre>\n<p>the result is right, but the method seems stange.</p>\n<p>How to properly convert hex-string to int?</p>\n"},{"tags":["java","apache-spark"],"comments":[{"owner":{"account_id":1807072,"reputation":1139,"user_id":1643973,"display_name":"jjramsey"},"score":1,"creation_date":1687975483,"post_id":76575614,"comment_id":135013238,"body_markdown":"It looks like `simpleString()` is the wrong method to use here. If I look at the [documentation for it](https://spark.apache.org/docs/3.0.2/api/java/org/apache/spark/sql/types/DataType.html#simpleString--), it says, &quot;Readable string representation for the type,&quot; which probably means that it&#39;s for humans to read when debugging, testing things in a REPL, etc., rather than from producing a machine-readable (XML?) schema.","body":"It looks like <code>simpleString()</code> is the wrong method to use here. If I look at the <a href=\"https://spark.apache.org/docs/3.0.2/api/java/org/apache/spark/sql/types/DataType.html#simpleString--\" rel=\"nofollow noreferrer\">documentation for it</a>, it says, &quot;Readable string representation for the type,&quot; which probably means that it&#39;s for humans to read when debugging, testing things in a REPL, etc., rather than from producing a machine-readable (XML?) schema."}],"answers":[{"tags":[],"owner":{"account_id":12822272,"reputation":1463,"user_id":19625832,"display_name":"vilalabinot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688034743,"creation_date":1688034743,"answer_id":76580208,"question_id":76575614,"body_markdown":"If you take a deeper look inside `simpleString` method, you can see that Spark uses a `truncatedString`, where `SQLConf.get.maxToStringFields` is passed as third argument. \r\n\r\nThe definition of this configuration is described as:\r\n\r\n```scala\r\nval MAX_TO_STRING_FIELDS = buildConf(&quot;spark.sql.debug.maxToStringFields&quot;)\r\n  .doc(&quot;Maximum number of fields of sequence-like entries can be converted to strings &quot; +\r\n    &quot;in debug output. Any elements beyond the limit will be dropped and replaced by a&quot; +\r\n    &quot;&quot;&quot; &quot;... N more fields&quot; placeholder.&quot;&quot;&quot;)\r\n  .version(&quot;3.0.0&quot;)\r\n  .intConf\r\n  .createWithDefault(25)\r\n```\r\n\r\n`Solution`\r\n\r\nTweaking `spark.sql.debug.maxToStringFields` to a higher number than 25, like 50 (arbitrary, but should be determined by your use case), for example:\r\n\r\n```\r\nSparkSession spark = SparkSession.builder()\r\n  .appName(&quot;Spark app name&quot;)\r\n  .master(&quot;local[*]&quot;)\r\n  .config(&quot;spark.sql.debug.maxToStringFields&quot;, 50)\r\n  .getOrCreate();\r\n```\r\n\r\nGood luck!","title":"Why is .simpleString() method of spark schema truncating my output?","body":"<p>If you take a deeper look inside <code>simpleString</code> method, you can see that Spark uses a <code>truncatedString</code>, where <code>SQLConf.get.maxToStringFields</code> is passed as third argument.</p>\n<p>The definition of this configuration is described as:</p>\n<pre class=\"lang-scala prettyprint-override\"><code>val MAX_TO_STRING_FIELDS = buildConf(&quot;spark.sql.debug.maxToStringFields&quot;)\n  .doc(&quot;Maximum number of fields of sequence-like entries can be converted to strings &quot; +\n    &quot;in debug output. Any elements beyond the limit will be dropped and replaced by a&quot; +\n    &quot;&quot;&quot; &quot;... N more fields&quot; placeholder.&quot;&quot;&quot;)\n  .version(&quot;3.0.0&quot;)\n  .intConf\n  .createWithDefault(25)\n</code></pre>\n<p><code>Solution</code></p>\n<p>Tweaking <code>spark.sql.debug.maxToStringFields</code> to a higher number than 25, like 50 (arbitrary, but should be determined by your use case), for example:</p>\n<pre><code>SparkSession spark = SparkSession.builder()\n  .appName(&quot;Spark app name&quot;)\n  .master(&quot;local[*]&quot;)\n  .config(&quot;spark.sql.debug.maxToStringFields&quot;, 50)\n  .getOrCreate();\n</code></pre>\n<p>Good luck!</p>\n"}],"owner":{"account_id":7814466,"reputation":1281,"user_id":6067528,"accept_rate":100,"display_name":"Sam Comber"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76580208,"answer_count":1,"score":0,"last_activity_date":1688034743,"creation_date":1687974680,"question_id":76575614,"body_markdown":"I have a very long schema that I want to return as string\r\n\r\n\r\n    import org.apache.spark.SparkConf;\r\n    import org.apache.spark.sql.SparkSession;\r\n    import org.apache.spark.sql.Dataset;\r\n    import org.apache.spark.sql.Row;\r\n\r\n    ...\r\n\r\n    SparkSession spark = SparkSession.builder().config(new SparkConf().setAppName(&quot;YourApp&quot;).setMaster(&quot;local&quot;)).getOrCreate();\r\n \r\n    Dataset&lt;Row&gt; parquetData = spark.read().parquet(&quot;/Users/demo/test.parquet&quot;);\r\n\r\n    String schemaString = parquetData.schema().simpleString();\r\n\r\nThe problem is the resulting schema looks like (see &quot;10 more fields&quot;):\r\n\r\n    struct&lt;test:struct&lt;countryConfidence:struct&lt;value:double&gt;,... 10 more fields&gt; etc etc&gt;\r\n\r\n\r\nUsing \r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spark-sql_2.12&lt;/artifactId&gt;\r\n      &lt;version&gt;3.2.4&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nIs there some configuration option I can use that means `.simpleString` does not truncate? I&#39;ve tried `parquetData.schema().toDDL()`, but it doesn&#39;t print the format I need.","title":"Why is .simpleString() method of spark schema truncating my output?","body":"<p>I have a very long schema that I want to return as string</p>\n<pre><code>import org.apache.spark.SparkConf;\nimport org.apache.spark.sql.SparkSession;\nimport org.apache.spark.sql.Dataset;\nimport org.apache.spark.sql.Row;\n\n...\n\nSparkSession spark = SparkSession.builder().config(new SparkConf().setAppName(&quot;YourApp&quot;).setMaster(&quot;local&quot;)).getOrCreate();\n\nDataset&lt;Row&gt; parquetData = spark.read().parquet(&quot;/Users/demo/test.parquet&quot;);\n\nString schemaString = parquetData.schema().simpleString();\n</code></pre>\n<p>The problem is the resulting schema looks like (see &quot;10 more fields&quot;):</p>\n<pre><code>struct&lt;test:struct&lt;countryConfidence:struct&lt;value:double&gt;,... 10 more fields&gt; etc etc&gt;\n</code></pre>\n<p>Using</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n  &lt;artifactId&gt;spark-sql_2.12&lt;/artifactId&gt;\n  &lt;version&gt;3.2.4&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Is there some configuration option I can use that means <code>.simpleString</code> does not truncate? I've tried <code>parquetData.schema().toDDL()</code>, but it doesn't print the format I need.</p>\n"},{"tags":["java","android","exoplayer","mediabrowserservicecompat"],"comments":[{"owner":{"account_id":1202427,"reputation":1281,"user_id":3085617,"display_name":"SoftwareGuy"},"score":1,"creation_date":1670533414,"post_id":74735923,"comment_id":131902871,"body_markdown":"your question is vague. Provide some code samples and more insights to your question.","body":"your question is vague. Provide some code samples and more insights to your question."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1670534070,"post_id":74735923,"comment_id":131903035,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":26079994,"reputation":39,"user_id":19778332,"display_name":"David Feldman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688034224,"creation_date":1670873259,"answer_id":74776351,"question_id":74735923,"body_markdown":"In the end, I did it like this.\r\n\r\nIn the activity I did this:\r\n\r\n```\r\nMediaControllerCompat.getMediaController(ChatActivity.this).sendCommand(&quot;speed&quot;,bundle,new ResultReceiver(new Handler(Looper.getMainLooper()))\r\n```\r\n\r\nAnd in the MediaBrowserServiceCompat I did it like this:\r\n\r\n    private MediaSessionConnector.QueueEditor getQueueEditor() {\r\n        return new MediaSessionConnector.QueueEditor() {\r\n            @Override\r\n            public boolean onCommand(Player player, String command, @Nullable Bundle extras, @Nullable ResultReceiver cb) {\r\n                float speed = extras.getFloat(&quot;SpeedProgress&quot;);\r\n                PlaybackParameters param = new PlaybackParameters(speed);\r\n                player.setPlaybackParameters(param);\r\n                player.setPlaybackSpeed(speed);\r\n                return false;\r\n            }\r\n\r\n\r\n","title":"Controlling the speed in ExoPlayer via MediaBrowserServiceCompat","body":"<p>In the end, I did it like this.</p>\n<p>In the activity I did this:</p>\n<pre><code>MediaControllerCompat.getMediaController(ChatActivity.this).sendCommand(&quot;speed&quot;,bundle,new ResultReceiver(new Handler(Looper.getMainLooper()))\n</code></pre>\n<p>And in the MediaBrowserServiceCompat I did it like this:</p>\n<pre><code>private MediaSessionConnector.QueueEditor getQueueEditor() {\n    return new MediaSessionConnector.QueueEditor() {\n        @Override\n        public boolean onCommand(Player player, String command, @Nullable Bundle extras, @Nullable ResultReceiver cb) {\n            float speed = extras.getFloat(&quot;SpeedProgress&quot;);\n            PlaybackParameters param = new PlaybackParameters(speed);\n            player.setPlaybackParameters(param);\n            player.setPlaybackSpeed(speed);\n            return false;\n        }\n</code></pre>\n"}],"owner":{"account_id":26079994,"reputation":39,"user_id":19778332,"display_name":"David Feldman"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688034306,"creation_date":1670531127,"question_id":74735923,"body_markdown":"How can I control the speed from an exo player via the UI to MediaBrowserServiceCompat?\r\n\r\nDoes Android provide a normal solution for it?\r\n\r\n","title":"Controlling the speed in ExoPlayer via MediaBrowserServiceCompat","body":"<p>How can I control the speed from an exo player via the UI to MediaBrowserServiceCompat?</p>\n<p>Does Android provide a normal solution for it?</p>\n"},{"tags":["java","spring","inject"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1688032802,"post_id":76579912,"comment_id":135020622,"body_markdown":"You are still creating the bean, when injecting the dependencies into a collection field Spring will try to obtain all beans from the context. This one hasn&#39;t been added yet. Also self injection is a special usecase hence the specialized logic.","body":"You are still creating the bean, when injecting the dependencies into a collection field Spring will try to obtain all beans from the context. This one hasn&#39;t been added yet. Also self injection is a special usecase hence the specialized logic."},{"owner":{"account_id":27143640,"reputation":11,"user_id":22140501,"display_name":"accelerator"},"score":0,"creation_date":1688034008,"post_id":76579912,"comment_id":135020828,"body_markdown":"@M.Deinum In my opinion, Self Injection is one special case of Cycle Reference (there is only one bean in the cycle). And Spring can deal with this problem, Spring will cache the bean that unfinished initialization, and can be get in cycle. So why it support self injection of non-collection field, but not support collection field.","body":"@M.Deinum In my opinion, Self Injection is one special case of Cycle Reference (there is only one bean in the cycle). And Spring can deal with this problem, Spring will cache the bean that unfinished initialization, and can be get in cycle. So why it support self injection of non-collection field, but not support collection field."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1688039112,"post_id":76579912,"comment_id":135021763,"body_markdown":"That you have to ask the Spring maintainers. But injecting 1 instance into itself or a whole collection are quite different things.","body":"That you have to ask the Spring maintainers. But injecting 1 instance into itself or a whole collection are quite different things."}],"owner":{"account_id":27143640,"reputation":11,"user_id":22140501,"display_name":"accelerator"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1688034084,"creation_date":1688031994,"question_id":76579912,"body_markdown":"In recent project, I want to jnject all beans that implements an interface into a field with type of List. The code demo like this, the bean is also implements the `Handler`.\r\n\r\n```\r\n@Component\r\nclass HandlerImpl implements Handler {\r\n        @Resource\r\n        private List&lt;Handler&gt; handlers;\r\n}\r\n```\r\n\r\nAnd I find that the list contains all other beans but only not this bean itself.\r\n\r\nWe know that Spring is able to handle self inject like this\r\n\r\n```\r\n@Component\r\nclass HandlerImpl implements Handler {\r\n        // this will be self\r\n        @Resource\r\n        private Handler handler;\r\n}\r\n```\r\n\r\nSo I am wondering why it did not work when the field&#39;s type is List.\r\n\r\nI try to debug and trace into this method,\r\n\r\n```\r\nprotected Map&lt;String, Object&gt; findAutowireCandidates(\r\n                @Nullable String beanName, Class&lt;?&gt; requiredType, DependencyDescriptor descriptor) {\r\n\r\n        String[] candidateNames = BeanFactoryUtils.beanNamesForTypeIncludingAncestors(\r\n                        this, requiredType, true, descriptor.isEager());\r\n        Map&lt;String, Object&gt; result = new LinkedHashMap&lt;&gt;(candidateNames.length);\r\n        for (Map.Entry&lt;Class&lt;?&gt;, Object&gt; classObjectEntry : this.resolvableDependencies.entrySet()) {\r\n                Class&lt;?&gt; autowiringType = classObjectEntry.getKey();\r\n                if (autowiringType.isAssignableFrom(requiredType)) {\r\n                        Object autowiringValue = classObjectEntry.getValue();\r\n                        autowiringValue = AutowireUtils.resolveAutowiringValue(autowiringValue, requiredType);\r\n                        if (requiredType.isInstance(autowiringValue)) {\r\n                                result.put(ObjectUtils.identityToString(autowiringValue), autowiringValue);\r\n                                break;\r\n                        }\r\n                }\r\n        }\r\n        for (String candidate : candidateNames) {\r\n                if (!isSelfReference(beanName, candidate) &amp;&amp; isAutowireCandidate(candidate, descriptor)) {\r\n                        addCandidateEntry(result, candidate, descriptor, requiredType);\r\n                }\r\n        }\r\n        if (result.isEmpty()) {\r\n                boolean multiple = indicatesMultipleBeans(requiredType);\r\n                // Consider fallback matches if the first pass failed to find anything...\r\n                DependencyDescriptor fallbackDescriptor = descriptor.forFallbackMatch();\r\n                for (String candidate : candidateNames) {\r\n                        if (!isSelfReference(beanName, candidate) &amp;&amp; isAutowireCandidate(candidate, fallbackDescriptor) &amp;&amp;\r\n                                        (!multiple || getAutowireCandidateResolver().hasQualifier(descriptor))) {\r\n                                addCandidateEntry(result, candidate, descriptor, requiredType);\r\n                        }\r\n                }\r\n                if (result.isEmpty() &amp;&amp; !multiple) {\r\n                        // Consider self references as a final pass...\r\n                        // but in the case of a dependency collection, not the very same bean itself.\r\n                        for (String candidate : candidateNames) {\r\n                                if (isSelfReference(beanName, candidate) &amp;&amp;\r\n                                                (!(descriptor instanceof MultiElementDescriptor) || !beanName.equals(candidate)) &amp;&amp;\r\n                                                isAutowireCandidate(candidate, fallbackDescriptor)) {\r\n                                        addCandidateEntry(result, candidate, descriptor, requiredType);\r\n                                }\r\n                        }\r\n                }\r\n        }\r\n        return result;\r\n}\r\n```\r\n\r\nThis method is one step of the `CommonAnnotationBeanPostProcessor`, it will find all matched beans. We can see that the method `isSelfReference` is called several times, and due to what, the bean itself is filtered. And in the end of the method, we can see if the field is not Collection, the bean self can be inject.\r\n\r\nSo it seems that Spring filter the bean self on purpose. I am wondering that can Spring not to filter the bean self in this case, or is there other reasons that Spring must do it.","title":"Spring Self Inject Into a Collection Field","body":"<p>In recent project, I want to jnject all beans that implements an interface into a field with type of List. The code demo like this, the bean is also implements the <code>Handler</code>.</p>\n<pre><code>@Component\nclass HandlerImpl implements Handler {\n        @Resource\n        private List&lt;Handler&gt; handlers;\n}\n</code></pre>\n<p>And I find that the list contains all other beans but only not this bean itself.</p>\n<p>We know that Spring is able to handle self inject like this</p>\n<pre><code>@Component\nclass HandlerImpl implements Handler {\n        // this will be self\n        @Resource\n        private Handler handler;\n}\n</code></pre>\n<p>So I am wondering why it did not work when the field's type is List.</p>\n<p>I try to debug and trace into this method,</p>\n<pre><code>protected Map&lt;String, Object&gt; findAutowireCandidates(\n                @Nullable String beanName, Class&lt;?&gt; requiredType, DependencyDescriptor descriptor) {\n\n        String[] candidateNames = BeanFactoryUtils.beanNamesForTypeIncludingAncestors(\n                        this, requiredType, true, descriptor.isEager());\n        Map&lt;String, Object&gt; result = new LinkedHashMap&lt;&gt;(candidateNames.length);\n        for (Map.Entry&lt;Class&lt;?&gt;, Object&gt; classObjectEntry : this.resolvableDependencies.entrySet()) {\n                Class&lt;?&gt; autowiringType = classObjectEntry.getKey();\n                if (autowiringType.isAssignableFrom(requiredType)) {\n                        Object autowiringValue = classObjectEntry.getValue();\n                        autowiringValue = AutowireUtils.resolveAutowiringValue(autowiringValue, requiredType);\n                        if (requiredType.isInstance(autowiringValue)) {\n                                result.put(ObjectUtils.identityToString(autowiringValue), autowiringValue);\n                                break;\n                        }\n                }\n        }\n        for (String candidate : candidateNames) {\n                if (!isSelfReference(beanName, candidate) &amp;&amp; isAutowireCandidate(candidate, descriptor)) {\n                        addCandidateEntry(result, candidate, descriptor, requiredType);\n                }\n        }\n        if (result.isEmpty()) {\n                boolean multiple = indicatesMultipleBeans(requiredType);\n                // Consider fallback matches if the first pass failed to find anything...\n                DependencyDescriptor fallbackDescriptor = descriptor.forFallbackMatch();\n                for (String candidate : candidateNames) {\n                        if (!isSelfReference(beanName, candidate) &amp;&amp; isAutowireCandidate(candidate, fallbackDescriptor) &amp;&amp;\n                                        (!multiple || getAutowireCandidateResolver().hasQualifier(descriptor))) {\n                                addCandidateEntry(result, candidate, descriptor, requiredType);\n                        }\n                }\n                if (result.isEmpty() &amp;&amp; !multiple) {\n                        // Consider self references as a final pass...\n                        // but in the case of a dependency collection, not the very same bean itself.\n                        for (String candidate : candidateNames) {\n                                if (isSelfReference(beanName, candidate) &amp;&amp;\n                                                (!(descriptor instanceof MultiElementDescriptor) || !beanName.equals(candidate)) &amp;&amp;\n                                                isAutowireCandidate(candidate, fallbackDescriptor)) {\n                                        addCandidateEntry(result, candidate, descriptor, requiredType);\n                                }\n                        }\n                }\n        }\n        return result;\n}\n</code></pre>\n<p>This method is one step of the <code>CommonAnnotationBeanPostProcessor</code>, it will find all matched beans. We can see that the method <code>isSelfReference</code> is called several times, and due to what, the bean itself is filtered. And in the end of the method, we can see if the field is not Collection, the bean self can be inject.</p>\n<p>So it seems that Spring filter the bean self on purpose. I am wondering that can Spring not to filter the bean self in this case, or is there other reasons that Spring must do it.</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","spring-data"],"comments":[{"owner":{"account_id":1074827,"reputation":645,"user_id":1073207,"accept_rate":52,"display_name":"Kishore_2021"},"score":0,"creation_date":1624595739,"post_id":68120283,"comment_id":120406443,"body_markdown":"The error states that:\n\n`Receiver class com.ibm.as400.access.AS400JDBCConnectionImpl does not define or inherit an implementation of the resolved method &#39;abstract boolean isValid(int)&#39; of interface java.sql.Connection.`\n\nBut the documentation says that isValid(int) is implemented in jt400 10.6, 10.4 etc, but I don&#39;t see this method in source of  **com.ibm.as400.access.AS400JDBCConnection**","body":"The error states that:  <code>Receiver class com.ibm.as400.access.AS400JDBCConnectionImpl does not define or inherit an implementation of the resolved method &#39;abstract boolean isValid(int)&#39; of interface java.sql.Connection.</code>  But the documentation says that isValid(int) is implemented in jt400 10.6, 10.4 etc, but I don&#39;t see this method in source of  <b>com.ibm.as400.access.AS400JDBCConnection</b>"},{"owner":{"account_id":20732638,"reputation":177,"user_id":15224199,"display_name":"Jakub Jakubowski"},"score":0,"creation_date":1650561643,"post_id":68120283,"comment_id":127153395,"body_markdown":"Did you resolve it somehow?","body":"Did you resolve it somehow?"}],"answers":[{"tags":[],"owner":{"account_id":6373901,"reputation":31,"user_id":4945507,"display_name":"Saraswathi Kaluva"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1624558949,"creation_date":1624558949,"answer_id":68120941,"question_id":68120283,"body_markdown":"Try adding @EnableJpaRepositories annotation below the @SpringBootApplication","title":"Unable to connect IBMi machine with Spring Data &amp; JPA","body":"<p>Try adding @EnableJpaRepositories annotation below the @SpringBootApplication</p>\n"},{"tags":[],"owner":{"account_id":20732638,"reputation":177,"user_id":15224199,"display_name":"Jakub Jakubowski"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1650616299,"creation_date":1650616299,"answer_id":71965696,"question_id":68120283,"body_markdown":"I had the same issue. The problem is that seems that the method `abstract boolean isValid(int)` is not implemented, or doesn&#39;t work correctly (I&#39;m not sure). Basically, it&#39;s checking if the connection to DB is healthy. \r\nHappily, you can change it to your own. In spring boot just add to **application.properties**: ```spring.datasource.hikari.connection-test-query: values 1``` \r\n\r\nFor me **values 1** worked (I&#39;m using AS400 DB2), but for others DB you may need to use different ones [check this answer][1]\r\n\r\nI had multiple Datasources and unfortunately adding them to application.properties was not enough, I had to set it in PersistanceConfigurator like this: \r\n```\r\n@Bean\r\n@ConfigurationProperties(prefix = &quot;spring.datasource&quot;)\r\npublic DataSource as400DataSource() {\r\n    HikariDataSource dataSource = (HikariDataSource) DataSourceBuilder.create().build();\r\n    dataSource.setConnectionTestQuery(&quot;values 1&quot;);\r\n    return dataSource;\r\n}\r\n```\r\nNow it&#39;s working perfectly fine. \r\n\r\n  [1]: https://stackoverflow.com/a/3670000/15224199","title":"Unable to connect IBMi machine with Spring Data &amp; JPA","body":"<p>I had the same issue. The problem is that seems that the method <code>abstract boolean isValid(int)</code> is not implemented, or doesn't work correctly (I'm not sure). Basically, it's checking if the connection to DB is healthy.\nHappily, you can change it to your own. In spring boot just add to <strong>application.properties</strong>: <code>spring.datasource.hikari.connection-test-query: values 1</code></p>\n<p>For me <strong>values 1</strong> worked (I'm using AS400 DB2), but for others DB you may need to use different ones <a href=\"https://stackoverflow.com/a/3670000/15224199\">check this answer</a></p>\n<p>I had multiple Datasources and unfortunately adding them to application.properties was not enough, I had to set it in PersistanceConfigurator like this:</p>\n<pre><code>@Bean\n@ConfigurationProperties(prefix = &quot;spring.datasource&quot;)\npublic DataSource as400DataSource() {\n    HikariDataSource dataSource = (HikariDataSource) DataSourceBuilder.create().build();\n    dataSource.setConnectionTestQuery(&quot;values 1&quot;);\n    return dataSource;\n}\n</code></pre>\n<p>Now it's working perfectly fine.</p>\n"},{"tags":[],"owner":{"account_id":3238748,"reputation":111,"user_id":3407361,"display_name":"M. A.  Wheadon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688034062,"creation_date":1688034062,"answer_id":76580143,"question_id":68120283,"body_markdown":"I&#39;m not (in my particular case) using Spring Data &amp; JPA, just Maven with jt400 version 9.5 and got the same error (isValid not implemented). I upgraded to jt400-jdk8 version 11.1 and that cured the problem.","title":"Unable to connect IBMi machine with Spring Data &amp; JPA","body":"<p>I'm not (in my particular case) using Spring Data &amp; JPA, just Maven with jt400 version 9.5 and got the same error (isValid not implemented). I upgraded to jt400-jdk8 version 11.1 and that cured the problem.</p>\n"}],"owner":{"account_id":1074827,"reputation":645,"user_id":1073207,"accept_rate":52,"display_name":"Kishore_2021"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2038,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1688034062,"creation_date":1624555635,"question_id":68120283,"body_markdown":"Trying connect IBMi machine by using Spring Data &amp; JPA, but it&#39;s generating the error:\r\n\r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [HibernateJpaConfiguration.class]: Bean instantiation via factory method failed; \r\n    nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean]: Factory method &#39;entityManagerFactory&#39; threw exception; nested exception is java.lang.AbstractMethodError: Receiver class com.ibm.as400.access.AS400JDBCConnectionImpl does not define or inherit an implementation of the resolved method &#39;abstract boolean isValid(int)&#39; of interface java.sql.Connection.\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658) ~[spring-beans-5.3.8.jar:5.3.8]\r\n    \tat spring.security.as400.SpringSecurityDemoApplication2.main(SpringSecurityDemoApplication2.java:10) ~[classes/:na]\r\n    Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean]: Factory method &#39;entityManagerFactory&#39; threw exception; nested exception is java.lang.AbstractMethodError: Receiver class com.ibm.as400.access.AS400JDBCConnectionImpl does not define or inherit an implementation of the resolved method &#39;abstract boolean isValid(int)&#39; of interface java.sql.Connection.\r\n    \tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.3.8.jar:5.3.8]\r\n    Caused by: java.lang.AbstractMethodError: Receiver class com.ibm.as400.access.AS400JDBCConnectionImpl does not define or inherit an implementation of the resolved method &#39;abstract boolean isValid(int)&#39; of interface java.sql.Connection.\r\n    \tat com.zaxxer.hikari.pool.PoolBase.checkValidationSupport(PoolBase.java:458) ~[HikariCP-3.4.5.jar:na]\r\n\r\nThe project is a starter project for learning Spring Data using JPA to connect with IBMi machine, but seems Spring Data doesn&#39;t provide the easiest way for this.\r\n\r\nMy Project classes are:  \r\n\r\n 1. pom.xml\r\n```\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.4.7&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;Spring-Security-JT400&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;Security-JT400&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;Security-JT400&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t\r\n    \t\t\r\n    \t\t&lt;dependency&gt;\r\n    \t\t    &lt;groupId&gt;net.sf.jt400&lt;/groupId&gt;\r\n    \t\t    &lt;artifactId&gt;jt400&lt;/artifactId&gt;\r\n    \t\t    &lt;version&gt;10.6&lt;/version&gt;\r\n                &lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n```\r\n 2. Configuration\r\n\r\n   \r\n```\r\n     @Configuration\r\n        @EnableWebSecurity\r\n        public class WebSecurityConfiguration extends WebSecurityConfigurerAdapter\r\n    {\r\n        @Autowired\r\n        CustomUserDetailsService customUserDetailsService;\r\n    \r\n        @Bean\r\n        AuthenticationProvider authenticationProvider()\r\n        {\r\n            DaoAuthenticationProvider provider = new DaoAuthenticationProvider();\r\n            provider.setUserDetailsService(customUserDetailsService);\r\n            provider.setPasswordEncoder(new BCryptPasswordEncoder());\r\n    \r\n            return provider;\r\n        }\r\n    \r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception\r\n        {\r\n            http.authorizeRequests()\r\n                .antMatchers(&quot;/&quot;).permitAll()\r\n                .antMatchers(&quot;/home&quot;).hasAuthority(&quot;USER&quot;)\r\n                .antMatchers(&quot;/admin&quot;).hasAuthority(&quot;ADMIN&quot;)\r\n                .anyRequest().authenticated()\r\n                .and()\r\n                .httpBasic();\r\n        }\r\n    }\r\n```\r\n3. CustomUserDetailsService\r\n```\r\n    @Service\r\n    public class CustomUserDetailsService implements UserDetailsService\r\n    {\r\n        @Autowired\r\n        private UserRepository userRepository;\r\n        \r\n        @Override\r\n        public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException\r\n        {\r\n            User user = userRepository.findByUsername(username);\r\n            if (user == null)\r\n            {\r\n                throw new UsernameNotFoundException(&quot;User not found.&quot;);\r\n            }\r\n    \r\n            return new CustomUserDetails(user);\r\n        }\r\n    }\r\n```\r\n4. \r\n```\r\n    @Repository\r\n    public interface UserRepository extends JpaRepository&lt;User, Integer&gt;\r\n    {\r\n        public User findByUsername(String username);\r\n    }\r\n```\r\n5. \r\n```\r\n    @RestController\r\n    public class HomeController\r\n    {\r\n        @GetMapping(&quot;/home&quot;)\r\n        public String home()\r\n        {\r\n            return &quot;This is Home Page.&quot;;\r\n        }\r\n    \r\n        @GetMapping(&quot;/admin&quot;)\r\n        public String admin()\r\n        {\r\n            return &quot;This is Admin Page.&quot;;\r\n        }\r\n        \r\n    }\r\n```\r\n 6. \r\n```\r\n    public class CustomUserDetails implements UserDetails\r\n    {\r\n        private User user;\r\n        \r\n        public CustomUserDetails(User user)\r\n        {\r\n            super();\r\n            this.user = user;\r\n        }\r\n    \r\n        private static final long serialVersionUID = -228521734196009612L;\r\n    \r\n        @Override\r\n        public Collection&lt;? extends GrantedAuthority&gt; getAuthorities()\r\n        {\r\n            return Collections.singleton(new SimpleGrantedAuthority(user.getRole()));\r\n        }\r\n    \r\n        @Override\r\n        public String getPassword()\r\n        {\r\n            return user.getPassword();\r\n        }\r\n    \r\n        @Override\r\n        public String getUsername()\r\n        {\r\n            return user.getUsername();\r\n        }\r\n    \r\n        @Override\r\n        public boolean isAccountNonExpired()\r\n        {\r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public boolean isAccountNonLocked()\r\n        {\r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public boolean isCredentialsNonExpired()\r\n        {\r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public boolean isEnabled()\r\n        {\r\n            return true;\r\n        }\r\n    }\r\n```\r\n7. \r\n```\r\n    @Entity\r\n    public class User\r\n    {\r\n        @Id\r\n        private int id;\r\n        private String username;\r\n        private String password;\r\n        private String role;\r\n    }\r\n```\r\n8.\r\n```\r\n    @SpringBootApplication\r\n    public class SpringSecurityDemoApplication2 {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(SpringSecurityDemoApplication2.class, args);\r\n    \t}\r\n    }\r\n```\r\n9. application.properties\r\n```\r\n    spring.datasource.url=jdbc:as400://192.168.xx.xxx/;translate binary=true;prompt=false\r\n    spring.datasource.username=USERNAME\r\n    spring.datasource.password=PASSWORD\r\n    spring.datasource.driver-class-name=com.ibm.as400.access.AS400JDBCDriver\r\n    spring.jpa.database-platform=org.hibernate.dialect.DB2400Dialect\r\n\r\n```\r\n\r\n**Note:** Using same classes and making changes in **application.properties**, able to connect with MYSQL database.","title":"Unable to connect IBMi machine with Spring Data &amp; JPA","body":"<p>Trying connect IBMi machine by using Spring Data &amp; JPA, but it's generating the error:</p>\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [HibernateJpaConfiguration.class]: Bean instantiation via factory method failed; \nnested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean]: Factory method 'entityManagerFactory' threw exception; nested exception is java.lang.AbstractMethodError: Receiver class com.ibm.as400.access.AS400JDBCConnectionImpl does not define or inherit an implementation of the resolved method 'abstract boolean isValid(int)' of interface java.sql.Connection.\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658) ~[spring-beans-5.3.8.jar:5.3.8]\n    at spring.security.as400.SpringSecurityDemoApplication2.main(SpringSecurityDemoApplication2.java:10) ~[classes/:na]\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean]: Factory method 'entityManagerFactory' threw exception; nested exception is java.lang.AbstractMethodError: Receiver class com.ibm.as400.access.AS400JDBCConnectionImpl does not define or inherit an implementation of the resolved method 'abstract boolean isValid(int)' of interface java.sql.Connection.\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.3.8.jar:5.3.8]\nCaused by: java.lang.AbstractMethodError: Receiver class com.ibm.as400.access.AS400JDBCConnectionImpl does not define or inherit an implementation of the resolved method 'abstract boolean isValid(int)' of interface java.sql.Connection.\n    at com.zaxxer.hikari.pool.PoolBase.checkValidationSupport(PoolBase.java:458) ~[HikariCP-3.4.5.jar:na]\n</code></pre>\n<p>The project is a starter project for learning Spring Data using JPA to connect with IBMi machine, but seems Spring Data doesn't provide the easiest way for this.</p>\n<p>My Project classes are:</p>\n<ol>\n<li>pom.xml</li>\n</ol>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n        xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n        &lt;parent&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n            &lt;version&gt;2.4.7&lt;/version&gt;\n            &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n        &lt;/parent&gt;\n        &lt;groupId&gt;Spring-Security-JT400&lt;/groupId&gt;\n        &lt;artifactId&gt;Security-JT400&lt;/artifactId&gt;\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n        &lt;name&gt;Security-JT400&lt;/name&gt;\n        &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n        &lt;properties&gt;\n            &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;/properties&gt;\n    \n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n    \n            &lt;dependency&gt;\n                &lt;groupId&gt;mysql&lt;/groupId&gt;\n                &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n                &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;/dependency&gt;\n            \n            \n            &lt;dependency&gt;\n                &lt;groupId&gt;net.sf.jt400&lt;/groupId&gt;\n                &lt;artifactId&gt;jt400&lt;/artifactId&gt;\n                &lt;version&gt;10.6&lt;/version&gt;\n                &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;/dependency&gt;\n    \n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n                &lt;scope&gt;test&lt;/scope&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n                &lt;scope&gt;test&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    \n        &lt;build&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/build&gt;\n    \n    &lt;/project&gt;\n</code></pre>\n<ol start=\"2\">\n<li>Configuration</li>\n</ol>\n<pre><code>     @Configuration\n        @EnableWebSecurity\n        public class WebSecurityConfiguration extends WebSecurityConfigurerAdapter\n    {\n        @Autowired\n        CustomUserDetailsService customUserDetailsService;\n    \n        @Bean\n        AuthenticationProvider authenticationProvider()\n        {\n            DaoAuthenticationProvider provider = new DaoAuthenticationProvider();\n            provider.setUserDetailsService(customUserDetailsService);\n            provider.setPasswordEncoder(new BCryptPasswordEncoder());\n    \n            return provider;\n        }\n    \n        @Override\n        protected void configure(HttpSecurity http) throws Exception\n        {\n            http.authorizeRequests()\n                .antMatchers(&quot;/&quot;).permitAll()\n                .antMatchers(&quot;/home&quot;).hasAuthority(&quot;USER&quot;)\n                .antMatchers(&quot;/admin&quot;).hasAuthority(&quot;ADMIN&quot;)\n                .anyRequest().authenticated()\n                .and()\n                .httpBasic();\n        }\n    }\n</code></pre>\n<ol start=\"3\">\n<li>CustomUserDetailsService</li>\n</ol>\n<pre><code>    @Service\n    public class CustomUserDetailsService implements UserDetailsService\n    {\n        @Autowired\n        private UserRepository userRepository;\n        \n        @Override\n        public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException\n        {\n            User user = userRepository.findByUsername(username);\n            if (user == null)\n            {\n                throw new UsernameNotFoundException(&quot;User not found.&quot;);\n            }\n    \n            return new CustomUserDetails(user);\n        }\n    }\n</code></pre>\n<ol start=\"4\">\n<li></li>\n</ol>\n<pre><code>    @Repository\n    public interface UserRepository extends JpaRepository&lt;User, Integer&gt;\n    {\n        public User findByUsername(String username);\n    }\n</code></pre>\n<ol start=\"5\">\n<li></li>\n</ol>\n<pre><code>    @RestController\n    public class HomeController\n    {\n        @GetMapping(&quot;/home&quot;)\n        public String home()\n        {\n            return &quot;This is Home Page.&quot;;\n        }\n    \n        @GetMapping(&quot;/admin&quot;)\n        public String admin()\n        {\n            return &quot;This is Admin Page.&quot;;\n        }\n        \n    }\n</code></pre>\n<ol start=\"6\">\n<li></li>\n</ol>\n<pre><code>    public class CustomUserDetails implements UserDetails\n    {\n        private User user;\n        \n        public CustomUserDetails(User user)\n        {\n            super();\n            this.user = user;\n        }\n    \n        private static final long serialVersionUID = -228521734196009612L;\n    \n        @Override\n        public Collection&lt;? extends GrantedAuthority&gt; getAuthorities()\n        {\n            return Collections.singleton(new SimpleGrantedAuthority(user.getRole()));\n        }\n    \n        @Override\n        public String getPassword()\n        {\n            return user.getPassword();\n        }\n    \n        @Override\n        public String getUsername()\n        {\n            return user.getUsername();\n        }\n    \n        @Override\n        public boolean isAccountNonExpired()\n        {\n            return true;\n        }\n    \n        @Override\n        public boolean isAccountNonLocked()\n        {\n            return true;\n        }\n    \n        @Override\n        public boolean isCredentialsNonExpired()\n        {\n            return true;\n        }\n    \n        @Override\n        public boolean isEnabled()\n        {\n            return true;\n        }\n    }\n</code></pre>\n<ol start=\"7\">\n<li></li>\n</ol>\n<pre><code>    @Entity\n    public class User\n    {\n        @Id\n        private int id;\n        private String username;\n        private String password;\n        private String role;\n    }\n</code></pre>\n<ol start=\"8\">\n<li></li>\n</ol>\n<pre><code>    @SpringBootApplication\n    public class SpringSecurityDemoApplication2 {\n    \n        public static void main(String[] args) {\n            SpringApplication.run(SpringSecurityDemoApplication2.class, args);\n        }\n    }\n</code></pre>\n<ol start=\"9\">\n<li>application.properties</li>\n</ol>\n<pre><code>    spring.datasource.url=jdbc:as400://192.168.xx.xxx/;translate binary=true;prompt=false\n    spring.datasource.username=USERNAME\n    spring.datasource.password=PASSWORD\n    spring.datasource.driver-class-name=com.ibm.as400.access.AS400JDBCDriver\n    spring.jpa.database-platform=org.hibernate.dialect.DB2400Dialect\n\n</code></pre>\n<p><strong>Note:</strong> Using same classes and making changes in <strong>application.properties</strong>, able to connect with MYSQL database.</p>\n"},{"tags":["java","android","android-room"],"comments":[{"owner":{"account_id":13437672,"reputation":1663,"user_id":9695678,"display_name":"Asset Bekbossynov"},"score":0,"creation_date":1544609745,"post_id":53740599,"comment_id":94333976,"body_markdown":"Can you post your two objects BIN and ORDER","body":"Can you post your two objects BIN and ORDER"}],"answers":[{"tags":[],"owner":{"account_id":8541170,"reputation":13179,"user_id":6401241,"display_name":"Radesh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688034060,"creation_date":1544609588,"answer_id":53740696,"question_id":53740599,"body_markdown":"i think you must change this lines \r\n\r\n    foreignKeys = [ForeignKey(\r\n        entity = BIN::class,\r\n        parentColumns = arrayOf(&quot;id&quot;),\r\n        childColumns = arrayOf(&quot;bin_id&quot;),\r\n        onDelete = ForeignKey.CASCADE\r\n    ), ForeignKey(\r\n        entity = ORDER::class,\r\n        parentColumns = arrayOf(&quot;id&quot;),\r\n        childColumns = arrayOf(&quot;order_id&quot;),\r\n        onDelete = ForeignKey.CASCADE\r\n    )]","title":"Java android room two foreign key","body":"<p>i think you must change this lines</p>\n<pre><code>foreignKeys = [ForeignKey(\n    entity = BIN::class,\n    parentColumns = arrayOf(&quot;id&quot;),\n    childColumns = arrayOf(&quot;bin_id&quot;),\n    onDelete = ForeignKey.CASCADE\n), ForeignKey(\n    entity = ORDER::class,\n    parentColumns = arrayOf(&quot;id&quot;),\n    childColumns = arrayOf(&quot;order_id&quot;),\n    onDelete = ForeignKey.CASCADE\n)]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9257284,"reputation":674,"user_id":6875716,"display_name":"Tariqul Islam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1544609648,"creation_date":1544609648,"answer_id":53740708,"question_id":53740599,"body_markdown":"It seems you did not add any row two parent table like BIN.class and Order.class. I got an answer from [Here][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/45988446/how-to-create-a-table-with-a-two-or-more-foreign-keys-using-android-room","title":"Java android room two foreign key","body":"<p>It seems you did not add any row two parent table like BIN.class and Order.class. I got an answer from <a href=\"https://stackoverflow.com/questions/45988446/how-to-create-a-table-with-a-two-or-more-foreign-keys-using-android-room\">Here</a></p>\n"},{"tags":[],"owner":{"account_id":13437672,"reputation":1663,"user_id":9695678,"display_name":"Asset Bekbossynov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1544609975,"creation_date":1544609975,"answer_id":53740799,"question_id":53740599,"body_markdown":"Try to do it like this \r\n\r\n    foreignKeys = [\r\n            @ForeignKey(\r\n                    entity = BIN.class,\r\n                    parentColumns = &quot;id&quot;,\r\n                    childColumns = &quot;bin_id&quot;\r\n            ),\r\n            @ForeignKey(\r\n                    entity = ORDER.class,\r\n                    parentColumns = &quot;id&quot;,\r\n                    childColumns = &quot;order_id&quot;\r\n            )],\r\nActually in kotlin I wrote this line in the following way\r\n\r\n    foreignKeys = arrayOf(\r\n                @ForeignKey(\r\n                        entity = BIN.class,\r\n                        parentColumns = &quot;id&quot;,\r\n                        childColumns = &quot;bin_id&quot;\r\n                ),\r\n                @ForeignKey(\r\n                        entity = ORDER.class,\r\n                        parentColumns = &quot;id&quot;,\r\n                        childColumns = &quot;order_id&quot;\r\n                )]),\r\nMay be it helps","title":"Java android room two foreign key","body":"<p>Try to do it like this </p>\n\n<pre><code>foreignKeys = [\n        @ForeignKey(\n                entity = BIN.class,\n                parentColumns = \"id\",\n                childColumns = \"bin_id\"\n        ),\n        @ForeignKey(\n                entity = ORDER.class,\n                parentColumns = \"id\",\n                childColumns = \"order_id\"\n        )],\n</code></pre>\n\n<p>Actually in kotlin I wrote this line in the following way</p>\n\n<pre><code>foreignKeys = arrayOf(\n            @ForeignKey(\n                    entity = BIN.class,\n                    parentColumns = \"id\",\n                    childColumns = \"bin_id\"\n            ),\n            @ForeignKey(\n                    entity = ORDER.class,\n                    parentColumns = \"id\",\n                    childColumns = \"order_id\"\n            )]),\n</code></pre>\n\n<p>May be it helps</p>\n"}],"owner":{"account_id":9265075,"reputation":143,"user_id":9449541,"display_name":"jpok"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2501,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":53740799,"answer_count":3,"score":1,"last_activity_date":1688034060,"creation_date":1544609312,"question_id":53740599,"body_markdown":"I have a table with two foreign key into two different tables\r\n\r\nThis is my table :\r\n\r\n    @Entity(\r\n            tableName = Constants.TABLE_NAME_PICTURE,\r\n            foreignKeys = {\r\n            @ForeignKey(\r\n                    entity = BIN.class,\r\n                    parentColumns = &quot;id&quot;,\r\n                    childColumns = &quot;bin_id&quot;\r\n            ),\r\n            @ForeignKey(\r\n                    entity = ORDER.class,\r\n                    parentColumns = &quot;id&quot;,\r\n                    childColumns = &quot;order_id&quot;\r\n            )},\r\n            indices = {@Index(&quot;id&quot;), @Index(value = {&quot;bin_id&quot;,&quot;order_id&quot;})})\r\n    \r\n    public class PICTURE {\r\n    \r\n        @PrimaryKey(autoGenerate = true)\r\n        @ColumnInfo(name = &quot;id&quot;)\r\n        public long id;\r\n        @Attribute(name = &quot;name&quot;, required = false)\r\n        @ColumnInfo(name = &quot;name&quot;)\r\n        public String name;\r\n        @ColumnInfo(name = &quot;bin_id&quot;)\r\n        public int binId;\r\n        @ColumnInfo(name = &quot;order_id&quot;)\r\n        public int orderId;\r\n\r\n\r\nand when I insert a PICTURE to the database I get :\r\n\r\n&gt;android.database.sqlite.SQLiteConstraintException: FOREIGN KEY constraint failed (code 787)","title":"Java android room two foreign key","body":"<p>I have a table with two foreign key into two different tables</p>\n\n<p>This is my table :</p>\n\n<pre><code>@Entity(\n        tableName = Constants.TABLE_NAME_PICTURE,\n        foreignKeys = {\n        @ForeignKey(\n                entity = BIN.class,\n                parentColumns = \"id\",\n                childColumns = \"bin_id\"\n        ),\n        @ForeignKey(\n                entity = ORDER.class,\n                parentColumns = \"id\",\n                childColumns = \"order_id\"\n        )},\n        indices = {@Index(\"id\"), @Index(value = {\"bin_id\",\"order_id\"})})\n\npublic class PICTURE {\n\n    @PrimaryKey(autoGenerate = true)\n    @ColumnInfo(name = \"id\")\n    public long id;\n    @Attribute(name = \"name\", required = false)\n    @ColumnInfo(name = \"name\")\n    public String name;\n    @ColumnInfo(name = \"bin_id\")\n    public int binId;\n    @ColumnInfo(name = \"order_id\")\n    public int orderId;\n</code></pre>\n\n<p>and when I insert a PICTURE to the database I get :</p>\n\n<blockquote>\n  <p>android.database.sqlite.SQLiteConstraintException: FOREIGN KEY constraint failed (code 787)</p>\n</blockquote>\n"},{"tags":["java","android","android-notifications","android-pendingintent"],"comments":[{"owner":{"account_id":9172301,"reputation":4168,"user_id":6819340,"accept_rate":39,"display_name":"darshan"},"score":0,"creation_date":1687417708,"post_id":76526330,"comment_id":134934471,"body_markdown":"Is the activity already open when the notification is clicked?","body":"Is the activity already open when the notification is clicked?"},{"owner":{"account_id":26079994,"reputation":39,"user_id":19778332,"display_name":"David Feldman"},"score":0,"creation_date":1687450442,"post_id":76526330,"comment_id":134941887,"body_markdown":"no, the activity is not open","body":"no, the activity is not open"},{"owner":{"account_id":26079994,"reputation":39,"user_id":19778332,"display_name":"David Feldman"},"score":0,"creation_date":1687455236,"post_id":76526330,"comment_id":134942758,"body_markdown":"it&#39;s getting opened when the user click&#39;s on the notification","body":"it&#39;s getting opened when the user click&#39;s on the notification"}],"answers":[{"tags":[],"owner":{"account_id":26079994,"reputation":39,"user_id":19778332,"display_name":"David Feldman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688033457,"creation_date":1687540939,"answer_id":76542294,"question_id":76526330,"body_markdown":"It appears that I am encountering this issue where the value received in your Activity differs from the one originally sent via the notification&#39;s intent extra. To resolve this problem, you can make use of a unique requestCode for each PendingIntent to ensure that the intent extras are received correctly.\r\n\r\nYou can modify your code as follows:\r\n```java\r\nIntent intent = new Intent(context, ChatActivity.class);\r\nintent.putExtra(ChatActivity.CURRENT_CHAT_EXTRA, chatNotifications.getTopic());\r\n\r\n// Generate a unique requestCode based on the topic\r\nint requestCode = chatNotifications.getTopic().hashCode();\r\n\r\nPendingIntent actionIntent = PendingIntent.getActivity(context, requestCode, intent, PendingIntent.FLAG_IMMUTABLE);\r\n\r\nNotificationCompat.Builder builder = new NotificationCompat.Builder(context, AppController.CHAT_CHANNEL)\r\n    .setContentIntent(actionIntent);\r\n```\r\nBy using chatNotifications.getTopic().hashCode() as the requestCode, you create a unique identifier for each PendingIntent. This ensures that each notification click will create a separate PendingIntent and the intent extra will be correctly received in your Activity&#39;s onCreate method.\r\n\r\nMake sure to adjust your receiving code in the ChatActivity class accordingly:\r\n```java\r\ntopic = getIntent().getStringExtra(ChatActivity.CURRENT_CHAT_EXTRA);\r\n```\r\nBy implementing this approach, you should be able to resolve the issue of receiving different values in your Activity compared to what was originally sent from the notification.","title":"Inconsistent value received in Activity after clicking on notification","body":"<p>It appears that I am encountering this issue where the value received in your Activity differs from the one originally sent via the notification's intent extra. To resolve this problem, you can make use of a unique requestCode for each PendingIntent to ensure that the intent extras are received correctly.</p>\n<p>You can modify your code as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Intent intent = new Intent(context, ChatActivity.class);\nintent.putExtra(ChatActivity.CURRENT_CHAT_EXTRA, chatNotifications.getTopic());\n\n// Generate a unique requestCode based on the topic\nint requestCode = chatNotifications.getTopic().hashCode();\n\nPendingIntent actionIntent = PendingIntent.getActivity(context, requestCode, intent, PendingIntent.FLAG_IMMUTABLE);\n\nNotificationCompat.Builder builder = new NotificationCompat.Builder(context, AppController.CHAT_CHANNEL)\n    .setContentIntent(actionIntent);\n</code></pre>\n<p>By using chatNotifications.getTopic().hashCode() as the requestCode, you create a unique identifier for each PendingIntent. This ensures that each notification click will create a separate PendingIntent and the intent extra will be correctly received in your Activity's onCreate method.</p>\n<p>Make sure to adjust your receiving code in the ChatActivity class accordingly:</p>\n<pre class=\"lang-java prettyprint-override\"><code>topic = getIntent().getStringExtra(ChatActivity.CURRENT_CHAT_EXTRA);\n</code></pre>\n<p>By implementing this approach, you should be able to resolve the issue of receiving different values in your Activity compared to what was originally sent from the notification.</p>\n"}],"owner":{"account_id":26079994,"reputation":39,"user_id":19778332,"display_name":"David Feldman"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688033578,"creation_date":1687373738,"question_id":76526330,"body_markdown":"I have encountered an issue where I&#39;m trying to pass a value from a notification to an Activity using an intent extra. However, upon clicking on the notification and accessing the value in the Activity&#39;s onCreate method, the received value differs from the one I originally sent. I&#39;m seeking assistance in understanding and resolving this problem.\r\n\r\nHere&#39;s the relevant code snippet responsible for creating the notification and passing the value:\r\n```java\r\nIntent intent = new Intent(context, ChatActivity.class);\r\nintent.putExtra(ChatActivity.CURRENT_CHAT_EXTRA, chatNotifications.getTopic());\r\nPendingIntent actionIntent = PendingIntent.getActivity(context, 0, intent, PendingIntent.FLAG_IMMUTABLE);\r\n\r\nNotificationCompat.Builder builder = new NotificationCompat.Builder(context, AppController.CHAT_CHANNEL)\r\n    .setContentIntent(actionIntent);\r\n```\r\nIn the ChatActivity class, I&#39;m retrieving the value in the onCreate method as follows:\r\n```java\r\ntopic = getIntent().getStringExtra(CURRENT_CHAT_EXTRA);\r\n```\r\nThe issue is that topic ends up with a different value than what was originally sent.\r\n\r\nWhy might this discrepancy be occurring and how can I resolve it?\r\n\r\n\r\n\r\n","title":"Inconsistent value received in Activity after clicking on notification","body":"<p>I have encountered an issue where I'm trying to pass a value from a notification to an Activity using an intent extra. However, upon clicking on the notification and accessing the value in the Activity's onCreate method, the received value differs from the one I originally sent. I'm seeking assistance in understanding and resolving this problem.</p>\n<p>Here's the relevant code snippet responsible for creating the notification and passing the value:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Intent intent = new Intent(context, ChatActivity.class);\nintent.putExtra(ChatActivity.CURRENT_CHAT_EXTRA, chatNotifications.getTopic());\nPendingIntent actionIntent = PendingIntent.getActivity(context, 0, intent, PendingIntent.FLAG_IMMUTABLE);\n\nNotificationCompat.Builder builder = new NotificationCompat.Builder(context, AppController.CHAT_CHANNEL)\n    .setContentIntent(actionIntent);\n</code></pre>\n<p>In the ChatActivity class, I'm retrieving the value in the onCreate method as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>topic = getIntent().getStringExtra(CURRENT_CHAT_EXTRA);\n</code></pre>\n<p>The issue is that topic ends up with a different value than what was originally sent.</p>\n<p>Why might this discrepancy be occurring and how can I resolve it?</p>\n"},{"tags":["java","android","android-studio","kotlin","android-studio-chipmunk"],"comments":[{"owner":{"account_id":11972742,"reputation":1949,"user_id":8760805,"display_name":"ocos"},"score":0,"creation_date":1659955761,"post_id":73275984,"comment_id":129410087,"body_markdown":"I had this very ennoying problem way before `Patch 1` and can&#39;t remember what was the reason: gradle build cache or offline mode or studio?\n`Patch 2` is released. If it does not help, try to delete `.idea` folder.","body":"I had this very ennoying problem way before <code>Patch 1</code> and can&#39;t remember what was the reason: gradle build cache or offline mode or studio? <code>Patch 2</code> is released. If it does not help, try to delete <code>.idea</code> folder."},{"owner":{"account_id":21384180,"reputation":1690,"user_id":15749574,"display_name":"JustSightseeing"},"score":0,"creation_date":1660516357,"post_id":73275984,"comment_id":129545806,"body_markdown":"I&#39;m having the same problem but on macOS, unfortunately didn&#39;t find a solution yet","body":"I&#39;m having the same problem but on macOS, unfortunately didn&#39;t find a solution yet"}],"answers":[{"tags":[],"owner":{"account_id":14581829,"reputation":21,"user_id":10531974,"display_name":"Shakiv Hussain"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1688033326,"creation_date":1661323317,"answer_id":73468519,"question_id":73275984,"body_markdown":"When I update my android studio, then the latest changes are not deploying so After lots of research and experiment, \r\n\r\nI found this solution then my Android Studio working fine. You can also try this.\r\n\r\nFirstly open from here : [![Firstly open from here][1]][1]\r\n\r\n\r\nAnd then enable from here : [![And then enable from here][2]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/j1eYx.png\r\n  [2]: https://i.stack.imgur.com/MS8R0.png","title":"Every time need to rebuild project to reflect changes in Android Studio Chipmunk","body":"<p>When I update my android studio, then the latest changes are not deploying so After lots of research and experiment,</p>\n<p>I found this solution then my Android Studio working fine. You can also try this.</p>\n<p>Firstly open from here : <a href=\"https://i.stack.imgur.com/j1eYx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/j1eYx.png\" alt=\"Firstly open from here\" /></a></p>\n<p>And then enable from here : <a href=\"https://i.stack.imgur.com/j1eYx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MS8R0.png\" alt=\"And then enable from here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":18295524,"reputation":56,"user_id":14092948,"display_name":"Gustavo Stelle Cunha"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1680789087,"creation_date":1680788874,"answer_id":75950284,"question_id":73275984,"body_markdown":"I was with the same problem, needed rebuild my project every change, but I find the solution.\r\n\r\n1. Go to edit configurations to build \r\n2. Android App -&gt; app \r\n3. Scroll to bottom page\r\n4. Verify if has any task at &quot;Before launch&quot;\r\n5. if have nothing, click on add icon and add &quot;Gradle-aware Make&quot;\r\n\r\nThis solve my problem\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5xJma.png\r\n","title":"Every time need to rebuild project to reflect changes in Android Studio Chipmunk","body":"<p>I was with the same problem, needed rebuild my project every change, but I find the solution.</p>\n<ol>\n<li>Go to edit configurations to build</li>\n<li>Android App -&gt; app</li>\n<li>Scroll to bottom page</li>\n<li>Verify if has any task at &quot;Before launch&quot;</li>\n<li>if have nothing, click on add icon and add &quot;Gradle-aware Make&quot;</li>\n</ol>\n<p>This solve my problem</p>\n"}],"owner":{"account_id":16904606,"reputation":561,"user_id":12225165,"display_name":"Jaydeep parmar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1418,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":2,"score":6,"last_activity_date":1688033326,"creation_date":1659952409,"question_id":73275984,"body_markdown":"I am using Android Studio Chipmunk (2021.2.1 Patch 1) stable version\r\n\r\n[![Android studio version chipmunk][1]][1]\r\n\r\nWhenever I do any changes in Kotlin or XML file and run the project then changes don&#39;t reflect in app unless and until I rebuild the project from `Build -&gt; Rebuild Project`.\r\n\r\nEvery time I have to rebuild project if I have done any changes in code.\r\n\r\nI have already tried with `File -&gt; Invalidate Caches -&gt; Invalidate and restart`\r\n\r\n  [1]: https://i.stack.imgur.com/6Gi8H.png","title":"Every time need to rebuild project to reflect changes in Android Studio Chipmunk","body":"<p>I am using Android Studio Chipmunk (2021.2.1 Patch 1) stable version</p>\n<p><a href=\"https://i.stack.imgur.com/6Gi8H.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/6Gi8H.png\" alt=\"Android studio version chipmunk\" /></a></p>\n<p>Whenever I do any changes in Kotlin or XML file and run the project then changes don't reflect in app unless and until I rebuild the project from <code>Build -&gt; Rebuild Project</code>.</p>\n<p>Every time I have to rebuild project if I have done any changes in code.</p>\n<p>I have already tried with <code>File -&gt; Invalidate Caches -&gt; Invalidate and restart</code></p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1687188238,"post_id":76507736,"comment_id":134898448,"body_markdown":"The setup of your project is not clear. You have one Spring Boot application, right? What kind of applications are the other two - Email? SPI?","body":"The setup of your project is not clear. You have one Spring Boot application, right? What kind of applications are the other two - Email? SPI?"},{"owner":{"account_id":10003134,"reputation":11,"user_id":7398453,"display_name":"Stefan"},"score":0,"creation_date":1687248963,"post_id":76507736,"comment_id":134906178,"body_markdown":"SPI is a simple Java Service Provider Interface. Email is a Java project with Core dependency. It includes Spring Configuration, but has no class to start. Does this make it a Spring Boot Application, too?","body":"SPI is a simple Java Service Provider Interface. Email is a Java project with Core dependency. It includes Spring Configuration, but has no class to start. Does this make it a Spring Boot Application, too?"},{"owner":{"account_id":16657879,"reputation":2625,"user_id":12038714,"display_name":"J Asgarov"},"score":0,"creation_date":1687264796,"post_id":76507736,"comment_id":134909743,"body_markdown":"This is a badly formulated question that is basically asking us (people who have never seen your project) how to start it? Ask your teammates - how should we know?","body":"This is a badly formulated question that is basically asking us (people who have never seen your project) how to start it? Ask your teammates - how should we know?"}],"answers":[{"tags":[],"owner":{"account_id":10003134,"reputation":11,"user_id":7398453,"display_name":"Stefan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688033306,"creation_date":1688033306,"answer_id":76580055,"question_id":76507736,"body_markdown":"It is possible to debug multiple projects by using [Gradle Composite Builds][1]. Add the core project and the SPI project to the email project in settings.gradle:\r\n\r\n    rootProject.name = &#39;projEmail&#39;\r\n    \r\n    includeBuild &#39;../projCore&#39;\r\n    includeBuild &#39;../projLinux&#39;  //SPI\r\nThe SPI must be added as test dependency, too. Then it is possible to write a starter class in the test sources - similar to the one in the core project:\r\n\r\n    public static void main(String[] args) \r\n\t{\r\n\t\tLOG.info(&quot;Start email project with Spring Boot&quot;);\r\n\t\t\r\n        //Call the class in core that starts spring (class with @SpringBootApplication)\r\n\t\tSpringApplication app = new SpringApplication(MainAppSpringConfiguration.class);\r\n\t\tapp.run(args);\r\n\t}\r\nSo there is nothing special to do. I had to stop searching for an answer at similar questions and follow the [Spring Boot documentation][2]: &quot;You can run a Spring Boot application from your IDE as a Java application.&quot;.\r\n\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/composite_builds.html\r\n  [2]: https://docs.spring.io/spring-boot/docs/3.1.1/reference/html/using.html#using.running-your-application.from-an-ide","title":"Local start/debug Spring Boot Application from dependency and include SPI","body":"<p>It is possible to debug multiple projects by using <a href=\"https://docs.gradle.org/current/userguide/composite_builds.html\" rel=\"nofollow noreferrer\">Gradle Composite Builds</a>. Add the core project and the SPI project to the email project in settings.gradle:</p>\n<pre><code>rootProject.name = 'projEmail'\n\nincludeBuild '../projCore'\nincludeBuild '../projLinux'  //SPI\n</code></pre>\n<p>The SPI must be added as test dependency, too. Then it is possible to write a starter class in the test sources - similar to the one in the core project:</p>\n<pre><code>public static void main(String[] args) \n{\n    LOG.info(&quot;Start email project with Spring Boot&quot;);\n    \n    //Call the class in core that starts spring (class with @SpringBootApplication)\n    SpringApplication app = new SpringApplication(MainAppSpringConfiguration.class);\n    app.run(args);\n}\n</code></pre>\n<p>So there is nothing special to do. I had to stop searching for an answer at similar questions and follow the <a href=\"https://docs.spring.io/spring-boot/docs/3.1.1/reference/html/using.html#using.running-your-application.from-an-ide\" rel=\"nofollow noreferrer\">Spring Boot documentation</a>: &quot;You can run a Spring Boot application from your IDE as a Java application.&quot;.</p>\n"}],"owner":{"account_id":10003134,"reputation":11,"user_id":7398453,"display_name":"Stefan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76580055,"answer_count":1,"score":-1,"last_activity_date":1688033306,"creation_date":1687185981,"question_id":76507736,"body_markdown":"We have a large project that runs after deploying, but I do not know how to start it local (Eclipse, Intellij).\r\nWe have in our core project a start configuration with a main method and it is marked as @SpringBootApplication. The core project is a dependency of our email project and some other projects. Also we have a SPI that depends on target system.\r\n\r\nI want to debug all 3 projects at once - core, email and the active SPI. I have two major problems:\r\n\r\n1) How to start the spring application? The IDE can not find the main method from the dependency. It is not a web server but an application that uses spring annotations to start.\r\n2) How to add the SPI project with source code, so I can debug it?\r\n\r\nAlso I have to mention that we use Gradle with single project builds. We will update to Java 17 and maybe it is easier to solve if we create a multiproject in Gradle? What should a build script for this use case look like?\r\n","title":"Local start/debug Spring Boot Application from dependency and include SPI","body":"<p>We have a large project that runs after deploying, but I do not know how to start it local (Eclipse, Intellij).\nWe have in our core project a start configuration with a main method and it is marked as @SpringBootApplication. The core project is a dependency of our email project and some other projects. Also we have a SPI that depends on target system.</p>\n<p>I want to debug all 3 projects at once - core, email and the active SPI. I have two major problems:</p>\n<ol>\n<li>How to start the spring application? The IDE can not find the main method from the dependency. It is not a web server but an application that uses spring annotations to start.</li>\n<li>How to add the SPI project with source code, so I can debug it?</li>\n</ol>\n<p>Also I have to mention that we use Gradle with single project builds. We will update to Java 17 and maybe it is easier to solve if we create a multiproject in Gradle? What should a build script for this use case look like?</p>\n"},{"tags":["java","ios","apple-push-notifications"],"answers":[{"tags":[],"owner":{"account_id":2351348,"reputation":373,"user_id":2060073,"display_name":"DeRauk"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1396730390,"creation_date":1396730390,"answer_id":22886499,"question_id":22525388,"body_markdown":"As stated [here](https://stackoverflow.com/questions/8387191/java-apns-apple-push-notification-service-error) java-apns is expecting the .p12 private key, not the .pem file.  \r\n\r\nThe instructions for creating a .p12 file on a mac are in the first link, but if you&#39;re using the openssl tool on linux you can create it with:\r\n\r\n    openssl pkcs12 -export -inkey mykey.key -in mykey.pem -out mykey.p12","title":"Push notification - Caused by: java.io.IOException: toDerInputStream rejects tag type 45","body":"<p>As stated <a href=\"https://stackoverflow.com/questions/8387191/java-apns-apple-push-notification-service-error\">here</a> java-apns is expecting the .p12 private key, not the .pem file.  </p>\n\n<p>The instructions for creating a .p12 file on a mac are in the first link, but if you're using the openssl tool on linux you can create it with:</p>\n\n<pre><code>openssl pkcs12 -export -inkey mykey.key -in mykey.pem -out mykey.p12\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2170438,"reputation":23500,"user_id":1922589,"accept_rate":77,"display_name":"Nurdin"},"down_vote_count":3,"up_vote_count":7,"is_accepted":true,"score":4,"last_activity_date":1398448859,"creation_date":1398448859,"answer_id":23299977,"question_id":22525388,"body_markdown":"I just found the answer. When I try to generate a P12 key, I need to select both, a private key and certificate in keychain access.\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/nabCa.png","title":"Push notification - Caused by: java.io.IOException: toDerInputStream rejects tag type 45","body":"<p>I just found the answer. When I try to generate a P12 key, I need to select both, a private key and certificate in keychain access.</p>\n\n<p><img src=\"https://i.stack.imgur.com/nabCa.png\" alt=\"enter image description here\"></p>\n"},{"tags":[],"owner":{"account_id":27371858,"reputation":1,"user_id":20877779,"display_name":"Mehmet Fatih &#199;İN"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688033054,"creation_date":1688033054,"answer_id":76580027,"question_id":22525388,"body_markdown":"You can do your question on windows as follows. Run CMD as administrator and enter the bin folder of open SSL. Then run the code below.\r\n\r\nopenssl pkcs12 -export -inkey C:\\private.key -in C:\\certificate.crt -out C:\\key.p12 -passout pass:&lt;password&gt; -name &quot;My_ECC_Key&quot;\r\n\r\nI assume you have obtained the private.key and certificate.crt files while writing the above codes.","title":"Push notification - Caused by: java.io.IOException: toDerInputStream rejects tag type 45","body":"<p>You can do your question on windows as follows. Run CMD as administrator and enter the bin folder of open SSL. Then run the code below.</p>\n<p>openssl pkcs12 -export -inkey C:\\private.key -in C:\\certificate.crt -out C:\\key.p12 -passout pass: -name &quot;My_ECC_Key&quot;</p>\n<p>I assume you have obtained the private.key and certificate.crt files while writing the above codes.</p>\n"}],"owner":{"account_id":2170438,"reputation":23500,"user_id":1922589,"accept_rate":77,"display_name":"Nurdin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60558,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":23299977,"answer_count":3,"score":16,"last_activity_date":1688033054,"creation_date":1395297831,"question_id":22525388,"body_markdown":"I got this error when my server try to push a notification to a specific device based on device token and ck.pem (combination between .pem file, cert and key). \r\n\r\n    Caused by: java.io.IOException: toDerInputStream rejects tag type 45\r\n\r\nThis is full error message appear in my eclipse console.\r\n\r\n    initial\r\n    starting push notification sending\r\n    2014/03/20 14:28:00:252 INFO  net.penril.notification.Initializer: ====Start Push Notification Sending==== \r\n    SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\r\n    SLF4J: Defaulting to no-operation (NOP) logger implementation\r\n    SLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\r\n    2014/03/20 14:28:04:737 INFO  net.penril.notification.Initializer: Total of record data(1)\r\n    SMS OID: 465\r\n    IOS test\r\n    reg id =x769571d187c15cec398c5a02f196249456e8b73f763754fa17060658f87f6f6\r\n    com.notnoop.exceptions.InvalidSSLConfig: java.io.IOException: toDerInputStream rejects tag type 45\r\n    2014/03/20 14:28:05:374 INFO  net.penril.notification.Initializer: Failed send notification to APN \r\n    2014/03/20 14:28:05:374 INFO  net.penril.notification.Initializer: ====Complete Push Notification Sending==== \r\n    2014/03/20 14:28:05:374 INFO  net.penril.notification.Initializer: =====End===== \r\n    \r\n    starting..\r\n    \tat com.notnoop.apns.internal.Utilities.newSSLContext(Utilities.java:101)\r\n    \tat com.notnoop.apns.ApnsServiceBuilder.withCert(ApnsServiceBuilder.java:170)\r\n    \tat com.notnoop.apns.ApnsServiceBuilder.withCert(ApnsServiceBuilder.java:133)\r\n    \tat net.penril.notification.Initializer.notificationWorker(Initializer.java:156)\r\n    \tat net.penril.notification.Initializer.Initial(Initializer.java:46)\r\n    \tat net.penril.notification.PushNotificationCron$Job.run(PushNotificationCron.java:12)\r\n    \tat EDU.oswego.cs.dl.util.concurrent.ClockDaemon$RunLoop.run(Unknown Source)\r\n    \tat java.lang.Thread.run(Thread.java:724)\r\n    Caused by: java.io.IOException: toDerInputStream rejects tag type 45\r\n    \tat sun.security.util.DerValue.toDerInputStream(DerValue.java:847)\r\n    \tat sun.security.pkcs12.PKCS12KeyStore.engineLoad(PKCS12KeyStore.java:1221)\r\n    \tat java.security.KeyStore.load(KeyStore.java:1214)\r\n    \tat com.notnoop.apns.internal.Utilities.newSSLContext(Utilities.java:85)\r\n    \t... 7 more\r\n\r\nI suspect this error cause by this code\r\n\r\n    System.out.println(&quot;reg id =&quot; + record.getRegId());\r\n    ApnsService service = APNS.newService().withCert(&quot;/Applications/MAMP/htdocs/xxxxx-mobile/ck.pem&quot;, &quot;xxxxxx&quot;).withSandboxDestination().build();\r\n    String payload = APNS.newPayload().alertBody(&quot;This for testing&quot;).build();\r\n    String token = record.getRegId();\r\n    service.push(token, payload);\r\n\r\nDo you have any idea about this `toDerInputStream rejects tag type 45` ?\r\n\r\nI already doing my research about this problem here:\r\n\r\n 1. [https://community.oracle.com/thread/1534340?start=0&amp;tstart=0][1]\r\n 2. [https://stackoverflow.com/questions/8387191/java-apns-apple-push-notification-service-error][2]\r\n\r\nWhy?\r\n\r\n\r\n  [1]: https://community.oracle.com/thread/1534340?start=0&amp;tstart=0\r\n  [2]: https://stackoverflow.com/questions/8387191/java-apns-apple-push-notification-service-error","title":"Push notification - Caused by: java.io.IOException: toDerInputStream rejects tag type 45","body":"<p>I got this error when my server try to push a notification to a specific device based on device token and ck.pem (combination between .pem file, cert and key). </p>\n\n<pre><code>Caused by: java.io.IOException: toDerInputStream rejects tag type 45\n</code></pre>\n\n<p>This is full error message appear in my eclipse console.</p>\n\n<pre><code>initial\nstarting push notification sending\n2014/03/20 14:28:00:252 INFO  net.penril.notification.Initializer: ====Start Push Notification Sending==== \nSLF4J: Failed to load class \"org.slf4j.impl.StaticLoggerBinder\".\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\n2014/03/20 14:28:04:737 INFO  net.penril.notification.Initializer: Total of record data(1)\nSMS OID: 465\nIOS test\nreg id =x769571d187c15cec398c5a02f196249456e8b73f763754fa17060658f87f6f6\ncom.notnoop.exceptions.InvalidSSLConfig: java.io.IOException: toDerInputStream rejects tag type 45\n2014/03/20 14:28:05:374 INFO  net.penril.notification.Initializer: Failed send notification to APN \n2014/03/20 14:28:05:374 INFO  net.penril.notification.Initializer: ====Complete Push Notification Sending==== \n2014/03/20 14:28:05:374 INFO  net.penril.notification.Initializer: =====End===== \n\nstarting..\n    at com.notnoop.apns.internal.Utilities.newSSLContext(Utilities.java:101)\n    at com.notnoop.apns.ApnsServiceBuilder.withCert(ApnsServiceBuilder.java:170)\n    at com.notnoop.apns.ApnsServiceBuilder.withCert(ApnsServiceBuilder.java:133)\n    at net.penril.notification.Initializer.notificationWorker(Initializer.java:156)\n    at net.penril.notification.Initializer.Initial(Initializer.java:46)\n    at net.penril.notification.PushNotificationCron$Job.run(PushNotificationCron.java:12)\n    at EDU.oswego.cs.dl.util.concurrent.ClockDaemon$RunLoop.run(Unknown Source)\n    at java.lang.Thread.run(Thread.java:724)\nCaused by: java.io.IOException: toDerInputStream rejects tag type 45\n    at sun.security.util.DerValue.toDerInputStream(DerValue.java:847)\n    at sun.security.pkcs12.PKCS12KeyStore.engineLoad(PKCS12KeyStore.java:1221)\n    at java.security.KeyStore.load(KeyStore.java:1214)\n    at com.notnoop.apns.internal.Utilities.newSSLContext(Utilities.java:85)\n    ... 7 more\n</code></pre>\n\n<p>I suspect this error cause by this code</p>\n\n<pre><code>System.out.println(\"reg id =\" + record.getRegId());\nApnsService service = APNS.newService().withCert(\"/Applications/MAMP/htdocs/xxxxx-mobile/ck.pem\", \"xxxxxx\").withSandboxDestination().build();\nString payload = APNS.newPayload().alertBody(\"This for testing\").build();\nString token = record.getRegId();\nservice.push(token, payload);\n</code></pre>\n\n<p>Do you have any idea about this <code>toDerInputStream rejects tag type 45</code> ?</p>\n\n<p>I already doing my research about this problem here:</p>\n\n<ol>\n<li><a href=\"https://community.oracle.com/thread/1534340?start=0&amp;tstart=0\" rel=\"noreferrer\">https://community.oracle.com/thread/1534340?start=0&amp;tstart=0</a></li>\n<li><a href=\"https://stackoverflow.com/questions/8387191/java-apns-apple-push-notification-service-error\">Java APNS (Apple Push Notification Service) error</a></li>\n</ol>\n\n<p>Why?</p>\n"},{"tags":["java","class","uml","class-diagram"],"answers":[{"tags":[],"owner":{"account_id":4589753,"reputation":69926,"user_id":3723423,"accept_rate":50,"display_name":"Christophe"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1687694289,"creation_date":1687694289,"answer_id":76550280,"question_id":76550117,"body_markdown":"You would need an association between `User` and `Investigation` if there is a structural [semantic relationship][1] between the two, for example if users have investigations assigned, if investigations are owned by some users, or if users have a list of associations to browse.   \r\n\r\nIf there is a transient relationship, e.g. if users can browse all the investigations, and from time to time decide to share one, without a trace being kept,  there would be no need for an association.  \r\n\r\nNow if `Investigation` has a `share` operation, `User` could simply use that operation, whether there are associated with the investigation or not.\r\n\r\nHowever the question arises if another class would need to tell `User` to share an investigation (e.g. a class of the user interface).  In this case, you may be interested in having a `share` operation for `User`.  But if you start like this,  you&#39;d need to have a look at the [principle of least knowledge][2],  because such a design could lead to a lot of hidden coupling that makes the software difficult to maintain in regard of future evolutions. \r\n\r\n\r\n  [1]: https://stackoverflow.com/q/25966212/3723423\r\n  [2]: https://en.wikipedia.org/wiki/Law_of_Demeter","title":"Do we apply the same operations in both classes in a UML class diagram?","body":"<p>You would need an association between <code>User</code> and <code>Investigation</code> if there is a structural <a href=\"https://stackoverflow.com/q/25966212/3723423\">semantic relationship</a> between the two, for example if users have investigations assigned, if investigations are owned by some users, or if users have a list of associations to browse.</p>\n<p>If there is a transient relationship, e.g. if users can browse all the investigations, and from time to time decide to share one, without a trace being kept,  there would be no need for an association.</p>\n<p>Now if <code>Investigation</code> has a <code>share</code> operation, <code>User</code> could simply use that operation, whether there are associated with the investigation or not.</p>\n<p>However the question arises if another class would need to tell <code>User</code> to share an investigation (e.g. a class of the user interface).  In this case, you may be interested in having a <code>share</code> operation for <code>User</code>.  But if you start like this,  you'd need to have a look at the <a href=\"https://en.wikipedia.org/wiki/Law_of_Demeter\" rel=\"nofollow noreferrer\">principle of least knowledge</a>,  because such a design could lead to a lot of hidden coupling that makes the software difficult to maintain in regard of future evolutions.</p>\n"},{"tags":[],"owner":{"account_id":7177885,"reputation":5820,"user_id":5483079,"accept_rate":60,"display_name":"www.admiraalit.nl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688032954,"creation_date":1688032954,"answer_id":76580013,"question_id":76550117,"body_markdown":"It depends on the purpose of the class diagram.\r\n\r\nIf the class diagram is a model of the real world, then the operations shall reflect the behaviour of the instances of the classes. In the real world, investigations don&#39;t share themselves. Instead, a person shares it. &#39;Share&#39; is an operation of Person and it has an investigation as a parameter.\r\n\r\nIf the class diagram is a model of how an application works, then the operations shall reflect the behaviour of the piece of software represented by the class. In the application, User and Investigation are classes in some object-oriented programming language. The operations of the classes are meant to be called at some event, e.g. when a button is pressed. Maybe Investigation has a boolean attribute &#39;isShared&#39;. In that case, operation &#39;share&#39; shall be on class Investigation in order to set the attribute to true. Alternatively, less likely, class User may own a list of shared Investigations. In that case, operation &#39;share&#39; shall be on class User in order to add one investigation to the list.\r\n\r\nThese are only two possible purposes of the class diagram. There are more. Determine the purpose of your class diagram and then make your choice. There is no single correct solution.\r\n","title":"Do we apply the same operations in both classes in a UML class diagram?","body":"<p>It depends on the purpose of the class diagram.</p>\n<p>If the class diagram is a model of the real world, then the operations shall reflect the behaviour of the instances of the classes. In the real world, investigations don't share themselves. Instead, a person shares it. 'Share' is an operation of Person and it has an investigation as a parameter.</p>\n<p>If the class diagram is a model of how an application works, then the operations shall reflect the behaviour of the piece of software represented by the class. In the application, User and Investigation are classes in some object-oriented programming language. The operations of the classes are meant to be called at some event, e.g. when a button is pressed. Maybe Investigation has a boolean attribute 'isShared'. In that case, operation 'share' shall be on class Investigation in order to set the attribute to true. Alternatively, less likely, class User may own a list of shared Investigations. In that case, operation 'share' shall be on class User in order to add one investigation to the list.</p>\n<p>These are only two possible purposes of the class diagram. There are more. Determine the purpose of your class diagram and then make your choice. There is no single correct solution.</p>\n"}],"owner":{"account_id":14804000,"reputation":45,"user_id":10691516,"display_name":"coder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76550280,"answer_count":2,"score":2,"last_activity_date":1688032954,"creation_date":1687691522,"question_id":76550117,"body_markdown":"I&#39;m getting really paranoid about class diagrams. Let&#39;s say I have a class named `Investigation`. In that class there is an operation named `share` which allows a user to share the investigation. Let&#39;s say I also have a class named `User`. Should the class `User` also have an operation named `share` because the user can share the investigation?  I&#39;m getting really confused. Will association fix this? ","title":"Do we apply the same operations in both classes in a UML class diagram?","body":"<p>I'm getting really paranoid about class diagrams. Let's say I have a class named <code>Investigation</code>. In that class there is an operation named <code>share</code> which allows a user to share the investigation. Let's say I also have a class named <code>User</code>. Should the class <code>User</code> also have an operation named <code>share</code> because the user can share the investigation?  I'm getting really confused. Will association fix this?</p>\n"},{"tags":["java","spring","spring-boot","mariadb","timezone"],"comments":[{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1687975055,"post_id":76575268,"comment_id":135013159,"body_markdown":"Please add more details on how you are reading from database? JDBC? JPA? other? Share the relevant code.","body":"Please add more details on how you are reading from database? JDBC? JPA? other? Share the relevant code."},{"owner":{"account_id":11320426,"reputation":403,"user_id":8300911,"display_name":"J&#233;r&#233;my"},"score":0,"creation_date":1688030975,"post_id":76575268,"comment_id":135020261,"body_markdown":"I have add some information. I use spring jpa with springboot datasource configuration over jdbc connecror and jpa crud repository to do that.","body":"I have add some information. I use spring jpa with springboot datasource configuration over jdbc connecror and jpa crud repository to do that."}],"answers":[{"tags":[],"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688032901,"creation_date":1688032901,"answer_id":76580007,"question_id":76575268,"body_markdown":"If the time zone configured in the database differs from the default time zone of the application we need to instruct JDBC to use the database time zone for the conversion. Add following property:\r\n```\r\nspring.jpa.properties.hibernate.jdbc.time_zone=CET\r\n```","title":"How to convert Timestamp from CET mariadb to java UTC Localdatetime?","body":"<p>If the time zone configured in the database differs from the default time zone of the application we need to instruct JDBC to use the database time zone for the conversion. Add following property:</p>\n<pre><code>spring.jpa.properties.hibernate.jdbc.time_zone=CET\n</code></pre>\n"}],"owner":{"account_id":11320426,"reputation":403,"user_id":8300911,"display_name":"J&#233;r&#233;my"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76580007,"answer_count":1,"score":0,"last_activity_date":1688032901,"creation_date":1687971269,"question_id":76575268,"body_markdown":"I have a CET MariaDB Database containing a lot of Timestamp (Unix Epoch) and i want to convert this data to LocalDateTime with UTC Timezone.\r\n\r\nAs you can see my MariaDB Database used the CET timezone (the first line is the command, the second is the sql result) :\r\n\r\n    select @@system_time_zone as tz;\r\n    CET\r\n\r\nAnd my application used UTC (the first line is the command, the second is the console result) :\r\n\r\n    System.out.println(&quot;Setting the timezone::&gt;&quot; + TimeZone.getDefault());\r\n    Setting the timezone::&gt;sun.util.calendar.ZoneInfo[id=&quot;Etc/UTC&quot;,offset=0,dstSavings=0,useDaylight=false,transitions=0,lastRule=null]\r\n\r\nI use springboot 2.6.4.\r\n\r\n    import lombok.AllArgsConstructor;\r\n    import lombok.Builder;\r\n    import lombok.Getter;\r\n    import lombok.NoArgsConstructor;\r\n    import lombok.Setter;\r\n    import lombok.experimental.FieldNameConstants;\r\n    \r\n    import javax.persistence.Column;\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.GeneratedValue;\r\n    import javax.persistence.GenerationType;\r\n    import javax.persistence.Id;\r\n    import java.time.LocalDateTime;\r\n    \r\n    @Getter\r\n    @Setter\r\n    @Entity(name = &quot;example&quot;)\r\n    @Builder\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @FieldNameConstants\r\n    public class ExampleEntity implements IEntity {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private long notificationId;\r\n    \r\n        @Column(updatable = false)\r\n        private LocalDateTime creationDate;\r\n    }\r\n\r\nThis entity is used by Spring jpa repository (findAll method) :\r\n\r\n    import com.application.infra.db.entity.ExampleEntity;\r\n    import org.springframework.data.jpa.repository.JpaSpecificationExecutor;\r\n    import org.springframework.data.repository.CrudRepository;\r\n    import org.springframework.stereotype.Repository;\r\n    \r\n    @Repository\r\n    public interface ExampleRepository extends CrudRepository&lt;ExampleEntity, Long&gt;, JpaSpecificationExecutor&lt;ExampleEntity&gt; {\r\n    \r\n    }\r\n\r\nAnd i have configured springboot datasource :\r\n\r\n    spring:\r\n      application:\r\n        name: &#39;@project.name@&#39;\r\n      datasource:\r\n        url: jdbc:mariadb://mariadbdatabase:6666/example}\r\n        username: example_user\r\n        password: example_password\r\n        driver-class-name: org.mariadb.jdbc.Driver\r\n\r\nIs it possible to get a LocalDateTime converted to UTC TimeZone ?\r\n\r\n&gt; I have try to use `timezone` connector parameter but it does nothing. :(\r\n\r\nThanks for your help !","title":"How to convert Timestamp from CET mariadb to java UTC Localdatetime?","body":"<p>I have a CET MariaDB Database containing a lot of Timestamp (Unix Epoch) and i want to convert this data to LocalDateTime with UTC Timezone.</p>\n<p>As you can see my MariaDB Database used the CET timezone (the first line is the command, the second is the sql result) :</p>\n<pre><code>select @@system_time_zone as tz;\nCET\n</code></pre>\n<p>And my application used UTC (the first line is the command, the second is the console result) :</p>\n<pre><code>System.out.println(&quot;Setting the timezone::&gt;&quot; + TimeZone.getDefault());\nSetting the timezone::&gt;sun.util.calendar.ZoneInfo[id=&quot;Etc/UTC&quot;,offset=0,dstSavings=0,useDaylight=false,transitions=0,lastRule=null]\n</code></pre>\n<p>I use springboot 2.6.4.</p>\n<pre><code>import lombok.AllArgsConstructor;\nimport lombok.Builder;\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport lombok.Setter;\nimport lombok.experimental.FieldNameConstants;\n\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport java.time.LocalDateTime;\n\n@Getter\n@Setter\n@Entity(name = &quot;example&quot;)\n@Builder\n@AllArgsConstructor\n@NoArgsConstructor\n@FieldNameConstants\npublic class ExampleEntity implements IEntity {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private long notificationId;\n\n    @Column(updatable = false)\n    private LocalDateTime creationDate;\n}\n</code></pre>\n<p>This entity is used by Spring jpa repository (findAll method) :</p>\n<pre><code>import com.application.infra.db.entity.ExampleEntity;\nimport org.springframework.data.jpa.repository.JpaSpecificationExecutor;\nimport org.springframework.data.repository.CrudRepository;\nimport org.springframework.stereotype.Repository;\n\n@Repository\npublic interface ExampleRepository extends CrudRepository&lt;ExampleEntity, Long&gt;, JpaSpecificationExecutor&lt;ExampleEntity&gt; {\n\n}\n</code></pre>\n<p>And i have configured springboot datasource :</p>\n<pre><code>spring:\n  application:\n    name: '@project.name@'\n  datasource:\n    url: jdbc:mariadb://mariadbdatabase:6666/example}\n    username: example_user\n    password: example_password\n    driver-class-name: org.mariadb.jdbc.Driver\n</code></pre>\n<p>Is it possible to get a LocalDateTime converted to UTC TimeZone ?</p>\n<blockquote>\n<p>I have try to use <code>timezone</code> connector parameter but it does nothing. :(</p>\n</blockquote>\n<p>Thanks for your help !</p>\n"},{"tags":["javascript","java","android","react-native","frontend"],"comments":[{"owner":{"account_id":2435625,"reputation":5183,"user_id":2125612,"display_name":"Jickson"},"score":0,"creation_date":1463115783,"post_id":37200627,"comment_id":61935162,"body_markdown":"Can you share the details about the library which you want to use in react native?","body":"Can you share the details about the library which you want to use in react native?"}],"answers":[{"tags":[],"owner":{"account_id":2435625,"reputation":5183,"user_id":2125612,"display_name":"Jickson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1463118594,"creation_date":1463118594,"answer_id":37202111,"question_id":37200627,"body_markdown":"To integrate jar file to android see [here][1].\r\n\r\n\r\nIn order to access the library functionality you need to create a react-native module for the functionalities which you want to access through javascript. For more info refer [this][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/16608135/android-studio-add-jar-as-library\r\n  [2]: http://facebook.github.io/react-native/docs/native-modules-android.html#content","title":"How to include &#39;.jar&#39; files in the React-native for Android?","body":"<p>To integrate jar file to android see <a href=\"https://stackoverflow.com/questions/16608135/android-studio-add-jar-as-library\">here</a>.</p>\n\n<p>In order to access the library functionality you need to create a react-native module for the functionalities which you want to access through javascript. For more info refer <a href=\"http://facebook.github.io/react-native/docs/native-modules-android.html#content\" rel=\"nofollow noreferrer\">this</a></p>\n"},{"tags":[],"owner":{"account_id":1788813,"reputation":13031,"user_id":3765109,"accept_rate":77,"display_name":"efkan"},"down_vote_count":0,"up_vote_count":24,"is_accepted":true,"score":24,"last_activity_date":1524159354,"creation_date":1467373993,"answer_id":38144780,"question_id":37200627,"body_markdown":"Adding `*.jar` to the Project is done by using `build.gradle` file:\r\n\r\n - If you want to add a `jar` file to the project, Facebook had already done on your behalf! &lt;br&gt;**Just add a `libs` folder into the `android/app` directory of the project with your `jar` file** and enjoy! &lt;br&gt;\r\n\r\n[![enter image description here][1]][1]\r\n\r\n - If you want to add a `jar` file to a `native-module` then add the line of `compile fileTree(dir: &quot;libs&quot;, include: [&quot;*.jar&quot;])` into the `dependencies` part of `build.gradle` file of the native-module. \r\n\r\n\r\n**Example-1:**\r\n\r\nAfter I added *okhttp-3.4.1.jar* file into the lib folder, I also add that package name to the dependencies part as the following:\r\n\r\n    dependencies {\r\n        compile fileTree(dir: &quot;libs&quot;, include: [&quot;*.jar&quot;])\r\n        compile &#39;com.facebook.react:react-native:0.19.+&#39;\r\n    }\r\n\r\n\r\n**Example-2:**\r\n\r\nIf I need another package -that is found in Maven repo- I have to add into dependencies block as following (for instance I wanna add `fresco`):\r\n\r\n    dependencies {\r\n        compile &#39;com.facebook.fresco:fresco:1.9.0&#39;\r\n    }\r\n\r\n\r\nThen Gradle will find and install [dependency library Fresco][2] for me.\r\n\r\nUsually, every Android project has already Maven repo. configurations in `build.gradle` file which is found in top of folder of the project.\r\nFor example:\r\n\r\n    allprojects {\r\n        repositories {\r\n            jcenter()\r\n            maven {\r\n                url &quot;https://maven.google.com&quot;\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n**Example-3:**\r\n\r\n(I have never tried this however it should be worked) &lt;br&gt;\r\nIf I have an `drawee-debug.aar` file I can add it into my project by putting it into `lib` folder as directed on Example-1 then I have to change `fileTree` line as following:\r\n\r\n    compile fileTree(dir: &quot;libs&quot;, include: [&quot;*.jar&quot;, &quot;*.aar&quot;])  // &quot;*.aar&quot; is added\r\n\r\n\r\n**Example-4:**\r\n\r\n(alternate way of Example-3) &lt;br&gt;\r\nIf I have an `drawee-debug.aar` file also I can add it into my project by putting it into `lib` folder as directed on Example-1 then I have to change and add some lines as following:\r\n\r\n    dependencies {\r\n        compile (name:&#39;drawee-debug&#39;, ext:&#39;aar&#39;)\r\n    }\r\n\r\n    allprojects {\r\n        repositories {\r\n            ...\r\n\t\t    flatDir {\r\n\t\t\t    dirs &#39;libs&#39;, &#39;./libs&#39;\r\n\t\t    }\r\n            ...\r\n        }\r\n    }\r\n\r\nIn this way, `libs` directory is defined in `allprojects` folder and `aar` file specified in `dependencies` block, like othe examples. \r\n\r\n\r\n**Note** that after Gradle v3.0.1 `implementation` is used instead `compile` key word.\r\n\r\n\r\n\r\nKudos: https://stackoverflow.com/a/37092426/3765109\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/ub6Yt.png\r\n  [2]: http://mvnrepository.com/artifact/com.facebook.fresco/fresco/1.9.0","title":"How to include &#39;.jar&#39; files in the React-native for Android?","body":"<p>Adding <code>*.jar</code> to the Project is done by using <code>build.gradle</code> file:</p>\n\n<ul>\n<li>If you want to add a <code>jar</code> file to the project, Facebook had already done on your behalf! <br><strong>Just add a <code>libs</code> folder into the <code>android/app</code> directory of the project with your <code>jar</code> file</strong> and enjoy! <br></li>\n</ul>\n\n<p><a href=\"https://i.stack.imgur.com/ub6Yt.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/ub6Yt.png\" alt=\"enter image description here\"></a></p>\n\n<ul>\n<li>If you want to add a <code>jar</code> file to a <code>native-module</code> then add the line of <code>compile fileTree(dir: \"libs\", include: [\"*.jar\"])</code> into the <code>dependencies</code> part of <code>build.gradle</code> file of the native-module. </li>\n</ul>\n\n<p><strong>Example-1:</strong></p>\n\n<p>After I added <em>okhttp-3.4.1.jar</em> file into the lib folder, I also add that package name to the dependencies part as the following:</p>\n\n<pre><code>dependencies {\n    compile fileTree(dir: \"libs\", include: [\"*.jar\"])\n    compile 'com.facebook.react:react-native:0.19.+'\n}\n</code></pre>\n\n<p><strong>Example-2:</strong></p>\n\n<p>If I need another package -that is found in Maven repo- I have to add into dependencies block as following (for instance I wanna add <code>fresco</code>):</p>\n\n<pre><code>dependencies {\n    compile 'com.facebook.fresco:fresco:1.9.0'\n}\n</code></pre>\n\n<p>Then Gradle will find and install <a href=\"http://mvnrepository.com/artifact/com.facebook.fresco/fresco/1.9.0\" rel=\"noreferrer\">dependency library Fresco</a> for me.</p>\n\n<p>Usually, every Android project has already Maven repo. configurations in <code>build.gradle</code> file which is found in top of folder of the project.\nFor example:</p>\n\n<pre><code>allprojects {\n    repositories {\n        jcenter()\n        maven {\n            url \"https://maven.google.com\"\n        }\n    }\n}\n</code></pre>\n\n<p><strong>Example-3:</strong></p>\n\n<p>(I have never tried this however it should be worked) <br>\nIf I have an <code>drawee-debug.aar</code> file I can add it into my project by putting it into <code>lib</code> folder as directed on Example-1 then I have to change <code>fileTree</code> line as following:</p>\n\n<pre><code>compile fileTree(dir: \"libs\", include: [\"*.jar\", \"*.aar\"])  // \"*.aar\" is added\n</code></pre>\n\n<p><strong>Example-4:</strong></p>\n\n<p>(alternate way of Example-3) <br>\nIf I have an <code>drawee-debug.aar</code> file also I can add it into my project by putting it into <code>lib</code> folder as directed on Example-1 then I have to change and add some lines as following:</p>\n\n<pre><code>dependencies {\n    compile (name:'drawee-debug', ext:'aar')\n}\n\nallprojects {\n    repositories {\n        ...\n        flatDir {\n            dirs 'libs', './libs'\n        }\n        ...\n    }\n}\n</code></pre>\n\n<p>In this way, <code>libs</code> directory is defined in <code>allprojects</code> folder and <code>aar</code> file specified in <code>dependencies</code> block, like othe examples. </p>\n\n<p><strong>Note</strong> that after Gradle v3.0.1 <code>implementation</code> is used instead <code>compile</code> key word.</p>\n\n<p>Kudos: <a href=\"https://stackoverflow.com/a/37092426/3765109\">https://stackoverflow.com/a/37092426/3765109</a></p>\n"}],"owner":{"account_id":8068537,"reputation":145,"user_id":6081960,"display_name":"assert"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15025,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":38144780,"answer_count":2,"score":14,"last_activity_date":1688032791,"creation_date":1463109146,"question_id":37200627,"body_markdown":"My English is poor.  \r\n\r\nI&#39;m a FRONT-END developer.  \r\n\r\nNow we need an App can use Bluetooth Printer, coding with React-Native for Android.  \r\n\r\nThe Printer&#39;s manufacturer provided a SDK file,extension is &#39;jar&#39;. \r\n \r\nPlease tell me how to use this SDK in the React-Native? then how to import in the JSX files?\r\n","title":"How to include &#39;.jar&#39; files in the React-native for Android?","body":"<p>My English is poor.  </p>\n\n<p>I'm a FRONT-END developer.  </p>\n\n<p>Now we need an App can use Bluetooth Printer, coding with React-Native for Android.  </p>\n\n<p>The Printer's manufacturer provided a SDK file,extension is 'jar'. </p>\n\n<p>Please tell me how to use this SDK in the React-Native? then how to import in the JSX files?</p>\n"},{"tags":["java","arraylist"],"comments":[{"owner":{"account_id":14283811,"reputation":6405,"user_id":10317684,"display_name":"Ricky Mo"},"score":1,"creation_date":1687751193,"post_id":76553388,"comment_id":134975054,"body_markdown":"Does this answer your question? [How to create a generic array in Java?](https://stackoverflow.com/questions/529085/how-to-create-a-generic-array-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/529085/how-to-create-a-generic-array-in-java\">How to create a generic array in Java?</a>"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":2,"creation_date":1687751474,"post_id":76553388,"comment_id":134975073,"body_markdown":"Why? Why not a `List&lt;List&lt;String&gt;&gt;`? More, err, generic that way.","body":"Why? Why not a <code>List&lt;List&lt;String&gt;&gt;</code>? More, err, generic that way."},{"owner":{"account_id":28695489,"reputation":611,"user_id":21973805,"display_name":"Ahmed Nabil"},"score":0,"creation_date":1687752500,"post_id":76553388,"comment_id":134975165,"body_markdown":"Does this answer your question? [How can I create an Array of ArrayLists?](https://stackoverflow.com/questions/8559092/how-can-i-create-an-array-of-arraylists)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/8559092/how-can-i-create-an-array-of-arraylists\">How can I create an Array of ArrayLists?</a>"},{"owner":{"account_id":6104455,"reputation":4456,"user_id":4762502,"accept_rate":73,"display_name":"Gaurav Jeswani"},"score":0,"creation_date":1687752551,"post_id":76553388,"comment_id":134975169,"body_markdown":"Can you give some example, what you mean by converting List&lt;List&lt;String&gt;&gt; to List&lt;String&gt;?","body":"Can you give some example, what you mean by converting List&lt;List&lt;String&gt;&gt; to List&lt;String&gt;?"},{"owner":{"account_id":5611077,"reputation":5944,"user_id":4443784,"accept_rate":72,"display_name":"Tom"},"score":0,"creation_date":1687753251,"post_id":76553388,"comment_id":134975227,"body_markdown":"@GauravJeswani I would like to convert List&lt;List&lt;String&gt;&gt; to an array of List&lt;String&gt;, this are two cases to demonstrate my question.","body":"@GauravJeswani I would like to convert List&lt;List&lt;String&gt;&gt; to an array of List&lt;String&gt;, this are two cases to demonstrate my question."},{"owner":{"account_id":10838690,"reputation":3209,"user_id":7970787,"display_name":"Alex R"},"score":0,"creation_date":1687753474,"post_id":76553388,"comment_id":134975243,"body_markdown":"@Tom If you _really_ need to, you can do: `List&lt;?&gt;[] arr = results.stream().toArray(List&lt;?&gt;[]::new)`, cast the result to `List&lt;String&gt;[]` and suppress the warning.","body":"@Tom If you <i>really</i> need to, you can do: <code>List&lt;?&gt;[] arr = results.stream().toArray(List&lt;?&gt;[]::new)</code>, cast the result to <code>List&lt;String&gt;[]</code> and suppress the warning."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1687754228,"post_id":76553388,"comment_id":134975328,"body_markdown":"Sounds like an [XY Problem](https://xyproblem.info/)","body":"Sounds like an <a href=\"https://xyproblem.info/\" rel=\"nofollow noreferrer\">XY Problem</a>"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1687754291,"post_id":76553388,"comment_id":134975334,"body_markdown":"Does this help? [Creating a Generic Array in Java](https://www.baeldung.com/java-generic-array)","body":"Does this help? <a href=\"https://www.baeldung.com/java-generic-array\" rel=\"nofollow noreferrer\">Creating a Generic Array in Java</a>"}],"answers":[{"tags":[],"owner":{"account_id":16400961,"reputation":814,"user_id":11846953,"display_name":"John Bayko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687752911,"creation_date":1687752911,"answer_id":76553477,"question_id":76553388,"body_markdown":"The short answer is you can&#39;t, Java arrays don&#39;t support generic types.\r\n\r\nThere are very few cases where you can&#39;t use a `List&lt;List&lt;String&gt;&gt;` instead of an array of `List&lt;String&gt;`. Try that first and come back if you can&#39;t do that.\r\n\r\nBasically, your choices are make an array of `Object`, and cast the elements to `(List&lt;String&gt;)` when you access them, or make an array of `List`, and again cast to `(List&lt;String&gt;)` if you need to.\r\n\r\nOr make a wrapper around the array that will do the casting for you. Which is what a `List&lt;List&lt;String&gt;&gt;` is, so you&#39;re back to that question - why not do that?","title":"How to create an array of List&lt;String&gt;","body":"<p>The short answer is you can't, Java arrays don't support generic types.</p>\n<p>There are very few cases where you can't use a <code>List&lt;List&lt;String&gt;&gt;</code> instead of an array of <code>List&lt;String&gt;</code>. Try that first and come back if you can't do that.</p>\n<p>Basically, your choices are make an array of <code>Object</code>, and cast the elements to <code>(List&lt;String&gt;)</code> when you access them, or make an array of <code>List</code>, and again cast to <code>(List&lt;String&gt;)</code> if you need to.</p>\n<p>Or make a wrapper around the array that will do the casting for you. Which is what a <code>List&lt;List&lt;String&gt;&gt;</code> is, so you're back to that question - why not do that?</p>\n"},{"tags":[],"owner":{"account_id":13808553,"reputation":513,"user_id":9966834,"display_name":"Sachin Mewar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687758612,"creation_date":1687758612,"answer_id":76553836,"question_id":76553388,"body_markdown":"Array of generic type are not supported in java.\r\nInstead if you create an array like\r\n\r\nList&lt;String&gt;[] array = new List[10];\r\nThan it will work.\r\n\r\nPlease refer the below question for more details:\r\n\r\nhttps://stackoverflow.com/questions/2927391/whats-the-reason-i-cant-create-generic-array-types-in-java#:~:text=It&#39;s%20because%20Java&#39;s%20arrays%20","title":"How to create an array of List&lt;String&gt;","body":"<p>Array of generic type are not supported in java.\nInstead if you create an array like</p>\n<p>List[] array = new List[10];\nThan it will work.</p>\n<p>Please refer the below question for more details:</p>\n<p><a href=\"https://stackoverflow.com/questions/2927391/whats-the-reason-i-cant-create-generic-array-types-in-java#:%7E:text=It%27s%20because%20Java%27s%20arrays%20\">https://stackoverflow.com/questions/2927391/whats-the-reason-i-cant-create-generic-array-types-in-java#:~:text=It's%20because%20Java's%20arrays%20</a></p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687785101,"creation_date":1687783354,"answer_id":76556802,"question_id":76553388,"body_markdown":"Try it like this. Just omit the generic type in the `toArray` method.  The suppress warnings removes the compiler&#39;s type safety warning (you may get a runtime class cast exception if the resulting types don&#39;t match since the types are erased).  But in this case, it isn&#39;t a problem.\r\n```\r\nList&lt;List&lt;String&gt;&gt; results = new ArrayList&lt;&gt;(\r\n        List.of(List.of(&quot;ABC&quot;, &quot;DEF&quot;), List.of(&quot;GHI&quot;, &quot;JKL&quot;)));\r\n\r\n@SuppressWarnings(&quot;unchecked&quot;)\r\nList&lt;String&gt;[] array = results.stream().toArray(List[]::new);\r\nfor (List&lt;String&gt; lst : array) {\r\n    System.out.println(lst);\r\n}\r\n\r\nString a = array[0].get(1);\r\nSystem.out.println(a);\r\n```\r\nprints\r\n```\r\n[ABC, DEF]\r\n[GHI, JKL]\r\nDEF\r\n```\r\nContrast the following using the same data and see what happens when you try to get an `&quot;Integer&quot;` from a list in the array.\r\n```\r\n@SuppressWarnings(&quot;unchecked&quot;)\r\nList&lt;Integer&gt;[] array = results.stream().toArray(List[]::new);\r\nInteger a = array[0].get(1);  // class cast exception!!\r\nSystem.out.println(a);\r\n```\r\nAnd finally, you can also do it sans streams.\r\n```\r\n@SuppressWarnings(&quot;unchecked&quot;)\r\nList&lt;String&gt;[] arr = new ArrayList[2];\r\narr[0] = new ArrayList&lt;&gt;(List.of(&quot;ABC&quot;,&quot;DEF&quot;));\r\narr[1] = new ArrayList&lt;&gt;(List.of(&quot;GHI&quot;,&quot;JKL&quot;));\r\n\r\nString a = arr[1].get(0);\r\nSystem.out.println(a);\r\n```\r\nprints\r\n```\r\nGHI","title":"How to create an array of List&lt;String&gt;","body":"<p>Try it like this. Just omit the generic type in the <code>toArray</code> method.  The suppress warnings removes the compiler's type safety warning (you may get a runtime class cast exception if the resulting types don't match since the types are erased).  But in this case, it isn't a problem.</p>\n<pre><code>List&lt;List&lt;String&gt;&gt; results = new ArrayList&lt;&gt;(\n        List.of(List.of(&quot;ABC&quot;, &quot;DEF&quot;), List.of(&quot;GHI&quot;, &quot;JKL&quot;)));\n\n@SuppressWarnings(&quot;unchecked&quot;)\nList&lt;String&gt;[] array = results.stream().toArray(List[]::new);\nfor (List&lt;String&gt; lst : array) {\n    System.out.println(lst);\n}\n\nString a = array[0].get(1);\nSystem.out.println(a);\n</code></pre>\n<p>prints</p>\n<pre><code>[ABC, DEF]\n[GHI, JKL]\nDEF\n</code></pre>\n<p>Contrast the following using the same data and see what happens when you try to get an <code>&quot;Integer&quot;</code> from a list in the array.</p>\n<pre><code>@SuppressWarnings(&quot;unchecked&quot;)\nList&lt;Integer&gt;[] array = results.stream().toArray(List[]::new);\nInteger a = array[0].get(1);  // class cast exception!!\nSystem.out.println(a);\n</code></pre>\n<p>And finally, you can also do it sans streams.</p>\n<pre><code>@SuppressWarnings(&quot;unchecked&quot;)\nList&lt;String&gt;[] arr = new ArrayList[2];\narr[0] = new ArrayList&lt;&gt;(List.of(&quot;ABC&quot;,&quot;DEF&quot;));\narr[1] = new ArrayList&lt;&gt;(List.of(&quot;GHI&quot;,&quot;JKL&quot;));\n\nString a = arr[1].get(0);\nSystem.out.println(a);\n</code></pre>\n<p>prints</p>\n<pre><code>GHI\n</code></pre>\n"}],"owner":{"account_id":5611077,"reputation":5944,"user_id":4443784,"accept_rate":72,"display_name":"Tom"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1688032454,"creation_date":1687750839,"question_id":76553388,"body_markdown":"I use following code to create an array of `List&lt;String`&gt;, but the compiler complains `generic array creation`:\r\n\r\n`List&lt;String&gt;[] array = new List&lt;String&gt;[10];`\r\n\r\nAlso, I would like to convert a list of `List&lt;String&gt;`, the compiler also comlains `generic array creation` with the following code:\r\n\r\n```\r\n        List&lt;List&lt;String&gt;&gt; results = new ArrayList&lt;&gt;();\r\n        results.stream().toArray(List&lt;String&gt;[]::new);\r\n\r\n```\r\n\r\nI would like to ask how to create an array of `List&lt;String&gt;`, and how to convert `List&lt;List&lt;String&gt;&gt;`  to an array of `List&lt;String&gt;`\r\n\r\n\r\n","title":"How to create an array of List&lt;String&gt;","body":"<p>I use following code to create an array of <code>List&lt;String</code>&gt;, but the compiler complains <code>generic array creation</code>:</p>\n<p><code>List&lt;String&gt;[] array = new List&lt;String&gt;[10];</code></p>\n<p>Also, I would like to convert a list of <code>List&lt;String&gt;</code>, the compiler also comlains <code>generic array creation</code> with the following code:</p>\n<pre><code>        List&lt;List&lt;String&gt;&gt; results = new ArrayList&lt;&gt;();\n        results.stream().toArray(List&lt;String&gt;[]::new);\n\n</code></pre>\n<p>I would like to ask how to create an array of <code>List&lt;String&gt;</code>, and how to convert <code>List&lt;List&lt;String&gt;&gt;</code>  to an array of <code>List&lt;String&gt;</code></p>\n"},{"tags":["java","testing","automation","testng","testng-dataprovider"],"owner":{"account_id":21878506,"reputation":1,"user_id":16167192,"display_name":"Pragadeesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688032434,"creation_date":1687949733,"question_id":76572479,"body_markdown":"Below is `TestStatusListener` class which implements `ITestListener`, where I am using it in `onTestStart` method calling `getTestName()` but couldn`t see test names printing. Can someone help.\r\n\r\n\r\n    public class TestStatusListener extends API implements ITestListener,ITest {\r\n\r\n        ExtentTest test;\r\n        ExtentReports extent = ExtentManager.getReporter();\r\n        ThreadLocal&lt;ExtentTest&gt; threadSafe = new ThreadLocal&lt;&gt;();\r\n        private ThreadLocal&lt;String&gt; testName = new ThreadLocal&lt;&gt;();\r\n\r\n        @Test(dataProvider = &quot;tokenTypes&quot;, dataProviderClass = API.class)\r\n        @org.testng.annotations.BeforeMethod\r\n        public void BeforeMethod(Method method, TokenType testData) {\r\n            testName.set(method.getName() + &quot;_&quot; + testData);\r\n        }\r\n\r\n        @Override\r\n        public String getTestName() {\r\n            return testName.get();\r\n        }\r\n        \r\n        ///\r\n        \r\n        public void onTestStart(ITestResult iTestResult) {\r\n            test = extent.createTest(iTestResult.getMethod().getMethodName()).assignAuthor(&quot;Core Automation Team&quot;).assignCategory(&quot;Regression&quot;).assignDevice(&quot;Window 10&quot;);\r\n            threadSafe.set(test);\r\n            System.out.println(&quot;Initializing test method &quot; + getTestMethodName(iTestResult) + getTestName() + &quot; start&quot;);\r\n        }\r\n    }","title":"Override TestNG Test name using dataprovider but the @DataProvider is present in a different Class","body":"<p>Below is <code>TestStatusListener</code> class which implements <code>ITestListener</code>, where I am using it in <code>onTestStart</code> method calling <code>getTestName()</code> but couldn`t see test names printing. Can someone help.</p>\n<pre><code>public class TestStatusListener extends API implements ITestListener,ITest {\n\n    ExtentTest test;\n    ExtentReports extent = ExtentManager.getReporter();\n    ThreadLocal&lt;ExtentTest&gt; threadSafe = new ThreadLocal&lt;&gt;();\n    private ThreadLocal&lt;String&gt; testName = new ThreadLocal&lt;&gt;();\n\n    @Test(dataProvider = &quot;tokenTypes&quot;, dataProviderClass = API.class)\n    @org.testng.annotations.BeforeMethod\n    public void BeforeMethod(Method method, TokenType testData) {\n        testName.set(method.getName() + &quot;_&quot; + testData);\n    }\n\n    @Override\n    public String getTestName() {\n        return testName.get();\n    }\n    \n    ///\n    \n    public void onTestStart(ITestResult iTestResult) {\n        test = extent.createTest(iTestResult.getMethod().getMethodName()).assignAuthor(&quot;Core Automation Team&quot;).assignCategory(&quot;Regression&quot;).assignDevice(&quot;Window 10&quot;);\n        threadSafe.set(test);\n        System.out.println(&quot;Initializing test method &quot; + getTestMethodName(iTestResult) + getTestName() + &quot; start&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","algorithm","list"],"comments":[{"owner":{"account_id":277434,"reputation":11207,"user_id":571433,"accept_rate":79,"display_name":"Dante May Code"},"score":2,"creation_date":1303272612,"post_id":5725370,"comment_id":6547600,"body_markdown":"Quick but stupid: sort and compare.","body":"Quick but stupid: sort and compare."},{"owner":{"account_id":278210,"reputation":176444,"user_id":572670,"accept_rate":92,"display_name":"amit"},"score":0,"creation_date":1303272747,"post_id":5725370,"comment_id":6547620,"body_markdown":"order matters? can there be dupes? because in these cases the trivial might even not be true. if it does not matter and no dupes, I advise using a Set and not a List.","body":"order matters? can there be dupes? because in these cases the trivial might even not be true. if it does not matter and no dupes, I advise using a Set and not a List."},{"owner":{"account_id":145322,"reputation":18551,"user_id":355044,"accept_rate":91,"display_name":"Meow"},"score":0,"creation_date":1303272997,"post_id":5725370,"comment_id":6547647,"body_markdown":"@amit: There would be no duplicate values and order does not matter.","body":"@amit: There would be no duplicate values and order does not matter."},{"owner":{"account_id":278210,"reputation":176444,"user_id":572670,"accept_rate":92,"display_name":"amit"},"score":0,"creation_date":1303273149,"post_id":5725370,"comment_id":6547674,"body_markdown":"then I vote for the suggested hash solutions, but I still think (at least for readability) using a Set is more approppriate then a List (unless it is critical performance issue and the insertion overhead cannot be taken)","body":"then I vote for the suggested hash solutions, but I still think (at least for readability) using a Set is more approppriate then a List (unless it is critical performance issue and the insertion overhead cannot be taken)"},{"owner":{"account_id":145322,"reputation":18551,"user_id":355044,"accept_rate":91,"display_name":"Meow"},"score":0,"creation_date":1303274112,"post_id":5725370,"comment_id":6547810,"body_markdown":"@amit: I agree too, using Set seems better.","body":"@amit: I agree too, using Set seems better."}],"answers":[{"tags":[],"owner":{"account_id":216491,"reputation":20271,"user_id":471782,"display_name":"no.good.at.coding"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1688032342,"creation_date":1303272589,"answer_id":5725396,"question_id":5725370,"body_markdown":"Notice that the O(n&lt;sup&gt;2&lt;/sup&gt;) solution has that time-complexity because for each element from `ListA`, you must check *all* of `ListB` (again). You could reduce to O(n) if you could somehow do an O(1) lookup on `ListB` for the current element from `ListA`. One data structure that you can use to do that is a `Map`.\r\n\r\nSo, if you build a `Map` out of one of the lists and traverse the other, looking up each element in the `Map` to see if there is match, you can reduce the overall time complexity to O(n) - at the cost of O(n) space.\r\n\r\nFor example:\r\n\r\n    Map&lt;String, Talent&gt; map = new HashMap&lt;String, Talent&gt;();\r\n\r\n    for(Talent t : ListA)\r\n    {\r\n        // traverse each talent into\r\n        // a map element.\r\n        map.put(t.id, t); \r\n    }\r\n\r\n    for(Talent t : ListB)\r\n    {\r\n        if(map.containsKey(t.id))\r\n        {\r\n            t.isSelected = true;\r\n        }\r\n    }","title":"How to avoid O(N^2) when comparing elements from 2 lists?","body":"<p>Notice that the O(n<sup>2</sup>) solution has that time-complexity because for each element from <code>ListA</code>, you must check <em>all</em> of <code>ListB</code> (again). You could reduce to O(n) if you could somehow do an O(1) lookup on <code>ListB</code> for the current element from <code>ListA</code>. One data structure that you can use to do that is a <code>Map</code>.</p>\n<p>So, if you build a <code>Map</code> out of one of the lists and traverse the other, looking up each element in the <code>Map</code> to see if there is match, you can reduce the overall time complexity to O(n) - at the cost of O(n) space.</p>\n<p>For example:</p>\n<pre><code>Map&lt;String, Talent&gt; map = new HashMap&lt;String, Talent&gt;();\n\nfor(Talent t : ListA)\n{\n    // traverse each talent into\n    // a map element.\n    map.put(t.id, t); \n}\n\nfor(Talent t : ListB)\n{\n    if(map.containsKey(t.id))\n    {\n        t.isSelected = true;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":130645,"reputation":81695,"user_id":330057,"accept_rate":77,"display_name":"corsiKa"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1303272622,"creation_date":1303272622,"answer_id":5725397,"question_id":5725370,"body_markdown":"Sort then (2*(n log n)) and then walk your way along each list (2*n).","title":"How to avoid O(N^2) when comparing elements from 2 lists?","body":"<p>Sort then (2*(n log n)) and then walk your way along each list (2*n).</p>\n"},{"tags":[],"owner":{"account_id":301489,"reputation":54254,"user_id":609251,"accept_rate":82,"display_name":"aroth"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1303272766,"creation_date":1303272766,"answer_id":5725409,"question_id":5725370,"body_markdown":"Use hashing for an O(n) solution (assuming an efficient hash implementation):\r\n\r\n    Set&lt;String&gt; ids = new HashSet&lt;String&gt;(ListA.size());\r\n    for(Talent checkedTalent : ListA) {\r\n        ids.add(checkedTalent.Id);\r\n    }\r\n    for(Talent filteredTalent : ListB) {\r\n        if (ids.contains(filteredTalent.Id)) {\r\n            filteredTalent.isSelected = true;\r\n        }\r\n    }","title":"How to avoid O(N^2) when comparing elements from 2 lists?","body":"<p>Use hashing for an O(n) solution (assuming an efficient hash implementation):</p>\n\n<pre><code>Set&lt;String&gt; ids = new HashSet&lt;String&gt;(ListA.size());\nfor(Talent checkedTalent : ListA) {\n    ids.add(checkedTalent.Id);\n}\nfor(Talent filteredTalent : ListB) {\n    if (ids.contains(filteredTalent.Id)) {\n        filteredTalent.isSelected = true;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10237,"reputation":11308,"user_id":19239,"display_name":"jimmyorr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1303272800,"creation_date":1303272800,"answer_id":5725412,"question_id":5725370,"body_markdown":"For some inspiration on how to do this more efficiently, read up on how a SQL join can be implemented, namely a [Nested loop join](http://en.wikipedia.org/wiki/Nested_loop_join), a Nested loop join with a b-tree index (sort one and binary search through it for each element in the other), a [Merge join](http://en.wikipedia.org/wiki/Sort-merge_join), or a [Hash join](http://en.wikipedia.org/wiki/Hash_join).  Same concept.","title":"How to avoid O(N^2) when comparing elements from 2 lists?","body":"<p>For some inspiration on how to do this more efficiently, read up on how a SQL join can be implemented, namely a <a href=\"http://en.wikipedia.org/wiki/Nested_loop_join\" rel=\"nofollow\">Nested loop join</a>, a Nested loop join with a b-tree index (sort one and binary search through it for each element in the other), a <a href=\"http://en.wikipedia.org/wiki/Sort-merge_join\" rel=\"nofollow\">Merge join</a>, or a <a href=\"http://en.wikipedia.org/wiki/Hash_join\" rel=\"nofollow\">Hash join</a>.  Same concept.</p>\n"},{"tags":[],"owner":{"account_id":17585,"reputation":14171,"user_id":39489,"accept_rate":85,"display_name":"les2"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1303273030,"creation_date":1303273030,"answer_id":5725429,"question_id":5725370,"body_markdown":"You can create a Set from the first List:\r\n\r\n    Set mySet = new HashSet(listA);\r\n\r\nNow you loop over listB:\r\n\r\n    for(Object foo : listB)\r\n        if(mySet.contains(foo))\r\n            foo.isSelected = true\r\n\r\nThis is O(n * lg n), I think, but I&#39;m not going to provide a proof. :)","title":"How to avoid O(N^2) when comparing elements from 2 lists?","body":"<p>You can create a Set from the first List:</p>\n\n<pre><code>Set mySet = new HashSet(listA);\n</code></pre>\n\n<p>Now you loop over listB:</p>\n\n<pre><code>for(Object foo : listB)\n    if(mySet.contains(foo))\n        foo.isSelected = true\n</code></pre>\n\n<p>This is O(n * lg n), I think, but I'm not going to provide a proof. :)</p>\n"}],"owner":{"account_id":145322,"reputation":18551,"user_id":355044,"accept_rate":91,"display_name":"Meow"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2848,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":5725409,"answer_count":5,"score":3,"last_activity_date":1688032342,"creation_date":1303272365,"question_id":5725370,"body_markdown":"I have 2 lists with same Object type.\r\n\r\n    List A [ foo, bar, moo, woo, pee ]\r\n    \r\n    List B [ bar, woo ]\r\n\r\nI want to compare those 2 lists and if the name matches, \r\nset its property to true. \r\n\r\nFor instance,\r\n\r\n    if(ListA[1].name.equals(ListB[0].name)) { //match name &#39;bar&#39; and &#39;bar&#39;\r\n        ListA[1].hasSameName = true;\r\n    }\r\n\r\nsomething like that.\r\n\r\nI can write O(N^2) solution.\r\n\r\n    for(Talent checkedTalent : ListA) {\r\n        for(Talent filteredTalent : ListB) {\r\n            if( checkedTalent.Id.equals(filteredTalent.Id) ) {\r\n                filteredTalent.isSelected = true;\t\r\n            }\r\n        }\r\n    }\r\n\r\nCan this be done in more efficient way?\r\n\r\n","title":"How to avoid O(N^2) when comparing elements from 2 lists?","body":"<p>I have 2 lists with same Object type.</p>\n\n<pre><code>List A [ foo, bar, moo, woo, pee ]\n\nList B [ bar, woo ]\n</code></pre>\n\n<p>I want to compare those 2 lists and if the name matches, \nset its property to true. </p>\n\n<p>For instance,</p>\n\n<pre><code>if(ListA[1].name.equals(ListB[0].name)) { //match name 'bar' and 'bar'\n    ListA[1].hasSameName = true;\n}\n</code></pre>\n\n<p>something like that.</p>\n\n<p>I can write O(N^2) solution.</p>\n\n<pre><code>for(Talent checkedTalent : ListA) {\n    for(Talent filteredTalent : ListB) {\n        if( checkedTalent.Id.equals(filteredTalent.Id) ) {\n            filteredTalent.isSelected = true;   \n        }\n    }\n}\n</code></pre>\n\n<p>Can this be done in more efficient way?</p>\n"},{"tags":["java","spring","spring-mvc"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1688032645,"post_id":76579947,"comment_id":135020594,"body_markdown":"Make your private method a public method and annotate with `@Bean` instaed of calling the method from your `corsFilter` method inject it into the method as a parameter.","body":"Make your private method a public method and annotate with <code>@Bean</code> instaed of calling the method from your <code>corsFilter</code> method inject it into the method as a parameter."},{"owner":{"account_id":21504728,"reputation":1,"user_id":15848290,"display_name":"tao zheng"},"score":0,"creation_date":1688034197,"post_id":76579947,"comment_id":135020866,"body_markdown":"first thank  you，I used your method，code show as below，Solved the cross-domain problem, but the configuration still cannot be refreshed in real time\n```\n/**\n     * 跨域请求配置\n     * @return\n     */\n    @Bean\n    public CorsConfiguration buildCorsConfig() {\n     }\n        \n```","body":"first thank  you，I used your method，code show as below，Solved the cross-domain problem, but the configuration still cannot be refreshed in real time ``` /**      * 跨域请求配置      * @return      */     @Bean     public CorsConfiguration buildCorsConfig() {      }          ```"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1688039685,"post_id":76579947,"comment_id":135021876,"body_markdown":"Which is becauser you are using `@Value` where you should use configuration properties which are refreshed as well.","body":"Which is becauser you are using <code>@Value</code> where you should use configuration properties which are refreshed as well."},{"owner":{"account_id":21504728,"reputation":1,"user_id":15848290,"display_name":"tao zheng"},"score":0,"creation_date":1688043610,"post_id":76579947,"comment_id":135022779,"body_markdown":"I&#39;m so sorry I can&#39;t understand you，can you show me the code?","body":"I&#39;m so sorry I can&#39;t understand you，can you show me the code?"}],"owner":{"account_id":21504728,"reputation":1,"user_id":15848290,"display_name":"tao zheng"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688032319,"creation_date":1688032319,"question_id":76579947,"body_markdown":"I am now solving cross-domain problems,I added a cross domain configuration，He is effective and solved the cross-domain problem for me，Now I want to refresh the cross-domain configuration in real time，So I used @RefreshScope annotation，But even the cross-domain configuration is invalid\r\n\r\nI added a cross domain configuration\r\n```\r\n@Slf4j\r\n@Configuration\r\npublic class FilterConfiguration {\r\n    @Value(&quot;${jlpay.business.filter.allowCredentials:true}&quot;)\r\n    private boolean allowCredentials;\r\n    @Value(&quot;${jlpay.business.filter.allowedHeader:*}&quot;)\r\n    private String allowedHeader;\r\n    @Value(&quot;${jlpay.business.filter.allowedMethod:*}&quot;)\r\n    private String allowedMethod;\r\n    @Value(&quot;${jlpay.business.filter.allowedOrigin:*}&quot;)\r\n    private String allowedOrigin;\r\n    @Value(&quot;${jlpay.business.filter.corsPath:/**}&quot;)\r\n    private String corsPath;\r\n\r\n    /**\r\n     * 跨域请求配置\r\n     * @return\r\n     */\r\n    private CorsConfiguration buildCorsConfig() {\r\n        CorsConfiguration corsConfig = new CorsConfiguration();\r\n        corsConfig.setAllowCredentials(allowCredentials);\r\n        corsConfig.addAllowedHeader(allowedHeader);\r\n        corsConfig.addAllowedMethod(allowedMethod);\r\n        //指定域名拦截配置\r\n        if (!StringUtils.isEmpty(allowedOrigin) &amp;&amp; !CorsConfiguration.ALL.equals(allowedOrigin)) {\r\n            String[] originArr = allowedOrigin.split(&quot;,&quot;);\r\n            for (String origin : originArr) {\r\n                corsConfig.addAllowedOrigin(origin);\r\n            }\r\n        } else {\r\n            corsConfig.addAllowedOrigin(CorsConfiguration.ALL);\r\n        }\r\n\r\n        return corsConfig;\r\n    }\r\n\r\n    /**\r\n     * 跨域请求过滤器配置\r\n     */\r\n    @Bean\r\n    public CorsFilter corsFilter() {\r\n        UrlBasedCorsConfigurationSource configSource = new UrlBasedCorsConfigurationSource();\r\n        //注：暂定所有接口均允许跨域,建议针对具体接口配置允许跨域\r\n        configSource.registerCorsConfiguration(corsPath, buildCorsConfig());\r\n\r\n        log.info(&quot;跨域请求过滤器配置:{}&quot;, JSONObject.toJSONString(configSource.getCorsConfigurations()));\r\n        return new CorsFilter(configSource);\r\n    }\r\n\r\n    /**\r\n     * 跨域请求配置注册至过滤器\r\n     * @return\r\n     */\r\n    @Bean\r\n    public FilterRegistrationBean corsFilterRegist() {\r\n        FilterRegistrationBean filterRegistration = new FilterRegistrationBean();\r\n        filterRegistration.setFilter(corsFilter());\r\n        filterRegistration.setName(&quot;corsFilter&quot;);\r\n        filterRegistration.setOrder(0);\r\n        return filterRegistration;\r\n    }\r\n}\r\n```\r\n\r\nHe is effective and solved the cross-domain problem for me，Now I want to refresh the cross-domain configuration in real time，So I used @RefreshScope annotation\r\n\r\n```\r\n@Slf4j\r\n@Configuration\r\n@RefreshScope\r\npublic class FilterConfiguration {\r\n    @Value(&quot;${jlpay.business.filter.allowCredentials:true}&quot;)\r\n    private boolean allowCredentials;\r\n    @Value(&quot;${jlpay.business.filter.allowedHeader:*}&quot;)\r\n    private String allowedHeader;\r\n    @Value(&quot;${jlpay.business.filter.allowedMethod:*}&quot;)\r\n    private String allowedMethod;\r\n    @Value(&quot;${jlpay.business.filter.allowedOrigin:*}&quot;)\r\n    private String allowedOrigin;\r\n    @Value(&quot;${jlpay.business.filter.corsPath:/**}&quot;)\r\n    private String corsPath;\r\n\r\n    /**\r\n     * 跨域请求配置\r\n     * @return\r\n     */\r\n    private CorsConfiguration buildCorsConfig() {\r\n        CorsConfiguration corsConfig = new CorsConfiguration();\r\n        corsConfig.setAllowCredentials(allowCredentials);\r\n        corsConfig.addAllowedHeader(allowedHeader);\r\n        corsConfig.addAllowedMethod(allowedMethod);\r\n        //指定域名拦截配置\r\n        if (!StringUtils.isEmpty(allowedOrigin) &amp;&amp; !CorsConfiguration.ALL.equals(allowedOrigin)) {\r\n            String[] originArr = allowedOrigin.split(&quot;,&quot;);\r\n            for (String origin : originArr) {\r\n                corsConfig.addAllowedOrigin(origin);\r\n            }\r\n        } else {\r\n            corsConfig.addAllowedOrigin(CorsConfiguration.ALL);\r\n        }\r\n\r\n        return corsConfig;\r\n    }\r\n\r\n    /**\r\n     * 跨域请求过滤器配置\r\n     */\r\n    @Bean\r\n    public CorsFilter corsFilter() {\r\n        UrlBasedCorsConfigurationSource configSource = new UrlBasedCorsConfigurationSource();\r\n        //注：暂定所有接口均允许跨域,建议针对具体接口配置允许跨域\r\n        configSource.registerCorsConfiguration(corsPath, buildCorsConfig());\r\n\r\n        log.info(&quot;跨域请求过滤器配置:{}&quot;, JSONObject.toJSONString(configSource.getCorsConfigurations()));\r\n        return new CorsFilter(configSource);\r\n    }\r\n\r\n    /**\r\n     * 跨域请求配置注册至过滤器\r\n     * @return\r\n     */\r\n    @Bean\r\n    @RefreshScope\r\n    public FilterRegistrationBean corsFilterRegist() {\r\n        FilterRegistrationBean filterRegistration = new FilterRegistrationBean();\r\n        filterRegistration.setFilter(corsFilter());\r\n        filterRegistration.setName(&quot;corsFilter&quot;);\r\n        filterRegistration.setOrder(0);\r\n        return filterRegistration;\r\n    }\r\n}\r\n```\r\nBut he can&#39;t refresh the configuration in real time, and what&#39;s worse, he makes my cross-domain configuration invalid，A cross-domain error occurred when the front end accessed my interface，The error is as follows\r\n`has been blocked by CORS policy: Response to preflight request doesn&#39;t pass access control check: No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource. If an opaque response serves your needs, set the request&#39;s mode to &#39;no-cors&#39; to fetch the resource with CORS disabled.`\r\nI hope everyone can help me to solve it, thank you","title":"Using the @RefreshScope annotation causes the cross-domain FilterRegistrationBean to fail","body":"<p>I am now solving cross-domain problems,I added a cross domain configuration，He is effective and solved the cross-domain problem for me，Now I want to refresh the cross-domain configuration in real time，So I used @RefreshScope annotation，But even the cross-domain configuration is invalid</p>\n<p>I added a cross domain configuration</p>\n<pre><code>@Slf4j\n@Configuration\npublic class FilterConfiguration {\n    @Value(&quot;${jlpay.business.filter.allowCredentials:true}&quot;)\n    private boolean allowCredentials;\n    @Value(&quot;${jlpay.business.filter.allowedHeader:*}&quot;)\n    private String allowedHeader;\n    @Value(&quot;${jlpay.business.filter.allowedMethod:*}&quot;)\n    private String allowedMethod;\n    @Value(&quot;${jlpay.business.filter.allowedOrigin:*}&quot;)\n    private String allowedOrigin;\n    @Value(&quot;${jlpay.business.filter.corsPath:/**}&quot;)\n    private String corsPath;\n\n    /**\n     * 跨域请求配置\n     * @return\n     */\n    private CorsConfiguration buildCorsConfig() {\n        CorsConfiguration corsConfig = new CorsConfiguration();\n        corsConfig.setAllowCredentials(allowCredentials);\n        corsConfig.addAllowedHeader(allowedHeader);\n        corsConfig.addAllowedMethod(allowedMethod);\n        //指定域名拦截配置\n        if (!StringUtils.isEmpty(allowedOrigin) &amp;&amp; !CorsConfiguration.ALL.equals(allowedOrigin)) {\n            String[] originArr = allowedOrigin.split(&quot;,&quot;);\n            for (String origin : originArr) {\n                corsConfig.addAllowedOrigin(origin);\n            }\n        } else {\n            corsConfig.addAllowedOrigin(CorsConfiguration.ALL);\n        }\n\n        return corsConfig;\n    }\n\n    /**\n     * 跨域请求过滤器配置\n     */\n    @Bean\n    public CorsFilter corsFilter() {\n        UrlBasedCorsConfigurationSource configSource = new UrlBasedCorsConfigurationSource();\n        //注：暂定所有接口均允许跨域,建议针对具体接口配置允许跨域\n        configSource.registerCorsConfiguration(corsPath, buildCorsConfig());\n\n        log.info(&quot;跨域请求过滤器配置:{}&quot;, JSONObject.toJSONString(configSource.getCorsConfigurations()));\n        return new CorsFilter(configSource);\n    }\n\n    /**\n     * 跨域请求配置注册至过滤器\n     * @return\n     */\n    @Bean\n    public FilterRegistrationBean corsFilterRegist() {\n        FilterRegistrationBean filterRegistration = new FilterRegistrationBean();\n        filterRegistration.setFilter(corsFilter());\n        filterRegistration.setName(&quot;corsFilter&quot;);\n        filterRegistration.setOrder(0);\n        return filterRegistration;\n    }\n}\n</code></pre>\n<p>He is effective and solved the cross-domain problem for me，Now I want to refresh the cross-domain configuration in real time，So I used @RefreshScope annotation</p>\n<pre><code>@Slf4j\n@Configuration\n@RefreshScope\npublic class FilterConfiguration {\n    @Value(&quot;${jlpay.business.filter.allowCredentials:true}&quot;)\n    private boolean allowCredentials;\n    @Value(&quot;${jlpay.business.filter.allowedHeader:*}&quot;)\n    private String allowedHeader;\n    @Value(&quot;${jlpay.business.filter.allowedMethod:*}&quot;)\n    private String allowedMethod;\n    @Value(&quot;${jlpay.business.filter.allowedOrigin:*}&quot;)\n    private String allowedOrigin;\n    @Value(&quot;${jlpay.business.filter.corsPath:/**}&quot;)\n    private String corsPath;\n\n    /**\n     * 跨域请求配置\n     * @return\n     */\n    private CorsConfiguration buildCorsConfig() {\n        CorsConfiguration corsConfig = new CorsConfiguration();\n        corsConfig.setAllowCredentials(allowCredentials);\n        corsConfig.addAllowedHeader(allowedHeader);\n        corsConfig.addAllowedMethod(allowedMethod);\n        //指定域名拦截配置\n        if (!StringUtils.isEmpty(allowedOrigin) &amp;&amp; !CorsConfiguration.ALL.equals(allowedOrigin)) {\n            String[] originArr = allowedOrigin.split(&quot;,&quot;);\n            for (String origin : originArr) {\n                corsConfig.addAllowedOrigin(origin);\n            }\n        } else {\n            corsConfig.addAllowedOrigin(CorsConfiguration.ALL);\n        }\n\n        return corsConfig;\n    }\n\n    /**\n     * 跨域请求过滤器配置\n     */\n    @Bean\n    public CorsFilter corsFilter() {\n        UrlBasedCorsConfigurationSource configSource = new UrlBasedCorsConfigurationSource();\n        //注：暂定所有接口均允许跨域,建议针对具体接口配置允许跨域\n        configSource.registerCorsConfiguration(corsPath, buildCorsConfig());\n\n        log.info(&quot;跨域请求过滤器配置:{}&quot;, JSONObject.toJSONString(configSource.getCorsConfigurations()));\n        return new CorsFilter(configSource);\n    }\n\n    /**\n     * 跨域请求配置注册至过滤器\n     * @return\n     */\n    @Bean\n    @RefreshScope\n    public FilterRegistrationBean corsFilterRegist() {\n        FilterRegistrationBean filterRegistration = new FilterRegistrationBean();\n        filterRegistration.setFilter(corsFilter());\n        filterRegistration.setName(&quot;corsFilter&quot;);\n        filterRegistration.setOrder(0);\n        return filterRegistration;\n    }\n}\n</code></pre>\n<p>But he can't refresh the configuration in real time, and what's worse, he makes my cross-domain configuration invalid，A cross-domain error occurred when the front end accessed my interface，The error is as follows\n<code>has been blocked by CORS policy: Response to preflight request doesn't pass access control check: No 'Access-Control-Allow-Origin' header is present on the requested resource. If an opaque response serves your needs, set the request's mode to 'no-cors' to fetch the resource with CORS disabled.</code>\nI hope everyone can help me to solve it, thank you</p>\n"},{"tags":["java","spring","spring-boot","spring-data"],"answers":[{"tags":[],"owner":{"account_id":28902386,"reputation":30,"user_id":22137034,"display_name":"Tobias"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687951156,"creation_date":1687951156,"answer_id":76572664,"question_id":76571884,"body_markdown":"I think \r\n`@Query(value = &quot;SELECT DATE_FORMAT(c.valid_to, &#39;%Y-%m-%d&#39;) FROM card c WHERE c.card_id= :card_id&quot;, nativeQuery = true)` \r\nshould work for MySQL.\r\n\r\nUsing H2 the following does format a date:\r\n\r\n    @Query(value = &quot;SELECT FORMATDATETIME(c.valid_to,&#39;d MMM yyyy&#39;) FROM card c WHERE c.card_id= :card_id&quot;, nativeQuery = true).\r\n\r\n","title":"How to use functions in nativeQuery?","body":"<p>I think\n<code>@Query(value = &quot;SELECT DATE_FORMAT(c.valid_to, '%Y-%m-%d') FROM card c WHERE c.card_id= :card_id&quot;, nativeQuery = true)</code>\nshould work for MySQL.</p>\n<p>Using H2 the following does format a date:</p>\n<pre><code>@Query(value = &quot;SELECT FORMATDATETIME(c.valid_to,'d MMM yyyy') FROM card c WHERE c.card_id= :card_id&quot;, nativeQuery = true).\n</code></pre>\n"}],"owner":{"account_id":25979860,"reputation":9,"user_id":19712163,"display_name":"SealAnia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688032315,"creation_date":1687945106,"question_id":76571884,"body_markdown":"I created a query which is supposed to return a date in a certain format. \r\n\r\n    @Query(value = &quot;SELECT function(&#39;date_format&#39;, c.valid_to, &#39;%Y-%m-%d&#39;) &quot; +\r\n            &quot;FROM card c WHERE c.card_id= :card_id&quot;, nativeQuery = true)\r\n\r\nBut I get an error like \r\n\r\n&gt; You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#39;function(&#39;date_format&#39;, c.valid_to, &#39;%Y-%m-%d&#39;) FROM card c WHERE c.card_id= 3&#39; at line 1\r\n\r\nWhen I tried to write different queries without any functions it worked.\r\n","title":"How to use functions in nativeQuery?","body":"<p>I created a query which is supposed to return a date in a certain format.</p>\n<pre><code>@Query(value = &quot;SELECT function('date_format', c.valid_to, '%Y-%m-%d') &quot; +\n        &quot;FROM card c WHERE c.card_id= :card_id&quot;, nativeQuery = true)\n</code></pre>\n<p>But I get an error like</p>\n<blockquote>\n<p>You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'function('date_format', c.valid_to, '%Y-%m-%d') FROM card c WHERE c.card_id= 3' at line 1</p>\n</blockquote>\n<p>When I tried to write different queries without any functions it worked.</p>\n"},{"tags":["java","arrays","pass-by-reference","pass-by-value"],"comments":[{"owner":{"account_id":301489,"reputation":54254,"user_id":609251,"accept_rate":82,"display_name":"aroth"},"score":18,"creation_date":1349509610,"post_id":12757841,"comment_id":17238155,"body_markdown":"Arrays are Objects, yes, but nothing in Java is passed by reference.  All parameter passing is by value.  In the case of an Object, what gets passed is a reference to the Object (i.e. a pointer), by value.  Passing a reference by value is not the same as pass by reference.","body":"Arrays are Objects, yes, but nothing in Java is passed by reference.  All parameter passing is by value.  In the case of an Object, what gets passed is a reference to the Object (i.e. a pointer), by value.  Passing a reference by value is not the same as pass by reference."},{"owner":{"account_id":294022,"reputation":115930,"user_id":597657,"accept_rate":99,"display_name":"Eng.Fouad"},"score":0,"creation_date":1349511884,"post_id":12757841,"comment_id":17238595,"body_markdown":"You may find this useful: http://stackoverflow.com/a/9404727/597657","body":"You may find this useful: <a href=\"http://stackoverflow.com/a/9404727/597657\">stackoverflow.com/a/9404727/597657</a>"},{"owner":{"account_id":7055810,"reputation":1171,"user_id":5403217,"display_name":"myx"},"score":0,"creation_date":1552885524,"post_id":12757841,"comment_id":97164975,"body_markdown":"I cannot add an answer to this question, but I wrote a code snippet that might be helpful for understanding the answers below: https://write.as/1wjcm7m50w41k.md.","body":"I cannot add an answer to this question, but I wrote a code snippet that might be helpful for understanding the answers below: <a href=\"https://write.as/1wjcm7m50w41k.md\" rel=\"nofollow noreferrer\">write.as/1wjcm7m50w41k.md</a>."},{"owner":{"account_id":13060408,"reputation":707,"user_id":9437799,"display_name":"Sam Ginrich"},"score":0,"creation_date":1684670237,"post_id":12757841,"comment_id":134547894,"body_markdown":"Java does not consider references, other languages do","body":"Java does not consider references, other languages do"}],"answers":[{"tags":[],"owner":{"account_id":426969,"reputation":61751,"user_id":808486,"accept_rate":100,"display_name":"Tudor"},"down_vote_count":0,"up_vote_count":65,"is_accepted":false,"score":65,"last_activity_date":1456330748,"creation_date":1349509577,"answer_id":12757853,"question_id":12757841,"body_markdown":"Arrays are in fact objects, so a reference is passed (the reference itself is passed by value, confused yet?). Quick example:\r\n\r\n    // assuming you allocated the list\r\n    public void addItem(Integer[] list, int item) {\r\n        list[1] = item;\r\n    }\r\n\r\nYou will see the changes to the list from the calling code. However you can&#39;t change the reference itself, since it&#39;s passed by value:\r\n\r\n    // assuming you allocated the list\r\n    public void changeArray(Integer[] list) {\r\n        list = null;\r\n    }\r\n\r\nIf you pass a non-null list, it won&#39;t be null by the time the method returns.","title":"Are arrays passed by value or passed by reference in Java?","body":"<p>Arrays are in fact objects, so a reference is passed (the reference itself is passed by value, confused yet?). Quick example:</p>\n\n<pre><code>// assuming you allocated the list\npublic void addItem(Integer[] list, int item) {\n    list[1] = item;\n}\n</code></pre>\n\n<p>You will see the changes to the list from the calling code. However you can't change the reference itself, since it's passed by value:</p>\n\n<pre><code>// assuming you allocated the list\npublic void changeArray(Integer[] list) {\n    list = null;\n}\n</code></pre>\n\n<p>If you pass a non-null list, it won't be null by the time the method returns.</p>\n"},{"tags":[],"owner":{"account_id":1853886,"reputation":210597,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"down_vote_count":2,"up_vote_count":315,"is_accepted":false,"score":313,"last_activity_date":1610093413,"creation_date":1349509627,"answer_id":12757860,"question_id":12757841,"body_markdown":"**Everything in Java is passed by value.** In case of an array (which is nothing but an Object), the array reference is passed by value (just like an object reference is passed by value).\r\n\r\nWhen you pass an array to other method, actually the reference to that array is copied.\r\n\r\n - Any changes in the content of array through that reference will affect the original array.\r\n - But changing the reference to point to a new array will not change the existing reference in original method.\r\n\r\nSee this post: https://stackoverflow.com/questions/40480/is-java-pass-by-reference\r\n\r\n**See this working example:** \r\n\r\n    public static void changeContent(int[] arr) {\r\n\r\n       // If we change the content of arr.\r\n       arr[0] = 10;  // Will change the content of array in main()\r\n    }\r\n\r\n    public static void changeRef(int[] arr) {\r\n       // If we change the reference\r\n       arr = new int[2];  // Will not change the array in main()\r\n       arr[0] = 15;\r\n    }\r\n    \r\n    public static void main(String[] args) {\r\n        int [] arr = new int[2];\r\n        arr[0] = 4;\r\n        arr[1] = 5;\r\n    \r\n        changeContent(arr);\r\n    \r\n        System.out.println(arr[0]);  // Will print 10.. \r\n      \r\n        changeRef(arr);\r\n\r\n        System.out.println(arr[0]);  // Will still print 10.. \r\n                                     // Change the reference doesn&#39;t reflect change here..\r\n    }\r\n\r\n","title":"Are arrays passed by value or passed by reference in Java?","body":"<p><strong>Everything in Java is passed by value.</strong> In case of an array (which is nothing but an Object), the array reference is passed by value (just like an object reference is passed by value).</p>\n<p>When you pass an array to other method, actually the reference to that array is copied.</p>\n<ul>\n<li>Any changes in the content of array through that reference will affect the original array.</li>\n<li>But changing the reference to point to a new array will not change the existing reference in original method.</li>\n</ul>\n<p>See this post: <a href=\"https://stackoverflow.com/questions/40480/is-java-pass-by-reference\">Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?</a></p>\n<p><strong>See this working example:</strong></p>\n<pre><code>public static void changeContent(int[] arr) {\n\n   // If we change the content of arr.\n   arr[0] = 10;  // Will change the content of array in main()\n}\n\npublic static void changeRef(int[] arr) {\n   // If we change the reference\n   arr = new int[2];  // Will not change the array in main()\n   arr[0] = 15;\n}\n\npublic static void main(String[] args) {\n    int [] arr = new int[2];\n    arr[0] = 4;\n    arr[1] = 5;\n\n    changeContent(arr);\n\n    System.out.println(arr[0]);  // Will print 10.. \n  \n    changeRef(arr);\n\n    System.out.println(arr[0]);  // Will still print 10.. \n                                 // Change the reference doesn't reflect change here..\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1344625,"reputation":3248,"user_id":1285615,"accept_rate":55,"display_name":"sakthisundar"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1349509658,"creation_date":1349509658,"answer_id":12757866,"question_id":12757841,"body_markdown":"No that is wrong. Arrays are special objects in Java. So it is like passing other objects where you pass the value of the reference, but not the reference itself. Meaning, changing the reference of an array in the called routine will not be reflected in the calling routine.","title":"Are arrays passed by value or passed by reference in Java?","body":"<p>No that is wrong. Arrays are special objects in Java. So it is like passing other objects where you pass the value of the reference, but not the reference itself. Meaning, changing the reference of an array in the called routine will not be reflected in the calling routine.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":5,"up_vote_count":179,"is_accepted":true,"score":174,"last_activity_date":1566528838,"creation_date":1349509664,"answer_id":12757868,"question_id":12757841,"body_markdown":"Your question is based on a false premise.\r\n\r\n&gt; *Arrays are not a primitive type in Java, but they are not objects either ... &quot;*\r\n\r\nIn fact, all arrays in Java **are** objects&lt;sup&gt;1&lt;/sup&gt;.  Every Java array type has `java.lang.Object` as its supertype, and inherits the implementation of all methods in the `Object` API. \r\n\r\n&gt; ... so are they passed by value or by reference? Does it depend on what the array contains, for example references or a primitive type? \r\n\r\nShort answers: 1) pass by value, and 2) it makes no difference.\r\n\r\nLonger answer:\r\n\r\nLike all Java objects, arrays are passed by value ... but the value is the reference to the array.  So, when you assign something to a cell of the array in the called method, you will be assigning to the same array object that the caller sees.\r\n\r\nThis is NOT pass-by-reference.  *Real* pass-by-reference involves passing the *address of a variable*.  With *real* pass-by-reference, the called method can assign to its local variable, and this causes the variable in the caller to be updated.  \r\n\r\nBut not in Java.  In Java, the called method can update the contents of the array, and it can update its copy of the array reference, but it can&#39;t update the variable in the caller that holds the caller&#39;s array reference.  Hence ... what Java is providing is NOT pass-by-reference.\r\n\r\nHere are some links that explain the difference between pass-by-reference and pass-by-value.  If you don&#39;t understand my explanations above, or if you feel inclined to disagree with the terminology, you *should* read them.\r\n\r\n  - http://publib.boulder.ibm.com/infocenter/comphelp/v8v101/topic/com.ibm.xlcpp8a.doc/language/ref/cplr233.htm\r\n  - http://www.cs.fsu.edu/~myers/c++/notes/references.html\r\n\r\nRelated SO question:\r\n\r\n  - https://stackoverflow.com/questions/40480/is-java-pass-by-reference\r\n\r\nHistorical background:\r\n\r\nThe phrase &quot;pass-by-reference&quot; was originally &quot;call-by-reference&quot;, and it was used to distinguish the argument passing semantics of FORTRAN (call-by-reference) from those of ALGOL-60 (call-by-value and call-by-name).\r\n\r\n  - In call-by-value, the argument expression is evaluated to a value, and that value is copied to the called method.\r\n\r\n  - In call-by-reference, the argument expression is partially evaluated to an &quot;lvalue&quot; (i.e. the address of a variable or array element) that is passed to the calling method.  The calling method can then directly read and update the variable / element.\r\n\r\n  - In call-by-name, the actual argument expression is passed to the calling method (!!) which can evaluate it multiple times (!!!).  This was complicated to implement, and could be used (abused) to write code that was very difficult to understand.  Call-by-name was only ever used in Algol-60 (thankfully!).\r\n\r\n**UPDATE**\r\n\r\nActually, Algol-60&#39;s call-by-name is similar to passing lambda expressions as parameters.  The wrinkle is that these not-exactly-lambda-expressions (they were referred to as &quot;thunks&quot; at the implementation level) can *indirectly* modify the state of variables that are in scope in the calling procedure / function.  That is part of what made them so hard to understand.  (See the Wikipedia page on [Jensen&#39;s Device][1] for example.)\r\n\r\n------------\r\n\r\n&lt;sup&gt;1. Nothing in the linked Q&amp;A (https://stackoverflow.com/questions/5564423/arrays-in-java-and-how-they-are-stored-in-memory) either states or implies that arrays are not objects.&lt;/sup&gt;\r\n\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Jensen%27s_Device","title":"Are arrays passed by value or passed by reference in Java?","body":"<p>Your question is based on a false premise.</p>\n\n<blockquote>\n  <p><em>Arrays are not a primitive type in Java, but they are not objects either ... \"</em></p>\n</blockquote>\n\n<p>In fact, all arrays in Java <strong>are</strong> objects<sup>1</sup>.  Every Java array type has <code>java.lang.Object</code> as its supertype, and inherits the implementation of all methods in the <code>Object</code> API. </p>\n\n<blockquote>\n  <p>... so are they passed by value or by reference? Does it depend on what the array contains, for example references or a primitive type? </p>\n</blockquote>\n\n<p>Short answers: 1) pass by value, and 2) it makes no difference.</p>\n\n<p>Longer answer:</p>\n\n<p>Like all Java objects, arrays are passed by value ... but the value is the reference to the array.  So, when you assign something to a cell of the array in the called method, you will be assigning to the same array object that the caller sees.</p>\n\n<p>This is NOT pass-by-reference.  <em>Real</em> pass-by-reference involves passing the <em>address of a variable</em>.  With <em>real</em> pass-by-reference, the called method can assign to its local variable, and this causes the variable in the caller to be updated.  </p>\n\n<p>But not in Java.  In Java, the called method can update the contents of the array, and it can update its copy of the array reference, but it can't update the variable in the caller that holds the caller's array reference.  Hence ... what Java is providing is NOT pass-by-reference.</p>\n\n<p>Here are some links that explain the difference between pass-by-reference and pass-by-value.  If you don't understand my explanations above, or if you feel inclined to disagree with the terminology, you <em>should</em> read them.</p>\n\n<ul>\n<li><a href=\"http://publib.boulder.ibm.com/infocenter/comphelp/v8v101/topic/com.ibm.xlcpp8a.doc/language/ref/cplr233.htm\" rel=\"noreferrer\">http://publib.boulder.ibm.com/infocenter/comphelp/v8v101/topic/com.ibm.xlcpp8a.doc/language/ref/cplr233.htm</a></li>\n<li><a href=\"http://www.cs.fsu.edu/~myers/c++/notes/references.html\" rel=\"noreferrer\">http://www.cs.fsu.edu/~myers/c++/notes/references.html</a></li>\n</ul>\n\n<p>Related SO question:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/40480/is-java-pass-by-reference\">Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?</a></li>\n</ul>\n\n<p>Historical background:</p>\n\n<p>The phrase \"pass-by-reference\" was originally \"call-by-reference\", and it was used to distinguish the argument passing semantics of FORTRAN (call-by-reference) from those of ALGOL-60 (call-by-value and call-by-name).</p>\n\n<ul>\n<li><p>In call-by-value, the argument expression is evaluated to a value, and that value is copied to the called method.</p></li>\n<li><p>In call-by-reference, the argument expression is partially evaluated to an \"lvalue\" (i.e. the address of a variable or array element) that is passed to the calling method.  The calling method can then directly read and update the variable / element.</p></li>\n<li><p>In call-by-name, the actual argument expression is passed to the calling method (!!) which can evaluate it multiple times (!!!).  This was complicated to implement, and could be used (abused) to write code that was very difficult to understand.  Call-by-name was only ever used in Algol-60 (thankfully!).</p></li>\n</ul>\n\n<p><strong>UPDATE</strong></p>\n\n<p>Actually, Algol-60's call-by-name is similar to passing lambda expressions as parameters.  The wrinkle is that these not-exactly-lambda-expressions (they were referred to as \"thunks\" at the implementation level) can <em>indirectly</em> modify the state of variables that are in scope in the calling procedure / function.  That is part of what made them so hard to understand.  (See the Wikipedia page on <a href=\"http://en.wikipedia.org/wiki/Jensen%27s_Device\" rel=\"noreferrer\">Jensen's Device</a> for example.)</p>\n\n<hr>\n\n<p><sup>1. Nothing in the linked Q&amp;A (<a href=\"https://stackoverflow.com/questions/5564423/arrays-in-java-and-how-they-are-stored-in-memory\">Arrays in Java and how they are stored in memory</a>) either states or implies that arrays are not objects.</sup></p>\n"},{"tags":[],"owner":{"account_id":1524511,"reputation":6343,"user_id":1423274,"display_name":"Jeff Watkins"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1349509683,"creation_date":1349509683,"answer_id":12757871,"question_id":12757841,"body_markdown":"Kind of a trick realty... Even references are passed by value in Java, hence a change to the reference itself being scoped at the called function level. The compiler and/or JVM will often turn a value type into a reference.","title":"Are arrays passed by value or passed by reference in Java?","body":"<p>Kind of a trick realty... Even references are passed by value in Java, hence a change to the reference itself being scoped at the called function level. The compiler and/or JVM will often turn a value type into a reference.</p>\n"},{"tags":[],"owner":{"account_id":130772,"reputation":71463,"user_id":330280,"accept_rate":92,"display_name":"aleroot"},"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1349509762,"creation_date":1349509762,"answer_id":12757881,"question_id":12757841,"body_markdown":"**Everything in Java is passed by value .**\r\n\r\nIn the case of the array the reference is copied into a new reference, but remember that everything in Java is passed by value .\r\n\r\nTake a look at [this interesting article][1] for further information ...\r\n\r\n\r\n  [1]: http://javadude.com/articles/passbyvalue.htm","title":"Are arrays passed by value or passed by reference in Java?","body":"<p><strong>Everything in Java is passed by value .</strong></p>\n\n<p>In the case of the array the reference is copied into a new reference, but remember that everything in Java is passed by value .</p>\n\n<p>Take a look at <a href=\"http://javadude.com/articles/passbyvalue.htm\" rel=\"nofollow noreferrer\">this interesting article</a> for further information ...</p>\n"},{"tags":[],"owner":{"account_id":1895014,"reputation":1717,"user_id":1712187,"display_name":"Steven McGrath"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1349520717,"creation_date":1349513512,"answer_id":12758255,"question_id":12757841,"body_markdown":"The definitive discussion of arrays is at http://docs.oracle.com/javase/specs/jls/se5.0/html/arrays.html#27803 .  This makes clear that Java arrays are objects.  The class of these objects is defined in 10.8.\r\n\r\nSection 8.4.1 of the language spec, http://docs.oracle.com/javase/specs/jls/se5.0/html/classes.html#40420 , describe how arguments are passed to methods.  Since Java syntax is derived from C and C++, the behavior is similar.  Primitive types are passed by value, as with C.  When an object is passed, an object reference (pointer) is passed by value, mirroring the C syntax of passing a pointer by value.  See 4.3.1, http://docs.oracle.com/javase/specs/jls/se5.0/html/typesValues.html#4.3 ,\r\n\r\nIn practical terms, this means that modifying the contents of an array within a method is reflected in the array object in the calling scope, but reassigning a new value to the reference within the method has no effect on the reference in the calling scope, which is exactly the behavior you would expect of a pointer to a struct in C or an object in C++.\r\n\r\nAt least part of the confusion in terminology stems from the history of high level languages prior to the common use of C. In prior, popular, high level languages, directly referencing memory by address was something to be avoided to the extent possible, and it was considered the job of the language to provide a layer of abstraction.  This made it necessary for the language to explicitly support a mechanism for returning values from subroutines (not necessarily functions).  This mechanism is what is formally meant when referring to &#39;pass by reference&#39;.\r\n\r\nWhen C was introduced, it came with a stripped down notion of procedure calling, where all arguments are input-only, and the only value returned to the caller is a function result.  However, the purpose of passing references could be achieved through the explicit and broad use of pointers.  Since it serves the same purpose, the practice of passing a pointer as a reference to a value is often colloquially referred to a passing by reference.  If the **semantics** of a routine call for a parameter to be passed by reference, the **syntax** of C requires the programmer to explicitly pass a pointer.  Passing a pointer by value is the **design pattern** for implementing pass by reference semantics in C.\r\n\r\nSince it can often seem like the sole purpose of raw pointers in C is to create crashing bugs, subsequent developments, especially Java, have sought to return to safer means to pass parameters.  However, the dominance of C made it incumbent on the developers to mimic the familiar style of C coding.  The result is references that are passed similarly to pointers, but are implemented with more protections to make them safer.  An alternative would have been the rich syntax of a language like Ada, but this would have presented the appearance of an unwelcome learning curve, and lessened the likely adoption of Java.\r\n\r\nIn short, the design of parameter passing for objects, including arrays, in Java,is esentially to serve the **semantic** intent of pass by reference, but is imlemented with the **syntax** of passing a reference by value.","title":"Are arrays passed by value or passed by reference in Java?","body":"<p>The definitive discussion of arrays is at <a href=\"http://docs.oracle.com/javase/specs/jls/se5.0/html/arrays.html#27803\" rel=\"nofollow\">http://docs.oracle.com/javase/specs/jls/se5.0/html/arrays.html#27803</a> .  This makes clear that Java arrays are objects.  The class of these objects is defined in 10.8.</p>\n\n<p>Section 8.4.1 of the language spec, <a href=\"http://docs.oracle.com/javase/specs/jls/se5.0/html/classes.html#40420\" rel=\"nofollow\">http://docs.oracle.com/javase/specs/jls/se5.0/html/classes.html#40420</a> , describe how arguments are passed to methods.  Since Java syntax is derived from C and C++, the behavior is similar.  Primitive types are passed by value, as with C.  When an object is passed, an object reference (pointer) is passed by value, mirroring the C syntax of passing a pointer by value.  See 4.3.1, <a href=\"http://docs.oracle.com/javase/specs/jls/se5.0/html/typesValues.html#4.3\" rel=\"nofollow\">http://docs.oracle.com/javase/specs/jls/se5.0/html/typesValues.html#4.3</a> ,</p>\n\n<p>In practical terms, this means that modifying the contents of an array within a method is reflected in the array object in the calling scope, but reassigning a new value to the reference within the method has no effect on the reference in the calling scope, which is exactly the behavior you would expect of a pointer to a struct in C or an object in C++.</p>\n\n<p>At least part of the confusion in terminology stems from the history of high level languages prior to the common use of C. In prior, popular, high level languages, directly referencing memory by address was something to be avoided to the extent possible, and it was considered the job of the language to provide a layer of abstraction.  This made it necessary for the language to explicitly support a mechanism for returning values from subroutines (not necessarily functions).  This mechanism is what is formally meant when referring to 'pass by reference'.</p>\n\n<p>When C was introduced, it came with a stripped down notion of procedure calling, where all arguments are input-only, and the only value returned to the caller is a function result.  However, the purpose of passing references could be achieved through the explicit and broad use of pointers.  Since it serves the same purpose, the practice of passing a pointer as a reference to a value is often colloquially referred to a passing by reference.  If the <strong>semantics</strong> of a routine call for a parameter to be passed by reference, the <strong>syntax</strong> of C requires the programmer to explicitly pass a pointer.  Passing a pointer by value is the <strong>design pattern</strong> for implementing pass by reference semantics in C.</p>\n\n<p>Since it can often seem like the sole purpose of raw pointers in C is to create crashing bugs, subsequent developments, especially Java, have sought to return to safer means to pass parameters.  However, the dominance of C made it incumbent on the developers to mimic the familiar style of C coding.  The result is references that are passed similarly to pointers, but are implemented with more protections to make them safer.  An alternative would have been the rich syntax of a language like Ada, but this would have presented the appearance of an unwelcome learning curve, and lessened the likely adoption of Java.</p>\n\n<p>In short, the design of parameter passing for objects, including arrays, in Java,is esentially to serve the <strong>semantic</strong> intent of pass by reference, but is imlemented with the <strong>syntax</strong> of passing a reference by value.</p>\n"}],"owner":{"account_id":1583864,"reputation":2977,"user_id":1468643,"accept_rate":78,"display_name":"Froskoy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":286411,"favorite_count":0,"down_vote_count":2,"up_vote_count":245,"closed_date":1608092686,"accepted_answer_id":12757868,"answer_count":7,"score":243,"last_activity_date":1688032273,"creation_date":1349509455,"question_id":12757841,"body_markdown":"Arrays are not a [primitive type](http://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html) in Java, but they [are not objects either](https://stackoverflow.com/questions/5564423/arrays-in-java-and-how-they-are-stored-in-memory), so are they passed by value or by reference? Does it depend on what the array contains, for example references or a primitive type?","title":"Are arrays passed by value or passed by reference in Java?","body":"<p>Arrays are not a <a href=\"http://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html\" rel=\"noreferrer\">primitive type</a> in Java, but they <a href=\"https://stackoverflow.com/questions/5564423/arrays-in-java-and-how-they-are-stored-in-memory\">are not objects either</a>, so are they passed by value or by reference? Does it depend on what the array contains, for example references or a primitive type?</p>\n"},{"tags":["java","redhat","infinispan","distributed-caching","hot-rod"],"comments":[{"owner":{"account_id":5424161,"reputation":415,"user_id":4316983,"display_name":"Diego"},"score":0,"creation_date":1650997306,"post_id":71138730,"comment_id":127255343,"body_markdown":"Hi Stefano, could you please edit your question instead of posting a new question as an answer? I would like to help you but I am a little bit lost.","body":"Hi Stefano, could you please edit your question instead of posting a new question as an answer? I would like to help you but I am a little bit lost."},{"owner":{"account_id":3883295,"reputation":1469,"user_id":3215301,"accept_rate":52,"display_name":"Stefano"},"score":0,"creation_date":1652357769,"post_id":71138730,"comment_id":127589748,"body_markdown":"Hi @Diego I did the new questions as answer to update the post for the tests performed, showing properties and logs application. However the last post this question is right and answer my question. The behavior is right as described in the last response post.","body":"Hi @Diego I did the new questions as answer to update the post for the tests performed, showing properties and logs application. However the last post this question is right and answer my question. The behavior is right as described in the last response post."}],"answers":[{"tags":[],"owner":{"account_id":3883295,"reputation":1469,"user_id":3215301,"accept_rate":52,"display_name":"Stefano"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645098225,"creation_date":1645096709,"answer_id":71157154,"question_id":71138730,"body_markdown":"I tried to edit the client config HOT-ROD to understand the behavior of the client, below I want to summarize the new configuration changes :\r\n\r\n    infinispan.client.hotrod.server_list=server1:11222;server2:11222;server3:11222;server4:11222\r\n    infinispan.client.hotrod.auth_username=user-app\r\n    infinispan.client.hotrod.auth_password=password\r\n    infinispan.client.hotrod.auth_realm=default\r\n    infinispan.client.hotrod.sasl_mechanism=SCRAM-SHA-512\r\n    \r\n    infinispan.client.hotrod.socket_timeout=15000\r\n    infinispan.client.hotrod.connect_timeout=60000\r\n    infinispan.client.hotrod.max_retries=5\r\n    \r\n    # Connection pool\r\n    infinispan.client.hotrod.connection_pool.max_active=50\r\n    infinispan.client.hotrod.connection_pool.exhausted_action=WAIT\r\n    infinispan.client.hotrod.connection_pool.max_wait=20000\r\n    infinispan.client.hotrod.connection_pool.min_idle=10\r\n    #default is 1800000\r\n    infinispan.client.hotrod.connection_pool.min_evictable_idle_time=600000\r\n    infinispan.client.hotrod.connection_pool.max_pending_requests=846\r\n\r\n\r\nI noticed that changing `infinispan.client.hotrod.socket_timeout=15000`\r\nmillisecond.\r\nWhatching app log file I seen the same error, but currently, instead 60000 ms, is to 15000 ms the socketTimeoutException. With the new setting the thread request successfully completing the thread request even if the exception is logged. \r\n\r\n\r\nI think to understand that into the pool sometimes it seems there are connections died and the client search and try another connection alive into the pool retrying the GetOperation.\r\n\r\nAs written in`org.infinispan.client.hotrod.impl.operations.RetryOnFailureOperation` class code into library hot-rod:\r\n\r\n    /**\r\n     * Base class for all the operations that need retry logic: if the operation fails due to connection problems, try with\r\n     * another available connection.\r\n     *\r\n     * @author Mircea.Markus@jboss.com\r\n     * @since 4.1\r\n     */\r\n\r\nIn a nutshell I need to keep alive connections into the pool, I don&#39;t know which is the property for Data Grid client HOT-ROD. \r\nThe next step I would like to try to set `infinispan.client.hotrod.tcp_keep_alive=true`\r\nto test if the behavior is changed, after that I will update the post.","title":"Infinispan HOTROD client throwing intermittent java.net.SocketTimeoutException: GetOperation","body":"<p>I tried to edit the client config HOT-ROD to understand the behavior of the client, below I want to summarize the new configuration changes :</p>\n<pre><code>infinispan.client.hotrod.server_list=server1:11222;server2:11222;server3:11222;server4:11222\ninfinispan.client.hotrod.auth_username=user-app\ninfinispan.client.hotrod.auth_password=password\ninfinispan.client.hotrod.auth_realm=default\ninfinispan.client.hotrod.sasl_mechanism=SCRAM-SHA-512\n\ninfinispan.client.hotrod.socket_timeout=15000\ninfinispan.client.hotrod.connect_timeout=60000\ninfinispan.client.hotrod.max_retries=5\n\n# Connection pool\ninfinispan.client.hotrod.connection_pool.max_active=50\ninfinispan.client.hotrod.connection_pool.exhausted_action=WAIT\ninfinispan.client.hotrod.connection_pool.max_wait=20000\ninfinispan.client.hotrod.connection_pool.min_idle=10\n#default is 1800000\ninfinispan.client.hotrod.connection_pool.min_evictable_idle_time=600000\ninfinispan.client.hotrod.connection_pool.max_pending_requests=846\n</code></pre>\n<p>I noticed that changing <code>infinispan.client.hotrod.socket_timeout=15000</code>\nmillisecond.\nWhatching app log file I seen the same error, but currently, instead 60000 ms, is to 15000 ms the socketTimeoutException. With the new setting the thread request successfully completing the thread request even if the exception is logged.</p>\n<p>I think to understand that into the pool sometimes it seems there are connections died and the client search and try another connection alive into the pool retrying the GetOperation.</p>\n<p>As written in<code>org.infinispan.client.hotrod.impl.operations.RetryOnFailureOperation</code> class code into library hot-rod:</p>\n<pre><code>/**\n * Base class for all the operations that need retry logic: if the operation fails due to connection problems, try with\n * another available connection.\n *\n * @author Mircea.Markus@jboss.com\n * @since 4.1\n */\n</code></pre>\n<p>In a nutshell I need to keep alive connections into the pool, I don't know which is the property for Data Grid client HOT-ROD.\nThe next step I would like to try to set <code>infinispan.client.hotrod.tcp_keep_alive=true</code>\nto test if the behavior is changed, after that I will update the post.</p>\n"},{"tags":[],"owner":{"account_id":3883295,"reputation":1469,"user_id":3215301,"accept_rate":52,"display_name":"Stefano"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646299836,"creation_date":1645607734,"answer_id":71234204,"question_id":71138730,"body_markdown":"I tried to change some configuration properties, considering the reasonable trade-off beetween retry operations and timeouts.\r\n\r\n**HOT-ROD client config**:\r\n\r\n    infinispan.client.hotrod.server_list=server1:11222;server2:11222;server3:11222;server4:11222\r\n    infinispan.client.hotrod.auth_username=app-user\r\n    infinispan.client.hotrod.auth_password=password\r\n    infinispan.client.hotrod.auth_realm=default\r\n    infinispan.client.hotrod.sasl_mechanism=SCRAM-SHA-512\r\n    \r\n    \r\n    infinispan.client.hotrod.socket_timeout=5000\r\n    infinispan.client.hotrod.connect_timeout=20000\r\n    infinispan.client.hotrod.max_retries=5\r\n    \r\n    # Connection pool\r\n    infinispan.client.hotrod.connection_pool.max_active=100\r\n    infinispan.client.hotrod.connection_pool.exhausted_action=WAIT\r\n    infinispan.client.hotrod.connection_pool.max_wait=20000\r\n    infinispan.client.hotrod.connection_pool.min_idle=50\r\n    #default is 1800000\r\n    infinispan.client.hotrod.connection_pool.min_evictable_idle_time=600000\r\n    infinispan.client.hotrod.connection_pool.max_pending_requests=846\r\n    \r\n    infinispan.client.hotrod.client_intelligence=HASH_DISTRIBUTION_AWARE\r\n    infinispan.client.hotrod.force_return_values=false\r\n    \r\n    #default is false\r\n    infinispan.client.hotrod.tcp_keep_alive=true \r\n\r\n\r\nThe changes have been done are:  \r\n - *infinispan.client.hotrod.socket_timeout* reduced to 5000ms\r\n - *infinispan.client.hotrod.connection_pool.min_idle* incremented to 50\r\n - *infinispan.client.hotrod.connect_timeout* reduced to 20000ms\r\n - *infinispan.client.hotrod.max_retries reduced* to 5\r\n - *infinispan.client.hotrod.connection_pool.max_active* incremented to 100\r\n \r\nTested in QA env and from log application, I can say the HOT-ROD client rarely after 4 RetryOnFailureOperations obtained\r\n\r\n    java.net.SocketTimeoutException: GetOperation`timed out after 5000 ms\r\n\r\noccurs the **updateTopologyInfo** action client HOT-ROD side. \r\nThis HOT-ROD client policy it seems to be only the log generated from the Async thread runs in background to check the sockets are still alive.\r\n \r\n\r\n    [2/23/22 9:06:12:923 CET] 000001ab HOTROD        W org.infinispan.client.hotrod.impl.operations.RetryOnFailureOperation handleException ISPN004098: Closing connection [id: 0xa5345361, L:/10.0.20.160\r\n    :44021 - R:10.0.18.102/10.0.18.102:11222] due to transport error\r\n                                     java.net.SocketTimeoutException: GetOperation{MY-CACHE, key=[B0x4A4B636F6D2E6475636174692E77612E..[77], flags=1, connection=10.0.18.102/10.0.18.102:11222} timed out a\r\n    fter 5000 ms\r\n            at org.infinispan.client.hotrod.impl.operations.HotRodOperation.run(HotRodOperation.java:185)\r\n            at io.netty.util.concurrent.PromiseTask.runTask(PromiseTask.java:98)\r\n            at io.netty.util.concurrent.ScheduledFutureTask.run(ScheduledFutureTask.java:170)\r\n            at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:164)\r\n            at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472)\r\n            at io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:384)\r\n            at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\r\n            at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n            at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1160)\r\n            at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n            at java.lang.Thread.run(Thread.java:822)\r\n    \r\n    [2/23/22 9:06:17:924 CET] 000001a5 HOTROD        W org.infinispan.client.hotrod.impl.operations.RetryOnFailureOperation handleException ISPN004098: Closing connection [id: 0x54dacb9b, L:/10.0.20.160:42115 - R:10.0.18.97/10.0.18.97:11222] due to transport error\r\n                                     java.net.SocketTimeoutException: GetOperation{MY-CACHE, key=[B0x4A4B636F6D2E6475636174692E77612E..[77], flags=1, connection=10.0.18.97/10.0.18.97:11222} timed out after 5000 ms\r\n            at org.infinispan.client.hotrod.impl.operations.HotRodOperation.run(HotRodOperation.java:185)\r\n            at io.netty.util.concurrent.PromiseTask.runTask(PromiseTask.java:98)\r\n            at io.netty.util.concurrent.ScheduledFutureTask.run(ScheduledFutureTask.java:170)\r\n            at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:164)\r\n            at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472)\r\n            at io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:384)\r\n            at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\r\n            at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n            at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1160)\r\n            at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n            at java.lang.Thread.run(Thread.java:822)\r\n    \r\n    [2/23/22 9:06:22:925 CET] 000001a5 HOTROD        W org.infinispan.client.hotrod.impl.operations.RetryOnFailureOperation handleException ISPN004098: Closing connection [id: 0xe3e6fd98, L:/10.0.20.160:43629 - R:10.0.18.101/10.0.18.101:11222] due to transport error\r\n                                     java.net.SocketTimeoutException: GetOperation{MY-CACHE, key=[B0x4A4B636F6D2E6475636174692E77612E..[77], flags=1, connection=10.0.18.101/10.0.18.101:11222} timed out after 5000 ms\r\n    \t\t\t\t\t\t\t\t     at org.infinispan.client.hotrod.impl.operations.HotRodOperation.run(HotRodOperation.java:185)\r\n            at io.netty.util.concurrent.PromiseTask.runTask(PromiseTask.java:98)\r\n            at io.netty.util.concurrent.ScheduledFutureTask.run(ScheduledFutureTask.java:170)\r\n            at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:164)\r\n            at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472)\r\n            at io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:384)\r\n            at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\r\n            at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n            at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1160)\r\n            at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n            at java.lang.Thread.run(Thread.java:822)\r\n    \r\n    [2/23/22 9:06:27:926 CET] 000001ab HOTROD        W org.infinispan.client.hotrod.impl.operations.RetryOnFailureOperation handleException ISPN004098: Closing connection [id: 0x52a4bd4a, L:/10.0.20.160:32912 - R:10.0.18.96/10.0.18.96:11222] due to transport error\r\n                                     java.net.SocketTimeoutException: GetOperation{MY-CACHE, key=[B0x4A4B636F6D2E6475636174692E77612E..[77], flags=1, connection=10.0.18.96/10.0.18.96:11222} timed out after 5000 ms\r\n            at org.infinispan.client.hotrod.impl.operations.HotRodOperation.run(HotRodOperation.java:185)\r\n            at io.netty.util.concurrent.PromiseTask.runTask(PromiseTask.java:98)\r\n            at io.netty.util.concurrent.ScheduledFutureTask.run(ScheduledFutureTask.java:170)\r\n            at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:164)\r\n            at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472)\r\n            at io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:384)\r\n            at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\r\n            at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n            at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1160)\r\n            at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n            at java.lang.Thread.run(Thread.java:822)\r\n    \r\n    [2/23/22 9:06:27:927 CET] 000001ab HOTROD        I org.infinispan.client.hotrod.impl.transport.netty.ChannelFactory updateTopologyInfo ISPN004014: New server added(server4:11222), adding to the pool.\r\n    [2/23/22 9:06:27:927 CET] 000001ab HOTROD        I org.infinispan.client.hotrod.impl.transport.netty.ChannelFactory updateTopologyInfo ISPN004014: New server added(server2:11222), adding to the pool.\r\n    [2/23/22 9:06:27:928 CET] 000001ab HOTROD        I org.infinispan.client.hotrod.impl.transport.netty.ChannelFactory updateTopologyInfo ISPN004014: New server added(server3:11222), adding to the pool.\r\n    [2/23/22 9:06:27:928 CET] 000001ab HOTROD        I org.infinispan.client.hotrod.impl.transport.netty.ChannelFactory updateTopologyInfo ISPN004014: New server added(server1:11222), adding to the pool.\r\n    [2/23/22 9:06:27:928 CET] 000001ab HOTROD        I org.infinispan.client.hotrod.impl.transport.netty.ChannelFactory closeChannelPools ISPN004016: Server not in cluster anymore(10.0.18.101:11222), removing from the pool.\r\n    [2/23/22 9:06:27:928 CET] 000001ab HOTROD        I org.infinispan.client.hotrod.impl.transport.netty.ChannelFactory closeChannelPools ISPN004016: Server not in cluster anymore(10.0.18.102:11222), removing from the pool.\r\n    [2/23/22 9:06:27:928 CET] 000001ab HOTROD        I org.infinispan.client.hotrod.impl.transport.netty.ChannelFactory closeChannelPools ISPN004016: Server not in cluster anymore(10.0.18.96:11222), removing from the pool.\r\n    [2/23/22 9:06:27:929 CET] 000001ab HOTROD        I org.infinispan.client.hotrod.impl.transport.netty.ChannelFactory closeChannelPools ISPN004016: Server not in cluster anymore(10.0.18.97:11222), removing from the pool.\r\n    [2/23/22 9:06:27:929 CET] 000001ab HOTROD        I org.infinispan.client.hotrod.impl.transport.netty.ChannelFactory closeChannelPools ISPN004016: Server not in cluster anymore(10.0.18.101:11222), removing from the pool.\r\n    [2/23/22 9:06:27:929 CET] 000001ab HOTROD        I org.infinispan.client.hotrod.impl.transport.netty.ChannelFactory closeChannelPools ISPN004016: Server not in cluster anymore(10.0.18.102:11222), removing from the pool.\r\n    [2/23/22 9:06:27:929 CET] 000001ab HOTROD        I org.infinispan.client.hotrod.impl.transport.netty.ChannelFactory closeChannelPools ISPN004016: Server not in cluster anymore(10.0.18.96:11222), removing from the pool.\r\n    [2/23/22 9:06:27:929 CET] 000001ab HOTROD        I org.infinispan.client.hotrod.impl.transport.netty.ChannelFactory closeChannelPools ISPN004016: Server not in cluster anymore(10.0.18.97:11222), removing from the pool.\r\n    [2/23/22 9:06:28:059 CET] 000001ab HOTROD        I org.infinispan.client.hotrod.impl.protocol.Codec20 readNewTopologyAndHash ISPN004006: Server sent new topology view (id=108, age=0) containing 4 addresses: [10.0.18.101:11222, 10.0.18.102:11222, 10.0.18.96:11222, 10.0.18.97:11222]\r\n    [2/23/22 9:06:28:060 CET] 000001ab HOTROD        I org.infinispan.client.hotrod.impl.transport.netty.ChannelFactory updateTopologyInfo ISPN004014: New server added(10.0.18.101:11222), adding to the pool.\r\n    [2/23/22 9:06:28:062 CET] 000001ab HOTROD        I org.infinispan.client.hotrod.impl.transport.netty.ChannelFactory updateTopologyInfo ISPN004014: New server added(10.0.18.102:11222), adding to the pool.\r\n    [2/23/22 9:06:28:063 CET] 000001ab HOTROD        I org.infinispan.client.hotrod.impl.transport.netty.ChannelFactory updateTopologyInfo ISPN004014: New server added(10.0.18.96:11222), adding to the pool.\r\n    [2/23/22 9:06:28:065 CET] 000001ab HOTROD        I org.infinispan.client.hotrod.impl.transport.netty.ChannelFactory updateTopologyInfo ISPN004014: New server added(10.0.18.97:11222), adding to the pool.\r\n    [2/23/22 9:06:28:082 CET] 000001ab HOTROD        I org.infinispan.client.hotrod.impl.transport.netty.ChannelFactory closeChannelPools ISPN004016: Server not in cluster anymore(server4:11222), removing from the pool.\r\n    [2/23/22 9:06:28:083 CET] 000001ab HOTROD        I org.infinispan.client.hotrod.impl.transport.netty.ChannelFactory closeChannelPools ISPN004016: Server not in cluster anymore(server2:11222), removing from the pool.\r\n    [2/23/22 9:06:28:083 CET] 000001ab HOTROD        I org.infinispan.client.hotrod.impl.transport.netty.ChannelFactory closeChannelPools ISPN004016: Server not in cluster anymore(server3:11222), removing from the pool.\r\n    [2/23/22 9:06:28:083 CET] 000001ab HOTROD        I org.infinispan.client.hotrod.impl.transport.netty.ChannelFactory closeChannelPools ISPN004016: Server not in cluster anymore(server1:11222), removing from the pool.\r\n    16576429:[2/23/22 9:06:33:056 CET] 000001ab HOTROD        W org.infinispan.client.hotrod.impl.operations.RetryOnFailureOperation handleException ISPN004098: Closing connection [id: 0x4299851e, L:/10.0.20.160:45567 ! R:server4/10.0.18.102:11222] due to transport error\r\n    16576703-                                 java.net.SocketTimeoutException: GetOperation{MY-CACHE, key=[B0x4A4B636F6D2E6475636174692E77612E..[77], flags=1, connection=server4/10.0.18.102:11222} timed out after 5000 ms\r\n    16576925-       at org.infinispan.client.hotrod.impl.operations.HotRodOperation.run(HotRodOperation.java:185)\r\n    16577020-       at io.netty.util.concurrent.PromiseTask.runTask(PromiseTask.java:98)\r\n    16577090-       at io.netty.util.concurrent.ScheduledFutureTask.run(ScheduledFutureTask.java:170)\r\n    16577173-       at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:164)\r\n    16577268-       at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472)\r\n    16577371-       at io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:384)\r\n    16577442-       at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\r\n    16577539-       at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n    16577617-       at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1160)\r\n    16577701-       at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n    16577785-       at java.lang.Thread.run(Thread.java:822)\r\n\r\n\r\n**NOTE**\r\n\r\nCharacter after HOTROD word indicates the LOG level\r\n\r\nExample:\r\n\r\n[2/23/22 9:06:28:083 CET] 000001ab HOTROD        **I** org.infinispan.client.hotrod.impl.transport.netty.ChannelFactory\r\n\r\n - I = INFO \r\n - W = WARNING\r\n - D = DEBUG\r\n - E = ERROR","title":"Infinispan HOTROD client throwing intermittent java.net.SocketTimeoutException: GetOperation","body":"<p>I tried to change some configuration properties, considering the reasonable trade-off beetween retry operations and timeouts.</p>\n<p><strong>HOT-ROD client config</strong>:</p>\n<pre><code>infinispan.client.hotrod.server_list=server1:11222;server2:11222;server3:11222;server4:11222\ninfinispan.client.hotrod.auth_username=app-user\ninfinispan.client.hotrod.auth_password=password\ninfinispan.client.hotrod.auth_realm=default\ninfinispan.client.hotrod.sasl_mechanism=SCRAM-SHA-512\n\n\ninfinispan.client.hotrod.socket_timeout=5000\ninfinispan.client.hotrod.connect_timeout=20000\ninfinispan.client.hotrod.max_retries=5\n\n# Connection pool\ninfinispan.client.hotrod.connection_pool.max_active=100\ninfinispan.client.hotrod.connection_pool.exhausted_action=WAIT\ninfinispan.client.hotrod.connection_pool.max_wait=20000\ninfinispan.client.hotrod.connection_pool.min_idle=50\n#default is 1800000\ninfinispan.client.hotrod.connection_pool.min_evictable_idle_time=600000\ninfinispan.client.hotrod.connection_pool.max_pending_requests=846\n\ninfinispan.client.hotrod.client_intelligence=HASH_DISTRIBUTION_AWARE\ninfinispan.client.hotrod.force_return_values=false\n\n#default is false\ninfinispan.client.hotrod.tcp_keep_alive=true \n</code></pre>\n<p>The changes have been done are:</p>\n<ul>\n<li><em>infinispan.client.hotrod.socket_timeout</em> reduced to 5000ms</li>\n<li><em>infinispan.client.hotrod.connection_pool.min_idle</em> incremented to 50</li>\n<li><em>infinispan.client.hotrod.connect_timeout</em> reduced to 20000ms</li>\n<li><em>infinispan.client.hotrod.max_retries reduced</em> to 5</li>\n<li><em>infinispan.client.hotrod.connection_pool.max_active</em> incremented to 100</li>\n</ul>\n<p>Tested in QA env and from log application, I can say the HOT-ROD client rarely after 4 RetryOnFailureOperations obtained</p>\n<pre><code>java.net.SocketTimeoutException: GetOperation`timed out after 5000 ms\n</code></pre>\n<p>occurs the <strong>updateTopologyInfo</strong> action client HOT-ROD side.\nThis HOT-ROD client policy it seems to be only the log generated from the Async thread runs in background to check the sockets are still alive.</p>\n<pre><code>[2/23/22 9:06:12:923 CET] 000001ab HOTROD        W org.infinispan.client.hotrod.impl.operations.RetryOnFailureOperation handleException ISPN004098: Closing connection [id: 0xa5345361, L:/10.0.20.160\n:44021 - R:10.0.18.102/10.0.18.102:11222] due to transport error\n                                 java.net.SocketTimeoutException: GetOperation{MY-CACHE, key=[B0x4A4B636F6D2E6475636174692E77612E..[77], flags=1, connection=10.0.18.102/10.0.18.102:11222} timed out a\nfter 5000 ms\n        at org.infinispan.client.hotrod.impl.operations.HotRodOperation.run(HotRodOperation.java:185)\n        at io.netty.util.concurrent.PromiseTask.runTask(PromiseTask.java:98)\n        at io.netty.util.concurrent.ScheduledFutureTask.run(ScheduledFutureTask.java:170)\n        at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:164)\n        at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472)\n        at io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:384)\n        at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\n        at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1160)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n        at java.lang.Thread.run(Thread.java:822)\n\n[2/23/22 9:06:17:924 CET] 000001a5 HOTROD        W org.infinispan.client.hotrod.impl.operations.RetryOnFailureOperation handleException ISPN004098: Closing connection [id: 0x54dacb9b, L:/10.0.20.160:42115 - R:10.0.18.97/10.0.18.97:11222] due to transport error\n                                 java.net.SocketTimeoutException: GetOperation{MY-CACHE, key=[B0x4A4B636F6D2E6475636174692E77612E..[77], flags=1, connection=10.0.18.97/10.0.18.97:11222} timed out after 5000 ms\n        at org.infinispan.client.hotrod.impl.operations.HotRodOperation.run(HotRodOperation.java:185)\n        at io.netty.util.concurrent.PromiseTask.runTask(PromiseTask.java:98)\n        at io.netty.util.concurrent.ScheduledFutureTask.run(ScheduledFutureTask.java:170)\n        at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:164)\n        at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472)\n        at io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:384)\n        at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\n        at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1160)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n        at java.lang.Thread.run(Thread.java:822)\n\n[2/23/22 9:06:22:925 CET] 000001a5 HOTROD        W org.infinispan.client.hotrod.impl.operations.RetryOnFailureOperation handleException ISPN004098: Closing connection [id: 0xe3e6fd98, L:/10.0.20.160:43629 - R:10.0.18.101/10.0.18.101:11222] due to transport error\n                                 java.net.SocketTimeoutException: GetOperation{MY-CACHE, key=[B0x4A4B636F6D2E6475636174692E77612E..[77], flags=1, connection=10.0.18.101/10.0.18.101:11222} timed out after 5000 ms\n                                     at org.infinispan.client.hotrod.impl.operations.HotRodOperation.run(HotRodOperation.java:185)\n        at io.netty.util.concurrent.PromiseTask.runTask(PromiseTask.java:98)\n        at io.netty.util.concurrent.ScheduledFutureTask.run(ScheduledFutureTask.java:170)\n        at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:164)\n        at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472)\n        at io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:384)\n        at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\n        at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1160)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n        at java.lang.Thread.run(Thread.java:822)\n\n[2/23/22 9:06:27:926 CET] 000001ab HOTROD        W org.infinispan.client.hotrod.impl.operations.RetryOnFailureOperation handleException ISPN004098: Closing connection [id: 0x52a4bd4a, L:/10.0.20.160:32912 - R:10.0.18.96/10.0.18.96:11222] due to transport error\n                                 java.net.SocketTimeoutException: GetOperation{MY-CACHE, key=[B0x4A4B636F6D2E6475636174692E77612E..[77], flags=1, connection=10.0.18.96/10.0.18.96:11222} timed out after 5000 ms\n        at org.infinispan.client.hotrod.impl.operations.HotRodOperation.run(HotRodOperation.java:185)\n        at io.netty.util.concurrent.PromiseTask.runTask(PromiseTask.java:98)\n        at io.netty.util.concurrent.ScheduledFutureTask.run(ScheduledFutureTask.java:170)\n        at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:164)\n        at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472)\n        at io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:384)\n        at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\n        at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1160)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n        at java.lang.Thread.run(Thread.java:822)\n\n[2/23/22 9:06:27:927 CET] 000001ab HOTROD        I org.infinispan.client.hotrod.impl.transport.netty.ChannelFactory updateTopologyInfo ISPN004014: New server added(server4:11222), adding to the pool.\n[2/23/22 9:06:27:927 CET] 000001ab HOTROD        I org.infinispan.client.hotrod.impl.transport.netty.ChannelFactory updateTopologyInfo ISPN004014: New server added(server2:11222), adding to the pool.\n[2/23/22 9:06:27:928 CET] 000001ab HOTROD        I org.infinispan.client.hotrod.impl.transport.netty.ChannelFactory updateTopologyInfo ISPN004014: New server added(server3:11222), adding to the pool.\n[2/23/22 9:06:27:928 CET] 000001ab HOTROD        I org.infinispan.client.hotrod.impl.transport.netty.ChannelFactory updateTopologyInfo ISPN004014: New server added(server1:11222), adding to the pool.\n[2/23/22 9:06:27:928 CET] 000001ab HOTROD        I org.infinispan.client.hotrod.impl.transport.netty.ChannelFactory closeChannelPools ISPN004016: Server not in cluster anymore(10.0.18.101:11222), removing from the pool.\n[2/23/22 9:06:27:928 CET] 000001ab HOTROD        I org.infinispan.client.hotrod.impl.transport.netty.ChannelFactory closeChannelPools ISPN004016: Server not in cluster anymore(10.0.18.102:11222), removing from the pool.\n[2/23/22 9:06:27:928 CET] 000001ab HOTROD        I org.infinispan.client.hotrod.impl.transport.netty.ChannelFactory closeChannelPools ISPN004016: Server not in cluster anymore(10.0.18.96:11222), removing from the pool.\n[2/23/22 9:06:27:929 CET] 000001ab HOTROD        I org.infinispan.client.hotrod.impl.transport.netty.ChannelFactory closeChannelPools ISPN004016: Server not in cluster anymore(10.0.18.97:11222), removing from the pool.\n[2/23/22 9:06:27:929 CET] 000001ab HOTROD        I org.infinispan.client.hotrod.impl.transport.netty.ChannelFactory closeChannelPools ISPN004016: Server not in cluster anymore(10.0.18.101:11222), removing from the pool.\n[2/23/22 9:06:27:929 CET] 000001ab HOTROD        I org.infinispan.client.hotrod.impl.transport.netty.ChannelFactory closeChannelPools ISPN004016: Server not in cluster anymore(10.0.18.102:11222), removing from the pool.\n[2/23/22 9:06:27:929 CET] 000001ab HOTROD        I org.infinispan.client.hotrod.impl.transport.netty.ChannelFactory closeChannelPools ISPN004016: Server not in cluster anymore(10.0.18.96:11222), removing from the pool.\n[2/23/22 9:06:27:929 CET] 000001ab HOTROD        I org.infinispan.client.hotrod.impl.transport.netty.ChannelFactory closeChannelPools ISPN004016: Server not in cluster anymore(10.0.18.97:11222), removing from the pool.\n[2/23/22 9:06:28:059 CET] 000001ab HOTROD        I org.infinispan.client.hotrod.impl.protocol.Codec20 readNewTopologyAndHash ISPN004006: Server sent new topology view (id=108, age=0) containing 4 addresses: [10.0.18.101:11222, 10.0.18.102:11222, 10.0.18.96:11222, 10.0.18.97:11222]\n[2/23/22 9:06:28:060 CET] 000001ab HOTROD        I org.infinispan.client.hotrod.impl.transport.netty.ChannelFactory updateTopologyInfo ISPN004014: New server added(10.0.18.101:11222), adding to the pool.\n[2/23/22 9:06:28:062 CET] 000001ab HOTROD        I org.infinispan.client.hotrod.impl.transport.netty.ChannelFactory updateTopologyInfo ISPN004014: New server added(10.0.18.102:11222), adding to the pool.\n[2/23/22 9:06:28:063 CET] 000001ab HOTROD        I org.infinispan.client.hotrod.impl.transport.netty.ChannelFactory updateTopologyInfo ISPN004014: New server added(10.0.18.96:11222), adding to the pool.\n[2/23/22 9:06:28:065 CET] 000001ab HOTROD        I org.infinispan.client.hotrod.impl.transport.netty.ChannelFactory updateTopologyInfo ISPN004014: New server added(10.0.18.97:11222), adding to the pool.\n[2/23/22 9:06:28:082 CET] 000001ab HOTROD        I org.infinispan.client.hotrod.impl.transport.netty.ChannelFactory closeChannelPools ISPN004016: Server not in cluster anymore(server4:11222), removing from the pool.\n[2/23/22 9:06:28:083 CET] 000001ab HOTROD        I org.infinispan.client.hotrod.impl.transport.netty.ChannelFactory closeChannelPools ISPN004016: Server not in cluster anymore(server2:11222), removing from the pool.\n[2/23/22 9:06:28:083 CET] 000001ab HOTROD        I org.infinispan.client.hotrod.impl.transport.netty.ChannelFactory closeChannelPools ISPN004016: Server not in cluster anymore(server3:11222), removing from the pool.\n[2/23/22 9:06:28:083 CET] 000001ab HOTROD        I org.infinispan.client.hotrod.impl.transport.netty.ChannelFactory closeChannelPools ISPN004016: Server not in cluster anymore(server1:11222), removing from the pool.\n16576429:[2/23/22 9:06:33:056 CET] 000001ab HOTROD        W org.infinispan.client.hotrod.impl.operations.RetryOnFailureOperation handleException ISPN004098: Closing connection [id: 0x4299851e, L:/10.0.20.160:45567 ! R:server4/10.0.18.102:11222] due to transport error\n16576703-                                 java.net.SocketTimeoutException: GetOperation{MY-CACHE, key=[B0x4A4B636F6D2E6475636174692E77612E..[77], flags=1, connection=server4/10.0.18.102:11222} timed out after 5000 ms\n16576925-       at org.infinispan.client.hotrod.impl.operations.HotRodOperation.run(HotRodOperation.java:185)\n16577020-       at io.netty.util.concurrent.PromiseTask.runTask(PromiseTask.java:98)\n16577090-       at io.netty.util.concurrent.ScheduledFutureTask.run(ScheduledFutureTask.java:170)\n16577173-       at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:164)\n16577268-       at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472)\n16577371-       at io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:384)\n16577442-       at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\n16577539-       at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n16577617-       at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1160)\n16577701-       at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n16577785-       at java.lang.Thread.run(Thread.java:822)\n</code></pre>\n<p><strong>NOTE</strong></p>\n<p>Character after HOTROD word indicates the LOG level</p>\n<p>Example:</p>\n<p>[2/23/22 9:06:28:083 CET] 000001ab HOTROD        <strong>I</strong> org.infinispan.client.hotrod.impl.transport.netty.ChannelFactory</p>\n<ul>\n<li>I = INFO</li>\n<li>W = WARNING</li>\n<li>D = DEBUG</li>\n<li>E = ERROR</li>\n</ul>\n"}],"owner":{"account_id":3883295,"reputation":1469,"user_id":3215301,"accept_rate":52,"display_name":"Stefano"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1271,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1688032194,"creation_date":1645001668,"question_id":71138730,"body_markdown":"I&#39;m using Infinispan HOTROD into java application running on IBM Liberty app server with JDK8.\r\n\r\nHOTROD client (lib 12.1.11.Final-redhat-00001 version) is implemented via `\r\n\r\n`org.infinispan.jcache.remote.JCachingProvider` :\r\n\r\n\r\n    @PostConstruct\r\n    private void setUp() {\r\n          LOGGER.info(&quot;START [setUp] CACHE&quot;);\r\n         \r\n          File conf = new File(System.getenv(&quot;CLIENT_HOTROD_FILE_PATH&quot;));\r\n         \r\n          URI uri = conf.toURI();\r\n        \r\n          // Retrieve the system wide cache manager via org.infinispan.jcache.remote.JCachingProvider\r\n          javax.cache.CacheManager cacheManager = Caching.getCachingProvider(&quot;org.infinispan.jcache.remote.JCachingProvider&quot;)\r\n                .getCacheManager(uri, this.getClass().getClassLoader(), null);\r\n          \r\n          this.cache = cacheManager.getCache(DATAGRIDKEY);\r\n         \r\n          LOGGER.info(&quot;END [setUp] cache &quot; + this.cache.getName() );\r\n      }\r\n\r\nHOT-ROD **client config file**:\r\n\r\n\r\n    infinispan.client.hotrod.server_list=server1.x.xx.xxx:11222;server2.x.xx.xxx:11222;server3..x.xx.xxx:11222;server4..x.xx.xxx:11222\r\n    infinispan.client.hotrod.auth_username=user-app\r\n    infinispan.client.hotrod.auth_password=password\r\n    infinispan.client.hotrod.auth_realm=default\r\n    infinispan.client.hotrod.sasl_mechanism=SCRAM-SHA-512\r\n    infinispan.client.hotrod.client_intelligence=HASH_DISTRIBUTION_AWARE\r\n \r\n[HOT-ROD client config properties available ][1]\r\n\r\nOtherwise the **config server** REDHAT Data Grid (8.2.3 version) is the followed:\r\n\r\n    {\r\n      &quot;distributed-cache&quot;: {\r\n        &quot;mode&quot;: &quot;ASYNC&quot;,\r\n        &quot;remote-timeout&quot;: 17500,\r\n        &quot;state-transfer&quot;: {\r\n          &quot;timeout&quot;: 60000\r\n        },\r\n        &quot;encoding&quot;: {\r\n          &quot;key&quot;: {\r\n            &quot;media-type&quot;: &quot;text/plain&quot;\r\n          },\r\n          &quot;value&quot;: {\r\n            &quot;media-type&quot;: &quot;application/x-protostream&quot;\r\n          }\r\n        },\r\n        &quot;locking&quot;: {\r\n          &quot;concurrency-level&quot;: 1000,\r\n          &quot;acquire-timeout&quot;: 15000,\r\n          &quot;striping&quot;: false\r\n        },\r\n        &quot;statistics&quot;: true\r\n      }\r\n    }  \r\n\r\nSometimes when the application has some requests into the log application side, occurs the java.net.SocketTimeoutException: GetOperation issue as the followed stacktrace:\r\n\r\n    [2/15/22 17:24:39:445 CET] 00000573 HOTROD W org.infinispan.client.hotrod.impl.operations.RetryOnFailureOperation handleException ISPN004098: Closing connection [id: 0x9a1a8fb2, L:/10.0.20.160:55295 ! R:10.0.18.97/10.0.18.97:11222] due to transport error java.net.SocketTimeoutException: GetOperation{Cache-Name-Test, key=[B0x4A6C636F6D2E6475636174692E77612E..[110], flags=1, connection=10.0.18.97/10.0.18.97:11222} timed out after 60000 ms\r\n    at org.infinispan.client.hotrod.impl.operations.HotRodOperation.run(HotRodOperation.java:185)\r\n    at io.netty.util.concurrent.PromiseTask.runTask(PromiseTask.java:98)\r\n    at io.netty.util.concurrent.ScheduledFutureTask.run(ScheduledFutureTask.java:170)\r\n    at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:164)\r\n    io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472)\r\n    io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:384)\r\n    io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\r\n    io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n    java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1160)\r\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n    at java.lang.Thread.run(Thread.java:822) \r\n\r\nThe issue is more frequent when the app receives a massive GET KEY requests, but sometimes the issue is occurred during an unmassive load requests.\r\n\r\nCould you know how to resolve the issue ? \r\nDo you know any suggestion ?\r\n\r\nThanks\r\n\r\n\r\n  [1]: https://docs.jboss.org/infinispan/12.1/apidocs/org/infinispan/client/hotrod/configuration/package-summary.html","title":"Infinispan HOTROD client throwing intermittent java.net.SocketTimeoutException: GetOperation","body":"<p>I'm using Infinispan HOTROD into java application running on IBM Liberty app server with JDK8.</p>\n<p>HOTROD client (lib 12.1.11.Final-redhat-00001 version) is implemented via `</p>\n<p><code>org.infinispan.jcache.remote.JCachingProvider</code> :</p>\n<pre><code>@PostConstruct\nprivate void setUp() {\n      LOGGER.info(&quot;START [setUp] CACHE&quot;);\n     \n      File conf = new File(System.getenv(&quot;CLIENT_HOTROD_FILE_PATH&quot;));\n     \n      URI uri = conf.toURI();\n    \n      // Retrieve the system wide cache manager via org.infinispan.jcache.remote.JCachingProvider\n      javax.cache.CacheManager cacheManager = Caching.getCachingProvider(&quot;org.infinispan.jcache.remote.JCachingProvider&quot;)\n            .getCacheManager(uri, this.getClass().getClassLoader(), null);\n      \n      this.cache = cacheManager.getCache(DATAGRIDKEY);\n     \n      LOGGER.info(&quot;END [setUp] cache &quot; + this.cache.getName() );\n  }\n</code></pre>\n<p>HOT-ROD <strong>client config file</strong>:</p>\n<pre><code>infinispan.client.hotrod.server_list=server1.x.xx.xxx:11222;server2.x.xx.xxx:11222;server3..x.xx.xxx:11222;server4..x.xx.xxx:11222\ninfinispan.client.hotrod.auth_username=user-app\ninfinispan.client.hotrod.auth_password=password\ninfinispan.client.hotrod.auth_realm=default\ninfinispan.client.hotrod.sasl_mechanism=SCRAM-SHA-512\ninfinispan.client.hotrod.client_intelligence=HASH_DISTRIBUTION_AWARE\n</code></pre>\n<p><a href=\"https://docs.jboss.org/infinispan/12.1/apidocs/org/infinispan/client/hotrod/configuration/package-summary.html\" rel=\"nofollow noreferrer\">HOT-ROD client config properties available </a></p>\n<p>Otherwise the <strong>config server</strong> REDHAT Data Grid (8.2.3 version) is the followed:</p>\n<pre><code>{\n  &quot;distributed-cache&quot;: {\n    &quot;mode&quot;: &quot;ASYNC&quot;,\n    &quot;remote-timeout&quot;: 17500,\n    &quot;state-transfer&quot;: {\n      &quot;timeout&quot;: 60000\n    },\n    &quot;encoding&quot;: {\n      &quot;key&quot;: {\n        &quot;media-type&quot;: &quot;text/plain&quot;\n      },\n      &quot;value&quot;: {\n        &quot;media-type&quot;: &quot;application/x-protostream&quot;\n      }\n    },\n    &quot;locking&quot;: {\n      &quot;concurrency-level&quot;: 1000,\n      &quot;acquire-timeout&quot;: 15000,\n      &quot;striping&quot;: false\n    },\n    &quot;statistics&quot;: true\n  }\n}  \n</code></pre>\n<p>Sometimes when the application has some requests into the log application side, occurs the java.net.SocketTimeoutException: GetOperation issue as the followed stacktrace:</p>\n<pre><code>[2/15/22 17:24:39:445 CET] 00000573 HOTROD W org.infinispan.client.hotrod.impl.operations.RetryOnFailureOperation handleException ISPN004098: Closing connection [id: 0x9a1a8fb2, L:/10.0.20.160:55295 ! R:10.0.18.97/10.0.18.97:11222] due to transport error java.net.SocketTimeoutException: GetOperation{Cache-Name-Test, key=[B0x4A6C636F6D2E6475636174692E77612E..[110], flags=1, connection=10.0.18.97/10.0.18.97:11222} timed out after 60000 ms\nat org.infinispan.client.hotrod.impl.operations.HotRodOperation.run(HotRodOperation.java:185)\nat io.netty.util.concurrent.PromiseTask.runTask(PromiseTask.java:98)\nat io.netty.util.concurrent.ScheduledFutureTask.run(ScheduledFutureTask.java:170)\nat io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:164)\nio.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472)\nio.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:384)\nio.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\nio.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\njava.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1160)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\nat java.lang.Thread.run(Thread.java:822) \n</code></pre>\n<p>The issue is more frequent when the app receives a massive GET KEY requests, but sometimes the issue is occurred during an unmassive load requests.</p>\n<p>Could you know how to resolve the issue ?\nDo you know any suggestion ?</p>\n<p>Thanks</p>\n"},{"tags":["java","pdfbox"],"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":2,"creation_date":1687596983,"post_id":76544071,"comment_id":134961568,"body_markdown":"IMHO it is `doc.getDocumentCatalog().getOpenAction()` and then you check the type, it should be one of the &quot;fit&quot; types derived from `PDPageDestination`. Why didn&#39;t it work? Please share a file.","body":"IMHO it is <code>doc.getDocumentCatalog().getOpenAction()</code> and then you check the type, it should be one of the &quot;fit&quot; types derived from <code>PDPageDestination</code>. Why didn&#39;t it work? Please share a file."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1687753676,"post_id":76544071,"comment_id":134975274,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":28883777,"reputation":1,"user_id":22122662,"display_name":"Jeff M"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688032124,"creation_date":1687808804,"answer_id":76559809,"question_id":76544071,"body_markdown":"Following Tilman Hausherr&#39;s suggestion and with a lot of experimentation, I have developed the following code. It works for the alphabetic fit types, not numeric percentages.\r\n\r\n\tprivate void displayInitialView(File pdfFile) {\r\n\t\tString pdfFilename = pdfFile.getName();\r\n\t\tString pageLayout = null;\r\n\t\tString fitWindowStr = null;\r\n\t\tString magnification = null;\r\n\t\r\n\t\ttry {\r\n\t\t\tPDDocument document = PDDocument.load(pdfFile);\r\n\t\t\tPDDocumentInformation docInfo = document.getDocumentInformation();\r\n\t\t\tPDDocumentCatalog docCatalog = document.getDocumentCatalog();\r\n\t\r\n\t\t\tpageLayout = docCatalog.getPageLayout().toString();\r\n\t\r\n\t\t\t/*   For all my pdf&#39;s: viewerPreferences==null\r\n\t\t\tPDViewerPreferences \tviewerPreferences\t= docCatalog.getViewerPreferences();\r\n\t\t\tif(viewerPreferences==null) {\r\n\t\t\t\tdocument.close();\r\n\t\t\t\tSystem.out.println(&quot;ERROR viewerPreferences==null ? pdfFilename: &quot; + pdfFilename);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tfitWindowStr = Boolean.toString(viewerPreferences.fitWindow());\r\n\t\t\t*/\r\n\t\r\n\t\t\tPDDestinationOrAction openAction = docCatalog.getOpenAction();\r\n\t\t\tif (openAction == null) {\r\n\t\t\t\tmagnification = &quot;Undetermined - possibly &#39;Default&#39;&quot;;\r\n\t\t\t} else {\r\n\t\t\t\tPDActionGoTo actionGoTo = (PDActionGoTo) openAction;\r\n\t\t\t\tCOSDictionary dictionary = actionGoTo.getCOSObject();\r\n\t\t\t\tif (!dictionary.containsKey(&quot;D&quot;)) {\r\n\t\t\t\t\tmagnification = &quot;Undetermined - no key &#39;D&#39;&quot;;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tCOSBase cosBase = dictionary.getItem(&quot;D&quot;);\r\n\t\t\t\t\tCOSArray cosArray = (COSArray) cosBase;\r\n\t\t\t\t\tIterator&lt;COSBase&gt; iterator = cosArray.iterator();\r\n\t\t\t\t\twhile (iterator.hasNext()) {\r\n\t\t\t\t\t\tCOSBase cosBaseInArray = iterator.next();\r\n\t\t\t\t\t\tif (cosBaseInArray instanceof COSName) {\r\n\t\t\t\t\t\t\tCOSName cosNameInArray = (COSName) cosBaseInArray;\r\n\t\t\t\t\t\t\tString cosNameInArrayStr = cosNameInArray.getName();\r\n\t\t\t\t\t\t\tif (cosNameInArrayStr.equals(&quot;XYZ&quot;)) {\r\n\t\t\t\t\t\t\t\tmagnification = &quot;Actual Size or some %&quot;;\r\n\t\t\t\t\t\t\t} else if (cosNameInArrayStr.equals(&quot;Fit&quot;)) {\r\n\t\t\t\t\t\t\t\tmagnification = &quot;Fit Page&quot;;\r\n\t\t\t\t\t\t\t} else if (cosNameInArrayStr.equals(&quot;FitH&quot;)) {\r\n\t\t\t\t\t\t\t\tmagnification = &quot;Fit Width&quot;;\r\n\t\t\t\t\t\t\t} else if (cosNameInArrayStr.equals(&quot;FitV&quot;)) {\r\n\t\t\t\t\t\t\t\tmagnification = &quot;Fit Height&quot;;\r\n\t\t\t\t\t\t\t} else if (cosNameInArrayStr.equals(&quot;FitBH&quot;)) {\r\n\t\t\t\t\t\t\t\tmagnification = &quot;Fit Visible&quot;;\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tmagnification = &quot;Undetermined - unexpected cosname&quot;;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tdocument.close();\r\n\t\t} catch (IOException e) {\r\n\t\t\tSystem.out.println(e.getMessage());\r\n\t\t\tSystem.exit(-1);\r\n\t\t}\r\n\t\r\n\t\tSystem.out.println(pdfFilename + &quot;,&quot; + pageLayout + &quot;,&quot; + magnification);\r\n\t}\r\n","title":"Get initial view magnification property of a pdf with PDFBox","body":"<p>Following Tilman Hausherr's suggestion and with a lot of experimentation, I have developed the following code. It works for the alphabetic fit types, not numeric percentages.</p>\n<pre><code>private void displayInitialView(File pdfFile) {\n    String pdfFilename = pdfFile.getName();\n    String pageLayout = null;\n    String fitWindowStr = null;\n    String magnification = null;\n\n    try {\n        PDDocument document = PDDocument.load(pdfFile);\n        PDDocumentInformation docInfo = document.getDocumentInformation();\n        PDDocumentCatalog docCatalog = document.getDocumentCatalog();\n\n        pageLayout = docCatalog.getPageLayout().toString();\n\n        /*   For all my pdf's: viewerPreferences==null\n        PDViewerPreferences     viewerPreferences   = docCatalog.getViewerPreferences();\n        if(viewerPreferences==null) {\n            document.close();\n            System.out.println(&quot;ERROR viewerPreferences==null ? pdfFilename: &quot; + pdfFilename);\n            return;\n        }\n        fitWindowStr = Boolean.toString(viewerPreferences.fitWindow());\n        */\n\n        PDDestinationOrAction openAction = docCatalog.getOpenAction();\n        if (openAction == null) {\n            magnification = &quot;Undetermined - possibly 'Default'&quot;;\n        } else {\n            PDActionGoTo actionGoTo = (PDActionGoTo) openAction;\n            COSDictionary dictionary = actionGoTo.getCOSObject();\n            if (!dictionary.containsKey(&quot;D&quot;)) {\n                magnification = &quot;Undetermined - no key 'D'&quot;;\n            } else {\n                COSBase cosBase = dictionary.getItem(&quot;D&quot;);\n                COSArray cosArray = (COSArray) cosBase;\n                Iterator&lt;COSBase&gt; iterator = cosArray.iterator();\n                while (iterator.hasNext()) {\n                    COSBase cosBaseInArray = iterator.next();\n                    if (cosBaseInArray instanceof COSName) {\n                        COSName cosNameInArray = (COSName) cosBaseInArray;\n                        String cosNameInArrayStr = cosNameInArray.getName();\n                        if (cosNameInArrayStr.equals(&quot;XYZ&quot;)) {\n                            magnification = &quot;Actual Size or some %&quot;;\n                        } else if (cosNameInArrayStr.equals(&quot;Fit&quot;)) {\n                            magnification = &quot;Fit Page&quot;;\n                        } else if (cosNameInArrayStr.equals(&quot;FitH&quot;)) {\n                            magnification = &quot;Fit Width&quot;;\n                        } else if (cosNameInArrayStr.equals(&quot;FitV&quot;)) {\n                            magnification = &quot;Fit Height&quot;;\n                        } else if (cosNameInArrayStr.equals(&quot;FitBH&quot;)) {\n                            magnification = &quot;Fit Visible&quot;;\n                        } else {\n                            magnification = &quot;Undetermined - unexpected cosname&quot;;\n                        }\n                    }\n                }\n            }\n        }\n        document.close();\n    } catch (IOException e) {\n        System.out.println(e.getMessage());\n        System.exit(-1);\n    }\n\n    System.out.println(pdfFilename + &quot;,&quot; + pageLayout + &quot;,&quot; + magnification);\n}\n</code></pre>\n"}],"owner":{"account_id":28883777,"reputation":1,"user_id":22122662,"display_name":"Jeff M"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688032124,"creation_date":1687565563,"question_id":76544071,"body_markdown":"The Adobe Acrobat Document Properties, Initial View tab displays &quot;Magnification&quot; with values such as Default, Fit Page and 100%. I&#39;m trying to review a folder of about 200 pdf files to identify the files where Magnification is not &quot;Fit Width&quot;. I cannot figure out the PDFBox method to get initial view magnification. It&#39;s not a PDDocument MetadataKey. I&#39;m lost in all the PDDocumentCatalog, PDPageDestination, PDPage... possibilities.\r\n\r\nI tried listing PDDocument MetadataKeys, and PDDocument Keywords, and PDDocumentCatalog PageLayout and PageMode, and tested if PDDocumentCatalog OpenAction was an instance of PDPageFitWidthDestination, and listed page (0)&#39;s COSName &amp; COSBase pairs. No luck.","title":"Get initial view magnification property of a pdf with PDFBox","body":"<p>The Adobe Acrobat Document Properties, Initial View tab displays &quot;Magnification&quot; with values such as Default, Fit Page and 100%. I'm trying to review a folder of about 200 pdf files to identify the files where Magnification is not &quot;Fit Width&quot;. I cannot figure out the PDFBox method to get initial view magnification. It's not a PDDocument MetadataKey. I'm lost in all the PDDocumentCatalog, PDPageDestination, PDPage... possibilities.</p>\n<p>I tried listing PDDocument MetadataKeys, and PDDocument Keywords, and PDDocumentCatalog PageLayout and PageMode, and tested if PDDocumentCatalog OpenAction was an instance of PDPageFitWidthDestination, and listed page (0)'s COSName &amp; COSBase pairs. No luck.</p>\n"},{"tags":["java","spring-boot","validation"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1687892647,"post_id":76567806,"comment_id":135000043,"body_markdown":"Mock `MyRestClient`. If you are running a spring test, autowiring `MyValidator` should give you an instance, which already depends on your mock. Otherwise just instantiate `MyValidator` manually with the mock.","body":"Mock <code>MyRestClient</code>. If you are running a spring test, autowiring <code>MyValidator</code> should give you an instance, which already depends on your mock. Otherwise just instantiate <code>MyValidator</code> manually with the mock."},{"owner":{"account_id":28906128,"reputation":1,"user_id":22140122,"display_name":"skiermax"},"score":0,"creation_date":1687945575,"post_id":76567806,"comment_id":135006779,"body_markdown":"Thanks. I can instantiate `MyValidator` manually with Mocked `MyRestClient`, but where should I get `ConstraintValidatorContext` for the `isValid()` ?","body":"Thanks. I can instantiate <code>MyValidator</code> manually with Mocked <code>MyRestClient</code>, but where should I get <code>ConstraintValidatorContext</code> for the <code>isValid()</code> ?"},{"owner":{"account_id":28906128,"reputation":1,"user_id":22140122,"display_name":"skiermax"},"score":0,"creation_date":1687946031,"post_id":76567806,"comment_id":135006863,"body_markdown":"Anyway, I don&#39;t need `ConstraintValidatorContext` for test MyValidator logic. So it is a working solution, thanks","body":"Anyway, I don&#39;t need <code>ConstraintValidatorContext</code> for test MyValidator logic. So it is a working solution, thanks"},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1687946163,"post_id":76567806,"comment_id":135006896,"body_markdown":"Provide mock for the method. `MyValidator` does not use the context, so you don&#39;t need to mock the methods, just a mock is enough.","body":"Provide mock for the method. <code>MyValidator</code> does not use the context, so you don&#39;t need to mock the methods, just a mock is enough."}],"answers":[{"tags":[],"owner":{"account_id":7300136,"reputation":1160,"user_id":5563263,"accept_rate":57,"display_name":"Loading"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687901382,"creation_date":1687901382,"answer_id":76568752,"question_id":76567806,"body_markdown":"One possible solution is to get the validator via spring injection into tests by using @SpringBootTest annotation (see [here](https://www.baeldung.com/spring-boot-testing))\r\n\r\nThen you can just mock the restclient by adding this annotation to the test class:\r\n\r\n    @MockBean(MyRestClient.class)\r\n\r\nYou also dont need to init the validator by hand, but can just use \r\n\r\n    @Autowired\r\n    MyValidator myValidator;\r\n\r\nin your test class\r\n","title":"How to unit-test a custom Validator with constructor-arg dependency?","body":"<p>One possible solution is to get the validator via spring injection into tests by using @SpringBootTest annotation (see <a href=\"https://www.baeldung.com/spring-boot-testing\" rel=\"nofollow noreferrer\">here</a>)</p>\n<p>Then you can just mock the restclient by adding this annotation to the test class:</p>\n<pre><code>@MockBean(MyRestClient.class)\n</code></pre>\n<p>You also dont need to init the validator by hand, but can just use</p>\n<pre><code>@Autowired\nMyValidator myValidator;\n</code></pre>\n<p>in your test class</p>\n"}],"owner":{"account_id":28906128,"reputation":1,"user_id":22140122,"display_name":"skiermax"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":178,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688032112,"creation_date":1687891400,"question_id":76567806,"body_markdown":"I have a custom validator like this (simplified for brevity):\r\n\r\n```\r\n//Custom Validator for my TaskDto. DTO annotated by @MyAnnotation\r\n@Component\r\n@RequiredArgsConstructor\r\npublic class MyValidator implements ConstraintValidator&lt;MyAnnotation, TaskDto&gt; {\r\n\r\n    private final MyRestClient restClient;//Constructor-arg dependency\r\n\r\n    @Override\r\n    public boolean isValid(TaskDto dto, ConstraintValidatorContext context) {\r\n\r\n        Map&lt;String, Variable&gt; taskVariables = restClient.getTaskVariables(dto.getTaskId());\r\n        return !taskVariables.isEmpty();\r\n   }\r\n}\r\n...\r\n\r\n@ExtendWith(MockitoExtension.class)\r\npublic class MyValidatorTest {\r\n\r\n    private Validator validator;\r\n\r\n    @BeforeEach\r\n    public void setUp(){\r\n        ValidatorFactory factory = Validation.buildDefaultValidatorFactory();\r\n        validator = factory.getValidator();\r\n    }\r\n\r\n\r\n    @Test\r\n    public void testTaskDto(){\r\n       TaskDto taskDto = taskDto.builder().setTaskId(1).build();\r\n       validator.validate(taskDto);\r\n    }\r\n}  \r\n```\r\n\r\n\r\nIf I run the Test I get \r\n```\r\nHV000064: Unable to instantiate ConstraintValidator: \r\n....\r\n                at org.hibernate.validator.internal.util.privilegedactions.NewInstance.run(NewInstance.java:44)\r\n```\r\nAs I understand - because there are no default constructor.\r\nIf I change constructor-arg dependency to\r\n```\r\n @Autowired MyRestClient restClient\r\n```\r\n- I get NPE, because `restClient` is NULL.\r\n\r\nIs there any way to use constructor-arg dependency and inject a mocked `MyRestClient` into my custom validator?","title":"How to unit-test a custom Validator with constructor-arg dependency?","body":"<p>I have a custom validator like this (simplified for brevity):</p>\n<pre><code>//Custom Validator for my TaskDto. DTO annotated by @MyAnnotation\n@Component\n@RequiredArgsConstructor\npublic class MyValidator implements ConstraintValidator&lt;MyAnnotation, TaskDto&gt; {\n\n    private final MyRestClient restClient;//Constructor-arg dependency\n\n    @Override\n    public boolean isValid(TaskDto dto, ConstraintValidatorContext context) {\n\n        Map&lt;String, Variable&gt; taskVariables = restClient.getTaskVariables(dto.getTaskId());\n        return !taskVariables.isEmpty();\n   }\n}\n...\n\n@ExtendWith(MockitoExtension.class)\npublic class MyValidatorTest {\n\n    private Validator validator;\n\n    @BeforeEach\n    public void setUp(){\n        ValidatorFactory factory = Validation.buildDefaultValidatorFactory();\n        validator = factory.getValidator();\n    }\n\n\n    @Test\n    public void testTaskDto(){\n       TaskDto taskDto = taskDto.builder().setTaskId(1).build();\n       validator.validate(taskDto);\n    }\n}  \n</code></pre>\n<p>If I run the Test I get</p>\n<pre><code>HV000064: Unable to instantiate ConstraintValidator: \n....\n                at org.hibernate.validator.internal.util.privilegedactions.NewInstance.run(NewInstance.java:44)\n</code></pre>\n<p>As I understand - because there are no default constructor.\nIf I change constructor-arg dependency to</p>\n<pre><code> @Autowired MyRestClient restClient\n</code></pre>\n<ul>\n<li>I get NPE, because <code>restClient</code> is NULL.</li>\n</ul>\n<p>Is there any way to use constructor-arg dependency and inject a mocked <code>MyRestClient</code> into my custom validator?</p>\n"},{"tags":["java","spring-boot","maven-compiler-plugin"],"comments":[{"owner":{"account_id":28917684,"reputation":11,"user_id":22149312,"display_name":"Thomas"},"score":0,"creation_date":1688031499,"post_id":76579837,"comment_id":135020378,"body_markdown":"Maven logs from my linux env are in the repos.","body":"Maven logs from my linux env are in the repos."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1688032259,"post_id":76579837,"comment_id":135020519,"body_markdown":"Don&#39;t add additional information in comments as that is totally unreadable. Run the compilation with `-e` or `-X` to get more information on why it fails and post that output in your question.","body":"Don&#39;t add additional information in comments as that is totally unreadable. Run the compilation with <code>-e</code> or <code>-X</code> to get more information on why it fails and post that output in your question."},{"owner":{"account_id":28917684,"reputation":11,"user_id":22149312,"display_name":"Thomas"},"score":0,"creation_date":1688032817,"post_id":76579837,"comment_id":135020623,"body_markdown":"I can&#39;t (exceed limit of characters), but you can find the file on the github repository :  https://github.com/tbasset-72/compile-bug-demo/blob/master/compile_result.txt","body":"I can&#39;t (exceed limit of characters), but you can find the file on the github repository :  <a href=\"https://github.com/tbasset-72/compile-bug-demo/blob/master/compile_result.txt\" rel=\"nofollow noreferrer\">github.com/tbasset-72/compile-bug-demo/blob/master/&hellip;</a>"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1688033461,"post_id":76579837,"comment_id":135020720,"body_markdown":"Looks like another javac is used then you think. Try to find all occurences of javac and/or run `which javac` and check which one it is. Could be that there is one in the regular path that is taking precedence over the java version that has been installed and is on `java.home`.","body":"Looks like another javac is used then you think. Try to find all occurences of javac and/or run <code>which javac</code> and check which one it is. Could be that there is one in the regular path that is taking precedence over the java version that has been installed and is on <code>java.home</code>."},{"owner":{"account_id":28917684,"reputation":11,"user_id":22149312,"display_name":"Thomas"},"score":0,"creation_date":1688033665,"post_id":76579837,"comment_id":135020756,"body_markdown":"Could be related ? https://github.com/spring-projects/spring-boot/issues/36114","body":"Could be related ? <a href=\"https://github.com/spring-projects/spring-boot/issues/36114\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-boot/issues/36114</a>"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1688033720,"post_id":76579837,"comment_id":135020768,"body_markdown":"No that has nothing to do with this, that is documentation only.","body":"No that has nothing to do with this, that is documentation only."},{"owner":{"account_id":120605,"reputation":24173,"user_id":313137,"display_name":"Romain Hippeau"},"score":0,"creation_date":1688047117,"post_id":76579837,"comment_id":135023646,"body_markdown":"Open a command window and type java -fullversion . That will  help you see which java you are actually running against.","body":"Open a command window and type java -fullversion . That will  help you see which java you are actually running against."},{"owner":{"account_id":28917684,"reputation":11,"user_id":22149312,"display_name":"Thomas"},"score":0,"creation_date":1688119405,"post_id":76579837,"comment_id":135034231,"body_markdown":"javac was not found. Installing java-17-openjdk-devel.x86_64 on my Alma linux machine solve the problem. Nevertheless, i don&#39;t understand why everything works well with Spring-boot 3.0.x, but fails with spring-boot 3.1.x... Has anyone get an explanation ?","body":"javac was not found. Installing java-17-openjdk-devel.x86_64 on my Alma linux machine solve the problem. Nevertheless, i don&#39;t understand why everything works well with Spring-boot 3.0.x, but fails with spring-boot 3.1.x... Has anyone get an explanation ?"}],"owner":{"account_id":28917684,"reputation":11,"user_id":22149312,"display_name":"Thomas"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1688032096,"creation_date":1688031341,"question_id":76579837,"body_markdown":"I have created a brand new spring-boot project with version 3.1.1 of Spring-Boot and JDK 17. The project is shared on [github](https://github.com/tbasset-72/compile-bug-demo).\r\n\r\nWhen i compile this project on windows, i have a build success. But if i try to compile the same project on Linux, the compilation fail with error : \r\n\r\n\r\n```\r\nFatal error compiling: error: release version 17 not supported\r\n```\r\n\r\nIf i downgrade to spring-boot 3.0.8, the compilation works on Windows and on Linux.\r\n\r\nI noticed Spring-boot 3.0.8 used maven-compiler version 3.10.1 while Spring-boot 3.1.1 used maven-compiler version 3.11.0.\r\n\r\nA also noticed that spring-boot-parent version 3.0.8 has those properties : \r\n\r\n```\r\n    &lt;java.version&gt;17&lt;/java.version&gt;\r\n    &lt;maven.compiler.source&gt;${java.version}&lt;/maven.compiler.source&gt;\r\n    &lt;maven.compiler.target&gt;${java.version}&lt;/maven.compiler.target&gt;\r\n```\r\n\r\nWhile Spring-boot-parent hasn&#39;t those properties, but has :\r\n\r\n\r\n```\r\n    &lt;java.version&gt;17&lt;/java.version&gt;\r\n    &lt;maven.compiler.release&gt;${java.version}&lt;/maven.compiler.release&gt;\r\n```\r\n\r\nMy configuration are :\r\n\r\nOn windows :\r\n- Windows 10\r\n- OpenJDK 17.0..6.0.10\r\n- Maven 3.9.1\r\n\r\nOn linux :\r\n- AlmaLinux release 8.7\r\n- OpenJDK Runtime Environment (Red_Hat-17.0.7.0.7-2)\r\n- Maven 3.9.2\r\n\r\n\r\nIf i override the property maven.compiler.release with empty value in my pom.xml file, the compilation succeed.\r\n","title":"Spring-boot compilation fail on Linux but ok on windows","body":"<p>I have created a brand new spring-boot project with version 3.1.1 of Spring-Boot and JDK 17. The project is shared on <a href=\"https://github.com/tbasset-72/compile-bug-demo\" rel=\"nofollow noreferrer\">github</a>.</p>\n<p>When i compile this project on windows, i have a build success. But if i try to compile the same project on Linux, the compilation fail with error :</p>\n<pre><code>Fatal error compiling: error: release version 17 not supported\n</code></pre>\n<p>If i downgrade to spring-boot 3.0.8, the compilation works on Windows and on Linux.</p>\n<p>I noticed Spring-boot 3.0.8 used maven-compiler version 3.10.1 while Spring-boot 3.1.1 used maven-compiler version 3.11.0.</p>\n<p>A also noticed that spring-boot-parent version 3.0.8 has those properties :</p>\n<pre><code>    &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;maven.compiler.source&gt;${java.version}&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;${java.version}&lt;/maven.compiler.target&gt;\n</code></pre>\n<p>While Spring-boot-parent hasn't those properties, but has :</p>\n<pre><code>    &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;maven.compiler.release&gt;${java.version}&lt;/maven.compiler.release&gt;\n</code></pre>\n<p>My configuration are :</p>\n<p>On windows :</p>\n<ul>\n<li>Windows 10</li>\n<li>OpenJDK 17.0..6.0.10</li>\n<li>Maven 3.9.1</li>\n</ul>\n<p>On linux :</p>\n<ul>\n<li>AlmaLinux release 8.7</li>\n<li>OpenJDK Runtime Environment (Red_Hat-17.0.7.0.7-2)</li>\n<li>Maven 3.9.2</li>\n</ul>\n<p>If i override the property maven.compiler.release with empty value in my pom.xml file, the compilation succeed.</p>\n"},{"tags":["java","javascript","html","selenium","selenium-ide"],"comments":[{"owner":{"account_id":1360570,"reputation":5872,"user_id":1298028,"accept_rate":85,"display_name":"Łukasz Rzeszotarski"},"score":0,"creation_date":1363558005,"post_id":15466250,"comment_id":21887744,"body_markdown":"What html driver are you using? Did you try with FirefoxDriver?","body":"What html driver are you using? Did you try with FirefoxDriver?"},{"owner":{"account_id":1696244,"reputation":2249,"user_id":1557584,"display_name":"HemChe"},"score":0,"creation_date":1363581916,"post_id":15466250,"comment_id":21893131,"body_markdown":"Paste the html code from the selenium IDE so that we can debug the problem. The basic problem is with Selenium IDE is not waiting for the auto suggestion to populate. you need to decrease the speed of the execution.Also you need to specify proper locators for the autosuggestion.","body":"Paste the html code from the selenium IDE so that we can debug the problem. The basic problem is with Selenium IDE is not waiting for the auto suggestion to populate. you need to decrease the speed of the execution.Also you need to specify proper locators for the autosuggestion."}],"answers":[{"tags":[],"owner":{"account_id":1645567,"reputation":1391,"user_id":1517162,"display_name":"Prashant Shukla"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1363599347,"creation_date":1363599347,"answer_id":15473535,"question_id":15466250,"body_markdown":"I tried automating same flow with Google&#39;s auto-complete. The problem, prima-facie appears to be the speed of test execution. Try to reduce the speed of test using the slider shown in the image. Make it slow.\r\n\r\n**OR**\r\n\r\nyou may insert some wait before he action you perform after the search. \r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/3BNbt.png","title":"Recording a search function with Selenium IDE","body":"<p>I tried automating same flow with Google's auto-complete. The problem, prima-facie appears to be the speed of test execution. Try to reduce the speed of test using the slider shown in the image. Make it slow.</p>\n\n<p><strong>OR</strong></p>\n\n<p>you may insert some wait before he action you perform after the search. </p>\n\n<p><img src=\"https://i.stack.imgur.com/3BNbt.png\" alt=\"enter image description here\"></p>\n"},{"tags":[],"owner":{"account_id":1238225,"reputation":4208,"user_id":1201371,"display_name":"Ankit jain"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1363601754,"creation_date":1363601754,"answer_id":15474287,"question_id":15466250,"body_markdown":"Try this code to perform searching. this code is work for me. check and let me know\r\n\r\n    open  | https://www.google.co.in/  |\r\n    type  | id=gbqfq                   | selenium\r\n    pause | 1000\r\n    click | //*[@id=&quot;gbqfbw&quot;]","title":"Recording a search function with Selenium IDE","body":"<p>Try this code to perform searching. this code is work for me. check and let me know</p>\n\n<pre><code>open  | https://www.google.co.in/  |\ntype  | id=gbqfq                   | selenium\npause | 1000\nclick | //*[@id=\"gbqfbw\"]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3500020,"reputation":11,"user_id":2926978,"display_name":"jhansi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688032088,"creation_date":1382941401,"answer_id":19628319,"question_id":15466250,"body_markdown":"I&#39;m using selenium IDE 2.4.0\r\nand Firefox version 24.0\r\n\r\nuse the below code for auto search:\r\n```\r\ncommand: type , Type: //*[@id=&#39;searchbox&#39;] , value: flower\r\n\r\ncommand: typeKeysAndWait , Type: //*[@id=&#39;searchbox&#39;], value:flower\r\n```\r\nUse both commands  in Selenium IDE the search will work \r\n\r\nor you can Use :\r\n```\r\ncommand: type , Type: //*[@id=&#39;searchbox&#39;] , value: flower\r\n\r\ncommand: typeKeys , Type: //*[@id=&#39;searchbox&#39;], value:flower\r\n```\r\n","title":"Recording a search function with Selenium IDE","body":"<p>I'm using selenium IDE 2.4.0\nand Firefox version 24.0</p>\n<p>use the below code for auto search:</p>\n<pre><code>command: type , Type: //*[@id='searchbox'] , value: flower\n\ncommand: typeKeysAndWait , Type: //*[@id='searchbox'], value:flower\n</code></pre>\n<p>Use both commands  in Selenium IDE the search will work</p>\n<p>or you can Use :</p>\n<pre><code>command: type , Type: //*[@id='searchbox'] , value: flower\n\ncommand: typeKeys , Type: //*[@id='searchbox'], value:flower\n</code></pre>\n"}],"owner":{"account_id":2506766,"reputation":19,"user_id":2180266,"display_name":"Timon Dudaczy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2206,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1688032088,"creation_date":1363554419,"question_id":15466250,"body_markdown":"I want to record and test the search function on my website.\r\nWhen I test it manually and tip something in it works. For example: I want to search the word &quot;title&quot;. I start typing &quot;t&quot;, then &quot;i&quot;, then &quot;t&quot;, then &quot;l&quot; and &quot;e&quot;. After typing &quot;t&quot; a few results are displayed =&gt; perfect. \r\nWhen I record this test with Selenium IDE it doesn&#39;t work because there is no search button to click. It is an automatic searching bar which already starts searching while typing in.\r\nThe command is &quot;type&quot;, value is &quot;title&quot;. When the test is done nothing happens, so the website doesn&#39;t search because I can not make a command with &quot;click and wait&quot;, ID = search button, because there is no search button!","title":"Recording a search function with Selenium IDE","body":"<p>I want to record and test the search function on my website.\nWhen I test it manually and tip something in it works. For example: I want to search the word \"title\". I start typing \"t\", then \"i\", then \"t\", then \"l\" and \"e\". After typing \"t\" a few results are displayed => perfect. \nWhen I record this test with Selenium IDE it doesn't work because there is no search button to click. It is an automatic searching bar which already starts searching while typing in.\nThe command is \"type\", value is \"title\". When the test is done nothing happens, so the website doesn't search because I can not make a command with \"click and wait\", ID = search button, because there is no search button!</p>\n"},{"tags":["java","java-stream"],"answers":[{"tags":[],"owner":{"account_id":23134567,"reputation":534,"user_id":17238973,"display_name":"Sahil Patel"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1688031747,"creation_date":1688025493,"answer_id":76579096,"question_id":76578219,"body_markdown":"Using Java Streams you can refer below code\r\n\r\n \r\n\tprivate static Map&lt;String, Map&lt;String, Map&lt;String, Object&gt;&gt;&gt; convertToMonthlyData(Map&lt;String, Map&lt;String, Object&gt;&gt; weeklyData) {\r\n\t\tDateTimeFormatter weekFormatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;);\r\n\t\tDateTimeFormatter monthFormatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM&quot;);\r\n\r\n\t\tMap&lt;String, Map&lt;String, Map&lt;String, Object&gt;&gt;&gt; monthwiseMap = new HashMap&lt;&gt;();\r\n\r\n\t\tweeklyData.forEach((country, weeklyDataDetail) -&gt; {\r\n\t\t\tMap&lt;String, Map&lt;String, Object&gt;&gt; countryMonthwiseMap = weeklyDataDetail.entrySet().stream()\r\n\t\t\t\t\t.collect(Collectors.groupingBy(entry -&gt; YearMonth.parse(entry.getKey(), weekFormatter).format(monthFormatter),\r\n\t\t\t\t\t\t\tCollectors.mapping(Map.Entry::getValue, Collectors.toList())))\r\n\t\t\t\t\t.entrySet().stream()\r\n\t\t\t\t\t.collect(Collectors.toMap(Map.Entry::getKey, entry -&gt; combineWeeklyData(entry.getValue())));\r\n\r\n\t\t\tmonthwiseMap.put(country, countryMonthwiseMap);\r\n\t\t});\r\n\r\n\t\treturn monthwiseMap;\r\n\r\n\t}\r\n\r\n\tprivate static Map&lt;String, Object&gt; combineWeeklyData(List&lt;Object&gt; weeklyData) {\r\n\t\tMap&lt;String, Object&gt; combinedData = new HashMap&lt;&gt;();\r\n\t\tint totalCustomerViews = 0;\r\n\t\tint totalProductSales = 0;\r\n\t\tint totalNoOfUnitsSold = 0;\r\n\t\tdouble totalConversion = 0.0;\r\n\r\n\t\tfor (Object data : weeklyData) {\r\n\t\t\tif (data instanceof Map) {\r\n\t\t\t\tMap&lt;String, Object&gt; weeklyDataMap = (Map&lt;String, Object&gt;) data;\r\n\t\t\t\ttotalCustomerViews += (int) weeklyDataMap.get(&quot;customerViews&quot;);\r\n\t\t\t\ttotalProductSales += (int) weeklyDataMap.get(&quot;productSales&quot;);\r\n\t\t\t\ttotalNoOfUnitsSold += (int) weeklyDataMap.get(&quot;noOfUnitsSold&quot;);\r\n\t\t\t\ttotalConversion += (double) weeklyDataMap.get(&quot;conversion&quot;);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tint numWeeks = weeklyData.size();\r\n\t\tdouble averageConversion = (numWeeks &gt; 0) ? totalConversion / numWeeks : 0.0;\r\n\r\n\t\tcombinedData.put(&quot;customerViews&quot;, totalCustomerViews);\r\n\t\tcombinedData.put(&quot;productSales&quot;, totalProductSales);\r\n\t\tcombinedData.put(&quot;noOfUnitsSold&quot;, totalNoOfUnitsSold);\r\n\t\tcombinedData.put(&quot;conversion&quot;, averageConversion);\r\n\r\n\t\treturn combinedData;\r\n\t}","title":"How do I convert weekly data to a monthly data from a nested map structure","body":"<p>Using Java Streams you can refer below code</p>\n<pre><code>private static Map&lt;String, Map&lt;String, Map&lt;String, Object&gt;&gt;&gt; convertToMonthlyData(Map&lt;String, Map&lt;String, Object&gt;&gt; weeklyData) {\n    DateTimeFormatter weekFormatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;);\n    DateTimeFormatter monthFormatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM&quot;);\n\n    Map&lt;String, Map&lt;String, Map&lt;String, Object&gt;&gt;&gt; monthwiseMap = new HashMap&lt;&gt;();\n\n    weeklyData.forEach((country, weeklyDataDetail) -&gt; {\n        Map&lt;String, Map&lt;String, Object&gt;&gt; countryMonthwiseMap = weeklyDataDetail.entrySet().stream()\n                .collect(Collectors.groupingBy(entry -&gt; YearMonth.parse(entry.getKey(), weekFormatter).format(monthFormatter),\n                        Collectors.mapping(Map.Entry::getValue, Collectors.toList())))\n                .entrySet().stream()\n                .collect(Collectors.toMap(Map.Entry::getKey, entry -&gt; combineWeeklyData(entry.getValue())));\n\n        monthwiseMap.put(country, countryMonthwiseMap);\n    });\n\n    return monthwiseMap;\n\n}\n\nprivate static Map&lt;String, Object&gt; combineWeeklyData(List&lt;Object&gt; weeklyData) {\n    Map&lt;String, Object&gt; combinedData = new HashMap&lt;&gt;();\n    int totalCustomerViews = 0;\n    int totalProductSales = 0;\n    int totalNoOfUnitsSold = 0;\n    double totalConversion = 0.0;\n\n    for (Object data : weeklyData) {\n        if (data instanceof Map) {\n            Map&lt;String, Object&gt; weeklyDataMap = (Map&lt;String, Object&gt;) data;\n            totalCustomerViews += (int) weeklyDataMap.get(&quot;customerViews&quot;);\n            totalProductSales += (int) weeklyDataMap.get(&quot;productSales&quot;);\n            totalNoOfUnitsSold += (int) weeklyDataMap.get(&quot;noOfUnitsSold&quot;);\n            totalConversion += (double) weeklyDataMap.get(&quot;conversion&quot;);\n        }\n    }\n\n    int numWeeks = weeklyData.size();\n    double averageConversion = (numWeeks &gt; 0) ? totalConversion / numWeeks : 0.0;\n\n    combinedData.put(&quot;customerViews&quot;, totalCustomerViews);\n    combinedData.put(&quot;productSales&quot;, totalProductSales);\n    combinedData.put(&quot;noOfUnitsSold&quot;, totalNoOfUnitsSold);\n    combinedData.put(&quot;conversion&quot;, averageConversion);\n\n    return combinedData;\n}\n</code></pre>\n"}],"owner":{"account_id":13950244,"reputation":15,"user_id":10073924,"display_name":"YouKnowWho"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76579096,"answer_count":1,"score":0,"last_activity_date":1688031747,"creation_date":1688015709,"question_id":76578219,"body_markdown":"I have a some data in Java which is in the format `Map&lt;String, Map&lt;String, Object&gt;&gt;`\r\n\r\nLet&#39;s say we have 2 countries and also assume that we have weekly data for each country, which means the last 60 days will have a data of something like this:\r\n\r\n```\r\n   {\r\n    &quot;US”= {\r\n        &quot;2023-01-02”={\r\n            &quot;customerViews&quot;= 2500,\r\n            &quot;productSales&quot;= 1200,\r\n            &quot;noOfUnitsSold&quot;= 600,\r\n            &quot;conversion&quot;= 0.24\r\n        },\r\n        &quot;2023-01-09”={\r\n            &quot;customerViews&quot;= 2900,\r\n            &quot;productSales&quot;= 1400,\r\n            &quot;noOfUnitsSold&quot;= 700,\r\n            &quot;conversion&quot;= 0.24\r\n        },\r\n        &quot;2023-01-16”= {\r\n            &quot;customerViews&quot;= 2000,\r\n            &quot;productSales&quot;= 1000,\r\n            &quot;noOfUnitsSold&quot;= 500,\r\n            &quot;conversion&quot;= 0.25\r\n        },\r\n        &quot;2023-02-23”= {\r\n            &quot;customerViews&quot;= 2700,\r\n            &quot;productSales&quot;= 1300,\r\n            &quot;noOfUnitsSold&quot;= 650,\r\n            &quot;conversion&quot;= 0.22\r\n        },\r\n        &quot;2023-01-30”={\r\n            &quot;customerViews&quot;= 1800,\r\n            &quot;productSales&quot;= 900,\r\n            &quot;noOfUnitsSold&quot;= 450,\r\n            &quot;conversion&quot;= 0.21\r\n        },\r\n        &quot;2023-02-06”= {\r\n            &quot;customerViews&quot;= 2300,\r\n            &quot;productSales&quot;= 1100,\r\n            &quot;noOfUnitsSold&quot;= 550,\r\n            &quot;conversion&quot;= 0.23\r\n        },\r\n        &quot;2023-02-13”= {\r\n            &quot;customerViews&quot;= 2000,\r\n            &quot;productSales&quot;= 1000,\r\n            &quot;noOfUnitsSold&quot;= 500,\r\n            &quot;conversion&quot;= 0.25\r\n        },\r\n        &quot;2023-02-20”= {\r\n            &quot;customerViews&quot;= 2500,\r\n            &quot;productSales&quot;= 1200,\r\n            &quot;noOfUnitsSold&quot;= 600,\r\n            &quot;conversion&quot;= 0.24\r\n        }\r\n    },\r\n    &quot;CA”= {\r\n        &quot;2023-01-02”= {\r\n            &quot;customerViews&quot;= 2000,\r\n            &quot;productSales&quot;= 1000,\r\n            &quot;noOfUnitsSold&quot;= 500,\r\n            &quot;conversion&quot;= 0.24\r\n        },\r\n        &quot;2023-01-23”= {\r\n            &quot;customerViews&quot;= 2200,\r\n            &quot;productSales&quot;= 1100,\r\n            &quot;noOfUnitsSold&quot;= 550,\r\n            &quot;conversion&quot;= 0.22\r\n        },\r\n        &quot;2023-01-30”={\r\n            &quot;customerViews&quot;= 1800,\r\n            &quot;productSales&quot;= 900,\r\n            &quot;noOfUnitsSold&quot;= 450,\r\n            &quot;conversion&quot;= 0.22\r\n        },\r\n        &quot;2023-02-06”= {\r\n            &quot;customerViews&quot;= 1700,\r\n            &quot;productSales&quot;= 850,\r\n            &quot;noOfUnitsSold&quot;= 425,\r\n            &quot;conversion&quot;= 0.21\r\n        },\r\n        &quot;2023-02-13”= {\r\n            &quot;customerViews&quot;= 2000,\r\n            &quot;productSales&quot;= 1000,\r\n            &quot;noOfUnitsSold&quot;= 500,\r\n            &quot;conversion&quot;= 0.24\r\n        }\r\n      }\r\n    }\r\n```\r\n\r\nThe reason I didn&#39;t include few weeks of data for 2nd country is because, there might be a case where there are no data for that week. So in that case there will be no entries for that week.\r\n\r\nNow, I want to take this data as a input and convert to a monthly data which in turn the response looks like this:\r\n\r\n```\r\n    {\r\n    &quot;US&quot;= {\r\n        &quot;2023-01&quot;= {\r\n            &quot;customerViews&quot;= 12400.0,\r\n            &quot;productSales&quot;= 6000.0,\r\n            &quot;noOfUnitsSold&quot;= 3000.0,\r\n            &quot;conversion&quot;= 1.18\r\n        },\r\n        &quot;2023-02&quot;= {\r\n            &quot;customerViews&quot;= 6300.0,\r\n            &quot;productSales&quot;= 3100.0,\r\n            &quot;noOfUnitsSold&quot;= 1550.0,\r\n            &quot;conversion&quot;= 0.7\r\n        }\r\n    },\r\n    &quot;CA&quot;= {\r\n        &quot;2023-01&quot;= {\r\n            &quot;customerViews&quot;= 4150.0,\r\n            &quot;productSales&quot;= 2050.0,\r\n            &quot;noOfUnitsSold&quot;= 1025.0,\r\n            &quot;conversion&quot;= 0.45\r\n        },\r\n        &quot;2023-02&quot;= {\r\n            &quot;customerViews&quot;= 3500.0,\r\n            &quot;productSales&quot;= 1750.0,\r\n            &quot;noOfUnitsSold&quot;= 875.0,\r\n            &quot;conversion&quot;= 0.43\r\n        }\r\n      }\r\n    }\r\n```\r\n\r\n\r\n\r\nThis is what I tried:\r\n\r\n```\r\n   import java.util.*;\r\n\r\n     public class WeeklyToMonthlyConverter {\r\n       public static Map&lt;String, Map&lt;String, Object&gt;&gt; convertToMonthlyData(Map&lt;String,   Map&lt;String, Object&gt;&gt; weeklyData) {\r\n        Map&lt;String, Map&lt;String, Object&gt;&gt; monthlyData = new HashMap&lt;&gt;();\r\n\r\n        for (Map.Entry&lt;String, Map&lt;String, Object&gt;&gt; countryEntry : weeklyData.entrySet()) {\r\n            String countryId = countryEntry.getKey();\r\n            Map&lt;String, Object&gt; weeklyMap = countryEntry.getValue();\r\n\r\n            Map&lt;String, Object&gt; monthlyMap = new HashMap&lt;&gt;();\r\n            for (Map.Entry&lt;String, Object&gt; weekEntry : weeklyMap.entrySet()) {\r\n                String weekDate = weekEntry.getKey();\r\n                Object weekData = weekEntry.getValue();\r\n\r\n                String month = weekDate.substring(0, 7); // Extract the year and month\r\n\r\n                if (monthlyMap.containsKey(month)) {\r\n                    // If the month entry exists, sum the values\r\n                    Map&lt;String, Object&gt; existingMonthData = (Map&lt;String, Object&gt;)    monthlyMap.get(month);\r\n                    sumData(existingMonthData, (Map&lt;String, Object&gt;) weekData);\r\n                } else {\r\n                    // If the month entry does not exist, initialize it with the weekly data\r\n                    monthlyMap.put(month, weekData);\r\n                }\r\n            }\r\n\r\n            monthlyData.put(countryId, monthlyMap);\r\n        }\r\n\r\n        return monthlyData;\r\n    }\r\n\r\n    private static void sumData(Map&lt;String, Object&gt; targetMap, Map&lt;String, Object&gt; sourceMap) {\r\n        for (Map.Entry&lt;String, Object&gt; entry : sourceMap.entrySet()) {\r\n            String key = entry.getKey();\r\n            Object value = entry.getValue();\r\n\r\n            if (value instanceof Number) {\r\n                // If the value is numeric, sum it with the existing value\r\n                if (targetMap.containsKey(key)) {\r\n                    Number existingValue = (Number) targetMap.get(key);\r\n                    double sum = existingValue.doubleValue() + ((Number) value).doubleValue();\r\n                    targetMap.put(key, sum);\r\n                } else {\r\n                    targetMap.put(key, value);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n       \r\n    Map&lt;String, Map&lt;String, Object&gt;&gt; weeklyData = new HashMap&lt;&gt;();\r\n\r\n   \r\n    Map&lt;String, Object&gt; usWeeklyData = new HashMap&lt;&gt;();\r\n\r\n    usWeeklyData.put(&quot;2023-01-02&quot;, createWeeklyObject(1000, 500, 2000, 0.25));\r\n    usWeeklyData.put(&quot;2023-01-09&quot;, createWeeklyObject(1200, 600, 2500, 0.24));\r\n    usWeeklyData.put(&quot;2023-01-16&quot;, createWeeklyObject(1100, 550, 2300, 0.23));\r\n    usWeeklyData.put(&quot;2023-01-23&quot;, createWeeklyObject(1300, 650, 2700, 0.22));\r\n    usWeeklyData.put(&quot;2023-01-30&quot;, createWeeklyObject(1400, 700, 2900, 0.24));\r\n    usWeeklyData.put(&quot;2023-02-06&quot;, createWeeklyObject(900, 450, 1800, 0.21));\r\n    usWeeklyData.put(&quot;2023-02-13&quot;, createWeeklyObject(1000, 500, 2000, 0.25));\r\n    usWeeklyData.put(&quot;2023-02-20&quot;, createWeeklyObject(1200, 600, 2500, 0.24));\r\n\r\n    weeklyData.put(&quot;US&quot;, usWeeklyData);\r\n\r\n    Map&lt;String, Object&gt; caWeeklyData = new HashMap&lt;&gt;();\r\n    caWeeklyData.put(&quot;2023-01-02&quot;, createWeeklyObject(800, 400, 1800, 0.22));\r\n    caWeeklyData.put(&quot;2023-01-23&quot;, createWeeklyObject(950, 475, 1950, 0.23));\r\n    caWeeklyData.put(&quot;2023-01-30&quot;, createWeeklyObject(1100, 550, 2200, 0.22));\r\n    caWeeklyData.put(&quot;2023-02-06&quot;, createWeeklyObject(850, 425, 1700, 0.21));\r\n    caWeeklyData.put(&quot;2023-02-13&quot;, createWeeklyObject(900, 450, 1800, 0.22));\r\n\r\n    weeklyData.put(&quot;CA&quot;, caWeeklyData);\r\n    \r\n    System.out.println(weeklyData);\r\n\r\n    // Convert to monthly data\r\n    Map&lt;String, Map&lt;String, Object&gt;&gt; monthlyData = convertToMonthlyData(weeklyData);\r\n\r\n    System.out.println(monthlyData);\r\n\r\n      }\r\n    \r\n    private static Map&lt;String, Object&gt; createWeeklyObject(int productSales, int noOfUnitsSold,      int customerViews, double conversion) {\r\n    Map&lt;String, Object&gt; weeklyObject = new HashMap&lt;&gt;();\r\n    weeklyObject.put(&quot;productSales&quot;, productSales);\r\n    weeklyObject.put(&quot;noOfUnitsSold&quot;, noOfUnitsSold);\r\n    weeklyObject.put(&quot;customerViews&quot;, customerViews);\r\n    weeklyObject.put(&quot;conversion&quot;, conversion);\r\n    return weeklyObject;\r\n      }\r\n    }\r\n```\r\n\r\n\r\nI don&#39;t have much hand&#39;s on experience using lambda and streams for which I think using these concepts, this can be made even more efficiently. Can you please guide me on this one?\r\n\r\nThanks in advance","title":"How do I convert weekly data to a monthly data from a nested map structure","body":"<p>I have a some data in Java which is in the format <code>Map&lt;String, Map&lt;String, Object&gt;&gt;</code></p>\n<p>Let's say we have 2 countries and also assume that we have weekly data for each country, which means the last 60 days will have a data of something like this:</p>\n<pre><code>   {\n    &quot;US”= {\n        &quot;2023-01-02”={\n            &quot;customerViews&quot;= 2500,\n            &quot;productSales&quot;= 1200,\n            &quot;noOfUnitsSold&quot;= 600,\n            &quot;conversion&quot;= 0.24\n        },\n        &quot;2023-01-09”={\n            &quot;customerViews&quot;= 2900,\n            &quot;productSales&quot;= 1400,\n            &quot;noOfUnitsSold&quot;= 700,\n            &quot;conversion&quot;= 0.24\n        },\n        &quot;2023-01-16”= {\n            &quot;customerViews&quot;= 2000,\n            &quot;productSales&quot;= 1000,\n            &quot;noOfUnitsSold&quot;= 500,\n            &quot;conversion&quot;= 0.25\n        },\n        &quot;2023-02-23”= {\n            &quot;customerViews&quot;= 2700,\n            &quot;productSales&quot;= 1300,\n            &quot;noOfUnitsSold&quot;= 650,\n            &quot;conversion&quot;= 0.22\n        },\n        &quot;2023-01-30”={\n            &quot;customerViews&quot;= 1800,\n            &quot;productSales&quot;= 900,\n            &quot;noOfUnitsSold&quot;= 450,\n            &quot;conversion&quot;= 0.21\n        },\n        &quot;2023-02-06”= {\n            &quot;customerViews&quot;= 2300,\n            &quot;productSales&quot;= 1100,\n            &quot;noOfUnitsSold&quot;= 550,\n            &quot;conversion&quot;= 0.23\n        },\n        &quot;2023-02-13”= {\n            &quot;customerViews&quot;= 2000,\n            &quot;productSales&quot;= 1000,\n            &quot;noOfUnitsSold&quot;= 500,\n            &quot;conversion&quot;= 0.25\n        },\n        &quot;2023-02-20”= {\n            &quot;customerViews&quot;= 2500,\n            &quot;productSales&quot;= 1200,\n            &quot;noOfUnitsSold&quot;= 600,\n            &quot;conversion&quot;= 0.24\n        }\n    },\n    &quot;CA”= {\n        &quot;2023-01-02”= {\n            &quot;customerViews&quot;= 2000,\n            &quot;productSales&quot;= 1000,\n            &quot;noOfUnitsSold&quot;= 500,\n            &quot;conversion&quot;= 0.24\n        },\n        &quot;2023-01-23”= {\n            &quot;customerViews&quot;= 2200,\n            &quot;productSales&quot;= 1100,\n            &quot;noOfUnitsSold&quot;= 550,\n            &quot;conversion&quot;= 0.22\n        },\n        &quot;2023-01-30”={\n            &quot;customerViews&quot;= 1800,\n            &quot;productSales&quot;= 900,\n            &quot;noOfUnitsSold&quot;= 450,\n            &quot;conversion&quot;= 0.22\n        },\n        &quot;2023-02-06”= {\n            &quot;customerViews&quot;= 1700,\n            &quot;productSales&quot;= 850,\n            &quot;noOfUnitsSold&quot;= 425,\n            &quot;conversion&quot;= 0.21\n        },\n        &quot;2023-02-13”= {\n            &quot;customerViews&quot;= 2000,\n            &quot;productSales&quot;= 1000,\n            &quot;noOfUnitsSold&quot;= 500,\n            &quot;conversion&quot;= 0.24\n        }\n      }\n    }\n</code></pre>\n<p>The reason I didn't include few weeks of data for 2nd country is because, there might be a case where there are no data for that week. So in that case there will be no entries for that week.</p>\n<p>Now, I want to take this data as a input and convert to a monthly data which in turn the response looks like this:</p>\n<pre><code>    {\n    &quot;US&quot;= {\n        &quot;2023-01&quot;= {\n            &quot;customerViews&quot;= 12400.0,\n            &quot;productSales&quot;= 6000.0,\n            &quot;noOfUnitsSold&quot;= 3000.0,\n            &quot;conversion&quot;= 1.18\n        },\n        &quot;2023-02&quot;= {\n            &quot;customerViews&quot;= 6300.0,\n            &quot;productSales&quot;= 3100.0,\n            &quot;noOfUnitsSold&quot;= 1550.0,\n            &quot;conversion&quot;= 0.7\n        }\n    },\n    &quot;CA&quot;= {\n        &quot;2023-01&quot;= {\n            &quot;customerViews&quot;= 4150.0,\n            &quot;productSales&quot;= 2050.0,\n            &quot;noOfUnitsSold&quot;= 1025.0,\n            &quot;conversion&quot;= 0.45\n        },\n        &quot;2023-02&quot;= {\n            &quot;customerViews&quot;= 3500.0,\n            &quot;productSales&quot;= 1750.0,\n            &quot;noOfUnitsSold&quot;= 875.0,\n            &quot;conversion&quot;= 0.43\n        }\n      }\n    }\n</code></pre>\n<p>This is what I tried:</p>\n<pre><code>   import java.util.*;\n\n     public class WeeklyToMonthlyConverter {\n       public static Map&lt;String, Map&lt;String, Object&gt;&gt; convertToMonthlyData(Map&lt;String,   Map&lt;String, Object&gt;&gt; weeklyData) {\n        Map&lt;String, Map&lt;String, Object&gt;&gt; monthlyData = new HashMap&lt;&gt;();\n\n        for (Map.Entry&lt;String, Map&lt;String, Object&gt;&gt; countryEntry : weeklyData.entrySet()) {\n            String countryId = countryEntry.getKey();\n            Map&lt;String, Object&gt; weeklyMap = countryEntry.getValue();\n\n            Map&lt;String, Object&gt; monthlyMap = new HashMap&lt;&gt;();\n            for (Map.Entry&lt;String, Object&gt; weekEntry : weeklyMap.entrySet()) {\n                String weekDate = weekEntry.getKey();\n                Object weekData = weekEntry.getValue();\n\n                String month = weekDate.substring(0, 7); // Extract the year and month\n\n                if (monthlyMap.containsKey(month)) {\n                    // If the month entry exists, sum the values\n                    Map&lt;String, Object&gt; existingMonthData = (Map&lt;String, Object&gt;)    monthlyMap.get(month);\n                    sumData(existingMonthData, (Map&lt;String, Object&gt;) weekData);\n                } else {\n                    // If the month entry does not exist, initialize it with the weekly data\n                    monthlyMap.put(month, weekData);\n                }\n            }\n\n            monthlyData.put(countryId, monthlyMap);\n        }\n\n        return monthlyData;\n    }\n\n    private static void sumData(Map&lt;String, Object&gt; targetMap, Map&lt;String, Object&gt; sourceMap) {\n        for (Map.Entry&lt;String, Object&gt; entry : sourceMap.entrySet()) {\n            String key = entry.getKey();\n            Object value = entry.getValue();\n\n            if (value instanceof Number) {\n                // If the value is numeric, sum it with the existing value\n                if (targetMap.containsKey(key)) {\n                    Number existingValue = (Number) targetMap.get(key);\n                    double sum = existingValue.doubleValue() + ((Number) value).doubleValue();\n                    targetMap.put(key, sum);\n                } else {\n                    targetMap.put(key, value);\n                }\n            }\n        }\n    }\n\n    public static void main(String[] args) {\n       \n    Map&lt;String, Map&lt;String, Object&gt;&gt; weeklyData = new HashMap&lt;&gt;();\n\n   \n    Map&lt;String, Object&gt; usWeeklyData = new HashMap&lt;&gt;();\n\n    usWeeklyData.put(&quot;2023-01-02&quot;, createWeeklyObject(1000, 500, 2000, 0.25));\n    usWeeklyData.put(&quot;2023-01-09&quot;, createWeeklyObject(1200, 600, 2500, 0.24));\n    usWeeklyData.put(&quot;2023-01-16&quot;, createWeeklyObject(1100, 550, 2300, 0.23));\n    usWeeklyData.put(&quot;2023-01-23&quot;, createWeeklyObject(1300, 650, 2700, 0.22));\n    usWeeklyData.put(&quot;2023-01-30&quot;, createWeeklyObject(1400, 700, 2900, 0.24));\n    usWeeklyData.put(&quot;2023-02-06&quot;, createWeeklyObject(900, 450, 1800, 0.21));\n    usWeeklyData.put(&quot;2023-02-13&quot;, createWeeklyObject(1000, 500, 2000, 0.25));\n    usWeeklyData.put(&quot;2023-02-20&quot;, createWeeklyObject(1200, 600, 2500, 0.24));\n\n    weeklyData.put(&quot;US&quot;, usWeeklyData);\n\n    Map&lt;String, Object&gt; caWeeklyData = new HashMap&lt;&gt;();\n    caWeeklyData.put(&quot;2023-01-02&quot;, createWeeklyObject(800, 400, 1800, 0.22));\n    caWeeklyData.put(&quot;2023-01-23&quot;, createWeeklyObject(950, 475, 1950, 0.23));\n    caWeeklyData.put(&quot;2023-01-30&quot;, createWeeklyObject(1100, 550, 2200, 0.22));\n    caWeeklyData.put(&quot;2023-02-06&quot;, createWeeklyObject(850, 425, 1700, 0.21));\n    caWeeklyData.put(&quot;2023-02-13&quot;, createWeeklyObject(900, 450, 1800, 0.22));\n\n    weeklyData.put(&quot;CA&quot;, caWeeklyData);\n    \n    System.out.println(weeklyData);\n\n    // Convert to monthly data\n    Map&lt;String, Map&lt;String, Object&gt;&gt; monthlyData = convertToMonthlyData(weeklyData);\n\n    System.out.println(monthlyData);\n\n      }\n    \n    private static Map&lt;String, Object&gt; createWeeklyObject(int productSales, int noOfUnitsSold,      int customerViews, double conversion) {\n    Map&lt;String, Object&gt; weeklyObject = new HashMap&lt;&gt;();\n    weeklyObject.put(&quot;productSales&quot;, productSales);\n    weeklyObject.put(&quot;noOfUnitsSold&quot;, noOfUnitsSold);\n    weeklyObject.put(&quot;customerViews&quot;, customerViews);\n    weeklyObject.put(&quot;conversion&quot;, conversion);\n    return weeklyObject;\n      }\n    }\n</code></pre>\n<p>I don't have much hand's on experience using lambda and streams for which I think using these concepts, this can be made even more efficiently. Can you please guide me on this one?</p>\n<p>Thanks in advance</p>\n"},{"tags":["java","java.util.scanner"],"comments":[{"owner":{"account_id":2507550,"reputation":10975,"user_id":2180785,"accept_rate":90,"display_name":"Frakcool"},"score":0,"creation_date":1395343359,"post_id":22542833,"comment_id":34308076,"body_markdown":"reading your coment below, have you tried reading name 1st and after reading age?","body":"reading your coment below, have you tried reading name 1st and after reading age?"},{"owner":{"account_id":4196075,"reputation":17303,"user_id":3437460,"accept_rate":49,"display_name":"user3437460"},"score":0,"creation_date":1395351286,"post_id":22542833,"comment_id":34312545,"body_markdown":"@Frakcool If we read string before reading int, it will work.","body":"@Frakcool If we read string before reading int, it will work."}],"answers":[{"tags":[],"owner":{"account_id":2347441,"reputation":67540,"user_id":2057294,"accept_rate":63,"display_name":"skiwi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1395343747,"creation_date":1395342821,"answer_id":22542934,"question_id":22542833,"body_markdown":"You should use only one `Scanner` instance per object that you are scanning. In this case you are reading from the `System.in`, so opening two scanners on the same them concurrently does not even make sense.\r\n\r\nSo you definately want to go with your first option, then the question comes, what is wrong with it:\r\n\r\nWell, you ask for `sc.nextInt()`, an integer, and a name rarely is an integer. You are most likely looking for either `name = sc.next()` for one word or for `name = sc.nextLine()` for a whole sentence (until the enter key has been pressed).\r\n\r\nAlso be aware that after `sc.nextInt()`, actually after any `sc.next***()`, you **need** to press &lt;kbd&gt;Enter&lt;/kbd&gt;.","title":"Different Java Scanner for input of different types","body":"<p>You should use only one <code>Scanner</code> instance per object that you are scanning. In this case you are reading from the <code>System.in</code>, so opening two scanners on the same them concurrently does not even make sense.</p>\n\n<p>So you definately want to go with your first option, then the question comes, what is wrong with it:</p>\n\n<p>Well, you ask for <code>sc.nextInt()</code>, an integer, and a name rarely is an integer. You are most likely looking for either <code>name = sc.next()</code> for one word or for <code>name = sc.nextLine()</code> for a whole sentence (until the enter key has been pressed).</p>\n\n<p>Also be aware that after <code>sc.nextInt()</code>, actually after any <code>sc.next***()</code>, you <strong>need</strong> to press <kbd>Enter</kbd>.</p>\n"},{"tags":[],"owner":{"account_id":312656,"reputation":37469,"user_id":626853,"display_name":"Aasmund Eldhuset"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1395343443,"creation_date":1395343443,"answer_id":22543121,"question_id":22542833,"body_markdown":"@skiwi is right about only using one `Scanner`, so you&#39;re doing that right. The reason it doesn&#39;t work is that `nextInt()` consumes all characters that make up the integer, but it does not touch the end-of-line character. So when `nextLine()` is called, it sees that there are no characters before the end-of-line character, so it thinks that an empty line was entered, and you get an empty String back. However, `nextLine()` does consume the end-of-line character, so if you call `sc.nextLine();` once before you do `name = sc.nextLine();`, it should work.","title":"Different Java Scanner for input of different types","body":"<p>@skiwi is right about only using one <code>Scanner</code>, so you're doing that right. The reason it doesn't work is that <code>nextInt()</code> consumes all characters that make up the integer, but it does not touch the end-of-line character. So when <code>nextLine()</code> is called, it sees that there are no characters before the end-of-line character, so it thinks that an empty line was entered, and you get an empty String back. However, <code>nextLine()</code> does consume the end-of-line character, so if you call <code>sc.nextLine();</code> once before you do <code>name = sc.nextLine();</code>, it should work.</p>\n"},{"tags":[],"owner":{"account_id":2644958,"reputation":13447,"user_id":2554605,"accept_rate":90,"display_name":"Michael Yaworski"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1395343881,"creation_date":1395343881,"answer_id":22543256,"question_id":22542833,"body_markdown":"You were not given a chance to enter the name because `nextInt()` doesn&#39;t read the new-line character `&#39;\\n&#39;` (inputted by user after pressing &lt;kbd&gt;Enter&lt;/kbd&gt;), whereas `nextLine()` does. So as soon as you call `name = sc.nextLine();`, it will just read the `&#39;\\n&#39;` character that the `nextInt()` didn&#39;t read already.\r\n\r\nDefinitely do not create a new Scanner if the Scanner if you&#39;re scanning the same thing (like `System.in`) - only change Scanners if you are scanning something else, like different files or something.\r\n\r\nTo get your code working (with only one Scanner instance), use this:\r\n\r\n\tint age = 0;\r\n\tString name;\r\n\tScanner sc = new Scanner(System.in);\r\n\r\n\tSystem.out.print(&quot;Enter Age: &quot;);\r\n\tage = sc.nextInt();\r\n\tSystem.out.print(&quot;Enter Name: &quot;);\r\n\r\n\tsc.nextLine(); // &quot;dispose&quot; of the &#39;\\n&#39; character\r\n\t               // so that it is not recorded by the next line\r\n\r\n\tname = sc.nextLine();\r\n\r\n\t// print your findings\r\n\tSystem.out.println(&quot;------\\nAge: &quot; + age + &quot;\\nName: &quot; + name);\r\n\r\nExample input/output:\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n    Enter Age: 17\r\n    Enter Name: Michael\r\n    ------\r\n    Age: 17\r\n    Name: Michael","title":"Different Java Scanner for input of different types","body":"<p>You were not given a chance to enter the name because <code>nextInt()</code> doesn't read the new-line character <code>'\\n'</code> (inputted by user after pressing <kbd>Enter</kbd>), whereas <code>nextLine()</code> does. So as soon as you call <code>name = sc.nextLine();</code>, it will just read the <code>'\\n'</code> character that the <code>nextInt()</code> didn't read already.</p>\n\n<p>Definitely do not create a new Scanner if the Scanner if you're scanning the same thing (like <code>System.in</code>) - only change Scanners if you are scanning something else, like different files or something.</p>\n\n<p>To get your code working (with only one Scanner instance), use this:</p>\n\n<pre><code>int age = 0;\nString name;\nScanner sc = new Scanner(System.in);\n\nSystem.out.print(\"Enter Age: \");\nage = sc.nextInt();\nSystem.out.print(\"Enter Name: \");\n\nsc.nextLine(); // \"dispose\" of the '\\n' character\n               // so that it is not recorded by the next line\n\nname = sc.nextLine();\n\n// print your findings\nSystem.out.println(\"------\\nAge: \" + age + \"\\nName: \" + name);\n</code></pre>\n\n<p>Example input/output:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Enter Age: 17\nEnter Name: Michael\n------\nAge: 17\nName: Michael\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10387325,"reputation":1,"user_id":7659922,"display_name":"chahboune Imad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1505925488,"creation_date":1488673083,"answer_id":42602942,"question_id":22542833,"body_markdown":"You can also use:\r\n\r\n    name = sc.next();","title":"Different Java Scanner for input of different types","body":"<p>You can also use:</p>\n\n<pre><code>name = sc.next();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14490190,"reputation":1,"user_id":10466739,"display_name":"Andi Thomaj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1539941421,"creation_date":1539941421,"answer_id":52889609,"question_id":22542833,"body_markdown":"This must work perfectly. I tested it out.\r\n\r\n    int age=0;\r\n    String name;\r\n    Scanner sc = new Scanner(System.in);\r\n\r\n    System.out.print(&quot;Enter Age: &quot;);\r\n    age = sc.nextInt();\r\n    System.out.print(&quot;Enter Name: &quot;);\r\n    name= sc.nextLine();","title":"Different Java Scanner for input of different types","body":"<p>This must work perfectly. I tested it out.</p>\n\n<pre><code>int age=0;\nString name;\nScanner sc = new Scanner(System.in);\n\nSystem.out.print(\"Enter Age: \");\nage = sc.nextInt();\nSystem.out.print(\"Enter Name: \");\nname= sc.nextLine();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23972908,"reputation":1,"user_id":17961355,"display_name":"Mihir Limje"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642486820,"creation_date":1642486820,"answer_id":70751098,"question_id":22542833,"body_markdown":"why this code has not work?\r\n\r\n    package Programs;\r\n    import java.util.Scanner;\r\n    public class LibraryManagement {\r\n    \tScanner s = new Scanner(System.in);\r\n    \tString Sname, Bname, Bauthor;\r\n    \tint Sid,Sclass,Bid;\r\n    \tvoid StudInfo()\r\n    \t{\r\n    \t\r\n    \tSystem.out.print(&quot;Enter the Student Id: &quot;);\r\n    \tSid=s.nextInt();\r\n    \t\r\n    \tSystem.out.print(&quot;Enter the Student name: &quot;);\r\n    \tSname=s.nextLine();\r\n    \t\r\n    \tSystem.out.print(&quot;Enter the Student Class: &quot;);\r\n    \tSclass=s.nextInt();\r\n    \t\r\n    \tSystem.out.println(&quot;Student detail is saved:  \\n Id : &quot;+ Sid + &quot; Name : &quot;+ Sname+ &quot; Class : &quot;);\r\n    \t\r\n    \t}\r\n        public static void main(String[] args) {\r\n        \t  LibraryManagement obj= new LibraryManagement();\r\n              obj.StudInfo();\r\n        \t}\r\n        \r\n        }\r\n\r\noutput is :&lt;br&gt;\r\nEnter the Student Id: 10 &lt;br&gt;\r\nEnter the Student name: Enter the Student Class: \r\n\r\n","title":"Different Java Scanner for input of different types","body":"<p>why this code has not work?</p>\n<pre><code>package Programs;\nimport java.util.Scanner;\npublic class LibraryManagement {\n    Scanner s = new Scanner(System.in);\n    String Sname, Bname, Bauthor;\n    int Sid,Sclass,Bid;\n    void StudInfo()\n    {\n    \n    System.out.print(&quot;Enter the Student Id: &quot;);\n    Sid=s.nextInt();\n    \n    System.out.print(&quot;Enter the Student name: &quot;);\n    Sname=s.nextLine();\n    \n    System.out.print(&quot;Enter the Student Class: &quot;);\n    Sclass=s.nextInt();\n    \n    System.out.println(&quot;Student detail is saved:  \\n Id : &quot;+ Sid + &quot; Name : &quot;+ Sname+ &quot; Class : &quot;);\n    \n    }\n    public static void main(String[] args) {\n          LibraryManagement obj= new LibraryManagement();\n          obj.StudInfo();\n        }\n    \n    }\n</code></pre>\n<p>output is :<br>\nEnter the Student Id: 10 <br>\nEnter the Student name: Enter the Student Class:</p>\n"},{"tags":[],"owner":{"account_id":22230543,"reputation":51,"user_id":16466798,"display_name":"Shubham-Misal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688031052,"creation_date":1687786223,"answer_id":76557178,"question_id":22542833,"body_markdown":"You can understand this by the further example. A single scanner class cannot be declared for taking inputs of different datatypes. So be specific while taking inputs in Java. If you are going to take multiple string inputs then make a particular scanner class for it and if you are going to take like multiple inputs for int then make a specific scanner class for it &amp; it depends on different datatypes &amp; if you want to take input in char then make a particular scanner class for it as well. It will help us reduce writing more code so if you are taking like 10 int inputs then make a specific scanner class for it and use these single scanner class names for 10 inputs basically it will reduce us writing 9 lines of more code for each int input, if you are taking 10 string inputs then make a particular scanner class for it &amp; if you are going to take 10 character inputs then make a particular scanner class for it AND SO ON  .........:) This will reduce writing code for each type of input.\r\n\r\n&gt; **Code**\r\n\r\n        import java.util.*;\r\n        import java.lang.*;\r\n        import java.io.*;\r\n\r\n        public class arraylistExample {\r\n            public static void main(String[]args){\r\n                // This is a common scanner class for string type of inputs \r\n                Scanner stringcommonforall=new Scanner(System.in);\r\n                // This is a common scanner class for integer type of inputs \r\n                Scanner intcommonforall=new Scanner(System.in);\r\n                int size;\r\n                int pos=0;\r\n                boolean findornot=false;\r\n                String found;\r\n                ArrayList&lt;String&gt; name=new ArrayList&lt;String&gt;();\r\n                System.out.print(&quot;Enter the size of the ArrayList &gt;&gt; &quot;);\r\n                size=intcommonforall.nextInt();\r\n                // when your are using one scanner for all types of input then you will get the error \r\n                for(int i=0;i&lt;size;i++){\r\n                    System.out.print(&quot;&gt;&gt; &quot;);\r\n                    name.add(stringcommonforall.nextLine());\r\n                }\r\n                System.out.print(&quot;Enter the element you want to search inside the arraylist &gt;&gt; &quot;);\r\n                found=stringcommonforall.nextLine();\r\n                for(String i:name){\r\n                    if(i.equals(found)){\r\n                        findornot=true;\r\n                        pos=name.indexOf(found);\r\n                        break;\r\n                    }\r\n                }\r\n                if(findornot==true){\r\n                    System.out.println(&quot;The elements inside he arraylist &gt;&gt; &quot;+name);\r\n                    System.out.println(&quot;The element &gt;&gt; &quot;+found+&quot; is found at the positioin &gt;&gt; &quot;+pos);\r\n                }\r\n                else{\r\n                    System.out.println(&quot;The elements inside he arraylist &gt;&gt; &quot;+name);\r\n                    System.out.println(&quot;The element &gt;&gt; &quot;+found+&quot; is not found inside the arraylist &quot;);\r\n                }\r\n            }\r\n        }\r\n\r\n&gt; **Output**\r\n\r\n        Enter the size of the arraylist &gt;&gt; 5\r\n        &gt;&gt; lorem ipsum\r\n        &gt;&gt; xyz\r\n        &gt;&gt; zyx 1\r\n        &gt;&gt; june\r\n        &gt;&gt; done\r\n        Enter the element you want to search inside the arraylist &gt;&gt; done\r\n        The elements inside he arraylist &gt;&gt; [lorem ipsum, xyz, zyx 1, june, done]\r\n        The element &gt;&gt; done is found at the positioin &gt;&gt; 4","title":"Different Java Scanner for input of different types","body":"<p>You can understand this by the further example. A single scanner class cannot be declared for taking inputs of different datatypes. So be specific while taking inputs in Java. If you are going to take multiple string inputs then make a particular scanner class for it and if you are going to take like multiple inputs for int then make a specific scanner class for it &amp; it depends on different datatypes &amp; if you want to take input in char then make a particular scanner class for it as well. It will help us reduce writing more code so if you are taking like 10 int inputs then make a specific scanner class for it and use these single scanner class names for 10 inputs basically it will reduce us writing 9 lines of more code for each int input, if you are taking 10 string inputs then make a particular scanner class for it &amp; if you are going to take 10 character inputs then make a particular scanner class for it AND SO ON  .........:) This will reduce writing code for each type of input.</p>\n<blockquote>\n<p><strong>Code</strong></p>\n</blockquote>\n<pre><code>    import java.util.*;\n    import java.lang.*;\n    import java.io.*;\n\n    public class arraylistExample {\n        public static void main(String[]args){\n            // This is a common scanner class for string type of inputs \n            Scanner stringcommonforall=new Scanner(System.in);\n            // This is a common scanner class for integer type of inputs \n            Scanner intcommonforall=new Scanner(System.in);\n            int size;\n            int pos=0;\n            boolean findornot=false;\n            String found;\n            ArrayList&lt;String&gt; name=new ArrayList&lt;String&gt;();\n            System.out.print(&quot;Enter the size of the ArrayList &gt;&gt; &quot;);\n            size=intcommonforall.nextInt();\n            // when your are using one scanner for all types of input then you will get the error \n            for(int i=0;i&lt;size;i++){\n                System.out.print(&quot;&gt;&gt; &quot;);\n                name.add(stringcommonforall.nextLine());\n            }\n            System.out.print(&quot;Enter the element you want to search inside the arraylist &gt;&gt; &quot;);\n            found=stringcommonforall.nextLine();\n            for(String i:name){\n                if(i.equals(found)){\n                    findornot=true;\n                    pos=name.indexOf(found);\n                    break;\n                }\n            }\n            if(findornot==true){\n                System.out.println(&quot;The elements inside he arraylist &gt;&gt; &quot;+name);\n                System.out.println(&quot;The element &gt;&gt; &quot;+found+&quot; is found at the positioin &gt;&gt; &quot;+pos);\n            }\n            else{\n                System.out.println(&quot;The elements inside he arraylist &gt;&gt; &quot;+name);\n                System.out.println(&quot;The element &gt;&gt; &quot;+found+&quot; is not found inside the arraylist &quot;);\n            }\n        }\n    }\n</code></pre>\n<blockquote>\n<p><strong>Output</strong></p>\n</blockquote>\n<pre><code>    Enter the size of the arraylist &gt;&gt; 5\n    &gt;&gt; lorem ipsum\n    &gt;&gt; xyz\n    &gt;&gt; zyx 1\n    &gt;&gt; june\n    &gt;&gt; done\n    Enter the element you want to search inside the arraylist &gt;&gt; done\n    The elements inside he arraylist &gt;&gt; [lorem ipsum, xyz, zyx 1, june, done]\n    The element &gt;&gt; done is found at the positioin &gt;&gt; 4\n</code></pre>\n"}],"owner":{"account_id":4196075,"reputation":17303,"user_id":3437460,"accept_rate":49,"display_name":"user3437460"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14145,"favorite_count":0,"down_vote_count":2,"up_vote_count":6,"accepted_answer_id":22543121,"answer_count":7,"score":4,"last_activity_date":1688031052,"creation_date":1395342547,"question_id":22542833,"body_markdown":"Imagine the following scanario: \r\nI have a program which ask for an integer input, followed by a String input.\r\n\r\n    int age=0;\r\n    String name;\r\n    Scanner sc = new Scanner(System.in);\r\n\r\n    System.out.print(&quot;Enter Age: &quot;);\r\n    age = sc.nextInt();\r\n    System.out.print(&quot;Enter Name: &quot;);\r\n    name= sc.nextLine();\r\n\r\nWith the aobe codes, I was not given a chance to enter the name. So normally I will declare 2 scanner objects as follows:\r\n\r\n    int age=0;\r\n    String name;\r\n    Scanner sc = new Scanner(System.in);\r\n    Scanner sc2 = new Scanner(System.in);    //2nd Scanner object\r\n\r\n    System.out.print(&quot;Enter Age: &quot;);\r\n    age = sc.nextInt();\r\n    System.out.print(&quot;Enter Name: &quot;);\r\n    name= sc2.nextLine();                    //Using 2nd Scanner Object\r\n\r\n\r\n**My question is:** Is it necessary to declare multiple scanner objects to accept inputs of different types?? Am I doing the proper way as aobve?\r\n\r\nI have this question in mind for years already. (Several questions in SO mention multiple scanner, but their questions only used one scanner object, so I am asking this today.)\r\n","title":"Different Java Scanner for input of different types","body":"<p>Imagine the following scanario: \nI have a program which ask for an integer input, followed by a String input.</p>\n\n<pre><code>int age=0;\nString name;\nScanner sc = new Scanner(System.in);\n\nSystem.out.print(\"Enter Age: \");\nage = sc.nextInt();\nSystem.out.print(\"Enter Name: \");\nname= sc.nextLine();\n</code></pre>\n\n<p>With the aobe codes, I was not given a chance to enter the name. So normally I will declare 2 scanner objects as follows:</p>\n\n<pre><code>int age=0;\nString name;\nScanner sc = new Scanner(System.in);\nScanner sc2 = new Scanner(System.in);    //2nd Scanner object\n\nSystem.out.print(\"Enter Age: \");\nage = sc.nextInt();\nSystem.out.print(\"Enter Name: \");\nname= sc2.nextLine();                    //Using 2nd Scanner Object\n</code></pre>\n\n<p><strong>My question is:</strong> Is it necessary to declare multiple scanner objects to accept inputs of different types?? Am I doing the proper way as aobve?</p>\n\n<p>I have this question in mind for years already. (Several questions in SO mention multiple scanner, but their questions only used one scanner object, so I am asking this today.)</p>\n"},{"tags":["java","oop","types","abap"],"answers":[{"tags":[],"owner":{"account_id":27982012,"reputation":1143,"user_id":21369598,"display_name":"AlexSchell"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1688030846,"creation_date":1687956229,"answer_id":76573311,"question_id":76573237,"body_markdown":"Unfortunately this is not possible in ABAP.\r\n\r\nAn interface **contains only definitions** and the actual implementation must be provided in a class that implements the interface. All the methods of an interface are abstract (i.e. they are fully defined including their signatures but not implemented).\r\n\r\nUnlike classes, an interface **does not have an implementation section** at all.  All of the components are in PUBLIC section by default, there **no visibility sections** and all components of the interface are visible.\r\n\r\nAn interface can have the following components:\r\n- `TYPES`, `DATA`, `CLASS-DATA`, `CONSTANTS`: data types and data objects\r\n- `METHODS`, `CLASS-METHODS`, `EVENTS`, `CLASS-EVENTS`: methods and events\r\ninterfaces provide fewer variants than classes for declarations of methods: no constructors, test methods, or AMDP function implementations are allowed\r\n- `INTERFACES`: inclusion of component interfaces;\r\n\r\n  `ALIASES`: alias names for components of interfaces\r\n\r\nAs we can see `CLASS-METHODS` indeed allows to define **static method declarations**, and the static methods are just *NOT instance specific*. It means that when a class implements such an interface, the methods defined as static do not require an instance to access / call them and they rather can be called on the class itself like  `class_name=&gt;interface_name~static_method_name`.\r\n\r\nThe purpose of declaring a method as static in an interface definition is actually to *create an agreement* that a particular *method will not depend on an instance* to work.\r\n\r\nThere are, however, also `PUBLIC` and `DEFAULT` keywords which might be used inside interface definition and which could at first lead to a confusion.\r\n\r\nInterface definition looks like:\r\n```\r\nINTERFACE intf [PUBLIC].\r\n    [components]\r\nENDINTERFACE.\r\n```\r\nAddition `PUBLIC` makes the interface a global interface of the class library and can only be used for the global interface of an interface pool and is created by class builder when a global interface is created.\r\n\r\nKeyword [`DEFAULT`][1] is available since [Release 7.40, SP08][2]\r\n\r\n```\r\nMETHODS meth [ABSTRACT|FINAL] | [DEFAULT IGNORE|FAIL] ...\r\nCLASS-METHODS meth [DEFAULT IGNORE|FAIL] ...\r\n```\r\nThe addition `DEFAULT` of the statements `METHODS` and `CLASS-METHODS` can be used to make these methods **optional**. An optional interface method **does not need to be implemented** explicitly in a class when an interface is implemented. Instead, a default behavior is specified for calls of non-implemented methods in the definition:\r\n- `DEFAULT IGNORE` - the behavior is the same as when it is implemented with an empty body\r\n- `DEFAULT FAIL` - raise an exception of the class `CX_SY_DYN_CALL_ILLEGAL_METHOD`\r\n\r\n  in case if not handled, the runtime error `CALL_METHOD_NOT_IMPLEMENTED` is raised\r\n\r\nYou can, of course, employ the inheritance to have a basic methods&#39; implementations, creating a (abstract) class with implemented methods and if necessary reimplement / override them in subclasses (keyword METHODS .. [`REDEFINITION`][3]).\r\n\r\n\r\n  [1]: https://help.sap.com/doc/abapdocu_latest_index_htm/latest/en-us/index.htm?file=abapmethods_default.htm\r\n  [2]: https://help.sap.com/doc/abapdocu_740_index_htm/7.40/en-US/index.htm?file=abennews-740_sp08-abap_objects.htm\r\n  [3]: https://help.sap.com/doc/abapdocu_latest_index_htm/latest/en-us/index.htm?file=abapmethods_redefinition.htm","title":"Default / static methods implementation in ABAP OO Interface","body":"<p>Unfortunately this is not possible in ABAP.</p>\n<p>An interface <strong>contains only definitions</strong> and the actual implementation must be provided in a class that implements the interface. All the methods of an interface are abstract (i.e. they are fully defined including their signatures but not implemented).</p>\n<p>Unlike classes, an interface <strong>does not have an implementation section</strong> at all.  All of the components are in PUBLIC section by default, there <strong>no visibility sections</strong> and all components of the interface are visible.</p>\n<p>An interface can have the following components:</p>\n<ul>\n<li><p><code>TYPES</code>, <code>DATA</code>, <code>CLASS-DATA</code>, <code>CONSTANTS</code>: data types and data objects</p>\n</li>\n<li><p><code>METHODS</code>, <code>CLASS-METHODS</code>, <code>EVENTS</code>, <code>CLASS-EVENTS</code>: methods and events\ninterfaces provide fewer variants than classes for declarations of methods: no constructors, test methods, or AMDP function implementations are allowed</p>\n</li>\n<li><p><code>INTERFACES</code>: inclusion of component interfaces;</p>\n<p><code>ALIASES</code>: alias names for components of interfaces</p>\n</li>\n</ul>\n<p>As we can see <code>CLASS-METHODS</code> indeed allows to define <strong>static method declarations</strong>, and the static methods are just <em>NOT instance specific</em>. It means that when a class implements such an interface, the methods defined as static do not require an instance to access / call them and they rather can be called on the class itself like  <code>class_name=&gt;interface_name~static_method_name</code>.</p>\n<p>The purpose of declaring a method as static in an interface definition is actually to <em>create an agreement</em> that a particular <em>method will not depend on an instance</em> to work.</p>\n<p>There are, however, also <code>PUBLIC</code> and <code>DEFAULT</code> keywords which might be used inside interface definition and which could at first lead to a confusion.</p>\n<p>Interface definition looks like:</p>\n<pre><code>INTERFACE intf [PUBLIC].\n    [components]\nENDINTERFACE.\n</code></pre>\n<p>Addition <code>PUBLIC</code> makes the interface a global interface of the class library and can only be used for the global interface of an interface pool and is created by class builder when a global interface is created.</p>\n<p>Keyword <a href=\"https://help.sap.com/doc/abapdocu_latest_index_htm/latest/en-us/index.htm?file=abapmethods_default.htm\" rel=\"nofollow noreferrer\"><code>DEFAULT</code></a> is available since <a href=\"https://help.sap.com/doc/abapdocu_740_index_htm/7.40/en-US/index.htm?file=abennews-740_sp08-abap_objects.htm\" rel=\"nofollow noreferrer\">Release 7.40, SP08</a></p>\n<pre><code>METHODS meth [ABSTRACT|FINAL] | [DEFAULT IGNORE|FAIL] ...\nCLASS-METHODS meth [DEFAULT IGNORE|FAIL] ...\n</code></pre>\n<p>The addition <code>DEFAULT</code> of the statements <code>METHODS</code> and <code>CLASS-METHODS</code> can be used to make these methods <strong>optional</strong>. An optional interface method <strong>does not need to be implemented</strong> explicitly in a class when an interface is implemented. Instead, a default behavior is specified for calls of non-implemented methods in the definition:</p>\n<ul>\n<li><p><code>DEFAULT IGNORE</code> - the behavior is the same as when it is implemented with an empty body</p>\n</li>\n<li><p><code>DEFAULT FAIL</code> - raise an exception of the class <code>CX_SY_DYN_CALL_ILLEGAL_METHOD</code></p>\n<p>in case if not handled, the runtime error <code>CALL_METHOD_NOT_IMPLEMENTED</code> is raised</p>\n</li>\n</ul>\n<p>You can, of course, employ the inheritance to have a basic methods' implementations, creating a (abstract) class with implemented methods and if necessary reimplement / override them in subclasses (keyword METHODS .. <a href=\"https://help.sap.com/doc/abapdocu_latest_index_htm/latest/en-us/index.htm?file=abapmethods_redefinition.htm\" rel=\"nofollow noreferrer\"><code>REDEFINITION</code></a>).</p>\n"}],"owner":{"account_id":17772182,"reputation":3,"user_id":19500617,"display_name":"Conrado Lorca"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":278,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688030846,"creation_date":1687955665,"question_id":76573237,"body_markdown":"In Java starting from JDK 8 it is possible to define a default implementation of a method in an interface with the `default` keyword at the beginning of the method signature, mainly to enable to add new functionality to the interfaces and ensure compatibility with code written for older versions of those interfaces.\r\n\r\nIn addition to default methods, it is also possible to define `static` methods in an interface, which makes it easier to organize helper methods in libraries and keep static methods specific to an interface in the same interface rather than in a separate class.\r\n\r\nIs something like this possible in ABAP?\r\n\r\nAs I don&#39;t have a lot of experience with ABAP OO, I did not find an exact answer.","title":"Default / static methods implementation in ABAP OO Interface","body":"<p>In Java starting from JDK 8 it is possible to define a default implementation of a method in an interface with the <code>default</code> keyword at the beginning of the method signature, mainly to enable to add new functionality to the interfaces and ensure compatibility with code written for older versions of those interfaces.</p>\n<p>In addition to default methods, it is also possible to define <code>static</code> methods in an interface, which makes it easier to organize helper methods in libraries and keep static methods specific to an interface in the same interface rather than in a separate class.</p>\n<p>Is something like this possible in ABAP?</p>\n<p>As I don't have a lot of experience with ABAP OO, I did not find an exact answer.</p>\n"},{"tags":["java","android","tensor","tensorflow-lite"],"answers":[{"tags":[],"owner":{"account_id":10351262,"reputation":106,"user_id":13566128,"display_name":"Notron"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688030423,"creation_date":1687180851,"answer_id":76507051,"question_id":62795625,"body_markdown":"As far as I have tested and tried to run the model with different batch size, you should add the bitmap data in first element of `byteBuffer` array, and not add new element in `byteBuffer` list.\r\nI cannot find anything official from tensorflow lite but this is how I managed to solve this.\r\nIf you want to check an example check this [answer][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/76507845/13566128","title":"Android: java.lang.IllegalArgumentException: Invalid input Tensor index: 1","body":"<p>As far as I have tested and tried to run the model with different batch size, you should add the bitmap data in first element of <code>byteBuffer</code> array, and not add new element in <code>byteBuffer</code> list.\nI cannot find anything official from tensorflow lite but this is how I managed to solve this.\nIf you want to check an example check this <a href=\"https://stackoverflow.com/a/76507845/13566128\">answer</a>.</p>\n"}],"owner":{"account_id":10310450,"reputation":342,"user_id":7606455,"display_name":"Ankit Saini"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":856,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1688030423,"creation_date":1594213918,"question_id":62795625,"body_markdown":"I am trying to interpret multiple input outputs by using method of **org.tensorflow.lite** (doc link https://www.tensorflow.org/lite/guide/inference) which is given below : \r\n\r\n   \r\n\r\n    interpreter.runForMultipleInputsOutputs(inputs, map_of_indices_to_outputs);\r\n\r\nwhile I am passing a single value in the input-output array. its working fine and getting the proper output. ***But in case of more than 1 input-output values getting error.***\r\n\r\n *Code with single item array:* \r\n\r\n     List&lt;ByteBuffer&gt; byteBuffer = new ArrayList&lt;&gt;() ;\r\n     byteBuffer.add(convertBitmapToByteBufferOld(bitmap));\r\n     Map&lt;Integer, Object&gt; outputs = new HashMap&lt;&gt;();\r\n     byte[][] result1 = new byte[1][labelList.size()];\r\n     outputs.put(0, result1);\r\n     interpreter.runForMultipleInputsOutputs(byteBuffer.toArray(), outputs);\r\n\r\n***Output:*** working fine getting ML process result.\r\n\r\n\r\n\r\n*Code with multiple input-output arrays is given below:* \r\n\r\n\r\n     List&lt;ByteBuffer&gt; byteBuffer = new ArrayList&lt;&gt;() ;\r\n     byteBuffer.add(convertBitmapToByteBufferOld(bitmap1));\r\n     byteBuffer.add(convertBitmapToByteBufferOld(bitmap2));\r\n     Map&lt;Integer, Object&gt; outputs = new HashMap&lt;&gt;();\r\n     byte[][] result1 = new byte[1][labelList.size()];\r\n     byte[][] result2 = new byte[1][labelList.size()];\r\n     outputs.put(0, result1);\r\n     outputs.put(1, result2);\r\n     interpreter.runForMultipleInputsOutputs(byteBuffer.toArray(), outputs);\r\n\r\n***Error:***\r\n \r\n\r\n    java.lang.IllegalArgumentException: Invalid input Tensor index: 1\r\n            at org.tensorflow.lite.NativeInterpreterWrapper.getInputTensor(NativeInterpreterWrapper.java:269)\r\n            at org.tensorflow.lite.NativeInterpreterWrapper.run(NativeInterpreterWrapper.java:136)\r\n            at org.tensorflow.lite.Interpreter.runForMultipleInputsOutputs(Interpreter.java:314)\r\n            at com.amitshekhar.tflite.TensorFlowImageClassifier.recognizeImage(TensorFlowImageClassifier.java:88)\r\n\r\n*It would be great if anyone resolves my problem. Thanks in advance.*\r\n\r\n","title":"Android: java.lang.IllegalArgumentException: Invalid input Tensor index: 1","body":"<p>I am trying to interpret multiple input outputs by using method of <strong>org.tensorflow.lite</strong> (doc link <a href=\"https://www.tensorflow.org/lite/guide/inference\" rel=\"nofollow noreferrer\">https://www.tensorflow.org/lite/guide/inference</a>) which is given below :</p>\n<pre><code>interpreter.runForMultipleInputsOutputs(inputs, map_of_indices_to_outputs);\n</code></pre>\n<p>while I am passing a single value in the input-output array. its working fine and getting the proper output. <em><strong>But in case of more than 1 input-output values getting error.</strong></em></p>\n<p><em>Code with single item array:</em></p>\n<pre><code> List&lt;ByteBuffer&gt; byteBuffer = new ArrayList&lt;&gt;() ;\n byteBuffer.add(convertBitmapToByteBufferOld(bitmap));\n Map&lt;Integer, Object&gt; outputs = new HashMap&lt;&gt;();\n byte[][] result1 = new byte[1][labelList.size()];\n outputs.put(0, result1);\n interpreter.runForMultipleInputsOutputs(byteBuffer.toArray(), outputs);\n</code></pre>\n<p><em><strong>Output:</strong></em> working fine getting ML process result.</p>\n<p><em>Code with multiple input-output arrays is given below:</em></p>\n<pre><code> List&lt;ByteBuffer&gt; byteBuffer = new ArrayList&lt;&gt;() ;\n byteBuffer.add(convertBitmapToByteBufferOld(bitmap1));\n byteBuffer.add(convertBitmapToByteBufferOld(bitmap2));\n Map&lt;Integer, Object&gt; outputs = new HashMap&lt;&gt;();\n byte[][] result1 = new byte[1][labelList.size()];\n byte[][] result2 = new byte[1][labelList.size()];\n outputs.put(0, result1);\n outputs.put(1, result2);\n interpreter.runForMultipleInputsOutputs(byteBuffer.toArray(), outputs);\n</code></pre>\n<p><em><strong>Error:</strong></em></p>\n<pre><code>java.lang.IllegalArgumentException: Invalid input Tensor index: 1\n        at org.tensorflow.lite.NativeInterpreterWrapper.getInputTensor(NativeInterpreterWrapper.java:269)\n        at org.tensorflow.lite.NativeInterpreterWrapper.run(NativeInterpreterWrapper.java:136)\n        at org.tensorflow.lite.Interpreter.runForMultipleInputsOutputs(Interpreter.java:314)\n        at com.amitshekhar.tflite.TensorFlowImageClassifier.recognizeImage(TensorFlowImageClassifier.java:88)\n</code></pre>\n<p><em>It would be great if anyone resolves my problem. Thanks in advance.</em></p>\n"},{"tags":["java","android","react-native","gradle"],"comments":[{"owner":{"account_id":7639534,"reputation":188,"user_id":5792077,"display_name":"Gerardo"},"score":0,"creation_date":1667430646,"post_id":68636126,"comment_id":131168519,"body_markdown":"Hi, how did you solved this issue?","body":"Hi, how did you solved this issue?"}],"answers":[{"tags":[],"owner":{"account_id":20517487,"reputation":151,"user_id":15057809,"display_name":"squid233"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1642142447,"creation_date":1642142447,"answer_id":70706877,"question_id":68636126,"body_markdown":"You should use the code this below:\r\n\r\n    classpath += files(configurations.runtimeClasspath.findAll { it.name.endsWith(&#39;jar&#39;) }.collect { zipTree(it) })\r\nThat may helpful for you.","title":"Resolving dependency configuration &#39;implementation&#39; is not allowed as it is defined as &#39;canBeResolved=false&#39;","body":"<p>You should use the code this below:</p>\n<pre><code>classpath += files(configurations.runtimeClasspath.findAll { it.name.endsWith('jar') }.collect { zipTree(it) })\n</code></pre>\n<p>That may helpful for you.</p>\n"}],"owner":{"account_id":20098829,"reputation":173,"user_id":14737757,"display_name":"Ishaq Kamran"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5902,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"answer_count":1,"score":13,"last_activity_date":1688030327,"creation_date":1627993986,"question_id":68636126,"body_markdown":"I am trying to run a react native project but its gradle is not working correctly. This is the error.\r\n```\r\norg.gradle.api.ProjectConfigurationException: A problem occurred configuring project &#39;:babylonjs_react-native&#39;.\r\nCaused by: java.lang.IllegalStateException: Resolving dependency configuration &#39;implementation&#39; is not allowed as it is defined as &#39;canBeResolved=false&#39;.\r\nInstead, a resolvable (&#39;canBeResolved=true&#39;) dependency configuration that extends &#39;implementation&#39; should be resolved.\r\n    at build_8wyks54mb6cye9xs3jcg9t1xg$_run_closure4$_closure12.doCall(G:\\Workspace\\New Folder (2)\\node_modules\\@babylonjs\\react-native\\android\\build.gradle:117)\r\n\tat build_8wyks54mb6cye9xs3jcg9t1xg$_run_closure4.doCall(G:\\Workspace\\New Folder (2)\\node_modules\\@babylonjs\\react-native\\android\\build.gradle:114)\r\n```\r\nHere is where the problem occurs\r\n```\r\nafterEvaluate { project -&gt;\r\n    // some Gradle build hooks ref:\r\n    // https://www.oreilly.com/library/view/gradle-beyond-the/9781449373801/ch03.html\r\n    task androidJavadoc(type: Javadoc) {\r\n        source = android.sourceSets.main.java.srcDirs\r\n        classpath += files(android.bootClasspath)\r\n        classpath += files(project.getConfigurations().getByName(&#39;implementation&#39;).asList())\r\n        include &#39;**/*.java&#39;\r\n    }\r\n```\r\nKindly Somebody tells me why is the error showing\r\nI dont have any idea what is going on. Somebody please help me I will be very thankful.","title":"Resolving dependency configuration &#39;implementation&#39; is not allowed as it is defined as &#39;canBeResolved=false&#39;","body":"<p>I am trying to run a react native project but its gradle is not working correctly. This is the error.</p>\n<pre><code>org.gradle.api.ProjectConfigurationException: A problem occurred configuring project ':babylonjs_react-native'.\nCaused by: java.lang.IllegalStateException: Resolving dependency configuration 'implementation' is not allowed as it is defined as 'canBeResolved=false'.\nInstead, a resolvable ('canBeResolved=true') dependency configuration that extends 'implementation' should be resolved.\n    at build_8wyks54mb6cye9xs3jcg9t1xg$_run_closure4$_closure12.doCall(G:\\Workspace\\New Folder (2)\\node_modules\\@babylonjs\\react-native\\android\\build.gradle:117)\n    at build_8wyks54mb6cye9xs3jcg9t1xg$_run_closure4.doCall(G:\\Workspace\\New Folder (2)\\node_modules\\@babylonjs\\react-native\\android\\build.gradle:114)\n</code></pre>\n<p>Here is where the problem occurs</p>\n<pre><code>afterEvaluate { project -&gt;\n    // some Gradle build hooks ref:\n    // https://www.oreilly.com/library/view/gradle-beyond-the/9781449373801/ch03.html\n    task androidJavadoc(type: Javadoc) {\n        source = android.sourceSets.main.java.srcDirs\n        classpath += files(android.bootClasspath)\n        classpath += files(project.getConfigurations().getByName('implementation').asList())\n        include '**/*.java'\n    }\n</code></pre>\n<p>Kindly Somebody tells me why is the error showing\nI dont have any idea what is going on. Somebody please help me I will be very thankful.</p>\n"},{"tags":["java","android","kotlin"],"answers":[{"tags":[],"owner":{"account_id":1642711,"reputation":19842,"user_id":1514861,"accept_rate":86,"display_name":"Ivo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688030289,"creation_date":1688029935,"answer_id":76579673,"question_id":76579557,"body_markdown":"simply use\r\n\r\n    val locale = Locale(dbc.getLangaugeByID(SELECTED_LANGUAGE_ID).abbreviation)\r\n\r\nIn kotlin it&#39;s not idiomatic to use getter methods and you typically just access the properties directly. In fact if you left it as a `Java` class you could call `getAbbreviation()` by simply writing `abbreviation` from `Kotlin` and it works automatically, and the IDE most likely even suggests you to write that instead of using the getter. This is called property access syntax. The same as when you can write `getApplication()` inside an `Activity` it will recommend you to just use `application`. See\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nIn that respect is the generated class identical to the `Java` class. Note that you don&#39;t need to worry that maybe the `abbreviation` can be set that way also, because that&#39;s not possible since it&#39;s a `val`. It&#39;s just like having only a getter\r\n\r\n  [1]: https://i.stack.imgur.com/MrXOl.png","title":"Android to Kotlin best practice to convert","body":"<p>simply use</p>\n<pre><code>val locale = Locale(dbc.getLangaugeByID(SELECTED_LANGUAGE_ID).abbreviation)\n</code></pre>\n<p>In kotlin it's not idiomatic to use getter methods and you typically just access the properties directly. In fact if you left it as a <code>Java</code> class you could call <code>getAbbreviation()</code> by simply writing <code>abbreviation</code> from <code>Kotlin</code> and it works automatically, and the IDE most likely even suggests you to write that instead of using the getter. This is called property access syntax. The same as when you can write <code>getApplication()</code> inside an <code>Activity</code> it will recommend you to just use <code>application</code>. See</p>\n<p><a href=\"https://i.stack.imgur.com/MrXOl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MrXOl.png\" alt=\"enter image description here\" /></a></p>\n<p>In that respect is the generated class identical to the <code>Java</code> class. Note that you don't need to worry that maybe the <code>abbreviation</code> can be set that way also, because that's not possible since it's a <code>val</code>. It's just like having only a getter</p>\n"}],"owner":{"account_id":28272687,"reputation":3,"user_id":21615620,"display_name":"DevMD"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76579673,"answer_count":1,"score":0,"last_activity_date":1688030289,"creation_date":1688029082,"question_id":76579557,"body_markdown":"I have two classes, one of which extends the other\r\n\r\nFirst class:\r\n```\r\nopen class DataBaseObject @JvmOverloads constructor(\r\n    ctx: Context,\r\n    val iD: Int,\r\n    val name: String,\r\n    displayName: String = &quot;&quot;\r\n) {\r\n    var displayName: String? = null\r\n\r\n    init {\r\n        if (displayName === &quot;&quot;) {\r\n            val wasteStringKey = ctx.resources.getIdentifier(name, &quot;string&quot;, ctx.packageName)\r\n            if (wasteStringKey != 0) this.displayName =\r\n                ctx.getString(wasteStringKey) else this.displayName =\r\n                name.replace(&quot;_&quot;, &quot; &quot;)\r\n        } else this.displayName = displayName\r\n    }\r\n\r\n    open fun getDisplayName(): String? {\r\n        return displayName\r\n    }\r\n\r\n    open fun getID(): Int {\r\n        return iD\r\n    }\r\n\r\n    open fun getName(): String? {\r\n        return name\r\n    }\r\n}\r\n```\r\n\r\nThe second(android version):\r\n```\r\npublic class Language extends DataBaseObject\r\n{\r\n\tprivate String _abbreviation;\r\n\t\r\n\tpublic Language(Context ctx, int id, String abbreviation, String name)\r\n\t{\r\n\t\tsuper(ctx, id, name);\r\n\t\t\r\n\t\t_abbreviation = abbreviation;\r\n\t}\r\n\t\r\n\tpublic String getAbbreviation()\r\n\t{\r\n\t\treturn _abbreviation;\r\n\t}\r\n}\r\n```\r\nBut if I copy paste the code into my class, the IDE converts me to kotlin like this:\r\n\r\n(Kotlin version)\r\n```\r\nopen class Language(ctx: Context?, id: Int, val abbreviation: String, name: String?) :\r\n    DataBaseObject(ctx!!, id, name!!)\r\n```\r\nIn another class I use the function \r\n`getAbbreviation() -&gt; val locale = Locale(dbc.getLangaugeByID(SELECTED_LANGUAGE_ID).getAbbrevation())` and I get the Unresolved Reference error.\r\nWhat is the best way to convert java class to kotlin?\r\n\r\n\r\n\r\nI expect to be able to use that method, or an equivalent alternative","title":"Android to Kotlin best practice to convert","body":"<p>I have two classes, one of which extends the other</p>\n<p>First class:</p>\n<pre><code>open class DataBaseObject @JvmOverloads constructor(\n    ctx: Context,\n    val iD: Int,\n    val name: String,\n    displayName: String = &quot;&quot;\n) {\n    var displayName: String? = null\n\n    init {\n        if (displayName === &quot;&quot;) {\n            val wasteStringKey = ctx.resources.getIdentifier(name, &quot;string&quot;, ctx.packageName)\n            if (wasteStringKey != 0) this.displayName =\n                ctx.getString(wasteStringKey) else this.displayName =\n                name.replace(&quot;_&quot;, &quot; &quot;)\n        } else this.displayName = displayName\n    }\n\n    open fun getDisplayName(): String? {\n        return displayName\n    }\n\n    open fun getID(): Int {\n        return iD\n    }\n\n    open fun getName(): String? {\n        return name\n    }\n}\n</code></pre>\n<p>The second(android version):</p>\n<pre><code>public class Language extends DataBaseObject\n{\n    private String _abbreviation;\n    \n    public Language(Context ctx, int id, String abbreviation, String name)\n    {\n        super(ctx, id, name);\n        \n        _abbreviation = abbreviation;\n    }\n    \n    public String getAbbreviation()\n    {\n        return _abbreviation;\n    }\n}\n</code></pre>\n<p>But if I copy paste the code into my class, the IDE converts me to kotlin like this:</p>\n<p>(Kotlin version)</p>\n<pre><code>open class Language(ctx: Context?, id: Int, val abbreviation: String, name: String?) :\n    DataBaseObject(ctx!!, id, name!!)\n</code></pre>\n<p>In another class I use the function\n<code>getAbbreviation() -&gt; val locale = Locale(dbc.getLangaugeByID(SELECTED_LANGUAGE_ID).getAbbrevation())</code> and I get the Unresolved Reference error.\nWhat is the best way to convert java class to kotlin?</p>\n<p>I expect to be able to use that method, or an equivalent alternative</p>\n"},{"tags":["java","kotlin","gradle","intellij-idea"],"comments":[{"owner":{"account_id":288740,"reputation":36420,"user_id":589329,"accept_rate":40,"display_name":"Vampire"},"score":0,"creation_date":1687953608,"post_id":76572428,"comment_id":135008353,"body_markdown":"The manual `jvmTarget` is not necessary, the KGP uses the toolchain setting automatically and you do not need the backticks around `java`, you only need it for otherwise invalid identifiers like `kotlin-dsl`. But these are only sidenotes. Can you provide a build `--scan`?","body":"The manual <code>jvmTarget</code> is not necessary, the KGP uses the toolchain setting automatically and you do not need the backticks around <code>java</code>, you only need it for otherwise invalid identifiers like <code>kotlin-dsl</code>. But these are only sidenotes. Can you provide a build <code>--scan</code>?"},{"owner":{"account_id":18164243,"reputation":223,"user_id":13215135,"display_name":"tommytucker7182"},"score":0,"creation_date":1687957094,"post_id":76572428,"comment_id":135009196,"body_markdown":"Hi @Vampire, unfortunately I dont think I can provide a scan, my company wont allow it to strict controls over IP.","body":"Hi @Vampire, unfortunately I dont think I can provide a scan, my company wont allow it to strict controls over IP."},{"owner":{"account_id":288740,"reputation":36420,"user_id":589329,"accept_rate":40,"display_name":"Vampire"},"score":1,"creation_date":1687960852,"post_id":76572428,"comment_id":135010174,"body_markdown":"The foojay-resolver-convention plugin should be applied for Gradle 8+, yes. But it still works without, just prints a deprecation warning and will stop working in Gradle 9 earliest. So not having that plugin applied should not be a problem. Generally, using Kotlin DSL precompiled script plugins works perfectly fine also with Gradle 8.1.1. I&#39;m using included builds, not `buildSrc`, but `buildSrc` should also work just fine. Maybe you can knit an MCVE where it fails where you can share a scan or the whole MCVE?","body":"The foojay-resolver-convention plugin should be applied for Gradle 8+, yes. But it still works without, just prints a deprecation warning and will stop working in Gradle 9 earliest. So not having that plugin applied should not be a problem. Generally, using Kotlin DSL precompiled script plugins works perfectly fine also with Gradle 8.1.1. I&#39;m using included builds, not <code>buildSrc</code>, but <code>buildSrc</code> should also work just fine. Maybe you can knit an MCVE where it fails where you can share a scan or the whole MCVE?"},{"owner":{"account_id":288740,"reputation":36420,"user_id":589329,"accept_rate":40,"display_name":"Vampire"},"score":1,"creation_date":1688030441,"post_id":76572428,"comment_id":135020149,"body_markdown":"&quot;I get the same error before a scan can be published&quot; =&gt; ah, yeah, because it already fails to build `buildSrc`. Try with `./gradlew -p buildSrc build --scan` instead.","body":"&quot;I get the same error before a scan can be published&quot; =&gt; ah, yeah, because it already fails to build <code>buildSrc</code>. Try with <code>.&#47;gradlew -p buildSrc build --scan</code> instead."},{"owner":{"account_id":18164243,"reputation":223,"user_id":13215135,"display_name":"tommytucker7182"},"score":1,"creation_date":1688031973,"post_id":76572428,"comment_id":135020466,"body_markdown":"I ran `./gradlew -p buildSrc build --scan` - but I get the same error, compileKotlin fails `Failed to compile with Kotlin daemon: java.lang.RuntimeException: Could not connect to Kotlin compile daemon` and further down stacktrace `Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: kotlin/jvm/internal/Intrinsics`. @Vampire thanks for the input so far, ill work on a shareable public repo","body":"I ran <code>.&#47;gradlew -p buildSrc build --scan</code> - but I get the same error, compileKotlin fails <code>Failed to compile with Kotlin daemon: java.lang.RuntimeException: Could not connect to Kotlin compile daemon</code> and further down stacktrace <code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: kotlin&#47;jvm&#47;internal&#47;Intrinsics</code>. @Vampire thanks for the input so far, ill work on a shareable public repo"}],"owner":{"account_id":18164243,"reputation":223,"user_id":13215135,"display_name":"tommytucker7182"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":422,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1688029982,"creation_date":1687949276,"question_id":76572428,"body_markdown":"Im using gradle 8.1.1 with kotlin DSL (as it has better IDE support) to build a multi-module java project.  \r\nWhen im trying to build (either from git bash or within intellij CE 2022.3), im getting the following kotlin error. This is with the project being either JDK17 or JDK1.8 (JDK17 preferred!) I have kotlin 1.7.0 installed, but the kotlin DSL will use 1.8.10\r\n\r\nInside my `buildSrc` convention plugin:\r\n\r\n```\r\nplugins {\r\n    `java`\r\n}\r\n```\r\n\r\nInside `/buildSrc/build.gradle.kts`:\r\n```\r\nplugins {\r\n    `kotlin-dsl`\r\n}\r\n\r\njava {\r\n    withJavadocJar()\r\n    withSourcesJar()\r\n    toolchain {\r\n        languageVersion.set(JavaLanguageVersion.of(17))\r\n    }\r\n}\r\n\r\n// explicitly set kotlin compilation target\r\ntasks.withType&lt;org.jetbrains.kotlin.gradle.tasks.KotlinCompile&gt;().configureEach {\r\n    kotlinOptions {\r\n        jvmTarget = &quot;17&quot;\r\n    }\r\n}\r\n```\r\n\r\n```\r\n&gt; Task :buildSrc:generateExternalPluginSpecBuilders FROM-CACHE\r\n&gt; Task :buildSrc:extractPrecompiledScriptPluginPlugins FROM-CACHE\r\n&gt; Task :buildSrc:compilePluginsBlocks FROM-CACHE\r\n&gt; Task :buildSrc:generatePrecompiledScriptPluginAccessors FROM-CACHE\r\n&gt; Task :buildSrc:generateScriptPluginAdapters FROM-CACHE\r\n&gt; Task :buildSrc:pluginDescriptors\r\n&gt; Task :buildSrc:processResources\r\n\r\n&gt; Task :buildSrc:compileKotlin FAILED\r\nFailed to compile with Kotlin daemon: java.lang.RuntimeException: Could not connect to Kotlin compile daemon\r\n\tat org.jetbrains.kotlin.compilerRunner.GradleKotlinCompilerWork.compileWithDaemon(GradleKotlinCompilerWork.kt:192)\r\n\tat org.jetbrains.kotlin.compilerRunner.GradleKotlinCompilerWork.compileWithDaemonOrFallbackImpl(GradleKotlinCompilerWork.kt:150)\r\n\tat org.jetbrains.kotlin.compilerRunner.GradleKotlinCompilerWork.run(GradleKotlinCompilerWork.kt:123)\r\n\tat org.jetbrains.kotlin.compilerRunner.GradleCompilerRunnerWithWorkers$GradleKotlinCompilerWorkAction.execute(GradleCompilerRunnerWithWorkers.kt:74)\r\n\tat org.gradle.workers.internal.DefaultWorkerServer.execute(DefaultWorkerServer.java:63)\r\n\tat org.gradle.workers.internal.NoIsolationWorkerFactory$1$1.create(NoIsolationWorkerFactory.java:66)\r\n\tat org.gradle.workers.internal.NoIsolationWorkerFactory$1$1.create(NoIsolationWorkerFactory.java:62)\r\n\tat org.gradle.internal.classloader.ClassLoaderUtils.executeInClassloader(ClassLoaderUtils.java:100)\r\n\tat org.gradle.workers.internal.NoIsolationWorkerFactory$1.lambda$execute$0(NoIsolationWorkerFactory.java:62)\r\n\tat org.gradle.workers.internal.AbstractWorker$1.call(AbstractWorker.java:44)\r\n\tat org.gradle.workers.internal.AbstractWorker$1.call(AbstractWorker.java:41)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\r\n\tat org.gradle.workers.internal.AbstractWorker.executeWrappedInBuildOperation(AbstractWorker.java:41)\r\n\tat org.gradle.workers.internal.NoIsolationWorkerFactory$1.execute(NoIsolationWorkerFactory.java:59)\r\n\tat org.gradle.workers.internal.DefaultWorkerExecutor.lambda$submitWork$0(DefaultWorkerExecutor.java:169)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat org.gradle.internal.work.DefaultConditionalExecutionQueue$ExecutionRunner.runExecution(DefaultConditionalExecutionQueue.java:187)\r\n\tat org.gradle.internal.work.DefaultConditionalExecutionQueue$ExecutionRunner.access$700(DefaultConditionalExecutionQueue.java:120)\r\n\tat org.gradle.internal.work.DefaultConditionalExecutionQueue$ExecutionRunner$1.run(DefaultConditionalExecutionQueue.java:162)\r\n\tat org.gradle.internal.Factories$1.create(Factories.java:31)\r\n\tat org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:249)\r\n\tat org.gradle.internal.work.DefaultWorkerLeaseService.runAsWorkerThread(DefaultWorkerLeaseService.java:109)\r\n\tat org.gradle.internal.work.DefaultWorkerLeaseService.runAsWorkerThread(DefaultWorkerLeaseService.java:114)\r\n\tat org.gradle.internal.work.DefaultConditionalExecutionQueue$ExecutionRunner.runBatch(DefaultConditionalExecutionQueue.java:157)\r\n\tat org.gradle.internal.work.DefaultConditionalExecutionQueue$ExecutionRunner.run(DefaultConditionalExecutionQueue.java:126)\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n\tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:49)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\nUsing fallback strategy: Compile without Kotlin daemon\r\nTry ./gradlew --stop if this issue persists.\r\n8 actionable tasks: 3 executed, 5 from cache\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: kotlin/jvm/internal/Intrinsics\r\n\tat org.jetbrains.kotlin.cli.jvm.K2JVMCompiler$Companion.main(K2JVMCompiler.kt)\r\n\tat org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.main(K2JVMCompiler.kt)\r\nCaused by: java.lang.ClassNotFoundException: kotlin.jvm.internal.Intrinsics\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n\t... 2 more\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:buildSrc:compileKotlin&#39;.\r\n&gt; A failure occurred while executing org.jetbrains.kotlin.compilerRunner.GradleCompilerRunnerWithWorkers$GradleKotlinCompilerWorkAction\r\n   &gt; Compilation error. See log for more details\r\n\r\n* Try:\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n\r\n* Exception is:\r\norg.gradle.api.tasks.TaskExecutionException: Execution failed for task &#39;:buildSrc:compileKotlin&#39;.\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.lambda$executeIfValid$1(ExecuteActionsTaskExecuter.java:149)\r\n\tat org.gradle.internal.Try$Failure.ifSuccessfulOrElse(Try.java:282)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:147)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:135)\r\n\tat org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\r\n\tat org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:51)\r\n\tat org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\r\n\tat org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:74)\r\n\tat org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\r\n\tat org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:42)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:337)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:324)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:317)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:303)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:463)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:380)\r\n\tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n\tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:49)\r\nCaused by: org.gradle.workers.internal.DefaultWorkerExecutor$WorkExecutionException: A failure occurred while executing org.jetbrains.kotlin.compilerRunner.GradleCompilerRunnerWithWorkers$GradleKotlinCompilerWorkAction\r\n\tat org.gradle.workers.internal.DefaultWorkerExecutor$WorkItemExecution.waitForCompletion(DefaultWorkerExecutor.java:283)\r\n\tat org.gradle.internal.work.DefaultAsyncWorkTracker.lambda$waitForItemsAndGatherFailures$2(DefaultAsyncWorkTracker.java:130)\r\n\tat org.gradle.internal.Factories$1.create(Factories.java:31)\r\n\tat org.gradle.internal.work.DefaultWorkerLeaseService.withoutLocks(DefaultWorkerLeaseService.java:321)\r\n\tat org.gradle.internal.work.DefaultWorkerLeaseService.withoutLocks(DefaultWorkerLeaseService.java:304)\r\n\tat org.gradle.internal.work.DefaultWorkerLeaseService.withoutLock(DefaultWorkerLeaseService.java:309)\r\n\tat org.gradle.internal.work.DefaultAsyncWorkTracker.waitForItemsAndGatherFailures(DefaultAsyncWorkTracker.java:126)\r\n\tat org.gradle.internal.work.DefaultAsyncWorkTracker.waitForItemsAndGatherFailures(DefaultAsyncWorkTracker.java:92)\r\n\tat org.gradle.internal.work.DefaultAsyncWorkTracker.waitForAll(DefaultAsyncWorkTracker.java:78)\r\n\tat org.gradle.internal.work.DefaultAsyncWorkTracker.waitForCompletion(DefaultAsyncWorkTracker.java:66)\r\n\tat org.gradle.api.internal.tasks.execution.TaskExecution$3.run(TaskExecution.java:250)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\r\n\tat org.gradle.api.internal.tasks.execution.TaskExecution.executeAction(TaskExecution.java:227)\r\n\tat org.gradle.api.internal.tasks.execution.TaskExecution.executeActions(TaskExecution.java:210)\r\n\tat org.gradle.api.internal.tasks.execution.TaskExecution.executeWithPreviousOutputFiles(TaskExecution.java:193)\r\n\tat org.gradle.api.internal.tasks.execution.TaskExecution.execute(TaskExecution.java:166)\r\n\tat org.gradle.internal.execution.steps.ExecuteStep.executeInternal(ExecuteStep.java:105)\r\n\tat org.gradle.internal.execution.steps.ExecuteStep.access$000(ExecuteStep.java:44)\r\n\tat org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:59)\r\n\tat org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:56)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\r\n\tat org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:56)\r\n\tat org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:44)\r\n\tat org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:67)\r\n\tat org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:37)\r\n\tat org.gradle.internal.execution.steps.CancelExecutionStep.execute(CancelExecutionStep.java:41)\r\n\tat org.gradle.internal.execution.steps.TimeoutStep.executeWithoutTimeout(TimeoutStep.java:74)\r\n\tat org.gradle.internal.execution.steps.TimeoutStep.execute(TimeoutStep.java:55)\r\n\tat org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:50)\r\n\tat org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:28)\r\n\tat org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.executeDelegateBroadcastingChanges(CaptureStateAfterExecutionStep.java:100)\r\n\tat org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:72)\r\n\tat org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:50)\r\n\tat org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:40)\r\n\tat org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:29)\r\n\tat org.gradle.internal.execution.steps.BuildCacheStep.executeWithoutCache(BuildCacheStep.java:166)\r\n\tat org.gradle.internal.execution.steps.BuildCacheStep.executeAndStoreInCache(BuildCacheStep.java:139)\r\n\tat org.gradle.internal.execution.steps.BuildCacheStep.lambda$executeWithCache$4(BuildCacheStep.java:106)\r\n\tat org.gradle.internal.execution.steps.BuildCacheStep.lambda$executeWithCache$5(BuildCacheStep.java:106)\r\n\tat org.gradle.internal.Try$Success.map(Try.java:164)\r\n\tat org.gradle.internal.execution.steps.BuildCacheStep.executeWithCache(BuildCacheStep.java:80)\r\n\tat org.gradle.internal.execution.steps.BuildCacheStep.lambda$execute$0(BuildCacheStep.java:69)\r\n\tat org.gradle.internal.Either$Left.fold(Either.java:115)\r\n\tat org.gradle.internal.execution.caching.CachingState.fold(CachingState.java:59)\r\n\tat org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:68)\r\n\tat org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:46)\r\n\tat org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:36)\r\n\tat org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:25)\r\n\tat org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:36)\r\n\tat org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:22)\r\n\tat org.gradle.internal.execution.steps.SkipUpToDateStep.executeBecause(SkipUpToDateStep.java:91)\r\n\tat org.gradle.internal.execution.steps.SkipUpToDateStep.lambda$execute$2(SkipUpToDateStep.java:55)\r\n\tat org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:55)\r\n\tat org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:37)\r\n\tat org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:65)\r\n\tat org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:36)\r\n\tat org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:37)\r\n\tat org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:27)\r\n\tat org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:76)\r\n\tat org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:37)\r\n\tat org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:94)\r\n\tat org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:49)\r\n\tat org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:71)\r\n\tat org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:45)\r\n\tat org.gradle.internal.execution.steps.SkipEmptyWorkStep.executeWithNonEmptySources(SkipEmptyWorkStep.java:177)\r\n\tat org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:86)\r\n\tat org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:53)\r\n\tat org.gradle.internal.execution.steps.RemoveUntrackedExecutionStateStep.execute(RemoveUntrackedExecutionStateStep.java:32)\r\n\tat org.gradle.internal.execution.steps.RemoveUntrackedExecutionStateStep.execute(RemoveUntrackedExecutionStateStep.java:21)\r\n\tat org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsStartedStep.execute(MarkSnapshottingInputsStartedStep.java:38)\r\n\tat org.gradle.internal.execution.steps.LoadPreviousExecutionStateStep.execute(LoadPreviousExecutionStateStep.java:36)\r\n\tat org.gradle.internal.execution.steps.LoadPreviousExecutionStateStep.execute(LoadPreviousExecutionStateStep.java:23)\r\n\tat org.gradle.internal.execution.steps.CleanupStaleOutputsStep.execute(CleanupStaleOutputsStep.java:75)\r\n\tat org.gradle.internal.execution.steps.CleanupStaleOutputsStep.execute(CleanupStaleOutputsStep.java:41)\r\n\tat org.gradle.internal.execution.steps.AssignWorkspaceStep.lambda$execute$0(AssignWorkspaceStep.java:32)\r\n\tat org.gradle.api.internal.tasks.execution.TaskExecution$4.withWorkspace(TaskExecution.java:287)\r\n\tat org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:30)\r\n\tat org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:21)\r\n\tat org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:37)\r\n\tat org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:27)\r\n\tat org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:47)\r\n\tat org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:34)\r\n\tat org.gradle.internal.execution.impl.DefaultExecutionEngine$1.execute(DefaultExecutionEngine.java:64)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:146)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:135)\r\n\tat org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\r\n\tat org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:51)\r\n\tat org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\r\n\tat org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:74)\r\n\tat org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\r\n\tat org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:42)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:337)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:324)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:317)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:303)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:463)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:380)\r\n\tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n\tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:49)\r\nCaused by: org.jetbrains.kotlin.gradle.tasks.CompilationErrorException: Compilation error. See log for more details\r\n\tat org.jetbrains.kotlin.gradle.tasks.TasksUtilsKt.throwExceptionIfCompilationFailed(tasksUtils.kt:22)\r\n\tat org.jetbrains.kotlin.compilerRunner.GradleKotlinCompilerWork.run(GradleKotlinCompilerWork.kt:128)\r\n\tat org.jetbrains.kotlin.compilerRunner.GradleCompilerRunnerWithWorkers$GradleKotlinCompilerWorkAction.execute(GradleCompilerRunnerWithWorkers.kt:74)\r\n\tat org.gradle.workers.internal.DefaultWorkerServer.execute(DefaultWorkerServer.java:63)\r\n\tat org.gradle.workers.internal.NoIsolationWorkerFactory$1$1.create(NoIsolationWorkerFactory.java:66)\r\n\tat org.gradle.workers.internal.NoIsolationWorkerFactory$1$1.create(NoIsolationWorkerFactory.java:62)\r\n\tat org.gradle.internal.classloader.ClassLoaderUtils.executeInClassloader(ClassLoaderUtils.java:100)\r\n\tat org.gradle.workers.internal.NoIsolationWorkerFactory$1.lambda$execute$0(NoIsolationWorkerFactory.java:62)\r\n\tat org.gradle.workers.internal.AbstractWorker$1.call(AbstractWorker.java:44)\r\n\tat org.gradle.workers.internal.AbstractWorker$1.call(AbstractWorker.java:41)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\r\n\tat org.gradle.workers.internal.AbstractWorker.executeWrappedInBuildOperation(AbstractWorker.java:41)\r\n\tat org.gradle.workers.internal.NoIsolationWorkerFactory$1.execute(NoIsolationWorkerFactory.java:59)\r\n\tat org.gradle.workers.internal.DefaultWorkerExecutor.lambda$submitWork$0(DefaultWorkerExecutor.java:169)\r\n\tat org.gradle.internal.work.DefaultConditionalExecutionQueue$ExecutionRunner.runExecution(DefaultConditionalExecutionQueue.java:187)\r\n\tat org.gradle.internal.work.DefaultConditionalExecutionQueue$ExecutionRunner.access$700(DefaultConditionalExecutionQueue.java:120)\r\n\tat org.gradle.internal.work.DefaultConditionalExecutionQueue$ExecutionRunner$1.run(DefaultConditionalExecutionQueue.java:162)\r\n\tat org.gradle.internal.Factories$1.create(Factories.java:31)\r\n\tat org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:249)\r\n\tat org.gradle.internal.work.DefaultWorkerLeaseService.runAsWorkerThread(DefaultWorkerLeaseService.java:109)\r\n\tat org.gradle.internal.work.DefaultWorkerLeaseService.runAsWorkerThread(DefaultWorkerLeaseService.java:114)\r\n\tat org.gradle.internal.work.DefaultConditionalExecutionQueue$ExecutionRunner.runBatch(DefaultConditionalExecutionQueue.java:157)\r\n\tat org.gradle.internal.work.DefaultConditionalExecutionQueue$ExecutionRunner.run(DefaultConditionalExecutionQueue.java:126)\r\n\t... 2 more\r\n\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nCONFIGURE FAILED in 5s\r\n```\r\n\r\nIve tried:\r\n - Manually stopping the gradle daemon\r\n - Deleting `~/.gradle/caches` and `~/.gradle/daemon`\r\n - Running with and without the wrapper after turning off the daemon in `~./gradle/gradle.properties`\r\n - Intellij invalidate caches and repair IDE\r\n - Add and remove JVM toolchain and `kotlinJvmTarget`\r\n - Changed gradle JVM version, whilst keeping JDK toolchain version constant\r\n - Set `kotlin.daemon.useFallbackStrategy=false` to true and false.\r\n - Set `kotlin.stdlib.default.dependency=false` to true and false.\r\n\r\nOthers cloned my repo to try builds, and get the same error. Static compiler seems to struggle with code analysis on gradle scripts intermittently, then at random sorts itself out.\r\n\r\nMy code is sourced from a company repository, not maven repository or google. I do include `mavenLocal()` for now to pickup local jars for development.\r\n\r\nHas anyone else ever encountered this and solved it?\r\n\r\n**[Edit]**  \r\n\r\nIve noticed that [kotlin docs](https://kotlinlang.org/docs/gradle-configure-project.html#gradle-java-toolchains-support) say that a resolve plugin is needed for gradle versions &gt;= 8.0.2. So I downgraded my gradle wrapper version inside `gradle-wrapper.properties` to point to a gradle version &lt; 8.0.2 (ultimately no change), then tried adding `plugins {\r\n  id(&quot;org.gradle.toolchains.foojay-resolver-convention&quot;) version(&quot;0.5.0&quot;)\r\n}` to `/settings.gradle.kts` and `/buildSrc/settings.gradle.kts`... which builds successfully, but now gives me the following error on both `settings.gradle.kts` files, one `build.gradle.kts` file, and my main `/buildSrc` convention plugin kotlin script;\r\n\r\n```\r\njava.lang.IllegalArgumentException: org.gradle.api.internal.initialization.DefaultClassLoaderScope@308b2ec0 must be locked before it can be used to compute a classpath!\r\n\tat org.gradle.kotlin.dsl.provider.KotlinScriptClassPathProvider.exportClassPathFromHierarchyOf$kotlin_dsl(KotlinScriptClassPathProvider.kt:152)\r\n\tat\r\n```\r\nSTACKTRACE CUT SHORT DUE TO CHARACTER LIMIT!\r\n\r\n**[Edit2]**\r\nI was able to run a `--scan` after all, but it makes no difference, I get the same error before a scan can be published\r\n\r\n```\r\n&gt; Task :buildSrc:compileKotlin FAILED\r\nFailed to compile with Kotlin daemon: java.lang.RuntimeException: Could not connect to Kotlin compile daemon\r\n\tat\r\n```\r\nSTACKTRACE CUT SHORT DUE TO CHARACTER LIMIT!\r\n\r\n**[Edit3]**\r\nI didnt mention in the original post, I cannot run the gradle `init` script at initial gradle project setup because company firewall blocks the dependencies required to run it, so I decided to do a manual migration for this project","title":"Gradle cannot compile kotlin dsl from within the buildSrc directory","body":"<p>Im using gradle 8.1.1 with kotlin DSL (as it has better IDE support) to build a multi-module java project.<br />\nWhen im trying to build (either from git bash or within intellij CE 2022.3), im getting the following kotlin error. This is with the project being either JDK17 or JDK1.8 (JDK17 preferred!) I have kotlin 1.7.0 installed, but the kotlin DSL will use 1.8.10</p>\n<p>Inside my <code>buildSrc</code> convention plugin:</p>\n<pre><code>plugins {\n    `java`\n}\n</code></pre>\n<p>Inside <code>/buildSrc/build.gradle.kts</code>:</p>\n<pre><code>plugins {\n    `kotlin-dsl`\n}\n\njava {\n    withJavadocJar()\n    withSourcesJar()\n    toolchain {\n        languageVersion.set(JavaLanguageVersion.of(17))\n    }\n}\n\n// explicitly set kotlin compilation target\ntasks.withType&lt;org.jetbrains.kotlin.gradle.tasks.KotlinCompile&gt;().configureEach {\n    kotlinOptions {\n        jvmTarget = &quot;17&quot;\n    }\n}\n</code></pre>\n<pre><code>&gt; Task :buildSrc:generateExternalPluginSpecBuilders FROM-CACHE\n&gt; Task :buildSrc:extractPrecompiledScriptPluginPlugins FROM-CACHE\n&gt; Task :buildSrc:compilePluginsBlocks FROM-CACHE\n&gt; Task :buildSrc:generatePrecompiledScriptPluginAccessors FROM-CACHE\n&gt; Task :buildSrc:generateScriptPluginAdapters FROM-CACHE\n&gt; Task :buildSrc:pluginDescriptors\n&gt; Task :buildSrc:processResources\n\n&gt; Task :buildSrc:compileKotlin FAILED\nFailed to compile with Kotlin daemon: java.lang.RuntimeException: Could not connect to Kotlin compile daemon\n    at org.jetbrains.kotlin.compilerRunner.GradleKotlinCompilerWork.compileWithDaemon(GradleKotlinCompilerWork.kt:192)\n    at org.jetbrains.kotlin.compilerRunner.GradleKotlinCompilerWork.compileWithDaemonOrFallbackImpl(GradleKotlinCompilerWork.kt:150)\n    at org.jetbrains.kotlin.compilerRunner.GradleKotlinCompilerWork.run(GradleKotlinCompilerWork.kt:123)\n    at org.jetbrains.kotlin.compilerRunner.GradleCompilerRunnerWithWorkers$GradleKotlinCompilerWorkAction.execute(GradleCompilerRunnerWithWorkers.kt:74)\n    at org.gradle.workers.internal.DefaultWorkerServer.execute(DefaultWorkerServer.java:63)\n    at org.gradle.workers.internal.NoIsolationWorkerFactory$1$1.create(NoIsolationWorkerFactory.java:66)\n    at org.gradle.workers.internal.NoIsolationWorkerFactory$1$1.create(NoIsolationWorkerFactory.java:62)\n    at org.gradle.internal.classloader.ClassLoaderUtils.executeInClassloader(ClassLoaderUtils.java:100)\n    at org.gradle.workers.internal.NoIsolationWorkerFactory$1.lambda$execute$0(NoIsolationWorkerFactory.java:62)\n    at org.gradle.workers.internal.AbstractWorker$1.call(AbstractWorker.java:44)\n    at org.gradle.workers.internal.AbstractWorker$1.call(AbstractWorker.java:41)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\n    at org.gradle.workers.internal.AbstractWorker.executeWrappedInBuildOperation(AbstractWorker.java:41)\n    at org.gradle.workers.internal.NoIsolationWorkerFactory$1.execute(NoIsolationWorkerFactory.java:59)\n    at org.gradle.workers.internal.DefaultWorkerExecutor.lambda$submitWork$0(DefaultWorkerExecutor.java:169)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at org.gradle.internal.work.DefaultConditionalExecutionQueue$ExecutionRunner.runExecution(DefaultConditionalExecutionQueue.java:187)\n    at org.gradle.internal.work.DefaultConditionalExecutionQueue$ExecutionRunner.access$700(DefaultConditionalExecutionQueue.java:120)\n    at org.gradle.internal.work.DefaultConditionalExecutionQueue$ExecutionRunner$1.run(DefaultConditionalExecutionQueue.java:162)\n    at org.gradle.internal.Factories$1.create(Factories.java:31)\n    at org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:249)\n    at org.gradle.internal.work.DefaultWorkerLeaseService.runAsWorkerThread(DefaultWorkerLeaseService.java:109)\n    at org.gradle.internal.work.DefaultWorkerLeaseService.runAsWorkerThread(DefaultWorkerLeaseService.java:114)\n    at org.gradle.internal.work.DefaultConditionalExecutionQueue$ExecutionRunner.runBatch(DefaultConditionalExecutionQueue.java:157)\n    at org.gradle.internal.work.DefaultConditionalExecutionQueue$ExecutionRunner.run(DefaultConditionalExecutionQueue.java:126)\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:49)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n    at java.base/java.lang.Thread.run(Thread.java:833)\nUsing fallback strategy: Compile without Kotlin daemon\nTry ./gradlew --stop if this issue persists.\n8 actionable tasks: 3 executed, 5 from cache\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: kotlin/jvm/internal/Intrinsics\n    at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler$Companion.main(K2JVMCompiler.kt)\n    at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.main(K2JVMCompiler.kt)\nCaused by: java.lang.ClassNotFoundException: kotlin.jvm.internal.Intrinsics\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n    ... 2 more\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':buildSrc:compileKotlin'.\n&gt; A failure occurred while executing org.jetbrains.kotlin.compilerRunner.GradleCompilerRunnerWithWorkers$GradleKotlinCompilerWorkAction\n   &gt; Compilation error. See log for more details\n\n* Try:\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Exception is:\norg.gradle.api.tasks.TaskExecutionException: Execution failed for task ':buildSrc:compileKotlin'.\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.lambda$executeIfValid$1(ExecuteActionsTaskExecuter.java:149)\n    at org.gradle.internal.Try$Failure.ifSuccessfulOrElse(Try.java:282)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:147)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:135)\n    at org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\n    at org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:51)\n    at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\n    at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:74)\n    at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\n    at org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:42)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:337)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:324)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:317)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:303)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:463)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:380)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:49)\nCaused by: org.gradle.workers.internal.DefaultWorkerExecutor$WorkExecutionException: A failure occurred while executing org.jetbrains.kotlin.compilerRunner.GradleCompilerRunnerWithWorkers$GradleKotlinCompilerWorkAction\n    at org.gradle.workers.internal.DefaultWorkerExecutor$WorkItemExecution.waitForCompletion(DefaultWorkerExecutor.java:283)\n    at org.gradle.internal.work.DefaultAsyncWorkTracker.lambda$waitForItemsAndGatherFailures$2(DefaultAsyncWorkTracker.java:130)\n    at org.gradle.internal.Factories$1.create(Factories.java:31)\n    at org.gradle.internal.work.DefaultWorkerLeaseService.withoutLocks(DefaultWorkerLeaseService.java:321)\n    at org.gradle.internal.work.DefaultWorkerLeaseService.withoutLocks(DefaultWorkerLeaseService.java:304)\n    at org.gradle.internal.work.DefaultWorkerLeaseService.withoutLock(DefaultWorkerLeaseService.java:309)\n    at org.gradle.internal.work.DefaultAsyncWorkTracker.waitForItemsAndGatherFailures(DefaultAsyncWorkTracker.java:126)\n    at org.gradle.internal.work.DefaultAsyncWorkTracker.waitForItemsAndGatherFailures(DefaultAsyncWorkTracker.java:92)\n    at org.gradle.internal.work.DefaultAsyncWorkTracker.waitForAll(DefaultAsyncWorkTracker.java:78)\n    at org.gradle.internal.work.DefaultAsyncWorkTracker.waitForCompletion(DefaultAsyncWorkTracker.java:66)\n    at org.gradle.api.internal.tasks.execution.TaskExecution$3.run(TaskExecution.java:250)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\n    at org.gradle.api.internal.tasks.execution.TaskExecution.executeAction(TaskExecution.java:227)\n    at org.gradle.api.internal.tasks.execution.TaskExecution.executeActions(TaskExecution.java:210)\n    at org.gradle.api.internal.tasks.execution.TaskExecution.executeWithPreviousOutputFiles(TaskExecution.java:193)\n    at org.gradle.api.internal.tasks.execution.TaskExecution.execute(TaskExecution.java:166)\n    at org.gradle.internal.execution.steps.ExecuteStep.executeInternal(ExecuteStep.java:105)\n    at org.gradle.internal.execution.steps.ExecuteStep.access$000(ExecuteStep.java:44)\n    at org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:59)\n    at org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:56)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\n    at org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:56)\n    at org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:44)\n    at org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:67)\n    at org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:37)\n    at org.gradle.internal.execution.steps.CancelExecutionStep.execute(CancelExecutionStep.java:41)\n    at org.gradle.internal.execution.steps.TimeoutStep.executeWithoutTimeout(TimeoutStep.java:74)\n    at org.gradle.internal.execution.steps.TimeoutStep.execute(TimeoutStep.java:55)\n    at org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:50)\n    at org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:28)\n    at org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.executeDelegateBroadcastingChanges(CaptureStateAfterExecutionStep.java:100)\n    at org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:72)\n    at org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:50)\n    at org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:40)\n    at org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:29)\n    at org.gradle.internal.execution.steps.BuildCacheStep.executeWithoutCache(BuildCacheStep.java:166)\n    at org.gradle.internal.execution.steps.BuildCacheStep.executeAndStoreInCache(BuildCacheStep.java:139)\n    at org.gradle.internal.execution.steps.BuildCacheStep.lambda$executeWithCache$4(BuildCacheStep.java:106)\n    at org.gradle.internal.execution.steps.BuildCacheStep.lambda$executeWithCache$5(BuildCacheStep.java:106)\n    at org.gradle.internal.Try$Success.map(Try.java:164)\n    at org.gradle.internal.execution.steps.BuildCacheStep.executeWithCache(BuildCacheStep.java:80)\n    at org.gradle.internal.execution.steps.BuildCacheStep.lambda$execute$0(BuildCacheStep.java:69)\n    at org.gradle.internal.Either$Left.fold(Either.java:115)\n    at org.gradle.internal.execution.caching.CachingState.fold(CachingState.java:59)\n    at org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:68)\n    at org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:46)\n    at org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:36)\n    at org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:25)\n    at org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:36)\n    at org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:22)\n    at org.gradle.internal.execution.steps.SkipUpToDateStep.executeBecause(SkipUpToDateStep.java:91)\n    at org.gradle.internal.execution.steps.SkipUpToDateStep.lambda$execute$2(SkipUpToDateStep.java:55)\n    at org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:55)\n    at org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:37)\n    at org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:65)\n    at org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:36)\n    at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:37)\n    at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:27)\n    at org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:76)\n    at org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:37)\n    at org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:94)\n    at org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:49)\n    at org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:71)\n    at org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:45)\n    at org.gradle.internal.execution.steps.SkipEmptyWorkStep.executeWithNonEmptySources(SkipEmptyWorkStep.java:177)\n    at org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:86)\n    at org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:53)\n    at org.gradle.internal.execution.steps.RemoveUntrackedExecutionStateStep.execute(RemoveUntrackedExecutionStateStep.java:32)\n    at org.gradle.internal.execution.steps.RemoveUntrackedExecutionStateStep.execute(RemoveUntrackedExecutionStateStep.java:21)\n    at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsStartedStep.execute(MarkSnapshottingInputsStartedStep.java:38)\n    at org.gradle.internal.execution.steps.LoadPreviousExecutionStateStep.execute(LoadPreviousExecutionStateStep.java:36)\n    at org.gradle.internal.execution.steps.LoadPreviousExecutionStateStep.execute(LoadPreviousExecutionStateStep.java:23)\n    at org.gradle.internal.execution.steps.CleanupStaleOutputsStep.execute(CleanupStaleOutputsStep.java:75)\n    at org.gradle.internal.execution.steps.CleanupStaleOutputsStep.execute(CleanupStaleOutputsStep.java:41)\n    at org.gradle.internal.execution.steps.AssignWorkspaceStep.lambda$execute$0(AssignWorkspaceStep.java:32)\n    at org.gradle.api.internal.tasks.execution.TaskExecution$4.withWorkspace(TaskExecution.java:287)\n    at org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:30)\n    at org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:21)\n    at org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:37)\n    at org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:27)\n    at org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:47)\n    at org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:34)\n    at org.gradle.internal.execution.impl.DefaultExecutionEngine$1.execute(DefaultExecutionEngine.java:64)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:146)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:135)\n    at org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\n    at org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:51)\n    at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\n    at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:74)\n    at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\n    at org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:42)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:337)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:324)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:317)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:303)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:463)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:380)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:49)\nCaused by: org.jetbrains.kotlin.gradle.tasks.CompilationErrorException: Compilation error. See log for more details\n    at org.jetbrains.kotlin.gradle.tasks.TasksUtilsKt.throwExceptionIfCompilationFailed(tasksUtils.kt:22)\n    at org.jetbrains.kotlin.compilerRunner.GradleKotlinCompilerWork.run(GradleKotlinCompilerWork.kt:128)\n    at org.jetbrains.kotlin.compilerRunner.GradleCompilerRunnerWithWorkers$GradleKotlinCompilerWorkAction.execute(GradleCompilerRunnerWithWorkers.kt:74)\n    at org.gradle.workers.internal.DefaultWorkerServer.execute(DefaultWorkerServer.java:63)\n    at org.gradle.workers.internal.NoIsolationWorkerFactory$1$1.create(NoIsolationWorkerFactory.java:66)\n    at org.gradle.workers.internal.NoIsolationWorkerFactory$1$1.create(NoIsolationWorkerFactory.java:62)\n    at org.gradle.internal.classloader.ClassLoaderUtils.executeInClassloader(ClassLoaderUtils.java:100)\n    at org.gradle.workers.internal.NoIsolationWorkerFactory$1.lambda$execute$0(NoIsolationWorkerFactory.java:62)\n    at org.gradle.workers.internal.AbstractWorker$1.call(AbstractWorker.java:44)\n    at org.gradle.workers.internal.AbstractWorker$1.call(AbstractWorker.java:41)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\n    at org.gradle.workers.internal.AbstractWorker.executeWrappedInBuildOperation(AbstractWorker.java:41)\n    at org.gradle.workers.internal.NoIsolationWorkerFactory$1.execute(NoIsolationWorkerFactory.java:59)\n    at org.gradle.workers.internal.DefaultWorkerExecutor.lambda$submitWork$0(DefaultWorkerExecutor.java:169)\n    at org.gradle.internal.work.DefaultConditionalExecutionQueue$ExecutionRunner.runExecution(DefaultConditionalExecutionQueue.java:187)\n    at org.gradle.internal.work.DefaultConditionalExecutionQueue$ExecutionRunner.access$700(DefaultConditionalExecutionQueue.java:120)\n    at org.gradle.internal.work.DefaultConditionalExecutionQueue$ExecutionRunner$1.run(DefaultConditionalExecutionQueue.java:162)\n    at org.gradle.internal.Factories$1.create(Factories.java:31)\n    at org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:249)\n    at org.gradle.internal.work.DefaultWorkerLeaseService.runAsWorkerThread(DefaultWorkerLeaseService.java:109)\n    at org.gradle.internal.work.DefaultWorkerLeaseService.runAsWorkerThread(DefaultWorkerLeaseService.java:114)\n    at org.gradle.internal.work.DefaultConditionalExecutionQueue$ExecutionRunner.runBatch(DefaultConditionalExecutionQueue.java:157)\n    at org.gradle.internal.work.DefaultConditionalExecutionQueue$ExecutionRunner.run(DefaultConditionalExecutionQueue.java:126)\n    ... 2 more\n\n\n* Get more help at https://help.gradle.org\n\nCONFIGURE FAILED in 5s\n</code></pre>\n<p>Ive tried:</p>\n<ul>\n<li>Manually stopping the gradle daemon</li>\n<li>Deleting <code>~/.gradle/caches</code> and <code>~/.gradle/daemon</code></li>\n<li>Running with and without the wrapper after turning off the daemon in <code>~./gradle/gradle.properties</code></li>\n<li>Intellij invalidate caches and repair IDE</li>\n<li>Add and remove JVM toolchain and <code>kotlinJvmTarget</code></li>\n<li>Changed gradle JVM version, whilst keeping JDK toolchain version constant</li>\n<li>Set <code>kotlin.daemon.useFallbackStrategy=false</code> to true and false.</li>\n<li>Set <code>kotlin.stdlib.default.dependency=false</code> to true and false.</li>\n</ul>\n<p>Others cloned my repo to try builds, and get the same error. Static compiler seems to struggle with code analysis on gradle scripts intermittently, then at random sorts itself out.</p>\n<p>My code is sourced from a company repository, not maven repository or google. I do include <code>mavenLocal()</code> for now to pickup local jars for development.</p>\n<p>Has anyone else ever encountered this and solved it?</p>\n<p><strong>[Edit]</strong></p>\n<p>Ive noticed that <a href=\"https://kotlinlang.org/docs/gradle-configure-project.html#gradle-java-toolchains-support\" rel=\"nofollow noreferrer\">kotlin docs</a> say that a resolve plugin is needed for gradle versions &gt;= 8.0.2. So I downgraded my gradle wrapper version inside <code>gradle-wrapper.properties</code> to point to a gradle version &lt; 8.0.2 (ultimately no change), then tried adding <code>plugins { id(&quot;org.gradle.toolchains.foojay-resolver-convention&quot;) version(&quot;0.5.0&quot;) }</code> to <code>/settings.gradle.kts</code> and <code>/buildSrc/settings.gradle.kts</code>... which builds successfully, but now gives me the following error on both <code>settings.gradle.kts</code> files, one <code>build.gradle.kts</code> file, and my main <code>/buildSrc</code> convention plugin kotlin script;</p>\n<pre><code>java.lang.IllegalArgumentException: org.gradle.api.internal.initialization.DefaultClassLoaderScope@308b2ec0 must be locked before it can be used to compute a classpath!\n    at org.gradle.kotlin.dsl.provider.KotlinScriptClassPathProvider.exportClassPathFromHierarchyOf$kotlin_dsl(KotlinScriptClassPathProvider.kt:152)\n    at\n</code></pre>\n<p>STACKTRACE CUT SHORT DUE TO CHARACTER LIMIT!</p>\n<p><strong>[Edit2]</strong>\nI was able to run a <code>--scan</code> after all, but it makes no difference, I get the same error before a scan can be published</p>\n<pre><code>&gt; Task :buildSrc:compileKotlin FAILED\nFailed to compile with Kotlin daemon: java.lang.RuntimeException: Could not connect to Kotlin compile daemon\n    at\n</code></pre>\n<p>STACKTRACE CUT SHORT DUE TO CHARACTER LIMIT!</p>\n<p><strong>[Edit3]</strong>\nI didnt mention in the original post, I cannot run the gradle <code>init</code> script at initial gradle project setup because company firewall blocks the dependencies required to run it, so I decided to do a manual migration for this project</p>\n"},{"tags":["java","android","webauthn","fido","passkey"],"answers":[{"tags":[],"owner":{"account_id":20889,"reputation":15799,"user_id":50335,"accept_rate":84,"display_name":"Ariel Malka"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688029955,"creation_date":1688029955,"answer_id":76579677,"question_id":76578743,"body_markdown":"Answering my own question... The solution was pretty logical:\r\n\r\nUsing `unibeam.github.io` as &quot;rp.id&quot; in the registration template. Only this way, the underlying system is able to discover `https://unibeam.github.io/.well-known/assetlinks.json`!\r\n\r\nNote that is absolutely not documented, as if Google doesn&#39;t want people to implement passkey authentication.","title":"Unable to register for authentication using Passkey on Android","body":"<p>Answering my own question... The solution was pretty logical:</p>\n<p>Using <code>unibeam.github.io</code> as &quot;rp.id&quot; in the registration template. Only this way, the underlying system is able to discover <code>https://unibeam.github.io/.well-known/assetlinks.json</code>!</p>\n<p>Note that is absolutely not documented, as if Google doesn't want people to implement passkey authentication.</p>\n"}],"owner":{"account_id":20889,"reputation":15799,"user_id":50335,"accept_rate":84,"display_name":"Ariel Malka"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":657,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76579677,"answer_count":1,"score":0,"last_activity_date":1688029955,"creation_date":1688022349,"question_id":76578743,"body_markdown":"I&#39;m trying to follow the [official documentation](https://developer.android.com/training/sign-in/passkeys) to implement Passkey registration. There is also a [codelab](https://codelabs.developers.google.com/credential-manager-api-for-android) demonstrating the topic (note that it works as intended on my Android device.)\r\n\r\nI created this [minimal test-case](https://github.com/unibeam/passkey/tree/master/android/Passkey1) available on github, which replicates what&#39;s taking place in the codelab, in Java instead of Kotlin.\r\n\r\n```\r\nprivate void signUp() {\r\n    CreatePublicKeyCredentialRequest createPublicKeyCredentialRequest = new CreatePublicKeyCredentialRequest(fetchRegistrationJsonFromServer());\r\n\r\n    credentialManager.createCredentialAsync(\r\n            createPublicKeyCredentialRequest,\r\n            this,\r\n            new CancellationSignal(),\r\n            getMainExecutor(),\r\n            new CredentialManagerCallback&lt;CreateCredentialResponse, CreateCredentialException&gt;() {\r\n                @Override\r\n                public void onResult(CreateCredentialResponse result) {\r\n                    Log.d(TAG, &quot;Registration success&quot;);\r\n                }\r\n\r\n                @Override\r\n                public void onError(CreateCredentialException e) {\r\n                    Log.e(TAG, &quot;Registration failure - &quot; + e.getClass().getName());\r\n\r\n                    if (e instanceof CreatePublicKeyCredentialDomException) {\r\n                        // Handle the passkey DOM errors thrown according to the\r\n                        // WebAuthn spec.\r\n                        Log.e(TAG, String.valueOf(((CreatePublicKeyCredentialDomException)e).getDomError()));\r\n                    } else if (e instanceof CreateCredentialCancellationException) {\r\n                        // The user intentionally canceled the operation and chose not\r\n                        // to register the credential.\r\n                    } else if (e instanceof CreateCredentialInterruptedException) {\r\n                        // Retry-able error. Consider retrying the call.\r\n                    } else if (e instanceof CreateCredentialProviderConfigurationException) {\r\n                        // Your app is missing the provider configuration dependency.\r\n                        // Most likely, you&#39;re missing the\r\n                        // &quot;credentials-play-services-auth&quot; module.\r\n                    } else if (e instanceof CreateCredentialUnknownException) {\r\n                    } else if (e instanceof CreateCustomCredentialException) {\r\n                        // You have encountered an error from a 3rd-party SDK. If\r\n                        // you make the API call with a request object that&#39;s a\r\n                        // subclass of\r\n                        // CreateCustomCredentialRequest using a 3rd-party SDK,\r\n                        // then you should check for any custom exception type\r\n                        // constants within that SDK to match with e.type.\r\n                        // Otherwise, drop or log the exception.\r\n                    }\r\n                }\r\n            }\r\n    );\r\n}\r\n\r\nprivate String fetchRegistrationJsonFromServer() {\r\n    String response = Utils.readFromAssets(this, &quot;reg.txt&quot;);\r\n\r\n    return response.replace(&quot;&lt;userId&gt;&quot;, getEncodedUserId())\r\n            .replace(&quot;&lt;userName&gt;&quot;, username)\r\n            .replace(&quot;&lt;userDisplayName&gt;&quot;, username)\r\n            .replace(&quot;&lt;challenge&gt;&quot;, getEncodedChallenge());\r\n}\r\n\r\nprivate String getEncodedUserId() {\r\n    SecureRandom random = new SecureRandom();\r\n    byte[] bytes = new byte[64];\r\n    random.nextBytes(bytes);\r\n\r\n    return Base64.encodeToString(bytes, Base64.NO_WRAP | Base64.URL_SAFE | Base64.NO_PADDING);\r\n}\r\n\r\nprivate String getEncodedChallenge() {\r\n    SecureRandom random = new SecureRandom();\r\n    byte[] bytes = new byte[32];\r\n    random.nextBytes(bytes);\r\n\r\n    return Base64.encodeToString(bytes, Base64.NO_WRAP | Base64.URL_SAFE | Base64.NO_PADDING);\r\n}\r\n```\r\n\r\nCurrently, it fails with a `CreatePublicKeyCredentialDomException` of type `androidx.credentials.exceptions.domerrors.SecurityError`.\r\n\r\nNote that my app is handling *Digital Asset Links* properly, according to [this document](https://developers.google.com/identity/fido/android/native-apps). Please refer to this [SO question](https://stackoverflow.com/questions/76507667/verifying-android-app-links-fails-with-error-1024) for reference.\r\n\r\nCurrently, the only part which looks problematic to me is the [registration template](https://github.com/unibeam/passkey/blob/master/android/Passkey1/app/src/main/assets/reg.txt#L4). I tried to replace the &quot;rp.id&quot; value with `com.unibeam.passkey1` but it did not work.","title":"Unable to register for authentication using Passkey on Android","body":"<p>I'm trying to follow the <a href=\"https://developer.android.com/training/sign-in/passkeys\" rel=\"nofollow noreferrer\">official documentation</a> to implement Passkey registration. There is also a <a href=\"https://codelabs.developers.google.com/credential-manager-api-for-android\" rel=\"nofollow noreferrer\">codelab</a> demonstrating the topic (note that it works as intended on my Android device.)</p>\n<p>I created this <a href=\"https://github.com/unibeam/passkey/tree/master/android/Passkey1\" rel=\"nofollow noreferrer\">minimal test-case</a> available on github, which replicates what's taking place in the codelab, in Java instead of Kotlin.</p>\n<pre><code>private void signUp() {\n    CreatePublicKeyCredentialRequest createPublicKeyCredentialRequest = new CreatePublicKeyCredentialRequest(fetchRegistrationJsonFromServer());\n\n    credentialManager.createCredentialAsync(\n            createPublicKeyCredentialRequest,\n            this,\n            new CancellationSignal(),\n            getMainExecutor(),\n            new CredentialManagerCallback&lt;CreateCredentialResponse, CreateCredentialException&gt;() {\n                @Override\n                public void onResult(CreateCredentialResponse result) {\n                    Log.d(TAG, &quot;Registration success&quot;);\n                }\n\n                @Override\n                public void onError(CreateCredentialException e) {\n                    Log.e(TAG, &quot;Registration failure - &quot; + e.getClass().getName());\n\n                    if (e instanceof CreatePublicKeyCredentialDomException) {\n                        // Handle the passkey DOM errors thrown according to the\n                        // WebAuthn spec.\n                        Log.e(TAG, String.valueOf(((CreatePublicKeyCredentialDomException)e).getDomError()));\n                    } else if (e instanceof CreateCredentialCancellationException) {\n                        // The user intentionally canceled the operation and chose not\n                        // to register the credential.\n                    } else if (e instanceof CreateCredentialInterruptedException) {\n                        // Retry-able error. Consider retrying the call.\n                    } else if (e instanceof CreateCredentialProviderConfigurationException) {\n                        // Your app is missing the provider configuration dependency.\n                        // Most likely, you're missing the\n                        // &quot;credentials-play-services-auth&quot; module.\n                    } else if (e instanceof CreateCredentialUnknownException) {\n                    } else if (e instanceof CreateCustomCredentialException) {\n                        // You have encountered an error from a 3rd-party SDK. If\n                        // you make the API call with a request object that's a\n                        // subclass of\n                        // CreateCustomCredentialRequest using a 3rd-party SDK,\n                        // then you should check for any custom exception type\n                        // constants within that SDK to match with e.type.\n                        // Otherwise, drop or log the exception.\n                    }\n                }\n            }\n    );\n}\n\nprivate String fetchRegistrationJsonFromServer() {\n    String response = Utils.readFromAssets(this, &quot;reg.txt&quot;);\n\n    return response.replace(&quot;&lt;userId&gt;&quot;, getEncodedUserId())\n            .replace(&quot;&lt;userName&gt;&quot;, username)\n            .replace(&quot;&lt;userDisplayName&gt;&quot;, username)\n            .replace(&quot;&lt;challenge&gt;&quot;, getEncodedChallenge());\n}\n\nprivate String getEncodedUserId() {\n    SecureRandom random = new SecureRandom();\n    byte[] bytes = new byte[64];\n    random.nextBytes(bytes);\n\n    return Base64.encodeToString(bytes, Base64.NO_WRAP | Base64.URL_SAFE | Base64.NO_PADDING);\n}\n\nprivate String getEncodedChallenge() {\n    SecureRandom random = new SecureRandom();\n    byte[] bytes = new byte[32];\n    random.nextBytes(bytes);\n\n    return Base64.encodeToString(bytes, Base64.NO_WRAP | Base64.URL_SAFE | Base64.NO_PADDING);\n}\n</code></pre>\n<p>Currently, it fails with a <code>CreatePublicKeyCredentialDomException</code> of type <code>androidx.credentials.exceptions.domerrors.SecurityError</code>.</p>\n<p>Note that my app is handling <em>Digital Asset Links</em> properly, according to <a href=\"https://developers.google.com/identity/fido/android/native-apps\" rel=\"nofollow noreferrer\">this document</a>. Please refer to this <a href=\"https://stackoverflow.com/questions/76507667/verifying-android-app-links-fails-with-error-1024\">SO question</a> for reference.</p>\n<p>Currently, the only part which looks problematic to me is the <a href=\"https://github.com/unibeam/passkey/blob/master/android/Passkey1/app/src/main/assets/reg.txt#L4\" rel=\"nofollow noreferrer\">registration template</a>. I tried to replace the &quot;rp.id&quot; value with <code>com.unibeam.passkey1</code> but it did not work.</p>\n"},{"tags":["java","android","android-livedata","observers"],"owner":{"account_id":24008363,"reputation":41,"user_id":17992279,"display_name":"Mahmoud Hassan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1688029807,"creation_date":1688029807,"question_id":76579647,"body_markdown":"I have the following code for simple room and Dao function.\r\nI am trying to create observer to observe Customers entity table.\r\nI do not have a lifecycle or UI so how to create the observer?\r\n```\r\ndata class Customers(\r\n    @PrimaryKey\r\n    val name: String,\r\n    val address: String\r\n)\r\n--------------------------------------------------------------------------\r\n@Query(&quot;SELECT * FROM Customers&quot;)                         //observable\r\n    suspend fun getAllCustomers(): Flow&lt;List&lt;Customers&gt;&gt;    enter code here\r\n--------------------------------------------------------------------------\r\nsuspend fun getAllCustomers() = withContext(Dispatchers.IO){\r\n       var customers = CustomersDao.getAllCustomers()\r\n    }\r\n--------------------------------------------------------------------------\r\n```","title":"Create observer (LiveData or Flow) without having (Lifecycle Owner and UI)","body":"<p>I have the following code for simple room and Dao function.\nI am trying to create observer to observe Customers entity table.\nI do not have a lifecycle or UI so how to create the observer?</p>\n<pre><code>data class Customers(\n    @PrimaryKey\n    val name: String,\n    val address: String\n)\n--------------------------------------------------------------------------\n@Query(&quot;SELECT * FROM Customers&quot;)                         //observable\n    suspend fun getAllCustomers(): Flow&lt;List&lt;Customers&gt;&gt;    enter code here\n--------------------------------------------------------------------------\nsuspend fun getAllCustomers() = withContext(Dispatchers.IO){\n       var customers = CustomersDao.getAllCustomers()\n    }\n--------------------------------------------------------------------------\n</code></pre>\n"},{"tags":["java","string","random","alphanumeric"],"comments":[{"owner":{"account_id":209626,"reputation":2353,"user_id":460761,"accept_rate":100,"display_name":"pablosaraiva"},"score":165,"creation_date":1288019271,"post_id":41107,"comment_id":4304978,"body_markdown":"Beware [the birthday paradox](http://en.wikipedia.org/wiki/Birthday_problem).","body":"Beware <a href=\"http://en.wikipedia.org/wiki/Birthday_problem\" rel=\"nofollow noreferrer\">the birthday paradox</a>."},{"owner":{"account_id":170019,"reputation":84110,"user_id":396458,"accept_rate":84,"display_name":"NullUserException"},"score":63,"creation_date":1351483990,"post_id":41107,"comment_id":17832113,"body_markdown":"Even taking the birthday paradox in consideration, if you use 12 alphanumeric characters (62 total), you would still need well over 34 billion strings to reach the paradox. And the birthday paradox doesn&#39;t guarantee a collision anyways, it just says it&#39;s over 50% chance.","body":"Even taking the birthday paradox in consideration, if you use 12 alphanumeric characters (62 total), you would still need well over 34 billion strings to reach the paradox. And the birthday paradox doesn&#39;t guarantee a collision anyways, it just says it&#39;s over 50% chance."},{"owner":{"account_id":266397,"reputation":11135,"user_id":553941,"accept_rate":80,"display_name":"Pijusn"},"score":6,"creation_date":1422700110,"post_id":41107,"comment_id":44860726,"body_markdown":"@NullUserException 50 % success chance (per try) is damn high: even with 10 attempts, success rate is 0.999. With that and the fact that you can try A LOT in a period of 24 hours in mind, you don&#39;t need 34 billion strings to be pretty sure to guess at least one of them. That is the reason why some session tokens should be really, really long.","body":"@NullUserException 50 % success chance (per try) is damn high: even with 10 attempts, success rate is 0.999. With that and the fact that you can try A LOT in a period of 24 hours in mind, you don&#39;t need 34 billion strings to be pretty sure to guess at least one of them. That is the reason why some session tokens should be really, really long."},{"owner":{"account_id":92393,"reputation":9711,"user_id":253231,"accept_rate":84,"display_name":"Dan"},"score":0,"creation_date":1435068375,"post_id":41107,"comment_id":50037534,"body_markdown":"This blogpost should be useful - code for producing alphanumeric strings: http://www.rationaljava.com/2015/06/java8-generate-random-string-in-one-line.html","body":"This blogpost should be useful - code for producing alphanumeric strings: <a href=\"http://www.rationaljava.com/2015/06/java8-generate-random-string-in-one-line.html\" rel=\"nofollow noreferrer\">rationaljava.com/2015/06/&hellip;</a>"},{"owner":{"account_id":3911816,"reputation":999,"user_id":3236903,"accept_rate":58,"display_name":"Manindar"},"score":20,"creation_date":1465371093,"post_id":41107,"comment_id":62867272,"body_markdown":"These 3 single line codes are very much useful i guess..\n`Long.toHexString(Double.doubleToLongBits(Math.random()));`\n`UUID.randomUUID().toString();`\n`RandomStringUtils.randomAlphanumeric(12);`","body":"These 3 single line codes are very much useful i guess.. <code>Long.toHexString(Double.doubleToLongBits(Math.random()));</code> <code>UUID.randomUUID().toString();</code> <code>RandomStringUtils.randomAlphanumeric(12);</code>"},{"owner":{"account_id":1776365,"reputation":242,"user_id":1620102,"display_name":"Tin Wizard"},"score":25,"creation_date":1507749693,"post_id":41107,"comment_id":80339689,"body_markdown":"@Pijusn I know this is old, but... the &quot;50% chance&quot; in the birthday paradox is **NOT** &quot;per try&quot;, it&#39;s &quot;50% chance that, out of (in this case) 34 billion strings, there exists at least one pair of duplicates&quot;. You&#39;d need 1.6 *sept*illion - 1.6e21 - entries in your database in order for there to be a 50% chance per try.","body":"@Pijusn I know this is old, but... the &quot;50% chance&quot; in the birthday paradox is <b>NOT</b> &quot;per try&quot;, it&#39;s &quot;50% chance that, out of (in this case) 34 billion strings, there exists at least one pair of duplicates&quot;. You&#39;d need 1.6 <i>sept</i>illion - 1.6e21 - entries in your database in order for there to be a 50% chance per try."},{"owner":{"account_id":3360865,"reputation":1736,"user_id":2822680,"accept_rate":40,"display_name":"cwtuan"},"score":0,"creation_date":1665472678,"post_id":41107,"comment_id":130701997,"body_markdown":"It&#39;s better to remove `&quot;-&quot;` in the string","body":"It&#39;s better to remove <code>&quot;-&quot;</code> in the string"},{"owner":{"account_id":3360865,"reputation":1736,"user_id":2822680,"accept_rate":40,"display_name":"cwtuan"},"score":0,"creation_date":1671608765,"post_id":41107,"comment_id":132133185,"body_markdown":"[random string using javascript,Java, Python, Rust, bash](https://fe-tool.com/en-us/random-password)","body":"<a href=\"https://fe-tool.com/en-us/random-password\" rel=\"nofollow noreferrer\">random string using javascript,Java, Python, Rust, bash</a>"}],"answers":[{"tags":[],"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"down_vote_count":7,"up_vote_count":1640,"is_accepted":true,"score":1633,"last_activity_date":1632727647,"creation_date":1220414664,"answer_id":41156,"question_id":41107,"body_markdown":"Algorithm\r\n---------\r\n\r\nTo generate a random string, concatenate characters drawn randomly from the set of acceptable symbols until the string reaches the desired length.\r\n\r\nImplementation\r\n--------------\r\n\r\nHere&#39;s some fairly simple and very flexible code for generating random identifiers. *Read the information that follows* for important application notes.\r\n\r\n    public class RandomString {\r\n    \r\n        /**\r\n         * Generate a random string.\r\n         */\r\n        public String nextString() {\r\n            for (int idx = 0; idx &lt; buf.length; ++idx)\r\n                buf[idx] = symbols[random.nextInt(symbols.length)];\r\n            return new String(buf);\r\n        }\r\n    \r\n        public static final String upper = &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;;\r\n    \r\n        public static final String lower = upper.toLowerCase(Locale.ROOT);\r\n    \r\n        public static final String digits = &quot;0123456789&quot;;\r\n    \r\n        public static final String alphanum = upper + lower + digits;\r\n    \r\n        private final Random random;\r\n    \r\n        private final char[] symbols;\r\n    \r\n        private final char[] buf;\r\n    \r\n        public RandomString(int length, Random random, String symbols) {\r\n            if (length &lt; 1) throw new IllegalArgumentException();\r\n            if (symbols.length() &lt; 2) throw new IllegalArgumentException();\r\n            this.random = Objects.requireNonNull(random);\r\n            this.symbols = symbols.toCharArray();\r\n            this.buf = new char[length];\r\n        }\r\n    \r\n        /**\r\n         * Create an alphanumeric string generator.\r\n         */\r\n        public RandomString(int length, Random random) {\r\n            this(length, random, alphanum);\r\n        }\r\n    \r\n        /**\r\n         * Create an alphanumeric strings from a secure generator.\r\n         */\r\n        public RandomString(int length) {\r\n            this(length, new SecureRandom());\r\n        }\r\n    \r\n        /**\r\n         * Create session identifiers.\r\n         */\r\n        public RandomString() {\r\n            this(21);\r\n        }\r\n    \r\n    }\r\n\r\nUsage examples\r\n--------------\r\n\r\nCreate an insecure generator for 8-character identifiers:\r\n\r\n    RandomString gen = new RandomString(8, ThreadLocalRandom.current());\r\n\r\nCreate a secure generator for session identifiers:\r\n\r\n    RandomString session = new RandomString();\r\n\r\nCreate a generator with easy-to-read codes for printing. The strings are longer than full alphanumeric strings to compensate for using fewer symbols:\r\n\r\n    String easy = RandomString.digits + &quot;ACEFGHJKLMNPQRUVWXYabcdefhijkprstuvwx&quot;;\r\n    RandomString tickets = new RandomString(23, new SecureRandom(), easy);\r\n\r\n\r\nUse as session identifiers\r\n--------------------------\r\n\r\nGenerating session identifiers that are likely to be unique is not good enough, or you could just use a simple counter. Attackers hijack sessions when predictable identifiers are used.\r\n\r\nThere is tension between length and security. Shorter identifiers are easier to guess, because there are fewer possibilities. But longer identifiers consume more storage and bandwidth. A larger set of symbols helps, but might cause encoding problems if identifiers are included in URLs or re-entered by hand.\r\n\r\nThe underlying source of randomness, or entropy, for session identifiers should come from a random number generator designed for cryptography. However, initializing these generators can sometimes be computationally expensive or slow, so effort should be made to re-use them when possible.\r\n\r\nUse as object identifiers\r\n-------------------------\r\n\r\nNot every application requires security. Random assignment can be an efficient way for multiple entities to generate identifiers in a shared space without any coordination or partitioning. Coordination can be slow, especially in a clustered or distributed environment, and splitting up a space causes problems when entities end up with shares that are too small or too big.\r\n\r\nIdentifiers generated without taking measures to make them unpredictable should be protected by other means if an attacker might be able to view and manipulate them, as happens in most web applications. There should be a separate authorization system that protects objects whose identifier can be guessed by an attacker without access permission.\r\n\r\nCare must be also be taken to use identifiers that are long enough to make collisions unlikely given the anticipated total number of identifiers. This is referred to as &quot;the birthday paradox.&quot; [The probability of a collision,][1] *p*, is approximately n&lt;sup&gt;2&lt;/sup&gt;/(2q&lt;sup&gt;x&lt;/sup&gt;), where *n* is the number of identifiers actually generated, *q* is the number of distinct symbols in the alphabet, and *x* is the length of the identifiers. This should be a very small number, like 2&lt;sup&gt;&amp;#8209;50&lt;/sup&gt; or less.\r\n\r\nWorking this out shows that the chance of collision among 500k 15-character identifiers is about 2&lt;sup&gt;&amp;#8209;52&lt;/sup&gt;, which is probably less likely than undetected errors from cosmic rays, etc.\r\n\r\nComparison with UUIDs\r\n---------------------\r\nAccording to their specification, [UUIDs][2] are not designed to be unpredictable, and *should not* be used as session identifiers.\r\n\r\nUUIDs in their standard format take a lot of space: 36 characters for only 122 bits of entropy. (Not all bits of a &quot;random&quot; UUID are selected randomly.) A randomly chosen alphanumeric string packs more entropy in just 21 characters.\r\n\r\nUUIDs are not flexible; they have a standardized structure and layout. This is their chief virtue as well as their main weakness. When collaborating with an outside party, the standardization offered by UUIDs may be helpful. For purely internal use, they can be inefficient.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Birthday_problem#Square_approximation\r\n  [2]: https://www.rfc-editor.org/rfc/rfc4122#section-6","title":"How to generate a random alpha-numeric string","body":"<h2>Algorithm</h2>\n<p>To generate a random string, concatenate characters drawn randomly from the set of acceptable symbols until the string reaches the desired length.</p>\n<h2>Implementation</h2>\n<p>Here's some fairly simple and very flexible code for generating random identifiers. <em>Read the information that follows</em> for important application notes.</p>\n<pre><code>public class RandomString {\n\n    /**\n     * Generate a random string.\n     */\n    public String nextString() {\n        for (int idx = 0; idx &lt; buf.length; ++idx)\n            buf[idx] = symbols[random.nextInt(symbols.length)];\n        return new String(buf);\n    }\n\n    public static final String upper = &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;;\n\n    public static final String lower = upper.toLowerCase(Locale.ROOT);\n\n    public static final String digits = &quot;0123456789&quot;;\n\n    public static final String alphanum = upper + lower + digits;\n\n    private final Random random;\n\n    private final char[] symbols;\n\n    private final char[] buf;\n\n    public RandomString(int length, Random random, String symbols) {\n        if (length &lt; 1) throw new IllegalArgumentException();\n        if (symbols.length() &lt; 2) throw new IllegalArgumentException();\n        this.random = Objects.requireNonNull(random);\n        this.symbols = symbols.toCharArray();\n        this.buf = new char[length];\n    }\n\n    /**\n     * Create an alphanumeric string generator.\n     */\n    public RandomString(int length, Random random) {\n        this(length, random, alphanum);\n    }\n\n    /**\n     * Create an alphanumeric strings from a secure generator.\n     */\n    public RandomString(int length) {\n        this(length, new SecureRandom());\n    }\n\n    /**\n     * Create session identifiers.\n     */\n    public RandomString() {\n        this(21);\n    }\n\n}\n</code></pre>\n<h2>Usage examples</h2>\n<p>Create an insecure generator for 8-character identifiers:</p>\n<pre><code>RandomString gen = new RandomString(8, ThreadLocalRandom.current());\n</code></pre>\n<p>Create a secure generator for session identifiers:</p>\n<pre><code>RandomString session = new RandomString();\n</code></pre>\n<p>Create a generator with easy-to-read codes for printing. The strings are longer than full alphanumeric strings to compensate for using fewer symbols:</p>\n<pre><code>String easy = RandomString.digits + &quot;ACEFGHJKLMNPQRUVWXYabcdefhijkprstuvwx&quot;;\nRandomString tickets = new RandomString(23, new SecureRandom(), easy);\n</code></pre>\n<h2>Use as session identifiers</h2>\n<p>Generating session identifiers that are likely to be unique is not good enough, or you could just use a simple counter. Attackers hijack sessions when predictable identifiers are used.</p>\n<p>There is tension between length and security. Shorter identifiers are easier to guess, because there are fewer possibilities. But longer identifiers consume more storage and bandwidth. A larger set of symbols helps, but might cause encoding problems if identifiers are included in URLs or re-entered by hand.</p>\n<p>The underlying source of randomness, or entropy, for session identifiers should come from a random number generator designed for cryptography. However, initializing these generators can sometimes be computationally expensive or slow, so effort should be made to re-use them when possible.</p>\n<h2>Use as object identifiers</h2>\n<p>Not every application requires security. Random assignment can be an efficient way for multiple entities to generate identifiers in a shared space without any coordination or partitioning. Coordination can be slow, especially in a clustered or distributed environment, and splitting up a space causes problems when entities end up with shares that are too small or too big.</p>\n<p>Identifiers generated without taking measures to make them unpredictable should be protected by other means if an attacker might be able to view and manipulate them, as happens in most web applications. There should be a separate authorization system that protects objects whose identifier can be guessed by an attacker without access permission.</p>\n<p>Care must be also be taken to use identifiers that are long enough to make collisions unlikely given the anticipated total number of identifiers. This is referred to as &quot;the birthday paradox.&quot; <a href=\"https://en.wikipedia.org/wiki/Birthday_problem#Square_approximation\" rel=\"noreferrer\">The probability of a collision,</a> <em>p</em>, is approximately n<sup>2</sup>/(2q<sup>x</sup>), where <em>n</em> is the number of identifiers actually generated, <em>q</em> is the number of distinct symbols in the alphabet, and <em>x</em> is the length of the identifiers. This should be a very small number, like 2<sup>‑50</sup> or less.</p>\n<p>Working this out shows that the chance of collision among 500k 15-character identifiers is about 2<sup>‑52</sup>, which is probably less likely than undetected errors from cosmic rays, etc.</p>\n<h2>Comparison with UUIDs</h2>\n<p>According to their specification, <a href=\"https://www.rfc-editor.org/rfc/rfc4122#section-6\" rel=\"noreferrer\">UUIDs</a> are not designed to be unpredictable, and <em>should not</em> be used as session identifiers.</p>\n<p>UUIDs in their standard format take a lot of space: 36 characters for only 122 bits of entropy. (Not all bits of a &quot;random&quot; UUID are selected randomly.) A randomly chosen alphanumeric string packs more entropy in just 21 characters.</p>\n<p>UUIDs are not flexible; they have a standardized structure and layout. This is their chief virtue as well as their main weakness. When collaborating with an outside party, the standardization offered by UUIDs may be helpful. For purely internal use, they can be inefficient.</p>\n"},{"tags":[],"owner":{"account_id":2466,"reputation":34852,"user_id":3434,"accept_rate":90,"display_name":"Apocalisp"},"down_vote_count":7,"up_vote_count":43,"is_accepted":false,"score":36,"last_activity_date":1220462198,"creation_date":1220416622,"answer_id":41177,"question_id":41107,"body_markdown":"Here it is in Java:\r\n\r\n    import static java.lang.Math.round;\r\n    import static java.lang.Math.random;\r\n    import static java.lang.Math.pow;\r\n    import static java.lang.Math.abs;\r\n    import static java.lang.Math.min;\r\n    import static org.apache.commons.lang.StringUtils.leftPad\r\n    \r\n    public class RandomAlphaNum {\r\n      public static String gen(int length) {\r\n        StringBuffer sb = new StringBuffer();\r\n        for (int i = length; i &gt; 0; i -= 12) {\r\n          int n = min(12, abs(i));\r\n          sb.append(leftPad(Long.toString(round(random() * pow(36, n)), 36), n, &#39;0&#39;));\r\n        }\r\n        return sb.toString();\r\n      }\r\n    }\r\n\r\n\r\nHere&#39;s a sample run:\r\n\r\n    scala&gt; RandomAlphaNum.gen(42)\r\n    res3: java.lang.String = uja6snx21bswf9t89s00bxssu8g6qlu16ffzqaxxoy\r\n\r\n","title":"How to generate a random alpha-numeric string","body":"<p>Here it is in Java:</p>\n\n<pre><code>import static java.lang.Math.round;\nimport static java.lang.Math.random;\nimport static java.lang.Math.pow;\nimport static java.lang.Math.abs;\nimport static java.lang.Math.min;\nimport static org.apache.commons.lang.StringUtils.leftPad\n\npublic class RandomAlphaNum {\n  public static String gen(int length) {\n    StringBuffer sb = new StringBuffer();\n    for (int i = length; i &gt; 0; i -= 12) {\n      int n = min(12, abs(i));\n      sb.append(leftPad(Long.toString(round(random() * pow(36, n)), 36), n, '0'));\n    }\n    return sb.toString();\n  }\n}\n</code></pre>\n\n<p>Here's a sample run:</p>\n\n<pre><code>scala&gt; RandomAlphaNum.gen(42)\nres3: java.lang.String = uja6snx21bswf9t89s00bxssu8g6qlu16ffzqaxxoy\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2146,"reputation":51871,"user_id":2959,"accept_rate":67,"display_name":"Steve McLeod"},"down_vote_count":15,"up_vote_count":908,"is_accepted":false,"score":893,"last_activity_date":1605199935,"creation_date":1220451510,"answer_id":41762,"question_id":41107,"body_markdown":"Java supplies a way of doing this directly. If you don&#39;t want the dashes, they are easy to strip out. Just use `uuid.replace(&quot;-&quot;, &quot;&quot;)`\r\n\r\n    import java.util.UUID;\r\n\r\n    public class randomStringGenerator {\r\n        public static void main(String[] args) {\r\n            System.out.println(generateString());\r\n        }\r\n\r\n        public static String generateString() {\r\n            String uuid = UUID.randomUUID().toString();\r\n            return &quot;uuid = &quot; + uuid;\r\n        }\r\n    }\r\n\r\n### Output\r\n\r\n```lang-none\r\nuuid = 2d7428a6-b58c-4008-8575-f05549f16316\r\n```\r\n\r\n\r\n\r\n","title":"How to generate a random alpha-numeric string","body":"<p>Java supplies a way of doing this directly. If you don't want the dashes, they are easy to strip out. Just use <code>uuid.replace(&quot;-&quot;, &quot;&quot;)</code></p>\n<pre><code>import java.util.UUID;\n\npublic class randomStringGenerator {\n    public static void main(String[] args) {\n        System.out.println(generateString());\n    }\n\n    public static String generateString() {\n        String uuid = UUID.randomUUID().toString();\n        return &quot;uuid = &quot; + uuid;\n    }\n}\n</code></pre>\n<h3>Output</h3>\n<pre class=\"lang-none prettyprint-override\"><code>uuid = 2d7428a6-b58c-4008-8575-f05549f16316\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2708,"reputation":3363,"user_id":3803,"display_name":"Todd"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1440053360,"creation_date":1220451743,"answer_id":41772,"question_id":41107,"body_markdown":"I found this solution that generates a random hex encoded string.  The provided unit test seems to hold up to my primary use case.  Although, it is slightly more complex than some of the other answers provided.\r\n\r\n    /**\r\n     * Generate a random hex encoded string token of the specified length\r\n     *  \r\n     * @param length\r\n     * @return random hex string\r\n     */\r\n    public static synchronized String generateUniqueToken(Integer length){ \r\n        byte random[] = new byte[length];\r\n        Random randomGenerator = new Random();\r\n        StringBuffer buffer = new StringBuffer();\r\n        \r\n        randomGenerator.nextBytes(random);\r\n\r\n        for (int j = 0; j &lt; random.length; j++) {\r\n            byte b1 = (byte) ((random[j] &amp; 0xf0) &gt;&gt; 4);\r\n            byte b2 = (byte) (random[j] &amp; 0x0f);\r\n            if (b1 &lt; 10)\r\n                buffer.append((char) (&#39;0&#39; + b1));\r\n            else\r\n                buffer.append((char) (&#39;A&#39; + (b1 - 10)));\r\n            if (b2 &lt; 10)\r\n                buffer.append((char) (&#39;0&#39; + b2));\r\n            else\r\n                buffer.append((char) (&#39;A&#39; + (b2 - 10)));\r\n        }\r\n        return (buffer.toString());\r\n    }\r\n\r\n    @Test\r\n    public void testGenerateUniqueToken(){\r\n        Set set = new HashSet();\r\n        String token = null;\r\n        int size = 16;\r\n\r\n        /* Seems like we should be able to generate 500K tokens \r\n         * without a duplicate \r\n         */\r\n        for (int i=0; i&lt;500000; i++){\r\n            token = Utility.generateUniqueToken(size);\r\n\r\n            if (token.length() != size * 2){\r\n                fail(&quot;Incorrect length&quot;);\r\n            } else if (set.contains(token)) {\r\n                fail(&quot;Duplicate token generated&quot;);\r\n            } else{\r\n                set.add(token);\r\n            }\r\n        }\r\n    }","title":"How to generate a random alpha-numeric string","body":"<p>I found this solution that generates a random hex encoded string.  The provided unit test seems to hold up to my primary use case.  Although, it is slightly more complex than some of the other answers provided.</p>\n\n<pre><code>/**\n * Generate a random hex encoded string token of the specified length\n *  \n * @param length\n * @return random hex string\n */\npublic static synchronized String generateUniqueToken(Integer length){ \n    byte random[] = new byte[length];\n    Random randomGenerator = new Random();\n    StringBuffer buffer = new StringBuffer();\n\n    randomGenerator.nextBytes(random);\n\n    for (int j = 0; j &lt; random.length; j++) {\n        byte b1 = (byte) ((random[j] &amp; 0xf0) &gt;&gt; 4);\n        byte b2 = (byte) (random[j] &amp; 0x0f);\n        if (b1 &lt; 10)\n            buffer.append((char) ('0' + b1));\n        else\n            buffer.append((char) ('A' + (b1 - 10)));\n        if (b2 &lt; 10)\n            buffer.append((char) ('0' + b2));\n        else\n            buffer.append((char) ('A' + (b2 - 10)));\n    }\n    return (buffer.toString());\n}\n\n@Test\npublic void testGenerateUniqueToken(){\n    Set set = new HashSet();\n    String token = null;\n    int size = 16;\n\n    /* Seems like we should be able to generate 500K tokens \n     * without a duplicate \n     */\n    for (int i=0; i&lt;500000; i++){\n        token = Utility.generateUniqueToken(size);\n\n        if (token.length() != size * 2){\n            fail(\"Incorrect length\");\n        } else if (set.contains(token)) {\n            fail(\"Duplicate token generated\");\n        } else{\n            set.add(token);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2520,"reputation":2129,"user_id":3512,"display_name":"cmsherratt"},"down_vote_count":4,"up_vote_count":508,"is_accepted":false,"score":504,"last_activity_date":1605200223,"creation_date":1220526886,"answer_id":43496,"question_id":41107,"body_markdown":"If you&#39;re happy to use Apache classes, you could use [`org.apache.commons.text.RandomStringGenerator`][1] ([Apache Commons Text][2]).\r\n\r\nExample:\r\n\r\n    RandomStringGenerator randomStringGenerator =\r\n            new RandomStringGenerator.Builder()\r\n                    .withinRange(&#39;0&#39;, &#39;z&#39;)\r\n                    .filteredBy(CharacterPredicates.LETTERS, CharacterPredicates.DIGITS)\r\n                    .build();\r\n    randomStringGenerator.generate(12); // toUpperCase() if you want\r\n\r\nSince [Apache Commons Lang][2] 3.6, `RandomStringUtils` is deprecated.\r\n\r\n  [1]: https://commons.apache.org/proper/commons-text/javadocs/api-release/org/apache/commons/text/RandomStringGenerator.html\r\n  [2]: https://en.wikipedia.org/wiki/Apache_Commons#Commons_Proper\r\n\r\n\r\n\r\n\r\n","title":"How to generate a random alpha-numeric string","body":"<p>If you're happy to use Apache classes, you could use <a href=\"https://commons.apache.org/proper/commons-text/javadocs/api-release/org/apache/commons/text/RandomStringGenerator.html\" rel=\"noreferrer\"><code>org.apache.commons.text.RandomStringGenerator</code></a> (<a href=\"https://en.wikipedia.org/wiki/Apache_Commons#Commons_Proper\" rel=\"noreferrer\">Apache Commons Text</a>).</p>\n<p>Example:</p>\n<pre><code>RandomStringGenerator randomStringGenerator =\n        new RandomStringGenerator.Builder()\n                .withinRange('0', 'z')\n                .filteredBy(CharacterPredicates.LETTERS, CharacterPredicates.DIGITS)\n                .build();\nrandomStringGenerator.generate(12); // toUpperCase() if you want\n</code></pre>\n<p>Since <a href=\"https://en.wikipedia.org/wiki/Apache_Commons#Commons_Proper\" rel=\"noreferrer\">Apache Commons Lang</a> 3.6, <code>RandomStringUtils</code> is deprecated.</p>\n"},{"tags":[],"owner":{"account_id":11050,"reputation":5484,"user_id":21152,"accept_rate":62,"display_name":"maxp"},"down_vote_count":1,"up_vote_count":639,"is_accepted":false,"score":638,"last_activity_date":1605200265,"creation_date":1222861014,"answer_id":157202,"question_id":41107,"body_markdown":"    static final String AB = &quot;0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz&quot;;\r\n    static SecureRandom rnd = new SecureRandom();\r\n\r\n    String randomString(int len){\r\n       StringBuilder sb = new StringBuilder(len);\r\n       for(int i = 0; i &lt; len; i++)\r\n          sb.append(AB.charAt(rnd.nextInt(AB.length())));\r\n       return sb.toString();\r\n    }\r\n\r\n\r\n\r\n\r\n","title":"How to generate a random alpha-numeric string","body":"<pre><code>static final String AB = &quot;0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz&quot;;\nstatic SecureRandom rnd = new SecureRandom();\n\nString randomString(int len){\n   StringBuilder sb = new StringBuilder(len);\n   for(int i = 0; i &lt; len; i++)\n      sb.append(AB.charAt(rnd.nextInt(AB.length())));\n   return sb.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"Amar Nath Batta"},"down_vote_count":4,"up_vote_count":4,"is_accepted":false,"score":0,"last_activity_date":1605200412,"creation_date":1245400606,"answer_id":1016930,"question_id":41107,"body_markdown":"I have developed an application to develop an autogenerated alphanumberic string for my project. In this string, the first three characters are alphabetical and the next seven are integers.\r\n\r\n    public class AlphaNumericGenerator {\r\n\r\n        public static void main(String[] args) {\r\n            java.util.Random r = new java.util.Random();\r\n            int i = 1, n = 0;\r\n            char c;\r\n            String str = &quot;&quot;;\r\n            for (int t = 0; t &lt; 3; t++) {\r\n                while (true) {\r\n                    i = r.nextInt(10);\r\n                    if (i &gt; 5 &amp;&amp; i &lt; 10) {\r\n\r\n                        if (i == 9) {\r\n                            i = 90;\r\n                            n = 90;\r\n                            break;\r\n                        }\r\n                        if (i != 90) {\r\n                            n = i * 10 + r.nextInt(10);\r\n                            while (n &lt; 65) {\r\n                                n = i * 10 + r.nextInt(10);\r\n                            }\r\n                        }\r\n                        break;\r\n                    }\r\n                }\r\n                c = (char)n;\r\n\r\n                str = String.valueOf(c) + str;\r\n            }\r\n\r\n            while(true){\r\n                i = r.nextInt(10000000);\r\n                if(i &gt; 999999)\r\n                    break;\r\n            }\r\n            str = str + i;\r\n            System.out.println(str);\r\n        }\r\n    }\r\n\r\n\r\n","title":"How to generate a random alpha-numeric string","body":"<p>I have developed an application to develop an autogenerated alphanumberic string for my project. In this string, the first three characters are alphabetical and the next seven are integers.</p>\n<pre><code>public class AlphaNumericGenerator {\n\n    public static void main(String[] args) {\n        java.util.Random r = new java.util.Random();\n        int i = 1, n = 0;\n        char c;\n        String str = &quot;&quot;;\n        for (int t = 0; t &lt; 3; t++) {\n            while (true) {\n                i = r.nextInt(10);\n                if (i &gt; 5 &amp;&amp; i &lt; 10) {\n\n                    if (i == 9) {\n                        i = 90;\n                        n = 90;\n                        break;\n                    }\n                    if (i != 90) {\n                        n = i * 10 + r.nextInt(10);\n                        while (n &lt; 65) {\n                            n = i * 10 + r.nextInt(10);\n                        }\n                    }\n                    break;\n                }\n            }\n            c = (char)n;\n\n            str = String.valueOf(c) + str;\n        }\n\n        while(true){\n            i = r.nextInt(10000000);\n            if(i &gt; 999999)\n                break;\n        }\n        str = str + i;\n        System.out.println(str);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"anonymous"},"down_vote_count":10,"up_vote_count":125,"is_accepted":false,"score":115,"last_activity_date":1605200471,"creation_date":1253200977,"answer_id":1439556,"question_id":41107,"body_markdown":"In one line:\r\n\r\n    Long.toHexString(Double.doubleToLongBits(Math.random()));\r\n\r\n\r\nSource: *[Java - generating a random string][1]*\r\n\r\n  [1]: http://mynotes.wordpress.com/2009/07/23/java-generating-random-string/\r\n","title":"How to generate a random alpha-numeric string","body":"<p>In one line:</p>\n<pre><code>Long.toHexString(Double.doubleToLongBits(Math.random()));\n</code></pre>\n<p>Source: <em><a href=\"http://mynotes.wordpress.com/2009/07/23/java-generating-random-string/\" rel=\"noreferrer\">Java - generating a random string</a></em></p>\n"},{"tags":[],"owner":{"account_id":32251,"reputation":114942,"user_id":89266,"accept_rate":91,"display_name":"dfa"},"down_vote_count":0,"up_vote_count":42,"is_accepted":false,"score":42,"last_activity_date":1605195521,"creation_date":1265044361,"answer_id":2178588,"question_id":41107,"body_markdown":"Using [Dollar][1] should be as simple as:\r\n\r\n    // &quot;0123456789&quot; + &quot;ABCDE...Z&quot;\r\n    String validCharacters = $(&#39;0&#39;, &#39;9&#39;).join() + $(&#39;A&#39;, &#39;Z&#39;).join();\r\n\r\n    String randomString(int length) {\r\n        return $(validCharacters).shuffle().slice(length).toString();\r\n    }\r\n\r\n    @Test\r\n    public void buildFiveRandomStrings() {\r\n        for (int i : $(5)) {\r\n            System.out.println(randomString(12));\r\n        }\r\n    }\r\n\r\nIt outputs something like this:\r\n\r\n```lang-none\r\nDKL1SBH9UJWC\r\nJH7P0IT21EA5\r\n5DTI72EO6SFU\r\nHQUMJTEBNF7Y\r\n1HCR6SKYWGT7\r\n```\r\n\r\n  [1]: https://bitbucket.org/adamldavis/dollar/\r\n\r\n\r\n","title":"How to generate a random alpha-numeric string","body":"<p>Using <a href=\"https://bitbucket.org/adamldavis/dollar/\" rel=\"nofollow noreferrer\">Dollar</a> should be as simple as:</p>\n<pre><code>// &quot;0123456789&quot; + &quot;ABCDE...Z&quot;\nString validCharacters = $('0', '9').join() + $('A', 'Z').join();\n\nString randomString(int length) {\n    return $(validCharacters).shuffle().slice(length).toString();\n}\n\n@Test\npublic void buildFiveRandomStrings() {\n    for (int i : $(5)) {\n        System.out.println(randomString(12));\n    }\n}\n</code></pre>\n<p>It outputs something like this:</p>\n<pre class=\"lang-none prettyprint-override\"><code>DKL1SBH9UJWC\nJH7P0IT21EA5\n5DTI72EO6SFU\nHQUMJTEBNF7Y\n1HCR6SKYWGT7\n</code></pre>\n"},{"tags":[],"owner":{"account_id":774628,"reputation":11,"user_id":822390,"display_name":"Suganya"},"down_vote_count":2,"up_vote_count":8,"is_accepted":false,"score":6,"last_activity_date":1605200710,"creation_date":1309412060,"answer_id":6530353,"question_id":41107,"body_markdown":"    import java.util.*;\r\n    import javax.swing.*;\r\n\r\n    public class alphanumeric {\r\n        public static void main(String args[]) {\r\n            String nval, lenval;\r\n            int n, len;\r\n\r\n            nval = JOptionPane.showInputDialog(&quot;Enter number of codes you require: &quot;);\r\n            n = Integer.parseInt(nval);\r\n\r\n            lenval = JOptionPane.showInputDialog(&quot;Enter code length you require: &quot;);\r\n            len = Integer.parseInt(lenval);\r\n\r\n            find(n, len);\r\n        }\r\n\r\n        public static void find(int n, int length) {\r\n            String str1 = &quot;0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;;\r\n            StringBuilder sb = new StringBuilder(length);\r\n            Random r = new Random();\r\n\r\n            System.out.println(&quot;\\n\\t Unique codes are \\n\\n&quot;);\r\n            for(int i=0; i&lt;n; i++) {\r\n                for(int j=0; j&lt;length; j++) {\r\n                    sb.append(str1.charAt(r.nextInt(str1.length())));\r\n                }\r\n                System.out.println(&quot;  &quot; + sb.toString());\r\n                sb.delete(0, length);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\n","title":"How to generate a random alpha-numeric string","body":"<pre><code>import java.util.*;\nimport javax.swing.*;\n\npublic class alphanumeric {\n    public static void main(String args[]) {\n        String nval, lenval;\n        int n, len;\n\n        nval = JOptionPane.showInputDialog(&quot;Enter number of codes you require: &quot;);\n        n = Integer.parseInt(nval);\n\n        lenval = JOptionPane.showInputDialog(&quot;Enter code length you require: &quot;);\n        len = Integer.parseInt(lenval);\n\n        find(n, len);\n    }\n\n    public static void find(int n, int length) {\n        String str1 = &quot;0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;;\n        StringBuilder sb = new StringBuilder(length);\n        Random r = new Random();\n\n        System.out.println(&quot;\\n\\t Unique codes are \\n\\n&quot;);\n        for(int i=0; i&lt;n; i++) {\n            for(int j=0; j&lt;length; j++) {\n                sb.append(str1.charAt(r.nextInt(str1.length())));\n            }\n            System.out.println(&quot;  &quot; + sb.toString());\n            sb.delete(0, length);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":198768,"reputation":1124,"user_id":443633,"display_name":"michaelok"},"down_vote_count":2,"up_vote_count":8,"is_accepted":false,"score":6,"last_activity_date":1498517233,"creation_date":1315603390,"answer_id":7367588,"question_id":41107,"body_markdown":"You mention &quot;simple&quot;, but just in case anyone else is looking for something that meets more stringent security requirements, you might want to take a look at [jpwgen][1].  jpwgen is modeled after [pwgen][2] in Unix, and is very configurable.\r\n\r\n\r\n  [1]: https://github.com/zhelev/jpwgen\r\n  [2]: http://sourceforge.net/projects/pwgen/","title":"How to generate a random alpha-numeric string","body":"<p>You mention \"simple\", but just in case anyone else is looking for something that meets more stringent security requirements, you might want to take a look at <a href=\"https://github.com/zhelev/jpwgen\" rel=\"nofollow noreferrer\">jpwgen</a>.  jpwgen is modeled after <a href=\"http://sourceforge.net/projects/pwgen/\" rel=\"nofollow noreferrer\">pwgen</a> in Unix, and is very configurable.</p>\n"},{"tags":[],"owner":{"account_id":152714,"reputation":598,"user_id":367407,"accept_rate":69,"display_name":"Jameskittu"},"down_vote_count":2,"up_vote_count":9,"is_accepted":false,"score":7,"last_activity_date":1440053434,"creation_date":1318999004,"answer_id":7816591,"question_id":41107,"body_markdown":"    import java.util.Date;\r\n    import java.util.Random;\r\n    \r\n    public class RandomGenerator {\r\n    \r\n      private static Random random = new Random((new Date()).getTime());\r\n      \r\n        public static String generateRandomString(int length) {\r\n          char[] values = {&#39;a&#39;,&#39;b&#39;,&#39;c&#39;,&#39;d&#39;,&#39;e&#39;,&#39;f&#39;,&#39;g&#39;,&#39;h&#39;,&#39;i&#39;,&#39;j&#39;,\r\n                   &#39;k&#39;,&#39;l&#39;,&#39;m&#39;,&#39;n&#39;,&#39;o&#39;,&#39;p&#39;,&#39;q&#39;,&#39;r&#39;,&#39;s&#39;,&#39;t&#39;,\r\n                   &#39;u&#39;,&#39;v&#39;,&#39;w&#39;,&#39;x&#39;,&#39;y&#39;,&#39;z&#39;,&#39;0&#39;,&#39;1&#39;,&#39;2&#39;,&#39;3&#39;,\r\n                   &#39;4&#39;,&#39;5&#39;,&#39;6&#39;,&#39;7&#39;,&#39;8&#39;,&#39;9&#39;};\r\n    \r\n          String out = &quot;&quot;;\r\n    \r\n          for (int i=0;i&lt;length;i++) {\r\n              int idx=random.nextInt(values.length);\r\n              out += values[idx];\r\n          }\r\n          return out;\r\n        }\r\n    }","title":"How to generate a random alpha-numeric string","body":"<pre><code>import java.util.Date;\nimport java.util.Random;\n\npublic class RandomGenerator {\n\n  private static Random random = new Random((new Date()).getTime());\n\n    public static String generateRandomString(int length) {\n      char[] values = {'a','b','c','d','e','f','g','h','i','j',\n               'k','l','m','n','o','p','q','r','s','t',\n               'u','v','w','x','y','z','0','1','2','3',\n               '4','5','6','7','8','9'};\n\n      String out = \"\";\n\n      for (int i=0;i&lt;length;i++) {\n          int idx=random.nextInt(values.length);\n          out += values[idx];\n      }\n      return out;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1409882,"reputation":21,"user_id":1336707,"display_name":"cmpbah"},"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1605195750,"creation_date":1334591321,"answer_id":10177396,"question_id":41107,"body_markdown":"    import java.util.Random;\r\n\r\n    public class passGen{\r\n        // Version 1.0\r\n        private static final String dCase = &quot;abcdefghijklmnopqrstuvwxyz&quot;;\r\n        private static final String uCase = &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;;\r\n        private static final String sChar = &quot;!@#$%^&amp;*&quot;;\r\n        private static final String intChar = &quot;0123456789&quot;;\r\n        private static Random r = new Random();\r\n        private static StringBuilder pass = new StringBuilder();\r\n\r\n        public static void main (String[] args) {\r\n            System.out.println (&quot;Generating pass...&quot;);\r\n            while (pass.length () != 16){\r\n                int rPick = r.nextInt(4);\r\n                if (rPick == 0){\r\n                    int spot = r.nextInt(26);\r\n                    pass.append(dCase.charAt(spot));\r\n                } else if (rPick == 1) {\r\n                    int spot = r.nextInt(26);\r\n                    pass.append(uCase.charAt(spot));\r\n                } else if (rPick == 2) {\r\n                    int spot = r.nextInt(8);\r\n                    pass.append(sChar.charAt(spot));\r\n                } else {\r\n                    int spot = r.nextInt(10);\r\n                    pass.append(intChar.charAt(spot));\r\n                }\r\n            }\r\n            System.out.println (&quot;Generated Pass: &quot; + pass.toString());\r\n        }\r\n    }\r\n\r\nThis just adds the password into the string and... yeah, it works well. Check it out... It is very simple; I wrote it.\r\n","title":"How to generate a random alpha-numeric string","body":"<pre><code>import java.util.Random;\n\npublic class passGen{\n    // Version 1.0\n    private static final String dCase = &quot;abcdefghijklmnopqrstuvwxyz&quot;;\n    private static final String uCase = &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;;\n    private static final String sChar = &quot;!@#$%^&amp;*&quot;;\n    private static final String intChar = &quot;0123456789&quot;;\n    private static Random r = new Random();\n    private static StringBuilder pass = new StringBuilder();\n\n    public static void main (String[] args) {\n        System.out.println (&quot;Generating pass...&quot;);\n        while (pass.length () != 16){\n            int rPick = r.nextInt(4);\n            if (rPick == 0){\n                int spot = r.nextInt(26);\n                pass.append(dCase.charAt(spot));\n            } else if (rPick == 1) {\n                int spot = r.nextInt(26);\n                pass.append(uCase.charAt(spot));\n            } else if (rPick == 2) {\n                int spot = r.nextInt(8);\n                pass.append(sChar.charAt(spot));\n            } else {\n                int spot = r.nextInt(10);\n                pass.append(intChar.charAt(spot));\n            }\n        }\n        System.out.println (&quot;Generated Pass: &quot; + pass.toString());\n    }\n}\n</code></pre>\n<p>This just adds the password into the string and... yeah, it works well. Check it out... It is very simple; I wrote it.</p>\n"},{"tags":[],"owner":{"account_id":120028,"reputation":35734,"user_id":312172,"accept_rate":86,"display_name":"user unknown"},"down_vote_count":1,"up_vote_count":36,"is_accepted":false,"score":35,"last_activity_date":1605195935,"creation_date":1334657326,"answer_id":10189194,"question_id":41107,"body_markdown":"A short and easy solution, but it uses only lowercase and numerics:\r\n\r\n    Random r = new java.util.Random ();\r\n    String s = Long.toString (r.nextLong () &amp; Long.MAX_VALUE, 36);\r\n\r\nThe size is about 12 digits to base 36 and can&#39;t be improved further, that way. Of course you can append multiple instances.\r\n","title":"How to generate a random alpha-numeric string","body":"<p>A short and easy solution, but it uses only lowercase and numerics:</p>\n<pre><code>Random r = new java.util.Random ();\nString s = Long.toString (r.nextLong () &amp; Long.MAX_VALUE, 36);\n</code></pre>\n<p>The size is about 12 digits to base 36 and can't be improved further, that way. Of course you can append multiple instances.</p>\n"},{"tags":[],"owner":{"account_id":347553,"reputation":6607,"user_id":1145285,"accept_rate":97,"display_name":"Bhavik Ambani"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1335598432,"creation_date":1335598048,"answer_id":10361524,"question_id":41107,"body_markdown":"Best Random String Generator Method\r\n\r\n    public class RandomStringGenerator{\r\n    \r\n    \tprivate static int randomStringLength = 25 ;\r\n    \tprivate static boolean allowSpecialCharacters = true ;\r\n    \tprivate static String specialCharacters = &quot;!@$%*-_+:&quot;;\r\n    \tprivate static boolean allowDuplicates = false ;\r\n    \r\n    \tprivate static boolean isAlphanum = false;\r\n    \tprivate static boolean isNumeric = false;\r\n    \tprivate static boolean isAlpha = false;\r\n    \tprivate static final String alphabet = &quot;abcdefghijklmnopqrstuvwxyz&quot;;\r\n    \tprivate static boolean mixCase = false;\r\n    \tprivate static final String capAlpha = &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;;\r\n    \tprivate static final String num = &quot;0123456789&quot;;\r\n    \r\n    \tpublic static String getRandomString() {\r\n    \t\tString returnVal = &quot;&quot;;\r\n    \t\tint specialCharactersCount = 0;\r\n    \t\tint maxspecialCharacters = randomStringLength/4;\r\n    \r\n    \t\ttry {\r\n    \t\t\tStringBuffer values = buildList();\r\n    \t\t\tfor (int inx = 0; inx &lt; randomStringLength; inx++) {\r\n    \t\t\t\tint selChar = (int) (Math.random() * (values.length() - 1));\r\n    \t\t\t\tif (allowSpecialCharacters)\r\n    \t\t\t\t{\r\n    \t\t\t\t\tif (specialCharacters.indexOf(&quot;&quot; + values.charAt(selChar)) &gt; -1)\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\tspecialCharactersCount ++;\r\n    \t\t\t\t\t\tif (specialCharactersCount &gt; maxspecialCharacters)\r\n    \t\t\t\t\t\t{\r\n    \t\t\t\t\t\t\twhile (specialCharacters.indexOf(&quot;&quot; + values.charAt(selChar)) != -1)\r\n    \t\t\t\t\t\t\t{\r\n    \t\t\t\t\t\t\t\tselChar = (int) (Math.random() * (values.length() - 1));\r\n    \t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t\treturnVal += values.charAt(selChar);\r\n    \t\t\t\tif (!allowDuplicates) {\r\n    \t\t\t\t\tvalues.deleteCharAt(selChar);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t} catch (Exception e) {\r\n    \t\t\treturnVal = &quot;Error While Processing Values&quot;;\r\n    \t\t}\r\n    \t\treturn returnVal;\r\n    \t}\r\n    \t\r\n    \tprivate static StringBuffer buildList() {\r\n    \t\tStringBuffer list = new StringBuffer(0);\r\n    \t\tif (isNumeric || isAlphanum) {\r\n    \t\t\tlist.append(num);\r\n    \t\t}\r\n    \t\tif (isAlpha || isAlphanum) {\r\n    \t\t\tlist.append(alphabet);\r\n    \t\t\tif (mixCase) {\r\n    \t\t\t\tlist.append(capAlpha);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tif (allowSpecialCharacters)\r\n    \t\t{\r\n    \t\t\tlist.append(specialCharacters);\r\n    \t\t}\r\n    \t\tint currLen = list.length();\r\n    \t\tString returnVal = &quot;&quot;;\r\n    \t\tfor (int inx = 0; inx &lt; currLen; inx++) {\r\n    \t\t\tint selChar = (int) (Math.random() * (list.length() - 1));\r\n    \t\t\treturnVal += list.charAt(selChar);\r\n    \t\t\tlist.deleteCharAt(selChar);\r\n    \t\t}\r\n    \t\tlist = new StringBuffer(returnVal);\r\n    \t\treturn list;\r\n    \t}\t\r\n    \t\r\n    }\r\n\r\n","title":"How to generate a random alpha-numeric string","body":"<p>Best Random String Generator Method</p>\n\n<pre><code>public class RandomStringGenerator{\n\n    private static int randomStringLength = 25 ;\n    private static boolean allowSpecialCharacters = true ;\n    private static String specialCharacters = \"!@$%*-_+:\";\n    private static boolean allowDuplicates = false ;\n\n    private static boolean isAlphanum = false;\n    private static boolean isNumeric = false;\n    private static boolean isAlpha = false;\n    private static final String alphabet = \"abcdefghijklmnopqrstuvwxyz\";\n    private static boolean mixCase = false;\n    private static final String capAlpha = \"ABCDEFGHIJKLMNOPQRSTUVWXYZ\";\n    private static final String num = \"0123456789\";\n\n    public static String getRandomString() {\n        String returnVal = \"\";\n        int specialCharactersCount = 0;\n        int maxspecialCharacters = randomStringLength/4;\n\n        try {\n            StringBuffer values = buildList();\n            for (int inx = 0; inx &lt; randomStringLength; inx++) {\n                int selChar = (int) (Math.random() * (values.length() - 1));\n                if (allowSpecialCharacters)\n                {\n                    if (specialCharacters.indexOf(\"\" + values.charAt(selChar)) &gt; -1)\n                    {\n                        specialCharactersCount ++;\n                        if (specialCharactersCount &gt; maxspecialCharacters)\n                        {\n                            while (specialCharacters.indexOf(\"\" + values.charAt(selChar)) != -1)\n                            {\n                                selChar = (int) (Math.random() * (values.length() - 1));\n                            }\n                        }\n                    }\n                }\n                returnVal += values.charAt(selChar);\n                if (!allowDuplicates) {\n                    values.deleteCharAt(selChar);\n                }\n            }\n        } catch (Exception e) {\n            returnVal = \"Error While Processing Values\";\n        }\n        return returnVal;\n    }\n\n    private static StringBuffer buildList() {\n        StringBuffer list = new StringBuffer(0);\n        if (isNumeric || isAlphanum) {\n            list.append(num);\n        }\n        if (isAlpha || isAlphanum) {\n            list.append(alphabet);\n            if (mixCase) {\n                list.append(capAlpha);\n            }\n        }\n        if (allowSpecialCharacters)\n        {\n            list.append(specialCharacters);\n        }\n        int currLen = list.length();\n        String returnVal = \"\";\n        for (int inx = 0; inx &lt; currLen; inx++) {\n            int selChar = (int) (Math.random() * (list.length() - 1));\n            returnVal += list.charAt(selChar);\n            list.deleteCharAt(selChar);\n        }\n        list = new StringBuffer(returnVal);\n        return list;\n    }   \n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":245153,"reputation":5918,"user_id":518493,"display_name":"Manish Singh"},"down_vote_count":6,"up_vote_count":151,"is_accepted":false,"score":145,"last_activity_date":1605200842,"creation_date":1342779798,"answer_id":11577455,"question_id":41107,"body_markdown":"You can use an [Apache Commons][1] library for this, [RandomStringUtils][2]:\r\n\r\n    RandomStringUtils.randomAlphanumeric(20).toUpperCase();\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Apache_Commons\r\n  [2]: http://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/RandomStringUtils.html\r\n\r\n\r\n","title":"How to generate a random alpha-numeric string","body":"<p>You can use an <a href=\"https://en.wikipedia.org/wiki/Apache_Commons\" rel=\"noreferrer\">Apache Commons</a> library for this, <a href=\"http://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/RandomStringUtils.html\" rel=\"noreferrer\">RandomStringUtils</a>:</p>\n<pre><code>RandomStringUtils.randomAlphanumeric(20).toUpperCase();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1684998,"reputation":121,"user_id":1548481,"display_name":"Ugo Matrangolo"},"down_vote_count":3,"up_vote_count":6,"is_accepted":false,"score":3,"last_activity_date":1343128261,"creation_date":1343128261,"answer_id":11629612,"question_id":41107,"body_markdown":"Here it is a Scala solution:\r\n\r\n\r\n    (for (i &lt;- 0 until rnd.nextInt(64)) yield { \r\n      (&#39;0&#39; + rnd.nextInt(64)).asInstanceOf[Char] \r\n    }) mkString(&quot;&quot;)","title":"How to generate a random alpha-numeric string","body":"<p>Here it is a Scala solution:</p>\n\n<pre><code>(for (i &lt;- 0 until rnd.nextInt(64)) yield { \n  ('0' + rnd.nextInt(64)).asInstanceOf[Char] \n}) mkString(\"\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1918596,"reputation":21,"user_id":1730605,"display_name":"rina"},"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1605196095,"creation_date":1349757648,"answer_id":12792917,"question_id":41107,"body_markdown":"    public static String generateSessionKey(int length){\r\n        String alphabet =\r\n            new String(&quot;0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz&quot;); // 9\r\n\r\n        int n = alphabet.length(); // 10\r\n\r\n        String result = new String();\r\n        Random r = new Random(); // 11\r\n\r\n        for (int i=0; i&lt;length; i++) // 12\r\n            result = result + alphabet.charAt(r.nextInt(n)); //13\r\n\r\n        return result;\r\n    }\r\n","title":"How to generate a random alpha-numeric string","body":"<pre><code>public static String generateSessionKey(int length){\n    String alphabet =\n        new String(&quot;0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz&quot;); // 9\n\n    int n = alphabet.length(); // 10\n\n    String result = new String();\n    Random r = new Random(); // 11\n\n    for (int i=0; i&lt;length; i++) // 12\n        result = result + alphabet.charAt(r.nextInt(n)); //13\n\n    return result;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1197834,"reputation":1133,"user_id":1169187,"accept_rate":73,"display_name":"hridayesh"},"down_vote_count":3,"up_vote_count":6,"is_accepted":false,"score":3,"last_activity_date":1605196348,"creation_date":1350287532,"answer_id":12891357,"question_id":41107,"body_markdown":"Using an [Apache Commons][1] library, it can be done in one line:\r\n\r\n    import org.apache.commons.lang.RandomStringUtils;\r\n    RandomStringUtils.randomAlphanumeric(64);\r\n\r\n[Documentation][2]\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Apache_Commons\r\n  [2]: http://commons.apache.org/lang/api-2.3/org/apache/commons/lang/RandomStringUtils.html\r\n","title":"How to generate a random alpha-numeric string","body":"<p>Using an <a href=\"https://en.wikipedia.org/wiki/Apache_Commons\" rel=\"nofollow noreferrer\">Apache Commons</a> library, it can be done in one line:</p>\n<pre><code>import org.apache.commons.lang.RandomStringUtils;\nRandomStringUtils.randomAlphanumeric(64);\n</code></pre>\n<p><a href=\"http://commons.apache.org/lang/api-2.3/org/apache/commons/lang/RandomStringUtils.html\" rel=\"nofollow noreferrer\">Documentation</a></p>\n"},{"tags":[],"owner":{"account_id":117869,"reputation":5750,"user_id":308474,"accept_rate":76,"display_name":"Michael Allen"},"down_vote_count":10,"up_vote_count":42,"is_accepted":false,"score":32,"last_activity_date":1605196634,"creation_date":1351179941,"answer_id":13072330,"question_id":41107,"body_markdown":"Surprising, no one here has suggested it, but:\r\n\r\n    import java.util.UUID\r\n\r\n    UUID.randomUUID().toString();\r\n\r\nEasy.\r\n\r\nThe benefit of this is UUIDs are nice, long, and guaranteed to be almost impossible to collide.\r\n\r\nWikipedia has [a good explanation][1] of it:\r\n\r\n&gt; &quot; ...only after generating 1 billion UUIDs every second for the next 100 years, the probability of creating just one duplicate would be about 50%.&quot;\r\n\r\nThe first four bits are the version type and two for the variant, so you get 122 bits of random. So if you *want* to, you can truncate from the end to reduce the size of the UUID. It&#39;s not recommended, but you still have loads of randomness, enough for your 500k records easy.\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Universally_unique_identifier#Random_UUID_probability_of_duplicates\r\n\r\n\r\n\r\n\r\n","title":"How to generate a random alpha-numeric string","body":"<p>Surprising, no one here has suggested it, but:</p>\n<pre><code>import java.util.UUID\n\nUUID.randomUUID().toString();\n</code></pre>\n<p>Easy.</p>\n<p>The benefit of this is UUIDs are nice, long, and guaranteed to be almost impossible to collide.</p>\n<p>Wikipedia has <a href=\"http://en.wikipedia.org/wiki/Universally_unique_identifier#Random_UUID_probability_of_duplicates\" rel=\"nofollow noreferrer\">a good explanation</a> of it:</p>\n<blockquote>\n<p>&quot; ...only after generating 1 billion UUIDs every second for the next 100 years, the probability of creating just one duplicate would be about 50%.&quot;</p>\n</blockquote>\n<p>The first four bits are the version type and two for the variant, so you get 122 bits of random. So if you <em>want</em> to, you can truncate from the end to reduce the size of the UUID. It's not recommended, but you still have loads of randomness, enough for your 500k records easy.</p>\n"},{"tags":[],"owner":{"account_id":1028612,"reputation":1675,"user_id":1037363,"accept_rate":20,"display_name":"Prasobh.Kollattu"},"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1605196763,"creation_date":1351748629,"answer_id":13171599,"question_id":41107,"body_markdown":"You can use the following code, if your password mandatory contains numbers and alphabetic special characters:\r\n\r\n    private static final String NUMBERS = &quot;0123456789&quot;;\r\n    private static final String UPPER_ALPHABETS = &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;;\r\n    private static final String LOWER_ALPHABETS = &quot;abcdefghijklmnopqrstuvwxyz&quot;;\r\n    private static final String SPECIALCHARACTERS = &quot;@#$%&amp;*&quot;;\r\n    private static final int MINLENGTHOFPASSWORD = 8;\r\n\r\n    public static String getRandomPassword() {\r\n        StringBuilder password = new StringBuilder();\r\n        int j = 0;\r\n        for (int i = 0; i &lt; MINLENGTHOFPASSWORD; i++) {\r\n            password.append(getRandomPasswordCharacters(j));\r\n            j++;\r\n            if (j == 3) {\r\n                j = 0;\r\n            }\r\n        }\r\n        return password.toString();\r\n    }\r\n\r\n    private static String getRandomPasswordCharacters(int pos) {\r\n        Random randomNum = new Random();\r\n        StringBuilder randomChar = new StringBuilder();\r\n        switch (pos) {\r\n            case 0:\r\n                randomChar.append(NUMBERS.charAt(randomNum.nextInt(NUMBERS.length() - 1)));\r\n                break;\r\n            case 1:\r\n                randomChar.append(UPPER_ALPHABETS.charAt(randomNum.nextInt(UPPER_ALPHABETS.length() - 1)));\r\n                break;\r\n            case 2:\r\n                randomChar.append(SPECIALCHARACTERS.charAt(randomNum.nextInt(SPECIALCHARACTERS.length() - 1)));\r\n                break;\r\n            case 3:\r\n                randomChar.append(LOWER_ALPHABETS.charAt(randomNum.nextInt(LOWER_ALPHABETS.length() - 1)));\r\n                break;\r\n        }\r\n        return randomChar.toString();\r\n    }\r\n","title":"How to generate a random alpha-numeric string","body":"<p>You can use the following code, if your password mandatory contains numbers and alphabetic special characters:</p>\n<pre><code>private static final String NUMBERS = &quot;0123456789&quot;;\nprivate static final String UPPER_ALPHABETS = &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;;\nprivate static final String LOWER_ALPHABETS = &quot;abcdefghijklmnopqrstuvwxyz&quot;;\nprivate static final String SPECIALCHARACTERS = &quot;@#$%&amp;*&quot;;\nprivate static final int MINLENGTHOFPASSWORD = 8;\n\npublic static String getRandomPassword() {\n    StringBuilder password = new StringBuilder();\n    int j = 0;\n    for (int i = 0; i &lt; MINLENGTHOFPASSWORD; i++) {\n        password.append(getRandomPasswordCharacters(j));\n        j++;\n        if (j == 3) {\n            j = 0;\n        }\n    }\n    return password.toString();\n}\n\nprivate static String getRandomPasswordCharacters(int pos) {\n    Random randomNum = new Random();\n    StringBuilder randomChar = new StringBuilder();\n    switch (pos) {\n        case 0:\n            randomChar.append(NUMBERS.charAt(randomNum.nextInt(NUMBERS.length() - 1)));\n            break;\n        case 1:\n            randomChar.append(UPPER_ALPHABETS.charAt(randomNum.nextInt(UPPER_ALPHABETS.length() - 1)));\n            break;\n        case 2:\n            randomChar.append(SPECIALCHARACTERS.charAt(randomNum.nextInt(SPECIALCHARACTERS.length() - 1)));\n            break;\n        case 3:\n            randomChar.append(LOWER_ALPHABETS.charAt(randomNum.nextInt(LOWER_ALPHABETS.length() - 1)));\n            break;\n    }\n    return randomChar.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1778079,"reputation":11,"user_id":1621446,"display_name":"Vin"},"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1605196809,"creation_date":1354516844,"answer_id":13678355,"question_id":41107,"body_markdown":"    public static String getRandomString(int length)\r\n    {\r\n\t    String randomStr = UUID.randomUUID().toString();\r\n\t    while(randomStr.length() &lt; length) {\r\n\t        randomStr += UUID.randomUUID().toString();\r\n\t    }\r\n\t    return randomStr.substring(0, length);\r\n    }\r\n\r\n","title":"How to generate a random alpha-numeric string","body":"<pre><code>public static String getRandomString(int length)\n{\n    String randomStr = UUID.randomUUID().toString();\n    while(randomStr.length() &lt; length) {\n        randomStr += UUID.randomUUID().toString();\n    }\n    return randomStr.substring(0, length);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1474271,"reputation":1908,"user_id":1385083,"accept_rate":57,"display_name":"Jamie"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1605196952,"creation_date":1354547777,"answer_id":13686133,"question_id":41107,"body_markdown":"There are lots of use of StringBuilder in previous answers. I guess it&#39;s easy, but it requires a function call per character, growing an array, etc...\r\n\r\nIf using the stringbuilder, a suggestion is to specify the required capacity of the string, i.e.,\r\n\r\n    new StringBuilder(int capacity);\r\n\r\nHere&#39;s a version that doesn&#39;t use a StringBuilder or String appending, and no dictionary.\r\n\r\n    public static String randomString(int length)\r\n    {\r\n        SecureRandom random = new SecureRandom();\r\n        char[] chars = new char[length];\r\n        for(int i=0; i&lt;chars.length; i++)\r\n        {\r\n            int v = random.nextInt(10 + 26 + 26);\r\n            char c;\r\n            if (v &lt; 10)\r\n            {\r\n                c = (char)(&#39;0&#39; + v);\r\n            }\r\n            else if (v &lt; 36)\r\n            {\r\n                c = (char)(&#39;a&#39; - 10 + v);\r\n            }\r\n            else\r\n            {\r\n                c = (char)(&#39;A&#39; - 36 + v);\r\n            }\r\n            chars[i] = c;\r\n        }\r\n        return new String(chars);\r\n    }\r\n","title":"How to generate a random alpha-numeric string","body":"<p>There are lots of use of StringBuilder in previous answers. I guess it's easy, but it requires a function call per character, growing an array, etc...</p>\n<p>If using the stringbuilder, a suggestion is to specify the required capacity of the string, i.e.,</p>\n<pre><code>new StringBuilder(int capacity);\n</code></pre>\n<p>Here's a version that doesn't use a StringBuilder or String appending, and no dictionary.</p>\n<pre><code>public static String randomString(int length)\n{\n    SecureRandom random = new SecureRandom();\n    char[] chars = new char[length];\n    for(int i=0; i&lt;chars.length; i++)\n    {\n        int v = random.nextInt(10 + 26 + 26);\n        char c;\n        if (v &lt; 10)\n        {\n            c = (char)('0' + v);\n        }\n        else if (v &lt; 36)\n        {\n            c = (char)('a' - 10 + v);\n        }\n        else\n        {\n            c = (char)('A' - 36 + v);\n        }\n        chars[i] = c;\n    }\n    return new String(chars);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1908412,"reputation":38019,"user_id":1722818,"accept_rate":58,"display_name":"duggu"},"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1605197007,"creation_date":1356352883,"answer_id":14021567,"question_id":41107,"body_markdown":"    public static String randomSeriesForThreeCharacter() {\r\n        Random r = new Random();\r\n        String value = &quot;&quot;;\r\n        char random_Char ;\r\n        for(int i=0; i&lt;10; i++)\r\n        {\r\n            random_Char = (char) (48 + r.nextInt(74));\r\n            value = value + random_char;\r\n        }\r\n        return value;\r\n    }\r\n\r\n","title":"How to generate a random alpha-numeric string","body":"<pre><code>public static String randomSeriesForThreeCharacter() {\n    Random r = new Random();\n    String value = &quot;&quot;;\n    char random_Char ;\n    for(int i=0; i&lt;10; i++)\n    {\n        random_Char = (char) (48 + r.nextInt(74));\n        value = value + random_char;\n    }\n    return value;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2223861,"reputation":67,"user_id":1962854,"accept_rate":20,"display_name":"Burak T"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1605197164,"creation_date":1357747462,"answer_id":14241303,"question_id":41107,"body_markdown":"You can create a character array which includes all the letters and numbers, and then you can randomly select from this character array and create your own string password.\r\n\r\n    char[] chars = new char[62]; // Sum of letters and numbers\r\n\r\n    int i = 0;\r\n\r\n    for(char c = &#39;a&#39;; c &lt;= &#39;z&#39;; c++) { // For letters\r\n        chars[i++] = c;\r\n    }\r\n\r\n    for(char c = &#39;0&#39;; c &lt;= &#39;9&#39;;c++) { // For numbers\r\n        chars[i++] = c;\r\n    }\r\n\r\n    for(char c = &#39;A&#39;; c &lt;= &#39;Z&#39;;c++) { // For capital letters\r\n        chars[i++] = c;\r\n    }\r\n\r\n    int numberOfCodes = 0;\r\n    String code = &quot;&quot;;\r\n    while (numberOfCodes &lt; 1) { // Enter how much you want to generate at one time\r\n        int numChars = 8; // Enter how many digits you want in your password\r\n\r\n        for(i = 0; i &lt; numChars; i++) {\r\n            char c = chars[(int)(Math.random() * chars.length)];\r\n            code = code + c;\r\n        }\r\n        System.out.println(&quot;Code is:&quot; + code);\r\n    }\r\n","title":"How to generate a random alpha-numeric string","body":"<p>You can create a character array which includes all the letters and numbers, and then you can randomly select from this character array and create your own string password.</p>\n<pre><code>char[] chars = new char[62]; // Sum of letters and numbers\n\nint i = 0;\n\nfor(char c = 'a'; c &lt;= 'z'; c++) { // For letters\n    chars[i++] = c;\n}\n\nfor(char c = '0'; c &lt;= '9';c++) { // For numbers\n    chars[i++] = c;\n}\n\nfor(char c = 'A'; c &lt;= 'Z';c++) { // For capital letters\n    chars[i++] = c;\n}\n\nint numberOfCodes = 0;\nString code = &quot;&quot;;\nwhile (numberOfCodes &lt; 1) { // Enter how much you want to generate at one time\n    int numChars = 8; // Enter how many digits you want in your password\n\n    for(i = 0; i &lt; numChars; i++) {\n        char c = chars[(int)(Math.random() * chars.length)];\n        code = code + c;\n    }\n    System.out.println(&quot;Code is:&quot; + code);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3108207,"reputation":1,"user_id":2630572,"display_name":"neuhaus"},"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1605197217,"creation_date":1375106843,"answer_id":17926222,"question_id":41107,"body_markdown":"You can use the UUID class with its getLeastSignificantBits() message to get 64 bit of *random* data, and then convert it to a radix 36 number (i.e. a string consisting of 0-9,A-Z):\r\n\r\n    Long.toString(Math.abs( UUID.randomUUID().getLeastSignificantBits(), 36));\r\n\r\nThis yields a *string* up to 13 characters long. We use Math.abs() to make sure there isn&#39;t a minus sign sneaking in.\r\n","title":"How to generate a random alpha-numeric string","body":"<p>You can use the UUID class with its getLeastSignificantBits() message to get 64 bit of <em>random</em> data, and then convert it to a radix 36 number (i.e. a string consisting of 0-9,A-Z):</p>\n<pre><code>Long.toString(Math.abs( UUID.randomUUID().getLeastSignificantBits(), 36));\n</code></pre>\n<p>This yields a <em>string</em> up to 13 characters long. We use Math.abs() to make sure there isn't a minus sign sneaking in.</p>\n"},{"tags":[],"owner":{"account_id":1526221,"reputation":1329,"user_id":1424605,"display_name":"deepakmodak"},"down_vote_count":3,"up_vote_count":11,"is_accepted":false,"score":8,"last_activity_date":1605197305,"creation_date":1391692518,"answer_id":21604071,"question_id":41107,"body_markdown":"1. Change *String* characters as per as your requirements.\r\n\r\n2. String is immutable. Here `StringBuilder.append` is more efficient than string concatenation.\r\n\r\n&lt;br/&gt;\r\n\r\n    public static String getRandomString(int length) {\r\n        final String characters = &quot;abcdefghijklmnopqrstuvwxyzABCDEFGHIJLMNOPQRSTUVWXYZ1234567890!@#$%^&amp;*()_+&quot;;\r\n        StringBuilder result = new StringBuilder();\r\n\r\n        while(length &gt; 0) {\r\n            Random rand = new Random();\r\n            result.append(characters.charAt(rand.nextInt(characters.length())));\r\n            length--;\r\n        }\r\n        return result.toString();\r\n    }\r\n\r\n","title":"How to generate a random alpha-numeric string","body":"<ol>\n<li><p>Change <em>String</em> characters as per as your requirements.</p>\n</li>\n<li><p>String is immutable. Here <code>StringBuilder.append</code> is more efficient than string concatenation.</p>\n</li>\n</ol>\n<br/>\n<pre><code>public static String getRandomString(int length) {\n    final String characters = &quot;abcdefghijklmnopqrstuvwxyzABCDEFGHIJLMNOPQRSTUVWXYZ1234567890!@#$%^&amp;*()_+&quot;;\n    StringBuilder result = new StringBuilder();\n\n    while(length &gt; 0) {\n        Random rand = new Random();\n        result.append(characters.charAt(rand.nextInt(characters.length())));\n        length--;\n    }\n    return result.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1600590,"reputation":968,"user_id":1481689,"accept_rate":10,"display_name":"Howard Lovatt"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1538593783,"creation_date":1416900190,"answer_id":27120868,"question_id":41107,"body_markdown":"An alternative in Java 8 is:\r\n\r\n    static final Random random = new Random(); // Or SecureRandom\r\n    static final int startChar = (int) &#39;!&#39;;\r\n    static final int endChar = (int) &#39;~&#39;;\r\n    \r\n    static String randomString(final int maxLength) {\r\n      final int length = random.nextInt(maxLength + 1);\r\n      return random.ints(length, startChar, endChar + 1)\r\n            .collect(StringBuilder::new, StringBuilder::appendCodePoint, StringBuilder::append)\r\n            .toString();\r\n    }\r\n","title":"How to generate a random alpha-numeric string","body":"<p>An alternative in Java 8 is:</p>\n\n<pre><code>static final Random random = new Random(); // Or SecureRandom\nstatic final int startChar = (int) '!';\nstatic final int endChar = (int) '~';\n\nstatic String randomString(final int maxLength) {\n  final int length = random.nextInt(maxLength + 1);\n  return random.ints(length, startChar, endChar + 1)\n        .collect(StringBuilder::new, StringBuilder::appendCodePoint, StringBuilder::append)\n        .toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":347168,"reputation":15314,"user_id":681122,"display_name":"Steven L"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1605197412,"creation_date":1418002870,"answer_id":27350150,"question_id":41107,"body_markdown":"Yet another solution...\r\n\r\n    public static String generatePassword(int passwordLength) {\r\n        int asciiFirst = 33;\r\n        int asciiLast = 126;\r\n        Integer[] exceptions = { 34, 39, 96 };\r\n\r\n        List&lt;Integer&gt; exceptionsList = Arrays.asList(exceptions);\r\n        SecureRandom random = new SecureRandom();\r\n        StringBuilder builder = new StringBuilder();\r\n        for (int i=0; i&lt;passwordLength; i++) {\r\n            int charIndex;\r\n\r\n            do {\r\n                charIndex = random.nextInt(asciiLast - asciiFirst + 1) + asciiFirst;\r\n            }\r\n            while (exceptionsList.contains(charIndex));\r\n\r\n            builder.append((char) charIndex);\r\n        }\r\n        return builder.toString();\r\n    }\r\n\r\n","title":"How to generate a random alpha-numeric string","body":"<p>Yet another solution...</p>\n<pre><code>public static String generatePassword(int passwordLength) {\n    int asciiFirst = 33;\n    int asciiLast = 126;\n    Integer[] exceptions = { 34, 39, 96 };\n\n    List&lt;Integer&gt; exceptionsList = Arrays.asList(exceptions);\n    SecureRandom random = new SecureRandom();\n    StringBuilder builder = new StringBuilder();\n    for (int i=0; i&lt;passwordLength; i++) {\n        int charIndex;\n\n        do {\n            charIndex = random.nextInt(asciiLast - asciiFirst + 1) + asciiFirst;\n        }\n        while (exceptionsList.contains(charIndex));\n\n        builder.append((char) charIndex);\n    }\n    return builder.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1412009,"reputation":826,"user_id":1338417,"display_name":"Kristian Kraljic"},"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1605197804,"creation_date":1435961268,"answer_id":31214709,"question_id":41107,"body_markdown":"Using UUIDs is insecure, because parts of the UUID aren&#39;t random at all. The [procedure of erickson][1] is very neat, but it does not create strings of the same length. The following snippet should be sufficient:\r\n\r\n    /*\r\n     * The random generator used by this class to create random keys.\r\n     * In a holder class to defer initialization until needed.\r\n     */\r\n    private static class RandomHolder {\r\n        static final Random random = new SecureRandom();\r\n        public static String randomKey(int length) {\r\n            return String.format(&quot;%&quot;+length+&quot;s&quot;, new BigInteger(length*5/*base 32,2^5*/, random)\r\n                .toString(32)).replace(&#39;\\u0020&#39;, &#39;0&#39;);\r\n        }\r\n    }\r\n\r\nWhy choose `length*5`? Let&#39;s assume the simple case of a random string of length 1, so one random character. To get a random character containing all digits 0-9 and characters a-z, we would need a random number between 0 and 35 to get one of each character.\r\n\r\n`BigInteger` provides a constructor to generate a random number, uniformly distributed over the range `0 to (2^numBits - 1)`. Unfortunately 35 is not a number which can be received by 2^numBits - 1.\r\n\r\nSo we have two options: Either go with `2^5-1=31` or `2^6-1=63`. If we would choose `2^6` we would get a lot of &quot;unnecessary&quot; / &quot;longer&quot; numbers. Therefore `2^5` is the better option, even if we lose four characters (w-z). To now generate a string of a certain length, we can simply use a `2^(length*numBits)-1` number. The last problem, if we want a string with a certain length, random could generate a small number, so the length is not met, so we have to pad the string to its required length prepending zeros.\r\n\r\n  [1]: https://stackoverflow.com/questions/41107/how-to-generate-a-random-alpha-numeric-string/41156#41156\r\n\r\n","title":"How to generate a random alpha-numeric string","body":"<p>Using UUIDs is insecure, because parts of the UUID aren't random at all. The <a href=\"https://stackoverflow.com/questions/41107/how-to-generate-a-random-alpha-numeric-string/41156#41156\">procedure of erickson</a> is very neat, but it does not create strings of the same length. The following snippet should be sufficient:</p>\n<pre><code>/*\n * The random generator used by this class to create random keys.\n * In a holder class to defer initialization until needed.\n */\nprivate static class RandomHolder {\n    static final Random random = new SecureRandom();\n    public static String randomKey(int length) {\n        return String.format(&quot;%&quot;+length+&quot;s&quot;, new BigInteger(length*5/*base 32,2^5*/, random)\n            .toString(32)).replace('\\u0020', '0');\n    }\n}\n</code></pre>\n<p>Why choose <code>length*5</code>? Let's assume the simple case of a random string of length 1, so one random character. To get a random character containing all digits 0-9 and characters a-z, we would need a random number between 0 and 35 to get one of each character.</p>\n<p><code>BigInteger</code> provides a constructor to generate a random number, uniformly distributed over the range <code>0 to (2^numBits - 1)</code>. Unfortunately 35 is not a number which can be received by 2^numBits - 1.</p>\n<p>So we have two options: Either go with <code>2^5-1=31</code> or <code>2^6-1=63</code>. If we would choose <code>2^6</code> we would get a lot of &quot;unnecessary&quot; / &quot;longer&quot; numbers. Therefore <code>2^5</code> is the better option, even if we lose four characters (w-z). To now generate a string of a certain length, we can simply use a <code>2^(length*numBits)-1</code> number. The last problem, if we want a string with a certain length, random could generate a small number, so the length is not met, so we have to pad the string to its required length prepending zeros.</p>\n"},{"tags":[],"owner":{"display_name":"user5138430"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1498643388,"creation_date":1470342497,"answer_id":38776878,"question_id":41107,"body_markdown":"Maybe this is helpful\r\n\r\n    package password.generater;\r\n     \r\n    import java.util.Random;\r\n     \r\n    /**\r\n     *\r\n     * @author dell\r\n     */\r\n    public class PasswordGenerater {\r\n     \r\n        /**\r\n         * @param args the command line arguments\r\n         */\r\n        public static void main(String[] args) {\r\n            int length= 11;\r\n            System.out.println(generatePswd(length));\r\n             \r\n            // TODO code application logic here\r\n        }\r\n        static char[] generatePswd(int len){\r\n            System.out.println(&quot;Your Password &quot;);\r\n            String charsCaps=&quot;ABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;; \r\n            String Chars=&quot;abcdefghijklmnopqrstuvwxyz&quot;;\r\n            String nums=&quot;0123456789&quot;;\r\n            String symbols=&quot;!@#$%^&amp;*()_+-=.,/&#39;;:?&gt;&lt;~*/-+&quot;;\r\n            String passSymbols=charsCaps + Chars + nums +symbols;\r\n            Random rnd=new Random();\r\n            char[] password=new char[len];\r\n\r\n            for(int i=0; i&lt;len;i++){\r\n                password[i]=passSymbols.charAt(rnd.nextInt(passSymbols.length()));\r\n            }\r\n          return password;\r\n             \r\n        }\r\n    }","title":"How to generate a random alpha-numeric string","body":"<p>Maybe this is helpful</p>\n\n<pre><code>package password.generater;\n\nimport java.util.Random;\n\n/**\n *\n * @author dell\n */\npublic class PasswordGenerater {\n\n    /**\n     * @param args the command line arguments\n     */\n    public static void main(String[] args) {\n        int length= 11;\n        System.out.println(generatePswd(length));\n\n        // TODO code application logic here\n    }\n    static char[] generatePswd(int len){\n        System.out.println(\"Your Password \");\n        String charsCaps=\"ABCDEFGHIJKLMNOPQRSTUVWXYZ\"; \n        String Chars=\"abcdefghijklmnopqrstuvwxyz\";\n        String nums=\"0123456789\";\n        String symbols=\"!@#$%^&amp;*()_+-=.,/';:?&gt;&lt;~*/-+\";\n        String passSymbols=charsCaps + Chars + nums +symbols;\n        Random rnd=new Random();\n        char[] password=new char[len];\n\n        for(int i=0; i&lt;len;i++){\n            password[i]=passSymbols.charAt(rnd.nextInt(passSymbols.length()));\n        }\n      return password;\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4120139,"reputation":1,"user_id":3380739,"display_name":"user_3380739"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1673926652,"creation_date":1480364745,"answer_id":40852832,"question_id":41107,"body_markdown":"Here is the one-liner by [abacus-common][1]:\r\n\r\n    String.valueOf(CharStream.random(&#39;0&#39;, &#39;z&#39;).filter(c -&gt; N.isLetterOrDigit(c)).limit(12).toArray())\r\n\r\nRandom doesn&#39;t mean it must be unique. To get unique strings, use:\r\n\r\n    N.uuid() // E.g.: &quot;e812e749-cf4c-4959-8ee1-57829a69a80f&quot;. length is 36.\r\n    N.guid() // E.g.: &quot;0678ce04e18945559ba82ddeccaabfcd&quot;. length is 32 without &#39;-&#39;\r\n\r\n  [1]: https://github.com/landawn/abacus-common\r\n\r\n\r\n\r\n","title":"How to generate a random alpha-numeric string","body":"<p>Here is the one-liner by <a href=\"https://github.com/landawn/abacus-common\" rel=\"nofollow noreferrer\">abacus-common</a>:</p>\n<pre><code>String.valueOf(CharStream.random('0', 'z').filter(c -&gt; N.isLetterOrDigit(c)).limit(12).toArray())\n</code></pre>\n<p>Random doesn't mean it must be unique. To get unique strings, use:</p>\n<pre><code>N.uuid() // E.g.: &quot;e812e749-cf4c-4959-8ee1-57829a69a80f&quot;. length is 36.\nN.guid() // E.g.: &quot;0678ce04e18945559ba82ddeccaabfcd&quot;. length is 32 without '-'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":405484,"reputation":34324,"user_id":774398,"accept_rate":83,"display_name":"Patrick"},"down_vote_count":2,"up_vote_count":93,"is_accepted":false,"score":91,"last_activity_date":1688029529,"creation_date":1495973171,"answer_id":44227131,"question_id":41107,"body_markdown":"This is easily achievable without any external libraries.\r\n\r\n# 1. Cryptographic Pseudo Random Data Generation (PRNG)\r\n\r\nFirst you need a cryptographic PRNG. Java has [`SecureRandom`][1] for that and typically uses the best entropy source on the machine (e.g. `/dev/random`). [Read more here][2].\r\n\r\n```java\r\nSecureRandom rnd = new SecureRandom();\r\nbyte[] token = new byte[byteLength];\r\nrnd.nextBytes(token);\r\n```\r\n\r\n***Note:*** `SecureRandom` is the slowest, but most secure way in Java of generating random bytes. I do however recommend *not* considering performance here since it usually has no real impact on your application unless you have to generate millions of tokens per second.\r\n\r\n# 2. Required Space of Possible Values\r\n\r\nNext you have to decide &quot;how unique&quot; your token needs to be. The whole and only point of considering entropy is to make sure that the system can resist brute force attacks: the space of possible values must be so large that any attacker could only try a negligible proportion of the values in non-ludicrous time&lt;sup&gt;[1][3]&lt;/sup&gt;.\r\n\r\nUnique identifiers such as random [`UUID`][4] have 122 bits of entropy (i.e., 2^122 = 5.3x10^36) - the chance of collision is &quot;*(...) for there to be a one in a billion chance of duplication, 103 trillion version 4 UUIDs must be generated&lt;sup&gt;[2][5]&lt;/sup&gt;&quot;. **We will choose 128 bits since it fits exactly into 16 bytes** and is seen as [highly sufficient][6] for being unique for basically every, but the most extreme, use cases, and you don&#39;t have to think about duplicates. Here is a simple comparison table of entropy including simple analysis of the [birthday problem][7].\r\n\r\n[![Comparison of token sizes][8]][8]\r\n\r\n&lt;sup&gt;For simple requirements, 8 or 12 byte length might suffice, but with 16 bytes you are on the &quot;safe side&quot;.&lt;/sup&gt;\r\n\r\nAnd that&#39;s basically it. The last thing is to think about encoding, so it can be represented as a printable text (read, a `String`).\r\n\r\n# 3. Binary to Text Encoding\r\n\r\nTypical encodings include:\r\n\r\n* [`Base64`][9] every character encodes 6 bits, creating a 33% overhead. Fortunately there are standard implementations in [Java 8+][10] and [Android][11]. With older Java you can use any of the [numerous third-party libraries][12]. If you want your tokens to be URL safe use the [URL-safe][13] version of RFC4648 (which usually is supported by most implementations). Example encoding 16 bytes with padding: `XfJhfv3C0P6ag7y9VQxSbw==`\r\n\r\n* [`Base32`][14] every character encodes 5 bits, creating a 40% overhead. This will use `A-Z` and `2-7`, making it reasonably space efficient while being case-insensitive alphanumeric. There isn&#39;t any [standard implementation in the JDK][15]. Example encoding 16 bytes without padding: `WUPIL5DQTZGMF4D3NX5L7LNFOY`\r\n\r\n* [`Base16`][16] (hexadecimal) every character encodes four bits, requiring two characters per byte (i.e., 16 bytes create a string of length 32). Therefore, hexadecimal is less space efficient than `Base32`, but it is safe to use in most cases (URL) since it only uses `0-9` and `A` to `F`. Example encoding 16 bytes: `4fa3dd0f57cb3bf331441ed285b27735`. [See a Stack&amp;nbsp;Overflow discussion about converting to hexadecimal here][17].\r\n\r\nAdditional encodings like [Base85][18] and the exotic [Base122][19] exist with better/worse space efficiency. You can create your own encoding (which basically most answers in this thread do), but I would advise against it, if you don&#39;t have very specific requirements. See [more encoding schemes in the Wikipedia article][20].\r\n\r\n# 4. Summary and Example\r\n\r\n* Use [`SecureRandom`][1]\r\n* Use at least 16 bytes (2^128) of possible values\r\n* Encode according to your requirements (usually `hex` or `base32` if you need it to be alphanumeric)\r\n\r\n**Don&#39;t**\r\n\r\n* ... use your home brew encoding: *better maintainable and readable for others if they see what standard encoding you use instead of weird *for* loops creating characters at a time.*\r\n* ... use UUID: *it has no guarantees on randomness; you are wasting 6 bits of entropy and have a verbose string representation*\r\n\r\n## Example: Hexadecimal Token Generator\r\n\r\n```java\r\npublic static String generateRandomHexToken(int byteLength) {\r\n    SecureRandom secureRandom = new SecureRandom();\r\n    byte[] token = new byte[byteLength];\r\n    secureRandom.nextBytes(token);\r\n    return new BigInteger(1, token).toString(16); // Hexadecimal encoding (omits leading zeros)\r\n}\r\n\r\n//generateRandomHexToken(16) -&gt; 2189df7475e96aa3982dbeab266497cd\r\n```\r\n\r\n## Example: Base64 Token Generator (URL Safe)\r\n\r\n```java\r\npublic static String generateRandomBase64Token(int byteLength) {\r\n    SecureRandom secureRandom = new SecureRandom();\r\n    byte[] token = new byte[byteLength];\r\n    secureRandom.nextBytes(token);\r\n    return Base64.getUrlEncoder().withoutPadding().encodeToString(token); //base64 encoding\r\n}\r\n\r\n//generateRandomBase64Token(16) -&gt; EEcCCAYuUcQk7IuzdaPzrg\r\n```\r\n\r\n## Example: Java CLI Tool\r\n\r\nIf you want a ready-to-use CLI tool you may use [dice][21]:\r\n\r\n## Example: Related issue - Protect Your Current IDs\r\n\r\nIf you already have an ID you can use (e.g., a synthetic `long` in your entity), but [don&#39;t want to publish the internal value][22], you can use this library to encrypt it and obfuscate it: https://github.com/patrickfav/id-mask\r\n\r\n```java\r\nIdMask&lt;Long&gt; idMask = IdMasks.forLongIds(Config.builder(key).build());\r\nString maskedId = idMask.mask(id);\r\n// Example: NPSBolhMyabUBdTyanrbqT8\r\nlong originalId = idMask.unmask(maskedId);\r\n```\r\n\r\n[1]: https://docs.oracle.com/javase/8/docs/api/java/security/SecureRandom.html\r\n[2]: https://tersesystems.com/2015/12/17/the-right-way-to-use-securerandom/\r\n[3]: https://security.stackexchange.com/a/102163/60108\r\n[4]: https://en.wikipedia.org/wiki/Universally_unique_identifier\r\n[5]: https://en.wikipedia.org/wiki/Universally_unique_identifier#Collisions\r\n[6]: https://security.stackexchange.com/questions/6141/amount-of-simple-operations-that-is-safely-out-of-reach-for-all-humanity/6149#6149\r\n[7]: https://en.wikipedia.org/wiki/Birthday_problem\r\n[8]: https://i.stack.imgur.com/LoLpJ.png\r\n[9]: https://en.wikipedia.org/wiki/Base64\r\n[10]: https://docs.oracle.com/javase/8/docs/api/java/util/Base64.html\r\n[11]: https://developer.android.com/reference/android/util/Base64.html\r\n[12]: https://stackoverflow.com/questions/13109588/base64-encoding-in-java\r\n[13]: https://en.wikipedia.org/wiki/Base64#URL_applications\r\n[14]: https://en.wikipedia.org/wiki/Base32\r\n[15]: https://stackoverflow.com/questions/21515479/encode-string-to-base32-string-in-java\r\n[16]: https://en.wikipedia.org/wiki/Hexadecimal\r\n[17]: https://stackoverflow.com/a/58118078/774398\r\n[18]: https://en.wikipedia.org/wiki/Ascii85#RFC_1924_version\r\n[19]: http://blog.kevinalbs.com/base122\r\n[20]: https://en.wikipedia.org/wiki/Binary-to-text_encoding\r\n[21]: https://github.com/patrickfav/dice\r\n[22]: https://medium.com/@patrickfav/a-better-way-to-protect-your-database-ids-a33fa9867552\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"How to generate a random alpha-numeric string","body":"<p>This is easily achievable without any external libraries.</p>\n<h1>1. Cryptographic Pseudo Random Data Generation (PRNG)</h1>\n<p>First you need a cryptographic PRNG. Java has <a href=\"https://docs.oracle.com/javase/8/docs/api/java/security/SecureRandom.html\" rel=\"nofollow noreferrer\"><code>SecureRandom</code></a> for that and typically uses the best entropy source on the machine (e.g. <code>/dev/random</code>). <a href=\"https://tersesystems.com/2015/12/17/the-right-way-to-use-securerandom/\" rel=\"nofollow noreferrer\">Read more here</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>SecureRandom rnd = new SecureRandom();\nbyte[] token = new byte[byteLength];\nrnd.nextBytes(token);\n</code></pre>\n<p><em><strong>Note:</strong></em> <code>SecureRandom</code> is the slowest, but most secure way in Java of generating random bytes. I do however recommend <em>not</em> considering performance here since it usually has no real impact on your application unless you have to generate millions of tokens per second.</p>\n<h1>2. Required Space of Possible Values</h1>\n<p>Next you have to decide &quot;how unique&quot; your token needs to be. The whole and only point of considering entropy is to make sure that the system can resist brute force attacks: the space of possible values must be so large that any attacker could only try a negligible proportion of the values in non-ludicrous time<sup><a href=\"https://security.stackexchange.com/a/102163/60108\">1</a></sup>.</p>\n<p>Unique identifiers such as random <a href=\"https://en.wikipedia.org/wiki/Universally_unique_identifier\" rel=\"nofollow noreferrer\"><code>UUID</code></a> have 122 bits of entropy (i.e., 2^122 = 5.3x10^36) - the chance of collision is &quot;*(...) for there to be a one in a billion chance of duplication, 103 trillion version 4 UUIDs must be generated<sup><a href=\"https://en.wikipedia.org/wiki/Universally_unique_identifier#Collisions\" rel=\"nofollow noreferrer\">2</a></sup>&quot;. <strong>We will choose 128 bits since it fits exactly into 16 bytes</strong> and is seen as <a href=\"https://security.stackexchange.com/questions/6141/amount-of-simple-operations-that-is-safely-out-of-reach-for-all-humanity/6149#6149\">highly sufficient</a> for being unique for basically every, but the most extreme, use cases, and you don't have to think about duplicates. Here is a simple comparison table of entropy including simple analysis of the <a href=\"https://en.wikipedia.org/wiki/Birthday_problem\" rel=\"nofollow noreferrer\">birthday problem</a>.</p>\n<p><a href=\"https://i.stack.imgur.com/LoLpJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LoLpJ.png\" alt=\"Comparison of token sizes\" /></a></p>\n<p><sup>For simple requirements, 8 or 12 byte length might suffice, but with 16 bytes you are on the &quot;safe side&quot;.</sup></p>\n<p>And that's basically it. The last thing is to think about encoding, so it can be represented as a printable text (read, a <code>String</code>).</p>\n<h1>3. Binary to Text Encoding</h1>\n<p>Typical encodings include:</p>\n<ul>\n<li><p><a href=\"https://en.wikipedia.org/wiki/Base64\" rel=\"nofollow noreferrer\"><code>Base64</code></a> every character encodes 6 bits, creating a 33% overhead. Fortunately there are standard implementations in <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Base64.html\" rel=\"nofollow noreferrer\">Java 8+</a> and <a href=\"https://developer.android.com/reference/android/util/Base64.html\" rel=\"nofollow noreferrer\">Android</a>. With older Java you can use any of the <a href=\"https://stackoverflow.com/questions/13109588/base64-encoding-in-java\">numerous third-party libraries</a>. If you want your tokens to be URL safe use the <a href=\"https://en.wikipedia.org/wiki/Base64#URL_applications\" rel=\"nofollow noreferrer\">URL-safe</a> version of RFC4648 (which usually is supported by most implementations). Example encoding 16 bytes with padding: <code>XfJhfv3C0P6ag7y9VQxSbw==</code></p>\n</li>\n<li><p><a href=\"https://en.wikipedia.org/wiki/Base32\" rel=\"nofollow noreferrer\"><code>Base32</code></a> every character encodes 5 bits, creating a 40% overhead. This will use <code>A-Z</code> and <code>2-7</code>, making it reasonably space efficient while being case-insensitive alphanumeric. There isn't any <a href=\"https://stackoverflow.com/questions/21515479/encode-string-to-base32-string-in-java\">standard implementation in the JDK</a>. Example encoding 16 bytes without padding: <code>WUPIL5DQTZGMF4D3NX5L7LNFOY</code></p>\n</li>\n<li><p><a href=\"https://en.wikipedia.org/wiki/Hexadecimal\" rel=\"nofollow noreferrer\"><code>Base16</code></a> (hexadecimal) every character encodes four bits, requiring two characters per byte (i.e., 16 bytes create a string of length 32). Therefore, hexadecimal is less space efficient than <code>Base32</code>, but it is safe to use in most cases (URL) since it only uses <code>0-9</code> and <code>A</code> to <code>F</code>. Example encoding 16 bytes: <code>4fa3dd0f57cb3bf331441ed285b27735</code>. <a href=\"https://stackoverflow.com/a/58118078/774398\">See a Stack Overflow discussion about converting to hexadecimal here</a>.</p>\n</li>\n</ul>\n<p>Additional encodings like <a href=\"https://en.wikipedia.org/wiki/Ascii85#RFC_1924_version\" rel=\"nofollow noreferrer\">Base85</a> and the exotic <a href=\"http://blog.kevinalbs.com/base122\" rel=\"nofollow noreferrer\">Base122</a> exist with better/worse space efficiency. You can create your own encoding (which basically most answers in this thread do), but I would advise against it, if you don't have very specific requirements. See <a href=\"https://en.wikipedia.org/wiki/Binary-to-text_encoding\" rel=\"nofollow noreferrer\">more encoding schemes in the Wikipedia article</a>.</p>\n<h1>4. Summary and Example</h1>\n<ul>\n<li>Use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/security/SecureRandom.html\" rel=\"nofollow noreferrer\"><code>SecureRandom</code></a></li>\n<li>Use at least 16 bytes (2^128) of possible values</li>\n<li>Encode according to your requirements (usually <code>hex</code> or <code>base32</code> if you need it to be alphanumeric)</li>\n</ul>\n<p><strong>Don't</strong></p>\n<ul>\n<li>... use your home brew encoding: <em>better maintainable and readable for others if they see what standard encoding you use instead of weird <em>for</em> loops creating characters at a time.</em></li>\n<li>... use UUID: <em>it has no guarantees on randomness; you are wasting 6 bits of entropy and have a verbose string representation</em></li>\n</ul>\n<h2>Example: Hexadecimal Token Generator</h2>\n<pre class=\"lang-java prettyprint-override\"><code>public static String generateRandomHexToken(int byteLength) {\n    SecureRandom secureRandom = new SecureRandom();\n    byte[] token = new byte[byteLength];\n    secureRandom.nextBytes(token);\n    return new BigInteger(1, token).toString(16); // Hexadecimal encoding (omits leading zeros)\n}\n\n//generateRandomHexToken(16) -&gt; 2189df7475e96aa3982dbeab266497cd\n</code></pre>\n<h2>Example: Base64 Token Generator (URL Safe)</h2>\n<pre class=\"lang-java prettyprint-override\"><code>public static String generateRandomBase64Token(int byteLength) {\n    SecureRandom secureRandom = new SecureRandom();\n    byte[] token = new byte[byteLength];\n    secureRandom.nextBytes(token);\n    return Base64.getUrlEncoder().withoutPadding().encodeToString(token); //base64 encoding\n}\n\n//generateRandomBase64Token(16) -&gt; EEcCCAYuUcQk7IuzdaPzrg\n</code></pre>\n<h2>Example: Java CLI Tool</h2>\n<p>If you want a ready-to-use CLI tool you may use <a href=\"https://github.com/patrickfav/dice\" rel=\"nofollow noreferrer\">dice</a>:</p>\n<h2>Example: Related issue - Protect Your Current IDs</h2>\n<p>If you already have an ID you can use (e.g., a synthetic <code>long</code> in your entity), but <a href=\"https://medium.com/@patrickfav/a-better-way-to-protect-your-database-ids-a33fa9867552\" rel=\"nofollow noreferrer\">don't want to publish the internal value</a>, you can use this library to encrypt it and obfuscate it: <a href=\"https://github.com/patrickfav/id-mask\" rel=\"nofollow noreferrer\">https://github.com/patrickfav/id-mask</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>IdMask&lt;Long&gt; idMask = IdMasks.forLongIds(Config.builder(key).build());\nString maskedId = idMask.mask(id);\n// Example: NPSBolhMyabUBdTyanrbqT8\nlong originalId = idMask.unmask(maskedId);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":949072,"reputation":546,"user_id":975638,"accept_rate":100,"display_name":"kyxap"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1605198817,"creation_date":1498953177,"answer_id":44866347,"question_id":41107,"body_markdown":"Also, you can generate any lowercase or uppercase letters or even special characters through data from the ASCII table. For example, generate upper case letters from A (DEC 65) to Z (DEC 90):\r\n\r\n    String generateRandomStr(int min, int max, int size) {\r\n        String result = &quot;&quot;;\r\n        for (int i = 0; i &lt; size; i++) {\r\n            result += String.valueOf((char)(new Random().nextInt((max - min) + 1) + min));\r\n        }\r\n        return result;\r\n    }\r\n\r\nGenerated output for `generateRandomStr(65, 90, 100));`:\r\n\r\n    TVLPFQJCYFXQDCQSLKUKKILKKHAUFYEXLUQFHDWNMRBIRRRWNXNNZQTINZPCTKLHGHVYWRKEOYNSOFPZBGEECFMCOKWHLHCEWLDZ\r\n","title":"How to generate a random alpha-numeric string","body":"<p>Also, you can generate any lowercase or uppercase letters or even special characters through data from the ASCII table. For example, generate upper case letters from A (DEC 65) to Z (DEC 90):</p>\n<pre><code>String generateRandomStr(int min, int max, int size) {\n    String result = &quot;&quot;;\n    for (int i = 0; i &lt; size; i++) {\n        result += String.valueOf((char)(new Random().nextInt((max - min) + 1) + min));\n    }\n    return result;\n}\n</code></pre>\n<p>Generated output for <code>generateRandomStr(65, 90, 100));</code>:</p>\n<pre><code>TVLPFQJCYFXQDCQSLKUKKILKKHAUFYEXLUQFHDWNMRBIRRRWNXNNZQTINZPCTKLHGHVYWRKEOYNSOFPZBGEECFMCOKWHLHCEWLDZ\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2653203,"reputation":4029,"user_id":2306839,"display_name":"Patrik Bego"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1605199161,"creation_date":1519226996,"answer_id":48909646,"question_id":41107,"body_markdown":"I don&#39;t really like any of these answers regarding a &quot;simple&quot; solution :S\r\n\r\nI would go for a simple ;), pure Java, one liner (entropy is based on random string length and the given character set):\r\n\r\n    public String randomString(int length, String characterSet) {\r\n        return IntStream.range(0, length).map(i -&gt; new SecureRandom().nextInt(characterSet.length())).mapToObj(randomInt -&gt; characterSet.substring(randomInt, randomInt + 1)).collect(Collectors.joining());\r\n    }\r\n\r\n    @Test\r\n    public void buildFiveRandomStrings() {\r\n        for (int q = 0; q &lt; 5; q++) {\r\n            System.out.println(randomString(10, &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789&quot;)); // The character set can basically be anything\r\n        }\r\n    }\r\n\r\nOr (a bit more readable old way)\r\n\r\n    public String randomString(int length, String characterSet) {\r\n        StringBuilder sb = new StringBuilder(); // Consider using StringBuffer if needed\r\n        for (int i = 0; i &lt; length; i++) {\r\n            int randomInt = new SecureRandom().nextInt(characterSet.length());\r\n            sb.append(characterSet.substring(randomInt, randomInt + 1));\r\n        }\r\n        return sb.toString();\r\n    }\r\n\r\n    @Test\r\n    public void buildFiveRandomStrings() {\r\n        for (int q = 0; q &lt; 5; q++) {\r\n            System.out.println(randomString(10, &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789&quot;)); // The character set can basically be anything\r\n        }\r\n    }\r\n\r\nBut on the other hand you could also go with [UUID][1] which has a pretty good entropy:\r\n\r\n    UUID.randomUUID().toString().replace(&quot;-&quot;, &quot;&quot;)\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Universally_unique_identifier#Collisions\r\n\r\n\r\n\r\n\r\n","title":"How to generate a random alpha-numeric string","body":"<p>I don't really like any of these answers regarding a &quot;simple&quot; solution :S</p>\n<p>I would go for a simple ;), pure Java, one liner (entropy is based on random string length and the given character set):</p>\n<pre><code>public String randomString(int length, String characterSet) {\n    return IntStream.range(0, length).map(i -&gt; new SecureRandom().nextInt(characterSet.length())).mapToObj(randomInt -&gt; characterSet.substring(randomInt, randomInt + 1)).collect(Collectors.joining());\n}\n\n@Test\npublic void buildFiveRandomStrings() {\n    for (int q = 0; q &lt; 5; q++) {\n        System.out.println(randomString(10, &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789&quot;)); // The character set can basically be anything\n    }\n}\n</code></pre>\n<p>Or (a bit more readable old way)</p>\n<pre><code>public String randomString(int length, String characterSet) {\n    StringBuilder sb = new StringBuilder(); // Consider using StringBuffer if needed\n    for (int i = 0; i &lt; length; i++) {\n        int randomInt = new SecureRandom().nextInt(characterSet.length());\n        sb.append(characterSet.substring(randomInt, randomInt + 1));\n    }\n    return sb.toString();\n}\n\n@Test\npublic void buildFiveRandomStrings() {\n    for (int q = 0; q &lt; 5; q++) {\n        System.out.println(randomString(10, &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789&quot;)); // The character set can basically be anything\n    }\n}\n</code></pre>\n<p>But on the other hand you could also go with <a href=\"https://en.wikipedia.org/wiki/Universally_unique_identifier#Collisions\" rel=\"nofollow noreferrer\">UUID</a> which has a pretty good entropy:</p>\n<pre><code>UUID.randomUUID().toString().replace(&quot;-&quot;, &quot;&quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":39685,"reputation":12819,"user_id":114549,"display_name":"aaronvargas"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1605199201,"creation_date":1519930893,"answer_id":49056893,"question_id":41107,"body_markdown":"Here&#39;s a simple one-liner using UUIDs as the character base and being able to specify (almost) any length. (Yes, I know that using a UUID has been suggested before.)\r\n\r\n    public static String randString(int length) {\r\n        return UUID.randomUUID().toString().replace(&quot;-&quot;, &quot;&quot;).substring(0, Math.min(length, 32)) + (length &gt; 32 ? randString(length - 32) : &quot;&quot;);\r\n    }\r\n\r\n\r\n\r\n","title":"How to generate a random alpha-numeric string","body":"<p>Here's a simple one-liner using UUIDs as the character base and being able to specify (almost) any length. (Yes, I know that using a UUID has been suggested before.)</p>\n<pre><code>public static String randString(int length) {\n    return UUID.randomUUID().toString().replace(&quot;-&quot;, &quot;&quot;).substring(0, Math.min(length, 32)) + (length &gt; 32 ? randString(length - 32) : &quot;&quot;);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8479523,"reputation":447,"user_id":6359611,"accept_rate":67,"display_name":"Prasad Parab"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1605199246,"creation_date":1534511111,"answer_id":51896107,"question_id":41107,"body_markdown":"\r\n    public static String getRandomString(int length) {\r\n        char[] chars = &quot;abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRST&quot;.toCharArray();\r\n\r\n        StringBuilder sb = new StringBuilder();\r\n        Random random = new Random();\r\n        for (int i = 0; i &lt; length; i++) {\r\n            char c = chars[random.nextInt(chars.length)];\r\n            sb.append(c);\r\n        }\r\n        String randomStr = sb.toString();\r\n\r\n        return randomStr;\r\n    }\r\n","title":"How to generate a random alpha-numeric string","body":"<pre><code>public static String getRandomString(int length) {\n    char[] chars = &quot;abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRST&quot;.toCharArray();\n\n    StringBuilder sb = new StringBuilder();\n    Random random = new Random();\n    for (int i = 0; i &lt; length; i++) {\n        char c = chars[random.nextInt(chars.length)];\n        sb.append(c);\n    }\n    String randomStr = sb.toString();\n\n    return randomStr;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12562569,"reputation":126,"user_id":9139738,"display_name":"FileInputStream"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1605199283,"creation_date":1543257073,"answer_id":53487039,"question_id":41107,"body_markdown":"I think this is the smallest solution here, or nearly one of the smallest:\r\n\r\n     public String generateRandomString(int length) {\r\n        String randomString = &quot;&quot;;\r\n\r\n        final char[] chars = &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz01234567890&quot;.toCharArray();\r\n        final Random random = new Random();\r\n        for (int i = 0; i &lt; length; i++) {\r\n            randomString = randomString + chars[random.nextInt(chars.length)];\r\n        }\r\n\r\n        return randomString;\r\n    }\r\n\r\nThe code works just fine. If you are using this method, I recommend you to use more than 10 characters. A collision happens at 5 characters / 30362 iterations. This took 9 seconds.\r\n\r\n\r\n","title":"How to generate a random alpha-numeric string","body":"<p>I think this is the smallest solution here, or nearly one of the smallest:</p>\n<pre><code> public String generateRandomString(int length) {\n    String randomString = &quot;&quot;;\n\n    final char[] chars = &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz01234567890&quot;.toCharArray();\n    final Random random = new Random();\n    for (int i = 0; i &lt; length; i++) {\n        randomString = randomString + chars[random.nextInt(chars.length)];\n    }\n\n    return randomString;\n}\n</code></pre>\n<p>The code works just fine. If you are using this method, I recommend you to use more than 10 characters. A collision happens at 5 characters / 30362 iterations. This took 9 seconds.</p>\n"},{"tags":[],"owner":{"account_id":2023908,"reputation":4939,"user_id":1809463,"accept_rate":84,"display_name":"mike"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1551275543,"creation_date":1551275543,"answer_id":54907024,"question_id":41107,"body_markdown":"Here is a Java 8 solution based on streams.\r\n\r\n        public String generateString(String alphabet, int length) {\r\n            return generateString(alphabet, length, new SecureRandom()::nextInt);\r\n        }\r\n\r\n        // nextInt = bound -&gt; n in [0, bound)\r\n        public String generateString(String source, int length, IntFunction&lt;Integer&gt; nextInt) {\r\n            StringBuilder sb = new StringBuilder();\r\n            IntStream.generate(source::length)\r\n                    .boxed()\r\n                    .limit(length)\r\n                    .map(nextInt::apply)\r\n                    .map(source::charAt)\r\n                    .forEach(sb::append);\r\n    \r\n            return sb.toString();\r\n        }\r\n\r\nUse it like \r\n\r\n    String alphabet = &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789&quot;;\r\n    int length = 12;\r\n    String generated = generateString(alphabet, length);\r\n    System.out.println(generated);\r\n\r\nThe function `nextInt` should accept an int `bound` and return a random number between `0` and `bound - 1`.","title":"How to generate a random alpha-numeric string","body":"<p>Here is a Java 8 solution based on streams.</p>\n\n<pre><code>    public String generateString(String alphabet, int length) {\n        return generateString(alphabet, length, new SecureRandom()::nextInt);\n    }\n\n    // nextInt = bound -&gt; n in [0, bound)\n    public String generateString(String source, int length, IntFunction&lt;Integer&gt; nextInt) {\n        StringBuilder sb = new StringBuilder();\n        IntStream.generate(source::length)\n                .boxed()\n                .limit(length)\n                .map(nextInt::apply)\n                .map(source::charAt)\n                .forEach(sb::append);\n\n        return sb.toString();\n    }\n</code></pre>\n\n<p>Use it like </p>\n\n<pre><code>String alphabet = \"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789\";\nint length = 12;\nString generated = generateString(alphabet, length);\nSystem.out.println(generated);\n</code></pre>\n\n<p>The function <code>nextInt</code> should accept an int <code>bound</code> and return a random number between <code>0</code> and <code>bound - 1</code>.</p>\n"},{"tags":[],"owner":{"account_id":10898696,"reputation":722,"user_id":8305572,"display_name":"SoBeRich"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1605199483,"creation_date":1553688857,"answer_id":55376955,"question_id":41107,"body_markdown":"Efficient and short.\r\n\r\n    /**\r\n     * Utility class for generating random Strings.\r\n     */\r\n    public interface RandomUtil {\r\n\r\n        int    DEF_COUNT = 20;\r\n        Random RANDOM    = new SecureRandom();\r\n\r\n        /**\r\n         * Generate a password.\r\n         *\r\n         * @return the generated password\r\n         */\r\n        static String generatePassword() {\r\n            return generate(true, true);\r\n        }\r\n\r\n        /**\r\n         * Generate an activation key.\r\n         *\r\n         * @return the generated activation key\r\n         */\r\n        static String generateActivationKey() {\r\n            return generate(false, true);\r\n        }\r\n\r\n        /**\r\n         * Generate a reset key.\r\n         *\r\n         * @return the generated reset key\r\n         */\r\n        static String generateResetKey() {\r\n            return generate(false, true);\r\n        }\r\n\r\n        static String generate(boolean letters, boolean numbers) {\r\n            int\r\n                start = &#39; &#39;,\r\n                end   = &#39;z&#39; + 1,\r\n                count = DEF_COUNT,\r\n                gap   = end - start;\r\n            StringBuilder builder = new StringBuilder(count);\r\n\r\n            while (count-- != 0) {\r\n                int codePoint = RANDOM.nextInt(gap) + start;\r\n\r\n                switch (getType(codePoint)) {\r\n                    case UNASSIGNED:\r\n                    case PRIVATE_USE:\r\n                    case SURROGATE:\r\n                        count++;\r\n                        continue;\r\n                }\r\n\r\n                int numberOfChars = charCount(codePoint);\r\n\r\n                if (count == 0 &amp;&amp; numberOfChars &gt; 1) {\r\n                    count++;\r\n                    continue;\r\n                }\r\n\r\n                if (letters &amp;&amp; isLetter(codePoint)\r\n                    || numbers &amp;&amp; isDigit(codePoint)\r\n                    || !letters &amp;&amp; !numbers) {\r\n\r\n                    builder.appendCodePoint(codePoint);\r\n                    if (numberOfChars == 2)\r\n                        count--;\r\n                }\r\n                else\r\n                    count++;\r\n            }\r\n            return builder.toString();\r\n        }\r\n    }\r\n\r\n\r\n","title":"How to generate a random alpha-numeric string","body":"<p>Efficient and short.</p>\n<pre><code>/**\n * Utility class for generating random Strings.\n */\npublic interface RandomUtil {\n\n    int    DEF_COUNT = 20;\n    Random RANDOM    = new SecureRandom();\n\n    /**\n     * Generate a password.\n     *\n     * @return the generated password\n     */\n    static String generatePassword() {\n        return generate(true, true);\n    }\n\n    /**\n     * Generate an activation key.\n     *\n     * @return the generated activation key\n     */\n    static String generateActivationKey() {\n        return generate(false, true);\n    }\n\n    /**\n     * Generate a reset key.\n     *\n     * @return the generated reset key\n     */\n    static String generateResetKey() {\n        return generate(false, true);\n    }\n\n    static String generate(boolean letters, boolean numbers) {\n        int\n            start = ' ',\n            end   = 'z' + 1,\n            count = DEF_COUNT,\n            gap   = end - start;\n        StringBuilder builder = new StringBuilder(count);\n\n        while (count-- != 0) {\n            int codePoint = RANDOM.nextInt(gap) + start;\n\n            switch (getType(codePoint)) {\n                case UNASSIGNED:\n                case PRIVATE_USE:\n                case SURROGATE:\n                    count++;\n                    continue;\n            }\n\n            int numberOfChars = charCount(codePoint);\n\n            if (count == 0 &amp;&amp; numberOfChars &gt; 1) {\n                count++;\n                continue;\n            }\n\n            if (letters &amp;&amp; isLetter(codePoint)\n                || numbers &amp;&amp; isDigit(codePoint)\n                || !letters &amp;&amp; !numbers) {\n\n                builder.appendCodePoint(codePoint);\n                if (numberOfChars == 2)\n                    count--;\n            }\n            else\n                count++;\n        }\n        return builder.toString();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17004447,"reputation":43,"user_id":12491840,"display_name":"Riley Jones"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1605199551,"creation_date":1575699813,"answer_id":59223550,"question_id":41107,"body_markdown":"```\r\npublic static String RandomAlphanum(int length)\r\n{\r\n    String charstring = &quot;abcdefghijklmnopqrstuvwxyz0123456789&quot;;\r\n    String randalphanum = &quot;&quot;;\r\n    double randroll;\r\n    String randchar;\r\n    for (double i = 0; i &lt; length; i++)\r\n    {\r\n        randroll = Math.random();\r\n        randchar = &quot;&quot;;\r\n        for (int j = 1; j &lt;= 35; j++)\r\n        {\r\n            if (randroll &lt;= (1.0 / 36.0 * j))\r\n            {\r\n                randchar = Character.toString(charstring.charAt(j - 1));\r\n                break;\r\n            }\r\n        }\r\n        randalphanum += randchar;\r\n    }\r\n    return randalphanum;\r\n}\r\n```\r\n\r\nI used a very primitive algorithm using Math.random(). To increase randomness, you can directly implement the ```util.Date``` class. Nevertheless, it works.\r\n\r\n\r\n\r\n\r\n","title":"How to generate a random alpha-numeric string","body":"<pre><code>public static String RandomAlphanum(int length)\n{\n    String charstring = &quot;abcdefghijklmnopqrstuvwxyz0123456789&quot;;\n    String randalphanum = &quot;&quot;;\n    double randroll;\n    String randchar;\n    for (double i = 0; i &lt; length; i++)\n    {\n        randroll = Math.random();\n        randchar = &quot;&quot;;\n        for (int j = 1; j &lt;= 35; j++)\n        {\n            if (randroll &lt;= (1.0 / 36.0 * j))\n            {\n                randchar = Character.toString(charstring.charAt(j - 1));\n                break;\n            }\n        }\n        randalphanum += randchar;\n    }\n    return randalphanum;\n}\n</code></pre>\n<p>I used a very primitive algorithm using Math.random(). To increase randomness, you can directly implement the <code>util.Date</code> class. Nevertheless, it works.</p>\n"},{"tags":[],"owner":{"account_id":11704982,"reputation":17,"user_id":8568835,"display_name":"Chuong Tran"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1605199616,"creation_date":1586579825,"answer_id":61152198,"question_id":41107,"body_markdown":"I&#39;m using a library from [Apache Commons][1] to generate an alphanumeric string:\r\n\r\n    import org.apache.commons.lang3.RandomStringUtils;\r\n\r\n    String keyLength = 20;\r\n    RandomStringUtils.randomAlphanumeric(keylength);\r\n\r\nIt&#39;s fast and simple!\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Apache_Commons\r\n\r\n","title":"How to generate a random alpha-numeric string","body":"<p>I'm using a library from <a href=\"https://en.wikipedia.org/wiki/Apache_Commons\" rel=\"nofollow noreferrer\">Apache Commons</a> to generate an alphanumeric string:</p>\n<pre><code>import org.apache.commons.lang3.RandomStringUtils;\n\nString keyLength = 20;\nRandomStringUtils.randomAlphanumeric(keylength);\n</code></pre>\n<p>It's fast and simple!</p>\n"},{"tags":[],"owner":{"account_id":12854102,"reputation":89,"user_id":9297984,"display_name":"Mayank"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1624613611,"creation_date":1617910657,"answer_id":67010786,"question_id":41107,"body_markdown":"I am using a very simple solution using Java 8. Just customize it according to your needs.\r\n\r\n    ...\r\n    import java.security.SecureRandom;\r\n    ...\r\n\r\n    //Generate a random String of length between 10 to 20.\r\n    //Length is also randomly generated here.\r\n    SecureRandom random = new SecureRandom();\r\n\r\n    String sampleSet = &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789_&quot;;\r\n\r\n    int stringLength = random.ints(1, 10, 21).mapToObj(x -&gt; x).reduce((a, b) -&gt; a).get();\r\n\r\n    String randomString = random.ints(stringLength, 0, sampleSet.length() - 1)\r\n            .mapToObj(x -&gt; sampleSet.charAt(x))\r\n            .collect(Collector\r\n\t\t\t\t.of(StringBuilder::new, StringBuilder::append,\r\n                    StringBuilder::append, StringBuilder::toString));\r\n\r\n---\r\n\r\nWe can use this to generate an alphanumeric random String like this (the returned String will mandatorily have some non-numeric characters as well as some numeric characters):\r\n\r\n    public String generateRandomString() {\r\n\t\t\t\t\r\n\t\tString sampleSet = &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz_&quot;;\r\n\t\tString sampleSetNumeric = &quot;0123456789&quot;;\r\n\t\t\r\n\t\tString randomString = getRandomString(sampleSet, 10, 21);\r\n\t\tString randomStringNumeric = getRandomString(sampleSetNumeric, 10, 21);\r\n\t\t\r\n\t\trandomString = randomString + randomStringNumeric;\r\n\t\t\r\n        //Convert String to List&lt;Character&gt;\r\n\t\tList&lt;Character&gt; list = randomString.chars()\r\n\t\t\t\t.mapToObj(x -&gt; (char)x)\r\n\t\t\t\t.collect(Collectors.toList());\r\n\t\t\r\n\t\tCollections.shuffle(list);\r\n\t\t\r\n        //This is needed to force a non-numeric character as the first String\r\n        //Skip this for() if you don&#39;t need this logic\r\n\r\n\t\tfor(;;) {\r\n\t\t\tif(Character.isDigit(list.get(0))) Collections.shuffle(list);\r\n\t\t\telse break;\r\n\t\t}\r\n\t\t\r\n        //Convert List&lt;Character&gt; to String\r\n\t\trandomString = list.stream()\r\n\t\t\t\t.map(String::valueOf)\r\n\t\t\t\t.collect(Collectors.joining());\r\n\t\t\r\n\t\treturn randomString;\r\n\t\t\r\n\t}\r\n\r\n    //Generate a random number between the lower bound (inclusive) and upper bound (exclusive)\r\n    private int getRandomLength(int min, int max) {\r\n\t\tSecureRandom random = new SecureRandom();\r\n\t\treturn random.ints(1, min, max).mapToObj(x -&gt; x).reduce((a, b) -&gt; a).get();\r\n\t}\r\n\t\r\n    //Generate a random String from the given sample string, having a random length between the lower bound (inclusive) and upper bound (exclusive)\r\n\tprivate String getRandomString(String sampleSet, int min, int max) {\r\n\t\tSecureRandom random = new SecureRandom();\r\n\t\treturn random.ints(getRandomLength(min, max), 0, sampleSet.length() - 1)\r\n        .mapToObj(x -&gt; sampleSet.charAt(x))\r\n        .collect(Collector\r\n            .of(StringBuilder::new, StringBuilder::append,\r\n                StringBuilder::append, StringBuilder::toString));\r\n\t}","title":"How to generate a random alpha-numeric string","body":"<p>I am using a very simple solution using Java 8. Just customize it according to your needs.</p>\n<pre><code>...\nimport java.security.SecureRandom;\n...\n\n//Generate a random String of length between 10 to 20.\n//Length is also randomly generated here.\nSecureRandom random = new SecureRandom();\n\nString sampleSet = &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789_&quot;;\n\nint stringLength = random.ints(1, 10, 21).mapToObj(x -&gt; x).reduce((a, b) -&gt; a).get();\n\nString randomString = random.ints(stringLength, 0, sampleSet.length() - 1)\n        .mapToObj(x -&gt; sampleSet.charAt(x))\n        .collect(Collector\n            .of(StringBuilder::new, StringBuilder::append,\n                StringBuilder::append, StringBuilder::toString));\n</code></pre>\n<hr />\n<p>We can use this to generate an alphanumeric random String like this (the returned String will mandatorily have some non-numeric characters as well as some numeric characters):</p>\n<pre><code>public String generateRandomString() {\n            \n    String sampleSet = &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz_&quot;;\n    String sampleSetNumeric = &quot;0123456789&quot;;\n    \n    String randomString = getRandomString(sampleSet, 10, 21);\n    String randomStringNumeric = getRandomString(sampleSetNumeric, 10, 21);\n    \n    randomString = randomString + randomStringNumeric;\n    \n    //Convert String to List&lt;Character&gt;\n    List&lt;Character&gt; list = randomString.chars()\n            .mapToObj(x -&gt; (char)x)\n            .collect(Collectors.toList());\n    \n    Collections.shuffle(list);\n    \n    //This is needed to force a non-numeric character as the first String\n    //Skip this for() if you don't need this logic\n\n    for(;;) {\n        if(Character.isDigit(list.get(0))) Collections.shuffle(list);\n        else break;\n    }\n    \n    //Convert List&lt;Character&gt; to String\n    randomString = list.stream()\n            .map(String::valueOf)\n            .collect(Collectors.joining());\n    \n    return randomString;\n    \n}\n\n//Generate a random number between the lower bound (inclusive) and upper bound (exclusive)\nprivate int getRandomLength(int min, int max) {\n    SecureRandom random = new SecureRandom();\n    return random.ints(1, min, max).mapToObj(x -&gt; x).reduce((a, b) -&gt; a).get();\n}\n\n//Generate a random String from the given sample string, having a random length between the lower bound (inclusive) and upper bound (exclusive)\nprivate String getRandomString(String sampleSet, int min, int max) {\n    SecureRandom random = new SecureRandom();\n    return random.ints(getRandomLength(min, max), 0, sampleSet.length() - 1)\n    .mapToObj(x -&gt; sampleSet.charAt(x))\n    .collect(Collector\n        .of(StringBuilder::new, StringBuilder::append,\n            StringBuilder::append, StringBuilder::toString));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18644537,"reputation":66,"user_id":13589507,"display_name":"Muxammed Gafarov"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1617967345,"creation_date":1617967113,"answer_id":67020131,"question_id":41107,"body_markdown":"    public class Utils {\r\n        private final Random RANDOM = new SecureRandom();\r\n        private final String ALPHABET = &quot;0123456789QWERTYUIOPASDFGHJKLZXCVBNMqwertyuiopasdfghjklzxcvbnm&quot;;\r\n\r\n        private String generateRandomString(int length) {\r\n            StringBuffer buffer = new StringBuffer(length);\r\n            for (int i = 0; i &lt; length; i++) {\r\n                buffer.append(ALPHABET.charAt(RANDOM.nextInt(ALPHABET.length())));\r\n            }\r\n            return new String(buffer);\r\n        } \r\n    }","title":"How to generate a random alpha-numeric string","body":"<pre><code>public class Utils {\n    private final Random RANDOM = new SecureRandom();\n    private final String ALPHABET = &quot;0123456789QWERTYUIOPASDFGHJKLZXCVBNMqwertyuiopasdfghjklzxcvbnm&quot;;\n\n    private String generateRandomString(int length) {\n        StringBuffer buffer = new StringBuffer(length);\n        for (int i = 0; i &lt; length; i++) {\n            buffer.append(ALPHABET.charAt(RANDOM.nextInt(ALPHABET.length())));\n        }\n        return new String(buffer);\n    } \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3360865,"reputation":1736,"user_id":2822680,"accept_rate":40,"display_name":"cwtuan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665472935,"creation_date":1665472935,"answer_id":74024384,"question_id":41107,"body_markdown":"Given the some characters (`AllCharacters`), you could pickup a character in the string randomly. Then use-for loop to get random charcter repeatedly.\r\n\r\n```java\r\npublic class MyProgram {\r\n  static String getRandomString(int size) {\r\n      String AllCharacters = &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789&quot;;\r\n      StringBuilder sb = new StringBuilder(size);\r\n      int length = AllCharacters.length();\r\n      for (int i = 0; i &lt; size; i++) {\r\n          sb.append(AllCharacters.charAt((int)(length * Math.random())));\r\n      }\r\n      return sb.toString();\r\n  }\r\n\r\n  public static void main(String[] args) {\r\n      System.out.println(MyProgram.getRandomString(30));\r\n  }\r\n}\r\n```\r\n\r\n- Try it on the [sandbox](https://codehs.com/sandbox/id/java-main-4NaSkG)\r\n- Also see other languages implement [random string generator](https://fe-tool.com/en-us/random-password)","title":"How to generate a random alpha-numeric string","body":"<p>Given the some characters (<code>AllCharacters</code>), you could pickup a character in the string randomly. Then use-for loop to get random charcter repeatedly.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyProgram {\n  static String getRandomString(int size) {\n      String AllCharacters = &quot;ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789&quot;;\n      StringBuilder sb = new StringBuilder(size);\n      int length = AllCharacters.length();\n      for (int i = 0; i &lt; size; i++) {\n          sb.append(AllCharacters.charAt((int)(length * Math.random())));\n      }\n      return sb.toString();\n  }\n\n  public static void main(String[] args) {\n      System.out.println(MyProgram.getRandomString(30));\n  }\n}\n</code></pre>\n<ul>\n<li>Try it on the <a href=\"https://codehs.com/sandbox/id/java-main-4NaSkG\" rel=\"nofollow noreferrer\">sandbox</a></li>\n<li>Also see other languages implement <a href=\"https://fe-tool.com/en-us/random-password\" rel=\"nofollow noreferrer\">random string generator</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":6433233,"reputation":13876,"user_id":4985580,"display_name":"F_SO_K"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668169060,"creation_date":1668169060,"answer_id":74402390,"question_id":41107,"body_markdown":"You can do this in one line with no external libraries.\r\n\r\n    int length = 12;\r\n\tString randomString = new Random().ints(48, 122).filter(i -&gt; (i &lt; 58 || i &gt; 64) &amp;&amp; (i &lt; 91 || i &gt; 96)).limit(length).collect(StringBuilder::new, StringBuilder::appendCodePoint, StringBuilder::append).toString();\r\n\tSystem.out.print(randomString);\r\n\r\nI have separated out the length into a parameter, and added a line to print the result.\r\n\r\nThis code creates a stream of random integers bounded to the alphanumeric ascii range. It then filters out some symbols, because the alphanumeric range is not continuous. It then limits the length and collects the result into a string.\r\n\r\nBecause this approach discards something like 20% of the numbers/characters it generates (as they are symbols), there is a small performance impact.\r\n\r\nI don&#39;t find it particularly readable, but I don&#39;t think anyone else has suggested a native Java solution in one line.","title":"How to generate a random alpha-numeric string","body":"<p>You can do this in one line with no external libraries.</p>\n<pre><code>int length = 12;\nString randomString = new Random().ints(48, 122).filter(i -&gt; (i &lt; 58 || i &gt; 64) &amp;&amp; (i &lt; 91 || i &gt; 96)).limit(length).collect(StringBuilder::new, StringBuilder::appendCodePoint, StringBuilder::append).toString();\nSystem.out.print(randomString);\n</code></pre>\n<p>I have separated out the length into a parameter, and added a line to print the result.</p>\n<p>This code creates a stream of random integers bounded to the alphanumeric ascii range. It then filters out some symbols, because the alphanumeric range is not continuous. It then limits the length and collects the result into a string.</p>\n<p>Because this approach discards something like 20% of the numbers/characters it generates (as they are symbols), there is a small performance impact.</p>\n<p>I don't find it particularly readable, but I don't think anyone else has suggested a native Java solution in one line.</p>\n"}],"owner":{"account_id":2708,"reputation":3363,"user_id":3803,"display_name":"Todd"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1652356,"favorite_count":0,"down_vote_count":5,"up_vote_count":1974,"accepted_answer_id":41156,"answer_count":46,"score":1969,"last_activity_date":1688029529,"creation_date":1220410723,"question_id":41107,"body_markdown":"I&#39;ve been looking for a _simple_ Java algorithm to generate a pseudo-random alpha-numeric string.  In my situation it would be used as a unique session/key identifier that would &quot;likely&quot; be unique over `500K+` generation (my needs don&#39;t really require anything much more sophisticated).  \r\n\r\nIdeally, I would be able to specify a length depending on my uniqueness needs. For example, a generated string of length 12 might look something like `&quot;AEYGF7K0DM1X&quot;`.  \r\n","title":"How to generate a random alpha-numeric string","body":"<p>I've been looking for a <em>simple</em> Java algorithm to generate a pseudo-random alpha-numeric string.  In my situation it would be used as a unique session/key identifier that would \"likely\" be unique over <code>500K+</code> generation (my needs don't really require anything much more sophisticated).  </p>\n\n<p>Ideally, I would be able to specify a length depending on my uniqueness needs. For example, a generated string of length 12 might look something like <code>\"AEYGF7K0DM1X\"</code>.  </p>\n"},{"tags":["java","spring-boot","hibernate","jpa","hibernate-onetomany"],"comments":[{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1688028565,"post_id":76579377,"comment_id":135019690,"body_markdown":"Just set the user before saving it. Like: userPolicyQuery.setUser(user)","body":"Just set the user before saving it. Like: userPolicyQuery.setUser(user)"},{"owner":{"account_id":25845637,"reputation":534,"user_id":19580540,"display_name":"ayush"},"score":0,"creation_date":1688028697,"post_id":76579377,"comment_id":135019719,"body_markdown":"Is it ok to save user and query in single transaction?","body":"Is it ok to save user and query in single transaction?"}],"answers":[{"tags":[],"owner":{"account_id":1310803,"reputation":2557,"user_id":1258838,"accept_rate":68,"display_name":"Juliyanage Silva"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688029166,"creation_date":1688029166,"answer_id":76579569,"question_id":76579377,"body_markdown":"Not sure if you want to add a reference in &quot;UserPolicyQuery&quot; for User as there can be many Users having this policy.\r\n\r\nBetter if we start from db level, So joining table should be look like:\r\n\r\n    &lt;createTable  tableName=&quot;user_role&quot;&gt;\r\n            &lt;column  name=&quot;user_id&quot;  type=&quot;BIGINT&quot;&gt;\r\n                &lt;constraints  nullable=&quot;false&quot;  /&gt;\r\n            &lt;/column&gt;\r\n            &lt;column  name=&quot;role_id&quot;  type=&quot;BIGINT&quot;&gt;\r\n                &lt;constraints  nullable=&quot;false&quot;  /&gt;\r\n            &lt;/column&gt;\r\n        &lt;/createTable&gt;\r\n        &lt;addPrimaryKey columnNames=&quot;user_id,role_id&quot; tableName=&quot;user_role&quot; constraintName=&quot;user_rolePK&quot;/&gt;\r\n        &lt;addForeignKeyConstraint baseTableName=&quot;user_role&quot; baseColumnNames=&quot;user_id&quot; constraintName=&quot;FK_user_id&quot; referencedTableName=&quot;user&quot;\r\n                                 referencedColumnNames=&quot;id&quot;/&gt;\r\n        &lt;addForeignKeyConstraint baseTableName=&quot;user_role&quot; baseColumnNames=&quot;role_id&quot; constraintName=&quot;FK_role_id&quot; referencedTableName=&quot;role&quot;\r\n                                 referencedColumnNames=&quot;id&quot;/&gt;\r\n\r\nThen for the classes:\r\nUser:\r\n\r\n    @OneToMany(fetch = FetchType.EAGER,cascade = CascadeType.PERSIST)\r\n    @JoinTable(\r\n            name = &quot;user_role&quot;,\r\n            joinColumns = @JoinColumn(\r\n                    name = &quot;user_id&quot;,\r\n                    referencedColumnName = &quot;id&quot;\r\n            ),\r\n            inverseJoinColumns = @JoinColumn(\r\n                    name = &quot;role_id&quot;,\r\n                    referencedColumnName = &quot;id&quot;\r\n            ))\r\n    private List&lt;Role&gt; roles;\r\n\r\nAnd on Role class there is no connection to the User. Think of Role class as UserPolicyQuery","title":"Foreign Key column getting set to null when saving entity from One side in OneToMany relationship: Spring Boot and JPA","body":"<p>Not sure if you want to add a reference in &quot;UserPolicyQuery&quot; for User as there can be many Users having this policy.</p>\n<p>Better if we start from db level, So joining table should be look like:</p>\n<pre><code>&lt;createTable  tableName=&quot;user_role&quot;&gt;\n        &lt;column  name=&quot;user_id&quot;  type=&quot;BIGINT&quot;&gt;\n            &lt;constraints  nullable=&quot;false&quot;  /&gt;\n        &lt;/column&gt;\n        &lt;column  name=&quot;role_id&quot;  type=&quot;BIGINT&quot;&gt;\n            &lt;constraints  nullable=&quot;false&quot;  /&gt;\n        &lt;/column&gt;\n    &lt;/createTable&gt;\n    &lt;addPrimaryKey columnNames=&quot;user_id,role_id&quot; tableName=&quot;user_role&quot; constraintName=&quot;user_rolePK&quot;/&gt;\n    &lt;addForeignKeyConstraint baseTableName=&quot;user_role&quot; baseColumnNames=&quot;user_id&quot; constraintName=&quot;FK_user_id&quot; referencedTableName=&quot;user&quot;\n                             referencedColumnNames=&quot;id&quot;/&gt;\n    &lt;addForeignKeyConstraint baseTableName=&quot;user_role&quot; baseColumnNames=&quot;role_id&quot; constraintName=&quot;FK_role_id&quot; referencedTableName=&quot;role&quot;\n                             referencedColumnNames=&quot;id&quot;/&gt;\n</code></pre>\n<p>Then for the classes:\nUser:</p>\n<pre><code>@OneToMany(fetch = FetchType.EAGER,cascade = CascadeType.PERSIST)\n@JoinTable(\n        name = &quot;user_role&quot;,\n        joinColumns = @JoinColumn(\n                name = &quot;user_id&quot;,\n                referencedColumnName = &quot;id&quot;\n        ),\n        inverseJoinColumns = @JoinColumn(\n                name = &quot;role_id&quot;,\n                referencedColumnName = &quot;id&quot;\n        ))\nprivate List&lt;Role&gt; roles;\n</code></pre>\n<p>And on Role class there is no connection to the User. Think of Role class as UserPolicyQuery</p>\n"}],"owner":{"account_id":25845637,"reputation":534,"user_id":19580540,"display_name":"ayush"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688029166,"creation_date":1688027725,"question_id":76579377,"body_markdown":"I have following entity-\r\n```\r\npackage com.insurance.insurancebackend.entity;\r\n\r\nimport jakarta.persistence.*;\r\nimport lombok.Data;\r\n\r\nimport java.util.HashSet;\r\nimport java.util.Set;\r\n\r\n@Data\r\n@Entity\r\n@Table(name=&quot;user&quot;)\r\npublic class User {\r\n\r\n    @Id\r\n    @Column (name =&quot;userid&quot; )\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private long userId;\r\n\r\n    @Column(name=&quot;firstname&quot;,nullable = false)\r\n    private String firstName;\r\n\r\n\r\n    @Column(name=&quot;lastname&quot;,nullable = false)\r\n    private String lastName;\r\n\r\n\r\n    @Column(name = &quot;useremail&quot;,nullable = false,unique = true)\r\n    private String email;\r\n\r\n\r\n\r\n    @Column(name = &quot;phonenumber&quot;,nullable = false,unique = true)\r\n    private long phoneNumber;\r\n\r\n\r\n    @OneToMany(mappedBy = &quot;user&quot;,cascade = CascadeType.ALL,fetch = FetchType.LAZY)\r\n    private Set&lt;UserPolicyQuery&gt; userPolicyQueries = new HashSet&lt;&gt;();\r\n}\r\n\r\n```\r\nand \r\n```\r\n@Data\r\n@Entity\r\n@Table(name=&quot;user_policy_query&quot;)\r\npublic class UserPolicyQuery {\r\n\r\n    @Id\r\n    @Column(name=&quot;query_id&quot;)\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private long queryId;\r\n\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name=&quot;user_id&quot;,nullable=false)\r\n    private User user;\r\n\r\n    @ManyToMany(fetch = FetchType.LAZY)\r\n    @JoinTable(name=&quot;query_policy_county&quot;,\r\n            joinColumns = @JoinColumn(name=&quot;query&quot;, referencedColumnName = &quot;query_id&quot;),\r\n            inverseJoinColumns = @JoinColumn(name=&quot;policy_county&quot;, referencedColumnName = &quot;policy_county_id&quot;))\r\n    private Set&lt;PolicyCounty&gt; policyCounties=new HashSet&lt;&gt;();\r\n\r\n\r\n    @Column(name=&quot;comment&quot;,nullable = true)\r\n    private String comment;\r\n\r\n}\r\n```\r\nWhen I am calling the method- (annotated with @Transactional)\r\n```\r\n @Transactional\r\n    @Override\r\n    public long adNewUserQueries(UserDto userDto) {\r\n        User user=this.userRepository.findByEmail(userDto.getEmail());\r\n\r\n        if(user==null){\r\n            user=new User();\r\n        }\r\n        user.setEmail(userDto.getEmail());\r\n        user.setFirstName(userDto.getFirstName());\r\n        user.setLastName(userDto.getLastName());\r\n        user.setPhoneNumber(userDto.getPhoneNumber());\r\n\r\n        UserPolicyQuery userPolicyQuery=new UserPolicyQuery();\r\n        userPolicyQuery.setComment(userDto.getComment());\r\n\r\n        Set&lt;Long&gt; policyCountyIds=userDto.getPolicyCountyIds();\r\n        for(Long policyCountyId: policyCountyIds){\r\n            PolicyCounty policyCounty=new PolicyCounty();\r\n            policyCounty.setPolicyCountyId(policyCountyId);\r\n            userPolicyQuery.getPolicyCounties().add(policyCounty);\r\n        }\r\n        user.getUserPolicyQueries().add(userPolicyQuery);\r\n        User savedUser=this.userRepository.save(user);\r\n        System.out.println(savedUser.getUserPolicyQueries());\r\n        return savedUser.getUserPolicyQueries().size();\r\n    }\r\n```\r\nI get the following error-\r\n```\r\norg.hibernate.PropertyValueException: not-null property references a null or transient value : com.insurance.insurancebackend.entity.UserPolicyQuery.user\r\n```\r\nIf I remove (nullable=false) in  \r\n```\r\n @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name=&quot;user_id&quot;,nullable=false)\r\n    private User user;\r\n\r\n```\r\nThe foreign key column (user_id) gets set to null in the table. I am not able to understand why this is happening. When trying to save the user, the user details are saved, comment in the UserPolicyQuery table  is saved, but the foreign key column is left null. \r\nPlease help!","title":"Foreign Key column getting set to null when saving entity from One side in OneToMany relationship: Spring Boot and JPA","body":"<p>I have following entity-</p>\n<pre><code>package com.insurance.insurancebackend.entity;\n\nimport jakarta.persistence.*;\nimport lombok.Data;\n\nimport java.util.HashSet;\nimport java.util.Set;\n\n@Data\n@Entity\n@Table(name=&quot;user&quot;)\npublic class User {\n\n    @Id\n    @Column (name =&quot;userid&quot; )\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private long userId;\n\n    @Column(name=&quot;firstname&quot;,nullable = false)\n    private String firstName;\n\n\n    @Column(name=&quot;lastname&quot;,nullable = false)\n    private String lastName;\n\n\n    @Column(name = &quot;useremail&quot;,nullable = false,unique = true)\n    private String email;\n\n\n\n    @Column(name = &quot;phonenumber&quot;,nullable = false,unique = true)\n    private long phoneNumber;\n\n\n    @OneToMany(mappedBy = &quot;user&quot;,cascade = CascadeType.ALL,fetch = FetchType.LAZY)\n    private Set&lt;UserPolicyQuery&gt; userPolicyQueries = new HashSet&lt;&gt;();\n}\n\n</code></pre>\n<p>and</p>\n<pre><code>@Data\n@Entity\n@Table(name=&quot;user_policy_query&quot;)\npublic class UserPolicyQuery {\n\n    @Id\n    @Column(name=&quot;query_id&quot;)\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private long queryId;\n\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name=&quot;user_id&quot;,nullable=false)\n    private User user;\n\n    @ManyToMany(fetch = FetchType.LAZY)\n    @JoinTable(name=&quot;query_policy_county&quot;,\n            joinColumns = @JoinColumn(name=&quot;query&quot;, referencedColumnName = &quot;query_id&quot;),\n            inverseJoinColumns = @JoinColumn(name=&quot;policy_county&quot;, referencedColumnName = &quot;policy_county_id&quot;))\n    private Set&lt;PolicyCounty&gt; policyCounties=new HashSet&lt;&gt;();\n\n\n    @Column(name=&quot;comment&quot;,nullable = true)\n    private String comment;\n\n}\n</code></pre>\n<p>When I am calling the method- (annotated with @Transactional)</p>\n<pre><code> @Transactional\n    @Override\n    public long adNewUserQueries(UserDto userDto) {\n        User user=this.userRepository.findByEmail(userDto.getEmail());\n\n        if(user==null){\n            user=new User();\n        }\n        user.setEmail(userDto.getEmail());\n        user.setFirstName(userDto.getFirstName());\n        user.setLastName(userDto.getLastName());\n        user.setPhoneNumber(userDto.getPhoneNumber());\n\n        UserPolicyQuery userPolicyQuery=new UserPolicyQuery();\n        userPolicyQuery.setComment(userDto.getComment());\n\n        Set&lt;Long&gt; policyCountyIds=userDto.getPolicyCountyIds();\n        for(Long policyCountyId: policyCountyIds){\n            PolicyCounty policyCounty=new PolicyCounty();\n            policyCounty.setPolicyCountyId(policyCountyId);\n            userPolicyQuery.getPolicyCounties().add(policyCounty);\n        }\n        user.getUserPolicyQueries().add(userPolicyQuery);\n        User savedUser=this.userRepository.save(user);\n        System.out.println(savedUser.getUserPolicyQueries());\n        return savedUser.getUserPolicyQueries().size();\n    }\n</code></pre>\n<p>I get the following error-</p>\n<pre><code>org.hibernate.PropertyValueException: not-null property references a null or transient value : com.insurance.insurancebackend.entity.UserPolicyQuery.user\n</code></pre>\n<p>If I remove (nullable=false) in</p>\n<pre><code> @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name=&quot;user_id&quot;,nullable=false)\n    private User user;\n\n</code></pre>\n<p>The foreign key column (user_id) gets set to null in the table. I am not able to understand why this is happening. When trying to save the user, the user details are saved, comment in the UserPolicyQuery table  is saved, but the foreign key column is left null.\nPlease help!</p>\n"},{"tags":["java","spring","spring-boot","spring-bean"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1688026533,"post_id":76579196,"comment_id":135019302,"body_markdown":"A bean is an class instance (an object) managed by spring. All Spring beans are objects, not all objects are spring beans.","body":"A bean is an class instance (an object) managed by spring. All Spring beans are objects, not all objects are spring beans."}],"answers":[{"tags":[],"owner":{"account_id":13400505,"reputation":147,"user_id":9670202,"display_name":"Hellma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688028721,"creation_date":1688028721,"answer_id":76579505,"question_id":76579196,"body_markdown":"In Java development, a Spring Bean and a Java Object are related concepts and they have somewhat different purposes. The biggest difference is, that Spring Beans can only be used in the context of the Spring Framework.\r\n\r\n - Java Object: In the Java programming language, an object is an instance of a class. It represents a specific entity with its own set of properties (variables) and behaviors (methods).\r\n\r\n - Spring Bean: In the context of Spring, a bean is an object that is managed by the Spring IoC (Inversion of Control) container. The Spring framework is responsible for creating, initializing, and managing the lifecycle of beans. Beans are typically Java objects that are configured and managed by Spring.\r\n\r\nSpring as Framework offers some functions, such as:\r\n\r\n - Lifecycle management: Spring Beans are managed by the Spring container, which handles their creation, initialization, and destruction. Java Objects, on the other hand, are typically created and managed by the programmer manually.\r\n - Dependency injection: Spring Beans can benefit from dependency injection, which allows them to receive dependencies from the Spring container. This enables loose coupling and easier testing. Java Objects, on the other hand, do not have built-in support for dependency injection.\r\n\r\n- Configuration: Spring Beans are often defined and configured in XML or Java-based configuration files (what I do most), specifying their properties, dependencies, and other settings. Java Objects are typically instantiated and configured directly in Java-code.\r\n","title":"What are the differences between object and spring beans?","body":"<p>In Java development, a Spring Bean and a Java Object are related concepts and they have somewhat different purposes. The biggest difference is, that Spring Beans can only be used in the context of the Spring Framework.</p>\n<ul>\n<li><p>Java Object: In the Java programming language, an object is an instance of a class. It represents a specific entity with its own set of properties (variables) and behaviors (methods).</p>\n</li>\n<li><p>Spring Bean: In the context of Spring, a bean is an object that is managed by the Spring IoC (Inversion of Control) container. The Spring framework is responsible for creating, initializing, and managing the lifecycle of beans. Beans are typically Java objects that are configured and managed by Spring.</p>\n</li>\n</ul>\n<p>Spring as Framework offers some functions, such as:</p>\n<ul>\n<li><p>Lifecycle management: Spring Beans are managed by the Spring container, which handles their creation, initialization, and destruction. Java Objects, on the other hand, are typically created and managed by the programmer manually.</p>\n</li>\n<li><p>Dependency injection: Spring Beans can benefit from dependency injection, which allows them to receive dependencies from the Spring container. This enables loose coupling and easier testing. Java Objects, on the other hand, do not have built-in support for dependency injection.</p>\n</li>\n<li><p>Configuration: Spring Beans are often defined and configured in XML or Java-based configuration files (what I do most), specifying their properties, dependencies, and other settings. Java Objects are typically instantiated and configured directly in Java-code.</p>\n</li>\n</ul>\n"}],"owner":{"account_id":20586928,"reputation":9,"user_id":15111586,"display_name":"Amirreza Andishmand"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":201,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1688065607,"accepted_answer_id":76579505,"answer_count":1,"score":-2,"last_activity_date":1688028721,"creation_date":1688026369,"question_id":76579196,"body_markdown":"You may explain the differences between spring bean and object.\r\n\r\nI also still don&#39;t understand beans in spring What exactly is the role of spring beans in spring?\r\n\r\nApparently, the definition that beans form the main backbone of our application is not enough.","title":"What are the differences between object and spring beans?","body":"<p>You may explain the differences between spring bean and object.</p>\n<p>I also still don't understand beans in spring What exactly is the role of spring beans in spring?</p>\n<p>Apparently, the definition that beans form the main backbone of our application is not enough.</p>\n"},{"tags":["java","google-cloud-dataflow","apache-beam"],"comments":[{"owner":{"account_id":15285793,"reputation":1958,"user_id":11028850,"display_name":"Sakshi Gatyan"},"score":0,"creation_date":1688542704,"post_id":76479246,"comment_id":135085538,"body_markdown":"hi @Narendra, If my answer addressed your question, do consider accepting and upvoting it as per [Stack Overflow guidelines](https://stackoverflow.com/help/someone-answers), helping more Stack contributors with their researches.. If not, let me know so that I can improve my answer.","body":"hi @Narendra, If my answer addressed your question, do consider accepting and upvoting it as per <a href=\"https://stackoverflow.com/help/someone-answers\">Stack Overflow guidelines</a>, helping more Stack contributors with their researches.. If not, let me know so that I can improve my answer."}],"answers":[{"tags":[],"owner":{"account_id":15285793,"reputation":1958,"user_id":11028850,"display_name":"Sakshi Gatyan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688028670,"creation_date":1688028670,"answer_id":76579497,"question_id":76479246,"body_markdown":"Windowing is a fundamental concept that helps in dividing an unbounded collection of data into finite, manageable subsets called windows. The concept of windowing is used to group and process data based on time or other criteria, enabling time-based aggregations, sessionization, and more. It plays a crucial role in handling streaming and batch data processing scenarios.&lt;br&gt;&lt;br&gt;Since Windowing involves grouping and easy calculations using aggregate functions over the fixed windows, it can be said that windowing does help in performance.  &lt;br&gt;Official documentation on windowing can be found [here](https://beam.apache.org/documentation/programming-guide/#windowing).&lt;br&gt;","title":"What are the benefits of using windowing in Apache Beam?","body":"<p>Windowing is a fundamental concept that helps in dividing an unbounded collection of data into finite, manageable subsets called windows. The concept of windowing is used to group and process data based on time or other criteria, enabling time-based aggregations, sessionization, and more. It plays a crucial role in handling streaming and batch data processing scenarios.<br><br>Since Windowing involves grouping and easy calculations using aggregate functions over the fixed windows, it can be said that windowing does help in performance.  <br>Official documentation on windowing can be found <a href=\"https://beam.apache.org/documentation/programming-guide/#windowing\" rel=\"nofollow noreferrer\">here</a>.<br></p>\n"}],"owner":{"account_id":2697635,"reputation":1299,"user_id":2329241,"accept_rate":67,"display_name":"Narendra Jaggi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76579497,"answer_count":1,"score":-1,"last_activity_date":1688028670,"creation_date":1686805067,"question_id":76479246,"body_markdown":"For a streaming job, if we implement windowing like Fixed Windowing. **Will it help in terms of performance or scalling?** &lt;br&gt;I have checked windowing documentation but it doesn&#39;t mention anything about performance improvement or scalling improvements.&lt;br&gt; &lt;br&gt;\r\nWe have a job which will be consuming events which are from different services we don&#39;t really want to group them as they sinks independetly of each other.&lt;br&gt;\r\nThanks in Advance.\r\n","title":"What are the benefits of using windowing in Apache Beam?","body":"<p>For a streaming job, if we implement windowing like Fixed Windowing. <strong>Will it help in terms of performance or scalling?</strong> <br>I have checked windowing documentation but it doesn't mention anything about performance improvement or scalling improvements.<br> <br>\nWe have a job which will be consuming events which are from different services we don't really want to group them as they sinks independetly of each other.<br>\nThanks in Advance.</p>\n"},{"tags":["java","unit-testing","testing","junit"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1688026624,"post_id":76579206,"comment_id":135019318,"body_markdown":"How your test class looks like?","body":"How your test class looks like?"},{"owner":{"account_id":26084837,"reputation":1,"user_id":19782490,"display_name":"Jeyzihno"},"score":0,"creation_date":1688028162,"post_id":76579206,"comment_id":135019610,"body_markdown":"@Jens Add to question","body":"@Jens Add to question"},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1688030246,"post_id":76579206,"comment_id":135020103,"body_markdown":"Calling the class under test `Test` is rather confusing.","body":"Calling the class under test <code>Test</code> is rather confusing."}],"answers":[{"tags":[],"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688028382,"creation_date":1688028382,"answer_id":76579464,"question_id":76579206,"body_markdown":"use `@Spy` if you want to mock a class partially:\r\n\r\n    @ExtendWith(MockitoExtension.class)\r\n    class TestClass {\r\n        @Spy\r\n        Test service;\r\n    \r\n        @Test\r\n        void mainMethod() {\r\n            when(service.methodtWhichNeedMock(&quot;s1&quot;, &quot;s2&quot;)).thenReturn(&quot;new String&quot;);\r\n            assertEquals(&quot;new String&quot;, service.mainMethod());\r\n        }\r\n    }\r\n\r\n\r\nSo for all methods that are not mocked, the real code will be executed, for the rest the mock will be executed ","title":"How to mock method of testing class","body":"<p>use <code>@Spy</code> if you want to mock a class partially:</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\nclass TestClass {\n    @Spy\n    Test service;\n\n    @Test\n    void mainMethod() {\n        when(service.methodtWhichNeedMock(&quot;s1&quot;, &quot;s2&quot;)).thenReturn(&quot;new String&quot;);\n        assertEquals(&quot;new String&quot;, service.mainMethod());\n    }\n}\n</code></pre>\n<p>So for all methods that are not mocked, the real code will be executed, for the rest the mock will be executed</p>\n"}],"owner":{"account_id":26084837,"reputation":1,"user_id":19782490,"display_name":"Jeyzihno"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1688028382,"creation_date":1688026442,"question_id":76579206,"body_markdown":"How to mock method of testig class?\r\n\r\n\r\nFor example:\r\n\r\n\r\n```\r\nclass Test {\r\n\r\npublick String mainMethod() {\r\nString test = methdotWhichNeedMock(&quot;Hello&quot;, &quot;World&quot;);\r\nreturn test;\r\n}\r\npublic String methodtWhichNeedMock(String s1, String s2) {\r\nreturn s1 + s2;\r\n}\r\n\r\n}\r\n```\r\n\r\n\r\n\r\ni tried to use\r\n```\r\nwhen(test.methdotWhichNeedMock(s1 , s2)).thenReturn(&quot;result&quot;);\r\n```\r\nand many constructions like doThen..., but every try my programm doing logic of methdotWhichNeedMock method.\r\n\r\nMy TestClass:\r\n\r\n    @ExtendWith(MockitoExtension.class)\r\n    class TestClass {\r\n        @InjectMocks\r\n        Test service;\r\n    \r\n        @Test\r\n        void mainMethod() {\r\n            when(service.methodtWhichNeedMock(&quot;s1&quot;, &quot;s2&quot;)).thenReturn(&quot;new String&quot;);\r\n            assertEquals(&quot;new String&quot;, service.mainMethod());\r\n        }\r\n    }\r\n\r\n\r\nWhat should I do so that the logic of the methodtWhichNeedMock method doesn&#39;t execute, but just returns what I write in thenReturn when I try to call it?","title":"How to mock method of testing class","body":"<p>How to mock method of testig class?</p>\n<p>For example:</p>\n<pre><code>class Test {\n\npublick String mainMethod() {\nString test = methdotWhichNeedMock(&quot;Hello&quot;, &quot;World&quot;);\nreturn test;\n}\npublic String methodtWhichNeedMock(String s1, String s2) {\nreturn s1 + s2;\n}\n\n}\n</code></pre>\n<p>i tried to use</p>\n<pre><code>when(test.methdotWhichNeedMock(s1 , s2)).thenReturn(&quot;result&quot;);\n</code></pre>\n<p>and many constructions like doThen..., but every try my programm doing logic of methdotWhichNeedMock method.</p>\n<p>My TestClass:</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\nclass TestClass {\n    @InjectMocks\n    Test service;\n\n    @Test\n    void mainMethod() {\n        when(service.methodtWhichNeedMock(&quot;s1&quot;, &quot;s2&quot;)).thenReturn(&quot;new String&quot;);\n        assertEquals(&quot;new String&quot;, service.mainMethod());\n    }\n}\n</code></pre>\n<p>What should I do so that the logic of the methodtWhichNeedMock method doesn't execute, but just returns what I write in thenReturn when I try to call it?</p>\n"},{"tags":["java","mysql","spring","jpa","intellij-idea"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1688013830,"post_id":76578033,"comment_id":135017381,"body_markdown":"Why you have added the \\n? It is not needed.","body":"Why you have added the \\n? It is not needed."},{"owner":{"account_id":18683356,"reputation":23,"user_id":13619430,"display_name":"Hoang Phan"},"score":0,"creation_date":1688014359,"post_id":76578033,"comment_id":135017433,"body_markdown":"it is automatically formatted by IntelliJ,  \\n means new line","body":"it is automatically formatted by IntelliJ,  \\n means new line"},{"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1688014746,"post_id":76578033,"comment_id":135017467,"body_markdown":"@HoangPhan When you cut and paste your CTE + query into IntelliJ, IntelliJ added that formatting.  You need to remove it to get back to the original SQL code.  Printing the string is one easy way to do that.","body":"@HoangPhan When you cut and paste your CTE + query into IntelliJ, IntelliJ added that formatting.  You need to remove it to get back to the original SQL code.  Printing the string is one easy way to do that."},{"owner":{"account_id":10007976,"reputation":1,"user_id":7401759,"display_name":"Vlad Ded"},"score":0,"creation_date":1688021898,"post_id":76578033,"comment_id":135018375,"body_markdown":"Seems like you can take advantage of this IntelliJ feature:\nhttps://stackoverflow.com/questions/31699115/intellij-idea-reverse-paste-into-string-aka-copy-from-string","body":"Seems like you can take advantage of this IntelliJ feature: <a href=\"https://stackoverflow.com/questions/31699115/intellij-idea-reverse-paste-into-string-aka-copy-from-string\" title=\"intellij idea reverse paste into string aka copy from string\">stackoverflow.com/questions/31699115/&hellip;</a>"},{"owner":{"account_id":18683356,"reputation":23,"user_id":13619430,"display_name":"Hoang Phan"},"score":0,"creation_date":1688022816,"post_id":76578033,"comment_id":135018547,"body_markdown":"thanks @VladDed, these are the things that I am finding.","body":"thanks @VladDed, these are the things that I am finding."}],"answers":[{"tags":[],"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688013293,"creation_date":1688013293,"answer_id":76578084,"question_id":76578033,"body_markdown":"You may do the following:\r\n\r\n 1. Add a `public static void main()` method to your current class.\r\n 2. Cut and paste the query string as `String value = &quot; with cte as ...&quot;`\r\n 3. Add a `println()` in the `main()` method\r\n\r\nThen run your `main()` method and you should be able to cut and paste that output into your SQL tool.","title":"How to get pure String value from SQL format in IntelliJ?","body":"<p>You may do the following:</p>\n<ol>\n<li>Add a <code>public static void main()</code> method to your current class.</li>\n<li>Cut and paste the query string as <code>String value = &quot; with cte as ...&quot;</code></li>\n<li>Add a <code>println()</code> in the <code>main()</code> method</li>\n</ol>\n<p>Then run your <code>main()</code> method and you should be able to cut and paste that output into your SQL tool.</p>\n"},{"tags":[],"owner":{"account_id":3169,"reputation":24369,"user_id":4510,"display_name":"Bas Leijdekkers"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688027971,"creation_date":1688027971,"answer_id":76579410,"question_id":76578033,"body_markdown":"Type &lt;kbd&gt;Alt&lt;/kbd&gt;+&lt;kbd&gt;Enter&lt;/kbd&gt; on the query string and invoke `Copy string concatenation text to the clipboard`. \r\n\r\nAlso if you are working on Java 15 or higher, consider converting the string concatenation to a Text Block. (IntelliJ IDEA has a &quot;Text block can be used&quot; inspection for that). Text blocks are easier to copy and paste and easier to read as well:\r\n\r\n```java\r\n    @Query(value = &quot;&quot;&quot;\r\n         with cte as (\r\n            select id, 1 as quantity\r\n            from product\r\n            where id = :productId\r\n            union all\r\n            select distinct combo_id as id,\r\n                            quantity\r\n            from combo\r\n            where product_id = :productId),\r\n             result as (\r\n                 select o.product_id, o.quantity * c.quantity as &#39;quantity&#39;\r\n                 from order_product o\r\n                          inner join cte c\r\n                                     on o.product_id = c.id\r\n             )\r\n        select sum(quantity)\r\n        from result&quot;&quot;&quot;, nativeQuery = true)\r\n    Object method(@Param(&quot;productId&quot;) String productId);\r\n```","title":"How to get pure String value from SQL format in IntelliJ?","body":"<p>Type <kbd>Alt</kbd>+<kbd>Enter</kbd> on the query string and invoke <code>Copy string concatenation text to the clipboard</code>.</p>\n<p>Also if you are working on Java 15 or higher, consider converting the string concatenation to a Text Block. (IntelliJ IDEA has a &quot;Text block can be used&quot; inspection for that). Text blocks are easier to copy and paste and easier to read as well:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Query(value = &quot;&quot;&quot;\n         with cte as (\n            select id, 1 as quantity\n            from product\n            where id = :productId\n            union all\n            select distinct combo_id as id,\n                            quantity\n            from combo\n            where product_id = :productId),\n             result as (\n                 select o.product_id, o.quantity * c.quantity as 'quantity'\n                 from order_product o\n                          inner join cte c\n                                     on o.product_id = c.id\n             )\n        select sum(quantity)\n        from result&quot;&quot;&quot;, nativeQuery = true)\n    Object method(@Param(&quot;productId&quot;) String productId);\n</code></pre>\n"}],"owner":{"account_id":18683356,"reputation":23,"user_id":13619430,"display_name":"Hoang Phan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":126,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76579410,"answer_count":2,"score":-1,"last_activity_date":1688027971,"creation_date":1688012585,"question_id":76578033,"body_markdown":"\r\n\r\n```\r\n    @Query(value = &quot; with cte as (\\n&quot; +\r\n            &quot;    select id, 1 as quantity\\n&quot; +\r\n            &quot;    from product\\n&quot; +\r\n            &quot;    where id = :productId\\n&quot; +\r\n            &quot;    union all\\n&quot; +\r\n            &quot;    select distinct combo_id as id,\\n&quot; +\r\n            &quot;                    quantity\\n&quot; +\r\n            &quot;    from combo\\n&quot; +\r\n            &quot;    where product_id = :productId),\\n&quot; +\r\n            &quot;     result as (\\n&quot; +\r\n            &quot;         select o.product_id, o.quantity * c.quantity as &#39;quantity&#39;\\n&quot; +\r\n            &quot;         from order_product o\\n&quot; +\r\n            &quot;                  inner join cte c\\n&quot; +\r\n            &quot;                             on o.product_id = c.id\\n&quot; +\r\n            &quot;     )\\n&quot; +\r\n            &quot;select sum(quantity)\\n&quot; +\r\n            &quot;from result&quot;, nativeQuery = true)\r\n    Object method(@Param(&quot;productId&quot;) String productId);\r\n\r\n```\r\nI am using Spring Jpa to write the SQL query, the IntelliJ supports me to reformat SQL easy to read.\r\nHowever, when I try to copy this SQL to run in the database, it has a lot of redundant characters I need to remove such as + &quot; \\n. How can I do for copying only the value of this query?\r\n","title":"How to get pure String value from SQL format in IntelliJ?","body":"<pre><code>    @Query(value = &quot; with cte as (\\n&quot; +\n            &quot;    select id, 1 as quantity\\n&quot; +\n            &quot;    from product\\n&quot; +\n            &quot;    where id = :productId\\n&quot; +\n            &quot;    union all\\n&quot; +\n            &quot;    select distinct combo_id as id,\\n&quot; +\n            &quot;                    quantity\\n&quot; +\n            &quot;    from combo\\n&quot; +\n            &quot;    where product_id = :productId),\\n&quot; +\n            &quot;     result as (\\n&quot; +\n            &quot;         select o.product_id, o.quantity * c.quantity as 'quantity'\\n&quot; +\n            &quot;         from order_product o\\n&quot; +\n            &quot;                  inner join cte c\\n&quot; +\n            &quot;                             on o.product_id = c.id\\n&quot; +\n            &quot;     )\\n&quot; +\n            &quot;select sum(quantity)\\n&quot; +\n            &quot;from result&quot;, nativeQuery = true)\n    Object method(@Param(&quot;productId&quot;) String productId);\n\n</code></pre>\n<p>I am using Spring Jpa to write the SQL query, the IntelliJ supports me to reformat SQL easy to read.\nHowever, when I try to copy this SQL to run in the database, it has a lot of redundant characters I need to remove such as + &quot; \\n. How can I do for copying only the value of this query?</p>\n"},{"tags":["java","android","ios","flutter","network-programming"],"owner":{"account_id":16226267,"reputation":225,"user_id":11716502,"display_name":"kapil tk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688027772,"creation_date":1687950773,"question_id":76572622,"body_markdown":"While using STC network connection which blocks to open my android app. Anyone have an idea about this?\r\n\r\nThis happens from the countries like Kuwait. Is this is network related issue or device specific? This happens only for a few of our users....","title":"STC Network blocks my android application","body":"<p>While using STC network connection which blocks to open my android app. Anyone have an idea about this?</p>\n<p>This happens from the countries like Kuwait. Is this is network related issue or device specific? This happens only for a few of our users....</p>\n"},{"tags":["java","webhooks","braintree","micronaut","x-www-form-urlencoded"],"answers":[{"tags":[],"owner":{"account_id":24603296,"reputation":624,"user_id":18505867,"display_name":"ShingJo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652980368,"creation_date":1652980368,"answer_id":72308588,"question_id":72135242,"body_markdown":"Try:\r\n```\r\n@Post(consumes = MediaType.APPLICATION_FORM_URLENCODED)\r\npublic HttpResponse&lt;?&gt; consumeWebhook(String bt_signature, String bt_payload)\r\n```\r\n\r\nBTW: What &#39;illegal characters&#39; were in the body that was logged?","title":"Braintree webhooks: Error: payload contains illegal characters","body":"<p>Try:</p>\n<pre><code>@Post(consumes = MediaType.APPLICATION_FORM_URLENCODED)\npublic HttpResponse&lt;?&gt; consumeWebhook(String bt_signature, String bt_payload)\n</code></pre>\n<p>BTW: What 'illegal characters' were in the body that was logged?</p>\n"},{"tags":[],"owner":{"account_id":15963805,"reputation":1,"user_id":11520075,"display_name":"Joan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688027174,"creation_date":1688027174,"answer_id":76579294,"question_id":72135242,"body_markdown":"In Java with Quarkus, instead of using \r\n\r\n&gt; @Body String body\r\n\r\nas the parameters are of type x-www-form-urlencoded you can use \r\n\r\n&gt; @FormParam(&quot;bt_signature&quot;) String btSignature,\r\n&gt; @FormParam(&quot;bt_payload&quot;) String btPayload.\r\n\r\nWhat your problem refers to, may be solved by doing a whitespace replace with a line break. Because the braintree library parse has the following validation regex, and in btPayload I have encountered whitespace:\r\n\r\n    private static final Pattern PAYLOAD_CHARS_PATTERN = Pattern.compile(&quot;[^A-Za-z0-9+=/\\n]&quot;\r\n    \r\n\r\nSolution:\r\n\r\n    btPayload = btPayload.replaceAll(&quot; &quot;, &quot;\\n&quot;);\r\n    WebhookNotification webhookNotification = gateway.webhookNotification()\r\n                        .parse(btSignature, btPayload);\r\n\r\n","title":"Braintree webhooks: Error: payload contains illegal characters","body":"<p>In Java with Quarkus, instead of using</p>\n<blockquote>\n<p>@Body String body</p>\n</blockquote>\n<p>as the parameters are of type x-www-form-urlencoded you can use</p>\n<blockquote>\n<p>@FormParam(&quot;bt_signature&quot;) String btSignature,\n@FormParam(&quot;bt_payload&quot;) String btPayload.</p>\n</blockquote>\n<p>What your problem refers to, may be solved by doing a whitespace replace with a line break. Because the braintree library parse has the following validation regex, and in btPayload I have encountered whitespace:</p>\n<pre><code>private static final Pattern PAYLOAD_CHARS_PATTERN = Pattern.compile(&quot;[^A-Za-z0-9+=/\\n]&quot;\n</code></pre>\n<p>Solution:</p>\n<pre><code>btPayload = btPayload.replaceAll(&quot; &quot;, &quot;\\n&quot;);\nWebhookNotification webhookNotification = gateway.webhookNotification()\n                    .parse(btSignature, btPayload);\n</code></pre>\n"}],"owner":{"account_id":272032,"reputation":671,"user_id":562895,"accept_rate":84,"display_name":"Miriam H."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":241,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1688027174,"creation_date":1651800785,"question_id":72135242,"body_markdown":"I am trying to consume Braintree webhooks in a java microservice (Micronaut fwiw). \r\n\r\nThe issue that I&#39;m having is that when I try to parse the webhook body, I get an error: &quot; Error: payload contains illegal characters&quot;, which it does. So I&#39;m wondering if maybe I&#39;m casting the request body to something thats inserting the characters...? (the body is `x-www-form-urlencoded`)\r\n\r\n    package com.autonomy;\r\n    \r\n    import com.braintreegateway.*;\r\n    import event_broker.BrokerServiceGrpc;\r\n    import event_broker.EventBroker;\r\n    import events.Events;\r\n    import io.grpc.ManagedChannel;\r\n    import io.grpc.ManagedChannelBuilder;\r\n    import io.micronaut.context.annotation.Value;\r\n    import io.micronaut.http.HttpStatus;\r\n    import io.micronaut.http.MediaType;\r\n    import io.micronaut.http.annotation.Body;\r\n    import io.micronaut.http.annotation.Controller;\r\n    import io.micronaut.http.annotation.Post;\r\n    import io.micronaut.http.HttpResponse;\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import java.text.Normalizer;\r\n    import java.time.Clock;\r\n    import java.util.Arrays;\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    \r\n    \r\n    @Controller(&quot;/webhooks&quot;)\r\n    public class WebhooksController {\r\n        private final Logger logger = LoggerFactory.getLogger(&quot;BraintreeServiceJava&quot;);\r\n\r\n        @Value(&quot;${env}&quot;) String env;\r\n        @Value(&quot;${braintree.merchant.id}&quot;) String braintreeMerchantId;\r\n        @Value(&quot;${braintree.public.key}&quot;) String braintreePublicKey;\r\n        @Value(&quot;${braintree.private.key}&quot;) String braintreePrivateKey;\r\n        \r\n        @Post(consumes = MediaType.APPLICATION_FORM_URLENCODED)\r\n        public HttpResponse&lt;?&gt; consumeWebhook(@Body String body) {\r\n            BraintreeGateway gateway =\r\n                    new BraintreeGateway(determineEnv(env),\r\n                            braintreeMerchantId,\r\n                            braintreePublicKey,\r\n                            braintreePrivateKey\r\n                    );\r\n            logger.info(body);\r\n            try {\r\n                String decodedBody = body; // was doing a decode here that didn&#39;t do anything\r\n                logger.info(decodedBody);\r\n                Map&lt;String, String&gt; map = new HashMap&lt;&gt;();\r\n                Arrays.stream(decodedBody.split(&quot;&amp;&quot;)).toList().forEach(pair -&gt; {\r\n                    String[] param = pair.split(&quot;=&quot;);\r\n                    map.put(param[0], param[1]);\r\n                });\r\n                WebhookNotification webhookNotification = gateway.webhookNotification().parse(\r\n                        map.get(&quot;bt_signature&quot;),\r\n                        map.get(&quot;bt_payload&quot;)\r\n                );\r\n                \r\n            ..... Do stuff\r\n    \r\n            } catch (Exception e) {\r\n                logger.error(String.format(&quot;Braintree webhook failed for %s. Error: %s&quot;, kind, e.getMessage()), e);\r\n                return HttpResponse.status(HttpStatus.BAD_REQUEST);\r\n            }\r\n    \r\n            return HttpResponse.status(HttpStatus.OK);\r\n        }\r\n    \r\n        private Environment determineEnv(String env) {\r\n            if (env.equals(&quot;beta&quot;) || env.equals(&quot;prod&quot;)) {\r\n                return Environment.PRODUCTION;\r\n            } else {\r\n                return Environment.SANDBOX;\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Braintree webhooks: Error: payload contains illegal characters","body":"<p>I am trying to consume Braintree webhooks in a java microservice (Micronaut fwiw).</p>\n<p>The issue that I'm having is that when I try to parse the webhook body, I get an error: &quot; Error: payload contains illegal characters&quot;, which it does. So I'm wondering if maybe I'm casting the request body to something thats inserting the characters...? (the body is <code>x-www-form-urlencoded</code>)</p>\n<pre><code>package com.autonomy;\n\nimport com.braintreegateway.*;\nimport event_broker.BrokerServiceGrpc;\nimport event_broker.EventBroker;\nimport events.Events;\nimport io.grpc.ManagedChannel;\nimport io.grpc.ManagedChannelBuilder;\nimport io.micronaut.context.annotation.Value;\nimport io.micronaut.http.HttpStatus;\nimport io.micronaut.http.MediaType;\nimport io.micronaut.http.annotation.Body;\nimport io.micronaut.http.annotation.Controller;\nimport io.micronaut.http.annotation.Post;\nimport io.micronaut.http.HttpResponse;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport java.text.Normalizer;\nimport java.time.Clock;\nimport java.util.Arrays;\nimport java.util.HashMap;\nimport java.util.Map;\n\n\n@Controller(&quot;/webhooks&quot;)\npublic class WebhooksController {\n    private final Logger logger = LoggerFactory.getLogger(&quot;BraintreeServiceJava&quot;);\n\n    @Value(&quot;${env}&quot;) String env;\n    @Value(&quot;${braintree.merchant.id}&quot;) String braintreeMerchantId;\n    @Value(&quot;${braintree.public.key}&quot;) String braintreePublicKey;\n    @Value(&quot;${braintree.private.key}&quot;) String braintreePrivateKey;\n    \n    @Post(consumes = MediaType.APPLICATION_FORM_URLENCODED)\n    public HttpResponse&lt;?&gt; consumeWebhook(@Body String body) {\n        BraintreeGateway gateway =\n                new BraintreeGateway(determineEnv(env),\n                        braintreeMerchantId,\n                        braintreePublicKey,\n                        braintreePrivateKey\n                );\n        logger.info(body);\n        try {\n            String decodedBody = body; // was doing a decode here that didn't do anything\n            logger.info(decodedBody);\n            Map&lt;String, String&gt; map = new HashMap&lt;&gt;();\n            Arrays.stream(decodedBody.split(&quot;&amp;&quot;)).toList().forEach(pair -&gt; {\n                String[] param = pair.split(&quot;=&quot;);\n                map.put(param[0], param[1]);\n            });\n            WebhookNotification webhookNotification = gateway.webhookNotification().parse(\n                    map.get(&quot;bt_signature&quot;),\n                    map.get(&quot;bt_payload&quot;)\n            );\n            \n        ..... Do stuff\n\n        } catch (Exception e) {\n            logger.error(String.format(&quot;Braintree webhook failed for %s. Error: %s&quot;, kind, e.getMessage()), e);\n            return HttpResponse.status(HttpStatus.BAD_REQUEST);\n        }\n\n        return HttpResponse.status(HttpStatus.OK);\n    }\n\n    private Environment determineEnv(String env) {\n        if (env.equals(&quot;beta&quot;) || env.equals(&quot;prod&quot;)) {\n            return Environment.PRODUCTION;\n        } else {\n            return Environment.SANDBOX;\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","selenium-webdriver","ashot"],"owner":{"account_id":26059470,"reputation":11,"user_id":19761063,"display_name":"Sam runup"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1688026972,"creation_date":1687929522,"question_id":76570232,"body_markdown":"I am using Java &amp; Selenium and have been able to successfully capture and validate full page screenshot using Ashot(As documented at imagium.io)\r\n\r\n**However I am not able to get a snapshot and test only a chart element of my web app.\r\n**\r\n\r\nThe following code returns nothing, what am I doing wrong? (no error)\r\n\r\n```\r\nWebElement element = driver.findElement(By.id(&quot;elementId&quot;));\r\nScreenshot screenshot = new AShot()\r\n        .coordsProvider(new WebDriverCoordsProvider())\r\n        .shootingStrategy(ShootingStrategies.viewportPasting(1000))\r\n        .takeScreenshot(driver, element);\r\n\r\nByteArrayOutputStream out = new  ByteArrayOutputStream(); \r\n\t\tImageIO.write(screenshot.getImage(),&quot;PNG&quot;, out);\r\n\t\tbyte[] bytes = out.toByteArray();\r\n\t\tString imagebase64 = Base64.encodeBase64String(bytes);\t\r\n\r\n```\r\n\r\nI am not restricting myself to Ashot alone, any other suggestions are welcome.\r\n\r\n\r\n","title":"How to perform element based visual testing using imagium?","body":"<p>I am using Java &amp; Selenium and have been able to successfully capture and validate full page screenshot using Ashot(As documented at imagium.io)</p>\n<p>**However I am not able to get a snapshot and test only a chart element of my web app.\n**</p>\n<p>The following code returns nothing, what am I doing wrong? (no error)</p>\n<pre><code>WebElement element = driver.findElement(By.id(&quot;elementId&quot;));\nScreenshot screenshot = new AShot()\n        .coordsProvider(new WebDriverCoordsProvider())\n        .shootingStrategy(ShootingStrategies.viewportPasting(1000))\n        .takeScreenshot(driver, element);\n\nByteArrayOutputStream out = new  ByteArrayOutputStream(); \n        ImageIO.write(screenshot.getImage(),&quot;PNG&quot;, out);\n        byte[] bytes = out.toByteArray();\n        String imagebase64 = Base64.encodeBase64String(bytes);  \n\n</code></pre>\n<p>I am not restricting myself to Ashot alone, any other suggestions are welcome.</p>\n"},{"tags":["java","spring-boot","metrics","spring-boot-actuator","spring-micrometer"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1687932861,"post_id":76568855,"comment_id":135004379,"body_markdown":"Did you enable loadtime or compile time weaving? WIthout it this won&#39;t work.","body":"Did you enable loadtime or compile time weaving? WIthout it this won&#39;t work."},{"owner":{"account_id":14482834,"reputation":3894,"user_id":10461625,"display_name":"PatPanda"},"score":0,"creation_date":1687939537,"post_id":76568855,"comment_id":135005461,"body_markdown":"Hey, thank you for looking into this. &quot;loadtime or compile time weaving&quot; I do not think I did. How to please?","body":"Hey, thank you for looking into this. &quot;loadtime or compile time weaving&quot; I do not think I did. How to please?"}],"owner":{"account_id":14482834,"reputation":3894,"user_id":10461625,"display_name":"PatPanda"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":175,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688025960,"creation_date":1687902523,"question_id":76568855,"body_markdown":"*What I am trying to achieve:*\r\n\r\nGather some metrics, such as **time** using micrometer on a SpringBoot application within a **reactive** pipeline.\r\n\r\n*what I tried:*\r\n\r\n```\r\n    @Bean\r\n    public TimedAspect timedAspect(final MeterRegistry registry) {\r\n        return new TimedAspect(registry);\r\n    }\r\n```\r\n\r\n```\r\n@Service\r\npublic class MyClass {\r\n\r\n    public Flux&lt;String&gt; mainReactivePipelineETL() {\r\n        return Flux.interval(Duration.ofSeconds(1)) //Actual would be an aggressive flux from Kafka or http\r\n                .map(i -&gt; transformToComplexStringMethodIssueWithTimed(i));\r\n    }\r\n\r\n    @Timed(&quot;search_for_me&quot;)\r\n    private String transformToComplexStringMethodIssueWithTimed(Long i) {\r\n        //do some complex transformations from an input to an output\r\n        // I would like to time this operation, just this method\r\n        // The time varies for each transformation, again, this is invoked within a reactive pipeline\r\n        return ...;\r\n    }\r\n\r\n}\r\n```\r\n\r\n```\r\n &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-aspects&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n            &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\r\n            &lt;artifactId&gt;micrometer-registry-prometheus&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\n*Issue:*\r\n\r\nAs you can see, following the reference guide https://micrometer.io/docs/concepts#_timers, I have in my code the proper @Configuration (see class above) for the TimedAspect\r\n\r\nBesides that, I do have the annotation on my method ```@Timed(&quot;search_for_me&quot;)```\r\n\r\nWith all, I am still not able to see these particular metrics (I do see a bunch of other metrics from micrometer, just not this one ```@Timed(&quot;search_for_me&quot;)```)\r\n\r\nFor instance, for the first 3 elements of my flux, let&#39;s say in this example, the first &quot;transformation: takes 10ms, the second takes 5ms, the third takes 20ms, I was hoping to see the metrics with:\r\n\r\n- a count of three\r\n- 10ms -&gt; 5ms -&gt; 20ms (so that I can plot that in a graph)\r\n\r\nHowever, nothing\r\n\r\n*Question:*\r\n\r\nWhat is the proper way to get those metrics in this reactive app?","title":"SpringBoot reactive, issue timing @Timed with micrometer","body":"<p><em>What I am trying to achieve:</em></p>\n<p>Gather some metrics, such as <strong>time</strong> using micrometer on a SpringBoot application within a <strong>reactive</strong> pipeline.</p>\n<p><em>what I tried:</em></p>\n<pre><code>    @Bean\n    public TimedAspect timedAspect(final MeterRegistry registry) {\n        return new TimedAspect(registry);\n    }\n</code></pre>\n<pre><code>@Service\npublic class MyClass {\n\n    public Flux&lt;String&gt; mainReactivePipelineETL() {\n        return Flux.interval(Duration.ofSeconds(1)) //Actual would be an aggressive flux from Kafka or http\n                .map(i -&gt; transformToComplexStringMethodIssueWithTimed(i));\n    }\n\n    @Timed(&quot;search_for_me&quot;)\n    private String transformToComplexStringMethodIssueWithTimed(Long i) {\n        //do some complex transformations from an input to an output\n        // I would like to time this operation, just this method\n        // The time varies for each transformation, again, this is invoked within a reactive pipeline\n        return ...;\n    }\n\n}\n</code></pre>\n<pre><code> &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-aspects&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n&lt;dependency&gt;\n            &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\n            &lt;artifactId&gt;micrometer-registry-prometheus&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p><em>Issue:</em></p>\n<p>As you can see, following the reference guide <a href=\"https://micrometer.io/docs/concepts#_timers\" rel=\"nofollow noreferrer\">https://micrometer.io/docs/concepts#_timers</a>, I have in my code the proper @Configuration (see class above) for the TimedAspect</p>\n<p>Besides that, I do have the annotation on my method <code>@Timed(&quot;search_for_me&quot;)</code></p>\n<p>With all, I am still not able to see these particular metrics (I do see a bunch of other metrics from micrometer, just not this one <code>@Timed(&quot;search_for_me&quot;)</code>)</p>\n<p>For instance, for the first 3 elements of my flux, let's say in this example, the first &quot;transformation: takes 10ms, the second takes 5ms, the third takes 20ms, I was hoping to see the metrics with:</p>\n<ul>\n<li>a count of three</li>\n<li>10ms -&gt; 5ms -&gt; 20ms (so that I can plot that in a graph)</li>\n</ul>\n<p>However, nothing</p>\n<p><em>Question:</em></p>\n<p>What is the proper way to get those metrics in this reactive app?</p>\n"},{"tags":["java","angular","angular2-routing","angular-routing","angular-router"],"comments":[{"owner":{"account_id":9953766,"reputation":17475,"user_id":7365461,"display_name":"AliF50"},"score":1,"creation_date":1603402881,"post_id":64490770,"comment_id":114035085,"body_markdown":"https://stackoverflow.com/a/47880387/7365461 https://stackoverflow.com/a/48866813/7365461\nCheck out those links.\\","body":"<a href=\"https://stackoverflow.com/a/47880387/7365461\">stackoverflow.com/a/47880387/7365461</a> <a href=\"https://stackoverflow.com/a/48866813/7365461\">stackoverflow.com/a/48866813/7365461</a> Check out those links.\\"},{"owner":{"account_id":4086110,"reputation":511,"user_id":3355351,"accept_rate":79,"display_name":"Franky238"},"score":0,"creation_date":1603403611,"post_id":64490770,"comment_id":114035327,"body_markdown":"@AliF50 From my point of view creating service for one previous url is little bit overkill in case of 1 or 2 time usage","body":"@AliF50 From my point of view creating service for one previous url is little bit overkill in case of 1 or 2 time usage"},{"owner":{"account_id":9953766,"reputation":17475,"user_id":7365461,"display_name":"AliF50"},"score":0,"creation_date":1603403740,"post_id":64490770,"comment_id":114035366,"body_markdown":"I agree but the first link I posted doesn&#39;t have to be in a service, it can be in a component.","body":"I agree but the first link I posted doesn&#39;t have to be in a service, it can be in a component."},{"owner":{"account_id":1073176,"reputation":3217,"user_id":1071967,"accept_rate":61,"display_name":"Geek"},"score":0,"creation_date":1603733432,"post_id":64490770,"comment_id":114123757,"body_markdown":"@AliF50. Thank you. how do i get the value of param from the redirect link say for example events[0].urlAfterRedirects gives me &#39;/inventoryDetails;test=0;id=45&#39;, I want to get the value of id from this. How can i do without using subString","body":"@AliF50. Thank you. how do i get the value of param from the redirect link say for example events[0].urlAfterRedirects gives me &#39;/inventoryDetails;test=0;id=45&#39;, I want to get the value of id from this. How can i do without using subString"},{"owner":{"account_id":9953766,"reputation":17475,"user_id":7365461,"display_name":"AliF50"},"score":0,"creation_date":1603734903,"post_id":64490770,"comment_id":114124398,"body_markdown":"I wouldn&#39;t mind using `substring` for that but try logging out `events[0]` (console.log(events[0]) to see if you get a params object or anything of that sort that can give you extra information.","body":"I wouldn&#39;t mind using <code>substring</code> for that but try logging out <code>events[0]</code> (console.log(events[0]) to see if you get a params object or anything of that sort that can give you extra information."}],"answers":[{"tags":[],"owner":{"account_id":4086110,"reputation":511,"user_id":3355351,"accept_rate":79,"display_name":"Franky238"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1603403444,"creation_date":1603403444,"answer_id":64491015,"question_id":64490770,"body_markdown":"Here comes `getCurrentNavigation()` used with optional chaining (question mark) because it can be `null`. There you can take `previousNavigation` and `finalUrl` will return you an `UrlTree`. Next just execute navigation on `finalUrl` if it is not null.\r\n\r\n    const urlTree = this.router.getCurrentNavigation()?.previousNavigation?.finalUrl;\r\n    if (urlTree) { \r\n      this.router.navigateByUrl(urlTree);\r\n    }\r\n       ","title":"How to get previous route - route from where i came to current page","body":"<p>Here comes <code>getCurrentNavigation()</code> used with optional chaining (question mark) because it can be <code>null</code>. There you can take <code>previousNavigation</code> and <code>finalUrl</code> will return you an <code>UrlTree</code>. Next just execute navigation on <code>finalUrl</code> if it is not null.</p>\n<pre><code>const urlTree = this.router.getCurrentNavigation()?.previousNavigation?.finalUrl;\nif (urlTree) { \n  this.router.navigateByUrl(urlTree);\n}\n   \n</code></pre>\n"}],"owner":{"account_id":1073176,"reputation":3217,"user_id":1071967,"accept_rate":61,"display_name":"Geek"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":530,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1688025917,"creation_date":1603401979,"question_id":64490770,"body_markdown":"There are different ways through which I know the current route in angular.  \r\nI would like to know the previous route. Say for example I&#39;m in a tab  \r\n`http://localhost:4200/test/testNav/ABC`.  \r\nNow, I click another tab that takes me to  \r\n`http://localhost:4200/test/SampleNav/XYZ`.\r\n\r\nIn the `ngOnInit()` method of this HTML &quot;http://localhost:4200/test/SampleNav/XYZ&quot; I want to get the previous URL which is /ABC.\r\n\r\n`this.router.url`, `this.activatedRoute.snapshot` all gives me the currenturl.  \r\n\r\nIs there a way to get the previous URL from the available angular components?\r\n\r\nBasically, when I come to XYZ page from ABC I should do something and when I come to XYZ from CBA I should do something else. Any inputs highly appreciated.","title":"How to get previous route - route from where i came to current page","body":"<p>There are different ways through which I know the current route in angular.<br />\nI would like to know the previous route. Say for example I'm in a tab<br />\n<code>http://localhost:4200/test/testNav/ABC</code>.<br />\nNow, I click another tab that takes me to<br />\n<code>http://localhost:4200/test/SampleNav/XYZ</code>.</p>\n<p>In the <code>ngOnInit()</code> method of this HTML &quot;http://localhost:4200/test/SampleNav/XYZ&quot; I want to get the previous URL which is /ABC.</p>\n<p><code>this.router.url</code>, <code>this.activatedRoute.snapshot</code> all gives me the currenturl.</p>\n<p>Is there a way to get the previous URL from the available angular components?</p>\n<p>Basically, when I come to XYZ page from ABC I should do something and when I come to XYZ from CBA I should do something else. Any inputs highly appreciated.</p>\n"},{"tags":["java","flutter","flutter-dependencies"],"comments":[{"owner":{"account_id":14565372,"reputation":683,"user_id":10520293,"display_name":"Prashant"},"score":1,"creation_date":1687951223,"post_id":76572277,"comment_id":135007920,"body_markdown":"You can&#39;t use Java code via platform channels directly in any other operating system except android. For Windows you need to do native code in C++ and for MacOS you need to code natively in Objective C. To learn more, check this: https://docs.flutter.dev/platform-integration/platform-channels?tab=type-mappings-c-plus-plus-tab","body":"You can&#39;t use Java code via platform channels directly in any other operating system except android. For Windows you need to do native code in C++ and for MacOS you need to code natively in Objective C. To learn more, check this: <a href=\"https://docs.flutter.dev/platform-integration/platform-channels?tab=type-mappings-c-plus-plus-tab\" rel=\"nofollow noreferrer\">docs.flutter.dev/platform-integration/&hellip;</a>"},{"owner":{"account_id":13294099,"reputation":49274,"user_id":9597706,"display_name":"Richard Heap"},"score":0,"creation_date":1687957964,"post_id":76572277,"comment_id":135009427,"body_markdown":"Or use FFI to call a C library, or if you have the Java source, port it to Dart.","body":"Or use FFI to call a C library, or if you have the Java source, port it to Dart."}],"owner":{"account_id":28911315,"reputation":1,"user_id":22144255,"display_name":"Yves Khalil"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688025487,"creation_date":1687947958,"question_id":76572277,"body_markdown":"I need to add a library written in java to flutter desktop application\r\n\r\nI did research and I only found how to do it for android apps, some people mentioned that it is possible to do it for desktop but I couldn&#39;t find the process to do it.\r\n\r\nI have to add it for windows and macos.","title":"add Java library (.jar files) to flutter DESKTOP application","body":"<p>I need to add a library written in java to flutter desktop application</p>\n<p>I did research and I only found how to do it for android apps, some people mentioned that it is possible to do it for desktop but I couldn't find the process to do it.</p>\n<p>I have to add it for windows and macos.</p>\n"},{"tags":["java","html","selenium-webdriver"],"comments":[{"owner":{"account_id":10299692,"reputation":5719,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"score":0,"creation_date":1687868858,"post_id":76564785,"comment_id":134994336,"body_markdown":"Can you share the URL of the application if it is public?","body":"Can you share the URL of the application if it is public?"},{"owner":{"account_id":27098413,"reputation":21,"user_id":20645326,"display_name":"Deviprasath A"},"score":0,"creation_date":1687869431,"post_id":76564785,"comment_id":134994498,"body_markdown":"Actually, it is private shawn","body":"Actually, it is private shawn"},{"owner":{"account_id":11847560,"reputation":205,"user_id":8669719,"display_name":"Knight"},"score":0,"creation_date":1687874672,"post_id":76564785,"comment_id":134995927,"body_markdown":"Have you checked if the &quot;@name&quot; attribute is always present when &quot;select&quot; is rendered? From my experience the &quot;@name&quot; attribute is not reliable when identifying elements with angular. Maybe try with &quot;ng-reflect-name&quot;.","body":"Have you checked if the &quot;@name&quot; attribute is always present when &quot;select&quot; is rendered? From my experience the &quot;@name&quot; attribute is not reliable when identifying elements with angular. Maybe try with &quot;ng-reflect-name&quot;."},{"owner":{"account_id":27098413,"reputation":21,"user_id":20645326,"display_name":"Deviprasath A"},"score":0,"creation_date":1687875110,"post_id":76564785,"comment_id":134996054,"body_markdown":"Ohhh... I&#39;ll try, thanks Knight","body":"Ohhh... I&#39;ll try, thanks Knight"},{"owner":{"account_id":10257326,"reputation":56,"user_id":7569804,"display_name":"Areke"},"score":0,"creation_date":1687954749,"post_id":76564785,"comment_id":135008588,"body_markdown":"In your error log it&#39;s trying to find element &quot;//iframe[@role=&#39;presentation&#39;]&quot;. As you said if you don&#39;t have iframe in your page, may be you should to remove the step in your code where searching this element","body":"In your error log it&#39;s trying to find element &quot;//iframe[@role=&#39;presentation&#39;]&quot;. As you said if you don&#39;t have iframe in your page, may be you should to remove the step in your code where searching this element"}],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687869180,"creation_date":1687868852,"answer_id":76564863,"question_id":76564785,"body_markdown":"The desired element is an [Angular](https://stackoverflow.com/a/73241154/7429447) element. To select one of the [tag:select-options] from a [tag:html-select] tag you need to induce [WebDriverWait](https://stackoverflow.com/questions/48989049/selenium-how-selenium-identifies-elements-visible-or-not-is-is-possible-that-i/48990165#48990165) for the [_`elementToBeClickable()`_](https://stackoverflow.com/a/63301869/7429447) and you can use either of the following [Locator Strategies](https://stackoverflow.com/questions/48369043/official-locator-strategies-for-the-webdriver/48376890#48376890):\r\n\r\n- Using _name_:\r\n\r\n\t  WebElement element = new Select(new WebDriverWait(webEssentials.driver, Duration.ofSeconds(10)).until(ExpectedConditions.elementToBeClickable(By.name(&quot;senderId&quot;))));\r\n\r\n- Using _cssSelector_:\r\n\r\n\t  WebElement element = new Select(new WebDriverWait(webEssentials.driver, Duration.ofSeconds(10)).until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;select[name=&#39;senderId&#39;]&quot;))));\r\n\r\n- Using _xpath_:\r\n\r\n\t  WebElement element = new Select(new WebDriverWait(webEssentials.driver, Duration.ofSeconds(10)).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//select[@name=&#39;senderId&#39;]&quot;))));\r\n\r\n\r\n----------\r\n\r\n\r\nReferences\r\n----------\r\nYou can find a couple of relevant detailed discussions in:\r\n\r\n- [How to select an option from a dropdown through Selenium WebDriver](https://stackoverflow.com/questions/49772710/how-to-select-an-option-from-a-dropdown-through-selenium-webdriver/49777340#49777340)\r\n- [Trying to select an option from the dropdown in Selenium web automation -error- &quot;ElementNotInteractableException: could not be scrolled into view&quot;](https://stackoverflow.com/questions/63854405/trying-to-select-an-option-from-the-dropdown-in-selenium-web-automation-error/63855001#63855001)\r\n- [How to retrieve the value of options from a select drop-down using Selenium?](https://stackoverflow.com/questions/56684736/how-to-retrieve-the-value-of-options-from-a-select-drop-down-using-selenium/56685051#56685051)","title":"Selenium unable to find the element which is present on the html","body":"<p>The desired element is an <a href=\"https://stackoverflow.com/a/73241154/7429447\">Angular</a> element. To select one of the <a href=\"/questions/tagged/select-options\" class=\"post-tag\" title=\"show questions tagged &#39;select-options&#39;\" aria-label=\"show questions tagged &#39;select-options&#39;\" rel=\"tag\" aria-labelledby=\"tag-select-options-tooltip-container\">select-options</a> from a <a href=\"/questions/tagged/html-select\" class=\"post-tag\" title=\"show questions tagged &#39;html-select&#39;\" aria-label=\"show questions tagged &#39;html-select&#39;\" rel=\"tag\" aria-labelledby=\"tag-html-select-tooltip-container\">html-select</a> tag you need to induce <a href=\"https://stackoverflow.com/questions/48989049/selenium-how-selenium-identifies-elements-visible-or-not-is-is-possible-that-i/48990165#48990165\">WebDriverWait</a> for the <a href=\"https://stackoverflow.com/a/63301869/7429447\"><em><code>elementToBeClickable()</code></em></a> and you can use either of the following <a href=\"https://stackoverflow.com/questions/48369043/official-locator-strategies-for-the-webdriver/48376890#48376890\">Locator Strategies</a>:</p>\n<ul>\n<li><p>Using <em>name</em>:</p>\n<pre><code>WebElement element = new Select(new WebDriverWait(webEssentials.driver, Duration.ofSeconds(10)).until(ExpectedConditions.elementToBeClickable(By.name(&quot;senderId&quot;))));\n</code></pre>\n</li>\n<li><p>Using <em>cssSelector</em>:</p>\n<pre><code>WebElement element = new Select(new WebDriverWait(webEssentials.driver, Duration.ofSeconds(10)).until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;select[name='senderId']&quot;))));\n</code></pre>\n</li>\n<li><p>Using <em>xpath</em>:</p>\n<pre><code>WebElement element = new Select(new WebDriverWait(webEssentials.driver, Duration.ofSeconds(10)).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//select[@name='senderId']&quot;))));\n</code></pre>\n</li>\n</ul>\n<hr />\n<h2>References</h2>\n<p>You can find a couple of relevant detailed discussions in:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/49772710/how-to-select-an-option-from-a-dropdown-through-selenium-webdriver/49777340#49777340\">How to select an option from a dropdown through Selenium WebDriver</a></li>\n<li><a href=\"https://stackoverflow.com/questions/63854405/trying-to-select-an-option-from-the-dropdown-in-selenium-web-automation-error/63855001#63855001\">Trying to select an option from the dropdown in Selenium web automation -error- &quot;ElementNotInteractableException: could not be scrolled into view&quot;</a></li>\n<li><a href=\"https://stackoverflow.com/questions/56684736/how-to-retrieve-the-value-of-options-from-a-select-drop-down-using-selenium/56685051#56685051\">How to retrieve the value of options from a select drop-down using Selenium?</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":18412051,"reputation":144,"user_id":13412076,"display_name":"arpita biswas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688025235,"creation_date":1688025235,"answer_id":76579072,"question_id":76564785,"body_markdown":"Assuming that your xpath is correct. Then can you please use *javaScriptExecutOr* method to lcik the lement. Below is the sample code: Also pleas refer [link][1]\r\n&lt;br/&gt; Can you please check also-&gt; whether there is any frame available, then you need to switch to that frame first. \r\n\r\n  \r\n\r\n     driver.switchTo().frame(&quot;frame id&quot;);\r\n\r\n     WebElement ele= driver.findElement(By.xpath(&quot;&quot;));        \r\n     js.executeScript(“arguments[0].click();”, ele);\r\n\r\n\r\n  [1]: https://medium.com/@biswasarpita/javascriptexecutor-in-selenium-webdriver-with-example-4fe356f41b62","title":"Selenium unable to find the element which is present on the html","body":"<p>Assuming that your xpath is correct. Then can you please use <em>javaScriptExecutOr</em> method to lcik the lement. Below is the sample code: Also pleas refer <a href=\"https://medium.com/@biswasarpita/javascriptexecutor-in-selenium-webdriver-with-example-4fe356f41b62\" rel=\"nofollow noreferrer\">link</a>\n<br/> Can you please check also-&gt; whether there is any frame available, then you need to switch to that frame first.</p>\n<pre><code> driver.switchTo().frame(&quot;frame id&quot;);\n\n WebElement ele= driver.findElement(By.xpath(&quot;&quot;));        \n js.executeScript(“arguments[0].click();”, ele);\n</code></pre>\n"}],"owner":{"account_id":27098413,"reputation":21,"user_id":20645326,"display_name":"Deviprasath A"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1688025235,"creation_date":1687868335,"question_id":76564785,"body_markdown":"1. I can manually inspect and get the xpath of the element.  \r\n2. when I get the xpath of that element, it says 1 of 1.  I can create a unique Xpath for the element.\r\n3. But the selenium cannot find it.\r\n\r\nI&#39;m using Waits.  So, there is no problem of skipping an element.  But, There is also not any iframe in html.  still The selenium cannot able to find the element which I&#39;ve create the Xpath for.  I provided a screen shot of that issue.[![screenshot of my issue](https://i.stack.imgur.com/A4Cpb.png)](https://i.stack.imgur.com/A4Cpb.png)\r\n\r\nThis is the code for that:\r\n```\r\nwebEssentials.waitTillElementIsAvailableInDOM(By.xpath(&quot;//select[@name=&#39;senderId&#39;]&quot;));\r\nwebEssentials.waitTillElementIsClickable(selectSenderId);\r\nWebElement element = webEssentials.driver.findElement(By.xpath(&quot;//select[@name=&#39;senderId&#39;]&quot;));\r\n        Select select = new Select(element);\r\n        select.selectByIndex(0);\r\n\r\n        webEssentials.waitTillElementIsVisible(templateZoho).\r\n                waitTillElementIsClickable(templateZoho);\r\n        WebElement element1 = webEssentials.driver.findElement(By.xpath(&quot;//select[@name=&#39;template&#39;]&quot;));\r\n        Select select1 = new Select(element1);\r\n        select1.selectByIndex(0);\r\n```\r\n\r\n\r\n  [1]: https://drive.google.com/drive/folders/1rvqESd2SE4cUqGyY7FK-8brI_q_F-6am?usp=sharing   **This Link having the error log of what I&#39;m getting after the selenium cannot find the element**","title":"Selenium unable to find the element which is present on the html","body":"<ol>\n<li>I can manually inspect and get the xpath of the element.</li>\n<li>when I get the xpath of that element, it says 1 of 1.  I can create a unique Xpath for the element.</li>\n<li>But the selenium cannot find it.</li>\n</ol>\n<p>I'm using Waits.  So, there is no problem of skipping an element.  But, There is also not any iframe in html.  still The selenium cannot able to find the element which I've create the Xpath for.  I provided a screen shot of that issue.<a href=\"https://i.stack.imgur.com/A4Cpb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/A4Cpb.png\" alt=\"screenshot of my issue\" /></a></p>\n<p>This is the code for that:</p>\n<pre><code>webEssentials.waitTillElementIsAvailableInDOM(By.xpath(&quot;//select[@name='senderId']&quot;));\nwebEssentials.waitTillElementIsClickable(selectSenderId);\nWebElement element = webEssentials.driver.findElement(By.xpath(&quot;//select[@name='senderId']&quot;));\n        Select select = new Select(element);\n        select.selectByIndex(0);\n\n        webEssentials.waitTillElementIsVisible(templateZoho).\n                waitTillElementIsClickable(templateZoho);\n        WebElement element1 = webEssentials.driver.findElement(By.xpath(&quot;//select[@name='template']&quot;));\n        Select select1 = new Select(element1);\n        select1.selectByIndex(0);\n</code></pre>\n<p>[1]: <a href=\"https://drive.google.com/drive/folders/1rvqESd2SE4cUqGyY7FK-8brI_q_F-6am?usp=sharing\" rel=\"nofollow noreferrer\">https://drive.google.com/drive/folders/1rvqESd2SE4cUqGyY7FK-8brI_q_F-6am?usp=sharing</a>   <strong>This Link having the error log of what I'm getting after the selenium cannot find the element</strong></p>\n"},{"tags":["java","linear-programming","ojalgo"],"answers":[{"tags":[],"owner":{"account_id":5578339,"reputation":1275,"user_id":4421592,"display_name":"apete"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688025223,"creation_date":1688025223,"answer_id":76579070,"question_id":76573933,"body_markdown":"There is no need for you to create a new model integration `new ConvexSolver.ModelIntegration()`. Instead just use the `ConvexSolver.INTEGRATION` instance.\r\n\r\nThere are two ways you can use it:\r\n\r\n 1. Create a new `Optimisation.Integration` that simply delegate to that instance except that the `isCapable` method always returns `true`. Add this new integration using `ExpressionsBasedModel.addIntegration` and use `model.minimise()` the usual way.\r\n 2. Take the `Optimisation.Result` returned by the solver and feed it to the  `toModelState` method of that integration. This will translate the variable indices to match the model variables.\r\n\r\nI think (1) is the better alternative.\r\n\r\nWhy do you want to force use the ConvexSolver?","title":"How to get variables values from Optimisation.Result in ojAlgo?","body":"<p>There is no need for you to create a new model integration <code>new ConvexSolver.ModelIntegration()</code>. Instead just use the <code>ConvexSolver.INTEGRATION</code> instance.</p>\n<p>There are two ways you can use it:</p>\n<ol>\n<li>Create a new <code>Optimisation.Integration</code> that simply delegate to that instance except that the <code>isCapable</code> method always returns <code>true</code>. Add this new integration using <code>ExpressionsBasedModel.addIntegration</code> and use <code>model.minimise()</code> the usual way.</li>\n<li>Take the <code>Optimisation.Result</code> returned by the solver and feed it to the  <code>toModelState</code> method of that integration. This will translate the variable indices to match the model variables.</li>\n</ol>\n<p>I think (1) is the better alternative.</p>\n<p>Why do you want to force use the ConvexSolver?</p>\n"}],"owner":{"account_id":10414383,"reputation":45,"user_id":7678919,"accept_rate":75,"display_name":"lukaszP"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76579070,"answer_count":1,"score":0,"last_activity_date":1688025223,"creation_date":1687960820,"question_id":76573933,"body_markdown":"I use ojAlgo lib in version 51.4.1. I ve got:\r\n\r\n    protected final ExpressionsBasedModel model = new ExpressionsBasedModel();\r\n    protected Variable[] result;\r\n\r\nand some other variables. Each variable is added to the model, same as constrains. When i run:\r\n\r\n    Optimisation.Result result = model.minimise();\r\n\r\nI can get each result value using:\r\n\r\n    private static double[] getVariablesValues(Variable[] variables) {\r\n    \tdouble[] values = new double[variables.length];\r\n    \tfor (int i = 0; i &lt; variables.length; i++) {\r\n    \t\tvalues[i] = variables[i].getValue().doubleValue();\r\n    \t}\r\n    \treturn values;\r\n    }\r\n\r\nAnd now my problem:\r\nI want to force optimizer to use ConvexSolver so instead model.minimise() i write:\r\n\r\n    ConvexSolver solver = new ConvexSolver.ModelIntegration().build(model);\r\n    Optimisation.Result result = solver.solve();\r\n\r\nSolver returns OPTIMAL solution, but i cannot get variable values as a did before. Is there a possibility to get these values from solver or result? I couldn&#39;t find any helpfull resolution with google or chatGPT. I was thinking about getting values by index, but `result` has other values indexes than model variables.","title":"How to get variables values from Optimisation.Result in ojAlgo?","body":"<p>I use ojAlgo lib in version 51.4.1. I ve got:</p>\n<pre><code>protected final ExpressionsBasedModel model = new ExpressionsBasedModel();\nprotected Variable[] result;\n</code></pre>\n<p>and some other variables. Each variable is added to the model, same as constrains. When i run:</p>\n<pre><code>Optimisation.Result result = model.minimise();\n</code></pre>\n<p>I can get each result value using:</p>\n<pre><code>private static double[] getVariablesValues(Variable[] variables) {\n    double[] values = new double[variables.length];\n    for (int i = 0; i &lt; variables.length; i++) {\n        values[i] = variables[i].getValue().doubleValue();\n    }\n    return values;\n}\n</code></pre>\n<p>And now my problem:\nI want to force optimizer to use ConvexSolver so instead model.minimise() i write:</p>\n<pre><code>ConvexSolver solver = new ConvexSolver.ModelIntegration().build(model);\nOptimisation.Result result = solver.solve();\n</code></pre>\n<p>Solver returns OPTIMAL solution, but i cannot get variable values as a did before. Is there a possibility to get these values from solver or result? I couldn't find any helpfull resolution with google or chatGPT. I was thinking about getting values by index, but <code>result</code> has other values indexes than model variables.</p>\n"},{"tags":["java","gradle","build.gradle"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1688025418,"post_id":76579023,"comment_id":135019059,"body_markdown":"Gradle has a pretty extensive meta-api and testing framework. Perhaps you can use that?","body":"Gradle has a pretty extensive meta-api and testing framework. Perhaps you can use that?"},{"owner":{"account_id":23619880,"reputation":21,"user_id":17653368,"display_name":"Sai"},"score":0,"creation_date":1688032995,"post_id":76579023,"comment_id":135020652,"body_markdown":"@Jorn: Can you point me to the gradle meta-api example/documentation which I can refer? I am not aware of it","body":"@Jorn: Can you point me to the gradle meta-api example/documentation which I can refer? I am not aware of it"}],"owner":{"account_id":23619880,"reputation":21,"user_id":17653368,"display_name":"Sai"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688024879,"creation_date":1688024879,"question_id":76579023,"body_markdown":"I want to parse the **build.gradle** and list down the dependencies present in it. For that I found below code which is from Gradle tooling API itself. However I get `java.lang.ClassNotFoundException: org.gradle.internal.logging.progress.ProgressLoggerFactory`.\r\n\r\nI am using gradle 6.6.1 and slf4j jars (*slf4j-api-1.7.32 &amp; sl4j-simple-1.7.32 or slf4j-nop-1.7.32*).\r\n\r\nAny pointer on how to resolve the issue or other way to parse the gradle file? Thanks in advance!\r\n\r\nMy Code:\r\n\r\n    public class Main {\r\n    public static void main(String[] args) {\r\n        // Configure the connector and create the connection\r\n        GradleConnector connector = GradleConnector.newConnector();\r\n\r\n        if (args.length &gt; 0) {\r\n            connector.useInstallation(new File(args[0]));\r\n            if (args.length &gt; 1) {\r\n                connector.useGradleUserHomeDir(new File(args[1]));\r\n            }\r\n        }\r\n\r\n        connector.forProjectDirectory(new File(&quot;.&quot;));\r\n\r\n        ProjectConnection connection = connector.connect();\r\n        try {\r\n            // Load the Eclipse model for the project\r\n            EclipseProject project = connection.getModel(EclipseProject.class);\r\n            System.out.println(&quot;Project: &quot; + project.getName());\r\n            System.out.println(&quot;Project directory: &quot; + project.getProjectDirectory());\r\n            System.out.println(&quot;Source directories:&quot;);\r\n            for (EclipseSourceDirectory srcDir : project.getSourceDirectories()) {\r\n                System.out.println(srcDir.getPath());\r\n            }\r\n            System.out.println(&quot;Project classpath:&quot;);\r\n            for (ExternalDependency externalDependency : project.getClasspath()) {\r\n                System.out.println(externalDependency.getFile().getName());\r\n            }\r\n            System.out.println(&quot;Associated gradle project:&quot;);\r\n            System.out.println(project.getGradleProject());\r\n        } finally {\r\n            // Clean up\r\n            connection.close();\r\n        }\r\n    }\r\n}","title":"Parsing build.gradle using Gradle Tooling API","body":"<p>I want to parse the <strong>build.gradle</strong> and list down the dependencies present in it. For that I found below code which is from Gradle tooling API itself. However I get <code>java.lang.ClassNotFoundException: org.gradle.internal.logging.progress.ProgressLoggerFactory</code>.</p>\n<p>I am using gradle 6.6.1 and slf4j jars (<em>slf4j-api-1.7.32 &amp; sl4j-simple-1.7.32 or slf4j-nop-1.7.32</em>).</p>\n<p>Any pointer on how to resolve the issue or other way to parse the gradle file? Thanks in advance!</p>\n<p>My Code:</p>\n<pre><code>public class Main {\npublic static void main(String[] args) {\n    // Configure the connector and create the connection\n    GradleConnector connector = GradleConnector.newConnector();\n\n    if (args.length &gt; 0) {\n        connector.useInstallation(new File(args[0]));\n        if (args.length &gt; 1) {\n            connector.useGradleUserHomeDir(new File(args[1]));\n        }\n    }\n\n    connector.forProjectDirectory(new File(&quot;.&quot;));\n\n    ProjectConnection connection = connector.connect();\n    try {\n        // Load the Eclipse model for the project\n        EclipseProject project = connection.getModel(EclipseProject.class);\n        System.out.println(&quot;Project: &quot; + project.getName());\n        System.out.println(&quot;Project directory: &quot; + project.getProjectDirectory());\n        System.out.println(&quot;Source directories:&quot;);\n        for (EclipseSourceDirectory srcDir : project.getSourceDirectories()) {\n            System.out.println(srcDir.getPath());\n        }\n        System.out.println(&quot;Project classpath:&quot;);\n        for (ExternalDependency externalDependency : project.getClasspath()) {\n            System.out.println(externalDependency.getFile().getName());\n        }\n        System.out.println(&quot;Associated gradle project:&quot;);\n        System.out.println(project.getGradleProject());\n    } finally {\n        // Clean up\n        connection.close();\n    }\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","linux"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1688032739,"post_id":76579005,"comment_id":135020615,"body_markdown":"*Now my Java is using...* That&#39;s just a textual listing. How are you actually setting `java.library.path` and what is its real value?","body":"<i>Now my Java is using...</i> That&#39;s just a textual listing. How are you actually setting <code>java.library.path</code> and what is its real value?"}],"owner":{"account_id":7441249,"reputation":95,"user_id":5658982,"accept_rate":67,"display_name":"voodoo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688024728,"creation_date":1688024728,"question_id":76579005,"body_markdown":"I have a MOXA Box which I need to get going. I am running Linux 4.15.0 and downloaded the .so files from https://www.moxa.com/en/products/industrial-edge-connectivity/controllers-and-ios/i-o-library/mxio-programming-library#resources .\r\n\r\nI installed the librarys, they are installed to /usr/local/lib and /usr/local/include.\r\nNow my Java is using \r\n\r\n    java.library.path = /usr/java/packages/lib\r\n        /usr/lib/i386-linux-gnu/jni\r\n        /lib/i386-linux-gnu\r\n        /usr/lib/i386-linux-gnu\r\n        /usr/lib/jni\r\n        /lib\r\n        /usr/lib\r\n\r\nIam using &#39;openjdk version &quot;11.0.8&quot; 2020-07-14&#39;.\r\nso I need to either add /usr/local/lib to this path via `LD_LIBRARY_PATH` or move the files to /lib, am I correct?\r\nNow I have tried both but it is still giving me \r\n\r\n    Exception in thread &quot;main&quot; com.jniwrapper.LibraryNotFoundException: MXIO cause: MXIO: Kann die Shared-Object-Datei nicht &#246;ffnen: Datei oder Verzeichnis nicht gefunden\r\n        at com.jniwrapper.Library.loadLibrary(Native Method)\r\n        at com.jniwrapper.Library.a(SourceFile:140)\r\n        at com.jniwrapper.Library.load(SourceFile:130)\r\n        at com.jniwrapper.Library.getFunction(SourceFile:257)\r\n        at com.jniwrapper.Library.getFunction(SourceFile:275)\r\n        at org.moxxa.Moxxa.init(Moxxa.java:66)\r\n        at org.moxxa.Moxxa.main(Moxxa.java:21)\r\n\r\nThis is what I do in my code but we are not getting past mox.init()...\r\nWhere does the .so files have to be so that my java can find them. Do I have to provide the .a files and the .h files also? I wouldn&#39;t think so. Or is the &#39;new Library(&quot;MXIO&quot;);&#39; wrong?\r\n\r\n    public class Moxxa\r\n    {\r\n    private Library lib = new Library(&quot;MXIO&quot;);\r\n    private final int MXIO_OK = 0;\r\n    \r\n    public static void main(String[] args) throws Exception\r\n    {\r\n        Moxxa mox = new Moxxa();\r\n        System.out.println(&quot;Init: &quot;+mox.init()); //-&gt; We are not going past this...\r\n        System.out.printf(&quot;Version: 0x%x\\n&quot;,mox.getDllVersion());\r\n        \r\n        int handle = mox.connect(&quot;192.168.127.254&quot;, 502, 5000);\r\n        System.out.printf(&quot;Connect: 0x%x\\n&quot;, handle);\r\n\r\n    //        Thread.sleep(4000);\r\n        \r\n        byte[] fw = mox.readFirmwareRevision(handle);\r\n        \r\n        for (byte b : fw)\r\n            System.out.printf(&quot;%x &quot;, b);\r\n        \r\n        for (int i=0; i&lt;3000; i++)\r\n        {\r\n            long l = mox.E1K_DI_Reads(handle, (byte)1, (byte)4);\r\n            \r\n            System.out.println(l);\r\n            \r\n            Thread.sleep(500);\r\n        }\r\n        System.out.println(&quot;Check Connection: &quot; + mox.checkConnection(handle, 3000));\r\n        \r\n        mox.disconnect(handle);\r\n        \r\n    }\r\n    \r\n    public Moxxa()\r\n    {\r\n        //do something later\r\n    }\r\n    \r\n    \r\n    /**\r\n     * Initiate the socket\r\n     * @return int - Succeed MXIO_OK. Fail Refer to Return Codes.\r\n     */\r\n    \r\n    public int init() throws MXIOException\r\n    {\r\n        Function  func = lib.getFunction(&quot;MXEIO_Init&quot;); //--&gt; This call fails already!\r\n        func.setCallingConvention(Function.CDECL_CALLING_CONVENTION);\r\n        \r\n        Int ret = new Int();       \r\n        func.invoke(ret); \r\n        if ((int)ret.getValue() == MXIO_OK)\r\n            return (int)ret.getValue();\r\n        else\r\n            throw new MXIOException(&quot;Fehler: &quot;+(int)ret.getValue());\r\n    }\r\n    \r\n    /**\r\n     * This function establishes a connection to the port of the Ethernet\r\n     * I/O. Once a connection is established, a handle will be returned for\r\n     * additional functions.\r\n     * @param sIp IpAdresse\r\n     * @param port\r\n     * @param timeout\r\n     * @return connection handle\r\n     * @throws MXIOException\r\n     */\r\n    \r\n    public int connect(String sIp, int port, int timeout) throws MXIOException\r\n    {\r\n        Function  func = lib.getFunction(&quot;MXEIO_E1K_Connect&quot;);\r\n        AnsiString ip = new AnsiString(sIp);\r\n        Int16 wPort = new Int16(port);\r\n        Int32 dwTimeOut = new Int32(timeout);\r\n        \r\n        Int con = new Int();\r\n        Int ret = new Int();      \r\n        \r\n        Parameter[] parms = new Parameter[5];\r\n        parms[0] = ip;\r\n        parms[1] = wPort;\r\n        parms[2] = dwTimeOut;\r\n        parms[3] = new Pointer(con);\r\n        parms[4] = new AnsiString(&quot;&quot;);\r\n        \r\n        func.invoke(ret, parms);        \r\n        if ((int)ret.getValue() == MXIO_OK)\r\n            return (int)con.getValue();\r\n        else\r\n            throw new MXIOException(&quot;Fehler: &quot;+(int)ret.getValue());\r\n    }\r\n    \r\n    \r\n    /**\r\n     * This will close the connection with the Ethernet I/O; the handle\r\n     * will be invalid.\r\n     * @param conHandle\r\n     * @return int Succeed MXIO_OK. Fail Refer to Return Codes.\r\n     *\r\n     */\r\n    public int disconnect(int conHandle) throws MXIOException\r\n    {\r\n        Function  func = lib.getFunction(&quot;MXEIO_Disconnect&quot;);\r\n        Int con = new Int(conHandle);\r\n        Int ret = new Int();       \r\n        func.invoke(ret, con);        \r\n        if ((int)ret.getValue() == MXIO_OK)\r\n            return (int)ret.getValue();\r\n        else\r\n            throw new MXIOException(&quot;Fehler: &quot;+(int)ret.getValue());\r\n    }\r\n    \r\n    /**\r\n     * the connection is established, a handle will be returned for additional functions.\r\n     * @param conHandle Handle of the I/O connection.\r\n     * @param timeout Timeout value in milliseconds for network connection.\r\n     * @param status    Connection status.\r\n                        0: Check connection ok.\r\n                        1: Check connection fail.\r\n                        2: Check connection timeout.\r\n     * @return  Succeed MXIO_OK.\r\n                Fail Refer to Return Codes.\r\n     */\r\n    public int checkConnection(int conHandle, int timeout) throws MXIOException\r\n    {\r\n        Function  func = lib.getFunction(&quot;MXEIO_CheckConnection&quot;);       \r\n\r\n        Int8 state = new Int8();\r\n        Int ret = new Int();\r\n        \r\n        Parameter[] par= new Parameter[3];\r\n        par[0] = new Int(conHandle);\r\n        par[1] = new Int32(timeout);\r\n        par[2] = new Pointer(state);\r\n        func.invoke(ret, par);        \r\n        if ((int)ret.getValue() == MXIO_OK)\r\n            return (int)state.getValue();\r\n        else\r\n            throw new MXIOException(&quot;Fehler: &quot;+(int)ret.getValue());\r\n    }\r\n    \r\n    /**\r\n     * This will get the DLL version.\r\n     * @return int The DLL version. Version 2.0.0.0 is expressed as value 0x2000.\r\n     */\r\n    public int getDllVersion()\r\n    {\r\n        Function  func = lib.getFunction(&quot;MXIO_GetDllVersion&quot;);\r\n        func.setCallingConvention(Function.CDECL_CALLING_CONVENTION);\r\n        \r\n        Int ret = new Int();       \r\n        func.invoke(ret);        \r\n        return (int)ret.getValue();\r\n    }\r\n    \r\n    /**\r\n     * This function code is used to read the status of a group of\r\n        contiguous D/I channels.\r\n     * @param conHandle\r\n     * @param slot\r\n     * @param startChannel\r\n     * @param count\r\n     * @return contiguous D/I channel’s\r\n                values; each bit holds the value of one channel.\r\n                A bit value of 0 represents the digital input\r\n                status of the start channel. A bit value of 1\r\n                represents the second digital input channel’s\r\n                status. The values of the unused bits are\r\n                random.\r\n     * @throws MXIOException\r\n     */\r\n    public long E1K_DI_Reads(int conHandle, byte bytStartChannel, byte bytCount) throws MXIOException\r\n    {        \r\n        Function  func = lib.getFunction(&quot;E1K_DI_Reads&quot;);\r\n        \r\n        Int32 dwValue = new Int32();        \r\n        Int ret = new Int();\r\n        \r\n        Parameter[] par= new Parameter[4];\r\n        par[0] = new Int(conHandle);\r\n        par[1] = new Int8(bytStartChannel);\r\n        par[2] = new Int8(bytCount);\r\n        par[3] = new Pointer(dwValue);\r\n        func.invoke(ret, par); \r\n                        \r\n        if ((int)ret.getValue() == MXIO_OK)\r\n            return dwValue.getValue();\r\n        else\r\n            throw new MXIOException(&quot;Fehlercode: &quot;+ (int) ret.getValue());\r\n        \r\n    }\r\n    }","title":"Why does JNI not loading my shared object files","body":"<p>I have a MOXA Box which I need to get going. I am running Linux 4.15.0 and downloaded the .so files from <a href=\"https://www.moxa.com/en/products/industrial-edge-connectivity/controllers-and-ios/i-o-library/mxio-programming-library#resources\" rel=\"nofollow noreferrer\">https://www.moxa.com/en/products/industrial-edge-connectivity/controllers-and-ios/i-o-library/mxio-programming-library#resources</a> .</p>\n<p>I installed the librarys, they are installed to /usr/local/lib and /usr/local/include.\nNow my Java is using</p>\n<pre><code>java.library.path = /usr/java/packages/lib\n    /usr/lib/i386-linux-gnu/jni\n    /lib/i386-linux-gnu\n    /usr/lib/i386-linux-gnu\n    /usr/lib/jni\n    /lib\n    /usr/lib\n</code></pre>\n<p>Iam using 'openjdk version &quot;11.0.8&quot; 2020-07-14'.\nso I need to either add /usr/local/lib to this path via <code>LD_LIBRARY_PATH</code> or move the files to /lib, am I correct?\nNow I have tried both but it is still giving me</p>\n<pre><code>Exception in thread &quot;main&quot; com.jniwrapper.LibraryNotFoundException: MXIO cause: MXIO: Kann die Shared-Object-Datei nicht öffnen: Datei oder Verzeichnis nicht gefunden\n    at com.jniwrapper.Library.loadLibrary(Native Method)\n    at com.jniwrapper.Library.a(SourceFile:140)\n    at com.jniwrapper.Library.load(SourceFile:130)\n    at com.jniwrapper.Library.getFunction(SourceFile:257)\n    at com.jniwrapper.Library.getFunction(SourceFile:275)\n    at org.moxxa.Moxxa.init(Moxxa.java:66)\n    at org.moxxa.Moxxa.main(Moxxa.java:21)\n</code></pre>\n<p>This is what I do in my code but we are not getting past mox.init()...\nWhere does the .so files have to be so that my java can find them. Do I have to provide the .a files and the .h files also? I wouldn't think so. Or is the 'new Library(&quot;MXIO&quot;);' wrong?</p>\n<pre><code>public class Moxxa\n{\nprivate Library lib = new Library(&quot;MXIO&quot;);\nprivate final int MXIO_OK = 0;\n\npublic static void main(String[] args) throws Exception\n{\n    Moxxa mox = new Moxxa();\n    System.out.println(&quot;Init: &quot;+mox.init()); //-&gt; We are not going past this...\n    System.out.printf(&quot;Version: 0x%x\\n&quot;,mox.getDllVersion());\n    \n    int handle = mox.connect(&quot;192.168.127.254&quot;, 502, 5000);\n    System.out.printf(&quot;Connect: 0x%x\\n&quot;, handle);\n\n//        Thread.sleep(4000);\n    \n    byte[] fw = mox.readFirmwareRevision(handle);\n    \n    for (byte b : fw)\n        System.out.printf(&quot;%x &quot;, b);\n    \n    for (int i=0; i&lt;3000; i++)\n    {\n        long l = mox.E1K_DI_Reads(handle, (byte)1, (byte)4);\n        \n        System.out.println(l);\n        \n        Thread.sleep(500);\n    }\n    System.out.println(&quot;Check Connection: &quot; + mox.checkConnection(handle, 3000));\n    \n    mox.disconnect(handle);\n    \n}\n\npublic Moxxa()\n{\n    //do something later\n}\n\n\n/**\n * Initiate the socket\n * @return int - Succeed MXIO_OK. Fail Refer to Return Codes.\n */\n\npublic int init() throws MXIOException\n{\n    Function  func = lib.getFunction(&quot;MXEIO_Init&quot;); //--&gt; This call fails already!\n    func.setCallingConvention(Function.CDECL_CALLING_CONVENTION);\n    \n    Int ret = new Int();       \n    func.invoke(ret); \n    if ((int)ret.getValue() == MXIO_OK)\n        return (int)ret.getValue();\n    else\n        throw new MXIOException(&quot;Fehler: &quot;+(int)ret.getValue());\n}\n\n/**\n * This function establishes a connection to the port of the Ethernet\n * I/O. Once a connection is established, a handle will be returned for\n * additional functions.\n * @param sIp IpAdresse\n * @param port\n * @param timeout\n * @return connection handle\n * @throws MXIOException\n */\n\npublic int connect(String sIp, int port, int timeout) throws MXIOException\n{\n    Function  func = lib.getFunction(&quot;MXEIO_E1K_Connect&quot;);\n    AnsiString ip = new AnsiString(sIp);\n    Int16 wPort = new Int16(port);\n    Int32 dwTimeOut = new Int32(timeout);\n    \n    Int con = new Int();\n    Int ret = new Int();      \n    \n    Parameter[] parms = new Parameter[5];\n    parms[0] = ip;\n    parms[1] = wPort;\n    parms[2] = dwTimeOut;\n    parms[3] = new Pointer(con);\n    parms[4] = new AnsiString(&quot;&quot;);\n    \n    func.invoke(ret, parms);        \n    if ((int)ret.getValue() == MXIO_OK)\n        return (int)con.getValue();\n    else\n        throw new MXIOException(&quot;Fehler: &quot;+(int)ret.getValue());\n}\n\n\n/**\n * This will close the connection with the Ethernet I/O; the handle\n * will be invalid.\n * @param conHandle\n * @return int Succeed MXIO_OK. Fail Refer to Return Codes.\n *\n */\npublic int disconnect(int conHandle) throws MXIOException\n{\n    Function  func = lib.getFunction(&quot;MXEIO_Disconnect&quot;);\n    Int con = new Int(conHandle);\n    Int ret = new Int();       \n    func.invoke(ret, con);        \n    if ((int)ret.getValue() == MXIO_OK)\n        return (int)ret.getValue();\n    else\n        throw new MXIOException(&quot;Fehler: &quot;+(int)ret.getValue());\n}\n\n/**\n * the connection is established, a handle will be returned for additional functions.\n * @param conHandle Handle of the I/O connection.\n * @param timeout Timeout value in milliseconds for network connection.\n * @param status    Connection status.\n                    0: Check connection ok.\n                    1: Check connection fail.\n                    2: Check connection timeout.\n * @return  Succeed MXIO_OK.\n            Fail Refer to Return Codes.\n */\npublic int checkConnection(int conHandle, int timeout) throws MXIOException\n{\n    Function  func = lib.getFunction(&quot;MXEIO_CheckConnection&quot;);       \n\n    Int8 state = new Int8();\n    Int ret = new Int();\n    \n    Parameter[] par= new Parameter[3];\n    par[0] = new Int(conHandle);\n    par[1] = new Int32(timeout);\n    par[2] = new Pointer(state);\n    func.invoke(ret, par);        \n    if ((int)ret.getValue() == MXIO_OK)\n        return (int)state.getValue();\n    else\n        throw new MXIOException(&quot;Fehler: &quot;+(int)ret.getValue());\n}\n\n/**\n * This will get the DLL version.\n * @return int The DLL version. Version 2.0.0.0 is expressed as value 0x2000.\n */\npublic int getDllVersion()\n{\n    Function  func = lib.getFunction(&quot;MXIO_GetDllVersion&quot;);\n    func.setCallingConvention(Function.CDECL_CALLING_CONVENTION);\n    \n    Int ret = new Int();       \n    func.invoke(ret);        \n    return (int)ret.getValue();\n}\n\n/**\n * This function code is used to read the status of a group of\n    contiguous D/I channels.\n * @param conHandle\n * @param slot\n * @param startChannel\n * @param count\n * @return contiguous D/I channel’s\n            values; each bit holds the value of one channel.\n            A bit value of 0 represents the digital input\n            status of the start channel. A bit value of 1\n            represents the second digital input channel’s\n            status. The values of the unused bits are\n            random.\n * @throws MXIOException\n */\npublic long E1K_DI_Reads(int conHandle, byte bytStartChannel, byte bytCount) throws MXIOException\n{        \n    Function  func = lib.getFunction(&quot;E1K_DI_Reads&quot;);\n    \n    Int32 dwValue = new Int32();        \n    Int ret = new Int();\n    \n    Parameter[] par= new Parameter[4];\n    par[0] = new Int(conHandle);\n    par[1] = new Int8(bytStartChannel);\n    par[2] = new Int8(bytCount);\n    par[3] = new Pointer(dwValue);\n    func.invoke(ret, par); \n                    \n    if ((int)ret.getValue() == MXIO_OK)\n        return dwValue.getValue();\n    else\n        throw new MXIOException(&quot;Fehlercode: &quot;+ (int) ret.getValue());\n    \n}\n}\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":294637,"reputation":12207,"user_id":598637,"accept_rate":97,"display_name":"Codeman"},"score":0,"creation_date":1438033593,"post_id":31663856,"comment_id":51272234,"body_markdown":"What kind of dialog are you using?  Please show your code if you want a proper answer.","body":"What kind of dialog are you using?  Please show your code if you want a proper answer."},{"owner":{"account_id":4902890,"reputation":2518,"user_id":3950533,"accept_rate":98,"display_name":"Henry Zhu"},"score":0,"creation_date":1438033743,"post_id":31663856,"comment_id":51272298,"body_markdown":"@Pheonixblade9 Um... I said alert dialog if you read the question?","body":"@Pheonixblade9 Um... I said alert dialog if you read the question?"},{"owner":{"account_id":294637,"reputation":12207,"user_id":598637,"accept_rate":97,"display_name":"Codeman"},"score":0,"creation_date":1438033800,"post_id":31663856,"comment_id":51272324,"body_markdown":"Yes, that is why I&#39;m confused.  You set the text yourself.  There are no default options.","body":"Yes, that is why I&#39;m confused.  You set the text yourself.  There are no default options."},{"owner":{"account_id":2080922,"reputation":10273,"user_id":1852924,"accept_rate":63,"display_name":"TharakaNirmana"},"score":0,"creation_date":1472123635,"post_id":31663856,"comment_id":65631492,"body_markdown":"this is a working solution : http://stackoverflow.com/questions/27893840/lollipop-capitalizes-buttons-text-in-my-app/39143743#39143743","body":"this is a working solution : <a href=\"http://stackoverflow.com/questions/27893840/lollipop-capitalizes-buttons-text-in-my-app/39143743#39143743\" title=\"lollipop capitalizes buttons text in my app\">stackoverflow.com/questions/27893840/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1269445,"reputation":2719,"user_id":1226095,"accept_rate":51,"display_name":"jesses.co.tt"},"down_vote_count":4,"up_vote_count":5,"is_accepted":true,"score":1,"last_activity_date":1438033719,"creation_date":1438033719,"answer_id":31663913,"question_id":31663856,"body_markdown":"You can set it to be anything you want  - Eg.:      \r\n\r\n      AlertDialog.Builder builder = new AlertDialog.Builder(MyActivity.this);\r\n            builder.setTitle(&quot;Title&quot;);\r\n            builder.setMessage(&quot;message&quot;);\r\n            builder.setPositiveButton(&quot;Ok&quot;, new DialogInterface.OnClickListener() {\r\n                @Override\r\n                public void onClick(DialogInterface dialog, int which) {\r\n                    return;\r\n                }\r\n            });\r\n            AlertDialog dialog = builder.create();\r\n            dialog.show();\r\n\r\nReference: [http://developer.android.com/reference/android/app/AlertDialog.Builder.html#setPositiveButton(int, android.content.DialogInterface.OnClickListener)][1]\r\n\r\n\r\n  [1]: http://developer.android.com/reference/android/app/AlertDialog.Builder.html#setPositiveButton(int,%20android.content.DialogInterface.OnClickListener)","title":"Android how to make ok button on dialog not all caps","body":"<p>You can set it to be anything you want  - Eg.:      </p>\n\n<pre><code>  AlertDialog.Builder builder = new AlertDialog.Builder(MyActivity.this);\n        builder.setTitle(\"Title\");\n        builder.setMessage(\"message\");\n        builder.setPositiveButton(\"Ok\", new DialogInterface.OnClickListener() {\n            @Override\n            public void onClick(DialogInterface dialog, int which) {\n                return;\n            }\n        });\n        AlertDialog dialog = builder.create();\n        dialog.show();\n</code></pre>\n\n<p>Reference: <a href=\"http://developer.android.com/reference/android/app/AlertDialog.Builder.html#setPositiveButton(int,%20android.content.DialogInterface.OnClickListener)\" rel=\"nofollow\">http://developer.android.com/reference/android/app/AlertDialog.Builder.html#setPositiveButton(int, android.content.DialogInterface.OnClickListener)</a></p>\n"},{"tags":[],"owner":{"account_id":6276427,"reputation":99,"user_id":4878981,"display_name":"Baakan"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1438033923,"creation_date":1438033923,"answer_id":31663952,"question_id":31663856,"body_markdown":"Or even :\r\n\r\n    builder.setPositiveButton(&quot;Ok&quot;, null);\r\n\r\nFor the basic usage.","title":"Android how to make ok button on dialog not all caps","body":"<p>Or even :</p>\n\n<pre><code>builder.setPositiveButton(\"Ok\", null);\n</code></pre>\n\n<p>For the basic usage.</p>\n"},{"tags":[],"owner":{"account_id":9162624,"reputation":1216,"user_id":6813468,"accept_rate":36,"display_name":"Rakesh"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1546499829,"creation_date":1546499829,"answer_id":54017900,"question_id":31663856,"body_markdown":"The accepted solution above won&#39;t work in Lollipop and above. Here&#39;s the working solution.\r\n\r\nAfter showing the dialog, I&#39;m setting the button all caps false. Make sure you do it after `dialog.show()`. Else, you&#39;ll get `Null Pointer Exception`.\r\n\r\n    AlertDialog.Builder builder = new AlertDialog.Builder(MyActivity.this);\r\n            builder.setTitle(&quot;Title&quot;);\r\n            builder.setMessage(&quot;message&quot;);\r\n            builder.setPositiveButton(&quot;Ok&quot;, new DialogInterface.OnClickListener() {\r\n                @Override\r\n                public void onClick(DialogInterface dialog, int which) {\r\n                    //Do Something\r\n                }\r\n            });\r\n            AlertDialog dialog = builder.create();\r\n            dialog.show();\r\n           dialog.getButton(AlertDialog.BUTTON_POSITIVE).setAllCaps(false);\r\n    ","title":"Android how to make ok button on dialog not all caps","body":"<p>The accepted solution above won't work in Lollipop and above. Here's the working solution.</p>\n\n<p>After showing the dialog, I'm setting the button all caps false. Make sure you do it after <code>dialog.show()</code>. Else, you'll get <code>Null Pointer Exception</code>.</p>\n\n<pre><code>AlertDialog.Builder builder = new AlertDialog.Builder(MyActivity.this);\n        builder.setTitle(\"Title\");\n        builder.setMessage(\"message\");\n        builder.setPositiveButton(\"Ok\", new DialogInterface.OnClickListener() {\n            @Override\n            public void onClick(DialogInterface dialog, int which) {\n                //Do Something\n            }\n        });\n        AlertDialog dialog = builder.create();\n        dialog.show();\n       dialog.getButton(AlertDialog.BUTTON_POSITIVE).setAllCaps(false);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3958505,"reputation":69,"user_id":3266262,"display_name":"Gladwin Henald"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1582763664,"creation_date":1582763664,"answer_id":60424649,"question_id":31663856,"body_markdown":"Use the DialogInterface.BUTTON_POSITIVE or DialogInterface.BUTTON_NEGATIVE to customize the action buttons.\r\n\r\n        val builder = MaterialAlertDialogBuilder(requireContext())\r\n        builder.setTitle(getString(R.string.alert_title))\r\n        builder.setMessage(getString(R.string.alert_msg))\r\n        builder.setPositiveButton(getString(R.string.action_yes)) { _, _ -&gt;\r\n            // todo: your action\r\n        }\r\n        builder.setNegativeButton(getString(R.string.action_no), null)\r\n        val dialog = builder.create()\r\n        dialog.show()\r\n        dialog.getButton(DialogInterface.BUTTON_POSITIVE).isAllCaps = false\r\n        dialog.getButton(DialogInterface.BUTTON_NEGATIVE).isAllCaps = false","title":"Android how to make ok button on dialog not all caps","body":"<p>Use the DialogInterface.BUTTON_POSITIVE or DialogInterface.BUTTON_NEGATIVE to customize the action buttons.</p>\n\n<pre><code>    val builder = MaterialAlertDialogBuilder(requireContext())\n    builder.setTitle(getString(R.string.alert_title))\n    builder.setMessage(getString(R.string.alert_msg))\n    builder.setPositiveButton(getString(R.string.action_yes)) { _, _ -&gt;\n        // todo: your action\n    }\n    builder.setNegativeButton(getString(R.string.action_no), null)\n    val dialog = builder.create()\n    dialog.show()\n    dialog.getButton(DialogInterface.BUTTON_POSITIVE).isAllCaps = false\n    dialog.getButton(DialogInterface.BUTTON_NEGATIVE).isAllCaps = false\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12082572,"reputation":1,"user_id":8833747,"display_name":"Mandar Joshi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650989435,"creation_date":1650989435,"answer_id":72017174,"question_id":31663856,"body_markdown":"using androidx.appcompat.app.AalertDialog fixed for me.","title":"Android how to make ok button on dialog not all caps","body":"<p>using androidx.appcompat.app.AalertDialog fixed for me.</p>\n"},{"tags":[],"owner":{"account_id":16510165,"reputation":131,"user_id":11929167,"display_name":"jaiminkumar patel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688024059,"creation_date":1688024059,"answer_id":76578924,"question_id":31663856,"body_markdown":"its late, but it could help other who visits.\r\n\r\nTo change the button text case, from all capitals to small case, usual method such as \r\n\r\n&gt; `dialog.getButton(AlertDialog.BUTTON_POSITIVE).setAllCaps(false);`\r\n\r\nthis will not work with the alert builder anymore, upon exploring alert dialog code, I found Buttons used for it, and as default it will show capital text.\r\n\r\nTo set, we need to add style while creating the alert dialog. Follow below steps for the same.\r\n\r\n1. In your theme.xml or style.xml add below style.\r\n\r\n&gt;     &lt;style name=&quot;custom_alert_button_text&quot; parent=&quot;ThemeOverlay.MaterialComponents.Dialog.Alert&quot;&gt;\r\n&gt;             &lt;item name=&quot;android:textAllCaps&quot;&gt;false&lt;/item&gt;\r\n&gt;             &lt;item name=&quot;android:textSize&quot;&gt;@dimen/_13ssp&lt;/item&gt;\r\n&gt;             &lt;item name=&quot;android:textAppearance&quot;&gt;?textAppearanceFiraSansBoldBlue34Text&lt;/item&gt;\r\n&gt;     &lt;/style&gt;\r\n\r\n2. While building the alert dialog, add style to your alert dialog as follow.\r\n\r\n&gt;     val alertBox = AlertDialog.Builder(context, R.style.custom_alert_button_text)\r\n&gt;             alertBox.setCancelable(false)\r\n&gt;             alertBox.setMessage(&quot;Your message for dialog&quot;)\r\n&gt;             alertBox.setNegativeButton(\r\n&gt;                 &quot;No&quot;\r\n&gt;             ) { dialog, _ -&gt;\r\n&gt;                 dialog.dismiss()\r\n&gt;             }\r\n&gt;             alertBox.setPositiveButton(\r\n&gt;                 &quot;Yes&quot;\r\n&gt;             ) { dialog, _ -&gt;\r\n&gt;                 dialog.dismiss()\r\n&gt;                 //your action to perform on yes tap.\r\n&gt;             }\r\n&gt;             alertBox.show()\r\n\r\nThis way, the positive and negative buttons text cases can be changed.\r\n\r\nI am using this method to change the text cases for alert dialog with builder.\r\n\r\nHope it helps!","title":"Android how to make ok button on dialog not all caps","body":"<p>its late, but it could help other who visits.</p>\n<p>To change the button text case, from all capitals to small case, usual method such as</p>\n<blockquote>\n<p><code>dialog.getButton(AlertDialog.BUTTON_POSITIVE).setAllCaps(false);</code></p>\n</blockquote>\n<p>this will not work with the alert builder anymore, upon exploring alert dialog code, I found Buttons used for it, and as default it will show capital text.</p>\n<p>To set, we need to add style while creating the alert dialog. Follow below steps for the same.</p>\n<ol>\n<li>In your theme.xml or style.xml add below style.</li>\n</ol>\n<blockquote>\n<pre><code>&lt;style name=&quot;custom_alert_button_text&quot; parent=&quot;ThemeOverlay.MaterialComponents.Dialog.Alert&quot;&gt;\n        &lt;item name=&quot;android:textAllCaps&quot;&gt;false&lt;/item&gt;\n        &lt;item name=&quot;android:textSize&quot;&gt;@dimen/_13ssp&lt;/item&gt;\n        &lt;item name=&quot;android:textAppearance&quot;&gt;?textAppearanceFiraSansBoldBlue34Text&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n</blockquote>\n<ol start=\"2\">\n<li>While building the alert dialog, add style to your alert dialog as follow.</li>\n</ol>\n<blockquote>\n<pre><code>val alertBox = AlertDialog.Builder(context, R.style.custom_alert_button_text)\n        alertBox.setCancelable(false)\n        alertBox.setMessage(&quot;Your message for dialog&quot;)\n        alertBox.setNegativeButton(\n            &quot;No&quot;\n        ) { dialog, _ -&gt;\n            dialog.dismiss()\n        }\n        alertBox.setPositiveButton(\n            &quot;Yes&quot;\n        ) { dialog, _ -&gt;\n            dialog.dismiss()\n            //your action to perform on yes tap.\n        }\n        alertBox.show()\n</code></pre>\n</blockquote>\n<p>This way, the positive and negative buttons text cases can be changed.</p>\n<p>I am using this method to change the text cases for alert dialog with builder.</p>\n<p>Hope it helps!</p>\n"}],"owner":{"account_id":4902890,"reputation":2518,"user_id":3950533,"accept_rate":98,"display_name":"Henry Zhu"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10054,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":31663913,"answer_count":6,"score":9,"last_activity_date":1688024059,"creation_date":1438033480,"question_id":31663856,"body_markdown":"For an alert dialog in Android, how do you make the positive button not have all capital letters. The text is &quot;OK&quot; instead of &quot;Ok&quot;. ","title":"Android how to make ok button on dialog not all caps","body":"<p>For an alert dialog in Android, how do you make the positive button not have all capital letters. The text is \"OK\" instead of \"Ok\". </p>\n"},{"tags":["java","selenium-webdriver","cucumber","testng","serenity-bdd"],"answers":[{"tags":[],"owner":{"account_id":10324417,"reputation":350,"user_id":7616297,"display_name":"Maik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687855003,"creation_date":1687855003,"answer_id":76563072,"question_id":76562296,"body_markdown":"In your scenario outline you have the text &#39;I launch chrome browse&#39;.\r\n\r\nThis text needs to be inside a step definition file inside a *when* annotation.\r\n\r\nexample:\r\n\r\n    @When(&quot;I launch chrome browse&quot;)\r\n\tpublic void launchChrome() throws Exception {\r\n\t\t... e.g.: some selenium stuff\r\n\t}\r\n","title":"io.cucumber.junit.UndefinedStepException: The steps are undefined","body":"<p>In your scenario outline you have the text 'I launch chrome browse'.</p>\n<p>This text needs to be inside a step definition file inside a <em>when</em> annotation.</p>\n<p>example:</p>\n<pre><code>@When(&quot;I launch chrome browse&quot;)\npublic void launchChrome() throws Exception {\n    ... e.g.: some selenium stuff\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18412051,"reputation":144,"user_id":13412076,"display_name":"arpita biswas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688023980,"creation_date":1688023980,"answer_id":76578916,"question_id":76562296,"body_markdown":"Can you please try with mentioning full package path along with ***StepDefinitions*** package name?\r\nAnd please mention class name like below with extending class-&gt; ***AbstractTestNGCucumberTests***:\r\n\r\n    public class TestNGTestRunner extends AbstractTestNGCucumberTests{\r\n    \r\n    }\r\n\r\n","title":"io.cucumber.junit.UndefinedStepException: The steps are undefined","body":"<p>Can you please try with mentioning full package path along with <em><strong>StepDefinitions</strong></em> package name?\nAnd please mention class name like below with extending class-&gt; <em><strong>AbstractTestNGCucumberTests</strong></em>:</p>\n<pre><code>public class TestNGTestRunner extends AbstractTestNGCucumberTests{\n\n}\n</code></pre>\n"}],"owner":{"account_id":20278372,"reputation":3,"user_id":21919734,"display_name":"AAa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":164,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76563072,"answer_count":2,"score":0,"last_activity_date":1688023980,"creation_date":1687848913,"question_id":76562296,"body_markdown":"I want to run some steps using Cucumber but I receive the following errors:\r\n`io.cucumber.junit.UndefinedStepException: The step &#39;I launch chrome browse&#39; and 1 other step(s) are undefined.\r\nYou can implement these steps using the snippet(s) below:\r\n`\r\n\r\nThe TestRunner.class is \r\n\r\n```\r\n@RunWith(Cucumber.class)\r\n@CucumberOptions(\r\n        features = &quot;src/test/java/Features&quot;, // Path to the directory containing your feature files\r\n        glue = &quot;StepDefinitions&quot;, // Package name where your step definitions are located\r\n        plugin = {&quot;pretty&quot;, &quot;html:target/cucumber-reports&quot;} // Specify the desired reporting format\r\n)\r\npublic class PostRunner {\r\n    // This class will be empty\r\n    // Cucumber will scan the features and step definitions based on the options provided above\r\n    // The tests will be executed based on the defined scenarios in the feature files\r\n}\r\n```\r\nProject Structure is:\r\n\r\n```\r\nsrc\r\n|   +---main\r\n|   |   +---java\r\n|   |   |   \\---PageObjectModel\r\n|   |   |           HomePage.java\r\n|   |   |           LoginPage.java\r\n|   |   |           OnboardingPage.java\r\n|   |   |           PopupNotificationPage.java\r\n|   |   |           \r\n|   |   \\---resources\r\n|   |           chromedriver.exe\r\n|   |           \r\n|   \\---test\r\n|       +---java\r\n|       |   +---Features\r\n|       |   |       Logo.feature\r\n|       |   |       SignIn.feature\r\n|       |   |       \r\n|       |   +---runner\r\n|       |   |       PostRunner.java\r\n|       |   |       \r\n|       |   \\---StepDefinitions\r\n|       |           Stepdefs.java\r\n|       |           \r\n|       \\---resources\r\n```\r\n\r\n\r\nI tried:\r\n- absolute/ relative path for the featre and glue\r\n- to change the folder from test to main\r\n\r\nThe errors are:\r\n`io.cucumber.junit.UndefinedStepException: The step &#39;I launch chrome browse&#39; and 1 other step(s) are undefined.\r\nYou can implement these steps using the snippet(s) below:`\r\n\r\nor\r\n\r\n`io.cucumber.core.feature.GluePath warnWhenWellKnownProjectSourceDirectory\r\nWARNING: Consider replacing glue path &#39;src/test/java/StepDefinitions&#39; with &#39;StepDefinitions&#39;.`","title":"io.cucumber.junit.UndefinedStepException: The steps are undefined","body":"<p>I want to run some steps using Cucumber but I receive the following errors:\n<code>io.cucumber.junit.UndefinedStepException: The step 'I launch chrome browse' and 1 other step(s) are undefined. You can implement these steps using the snippet(s) below: </code></p>\n<p>The TestRunner.class is</p>\n<pre><code>@RunWith(Cucumber.class)\n@CucumberOptions(\n        features = &quot;src/test/java/Features&quot;, // Path to the directory containing your feature files\n        glue = &quot;StepDefinitions&quot;, // Package name where your step definitions are located\n        plugin = {&quot;pretty&quot;, &quot;html:target/cucumber-reports&quot;} // Specify the desired reporting format\n)\npublic class PostRunner {\n    // This class will be empty\n    // Cucumber will scan the features and step definitions based on the options provided above\n    // The tests will be executed based on the defined scenarios in the feature files\n}\n</code></pre>\n<p>Project Structure is:</p>\n<pre><code>src\n|   +---main\n|   |   +---java\n|   |   |   \\---PageObjectModel\n|   |   |           HomePage.java\n|   |   |           LoginPage.java\n|   |   |           OnboardingPage.java\n|   |   |           PopupNotificationPage.java\n|   |   |           \n|   |   \\---resources\n|   |           chromedriver.exe\n|   |           \n|   \\---test\n|       +---java\n|       |   +---Features\n|       |   |       Logo.feature\n|       |   |       SignIn.feature\n|       |   |       \n|       |   +---runner\n|       |   |       PostRunner.java\n|       |   |       \n|       |   \\---StepDefinitions\n|       |           Stepdefs.java\n|       |           \n|       \\---resources\n</code></pre>\n<p>I tried:</p>\n<ul>\n<li>absolute/ relative path for the featre and glue</li>\n<li>to change the folder from test to main</li>\n</ul>\n<p>The errors are:\n<code>io.cucumber.junit.UndefinedStepException: The step 'I launch chrome browse' and 1 other step(s) are undefined. You can implement these steps using the snippet(s) below:</code></p>\n<p>or</p>\n<p><code>io.cucumber.core.feature.GluePath warnWhenWellKnownProjectSourceDirectory WARNING: Consider replacing glue path 'src/test/java/StepDefinitions' with 'StepDefinitions'.</code></p>\n"},{"tags":["java","spring-boot","python-requests","spring-webflux"],"comments":[{"owner":{"account_id":3168631,"reputation":3561,"user_id":2678097,"display_name":"amanin"},"score":0,"creation_date":1687982393,"post_id":76576235,"comment_id":135014500,"body_markdown":"Where does `IOUtils.copy` come from ? If you want to decode InputStream content fully to text, you could try to replace your StringWriter and IOUtils.copy with just `var txt = new String(is.readAllBytes(), StandardCharsets.UTF_8);`","body":"Where does <code>IOUtils.copy</code> come from ? If you want to decode InputStream content fully to text, you could try to replace your StringWriter and IOUtils.copy with just <code>var txt = new String(is.readAllBytes(), StandardCharsets.UTF_8);</code>"},{"owner":{"account_id":3092852,"reputation":113,"user_id":2618629,"display_name":"Xogaz"},"score":0,"creation_date":1688021511,"post_id":76576235,"comment_id":135018292,"body_markdown":"The [method](https://commons.apache.org/proper/commons-io/apidocs/org/apache/commons/io/IOUtils.html) is part of Apache&#39;s common-io. \n\nI checked if the issue lies there (see updated code), but the String is still cut off at the end.","body":"The <a href=\"https://commons.apache.org/proper/commons-io/apidocs/org/apache/commons/io/IOUtils.html\" rel=\"nofollow noreferrer\">method</a> is part of Apache&#39;s common-io.   I checked if the issue lies there (see updated code), but the String is still cut off at the end."}],"owner":{"account_id":3092852,"reputation":113,"user_id":2618629,"display_name":"Xogaz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688023799,"creation_date":1687981112,"question_id":76576235,"body_markdown":"**Update:**\r\n\r\nIt works if I call `encode()` on the string passed to the requests client. \r\n\r\n```python\r\nresponse: Response = requests.request(&#39;POST&#39;, \r\n   &quot;http://localhost:8080/api&quot;, \r\n   headers={\r\n     &#39;Accept&#39;: &quot;application/ld+json&quot;,\r\n     &#39;Content-Type&#39;: &quot;application/ld+json&quot; \r\n   }, \r\n   data=content.encode()\r\n)\r\n                \r\n```\r\nI don&#39;t really understand how the encoding (in this case to &quot;UTF-8&quot;) changes the behaviour on the server side (since Wireshark showed that the complete String was transmitted), but it seems to work for now. \r\n\r\n---\r\nI have the following custom decoder to parse JSON-LD from requests:\r\n\r\n```java\r\n\r\n    public Mono&lt;Foo&gt; decodeToMono(Publisher&lt;DataBuffer&gt; buffers, ResolvableType elementType, MimeType mimeType, Map&lt;String, Object&gt; hints) {\r\n      return DataBufferUtils.join(publisher)\r\n                .flatMap(dataBuffer -&gt; {\r\n                    try (InputStream is = dataBuffer.asInputStream(true)) {\r\n                        var result = new String(is.readAllBytes(), StandardCharsets.UTF_8);\r\n                        log.info(result);\r\n\r\n                        // some rdf logic here\r\n                        return Mono.just(...);\r\n                    } catch (Exception e) {\r\n                        log.warn(&quot;Failed to parse request of mimetype &#39;{}&#39;&quot;, mimeType);\r\n                        return Mono.error(e);\r\n                    }\r\n                });\r\n    }\r\n\r\n```\r\n\r\nI call the api using the python requests library. The logs print a valid json document such as (very simplified)\r\n\r\n```json\r\n[   \r\n    {\r\n    &quot;@id&quot;: &quot;_:Nf3d46019bcde490484128dfd01ebca40&quot;,\r\n    &quot;@type&quot;: [\r\n      &quot;https://schema.org/DefinedTerm&quot;\r\n    ],\r\n    &quot;https://schema.org/identifier&quot;: [\r\n      {\r\n        &quot;@value&quot;: &quot;tag:arithemtica+integra&quot;\r\n      }\r\n    ],\r\n    &quot;https://schema.org/termCode&quot;: [\r\n      {\r\n        &quot;@value&quot;: &quot;Arithemtica integra&quot;\r\n      }\r\n    ]\r\n  }\r\n]\r\n```\r\n\r\nPrinting the string in the StringWriter from the java decoder will result in something like\r\n\r\n```json\r\n[   \r\n    {\r\n    &quot;@id&quot;: &quot;_:Nf3d46019bcde490484128dfd01ebca40&quot;,\r\n    &quot;@type&quot;: [\r\n      &quot;https://schema.org/DefinedTerm&quot;\r\n    ],\r\n    &quot;https://schema.org/identifier&quot;: [\r\n      {\r\n        &quot;@value&quot;: &quot;tag:arithemtica+integra&quot;\r\n      }\r\n    ],\r\n    &quot;https://schema.org/termCode&quot;: [\r\n      {\r\n        &quot;@value&quot;: &quot;Arithemt\r\n```\r\n \r\nDue to the missing characters at the end, the decoding results in the exception message\r\n`Caused by: com.fasterxml.jackson.databind.JsonMappingException: Unexpected end-of-input: expected close marker for Array (start marker at [Source: (StringReader); line: 1, column: 6350])`\r\n\r\nThe cutoff seems to be arbitrary. It&#39;s always very close to the end (something like 6350 of 6356 total chars in the valid json or 7921 of 7931)\r\n\r\nI assume it has something to do with the streams cutting of early, but I honestly have no idea where to start digging for the root cause. \r\n\r\n","title":"Custom reactive decoder in Spring Boot missing characters in Inputstream","body":"<p><strong>Update:</strong></p>\n<p>It works if I call <code>encode()</code> on the string passed to the requests client.</p>\n<pre class=\"lang-py prettyprint-override\"><code>response: Response = requests.request('POST', \n   &quot;http://localhost:8080/api&quot;, \n   headers={\n     'Accept': &quot;application/ld+json&quot;,\n     'Content-Type': &quot;application/ld+json&quot; \n   }, \n   data=content.encode()\n)\n                \n</code></pre>\n<p>I don't really understand how the encoding (in this case to &quot;UTF-8&quot;) changes the behaviour on the server side (since Wireshark showed that the complete String was transmitted), but it seems to work for now.</p>\n<hr />\n<p>I have the following custom decoder to parse JSON-LD from requests:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n    public Mono&lt;Foo&gt; decodeToMono(Publisher&lt;DataBuffer&gt; buffers, ResolvableType elementType, MimeType mimeType, Map&lt;String, Object&gt; hints) {\n      return DataBufferUtils.join(publisher)\n                .flatMap(dataBuffer -&gt; {\n                    try (InputStream is = dataBuffer.asInputStream(true)) {\n                        var result = new String(is.readAllBytes(), StandardCharsets.UTF_8);\n                        log.info(result);\n\n                        // some rdf logic here\n                        return Mono.just(...);\n                    } catch (Exception e) {\n                        log.warn(&quot;Failed to parse request of mimetype '{}'&quot;, mimeType);\n                        return Mono.error(e);\n                    }\n                });\n    }\n\n</code></pre>\n<p>I call the api using the python requests library. The logs print a valid json document such as (very simplified)</p>\n<pre class=\"lang-json prettyprint-override\"><code>[   \n    {\n    &quot;@id&quot;: &quot;_:Nf3d46019bcde490484128dfd01ebca40&quot;,\n    &quot;@type&quot;: [\n      &quot;https://schema.org/DefinedTerm&quot;\n    ],\n    &quot;https://schema.org/identifier&quot;: [\n      {\n        &quot;@value&quot;: &quot;tag:arithemtica+integra&quot;\n      }\n    ],\n    &quot;https://schema.org/termCode&quot;: [\n      {\n        &quot;@value&quot;: &quot;Arithemtica integra&quot;\n      }\n    ]\n  }\n]\n</code></pre>\n<p>Printing the string in the StringWriter from the java decoder will result in something like</p>\n<pre class=\"lang-json prettyprint-override\"><code>[   \n    {\n    &quot;@id&quot;: &quot;_:Nf3d46019bcde490484128dfd01ebca40&quot;,\n    &quot;@type&quot;: [\n      &quot;https://schema.org/DefinedTerm&quot;\n    ],\n    &quot;https://schema.org/identifier&quot;: [\n      {\n        &quot;@value&quot;: &quot;tag:arithemtica+integra&quot;\n      }\n    ],\n    &quot;https://schema.org/termCode&quot;: [\n      {\n        &quot;@value&quot;: &quot;Arithemt\n</code></pre>\n<p>Due to the missing characters at the end, the decoding results in the exception message\n<code>Caused by: com.fasterxml.jackson.databind.JsonMappingException: Unexpected end-of-input: expected close marker for Array (start marker at [Source: (StringReader); line: 1, column: 6350])</code></p>\n<p>The cutoff seems to be arbitrary. It's always very close to the end (something like 6350 of 6356 total chars in the valid json or 7921 of 7931)</p>\n<p>I assume it has something to do with the streams cutting of early, but I honestly have no idea where to start digging for the root cause.</p>\n"},{"tags":["java","user-interface","responsive-design","sap-ariba"],"answers":[{"tags":[],"owner":{"account_id":1021633,"reputation":496,"user_id":1031822,"accept_rate":27,"display_name":"Dibesjr"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1443211878,"creation_date":1443211878,"answer_id":32789937,"question_id":32659023,"body_markdown":"You are able to build in responsiveness via CSS but it is not built into the Ariba Framework right now. ","title":"Ariba Framework - Responsive UI Front End?","body":"<p>You are able to build in responsiveness via CSS but it is not built into the Ariba Framework right now. </p>\n"}],"owner":{"account_id":1723893,"reputation":1525,"user_id":2323036,"accept_rate":69,"display_name":"user2323036"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":242,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":32789937,"answer_count":1,"score":1,"last_activity_date":1688022543,"creation_date":1442601987,"question_id":32659023,"body_markdown":"I want to quickly develop an application with default CRUD and search with responsive UI design which works in PC, Tablet and Mobile.\r\n\r\nI searched and found the Ariba framework, and I want to know if the pages designed in the Ariba framework are (or can be) responsive?\r\n","title":"Ariba Framework - Responsive UI Front End?","body":"<p>I want to quickly develop an application with default CRUD and search with responsive UI design which works in PC, Tablet and Mobile.</p>\n\n<p>I searched and found the Ariba framework, and I want to know if the pages designed in the Ariba framework are (or can be) responsive?</p>\n"},{"tags":["java","cobertura","test-coverage","sap-ariba"],"answers":[{"tags":[],"owner":{"account_id":5702739,"reputation":2239,"user_id":4507239,"display_name":"Shubhangi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1454928902,"creation_date":1454928902,"answer_id":35267898,"question_id":23376229,"body_markdown":"I see , in command you have not mentioned classes which you need to instrument. \r\n\r\n&lt;p&gt;*Example*: Below command works. \r\n\r\n    sh cobertura-instrument.sh --basedir `pwd` GenerateReports.class My_lib.class\r\n\r\n&lt;p&gt;\r\n*Note*:\r\n&lt;br&gt;Classes need to be mentioned as complete filename (e.g. mycls.class)\r\n&lt;br&gt;-auxClasspath : Add any classes/jars that cobertura is unable to find during instrumentation i.e. classes to exclude from coverage","title":"Cobertura 2.0.3 - unable to instrument","body":"<p>I see , in command you have not mentioned classes which you need to instrument. </p>\n\n<p><p><em>Example</em>: Below command works. </p>\n\n<pre><code>sh cobertura-instrument.sh --basedir `pwd` GenerateReports.class My_lib.class\n</code></pre>\n\n<p><p>\n<em>Note</em>:\n<br>Classes need to be mentioned as complete filename (e.g. mycls.class)\n<br>-auxClasspath : Add any classes/jars that cobertura is unable to find during instrumentation i.e. classes to exclude from coverage</p>\n"}],"owner":{"account_id":4398961,"reputation":31,"user_id":3585215,"display_name":"user3585215"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1845,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1688022520,"creation_date":1398774047,"question_id":23376229,"body_markdown":"I am using Corbetura-2.0.3 with java 1.7 and I am trying to instrument the classes in our build system via command line.  Stuck at instrumenting classes.   Please assist.\r\n\r\nHere is the command:\r\n\r\n    ./cobertura-instrument.sh \r\n       --basedir /ariba/9r2_sourcing/roots-S49r2/install/classes/ariba.app.approvable.zip \r\n       --destination /ariba/9r2_sourcing/Instrument \r\n       -auxClasspath /ariba/9r2_sourcing/roots-S49r2/install/classes\r\n\r\nWherein,   \r\n- `/ariba/9r2_sourcing/roots-S49r2/install/classes/ariba.app.approvable.zip` – zip containing classes which I would like to instrument  \r\n- `/ariba/9r2_sourcing/Instrument` – Folder to save instrumented classes  \r\n- `/ariba/9r2_sourcing/roots-S49r2/install/classes` – path where all other reference classes are present.\r\n \r\nOutput:\r\n\r\n    -bash-4.1$ ./cobertura-instrument.sh --basedir /ariba/9r2_sourcing/roots-S49r2/install/classes/ariba.app.approvable.zip --destination /ariba/9r2_sourcing/Instrument -auxClasspath /ariba/9r2_sourcing/roots-S49r2/install/classes\r\n    Cobertura 2.0.3 - GNU GPL License (NO WARRANTY) - See COPYRIGHT file\r\n    Apr 29, 2014 4:53:27 AM net.sourceforge.cobertura.coveragedata.CoverageDataFileHandler loadCoverageData\r\n    INFO: Cobertura: Loaded information on 0 classes.\r\n    Apr 29, 2014 4:53:27 AM net.sourceforge.cobertura.coveragedata.CoverageDataFileHandler saveCoverageData\r\n    INFO: Cobertura: Saved information on 0 classes.\r\n\r\nAlso tried with:\r\n\r\n* `archivesdepth` parameter as well; it gives the same above error.\r\n* I have updated the `cobertura-instrument.sh` file with the right versions of jars present in Cobertura installed location.\r\n","title":"Cobertura 2.0.3 - unable to instrument","body":"<p>I am using Corbetura-2.0.3 with java 1.7 and I am trying to instrument the classes in our build system via command line.  Stuck at instrumenting classes.   Please assist.</p>\n<p>Here is the command:</p>\n<pre><code>./cobertura-instrument.sh \n   --basedir /ariba/9r2_sourcing/roots-S49r2/install/classes/ariba.app.approvable.zip \n   --destination /ariba/9r2_sourcing/Instrument \n   -auxClasspath /ariba/9r2_sourcing/roots-S49r2/install/classes\n</code></pre>\n<p>Wherein,</p>\n<ul>\n<li><code>/ariba/9r2_sourcing/roots-S49r2/install/classes/ariba.app.approvable.zip</code> – zip containing classes which I would like to instrument</li>\n<li><code>/ariba/9r2_sourcing/Instrument</code> – Folder to save instrumented classes</li>\n<li><code>/ariba/9r2_sourcing/roots-S49r2/install/classes</code> – path where all other reference classes are present.</li>\n</ul>\n<p>Output:</p>\n<pre><code>-bash-4.1$ ./cobertura-instrument.sh --basedir /ariba/9r2_sourcing/roots-S49r2/install/classes/ariba.app.approvable.zip --destination /ariba/9r2_sourcing/Instrument -auxClasspath /ariba/9r2_sourcing/roots-S49r2/install/classes\nCobertura 2.0.3 - GNU GPL License (NO WARRANTY) - See COPYRIGHT file\nApr 29, 2014 4:53:27 AM net.sourceforge.cobertura.coveragedata.CoverageDataFileHandler loadCoverageData\nINFO: Cobertura: Loaded information on 0 classes.\nApr 29, 2014 4:53:27 AM net.sourceforge.cobertura.coveragedata.CoverageDataFileHandler saveCoverageData\nINFO: Cobertura: Saved information on 0 classes.\n</code></pre>\n<p>Also tried with:</p>\n<ul>\n<li><code>archivesdepth</code> parameter as well; it gives the same above error.</li>\n<li>I have updated the <code>cobertura-instrument.sh</code> file with the right versions of jars present in Cobertura installed location.</li>\n</ul>\n"},{"tags":["java","spring","jwt","spring-rest"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1688016951,"post_id":76578222,"comment_id":135017649,"body_markdown":"Possible duplicate of https://stackoverflow.com/questions/34595605/how-to-manage-exceptions-thrown-in-filters-in-spring","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/34595605/how-to-manage-exceptions-thrown-in-filters-in-spring\" title=\"how to manage exceptions thrown in filters in spring\">stackoverflow.com/questions/34595605/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":28695489,"reputation":611,"user_id":21973805,"display_name":"Ahmed Nabil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688022505,"creation_date":1688022505,"answer_id":76578764,"question_id":76578222,"body_markdown":"the simplest way would be to use @ResponseStatus\r\nsomething like this\r\n\r\n    @ResponseStatus(value = HttpStatus.FORBIDDEN, reason = &quot;JWT token is expired or invalid!&quot;)\r\n    public class JwtAuthenticationException extends RuntimeException {\r\n    }","title":"How to redirect exception to the user(browser) from filter?","body":"<p>the simplest way would be to use @ResponseStatus\nsomething like this</p>\n<pre><code>@ResponseStatus(value = HttpStatus.FORBIDDEN, reason = &quot;JWT token is expired or invalid!&quot;)\npublic class JwtAuthenticationException extends RuntimeException {\n}\n</code></pre>\n"}],"owner":{"account_id":28909438,"reputation":1,"user_id":22142779,"display_name":"Artem"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688022505,"creation_date":1688015719,"question_id":76578222,"body_markdown":"I have a problem with exception handling in Spring Rest application + JWT. I know how to handle exceptions in controllers in oder to send them to user(browser). But how I can redirect exceptions from filter to user if it occurs?\r\n\r\nDETAILS ABOUT MY PROBLEM:\r\nRecently I started learning authentication with JWT. Everything is OK while token is valid and not expired. But when the expiration time finishes, I receive my custom exeption with message &quot;Token is expired or invalid!&quot; in run console. While I want to send it to user(browser). Maybe someone knows how to solve this?\r\n\r\nFilter:\r\n\r\n@Component\r\npublic class JwtTokenFilter extends OncePerRequestFilter {\r\n\r\n    private final JwtTokenProvider jwtTokenProvider;\r\n\r\n    @Autowired\r\n    public JwtTokenFilter(JwtTokenProvider jwtTokenProvider) {\r\n        this.jwtTokenProvider = jwtTokenProvider;\r\n    }\r\n\r\n    @Override\r\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\r\n        String token = jwtTokenProvider.resolveToken(request);\r\n\r\n        if (token != null &amp;&amp; jwtTokenProvider.validateToken(token)){\r\n            Authentication authentication = jwtTokenProvider.getAuthentication(token);\r\n\r\n            if(authentication != null){\r\n                SecurityContextHolder.getContext().setAuthentication(authentication);\r\n            }\r\n        }\r\n        filterChain.doFilter(request,response);\r\n    }\r\n}\r\n\r\nJwtProvider (here I check token validity):\r\n\r\n@Component\r\npublic class JwtTokenProvider {\r\n\r\n    @Value(&quot;${jwt.token.secret}&quot;)\r\n    private String secret;\r\n    @Value(&quot;${jwt.token.expired}&quot;)\r\n    private long validityTimeInMillis;\r\n\r\n    private final UserDetailsService userDetailsService;\r\n\r\n    @Autowired\r\n    public JwtTokenProvider(UserDetailsService userDetailsService) {\r\n        this.userDetailsService = userDetailsService;\r\n    }\r\n\r\n    @PostConstruct\r\n    protected void init(){\r\n        secret = Base64.getEncoder().encodeToString(secret.getBytes());\r\n    }\r\n\r\n    public String createToken(String email, User.Role role){\r\n        return Jwts.builder()\r\n                .setSubject(email)\r\n                .claim(&quot;role&quot;, role)\r\n                .setIssuedAt(new Date(System.currentTimeMillis()))\r\n                .setExpiration((new Date(System.currentTimeMillis() + validityTimeInMillis)))\r\n                .signWith(getSignInKey(), SignatureAlgorithm.HS256)\r\n                .compact();\r\n    }\r\n\r\n    private Key getSignInKey() {\r\n        byte[] keyBytes = Base64.getDecoder().decode(secret);\r\n        return Keys.hmacShaKeyFor(keyBytes);\r\n    }\r\n\r\n    public Authentication getAuthentication(String token){\r\n        UserDetails userDetails = userDetailsService.loadUserByUsername(getEmail(token));\r\n        return new UsernamePasswordAuthenticationToken(userDetails, &quot;&quot;, userDetails.getAuthorities());\r\n    }\r\n\r\n    public String getEmail(String token){\r\n        return extractAllClaims(token).getSubject();\r\n    }\r\n\r\n    public String resolveToken(HttpServletRequest request){\r\n        String bearerToken = request.getHeader(&quot;Authorization&quot;);\r\n\r\n        if(bearerToken != null &amp;&amp; bearerToken.startsWith(&quot;Bearer_&quot;)){\r\n            return bearerToken.substring(7);\r\n        }\r\n        return null;\r\n    }\r\n\r\n    public boolean validateToken(String token) {\r\n        try{\r\n            Claims claims = extractAllClaims(token);\r\n\r\n            if(claims.getExpiration().getTime() &lt; System.currentTimeMillis()){\r\n                return false;\r\n            }\r\n            return true;\r\n\r\n        } catch (JwtException | IllegalArgumentException e){\r\n            throw new JwtAuthenticationException(&quot;JWT token is expired or invalid!&quot;);\r\n        }\r\n    }\r\n\r\n    private Claims extractAllClaims(String token){\r\n        return Jwts.parserBuilder()\r\n                .setSigningKey(getSignInKey())\r\n                .build()\r\n                .parseClaimsJws(token)\r\n                .getBody();\r\n    }\r\n}\r\n\r\nI&#39;ve tried to send error through response afrer catching it in filter and many other silly things (which did not help) =)","title":"How to redirect exception to the user(browser) from filter?","body":"<p>I have a problem with exception handling in Spring Rest application + JWT. I know how to handle exceptions in controllers in oder to send them to user(browser). But how I can redirect exceptions from filter to user if it occurs?</p>\n<p>DETAILS ABOUT MY PROBLEM:\nRecently I started learning authentication with JWT. Everything is OK while token is valid and not expired. But when the expiration time finishes, I receive my custom exeption with message &quot;Token is expired or invalid!&quot; in run console. While I want to send it to user(browser). Maybe someone knows how to solve this?</p>\n<p>Filter:</p>\n<p>@Component\npublic class JwtTokenFilter extends OncePerRequestFilter {</p>\n<pre><code>private final JwtTokenProvider jwtTokenProvider;\n\n@Autowired\npublic JwtTokenFilter(JwtTokenProvider jwtTokenProvider) {\n    this.jwtTokenProvider = jwtTokenProvider;\n}\n\n@Override\nprotected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\n    String token = jwtTokenProvider.resolveToken(request);\n\n    if (token != null &amp;&amp; jwtTokenProvider.validateToken(token)){\n        Authentication authentication = jwtTokenProvider.getAuthentication(token);\n\n        if(authentication != null){\n            SecurityContextHolder.getContext().setAuthentication(authentication);\n        }\n    }\n    filterChain.doFilter(request,response);\n}\n</code></pre>\n<p>}</p>\n<p>JwtProvider (here I check token validity):</p>\n<p>@Component\npublic class JwtTokenProvider {</p>\n<pre><code>@Value(&quot;${jwt.token.secret}&quot;)\nprivate String secret;\n@Value(&quot;${jwt.token.expired}&quot;)\nprivate long validityTimeInMillis;\n\nprivate final UserDetailsService userDetailsService;\n\n@Autowired\npublic JwtTokenProvider(UserDetailsService userDetailsService) {\n    this.userDetailsService = userDetailsService;\n}\n\n@PostConstruct\nprotected void init(){\n    secret = Base64.getEncoder().encodeToString(secret.getBytes());\n}\n\npublic String createToken(String email, User.Role role){\n    return Jwts.builder()\n            .setSubject(email)\n            .claim(&quot;role&quot;, role)\n            .setIssuedAt(new Date(System.currentTimeMillis()))\n            .setExpiration((new Date(System.currentTimeMillis() + validityTimeInMillis)))\n            .signWith(getSignInKey(), SignatureAlgorithm.HS256)\n            .compact();\n}\n\nprivate Key getSignInKey() {\n    byte[] keyBytes = Base64.getDecoder().decode(secret);\n    return Keys.hmacShaKeyFor(keyBytes);\n}\n\npublic Authentication getAuthentication(String token){\n    UserDetails userDetails = userDetailsService.loadUserByUsername(getEmail(token));\n    return new UsernamePasswordAuthenticationToken(userDetails, &quot;&quot;, userDetails.getAuthorities());\n}\n\npublic String getEmail(String token){\n    return extractAllClaims(token).getSubject();\n}\n\npublic String resolveToken(HttpServletRequest request){\n    String bearerToken = request.getHeader(&quot;Authorization&quot;);\n\n    if(bearerToken != null &amp;&amp; bearerToken.startsWith(&quot;Bearer_&quot;)){\n        return bearerToken.substring(7);\n    }\n    return null;\n}\n\npublic boolean validateToken(String token) {\n    try{\n        Claims claims = extractAllClaims(token);\n\n        if(claims.getExpiration().getTime() &lt; System.currentTimeMillis()){\n            return false;\n        }\n        return true;\n\n    } catch (JwtException | IllegalArgumentException e){\n        throw new JwtAuthenticationException(&quot;JWT token is expired or invalid!&quot;);\n    }\n}\n\nprivate Claims extractAllClaims(String token){\n    return Jwts.parserBuilder()\n            .setSigningKey(getSignInKey())\n            .build()\n            .parseClaimsJws(token)\n            .getBody();\n}\n</code></pre>\n<p>}</p>\n<p>I've tried to send error through response afrer catching it in filter and many other silly things (which did not help) =)</p>\n"},{"tags":["java","apache-httpclient-4.x","sap-ariba"],"owner":{"account_id":2922140,"reputation":482,"user_id":2504156,"accept_rate":70,"display_name":"Gana"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":795,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1688022356,"creation_date":1423021801,"question_id":28313183,"body_markdown":"We are using httpclient &amp; httpmime of version 4.3.6. \r\nWe are not able to find a way to add Content-Id, encoding fields to mimepart!\r\nBelow is the code snippet in is:\r\n    \r\n    HttpEntity mimeEntity = MultipartEntityBuilder.create()\r\n                \t\t.setBoundary(&quot;_boundary_&quot;)\r\n                \t\t.addTextBody(&quot;xml_body&quot;, xmlString, ContentType.TEXT_XML)\r\n                \t\t.addBinaryBody(&quot;pdf_file_name&quot;, pdf, ContentType.create(&quot; application/pdf&quot;), pdf.getName())\r\n                \t\t.build();\r\n\r\nThe objective is to have the below result in the http post envelope:\r\n\r\n    Content-ID: &lt;attachment_1&gt;\r\n    content-transfer-encoding: base64\r\n    Content-Disposition: attachment; filename=&quot;attachment.pdf&quot;    \r\n    content-type: application/pdf\r\n\r\nWhat is the default content-transfer-encoding value to be used for images/pdf/.doc files, which the server should accept by default? We are posting to &quot;https&quot; url of Ariba Network. Is encoding of base64 mandatory for posting to Ariba Network server?\r\n\r\nIn some places i have seen the encoding was 7bit/8bit, which is not supported in this api (dont know the reason &amp; background).\r\nThe tutorial did not provide an example on this. Great, if you can provide a code snippet that can be of help or a link!!! \r\n\r\nThanks    \r\n","title":"Adding content-id and encoding to multipart using apache http client/mime","body":"<p>We are using httpclient &amp; httpmime of version 4.3.6. \nWe are not able to find a way to add Content-Id, encoding fields to mimepart!\nBelow is the code snippet in is:</p>\n\n<pre><code>HttpEntity mimeEntity = MultipartEntityBuilder.create()\n                    .setBoundary(\"_boundary_\")\n                    .addTextBody(\"xml_body\", xmlString, ContentType.TEXT_XML)\n                    .addBinaryBody(\"pdf_file_name\", pdf, ContentType.create(\" application/pdf\"), pdf.getName())\n                    .build();\n</code></pre>\n\n<p>The objective is to have the below result in the http post envelope:</p>\n\n<pre><code>Content-ID: &lt;attachment_1&gt;\ncontent-transfer-encoding: base64\nContent-Disposition: attachment; filename=\"attachment.pdf\"    \ncontent-type: application/pdf\n</code></pre>\n\n<p>What is the default content-transfer-encoding value to be used for images/pdf/.doc files, which the server should accept by default? We are posting to \"https\" url of Ariba Network. Is encoding of base64 mandatory for posting to Ariba Network server?</p>\n\n<p>In some places i have seen the encoding was 7bit/8bit, which is not supported in this api (dont know the reason &amp; background).\nThe tutorial did not provide an example on this. Great, if you can provide a code snippet that can be of help or a link!!! </p>\n\n<p>Thanks    </p>\n"},{"tags":["java","web-services","sap-ariba"],"comments":[{"owner":{"account_id":3013735,"reputation":13241,"user_id":2556520,"display_name":"bhspencer"},"score":0,"creation_date":1467820521,"post_id":38227661,"comment_id":63878650,"body_markdown":"Since you have an InputStream you can use &#39;Files.copy(InputStream in, Path target)&#39;","body":"Since you have an InputStream you can use &#39;Files.copy(InputStream in, Path target)&#39;"},{"owner":{"account_id":8769460,"reputation":1,"user_id":6556796,"display_name":"Alan Allbright"},"score":0,"creation_date":1468959986,"post_id":38227661,"comment_id":64339799,"body_markdown":"Thank you for your suggestion but I end up with the output zip file is invalid.  I suspect it is because the output is in xml format (reference below for example of response).  I need to somehow parse the xml and then just save out the zip content.  Any additional help you can provide is appreciated.","body":"Thank you for your suggestion but I end up with the output zip file is invalid.  I suspect it is because the output is in xml format (reference below for example of response).  I need to somehow parse the xml and then just save out the zip content.  Any additional help you can provide is appreciated."},{"owner":{"account_id":8769460,"reputation":1,"user_id":6556796,"display_name":"Alan Allbright"},"score":0,"creation_date":1468960180,"post_id":38227661,"comment_id":64339890,"body_markdown":"&lt;soap:Body&gt;\n      &lt;ContractHeaderExportReply xmlns=&quot;urn:Ariba:Sourcing:vrealm_2412&quot;&gt;\n         &lt;WSContractHeaderExportOutputBean_Item&gt;\n            &lt;item&gt;\n               &lt;Status&gt;0&lt;/Status&gt;\n               &lt;ErrorMessage&gt;The web service method is successfully executed.&lt;/ErrorMessage&gt;\n               &lt;HeaderExportFile&gt;zip file content is here....&lt;/HeaderExportFile&gt;\n               &lt;MimeType&gt;application/zip&lt;/MimeType&gt;\n            &lt;/item&gt;\n         &lt;/WSContractHeaderExportOutputBean_Item&gt;\n      &lt;/ContractHeaderExportReply&gt;\n   &lt;/soap:Body&gt;","body":"&lt;soap:Body&gt;       &lt;ContractHeaderExportReply xmlns=&quot;urn:Ariba:Sourcing:vrealm_2412&quot;&gt;          &lt;WSContractHeaderExportOutputBean_Item&gt;             &lt;item&gt;                &lt;Status&gt;0&lt;/Status&gt;                &lt;ErrorMessage&gt;The web service method is successfully executed.&lt;/ErrorMessage&gt;                &lt;HeaderExportFile&gt;zip file content is here....&lt;/HeaderExportFile&gt;                &lt;MimeType&gt;application/zip&lt;/MimeType&gt;             &lt;/item&gt;          &lt;/WSContractHeaderExportOutputBean_Item&gt;       &lt;/ContractHeaderExportReply&gt;    &lt;/soap:Body&gt;"}],"owner":{"account_id":8769460,"reputation":1,"user_id":6556796,"display_name":"Alan Allbright"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1350,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688022335,"creation_date":1467818416,"question_id":38227661,"body_markdown":"I have been successful in calling an SAP Ariba web service.  However, the response includes a zip file which I have not been able to figure out how to save.  Here is a snippet of the code I have in place to call the web service:\r\n\r\n    //Code to make a webservice HTTP request\r\n    URL url = new URL(strEndPoint);\r\n    URLConnection connection = url.openConnection();\r\n    HttpURLConnection httpConn = (HttpURLConnection)connection;\r\n    ByteArrayOutputStream bout = new ByteArrayOutputStream();\r\n    OutputStream out = null;\r\n    InputStreamReader isr = null;\r\n    BufferedReader in = null;\r\n    byte[] buffer = new byte[strXMLInput.length()];\r\n    buffer = strXMLInput.getBytes();\r\n    bout.write(buffer);\r\n    byte[] b = bout.toByteArray();\r\n      \r\n    // Set the appropriate HTTP parameters.\r\n    httpConn.setRequestProperty(&quot;Content-Length&quot;, String.valueOf(b.length));\r\n    httpConn.setRequestProperty(&quot;Content-Type&quot;, &quot;text/xml; charset=utf-8&quot;);\r\n       \r\n    //Optional: set your action\r\n    //httpConn.setRequestProperty(&quot;SOAPAction&quot;, strEndPoint);\r\n    httpConn.setRequestMethod(&quot;POST&quot;);\r\n    httpConn.setDoOutput(true);\r\n    httpConn.setDoInput(true);\r\n    out = httpConn.getOutputStream();\r\n       \r\n    // write the content of the request to the outputstream of the HTTP Connection.\r\n    out.write(b);\r\n    out.close();\r\n    \r\n    // read the response.\r\n    isr = new InputStreamReader(httpConn.getInputStream());\r\n    in = new BufferedReader(isr);\r\n    \r\n    // write the SOAP message response to a String.\r\n    while ((strResponse = in.readLine()) != null) \r\n    {\r\n      strResponseOut = strResponseOut + strResponse + &quot;\\n&quot;;\r\n    }\r\n\r\nAppreciate any guidance on how to save the file from the web service response in Java. \r\n\r\nEDIT (author comments merged): I end up with the output zip file is invalid. I suspect it is because the output is in XML format (reference below for example of response). I need to somehow parse the XML and then just save out the ZIP content.\r\n```\r\n&lt;soap:Body&gt;\r\n  &lt;ContractHeaderExportReply xmlns=&quot;urn:Ariba:Sourcing:vrealm_2412&quot;&gt;\r\n    &lt;WSContractHeaderExportOutputBean_Item&gt;\r\n      &lt;item&gt;\r\n        &lt;Status&gt;0&lt;/Status&gt;\r\n        &lt;ErrorMessage&gt;The web service method is successfully executed.&lt;/ErrorMessage&gt;\r\n        &lt;HeaderExportFile&gt;zip file content is here....&lt;/HeaderExportFile&gt;\r\n        &lt;MimeType&gt;application/zip&lt;/MimeType&gt;\r\n      &lt;/item&gt;\r\n    &lt;/WSContractHeaderExportOutputBean_Item&gt;\r\n  &lt;/ContractHeaderExportReply&gt;\r\n&lt;/soap:Body&gt;\r\n```\r\n","title":"How to save a file from a web service response in java?","body":"<p>I have been successful in calling an SAP Ariba web service.  However, the response includes a zip file which I have not been able to figure out how to save.  Here is a snippet of the code I have in place to call the web service:</p>\n<pre><code>//Code to make a webservice HTTP request\nURL url = new URL(strEndPoint);\nURLConnection connection = url.openConnection();\nHttpURLConnection httpConn = (HttpURLConnection)connection;\nByteArrayOutputStream bout = new ByteArrayOutputStream();\nOutputStream out = null;\nInputStreamReader isr = null;\nBufferedReader in = null;\nbyte[] buffer = new byte[strXMLInput.length()];\nbuffer = strXMLInput.getBytes();\nbout.write(buffer);\nbyte[] b = bout.toByteArray();\n  \n// Set the appropriate HTTP parameters.\nhttpConn.setRequestProperty(&quot;Content-Length&quot;, String.valueOf(b.length));\nhttpConn.setRequestProperty(&quot;Content-Type&quot;, &quot;text/xml; charset=utf-8&quot;);\n   \n//Optional: set your action\n//httpConn.setRequestProperty(&quot;SOAPAction&quot;, strEndPoint);\nhttpConn.setRequestMethod(&quot;POST&quot;);\nhttpConn.setDoOutput(true);\nhttpConn.setDoInput(true);\nout = httpConn.getOutputStream();\n   \n// write the content of the request to the outputstream of the HTTP Connection.\nout.write(b);\nout.close();\n\n// read the response.\nisr = new InputStreamReader(httpConn.getInputStream());\nin = new BufferedReader(isr);\n\n// write the SOAP message response to a String.\nwhile ((strResponse = in.readLine()) != null) \n{\n  strResponseOut = strResponseOut + strResponse + &quot;\\n&quot;;\n}\n</code></pre>\n<p>Appreciate any guidance on how to save the file from the web service response in Java.</p>\n<p>EDIT (author comments merged): I end up with the output zip file is invalid. I suspect it is because the output is in XML format (reference below for example of response). I need to somehow parse the XML and then just save out the ZIP content.</p>\n<pre><code>&lt;soap:Body&gt;\n  &lt;ContractHeaderExportReply xmlns=&quot;urn:Ariba:Sourcing:vrealm_2412&quot;&gt;\n    &lt;WSContractHeaderExportOutputBean_Item&gt;\n      &lt;item&gt;\n        &lt;Status&gt;0&lt;/Status&gt;\n        &lt;ErrorMessage&gt;The web service method is successfully executed.&lt;/ErrorMessage&gt;\n        &lt;HeaderExportFile&gt;zip file content is here....&lt;/HeaderExportFile&gt;\n        &lt;MimeType&gt;application/zip&lt;/MimeType&gt;\n      &lt;/item&gt;\n    &lt;/WSContractHeaderExportOutputBean_Item&gt;\n  &lt;/ContractHeaderExportReply&gt;\n&lt;/soap:Body&gt;\n</code></pre>\n"},{"tags":["java","netsuite","openair"],"comments":[{"owner":{"account_id":11288679,"reputation":923,"user_id":8278630,"display_name":"Farkhod Abdukodirov"},"score":0,"creation_date":1688003033,"post_id":76577322,"comment_id":135016660,"body_markdown":"what is your question?!","body":"what is your question?!"},{"owner":{"account_id":1635690,"reputation":150047,"user_id":1509264,"accept_rate":58,"display_name":"MT0"},"score":1,"creation_date":1688021829,"post_id":76577322,"comment_id":135018358,"body_markdown":"I’m voting to close this question because there is no question. If you want to post a self-answered question then the question should contain a question (and no answer) and you should include an answer with the answer.","body":"I’m voting to close this question because there is no question. If you want to post a self-answered question then the question should contain a question (and no answer) and you should include an answer with the answer."}],"owner":{"account_id":28915435,"reputation":1,"user_id":22147518,"display_name":"KARAN KOHALE"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":248,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688021873,"creation_date":1687996243,"question_id":76577322,"body_markdown":"Go to **customization &gt; List, Records &amp; Fields &gt; Item fields** . Edit that custom field and on the Validation &amp; Defaulting tab you can uncheck the mandatory field and then just save.\r\n\r\n\r\nOR \r\n\r\nYou can navigate to **Customization &gt;&gt; Forms &gt;&gt; Entry Form**.  Then edit your form whatever it is.\r\n\r\nI was trying to disable mandatory fields while creating an employee.","title":"How to disable Mandatory Fields in Oracle NetSuite?","body":"<p>Go to <strong>customization &gt; List, Records &amp; Fields &gt; Item fields</strong> . Edit that custom field and on the Validation &amp; Defaulting tab you can uncheck the mandatory field and then just save.</p>\n<p>OR</p>\n<p>You can navigate to <strong>Customization &gt;&gt; Forms &gt;&gt; Entry Form</strong>.  Then edit your form whatever it is.</p>\n<p>I was trying to disable mandatory fields while creating an employee.</p>\n"},{"tags":["java","vaadin"],"answers":[{"tags":[],"owner":{"account_id":3837378,"reputation":35463,"user_id":3181392,"display_name":"cfrick"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1688021518,"creation_date":1688021518,"answer_id":76578661,"question_id":76578503,"body_markdown":"The error states, that you have not installed your license.\r\n\r\n&gt;  Unable to validate the license, please check your internet connection. If you need to work offline then please go to https://vaadin.com/pro/validate- license?\r\n\r\n22 is no longer supported for free (ended March 23). If you have a license,\r\ninstall it - if not, update to 23, which is the current free LTS.\r\n\r\n&gt; Vaadin 22 is the latest stable version to support Java 8, and will be\r\n&gt; exceptionally maintained for an extra year, until **March 2023**, to help\r\n&gt; transition to Java 11. **Prime customers will get support until Match [sic] 2024**.\r\n&gt; \r\n&gt; ---\r\n&gt; \r\n&gt; Source: https://vaadin.com/releases/\r\n","title":"Error in Vaadin project when upgrading from 22.0.2 to 22.1.0 version","body":"<p>The error states, that you have not installed your license.</p>\n<blockquote>\n<p>Unable to validate the license, please check your internet connection. If you need to work offline then please go to <a href=\"https://vaadin.com/pro/validate-\" rel=\"nofollow noreferrer\">https://vaadin.com/pro/validate-</a> license?</p>\n</blockquote>\n<p>22 is no longer supported for free (ended March 23). If you have a license,\ninstall it - if not, update to 23, which is the current free LTS.</p>\n<blockquote>\n<p>Vaadin 22 is the latest stable version to support Java 8, and will be\nexceptionally maintained for an extra year, until <strong>March 2023</strong>, to help\ntransition to Java 11. <strong>Prime customers will get support until Match [sic] 2024</strong>.</p>\n<hr />\n<p>Source: <a href=\"https://vaadin.com/releases/\" rel=\"nofollow noreferrer\">https://vaadin.com/releases/</a></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2759852,"reputation":7920,"user_id":2376954,"display_name":"Leif &#197;strand"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1688021632,"creation_date":1688021632,"answer_id":76578668,"question_id":76578503,"body_markdown":"Vaadin 22.1 is a commercial feature in itself, as described in the release notes.\r\n\r\nVaadin 22 was originally supposed to follow the same scheme as Vaadin versions 15 - 21 to only be maintained for a couple of months until the next major version was released. It was realized that some users were stuck on Vaadin 22 because the minimum required Java version was increased in Vaadin 23. For this reason, the maintenance duration for Vaadin 22 was extended by 12 months to give users time to upgrade. Those 12 additional months have now passed and free maintenance has ended.","title":"Error in Vaadin project when upgrading from 22.0.2 to 22.1.0 version","body":"<p>Vaadin 22.1 is a commercial feature in itself, as described in the release notes.</p>\n<p>Vaadin 22 was originally supposed to follow the same scheme as Vaadin versions 15 - 21 to only be maintained for a couple of months until the next major version was released. It was realized that some users were stuck on Vaadin 22 because the minimum required Java version was increased in Vaadin 23. For this reason, the maintenance duration for Vaadin 22 was extended by 12 months to give users time to upgrade. Those 12 additional months have now passed and free maintenance has ended.</p>\n"}],"owner":{"account_id":28916647,"reputation":51,"user_id":22148475,"display_name":"jruizj74"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":130,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76578668,"answer_count":2,"score":0,"last_activity_date":1688021632,"creation_date":1688019845,"question_id":76578503,"body_markdown":"I have tried to upgrade my Vaadin version from 22.0.2 to 22.1.0 in order to solve this vulnerability:\r\n\r\nhttps://vaadin.com/security/cve-2023-25499?utm_campaign=Vaadin%20Security%20Advisories&amp;utm_medium=email&amp;_hsmi=263537165&amp;_hsenc=p2ANqtz-_okTMU7vlUb8lpc_UF0qnQ586WYzHfDWUQmpJcsbLmzjUrUBkVugEYeUTPuKQE9gjJxp_pgn-8pz0u84xpumm7lEO9Cg&amp;utm_content=263537165&amp;utm_source=hs_email\r\n\r\nBut when I compile the project whith maven compile I get this message:\r\n\r\n[INFO] Opening system browser to validate license. If the browser is not opened, please open https://vaadin.com/pro/validate-license?connect=76ed2a34-0e7d-4371-a8fe-18088ed1636e&amp;product\r\nName=flow&amp;productVersion=9.1.2 manually\r\n[INFO] For CI/CD build servers, you need to download a server license key, which can only be used for production builds. You can download a server license key from https://vaadin.com/my\r\naccount/licenses.\r\nIf you are working offline in development mode, please visit https://vaadin.com/pro/validate-license?getOfflineKey=mid-785f5586-288733d9 for an offline development mode license.   \r\n     \r\n...\r\n\r\n[ERROR] Failed to execute goal com.vaadin:vaadin-maven-plugin:22.1.0:build-frontend (build-frontend) on project proyecto-app: Execution build-frontend of goal com.vaadin:vaadin-maven-p\r\nlugin:22.1.0:build-frontend failed: Unable to validate the license, please check your internet connection. If you need to work offline then please go to https://vaadin.com/pro/validate-\r\nlicense?getOfflineKey=mid-785f5586-288733d9 to retrieve an offline key.\r\n[ERROR] For CI/CD build servers, you need to download a server license key, which can work offline to create production builds. You can download a server license key from https://vaadin\r\n.com/myaccount/licenses.\r\n\r\nI don&#39;t use any commercial feature, in fact the previous version works without any problem.\r\nWhy does this new version fails when I haven&#39;t change any code? How can I solve it?","title":"Error in Vaadin project when upgrading from 22.0.2 to 22.1.0 version","body":"<p>I have tried to upgrade my Vaadin version from 22.0.2 to 22.1.0 in order to solve this vulnerability:</p>\n<p><a href=\"https://vaadin.com/security/cve-2023-25499?utm_campaign=Vaadin%20Security%20Advisories&amp;utm_medium=email&amp;_hsmi=263537165&amp;_hsenc=p2ANqtz-_okTMU7vlUb8lpc_UF0qnQ586WYzHfDWUQmpJcsbLmzjUrUBkVugEYeUTPuKQE9gjJxp_pgn-8pz0u84xpumm7lEO9Cg&amp;utm_content=263537165&amp;utm_source=hs_email\" rel=\"nofollow noreferrer\">https://vaadin.com/security/cve-2023-25499?utm_campaign=Vaadin%20Security%20Advisories&amp;utm_medium=email&amp;_hsmi=263537165&amp;_hsenc=p2ANqtz-_okTMU7vlUb8lpc_UF0qnQ586WYzHfDWUQmpJcsbLmzjUrUBkVugEYeUTPuKQE9gjJxp_pgn-8pz0u84xpumm7lEO9Cg&amp;utm_content=263537165&amp;utm_source=hs_email</a></p>\n<p>But when I compile the project whith maven compile I get this message:</p>\n<p>[INFO] Opening system browser to validate license. If the browser is not opened, please open <a href=\"https://vaadin.com/pro/validate-license?connect=76ed2a34-0e7d-4371-a8fe-18088ed1636e&amp;product\" rel=\"nofollow noreferrer\">https://vaadin.com/pro/validate-license?connect=76ed2a34-0e7d-4371-a8fe-18088ed1636e&amp;product</a>\nName=flow&amp;productVersion=9.1.2 manually\n[INFO] For CI/CD build servers, you need to download a server license key, which can only be used for production builds. You can download a server license key from <a href=\"https://vaadin.com/my\" rel=\"nofollow noreferrer\">https://vaadin.com/my</a>\naccount/licenses.\nIf you are working offline in development mode, please visit <a href=\"https://vaadin.com/pro/validate-license?getOfflineKey=mid-785f5586-288733d9\" rel=\"nofollow noreferrer\">https://vaadin.com/pro/validate-license?getOfflineKey=mid-785f5586-288733d9</a> for an offline development mode license.</p>\n<p>...</p>\n<p>[ERROR] Failed to execute goal com.vaadin:vaadin-maven-plugin:22.1.0:build-frontend (build-frontend) on project proyecto-app: Execution build-frontend of goal com.vaadin:vaadin-maven-p\nlugin:22.1.0:build-frontend failed: Unable to validate the license, please check your internet connection. If you need to work offline then please go to <a href=\"https://vaadin.com/pro/validate-\" rel=\"nofollow noreferrer\">https://vaadin.com/pro/validate-</a>\nlicense?getOfflineKey=mid-785f5586-288733d9 to retrieve an offline key.\n[ERROR] For CI/CD build servers, you need to download a server license key, which can work offline to create production builds. You can download a server license key from https://vaadin\n.com/myaccount/licenses.</p>\n<p>I don't use any commercial feature, in fact the previous version works without any problem.\nWhy does this new version fails when I haven't change any code? How can I solve it?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9653,"page":339,"page_size":100}
