{"items":[{"tags":["java","spring-boot","tomcat"],"answers":[{"tags":[],"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683805525,"creation_date":1683805525,"answer_id":76227290,"question_id":76227093,"body_markdown":"That&#39;s not what usually is considered network traffic. Those solutions are to intercept the Java stream used for the HTTP traffic of Spring MVC. You mention using Spring but not Spring MVC explicitly. In any case to capture network traffic without any coding you could use a packet capture tool, like [Wireshark][1]. Note that you will not be able to decrypt HTTPS out of the box. It requires some [extra configurations and access to secret keys][2].\r\n\r\nAnother option for HTTP traffic is to enable [Java SSL debug log][3]. It can be very verbose but you don&#39;t need extra steps or learn a new tool.\r\n\r\n\r\n  [1]: https://www.wireshark.org/\r\n  [2]: https://www.comparitech.com/net-admin/decrypt-ssl-with-wireshark/\r\n  [3]: https://docs.oracle.com/javase/8/docs/technotes/guides/security/jsse/ReadDebug.html","title":"how to view network traffic for tomcat and spring","body":"<p>That's not what usually is considered network traffic. Those solutions are to intercept the Java stream used for the HTTP traffic of Spring MVC. You mention using Spring but not Spring MVC explicitly. In any case to capture network traffic without any coding you could use a packet capture tool, like <a href=\"https://www.wireshark.org/\" rel=\"nofollow noreferrer\">Wireshark</a>. Note that you will not be able to decrypt HTTPS out of the box. It requires some <a href=\"https://www.comparitech.com/net-admin/decrypt-ssl-with-wireshark/\" rel=\"nofollow noreferrer\">extra configurations and access to secret keys</a>.</p>\n<p>Another option for HTTP traffic is to enable <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/security/jsse/ReadDebug.html\" rel=\"nofollow noreferrer\">Java SSL debug log</a>. It can be very verbose but you don't need extra steps or learn a new tool.</p>\n"}],"owner":{"account_id":13508220,"reputation":259,"user_id":9745488,"display_name":"Oxnard"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":266,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683805525,"creation_date":1683804269,"question_id":76227093,"body_markdown":"Using Spring 2.0.3\r\nI would like to know how to configure tomcat so as to view the network traffic. I have looked at [Logging all network traffic][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/30942818/logging-all-network-traffic-in-spring-mvc\r\n\r\nbut the solution there requires much coding would like to avoid. I am looking for some setting which would output what is sent over the wire.","title":"how to view network traffic for tomcat and spring","body":"<p>Using Spring 2.0.3\nI would like to know how to configure tomcat so as to view the network traffic. I have looked at <a href=\"https://stackoverflow.com/questions/30942818/logging-all-network-traffic-in-spring-mvc\">Logging all network traffic</a></p>\n<p>but the solution there requires much coding would like to avoid. I am looking for some setting which would output what is sent over the wire.</p>\n"},{"tags":["java","digital-signature","pki","xml-signature"],"comments":[{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1642821877,"post_id":70696365,"comment_id":125180989,"body_markdown":"Where do you get `RawECDSA` from? The &#39;standard&#39; SunEC provider has `nonewithecdsa` since 7, and BouncyCastle as far back as I can check, but neither has `rawecdsa` (JCA names ignore case).  However, standard ECDSA (like DSA on which it is based) is a randomized algorithm; if you sign the same data with the same key multiple times, the signatures will all be different. See the standards or any text, or (usually most convenient) wikipedia. There is a deterministic variant in RFC6979, but AFAIK no common Java provider has it.","body":"Where do you get <code>RawECDSA</code> from? The &#39;standard&#39; SunEC provider has <code>nonewithecdsa</code> since 7, and BouncyCastle as far back as I can check, but neither has <code>rawecdsa</code> (JCA names ignore case).  However, standard ECDSA (like DSA on which it is based) is a randomized algorithm; if you sign the same data with the same key multiple times, the signatures will all be different. See the standards or any text, or (usually most convenient) wikipedia. There is a deterministic variant in RFC6979, but AFAIK no common Java provider has it."},{"owner":{"account_id":14715128,"reputation":44,"user_id":10627312,"display_name":"Moieen Abbas"},"score":0,"creation_date":1642864671,"post_id":70696365,"comment_id":125188467,"body_markdown":"The IAIK ECCelerate™ library for the Java™ platform gives the RawECDSA algorithm support.","body":"The IAIK ECCelerate™ library for the Java™ platform gives the RawECDSA algorithm support."}],"answers":[{"tags":[],"owner":{"account_id":28579129,"reputation":11,"user_id":21880347,"display_name":"Stef"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683804269,"creation_date":1683804269,"answer_id":76227094,"question_id":70696365,"body_markdown":"The ouput of the ECDSA algorithm are 2 big numbers (typically called R and S).\r\nPerhaps the &#39;raw&#39; format just simply concatenates them.\r\n\r\nThe more common format (e.g. also used in certificates) is to have an ASN.1-DER encoded SEQUENCE containing R and S encoded as INTEGER. This format always starts with byte 0x30 (DER encoding for SEQUENCE)\r\nIt&#39;s that format that is also used for NoneWithECSA, SHA256WithECDSA, ...","title":"What is difference between RawECDSA and NoneWithECDSA signature algorithm","body":"<p>The ouput of the ECDSA algorithm are 2 big numbers (typically called R and S).\nPerhaps the 'raw' format just simply concatenates them.</p>\n<p>The more common format (e.g. also used in certificates) is to have an ASN.1-DER encoded SEQUENCE containing R and S encoded as INTEGER. This format always starts with byte 0x30 (DER encoding for SEQUENCE)\nIt's that format that is also used for NoneWithECSA, SHA256WithECDSA, ...</p>\n"}],"owner":{"account_id":14715128,"reputation":44,"user_id":10627312,"display_name":"Moieen Abbas"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":469,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683804269,"creation_date":1642075735,"question_id":70696365,"body_markdown":"I&#39;m searching for a perfect answer what is the basic difference between &quot;**RawECDSA**&quot; and &quot;**NoneWithECDSA**&quot; signature algorithm. At glance I did not see any difference between them, as I know that when **NoneWithECDSA** signature algorithm used it expects already hashed data and no hashing is done on provided data at time of signing. Same as **RawECDSA**.\r\n\r\nbut I think there is some difference in resultant signature bytes. Can any one help in explaining.","title":"What is difference between RawECDSA and NoneWithECDSA signature algorithm","body":"<p>I'm searching for a perfect answer what is the basic difference between &quot;<strong>RawECDSA</strong>&quot; and &quot;<strong>NoneWithECDSA</strong>&quot; signature algorithm. At glance I did not see any difference between them, as I know that when <strong>NoneWithECDSA</strong> signature algorithm used it expects already hashed data and no hashing is done on provided data at time of signing. Same as <strong>RawECDSA</strong>.</p>\n<p>but I think there is some difference in resultant signature bytes. Can any one help in explaining.</p>\n"},{"tags":["java","arrays","text-files","java.util.scanner","scientific-computing"],"comments":[{"owner":{"account_id":358449,"reputation":42107,"user_id":699224,"accept_rate":67,"display_name":"DNA"},"score":0,"creation_date":1308641208,"post_id":6421757,"comment_id":7533688,"body_markdown":"Please supply a (shortened!) example of your data so we can see what the headers look like.","body":"Please supply a (shortened!) example of your data so we can see what the headers look like."},{"owner":{"account_id":391372,"reputation":957,"user_id":751986,"accept_rate":44,"display_name":"Shilaghae"},"score":0,"creation_date":1308816514,"post_id":6421757,"comment_id":7575618,"body_markdown":"Try &quot;-{0,1}\\\\d+.\\\\d+E{0,1}-{0,1}\\\\d*,-{0,1}\\\\d+.\\\\d+E{0,1}-{0,1}\\\\d*,-{0,1}\\\\d+.\\\\d+E{0,1}-{0,1}\\\\d*,-{0,1}\\\\d+.\\\\d+E{0,1}-{0,1}\\\\d*,&quot; for other information about regular expression in java see http://www.vogella.de/articles/JavaRegularExpressions/article.html","body":"Try &quot;-{0,1}\\\\d+.\\\\d+E{0,1}-{0,1}\\\\d*,-{0,1}\\\\d+.\\\\d+E{0,1}-{0,1}&zwnj;&#8203;\\\\d*,-{0,1}\\\\d+.\\\\d+&zwnj;&#8203;E{0,1}-{0,1}\\\\d*,-{0&zwnj;&#8203;,1}\\\\d+.\\\\d+E{0,1}-{&zwnj;&#8203;0,1}\\\\d*,&quot; for other information about regular expression in java see <a href=\"http://www.vogella.de/articles/JavaRegularExpressions/article.html\" rel=\"nofollow noreferrer\">vogella.de/articles/JavaRegularExpressions/article.html</a>"},{"owner":{"account_id":426537,"reputation":9134,"user_id":807797,"accept_rate":72,"display_name":"CodeMed"},"score":0,"creation_date":1308818085,"post_id":6421757,"comment_id":7575984,"body_markdown":"Thank you very much!  Your new suggestion seems to have significantly reduced the number of locations in which the derivative of outputArray2 spikes.  However, there are still many places where the derivatives of outputArray3 and outputArray4 have sharp spikes.  I suspect that the spikes may be due to the regex not handling all possible cases as well as possible.  I am going to sleep now, but tomorrow I will run some diagnostics and re-read the Vogella tutorial before either closing this item or asking additional questions.  Thank you again very much.","body":"Thank you very much!  Your new suggestion seems to have significantly reduced the number of locations in which the derivative of outputArray2 spikes.  However, there are still many places where the derivatives of outputArray3 and outputArray4 have sharp spikes.  I suspect that the spikes may be due to the regex not handling all possible cases as well as possible.  I am going to sleep now, but tomorrow I will run some diagnostics and re-read the Vogella tutorial before either closing this item or asking additional questions.  Thank you again very much."},{"owner":{"account_id":426537,"reputation":9134,"user_id":807797,"accept_rate":72,"display_name":"CodeMed"},"score":0,"creation_date":1308888514,"post_id":6421757,"comment_id":7592867,"body_markdown":"Approximately 3,500 (0.1%) of the entries in outputArray3 are showing to have zero values even though the values for that variable in the input file is ALWAYS between 16 and 18. There might be half as many problem rows in outputArray4, and perhaps a dozen or more problem rows in outputArray2. Can anyone suggest a way I can upload a data file that people can download to run with my problem code? I have a web server, but I would like to find an ANONYMOUS server where I can just upload a file and link to it without giving the world the ability to look me up through the name of my personal server.","body":"Approximately 3,500 (0.1%) of the entries in outputArray3 are showing to have zero values even though the values for that variable in the input file is ALWAYS between 16 and 18. There might be half as many problem rows in outputArray4, and perhaps a dozen or more problem rows in outputArray2. Can anyone suggest a way I can upload a data file that people can download to run with my problem code? I have a web server, but I would like to find an ANONYMOUS server where I can just upload a file and link to it without giving the world the ability to look me up through the name of my personal server."}],"answers":[{"tags":[],"owner":{"account_id":358449,"reputation":42107,"user_id":699224,"accept_rate":67,"display_name":"DNA"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1308641293,"creation_date":1308641293,"answer_id":6421797,"question_id":6421757,"body_markdown":"You can split up each line using [String.split()][1].\r\n\r\nTo skip the headers, you can either read the first N lines and discard them (if you know how many there are) or you will need to look for a specific marker - difficult to advise without seeing your data.\r\n\r\nYou may also need to change your approach a little because you currently seem to be sizing the arrays according to the total number of lines (assuming your Scanner returns lines?) rather than omitting the count of header lines.\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/lang/String.html#split%28java.lang.String%29","title":"Loading large matrix from text file into Java arrays","body":"<p>You can split up each line using <a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/String.html#split%28java.lang.String%29\" rel=\"nofollow\">String.split()</a>.</p>\n\n<p>To skip the headers, you can either read the first N lines and discard them (if you know how many there are) or you will need to look for a specific marker - difficult to advise without seeing your data.</p>\n\n<p>You may also need to change your approach a little because you currently seem to be sizing the arrays according to the total number of lines (assuming your Scanner returns lines?) rather than omitting the count of header lines.</p>\n"},{"comments":[{"owner":{"account_id":426537,"reputation":9134,"user_id":807797,"accept_rate":72,"display_name":"CodeMed"},"score":0,"creation_date":1308685868,"post_id":6421949,"comment_id":7546529,"body_markdown":"I am currently testing this code.  I will respond soon, after I am done testing.  Thank you for posting it.","body":"I am currently testing this code.  I will respond soon, after I am done testing.  Thank you for posting it."},{"owner":{"account_id":426537,"reputation":9134,"user_id":807797,"accept_rate":72,"display_name":"CodeMed"},"score":0,"creation_date":1308696093,"post_id":6421949,"comment_id":7549089,"body_markdown":"I tested your code, and I placed the results of the testing in an edit to my original posting above.  Thank you for helping me so far.  Are you willing to help me with the follow-up questions I posted above?","body":"I tested your code, and I placed the results of the testing in an edit to my original posting above.  Thank you for helping me so far.  Are you willing to help me with the follow-up questions I posted above?"},{"owner":{"account_id":391372,"reputation":957,"user_id":751986,"accept_rate":44,"display_name":"Shilaghae"},"score":0,"creation_date":1308732488,"post_id":6421949,"comment_id":7555228,"body_markdown":"You can use an ArrayList of Double to not specify the size of arrays and fill the ArrayList only when the pattern matches.In this way you will not have zero values in your result.","body":"You can use an ArrayList of Double to not specify the size of arrays and fill the ArrayList only when the pattern matches.In this way you will not have zero values in your result."},{"owner":{"account_id":426537,"reputation":9134,"user_id":807797,"accept_rate":72,"display_name":"CodeMed"},"score":0,"creation_date":1308774541,"post_id":6421949,"comment_id":7568459,"body_markdown":"Thank you.  I am spending some time trying to decode &quot;-{0,1}\\\\d+.\\\\d+,-{0,1}\\\\d+.\\\\d+,-{0,1}\\\\d+.\\\\d+,-{0,1}\\\\d+.\\\\d+,&quot; because it is mixing up perhaps 2% of the 3 million rows.  Do you mind writing out what each step in the expression means?  I am also starting to try to decode it using web resources including the link you sent above.","body":"Thank you.  I am spending some time trying to decode &quot;-{0,1}\\\\d+.\\\\d+,-{0,1}\\\\d+.\\\\d+,-{0,1}\\\\d+.\\\\d+,-{0,1}\\\\d+.&zwnj;&#8203;\\\\d+,&quot; because it is mixing up perhaps 2% of the 3 million rows.  Do you mind writing out what each step in the expression means?  I am also starting to try to decode it using web resources including the link you sent above."},{"owner":{"account_id":391372,"reputation":957,"user_id":751986,"accept_rate":44,"display_name":"Shilaghae"},"score":0,"creation_date":1308775993,"post_id":6421949,"comment_id":7568857,"body_markdown":"Sure the code &quot;-{0,1}\\\\d+.\\\\d+,-{0,1}\\\\d+.\\\\d+,-{0,1}\\\\d+.\\\\d+,-{0,1}\\\\d+.\\\\d+,&quot; selects every row formatted as follow: any digit with an optionality sign of minus ahead  followed by a comma == &quot;-{0,1}\\\\d,&quot; \nAre regular expressions see: http://www.vogella.de/articles/JavaRegularExpressions/article.html","body":"Sure the code &quot;-{0,1}\\\\d+.\\\\d+,-{0,1}\\\\d+.\\\\d+,-{0,1}\\\\d+.\\\\d+,-{0,1}\\\\d+.&zwnj;&#8203;\\\\d+,&quot; selects every row formatted as follow: any digit with an optionality sign of minus ahead  followed by a comma == &quot;-{0,1}\\\\d,&quot;  Are regular expressions see: <a href=\"http://www.vogella.de/articles/JavaRegularExpressions/article.html\" rel=\"nofollow noreferrer\">vogella.de/articles/JavaRegularExpressions/article.html</a>"},{"owner":{"account_id":426537,"reputation":9134,"user_id":807797,"accept_rate":72,"display_name":"CodeMed"},"score":0,"creation_date":1308781426,"post_id":6421949,"comment_id":7570007,"body_markdown":"Thank you.  I just decomposed the expression and posed it as a question for your correction, if you are willing.  However, it was too long to fit here, so I added it as an edit to my original post above.","body":"Thank you.  I just decomposed the expression and posed it as a question for your correction, if you are willing.  However, it was too long to fit here, so I added it as an edit to my original post above."},{"owner":{"account_id":426537,"reputation":9134,"user_id":807797,"accept_rate":72,"display_name":"CodeMed"},"score":0,"creation_date":1308955250,"post_id":6421949,"comment_id":7608522,"body_markdown":"I am marking this as the answer to give you points for helping me.  Thank you very much!  However, the actual answer involved modifying this code to use a much simpler regex &quot;,&quot; and deleting the header manually because your more complicated regex was skipping 0.1% of the points and thus leaving 3500 spikes in the graph of 3+ million points.  I included the final code in a final edit to my original posting above.","body":"I am marking this as the answer to give you points for helping me.  Thank you very much!  However, the actual answer involved modifying this code to use a much simpler regex &quot;,&quot; and deleting the header manually because your more complicated regex was skipping 0.1% of the points and thus leaving 3500 spikes in the graph of 3+ million points.  I included the final code in a final edit to my original posting above."}],"tags":[],"owner":{"account_id":391372,"reputation":957,"user_id":751986,"accept_rate":44,"display_name":"Shilaghae"},"comment_count":7,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1308653773,"creation_date":1308642253,"answer_id":6421949,"question_id":6421757,"body_markdown":"You could read  line to line the file and for every line you could control with a regular expression (http://www.vogella.de/articles/JavaRegularExpressions/article.html) if the line presents exactly 4 comma.\r\nIf the line presents exactly 4 comma you can split the line with String.split and fill the 4 array otherwise you pass at next line.\r\n\r\n\t\t\tpublic double[][] populateArray(int scan1Count){\r\n\t\t\t    double[] outputArray1 = new double[scan1Count];\r\n\t\t\t    double[] outputArray2 = new double[scan1Count];\r\n\t\t\t    double[] outputArray3 = new double[scan1Count];\r\n\t\t\t    double[] outputArray4 = new double[scan1Count];\r\n\t\t\t    \r\n\t\t\t    \r\n\t\t\t    //Read File Line By Line\r\n\t\t\t    try {\r\n\t\t\t    \tFile tempfile = new File(&quot;samedatafile.txt&quot;);\r\n\t\t\t    \tFileInputStream fis = new FileInputStream(tempfile);\r\n\t\t\t    \tDataInputStream in = new DataInputStream(fis);\r\n\t\t\t    \tBufferedReader br = new BufferedReader(new InputStreamReader(in));    \t\r\n\t\t\t    \tString strLine;\r\n\t\t\t    \tint i = 0;\r\n\t\t\t\t\twhile ((strLine = br.readLine()) != null)   {\r\n\t\t\t\t\t      Pattern pattern = Pattern.compile(&quot;-{0,1}\\\\d+.\\\\d+,-{0,1}\\\\d+.\\\\d+,-{0,1}\\\\d+.\\\\d+,-{0,1}\\\\d+.\\\\d+,&quot;);\r\n\t\t\t\t\t      Matcher matcher = pattern.matcher(strLine);\r\n\t\t\t\t\t      if (matcher.matches()){\r\n\t\t\t\t\t    \t  String[] split = strLine.split(&quot;,&quot;);\t\t    \t\r\n\t\t\t\t\t    \t  outputArray1[i] = Double.parseDouble(split[0]);\r\n\t\t\t\t\t    \t  outputArray2[i] = Double.parseDouble(split[1]);\r\n\t\t\t\t\t    \t  outputArray3[i] = Double.parseDouble(split[2]);\r\n\t\t\t\t\t    \t  outputArray4[i] = Double.parseDouble(split[3]);\r\n\t\t\t\t\t      }\r\n\t\t\t\t\t      i++;\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (IOException e) {\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t    double[][] temp = new double[4][];\r\n\t\t\t    temp[0]= outputArray1;\r\n\t\t\t    temp[1]= outputArray2;\r\n\t\t\t    temp[2]= outputArray3;\r\n\t\t\t    temp[3]= outputArray4;\r\n\t\t\t    return temp;\r\n\t\t\t}","title":"Loading large matrix from text file into Java arrays","body":"<p>You could read  line to line the file and for every line you could control with a regular expression (http://www.vogella.de/articles/JavaRegularExpressions/article.html) if the line presents exactly 4 comma.\nIf the line presents exactly 4 comma you can split the line with String.split and fill the 4 array otherwise you pass at next line.</p>\n\n<pre><code>        public double[][] populateArray(int scan1Count){\n            double[] outputArray1 = new double[scan1Count];\n            double[] outputArray2 = new double[scan1Count];\n            double[] outputArray3 = new double[scan1Count];\n            double[] outputArray4 = new double[scan1Count];\n\n\n            //Read File Line By Line\n            try {\n                File tempfile = new File(\"samedatafile.txt\");\n                FileInputStream fis = new FileInputStream(tempfile);\n                DataInputStream in = new DataInputStream(fis);\n                BufferedReader br = new BufferedReader(new InputStreamReader(in));      \n                String strLine;\n                int i = 0;\n                while ((strLine = br.readLine()) != null)   {\n                      Pattern pattern = Pattern.compile(\"-{0,1}\\\\d+.\\\\d+,-{0,1}\\\\d+.\\\\d+,-{0,1}\\\\d+.\\\\d+,-{0,1}\\\\d+.\\\\d+,\");\n                      Matcher matcher = pattern.matcher(strLine);\n                      if (matcher.matches()){\n                          String[] split = strLine.split(\",\");              \n                          outputArray1[i] = Double.parseDouble(split[0]);\n                          outputArray2[i] = Double.parseDouble(split[1]);\n                          outputArray3[i] = Double.parseDouble(split[2]);\n                          outputArray4[i] = Double.parseDouble(split[3]);\n                      }\n                      i++;\n                }\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n            double[][] temp = new double[4][];\n            temp[0]= outputArray1;\n            temp[1]= outputArray2;\n            temp[2]= outputArray3;\n            temp[3]= outputArray4;\n            return temp;\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1308645290,"creation_date":1308645290,"answer_id":6422465,"question_id":6421757,"body_markdown":"I&#39;d deal with the problem of the headers by simply attempting to parse **every** line as four numbers, and throwing away any lines where the parsing doesn&#39;t work.  If there is a possibility of unparseable lines after the header lines, then you can set a flag the first time you get a &quot;good&quot; line, and then report any subsequent &quot;bad&quot; lines.\r\n\r\nSplit the lines with `String.split(...)`.  It is not the absolute fastest way to do it, but the CPU time of your program will be spent elsewhere ... so it probably doesn&#39;t matter.","title":"Loading large matrix from text file into Java arrays","body":"<p>I'd deal with the problem of the headers by simply attempting to parse <strong>every</strong> line as four numbers, and throwing away any lines where the parsing doesn't work.  If there is a possibility of unparseable lines after the header lines, then you can set a flag the first time you get a \"good\" line, and then report any subsequent \"bad\" lines.</p>\n\n<p>Split the lines with <code>String.split(...)</code>.  It is not the absolute fastest way to do it, but the CPU time of your program will be spent elsewhere ... so it probably doesn't matter.</p>\n"},{"tags":[],"owner":{"account_id":216950,"reputation":20103,"user_id":472495,"accept_rate":92,"display_name":"halfer"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1683804135,"creation_date":1678623283,"answer_id":75713031,"question_id":6421757,"body_markdown":"_(Moved solution on behalf of the question author to move it to the answer space)._\r\n\r\nThe final code was very simple, and simply involved using string.split() with &quot;,&quot; as the regular expression.  To do that, I had to manually delete the headers from the input file so that the data only contained rows with 4 comma separated numbers.\r\n\r\nIn case anyone is curious, the final working code for this is:\r\n\r\n\tpublic double[][] populateArray(int scan1Count){\r\n\t\tdouble[] outputArray1 = new double[scan1Count];\r\n\t\tdouble[] outputArray2 = new double[scan1Count];\r\n\t\tdouble[] outputArray3 = new double[scan1Count];\r\n\t\tdouble[] outputArray4 = new double[scan1Count];\r\n\t\t\r\n\t\ttry {\r\n\t\t\tFile tempfile = new File(&quot;C:\\\\test\\\\mydatafile.txt&quot;);\r\n\t\t\tFileInputStream fis = new FileInputStream(tempfile);\r\n\t\t\tDataInputStream in = new DataInputStream(fis);\r\n\t\t\tBufferedReader br = new BufferedReader(new InputStreamReader(in));\r\n\t\t\tString strLine;\r\n\t\t\tint i = 0;\r\n\t\t\twhile ((strLine = br.readLine()) != null)   {\r\n\t\t\t\t\tString[] split = strLine.split(&quot;,&quot;);\r\n\t\t\t\t\toutputArray1[i] = Double.parseDouble(split[0]);\r\n\t\t\t\t\toutputArray2[i] = Double.parseDouble(split[1]);\r\n\t\t\t\t\toutputArray3[i] = Double.parseDouble(split[2]);\r\n\t\t\t\t\toutputArray4[i] = Double.parseDouble(split[3]);\r\n\t\t\t\ti++;\r\n\t\t\t\t}\r\n\t\t\t} catch (IOException e) {\r\n\t\t\t\tSystem.out.println(&quot;e for exception is:&quot;+e);\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\tdouble[][] temp = new double[4][];\r\n\t\t\ttemp[0]= outputArray1;\r\n\t\t\ttemp[1]= outputArray2;\r\n\t\t\ttemp[2]= outputArray3;\r\n\t\t\ttemp[3]= outputArray4;\r\n\t\t\treturn temp;\r\n\t\t\t}\r\n\r\n","title":"Loading large matrix from text file into Java arrays","body":"<p><em>(Moved solution on behalf of the question author to move it to the answer space).</em></p>\n<p>The final code was very simple, and simply involved using string.split() with &quot;,&quot; as the regular expression.  To do that, I had to manually delete the headers from the input file so that the data only contained rows with 4 comma separated numbers.</p>\n<p>In case anyone is curious, the final working code for this is:</p>\n<pre><code>public double[][] populateArray(int scan1Count){\n    double[] outputArray1 = new double[scan1Count];\n    double[] outputArray2 = new double[scan1Count];\n    double[] outputArray3 = new double[scan1Count];\n    double[] outputArray4 = new double[scan1Count];\n    \n    try {\n        File tempfile = new File(&quot;C:\\\\test\\\\mydatafile.txt&quot;);\n        FileInputStream fis = new FileInputStream(tempfile);\n        DataInputStream in = new DataInputStream(fis);\n        BufferedReader br = new BufferedReader(new InputStreamReader(in));\n        String strLine;\n        int i = 0;\n        while ((strLine = br.readLine()) != null)   {\n                String[] split = strLine.split(&quot;,&quot;);\n                outputArray1[i] = Double.parseDouble(split[0]);\n                outputArray2[i] = Double.parseDouble(split[1]);\n                outputArray3[i] = Double.parseDouble(split[2]);\n                outputArray4[i] = Double.parseDouble(split[3]);\n            i++;\n            }\n        } catch (IOException e) {\n            System.out.println(&quot;e for exception is:&quot;+e);\n            e.printStackTrace();\n            }\n        double[][] temp = new double[4][];\n        temp[0]= outputArray1;\n        temp[1]= outputArray2;\n        temp[2]= outputArray3;\n        temp[3]= outputArray4;\n        return temp;\n        }\n</code></pre>\n"}],"owner":{"account_id":426537,"reputation":9134,"user_id":807797,"accept_rate":72,"display_name":"CodeMed"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5131,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":6421949,"answer_count":4,"score":2,"last_activity_date":1683804135,"creation_date":1308641054,"question_id":6421757,"body_markdown":"My data is stored in large matrices stored in text files with millions of rows and 4 columns of comma-separated values.  (Each column stores a different variable, and each row stores a different millisecond&#39;s data for all four variables.)  There is also some irrelevant header data in the first dozen or so lines.  I need to write Java code to load this data into four arrays, with one array for each column in the text matrix.\r\n\r\nThe Java code also needs to be able to tell when the header is done, so that the first data row can be split into entries for the 4 arrays.  Finally, the Java code needs to iterate through the millions of data rows, repeating the process of decomposing each row into four numbers which are each entered into the appropriate array for the column in which the number was located.\r\n\r\nHow can I alter the code below in order to accomplish this? I want to find the fastest way to accomplish this processing of millions of rows.  \r\n\r\nHere is my code:\r\n\r\nMainClass2.java\r\n\r\n      package packages;\r\n\r\n    public class MainClass2{\r\n    \tpublic static void main(String[] args){\r\n\t\treadfile2 r = new readfile2();\r\n\t\tr.openFile();\r\n\t\tint x1Count = r.readFile();\r\n\t\tr.populateArray(x1Count);\r\n\t\tr.closeFile();\t\r\n\t}\r\n    }\r\n\r\nreadfile2.java\r\n\r\n      package packages;\r\n\r\n    import java.io.*;\r\n    import java.util.*;\r\n\r\n    public class readfile2 {\r\n\tprivate Scanner scan1;\r\n\tprivate Scanner scan2;\r\n\r\n\tpublic void openFile(){\r\n\t\ttry{\r\n\t\t\tscan1 = new Scanner(new File(&quot;C:\\\\test\\\\samedatafile.txt&quot;));\r\n\t\t\tscan1 = new Scanner(new File(&quot;C:\\\\test\\\\samedatafile.txt&quot;));\r\n\t\t}\r\n\t\tcatch(Exception e){\r\n\t\t\tSystem.out.println(&quot;could not find file&quot;);\r\n\t\t}\r\n\t}\r\n\tpublic int readFile(){\r\n\t\tint scan1Count = 0;\r\n\t\twhile(scan1.hasNext()){\r\n\t\t\tscan1.next();\r\n\t\t\tscan1Count += 1;\r\n\t\t}\r\n\t\treturn scan1Count;\r\n\t}\r\n\tpublic double[] populateArray(int scan1Count){\r\n\t\tdouble[] outputArray1 = new double[scan1Count];\r\n\t\tdouble[] outputArray2 = new double[scan1Count];\r\n\t\tdouble[] outputArray3 = new double[scan1Count];\r\n\t\tdouble[] outputArray4 = new double[scan1Count];\r\n\t\tint i = 0;\r\n\t\twhile(scan2.hasNext()){\r\n\t\t\t//what code do I write here to:\r\n\t\t\t//\t1.) identify the start of my time series rows after the end of the header rows (e.g. row starts with a number AT LEAST 4 digits in length.)\r\n\t\t\t//\t2.) split each time series row&#39;s data into a separate new entry for each of the 4 output arrays\r\n\t\t\ti++;\r\n\t\t}\r\n\t\treturn outputArray1, outputArray2, outputArray3, outputArray4;\r\n\t}\r\n\tpublic void closeFile(){\r\n\t\tscan1.close();\r\n\t\tscan2.close();\r\n\t}\r\n    }\r\n\r\nHere are the first 19 lines of a typical data file:\r\n\r\n    text and numbers on first line\r\n    1 msec/sample\r\n    3 channels\r\n    ECG\r\n    Volts\r\n    Z_Hamming_0_05_LPF\r\n    Ohms\r\n    dz/dt\r\n    Volts\r\n    min,CH2,CH4,CH41,\r\n    ,3087747,3087747,3087747,\r\n    0,-0.0518799,17.0624,0,\r\n    1.66667E-05,-0.0509644,17.0624,-0.00288295,\r\n    3.33333E-05,-0.0497437,17.0624,-0.00983428,\r\n    5E-05,-0.0482178,17.0624,-0.0161573,\r\n    6.66667E-05,-0.0466919,17.0624,-0.0204402,\r\n    8.33333E-05,-0.0448608,17.0624,-0.0213986,\r\n    0.0001,-0.0427246,17.0624,-0.0207532,\r\n    0.000116667,-0.0405884,17.0624,-0.0229672,\r\n\r\n---\r\n\r\nEdit\r\n---\r\n\r\nI tested Shilaghae&#39;s code suggestion.  It seems to work.  However, the length of all the resulting arrays is the same as x1Count, so that zeros remain in the places where Shilaghae&#39;s pattern matching code is not able to place a number. (This is a result of how I wrote the code originally.)\r\n\r\nI was having trouble finding the indices where zeros remain, but there seemed to be a lot more zeros besides the ones expected where the header was.  When I graphed the derivative of the temp[1] output, I saw a number of sharp spikes where false zeros in temp[1] might be.  If I can tell where the zeros in temp[1], temp[2], and temp[3] are, I might be able to modify the pattern matching to better retain all the data.\r\n\r\nAlso, it would be nice to simply shorten the output array to no longer include the rows where the header was in the input file.  However, the tutorials I have found regarding variable length arrays only show oversimplified examples like:\r\n\r\n    int[] anArray = {100, 200, 300, 400};\r\n\r\nThe code might run faster if it no longer uses scan1 to produce scan1Count.  I do not want to slow the code down by using an inefficient method to produce a variable-length array.  And I also do not want to skip data in my time series in the cases where the pattern matching is not able to split the input row into 4 numbers.  I would rather keep the in-time-series zeros so that I can find them and use them to debug the pattern matching.\r\n\r\nCan these things be done in fast-running code?\r\n\r\n---\r\n\r\nSecond edit\r\n---\r\n\r\nSo  \r\n\r\n    &quot;-{0,1}\\\\d+.\\\\d+,&quot;  \r\n\r\nrepeats for times in the expression:  \r\n\r\n    &quot;-{0,1}\\\\d+.\\\\d+,-{0,1}\\\\d+.\\\\d+,-{0,1}\\\\d+.\\\\d+,-{0,1}\\\\d+.\\\\d+,&quot;  \r\n\r\nDoes  \r\n\r\n    &quot;-{0,1}\\\\d+.\\\\d+,&quot;  \r\n\r\ndecompose into the following three statements:  \r\n\r\n    &quot;-{0,1}&quot; means that a minus sign occurs zero or one times, while  \r\n\r\n    &quot;\\\\d+.&quot; means that the minus sign(or lack of minus sign) is followed by several digits of any value followed by a decimal point, so that finally  \r\n\r\n    &quot;\\\\d+,&quot; means that the decimal point is followed by several digits of any value?  \r\n\r\nIf so, what about numbers in my data like &quot;1.66667E-05,&quot; or &quot;-8.06131E-05,&quot; ?  I just scanned one of the input files, and (out of 3+ million 4-column rows) it contains 638 numbers that contain E, of which 5 were in the first column, and 633 were in the last column.\r\n","title":"Loading large matrix from text file into Java arrays","body":"<p>My data is stored in large matrices stored in text files with millions of rows and 4 columns of comma-separated values.  (Each column stores a different variable, and each row stores a different millisecond's data for all four variables.)  There is also some irrelevant header data in the first dozen or so lines.  I need to write Java code to load this data into four arrays, with one array for each column in the text matrix.</p>\n<p>The Java code also needs to be able to tell when the header is done, so that the first data row can be split into entries for the 4 arrays.  Finally, the Java code needs to iterate through the millions of data rows, repeating the process of decomposing each row into four numbers which are each entered into the appropriate array for the column in which the number was located.</p>\n<p>How can I alter the code below in order to accomplish this? I want to find the fastest way to accomplish this processing of millions of rows.</p>\n<p>Here is my code:</p>\n<p>MainClass2.java</p>\n<pre><code>  package packages;\n\npublic class MainClass2{\n    public static void main(String[] args){\n    readfile2 r = new readfile2();\n    r.openFile();\n    int x1Count = r.readFile();\n    r.populateArray(x1Count);\n    r.closeFile();  \n}\n}\n</code></pre>\n<p>readfile2.java</p>\n<pre><code>  package packages;\n\nimport java.io.*;\nimport java.util.*;\n\npublic class readfile2 {\nprivate Scanner scan1;\nprivate Scanner scan2;\n\npublic void openFile(){\n    try{\n        scan1 = new Scanner(new File(&quot;C:\\\\test\\\\samedatafile.txt&quot;));\n        scan1 = new Scanner(new File(&quot;C:\\\\test\\\\samedatafile.txt&quot;));\n    }\n    catch(Exception e){\n        System.out.println(&quot;could not find file&quot;);\n    }\n}\npublic int readFile(){\n    int scan1Count = 0;\n    while(scan1.hasNext()){\n        scan1.next();\n        scan1Count += 1;\n    }\n    return scan1Count;\n}\npublic double[] populateArray(int scan1Count){\n    double[] outputArray1 = new double[scan1Count];\n    double[] outputArray2 = new double[scan1Count];\n    double[] outputArray3 = new double[scan1Count];\n    double[] outputArray4 = new double[scan1Count];\n    int i = 0;\n    while(scan2.hasNext()){\n        //what code do I write here to:\n        //  1.) identify the start of my time series rows after the end of the header rows (e.g. row starts with a number AT LEAST 4 digits in length.)\n        //  2.) split each time series row's data into a separate new entry for each of the 4 output arrays\n        i++;\n    }\n    return outputArray1, outputArray2, outputArray3, outputArray4;\n}\npublic void closeFile(){\n    scan1.close();\n    scan2.close();\n}\n}\n</code></pre>\n<p>Here are the first 19 lines of a typical data file:</p>\n<pre><code>text and numbers on first line\n1 msec/sample\n3 channels\nECG\nVolts\nZ_Hamming_0_05_LPF\nOhms\ndz/dt\nVolts\nmin,CH2,CH4,CH41,\n,3087747,3087747,3087747,\n0,-0.0518799,17.0624,0,\n1.66667E-05,-0.0509644,17.0624,-0.00288295,\n3.33333E-05,-0.0497437,17.0624,-0.00983428,\n5E-05,-0.0482178,17.0624,-0.0161573,\n6.66667E-05,-0.0466919,17.0624,-0.0204402,\n8.33333E-05,-0.0448608,17.0624,-0.0213986,\n0.0001,-0.0427246,17.0624,-0.0207532,\n0.000116667,-0.0405884,17.0624,-0.0229672,\n</code></pre>\n<hr />\n<h2>Edit</h2>\n<p>I tested Shilaghae's code suggestion.  It seems to work.  However, the length of all the resulting arrays is the same as x1Count, so that zeros remain in the places where Shilaghae's pattern matching code is not able to place a number. (This is a result of how I wrote the code originally.)</p>\n<p>I was having trouble finding the indices where zeros remain, but there seemed to be a lot more zeros besides the ones expected where the header was.  When I graphed the derivative of the temp[1] output, I saw a number of sharp spikes where false zeros in temp[1] might be.  If I can tell where the zeros in temp[1], temp[2], and temp[3] are, I might be able to modify the pattern matching to better retain all the data.</p>\n<p>Also, it would be nice to simply shorten the output array to no longer include the rows where the header was in the input file.  However, the tutorials I have found regarding variable length arrays only show oversimplified examples like:</p>\n<pre><code>int[] anArray = {100, 200, 300, 400};\n</code></pre>\n<p>The code might run faster if it no longer uses scan1 to produce scan1Count.  I do not want to slow the code down by using an inefficient method to produce a variable-length array.  And I also do not want to skip data in my time series in the cases where the pattern matching is not able to split the input row into 4 numbers.  I would rather keep the in-time-series zeros so that I can find them and use them to debug the pattern matching.</p>\n<p>Can these things be done in fast-running code?</p>\n<hr />\n<h2>Second edit</h2>\n<p>So</p>\n<pre><code>&quot;-{0,1}\\\\d+.\\\\d+,&quot;  \n</code></pre>\n<p>repeats for times in the expression:</p>\n<pre><code>&quot;-{0,1}\\\\d+.\\\\d+,-{0,1}\\\\d+.\\\\d+,-{0,1}\\\\d+.\\\\d+,-{0,1}\\\\d+.\\\\d+,&quot;  \n</code></pre>\n<p>Does</p>\n<pre><code>&quot;-{0,1}\\\\d+.\\\\d+,&quot;  \n</code></pre>\n<p>decompose into the following three statements:</p>\n<pre><code>&quot;-{0,1}&quot; means that a minus sign occurs zero or one times, while  \n\n&quot;\\\\d+.&quot; means that the minus sign(or lack of minus sign) is followed by several digits of any value followed by a decimal point, so that finally  \n\n&quot;\\\\d+,&quot; means that the decimal point is followed by several digits of any value?  \n</code></pre>\n<p>If so, what about numbers in my data like &quot;1.66667E-05,&quot; or &quot;-8.06131E-05,&quot; ?  I just scanned one of the input files, and (out of 3+ million 4-column rows) it contains 638 numbers that contain E, of which 5 were in the first column, and 633 were in the last column.</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":28545573,"reputation":169,"user_id":21851044,"display_name":"Vipul Bhoir"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1683804011,"creation_date":1683803954,"answer_id":76227060,"question_id":76199841,"body_markdown":"UPDATE: I created a new app in android studio with min sdk 31, just to start fresh and added the following permissions\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.MANAGE_OWN_CALLS&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_PHONE_STATE&quot; /&gt;\r\n\r\nand following intent filters in my main activity\r\n\r\n             &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\r\n                &lt;action android:name=&quot;android.intent.action.DIAL&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\r\n\r\n                &lt;data android:scheme=&quot;tel&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.DIAL&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n\r\nand used below code to launch the system default popup to set default dialer\r\n\r\n    private ActivityResultLauncher&lt;Intent&gt; setDefaultDialerLauncher = registerForActivityResult(\r\n                new ActivityResultContracts.StartActivityForResult(),\r\n                result -&gt; {\r\n                    if (result.getResultCode() == Activity.RESULT_OK) {\r\n                        // Check if your app is now the default dialer\r\n                        if (roleManager.isRoleHeld(RoleManager.ROLE_DIALER)) {\r\n                            // Your app is now the default dialer\r\n                            Toast.makeText(this, &quot;This app is now set as default dialer&quot;, Toast.LENGTH_SHORT).show();\r\n                            //navigate to dashboard like screen here\r\n                        } else {\r\n                            // Your app is not the default dialer\r\n                            Toast.makeText(this, &quot;Please set this app as default calling app to proceed&quot;, Toast.LENGTH_SHORT).show();\r\n                        }\r\n                    } else {\r\n                        // Failed to set your app as the default dialer\r\n                        Log.d(&quot;Dialer&quot;, &quot;something went wrong while setting as default, most likely user cancelled the popup&quot;);\r\n                        Toast.makeText(this, &quot;Please set this app as default calling app to proceed&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                }\r\n        );\r\n    Intent intent = roleManager.createRequestRoleIntent(RoleManager.ROLE_DIALER);\r\n    setDefaultDialerLauncher.launch(intent);\r\nand it worked perfectly fine. Just don&#39;t forget to check with isRoleAvailable and isRoleHeld before executing this.\r\nI still don&#39;t know what was the problem with the previous app so you are welcome to point out my mistake in previous app.\r\nFYI previous app min sdk was 24.","title":"Request to change default dialer isn&#39;t showing the system dialog using rolemanager","body":"<p>UPDATE: I created a new app in android studio with min sdk 31, just to start fresh and added the following permissions</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.MANAGE_OWN_CALLS&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.READ_PHONE_STATE&quot; /&gt;\n</code></pre>\n<p>and following intent filters in my main activity</p>\n<pre><code>         &lt;intent-filter&gt;\n            &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\n            &lt;action android:name=&quot;android.intent.action.DIAL&quot; /&gt;\n\n            &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n            &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\n\n            &lt;data android:scheme=&quot;tel&quot; /&gt;\n        &lt;/intent-filter&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=&quot;android.intent.action.DIAL&quot; /&gt;\n\n            &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n        &lt;/intent-filter&gt;\n</code></pre>\n<p>and used below code to launch the system default popup to set default dialer</p>\n<pre><code>private ActivityResultLauncher&lt;Intent&gt; setDefaultDialerLauncher = registerForActivityResult(\n            new ActivityResultContracts.StartActivityForResult(),\n            result -&gt; {\n                if (result.getResultCode() == Activity.RESULT_OK) {\n                    // Check if your app is now the default dialer\n                    if (roleManager.isRoleHeld(RoleManager.ROLE_DIALER)) {\n                        // Your app is now the default dialer\n                        Toast.makeText(this, &quot;This app is now set as default dialer&quot;, Toast.LENGTH_SHORT).show();\n                        //navigate to dashboard like screen here\n                    } else {\n                        // Your app is not the default dialer\n                        Toast.makeText(this, &quot;Please set this app as default calling app to proceed&quot;, Toast.LENGTH_SHORT).show();\n                    }\n                } else {\n                    // Failed to set your app as the default dialer\n                    Log.d(&quot;Dialer&quot;, &quot;something went wrong while setting as default, most likely user cancelled the popup&quot;);\n                    Toast.makeText(this, &quot;Please set this app as default calling app to proceed&quot;, Toast.LENGTH_SHORT).show();\n                }\n            }\n    );\nIntent intent = roleManager.createRequestRoleIntent(RoleManager.ROLE_DIALER);\nsetDefaultDialerLauncher.launch(intent);\n</code></pre>\n<p>and it worked perfectly fine. Just don't forget to check with isRoleAvailable and isRoleHeld before executing this.\nI still don't know what was the problem with the previous app so you are welcome to point out my mistake in previous app.\nFYI previous app min sdk was 24.</p>\n"}],"owner":{"account_id":28545573,"reputation":169,"user_id":21851044,"display_name":"Vipul Bhoir"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":218,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76227060,"answer_count":1,"score":0,"last_activity_date":1683804011,"creation_date":1683543066,"question_id":76199841,"body_markdown":"Here&#39;s my code and I have tried on real device as well as emulator but no success. I always get the toast failed to set default dialer without getting the popup.\r\n\r\n\r\n```\r\nprivate void setDefaultPhoneApp() {\r\n    ActivityResultLauncher&lt;Intent&gt; defaultDialerLauncher = registerForActivityResult(\r\n            new ActivityResultContracts.StartActivityForResult(),\r\n            result -&gt; {\r\n                if (result.getResultCode() == Activity.RESULT_OK) {\r\n                    // The user successfully set this app as the default dialer\r\n                    // TODO: Perform any necessary actions\r\n                    Toast.makeText(this, &quot;Default dialer set&quot;, Toast.LENGTH_SHORT).show();\r\n                } else {\r\n                    // The user did not set this app as the default dialer\r\n                    // TODO: Handle this case\r\n                    Toast.makeText(this, &quot;Failed to set default dialer&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n            }\r\n    );\r\n\r\n    RoleManager roleManager = getSystemService(RoleManager.class);\r\n    if (roleManager.isRoleAvailable(RoleManager.ROLE_DIALER)) {\r\n        if (!roleManager.isRoleHeld(RoleManager.ROLE_DIALER)) {\r\n            Intent intent = roleManager.createRequestRoleIntent(RoleManager.ROLE_DIALER);\r\n            defaultDialerLauncher.launch(intent);\r\n        }\r\n    } else {\r\n        Log.e(&quot;Heere&quot;, &quot;Setting the default dialer app is not supported on this device&quot;);\r\n    }\r\n}\r\n```\r\n\r\nMy Permissions\r\n\r\n```\r\n&lt;uses-permission android:name=&quot;android.permission.MODIFY_PHONE_STATE&quot;\r\n        tools:ignore=&quot;ProtectedPermissions&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_PHONE_STATE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.MANAGE_ROLE_HOLDERS&quot;\r\n        tools:ignore=&quot;ProtectedPermissions&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.PROCESS_OUTGOING_CALLS&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.CALL_PHONE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_CALL_LOG&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_CALL_LOG&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.MANAGE_OWN_CALLS&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ANSWER_PHONE_CALLS&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.SEND_SMS&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ROLE_DIALER&quot; /&gt;\r\n```\r\n\r\nIntent filters\r\n\r\n```\r\n&lt;intent-filter&gt;\r\n    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n&lt;/intent-filter&gt;\r\n&lt;intent-filter&gt;\r\n    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n    &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n    &lt;action android:name=&quot;android.intent.action.CALL&quot; /&gt;\r\n    &lt;action android:name=&quot;android.intent.action.DIAL&quot; /&gt;\r\n    &lt;action android:name=&quot;android.intent.action.PROCESS_OUTGOING_CALL&quot; /&gt;\r\n    &lt;data android:scheme=&quot;tel&quot;/&gt;\r\n&lt;/intent-filter&gt;\r\n```\r\n\r\n\r\nI was expecting a popup to show up asking the user to change and set the default dialer app.","title":"Request to change default dialer isn&#39;t showing the system dialog using rolemanager","body":"<p>Here's my code and I have tried on real device as well as emulator but no success. I always get the toast failed to set default dialer without getting the popup.</p>\n<pre><code>private void setDefaultPhoneApp() {\n    ActivityResultLauncher&lt;Intent&gt; defaultDialerLauncher = registerForActivityResult(\n            new ActivityResultContracts.StartActivityForResult(),\n            result -&gt; {\n                if (result.getResultCode() == Activity.RESULT_OK) {\n                    // The user successfully set this app as the default dialer\n                    // TODO: Perform any necessary actions\n                    Toast.makeText(this, &quot;Default dialer set&quot;, Toast.LENGTH_SHORT).show();\n                } else {\n                    // The user did not set this app as the default dialer\n                    // TODO: Handle this case\n                    Toast.makeText(this, &quot;Failed to set default dialer&quot;, Toast.LENGTH_SHORT).show();\n                }\n            }\n    );\n\n    RoleManager roleManager = getSystemService(RoleManager.class);\n    if (roleManager.isRoleAvailable(RoleManager.ROLE_DIALER)) {\n        if (!roleManager.isRoleHeld(RoleManager.ROLE_DIALER)) {\n            Intent intent = roleManager.createRequestRoleIntent(RoleManager.ROLE_DIALER);\n            defaultDialerLauncher.launch(intent);\n        }\n    } else {\n        Log.e(&quot;Heere&quot;, &quot;Setting the default dialer app is not supported on this device&quot;);\n    }\n}\n</code></pre>\n<p>My Permissions</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.MODIFY_PHONE_STATE&quot;\n        tools:ignore=&quot;ProtectedPermissions&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_PHONE_STATE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.MANAGE_ROLE_HOLDERS&quot;\n        tools:ignore=&quot;ProtectedPermissions&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.PROCESS_OUTGOING_CALLS&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.CALL_PHONE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_CALL_LOG&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_CALL_LOG&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.MANAGE_OWN_CALLS&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ANSWER_PHONE_CALLS&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.SEND_SMS&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ROLE_DIALER&quot; /&gt;\n</code></pre>\n<p>Intent filters</p>\n<pre><code>&lt;intent-filter&gt;\n    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n&lt;/intent-filter&gt;\n&lt;intent-filter&gt;\n    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n    &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n    &lt;action android:name=&quot;android.intent.action.CALL&quot; /&gt;\n    &lt;action android:name=&quot;android.intent.action.DIAL&quot; /&gt;\n    &lt;action android:name=&quot;android.intent.action.PROCESS_OUTGOING_CALL&quot; /&gt;\n    &lt;data android:scheme=&quot;tel&quot;/&gt;\n&lt;/intent-filter&gt;\n</code></pre>\n<p>I was expecting a popup to show up asking the user to change and set the default dialer app.</p>\n"},{"tags":["java","java-8","mybatis","spring-mybatis","mybatis-sql"],"comments":[{"owner":{"account_id":1314580,"reputation":3299,"user_id":1261766,"display_name":"ave"},"score":1,"creation_date":1683838644,"post_id":76227010,"comment_id":134432193,"body_markdown":"`#{}` is a placeholder (i.e. `?` in `java.sql.PreparedStatement`), so you cannot use it in a literal. You have to either 1) pass the entire literal as a parameter or 2) use `${}` instead (i.e. `&#39;SDO_NUM_RES=5000 distance=${queryInput.radius} unit=m&#39;`). If you chose 2) and `queryInput.radius` is a string, do not use user entered value without sanitizing it to avoid SQL injection. See the [FAQ entry](https://github.com/mybatis/mybatis-3/wiki/FAQ#what-is-the-difference-between--and-) for more info.","body":"<code>#{}</code> is a placeholder (i.e. <code>?</code> in <code>java.sql.PreparedStatement</code>), so you cannot use it in a literal. You have to either 1) pass the entire literal as a parameter or 2) use <code>${}</code> instead (i.e. <code>&#39;SDO_NUM_RES=5000 distance=${queryInput.radius} unit=m&#39;</code>). If you chose 2) and <code>queryInput.radius</code> is a string, do not use user entered value without sanitizing it to avoid SQL injection. See the <a href=\"https://github.com/mybatis/mybatis-3/wiki/FAQ#what-is-the-difference-between--and-\" rel=\"nofollow noreferrer\">FAQ entry</a> for more info."}],"owner":{"account_id":17901322,"reputation":11,"user_id":13005500,"display_name":"Can"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683803655,"creation_date":1683803655,"question_id":76227010,"body_markdown":"I am using MyBatis with Java 8. I am trying to inject mybatis parameters into SDO_NN constructor in oracle like; \r\n\r\n    SELECT \r\n    \t\t\t\r\n    \t\t\tc.COLUMNNAME_ID as columnId,\r\n    \t\t\tTRIM(c.COLUMNNAME_NAME) as columnName,\r\n    \t\t\tc.COLUMNNAME_OWNER_ID as columnOwnerId , \r\n    \t\t\tc.LATITUDE as latitude,\r\n    \t\t\tc.LONGITUDE as longitude,\r\n    \t\t\tTRIM(c.ADDRESS) as address,\r\n    \t\t\tTRIM(c.CITY) as city,\r\n    \t\t\tTRIM(c.DISTRICT) as district,\r\n    \t\t\tTRIM(c.PHONE_NUMBER) as phoneNumber,\r\n    \t\t\tTRUNC(SDO_NN_DISTANCE(1),3)  distance\r\n    \t\tFROM TABLE_NAME c\r\n    \t\tWHERE c.COLUMNNAME_STATUS = &#39;ACT&#39;\r\n    \t\t\tAND c.COLUMNAME_OWNER_ID = &#39;XXX&#39;\r\n    \t\t\tAND SDO_NN(c.XY, sdo_geometry(2001, 8307, sdo_point_type(#{queryInput.longitude},#{queryInput.latitude},NULL), NULL,  NULL),\r\n          \t\t\t&#39;SDO_NUM_RES=5000 distance=#{queryInput.radius} unit=m&#39;, 1) = &#39;TRUE&#39;\r\n\r\nBut it gives me the exception below.\r\n\r\n    org.springframework.jdbc.InvalidResultSetAccessException: \r\n    ### Error querying database.  Cause: java.sql.SQLException: Invalid column index\r\n    ### The error may exist in com/xxxx/xxxxx/xxxx/mapper/CustomMapperOracle.xml\r\n    ### The error may involve defaultParameterMap\r\n    ### The error occurred while setting parameters\r\n    ### SQL: SELECT  c.COLUMNNAME_ID as columnId,    TRIM(c.COLUMNNAME_NAME) as columnName,    c.COLUMNNAME_OWNER_ID as columnOwnerId,     c.LATITUDE as latitude,    c.LONGITUDE as longitude,    c.MCC_NUM as mccNum,    c.BRAND_NUM as brandNum,    TRIM(c.ADDRESS) as address,    TRIM(c.CITY) as city,    TRIM(c.DISTRICT) as district,    TRIM(c.PHONE_NUMBER) as phoneNumber,    TRUNC(SDO_NN_DISTANCE(1),3)  distance   FROM TABLE_NAME c   WHERE c.COLUMNNAME_STATUS = &#39;A&#39;    AND c.COLUMNAME_OWNER_ID = &#39;XXX&#39;    AND SDO_NN(c.XY, sdo_geometry(2001, 8307,          sdo_point_type(?,?,NULL), NULL,  NULL),          &#39;SDO_NUM_RES=? distance=? unit=m&#39;, 1) = &#39;TRUE&#39; \r\n\r\nWhen I changed code to this one;\r\n\r\n     SELECT \r\n    \t\t\t\r\n    \t\t\tc.COLUMNNAME_ID as columnId,\r\n    \t\t\tTRIM(c.COLUMNNAME_NAME) as columnName,\r\n    \t\t\tc.COLUMNNAME_OWNER_ID as columnOwnerId , \r\n    \t\t\tc.LATITUDE as latitude,\r\n    \t\t\tc.LONGITUDE as longitude,\r\n    \t\t\tTRIM(c.ADDRESS) as address,\r\n    \t\t\tTRIM(c.CITY) as city,\r\n    \t\t\tTRIM(c.DISTRICT) as district,\r\n    \t\t\tTRIM(c.PHONE_NUMBER) as phoneNumber,\r\n    \t\t\tTRUNC(SDO_NN_DISTANCE(1),3)  distance\r\n    \t\tFROM TABLE_NAME c\r\n    \t\tWHERE c.COLUMNNAME_STATUS = &#39;ACT&#39;\r\n    \t\t\tAND c.COLUMNAME_OWNER_ID = &#39;XXX&#39;\r\n    \t\t\tAND SDO_NN(c.XY, sdo_geometry(2001, 8307, sdo_point_type(#{queryInput.longitude},#{queryInput.latitude},NULL), NULL,  NULL),\r\n          \t\t\t&#39;SDO_NUM_RES=5000 distance=10000 unit=m&#39;, 1) = &#39;TRUE&#39;\r\n\r\nIt works, I am trying to parameterized the distance.\r\n\r\n\r\nThe only change between first query and second query is \r\n\r\nfrom\r\n\r\n&gt; distance=#{queryInput.radius}\r\n\r\nto \r\n\r\n&gt; 10000\r\n\r\n\r\nAny help would be appreciated. \r\n\r\nThanks.\r\n\r\n","title":"MyBatis SDO_NN inject parameter exception","body":"<p>I am using MyBatis with Java 8. I am trying to inject mybatis parameters into SDO_NN constructor in oracle like;</p>\n<pre><code>SELECT \n            \n            c.COLUMNNAME_ID as columnId,\n            TRIM(c.COLUMNNAME_NAME) as columnName,\n            c.COLUMNNAME_OWNER_ID as columnOwnerId , \n            c.LATITUDE as latitude,\n            c.LONGITUDE as longitude,\n            TRIM(c.ADDRESS) as address,\n            TRIM(c.CITY) as city,\n            TRIM(c.DISTRICT) as district,\n            TRIM(c.PHONE_NUMBER) as phoneNumber,\n            TRUNC(SDO_NN_DISTANCE(1),3)  distance\n        FROM TABLE_NAME c\n        WHERE c.COLUMNNAME_STATUS = 'ACT'\n            AND c.COLUMNAME_OWNER_ID = 'XXX'\n            AND SDO_NN(c.XY, sdo_geometry(2001, 8307, sdo_point_type(#{queryInput.longitude},#{queryInput.latitude},NULL), NULL,  NULL),\n                'SDO_NUM_RES=5000 distance=#{queryInput.radius} unit=m', 1) = 'TRUE'\n</code></pre>\n<p>But it gives me the exception below.</p>\n<pre><code>org.springframework.jdbc.InvalidResultSetAccessException: \n### Error querying database.  Cause: java.sql.SQLException: Invalid column index\n### The error may exist in com/xxxx/xxxxx/xxxx/mapper/CustomMapperOracle.xml\n### The error may involve defaultParameterMap\n### The error occurred while setting parameters\n### SQL: SELECT  c.COLUMNNAME_ID as columnId,    TRIM(c.COLUMNNAME_NAME) as columnName,    c.COLUMNNAME_OWNER_ID as columnOwnerId,     c.LATITUDE as latitude,    c.LONGITUDE as longitude,    c.MCC_NUM as mccNum,    c.BRAND_NUM as brandNum,    TRIM(c.ADDRESS) as address,    TRIM(c.CITY) as city,    TRIM(c.DISTRICT) as district,    TRIM(c.PHONE_NUMBER) as phoneNumber,    TRUNC(SDO_NN_DISTANCE(1),3)  distance   FROM TABLE_NAME c   WHERE c.COLUMNNAME_STATUS = 'A'    AND c.COLUMNAME_OWNER_ID = 'XXX'    AND SDO_NN(c.XY, sdo_geometry(2001, 8307,          sdo_point_type(?,?,NULL), NULL,  NULL),          'SDO_NUM_RES=? distance=? unit=m', 1) = 'TRUE' \n</code></pre>\n<p>When I changed code to this one;</p>\n<pre><code> SELECT \n            \n            c.COLUMNNAME_ID as columnId,\n            TRIM(c.COLUMNNAME_NAME) as columnName,\n            c.COLUMNNAME_OWNER_ID as columnOwnerId , \n            c.LATITUDE as latitude,\n            c.LONGITUDE as longitude,\n            TRIM(c.ADDRESS) as address,\n            TRIM(c.CITY) as city,\n            TRIM(c.DISTRICT) as district,\n            TRIM(c.PHONE_NUMBER) as phoneNumber,\n            TRUNC(SDO_NN_DISTANCE(1),3)  distance\n        FROM TABLE_NAME c\n        WHERE c.COLUMNNAME_STATUS = 'ACT'\n            AND c.COLUMNAME_OWNER_ID = 'XXX'\n            AND SDO_NN(c.XY, sdo_geometry(2001, 8307, sdo_point_type(#{queryInput.longitude},#{queryInput.latitude},NULL), NULL,  NULL),\n                'SDO_NUM_RES=5000 distance=10000 unit=m', 1) = 'TRUE'\n</code></pre>\n<p>It works, I am trying to parameterized the distance.</p>\n<p>The only change between first query and second query is</p>\n<p>from</p>\n<blockquote>\n<p>distance=#{queryInput.radius}</p>\n</blockquote>\n<p>to</p>\n<blockquote>\n<p>10000</p>\n</blockquote>\n<p>Any help would be appreciated.</p>\n<p>Thanks.</p>\n"},{"tags":["java","mustache"],"answers":[{"tags":[],"owner":{"account_id":123612,"reputation":48061,"user_id":318174,"accept_rate":71,"display_name":"Adam Gent"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683803632,"creation_date":1683803632,"answer_id":76227006,"question_id":75741098,"body_markdown":"I would just switch to [JMustache](https://github.com/samskivert/jmustache) or [JStachio](https://github.com/jstachio/jstachio) both of which are easier to use and better documented (I&#39;m the author of JStachio).\r\n\r\nIf your models are type based and not just `Map&lt;String,Object&gt;` then JStachio is good choice (it is vastly faster and safer then mustache.java).\r\n\r\n```java\r\n//package-info.java\r\n@JStacheConfig(contentType=PlainText.class)\r\ncom.mypackage;\r\n```\r\n\r\nNow all templates in that package will do no escaping. If your application is modular you can put the same annotation on a `module-info.java`.\r\n\r\n\r\nIf your models are `Map&lt;String,Object&gt;` and or you do not want to go the more type-safe route I recommend `JMustache`\r\n\r\nDoc example here: https://github.com/samskivert/jmustache#not-escaping-html-by-default\r\n\r\n```java\r\nMustache.compiler().escapeHTML(false).compile(&quot;{{foo}}&quot;).execute(new Object() {\r\n    String foo = &quot;&lt;bar&gt;&quot;;\r\n});\r\n```\r\n","title":"Is it possible to disable escaping globally with mustache java?","body":"<p>I would just switch to <a href=\"https://github.com/samskivert/jmustache\" rel=\"nofollow noreferrer\">JMustache</a> or <a href=\"https://github.com/jstachio/jstachio\" rel=\"nofollow noreferrer\">JStachio</a> both of which are easier to use and better documented (I'm the author of JStachio).</p>\n<p>If your models are type based and not just <code>Map&lt;String,Object&gt;</code> then JStachio is good choice (it is vastly faster and safer then mustache.java).</p>\n<pre class=\"lang-java prettyprint-override\"><code>//package-info.java\n@JStacheConfig(contentType=PlainText.class)\ncom.mypackage;\n</code></pre>\n<p>Now all templates in that package will do no escaping. If your application is modular you can put the same annotation on a <code>module-info.java</code>.</p>\n<p>If your models are <code>Map&lt;String,Object&gt;</code> and or you do not want to go the more type-safe route I recommend <code>JMustache</code></p>\n<p>Doc example here: <a href=\"https://github.com/samskivert/jmustache#not-escaping-html-by-default\" rel=\"nofollow noreferrer\">https://github.com/samskivert/jmustache#not-escaping-html-by-default</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>Mustache.compiler().escapeHTML(false).compile(&quot;{{foo}}&quot;).execute(new Object() {\n    String foo = &quot;&lt;bar&gt;&quot;;\n});\n</code></pre>\n"}],"owner":{"account_id":15276902,"reputation":455,"user_id":11023013,"display_name":"Itzhak Eretz Kdosha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":183,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1683803632,"creation_date":1678860791,"question_id":75741098,"body_markdown":"I am using [Mustache Java][1] to template regular text files and would like to disable any escaping done to the resource / the interpolated values.\r\n\r\nFor example, this java code:\r\n```java\r\nvar mustache = new DefaultMustacheFactory()\r\n  .compile(&quot;templates/test.mustache&quot;);\r\nvar writer = new StringWriter();\r\nmustache.execute(writer, Map.of(&quot;value&quot;, &quot;=&quot;)).flush();\r\n\r\nvar content = writer.toString();\r\nSystem.out.println(content);\r\n```\r\n\r\nwith this `test.mustache` file:\r\n```\r\nInterpolated data is escaped: {{value}}\r\n```\r\n\r\nWill output\r\n\r\n```\r\nInterpolated data is escaped: &amp;#61;\r\n```\r\n\r\nWhich is unwanted since `=` was escaped to `&amp;#61;`.\r\n\r\nI am aware that using `{{{` and `}}}` delimiters can escape the interpolation but I wish to have this feature disabled rather than worked around.\r\n\r\nThanks.\r\n\r\n\r\n\r\n  [1]: https://github.com/spullara/mustache.java","title":"Is it possible to disable escaping globally with mustache java?","body":"<p>I am using <a href=\"https://github.com/spullara/mustache.java\" rel=\"nofollow noreferrer\">Mustache Java</a> to template regular text files and would like to disable any escaping done to the resource / the interpolated values.</p>\n<p>For example, this java code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var mustache = new DefaultMustacheFactory()\n  .compile(&quot;templates/test.mustache&quot;);\nvar writer = new StringWriter();\nmustache.execute(writer, Map.of(&quot;value&quot;, &quot;=&quot;)).flush();\n\nvar content = writer.toString();\nSystem.out.println(content);\n</code></pre>\n<p>with this <code>test.mustache</code> file:</p>\n<pre><code>Interpolated data is escaped: {{value}}\n</code></pre>\n<p>Will output</p>\n<pre><code>Interpolated data is escaped: &amp;#61;\n</code></pre>\n<p>Which is unwanted since <code>=</code> was escaped to <code>&amp;#61;</code>.</p>\n<p>I am aware that using <code>{{{</code> and <code>}}}</code> delimiters can escape the interpolation but I wish to have this feature disabled rather than worked around.</p>\n<p>Thanks.</p>\n"},{"tags":["java","plsql","spring-jdbc"],"comments":[{"owner":{"account_id":252590,"reputation":6115,"user_id":530734,"display_name":"Peter Svensson"},"score":0,"creation_date":1329051555,"post_id":9247430,"comment_id":11653036,"body_markdown":"What is it that you want? Your SQL is not a query (i.e doesn&#39;t return anything) and you do `return null` anyway so......?","body":"What is it that you want? Your SQL is not a query (i.e doesn&#39;t return anything) and you do <code>return null</code> anyway so......?"},{"owner":{"account_id":1242584,"reputation":33,"user_id":1204818,"display_name":"user1204818"},"score":0,"creation_date":1329201949,"post_id":9247430,"comment_id":11689199,"body_markdown":"I need to access the values ​​of variables (for example `id_out`)","body":"I need to access the values ​​of variables (for example <code>id_out</code>)"}],"answers":[{"comments":[{"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1405686570,"post_id":9249875,"comment_id":38539604,"body_markdown":"SQL Server can execute &quot;blocks&quot; through JDBC. See [this blog post](http://blog.jooq.org/2014/06/23/sql-server-alter-table-set-default/) for an example block that [jOOQ](http://www.jooq.org) executes when emulating a `ALTER TABLE tab MODIFY col DEFAULT val` statement","body":"SQL Server can execute &quot;blocks&quot; through JDBC. See <a href=\"http://blog.jooq.org/2014/06/23/sql-server-alter-table-set-default/\" rel=\"nofollow noreferrer\">this blog post</a> for an example block that <a href=\"http://www.jooq.org\" rel=\"nofollow noreferrer\">jOOQ</a> executes when emulating a <code>ALTER TABLE tab MODIFY col DEFAULT val</code> statement"}],"tags":[],"owner":{"account_id":20338,"reputation":63801,"user_id":48503,"accept_rate":100,"display_name":"Luke Woodward"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1329059695,"creation_date":1329059695,"answer_id":9249875,"question_id":9247430,"body_markdown":"I don&#39;t believe you can use a NamedParameterJdbcTemplate (or any other subclass of JdbcTemplate) with anonymous PL/SQL blocks such as that above.  You&#39;ll have to wrap your anonymous PL/SQL block into a stored procedure or function.\r\n\r\nSpring is intended to be portable across databases.  As far as I know, neither MySQL nor SQL Server have a concept analogous to Oracle&#39;s anonymous PL/SQL blocks (I&#39;m happy to be proved wrong on this point, though).  Since this feature isn&#39;t portable across databases, Spring can&#39;t really support it for just Oracle.\r\n\r\n","title":"Spring JDBC Template. How can get outcome variables of the pl/sql script","body":"<p>I don't believe you can use a NamedParameterJdbcTemplate (or any other subclass of JdbcTemplate) with anonymous PL/SQL blocks such as that above.  You'll have to wrap your anonymous PL/SQL block into a stored procedure or function.</p>\n\n<p>Spring is intended to be portable across databases.  As far as I know, neither MySQL nor SQL Server have a concept analogous to Oracle's anonymous PL/SQL blocks (I'm happy to be proved wrong on this point, though).  Since this feature isn't portable across databases, Spring can't really support it for just Oracle.</p>\n"},{"comments":[{"owner":{"account_id":1999601,"reputation":325,"user_id":1790959,"accept_rate":67,"display_name":"INeedMySpace"},"score":1,"creation_date":1387398576,"post_id":10413589,"comment_id":30945984,"body_markdown":"You can also use named parameters in your CallableStatement - cstmt.registerOutParameter(&quot;id_out&quot;, Types.NUMERIC);","body":"You can also use named parameters in your CallableStatement - cstmt.registerOutParameter(&quot;id_out&quot;, Types.NUMERIC);"},{"owner":{"account_id":125029,"reputation":330,"user_id":682256,"display_name":"Simon Logic"},"score":0,"creation_date":1547481622,"post_id":10413589,"comment_id":95198343,"body_markdown":"How to extract param of type &quot;type id_list IS TABLE OF tablename1.id%type&quot;  ?","body":"How to extract param of type &quot;type id_list IS TABLE OF tablename1.id%type&quot;  ?"}],"tags":[],"owner":{"account_id":73139,"reputation":856,"user_id":210788,"display_name":"Noctiluque"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1335966501,"creation_date":1335961130,"answer_id":10413589,"question_id":9247430,"body_markdown":"It can be done with a plain JdbcTemplate as in the following example, but note the way that the OUT value must be specified in the anonymous plsql block with &quot;? := &#39;something&#39;;\r\n\r\njava parameters used below: String id=&quot;12345&quot; and String fixSql=\r\n\r\n        declare\r\n            p_id VARCHAR2(20) := null; \r\n            p_status_message VARCHAR2(32767) := null;\r\n        begin\r\n            p_id := ?;\r\n            p_status_message := &#39; Everything is possible: &#39; || p_id;\r\n            ? := &#39;Return text.&#39; || p_status_message;\r\n        end;\r\n\r\nNote the two question marks above - the first is effectively an IN parameter and the second an OUT parameter. This code will call it:\r\n\r\n        public class Foo extends JdbcDaoSupport {\r\n        ...\r\n        public String doAnonymousPlSql(final String id, String fixSql) throws CustomerFixException {\r\n            String resultValue = getJdbcTemplate().execute(new CallableStatementCreator() {\r\n                @Override\r\n                public CallableStatement createCallableStatement(Connection connection) throws SQLException {\r\n                    CallableStatement sql = connection.prepareCall(fixSql);\r\n                    sql.setString(1, id);\r\n                    sql.registerOutParameter(2, Types.VARCHAR);\r\n                    return sql;\r\n                }\r\n            }\r\n            , new CallableStatementCallback&lt;String&gt;() {\r\n                @Override\r\n                public String doInCallableStatement(CallableStatement callablestatement) throws SQLException,\r\n                        DataAccessException {\r\n                    callablestatement.executeUpdate();\r\n                    return (String) callablestatement.getObject(2);\r\n                }\r\n            });\r\n","title":"Spring JDBC Template. How can get outcome variables of the pl/sql script","body":"<p>It can be done with a plain JdbcTemplate as in the following example, but note the way that the OUT value must be specified in the anonymous plsql block with \"? := 'something';</p>\n\n<p>java parameters used below: String id=\"12345\" and String fixSql=</p>\n\n<pre><code>    declare\n        p_id VARCHAR2(20) := null; \n        p_status_message VARCHAR2(32767) := null;\n    begin\n        p_id := ?;\n        p_status_message := ' Everything is possible: ' || p_id;\n        ? := 'Return text.' || p_status_message;\n    end;\n</code></pre>\n\n<p>Note the two question marks above - the first is effectively an IN parameter and the second an OUT parameter. This code will call it:</p>\n\n<pre><code>    public class Foo extends JdbcDaoSupport {\n    ...\n    public String doAnonymousPlSql(final String id, String fixSql) throws CustomerFixException {\n        String resultValue = getJdbcTemplate().execute(new CallableStatementCreator() {\n            @Override\n            public CallableStatement createCallableStatement(Connection connection) throws SQLException {\n                CallableStatement sql = connection.prepareCall(fixSql);\n                sql.setString(1, id);\n                sql.registerOutParameter(2, Types.VARCHAR);\n                return sql;\n            }\n        }\n        , new CallableStatementCallback&lt;String&gt;() {\n            @Override\n            public String doInCallableStatement(CallableStatement callablestatement) throws SQLException,\n                    DataAccessException {\n                callablestatement.executeUpdate();\n                return (String) callablestatement.getObject(2);\n            }\n        });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1637539,"reputation":71,"user_id":1510621,"display_name":"sebasbad"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1371123135,"creation_date":1371122389,"answer_id":17085805,"question_id":9247430,"body_markdown":"    List&lt;SqlParameter&gt; params = new LinkedList&lt;SqlParameter&gt;();\r\n    params.add(new SqlParameter(Types.NUMERIC));\r\n    params.add(new SqlParameter(Types.NUMERIC));\r\n    params.add(new SqlOutParameter(&quot;out_param_1&quot;, Types.NUMERIC));\r\n    params.add(new SqlOutParameter(&quot;out_param_2&quot;, Types.NUMERIC));\r\n    Map&lt;String, Object&gt; ret = simpleJdbcTemplate.getJdbcOperations().call(\r\n\tnew CallableStatementCreator() {\r\n\r\n\t\t@Override\r\n\t\tpublic CallableStatement createCallableStatement(Connection con) throws SQLException {\r\n\t\t\tCallableStatement cs = con.prepareCall(&quot;DECLARE ...&quot; + \r\n\t\t\t\t\t\t\t\t\t\t\t\t   &quot;BEGIN ... &quot; + \r\n\t\t\t\t\t\t\t\t\t\t\t\t   &quot;delete from table where table_field_1 = ? and table_field_2 = ? &quot; + \r\n\t\t\t\t\t\t\t\t\t\t\t\t   &quot;returning out_param_1, out_param_2 into ?, ?; &quot; + \r\n\t\t\t\t\t\t\t\t\t\t\t\t   &quot;END;&quot;\r\n\t\t\tcs.setInt(1, first_in_param_value);\r\n\t\t\tcs.setInt(2, second_in_param_value);\r\n\t\t\tcs.registerOutParameter(3, Types.NUMERIC);\r\n\t\t\tcs.registerOutParameter(4, Types.NUMERIC);\r\n\t\t\treturn cs;\r\n\t\t}\r\n\t}, params);\r\n\r\n    ret.get(&quot;out_param_1&quot;);\r\n    ret.get(&quot;out_param_1&quot;);","title":"Spring JDBC Template. How can get outcome variables of the pl/sql script","body":"<pre><code>List&lt;SqlParameter&gt; params = new LinkedList&lt;SqlParameter&gt;();\nparams.add(new SqlParameter(Types.NUMERIC));\nparams.add(new SqlParameter(Types.NUMERIC));\nparams.add(new SqlOutParameter(\"out_param_1\", Types.NUMERIC));\nparams.add(new SqlOutParameter(\"out_param_2\", Types.NUMERIC));\nMap&lt;String, Object&gt; ret = simpleJdbcTemplate.getJdbcOperations().call(\nnew CallableStatementCreator() {\n\n    @Override\n    public CallableStatement createCallableStatement(Connection con) throws SQLException {\n        CallableStatement cs = con.prepareCall(\"DECLARE ...\" + \n                                               \"BEGIN ... \" + \n                                               \"delete from table where table_field_1 = ? and table_field_2 = ? \" + \n                                               \"returning out_param_1, out_param_2 into ?, ?; \" + \n                                               \"END;\"\n        cs.setInt(1, first_in_param_value);\n        cs.setInt(2, second_in_param_value);\n        cs.registerOutParameter(3, Types.NUMERIC);\n        cs.registerOutParameter(4, Types.NUMERIC);\n        return cs;\n    }\n}, params);\n\nret.get(\"out_param_1\");\nret.get(\"out_param_1\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28578844,"reputation":1,"user_id":21880079,"display_name":"akalexus"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683803405,"creation_date":1683803201,"answer_id":76226943,"question_id":9247430,"body_markdown":"This works fine in Spring Data:\r\n``` lang-java\r\nNamedParameterJdbcTemplate jdbcTemplate;\r\njdbcTemplate.update(\r\n    &quot;DECLARE ... BEGIN ... (PL/SQL Block with named binding parameters) END;&quot;,\r\n    new MapSqlParameterSource\r\n        .addValue(&quot;parameter1&quot;, value1)\r\n        .addValue(&quot;parameter2&quot;, value2));\r\n```","title":"Spring JDBC Template. How can get outcome variables of the pl/sql script","body":"<p>This works fine in Spring Data:</p>\n<pre class=\"lang-java prettyprint-override\"><code>NamedParameterJdbcTemplate jdbcTemplate;\njdbcTemplate.update(\n    &quot;DECLARE ... BEGIN ... (PL/SQL Block with named binding parameters) END;&quot;,\n    new MapSqlParameterSource\n        .addValue(&quot;parameter1&quot;, value1)\n        .addValue(&quot;parameter2&quot;, value2));\n</code></pre>\n"}],"owner":{"account_id":1242584,"reputation":33,"user_id":1204818,"display_name":"user1204818"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12416,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":9249875,"answer_count":4,"score":1,"last_activity_date":1683803405,"creation_date":1329035025,"question_id":9247430,"body_markdown":"I am using NamedParameterJdbcTemplate for run pl/sql script. \r\nBut I don&#39;t know how can I get the values ​​of out variables (**:id_out**). \r\nThanks in advance.\r\n\r\n    String script = &quot;declare \r\n                       begin \r\n                         if myFunc(:id_in) is null then \r\n                            :id_out := 0; \r\n                         else \r\n                            :id_out := 1; \r\n                         end if; \r\n                       end;&quot;;\r\n    Map&lt;String,Object&gt; bindVars = new HashMap&lt;String, Object&gt;();\r\n    bindVars.put(id_in,1);\r\n    bindVars.put(id_out,2);\r\n    \r\n    \r\n    jdbcTmpl.execute(script, bindVars, new PreparedStatementCallback&lt;Object&gt;() {\r\n    \t@Override public Object doInPreparedStatement(PreparedStatement cs)\r\n    \t\tthrows SQLException, DataAccessException {\r\n    \t\tcs.execute();\r\n    \t\treturn null;\r\n                    }\r\n    \t   }\r\n           );\r\n\r\n","title":"Spring JDBC Template. How can get outcome variables of the pl/sql script","body":"<p>I am using NamedParameterJdbcTemplate for run pl/sql script. \nBut I don't know how can I get the values ​​of out variables (<strong>:id_out</strong>). \nThanks in advance.</p>\n\n<pre><code>String script = \"declare \n                   begin \n                     if myFunc(:id_in) is null then \n                        :id_out := 0; \n                     else \n                        :id_out := 1; \n                     end if; \n                   end;\";\nMap&lt;String,Object&gt; bindVars = new HashMap&lt;String, Object&gt;();\nbindVars.put(id_in,1);\nbindVars.put(id_out,2);\n\n\njdbcTmpl.execute(script, bindVars, new PreparedStatementCallback&lt;Object&gt;() {\n    @Override public Object doInPreparedStatement(PreparedStatement cs)\n        throws SQLException, DataAccessException {\n        cs.execute();\n        return null;\n                }\n       }\n       );\n</code></pre>\n"},{"tags":["java","lombok"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1683801594,"post_id":76226712,"comment_id":134423654,"body_markdown":"where in your code do you get this issue?","body":"where in your code do you get this issue?"},{"owner":{"account_id":18891237,"reputation":39,"user_id":13781478,"display_name":"Stitch"},"score":0,"creation_date":1683801806,"post_id":76226712,"comment_id":134423704,"body_markdown":"I got it during building (build failed). It pointed on @Builder annotation in SpecContext class","body":"I got it during building (build failed). It pointed on @Builder annotation in SpecContext class"},{"owner":{"account_id":18891237,"reputation":39,"user_id":13781478,"display_name":"Stitch"},"score":0,"creation_date":1683801951,"post_id":76226712,"comment_id":134423733,"body_markdown":"I did some experiment and changed Long type for globalPriceId and priceId to Integer type and got the error `java: incompatible types: java.lang.Integer cannot be converted to ValidFor`","body":"I did some experiment and changed Long type for globalPriceId and priceId to Integer type and got the error <code>java: incompatible types: java.lang.Integer cannot be converted to ValidFor</code>"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1683803043,"creation_date":1683803043,"answer_id":76226926,"question_id":76226712,"body_markdown":"Lombok `@Builder` __requires__ that you have a constructor that contains each and every field, __in the same order your fields are listed__. This is why `@Builder` will generate this for you, but if you want to write your own constructor, you can do that too. You did here, and your constructor&#39;s argslist _does not match up_ - you have swapped orders: In your constructor, the order is: `[Long globalPriceId, ValidFor validFor, Long priceId]`, but in your fields the order is `[Long globalPriceId, Long priceId, ValidFor validFor]`.","title":"java: incompatible types: java.lang.Long cannot be converted to ValidFor","body":"<p>Lombok <code>@Builder</code> <strong>requires</strong> that you have a constructor that contains each and every field, <strong>in the same order your fields are listed</strong>. This is why <code>@Builder</code> will generate this for you, but if you want to write your own constructor, you can do that too. You did here, and your constructor's argslist <em>does not match up</em> - you have swapped orders: In your constructor, the order is: <code>[Long globalPriceId, ValidFor validFor, Long priceId]</code>, but in your fields the order is <code>[Long globalPriceId, Long priceId, ValidFor validFor]</code>.</p>\n"}],"owner":{"account_id":18891237,"reputation":39,"user_id":13781478,"display_name":"Stitch"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":577,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76226926,"answer_count":1,"score":0,"last_activity_date":1683803043,"creation_date":1683801467,"question_id":76226712,"body_markdown":"I have two classes\r\n1. Builder for SpecContext object\r\n```\r\nimport com.fasterxml.jackson.annotation.JsonCreator;\r\nimport com.fasterxml.jackson.annotation.JsonIgnoreProperties;\r\nimport com.fasterxml.jackson.annotation.JsonInclude;\r\nimport com.fasterxml.jackson.annotation.JsonProperty;\r\nimport com.fasterxml.jackson.databind.annotation.JsonDeserialize;\r\nimport lombok.Builder;\r\nimport lombok.Data;\r\nimport lombok.Value;\r\n\r\nimport javax.annotation.Nullable;\r\n\r\n\r\n@Data\r\n@Builder\r\n@JsonIgnoreProperties(ignoreUnknown = true)\r\npublic class SpecContext {\r\n\r\n    private Long globalPriceId;\r\n\r\n    private Long priceId;\r\n\r\n    private ValidFor validFor;\r\n\r\n\r\n\r\n\r\n    @JsonCreator\r\n    public SpecContext(\r\n            @JsonProperty(value = &quot;globalPriceId&quot;)\r\n            Long globalPriceId,\r\n            @JsonProperty(value = &quot;validFor&quot;)\r\n            ValidFor validFor,\r\n            @JsonProperty(value = &quot;priceId&quot;)\r\n            Long priceId\r\n    ) {\r\n        this.globalPriceId = globalPriceId;\r\n        this.validFor = validFor;\r\n        this.priceId = priceId;\r\n\r\n    }\r\n\r\n}\r\n```\r\n2. Builder for ValidFor object\r\n```\r\nimport com.fasterxml.jackson.annotation.JsonCreator;\r\nimport com.fasterxml.jackson.annotation.JsonIgnoreProperties;\r\nimport com.fasterxml.jackson.annotation.JsonProperty;\r\nimport com.fasterxml.jackson.databind.annotation.JsonDeserialize;\r\nimport com.fasterxml.jackson.databind.annotation.JsonSerialize;\r\nimport utils.DateJsonDeserializer;\r\nimport utils.DateJsonSerializer;\r\nimport lombok.*;\r\n\r\nimport java.time.LocalDateTime;\r\n\r\n@Data\r\n@Value\r\n@JsonIgnoreProperties(ignoreUnknown = true)\r\npublic class ValidFor {\r\n    private LocalDateTime startDateTime;\r\n    private LocalDateTime endDateTime;\r\n    public static final String START_DATE_TIME = &quot;startDateTime&quot;;\r\n    public static final String END_DATE_TIME = &quot;endDateTime&quot;;\r\n\r\n\r\n    @JsonCreator\r\n    public ValidFor(\r\n            @JsonDeserialize(using = DateJsonDeserializer.class)\r\n            @JsonSerialize(using = DateJsonSerializer.class)\r\n            @JsonProperty(value = START_DATE_TIME)\r\n                    LocalDateTime startDateTime,\r\n\r\n            @JsonDeserialize(using = DateJsonDeserializer.class)\r\n            @JsonSerialize(using = DateJsonSerializer.class)\r\n            @JsonProperty(value = END_DATE_TIME)\r\n                    LocalDateTime endDateTime)\r\n            {\r\n        this.startDateTime = startDateTime;\r\n        this.endDateTime = endDateTime;\r\n    }\r\n\r\n\r\n\r\n\r\n    public static ValidForBuilder builder() {\r\n        return new ValidForBuilder();\r\n    }\r\n\r\n    public static class ValidForBuilder {\r\n        private LocalDateTime startDateTime;\r\n        private LocalDateTime endDateTime;\r\n\r\n        public ValidForBuilder() {\r\n        }\r\n\r\n        public ValidForBuilder startDateTime(LocalDateTime startDateTime) {\r\n            this.startDateTime = startDateTime;\r\n            return this;\r\n        }\r\n\r\n        public ValidForBuilder endDateTime(LocalDateTime endDateTime) {\r\n            this.endDateTime = endDateTime;\r\n            return this;\r\n        }\r\n\r\n        public ValidFor build() {\r\n\r\n            return new ValidFor(startDateTime, endDateTime);\r\n        }\r\n    }\r\n\r\n}\r\n\r\n```\r\nI use it in an autotest:\r\n```\r\nvoid test() {\r\n\r\n    SpecContext sp = SpecContext.builder()\r\n            .globalPriceId(101928081L)\r\n            .priceId(2L)\r\n            .validFor(ValidFor.builder().\r\n                    startDateTime(LocalDateTime.of(2019, 10, 10, 14, 15, 00))\r\n                    .endDateTime(LocalDateTime.of(2025, 10, 10, 14, 15, 00))\r\n                    .build())\r\n            .build();\r\n```\r\n\r\nDuring complilation I got the error\r\n`\r\njava: incompatible types: java.lang.Long cannot be converted to ValidFor\r\n`\r\nI don&#39;t understand why globalPriceId and priceId are being tried to convert in ValidFor?\r\n\r\nI tried to use Lombok @Builder for ValidFor but got the same error\r\n\r\nHow can I fix this problem?\r\nThank you","title":"java: incompatible types: java.lang.Long cannot be converted to ValidFor","body":"<p>I have two classes</p>\n<ol>\n<li>Builder for SpecContext object</li>\n</ol>\n<pre><code>import com.fasterxml.jackson.annotation.JsonCreator;\nimport com.fasterxml.jackson.annotation.JsonIgnoreProperties;\nimport com.fasterxml.jackson.annotation.JsonInclude;\nimport com.fasterxml.jackson.annotation.JsonProperty;\nimport com.fasterxml.jackson.databind.annotation.JsonDeserialize;\nimport lombok.Builder;\nimport lombok.Data;\nimport lombok.Value;\n\nimport javax.annotation.Nullable;\n\n\n@Data\n@Builder\n@JsonIgnoreProperties(ignoreUnknown = true)\npublic class SpecContext {\n\n    private Long globalPriceId;\n\n    private Long priceId;\n\n    private ValidFor validFor;\n\n\n\n\n    @JsonCreator\n    public SpecContext(\n            @JsonProperty(value = &quot;globalPriceId&quot;)\n            Long globalPriceId,\n            @JsonProperty(value = &quot;validFor&quot;)\n            ValidFor validFor,\n            @JsonProperty(value = &quot;priceId&quot;)\n            Long priceId\n    ) {\n        this.globalPriceId = globalPriceId;\n        this.validFor = validFor;\n        this.priceId = priceId;\n\n    }\n\n}\n</code></pre>\n<ol start=\"2\">\n<li>Builder for ValidFor object</li>\n</ol>\n<pre><code>import com.fasterxml.jackson.annotation.JsonCreator;\nimport com.fasterxml.jackson.annotation.JsonIgnoreProperties;\nimport com.fasterxml.jackson.annotation.JsonProperty;\nimport com.fasterxml.jackson.databind.annotation.JsonDeserialize;\nimport com.fasterxml.jackson.databind.annotation.JsonSerialize;\nimport utils.DateJsonDeserializer;\nimport utils.DateJsonSerializer;\nimport lombok.*;\n\nimport java.time.LocalDateTime;\n\n@Data\n@Value\n@JsonIgnoreProperties(ignoreUnknown = true)\npublic class ValidFor {\n    private LocalDateTime startDateTime;\n    private LocalDateTime endDateTime;\n    public static final String START_DATE_TIME = &quot;startDateTime&quot;;\n    public static final String END_DATE_TIME = &quot;endDateTime&quot;;\n\n\n    @JsonCreator\n    public ValidFor(\n            @JsonDeserialize(using = DateJsonDeserializer.class)\n            @JsonSerialize(using = DateJsonSerializer.class)\n            @JsonProperty(value = START_DATE_TIME)\n                    LocalDateTime startDateTime,\n\n            @JsonDeserialize(using = DateJsonDeserializer.class)\n            @JsonSerialize(using = DateJsonSerializer.class)\n            @JsonProperty(value = END_DATE_TIME)\n                    LocalDateTime endDateTime)\n            {\n        this.startDateTime = startDateTime;\n        this.endDateTime = endDateTime;\n    }\n\n\n\n\n    public static ValidForBuilder builder() {\n        return new ValidForBuilder();\n    }\n\n    public static class ValidForBuilder {\n        private LocalDateTime startDateTime;\n        private LocalDateTime endDateTime;\n\n        public ValidForBuilder() {\n        }\n\n        public ValidForBuilder startDateTime(LocalDateTime startDateTime) {\n            this.startDateTime = startDateTime;\n            return this;\n        }\n\n        public ValidForBuilder endDateTime(LocalDateTime endDateTime) {\n            this.endDateTime = endDateTime;\n            return this;\n        }\n\n        public ValidFor build() {\n\n            return new ValidFor(startDateTime, endDateTime);\n        }\n    }\n\n}\n\n</code></pre>\n<p>I use it in an autotest:</p>\n<pre><code>void test() {\n\n    SpecContext sp = SpecContext.builder()\n            .globalPriceId(101928081L)\n            .priceId(2L)\n            .validFor(ValidFor.builder().\n                    startDateTime(LocalDateTime.of(2019, 10, 10, 14, 15, 00))\n                    .endDateTime(LocalDateTime.of(2025, 10, 10, 14, 15, 00))\n                    .build())\n            .build();\n</code></pre>\n<p>During complilation I got the error\n<code>java: incompatible types: java.lang.Long cannot be converted to ValidFor</code>\nI don't understand why globalPriceId and priceId are being tried to convert in ValidFor?</p>\n<p>I tried to use Lombok @Builder for ValidFor but got the same error</p>\n<p>How can I fix this problem?\nThank you</p>\n"},{"tags":["java","model-view-controller","classpath","mustache"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1675098880,"post_id":75286562,"comment_id":132851012,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":123612,"reputation":48061,"user_id":318174,"accept_rate":71,"display_name":"Adam Gent"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683802489,"creation_date":1683802489,"answer_id":76226854,"question_id":75286562,"body_markdown":"If I understand the problem you would like to share a template across multiple jars correct?\r\n\r\nIf so an easy way to do that is to make a core jar with all the templates in them and I recommend models as well.\r\n\r\nI&#39;m the author of [JStachio a Java mustache templating engine](https://github.com/jstachio/jstachio) and you can easily do the above by creating [JStaches which are just a model and template glued together](https://jstach.io/doc/jstachio/current/apidocs/io.jstach.jstache/io/jstach/jstache/JStache.html).\r\n\r\nYou then put all your JStaches in a shared jar. Share the jar with all the microservices.\r\n\r\nIt&#39;s important to understand that the model aka the class annotated with JStache is essentially the contract of the template which IMO is critical if you are sharing the template which is why I&#39;m shamefully pushing my library here because none of the other mustache java implementations do that.\r\n","title":"Use a Mustache template from a Maven dependency","body":"<p>If I understand the problem you would like to share a template across multiple jars correct?</p>\n<p>If so an easy way to do that is to make a core jar with all the templates in them and I recommend models as well.</p>\n<p>I'm the author of <a href=\"https://github.com/jstachio/jstachio\" rel=\"nofollow noreferrer\">JStachio a Java mustache templating engine</a> and you can easily do the above by creating <a href=\"https://jstach.io/doc/jstachio/current/apidocs/io.jstach.jstache/io/jstach/jstache/JStache.html\" rel=\"nofollow noreferrer\">JStaches which are just a model and template glued together</a>.</p>\n<p>You then put all your JStaches in a shared jar. Share the jar with all the microservices.</p>\n<p>It's important to understand that the model aka the class annotated with JStache is essentially the contract of the template which IMO is critical if you are sharing the template which is why I'm shamefully pushing my library here because none of the other mustache java implementations do that.</p>\n"}],"owner":{"account_id":20513800,"reputation":35,"user_id":15054958,"display_name":"Malachi Spencer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1683802489,"creation_date":1675092590,"question_id":75286562,"body_markdown":"I have several user-facing, Java microservices that render screens via [Mustache](https://mustache.github.io/mustache.5.html) templates. I also have a self-made Maven library which - among other things - holds a cookie banner Mustache template.\r\n\r\nCurrently, that cookie banner Mustache template from the library is hard coded into each of the individual microservices, because the developers that created the library were not aware of a way to &quot;import&quot; Mustache templates.\r\n\r\nI would like to &quot;import&quot; the cookie banner Mustache template from the library instead, to keep the code DRY and more maintainable.\r\n\r\nIs there a way that you can use a Mustache template from a Maven dependency?\r\n\r\n\r\nThus far, I have been trying to load the template from the classpath, to no avail. Even if this were to succeed, I would not know how to then reference that template in another template to use it as a partial.\r\n\r\nDocumentation for Mustache is quite scarce and the examples are often simple use-cases, replies are greatly appreciated.","title":"Use a Mustache template from a Maven dependency","body":"<p>I have several user-facing, Java microservices that render screens via <a href=\"https://mustache.github.io/mustache.5.html\" rel=\"nofollow noreferrer\">Mustache</a> templates. I also have a self-made Maven library which - among other things - holds a cookie banner Mustache template.</p>\n<p>Currently, that cookie banner Mustache template from the library is hard coded into each of the individual microservices, because the developers that created the library were not aware of a way to &quot;import&quot; Mustache templates.</p>\n<p>I would like to &quot;import&quot; the cookie banner Mustache template from the library instead, to keep the code DRY and more maintainable.</p>\n<p>Is there a way that you can use a Mustache template from a Maven dependency?</p>\n<p>Thus far, I have been trying to load the template from the classpath, to no avail. Even if this were to succeed, I would not know how to then reference that template in another template to use it as a partial.</p>\n<p>Documentation for Mustache is quite scarce and the examples are often simple use-cases, replies are greatly appreciated.</p>\n"},{"tags":["java","git","processbuilder"],"comments":[{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1683807668,"post_id":33296443,"comment_id":134424999,"body_markdown":"Reading the output of a command **after** it has finished (i.e. after calling `waitFor`) is very likely to break at some point, because it depends on the *entire* output of that application fitting into whichever buffers the OS and/or JVM naturally put there (and the totality of those filters tends to be rather small). So whenever your output exceeds more than a few lines of text, this code will break (because the output call of the process you start will block until you read and your code doesn&#39;t read until the output process quits: a classical deadlock).","body":"Reading the output of a command <b>after</b> it has finished (i.e. after calling <code>waitFor</code>) is very likely to break at some point, because it depends on the <i>entire</i> output of that application fitting into whichever buffers the OS and/or JVM naturally put there (and the totality of those filters tends to be rather small). So whenever your output exceeds more than a few lines of text, this code will break (because the output call of the process you start will block until you read and your code doesn&#39;t read until the output process quits: a classical deadlock)."}],"answers":[{"tags":[],"owner":{"account_id":7955655,"reputation":190,"user_id":6005075,"accept_rate":50,"display_name":"Alcemir Santos"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1463063512,"creation_date":1463063512,"answer_id":37190029,"question_id":33296443,"body_markdown":"If I understood correctly, you are trying your goal is `git blame &lt;filepath&gt;`.\r\n\r\nI would suggest the Git API for Java (JGit). In this [cookbook][1], there are several examples on how to get started.\r\n\r\nMore specifically, you can blame a given file in a given commit, like this:\r\n\r\n    private BlameResult blameCommit(String path, RevCommit commitToBlame) throws GitAPIException {\r\n\t\tBlameCommand blamer = new BlameCommand(&lt;yourRepository&gt;);\r\n\t\tObjectId commitToBlameID = commitToBlame.getId();\r\n\t\tblamer.setStartCommit(commitToBlameID);\r\n\t\tblamer.setFilePath(path);\r\n\t\treturn blamer.call();\r\n\t}\r\n\r\n... or recursively in a given time range, like this:\r\n\r\n    public List&lt;Blame&gt; recuriveBlame(String path, RevCommit beginRevision, RevCommit endRevision) throws IOException, GitAPIException {\r\n\t   if (path == null\r\n\t\t\t\t|| beginRevision == null\r\n\t\t\t\t|| endRevision == null) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\t\r\n\t\tList&lt;Blame&gt; result = new ArrayList&lt;Blame&gt;();\r\n\t\ttry (RevWalk rw = new RevWalk(this.repo)) {\r\n\t\t    rw.markStart(rw.parseCommit(this.beginRevision));\r\n\t\t    rw.markUninteresting(rw.parseCommit(this.endRevision));\r\n\t\t    for (RevCommit curr; (curr = rw.next()) != null;){\r\n\t\t    \tresult.add(new Blame(curr, blameCommit(path, curr)));\r\n\t\t    }\r\n\t\t}\r\n\t\t\r\n\t\treturn result;\r\n\t}\r\n\r\n... and get the committer of a given line of given file in a given commit, like [this][2]:\r\n\r\n    public void printCommitter(Repository repo, ObjectID commitID, String filename){\r\n       int lines = countFiles(repos, commitID, filename);\r\n       for (int i = 0; i &lt; lines; i++) {\r\n           PersonIdent committer = blame.getSourceCommitter(i);\r\n           System.out.println(&quot;Committer of the line: &quot; + i + &quot;: &quot; + committer.getName());\r\n       }\r\n    }\r\n\r\nps: Be aware that you may need to make small changes to run this code. For instance, `countFiles(...)` is [here][2].\r\n\r\n  [1]: https://github.com/centic9/jgit-cookbook\r\n  [2]: https://github.com/centic9/jgit-cookbook/blob/master/src/main/java/org/dstadler/jgit/porcelain/ShowBlame.java","title":"ProcessBuilder with GIT command gives no result","body":"<p>If I understood correctly, you are trying your goal is <code>git blame &lt;filepath&gt;</code>.</p>\n\n<p>I would suggest the Git API for Java (JGit). In this <a href=\"https://github.com/centic9/jgit-cookbook\" rel=\"nofollow\">cookbook</a>, there are several examples on how to get started.</p>\n\n<p>More specifically, you can blame a given file in a given commit, like this:</p>\n\n<pre><code>private BlameResult blameCommit(String path, RevCommit commitToBlame) throws GitAPIException {\n    BlameCommand blamer = new BlameCommand(&lt;yourRepository&gt;);\n    ObjectId commitToBlameID = commitToBlame.getId();\n    blamer.setStartCommit(commitToBlameID);\n    blamer.setFilePath(path);\n    return blamer.call();\n}\n</code></pre>\n\n<p>... or recursively in a given time range, like this:</p>\n\n<pre><code>public List&lt;Blame&gt; recuriveBlame(String path, RevCommit beginRevision, RevCommit endRevision) throws IOException, GitAPIException {\n   if (path == null\n            || beginRevision == null\n            || endRevision == null) {\n        return null;\n    }\n\n    List&lt;Blame&gt; result = new ArrayList&lt;Blame&gt;();\n    try (RevWalk rw = new RevWalk(this.repo)) {\n        rw.markStart(rw.parseCommit(this.beginRevision));\n        rw.markUninteresting(rw.parseCommit(this.endRevision));\n        for (RevCommit curr; (curr = rw.next()) != null;){\n            result.add(new Blame(curr, blameCommit(path, curr)));\n        }\n    }\n\n    return result;\n}\n</code></pre>\n\n<p>... and get the committer of a given line of given file in a given commit, like <a href=\"https://github.com/centic9/jgit-cookbook/blob/master/src/main/java/org/dstadler/jgit/porcelain/ShowBlame.java\" rel=\"nofollow\">this</a>:</p>\n\n<pre><code>public void printCommitter(Repository repo, ObjectID commitID, String filename){\n   int lines = countFiles(repos, commitID, filename);\n   for (int i = 0; i &lt; lines; i++) {\n       PersonIdent committer = blame.getSourceCommitter(i);\n       System.out.println(\"Committer of the line: \" + i + \": \" + committer.getName());\n   }\n}\n</code></pre>\n\n<p>ps: Be aware that you may need to make small changes to run this code. For instance, <code>countFiles(...)</code> is <a href=\"https://github.com/centic9/jgit-cookbook/blob/master/src/main/java/org/dstadler/jgit/porcelain/ShowBlame.java\" rel=\"nofollow\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":12363930,"reputation":11,"user_id":9016918,"display_name":"Brian Stansberry"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683802270,"creation_date":1683672832,"answer_id":76213853,"question_id":33296443,"body_markdown":"The issue with git shortlog is this from man page (https://git-scm.com/docs/git-shortlog)\r\n\r\n&gt; If no revisions are passed on the command line and either standard input is not a terminal or there is no current branch, git shortlog will output a summary of the log read from standard input, without reference to the current repository.\r\n\r\nThe command `git shortlog -s -p FeilePath` does not include a revision range so git will try to read from its `stdin`, and the java program is not providing anything to read.\r\n\r\nIn a similar thing I&#39;m doing, including `HEAD`, `--all` or `--branches main` all worked, as would, I assume, any valid revision range.","title":"ProcessBuilder with GIT command gives no result","body":"<p>The issue with git shortlog is this from man page (<a href=\"https://git-scm.com/docs/git-shortlog\" rel=\"nofollow noreferrer\">https://git-scm.com/docs/git-shortlog</a>)</p>\n<blockquote>\n<p>If no revisions are passed on the command line and either standard input is not a terminal or there is no current branch, git shortlog will output a summary of the log read from standard input, without reference to the current repository.</p>\n</blockquote>\n<p>The command <code>git shortlog -s -p FeilePath</code> does not include a revision range so git will try to read from its <code>stdin</code>, and the java program is not providing anything to read.</p>\n<p>In a similar thing I'm doing, including <code>HEAD</code>, <code>--all</code> or <code>--branches main</code> all worked, as would, I assume, any valid revision range.</p>\n"}],"owner":{"account_id":7171465,"reputation":31,"user_id":5478780,"display_name":"Longri"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":771,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1683802270,"creation_date":1445583306,"question_id":33296443,"body_markdown":"I try using the Process Builder to execute a git command.\r\nBut it does not seem to work any command.\r\n\r\n`git log` gives me the right result.\r\n\r\n`git shortlog -s` but ends in a TimeOut!\r\n\r\nBoth commands run in a terminal provide the correct result!\r\nI have tested on Win and Mac.\r\n\r\nDoes anyone have any idea how I can debug this, or where my mistake is?\r\n\r\nOr maybe a different solution?\r\nThe aim is to read out the committer to a specific file in a git repository.\r\n\r\nThe fact Git command is `git shortlog -s -p FeilePath` ?\r\n\r\n\r\nMy Test Code:\r\n\r\n\r\n     @Test\r\n        public void testCommandListDir() {\r\n    \r\n            File execDir = new File(&quot;./&quot;);\r\n            String returnValue = &quot;&quot;;\r\n    \r\n            try {\r\n                returnValue = runCommand(execDir, 10, TimeUnit.SECONDS, &quot;git&quot;, &quot;log&quot;);\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n            assertTrue(returnValue.contains(&quot;+ try and error for git shortlog&quot;));\r\n        }\r\n    \r\n    \r\n        @Test\r\n        public void testCommandGitShortlog() {\r\n    \r\n            File execDir = new File(&quot;./&quot;);\r\n            String returnValue = &quot;&quot;;\r\n    \r\n            try {\r\n                returnValue = runCommand(execDir, 10, TimeUnit.SECONDS, &quot;git&quot;, &quot;shortlog&quot;, &quot;-s&quot;);\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n            assertTrue(returnValue.equals(&quot;&quot;));\r\n        }\r\n    \r\n        public static String runCommand(File directory, long timeout, TimeUnit unit, String... command) throws IOException, InterruptedException {\r\n    \r\n            StringBuilder sb = new StringBuilder();\r\n    \r\n            ProcessBuilder pb = new ProcessBuilder(command)\r\n                    .redirectErrorStream(true).directory(directory);\r\n    \r\n    \r\n            Process p = pb.start();\r\n    \r\n            InputStream is = p.getInputStream();\r\n            InputStream es = p.getErrorStream();\r\n            BufferedReader br = new BufferedReader(new InputStreamReader(is));\r\n            BufferedReader bre = new BufferedReader(new InputStreamReader(es));\r\n            String in;\r\n    \r\n            boolean timeOut = false;\r\n    \r\n    \r\n            if (!p.waitFor(timeout, unit)) {\r\n                //timeout - kill the process.\r\n                p.destroy(); // consider using destroyForcibly instead\r\n                timeOut = true;\r\n            }\r\n    \r\n            if (timeOut) {\r\n                //write time out msg\r\n                sb.append(&quot;RunCommand time out! after &quot; + timeout + &quot; &quot; + unit.toString() + &quot;\\n&quot;);\r\n                sb.append(&quot;     directory: &quot; + directory.getAbsolutePath() + &quot;\\n&quot;);\r\n                sb.append(&quot;     command: &quot; + command + &quot;\\n&quot;);\r\n            } else {\r\n                while ((in = br.readLine()) != null) {\r\n                    sb.append(in + &quot;\\n&quot;);\r\n                }\r\n    \r\n                while ((in = bre.readLine()) != null) {\r\n                    sb.append(in + &quot;\\n&quot;);\r\n                }\r\n            }\r\n            return sb.toString();\r\n        }\r\n\r\n","title":"ProcessBuilder with GIT command gives no result","body":"<p>I try using the Process Builder to execute a git command.\nBut it does not seem to work any command.</p>\n\n<p><code>git log</code> gives me the right result.</p>\n\n<p><code>git shortlog -s</code> but ends in a TimeOut!</p>\n\n<p>Both commands run in a terminal provide the correct result!\nI have tested on Win and Mac.</p>\n\n<p>Does anyone have any idea how I can debug this, or where my mistake is?</p>\n\n<p>Or maybe a different solution?\nThe aim is to read out the committer to a specific file in a git repository.</p>\n\n<p>The fact Git command is <code>git shortlog -s -p FeilePath</code> ?</p>\n\n<p>My Test Code:</p>\n\n<pre><code> @Test\n    public void testCommandListDir() {\n\n        File execDir = new File(\"./\");\n        String returnValue = \"\";\n\n        try {\n            returnValue = runCommand(execDir, 10, TimeUnit.SECONDS, \"git\", \"log\");\n        } catch (IOException e) {\n            e.printStackTrace();\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n        assertTrue(returnValue.contains(\"+ try and error for git shortlog\"));\n    }\n\n\n    @Test\n    public void testCommandGitShortlog() {\n\n        File execDir = new File(\"./\");\n        String returnValue = \"\";\n\n        try {\n            returnValue = runCommand(execDir, 10, TimeUnit.SECONDS, \"git\", \"shortlog\", \"-s\");\n        } catch (IOException e) {\n            e.printStackTrace();\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n        assertTrue(returnValue.equals(\"\"));\n    }\n\n    public static String runCommand(File directory, long timeout, TimeUnit unit, String... command) throws IOException, InterruptedException {\n\n        StringBuilder sb = new StringBuilder();\n\n        ProcessBuilder pb = new ProcessBuilder(command)\n                .redirectErrorStream(true).directory(directory);\n\n\n        Process p = pb.start();\n\n        InputStream is = p.getInputStream();\n        InputStream es = p.getErrorStream();\n        BufferedReader br = new BufferedReader(new InputStreamReader(is));\n        BufferedReader bre = new BufferedReader(new InputStreamReader(es));\n        String in;\n\n        boolean timeOut = false;\n\n\n        if (!p.waitFor(timeout, unit)) {\n            //timeout - kill the process.\n            p.destroy(); // consider using destroyForcibly instead\n            timeOut = true;\n        }\n\n        if (timeOut) {\n            //write time out msg\n            sb.append(\"RunCommand time out! after \" + timeout + \" \" + unit.toString() + \"\\n\");\n            sb.append(\"     directory: \" + directory.getAbsolutePath() + \"\\n\");\n            sb.append(\"     command: \" + command + \"\\n\");\n        } else {\n            while ((in = br.readLine()) != null) {\n                sb.append(in + \"\\n\");\n            }\n\n            while ((in = bre.readLine()) != null) {\n                sb.append(in + \"\\n\");\n            }\n        }\n        return sb.toString();\n    }\n</code></pre>\n"},{"tags":["java","intellij-idea","plugins","errorprone"],"answers":[{"tags":[],"owner":{"account_id":4103544,"reputation":41,"user_id":8412980,"display_name":"dhsrocha"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1615423750,"creation_date":1615423750,"answer_id":66574983,"question_id":66449565,"body_markdown":"I had the same problem using JDK 11 set in PATH and 14 Idea&#39;s project configurations. I just changed project&#39;s used version to 11 (or maybe it should be set to what Idea is able to find) .\r\n\r\nMy config is pretty default.\r\n\r\n    &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.8.1&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;showWarnings&gt;true&lt;/showWarnings&gt;\r\n          &lt;showDeprecation&gt;true&lt;/showDeprecation&gt;\r\n          &lt;compilerArgs&gt;\r\n            &lt;arg&gt;-XDcompilePolicy=simple&lt;/arg&gt;\r\n            &lt;arg&gt;-Xplugin:ErrorProne\r\n                 -XepDisableWarningsInGeneratedCode\r\n            &lt;/arg&gt;\r\n          &lt;/compilerArgs&gt;\r\n          &lt;annotationProcessorPaths&gt;\r\n            &lt;path&gt;\r\n              &lt;groupId&gt;com.google.errorprone&lt;/groupId&gt;\r\n              &lt;artifactId&gt;error_prone_core&lt;/artifactId&gt;\r\n              &lt;version&gt;2.4.0&lt;/version&gt;\r\n            &lt;/path&gt;\r\n          &lt;/annotationProcessorPaths&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;","title":"Java: plug-in not found: ErrorProne","body":"<p>I had the same problem using JDK 11 set in PATH and 14 Idea's project configurations. I just changed project's used version to 11 (or maybe it should be set to what Idea is able to find) .</p>\n<p>My config is pretty default.</p>\n<pre><code>&lt;plugin&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.8.1&lt;/version&gt;\n    &lt;configuration&gt;\n      &lt;showWarnings&gt;true&lt;/showWarnings&gt;\n      &lt;showDeprecation&gt;true&lt;/showDeprecation&gt;\n      &lt;compilerArgs&gt;\n        &lt;arg&gt;-XDcompilePolicy=simple&lt;/arg&gt;\n        &lt;arg&gt;-Xplugin:ErrorProne\n             -XepDisableWarningsInGeneratedCode\n        &lt;/arg&gt;\n      &lt;/compilerArgs&gt;\n      &lt;annotationProcessorPaths&gt;\n        &lt;path&gt;\n          &lt;groupId&gt;com.google.errorprone&lt;/groupId&gt;\n          &lt;artifactId&gt;error_prone_core&lt;/artifactId&gt;\n          &lt;version&gt;2.4.0&lt;/version&gt;\n        &lt;/path&gt;\n      &lt;/annotationProcessorPaths&gt;\n    &lt;/configuration&gt;\n  &lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14173637,"reputation":105,"user_id":10239573,"display_name":"Miri"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666080953,"creation_date":1666080953,"answer_id":74107796,"question_id":66449565,"body_markdown":"I had the very same version as [in the response by dhsrocha][1] and the only difference was in the version of the &quot;maven-compiler-plugin&quot;, mine was &quot;3.8.0&quot;. \r\n\r\nWhen changed to newer version, everything started to work.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/66574983/10239573","title":"Java: plug-in not found: ErrorProne","body":"<p>I had the very same version as <a href=\"https://stackoverflow.com/a/66574983/10239573\">in the response by dhsrocha</a> and the only difference was in the version of the &quot;maven-compiler-plugin&quot;, mine was &quot;3.8.0&quot;.</p>\n<p>When changed to newer version, everything started to work.</p>\n"},{"tags":[],"owner":{"account_id":26681400,"reputation":1,"user_id":20291294,"display_name":"Oviya Bk"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666266345,"creation_date":1666266345,"answer_id":74139333,"question_id":66449565,"body_markdown":"Intellij--&gt;File--&gt;Project Structure--&gt;Choose your correct JDK home path for SDK","title":"Java: plug-in not found: ErrorProne","body":"<p>Intellij--&gt;File--&gt;Project Structure--&gt;Choose your correct JDK home path for SDK</p>\n"},{"tags":[],"owner":{"account_id":5709771,"reputation":151,"user_id":4512194,"display_name":"Shamanth Ramesh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683802107,"creation_date":1683802107,"answer_id":76226799,"question_id":66449565,"body_markdown":"I had faced this issue when running the test in IntelliJ.\r\n\r\nI had maven version 3.8.6\r\n\r\nunder maven settings un-check the &quot;Use settings from .mvn/maven.config&quot; and this worked for me.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Jl6Xb.png","title":"Java: plug-in not found: ErrorProne","body":"<p>I had faced this issue when running the test in IntelliJ.</p>\n<p>I had maven version 3.8.6</p>\n<p>under maven settings un-check the &quot;Use settings from .mvn/maven.config&quot; and this worked for me.</p>\n<p><a href=\"https://i.stack.imgur.com/Jl6Xb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Jl6Xb.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":5037011,"reputation":223,"user_id":4045503,"display_name":"zhianABCD"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5477,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1683802107,"creation_date":1614735832,"question_id":66449565,"body_markdown":"I have a java project, and I have the following setups for this project.\r\n\r\nIDE: Intellij Ultimate 2020.03\r\nJDK: Oracle 11.0.1\r\nMaven: 3.6.3\r\n\r\nThen, under Compiler -&gt; Java Compiler -&gt; Override compiler parameters per-module: Compilation optinos, I have\r\n\r\n    -parameters -XDcompilePolicy=byfile &quot;-Xplugin:ErrorProne -Xep:ParameterName:OFF -Xep:FallThrough:OFF&quot;\r\n\r\n\r\nBut when I click on build, I always got this error - \r\n\r\njava: plug-in not found: ErrorProne\r\n\r\nWhat should I configure for this project?\r\n","title":"Java: plug-in not found: ErrorProne","body":"<p>I have a java project, and I have the following setups for this project.</p>\n<p>IDE: Intellij Ultimate 2020.03\nJDK: Oracle 11.0.1\nMaven: 3.6.3</p>\n<p>Then, under Compiler -&gt; Java Compiler -&gt; Override compiler parameters per-module: Compilation optinos, I have</p>\n<pre><code>-parameters -XDcompilePolicy=byfile &quot;-Xplugin:ErrorProne -Xep:ParameterName:OFF -Xep:FallThrough:OFF&quot;\n</code></pre>\n<p>But when I click on build, I always got this error -</p>\n<p>java: plug-in not found: ErrorProne</p>\n<p>What should I configure for this project?</p>\n"},{"tags":["java","xslt"],"comments":[{"owner":{"account_id":3616427,"reputation":114440,"user_id":3016153,"display_name":"michael.hor257k"},"score":0,"creation_date":1683797380,"post_id":76225408,"comment_id":134422752,"body_markdown":"`my:UUID4()` is a custom function that needs to be defined in your stylesheet. And you need a processor that supports XSLT 2.0 in order to use it. Or an XSLT 1.0 processor that supports the `func:function` extension element (and the other extension functions) - in case you are trying to implement this: https://stackoverflow.com/a/60074845/3016153. --- Please post a [mcve], not snippets of code taken out of context.","body":"<code>my:UUID4()</code> is a custom function that needs to be defined in your stylesheet. And you need a processor that supports XSLT 2.0 in order to use it. Or an XSLT 1.0 processor that supports the <code>func:function</code> extension element (and the other extension functions) - in case you are trying to implement this: <a href=\"https://stackoverflow.com/a/60074845/3016153\">stackoverflow.com/a/60074845/3016153</a>. --- Please post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, not snippets of code taken out of context."}],"answers":[{"tags":[],"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683801598,"creation_date":1683801598,"answer_id":76226736,"question_id":76225408,"body_markdown":"This looks like a Saxon error message, so I guess you are using Saxon as your XSLT processor. \r\n\r\nAre you trying to call an external Java function? Calling conventions to call external Java code from XSLT vary from one XSLT processor to another, so this is relevant to your question. There are many things you might be doing wrong to cause this error message (for example, the function might not actually exist) so you&#39;re going to have to give us more information before we can help you identify the cause.\r\n\r\nInformation about writing Java extension functions for Saxon can be found at https://www.saxonica.com/documentation12/index.html#!extensibility/extension-functions-J","title":"XTDE1425: Cannot find a matching 0-argument function named {www.example.com/my}UUID4() in built-in template rule","body":"<p>This looks like a Saxon error message, so I guess you are using Saxon as your XSLT processor.</p>\n<p>Are you trying to call an external Java function? Calling conventions to call external Java code from XSLT vary from one XSLT processor to another, so this is relevant to your question. There are many things you might be doing wrong to cause this error message (for example, the function might not actually exist) so you're going to have to give us more information before we can help you identify the cause.</p>\n<p>Information about writing Java extension functions for Saxon can be found at <a href=\"https://www.saxonica.com/documentation12/index.html#!extensibility/extension-functions-J\" rel=\"nofollow noreferrer\">https://www.saxonica.com/documentation12/index.html#!extensibility/extension-functions-J</a></p>\n"}],"owner":{"account_id":19162389,"reputation":1,"user_id":13997892,"display_name":"dipanshu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683801598,"creation_date":1683792544,"question_id":76225408,"body_markdown":"Find the uuid usig the xslt\r\n\r\n        &lt;xsl:for-each select=&quot;item&quot;&gt;\r\n            &lt;item id=&quot;{my:UUID4()}&quot;&gt;\r\n                &lt;xsl:value-of select=&quot;.&quot; /&gt;\r\n            &lt;/item&gt;\r\n        &lt;/xsl:for-each&gt;","title":"XTDE1425: Cannot find a matching 0-argument function named {www.example.com/my}UUID4() in built-in template rule","body":"<p>Find the uuid usig the xslt</p>\n<pre><code>    &lt;xsl:for-each select=&quot;item&quot;&gt;\n        &lt;item id=&quot;{my:UUID4()}&quot;&gt;\n            &lt;xsl:value-of select=&quot;.&quot; /&gt;\n        &lt;/item&gt;\n    &lt;/xsl:for-each&gt;\n</code></pre>\n"},{"tags":["java","spring","spring-boot","jpa"],"comments":[{"owner":{"account_id":3040588,"reputation":15226,"user_id":2577734,"accept_rate":91,"display_name":"Joe Taras"},"score":0,"creation_date":1683801246,"post_id":76226510,"comment_id":134423574,"body_markdown":"Have you set JDK 17 in Java Build Path of your project?","body":"Have you set JDK 17 in Java Build Path of your project?"},{"owner":{"account_id":8147185,"reputation":1777,"user_id":6135511,"accept_rate":100,"display_name":"danilonet"},"score":0,"creation_date":1683802848,"post_id":76226510,"comment_id":134423922,"body_markdown":"yes @JoeTaras i do","body":"yes @JoeTaras i do"}],"owner":{"account_id":8147185,"reputation":1777,"user_id":6135511,"accept_rate":100,"display_name":"danilonet"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683801195,"creation_date":1683800031,"question_id":76226510,"body_markdown":"I have a problem trying to generate JPA entities from existing database tabels.\r\nMy facet generate right classes but the import is wrong.\r\nin my generated classes i have :\r\n\r\n&gt; import javax.persistence.*;\r\n\r\ninstead of\r\n\r\n&gt; import jakarta.persistence.*;\r\n\r\n\r\ni&#39;m using eclipse 2023-03, and i just created my springboot starter project with these dependencies:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;3.0.6&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;it.danilocalzetta&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;ifapi&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;ifapi&lt;/name&gt;\r\n    \t&lt;description&gt;If api&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n                &lt;groupId&gt;jakarta.persistence&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jakarta.persistence-api&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nthen i added JPA facets to my project\r\n\r\nthen i generated entities from tables\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/uCUvY.png\r\n\r\nthe result is:\r\n\r\n    import java.io.Serializable;\r\n    import javax.persistence.*;\r\n    \r\n    @Entity\r\n    @Table(name=&quot;teams&quot;)\r\n    @NamedQuery(name=&quot;Team.findAll&quot;, query=&quot;SELECT t FROM Team t&quot;)\r\n    public class Team implements Serializable {\r\n\r\nthe expected result is:\r\n\r\n    import java.io.Serializable;\r\n    import jakarta.persistence.*;\r\n    \r\n    @Entity\r\n    @Table(name=&quot;teams&quot;)\r\n    @NamedQuery(name=&quot;Team.findAll&quot;, query=&quot;SELECT t FROM Team t&quot;)\r\n    public class Team implements Serializable {\r\n\r\nwhere can i configure the default persistence class for jpa facet?","title":"Eclipse JPA generate entities for existing database using facet, wrong import in auto generated classes","body":"<p>I have a problem trying to generate JPA entities from existing database tabels.\nMy facet generate right classes but the import is wrong.\nin my generated classes i have :</p>\n<blockquote>\n<p>import javax.persistence.*;</p>\n</blockquote>\n<p>instead of</p>\n<blockquote>\n<p>import jakarta.persistence.*;</p>\n</blockquote>\n<p>i'm using eclipse 2023-03, and i just created my springboot starter project with these dependencies:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.6&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;it.danilocalzetta&lt;/groupId&gt;\n    &lt;artifactId&gt;ifapi&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;ifapi&lt;/name&gt;\n    &lt;description&gt;If api&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.persistence-api&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>then i added JPA facets to my project</p>\n<p>then i generated entities from tables\n<a href=\"https://i.stack.imgur.com/uCUvY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uCUvY.png\" alt=\"enter image description here\" /></a></p>\n<p>the result is:</p>\n<pre><code>import java.io.Serializable;\nimport javax.persistence.*;\n\n@Entity\n@Table(name=&quot;teams&quot;)\n@NamedQuery(name=&quot;Team.findAll&quot;, query=&quot;SELECT t FROM Team t&quot;)\npublic class Team implements Serializable {\n</code></pre>\n<p>the expected result is:</p>\n<pre><code>import java.io.Serializable;\nimport jakarta.persistence.*;\n\n@Entity\n@Table(name=&quot;teams&quot;)\n@NamedQuery(name=&quot;Team.findAll&quot;, query=&quot;SELECT t FROM Team t&quot;)\npublic class Team implements Serializable {\n</code></pre>\n<p>where can i configure the default persistence class for jpa facet?</p>\n"},{"tags":["java","sorting"],"comments":[{"owner":{"account_id":21558895,"reputation":1,"user_id":15893714,"display_name":"EMİR HAMARAT"},"score":0,"creation_date":1683737532,"post_id":76220819,"comment_id":134413929,"body_markdown":"But why? I think both of them have n^2 complexity. Whats the difference in terms of efficiency?","body":"But why? I think both of them have n^2 complexity. Whats the difference in terms of efficiency?"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1683737533,"post_id":76220819,"comment_id":134413932,"body_markdown":"I said nothing about complexity or efficiency... by [Wikipedia](https://en.wikipedia.org/wiki/Bubble_sort) Bubble Sort works by &quot;comparing the current element with the one after it&quot; - second code snippet is not doing that (seems like it is the *I can&#39;t believe it can sort*  algorithm also mentioned on that Wikipedia page, more like insertion sort)","body":"I said nothing about complexity or efficiency... by <a href=\"https://en.wikipedia.org/wiki/Bubble_sort\" rel=\"nofollow noreferrer\">Wikipedia</a> Bubble Sort works by &quot;comparing the current element with the one after it&quot; - second code snippet is not doing that (seems like it is the <i>I can&#39;t believe it can sort</i>  algorithm also mentioned on that Wikipedia page, more like insertion sort)"},{"owner":{"account_id":17476274,"reputation":25137,"user_id":12671057,"display_name":"Kelly Bundy"},"score":0,"creation_date":1683738270,"post_id":76220819,"comment_id":134414117,"body_markdown":"@user16320675 It&#39;s none of those.","body":"@user16320675 It&#39;s none of those."},{"owner":{"account_id":17476274,"reputation":25137,"user_id":12671057,"display_name":"Kelly Bundy"},"score":0,"creation_date":1683739632,"post_id":76220819,"comment_id":134414422,"body_markdown":"@user16320675 I mean it&#39;s neither &quot;I can&#39;t believe it can sort&quot; nor something like insertion sort.","body":"@user16320675 I mean it&#39;s neither &quot;I can&#39;t believe it can sort&quot; nor something like insertion sort."},{"owner":{"account_id":17476274,"reputation":25137,"user_id":12671057,"display_name":"Kelly Bundy"},"score":0,"creation_date":1683739975,"post_id":76220819,"comment_id":134414507,"body_markdown":"@user16320675 What do you mean with an example? And not sure what you mean with &quot;being like&quot; vs &quot;being a&quot;.","body":"@user16320675 What do you mean with an example? And not sure what you mean with &quot;being like&quot; vs &quot;being a&quot;."},{"owner":{"account_id":17476274,"reputation":25137,"user_id":12671057,"display_name":"Kelly Bundy"},"score":0,"creation_date":1683742223,"post_id":76220819,"comment_id":134414965,"body_markdown":"@user16320675 It&#39;s in the paper (which Wikipedia referenced, so I thought you had seen it). Why do you think this one here is like insertion sort? It neither looks nor behaves like it at all.","body":"@user16320675 It&#39;s in the paper (which Wikipedia referenced, so I thought you had seen it). Why do you think this one here is like insertion sort? It neither looks nor behaves like it at all."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1683745784,"post_id":76220819,"comment_id":134415621,"body_markdown":"(1-) *I created different type of bubble sort* - if you created it what did YOU change and WHY?","body":"(1-) <i>I created different type of bubble sort</i> - if you created it what did YOU change and WHY?"}],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1683876578,"post_id":76226621,"comment_id":134436526,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76226621/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":28578269,"reputation":142,"user_id":21879587,"display_name":"tamtejszystan"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1683800778,"creation_date":1683800778,"answer_id":76226621,"question_id":76220819,"body_markdown":"Both implementations are using nested loops. In the first case, the outer loop iterates through the array and the inner loop iterates through the array from the beginning until the end minus the number of elements that have already been sorted. The result is that with each iteration of the outer loop, the largest element in the unsorted part of the array &quot;bubbles up&quot; to its correct position at the end of the array.\r\n\r\nIn your implementation it iterates through the array so that, instead of keeping track of the end of the unsorted part of the array, it simply compares each element with every other element that comes after it. This means that each iteration of the outer loop simply swaps the current element with the next smallest element in the array.\r\n\r\nFirst implementation requires fewer iterations because it stops iterating through the array as soon as it reaches the end of the unsorted part. Your implementation, on the other hand, always iterates through the entire array, even if the array is already sorted.\r\n\r\nIn terms of efficiency, the first implementation would be faster than your implementation (in case of larger arrays), however if you are working with small array, both of them would be fine. ","title":"Bubble Sort Algorithm Difference","body":"<p>Both implementations are using nested loops. In the first case, the outer loop iterates through the array and the inner loop iterates through the array from the beginning until the end minus the number of elements that have already been sorted. The result is that with each iteration of the outer loop, the largest element in the unsorted part of the array &quot;bubbles up&quot; to its correct position at the end of the array.</p>\n<p>In your implementation it iterates through the array so that, instead of keeping track of the end of the unsorted part of the array, it simply compares each element with every other element that comes after it. This means that each iteration of the outer loop simply swaps the current element with the next smallest element in the array.</p>\n<p>First implementation requires fewer iterations because it stops iterating through the array as soon as it reaches the end of the unsorted part. Your implementation, on the other hand, always iterates through the entire array, even if the array is already sorted.</p>\n<p>In terms of efficiency, the first implementation would be faster than your implementation (in case of larger arrays), however if you are working with small array, both of them would be fine.</p>\n"}],"owner":{"account_id":21558895,"reputation":1,"user_id":15893714,"display_name":"EMİR HAMARAT"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1683800778,"creation_date":1683736944,"question_id":76220819,"body_markdown":"What is the difference between these two code blocks first one is conventional bubble sort implementation whereas, I created different type of bubble sort my question is where is the difference and why?\r\n\r\n\r\n  \r\n```\r\npublic int[] sort_bubbleSort(int[] nums){\r\n  for (int i=0; i &lt; nums.length-1; i++){\r\n    for (int j=0; j &lt; nums.length-1-i; j++)\r\n      if (nums[j] &gt; nums[j+1]) {\r\n        int temp = nums[j];\r\n        nums[j] = nums[j+1];\r\n        nums[j+1] = temp;\r\n      }\r\n    }\r\n  return nums;\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n\r\n```\r\npublic int[] sort_bubbleSort(int[] nums){\r\n  for(int left = 0; left&lt;nums.length; left++) {\r\n    for(int right =left+1; right&lt;nums.length; right++) {\r\n      if(nums[left] &gt; nums[right]) {\r\n        int temp = nums[left];\r\n        nums[left] = nums[right];\r\n        nums[right] = temp;\r\n      }\r\n    }\r\n  }return nums;\r\n}\r\n```","title":"Bubble Sort Algorithm Difference","body":"<p>What is the difference between these two code blocks first one is conventional bubble sort implementation whereas, I created different type of bubble sort my question is where is the difference and why?</p>\n<pre><code>public int[] sort_bubbleSort(int[] nums){\n  for (int i=0; i &lt; nums.length-1; i++){\n    for (int j=0; j &lt; nums.length-1-i; j++)\n      if (nums[j] &gt; nums[j+1]) {\n        int temp = nums[j];\n        nums[j] = nums[j+1];\n        nums[j+1] = temp;\n      }\n    }\n  return nums;\n}\n</code></pre>\n<pre><code>public int[] sort_bubbleSort(int[] nums){\n  for(int left = 0; left&lt;nums.length; left++) {\n    for(int right =left+1; right&lt;nums.length; right++) {\n      if(nums[left] &gt; nums[right]) {\n        int temp = nums[left];\n        nums[left] = nums[right];\n        nums[right] = temp;\n      }\n    }\n  }return nums;\n}\n</code></pre>\n"},{"tags":["java","hibernate"],"comments":[{"owner":{"account_id":3449881,"reputation":3520,"user_id":2889760,"display_name":"Gavin King"},"score":0,"creation_date":1683792308,"post_id":76223714,"comment_id":134421594,"body_markdown":"To me this looks like something that shouldn&#39;t happen. Give me an hour to try out your code.","body":"To me this looks like something that shouldn&#39;t happen. Give me an hour to try out your code."},{"owner":{"account_id":3449881,"reputation":3520,"user_id":2889760,"display_name":"Gavin King"},"score":0,"creation_date":1683799692,"post_id":76223714,"comment_id":134423285,"body_markdown":"Well, I just ran your code and it run successfully with no exceptions thrown.","body":"Well, I just ran your code and it run successfully with no exceptions thrown."}],"answers":[{"comments":[{"owner":{"account_id":93969,"reputation":3232,"user_id":256828,"accept_rate":88,"display_name":"Staros"},"score":1,"creation_date":1683806698,"post_id":76226592,"comment_id":134424775,"body_markdown":"Thanks Gavin! I confirmed that setting the child object id via the constructor/setter fixes the issue.\n\nI think my confusion came from the fact that on the initial persist Hibernate seems to map the child&#39;s id from the parent object automatically (via the @MapsId annotation) but on subsequent persists I need to set it manually.\n\nThat said, your comment about Hibernate assuming it&#39;s a new object because the ID is null makes sense.","body":"Thanks Gavin! I confirmed that setting the child object id via the constructor/setter fixes the issue.  I think my confusion came from the fact that on the initial persist Hibernate seems to map the child&#39;s id from the parent object automatically (via the @MapsId annotation) but on subsequent persists I need to set it manually.  That said, your comment about Hibernate assuming it&#39;s a new object because the ID is null makes sense."}],"tags":[],"owner":{"account_id":3449881,"reputation":3520,"user_id":2889760,"display_name":"Gavin King"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1683800630,"creation_date":1683800630,"answer_id":76226592,"question_id":76223714,"body_markdown":"OK, I see. So here is the full code required to reproduce the error:\r\n\r\n```java\r\n@SessionFactory\r\n@DomainModel(annotatedClasses = {SOTest.BaseballGame.class, SOTest.BaseballWeather.class})\r\npublic class SOTest {\r\n\r\n\t@Test void test(SessionFactoryScope scope) {\r\n\t\tBaseballGame game = new BaseballGame();\r\n\t\tBaseballWeather weather = new BaseballWeather();\r\n\r\n\t\tgame.setGameId(12345L);\r\n\t\tgame.setWeather(weather);\r\n\r\n \t\t// Note that the id field was never set!\r\n\t\t//weather.id = 12345L;\r\n\r\n\t\tweather.setTemperature(70.0);\r\n\t\tweather.setGame(game);\r\n\r\n\t\tscope.inSession(session-&gt; {\r\n\t\t\tTransaction transaction = session.beginTransaction();\r\n\t\t\tsession.merge(game);\r\n\t\t\ttransaction.commit();\r\n\t\t});\r\n\t\tscope.inSession(session-&gt; {\r\n\t\t\tTransaction transaction = session.beginTransaction();\r\n\t\t\tsession.merge(game);\r\n\t\t\ttransaction.commit();\r\n\t\t});\r\n\t}\r\n\r\n\t@Entity\r\n\t@Table(name = &quot;baseball_game&quot;)\r\n\tstatic public class BaseballGame {\r\n\r\n\t\t@Id\r\n\t\tprivate Long gameId;\r\n\r\n\t\t@OneToOne(mappedBy = &quot;game&quot;, cascade = CascadeType.MERGE)\r\n\t\tprivate BaseballWeather weather;\r\n\r\n\t\tpublic void setGameId(Long gameId) {\r\n\t\t\tthis.gameId = gameId;\r\n\t\t}\r\n\r\n\t\tpublic void setWeather(BaseballWeather weather) {\r\n\t\t\tthis.weather = weather;\r\n\t\t}\r\n\t}\r\n\r\n\t@Entity\r\n\t@Table(name = &quot;baseball_weather&quot;)\r\n\tstatic public class BaseballWeather {\r\n\r\n\t\t@Id\r\n\t\tprivate Long id;\r\n\r\n\t\tprivate Double temperature;\r\n\r\n\t\t@OneToOne(fetch = FetchType.LAZY)\r\n\t\t@JoinColumn(name = &quot;game_id&quot;)\r\n\t\t@MapsId\r\n\t\tprivate BaseballGame game;\r\n\r\n\t\tpublic void setTemperature(Double temperature) {\r\n\t\t\tthis.temperature = temperature;\r\n\t\t}\r\n\r\n\t\tpublic void setGame(BaseballGame game) {\r\n\t\t\tthis.game = game;\r\n\t\t}\r\n\t}\r\n\r\n}\r\n```\r\n\r\nSo the issue here resulted from the commented line added by me. Hibernate inferred that the detached `BaseballWeather` was a new/transient object (not existing in the database) because it had a null `@Id` property.\r\n\r\nThis is a situation that I actually didn&#39;t realize can happen. It only happens when you have these one-to-one associations with `@MapsId`.\r\n\r\nAnyway I will look into this further to see if we can report a better error here, but to be clear, this was actually your fault for forgetting to set the `id` field.","title":"Hibernate error (EntityExistsException) when persisting entity with children multiple times","body":"<p>OK, I see. So here is the full code required to reproduce the error:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SessionFactory\n@DomainModel(annotatedClasses = {SOTest.BaseballGame.class, SOTest.BaseballWeather.class})\npublic class SOTest {\n\n    @Test void test(SessionFactoryScope scope) {\n        BaseballGame game = new BaseballGame();\n        BaseballWeather weather = new BaseballWeather();\n\n        game.setGameId(12345L);\n        game.setWeather(weather);\n\n        // Note that the id field was never set!\n        //weather.id = 12345L;\n\n        weather.setTemperature(70.0);\n        weather.setGame(game);\n\n        scope.inSession(session-&gt; {\n            Transaction transaction = session.beginTransaction();\n            session.merge(game);\n            transaction.commit();\n        });\n        scope.inSession(session-&gt; {\n            Transaction transaction = session.beginTransaction();\n            session.merge(game);\n            transaction.commit();\n        });\n    }\n\n    @Entity\n    @Table(name = &quot;baseball_game&quot;)\n    static public class BaseballGame {\n\n        @Id\n        private Long gameId;\n\n        @OneToOne(mappedBy = &quot;game&quot;, cascade = CascadeType.MERGE)\n        private BaseballWeather weather;\n\n        public void setGameId(Long gameId) {\n            this.gameId = gameId;\n        }\n\n        public void setWeather(BaseballWeather weather) {\n            this.weather = weather;\n        }\n    }\n\n    @Entity\n    @Table(name = &quot;baseball_weather&quot;)\n    static public class BaseballWeather {\n\n        @Id\n        private Long id;\n\n        private Double temperature;\n\n        @OneToOne(fetch = FetchType.LAZY)\n        @JoinColumn(name = &quot;game_id&quot;)\n        @MapsId\n        private BaseballGame game;\n\n        public void setTemperature(Double temperature) {\n            this.temperature = temperature;\n        }\n\n        public void setGame(BaseballGame game) {\n            this.game = game;\n        }\n    }\n\n}\n</code></pre>\n<p>So the issue here resulted from the commented line added by me. Hibernate inferred that the detached <code>BaseballWeather</code> was a new/transient object (not existing in the database) because it had a null <code>@Id</code> property.</p>\n<p>This is a situation that I actually didn't realize can happen. It only happens when you have these one-to-one associations with <code>@MapsId</code>.</p>\n<p>Anyway I will look into this further to see if we can report a better error here, but to be clear, this was actually your fault for forgetting to set the <code>id</code> field.</p>\n"}],"owner":{"account_id":93969,"reputation":3232,"user_id":256828,"accept_rate":88,"display_name":"Staros"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76226592,"answer_count":1,"score":1,"last_activity_date":1683800630,"creation_date":1683771476,"question_id":76223714,"body_markdown":"I am currently writing a fairly &quot;dumb&quot; ETL process. I call it dumb because the process runs nightly, digest all of the data (even if it hasn&#39;t change), and persist it. My hope is to keep it simple.\r\n\r\nI&#39;ve been using Hibernate v6.1.7 to define my entities and persist them. Since the entities may already exist in my database, I&#39;m using [merge][1] to persist the entity.\r\n\r\n    public static void main(String[] args){\r\n        BaseballGame game = new BaseballGame();\r\n        BaseballWeather weather = new BaseballWeather();\r\n\r\n        game.setGameId(12345L);\r\n        game.setWeather(weather);\r\n\r\n        weather.setTemperature(70.0);\r\n        weather.setGame(game);\r\n\r\n        Session session = Hibernate.getSessionFactory().openSession();\r\n        Transaction transaction = session.beginTransaction();\r\n        session.merge(game);\r\n        transaction.commit();\r\n        session.close();\r\n    }\r\n\r\nThis works fine for simple entities that don&#39;t have any complex relationship and for entities that have a ManyToOne relationship.\r\n\r\nI&#39;m running into problems when persisting an entity that has a OneToOne relationship where the child owns the key. Here are some trivial examples of entities that exhibit this problem.\r\n\r\n    @Entity\r\n\t@Table(name = &quot;baseball_game&quot;)\r\n\tpublic class BaseballGame {\r\n\r\n\t\t@Id\r\n\t\tprivate Long gameId;\r\n\r\n\t\t@OneToOne(mappedBy = &quot;game&quot;, cascade = CascadeType.MERGE)\r\n\t\tprivate BaseballWeather weather;\r\n\r\n\t\tpublic void setGameId(Long gameId) {\r\n\t\t\tthis.gameId = gameId;\r\n\t\t}\r\n\r\n\t\tpublic void setWeather(BaseballWeather weather) {\r\n\t\t\tthis.weather = weather;\r\n\t\t}\r\n\t}\r\n\r\n\t@Entity\r\n\t@Table(name = &quot;baseball_weather&quot;)\r\n\tpublic class BaseballWeather {\r\n\r\n\t\t@Id\r\n\t\tprivate Long id;\r\n\r\n\t\tprivate Double temperature;\r\n\r\n\t\t@OneToOne(fetch = FetchType.LAZY)\r\n\t\t@JoinColumn(name = &quot;game_id&quot;)\r\n\t\t@MapsId\r\n\t\tprivate BaseballGame game;\r\n\r\n\t\tpublic void setTemperature(Double temperature) {\r\n\t\t\tthis.temperature = temperature;\r\n\t\t}\r\n\r\n\t\tpublic void setGame(BaseballGame game) {\r\n\t\t\tthis.game = game;\r\n\t\t}\r\n\t}\r\n\r\nIf I run the main code from above, it will succeed on the first run. But once the baseball_weather exists, running merge produces the following error.\r\n\r\n&gt; Exception in thread &quot;main&quot; jakarta.persistence.EntityExistsException: A different object with the same identifier value was already associated with the session : [x.y.z.BaseballWeather#12345]\r\n\r\nThe error message is correct, I&#39;m manually creating a version of the BaseballWeather class that contains the same ID as an object already stored in the session. But I&#39;m not seeing this behavior with the parent class or with other entities that don&#39;t have this OneToOne relationship. In those cases objects I create manually will still be merged without error.\r\n\r\nI was under the impression that specifying the cascade type to &quot;Merge&quot; would, well, cascade the merge operation. I&#39;ve tried substituting in the other cascade types (Persist, All, etc..) and none have been able to persist the object if it doesn&#39;t exist or update if it does.\r\n\r\nIs anyone aware of how I can update my entities to support both persisting and updating via the merge method without running into errors?\r\n\r\n  [1]: https://javadoc.io/static/org.hibernate.orm/hibernate-core/6.1.7.Final/org/hibernate/Session.html#merge(T)","title":"Hibernate error (EntityExistsException) when persisting entity with children multiple times","body":"<p>I am currently writing a fairly &quot;dumb&quot; ETL process. I call it dumb because the process runs nightly, digest all of the data (even if it hasn't change), and persist it. My hope is to keep it simple.</p>\n<p>I've been using Hibernate v6.1.7 to define my entities and persist them. Since the entities may already exist in my database, I'm using <a href=\"https://javadoc.io/static/org.hibernate.orm/hibernate-core/6.1.7.Final/org/hibernate/Session.html#merge(T)\" rel=\"nofollow noreferrer\">merge</a> to persist the entity.</p>\n<pre><code>public static void main(String[] args){\n    BaseballGame game = new BaseballGame();\n    BaseballWeather weather = new BaseballWeather();\n\n    game.setGameId(12345L);\n    game.setWeather(weather);\n\n    weather.setTemperature(70.0);\n    weather.setGame(game);\n\n    Session session = Hibernate.getSessionFactory().openSession();\n    Transaction transaction = session.beginTransaction();\n    session.merge(game);\n    transaction.commit();\n    session.close();\n}\n</code></pre>\n<p>This works fine for simple entities that don't have any complex relationship and for entities that have a ManyToOne relationship.</p>\n<p>I'm running into problems when persisting an entity that has a OneToOne relationship where the child owns the key. Here are some trivial examples of entities that exhibit this problem.</p>\n<pre><code>@Entity\n@Table(name = &quot;baseball_game&quot;)\npublic class BaseballGame {\n\n    @Id\n    private Long gameId;\n\n    @OneToOne(mappedBy = &quot;game&quot;, cascade = CascadeType.MERGE)\n    private BaseballWeather weather;\n\n    public void setGameId(Long gameId) {\n        this.gameId = gameId;\n    }\n\n    public void setWeather(BaseballWeather weather) {\n        this.weather = weather;\n    }\n}\n\n@Entity\n@Table(name = &quot;baseball_weather&quot;)\npublic class BaseballWeather {\n\n    @Id\n    private Long id;\n\n    private Double temperature;\n\n    @OneToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;game_id&quot;)\n    @MapsId\n    private BaseballGame game;\n\n    public void setTemperature(Double temperature) {\n        this.temperature = temperature;\n    }\n\n    public void setGame(BaseballGame game) {\n        this.game = game;\n    }\n}\n</code></pre>\n<p>If I run the main code from above, it will succeed on the first run. But once the baseball_weather exists, running merge produces the following error.</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; jakarta.persistence.EntityExistsException: A different object with the same identifier value was already associated with the session : [x.y.z.BaseballWeather#12345]</p>\n</blockquote>\n<p>The error message is correct, I'm manually creating a version of the BaseballWeather class that contains the same ID as an object already stored in the session. But I'm not seeing this behavior with the parent class or with other entities that don't have this OneToOne relationship. In those cases objects I create manually will still be merged without error.</p>\n<p>I was under the impression that specifying the cascade type to &quot;Merge&quot; would, well, cascade the merge operation. I've tried substituting in the other cascade types (Persist, All, etc..) and none have been able to persist the object if it doesn't exist or update if it does.</p>\n<p>Is anyone aware of how I can update my entities to support both persisting and updating via the merge method without running into errors?</p>\n"},{"tags":["java","android","xml","kotlin","material-ui"],"answers":[{"comments":[{"owner":{"account_id":7653113,"reputation":1120,"user_id":5801049,"accept_rate":100,"display_name":"genaray"},"score":0,"creation_date":1683801739,"post_id":76226585,"comment_id":134423684,"body_markdown":"The top rounded corners, those are which i want to stay round once expanded. So in this case... that should be possible right? But how?","body":"The top rounded corners, those are which i want to stay round once expanded. So in this case... that should be possible right? But how?"},{"owner":{"account_id":20191003,"reputation":331,"user_id":14809236,"display_name":"Camp Nerd"},"score":0,"creation_date":1683801776,"post_id":76226585,"comment_id":134423699,"body_markdown":"Override the layoutappearence","body":"Override the layoutappearence"},{"owner":{"account_id":20191003,"reputation":331,"user_id":14809236,"display_name":"Camp Nerd"},"score":0,"creation_date":1683801819,"post_id":76226585,"comment_id":134423709,"body_markdown":"Create the custom rounded corners xml.. then override Appearance layout and use the custom xml instead","body":"Create the custom rounded corners xml.. then override Appearance layout and use the custom xml instead"},{"owner":{"account_id":20191003,"reputation":331,"user_id":14809236,"display_name":"Camp Nerd"},"score":0,"creation_date":1683801877,"post_id":76226585,"comment_id":134423717,"body_markdown":"I don&#39;t have the exact code with me because I am in waiting room while wife has surgery so I won&#39;t be able to get you the code exactly what I do until tomorrow","body":"I don&#39;t have the exact code with me because I am in waiting room while wife has surgery so I won&#39;t be able to get you the code exactly what I do until tomorrow"},{"owner":{"account_id":20191003,"reputation":331,"user_id":14809236,"display_name":"Camp Nerd"},"score":0,"creation_date":1683802088,"post_id":76226585,"comment_id":134423762,"body_markdown":"fun getTheme() = R.style.CustomBottomSheetDialogTheme  .....is one way you can do it","body":"fun getTheme() = R.style.CustomBottomSheetDialogTheme  .....is one way you can do it"},{"owner":{"account_id":20191003,"reputation":331,"user_id":14809236,"display_name":"Camp Nerd"},"score":0,"creation_date":1683802215,"post_id":76226585,"comment_id":134423793,"body_markdown":"This worked for me when using BottomSheetDialogFragment:\n\npublic class CustomDialogFragment extends BottomSheetDialogFragment {\n\n  @Override\n  public void onCreate(@Nullable Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setStyle(BottomSheetDialogFragment.STYLE_NORMAL, R.style.CustomBottomSheetDialogTheme);\n  }\n  \n  ...\n}","body":"This worked for me when using BottomSheetDialogFragment:  public class CustomDialogFragment extends BottomSheetDialogFragment {    @Override   public void onCreate(@Nullable Bundle savedInstanceState) {     super.onCreate(savedInstanceState);     setStyle(BottomSheetDialogFragment.STYLE_NORMAL, R.style.CustomBottomSheetDialogTheme);   }      ... }"},{"owner":{"account_id":20191003,"reputation":331,"user_id":14809236,"display_name":"Camp Nerd"},"score":0,"creation_date":1683802231,"post_id":76226585,"comment_id":134423799,"body_markdown":"Hope that gives you some ideas","body":"Hope that gives you some ideas"}],"tags":[],"owner":{"account_id":20191003,"reputation":331,"user_id":14809236,"display_name":"Camp Nerd"},"comment_count":7,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683800592,"creation_date":1683800592,"answer_id":76226585,"question_id":76223296,"body_markdown":"The bottom sheet can not have bottom corners. This was a big debate on the developers side. The rounded corners indicated that there was scrollable text. So they only allow for the top to be rounded.\r\n\r\nSee this: https://github.com/material-components/material-components-android/pull/437#issuecomment-536668983\r\n\r\n\r\nSo we are forever stuck with only top round corners unless they decide to let us override the method.\r\n\r\n","title":"Round corners for BottomSheet expanded?","body":"<p>The bottom sheet can not have bottom corners. This was a big debate on the developers side. The rounded corners indicated that there was scrollable text. So they only allow for the top to be rounded.</p>\n<p>See this: <a href=\"https://github.com/material-components/material-components-android/pull/437#issuecomment-536668983\" rel=\"nofollow noreferrer\">https://github.com/material-components/material-components-android/pull/437#issuecomment-536668983</a></p>\n<p>So we are forever stuck with only top round corners unless they decide to let us override the method.</p>\n"}],"owner":{"account_id":7653113,"reputation":1120,"user_id":5801049,"accept_rate":100,"display_name":"genaray"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683800592,"creation_date":1683763280,"question_id":76223296,"body_markdown":"Out of curiosity, what needs to be done that the damn bottom sheet actually keeps its rounded corners in expanded state?\r\n\r\nIm struggling the whole day with that issue, i have a bottomsheet defined in XML, material design 1.9 and it still flattens them. Are there any files that require a replacement?\r\n\r\nDepends...\r\n```\r\ndependencies {\r\n\r\n    implementation project(&#39;:unityLibrary&#39;)\r\n    implementation fileTree(dir: project(&#39;:unityLibrary&#39;).getProjectDir().toString() + (&#39;\\\\libs&#39;), include: [&#39;*.jar&#39;])\r\n\r\n    implementation &#39;androidx.core:core-ktx:1.10.0&#39;\r\n    implementation &#39;androidx.appcompat:appcompat:1.6.1&#39;\r\n    implementation &#39;com.google.android.material:material:1.9.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\n    implementation &#39;com.squareup.picasso:picasso:2.8&#39;\r\n    implementation &#39;com.google.code.gson:gson:2.10.1&#39;\r\n    implementation(&quot;com.android.volley:volley:1.2.1&quot;)\r\n    implementation(&quot;org.jetbrains.kotlinx:kotlinx-serialization-json:1.5.0&quot;)    // Kotlin\r\n\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.5&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.5.1&#39;\r\n}\r\n```\r\n\r\n```XML\r\n\r\n            &lt;androidx.coordinatorlayout.widget.CoordinatorLayout\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;0dp&quot;\r\n                android:layout_weight=&quot;0.6&quot;&gt;\r\n\r\n                &lt;FrameLayout\r\n                    android:id=&quot;@+id/standard_bottom_sheet&quot;\r\n                    style=&quot;@style/Widget.Material3.BetterBottomSheet&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;match_parent&quot;\r\n                    app:behavior_hideable=&quot;false&quot;\r\n                    app:behavior_peekHeight=&quot;32dp&quot;\r\n                    app:layout_behavior=&quot;com.google.android.material.bottomsheet.BottomSheetBehavior&quot;&gt;\r\n...\r\n```\r\n\r\n```    \r\n&lt;style name=&quot;Widget.Material3.BetterBottomSheet&quot; parent=&quot;Widget.Material3.BottomSheet&quot;&gt;\r\n        &lt;item name=&quot;android:elevation&quot;&gt;@dimen/m3_bottom_sheet_elevation&lt;/item&gt;\r\n        &lt;item name=&quot;marginLeftSystemWindowInsets&quot;&gt;true&lt;/item&gt;\r\n        &lt;item name=&quot;marginRightSystemWindowInsets&quot;&gt;true&lt;/item&gt;\r\n        &lt;item name=&quot;paddingBottomSystemWindowInsets&quot;&gt;true&lt;/item&gt;\r\n        &lt;item name=&quot;paddingTopSystemWindowInsets&quot;&gt;true&lt;/item&gt;\r\n        &lt;item name=&quot;paddingLeftSystemWindowInsets&quot;&gt;false&lt;/item&gt;\r\n        &lt;item name=&quot;paddingRightSystemWindowInsets&quot;&gt;false&lt;/item&gt;\r\n        &lt;item name=&quot;shapeAppearance&quot;&gt;@macro/m3_comp_sheet_bottom_docked_container_shape&lt;/item&gt;\r\n        &lt;item name=&quot;shapeAppearanceOverlay&quot;&gt;@style/ShapeAppearanceOverlay.Material3.Corner.Top&lt;/item&gt;\r\n        &lt;item name=&quot;shouldRemoveExpandedCorners&quot;&gt;false&lt;/item&gt;  // True also does not work\r\n        &lt;item name=&quot;backgroundTint&quot;&gt;@macro/m3_comp_sheet_bottom_docked_container_color&lt;/item&gt;\r\n    &lt;/style&gt;\r\n```\r\n\r\nWhat am i doing wrong here? Is there a way to make a BottomSheet keep its round corners once expanded?","title":"Round corners for BottomSheet expanded?","body":"<p>Out of curiosity, what needs to be done that the damn bottom sheet actually keeps its rounded corners in expanded state?</p>\n<p>Im struggling the whole day with that issue, i have a bottomsheet defined in XML, material design 1.9 and it still flattens them. Are there any files that require a replacement?</p>\n<p>Depends...</p>\n<pre><code>dependencies {\n\n    implementation project(':unityLibrary')\n    implementation fileTree(dir: project(':unityLibrary').getProjectDir().toString() + ('\\\\libs'), include: ['*.jar'])\n\n    implementation 'androidx.core:core-ktx:1.10.0'\n    implementation 'androidx.appcompat:appcompat:1.6.1'\n    implementation 'com.google.android.material:material:1.9.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.4'\n    implementation 'com.squareup.picasso:picasso:2.8'\n    implementation 'com.google.code.gson:gson:2.10.1'\n    implementation(&quot;com.android.volley:volley:1.2.1&quot;)\n    implementation(&quot;org.jetbrains.kotlinx:kotlinx-serialization-json:1.5.0&quot;)    // Kotlin\n\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.5'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.5.1'\n}\n</code></pre>\n<pre><code>\n            &lt;androidx.coordinatorlayout.widget.CoordinatorLayout\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;0dp&quot;\n                android:layout_weight=&quot;0.6&quot;&gt;\n\n                &lt;FrameLayout\n                    android:id=&quot;@+id/standard_bottom_sheet&quot;\n                    style=&quot;@style/Widget.Material3.BetterBottomSheet&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;match_parent&quot;\n                    app:behavior_hideable=&quot;false&quot;\n                    app:behavior_peekHeight=&quot;32dp&quot;\n                    app:layout_behavior=&quot;com.google.android.material.bottomsheet.BottomSheetBehavior&quot;&gt;\n...\n</code></pre>\n<pre><code>&lt;style name=&quot;Widget.Material3.BetterBottomSheet&quot; parent=&quot;Widget.Material3.BottomSheet&quot;&gt;\n        &lt;item name=&quot;android:elevation&quot;&gt;@dimen/m3_bottom_sheet_elevation&lt;/item&gt;\n        &lt;item name=&quot;marginLeftSystemWindowInsets&quot;&gt;true&lt;/item&gt;\n        &lt;item name=&quot;marginRightSystemWindowInsets&quot;&gt;true&lt;/item&gt;\n        &lt;item name=&quot;paddingBottomSystemWindowInsets&quot;&gt;true&lt;/item&gt;\n        &lt;item name=&quot;paddingTopSystemWindowInsets&quot;&gt;true&lt;/item&gt;\n        &lt;item name=&quot;paddingLeftSystemWindowInsets&quot;&gt;false&lt;/item&gt;\n        &lt;item name=&quot;paddingRightSystemWindowInsets&quot;&gt;false&lt;/item&gt;\n        &lt;item name=&quot;shapeAppearance&quot;&gt;@macro/m3_comp_sheet_bottom_docked_container_shape&lt;/item&gt;\n        &lt;item name=&quot;shapeAppearanceOverlay&quot;&gt;@style/ShapeAppearanceOverlay.Material3.Corner.Top&lt;/item&gt;\n        &lt;item name=&quot;shouldRemoveExpandedCorners&quot;&gt;false&lt;/item&gt;  // True also does not work\n        &lt;item name=&quot;backgroundTint&quot;&gt;@macro/m3_comp_sheet_bottom_docked_container_color&lt;/item&gt;\n    &lt;/style&gt;\n</code></pre>\n<p>What am i doing wrong here? Is there a way to make a BottomSheet keep its round corners once expanded?</p>\n"},{"tags":["java","jvm","hashcode"],"comments":[{"owner":{"display_name":"user6073886"},"score":5,"creation_date":1683726637,"post_id":76219209,"comment_id":134411023,"body_markdown":"You might be confusing hashcode and identity-hashcode. Only the identity hashcode is saved in the objects header and it is different to the hashcode that might be generated and returned by calling the hashcode() method.","body":"You might be confusing hashcode and identity-hashcode. Only the identity hashcode is saved in the objects header and it is different to the hashcode that might be generated and returned by calling the hashcode() method."},{"owner":{"account_id":25357233,"reputation":41,"user_id":19173162,"display_name":"SadMan"},"score":0,"creation_date":1683726803,"post_id":76219209,"comment_id":134411057,"body_markdown":"SO how is a 32-bit identity-hashcode stored in a 25-bit mark word in Java without data loss? Or it will lead to data loss?","body":"SO how is a 32-bit identity-hashcode stored in a 25-bit mark word in Java without data loss? Or it will lead to data loss?"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1683729816,"post_id":76219209,"comment_id":134411929,"body_markdown":"The 32 bit hash code is *not* stored into that 25 bit field (and yes, it would lead to data loss if you had tried, unconditionally).","body":"The 32 bit hash code is <i>not</i> stored into that 25 bit field (and yes, it would lead to data loss if you had tried, unconditionally)."}],"answers":[{"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":4,"creation_date":1683730549,"post_id":76219627,"comment_id":134412140,"body_markdown":"There are plans to reduce the size of identity hashcode on 64-bit JVMs to 25 bits as well, see [JEP 450: Compact Object Headers (Experimental)](https://openjdk.org/jeps/450)","body":"There are plans to reduce the size of identity hashcode on 64-bit JVMs to 25 bits as well, see <a href=\"https://openjdk.org/jeps/450\" rel=\"nofollow noreferrer\">JEP 450: Compact Object Headers (Experimental)</a>"},{"owner":{"account_id":25357233,"reputation":41,"user_id":19173162,"display_name":"SadMan"},"score":0,"creation_date":1692955048,"post_id":76219627,"comment_id":135697984,"body_markdown":"really helpful approach to know the mechanism!","body":"really helpful approach to know the mechanism!"}],"tags":[],"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1683799357,"creation_date":1683728794,"answer_id":76219627,"question_id":76219209,"body_markdown":"First of all and most importantly: **all of this is very much an implementation detail** and not defined by the specification. I&#39;m specifically discussing recent OpenJDK builds (I&#39;m testing JDK 17, but this behaviour seems to exist for a while), but nothing says that other JDKs or even future versions of OpenJDK could change any of this.\r\n\r\nNext it&#39;s important to distinguish an objects *identity hash code* from its *hash code*.\r\n\r\n- the *identity hash code* is a value decided by the JVM that&#39;s constant over the lifetime of an object and can not be influenced by Java code (i.e. overriding `hashCode()` has no effect on this). This value can be gotten by [calling `System.identityHashCode(obj)`][1].\r\n\r\n- the *hash code* on the other hand is what Java programmers mostly interact with: the return value of `hashCode()` when called on an object. While this is an important value whenever anything is stored in a `HashMap` or `HashSet` (or similar structures), the JVM itself does not particularly care about it. And even if it did, it couldn&#39;t store it in an object header, as `hashCode()` could conceivably return a different value every time it&#39;s called.\r\n\r\nThese two definitions interact in one important way: The [`hashCode()` method of `java.lang.Object`][2] (and thus also of any other object where that method isn&#39;t overridden) will return the identity hash code. So one could say that the identity hash code is the default value for the hash code, if nothing else is defined.\r\n\r\nAfter looking at [the relevant code](https://github.com/openjdk/jdk/blob/master/src/hotspot/share/oops/markWord.hpp) it does indeed seem like there&#39;s at most 25 bits of space to store the identity hash code on 32bit platforms.\r\n\r\nBut `hashCode` is defined to be 32bits wide, so how can that be?\r\n\r\nSimple: the *identity hash code* on those platforms simply never *uses* any more bits than 25, so all the bits that are not stored are known/assumed to be zero.\r\n\r\nWhile I didn&#39;t find the specific place where that is decided (I also didn&#39;t look too closely), one can easily verify this with code like this:\r\n\r\n```\r\npublic class MyClass {\r\n    public static void main(String args[]) {\r\n      int minLeadingZeroes = 32;\r\n      for (int i = 0; i &lt; 1_000_000; i++) {\r\n          int hash = System.identityHashCode(new Object());\r\n          minLeadingZeroes = Math.min(minLeadingZeroes, Integer.numberOfLeadingZeros(hash));\r\n      }\r\n\r\n      System.out.println(&quot;Smallest number of leading zeroes in identity hash codes of 1000000 objects = &quot; + minLeadingZeroes);\r\n    }\r\n}\r\n```\r\n\r\nWhen run with a 64bit JVM this prints \r\n\r\n```none\r\nSmallest number of leading zeroes in identity hash codes of 1000000 objects = 1\r\n```\r\n\r\nWhereas on a 32bit JVM it prints\r\n\r\n```none\r\nSmallest number of leading zeroes in identity hash codes of 1000000 objects = 7\r\n```\r\n\r\nGranted, this is not absolute proof, but it would be extremely unlikely that those values are a coincidence when testing a million objects.\r\n\r\nAlso note that even in a 64bit OpenJDK build the identity hash code uses at most 31bits (as noted also in the comments of the implementation linked to above), despite there being plenty of spare room (many bits are unused in this case).\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/System.html#identityHashCode(java.lang.Object)\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#hashCode()","title":"How is a 32-bit hashCode stored in a 25-bit mark word in Java without data loss?","body":"<p>First of all and most importantly: <strong>all of this is very much an implementation detail</strong> and not defined by the specification. I'm specifically discussing recent OpenJDK builds (I'm testing JDK 17, but this behaviour seems to exist for a while), but nothing says that other JDKs or even future versions of OpenJDK could change any of this.</p>\n<p>Next it's important to distinguish an objects <em>identity hash code</em> from its <em>hash code</em>.</p>\n<ul>\n<li><p>the <em>identity hash code</em> is a value decided by the JVM that's constant over the lifetime of an object and can not be influenced by Java code (i.e. overriding <code>hashCode()</code> has no effect on this). This value can be gotten by <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/System.html#identityHashCode(java.lang.Object)\" rel=\"nofollow noreferrer\">calling <code>System.identityHashCode(obj)</code></a>.</p>\n</li>\n<li><p>the <em>hash code</em> on the other hand is what Java programmers mostly interact with: the return value of <code>hashCode()</code> when called on an object. While this is an important value whenever anything is stored in a <code>HashMap</code> or <code>HashSet</code> (or similar structures), the JVM itself does not particularly care about it. And even if it did, it couldn't store it in an object header, as <code>hashCode()</code> could conceivably return a different value every time it's called.</p>\n</li>\n</ul>\n<p>These two definitions interact in one important way: The <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#hashCode()\" rel=\"nofollow noreferrer\"><code>hashCode()</code> method of <code>java.lang.Object</code></a> (and thus also of any other object where that method isn't overridden) will return the identity hash code. So one could say that the identity hash code is the default value for the hash code, if nothing else is defined.</p>\n<p>After looking at <a href=\"https://github.com/openjdk/jdk/blob/master/src/hotspot/share/oops/markWord.hpp\" rel=\"nofollow noreferrer\">the relevant code</a> it does indeed seem like there's at most 25 bits of space to store the identity hash code on 32bit platforms.</p>\n<p>But <code>hashCode</code> is defined to be 32bits wide, so how can that be?</p>\n<p>Simple: the <em>identity hash code</em> on those platforms simply never <em>uses</em> any more bits than 25, so all the bits that are not stored are known/assumed to be zero.</p>\n<p>While I didn't find the specific place where that is decided (I also didn't look too closely), one can easily verify this with code like this:</p>\n<pre><code>public class MyClass {\n    public static void main(String args[]) {\n      int minLeadingZeroes = 32;\n      for (int i = 0; i &lt; 1_000_000; i++) {\n          int hash = System.identityHashCode(new Object());\n          minLeadingZeroes = Math.min(minLeadingZeroes, Integer.numberOfLeadingZeros(hash));\n      }\n\n      System.out.println(&quot;Smallest number of leading zeroes in identity hash codes of 1000000 objects = &quot; + minLeadingZeroes);\n    }\n}\n</code></pre>\n<p>When run with a 64bit JVM this prints</p>\n<pre class=\"lang-none prettyprint-override\"><code>Smallest number of leading zeroes in identity hash codes of 1000000 objects = 1\n</code></pre>\n<p>Whereas on a 32bit JVM it prints</p>\n<pre class=\"lang-none prettyprint-override\"><code>Smallest number of leading zeroes in identity hash codes of 1000000 objects = 7\n</code></pre>\n<p>Granted, this is not absolute proof, but it would be extremely unlikely that those values are a coincidence when testing a million objects.</p>\n<p>Also note that even in a 64bit OpenJDK build the identity hash code uses at most 31bits (as noted also in the comments of the implementation linked to above), despite there being plenty of spare room (many bits are unused in this case).</p>\n"}],"owner":{"account_id":25357233,"reputation":41,"user_id":19173162,"display_name":"SadMan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1683799357,"creation_date":1683726412,"question_id":76219209,"body_markdown":"I&#39;ve been looking into the internals of Java objects and am puzzled about how hashCode values are managed. As I understand it, the hashCode method in Java returns a 32-bit integer. However, this hashCode is stored in the object&#39;s header, specifically in the 25-bit mark word.\r\n\r\nThis raises a couple of questions for me:\r\n\r\nHow is it possible to store a 32-bit hashCode in a 25-bit mark word without losing some bits of data?\r\nEven if data loss occurs due to this bit-length discrepancy, why is it that when I call `hashCode()` again, it still retrieves the original hashCode value without any apparent data loss?\r\n\r\nAny insights into how Java manages to do this would be greatly appreciated.\r\n","title":"How is a 32-bit hashCode stored in a 25-bit mark word in Java without data loss?","body":"<p>I've been looking into the internals of Java objects and am puzzled about how hashCode values are managed. As I understand it, the hashCode method in Java returns a 32-bit integer. However, this hashCode is stored in the object's header, specifically in the 25-bit mark word.</p>\n<p>This raises a couple of questions for me:</p>\n<p>How is it possible to store a 32-bit hashCode in a 25-bit mark word without losing some bits of data?\nEven if data loss occurs due to this bit-length discrepancy, why is it that when I call <code>hashCode()</code> again, it still retrieves the original hashCode value without any apparent data loss?</p>\n<p>Any insights into how Java manages to do this would be greatly appreciated.</p>\n"},{"tags":["java","file","remote-access"],"comments":[{"owner":{"account_id":16871523,"reputation":706,"user_id":12199915,"display_name":"Alex"},"score":1,"creation_date":1683531180,"post_id":76179027,"comment_id":134375298,"body_markdown":"Just use it as you need. For example `readFile(&quot;https://raw.githubusercontent.com/razorpay/ifsc-api/master/data/ABNA.json&quot;)`. It will return you a stream of file content. Because spring uses `DefaultResourceLoader` which in implementation uses `UrlResource` if it is not a filesystem or classpath resource","body":"Just use it as you need. For example <code>readFile(&quot;https:&#47;&#47;raw.githubusercontent.com&#47;razorpay&#47;ifsc-ap&zwnj;&#8203;i&#47;master&#47;data&#47;ABNA.j&zwnj;&#8203;son&quot;)</code>. It will return you a stream of file content. Because spring uses <code>DefaultResourceLoader</code> which in implementation uses <code>UrlResource</code> if it is not a filesystem or classpath resource"}],"answers":[{"tags":[],"owner":{"account_id":306540,"reputation":1801,"user_id":2695990,"display_name":"fascynacja"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683620309,"creation_date":1683620309,"answer_id":76207222,"question_id":76179027,"body_markdown":"If I understood correctly. You would like to automatically retrieve list of json files from given path of repository and then read all those files.\r\n\r\nThis code is a simplified example how to achieve it:\r\n\r\n    @Autowired\r\n    private ResourceLoader resourceLoader;\r\n\r\n    @Bean\r\n    CommandLineRunner run(ObjectMapper objectMapper) {\r\n        return a -&gt;\r\n        {\r\n            // (1)\r\n            List&lt;UrlObject&gt; urlObjects = objectMapper.readValue(\r\n                    new URL(&quot;https://api.github.com/repos/razorpay/ifsc-api/contents/data&quot;),\r\n                    new TypeReference&lt;&gt;() {}); \r\n            \r\n            List&lt;String&gt; urls = urlObjects.stream()\r\n                    .map(obj -&gt; obj.name)\r\n                    .filter(name -&gt; name.endsWith(&quot;json&quot;)) // (2)\r\n                    .map(name -&gt; &quot;https://raw.githubusercontent.com/razorpay/ifsc-api/master/data/&quot; + name)\r\n                    .peek(System.out::println) // (3)\r\n                    .collect(Collectors.toList());\r\n\r\n            // do whatever you need with given urls\r\n            for (String url : urls) {\r\n                InputStream is = readFile(url);\r\n            }\r\n        };\r\n    }\r\n\r\n    private InputStream readFile(String fileName) throws Exception {\r\n        Resource resource = resourceLoader.getResource(fileName);\r\n        return resource.getInputStream();\r\n    }\r\n    static class UrlObject {\r\n        @JsonProperty(&quot;name&quot;)\r\n        String name;\r\n    }\r\n\r\n(1) First we are using github API: https://docs.github.com/en/rest/repos/contents?apiVersion=2022-11-28#get-repository-content in order to retrieve contents of given path in repository. \r\n\r\n(2) Additional filter for json files is applied.\r\n\r\n(3) just for debug, can be removed later","title":"How to pass remote file resources as input to ResourceLoader","body":"<p>If I understood correctly. You would like to automatically retrieve list of json files from given path of repository and then read all those files.</p>\n<p>This code is a simplified example how to achieve it:</p>\n<pre><code>@Autowired\nprivate ResourceLoader resourceLoader;\n\n@Bean\nCommandLineRunner run(ObjectMapper objectMapper) {\n    return a -&gt;\n    {\n        // (1)\n        List&lt;UrlObject&gt; urlObjects = objectMapper.readValue(\n                new URL(&quot;https://api.github.com/repos/razorpay/ifsc-api/contents/data&quot;),\n                new TypeReference&lt;&gt;() {}); \n        \n        List&lt;String&gt; urls = urlObjects.stream()\n                .map(obj -&gt; obj.name)\n                .filter(name -&gt; name.endsWith(&quot;json&quot;)) // (2)\n                .map(name -&gt; &quot;https://raw.githubusercontent.com/razorpay/ifsc-api/master/data/&quot; + name)\n                .peek(System.out::println) // (3)\n                .collect(Collectors.toList());\n\n        // do whatever you need with given urls\n        for (String url : urls) {\n            InputStream is = readFile(url);\n        }\n    };\n}\n\nprivate InputStream readFile(String fileName) throws Exception {\n    Resource resource = resourceLoader.getResource(fileName);\n    return resource.getInputStream();\n}\nstatic class UrlObject {\n    @JsonProperty(&quot;name&quot;)\n    String name;\n}\n</code></pre>\n<p>(1) First we are using github API: <a href=\"https://docs.github.com/en/rest/repos/contents?apiVersion=2022-11-28#get-repository-content\" rel=\"nofollow noreferrer\">https://docs.github.com/en/rest/repos/contents?apiVersion=2022-11-28#get-repository-content</a> in order to retrieve contents of given path in repository.</p>\n<p>(2) Additional filter for json files is applied.</p>\n<p>(3) just for debug, can be removed later</p>\n"}],"owner":{"account_id":143734,"reputation":791,"user_id":352290,"accept_rate":100,"display_name":"user352290"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1683798827,"creation_date":1683263925,"question_id":76179027,"body_markdown":"The following is a snippet to load bank location specific information a JSON file.\r\n\r\n    @Autowired\r\n    private ResourceLoader resourceLoader;\r\n\r\n    readFile(&quot;classpath:/HCBL.json&quot;);\r\n\r\n    private InputStream readFile(String fileName) throws Exception {\r\n        Resource resource = resourceLoader.getResource(fileName);\r\n        return resource.getInputStream();\r\n    }\r\n\r\nInstead of reading from a local file, I would like to point to a remote GitHub repository (say https://github.com/razorpay/ifsc-api/tree/master/data) instead of copying files into the classpath (say src/main/resources) and load them directly","title":"How to pass remote file resources as input to ResourceLoader","body":"<p>The following is a snippet to load bank location specific information a JSON file.</p>\n<pre><code>@Autowired\nprivate ResourceLoader resourceLoader;\n\nreadFile(&quot;classpath:/HCBL.json&quot;);\n\nprivate InputStream readFile(String fileName) throws Exception {\n    Resource resource = resourceLoader.getResource(fileName);\n    return resource.getInputStream();\n}\n</code></pre>\n<p>Instead of reading from a local file, I would like to point to a remote GitHub repository (say <a href=\"https://github.com/razorpay/ifsc-api/tree/master/data\" rel=\"nofollow noreferrer\">https://github.com/razorpay/ifsc-api/tree/master/data</a>) instead of copying files into the classpath (say src/main/resources) and load them directly</p>\n"},{"tags":["java","spring","postgresql","integration-testing"],"comments":[{"owner":{"account_id":1018432,"reputation":21783,"user_id":1029453,"accept_rate":100,"display_name":"Richard Huxton"},"score":1,"creation_date":1655148299,"post_id":72604932,"comment_id":128258345,"body_markdown":"Turn statement logging on in Postgresql. You will be able to see what order they are executed in and whether it is over one connection or many. See the manuals for the log-lone format","body":"Turn statement logging on in Postgresql. You will be able to see what order they are executed in and whether it is over one connection or many. See the manuals for the log-lone format"}],"answers":[{"tags":[],"owner":{"account_id":15613936,"reputation":57,"user_id":11264566,"display_name":"GreenFed"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1683798722,"creation_date":1683798722,"answer_id":76226328,"question_id":72604932,"body_markdown":"Hypothes (1) was right. \r\n\r\nI fixed problem, when separate tests in two modules on two schemas, and start pass schema name as parameter.   \r\nAnother word, in tests in *package_1* i&#39;m pass to method use *schema_1*\r\nIn tests in *package_2* i&#39;m pass to method use *schema_2*.\r\n","title":"An error occurred when accessing the database view when running an integration test on the server, which works on the PC without problems","body":"<p>Hypothes (1) was right.</p>\n<p>I fixed problem, when separate tests in two modules on two schemas, and start pass schema name as parameter.<br />\nAnother word, in tests in <em>package_1</em> i'm pass to method use <em>schema_1</em>\nIn tests in <em>package_2</em> i'm pass to method use <em>schema_2</em>.</p>\n"}],"owner":{"account_id":15613936,"reputation":57,"user_id":11264566,"display_name":"GreenFed"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76226328,"answer_count":1,"score":0,"last_activity_date":1683798722,"creation_date":1655132105,"question_id":72604932,"body_markdown":"I&#39;m running an integration test, which creates some database structure before its execution and fills it with test data.  \r\nFurther, my method accesses the view via JDBC and retrieves data from it.  \r\nWhen running integration tests on the server during build, I regularly get an error that the view does not exist.\r\nWhen running on a PC, this problem does not occur.\r\n\r\nCan you suggest what could be the reason?\r\n\r\nTechnology:  \r\nJava 8  \r\npostgres 13  \r\nSpring 5  \r\n\r\nTest example:\r\n```java\r\n@Sql(\r\n  scripts = {\r\n  &quot;drop-shema.sql&quot;, \r\n  &quot;create-schema.sql&quot;, \r\n  &quot;create-tables.sql&quot;, \r\n  &quot;add-constraints.sql&quot;,\r\n  &quot;create-view.sql&quot;,\r\n  &quot;inser-data.sql&quot;\r\n  },\r\n  config = @SqlConfig(transactionMode = TransactionMode.ISOLATED))\r\n@Test\r\npublic void foo() { \r\n\tList&lt;Bar&gt; bars = selectBarDao.exec();\r\n\t...\r\n}\r\n```\r\n\r\nHypotheses that I tested, and which did not help me:  \r\n\r\n1. Parallel launch gives problems, because The server has more CPU than my PC.  \r\nChecks:  \r\n а) Added a parameter config = @SqlConfig(transactionMode = TransactionMode.ISOLATED) to the @SQL annotation  \r\n b) Added the @Transaction annotation above the test class. So in this case, the database structure was cleaned and completely created in my test.  \r\nThe parallel launch of other tests could not interfere, because he was in other transactions  \r\n c) Disabled multi-threaded running of tests  \r\n\r\n2. @SQL annotation does not notify me of an error in the script, such as that the view could not be created.  \r\nCheck: removed the script from @SQL to clean up the structure. When running on a PC, I got errors.  \r\n\r\n3. The order of execution of scripts inside the same @SQL annotation gets confused  \r\nCheck: merged several files into one  ","title":"An error occurred when accessing the database view when running an integration test on the server, which works on the PC without problems","body":"<p>I'm running an integration test, which creates some database structure before its execution and fills it with test data.<br />\nFurther, my method accesses the view via JDBC and retrieves data from it.<br />\nWhen running integration tests on the server during build, I regularly get an error that the view does not exist.\nWhen running on a PC, this problem does not occur.</p>\n<p>Can you suggest what could be the reason?</p>\n<p>Technology:<br />\nJava 8<br />\npostgres 13<br />\nSpring 5</p>\n<p>Test example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Sql(\n  scripts = {\n  &quot;drop-shema.sql&quot;, \n  &quot;create-schema.sql&quot;, \n  &quot;create-tables.sql&quot;, \n  &quot;add-constraints.sql&quot;,\n  &quot;create-view.sql&quot;,\n  &quot;inser-data.sql&quot;\n  },\n  config = @SqlConfig(transactionMode = TransactionMode.ISOLATED))\n@Test\npublic void foo() { \n    List&lt;Bar&gt; bars = selectBarDao.exec();\n    ...\n}\n</code></pre>\n<p>Hypotheses that I tested, and which did not help me:</p>\n<ol>\n<li><p>Parallel launch gives problems, because The server has more CPU than my PC.<br />\nChecks:<br />\nа) Added a parameter config = @SqlConfig(transactionMode = TransactionMode.ISOLATED) to the @SQL annotation<br />\nb) Added the @Transaction annotation above the test class. So in this case, the database structure was cleaned and completely created in my test.<br />\nThe parallel launch of other tests could not interfere, because he was in other transactions<br />\nc) Disabled multi-threaded running of tests</p>\n</li>\n<li><p>@SQL annotation does not notify me of an error in the script, such as that the view could not be created.<br />\nCheck: removed the script from @SQL to clean up the structure. When running on a PC, I got errors.</p>\n</li>\n<li><p>The order of execution of scripts inside the same @SQL annotation gets confused<br />\nCheck: merged several files into one</p>\n</li>\n</ol>\n"},{"tags":["java","mixins","minecraft-fabric"],"comments":[{"owner":{"account_id":37136,"reputation":57822,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"score":0,"creation_date":1684345559,"post_id":76226229,"comment_id":134506266,"body_markdown":"The error says it didn&#39;t find the place where you wanted it to insert the mixin. Is there a call to tickMovement() inside of tickMovement() ? That&#39;s where you&#39;re telling it to insert the mixin.","body":"The error says it didn&#39;t find the place where you wanted it to insert the mixin. Is there a call to tickMovement() inside of tickMovement() ? That&#39;s where you&#39;re telling it to insert the mixin."},{"owner":{"account_id":25694956,"reputation":1,"user_id":19455800,"display_name":"Nesselbrand"},"score":0,"creation_date":1684754005,"post_id":76226229,"comment_id":134558105,"body_markdown":"In the tickMovement() Method is another tickMovement() call to a superclass. Is there any way of specifiying wich of those methods i want to redirect?","body":"In the tickMovement() Method is another tickMovement() call to a superclass. Is there any way of specifiying wich of those methods i want to redirect?"},{"owner":{"account_id":37136,"reputation":57822,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"score":0,"creation_date":1684763296,"post_id":76226229,"comment_id":134560081,"body_markdown":"yes, do you see the two places where you wrote SnowGolemEntity in your mixin?","body":"yes, do you see the two places where you wrote SnowGolemEntity in your mixin?"},{"owner":{"account_id":25694956,"reputation":1,"user_id":19455800,"display_name":"Nesselbrand"},"score":0,"creation_date":1684779583,"post_id":76226229,"comment_id":134563745,"body_markdown":"yes, once at the top with the annotation and the other one in the targe = &quot; ... &quot; but what does this have to do with the problem","body":"yes, once at the top with the annotation and the other one in the targe = &quot; ... &quot; but what does this have to do with the problem"},{"owner":{"account_id":37136,"reputation":57822,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"score":0,"creation_date":1684782736,"post_id":76226229,"comment_id":134564388,"body_markdown":"The @Mixin is which class gets edited by the mixin. The target= is the instruction where the edit happens. You&#39;re saying the edit happens inside SnowGolemEntity.tickMovement where there&#39;s a call to SnowGolemEntity.tickMovement, but you say it is actually calling tickMovement of the superclass and not the one of SnowGolemEntity","body":"The @Mixin is which class gets edited by the mixin. The target= is the instruction where the edit happens. You&#39;re saying the edit happens inside SnowGolemEntity.tickMovement where there&#39;s a call to SnowGolemEntity.tickMovement, but you say it is actually calling tickMovement of the superclass and not the one of SnowGolemEntity"},{"owner":{"account_id":25694956,"reputation":1,"user_id":19455800,"display_name":"Nesselbrand"},"score":0,"creation_date":1685028124,"post_id":76226229,"comment_id":134606945,"body_markdown":"How do I specify that i want to redirect the tickMovement() Method in the snowgolementity.class and not the upper class one","body":"How do I specify that i want to redirect the tickMovement() Method in the snowgolementity.class and not the upper class one"},{"owner":{"account_id":37136,"reputation":57822,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"score":0,"creation_date":1685030942,"post_id":76226229,"comment_id":134607564,"body_markdown":"If you want to delete an entire method and replace it with your own code, then you are looking for @ Overwrite rather than @ Redirect. Overwrite is discouraged because only one mod can overwrite the same method - if two mods overwrite the same method they won&#39;t load. Redirect can replace a single method *call*","body":"If you want to delete an entire method and replace it with your own code, then you are looking for @ Overwrite rather than @ Redirect. Overwrite is discouraged because only one mod can overwrite the same method - if two mods overwrite the same method they won&#39;t load. Redirect can replace a single method <i>call</i>"},{"owner":{"account_id":25694956,"reputation":1,"user_id":19455800,"display_name":"Nesselbrand"},"score":0,"creation_date":1685103369,"post_id":76226229,"comment_id":134618398,"body_markdown":"kk if I shouldnt use overwrite though how can i achieve to remove a certain part of the code from the tickMovement() Method? Because my goal is to make snow golems immune to heat damage and I thought the easiest way is to remove the code where minecraft is checking if the snow golem is in a hot biome","body":"kk if I shouldnt use overwrite though how can i achieve to remove a certain part of the code from the tickMovement() Method? Because my goal is to make snow golems immune to heat damage and I thought the easiest way is to remove the code where minecraft is checking if the snow golem is in a hot biome"},{"owner":{"account_id":37136,"reputation":57822,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"score":0,"creation_date":1685229244,"post_id":76226229,"comment_id":134632967,"body_markdown":"Maybe you can redirect where it gets the biome so it always returns a cold biome. It seems like right now you don&#39;t actually know what you are trying to do. The point of a mixin is to change some of the code. Do you know which code you want to change, specifically?","body":"Maybe you can redirect where it gets the biome so it always returns a cold biome. It seems like right now you don&#39;t actually know what you are trying to do. The point of a mixin is to change some of the code. Do you know which code you want to change, specifically?"},{"owner":{"account_id":25694956,"reputation":1,"user_id":19455800,"display_name":"Nesselbrand"},"score":0,"creation_date":1685632171,"post_id":76226229,"comment_id":134690476,"body_markdown":"I know what im trying to do lol I want to delete these 3 lines from the SnowGolemEntity.class so that Snowgolems dont recieve heat damage:","body":"I know what im trying to do lol I want to delete these 3 lines from the SnowGolemEntity.class so that Snowgolems dont recieve heat damage:"},{"owner":{"account_id":25694956,"reputation":1,"user_id":19455800,"display_name":"Nesselbrand"},"score":0,"creation_date":1685632515,"post_id":76226229,"comment_id":134690559,"body_markdown":"Biome biome = this.world.getBiome(blockPos);\n            if (biome.isHot(blockPos)) {\n                this.damage(DamageSource.ON_FIRE, 1.0F);\n            }","body":"Biome biome = this.world.getBiome(blockPos);             if (biome.isHot(blockPos)) {                 this.damage(DamageSource.ON_FIRE, 1.0F);             }"},{"owner":{"account_id":37136,"reputation":57822,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"score":0,"creation_date":1685659896,"post_id":76226229,"comment_id":134695761,"body_markdown":"then your easiest thing to do is Redirect either the isHot call so it always returns false, or the damage call so doesn&#39;t do anything. method=&quot;tickMovement&quot; says which method in SnowGolemEntity is supposed to be modified, and the &quot;at&quot; clause says where in the method to modify - you want to target either the isHot or damage method (depending on which one you decide to change).","body":"then your easiest thing to do is Redirect either the isHot call so it always returns false, or the damage call so doesn&#39;t do anything. method=&quot;tickMovement&quot; says which method in SnowGolemEntity is supposed to be modified, and the &quot;at&quot; clause says where in the method to modify - you want to target either the isHot or damage method (depending on which one you decide to change)."},{"owner":{"account_id":37136,"reputation":57822,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"score":0,"creation_date":1685660042,"post_id":76226229,"comment_id":134695773,"body_markdown":"(Another possibility is to Inject the beginning of the damage method and cancel it if the entity is a snow golem and the damage is fire damage. This would make snow golems immune to fire damage, which wouldn&#39;t be exactly what you wanted, but if the other two ideas cause some compatibility problem with another mod, you might resort to this idea instead)","body":"(Another possibility is to Inject the beginning of the damage method and cancel it if the entity is a snow golem and the damage is fire damage. This would make snow golems immune to fire damage, which wouldn&#39;t be exactly what you wanted, but if the other two ideas cause some compatibility problem with another mod, you might resort to this idea instead)"},{"owner":{"account_id":25694956,"reputation":1,"user_id":19455800,"display_name":"Nesselbrand"},"score":0,"creation_date":1687775791,"post_id":76226229,"comment_id":134978963,"body_markdown":"Ah ok i understand thanks for the help :thumbsup:\nIt worked now","body":"Ah ok i understand thanks for the help :thumbsup: It worked now"}],"owner":{"account_id":25694956,"reputation":1,"user_id":19455800,"display_name":"Nesselbrand"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":729,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683798606,"creation_date":1683798067,"question_id":76226229,"body_markdown":"I tried to redirecte the Method tickMovement() in the SnowGolemEntity class to remove the passage where snow golems get damage from beeing in Hot biomes. I tried to start Minecraft but it failed.\r\n\r\nI did the setup of my fabric modding environment exactly like on the fabric website (https://fabricmc.net/wiki/tutorial:setup) described.\r\n\r\nThanks for the help in advance.\r\n\r\nThe Java Code:\r\n\r\n    @Mixin(SnowGolemEntity.class)\r\n    abstract class ExampleMixin  {\r\n    \r\n    \t@Redirect(\r\n    \t\t\tmethod = &quot;tickMovement&quot;,\r\n    \t\t\tat = @At(\r\n    \t\t\t\t\tvalue = &quot;INVOKE&quot;,\r\n    \t\t\t\t\ttarget = &quot;Lnet/minecraft/entity/passive/SnowGolemEntity;tickMovement()V&quot;\r\n    \t\t\t)\r\n    \t)\r\n    \tprivate void tickMovement() {\r\n    \r\n    \t}\r\n    }\r\n\r\nHeres the stacktrace:\r\n\r\n    [11:32:39] [main/ERROR] (FabricLoader) Minecraft has crashed!\r\n     net.fabricmc.loader.impl.FormattedException: java.lang.ExceptionInInitializerError\r\n    \tat net.fabricmc.loader.impl.game.minecraft.MinecraftGameProvider.launch(MinecraftGameProvider.java:462) ~[fabric-loader-0.14.6.jar:?]\r\n    \tat net.fabricmc.loader.impl.launch.knot.Knot.launch(Knot.java:74) [fabric-loader-0.14.6.jar:?]\r\n    \tat net.fabricmc.loader.impl.launch.knot.KnotClient.main(KnotClient.java:23) [fabric-loader-0.14.6.jar:?]\r\n    \tat net.fabricmc.devlaunchinjector.Main.main(Main.java:86) [dev-launch-injector-0.2.1+build.8.jar:?]\r\n    Caused by: java.lang.ExceptionInInitializerError\r\n    \tat net.minecraft.world.gen.carver.CarverDebugConfig.&lt;clinit&gt;(CarverDebugConfig.java:14) ~[minecraft-project-@-merged-named.jar:?]\r\n    \tat net.minecraft.world.gen.carver.CarverConfig.method_33968(CarverConfig.java:18) ~[minecraft-project-@-merged-named.jar:?]\r\n    \tat com.mojang.serialization.codecs.RecordCodecBuilder.mapCodec(RecordCodecBuilder.java:76) ~[datafixerupper-4.1.27.jar:?]\r\n    \tat net.minecraft.world.gen.carver.CarverConfig.&lt;clinit&gt;(CarverConfig.java:18) ~[minecraft-project-@-merged-named.jar:?]\r\n    \tat net.minecraft.world.gen.carver.Carver.&lt;clinit&gt;(Carver.java:55) ~[minecraft-project-@-merged-named.jar:?]\r\n    \tat net.minecraft.world.gen.carver.ConfiguredCarvers.&lt;clinit&gt;(ConfiguredCarvers.java:30) ~[minecraft-project-@-merged-named.jar:?]\r\n    \tat net.minecraft.util.registry.BuiltinRegistries.method_30572(BuiltinRegistries.java:57) ~[minecraft-project-@-merged-named.jar:?]\r\n    \tat net.minecraft.util.registry.BuiltinRegistries.method_30566(BuiltinRegistries.java:107) ~[minecraft-project-@-merged-named.jar:?]\r\n    \tat java.util.LinkedHashMap.forEach(LinkedHashMap.java:721) ~[?:?]\r\n    \tat net.minecraft.util.registry.BuiltinRegistries.&lt;clinit&gt;(BuiltinRegistries.java:106) ~[minecraft-project-@-merged-named.jar:?]\r\n    \tat net.minecraft.util.registry.Registry.&lt;clinit&gt;(Registry.java:518) ~[minecraft-project-@-merged-named.jar:?]\r\n    \tat net.minecraft.Bootstrap.initialize(Bootstrap.java:51) ~[minecraft-project-@-merged-named.jar:?]\r\n    \tat net.minecraft.client.main.Main.main(Main.java:147) ~[minecraft-project-@-merged-named.jar:?]\r\n    \tat net.fabricmc.loader.impl.game.minecraft.MinecraftGameProvider.launch(MinecraftGameProvider.java:460) ~[fabric-loader-0.14.6.jar:?]\r\n    \t... 3 more\r\n    Caused by: java.lang.RuntimeException: Mixin transformation of net.minecraft.entity.passive.SnowGolemEntity failed\r\n    \tat net.fabricmc.loader.impl.launch.knot.KnotClassDelegate.getPostMixinClassByteArray(KnotClassDelegate.java:418) ~[fabric-loader-0.14.6.jar:?]\r\n    \tat net.fabricmc.loader.impl.launch.knot.KnotClassDelegate.tryLoadClass(KnotClassDelegate.java:322) ~[fabric-loader-0.14.6.jar:?]\r\n    \tat net.fabricmc.loader.impl.launch.knot.KnotClassDelegate.loadClass(KnotClassDelegate.java:218) ~[fabric-loader-0.14.6.jar:?]\r\n    \tat net.fabricmc.loader.impl.launch.knot.KnotClassLoader.loadClass(KnotClassLoader.java:145) ~[fabric-loader-0.14.6.jar:?]\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[?:?]\r\n    \tat net.minecraft.block.Blocks.&lt;clinit&gt;(Blocks.java:470) ~[minecraft-project-@-merged-named.jar:?]\r\n    \tat net.minecraft.world.gen.carver.CarverDebugConfig.&lt;clinit&gt;(CarverDebugConfig.java:14) ~[minecraft-project-@-merged-named.jar:?]\r\n    \tat net.minecraft.world.gen.carver.CarverConfig.method_33968(CarverConfig.java:18) ~[minecraft-project-@-merged-named.jar:?]\r\n    \tat com.mojang.serialization.codecs.RecordCodecBuilder.mapCodec(RecordCodecBuilder.java:76) ~[datafixerupper-4.1.27.jar:?]\r\n    \tat net.minecraft.world.gen.carver.CarverConfig.&lt;clinit&gt;(CarverConfig.java:18) ~[minecraft-project-@-merged-named.jar:?]\r\n    \tat net.minecraft.world.gen.carver.Carver.&lt;clinit&gt;(Carver.java:55) ~[minecraft-project-@-merged-named.jar:?]\r\n    \tat net.minecraft.world.gen.carver.ConfiguredCarvers.&lt;clinit&gt;(ConfiguredCarvers.java:30) ~[minecraft-project-@-merged-named.jar:?]\r\n    \tat net.minecraft.util.registry.BuiltinRegistries.method_30572(BuiltinRegistries.java:57) ~[minecraft-project-@-merged-named.jar:?]\r\n    \tat net.minecraft.util.registry.BuiltinRegistries.method_30566(BuiltinRegistries.java:107) ~[minecraft-project-@-merged-named.jar:?]\r\n    \tat java.util.LinkedHashMap.forEach(LinkedHashMap.java:721) ~[?:?]\r\n    \tat net.minecraft.util.registry.BuiltinRegistries.&lt;clinit&gt;(BuiltinRegistries.java:106) ~[minecraft-project-@-merged-named.jar:?]\r\n    \tat net.minecraft.util.registry.Registry.&lt;clinit&gt;(Registry.java:518) ~[minecraft-project-@-merged-named.jar:?]\r\n    \tat net.minecraft.Bootstrap.initialize(Bootstrap.java:51) ~[minecraft-project-@-merged-named.jar:?]\r\n    \tat net.minecraft.client.main.Main.main(Main.java:147) ~[minecraft-project-@-merged-named.jar:?]\r\n    \tat net.fabricmc.loader.impl.game.minecraft.MinecraftGameProvider.launch(MinecraftGameProvider.java:460) ~[fabric-loader-0.14.6.jar:?]\r\n    \t... 3 more\r\n    Caused by: org.spongepowered.asm.mixin.transformer.throwables.MixinTransformerError: An unexpected critical error was encountered\r\n    \tat org.spongepowered.asm.mixin.transformer.MixinProcessor.applyMixins(MixinProcessor.java:392) ~[sponge-mixin-0.11.4+mixin.0.8.5.jar:0.11.4+mixin.0.8.5]\r\n    \tat org.spongepowered.asm.mixin.transformer.MixinTransformer.transformClass(MixinTransformer.java:234) ~[sponge-mixin-0.11.4+mixin.0.8.5.jar:0.11.4+mixin.0.8.5]\r\n    \tat org.spongepowered.asm.mixin.transformer.MixinTransformer.transformClassBytes(MixinTransformer.java:202) ~[sponge-mixin-0.11.4+mixin.0.8.5.jar:0.11.4+mixin.0.8.5]\r\n    \tat net.fabricmc.loader.impl.launch.knot.KnotClassDelegate.getPostMixinClassByteArray(KnotClassDelegate.java:413) ~[fabric-loader-0.14.6.jar:?]\r\n    \tat net.fabricmc.loader.impl.launch.knot.KnotClassDelegate.tryLoadClass(KnotClassDelegate.java:322) ~[fabric-loader-0.14.6.jar:?]\r\n    \tat net.fabricmc.loader.impl.launch.knot.KnotClassDelegate.loadClass(KnotClassDelegate.java:218) ~[fabric-loader-0.14.6.jar:?]\r\n    \tat net.fabricmc.loader.impl.launch.knot.KnotClassLoader.loadClass(KnotClassLoader.java:145) ~[fabric-loader-0.14.6.jar:?]\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[?:?]\r\n    \tat net.minecraft.block.Blocks.&lt;clinit&gt;(Blocks.java:470) ~[minecraft-project-@-merged-named.jar:?]\r\n    \tat net.minecraft.world.gen.carver.CarverDebugConfig.&lt;clinit&gt;(CarverDebugConfig.java:14) ~[minecraft-project-@-merged-named.jar:?]\r\n    \tat net.minecraft.world.gen.carver.CarverConfig.method_33968(CarverConfig.java:18) ~[minecraft-project-@-merged-named.jar:?]\r\n    \tat com.mojang.serialization.codecs.RecordCodecBuilder.mapCodec(RecordCodecBuilder.java:76) ~[datafixerupper-4.1.27.jar:?]\r\n    \tat net.minecraft.world.gen.carver.CarverConfig.&lt;clinit&gt;(CarverConfig.java:18) ~[minecraft-project-@-merged-named.jar:?]\r\n    \tat net.minecraft.world.gen.carver.Carver.&lt;clinit&gt;(Carver.java:55) ~[minecraft-project-@-merged-named.jar:?]\r\n    \tat net.minecraft.world.gen.carver.ConfiguredCarvers.&lt;clinit&gt;(ConfiguredCarvers.java:30) ~[minecraft-project-@-merged-named.jar:?]\r\n    \tat net.minecraft.util.registry.BuiltinRegistries.method_30572(BuiltinRegistries.java:57) ~[minecraft-project-@-merged-named.jar:?]\r\n    \tat net.minecraft.util.registry.BuiltinRegistries.method_30566(BuiltinRegistries.java:107) ~[minecraft-project-@-merged-named.jar:?]\r\n    \tat java.util.LinkedHashMap.forEach(LinkedHashMap.java:721) ~[?:?]\r\n    \tat net.minecraft.util.registry.BuiltinRegistries.&lt;clinit&gt;(BuiltinRegistries.java:106) ~[minecraft-project-@-merged-named.jar:?]\r\n    \tat net.minecraft.util.registry.Registry.&lt;clinit&gt;(Registry.java:518) ~[minecraft-project-@-merged-named.jar:?]\r\n    \tat net.minecraft.Bootstrap.initialize(Bootstrap.java:51) ~[minecraft-project-@-merged-named.jar:?]\r\n    \tat net.minecraft.client.main.Main.main(Main.java:147) ~[minecraft-project-@-merged-named.jar:?]\r\n    \tat net.fabricmc.loader.impl.game.minecraft.MinecraftGameProvider.launch(MinecraftGameProvider.java:460) ~[fabric-loader-0.14.6.jar:?]\r\n    \t... 3 more\r\n    Caused by: org.spongepowered.asm.mixin.injection.throwables.InjectionError: Critical injection failure: Redirector tickMovement()V in modid.mixins.json:ExampleMixin from mod modid failed injection check, (0/1) succeeded. Scanned 1 target(s). No refMap loaded.\r\n    \tat org.spongepowered.asm.mixin.injection.struct.InjectionInfo.postInject(InjectionInfo.java:468) ~[sponge-mixin-0.11.4+mixin.0.8.5.jar:0.11.4+mixin.0.8.5]\r\n    \tat org.spongepowered.asm.mixin.transformer.MixinTargetContext.applyInjections(MixinTargetContext.java:1385) ~[sponge-mixin-0.11.4+mixin.0.8.5.jar:0.11.4+mixin.0.8.5]\r\n    \tat org.spongepowered.asm.mixin.transformer.MixinApplicatorStandard.applyInjections(MixinApplicatorStandard.java:1052) ~[sponge-mixin-0.11.4+mixin.0.8.5.jar:0.11.4+mixin.0.8.5]\r\n    \tat org.spongepowered.asm.mixin.transformer.MixinApplicatorStandard.applyMixin(MixinApplicatorStandard.java:400) ~[sponge-mixin-0.11.4+mixin.0.8.5.jar:0.11.4+mixin.0.8.5]\r\n    \tat org.spongepowered.asm.mixin.transformer.MixinApplicatorStandard.apply(MixinApplicatorStandard.java:325) ~[sponge-mixin-0.11.4+mixin.0.8.5.jar:0.11.4+mixin.0.8.5]\r\n    \tat org.spongepowered.asm.mixin.transformer.TargetClassContext.apply(TargetClassContext.java:421) ~[sponge-mixin-0.11.4+mixin.0.8.5.jar:0.11.4+mixin.0.8.5]\r\n    \tat org.spongepowered.asm.mixin.transformer.TargetClassContext.applyMixins(TargetClassContext.java:403) ~[sponge-mixin-0.11.4+mixin.0.8.5.jar:0.11.4+mixin.0.8.5]\r\n    \tat org.spongepowered.asm.mixin.transformer.MixinProcessor.applyMixins(MixinProcessor.java:363) ~[sponge-mixin-0.11.4+mixin.0.8.5.jar:0.11.4+mixin.0.8.5]\r\n    \tat org.spongepowered.asm.mixin.transformer.MixinTransformer.transformClass(MixinTransformer.java:234) ~[sponge-mixin-0.11.4+mixin.0.8.5.jar:0.11.4+mixin.0.8.5]\r\n    \tat org.spongepowered.asm.mixin.transformer.MixinTransformer.transformClassBytes(MixinTransformer.java:202) ~[sponge-mixin-0.11.4+mixin.0.8.5.jar:0.11.4+mixin.0.8.5]\r\n    \tat net.fabricmc.loader.impl.launch.knot.KnotClassDelegate.getPostMixinClassByteArray(KnotClassDelegate.java:413) ~[fabric-loader-0.14.6.jar:?]\r\n    \tat net.fabricmc.loader.impl.launch.knot.KnotClassDelegate.tryLoadClass(KnotClassDelegate.java:322) ~[fabric-loader-0.14.6.jar:?]\r\n    \tat net.fabricmc.loader.impl.launch.knot.KnotClassDelegate.loadClass(KnotClassDelegate.java:218) ~[fabric-loader-0.14.6.jar:?]\r\n    \tat net.fabricmc.loader.impl.launch.knot.KnotClassLoader.loadClass(KnotClassLoader.java:145) ~[fabric-loader-0.14.6.jar:?]\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[?:?]\r\n    \tat net.minecraft.block.Blocks.&lt;clinit&gt;(Blocks.java:470) ~[minecraft-project-@-merged-named.jar:?]\r\n    \tat net.minecraft.world.gen.carver.CarverDebugConfig.&lt;clinit&gt;(CarverDebugConfig.java:14) ~[minecraft-project-@-merged-named.jar:?]\r\n    \tat net.minecraft.world.gen.carver.CarverConfig.method_33968(CarverConfig.java:18) ~[minecraft-project-@-merged-named.jar:?]\r\n    \tat com.mojang.serialization.codecs.RecordCodecBuilder.mapCodec(RecordCodecBuilder.java:76) ~[datafixerupper-4.1.27.jar:?]\r\n    \tat net.minecraft.world.gen.carver.CarverConfig.&lt;clinit&gt;(CarverConfig.java:18) ~[minecraft-project-@-merged-named.jar:?]\r\n    \tat net.minecraft.world.gen.carver.Carver.&lt;clinit&gt;(Carver.java:55) ~[minecraft-project-@-merged-named.jar:?]\r\n    \tat net.minecraft.world.gen.carver.ConfiguredCarvers.&lt;clinit&gt;(ConfiguredCarvers.java:30) ~[minecraft-project-@-merged-named.jar:?]\r\n    \tat net.minecraft.util.registry.BuiltinRegistries.method_30572(BuiltinRegistries.java:57) ~[minecraft-project-@-merged-named.jar:?]\r\n    \tat net.minecraft.util.registry.BuiltinRegistries.method_30566(BuiltinRegistries.java:107) ~[minecraft-project-@-merged-named.jar:?]\r\n    \tat java.util.LinkedHashMap.forEach(LinkedHashMap.java:721) ~[?:?]\r\n    \tat net.minecraft.util.registry.BuiltinRegistries.&lt;clinit&gt;(BuiltinRegistries.java:106) ~[minecraft-project-@-merged-named.jar:?]\r\n    \tat net.minecraft.util.registry.Registry.&lt;clinit&gt;(Registry.java:518) ~[minecraft-project-@-merged-named.jar:?]\r\n    \tat net.minecraft.Bootstrap.initialize(Bootstrap.java:51) ~[minecraft-project-@-merged-named.jar:?]\r\n    \tat net.minecraft.client.main.Main.main(Main.java:147) ~[minecraft-project-@-merged-named.jar:?]\r\n    \tat net.fabricmc.loader.impl.game.minecraft.MinecraftGameProvider.launch(MinecraftGameProvider.java:460) ~[fabric-loader-0.14.6.jar:?]\r\n    \t... 3 more\r\n    \r\n    Process finished with exit code 1","title":"Error with Using Mixins in Minecraft Fabric Modding","body":"<p>I tried to redirecte the Method tickMovement() in the SnowGolemEntity class to remove the passage where snow golems get damage from beeing in Hot biomes. I tried to start Minecraft but it failed.</p>\n<p>I did the setup of my fabric modding environment exactly like on the fabric website (<a href=\"https://fabricmc.net/wiki/tutorial:setup\" rel=\"nofollow noreferrer\">https://fabricmc.net/wiki/tutorial:setup</a>) described.</p>\n<p>Thanks for the help in advance.</p>\n<p>The Java Code:</p>\n<pre><code>@Mixin(SnowGolemEntity.class)\nabstract class ExampleMixin  {\n\n    @Redirect(\n            method = &quot;tickMovement&quot;,\n            at = @At(\n                    value = &quot;INVOKE&quot;,\n                    target = &quot;Lnet/minecraft/entity/passive/SnowGolemEntity;tickMovement()V&quot;\n            )\n    )\n    private void tickMovement() {\n\n    }\n}\n</code></pre>\n<p>Heres the stacktrace:</p>\n<pre><code>[11:32:39] [main/ERROR] (FabricLoader) Minecraft has crashed!\n net.fabricmc.loader.impl.FormattedException: java.lang.ExceptionInInitializerError\n    at net.fabricmc.loader.impl.game.minecraft.MinecraftGameProvider.launch(MinecraftGameProvider.java:462) ~[fabric-loader-0.14.6.jar:?]\n    at net.fabricmc.loader.impl.launch.knot.Knot.launch(Knot.java:74) [fabric-loader-0.14.6.jar:?]\n    at net.fabricmc.loader.impl.launch.knot.KnotClient.main(KnotClient.java:23) [fabric-loader-0.14.6.jar:?]\n    at net.fabricmc.devlaunchinjector.Main.main(Main.java:86) [dev-launch-injector-0.2.1+build.8.jar:?]\nCaused by: java.lang.ExceptionInInitializerError\n    at net.minecraft.world.gen.carver.CarverDebugConfig.&lt;clinit&gt;(CarverDebugConfig.java:14) ~[minecraft-project-@-merged-named.jar:?]\n    at net.minecraft.world.gen.carver.CarverConfig.method_33968(CarverConfig.java:18) ~[minecraft-project-@-merged-named.jar:?]\n    at com.mojang.serialization.codecs.RecordCodecBuilder.mapCodec(RecordCodecBuilder.java:76) ~[datafixerupper-4.1.27.jar:?]\n    at net.minecraft.world.gen.carver.CarverConfig.&lt;clinit&gt;(CarverConfig.java:18) ~[minecraft-project-@-merged-named.jar:?]\n    at net.minecraft.world.gen.carver.Carver.&lt;clinit&gt;(Carver.java:55) ~[minecraft-project-@-merged-named.jar:?]\n    at net.minecraft.world.gen.carver.ConfiguredCarvers.&lt;clinit&gt;(ConfiguredCarvers.java:30) ~[minecraft-project-@-merged-named.jar:?]\n    at net.minecraft.util.registry.BuiltinRegistries.method_30572(BuiltinRegistries.java:57) ~[minecraft-project-@-merged-named.jar:?]\n    at net.minecraft.util.registry.BuiltinRegistries.method_30566(BuiltinRegistries.java:107) ~[minecraft-project-@-merged-named.jar:?]\n    at java.util.LinkedHashMap.forEach(LinkedHashMap.java:721) ~[?:?]\n    at net.minecraft.util.registry.BuiltinRegistries.&lt;clinit&gt;(BuiltinRegistries.java:106) ~[minecraft-project-@-merged-named.jar:?]\n    at net.minecraft.util.registry.Registry.&lt;clinit&gt;(Registry.java:518) ~[minecraft-project-@-merged-named.jar:?]\n    at net.minecraft.Bootstrap.initialize(Bootstrap.java:51) ~[minecraft-project-@-merged-named.jar:?]\n    at net.minecraft.client.main.Main.main(Main.java:147) ~[minecraft-project-@-merged-named.jar:?]\n    at net.fabricmc.loader.impl.game.minecraft.MinecraftGameProvider.launch(MinecraftGameProvider.java:460) ~[fabric-loader-0.14.6.jar:?]\n    ... 3 more\nCaused by: java.lang.RuntimeException: Mixin transformation of net.minecraft.entity.passive.SnowGolemEntity failed\n    at net.fabricmc.loader.impl.launch.knot.KnotClassDelegate.getPostMixinClassByteArray(KnotClassDelegate.java:418) ~[fabric-loader-0.14.6.jar:?]\n    at net.fabricmc.loader.impl.launch.knot.KnotClassDelegate.tryLoadClass(KnotClassDelegate.java:322) ~[fabric-loader-0.14.6.jar:?]\n    at net.fabricmc.loader.impl.launch.knot.KnotClassDelegate.loadClass(KnotClassDelegate.java:218) ~[fabric-loader-0.14.6.jar:?]\n    at net.fabricmc.loader.impl.launch.knot.KnotClassLoader.loadClass(KnotClassLoader.java:145) ~[fabric-loader-0.14.6.jar:?]\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[?:?]\n    at net.minecraft.block.Blocks.&lt;clinit&gt;(Blocks.java:470) ~[minecraft-project-@-merged-named.jar:?]\n    at net.minecraft.world.gen.carver.CarverDebugConfig.&lt;clinit&gt;(CarverDebugConfig.java:14) ~[minecraft-project-@-merged-named.jar:?]\n    at net.minecraft.world.gen.carver.CarverConfig.method_33968(CarverConfig.java:18) ~[minecraft-project-@-merged-named.jar:?]\n    at com.mojang.serialization.codecs.RecordCodecBuilder.mapCodec(RecordCodecBuilder.java:76) ~[datafixerupper-4.1.27.jar:?]\n    at net.minecraft.world.gen.carver.CarverConfig.&lt;clinit&gt;(CarverConfig.java:18) ~[minecraft-project-@-merged-named.jar:?]\n    at net.minecraft.world.gen.carver.Carver.&lt;clinit&gt;(Carver.java:55) ~[minecraft-project-@-merged-named.jar:?]\n    at net.minecraft.world.gen.carver.ConfiguredCarvers.&lt;clinit&gt;(ConfiguredCarvers.java:30) ~[minecraft-project-@-merged-named.jar:?]\n    at net.minecraft.util.registry.BuiltinRegistries.method_30572(BuiltinRegistries.java:57) ~[minecraft-project-@-merged-named.jar:?]\n    at net.minecraft.util.registry.BuiltinRegistries.method_30566(BuiltinRegistries.java:107) ~[minecraft-project-@-merged-named.jar:?]\n    at java.util.LinkedHashMap.forEach(LinkedHashMap.java:721) ~[?:?]\n    at net.minecraft.util.registry.BuiltinRegistries.&lt;clinit&gt;(BuiltinRegistries.java:106) ~[minecraft-project-@-merged-named.jar:?]\n    at net.minecraft.util.registry.Registry.&lt;clinit&gt;(Registry.java:518) ~[minecraft-project-@-merged-named.jar:?]\n    at net.minecraft.Bootstrap.initialize(Bootstrap.java:51) ~[minecraft-project-@-merged-named.jar:?]\n    at net.minecraft.client.main.Main.main(Main.java:147) ~[minecraft-project-@-merged-named.jar:?]\n    at net.fabricmc.loader.impl.game.minecraft.MinecraftGameProvider.launch(MinecraftGameProvider.java:460) ~[fabric-loader-0.14.6.jar:?]\n    ... 3 more\nCaused by: org.spongepowered.asm.mixin.transformer.throwables.MixinTransformerError: An unexpected critical error was encountered\n    at org.spongepowered.asm.mixin.transformer.MixinProcessor.applyMixins(MixinProcessor.java:392) ~[sponge-mixin-0.11.4+mixin.0.8.5.jar:0.11.4+mixin.0.8.5]\n    at org.spongepowered.asm.mixin.transformer.MixinTransformer.transformClass(MixinTransformer.java:234) ~[sponge-mixin-0.11.4+mixin.0.8.5.jar:0.11.4+mixin.0.8.5]\n    at org.spongepowered.asm.mixin.transformer.MixinTransformer.transformClassBytes(MixinTransformer.java:202) ~[sponge-mixin-0.11.4+mixin.0.8.5.jar:0.11.4+mixin.0.8.5]\n    at net.fabricmc.loader.impl.launch.knot.KnotClassDelegate.getPostMixinClassByteArray(KnotClassDelegate.java:413) ~[fabric-loader-0.14.6.jar:?]\n    at net.fabricmc.loader.impl.launch.knot.KnotClassDelegate.tryLoadClass(KnotClassDelegate.java:322) ~[fabric-loader-0.14.6.jar:?]\n    at net.fabricmc.loader.impl.launch.knot.KnotClassDelegate.loadClass(KnotClassDelegate.java:218) ~[fabric-loader-0.14.6.jar:?]\n    at net.fabricmc.loader.impl.launch.knot.KnotClassLoader.loadClass(KnotClassLoader.java:145) ~[fabric-loader-0.14.6.jar:?]\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[?:?]\n    at net.minecraft.block.Blocks.&lt;clinit&gt;(Blocks.java:470) ~[minecraft-project-@-merged-named.jar:?]\n    at net.minecraft.world.gen.carver.CarverDebugConfig.&lt;clinit&gt;(CarverDebugConfig.java:14) ~[minecraft-project-@-merged-named.jar:?]\n    at net.minecraft.world.gen.carver.CarverConfig.method_33968(CarverConfig.java:18) ~[minecraft-project-@-merged-named.jar:?]\n    at com.mojang.serialization.codecs.RecordCodecBuilder.mapCodec(RecordCodecBuilder.java:76) ~[datafixerupper-4.1.27.jar:?]\n    at net.minecraft.world.gen.carver.CarverConfig.&lt;clinit&gt;(CarverConfig.java:18) ~[minecraft-project-@-merged-named.jar:?]\n    at net.minecraft.world.gen.carver.Carver.&lt;clinit&gt;(Carver.java:55) ~[minecraft-project-@-merged-named.jar:?]\n    at net.minecraft.world.gen.carver.ConfiguredCarvers.&lt;clinit&gt;(ConfiguredCarvers.java:30) ~[minecraft-project-@-merged-named.jar:?]\n    at net.minecraft.util.registry.BuiltinRegistries.method_30572(BuiltinRegistries.java:57) ~[minecraft-project-@-merged-named.jar:?]\n    at net.minecraft.util.registry.BuiltinRegistries.method_30566(BuiltinRegistries.java:107) ~[minecraft-project-@-merged-named.jar:?]\n    at java.util.LinkedHashMap.forEach(LinkedHashMap.java:721) ~[?:?]\n    at net.minecraft.util.registry.BuiltinRegistries.&lt;clinit&gt;(BuiltinRegistries.java:106) ~[minecraft-project-@-merged-named.jar:?]\n    at net.minecraft.util.registry.Registry.&lt;clinit&gt;(Registry.java:518) ~[minecraft-project-@-merged-named.jar:?]\n    at net.minecraft.Bootstrap.initialize(Bootstrap.java:51) ~[minecraft-project-@-merged-named.jar:?]\n    at net.minecraft.client.main.Main.main(Main.java:147) ~[minecraft-project-@-merged-named.jar:?]\n    at net.fabricmc.loader.impl.game.minecraft.MinecraftGameProvider.launch(MinecraftGameProvider.java:460) ~[fabric-loader-0.14.6.jar:?]\n    ... 3 more\nCaused by: org.spongepowered.asm.mixin.injection.throwables.InjectionError: Critical injection failure: Redirector tickMovement()V in modid.mixins.json:ExampleMixin from mod modid failed injection check, (0/1) succeeded. Scanned 1 target(s). No refMap loaded.\n    at org.spongepowered.asm.mixin.injection.struct.InjectionInfo.postInject(InjectionInfo.java:468) ~[sponge-mixin-0.11.4+mixin.0.8.5.jar:0.11.4+mixin.0.8.5]\n    at org.spongepowered.asm.mixin.transformer.MixinTargetContext.applyInjections(MixinTargetContext.java:1385) ~[sponge-mixin-0.11.4+mixin.0.8.5.jar:0.11.4+mixin.0.8.5]\n    at org.spongepowered.asm.mixin.transformer.MixinApplicatorStandard.applyInjections(MixinApplicatorStandard.java:1052) ~[sponge-mixin-0.11.4+mixin.0.8.5.jar:0.11.4+mixin.0.8.5]\n    at org.spongepowered.asm.mixin.transformer.MixinApplicatorStandard.applyMixin(MixinApplicatorStandard.java:400) ~[sponge-mixin-0.11.4+mixin.0.8.5.jar:0.11.4+mixin.0.8.5]\n    at org.spongepowered.asm.mixin.transformer.MixinApplicatorStandard.apply(MixinApplicatorStandard.java:325) ~[sponge-mixin-0.11.4+mixin.0.8.5.jar:0.11.4+mixin.0.8.5]\n    at org.spongepowered.asm.mixin.transformer.TargetClassContext.apply(TargetClassContext.java:421) ~[sponge-mixin-0.11.4+mixin.0.8.5.jar:0.11.4+mixin.0.8.5]\n    at org.spongepowered.asm.mixin.transformer.TargetClassContext.applyMixins(TargetClassContext.java:403) ~[sponge-mixin-0.11.4+mixin.0.8.5.jar:0.11.4+mixin.0.8.5]\n    at org.spongepowered.asm.mixin.transformer.MixinProcessor.applyMixins(MixinProcessor.java:363) ~[sponge-mixin-0.11.4+mixin.0.8.5.jar:0.11.4+mixin.0.8.5]\n    at org.spongepowered.asm.mixin.transformer.MixinTransformer.transformClass(MixinTransformer.java:234) ~[sponge-mixin-0.11.4+mixin.0.8.5.jar:0.11.4+mixin.0.8.5]\n    at org.spongepowered.asm.mixin.transformer.MixinTransformer.transformClassBytes(MixinTransformer.java:202) ~[sponge-mixin-0.11.4+mixin.0.8.5.jar:0.11.4+mixin.0.8.5]\n    at net.fabricmc.loader.impl.launch.knot.KnotClassDelegate.getPostMixinClassByteArray(KnotClassDelegate.java:413) ~[fabric-loader-0.14.6.jar:?]\n    at net.fabricmc.loader.impl.launch.knot.KnotClassDelegate.tryLoadClass(KnotClassDelegate.java:322) ~[fabric-loader-0.14.6.jar:?]\n    at net.fabricmc.loader.impl.launch.knot.KnotClassDelegate.loadClass(KnotClassDelegate.java:218) ~[fabric-loader-0.14.6.jar:?]\n    at net.fabricmc.loader.impl.launch.knot.KnotClassLoader.loadClass(KnotClassLoader.java:145) ~[fabric-loader-0.14.6.jar:?]\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[?:?]\n    at net.minecraft.block.Blocks.&lt;clinit&gt;(Blocks.java:470) ~[minecraft-project-@-merged-named.jar:?]\n    at net.minecraft.world.gen.carver.CarverDebugConfig.&lt;clinit&gt;(CarverDebugConfig.java:14) ~[minecraft-project-@-merged-named.jar:?]\n    at net.minecraft.world.gen.carver.CarverConfig.method_33968(CarverConfig.java:18) ~[minecraft-project-@-merged-named.jar:?]\n    at com.mojang.serialization.codecs.RecordCodecBuilder.mapCodec(RecordCodecBuilder.java:76) ~[datafixerupper-4.1.27.jar:?]\n    at net.minecraft.world.gen.carver.CarverConfig.&lt;clinit&gt;(CarverConfig.java:18) ~[minecraft-project-@-merged-named.jar:?]\n    at net.minecraft.world.gen.carver.Carver.&lt;clinit&gt;(Carver.java:55) ~[minecraft-project-@-merged-named.jar:?]\n    at net.minecraft.world.gen.carver.ConfiguredCarvers.&lt;clinit&gt;(ConfiguredCarvers.java:30) ~[minecraft-project-@-merged-named.jar:?]\n    at net.minecraft.util.registry.BuiltinRegistries.method_30572(BuiltinRegistries.java:57) ~[minecraft-project-@-merged-named.jar:?]\n    at net.minecraft.util.registry.BuiltinRegistries.method_30566(BuiltinRegistries.java:107) ~[minecraft-project-@-merged-named.jar:?]\n    at java.util.LinkedHashMap.forEach(LinkedHashMap.java:721) ~[?:?]\n    at net.minecraft.util.registry.BuiltinRegistries.&lt;clinit&gt;(BuiltinRegistries.java:106) ~[minecraft-project-@-merged-named.jar:?]\n    at net.minecraft.util.registry.Registry.&lt;clinit&gt;(Registry.java:518) ~[minecraft-project-@-merged-named.jar:?]\n    at net.minecraft.Bootstrap.initialize(Bootstrap.java:51) ~[minecraft-project-@-merged-named.jar:?]\n    at net.minecraft.client.main.Main.main(Main.java:147) ~[minecraft-project-@-merged-named.jar:?]\n    at net.fabricmc.loader.impl.game.minecraft.MinecraftGameProvider.launch(MinecraftGameProvider.java:460) ~[fabric-loader-0.14.6.jar:?]\n    ... 3 more\n\nProcess finished with exit code 1\n</code></pre>\n"},{"tags":["java","android","kotlin","gradle"],"answers":[{"tags":[],"owner":{"account_id":5257724,"reputation":36,"user_id":4200137,"accept_rate":67,"display_name":"Cristopher Ontiveros"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1683798547,"creation_date":1683798547,"answer_id":76226299,"question_id":76150258,"body_markdown":"I had this issue starting a brand new app using the navigation drawer activity. It was frustrating because a brand new project immediately broke To fix, just add an ignore at the bottom of the build.gradle(:app) file and re-sync\r\n\r\n    configurations.implementation {\r\n        exclude group: &#39;org.jetbrains.kotlin&#39;, module: &#39;kotlin-stdlib-jdk8&#39;\r\n    }","title":":app:checkDebugDuplicateClasses&#39; Error building a navigation drawer activity","body":"<p>I had this issue starting a brand new app using the navigation drawer activity. It was frustrating because a brand new project immediately broke To fix, just add an ignore at the bottom of the build.gradle(:app) file and re-sync</p>\n<pre><code>configurations.implementation {\n    exclude group: 'org.jetbrains.kotlin', module: 'kotlin-stdlib-jdk8'\n}\n</code></pre>\n"}],"owner":{"account_id":28476225,"reputation":3,"user_id":21790858,"display_name":"Daniel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76226299,"answer_count":1,"score":0,"last_activity_date":1683798547,"creation_date":1682976139,"question_id":76150258,"body_markdown":"I want to use the template of navigation drawer activity with Java in Android Studio, but when I build it throw the :app:checkDebugDuplicateClasses&#39; Error followed of a lot of lines saying that kotlin classes in module kotlin-stdlib-1.8.10 are duplicated, but I&#39;m using as language Java, not Kotlin, this is a part of the message:\r\n\r\n```\r\nExecution failed for task &#39;:app:checkDebugDuplicateClasses&#39;.\r\n&gt; A failure occurred while executing com.android.build.gradle.internal.tasks.CheckDuplicatesRunnable\r\n   &gt; Duplicate class kotlin.collections.jdk8.CollectionsJDK8Kt found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\r\n     Duplicate class kotlin.internal.jdk7.JDK7PlatformImplementations found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk7-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.21)\r\n     Duplicate class kotlin.internal.jdk7.JDK7PlatformImplementations$ReflectSdkVersion found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk7-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.21)\r\n```\r\nNote: This just happend with navigation drawer activity, empty activity and basic activity work fine and I&#39;ve not added more to the default template.\r\n\r\nA lot of places say that check the dependencies of the build.gradle and check if there are something duplicated, but I already checked it and I don&#39;t have anything duplicated\r\n\r\nPlease I need your help :(","title":":app:checkDebugDuplicateClasses&#39; Error building a navigation drawer activity","body":"<p>I want to use the template of navigation drawer activity with Java in Android Studio, but when I build it throw the :app:checkDebugDuplicateClasses' Error followed of a lot of lines saying that kotlin classes in module kotlin-stdlib-1.8.10 are duplicated, but I'm using as language Java, not Kotlin, this is a part of the message:</p>\n<pre><code>Execution failed for task ':app:checkDebugDuplicateClasses'.\n&gt; A failure occurred while executing com.android.build.gradle.internal.tasks.CheckDuplicatesRunnable\n   &gt; Duplicate class kotlin.collections.jdk8.CollectionsJDK8Kt found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\n     Duplicate class kotlin.internal.jdk7.JDK7PlatformImplementations found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk7-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.21)\n     Duplicate class kotlin.internal.jdk7.JDK7PlatformImplementations$ReflectSdkVersion found in modules kotlin-stdlib-1.8.10 (org.jetbrains.kotlin:kotlin-stdlib:1.8.10) and kotlin-stdlib-jdk7-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.21)\n</code></pre>\n<p>Note: This just happend with navigation drawer activity, empty activity and basic activity work fine and I've not added more to the default template.</p>\n<p>A lot of places say that check the dependencies of the build.gradle and check if there are something duplicated, but I already checked it and I don't have anything duplicated</p>\n<p>Please I need your help :(</p>\n"},{"tags":["java","spring","spring-boot","mapping","mapstruct"],"comments":[{"owner":{"account_id":3052937,"reputation":17914,"user_id":2587166,"accept_rate":83,"display_name":"Luca Basso Ricci"},"score":0,"creation_date":1683800499,"post_id":76226296,"comment_id":134423440,"body_markdown":"use small block and compose them: start writing a `Address map(UserDTO)` and see what happens","body":"use small block and compose them: start writing a <code>Address map(UserDTO)</code> and see what happens"}],"owner":{"account_id":27046603,"reputation":43,"user_id":20600710,"display_name":"Heribert Greinix"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683798537,"creation_date":1683798537,"question_id":76226296,"body_markdown":"I&#39;m fairly new to Java, Spring and MapStruct, so I don&#39;t really know where else to look, but I need to modify a @Mapping I have on a project I&#39;m working on without making it overly complicated.\r\n\r\nSuppose I have two DTO&#39;s:\r\n\r\n    public class UserDTO {\r\n       public String username;\r\n       public int age;\r\n       public List&lt;Hobby&gt; hobbies;\r\n       public String street;\r\n       public int houseNumber;\r\n       public String city;\r\n       public String country;\r\n    }\r\n\r\nand a second one:\r\n\r\n    public class UserExportDTO {\r\n       public String username;\r\n       public int age;\r\n       public List&lt;Hobby&gt; hobbies;\r\n       public Address address;\r\n    }\r\n\r\nwith Address type containing all the above information on the address (street, houseNumber, city, country) and Hobby being some type along the lines of hobbyName and proficiency or something, doesn&#39;t really matter.\r\n\r\nNow I need to map this UserDTO to some super-object containing the UserExportDTO like this:\r\n\r\n    @Mapping( target = &quot;newUser&quot;, source = &quot;user&quot;)\r\n    public abstract SomeSuperObjectContainingUserExportDTO transformDTOs(UserDTO user);\r\n\r\nthe real structure on the project is a tad bit more complicated and involves not just mapping this user, but also some objects on as well in this one mapping.\r\nThis, however, will not map the address. Mapping the whole object one to one would be too much of a hassle, since there&#39;s a list involved and mapping list is also a bit more complicated. Is there a way to map and object and then also specify how to map one of its inner parts? Something like:\r\n\r\n    @Mapping( target = &quot;newUser&quot;, source=&quot;user&quot;)\r\n    @Mapping( target = &quot;newUser.address.street&quot;, source = &quot;user.street&quot;)\r\n    @Mapping( target = &quot;newUser.address.houserNumber&quot;, source = &quot;user.houseNumber&quot;)\r\n    @Mapping( target = &quot;newUser.address.city&quot;, source = &quot;user.city&quot;)\r\n    @Mapping( target = &quot;newUser.address.country&quot;, source = &quot;user.country&quot;)\r\n    public abstract SomeSuperObjectContainingUserExportDTO transformDTOs(UserDTO user);\r\n\r\nWhat I just wrote doesn&#39;t dispose of the original entries of address, it just creates a new address object, so this doesn&#39;t seem right. But...is there something like a simplified way to map an object, and then further map its sub-object?\r\n\r\n","title":"How to map an object and then modify its parts with @Mapping?","body":"<p>I'm fairly new to Java, Spring and MapStruct, so I don't really know where else to look, but I need to modify a @Mapping I have on a project I'm working on without making it overly complicated.</p>\n<p>Suppose I have two DTO's:</p>\n<pre><code>public class UserDTO {\n   public String username;\n   public int age;\n   public List&lt;Hobby&gt; hobbies;\n   public String street;\n   public int houseNumber;\n   public String city;\n   public String country;\n}\n</code></pre>\n<p>and a second one:</p>\n<pre><code>public class UserExportDTO {\n   public String username;\n   public int age;\n   public List&lt;Hobby&gt; hobbies;\n   public Address address;\n}\n</code></pre>\n<p>with Address type containing all the above information on the address (street, houseNumber, city, country) and Hobby being some type along the lines of hobbyName and proficiency or something, doesn't really matter.</p>\n<p>Now I need to map this UserDTO to some super-object containing the UserExportDTO like this:</p>\n<pre><code>@Mapping( target = &quot;newUser&quot;, source = &quot;user&quot;)\npublic abstract SomeSuperObjectContainingUserExportDTO transformDTOs(UserDTO user);\n</code></pre>\n<p>the real structure on the project is a tad bit more complicated and involves not just mapping this user, but also some objects on as well in this one mapping.\nThis, however, will not map the address. Mapping the whole object one to one would be too much of a hassle, since there's a list involved and mapping list is also a bit more complicated. Is there a way to map and object and then also specify how to map one of its inner parts? Something like:</p>\n<pre><code>@Mapping( target = &quot;newUser&quot;, source=&quot;user&quot;)\n@Mapping( target = &quot;newUser.address.street&quot;, source = &quot;user.street&quot;)\n@Mapping( target = &quot;newUser.address.houserNumber&quot;, source = &quot;user.houseNumber&quot;)\n@Mapping( target = &quot;newUser.address.city&quot;, source = &quot;user.city&quot;)\n@Mapping( target = &quot;newUser.address.country&quot;, source = &quot;user.country&quot;)\npublic abstract SomeSuperObjectContainingUserExportDTO transformDTOs(UserDTO user);\n</code></pre>\n<p>What I just wrote doesn't dispose of the original entries of address, it just creates a new address object, so this doesn't seem right. But...is there something like a simplified way to map an object, and then further map its sub-object?</p>\n"},{"tags":["java","echo","java-home"],"comments":[{"owner":{"account_id":3415784,"reputation":60457,"user_id":2864740,"accept_rate":78,"display_name":"user2864740"},"score":0,"creation_date":1514331476,"post_id":47984786,"comment_id":82938504,"body_markdown":"[Change it to be relevant..?](https://www.java.com/en/download/help/path.xml) It is probably a System Environment Variable.","body":"<a href=\"https://www.java.com/en/download/help/path.xml\" rel=\"nofollow noreferrer\">Change it to be relevant..?</a> It is probably a System Environment Variable."},{"owner":{"account_id":12567995,"reputation":111,"user_id":9143155,"display_name":"Rednaxelus"},"score":0,"creation_date":1514331523,"post_id":47984786,"comment_id":82938514,"body_markdown":"I did change it. Didn&#39;t I?","body":"I did change it. Didn&#39;t I?"},{"owner":{"account_id":12567995,"reputation":111,"user_id":9143155,"display_name":"Rednaxelus"},"score":0,"creation_date":1514332529,"post_id":47984786,"comment_id":82938683,"body_markdown":"Restarting didn&#39;t work. Windows still thinks JAVA_HOME is set to ...\\jre1.8.0_121 instead of C:\\Program Files\\Java\\jdk-9.0.1 to which I set it in the Systemvariables","body":"Restarting didn&#39;t work. Windows still thinks JAVA_HOME is set to ...\\jre1.8.0_121 instead of C:\\Program Files\\Java\\jdk-9.0.1 to which I set it in the Systemvariables"},{"owner":{"account_id":3415784,"reputation":60457,"user_id":2864740,"accept_rate":78,"display_name":"user2864740"},"score":0,"creation_date":1514332684,"post_id":47984786,"comment_id":82938714,"body_markdown":"Is it still in the System Variables after a restart..? If so, that&#39;s odd. Something *has* to be setting it somehow.","body":"Is it still in the System Variables after a restart..? If so, that&#39;s odd. Something <i>has</i> to be setting it somehow."},{"owner":{"account_id":12567995,"reputation":111,"user_id":9143155,"display_name":"Rednaxelus"},"score":0,"creation_date":1514332754,"post_id":47984786,"comment_id":82938733,"body_markdown":"Yes it is still set to everything like in the picture.","body":"Yes it is still set to everything like in the picture."},{"owner":{"account_id":3415784,"reputation":60457,"user_id":2864740,"accept_rate":78,"display_name":"user2864740"},"score":0,"creation_date":1514332963,"post_id":47984786,"comment_id":82938766,"body_markdown":"I removed non-relevant comments and updated the question for clarity. Good luck :}","body":"I removed non-relevant comments and updated the question for clarity. Good luck :}"},{"owner":{"account_id":1994140,"reputation":2375,"user_id":1787434,"accept_rate":80,"display_name":"the_storyteller"},"score":0,"creation_date":1514333156,"post_id":47984786,"comment_id":82938802,"body_markdown":"Have you restarted your cmd prompt window since you set the variable? If you haven&#39;t restarted your terminal, the changes won&#39;t have been loaded.","body":"Have you restarted your cmd prompt window since you set the variable? If you haven&#39;t restarted your terminal, the changes won&#39;t have been loaded."},{"owner":{"account_id":12567995,"reputation":111,"user_id":9143155,"display_name":"Rednaxelus"},"score":1,"creation_date":1514333252,"post_id":47984786,"comment_id":82938826,"body_markdown":"Thank you very much user2864740  :) @the_storyteller Yes I restarted Windows","body":"Thank you very much user2864740  :) @the_storyteller Yes I restarted Windows"},{"owner":{"account_id":10133128,"reputation":172,"user_id":7487544,"accept_rate":43,"display_name":"Greg Artisi"},"score":0,"creation_date":1514333533,"post_id":47984786,"comment_id":82938884,"body_markdown":"Dis you delete all r&#233;f&#233;rences to th&#233; Old path on th&#233; environnent Var?","body":"Dis you delete all r&#233;f&#233;rences to th&#233; Old path on th&#233; environnent Var?"},{"owner":{"account_id":12567995,"reputation":111,"user_id":9143155,"display_name":"Rednaxelus"},"score":0,"creation_date":1514333864,"post_id":47984786,"comment_id":82938938,"body_markdown":"@GregArtisi I have no more references to the old path in my Sytemvariables. Do you mean this with &quot;environnent Var&quot;?","body":"@GregArtisi I have no more references to the old path in my Sytemvariables. Do you mean this with &quot;environnent Var&quot;?"},{"owner":{"account_id":3415784,"reputation":60457,"user_id":2864740,"accept_rate":78,"display_name":"user2864740"},"score":0,"creation_date":1514492294,"post_id":47984786,"comment_id":82996497,"body_markdown":"@Rednaxelus Post how the issue was solved *as an Answer* and then accept it (there is no reason to use &quot;SOLVED:&quot; on SO :) This will make it easier for others to find if they have a similar problem.","body":"@Rednaxelus Post how the issue was solved <i>as an Answer</i> and then accept it (there is no reason to use &quot;SOLVED:&quot; on SO :) This will make it easier for others to find if they have a similar problem."}],"answers":[{"tags":[],"owner":{"account_id":12567995,"reputation":111,"user_id":9143155,"display_name":"Rednaxelus"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1514590709,"creation_date":1514590709,"answer_id":48029576,"question_id":47984786,"body_markdown":"**SOLUTION:** I had a different local User Variable set for JAVA_HOME but I didn&#39;t see, and couldn&#39;t access it because I needed administration rights to view them. When I accessed through administration rights I only saw the variables for the Administrator User.","title":"&quot;echo %JAVA_HOME%&quot; returns wrong path even though System JAVA_HOME Environment variable set","body":"<p><strong>SOLUTION:</strong> I had a different local User Variable set for JAVA_HOME but I didn't see, and couldn't access it because I needed administration rights to view them. When I accessed through administration rights I only saw the variables for the Administrator User.</p>\n"},{"tags":[],"owner":{"account_id":20755373,"reputation":1,"user_id":15241939,"display_name":"proDucktive Mary"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1683798120,"creation_date":1683734932,"answer_id":76220578,"question_id":47984786,"body_markdown":"For when you have a corporate/job laptop which is kinda restricted for other users;\r\nI went into the Registry editor, went into every user in `HKEY_USERS` and checked / changed the paths there accordingly.","title":"&quot;echo %JAVA_HOME%&quot; returns wrong path even though System JAVA_HOME Environment variable set","body":"<p>For when you have a corporate/job laptop which is kinda restricted for other users;\nI went into the Registry editor, went into every user in <code>HKEY_USERS</code> and checked / changed the paths there accordingly.</p>\n"}],"owner":{"account_id":12567995,"reputation":111,"user_id":9143155,"display_name":"Rednaxelus"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3775,"favorite_count":0,"down_vote_count":2,"up_vote_count":4,"accepted_answer_id":48029576,"answer_count":2,"score":2,"last_activity_date":1683798120,"creation_date":1514331380,"question_id":47984786,"body_markdown":"As far as I can tell my System `JAVA_HOME` Variables are set correctly, but `echo %JAVA_HOME%` returns a wrong path (it is for an old version of Java) even after I restarted windows.\r\n\r\n[![Here are my environment settings][1]][1]\r\n\r\nAnother program also thinks `JAVA_HOME` is set to this wrong path.\r\n\r\nI&#39;m using Windows 10.\r\n\r\n  [1]: https://i.stack.imgur.com/0Cwtm.jpg","title":"&quot;echo %JAVA_HOME%&quot; returns wrong path even though System JAVA_HOME Environment variable set","body":"<p>As far as I can tell my System <code>JAVA_HOME</code> Variables are set correctly, but <code>echo %JAVA_HOME%</code> returns a wrong path (it is for an old version of Java) even after I restarted windows.</p>\n\n<p><a href=\"https://i.stack.imgur.com/0Cwtm.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0Cwtm.jpg\" alt=\"Here are my environment settings\"></a></p>\n\n<p>Another program also thinks <code>JAVA_HOME</code> is set to this wrong path.</p>\n\n<p>I'm using Windows 10.</p>\n"},{"tags":["java","android","wait","zxing"],"answers":[{"comments":[{"owner":{"account_id":4740474,"reputation":820,"user_id":3833411,"accept_rate":80,"display_name":"Vlad"},"score":0,"creation_date":1432381286,"post_id":30412201,"comment_id":48910797,"body_markdown":"Thanks. How can I do this? I am starting the scanner with scanIntegrator.initiateScan(); not with the startActivity(). ?","body":"Thanks. How can I do this? I am starting the scanner with scanIntegrator.initiateScan(); not with the startActivity(). ?"},{"owner":{"account_id":5190495,"reputation":4387,"user_id":4153589,"accept_rate":38,"display_name":"amodkanthe"},"score":0,"creation_date":1432381428,"post_id":30412201,"comment_id":48910838,"body_markdown":"search for samples on zxing you will get some idea","body":"search for samples on zxing you will get some idea"}],"tags":[],"owner":{"account_id":5190495,"reputation":4387,"user_id":4153589,"accept_rate":38,"display_name":"amodkanthe"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1432381060,"creation_date":1432381060,"answer_id":30412201,"question_id":30412119,"body_markdown":"use startActivity for result like below\r\n\r\n    Intent i = new Intent(this, SecondActivity.class);\r\n    startActivityForResult(i, 1);","title":"How to make activity wait for zxing scanner to finish?","body":"<p>use startActivity for result like below</p>\n\n<pre><code>Intent i = new Intent(this, SecondActivity.class);\nstartActivityForResult(i, 1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5830025,"reputation":1498,"user_id":4594902,"accept_rate":65,"display_name":"Ilja KO"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1432384653,"creation_date":1432384653,"answer_id":30412764,"question_id":30412119,"body_markdown":"If you run the scan in a Thread you could join the Thread so you get back to your main Programm thread when the scan is done successfully or not  (shouldn&#39;t be the UI thread otherwise you would block it)","title":"How to make activity wait for zxing scanner to finish?","body":"<p>If you run the scan in a Thread you could join the Thread so you get back to your main Programm thread when the scan is done successfully or not  (shouldn't be the UI thread otherwise you would block it)</p>\n"}],"owner":{"account_id":4740474,"reputation":820,"user_id":3833411,"accept_rate":80,"display_name":"Vlad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":628,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1683798115,"creation_date":1432380584,"question_id":30412119,"body_markdown":"Within my app, I have an activity which uses zxing barcode scanner. All of the code I want to execute after the scan I have to move to `onActivityResult(...)`, because the program continues execution with the lines after `canIntegrator.initiateScan();` even before scanner finishes. \r\n\r\nIs there a way to make application wait for zxing to finish before continuing execution?","title":"How to make activity wait for zxing scanner to finish?","body":"<p>Within my app, I have an activity which uses zxing barcode scanner. All of the code I want to execute after the scan I have to move to <code>onActivityResult(...)</code>, because the program continues execution with the lines after <code>canIntegrator.initiateScan();</code> even before scanner finishes. </p>\n\n<p>Is there a way to make application wait for zxing to finish before continuing execution?</p>\n"},{"tags":["java","unit-testing","equals"],"answers":[{"comments":[{"owner":{"account_id":1086235,"reputation":326,"user_id":1081886,"accept_rate":91,"display_name":"karmapolice"},"score":1,"creation_date":1683797199,"post_id":76225837,"comment_id":134422693,"body_markdown":"Thank you. I tend to forget that assertions are used outside testing code too. And it looks like Sonar&#39;s advice is for production, considering the example. The trick worked well and it makes sense.","body":"Thank you. I tend to forget that assertions are used outside testing code too. And it looks like Sonar&#39;s advice is for production, considering the example. The trick worked well and it makes sense."}],"tags":[],"owner":{"account_id":404649,"reputation":57192,"user_id":773113,"accept_rate":72,"display_name":"Mike Nakis"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1683795496,"creation_date":1683795496,"answer_id":76225837,"question_id":76225482,"body_markdown":"The advice given by the warning is valid for production code. Testing code is a special case, where you are deliberately doing something wrong in order to test something. So, the warning is perfectly legitimate, but it just so happens to be inapplicable in testing code.\r\n\r\nYou can safely suppress the warning in that specific line of test code ***only***.\r\n\r\nAlternatively, instead of suppressing the warning you can use a trick to fool the compiler (and/or the IDE) so that the warning is not issued. For example, instead of `String ns2Str = &quot;1.2.3.4.5&quot;;` you may do `Object ns2Str = &quot;1.2.3.4.5&quot;;` This will probably get rid of the warning.","title":"Assertions about comparing different types: redundant and silly?","body":"<p>The advice given by the warning is valid for production code. Testing code is a special case, where you are deliberately doing something wrong in order to test something. So, the warning is perfectly legitimate, but it just so happens to be inapplicable in testing code.</p>\n<p>You can safely suppress the warning in that specific line of test code <em><strong>only</strong></em>.</p>\n<p>Alternatively, instead of suppressing the warning you can use a trick to fool the compiler (and/or the IDE) so that the warning is not issued. For example, instead of <code>String ns2Str = &quot;1.2.3.4.5&quot;;</code> you may do <code>Object ns2Str = &quot;1.2.3.4.5&quot;;</code> This will probably get rid of the warning.</p>\n"},{"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1683817610,"post_id":76226216,"comment_id":134427648,"body_markdown":"I would debate your claim about instanceof.  Polymorphism dictates that subclass instances should preserve equality behavior.","body":"I would debate your claim about instanceof.  Polymorphism dictates that subclass instances should preserve equality behavior."},{"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"score":0,"creation_date":1683842666,"post_id":76226216,"comment_id":134432826,"body_markdown":"@VGR – With `instanceof &lt;thisClass&gt;` in `equals()`, `v1.equals( v2 )` can be true, but `v2.equals( v1 )` is always false. And that hurts the requirements for implementations of `equals()`.","body":"@VGR – With <code>instanceof &lt;thisClass&gt;</code> in <code>equals()</code>, <code>v1.equals( v2 )</code> can be true, but <code>v2.equals( v1 )</code> is always false. And that hurts the requirements for implementations of <code>equals()</code>."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1683845235,"post_id":76226216,"comment_id":134433132,"body_markdown":"Not if v2 inherits the same equals method.","body":"Not if v2 inherits the same equals method."},{"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"score":0,"creation_date":1683854072,"post_id":76226216,"comment_id":134434025,"body_markdown":"@VGR – If the children inherits the `equals()` method from the superclass, a child can be equal to a parent. Have fun to explain that in the documentation.","body":"@VGR – If the children inherits the <code>equals()</code> method from the superclass, a child can be equal to a parent. Have fun to explain that in the documentation."},{"owner":{"account_id":1119690,"reputation":15787,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"score":0,"creation_date":1683929478,"post_id":76226216,"comment_id":134447444,"body_markdown":"@VGR and tquadrat — Whether a child should be able to be equal its parent depends on the use case and who you&#39;re asking.  For instance, a `LinkedHashSet` can equal a `HashSet`, since they use the definition of equality mandated by the `Set` interface.  And for standard data objects (such as discussed in this answer), there&#39;s arguments to be had both ways of whether to allow subclasses to be equal to their parents.  See [Any reason to prefer getClass() over instanceof when generating .equals()?](https://stackoverflow.com/q/596462/1108305) for arguments both ways.","body":"@VGR and tquadrat — Whether a child should be able to be equal its parent depends on the use case and who you&#39;re asking.  For instance, a <code>LinkedHashSet</code> can equal a <code>HashSet</code>, since they use the definition of equality mandated by the <code>Set</code> interface.  And for standard data objects (such as discussed in this answer), there&#39;s arguments to be had both ways of whether to allow subclasses to be equal to their parents.  See <a href=\"https://stackoverflow.com/q/596462/1108305\">Any reason to prefer getClass() over instanceof when generating .equals()?</a> for arguments both ways."},{"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"score":0,"creation_date":1683941621,"post_id":76226216,"comment_id":134448446,"body_markdown":"@M.Justin – Of course you can define use cases where a child can be equal to a parent, but you still have to make sure that the requirements from https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object) are met. And your `Set` sample is weak: although `LinkedHashSet` is in fact a child of `HashSet`, they are semantically siblings – also a `TreeSet` instance can be equal to a `LinkedHashSet` instance (see https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Set.html#equals(java.lang.Object)).","body":"@M.Justin – Of course you can define use cases where a child can be equal to a parent, but you still have to make sure that the requirements from <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/17/docs/api/java.base/java/la&zwnj;&#8203;ng/&hellip;</a> are met. And your <code>Set</code> sample is weak: although <code>LinkedHashSet</code> is in fact a child of <code>HashSet</code>, they are semantically siblings – also a <code>TreeSet</code> instance can be equal to a <code>LinkedHashSet</code> instance (see <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Set.html#equals(java.lang.Object)\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/17/docs/api/java.base/java/ut&zwnj;&#8203;il/&hellip;</a>)."}],"tags":[],"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"comment_count":6,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683797984,"creation_date":1683797984,"answer_id":76226216,"question_id":76225482,"body_markdown":"First, in your implementation of `Object::equals`, the use of `instanceof` and the comparison of `Object::getClass` for `this` and `other` are not equivalent!\r\n\r\n```Java\r\npublic class Parent {}\r\npublic class Child extends Parent {}\r\n\r\nfinal var v1 = new Parent();\r\nfinal var v2 = new Child();\r\n\r\nfinal var check1 = v2 instanceof Parent; // is true\r\nfinal var check2 = v2.getClass().equals( v1.getClass() ); // is false\r\nfinal var check2 = v2.getClass().equals( Parent.class ); // is false\r\n```\r\n\r\nFor the implementation of `equals()`, this makes a significant difference. Usually, you should use `instanceof` in implementation of `equals()` only for `final` classes.\r\n\r\n---\r\n\r\nThe warnings you got from your tools are because these know the result of the comparisons already *before the execution* of your program, and therefore they assume that the respective code is at least obsolete, if not wrong. The tools did not look into your implementation of `equals()`, but they assume a proper implementation, so they also assume that an instance of `NumeroSeccion` could never be equal to an instance of `String`.","title":"Assertions about comparing different types: redundant and silly?","body":"<p>First, in your implementation of <code>Object::equals</code>, the use of <code>instanceof</code> and the comparison of <code>Object::getClass</code> for <code>this</code> and <code>other</code> are not equivalent!</p>\n<pre><code>public class Parent {}\npublic class Child extends Parent {}\n\nfinal var v1 = new Parent();\nfinal var v2 = new Child();\n\nfinal var check1 = v2 instanceof Parent; // is true\nfinal var check2 = v2.getClass().equals( v1.getClass() ); // is false\nfinal var check2 = v2.getClass().equals( Parent.class ); // is false\n</code></pre>\n<p>For the implementation of <code>equals()</code>, this makes a significant difference. Usually, you should use <code>instanceof</code> in implementation of <code>equals()</code> only for <code>final</code> classes.</p>\n<hr />\n<p>The warnings you got from your tools are because these know the result of the comparisons already <em>before the execution</em> of your program, and therefore they assume that the respective code is at least obsolete, if not wrong. The tools did not look into your implementation of <code>equals()</code>, but they assume a proper implementation, so they also assume that an instance of <code>NumeroSeccion</code> could never be equal to an instance of <code>String</code>.</p>\n"}],"owner":{"account_id":1086235,"reputation":326,"user_id":1081886,"accept_rate":91,"display_name":"karmapolice"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":141,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76225837,"answer_count":2,"score":1,"last_activity_date":1683797984,"creation_date":1683793006,"question_id":76225482,"body_markdown":"So I have this Java code that overrides equals for a class:\r\n\r\n    @Override public boolean equals(Object o) {\r\n\t\tif (o instanceof NumeroSeccion) {\r\n\t\t\tNumeroSeccion numSec = (NumeroSeccion) o;\r\n\t\t\treturn Arrays.equals(this.valor, numSec.valor);\r\n\t\t} else {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\r\nwhich basically follows the common rule about checking if both objects are of the same class before doing anything else. Others prefer using getClass(), but the idea is the same.\r\n\r\nNow I wrote some tests for it, including:\r\n\r\n    void notEqualsOtherClass() {\r\n        NumeroSeccion ns1 = new NumeroSeccion(&quot;1.2.3.4.5&quot;);\r\n        String ns2Str = &quot;1.2.3.4.5&quot;;\r\n        assertNotEquals(ns1, ns2Str);\r\n    }\r\n\r\nAccording to IntelliJ IDEA, this is &quot;possibly redundant&quot;:\r\n\r\n&gt; Possibly redundant assertion: incompatible types are compared &#39;NumeroSeccion&#39; and &#39;String&#39;\r\n\r\n[According to Sonar static code analysis][1], this is a &quot;silly equality check&quot;:\r\n\r\n&gt; Silly equality checks should not be made. Comparisons of dissimilar types will always return false. The comparison and all its dependent code can simply be removed. This includes: comparing unrelated classes.\r\n\r\nIs it actually redundant checking class types or add a test for this check, or are all these tools giving bad advice?\r\n\r\n  [1]: https://rules.sonarsource.com/java/tag/unused/RSPEC-2159","title":"Assertions about comparing different types: redundant and silly?","body":"<p>So I have this Java code that overrides equals for a class:</p>\n<pre><code>@Override public boolean equals(Object o) {\n    if (o instanceof NumeroSeccion) {\n        NumeroSeccion numSec = (NumeroSeccion) o;\n        return Arrays.equals(this.valor, numSec.valor);\n    } else {\n        return false;\n    }\n}\n</code></pre>\n<p>which basically follows the common rule about checking if both objects are of the same class before doing anything else. Others prefer using getClass(), but the idea is the same.</p>\n<p>Now I wrote some tests for it, including:</p>\n<pre><code>void notEqualsOtherClass() {\n    NumeroSeccion ns1 = new NumeroSeccion(&quot;1.2.3.4.5&quot;);\n    String ns2Str = &quot;1.2.3.4.5&quot;;\n    assertNotEquals(ns1, ns2Str);\n}\n</code></pre>\n<p>According to IntelliJ IDEA, this is &quot;possibly redundant&quot;:</p>\n<blockquote>\n<p>Possibly redundant assertion: incompatible types are compared 'NumeroSeccion' and 'String'</p>\n</blockquote>\n<p><a href=\"https://rules.sonarsource.com/java/tag/unused/RSPEC-2159\" rel=\"nofollow noreferrer\">According to Sonar static code analysis</a>, this is a &quot;silly equality check&quot;:</p>\n<blockquote>\n<p>Silly equality checks should not be made. Comparisons of dissimilar types will always return false. The comparison and all its dependent code can simply be removed. This includes: comparing unrelated classes.</p>\n</blockquote>\n<p>Is it actually redundant checking class types or add a test for this check, or are all these tools giving bad advice?</p>\n"},{"tags":["java","maven","jar","dependencies","pom.xml"],"comments":[{"owner":{"account_id":4901543,"reputation":956,"user_id":4903440,"display_name":"Praveen E"},"score":1,"creation_date":1577438847,"post_id":59498547,"comment_id":105170028,"body_markdown":"hey .. try the command &#39;maven dependency:tree&#39;. This way you will know if some other dependency in your project is the root cause for this issue. If you find 4.2.2 in the dependency tree, then in pom.xml exclude that version","body":"hey .. try the command &#39;maven dependency:tree&#39;. This way you will know if some other dependency in your project is the root cause for this issue. If you find 4.2.2 in the dependency tree, then in pom.xml exclude that version"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1577438857,"post_id":59498547,"comment_id":105170034,"body_markdown":"@Sarjit The `.m2` folder only holds a cache of all downloaded versions. There might be multiple versions of one library present in `.m2`. This is intended behaviour.","body":"@Sarjit The <code>.m2</code> folder only holds a cache of all downloaded versions. There might be multiple versions of one library present in <code>.m2</code>. This is intended behaviour."},{"owner":{"account_id":6401714,"reputation":5744,"user_id":4964136,"accept_rate":100,"display_name":"Vishwa Ratna"},"score":0,"creation_date":1577438949,"post_id":59498547,"comment_id":105170063,"body_markdown":"Delete the files inside .m2 folder and then run `mvn -U clean install`","body":"Delete the files inside .m2 folder and then run <code>mvn -U clean install</code>"},{"owner":{"account_id":5564614,"reputation":107,"user_id":4412392,"display_name":"Spiros batzio"},"score":0,"creation_date":1577439174,"post_id":59498547,"comment_id":105170135,"body_markdown":"I&#39; ve just tried adding the above dependencies and maven correctly download 4.5.0 version. Take a look if you got other dependencies that refer to the wrong version. It&#39; s also perfectly safe to delete your whole .m2 directory and then rebuild your project (**In this case all of your project will need to download their dependencies again of course**)","body":"I&#39; ve just tried adding the above dependencies and maven correctly download 4.5.0 version. Take a look if you got other dependencies that refer to the wrong version. It&#39; s also perfectly safe to delete your whole .m2 directory and then rebuild your project (<b>In this case all of your project will need to download their dependencies again of course</b>)"},{"owner":{"account_id":11458293,"reputation":75,"user_id":8398655,"display_name":"Bins"},"score":0,"creation_date":1577439608,"post_id":59498547,"comment_id":105170277,"body_markdown":"@Sarjit I checked m2 folder and there exist version 4.5.0 and 4.2.2. However, my project will choose the latter.","body":"@Sarjit I checked m2 folder and there exist version 4.5.0 and 4.2.2. However, my project will choose the latter."},{"owner":{"account_id":2203408,"reputation":5012,"user_id":1947216,"display_name":"mentallurg"},"score":3,"creation_date":1577441359,"post_id":59498547,"comment_id":105170980,"body_markdown":"Show the whole pom.xml.","body":"Show the whole pom.xml."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1577444329,"post_id":59498547,"comment_id":105172024,"body_markdown":"Please show the full pom file otherwise it&#39;s impossible to guess what&#39;s wrong.","body":"Please show the full pom file otherwise it&#39;s impossible to guess what&#39;s wrong."},{"owner":{"account_id":17269544,"reputation":799,"user_id":12505572,"display_name":"Sarjit"},"score":1,"creation_date":1577447013,"post_id":59498547,"comment_id":105172982,"body_markdown":"maven dependency:tree cmd output or In eclipse there&#39;s a tab on the POM file editor labeled &quot;Dependency Hierarchy&quot; check for transitive dependency","body":"maven dependency:tree cmd output or In eclipse there&#39;s a tab on the POM file editor labeled &quot;Dependency Hierarchy&quot; check for transitive dependency"}],"answers":[{"tags":[],"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1577466133,"creation_date":1577466133,"answer_id":59503829,"question_id":59498547,"body_markdown":"Look at the output of `mvn dependency:list`. It will list you all dependencies of the project with their respective versions.\r\n\r\nThis is the truth. If your Eclipse or IntelliJ or whatever list something else, they are most certainly wrong/outdated.","title":"Maven using wrong dependency version","body":"<p>Look at the output of <code>mvn dependency:list</code>. It will list you all dependencies of the project with their respective versions.</p>\n\n<p>This is the truth. If your Eclipse or IntelliJ or whatever list something else, they are most certainly wrong/outdated.</p>\n"}],"owner":{"account_id":11458293,"reputation":75,"user_id":8398655,"display_name":"Bins"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2279,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683797933,"creation_date":1577438620,"question_id":59498547,"body_markdown":"The dependency version I want to use is 4.5.0 as specified in my **pom.xml**\r\n```xml\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;net.java.dev.jna&lt;/groupId&gt;\r\n  &lt;artifactId&gt;jna&lt;/artifactId&gt;\r\n  &lt;version&gt;4.5.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;net.java.dev.jna&lt;/groupId&gt;\r\n  &lt;artifactId&gt;jna-platform&lt;/artifactId&gt;\r\n  &lt;version&gt;4.5.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nHowever, when I run `mvn clean install -DskipTest=true`. Maven will download and use version 4.2.2.\r\n \r\n[libraries][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3iGBT.png\r\n  [2]: https://i.stack.imgur.com/LmK15.png\r\n\r\nI tried searching in the entire project thinking maybe there are other files(*in this case pom.xml*) that specify the version to 4.2.2 but found nothing.\r\n\r\nHas anybody encountered this issue before? I&#39;m new to Java and I can&#39;t think of any other reason as to why this is happening.\r\n","title":"Maven using wrong dependency version","body":"<p>The dependency version I want to use is 4.5.0 as specified in my <strong>pom.xml</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;net.java.dev.jna&lt;/groupId&gt;\n  &lt;artifactId&gt;jna&lt;/artifactId&gt;\n  &lt;version&gt;4.5.0&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n  &lt;groupId&gt;net.java.dev.jna&lt;/groupId&gt;\n  &lt;artifactId&gt;jna-platform&lt;/artifactId&gt;\n  &lt;version&gt;4.5.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>However, when I run <code>mvn clean install -DskipTest=true</code>. Maven will download and use version 4.2.2.</p>\n<p><a href=\"https://i.stack.imgur.com/LmK15.png\" rel=\"nofollow noreferrer\">libraries</a></p>\n<p>I tried searching in the entire project thinking maybe there are other files(<em>in this case pom.xml</em>) that specify the version to 4.2.2 but found nothing.</p>\n<p>Has anybody encountered this issue before? I'm new to Java and I can't think of any other reason as to why this is happening.</p>\n"},{"tags":["java","android"],"owner":{"account_id":21865216,"reputation":186,"user_id":16155502,"display_name":"ali"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1683797676,"creation_date":1683793178,"question_id":76225513,"body_markdown":"I use the following code to save the content of the layout in a png file. But when the content of the layout changes, I call this function again and save it in a new file. I see that it has saved the previous content.\r\n\r\n    picLayout.setDrawingCacheEnabled(true);\r\n    picLayout.buildDrawingCache();\r\n    Bitmap bmCA = picLayout.getDrawingCache();\r\n    \r\n    File file = new File(Environment.getExternalStorageDirectory(),folder_1_n);\r\n    if (!file.exists()){\r\n        file.mkdirs();}\r\n    \r\n        if (file.exists()){\r\n            FileOutputStream uotputstreem_c;\r\n    \r\n            File out_c_file= new File(file,c_filename);\r\n            try{\r\n                uotputstreem_c = new FileOutputStream(out_c_file);\r\n                bmCA.compress(Bitmap.CompressFormat.PNG,100,uotputstreem_c);\r\n                uotputstreem_c.flush();\r\n                uotputstreem_c.close();\r\n                if(!folder)Toast.makeText(this, &quot;successful&quot;, Toast.LENGTH_SHORT).show();\r\n            }catch (Exception e){\r\n                Toast.makeText(this, &quot;Failed&quot;, Toast.LENGTH_SHORT).show();\r\n            }}else {\r\n            Toast.makeText(this, &quot;Failed&quot;, Toast.LENGTH_SHORT).show();\r\n        }","title":"How to save updated layout as png file","body":"<p>I use the following code to save the content of the layout in a png file. But when the content of the layout changes, I call this function again and save it in a new file. I see that it has saved the previous content.</p>\n<pre><code>picLayout.setDrawingCacheEnabled(true);\npicLayout.buildDrawingCache();\nBitmap bmCA = picLayout.getDrawingCache();\n\nFile file = new File(Environment.getExternalStorageDirectory(),folder_1_n);\nif (!file.exists()){\n    file.mkdirs();}\n\n    if (file.exists()){\n        FileOutputStream uotputstreem_c;\n\n        File out_c_file= new File(file,c_filename);\n        try{\n            uotputstreem_c = new FileOutputStream(out_c_file);\n            bmCA.compress(Bitmap.CompressFormat.PNG,100,uotputstreem_c);\n            uotputstreem_c.flush();\n            uotputstreem_c.close();\n            if(!folder)Toast.makeText(this, &quot;successful&quot;, Toast.LENGTH_SHORT).show();\n        }catch (Exception e){\n            Toast.makeText(this, &quot;Failed&quot;, Toast.LENGTH_SHORT).show();\n        }}else {\n        Toast.makeText(this, &quot;Failed&quot;, Toast.LENGTH_SHORT).show();\n    }\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6291890,"reputation":9545,"user_id":4889267,"accept_rate":100,"display_name":"Alan Kavanagh"},"score":4,"creation_date":1550766522,"post_id":54811878,"comment_id":96400491,"body_markdown":"The code should work fine, are you sure you&#39;re using the code from teh snippet provided?","body":"The code should work fine, are you sure you&#39;re using the code from teh snippet provided?"},{"owner":{"account_id":6297031,"reputation":1280,"user_id":4892907,"accept_rate":100,"display_name":"xxxvodnikxxx"},"score":0,"creation_date":1550766856,"post_id":54811878,"comment_id":96400679,"body_markdown":"`or a JavaFX application class must extend javafx.application.Application` maybe? \nsomething like `public class Demo extends javafx.application.Application` ? (or just Application, but be sure you will import correct file)","body":"<code>or a JavaFX application class must extend javafx.application.Application</code> maybe?  something like <code>public class Demo extends javafx.application.Application</code> ? (or just Application, but be sure you will import correct file)"},{"owner":{"account_id":3406665,"reputation":1692,"user_id":2857556,"accept_rate":11,"display_name":"Alpesh Jikadra"},"score":0,"creation_date":1550770165,"post_id":54811878,"comment_id":96402591,"body_markdown":"What is your package structure ?","body":"What is your package structure ?"}],"answers":[{"comments":[{"owner":{"account_id":9021005,"reputation":4164,"user_id":6722100,"accept_rate":67,"display_name":"achAmh&#225;in"},"score":1,"creation_date":1550770016,"post_id":54812082,"comment_id":96402515,"body_markdown":"Is it a javaFx application?","body":"Is it a javaFx application?"}],"tags":[],"owner":{"account_id":6297031,"reputation":1280,"user_id":4892907,"accept_rate":100,"display_name":"xxxvodnikxxx"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1550767104,"creation_date":1550767104,"answer_id":54812082,"question_id":54811878,"body_markdown":"Regarding the [docs with example](https://docs.oracle.com/javafx/2/get_started/hello_world.htm) and as error message says \r\n\r\n&gt; Error: Main method not found in class Demo, please define the main method as: public static void main(String[] args) *or a JavaFX application class must extend javafx.application.Application*\r\n\r\nThe main is in place, but inheritance not, you will need to extend `javafx.application.Application`, so assuming that should fix the issue:\r\n\r\nreplace the class declaration as `public class Demo` to `public class Demo extends javafx.application.Application`\r\n\r\n\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n    \r\n    public class Demo extends javafx.application.Application{ \r\n        public static void main(String [] args) {\r\n            System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\javacoding\\\\chromedriver.exe&quot;);\r\n            WebDriver driver = new ChromeDriver();\r\n            driver.manage().window().maximize();\r\n            driver.get(&quot;https://google.com&quot;);\r\n        }\r\n    }\r\n\r\nOr just `public class Demo` to `public class Demo extends Application` with `import javafx.application.Application;` (in the import section of the class)\r\n\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n    import javafx.application.Application; //added \r\n    \r\n    \r\n    public class Demo extends Application{ \r\n        public static void main(String [] args) {\r\n            System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\javacoding\\\\chromedriver.exe&quot;);\r\n            WebDriver driver = new ChromeDriver();\r\n            driver.manage().window().maximize();\r\n            driver.get(&quot;https://google.com&quot;);\r\n        }\r\n    }\r\n\r\nIt seems you did not created the correct type of the project in your IDE, maybe re-creation will be needed (like eg. in case of maven project you need some additional files like pom.xml, etc.)","title":"Error message Define the main method as Public static void main(String[] args)","body":"<p>Regarding the <a href=\"https://docs.oracle.com/javafx/2/get_started/hello_world.htm\" rel=\"nofollow noreferrer\">docs with example</a> and as error message says </p>\n\n<blockquote>\n  <p>Error: Main method not found in class Demo, please define the main method as: public static void main(String[] args) <em>or a JavaFX application class must extend javafx.application.Application</em></p>\n</blockquote>\n\n<p>The main is in place, but inheritance not, you will need to extend <code>javafx.application.Application</code>, so assuming that should fix the issue:</p>\n\n<p>replace the class declaration as <code>public class Demo</code> to <code>public class Demo extends javafx.application.Application</code></p>\n\n<pre><code>import org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\n\npublic class Demo extends javafx.application.Application{ \n    public static void main(String [] args) {\n        System.setProperty(\"webdriver.chrome.driver\", \"C:\\\\javacoding\\\\chromedriver.exe\");\n        WebDriver driver = new ChromeDriver();\n        driver.manage().window().maximize();\n        driver.get(\"https://google.com\");\n    }\n}\n</code></pre>\n\n<p>Or just <code>public class Demo</code> to <code>public class Demo extends Application</code> with <code>import javafx.application.Application;</code> (in the import section of the class)</p>\n\n<pre><code>import org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport javafx.application.Application; //added \n\n\npublic class Demo extends Application{ \n    public static void main(String [] args) {\n        System.setProperty(\"webdriver.chrome.driver\", \"C:\\\\javacoding\\\\chromedriver.exe\");\n        WebDriver driver = new ChromeDriver();\n        driver.manage().window().maximize();\n        driver.get(\"https://google.com\");\n    }\n}\n</code></pre>\n\n<p>It seems you did not created the correct type of the project in your IDE, maybe re-creation will be needed (like eg. in case of maven project you need some additional files like pom.xml, etc.)</p>\n"},{"tags":[],"owner":{"account_id":28575762,"reputation":1,"user_id":21877394,"display_name":"Datta Sai Upesh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683797304,"creation_date":1683781339,"answer_id":76224281,"question_id":54811878,"body_markdown":"In the `public static void Main()`\r\ngives the error:\r\n```\r\nError: Main method not found in class Main1\r\n```\r\ndefine the main method as:   \r\n```\r\npublic static void main(String[] args)\r\n```\r\nor a JavaFX application class must extend `application.Applicationjavafx`\r\n\r\nif you change capital `M` to small `m` in main the error will not occur","title":"Error message Define the main method as Public static void main(String[] args)","body":"<p>In the <code>public static void Main()</code>\ngives the error:</p>\n<pre><code>Error: Main method not found in class Main1\n</code></pre>\n<p>define the main method as:</p>\n<pre><code>public static void main(String[] args)\n</code></pre>\n<p>or a JavaFX application class must extend <code>application.Applicationjavafx</code></p>\n<p>if you change capital <code>M</code> to small <code>m</code> in main the error will not occur</p>\n"}],"owner":{"account_id":15372143,"reputation":1,"user_id":11089896,"display_name":"Shivem Patel"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1858,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1683797304,"creation_date":1550766408,"question_id":54811878,"body_markdown":"Hi I&#39;m new to java and facing the below error \r\n\r\ni&#39;m trying to run this script\r\n\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n    public class Demo {\t\r\n        public static void main(String [] args) {\r\n    \t    System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\javacoding\\\\chromedriver.exe&quot;);\r\n    \t    WebDriver driver = new ChromeDriver();\r\n    \t    driver.manage().window().maximize();\r\n    \t    driver.get(&quot;https://google.com&quot;);\r\n        }\r\n    }\r\n\r\nBut get this error when i try to run it \r\n\r\n&gt; Error: Main method not found in class Demo, please define the main\r\n&gt; method as:    public static void main(String[] args) or a JavaFX\r\n&gt; application class must extend javafx.application.Application","title":"Error message Define the main method as Public static void main(String[] args)","body":"<p>Hi I'm new to java and facing the below error </p>\n\n<p>i'm trying to run this script</p>\n\n<pre><code>import org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\npublic class Demo { \n    public static void main(String [] args) {\n        System.setProperty(\"webdriver.chrome.driver\", \"C:\\\\javacoding\\\\chromedriver.exe\");\n        WebDriver driver = new ChromeDriver();\n        driver.manage().window().maximize();\n        driver.get(\"https://google.com\");\n    }\n}\n</code></pre>\n\n<p>But get this error when i try to run it </p>\n\n<blockquote>\n  <p>Error: Main method not found in class Demo, please define the main\n  method as:    public static void main(String[] args) or a JavaFX\n  application class must extend javafx.application.Application</p>\n</blockquote>\n"},{"tags":["java","swing","jar","exe"],"comments":[{"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1683799972,"post_id":76225972,"comment_id":134423339,"body_markdown":"From JDK14 onwards you can use `jpackage` to build an installer for your application, but note this puts JRE runtime image into the installation as well as EXE which uses it.","body":"From JDK14 onwards you can use <code>jpackage</code> to build an installer for your application, but note this puts JRE runtime image into the installation as well as EXE which uses it."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1683890981,"post_id":76225972,"comment_id":134439577,"body_markdown":"@DuncG But not a full JRE.  A trimmed-down JRE containing only the modules on which the application depends.  Still big, but not as big as a full Java installation.","body":"@DuncG But not a full JRE.  A trimmed-down JRE containing only the modules on which the application depends.  Still big, but not as big as a full Java installation."}],"answers":[{"tags":[],"owner":{"account_id":8350435,"reputation":36,"user_id":6306344,"display_name":"Jeremie"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1683797129,"creation_date":1683797129,"answer_id":76226095,"question_id":76225972,"body_markdown":"It&#39;s because tool like Launch4j is wrapper tool and not actually convert your java bytecode to machine code to run without JRE.  \r\nYou should check out tool `native-image` of Graalvm JDK, it has free community edition which can install by follows instruction here\r\nhttps://www.graalvm.org/22.2/docs/getting-started/windows/","title":"How to create exe file instead of exe and jre folder","body":"<p>It's because tool like Launch4j is wrapper tool and not actually convert your java bytecode to machine code to run without JRE.<br />\nYou should check out tool <code>native-image</code> of Graalvm JDK, it has free community edition which can install by follows instruction here\n<a href=\"https://www.graalvm.org/22.2/docs/getting-started/windows/\" rel=\"nofollow noreferrer\">https://www.graalvm.org/22.2/docs/getting-started/windows/</a></p>\n"}],"owner":{"account_id":10579646,"reputation":59,"user_id":7793969,"display_name":"Bart"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76226095,"answer_count":1,"score":1,"last_activity_date":1683797129,"creation_date":1683796466,"question_id":76225972,"body_markdown":"I want to deploy my java application, and I want to make a self-contained .exe that simply requires downloading Mario.exe and double-click to run. I&#39;m wondering if there is a way to &quot;put&quot; the jre folder in the .exe?\r\n\r\nAll of the jar to exe methods I have tried so far mostly I create a jar, then use Launch4j which results in a zip file containing: `Mario.exe` and a `jre` folder with the JVM embedded, which is required to run the application.\r\n\r\nMy goal is I want `Mario.exe` to run without the `jre` folder.\r\n\r\n![folder and exe](https://i.gyazo.com/62be723a5d2828dcdf32f7b138c0ea7b.png)","title":"How to create exe file instead of exe and jre folder","body":"<p>I want to deploy my java application, and I want to make a self-contained .exe that simply requires downloading Mario.exe and double-click to run. I'm wondering if there is a way to &quot;put&quot; the jre folder in the .exe?</p>\n<p>All of the jar to exe methods I have tried so far mostly I create a jar, then use Launch4j which results in a zip file containing: <code>Mario.exe</code> and a <code>jre</code> folder with the JVM embedded, which is required to run the application.</p>\n<p>My goal is I want <code>Mario.exe</code> to run without the <code>jre</code> folder.</p>\n<p><img src=\"https://i.gyazo.com/62be723a5d2828dcdf32f7b138c0ea7b.png\" alt=\"folder and exe\" /></p>\n"},{"tags":["java","spring-webflux","project-reactor","spring-webclient","flatmap"],"answers":[{"tags":[],"owner":{"account_id":28576489,"reputation":94,"user_id":21878024,"display_name":"kimec"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683796612,"creation_date":1683787128,"answer_id":76224771,"question_id":76211949,"body_markdown":"If you need a very fast `Flux` which generates values infinitely and as quickly as possible, you can just use \r\n``` lang-java\r\nFlux&lt;Integer&gt; inputFlux = Mono.just(1).repeat()\r\n```\r\nIf you need the values to increase, you can use\r\n``` lang-java\r\nFlux&lt;Integer&gt; inputFlux = Flux.generate(\r\n  () -&gt; 1, (s, sink) -&gt; {\r\n  sink.next(s);\r\n  return s + 1;\r\n})\r\n```\r\nBoth of these will run synchronously producing values as fast as possible. They can be imagined as a tight `for(;;)` loop, so all the pitfalls that would apply to a tight `for` loop apply here as well, so be careful.\r\n\r\nThe most likely reason why you cannot generate more requests to the 3rd party service is that once you `flatMap` to `WebClient`, the actual request handling is governed by the scheduling policy of the `jetty-reactive-httpclient` library. I am just guessing but I assume you will need to tweak the number of concurrent connections, possibly IO threads, keep alive, pipelining, etc. of the `HttpClient` library (used internally by `jetty-reactive-httpclient`). Also, the 3rd party service could be using some form of not-so-obvious rate limitation (say not allowing keep-alive, not supporting HTTP pipelining).\r\n\r\nSo in essence, changing concurrency and prefetch settings of `flatMap()` operator does not automatically translate to a higher throughput configuration for the Jetty `HttpClient` library doing the actual IO work. You can read about Jetty&#39;s `HttpClient` here https://www.eclipse.org/jetty/documentation/jetty-11/programming-guide/index.html.\r\n\r\nAlso, when analyzing, you should observe the traffic on your machine too (how many sockets are opened, amount of traffic originating from your machine, state of the sockets, etc.) because your requests could still be slowed down by some intermediary whether it is some reverse proxy or router, switch or even by OS or antivirus software on your machine.","title":"reactive flatmap to send http requests not scalling with &quot;concurrency&quot; parameter","body":"<p>If you need a very fast <code>Flux</code> which generates values infinitely and as quickly as possible, you can just use</p>\n<pre class=\"lang-java prettyprint-override\"><code>Flux&lt;Integer&gt; inputFlux = Mono.just(1).repeat()\n</code></pre>\n<p>If you need the values to increase, you can use</p>\n<pre class=\"lang-java prettyprint-override\"><code>Flux&lt;Integer&gt; inputFlux = Flux.generate(\n  () -&gt; 1, (s, sink) -&gt; {\n  sink.next(s);\n  return s + 1;\n})\n</code></pre>\n<p>Both of these will run synchronously producing values as fast as possible. They can be imagined as a tight <code>for(;;)</code> loop, so all the pitfalls that would apply to a tight <code>for</code> loop apply here as well, so be careful.</p>\n<p>The most likely reason why you cannot generate more requests to the 3rd party service is that once you <code>flatMap</code> to <code>WebClient</code>, the actual request handling is governed by the scheduling policy of the <code>jetty-reactive-httpclient</code> library. I am just guessing but I assume you will need to tweak the number of concurrent connections, possibly IO threads, keep alive, pipelining, etc. of the <code>HttpClient</code> library (used internally by <code>jetty-reactive-httpclient</code>). Also, the 3rd party service could be using some form of not-so-obvious rate limitation (say not allowing keep-alive, not supporting HTTP pipelining).</p>\n<p>So in essence, changing concurrency and prefetch settings of <code>flatMap()</code> operator does not automatically translate to a higher throughput configuration for the Jetty <code>HttpClient</code> library doing the actual IO work. You can read about Jetty's <code>HttpClient</code> here <a href=\"https://www.eclipse.org/jetty/documentation/jetty-11/programming-guide/index.html\" rel=\"nofollow noreferrer\">https://www.eclipse.org/jetty/documentation/jetty-11/programming-guide/index.html</a>.</p>\n<p>Also, when analyzing, you should observe the traffic on your machine too (how many sockets are opened, amount of traffic originating from your machine, state of the sockets, etc.) because your requests could still be slowed down by some intermediary whether it is some reverse proxy or router, switch or even by OS or antivirus software on your machine.</p>\n"}],"owner":{"account_id":14482834,"reputation":3924,"user_id":10461625,"display_name":"PatPanda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683796612,"creation_date":1683652892,"question_id":76211949,"body_markdown":"*What I am trying to achieve:*\r\n\r\nSend as many http requests as possible, in parallel, to a very reliable third party service from an aggressive Flux\r\n\r\n*Background:*\r\n\r\nThe third party service is very reliable and can sustain a very high number of requests. So far, I am the only client of this third party service. I am invited to hit the third party server as hard as possible. The third party service, which I have no control over, does not offer any bulk/list API. I can only send requests one by one. On their side, each request takes a constant one second to process.\r\n\r\n*What did I try:*\r\n\r\nHere is the configuration of my http client, as well as the logic to send the http requests (hopefully as many requests, as fast as possible)\r\n\r\nclient\r\n```\r\n@Bean\r\npublic WebClient webClient(WebClient.Builder builder) {\r\n    final var clientConnector = new ClientConnector();\r\n    final var httpClient = new HttpClient(new HttpClientTransportDynamic(clientConnector));\r\n\r\n    return builder\r\n            .baseUrl(&quot;http://some-host:8080/api/path&quot;)\r\n            .defaultHeader(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE)\r\n            .clientConnector(new JettyClientHttpConnector(httpClient))\r\n            .build();\r\n}\r\n```\r\n\r\nthe flux:\r\n```\r\n// some very fast flux, this line is just an example\r\n        Flux&lt;String&gt; inputFlux = Flux.interval(Duration.ofMillis(1)).map(i -&gt; &quot;transform to request payload number &quot; + i);\r\n        //send as many requests as fast as possible, the default flatMap number should be 256\r\n        Flux&lt;String&gt; resultFlux = inputFlux.flatMap(oneInput -&gt; webClient.post().bodyValue(oneInput).retrieve().bodyToMono(String.class));\r\n        //doing something with the result\r\n        return resultFlux.map(oneResult -&gt; doSomething(oneResult));\r\n```\r\n\r\nUsing this, I asked the third party service and they gave me a number N, my number of requests per second.\r\n\r\nFirst observation, the default number of concurrency for flatMap should be 256. And since the third party takes one second to process the request, I would have expected a rate N of 256 requests per second.\r\n\r\nHowever, I am nowhere close. The third party service told me I am at 16ish requests per second\r\n\r\n*Additional try:*\r\n\r\nAs I want to scale the number of requests sent to the third party server, I am tuning the number of concurrencies as follows:\r\n\r\ntry number 1:\r\n\r\n```\r\n// some very fast flux, this line is just an example\r\n        Flux&lt;String&gt; inputFlux = Flux.interval(Duration.ofMillis(1)).map(i -&gt; &quot;transform to request payload number &quot; + i);\r\n        //BUMP to 2048, 10x increase\r\n        Flux&lt;String&gt; resultFlux = inputFlux.flatMap(oneInput -&gt; webClient.post().bodyValue(oneInput).retrieve().bodyToMono(String.class), 2048);\r\n        //doing something with the result\r\n        return resultFlux.map(oneResult -&gt; doSomething(oneResult));\r\n```\r\n\r\nWhen tuning the concurrency parameter of flatMap, I would have expected a higher number of requests sent, here like 10*N. But not at all, I am still at 16ish requests per second.\r\n\r\n*Question:*\r\n\r\nIf flatMap is the best way to achieve that (please let me know if I should change to something else) \r\n\r\nIf it is, why is it not scaling? Why is it not working?\r\n","title":"reactive flatmap to send http requests not scalling with &quot;concurrency&quot; parameter","body":"<p><em>What I am trying to achieve:</em></p>\n<p>Send as many http requests as possible, in parallel, to a very reliable third party service from an aggressive Flux</p>\n<p><em>Background:</em></p>\n<p>The third party service is very reliable and can sustain a very high number of requests. So far, I am the only client of this third party service. I am invited to hit the third party server as hard as possible. The third party service, which I have no control over, does not offer any bulk/list API. I can only send requests one by one. On their side, each request takes a constant one second to process.</p>\n<p><em>What did I try:</em></p>\n<p>Here is the configuration of my http client, as well as the logic to send the http requests (hopefully as many requests, as fast as possible)</p>\n<p>client</p>\n<pre><code>@Bean\npublic WebClient webClient(WebClient.Builder builder) {\n    final var clientConnector = new ClientConnector();\n    final var httpClient = new HttpClient(new HttpClientTransportDynamic(clientConnector));\n\n    return builder\n            .baseUrl(&quot;http://some-host:8080/api/path&quot;)\n            .defaultHeader(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE)\n            .clientConnector(new JettyClientHttpConnector(httpClient))\n            .build();\n}\n</code></pre>\n<p>the flux:</p>\n<pre><code>// some very fast flux, this line is just an example\n        Flux&lt;String&gt; inputFlux = Flux.interval(Duration.ofMillis(1)).map(i -&gt; &quot;transform to request payload number &quot; + i);\n        //send as many requests as fast as possible, the default flatMap number should be 256\n        Flux&lt;String&gt; resultFlux = inputFlux.flatMap(oneInput -&gt; webClient.post().bodyValue(oneInput).retrieve().bodyToMono(String.class));\n        //doing something with the result\n        return resultFlux.map(oneResult -&gt; doSomething(oneResult));\n</code></pre>\n<p>Using this, I asked the third party service and they gave me a number N, my number of requests per second.</p>\n<p>First observation, the default number of concurrency for flatMap should be 256. And since the third party takes one second to process the request, I would have expected a rate N of 256 requests per second.</p>\n<p>However, I am nowhere close. The third party service told me I am at 16ish requests per second</p>\n<p><em>Additional try:</em></p>\n<p>As I want to scale the number of requests sent to the third party server, I am tuning the number of concurrencies as follows:</p>\n<p>try number 1:</p>\n<pre><code>// some very fast flux, this line is just an example\n        Flux&lt;String&gt; inputFlux = Flux.interval(Duration.ofMillis(1)).map(i -&gt; &quot;transform to request payload number &quot; + i);\n        //BUMP to 2048, 10x increase\n        Flux&lt;String&gt; resultFlux = inputFlux.flatMap(oneInput -&gt; webClient.post().bodyValue(oneInput).retrieve().bodyToMono(String.class), 2048);\n        //doing something with the result\n        return resultFlux.map(oneResult -&gt; doSomething(oneResult));\n</code></pre>\n<p>When tuning the concurrency parameter of flatMap, I would have expected a higher number of requests sent, here like 10*N. But not at all, I am still at 16ish requests per second.</p>\n<p><em>Question:</em></p>\n<p>If flatMap is the best way to achieve that (please let me know if I should change to something else)</p>\n<p>If it is, why is it not scaling? Why is it not working?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1683861883,"post_id":76224350,"comment_id":134434637,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":28575826,"reputation":1,"user_id":21877451,"display_name":"leeseokwoon"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683796449,"creation_date":1683782312,"question_id":76224350,"body_markdown":"I am currently using `jdbcSpringSession`.\r\nWhen requesting static resources required by WAS\r\n`SessionRepositoryFilter`, `doFilterInterval`\r\nwill be called.\r\nCan&#39;t call `SessionRepositoryFilter` if I request static resources?\r\n\r\nSpring Security tried the following.\r\n\r\n```\r\n\t@Override\r\n\tpublic void configure(WebSecurity web) {\r\n\t\tweb.ignoring().antMatchers(&quot;/css/**&quot;, &quot;/js/**&quot;, &quot;/images/**&quot;, &quot;/font/**&quot;, &quot;/webjars/**&quot;,&quot;/favicon.ico&quot;,&quot;/dispatch/**&quot;,&quot;/summernote/**&quot;,&quot;/down/**&quot;, &quot;/assets/**&quot;);\r\n\t}\r\n```","title":"When loading static resources in a WAS environment, &quot;SessionRepositoryFilter&quot; is invoked","body":"<p>I am currently using <code>jdbcSpringSession</code>.\nWhen requesting static resources required by WAS\n<code>SessionRepositoryFilter</code>, <code>doFilterInterval</code>\nwill be called.\nCan't call <code>SessionRepositoryFilter</code> if I request static resources?</p>\n<p>Spring Security tried the following.</p>\n<pre><code>    @Override\n    public void configure(WebSecurity web) {\n        web.ignoring().antMatchers(&quot;/css/**&quot;, &quot;/js/**&quot;, &quot;/images/**&quot;, &quot;/font/**&quot;, &quot;/webjars/**&quot;,&quot;/favicon.ico&quot;,&quot;/dispatch/**&quot;,&quot;/summernote/**&quot;,&quot;/down/**&quot;, &quot;/assets/**&quot;);\n    }\n</code></pre>\n"},{"tags":["java","maven","bytecode","java-bytecode-asm","javassist"],"comments":[{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1661224896,"post_id":73452764,"comment_id":129714728,"body_markdown":"What do you need it for?","body":"What do you need it for?"},{"owner":{"account_id":20275861,"reputation":41,"user_id":14870908,"display_name":"buriedpot"},"score":0,"creation_date":1661225826,"post_id":73452764,"comment_id":129714849,"body_markdown":"I need it for some java bytecode analysis work later","body":"I need it for some java bytecode analysis work later"},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1661229653,"post_id":73452764,"comment_id":129715354,"body_markdown":"What have you tried so far?","body":"What have you tried so far?"},{"owner":{"account_id":20275861,"reputation":41,"user_id":14870908,"display_name":"buriedpot"},"score":0,"creation_date":1661231466,"post_id":73452764,"comment_id":129715658,"body_markdown":"I tried to use Javassist, but it seems that javassist can only get a Java class&#39; referring classes by the function ```public synchronized Collection&lt;String&gt; getRefClasses() ```. It cannot get a Java method&#39;s referring classes.","body":"I tried to use Javassist, but it seems that javassist can only get a Java class&#39; referring classes by the function <code>public synchronized Collection&lt;String&gt; getRefClasses() </code>. It cannot get a Java method&#39;s referring classes."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1661237729,"post_id":73452764,"comment_id":129717078,"body_markdown":"When you do the “some java bytecode analysis work”, this information comes for free. There is no point in collecting this information beforehand.","body":"When you do the “some java bytecode analysis work”, this information comes for free. There is no point in collecting this information beforehand."}],"answers":[{"tags":[],"owner":{"account_id":28546152,"reputation":79,"user_id":21851535,"display_name":"uglibubla"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1683796322,"creation_date":1683796322,"answer_id":76225953,"question_id":73452764,"body_markdown":"There is no built in way to do this, however you could visit (or iterate over in case of asm-tree) every instruction and collect the references in a Set.\r\n\r\nThe basic concept would go like this (using asm-tree):\r\n```\r\nSet&lt;String&gt; dependencies = new HashSet&lt;String&gt;();\r\n\r\nfor (AbstractInsnNode insnNode : methodNode.instructions) {\r\n    if (insnNode instanceof MethodInsnNode methodInsn) {\r\n        dependencies.add(methodInsn.owner);\r\n        //If you want the full references you should also get the types of the methodDescriptor\r\n    }\r\n}\r\n```","title":"How to get a Java method&#39;s all referring classes by jars like ASM or Javassist?","body":"<p>There is no built in way to do this, however you could visit (or iterate over in case of asm-tree) every instruction and collect the references in a Set.</p>\n<p>The basic concept would go like this (using asm-tree):</p>\n<pre><code>Set&lt;String&gt; dependencies = new HashSet&lt;String&gt;();\n\nfor (AbstractInsnNode insnNode : methodNode.instructions) {\n    if (insnNode instanceof MethodInsnNode methodInsn) {\n        dependencies.add(methodInsn.owner);\n        //If you want the full references you should also get the types of the methodDescriptor\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":20275861,"reputation":41,"user_id":14870908,"display_name":"buriedpot"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1683796322,"creation_date":1661224592,"question_id":73452764,"body_markdown":"As the code shows below:\r\n```java\r\npublic class Main implements MainInter{\r\n    public static void main(String[] args) {\r\n        List&lt;String&gt; s = new ArrayList&lt;&gt;();\r\n        DClassFather var = new DClassFather();\r\n        DClassFather d = new DClass();\r\n    }\r\n}\r\n```\r\nHow can I get that the method &quot;Main: main&quot; refers classes &quot;java.lang.String&quot;, &quot;java.util.ArrayList&quot;, &quot;java.util.List&quot;, &quot;DClassFather&quot;, &quot;DClass&quot;\r\n","title":"How to get a Java method&#39;s all referring classes by jars like ASM or Javassist?","body":"<p>As the code shows below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main implements MainInter{\n    public static void main(String[] args) {\n        List&lt;String&gt; s = new ArrayList&lt;&gt;();\n        DClassFather var = new DClassFather();\n        DClassFather d = new DClass();\n    }\n}\n</code></pre>\n<p>How can I get that the method &quot;Main: main&quot; refers classes &quot;java.lang.String&quot;, &quot;java.util.ArrayList&quot;, &quot;java.util.List&quot;, &quot;DClassFather&quot;, &quot;DClass&quot;</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1683796318,"post_id":76225797,"comment_id":134422489,"body_markdown":"Now if only you could fire an event and have listener for a completed event. Or return a `CompletableFuture` from the `PublishUseCaseService` service method and do a callback upon completion. THen you are still inside the `UseCaseService`.","body":"Now if only you could fire an event and have listener for a completed event. Or return a <code>CompletableFuture</code> from the <code>PublishUseCaseService</code> service method and do a callback upon completion. THen you are still inside the <code>UseCaseService</code>."},{"owner":{"account_id":15695783,"reputation":105,"user_id":11325397,"display_name":"Utpal Gaurav"},"score":1,"creation_date":1683798254,"post_id":76225797,"comment_id":134422933,"body_markdown":"If possible make your method in UseCaseService as async. And then call the desired method of PublishUseCaseService from UseCaseService after the process gets completed.","body":"If possible make your method in UseCaseService as async. And then call the desired method of PublishUseCaseService from UseCaseService after the process gets completed."}],"owner":{"account_id":22500078,"reputation":151,"user_id":16696520,"display_name":"Nitin Kumar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1683796255,"creation_date":1683795179,"question_id":76225797,"body_markdown":"I have a service called `UseCaseService`, which calls an asynchronous method of another service called `PublishUseCaseService`. Since the publishing process is a long-running task, I want my current API to return a 200 OK status. Once the async method is finished, successfully or not, I need to update the status in my `UseCase`.\r\n\r\nSince `PublishUseCaseService` is already added as a dependency in `UseCaseService`, I can&#39;t add `UseCaseService` in `PublishUseCaseService` as it would create a cyclic dependency.\r\n\r\nI am wondering how I can achieve this. I have tried setting up a Job Service and creating a job, but it still has some issues and isn&#39;t working as I expected. I am wondering if there is an easier way to achieve this or some other concept that I am unaware of, as the asynchronous topic is totally new to me.","title":"How to come back to Caller Service Class Back from a Async method","body":"<p>I have a service called <code>UseCaseService</code>, which calls an asynchronous method of another service called <code>PublishUseCaseService</code>. Since the publishing process is a long-running task, I want my current API to return a 200 OK status. Once the async method is finished, successfully or not, I need to update the status in my <code>UseCase</code>.</p>\n<p>Since <code>PublishUseCaseService</code> is already added as a dependency in <code>UseCaseService</code>, I can't add <code>UseCaseService</code> in <code>PublishUseCaseService</code> as it would create a cyclic dependency.</p>\n<p>I am wondering how I can achieve this. I have tried setting up a Job Service and creating a job, but it still has some issues and isn't working as I expected. I am wondering if there is an easier way to achieve this or some other concept that I am unaware of, as the asynchronous topic is totally new to me.</p>\n"},{"tags":["java","dependency-injection","cdi","quarkus","custom-scope"],"comments":[{"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"score":2,"creation_date":1683780691,"post_id":76222626,"comment_id":134419662,"body_markdown":"I have the impression that this is expected. What differentiates the 2 injection points? It seems they differ only in the name of the variable; if so, CDI (and probably ArC) indeed does NOT differentiate between them. I believe this is the text book case for using qualifiers.","body":"I have the impression that this is expected. What differentiates the 2 injection points? It seems they differ only in the name of the variable; if so, CDI (and probably ArC) indeed does NOT differentiate between them. I believe this is the text book case for using qualifiers."},{"owner":{"account_id":3580881,"reputation":5060,"user_id":2989136,"accept_rate":79,"display_name":"Herr Derb"},"score":0,"creation_date":1683784281,"post_id":76222626,"comment_id":134420136,"body_markdown":"I was already there but then I was bothered by the overhead to define producers for each qualifier (`@Named`). But I guess thats the way to go.","body":"I was already there but then I was bothered by the overhead to define producers for each qualifier (<code>@Named</code>). But I guess thats the way to go."},{"owner":{"account_id":385127,"reputation":6294,"user_id":742081,"display_name":"Ladicek"},"score":0,"creation_date":1683787553,"post_id":76222626,"comment_id":134420680,"body_markdown":"If you want a new instance for each injection point, you don&#39;t need a custom scope and context -- you can just make the bean `@Dependent`. What your context implementation seems to do is a &quot;per-tenant singleton&quot; (which in my opinion is a perfectly reasonable thing to have, just not something that will produce a different instance for each injection point).","body":"If you want a new instance for each injection point, you don&#39;t need a custom scope and context -- you can just make the bean <code>@Dependent</code>. What your context implementation seems to do is a &quot;per-tenant singleton&quot; (which in my opinion is a perfectly reasonable thing to have, just not something that will produce a different instance for each injection point)."},{"owner":{"account_id":3580881,"reputation":5060,"user_id":2989136,"accept_rate":79,"display_name":"Herr Derb"},"score":0,"creation_date":1683788141,"post_id":76222626,"comment_id":134420779,"body_markdown":"The missing proxy on a dependent bean is an issue fpr my use case. I would need the best from both of the worlds :) I think I just need to befriend, that I need to use qualifiers.\n@NikosParaskevopoulos If you want, you can c&amp;p you comment as answer","body":"The missing proxy on a dependent bean is an issue fpr my use case. I would need the best from both of the worlds :) I think I just need to befriend, that I need to use qualifiers. @NikosParaskevopoulos If you want, you can c&amp;p you comment as answer"},{"owner":{"account_id":3580881,"reputation":5060,"user_id":2989136,"accept_rate":79,"display_name":"Herr Derb"},"score":0,"creation_date":1683790257,"post_id":76222626,"comment_id":134421178,"body_markdown":"In the end, the problem was me, I don&#39;t even need to use qualifiers. I went a level to deep. It works as expected with the implementation of the context.","body":"In the end, the problem was me, I don&#39;t even need to use qualifiers. I went a level to deep. It works as expected with the implementation of the context."}],"answers":[{"tags":[],"owner":{"account_id":3138056,"reputation":1166,"user_id":2654154,"display_name":"Martin Kouba"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1683796028,"creation_date":1683796028,"answer_id":76225910,"question_id":76222626,"body_markdown":"Is the `@TenantScoped` a [normal scope][1]? If so then the injected `MyTenantScopedQueue` (which is a client proxy) must obtain the active context object first, then call `Context.get()` and finally delegate to the underlying bean instance. And your context implementation must ensure that there is exactly one instance for a given bean *associated with the current thread*. \r\n\r\nNow both injection points are satisfied by the same `Bean`. Which means that if you invoke a method upon `queue` and `queueForOtherStuff` from the same thread then both invocations will delegate to the same bean instance.\r\n\r\nIf the scope is not normal, i.e. not annotated with `@jakarta.enterprise.context.NormalScope` but with `@jakarta.inject.Scope`, then the behavior is undefined (up to you ;-).\r\n\r\n\r\n  [1]: https://jakarta.ee/specifications/cdi/4.0/jakarta-cdi-spec-4.0.html#normal_scope","title":"Custom InjectableContext cannot differ between two injection points within the same bean in Quarkus","body":"<p>Is the <code>@TenantScoped</code> a <a href=\"https://jakarta.ee/specifications/cdi/4.0/jakarta-cdi-spec-4.0.html#normal_scope\" rel=\"nofollow noreferrer\">normal scope</a>? If so then the injected <code>MyTenantScopedQueue</code> (which is a client proxy) must obtain the active context object first, then call <code>Context.get()</code> and finally delegate to the underlying bean instance. And your context implementation must ensure that there is exactly one instance for a given bean <em>associated with the current thread</em>.</p>\n<p>Now both injection points are satisfied by the same <code>Bean</code>. Which means that if you invoke a method upon <code>queue</code> and <code>queueForOtherStuff</code> from the same thread then both invocations will delegate to the same bean instance.</p>\n<p>If the scope is not normal, i.e. not annotated with <code>@jakarta.enterprise.context.NormalScope</code> but with <code>@jakarta.inject.Scope</code>, then the behavior is undefined (up to you ;-).</p>\n"}],"owner":{"account_id":3580881,"reputation":5060,"user_id":2989136,"accept_rate":79,"display_name":"Herr Derb"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76225910,"answer_count":1,"score":0,"last_activity_date":1683796028,"creation_date":1683753598,"question_id":76222626,"body_markdown":"I try to implement a `@TenantScope` which can be used for stateful beans rather than using a nested map. For this I am implementing a `io.quarkus.arc.InjectableContext`.\r\n\r\nI have it working so far, except if I have two injection points of the same type. My implementation for the two `get(...)` methods looks like this::\r\n\r\n```\r\n@Override\r\npublic &lt;T&gt; T get(Contextual&lt;T&gt; contextual, CreationalContext&lt;T&gt; creationalContext) {\r\n    String tenantId = getTenantIdFromContex();\r\n    Map&lt;String, ContextInstanceHandle&lt;?&gt;&gt; tenantMap = contextualMap.computeIfAbsent(contextual, c -&gt; new HashMap&lt;&gt;());\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    ContextInstanceHandle&lt;T&gt; contextInstanceHandle =\r\n            (ContextInstanceHandle&lt;T&gt;) tenantMap.computeIfAbsent(tenantId, t -&gt; {\r\n                if (creationalContext == null) {\r\n                    return null;\r\n                }\r\n                T createdInstance = contextual.create(creationalContext);\r\n                return new ContextInstanceHandleImpl&lt;T&gt;(\r\n                        (InjectableBean&lt;T&gt;) contextual, createdInstance, creationalContext);\r\n            });\r\n    return contextInstanceHandle.get();\r\n}\r\n\r\n@SuppressWarnings(&quot;unchecked&quot;)\r\n@Override\r\npublic &lt;T&gt; T get(Contextual&lt;T&gt; contextual) {\r\n    String tenantId = getTenantIdFromContex();\r\n    if(!contextualMap.containsKey(contextual) || !contextualMap.get(contextual).containsKey(tenantId)){\r\n        return null;\r\n    }\r\n    return ((ContextInstanceHandle&lt;T&gt;) contextualMap.get(contextual).get(tenantId)).get();\r\n}\r\n```\r\nAssume this bean\r\n```\r\n@TenantScoped\r\nclass MyTenantScopedQueue(){...}\r\n```\r\n\r\nMy custom context behaves as expected when I have a single injection point of a `@TenantScoped` type in a bean. Depending on the tenantId of my context, I get the specific instance. As soon as I have two injection points I run into a problem:\r\n```\r\nclass MyBean() {\r\n\r\n@Inject\r\nMyTenantScopedQueue queue;\r\n@Inject\r\nMyTenantScopedQueue queueForOtherStuff;\r\n\r\n...\r\n}\r\n```\r\nIt seems that `Contextual&lt;T&gt;` does not hold enough information to differ between this two injection points resulting in having same instance injected twice. How can I implement my `InjectableContext` so I do get different instances for each injection point?\r\n","title":"Custom InjectableContext cannot differ between two injection points within the same bean in Quarkus","body":"<p>I try to implement a <code>@TenantScope</code> which can be used for stateful beans rather than using a nested map. For this I am implementing a <code>io.quarkus.arc.InjectableContext</code>.</p>\n<p>I have it working so far, except if I have two injection points of the same type. My implementation for the two <code>get(...)</code> methods looks like this::</p>\n<pre><code>@Override\npublic &lt;T&gt; T get(Contextual&lt;T&gt; contextual, CreationalContext&lt;T&gt; creationalContext) {\n    String tenantId = getTenantIdFromContex();\n    Map&lt;String, ContextInstanceHandle&lt;?&gt;&gt; tenantMap = contextualMap.computeIfAbsent(contextual, c -&gt; new HashMap&lt;&gt;());\n    @SuppressWarnings(&quot;unchecked&quot;)\n    ContextInstanceHandle&lt;T&gt; contextInstanceHandle =\n            (ContextInstanceHandle&lt;T&gt;) tenantMap.computeIfAbsent(tenantId, t -&gt; {\n                if (creationalContext == null) {\n                    return null;\n                }\n                T createdInstance = contextual.create(creationalContext);\n                return new ContextInstanceHandleImpl&lt;T&gt;(\n                        (InjectableBean&lt;T&gt;) contextual, createdInstance, creationalContext);\n            });\n    return contextInstanceHandle.get();\n}\n\n@SuppressWarnings(&quot;unchecked&quot;)\n@Override\npublic &lt;T&gt; T get(Contextual&lt;T&gt; contextual) {\n    String tenantId = getTenantIdFromContex();\n    if(!contextualMap.containsKey(contextual) || !contextualMap.get(contextual).containsKey(tenantId)){\n        return null;\n    }\n    return ((ContextInstanceHandle&lt;T&gt;) contextualMap.get(contextual).get(tenantId)).get();\n}\n</code></pre>\n<p>Assume this bean</p>\n<pre><code>@TenantScoped\nclass MyTenantScopedQueue(){...}\n</code></pre>\n<p>My custom context behaves as expected when I have a single injection point of a <code>@TenantScoped</code> type in a bean. Depending on the tenantId of my context, I get the specific instance. As soon as I have two injection points I run into a problem:</p>\n<pre><code>class MyBean() {\n\n@Inject\nMyTenantScopedQueue queue;\n@Inject\nMyTenantScopedQueue queueForOtherStuff;\n\n...\n}\n</code></pre>\n<p>It seems that <code>Contextual&lt;T&gt;</code> does not hold enough information to differ between this two injection points resulting in having same instance injected twice. How can I implement my <code>InjectableContext</code> so I do get different instances for each injection point?</p>\n"},{"tags":["java","inputstream"],"comments":[{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1437334584,"post_id":31505116,"comment_id":50973178,"body_markdown":"The value of `e` is `null` or the String printed contains the text `null` (ie. the message is `null`)?","body":"The value of <code>e</code> is <code>null</code> or the String printed contains the text <code>null</code> (ie. the message is <code>null</code>)?"},{"owner":{"account_id":13545,"reputation":32663,"user_id":27305,"accept_rate":88,"display_name":"John"},"score":0,"creation_date":1437334624,"post_id":31505116,"comment_id":50973196,"body_markdown":"the value of e is null.  And then null.getMessage() causes the app to crash after","body":"the value of e is null.  And then null.getMessage() causes the app to crash after"},{"owner":{"account_id":6006707,"reputation":882,"user_id":4718420,"display_name":"Brian"},"score":0,"creation_date":1437334715,"post_id":31505116,"comment_id":50973225,"body_markdown":"Please post the stack trace. If I remember correctly, exceptions in a catch-block can never be `null`.","body":"Please post the stack trace. If I remember correctly, exceptions in a catch-block can never be <code>null</code>."},{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1437334883,"post_id":31505116,"comment_id":50973265,"body_markdown":"I get a 404 and text/html. Can you use Apache HttpClient?","body":"I get a 404 and text/html. Can you use Apache HttpClient?"},{"owner":{"account_id":13545,"reputation":32663,"user_id":27305,"accept_rate":88,"display_name":"John"},"score":0,"creation_date":1437335013,"post_id":31505116,"comment_id":50973312,"body_markdown":"@ElliottFrisch the actual url is somethign that can only be accessed internally on my own network.  But I can confirm that the file actually exists.","body":"@ElliottFrisch the actual url is somethign that can only be accessed internally on my own network.  But I can confirm that the file actually exists."},{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":0,"creation_date":1437335039,"post_id":31505116,"comment_id":50973322,"body_markdown":"If you use Java 7+, use a try-with-resources statement!","body":"If you use Java 7+, use a try-with-resources statement!"},{"owner":{"account_id":13545,"reputation":32663,"user_id":27305,"accept_rate":88,"display_name":"John"},"score":0,"creation_date":1437335223,"post_id":31505116,"comment_id":50973379,"body_markdown":"@SotiriosDelimanolis - the question you marked at duplicate doesn&#39;t seem to discuss the issue I&#39;m having with getInputStream().  Can you refer me to a question that deals with this specific error and possible solutions?  Thanks","body":"@SotiriosDelimanolis - the question you marked at duplicate doesn&#39;t seem to discuss the issue I&#39;m having with getInputStream().  Can you refer me to a question that deals with this specific error and possible solutions?  Thanks"},{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1437335339,"post_id":31505116,"comment_id":50973420,"body_markdown":"What issue are you having with `getInputStream`? I thought the issue was with a `null` catch parameter (which should not be possible).","body":"What issue are you having with <code>getInputStream</code>? I thought the issue was with a <code>null</code> catch parameter (which should not be possible)."},{"owner":{"account_id":13545,"reputation":32663,"user_id":27305,"accept_rate":88,"display_name":"John"},"score":0,"creation_date":1437335464,"post_id":31505116,"comment_id":50973464,"body_markdown":"I&#39;m expecting the getInputStream() to execute normally so that it can carry on to the next lines of code (which I haven&#39;t displayed in this question).  I&#39;m just trying to figure out what&#39;s wrong with the way i&#39;m using getInputStream(). Thanks","body":"I&#39;m expecting the getInputStream() to execute normally so that it can carry on to the next lines of code (which I haven&#39;t displayed in this question).  I&#39;m just trying to figure out what&#39;s wrong with the way i&#39;m using getInputStream(). Thanks"},{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":1,"creation_date":1437336014,"post_id":31505116,"comment_id":50973619,"body_markdown":"If you&#39;re getting `null` as a value for the exception parameter, you&#39;ve got bigger problems. I&#39;ll re-open but try @ElliottFrisch&#39;s suggestion and use a different http client, where you can easily inspect the status code and response body.","body":"If you&#39;re getting <code>null</code> as a value for the exception parameter, you&#39;ve got bigger problems. I&#39;ll re-open but try @ElliottFrisch&#39;s suggestion and use a different http client, where you can easily inspect the status code and response body."},{"owner":{"account_id":13545,"reputation":32663,"user_id":27305,"accept_rate":88,"display_name":"John"},"score":0,"creation_date":1437336320,"post_id":31505116,"comment_id":50973708,"body_markdown":"@ElliottFrisch I just posted the stack trace","body":"@ElliottFrisch I just posted the stack trace"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1437340390,"post_id":31505116,"comment_id":50974854,"body_markdown":"1. There is no such method as `InputStream.getInputStream()`. 2. Exceptions are thrown, not returned. 3. Thrown exceptions are never null, but their messages can be. 4. You should log the exception itself, not just its message.","body":"1. There is no such method as <code>InputStream.getInputStream()</code>. 2. Exceptions are thrown, not returned. 3. Thrown exceptions are never null, but their messages can be. 4. You should log the exception itself, not just its message."},{"owner":{"account_id":13545,"reputation":32663,"user_id":27305,"accept_rate":88,"display_name":"John"},"score":0,"creation_date":1437427991,"post_id":31505116,"comment_id":51014697,"body_markdown":"@EJP thhansk for point 1, i corrected the title.  In any case, i was able to resolve the issue by temporarily using android.os.StrictMode in some places, and extending the ASync task in other places.","body":"@EJP thhansk for point 1, i corrected the title.  In any case, i was able to resolve the issue by temporarily using android.os.StrictMode in some places, and extending the ASync task in other places."}],"answers":[{"tags":[],"owner":{"account_id":13545,"reputation":32663,"user_id":27305,"accept_rate":88,"display_name":"John"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1437344114,"creation_date":1437344114,"answer_id":31506490,"question_id":31505116,"body_markdown":"i fixed the problem by putting this line of code before downloading the file:\r\n\r\n                android.os.StrictMode.ThreadPolicy policy = new android.os.StrictMode.ThreadPolicy.Builder().permitAll().build();\r\n                android.os.StrictMode.setThreadPolicy(policy);","title":"UrlConnection.getInputStream() returns an exception that is null in Java","body":"<p>i fixed the problem by putting this line of code before downloading the file:</p>\n\n<pre><code>            android.os.StrictMode.ThreadPolicy policy = new android.os.StrictMode.ThreadPolicy.Builder().permitAll().build();\n            android.os.StrictMode.setThreadPolicy(policy);\n</code></pre>\n"}],"owner":{"account_id":13545,"reputation":32663,"user_id":27305,"accept_rate":88,"display_name":"John"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2471,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":31506490,"answer_count":1,"score":-1,"last_activity_date":1683795942,"creation_date":1437334456,"question_id":31505116,"body_markdown":"I have the following java code\r\n\r\n    try {\r\n        String u = &quot;http://webapi.com/demo.zip&quot;;\r\n        URL url = new URL(u);\r\n        URLConnection ucon = url.openConnection();\r\n        InputStream is = ucon.getInputStream();\r\n    }\r\n    catch (Exception e) {\r\n        Log.d(&#39;downloaderror&#39;, e.getMessage());\r\n    }\r\n\r\nBut for some reason, the `InputStream is = ucon.getInputStream()` causes an error and the catch block is fired.  And when the catch block is fired, the value of `e` is `null`.\r\n\r\nDoes anyone konw what is wrong with my `ucon.getInputStream()` ?  I know for a fact that `http://webapi.com/demo.zip` exists, because I&#39;m able to download the file from my web browser.\r\n\r\n*EDIT*\r\nHere&#39;s the stack trace on ucon.getInputstream()\r\n\r\n    java.lang.Exception\r\n                at com.example.instantramenz.samplewebview.MainActivity$1.onClick(MainActivity.java:94)\r\n                at android.view.View.performClick(View.java:4633)\r\n                at android.view.View$PerformClick.run(View.java:19270)\r\n                at android.os.Handler.handleCallback(Handler.java:733)\r\n                at android.os.Handler.dispatchMessage(Handler.java:95)\r\n                at android.os.Looper.loop(Looper.java:146)\r\n                at android.app.ActivityThread.main(ActivityThread.java:5602)\r\n                at java.lang.reflect.Method.invokeNative(Native Method)\r\n                at java.lang.reflect.Method.invoke(Method.java:515)\r\n                at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1283)\r\n                at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1099)\r\n                at dalvik.system.NativeStart.main(Native Method)","title":"UrlConnection.getInputStream() returns an exception that is null in Java","body":"<p>I have the following java code</p>\n\n<pre><code>try {\n    String u = \"http://webapi.com/demo.zip\";\n    URL url = new URL(u);\n    URLConnection ucon = url.openConnection();\n    InputStream is = ucon.getInputStream();\n}\ncatch (Exception e) {\n    Log.d('downloaderror', e.getMessage());\n}\n</code></pre>\n\n<p>But for some reason, the <code>InputStream is = ucon.getInputStream()</code> causes an error and the catch block is fired.  And when the catch block is fired, the value of <code>e</code> is <code>null</code>.</p>\n\n<p>Does anyone konw what is wrong with my <code>ucon.getInputStream()</code> ?  I know for a fact that <code>http://webapi.com/demo.zip</code> exists, because I'm able to download the file from my web browser.</p>\n\n<p><em>EDIT</em>\nHere's the stack trace on ucon.getInputstream()</p>\n\n<pre><code>java.lang.Exception\n            at com.example.instantramenz.samplewebview.MainActivity$1.onClick(MainActivity.java:94)\n            at android.view.View.performClick(View.java:4633)\n            at android.view.View$PerformClick.run(View.java:19270)\n            at android.os.Handler.handleCallback(Handler.java:733)\n            at android.os.Handler.dispatchMessage(Handler.java:95)\n            at android.os.Looper.loop(Looper.java:146)\n            at android.app.ActivityThread.main(ActivityThread.java:5602)\n            at java.lang.reflect.Method.invokeNative(Native Method)\n            at java.lang.reflect.Method.invoke(Method.java:515)\n            at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1283)\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1099)\n            at dalvik.system.NativeStart.main(Native Method)\n</code></pre>\n"},{"tags":["java","classpath"],"answers":[{"tags":[],"owner":{"account_id":321078,"reputation":15468,"user_id":639687,"accept_rate":69,"display_name":"czerny"},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1581608823,"creation_date":1581608823,"answer_id":60211688,"question_id":60211687,"body_markdown":"System property `path.separator` contains classpath separator for current platform. It can be obtained by\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n```\r\nSystem.getProperty(&quot;path.separator&quot;);\r\n```\r\n\r\nFrom [`System.getProperties()`](https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/lang/System.html#getProperties()) documentation:\r\n\r\n&gt; path.separator \tPath separator (&quot;:&quot; on UNIX)\r\n\r\nValues are `:` for Linux and Mac OS, `;` for Windows.","title":"How to get Java classpath separator?","body":"<p>System property <code>path.separator</code> contains classpath separator for current platform. It can be obtained by</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>System.getProperty(\"path.separator\");\n</code></pre>\n\n<p>From <a href=\"https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/lang/System.html#getProperties()\" rel=\"noreferrer\"><code>System.getProperties()</code></a> documentation:</p>\n\n<blockquote>\n  <p>path.separator    Path separator (\":\" on UNIX)</p>\n</blockquote>\n\n<p>Values are <code>:</code> for Linux and Mac OS, <code>;</code> for Windows.</p>\n"},{"tags":[],"owner":{"account_id":2269593,"reputation":43917,"user_id":1997376,"accept_rate":100,"display_name":"Nicolas Filotto"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1683795779,"creation_date":1683795779,"answer_id":76225876,"question_id":60211687,"body_markdown":"For this purpose, you can rely on the constant [`File.pathSeparatorChar`][1] if you expect a `char` or [`File.pathSeparator`][2] if you expect a `String`.\r\n\r\nI quote the Javadoc of `File.pathSeparatorChar`:\r\n\r\n&gt; The system-dependent path-separator character. This field is initialized to contain the first character of the value of the system property path.separator. This character is used to separate filenames in a sequence of files given as a path list. On UNIX systems, this character is &#39;:&#39;; on Microsoft Windows systems it is &#39;;&#39;.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/File.html#pathSeparatorChar\r\n  [2]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/File.html#pathSeparator","title":"How to get Java classpath separator?","body":"<p>For this purpose, you can rely on the constant <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/File.html#pathSeparatorChar\" rel=\"nofollow noreferrer\"><code>File.pathSeparatorChar</code></a> if you expect a <code>char</code> or <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/File.html#pathSeparator\" rel=\"nofollow noreferrer\"><code>File.pathSeparator</code></a> if you expect a <code>String</code>.</p>\n<p>I quote the Javadoc of <code>File.pathSeparatorChar</code>:</p>\n<blockquote>\n<p>The system-dependent path-separator character. This field is initialized to contain the first character of the value of the system property path.separator. This character is used to separate filenames in a sequence of files given as a path list. On UNIX systems, this character is ':'; on Microsoft Windows systems it is ';'.</p>\n</blockquote>\n"}],"owner":{"account_id":321078,"reputation":15468,"user_id":639687,"accept_rate":69,"display_name":"czerny"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2037,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":60211688,"answer_count":2,"score":4,"last_activity_date":1683795779,"creation_date":1581608823,"question_id":60211687,"body_markdown":"How to programmatically get Java classpath separator used in value of java `-cp`/`-classpath` option?","title":"How to get Java classpath separator?","body":"<p>How to programmatically get Java classpath separator used in value of java <code>-cp</code>/<code>-classpath</code> option?</p>\n"},{"tags":["java","spring","spring-cloud-gateway"],"answers":[{"comments":[{"owner":{"account_id":5097362,"reputation":45,"user_id":4088210,"display_name":"Torben Ha"},"score":0,"creation_date":1683794582,"post_id":76225220,"comment_id":134422091,"body_markdown":"How do you mean it? I do not want to change the Header, filter anything or change the responses. I use spring cloud gateway the more the less as a proxy. I do not need to change or filter responses. The reason why I use it and not an nginx, is, because it is possible to define routes to be proxied programmatically and during runtime (e.g. by calling a service registry).","body":"How do you mean it? I do not want to change the Header, filter anything or change the responses. I use spring cloud gateway the more the less as a proxy. I do not need to change or filter responses. The reason why I use it and not an nginx, is, because it is possible to define routes to be proxied programmatically and during runtime (e.g. by calling a service registry)."}],"tags":[],"owner":{"account_id":28177079,"reputation":118,"user_id":21534708,"display_name":"Farfetch&#39;d"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683791168,"creation_date":1683791168,"answer_id":76225220,"question_id":76225028,"body_markdown":"I advise you to take a look on filters :\r\n\r\nhttps://cloud.spring.io/spring-cloud-gateway/reference/html/\r\n\r\nThis is an example of a filter :\r\n\r\nhttps://spring.io/blog/2022/08/26/creating-a-custom-spring-cloud-gateway-filter","title":"HTTP-Headers in Spring Cloud Gateway","body":"<p>I advise you to take a look on filters :</p>\n<p><a href=\"https://cloud.spring.io/spring-cloud-gateway/reference/html/\" rel=\"nofollow noreferrer\">https://cloud.spring.io/spring-cloud-gateway/reference/html/</a></p>\n<p>This is an example of a filter :</p>\n<p><a href=\"https://spring.io/blog/2022/08/26/creating-a-custom-spring-cloud-gateway-filter\" rel=\"nofollow noreferrer\">https://spring.io/blog/2022/08/26/creating-a-custom-spring-cloud-gateway-filter</a></p>\n"}],"owner":{"account_id":5097362,"reputation":45,"user_id":4088210,"display_name":"Torben Ha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":834,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683795733,"creation_date":1683789693,"question_id":76225028,"body_markdown":"I am using spring cloud gateway in version 3.1.6.\r\nSome of my backend servers, which are proxied through the gateway, provide binary http streams. This works fine as long as the backend provides the first chunk immediately, but some of them needs some minutes or more (some do never provide any data and this is wanted and by intention) for the first chunk. Therefore those servers send the first response header before the data is available. This is working fine as long as I connect directly to those servers, it is also working fine when I connect through an NGINX-Proxy, but not when I use Spring Cloud Gateway. \r\nSo is there any kind of possibility to flush those headers?\r\n\r\nEdit 1:\r\nThe header such a service provides and I directly want have forwarded is:\r\n\r\n    HTTP/1.1 200\r\n    Vary: Origin\r\n    Vary: Access-Control-Request-Method\r\n    Vary: Access-Control-Request-Headers\r\n    X-Content-Type-Options: nosniff\r\n    X-XSS-Protection: 1; mode=block\r\n    Cache-Control: no-cache, no-store, max-age=0, must-revalidate\r\n    Pragma: no-cache\r\n    Expires: 0\r\n    X-Frame-Options: DENY\r\n    Content-Type: application/x-protobuf\r\n    Transfer-Encoding: chunked\r\n    Date: Thu, 11 May 2023 08:59:29 GMT\r\n    Keep-Alive: timeout=20\r\n    Connection: keep-alive\r\n\r\nBest Regards\r\n\r\nTorben","title":"HTTP-Headers in Spring Cloud Gateway","body":"<p>I am using spring cloud gateway in version 3.1.6.\nSome of my backend servers, which are proxied through the gateway, provide binary http streams. This works fine as long as the backend provides the first chunk immediately, but some of them needs some minutes or more (some do never provide any data and this is wanted and by intention) for the first chunk. Therefore those servers send the first response header before the data is available. This is working fine as long as I connect directly to those servers, it is also working fine when I connect through an NGINX-Proxy, but not when I use Spring Cloud Gateway.\nSo is there any kind of possibility to flush those headers?</p>\n<p>Edit 1:\nThe header such a service provides and I directly want have forwarded is:</p>\n<pre><code>HTTP/1.1 200\nVary: Origin\nVary: Access-Control-Request-Method\nVary: Access-Control-Request-Headers\nX-Content-Type-Options: nosniff\nX-XSS-Protection: 1; mode=block\nCache-Control: no-cache, no-store, max-age=0, must-revalidate\nPragma: no-cache\nExpires: 0\nX-Frame-Options: DENY\nContent-Type: application/x-protobuf\nTransfer-Encoding: chunked\nDate: Thu, 11 May 2023 08:59:29 GMT\nKeep-Alive: timeout=20\nConnection: keep-alive\n</code></pre>\n<p>Best Regards</p>\n<p>Torben</p>\n"},{"tags":["java","vscode-debugger"],"answers":[{"tags":[],"owner":{"account_id":21559941,"reputation":41,"user_id":15894629,"display_name":"b.schnabel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683795728,"creation_date":1683795728,"answer_id":76225870,"question_id":73925227,"body_markdown":"I had the same issue with the following setup:\r\n\r\nvscode multi root workspace with\r\n\r\n - project A\r\n - procect B\r\n - project C\r\n\r\nWhere project A and project B both referenced project C as a dependency in the pom.xml\r\n\r\nNow if I would set a breakpoint in .java file of project c and run code from project A it would pause in the .class file. The reason is that project A and B used different versions of project C.\r\n\r\n**So my solution was to remove project b from the multi root workspace** (and create a sepearte workspace with only projects B and B)","title":"vscode debug pauses on decompiled .class file instead of source .java files","body":"<p>I had the same issue with the following setup:</p>\n<p>vscode multi root workspace with</p>\n<ul>\n<li>project A</li>\n<li>procect B</li>\n<li>project C</li>\n</ul>\n<p>Where project A and project B both referenced project C as a dependency in the pom.xml</p>\n<p>Now if I would set a breakpoint in .java file of project c and run code from project A it would pause in the .class file. The reason is that project A and B used different versions of project C.</p>\n<p><strong>So my solution was to remove project b from the multi root workspace</strong> (and create a sepearte workspace with only projects B and B)</p>\n"}],"owner":{"account_id":3766658,"reputation":449,"user_id":3130012,"display_name":"user3130012"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":489,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1683795728,"creation_date":1664707956,"question_id":73925227,"body_markdown":"This has been bothering me for quite some time and i have yet to find a solution.\r\n\r\nWhen I set a break point in VSCode for debugging java the debugger pauses on the .class files located in the maven target/classes instead of the .java file.\r\n\r\nI would like it to use .java just like the way Intellij does it. Its really annoying for me when I find my bug and edit the code then hit replay only to find I edited the code in the .class file instead of the .java. The .class file gets overwrite on the next debug play and you lose all the changes you&#39;ve just made.\r\n\r\nI have found this link below on github that asks the same question but there is no answer\r\nhttps://github.com/microsoft/vscode-java-debug/issues/915\r\n\r\nI am using the Microsoft java extension pack.\r\n","title":"vscode debug pauses on decompiled .class file instead of source .java files","body":"<p>This has been bothering me for quite some time and i have yet to find a solution.</p>\n<p>When I set a break point in VSCode for debugging java the debugger pauses on the .class files located in the maven target/classes instead of the .java file.</p>\n<p>I would like it to use .java just like the way Intellij does it. Its really annoying for me when I find my bug and edit the code then hit replay only to find I edited the code in the .class file instead of the .java. The .class file gets overwrite on the next debug play and you lose all the changes you've just made.</p>\n<p>I have found this link below on github that asks the same question but there is no answer\n<a href=\"https://github.com/microsoft/vscode-java-debug/issues/915\" rel=\"nofollow noreferrer\">https://github.com/microsoft/vscode-java-debug/issues/915</a></p>\n<p>I am using the Microsoft java extension pack.</p>\n"},{"tags":["java","testng","playwright-java"],"answers":[{"comments":[{"owner":{"account_id":346350,"reputation":14221,"user_id":679824,"accept_rate":40,"display_name":"Krishnan Mahadevan"},"score":0,"creation_date":1683810172,"post_id":76225854,"comment_id":134425606,"body_markdown":"@KasunHerath - Please accept the answer if it helped so that the question also gets closed.","body":"@KasunHerath - Please accept the answer if it helped so that the question also gets closed."}],"tags":[],"owner":{"account_id":346350,"reputation":14221,"user_id":679824,"accept_rate":40,"display_name":"Krishnan Mahadevan"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1683795632,"creation_date":1683795632,"answer_id":76225854,"question_id":76200263,"body_markdown":"You need to do the following:\r\n\r\n - You use `ITestResult.setAttribute()` (this is one object per `@Test` method) instead of using `ITestContext.setAttribute()` (which is one object for the entire `&lt;test&gt;` tag). One or more `@Test` methods come under a `&lt;test&gt;` tag.\r\n - Since you `getPage(&quot;User&quot;)` is your own custom method, I would suggest that you add the below lines within that method \r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    public Page getPage(String text) {\r\n     \tPage page; //Your logic goes here to find the page to be returned.\r\n    \t\r\n    \t//Get the currently running &quot;@Test&quot; method&#39;s result\r\n    \tITestResult itr = Reporter.getCurrentTestResult();\r\n    \r\n    \t// override the attribute with a reference to the latest page object being returned\r\n    \titr.setAttribute(&quot;Page_Reference&quot;, page);\r\n    \treturn page;\r\n    }\r\n\r\n","title":"How to get the latest Page Value for the iTestContext attributes in Playwright Java (By Overriding)","body":"<p>You need to do the following:</p>\n<ul>\n<li>You use <code>ITestResult.setAttribute()</code> (this is one object per <code>@Test</code> method) instead of using <code>ITestContext.setAttribute()</code> (which is one object for the entire <code>&lt;test&gt;</code> tag). One or more <code>@Test</code> methods come under a <code>&lt;test&gt;</code> tag.</li>\n<li>Since you <code>getPage(&quot;User&quot;)</code> is your own custom method, I would suggest that you add the below lines within that method</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>public Page getPage(String text) {\n    Page page; //Your logic goes here to find the page to be returned.\n    \n    //Get the currently running &quot;@Test&quot; method's result\n    ITestResult itr = Reporter.getCurrentTestResult();\n\n    // override the attribute with a reference to the latest page object being returned\n    itr.setAttribute(&quot;Page_Reference&quot;, page);\n    return page;\n}\n</code></pre>\n"}],"owner":{"account_id":17353003,"reputation":15,"user_id":12571069,"display_name":"Kasun Herath"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76225854,"answer_count":1,"score":1,"last_activity_date":1683795632,"creation_date":1683546180,"question_id":76200263,"body_markdown":"# **Overview**\r\nHi In ItestContexts.setAttribute() the method Page Object does not get overridden by the new pages created , I want to **dynamically update the the page value in ItestContext** on run time\r\n\r\n# **Question**\r\nI&#39;m using Playwright with Java to develop a wrapper framework and I have created a custom listener class implementing **ITestListener** to take screenshot on failure using playwright methods, I only use one Page object in my test class which I overrides with new pages as wanted , but the ItestContext page reference does not get overridden by the latest page value I have set in my test method , **how can I achieve ItestContext.setAttribute to update the latest page value on run time**, as per my Test Method line 3\r\n\r\n\r\n```\r\n@BeforeClass\r\n    public void init(ITestContext iTestContext) {\r\n        iTestContext.setAttribute(&quot;Page_Reference&quot;, page); //page comes from my inherited BaseClass\r\n    }\r\n\r\n\r\n@Test(description = &quot;Testing Screenshot by Overriding Practice&quot;)\r\n    public void navDishLandPage() {\r\n        page.goTo(&quot;https://github.com/&quot;); //page reference comes from my base class - 1\r\n        Page originalPage = page; //stores page reference to later access - 2\r\n        page = getPage(&quot;User&quot;); //Overrides the previous page reference by new Page ; getPage(&quot;Key&quot;) is a wrapper method -3\r\n        page.goTo(&quot;https://github.com/cbeust/testng/issues/2905&quot;);\r\n        page = originalPage; //switching back to the stored page reference\r\n        System.out.println(page.getTitle());\r\n        Assert.assertEquals(page.getTitle(), &quot;TTT&quot;);\r\n    }\r\n```\r\n\r\n**Inside My onTestFailureMethod**\r\n\r\n```\r\n        Page page = (Page) iTestResult.getTestContext().getAttribute(&quot;Page_Reference&quot;);\r\n        byte[] bufferImage=page.screenShot();\r\n```\r\n\r\n\r\n\r\n\r\n","title":"How to get the latest Page Value for the iTestContext attributes in Playwright Java (By Overriding)","body":"<h1><strong>Overview</strong></h1>\n<p>Hi In ItestContexts.setAttribute() the method Page Object does not get overridden by the new pages created , I want to <strong>dynamically update the the page value in ItestContext</strong> on run time</p>\n<h1><strong>Question</strong></h1>\n<p>I'm using Playwright with Java to develop a wrapper framework and I have created a custom listener class implementing <strong>ITestListener</strong> to take screenshot on failure using playwright methods, I only use one Page object in my test class which I overrides with new pages as wanted , but the ItestContext page reference does not get overridden by the latest page value I have set in my test method , <strong>how can I achieve ItestContext.setAttribute to update the latest page value on run time</strong>, as per my Test Method line 3</p>\n<pre><code>@BeforeClass\n    public void init(ITestContext iTestContext) {\n        iTestContext.setAttribute(&quot;Page_Reference&quot;, page); //page comes from my inherited BaseClass\n    }\n\n\n@Test(description = &quot;Testing Screenshot by Overriding Practice&quot;)\n    public void navDishLandPage() {\n        page.goTo(&quot;https://github.com/&quot;); //page reference comes from my base class - 1\n        Page originalPage = page; //stores page reference to later access - 2\n        page = getPage(&quot;User&quot;); //Overrides the previous page reference by new Page ; getPage(&quot;Key&quot;) is a wrapper method -3\n        page.goTo(&quot;https://github.com/cbeust/testng/issues/2905&quot;);\n        page = originalPage; //switching back to the stored page reference\n        System.out.println(page.getTitle());\n        Assert.assertEquals(page.getTitle(), &quot;TTT&quot;);\n    }\n</code></pre>\n<p><strong>Inside My onTestFailureMethod</strong></p>\n<pre><code>        Page page = (Page) iTestResult.getTestContext().getAttribute(&quot;Page_Reference&quot;);\n        byte[] bufferImage=page.screenShot();\n</code></pre>\n"},{"tags":["java","jackson","apache-flink"],"answers":[{"comments":[{"owner":{"account_id":2274094,"reputation":40374,"user_id":2000823,"display_name":"David Anderson"},"score":0,"creation_date":1683775263,"post_id":76217014,"comment_id":134419150,"body_markdown":"See my answer for why you might care.","body":"See my answer for why you might care."}],"tags":[],"owner":{"account_id":93136,"reputation":3176,"user_id":254934,"accept_rate":63,"display_name":"BenoitParis"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683795333,"creation_date":1683712158,"answer_id":76217014,"question_id":76215989,"body_markdown":"\r\nEDIT: follow David Anderson&#39;s answer\r\n\r\n&gt; You can perfectly use the flink-shaded version is you don&#39;t care that\r\n&gt; the library version will be dictated by your (possibly-changing)\r\n&gt; runtime.\r\n&gt; \r\n&gt; Now, the lib is shaded so feel free to supply it yourself if you want\r\n&gt; control of the version. There will be no compatibility issues.\r\n&gt; \r\n&gt; This being said, Jackson is a fairly stable lib and I don&#39;t think\r\n&gt; versions matter a lot. You can just use the flink-shaded version for\r\n&gt; lighter jar bundling. This also leaves you free to pick your own if\r\n&gt; you encounter any problem in the future.\r\n&gt; \r\n&gt; This is a non-problem to me.\r\n\r\n","title":"Should you import your own version of Jackson into a Flink Project?","body":"<p>EDIT: follow David Anderson's answer</p>\n<blockquote>\n<p>You can perfectly use the flink-shaded version is you don't care that\nthe library version will be dictated by your (possibly-changing)\nruntime.</p>\n<p>Now, the lib is shaded so feel free to supply it yourself if you want\ncontrol of the version. There will be no compatibility issues.</p>\n<p>This being said, Jackson is a fairly stable lib and I don't think\nversions matter a lot. You can just use the flink-shaded version for\nlighter jar bundling. This also leaves you free to pick your own if\nyou encounter any problem in the future.</p>\n<p>This is a non-problem to me.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2274094,"reputation":40374,"user_id":2000823,"display_name":"David Anderson"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1683775226,"creation_date":1683775226,"answer_id":76223936,"question_id":76215989,"body_markdown":"Using the shaded Jackson with older versions of Flink is a bad idea.\r\n\r\nWe&#39;ve seen failures caused by the following class loader leak:\r\n\r\n* user decodes JSON with their user-space classes\r\n* Jackson caches these classes internally\r\n* this cache is in Flink&#39;s classloader if used from the shaded dependencies\r\n* user-code class loader cannot be unloaded as long as this class is in the cache (can be quite long)\r\n* Job restarts or session clusters will amplify this problem\r\n\r\nThis was fixed with [FLINK-29834](https://issues.apache.org/jira/browse/FLINK-29834) in 1.16.1 and 1.17.0.\r\n","title":"Should you import your own version of Jackson into a Flink Project?","body":"<p>Using the shaded Jackson with older versions of Flink is a bad idea.</p>\n<p>We've seen failures caused by the following class loader leak:</p>\n<ul>\n<li>user decodes JSON with their user-space classes</li>\n<li>Jackson caches these classes internally</li>\n<li>this cache is in Flink's classloader if used from the shaded dependencies</li>\n<li>user-code class loader cannot be unloaded as long as this class is in the cache (can be quite long)</li>\n<li>Job restarts or session clusters will amplify this problem</li>\n</ul>\n<p>This was fixed with <a href=\"https://issues.apache.org/jira/browse/FLINK-29834\" rel=\"nofollow noreferrer\">FLINK-29834</a> in 1.16.1 and 1.17.0.</p>\n"}],"owner":{"account_id":22807677,"reputation":414,"user_id":16959486,"display_name":"Teddy Tsai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":174,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76223936,"answer_count":2,"score":1,"last_activity_date":1683795333,"creation_date":1683704239,"question_id":76215989,"body_markdown":"Should you import Jackson into a Flink project separately or just use the flink-shaded version of Jackson? And why?","title":"Should you import your own version of Jackson into a Flink Project?","body":"<p>Should you import Jackson into a Flink project separately or just use the flink-shaded version of Jackson? And why?</p>\n"},{"tags":["java","apache-camel","out-of-memory","buffer","jsch"],"comments":[{"owner":{"account_id":1928385,"reputation":1014,"user_id":1738332,"accept_rate":89,"display_name":"Wesley De Keirsmaeker"},"score":0,"creation_date":1697714278,"post_id":76224610,"comment_id":136315942,"body_markdown":"I tried a lot of things to get this fixed, but in the end I wrote the FTP functionality in a bean and memory usage went down by 200MB.","body":"I tried a lot of things to get this fixed, but in the end I wrote the FTP functionality in a bean and memory usage went down by 200MB."}],"owner":{"account_id":9013088,"reputation":11,"user_id":6716923,"display_name":"B.War"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1683795184,"creation_date":1683785418,"question_id":76224610,"body_markdown":"Our application has been throwing **OutOfMemory** for quite sometime. At first we thought it is due to inefficient usage of collections but on deeper analysing the application and heapdump, it looks like **Apache camel** is causing this **memory issue**. We are pulling files from SFTP daily and decrypt them before going through data processing and inserting into **DB**. It looks like **Apache camel** is not freeing up the memory from its jsch buffer.\r\n\r\nOur camel is simple, sharing a sample here: \r\n```\r\nfrom(&quot;sftpUrl&quot;+dynamic_fileName+&quot;.pgp&quot;+&quot;&amp;noop=true&amp;delay=5m&amp;stepwise=false&quot;).routeId(&quot;id&quot;).process(isNotAllprocessed).unmarshal().pgp(somekey,user,pwd).unmarshal().string().process(writeToDBProcessor).log(&quot;Done&quot;);\r\n```\r\n\r\nwe tried using `streamcaching()` and refactoring the processor, nothing resolved this issue.\r\n\r\nOther solutions for apache camel in stack overflow seems to be with **JMS**, I do not find anything related to my issue so posting this. If you know an existing answer kindly comment here.\r\n\r\nHave any of you faced this issue? \r\n\r\nCan someone suggest what we can do here?\r\n\r\n**Please give an explanation why this is happening? how to avoid this?**","title":"Apache camel memory issue with dynamic SFTP uri for file processing","body":"<p>Our application has been throwing <strong>OutOfMemory</strong> for quite sometime. At first we thought it is due to inefficient usage of collections but on deeper analysing the application and heapdump, it looks like <strong>Apache camel</strong> is causing this <strong>memory issue</strong>. We are pulling files from SFTP daily and decrypt them before going through data processing and inserting into <strong>DB</strong>. It looks like <strong>Apache camel</strong> is not freeing up the memory from its jsch buffer.</p>\n<p>Our camel is simple, sharing a sample here:</p>\n<pre><code>from(&quot;sftpUrl&quot;+dynamic_fileName+&quot;.pgp&quot;+&quot;&amp;noop=true&amp;delay=5m&amp;stepwise=false&quot;).routeId(&quot;id&quot;).process(isNotAllprocessed).unmarshal().pgp(somekey,user,pwd).unmarshal().string().process(writeToDBProcessor).log(&quot;Done&quot;);\n</code></pre>\n<p>we tried using <code>streamcaching()</code> and refactoring the processor, nothing resolved this issue.</p>\n<p>Other solutions for apache camel in stack overflow seems to be with <strong>JMS</strong>, I do not find anything related to my issue so posting this. If you know an existing answer kindly comment here.</p>\n<p>Have any of you faced this issue?</p>\n<p>Can someone suggest what we can do here?</p>\n<p><strong>Please give an explanation why this is happening? how to avoid this?</strong></p>\n"},{"tags":["java","multidimensional-array","concurrency","parallel-processing","synchronized"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1683480481,"post_id":76195313,"comment_id":134369937,"body_markdown":"I think the first thing I would do is try to do this single-threaded, and optimize that solution as much as possible.  If the result is still too slow, you can try multi-threading.  However if you get the speed required, stop.","body":"I think the first thing I would do is try to do this single-threaded, and optimize that solution as much as possible.  If the result is still too slow, you can try multi-threading.  However if you get the speed required, stop."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1683480593,"post_id":76195313,"comment_id":134369954,"body_markdown":"The second thing: yes your synchronization looks a little suspect.  If you have too much synchronization between threads, then likely each thread will end up waiting on the other thread, and you won&#39;t see an improvement over the single threaded implementation.  C.f. Amdahl&#39;s Law.","body":"The second thing: yes your synchronization looks a little suspect.  If you have too much synchronization between threads, then likely each thread will end up waiting on the other thread, and you won&#39;t see an improvement over the single threaded implementation.  C.f. Amdahl&#39;s Law."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1683480838,"post_id":76195313,"comment_id":134369990,"body_markdown":"So some ideas: a lot of times two arrays may be used.  One is read only, it contains the data you need.  The other is used for output only, and is private to each thread.  At the end, values from each thread are merged (for example, by summing) to get the final correct value.  If you need something more complex, send output values to a single thread with a task that calculates the intersection of two sub-arrays.  It uses one lock for the entire intersection, this will reduce the number of times you need to take and release a lock, which reduces overhead.","body":"So some ideas: a lot of times two arrays may be used.  One is read only, it contains the data you need.  The other is used for output only, and is private to each thread.  At the end, values from each thread are merged (for example, by summing) to get the final correct value.  If you need something more complex, send output values to a single thread with a task that calculates the intersection of two sub-arrays.  It uses one lock for the entire intersection, this will reduce the number of times you need to take and release a lock, which reduces overhead."},{"owner":{"account_id":25091388,"reputation":1,"user_id":18942983,"display_name":"Adrian Weber"},"score":0,"creation_date":1683483138,"post_id":76195313,"comment_id":134370329,"body_markdown":"Its a task from my university so it is mandetory to parallelize it..","body":"Its a task from my university so it is mandetory to parallelize it.."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1683491211,"post_id":76195313,"comment_id":134371404,"body_markdown":"Well, I think you should use fewer locks.  The current version seems guaranteed to run slowly, at least as I see it.","body":"Well, I think you should use fewer locks.  The current version seems guaranteed to run slowly, at least as I see it."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1683546109,"post_id":76195313,"comment_id":134378276,"body_markdown":"There’s a lot wrong but first, what type does your array have?","body":"There’s a lot wrong but first, what type does your array have?"},{"owner":{"account_id":25091388,"reputation":1,"user_id":18942983,"display_name":"Adrian Weber"},"score":0,"creation_date":1683649584,"post_id":76195313,"comment_id":134397721,"body_markdown":"two dimensional string array (String[][])","body":"two dimensional string array (String[][])"}],"answers":[{"comments":[{"owner":{"account_id":25091388,"reputation":1,"user_id":18942983,"display_name":"Adrian Weber"},"score":0,"creation_date":1683795150,"post_id":76220764,"comment_id":134422215,"body_markdown":"Thanks! Check my edit above, i added more informations","body":"Thanks! Check my edit above, i added more informations"}],"tags":[],"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683736601,"creation_date":1683736601,"answer_id":76220764,"question_id":76195313,"body_markdown":"First of all, developing multi-threaded applications is a complex topic. The complexity may exceed everything you’ve learned so far, so it’s weird to get an assignment including parallel processing from your university without any guidance.\r\n\r\nParallel read access does not impose any problems and hence, does not require locking. On the other hand, problems can occur with concurrent access to the same data while at least one thread modifies it. This is what requires appropriate measures.\r\n\r\nThe next fundamental thing you need to understand is: *`synchronized` does not lock anything*.\r\n\r\nWhen two or more threads try to execute a synchronized block or method, synchronizing *on the same object*, they have to execute the block or method one after the other. The thread entering the synchronized block or method after the other is guaranteed to see the modifications made by the other thread before leaving the synchronized block or method, consistently. But there is no restriction on which data the thread(s) may modify and nothing prevents other threads from modifying the same data without `synchronized`.\r\n\r\nIt’s up to you to arrange the code in a way that all access to the same mutable data is done within synchronized blocks or methods, synchronizing on the same object. A natural valid protocol would be to use the same object whose fields your are accessing for the synchronization, but nothing enforces this. It’s also valid to use a different object for synchronization than the one you’re modifying, you might even modify more than one object, *as long as all threads adhere to the same protocol*.\r\n\r\nSo when you use `synchronized(array[xi][yi]){ … }` you are *not* locking the array element. You are reading the array element, without synchronization as the synchronized block has not entered yet, and synchronizing on the object whose reference you read. Since you said, the objects are (immutable) `String`s, it’s clear that you are not modifying the object but assigning a new string, as that’s the only way to update a string array.\r\n\r\nThis is completely broken. Two threads performing `synchronized(array[xi][yi]){ … }` for the same `xi` and `yi` may see different objects at the array location and synchronizing on different objects is as good as having no synchronization at all. For completeness, it’s also possible to get over-synchronization when the same string is stored at different array locations, but performance problems are irrelevant as long as the program isn’t correct.\r\n\r\nIt might be overkill to create a distinct object for each (600 x 400) array location to lock on those. But how a useful solution might look like depends on how much overlapping your sub-fields actually have and how many writes are necessary in your algorithm, compared to the number of read accesses. That’s a new question, requiring more information about your actual algorithm.\r\n","title":"Parallelize execution on 2D Array - lock single field / cells of array","body":"<p>First of all, developing multi-threaded applications is a complex topic. The complexity may exceed everything you’ve learned so far, so it’s weird to get an assignment including parallel processing from your university without any guidance.</p>\n<p>Parallel read access does not impose any problems and hence, does not require locking. On the other hand, problems can occur with concurrent access to the same data while at least one thread modifies it. This is what requires appropriate measures.</p>\n<p>The next fundamental thing you need to understand is: <em><code>synchronized</code> does not lock anything</em>.</p>\n<p>When two or more threads try to execute a synchronized block or method, synchronizing <em>on the same object</em>, they have to execute the block or method one after the other. The thread entering the synchronized block or method after the other is guaranteed to see the modifications made by the other thread before leaving the synchronized block or method, consistently. But there is no restriction on which data the thread(s) may modify and nothing prevents other threads from modifying the same data without <code>synchronized</code>.</p>\n<p>It’s up to you to arrange the code in a way that all access to the same mutable data is done within synchronized blocks or methods, synchronizing on the same object. A natural valid protocol would be to use the same object whose fields your are accessing for the synchronization, but nothing enforces this. It’s also valid to use a different object for synchronization than the one you’re modifying, you might even modify more than one object, <em>as long as all threads adhere to the same protocol</em>.</p>\n<p>So when you use <code>synchronized(array[xi][yi]){ … }</code> you are <em>not</em> locking the array element. You are reading the array element, without synchronization as the synchronized block has not entered yet, and synchronizing on the object whose reference you read. Since you said, the objects are (immutable) <code>String</code>s, it’s clear that you are not modifying the object but assigning a new string, as that’s the only way to update a string array.</p>\n<p>This is completely broken. Two threads performing <code>synchronized(array[xi][yi]){ … }</code> for the same <code>xi</code> and <code>yi</code> may see different objects at the array location and synchronizing on different objects is as good as having no synchronization at all. For completeness, it’s also possible to get over-synchronization when the same string is stored at different array locations, but performance problems are irrelevant as long as the program isn’t correct.</p>\n<p>It might be overkill to create a distinct object for each (600 x 400) array location to lock on those. But how a useful solution might look like depends on how much overlapping your sub-fields actually have and how many writes are necessary in your algorithm, compared to the number of read accesses. That’s a new question, requiring more information about your actual algorithm.</p>\n"}],"owner":{"account_id":25091388,"reputation":1,"user_id":18942983,"display_name":"Adrian Weber"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683795122,"creation_date":1683480043,"question_id":76195313,"body_markdown":"Iam working on the parallelization of the calculation of a 2D-Array. To be more precise, iam trying to parallize the simulation of a predator-prey szenario. Therefore, i am using a 2D-Array, in which each field of the array displays a pixel. For the parallelization, iam deviding the field to the given number of threads in subfields - one for each thread. The threads should perform the calculation for each field in each sub-array simultaniously.\r\n\r\nMore information about my algorithm: \r\n\r\n1. Step: it chooses a random cell inside its subfield (xi, yi)\r\n2. Step: it chooses a random neighbor field --&gt; left, right, above, below of (xi,yi), called xin, yin\r\n3. Step: it chooses randomly, if it performe a move, selection or reproduction action\r\n\r\nHere is an example of the move action: \r\n\r\n```\r\n    public void move(int xi, int yi, int xin, int yin){\r\n       String temp = this.simulationBoard[xi][yi];\r\n       this.simulationBoard[xi][yi] = this.simulationBoard[xin][yin];\r\n       this.simulationBoard[xin][yin] = temp;\r\n    }\r\n\r\n```\r\n\r\nNow regarding the parallelization: \r\n\r\n- Each thread performs the algorithm on its subfield (this is ensured by only randomly choosing cells in the subfield (by specifying borders))\r\n- The only difference is, that in Step 2 of the algorithm it is checked, wether (xi,yi) or (xin,yin) are located in a critical region\r\n- critical region means, that 2 Threads could both perform an action on the field of the array ((xi,yi) or (xin,yin))\r\n- critical regions are simplified the boarders of each sub-field\r\n\r\nSo my goal is to ensure, that if a threads performs an action on the element of the 2d array that is located in a critical region, \r\nonly one thread can perform the action at a time. During this, the other threads should nether read nor write the element. \r\n\r\nMy current approach is: \r\n\r\n\r\nAll threads are performing methods on the instance of the SimulationBoard class see below:\r\n\r\n```\r\n    public class SimulationBoard{\r\n    \r\n       private String[][] simulationBoard;\r\n    \r\n       ...\r\n    \r\n       public void move(int xi, int yi, int xin, int yin, boolean lockXiYi, boolean lockXinYin) {\r\n            if(lockXiYi &amp;&amp; lockXinYin){\r\n                this.moveXiYiXinYinLocked(xi, yi, xin, yin);\r\n            }\r\n            else if(lockXiYi){\r\n                this.moveXiYiLocked(xi, yi, xin, yin);\r\n            }\r\n            else if(lockXinYin){\r\n                this.moveXinYinLocked(xi, yi, xin, yin);\r\n            }\r\n            else {\r\n                this.moveUnlocked(xi, yi, xin, yin);\r\n            }\r\n       }\r\n        ...\r\n    \r\n        // here, only one thread at a time should acces and perform actions on the element simulationBoard[xi][yi]\r\n        public void moveXiYiLocked(int xi, int yi, int xin, int yin){\r\n            synchronized(simulationBoard[xi][yi]){\r\n                String temp = this.simulationBoard[xi][yi];\r\n                this.simulationBoard[xi][yi] = this.simulationBoard[xin][yin];\r\n                this.simulationBoard[xin][yin] = temp;\r\n            }\r\n        }\r\n    }\r\n\r\n```\r\n\r\nSo this is my current status..\r\n\r\nnow when i am performing my simulation on a 600 x 400 field for example with 4 threads, the whole simulation is not getting any faster. for other configuration the result is more or less the same..\r\n\r\nIs my logic wrong or something like that? \r\nIs synchronized(array[xi][yi]) blocking the whole array maybe???\r\n\r\nThanks for your help!!","title":"Parallelize execution on 2D Array - lock single field / cells of array","body":"<p>Iam working on the parallelization of the calculation of a 2D-Array. To be more precise, iam trying to parallize the simulation of a predator-prey szenario. Therefore, i am using a 2D-Array, in which each field of the array displays a pixel. For the parallelization, iam deviding the field to the given number of threads in subfields - one for each thread. The threads should perform the calculation for each field in each sub-array simultaniously.</p>\n<p>More information about my algorithm:</p>\n<ol>\n<li>Step: it chooses a random cell inside its subfield (xi, yi)</li>\n<li>Step: it chooses a random neighbor field --&gt; left, right, above, below of (xi,yi), called xin, yin</li>\n<li>Step: it chooses randomly, if it performe a move, selection or reproduction action</li>\n</ol>\n<p>Here is an example of the move action:</p>\n<pre><code>    public void move(int xi, int yi, int xin, int yin){\n       String temp = this.simulationBoard[xi][yi];\n       this.simulationBoard[xi][yi] = this.simulationBoard[xin][yin];\n       this.simulationBoard[xin][yin] = temp;\n    }\n\n</code></pre>\n<p>Now regarding the parallelization:</p>\n<ul>\n<li>Each thread performs the algorithm on its subfield (this is ensured by only randomly choosing cells in the subfield (by specifying borders))</li>\n<li>The only difference is, that in Step 2 of the algorithm it is checked, wether (xi,yi) or (xin,yin) are located in a critical region</li>\n<li>critical region means, that 2 Threads could both perform an action on the field of the array ((xi,yi) or (xin,yin))</li>\n<li>critical regions are simplified the boarders of each sub-field</li>\n</ul>\n<p>So my goal is to ensure, that if a threads performs an action on the element of the 2d array that is located in a critical region,\nonly one thread can perform the action at a time. During this, the other threads should nether read nor write the element.</p>\n<p>My current approach is:</p>\n<p>All threads are performing methods on the instance of the SimulationBoard class see below:</p>\n<pre><code>    public class SimulationBoard{\n    \n       private String[][] simulationBoard;\n    \n       ...\n    \n       public void move(int xi, int yi, int xin, int yin, boolean lockXiYi, boolean lockXinYin) {\n            if(lockXiYi &amp;&amp; lockXinYin){\n                this.moveXiYiXinYinLocked(xi, yi, xin, yin);\n            }\n            else if(lockXiYi){\n                this.moveXiYiLocked(xi, yi, xin, yin);\n            }\n            else if(lockXinYin){\n                this.moveXinYinLocked(xi, yi, xin, yin);\n            }\n            else {\n                this.moveUnlocked(xi, yi, xin, yin);\n            }\n       }\n        ...\n    \n        // here, only one thread at a time should acces and perform actions on the element simulationBoard[xi][yi]\n        public void moveXiYiLocked(int xi, int yi, int xin, int yin){\n            synchronized(simulationBoard[xi][yi]){\n                String temp = this.simulationBoard[xi][yi];\n                this.simulationBoard[xi][yi] = this.simulationBoard[xin][yin];\n                this.simulationBoard[xin][yin] = temp;\n            }\n        }\n    }\n\n</code></pre>\n<p>So this is my current status..</p>\n<p>now when i am performing my simulation on a 600 x 400 field for example with 4 threads, the whole simulation is not getting any faster. for other configuration the result is more or less the same..</p>\n<p>Is my logic wrong or something like that?\nIs synchronized(array[xi][yi]) blocking the whole array maybe???</p>\n<p>Thanks for your help!!</p>\n"},{"tags":["javascript","java","android","capacitor"],"owner":{"account_id":25461817,"reputation":37,"user_id":19261454,"display_name":"xtyy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683794582,"creation_date":1683794582,"question_id":76225716,"body_markdown":"I&#39;m currently trying to develop a simple plugin for integrating stylus pen events into an android app.\r\nfollowing the capacitor docs, I&#39;ve setup my dev environment and was given a template with a simple echo method. I have confirmed that after importing this class to javascript, and running the echo method, I can successfully log on the console that the echo method is working correctly.\r\n\r\nI made code changes from this starter template below, take a look:\r\n\r\n```\r\nimport android.app.Activity;\r\nimport android.util.Log;\r\nimport android.view.MotionEvent;\r\nimport android.view.View;\r\n\r\nimport com.getcapacitor.JSObject;\r\nimport com.getcapacitor.Plugin;\r\nimport com.getcapacitor.PluginCall;\r\nimport com.getcapacitor.PluginMethod;\r\nimport com.getcapacitor.annotation.CapacitorPlugin;\r\n\r\n@CapacitorPlugin(name = &quot;MotionEventClass&quot;)\r\npublic class MotionEventClassPlugin extends Plugin {\r\n\r\n    private MotionEventClass implementation = new MotionEventClass();\r\n\r\n    @PluginMethod\r\n    public void echo(PluginCall call) {\r\n        String value = call.getString(&quot;value&quot;);\r\n\r\n        JSObject ret = new JSObject();\r\n        ret.put(&quot;value&quot;, implementation.echo(value));\r\n        call.resolve(ret);\r\n    }\r\n\r\n    private class StylusButtonTouchListener implements View.OnTouchListener {\r\n        @Override\r\n        public boolean onTouch(View v, MotionEvent event) {\r\n            Log.d(&quot;mytag&quot;, &quot;Touch event triggered&quot;);\r\n        }\r\n    }\r\n\r\n    @PluginMethod\r\n    public void setupStylusButtonListener(PluginCall call) {\r\n        // Obtain the activity and root view\r\n        final Activity activity = getBridge().getActivity();\r\n        final View rootView = activity.getWindow().getDecorView().getRootView();\r\n\r\n        if (activity == null) {\r\n            Log.e(&quot;mytag&quot;, &quot;Activity is null&quot;);\r\n            return;\r\n        } else {\r\n            Log.d(&quot;mytag&quot;, &quot;Activity obtained successfully&quot;);\r\n        }\r\n    \r\n        if (rootView == null) {\r\n            Log.e(&quot;mytag&quot;, &quot;RootView is null&quot;);\r\n            return;\r\n        } else {\r\n            Log.d(&quot;mytag&quot;, &quot;RootView obtained successfully&quot;);\r\n        }\r\n        \r\n        // Create the touch listener and set it on the root view\r\n        final StylusButtonTouchListener stylusButtonTouchListener = new StylusButtonTouchListener();\r\n        rootView.setOnTouchListener(stylusButtonTouchListener);\r\n        Log.d(&quot;mytag&quot;, &quot;Touch listener set successfully&quot;);\r\n        // Notify the JavaScript side that the listener has been set up\r\n        call.resolve();\r\n    }\r\n}\r\n\r\n```\r\n\r\n***\r\nbefore listening for stylus input events, I want to do a simple test for the onTouchListener(). So that is why I did not add any stylus-associated code to the plugin yet.\r\n***\r\n\r\n\r\nthen on javascript side:\r\n```\r\nMotionEventClass.echo({ value: &#39;Hello World!&#39; }).then(result =&gt; {\r\n   console.log(result);\r\n}).catch(error =&gt; {\r\n   console.error(error);\r\n});\r\nMotionEventClass.setupStylusButtonListener();\r\n```\r\n\r\nwhen checking my filtered logcat, i can see that touch listener is set successfully.\r\nproblem is, touching on the screen doesn&#39;t fire any events.\r\n\r\nbut the events DO fire if i touch on the navigation bar.\r\n\r\npossibly because capacitor is rendering the javascript page on the webview. \r\nshould i make changes in my plugin class to use webview? \r\nI&#39;m not sure where to go from here. Suggestions would be very much appreciated. &#128591;","title":"capacitor.js plugin for android onTouchListener","body":"<p>I'm currently trying to develop a simple plugin for integrating stylus pen events into an android app.\nfollowing the capacitor docs, I've setup my dev environment and was given a template with a simple echo method. I have confirmed that after importing this class to javascript, and running the echo method, I can successfully log on the console that the echo method is working correctly.</p>\n<p>I made code changes from this starter template below, take a look:</p>\n<pre><code>import android.app.Activity;\nimport android.util.Log;\nimport android.view.MotionEvent;\nimport android.view.View;\n\nimport com.getcapacitor.JSObject;\nimport com.getcapacitor.Plugin;\nimport com.getcapacitor.PluginCall;\nimport com.getcapacitor.PluginMethod;\nimport com.getcapacitor.annotation.CapacitorPlugin;\n\n@CapacitorPlugin(name = &quot;MotionEventClass&quot;)\npublic class MotionEventClassPlugin extends Plugin {\n\n    private MotionEventClass implementation = new MotionEventClass();\n\n    @PluginMethod\n    public void echo(PluginCall call) {\n        String value = call.getString(&quot;value&quot;);\n\n        JSObject ret = new JSObject();\n        ret.put(&quot;value&quot;, implementation.echo(value));\n        call.resolve(ret);\n    }\n\n    private class StylusButtonTouchListener implements View.OnTouchListener {\n        @Override\n        public boolean onTouch(View v, MotionEvent event) {\n            Log.d(&quot;mytag&quot;, &quot;Touch event triggered&quot;);\n        }\n    }\n\n    @PluginMethod\n    public void setupStylusButtonListener(PluginCall call) {\n        // Obtain the activity and root view\n        final Activity activity = getBridge().getActivity();\n        final View rootView = activity.getWindow().getDecorView().getRootView();\n\n        if (activity == null) {\n            Log.e(&quot;mytag&quot;, &quot;Activity is null&quot;);\n            return;\n        } else {\n            Log.d(&quot;mytag&quot;, &quot;Activity obtained successfully&quot;);\n        }\n    \n        if (rootView == null) {\n            Log.e(&quot;mytag&quot;, &quot;RootView is null&quot;);\n            return;\n        } else {\n            Log.d(&quot;mytag&quot;, &quot;RootView obtained successfully&quot;);\n        }\n        \n        // Create the touch listener and set it on the root view\n        final StylusButtonTouchListener stylusButtonTouchListener = new StylusButtonTouchListener();\n        rootView.setOnTouchListener(stylusButtonTouchListener);\n        Log.d(&quot;mytag&quot;, &quot;Touch listener set successfully&quot;);\n        // Notify the JavaScript side that the listener has been set up\n        call.resolve();\n    }\n}\n\n</code></pre>\n<hr />\n<p>before listening for stylus input events, I want to do a simple test for the onTouchListener(). So that is why I did not add any stylus-associated code to the plugin yet.</p>\n<hr />\n<p>then on javascript side:</p>\n<pre><code>MotionEventClass.echo({ value: 'Hello World!' }).then(result =&gt; {\n   console.log(result);\n}).catch(error =&gt; {\n   console.error(error);\n});\nMotionEventClass.setupStylusButtonListener();\n</code></pre>\n<p>when checking my filtered logcat, i can see that touch listener is set successfully.\nproblem is, touching on the screen doesn't fire any events.</p>\n<p>but the events DO fire if i touch on the navigation bar.</p>\n<p>possibly because capacitor is rendering the javascript page on the webview.\nshould i make changes in my plugin class to use webview?\nI'm not sure where to go from here. Suggestions would be very much appreciated. 🙏</p>\n"},{"tags":["java","spring","hibernate"],"comments":[{"owner":{"account_id":3449881,"reputation":3520,"user_id":2889760,"display_name":"Gavin King"},"score":0,"creation_date":1683736354,"post_id":76220273,"comment_id":134413648,"body_markdown":"1. What does `com..application` mean? That&#39;s not a legal package name.","body":"1. What does <code>com..application</code> mean? That&#39;s not a legal package name."},{"owner":{"account_id":3449881,"reputation":3520,"user_id":2889760,"display_name":"Gavin King"},"score":1,"creation_date":1683736377,"post_id":76220273,"comment_id":134413654,"body_markdown":"2. Most likely, you can simply remove all the `proxy=...` attributes. I doubt you need them.","body":"2. Most likely, you can simply remove all the <code>proxy=...</code> attributes. I doubt you need them."},{"owner":{"account_id":23171414,"reputation":195,"user_id":17270610,"display_name":"dynamo"},"score":0,"creation_date":1683787681,"post_id":76220273,"comment_id":134420705,"body_markdown":"@GavinKing had to remove some of the package name for security reasons - also thank you, i will try doing this today.","body":"@GavinKing had to remove some of the package name for security reasons - also thank you, i will try doing this today."}],"answers":[{"tags":[],"owner":{"account_id":23171414,"reputation":195,"user_id":17270610,"display_name":"dynamo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683794447,"creation_date":1683794447,"answer_id":76225701,"question_id":76220273,"body_markdown":"Thanks to GavinKing for the answer in the comments. Removing the proxy property from my xml file solved this error. \r\n\r\n\r\n        &lt;subclass discriminator-value=&quot;MONTHLY_TRUE_UP&quot; \r\n            name=&quot;com..application.nomination.domain.MonthlyTrueUpNomination&quot;\r\n            proxy=&quot;com..application.nomination.domain.Nomination&quot;\r\n        /&gt;","title":"Multiple entities named the same interface as their proxy which is not supported","body":"<p>Thanks to GavinKing for the answer in the comments. Removing the proxy property from my xml file solved this error.</p>\n<pre><code>    &lt;subclass discriminator-value=&quot;MONTHLY_TRUE_UP&quot; \n        name=&quot;com..application.nomination.domain.MonthlyTrueUpNomination&quot;\n        proxy=&quot;com..application.nomination.domain.Nomination&quot;\n    /&gt;\n</code></pre>\n"}],"owner":{"account_id":23171414,"reputation":195,"user_id":17270610,"display_name":"dynamo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683794447,"creation_date":1683732815,"question_id":76220273,"body_markdown":"I am in the process of upgrading an applications tech stack and currently trying to upgrade from hibernate 4.3.11 to 5.4.23. \r\n\r\nthe system is outdated and still uses xml mapping - i have added the nomination xml file at the bottom\r\n\r\nI have managed to complete most of the required changes going off guides/documentation but now when running the app, i get hit with this **runtime error**.\r\n\r\n```\r\ndatasource-config.xml]: Invocation of init method failed; nested exception is org.hibernate.HibernateException: Multiple entities [com.app.application.nomination.domain.AnnualNomination, com.app.application.nomination.domain.IntraDayNomination] named the same interface [com.app.application.nomination.domain.Nomination] as their proxy which is not supported\r\n```\r\nI am unsure about how to fix this and why it isnt allowed. If someone could share their knowledge then that would be very appreciated.\r\n\r\n**tech stack**\r\n - java 11\r\n - spring 5\r\n - hibernate 5\r\n\r\nhere is my datasource config file\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n\t   xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\t   xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt;\r\n    \r\n\t&lt;bean id=&quot;dataSource&quot; class=&quot;org.apache.commons.dbcp.BasicDataSource&quot; destroy-method=&quot;close&quot;&gt;\r\n        &lt;property name=&quot;driverClassName&quot; value=&quot;${datasource.driverClassName}&quot;/&gt;\r\n        &lt;property name=&quot;url&quot; value=&quot;${datasource.url}&quot;/&gt;\r\n        &lt;property name=&quot;username&quot; value=&quot;${datasource.username}&quot;/&gt;\r\n        &lt;property name=&quot;password&quot; value=&quot;${datasource.password}&quot;/&gt;\r\n        &lt;property name=&quot;initialSize&quot; value=&quot;${datasource.initialPoolSize}&quot; /&gt;\r\n        &lt;property name=&quot;minIdle&quot; value=&quot;${datasource.minPoolSize}&quot; /&gt;\r\n        &lt;property name=&quot;maxIdle&quot; value=&quot;${datasource.maxPoolSize}&quot; /&gt;\r\n        &lt;property name=&quot;maxActive&quot; value=&quot;${datasource.maxStatements}&quot; /&gt;\r\n\t\t&lt;property name=&quot;validationQuery&quot; value=&quot;select 1 from dual&quot;/&gt;\r\n\t\t&lt;property name=&quot;testWhileIdle&quot; value=&quot;true&quot;/&gt;\r\n\t\t&lt;property name=&quot;testOnBorrow&quot; value=&quot;true&quot;/&gt;\r\n  \t\t&lt;property name=&quot;testOnReturn&quot; value=&quot;false&quot;/&gt;\r\n    &lt;/bean&gt;\r\n   \r\n    &lt;bean id=&quot;sessionFactory&quot; class=&quot;org.springframework.orm.hibernate5.LocalSessionFactoryBean&quot;&gt;\r\n\t\t&lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /&gt;\r\n\t\t&lt;property name=&quot;configLocation&quot;&gt;\r\n\t\t\t&lt;value&gt;classpath:com/app/application/hibernate.cfg.xml&lt;/value&gt;\r\n\t\t&lt;/property&gt;\r\n\t\t&lt;property name=&quot;packagesToScan&quot; value=&quot;com.amor&quot;/&gt;\r\n    &lt;/bean&gt;\r\n    \r\n    &lt;bean id=&quot;persistenceContext&quot; class=&quot;com.app.application.core.dao.hibernate.DefaultHibernatePersistenceContext&quot;&gt;\r\n        &lt;constructor-arg ref=&quot;sessionFactory&quot; /&gt;\r\n    &lt;/bean&gt;\r\n    \r\n&lt;/beans&gt;\r\n```\r\n\r\nhere is the nomination.hbm.xml \r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;!DOCTYPE hibernate-mapping PUBLIC &quot;-//Hibernate/Hibernate Mapping DTD 3.0//EN&quot;\r\n&quot;http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd&quot;&gt;\r\n\r\n&lt;hibernate-mapping default-access=&quot;field&quot;&gt;\r\n\t&lt;typedef name=&quot;NominationStatus&quot; class=&quot;com..application.core.dao.hibernate.usertype.EnumUserType&quot;&gt;\r\n\t    &lt;param name=&quot;enumClassName&quot;&gt;com..application.nomination.domain.NominationStatus&lt;/param&gt;\r\n\t&lt;/typedef&gt;\r\n\t&lt;typedef name=&quot;NominationType&quot; class=&quot;com..application.core.dao.hibernate.usertype.EnumUserType&quot;&gt;\r\n\t    &lt;param name=&quot;enumClassName&quot;&gt;com..application.nomination.domain.NominationType&lt;/param&gt;\r\n\t&lt;/typedef&gt;\r\n    &lt;class table=&quot;NOMINATION&quot; \r\n    \tname=&quot;com..application.nomination.domain.NominationImpl&quot; \r\n    \tproxy=&quot;com..application.nomination.domain.Nomination&quot; abstract=&quot;true&quot; &gt;\r\n        &lt;id name=&quot;id&quot; type=&quot;java.lang.Long&quot;&gt;\r\n            &lt;column name=&quot;ID&quot; precision=&quot;20&quot; scale=&quot;0&quot; /&gt;\r\n            &lt;generator class=&quot;sequence&quot;&gt;\r\n        \t    &lt;param name=&quot;sequence&quot;&gt;NOMINATION_ID_SEQ&lt;/param&gt;\r\n            &lt;/generator&gt;\r\n        &lt;/id&gt;\r\n        &lt;discriminator column=&quot;NOMINATION_TYPE&quot; type=&quot;string&quot; /&gt;\r\n        &lt;component name=&quot;nominationDetails&quot; class=&quot;com..application.nomination.domain.NominationDetails&quot;&gt;\r\n\t        &lt;property name=&quot;gasDay&quot; type=&quot;LocalDate&quot;&gt;\r\n\t        \t&lt;column name=&quot;GAS_DAY&quot; not-null=&quot;true&quot; /&gt;\r\n\t        &lt;/property&gt;\r\n\t        &lt;many-to-one name=&quot;flowpath&quot; class=&quot;com..application.network.domain.FlowpathImpl&quot;&gt;\r\n\t        \t&lt;column name=&quot;FLOWPATH_ID&quot; not-null=&quot;true&quot; /&gt;\r\n\t        &lt;/many-to-one&gt;\r\n\t        &lt;many-to-one name=&quot;shipper&quot; class=&quot;com..application.network.domain.ShipperImpl&quot;&gt;\r\n\t        \t&lt;column name=&quot;SHIPPER_ID&quot; not-null=&quot;true&quot; /&gt;\r\n\t        &lt;/many-to-one&gt;\r\n\t        &lt;property name=&quot;submittedDateTime&quot; type=&quot;DateTime&quot;&gt;\r\n\t        \t&lt;column name=&quot;SUBMITTED_DATE_TIME&quot; not-null=&quot;true&quot; /&gt;\r\n\t        &lt;/property&gt;\r\n\t        &lt;property name=&quot;effectiveDateTime&quot; type=&quot;DateTime&quot;&gt;\r\n\t        \t&lt;column name=&quot;EFFECTIVE_DATE_TIME&quot; not-null=&quot;false&quot; /&gt;\r\n\t        &lt;/property&gt;\r\n\t         &lt;property name=&quot;nominationStatus&quot; type=&quot;NominationStatus&quot; not-null=&quot;true&quot;&gt;\r\n\t            &lt;column name=&quot;NOMINATION_STATUS&quot; length=&quot;64&quot; /&gt;\r\n\t        &lt;/property&gt;\r\n\t        \r\n\t        &lt;property name=&quot;nominationType&quot; type=&quot;NominationType&quot; column=&quot;NOMINATION_TYPE&quot; insert=&quot;false&quot; update=&quot;false&quot; /&gt;\r\n\t        \r\n\t        &lt;property name=&quot;revisionNumber&quot; type=&quot;int&quot;&gt;\r\n\t            &lt;column name=&quot;REVISION_NUMBER&quot; scale=&quot;0&quot; not-null=&quot;true&quot; /&gt;\r\n\t        &lt;/property&gt;\r\n\t        &lt;property name=&quot;superseded&quot; type=&quot;yes_no&quot;&gt;\r\n\t            &lt;column name=&quot;SUPERSEDED&quot; length=&quot;1&quot;/&gt;\r\n\t        &lt;/property&gt;\r\n\t        &lt;property name=&quot;curtailed&quot; type=&quot;yes_no&quot;&gt;\r\n\t            &lt;column name=&quot;CURTAILED&quot; length=&quot;1&quot;/&gt;\r\n\t        &lt;/property&gt;\r\n       \t\t&lt;many-to-one name=&quot;estimatedCondensate&quot; class=&quot;com..application.data.domain.datapoint.EnergyDataValueImpl&quot; fetch=&quot;select&quot; cascade=&quot;all&quot;&gt;\r\n\t            &lt;column name=&quot;ESTIMATED_CONDENSATE_ID&quot; not-null=&quot;false&quot; /&gt;  \r\n\t        &lt;/many-to-one&gt;\r\n       \t\t&lt;many-to-one name=&quot;deliveryRequirementVolume&quot; class=&quot;com..application.data.domain.datapoint.VolumeDataValueImpl&quot; fetch=&quot;select&quot; cascade=&quot;all&quot;&gt;\r\n\t            &lt;column name=&quot;DELIVERY_REQ_VOLUME_ID&quot; not-null=&quot;false&quot; /&gt;  \r\n\t        &lt;/many-to-one&gt;\r\n       \t\t&lt;many-to-one name=&quot;deliveryRequirementEnergy&quot; class=&quot;com..application.data.domain.datapoint.EnergyDataValueImpl&quot; fetch=&quot;select&quot; cascade=&quot;all&quot;&gt;\r\n\t            &lt;column name=&quot;DELIVERY_REQ_ENERGY_ID&quot; not-null=&quot;false&quot; /&gt;  \r\n\t        &lt;/many-to-one&gt;\r\n\t        &lt;many-to-one name=&quot;nominatedEnergy&quot; class=&quot;com..application.data.domain.datapoint.EnergyDataValueImpl&quot; fetch=&quot;select&quot; cascade=&quot;all&quot;&gt;\r\n\t            &lt;column name=&quot;NOMINATED_ENERGY_ID&quot; not-null=&quot;false&quot; /&gt;  \r\n\t        &lt;/many-to-one&gt;\r\n       \t\t&lt;many-to-one name=&quot;nominatedVolumeFirm&quot; class=&quot;com..application.data.domain.datapoint.VolumeDataValueImpl&quot; fetch=&quot;select&quot; cascade=&quot;all&quot;&gt;\r\n\t            &lt;column name=&quot;NOMINATED_VOLUME_FIRM_ID&quot; not-null=&quot;false&quot; /&gt;  \r\n\t        &lt;/many-to-one&gt;\r\n       \t\t&lt;many-to-one name=&quot;nominatedVolumeInterruptible&quot; class=&quot;com..application.data.domain.datapoint.VolumeDataValueImpl&quot; fetch=&quot;select&quot; cascade=&quot;all&quot;&gt;\r\n\t            &lt;column name=&quot;NOMINATED_VOLUME_INT_ID&quot; not-null=&quot;false&quot; /&gt;  \r\n\t        &lt;/many-to-one&gt;\r\n\t        &lt;many-to-one name=&quot;curtailedVolumeFirm&quot; class=&quot;com..application.data.domain.datapoint.VolumeDataValueImpl&quot; fetch=&quot;select&quot; cascade=&quot;all&quot;&gt;\r\n\t            &lt;column name=&quot;REVISED_VOLUME_FIRM_ID&quot; not-null=&quot;false&quot; /&gt;  \r\n\t        &lt;/many-to-one&gt;\r\n       \t\t&lt;many-to-one name=&quot;curtailedVolumeInterruptible&quot; class=&quot;com..application.data.domain.datapoint.VolumeDataValueImpl&quot; fetch=&quot;select&quot; cascade=&quot;all&quot;&gt;\r\n\t            &lt;column name=&quot;REVISED_VOLUME_INT_ID&quot; not-null=&quot;false&quot; /&gt;  \r\n\t        &lt;/many-to-one&gt;\r\n       \t\t&lt;many-to-one name=&quot;redeliveryRequirementEnergy&quot; class=&quot;com..application.data.domain.datapoint.EnergyDataValueImpl&quot; fetch=&quot;select&quot; cascade=&quot;all&quot;&gt;\r\n\t            &lt;column name=&quot;REDELIVERY_REQ_ENERGY_ID&quot; not-null=&quot;true&quot; /&gt;  \r\n\t        &lt;/many-to-one&gt;\r\n\t        &lt;many-to-one name=&quot;redeliveryRequirementVolume&quot; class=&quot;com..application.data.domain.datapoint.VolumeDataValueImpl&quot; fetch=&quot;select&quot; cascade=&quot;all&quot;&gt;\r\n\t            &lt;column name=&quot;REDELIVERY_REQ_VOLUME_ID&quot; not-null=&quot;false&quot; /&gt;  \r\n\t        &lt;/many-to-one&gt;\r\n       \t\t&lt;many-to-one name=&quot;redeliveryVolume&quot; class=&quot;com..application.data.domain.datapoint.VolumeDataValueImpl&quot; fetch=&quot;select&quot; cascade=&quot;all&quot;&gt;\r\n\t            &lt;column name=&quot;REDELIVERY_VOLUME_ID&quot; not-null=&quot;false&quot; /&gt;  \r\n\t        &lt;/many-to-one&gt;\r\n\t        &lt;many-to-one name=&quot;redeliveryEnergy&quot; class=&quot;com..application.data.domain.datapoint.EnergyDataValueImpl&quot; fetch=&quot;select&quot; cascade=&quot;all&quot;&gt;\r\n\t            &lt;column name=&quot;REDELIVERY_ENERGY_ID&quot; not-null=&quot;false&quot; /&gt;  \r\n\t        &lt;/many-to-one&gt;\r\n\t\t\t&lt;property name=&quot;comment&quot; type=&quot;java.lang.String&quot;&gt;\r\n\t            &lt;column name=&quot;NOMINATION_COMMENT&quot; length=&quot;3000&quot; not-null=&quot;false&quot; /&gt;\r\n\t        &lt;/property&gt;\r\n\t        &lt;property name=&quot;interimImbalance&quot; type=&quot;RTNumber&quot;&gt;\r\n\t        \t&lt;column name=&quot;INTERIM_IMBALANCE&quot; not-null=&quot;false&quot; /&gt;  \r\n\t        &lt;/property&gt;\r\n \t        &lt;property name=&quot;locked&quot; type=&quot;yes_no&quot;&gt;\r\n\t            &lt;column name=&quot;LOCKED&quot; length=&quot;1&quot;/&gt;\r\n\t        &lt;/property&gt;\r\n\t        &lt;property name=&quot;confirmedByTransporter&quot; type=&quot;yes_no&quot;&gt;\r\n\t            &lt;column name=&quot;CONFIRMED_BY_TRANSPORTER&quot; length=&quot;1&quot;/&gt;\r\n\t        &lt;/property&gt;\r\n\t         &lt;many-to-one name=&quot;systemUser&quot; class=&quot;com..application.security.domain.NgcSystemUserImpl&quot; fetch=&quot;select&quot;&gt;\r\n            \t&lt;column name=&quot;SYSTEM_USER_ID&quot; length=&quot;32&quot; not-null=&quot;true&quot; /&gt;\r\n        \t&lt;/many-to-one&gt;\r\n        &lt;/component&gt;\r\n        \r\n        &lt;subclass discriminator-value=&quot;ANNUAL&quot; \r\n        \tname=&quot;com..application.nomination.domain.AnnualNomination&quot;\r\n        \tproxy=&quot;com..application.nomination.domain.Nomination&quot;\r\n        /&gt;\r\n        &lt;subclass discriminator-value=&quot;MONTHLY&quot; \r\n        \tname=&quot;com..application.nomination.domain.MonthlyNomination&quot;\r\n        \tproxy=&quot;com..application.nomination.domain.Nomination&quot;\r\n        /&gt;\r\n        &lt;subclass discriminator-value=&quot;DAILY&quot; \r\n        \tname=&quot;com..application.nomination.domain.DailyNomination&quot;\r\n        \tproxy=&quot;com..application.nomination.domain.Nomination&quot;\r\n        /&gt;\r\n        &lt;subclass discriminator-value=&quot;INTRA_DAY&quot; \r\n        \tname=&quot;com..application.nomination.domain.IntraDayNomination&quot;\r\n        \tproxy=&quot;com..application.nomination.domain.Nomination&quot;\r\n        /&gt;\r\n        &lt;subclass discriminator-value=&quot;DAILY_TRUE_UP&quot; \r\n        \tname=&quot;com..application.nomination.domain.DailyTrueUpNomination&quot;\r\n        \tproxy=&quot;com..application.nomination.domain.Nomination&quot;\r\n        /&gt;\r\n        &lt;subclass discriminator-value=&quot;MONTHLY_TRUE_UP&quot; \r\n        \tname=&quot;com..application.nomination.domain.MonthlyTrueUpNomination&quot;\r\n        \tproxy=&quot;com..application.nomination.domain.Nomination&quot;\r\n        /&gt;\r\n       \r\n    &lt;/class&gt;\r\n    &lt;query name=&quot;findAnnualNominationsApplicableBetweenDates&quot;&gt;&lt;![CDATA[\r\n        select n1 from AnnualNomination as n1  \r\n        where n1.nominationDetails.effectiveDateTime \r\n        between (select max(n2.nominationDetails.effectiveDateTime) \r\n            \t from AnnualNomination n2\r\n            \t where n2.nominationDetails.effectiveDateTime &lt; :startDate) \r\n        \tand (select max(n3.nominationDetails.effectiveDateTime) \r\n            \t from AnnualNomination n3\r\n            \t where n3.nominationDetails.effectiveDateTime &lt; :endDate) \r\n    ]]&gt;&lt;/query&gt;\r\n&lt;/hibernate-mapping&gt;\r\n\r\n```","title":"Multiple entities named the same interface as their proxy which is not supported","body":"<p>I am in the process of upgrading an applications tech stack and currently trying to upgrade from hibernate 4.3.11 to 5.4.23.</p>\n<p>the system is outdated and still uses xml mapping - i have added the nomination xml file at the bottom</p>\n<p>I have managed to complete most of the required changes going off guides/documentation but now when running the app, i get hit with this <strong>runtime error</strong>.</p>\n<pre><code>datasource-config.xml]: Invocation of init method failed; nested exception is org.hibernate.HibernateException: Multiple entities [com.app.application.nomination.domain.AnnualNomination, com.app.application.nomination.domain.IntraDayNomination] named the same interface [com.app.application.nomination.domain.Nomination] as their proxy which is not supported\n</code></pre>\n<p>I am unsure about how to fix this and why it isnt allowed. If someone could share their knowledge then that would be very appreciated.</p>\n<p><strong>tech stack</strong></p>\n<ul>\n<li>java 11</li>\n<li>spring 5</li>\n<li>hibernate 5</li>\n</ul>\n<p>here is my datasource config file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;&gt;\n    \n    &lt;bean id=&quot;dataSource&quot; class=&quot;org.apache.commons.dbcp.BasicDataSource&quot; destroy-method=&quot;close&quot;&gt;\n        &lt;property name=&quot;driverClassName&quot; value=&quot;${datasource.driverClassName}&quot;/&gt;\n        &lt;property name=&quot;url&quot; value=&quot;${datasource.url}&quot;/&gt;\n        &lt;property name=&quot;username&quot; value=&quot;${datasource.username}&quot;/&gt;\n        &lt;property name=&quot;password&quot; value=&quot;${datasource.password}&quot;/&gt;\n        &lt;property name=&quot;initialSize&quot; value=&quot;${datasource.initialPoolSize}&quot; /&gt;\n        &lt;property name=&quot;minIdle&quot; value=&quot;${datasource.minPoolSize}&quot; /&gt;\n        &lt;property name=&quot;maxIdle&quot; value=&quot;${datasource.maxPoolSize}&quot; /&gt;\n        &lt;property name=&quot;maxActive&quot; value=&quot;${datasource.maxStatements}&quot; /&gt;\n        &lt;property name=&quot;validationQuery&quot; value=&quot;select 1 from dual&quot;/&gt;\n        &lt;property name=&quot;testWhileIdle&quot; value=&quot;true&quot;/&gt;\n        &lt;property name=&quot;testOnBorrow&quot; value=&quot;true&quot;/&gt;\n        &lt;property name=&quot;testOnReturn&quot; value=&quot;false&quot;/&gt;\n    &lt;/bean&gt;\n   \n    &lt;bean id=&quot;sessionFactory&quot; class=&quot;org.springframework.orm.hibernate5.LocalSessionFactoryBean&quot;&gt;\n        &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /&gt;\n        &lt;property name=&quot;configLocation&quot;&gt;\n            &lt;value&gt;classpath:com/app/application/hibernate.cfg.xml&lt;/value&gt;\n        &lt;/property&gt;\n        &lt;property name=&quot;packagesToScan&quot; value=&quot;com.amor&quot;/&gt;\n    &lt;/bean&gt;\n    \n    &lt;bean id=&quot;persistenceContext&quot; class=&quot;com.app.application.core.dao.hibernate.DefaultHibernatePersistenceContext&quot;&gt;\n        &lt;constructor-arg ref=&quot;sessionFactory&quot; /&gt;\n    &lt;/bean&gt;\n    \n&lt;/beans&gt;\n</code></pre>\n<p>here is the nomination.hbm.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;!DOCTYPE hibernate-mapping PUBLIC &quot;-//Hibernate/Hibernate Mapping DTD 3.0//EN&quot;\n&quot;http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd&quot;&gt;\n\n&lt;hibernate-mapping default-access=&quot;field&quot;&gt;\n    &lt;typedef name=&quot;NominationStatus&quot; class=&quot;com..application.core.dao.hibernate.usertype.EnumUserType&quot;&gt;\n        &lt;param name=&quot;enumClassName&quot;&gt;com..application.nomination.domain.NominationStatus&lt;/param&gt;\n    &lt;/typedef&gt;\n    &lt;typedef name=&quot;NominationType&quot; class=&quot;com..application.core.dao.hibernate.usertype.EnumUserType&quot;&gt;\n        &lt;param name=&quot;enumClassName&quot;&gt;com..application.nomination.domain.NominationType&lt;/param&gt;\n    &lt;/typedef&gt;\n    &lt;class table=&quot;NOMINATION&quot; \n        name=&quot;com..application.nomination.domain.NominationImpl&quot; \n        proxy=&quot;com..application.nomination.domain.Nomination&quot; abstract=&quot;true&quot; &gt;\n        &lt;id name=&quot;id&quot; type=&quot;java.lang.Long&quot;&gt;\n            &lt;column name=&quot;ID&quot; precision=&quot;20&quot; scale=&quot;0&quot; /&gt;\n            &lt;generator class=&quot;sequence&quot;&gt;\n                &lt;param name=&quot;sequence&quot;&gt;NOMINATION_ID_SEQ&lt;/param&gt;\n            &lt;/generator&gt;\n        &lt;/id&gt;\n        &lt;discriminator column=&quot;NOMINATION_TYPE&quot; type=&quot;string&quot; /&gt;\n        &lt;component name=&quot;nominationDetails&quot; class=&quot;com..application.nomination.domain.NominationDetails&quot;&gt;\n            &lt;property name=&quot;gasDay&quot; type=&quot;LocalDate&quot;&gt;\n                &lt;column name=&quot;GAS_DAY&quot; not-null=&quot;true&quot; /&gt;\n            &lt;/property&gt;\n            &lt;many-to-one name=&quot;flowpath&quot; class=&quot;com..application.network.domain.FlowpathImpl&quot;&gt;\n                &lt;column name=&quot;FLOWPATH_ID&quot; not-null=&quot;true&quot; /&gt;\n            &lt;/many-to-one&gt;\n            &lt;many-to-one name=&quot;shipper&quot; class=&quot;com..application.network.domain.ShipperImpl&quot;&gt;\n                &lt;column name=&quot;SHIPPER_ID&quot; not-null=&quot;true&quot; /&gt;\n            &lt;/many-to-one&gt;\n            &lt;property name=&quot;submittedDateTime&quot; type=&quot;DateTime&quot;&gt;\n                &lt;column name=&quot;SUBMITTED_DATE_TIME&quot; not-null=&quot;true&quot; /&gt;\n            &lt;/property&gt;\n            &lt;property name=&quot;effectiveDateTime&quot; type=&quot;DateTime&quot;&gt;\n                &lt;column name=&quot;EFFECTIVE_DATE_TIME&quot; not-null=&quot;false&quot; /&gt;\n            &lt;/property&gt;\n             &lt;property name=&quot;nominationStatus&quot; type=&quot;NominationStatus&quot; not-null=&quot;true&quot;&gt;\n                &lt;column name=&quot;NOMINATION_STATUS&quot; length=&quot;64&quot; /&gt;\n            &lt;/property&gt;\n            \n            &lt;property name=&quot;nominationType&quot; type=&quot;NominationType&quot; column=&quot;NOMINATION_TYPE&quot; insert=&quot;false&quot; update=&quot;false&quot; /&gt;\n            \n            &lt;property name=&quot;revisionNumber&quot; type=&quot;int&quot;&gt;\n                &lt;column name=&quot;REVISION_NUMBER&quot; scale=&quot;0&quot; not-null=&quot;true&quot; /&gt;\n            &lt;/property&gt;\n            &lt;property name=&quot;superseded&quot; type=&quot;yes_no&quot;&gt;\n                &lt;column name=&quot;SUPERSEDED&quot; length=&quot;1&quot;/&gt;\n            &lt;/property&gt;\n            &lt;property name=&quot;curtailed&quot; type=&quot;yes_no&quot;&gt;\n                &lt;column name=&quot;CURTAILED&quot; length=&quot;1&quot;/&gt;\n            &lt;/property&gt;\n            &lt;many-to-one name=&quot;estimatedCondensate&quot; class=&quot;com..application.data.domain.datapoint.EnergyDataValueImpl&quot; fetch=&quot;select&quot; cascade=&quot;all&quot;&gt;\n                &lt;column name=&quot;ESTIMATED_CONDENSATE_ID&quot; not-null=&quot;false&quot; /&gt;  \n            &lt;/many-to-one&gt;\n            &lt;many-to-one name=&quot;deliveryRequirementVolume&quot; class=&quot;com..application.data.domain.datapoint.VolumeDataValueImpl&quot; fetch=&quot;select&quot; cascade=&quot;all&quot;&gt;\n                &lt;column name=&quot;DELIVERY_REQ_VOLUME_ID&quot; not-null=&quot;false&quot; /&gt;  \n            &lt;/many-to-one&gt;\n            &lt;many-to-one name=&quot;deliveryRequirementEnergy&quot; class=&quot;com..application.data.domain.datapoint.EnergyDataValueImpl&quot; fetch=&quot;select&quot; cascade=&quot;all&quot;&gt;\n                &lt;column name=&quot;DELIVERY_REQ_ENERGY_ID&quot; not-null=&quot;false&quot; /&gt;  \n            &lt;/many-to-one&gt;\n            &lt;many-to-one name=&quot;nominatedEnergy&quot; class=&quot;com..application.data.domain.datapoint.EnergyDataValueImpl&quot; fetch=&quot;select&quot; cascade=&quot;all&quot;&gt;\n                &lt;column name=&quot;NOMINATED_ENERGY_ID&quot; not-null=&quot;false&quot; /&gt;  \n            &lt;/many-to-one&gt;\n            &lt;many-to-one name=&quot;nominatedVolumeFirm&quot; class=&quot;com..application.data.domain.datapoint.VolumeDataValueImpl&quot; fetch=&quot;select&quot; cascade=&quot;all&quot;&gt;\n                &lt;column name=&quot;NOMINATED_VOLUME_FIRM_ID&quot; not-null=&quot;false&quot; /&gt;  \n            &lt;/many-to-one&gt;\n            &lt;many-to-one name=&quot;nominatedVolumeInterruptible&quot; class=&quot;com..application.data.domain.datapoint.VolumeDataValueImpl&quot; fetch=&quot;select&quot; cascade=&quot;all&quot;&gt;\n                &lt;column name=&quot;NOMINATED_VOLUME_INT_ID&quot; not-null=&quot;false&quot; /&gt;  \n            &lt;/many-to-one&gt;\n            &lt;many-to-one name=&quot;curtailedVolumeFirm&quot; class=&quot;com..application.data.domain.datapoint.VolumeDataValueImpl&quot; fetch=&quot;select&quot; cascade=&quot;all&quot;&gt;\n                &lt;column name=&quot;REVISED_VOLUME_FIRM_ID&quot; not-null=&quot;false&quot; /&gt;  \n            &lt;/many-to-one&gt;\n            &lt;many-to-one name=&quot;curtailedVolumeInterruptible&quot; class=&quot;com..application.data.domain.datapoint.VolumeDataValueImpl&quot; fetch=&quot;select&quot; cascade=&quot;all&quot;&gt;\n                &lt;column name=&quot;REVISED_VOLUME_INT_ID&quot; not-null=&quot;false&quot; /&gt;  \n            &lt;/many-to-one&gt;\n            &lt;many-to-one name=&quot;redeliveryRequirementEnergy&quot; class=&quot;com..application.data.domain.datapoint.EnergyDataValueImpl&quot; fetch=&quot;select&quot; cascade=&quot;all&quot;&gt;\n                &lt;column name=&quot;REDELIVERY_REQ_ENERGY_ID&quot; not-null=&quot;true&quot; /&gt;  \n            &lt;/many-to-one&gt;\n            &lt;many-to-one name=&quot;redeliveryRequirementVolume&quot; class=&quot;com..application.data.domain.datapoint.VolumeDataValueImpl&quot; fetch=&quot;select&quot; cascade=&quot;all&quot;&gt;\n                &lt;column name=&quot;REDELIVERY_REQ_VOLUME_ID&quot; not-null=&quot;false&quot; /&gt;  \n            &lt;/many-to-one&gt;\n            &lt;many-to-one name=&quot;redeliveryVolume&quot; class=&quot;com..application.data.domain.datapoint.VolumeDataValueImpl&quot; fetch=&quot;select&quot; cascade=&quot;all&quot;&gt;\n                &lt;column name=&quot;REDELIVERY_VOLUME_ID&quot; not-null=&quot;false&quot; /&gt;  \n            &lt;/many-to-one&gt;\n            &lt;many-to-one name=&quot;redeliveryEnergy&quot; class=&quot;com..application.data.domain.datapoint.EnergyDataValueImpl&quot; fetch=&quot;select&quot; cascade=&quot;all&quot;&gt;\n                &lt;column name=&quot;REDELIVERY_ENERGY_ID&quot; not-null=&quot;false&quot; /&gt;  \n            &lt;/many-to-one&gt;\n            &lt;property name=&quot;comment&quot; type=&quot;java.lang.String&quot;&gt;\n                &lt;column name=&quot;NOMINATION_COMMENT&quot; length=&quot;3000&quot; not-null=&quot;false&quot; /&gt;\n            &lt;/property&gt;\n            &lt;property name=&quot;interimImbalance&quot; type=&quot;RTNumber&quot;&gt;\n                &lt;column name=&quot;INTERIM_IMBALANCE&quot; not-null=&quot;false&quot; /&gt;  \n            &lt;/property&gt;\n            &lt;property name=&quot;locked&quot; type=&quot;yes_no&quot;&gt;\n                &lt;column name=&quot;LOCKED&quot; length=&quot;1&quot;/&gt;\n            &lt;/property&gt;\n            &lt;property name=&quot;confirmedByTransporter&quot; type=&quot;yes_no&quot;&gt;\n                &lt;column name=&quot;CONFIRMED_BY_TRANSPORTER&quot; length=&quot;1&quot;/&gt;\n            &lt;/property&gt;\n             &lt;many-to-one name=&quot;systemUser&quot; class=&quot;com..application.security.domain.NgcSystemUserImpl&quot; fetch=&quot;select&quot;&gt;\n                &lt;column name=&quot;SYSTEM_USER_ID&quot; length=&quot;32&quot; not-null=&quot;true&quot; /&gt;\n            &lt;/many-to-one&gt;\n        &lt;/component&gt;\n        \n        &lt;subclass discriminator-value=&quot;ANNUAL&quot; \n            name=&quot;com..application.nomination.domain.AnnualNomination&quot;\n            proxy=&quot;com..application.nomination.domain.Nomination&quot;\n        /&gt;\n        &lt;subclass discriminator-value=&quot;MONTHLY&quot; \n            name=&quot;com..application.nomination.domain.MonthlyNomination&quot;\n            proxy=&quot;com..application.nomination.domain.Nomination&quot;\n        /&gt;\n        &lt;subclass discriminator-value=&quot;DAILY&quot; \n            name=&quot;com..application.nomination.domain.DailyNomination&quot;\n            proxy=&quot;com..application.nomination.domain.Nomination&quot;\n        /&gt;\n        &lt;subclass discriminator-value=&quot;INTRA_DAY&quot; \n            name=&quot;com..application.nomination.domain.IntraDayNomination&quot;\n            proxy=&quot;com..application.nomination.domain.Nomination&quot;\n        /&gt;\n        &lt;subclass discriminator-value=&quot;DAILY_TRUE_UP&quot; \n            name=&quot;com..application.nomination.domain.DailyTrueUpNomination&quot;\n            proxy=&quot;com..application.nomination.domain.Nomination&quot;\n        /&gt;\n        &lt;subclass discriminator-value=&quot;MONTHLY_TRUE_UP&quot; \n            name=&quot;com..application.nomination.domain.MonthlyTrueUpNomination&quot;\n            proxy=&quot;com..application.nomination.domain.Nomination&quot;\n        /&gt;\n       \n    &lt;/class&gt;\n    &lt;query name=&quot;findAnnualNominationsApplicableBetweenDates&quot;&gt;&lt;![CDATA[\n        select n1 from AnnualNomination as n1  \n        where n1.nominationDetails.effectiveDateTime \n        between (select max(n2.nominationDetails.effectiveDateTime) \n                 from AnnualNomination n2\n                 where n2.nominationDetails.effectiveDateTime &lt; :startDate) \n            and (select max(n3.nominationDetails.effectiveDateTime) \n                 from AnnualNomination n3\n                 where n3.nominationDetails.effectiveDateTime &lt; :endDate) \n    ]]&gt;&lt;/query&gt;\n&lt;/hibernate-mapping&gt;\n\n</code></pre>\n"},{"tags":["java","spring-boot","reflection","annotations","annotation-processing"],"comments":[{"owner":{"account_id":951981,"reputation":14760,"user_id":977919,"accept_rate":92,"display_name":"sidgate"},"score":2,"creation_date":1683790502,"post_id":76225092,"comment_id":134421233,"body_markdown":"what is the question? Seems you already know you need to use reflection. where are you stuck?","body":"what is the question? Seems you already know you need to use reflection. where are you stuck?"},{"owner":{"account_id":5337599,"reputation":33,"user_id":4255996,"display_name":"Marc"},"score":0,"creation_date":1683791118,"post_id":76225092,"comment_id":134421338,"body_markdown":"I want to make sure that the code doesn&#39;t fail on runtime. Unit tests are a good idea but I think the solution would be way more clean if compilation would fail when the field does not exist","body":"I want to make sure that the code doesn&#39;t fail on runtime. Unit tests are a good idea but I think the solution would be way more clean if compilation would fail when the field does not exist"}],"answers":[{"comments":[{"owner":{"account_id":459879,"reputation":17931,"user_id":860630,"display_name":"Colin Alworth"},"score":1,"creation_date":1683842118,"post_id":76225688,"comment_id":134432740,"body_markdown":"An annotation processor could work here - define an interface or something that models the fields that need to be accessed, and generate the implementation of that interface at compile time, &quot;reflecting&quot; on the foreign library&#39;s class&#39;s TypeMirrors to confirm all the expected fields exist? However, solving this at compile time only works if the compile classpath matches the runtime classpath, which is not guaranteed in java in general.","body":"An annotation processor could work here - define an interface or something that models the fields that need to be accessed, and generate the implementation of that interface at compile time, &quot;reflecting&quot; on the foreign library&#39;s class&#39;s TypeMirrors to confirm all the expected fields exist? However, solving this at compile time only works if the compile classpath matches the runtime classpath, which is not guaranteed in java in general."}],"tags":[],"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1683794335,"creation_date":1683794335,"answer_id":76225688,"question_id":76225092,"body_markdown":"If you cannot fail during compile time, the second best thing is to add a Unit Test that invokes your reflection code. That way, if you run your tests after every dependency update (you should do that anyway), your test will fail if the implementation details you rely on change.\r\n\r\nIf you absolutely want to fail compilation, you&#39;ll need some kind of preprocessor. You could, for example, build a small, specialized code generator that generates a bridge interface based on the reflection you have in mind, but fails to generate methods for fields it cannot resolve. Then you only use the generated bridge code. I&#39;m not aware of a library that can do this out of the box, but it&#39;s not very hard to write in the specific case (it does not need to be flexible).\r\n\r\nThis could still lead to runtime problems, for example if the compiletime and runtime versions of your dependencies differ, or if old generated code is not replaced for some reason. So make sure to also add Unit Tests.","title":"Named fields for another class","body":"<p>If you cannot fail during compile time, the second best thing is to add a Unit Test that invokes your reflection code. That way, if you run your tests after every dependency update (you should do that anyway), your test will fail if the implementation details you rely on change.</p>\n<p>If you absolutely want to fail compilation, you'll need some kind of preprocessor. You could, for example, build a small, specialized code generator that generates a bridge interface based on the reflection you have in mind, but fails to generate methods for fields it cannot resolve. Then you only use the generated bridge code. I'm not aware of a library that can do this out of the box, but it's not very hard to write in the specific case (it does not need to be flexible).</p>\n<p>This could still lead to runtime problems, for example if the compiletime and runtime versions of your dependencies differ, or if old generated code is not replaced for some reason. So make sure to also add Unit Tests.</p>\n"}],"owner":{"account_id":5337599,"reputation":33,"user_id":4255996,"display_name":"Marc"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683794335,"creation_date":1683790129,"question_id":76225092,"body_markdown":"I need to access some private fields via reflection. While this is considered bad, it is an external library and I have no other way to access it. The field names (and types) are known in advance (during compile time) and as a precaution for future library updates I want the compiler to throw an error when this field doesn&#39;t exist anymore.\r\n\r\nLombok has the annotation @FieldNameConstants which generates all field names as static Strings. When the field doesn&#39;t exist anymore, the static variable won&#39;t generate and the compiler will throw an error. This would be a great solution, but as this is an external library class I cannot annotate it with lombok.","title":"Named fields for another class","body":"<p>I need to access some private fields via reflection. While this is considered bad, it is an external library and I have no other way to access it. The field names (and types) are known in advance (during compile time) and as a precaution for future library updates I want the compiler to throw an error when this field doesn't exist anymore.</p>\n<p>Lombok has the annotation @FieldNameConstants which generates all field names as static Strings. When the field doesn't exist anymore, the static variable won't generate and the compiler will throw an error. This would be a great solution, but as this is an external library class I cannot annotate it with lombok.</p>\n"},{"tags":["java","json","xml","spring-boot","jackson"],"answers":[{"tags":[],"owner":{"account_id":2465079,"reputation":2962,"user_id":2148365,"display_name":"Michiel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682000004,"creation_date":1681986182,"answer_id":76063031,"question_id":76062760,"body_markdown":"The `@XmlElement(name = &quot;ParticipantBinding&quot;)` annotation might be interfering with the `@com.fasterxml.jackson.annotation.JsonProperty(&quot;participantBindings&quot;)` annotation. Could you verify that your `ObjectMapper` bean has registered the module `JaxbAnnotationModule` at runtime by any chance? \r\n\r\nYou can check this by `@Autowire`-ing the ObjectMapper in any class and debugging the ObjectMapper when a method in the class is called.  Evaluate `mapper.getRegisteredModuleIds()` to see which modules are registered. \r\n\r\nIf the ObjectMapper has indeed registered the module (which I&#39;m guessing it has, as you might also be using it to serialize the object to XML), you might want register separate MessageConverters (each having a separate ObjectMapper) for separate media types. An example can be found [here](https://stackoverflow.com/a/45157169/2148365).","title":"Jackson JAXB ignores JSONProperty when XMLProperty and XMLElementWrapper annotations","body":"<p>The <code>@XmlElement(name = &quot;ParticipantBinding&quot;)</code> annotation might be interfering with the <code>@com.fasterxml.jackson.annotation.JsonProperty(&quot;participantBindings&quot;)</code> annotation. Could you verify that your <code>ObjectMapper</code> bean has registered the module <code>JaxbAnnotationModule</code> at runtime by any chance?</p>\n<p>You can check this by <code>@Autowire</code>-ing the ObjectMapper in any class and debugging the ObjectMapper when a method in the class is called.  Evaluate <code>mapper.getRegisteredModuleIds()</code> to see which modules are registered.</p>\n<p>If the ObjectMapper has indeed registered the module (which I'm guessing it has, as you might also be using it to serialize the object to XML), you might want register separate MessageConverters (each having a separate ObjectMapper) for separate media types. An example can be found <a href=\"https://stackoverflow.com/a/45157169/2148365\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":3970780,"reputation":2667,"user_id":3275441,"accept_rate":75,"display_name":"Milgo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683793881,"creation_date":1683793881,"answer_id":76225621,"question_id":76062760,"body_markdown":"If you come across this problem: The Jaxb message converter should be justed to serialize xml requests but is added only if JAXB2 is present on the classpath and if jackson xml is not.","title":"Jackson JAXB ignores JSONProperty when XMLProperty and XMLElementWrapper annotations","body":"<p>If you come across this problem: The Jaxb message converter should be justed to serialize xml requests but is added only if JAXB2 is present on the classpath and if jackson xml is not.</p>\n"}],"owner":{"account_id":5660807,"reputation":350,"user_id":4478537,"display_name":"Asger Weirs&#248;e"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":438,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76063031,"answer_count":2,"score":1,"last_activity_date":1683793881,"creation_date":1681984205,"question_id":76062760,"body_markdown":"I have a field that I want formatted differently when using XML and JSON, though Jackson only reads the JAXB annotation `@XMLElement` but ignores the Jackson annotation `@JsonProperty` when serializing to JSON.\r\n\r\n\r\n\r\n```java\r\n@XmlElementWrapper(name = &quot;ParticipantBindings&quot;)\r\n@XmlElement(name = &quot;ParticipantBinding&quot;)\r\n@com.fasterxml.jackson.annotation.JsonProperty(&quot;participantBindings&quot;) // This is ignored?\r\npublic List&lt;ParticipantBinding&gt; getParticipantBindings() {\r\n    return participantBindings;\r\n}\r\n```\r\n\r\nMy Spring boot controller is called as so\r\n\r\n```java\r\n@GetMapping(path = &quot;/{id}&quot;, produces = {MediaType.TEXT_XML_VALUE, MediaType.APPLICATION_JSON_VALUE})\r\npublic ResponseEntity&lt;Participant&gt; getParticipantById(@PathVariable(&quot;id&quot;) int id) {\r\n    Participant p = participantDao.getParticipantFull(id);\r\n\r\n    if (p == null) {\r\n        throw new ResourceNotFoundException();\r\n    } else {\r\n        return ResponseEntity.ok(p);\r\n    }\r\n}\r\n```\r\n\r\nWhere the expected result for sending a getrequest with accept-header: application/xml would be:\r\n\r\n```xml\r\n&lt;ParticipantBindings&gt;\r\n   &lt;ParticipanBinding&gt;...&lt;/ParticipantBinding&gt;\r\n   &lt;ParticipanBinding&gt;...&lt;/ParticipantBinding&gt;\r\n&lt;ParticipantBindings&gt;\r\n```\r\n\r\nWhere for application/json the expected result should be:\r\n```JSON\r\n&quot;participantBindings&quot;: [ ...]\r\n```\r\n\r\nAnd although XML is correctly formatted, the JSON is outputted as follows:\r\n```JSON\r\n&quot;ParticipantBinding&quot; : [ ...]\r\n``` \r\n\r\n\r\n\r\n","title":"Jackson JAXB ignores JSONProperty when XMLProperty and XMLElementWrapper annotations","body":"<p>I have a field that I want formatted differently when using XML and JSON, though Jackson only reads the JAXB annotation <code>@XMLElement</code> but ignores the Jackson annotation <code>@JsonProperty</code> when serializing to JSON.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@XmlElementWrapper(name = &quot;ParticipantBindings&quot;)\n@XmlElement(name = &quot;ParticipantBinding&quot;)\n@com.fasterxml.jackson.annotation.JsonProperty(&quot;participantBindings&quot;) // This is ignored?\npublic List&lt;ParticipantBinding&gt; getParticipantBindings() {\n    return participantBindings;\n}\n</code></pre>\n<p>My Spring boot controller is called as so</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping(path = &quot;/{id}&quot;, produces = {MediaType.TEXT_XML_VALUE, MediaType.APPLICATION_JSON_VALUE})\npublic ResponseEntity&lt;Participant&gt; getParticipantById(@PathVariable(&quot;id&quot;) int id) {\n    Participant p = participantDao.getParticipantFull(id);\n\n    if (p == null) {\n        throw new ResourceNotFoundException();\n    } else {\n        return ResponseEntity.ok(p);\n    }\n}\n</code></pre>\n<p>Where the expected result for sending a getrequest with accept-header: application/xml would be:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;ParticipantBindings&gt;\n   &lt;ParticipanBinding&gt;...&lt;/ParticipantBinding&gt;\n   &lt;ParticipanBinding&gt;...&lt;/ParticipantBinding&gt;\n&lt;ParticipantBindings&gt;\n</code></pre>\n<p>Where for application/json the expected result should be:</p>\n<pre><code>&quot;participantBindings&quot;: [ ...]\n</code></pre>\n<p>And although XML is correctly formatted, the JSON is outputted as follows:</p>\n<pre><code>&quot;ParticipantBinding&quot; : [ ...]\n</code></pre>\n"},{"tags":["java","javafx","terminate"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1683662541,"post_id":76212943,"comment_id":134400461,"body_markdown":"Create and post a [mre]","body":"Create and post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"}],"answers":[{"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1683799876,"post_id":76214279,"comment_id":134423321,"body_markdown":"hmm .. or maybe the hidden event is suboptimal to start with: what about using closeRequest and consume under certain conditions?","body":"hmm .. or maybe the hidden event is suboptimal to start with: what about using closeRequest and consume under certain conditions?"}],"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1683680746,"creation_date":1683680746,"answer_id":76214279,"question_id":76212943,"body_markdown":"There are two distinct issues here. The first (and the one I understand best) is that the JavaFX platform, by default, will exit when the last window is closed. You can avoid this with a call to \r\n\r\n    Platform.setImplicitExit(false);\r\n\r\nIn this case, you will need to explicitly call \r\n\r\n    Platform.exit();\r\n\r\nto terminate the application.\r\n\r\nThe second appears to be a question of timing. It looks like the `onHidden` event handler is getting closed before the window has properly closed. Consequently, you call `stage.show()` but then subsequently the underlying native peer window is closed, causing the window not to appear. This might be a bug.\r\n\r\nA couple of workarounds:\r\n\r\n1. Wrap the call in `Platform.runLater(...)` this will enqueue the call on the FX Application Thread and it won&#39;t get invoked until after pending event handlers have completed. This ensures the call to `stage.show()` happens after the window has completely closed.\r\n\r\n        public void start(Stage newStage) {\r\n            Platform.setImplicitExit(false);\r\n            stage = newStage;\r\n            scene = new Scene(mainPane, 640, 700);\r\n            stage.setScene(scene);\r\n            stage.setOnHidden(e -&gt; Platform.runLater(Example::showBuild)); \r\n            showBuild();\r\n    \r\n        }\r\n\r\n2. Use the `showingProperty()` instead. This appears to change only after the window has completely closed.\r\n\r\n        public void start(Stage newStage) {\r\n            Platform.setImplicitExit(false);\r\n            stage = newStage;\r\n            scene = new Scene(mainPane, 640, 700);\r\n            stage.setScene(scene);\r\n            stage.showingProperty().addListener((obs, wasShowing, isNowShowing) -&gt; {\r\n                if (! isNowShowing) {\r\n                    showBuild();\r\n                }\r\n            });\r\n            showBuild();\r\n    \r\n        }","title":"JavaFX program terminates when Stage.show() called a second time","body":"<p>There are two distinct issues here. The first (and the one I understand best) is that the JavaFX platform, by default, will exit when the last window is closed. You can avoid this with a call to</p>\n<pre><code>Platform.setImplicitExit(false);\n</code></pre>\n<p>In this case, you will need to explicitly call</p>\n<pre><code>Platform.exit();\n</code></pre>\n<p>to terminate the application.</p>\n<p>The second appears to be a question of timing. It looks like the <code>onHidden</code> event handler is getting closed before the window has properly closed. Consequently, you call <code>stage.show()</code> but then subsequently the underlying native peer window is closed, causing the window not to appear. This might be a bug.</p>\n<p>A couple of workarounds:</p>\n<ol>\n<li><p>Wrap the call in <code>Platform.runLater(...)</code> this will enqueue the call on the FX Application Thread and it won't get invoked until after pending event handlers have completed. This ensures the call to <code>stage.show()</code> happens after the window has completely closed.</p>\n<pre><code> public void start(Stage newStage) {\n     Platform.setImplicitExit(false);\n     stage = newStage;\n     scene = new Scene(mainPane, 640, 700);\n     stage.setScene(scene);\n     stage.setOnHidden(e -&gt; Platform.runLater(Example::showBuild)); \n     showBuild();\n\n }\n</code></pre>\n</li>\n<li><p>Use the <code>showingProperty()</code> instead. This appears to change only after the window has completely closed.</p>\n<pre><code> public void start(Stage newStage) {\n     Platform.setImplicitExit(false);\n     stage = newStage;\n     scene = new Scene(mainPane, 640, 700);\n     stage.setScene(scene);\n     stage.showingProperty().addListener((obs, wasShowing, isNowShowing) -&gt; {\n         if (! isNowShowing) {\n             showBuild();\n         }\n     });\n     showBuild();\n\n }\n</code></pre>\n</li>\n</ol>\n"}],"owner":{"account_id":21919387,"reputation":3,"user_id":16202822,"display_name":"Untitled"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76214279,"answer_count":1,"score":0,"last_activity_date":1683793622,"creation_date":1683662032,"question_id":76212943,"body_markdown":"I&#39;m writing a JavaFX program that doesn&#39;t show the stage (`Stage.show()`) in the `start(Stage)` function, but rather, other methods in the same class call `Stage.show()` to show the stage at a later time. If I try to call any of the methods which call `Stage.show()` more than once, the program terminates itself.\r\n\r\nThe first showing of the stage/window works as expected, and after I use the ✕ to close the window the program proceeds correctly. However, if I try to call `Stage.show()` again, even from the same method, the stage/window opens and immediately closes, terminating the entire program with it. There is no error: I&#39;m using Eclipse and the exit code is 0, suggesting successful program completion. I don&#39;t know what is different the second time that makes the program think it should terminate.\r\n\r\nMy program is directed by a command system that I built into it, and the command system is paused during the opening of the window or else the window crashes. Because of this, I have no other way of closing the window than the ✕. The `Stage.setonHidden()` restarts my command system.\r\n\r\nAny insights into why closing and reopening a stage might cause the entire program to terminate would be appreciated.\r\n\r\nThis is a whittled down version of my program:\r\n```Java\r\n    import javafx.application.Application;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.layout.BorderPane;\r\n    import javafx.stage.Stage;\r\n    \r\n    public class Example extends Application{\r\n        \r\n        static BorderPane mainPane = new BorderPane();\r\n        static Scene scene;\r\n        static Stage stage;\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tlaunch(args);\r\n    \t}\r\n    \t\r\n    \tpublic void start(Stage newStage) {\r\n    \t\tstage = newStage;\r\n    \t\tscene = new Scene(mainPane, 640, 700);\r\n    \t\tstage.setScene(scene);\r\n    \t\tstage.setOnHidden(e -&gt; showBuild()); //Runs successfully when window is closed\r\n    \t\tshowBuild();\r\n    \t}\r\n    \r\n        public static void showBuild() {\r\n    \t\tstage.show(); //fails to show stage and terminates program when called a second time\r\n    \t}\r\n    \r\n    }\r\n```","title":"JavaFX program terminates when Stage.show() called a second time","body":"<p>I'm writing a JavaFX program that doesn't show the stage (<code>Stage.show()</code>) in the <code>start(Stage)</code> function, but rather, other methods in the same class call <code>Stage.show()</code> to show the stage at a later time. If I try to call any of the methods which call <code>Stage.show()</code> more than once, the program terminates itself.</p>\n<p>The first showing of the stage/window works as expected, and after I use the ✕ to close the window the program proceeds correctly. However, if I try to call <code>Stage.show()</code> again, even from the same method, the stage/window opens and immediately closes, terminating the entire program with it. There is no error: I'm using Eclipse and the exit code is 0, suggesting successful program completion. I don't know what is different the second time that makes the program think it should terminate.</p>\n<p>My program is directed by a command system that I built into it, and the command system is paused during the opening of the window or else the window crashes. Because of this, I have no other way of closing the window than the ✕. The <code>Stage.setonHidden()</code> restarts my command system.</p>\n<p>Any insights into why closing and reopening a stage might cause the entire program to terminate would be appreciated.</p>\n<p>This is a whittled down version of my program:</p>\n<pre><code>    import javafx.application.Application;\n    import javafx.scene.Scene;\n    import javafx.scene.layout.BorderPane;\n    import javafx.stage.Stage;\n    \n    public class Example extends Application{\n        \n        static BorderPane mainPane = new BorderPane();\n        static Scene scene;\n        static Stage stage;\n    \n        public static void main(String[] args) {\n            launch(args);\n        }\n        \n        public void start(Stage newStage) {\n            stage = newStage;\n            scene = new Scene(mainPane, 640, 700);\n            stage.setScene(scene);\n            stage.setOnHidden(e -&gt; showBuild()); //Runs successfully when window is closed\n            showBuild();\n        }\n    \n        public static void showBuild() {\n            stage.show(); //fails to show stage and terminates program when called a second time\n        }\n    \n    }\n</code></pre>\n"},{"tags":["java","log4j","log4j2"],"answers":[{"tags":[],"owner":{"account_id":21424142,"reputation":191,"user_id":15781733,"display_name":"waffledood"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1683793518,"creation_date":1672726161,"answer_id":74989607,"question_id":74989141,"body_markdown":"I understand why the `RegexFilter` doesn&#39;t work, it&#39;s because I&#39;m trying to apply a regex on the logger &amp; not the message.\r\n\r\n`RegexFilter` is intended to apply regexes on messages, not details associated with the logger (type, time, package message was from, etc.) \r\n\r\nI referenced this StackOverflow [post](https://stackoverflow.com/questions/50435243/log4j2-regexfilter-pattern-does-not-match) that was very similar to my question.\r\n\r\nHope this serves as a helpful guide to anyone that comes across this, cheers!","title":"RegexFilter in Log4j2.xml not filtering logs as expected","body":"<p>I understand why the <code>RegexFilter</code> doesn't work, it's because I'm trying to apply a regex on the logger &amp; not the message.</p>\n<p><code>RegexFilter</code> is intended to apply regexes on messages, not details associated with the logger (type, time, package message was from, etc.)</p>\n<p>I referenced this StackOverflow <a href=\"https://stackoverflow.com/questions/50435243/log4j2-regexfilter-pattern-does-not-match\">post</a> that was very similar to my question.</p>\n<p>Hope this serves as a helpful guide to anyone that comes across this, cheers!</p>\n"}],"owner":{"account_id":21424142,"reputation":191,"user_id":15781733,"display_name":"waffledood"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":487,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74989607,"answer_count":1,"score":1,"last_activity_date":1683793518,"creation_date":1672721505,"question_id":74989141,"body_markdown":"I can&#39;t seem to get the `RegexFilter` working. I have set up the `log4j2.xml` file as follows:\r\n\r\n\r\n```\r\n&lt;Console name=&quot;prodOutput&quot; target=&quot;SYSTEM_OUT&quot;&gt;\r\n    &lt;PatternLayout pattern=&quot;[%d] [Org Utility] -- [ITEM1=%X{ITEM1} ITEM2=%X{ITEM2} ITEM3=%X{ITEM3} USERID=%X{USERID} ENV=%X{ENV}]- [%t] %-5p %c %x - %m%n&quot;/&gt;\r\n    &lt;Filters&gt;\r\n        &lt;RegexFilter regex=&quot;.*ENV=local.*&quot; useRawMsg=&quot;false&quot; onMatch=&quot;DENY&quot; onMismatch=&quot;NEUTRAL&quot;/&gt;\r\n    &lt;/Filters&gt;\r\n&lt;/Console&gt;\r\n\r\n&lt;Loggers&gt;\r\n\r\n        &lt;!-- switch off log output from these packages --&gt;\r\n        &lt;Logger name=&quot;orgName.package1&quot; level=&quot;debug&quot; additivity=&quot;false&quot;&gt;\r\n            &lt;appender-ref ref=&quot;prodOutput&quot;/&gt;\r\n        &lt;/Logger&gt;\r\n\r\n        &lt;!-- retain log output for other packages --&gt;\r\n        &lt;Logger name=&quot;orgName&quot; level=&quot;trace&quot; additivity=&quot;false&quot;&gt;\r\n            &lt;appender-ref ref=&quot;${sys:logger.out.type}&quot;/&gt;\r\n        &lt;/Logger&gt;\r\n        &lt;Root level=&quot;info&quot; additivity=&quot;false&quot;&gt;\r\n            &lt;appender-ref ref=&quot;${sys:logger.out.type}&quot;/&gt;\r\n        &lt;/Root&gt;\r\n\r\n&lt;/Loggers&gt;\r\n```\r\n\r\n\r\nHere&#39;s a sample of our log output, but somehow the log from this package `orgName.package1` is not getting picked up the regex, because I can still see the log from this package in the console.\r\n\r\n```\r\n[2023-01-03 12:41:56,353] [Org Utility] -- [ITEM1=XX ITEM2=XX ITEM3=XX USERID=@ADMIN ENV=local]- [ForkJoinPool-1-worker-29] DEBUG orgName.executeRule [] ...\r\n```\r\n\r\nBecause when I replace the regex with the trivial `.*`, the output from the package `orgName.package1` is not shown in the console.\r\n\r\nThe value of `ENV` in `ThreadContextMap` is `local`, so I&#39;m expecting the log output to be `... ENV=local ...` &amp; it indeed is, as shown in the console. But this log is somehow not getting detected by the regex.\r\n\r\nIs there a setting or configuration I missed out on? Or perhaps I had miswrote the regex? But I had double-checked my regex on regex101.com &amp; the test-cases I wrote passed, here&#39;s a [sample](https://regex101.com/r/NHYTlq/1).","title":"RegexFilter in Log4j2.xml not filtering logs as expected","body":"<p>I can't seem to get the <code>RegexFilter</code> working. I have set up the <code>log4j2.xml</code> file as follows:</p>\n<pre><code>&lt;Console name=&quot;prodOutput&quot; target=&quot;SYSTEM_OUT&quot;&gt;\n    &lt;PatternLayout pattern=&quot;[%d] [Org Utility] -- [ITEM1=%X{ITEM1} ITEM2=%X{ITEM2} ITEM3=%X{ITEM3} USERID=%X{USERID} ENV=%X{ENV}]- [%t] %-5p %c %x - %m%n&quot;/&gt;\n    &lt;Filters&gt;\n        &lt;RegexFilter regex=&quot;.*ENV=local.*&quot; useRawMsg=&quot;false&quot; onMatch=&quot;DENY&quot; onMismatch=&quot;NEUTRAL&quot;/&gt;\n    &lt;/Filters&gt;\n&lt;/Console&gt;\n\n&lt;Loggers&gt;\n\n        &lt;!-- switch off log output from these packages --&gt;\n        &lt;Logger name=&quot;orgName.package1&quot; level=&quot;debug&quot; additivity=&quot;false&quot;&gt;\n            &lt;appender-ref ref=&quot;prodOutput&quot;/&gt;\n        &lt;/Logger&gt;\n\n        &lt;!-- retain log output for other packages --&gt;\n        &lt;Logger name=&quot;orgName&quot; level=&quot;trace&quot; additivity=&quot;false&quot;&gt;\n            &lt;appender-ref ref=&quot;${sys:logger.out.type}&quot;/&gt;\n        &lt;/Logger&gt;\n        &lt;Root level=&quot;info&quot; additivity=&quot;false&quot;&gt;\n            &lt;appender-ref ref=&quot;${sys:logger.out.type}&quot;/&gt;\n        &lt;/Root&gt;\n\n&lt;/Loggers&gt;\n</code></pre>\n<p>Here's a sample of our log output, but somehow the log from this package <code>orgName.package1</code> is not getting picked up the regex, because I can still see the log from this package in the console.</p>\n<pre><code>[2023-01-03 12:41:56,353] [Org Utility] -- [ITEM1=XX ITEM2=XX ITEM3=XX USERID=@ADMIN ENV=local]- [ForkJoinPool-1-worker-29] DEBUG orgName.executeRule [] ...\n</code></pre>\n<p>Because when I replace the regex with the trivial <code>.*</code>, the output from the package <code>orgName.package1</code> is not shown in the console.</p>\n<p>The value of <code>ENV</code> in <code>ThreadContextMap</code> is <code>local</code>, so I'm expecting the log output to be <code>... ENV=local ...</code> &amp; it indeed is, as shown in the console. But this log is somehow not getting detected by the regex.</p>\n<p>Is there a setting or configuration I missed out on? Or perhaps I had miswrote the regex? But I had double-checked my regex on regex101.com &amp; the test-cases I wrote passed, here's a <a href=\"https://regex101.com/r/NHYTlq/1\" rel=\"nofollow noreferrer\">sample</a>.</p>\n"},{"tags":["java","maven","spring-boot","javassist","java-9"],"comments":[{"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1504979262,"post_id":46132019,"comment_id":79229257,"body_markdown":"Could you confirm the `java -version` from where you&#39;re trying to execute the command.","body":"Could you confirm the <code>java -version</code> from where you&#39;re trying to execute the command."},{"owner":{"account_id":1537344,"reputation":12765,"user_id":1432980,"accept_rate":73,"display_name":"lapots"},"score":0,"creation_date":1504979613,"post_id":46132019,"comment_id":79229350,"body_markdown":"@nullpointer `java version &quot;9&quot; Java(TM) SE Runtime Environment (build 9+181) Java HotSpot(TM) 64-Bit Server VM (build 9+181, mixed mode)`","body":"@nullpointer <code>java version &quot;9&quot; Java(TM) SE Runtime Environment (build 9+181) Java HotSpot(TM) 64-Bit Server VM (build 9+181, mixed mode)</code>"},{"owner":{"account_id":1537344,"reputation":12765,"user_id":1432980,"accept_rate":73,"display_name":"lapots"},"score":0,"creation_date":1504979696,"post_id":46132019,"comment_id":79229375,"body_markdown":"@nullpointer if I switch to `1.5.6.RELEASE` boot I get `org.hibernate.boot.archive.spi.ArchiveException: Could not build ClassFile\n` which is the same but without `invalid constant type`","body":"@nullpointer if I switch to <code>1.5.6.RELEASE</code> boot I get <code>org.hibernate.boot.archive.spi.ArchiveException: Could not build ClassFile </code> which is the same but without <code>invalid constant type</code>"},{"owner":{"account_id":10098519,"reputation":5323,"user_id":7463126,"display_name":"Alan Bateman"},"score":0,"creation_date":1505027809,"post_id":46132019,"comment_id":79238350,"body_markdown":"Not clear from the question why `--add-modules java.xml.bind` is used. This will ensure that the java.xml.bind module in the JDK is resolved but the CNF seems to the Java Persistence API.","body":"Not clear from the question why <code>--add-modules java.xml.bind</code> is used. This will ensure that the java.xml.bind module in the JDK is resolved but the CNF seems to the Java Persistence API."},{"owner":{"account_id":1537344,"reputation":12765,"user_id":1432980,"accept_rate":73,"display_name":"lapots"},"score":0,"creation_date":1505037147,"post_id":46132019,"comment_id":79240532,"body_markdown":"@AlanBateman oh my bad. With the amount of questions I asked it seems I mixed what and where. Aside `javax.persistence` which I fixed using maven dependencies I also had a problem `java.lang.ClassNotFoundException: javax.xml.bind.JAXBException`. I updated stacktrace. thanks for pointing this out.","body":"@AlanBateman oh my bad. With the amount of questions I asked it seems I mixed what and where. Aside <code>javax.persistence</code> which I fixed using maven dependencies I also had a problem <code>java.lang.ClassNotFoundException: javax.xml.bind.JAXBException</code>. I updated stacktrace. thanks for pointing this out."}],"answers":[{"comments":[{"owner":{"account_id":1537344,"reputation":12765,"user_id":1432980,"accept_rate":73,"display_name":"lapots"},"score":1,"creation_date":1504984891,"post_id":46133927,"comment_id":79230759,"body_markdown":"oh I see. When looked at my dependency tree I completely missed `javassist`. Thanks.","body":"oh I see. When looked at my dependency tree I completely missed <code>javassist</code>. Thanks."},{"owner":{"account_id":10098519,"reputation":5323,"user_id":7463126,"display_name":"Alan Bateman"},"score":2,"creation_date":1505027600,"post_id":46133927,"comment_id":79238316,"body_markdown":"Yes, 19 and 20 are CONSTANT_Module and CONSTANT_Package and you will only find them in a module-info.class. So I assume the issue here is the version of Spring + Javassist don&#39;t have support for JDK 9 and version 53.0 class files yet. Juergen Hoeller has several online presentations and blogs where he talks about the upcoming Spring 5.0 having support for JDK 9. Some of the blogs mention a version of Spring Boot that will follow.","body":"Yes, 19 and 20 are CONSTANT_Module and CONSTANT_Package and you will only find them in a module-info.class. So I assume the issue here is the version of Spring + Javassist don&#39;t have support for JDK 9 and version 53.0 class files yet. Juergen Hoeller has several online presentations and blogs where he talks about the upcoming Spring 5.0 having support for JDK 9. Some of the blogs mention a version of Spring Boot that will follow."}],"tags":[],"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1504982221,"creation_date":1504982221,"answer_id":46133927,"question_id":46132019,"body_markdown":"Though this doesn&#39;t answer on how to fix this but as stated in [JDK-8161256](https://bugs.openjdk.java.net/browse/JDK-8161256) about the Constant pool tags:\r\n\r\n&gt; Java 9 uses codes `19` and `20` for the module system.\r\n\r\nand the way currently `javassist` creates `ClassFile` is by looking up in the [`ConstantPool`](https://docs.oracle.com/javase/specs/jvms/se7/html/jvms-4.html#jvms-4.4-140) (table until Java8) using the [`readOne`](https://github.com/jboss-javassist/javassist/blob/master/src/main/javassist/bytecode/ConstPool.java#L1197) method which certainly lacks something like a `Module` for the latest java version. Your dependency hierarchy for `javassist`:\r\n\r\n&gt;  - org.springframework.boot:spring-boot-starter-actuator:jar:2.0.0.M3:compile\r\n&gt; \r\n&gt;     - org.springframework.boot:spring-boot-starter-data-jpa:jar:2.0.0.M3:compile\r\n&gt; \r\n&gt; \r\n&gt;       -  org.hibernate:hibernate-core:jar:5.2.10.Final:compile\r\n&gt;  \r\n&gt;          -  org.javassist:javassist:jar:3.21.0-GA:compile\r\n\r\n\r\n\r\nLooking at the [tag:javassist] side of things:\r\n\r\n - There seems to be a similar bug registered on [javassist/issues#147](https://github.com/jboss-javassist/javassist/issues/147).\r\n\r\n - The [rel_3_22_0_cr2](https://github.com/jboss-javassist/javassist/releases/tag/rel_3_22_0_cr2) (last release) from them \r\nreads *Compatible with Java 9-ea+164.* Same issue occurs with this version of javassist as well.\r\n\r\n - So you can probably wait for javassist to come back over this with a solution.\r\n\r\n","title":"java.io.IOException: invalid constant type: 19 at 5","body":"<p>Though this doesn't answer on how to fix this but as stated in <a href=\"https://bugs.openjdk.java.net/browse/JDK-8161256\" rel=\"noreferrer\">JDK-8161256</a> about the Constant pool tags:</p>\n\n<blockquote>\n  <p>Java 9 uses codes <code>19</code> and <code>20</code> for the module system.</p>\n</blockquote>\n\n<p>and the way currently <code>javassist</code> creates <code>ClassFile</code> is by looking up in the <a href=\"https://docs.oracle.com/javase/specs/jvms/se7/html/jvms-4.html#jvms-4.4-140\" rel=\"noreferrer\"><code>ConstantPool</code></a> (table until Java8) using the <a href=\"https://github.com/jboss-javassist/javassist/blob/master/src/main/javassist/bytecode/ConstPool.java#L1197\" rel=\"noreferrer\"><code>readOne</code></a> method which certainly lacks something like a <code>Module</code> for the latest java version. Your dependency hierarchy for <code>javassist</code>:</p>\n\n<blockquote>\n  <ul>\n  <li><p>org.springframework.boot:spring-boot-starter-actuator:jar:2.0.0.M3:compile</p>\n  \n  <ul>\n  <li><p>org.springframework.boot:spring-boot-starter-data-jpa:jar:2.0.0.M3:compile</p>\n  \n  <ul>\n  <li><p>org.hibernate:hibernate-core:jar:5.2.10.Final:compile</p>\n  \n  <ul>\n  <li>org.javassist:javassist:jar:3.21.0-GA:compile</li>\n  </ul></li>\n  </ul></li>\n  </ul></li>\n  </ul>\n</blockquote>\n\n<p>Looking at the <a href=\"/questions/tagged/javassist\" class=\"post-tag\" title=\"show questions tagged &#39;javassist&#39;\" rel=\"tag\">javassist</a> side of things:</p>\n\n<ul>\n<li><p>There seems to be a similar bug registered on <a href=\"https://github.com/jboss-javassist/javassist/issues/147\" rel=\"noreferrer\">javassist/issues#147</a>.</p></li>\n<li><p>The <a href=\"https://github.com/jboss-javassist/javassist/releases/tag/rel_3_22_0_cr2\" rel=\"noreferrer\">rel_3_22_0_cr2</a> (last release) from them \nreads <em>Compatible with Java 9-ea+164.</em> Same issue occurs with this version of javassist as well.</p></li>\n<li><p>So you can probably wait for javassist to come back over this with a solution.</p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":34578,"reputation":4133,"user_id":97799,"accept_rate":100,"display_name":"ATorras"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683793491,"creation_date":1683793491,"answer_id":76225568,"question_id":46132019,"body_markdown":"I was hit by this problem when using Java version 11. I switched **back to Java 8** and everything was fixed.","title":"java.io.IOException: invalid constant type: 19 at 5","body":"<p>I was hit by this problem when using Java version 11. I switched <strong>back to Java 8</strong> and everything was fixed.</p>\n"}],"owner":{"account_id":1537344,"reputation":12765,"user_id":1432980,"accept_rate":73,"display_name":"lapots"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9337,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":46133927,"answer_count":2,"score":9,"last_activity_date":1683793491,"creation_date":1504969613,"question_id":46132019,"body_markdown":"I have a [project][1]. It uses `spring boot 2`, `java 9` and maven. It can be build sucessfully using `mvn clean package`. \r\n\r\nTo run `spring boot` application I used the command\r\n\r\n    java -jar java-cloud-rest-api/target/java-cloud-rest-api-0.0.1-SNAPSHOT.jar\r\n\r\nBut it failed with error\r\n\r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaAutoConfiguration.class]: Invocation of init method failed; n\r\n    ested exception is java.lang.NoClassDefFoundError: javax/xml/bind/JAXBException\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1716) ~[spring-beans-5.0.0.RC3.jar!/:5.0.0.RC3]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.0.0.RC3.jar!/:5.0.0.RC3]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:499) ~[spring-beans-5.0.0.RC3.jar!/:5.0.0.RC3]\r\n            at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:312) ~[spring-beans-5.0.0.RC3.jar!/:5.0.0.RC3]\r\n            at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.0.0.RC3.jar!/:5.0.0.RC3]\r\n            at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:310) ~[spring-beans-5.0.0.RC3.jar!/:5.0.0.RC3]\r\n            at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-5.0.0.RC3.jar!/:5.0.0.RC3]\r\n            at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1083) ~[spring-context-5.0.0.RC3.jar!/:5.0.0.RC3]\r\n            at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:858) ~[spring-context-5.0.0.RC3.jar!/:5.0.0.RC3]\r\n            at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549) ~[spring-context-5.0.0.RC3.jar!/:5.0.0.RC3]\r\n            at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:122) ~[spring-boot-2.0.0.M3.jar!/:2.0.0.M3]\r\n            at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:750) [spring-boot-2.0.0.M3.jar!/:2.0.0.M3]\r\n            at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:386) [spring-boot-2.0.0.M3.jar!/:2.0.0.M3]\r\n            at org.springframework.boot.SpringApplication.run(SpringApplication.java:327) [spring-boot-2.0.0.M3.jar!/:2.0.0.M3]\r\n            at org.springframework.boot.SpringApplication.run(SpringApplication.java:1245) [spring-boot-2.0.0.M3.jar!/:2.0.0.M3]\r\n            at org.springframework.boot.SpringApplication.run(SpringApplication.java:1233) [spring-boot-2.0.0.M3.jar!/:2.0.0.M3]\r\n            at com.lapots.breed.platform.cloud.boot.app.JavaCloudSampleApplication.main(JavaCloudSampleApplication.java:10) [classes!/:0.0.1-SNAPSHOT]\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) ~[na:na]\r\n            at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:na]\r\n            at java.base/java.lang.reflect.Method.invoke(Unknown Source) ~[na:na]\r\n            at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [java-cloud-rest-api-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\r\n            at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [java-cloud-rest-api-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\r\n            at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [java-cloud-rest-api-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\r\n            at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [java-cloud-rest-api-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\r\n    Caused by: java.lang.NoClassDefFoundError: javax/xml/bind/JAXBException\r\n            at org.hibernate.boot.spi.XmlMappingBinderAccess.&lt;init&gt;(XmlMappingBinderAccess.java:43) ~[hibernate-core-5.2.10.Final.jar!/:5.2.10.Final]\r\n            at org.hibernate.boot.MetadataSources.&lt;init&gt;(MetadataSources.java:87) ~[hibernate-core-5.2.10.Final.jar!/:5.2.10.Final]\r\n            at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.&lt;init&gt;(EntityManagerFactoryBuilderImpl.java:208) ~[hibernate-core-5.2.10.Final.jar!/:5.2.10.Final]\r\n            at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.&lt;init&gt;(EntityManagerFactoryBuilderImpl.java:163) ~[hibernate-core-5.2.10.Final.jar!/:5.2.10.Final]\r\n            at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:51) ~[spring-orm-5.0.0.RC3.jar!/:5.0.0.RC3]\r\n            at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:358) ~[spring-orm-5.0.0.RC3.jar!/:5.0.0.RC3]\r\n            at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:384) ~[spring-orm-5.0.0.RC3.jar!/:5.0.0.RC3]\r\n            at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:373) ~[spring-orm-5.0.0.RC3.jar!/:5.0.0.RC3]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1776) ~[spring-beans-5.0.0.RC3.jar!/:5.0.0.RC3]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1712) ~[spring-beans-5.0.0.RC3.jar!/:5.0.0.RC3]\r\n            ... 24 common frames omitted\r\n    Caused by: java.lang.ClassNotFoundException: javax.xml.bind.JAXBException\r\n            at java.base/java.net.URLClassLoader.findClass(Unknown Source) ~[na:na]\r\n            at java.base/java.lang.ClassLoader.loadClass(Unknown Source) ~[na:na]\r\n            at org.springframework.boot.loader.LaunchedURLClassLoader.loadClass(LaunchedURLClassLoader.java:93) ~[java-cloud-rest-api-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\r\n            at java.base/java.lang.ClassLoader.loadClass(Unknown Source) ~[na:na]\r\n            ... 34 common frames omitted\r\n\r\n\r\nI added additional argument to start command\r\n\r\n    java --add-modules java.xml.bind -jar java-cloud-rest-api/target/java-cloud-rest-api-0.0.1-SNAPSHOT.jar\r\n\r\nBut when I run it, I get this error\r\n\r\n    java.lang.ClassCastException: org.springframework.boot.context.event.ApplicationFailedEvent cannot be cast to org.springframework.boot.web.context.WebServerInitializedEvent\r\n            at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:159) [spring-context-5.0.0.RC3.jar!/:5.0.0.RC3]\r\n            at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139) [spring-context-5.0.0.RC3.jar!/:5.0.0.RC3]\r\n            at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:127) [spring-context-5.0.0.RC3.jar!/:5.0.0.RC3]\r\n            at org.springframework.boot.context.event.EventPublishingRunListener.finished(EventPublishingRunListener.java:114) [spring-boot-2.0.0.M3.jar!/:2.0.0.M3]\r\n            at org.springframework.boot.SpringApplicationRunListeners.callFinishedListener(SpringApplicationRunListeners.java:79) [spring-boot-2.0.0.M3.jar!/:2.0.0.M3]\r\n            at org.springframework.boot.SpringApplicationRunListeners.finished(SpringApplicationRunListeners.java:72) [spring-boot-2.0.0.M3.jar!/:2.0.0.M3]\r\n            at org.springframework.boot.SpringApplication.handleRunFailure(SpringApplication.java:803) [spring-boot-2.0.0.M3.jar!/:2.0.0.M3]\r\n            at org.springframework.boot.SpringApplication.run(SpringApplication.java:338) [spring-boot-2.0.0.M3.jar!/:2.0.0.M3]\r\n            at org.springframework.boot.SpringApplication.run(SpringApplication.java:1245) [spring-boot-2.0.0.M3.jar!/:2.0.0.M3]\r\n            at org.springframework.boot.SpringApplication.run(SpringApplication.java:1233) [spring-boot-2.0.0.M3.jar!/:2.0.0.M3]\r\n            at com.lapots.breed.platform.cloud.boot.app.JavaCloudSampleApplication.main(JavaCloudSampleApplication.java:10) [classes!/:0.0.1-SNAPSHOT]\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) ~[na:na]\r\n            at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:na]\r\n            at java.base/java.lang.reflect.Method.invoke(Unknown Source) ~[na:na]\r\n            at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [java-cloud-rest-api-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\r\n            at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [java-cloud-rest-api-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\r\n            at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [java-cloud-rest-api-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\r\n            at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [java-cloud-rest-api-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\r\n\r\n    2017-09-09 18:03:42.242  INFO 9200 --- [           main] utoConfigurationReportLoggingInitializer :\r\n\r\n    Error starting ApplicationContext. To display the auto-configuration report re-run your application with &#39;debug&#39; enabled.\r\n    2017-09-09 18:03:42.242 ERROR 9200 --- [           main] o.s.boot.SpringApplication               : Application startup failed\r\n\r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/H\r\n    ibernateJpaAutoConfiguration.class]: Invocation of init method failed; nested exception is org.hibernate.boot.archive.spi.ArchiveException: Could not build ClassFile\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1716) ~[spring-beans-5.0.0.RC3.jar!/:5.0.0.RC3]\r\n\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.0.0.RC3.jar!/:5.0.0.RC3]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:499) ~[spring-beans-5.0.0.RC3.jar!/:5.0.0.RC3]\r\n            at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:312) ~[spring-beans-5.0.0.RC3.jar!/:5.0.0.RC3]\r\n            at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.0.0.RC3.jar!/:5.0.0.RC3]\r\n            at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:310) ~[spring-beans-5.0.0.RC3.jar!/:5.0.0.RC3]\r\n            at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-5.0.0.RC3.jar!/:5.0.0.RC3]\r\n            at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1083) ~[spring-context-5.0.0.RC3.jar!/:5.0.0.RC3]\r\n            at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:858) ~[spring-context-5.0.0.RC3.jar!/:5.0.0.RC3]\r\n            at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549) ~[spring-context-5.0.0.RC3.jar!/:5.0.0.RC3]\r\n            at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:122) ~[spring-boot-2.0.0.M3.jar!/:2.0.0.M3]\r\n            at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:750) [spring-boot-2.0.0.M3.jar!/:2.0.0.M3]\r\n            at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:386) [spring-boot-2.0.0.M3.jar!/:2.0.0.M3]\r\n            at org.springframework.boot.SpringApplication.run(SpringApplication.java:327) [spring-boot-2.0.0.M3.jar!/:2.0.0.M3]\r\n            at org.springframework.boot.SpringApplication.run(SpringApplication.java:1245) [spring-boot-2.0.0.M3.jar!/:2.0.0.M3]\r\n            at org.springframework.boot.SpringApplication.run(SpringApplication.java:1233) [spring-boot-2.0.0.M3.jar!/:2.0.0.M3]\r\n            at com.lapots.breed.platform.cloud.boot.app.JavaCloudSampleApplication.main(JavaCloudSampleApplication.java:10) [classes!/:0.0.1-SNAPSHOT]\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) ~[na:na]\r\n            at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:na]\r\n            at java.base/java.lang.reflect.Method.invoke(Unknown Source) ~[na:na]\r\n            at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [java-cloud-rest-api-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\r\n            at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [java-cloud-rest-api-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\r\n            at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [java-cloud-rest-api-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\r\n            at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [java-cloud-rest-api-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\r\n    Caused by: org.hibernate.boot.archive.spi.ArchiveException: Could not build ClassFile\r\n            at org.hibernate.boot.archive.scan.spi.ClassFileArchiveEntryHandler.toClassFile(ClassFileArchiveEntryHandler.java:64) ~[hibernate-core-5.2.10.Final.jar!/:5.2.10.Final]\r\n            at org.hibernate.boot.archive.scan.spi.ClassFileArchiveEntryHandler.handleEntry(ClassFileArchiveEntryHandler.java:47) ~[hibernate-core-5.2.10.Final.jar!/:5.2.10.Final]\r\n            at org.hibernate.boot.archive.internal.JarFileBasedArchiveDescriptor.visitArchive(JarFileBasedArchiveDescriptor.java:146) ~[hibernate-core-5.2.10.Final.jar!/:5.2.10.Final]\r\n            at org.hibernate.boot.archive.scan.spi.AbstractScannerImpl.scan(AbstractScannerImpl.java:47) ~[hibernate-core-5.2.10.Final.jar!/:5.2.10.Final]\r\n            at org.hibernate.boot.model.process.internal.ScanningCoordinator.coordinateScan(ScanningCoordinator.java:75) ~[hibernate-core-5.2.10.Final.jar!/:5.2.10.Final]\r\n            at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.prepare(MetadataBuildingProcess.java:98) ~[hibernate-core-5.2.10.Final.jar!/:5.2.10.Final]\r\n            at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.&lt;init&gt;(EntityManagerFactoryBuilderImpl.java:228) ~[hibernate-core-5.2.10.Final.jar!/:5.2.10.Final]\r\n            at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.&lt;init&gt;(EntityManagerFactoryBuilderImpl.java:163) ~[hibernate-core-5.2.10.Final.jar!/:5.2.10.Final]\r\n            at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:51) ~[spring-orm-5.0.0.RC3.\r\n    jar!/:5.0.0.RC3]\r\n            at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:358) ~[spring-orm-5.0.0.RC3.jar!/:5\r\n    .0.0.RC3]\r\n            at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:384) ~[spring-orm-5.0.0.RC3.jar!/:5.0.0.RC3]\r\n            at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:373) ~[spring-orm-5.0.0.RC3.jar!/:5.0.0.RC3]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1776) ~[spring-beans-5.0.0.RC3.jar!/:5.0.0.R\r\n    C3]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1712) ~[spring-beans-5.0.0.RC3.jar!/:5.0.0.RC3]\r\n\r\n            ... 24 common frames omitted\r\n    Caused by: java.io.IOException: invalid constant type: 19 at 5\r\n            at javassist.bytecode.ConstPool.readOne(ConstPool.java:1244) ~[javassist-3.21.0-GA.jar!/:na]\r\n            at javassist.bytecode.ConstPool.read(ConstPool.java:1175) ~[javassist-3.21.0-GA.jar!/:na]\r\n            at javassist.bytecode.ConstPool.&lt;init&gt;(ConstPool.java:185) ~[javassist-3.21.0-GA.jar!/:na]\r\n            at javassist.bytecode.ClassFile.read(ClassFile.java:829) ~[javassist-3.21.0-GA.jar!/:na]\r\n            at javassist.bytecode.ClassFile.&lt;init&gt;(ClassFile.java:154) ~[javassist-3.21.0-GA.jar!/:na]\r\n            at org.hibernate.boot.archive.scan.spi.ClassFileArchiveEntryHandler.toClassFile(ClassFileArchiveEntryHandler.java:61) ~[hibernate-core-5.2.10.Final.jar!/:5.2.10.Final]\r\n            ... 37 common frames omitted\r\n\r\n\r\nWhat is the problem?\r\n  [1]: https://github.com/lapots/java-cloud-sample","title":"java.io.IOException: invalid constant type: 19 at 5","body":"<p>I have a <a href=\"https://github.com/lapots/java-cloud-sample\" rel=\"noreferrer\">project</a>. It uses <code>spring boot 2</code>, <code>java 9</code> and maven. It can be build sucessfully using <code>mvn clean package</code>. </p>\n\n<p>To run <code>spring boot</code> application I used the command</p>\n\n<pre><code>java -jar java-cloud-rest-api/target/java-cloud-rest-api-0.0.1-SNAPSHOT.jar\n</code></pre>\n\n<p>But it failed with error</p>\n\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaAutoConfiguration.class]: Invocation of init method failed; n\nested exception is java.lang.NoClassDefFoundError: javax/xml/bind/JAXBException\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1716) ~[spring-beans-5.0.0.RC3.jar!/:5.0.0.RC3]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.0.0.RC3.jar!/:5.0.0.RC3]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:499) ~[spring-beans-5.0.0.RC3.jar!/:5.0.0.RC3]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:312) ~[spring-beans-5.0.0.RC3.jar!/:5.0.0.RC3]\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.0.0.RC3.jar!/:5.0.0.RC3]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:310) ~[spring-beans-5.0.0.RC3.jar!/:5.0.0.RC3]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-5.0.0.RC3.jar!/:5.0.0.RC3]\n        at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1083) ~[spring-context-5.0.0.RC3.jar!/:5.0.0.RC3]\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:858) ~[spring-context-5.0.0.RC3.jar!/:5.0.0.RC3]\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549) ~[spring-context-5.0.0.RC3.jar!/:5.0.0.RC3]\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:122) ~[spring-boot-2.0.0.M3.jar!/:2.0.0.M3]\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:750) [spring-boot-2.0.0.M3.jar!/:2.0.0.M3]\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:386) [spring-boot-2.0.0.M3.jar!/:2.0.0.M3]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:327) [spring-boot-2.0.0.M3.jar!/:2.0.0.M3]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1245) [spring-boot-2.0.0.M3.jar!/:2.0.0.M3]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1233) [spring-boot-2.0.0.M3.jar!/:2.0.0.M3]\n        at com.lapots.breed.platform.cloud.boot.app.JavaCloudSampleApplication.main(JavaCloudSampleApplication.java:10) [classes!/:0.0.1-SNAPSHOT]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) ~[na:na]\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:na]\n        at java.base/java.lang.reflect.Method.invoke(Unknown Source) ~[na:na]\n        at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [java-cloud-rest-api-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [java-cloud-rest-api-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [java-cloud-rest-api-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\n        at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [java-cloud-rest-api-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\nCaused by: java.lang.NoClassDefFoundError: javax/xml/bind/JAXBException\n        at org.hibernate.boot.spi.XmlMappingBinderAccess.&lt;init&gt;(XmlMappingBinderAccess.java:43) ~[hibernate-core-5.2.10.Final.jar!/:5.2.10.Final]\n        at org.hibernate.boot.MetadataSources.&lt;init&gt;(MetadataSources.java:87) ~[hibernate-core-5.2.10.Final.jar!/:5.2.10.Final]\n        at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.&lt;init&gt;(EntityManagerFactoryBuilderImpl.java:208) ~[hibernate-core-5.2.10.Final.jar!/:5.2.10.Final]\n        at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.&lt;init&gt;(EntityManagerFactoryBuilderImpl.java:163) ~[hibernate-core-5.2.10.Final.jar!/:5.2.10.Final]\n        at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:51) ~[spring-orm-5.0.0.RC3.jar!/:5.0.0.RC3]\n        at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:358) ~[spring-orm-5.0.0.RC3.jar!/:5.0.0.RC3]\n        at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:384) ~[spring-orm-5.0.0.RC3.jar!/:5.0.0.RC3]\n        at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:373) ~[spring-orm-5.0.0.RC3.jar!/:5.0.0.RC3]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1776) ~[spring-beans-5.0.0.RC3.jar!/:5.0.0.RC3]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1712) ~[spring-beans-5.0.0.RC3.jar!/:5.0.0.RC3]\n        ... 24 common frames omitted\nCaused by: java.lang.ClassNotFoundException: javax.xml.bind.JAXBException\n        at java.base/java.net.URLClassLoader.findClass(Unknown Source) ~[na:na]\n        at java.base/java.lang.ClassLoader.loadClass(Unknown Source) ~[na:na]\n        at org.springframework.boot.loader.LaunchedURLClassLoader.loadClass(LaunchedURLClassLoader.java:93) ~[java-cloud-rest-api-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\n        at java.base/java.lang.ClassLoader.loadClass(Unknown Source) ~[na:na]\n        ... 34 common frames omitted\n</code></pre>\n\n<p>I added additional argument to start command</p>\n\n<pre><code>java --add-modules java.xml.bind -jar java-cloud-rest-api/target/java-cloud-rest-api-0.0.1-SNAPSHOT.jar\n</code></pre>\n\n<p>But when I run it, I get this error</p>\n\n<pre><code>java.lang.ClassCastException: org.springframework.boot.context.event.ApplicationFailedEvent cannot be cast to org.springframework.boot.web.context.WebServerInitializedEvent\n        at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:159) [spring-context-5.0.0.RC3.jar!/:5.0.0.RC3]\n        at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:139) [spring-context-5.0.0.RC3.jar!/:5.0.0.RC3]\n        at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:127) [spring-context-5.0.0.RC3.jar!/:5.0.0.RC3]\n        at org.springframework.boot.context.event.EventPublishingRunListener.finished(EventPublishingRunListener.java:114) [spring-boot-2.0.0.M3.jar!/:2.0.0.M3]\n        at org.springframework.boot.SpringApplicationRunListeners.callFinishedListener(SpringApplicationRunListeners.java:79) [spring-boot-2.0.0.M3.jar!/:2.0.0.M3]\n        at org.springframework.boot.SpringApplicationRunListeners.finished(SpringApplicationRunListeners.java:72) [spring-boot-2.0.0.M3.jar!/:2.0.0.M3]\n        at org.springframework.boot.SpringApplication.handleRunFailure(SpringApplication.java:803) [spring-boot-2.0.0.M3.jar!/:2.0.0.M3]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:338) [spring-boot-2.0.0.M3.jar!/:2.0.0.M3]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1245) [spring-boot-2.0.0.M3.jar!/:2.0.0.M3]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1233) [spring-boot-2.0.0.M3.jar!/:2.0.0.M3]\n        at com.lapots.breed.platform.cloud.boot.app.JavaCloudSampleApplication.main(JavaCloudSampleApplication.java:10) [classes!/:0.0.1-SNAPSHOT]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) ~[na:na]\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:na]\n        at java.base/java.lang.reflect.Method.invoke(Unknown Source) ~[na:na]\n        at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [java-cloud-rest-api-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [java-cloud-rest-api-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [java-cloud-rest-api-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\n        at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [java-cloud-rest-api-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\n\n2017-09-09 18:03:42.242  INFO 9200 --- [           main] utoConfigurationReportLoggingInitializer :\n\nError starting ApplicationContext. To display the auto-configuration report re-run your application with 'debug' enabled.\n2017-09-09 18:03:42.242 ERROR 9200 --- [           main] o.s.boot.SpringApplication               : Application startup failed\n\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/H\nibernateJpaAutoConfiguration.class]: Invocation of init method failed; nested exception is org.hibernate.boot.archive.spi.ArchiveException: Could not build ClassFile\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1716) ~[spring-beans-5.0.0.RC3.jar!/:5.0.0.RC3]\n\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.0.0.RC3.jar!/:5.0.0.RC3]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:499) ~[spring-beans-5.0.0.RC3.jar!/:5.0.0.RC3]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:312) ~[spring-beans-5.0.0.RC3.jar!/:5.0.0.RC3]\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.0.0.RC3.jar!/:5.0.0.RC3]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:310) ~[spring-beans-5.0.0.RC3.jar!/:5.0.0.RC3]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-5.0.0.RC3.jar!/:5.0.0.RC3]\n        at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1083) ~[spring-context-5.0.0.RC3.jar!/:5.0.0.RC3]\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:858) ~[spring-context-5.0.0.RC3.jar!/:5.0.0.RC3]\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549) ~[spring-context-5.0.0.RC3.jar!/:5.0.0.RC3]\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:122) ~[spring-boot-2.0.0.M3.jar!/:2.0.0.M3]\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:750) [spring-boot-2.0.0.M3.jar!/:2.0.0.M3]\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:386) [spring-boot-2.0.0.M3.jar!/:2.0.0.M3]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:327) [spring-boot-2.0.0.M3.jar!/:2.0.0.M3]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1245) [spring-boot-2.0.0.M3.jar!/:2.0.0.M3]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1233) [spring-boot-2.0.0.M3.jar!/:2.0.0.M3]\n        at com.lapots.breed.platform.cloud.boot.app.JavaCloudSampleApplication.main(JavaCloudSampleApplication.java:10) [classes!/:0.0.1-SNAPSHOT]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) ~[na:na]\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[na:na]\n        at java.base/java.lang.reflect.Method.invoke(Unknown Source) ~[na:na]\n        at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [java-cloud-rest-api-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [java-cloud-rest-api-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [java-cloud-rest-api-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\n        at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [java-cloud-rest-api-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\nCaused by: org.hibernate.boot.archive.spi.ArchiveException: Could not build ClassFile\n        at org.hibernate.boot.archive.scan.spi.ClassFileArchiveEntryHandler.toClassFile(ClassFileArchiveEntryHandler.java:64) ~[hibernate-core-5.2.10.Final.jar!/:5.2.10.Final]\n        at org.hibernate.boot.archive.scan.spi.ClassFileArchiveEntryHandler.handleEntry(ClassFileArchiveEntryHandler.java:47) ~[hibernate-core-5.2.10.Final.jar!/:5.2.10.Final]\n        at org.hibernate.boot.archive.internal.JarFileBasedArchiveDescriptor.visitArchive(JarFileBasedArchiveDescriptor.java:146) ~[hibernate-core-5.2.10.Final.jar!/:5.2.10.Final]\n        at org.hibernate.boot.archive.scan.spi.AbstractScannerImpl.scan(AbstractScannerImpl.java:47) ~[hibernate-core-5.2.10.Final.jar!/:5.2.10.Final]\n        at org.hibernate.boot.model.process.internal.ScanningCoordinator.coordinateScan(ScanningCoordinator.java:75) ~[hibernate-core-5.2.10.Final.jar!/:5.2.10.Final]\n        at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.prepare(MetadataBuildingProcess.java:98) ~[hibernate-core-5.2.10.Final.jar!/:5.2.10.Final]\n        at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.&lt;init&gt;(EntityManagerFactoryBuilderImpl.java:228) ~[hibernate-core-5.2.10.Final.jar!/:5.2.10.Final]\n        at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.&lt;init&gt;(EntityManagerFactoryBuilderImpl.java:163) ~[hibernate-core-5.2.10.Final.jar!/:5.2.10.Final]\n        at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:51) ~[spring-orm-5.0.0.RC3.\njar!/:5.0.0.RC3]\n        at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:358) ~[spring-orm-5.0.0.RC3.jar!/:5\n.0.0.RC3]\n        at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:384) ~[spring-orm-5.0.0.RC3.jar!/:5.0.0.RC3]\n        at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:373) ~[spring-orm-5.0.0.RC3.jar!/:5.0.0.RC3]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1776) ~[spring-beans-5.0.0.RC3.jar!/:5.0.0.R\nC3]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1712) ~[spring-beans-5.0.0.RC3.jar!/:5.0.0.RC3]\n\n        ... 24 common frames omitted\nCaused by: java.io.IOException: invalid constant type: 19 at 5\n        at javassist.bytecode.ConstPool.readOne(ConstPool.java:1244) ~[javassist-3.21.0-GA.jar!/:na]\n        at javassist.bytecode.ConstPool.read(ConstPool.java:1175) ~[javassist-3.21.0-GA.jar!/:na]\n        at javassist.bytecode.ConstPool.&lt;init&gt;(ConstPool.java:185) ~[javassist-3.21.0-GA.jar!/:na]\n        at javassist.bytecode.ClassFile.read(ClassFile.java:829) ~[javassist-3.21.0-GA.jar!/:na]\n        at javassist.bytecode.ClassFile.&lt;init&gt;(ClassFile.java:154) ~[javassist-3.21.0-GA.jar!/:na]\n        at org.hibernate.boot.archive.scan.spi.ClassFileArchiveEntryHandler.toClassFile(ClassFileArchiveEntryHandler.java:61) ~[hibernate-core-5.2.10.Final.jar!/:5.2.10.Final]\n        ... 37 common frames omitted\n</code></pre>\n\n<p>What is the problem?</p>\n"},{"tags":["java","sql","spring","hibernate","jpa"],"comments":[{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":1,"creation_date":1683794121,"post_id":76225492,"comment_id":134421995,"body_markdown":"cb.function(&quot;to_date&quot;, Instant.class, cb.function(&quot;json_value&quot;, Object.class, root.get(&quot;myclob_column&quot;),&quot;$.entry_date&quot;))","body":"cb.function(&quot;to_date&quot;, Instant.class, cb.function(&quot;json_value&quot;, Object.class, root.get(&quot;myclob_column&quot;),&quot;$.entry_date&quot;))"},{"owner":{"account_id":11129218,"reputation":654,"user_id":8169680,"display_name":"Surya"},"score":0,"creation_date":1683812034,"post_id":76225492,"comment_id":134426072,"body_markdown":"Thanks, it worked. If you post this in Answer section , I can accept the answer.","body":"Thanks, it worked. If you post this in Answer section , I can accept the answer."}],"owner":{"account_id":11129218,"reputation":654,"user_id":8169680,"display_name":"Surya"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683793445,"creation_date":1683793065,"question_id":76225492,"body_markdown":"\r\nI have a table `MYTABLE` which has 3 columns as mentioned below.\r\n\r\n    |id | myclob_column | column3|\r\n\r\nIt has one column (`myclob_column`) which is **clob data (json)**. Sample clob data is below.\r\n\r\n    {\r\n    &quot;name&quot; : &quot;Rahul&quot;,\r\n    &quot;entry_date&quot; : &quot;2021-08-26T10:00:00Z&quot;\r\n    }\r\n\r\n`entry_date` field is in string. The below query works fine in oracle db when I convert the string to date by using `TO_DATE` function along with `JSON_VALUE` function.\r\n\r\n\r\n    select * from MYTABLE where TO_DATE( (JSON_VALUE(myclob_column, &#39;$.entry_date&#39;)) , &#39;YYYY-MM-DD&quot;T&quot;HH24:MI:SS&quot;Z&quot;&#39; )  &gt;= TO_DATE(&#39;2021-06-25T10:00:00Z&#39; , &#39;YYYY-MM-DD&quot;T&quot;HH24:MI:SS&quot;Z&quot;&#39;);\r\n\r\n\r\nNow I am writing a code with Java JPA CriteriaBuilder.\r\n\r\n    Expression&lt;Instant&gt; dbFunction = criteriaBuilder.function(&quot;JSON_VALUE&quot;, String.class, &#39;$.entry_date&#39;, &#39;myclob_column&#39;);\r\n\r\n(`Instant.class` is Java class which represents date in &#39;YYYY-MM-DD&quot;T&quot;HH24:MI:SS&quot;Z&quot;&#39; format)\r\n\r\nI have to apply another function `TO_DATE` as well along with `JSON_VALUE` because `JSON_VALUE` will return string date and I have to convert the string date to sql date datatype. How to use both the functions with CriteriaBuilder? Can you please guide.\r\n\r\n**Note:** From java side, I will get date as `Instant class (not String)` from the web application user interface.","title":"JPA Criteria Builder with two database functions together","body":"<p>I have a table <code>MYTABLE</code> which has 3 columns as mentioned below.</p>\n<pre><code>|id | myclob_column | column3|\n</code></pre>\n<p>It has one column (<code>myclob_column</code>) which is <strong>clob data (json)</strong>. Sample clob data is below.</p>\n<pre><code>{\n&quot;name&quot; : &quot;Rahul&quot;,\n&quot;entry_date&quot; : &quot;2021-08-26T10:00:00Z&quot;\n}\n</code></pre>\n<p><code>entry_date</code> field is in string. The below query works fine in oracle db when I convert the string to date by using <code>TO_DATE</code> function along with <code>JSON_VALUE</code> function.</p>\n<pre><code>select * from MYTABLE where TO_DATE( (JSON_VALUE(myclob_column, '$.entry_date')) , 'YYYY-MM-DD&quot;T&quot;HH24:MI:SS&quot;Z&quot;' )  &gt;= TO_DATE('2021-06-25T10:00:00Z' , 'YYYY-MM-DD&quot;T&quot;HH24:MI:SS&quot;Z&quot;');\n</code></pre>\n<p>Now I am writing a code with Java JPA CriteriaBuilder.</p>\n<pre><code>Expression&lt;Instant&gt; dbFunction = criteriaBuilder.function(&quot;JSON_VALUE&quot;, String.class, '$.entry_date', 'myclob_column');\n</code></pre>\n<p>(<code>Instant.class</code> is Java class which represents date in 'YYYY-MM-DD&quot;T&quot;HH24:MI:SS&quot;Z&quot;' format)</p>\n<p>I have to apply another function <code>TO_DATE</code> as well along with <code>JSON_VALUE</code> because <code>JSON_VALUE</code> will return string date and I have to convert the string date to sql date datatype. How to use both the functions with CriteriaBuilder? Can you please guide.</p>\n<p><strong>Note:</strong> From java side, I will get date as <code>Instant class (not String)</code> from the web application user interface.</p>\n"},{"tags":["java","spring-mvc"],"owner":{"account_id":10230595,"reputation":20,"user_id":7551498,"display_name":"Avinash kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683793135,"creation_date":1683793135,"question_id":76225506,"body_markdown":"I am creating Spring MVC project and have neo4j datasource. When i am trying to create Retrybale data source on getConnection getting issue; \r\n\r\n&#39;&#39;&#39;Caused by: java.lang.IllegalArgumentException: DataSource router not initialized\r\n\tat org.springframework.util.Assert.notNull(Assert.java:201) ~[spring-core-5.3.25.jar:5.3.25]\r\n\tat org.springframework.jdbc.datasource.lookup.AbstractRoutingDataSource.determineTargetDataSource(AbstractRoutingDataSource.java:225) ~[spring-jdbc-5.3.25.jar:5.3.25]&#39;&#39;&#39;\r\n\r\n\r\npublic class RetryableDatabasePostProcessor implements BeanPostProcessor {\r\n\r\n    @Override\r\n    public Object postProcessBeforeInitialization(Object bean, String beanName) throws BeansException {\r\n        if(bean instanceof DataSource) {\r\n            return new RetryableDataSource((DataSource) bean);\r\n        }\r\n        return bean;\r\n    }\r\n\r\n    @Override\r\n    public Object postProcessAfterInitialization(Object bean, String beanName) throws BeansException {\r\n        return bean;\r\n    }\r\n\r\n}\r\n\r\npublic  class RetryableDataSource extends AbstractDataSource {\r\n\r\n    private DataSource dataSource;\r\n\r\n    public RetryableDataSource(DataSource bean) {\r\n        dataSource = bean;\r\n    }\r\n\r\n    @Override\r\n    @Retryable(value= {CustomRetryException.class}, maxAttemptsExpression = &quot;2&quot;,  backoff = @Backoff(delayExpression = &quot;2000&quot;))\r\n    public Connection getConnection() throws SQLException {\r\n        return getConnectionWithRetry();\r\n    }\r\n\r\n    @Override\r\n    @Retryable(value= {CustomRetryException.class}, maxAttemptsExpression = &quot;2&quot;,  backoff = @Backoff(delayExpression = &quot;2000&quot;))\r\n    public Connection getConnection(String username, String password) throws SQLException {\r\n        return getConnectionWithRetry();\r\n    }\r\n\r\n\r\n    private Connection getConnectionWithRetry() {\r\n        try {\r\n            return dataSource.getConnection();\r\n        } catch (Exception e) {\r\n            if(CheckExceptionUtil.isRetryableException(e) ){\r\n                throw  new CustomRetryException(e.getMessage());\r\n            }\r\n            throw new ApiException(e);\r\n        }\r\n\r\n    }\r\n\r\n}\r\n\r\n\t","title":"Retryable DataSource is not working with Spring MVC","body":"<p>I am creating Spring MVC project and have neo4j datasource. When i am trying to create Retrybale data source on getConnection getting issue;</p>\n<p>'''Caused by: java.lang.IllegalArgumentException: DataSource router not initialized\nat org.springframework.util.Assert.notNull(Assert.java:201) ~[spring-core-5.3.25.jar:5.3.25]\nat org.springframework.jdbc.datasource.lookup.AbstractRoutingDataSource.determineTargetDataSource(AbstractRoutingDataSource.java:225) ~[spring-jdbc-5.3.25.jar:5.3.25]'''</p>\n<p>public class RetryableDatabasePostProcessor implements BeanPostProcessor {</p>\n<pre><code>@Override\npublic Object postProcessBeforeInitialization(Object bean, String beanName) throws BeansException {\n    if(bean instanceof DataSource) {\n        return new RetryableDataSource((DataSource) bean);\n    }\n    return bean;\n}\n\n@Override\npublic Object postProcessAfterInitialization(Object bean, String beanName) throws BeansException {\n    return bean;\n}\n</code></pre>\n<p>}</p>\n<p>public  class RetryableDataSource extends AbstractDataSource {</p>\n<pre><code>private DataSource dataSource;\n\npublic RetryableDataSource(DataSource bean) {\n    dataSource = bean;\n}\n\n@Override\n@Retryable(value= {CustomRetryException.class}, maxAttemptsExpression = &quot;2&quot;,  backoff = @Backoff(delayExpression = &quot;2000&quot;))\npublic Connection getConnection() throws SQLException {\n    return getConnectionWithRetry();\n}\n\n@Override\n@Retryable(value= {CustomRetryException.class}, maxAttemptsExpression = &quot;2&quot;,  backoff = @Backoff(delayExpression = &quot;2000&quot;))\npublic Connection getConnection(String username, String password) throws SQLException {\n    return getConnectionWithRetry();\n}\n\n\nprivate Connection getConnectionWithRetry() {\n    try {\n        return dataSource.getConnection();\n    } catch (Exception e) {\n        if(CheckExceptionUtil.isRetryableException(e) ){\n            throw  new CustomRetryException(e.getMessage());\n        }\n        throw new ApiException(e);\n    }\n\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","spring-boot","spring-session"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1683793126,"post_id":76225038,"comment_id":134421755,"body_markdown":"Just use/access the `HttpSession` in your code (add something to it) and you will get a cookie. The same applies for your session scoped object, it will only be created and placed in the session after you are using it (it will be created lazily), so if you set some values it will be put in there.","body":"Just use/access the <code>HttpSession</code> in your code (add something to it) and you will get a cookie. The same applies for your session scoped object, it will only be created and placed in the session after you are using it (it will be created lazily), so if you set some values it will be put in there."},{"owner":{"account_id":3524392,"reputation":859,"user_id":2945917,"accept_rate":73,"display_name":"user435421"},"score":0,"creation_date":1683794335,"post_id":76225038,"comment_id":134422041,"body_markdown":"New JSESSIONID get&#39;s set on each new request for the same &quot;user&quot;. I have tried using `SessionCreationPolicy.IF_REQUIRED` and `SessionCreationPolicy.NEVER`","body":"New JSESSIONID get&#39;s set on each new request for the same &quot;user&quot;. I have tried using <code>SessionCreationPolicy.IF_REQUIRED</code> and <code>SessionCreationPolicy.NEVER</code>"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1683795250,"post_id":76225038,"comment_id":134422240,"body_markdown":"That is for Spring Security and has nothing to do with other session usage on ly the session usage for SPring Security.","body":"That is for Spring Security and has nothing to do with other session usage on ly the session usage for SPring Security."}],"owner":{"account_id":3524392,"reputation":859,"user_id":2945917,"accept_rate":73,"display_name":"user435421"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":171,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1683793006,"creation_date":1683789753,"question_id":76225038,"body_markdown":"I have a simple Spring Boot app. I have created a session-scoped class and want for it to store some session related stuff. I want for the HTTP session to be created and tracked via the JSESSIONID cookie on the first request coming to the server. However, it looks like Spring Boot does not use HTTP session tracking by default (even JSESSIONID cookie is never created). How to enable HTTP session tracking - no user authentication is needed. Just plain JSESSIONID cookie tracking is wanted.","title":"How to make Spring Boot track HTTP session without authentication?","body":"<p>I have a simple Spring Boot app. I have created a session-scoped class and want for it to store some session related stuff. I want for the HTTP session to be created and tracked via the JSESSIONID cookie on the first request coming to the server. However, it looks like Spring Boot does not use HTTP session tracking by default (even JSESSIONID cookie is never created). How to enable HTTP session tracking - no user authentication is needed. Just plain JSESSIONID cookie tracking is wanted.</p>\n"},{"tags":["java","android","interface","instance"],"owner":{"account_id":26104704,"reputation":21,"user_id":19799567,"display_name":"asdf9797"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683792793,"creation_date":1683792793,"question_id":76225458,"body_markdown":"Same as the question, A colleague of mine has implemented as below how to take an interface as a parameter to implement it abstractly as a library.\r\n\r\n    public void setData(\r\n            List&lt;ProgramGuideChannel&gt; newChannels,\r\n            Map&lt;String, List&lt;ProgramGuideSchedule&lt;T&gt;&gt;&gt; newChannelEntries,\r\n            LocalDate selectedDate\r\n    ) {\r\n        programGuideManager.setData(newChannels, newChannelEntries, selectedDate, DISPLAY_TIMEZONE);\r\n    }\r\n\r\nThe problematic part here is the first parameter, List Of ProgramGuideChannel\r\n\r\n    public class EpgChannel implements ProgramGuideChannel {\r\n    private final Channel channel;\r\n\r\n    public EpgChannel(Channel channel) {\r\n        this.channel = channel;\r\n    }\r\n\r\n    @Override\r\n    public String getId() {\r\n        return String.valueOf(channel.getId());\r\n    }\r\n\r\n    @Override\r\n    public Spanned getName() {\r\n        return new SpannedString(channel.getDisplayName());\r\n    }\r\n\r\n    @Override\r\n    public String getImageUrl() {\r\n        return channel.getAppLinkPosterArtUri();\r\n    }\r\n    public String getOriginalNetworkId(){\r\n        return String.valueOf(channel.getOriginalNetworkId());\r\n    }\r\n}\r\nLike the code above, my EpgChannel class implements the ProgramGuideChannel interface.\r\nAnd when I insert the List for this EpgChannel as a parameter to the setData method, an error occurs\r\n\r\n    setData(java.util.List&lt;com.jhh.epg.model.ProgramGuideChannel&gt;, java.util.Map&lt;java.lang.String,java.util.List&lt;com.jhh.epg.model.ProgramGuideSchedule&lt;com.google.android.media.tv.companionlibrary.model.Program&gt;&gt;&gt;, java.time.LocalDate) in com.jhh.epg.ProgramGuideFragment cannot be applied to (java.util.List&lt;com.jhh.phoenixplayer2.livetv.epg.EpgChannel&gt;, java.util.Map&lt;java.lang.String,java.util.List&lt;com.jhh.epg.model.ProgramGuideSchedule&lt;com.google.android.media.tv.companionlibrary.model.Program&gt;&gt;&gt;, java.time.LocalDate)\r\n\r\n \r\nI don&#39;t understand this error. My EpgChannel object obviously has an instance of ProgramGuideChannel. However, my method is not aware of this.\r\nDoes anyone know the reason for this?\r\n\r\nps - There was no problem when the corresponding setData was developed in kotlin. I am thinking that it may be a Java problem.\r\n","title":"Can&#39;t a method that receives an interface as a parameter in Android receive an object that implements the interface as a parameter?","body":"<p>Same as the question, A colleague of mine has implemented as below how to take an interface as a parameter to implement it abstractly as a library.</p>\n<pre><code>public void setData(\n        List&lt;ProgramGuideChannel&gt; newChannels,\n        Map&lt;String, List&lt;ProgramGuideSchedule&lt;T&gt;&gt;&gt; newChannelEntries,\n        LocalDate selectedDate\n) {\n    programGuideManager.setData(newChannels, newChannelEntries, selectedDate, DISPLAY_TIMEZONE);\n}\n</code></pre>\n<p>The problematic part here is the first parameter, List Of ProgramGuideChannel</p>\n<pre><code>public class EpgChannel implements ProgramGuideChannel {\nprivate final Channel channel;\n\npublic EpgChannel(Channel channel) {\n    this.channel = channel;\n}\n\n@Override\npublic String getId() {\n    return String.valueOf(channel.getId());\n}\n\n@Override\npublic Spanned getName() {\n    return new SpannedString(channel.getDisplayName());\n}\n\n@Override\npublic String getImageUrl() {\n    return channel.getAppLinkPosterArtUri();\n}\npublic String getOriginalNetworkId(){\n    return String.valueOf(channel.getOriginalNetworkId());\n}\n</code></pre>\n<p>}\nLike the code above, my EpgChannel class implements the ProgramGuideChannel interface.\nAnd when I insert the List for this EpgChannel as a parameter to the setData method, an error occurs</p>\n<pre><code>setData(java.util.List&lt;com.jhh.epg.model.ProgramGuideChannel&gt;, java.util.Map&lt;java.lang.String,java.util.List&lt;com.jhh.epg.model.ProgramGuideSchedule&lt;com.google.android.media.tv.companionlibrary.model.Program&gt;&gt;&gt;, java.time.LocalDate) in com.jhh.epg.ProgramGuideFragment cannot be applied to (java.util.List&lt;com.jhh.phoenixplayer2.livetv.epg.EpgChannel&gt;, java.util.Map&lt;java.lang.String,java.util.List&lt;com.jhh.epg.model.ProgramGuideSchedule&lt;com.google.android.media.tv.companionlibrary.model.Program&gt;&gt;&gt;, java.time.LocalDate)\n</code></pre>\n<p>I don't understand this error. My EpgChannel object obviously has an instance of ProgramGuideChannel. However, my method is not aware of this.\nDoes anyone know the reason for this?</p>\n<p>ps - There was no problem when the corresponding setData was developed in kotlin. I am thinking that it may be a Java problem.</p>\n"},{"tags":["java","firebase","android-studio"],"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1683696369,"post_id":76210576,"comment_id":134404141,"body_markdown":"If you understand Kotlin, I think that this [resource](https://medium.com/firebase-tips-tricks/how-to-display-locations-from-firestore-on-google-maps-using-jetpack-compose-9490c92c34da) will help. Here is the corresponding [repo](https://github.com/alexmamo/FirestoreGoogleMapsJetpackCompose).","body":"If you understand Kotlin, I think that this <a href=\"https://medium.com/firebase-tips-tricks/how-to-display-locations-from-firestore-on-google-maps-using-jetpack-compose-9490c92c34da\" rel=\"nofollow noreferrer\">resource</a> will help. Here is the corresponding <a href=\"https://github.com/alexmamo/FirestoreGoogleMapsJetpackCompose\" rel=\"nofollow noreferrer\">repo</a>."}],"owner":{"account_id":28050227,"reputation":1,"user_id":21439337,"display_name":"Aditya Wiradarma"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683791283,"creation_date":1683643482,"question_id":76210576,"body_markdown":"Google maps on the android application does not appear. On the terminal it says E/location: enabled\r\n\r\nE/location: enabled\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/FYZYo.png","title":"Google maps on the android application does not appear","body":"<p>Google maps on the android application does not appear. On the terminal it says E/location: enabled</p>\n<p>E/location: enabled</p>\n<p><a href=\"https://i.stack.imgur.com/FYZYo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FYZYo.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","php","twilio","twilio-api","twilio-php"],"comments":[{"owner":{"account_id":1530592,"reputation":92715,"user_id":1427878,"display_name":"CBroe"},"score":1,"creation_date":1674548663,"post_id":75217991,"comment_id":132731764,"body_markdown":"Not sure what data exactly you need to get, but maybe you can use UsageTriggers instead? https://www.twilio.com/docs/usage/api/usage-trigger","body":"Not sure what data exactly you need to get, but maybe you can use UsageTriggers instead? <a href=\"https://www.twilio.com/docs/usage/api/usage-trigger\" rel=\"nofollow noreferrer\">twilio.com/docs/usage/api/usage-trigger</a>"},{"owner":{"account_id":5458539,"reputation":54,"user_id":5249021,"display_name":"chilli10"},"score":0,"creation_date":1674566751,"post_id":75217991,"comment_id":132737366,"body_markdown":"@CBroe I need the data given by the usages records API such as SMS/Voice usages (including related bill charged) in the last n minutes and fees charged in the last x hours.","body":"@CBroe I need the data given by the usages records API such as SMS/Voice usages (including related bill charged) in the last n minutes and fees charged in the last x hours."},{"owner":{"account_id":5458539,"reputation":54,"user_id":5249021,"display_name":"chilli10"},"score":0,"creation_date":1674568474,"post_id":75217991,"comment_id":132738021,"body_markdown":"Also the usage-trigger has its finest resolution as once per day, which does not satisfy my requirement.","body":"Also the usage-trigger has its finest resolution as once per day, which does not satisfy my requirement."},{"owner":{"account_id":2698449,"reputation":490,"user_id":2329822,"accept_rate":94,"display_name":"John Smith"},"score":0,"creation_date":1674633927,"post_id":75217991,"comment_id":132753764,"body_markdown":"it&#39;s not like the prices change every other day. if you know how to monitor every action that occurs you can easily estimate the charges down to the penny more or less.","body":"it&#39;s not like the prices change every other day. if you know how to monitor every action that occurs you can easily estimate the charges down to the penny more or less."},{"owner":{"account_id":8274076,"reputation":85,"user_id":6220901,"display_name":"tcbeaton"},"score":0,"creation_date":1674840616,"post_id":75217991,"comment_id":132806251,"body_markdown":"Assuming the Usage Records API is real-time, updating throughout the day, you could ping it every ten minutes and subtract the previous values to get the number within the last ten minutes (i.e., if there were 47 messages ten minutes ago and there are 55 now, 8 occurred in the last ten minutes). This is a little better than querying every ten minutes for the last ten minutes; if the query for just ten minutes is early, something might get double counted, if it&#39;s late, something could get skipped.","body":"Assuming the Usage Records API is real-time, updating throughout the day, you could ping it every ten minutes and subtract the previous values to get the number within the last ten minutes (i.e., if there were 47 messages ten minutes ago and there are 55 now, 8 occurred in the last ten minutes). This is a little better than querying every ten minutes for the last ten minutes; if the query for just ten minutes is early, something might get double counted, if it&#39;s late, something could get skipped."}],"answers":[{"tags":[],"owner":{"account_id":77875,"reputation":2447,"user_id":222011,"display_name":"Matthew Setter"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683791120,"creation_date":1683791120,"answer_id":76225210,"question_id":75217991,"body_markdown":"Responses from the endpoint don&#39;t return any properties that you can use to filter out older records, unfortunately. The only suggestions I have are to persist the results in the response to a database table or cache, where each record has some kind of unique identifier and then query the data store for the newer records using the identifier to filter out the older/previously retrieved records.","title":"How to get Twilio Usages data every few minutes?","body":"<p>Responses from the endpoint don't return any properties that you can use to filter out older records, unfortunately. The only suggestions I have are to persist the results in the response to a database table or cache, where each record has some kind of unique identifier and then query the data store for the newer records using the identifier to filter out the older/previously retrieved records.</p>\n"}],"owner":{"account_id":5458539,"reputation":54,"user_id":5249021,"display_name":"chilli10"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683791120,"creation_date":1674540738,"question_id":75217991,"body_markdown":"Requirement: I need to monitor the Twilio account and subaccount usages in near real-time.\r\nAny solution in java, php, python or even curl will do for me.\r\n\r\nTwilio provides [Usage Records API][1] and allows some [subresources][2] which contains [`Today`][3] but that returns all data from the start of that day till the nearest current time. I am unable to find anything in the documents that would retrieve only usages of the last minute or last 10 minutes or even between two time constants. The Usage API accepts two dates but not time.\r\nHoping someone out there has a solution to offer.\r\n\r\n\r\n  [1]: https://www.twilio.com/docs/usage/api/usage-record\r\n  [2]: https://www.twilio.com/docs/usage/api/usage-record#list-subresources\r\n  [3]: https://www.twilio.com/docs/usage/api/usage-record?code-sample=code-todays-calls&amp;code-language=Java&amp;code-sdk-version=9.x","title":"How to get Twilio Usages data every few minutes?","body":"<p>Requirement: I need to monitor the Twilio account and subaccount usages in near real-time.\nAny solution in java, php, python or even curl will do for me.</p>\n<p>Twilio provides <a href=\"https://www.twilio.com/docs/usage/api/usage-record\" rel=\"nofollow noreferrer\">Usage Records API</a> and allows some <a href=\"https://www.twilio.com/docs/usage/api/usage-record#list-subresources\" rel=\"nofollow noreferrer\">subresources</a> which contains <a href=\"https://www.twilio.com/docs/usage/api/usage-record?code-sample=code-todays-calls&amp;code-language=Java&amp;code-sdk-version=9.x\" rel=\"nofollow noreferrer\"><code>Today</code></a> but that returns all data from the start of that day till the nearest current time. I am unable to find anything in the documents that would retrieve only usages of the last minute or last 10 minutes or even between two time constants. The Usage API accepts two dates but not time.\nHoping someone out there has a solution to offer.</p>\n"},{"tags":["java","pdfbox"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1683699985,"post_id":76215410,"comment_id":134404688,"body_markdown":"Please share the PDF for analysis.","body":"Please share the PDF for analysis."},{"owner":{"account_id":14291246,"reputation":51,"user_id":10323128,"display_name":"Abhay Patel"},"score":0,"creation_date":1683700200,"post_id":76215410,"comment_id":134404728,"body_markdown":"Hi @mkl Thank you for the response. I can not share the pdf because of security reasons.","body":"Hi @mkl Thank you for the response. I can not share the pdf because of security reasons."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":2,"creation_date":1683700647,"post_id":76215410,"comment_id":134404816,"body_markdown":"Then, unfortunately, I see no way helping you.","body":"Then, unfortunately, I see no way helping you."},{"owner":{"account_id":14291246,"reputation":51,"user_id":10323128,"display_name":"Abhay Patel"},"score":0,"creation_date":1683790301,"post_id":76215410,"comment_id":134421185,"body_markdown":"@TilmanHausherr As I checked in PDFDebugger the same error was shown in every version which is mentioned in the question.","body":"@TilmanHausherr As I checked in PDFDebugger the same error was shown in every version which is mentioned in the question."},{"owner":{"account_id":14291246,"reputation":51,"user_id":10323128,"display_name":"Abhay Patel"},"score":0,"creation_date":1683790974,"post_id":76215410,"comment_id":134421314,"body_markdown":"@TilmanHausherr I had attached the debugger stacktrace in question.","body":"@TilmanHausherr I had attached the debugger stacktrace in question."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1683792707,"post_id":76215410,"comment_id":134421666,"body_markdown":"That sounds like there is some invalid entry in the page tree of the PDF. @AbhayPatel are you knowledgeable enough in PDF details to check the structure of the page tree of the document manually?","body":"That sounds like there is some invalid entry in the page tree of the PDF. @AbhayPatel are you knowledgeable enough in PDF details to check the structure of the page tree of the document manually?"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1683794554,"post_id":76215410,"comment_id":134422083,"body_markdown":"Look for /Pages in the PDF (open with NOTEPAD++), compare it with a working PDF.","body":"Look for /Pages in the PDF (open with NOTEPAD++), compare it with a working PDF."},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":1,"creation_date":1683795074,"post_id":76215410,"comment_id":134422196,"body_markdown":"You can&#39;t really &quot;resolve&quot; this issue, the creator of the PDF made a mistake or the PDF was corrupted in transfer. At most, you could save the &quot;repaired&quot; PDF from Adobe Reader and then use that one.","body":"You can&#39;t really &quot;resolve&quot; this issue, the creator of the PDF made a mistake or the PDF was corrupted in transfer. At most, you could save the &quot;repaired&quot; PDF from Adobe Reader and then use that one."},{"owner":{"account_id":14291246,"reputation":51,"user_id":10323128,"display_name":"Abhay Patel"},"score":0,"creation_date":1684126245,"post_id":76215410,"comment_id":134465417,"body_markdown":"Hi @TilmanHausherr as checked in adobe reader we are able to open the same file in Adobe properly there are no errors showing in opening that file in adobe reader.","body":"Hi @TilmanHausherr as checked in adobe reader we are able to open the same file in Adobe properly there are no errors showing in opening that file in adobe reader."},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1684136081,"post_id":76215410,"comment_id":134466836,"body_markdown":"I meant save that one with &quot;Save As&quot; so you get a new file. This might then be a repaired file. Btw Adobe opening the file doesn&#39;t imply it is correct. Adobe does a lot of quiet repairing when needed.","body":"I meant save that one with &quot;Save As&quot; so you get a new file. This might then be a repaired file. Btw Adobe opening the file doesn&#39;t imply it is correct. Adobe does a lot of quiet repairing when needed."}],"owner":{"account_id":14291246,"reputation":51,"user_id":10323128,"display_name":"Abhay Patel"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":160,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1683790931,"creation_date":1683699738,"question_id":76215410,"body_markdown":"I am using PDFBox version : 2.0.27\r\n\r\nThe pdf file has 55 pages which loads perfectly in every application\r\n\r\nwhile parsing the pdf when call pdDocument.getPage(0) it returns the pdPage object\r\nbut when i call pdDocument.getPage(1) it throws the below error \r\n\r\n    java.lang.IllegalStateException: 1-based index not found: 2\r\n        at org.apache.pdfbox.pdmodel.PDPageTree.get(PDPageTree.java:342)\r\n        at org.apache.pdfbox.pdmodel.PDPageTree.get(PDPageTree.java:258)\r\n        at org.apache.pdfbox.pdmodel.PDDocument.getPage(PDDocument.java:1547)\r\n\r\nThe pdDocument can load only one page for this file it can not load the other pages of file.\r\n\r\nPlease refer the code snippet below.\r\n\r\n```\r\nPDDocument pdDocument = PDDocument.load(&quot;filePath&quot;, MemoryUsageSetting.setupTempFileOnly());\r\nfor(int i = 0; i &lt; pdDocument.getNumberOfPages(); i++) {\r\n   PDPage page = pdDocument.getPage(i); //error occurring in this statement\r\n   // rest of the logic\r\n}\r\n```\r\nPlease check the below stacktrace which is received in PDFDebugger app\r\n\r\n```\r\njava.lang.IllegalStateException: 1-based index not found: 2\r\n    org.apache.pdfbox.pdmodel.PDPageTree.get(PDPageTree.java:342)\r\n    org.apache.pdfbox.pdmodel.PDPageTree.get(PDPageTree.java:258)\r\n    org.apache.pdfbox.debugger.ui.DocumentEntry.getPage(DocumentEntry.java:47)\r\n    org.apache.pdfbox.debugger.ui.PDFTreeModel.getChild(PDFTreeModel.java:143)\r\n    java.beans.PropertyChangeSupport.fire(PropertyChangeSupport.java:335)\r\n    java.beans.PropertyChangeSupport.firePropertyChange(PropertyChangeSupport.java:327)\r\n    java.beans.PropertyChangeSupport.firePropertyChange(PropertyChangeSupport.java:263)\r\n    org.apache.pdfbox.debugger.PDFDebugger.initTree(PDFDebugger.java:1502)\r\n    org.apache.pdfbox.debugger.PDFDebugger.readPDFFile(PDFDebugger.java:1432)\r\n    org.apache.pdfbox.debugger.PDFDebugger.openMenuItemActionPerformed(PDFDebugger.java:759)\r\n    org.apache.pdfbox.debugger.PDFDebugger.access$400(PDFDebugger.java:141)\r\n    org.apache.pdfbox.debugger.PDFDebugger$4.actionPerformed(PDFDebugger.java:395)\r\n    java.security.AccessController.doPrivileged(Native Method)\r\n    java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:74)\r\n    java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:84)\r\n    java.security.AccessController.doPrivileged(Native Method)\r\n    java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:74)\r\n\r\n```\r\nFound below logs in debugger app if it is helpful for troubleshoot.\r\n```\r\n Info  [PDFDebugger] Parsed in 240 ms\r\n Warning  [PDPageTree] COSDictionary expected, but got null\r\n Warning  [PDPageTree] COSDictionary expected, but got null\r\n```\r\n\r\nHow can I resolve this issue?","title":"PDFBox : java.lang.IllegalStateException: 1-based index not found: 2 error in getPage()","body":"<p>I am using PDFBox version : 2.0.27</p>\n<p>The pdf file has 55 pages which loads perfectly in every application</p>\n<p>while parsing the pdf when call pdDocument.getPage(0) it returns the pdPage object\nbut when i call pdDocument.getPage(1) it throws the below error</p>\n<pre><code>java.lang.IllegalStateException: 1-based index not found: 2\n    at org.apache.pdfbox.pdmodel.PDPageTree.get(PDPageTree.java:342)\n    at org.apache.pdfbox.pdmodel.PDPageTree.get(PDPageTree.java:258)\n    at org.apache.pdfbox.pdmodel.PDDocument.getPage(PDDocument.java:1547)\n</code></pre>\n<p>The pdDocument can load only one page for this file it can not load the other pages of file.</p>\n<p>Please refer the code snippet below.</p>\n<pre><code>PDDocument pdDocument = PDDocument.load(&quot;filePath&quot;, MemoryUsageSetting.setupTempFileOnly());\nfor(int i = 0; i &lt; pdDocument.getNumberOfPages(); i++) {\n   PDPage page = pdDocument.getPage(i); //error occurring in this statement\n   // rest of the logic\n}\n</code></pre>\n<p>Please check the below stacktrace which is received in PDFDebugger app</p>\n<pre><code>java.lang.IllegalStateException: 1-based index not found: 2\n    org.apache.pdfbox.pdmodel.PDPageTree.get(PDPageTree.java:342)\n    org.apache.pdfbox.pdmodel.PDPageTree.get(PDPageTree.java:258)\n    org.apache.pdfbox.debugger.ui.DocumentEntry.getPage(DocumentEntry.java:47)\n    org.apache.pdfbox.debugger.ui.PDFTreeModel.getChild(PDFTreeModel.java:143)\n    java.beans.PropertyChangeSupport.fire(PropertyChangeSupport.java:335)\n    java.beans.PropertyChangeSupport.firePropertyChange(PropertyChangeSupport.java:327)\n    java.beans.PropertyChangeSupport.firePropertyChange(PropertyChangeSupport.java:263)\n    org.apache.pdfbox.debugger.PDFDebugger.initTree(PDFDebugger.java:1502)\n    org.apache.pdfbox.debugger.PDFDebugger.readPDFFile(PDFDebugger.java:1432)\n    org.apache.pdfbox.debugger.PDFDebugger.openMenuItemActionPerformed(PDFDebugger.java:759)\n    org.apache.pdfbox.debugger.PDFDebugger.access$400(PDFDebugger.java:141)\n    org.apache.pdfbox.debugger.PDFDebugger$4.actionPerformed(PDFDebugger.java:395)\n    java.security.AccessController.doPrivileged(Native Method)\n    java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:74)\n    java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:84)\n    java.security.AccessController.doPrivileged(Native Method)\n    java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:74)\n\n</code></pre>\n<p>Found below logs in debugger app if it is helpful for troubleshoot.</p>\n<pre><code> Info  [PDFDebugger] Parsed in 240 ms\n Warning  [PDPageTree] COSDictionary expected, but got null\n Warning  [PDPageTree] COSDictionary expected, but got null\n</code></pre>\n<p>How can I resolve this issue?</p>\n"},{"tags":["java","switch-statement","cisco"],"comments":[{"owner":{"account_id":10219989,"reputation":11,"user_id":7544456,"display_name":"Dino"},"score":1,"creation_date":1683809031,"post_id":76225127,"comment_id":134425334,"body_markdown":"in case someone roam into this, might be useful: install JRE 8 u321 (later and previous vesrions wont work), clear jJava cache, uninstall all other version of Java. Tested on Win10, Win 11, Win 2019.","body":"in case someone roam into this, might be useful: install JRE 8 u321 (later and previous vesrions wont work), clear jJava cache, uninstall all other version of Java. Tested on Win10, Win 11, Win 2019."}],"owner":{"account_id":10219989,"reputation":11,"user_id":7544456,"display_name":"Dino"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1683790424,"creation_date":1683790424,"question_id":76225127,"body_markdown":"I recently installed firmware version 9.2 (1a) on the Cisco DS-C9148S-k9 switch and I can&#39;t start the device manager, does anyone know what the problem would be?\r\n\r\nI tried many different versions of Java and the latest.\r\n\r\nError is :\r\nUnable to launch application / JNLP Jar download failure.\r\n\r\nDetails:\r\n\r\nLaunch File:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;jnlp spec=&quot;1.0+&quot; codebase=&quot;https://*sw IP*&quot;&gt;\r\n&lt;information&gt;\r\n&lt;title&gt;Cisco Device Manager&lt;/title&gt;\r\n&lt;vendor&gt;Cisco Systems, Inc.&lt;/vendor&gt;\r\n&lt;description&gt;Device Manager&lt;/description&gt;\r\n&lt;description kind=&quot;short&quot;&gt;Cisco Device Manager&lt;/description&gt;\r\n&lt;icon href=&quot;andiamo32.gif&quot;/&gt;\r\n&lt;offline-allowed/&gt;\r\n&lt;/information&gt;\r\n&lt;resources&gt;\r\n&lt;j2se version=&quot;1.7+&quot; java-vm-args=&quot;-Xms512m -Xmx512m&quot;/&gt;\r\n&lt;jar href=&quot;boot.jar&quot;/&gt;\r\n&lt;jar href=&quot;installer.jar&quot;/&gt;\r\n&lt;jar href=&quot;log4j.jar&quot;/&gt;\r\n&lt;/resources&gt;\r\n&lt;security&gt;\r\n&lt;all-permissions/&gt;\r\n&lt;/security&gt;\r\n&lt;application-desc main-class=&quot;com.cisco.dcbu.install.Boot&quot;&gt;\r\n&lt;argument&gt;-main=com.cisco.dcbu.dm.DM&lt;/argument&gt;\r\n&lt;argument&gt;-home=*sw IP*&lt;/argument&gt;\r\n&lt;argument&gt;-version=9.2(1a)&lt;/argument&gt;\r\n&lt;argument&gt;-https=true&lt;/argument&gt;\r\n&lt;/application-desc&gt;\r\n&lt;/jnlp&gt;\r\n```\r\n\r\nException:\r\n```\r\njava.io.IOException: JNLP Jar download failure.\r\n\tat com.sun.javaws.LaunchDownload.validateResults(Unknown Source)\r\n\tat com.sun.javaws.LaunchDownload.downloadJarFiles(Unknown Source)\r\n\tat com.sun.javaws.LaunchDownload.downloadEagerorAll(Unknown Source)\r\n\tat com.sun.javaws.Launcher.downloadResources(Unknown Source)\r\n\tat com.sun.javaws.Launcher.prepareResources(Unknown Source)\r\n\tat com.sun.javaws.Launcher.prepareAllResources(Unknown Source)\r\n\tat com.sun.javaws.Launcher.prepareToLaunch(Unknown Source)\r\n\tat com.sun.javaws.Launcher.prepareToLaunch(Unknown Source)\r\n\tat com.sun.javaws.Launcher.launch(Unknown Source)\r\n\tat com.sun.javaws.Main.launchApp(Unknown Source)\r\n\tat com.sun.javaws.Main.continueInSecureThread(Unknown Source)\r\n\tat com.sun.javaws.Main.access$000(Unknown Source)\r\n\tat com.sun.javaws.Main$1.run(Unknown Source)\r\n\tat java.lang.Thread.run(Unknown Source)\r\n```\r\n\r\n\r\nI tried many different versions of Java and the latest.\r\nTried to run element-manager.jnlp file from CMD as administrator.\r\nI put switch IP into java security exceptions.","title":"Cisco DS-C9148S-k9 9.2(1a) unable to launch device manager","body":"<p>I recently installed firmware version 9.2 (1a) on the Cisco DS-C9148S-k9 switch and I can't start the device manager, does anyone know what the problem would be?</p>\n<p>I tried many different versions of Java and the latest.</p>\n<p>Error is :\nUnable to launch application / JNLP Jar download failure.</p>\n<p>Details:</p>\n<p>Launch File:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;jnlp spec=&quot;1.0+&quot; codebase=&quot;https://*sw IP*&quot;&gt;\n&lt;information&gt;\n&lt;title&gt;Cisco Device Manager&lt;/title&gt;\n&lt;vendor&gt;Cisco Systems, Inc.&lt;/vendor&gt;\n&lt;description&gt;Device Manager&lt;/description&gt;\n&lt;description kind=&quot;short&quot;&gt;Cisco Device Manager&lt;/description&gt;\n&lt;icon href=&quot;andiamo32.gif&quot;/&gt;\n&lt;offline-allowed/&gt;\n&lt;/information&gt;\n&lt;resources&gt;\n&lt;j2se version=&quot;1.7+&quot; java-vm-args=&quot;-Xms512m -Xmx512m&quot;/&gt;\n&lt;jar href=&quot;boot.jar&quot;/&gt;\n&lt;jar href=&quot;installer.jar&quot;/&gt;\n&lt;jar href=&quot;log4j.jar&quot;/&gt;\n&lt;/resources&gt;\n&lt;security&gt;\n&lt;all-permissions/&gt;\n&lt;/security&gt;\n&lt;application-desc main-class=&quot;com.cisco.dcbu.install.Boot&quot;&gt;\n&lt;argument&gt;-main=com.cisco.dcbu.dm.DM&lt;/argument&gt;\n&lt;argument&gt;-home=*sw IP*&lt;/argument&gt;\n&lt;argument&gt;-version=9.2(1a)&lt;/argument&gt;\n&lt;argument&gt;-https=true&lt;/argument&gt;\n&lt;/application-desc&gt;\n&lt;/jnlp&gt;\n</code></pre>\n<p>Exception:</p>\n<pre><code>java.io.IOException: JNLP Jar download failure.\n    at com.sun.javaws.LaunchDownload.validateResults(Unknown Source)\n    at com.sun.javaws.LaunchDownload.downloadJarFiles(Unknown Source)\n    at com.sun.javaws.LaunchDownload.downloadEagerorAll(Unknown Source)\n    at com.sun.javaws.Launcher.downloadResources(Unknown Source)\n    at com.sun.javaws.Launcher.prepareResources(Unknown Source)\n    at com.sun.javaws.Launcher.prepareAllResources(Unknown Source)\n    at com.sun.javaws.Launcher.prepareToLaunch(Unknown Source)\n    at com.sun.javaws.Launcher.prepareToLaunch(Unknown Source)\n    at com.sun.javaws.Launcher.launch(Unknown Source)\n    at com.sun.javaws.Main.launchApp(Unknown Source)\n    at com.sun.javaws.Main.continueInSecureThread(Unknown Source)\n    at com.sun.javaws.Main.access$000(Unknown Source)\n    at com.sun.javaws.Main$1.run(Unknown Source)\n    at java.lang.Thread.run(Unknown Source)\n</code></pre>\n<p>I tried many different versions of Java and the latest.\nTried to run element-manager.jnlp file from CMD as administrator.\nI put switch IP into java security exceptions.</p>\n"},{"tags":["java","apache-kafka","apache-flink","flink-streaming","flink-sql"],"comments":[{"owner":{"account_id":2274094,"reputation":40374,"user_id":2000823,"display_name":"David Anderson"},"score":0,"creation_date":1683832222,"post_id":76225126,"comment_id":134430907,"body_markdown":"Try applying assignTimestampsAndWatermarks after the 2 second delay.","body":"Try applying assignTimestampsAndWatermarks after the 2 second delay."},{"owner":{"account_id":2274094,"reputation":40374,"user_id":2000823,"display_name":"David Anderson"},"score":0,"creation_date":1683832350,"post_id":76225126,"comment_id":134430935,"body_markdown":"Also, it&#39;s a bit worrisome that you are registering the timer for 2 seconds (in wall clock time) after the event&#39;s timestamp. That could be a time in the past.","body":"Also, it&#39;s a bit worrisome that you are registering the timer for 2 seconds (in wall clock time) after the event&#39;s timestamp. That could be a time in the past."}],"owner":{"account_id":17689110,"reputation":31,"user_id":13427559,"display_name":"Vivek Chandela"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683790421,"creation_date":1683790421,"question_id":76225126,"body_markdown":"I have 2 KafkaConsumers A (topic = &quot;viewTopic&quot;) &amp; B (topic = &quot;engTopic&quot;) and 1 KafkaProducer C (topic = &quot;delayedTopic&quot;).\r\n\r\nEvents in A &amp; B are strings of form `a_{id}_{timestamp}` and `b_{id}_{timestamp}` respectively.\r\n\r\nI need to do the following:\r\n 1. Delay the events in A by 2 seconds\r\n 2. Do an interval join with events in B if their ids match\r\n 3. Push the joined events in C.\r\n\r\nI&#39;m using event time as interval join works on event time only.\r\n\r\n### Main class ###\r\n```\r\npublic class DataStreamJob {\r\n\r\n\tpublic static void main(String[] args) throws Exception {\r\n\t\tfinal StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\r\n\t\tenv.setStreamTimeCharacteristic(TimeCharacteristic.EventTime);\r\n\t\tProperties properties1 = new Properties();\r\n\t\tproperties1.setProperty(&quot;bootstrap.servers&quot;, &quot;localhost:9092&quot;);\r\n\t\tproperties1.setProperty(&quot;group.id&quot;, &quot;myGroup1&quot;);\r\n\t\tProperties properties2 = new Properties();\r\n\t\tproperties2.setProperty(&quot;bootstrap.servers&quot;, &quot;localhost:9092&quot;);\r\n\t\tproperties2.setProperty(&quot;group.id&quot;, &quot;myGroup1&quot;);\r\n\t\tProperties properties3 = new Properties();\r\n\t\tproperties3.setProperty(&quot;bootstrap.servers&quot;, &quot;localhost:9092&quot;);\r\n\r\n\t\t// set up Kafka String view consumer\r\n\t\tFlinkKafkaConsumer&lt;String&gt; viewConsumer = new FlinkKafkaConsumer&lt;&gt;(&quot;viewTopic&quot;, new SimpleStringSchema(), properties1);\r\n\t\tDataStream&lt;Event&gt; delayedViewStream = env.addSource(viewConsumer)\r\n\t\t\t\t\t\t// map incoming string to a JSON.\r\n\t\t\t\t\t\t.map(DataStreamJob::parseEvent)\r\n\t\t\t\t\t\t.assignTimestampsAndWatermarks(WatermarkStrategy.&lt;Event&gt;forBoundedOutOfOrderness(Duration.ofSeconds(5))\r\n\t\t\t\t\t\t\t\t.withTimestampAssigner((event, timestamp) -&gt; event.getTimestamp()))\r\n\t\t\t\t\t\t// records with same key are assigned same partition\r\n\t\t\t\t\t\t.keyBy(event -&gt; event.getId())\r\n\t\t\t\t\t\t.process(new DelayedEventsProcessFunction());\r\n\r\n\t\t// set up Kafka String engagement consumer\r\n\t\tFlinkKafkaConsumer&lt;String&gt; engConsumer = new FlinkKafkaConsumer&lt;&gt;(&quot;engTopic&quot;, new SimpleStringSchema(), properties2);\r\n\t\tDataStream&lt;Event&gt; directEngStream =  env.addSource(engConsumer)\r\n\t\t\t\t\t\t.map(DataStreamJob::parseEvent)\r\n\t\t\t\t\t\t.assignTimestampsAndWatermarks(WatermarkStrategy.&lt;Event&gt;forBoundedOutOfOrderness(Duration.ofSeconds(5))\r\n\t\t\t\t\t\t\t\t.withTimestampAssigner((event, timestamp) -&gt; event.getTimestamp()))\r\n\t\t\t\t\t\t.keyBy(event -&gt; event.getId());\r\n\r\n\t\t// interval join both streams\r\n\t\tDataStream&lt;Event&gt; joinedStream  = delayedViewStream.keyBy(event -&gt; event.getId())\r\n\t\t\t\t\t\t.intervalJoin(directEngStream.keyBy(event -&gt; event.getId()))\r\n\t\t\t\t\t\t.between(Time.seconds(-10), Time.seconds(10))\r\n\t\t\t\t\t\t.process(new EventJoinProcessFunction());\r\n\r\n\t\t// set up Kafka Event producer\r\n\t\tKeyedSerializationSchema&lt;String&gt; keyedSerializationSchema = new KeyedSerializationSchemaWrapper&lt;&gt;(new SimpleStringSchema());\r\n\t\tFlinkKafkaProducer&lt;String&gt; kafkaProducer = new FlinkKafkaProducer&lt;&gt;(\r\n\t\t\t\t\t\t&quot;delayedTopic&quot;,\r\n\t\t\t\t\t\tkeyedSerializationSchema,\r\n\t\t\t\t\t\tproperties3,\r\n\t\t\t\t\t\tFlinkKafkaProducer.Semantic.EXACTLY_ONCE);\r\n\r\n\t\tjoinedStream.map(Event::eventToString).addSink(kafkaProducer);\r\n\t\tenv.execute();\r\n}\r\n```\r\n\r\n### Code for DelayedEventsProcessFunction ###\r\n```\r\npublic class DelayedEventsProcessFunction extends KeyedProcessFunction&lt;String, Event, Event&gt; {\r\n    private transient MapState&lt;Long, Event&gt; delayedEventsState;\r\n\r\n    @Override\r\n    public void open(Configuration parameters) throws Exception {\r\n        MapStateDescriptor&lt;Long, Event&gt; delayedEventsDescriptor = new MapStateDescriptor&lt;&gt;(\r\n                &quot;delayedEventsState&quot;,\r\n                Types.LONG,\r\n                TypeInformation.of(new TypeHint&lt;Event&gt;() {})\r\n        );\r\n        delayedEventsState = getRuntimeContext().getMapState(delayedEventsDescriptor);\r\n    }\r\n\r\n    @Override\r\n    public void processElement(Event event, KeyedProcessFunction&lt;String, Event, Event&gt;.Context ctx, Collector&lt;Event&gt; out) throws Exception {\r\n        long currentTimestamp = event.getTimestamp();\r\n        long delayedTimestamp = currentTimestamp + TimeUnit.SECONDS.toMillis(2);\r\n        // schedule a callback when 2 seconds have passed.\r\n        ctx.timerService().registerProcessingTimeTimer(delayedTimestamp);\r\n        delayedEventsState.put(delayedTimestamp, event);\r\n    }\r\n\r\n    @Override\r\n    public void onTimer(long timestamp, OnTimerContext ctx, Collector&lt;Event&gt; out) throws Exception {\r\n        Event delayedEvent = delayedEventsState.get(timestamp);\r\n        if (delayedEvent != null) {\r\n            out.collect(delayedEvent);\r\n            delayedEventsState.remove(timestamp);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n### Code for EventJoinProcessFunction ###\r\n```\r\npublic class EventJoinProcessFunction extends ProcessJoinFunction&lt;Event, Event, Event&gt; {\r\n    @Override\r\n    public void processElement(Event left, Event right, ProcessJoinFunction&lt;Event, Event, Event&gt;.Context ctx, Collector&lt;Event&gt; out) throws Exception {\r\n        out.collect(new Event(&quot;join:&quot;+left.getType()+right.getType(), left.getId()+right.getId(), left.getTimestamp()));\r\n    }\r\n}\r\n```\r\n\r\n### Code for Event class ###\r\n```\r\npublic class Event {\r\n    private final String type;\r\n\r\n    private final String id;\r\n\r\n    private long timestamp;\r\n\r\n    public Event(String type, String id, long timestamp) {\r\n        this.type = type;\r\n        this.id = id;\r\n        this.timestamp = timestamp;\r\n    }\r\n\r\n    public String getType() {\r\n        return type;\r\n    }\r\n\r\n    public String getId() {\r\n        return id;\r\n    }\r\n\r\n    public long getTimestamp() {return timestamp;}\r\n\r\n    public String eventToString() {\r\n        return String.format(&quot;%s_%s_%s&quot;, type, id, timestamp);\r\n    }\r\n}\r\n```\r\n\r\n### Local setup ###\r\n\r\n- Download IntelliJ for Mac\r\n- Download latest Kafka: https://kafka.apache.org/quickstart\r\n- `tar -xzf kafka_2.13-3.4.0.tgz`\r\n- `cd kafka_2.13-3.4.0`\r\n\r\nCreate the 3 topics\r\n\r\n- `bin/kafka-topics.sh --create --topic viewTopic --bootstrap-server localhost:9092`\r\n- `bin/kafka-topics.sh --create --topic engTopic --bootstrap-server localhost:9092`\r\n- `bin/kafka-topics.sh --create --topic delayedTopic --bootstrap-server localhost:9092`\r\n\r\nOpen 5 different terminals and run the following commands inside kafka_2.13-3.4.0 folder:\r\n\r\n- `bin/zookeeper-server-start.sh config/zookeeper.properties`\r\n- `bin/kafka-server-start.sh config/server.properties`\r\n- Write events: `bin/kafka-console-producer.sh --topic viewTopic --bootstrap-server localhost:9092 &lt; viewEvents.txt`\r\n- Write events: `bin/kafka-console-producer.sh --topic engTopic --bootstrap-server localhost:9092 &lt; engEvents.txt`\r\n- Read output: `bin/kafka-console-consumer.sh --topic delayedTopic --bootstrap-server localhost:9092`\r\n\r\nviewEvents.txt and engEvents.txt will have strings of the form `view_{id}_{timestamp}` and `eng_{id}_{timestamp}` repectively. Each string will be in a new line. e.g `view_1_1683787256`, `eng_1_1683787456`\r\n\r\nRun the code in IntelliJ and you are good to go.\r\n","title":"Flink interval join throws error: Long.MIN_VALUE timestamp: Elements used in interval stream joins need to have timestamps meaningful timestamps","body":"<p>I have 2 KafkaConsumers A (topic = &quot;viewTopic&quot;) &amp; B (topic = &quot;engTopic&quot;) and 1 KafkaProducer C (topic = &quot;delayedTopic&quot;).</p>\n<p>Events in A &amp; B are strings of form <code>a_{id}_{timestamp}</code> and <code>b_{id}_{timestamp}</code> respectively.</p>\n<p>I need to do the following:</p>\n<ol>\n<li>Delay the events in A by 2 seconds</li>\n<li>Do an interval join with events in B if their ids match</li>\n<li>Push the joined events in C.</li>\n</ol>\n<p>I'm using event time as interval join works on event time only.</p>\n<h3>Main class</h3>\n<pre><code>public class DataStreamJob {\n\n    public static void main(String[] args) throws Exception {\n        final StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\n        env.setStreamTimeCharacteristic(TimeCharacteristic.EventTime);\n        Properties properties1 = new Properties();\n        properties1.setProperty(&quot;bootstrap.servers&quot;, &quot;localhost:9092&quot;);\n        properties1.setProperty(&quot;group.id&quot;, &quot;myGroup1&quot;);\n        Properties properties2 = new Properties();\n        properties2.setProperty(&quot;bootstrap.servers&quot;, &quot;localhost:9092&quot;);\n        properties2.setProperty(&quot;group.id&quot;, &quot;myGroup1&quot;);\n        Properties properties3 = new Properties();\n        properties3.setProperty(&quot;bootstrap.servers&quot;, &quot;localhost:9092&quot;);\n\n        // set up Kafka String view consumer\n        FlinkKafkaConsumer&lt;String&gt; viewConsumer = new FlinkKafkaConsumer&lt;&gt;(&quot;viewTopic&quot;, new SimpleStringSchema(), properties1);\n        DataStream&lt;Event&gt; delayedViewStream = env.addSource(viewConsumer)\n                        // map incoming string to a JSON.\n                        .map(DataStreamJob::parseEvent)\n                        .assignTimestampsAndWatermarks(WatermarkStrategy.&lt;Event&gt;forBoundedOutOfOrderness(Duration.ofSeconds(5))\n                                .withTimestampAssigner((event, timestamp) -&gt; event.getTimestamp()))\n                        // records with same key are assigned same partition\n                        .keyBy(event -&gt; event.getId())\n                        .process(new DelayedEventsProcessFunction());\n\n        // set up Kafka String engagement consumer\n        FlinkKafkaConsumer&lt;String&gt; engConsumer = new FlinkKafkaConsumer&lt;&gt;(&quot;engTopic&quot;, new SimpleStringSchema(), properties2);\n        DataStream&lt;Event&gt; directEngStream =  env.addSource(engConsumer)\n                        .map(DataStreamJob::parseEvent)\n                        .assignTimestampsAndWatermarks(WatermarkStrategy.&lt;Event&gt;forBoundedOutOfOrderness(Duration.ofSeconds(5))\n                                .withTimestampAssigner((event, timestamp) -&gt; event.getTimestamp()))\n                        .keyBy(event -&gt; event.getId());\n\n        // interval join both streams\n        DataStream&lt;Event&gt; joinedStream  = delayedViewStream.keyBy(event -&gt; event.getId())\n                        .intervalJoin(directEngStream.keyBy(event -&gt; event.getId()))\n                        .between(Time.seconds(-10), Time.seconds(10))\n                        .process(new EventJoinProcessFunction());\n\n        // set up Kafka Event producer\n        KeyedSerializationSchema&lt;String&gt; keyedSerializationSchema = new KeyedSerializationSchemaWrapper&lt;&gt;(new SimpleStringSchema());\n        FlinkKafkaProducer&lt;String&gt; kafkaProducer = new FlinkKafkaProducer&lt;&gt;(\n                        &quot;delayedTopic&quot;,\n                        keyedSerializationSchema,\n                        properties3,\n                        FlinkKafkaProducer.Semantic.EXACTLY_ONCE);\n\n        joinedStream.map(Event::eventToString).addSink(kafkaProducer);\n        env.execute();\n}\n</code></pre>\n<h3>Code for DelayedEventsProcessFunction</h3>\n<pre><code>public class DelayedEventsProcessFunction extends KeyedProcessFunction&lt;String, Event, Event&gt; {\n    private transient MapState&lt;Long, Event&gt; delayedEventsState;\n\n    @Override\n    public void open(Configuration parameters) throws Exception {\n        MapStateDescriptor&lt;Long, Event&gt; delayedEventsDescriptor = new MapStateDescriptor&lt;&gt;(\n                &quot;delayedEventsState&quot;,\n                Types.LONG,\n                TypeInformation.of(new TypeHint&lt;Event&gt;() {})\n        );\n        delayedEventsState = getRuntimeContext().getMapState(delayedEventsDescriptor);\n    }\n\n    @Override\n    public void processElement(Event event, KeyedProcessFunction&lt;String, Event, Event&gt;.Context ctx, Collector&lt;Event&gt; out) throws Exception {\n        long currentTimestamp = event.getTimestamp();\n        long delayedTimestamp = currentTimestamp + TimeUnit.SECONDS.toMillis(2);\n        // schedule a callback when 2 seconds have passed.\n        ctx.timerService().registerProcessingTimeTimer(delayedTimestamp);\n        delayedEventsState.put(delayedTimestamp, event);\n    }\n\n    @Override\n    public void onTimer(long timestamp, OnTimerContext ctx, Collector&lt;Event&gt; out) throws Exception {\n        Event delayedEvent = delayedEventsState.get(timestamp);\n        if (delayedEvent != null) {\n            out.collect(delayedEvent);\n            delayedEventsState.remove(timestamp);\n        }\n    }\n}\n</code></pre>\n<h3>Code for EventJoinProcessFunction</h3>\n<pre><code>public class EventJoinProcessFunction extends ProcessJoinFunction&lt;Event, Event, Event&gt; {\n    @Override\n    public void processElement(Event left, Event right, ProcessJoinFunction&lt;Event, Event, Event&gt;.Context ctx, Collector&lt;Event&gt; out) throws Exception {\n        out.collect(new Event(&quot;join:&quot;+left.getType()+right.getType(), left.getId()+right.getId(), left.getTimestamp()));\n    }\n}\n</code></pre>\n<h3>Code for Event class</h3>\n<pre><code>public class Event {\n    private final String type;\n\n    private final String id;\n\n    private long timestamp;\n\n    public Event(String type, String id, long timestamp) {\n        this.type = type;\n        this.id = id;\n        this.timestamp = timestamp;\n    }\n\n    public String getType() {\n        return type;\n    }\n\n    public String getId() {\n        return id;\n    }\n\n    public long getTimestamp() {return timestamp;}\n\n    public String eventToString() {\n        return String.format(&quot;%s_%s_%s&quot;, type, id, timestamp);\n    }\n}\n</code></pre>\n<h3>Local setup</h3>\n<ul>\n<li>Download IntelliJ for Mac</li>\n<li>Download latest Kafka: <a href=\"https://kafka.apache.org/quickstart\" rel=\"nofollow noreferrer\">https://kafka.apache.org/quickstart</a></li>\n<li><code>tar -xzf kafka_2.13-3.4.0.tgz</code></li>\n<li><code>cd kafka_2.13-3.4.0</code></li>\n</ul>\n<p>Create the 3 topics</p>\n<ul>\n<li><code>bin/kafka-topics.sh --create --topic viewTopic --bootstrap-server localhost:9092</code></li>\n<li><code>bin/kafka-topics.sh --create --topic engTopic --bootstrap-server localhost:9092</code></li>\n<li><code>bin/kafka-topics.sh --create --topic delayedTopic --bootstrap-server localhost:9092</code></li>\n</ul>\n<p>Open 5 different terminals and run the following commands inside kafka_2.13-3.4.0 folder:</p>\n<ul>\n<li><code>bin/zookeeper-server-start.sh config/zookeeper.properties</code></li>\n<li><code>bin/kafka-server-start.sh config/server.properties</code></li>\n<li>Write events: <code>bin/kafka-console-producer.sh --topic viewTopic --bootstrap-server localhost:9092 &lt; viewEvents.txt</code></li>\n<li>Write events: <code>bin/kafka-console-producer.sh --topic engTopic --bootstrap-server localhost:9092 &lt; engEvents.txt</code></li>\n<li>Read output: <code>bin/kafka-console-consumer.sh --topic delayedTopic --bootstrap-server localhost:9092</code></li>\n</ul>\n<p>viewEvents.txt and engEvents.txt will have strings of the form <code>view_{id}_{timestamp}</code> and <code>eng_{id}_{timestamp}</code> repectively. Each string will be in a new line. e.g <code>view_1_1683787256</code>, <code>eng_1_1683787456</code></p>\n<p>Run the code in IntelliJ and you are good to go.</p>\n"},{"tags":["java","html","spring","thymeleaf"],"comments":[{"owner":{"account_id":6767185,"reputation":17855,"user_id":5211833,"accept_rate":83,"display_name":"Adriaan"},"score":0,"creation_date":1683790151,"post_id":76180802,"comment_id":134421157,"body_markdown":"Please don&#39;t make more work for other people by vandalizing your posts. By posting on the Stack Exchange network, you&#39;ve granted a non-revocable right, under the [CC BY-SA 4.0 license](https://creativecommons.org/licenses/by-sa/4.0/), for Stack Exchange to distribute that content (i.e. regardless of your future choices). By Stack Exchange policy, the non-vandalized version of the post is the one which is distributed. Thus, any vandalism will be reverted. If you want to know more about deleting a post please see: [How does deleting work?](https://meta.stackexchange.com/q/5221)","body":"Please don&#39;t make more work for other people by vandalizing your posts. By posting on the Stack Exchange network, you&#39;ve granted a non-revocable right, under the <a href=\"https://creativecommons.org/licenses/by-sa/4.0/\" rel=\"nofollow noreferrer\">CC BY-SA 4.0 license</a>, for Stack Exchange to distribute that content (i.e. regardless of your future choices). By Stack Exchange policy, the non-vandalized version of the post is the one which is distributed. Thus, any vandalism will be reverted. If you want to know more about deleting a post please see: <a href=\"https://meta.stackexchange.com/q/5221\">How does deleting work?</a>"}],"answers":[{"comments":[{"owner":{"account_id":14322830,"reputation":39,"user_id":10345705,"display_name":"Grand Skunk"},"score":0,"creation_date":1683758890,"post_id":76219198,"comment_id":134417655,"body_markdown":"It still appears red and doesn&#39;t work if I do that","body":"It still appears red and doesn&#39;t work if I do that"},{"owner":{"account_id":166382,"reputation":2080,"user_id":390462,"display_name":"BendaThierry.com"},"score":0,"creation_date":1684067079,"post_id":76219198,"comment_id":134459429,"body_markdown":"Which editor are you using ?","body":"Which editor are you using ?"},{"owner":{"account_id":166382,"reputation":2080,"user_id":390462,"display_name":"BendaThierry.com"},"score":0,"creation_date":1684067218,"post_id":76219198,"comment_id":134459445,"body_markdown":"do you have added the doctype inside the file ?","body":"do you have added the doctype inside the file ?"},{"owner":{"account_id":166382,"reputation":2080,"user_id":390462,"display_name":"BendaThierry.com"},"score":0,"creation_date":1684067268,"post_id":76219198,"comment_id":134459454,"body_markdown":"do you have added the thymeleaf XML namespace inside your fragment file ? `&lt;html lang=&quot;fr&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;`","body":"do you have added the thymeleaf XML namespace inside your fragment file ? <code>&lt;html lang=&quot;fr&quot; xmlns:th=&quot;http:&#47;&#47;www.thymeleaf.org&quot;&gt;</code>"}],"tags":[],"owner":{"account_id":166382,"reputation":2080,"user_id":390462,"display_name":"BendaThierry.com"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683726311,"creation_date":1683726311,"answer_id":76219198,"question_id":76180802,"body_markdown":"Why did you set multiple html attributes with thymeleaf and with standard html attributes ? It should work well using the `th:field` thymeleaf tag, I bet that&#39;s why your code editor underline that with red, because `th:id` and `th:value` are redundant :\r\n\r\n    &lt;input type=&quot;text&quot; class=&quot;form-control&quot; placeholder=&quot;&quot; \r\n           th:field=&quot;*{token}&quot; data-cy=&quot;token&quot; autofocus/&gt;","title":"th:field attribute has a red underline in fragment thymeleaf","body":"<p>Why did you set multiple html attributes with thymeleaf and with standard html attributes ? It should work well using the <code>th:field</code> thymeleaf tag, I bet that's why your code editor underline that with red, because <code>th:id</code> and <code>th:value</code> are redundant :</p>\n<pre><code>&lt;input type=&quot;text&quot; class=&quot;form-control&quot; placeholder=&quot;&quot; \n       th:field=&quot;*{token}&quot; data-cy=&quot;token&quot; autofocus/&gt;\n</code></pre>\n"}],"owner":{"account_id":14322830,"reputation":39,"user_id":10345705,"display_name":"Grand Skunk"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":137,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1683790138,"creation_date":1683279342,"question_id":76180802,"body_markdown":"I have this fragment, it opens a modal when a button is clicked and inside that model is a form with a text field for token and submit button. \r\n\r\nHowever the th:field attribute token appears to have the red squiggle underneath so I&#39;m not sure I am doing wrong. I think it is something to do with using fragments but I am not sure how to fix this. And because of this, when invalid input/blank field is entered in the token field then no errors are displayed in the errors div where field.errors(&#39;token&#39;) is used. \r\n\r\n\r\n    &lt;div th:fragment=&quot;joinTeamByToken(joinTeamForm, tokenInvalid)&quot;&gt;\r\n    \r\n        &lt;form id=&quot;forgot-password-form&quot; th:action=&quot;@{my-teams}&quot; method=&quot;post&quot; th:object=&quot;${joinTeamForm}&quot;&gt;\r\n    \r\n    \r\n        &lt;div class=&quot;submit-button&quot;&gt;\r\n            &lt;button id=&quot;joinTeamByTokenModalBtn&quot; type=&quot;button&quot; class=&quot;registerLoginButton&quot;&gt;Join Team by Token&lt;/button&gt;\r\n        &lt;/div&gt;\r\n    \r\n    \r\n        &lt;div id=&quot;joinTeamModal&quot; class=&quot;modal&quot; th:style=&quot;${tokenInvalid != null ? &#39;display:block&#39; : &#39;display:none&#39;}&quot;&gt;\r\n    \r\n            &lt;div class=&quot;modal-content&quot;&gt;\r\n                &lt;span class=&quot;close&quot;&gt;&amp;times;&lt;/span&gt;\r\n                &lt;h4 class=&quot;reset-password-info&quot;&gt; Join Team By Token &lt;/h4&gt;\r\n    \r\n                &lt;div class=&quot;input-box&quot;&gt;\r\n                    &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;token&quot; placeholder=&quot;&quot; th:field=&quot;*{token}&quot; th:value=&quot;${token}&quot;\r\n                           data-cy=&quot;token&quot; autofocus&gt;\r\n                    &lt;label for=&quot;token&quot;&gt; Token: &lt;span class=&quot;required&quot;&gt;*&lt;/span&gt;&lt;/label&gt;\r\n                &lt;/div&gt;\r\n    \r\n                &lt;div th:each=&quot;err : ${#fields.errors(&#39;token&#39;)}&quot; th:text=&quot;${err}&quot; class=&quot;error-message&quot;&gt;&lt;/div&gt;\r\n    \r\n    \r\n                &lt;div class=&quot;submit-button&quot;&gt;\r\n                    &lt;button id=&quot;joinTeam&quot; type=&quot;submit&quot; class=&quot;registerLoginButton&quot;&gt;Join Team&lt;/button&gt;\r\n                &lt;/div&gt;\r\n    \r\n            &lt;/div&gt;\r\n    \r\n        &lt;/div&gt;\r\n\r\n\r\n\r\nthe @PostMapping to post upon submit\r\n\r\n\r\n\r\n     @PostMapping(&quot;/my-teams&quot;)\r\n        public String joinTeamsForm(\r\n                @RequestParam(&quot;token&quot;) String token,\r\n                @Validated JoinTeamForm joinTeamForm,\r\n                BindingResult bindingResult,\r\n                Model model,\r\n                HttpServletResponse httpServletResponse, HttpServletRequest request,\r\n                RedirectAttributes redirectAttributes) throws IOException {\r\n    \r\n            model.addAttribute(&quot;token&quot;, token);\r\n            model.addAttribute(&quot;httpServletRequest&quot;, request);\r\n    \r\n            User user = userService.getCurrentUser().get();\r\n            Optional&lt;Team&gt; team = teamService.findByToken(token);\r\n    \r\n    \r\n            if(team.isEmpty()) {\r\n                redirectAttributes.addFlashAttribute(&quot;tokenInvalid&quot;, &quot;Token is null&quot;);\r\n            }\r\n    \r\n            if (bindingResult.hasErrors()) {\r\n                redirectAttributes.addFlashAttribute(&quot;tokenInvalid&quot;, &quot;Token is null&quot;);\r\n                httpServletResponse.setStatus(HttpServletResponse.SC_BAD_REQUEST);\r\n                return &quot;redirect:/my-teams?page=1&quot;;\r\n            }\r\n    \r\n            if(team.isPresent()) {\r\n                Team teamToJoin =  team.get();\r\n                user.joinTeam(teamToJoin);\r\n                userService.updateOrAddUser(user);\r\n            }\r\n            \r\n            return &quot;redirect:/my-teams?page=1&quot;;\r\n        }\r\n\r\n\r\n\r\nJoinTeamForm\r\n\r\n    public class JoinTeamForm {\r\n    \r\n        @NotBlank(message = &quot;Field cannot be blank&quot;)\r\n        private String token;\r\n    \r\n        public String getToken() {\r\n            return token;\r\n        }\r\n    \r\n        public void setToken(String token) {\r\n            this.token = token;\r\n        }\r\n    }\r\n\r\n","title":"th:field attribute has a red underline in fragment thymeleaf","body":"<p>I have this fragment, it opens a modal when a button is clicked and inside that model is a form with a text field for token and submit button.</p>\n<p>However the th:field attribute token appears to have the red squiggle underneath so I'm not sure I am doing wrong. I think it is something to do with using fragments but I am not sure how to fix this. And because of this, when invalid input/blank field is entered in the token field then no errors are displayed in the errors div where field.errors('token') is used.</p>\n<pre><code>&lt;div th:fragment=&quot;joinTeamByToken(joinTeamForm, tokenInvalid)&quot;&gt;\n\n    &lt;form id=&quot;forgot-password-form&quot; th:action=&quot;@{my-teams}&quot; method=&quot;post&quot; th:object=&quot;${joinTeamForm}&quot;&gt;\n\n\n    &lt;div class=&quot;submit-button&quot;&gt;\n        &lt;button id=&quot;joinTeamByTokenModalBtn&quot; type=&quot;button&quot; class=&quot;registerLoginButton&quot;&gt;Join Team by Token&lt;/button&gt;\n    &lt;/div&gt;\n\n\n    &lt;div id=&quot;joinTeamModal&quot; class=&quot;modal&quot; th:style=&quot;${tokenInvalid != null ? 'display:block' : 'display:none'}&quot;&gt;\n\n        &lt;div class=&quot;modal-content&quot;&gt;\n            &lt;span class=&quot;close&quot;&gt;&amp;times;&lt;/span&gt;\n            &lt;h4 class=&quot;reset-password-info&quot;&gt; Join Team By Token &lt;/h4&gt;\n\n            &lt;div class=&quot;input-box&quot;&gt;\n                &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;token&quot; placeholder=&quot;&quot; th:field=&quot;*{token}&quot; th:value=&quot;${token}&quot;\n                       data-cy=&quot;token&quot; autofocus&gt;\n                &lt;label for=&quot;token&quot;&gt; Token: &lt;span class=&quot;required&quot;&gt;*&lt;/span&gt;&lt;/label&gt;\n            &lt;/div&gt;\n\n            &lt;div th:each=&quot;err : ${#fields.errors('token')}&quot; th:text=&quot;${err}&quot; class=&quot;error-message&quot;&gt;&lt;/div&gt;\n\n\n            &lt;div class=&quot;submit-button&quot;&gt;\n                &lt;button id=&quot;joinTeam&quot; type=&quot;submit&quot; class=&quot;registerLoginButton&quot;&gt;Join Team&lt;/button&gt;\n            &lt;/div&gt;\n\n        &lt;/div&gt;\n\n    &lt;/div&gt;\n</code></pre>\n<p>the @PostMapping to post upon submit</p>\n<pre><code> @PostMapping(&quot;/my-teams&quot;)\n    public String joinTeamsForm(\n            @RequestParam(&quot;token&quot;) String token,\n            @Validated JoinTeamForm joinTeamForm,\n            BindingResult bindingResult,\n            Model model,\n            HttpServletResponse httpServletResponse, HttpServletRequest request,\n            RedirectAttributes redirectAttributes) throws IOException {\n\n        model.addAttribute(&quot;token&quot;, token);\n        model.addAttribute(&quot;httpServletRequest&quot;, request);\n\n        User user = userService.getCurrentUser().get();\n        Optional&lt;Team&gt; team = teamService.findByToken(token);\n\n\n        if(team.isEmpty()) {\n            redirectAttributes.addFlashAttribute(&quot;tokenInvalid&quot;, &quot;Token is null&quot;);\n        }\n\n        if (bindingResult.hasErrors()) {\n            redirectAttributes.addFlashAttribute(&quot;tokenInvalid&quot;, &quot;Token is null&quot;);\n            httpServletResponse.setStatus(HttpServletResponse.SC_BAD_REQUEST);\n            return &quot;redirect:/my-teams?page=1&quot;;\n        }\n\n        if(team.isPresent()) {\n            Team teamToJoin =  team.get();\n            user.joinTeam(teamToJoin);\n            userService.updateOrAddUser(user);\n        }\n        \n        return &quot;redirect:/my-teams?page=1&quot;;\n    }\n</code></pre>\n<p>JoinTeamForm</p>\n<pre><code>public class JoinTeamForm {\n\n    @NotBlank(message = &quot;Field cannot be blank&quot;)\n    private String token;\n\n    public String getToken() {\n        return token;\n    }\n\n    public void setToken(String token) {\n        this.token = token;\n    }\n}\n</code></pre>\n"},{"tags":["java","arraylist","resize"],"comments":[{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":2,"creation_date":1683788955,"post_id":76224912,"comment_id":134420928,"body_markdown":"The idea is to create a new array of larger size, and either using for loop or System.arraycopy(), copy the values stored to new array then reassign the new array to the previous array variable. Also note that ArrayList maintains a variable like size/count so that insertion is O(1) and iteration is not needed for insertion","body":"The idea is to create a new array of larger size, and either using for loop or System.arraycopy(), copy the values stored to new array then reassign the new array to the previous array variable. Also note that ArrayList maintains a variable like size/count so that insertion is O(1) and iteration is not needed for insertion"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1683789613,"post_id":76224912,"comment_id":134421050,"body_markdown":"Hello and welcome. I&#39;m assuming you&#39;re talking about [this specific answer](https://stackoverflow.com/a/62850895/133203). When they say it&#39;s not recommended they mean for actual production code. For homework it&#39;s perfectly fine. Anyway, a better approach would be to double the size of the array when it&#39;s full instead of growing it by one element at each insertion.","body":"Hello and welcome. I&#39;m assuming you&#39;re talking about <a href=\"https://stackoverflow.com/a/62850895/133203\">this specific answer</a>. When they say it&#39;s not recommended they mean for actual production code. For homework it&#39;s perfectly fine. Anyway, a better approach would be to double the size of the array when it&#39;s full instead of growing it by one element at each insertion."}],"answers":[{"tags":[],"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1683789819,"creation_date":1683789819,"answer_id":76225050,"question_id":76224912,"body_markdown":"You could implement your method as \r\n```\r\nprivate void resizeArray(int newCapacity){\r\n  Object[] newArray = new Object[newCapacity]; //create new extended array\r\n  Object[] elements = this.elements; //get existing array\r\n  System.arrayCopy(elements, 0, newArray, 0, elements.length); //copy existing data into the new array\r\n  this.elements = newArray; // set new array as storage\r\n}","title":"How to mimic ArrayList in Java?","body":"<p>You could implement your method as</p>\n<pre><code>private void resizeArray(int newCapacity){\n  Object[] newArray = new Object[newCapacity]; //create new extended array\n  Object[] elements = this.elements; //get existing array\n  System.arrayCopy(elements, 0, newArray, 0, elements.length); //copy existing data into the new array\n  this.elements = newArray; // set new array as storage\n}\n</code></pre>\n"}],"owner":{"account_id":28366608,"reputation":13,"user_id":21695819,"display_name":"Gilson dos Reis"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76225050,"answer_count":1,"score":1,"last_activity_date":1683789819,"creation_date":1683788599,"question_id":76224912,"body_markdown":"I have homework to mimic the ArrayList data structure in Java. I am not allowed to use any 3rd party data structures or anything in java.Utils.package.\r\n\r\nI got stuck on how to increase the array size dynamically.\r\n\r\nI read the documentation at  [Class ArrayList&lt;E&gt;](https://docs.oracle.com/javase/6/docs/api/java/util/ArrayList.html) and many online articles and I didn&#39;t figure out a solution. \r\n\r\nI found a post here but the author does not recommend to use his solution. [&quot;FAKE resizable array&quot;](https://stackoverflow.com/questions/2581972/how-can-i-make-a-resizable-array-in-java/)\r\n\r\n\r\n\r\nThis is part of my code:\r\n\r\n```\r\n//Implementation Class\r\npackage IncreaseArraySize;\r\npublic class StudentArrayList&lt;E&gt;{\r\n\tprivate Object[] elements;\r\n\tpublic StudentArrayList() {\r\n\t\t\telements = new Object[]{null, null};\r\n\t}\r\n        public StudentArrayList(int capacity) {\r\n\t\telements = new Object[capacity];\r\n\t\tfor(int i = 0; i &lt; capacity; i++){\r\n\t\t\telements[i] = null; \r\n\t\t}\r\n\t}\r\n\tpublic void add(E e){\r\n\t\tBoolean isItAdded = false;\r\n\t\tfor ( int i= 0; i &lt; elements.length; i++) {\r\n\t\t\t//assuming the 1st null is the end of the list\r\n                       if(elements[i] == null){  \r\n\t\t\t\telements[i] = e;\r\n\t\t\t\tisItAdded = true;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n                        }\r\n                        if(isItAdded == false){\r\n\t\t \t       int holdIndex = elements.length;\r\n\t\t\t       resizeArray(holdIndex+10);\r\n\t\t\t       elements[holdIndex] = e;\r\n\t\t        }\r\n                }\r\n\tprivate void resizeArray(int newCapacity){\r\n\t\tSystem.out.println(&quot;Resize the array &#39;elements&#39; here&quot;);\r\n\t}\r\n\tpublic String toString(){\r\n\t\tString stringOfElements=&quot;[&quot;;\r\n\t\tBoolean notFirstElement = false;\r\n\t\tfor ( int i= 0; i &lt; elements.length; i++) {\r\n            if(elements[i] != null){\r\n\t\t\t\tif(notFirstElement) stringOfElements += &quot;, &quot;;\r\n\t\t\t  stringOfElements += elements[i];\r\n\t\t\t  notFirstElement = true;\r\n\t\t\t} \r\n        } \r\n\t\tstringOfElements += &quot;]&quot;;\r\n        return stringOfElements;\r\n    }\r\n}\r\n\r\n//Main method\r\npackage IncreaseArraySize;\r\n\r\npublic class testMyArrayList {\r\n    public static void main(String[] args) {\r\n        StudentArrayList&lt;String&gt; myArrayList = new StudentArrayList&lt;String&gt;(2);\r\n        System.out.println(&quot;Initial list of elements = &quot; + myArrayList.toString());\r\n        myArrayList.add(&quot;this works fine&quot;);\r\n        myArrayList.add(&quot;this works fine too&quot;);\r\n        System.out.println(&quot;List of elements = &quot; + myArrayList.toString());\r\n        myArrayList.add(&quot;This doesn&#39;t work&quot;);\r\n        System.out.println(&quot;Array was resized: list of elements= &quot; + myArrayList.toString());\r\n    }\r\n}\r\n\r\n```\r\n\r\nAny help is appreciated. \r\n","title":"How to mimic ArrayList in Java?","body":"<p>I have homework to mimic the ArrayList data structure in Java. I am not allowed to use any 3rd party data structures or anything in java.Utils.package.</p>\n<p>I got stuck on how to increase the array size dynamically.</p>\n<p>I read the documentation at  <a href=\"https://docs.oracle.com/javase/6/docs/api/java/util/ArrayList.html\" rel=\"nofollow noreferrer\">Class ArrayList</a> and many online articles and I didn't figure out a solution.</p>\n<p>I found a post here but the author does not recommend to use his solution. <a href=\"https://stackoverflow.com/questions/2581972/how-can-i-make-a-resizable-array-in-java/\">&quot;FAKE resizable array&quot;</a></p>\n<p>This is part of my code:</p>\n<pre><code>//Implementation Class\npackage IncreaseArraySize;\npublic class StudentArrayList&lt;E&gt;{\n    private Object[] elements;\n    public StudentArrayList() {\n            elements = new Object[]{null, null};\n    }\n        public StudentArrayList(int capacity) {\n        elements = new Object[capacity];\n        for(int i = 0; i &lt; capacity; i++){\n            elements[i] = null; \n        }\n    }\n    public void add(E e){\n        Boolean isItAdded = false;\n        for ( int i= 0; i &lt; elements.length; i++) {\n            //assuming the 1st null is the end of the list\n                       if(elements[i] == null){  \n                elements[i] = e;\n                isItAdded = true;\n                break;\n            }\n                        }\n                        if(isItAdded == false){\n                   int holdIndex = elements.length;\n                   resizeArray(holdIndex+10);\n                   elements[holdIndex] = e;\n                }\n                }\n    private void resizeArray(int newCapacity){\n        System.out.println(&quot;Resize the array 'elements' here&quot;);\n    }\n    public String toString(){\n        String stringOfElements=&quot;[&quot;;\n        Boolean notFirstElement = false;\n        for ( int i= 0; i &lt; elements.length; i++) {\n            if(elements[i] != null){\n                if(notFirstElement) stringOfElements += &quot;, &quot;;\n              stringOfElements += elements[i];\n              notFirstElement = true;\n            } \n        } \n        stringOfElements += &quot;]&quot;;\n        return stringOfElements;\n    }\n}\n\n//Main method\npackage IncreaseArraySize;\n\npublic class testMyArrayList {\n    public static void main(String[] args) {\n        StudentArrayList&lt;String&gt; myArrayList = new StudentArrayList&lt;String&gt;(2);\n        System.out.println(&quot;Initial list of elements = &quot; + myArrayList.toString());\n        myArrayList.add(&quot;this works fine&quot;);\n        myArrayList.add(&quot;this works fine too&quot;);\n        System.out.println(&quot;List of elements = &quot; + myArrayList.toString());\n        myArrayList.add(&quot;This doesn't work&quot;);\n        System.out.println(&quot;Array was resized: list of elements= &quot; + myArrayList.toString());\n    }\n}\n\n</code></pre>\n<p>Any help is appreciated.</p>\n"},{"tags":["java","appium","karate"],"comments":[{"owner":{"account_id":48302,"reputation":55363,"user_id":143475,"display_name":"Peter Thomas"},"score":1,"creation_date":1683800348,"post_id":76225029,"comment_id":134423408,"body_markdown":"sorry, I would not recommend using java at all in karate. please also read this: https://github.com/karatelabs/karate/tree/master/karate-core#locator-lookup","body":"sorry, I would not recommend using java at all in karate. please also read this: <a href=\"https://github.com/karatelabs/karate/tree/master/karate-core#locator-lookup\" rel=\"nofollow noreferrer\">github.com/karatelabs/karate/tree/master/&hellip;</a>"},{"owner":{"account_id":7865489,"reputation":380,"user_id":5944412,"display_name":"Bipin Kumar Chaurasia"},"score":0,"creation_date":1683866357,"post_id":76225029,"comment_id":134435070,"body_markdown":"Have you used this locator anywhere in your repository? `*[name=&#39;usernametxtbox&#39;]`","body":"Have you used this locator anywhere in your repository? <code>*[name=&#39;usernametxtbox&#39;]</code>"}],"owner":{"account_id":3836586,"reputation":105,"user_id":3180718,"accept_rate":60,"display_name":"Michael Corleone"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1683789702,"creation_date":1683789702,"question_id":76225029,"body_markdown":"I am trying to implement Page Factory concept in Karate Framework.\r\n\r\n`LoginPage.java`\r\n\r\n  \r\n\r\n    @AndroidFindBy(xpath = &quot;//android.widget.EditText[@content-desc=&#39;email-input&#39;]&quot;)\r\n       public WebElement usernametxtbox;\r\n    \r\n    @AndroidFindBy(xpath = &quot;//android.widget.EditText[@content-desc=&#39;password-input&#39;]&quot;)\r\n    public WebElement passwordtxtbox;\r\n    \r\n    public LoginPage(WebDriver driver){\r\n            this.driver = driver;\r\n            PageFactory.initElements(driver, this);\r\n            driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(10));\r\n        }\r\n    \r\n        public void doLogin() throws InterruptedException, IOException {\r\n           usernametxtbox.sendKeys(&quot;username&quot;);\r\n          passwordtxtbox.sendKeys(&quot;password&quot;);\r\n    }\r\n\r\n\r\n\r\n`Login.feature`\r\n\r\n    Background: App Preset\r\n        * def LoginPage = Java.type(&#39;com.mobile.pages.LoginPage&#39;)\r\n        * def LoginPageObj = new LoginPage(driver)\r\n    \r\n      Scenario: Android app UI test\r\n        Given LoginPageObj.doLogin()\r\n\r\n\r\nI am getting below error when I execute the above feature file\r\n\r\n    01: LoginPageObj.doLogin()\r\n    &lt;&lt;&lt;&lt;\r\n    org.graalvm.polyglot.PolyglotException: Unsupported CSS selector &#39;*[name=&#39;usernametxtbox&#39;]&#39;. Reason: &#39;Error: &#39;name&#39; is not a valid attribute. Supported attributes are &#39;checkable, checked, clickable, enabled, focusable, focused, long-clickable, scrollable, selected, index, instance, description, resource-id, text, class-name, package-name&#39;&#39;\r\n\r\nKarate is considering the WebElement name as the CSS selector when I try to do usernametxtbox.sendKeys(&quot;username&quot;);\r\n","title":"Unable to implement page factory in Karate Framework","body":"<p>I am trying to implement Page Factory concept in Karate Framework.</p>\n<p><code>LoginPage.java</code></p>\n<pre><code>@AndroidFindBy(xpath = &quot;//android.widget.EditText[@content-desc='email-input']&quot;)\n   public WebElement usernametxtbox;\n\n@AndroidFindBy(xpath = &quot;//android.widget.EditText[@content-desc='password-input']&quot;)\npublic WebElement passwordtxtbox;\n\npublic LoginPage(WebDriver driver){\n        this.driver = driver;\n        PageFactory.initElements(driver, this);\n        driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(10));\n    }\n\n    public void doLogin() throws InterruptedException, IOException {\n       usernametxtbox.sendKeys(&quot;username&quot;);\n      passwordtxtbox.sendKeys(&quot;password&quot;);\n}\n</code></pre>\n<p><code>Login.feature</code></p>\n<pre><code>Background: App Preset\n    * def LoginPage = Java.type('com.mobile.pages.LoginPage')\n    * def LoginPageObj = new LoginPage(driver)\n\n  Scenario: Android app UI test\n    Given LoginPageObj.doLogin()\n</code></pre>\n<p>I am getting below error when I execute the above feature file</p>\n<pre><code>01: LoginPageObj.doLogin()\n&lt;&lt;&lt;&lt;\norg.graalvm.polyglot.PolyglotException: Unsupported CSS selector '*[name='usernametxtbox']'. Reason: 'Error: 'name' is not a valid attribute. Supported attributes are 'checkable, checked, clickable, enabled, focusable, focused, long-clickable, scrollable, selected, index, instance, description, resource-id, text, class-name, package-name''\n</code></pre>\n<p>Karate is considering the WebElement name as the CSS selector when I try to do usernametxtbox.sendKeys(&quot;username&quot;);</p>\n"},{"tags":["javascript","java","firebase","google-cloud-platform","google-cloud-functions"],"answers":[{"comments":[{"owner":{"account_id":8925344,"reputation":83,"user_id":6660118,"display_name":"JGC"},"score":1,"creation_date":1625607194,"post_id":68277276,"comment_id":120670663,"body_markdown":"Renaud-&gt; you my friend are awesome! Had tried the return on the db but did not even think of having to wait on the promise return! Cheers","body":"Renaud-&gt; you my friend are awesome! Had tried the return on the db but did not even think of having to wait on the promise return! Cheers"}],"tags":[],"owner":{"account_id":4108664,"reputation":80443,"user_id":3371862,"accept_rate":73,"display_name":"Renaud Tarnec"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1625604996,"creation_date":1625604996,"answer_id":68277276,"question_id":68276782,"body_markdown":"In the `lastCustIdGrab` function you need to return [the promises chain][1], as follows:\r\n\r\n    exports.lastCustIdGrab = () =&gt; {\r\n      return db.collection(&#39;Customers&#39;)   // &lt;== See return \r\n      .orderBy(&#39;createdAt&#39;, &#39;desc&#39;)\r\n      .limit(1);\r\n      .get()\r\n        .then((data) =&gt; {\r\n            let DOC = data.docs[0];\r\n            let ID = DOC.id;\r\n            console.log(&quot;LOOOP &quot;,ID);\r\n            return ID;\r\n        });\r\n    }\r\n\r\n**AND** you should note that the `lastCustIdGrab` function is asynchronous and returns a Promise, which means that you need to do:\r\n\r\n    lastCustIdGrab()\r\n    .then(data =&gt; {\r\n       console.log(`Last number ${data}`);\r\n    });\r\n\r\n \r\n\r\n  [1]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Using_promises#chaining","title":"Passing ID from one function to another with return","body":"<p>In the <code>lastCustIdGrab</code> function you need to return <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Using_promises#chaining\" rel=\"nofollow noreferrer\">the promises chain</a>, as follows:</p>\n<pre><code>exports.lastCustIdGrab = () =&gt; {\n  return db.collection('Customers')   // &lt;== See return \n  .orderBy('createdAt', 'desc')\n  .limit(1);\n  .get()\n    .then((data) =&gt; {\n        let DOC = data.docs[0];\n        let ID = DOC.id;\n        console.log(&quot;LOOOP &quot;,ID);\n        return ID;\n    });\n}\n</code></pre>\n<p><strong>AND</strong> you should note that the <code>lastCustIdGrab</code> function is asynchronous and returns a Promise, which means that you need to do:</p>\n<pre><code>lastCustIdGrab()\n.then(data =&gt; {\n   console.log(`Last number ${data}`);\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14126431,"reputation":203,"user_id":10205580,"display_name":"Porter"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1625605134,"creation_date":1625605134,"answer_id":68277293,"question_id":68276782,"body_markdown":"`.get()` is asynchronous, and in your method you&#39;re not returning the promise. So even though the `then()` is executing, the value returned from the promise&#39;s resolve isn&#39;t being returned to `lastCustIdGrab()` invocation because the promise is never returned. So (switching it up to use async/await) try this:\r\n```js\r\nexports.lastCustIdGrab = async () =&gt; {\r\n  let data = await db.collection(&#39;Customers&#39;)\r\n  .orderBy(&#39;createdAt&#39;, &#39;desc&#39;)\r\n  .limit(1)\r\n  .get();\r\n\r\n  let DOC = data.docs[0];\r\n  let ID = DOC.id;\r\n  return ID;\r\n  }\r\n}\r\n```\r\nAnd in your invocation wait for the promise to resolve to ensure error handling and method completion:\r\n```js\r\nconst data = await lastCustIdGrab();\r\n```","title":"Passing ID from one function to another with return","body":"<p><code>.get()</code> is asynchronous, and in your method you're not returning the promise. So even though the <code>then()</code> is executing, the value returned from the promise's resolve isn't being returned to <code>lastCustIdGrab()</code> invocation because the promise is never returned. So (switching it up to use async/await) try this:</p>\n<pre class=\"lang-js prettyprint-override\"><code>exports.lastCustIdGrab = async () =&gt; {\n  let data = await db.collection('Customers')\n  .orderBy('createdAt', 'desc')\n  .limit(1)\n  .get();\n\n  let DOC = data.docs[0];\n  let ID = DOC.id;\n  return ID;\n  }\n}\n</code></pre>\n<p>And in your invocation wait for the promise to resolve to ensure error handling and method completion:</p>\n<pre class=\"lang-js prettyprint-override\"><code>const data = await lastCustIdGrab();\n</code></pre>\n"}],"owner":{"account_id":8925344,"reputation":83,"user_id":6660118,"display_name":"JGC"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":68277276,"answer_count":2,"score":0,"last_activity_date":1683789621,"creation_date":1625601827,"question_id":68276782,"body_markdown":"I would like to validate and set a ID for a collection in firebase. Right now i am just trying to get an id number back from a collections query and send it to the function that needs it. Here is the function that needs the id#.\r\n\r\n    const data = lastCustIdGrab(); console.log(`Last number ${data}`);\r\n\r\nThis is the return sender. I can get the document Id in the console log but can&#39;t figure how to send it back.\r\n\r\n    exports.lastCustIdGrab = () =&gt; {\r\n      db.collection(&#39;Customers&#39;)\r\n      .orderBy(&#39;createdAt&#39;, &#39;desc&#39;)\r\n      .limit(1);\r\n      .get()\r\n        .then((data) =&gt; {\r\n            let DOC = data.docs[0];\r\n            let ID = DOC.id;\r\n            console.log(&quot;LOOOP &quot;,ID);\r\n       return ID;\r\n    })}\r\n\r\nThis gets me the id in the LOOOP output but won&#39;t return it! I know i can return data as i have tested with the arbitrary code below and it works. The return sends it back to be console logged in the &quot;last number&quot; output properly.\r\n\r\n    exports.lastCustIdGrab = () =&gt; {\r\n\tlet ID = 12345;\r\n\treturn ID;   \r\n}\r\n\r\nSo I&#39;m sure that i am just missing something simple. Thanks for the Help!\r\n ","title":"Passing ID from one function to another with return","body":"<p>I would like to validate and set a ID for a collection in firebase. Right now i am just trying to get an id number back from a collections query and send it to the function that needs it. Here is the function that needs the id#.</p>\n<pre><code>const data = lastCustIdGrab(); console.log(`Last number ${data}`);\n</code></pre>\n<p>This is the return sender. I can get the document Id in the console log but can't figure how to send it back.</p>\n<pre><code>exports.lastCustIdGrab = () =&gt; {\n  db.collection('Customers')\n  .orderBy('createdAt', 'desc')\n  .limit(1);\n  .get()\n    .then((data) =&gt; {\n        let DOC = data.docs[0];\n        let ID = DOC.id;\n        console.log(&quot;LOOOP &quot;,ID);\n   return ID;\n})}\n</code></pre>\n<p>This gets me the id in the LOOOP output but won't return it! I know i can return data as i have tested with the arbitrary code below and it works. The return sends it back to be console logged in the &quot;last number&quot; output properly.</p>\n<pre><code>exports.lastCustIdGrab = () =&gt; {\nlet ID = 12345;\nreturn ID;   \n</code></pre>\n<p>}</p>\n<p>So I'm sure that i am just missing something simple. Thanks for the Help!</p>\n"},{"tags":["java","concurrency","parallel-processing","java-8","java-stream"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":3,"creation_date":1498646133,"post_id":44800027,"comment_id":76580053,"body_markdown":"Your linked question already contains the answer (by the esteemed Brian Goetz) to your question in the comments.","body":"Your linked question already contains the answer (by the esteemed Brian Goetz) to your question in the comments."},{"owner":{"account_id":8864948,"reputation":173,"user_id":6620376,"display_name":"Disruptive"},"score":0,"creation_date":1498649336,"post_id":44800027,"comment_id":76582099,"body_markdown":"In the question linked no answer has been given, just a workaround with other facilities for other purpouses. I can&#39;t comment his answer because i&#39;m a new user, I was able just to open a new question","body":"In the question linked no answer has been given, just a workaround with other facilities for other purpouses. I can&#39;t comment his answer because i&#39;m a new user, I was able just to open a new question"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":1,"creation_date":1498650022,"post_id":44800027,"comment_id":76582535,"body_markdown":"Well, as explained, you can&#39;t force it. Instead use an executor. Your workaround of adding redundant elements is a pretty horrible hack.","body":"Well, as explained, you can&#39;t force it. Instead use an executor. Your workaround of adding redundant elements is a pretty horrible hack."},{"owner":{"account_id":8864948,"reputation":173,"user_id":6620376,"display_name":"Disruptive"},"score":0,"creation_date":1498650203,"post_id":44800027,"comment_id":76582670,"body_markdown":"Thank you, but my point was using just the stream api","body":"Thank you, but my point was using just the stream api"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":3,"creation_date":1498650304,"post_id":44800027,"comment_id":76582748,"body_markdown":"I understand that, but sometimes you need to use the right tool for the right job, instead of insisting on using the wrong tool and hacking around just because you think you have to use the wrong tool. If all you have is a hammer, then everything looks like a nail, and it sounds like your hammer is the stream api.","body":"I understand that, but sometimes you need to use the right tool for the right job, instead of insisting on using the wrong tool and hacking around just because you think you have to use the wrong tool. If all you have is a hammer, then everything looks like a nail, and it sounds like your hammer is the stream api."},{"owner":{"account_id":8864948,"reputation":173,"user_id":6620376,"display_name":"Disruptive"},"score":0,"creation_date":1498650549,"post_id":44800027,"comment_id":76582929,"body_markdown":"To me it looks much more like an api limitation/misbehaviour instead of an api hammer. Api should provide functionalities, stopping a legit behaviour through an automatism that *should* help is something useful but that should be possibile to tune.","body":"To me it looks much more like an api limitation/misbehaviour instead of an api hammer. Api should provide functionalities, stopping a legit behaviour through an automatism that <i>should</i> help is something useful but that should be possibile to tune."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":2,"creation_date":1498650744,"post_id":44800027,"comment_id":76583091,"body_markdown":"I&#39;m not talking about the possible limitations of the Stream API. I&#39;m talking about you choosing a suboptimal solution for the sole reason that you want to use Stream API. That&#39;s not a very good quality in a software developer.","body":"I&#39;m not talking about the possible limitations of the Stream API. I&#39;m talking about you choosing a suboptimal solution for the sole reason that you want to use Stream API. That&#39;s not a very good quality in a software developer."},{"owner":{"account_id":8864948,"reputation":173,"user_id":6620376,"display_name":"Disruptive"},"score":0,"creation_date":1498650928,"post_id":44800027,"comment_id":76583234,"body_markdown":"I&#39;m just trying to understand perfectly what are the stream api limits, and discovering if was actually possible triggering parallelism without caring of the stream size was one step. Deciding what is optimal or non optimal is a job that I leave to the people who know the code they are working on","body":"I&#39;m just trying to understand perfectly what are the stream api limits, and discovering if was actually possible triggering parallelism without caring of the stream size was one step. Deciding what is optimal or non optimal is a job that I leave to the people who know the code they are working on"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":1,"creation_date":1498651268,"post_id":44800027,"comment_id":76583489,"body_markdown":"Well, [so far](http://download.java.net/java/jdk9/docs/api/java/util/stream/package-summary.html) it seems that you won&#39;t [get what you want](http://www.baeldung.com/java-9-stream-api) in JDK9 either.","body":"Well, <a href=\"http://download.java.net/java/jdk9/docs/api/java/util/stream/package-summary.html\" rel=\"nofollow noreferrer\">so far</a> it seems that you won&#39;t <a href=\"http://www.baeldung.com/java-9-stream-api\" rel=\"nofollow noreferrer\">get what you want</a> in JDK9 either."}],"answers":[{"comments":[{"owner":{"account_id":3412797,"reputation":305,"user_id":2862385,"display_name":"maverickabhi"},"score":0,"creation_date":1551427845,"post_id":44802784,"comment_id":96643881,"body_markdown":"@Holger:  Is there any way to get the processed output by threads in sequence. Suppose I have a sorted array and I want to write the data in a file using parallel processing. Can I achieve this?","body":"@Holger:  Is there any way to get the processed output by threads in sequence. Suppose I have a sorted array and I want to write the data in a file using parallel processing. Can I achieve this?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1551428266,"post_id":44802784,"comment_id":96644076,"body_markdown":"@maverickabhi you can not process “in sequence” and “using parallel processing” at the same time. These are contradicting terms. When all you want, is to write an array to a file, there’s no benefit in parallel processing at all. If you have a stream with computational expensive intermediate operations, you can try to use a parallel stream and chain `forEachOrdered` as terminal action to write to the target file in parallel. But depending on the actual operations, the costs of writing the end result in order may still outweigh any benefit of parallel processing.","body":"@maverickabhi you can not process “in sequence” and “using parallel processing” at the same time. These are contradicting terms. When all you want, is to write an array to a file, there’s no benefit in parallel processing at all. If you have a stream with computational expensive intermediate operations, you can try to use a parallel stream and chain <code>forEachOrdered</code> as terminal action to write to the target file in parallel. But depending on the actual operations, the costs of writing the end result in order may still outweigh any benefit of parallel processing."},{"owner":{"account_id":1484390,"reputation":1866,"user_id":1392943,"accept_rate":67,"display_name":"Kamel"},"score":0,"creation_date":1574932495,"post_id":44802784,"comment_id":104406352,"body_markdown":"`The implementors of the HashMap’s Spliterator considered searching the array for elements to get a perfectly balanced split to be too expensive, not that splitting two elements was not worth it` Is it possible to give some reference to it? Could not find such information in the `trySplit` method in `ValueSpliterator`","body":"<code>The implementors of the HashMap’s Spliterator considered searching the array for elements to get a perfectly balanced split to be too expensive, not that splitting two elements was not worth it</code> Is it possible to give some reference to it? Could not find such information in the <code>trySplit</code> method in <code>ValueSpliterator</code>"},{"owner":{"account_id":1484390,"reputation":1866,"user_id":1392943,"accept_rate":67,"display_name":"Kamel"},"score":0,"creation_date":1574933624,"post_id":44802784,"comment_id":104406928,"body_markdown":"ValueSpliterator tries to split the array into size of 1, isn&#39;t it? https://www.codota.com/code/java/methods/java8.util.HMSpliterators$ValueSpliterator/%3Cinit%3E","body":"ValueSpliterator tries to split the array into size of 1, isn&#39;t it? <a href=\"https://www.codota.com/code/java/methods/java8.util.HMSpliterators$ValueSpliterator/%3Cinit%3E\" rel=\"nofollow noreferrer\">codota.com/code/java/methods/&hellip;</a>"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1574933743,"post_id":44802784,"comment_id":104407002,"body_markdown":"@Kamel what kind of information do you hope to find in the code?","body":"@Kamel what kind of information do you hope to find in the code?"},{"owner":{"account_id":1484390,"reputation":1866,"user_id":1392943,"accept_rate":67,"display_name":"Kamel"},"score":0,"creation_date":1574934792,"post_id":44802784,"comment_id":104407612,"body_markdown":"@Holger I have write a follow up question. Basically, I could not understand why ValueSpliterator could not split the values into pieces.\nhttps://stackoverflow.com/questions/59085959/why-values-parallelstream-does-not-run-in-parallel","body":"@Holger I have write a follow up question. Basically, I could not understand why ValueSpliterator could not split the values into pieces. <a href=\"https://stackoverflow.com/questions/59085959/why-values-parallelstream-does-not-run-in-parallel\" title=\"why values parallelstream does not run in parallel\">stackoverflow.com/questions/59085959/&hellip;</a>"},{"owner":{"account_id":12642689,"reputation":421,"user_id":9398584,"display_name":"Just Me"},"score":0,"creation_date":1609164369,"post_id":44802784,"comment_id":115763814,"body_markdown":"Regarding &quot;If you request parallel, you get parallel&quot;: The docs for `parallelStream()` say: &quot;Returns a possibly parallel stream ... It is allowable for this method to return a sequential stream.&quot;","body":"Regarding &quot;If you request parallel, you get parallel&quot;: The docs for <code>parallelStream()</code> say: &quot;Returns a possibly parallel stream ... It is allowable for this method to return a sequential stream.&quot;"},{"owner":{"account_id":12642689,"reputation":421,"user_id":9398584,"display_name":"Just Me"},"score":0,"creation_date":1609164580,"post_id":44802784,"comment_id":115763889,"body_markdown":"... though it does seem `stream().parallel()` must return a parallel stream.","body":"... though it does seem <code>stream().parallel()</code> must return a parallel stream."},{"owner":{"account_id":12642689,"reputation":421,"user_id":9398584,"display_name":"Just Me"},"score":0,"creation_date":1609165368,"post_id":44802784,"comment_id":115764205,"body_markdown":"For me there&#39;s a very noticable difference: `parallelStream()` runs *serially* (when presented with an array of 4 lengthy tasks, on my quad-core laptop), and only `stream().parallel()` really runs in parallel.","body":"For me there&#39;s a very noticable difference: <code>parallelStream()</code> runs <i>serially</i> (when presented with an array of 4 lengthy tasks, on my quad-core laptop), and only <code>stream().parallel()</code> really runs in parallel."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1609749223,"post_id":44802784,"comment_id":115909700,"body_markdown":"@Just I don’t know any real life example where `parallelStream()` behaves different than `stream().parallel()`. Arrays have neither, `stream()` nor `parallelStream()`.","body":"@Just I don’t know any real life example where <code>parallelStream()</code> behaves different than <code>stream().parallel()</code>. Arrays have neither, <code>stream()</code> nor <code>parallelStream()</code>."},{"owner":{"account_id":12642689,"reputation":421,"user_id":9398584,"display_name":"Just Me"},"score":0,"creation_date":1609752192,"post_id":44802784,"comment_id":115910758,"body_markdown":"Tried to include a snippet from the &quot;real life&quot; code I referred to above, it came out horrible.","body":"Tried to include a snippet from the &quot;real life&quot; code I referred to above, it came out horrible."},{"owner":{"account_id":12642689,"reputation":421,"user_id":9398584,"display_name":"Just Me"},"score":0,"creation_date":1609752516,"post_id":44802784,"comment_id":115910888,"body_markdown":"But basically, `arrayList.stream().parallel().map(...)` is run in parallel, and `arrayList.parallStream().map(...)` does not, in real life.","body":"But basically, <code>arrayList.stream().parallel().map(...)</code> is run in parallel, and <code>arrayList.parallStream().map(...)</code> does not, in real life."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1609752519,"post_id":44802784,"comment_id":115910889,"body_markdown":"@Just post a [mcve], not a snippet containing lots of non-standard methods and classes. There are online testers where you can run your code to demonstrate the behavior. Perhaps, you want to open a new question instead of flooding this one with comments.","body":"@Just post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, not a snippet containing lots of non-standard methods and classes. There are online testers where you can run your code to demonstrate the behavior. Perhaps, you want to open a new question instead of flooding this one with comments."},{"owner":{"account_id":12642689,"reputation":421,"user_id":9398584,"display_name":"Just Me"},"score":0,"creation_date":1609752768,"post_id":44802784,"comment_id":115911000,"body_markdown":"Your answer is somewhat misleading, in that you conflate `parallelStream()` with `stream().parallel()`. My comments are meant to (a) clarify that the doc&#39;s make a distinction and (b) that real-life experiments make a distinction. I think they are useful just where they are.","body":"Your answer is somewhat misleading, in that you conflate <code>parallelStream()</code> with <code>stream().parallel()</code>. My comments are meant to (a) clarify that the doc&#39;s make a distinction and (b) that real-life experiments make a distinction. I think they are useful just where they are."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1609752893,"post_id":44802784,"comment_id":115911050,"body_markdown":"@Just There is no difference between `parallelStream()` and `stream().parallel()`, except for a single user on the internet who claims otherwise without any proof. Either you prove your claim or you stop discussing.","body":"@Just There is no difference between <code>parallelStream()</code> and <code>stream().parallel()</code>, except for a single user on the internet who claims otherwise without any proof. Either you prove your claim or you stop discussing."},{"owner":{"account_id":12642689,"reputation":421,"user_id":9398584,"display_name":"Just Me"},"score":0,"creation_date":1609753636,"post_id":44802784,"comment_id":115911331,"body_markdown":"Here&#39;s a [precise reference to the docs](https://docs.oracle.com/javase/8/docs/api/?java/util/stream/Stream.html) which for parallelStream() clearly states: &quot;return a possibly parallel stream&quot;. A comment at the source (coretto 15 jdk) adds: &quot;It is allowable for this method to return a sequential stream.&quot; This is in direct contradiction to your claim that &quot;If you request parallel, you get parallel&quot;(which is true, but only if you use `parallel()`). I&#39;ll get back to work now and stop spreading useful information, as you suggest.","body":"Here&#39;s a <a href=\"https://docs.oracle.com/javase/8/docs/api/?java/util/stream/Stream.html\" rel=\"nofollow noreferrer\">precise reference to the docs</a> which for parallelStream() clearly states: &quot;return a possibly parallel stream&quot;. A comment at the source (coretto 15 jdk) adds: &quot;It is allowable for this method to return a sequential stream.&quot; This is in direct contradiction to your claim that &quot;If you request parallel, you get parallel&quot;(which is true, but only if you use <code>parallel()</code>). I&#39;ll get back to work now and stop spreading useful information, as you suggest."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1609754097,"post_id":44802784,"comment_id":115911528,"body_markdown":"@Just this answer said “*when you request parallel*”; it never claimed that `parallelStream()` was sufficient to request parallel. But in real life, the result of `parallelStream()` always is a parallel stream, as you can query via [`isParallel()`](https://docs.oracle.com/javase/8/docs/api/java/util/stream/BaseStream.html#isParallel--). And then, the stream will operate in parallel mode, even when there is only one thread left and no benefit. That’s implied by “*even if it actually reduces the performance*”. If you find a contradicting real life example, feel free to show it.","body":"@Just this answer said “<i>when you request parallel</i>”; it never claimed that <code>parallelStream()</code> was sufficient to request parallel. But in real life, the result of <code>parallelStream()</code> always is a parallel stream, as you can query via <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/BaseStream.html#isParallel--\" rel=\"nofollow noreferrer\"><code>isParallel()</code></a>. And then, the stream will operate in parallel mode, even when there is only one thread left and no benefit. That’s implied by “<i>even if it actually reduces the performance</i>”. If you find a contradicting real life example, feel free to show it."}],"tags":[],"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"comment_count":17,"down_vote_count":1,"up_vote_count":17,"is_accepted":true,"score":16,"last_activity_date":1683789471,"creation_date":1498653724,"answer_id":44802784,"question_id":44800027,"body_markdown":"There seems to be a fundamental misunderstanding. The linked Q&amp;A discusses that the stream *apparently* doesn’t work in parallel, due to the OP not seeing the expected speedup. The conclusion is that there is *no benefit* in parallel processing if the workload is too small, *not* that there was an automatic fallback to sequential execution.\r\n\r\nIt’s actually the opposite. If you request parallel, you get parallel, even if it actually reduces the performance. The implementation does not switch to the potentially more efficient sequential execution in such cases.\r\n\r\nSo if you are confident that the per-element workload is high enough to justify the use of a parallel execution regardless of the small number of elements, you can simply request a parallel execution.\r\n\r\nAs can easily demonstrated:\r\n\r\n    Stream.of(1, 2).parallel()\r\n          .peek(x -&gt; System.out.println(&quot;processing &quot;+x+&quot; in &quot;+Thread.currentThread()))\r\n          .forEach(System.out::println);\r\n\r\n[On Ideone](http://ideone.com/WL4wka), it prints\r\n\r\n    processing 2 in Thread[main,5,main]\r\n    2\r\n    processing 1 in Thread[ForkJoinPool.commonPool-worker-1,5,main]\r\n    1\r\n\r\nbut the order of messages and details may vary. It may even be possible that in some environments, both task may happen to get executed by the same thread, if it can steal the second task before another thread is started to pick it up. But of course, if the tasks are expensive enough, this will not happen. The important point is that the overall workload has been split and enqueued to be potentially picked up by other worker threads.\r\n\r\nIf execution by a single thread happens in your environment for the simple example above, you may insert simulated workload like this:\r\n\r\n    Stream.of(1, 2).parallel()\r\n          .peek(x -&gt; System.out.println(&quot;processing &quot;+x+&quot; in &quot;+Thread.currentThread()))\r\n          .map(x -&gt; {\r\n               LockSupport.parkNanos(&quot;simulated workload&quot;, TimeUnit.SECONDS.toNanos(3));\r\n               return x;\r\n            })\r\n          .forEach(System.out::println);\r\n\r\nThen, you may also see that the overall execution time will be shorter than “*number of elements*”&#215;“*processing time per element*” if the “*processing time per element*” is high enough.\r\n\r\n---\r\n\r\nUpdate: the misunderstanding might be cause by Brian Goetz’ misleading statement: “In your case, your input set is simply too small to be decomposed”.\r\n\r\nIt must be emphasized that this is not a general property of the Stream API, but the `Map` that has been used. A `HashMap` has a backing array and the entries are distributed within that array depending on their hash code. It might be the case that splitting the array into *n* ranges doesn’t lead to a balanced split of the contained element, especially, if there are only two. The implementors of the `HashMap`’s `Spliterator` considered searching the array for elements to get a perfectly balanced split to be too expensive, not that splitting two elements was not worth it.\r\n\r\nSince the `HashMap`’s default capacity is `16` and the example had only two elements, we can say that the map was oversized. Simply fixing that would also fix the example:\r\n\r\n    long start = System.nanoTime();\r\n\r\n    Map&lt;String, Supplier&lt;String&gt;&gt; input = new HashMap&lt;&gt;(2);\r\n    input.put(&quot;1&quot;, () -&gt; {\r\n        System.out.println(Thread.currentThread());\r\n        LockSupport.parkNanos(&quot;simulated workload&quot;, TimeUnit.SECONDS.toNanos(2));\r\n        return &quot;a&quot;;\r\n    });\r\n    input.put(&quot;2&quot;, () -&gt; {\r\n        System.out.println(Thread.currentThread());\r\n        LockSupport.parkNanos(&quot;simulated workload&quot;, TimeUnit.SECONDS.toNanos(2));\r\n        return &quot;b&quot;;\r\n    });\r\n    Map&lt;String, String&gt; results = input.keySet()\r\n            .parallelStream().collect(Collectors.toConcurrentMap(\r\n        key -&gt; key,\r\n        key -&gt; input.get(key).get()));\r\n\r\n    System.out.println(&quot;Time: &quot; + TimeUnit.NANOSECONDS.toMillis(System.nanoTime()- start));\r\n\r\non my machine, it prints\r\n\r\n    Thread[main,5,main]\r\n    Thread[ForkJoinPool.commonPool-worker-1,5,main]\r\n    Time: 2058\r\n\r\nThe conclusion is that the Stream implementation always tries to use parallel execution, if you request it, regardless of the input size. But it depends on the input’s *structure* how well the workload can be distributed to the worker threads. Things could be even worse, e.g. if you stream lines from a file.\r\n\r\nIf you think that the benefit of a balanced splitting is worth the cost of a copying step, you could also use `new ArrayList&lt;&gt;(input.keySet()).parallelStream()` instead of `input.keySet().parallelStream()`, as the distribution of elements within `ArrayList` always allows a perfectly balanced split.\r\n","title":"Is there a way to force parallelStream() to go parallel?","body":"<p>There seems to be a fundamental misunderstanding. The linked Q&amp;A discusses that the stream <em>apparently</em> doesn’t work in parallel, due to the OP not seeing the expected speedup. The conclusion is that there is <em>no benefit</em> in parallel processing if the workload is too small, <em>not</em> that there was an automatic fallback to sequential execution.</p>\n<p>It’s actually the opposite. If you request parallel, you get parallel, even if it actually reduces the performance. The implementation does not switch to the potentially more efficient sequential execution in such cases.</p>\n<p>So if you are confident that the per-element workload is high enough to justify the use of a parallel execution regardless of the small number of elements, you can simply request a parallel execution.</p>\n<p>As can easily demonstrated:</p>\n<pre><code>Stream.of(1, 2).parallel()\n      .peek(x -&gt; System.out.println(&quot;processing &quot;+x+&quot; in &quot;+Thread.currentThread()))\n      .forEach(System.out::println);\n</code></pre>\n<p><a href=\"http://ideone.com/WL4wka\" rel=\"nofollow noreferrer\">On Ideone</a>, it prints</p>\n<pre><code>processing 2 in Thread[main,5,main]\n2\nprocessing 1 in Thread[ForkJoinPool.commonPool-worker-1,5,main]\n1\n</code></pre>\n<p>but the order of messages and details may vary. It may even be possible that in some environments, both task may happen to get executed by the same thread, if it can steal the second task before another thread is started to pick it up. But of course, if the tasks are expensive enough, this will not happen. The important point is that the overall workload has been split and enqueued to be potentially picked up by other worker threads.</p>\n<p>If execution by a single thread happens in your environment for the simple example above, you may insert simulated workload like this:</p>\n<pre><code>Stream.of(1, 2).parallel()\n      .peek(x -&gt; System.out.println(&quot;processing &quot;+x+&quot; in &quot;+Thread.currentThread()))\n      .map(x -&gt; {\n           LockSupport.parkNanos(&quot;simulated workload&quot;, TimeUnit.SECONDS.toNanos(3));\n           return x;\n        })\n      .forEach(System.out::println);\n</code></pre>\n<p>Then, you may also see that the overall execution time will be shorter than “<em>number of elements</em>”×“<em>processing time per element</em>” if the “<em>processing time per element</em>” is high enough.</p>\n<hr />\n<p>Update: the misunderstanding might be cause by Brian Goetz’ misleading statement: “In your case, your input set is simply too small to be decomposed”.</p>\n<p>It must be emphasized that this is not a general property of the Stream API, but the <code>Map</code> that has been used. A <code>HashMap</code> has a backing array and the entries are distributed within that array depending on their hash code. It might be the case that splitting the array into <em>n</em> ranges doesn’t lead to a balanced split of the contained element, especially, if there are only two. The implementors of the <code>HashMap</code>’s <code>Spliterator</code> considered searching the array for elements to get a perfectly balanced split to be too expensive, not that splitting two elements was not worth it.</p>\n<p>Since the <code>HashMap</code>’s default capacity is <code>16</code> and the example had only two elements, we can say that the map was oversized. Simply fixing that would also fix the example:</p>\n<pre><code>long start = System.nanoTime();\n\nMap&lt;String, Supplier&lt;String&gt;&gt; input = new HashMap&lt;&gt;(2);\ninput.put(&quot;1&quot;, () -&gt; {\n    System.out.println(Thread.currentThread());\n    LockSupport.parkNanos(&quot;simulated workload&quot;, TimeUnit.SECONDS.toNanos(2));\n    return &quot;a&quot;;\n});\ninput.put(&quot;2&quot;, () -&gt; {\n    System.out.println(Thread.currentThread());\n    LockSupport.parkNanos(&quot;simulated workload&quot;, TimeUnit.SECONDS.toNanos(2));\n    return &quot;b&quot;;\n});\nMap&lt;String, String&gt; results = input.keySet()\n        .parallelStream().collect(Collectors.toConcurrentMap(\n    key -&gt; key,\n    key -&gt; input.get(key).get()));\n\nSystem.out.println(&quot;Time: &quot; + TimeUnit.NANOSECONDS.toMillis(System.nanoTime()- start));\n</code></pre>\n<p>on my machine, it prints</p>\n<pre><code>Thread[main,5,main]\nThread[ForkJoinPool.commonPool-worker-1,5,main]\nTime: 2058\n</code></pre>\n<p>The conclusion is that the Stream implementation always tries to use parallel execution, if you request it, regardless of the input size. But it depends on the input’s <em>structure</em> how well the workload can be distributed to the worker threads. Things could be even worse, e.g. if you stream lines from a file.</p>\n<p>If you think that the benefit of a balanced splitting is worth the cost of a copying step, you could also use <code>new ArrayList&lt;&gt;(input.keySet()).parallelStream()</code> instead of <code>input.keySet().parallelStream()</code>, as the distribution of elements within <code>ArrayList</code> always allows a perfectly balanced split.</p>\n"}],"owner":{"account_id":8864948,"reputation":173,"user_id":6620376,"display_name":"Disruptive"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4416,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"closed_date":1683792011,"accepted_answer_id":44802784,"answer_count":1,"score":10,"last_activity_date":1683789471,"creation_date":1498645895,"question_id":44800027,"body_markdown":"If the input size is too small the library [automatically serializes the execution of the maps in the stream][1], but this automation doesn&#39;t and can&#39;t take in account how heavy is the map operation. Is there a way to force `parallelStream()` to actually parallelize CPU *heavy* maps?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/25517706/java-8-parallel-streams-dont-appear-to-actually-be-working-in-parallel","title":"Is there a way to force parallelStream() to go parallel?","body":"<p>If the input size is too small the library <a href=\"https://stackoverflow.com/questions/25517706/java-8-parallel-streams-dont-appear-to-actually-be-working-in-parallel\">automatically serializes the execution of the maps in the stream</a>, but this automation doesn't and can't take in account how heavy is the map operation. Is there a way to force <code>parallelStream()</code> to actually parallelize CPU <em>heavy</em> maps?</p>\n"},{"tags":["java","database","postgresql","bulkinsert","jooq"],"answers":[{"comments":[{"owner":{"account_id":2030745,"reputation":1718,"user_id":1814524,"accept_rate":83,"display_name":"hya"},"score":0,"creation_date":1501176058,"post_id":45279364,"comment_id":77675929,"body_markdown":"Solution 2 works. Jooq is creating bulk insert, however it doesnt speed up overall process. Thanks anyway ;)","body":"Solution 2 works. Jooq is creating bulk insert, however it doesnt speed up overall process. Thanks anyway ;)"},{"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1501189539,"post_id":45279364,"comment_id":77683313,"body_markdown":"@hya: Have you tried playing with the bulk, batch, and commit sizes?","body":"@hya: Have you tried playing with the bulk, batch, and commit sizes?"},{"owner":{"account_id":2030745,"reputation":1718,"user_id":1814524,"accept_rate":83,"display_name":"hya"},"score":0,"creation_date":1501852516,"post_id":45279364,"comment_id":77976366,"body_markdown":"Only with batch size. To change commit size, I&#39;d need to disable autocommit. Maybe I&#39;ll try later.","body":"Only with batch size. To change commit size, I&#39;d need to disable autocommit. Maybe I&#39;ll try later."},{"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1501855568,"post_id":45279364,"comment_id":77978760,"body_markdown":"@hya: Oh yes, you shouldn&#39;t commit each individual insert. Usually a commit size of 1000 rows can help on some databases.","body":"@hya: Oh yes, you shouldn&#39;t commit each individual insert. Usually a commit size of 1000 rows can help on some databases."},{"owner":{"account_id":7699131,"reputation":411,"user_id":5832409,"display_name":"Sourav Jha"},"score":0,"creation_date":1682342729,"post_id":45279364,"comment_id":134195293,"body_markdown":"@LukasEder if the records will always have all the value, will there be any performance issue","body":"@LukasEder if the records will always have all the value, will there be any performance issue"},{"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1682345029,"post_id":45279364,"comment_id":134195951,"body_markdown":"@SouravJha: The SQL query is being re-rendered for each record (because prior to rendering it, jOOQ doesn&#39;t *know* that it will be identical, even if all values are set on each record, e.g. due to custom data type `Binding`). But if this is an actual performance issue should be measured. It&#39;s just a SQL string generation, so it might be acceptable.","body":"@SouravJha: The SQL query is being re-rendered for each record (because prior to rendering it, jOOQ doesn&#39;t <i>know</i> that it will be identical, even if all values are set on each record, e.g. due to custom data type <code>Binding</code>). But if this is an actual performance issue should be measured. It&#39;s just a SQL string generation, so it might be acceptable."},{"owner":{"account_id":7699131,"reputation":411,"user_id":5832409,"display_name":"Sourav Jha"},"score":0,"creation_date":1682786305,"post_id":45279364,"comment_id":134271455,"body_markdown":"@LukasEuder: on db side this will be batch insert only correct?","body":"@LukasEuder: on db side this will be batch insert only correct?"},{"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1682921668,"post_id":45279364,"comment_id":134284571,"body_markdown":"@SouravJha: Whenever jOOQ uses the term *&quot;batch&quot;* in its API, it will attempt to translate that to JDBC batch where supported.","body":"@SouravJha: Whenever jOOQ uses the term <i>&quot;batch&quot;</i> in its API, it will attempt to translate that to JDBC batch where supported."},{"owner":{"account_id":7699131,"reputation":411,"user_id":5832409,"display_name":"Sourav Jha"},"score":0,"creation_date":1683726677,"post_id":45279364,"comment_id":134411029,"body_markdown":"@LukasEder:\n* is there some config to tune on size for batchXXX() APIs or we have to control by passing the appropriate size list?","body":"@LukasEder: * is there some config to tune on size for batchXXX() APIs or we have to control by passing the appropriate size list?"},{"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1683788807,"post_id":45279364,"comment_id":134420902,"body_markdown":"@SouravJha: jOOQ 3.19 will let you use `Settings.batchSize` for all batch API: https://github.com/jOOQ/jOOQ/issues/14840. Before jOOQ 3.19, you have to split your list into chunks yourself, manually.","body":"@SouravJha: jOOQ 3.19 will let you use <code>Settings.batchSize</code> for all batch API: <a href=\"https://github.com/jOOQ/jOOQ/issues/14840\" rel=\"nofollow noreferrer\">github.com/jOOQ/jOOQ/issues/14840</a>. Before jOOQ 3.19, you have to split your list into chunks yourself, manually."}],"tags":[],"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"comment_count":10,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1683788748,"creation_date":1500895460,"answer_id":45279364,"question_id":45274242,"body_markdown":"jOOQ&#39;s [`DSLContext.batchInsert()`][1] creates one JDBC batch statement per set of consecutive records with identical generated SQL strings (the Javadoc doesn&#39;t formally define this, unfortunately).\r\n\r\nThis can turn into a problem when your records look like this:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    +------+--------+--------+\r\n    | COL1 | COL2   | COL3   |\r\n    +------+--------+--------+\r\n    | 1*   | {null} | {null} |\r\n    | 2*   | B*     | {null} |\r\n    | 3*   | {null} | C*     |\r\n    | 4*   | D*     | D*     |\r\n    +------+--------+--------+\r\n\r\n.. because in that case, the generated SQL strings will look like this:\r\n\r\n&lt;!-- language: lang-sql --&gt;\r\n\r\n    INSERT INTO t (col1) VALUES (?);\r\n    INSERT INTO t (col1, col2) VALUES (?, ?);\r\n    INSERT INTO t (col1, col3) VALUES (?, ?);\r\n    INSERT INTO t (col1, col2, col3) VALUES (?, ?, ?);\r\n\r\nThe reason for this default behaviour is the fact that this is the only way to guarantee ... `DEFAULT` behaviour. As in SQL `DEFAULT`. [I gave a rationale of this behaviour here][2].\r\n\r\nWith this in mind, and as each consecutive SQL string is different, the inserts unfortunately aren&#39;t batched as a single batch as you intended.\r\n\r\n### Solution 1: Make sure all changed flags are `true`\r\n\r\nOne way to enforce all `INSERT` statements to be the same is to set all changed flags of each individula record to `true`:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    for (Record r : records)\r\n        r.changed(true);\r\n\r\nNow, all SQL strings will be the same.\r\n\r\n### Solution 2: Use the `Loader` API\r\n\r\nInstead of batching, you could import the data (and specify batch sizes there). For details, see the manual&#39;s section about importing records:\r\n\r\nhttps://www.jooq.org/doc/latest/manual/sql-execution/importing/importing-records\r\n\r\n### Solution 3: Use a batch statement instead\r\n\r\nYour usage of `batchInsert()` is convenience that works when using `TableRecords`. But of course, you can generate an `INSERT` statement manually and batch the individual bind variables by using jOOQ&#39;s batch statement API:\r\n\r\nhttps://www.jooq.org/doc/latest/manual/sql-execution/batch-execution\r\n\r\n### A note on performance\r\n\r\nThere are a couple of open issues regarding the `DSLContext.batchInsert()` and similar API. The client side algorithm that generates SQL strings for each individual record is inefficient and might be changed in the future, relying on `changed()` flags directly. Some relevant issues:\r\n\r\n- [#4533][3]: DSLContext.batchInsert(), batchUpdate(), batchDelete(), etc. generate too many individual SQL statements\r\n- [#6294][4]: DSLContext.batchInsert() should take into consideration all Record.changed() flags\r\n\r\n\r\n  [1]: https://www.jooq.org/javadoc/latest/org/jooq/DSLContext.html#batchInsert-java.util.Collection-\r\n  [2]: https://dba.stackexchange.com/a/176595/2512\r\n  [3]: https://github.com/jOOQ/jOOQ/issues/4533\r\n  [4]: https://github.com/jOOQ/jOOQ/issues/6294","title":"Jooq batch record insert","body":"<p>jOOQ's <a href=\"https://www.jooq.org/javadoc/latest/org/jooq/DSLContext.html#batchInsert-java.util.Collection-\" rel=\"nofollow noreferrer\"><code>DSLContext.batchInsert()</code></a> creates one JDBC batch statement per set of consecutive records with identical generated SQL strings (the Javadoc doesn't formally define this, unfortunately).</p>\n<p>This can turn into a problem when your records look like this:</p>\n<pre class=\"lang-none prettyprint-override\"><code>+------+--------+--------+\n| COL1 | COL2   | COL3   |\n+------+--------+--------+\n| 1*   | {null} | {null} |\n| 2*   | B*     | {null} |\n| 3*   | {null} | C*     |\n| 4*   | D*     | D*     |\n+------+--------+--------+\n</code></pre>\n<p>.. because in that case, the generated SQL strings will look like this:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>INSERT INTO t (col1) VALUES (?);\nINSERT INTO t (col1, col2) VALUES (?, ?);\nINSERT INTO t (col1, col3) VALUES (?, ?);\nINSERT INTO t (col1, col2, col3) VALUES (?, ?, ?);\n</code></pre>\n<p>The reason for this default behaviour is the fact that this is the only way to guarantee ... <code>DEFAULT</code> behaviour. As in SQL <code>DEFAULT</code>. <a href=\"https://dba.stackexchange.com/a/176595/2512\">I gave a rationale of this behaviour here</a>.</p>\n<p>With this in mind, and as each consecutive SQL string is different, the inserts unfortunately aren't batched as a single batch as you intended.</p>\n<h3>Solution 1: Make sure all changed flags are <code>true</code></h3>\n<p>One way to enforce all <code>INSERT</code> statements to be the same is to set all changed flags of each individula record to <code>true</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (Record r : records)\n    r.changed(true);\n</code></pre>\n<p>Now, all SQL strings will be the same.</p>\n<h3>Solution 2: Use the <code>Loader</code> API</h3>\n<p>Instead of batching, you could import the data (and specify batch sizes there). For details, see the manual's section about importing records:</p>\n<p><a href=\"https://www.jooq.org/doc/latest/manual/sql-execution/importing/importing-records\" rel=\"nofollow noreferrer\">https://www.jooq.org/doc/latest/manual/sql-execution/importing/importing-records</a></p>\n<h3>Solution 3: Use a batch statement instead</h3>\n<p>Your usage of <code>batchInsert()</code> is convenience that works when using <code>TableRecords</code>. But of course, you can generate an <code>INSERT</code> statement manually and batch the individual bind variables by using jOOQ's batch statement API:</p>\n<p><a href=\"https://www.jooq.org/doc/latest/manual/sql-execution/batch-execution\" rel=\"nofollow noreferrer\">https://www.jooq.org/doc/latest/manual/sql-execution/batch-execution</a></p>\n<h3>A note on performance</h3>\n<p>There are a couple of open issues regarding the <code>DSLContext.batchInsert()</code> and similar API. The client side algorithm that generates SQL strings for each individual record is inefficient and might be changed in the future, relying on <code>changed()</code> flags directly. Some relevant issues:</p>\n<ul>\n<li><a href=\"https://github.com/jOOQ/jOOQ/issues/4533\" rel=\"nofollow noreferrer\">#4533</a>: DSLContext.batchInsert(), batchUpdate(), batchDelete(), etc. generate too many individual SQL statements</li>\n<li><a href=\"https://github.com/jOOQ/jOOQ/issues/6294\" rel=\"nofollow noreferrer\">#6294</a>: DSLContext.batchInsert() should take into consideration all Record.changed() flags</li>\n</ul>\n"}],"owner":{"account_id":2030745,"reputation":1718,"user_id":1814524,"accept_rate":83,"display_name":"hya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18192,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":45279364,"answer_count":1,"score":7,"last_activity_date":1683788748,"creation_date":1500878961,"question_id":45274242,"body_markdown":"I&#39;m currently trying to insert in batch many records (~2000) and Jooq&#39;s batchInsert is not doing what I want. \r\n\r\nI&#39;m transforming POJOs into UpdatableRecords and then I&#39;m performing batchInsert which is executing insert for each record. So Jooq is doing ~2000 queries for each batch insert and it&#39;s killing database performance.\r\n\r\nIt&#39;s executing this code (jooq&#39;s batch insert):\r\n\r\n    for (int i = 0; i &lt; records.length; i++) {\r\n                Configuration previous = ((AttachableInternal) records[i]).configuration();\r\n    \r\n                try {\r\n                    records[i].attach(local);\r\n                    executeAction(i);\r\n                }\r\n                catch (QueryCollectorSignal e) {\r\n                    Query query = e.getQuery();\r\n                    String sql = e.getSQL();\r\n    \r\n                    // Aggregate executable queries by identical SQL\r\n                    if (query.isExecutable()) {\r\n                        List&lt;Query&gt; list = queries.get(sql);\r\n    \r\n                        if (list == null) {\r\n                            list = new ArrayList&lt;Query&gt;();\r\n                            queries.put(sql, list);\r\n                        }\r\n    \r\n                        list.add(query);\r\n                    }\r\n                }\r\n                finally {\r\n                    records[i].attach(previous);\r\n                }\r\n            }\r\n\r\nI could just do it like this (because Jooq is doing same thing internally):\r\n\r\n    records.forEach(UpdatableRecord::insert);\r\n\r\ninstead of:\r\n\r\n    jooq.batchInsert(records).execute();\r\n\r\nHow can I tell Jooq to create new records in batch mode? Should I transform records into bind queries and then call batchInsert? Any ideas? ;)","title":"Jooq batch record insert","body":"<p>I'm currently trying to insert in batch many records (~2000) and Jooq's batchInsert is not doing what I want. </p>\n\n<p>I'm transforming POJOs into UpdatableRecords and then I'm performing batchInsert which is executing insert for each record. So Jooq is doing ~2000 queries for each batch insert and it's killing database performance.</p>\n\n<p>It's executing this code (jooq's batch insert):</p>\n\n<pre><code>for (int i = 0; i &lt; records.length; i++) {\n            Configuration previous = ((AttachableInternal) records[i]).configuration();\n\n            try {\n                records[i].attach(local);\n                executeAction(i);\n            }\n            catch (QueryCollectorSignal e) {\n                Query query = e.getQuery();\n                String sql = e.getSQL();\n\n                // Aggregate executable queries by identical SQL\n                if (query.isExecutable()) {\n                    List&lt;Query&gt; list = queries.get(sql);\n\n                    if (list == null) {\n                        list = new ArrayList&lt;Query&gt;();\n                        queries.put(sql, list);\n                    }\n\n                    list.add(query);\n                }\n            }\n            finally {\n                records[i].attach(previous);\n            }\n        }\n</code></pre>\n\n<p>I could just do it like this (because Jooq is doing same thing internally):</p>\n\n<pre><code>records.forEach(UpdatableRecord::insert);\n</code></pre>\n\n<p>instead of:</p>\n\n<pre><code>jooq.batchInsert(records).execute();\n</code></pre>\n\n<p>How can I tell Jooq to create new records in batch mode? Should I transform records into bind queries and then call batchInsert? Any ideas? ;)</p>\n"},{"tags":["java","classloader","classloading"],"comments":[{"owner":{"account_id":61566,"reputation":68934,"user_id":183406,"accept_rate":74,"display_name":"meriton"},"score":0,"creation_date":1683639851,"post_id":76196521,"comment_id":134395165,"body_markdown":"Is that the entire exception? Usually, a `NoClassDefFoundError` is &quot;Caused by:&quot; some `ClassNotFoundException`, whose stacktrace would yield valuable clues ...","body":"Is that the entire exception? Usually, a <code>NoClassDefFoundError</code> is &quot;Caused by:&quot; some <code>ClassNotFoundException</code>, whose stacktrace would yield valuable clues ..."}],"answers":[{"comments":[{"owner":{"account_id":28540189,"reputation":43,"user_id":21846363,"display_name":"asdafadsfadsfdaf"},"score":0,"creation_date":1683786487,"post_id":76219307,"comment_id":134420485,"body_markdown":"Oh so it delegates to the parent first? Because no library classes use my application classes so what you said about root loaded classes shouldn&#39;t be an issue if it loads using the `appLoader` first.","body":"Oh so it delegates to the parent first? Because no library classes use my application classes so what you said about root loaded classes shouldn&#39;t be an issue if it loads using the <code>appLoader</code> first."},{"owner":{"account_id":28540189,"reputation":43,"user_id":21846363,"display_name":"asdafadsfadsfdaf"},"score":0,"creation_date":1683786679,"post_id":76219307,"comment_id":134420520,"body_markdown":"Also rootLoader is the built in JDK app class loader.","body":"Also rootLoader is the built in JDK app class loader."}],"tags":[],"owner":{"account_id":61566,"reputation":68934,"user_id":183406,"accept_rate":74,"display_name":"meriton"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1683727083,"creation_date":1683727083,"answer_id":76219307,"question_id":76196521,"body_markdown":"A `NoClassDefFoundError` indicates that a class, who was successfully loaded from some `ClassLoader`, is statically referring to another class, whose definition that `ClassLoader` can not find. \r\n\r\nThat is, if a class A refers to a class B, the runtime does\r\n\r\n```\r\nA.class.getClassLoader().loadClass(&quot;the.fully.qualified.name.of.B&quot;);\r\n```\r\n\r\nSuppose you have the following ClassLoader hierarchy:\r\n\r\n```\r\n+---------+\r\n| parent  |\r\n+---------+\r\n| B.class |\r\n+---------+\r\n     ^\r\n     |\r\n+---------+\r\n| child   |\r\n+---------+\r\n| A.class |\r\n| C.class |\r\n+---------+\r\n```\r\n\r\nwhere `A` refers to `B`, and `B` refers to `C`, and we do `child.loadClass(&quot;A&quot;)`. Then, the following happens:\r\n\r\n* `child` is asked to load `A`, finds its definition, defines the class, and then proceecds to resolve its references:\r\n  * `child` is asked to load `B`, and can not find its definition. Therefore,\r\n    * `parent` is asked to load `B`, finds its definition, defines the class, and then proceeds to resolve its references\r\n      * `parent` is asked to load `C`, can not find its definition, and throws a ClassNotFoundException\r\n      \r\n      since the reference to C could not be resolved, a NoClassDefFoundError for `C` is thrown\r\n\r\nThat is, loading `A` from `child` fails with a `NoClassDefFoundError` for `C`, even though `child` has a definition for `C`.\r\n\r\n&gt; I was expecting the references to library classes to be resolved correctly because the class loader of the Bootstrap class should delegate to the library class loader, which I confirmed to have successfully &#39;loaded&#39; the libraries.\r\n\r\nAs we&#39;ve just seen, that doesn&#39;t follow. Each class resolves its dependencies using its defining class loader, not the class loader that originally triggered the loading attempt.\r\n\r\nSo, how could this have happened? You have set up the following class loader hierarchy:\r\n\r\n```\r\n+-----------------+\r\n| rootLoader      |\r\n+-----------------+\r\n| Main.class      |\r\n| Bootstrap.class |\r\n| Y.class         |\r\n+-----------------+\r\n         ^\r\n         |\r\n+---------------------------+\r\n| libraryLoader             |\r\n+---------------------------+\r\n| CredentialsProvider.class |\r\n| X.class                   |\r\n+---------------------------+\r\n         ^\r\n         |\r\n+-----------------+\r\n| appLoader       |\r\n+-----------------+\r\n| Bootstrap.class |\r\n| Y.class         |\r\n+-----------------+\r\n```\r\n\r\nThat is, your Bootstrap classes are on the classpath twice, in two different `ClassLoaders`. You&#39;re probably hoping that the extra classes in `rootLoader` do no harm, because the `appLoader` prefers its own definition over that of its ancestors. However, the `libraryLoader` doesn&#39;t see the definitions in the `appLoader`, and will delegate to the `rootLoader`. \r\n\r\nSuppose that `Bootstrap` uses `X`, who uses `Y`, who uses `CredentialsProvider`. Then, the following happens:\r\n\r\n* Bootstrap is defined by appLoader\r\n* X is defined by libraryLoader\r\n* Y is defined by rootLoader (!)\r\n* CredentialsProvider is not found by rootLoader\r\n\r\nThat is, the extra class definitions obscure the origin of dependency problems. If a library class incorrectly depends on an application class, you don&#39;t get a NoClassDefFoundError for that application class, but a NoClassDefFoundError for one of its library dependencies. And if there are no library dependencies, the class will be loaded a second time, and you will have separate classes with the same name in the system, which can cause really hard to diagnose issues (for instance: why is that static field having different values depending on who uses it?).\r\n\r\nFor the sake of your sanity, and those who come after you, I therefore recommend that you do not put your application classes into two different class loaders in the hierarchy.\r\n\r\nPS: I can&#39;t tell you the identity of X and Y, but you should be able to find them as follows:\r\n\r\n1. determine the runtime type of `rootLoader`\r\n2. create a conditional breakpoint in its `loadClass()` implementation that triggers if the argument ends with `&quot;CredentialsProvider&quot;`\r\n3. once your program hits the breakpoint, inspect the stack trace. You should see the recursive calls to loadClass, and can check their local variables to identify the classes in the dependency chain and the class loaders involved.\r\n\r\n(note that conditional breakpoints in library code can be a bit brittle. For instance, when I just tested this in a toy example, I had to briefly halt execution with a normal breakpoint, to give the conditional breakpoint enough time to hook into the ClassLoader code)\r\n\r\nAlternatively, you could write your own class for `libraryLoader`, which throws, logs, or halt in a breakpoint whenever it is asked for classes that should come from `appLoader`.","title":"Error when trying to use dynamically loaded libraries","body":"<p>A <code>NoClassDefFoundError</code> indicates that a class, who was successfully loaded from some <code>ClassLoader</code>, is statically referring to another class, whose definition that <code>ClassLoader</code> can not find.</p>\n<p>That is, if a class A refers to a class B, the runtime does</p>\n<pre><code>A.class.getClassLoader().loadClass(&quot;the.fully.qualified.name.of.B&quot;);\n</code></pre>\n<p>Suppose you have the following ClassLoader hierarchy:</p>\n<pre><code>+---------+\n| parent  |\n+---------+\n| B.class |\n+---------+\n     ^\n     |\n+---------+\n| child   |\n+---------+\n| A.class |\n| C.class |\n+---------+\n</code></pre>\n<p>where <code>A</code> refers to <code>B</code>, and <code>B</code> refers to <code>C</code>, and we do <code>child.loadClass(&quot;A&quot;)</code>. Then, the following happens:</p>\n<ul>\n<li><code>child</code> is asked to load <code>A</code>, finds its definition, defines the class, and then proceecds to resolve its references:\n<ul>\n<li><code>child</code> is asked to load <code>B</code>, and can not find its definition. Therefore,\n<ul>\n<li><p><code>parent</code> is asked to load <code>B</code>, finds its definition, defines the class, and then proceeds to resolve its references</p>\n<ul>\n<li><code>parent</code> is asked to load <code>C</code>, can not find its definition, and throws a ClassNotFoundException</li>\n</ul>\n<p>since the reference to C could not be resolved, a NoClassDefFoundError for <code>C</code> is thrown</p>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p>That is, loading <code>A</code> from <code>child</code> fails with a <code>NoClassDefFoundError</code> for <code>C</code>, even though <code>child</code> has a definition for <code>C</code>.</p>\n<blockquote>\n<p>I was expecting the references to library classes to be resolved correctly because the class loader of the Bootstrap class should delegate to the library class loader, which I confirmed to have successfully 'loaded' the libraries.</p>\n</blockquote>\n<p>As we've just seen, that doesn't follow. Each class resolves its dependencies using its defining class loader, not the class loader that originally triggered the loading attempt.</p>\n<p>So, how could this have happened? You have set up the following class loader hierarchy:</p>\n<pre><code>+-----------------+\n| rootLoader      |\n+-----------------+\n| Main.class      |\n| Bootstrap.class |\n| Y.class         |\n+-----------------+\n         ^\n         |\n+---------------------------+\n| libraryLoader             |\n+---------------------------+\n| CredentialsProvider.class |\n| X.class                   |\n+---------------------------+\n         ^\n         |\n+-----------------+\n| appLoader       |\n+-----------------+\n| Bootstrap.class |\n| Y.class         |\n+-----------------+\n</code></pre>\n<p>That is, your Bootstrap classes are on the classpath twice, in two different <code>ClassLoaders</code>. You're probably hoping that the extra classes in <code>rootLoader</code> do no harm, because the <code>appLoader</code> prefers its own definition over that of its ancestors. However, the <code>libraryLoader</code> doesn't see the definitions in the <code>appLoader</code>, and will delegate to the <code>rootLoader</code>.</p>\n<p>Suppose that <code>Bootstrap</code> uses <code>X</code>, who uses <code>Y</code>, who uses <code>CredentialsProvider</code>. Then, the following happens:</p>\n<ul>\n<li>Bootstrap is defined by appLoader</li>\n<li>X is defined by libraryLoader</li>\n<li>Y is defined by rootLoader (!)</li>\n<li>CredentialsProvider is not found by rootLoader</li>\n</ul>\n<p>That is, the extra class definitions obscure the origin of dependency problems. If a library class incorrectly depends on an application class, you don't get a NoClassDefFoundError for that application class, but a NoClassDefFoundError for one of its library dependencies. And if there are no library dependencies, the class will be loaded a second time, and you will have separate classes with the same name in the system, which can cause really hard to diagnose issues (for instance: why is that static field having different values depending on who uses it?).</p>\n<p>For the sake of your sanity, and those who come after you, I therefore recommend that you do not put your application classes into two different class loaders in the hierarchy.</p>\n<p>PS: I can't tell you the identity of X and Y, but you should be able to find them as follows:</p>\n<ol>\n<li>determine the runtime type of <code>rootLoader</code></li>\n<li>create a conditional breakpoint in its <code>loadClass()</code> implementation that triggers if the argument ends with <code>&quot;CredentialsProvider&quot;</code></li>\n<li>once your program hits the breakpoint, inspect the stack trace. You should see the recursive calls to loadClass, and can check their local variables to identify the classes in the dependency chain and the class loaders involved.</li>\n</ol>\n<p>(note that conditional breakpoints in library code can be a bit brittle. For instance, when I just tested this in a toy example, I had to briefly halt execution with a normal breakpoint, to give the conditional breakpoint enough time to hook into the ClassLoader code)</p>\n<p>Alternatively, you could write your own class for <code>libraryLoader</code>, which throws, logs, or halt in a breakpoint whenever it is asked for classes that should come from <code>appLoader</code>.</p>\n"},{"tags":[],"owner":{"account_id":28540189,"reputation":43,"user_id":21846363,"display_name":"asdafadsfadsfdaf"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683788554,"creation_date":1683788554,"answer_id":76224906,"question_id":76196521,"body_markdown":"So I ended up figuring it out by `meriton`s answer. It wasn&#39;t a problem with the hyarchy, rather it was the fact that the URLClassLoader for some reason prefers ancestors for `findClass`. I ended up on [this question][1] which had an answer I ended up copying (the `ParentLastURLClassLoader`) and it worked.\r\n\r\nEssentially the problem was that, since the `URLClassLoader` for `appLoader` delegated to the root class loader first, the `Bootstrap` class was loaded by the root loader. This meant it was not under the library class loader in the class loading chain, not giving it access to those classes.\r\n\r\n  [1]: https://stackoverflow.com/questions/5445511/how-do-i-create-a-parent-last-child-first-classloader-in-java-or-how-to-overr?rq=1","title":"Error when trying to use dynamically loaded libraries","body":"<p>So I ended up figuring it out by <code>meriton</code>s answer. It wasn't a problem with the hyarchy, rather it was the fact that the URLClassLoader for some reason prefers ancestors for <code>findClass</code>. I ended up on <a href=\"https://stackoverflow.com/questions/5445511/how-do-i-create-a-parent-last-child-first-classloader-in-java-or-how-to-overr?rq=1\">this question</a> which had an answer I ended up copying (the <code>ParentLastURLClassLoader</code>) and it worked.</p>\n<p>Essentially the problem was that, since the <code>URLClassLoader</code> for <code>appLoader</code> delegated to the root class loader first, the <code>Bootstrap</code> class was loaded by the root loader. This meant it was not under the library class loader in the class loading chain, not giving it access to those classes.</p>\n"}],"owner":{"account_id":28540189,"reputation":43,"user_id":21846363,"display_name":"asdafadsfadsfdaf"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":183,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1683788554,"creation_date":1683498189,"question_id":76196521,"body_markdown":"I&#39;m trying to dynamically load libraries instead of shading them into my JAR to reduce file size. It&#39;s a standalone application with a `Bootstrap` class and a `Main` class. The main class is responsible for loading libraries and calling the bootstrap class&#39; `execute(...)` method.\r\n\r\nThe downloading of the artifacts and loading of the library classes using `Class.forName(class, true, libraryLoader)` works, but when I try to load the `Bootstrap` class it can&#39;t find the class definitions for the library classes.\r\n\r\nHere is how I&#39;m currently trying to achieve this:\r\n```java\r\n//////// Main.java /////////\r\n/* ... public static void main(String[] args) { */\r\n\r\n// download libraries\r\n// these URLs reference the local JAR files downloaded\r\n// i&#39;m not going to get into detail on how i&#39;m doing this right now, as this works\r\nURL[] libraryUrls = ...;\r\n\r\n// create parent loader for libraries\r\nfinal ClassLoader rootLoader = Main.class.getClassLoader(); // app class loader\r\nClassLoader libraryLoader = new DelegatingClassLoader(new URLClassLoader(\r\n        libraryUrls,\r\n        rootLoader\r\n), rootLoader);\r\n\r\n/* this passes, so the libraries are successfully loaded onto the loaders ucp */\r\nClass.forName(&quot;org.eclipse.jgit.transport.CredentialsProvider&quot;, true, libraryLoader);\r\n\r\n// find URL for JAR of bootstrap class\r\nProtectionDomain domain = Main.class.getProtectionDomain();\r\nCodeSource source = domain.getCodeSource();\r\nURL file = source.getLocation();\r\n\r\n// create child loader with our JAR file\r\nClassLoader appLoader = new DelegatingClassLoader(new URLClassLoader(\r\n        new URL[] { file }, libraryLoader), libraryLoader);\r\n\r\n// load bootstrap class and execute\r\nClass&lt;?&gt; bootstrap = Class.forName( // the error occurs here\r\n        &quot;my.package.Bootstrap&quot;,\r\n        /* initialize */ true,\r\n        appLoader\r\n);\r\n\r\nbootstrap.getMethod(&quot;execute&quot;, String[].class)\r\n        .invoke(null, (Object) args);\r\n\r\n/* } ... */\r\n```\r\n\r\nThe `DelegatingClassLoader` first tries to load a class through the delegate and if that fails delegates to the parent. [Here](https://pastes.dev/SHfmYFHRxQ) is the exact source.\r\n\r\nThe specific error I get:\r\n```\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/eclipse/jgit/transport/CredentialsProvider \r\n \tat java.base/java.lang.Class.forName0(Native Method) \r\n \tat java.base/java.lang.Class.forName(Class.java:467) \r\n \tat my.package.Main.main(Main.java:108)\r\n        // line 108 is the line where i call Class.forName(&quot;my.package.Bootstrap, ...) \r\n```\r\n\r\nI was expecting the references to library classes to be resolved correctly because the class loader of the `Bootstrap` class should delegate to the library class loader, which I confirmed to have successfully &#39;loaded&#39; the libraries.","title":"Error when trying to use dynamically loaded libraries","body":"<p>I'm trying to dynamically load libraries instead of shading them into my JAR to reduce file size. It's a standalone application with a <code>Bootstrap</code> class and a <code>Main</code> class. The main class is responsible for loading libraries and calling the bootstrap class' <code>execute(...)</code> method.</p>\n<p>The downloading of the artifacts and loading of the library classes using <code>Class.forName(class, true, libraryLoader)</code> works, but when I try to load the <code>Bootstrap</code> class it can't find the class definitions for the library classes.</p>\n<p>Here is how I'm currently trying to achieve this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>//////// Main.java /////////\n/* ... public static void main(String[] args) { */\n\n// download libraries\n// these URLs reference the local JAR files downloaded\n// i'm not going to get into detail on how i'm doing this right now, as this works\nURL[] libraryUrls = ...;\n\n// create parent loader for libraries\nfinal ClassLoader rootLoader = Main.class.getClassLoader(); // app class loader\nClassLoader libraryLoader = new DelegatingClassLoader(new URLClassLoader(\n        libraryUrls,\n        rootLoader\n), rootLoader);\n\n/* this passes, so the libraries are successfully loaded onto the loaders ucp */\nClass.forName(&quot;org.eclipse.jgit.transport.CredentialsProvider&quot;, true, libraryLoader);\n\n// find URL for JAR of bootstrap class\nProtectionDomain domain = Main.class.getProtectionDomain();\nCodeSource source = domain.getCodeSource();\nURL file = source.getLocation();\n\n// create child loader with our JAR file\nClassLoader appLoader = new DelegatingClassLoader(new URLClassLoader(\n        new URL[] { file }, libraryLoader), libraryLoader);\n\n// load bootstrap class and execute\nClass&lt;?&gt; bootstrap = Class.forName( // the error occurs here\n        &quot;my.package.Bootstrap&quot;,\n        /* initialize */ true,\n        appLoader\n);\n\nbootstrap.getMethod(&quot;execute&quot;, String[].class)\n        .invoke(null, (Object) args);\n\n/* } ... */\n</code></pre>\n<p>The <code>DelegatingClassLoader</code> first tries to load a class through the delegate and if that fails delegates to the parent. <a href=\"https://pastes.dev/SHfmYFHRxQ\" rel=\"nofollow noreferrer\">Here</a> is the exact source.</p>\n<p>The specific error I get:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/eclipse/jgit/transport/CredentialsProvider \n    at java.base/java.lang.Class.forName0(Native Method) \n    at java.base/java.lang.Class.forName(Class.java:467) \n    at my.package.Main.main(Main.java:108)\n        // line 108 is the line where i call Class.forName(&quot;my.package.Bootstrap, ...) \n</code></pre>\n<p>I was expecting the references to library classes to be resolved correctly because the class loader of the <code>Bootstrap</code> class should delegate to the library class loader, which I confirmed to have successfully 'loaded' the libraries.</p>\n"},{"tags":["java","autodesk-forge","autodesk-viewer","autodesk-model-derivative"],"answers":[{"comments":[{"owner":{"account_id":8807471,"reputation":323,"user_id":6581594,"accept_rate":60,"display_name":"Greg Bluntzer"},"score":1,"creation_date":1468594755,"post_id":38380497,"comment_id":64206900,"body_markdown":"yes it also seemed to help with the Access-Control-Allow-Origin issues I was having since all resources are on same server.","body":"yes it also seemed to help with the Access-Control-Allow-Origin issues I was having since all resources are on same server."},{"owner":{"account_id":8807471,"reputation":323,"user_id":6581594,"accept_rate":60,"display_name":"Greg Bluntzer"},"score":0,"creation_date":1468945968,"post_id":38380497,"comment_id":64331940,"body_markdown":"I am now running the Extractor on a local node.js server.   It is not able to create the bucket . Console log of &quot;Failed to create bucket!&quot;   I am wondering if maybe it is not getting a token that has bucket write access? something like data:read data:write bucket:create bucket:read\n\n\nHere is the console output\n    C:\\tools\\extract.autodesk.io-master&gt;node start.js\n    Refreshing Autodesk Service token\n    ...\n    Token: {&quot;...&quot;}\n\n    POST done Floor_Plan_Sample.dwg ...\n    master: 438148-Floor_Plan_Sampledwg\n    Failed to create bucket!","body":"I am now running the Extractor on a local node.js server.   It is not able to create the bucket . Console log of &quot;Failed to create bucket!&quot;   I am wondering if maybe it is not getting a token that has bucket write access? something like data:read data:write bucket:create bucket:read   Here is the console output     C:\\tools\\extract.autodesk.io-master&gt;node start.js     Refreshing Autodesk Service token     ...     Token: {&quot;...&quot;}      POST done Floor_Plan_Sample.dwg ...     master: 438148-Floor_Plan_Sampledwg     Failed to create bucket!"},{"owner":{"account_id":6212245,"reputation":8523,"user_id":4838205,"accept_rate":82,"display_name":"Augusto Goncalves"},"score":0,"creation_date":1468946403,"post_id":38380497,"comment_id":64332169,"body_markdown":"did you try create the bucket manually (via cURL or Postman) with the same permissions? Also, did you change the bucket name (to something unique)?","body":"did you try create the bucket manually (via cURL or Postman) with the same permissions? Also, did you change the bucket name (to something unique)?"},{"owner":{"account_id":8807471,"reputation":323,"user_id":6581594,"accept_rate":60,"display_name":"Greg Bluntzer"},"score":1,"creation_date":1468960489,"post_id":38380497,"comment_id":64340045,"body_markdown":"It looks like the credentials.js does not pass in the scope. Once I added the scope it seems to work \n    credentials: {\n\t\t    client_id: process.env.CONSUMERKEY || &#39;xxx&#39;,\n\t\t    client_secret: process.env.CONSUMERSECRET || &#39;xxx&#39;,\n\t\t    grant_type: &#39;client_credentials&#39;,\n\t\t    scope: &#39;data:read data:write bucket:create bucket:read&#39;\n\t   },","body":"It looks like the credentials.js does not pass in the scope. Once I added the scope it seems to work      credentials: { \t\t    client_id: process.env.CONSUMERKEY || &#39;xxx&#39;, \t\t    client_secret: process.env.CONSUMERSECRET || &#39;xxx&#39;, \t\t    grant_type: &#39;client_credentials&#39;, \t\t    scope: &#39;data:read data:write bucket:create bucket:read&#39; \t   },"}],"tags":[],"owner":{"account_id":6212245,"reputation":8523,"user_id":4838205,"accept_rate":82,"display_name":"Augusto Goncalves"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1468589295,"creation_date":1468517028,"answer_id":38380497,"question_id":38378629,"body_markdown":"Yes it is, use the [Extractor][1] to generate the files you need &quot;offline&quot; (on your server). See instructions.\r\n\r\n**EDIT**\r\n\r\nUpdated [ReadMe link][2] (seem comments).\r\n\r\n\r\n  [1]: http://extract.autodesk.io/\r\n  [2]: https://github.com/cyrillef/extract.autodesk.io/blob/master/README.md","title":"Autodesk Forge Viewer storing files on local server?","body":"<p>Yes it is, use the <a href=\"http://extract.autodesk.io/\" rel=\"nofollow\">Extractor</a> to generate the files you need \"offline\" (on your server). See instructions.</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>Updated <a href=\"https://github.com/cyrillef/extract.autodesk.io/blob/master/README.md\" rel=\"nofollow\">ReadMe link</a> (seem comments).</p>\n"}],"owner":{"account_id":8807471,"reputation":323,"user_id":6581594,"accept_rate":60,"display_name":"Greg Bluntzer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1846,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":38380497,"answer_count":1,"score":1,"last_activity_date":1683788219,"creation_date":1468510972,"question_id":38378629,"body_markdown":"Can anyone tell me if this is possible with Autodesk Forge Viewer and Model Derivative\r\n\r\n- User has dwg and rvt files \r\n- Those files are sent to the Autodesk buckets\r\n- Those files are then sent jobs to convert them to formats that the autodesk forge viewer can display (f2d,svf)\r\n- The converted files are downloaded\r\n\r\nIs it then possible to store those converted files on the local server and still have the autodesk forge viewer display them?\r\n\r\nAny links or docs on the matter would be appreciated. Also we are a java devs","title":"Autodesk Forge Viewer storing files on local server?","body":"<p>Can anyone tell me if this is possible with Autodesk Forge Viewer and Model Derivative</p>\n\n<ul>\n<li>User has dwg and rvt files </li>\n<li>Those files are sent to the Autodesk buckets</li>\n<li>Those files are then sent jobs to convert them to formats that the autodesk forge viewer can display (f2d,svf)</li>\n<li>The converted files are downloaded</li>\n</ul>\n\n<p>Is it then possible to store those converted files on the local server and still have the autodesk forge viewer display them?</p>\n\n<p>Any links or docs on the matter would be appreciated. Also we are a java devs</p>\n"},{"tags":["java","cassandra"],"answers":[{"comments":[{"owner":{"account_id":1382967,"reputation":1730,"user_id":1315599,"accept_rate":56,"display_name":"yu.pitomets"},"score":0,"creation_date":1642781342,"post_id":70795248,"comment_id":125171160,"body_markdown":"Is there a way to fix that permissions error from the outside? Or the only thing to do is to observe an error and wait for fix?","body":"Is there a way to fix that permissions error from the outside? Or the only thing to do is to observe an error and wait for fix?"},{"owner":{"account_id":5357170,"reputation":14233,"user_id":4269535,"display_name":"Erick Ramirez"},"score":0,"creation_date":1643374937,"post_id":70795248,"comment_id":125329113,"body_markdown":"@yu.pitomets it might not be a permission issue after all. Java 11 is only supported for Cassandra 4.x+ and won&#39;t work with earlier versions of Cassandra. Commit log version `-6-` indicates you&#39;re running Cassandra 3.x. Cheers!","body":"@yu.pitomets it might not be a permission issue after all. Java 11 is only supported for Cassandra 4.x+ and won&#39;t work with earlier versions of Cassandra. Commit log version <code>-6-</code> indicates you&#39;re running Cassandra 3.x. Cheers!"}],"tags":[],"owner":{"account_id":5357170,"reputation":14233,"user_id":4269535,"display_name":"Erick Ramirez"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1643374857,"creation_date":1642727405,"answer_id":70795248,"question_id":70794850,"body_markdown":"There isn&#39;t any magic that happens here since Cassandra is simply using the Java IO utilities so this is a low-level filesystem issue.\r\n\r\nOne of the things to check for is whether the existing commit logs in the directory are owned by a different user that the Cassandra process does not have access to. For example, `CommitLog-6-1642719269564.log` is owned by `root` but the C* process is running with `cassandra`. If so, you will need to change the file ownership. Cheers!\r\n\r\n**[UPDATE]** Java 11 is only supported from Cassandra 4.x. Earlier versions of Cassandra only work with Java 8.","title":"Getting AccessDeniedException when running embedded cassandra with Azul jdk 11","body":"<p>There isn't any magic that happens here since Cassandra is simply using the Java IO utilities so this is a low-level filesystem issue.</p>\n<p>One of the things to check for is whether the existing commit logs in the directory are owned by a different user that the Cassandra process does not have access to. For example, <code>CommitLog-6-1642719269564.log</code> is owned by <code>root</code> but the C* process is running with <code>cassandra</code>. If so, you will need to change the file ownership. Cheers!</p>\n<p><strong>[UPDATE]</strong> Java 11 is only supported from Cassandra 4.x. Earlier versions of Cassandra only work with Java 8.</p>\n"},{"tags":[],"owner":{"account_id":7976164,"reputation":1,"user_id":6045462,"display_name":"T. Huber"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683787405,"creation_date":1683787405,"answer_id":76224799,"question_id":70794850,"body_markdown":"Check the test dependency tree for version downgrades with `gradle dependencies`. My Apache Cassandra and Java Native Access libs were getting downgraded by Spring Boot 2.2. Fixing the JNA version took care of the AccessDeniedException error in Windows.\r\n\r\nAdditionally, CassandraUnit uses a JDK-internal Cleaner class that is restricted in Java 11. You can add a JVM arg in the test task(s) to make it available again.\r\n\r\nThe relevant build.gradle snippets are shown below.\r\n\r\n```groovy\r\ndependencies {\r\n    ...\r\n    testImplementation &#39;org.cassandraunit:cassandra-unit:4.3.1.0&#39;\r\n    testImplementation &#39;com.datastax.oss:java-driver-core:4.11.3&#39;\r\n    testImplementation &#39;org.apache.cassandra:cassandra-all:4.0.8&#39; // override 3.x from spring-data-cassandra\r\n    testImplementation &#39;net.java.dev.jna:jna:5.13.0&#39;              // override 4.5 from spring-boot-dependencies\r\n}\r\ntasks.withType(Test) {\r\n    // allow cassandraunit to use jdk11 internal Cleaner\r\n    jvmArgs &#39;--add-exports&#39;, &#39;java.base/jdk.internal.ref=ALL-UNNAMED&#39;\r\n}\r\n```\r\n","title":"Getting AccessDeniedException when running embedded cassandra with Azul jdk 11","body":"<p>Check the test dependency tree for version downgrades with <code>gradle dependencies</code>. My Apache Cassandra and Java Native Access libs were getting downgraded by Spring Boot 2.2. Fixing the JNA version took care of the AccessDeniedException error in Windows.</p>\n<p>Additionally, CassandraUnit uses a JDK-internal Cleaner class that is restricted in Java 11. You can add a JVM arg in the test task(s) to make it available again.</p>\n<p>The relevant build.gradle snippets are shown below.</p>\n<pre><code>dependencies {\n    ...\n    testImplementation 'org.cassandraunit:cassandra-unit:4.3.1.0'\n    testImplementation 'com.datastax.oss:java-driver-core:4.11.3'\n    testImplementation 'org.apache.cassandra:cassandra-all:4.0.8' // override 3.x from spring-data-cassandra\n    testImplementation 'net.java.dev.jna:jna:5.13.0'              // override 4.5 from spring-boot-dependencies\n}\ntasks.withType(Test) {\n    // allow cassandraunit to use jdk11 internal Cleaner\n    jvmArgs '--add-exports', 'java.base/jdk.internal.ref=ALL-UNNAMED'\n}\n</code></pre>\n"}],"owner":{"account_id":1382967,"reputation":1730,"user_id":1315599,"accept_rate":56,"display_name":"yu.pitomets"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":916,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70795248,"answer_count":2,"score":2,"last_activity_date":1683787405,"creation_date":1642723246,"question_id":70794850,"body_markdown":"I am trying to run embedded Cassandra using cassandra-unit library in **Azul JDK 11** with Gradle project and getting following AccessDenindException. I&#39;ve checked the permissions of the `build` folder it is not readonly and there are some files already. Don&#39;t have anything else in the project which might causing the issue.\r\n\r\n```\r\norg.apache.cassandra.io.FSWriteError: java.nio.file.AccessDeniedException: build\\embeddedCassandra\\commitlog\\CommitLog-6-1642719269564.log\r\n\tat org.apache.cassandra.io.util.FileUtils.deleteWithConfirm(FileUtils.java:143)\r\n\tat org.apache.cassandra.io.util.FileUtils.deleteWithConfirm(FileUtils.java:160)\r\n\tat org.apache.cassandra.db.commitlog.CommitLogSegment.discard(CommitLogSegment.java:409)\r\n```\r\n\r\n**Java class**\r\n```java\r\nEmbeddedCassandraServerHelper.startEmbeddedCassandra();\r\n```\r\n\r\n**build.gradle**\r\n\r\n```gradle\r\ntestCompile &#39;org.cassandraunit:cassandra-unit:4.3.1.0&#39;\r\ntestCompile &#39;com.datastax.oss:java-driver-core:4.13.0&#39;\r\n```","title":"Getting AccessDeniedException when running embedded cassandra with Azul jdk 11","body":"<p>I am trying to run embedded Cassandra using cassandra-unit library in <strong>Azul JDK 11</strong> with Gradle project and getting following AccessDenindException. I've checked the permissions of the <code>build</code> folder it is not readonly and there are some files already. Don't have anything else in the project which might causing the issue.</p>\n<pre><code>org.apache.cassandra.io.FSWriteError: java.nio.file.AccessDeniedException: build\\embeddedCassandra\\commitlog\\CommitLog-6-1642719269564.log\n    at org.apache.cassandra.io.util.FileUtils.deleteWithConfirm(FileUtils.java:143)\n    at org.apache.cassandra.io.util.FileUtils.deleteWithConfirm(FileUtils.java:160)\n    at org.apache.cassandra.db.commitlog.CommitLogSegment.discard(CommitLogSegment.java:409)\n</code></pre>\n<p><strong>Java class</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>EmbeddedCassandraServerHelper.startEmbeddedCassandra();\n</code></pre>\n<p><strong>build.gradle</strong></p>\n<pre><code>testCompile 'org.cassandraunit:cassandra-unit:4.3.1.0'\ntestCompile 'com.datastax.oss:java-driver-core:4.13.0'\n</code></pre>\n"},{"tags":["java","spring","spring-boot","rest","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":2075909,"reputation":2169,"user_id":1849261,"accept_rate":78,"display_name":"4EACH"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683787383,"creation_date":1683787383,"answer_id":76224797,"question_id":76208703,"body_markdown":"You can attach file in Postman.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/EQ6oy.gif","title":"Spring Controller that accepts a HashMap of different type of Objects","body":"<p>You can attach file in Postman.\n<a href=\"https://i.stack.imgur.com/EQ6oy.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EQ6oy.gif\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":22415215,"reputation":49,"user_id":16623376,"display_name":"ripunjoym1998"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683787383,"creation_date":1683630773,"question_id":76208703,"body_markdown":"I need to make a POST Controller in Java Springboot which will accept a hashmap of objects.\r\nThe datatypes for each value in the key-value pair can be different\r\n\r\n    {\r\n      &quot;myFile&quot; : MultipartFile\r\n      &quot;metadata&quot; : Java POJO in string format\r\n    }\r\nI have written the controller in this way:\r\n\r\n    public ResponseEntity&lt;String&gt; uploadFile2(@RequestBody HashMap&lt;String, Object&gt; requestMap) {\r\n        \r\n        return new ResponseEntity&lt;&gt;(&quot;File uploaded successfully!&quot;, HttpStatus.OK);\r\n      }\r\n\r\nHow do I test this controller through POSTMAN? I have to bind an actual physical file and a json string to the RequestBody","title":"Spring Controller that accepts a HashMap of different type of Objects","body":"<p>I need to make a POST Controller in Java Springboot which will accept a hashmap of objects.\nThe datatypes for each value in the key-value pair can be different</p>\n<pre><code>{\n  &quot;myFile&quot; : MultipartFile\n  &quot;metadata&quot; : Java POJO in string format\n}\n</code></pre>\n<p>I have written the controller in this way:</p>\n<pre><code>public ResponseEntity&lt;String&gt; uploadFile2(@RequestBody HashMap&lt;String, Object&gt; requestMap) {\n    \n    return new ResponseEntity&lt;&gt;(&quot;File uploaded successfully!&quot;, HttpStatus.OK);\n  }\n</code></pre>\n<p>How do I test this controller through POSTMAN? I have to bind an actual physical file and a json string to the RequestBody</p>\n"},{"tags":["java","spring","postgresql","spring-boot","docker"],"comments":[{"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"score":0,"creation_date":1664969887,"post_id":73959505,"comment_id":130588905,"body_markdown":"when you say pgAdmin connection works, do you mean you are connecting via `jdbc:postgresql://host.docker.internal:5430/endlessblow_db` url?","body":"when you say pgAdmin connection works, do you mean you are connecting via <code>jdbc:postgresql:&#47;&#47;host.docker.internal:5430&#47;endlessblow_db</code> url?"},{"owner":{"display_name":"user19516326"},"score":0,"creation_date":1664970224,"post_id":73959505,"comment_id":130588999,"body_markdown":"In pgAdmin I am just putting those connection values into specific fields I mean host, db, user and password. I am not putting this whole String anywhere here","body":"In pgAdmin I am just putting those connection values into specific fields I mean host, db, user and password. I am not putting this whole String anywhere here"}],"answers":[{"comments":[{"owner":{"display_name":"user19516326"},"score":0,"creation_date":1664969432,"post_id":73959618,"comment_id":130588744,"body_markdown":"Do I need to change something else or just this in application.properties? If just this then it does not work","body":"Do I need to change something else or just this in application.properties? If just this then it does not work"},{"owner":{"account_id":2876145,"reputation":2806,"user_id":2468608,"display_name":"IamK"},"score":0,"creation_date":1664969477,"post_id":73959618,"comment_id":130588760,"body_markdown":"and in your docker-compose: `SPRING_DATASOURCE_URL: jdbc:postgresql://host.docker.internal:5430/endlessblow_db` change this too","body":"and in your docker-compose: <code>SPRING_DATASOURCE_URL: jdbc:postgresql:&#47;&#47;host.docker.internal:5430&#47;endlessblow_db</code> change this too"},{"owner":{"display_name":"user19516326"},"score":0,"creation_date":1664970018,"post_id":73959618,"comment_id":130588943,"body_markdown":"If I also changed ports from 5430:5432 to 5432:5432 then I have another exception: org.postgresql.util.PSQLException: Connection to endlessblowdb_container:5432 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.","body":"If I also changed ports from 5430:5432 to 5432:5432 then I have another exception: org.postgresql.util.PSQLException: Connection to endlessblowdb_container:5432 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections."}],"tags":[],"owner":{"account_id":2876145,"reputation":2806,"user_id":2468608,"display_name":"IamK"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664981465,"creation_date":1664968764,"answer_id":73959618,"question_id":73959505,"body_markdown":"Change \r\n\r\n    spring.datasource.url=jdbc:postgresql://host.docker.internal:5430/endlessblow_db\r\n\r\nthis to \r\n\r\n    spring.datasource.url=jdbc:postgresql://endlessblowdb_container:5432/endlessblow_db\r\n\r\n","title":"Docker postgres java.io.EOFException: null when trying to connect","body":"<p>Change</p>\n<pre><code>spring.datasource.url=jdbc:postgresql://host.docker.internal:5430/endlessblow_db\n</code></pre>\n<p>this to</p>\n<pre><code>spring.datasource.url=jdbc:postgresql://endlessblowdb_container:5432/endlessblow_db\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26552141,"reputation":61,"user_id":20181285,"display_name":"Sk Nur Hasan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665550865,"creation_date":1665550865,"answer_id":74036699,"question_id":73959505,"body_markdown":"This error is coming for wrong database password \r\n\r\nand application properties will be : \r\n\r\n    spring.datasource.url=jdbc:postgresql://localhost:5432/&lt;database name&gt;\r\n    spring.datasource.username=&lt;database user name&gt;\r\n    spring.datasource.password=&lt;database password&gt;\r\nDialect for postgresSQL :\r\n\r\n    spring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation= true\r\n    spring.jpa.properties.hibernate.dialect = org.hibernate.dialect.PostgreSQLDialect\r\n\r\nDialect for MySQL : \r\n\r\n    spring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation= true\r\n    spring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQLDialect\r\n\r\nTry this once.","title":"Docker postgres java.io.EOFException: null when trying to connect","body":"<p>This error is coming for wrong database password</p>\n<p>and application properties will be :</p>\n<pre><code>spring.datasource.url=jdbc:postgresql://localhost:5432/&lt;database name&gt;\nspring.datasource.username=&lt;database user name&gt;\nspring.datasource.password=&lt;database password&gt;\n</code></pre>\n<p>Dialect for postgresSQL :</p>\n<pre><code>spring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation= true\nspring.jpa.properties.hibernate.dialect = org.hibernate.dialect.PostgreSQLDialect\n</code></pre>\n<p>Dialect for MySQL :</p>\n<pre><code>spring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation= true\nspring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQLDialect\n</code></pre>\n<p>Try this once.</p>\n"},{"tags":[],"owner":{"account_id":4488682,"reputation":93,"user_id":4055672,"display_name":"sudeep biswas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683786936,"creation_date":1683786936,"answer_id":76224754,"question_id":73959505,"body_markdown":"append below in your connection.\r\n?gssEncMode=disable","title":"Docker postgres java.io.EOFException: null when trying to connect","body":"<p>append below in your connection.\n?gssEncMode=disable</p>\n"}],"owner":{"display_name":"user19516326"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2078,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1683786936,"creation_date":1664968081,"question_id":73959505,"body_markdown":"I have my Dockerfile and docker-compose.yml configured to start my two services - this is my postgres db and Spring Boot app. \r\n\r\nDockerfile:\r\n\r\n    FROM openjdk:8-jdk-alpine\r\n    \r\n    ENV JAVA_HOME /usr/lib/jvm/java-8-openjdk-amd64/\r\n    RUN export JAVA_HOME\r\n    \r\n    COPY ./init.dump /docker-entrypoint-initdb.d/\r\n    RUN chmod 0755 /docker-entrypoint-initdb.d/init.dump\r\n    COPY target/endlessblow-server-1.0-SNAPSHOT.jar /\r\n    COPY endless-blow-firebase.json /\r\n    \r\n    EXPOSE 8000\r\n    CMD [&quot;java&quot;, &quot;-jar&quot;, &quot;endlessblow-server-1.0-SNAPSHOT.jar&quot;]\r\n\r\ndocker-compose.yml\r\n\r\n    version: &quot;3.5&quot;\r\n    \r\n    services:\r\n      endlessblowapp_container:\r\n        build: .\r\n        image: endlessblowapp\r\n        container_name: endlessblowapp_container\r\n        ports:\r\n          - &quot;8080:8080&quot;\r\n        environment:\r\n          SPRING_DATASOURCE_URL: jdbc:postgresql://host.docker.internal:5430/endlessblow_db\r\n        restart: on-failure\r\n        depends_on:\r\n          - endlessblowdb_container\r\n    \r\n      endlessblowdb_container:\r\n        image: postgres:14-alpine\r\n        container_name: endlessblowdb_container\r\n        command: -c &#39;max_connections=250&#39;\r\n        ports:\r\n          - &quot;5430:5432&quot;\r\n        environment:\r\n          POSTGRES_DB: endlessblow_db\r\n          POSTGRES_USER: kuba\r\n          POSTGRES_PASSWORD: admin\r\n        volumes:\r\n          - ./init.dump:/docker-entrypoint-initdb.d/init.dump\r\n\r\napplication.properties\r\n\r\n    spring.datasource.url=jdbc:postgresql://host.docker.internal:5430/endlessblow_db\r\n    spring.datasource.username=kuba\r\n    spring.datasource.password=admin\r\n    spring.datasource.driver-class-name=org.postgresql.Driver\r\n    spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect\r\n\r\n\r\nNow, the problem is once the containers are starting and db container is started, the container with Spring Boot app still fails to be started due to this exception:\r\n\r\n        Caused by: java.io.EOFException: null\r\n                at org.postgresql.core.PGStream.receiveChar(PGStream.java:455) ~[postgresql-42.5.0.jar!/:42.5.0]\r\n                at org.postgresql.core.v3.ConnectionFactoryImpl.enableSSL(ConnectionFactoryImpl.java:553) ~[postgresql-42.5.0.jar!/:42.5.0]\r\n                at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:168) ~[postgresql-42.5.0.jar!/:42.5.0]\r\n                at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:235) ~[postgresql-42.5.0.jar!/:42.5.0]\r\n                ... 57 common frames omitted\r\n    \r\n    . \r\n    \r\nHere I am attaching full Spring Boot container log:\r\n    \r\n    .   ____          _            __ _ _\r\n     /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n    ( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n     \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n      &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n     =========|_|==============|___/=/_/_/_/\r\n     :: Spring Boot ::                (v2.4.3)\r\n    \r\n    2022-10-05 10:49:04.695  INFO 1 --- [           main] pl.jawegiel.Main                         : Starting Main v1.0-SNAPSHOT using Java 1.8.0_212 on f347c0966ca7 with PID 1 (/endlessblow-server-1.0-SNAPSHOT.jar started by root in /)\r\n    2022-10-05 10:49:04.699  INFO 1 --- [           main] pl.jawegiel.Main                         : No active profile set, falling back to default profiles: default\r\n    2022-10-05 10:49:07.123  INFO 1 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n    2022-10-05 10:49:07.156  INFO 1 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 18 ms. Found 0 JPA repository interfaces.\r\n    2022-10-05 10:49:08.845  INFO 1 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n    2022-10-05 10:49:08.864  INFO 1 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n    2022-10-05 10:49:08.865  INFO 1 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.43]\r\n    2022-10-05 10:49:08.948  INFO 1 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n    2022-10-05 10:49:08.949  INFO 1 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 4102 ms\r\n    2022-10-05 10:49:09.497  INFO 1 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\n    2022-10-05 10:49:10.621 ERROR 1 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Exception during pool initialization.\r\n    \r\n    org.postgresql.util.PSQLException: The connection attempt failed.\r\n            at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:331) ~[postgresql-42.5.0.jar!/:42.5.0]\r\n            at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49) ~[postgresql-42.5.0.jar!/:42.5.0]\r\n            at org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:247) ~[postgresql-42.5.0.jar!/:42.5.0]\r\n            at org.postgresql.Driver.makeConnection(Driver.java:434) ~[postgresql-42.5.0.jar!/:42.5.0]\r\n            at org.postgresql.Driver.connect(Driver.java:291) ~[postgresql-42.5.0.jar!/:42.5.0]\r\n            at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) ~[HikariCP-3.4.5.jar!/:na]\r\n            at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:358) ~[HikariCP-3.4.5.jar!/:na]\r\n            at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206) ~[HikariCP-3.4.5.jar!/:na]\r\n            at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:477) [HikariCP-3.4.5.jar!/:na]\r\n            at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:560) [HikariCP-3.4.5.jar!/:na]\r\n            at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115) [HikariCP-3.4.5.jar!/:na]\r\n            at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) [HikariCP-3.4.5.jar!/:na]\r\n            at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:158) [spring-jdbc-5.3.4.jar!/:5.3.4]\r\n            at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:116) [spring-jdbc-5.3.4.jar!/:5.3.4]\r\n            at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:79) [spring-jdbc-5.3.4.jar!/:5.3.4]\r\n            at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:330) [spring-jdbc-5.3.4.jar!/:5.3.4]\r\n            at org.springframework.boot.jdbc.EmbeddedDatabaseConnection.isEmbedded(EmbeddedDatabaseConnection.java:182) [spring-boot-2.4.3.jar!/:2.4.3]\r\n            at org.springframework.boot.autoconfigure.orm.jpa.HibernateDefaultDdlAutoProvider.getDefaultDdlAuto(HibernateDefaultDdlAutoProvider.java:42) [spring-boot-autoconfigure-2.4.3.jar!/:2.4.3]\r\n            at org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration.lambda$getVendorProperties$1(HibernateJpaConfiguration.java:130) [spring-boot-autoconfigure-2.4.3.jar!/:2.4.3]\r\n            at org.springframework.boot.autoconfigure.orm.jpa.HibernateSettings.getDdlAuto(HibernateSettings.java:41) ~[spring-boot-autoconfigure-2.4.3.jar!/:2.4.3]\r\n            at org.springframework.boot.autoconfigure.orm.jpa.HibernateProperties.determineDdlAuto(HibernateProperties.java:136) ~[spring-boot-autoconfigure-2.4.3.jar!/:2.4.3]\r\n            at org.springframework.boot.autoconfigure.orm.jpa.HibernateProperties.getAdditionalProperties(HibernateProperties.java:102) ~[spring-boot-autoconfigure-2.4.3.jar!/:2.4.3]\r\n            at org.springframework.boot.autoconfigure.orm.jpa.HibernateProperties.determineHibernateProperties(HibernateProperties.java:94) ~[spring-boot-autoconfigure-2.4.3.jar!/:2.4.3]\r\n            at org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration.getVendorProperties(HibernateJpaConfiguration.java:132) [spring-boot-autoconfigure-2.4.3.jar!/:2.4.3]\r\n            at org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration.entityManagerFactory(JpaBaseConfiguration.java:134) ~[spring-boot-autoconfigure-2.4.3.jar!/:2.4.3]\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_212]\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_212]\r\n            at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_212]\r\n            at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_212]\r\n            at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.3.4.jar!/:5.3.4]\r\n            at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-5.3.4.jar!/:5.3.4]\r\n            at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:638) ~[spring-beans-5.3.4.jar!/:5.3.4]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1334) ~[spring-beans-5.3.4.jar!/:5.3.4]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1177) ~[spring-beans-5.3.4.jar!/:5.3.4]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:564) ~[spring-beans-5.3.4.jar!/:5.3.4]\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:524) ~[spring-beans-5.3.4.jar!/:5.3.4]\r\n            at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.4.jar!/:5.3.4]\r\n            at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.4.jar!/:5.3.4]\r\n            at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.4.jar!/:5.3.4]\r\n            at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.4.jar!/:5.3.4]\r\n            at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1153) ~[spring-context-5.3.4.jar!/:5.3.4]\r\n            at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:907) ~[spring-context-5.3.4.jar!/:5.3.4]\r\n            at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:582) ~[spring-context-5.3.4.jar!/:5.3.4]\r\n            at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:144) ~[spring-boot-2.4.3.jar!/:2.4.3]\r\n            at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:767) ~[spring-boot-2.4.3.jar!/:2.4.3]\r\n            at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:759) ~[spring-boot-2.4.3.jar!/:2.4.3]\r\n            at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:426) ~[spring-boot-2.4.3.jar!/:2.4.3]\r\n            at org.springframework.boot.SpringApplication.run(SpringApplication.java:326) ~[spring-boot-2.4.3.jar!/:2.4.3]\r\n            at pl.jawegiel.Main.main(Main.java:22) ~[classes!/:1.0-SNAPSHOT]\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_212]\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_212]\r\n            at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_212]\r\n            at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_212]\r\n            at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) ~[endlessblow-server-1.0-SNAPSHOT.jar:1.0-SNAPSHOT]\r\n            at org.springframework.boot.loader.Launcher.launch(Launcher.java:107) ~[endlessblow-server-1.0-SNAPSHOT.jar:1.0-SNAPSHOT]\r\n            at org.springframework.boot.loader.Launcher.launch(Launcher.java:58) ~[endlessblow-server-1.0-SNAPSHOT.jar:1.0-SNAPSHOT]\r\n            at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:88) ~[endlessblow-server-1.0-SNAPSHOT.jar:1.0-SNAPSHOT]\r\n    Caused by: java.io.EOFException: null\r\n            at org.postgresql.core.PGStream.receiveChar(PGStream.java:455) ~[postgresql-42.5.0.jar!/:42.5.0]\r\n            at org.postgresql.core.v3.ConnectionFactoryImpl.enableSSL(ConnectionFactoryImpl.java:553) ~[postgresql-42.5.0.jar!/:42.5.0]\r\n            at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:168) ~[postgresql-42.5.0.jar!/:42.5.0]\r\n            at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:235) ~[postgresql-42.5.0.jar!/:42.5.0]\r\n            ... 56 common frames omitted\r\n    \r\n    2022-10-05 10:49:10.823  INFO 1 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\r\n    2022-10-05 10:49:11.034  INFO 1 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.28.Final\r\n    2022-10-05 10:49:11.296  INFO 1 --- [           main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}\r\n    2022-10-05 10:49:11.468  INFO 1 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\n    2022-10-05 10:49:12.479 ERROR 1 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Exception during pool initialization.\r\n\r\nWhat&#39;s interesting is that when I try to connect to postgres container on pgAdmin it connects correctly.","title":"Docker postgres java.io.EOFException: null when trying to connect","body":"<p>I have my Dockerfile and docker-compose.yml configured to start my two services - this is my postgres db and Spring Boot app.</p>\n<p>Dockerfile:</p>\n<pre><code>FROM openjdk:8-jdk-alpine\n\nENV JAVA_HOME /usr/lib/jvm/java-8-openjdk-amd64/\nRUN export JAVA_HOME\n\nCOPY ./init.dump /docker-entrypoint-initdb.d/\nRUN chmod 0755 /docker-entrypoint-initdb.d/init.dump\nCOPY target/endlessblow-server-1.0-SNAPSHOT.jar /\nCOPY endless-blow-firebase.json /\n\nEXPOSE 8000\nCMD [&quot;java&quot;, &quot;-jar&quot;, &quot;endlessblow-server-1.0-SNAPSHOT.jar&quot;]\n</code></pre>\n<p>docker-compose.yml</p>\n<pre><code>version: &quot;3.5&quot;\n\nservices:\n  endlessblowapp_container:\n    build: .\n    image: endlessblowapp\n    container_name: endlessblowapp_container\n    ports:\n      - &quot;8080:8080&quot;\n    environment:\n      SPRING_DATASOURCE_URL: jdbc:postgresql://host.docker.internal:5430/endlessblow_db\n    restart: on-failure\n    depends_on:\n      - endlessblowdb_container\n\n  endlessblowdb_container:\n    image: postgres:14-alpine\n    container_name: endlessblowdb_container\n    command: -c 'max_connections=250'\n    ports:\n      - &quot;5430:5432&quot;\n    environment:\n      POSTGRES_DB: endlessblow_db\n      POSTGRES_USER: kuba\n      POSTGRES_PASSWORD: admin\n    volumes:\n      - ./init.dump:/docker-entrypoint-initdb.d/init.dump\n</code></pre>\n<p>application.properties</p>\n<pre><code>spring.datasource.url=jdbc:postgresql://host.docker.internal:5430/endlessblow_db\nspring.datasource.username=kuba\nspring.datasource.password=admin\nspring.datasource.driver-class-name=org.postgresql.Driver\nspring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect\n</code></pre>\n<p>Now, the problem is once the containers are starting and db container is started, the container with Spring Boot app still fails to be started due to this exception:</p>\n<pre><code>    Caused by: java.io.EOFException: null\n            at org.postgresql.core.PGStream.receiveChar(PGStream.java:455) ~[postgresql-42.5.0.jar!/:42.5.0]\n            at org.postgresql.core.v3.ConnectionFactoryImpl.enableSSL(ConnectionFactoryImpl.java:553) ~[postgresql-42.5.0.jar!/:42.5.0]\n            at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:168) ~[postgresql-42.5.0.jar!/:42.5.0]\n            at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:235) ~[postgresql-42.5.0.jar!/:42.5.0]\n            ... 57 common frames omitted\n\n. \n</code></pre>\n<p>Here I am attaching full Spring Boot container log:</p>\n<pre><code>.   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::                (v2.4.3)\n\n2022-10-05 10:49:04.695  INFO 1 --- [           main] pl.jawegiel.Main                         : Starting Main v1.0-SNAPSHOT using Java 1.8.0_212 on f347c0966ca7 with PID 1 (/endlessblow-server-1.0-SNAPSHOT.jar started by root in /)\n2022-10-05 10:49:04.699  INFO 1 --- [           main] pl.jawegiel.Main                         : No active profile set, falling back to default profiles: default\n2022-10-05 10:49:07.123  INFO 1 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n2022-10-05 10:49:07.156  INFO 1 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 18 ms. Found 0 JPA repository interfaces.\n2022-10-05 10:49:08.845  INFO 1 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n2022-10-05 10:49:08.864  INFO 1 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2022-10-05 10:49:08.865  INFO 1 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.43]\n2022-10-05 10:49:08.948  INFO 1 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2022-10-05 10:49:08.949  INFO 1 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 4102 ms\n2022-10-05 10:49:09.497  INFO 1 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\n2022-10-05 10:49:10.621 ERROR 1 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Exception during pool initialization.\n\norg.postgresql.util.PSQLException: The connection attempt failed.\n        at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:331) ~[postgresql-42.5.0.jar!/:42.5.0]\n        at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49) ~[postgresql-42.5.0.jar!/:42.5.0]\n        at org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:247) ~[postgresql-42.5.0.jar!/:42.5.0]\n        at org.postgresql.Driver.makeConnection(Driver.java:434) ~[postgresql-42.5.0.jar!/:42.5.0]\n        at org.postgresql.Driver.connect(Driver.java:291) ~[postgresql-42.5.0.jar!/:42.5.0]\n        at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) ~[HikariCP-3.4.5.jar!/:na]\n        at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:358) ~[HikariCP-3.4.5.jar!/:na]\n        at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206) ~[HikariCP-3.4.5.jar!/:na]\n        at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:477) [HikariCP-3.4.5.jar!/:na]\n        at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:560) [HikariCP-3.4.5.jar!/:na]\n        at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115) [HikariCP-3.4.5.jar!/:na]\n        at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) [HikariCP-3.4.5.jar!/:na]\n        at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:158) [spring-jdbc-5.3.4.jar!/:5.3.4]\n        at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:116) [spring-jdbc-5.3.4.jar!/:5.3.4]\n        at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:79) [spring-jdbc-5.3.4.jar!/:5.3.4]\n        at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:330) [spring-jdbc-5.3.4.jar!/:5.3.4]\n        at org.springframework.boot.jdbc.EmbeddedDatabaseConnection.isEmbedded(EmbeddedDatabaseConnection.java:182) [spring-boot-2.4.3.jar!/:2.4.3]\n        at org.springframework.boot.autoconfigure.orm.jpa.HibernateDefaultDdlAutoProvider.getDefaultDdlAuto(HibernateDefaultDdlAutoProvider.java:42) [spring-boot-autoconfigure-2.4.3.jar!/:2.4.3]\n        at org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration.lambda$getVendorProperties$1(HibernateJpaConfiguration.java:130) [spring-boot-autoconfigure-2.4.3.jar!/:2.4.3]\n        at org.springframework.boot.autoconfigure.orm.jpa.HibernateSettings.getDdlAuto(HibernateSettings.java:41) ~[spring-boot-autoconfigure-2.4.3.jar!/:2.4.3]\n        at org.springframework.boot.autoconfigure.orm.jpa.HibernateProperties.determineDdlAuto(HibernateProperties.java:136) ~[spring-boot-autoconfigure-2.4.3.jar!/:2.4.3]\n        at org.springframework.boot.autoconfigure.orm.jpa.HibernateProperties.getAdditionalProperties(HibernateProperties.java:102) ~[spring-boot-autoconfigure-2.4.3.jar!/:2.4.3]\n        at org.springframework.boot.autoconfigure.orm.jpa.HibernateProperties.determineHibernateProperties(HibernateProperties.java:94) ~[spring-boot-autoconfigure-2.4.3.jar!/:2.4.3]\n        at org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration.getVendorProperties(HibernateJpaConfiguration.java:132) [spring-boot-autoconfigure-2.4.3.jar!/:2.4.3]\n        at org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration.entityManagerFactory(JpaBaseConfiguration.java:134) ~[spring-boot-autoconfigure-2.4.3.jar!/:2.4.3]\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_212]\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_212]\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_212]\n        at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_212]\n        at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.3.4.jar!/:5.3.4]\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-5.3.4.jar!/:5.3.4]\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:638) ~[spring-beans-5.3.4.jar!/:5.3.4]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1334) ~[spring-beans-5.3.4.jar!/:5.3.4]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1177) ~[spring-beans-5.3.4.jar!/:5.3.4]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:564) ~[spring-beans-5.3.4.jar!/:5.3.4]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:524) ~[spring-beans-5.3.4.jar!/:5.3.4]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.4.jar!/:5.3.4]\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.4.jar!/:5.3.4]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.4.jar!/:5.3.4]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.4.jar!/:5.3.4]\n        at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1153) ~[spring-context-5.3.4.jar!/:5.3.4]\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:907) ~[spring-context-5.3.4.jar!/:5.3.4]\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:582) ~[spring-context-5.3.4.jar!/:5.3.4]\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:144) ~[spring-boot-2.4.3.jar!/:2.4.3]\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:767) ~[spring-boot-2.4.3.jar!/:2.4.3]\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:759) ~[spring-boot-2.4.3.jar!/:2.4.3]\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:426) ~[spring-boot-2.4.3.jar!/:2.4.3]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:326) ~[spring-boot-2.4.3.jar!/:2.4.3]\n        at pl.jawegiel.Main.main(Main.java:22) ~[classes!/:1.0-SNAPSHOT]\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_212]\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_212]\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_212]\n        at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_212]\n        at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) ~[endlessblow-server-1.0-SNAPSHOT.jar:1.0-SNAPSHOT]\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:107) ~[endlessblow-server-1.0-SNAPSHOT.jar:1.0-SNAPSHOT]\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:58) ~[endlessblow-server-1.0-SNAPSHOT.jar:1.0-SNAPSHOT]\n        at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:88) ~[endlessblow-server-1.0-SNAPSHOT.jar:1.0-SNAPSHOT]\nCaused by: java.io.EOFException: null\n        at org.postgresql.core.PGStream.receiveChar(PGStream.java:455) ~[postgresql-42.5.0.jar!/:42.5.0]\n        at org.postgresql.core.v3.ConnectionFactoryImpl.enableSSL(ConnectionFactoryImpl.java:553) ~[postgresql-42.5.0.jar!/:42.5.0]\n        at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:168) ~[postgresql-42.5.0.jar!/:42.5.0]\n        at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:235) ~[postgresql-42.5.0.jar!/:42.5.0]\n        ... 56 common frames omitted\n\n2022-10-05 10:49:10.823  INFO 1 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\n2022-10-05 10:49:11.034  INFO 1 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.28.Final\n2022-10-05 10:49:11.296  INFO 1 --- [           main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}\n2022-10-05 10:49:11.468  INFO 1 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\n2022-10-05 10:49:12.479 ERROR 1 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Exception during pool initialization.\n</code></pre>\n<p>What's interesting is that when I try to connect to postgres container on pgAdmin it connects correctly.</p>\n"},{"tags":["java","swing","alignment","jbutton"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1683728835,"post_id":76219222,"comment_id":134411655,"body_markdown":"Start by finding a reference for HTML syntax. Don&#39;t just guess. For example why do all your examples play with the Font tag? A Font is a style or size of the text. You can&#39;t assign an alignment to a Font. Why would you define the &quot;sup&quot; tag first? Logically it comes after the text, so define your HTML that way as well. For a basic test you can start with: `String secondContent = &quot;&lt;html&gt;Multi-line&lt;sup&gt;HTML&lt;/sup&gt;&lt;/html&gt;&quot;;`","body":"Start by finding a reference for HTML syntax. Don&#39;t just guess. For example why do all your examples play with the Font tag? A Font is a style or size of the text. You can&#39;t assign an alignment to a Font. Why would you define the &quot;sup&quot; tag first? Logically it comes after the text, so define your HTML that way as well. For a basic test you can start with: <code>String secondContent = &quot;&lt;html&gt;Multi-line&lt;sup&gt;HTML&lt;&#47;sup&gt;&lt;&#47;html&gt;&quot;;</code>"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1683731060,"post_id":76219222,"comment_id":134412277,"body_markdown":"Don’t add `JLabel`s to a `JButton`; that’s not gonna work. Further, there’s no point in setting a `FlowLayout` on a freshly instantiated `JPanel`, as that’s the default anyway. camickr already told you how to do the html right, but note that there’s no payoff in writing the implied tags in such fragments, just `&quot;&lt;html&gt;Some text&lt;sup&gt;10&quot;` and `&quot;&lt;html&gt;Multi-line&lt;sup&gt;HTML&quot;` are enough… And as a side note, looking at your screenshot I’m wondering what this `RoundedBorder` is good for. It doesn’t seem to have any effect.","body":"Don’t add <code>JLabel</code>s to a <code>JButton</code>; that’s not gonna work. Further, there’s no point in setting a <code>FlowLayout</code> on a freshly instantiated <code>JPanel</code>, as that’s the default anyway. camickr already told you how to do the html right, but note that there’s no payoff in writing the implied tags in such fragments, just <code>&quot;&lt;html&gt;Some text&lt;sup&gt;10&quot;</code> and <code>&quot;&lt;html&gt;Multi-line&lt;sup&gt;HTML&quot;</code> are enough… And as a side note, looking at your screenshot I’m wondering what this <code>RoundedBorder</code> is good for. It doesn’t seem to have any effect."},{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1683742528,"post_id":76219222,"comment_id":134415022,"body_markdown":"Why not just create images as you did for the question, load the images, and display them on `JButtons`?","body":"Why not just create images as you did for the question, load the images, and display them on <code>JButtons</code>?"}],"answers":[{"tags":[],"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1683745177,"creation_date":1683745177,"answer_id":76221784,"question_id":76219222,"body_markdown":"Oracle has a helpful tutorial, [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/index.html).  Skip the Learning Swing with the NetBeans IDE section.  Pay particular attention to the [Performing Custom Painting](https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html) section.\r\n\r\nAs I said in my comment, why not just create an image and place the image in a `JButton`.\r\n\r\nHere&#39;s the GUI I came up with.\r\n\r\n[![Example][1]][1]\r\n\r\nTo create images for all your `JButtons`, just call the image creation method in a loop.\r\n\r\nHere&#39;s the complete runnable code.\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Color;\r\n    import java.awt.FlowLayout;\r\n    import java.awt.Font;\r\n    import java.awt.FontMetrics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.Rectangle;\r\n    import java.awt.RenderingHints;\r\n    import java.awt.image.BufferedImage;\r\n    \r\n    import javax.swing.BorderFactory;\r\n    import javax.swing.ImageIcon;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.SwingUtilities;\r\n    \r\n    public class JButtonImageExample implements Runnable {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSwingUtilities.invokeLater(new JButtonImageExample());\r\n    \t}\r\n    \r\n    \tprivate BufferedImage image;\r\n    \r\n    \tpublic JButtonImageExample() {\r\n    \t\tFont font = new Font(Font.DIALOG, Font.PLAIN, 36);\r\n    \t\tthis.image = createLetterImage(70, 70, font, &#39;G&#39;, 7);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void run() {\r\n    \t\tJFrame frame = new JFrame(&quot;Example&quot;);\r\n    \t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \r\n    \t\tframe.add(createButtonPanel(), BorderLayout.CENTER);\r\n    \r\n    \t\tframe.pack();\r\n    \t\tframe.setLocationByPlatform(true);\r\n    \t\tframe.setVisible(true);\r\n    \t}\r\n    \r\n    \tprivate JPanel createButtonPanel() {\r\n    \t\tJPanel panel = new JPanel(new FlowLayout());\r\n    \t\tpanel.setBorder(BorderFactory.createEmptyBorder(100, 100, 100, 100));\r\n    \r\n    \t\tJButton button = new JButton(new ImageIcon(image));\r\n    \t\tpanel.add(button);\r\n    \r\n    \t\treturn panel;\r\n    \t}\r\n    \r\n    \tprivate BufferedImage createLetterImage(int width, int height, Font font,\r\n    \t\t\tchar letter, int value) {\r\n    \t\tBufferedImage image = new BufferedImage(width, height,\r\n    \t\t\t\tBufferedImage.TYPE_INT_ARGB);\r\n    \t\tGraphics2D g2d = (Graphics2D) image.getGraphics();\r\n    \t\tg2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING,\r\n    \t\t\t\tRenderingHints.VALUE_ANTIALIAS_ON);\r\n    \t\tg2d.setRenderingHint(RenderingHints.KEY_TEXT_ANTIALIASING,\r\n    \t\t\t\tRenderingHints.VALUE_TEXT_ANTIALIAS_ON);\r\n    \t\tg2d.setRenderingHint(RenderingHints.KEY_FRACTIONALMETRICS,\r\n    \t\t\t\tRenderingHints.VALUE_FRACTIONALMETRICS_ON);\r\n    \t\tg2d.setFont(font);\r\n    \r\n    \t\tg2d.setColor(Color.WHITE);\r\n    \t\tg2d.fillRect(0, 0, width, height);\r\n    \r\n    \t\tg2d.setColor(Color.BLACK);\r\n    \t\tString s = Character.toString(letter);\r\n    \t\tRectangle rect = new Rectangle(0, 0, width, height);\r\n    \t\tdrawCenteredString(g2d, s, rect, font);\r\n    \r\n    \t\tg2d.setColor(Color.BLUE);\r\n    \t\ts = Integer.toString(value);\r\n    \t\tdrawRightAlignedString(g2d, s, width, font);\r\n    \r\n    \t\tg2d.dispose();\r\n    \r\n    \t\treturn image;\r\n    \t}\r\n    \r\n    \tprivate void drawRightAlignedString(Graphics2D g2d, String text, int width,\r\n    \t\t\tFont font) {\r\n    \t\tint pointSize = font.getSize() / 2;\r\n    \t\tg2d.setFont(font.deriveFont((float) pointSize));\r\n    \t\tFontMetrics metrics = g2d.getFontMetrics(g2d.getFont());\r\n    \t\tint margin = 2;\r\n    \t\tint x = width - metrics.stringWidth(text) - margin;\r\n    \t\tint y = metrics.getAscent() - margin;\r\n    \t\tg2d.drawString(text, x, y);\r\n    \t}\r\n    \r\n    \tprivate void drawCenteredString(Graphics2D g2d, String text, Rectangle rect,\r\n    \t\t\tFont font) {\r\n    \t\tFontMetrics metrics = g2d.getFontMetrics(font);\r\n    \t\tint x = rect.x + (rect.width - metrics.stringWidth(text)) / 2;\r\n    \t\tint y = rect.y + ((rect.height - metrics.getHeight()) / 2)\r\n    \t\t\t\t+ metrics.getAscent();\r\n    \t\tg2d.setFont(font);\r\n    \t\tg2d.drawString(text, x, y);\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/oI12A.png\r\n","title":"How to properly align a multiline text in a JButton?","body":"<p>Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Learning Swing with the NetBeans IDE section.  Pay particular attention to the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html\" rel=\"nofollow noreferrer\">Performing Custom Painting</a> section.</p>\n<p>As I said in my comment, why not just create an image and place the image in a <code>JButton</code>.</p>\n<p>Here's the GUI I came up with.</p>\n<p><a href=\"https://i.stack.imgur.com/oI12A.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oI12A.png\" alt=\"Example\" /></a></p>\n<p>To create images for all your <code>JButtons</code>, just call the image creation method in a loop.</p>\n<p>Here's the complete runnable code.</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.FlowLayout;\nimport java.awt.Font;\nimport java.awt.FontMetrics;\nimport java.awt.Graphics2D;\nimport java.awt.Rectangle;\nimport java.awt.RenderingHints;\nimport java.awt.image.BufferedImage;\n\nimport javax.swing.BorderFactory;\nimport javax.swing.ImageIcon;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.SwingUtilities;\n\npublic class JButtonImageExample implements Runnable {\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new JButtonImageExample());\n    }\n\n    private BufferedImage image;\n\n    public JButtonImageExample() {\n        Font font = new Font(Font.DIALOG, Font.PLAIN, 36);\n        this.image = createLetterImage(70, 70, font, 'G', 7);\n    }\n\n    @Override\n    public void run() {\n        JFrame frame = new JFrame(&quot;Example&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n        frame.add(createButtonPanel(), BorderLayout.CENTER);\n\n        frame.pack();\n        frame.setLocationByPlatform(true);\n        frame.setVisible(true);\n    }\n\n    private JPanel createButtonPanel() {\n        JPanel panel = new JPanel(new FlowLayout());\n        panel.setBorder(BorderFactory.createEmptyBorder(100, 100, 100, 100));\n\n        JButton button = new JButton(new ImageIcon(image));\n        panel.add(button);\n\n        return panel;\n    }\n\n    private BufferedImage createLetterImage(int width, int height, Font font,\n            char letter, int value) {\n        BufferedImage image = new BufferedImage(width, height,\n                BufferedImage.TYPE_INT_ARGB);\n        Graphics2D g2d = (Graphics2D) image.getGraphics();\n        g2d.setRenderingHint(RenderingHints.KEY_ANTIALIASING,\n                RenderingHints.VALUE_ANTIALIAS_ON);\n        g2d.setRenderingHint(RenderingHints.KEY_TEXT_ANTIALIASING,\n                RenderingHints.VALUE_TEXT_ANTIALIAS_ON);\n        g2d.setRenderingHint(RenderingHints.KEY_FRACTIONALMETRICS,\n                RenderingHints.VALUE_FRACTIONALMETRICS_ON);\n        g2d.setFont(font);\n\n        g2d.setColor(Color.WHITE);\n        g2d.fillRect(0, 0, width, height);\n\n        g2d.setColor(Color.BLACK);\n        String s = Character.toString(letter);\n        Rectangle rect = new Rectangle(0, 0, width, height);\n        drawCenteredString(g2d, s, rect, font);\n\n        g2d.setColor(Color.BLUE);\n        s = Integer.toString(value);\n        drawRightAlignedString(g2d, s, width, font);\n\n        g2d.dispose();\n\n        return image;\n    }\n\n    private void drawRightAlignedString(Graphics2D g2d, String text, int width,\n            Font font) {\n        int pointSize = font.getSize() / 2;\n        g2d.setFont(font.deriveFont((float) pointSize));\n        FontMetrics metrics = g2d.getFontMetrics(g2d.getFont());\n        int margin = 2;\n        int x = width - metrics.stringWidth(text) - margin;\n        int y = metrics.getAscent() - margin;\n        g2d.drawString(text, x, y);\n    }\n\n    private void drawCenteredString(Graphics2D g2d, String text, Rectangle rect,\n            Font font) {\n        FontMetrics metrics = g2d.getFontMetrics(font);\n        int x = rect.x + (rect.width - metrics.stringWidth(text)) / 2;\n        int y = rect.y + ((rect.height - metrics.getHeight()) / 2)\n                + metrics.getAscent();\n        g2d.setFont(font);\n        g2d.drawString(text, x, y);\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":26897819,"reputation":33,"user_id":20845398,"display_name":"seened"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76221784,"answer_count":1,"score":2,"last_activity_date":1683786868,"creation_date":1683726510,"question_id":76219222,"body_markdown":"I am trying to figure it out how to align some text in a JButton, but it seems to be more challenging than I thought it can be. In some ways I have tried to use HTML and JLabel, but had no luck with it. What I am trying to do, I want to simulate a keyboard key with letter centered and a digit on the right-top of it.\r\n\r\n[![https://i.stack.imgur.com/dGnXx.png][1]][1]\r\n\r\n```\r\nJPanel panel = new JPanel();\r\nLayoutManager layout = new FlowLayout();\r\npanel.setLayout(layout);\r\n\r\nString htmlContent = &quot;&lt;html&gt;&lt;font align=right&gt;10&lt;/font&gt;&lt;br&gt;&lt;center&gt;&lt;font width=100&gt;Some text&lt;font&gt;&lt;/center&gt;&lt;br&gt;&lt;font height=20&gt;&lt;/font&gt;&lt;/html&gt;&quot;;\r\nString secondContent = &quot;&lt;html&gt;&lt;sup&gt;HTML&lt;/sup&gt;&lt;br&gt;&lt;font&gt;Multi-line&lt;/font&gt;&quot;;\r\n\r\nJButton nextButton = new JButton(htmlContent);\r\nnextButton.setForeground(new Color(0x000000));\r\nnextButton.setBackground(new Color(0xffffff));\r\nnextButton.setBorderPainted(false);\r\nnextButton.setFocusPainted(false);\r\nnextButton.setBounds(0, 0, 30, 25);\r\npanel.add(nextButton);\r\n\r\nJButton secondButton = new JButton(secondContent);\r\nsecondButton.setForeground(new Color(0xffffff));\r\nsecondButton.setBackground(new Color(0x0062ff));\r\nsecondButton.setBorderPainted(false);\r\nsecondButton.setFocusPainted(false);\r\npanel.add(secondButton);\r\n\r\nJLabel firstLabel = new JLabel(&quot;First&quot;);\r\nfirstLabel.setHorizontalTextPosition(JLabel.RIGHT);\r\nfirstLabel.setVerticalTextPosition(JLabel.TOP);\r\nfirstLabel.setSize(150,100);\r\nJLabel secondLabel = new JLabel(&quot;So much text&quot;);\r\nsecondLabel.setHorizontalTextPosition(JLabel.CENTER);\r\nsecondLabel.setVerticalTextPosition(JLabel.CENTER);\r\nsecondLabel.setSize(100,100);\r\n\r\nJButton thirdBtn = new JButton();\r\nthirdBtn.setForeground(new Color(0x000000));\r\nthirdBtn.setBackground(new Color(0xbdbdbd));\r\nthirdBtn.setBorderPainted(false);\r\nthirdBtn.setFocusPainted(false);\r\nthirdBtn.add(firstLabel);\r\nthirdBtn.add(secondLabel);\r\nthirdBtn.setPreferredSize(new Dimension(200, 80));\r\npanel.add(thirdBtn);\r\n\r\nframe.getContentPane().add(panel, BorderLayout.CENTER);\r\n```\r\n\r\nSo far here is the code I have tried to use to achieve this, but I can see no result of what I need, just cannot align the text to right or make it flow to there. Also tried using double labeled button, it seems that the labels cannot be aligned regarding each other. Is there a way to do that?\r\n\r\nP.S. Forgot to mention, have tried to use align=right or align=&#39;right&#39; or just &#39;right&#39; in HTML tags, but none of these works\r\n\r\nResults:\r\n\r\n[![https://i.stack.imgur.com/EQcX3.png][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dGnXx.png\r\n  [2]: https://i.stack.imgur.com/EQcX3.png","title":"How to properly align a multiline text in a JButton?","body":"<p>I am trying to figure it out how to align some text in a JButton, but it seems to be more challenging than I thought it can be. In some ways I have tried to use HTML and JLabel, but had no luck with it. What I am trying to do, I want to simulate a keyboard key with letter centered and a digit on the right-top of it.</p>\n<p><a href=\"https://i.stack.imgur.com/dGnXx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dGnXx.png\" alt=\"https://i.stack.imgur.com/dGnXx.png\" /></a></p>\n<pre><code>JPanel panel = new JPanel();\nLayoutManager layout = new FlowLayout();\npanel.setLayout(layout);\n\nString htmlContent = &quot;&lt;html&gt;&lt;font align=right&gt;10&lt;/font&gt;&lt;br&gt;&lt;center&gt;&lt;font width=100&gt;Some text&lt;font&gt;&lt;/center&gt;&lt;br&gt;&lt;font height=20&gt;&lt;/font&gt;&lt;/html&gt;&quot;;\nString secondContent = &quot;&lt;html&gt;&lt;sup&gt;HTML&lt;/sup&gt;&lt;br&gt;&lt;font&gt;Multi-line&lt;/font&gt;&quot;;\n\nJButton nextButton = new JButton(htmlContent);\nnextButton.setForeground(new Color(0x000000));\nnextButton.setBackground(new Color(0xffffff));\nnextButton.setBorderPainted(false);\nnextButton.setFocusPainted(false);\nnextButton.setBounds(0, 0, 30, 25);\npanel.add(nextButton);\n\nJButton secondButton = new JButton(secondContent);\nsecondButton.setForeground(new Color(0xffffff));\nsecondButton.setBackground(new Color(0x0062ff));\nsecondButton.setBorderPainted(false);\nsecondButton.setFocusPainted(false);\npanel.add(secondButton);\n\nJLabel firstLabel = new JLabel(&quot;First&quot;);\nfirstLabel.setHorizontalTextPosition(JLabel.RIGHT);\nfirstLabel.setVerticalTextPosition(JLabel.TOP);\nfirstLabel.setSize(150,100);\nJLabel secondLabel = new JLabel(&quot;So much text&quot;);\nsecondLabel.setHorizontalTextPosition(JLabel.CENTER);\nsecondLabel.setVerticalTextPosition(JLabel.CENTER);\nsecondLabel.setSize(100,100);\n\nJButton thirdBtn = new JButton();\nthirdBtn.setForeground(new Color(0x000000));\nthirdBtn.setBackground(new Color(0xbdbdbd));\nthirdBtn.setBorderPainted(false);\nthirdBtn.setFocusPainted(false);\nthirdBtn.add(firstLabel);\nthirdBtn.add(secondLabel);\nthirdBtn.setPreferredSize(new Dimension(200, 80));\npanel.add(thirdBtn);\n\nframe.getContentPane().add(panel, BorderLayout.CENTER);\n</code></pre>\n<p>So far here is the code I have tried to use to achieve this, but I can see no result of what I need, just cannot align the text to right or make it flow to there. Also tried using double labeled button, it seems that the labels cannot be aligned regarding each other. Is there a way to do that?</p>\n<p>P.S. Forgot to mention, have tried to use align=right or align='right' or just 'right' in HTML tags, but none of these works</p>\n<p>Results:</p>\n<p><a href=\"https://i.stack.imgur.com/EQcX3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EQcX3.png\" alt=\"https://i.stack.imgur.com/EQcX3.png\" /></a></p>\n"},{"tags":["java","spring","spring-security","openapi"],"comments":[{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1683715681,"post_id":76215142,"comment_id":134408190,"body_markdown":"why not just enable debug logs and look for the exact reason in the logs for why you are getting a 403?","body":"why not just enable debug logs and look for the exact reason in the logs for why you are getting a 403?"},{"owner":{"account_id":21867652,"reputation":11,"user_id":16157597,"display_name":"ShortlyMsg"},"score":0,"creation_date":1683748965,"post_id":76215142,"comment_id":134416216,"body_markdown":"@Toerktumlare Thank you for your advice, I followed your suggestions.\nI added the logs to the question. Can you check them? I couldn&#39;t fully understand where the mistake is.","body":"@Toerktumlare Thank you for your advice, I followed your suggestions. I added the logs to the question. Can you check them? I couldn&#39;t fully understand where the mistake is."},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1683751834,"post_id":76215142,"comment_id":134416726,"body_markdown":"&quot;with postman its working&quot; you are not doing the same thing with postman, you are fetching `/users` not `swagger-ui.html` so how can you claim its working? try whitelisting `/error` endpoint","body":"&quot;with postman its working&quot; you are not doing the same thing with postman, you are fetching <code>&#47;users</code> not <code>swagger-ui.html</code> so how can you claim its working? try whitelisting <code>&#47;error</code> endpoint"},{"owner":{"account_id":21867652,"reputation":11,"user_id":16157597,"display_name":"ShortlyMsg"},"score":1,"creation_date":1683786042,"post_id":76215142,"comment_id":134420415,"body_markdown":"I did what you suggested and /error returned a 404 error to me. After doing some research, I found out that in Spring Boot 3, OpenAPI has been upgraded to a new version. When I changed the dependency, it gave me the correct output.  Thanks to you, I learned how to look at the log history and now I can approach things from different perspectives. Thank you again.","body":"I did what you suggested and /error returned a 404 error to me. After doing some research, I found out that in Spring Boot 3, OpenAPI has been upgraded to a new version. When I changed the dependency, it gave me the correct output.  Thanks to you, I learned how to look at the log history and now I can approach things from different perspectives. Thank you again."},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1683793834,"post_id":76215142,"comment_id":134421937,"body_markdown":"logs are your best friend","body":"logs are your best friend"}],"owner":{"account_id":21867652,"reputation":11,"user_id":16157597,"display_name":"ShortlyMsg"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":556,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1683786715,"creation_date":1683696220,"question_id":76215142,"body_markdown":"I have just started learning Spring Security. I can access it with Postman, but I can&#39;t reach it with OpenApi. What could be the issue? It was working before I updated and added Security.\r\n**Spring Boot vers 3.0.6**\r\n**Spring Security vers 6**.\r\nHere is my code:\r\n\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class SecurityConfig {\r\n    @Bean\r\n    public UserDetailsService userDetailsService(PasswordEncoder encoder){\r\n        UserDetails admin = User.withUsername(&quot;msg&quot;)\r\n                .password(encoder.encode(&quot;123&quot;))\r\n                .roles(&quot;ADMIN&quot;, &quot;USER&quot;)\r\n                .build();\r\n        UserDetails user = User.withUsername(&quot;user&quot;)\r\n                .password(encoder.encode(&quot;123&quot;))\r\n                .roles(&quot;USER&quot;)\r\n                .build();\r\n        return new InMemoryUserDetailsManager(admin, user);\r\n    }\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception{\r\n        return http.httpBasic()\r\n                .and()\r\n                .authorizeHttpRequests()\r\n                .requestMatchers(&quot;/v3/api-docs/**&quot;, &quot;/swagger-ui/**&quot;, &quot;/swagger-ui.html&quot;).permitAll()\r\n                //.requestMatchers(&quot;/users&quot;).authenticated()\r\n                .requestMatchers(HttpMethod.POST,&quot;/users/**&quot;).hasRole(&quot;USER&quot;)\r\n                .requestMatchers(&quot;/users/**&quot;).hasRole(&quot;ADMIN&quot;)\r\n                .and()\r\n                .csrf().disable()\r\n                .formLogin().disable()\r\n                .build();\r\n    }\r\n\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder(){\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n}\r\n```\r\n\r\npom.xml\r\n\r\n```\r\n   \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n            &lt;version&gt;1.7.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springdoc-openapi-security&lt;/artifactId&gt;\r\n            &lt;version&gt;1.7.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\nI added the &#39;springdoc-openapi-security&#39; later because it was not working. However, even after adding it, it is still not working.\r\n\r\nOpenAPI is sending an HTTP 403 error for all requests. The URL is http://localhost:9090/swagger-ui.html.\r\n\r\n**Edit***\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\r\n            &lt;version&gt;2.1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\nOpen API new version. This is the version supported by Spring Boot 3.0. When I changed it, everything was fixed.","title":"Spring Security 6 - OpenApi return HTTP ERROR 403 *Fixed","body":"<p>I have just started learning Spring Security. I can access it with Postman, but I can't reach it with OpenApi. What could be the issue? It was working before I updated and added Security.\n<strong>Spring Boot vers 3.0.6</strong>\n<strong>Spring Security vers 6</strong>.\nHere is my code:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfig {\n    @Bean\n    public UserDetailsService userDetailsService(PasswordEncoder encoder){\n        UserDetails admin = User.withUsername(&quot;msg&quot;)\n                .password(encoder.encode(&quot;123&quot;))\n                .roles(&quot;ADMIN&quot;, &quot;USER&quot;)\n                .build();\n        UserDetails user = User.withUsername(&quot;user&quot;)\n                .password(encoder.encode(&quot;123&quot;))\n                .roles(&quot;USER&quot;)\n                .build();\n        return new InMemoryUserDetailsManager(admin, user);\n    }\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception{\n        return http.httpBasic()\n                .and()\n                .authorizeHttpRequests()\n                .requestMatchers(&quot;/v3/api-docs/**&quot;, &quot;/swagger-ui/**&quot;, &quot;/swagger-ui.html&quot;).permitAll()\n                //.requestMatchers(&quot;/users&quot;).authenticated()\n                .requestMatchers(HttpMethod.POST,&quot;/users/**&quot;).hasRole(&quot;USER&quot;)\n                .requestMatchers(&quot;/users/**&quot;).hasRole(&quot;ADMIN&quot;)\n                .and()\n                .csrf().disable()\n                .formLogin().disable()\n                .build();\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder(){\n        return new BCryptPasswordEncoder();\n    }\n}\n</code></pre>\n<p>pom.xml</p>\n<pre><code>   \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n            &lt;version&gt;1.7.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-security&lt;/artifactId&gt;\n            &lt;version&gt;1.7.0&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>I added the 'springdoc-openapi-security' later because it was not working. However, even after adding it, it is still not working.</p>\n<p>OpenAPI is sending an HTTP 403 error for all requests. The URL is http://localhost:9090/swagger-ui.html.</p>\n<p><strong>Edit</strong>*</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\n            &lt;version&gt;2.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Open API new version. This is the version supported by Spring Boot 3.0. When I changed it, everything was fixed.</p>\n"},{"tags":["java","birt","birt-emitter"],"answers":[{"comments":[{"owner":{"account_id":27601754,"reputation":1,"user_id":21066841,"display_name":"Kiran Kadam"},"score":0,"creation_date":1683787276,"post_id":76215689,"comment_id":134420636,"body_markdown":"Thank you for your response @hvb, I have edited my question to add more details.","body":"Thank you for your response @hvb, I have edited my question to add more details."}],"tags":[],"owner":{"account_id":3349759,"reputation":2483,"user_id":2814025,"display_name":"hvb"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683701936,"creation_date":1683701936,"answer_id":76215689,"question_id":76208475,"body_markdown":"Maybe that was a bug in BIRT 2.5.x.\r\n\r\nMaster pages work as expected since at least BIRT 3.7.1.\r\n\r\nIf you want different master pages, then you need to explicitly assign the master pages to some layout container objects where you want to switch the master pages (I recommend to explicitly specify the master page for the very first layout object, too).\r\nIf the master page property changes, BIRT will issue a page break and switch to the new master page.","title":"Birt migration from 2.5.2 to 4.9.0(Master page repeating in header on all pages)","body":"<p>Maybe that was a bug in BIRT 2.5.x.</p>\n<p>Master pages work as expected since at least BIRT 3.7.1.</p>\n<p>If you want different master pages, then you need to explicitly assign the master pages to some layout container objects where you want to switch the master pages (I recommend to explicitly specify the master page for the very first layout object, too).\nIf the master page property changes, BIRT will issue a page break and switch to the new master page.</p>\n"}],"owner":{"account_id":27601754,"reputation":1,"user_id":21066841,"display_name":"Kiran Kadam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683786608,"creation_date":1683629014,"question_id":76208475,"body_markdown":"Trying to create a report with two different master pages. The expectation is that the First one will be applied on very first page. And second one will be applied from second page and repeat till end of all pages. \r\n\r\nBut we are having issue mentioned in the title.\r\n\r\nTried resetting repeatHeader and pageBreakInterval properties and also tried resetting master pages.\r\n\r\nFollowing is the sample report design layout, as you can see we are having two tables with two different master pages still the first one gets repeated over all the pages.\r\nAny suggestion what we are missing here.\r\n\r\n\r\n    ================== Master pages =======================\r\n    &lt;page-setup&gt;\r\n    **&lt;simple-master-page name=&quot;FirstMasterPage&quot; id=&quot;2&quot;&gt;**\r\n    &lt;property name=&quot;orientation&quot;&gt;portrait&lt;/property&gt;\r\n    &lt;property name=&quot;showHeaderOnFirst&quot;&gt;true&lt;/property&gt;\r\n    &lt;property name=&quot;showFooterOnLast&quot;&gt;true&lt;/property&gt;\r\n    &lt;page-header&gt;\r\n    &lt;label id=&quot;171&quot;&gt;\r\n    &lt;property name=&quot;fontSize&quot;&gt;14pt&lt;/property&gt;\r\n    &lt;property name=&quot;textAlign&quot;&gt;center&lt;/property&gt;\r\n    &lt;text-property name=&quot;text&quot;&gt;Portrait&lt;/text-property&gt;\r\n    &lt;/label&gt;\r\n    &lt;/page-header&gt;\r\n    &lt;/simple-master-page&gt;\r\n    **&lt;simple-master-page name=&quot;SecondMasterPage&quot; id=&quot;8&quot;&gt;**\r\n    &lt;property name=&quot;orientation&quot;&gt;landscape&lt;/property&gt;\r\n    &lt;page-header&gt;\r\n    &lt;label id=&quot;172&quot;&gt;\r\n    &lt;property name=&quot;fontSize&quot;&gt;12pt&lt;/property&gt;\r\n    &lt;property name=&quot;textAlign&quot;&gt;center&lt;/property&gt;\r\n    &lt;text-property name=&quot;text&quot;&gt;Landscape&lt;/text-property&gt;\r\n    &lt;/label&gt;\r\n    &lt;/page-header&gt;\r\n    &lt;/simple-master-page&gt;\r\n    &lt;/page-setup&gt;\r\n    \r\n    ================== Table ======================= \r\n    &lt;body&gt;\r\n    &lt;table name=&quot;myTableFirst&quot; id=&quot;173&quot;&gt;\r\n    **&lt;property name=&quot;masterPage&quot;&gt;FirstMasterPage&lt;/property&gt;**\r\n    &lt;property name=&quot;pageBreakAfter&quot;&gt;always&lt;/property&gt;\r\n    &lt;property name=&quot;pageBreakBefore&quot;&gt;auto&lt;/property&gt;\r\n    &lt;property name=&quot;repeatHeader&quot;&gt;false&lt;/property&gt;\r\n    &lt;property name=&quot;pageBreakInterval&quot;&gt;0&lt;/property&gt;\r\n    \r\n    // some column details\r\n    &lt;/table&gt;\r\n    \r\n    **&lt;table name=&quot;myTable&quot; id=&quot;217&quot;&gt;\r\n    **&lt;property name=&quot;masterPage&quot;&gt;SecondMasterPage&lt;/property&gt;**\r\n    &lt;property name=&quot;pageBreakAfter&quot;&gt;always&lt;/property&gt;\r\n    &lt;property name=&quot;pageBreakBefore&quot;&gt;auto&lt;/property&gt;\r\n    &lt;property name=&quot;repeatHeader&quot;&gt;true&lt;/property&gt;\r\n    &lt;property name=&quot;pageBreakInterval&quot;&gt;40&lt;/property&gt;**\r\n    \r\n    // some column details\r\n    &lt;/table&gt;\r\n\r\n    \r\n**Following dependencies are used for the Birt report**\r\n    \r\n    org.eclipse.birt.runtime_4.9.0-20220315\r\n    org.eclipse.equinox.common_3.10.0.v20180412-1130\r\n    org.eclipse.equinox.registry_3.8.0.v20180426-1327\r\n    org.eclipse.core.runtime_3.14.0.v20180417-0825\r\n    org.eclipse.osgi --&gt; 3.10.2.v20150203-1939\r\n    org.eclipse.datatools.connectivity.oda_3.6.1.201712071719\r\n    org.mozilla.javascript_1.7.5.v201504281450\r\n    org.apache.batik.css_1.7.0.v201011041433\r\n    org.apache.batik.util_1.7.0.v201011041433\r\n    com.lowagie.itext\r\n    org.osgi.service.prefs\r\n\r\nAny help would be highly appreciated..\r\nThanks","title":"Birt migration from 2.5.2 to 4.9.0(Master page repeating in header on all pages)","body":"<p>Trying to create a report with two different master pages. The expectation is that the First one will be applied on very first page. And second one will be applied from second page and repeat till end of all pages.</p>\n<p>But we are having issue mentioned in the title.</p>\n<p>Tried resetting repeatHeader and pageBreakInterval properties and also tried resetting master pages.</p>\n<p>Following is the sample report design layout, as you can see we are having two tables with two different master pages still the first one gets repeated over all the pages.\nAny suggestion what we are missing here.</p>\n<pre><code>================== Master pages =======================\n&lt;page-setup&gt;\n**&lt;simple-master-page name=&quot;FirstMasterPage&quot; id=&quot;2&quot;&gt;**\n&lt;property name=&quot;orientation&quot;&gt;portrait&lt;/property&gt;\n&lt;property name=&quot;showHeaderOnFirst&quot;&gt;true&lt;/property&gt;\n&lt;property name=&quot;showFooterOnLast&quot;&gt;true&lt;/property&gt;\n&lt;page-header&gt;\n&lt;label id=&quot;171&quot;&gt;\n&lt;property name=&quot;fontSize&quot;&gt;14pt&lt;/property&gt;\n&lt;property name=&quot;textAlign&quot;&gt;center&lt;/property&gt;\n&lt;text-property name=&quot;text&quot;&gt;Portrait&lt;/text-property&gt;\n&lt;/label&gt;\n&lt;/page-header&gt;\n&lt;/simple-master-page&gt;\n**&lt;simple-master-page name=&quot;SecondMasterPage&quot; id=&quot;8&quot;&gt;**\n&lt;property name=&quot;orientation&quot;&gt;landscape&lt;/property&gt;\n&lt;page-header&gt;\n&lt;label id=&quot;172&quot;&gt;\n&lt;property name=&quot;fontSize&quot;&gt;12pt&lt;/property&gt;\n&lt;property name=&quot;textAlign&quot;&gt;center&lt;/property&gt;\n&lt;text-property name=&quot;text&quot;&gt;Landscape&lt;/text-property&gt;\n&lt;/label&gt;\n&lt;/page-header&gt;\n&lt;/simple-master-page&gt;\n&lt;/page-setup&gt;\n\n================== Table ======================= \n&lt;body&gt;\n&lt;table name=&quot;myTableFirst&quot; id=&quot;173&quot;&gt;\n**&lt;property name=&quot;masterPage&quot;&gt;FirstMasterPage&lt;/property&gt;**\n&lt;property name=&quot;pageBreakAfter&quot;&gt;always&lt;/property&gt;\n&lt;property name=&quot;pageBreakBefore&quot;&gt;auto&lt;/property&gt;\n&lt;property name=&quot;repeatHeader&quot;&gt;false&lt;/property&gt;\n&lt;property name=&quot;pageBreakInterval&quot;&gt;0&lt;/property&gt;\n\n// some column details\n&lt;/table&gt;\n\n**&lt;table name=&quot;myTable&quot; id=&quot;217&quot;&gt;\n**&lt;property name=&quot;masterPage&quot;&gt;SecondMasterPage&lt;/property&gt;**\n&lt;property name=&quot;pageBreakAfter&quot;&gt;always&lt;/property&gt;\n&lt;property name=&quot;pageBreakBefore&quot;&gt;auto&lt;/property&gt;\n&lt;property name=&quot;repeatHeader&quot;&gt;true&lt;/property&gt;\n&lt;property name=&quot;pageBreakInterval&quot;&gt;40&lt;/property&gt;**\n\n// some column details\n&lt;/table&gt;\n</code></pre>\n<p><strong>Following dependencies are used for the Birt report</strong></p>\n<pre><code>org.eclipse.birt.runtime_4.9.0-20220315\norg.eclipse.equinox.common_3.10.0.v20180412-1130\norg.eclipse.equinox.registry_3.8.0.v20180426-1327\norg.eclipse.core.runtime_3.14.0.v20180417-0825\norg.eclipse.osgi --&gt; 3.10.2.v20150203-1939\norg.eclipse.datatools.connectivity.oda_3.6.1.201712071719\norg.mozilla.javascript_1.7.5.v201504281450\norg.apache.batik.css_1.7.0.v201011041433\norg.apache.batik.util_1.7.0.v201011041433\ncom.lowagie.itext\norg.osgi.service.prefs\n</code></pre>\n<p>Any help would be highly appreciated..\nThanks</p>\n"},{"tags":["java","jaxb"],"owner":{"account_id":14232409,"reputation":270,"user_id":10281244,"display_name":"Diksha Goyal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":170,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683786599,"creation_date":1683786599,"question_id":76224724,"body_markdown":"I have been trying to unmarshal an XML using JAXB library. The XML is fetched from S3. We have an XSD in place which we are using at multiple place(working fine while marshalling into the same XML). Following is the piece of code:\r\n\r\n```\r\nS3Object xml = s3.getObject();\r\nfinal InputStreamReader streamReader = new InputStreamReader(xml.getObjectContent(), StandardCharsets.UTF_8);\r\nfinal BufferedReader reader = new BufferedReader(streamReader);\r\nJAXBContext jc = JAXBContext.newInstance();\r\nUnmarshaller unmarshaller = jc.createUnmarshaller();\r\nRequest pojo = (Request) unmarshaller.unmarshal(reader);\r\n```\r\n\r\nJaxb v2.3.1 is used.\r\n\r\nStack Trace: \r\n```\r\njavax.xml.bind.UnmarshalException: unexpected element (uri:\\&quot;\\&quot;, local:\\&quot;Request\\&quot;). Expected elements are (none)\\n\\tat com.sun.xml.bind.v2.runtime.unmarshaller.UnmarshallingContext.handleEvent(UnmarshallingContext.java:744)\\n\\tat com.sun.xml.bind.v2.runtime.unmarshaller.Loader.reportError(Loader.java:262)\\n\\tat com.sun.xml.bind.v2.runtime.unmarshaller.Loader.reportError(Loader.java:257)\\n\\tat com.sun.xml.bind.v2.runtime.unmarshaller.Loader.reportUnexpectedChildElement(Loader.java:124)\\n\\tat com.sun.xml.bind.v2.runtime.unmarshaller.UnmarshallingContext$DefaultRootLoader.childElement(UnmarshallingContext.java:1149)\\n\\tat com.sun.xml.bind.v2.runtime.unmarshaller.UnmarshallingContext._startElement(UnmarshallingContext.java:574)\\n\\tat com.sun.xml.bind.v2.runtime.unmarshaller.UnmarshallingContext.startElement(UnmarshallingContext.java:556)\\n\\tat com.sun.xml.bind.v2.runtime.unmarshaller.SAXConnector.startElement(SAXConnector.java:168)\\n\\tat java.xml/com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.startElement(Unknown Source)\\n\\tat java.xml/com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.scanStartElement(Unknown Source)\\n\\tat java.xml/com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl$NSContentDriver.scanRootElementHook(Unknown Source)\\n\\tat java.xml/com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(Unknown Source)\\n\\tat java.xml/com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl$PrologDriver.next(Unknown Source)\\n\\tat java.xml/com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(Unknown Source)\\n\\tat java.xml/com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.next(Unknown Source)\\n\\tat java.xml/com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)\\n\\tat java.xml/com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(Unknown Source)\\n\\tat java.xml/com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(Unknown Source)\\n\\tat java.xml/com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(Unknown Source)\\n\\tat java.xml/com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(Unknown Source)\\n\\tat java.xml/com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)\\n\\tat com.sun.xml.bind.v2.runtime.unmarshaller.UnmarshallerImpl.unmarshal0(UnmarshallerImpl.java:258)\\n\\tat com.sun.xml.bind.v2.runtime.unmarshaller.UnmarshallerImpl.unmarshal(UnmarshallerImpl.java:229)\\n\\tat javax.xml.bind.helpers.AbstractUnmarshallerImpl.unmarshal(AbstractUnmarshallerImpl.java:170)\\n\\tat javax.xml.bind.helpers.AbstractUnmarshallerImpl.unmarshal(AbstractUnmarshallerImpl.java:219)\\n\\tat \r\n```\r\n","title":"javax.xml.bind.UnmarshalException: unexpected element (uri:\\&quot;\\&quot;, local:\\&quot;Request\\&quot;). Expected elements are (none)","body":"<p>I have been trying to unmarshal an XML using JAXB library. The XML is fetched from S3. We have an XSD in place which we are using at multiple place(working fine while marshalling into the same XML). Following is the piece of code:</p>\n<pre><code>S3Object xml = s3.getObject();\nfinal InputStreamReader streamReader = new InputStreamReader(xml.getObjectContent(), StandardCharsets.UTF_8);\nfinal BufferedReader reader = new BufferedReader(streamReader);\nJAXBContext jc = JAXBContext.newInstance();\nUnmarshaller unmarshaller = jc.createUnmarshaller();\nRequest pojo = (Request) unmarshaller.unmarshal(reader);\n</code></pre>\n<p>Jaxb v2.3.1 is used.</p>\n<p>Stack Trace:</p>\n<pre><code>javax.xml.bind.UnmarshalException: unexpected element (uri:\\&quot;\\&quot;, local:\\&quot;Request\\&quot;). Expected elements are (none)\\n\\tat com.sun.xml.bind.v2.runtime.unmarshaller.UnmarshallingContext.handleEvent(UnmarshallingContext.java:744)\\n\\tat com.sun.xml.bind.v2.runtime.unmarshaller.Loader.reportError(Loader.java:262)\\n\\tat com.sun.xml.bind.v2.runtime.unmarshaller.Loader.reportError(Loader.java:257)\\n\\tat com.sun.xml.bind.v2.runtime.unmarshaller.Loader.reportUnexpectedChildElement(Loader.java:124)\\n\\tat com.sun.xml.bind.v2.runtime.unmarshaller.UnmarshallingContext$DefaultRootLoader.childElement(UnmarshallingContext.java:1149)\\n\\tat com.sun.xml.bind.v2.runtime.unmarshaller.UnmarshallingContext._startElement(UnmarshallingContext.java:574)\\n\\tat com.sun.xml.bind.v2.runtime.unmarshaller.UnmarshallingContext.startElement(UnmarshallingContext.java:556)\\n\\tat com.sun.xml.bind.v2.runtime.unmarshaller.SAXConnector.startElement(SAXConnector.java:168)\\n\\tat java.xml/com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.startElement(Unknown Source)\\n\\tat java.xml/com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.scanStartElement(Unknown Source)\\n\\tat java.xml/com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl$NSContentDriver.scanRootElementHook(Unknown Source)\\n\\tat java.xml/com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(Unknown Source)\\n\\tat java.xml/com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl$PrologDriver.next(Unknown Source)\\n\\tat java.xml/com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(Unknown Source)\\n\\tat java.xml/com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.next(Unknown Source)\\n\\tat java.xml/com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)\\n\\tat java.xml/com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(Unknown Source)\\n\\tat java.xml/com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(Unknown Source)\\n\\tat java.xml/com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(Unknown Source)\\n\\tat java.xml/com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(Unknown Source)\\n\\tat java.xml/com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)\\n\\tat com.sun.xml.bind.v2.runtime.unmarshaller.UnmarshallerImpl.unmarshal0(UnmarshallerImpl.java:258)\\n\\tat com.sun.xml.bind.v2.runtime.unmarshaller.UnmarshallerImpl.unmarshal(UnmarshallerImpl.java:229)\\n\\tat javax.xml.bind.helpers.AbstractUnmarshallerImpl.unmarshal(AbstractUnmarshallerImpl.java:170)\\n\\tat javax.xml.bind.helpers.AbstractUnmarshallerImpl.unmarshal(AbstractUnmarshallerImpl.java:219)\\n\\tat \n</code></pre>\n"},{"tags":["java","while-loop","final"],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683786525,"creation_date":1683785738,"answer_id":76224649,"question_id":76224542,"body_markdown":"While in both cases the variables are `final`, the variables in the second case are also [*constant variables*][1]:\r\n\r\n&gt; A constant variable is a final variable of primitive type or type String that is initialized with a constant expression ([&#167;15.29][2]). Whether a variable is a constant variable or not may have implications with respect to [...] reachability (&#167;14.22) [...].\r\n\r\nThe variables in the first case are not constant variables, because they are not initialised. They are assigned in the next statement. Note that final variables don&#39;t have to be initialised = they just need to be [definitely assigned][3].\r\n\r\nThis makes `a &lt;= b` in the second code a [*constant expression*][2], with the constant value `true`. And this affects whether a statement is *reachable*. See the relevant quotes in [this section][4].\r\n\r\n&gt; It is a compile-time error if a statement cannot be executed because\r\n&gt; it is unreachable.\r\n&gt; \r\n&gt; The first statement in a non-empty block that is not a switch block is reachable iff the block is reachable.\r\n&gt;\r\n&gt; Every other statement S in a non-empty block that is not a switch\r\n&gt; block is reachable iff the statement preceding S can complete\r\n&gt; normally.\r\n&gt; \r\n&gt; - A while statement can complete normally iff at least one of the following is true:\r\n&gt; \r\n&gt;     - The while statement is reachable and the condition expression is not a constant expression (&#167;15.29) with value true.\r\n&gt; \r\n&gt;     - There is a reachable `break` statement that exits the while statement.\r\n\r\nIn this case, since the `while` statement does have a constant `true` condition, and there is no `break`s, the `while` statement cannot complete normally. This causes the statement after the while loop to be unreachable.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-4.html#jls-4.12.4\r\n  [2]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-15.html#jls-15.29\r\n  [3]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-16.html\r\n  [4]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-14.html#jls-14.22","title":"Is there any difference between nested assignment and normal assignment?","body":"<p>While in both cases the variables are <code>final</code>, the variables in the second case are also <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-4.html#jls-4.12.4\" rel=\"nofollow noreferrer\"><em>constant variables</em></a>:</p>\n<blockquote>\n<p>A constant variable is a final variable of primitive type or type String that is initialized with a constant expression (<a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-15.html#jls-15.29\" rel=\"nofollow noreferrer\">§15.29</a>). Whether a variable is a constant variable or not may have implications with respect to [...] reachability (§14.22) [...].</p>\n</blockquote>\n<p>The variables in the first case are not constant variables, because they are not initialised. They are assigned in the next statement. Note that final variables don't have to be initialised = they just need to be <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-16.html\" rel=\"nofollow noreferrer\">definitely assigned</a>.</p>\n<p>This makes <code>a &lt;= b</code> in the second code a <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-15.html#jls-15.29\" rel=\"nofollow noreferrer\"><em>constant expression</em></a>, with the constant value <code>true</code>. And this affects whether a statement is <em>reachable</em>. See the relevant quotes in <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-14.html#jls-14.22\" rel=\"nofollow noreferrer\">this section</a>.</p>\n<blockquote>\n<p>It is a compile-time error if a statement cannot be executed because\nit is unreachable.</p>\n<p>The first statement in a non-empty block that is not a switch block is reachable iff the block is reachable.</p>\n<p>Every other statement S in a non-empty block that is not a switch\nblock is reachable iff the statement preceding S can complete\nnormally.</p>\n<ul>\n<li><p>A while statement can complete normally iff at least one of the following is true:</p>\n<ul>\n<li><p>The while statement is reachable and the condition expression is not a constant expression (§15.29) with value true.</p>\n</li>\n<li><p>There is a reachable <code>break</code> statement that exits the while statement.</p>\n</li>\n</ul>\n</li>\n</ul>\n</blockquote>\n<p>In this case, since the <code>while</code> statement does have a constant <code>true</code> condition, and there is no <code>break</code>s, the <code>while</code> statement cannot complete normally. This causes the statement after the while loop to be unreachable.</p>\n"},{"comments":[{"owner":{"account_id":4354234,"reputation":845,"user_id":3553434,"display_name":"alalalala"},"score":0,"creation_date":1683786695,"post_id":76224703,"comment_id":134420524,"body_markdown":"m1 and m2,Just to compare the results of `final int a, b;` and `int a, b;`, to prove that, without initialization, `final int` and `int` behave the same (at least it seems so)","body":"m1 and m2,Just to compare the results of <code>final int a, b;</code> and <code>int a, b;</code>, to prove that, without initialization, <code>final int</code> and <code>int</code> behave the same (at least it seems so)"}],"tags":[],"owner":{"account_id":4354234,"reputation":845,"user_id":3553434,"display_name":"alalalala"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683786589,"creation_date":1683786396,"answer_id":76224703,"question_id":76224542,"body_markdown":" I explain this phenomenon in an unprofessional way, the test class is as follows:\r\n\r\n    package com;                                                                                                       \r\n                                                                                                                       \r\n    public class Assignment {                                                                                          \r\n        public static void main(String[] args) { }                                                                           \r\n        public int m1() {                                                           \r\n            final int a, b;                                                         \r\n            a = b = 10;                                                             \r\n            return a + b;                                                                                              \r\n        }                                                                           \r\n        public int m2() {                                                           \r\n            int a, b;                                                               \r\n            a = b = 10;                                                             \r\n            return a + b;                                                                                              \r\n        }                                                                                                              \r\n        public int m3() {                                                           \r\n            final int a = 10;                                                                                          \r\n            final int b = 10;                                                       \r\n            return a + b;                                                           \r\n        }                                                                           \r\n    }\r\n\r\nAfter compiling with javac, the result of decompiling with javap is as follows：\r\n\r\n    Compiled from &quot;Assignment.java&quot;\r\n    public class com.Assignment {\r\n      public com.Assignment();\r\n        Code:\r\n           0: aload_0\r\n           1: invokespecial #1                  // Method java/lang/Object.&quot;&lt;init&gt;&quot;:()V\r\n           4: return\r\n    \r\n      public static void main(java.lang.String[]);\r\n        Code:\r\n           0: return\r\n    \r\n      public int m1();\r\n        Code:\r\n           0: bipush        10\r\n           2: dup\r\n           3: istore_2\r\n           4: istore_1\r\n           5: iload_1\r\n           6: iload_2\r\n           7: iadd\r\n           8: ireturn\r\n    \r\n      public int m2();\r\n        Code:\r\n           0: bipush        10\r\n           2: dup\r\n           3: istore_2\r\n           4: istore_1\r\n           5: iload_1\r\n           6: iload_2\r\n           7: iadd\r\n           8: ireturn\r\n    \r\n      public int m3();\r\n        Code:\r\n           0: bipush        20\r\n           2: ireturn\r\n    }\r\n\r\nPay attention to m3, the value of return is directly replaced with 20！\r\n\r\nBoth m1 and m2 are calculated, that is, the specific values ​​are not known until the running phase. \r\n\r\nSo...., the next conclusion can be drawn，The value in m3 can actually be determined during the compilation phase. If you put it in while as a condition, then you can know the result during the compilation phase.","title":"Is there any difference between nested assignment and normal assignment?","body":"<p>I explain this phenomenon in an unprofessional way, the test class is as follows:</p>\n<pre><code>package com;                                                                                                       \n                                                                                                                   \npublic class Assignment {                                                                                          \n    public static void main(String[] args) { }                                                                           \n    public int m1() {                                                           \n        final int a, b;                                                         \n        a = b = 10;                                                             \n        return a + b;                                                                                              \n    }                                                                           \n    public int m2() {                                                           \n        int a, b;                                                               \n        a = b = 10;                                                             \n        return a + b;                                                                                              \n    }                                                                                                              \n    public int m3() {                                                           \n        final int a = 10;                                                                                          \n        final int b = 10;                                                       \n        return a + b;                                                           \n    }                                                                           \n}\n</code></pre>\n<p>After compiling with javac, the result of decompiling with javap is as follows：</p>\n<pre><code>Compiled from &quot;Assignment.java&quot;\npublic class com.Assignment {\n  public com.Assignment();\n    Code:\n       0: aload_0\n       1: invokespecial #1                  // Method java/lang/Object.&quot;&lt;init&gt;&quot;:()V\n       4: return\n\n  public static void main(java.lang.String[]);\n    Code:\n       0: return\n\n  public int m1();\n    Code:\n       0: bipush        10\n       2: dup\n       3: istore_2\n       4: istore_1\n       5: iload_1\n       6: iload_2\n       7: iadd\n       8: ireturn\n\n  public int m2();\n    Code:\n       0: bipush        10\n       2: dup\n       3: istore_2\n       4: istore_1\n       5: iload_1\n       6: iload_2\n       7: iadd\n       8: ireturn\n\n  public int m3();\n    Code:\n       0: bipush        20\n       2: ireturn\n}\n</code></pre>\n<p>Pay attention to m3, the value of return is directly replaced with 20！</p>\n<p>Both m1 and m2 are calculated, that is, the specific values ​​are not known until the running phase.</p>\n<p>So...., the next conclusion can be drawn，The value in m3 can actually be determined during the compilation phase. If you put it in while as a condition, then you can know the result during the compilation phase.</p>\n"}],"owner":{"account_id":28271325,"reputation":19,"user_id":21614464,"display_name":"bharath Reddy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1683786589,"creation_date":1683784776,"question_id":76224542,"body_markdown":"I have a code\r\n\r\n\tfinal int a, b;\r\n\ta = b = 10;\r\n\r\n\twhile (a &lt;= b) {\r\n\t\tSystem.out.println(&quot;this is in while loop&quot;);\r\n\t}\r\n\tSystem.out.println(&quot;this is out of while loop&quot;);\r\n\r\nin this case my while block is executing infinite times.\r\n\r\nIn have another code\r\n\r\n\tfinal int a=10;\r\n\tfinal int b = 10;\r\n\r\n\twhile (a &lt;= b) {\r\n\t\tSystem.out.println(&quot;this is in while loop&quot;);\r\n\t}\r\n\tSystem.out.println(&quot;this is out of while loop&quot;);\r\n\r\nin this case i am getting compilation error mentioning unreachable code for the statement outside while loop\r\n\r\neven though they are final variables.I tried to reassign the values for variables a and b respectively in both cases,But i could not re -assign the values in both cases as it is final variable.\r\nbut in the first case i mentioned they are not considering as constants that is the reason loop is repeating.","title":"Is there any difference between nested assignment and normal assignment?","body":"<p>I have a code</p>\n<pre><code>final int a, b;\na = b = 10;\n\nwhile (a &lt;= b) {\n    System.out.println(&quot;this is in while loop&quot;);\n}\nSystem.out.println(&quot;this is out of while loop&quot;);\n</code></pre>\n<p>in this case my while block is executing infinite times.</p>\n<p>In have another code</p>\n<pre><code>final int a=10;\nfinal int b = 10;\n\nwhile (a &lt;= b) {\n    System.out.println(&quot;this is in while loop&quot;);\n}\nSystem.out.println(&quot;this is out of while loop&quot;);\n</code></pre>\n<p>in this case i am getting compilation error mentioning unreachable code for the statement outside while loop</p>\n<p>even though they are final variables.I tried to reassign the values for variables a and b respectively in both cases,But i could not re -assign the values in both cases as it is final variable.\nbut in the first case i mentioned they are not considering as constants that is the reason loop is repeating.</p>\n"},{"tags":["java","java-8","reactive-programming","reactive","spring-data-r2dbc"],"answers":[{"comments":[{"owner":{"account_id":25836931,"reputation":25,"user_id":19573182,"display_name":"Sujoy"},"score":0,"creation_date":1683629016,"post_id":76208139,"comment_id":134392533,"body_markdown":"Thank a lot for replying  back ...  can you please explain Flux.fromIterable(whatever.getWhatever()) by &quot;getWhatever()&quot; what do you mean?","body":"Thank a lot for replying  back ...  can you please explain Flux.fromIterable(whatever.getWhatever()) by &quot;getWhatever()&quot; what do you mean?"},{"owner":{"account_id":5523754,"reputation":19832,"user_id":4385913,"accept_rate":93,"display_name":"Skizo-ozᴉʞS ツ"},"score":0,"creation_date":1683637395,"post_id":76208139,"comment_id":134394537,"body_markdown":"In case you want to flattern the thing you have inside `Project`you&#39;ll need to do the `flatMap` otherwise just use `.values()`","body":"In case you want to flattern the thing you have inside <code>Project</code>you&#39;ll need to do the <code>flatMap</code> otherwise just use <code>.values()</code>"},{"owner":{"account_id":25836931,"reputation":25,"user_id":19573182,"display_name":"Sujoy"},"score":0,"creation_date":1683646022,"post_id":76208139,"comment_id":134396824,"body_markdown":"if I use .values () only (as i do not want to flatten the Project) this will return me back Collection&lt;Project&gt; not the flux &lt;Project&gt; is not it? am I missing something? @Skizo-ozᴉʞS","body":"if I use .values () only (as i do not want to flatten the Project) this will return me back Collection&lt;Project&gt; not the flux &lt;Project&gt; is not it? am I missing something? @Skizo-ozᴉʞS"},{"owner":{"account_id":25836931,"reputation":25,"user_id":19573182,"display_name":"Sujoy"},"score":0,"creation_date":1683690235,"post_id":76208139,"comment_id":134403548,"body_markdown":"my problem is not to flaten the project object , my issue is I have Mono&lt;Map&lt;Integer , Project&gt;&gt; object which I want to convert into flux&lt;project&gt; format.","body":"my problem is not to flaten the project object , my issue is I have Mono&lt;Map&lt;Integer , Project&gt;&gt; object which I want to convert into flux&lt;project&gt; format."},{"owner":{"account_id":5523754,"reputation":19832,"user_id":4385913,"accept_rate":93,"display_name":"Skizo-ozᴉʞS ツ"},"score":0,"creation_date":1683785962,"post_id":76208139,"comment_id":134420401,"body_markdown":"@Sujoy can you try my edit?","body":"@Sujoy can you try my edit?"}],"tags":[],"owner":{"account_id":5523754,"reputation":19832,"user_id":4385913,"accept_rate":93,"display_name":"Skizo-ozᴉʞS ツ"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683785956,"creation_date":1683626691,"answer_id":76208139,"question_id":76208061,"body_markdown":"Have you tried [`flatMapMany`](https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#flatMapMany-java.util.function.Function-)?\r\n\r\nIn your code should look like this \r\n\r\n```\r\nFlux&lt;Project&gt; projectFluxReturn = result.toStream()\r\n        .collect(Collectors.toMap(Project::getProjectId, Function.identity(), (project1, project2) -&gt; {\r\n            project1.getTaskList().addAll(project2.getTaskList());\r\n            project2.getTaskList().clear();\r\n            return project1;\r\n        }))\r\n        .values()\r\n        .stream()\r\n        //in case you want to flattern the list use .flatMap\r\n        .flatMap(whatever -&gt; Flux.fromIterable(whatever.getWhatever()));\r\n```\r\n\r\nEdit\r\n----\r\n\r\n```\r\nMono&lt;Map&lt;Integer, Project&gt;&gt; monoMap = result.toStream();\r\nFlux&lt;Project&gt; fluxProject = monoMap.flatMapMany(map -&gt; Flux.fromIterable(map.values()));\r\n\r\n```\r\n\r\n","title":"mono of map to flux conversion","body":"<p>Have you tried <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#flatMapMany-java.util.function.Function-\" rel=\"nofollow noreferrer\"><code>flatMapMany</code></a>?</p>\n<p>In your code should look like this</p>\n<pre><code>Flux&lt;Project&gt; projectFluxReturn = result.toStream()\n        .collect(Collectors.toMap(Project::getProjectId, Function.identity(), (project1, project2) -&gt; {\n            project1.getTaskList().addAll(project2.getTaskList());\n            project2.getTaskList().clear();\n            return project1;\n        }))\n        .values()\n        .stream()\n        //in case you want to flattern the list use .flatMap\n        .flatMap(whatever -&gt; Flux.fromIterable(whatever.getWhatever()));\n</code></pre>\n<h2>Edit</h2>\n<pre><code>Mono&lt;Map&lt;Integer, Project&gt;&gt; monoMap = result.toStream();\nFlux&lt;Project&gt; fluxProject = monoMap.flatMapMany(map -&gt; Flux.fromIterable(map.values()));\n\n</code></pre>\n"}],"owner":{"account_id":25836931,"reputation":25,"user_id":19573182,"display_name":"Sujoy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683785956,"creation_date":1683626232,"question_id":76208061,"body_markdown":"I want to convert a Mono of map to flux . can anyone help me on that please?\r\n\r\nThe object that I have is something like \r\n\r\n`Mono&lt;Map&lt;Integer , Project&gt;&gt;` \r\n\r\nwhere map key is the project key \r\n\r\nFrom this mono I want to construct a flux of project which is something like\r\n\r\n`flux&lt;project&gt;` \r\n\r\nas map key is the project id which is present in the project object, we can ignore that. \r\n\r\nI try something like this but that did not work I also do not want to use type conversion directly. \r\n\r\n\r\n```\r\n     Flux&lt;Project&gt; projectFluxReturn = (Flux&lt;Project&gt;) result.toStream().collect(\r\n                Collectors.toMap(Project::getProjectId, Function.identity(), (Project project1, Project project2) -&gt; {\r\n                    project1.getTaskList().addAll(project2.getTaskList());\r\n                    project2.getTaskList().clear();\r\n                    return project1;\r\n                })\r\n        )\r\n                .values();\r\n```\r\n","title":"mono of map to flux conversion","body":"<p>I want to convert a Mono of map to flux . can anyone help me on that please?</p>\n<p>The object that I have is something like</p>\n<p><code>Mono&lt;Map&lt;Integer , Project&gt;&gt;</code></p>\n<p>where map key is the project key</p>\n<p>From this mono I want to construct a flux of project which is something like</p>\n<p><code>flux&lt;project&gt;</code></p>\n<p>as map key is the project id which is present in the project object, we can ignore that.</p>\n<p>I try something like this but that did not work I also do not want to use type conversion directly.</p>\n<pre><code>     Flux&lt;Project&gt; projectFluxReturn = (Flux&lt;Project&gt;) result.toStream().collect(\n                Collectors.toMap(Project::getProjectId, Function.identity(), (Project project1, Project project2) -&gt; {\n                    project1.getTaskList().addAll(project2.getTaskList());\n                    project2.getTaskList().clear();\n                    return project1;\n                })\n        )\n                .values();\n</code></pre>\n"},{"tags":["java"],"answers":[{"comments":[{"owner":{"account_id":928397,"reputation":4113,"user_id":958712,"accept_rate":59,"display_name":"shawn"},"score":0,"creation_date":1338952085,"post_id":10895993,"comment_id":14223101,"body_markdown":"So even though half my program(some libraries I&#39;m using) are compiled using 1.6 and the other half compiled in 1.7, it will still work?","body":"So even though half my program(some libraries I&#39;m using) are compiled using 1.6 and the other half compiled in 1.7, it will still work?"},{"owner":{"account_id":968470,"reputation":5711,"user_id":991479,"display_name":"Ewald"},"score":2,"creation_date":1338970294,"post_id":10895993,"comment_id":14227148,"body_markdown":"If you run it in a Java 7 runtime, yes. There&#39;s no reason for it not to work.","body":"If you run it in a Java 7 runtime, yes. There&#39;s no reason for it not to work."},{"owner":{"account_id":1702346,"reputation":1335,"user_id":1562071,"accept_rate":74,"display_name":"Abi"},"score":0,"creation_date":1360720868,"post_id":10895993,"comment_id":20804908,"body_markdown":"this may sound silly but I need a clarification, in this case programs developed using jdk 1.7 will not run in jre 5 jre 6 etc ? in that case whenever I want to the users to run my application I have to tell them to upgrade to java 7?","body":"this may sound silly but I need a clarification, in this case programs developed using jdk 1.7 will not run in jre 5 jre 6 etc ? in that case whenever I want to the users to run my application I have to tell them to upgrade to java 7?"},{"owner":{"account_id":968470,"reputation":5711,"user_id":991479,"display_name":"Ewald"},"score":1,"creation_date":1360759983,"post_id":10895993,"comment_id":20818963,"body_markdown":"If you develop with JDK 7, and compile the application as a JDK 7 application, then, no, it won&#39;t work on an older runtime. There are a number of reasons to ask users to please upgrade to the latest runtime, primarily security reasons, but also some performance issues.  I&#39;d go for Java 7 if I can, there&#39;s little point in supporting older versions unless you really have to.","body":"If you develop with JDK 7, and compile the application as a JDK 7 application, then, no, it won&#39;t work on an older runtime. There are a number of reasons to ask users to please upgrade to the latest runtime, primarily security reasons, but also some performance issues.  I&#39;d go for Java 7 if I can, there&#39;s little point in supporting older versions unless you really have to."},{"owner":{"account_id":134302,"reputation":1272,"user_id":336336,"accept_rate":86,"display_name":"NeDark"},"score":1,"creation_date":1424288674,"post_id":10895993,"comment_id":45491476,"body_markdown":"-1 MagicDraw doesnt work on newer versions of Java, even the comanpany made a tutorial for downgrading http://www.nomagic.com/files/Java%20downgrade%20tutorial.pdf","body":"-1 MagicDraw doesnt work on newer versions of Java, even the comanpany made a tutorial for downgrading <a href=\"http://www.nomagic.com/files/Java%20downgrade%20tutorial.pdf\" rel=\"nofollow noreferrer\">nomagic.com/files/Java%20downgrade%20tutorial.pdf</a>"},{"owner":{"account_id":968470,"reputation":5711,"user_id":991479,"display_name":"Ewald"},"score":3,"creation_date":1425916914,"post_id":10895993,"comment_id":46147016,"body_markdown":"Did you see the bit about &quot;You can run almost all code from Java 1 on Java 8&quot; ?  There are some small incompatibilities, mostly in esoteric parts of the JVM.  On the whole though, Java still remains very backwards-compatible.","body":"Did you see the bit about &quot;You can run almost all code from Java 1 on Java 8&quot; ?  There are some small incompatibilities, mostly in esoteric parts of the JVM.  On the whole though, Java still remains very backwards-compatible."},{"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1521519100,"post_id":10895993,"comment_id":85753404,"body_markdown":"And this might not be so true for Java8 to Java9 migration I guess. There are things backward incompatible in there for that change. Preferably [this](https://stackoverflow.com/a/28605204/1746118) answers better.","body":"And this might not be so true for Java8 to Java9 migration I guess. There are things backward incompatible in there for that change. Preferably <a href=\"https://stackoverflow.com/a/28605204/1746118\">this</a> answers better."},{"owner":{"account_id":5483053,"reputation":406,"user_id":4358787,"display_name":"Gaurav"},"score":0,"creation_date":1574160331,"post_id":10895993,"comment_id":104123619,"body_markdown":"What if one does not use any jdk8 features, compile 1.8 and target 1.8. Will it work?","body":"What if one does not use any jdk8 features, compile 1.8 and target 1.8. Will it work?"},{"owner":{"account_id":968470,"reputation":5711,"user_id":991479,"display_name":"Ewald"},"score":6,"creation_date":1594364280,"post_id":10895993,"comment_id":111105202,"body_markdown":"Around 8 years later and this is, sadly, no longer true.  I&#39;m having lots of issues with Java14 and older Java apps that relied on features that have now been removed from the Java Runtime.  For standard code, yes, it still works, but there are a few enterprise libraries that you can no longer rely on having present. Likewise with JavaFX. Pity, this forced us at work to look at moving away from Java to Rust.","body":"Around 8 years later and this is, sadly, no longer true.  I&#39;m having lots of issues with Java14 and older Java apps that relied on features that have now been removed from the Java Runtime.  For standard code, yes, it still works, but there are a few enterprise libraries that you can no longer rely on having present. Likewise with JavaFX. Pity, this forced us at work to look at moving away from Java to Rust."},{"owner":{"account_id":295360,"reputation":4149,"user_id":599728,"accept_rate":59,"display_name":"Joan"},"score":0,"creation_date":1683665046,"post_id":10895993,"comment_id":134400926,"body_markdown":"Then why are we getting stuff like https://stackoverflow.com/questions/69814385/exception-in-thread-main-java-lang-illegalaccesserror-class-org-apache-spark ?","body":"Then why are we getting stuff like <a href=\"https://stackoverflow.com/questions/69814385/exception-in-thread-main-java-lang-illegalaccesserror-class-org-apache-spark\" title=\"exception in thread main java lang illegalaccesserror class org apache spark\">stackoverflow.com/questions/69814385/&hellip;</a> ?"},{"owner":{"account_id":104440,"reputation":5525,"user_id":279236,"display_name":"jwenting"},"score":1,"creation_date":1683786555,"post_id":10895993,"comment_id":134420498,"body_markdown":"@Joan see Ewald&#39;s comment above. Java 9+ deprecated (and Java 11+ removed) a lot of fluff that was added in the past to turn the standard library into a one size fits all thing, but are better served through external dependencies that can be maintained individually.","body":"@Joan see Ewald&#39;s comment above. Java 9+ deprecated (and Java 11+ removed) a lot of fluff that was added in the past to turn the standard library into a one size fits all thing, but are better served through external dependencies that can be maintained individually."},{"owner":{"account_id":295360,"reputation":4149,"user_id":599728,"accept_rate":59,"display_name":"Joan"},"score":0,"creation_date":1683906964,"post_id":10895993,"comment_id":134443472,"body_markdown":"@jwenting yes, I&#39;m pointing out that this answer is wrong. Thanks for the explanation!","body":"@jwenting yes, I&#39;m pointing out that this answer is wrong. Thanks for the explanation!"}],"tags":[],"owner":{"account_id":968470,"reputation":5711,"user_id":991479,"display_name":"Ewald"},"comment_count":12,"down_vote_count":5,"up_vote_count":105,"is_accepted":true,"score":100,"last_activity_date":1683785876,"creation_date":1338893556,"answer_id":10895993,"question_id":10895969,"body_markdown":"*** UPDATE ***\r\n\r\nSince around 2020, the below answer is sadly no longer accurate. So much has changed in Java over the previous decade and compatibility was sacrificed to move things forward. \r\n\r\nWhile it remains true that most of your code and knowledge transfers to newer versions, there are many exceptions these days, though, in my experience, migrations can sometimes be quite easy.\r\n\r\n*** UPDATE ENDS ***\r\n\r\nYou would not encounter any problems - that&#39;s the magic of Java -it&#39;s backwards compatible.You can run almost all code from Java 1 on Java 8.  There&#39;s no reason why Java 6 code won&#39;t run on a Java 8 Runtime.\r\n\r\nWhat is interesting, is that for applications written in, let&#39;s say, Java 1.4, you even have speed increases when running them on later runtimes. This is because Java is constantly evolving, not just the language known as &quot;Java&quot;, but also the JVM (Java virtual machine). I still have source code from more than 10 years ago that still work, as expected in the latest JVM.\r\n\r\nIf you want to target, let&#39;s say, a Java 5 VM, then you can do that with the Java 8 SDK tools. You can ultimately specify which target VM you wish to support, as long as you bear in mind that a version 5 VM might not support all the features a version 8 VM will.\r\n\r\nI&#39;ve just tested code I wrote in Java 5 against the new Java 8 runtime and everything works as expected, so, even though we have a more powerful language and runtime now, we can continue to use our investments of the past. Just that alone makes Java a great development choice for companies. ","title":"Can newer JRE versions run Java programs compiled with older JDK versions?","body":"<p>*** UPDATE ***</p>\n<p>Since around 2020, the below answer is sadly no longer accurate. So much has changed in Java over the previous decade and compatibility was sacrificed to move things forward.</p>\n<p>While it remains true that most of your code and knowledge transfers to newer versions, there are many exceptions these days, though, in my experience, migrations can sometimes be quite easy.</p>\n<p>*** UPDATE ENDS ***</p>\n<p>You would not encounter any problems - that's the magic of Java -it's backwards compatible.You can run almost all code from Java 1 on Java 8.  There's no reason why Java 6 code won't run on a Java 8 Runtime.</p>\n<p>What is interesting, is that for applications written in, let's say, Java 1.4, you even have speed increases when running them on later runtimes. This is because Java is constantly evolving, not just the language known as &quot;Java&quot;, but also the JVM (Java virtual machine). I still have source code from more than 10 years ago that still work, as expected in the latest JVM.</p>\n<p>If you want to target, let's say, a Java 5 VM, then you can do that with the Java 8 SDK tools. You can ultimately specify which target VM you wish to support, as long as you bear in mind that a version 5 VM might not support all the features a version 8 VM will.</p>\n<p>I've just tested code I wrote in Java 5 against the new Java 8 runtime and everything works as expected, so, even though we have a more powerful language and runtime now, we can continue to use our investments of the past. Just that alone makes Java a great development choice for companies.</p>\n"},{"comments":[{"owner":{"account_id":371546,"reputation":7325,"user_id":720133,"accept_rate":88,"display_name":"dehlen"},"score":12,"creation_date":1426591748,"post_id":28605204,"comment_id":46426165,"body_markdown":"Actually this should be the right answer, since it is NOT completely safe to upgrade to a newer java version.","body":"Actually this should be the right answer, since it is NOT completely safe to upgrade to a newer java version."},{"owner":{"account_id":5483053,"reputation":406,"user_id":4358787,"display_name":"Gaurav"},"score":0,"creation_date":1574160346,"post_id":28605204,"comment_id":104123637,"body_markdown":"What if one does not use any jdk8 features, compile 1.8 and target 1.8. Will it work?","body":"What if one does not use any jdk8 features, compile 1.8 and target 1.8. Will it work?"},{"owner":{"account_id":10694893,"reputation":570,"user_id":7872447,"accept_rate":92,"display_name":"Mark Deven"},"score":0,"creation_date":1640287011,"post_id":28605204,"comment_id":124563684,"body_markdown":"Unclear on what &quot;since&quot; means, Does In java SE 9 since Java SE 8 mean java 8 compiled java programs wont work on 9? What about those after 9?","body":"Unclear on what &quot;since&quot; means, Does In java SE 9 since Java SE 8 mean java 8 compiled java programs wont work on 9? What about those after 9?"},{"owner":{"account_id":104440,"reputation":5525,"user_id":279236,"display_name":"jwenting"},"score":1,"creation_date":1683786690,"post_id":28605204,"comment_id":134420523,"body_markdown":"@MarkDeven From Java 9 onward a lot of old fluff has been removed from the standard library. Code relying on those classes will no longer work unless an external dependency providing those classes is introduced into the classpath. When that&#39;s done, it should once again work (mind that some of those classes do NOT have external equivalents, but those should never have been used directly anyway and always carried warnings to that effect).","body":"@MarkDeven From Java 9 onward a lot of old fluff has been removed from the standard library. Code relying on those classes will no longer work unless an external dependency providing those classes is introduced into the classpath. When that&#39;s done, it should once again work (mind that some of those classes do NOT have external equivalents, but those should never have been used directly anyway and always carried warnings to that effect)."}],"tags":[],"owner":{"account_id":28511,"reputation":7390,"user_id":76237,"display_name":"diginoise"},"comment_count":4,"down_vote_count":0,"up_vote_count":111,"is_accepted":false,"score":111,"last_activity_date":1682431222,"creation_date":1424345337,"answer_id":28605204,"question_id":10895969,"body_markdown":"As answered already you are __mostly__ safe and __most__ products  and 3&lt;sup&gt;rd&lt;/sup&gt; party libraries will simply work. However there **do exist** (not so-) rare **binary incompatibilities**. \r\n\r\nThese incompatibilities happen where the classes compiled using older JDK fail to run in the newer JVM due to **compatibility breaking changes** introduced in the JDK itself (e.g. **class removal**, **class/method visibility reduction**, **method signature changes** or **package changes**) were introduced after the code using JDK has been written and compiled.\r\n\r\nFor Java 9 and earlier:&lt;br/&gt;\r\nOfficial list of Oracle Java incompatibilities:\r\n----------------------------------------------------------------\r\n - [in Java SE 9 since Java SE 8][1]\r\n - [in Java SE 8 since Java SE 7][2] \r\n - [in Java SE 7 since Java SE 6][3] \r\n - [in Java SE 6 since Java SE 5.0][4] \r\n - [in Java SE 5.0 since Java SE 1.4.2][5] \r\n\r\nFor Java 9 and later:&lt;br/&gt;Compatibility tool\r\n------------------\r\nPackaged with **JDK 9 and onwards**, there is [jdeprscan ][6] tool, which verifies the compatibility, lists no longer used APIs within your code and suggests alternatives(!). You can specify the target **JDK version** (works for **JDK 17**, **11**, **9**, **8**, **7** and **6**) and it will list incompatibilities specific to your target version.\r\n\r\n\r\nAdditional comment in case of libraries:\r\n---------------------------------------------------------\r\n\r\nA reasonable rule of thumb is to use latest stable release version of library for the JRE version your software targets. Obviously you will find many  exceptions from this rule, but in general stability of publicly available libraries **usually** increases with time. \r\n\r\nNaturally **API compatibility** and **versioning** have to be considered when changing versions of dependencies.\r\n\r\n\r\nAgain most popular dependencies will have web pages where such information should be available. \r\n\r\nIf however you are using something a bit more obscure, you can discern which JRE were the classes within your dependency compiled for. \r\n\r\n[Here is a great answer on how to find out class version][7]. You might need to unzip the JAR file first.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/9/migrate/toc.htm#JSMIG-GUID-F7696E02-A1FB-4D5A-B1F2-89E7007D4096\r\n  [2]: http://www.oracle.com/technetwork/java/javase/8-compatibility-guide-2156366.html#A999198\r\n  [3]: http://www.oracle.com/technetwork/java/javase/compatibility-417013.html#incompatibilities &quot;official list of incompatibilities&quot;\r\n  [4]: http://www.oracle.com/technetwork/java/javase/compatibility-137541.html#incompatibilities\r\n  [5]: http://www.oracle.com/technetwork/java/javase/compatibility-137462.html#incompatibilities\r\n  [6]: https://docs.oracle.com/javase/9/tools/jdeprscan.htm\r\n  [7]: https://stackoverflow.com/a/1096159/76237","title":"Can newer JRE versions run Java programs compiled with older JDK versions?","body":"<p>As answered already you are <strong>mostly</strong> safe and <strong>most</strong> products  and 3<sup>rd</sup> party libraries will simply work. However there <strong>do exist</strong> (not so-) rare <strong>binary incompatibilities</strong>.</p>\n<p>These incompatibilities happen where the classes compiled using older JDK fail to run in the newer JVM due to <strong>compatibility breaking changes</strong> introduced in the JDK itself (e.g. <strong>class removal</strong>, <strong>class/method visibility reduction</strong>, <strong>method signature changes</strong> or <strong>package changes</strong>) were introduced after the code using JDK has been written and compiled.</p>\n<h2>For Java 9 and earlier:<br/>\nOfficial list of Oracle Java incompatibilities:</h2>\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/9/migrate/toc.htm#JSMIG-GUID-F7696E02-A1FB-4D5A-B1F2-89E7007D4096\" rel=\"nofollow noreferrer\">in Java SE 9 since Java SE 8</a></li>\n<li><a href=\"http://www.oracle.com/technetwork/java/javase/8-compatibility-guide-2156366.html#A999198\" rel=\"nofollow noreferrer\">in Java SE 8 since Java SE 7</a></li>\n<li><a href=\"http://www.oracle.com/technetwork/java/javase/compatibility-417013.html#incompatibilities\" rel=\"nofollow noreferrer\" title=\"official list of incompatibilities\">in Java SE 7 since Java SE 6</a></li>\n<li><a href=\"http://www.oracle.com/technetwork/java/javase/compatibility-137541.html#incompatibilities\" rel=\"nofollow noreferrer\">in Java SE 6 since Java SE 5.0</a></li>\n<li><a href=\"http://www.oracle.com/technetwork/java/javase/compatibility-137462.html#incompatibilities\" rel=\"nofollow noreferrer\">in Java SE 5.0 since Java SE 1.4.2</a></li>\n</ul>\n<h2>For Java 9 and later:<br/>Compatibility tool</h2>\n<p>Packaged with <strong>JDK 9 and onwards</strong>, there is <a href=\"https://docs.oracle.com/javase/9/tools/jdeprscan.htm\" rel=\"nofollow noreferrer\">jdeprscan </a> tool, which verifies the compatibility, lists no longer used APIs within your code and suggests alternatives(!). You can specify the target <strong>JDK version</strong> (works for <strong>JDK 17</strong>, <strong>11</strong>, <strong>9</strong>, <strong>8</strong>, <strong>7</strong> and <strong>6</strong>) and it will list incompatibilities specific to your target version.</p>\n<h2>Additional comment in case of libraries:</h2>\n<p>A reasonable rule of thumb is to use latest stable release version of library for the JRE version your software targets. Obviously you will find many  exceptions from this rule, but in general stability of publicly available libraries <strong>usually</strong> increases with time.</p>\n<p>Naturally <strong>API compatibility</strong> and <strong>versioning</strong> have to be considered when changing versions of dependencies.</p>\n<p>Again most popular dependencies will have web pages where such information should be available.</p>\n<p>If however you are using something a bit more obscure, you can discern which JRE were the classes within your dependency compiled for.</p>\n<p><a href=\"https://stackoverflow.com/a/1096159/76237\">Here is a great answer on how to find out class version</a>. You might need to unzip the JAR file first.</p>\n"}],"owner":{"account_id":928397,"reputation":4113,"user_id":958712,"accept_rate":59,"display_name":"shawn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":107253,"favorite_count":0,"down_vote_count":0,"up_vote_count":97,"accepted_answer_id":10895993,"answer_count":2,"score":97,"last_activity_date":1683785876,"creation_date":1338893445,"question_id":10895969,"body_markdown":"Would I encounter any problems running Java programs and associated libraries compiled in Java version 1.6 **and** 1.7 (I&#39;m compiling using 1.7 whereas some libraries are compiled using 1.6) and running the entire program in a 1.7 JRE?","title":"Can newer JRE versions run Java programs compiled with older JDK versions?","body":"<p>Would I encounter any problems running Java programs and associated libraries compiled in Java version 1.6 <strong>and</strong> 1.7 (I'm compiling using 1.7 whereas some libraries are compiled using 1.6) and running the entire program in a 1.7 JRE?</p>\n"},{"tags":["java","android","kotlin","xamarin.forms","maui"],"comments":[{"owner":{"account_id":7631826,"reputation":27,"user_id":5786637,"display_name":"K. Moteluk"},"score":0,"creation_date":1683399988,"post_id":76188745,"comment_id":134362069,"body_markdown":"Found another issue that might link to the solution: \n2&gt;        JAVAC : warning : unknown enum constant Scope.LIBRARY_GROUP_PREFIX\n2&gt;        reason: class file for androidx.annotation.RestrictTo$Scope not found","body":"Found another issue that might link to the solution:  2&gt;        JAVAC : warning : unknown enum constant Scope.LIBRARY_GROUP_PREFIX 2&gt;        reason: class file for androidx.annotation.RestrictTo$Scope not found"},{"owner":{"account_id":18105680,"reputation":623,"user_id":13163025,"display_name":"o_w"},"score":0,"creation_date":1683448296,"post_id":76188745,"comment_id":134365935,"body_markdown":"Check in VS, under Tools -&gt; Android -&gt; Android SDK Manager, if you have the selected version of the OS installed","body":"Check in VS, under Tools -&gt; Android -&gt; Android SDK Manager, if you have the selected version of the OS installed"},{"owner":{"account_id":23390850,"reputation":9996,"user_id":17455524,"display_name":"Liyun Zhang - MSFT"},"score":0,"creation_date":1683696019,"post_id":76188745,"comment_id":134404084,"body_markdown":"Did you try to set the `&lt;TargetFrameworks&gt;net7.0-android&lt;/TargetFrameworks&gt;` as net6.0-android? I have checked the  xamarin.kotlin.stdlib package and found it support .net6.0 not .net7.0.","body":"Did you try to set the <code>&lt;TargetFrameworks&gt;net7.0-android&lt;&#47;TargetFrameworks&gt;</code> as net6.0-android? I have checked the  xamarin.kotlin.stdlib package and found it support .net6.0 not .net7.0."},{"owner":{"account_id":7631826,"reputation":27,"user_id":5786637,"display_name":"K. Moteluk"},"score":0,"creation_date":1683785235,"post_id":76188745,"comment_id":134420276,"body_markdown":"Yeah, going with net6.0 together with implicitly including xamarin.kotlin.stdlib JDK7 for version 1.8.0 solved this issue :)","body":"Yeah, going with net6.0 together with implicitly including xamarin.kotlin.stdlib JDK7 for version 1.8.0 solved this issue :)"}],"answers":[{"tags":[],"owner":{"account_id":7631826,"reputation":27,"user_id":5786637,"display_name":"K. Moteluk"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1683785311,"creation_date":1683785311,"answer_id":76224593,"question_id":76188745,"body_markdown":"Solution that worked for me:\r\n* Downgrading entire solution from net7.0 to net6.0\r\n* Implicitly including xamarin.kotlin.stdlib JDK7 (and JDK8 just in case) for version 1.8.0.","title":"Error in xamarin.kotlin.stdlib ($ReflectSdkVersion is defined multiple times) after migration from Xamarin.Forms","body":"<p>Solution that worked for me:</p>\n<ul>\n<li>Downgrading entire solution from net7.0 to net6.0</li>\n<li>Implicitly including xamarin.kotlin.stdlib JDK7 (and JDK8 just in case) for version 1.8.0.</li>\n</ul>\n"}],"owner":{"account_id":7631826,"reputation":27,"user_id":5786637,"display_name":"K. Moteluk"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":317,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76224593,"answer_count":1,"score":0,"last_activity_date":1683785311,"creation_date":1683374407,"question_id":76188745,"body_markdown":"For last few days i;m fighting with migrating my app from Xamarin.Forms to MAUI.\r\nI solved dozens of errors already but this one - i cannot wrap my head around.\r\n\r\nError:\r\n\r\n    MSBUILD : java.exe error JAVA0000: Error in .nuget\\packages\\xamarin.kotlin.stdlib\\1.8.10\\buildTransitive\\net6.0-android31.0....\\jar\\org.jetbrains.kotlin.kotlin-stdlib-1.8.10.jar:kotlin/internal/jdk7/JDK7PlatformImplementations$ReflectSdkVersion.class:\r\n    MSBUILD : java.exe error JAVA0000: Type kotlin.internal.jdk7.JDK7PlatformImplementations$ReflectSdkVersion is defined multiple times: .nuget\\packages\\xamarin.kotlin.stdlib\\1.8.10\\buildTransitive\\net6.0-android31.0....\\jar\\org.jetbrains.kotlin.kotlin-stdlib-1.8.10.jar:kotlin/internal/jdk7/JDK7PlatformImplementations$ReflectSdkVersion.class, .nuget\\packages\\xamarin.kotlin.stdlib.jdk7\\1.7.20.1\\buildTransitive\\net6.0-android31.0....\\jar\\org.jetbrains.kotlin.kotlin-stdlib-jdk7-1.7.20.jar:kotlin/internal/jdk7/JDK7PlatformImplementations$ReflectSdkVersion.class\r\n    java.exe error JAVA0000: Compilation failed\r\n    java.exe error JAVA0000: java.lang.RuntimeException: com.android.tools.r8.CompilationFailedException: Compilation failed to complete, origin: .nuget\\packages\\xamarin.kotlin.stdlib\\1.8.10\\buildTransitive\\net6.0-android31.0....\\jar\\org.jetbrains.kotlin.kotlin-stdlib-1.8.10.jar\r\n    2&gt;MSBUILD : java.exe error JAVA0000: kotlin/internal/jdk7/JDK7PlatformImplementations$ReflectSdkVersion.class\r\n\r\nFollowed by hundreds of warnings such as:\r\n\r\n    2&gt;JAVAC : warning : unknown enum constant Scope.LIBRARY_GROUP_PREFIX\r\n    2&gt;JAVAC : warning : unknown enum constant Scope.LIBRARY\r\n    2&gt;JAVAC : warning : unknown enum constant Scope.LIBRARY\r\n    2&gt;JAVAC : warning : unknown enum constant Scope.LIBRARY_GROUP_PREFIX\r\n\r\nMy android .csproj Packages (i suspect nugets)\r\n\r\n     &lt;Project Sdk=&quot;Microsoft.NET.Sdk&quot;&gt;\r\n     &lt;PropertyGroup&gt;\r\n     &lt;OutputType&gt;Exe&lt;/OutputType&gt;\r\n     &lt;PublishTrimmed&gt;true&lt;/PublishTrimmed&gt;\r\n     &lt;TrimMode&gt;link&lt;/TrimMode&gt;\r\n     &lt;ImplicitUsings&gt;enable&lt;/ImplicitUsings&gt;\r\n     &lt;UseMaui&gt;true&lt;/UseMaui&gt;\r\n\r\n    &lt;SupportedOSPlatformVersion Condition=&quot;$([MSBuild]::GetTargetPlatformIdentifier(&#39;$(TargetFramework)&#39;)) == &#39;android&#39;&quot;&gt;29.0&lt;/SupportedOSPlatformVersion&gt;\r\n       &lt;/PropertyGroup&gt;\r\n       &lt;PropertyGroup Condition=&quot; &#39;$(Configuration)|$(Platform)&#39; == &#39;Debug|AnyCPU&#39; &quot;&gt;\r\n         &lt;EnableLLVM&gt;true&lt;/EnableLLVM&gt;\r\n         &lt;AndroidEnableProfiledAot&gt;false&lt;/AndroidEnableProfiledAot&gt;\r\n         &lt;EmbedAssembliesIntoApk&gt;true&lt;/EmbedAssembliesIntoApk&gt;\r\n         &lt;!--&lt;AndroidDexTool&gt;d8&lt;/AndroidDexTool&gt;\r\n         &lt;AndroidLinkTool&gt;r8&lt;/AndroidLinkTool&gt;--&gt;\r\n         &lt;AndroidPackageFormat&gt;aab&lt;/AndroidPackageFormat&gt;\r\n         &lt;AndroidCreatePackagePerAbi&gt;false&lt;/AndroidCreatePackagePerAbi&gt;\r\n       &lt;/PropertyGroup&gt;\r\n       &lt;PropertyGroup&gt;\r\n         &lt;TargetFrameworks&gt;net7.0-android&lt;/TargetFrameworks&gt;\r\n       &lt;/PropertyGroup&gt;\r\n       &lt;PropertyGroup Condition=&quot;&#39;$(Configuration)|$(TargetFramework)|$(Platform)&#39;==&#39;Debug|net7.0-android|AnyCPU&#39;&quot;&gt;\r\n         &lt;Optimize&gt;True&lt;/Optimize&gt;\r\n       &lt;/PropertyGroup&gt;\r\n       &lt;PropertyGroup Condition=&quot;&#39;$(Configuration)|$(TargetFramework)|$(Platform)&#39;==&#39;Release|net7.0-android|AnyCPU&#39;&quot; /&gt;\r\n       &lt;ItemGroup&gt;\r\n         &lt;PackageReference Include=&quot;CommunityToolkit.Maui.Markup&quot; Version=&quot;3.1.0&quot; /&gt;\r\n         &lt;PackageReference Include=&quot;FirebaseAuthentication.net&quot;&gt;\r\n           &lt;Version&gt;4.0.2&lt;/Version&gt;\r\n         &lt;/PackageReference&gt;\r\n         &lt;PackageReference Include=&quot;Refractored.MvvmHelpers&quot; Version=&quot;1.6.2&quot; /&gt;\r\n         &lt;PackageReference Include=&quot;sqlite-net-pcl&quot;&gt;\r\n           &lt;Version&gt;1.8.116&lt;/Version&gt;\r\n         &lt;/PackageReference&gt;\r\n         &lt;PackageReference Include=&quot;Xamarin.AndroidX.Annotation&quot; Version=&quot;1.6.0.1&quot; /&gt;\r\n         &lt;PackageReference Include=&quot;Xamarin.AndroidX.RecyclerView&quot;&gt;\r\n           &lt;Version&gt;1.3.0&lt;/Version&gt;\r\n         &lt;/PackageReference&gt;\r\n         &lt;PackageReference Include=&quot;Microsoft.DotNet.UpgradeAssistant.Extensions.Default.Analyzers&quot; Version=&quot;0.4.421302&quot;&gt;\r\n          &lt;PrivateAssets&gt;all&lt;/PrivateAssets&gt;\r\n         &lt;/PackageReference&gt;\r\n         &lt;PackageReference Include=&quot;Xamarin.AndroidX.Work.Runtime&quot; Version=&quot;2.7.1.5&quot; /&gt;\r\n         &lt;PackageReference Include=&quot;Xamarin.GooglePlayServices.Base&quot; Version=&quot;118.1.0&quot; /&gt;\r\n    &lt;/ItemGroup&gt;\r\n    &lt;ItemGroup&gt;\r\n    &lt;GoogleServicesJson Include=&quot;google-services.json&quot; /&gt;\r\n    &lt;!--&lt;ProguardConfiguration Include=&quot;proguard.cfg&quot; /&gt;--&gt;\r\n    &lt;/ItemGroup&gt;\r\n    &lt;/Project&gt;","title":"Error in xamarin.kotlin.stdlib ($ReflectSdkVersion is defined multiple times) after migration from Xamarin.Forms","body":"<p>For last few days i;m fighting with migrating my app from Xamarin.Forms to MAUI.\nI solved dozens of errors already but this one - i cannot wrap my head around.</p>\n<p>Error:</p>\n<pre><code>MSBUILD : java.exe error JAVA0000: Error in .nuget\\packages\\xamarin.kotlin.stdlib\\1.8.10\\buildTransitive\\net6.0-android31.0....\\jar\\org.jetbrains.kotlin.kotlin-stdlib-1.8.10.jar:kotlin/internal/jdk7/JDK7PlatformImplementations$ReflectSdkVersion.class:\nMSBUILD : java.exe error JAVA0000: Type kotlin.internal.jdk7.JDK7PlatformImplementations$ReflectSdkVersion is defined multiple times: .nuget\\packages\\xamarin.kotlin.stdlib\\1.8.10\\buildTransitive\\net6.0-android31.0....\\jar\\org.jetbrains.kotlin.kotlin-stdlib-1.8.10.jar:kotlin/internal/jdk7/JDK7PlatformImplementations$ReflectSdkVersion.class, .nuget\\packages\\xamarin.kotlin.stdlib.jdk7\\1.7.20.1\\buildTransitive\\net6.0-android31.0....\\jar\\org.jetbrains.kotlin.kotlin-stdlib-jdk7-1.7.20.jar:kotlin/internal/jdk7/JDK7PlatformImplementations$ReflectSdkVersion.class\njava.exe error JAVA0000: Compilation failed\njava.exe error JAVA0000: java.lang.RuntimeException: com.android.tools.r8.CompilationFailedException: Compilation failed to complete, origin: .nuget\\packages\\xamarin.kotlin.stdlib\\1.8.10\\buildTransitive\\net6.0-android31.0....\\jar\\org.jetbrains.kotlin.kotlin-stdlib-1.8.10.jar\n2&gt;MSBUILD : java.exe error JAVA0000: kotlin/internal/jdk7/JDK7PlatformImplementations$ReflectSdkVersion.class\n</code></pre>\n<p>Followed by hundreds of warnings such as:</p>\n<pre><code>2&gt;JAVAC : warning : unknown enum constant Scope.LIBRARY_GROUP_PREFIX\n2&gt;JAVAC : warning : unknown enum constant Scope.LIBRARY\n2&gt;JAVAC : warning : unknown enum constant Scope.LIBRARY\n2&gt;JAVAC : warning : unknown enum constant Scope.LIBRARY_GROUP_PREFIX\n</code></pre>\n<p>My android .csproj Packages (i suspect nugets)</p>\n<pre><code> &lt;Project Sdk=&quot;Microsoft.NET.Sdk&quot;&gt;\n &lt;PropertyGroup&gt;\n &lt;OutputType&gt;Exe&lt;/OutputType&gt;\n &lt;PublishTrimmed&gt;true&lt;/PublishTrimmed&gt;\n &lt;TrimMode&gt;link&lt;/TrimMode&gt;\n &lt;ImplicitUsings&gt;enable&lt;/ImplicitUsings&gt;\n &lt;UseMaui&gt;true&lt;/UseMaui&gt;\n\n&lt;SupportedOSPlatformVersion Condition=&quot;$([MSBuild]::GetTargetPlatformIdentifier('$(TargetFramework)')) == 'android'&quot;&gt;29.0&lt;/SupportedOSPlatformVersion&gt;\n   &lt;/PropertyGroup&gt;\n   &lt;PropertyGroup Condition=&quot; '$(Configuration)|$(Platform)' == 'Debug|AnyCPU' &quot;&gt;\n     &lt;EnableLLVM&gt;true&lt;/EnableLLVM&gt;\n     &lt;AndroidEnableProfiledAot&gt;false&lt;/AndroidEnableProfiledAot&gt;\n     &lt;EmbedAssembliesIntoApk&gt;true&lt;/EmbedAssembliesIntoApk&gt;\n     &lt;!--&lt;AndroidDexTool&gt;d8&lt;/AndroidDexTool&gt;\n     &lt;AndroidLinkTool&gt;r8&lt;/AndroidLinkTool&gt;--&gt;\n     &lt;AndroidPackageFormat&gt;aab&lt;/AndroidPackageFormat&gt;\n     &lt;AndroidCreatePackagePerAbi&gt;false&lt;/AndroidCreatePackagePerAbi&gt;\n   &lt;/PropertyGroup&gt;\n   &lt;PropertyGroup&gt;\n     &lt;TargetFrameworks&gt;net7.0-android&lt;/TargetFrameworks&gt;\n   &lt;/PropertyGroup&gt;\n   &lt;PropertyGroup Condition=&quot;'$(Configuration)|$(TargetFramework)|$(Platform)'=='Debug|net7.0-android|AnyCPU'&quot;&gt;\n     &lt;Optimize&gt;True&lt;/Optimize&gt;\n   &lt;/PropertyGroup&gt;\n   &lt;PropertyGroup Condition=&quot;'$(Configuration)|$(TargetFramework)|$(Platform)'=='Release|net7.0-android|AnyCPU'&quot; /&gt;\n   &lt;ItemGroup&gt;\n     &lt;PackageReference Include=&quot;CommunityToolkit.Maui.Markup&quot; Version=&quot;3.1.0&quot; /&gt;\n     &lt;PackageReference Include=&quot;FirebaseAuthentication.net&quot;&gt;\n       &lt;Version&gt;4.0.2&lt;/Version&gt;\n     &lt;/PackageReference&gt;\n     &lt;PackageReference Include=&quot;Refractored.MvvmHelpers&quot; Version=&quot;1.6.2&quot; /&gt;\n     &lt;PackageReference Include=&quot;sqlite-net-pcl&quot;&gt;\n       &lt;Version&gt;1.8.116&lt;/Version&gt;\n     &lt;/PackageReference&gt;\n     &lt;PackageReference Include=&quot;Xamarin.AndroidX.Annotation&quot; Version=&quot;1.6.0.1&quot; /&gt;\n     &lt;PackageReference Include=&quot;Xamarin.AndroidX.RecyclerView&quot;&gt;\n       &lt;Version&gt;1.3.0&lt;/Version&gt;\n     &lt;/PackageReference&gt;\n     &lt;PackageReference Include=&quot;Microsoft.DotNet.UpgradeAssistant.Extensions.Default.Analyzers&quot; Version=&quot;0.4.421302&quot;&gt;\n      &lt;PrivateAssets&gt;all&lt;/PrivateAssets&gt;\n     &lt;/PackageReference&gt;\n     &lt;PackageReference Include=&quot;Xamarin.AndroidX.Work.Runtime&quot; Version=&quot;2.7.1.5&quot; /&gt;\n     &lt;PackageReference Include=&quot;Xamarin.GooglePlayServices.Base&quot; Version=&quot;118.1.0&quot; /&gt;\n&lt;/ItemGroup&gt;\n&lt;ItemGroup&gt;\n&lt;GoogleServicesJson Include=&quot;google-services.json&quot; /&gt;\n&lt;!--&lt;ProguardConfiguration Include=&quot;proguard.cfg&quot; /&gt;--&gt;\n&lt;/ItemGroup&gt;\n&lt;/Project&gt;\n</code></pre>\n"},{"tags":["java","java-8","nullpointerexception","null","option-type"],"comments":[{"owner":{"account_id":3888087,"reputation":296,"user_id":3218967,"display_name":"LoveToCode"},"score":1,"creation_date":1475666715,"post_id":31696485,"comment_id":67031944,"body_markdown":"please tell me which package must import to use this?","body":"please tell me which package must import to use this?"},{"owner":{"account_id":228170,"reputation":16153,"user_id":490315,"accept_rate":94,"display_name":"whirlwin"},"score":5,"creation_date":1475675086,"post_id":31696485,"comment_id":67037947,"body_markdown":"@LoveToCode `java.util.Optional` - It&#39;s available if you&#39;re using JDK 8 or later","body":"@LoveToCode <code>java.util.Optional</code> - It&#39;s available if you&#39;re using JDK 8 or later"},{"owner":{"account_id":255080,"reputation":15519,"user_id":534877,"accept_rate":65,"display_name":"Robert Niestroj"},"score":46,"creation_date":1528891825,"post_id":31696485,"comment_id":88677492,"body_markdown":"I would love if they would have `ofNullable()` named `of()` and and `of()` named `ofNotNull()`","body":"I would love if they would have <code>ofNullable()</code> named <code>of()</code> and and <code>of()</code> named <code>ofNotNull()</code>"},{"owner":{"account_id":4777913,"reputation":2557,"user_id":3860531,"display_name":"Sumesh TG"},"score":0,"creation_date":1536664329,"post_id":31696485,"comment_id":91496398,"body_markdown":"Please refer https://www.baeldung.com/java-optional","body":"Please refer <a href=\"https://www.baeldung.com/java-optional\" rel=\"nofollow noreferrer\">baeldung.com/java-optional</a>"},{"owner":{"account_id":8328700,"reputation":168,"user_id":7676653,"display_name":"Karan Arora"},"score":0,"creation_date":1558385184,"post_id":31696485,"comment_id":99076173,"body_markdown":"As you are asking &quot;why does&#160;Optional.of&#160;exist at all? Why not just use&#160;Optional.ofNullable&#160;and be on the safe side at all times?&quot; Let&#39;s say if user&#39;s required data is not present, then we must throw exception. So, it totally depends on your usecase. https://www.baeldung.com/java-optional-throw-exception","body":"As you are asking &quot;why does Optional.of exist at all? Why not just use Optional.ofNullable and be on the safe side at all times?&quot; Let&#39;s say if user&#39;s required data is not present, then we must throw exception. So, it totally depends on your usecase. <a href=\"https://www.baeldung.com/java-optional-throw-exception\" rel=\"nofollow noreferrer\">baeldung.com/java-optional-throw-exception</a>"}],"answers":[{"comments":[{"owner":{"account_id":984212,"reputation":62352,"user_id":1003142,"display_name":"Konstantin Yovkov"},"score":206,"creation_date":1438162698,"post_id":31696584,"comment_id":51333152,"body_markdown":"&quot;*If you expect that your foobar is never null due to the program logic, it&#39;s much better to use `Optional.of(foobar)`*&quot;. This seems a bit strange - when we know that the value won&#39;t be `null` in any case, then why not use the value itself, instead of wrapping it within an `Optional` ?","body":"&quot;<i>If you expect that your foobar is never null due to the program logic, it&#39;s much better to use <code>Optional.of(foobar)</code></i>&quot;. This seems a bit strange - when we know that the value won&#39;t be <code>null</code> in any case, then why not use the value itself, instead of wrapping it within an <code>Optional</code> ?"},{"owner":{"account_id":6243460,"reputation":97907,"user_id":4856258,"accept_rate":100,"display_name":"Tagir Valeev"},"score":69,"creation_date":1438162827,"post_id":31696584,"comment_id":51333248,"body_markdown":"@kocko, you may have to return the `Optional` from the method as required by interface you are implementing (probably other implementors may return an empty optional). Or you want to create a collection/stream of optionals, some of which are guaranteed non-null and some are not. Or you have conditional logic which creates an optional in several branches and in single branch you are sure that it&#39;s non-null.","body":"@kocko, you may have to return the <code>Optional</code> from the method as required by interface you are implementing (probably other implementors may return an empty optional). Or you want to create a collection/stream of optionals, some of which are guaranteed non-null and some are not. Or you have conditional logic which creates an optional in several branches and in single branch you are sure that it&#39;s non-null."},{"owner":{"account_id":353405,"reputation":1924,"user_id":691074,"display_name":"Buurman"},"score":33,"creation_date":1438162941,"post_id":31696584,"comment_id":51333311,"body_markdown":"Because Optional means that it can be present, or absent. Absent != null. `null` in this case means &quot;I expect foobar to be present, but due to a bug it is null&quot;. `Optional.isPresent() == false` means foobar is not present, ie this is expected, legitimate behaviour.","body":"Because Optional means that it can be present, or absent. Absent != null. <code>null</code> in this case means &quot;I expect foobar to be present, but due to a bug it is null&quot;. <code>Optional.isPresent() == false</code> means foobar is not present, ie this is expected, legitimate behaviour."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":49,"creation_date":1438178643,"post_id":31696584,"comment_id":51344170,"body_markdown":"@kocko: simple example: `return list.isEmpty()? Optional.empty(): Optional.of(list.get(0));` the `list` is expected to never contain `null` values…","body":"@kocko: simple example: <code>return list.isEmpty()? Optional.empty(): Optional.of(list.get(0));</code> the <code>list</code> is expected to never contain <code>null</code> values…"},{"owner":{"account_id":73480,"reputation":7699,"user_id":211599,"accept_rate":60,"display_name":"Harish"},"score":3,"creation_date":1462331532,"post_id":31696584,"comment_id":61587177,"body_markdown":"But wouldn&#39;t this make code cumbersome? If we practice of adding Optional.of() of ever method which I invoke outside my class (which I expect to return non null data), then the complete code base would just consist of Optional.of() tags everywhere?","body":"But wouldn&#39;t this make code cumbersome? If we practice of adding Optional.of() of ever method which I invoke outside my class (which I expect to return non null data), then the complete code base would just consist of Optional.of() tags everywhere?"},{"owner":{"account_id":6243460,"reputation":97907,"user_id":4856258,"accept_rate":100,"display_name":"Tagir Valeev"},"score":5,"creation_date":1462334099,"post_id":31696584,"comment_id":61587768,"body_markdown":"@Harish if you&#39;re asking me, I don&#39;t advise to use Optionals everywhere. That&#39;s a separate question. You may check some opinions [here](http://stackoverflow.com/q/23454952/4856258).","body":"@Harish if you&#39;re asking me, I don&#39;t advise to use Optionals everywhere. That&#39;s a separate question. You may check some opinions <a href=\"http://stackoverflow.com/q/23454952/4856258\">here</a>."},{"owner":{"account_id":181638,"reputation":355845,"user_id":415784,"accept_rate":79,"display_name":"Nawaz"},"score":2,"creation_date":1501878604,"post_id":31696584,"comment_id":77991367,"body_markdown":"@Holger: If why use the conditional operator to begin with (i.e `return list.isEmpty() ? Optional.empty(): Optional.of(list.get(0)); `)? Why not just `return list.stream().findFirst();`? Wouldn&#39;t that avoid the use of `Optional.of(..)`? :","body":"@Holger: If why use the conditional operator to begin with (i.e <code>return list.isEmpty() ? Optional.empty(): Optional.of(list.get(0)); </code>)? Why not just <code>return list.stream().findFirst();</code>? Wouldn&#39;t that avoid the use of <code>Optional.of(..)</code>? :"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1502029101,"post_id":31696584,"comment_id":78025807,"body_markdown":"@Nawaz: you can use `stream().findFirst()` instead, because someone implemented it (using `Optional.of(…)`). It’s still an example use case, exemplary for any case where you have either, an absent value or a present, non-`null` value.","body":"@Nawaz: you can use <code>stream().findFirst()</code> instead, because someone implemented it (using <code>Optional.of(…)</code>). It’s still an example use case, exemplary for any case where you have either, an absent value or a present, non-<code>null</code> value."},{"owner":{"account_id":181638,"reputation":355845,"user_id":415784,"accept_rate":79,"display_name":"Nawaz"},"score":0,"creation_date":1502030350,"post_id":31696584,"comment_id":78026194,"body_markdown":"@Holger: That is not the point, because a `public` method `X` could use many methods , that doesn&#39;t justify if they made them `public` too *merely* because they&#39;re used by the `public` method `X`.  A `public` method is also meant to encourage good design in the users code; and so the question is, whether making the method `.of()` *public* encourages good design or not, in the *user* code? Did you get the argument now?","body":"@Holger: That is not the point, because a <code>public</code> method <code>X</code> could use many methods , that doesn&#39;t justify if they made them <code>public</code> too <i>merely</i> because they&#39;re used by the <code>public</code> method <code>X</code>.  A <code>public</code> method is also meant to encourage good design in the users code; and so the question is, whether making the method <code>.of()</code> <i>public</i> encourages good design or not, in the <i>user</i> code? Did you get the argument now?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1502030870,"post_id":31696584,"comment_id":78026356,"body_markdown":"@Nawaz: I already said, this **one** use case is *exemplary* for similar use cases where not a handy Stream API method exists to create the `Optional` behind the scenes. Is the existence of `List.get(int)` bad design, just because you could call `stream().skip(index).findFirst()` instead?","body":"@Nawaz: I already said, this <b>one</b> use case is <i>exemplary</i> for similar use cases where not a handy Stream API method exists to create the <code>Optional</code> behind the scenes. Is the existence of <code>List.get(int)</code> bad design, just because you could call <code>stream().skip(index).findFirst()</code> instead?"},{"owner":{"account_id":39135,"reputation":13588,"user_id":112779,"accept_rate":67,"display_name":"Mario Fusco"},"score":3,"creation_date":1582534071,"post_id":31696584,"comment_id":106796532,"body_markdown":"I strongly disagree with this answer. If you already know that your variable cannot be null in a specific situation (and if it is you have a bug) what&#39;s the point in wrapping it with a Optional?","body":"I strongly disagree with this answer. If you already know that your variable cannot be null in a specific situation (and if it is you have a bug) what&#39;s the point in wrapping it with a Optional?"},{"owner":{"account_id":5706349,"reputation":125,"user_id":4509724,"accept_rate":100,"display_name":"Vikram Singh"},"score":1,"creation_date":1592131468,"post_id":31696584,"comment_id":110308956,"body_markdown":"This answer does not make sense to me. If the intent of `Optional.of()` is to throw a `NullPointerException` and fail early, is using `@NonNull`, `Validate.notNull`, etc not a better choice? or even just doing a direct check: `if (foobar != null) throw new NPE()`. If the value of Optional is never going to be none then in this case is it not misleading to still call it an Optional?","body":"This answer does not make sense to me. If the intent of <code>Optional.of()</code> is to throw a <code>NullPointerException</code> and fail early, is using <code>@NonNull</code>, <code>Validate.notNull</code>, etc not a better choice? or even just doing a direct check: <code>if (foobar != null) throw new NPE()</code>. If the value of Optional is never going to be none then in this case is it not misleading to still call it an Optional?"},{"owner":{"account_id":305757,"reputation":1584,"user_id":5851520,"accept_rate":100,"display_name":"SusanW"},"score":0,"creation_date":1692626561,"post_id":31696584,"comment_id":135645425,"body_markdown":"@MarioFusco Because there might be multiple such specific situations in the same logic, and not all are present. eg, `if (condition) { return Optional.of(f()); } else { Optional.empty(); }`, where `f()` should never return null. Using `ofNullable` would hide errors when `f` does return null erroneously.","body":"@MarioFusco Because there might be multiple such specific situations in the same logic, and not all are present. eg, <code>if (condition) { return Optional.of(f()); } else { Optional.empty(); }</code>, where <code>f()</code> should never return null. Using <code>ofNullable</code> would hide errors when <code>f</code> does return null erroneously."},{"owner":{"account_id":15328195,"reputation":2461,"user_id":11058704,"display_name":"RamPrakash"},"score":0,"creation_date":1700758968,"post_id":31696584,"comment_id":136696373,"body_markdown":"This is the worst answer. Java should check for null as part of &quot;of&quot; method.","body":"This is the worst answer. Java should check for null as part of &quot;of&quot; method."}],"tags":[],"owner":{"account_id":6243460,"reputation":97907,"user_id":4856258,"accept_rate":100,"display_name":"Tagir Valeev"},"comment_count":14,"down_vote_count":9,"up_vote_count":448,"is_accepted":true,"score":439,"last_activity_date":1438162502,"creation_date":1438162502,"answer_id":31696584,"question_id":31696485,"body_markdown":"Your question is based on assumption that the code which may throw `NullPointerException` is worse than the code which may not. This assumption is wrong. If you expect that your `foobar` is never null due to the program logic, it&#39;s much better to use `Optional.of(foobar)` as you will see a `NullPointerException` which will indicate that your program has a bug. If you use `Optional.ofNullable(foobar)` and the `foobar` happens to be `null` due to the bug, then your program will silently continue working incorrectly, which may be a bigger disaster. This way an error may occur much later and it would be much harder to understand at which point it went wrong.","title":"Why use Optional.of over Optional.ofNullable?","body":"<p>Your question is based on assumption that the code which may throw <code>NullPointerException</code> is worse than the code which may not. This assumption is wrong. If you expect that your <code>foobar</code> is never null due to the program logic, it's much better to use <code>Optional.of(foobar)</code> as you will see a <code>NullPointerException</code> which will indicate that your program has a bug. If you use <code>Optional.ofNullable(foobar)</code> and the <code>foobar</code> happens to be <code>null</code> due to the bug, then your program will silently continue working incorrectly, which may be a bigger disaster. This way an error may occur much later and it would be much harder to understand at which point it went wrong.</p>\n"},{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":7,"creation_date":1550047356,"post_id":51837219,"comment_id":96121965,"body_markdown":"But for this, you can use the even shorter `String name = Objects.requireNonNull(nullName);`","body":"But for this, you can use the even shorter <code>String name = Objects.requireNonNull(nullName);</code>"},{"owner":{"account_id":1013544,"reputation":96,"user_id":1025626,"display_name":"Nikos Stais"},"score":4,"creation_date":1573975367,"post_id":51837219,"comment_id":104060887,"body_markdown":"Good point @Holger, however .orElse() method allows custom exceptions that might help you better handle flow of control or information logging.","body":"Good point @Holger, however .orElse() method allows custom exceptions that might help you better handle flow of control or information logging."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":5,"creation_date":1574068297,"post_id":51837219,"comment_id":104084387,"body_markdown":"Well, you can supply a message for the exception to give additional information. Any other attempt of customization, like using a different exception than `NullPointerException` when the problem clearly is a reference that is `null` while it shouldn’t, would be a step into the wrong direction.","body":"Well, you can supply a message for the exception to give additional information. Any other attempt of customization, like using a different exception than <code>NullPointerException</code> when the problem clearly is a reference that is <code>null</code> while it shouldn’t, would be a step into the wrong direction."},{"owner":{"account_id":3428833,"reputation":160,"user_id":2873858,"accept_rate":50,"display_name":"D&#225;ve"},"score":2,"creation_date":1590735877,"post_id":51837219,"comment_id":109797982,"body_markdown":"also, you can use Optional to throw more specific (e.g. custom) Exception, not NPE, NPE is too generic, you can throw something like `new NullNameException(&quot;meaningful msg&quot;)`","body":"also, you can use Optional to throw more specific (e.g. custom) Exception, not NPE, NPE is too generic, you can throw something like <code>new NullNameException(&quot;meaningful msg&quot;)</code>"},{"owner":{"account_id":12887,"reputation":1697,"user_id":25612,"display_name":"motob&#243;i"},"score":2,"creation_date":1624541708,"post_id":51837219,"comment_id":120391635,"body_markdown":"Isn&#39;t this exactly what Optional.of(value) does? Throw a NullPointerException if the value is null?","body":"Isn&#39;t this exactly what Optional.of(value) does? Throw a NullPointerException if the value is null?"},{"owner":{"account_id":6770357,"reputation":1169,"user_id":6393903,"display_name":"Soundbytes"},"score":0,"creation_date":1668936973,"post_id":51837219,"comment_id":131523398,"body_markdown":"@motob&#243;i You are right. Both methods do exactly the same. The use of Optional.get() is discouraged because it&#39;s a newbee trap.  I think it is kept only for backward compatibility.","body":"@motob&#243;i You are right. Both methods do exactly the same. The use of Optional.get() is discouraged because it&#39;s a newbee trap.  I think it is kept only for backward compatibility."}],"tags":[],"owner":{"account_id":8328700,"reputation":168,"user_id":7676653,"display_name":"Karan Arora"},"comment_count":6,"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1611832813,"creation_date":1534236045,"answer_id":51837219,"question_id":31696485,"body_markdown":"In addition, If you know your code should not work if object is null, you can throw exception by using **`Optional.orElseThrow`** \r\n\r\n    String nullName = null;\r\n\r\n    String name = Optional.ofNullable(nullName)\r\n                          .orElseThrow(NullPointerException::new);\r\n                       // .orElseThrow(CustomException::new);\r\n\r\n","title":"Why use Optional.of over Optional.ofNullable?","body":"<p>In addition, If you know your code should not work if object is null, you can throw exception by using <strong><code>Optional.orElseThrow</code></strong></p>\n<pre><code>String nullName = null;\n\nString name = Optional.ofNullable(nullName)\n                      .orElseThrow(NullPointerException::new);\n                   // .orElseThrow(CustomException::new);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":9146210,"reputation":66,"user_id":6802317,"display_name":"espendennis"},"score":1,"creation_date":1536836659,"post_id":52274352,"comment_id":91571562,"body_markdown":"Thanks for the edit Sumesh, but the the &quot;someValue&quot; in the last line which you edited to be &quot;some Value&quot;, references the variable in &quot;Optional.of(someValue)&quot; above and should stay someValue, i think.","body":"Thanks for the edit Sumesh, but the the &quot;someValue&quot; in the last line which you edited to be &quot;some Value&quot;, references the variable in &quot;Optional.of(someValue)&quot; above and should stay someValue, i think."}],"tags":[],"owner":{"account_id":9146210,"reputation":66,"user_id":6802317,"display_name":"espendennis"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1593670083,"creation_date":1536663487,"answer_id":52274352,"question_id":31696485,"body_markdown":"Optional should mainly be used for results of Services anyway. In the service you know what you have at hand and return Optional.of(someValue) if you have a result and return Optional.empty() if you don&#39;t. In this case, someValue should never be null and still, you return an Optional.","title":"Why use Optional.of over Optional.ofNullable?","body":"<p>Optional should mainly be used for results of Services anyway. In the service you know what you have at hand and return Optional.of(someValue) if you have a result and return Optional.empty() if you don't. In this case, someValue should never be null and still, you return an Optional.</p>\n"},{"tags":[],"owner":{"account_id":7275363,"reputation":31,"user_id":5547000,"display_name":"Gautam"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1563998528,"creation_date":1563952860,"answer_id":57177340,"question_id":31696485,"body_markdown":"This depends upon scenarios.\r\n\r\nLet&#39;s say you have some business functionality and you need to process something with that value further but having `null` value at time of processing would impact it. \r\n\r\nThen, in that case, you can use `Optional&lt;?&gt;`.\r\n\r\n    String nullName = null;\r\n\r\n    String name = Optional.ofNullable(nullName)\r\n                          .map(&lt;doSomething&gt;)\r\n                          .orElse(&quot;Default value in case of null&quot;);","title":"Why use Optional.of over Optional.ofNullable?","body":"<p>This depends upon scenarios.</p>\n\n<p>Let's say you have some business functionality and you need to process something with that value further but having <code>null</code> value at time of processing would impact it. </p>\n\n<p>Then, in that case, you can use <code>Optional&lt;?&gt;</code>.</p>\n\n<pre><code>String nullName = null;\n\nString name = Optional.ofNullable(nullName)\n                      .map(&lt;doSomething&gt;)\n                      .orElse(\"Default value in case of null\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10743483,"reputation":561,"user_id":7905696,"display_name":"Nishant"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1663409612,"creation_date":1663409612,"answer_id":73753985,"question_id":31696485,"body_markdown":"Main difference b/w Optional.of and Optional.ofNullable is that if the element wrapped under Optional is null, Optional.of will raise Null pointer exception and will stop further processing of code. whereas, Optional.ofNullable will just ignore null element/object and returns Optional.empty() or NoSuchElementPresent.","title":"Why use Optional.of over Optional.ofNullable?","body":"<p>Main difference b/w Optional.of and Optional.ofNullable is that if the element wrapped under Optional is null, Optional.of will raise Null pointer exception and will stop further processing of code. whereas, Optional.ofNullable will just ignore null element/object and returns Optional.empty() or NoSuchElementPresent.</p>\n"},{"comments":[{"owner":{"account_id":20185812,"reputation":249,"user_id":14805169,"display_name":"Santrupta Dash"},"score":1,"creation_date":1689097119,"post_id":76224546,"comment_id":135163893,"body_markdown":"This is so much clear. Thanks a lot. I was just scrolling down after the accepted answer because I was not satisfied. But now I dont have to scroll anymore.","body":"This is so much clear. Thanks a lot. I was just scrolling down after the accepted answer because I was not satisfied. But now I dont have to scroll anymore."},{"owner":{"account_id":8072420,"reputation":1124,"user_id":6084726,"accept_rate":86,"display_name":"M4HdYaR"},"score":0,"creation_date":1689927135,"post_id":76224546,"comment_id":135285196,"body_markdown":"I think this should be the accepted answer. Well explained! :) Thanks","body":"I think this should be the accepted answer. Well explained! :) Thanks"}],"tags":[],"owner":{"account_id":1470353,"reputation":1531,"user_id":1382079,"display_name":"Tadayoshi Sato"},"comment_count":2,"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1683784839,"creation_date":1683784839,"answer_id":76224546,"question_id":31696485,"body_markdown":"This question is over seven years old, but I felt so frustrated by the best answer that I had to write my answer.\r\n\r\nThe reason why the existing answers, including the best one, are failing to answer the question properly is because the original question is not appropriate in the first place. If you do not set the right question, you will not get the right answer.\r\n\r\nWhat is improper about the original question is that it is comparing the wrong pair. There are three static methods in `java.util.Optional`.\r\n\r\n- `Optional#empty()`\r\n- `Optional#of(T value)`\r\n- `Optional#ofNullable(T value)`\r\n\r\nThe pair is not `of` and `ofNullable`, but `of` and `empty`. This is because these two are the factory methods that create new instances, where `Optional` doesn&#39;t provide a public constructor.\r\n\r\nYou can choose from `of` and `empty` when you want to create a new instance of `Optional`.\r\n\r\n```java\r\nOptional&lt;Integer&gt; answer = Optional.of(42); // or Optional.empty() if it&#39;s absent\r\n```\r\n\r\nIn this usage, you are sure you don&#39;t pass `null` to `of()`, because it is you who are initialising the instance. If you want to create an empty instance, you can just choose `empty()` instead. Therefore, if you are passing a `null` value to `of()` at this stage, it is obviously a bug and you should receive an NPE.\r\n\r\nOne of the commenters in this question suggested that, since `ofNullable` is more useful than `of`, it would have been better if `ofNullable` were named as `of` and `of` were `ofNotNull`. This opinion is well taken. However, when you consider that `of` and `empty` are the official `Optional` factory methods, it makes sense that the more commonly used one is defined with a shorter name. Furthermore, it is also a good name that is consistent with the naming of the other Java collection class factory methods such as `List#of()`, `Set#of()`, and `Map#of()`.\r\n\r\nSo what is `ofNullable`? This one is actually a utility adapter method to bridge the null-eliminated `Optional` world with the legacy world full of `null`s. It is used to wrap variables defined somewhere else, or return values received from external services, in `Optional` to make them null-safe.\r\n\r\n```java\r\nString foo = someExternalAPI();\r\nOptional&lt;String&gt; bar = Optional.ofNullable(foo);\r\n```\r\n\r\nAs this is a utility method rather than a primary factory method, it should be generally acceptable to give it a slightly longer name, and it is even good practice that a utility method has a descriptive name which tells its intent clearly.\r\n\r\n### Summary\r\n\r\n- What is paired with `Optional#of(T value)` is `Optional#empty()`.\r\n- Use `of` or `empty` to create a new `Optional` instance.\r\n- Use `ofNullable` to wrap an existing variable as `Optional`.\r\n","title":"Why use Optional.of over Optional.ofNullable?","body":"<p>This question is over seven years old, but I felt so frustrated by the best answer that I had to write my answer.</p>\n<p>The reason why the existing answers, including the best one, are failing to answer the question properly is because the original question is not appropriate in the first place. If you do not set the right question, you will not get the right answer.</p>\n<p>What is improper about the original question is that it is comparing the wrong pair. There are three static methods in <code>java.util.Optional</code>.</p>\n<ul>\n<li><code>Optional#empty()</code></li>\n<li><code>Optional#of(T value)</code></li>\n<li><code>Optional#ofNullable(T value)</code></li>\n</ul>\n<p>The pair is not <code>of</code> and <code>ofNullable</code>, but <code>of</code> and <code>empty</code>. This is because these two are the factory methods that create new instances, where <code>Optional</code> doesn't provide a public constructor.</p>\n<p>You can choose from <code>of</code> and <code>empty</code> when you want to create a new instance of <code>Optional</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Optional&lt;Integer&gt; answer = Optional.of(42); // or Optional.empty() if it's absent\n</code></pre>\n<p>In this usage, you are sure you don't pass <code>null</code> to <code>of()</code>, because it is you who are initialising the instance. If you want to create an empty instance, you can just choose <code>empty()</code> instead. Therefore, if you are passing a <code>null</code> value to <code>of()</code> at this stage, it is obviously a bug and you should receive an NPE.</p>\n<p>One of the commenters in this question suggested that, since <code>ofNullable</code> is more useful than <code>of</code>, it would have been better if <code>ofNullable</code> were named as <code>of</code> and <code>of</code> were <code>ofNotNull</code>. This opinion is well taken. However, when you consider that <code>of</code> and <code>empty</code> are the official <code>Optional</code> factory methods, it makes sense that the more commonly used one is defined with a shorter name. Furthermore, it is also a good name that is consistent with the naming of the other Java collection class factory methods such as <code>List#of()</code>, <code>Set#of()</code>, and <code>Map#of()</code>.</p>\n<p>So what is <code>ofNullable</code>? This one is actually a utility adapter method to bridge the null-eliminated <code>Optional</code> world with the legacy world full of <code>null</code>s. It is used to wrap variables defined somewhere else, or return values received from external services, in <code>Optional</code> to make them null-safe.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String foo = someExternalAPI();\nOptional&lt;String&gt; bar = Optional.ofNullable(foo);\n</code></pre>\n<p>As this is a utility method rather than a primary factory method, it should be generally acceptable to give it a slightly longer name, and it is even good practice that a utility method has a descriptive name which tells its intent clearly.</p>\n<h3>Summary</h3>\n<ul>\n<li>What is paired with <code>Optional#of(T value)</code> is <code>Optional#empty()</code>.</li>\n<li>Use <code>of</code> or <code>empty</code> to create a new <code>Optional</code> instance.</li>\n<li>Use <code>ofNullable</code> to wrap an existing variable as <code>Optional</code>.</li>\n</ul>\n"}],"owner":{"account_id":228170,"reputation":16153,"user_id":490315,"accept_rate":94,"display_name":"whirlwin"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":216311,"favorite_count":0,"down_vote_count":0,"up_vote_count":332,"accepted_answer_id":31696584,"answer_count":6,"score":332,"last_activity_date":1683784839,"creation_date":1438162258,"question_id":31696485,"body_markdown":"When using the Java 8 `Optional` class, there are two ways in which a value can be wrapped in an optional.\r\n\r\n    String foobar = &lt;value or null&gt;;\r\n    Optional.of(foobar);         // May throw NullPointerException\r\n    Optional.ofNullable(foobar); // Safe from NullPointerException\r\n\r\nI understand `Optional.ofNullable` is the only safe way of using `Optional`, but why does `Optional.of` exist at all? Why not just use `Optional.ofNullable`  and be on the safe side at all times?\r\n","title":"Why use Optional.of over Optional.ofNullable?","body":"<p>When using the Java 8 <code>Optional</code> class, there are two ways in which a value can be wrapped in an optional.</p>\n\n<pre><code>String foobar = &lt;value or null&gt;;\nOptional.of(foobar);         // May throw NullPointerException\nOptional.ofNullable(foobar); // Safe from NullPointerException\n</code></pre>\n\n<p>I understand <code>Optional.ofNullable</code> is the only safe way of using <code>Optional</code>, but why does <code>Optional.of</code> exist at all? Why not just use <code>Optional.ofNullable</code>  and be on the safe side at all times?</p>\n"},{"tags":["java","spring-boot","mybatis"],"comments":[{"owner":{"account_id":1314580,"reputation":3299,"user_id":1261766,"display_name":"ave"},"score":0,"creation_date":1683709334,"post_id":76215321,"comment_id":134406698,"body_markdown":"It&#39;s unclear why `&lt;bind&gt;` is necessary. If it&#39;s passed as a method parameter, you should be able to use it directly. Showing the `&lt;if&gt;` version might help us understand the issue.","body":"It&#39;s unclear why <code>&lt;bind&gt;</code> is necessary. If it&#39;s passed as a method parameter, you should be able to use it directly. Showing the <code>&lt;if&gt;</code> version might help us understand the issue."},{"owner":{"account_id":5277424,"reputation":2670,"user_id":4213803,"accept_rate":80,"display_name":"V&#252;sal"},"score":0,"creation_date":1683714800,"post_id":76215321,"comment_id":134408009,"body_markdown":"There seems to be `when ... otherwise` tags: https://mybatis.org/mybatis-3/dynamic-sql.html#choose-when-otherwise - maybe you can try it.","body":"There seems to be <code>when ... otherwise</code> tags: <a href=\"https://mybatis.org/mybatis-3/dynamic-sql.html#choose-when-otherwise\" rel=\"nofollow noreferrer\">mybatis.org/mybatis-3/dynamic-sql.html#choose-when-otherwise</a> - maybe you can try it."},{"owner":{"account_id":5277424,"reputation":2670,"user_id":4213803,"accept_rate":80,"display_name":"V&#252;sal"},"score":0,"creation_date":1683715236,"post_id":76215321,"comment_id":134408086,"body_markdown":"or use `_parameter` : https://mybatis.org/mybatis-3/dynamic-sql.html#bind","body":"or use <code>_parameter</code> : <a href=\"https://mybatis.org/mybatis-3/dynamic-sql.html#bind\" rel=\"nofollow noreferrer\">mybatis.org/mybatis-3/dynamic-sql.html#bind</a>"},{"owner":{"account_id":1314580,"reputation":3299,"user_id":1261766,"display_name":"ave"},"score":0,"creation_date":1683717071,"post_id":76215321,"comment_id":134408499,"body_markdown":"@HamidSultanzadeh You can use parameter inside `&lt;include&gt;`.  If it does not work, there must be another problem. If you need further help, try creating a small demo project like [these](https://github.com/harawata/mybatis-issues). If the same problem reproduces with the demo project, share it on GitHub or somewhere so that we can take a look. Be sure to make the demo as simple as possible (i.e. minimum number of columns, parameters, etc.).","body":"@HamidSultanzadeh You can use parameter inside <code>&lt;include&gt;</code>.  If it does not work, there must be another problem. If you need further help, try creating a small demo project like <a href=\"https://github.com/harawata/mybatis-issues\" rel=\"nofollow noreferrer\">these</a>. If the same problem reproduces with the demo project, share it on GitHub or somewhere so that we can take a look. Be sure to make the demo as simple as possible (i.e. minimum number of columns, parameters, etc.)."},{"owner":{"account_id":15335846,"reputation":1,"user_id":11064223,"display_name":"Hamid Sultanzadeh"},"score":0,"creation_date":1683783876,"post_id":76215321,"comment_id":134420081,"body_markdown":"@V&#252;sal, thanks a lot. _parameter worked!","body":"@V&#252;sal, thanks a lot. _parameter worked!"}],"owner":{"account_id":15335846,"reputation":1,"user_id":11064223,"display_name":"Hamid Sultanzadeh"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":336,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683784474,"creation_date":1683698749,"question_id":76215321,"body_markdown":"I&#39;m facing an issue with my &lt;bind&gt; variable in MyBatis select query taking its value from the outside. Like the below code\r\n\r\n```\r\nSELECT\r\n            &lt;bind name=&quot;checkRolePrice&quot; value=&quot;true&quot;/&gt;  // this line is current form. I want to set value from outside in here\r\n            &lt;bind name=&quot;checkRolePrice&quot; value=&quot;checkRolePrice&quot;/&gt; // something like that, or #{checkRolePrice}\r\n            \r\n            &lt;include refid=&quot;digitalAppPlanBaseColumns&quot;&gt;\r\n                &lt;property name=&quot;prefix&quot; value=&quot;&quot;/&gt;\r\n            &lt;/include&gt;,\r\n\r\n            da.ICON_URL,\r\n            da.CATEGORY_ID,\r\n            da.TYPE,\r\n...\r\n```\r\n\r\n```\r\nList&lt;DigitalAppPlanWrapper&gt; getAllDigitalApps(@Param(&quot;role&quot;) String roleName,\r\n                                              @Param(&quot;deviceType&quot;) String source,\r\n                                              @Param(&quot;planIds&quot;) List&lt;Long&gt; planIds,\r\n                                              @Param(&quot;trial&quot;) Integer trial, \r\n                                              @Param(&quot;checkRolePrice&quot;) boolean checkRolePrice);\r\n```\r\n\r\nI want to derive `checkRolePrice` bind-variable&#39;s value from the method&#39;s parameter.\r\n\r\nDetails:\r\n\r\n - MyBatis starter version: 3.0.1 \r\n - Spring Boot: 3.0.4 \r\n - Java: 17\r\n\r\nI tried to use two if tags to get the result. It worked, but I&#39;m looking for a more readable and simple way to achieve that.\r\n\r\n\r\nEDIT V1: \r\n\r\nI use this `&lt;bind&gt;` to define which column I will choose inside `&lt;include&gt;` block. I can&#39;t use the method parameter inside `&lt;include&gt;` block. That&#39;s why I have to use `&lt;bind&gt;` variable. \r\n\r\n```\r\n&lt;sql id=&quot;digitalAppPlanBaseColumns&quot;&gt;\r\n        dap.ID                      ${prefix}ID,\r\n        dap.APP_ID                  ${prefix}APP_ID,\r\n        &lt;if test=&quot;checkRolePrice&quot;&gt;\r\n            CASE WHEN dapr.role_price is not null\r\n                THEN dapr.role_price\r\n                ELSE dap.price\r\n            end                     ${prefix}PRICE,\r\n        &lt;/if&gt;\r\n        &lt;if test=&quot;!checkRolePrice&quot;&gt;\r\n            dap.PRICE               ${prefix}PRICE,\r\n        &lt;/if&gt;\r\n...\r\n```\r\n\r\nThis solution seems a little bit weird. \r\nI used the role parameter instead of a new one.\r\n```\r\nSELECT\r\n        &lt;if test=&quot;role != null&quot;&gt;\r\n            &lt;bind name=&quot;checkRolePrice&quot; value=&quot;true&quot;/&gt;\r\n        &lt;/if&gt;\r\n        &lt;if test=&quot;role == null&quot;&gt;\r\n            &lt;bind name=&quot;checkRolePrice&quot; value=&quot;false&quot;/&gt;\r\n        &lt;/if&gt;\r\n```\r\n\r\n&lt;h3&gt;THE SOLUTION:&lt;/h3&gt;\r\n\r\n\r\nI used `_parameter`, and it worked.\r\n\r\n[doc][1]\r\n\r\n`&lt;bind name=&quot;checkRolePrice&quot; value=&quot;_parameter.role!=null&quot;/&gt;`\r\n\r\n\r\n  [1]: https://mybatis.org/mybatis-3/dynamic-sql.html#bind","title":"MyBatis - dynamic &lt;bind&gt; variable","body":"<p>I'm facing an issue with my  variable in MyBatis select query taking its value from the outside. Like the below code</p>\n<pre><code>SELECT\n            &lt;bind name=&quot;checkRolePrice&quot; value=&quot;true&quot;/&gt;  // this line is current form. I want to set value from outside in here\n            &lt;bind name=&quot;checkRolePrice&quot; value=&quot;checkRolePrice&quot;/&gt; // something like that, or #{checkRolePrice}\n            \n            &lt;include refid=&quot;digitalAppPlanBaseColumns&quot;&gt;\n                &lt;property name=&quot;prefix&quot; value=&quot;&quot;/&gt;\n            &lt;/include&gt;,\n\n            da.ICON_URL,\n            da.CATEGORY_ID,\n            da.TYPE,\n...\n</code></pre>\n<pre><code>List&lt;DigitalAppPlanWrapper&gt; getAllDigitalApps(@Param(&quot;role&quot;) String roleName,\n                                              @Param(&quot;deviceType&quot;) String source,\n                                              @Param(&quot;planIds&quot;) List&lt;Long&gt; planIds,\n                                              @Param(&quot;trial&quot;) Integer trial, \n                                              @Param(&quot;checkRolePrice&quot;) boolean checkRolePrice);\n</code></pre>\n<p>I want to derive <code>checkRolePrice</code> bind-variable's value from the method's parameter.</p>\n<p>Details:</p>\n<ul>\n<li>MyBatis starter version: 3.0.1</li>\n<li>Spring Boot: 3.0.4</li>\n<li>Java: 17</li>\n</ul>\n<p>I tried to use two if tags to get the result. It worked, but I'm looking for a more readable and simple way to achieve that.</p>\n<p>EDIT V1:</p>\n<p>I use this <code>&lt;bind&gt;</code> to define which column I will choose inside <code>&lt;include&gt;</code> block. I can't use the method parameter inside <code>&lt;include&gt;</code> block. That's why I have to use <code>&lt;bind&gt;</code> variable.</p>\n<pre><code>&lt;sql id=&quot;digitalAppPlanBaseColumns&quot;&gt;\n        dap.ID                      ${prefix}ID,\n        dap.APP_ID                  ${prefix}APP_ID,\n        &lt;if test=&quot;checkRolePrice&quot;&gt;\n            CASE WHEN dapr.role_price is not null\n                THEN dapr.role_price\n                ELSE dap.price\n            end                     ${prefix}PRICE,\n        &lt;/if&gt;\n        &lt;if test=&quot;!checkRolePrice&quot;&gt;\n            dap.PRICE               ${prefix}PRICE,\n        &lt;/if&gt;\n...\n</code></pre>\n<p>This solution seems a little bit weird.\nI used the role parameter instead of a new one.</p>\n<pre><code>SELECT\n        &lt;if test=&quot;role != null&quot;&gt;\n            &lt;bind name=&quot;checkRolePrice&quot; value=&quot;true&quot;/&gt;\n        &lt;/if&gt;\n        &lt;if test=&quot;role == null&quot;&gt;\n            &lt;bind name=&quot;checkRolePrice&quot; value=&quot;false&quot;/&gt;\n        &lt;/if&gt;\n</code></pre>\n<h3>THE SOLUTION:</h3>\n<p>I used <code>_parameter</code>, and it worked.</p>\n<p><a href=\"https://mybatis.org/mybatis-3/dynamic-sql.html#bind\" rel=\"nofollow noreferrer\">doc</a></p>\n<p><code>&lt;bind name=&quot;checkRolePrice&quot; value=&quot;_parameter.role!=null&quot;/&gt;</code></p>\n"},{"tags":["java","mysql","record","mybatis-plus"],"owner":{"account_id":28570297,"reputation":1,"user_id":21872629,"display_name":"user21872629"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":414,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683784341,"creation_date":1683735339,"question_id":76220622,"body_markdown":"I hava a record class as java bean:\r\n```java\r\n@With\r\n@TableName(value = &quot;user&quot;)\r\npublic record User(\r\n        @TableId(value = &quot;uid&quot;, type = IdType.AUTO)\r\n        Integer id,\r\n        String username,\r\n        String password,\r\n) {}\r\n```\r\nthen I use mybatis-plus to manage it:\r\n```java\r\npublic class UserServiceImpl implements UserService {\r\n    private final UserMapper userMapper;\r\n    public UserServiceImpl(UserMapper userMapper) {\r\n        this.userMapper = userMapper;\r\n    }\r\n\r\n    @Override\r\n    public CommonResponse&lt;Object&gt; register(User user) {\r\n\r\n        String password = &quot;9ABB136AA0B984E8&quot;;\r\n        User newUser = user.withPassword(password)\r\n\r\n        int rows = userMapper.insert(newUser);  // got a MyBatisSystemException\r\n        if (rows == 0) {\r\n            return CommonResponse.createResponseForError();\r\n        }\r\n        return CommonResponse.createResponseForSuccess();\r\n    }\r\n}\r\n```\r\nThe UserMapper is the default implementation of mybatis-plus\r\n```java\r\npublic interface UserMapper extends BaseMapper&lt;User&gt; {}\r\n\r\n```\r\n\r\nWhen I execute the INSERT operation on it, the code reports an error:\r\n```\r\nError getting generated key or setting result to parameter object. Cause: org.apache.ibatis.executor.ExecutorException: No setter found for the keyProperty &#39;id&#39; in &#39;com.csu.mypetstore.api.domain.User&#39;.\r\n```\r\n\r\n\r\nI know that the cause of this error is that the record class cannot perform setter operations, but I don&#39;t know how to get around this error and implement self-incrementing operations on the database.\r\n\r\nI have tried adding the setId method to the User record class, but it doesn&#39;t work.\r\n```java\r\n@With\r\n@TableName(value = &quot;user&quot;)\r\npublic record User(\r\n        @TableId(value = &quot;uid&quot;, type = IdType.AUTO)\r\n        Integer id,\r\n        String username,\r\n        String password,\r\n) {\r\n        public User setId(Integer id){\r\n                return new User(id, username, password);  // No use\r\n        }\r\n}\r\n\r\n```\r\nWhat can I do to accomplish mybatis-plus operations on the record class, such as completing an insert operation on a table with a self-incrementing primary key, or does the record class not apply to mybatis-plus?","title":"Use mybatis-plus to manipulate java record class and report error for insert operation","body":"<p>I hava a record class as java bean:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@With\n@TableName(value = &quot;user&quot;)\npublic record User(\n        @TableId(value = &quot;uid&quot;, type = IdType.AUTO)\n        Integer id,\n        String username,\n        String password,\n) {}\n</code></pre>\n<p>then I use mybatis-plus to manage it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class UserServiceImpl implements UserService {\n    private final UserMapper userMapper;\n    public UserServiceImpl(UserMapper userMapper) {\n        this.userMapper = userMapper;\n    }\n\n    @Override\n    public CommonResponse&lt;Object&gt; register(User user) {\n\n        String password = &quot;9ABB136AA0B984E8&quot;;\n        User newUser = user.withPassword(password)\n\n        int rows = userMapper.insert(newUser);  // got a MyBatisSystemException\n        if (rows == 0) {\n            return CommonResponse.createResponseForError();\n        }\n        return CommonResponse.createResponseForSuccess();\n    }\n}\n</code></pre>\n<p>The UserMapper is the default implementation of mybatis-plus</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface UserMapper extends BaseMapper&lt;User&gt; {}\n\n</code></pre>\n<p>When I execute the INSERT operation on it, the code reports an error:</p>\n<pre><code>Error getting generated key or setting result to parameter object. Cause: org.apache.ibatis.executor.ExecutorException: No setter found for the keyProperty 'id' in 'com.csu.mypetstore.api.domain.User'.\n</code></pre>\n<p>I know that the cause of this error is that the record class cannot perform setter operations, but I don't know how to get around this error and implement self-incrementing operations on the database.</p>\n<p>I have tried adding the setId method to the User record class, but it doesn't work.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@With\n@TableName(value = &quot;user&quot;)\npublic record User(\n        @TableId(value = &quot;uid&quot;, type = IdType.AUTO)\n        Integer id,\n        String username,\n        String password,\n) {\n        public User setId(Integer id){\n                return new User(id, username, password);  // No use\n        }\n}\n\n</code></pre>\n<p>What can I do to accomplish mybatis-plus operations on the record class, such as completing an insert operation on a table with a self-incrementing primary key, or does the record class not apply to mybatis-plus?</p>\n"},{"tags":["java","unit-testing","hbase","java-17","hbasetestingutility"],"owner":{"account_id":28575924,"reputation":11,"user_id":21877532,"display_name":"ASG"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1683783802,"creation_date":1683783802,"question_id":76224450,"body_markdown":"To give a background, our project uses bigtable. For unit testing, we are using the package hbase-testing-util:2.2.3 for creating a local mini hbase cluster.\r\nOur code base is in Java 8 and I&#39;m trying to migrate it to Java 17. While doing so, I&#39;m encountering the following error on running the unit tests (in java 17).\r\n\r\n```\r\nStarting hbase testing utility failed: java.io.IOException: Shutting down\r\n\tat org.apache.hadoop.hbase.MiniHBaseCluster.init(MiniHBaseCluster.java:266)\r\n\tat org.apache.hadoop.hbase.MiniHBaseCluster.&lt;init&gt;(MiniHBaseCluster.java:116)\r\n\tat org.apache.hadoop.hbase.HBaseTestingUtility.startMiniHBaseCluster(HBaseTestingUtility.java:1142)\r\n\tat org.apache.hadoop.hbase.HBaseTestingUtility.startMiniCluster(HBaseTestingUtility.java:1107)\r\n\tat org.apache.hadoop.hbase.HBaseTestingUtility.startMiniCluster(HBaseTestingUtility.java:1071)\r\n\tat com.yawasa.server.testing.TestingUtility.init(TestingUtility.java:165)\r\n```\r\n\r\n```\r\njava.lang.ExceptionInInitializerError\r\n\tat com.yawasa.server.BabelFishStringValueTest.before(BabelFishStringValueTest.java:56)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)\r\n\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n\tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)\r\n\tat org.junit.internal.runners.statements.RunBefores.invokeMethod(RunBefores.java:33)\r\n\tat org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:24)\r\n\tat org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)\r\n\tat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner$1.evaluate(BlockJUnit4ClassRunner.java:100)\r\n\tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:103)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:63)\r\n\tat org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\r\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\r\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\r\n\tat org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\r\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\r\n\tat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\r\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:413)\r\n\tat org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.runTestClass(JUnitTestClassExecutor.java:108)\r\n\tat org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:57)\r\n\tat org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:39)\r\n\tat org.gradle.api.internal.tasks.testing.junit.AbstractJUnitTestClassProcessor.processTestClass(AbstractJUnitTestClassProcessor.java:62)\r\n\tat org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.processTestClass(SuiteTestClassProcessor.java:52)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n\tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n\tat org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\r\n\tat org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\r\n\tat jdk.proxy1/jdk.proxy1.$Proxy2.processTestClass(Unknown Source)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker$2.run(TestWorker.java:176)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)\r\n\tat org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)\r\n\tat org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\r\n\tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)\r\n\tat org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)\r\n\tat worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\r\n\tat worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\r\nCaused by: java.lang.RuntimeException: java.io.IOException: Shutting down\r\n\tat com.yawasa.server.testing.TestingUtility.init(TestingUtility.java:195)\r\n\tat com.yawasa.server.testing.TestingUtility.&lt;clinit&gt;(TestingUtility.java:713)\r\n\t... 46 more\r\nCaused by: java.io.IOException: Shutting down\r\n\tat org.apache.hadoop.hbase.MiniHBaseCluster.init(MiniHBaseCluster.java:266)\r\n\tat org.apache.hadoop.hbase.MiniHBaseCluster.&lt;init&gt;(MiniHBaseCluster.java:116)\r\n\tat org.apache.hadoop.hbase.HBaseTestingUtility.startMiniHBaseCluster(HBaseTestingUtility.java:1142)\r\n\tat org.apache.hadoop.hbase.HBaseTestingUtility.startMiniCluster(HBaseTestingUtility.java:1107)\r\n\tat org.apache.hadoop.hbase.HBaseTestingUtility.startMiniCluster(HBaseTestingUtility.java:1071)\r\n\tat com.yawasa.server.testing.TestingUtility.init(TestingUtility.java:165)\r\n\t... 47 more\r\nCaused by: java.lang.RuntimeException: Master not initialized after 200000ms\r\n\tat org.apache.hadoop.hbase.util.JVMClusterUtil.waitForEvent(JVMClusterUtil.java:229)\r\n\tat org.apache.hadoop.hbase.util.JVMClusterUtil.startup(JVMClusterUtil.java:197)\r\n\tat org.apache.hadoop.hbase.LocalHBaseCluster.startup(LocalHBaseCluster.java:413)\r\n\tat org.apache.hadoop.hbase.MiniHBaseCluster.init(MiniHBaseCluster.java:259)\r\n\t... 52 more\r\n```\r\n\r\nThere is another set of stacktrace for \\~360 threads that indicate that the threads are waiting for some event. They look like this:\r\n\r\n```\r\nThread 340 (master/localhost:0.Chore.1):\r\n  State: TIMED_WAITING\r\n  Blocked count: 0\r\n  Waited count: 3\r\n  Stack:\r\n    java.base@17.0.7/jdk.internal.misc.Unsafe.park(Native Method)\r\n    java.base@17.0.7/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:252)\r\n    java.base@17.0.7/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1672)\r\n    java.base@17.0.7/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)\r\n    java.base@17.0.7/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)\r\n    java.base@17.0.7/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1062)\r\n    java.base@17.0.7/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1122)\r\n    java.base@17.0.7/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n    java.base@17.0.7/java.lang.Thread.run(Thread.java:833)\r\nThread 341 (snapshot-hfile-cleaner-cache-refresher):\r\n  State: TIMED_WAITING\r\n  Blocked count: 0\r\n  Waited count: 1\r\n  Stack:\r\n    java.base@17.0.7/java.lang.Object.wait(Native Method)\r\n    java.base@17.0.7/java.util.TimerThread.mainLoop(Timer.java:563)\r\n    java.base@17.0.7/java.util.TimerThread.run(Timer.java:516)\r\n```\r\n\r\nI haven&#39;t been able to find any info for this particular issue.\r\n\r\nI tried upgrading the library to 2.3.0+ version but that is leading to a jar hell much before this code path is hit, so I&#39;m not sure if resolving the jar hell will resolve the complete issue.","title":"MIniHBaseCluster shutting down with java.lang.RuntimeException: Master not initialized after 200000ms","body":"<p>To give a background, our project uses bigtable. For unit testing, we are using the package hbase-testing-util:2.2.3 for creating a local mini hbase cluster.\nOur code base is in Java 8 and I'm trying to migrate it to Java 17. While doing so, I'm encountering the following error on running the unit tests (in java 17).</p>\n<pre><code>Starting hbase testing utility failed: java.io.IOException: Shutting down\n    at org.apache.hadoop.hbase.MiniHBaseCluster.init(MiniHBaseCluster.java:266)\n    at org.apache.hadoop.hbase.MiniHBaseCluster.&lt;init&gt;(MiniHBaseCluster.java:116)\n    at org.apache.hadoop.hbase.HBaseTestingUtility.startMiniHBaseCluster(HBaseTestingUtility.java:1142)\n    at org.apache.hadoop.hbase.HBaseTestingUtility.startMiniCluster(HBaseTestingUtility.java:1107)\n    at org.apache.hadoop.hbase.HBaseTestingUtility.startMiniCluster(HBaseTestingUtility.java:1071)\n    at com.yawasa.server.testing.TestingUtility.init(TestingUtility.java:165)\n</code></pre>\n<pre><code>java.lang.ExceptionInInitializerError\n    at com.yawasa.server.BabelFishStringValueTest.before(BabelFishStringValueTest.java:56)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)\n    at org.junit.internal.runners.statements.RunBefores.invokeMethod(RunBefores.java:33)\n    at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:24)\n    at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)\n    at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\n    at org.junit.runners.BlockJUnit4ClassRunner$1.evaluate(BlockJUnit4ClassRunner.java:100)\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:103)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:63)\n    at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\n    at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\n    at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:413)\n    at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.runTestClass(JUnitTestClassExecutor.java:108)\n    at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:57)\n    at org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecutor.execute(JUnitTestClassExecutor.java:39)\n    at org.gradle.api.internal.tasks.testing.junit.AbstractJUnitTestClassProcessor.processTestClass(AbstractJUnitTestClassProcessor.java:62)\n    at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.processTestClass(SuiteTestClassProcessor.java:52)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\n    at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\n    at jdk.proxy1/jdk.proxy1.$Proxy2.processTestClass(Unknown Source)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker$2.run(TestWorker.java:176)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)\n    at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)\n    at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)\n    at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)\n    at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)\n    at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)\nCaused by: java.lang.RuntimeException: java.io.IOException: Shutting down\n    at com.yawasa.server.testing.TestingUtility.init(TestingUtility.java:195)\n    at com.yawasa.server.testing.TestingUtility.&lt;clinit&gt;(TestingUtility.java:713)\n    ... 46 more\nCaused by: java.io.IOException: Shutting down\n    at org.apache.hadoop.hbase.MiniHBaseCluster.init(MiniHBaseCluster.java:266)\n    at org.apache.hadoop.hbase.MiniHBaseCluster.&lt;init&gt;(MiniHBaseCluster.java:116)\n    at org.apache.hadoop.hbase.HBaseTestingUtility.startMiniHBaseCluster(HBaseTestingUtility.java:1142)\n    at org.apache.hadoop.hbase.HBaseTestingUtility.startMiniCluster(HBaseTestingUtility.java:1107)\n    at org.apache.hadoop.hbase.HBaseTestingUtility.startMiniCluster(HBaseTestingUtility.java:1071)\n    at com.yawasa.server.testing.TestingUtility.init(TestingUtility.java:165)\n    ... 47 more\nCaused by: java.lang.RuntimeException: Master not initialized after 200000ms\n    at org.apache.hadoop.hbase.util.JVMClusterUtil.waitForEvent(JVMClusterUtil.java:229)\n    at org.apache.hadoop.hbase.util.JVMClusterUtil.startup(JVMClusterUtil.java:197)\n    at org.apache.hadoop.hbase.LocalHBaseCluster.startup(LocalHBaseCluster.java:413)\n    at org.apache.hadoop.hbase.MiniHBaseCluster.init(MiniHBaseCluster.java:259)\n    ... 52 more\n</code></pre>\n<p>There is another set of stacktrace for ~360 threads that indicate that the threads are waiting for some event. They look like this:</p>\n<pre><code>Thread 340 (master/localhost:0.Chore.1):\n  State: TIMED_WAITING\n  Blocked count: 0\n  Waited count: 3\n  Stack:\n    java.base@17.0.7/jdk.internal.misc.Unsafe.park(Native Method)\n    java.base@17.0.7/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:252)\n    java.base@17.0.7/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1672)\n    java.base@17.0.7/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)\n    java.base@17.0.7/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)\n    java.base@17.0.7/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1062)\n    java.base@17.0.7/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1122)\n    java.base@17.0.7/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n    java.base@17.0.7/java.lang.Thread.run(Thread.java:833)\nThread 341 (snapshot-hfile-cleaner-cache-refresher):\n  State: TIMED_WAITING\n  Blocked count: 0\n  Waited count: 1\n  Stack:\n    java.base@17.0.7/java.lang.Object.wait(Native Method)\n    java.base@17.0.7/java.util.TimerThread.mainLoop(Timer.java:563)\n    java.base@17.0.7/java.util.TimerThread.run(Timer.java:516)\n</code></pre>\n<p>I haven't been able to find any info for this particular issue.</p>\n<p>I tried upgrading the library to 2.3.0+ version but that is leading to a jar hell much before this code path is hit, so I'm not sure if resolving the jar hell will resolve the complete issue.</p>\n"},{"tags":["java","spring","apache-camel"],"owner":{"account_id":6189371,"reputation":4655,"user_id":4822479,"accept_rate":60,"display_name":"Madhusudan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683783772,"creation_date":1683783772,"question_id":76224447,"body_markdown":"I am doing camel migration from 2.25.4 to 3.0.24. WHile doing this I have to do some chnages in camel config xml file where **httpConnectionManager** has been updated to **clientConnectionManager** for bean class org.apache.camel.component.http.HttpComponent.\r\n\r\nHere below I have mentioned piece of my camel config xml file:\r\n\r\n\r\n     &lt;bean id=&quot;http&quot; class=&quot;org.apache.camel.component.http.HttpComponent&quot;&gt;\r\n         &lt;property name=&quot;camelContext&quot; ref=&quot;camel&quot;/&gt;\r\n         &lt;property name=&quot;clientConnectionManager&quot; ref=&quot;myHttpConnectionManager&quot;/&gt;\r\n     &lt;/bean&gt;\r\n\r\n     &lt;bean id=&quot;https&quot; class=&quot;org.apache.camel.component.http.HttpComponent&quot;&gt;\r\n         &lt;property name=&quot;camelContext&quot; ref=&quot;camel&quot;/&gt;\r\n         &lt;property name=&quot;clientConnectionManager&quot; ref=&quot;myHttpConnectionManager&quot;/&gt;\r\n     &lt;/bean&gt;\r\n\r\n     &lt;bean id=&quot;myHttpConnectionManager&quot; class=&quot;org.apache.commons.httpclient.MultiThreadedHttpConnectionManager&quot;&gt;\r\n         &lt;property name=&quot;params&quot; ref=&quot;myHttpConnectionManagerParams&quot;/&gt;\r\n     &lt;/bean&gt;\r\n\r\n     &lt;bean id=&quot;myHttpConnectionManagerParams&quot; class=&quot;org.apache.commons.httpclient.params.HttpConnectionManagerParams&quot;&gt;\r\n         &lt;property name=&quot;defaultMaxConnectionsPerHost&quot; value=&quot;20&quot;/&gt;\r\n     &lt;/bean&gt;\r\n\r\nWith this change, when I start tomcat, it gives me below error:\r\n\r\n\r\n    11-May-2023 11:07:16.052 SEVERE [main] \r\n    org.springframework.web.context.ContextLoader.initWebApplicationContext Context initialization failed\r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;http&#39; \r\n    defined in ServletContext resource [/WEB-INF/camel-config.xml]: Initialization of bean failed; \r\n    nested exception is org.springframework.beans.ConversionNotSupportedException: Failed to convert \r\n    property value of type &#39;org.apache.commons.httpclient.MultiThreadedHttpConnectionManager&#39; to \r\n    required type &#39;org.apache.http.conn.HttpClientConnectionManager&#39; for property \r\n    &#39;clientConnectionManager&#39;; nested exception is java.lang.IllegalStateException: Cannot convert \r\n    value of type &#39;org.apache.commons.httpclient.MultiThreadedHttpConnectionManager&#39; to required type \r\n    &#39;org.apache.http.conn.HttpClientConnectionManager&#39; for property &#39;clientConnectionManager&#39;: no \r\n    matching editors or conversion strategy found\r\n        \r\nIs there any specific version of apache commons-httpclient requirement with camel 3.20.4? Or instead of MultiThreadedHttpConnectionManager, I have to use some other class?\r\n","title":"ERROR: Cannot resolve reference to bean &#39;myHttpConnectionManager&#39; while setting bean property &#39;clientConnectionManager&#39;","body":"<p>I am doing camel migration from 2.25.4 to 3.0.24. WHile doing this I have to do some chnages in camel config xml file where <strong>httpConnectionManager</strong> has been updated to <strong>clientConnectionManager</strong> for bean class org.apache.camel.component.http.HttpComponent.</p>\n<p>Here below I have mentioned piece of my camel config xml file:</p>\n<pre><code> &lt;bean id=&quot;http&quot; class=&quot;org.apache.camel.component.http.HttpComponent&quot;&gt;\n     &lt;property name=&quot;camelContext&quot; ref=&quot;camel&quot;/&gt;\n     &lt;property name=&quot;clientConnectionManager&quot; ref=&quot;myHttpConnectionManager&quot;/&gt;\n &lt;/bean&gt;\n\n &lt;bean id=&quot;https&quot; class=&quot;org.apache.camel.component.http.HttpComponent&quot;&gt;\n     &lt;property name=&quot;camelContext&quot; ref=&quot;camel&quot;/&gt;\n     &lt;property name=&quot;clientConnectionManager&quot; ref=&quot;myHttpConnectionManager&quot;/&gt;\n &lt;/bean&gt;\n\n &lt;bean id=&quot;myHttpConnectionManager&quot; class=&quot;org.apache.commons.httpclient.MultiThreadedHttpConnectionManager&quot;&gt;\n     &lt;property name=&quot;params&quot; ref=&quot;myHttpConnectionManagerParams&quot;/&gt;\n &lt;/bean&gt;\n\n &lt;bean id=&quot;myHttpConnectionManagerParams&quot; class=&quot;org.apache.commons.httpclient.params.HttpConnectionManagerParams&quot;&gt;\n     &lt;property name=&quot;defaultMaxConnectionsPerHost&quot; value=&quot;20&quot;/&gt;\n &lt;/bean&gt;\n</code></pre>\n<p>With this change, when I start tomcat, it gives me below error:</p>\n<pre><code>11-May-2023 11:07:16.052 SEVERE [main] \norg.springframework.web.context.ContextLoader.initWebApplicationContext Context initialization failed\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'http' \ndefined in ServletContext resource [/WEB-INF/camel-config.xml]: Initialization of bean failed; \nnested exception is org.springframework.beans.ConversionNotSupportedException: Failed to convert \nproperty value of type 'org.apache.commons.httpclient.MultiThreadedHttpConnectionManager' to \nrequired type 'org.apache.http.conn.HttpClientConnectionManager' for property \n'clientConnectionManager'; nested exception is java.lang.IllegalStateException: Cannot convert \nvalue of type 'org.apache.commons.httpclient.MultiThreadedHttpConnectionManager' to required type \n'org.apache.http.conn.HttpClientConnectionManager' for property 'clientConnectionManager': no \nmatching editors or conversion strategy found\n    \n</code></pre>\n<p>Is there any specific version of apache commons-httpclient requirement with camel 3.20.4? Or instead of MultiThreadedHttpConnectionManager, I have to use some other class?</p>\n"},{"tags":["java","android","android-contentresolver","android-calendar"],"comments":[{"owner":{"account_id":11184418,"reputation":179,"user_id":8207343,"display_name":"HYA"},"score":0,"creation_date":1683405448,"post_id":76190682,"comment_id":134362778,"body_markdown":"You are using the CalendarContract content provider to read and delete events from the device&#39;s calendar. When you delete an event using the ContentResolver&#39;s delete() method, the event is not immediately deleted from the calendar provider. Instead, it is marked for deletion, and the actual deletion is performed by the provider&#39;s background process at some point in the future. This is done to ensure that the event is removed from all synced calendars and that any associated reminders or notifications are also removed.","body":"You are using the CalendarContract content provider to read and delete events from the device&#39;s calendar. When you delete an event using the ContentResolver&#39;s delete() method, the event is not immediately deleted from the calendar provider. Instead, it is marked for deletion, and the actual deletion is performed by the provider&#39;s background process at some point in the future. This is done to ensure that the event is removed from all synced calendars and that any associated reminders or notifications are also removed."},{"owner":{"account_id":28530435,"reputation":1,"user_id":21837928,"display_name":"Pratham Koli"},"score":0,"creation_date":1683438331,"post_id":76190682,"comment_id":134365057,"body_markdown":"So I cannot delete instantly i have to wait after giving delete command?","body":"So I cannot delete instantly i have to wait after giving delete command?"}],"owner":{"account_id":28530435,"reputation":1,"user_id":21837928,"display_name":"Pratham Koli"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683783383,"creation_date":1683400681,"question_id":76190682,"body_markdown":"`I&#39;m facing an issue with the ListView in an Android app where I&#39;m able to delete an event from the listview using a content resolver. The deletion is reflected instantly in the ListView, but when I reopen the ListView, the deleted items start appearing again. The items are only deleted permanently after a few minutes of delay.What could be the issue??\r\n\r\n\r\nBelow is my listview displaying and deletion code as well content resolver code for event reading and deleting\r\n\r\nCalendar_ListView.java\r\n\r\n```\r\npackage com.example.eventhub;\r\n\r\nimport android.app.AlertDialog;\r\nimport android.content.Context;\r\nimport android.content.DialogInterface;\r\nimport android.content.Intent;\r\nimport android.graphics.drawable.AnimationDrawable;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.View;\r\nimport android.widget.AdapterView;\r\nimport android.widget.ArrayAdapter;\r\nimport android.widget.ListView;\r\nimport android.widget.RelativeLayout;\r\n\r\nimport androidx.annotation.Nullable;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.constraintlayout.widget.ConstraintLayout;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class Calendar_ListView extends AppCompatActivity {\r\n    public ArrayList&lt;String&gt; Events_Name = new ArrayList&lt;String&gt;();\r\n    public ArrayList&lt;String&gt; temporary = new ArrayList&lt;String&gt;();\r\n    ArrayAdapter arrayAdapter;\r\n\r\n    Utility utility;\r\n\r\n    Context context;\r\n\r\n    @Override\r\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.reminder_list_view);\r\n\r\n        context = getApplicationContext();\r\n        utility = new Utility(context);\r\n\r\n        RelativeLayout relativeLayout = findViewById(R.id.ListId);\r\n        AnimationDrawable animationDrawable = (AnimationDrawable) relativeLayout.getBackground();\r\n        animationDrawable.setEnterFadeDuration(3500);\r\n        animationDrawable.setExitFadeDuration(5500);\r\n        animationDrawable.start();\r\n        ListView listview = findViewById(R.id.listview);\r\n//        Fetch_EventNames();\r\n\r\n//        Log.d(&quot;FETCH_ON_CREATE&quot;, Events_Name.toString());\r\n//        Log.d(&quot;FETCH_ON_CREATE&quot;, temporary.toString(  ));\r\n//        Log.d(&quot;LISTVIEW&quot;, Events_Name.toString());\r\n\r\n        arrayAdapter = new ArrayAdapter(Calendar_ListView.this, R.layout.listview_custom_itemview, temporary);\r\n\r\n        listview.setAdapter(arrayAdapter);\r\n        listview.setOnItemClickListener(new AdapterView.OnItemClickListener() {\r\n            @Override\r\n            public void onItemClick(AdapterView&lt;?&gt; parent, View view, int position, long id) {\r\n                AlertDialog.Builder builder = new AlertDialog.Builder(Calendar_ListView.this);\r\n                builder.setMessage(&quot;Do you want to delete this reminder?&quot;)\r\n                        .setPositiveButton(&quot;Yes&quot;, new DialogInterface.OnClickListener() {\r\n                            public void onClick(DialogInterface dialog, int id) {\r\n                                // Perform delete action here\r\n//                                Utility utility = new Utility();\r\n                                utility.deleteEventByTitle2(context, Events_Name.get(position));\r\n                                Log.d(&quot;FETCH&quot;, Events_Name.toString());\r\n                                Log.d(&quot;FETCH&quot;, temporary.toString());\r\n                                arrayAdapter.remove(arrayAdapter.getItem(position));\r\n//                                Events_Name.remove(position);\r\n//                                temporary.remove(position);\r\n//                                arrayAdapter.notifyDataSetChanged();\r\n                            }\r\n                        })\r\n                        .setNegativeButton(&quot;No&quot;, new DialogInterface.OnClickListener() {\r\n                            public void onClick(DialogInterface dialog, int id) {\r\n                                // User cancelled the dialog\r\n                                dialog.dismiss();\r\n                            }\r\n                        });\r\n                AlertDialog dialog = builder.create();\r\n                dialog.show();\r\n            }\r\n        });\r\n\r\n    }\r\n    @Override\r\n    protected void onResume() {\r\n        super.onResume();\r\n        Fetch_EventNames();\r\n        Log.d(&quot;LISTVIEW&quot;, Events_Name.toString());\r\n        arrayAdapter.notifyDataSetChanged();\r\n    }\r\n    public void Fetch_EventNames(){\r\n//        Utility utility = new Utility();\r\n        utility.readCalendarEvent(context);\r\n        Events_Name.clear();\r\n        temporary.clear();\r\n        ArrayList&lt;String&gt; titles = utility.nameOfEvent;\r\n        ArrayList&lt;String&gt; myEvents = new ArrayList&lt;String&gt;();\r\n        for(String str : titles){\r\n            if(str != null &amp;&amp; str.length() &gt; 3 &amp;&amp; str.substring(str.length() - 3).equals(&quot;_eh&quot;)){\r\n                myEvents.add(str);\r\n            }\r\n        }\r\n        Events_Name = myEvents;\r\n        for(String str : Events_Name){\r\n            temporary.add(str.substring(0, str.length()-3));\r\n        }\r\n//        Log.d(&quot;REMINDER_MY_EVENTS&quot;, myEvents.toString());\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\nUtility.java\r\n\r\n\r\n```\r\npackage com.example.eventhub;\r\n\r\nimport android.content.ContentResolver;\r\nimport android.content.ContentUris;\r\nimport android.content.Context;\r\nimport android.database.Cursor;\r\nimport android.net.Uri;\r\nimport android.provider.CalendarContract;\r\nimport android.util.Log;\r\nimport android.widget.Toast;\r\n\r\nimport java.text.SimpleDateFormat;\r\nimport java.util.ArrayList;\r\nimport java.util.Calendar;\r\n\r\npublic class Utility {\r\n    public ArrayList&lt;String&gt; nameOfEvent = new ArrayList&lt;String&gt;();\r\n    public ArrayList&lt;ArrayList&lt;String&gt;&gt; Event_Start_End = new ArrayList&lt;ArrayList&lt;String&gt;&gt;();\r\n\r\n    public ArrayList&lt;String&gt; startDates = new ArrayList&lt;String&gt;();\r\n    public ArrayList&lt;String&gt; endDates = new ArrayList&lt;String&gt;();\r\n    public ArrayList&lt;String&gt; descriptions = new ArrayList&lt;String&gt;();\r\n    public ArrayList&lt;String&gt; eventIds = new ArrayList&lt;String&gt;();\r\n    ContentResolver resolver;\r\n    public Utility(Context context){\r\n        resolver = context.getContentResolver();\r\n    }\r\n\r\n    public ArrayList&lt;String&gt; readCalendarEvent(Context context) {\r\n\r\n//        Cursor cursor = context.getContentResolver()\r\n        Cursor cursor = resolver\r\n                .query(\r\n                        Uri.parse(&quot;content://com.android.calendar/events&quot;),\r\n                        new String[]{&quot;calendar_id&quot;, &quot;title&quot;, &quot;description&quot;,\r\n                                &quot;dtstart&quot;, &quot;dtend&quot;, &quot;eventLocation&quot;}, null,\r\n                        null, null);\r\n        cursor.moveToFirst();\r\n        // fetching calendars name\r\n        String CNames[] = new String[cursor.getCount()];\r\n\r\n        // fetching calendars id\r\n        nameOfEvent.clear();\r\n        startDates.clear();\r\n        endDates.clear();\r\n        descriptions.clear();\r\n        Log.d(&quot;UTILITY_OBJ&quot;, &quot;SIZE: &quot;+ Integer.toString(cursor.getCount()));\r\n\r\n        for (int i = 0; i &lt; CNames.length; i++) {\r\n            String str1=&quot;&quot;, str2, str3;\r\n//            ArrayList&lt;String&gt; temp = new ArrayList&lt;String&gt;(3);\r\n            nameOfEvent.add(cursor.getString(1));\r\n\r\n            if(cursor.getString(3) != null){\r\n                startDates.add(getDate(Long.parseLong(cursor.getString(3))));\r\n\r\n            }\r\n            if(cursor.getString(4) != null){\r\n                endDates.add(getDate(Long.parseLong(cursor.getString(4))));\r\n            }\r\n            descriptions.add(cursor.getString(2));\r\n            CNames[i] = cursor.getString(1);\r\n            cursor.moveToNext();\r\n        }\r\n        return nameOfEvent;\r\n    }\r\n    public void deleteEventByTitle(Context context, String title) {\r\n//        ContentResolver cr = context.getContentResolver();\r\n\r\n        Cursor cursor = resolver.query(\r\n                Uri.parse(&quot;content://com.android.calendar/events&quot;),\r\n                new String[]{&quot;_id&quot;},\r\n                &quot;title=?&quot;,\r\n                new String[]{title},\r\n                null);\r\n\r\n        if (cursor.moveToFirst()) {\r\n            int temp = cursor.getColumnIndex(&quot;_id&quot;);\r\n            long id;\r\n            if(temp &gt;= 0) {\r\n                id = cursor.getLong(temp);\r\n                Uri deleteUri = ContentUris.withAppendedId(CalendarContract.Events.CONTENT_URI, id);\r\n//                int rows = cr.delete(deleteUri, null, null);\r\n                int rows = resolver.delete(deleteUri, null, null);\r\n\r\n                Log.d(&quot;UTILITY_OBJ&quot;, &quot;Rows deleted: &quot; + rows);\r\n                Toast.makeText(context, &quot;Event Successfully Deleted&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n            }\r\n            else {\r\n                Log.d(&quot;UTILITY_OBJ&quot;, &quot;EVENT ID NOT FOUND&quot;);\r\n                Toast.makeText(context, &quot;Event NOT FOUND!!&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        }\r\n        else {\r\n            Log.d(&quot;UTILITY_OBJ&quot;, &quot;EVENT ID NOT FOUND&quot;);\r\n            Toast.makeText(context, &quot;Event NOT FOUND!!&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n        cursor.close();\r\n    }\r\n\r\n    public String getDate(long milliSeconds) {\r\n        SimpleDateFormat formatter = new SimpleDateFormat(\r\n                &quot;dd/MM/yyyy hh:mm:ss a&quot;);\r\n        Calendar calendar = Calendar.getInstance();\r\n        calendar.setTimeInMillis(milliSeconds);\r\n        return formatter.format(calendar.getTime());\r\n    }\r\n    public ArrayList&lt;String&gt; readCalendarEvent2(Context context) {\r\n        Cursor cursor = context.getContentResolver().query(\r\n                Uri.parse(&quot;content://com.android.calendar/events&quot;),\r\n                new String[]{&quot;_id&quot;, &quot;calendar_id&quot;, &quot;title&quot;, &quot;description&quot;,\r\n                        &quot;dtstart&quot;, &quot;dtend&quot;, &quot;eventLocation&quot;}, null, null, null);\r\n        cursor.moveToFirst();\r\n        // fetching calendars name\r\n        String CNames[] = new String[cursor.getCount()];\r\n\r\n        // fetching calendars id\r\n        nameOfEvent.clear();\r\n        startDates.clear();\r\n        endDates.clear();\r\n        descriptions.clear();\r\n        eventIds.clear(); // List to store event IDs\r\n        Log.d(&quot;UTILITY_OBJ&quot;, &quot;SIZE: &quot;+ Integer.toString(cursor.getCount()));\r\n\r\n        for (int i = 0; i &lt; CNames.length; i++) {\r\n            eventIds.add(cursor.getString(0)); // Add event ID to list\r\n            nameOfEvent.add(cursor.getString(2));\r\n            if(cursor.getString(4) != null){\r\n                startDates.add(getDate(Long.parseLong(cursor.getString(4))));\r\n            }\r\n            if(cursor.getString(5) != null){\r\n                endDates.add(getDate(Long.parseLong(cursor.getString(5))));\r\n            }\r\n            descriptions.add(cursor.getString(3));\r\n            CNames[i] = cursor.getString(2);\r\n            cursor.moveToNext();\r\n        }\r\n        return nameOfEvent;\r\n    }\r\n\r\n    public void deleteEventByTitle2(Context context, String title) {\r\n        Cursor cursor = resolver.query(\r\n                Uri.parse(&quot;content://com.android.calendar/events&quot;),\r\n                new String[]{&quot;_id&quot;},\r\n                &quot;title=?&quot;,\r\n                new String[]{title},\r\n                null);\r\n\r\n        ArrayList&lt;String&gt; eventsToDelete = new ArrayList&lt;String&gt;();\r\n\r\n        if (cursor.moveToFirst()) {\r\n            int temp = cursor.getColumnIndex(&quot;_id&quot;);\r\n            long id;\r\n            if(temp &gt;= 0) {\r\n                id = cursor.getLong(temp);\r\n                eventsToDelete.add(title);\r\n                Uri deleteUri = ContentUris.withAppendedId(CalendarContract.Events.CONTENT_URI, id);\r\n                int rows = resolver.delete(deleteUri, null, null);\r\n\r\n                Log.d(&quot;UTILITY_OBJ&quot;, &quot;Rows deleted: &quot; + rows);\r\n                Toast.makeText(context, &quot;Event Successfully Deleted&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n            }\r\n            else {\r\n                Log.d(&quot;UTILITY_OBJ&quot;, &quot;EVENT ID NOT FOUND&quot;);\r\n                Toast.makeText(context, &quot;Event NOT FOUND!!&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        }\r\n        else {\r\n            Log.d(&quot;UTILITY_OBJ&quot;, &quot;EVENT ID NOT FOUND&quot;);\r\n            Toast.makeText(context, &quot;Event NOT FOUND!!&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n        cursor.close();\r\n\r\n        // remove eventsToDelete from nameOfEvent ArrayList\r\n        for (String event : eventsToDelete) {\r\n            nameOfEvent.remove(event);\r\n        }\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nI tried making a single instance of content resolver but still didn&#39;t do any good.`","title":"Instantly not able to delete contents from Calendar","body":"<p>`I'm facing an issue with the ListView in an Android app where I'm able to delete an event from the listview using a content resolver. The deletion is reflected instantly in the ListView, but when I reopen the ListView, the deleted items start appearing again. The items are only deleted permanently after a few minutes of delay.What could be the issue??</p>\n<p>Below is my listview displaying and deletion code as well content resolver code for event reading and deleting</p>\n<p>Calendar_ListView.java</p>\n<pre><code>package com.example.eventhub;\n\nimport android.app.AlertDialog;\nimport android.content.Context;\nimport android.content.DialogInterface;\nimport android.content.Intent;\nimport android.graphics.drawable.AnimationDrawable;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.View;\nimport android.widget.AdapterView;\nimport android.widget.ArrayAdapter;\nimport android.widget.ListView;\nimport android.widget.RelativeLayout;\n\nimport androidx.annotation.Nullable;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.constraintlayout.widget.ConstraintLayout;\n\nimport java.util.ArrayList;\n\npublic class Calendar_ListView extends AppCompatActivity {\n    public ArrayList&lt;String&gt; Events_Name = new ArrayList&lt;String&gt;();\n    public ArrayList&lt;String&gt; temporary = new ArrayList&lt;String&gt;();\n    ArrayAdapter arrayAdapter;\n\n    Utility utility;\n\n    Context context;\n\n    @Override\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.reminder_list_view);\n\n        context = getApplicationContext();\n        utility = new Utility(context);\n\n        RelativeLayout relativeLayout = findViewById(R.id.ListId);\n        AnimationDrawable animationDrawable = (AnimationDrawable) relativeLayout.getBackground();\n        animationDrawable.setEnterFadeDuration(3500);\n        animationDrawable.setExitFadeDuration(5500);\n        animationDrawable.start();\n        ListView listview = findViewById(R.id.listview);\n//        Fetch_EventNames();\n\n//        Log.d(&quot;FETCH_ON_CREATE&quot;, Events_Name.toString());\n//        Log.d(&quot;FETCH_ON_CREATE&quot;, temporary.toString(  ));\n//        Log.d(&quot;LISTVIEW&quot;, Events_Name.toString());\n\n        arrayAdapter = new ArrayAdapter(Calendar_ListView.this, R.layout.listview_custom_itemview, temporary);\n\n        listview.setAdapter(arrayAdapter);\n        listview.setOnItemClickListener(new AdapterView.OnItemClickListener() {\n            @Override\n            public void onItemClick(AdapterView&lt;?&gt; parent, View view, int position, long id) {\n                AlertDialog.Builder builder = new AlertDialog.Builder(Calendar_ListView.this);\n                builder.setMessage(&quot;Do you want to delete this reminder?&quot;)\n                        .setPositiveButton(&quot;Yes&quot;, new DialogInterface.OnClickListener() {\n                            public void onClick(DialogInterface dialog, int id) {\n                                // Perform delete action here\n//                                Utility utility = new Utility();\n                                utility.deleteEventByTitle2(context, Events_Name.get(position));\n                                Log.d(&quot;FETCH&quot;, Events_Name.toString());\n                                Log.d(&quot;FETCH&quot;, temporary.toString());\n                                arrayAdapter.remove(arrayAdapter.getItem(position));\n//                                Events_Name.remove(position);\n//                                temporary.remove(position);\n//                                arrayAdapter.notifyDataSetChanged();\n                            }\n                        })\n                        .setNegativeButton(&quot;No&quot;, new DialogInterface.OnClickListener() {\n                            public void onClick(DialogInterface dialog, int id) {\n                                // User cancelled the dialog\n                                dialog.dismiss();\n                            }\n                        });\n                AlertDialog dialog = builder.create();\n                dialog.show();\n            }\n        });\n\n    }\n    @Override\n    protected void onResume() {\n        super.onResume();\n        Fetch_EventNames();\n        Log.d(&quot;LISTVIEW&quot;, Events_Name.toString());\n        arrayAdapter.notifyDataSetChanged();\n    }\n    public void Fetch_EventNames(){\n//        Utility utility = new Utility();\n        utility.readCalendarEvent(context);\n        Events_Name.clear();\n        temporary.clear();\n        ArrayList&lt;String&gt; titles = utility.nameOfEvent;\n        ArrayList&lt;String&gt; myEvents = new ArrayList&lt;String&gt;();\n        for(String str : titles){\n            if(str != null &amp;&amp; str.length() &gt; 3 &amp;&amp; str.substring(str.length() - 3).equals(&quot;_eh&quot;)){\n                myEvents.add(str);\n            }\n        }\n        Events_Name = myEvents;\n        for(String str : Events_Name){\n            temporary.add(str.substring(0, str.length()-3));\n        }\n//        Log.d(&quot;REMINDER_MY_EVENTS&quot;, myEvents.toString());\n    }\n}\n</code></pre>\n<p>Utility.java</p>\n<pre><code>package com.example.eventhub;\n\nimport android.content.ContentResolver;\nimport android.content.ContentUris;\nimport android.content.Context;\nimport android.database.Cursor;\nimport android.net.Uri;\nimport android.provider.CalendarContract;\nimport android.util.Log;\nimport android.widget.Toast;\n\nimport java.text.SimpleDateFormat;\nimport java.util.ArrayList;\nimport java.util.Calendar;\n\npublic class Utility {\n    public ArrayList&lt;String&gt; nameOfEvent = new ArrayList&lt;String&gt;();\n    public ArrayList&lt;ArrayList&lt;String&gt;&gt; Event_Start_End = new ArrayList&lt;ArrayList&lt;String&gt;&gt;();\n\n    public ArrayList&lt;String&gt; startDates = new ArrayList&lt;String&gt;();\n    public ArrayList&lt;String&gt; endDates = new ArrayList&lt;String&gt;();\n    public ArrayList&lt;String&gt; descriptions = new ArrayList&lt;String&gt;();\n    public ArrayList&lt;String&gt; eventIds = new ArrayList&lt;String&gt;();\n    ContentResolver resolver;\n    public Utility(Context context){\n        resolver = context.getContentResolver();\n    }\n\n    public ArrayList&lt;String&gt; readCalendarEvent(Context context) {\n\n//        Cursor cursor = context.getContentResolver()\n        Cursor cursor = resolver\n                .query(\n                        Uri.parse(&quot;content://com.android.calendar/events&quot;),\n                        new String[]{&quot;calendar_id&quot;, &quot;title&quot;, &quot;description&quot;,\n                                &quot;dtstart&quot;, &quot;dtend&quot;, &quot;eventLocation&quot;}, null,\n                        null, null);\n        cursor.moveToFirst();\n        // fetching calendars name\n        String CNames[] = new String[cursor.getCount()];\n\n        // fetching calendars id\n        nameOfEvent.clear();\n        startDates.clear();\n        endDates.clear();\n        descriptions.clear();\n        Log.d(&quot;UTILITY_OBJ&quot;, &quot;SIZE: &quot;+ Integer.toString(cursor.getCount()));\n\n        for (int i = 0; i &lt; CNames.length; i++) {\n            String str1=&quot;&quot;, str2, str3;\n//            ArrayList&lt;String&gt; temp = new ArrayList&lt;String&gt;(3);\n            nameOfEvent.add(cursor.getString(1));\n\n            if(cursor.getString(3) != null){\n                startDates.add(getDate(Long.parseLong(cursor.getString(3))));\n\n            }\n            if(cursor.getString(4) != null){\n                endDates.add(getDate(Long.parseLong(cursor.getString(4))));\n            }\n            descriptions.add(cursor.getString(2));\n            CNames[i] = cursor.getString(1);\n            cursor.moveToNext();\n        }\n        return nameOfEvent;\n    }\n    public void deleteEventByTitle(Context context, String title) {\n//        ContentResolver cr = context.getContentResolver();\n\n        Cursor cursor = resolver.query(\n                Uri.parse(&quot;content://com.android.calendar/events&quot;),\n                new String[]{&quot;_id&quot;},\n                &quot;title=?&quot;,\n                new String[]{title},\n                null);\n\n        if (cursor.moveToFirst()) {\n            int temp = cursor.getColumnIndex(&quot;_id&quot;);\n            long id;\n            if(temp &gt;= 0) {\n                id = cursor.getLong(temp);\n                Uri deleteUri = ContentUris.withAppendedId(CalendarContract.Events.CONTENT_URI, id);\n//                int rows = cr.delete(deleteUri, null, null);\n                int rows = resolver.delete(deleteUri, null, null);\n\n                Log.d(&quot;UTILITY_OBJ&quot;, &quot;Rows deleted: &quot; + rows);\n                Toast.makeText(context, &quot;Event Successfully Deleted&quot;, Toast.LENGTH_SHORT).show();\n\n            }\n            else {\n                Log.d(&quot;UTILITY_OBJ&quot;, &quot;EVENT ID NOT FOUND&quot;);\n                Toast.makeText(context, &quot;Event NOT FOUND!!&quot;, Toast.LENGTH_SHORT).show();\n            }\n        }\n        else {\n            Log.d(&quot;UTILITY_OBJ&quot;, &quot;EVENT ID NOT FOUND&quot;);\n            Toast.makeText(context, &quot;Event NOT FOUND!!&quot;, Toast.LENGTH_SHORT).show();\n        }\n        cursor.close();\n    }\n\n    public String getDate(long milliSeconds) {\n        SimpleDateFormat formatter = new SimpleDateFormat(\n                &quot;dd/MM/yyyy hh:mm:ss a&quot;);\n        Calendar calendar = Calendar.getInstance();\n        calendar.setTimeInMillis(milliSeconds);\n        return formatter.format(calendar.getTime());\n    }\n    public ArrayList&lt;String&gt; readCalendarEvent2(Context context) {\n        Cursor cursor = context.getContentResolver().query(\n                Uri.parse(&quot;content://com.android.calendar/events&quot;),\n                new String[]{&quot;_id&quot;, &quot;calendar_id&quot;, &quot;title&quot;, &quot;description&quot;,\n                        &quot;dtstart&quot;, &quot;dtend&quot;, &quot;eventLocation&quot;}, null, null, null);\n        cursor.moveToFirst();\n        // fetching calendars name\n        String CNames[] = new String[cursor.getCount()];\n\n        // fetching calendars id\n        nameOfEvent.clear();\n        startDates.clear();\n        endDates.clear();\n        descriptions.clear();\n        eventIds.clear(); // List to store event IDs\n        Log.d(&quot;UTILITY_OBJ&quot;, &quot;SIZE: &quot;+ Integer.toString(cursor.getCount()));\n\n        for (int i = 0; i &lt; CNames.length; i++) {\n            eventIds.add(cursor.getString(0)); // Add event ID to list\n            nameOfEvent.add(cursor.getString(2));\n            if(cursor.getString(4) != null){\n                startDates.add(getDate(Long.parseLong(cursor.getString(4))));\n            }\n            if(cursor.getString(5) != null){\n                endDates.add(getDate(Long.parseLong(cursor.getString(5))));\n            }\n            descriptions.add(cursor.getString(3));\n            CNames[i] = cursor.getString(2);\n            cursor.moveToNext();\n        }\n        return nameOfEvent;\n    }\n\n    public void deleteEventByTitle2(Context context, String title) {\n        Cursor cursor = resolver.query(\n                Uri.parse(&quot;content://com.android.calendar/events&quot;),\n                new String[]{&quot;_id&quot;},\n                &quot;title=?&quot;,\n                new String[]{title},\n                null);\n\n        ArrayList&lt;String&gt; eventsToDelete = new ArrayList&lt;String&gt;();\n\n        if (cursor.moveToFirst()) {\n            int temp = cursor.getColumnIndex(&quot;_id&quot;);\n            long id;\n            if(temp &gt;= 0) {\n                id = cursor.getLong(temp);\n                eventsToDelete.add(title);\n                Uri deleteUri = ContentUris.withAppendedId(CalendarContract.Events.CONTENT_URI, id);\n                int rows = resolver.delete(deleteUri, null, null);\n\n                Log.d(&quot;UTILITY_OBJ&quot;, &quot;Rows deleted: &quot; + rows);\n                Toast.makeText(context, &quot;Event Successfully Deleted&quot;, Toast.LENGTH_SHORT).show();\n\n            }\n            else {\n                Log.d(&quot;UTILITY_OBJ&quot;, &quot;EVENT ID NOT FOUND&quot;);\n                Toast.makeText(context, &quot;Event NOT FOUND!!&quot;, Toast.LENGTH_SHORT).show();\n            }\n        }\n        else {\n            Log.d(&quot;UTILITY_OBJ&quot;, &quot;EVENT ID NOT FOUND&quot;);\n            Toast.makeText(context, &quot;Event NOT FOUND!!&quot;, Toast.LENGTH_SHORT).show();\n        }\n        cursor.close();\n\n        // remove eventsToDelete from nameOfEvent ArrayList\n        for (String event : eventsToDelete) {\n            nameOfEvent.remove(event);\n        }\n    }\n\n\n}\n</code></pre>\n<p>I tried making a single instance of content resolver but still didn't do any good.`</p>\n"},{"tags":["java","rhapsody"],"answers":[{"comments":[{"owner":{"display_name":"user10473458"},"score":0,"creation_date":1539173651,"post_id":52730601,"comment_id":92404540,"body_markdown":"Welp, bugger me. You&#39;re right, I thought that worked like getNestedElements() and only gets the element and its nested elements, but not the rest. Cheers mate!","body":"Welp, bugger me. You&#39;re right, I thought that worked like getNestedElements() and only gets the element and its nested elements, but not the rest. Cheers mate!"}],"tags":[],"owner":{"account_id":5712438,"reputation":124,"user_id":4513940,"display_name":"Kishore Vanapalli"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1683782939,"creation_date":1539127748,"answer_id":52730601,"question_id":52703688,"body_markdown":"there is method called **selected_el.getNestedElementsByMetaClass(ClassType, 0/1)** that will return all the elements of that MetaClass recursively based on 0/1 which is the second argument\r\n\r\nClassType is either Class, Port, Package -- find out the ClassType you are looking for\r\n\r\nAlternatively there is **myPrj.findNestedElementRecursive( name, metaClass)** for example myPrj.findNestedElementRecursive( namedPkg, &quot;Package&quot;) will find a Package under the &#39;myPrj&#39; project that has a name that matches the value of the &#39;namedPkg&#39; variable.\r\n\r\nThe Rhapsody Java API can be found [here][1].\r\n\r\n\r\n  [1]: https://www.ibm.com/support/pages/introduction-ibm-rational-rhapsody-api","title":"IBM Rhapsody Java API - Get every element in a project","body":"<p>there is method called <strong>selected_el.getNestedElementsByMetaClass(ClassType, 0/1)</strong> that will return all the elements of that MetaClass recursively based on 0/1 which is the second argument</p>\n<p>ClassType is either Class, Port, Package -- find out the ClassType you are looking for</p>\n<p>Alternatively there is <strong>myPrj.findNestedElementRecursive( name, metaClass)</strong> for example myPrj.findNestedElementRecursive( namedPkg, &quot;Package&quot;) will find a Package under the 'myPrj' project that has a name that matches the value of the 'namedPkg' variable.</p>\n<p>The Rhapsody Java API can be found <a href=\"https://www.ibm.com/support/pages/introduction-ibm-rational-rhapsody-api\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"comments":[{"owner":{"display_name":"user10473458"},"score":0,"creation_date":1539173606,"post_id":52735610,"comment_id":92404508,"body_markdown":"Welp, bugger me. You&#39;re right, I thought that worked like getNestedElements() and only gets the element and its nested elements, but not the rest. Cheers mate!","body":"Welp, bugger me. You&#39;re right, I thought that worked like getNestedElements() and only gets the element and its nested elements, but not the rest. Cheers mate!"},{"owner":{"account_id":15519457,"reputation":588,"user_id":11196038,"display_name":"Krystian Sitek"},"score":0,"creation_date":1618815809,"post_id":52735610,"comment_id":118706895,"body_markdown":"Method &#39;getNestedElementsRecursive()&#39; retrieves too much elements. It gets elements that we can&#39;t see in the Browser or Search window of IBM Rhapsody application too. I think that it can be system files. Is it possible to see only elements from the Model?","body":"Method &#39;getNestedElementsRecursive()&#39; retrieves too much elements. It gets elements that we can&#39;t see in the Browser or Search window of IBM Rhapsody application too. I think that it can be system files. Is it possible to see only elements from the Model?"}],"tags":[],"owner":{"account_id":8909377,"reputation":151,"user_id":6650184,"display_name":"Shlomo"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1539159397,"creation_date":1539159397,"answer_id":52735610,"question_id":52703688,"body_markdown":"Try calling IRPModelElement.getNestedElementsRecursive on the project element:\r\n\r\n[![documentation for getNestedElementsRecursive][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Iszgu.png","title":"IBM Rhapsody Java API - Get every element in a project","body":"<p>Try calling IRPModelElement.getNestedElementsRecursive on the project element:</p>\n\n<p><a href=\"https://i.stack.imgur.com/Iszgu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Iszgu.png\" alt=\"documentation for getNestedElementsRecursive\"></a></p>\n"}],"owner":{"display_name":"user10473458"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1612,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":52730601,"answer_count":2,"score":1,"last_activity_date":1683782939,"creation_date":1539006265,"question_id":52703688,"body_markdown":"I&#39;m currently trying to find or make a function to get every item in a Rhapsody project, meaning the nested elements of the project and the nested elements of those elements, etc.\r\n\r\nIs there an easy way to do this? And with easy I don&#39;t mean a looped function continually using the getNestedElements() function ;)","title":"IBM Rhapsody Java API - Get every element in a project","body":"<p>I'm currently trying to find or make a function to get every item in a Rhapsody project, meaning the nested elements of the project and the nested elements of those elements, etc.</p>\n\n<p>Is there an easy way to do this? And with easy I don't mean a looped function continually using the getNestedElements() function ;)</p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1683715261,"post_id":76216917,"comment_id":134408094,"body_markdown":"Why do you need a custom `AuthenticationProvider` in its own `AuthenticationManager` why doesn&#39;t the default `AuthenticationManager` work, and use the default database authentication provider?","body":"Why do you need a custom <code>AuthenticationProvider</code> in its own <code>AuthenticationManager</code> why doesn&#39;t the default <code>AuthenticationManager</code> work, and use the default database authentication provider?"},{"owner":{"account_id":8775638,"reputation":241,"user_id":6561000,"display_name":"John"},"score":0,"creation_date":1683715334,"post_id":76216917,"comment_id":134408112,"body_markdown":"It is just a placeholder implementation. At this point I do a user authentication against my database + ldap.","body":"It is just a placeholder implementation. At this point I do a user authentication against my database + ldap."},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1683715363,"post_id":76216917,"comment_id":134408118,"body_markdown":"so why dont you use the default Database authentication provider? your placeholder implementation does not explain your user case","body":"so why dont you use the default Database authentication provider? your placeholder implementation does not explain your user case"},{"owner":{"account_id":8775638,"reputation":241,"user_id":6561000,"display_name":"John"},"score":0,"creation_date":1683716743,"post_id":76216917,"comment_id":134408434,"body_markdown":"i can&#39;t go into details here but it&#39;s neccessary.","body":"i can&#39;t go into details here but it&#39;s neccessary."},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":1,"creation_date":1683732580,"post_id":76216917,"comment_id":134412725,"body_markdown":"well then im not going to do guesswork when trying to solve this when you are not allowed to know the boundries. The solution to your problem is, use the built in features of the framework. Good luck","body":"well then im not going to do guesswork when trying to solve this when you are not allowed to know the boundries. The solution to your problem is, use the built in features of the framework. Good luck"}],"answers":[{"comments":[{"owner":{"account_id":1118598,"reputation":556,"user_id":2462719,"accept_rate":83,"display_name":"AcidHawk"},"score":0,"creation_date":1684919591,"post_id":76224314,"comment_id":134586517,"body_markdown":"Would it not be better to write it as follows: `.httpBasic(withDefaults())\n.sessionManagement((sessionManagement) -&gt;\n                      sessionManagement.sessionCreationPolicy(SessionCreationPolicy..IF_REQUIRED))\n...`","body":"Would it not be better to write it as follows: <code>.httpBasic(withDefaults()) .sessionManagement((sessionManagement) -&gt;                       sessionManagement.sessionCreationPolicy(SessionCreationPolic&zwnj;&#8203;y..IF_REQUIRED)) ...</code>"}],"tags":[],"owner":{"account_id":8775638,"reputation":241,"user_id":6561000,"display_name":"John"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1683781782,"creation_date":1683781782,"answer_id":76224314,"question_id":76216917,"body_markdown":"for everyone having the same issue, you can restore the old session behavior by setting the session creation policy in your security filter chain:\r\n\r\n```java\r\n.httpBasic(withDefaults())\r\n.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.IF_REQUIRED)\r\n...\r\n```","title":"Custom provider getting execude on every request with Spring 6 Basic Authentication","body":"<p>for everyone having the same issue, you can restore the old session behavior by setting the session creation policy in your security filter chain:</p>\n<pre class=\"lang-java prettyprint-override\"><code>.httpBasic(withDefaults())\n.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.IF_REQUIRED)\n...\n</code></pre>\n"}],"owner":{"account_id":8775638,"reputation":241,"user_id":6561000,"display_name":"John"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":512,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76224314,"answer_count":1,"score":-1,"last_activity_date":1683781782,"creation_date":1683711453,"question_id":76216917,"body_markdown":"Currently working on upgrading my web application from Spring Boot 2 to Version 3. As Spring Boot 3 uses Spring 6 I needed to update my security configuration. After my changes I noticed that my custom authentication provider is getting called on every request which leads to heavy database traffic. It&#39;s not happening if I use the spring default login form but with basic authentication.\r\n\r\nHere is my sample security configuration:\r\n\r\n\r\n```java\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class SecurityConfig {\r\n    @Bean\r\n    public AuthenticationManager authenticationManager() {\r\n        return new ProviderManager(new CustomAuthenticationProvider());\r\n    }\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http.authorizeHttpRequests((authorize) -&gt; authorize\r\n                        .anyRequest().authenticated()\r\n                )\r\n                .httpBasic();\r\n        return http.build();\r\n    }\r\n}\r\n```\r\n\r\nMy Provider looks like:\r\n\r\n\r\n```java\r\npublic class CustomAuthenticationProvider implements AuthenticationProvider {\r\n\r\n    @Override\r\n    public Authentication authenticate(Authentication authentication)\r\n            throws AuthenticationException {\r\n\r\n        String username = authentication.getName();\r\n        String password = authentication.getCredentials().toString();\r\n\r\n        if (&quot;admin&quot;.equals(username) &amp;&amp; &quot;admin&quot;.equals(password)) {\r\n            var user = User.withUsername(&quot;admin&quot;).password(&quot;admin&quot;).authorities(new ArrayList&lt;&gt;()).build();\r\n            return new UsernamePasswordAuthenticationToken(user.getUsername(), user.getPassword(), user.getAuthorities());\r\n        } else {\r\n            throw new\r\n                    BadCredentialsException(&quot;system authentication failed&quot;);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public boolean supports(Class&lt;?&gt; auth) {\r\n        return auth.equals(UsernamePasswordAuthenticationToken.class);\r\n    }\r\n}\r\n```\r\n\r\nBehavior in short:\r\n\r\n| SecurityConfig| Behavior |\r\n| -------- | -------- |\r\n| `.formLogin()`  | 1x Login / Provider-Call  |\r\n| `.httpBasic()`    | 1x Login per Session / 1x Provider-Call per request  |\r\n\r\nWhat can I do to get the old behavior back as it was with Spring 5 / Spring Boot 2?\r\n\r\n","title":"Custom provider getting execude on every request with Spring 6 Basic Authentication","body":"<p>Currently working on upgrading my web application from Spring Boot 2 to Version 3. As Spring Boot 3 uses Spring 6 I needed to update my security configuration. After my changes I noticed that my custom authentication provider is getting called on every request which leads to heavy database traffic. It's not happening if I use the spring default login form but with basic authentication.</p>\n<p>Here is my sample security configuration:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfig {\n    @Bean\n    public AuthenticationManager authenticationManager() {\n        return new ProviderManager(new CustomAuthenticationProvider());\n    }\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http.authorizeHttpRequests((authorize) -&gt; authorize\n                        .anyRequest().authenticated()\n                )\n                .httpBasic();\n        return http.build();\n    }\n}\n</code></pre>\n<p>My Provider looks like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class CustomAuthenticationProvider implements AuthenticationProvider {\n\n    @Override\n    public Authentication authenticate(Authentication authentication)\n            throws AuthenticationException {\n\n        String username = authentication.getName();\n        String password = authentication.getCredentials().toString();\n\n        if (&quot;admin&quot;.equals(username) &amp;&amp; &quot;admin&quot;.equals(password)) {\n            var user = User.withUsername(&quot;admin&quot;).password(&quot;admin&quot;).authorities(new ArrayList&lt;&gt;()).build();\n            return new UsernamePasswordAuthenticationToken(user.getUsername(), user.getPassword(), user.getAuthorities());\n        } else {\n            throw new\n                    BadCredentialsException(&quot;system authentication failed&quot;);\n        }\n    }\n\n    @Override\n    public boolean supports(Class&lt;?&gt; auth) {\n        return auth.equals(UsernamePasswordAuthenticationToken.class);\n    }\n}\n</code></pre>\n<p>Behavior in short:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>SecurityConfig</th>\n<th>Behavior</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>.formLogin()</code></td>\n<td>1x Login / Provider-Call</td>\n</tr>\n<tr>\n<td><code>.httpBasic()</code></td>\n<td>1x Login per Session / 1x Provider-Call per request</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>What can I do to get the old behavior back as it was with Spring 5 / Spring Boot 2?</p>\n"},{"tags":["java","android","xml","admob","google-ads-api"],"answers":[{"tags":[],"owner":{"account_id":13736277,"reputation":404,"user_id":9912464,"display_name":"Gouranga Das"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1683780456,"creation_date":1683727501,"answer_id":76219385,"question_id":76210095,"body_markdown":"**First**, I would recommend to follow the [official guidelines][1] to implement banner ads properly in your Android app.\r\n\r\n**Second**, there could be various reasons for not getting ads, for example a recently created AdMob account or a newly created ad unit ID can cause problems.\r\n\r\n**Third**, in your code, you implemented banner ads incorrectly. AdMob recommends that you **set the ad size and ad unit ID in the same way (eg set in XML or both programmatically), but not both**. When you set `app:adSize` and `app:adSize` in xml, there is no need to set the same properties programmatically. \r\n\r\n**Fourth**, In xml you set the id of `AdView` as `android:id=&quot;@+id/ad_container&quot;`. But in code you are accessing `AdView` as `LinearLayout` like below:\r\n\r\n    LinearLayout adContainer = findViewById(R.id.ad_container);\r\n    adContainer.addView(adView);\r\nAnd you are attaching the newly created `AdView` to an another `AdView`.\r\n\r\n**So what is the next step?**\r\n\r\nI am assuming your activity is `MainActivity`. Then change your  code of implementation as below:\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n        private AdView mAdView;\r\n\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n\r\n            MobileAds.initialize(this, new OnInitializationCompleteListener() {\r\n                @Override\r\n                public void onInitializationComplete(InitializationStatus initializationStatus) {\r\n                }\r\n            });\r\n\r\n            //We will use R.id.ad_container here as per your XML\r\n            mAdView = findViewById(R.id.ad_container);\r\n            AdRequest adRequest = new AdRequest.Builder().build();\r\n            mAdView.loadAd(adRequest);\r\n        }\r\n    }\r\n\r\nThe above example is copied from [Admob Documentation][1]. \r\n\r\n**AND** please don&#39;t use real ads for debugging, you should use Admob&#39;s [Demo AdUnit Ids][2] to avoid policy issues.\r\n\r\n\r\nThat&#39;s all I know. Hope it will help.\r\n\r\n\r\n  [1]: https://developers.google.com/admob/android/banner\r\n  [2]: https://developers.google.com/admob/android/test-ads#demo_ad_units","title":"Google AdMob does not show ads","body":"<p><strong>First</strong>, I would recommend to follow the <a href=\"https://developers.google.com/admob/android/banner\" rel=\"nofollow noreferrer\">official guidelines</a> to implement banner ads properly in your Android app.</p>\n<p><strong>Second</strong>, there could be various reasons for not getting ads, for example a recently created AdMob account or a newly created ad unit ID can cause problems.</p>\n<p><strong>Third</strong>, in your code, you implemented banner ads incorrectly. AdMob recommends that you <strong>set the ad size and ad unit ID in the same way (eg set in XML or both programmatically), but not both</strong>. When you set <code>app:adSize</code> and <code>app:adSize</code> in xml, there is no need to set the same properties programmatically.</p>\n<p><strong>Fourth</strong>, In xml you set the id of <code>AdView</code> as <code>android:id=&quot;@+id/ad_container&quot;</code>. But in code you are accessing <code>AdView</code> as <code>LinearLayout</code> like below:</p>\n<pre><code>LinearLayout adContainer = findViewById(R.id.ad_container);\nadContainer.addView(adView);\n</code></pre>\n<p>And you are attaching the newly created <code>AdView</code> to an another <code>AdView</code>.</p>\n<p><strong>So what is the next step?</strong></p>\n<p>I am assuming your activity is <code>MainActivity</code>. Then change your  code of implementation as below:</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n    private AdView mAdView;\n\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        MobileAds.initialize(this, new OnInitializationCompleteListener() {\n            @Override\n            public void onInitializationComplete(InitializationStatus initializationStatus) {\n            }\n        });\n\n        //We will use R.id.ad_container here as per your XML\n        mAdView = findViewById(R.id.ad_container);\n        AdRequest adRequest = new AdRequest.Builder().build();\n        mAdView.loadAd(adRequest);\n    }\n}\n</code></pre>\n<p>The above example is copied from <a href=\"https://developers.google.com/admob/android/banner\" rel=\"nofollow noreferrer\">Admob Documentation</a>.</p>\n<p><strong>AND</strong> please don't use real ads for debugging, you should use Admob's <a href=\"https://developers.google.com/admob/android/test-ads#demo_ad_units\" rel=\"nofollow noreferrer\">Demo AdUnit Ids</a> to avoid policy issues.</p>\n<p>That's all I know. Hope it will help.</p>\n"}],"owner":{"account_id":28558490,"reputation":37,"user_id":21862383,"display_name":"accismns"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76219385,"answer_count":1,"score":0,"last_activity_date":1683780456,"creation_date":1683640326,"question_id":76210095,"body_markdown":"I&#39;m trying to put advertisements on my app, I put my app on amazon app store and then approved by google admob I set up Ad Unit ID (next level promotion) and put in both the xml and java part the appropriate code for it to work however I still don&#39;t get any Ad bar on the home of my app. Does anyone have any idea why it doesn&#39;t come up?\r\n\r\nJava:\r\n\r\n       ` MobileAds.initialize(this, initializationStatus -&gt; {});\r\n        // Create an AdView and set the ad unit ID and ad size\r\n        adView = new AdView(this);\r\n        adView.setAdUnitId(&quot;*******&quot;); \r\n        adView.setAdSize(AdSize.BANNER);\r\n\r\n        // Add the AdView to your layout\r\n        LinearLayout adContainer = findViewById(R.id.ad_container);\r\n        if (adContainer != null) {\r\n            adContainer.addView(adView);\r\n\r\n            // Load an ad\r\n            AdRequest adRequest = new AdRequest.Builder().build();\r\n            adView.loadAd(adRequest);\r\n        }`\r\n\r\nXML:\r\n\r\n           `&lt;com.google.android.gms.ads.AdView\r\n            android:id=&quot;@+id/ad_container&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_alignParentBottom=&quot;true&quot;\r\n            app:adSize=&quot;BANNER&quot;\r\n            app:adUnitId=&quot;***&quot; /&gt;`\r\n\r\n","title":"Google AdMob does not show ads","body":"<p>I'm trying to put advertisements on my app, I put my app on amazon app store and then approved by google admob I set up Ad Unit ID (next level promotion) and put in both the xml and java part the appropriate code for it to work however I still don't get any Ad bar on the home of my app. Does anyone have any idea why it doesn't come up?</p>\n<p>Java:</p>\n<pre><code>   ` MobileAds.initialize(this, initializationStatus -&gt; {});\n    // Create an AdView and set the ad unit ID and ad size\n    adView = new AdView(this);\n    adView.setAdUnitId(&quot;*******&quot;); \n    adView.setAdSize(AdSize.BANNER);\n\n    // Add the AdView to your layout\n    LinearLayout adContainer = findViewById(R.id.ad_container);\n    if (adContainer != null) {\n        adContainer.addView(adView);\n\n        // Load an ad\n        AdRequest adRequest = new AdRequest.Builder().build();\n        adView.loadAd(adRequest);\n    }`\n</code></pre>\n<p>XML:</p>\n<pre><code>       `&lt;com.google.android.gms.ads.AdView\n        android:id=&quot;@+id/ad_container&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_alignParentBottom=&quot;true&quot;\n        app:adSize=&quot;BANNER&quot;\n        app:adUnitId=&quot;***&quot; /&gt;`\n</code></pre>\n"},{"tags":["java","image","png","xmp","apache-commons-io"],"owner":{"account_id":19050,"reputation":29594,"user_id":44286,"accept_rate":77,"display_name":"Omnipresent"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":813,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1683779969,"creation_date":1477520541,"question_id":40273064,"body_markdown":"I am using the commons io imaging library. On the [format page][1] the library says\r\n\r\n&gt; Can read XMP XML (as as String) from TIFF, GIF, PNG, JPEG and PSD. Can\r\n&gt; embed XMP XML when writing GIF, PNG and TIFF. Can remove, insert and\r\n&gt; update XMP XML into existing JPEG files.\r\n\r\nHowever, I can&#39;t find any example of how to embed xmp xml to a PNG image. I&#39;ve been able to update xmp xml of a JPEG with the code below but not sure how to do it for PNG\r\n\r\n            String xmpXml = &quot;&lt;x:xmpmeta&gt;&quot; +\r\n            &quot;\\n&lt;sample&gt;&quot; +\r\n            &quot;\\n\\t&lt;Date&gt;&quot;+&quot;some date&quot;+&quot;&lt;/Date&gt;&quot; +\r\n            &quot;\\n\\t&lt;Description&gt;&quot;+&quot;Some description&quot;+&quot;&lt;/Description&gt;&quot; +\r\n            &quot;\\n&lt;/sample&gt;&quot; +\r\n            &quot;\\n&lt;/x:xmpmeta&gt;&quot;;\r\n          JpegXmpRewriter rewriter = new JpegXmpRewriter();\r\n          rewriter.updateXmpXml(isNew1,os, xmpXml);\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-imaging/formatsupport.html","title":"How to embed xmp xml metadata to PNG","body":"<p>I am using the commons io imaging library. On the <a href=\"https://commons.apache.org/proper/commons-imaging/formatsupport.html\" rel=\"nofollow\">format page</a> the library says</p>\n\n<blockquote>\n  <p>Can read XMP XML (as as String) from TIFF, GIF, PNG, JPEG and PSD. Can\n  embed XMP XML when writing GIF, PNG and TIFF. Can remove, insert and\n  update XMP XML into existing JPEG files.</p>\n</blockquote>\n\n<p>However, I can't find any example of how to embed xmp xml to a PNG image. I've been able to update xmp xml of a JPEG with the code below but not sure how to do it for PNG</p>\n\n<pre><code>        String xmpXml = \"&lt;x:xmpmeta&gt;\" +\n        \"\\n&lt;sample&gt;\" +\n        \"\\n\\t&lt;Date&gt;\"+\"some date\"+\"&lt;/Date&gt;\" +\n        \"\\n\\t&lt;Description&gt;\"+\"Some description\"+\"&lt;/Description&gt;\" +\n        \"\\n&lt;/sample&gt;\" +\n        \"\\n&lt;/x:xmpmeta&gt;\";\n      JpegXmpRewriter rewriter = new JpegXmpRewriter();\n      rewriter.updateXmpXml(isNew1,os, xmpXml);\n</code></pre>\n"},{"tags":["java","fingerprint","biometrics","iso-19794"],"comments":[{"owner":{"account_id":957028,"reputation":15143,"user_id":982149,"accept_rate":100,"display_name":"Fildor"},"score":1,"creation_date":1369734647,"post_id":16787228,"comment_id":24193207,"body_markdown":"Shouldn&#39;t the Standard Document for ISO 19794-4 tell you this? Or am I missing something. I don&#39;t know the contents of the document, but I&#39;d expect that to be defined there.","body":"Shouldn&#39;t the Standard Document for ISO 19794-4 tell you this? Or am I missing something. I don&#39;t know the contents of the document, but I&#39;d expect that to be defined there."},{"owner":{"account_id":2157072,"reputation":3397,"user_id":1912032,"accept_rate":86,"display_name":"code_fish"},"score":0,"creation_date":1369736115,"post_id":16787228,"comment_id":24194022,"body_markdown":"@Fildor yes I have the document but from the document what I understand is that I should put image data with the BDIR header. But I want to know how do people/biometric device process the image with bdir information.","body":"@Fildor yes I have the document but from the document what I understand is that I should put image data with the BDIR header. But I want to know how do people/biometric device process the image with bdir information."}],"answers":[{"tags":[],"owner":{"account_id":104568,"reputation":4517,"user_id":279511,"accept_rate":76,"display_name":"tbsalling"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1495698700,"creation_date":1370264528,"answer_id":16897391,"question_id":16787228,"body_markdown":"You can get inspiration from the source code of [JMRTD][1]. Especially the [FingerImageInfo.java][2] file.\r\n\r\n\r\n  [1]: http://jmrtd.org/\r\n  [2]: https://static.javadoc.io/org.jmrtd/jmrtd/0.5.13/org/jmrtd/lds/iso19794/FingerImageInfo.html","title":"Create image from ISO/IEC 19794-4 image data file","body":"<p>You can get inspiration from the source code of <a href=\"http://jmrtd.org/\" rel=\"nofollow noreferrer\">JMRTD</a>. Especially the <a href=\"https://static.javadoc.io/org.jmrtd/jmrtd/0.5.13/org/jmrtd/lds/iso19794/FingerImageInfo.html\" rel=\"nofollow noreferrer\">FingerImageInfo.java</a> file.</p>\n"},{"comments":[{"owner":{"account_id":2157072,"reputation":3397,"user_id":1912032,"accept_rate":86,"display_name":"code_fish"},"score":0,"creation_date":1370583836,"post_id":16949929,"comment_id":24522608,"body_markdown":"thanks for the help.I am struck at capturing date and time. According to ISO example they are encoding &quot;December 15,2005 at\n17:35:19.000&quot; as &quot;07D5 0C 0F 11 23 13 0000Hex&quot;. I am not getting how they are doing it. Could you guide me?","body":"thanks for the help.I am struck at capturing date and time. According to ISO example they are encoding &quot;December 15,2005 at 17:35:19.000&quot; as &quot;07D5 0C 0F 11 23 13 0000Hex&quot;. I am not getting how they are doing it. Could you guide me?"},{"owner":{"account_id":104568,"reputation":4517,"user_id":279511,"accept_rate":76,"display_name":"tbsalling"},"score":2,"creation_date":1370584456,"post_id":16949929,"comment_id":24522816,"body_markdown":"I do not know the standard - but it looks like hexadecimal numbers to me. 0x07d5=2005, 0x0C=12, 0x0F=15, 0x11=17, 0x23=35, 0x23=19. Straight forward ;-).","body":"I do not know the standard - but it looks like hexadecimal numbers to me. 0x07d5=2005, 0x0C=12, 0x0F=15, 0x11=17, 0x23=35, 0x23=19. Straight forward ;-)."},{"owner":{"account_id":2157072,"reputation":3397,"user_id":1912032,"accept_rate":86,"display_name":"code_fish"},"score":0,"creation_date":1370589344,"post_id":16949929,"comment_id":24524867,"body_markdown":"@tbsalling Yes i got that point. But as per defined in ISO19794-4 document &quot;The capture date and time field shall be encoded in accordance to the requirements given in ISO/IEC 19794-1.&quot; So I want to know about the same.","body":"@tbsalling Yes i got that point. But as per defined in ISO19794-4 document &quot;The capture date and time field shall be encoded in accordance to the requirements given in ISO/IEC 19794-1.&quot; So I want to know about the same."},{"owner":{"account_id":2157072,"reputation":3397,"user_id":1912032,"accept_rate":86,"display_name":"code_fish"},"score":0,"creation_date":1371209857,"post_id":16949929,"comment_id":24749988,"body_markdown":"@Celino Celino. Could you guide me how to capture Date Time for ISO/IEC format? Here is my email id: arun.chauhan.it2010@gmail.com","body":"@Celino Celino. Could you guide me how to capture Date Time for ISO/IEC format? Here is my email id: arun.chauhan.it2010@gmail.com"}],"tags":[],"owner":{"account_id":295872,"reputation":325,"user_id":600504,"display_name":"Celino"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1414435368,"creation_date":1370466526,"answer_id":16949929,"question_id":16787228,"body_markdown":"If you see Table B-2 of ISO 19794-4, have an example of file were uncompressed image data will be from 15th bytes from end of file. But this depends of what compression algorithm is been used: WSQ, JPEG, JPEG2000 or PNG. I don`t know a commercial or opensource libray that take an ISO file and converts to image.\r\n\r\nNeeds to read entire specification to understand this standard. It`s like a normal image file, have a header telling somethings about image and after that the pixel data. But if you see annex B maybe you can understand better this standard.\r\n\r\nI already work with this standard and we have a library developed by us to use it. If you need more specific question, please ask and I will try answer without violating my NDA at work.","title":"Create image from ISO/IEC 19794-4 image data file","body":"<p>If you see Table B-2 of ISO 19794-4, have an example of file were uncompressed image data will be from 15th bytes from end of file. But this depends of what compression algorithm is been used: WSQ, JPEG, JPEG2000 or PNG. I don`t know a commercial or opensource libray that take an ISO file and converts to image.</p>\n\n<p>Needs to read entire specification to understand this standard. It`s like a normal image file, have a header telling somethings about image and after that the pixel data. But if you see annex B maybe you can understand better this standard.</p>\n\n<p>I already work with this standard and we have a library developed by us to use it. If you need more specific question, please ask and I will try answer without violating my NDA at work.</p>\n"},{"comments":[{"owner":{"account_id":295872,"reputation":325,"user_id":600504,"display_name":"Celino"},"score":0,"creation_date":1371212745,"post_id":17004297,"comment_id":24751565,"body_markdown":"Yes, you are right. With ImageIO will be easy to read it. To WSQ, I already saw a plugin used by another developer in a project I worked. But I don`t know about license of this plugin.","body":"Yes, you are right. With ImageIO will be easy to read it. To WSQ, I already saw a plugin used by another developer in a project I worked. But I don`t know about license of this plugin."}],"tags":[],"owner":{"account_id":1531514,"reputation":26639,"user_id":1428606,"accept_rate":71,"display_name":"Harald K"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1370729004,"creation_date":1370729004,"answer_id":17004297,"question_id":16787228,"body_markdown":"Disclaimer: I don&#39;t know the spec. \r\n\r\nAnyway, if @Celino is right about the offsets and the formats for the image data you should be able to show the images fairly easy. ImageIO can read the data if it&#39;s either JPEG (JFIF) or PNG. If it&#39;s JPEG2000, you might need JAI (jai-imageio) to read it. However, if it&#39;s WSQ, I&#39;m not sure if there&#39;s a plugin or Java library available.","title":"Create image from ISO/IEC 19794-4 image data file","body":"<p>Disclaimer: I don't know the spec. </p>\n\n<p>Anyway, if @Celino is right about the offsets and the formats for the image data you should be able to show the images fairly easy. ImageIO can read the data if it's either JPEG (JFIF) or PNG. If it's JPEG2000, you might need JAI (jai-imageio) to read it. However, if it's WSQ, I'm not sure if there's a plugin or Java library available.</p>\n"},{"tags":[],"owner":{"account_id":2889312,"reputation":53,"user_id":2478453,"display_name":"Haiko"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1394702758,"creation_date":1394702758,"answer_id":22374121,"question_id":16787228,"body_markdown":"There are some commercial libs available to decode WSQ, search for Neurotechnology, Cognaxon ...\r\nAll these are native C libs so you need to integrate them via JNI.","title":"Create image from ISO/IEC 19794-4 image data file","body":"<p>There are some commercial libs available to decode WSQ, search for Neurotechnology, Cognaxon ...\nAll these are native C libs so you need to integrate them via JNI.</p>\n"},{"tags":[],"owner":{"account_id":10579727,"reputation":71,"user_id":7794027,"display_name":"Sazib"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683777930,"creation_date":1683777930,"answer_id":76224080,"question_id":16787228,"body_markdown":"If you are using **Secugen** fingerprint scanner you can use this method It&#39;s working for me. Here you should pass image `width`, `height`, `file path` and `JSGPLib object`. My import&#39;s: `enter code here`\r\n\r\n    import java.awt.image.BufferedImage;\r\n    import java.awt.image.*;\r\n    import java.awt.*;\r\n    import java.awt.color.ColorSpace;\r\n    import javax.imageio.ImageIO;\r\n    import java.io.BufferedOutputStream;\r\n    import java.io.ByteArrayInputStream;\r\n    import java.io.ByteArrayOutputStream;\r\n    import java.io.File;\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n\r\n    public void getImageIconF(int imageWidth, int imageHeight, JSGFPLib sgfplib, String path) {\r\n    \t\tint[] quality = new int[1];\r\n    \t\tlong nfiqvalue;\r\n    \t\tBufferedImage img1gray = new BufferedImage(imageWidth, imageHeight, BufferedImage.TYPE_BYTE_GRAY);\r\n    \t\tbyte[] imageBuffer1 = ((java.awt.image.DataBufferByte) img1gray.getRaster().getDataBuffer()).getData();\r\n    \t\tsgfplib.GetImageEx(imageBuffer1, 10 * 1000, 0, 50);\r\n    \t\ttry {\r\n    \t\t\tImageIO.write(img1gray, &quot;PNG&quot;, new File(path));\r\n    \t\t} catch (IOException e) {\r\n    \t\t\t// TODO Auto-generated catch block\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n","title":"Create image from ISO/IEC 19794-4 image data file","body":"<p>If you are using <strong>Secugen</strong> fingerprint scanner you can use this method It's working for me. Here you should pass image <code>width</code>, <code>height</code>, <code>file path</code> and <code>JSGPLib object</code>. My import's: <code>enter code here</code></p>\n<pre><code>import java.awt.image.BufferedImage;\nimport java.awt.image.*;\nimport java.awt.*;\nimport java.awt.color.ColorSpace;\nimport javax.imageio.ImageIO;\nimport java.io.BufferedOutputStream;\nimport java.io.ByteArrayInputStream;\nimport java.io.ByteArrayOutputStream;\nimport java.io.File;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\n\npublic void getImageIconF(int imageWidth, int imageHeight, JSGFPLib sgfplib, String path) {\n        int[] quality = new int[1];\n        long nfiqvalue;\n        BufferedImage img1gray = new BufferedImage(imageWidth, imageHeight, BufferedImage.TYPE_BYTE_GRAY);\n        byte[] imageBuffer1 = ((java.awt.image.DataBufferByte) img1gray.getRaster().getDataBuffer()).getData();\n        sgfplib.GetImageEx(imageBuffer1, 10 * 1000, 0, 50);\n        try {\n            ImageIO.write(img1gray, &quot;PNG&quot;, new File(path));\n        } catch (IOException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n        \n    }\n</code></pre>\n"}],"owner":{"account_id":2157072,"reputation":3397,"user_id":1912032,"accept_rate":86,"display_name":"code_fish"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4658,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":16897391,"answer_count":5,"score":7,"last_activity_date":1683777930,"creation_date":1369729372,"question_id":16787228,"body_markdown":"I am having a Bio metric finger print scanning device and we are able to read the data scanned by image. Now we have to make the image in accordace with the ISO compliance i.e. we have to add the `Binary Data Interchange Record(BDIR)` with the image data to follow the data record interchange format as specified in `ISO/IEC 19794-4:2011`.\r\n\r\n\r\n\r\n**UPDATE:**\r\nI have an ISO/IEC 19794-4 image data file. I have to make image from the data. Now the data has the additional General header and Representation header information along with image data. How can I make image from this data. Should I just extract the image data from ISO/IEC 19794-4 image data and show it on screen?\r\n\r\nOR \r\n\r\nWhat is the proper way of creating and showing image from ISO/IEC 19794-4 image data file.\r\n\r\nThanks in advance","title":"Create image from ISO/IEC 19794-4 image data file","body":"<p>I am having a Bio metric finger print scanning device and we are able to read the data scanned by image. Now we have to make the image in accordace with the ISO compliance i.e. we have to add the <code>Binary Data Interchange Record(BDIR)</code> with the image data to follow the data record interchange format as specified in <code>ISO/IEC 19794-4:2011</code>.</p>\n\n<p><strong>UPDATE:</strong>\nI have an ISO/IEC 19794-4 image data file. I have to make image from the data. Now the data has the additional General header and Representation header information along with image data. How can I make image from this data. Should I just extract the image data from ISO/IEC 19794-4 image data and show it on screen?</p>\n\n<p>OR </p>\n\n<p>What is the proper way of creating and showing image from ISO/IEC 19794-4 image data file.</p>\n\n<p>Thanks in advance</p>\n"},{"tags":["java","bigdecimal","bignum","web3-java"],"answers":[{"comments":[{"owner":{"account_id":10060184,"reputation":2295,"user_id":7437143,"accept_rate":100,"display_name":"a.t."},"score":1,"creation_date":1631146323,"post_id":62302672,"comment_id":122147349,"body_markdown":"I got this error on running a waffle test: `expect(await vrfContract.getHardcodedUintNumber()).to.be.equal(18446205110165755834005948204546580960626098221936403173208959885300094367089);` and was a bit confused by the answer as I thought (and think) it implied: &quot;return the `uint256` as a string from the function&quot;, even though, in my case, it should return a uint256. However, putting the expected number in double quotes resolved (as a string) it: `expect(await vrfContract.getHardcodedUintNumber()).to.be.equal(&quot;18446205110165755834005948204546580960626098221936403173208959885300094367089&quot;);`","body":"I got this error on running a waffle test: <code>expect(await vrfContract.getHardcodedUintNumber()).to.be.equal(1844620511&zwnj;&#8203;01657558340059482045&zwnj;&#8203;46580960626098221936&zwnj;&#8203;40317320895988530009&zwnj;&#8203;4367089);</code> and was a bit confused by the answer as I thought (and think) it implied: &quot;return the <code>uint256</code> as a string from the function&quot;, even though, in my case, it should return a uint256. However, putting the expected number in double quotes resolved (as a string) it: <code>expect(await vrfContract.getHardcodedUintNumber()).to.be.equal(&quot;184462051&zwnj;&#8203;10165755834005948204&zwnj;&#8203;54658096062609822193&zwnj;&#8203;64031732089598853000&zwnj;&#8203;94367089&quot;);</code>"},{"owner":{"account_id":437248,"reputation":3756,"user_id":824846,"accept_rate":73,"display_name":"Marco Altieri"},"score":1,"creation_date":1666552196,"post_id":62302672,"comment_id":130959172,"body_markdown":"This works. Solidity sometimes can be really awful.","body":"This works. Solidity sometimes can be really awful."},{"owner":{"account_id":4299719,"reputation":1047,"user_id":3513687,"accept_rate":42,"display_name":"anusreemn"},"score":0,"creation_date":1677583665,"post_id":62302672,"comment_id":133362685,"body_markdown":"Got the error when trying to run Value.new(lovelaces) where lovelaces came in from the BE api. Resolved by converting to string and processing the BigNum from it; after hours of debugging found this post!!\n\nlovelaces = BigNum.from_str(lovelaces.toString())","body":"Got the error when trying to run Value.new(lovelaces) where lovelaces came in from the BE api. Resolved by converting to string and processing the BigNum from it; after hours of debugging found this post!!  lovelaces = BigNum.from_str(lovelaces.toString())"}],"tags":[],"owner":{"account_id":9815835,"reputation":1242,"user_id":7272379,"display_name":"Fariha Abbasi"},"comment_count":3,"down_vote_count":0,"up_vote_count":61,"is_accepted":false,"score":61,"last_activity_date":1660147256,"creation_date":1591789177,"answer_id":62302672,"question_id":62301960,"body_markdown":"I tried sending the parameter as a String and it worked.","title":"Unable to call contract function from web3 with big number as parameter","body":"<p>I tried sending the parameter as a String and it worked.</p>\n"},{"comments":[{"owner":{"account_id":3273747,"reputation":20852,"user_id":2756409,"accept_rate":100,"display_name":"TylerH"},"score":0,"creation_date":1660147424,"post_id":69871180,"comment_id":129465860,"body_markdown":"This looks like JavaScript; OP&#39;s code is Java.","body":"This looks like JavaScript; OP&#39;s code is Java."}],"tags":[],"owner":{"account_id":1856445,"reputation":5907,"user_id":1681903,"accept_rate":71,"display_name":"vanduc1102"},"comment_count":1,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1683777335,"creation_date":1636277271,"answer_id":69871180,"question_id":62301960,"body_markdown":"I&#39;m using BigInt in my Truffle UnitTest ( this is typescript code )\r\n\r\n```typescript\r\nit(&#39;should return correct balances when transfer&#39;, async () =&gt; {\r\n    const receiver = accounts[2];\r\n    const balanceOfOwner = await contractInstance.balanceOf.call(owner);\r\n    assert.equal(balanceOfOwner, totalSupply * 10 ** decimals, &#39;Total balance&#39;);\r\n\r\n    const sendAmount = 69 * 10 ** decimals;\r\n    await contractInstance.transfer(receiver, BigInt(sendAmount), {\r\n      from: owner,\r\n    });\r\n\r\n    const balanceOfReceiver = await contractInstance.balanceOf.call(receiver);\r\n    assert.equal(balanceOfReceiver, sendAmount, &#39;Received sendAmount&#39;);\r\n    assert.equal(\r\n      await contractInstance.balanceOf.call(owner),\r\n      balanceOfOwner - sendAmount,\r\n      &#39;Decreased to&#39;\r\n    );\r\n  });\r\n```","title":"Unable to call contract function from web3 with big number as parameter","body":"<p>I'm using BigInt in my Truffle UnitTest ( this is typescript code )</p>\n<pre class=\"lang-js prettyprint-override\"><code>it('should return correct balances when transfer', async () =&gt; {\n    const receiver = accounts[2];\n    const balanceOfOwner = await contractInstance.balanceOf.call(owner);\n    assert.equal(balanceOfOwner, totalSupply * 10 ** decimals, 'Total balance');\n\n    const sendAmount = 69 * 10 ** decimals;\n    await contractInstance.transfer(receiver, BigInt(sendAmount), {\n      from: owner,\n    });\n\n    const balanceOfReceiver = await contractInstance.balanceOf.call(receiver);\n    assert.equal(balanceOfReceiver, sendAmount, 'Received sendAmount');\n    assert.equal(\n      await contractInstance.balanceOf.call(owner),\n      balanceOfOwner - sendAmount,\n      'Decreased to'\n    );\n  });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23232110,"reputation":101,"user_id":17322664,"display_name":"Ogubuike Alexandra"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648800428,"creation_date":1648800428,"answer_id":71703709,"question_id":62301960,"body_markdown":"For me, I was trying to call .toNumber() on a BigNumber and the error came up. It went away when I used .toString() instead \r\n\r\n```\r\nx.toString();\r\n```","title":"Unable to call contract function from web3 with big number as parameter","body":"<p>For me, I was trying to call .toNumber() on a BigNumber and the error came up. It went away when I used .toString() instead</p>\n<pre><code>x.toString();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20525661,"reputation":653,"user_id":15064155,"display_name":"Aun Shahbaz Awan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653060244,"creation_date":1653060244,"answer_id":72321364,"question_id":62301960,"body_markdown":"To enable the **BigInt** global you can add a comment to your code:\r\n\r\n    /* global BigInt */\r\n\r\nand here is the web3 code snippet:\r\n\r\n    Contract.methods.lock(0x57AA33D53351eA4BF00C6F10c816B3037E268b7a, \r\n       BigInt(10000000000000000000)).send({\r\n          from: accounts[0],\r\n          gasLimit: 500000,\r\n          value: 0\r\n       });\r\n\r\n\r\n\r\n","title":"Unable to call contract function from web3 with big number as parameter","body":"<p>To enable the <strong>BigInt</strong> global you can add a comment to your code:</p>\n<pre><code>/* global BigInt */\n</code></pre>\n<p>and here is the web3 code snippet:</p>\n<pre><code>Contract.methods.lock(0x57AA33D53351eA4BF00C6F10c816B3037E268b7a, \n   BigInt(10000000000000000000)).send({\n      from: accounts[0],\n      gasLimit: 500000,\n      value: 0\n   });\n</code></pre>\n"}],"owner":{"account_id":9815835,"reputation":1242,"user_id":7272379,"display_name":"Fariha Abbasi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24429,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"answer_count":4,"score":27,"last_activity_date":1683777335,"creation_date":1591786895,"question_id":62301960,"body_markdown":"I am trying to call a custom function of a contract that expects a parameter of unit256.\r\n\r\nI&#39;m calling this function from web3 with this value as parameter: 10000000000000000000 (10 with 18 zeros)\r\nAs soon as this call is hit by web3, I faced following Big number error:\r\n\r\n&gt; Error: overflow (fault=&quot;overflow&quot;, operation=&quot;BigNumber.from&quot;, value=10000000000000000000, code=NUMERIC_FAULT, version=bignumber/5.0.0-beta.138)**\r\n\r\nDoes anyone know the cause?\r\n\r\nHere is the function of the contract I&#39;m calling:\r\n\r\n    function lock(\r\n        address tokenAddress,\r\n        uint256 amount\r\n    )\r\nand here is the web3 code snippet:\r\n\r\n    Contract.methods.lock(0x57AA33D53351eA4BF00C6F10c816B3037E268b7a, 10000000000000000000,\r\n            ).send({\r\n                from: accounts[0],\r\n                gasLimit: 500000,\r\n                value: 0\r\n            });\r\n\r\nI tried the same function with small values for amount and it worked e.g. 1(with 18 zeros)","title":"Unable to call contract function from web3 with big number as parameter","body":"<p>I am trying to call a custom function of a contract that expects a parameter of unit256.</p>\n<p>I'm calling this function from web3 with this value as parameter: 10000000000000000000 (10 with 18 zeros)\nAs soon as this call is hit by web3, I faced following Big number error:</p>\n<blockquote>\n<p>Error: overflow (fault=&quot;overflow&quot;, operation=&quot;BigNumber.from&quot;, value=10000000000000000000, code=NUMERIC_FAULT, version=bignumber/5.0.0-beta.138)**</p>\n</blockquote>\n<p>Does anyone know the cause?</p>\n<p>Here is the function of the contract I'm calling:</p>\n<pre><code>function lock(\n    address tokenAddress,\n    uint256 amount\n)\n</code></pre>\n<p>and here is the web3 code snippet:</p>\n<pre><code>Contract.methods.lock(0x57AA33D53351eA4BF00C6F10c816B3037E268b7a, 10000000000000000000,\n        ).send({\n            from: accounts[0],\n            gasLimit: 500000,\n            value: 0\n        });\n</code></pre>\n<p>I tried the same function with small values for amount and it worked e.g. 1(with 18 zeros)</p>\n"},{"tags":["java","java.util.scanner","removing-whitespace"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1570584709,"post_id":58295896,"comment_id":102955358,"body_markdown":"`String [] nums = keyboard.nextLine().split(&quot;+&quot;)` - use Integer.valueOf(nums[0]) etc.","body":"<code>String [] nums = keyboard.nextLine().split(&quot;+&quot;)</code> - use Integer.valueOf(nums[0]) etc."},{"owner":{"account_id":16852777,"reputation":11,"user_id":12185314,"display_name":"computer891"},"score":0,"creation_date":1570584954,"post_id":58295896,"comment_id":102955398,"body_markdown":"but the scanner has to be able read any operator not specific and why an array?","body":"but the scanner has to be able read any operator not specific and why an array?"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1570585594,"post_id":58295896,"comment_id":102955515,"body_markdown":"In that case you are better finding a library that does this for you.","body":"In that case you are better finding a library that does this for you."}],"answers":[{"tags":[],"owner":{"account_id":16158789,"reputation":21,"user_id":11665426,"display_name":"jay patel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1570586259,"creation_date":1570586259,"answer_id":58296059,"question_id":58295896,"body_markdown":"&gt;This is not working because you don&#39;t enter it with spaces. Try entering is separately like entering 1 and the enter and then + and the enter and then 1. \r\n&gt; hope This helps you.\r\n\r\n```\r\nimport java.util.*;\r\nimport java.io.*;\r\npublic class operations{\r\n   public static void main(String[] args){\r\n      Scanner sc = new Scanner(System.in);\r\n      System.out.println(&quot;Enter the equation&quot;);\r\n      String eq  = sc.nextLine();\r\n      System.out.println(eq);\r\n      String[] result = eq.split(&quot;(?&lt;=[-+*/])|(?=[-+*/])&quot;);\r\n      System.out.println(result[0]);\r\n      System.out.println(result[1]);\r\n      System.out.println(result[2]);\r\n   }\r\n}  \r\n\r\n```","title":"Is there a way to create a simple equation using scanner","body":"<blockquote>\n  <p>This is not working because you don't enter it with spaces. Try entering is separately like entering 1 and the enter and then + and the enter and then 1. \n  hope This helps you.</p>\n</blockquote>\n\n<pre><code>import java.util.*;\nimport java.io.*;\npublic class operations{\n   public static void main(String[] args){\n      Scanner sc = new Scanner(System.in);\n      System.out.println(\"Enter the equation\");\n      String eq  = sc.nextLine();\n      System.out.println(eq);\n      String[] result = eq.split(\"(?&lt;=[-+*/])|(?=[-+*/])\");\n      System.out.println(result[0]);\n      System.out.println(result[1]);\n      System.out.println(result[2]);\n   }\n}  \n\n</code></pre>\n"}],"owner":{"account_id":16852777,"reputation":11,"user_id":12185314,"display_name":"computer891"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":295,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683777091,"creation_date":1570584525,"question_id":58295896,"body_markdown":"I&#39;m a beginner in java, and I am trying to figure out why 2 operands with an operator &quot;without spaces&quot; is not allowed in a scanner. \r\n\r\nI&#39;m trying to do an output that does\r\n \r\n    enter an operand with an operator and another operand: \r\n    1+1 \r\n    The answer is: 2.0 \r\n\r\nThe first and last lines is ok to understand, but the 2nd line I thought it would be simple, but I get an error when I put 1+1. However when I do 1 + 1 it works (with spaces). I declared 3 variables to input in the scanner:\r\n\r\n    double input1 = keyboard.nextDouble();\r\n    char operator = keyboard.next().charAt(0);\r\n\tdouble input2 = keyboard.nextDouble();\r\n\r\nI tried this but an error occurred, but by doing 1 + 1 using the scanner (above) it worked. Is there a way to remove the spaces between operands and operator?","title":"Is there a way to create a simple equation using scanner","body":"<p>I'm a beginner in java, and I am trying to figure out why 2 operands with an operator \"without spaces\" is not allowed in a scanner. </p>\n\n<p>I'm trying to do an output that does</p>\n\n<pre><code>enter an operand with an operator and another operand: \n1+1 \nThe answer is: 2.0 \n</code></pre>\n\n<p>The first and last lines is ok to understand, but the 2nd line I thought it would be simple, but I get an error when I put 1+1. However when I do 1 + 1 it works (with spaces). I declared 3 variables to input in the scanner:</p>\n\n<pre><code>double input1 = keyboard.nextDouble();\nchar operator = keyboard.next().charAt(0);\ndouble input2 = keyboard.nextDouble();\n</code></pre>\n\n<p>I tried this but an error occurred, but by doing 1 + 1 using the scanner (above) it worked. Is there a way to remove the spaces between operands and operator?</p>\n"},{"tags":["java","for-loop","iterator","queue"],"comments":[{"owner":{"account_id":6379952,"reputation":3111,"user_id":4949750,"display_name":"Amongalen"},"score":2,"creation_date":1588860492,"post_id":61659790,"comment_id":109067476,"body_markdown":"Why do you think it would remove any element? You never called `remove()`. You can think of an `iterator` as a pointer, that is pointing at specific element of the collection. When you call `i.next()`, the pointer moves by one and points on another element.","body":"Why do you think it would remove any element? You never called <code>remove()</code>. You can think of an <code>iterator</code> as a pointer, that is pointing at specific element of the collection. When you call <code>i.next()</code>, the pointer moves by one and points on another element."},{"owner":{"account_id":8262666,"reputation":1,"user_id":6213462,"display_name":"Lahiru Ekanayake"},"score":0,"creation_date":1588864830,"post_id":61659790,"comment_id":109070262,"body_markdown":"@Amongalen Beacuse I am assuming `Queue` only have `remove()/poll()` methods to get all of the stored values/objects. Therefore, how can an *iterator* of a `Queue object` traverse it without changing the `Queue`, *`names`*?           Also, if `next()` uses a pointer on a `Queue object` what is the method it uses to get the n_th element ?","body":"@Amongalen Beacuse I am assuming <code>Queue</code> only have <code>remove()&#47;poll()</code> methods to get all of the stored values/objects. Therefore, how can an <i>iterator</i> of a <code>Queue object</code> traverse it without changing the <code>Queue</code>, <i><code>names</code></i>?           Also, if <code>next()</code> uses a pointer on a <code>Queue object</code> what is the method it uses to get the n_th element ?"}],"answers":[{"comments":[{"owner":{"account_id":8262666,"reputation":1,"user_id":6213462,"display_name":"Lahiru Ekanayake"},"score":0,"creation_date":1588865728,"post_id":61659962,"comment_id":109070819,"body_markdown":"I know I can use your suggestion and I have used it. I&#39;m wondering how this java native enhanced for loop does it, though. In [here(documentation for enhanced for loop)](http://docs.oracle.com/javase/specs/jls/se8/html/jls-14.html#jls-14.14.2) , it says they use the `iterator.next()` method to get the element. But, how could that be possible since `java.util.Queue` doesn&#39;t have a `get()` method.","body":"I know I can use your suggestion and I have used it. I&#39;m wondering how this java native enhanced for loop does it, though. In <a href=\"http://docs.oracle.com/javase/specs/jls/se8/html/jls-14.html#jls-14.14.2\" rel=\"nofollow noreferrer\">here(documentation for enhanced for loop)</a> , it says they use the <code>iterator.next()</code> method to get the element. But, how could that be possible since <code>java.util.Queue</code> doesn&#39;t have a <code>get()</code> method."},{"owner":{"account_id":1857245,"reputation":9188,"user_id":1682559,"accept_rate":80,"display_name":"Kevin Cruijssen"},"score":0,"creation_date":1588869078,"post_id":61659962,"comment_id":109072895,"body_markdown":"@LahiruEkanayake I&#39;ve added some clarifications at the bottom. The `Queue` (and other Collection-implementations) each have their own implementation of the `iterator()` method, using the `Iterator`-interface. For the Queue in particular, it simply keeps track of the current item in a local variable using the `Node first` initially with `Item current = first;`, and going to the next one in line inside the `next()` method implementation with `current = current.next;`. I&#39;m not sure where you&#39;ve read that it uses the `get()` method, but the `iterator()` and thus its `next()` differs per Collection","body":"@LahiruEkanayake I&#39;ve added some clarifications at the bottom. The <code>Queue</code> (and other Collection-implementations) each have their own implementation of the <code>iterator()</code> method, using the <code>Iterator</code>-interface. For the Queue in particular, it simply keeps track of the current item in a local variable using the <code>Node first</code> initially with <code>Item current = first;</code>, and going to the next one in line inside the <code>next()</code> method implementation with <code>current = current.next;</code>. I&#39;m not sure where you&#39;ve read that it uses the <code>get()</code> method, but the <code>iterator()</code> and thus its <code>next()</code> differs per Collection"},{"owner":{"account_id":8262666,"reputation":1,"user_id":6213462,"display_name":"Lahiru Ekanayake"},"score":0,"creation_date":1589055458,"post_id":61659962,"comment_id":109142803,"body_markdown":"Please correct me if I&#39;m wrong. I found that, since `names` is a `LinkedList` object `names.iterator()` returns from an iterator() implementation on the `AbstractSequentialList` class (which is the immediate super class of `LinkedList` class). After tracking that iterator I found [this](http://hg.openjdk.java.net/jdk7/jdk7/jdk/file/9b8c96f96a0f/src/share/classes/java/util/AbstractList.java#l354) is the `next()` method implementation that iterator uses. You can clearly see on the given source code it uses `get()` method.","body":"Please correct me if I&#39;m wrong. I found that, since <code>names</code> is a <code>LinkedList</code> object <code>names.iterator()</code> returns from an iterator() implementation on the <code>AbstractSequentialList</code> class (which is the immediate super class of <code>LinkedList</code> class). After tracking that iterator I found <a href=\"http://hg.openjdk.java.net/jdk7/jdk7/jdk/file/9b8c96f96a0f/src/share/classes/java/util/AbstractList.java#l354\" rel=\"nofollow noreferrer\">this</a> is the <code>next()</code> method implementation that iterator uses. You can clearly see on the given source code it uses <code>get()</code> method."},{"owner":{"account_id":1857245,"reputation":9188,"user_id":1682559,"accept_rate":80,"display_name":"Kevin Cruijssen"},"score":0,"creation_date":1589058326,"post_id":61659962,"comment_id":109143803,"body_markdown":"@LahiruEkanayake Hmm, I don&#39;t see anything wrong with your deduction, but I don&#39;t see how `Queue` is relevant. You&#39;re indeed correct that `LinkedList` uses the `iterator()` of `AbstractSequentialList`; which in turn uses the `listIterator()` that `LinkedList` implements again (returning `listIterator(0)`); which uses `listIterator(int index)` of `AbstractList` (as you had already linked); which indeed uses a `get(int index)` method. And that `get(int)` method can be found as abstract method in the `AbstractList`, and as actual implementation in the `LinkedList`. The `Queue` is irrelevant here.","body":"@LahiruEkanayake Hmm, I don&#39;t see anything wrong with your deduction, but I don&#39;t see how <code>Queue</code> is relevant. You&#39;re indeed correct that <code>LinkedList</code> uses the <code>iterator()</code> of <code>AbstractSequentialList</code>; which in turn uses the <code>listIterator()</code> that <code>LinkedList</code> implements again (returning <code>listIterator(0)</code>); which uses <code>listIterator(int index)</code> of <code>AbstractList</code> (as you had already linked); which indeed uses a <code>get(int index)</code> method. And that <code>get(int)</code> method can be found as abstract method in the <code>AbstractList</code>, and as actual implementation in the <code>LinkedList</code>. The <code>Queue</code> is irrelevant here."},{"owner":{"account_id":1857245,"reputation":9188,"user_id":1682559,"accept_rate":80,"display_name":"Kevin Cruijssen"},"score":0,"creation_date":1589058471,"post_id":61659962,"comment_id":109143855,"body_markdown":"Sorry if my explanation in the answer is confusing, since you were asking about `Queue` directly. The `Queue` in `Queue names = new LinkedList` could have been any higher class/interface of `LinkedList`, but the `iterator()` will still use the one of `LinkedList`, including all its methods (so including `get(int index)`). Whether you use `Queue`, `Collection`, `List`, `AbstractList`, or even Java 10+ `var` isn&#39;t really important, since the actual instance is of type `LinkedList`, so it will use its `iterator()` and `get(int)` methods. At least, that&#39;s how I understood it.","body":"Sorry if my explanation in the answer is confusing, since you were asking about <code>Queue</code> directly. The <code>Queue</code> in <code>Queue names = new LinkedList</code> could have been any higher class/interface of <code>LinkedList</code>, but the <code>iterator()</code> will still use the one of <code>LinkedList</code>, including all its methods (so including <code>get(int index)</code>). Whether you use <code>Queue</code>, <code>Collection</code>, <code>List</code>, <code>AbstractList</code>, or even Java 10+ <code>var</code> isn&#39;t really important, since the actual instance is of type <code>LinkedList</code>, so it will use its <code>iterator()</code> and <code>get(int)</code> methods. At least, that&#39;s how I understood it."},{"owner":{"account_id":8262666,"reputation":1,"user_id":6213462,"display_name":"Lahiru Ekanayake"},"score":0,"creation_date":1589105555,"post_id":61659962,"comment_id":109155434,"body_markdown":"No @Kevin. We were wrong the whole time. Finally I figured the entire process of calling `names.iterator().next()` . You also can see the *call stack* using a debugger (any decent java IDE has one). To my knowledge `names.iterator()` would return from an **overridden method** situated [here](http://hg.openjdk.java.net/jdk7/jdk7/jdk/file/9b8c96f96a0f/src/share/classes/java/util/LinkedList.java#l864) in *LinkedList* class. Hope the benefit you gained outweighs the troubles you had. &lt;br/&gt; I repeat, &quot;that son of a gun **overridden method** was there the whole time&quot; deceiving us :P.","body":"No @Kevin. We were wrong the whole time. Finally I figured the entire process of calling <code>names.iterator().next()</code> . You also can see the <i>call stack</i> using a debugger (any decent java IDE has one). To my knowledge <code>names.iterator()</code> would return from an <b>overridden method</b> situated <a href=\"http://hg.openjdk.java.net/jdk7/jdk7/jdk/file/9b8c96f96a0f/src/share/classes/java/util/LinkedList.java#l864\" rel=\"nofollow noreferrer\">here</a> in <i>LinkedList</i> class. Hope the benefit you gained outweighs the troubles you had. &lt;br/&gt; I repeat, &quot;that son of a gun <b>overridden method</b> was there the whole time&quot; deceiving us :P."}],"tags":[],"owner":{"account_id":1857245,"reputation":9188,"user_id":1682559,"accept_rate":80,"display_name":"Kevin Cruijssen"},"comment_count":6,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1588869198,"creation_date":1588860613,"answer_id":61659962,"question_id":61659790,"body_markdown":"`Iterator` is simply used to iterate over a Collection. In this case, you could have used a for-each for the same result:\r\n\r\n    for(String name : names){\r\n      System.out.println(name);\r\n    }\r\n\r\nBased on your question however, I assume you want to iterate over the `Queue`, ***popping*** and printing each item in FIFO order (hence the use of your `LinkedList`). In that case, you may simply want to loop `names.size()` amount of times, and calling `.remove()` to pop an item each iteration, like this:\r\n\r\n    for(int n = names.size(); n &gt; 0; n--){\r\n      String name = names.remove();\r\n      System.out.println(name);\r\n    }\r\n\r\nOutput:\r\n\r\n&lt;!-- language-all: none --&gt;\r\n\r\n    Queue before the loop: [First, Middle, Last]\r\n    Printing loop...\r\n    First\r\n    Middle\r\n    Last\r\n    Queue after the loop: []\r\n\r\n[**Try it online.**](https://tio.run/##jU9NT8MwDL33V1g9pUAjznRU4sKpk0A7Ig7Z6o10aVIlbtFA@@3FaaWpCIHwxYn9PvwaNai8qY/jqNvOeYKGB7InbeRVkSQ7o0KAtdL2MwGurt8avYNAirgNTtfQ8lJsyGt7eHkFlc3AWM899riaVyVY1WKAe7D4DpW2R6wrHWhVigfv1SlIFeJfpI/aB0pvIF3rujYYX5XiSZYVF@XNKRC20vUkO1YnY0U6ucEW984j0BuCca67gxSuZ2um/8l/ig@@dOJJKdOFH2sK3oKN90cxGfQHiqzgSQm33PJ8EXyymGJP6AvJY@uGSPuO/HlMhC9Q5@QfydWe0P8SfBY5j@MX)\r\n\r\n---------------\r\n\r\nEDIT: To explain a bit more of what&#39;s going on for the `.iterator()`:\r\n\r\n&lt;!-- language-all: lang-java --&gt;\r\n\r\nIf we look at [the source code of the `Iterator`](http://developer.classpath.org/doc/java/util/Iterator-source.html), we can see it&#39;s an interface. Each Collection-implementation will have its own individual Iterator implementation.  \r\nLooking at [the source code of the `Queue`](https://introcs.cs.princeton.edu/java/43stack/Queue.java.html), the `iterator()` method is this:\r\n\r\n    /**\r\n     * Returns an iterator that iterates over the items in this queue in FIFO order.\r\n     *\r\n     * @return an iterator that iterates over the items in this queue in FIFO order\r\n     */\r\n    public Iterator&lt;Item&gt; iterator() {\r\n        return new ListIterator();\r\n    }\r\n\r\n    // an iterator, doesn&#39;t implement remove() since it&#39;s optional\r\n    private class ListIterator implements Iterator&lt;Item&gt; {\r\n        private Node current = first;  // node containing current item\r\n\r\n        public boolean hasNext() {\r\n            return current != null;\r\n        }\r\n\r\n        public void remove() {\r\n            throw new UnsupportedOperationException();\r\n        }\r\n\r\n        public Item next() {\r\n            if (!hasNext()) throw new NoSuchElementException();\r\n            Item item = current.item;\r\n            current = current.next;\r\n            return item;\r\n        }\r\n    }\r\n\r\nAs you can see, it stores the `Node first` of Queue as its `current` when the `ListIterator` is created in the `iterator()` method.  \r\nIn the actual `next()`-method, it uses neither the `remove()` nor `poll()` methods of the Queue (nor `get()`..), so the items aren&#39;t actually popped. Instead, it simply stores the current Node temporarily with `Item item = current.item`; then updates the `current` Node to the next one with `current = current.next`; after which it will return that temporary `item`.\r\n\r\n","title":"What Iterator.next() method do inside a for statement when used with java.util.Queue?","body":"<p><code>Iterator</code> is simply used to iterate over a Collection. In this case, you could have used a for-each for the same result:</p>\n\n<pre><code>for(String name : names){\n  System.out.println(name);\n}\n</code></pre>\n\n<p>Based on your question however, I assume you want to iterate over the <code>Queue</code>, <strong><em>popping</em></strong> and printing each item in FIFO order (hence the use of your <code>LinkedList</code>). In that case, you may simply want to loop <code>names.size()</code> amount of times, and calling <code>.remove()</code> to pop an item each iteration, like this:</p>\n\n<pre><code>for(int n = names.size(); n &gt; 0; n--){\n  String name = names.remove();\n  System.out.println(name);\n}\n</code></pre>\n\n<p>Output:</p>\n\n\n\n<pre class=\"lang-none prettyprint-override\"><code>Queue before the loop: [First, Middle, Last]\nPrinting loop...\nFirst\nMiddle\nLast\nQueue after the loop: []\n</code></pre>\n\n<p><a href=\"https://tio.run/##jU9NT8MwDL33V1g9pUAjznRU4sKpk0A7Ig7Z6o10aVIlbtFA@@3FaaWpCIHwxYn9PvwaNai8qY/jqNvOeYKGB7InbeRVkSQ7o0KAtdL2MwGurt8avYNAirgNTtfQ8lJsyGt7eHkFlc3AWM899riaVyVY1WKAe7D4DpW2R6wrHWhVigfv1SlIFeJfpI/aB0pvIF3rujYYX5XiSZYVF@XNKRC20vUkO1YnY0U6ucEW984j0BuCca67gxSuZ2um/8l/ig@@dOJJKdOFH2sK3oKN90cxGfQHiqzgSQm33PJ8EXyymGJP6AvJY@uGSPuO/HlMhC9Q5@QfydWe0P8SfBY5j@MX\" rel=\"nofollow noreferrer\"><strong>Try it online.</strong></a></p>\n\n<hr>\n\n<p>EDIT: To explain a bit more of what's going on for the <code>.iterator()</code>:</p>\n\n\n\n<p>If we look at <a href=\"http://developer.classpath.org/doc/java/util/Iterator-source.html\" rel=\"nofollow noreferrer\">the source code of the <code>Iterator</code></a>, we can see it's an interface. Each Collection-implementation will have its own individual Iterator implementation.<br>\nLooking at <a href=\"https://introcs.cs.princeton.edu/java/43stack/Queue.java.html\" rel=\"nofollow noreferrer\">the source code of the <code>Queue</code></a>, the <code>iterator()</code> method is this:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * Returns an iterator that iterates over the items in this queue in FIFO order.\n *\n * @return an iterator that iterates over the items in this queue in FIFO order\n */\npublic Iterator&lt;Item&gt; iterator() {\n    return new ListIterator();\n}\n\n// an iterator, doesn't implement remove() since it's optional\nprivate class ListIterator implements Iterator&lt;Item&gt; {\n    private Node current = first;  // node containing current item\n\n    public boolean hasNext() {\n        return current != null;\n    }\n\n    public void remove() {\n        throw new UnsupportedOperationException();\n    }\n\n    public Item next() {\n        if (!hasNext()) throw new NoSuchElementException();\n        Item item = current.item;\n        current = current.next;\n        return item;\n    }\n}\n</code></pre>\n\n<p>As you can see, it stores the <code>Node first</code> of Queue as its <code>current</code> when the <code>ListIterator</code> is created in the <code>iterator()</code> method.<br>\nIn the actual <code>next()</code>-method, it uses neither the <code>remove()</code> nor <code>poll()</code> methods of the Queue (nor <code>get()</code>..), so the items aren't actually popped. Instead, it simply stores the current Node temporarily with <code>Item item = current.item</code>; then updates the <code>current</code> Node to the next one with <code>current = current.next</code>; after which it will return that temporary <code>item</code>.</p>\n"},{"tags":[],"owner":{"account_id":8262666,"reputation":1,"user_id":6213462,"display_name":"Lahiru Ekanayake"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589113957,"creation_date":1589113957,"answer_id":61712032,"question_id":61659790,"body_markdown":"&gt; Since `names` is a *LinkedList* object and *LinkedList* does&#39;t have\r\n&gt; any `iterator()` method in it, `names.iterator()` would call\r\n&gt; [that method in\r\n&gt; *AbstractSequentialList*](http://hg.openjdk.java.net/jdk7/jdk7/jdk/file/9b8c96f96a0f/src/share/classes/java/util/AbstractSequentialList.java#l238)\r\n&gt; (immediate super class of *LinkedList*).\r\n\r\n&gt;However, by tracking the call stack *(can be done easily through a GUI debugger of any decent java IDE)* when initializing `i = names.iterator()` one can easily see it calls the method `listIterator(0)` method [here](http://hg.openjdk.java.net/jdk7/jdk7/jdk/file/9b8c96f96a0f/src/share/classes/java/util/AbstractList.java#l299). Eventhough *AbstractList* has it&#39;s own implementation of `listIterator(int index)`, *LinkedList* has [overriden that same method](http://hg.openjdk.java.net/jdk7/jdk7/jdk/file/9b8c96f96a0f/src/share/classes/java/util/LinkedList.java#l864) ;\r\n\r\n&lt;br/&gt;Segment of *LinkedList.java* :\r\n```\r\npackage java.util;\r\n\r\npublic class LinkedList&lt;E&gt;\r\n    extends AbstractSequentialList&lt;E&gt;\r\n    implements List&lt;E&gt;, Deque&lt;E&gt;, Cloneable, java.io.Serializable\r\n{\t\r\n\tpublic ListIterator&lt;E&gt; listIterator(int index) {\r\n\t\t\tcheckPositionIndex(index);\r\n\t\t\treturn new ListItr(index);\r\n    }\r\n    private class ListItr implements ListIterator&lt;E&gt; {\r\n        private Node&lt;E&gt; lastReturned = null;\r\n        private Node&lt;E&gt; next;\r\n        private int nextIndex;\r\n        private int expectedModCount = modCount;\r\n        ListItr(int index) {\r\n            // assert isPositionIndex(index);\r\n            next = (index == size) ? null : node(index);\r\n            nextIndex = index;\r\n        }\r\n        public boolean hasNext() {\r\n            return nextIndex &lt; size;\r\n        }\r\n        public E next() {\r\n            checkForComodification();\r\n            if (!hasNext())\r\n                throw new NoSuchElementException();\r\n            lastReturned = next;\r\n            next = next.next;\r\n            nextIndex++;\r\n            return lastReturned.item;\r\n        }\r\n\t*\r\n\t*\t(code contraction...)\r\n\t*\r\n\t\tfinal void checkForComodification() {\r\n\t\t\t\tif (modCount != expectedModCount)\r\n\t\t\t\t\tthrow new ConcurrentModificationException();\r\n\t\t\t}\r\n\t}\r\n}\r\n```\r\n&gt;Hence, obviously `names.iterator()` would return an object through `return new ListItr(index)`, which is an inner class of *LinkedList*.\r\n\r\n&gt;Now we can clearly see when calling `i.next()`, it actually calls the `next()` method in the inner class ***ListItr***. Also it uses the class variable;\r\n```\r\nprivate Node&lt;E&gt; next;\r\n```\r\n&gt;to track, to where the iterator is pointing next.\r\n\r\n&gt;This comes into play when considering the performance of the [enhanced for loop](https://docs.oracle.com/javase/specs/jls/se7/html/jls-14.html#jls-14.14.2).\r\n\r\n&lt;br/&gt;Segment of Oracle docs for *enhance-for-loop*s :\r\n```\r\nfor (I #i = Expression.iterator(); #i.hasNext(); ) {\r\n    VariableModifiersopt TargetType Identifier = (TargetType) #i.next();\r\n    Statement\r\n}\r\n```\r\n&gt; As you can see this uses the `#i.next()` method and since `names`(in the original question&#39;s example) is a variable of type ***Queue***, one can in-the-dark assume `#i.next()` in the enhanced-for-loop uses [this](http://hg.openjdk.java.net/jdk7/jdk7/jdk/file/9b8c96f96a0f/src/share/classes/java/util/AbstractList.java#l354) implementation which is in *AbstractList* and it questionably uses some `get(int index)` method, hence poor performance (a poor,unfortunate guy like me, did the same deduction and caught up in a hay-stack of code. LOL).\r\n\r\n&gt;On that false deduction I asked this question in this forum and after digging deeper for several days, now I can see there are **no any performance reduction**(not that I know of) when **using an enhanced-for-loop to iterate over a _LinkedList_ object** due to the fact,\r\n\r\n&gt;&gt;that *iterator object*(`#i`) uses a variable `Node&lt;E&gt; next` to keep the reference to the next object in-order to use in the *enhanced-for-loop* &#39;s next iteration.","title":"What Iterator.next() method do inside a for statement when used with java.util.Queue?","body":"<blockquote>\n  <p>Since <code>names</code> is a <em>LinkedList</em> object and <em>LinkedList</em> does't have\n  any <code>iterator()</code> method in it, <code>names.iterator()</code> would call\n  <a href=\"http://hg.openjdk.java.net/jdk7/jdk7/jdk/file/9b8c96f96a0f/src/share/classes/java/util/AbstractSequentialList.java#l238\" rel=\"nofollow noreferrer\">that method in\n  <em>AbstractSequentialList</em></a>\n  (immediate super class of <em>LinkedList</em>).</p>\n  \n  <p>However, by tracking the call stack <em>(can be done easily through a GUI debugger of any decent java IDE)</em> when initializing <code>i = names.iterator()</code> one can easily see it calls the method <code>listIterator(0)</code> method <a href=\"http://hg.openjdk.java.net/jdk7/jdk7/jdk/file/9b8c96f96a0f/src/share/classes/java/util/AbstractList.java#l299\" rel=\"nofollow noreferrer\">here</a>. Eventhough <em>AbstractList</em> has it's own implementation of <code>listIterator(int index)</code>, <em>LinkedList</em> has <a href=\"http://hg.openjdk.java.net/jdk7/jdk7/jdk/file/9b8c96f96a0f/src/share/classes/java/util/LinkedList.java#l864\" rel=\"nofollow noreferrer\">overriden that same method</a> ;</p>\n</blockquote>\n\n<p><br/>Segment of <em>LinkedList.java</em> :</p>\n\n<pre><code>package java.util;\n\npublic class LinkedList&lt;E&gt;\n    extends AbstractSequentialList&lt;E&gt;\n    implements List&lt;E&gt;, Deque&lt;E&gt;, Cloneable, java.io.Serializable\n{   \n    public ListIterator&lt;E&gt; listIterator(int index) {\n            checkPositionIndex(index);\n            return new ListItr(index);\n    }\n    private class ListItr implements ListIterator&lt;E&gt; {\n        private Node&lt;E&gt; lastReturned = null;\n        private Node&lt;E&gt; next;\n        private int nextIndex;\n        private int expectedModCount = modCount;\n        ListItr(int index) {\n            // assert isPositionIndex(index);\n            next = (index == size) ? null : node(index);\n            nextIndex = index;\n        }\n        public boolean hasNext() {\n            return nextIndex &lt; size;\n        }\n        public E next() {\n            checkForComodification();\n            if (!hasNext())\n                throw new NoSuchElementException();\n            lastReturned = next;\n            next = next.next;\n            nextIndex++;\n            return lastReturned.item;\n        }\n    *\n    *   (code contraction...)\n    *\n        final void checkForComodification() {\n                if (modCount != expectedModCount)\n                    throw new ConcurrentModificationException();\n            }\n    }\n}\n</code></pre>\n\n<blockquote>\n  <p>Hence, obviously <code>names.iterator()</code> would return an object through <code>return new ListItr(index)</code>, which is an inner class of <em>LinkedList</em>.</p>\n  \n  <p>Now we can clearly see when calling <code>i.next()</code>, it actually calls the <code>next()</code> method in the inner class <strong><em>ListItr</em></strong>. Also it uses the class variable;</p>\n</blockquote>\n\n<pre><code>private Node&lt;E&gt; next;\n</code></pre>\n\n<blockquote>\n  <p>to track, to where the iterator is pointing next.</p>\n  \n  <p>This comes into play when considering the performance of the <a href=\"https://docs.oracle.com/javase/specs/jls/se7/html/jls-14.html#jls-14.14.2\" rel=\"nofollow noreferrer\">enhanced for loop</a>.</p>\n</blockquote>\n\n<p><br/>Segment of Oracle docs for <em>enhance-for-loop</em>s :</p>\n\n<pre><code>for (I #i = Expression.iterator(); #i.hasNext(); ) {\n    VariableModifiersopt TargetType Identifier = (TargetType) #i.next();\n    Statement\n}\n</code></pre>\n\n<blockquote>\n  <p>As you can see this uses the <code>#i.next()</code> method and since <code>names</code>(in the original question's example) is a variable of type <strong><em>Queue</em></strong>, one can in-the-dark assume <code>#i.next()</code> in the enhanced-for-loop uses <a href=\"http://hg.openjdk.java.net/jdk7/jdk7/jdk/file/9b8c96f96a0f/src/share/classes/java/util/AbstractList.java#l354\" rel=\"nofollow noreferrer\">this</a> implementation which is in <em>AbstractList</em> and it questionably uses some <code>get(int index)</code> method, hence poor performance (a poor,unfortunate guy like me, did the same deduction and caught up in a hay-stack of code. LOL).</p>\n  \n  <p>On that false deduction I asked this question in this forum and after digging deeper for several days, now I can see there are <strong>no any performance reduction</strong>(not that I know of) when <strong>using an enhanced-for-loop to iterate over a <em>LinkedList</em> object</strong> due to the fact,</p>\n  \n  <blockquote>\n    <p>that <em>iterator object</em>(<code>#i</code>) uses a variable <code>Node&lt;E&gt; next</code> to keep the reference to the next object in-order to use in the <em>enhanced-for-loop</em> 's next iteration.</p>\n  </blockquote>\n</blockquote>\n"}],"owner":{"account_id":8262666,"reputation":1,"user_id":6213462,"display_name":"Lahiru Ekanayake"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1727,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1683777068,"creation_date":1588860135,"question_id":61659790,"body_markdown":"For example:\r\n```lang-java\r\npublic class Test {\r\n\r\n    public static void main(String[] args) {\r\n        Queue&lt;String&gt; names = new LinkedList&lt;&gt;(Arrays.asList(&quot;First&quot;, &quot;Middle&quot;, &quot;Last&quot;));\r\n        System.out.println(&quot;Queue before the loop: &quot; + names);\r\n\r\n        System.out.println(&quot;Printing loop...&quot;);\r\n        for (Iterator&lt;String&gt; i = names.iterator(); i.hasNext();) {\r\n            String name = i.next();\r\n            System.out.println(name);\r\n        }\r\n\r\n        System.out.println(&quot;Queue after the loop: &quot; + names);\r\n    }\r\n}\r\n```\r\nOutput:\r\n```lang-none\r\nQueue before the loop: [First, Middle, Last]\r\nPrinting loop...\r\nFirst\r\nMiddle\r\nLast\r\nQueue after the loop: [First, Middle, Last]\r\n```\r\n\r\nI know how the next() method traverse the *LinkedList*. But when it is called on a *Queue.iterator()* like, `i.next()` what does it do? &lt;br/&gt;&lt;br/&gt;As you can see from the output it haven&#39;t removed any element from the queue. &lt;br/&gt;*which I thought would be the case, since Queue only have `remove()/poll()`.*","title":"What Iterator.next() method do inside a for statement when used with java.util.Queue?","body":"<p>For example:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class Test {\n\n    public static void main(String[] args) {\n        Queue&lt;String&gt; names = new LinkedList&lt;&gt;(Arrays.asList(\"First\", \"Middle\", \"Last\"));\n        System.out.println(\"Queue before the loop: \" + names);\n\n        System.out.println(\"Printing loop...\");\n        for (Iterator&lt;String&gt; i = names.iterator(); i.hasNext();) {\n            String name = i.next();\n            System.out.println(name);\n        }\n\n        System.out.println(\"Queue after the loop: \" + names);\n    }\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Queue before the loop: [First, Middle, Last]\nPrinting loop...\nFirst\nMiddle\nLast\nQueue after the loop: [First, Middle, Last]\n</code></pre>\n\n<p>I know how the next() method traverse the <em>LinkedList</em>. But when it is called on a <em>Queue.iterator()</em> like, <code>i.next()</code> what does it do? <br/><br/>As you can see from the output it haven't removed any element from the queue. <br/><em>which I thought would be the case, since Queue only have <code>remove()/poll()</code>.</em></p>\n"},{"tags":["java","string","java.util.scanner"],"comments":[{"owner":{"account_id":6358642,"reputation":6528,"user_id":4934937,"display_name":"maio290"},"score":0,"creation_date":1584164881,"post_id":60680078,"comment_id":107358675,"body_markdown":"You aren&#39;t even supposed to touch the main method here?","body":"You aren&#39;t even supposed to touch the main method here?"},{"owner":{"account_id":14384415,"reputation":1324,"user_id":10390808,"display_name":"Abhinav Chauhan"},"score":0,"creation_date":1584165262,"post_id":60680078,"comment_id":107358735,"body_markdown":"next() stops taking input when the delimeter is reached which is by default a space , and nextline() stops taking input when you press the enter so spaces are also counted","body":"next() stops taking input when the delimeter is reached which is by default a space , and nextline() stops taking input when you press the enter so spaces are also counted"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":1,"creation_date":1584166599,"post_id":60680078,"comment_id":107358915,"body_markdown":"I did not verify the timing, but it seems that `Scanner.nextLine()` uses a regular expression that is computationally more expensive than the one used by `Scanner.next()`. But: the input data is presented one item per line, so the fastest way to read the input would be using `BufferedReader.readLine()`","body":"I did not verify the timing, but it seems that <code>Scanner.nextLine()</code> uses a regular expression that is computationally more expensive than the one used by <code>Scanner.next()</code>. But: the input data is presented one item per line, so the fastest way to read the input would be using <code>BufferedReader.readLine()</code>"}],"owner":{"account_id":13889137,"reputation":3,"user_id":10444822,"display_name":"Rohan Gaonkar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":152,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683777055,"creation_date":1584164595,"question_id":60680078,"body_markdown":"I was solving [this][1] problem on Hackerrank. Where I had to sort large numbers. So what I did was that I used collection.sort method and used custom comparator to sort the array. so my compare method was actually comparing string, since i cannot use int or double as range of numbers was bigger. What I noticed was that when I used sc.nextLine() to scan it did not pass all test cases. But when I used sc.next() it passed all test cases. Can anyone tell me reason behind this.\r\n\r\n        public static void main(String[] args) {\r\n         Scanner sc=new Scanner(System.in);\r\n         int x=sc.nextInt();sc.nextLine();\r\n        \r\n         List&lt;String&gt; list=new ArrayList();\r\n         for(int i=0;i&lt;x;i++){\r\n             list.add(sc.next());\r\n         }\r\n        Collections.sort(list, (s1,s2) -&gt;{\r\n            if(s1.length()==s2.length())\r\n               return s1.compareTo(s2);\r\n               return s1.length()&gt;s2.length()?1:-1;\r\n                     } \r\n               );\r\n         for(String str:list)\r\n        System.out.println(str);\r\n         \r\n\r\n    }\r\n\r\n\r\n  [1]: https://www.hackerrank.com/challenges/big-sorting/problem","title":"Performance of sc.next() and sc.nextLine()","body":"<p>I was solving <a href=\"https://www.hackerrank.com/challenges/big-sorting/problem\" rel=\"nofollow noreferrer\">this</a> problem on Hackerrank. Where I had to sort large numbers. So what I did was that I used collection.sort method and used custom comparator to sort the array. so my compare method was actually comparing string, since i cannot use int or double as range of numbers was bigger. What I noticed was that when I used sc.nextLine() to scan it did not pass all test cases. But when I used sc.next() it passed all test cases. Can anyone tell me reason behind this.</p>\n\n<pre><code>    public static void main(String[] args) {\n     Scanner sc=new Scanner(System.in);\n     int x=sc.nextInt();sc.nextLine();\n\n     List&lt;String&gt; list=new ArrayList();\n     for(int i=0;i&lt;x;i++){\n         list.add(sc.next());\n     }\n    Collections.sort(list, (s1,s2) -&gt;{\n        if(s1.length()==s2.length())\n           return s1.compareTo(s2);\n           return s1.length()&gt;s2.length()?1:-1;\n                 } \n           );\n     for(String str:list)\n    System.out.println(str);\n\n\n}\n</code></pre>\n"},{"tags":["java","iterator","doubly-linked-list"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1586586686,"post_id":61151842,"comment_id":108185149,"body_markdown":"In [How much research effort is expected of Stack Overflow users?](https://meta.stackoverflow.com/questions/261592/how-much-research-effort-is-expected-of-stack-overflow-users) is written: _Asking a question on Stack Overflow should be the last step in your process for finding an answer_ I Googled the terms ___java linkedlist listiterator___ and found [Java LinkedList ListIterator behavior](https://stackoverflow.com/questions/40469352/java-linkedlist-listiterator-behavior/40469988) Does it not answer your question?","body":"In <a href=\"https://meta.stackoverflow.com/questions/261592/how-much-research-effort-is-expected-of-stack-overflow-users\">How much research effort is expected of Stack Overflow users?</a> is written: <i>Asking a question on Stack Overflow should be the last step in your process for finding an answer</i> I Googled the terms <b><i>java linkedlist listiterator</i></b> and found <a href=\"https://stackoverflow.com/questions/40469352/java-linkedlist-listiterator-behavior/40469988\">Java LinkedList ListIterator behavior</a> Does it not answer your question?"},{"owner":{"account_id":12902555,"reputation":1,"user_id":9330874,"display_name":"Phucci"},"score":0,"creation_date":1586903432,"post_id":61151842,"comment_id":108299563,"body_markdown":"@Abra thank you for the reference. I did indeed googled the for more information on java linkedlist listiterator before I made the question but somehow were not able to find the link that you pointed out","body":"@Abra thank you for the reference. I did indeed googled the for more information on java linkedlist listiterator before I made the question but somehow were not able to find the link that you pointed out"}],"answers":[{"comments":[{"owner":{"account_id":12902555,"reputation":1,"user_id":9330874,"display_name":"Phucci"},"score":0,"creation_date":1586903859,"post_id":61151960,"comment_id":108299699,"body_markdown":"Thank you for the very straight forward answer. I ended up implementing the Merge Sort for my Linked List because Java listIterator() is not very efficient when it comes to traversing &amp; &quot;returning the last node&quot; that was &quot;inside a loop&quot; or &quot;inside another function&quot; due to the fact that I have to &quot;relink my node reference&quot; to the &quot;ListIterator reference&quot; rather than having direct access to .next &amp; .prev","body":"Thank you for the very straight forward answer. I ended up implementing the Merge Sort for my Linked List because Java listIterator() is not very efficient when it comes to traversing &amp; &quot;returning the last node&quot; that was &quot;inside a loop&quot; or &quot;inside another function&quot; due to the fact that I have to &quot;relink my node reference&quot; to the &quot;ListIterator reference&quot; rather than having direct access to .next &amp; .prev"}],"tags":[],"owner":{"account_id":14679743,"reputation":528,"user_id":10601657,"display_name":"Mihir Kekkar"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1586577513,"creation_date":1586577513,"answer_id":61151960,"question_id":61151842,"body_markdown":"The [documentation][1] for `ListIterator` explains this issue. Basically the &quot;current&quot; location isn&#39;t a single node, it&#39;s between two nodes. Specifically, it&#39;s between the nodes that would be returned if you called `prev()` or if you called `next()`. For example, after your first two calls to `next()` your iterator looks like this:\r\n\r\n`7 -&gt; 8 *-&gt;* 9 -&gt; 10` Current is between `8` and `9`.\r\n\r\nCalling `prev()` will return the previous node, which is `8`. Then, the iterator will look like this: \r\n\r\n`7 *-&gt;* 8 -&gt; 9 -&gt; 10` Current is between `7` and `8`.\r\n\r\nFollowing on, calling `next()` again will return `8`, and so on. This is by design and you&#39;d have to account for it while traversing with the `ListIterator`.\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/ListIterator.html","title":"Java listIterator() is giving me weird outputs with .next() and .prev()","body":"<p>The <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/ListIterator.html\" rel=\"nofollow noreferrer\">documentation</a> for <code>ListIterator</code> explains this issue. Basically the \"current\" location isn't a single node, it's between two nodes. Specifically, it's between the nodes that would be returned if you called <code>prev()</code> or if you called <code>next()</code>. For example, after your first two calls to <code>next()</code> your iterator looks like this:</p>\n\n<p><code>7 -&gt; 8 *-&gt;* 9 -&gt; 10</code> Current is between <code>8</code> and <code>9</code>.</p>\n\n<p>Calling <code>prev()</code> will return the previous node, which is <code>8</code>. Then, the iterator will look like this: </p>\n\n<p><code>7 *-&gt;* 8 -&gt; 9 -&gt; 10</code> Current is between <code>7</code> and <code>8</code>.</p>\n\n<p>Following on, calling <code>next()</code> again will return <code>8</code>, and so on. This is by design and you'd have to account for it while traversing with the <code>ListIterator</code>.</p>\n"}],"owner":{"account_id":12902555,"reputation":1,"user_id":9330874,"display_name":"Phucci"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":150,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683777035,"creation_date":1586576471,"question_id":61151842,"body_markdown":"I&#39;ve been working on a project where I implemented a (Doubly Linked List) from scratch with a separate &quot;Node class&quot;. \r\n\r\nI have then gotten to the point where I need to sort my &quot;Linked List of Nodes&quot;. Since I implemented my Linked List from scratch, so in order to sort it, I have to implement a &quot;Merge Sort&quot; from scratch for my Linked List as well, which is a bit of time consuming to do. \r\n\r\nSo I thought about using &quot;Java Linked List&quot; from java.util with the listIterator() then use Collections.sort() to sort my LinkedList, but its next() and previous() are giving me some unexpected weird outputs vs when I was traversing my LinkedList of Nodes with direct access using (.next) &amp; (.prev). For example, let&#39;s say:\r\n \r\n\r\n    node1.time = 7;\r\n    node2.time = 8;\r\n    node3.time = 9;\r\n    node4.time = 10;\r\n    \r\n    LinkedList&lt;Node&gt; nodeList = new LinkedList&lt;Node&gt;():\r\n    nodeList.add(node1); nodeList.add(node2); nodeList.add(node3); nodeList.add(node4);\r\n\r\n    void testFunction() {\r\n      \r\n      ListIterator&lt;Node&gt; nodesIterator = nodeList.listIterator();\r\n\r\n      Node current;\r\n\r\n      for (int i = 0; i &lt; 2; i++) {\r\n        current = nodesIterator.next();\r\n        System.out.println(&quot;current = &quot; + current.time);\r\n      }\r\n      System.out.println(&quot;outside of loop:&quot;); \r\n    \r\n      System.out.println(&quot;move current backward:&quot;);\r\n      current = nodesIterator.previous();\r\n      System.out.println(&quot;current = &quot; + current.time);\r\n    \r\n      System.out.println(&quot;move current forward:&quot;);\r\n      current = nodesIterator.next();\r\n      System.out.println(&quot;current = &quot; + current.time);\r\n\r\n      System.out.println(&quot;Passing nodesIterator into testFunction2():&quot;);\r\n      testFunction2(nodesIterator);   \r\n    }\r\n \r\n    \r\n    void testFunction2(ListIterator&lt;Node&gt; nodesIterator) {\r\n      \r\n      System.out.println(&quot;inside testFunction2():&quot;);\r\n\r\n      Node current = nodesIterator.next();\r\n      System.out.println(&quot;current = &quot; + current.time);\r\n\r\n      System.out.println(&quot;move current backward:&quot;);\r\n      current = nodesIterator.previous();\r\n      System.out.println(&quot;current = &quot; + current.time);\r\n\r\n      System.out.println(&quot;move current backward again:&quot;);\r\n      current = nodesIterator.previous();\r\n      System.out.println(&quot;current = &quot; + current.time);\r\n    }\r\n\r\n\r\n \r\n\r\n\r\nOutputs:\r\n\r\n    current = 7\r\n    current = 8\r\n\r\n    outside of loop:\r\n    \r\n    move current backward:\r\n    current = 8\r\n     // -&gt; current is suppose to be 7 if previous current inside the loop was 8?\r\n\r\n    move current forward:\r\n    current = 8\r\n     // -&gt; current is suppose to be 9 if previous current = 8?\r\n\r\n    Passing nodesIterator into testFunction2():\r\n    \r\n    inside testFunction2():\r\n    current = 9\r\n     // -&gt; guess it&#39;s correct since previous current = 8?\r\n\r\n    move current backward:\r\n    current = 9\r\n     // -&gt; suppose to give me 8 since previous current = 9?\r\n\r\n    move current backward again:\r\n    current = 8\r\n     // -&gt; now it actually moved backward!\r\n\r\n\r\nWhat&#39;s going on with Java&#39;s next() &amp; prev()? My Linked List implemented from scratch would never give me these issues, plus passing nodes to other functions for traversal is way simpler with direct access to (.next) &amp; (.prev) since I can just pass in (node.next) or (node.prev) to other functions without having to pass in the listIterator() reference to link my list of nodes.\r\n\r\nShould I stick with my Linked List from scratch and just code out the &quot;Merge Sort&quot;","title":"Java listIterator() is giving me weird outputs with .next() and .prev()","body":"<p>I've been working on a project where I implemented a (Doubly Linked List) from scratch with a separate \"Node class\". </p>\n\n<p>I have then gotten to the point where I need to sort my \"Linked List of Nodes\". Since I implemented my Linked List from scratch, so in order to sort it, I have to implement a \"Merge Sort\" from scratch for my Linked List as well, which is a bit of time consuming to do. </p>\n\n<p>So I thought about using \"Java Linked List\" from java.util with the listIterator() then use Collections.sort() to sort my LinkedList, but its next() and previous() are giving me some unexpected weird outputs vs when I was traversing my LinkedList of Nodes with direct access using (.next) &amp; (.prev). For example, let's say:</p>\n\n<pre><code>node1.time = 7;\nnode2.time = 8;\nnode3.time = 9;\nnode4.time = 10;\n\nLinkedList&lt;Node&gt; nodeList = new LinkedList&lt;Node&gt;():\nnodeList.add(node1); nodeList.add(node2); nodeList.add(node3); nodeList.add(node4);\n\nvoid testFunction() {\n\n  ListIterator&lt;Node&gt; nodesIterator = nodeList.listIterator();\n\n  Node current;\n\n  for (int i = 0; i &lt; 2; i++) {\n    current = nodesIterator.next();\n    System.out.println(\"current = \" + current.time);\n  }\n  System.out.println(\"outside of loop:\"); \n\n  System.out.println(\"move current backward:\");\n  current = nodesIterator.previous();\n  System.out.println(\"current = \" + current.time);\n\n  System.out.println(\"move current forward:\");\n  current = nodesIterator.next();\n  System.out.println(\"current = \" + current.time);\n\n  System.out.println(\"Passing nodesIterator into testFunction2():\");\n  testFunction2(nodesIterator);   \n}\n\n\nvoid testFunction2(ListIterator&lt;Node&gt; nodesIterator) {\n\n  System.out.println(\"inside testFunction2():\");\n\n  Node current = nodesIterator.next();\n  System.out.println(\"current = \" + current.time);\n\n  System.out.println(\"move current backward:\");\n  current = nodesIterator.previous();\n  System.out.println(\"current = \" + current.time);\n\n  System.out.println(\"move current backward again:\");\n  current = nodesIterator.previous();\n  System.out.println(\"current = \" + current.time);\n}\n</code></pre>\n\n<p>Outputs:</p>\n\n<pre><code>current = 7\ncurrent = 8\n\noutside of loop:\n\nmove current backward:\ncurrent = 8\n // -&gt; current is suppose to be 7 if previous current inside the loop was 8?\n\nmove current forward:\ncurrent = 8\n // -&gt; current is suppose to be 9 if previous current = 8?\n\nPassing nodesIterator into testFunction2():\n\ninside testFunction2():\ncurrent = 9\n // -&gt; guess it's correct since previous current = 8?\n\nmove current backward:\ncurrent = 9\n // -&gt; suppose to give me 8 since previous current = 9?\n\nmove current backward again:\ncurrent = 8\n // -&gt; now it actually moved backward!\n</code></pre>\n\n<p>What's going on with Java's next() &amp; prev()? My Linked List implemented from scratch would never give me these issues, plus passing nodes to other functions for traversal is way simpler with direct access to (.next) &amp; (.prev) since I can just pass in (node.next) or (node.prev) to other functions without having to pass in the listIterator() reference to link my list of nodes.</p>\n\n<p>Should I stick with my Linked List from scratch and just code out the \"Merge Sort\"</p>\n"},{"tags":["java","iterator"],"comments":[{"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"score":2,"creation_date":1601301489,"post_id":64103558,"comment_id":113356926,"body_markdown":"[ListIterator#previous() Javadoc](https://docs.oracle.com/javase/7/docs/api/java/util/ListIterator.html#previous()) states: &quot;(Note that alternating calls to next and previous will return the same element repeatedly.)&quot; This has to do with the fact on how the Iterator moves the current position when calling `next()` and `previous()`.","body":"<a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/ListIterator.html#previous()\" rel=\"nofollow noreferrer\">ListIterator#previous() Javadoc</a> states: &quot;(Note that alternating calls to next and previous will return the same element repeatedly.)&quot; This has to do with the fact on how the Iterator moves the current position when calling <code>next()</code> and <code>previous()</code>."},{"owner":{"account_id":19402702,"reputation":989,"user_id":14188899,"display_name":"Stefan"},"score":0,"creation_date":1601301743,"post_id":64103558,"comment_id":113357060,"body_markdown":"I see, but that doesn&#39;t make sense. Why would anyone want to make it confusing like that?","body":"I see, but that doesn&#39;t make sense. Why would anyone want to make it confusing like that?"},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1601301762,"post_id":64103558,"comment_id":113357081,"body_markdown":"The `next` implementation returns the current item, then advances. Meaning the pointer points to `song4` after the last call to `next`. `previous` advances first and then returns the value, meaning the pointer goes back to `song3`.","body":"The <code>next</code> implementation returns the current item, then advances. Meaning the pointer points to <code>song4</code> after the last call to <code>next</code>. <code>previous</code> advances first and then returns the value, meaning the pointer goes back to <code>song3</code>."}],"answers":[{"comments":[{"owner":{"account_id":19402702,"reputation":989,"user_id":14188899,"display_name":"Stefan"},"score":0,"creation_date":1601301887,"post_id":64103666,"comment_id":113357150,"body_markdown":"Wouldn&#39;t it make more sense if cursor remained on the current iterator? Why advance it and make overwhelm with this example?","body":"Wouldn&#39;t it make more sense if cursor remained on the current iterator? Why advance it and make overwhelm with this example?"},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":1,"creation_date":1601302162,"post_id":64103666,"comment_id":113357323,"body_markdown":"@Stefan not all aspects of the JDK are perfectly designed. This implementation has existed for 22 years. They can&#39;t change the semantics because it would break things for people. In practice, I don&#39;t think I&#39;ve ever had a use-case for a bidirectional iterator anyway.","body":"@Stefan not all aspects of the JDK are perfectly designed. This implementation has existed for 22 years. They can&#39;t change the semantics because it would break things for people. In practice, I don&#39;t think I&#39;ve ever had a use-case for a bidirectional iterator anyway."},{"owner":{"account_id":370994,"reputation":35154,"user_id":719263,"accept_rate":100,"display_name":"Jean-Baptiste Yun&#232;s"},"score":1,"creation_date":1601302258,"post_id":64103666,"comment_id":113357377,"body_markdown":"@stefan this is because it is what everybody does when iterating, ie `t[i++]`, get the current value and move to the next. Then `t[--i]` is the reverse.","body":"@stefan this is because it is what everybody does when iterating, ie <code>t[i++]</code>, get the current value and move to the next. Then <code>t[--i]</code> is the reverse."}],"tags":[],"owner":{"account_id":370994,"reputation":35154,"user_id":719263,"accept_rate":100,"display_name":"Jean-Baptiste Yun&#232;s"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1601301433,"creation_date":1601301433,"answer_id":64103666,"question_id":64103558,"body_markdown":"Because as the docs says `next()` gives you the current element AND moves the iterator to the next:\r\n\r\n&gt; Returns the next element in the list and advances the cursor position.\r\n\r\nThis when it prints `song3` the *cursor* is moved just after `song3`, then if you call `previous()` you will get the element just before the *cursor*, hence `song3` again.\r\n","title":"Why do I need to call previous() twice in ListIterator so I can go in &#39;reverse&#39; iteration?","body":"<p>Because as the docs says <code>next()</code> gives you the current element AND moves the iterator to the next:</p>\n<blockquote>\n<p>Returns the next element in the list and advances the cursor position.</p>\n</blockquote>\n<p>This when it prints <code>song3</code> the <em>cursor</em> is moved just after <code>song3</code>, then if you call <code>previous()</code> you will get the element just before the <em>cursor</em>, hence <code>song3</code> again.</p>\n"},{"tags":[],"owner":{"account_id":8490813,"reputation":3810,"user_id":6367213,"display_name":"Janez Kuhar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1601305277,"creation_date":1601302886,"answer_id":64104068,"question_id":64103558,"body_markdown":"Take a look at `ListIterator`&#39;s [javadoc](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/ListIterator.html)...\r\n\r\n&gt;                          Element(0)   Element(1)   Element(2)   ... Element(n-1)\r\n&gt;     cursor positions:  ^            ^            ^            ^                  ^\r\n\r\nAt the beginning of an iteration, cursor points *before* the first element.\r\n\r\nA call to `next()` (1) retrieves the first element after the cursor position and (2) advances the cursor to point after the retrieved element.\r\n\r\nA call to `previous()` (1) retrieves the first element before the cursor position and (2) sets the cursor to point before the retrieved element.\r\n\r\n---\r\n\r\nLets examine what happens between your 3rd and 4th line of output that is problematic.\r\n\r\nState of your iterator after the second line of output:\r\n\r\n                        &quot;song1&quot;   &quot;song2&quot;   &quot;song3&quot;   &quot;song4&quot;\r\n    cursor position:                      ^\r\n\r\nNow you call `next()` again and output `&quot;song3&quot;`. Your iterator state looks like this:\r\n\r\n                        &quot;song1&quot;   &quot;song2&quot;   &quot;song3&quot;   &quot;song4&quot;\r\n    cursor position:                                ^\r\n\r\nAt this point you call `previous()` and `&quot;song3&quot;` gets printed again. The iterator state after the operation is as follows:\r\n\r\n                        &quot;song1&quot;   &quot;song2&quot;   &quot;song3&quot;   &quot;song4&quot;\r\n    cursor position:                      ^","title":"Why do I need to call previous() twice in ListIterator so I can go in &#39;reverse&#39; iteration?","body":"<p>Take a look at <code>ListIterator</code>'s <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/ListIterator.html\" rel=\"nofollow noreferrer\">javadoc</a>...</p>\n<blockquote>\n<pre><code>                     Element(0)   Element(1)   Element(2)   ... Element(n-1)\ncursor positions:  ^            ^            ^            ^                  ^\n</code></pre>\n</blockquote>\n<p>At the beginning of an iteration, cursor points <em>before</em> the first element.</p>\n<p>A call to <code>next()</code> (1) retrieves the first element after the cursor position and (2) advances the cursor to point after the retrieved element.</p>\n<p>A call to <code>previous()</code> (1) retrieves the first element before the cursor position and (2) sets the cursor to point before the retrieved element.</p>\n<hr />\n<p>Lets examine what happens between your 3rd and 4th line of output that is problematic.</p>\n<p>State of your iterator after the second line of output:</p>\n<pre><code>                    &quot;song1&quot;   &quot;song2&quot;   &quot;song3&quot;   &quot;song4&quot;\ncursor position:                      ^\n</code></pre>\n<p>Now you call <code>next()</code> again and output <code>&quot;song3&quot;</code>. Your iterator state looks like this:</p>\n<pre><code>                    &quot;song1&quot;   &quot;song2&quot;   &quot;song3&quot;   &quot;song4&quot;\ncursor position:                                ^\n</code></pre>\n<p>At this point you call <code>previous()</code> and <code>&quot;song3&quot;</code> gets printed again. The iterator state after the operation is as follows:</p>\n<pre><code>                    &quot;song1&quot;   &quot;song2&quot;   &quot;song3&quot;   &quot;song4&quot;\ncursor position:                      ^\n</code></pre>\n"}],"owner":{"account_id":19402702,"reputation":989,"user_id":14188899,"display_name":"Stefan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":303,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":64104068,"answer_count":2,"score":2,"last_activity_date":1683776988,"creation_date":1601301065,"question_id":64103558,"body_markdown":"We know what `ListIterator` has method `next()` and `previous()` that allow us to **traverse** in both directions. So I made a little program to try it out.\r\n\r\n    List&lt;String&gt; songs = new ArrayList&lt;&gt;();\r\n       songs.add(&quot;song1&quot;);\r\n       songs.add(&quot;song2&quot;);\r\n       songs.add(&quot;song3&quot;);\r\n       songs.add(&quot;song4&quot;);\r\n    \r\n        ListIterator&lt;String&gt; iterator = songs.listIterator();\r\n    \r\n        System.out.println(iterator.next());\r\n        System.out.println(iterator.next());\r\n        System.out.println(iterator.next());\r\n    \r\n        System.out.println(iterator.previous());\r\n        System.out.println(iterator.previous());\r\n\r\nWhat I was expecting is to get:\r\n\r\n \r\n\r\n    song1\r\n    song2\r\n    song3\r\n    song2\r\n    song1\r\n\r\nBut I was **wrong**. Actual result it this:\r\n\r\n    song1\r\n    song2\r\n    song3\r\n    song3\r\n    song2\r\nCan someone tell me how does this happens? Isn&#39;t **cursor** when I am &#39;in&#39; `song3` literally there, so when I do `previous()` it gives me song **before** that one? How can I finally understand this concept the easy way?\r\n","title":"Why do I need to call previous() twice in ListIterator so I can go in &#39;reverse&#39; iteration?","body":"<p>We know what <code>ListIterator</code> has method <code>next()</code> and <code>previous()</code> that allow us to <strong>traverse</strong> in both directions. So I made a little program to try it out.</p>\n<pre><code>List&lt;String&gt; songs = new ArrayList&lt;&gt;();\n   songs.add(&quot;song1&quot;);\n   songs.add(&quot;song2&quot;);\n   songs.add(&quot;song3&quot;);\n   songs.add(&quot;song4&quot;);\n\n    ListIterator&lt;String&gt; iterator = songs.listIterator();\n\n    System.out.println(iterator.next());\n    System.out.println(iterator.next());\n    System.out.println(iterator.next());\n\n    System.out.println(iterator.previous());\n    System.out.println(iterator.previous());\n</code></pre>\n<p>What I was expecting is to get:</p>\n<pre><code>song1\nsong2\nsong3\nsong2\nsong1\n</code></pre>\n<p>But I was <strong>wrong</strong>. Actual result it this:</p>\n<pre><code>song1\nsong2\nsong3\nsong3\nsong2\n</code></pre>\n<p>Can someone tell me how does this happens? Isn't <strong>cursor</strong> when I am 'in' <code>song3</code> literally there, so when I do <code>previous()</code> it gives me song <strong>before</strong> that one? How can I finally understand this concept the easy way?</p>\n"},{"tags":["java","date","for-loop","iteration"],"comments":[{"owner":{"account_id":3557648,"reputation":8235,"user_id":2970960,"accept_rate":43,"display_name":"Jai"},"score":0,"creation_date":1608183953,"post_id":65335253,"comment_id":115506600,"body_markdown":"Why are you adding 1 day in a loop?","body":"Why are you adding 1 day in a loop?"},{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":6,"creation_date":1608184057,"post_id":65335253,"comment_id":115506632,"body_markdown":"You can&#39;t have the *next* date without constructing a new Date instance. So that has to be done. And speaking of `plusDays()`, why are you not using `java.time.LocalDate`?","body":"You can&#39;t have the <i>next</i> date without constructing a new Date instance. So that has to be done. And speaking of <code>plusDays()</code>, why are you not using <code>java.time.LocalDate</code>?"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1608186577,"post_id":65335253,"comment_id":115507239,"body_markdown":"Why are you using `Date`? That class is poorly designed and long outdated and will not work for what you want. If you do need `Date` for some legacy API, you will need some conversion/s. IMHO the best you can do then is convert to and from `LocalDate` or `ZonedDateTime` from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/).","body":"Why are you using <code>Date</code>? That class is poorly designed and long outdated and will not work for what you want. If you do need <code>Date</code> for some legacy API, you will need some conversion/s. IMHO the best you can do then is convert to and from <code>LocalDate</code> or <code>ZonedDateTime</code> from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>."}],"answers":[{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1608186178,"post_id":65335553,"comment_id":115507143,"body_markdown":"No need to mix the terrible legacy class `Date` with the *java.time* classes.","body":"No need to mix the terrible legacy class <code>Date</code> with the <i>java.time</i> classes."}],"tags":[],"owner":{"account_id":52488,"reputation":21899,"user_id":156869,"accept_rate":89,"display_name":"ariefbayu"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1608185853,"creation_date":1608185853,"answer_id":65335553,"question_id":65335253,"body_markdown":"You can use `plusDays()` by converting your [`Date`][1] into [`LocalDate`][2]:\r\n\r\n    import java.util.*;\r\n    import java.time.*;\r\n    \r\n    public class MyClass {\r\n        public static void main(String args[]) {\r\n            Date date = new Date();\r\n            LocalDate dateCopy =  date.toInstant().atZone(ZoneId.systemDefault()).toLocalDate();\r\n            System.out.println(&quot;Date:  &quot; + dateCopy);\r\n            \r\n            for(int counter = 1; counter &lt;= 5; counter++){\r\n                dateCopy = dateCopy.plusDays(1);\r\n                System.out.println(&quot;Date:  &quot; + dateCopy);\r\n    \r\n            }\r\n        }\r\n    }\r\n\r\nNotice that I use the same `dateCopy` variable, since plusDays() return a copy of `LocalDate` and I don&#39;t want to create new variables.\r\n\r\nCodes above will produce the following console logs:\r\n\r\n    Date:  2020-12-17\r\n    Date:  2020-12-18\r\n    Date:  2020-12-19\r\n    Date:  2020-12-20\r\n    Date:  2020-12-21\r\n    Date:  2020-12-22\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Date.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html","title":"Iterate over dates in java","body":"<p>You can use <code>plusDays()</code> by converting your <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Date.html\" rel=\"nofollow noreferrer\"><code>Date</code></a> into <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html\" rel=\"nofollow noreferrer\"><code>LocalDate</code></a>:</p>\n<pre><code>import java.util.*;\nimport java.time.*;\n\npublic class MyClass {\n    public static void main(String args[]) {\n        Date date = new Date();\n        LocalDate dateCopy =  date.toInstant().atZone(ZoneId.systemDefault()).toLocalDate();\n        System.out.println(&quot;Date:  &quot; + dateCopy);\n        \n        for(int counter = 1; counter &lt;= 5; counter++){\n            dateCopy = dateCopy.plusDays(1);\n            System.out.println(&quot;Date:  &quot; + dateCopy);\n\n        }\n    }\n}\n</code></pre>\n<p>Notice that I use the same <code>dateCopy</code> variable, since plusDays() return a copy of <code>LocalDate</code> and I don't want to create new variables.</p>\n<p>Codes above will produce the following console logs:</p>\n<pre><code>Date:  2020-12-17\nDate:  2020-12-18\nDate:  2020-12-19\nDate:  2020-12-20\nDate:  2020-12-21\nDate:  2020-12-22\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1608186664,"creation_date":1608186298,"answer_id":65335622,"question_id":65335253,"body_markdown":"# tl;dr\r\n\r\n```java\r\nLocalDate.now().plusDays( 1 )  // Get tomorrow&#39;s date.\r\n```\r\n\r\n# Avoid legacy date-time classes.\r\n\r\nNever use `java.util.Date`. \r\n\r\nThat terrible class was supplanted years ago by the modern *java.time* classes defined in JSR 310. Ditto for `Calendar`, `GregorianCalendar`, and `SimpleDateFormat`. \r\n\r\n# `LocalDate`\r\n\r\nFor a date-only value, without time-of-day and without time zone, use `LocalDate` class.\r\n\r\nCall `LocalDate.now` to get the current date. \r\n\r\nFor any particular moment, the date varies around the globe by time zone. So, specify the time zone by which you want to view the date. If omitted, you get the JVM’s current default time zone implicitly applied. \r\n\r\n```java\r\nLocalDate today = LocalDate.now( ZoneId.of( &quot;America/Montreal&quot; ) ) ;  // Capture the current date as seen in a particular time zone.\r\nfor ( int i = 0 ; i &lt; 7 ; i++ )\r\n{\r\n    LocalDate localDate = today.plusDays( i );\r\n    System.out.println( &quot;localDate = &quot; + localDate );\r\n}\r\n```\r\n\r\nWhen run.\r\n\r\n```none\r\nlocalDate = 2020-12-17\r\nlocalDate = 2020-12-18\r\nlocalDate = 2020-12-19\r\nlocalDate = 2020-12-20\r\nlocalDate = 2020-12-21\r\nlocalDate = 2020-12-22\r\nlocalDate = 2020-12-23\r\n```\r\n\r\nIf you are comfortable with Java streams, use `LocalDate::datesUntil`.\r\n\r\n```java\r\nLocalDate today = LocalDate.now( ZoneId.of( &quot;America/Montreal&quot; ) );  // Capture the current date as seen in a particular time zone.\r\ntoday.datesUntil( today.plusWeeks( 1 ) ).forEach( System.out :: println );\r\n```\r\n\r\n\r\n\r\n\r\n----------\r\n\r\n# About *java.time*\r\n\r\nThe [*java.time*](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html) framework is built into Java 8 and later. These classes supplant the troublesome old [legacy](https://en.wikipedia.org/wiki/Legacy_system) date-time classes such as [`java.util.Date`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Date.html), [`Calendar`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Calendar.html), &amp; [`SimpleDateFormat`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/text/SimpleDateFormat.html).\r\n\r\nTo learn more, see the [*Oracle Tutorial*](http://docs.oracle.com/javase/tutorial/datetime/TOC.html). And search Stack Overflow for many examples and explanations. Specification is [JSR 310](https://jcp.org/en/jsr/detail?id=310).\r\n\r\nThe [*Joda-Time*](http://www.joda.org/joda-time/) project, now in [maintenance mode](https://en.wikipedia.org/wiki/Maintenance_mode), advises migration to the [java.time](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html) classes.\r\n\r\nYou may exchange *java.time* objects directly with your database. Use a [JDBC driver](https://en.wikipedia.org/wiki/JDBC_driver) compliant with [JDBC 4.2](http://openjdk.java.net/jeps/170) or later. No need for strings, no need for `java.sql.*` classes. Hibernate 5 &amp; JPA 2.2 support *java.time*. \r\n\r\nWhere to obtain the java.time classes? \r\n\r\n - [**Java SE 8**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8), [**Java SE 9**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9), [**Java SE 10**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10), [**Java SE 11**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_11), and later  - Part of the standard Java API with a bundled implementation.\r\n   - [**Java 9**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9) brought some minor features and fixes.\r\n - [**Java SE 6**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6) and [**Java SE 7**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7)\r\n   - Most of the *java.time* functionality is back-ported to Java 6 &amp; 7 in [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/).\r\n - [**Android**](https://en.wikipedia.org/wiki/Android_(operating_system))\r\n   - Later versions of Android (26+) bundle implementations of the *java.time* classes.\r\n   - For earlier Android (&lt;26), a process known as [*API desugaring*](https://developer.android.com/studio/write/java8-support#library-desugaring) brings a [subset of the *java.time*](https://developer.android.com/studio/write/java8-support-table) functionality not originally built into Android.\r\n     - If the desugaring does not offer what you need, the [***ThreeTenABP***](https://github.com/JakeWharton/ThreeTenABP) project adapts [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/) (mentioned above) to Android. See [*How to use ThreeTenABP…*](http://stackoverflow.com/q/38922754/642706).\r\n\r\n\r\n\r\n","title":"Iterate over dates in java","body":"<h1>tl;dr</h1>\n<pre class=\"lang-java prettyprint-override\"><code>LocalDate.now().plusDays( 1 )  // Get tomorrow's date.\n</code></pre>\n<h1>Avoid legacy date-time classes.</h1>\n<p>Never use <code>java.util.Date</code>.</p>\n<p>That terrible class was supplanted years ago by the modern <em>java.time</em> classes defined in JSR 310. Ditto for <code>Calendar</code>, <code>GregorianCalendar</code>, and <code>SimpleDateFormat</code>.</p>\n<h1><code>LocalDate</code></h1>\n<p>For a date-only value, without time-of-day and without time zone, use <code>LocalDate</code> class.</p>\n<p>Call <code>LocalDate.now</code> to get the current date.</p>\n<p>For any particular moment, the date varies around the globe by time zone. So, specify the time zone by which you want to view the date. If omitted, you get the JVM’s current default time zone implicitly applied.</p>\n<pre class=\"lang-java prettyprint-override\"><code>LocalDate today = LocalDate.now( ZoneId.of( &quot;America/Montreal&quot; ) ) ;  // Capture the current date as seen in a particular time zone.\nfor ( int i = 0 ; i &lt; 7 ; i++ )\n{\n    LocalDate localDate = today.plusDays( i );\n    System.out.println( &quot;localDate = &quot; + localDate );\n}\n</code></pre>\n<p>When run.</p>\n<pre class=\"lang-none prettyprint-override\"><code>localDate = 2020-12-17\nlocalDate = 2020-12-18\nlocalDate = 2020-12-19\nlocalDate = 2020-12-20\nlocalDate = 2020-12-21\nlocalDate = 2020-12-22\nlocalDate = 2020-12-23\n</code></pre>\n<p>If you are comfortable with Java streams, use <code>LocalDate::datesUntil</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>LocalDate today = LocalDate.now( ZoneId.of( &quot;America/Montreal&quot; ) );  // Capture the current date as seen in a particular time zone.\ntoday.datesUntil( today.plusWeeks( 1 ) ).forEach( System.out :: println );\n</code></pre>\n<hr />\n<h1>About <em>java.time</em></h1>\n<p>The <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html\" rel=\"nofollow noreferrer\"><em>java.time</em></a> framework is built into Java 8 and later. These classes supplant the troublesome old <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"nofollow noreferrer\">legacy</a> date-time classes such as <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Date.html\" rel=\"nofollow noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Calendar.html\" rel=\"nofollow noreferrer\"><code>Calendar</code></a>, &amp; <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/text/SimpleDateFormat.html\" rel=\"nofollow noreferrer\"><code>SimpleDateFormat</code></a>.</p>\n<p>To learn more, see the <a href=\"http://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"nofollow noreferrer\"><em>Oracle Tutorial</em></a>. And search Stack Overflow for many examples and explanations. Specification is <a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"nofollow noreferrer\">JSR 310</a>.</p>\n<p>The <a href=\"http://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\"><em>Joda-Time</em></a> project, now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"nofollow noreferrer\">maintenance mode</a>, advises migration to the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a> classes.</p>\n<p>You may exchange <em>java.time</em> objects directly with your database. Use a <a href=\"https://en.wikipedia.org/wiki/JDBC_driver\" rel=\"nofollow noreferrer\">JDBC driver</a> compliant with <a href=\"http://openjdk.java.net/jeps/170\" rel=\"nofollow noreferrer\">JDBC 4.2</a> or later. No need for strings, no need for <code>java.sql.*</code> classes. Hibernate 5 &amp; JPA 2.2 support <em>java.time</em>.</p>\n<p>Where to obtain the java.time classes?</p>\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8\" rel=\"nofollow noreferrer\"><strong>Java SE 8</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"nofollow noreferrer\"><strong>Java SE 9</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10\" rel=\"nofollow noreferrer\"><strong>Java SE 10</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_11\" rel=\"nofollow noreferrer\"><strong>Java SE 11</strong></a>, and later  - Part of the standard Java API with a bundled implementation.\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"nofollow noreferrer\"><strong>Java 9</strong></a> brought some minor features and fixes.</li>\n</ul>\n</li>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6\" rel=\"nofollow noreferrer\"><strong>Java SE 6</strong></a> and <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7\" rel=\"nofollow noreferrer\"><strong>Java SE 7</strong></a>\n<ul>\n<li>Most of the <em>java.time</em> functionality is back-ported to Java 6 &amp; 7 in <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\"><em><strong>ThreeTen-Backport</strong></em></a>.</li>\n</ul>\n</li>\n<li><a href=\"https://en.wikipedia.org/wiki/Android_(operating_system)\" rel=\"nofollow noreferrer\"><strong>Android</strong></a>\n<ul>\n<li>Later versions of Android (26+) bundle implementations of the <em>java.time</em> classes.</li>\n<li>For earlier Android (&lt;26), a process known as <a href=\"https://developer.android.com/studio/write/java8-support#library-desugaring\" rel=\"nofollow noreferrer\"><em>API desugaring</em></a> brings a <a href=\"https://developer.android.com/studio/write/java8-support-table\" rel=\"nofollow noreferrer\">subset of the <em>java.time</em></a> functionality not originally built into Android.\n<ul>\n<li>If the desugaring does not offer what you need, the <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"nofollow noreferrer\"><em><strong>ThreeTenABP</strong></em></a> project adapts <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\"><em><strong>ThreeTen-Backport</strong></em></a> (mentioned above) to Android. See <a href=\"http://stackoverflow.com/q/38922754/642706\"><em>How to use ThreeTenABP…</em></a>.</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1608227406,"creation_date":1608227406,"answer_id":65345859,"question_id":65335253,"body_markdown":"As the others said, avoid using `java.util.Date` if there’s any way you can. Prefer the good answer by Basil Bourque.\r\n\r\nSometimes we need to interoperate with legacy code that uses the legacy date-time classes as `Date` and that we cannot afford to upgrade to java.time right away.\r\n\r\n - If you get a `Date` form a legacy API, use the answer by ariefbayu.\r\n - If the other way around for each date iterated you need an old-fashioned `Date` object for a legacy API, I will show you how.\r\n\r\n\t\tLocalDate startDateInclusive = LocalDate.of(2021, Month.MARCH, 12);\r\n\t\tLocalDate endDateExlusive = LocalDate.of(2021, Month.MARCH, 17);\r\n\t\t\r\n\t\tstartDateInclusive.datesUntil(endDateExlusive)\r\n\t\t\t\t.map(d -&gt; d.atStartOfDay(ZoneId.systemDefault()))\r\n\t\t\t\t.map(ZonedDateTime::toInstant)\r\n\t\t\t\t.map(Date::from)\r\n\t\t\t\t.forEach(System.out::println);\r\n\r\nI ran this snippet in `America/Cambridge_Bay` time zone and got this output:\r\n\r\n&gt;     Fri Mar 12 00:00:00 MST 2021\r\n&gt;     Sat Mar 13 00:00:00 MST 2021\r\n&gt;     Sun Mar 14 00:00:00 MST 2021\r\n&gt;     Mon Mar 15 00:00:00 MDT 2021\r\n&gt;     Tue Mar 16 00:00:00 MDT 2021\r\n\r\n`LocalDate.datesUnitil()` gives us a stream of `LocalDate`s. Through a series of `map` operations I convert each `LocalDate` to a `Date`, which I finally print. Instead of printing you will want to call one or more legacy methods, for example:\r\n\r\n\t\t\t\t.forEach(jud -&gt; {\r\n\t\t\t\t\tsomeLegayMethod(jud);\r\n\t\t\t\t\tsomeOtherLegacyMethod(jud, &quot;some other argument&quot;);\r\n\t\t\t\t});\r\n\r\nIn the output above you will notice that Java knows that summer time (DST) is introduced on March 14, so from March 15 the time zone abbreviation is `MDT` for Mountain Daylight Time rather than `MST` for Mountain Standard Time. There are really only 23 hours between those two `Date` objects when they both fall at 00:00.\r\n\r\n&gt; Used `date1 = new Date(date1.getTime() + (1000 * 60 * 60 * 24))` in\r\n&gt; for loop. But I don&#39;t think its a good idea to create objects by\r\n&gt; calling new each time in for loop.\r\n\r\nCreating a new object each time is no problem (except in very special situations). There are a couple of other reasons why your code is not good:\r\n\r\n - It’s a bad habit to do our own time math. We should rely on the library classes because\r\n\r\n    a. it gives code that is clearer to read\r\n\r\n    b. date and time math is most often more complicated than we think and therefore easy to get wrong; specifically we may miss a lot of corner cases, which often goes unnoticed in test.\r\n\r\n - Your code assumes that a day is always 24 hours. As I said above, this is not the case.\r\n\r\n## Link\r\n\r\n[Oracle tutorial: Date Time](https://docs.oracle.com/javase/tutorial/datetime/) explaining how to use java.time.\r\n\r\n","title":"Iterate over dates in java","body":"<p>As the others said, avoid using <code>java.util.Date</code> if there’s any way you can. Prefer the good answer by Basil Bourque.</p>\n<p>Sometimes we need to interoperate with legacy code that uses the legacy date-time classes as <code>Date</code> and that we cannot afford to upgrade to java.time right away.</p>\n<ul>\n<li><p>If you get a <code>Date</code> form a legacy API, use the answer by ariefbayu.</p>\n</li>\n<li><p>If the other way around for each date iterated you need an old-fashioned <code>Date</code> object for a legacy API, I will show you how.</p>\n<pre><code> LocalDate startDateInclusive = LocalDate.of(2021, Month.MARCH, 12);\n LocalDate endDateExlusive = LocalDate.of(2021, Month.MARCH, 17);\n\n startDateInclusive.datesUntil(endDateExlusive)\n         .map(d -&gt; d.atStartOfDay(ZoneId.systemDefault()))\n         .map(ZonedDateTime::toInstant)\n         .map(Date::from)\n         .forEach(System.out::println);\n</code></pre>\n</li>\n</ul>\n<p>I ran this snippet in <code>America/Cambridge_Bay</code> time zone and got this output:</p>\n<blockquote>\n<pre><code>Fri Mar 12 00:00:00 MST 2021\nSat Mar 13 00:00:00 MST 2021\nSun Mar 14 00:00:00 MST 2021\nMon Mar 15 00:00:00 MDT 2021\nTue Mar 16 00:00:00 MDT 2021\n</code></pre>\n</blockquote>\n<p><code>LocalDate.datesUnitil()</code> gives us a stream of <code>LocalDate</code>s. Through a series of <code>map</code> operations I convert each <code>LocalDate</code> to a <code>Date</code>, which I finally print. Instead of printing you will want to call one or more legacy methods, for example:</p>\n<pre><code>            .forEach(jud -&gt; {\n                someLegayMethod(jud);\n                someOtherLegacyMethod(jud, &quot;some other argument&quot;);\n            });\n</code></pre>\n<p>In the output above you will notice that Java knows that summer time (DST) is introduced on March 14, so from March 15 the time zone abbreviation is <code>MDT</code> for Mountain Daylight Time rather than <code>MST</code> for Mountain Standard Time. There are really only 23 hours between those two <code>Date</code> objects when they both fall at 00:00.</p>\n<blockquote>\n<p>Used <code>date1 = new Date(date1.getTime() + (1000 * 60 * 60 * 24))</code> in\nfor loop. But I don't think its a good idea to create objects by\ncalling new each time in for loop.</p>\n</blockquote>\n<p>Creating a new object each time is no problem (except in very special situations). There are a couple of other reasons why your code is not good:</p>\n<ul>\n<li><p>It’s a bad habit to do our own time math. We should rely on the library classes because</p>\n<p>a. it gives code that is clearer to read</p>\n<p>b. date and time math is most often more complicated than we think and therefore easy to get wrong; specifically we may miss a lot of corner cases, which often goes unnoticed in test.</p>\n</li>\n<li><p>Your code assumes that a day is always 24 hours. As I said above, this is not the case.</p>\n</li>\n</ul>\n<h2>Link</h2>\n<p><a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">Oracle tutorial: Date Time</a> explaining how to use java.time.</p>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1608237129,"creation_date":1608233195,"answer_id":65347123,"question_id":65335253,"body_markdown":"All the existing answers are great. This answer provides some additional information which can also solve your problem or at least lead you in the right direction.\r\n\r\n## Using the modern API:\r\n\r\n    import java.time.LocalDate;\r\n    \r\n    class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tLocalDate startDate = LocalDate.of(2020, 12, 5);// 5th Dec 2020\r\n    \t\tLocalDate endDate = LocalDate.of(2020, 12, 15);// 15th Dec 2020\r\n    \t\tfor (LocalDate date = startDate; !date.isAfter(endDate); date = date.plusDays(1)) {\r\n    \t\t\tSystem.out.println(date);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n**Output:**\r\n\r\n    2020-12-05\r\n    2020-12-06\r\n    2020-12-07\r\n    2020-12-08\r\n    2020-12-09\r\n    2020-12-10\r\n\r\n**If you have dates as string objects:**\r\n\r\n    import java.time.LocalDate;\r\n    import java.time.format.DateTimeFormatter;\r\n    \r\n    class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tDateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;d/M/uuuu&quot;);\r\n    \t\tLocalDate startDate = LocalDate.parse(&quot;5/12/2020&quot;, dtf);// 5th Dec 2020\r\n    \t\tLocalDate endDate = LocalDate.parse(&quot;10/12/2020&quot;, dtf);// 10th Dec 2020\r\n    \t\tfor (LocalDate date = startDate; !date.isAfter(endDate); date = date.plusDays(1)) {\r\n    \t\t\tSystem.out.println(date);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n**Output:**\r\n\r\n    2020-12-05\r\n    2020-12-06\r\n    2020-12-07\r\n    2020-12-08\r\n    2020-12-09\r\n    2020-12-10\r\n\r\n## Using the legacy API:\r\n\r\n    import java.text.SimpleDateFormat;\r\n    import java.util.Calendar;\r\n    import java.util.Date;\r\n    \r\n    class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tCalendar calendar = Calendar.getInstance();\r\n    \t\tcalendar.set(2020, 11, 5);// 5th Dec 2020\r\n    \t\tDate startDate = calendar.getTime();\r\n    \r\n    \t\tcalendar.set(2020, 11, 10);// 10th Dec 2020\r\n    \t\tDate endDate = calendar.getTime();\r\n    \r\n    \t\tSimpleDateFormat sdfForOutput = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n    \t\tDate date = startDate;\r\n    \t\tfor (calendar.setTime(startDate); !date.after(endDate); calendar.add(Calendar.DAY_OF_YEAR,\r\n    \t\t\t\t1), date = calendar.getTime()) {\r\n    \t\t\tSystem.out.println(sdfForOutput.format(date));\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n**Output:**\r\n\r\n    2020-12-05\r\n    2020-12-06\r\n    2020-12-07\r\n    2020-12-08\r\n    2020-12-09\r\n    2020-12-10\r\n\r\n**If you have dates as string objects:**\r\n\r\n    import java.text.ParseException;\r\n    import java.text.SimpleDateFormat;\r\n    import java.util.Calendar;\r\n    import java.util.Date;\r\n    \r\n    class Main {\r\n    \tpublic static void main(String[] args) throws ParseException {\r\n    \t\tSimpleDateFormat sdfForParsing = new SimpleDateFormat(&quot;d/M/yyyy&quot;);\r\n    \t\tDate startDate = sdfForParsing.parse(&quot;5/12/2020&quot;);// 5th Dec 2020\r\n    \t\tDate endDate = sdfForParsing.parse(&quot;10/12/2020&quot;);// 10th Dec 2020\r\n    \t\tCalendar calendar = Calendar.getInstance();\r\n    \r\n    \t\tSimpleDateFormat sdfForOutput = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n    \t\tDate date = startDate;\r\n    \t\tfor (calendar.setTime(startDate); !date.after(endDate); calendar.add(Calendar.DAY_OF_YEAR,\r\n    \t\t\t\t1), date = calendar.getTime()) {\r\n    \t\t\tSystem.out.println(sdfForOutput.format(date));\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n**Output:**\r\n\r\n    2020-12-05\r\n    2020-12-06\r\n    2020-12-07\r\n    2020-12-08\r\n    2020-12-09\r\n    2020-12-10\r\n\r\nNote that the date-time API of `java.util` and their formatting API, `SimpleDateFormat` are outdated and error-prone. It is recommended to stop using them completely and switch to the [modern date-time API](https://www.oracle.com/technical-resources/articles/java/jf14-date-time.html). Learn more about the modern date-time API at **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.\r\n\r\n**Note:** For any reason, if you have to stick to Java 6 or Java 7, you can use [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/) which backports most of the *java.time* functionality to Java 6 &amp; 7.\r\n\r\nIf you are working for an Android project and your Android API level is still not compliant with Java-8, check [Java 8+ APIs available through desugaring](https://developer.android.com/studio/write/java8-support-table) and [How to use ThreeTenABP in Android Project](https://stackoverflow.com/questions/38922754/how-to-use-threetenabp-in-android-project).\r\n","title":"Iterate over dates in java","body":"<p>All the existing answers are great. This answer provides some additional information which can also solve your problem or at least lead you in the right direction.</p>\n<h2>Using the modern API:</h2>\n<pre><code>import java.time.LocalDate;\n\nclass Main {\n    public static void main(String[] args) {\n        LocalDate startDate = LocalDate.of(2020, 12, 5);// 5th Dec 2020\n        LocalDate endDate = LocalDate.of(2020, 12, 15);// 15th Dec 2020\n        for (LocalDate date = startDate; !date.isAfter(endDate); date = date.plusDays(1)) {\n            System.out.println(date);\n        }\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>2020-12-05\n2020-12-06\n2020-12-07\n2020-12-08\n2020-12-09\n2020-12-10\n</code></pre>\n<p><strong>If you have dates as string objects:</strong></p>\n<pre><code>import java.time.LocalDate;\nimport java.time.format.DateTimeFormatter;\n\nclass Main {\n    public static void main(String[] args) {\n        DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;d/M/uuuu&quot;);\n        LocalDate startDate = LocalDate.parse(&quot;5/12/2020&quot;, dtf);// 5th Dec 2020\n        LocalDate endDate = LocalDate.parse(&quot;10/12/2020&quot;, dtf);// 10th Dec 2020\n        for (LocalDate date = startDate; !date.isAfter(endDate); date = date.plusDays(1)) {\n            System.out.println(date);\n        }\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>2020-12-05\n2020-12-06\n2020-12-07\n2020-12-08\n2020-12-09\n2020-12-10\n</code></pre>\n<h2>Using the legacy API:</h2>\n<pre><code>import java.text.SimpleDateFormat;\nimport java.util.Calendar;\nimport java.util.Date;\n\nclass Main {\n    public static void main(String[] args) {\n        Calendar calendar = Calendar.getInstance();\n        calendar.set(2020, 11, 5);// 5th Dec 2020\n        Date startDate = calendar.getTime();\n\n        calendar.set(2020, 11, 10);// 10th Dec 2020\n        Date endDate = calendar.getTime();\n\n        SimpleDateFormat sdfForOutput = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\n        Date date = startDate;\n        for (calendar.setTime(startDate); !date.after(endDate); calendar.add(Calendar.DAY_OF_YEAR,\n                1), date = calendar.getTime()) {\n            System.out.println(sdfForOutput.format(date));\n        }\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>2020-12-05\n2020-12-06\n2020-12-07\n2020-12-08\n2020-12-09\n2020-12-10\n</code></pre>\n<p><strong>If you have dates as string objects:</strong></p>\n<pre><code>import java.text.ParseException;\nimport java.text.SimpleDateFormat;\nimport java.util.Calendar;\nimport java.util.Date;\n\nclass Main {\n    public static void main(String[] args) throws ParseException {\n        SimpleDateFormat sdfForParsing = new SimpleDateFormat(&quot;d/M/yyyy&quot;);\n        Date startDate = sdfForParsing.parse(&quot;5/12/2020&quot;);// 5th Dec 2020\n        Date endDate = sdfForParsing.parse(&quot;10/12/2020&quot;);// 10th Dec 2020\n        Calendar calendar = Calendar.getInstance();\n\n        SimpleDateFormat sdfForOutput = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\n        Date date = startDate;\n        for (calendar.setTime(startDate); !date.after(endDate); calendar.add(Calendar.DAY_OF_YEAR,\n                1), date = calendar.getTime()) {\n            System.out.println(sdfForOutput.format(date));\n        }\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>2020-12-05\n2020-12-06\n2020-12-07\n2020-12-08\n2020-12-09\n2020-12-10\n</code></pre>\n<p>Note that the date-time API of <code>java.util</code> and their formatting API, <code>SimpleDateFormat</code> are outdated and error-prone. It is recommended to stop using them completely and switch to the <a href=\"https://www.oracle.com/technical-resources/articles/java/jf14-date-time.html\" rel=\"nofollow noreferrer\">modern date-time API</a>. Learn more about the modern date-time API at <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong>.</p>\n<p><strong>Note:</strong> For any reason, if you have to stick to Java 6 or Java 7, you can use <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\"><em><strong>ThreeTen-Backport</strong></em></a> which backports most of the <em>java.time</em> functionality to Java 6 &amp; 7.</p>\n<p>If you are working for an Android project and your Android API level is still not compliant with Java-8, check <a href=\"https://developer.android.com/studio/write/java8-support-table\" rel=\"nofollow noreferrer\">Java 8+ APIs available through desugaring</a> and <a href=\"https://stackoverflow.com/questions/38922754/how-to-use-threetenabp-in-android-project\">How to use ThreeTenABP in Android Project</a>.</p>\n"}],"owner":{"account_id":19246297,"reputation":43,"user_id":14065277,"display_name":"Deepa Das"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1970,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1683776973,"creation_date":1608183585,"question_id":65335253,"body_markdown":"I need to iterate through a range of dates. Not sure on how to take next day in for loop.\r\nI am using `java.util.Date`. So `plusDays(1)` cannot be used in the for loop for taking next date.\r\n\r\nUsed `date1 = new Date(date1.getTime() + (1000 * 60 * 60 * 24))` in for loop. But I don&#39;t think its a good idea to create objects by calling new each time in for loop.\r\n\r\nPlease suggest a better way for taking next day in for loop.\r\n\r\n","title":"Iterate over dates in java","body":"<p>I need to iterate through a range of dates. Not sure on how to take next day in for loop.\nI am using <code>java.util.Date</code>. So <code>plusDays(1)</code> cannot be used in the for loop for taking next date.</p>\n<p>Used <code>date1 = new Date(date1.getTime() + (1000 * 60 * 60 * 24))</code> in for loop. But I don't think its a good idea to create objects by calling new each time in for loop.</p>\n<p>Please suggest a better way for taking next day in for loop.</p>\n"},{"tags":["java","math"],"comments":[{"owner":{"account_id":17000499,"reputation":48417,"user_id":12299000,"display_name":"kaya3"},"score":0,"creation_date":1683774160,"post_id":76223860,"comment_id":134419073,"body_markdown":"The problem is that `Math.abs(n)` doesn&#39;t always return a non-negative number. Try stepping through your code in a debugger or adding some `println` statements to see what the values of your variables are at each step. https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Math.html#abs(int)","body":"The problem is that <code>Math.abs(n)</code> doesn&#39;t always return a non-negative number. Try stepping through your code in a debugger or adding some <code>println</code> statements to see what the values of your variables are at each step. <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Math.html#abs(int)\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/20/docs/api/java.base/java/la&zwnj;&#8203;ng/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1683774647,"creation_date":1683774647,"answer_id":76223903,"question_id":76223860,"body_markdown":"The magnitude of the smallest negative `int` value is larger than the magnitude of the largest positive `int` value. Thus `Math.abs` cannot return the correct value for `Integer.MIN_VALUE`. \r\n\r\nTo solve this problem, you can cast the exponent to `long` before using binary exponentiation.\r\n\r\n```java\r\npublic double myPow(double x, int n) {\r\n\tif (n == 0)\r\n\t\treturn 1;\r\n\tif (n &lt; 0) return 1 / getDFS(x, Math.abs((long) n));\r\n\treturn getDFS(x, n);\r\n}\r\nprivate double getDFS(double x, long n) {\r\n    // ...\r\n    if (n / 2 &gt;= 1) { \r\n        long newN = n / 2;\r\n        saveData = getDFS(x,newN);\r\n    }\r\n    // ...\r\n}\r\n```","title":"Math Power(x,n) does not work -2147483648 for in java?","body":"<p>The magnitude of the smallest negative <code>int</code> value is larger than the magnitude of the largest positive <code>int</code> value. Thus <code>Math.abs</code> cannot return the correct value for <code>Integer.MIN_VALUE</code>.</p>\n<p>To solve this problem, you can cast the exponent to <code>long</code> before using binary exponentiation.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public double myPow(double x, int n) {\n    if (n == 0)\n        return 1;\n    if (n &lt; 0) return 1 / getDFS(x, Math.abs((long) n));\n    return getDFS(x, n);\n}\nprivate double getDFS(double x, long n) {\n    // ...\n    if (n / 2 &gt;= 1) { \n        long newN = n / 2;\n        saveData = getDFS(x,newN);\n    }\n    // ...\n}\n</code></pre>\n"}],"owner":{"account_id":21004999,"reputation":788,"user_id":15435022,"display_name":"mattsmith5"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1683774942,"accepted_answer_id":76223903,"answer_count":1,"score":0,"last_activity_date":1683774647,"creation_date":1683773897,"question_id":76223860,"body_markdown":"I am doing a leetcode problem. \r\nhttps://leetcode.com/problems/powx-n/\r\n\r\n&gt; Implement pow(x, n), which calculates x raised to the power n (i.e.,\r\n&gt; x^n).\r\n\r\nI have no idea why last test case is failing, x^-2147483648 returns 1 instead of 0.\r\n\r\n 1. Why should this even return 0 in first place? \r\n 2. Also, Math.abs(n) in debugger still returns a negative -2147483648.\r\n\r\n\r\n--\r\n\r\n**Code:**\r\n\r\n    class Solution {\r\n        public double myPow(double x, int n) {\r\n            if (n == 0)\r\n                return 1;\r\n            if (n &lt; 0) {\r\n                return 1 / getDFS(x, Math.abs(n));\r\n            }\r\n            return getDFS(x, n);\r\n        }\r\n    \r\n        private double getDFS(double x, int n) {\r\n            if (n == 1) {\r\n                return x;\r\n            }\r\n            double saveData = 1;\r\n            if (n / 2 &gt;= 1) {\r\n                int newN = n / 2;\r\n                saveData = getDFS(x,newN);\r\n            } \r\n            if (n % 2 == 1) {\r\n                return saveData * saveData * x;\r\n            }\r\n            return saveData * saveData;\r\n        }\r\n    }\r\n\r\n**Results:**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1x9zk.png","title":"Math Power(x,n) does not work -2147483648 for in java?","body":"<p>I am doing a leetcode problem.\n<a href=\"https://leetcode.com/problems/powx-n/\" rel=\"nofollow noreferrer\">https://leetcode.com/problems/powx-n/</a></p>\n<blockquote>\n<p>Implement pow(x, n), which calculates x raised to the power n (i.e.,\nx^n).</p>\n</blockquote>\n<p>I have no idea why last test case is failing, x^-2147483648 returns 1 instead of 0.</p>\n<ol>\n<li>Why should this even return 0 in first place?</li>\n<li>Also, Math.abs(n) in debugger still returns a negative -2147483648.</li>\n</ol>\n<p>--</p>\n<p><strong>Code:</strong></p>\n<pre><code>class Solution {\n    public double myPow(double x, int n) {\n        if (n == 0)\n            return 1;\n        if (n &lt; 0) {\n            return 1 / getDFS(x, Math.abs(n));\n        }\n        return getDFS(x, n);\n    }\n\n    private double getDFS(double x, int n) {\n        if (n == 1) {\n            return x;\n        }\n        double saveData = 1;\n        if (n / 2 &gt;= 1) {\n            int newN = n / 2;\n            saveData = getDFS(x,newN);\n        } \n        if (n % 2 == 1) {\n            return saveData * saveData * x;\n        }\n        return saveData * saveData;\n    }\n}\n</code></pre>\n<p><strong>Results:</strong></p>\n<p><a href=\"https://i.stack.imgur.com/1x9zk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1x9zk.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","java.util.scanner","scite"],"answers":[{"comments":[{"owner":{"account_id":112546,"reputation":1093,"user_id":296828,"display_name":"VolatileDream"},"score":0,"creation_date":1321729064,"post_id":8196382,"comment_id":10071909,"body_markdown":"Also remember that stdout ends up the same in both cases.","body":"Also remember that stdout ends up the same in both cases."},{"owner":{"account_id":1051775,"reputation":8676,"user_id":1055527,"accept_rate":100,"display_name":"ABVincita"},"score":0,"creation_date":1322317121,"post_id":8196382,"comment_id":10193725,"body_markdown":"Sorry for the late reply, but thank you so much for answering! I understand it now :)","body":"Sorry for the late reply, but thank you so much for answering! I understand it now :)"},{"owner":{"account_id":26213,"reputation":5426,"user_id":67988,"accept_rate":25,"display_name":"Helgi"},"score":0,"creation_date":1323284504,"post_id":8196382,"comment_id":10403119,"body_markdown":"@ABVincita: On behalf of Daniel, let me suggest that you accept the answer by clicking on the checkmark icon. This way, the community will know that the question is resolved.","body":"@ABVincita: On behalf of Daniel, let me suggest that you accept the answer by clicking on the checkmark icon. This way, the community will know that the question is resolved."},{"owner":{"account_id":1051775,"reputation":8676,"user_id":1055527,"accept_rate":100,"display_name":"ABVincita"},"score":0,"creation_date":1323530032,"post_id":8196382,"comment_id":10456454,"body_markdown":"@Helgi oh thanks for telling me that! Forgive my newbieness :)","body":"@Helgi oh thanks for telling me that! Forgive my newbieness :)"}],"tags":[],"owner":{"account_id":996105,"reputation":182284,"user_id":1011995,"display_name":"Daniel Fischer"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1321728562,"creation_date":1321728562,"answer_id":8196382,"question_id":8196114,"body_markdown":"Buffering. At the command prompt, and apparently in NetBeans, the stdin stream is line-buffered, so your app doesn&#39;t know you&#39;ve typed anything before you&#39;ve entered a newline (or the buffer is full). Scite apparently doesn&#39;t line-buffer the input stream but flushes it either after each character or at each space.","title":"Java: Scanner&#39;s next() acts differently in Scite and command prompt","body":"<p>Buffering. At the command prompt, and apparently in NetBeans, the stdin stream is line-buffered, so your app doesn't know you've typed anything before you've entered a newline (or the buffer is full). Scite apparently doesn't line-buffer the input stream but flushes it either after each character or at each space.</p>\n"}],"owner":{"account_id":1051775,"reputation":8676,"user_id":1055527,"accept_rate":100,"display_name":"ABVincita"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":680,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":8196382,"answer_count":1,"score":1,"last_activity_date":1683773721,"creation_date":1321726129,"question_id":8196114,"body_markdown":"I&#39;m trying out a very simple Java program that uses Scanner and its method next(), and somehow I encounter a weird situation. Here is the code: \r\n\r\n    import java.util.Scanner;\r\n    public class Test\r\n    {\r\n    \tpublic static void main(String[] args)\r\n    \t{\r\n\t    \tScanner scan = new Scanner(System.in);\r\n\t    \tString input = &quot;&quot;;\r\n\t\t\r\n\t    \tSystem.out.println(&quot;Enter a sentence here: &quot;);\r\n\t\t\r\n\t    \twhile(!input.endsWith(&quot;.&quot;))\r\n\t    \t{\r\n\t    \t\tinput = scan.next();\r\n\t    \t\tSystem.out.println(&quot;Echo: &quot; + input);\r\n\t    \t}\r\n    \t}\r\n    }\r\n\r\nIf I run it in Scite, everytime I type a space after a word, the line &quot;Echo: &quot; + the inputted word will be printed right after the the space. \r\n\r\nSuppose I type the input in keyboard like this: \r\n\r\n    apple orange mango.\r\n\r\nIn scite it will look like this:\r\n\r\n    Enter a sentence here:\r\n    apple Echo: apple\r\n    orange Echo: orange\r\n    mango. Echo: mango.\r\n    \r\nBut if I run it in command prompt and type the same input, it will look like this :\r\n\r\n    Enter a sentence here: \r\n    apple orange mango.\r\n    Echo: apple\r\n    Echo: orange\r\n    Echo: mango.\r\n\r\nNote: when running in command prompt, I must hit enter after I type &quot;apple orange mango.&quot; or it will not print the &quot;Echo&quot; sentences. Also tried the code in NetBeans and it gave the same results as the command prompt one.\r\n\r\nWhy does the program act differently?\r\n","title":"Java: Scanner&#39;s next() acts differently in Scite and command prompt","body":"<p>I'm trying out a very simple Java program that uses Scanner and its method next(), and somehow I encounter a weird situation. Here is the code: </p>\n\n<pre><code>import java.util.Scanner;\npublic class Test\n{\n    public static void main(String[] args)\n    {\n        Scanner scan = new Scanner(System.in);\n        String input = \"\";\n\n        System.out.println(\"Enter a sentence here: \");\n\n        while(!input.endsWith(\".\"))\n        {\n            input = scan.next();\n            System.out.println(\"Echo: \" + input);\n        }\n    }\n}\n</code></pre>\n\n<p>If I run it in Scite, everytime I type a space after a word, the line \"Echo: \" + the inputted word will be printed right after the the space. </p>\n\n<p>Suppose I type the input in keyboard like this: </p>\n\n<pre><code>apple orange mango.\n</code></pre>\n\n<p>In scite it will look like this:</p>\n\n<pre><code>Enter a sentence here:\napple Echo: apple\norange Echo: orange\nmango. Echo: mango.\n</code></pre>\n\n<p>But if I run it in command prompt and type the same input, it will look like this :</p>\n\n<pre><code>Enter a sentence here: \napple orange mango.\nEcho: apple\nEcho: orange\nEcho: mango.\n</code></pre>\n\n<p>Note: when running in command prompt, I must hit enter after I type \"apple orange mango.\" or it will not print the \"Echo\" sentences. Also tried the code in NetBeans and it gave the same results as the command prompt one.</p>\n\n<p>Why does the program act differently?</p>\n"},{"tags":["java","java.util.scanner"],"answers":[{"tags":[],"owner":{"account_id":15847779,"reputation":4627,"user_id":11434552,"display_name":"Nexevis"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1567004993,"creation_date":1567004993,"answer_id":57695439,"question_id":57695235,"body_markdown":"You need to add a call to `scan.nextLine()` after you call `scan.nextInt();` and not use the value from it:\r\n\r\n    int b=scan.nextInt();\r\n    scan.nextLine(); //Add this line\r\n\r\nThis is because `nextInt()` does not consume the line terminator that is used in `nextLine()` to determine the end of the line and the extra call to `nextLine()` will consume it for you correctly.  \r\n\r\nBasically before you were giving it the value `2` for example, the `nextInt()` will take the `2`, then `nextLine()` will take everything after the `2` on THAT line, which would be nothing.\r\n\r\nThis will always need to be done if you are mixing the use of `next` or `nextInt` with `nextLine`.","title":"How to fix my problem with &#39;nextLine()&#39; in my input?","body":"<p>You need to add a call to <code>scan.nextLine()</code> after you call <code>scan.nextInt();</code> and not use the value from it:</p>\n\n<pre><code>int b=scan.nextInt();\nscan.nextLine(); //Add this line\n</code></pre>\n\n<p>This is because <code>nextInt()</code> does not consume the line terminator that is used in <code>nextLine()</code> to determine the end of the line and the extra call to <code>nextLine()</code> will consume it for you correctly.  </p>\n\n<p>Basically before you were giving it the value <code>2</code> for example, the <code>nextInt()</code> will take the <code>2</code>, then <code>nextLine()</code> will take everything after the <code>2</code> on THAT line, which would be nothing.</p>\n\n<p>This will always need to be done if you are mixing the use of <code>next</code> or <code>nextInt</code> with <code>nextLine</code>.</p>\n"}],"owner":{"account_id":16535396,"reputation":15,"user_id":11947571,"display_name":"arxxx"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1683817364,"accepted_answer_id":57695439,"answer_count":1,"score":1,"last_activity_date":1683773702,"creation_date":1567004284,"question_id":57695235,"body_markdown":"I can understand why `nextLine()` doesnt work.\r\n\r\nIf I change `nextLine()` with `next()` my input doest take all the phrase \r\n\r\n\r\n     case 7:\r\n            System.out.println(&quot;Press 1 to post on your wall \\nPress 2 to post on a friend&#39;s wall&quot;);\r\n            int b=scan.nextInt();\r\n            if(b==1){\r\n                System.out.println(&quot;What do you want to post?&quot;);\r\n                String pm=scan.nextLine();\r\n                \r\n                Message ms= new Message(loginUser.getUsername(),loginUser.getUsername() +&quot; :&quot;+ pm.toString());\r\n                message.add(ms);\r\n            }\r\n            if(b==2){\r\n                System.out.println(&quot;Whose wall do you want to post? (Write his/her username)&quot;);\r\n                String ph=scan.next();\r\n            \r\n                for(int n = 0;  n&lt; users.size(); n++)\r\n                {\r\n                    if(!loginUser.getUsername().equals(ph) \r\n                            &amp;&amp; users.get(n).getUsername().equals(ph)){\r\n                        System.out.println(&quot;What do you want to post?&quot;);\r\n                        String postIt=scan.nextLine();\r\n                        Message me= new Message( ph,ph +&quot; : &quot;+loginUser.getUsername() +&quot; : &quot; + postIt.toString() );\r\n                        message.add(me);\r\n                    }\r\n                }\r\n            } \r\n            luna=false;\r\n            break;","title":"How to fix my problem with &#39;nextLine()&#39; in my input?","body":"<p>I can understand why <code>nextLine()</code> doesnt work.</p>\n\n<p>If I change <code>nextLine()</code> with <code>next()</code> my input doest take all the phrase </p>\n\n<pre><code> case 7:\n        System.out.println(\"Press 1 to post on your wall \\nPress 2 to post on a friend's wall\");\n        int b=scan.nextInt();\n        if(b==1){\n            System.out.println(\"What do you want to post?\");\n            String pm=scan.nextLine();\n\n            Message ms= new Message(loginUser.getUsername(),loginUser.getUsername() +\" :\"+ pm.toString());\n            message.add(ms);\n        }\n        if(b==2){\n            System.out.println(\"Whose wall do you want to post? (Write his/her username)\");\n            String ph=scan.next();\n\n            for(int n = 0;  n&lt; users.size(); n++)\n            {\n                if(!loginUser.getUsername().equals(ph) \n                        &amp;&amp; users.get(n).getUsername().equals(ph)){\n                    System.out.println(\"What do you want to post?\");\n                    String postIt=scan.nextLine();\n                    Message me= new Message( ph,ph +\" : \"+loginUser.getUsername() +\" : \" + postIt.toString() );\n                    message.add(me);\n                }\n            }\n        } \n        luna=false;\n        break;\n</code></pre>\n"},{"tags":["java","file","java.util.scanner"],"comments":[{"owner":{"account_id":316740,"reputation":488,"user_id":633062,"accept_rate":50,"display_name":"Jeremiah Adams"},"score":0,"creation_date":1606152567,"post_id":64973250,"comment_id":114868987,"body_markdown":"What is the question?","body":"What is the question?"},{"owner":{"account_id":18394167,"reputation":19,"user_id":13399090,"display_name":"RideTheLightning343"},"score":0,"creation_date":1606152676,"post_id":64973250,"comment_id":114869053,"body_markdown":"How can I separate the items received from the scanner so that they can be counted in the totals inside the if statements?","body":"How can I separate the items received from the scanner so that they can be counted in the totals inside the if statements?"},{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1606154673,"post_id":64973250,"comment_id":114869929,"body_markdown":"Use the isBlank method of String to check for a blank line.","body":"Use the isBlank method of String to check for a blank line."}],"answers":[{"tags":[],"owner":{"account_id":19871842,"reputation":93,"user_id":14557790,"display_name":"Laith.jas"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1606154772,"creation_date":1606154772,"answer_id":64973852,"question_id":64973250,"body_markdown":"I don&#39;t know if this answers your question, but as I understand u want to separate each line in the text file. If this is the case you can write a switch statement that has two cases, A and B. And u want a loop to go over each character in a line: \r\n\r\n    for(int i = 0; i&lt;2; i++){\r\n       switch(token.charAt(i)){\r\n           case &#39;G&#39;:\r\n               &lt;Some variable&gt;\r\n               break;\r\n           case &#39;B&#39;:\r\n               &lt;Some variable&gt;\r\n               break;\r\n        }\r\n    }\r\nP.S: I&#39;m not an expert, I&#39;m just a student.\r\n","title":"How to separate items from a file in java","body":"<p>I don't know if this answers your question, but as I understand u want to separate each line in the text file. If this is the case you can write a switch statement that has two cases, A and B. And u want a loop to go over each character in a line:</p>\n<pre><code>for(int i = 0; i&lt;2; i++){\n   switch(token.charAt(i)){\n       case 'G':\n           &lt;Some variable&gt;\n           break;\n       case 'B':\n           &lt;Some variable&gt;\n           break;\n    }\n}\n</code></pre>\n<p>P.S: I'm not an expert, I'm just a student.</p>\n"}],"owner":{"account_id":18394167,"reputation":19,"user_id":13399090,"display_name":"RideTheLightning343"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1683773675,"creation_date":1606152361,"question_id":64973250,"body_markdown":"Good afternoon, I am currently trying to read the contents of a file and add them to their respective variables based on how many times they occur. The program is designed to calculate the probability of a boy or girl in a 2 offspring family. BB means 2 boys, GG means 2 girls, and GB or BG is boy and girl. The file`s information is as follows : \r\n\r\n    BB\r\n\r\n    GB\r\n\r\n    GB\r\n\r\n    BG\r\n\r\n    GG\r\n\r\n    GB\r\n\r\n    GB\r\n\r\n    GB\r\n\r\n    GB\r\n\r\n    GG\r\n\r\nHere is what I have coded:\r\n```\r\nimport java.util.Scanner;\r\nimport java.io.File;\r\nimport java.io.IOException;\r\npublic class Family\r\n{\r\n   public static void main (String args[]) throws IOException {\r\n    //variables defined\r\n    int numGB = 0;\r\n    int numBG = 0;\r\n    int numGG = 0;\r\n    int numBB = 0;\r\n    int totalNum = 0;\r\n    double probBG;\r\n    double probGG;\r\n    double probBB;\r\n    String token =&quot;&quot;;\r\n    int spaceDeleter = 0;\r\n    int token2Sub = 0;\r\n    \r\n    File fileName = new File (&quot;test1.txt&quot;); \r\n    \r\n    Scanner in = new Scanner(fileName); //scans file\r\n    \r\n    System.out.println(&quot;Composition statistics for families with two children&quot;);\r\n    while(in.hasNextLine())\r\n    {\r\n        token = in.next( ); //recives token from scanner\r\n        if(token.equals(&quot;GB&quot;))\r\n        {\r\n        numGB = numGB + 1;\r\n        }\r\n        else if(token.equals(&quot;BG&quot;))\r\n        {\r\n        numBG = numBG + 1;\r\n        }\r\n        else if(token.equals(&quot;GG&quot;))\r\n        {\r\n        numGG = numGG + 1;\r\n        }\r\n        else if(token.equals(&quot;BB&quot;))\r\n        {\r\n        numBB = numBB + 1;\r\n        }\r\n        else if(token.equals(&quot;&quot;))\r\n        {\r\n        spaceDeleter =+ 1; //tried to delete space to no avial\r\n        }\r\n        else \r\n        {\r\n        System.out.println(&quot;Data reading error&quot;);\r\n        }\r\n    }\r\n    in.close(); //closes file\r\n    \r\n    totalNum = numBB + numGG + numBG + numGB; // calculates total num of tokens\r\n    probBG = (numBG + numGB) / totalNum; //Probability of boy and girl\r\n    probBB = numBB / totalNum; // Probability of Boy\r\n    probGG = numGG / totalNum; //Probability of girl\r\n    \r\n    System.out.println(&quot;Total number of families: &quot; + totalNum); //print results to user\r\n    System.out.println(&quot;&quot;);\r\n    System.out.println(&quot;Number of families with&quot;);\r\n    System.out.println(&quot;\\t 2 boys: &quot; + numBB + &quot; represents &quot; + probBB + &quot;%&quot;);\r\n    System.out.println(&quot;\\t 2 girls: &quot; + numGG + &quot; represents &quot; + probGG + &quot;%&quot;);\r\n    System.out.println(&quot;\\t 1 boy and 1 girl: &quot; + (numBG + numGB) + &quot; represents &quot; + probBG + &quot;%&quot;);\r\n}\r\n}\r\n\r\n```\r\n","title":"How to separate items from a file in java","body":"<p>Good afternoon, I am currently trying to read the contents of a file and add them to their respective variables based on how many times they occur. The program is designed to calculate the probability of a boy or girl in a 2 offspring family. BB means 2 boys, GG means 2 girls, and GB or BG is boy and girl. The file`s information is as follows :</p>\n<pre><code>BB\n\nGB\n\nGB\n\nBG\n\nGG\n\nGB\n\nGB\n\nGB\n\nGB\n\nGG\n</code></pre>\n<p>Here is what I have coded:</p>\n<pre><code>import java.util.Scanner;\nimport java.io.File;\nimport java.io.IOException;\npublic class Family\n{\n   public static void main (String args[]) throws IOException {\n    //variables defined\n    int numGB = 0;\n    int numBG = 0;\n    int numGG = 0;\n    int numBB = 0;\n    int totalNum = 0;\n    double probBG;\n    double probGG;\n    double probBB;\n    String token =&quot;&quot;;\n    int spaceDeleter = 0;\n    int token2Sub = 0;\n    \n    File fileName = new File (&quot;test1.txt&quot;); \n    \n    Scanner in = new Scanner(fileName); //scans file\n    \n    System.out.println(&quot;Composition statistics for families with two children&quot;);\n    while(in.hasNextLine())\n    {\n        token = in.next( ); //recives token from scanner\n        if(token.equals(&quot;GB&quot;))\n        {\n        numGB = numGB + 1;\n        }\n        else if(token.equals(&quot;BG&quot;))\n        {\n        numBG = numBG + 1;\n        }\n        else if(token.equals(&quot;GG&quot;))\n        {\n        numGG = numGG + 1;\n        }\n        else if(token.equals(&quot;BB&quot;))\n        {\n        numBB = numBB + 1;\n        }\n        else if(token.equals(&quot;&quot;))\n        {\n        spaceDeleter =+ 1; //tried to delete space to no avial\n        }\n        else \n        {\n        System.out.println(&quot;Data reading error&quot;);\n        }\n    }\n    in.close(); //closes file\n    \n    totalNum = numBB + numGG + numBG + numGB; // calculates total num of tokens\n    probBG = (numBG + numGB) / totalNum; //Probability of boy and girl\n    probBB = numBB / totalNum; // Probability of Boy\n    probGG = numGG / totalNum; //Probability of girl\n    \n    System.out.println(&quot;Total number of families: &quot; + totalNum); //print results to user\n    System.out.println(&quot;&quot;);\n    System.out.println(&quot;Number of families with&quot;);\n    System.out.println(&quot;\\t 2 boys: &quot; + numBB + &quot; represents &quot; + probBB + &quot;%&quot;);\n    System.out.println(&quot;\\t 2 girls: &quot; + numGG + &quot; represents &quot; + probGG + &quot;%&quot;);\n    System.out.println(&quot;\\t 1 boy and 1 girl: &quot; + (numBG + numGB) + &quot; represents &quot; + probBG + &quot;%&quot;);\n}\n}\n\n</code></pre>\n"},{"tags":["java","list","iterator"],"comments":[{"owner":{"account_id":1008660,"reputation":13673,"user_id":1021725,"accept_rate":75,"display_name":"David Brossard"},"score":3,"creation_date":1616826067,"post_id":66828558,"comment_id":118130097,"body_markdown":"To start with you&#39;re calling next() twice","body":"To start with you&#39;re calling next() twice"}],"answers":[{"comments":[{"owner":{"account_id":11057261,"reputation":3,"user_id":8183734,"display_name":"ashray mp"},"score":0,"creation_date":1616828872,"post_id":66828616,"comment_id":118130482,"body_markdown":"Thank You @aatwork. You are right. The mistake was that I initialized the iterator even before I could populate the list.","body":"Thank You @aatwork. You are right. The mistake was that I initialized the iterator even before I could populate the list."}],"tags":[],"owner":{"account_id":19496972,"reputation":2160,"user_id":14263933,"display_name":"aatwork"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1616826613,"creation_date":1616826613,"answer_id":66828616,"question_id":66828558,"body_markdown":"Where is itrPlaylist is defined? Somethng like\r\n\r\n    itrPlaylist = list.iterator();\r\n\r\nAbove assignment should have happened after all the inserts have been done to the list. Looks like you have created one instance variable for itrPlaylist. And I think you might be doing \r\n\r\n    list.add(value); \r\n\r\nafter itrPlaylist has been initialized.\r\n\r\nIn that case, code will throw the above mentioned exception. This happens when some other code outside of iterator modifies the list when iterator is already initialized.","title":"Concurrent Exception on Iterator.next() in Java","body":"<p>Where is itrPlaylist is defined? Somethng like</p>\n<pre><code>itrPlaylist = list.iterator();\n</code></pre>\n<p>Above assignment should have happened after all the inserts have been done to the list. Looks like you have created one instance variable for itrPlaylist. And I think you might be doing</p>\n<pre><code>list.add(value); \n</code></pre>\n<p>after itrPlaylist has been initialized.</p>\n<p>In that case, code will throw the above mentioned exception. This happens when some other code outside of iterator modifies the list when iterator is already initialized.</p>\n"}],"owner":{"account_id":11057261,"reputation":3,"user_id":8183734,"display_name":"ashray mp"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1616831197,"accepted_answer_id":66828616,"answer_count":1,"score":-1,"last_activity_date":1683773655,"creation_date":1616825922,"question_id":66828558,"body_markdown":"This is a code snippet to move to next element in the linked list. On debugging,  itrPlaylist.next() is triggering a ConcurrentModificationException. I read that the list should not be modified while I am iterating. So, in this case, where did I go wrong? How can it be resolved? \r\n\r\nThanks in Advance.\r\n\r\n\tpublic boolean nexxt() {\r\n\t\tif(this.itrPlaylist.hasNext())\r\n\t\t{\r\n\t\t\tif(!bForward)\r\n\t\t\t{\r\n\t\t\t\tbForward = true;\r\n\t\t\t\titrPlaylist.next();\r\n\t\t\t}\r\n\t\t\tSystem.out.println(&quot;Now playing : &quot; + itrPlaylist.next());\r\n\t\t\treturn true;\t\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tSystem.out.println(&quot;Reached end of &quot; + this.getPlaylistName() + &quot; playlist !&quot;);\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n","title":"Concurrent Exception on Iterator.next() in Java","body":"<p>This is a code snippet to move to next element in the linked list. On debugging,  itrPlaylist.next() is triggering a ConcurrentModificationException. I read that the list should not be modified while I am iterating. So, in this case, where did I go wrong? How can it be resolved?</p>\n<p>Thanks in Advance.</p>\n<pre><code>public boolean nexxt() {\n    if(this.itrPlaylist.hasNext())\n    {\n        if(!bForward)\n        {\n            bForward = true;\n            itrPlaylist.next();\n        }\n        System.out.println(&quot;Now playing : &quot; + itrPlaylist.next());\n        return true;    \n    }\n    else\n    {\n        System.out.println(&quot;Reached end of &quot; + this.getPlaylistName() + &quot; playlist !&quot;);\n    }\n    return false;\n}\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9782,"page":443,"page_size":100}
