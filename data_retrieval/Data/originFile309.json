{"items":[{"tags":["java","spring","spring-boot","junit","nullpointerexception"],"comments":[{"owner":{"account_id":5122022,"reputation":2427,"user_id":4105260,"accept_rate":0,"display_name":"Lovababu Padala"},"score":0,"creation_date":1621692577,"post_id":67646565,"comment_id":119574847,"body_markdown":"@SpringBootTest(classes = Application.class) or @ContextConfiguration(classes = AppConfig.class), try this.","body":"@SpringBootTest(classes = Application.class) or @ContextConfiguration(classes = AppConfig.class), try this."}],"answers":[{"tags":[],"owner":{"account_id":14867049,"reputation":412,"user_id":10735779,"display_name":"Christian G. Faraone"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1621663302,"creation_date":1621663302,"answer_id":67646566,"question_id":67646565,"body_markdown":"What I found out is that not always the @SpringBootTest is enough, in some classes/cases (to be honest I don&#39;t have a 100% clear idea so I&#39;m not gonna say stupidities) it is needed that you manually choose the test-runner, like below:\r\n```\r\n@SpringBootTest\r\n@RunWith(SpringRunner.class)\r\npublic class FooTest {\r\n...\r\n}\r\n```\r\n\r\nKeep in mind that if you decide to instantiate a dependency by yourself then Spring won&#39;t be able to inject all the needed classes, and then you&#39;d need to change the runner into something like ```@RunWith(MockitoJUnitRunner.class)``` \r\n\r\n(credits to https://stackoverflow.com/questions/58692353/junit-autowired-instance-is-always-null)","title":"@Autowired Injected dependency in Junit Test is always null","body":"<p>What I found out is that not always the @SpringBootTest is enough, in some classes/cases (to be honest I don't have a 100% clear idea so I'm not gonna say stupidities) it is needed that you manually choose the test-runner, like below:</p>\n<pre><code>@SpringBootTest\n@RunWith(SpringRunner.class)\npublic class FooTest {\n...\n}\n</code></pre>\n<p>Keep in mind that if you decide to instantiate a dependency by yourself then Spring won't be able to inject all the needed classes, and then you'd need to change the runner into something like <code>@RunWith(MockitoJUnitRunner.class)</code></p>\n<p>(credits to <a href=\"https://stackoverflow.com/questions/58692353/junit-autowired-instance-is-always-null\">JUNIT Autowired instance is always null</a>)</p>\n"},{"tags":[],"owner":{"account_id":7392763,"reputation":3367,"user_id":5625696,"accept_rate":50,"display_name":"Borislav Stoilov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666780822,"creation_date":1621676942,"answer_id":67648107,"question_id":67646565,"body_markdown":"A better approach is to use spring&#39;s underlying mock beans.\r\n\r\n    @SpringBootTest(classes= AddressInfoLocalizer.class)\r\n\r\nthis is actually the new recommended way.","title":"@Autowired Injected dependency in Junit Test is always null","body":"<p>A better approach is to use spring's underlying mock beans.</p>\n<pre><code>@SpringBootTest(classes= AddressInfoLocalizer.class)\n</code></pre>\n<p>this is actually the new recommended way.</p>\n"},{"tags":[],"owner":{"account_id":10055486,"reputation":722,"user_id":7467083,"display_name":"Ganesh Jadhav"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1621688503,"creation_date":1621688503,"answer_id":67649772,"question_id":67646565,"body_markdown":"Two things here:&lt;br&gt;\r\n 1. If you&#39;re testing, the ideal way is to mock instead of autowire(there can be exceptions)&lt;br&gt;\r\n 2. You should use `@ExtendWith(MockitoExtension.class)` or `@RunWith(MockitoJUnitRunner.class)` so that your components will be loaded in spring context. However `ExtendWith` is preferred way to initialize beans/components. Because the later(RunWith) loads the entire spring context which might take more time\r\n\r\nSo, your code should look something like:&lt;br&gt;\r\n\r\n```\r\n@Slf4j\r\n@ActiveProfiles(&quot;test&quot;)\r\n@ExtendWith(MockitoExtension.class)\r\npublic class LocalizerTest {\r\n\r\n    @Mock\r\n    AddressInfoLocalizer addressInfoLocalizer;\r\n\r\n\r\n    @Test\r\n    public void localizeIp() {\r\n        String ip = &quot;8.8.8.8&quot;;\r\n         //Mock here.\r\n        Optional&lt;CityResponse&gt; response = addressInfoLocalizer.localize(ip);\r\n        response.ifPresent(cityResponse -&gt; log.info(&quot;{}&quot;, cityResponse));\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n&lt;br&gt;\r\nReference/Read more:&lt;br&gt;\r\nhttps://www.baeldung.com/mockito-junit-5-extension &lt;br&gt;\r\nhttps://stackoverflow.com/questions/55276555/when-to-use-runwith-and-when-extendwith&lt;br&gt;\r\nhttps://www.javadoc.io/static/org.mockito/mockito-junit-jupiter/3.10.0/org/mockito/junit/jupiter/MockitoExtension.html&lt;br&gt;\r\n","title":"@Autowired Injected dependency in Junit Test is always null","body":"<p>Two things here:<br></p>\n<ol>\n<li>If you're testing, the ideal way is to mock instead of autowire(there can be exceptions)<br></li>\n<li>You should use <code>@ExtendWith(MockitoExtension.class)</code> or <code>@RunWith(MockitoJUnitRunner.class)</code> so that your components will be loaded in spring context. However <code>ExtendWith</code> is preferred way to initialize beans/components. Because the later(RunWith) loads the entire spring context which might take more time</li>\n</ol>\n<p>So, your code should look something like:<br></p>\n<pre><code>@Slf4j\n@ActiveProfiles(&quot;test&quot;)\n@ExtendWith(MockitoExtension.class)\npublic class LocalizerTest {\n\n    @Mock\n    AddressInfoLocalizer addressInfoLocalizer;\n\n\n    @Test\n    public void localizeIp() {\n        String ip = &quot;8.8.8.8&quot;;\n         //Mock here.\n        Optional&lt;CityResponse&gt; response = addressInfoLocalizer.localize(ip);\n        response.ifPresent(cityResponse -&gt; log.info(&quot;{}&quot;, cityResponse));\n    }\n\n}\n</code></pre>\n<br>\nReference/Read more:<br>\nhttps://www.baeldung.com/mockito-junit-5-extension <br>\nhttps://stackoverflow.com/questions/55276555/when-to-use-runwith-and-when-extendwith<br>\nhttps://www.javadoc.io/static/org.mockito/mockito-junit-jupiter/3.10.0/org/mockito/junit/jupiter/MockitoExtension.html<br>\n"}],"owner":{"account_id":14867049,"reputation":412,"user_id":10735779,"display_name":"Christian G. Faraone"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3641,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1689338459,"creation_date":1621663302,"question_id":67646565,"body_markdown":"In a simple test class like the one below: \r\n\r\n```\r\n@SpringBootTest\r\n@Slf4j\r\n@ActiveProfiles(&quot;test&quot;)\r\npublic class LocalizerTest {\r\n\r\n    @Autowired\r\n    AddressInfoLocalizer addressInfoLocalizer;\r\n\r\n\r\n    @Test\r\n    public void localizeIp() {\r\n        String ip = &quot;8.8.8.8&quot;;\r\n        Optional&lt;CityResponse&gt; response = addressInfoLocalizer.localize(ip);\r\n        response.ifPresent(cityResponse -&gt; log.info(&quot;{}&quot;, cityResponse));\r\n    }\r\n\r\n}\r\n```\r\nWith the AddressInfoLocalizer (sorry for the strange name but I had to make it up) being basically like this:\r\n```\r\n\r\n@Slf4j\r\n@Component\r\npublic class AddressInfoLocalizer {\r\n\r\n    @Value(&quot;${geolocalization.dbpath}&quot;)\r\n    private String databasePath;\r\n\r\n    private DatabaseReader database;\r\n\r\n    @PostConstruct\r\n    public void initialize() {\r\n        log.info(&quot;GeoIP2 database path:{}&quot;, databasePath);\r\n        File database = new File(databasePath);\r\n        try {\r\n            this.database = new DatabaseReader.Builder(database).build();\r\n        } catch (IOException ioe) {\r\n            this.database = null;\r\n            log.warn(&quot;Problems encountered while initializing IP localization database, skipping resolutions&quot;);\r\n        }\r\n\r\n    }\r\n\r\n    public Optional&lt;CityResponse&gt; localize(String ipAddressString) {\r\n        if (isNull(database)) {\r\n            log.warn(&quot;Attempted to resolve an IP location with database problems, skipping.&quot;);\r\n            return Optional.empty();\r\n        }\r\n        try {\r\n            InetAddress ipAddress = InetAddress.getByName(ipAddressString);\r\n            return ofNullable(database.city(ipAddress));\r\n        } catch (UnknownHostException uhe) {\r\n            log.error(&quot;Unknown host {}, {}&quot;, ipAddressString, uhe.getCause());\r\n            return Optional.empty();\r\n        } catch (IOException ioe) {\r\n            log.error(&quot;IO error while opening database, {}&quot;, ioe.getCause().toString());\r\n            return Optional.empty();\r\n        } catch (GeoIp2Exception gip2e) {\r\n            log.error(&quot;GeoIP error, {}&quot;, gip2e.getCause().toString());\r\n            return Optional.empty();\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nI keep getting a NullPointerException when calling (in the test) `addressInfoLocalizer.localize(ip);`, \r\n```\r\njava.lang.NullPointerException\r\n\tat com.bok.parent.LocalizerTest.localizeIp(LocalizerTest.java:26)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)\r\n\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n\tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)\r\n\tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\r\n\tat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner$1.evaluate(BlockJUnit4ClassRunner.java:100)\r\n\tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:103)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:63)\r\n\tat org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\r\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\r\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\r\n\tat org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\r\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\r\n\tat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\r\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:413)\r\n\tat org.junit.runner.JUnitCore.run(JUnitCore.java:137)\r\n\tat com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)\r\n\tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:221)\r\n\tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\r\n```\r\n\r\nwhile debugging I can actually see that the `addressInfoLocalizer` object is `null`.\r\n\r\nI&#39;ve created other classes the same way, but only this one seems to have that problem, what could be wrong?\r\n","title":"@Autowired Injected dependency in Junit Test is always null","body":"<p>In a simple test class like the one below:</p>\n<pre><code>@SpringBootTest\n@Slf4j\n@ActiveProfiles(&quot;test&quot;)\npublic class LocalizerTest {\n\n    @Autowired\n    AddressInfoLocalizer addressInfoLocalizer;\n\n\n    @Test\n    public void localizeIp() {\n        String ip = &quot;8.8.8.8&quot;;\n        Optional&lt;CityResponse&gt; response = addressInfoLocalizer.localize(ip);\n        response.ifPresent(cityResponse -&gt; log.info(&quot;{}&quot;, cityResponse));\n    }\n\n}\n</code></pre>\n<p>With the AddressInfoLocalizer (sorry for the strange name but I had to make it up) being basically like this:</p>\n<pre><code>\n@Slf4j\n@Component\npublic class AddressInfoLocalizer {\n\n    @Value(&quot;${geolocalization.dbpath}&quot;)\n    private String databasePath;\n\n    private DatabaseReader database;\n\n    @PostConstruct\n    public void initialize() {\n        log.info(&quot;GeoIP2 database path:{}&quot;, databasePath);\n        File database = new File(databasePath);\n        try {\n            this.database = new DatabaseReader.Builder(database).build();\n        } catch (IOException ioe) {\n            this.database = null;\n            log.warn(&quot;Problems encountered while initializing IP localization database, skipping resolutions&quot;);\n        }\n\n    }\n\n    public Optional&lt;CityResponse&gt; localize(String ipAddressString) {\n        if (isNull(database)) {\n            log.warn(&quot;Attempted to resolve an IP location with database problems, skipping.&quot;);\n            return Optional.empty();\n        }\n        try {\n            InetAddress ipAddress = InetAddress.getByName(ipAddressString);\n            return ofNullable(database.city(ipAddress));\n        } catch (UnknownHostException uhe) {\n            log.error(&quot;Unknown host {}, {}&quot;, ipAddressString, uhe.getCause());\n            return Optional.empty();\n        } catch (IOException ioe) {\n            log.error(&quot;IO error while opening database, {}&quot;, ioe.getCause().toString());\n            return Optional.empty();\n        } catch (GeoIp2Exception gip2e) {\n            log.error(&quot;GeoIP error, {}&quot;, gip2e.getCause().toString());\n            return Optional.empty();\n        }\n    }\n}\n\n</code></pre>\n<p>I keep getting a NullPointerException when calling (in the test) <code>addressInfoLocalizer.localize(ip);</code>,</p>\n<pre><code>java.lang.NullPointerException\n    at com.bok.parent.LocalizerTest.localizeIp(LocalizerTest.java:26)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)\n    at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\n    at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\n    at org.junit.runners.BlockJUnit4ClassRunner$1.evaluate(BlockJUnit4ClassRunner.java:100)\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:103)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:63)\n    at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\n    at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\n    at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:413)\n    at org.junit.runner.JUnitCore.run(JUnitCore.java:137)\n    at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:221)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\n</code></pre>\n<p>while debugging I can actually see that the <code>addressInfoLocalizer</code> object is <code>null</code>.</p>\n<p>I've created other classes the same way, but only this one seems to have that problem, what could be wrong?</p>\n"},{"tags":["java","spring-boot","javabeans","jpastreamer"],"answers":[{"tags":[],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689338447,"creation_date":1689338447,"answer_id":76687781,"question_id":76683013,"body_markdown":"After defining `JPAStreamer` as a `bean` in `JPAStreamerConfig` shown below, the issue disappeared.\r\n\r\n\r\n    import com.speedment.jpastreamer.application.JPAStreamer;\r\n    import jakarta.persistence.EntityManagerFactory;\r\n    import lombok.RequiredArgsConstructor;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    \r\n    @Configuration\r\n    @RequiredArgsConstructor\r\n    public class JPAStreamerConfig {\r\n    \r\n        private final EntityManagerFactory entityManagerFactory;\r\n    \r\n        @Bean\r\n        public JPAStreamer jpaStreamer() {\r\n            return JPAStreamer.of(entityManagerFactory);\r\n        }\r\n    \r\n    }","title":"Spring Boot Jpastreamer - com.speedment.jpastreamer.application.JPAStreamer can not be found","body":"<p>After defining <code>JPAStreamer</code> as a <code>bean</code> in <code>JPAStreamerConfig</code> shown below, the issue disappeared.</p>\n<pre><code>import com.speedment.jpastreamer.application.JPAStreamer;\nimport jakarta.persistence.EntityManagerFactory;\nimport lombok.RequiredArgsConstructor;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\n@Configuration\n@RequiredArgsConstructor\npublic class JPAStreamerConfig {\n\n    private final EntityManagerFactory entityManagerFactory;\n\n    @Bean\n    public JPAStreamer jpaStreamer() {\n        return JPAStreamer.of(entityManagerFactory);\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76687781,"answer_count":1,"score":0,"last_activity_date":1689338447,"creation_date":1689279978,"question_id":76683013,"body_markdown":"I have a problem to run my Spring Boot with the usage of Jpastreamer.\r\nI cannot solve the bean issue related with Jpastreamer.\r\n\r\nHere is the PersonService shown below\r\n\r\n    @Service\r\n    @RequiredArgsConstructor\r\n    public class PersonService {\r\n    \r\n        private final JPAStreamer jpaStreamer;\r\n        private final PersonRepository personRepository;\r\n    \r\n        ... \r\n    }\r\n\r\n\r\nI got this issue shown below when I run the application.\r\n\r\n    ***************************\r\n    APPLICATION FAILED TO START\r\n    ***************************\r\n    \r\n    Description:\r\n    \r\n    Parameter 0 of constructor in com.springboot.jpastreamer.service.PersonService required a bean of type &#39;com.speedment.jpastreamer.application.JPAStreamer&#39; that could not be found.\r\n    \r\n    \r\n    Action:\r\n    \r\n    Consider defining a bean of type &#39;com.speedment.jpastreamer.application.JPAStreamer&#39; in your configuration.\r\n    \r\n    \r\n    Process finished with exit code 0\r\n\r\nHere is the repo shown below\r\n\r\n[Link][1]\r\n\r\n\r\n  [1]: https://github.com/Rapter1990/jpastreamer","title":"Spring Boot Jpastreamer - com.speedment.jpastreamer.application.JPAStreamer can not be found","body":"<p>I have a problem to run my Spring Boot with the usage of Jpastreamer.\nI cannot solve the bean issue related with Jpastreamer.</p>\n<p>Here is the PersonService shown below</p>\n<pre><code>@Service\n@RequiredArgsConstructor\npublic class PersonService {\n\n    private final JPAStreamer jpaStreamer;\n    private final PersonRepository personRepository;\n\n    ... \n}\n</code></pre>\n<p>I got this issue shown below when I run the application.</p>\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nParameter 0 of constructor in com.springboot.jpastreamer.service.PersonService required a bean of type 'com.speedment.jpastreamer.application.JPAStreamer' that could not be found.\n\n\nAction:\n\nConsider defining a bean of type 'com.speedment.jpastreamer.application.JPAStreamer' in your configuration.\n\n\nProcess finished with exit code 0\n</code></pre>\n<p>Here is the repo shown below</p>\n<p><a href=\"https://github.com/Rapter1990/jpastreamer\" rel=\"nofollow noreferrer\">Link</a></p>\n"},{"tags":["java","sql-server","spring-boot","maven","flyway"],"comments":[{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":1,"creation_date":1686907157,"post_id":76488497,"comment_id":134865866,"body_markdown":"Do you have the `flyway-sqlserver` dependency?","body":"Do you have the <code>flyway-sqlserver</code> dependency?"}],"answers":[{"tags":[],"owner":{"account_id":9139105,"reputation":3600,"user_id":6797663,"display_name":"codemonkey"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1686908520,"creation_date":1686908520,"answer_id":76488917,"question_id":76488497,"body_markdown":"The SQL Server code was extracted to a separate dependency in [Flyway 8.1.0][1]\r\n\r\nFrom that release onwards, you will need to [add flyway-sqlserver][2] as an additional dependency, e.g.:\r\n\r\n    # Maven\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\r\n        &lt;artifactId&gt;flyway-sqlserver&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    # Gradle\r\n    dependencies {\r\n        compile &quot;org.flywaydb:flyway-sqlserver&quot;\r\n    }\r\n\r\n  [1]: https://flywaydb.org/documentation/learnmore/releaseNotes#8.1.0\r\n  [2]: https://flywaydb.org/documentation/database/sqlserver#java-usage","title":"Migration from Spring Boot 2.6 to 2.7 - FlywayException: Unsupported Database: Microsoft SQL Server 15.0","body":"<p>The SQL Server code was extracted to a separate dependency in <a href=\"https://flywaydb.org/documentation/learnmore/releaseNotes#8.1.0\" rel=\"nofollow noreferrer\">Flyway 8.1.0</a></p>\n<p>From that release onwards, you will need to <a href=\"https://flywaydb.org/documentation/database/sqlserver#java-usage\" rel=\"nofollow noreferrer\">add flyway-sqlserver</a> as an additional dependency, e.g.:</p>\n<pre><code># Maven\n&lt;dependency&gt;\n    &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\n    &lt;artifactId&gt;flyway-sqlserver&lt;/artifactId&gt;\n&lt;/dependency&gt;\n\n# Gradle\ndependencies {\n    compile &quot;org.flywaydb:flyway-sqlserver&quot;\n}\n</code></pre>\n"}],"owner":{"account_id":9137252,"reputation":2391,"user_id":6796524,"display_name":"Camille"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1447,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":76488917,"answer_count":1,"score":4,"last_activity_date":1689338299,"creation_date":1686905390,"question_id":76488497,"body_markdown":"During migration of a Java app using Spring Boot 2.6 to 2.7, new Flyway version (8.5.13) seems to not support anymore SQL Server 15 (2019).\r\n\r\n&gt; Error\r\n    org.flywaydb.core.api.FlywayException: Unsupported Database: Microsoft SQL Server 15.0\r\n\r\nI try with older version of SQL Server 14 (2017) and get almost same error\r\n\r\n&gt; Error\r\n    org.flywaydb.core.api.FlywayException: Unsupported Database: Microsoft SQL Server 14.0\r\n\r\nSomebody already resovled this problem?\r\n\r\n","title":"Migration from Spring Boot 2.6 to 2.7 - FlywayException: Unsupported Database: Microsoft SQL Server 15.0","body":"<p>During migration of a Java app using Spring Boot 2.6 to 2.7, new Flyway version (8.5.13) seems to not support anymore SQL Server 15 (2019).</p>\n<blockquote>\n<p>Error\norg.flywaydb.core.api.FlywayException: Unsupported Database: Microsoft SQL Server 15.0</p>\n</blockquote>\n<p>I try with older version of SQL Server 14 (2017) and get almost same error</p>\n<blockquote>\n<p>Error\norg.flywaydb.core.api.FlywayException: Unsupported Database: Microsoft SQL Server 14.0</p>\n</blockquote>\n<p>Somebody already resovled this problem?</p>\n"},{"tags":["java","eclipse","appium"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1689337561,"post_id":76687639,"comment_id":135202861,"body_markdown":"*java.lang.ClassNotFoundException: org.openqa.selenium.remote.internal.JsonToWebElementConverter* looks like you miss atleast one dependency in your runner","body":"<i>java.lang.ClassNotFoundException: org.openqa.selenium.remote.internal.JsonToWebElementConverte&zwnj;&#8203;r</i> looks like you miss atleast one dependency in your runner"}],"owner":{"account_id":29017253,"reputation":1,"user_id":22227430,"display_name":"Tester-007"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1689337646,"answer_count":0,"score":0,"last_activity_date":1689337534,"creation_date":1689337349,"question_id":76687639,"body_markdown":"    [RemoteTestNG] detected TestNG version 7.4.0\r\n    FAILED CONFIGURATION: @BeforeSuite setupAppium\r\n    java.lang.NoClassDefFoundError: org/openqa/selenium/remote/internal/JsonToWebElementConverter\r\n    \tat AppiumBasics1.setupAppium(AppiumBasics1.java:31)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n    \tat org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:133)\r\n    \tat org.testng.internal.MethodInvocationHelper.invokeMethodConsideringTimeout(MethodInvocationHelper.java:62)\r\n    \tat org.testng.internal.ConfigInvoker.invokeConfigurationMethod(ConfigInvoker.java:385)\r\n    \tat org.testng.internal.ConfigInvoker.invokeConfigurations(ConfigInvoker.java:321)\r\n    \tat org.testng.SuiteRunner.privateRun(SuiteRunner.java:317)\r\n    \tat org.testng.SuiteRunner.run(SuiteRunner.java:276)\r\n    \tat org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)\r\n    \tat org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:96)\r\n    \tat org.testng.TestNG.runSuitesSequentially(TestNG.java:1212)\r\n    \tat org.testng.TestNG.runSuitesLocally(TestNG.java:1134)\r\n    \tat org.testng.TestNG.runSuites(TestNG.java:1063)\r\n    \tat org.testng.TestNG.run(TestNG.java:1031)\r\n    \tat org.testng.remote.AbstractRemoteTestNG.run(AbstractRemoteTestNG.java:115)\r\n    \tat org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:251)\r\n    \tat org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:77)\r\n    Caused by: java.lang.ClassNotFoundException: org.openqa.selenium.remote.internal.JsonToWebElementConverter\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n    \t... 20 more\r\n    \r\n    SKIPPED: myFirstTest\r\n    java.lang.NoClassDefFoundError: org/openqa/selenium/remote/internal/JsonToWebElementConverter\r\n    \tat AppiumBasics1.setupAppium(AppiumBasics1.java:31)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n    \tat org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:133)\r\n    \tat org.testng.internal.MethodInvocationHelper.invokeMethodConsideringTimeout(MethodInvocationHelper.java:62)\r\n    \tat org.testng.internal.ConfigInvoker.invokeConfigurationMethod(ConfigInvoker.java:385)\r\n    \tat org.testng.internal.ConfigInvoker.invokeConfigurations(ConfigInvoker.java:321)\r\n    \tat org.testng.SuiteRunner.privateRun(SuiteRunner.java:317)\r\n    \tat org.testng.SuiteRunner.run(SuiteRunner.java:276)\r\n    \tat org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)\r\n    \tat org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:96)\r\n    \tat org.testng.TestNG.runSuitesSequentially(TestNG.java:1212)\r\n    \tat org.testng.TestNG.runSuitesLocally(TestNG.java:1134)\r\n    \tat org.testng.TestNG.runSuites(TestNG.java:1063)\r\n    \tat org.testng.TestNG.run(TestNG.java:1031)\r\n    \tat org.testng.remote.AbstractRemoteTestNG.run(AbstractRemoteTestNG.java:115)\r\n    \tat org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:251)\r\n    \tat org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:77)\r\n    Caused by: java.lang.ClassNotFoundException: org.openqa.selenium.remote.internal.JsonToWebElementConverter\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n    \t... 20 more\r\n    \r\n    \r\n    ===============================================\r\n        Default test\r\n        Tests run: 1, Failures: 0, Skips: 1\r\n        Configuration Failures: 1, Skips: 0\r\n    ===============================================\r\n    \r\n    \r\n    ===============================================\r\n    Default suite\r\n    Total tests run: 1, Passes: 0, Failures: 0, Skips: 1\r\n    Configuration Failures: 1, Skips: 1\r\n    ===============================================\r\n\r\nAny one can figure out the problem\r\n\r\n","title":"Getting Error while running Appium first test","body":"<pre><code>[RemoteTestNG] detected TestNG version 7.4.0\nFAILED CONFIGURATION: @BeforeSuite setupAppium\njava.lang.NoClassDefFoundError: org/openqa/selenium/remote/internal/JsonToWebElementConverter\n    at AppiumBasics1.setupAppium(AppiumBasics1.java:31)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:133)\n    at org.testng.internal.MethodInvocationHelper.invokeMethodConsideringTimeout(MethodInvocationHelper.java:62)\n    at org.testng.internal.ConfigInvoker.invokeConfigurationMethod(ConfigInvoker.java:385)\n    at org.testng.internal.ConfigInvoker.invokeConfigurations(ConfigInvoker.java:321)\n    at org.testng.SuiteRunner.privateRun(SuiteRunner.java:317)\n    at org.testng.SuiteRunner.run(SuiteRunner.java:276)\n    at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)\n    at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:96)\n    at org.testng.TestNG.runSuitesSequentially(TestNG.java:1212)\n    at org.testng.TestNG.runSuitesLocally(TestNG.java:1134)\n    at org.testng.TestNG.runSuites(TestNG.java:1063)\n    at org.testng.TestNG.run(TestNG.java:1031)\n    at org.testng.remote.AbstractRemoteTestNG.run(AbstractRemoteTestNG.java:115)\n    at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:251)\n    at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:77)\nCaused by: java.lang.ClassNotFoundException: org.openqa.selenium.remote.internal.JsonToWebElementConverter\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n    ... 20 more\n\nSKIPPED: myFirstTest\njava.lang.NoClassDefFoundError: org/openqa/selenium/remote/internal/JsonToWebElementConverter\n    at AppiumBasics1.setupAppium(AppiumBasics1.java:31)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:133)\n    at org.testng.internal.MethodInvocationHelper.invokeMethodConsideringTimeout(MethodInvocationHelper.java:62)\n    at org.testng.internal.ConfigInvoker.invokeConfigurationMethod(ConfigInvoker.java:385)\n    at org.testng.internal.ConfigInvoker.invokeConfigurations(ConfigInvoker.java:321)\n    at org.testng.SuiteRunner.privateRun(SuiteRunner.java:317)\n    at org.testng.SuiteRunner.run(SuiteRunner.java:276)\n    at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)\n    at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:96)\n    at org.testng.TestNG.runSuitesSequentially(TestNG.java:1212)\n    at org.testng.TestNG.runSuitesLocally(TestNG.java:1134)\n    at org.testng.TestNG.runSuites(TestNG.java:1063)\n    at org.testng.TestNG.run(TestNG.java:1031)\n    at org.testng.remote.AbstractRemoteTestNG.run(AbstractRemoteTestNG.java:115)\n    at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:251)\n    at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:77)\nCaused by: java.lang.ClassNotFoundException: org.openqa.selenium.remote.internal.JsonToWebElementConverter\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n    ... 20 more\n\n\n===============================================\n    Default test\n    Tests run: 1, Failures: 0, Skips: 1\n    Configuration Failures: 1, Skips: 0\n===============================================\n\n\n===============================================\nDefault suite\nTotal tests run: 1, Passes: 0, Failures: 0, Skips: 1\nConfiguration Failures: 1, Skips: 1\n===============================================\n</code></pre>\n<p>Any one can figure out the problem</p>\n"},{"tags":["java","ibatis","mybatis"],"comments":[{"owner":{"account_id":482321,"reputation":9702,"user_id":896663,"accept_rate":84,"display_name":"MozenRath"},"score":0,"creation_date":1328817169,"post_id":9217334,"comment_id":11605342,"body_markdown":"i think you are looking for a converter","body":"i think you are looking for a converter"},{"owner":{"account_id":481010,"reputation":2039,"user_id":894570,"accept_rate":36,"display_name":"Mohit Verma"},"score":1,"creation_date":1328849191,"post_id":9217334,"comment_id":11613325,"body_markdown":"not sure what is converter. Can you please briefly explain that","body":"not sure what is converter. Can you please briefly explain that"}],"answers":[{"tags":[],"owner":{"account_id":84585,"reputation":7493,"user_id":236345,"accept_rate":87,"display_name":"Alfabravo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1328876467,"creation_date":1328817268,"answer_id":9217756,"question_id":9217334,"body_markdown":"@MapKey(a) will return a map with your results keyed by a\r\n\r\nEDIT: Interesting result. Haven&#39;t tried using annotations (use mappers instead) but AFAIK it looks like it expects the map being `HashMap&lt;someA, someB&gt;` where someA has a getter and a setter for &quot;a&quot; (like getA, setA)... you can even use the same class (HashMap&lt;customThing, customThing), where your customClass serves as a kind of DTO with a and b attributes, having their getters and setters. Give it a try","title":"How to get Map&lt;String, String&gt; as return type using mybatis annotations","body":"<p>@MapKey(a) will return a map with your results keyed by a</p>\n\n<p>EDIT: Interesting result. Haven't tried using annotations (use mappers instead) but AFAIK it looks like it expects the map being <code>HashMap&lt;someA, someB&gt;</code> where someA has a getter and a setter for \"a\" (like getA, setA)... you can even use the same class (HashMap\n"},{"tags":[],"owner":{"account_id":384985,"reputation":2176,"user_id":741849,"accept_rate":50,"display_name":"Moinul Hossain"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1328850680,"creation_date":1328850680,"answer_id":9223013,"question_id":9217334,"body_markdown":"the annotation `@Select(&quot;select a, b from tableA&quot;)` will return a List of Map where Each map will contain a single entry. You might write a converter for it.\r\n\r\n    public Map&lt;Object,Object&gt; mapFromListOfMap (List&lt;Map&gt; listOfMap ) {\r\n      Map&lt;Object,Object&gt; map = new HashMap&lt;Object,Object&gt;();\r\n      for(int i = 0; i &lt; listOfMap.size(); i++) {\r\n        Object key = (Object) listOfMap.get(i).get(&quot;a&quot;);\r\n        Object value = (Object)listOfMap.get(i).get(&quot;b&quot;);\r\n        map.put(key, value);\r\n      }\r\n      return map;\r\n    }\r\n\r\n`@Select(&quot;select a, b from tableA&quot;)` will return something like this\r\n\r\n    List[0] -&gt; Map ((key=&gt;&#39;a&#39;,value=&gt;1),((key=&gt;&#39;b&#39;,value=&gt;&#39;a&#39;)))\r\n    List[1] -&gt; Map ((key=&gt;&#39;a&#39;,value=&gt;2),((key=&gt;&#39;b&#39;,value=&gt;&#39;b&#39;)))\r\n    List[2] -&gt; Map ((key=&gt;&#39;a&#39;,value=&gt;3),((key=&gt;&#39;b&#39;,value=&gt;&#39;c&#39;)))\r\n\r\nand the function `mapFromListOfMap` will make it something like this\r\n\r\n    Map ((key=&gt;&#39;1&#39;,value=&gt;&#39;a&#39;),(key=&gt;&#39;2&#39;,value=&gt;&#39;b&#39;),(key=&gt;&#39;3&#39;,value=&gt;&#39;c&#39;))\r\n\r\nhope this helps :)\r\n\r\n","title":"How to get Map&lt;String, String&gt; as return type using mybatis annotations","body":"<p>the annotation <code>@Select(\"select a, b from tableA\")</code> will return a List of Map where Each map will contain a single entry. You might write a converter for it.</p>\n\n<pre><code>public Map&lt;Object,Object&gt; mapFromListOfMap (List&lt;Map&gt; listOfMap ) {\n  Map&lt;Object,Object&gt; map = new HashMap&lt;Object,Object&gt;();\n  for(int i = 0; i &lt; listOfMap.size(); i++) {\n    Object key = (Object) listOfMap.get(i).get(\"a\");\n    Object value = (Object)listOfMap.get(i).get(\"b\");\n    map.put(key, value);\n  }\n  return map;\n}\n</code></pre>\n\n<p><code>@Select(\"select a, b from tableA\")</code> will return something like this</p>\n\n<pre><code>List[0] -&gt; Map ((key=&gt;'a',value=&gt;1),((key=&gt;'b',value=&gt;'a')))\nList[1] -&gt; Map ((key=&gt;'a',value=&gt;2),((key=&gt;'b',value=&gt;'b')))\nList[2] -&gt; Map ((key=&gt;'a',value=&gt;3),((key=&gt;'b',value=&gt;'c')))\n</code></pre>\n\n<p>and the function <code>mapFromListOfMap</code> will make it something like this</p>\n\n<pre><code>Map ((key=&gt;'1',value=&gt;'a'),(key=&gt;'2',value=&gt;'b'),(key=&gt;'3',value=&gt;'c'))\n</code></pre>\n\n<p>hope this helps :)</p>\n"},{"tags":[],"owner":{"account_id":176169,"reputation":441,"user_id":2282912,"display_name":"Dmitry Sergeev"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1366036353,"creation_date":1366036353,"answer_id":16017836,"question_id":9217334,"body_markdown":"Here is how i do this, without extra method for converting List to Map:\r\n\r\nHere is Message class\r\n\r\n    public class Message {\r\n       private String code;\r\n       private String message;\r\n       GETTERS/SETTERS\r\n    }\r\n\r\nMapper\r\n\r\n\t@Select(&quot;SELECT code, message FROM MESSAGES&quot;)\r\n\t@MapKey(&quot;code&quot;)\r\n\tpublic Map&lt;String, Message&gt; selectAllMessages();\r\n\r\nUnfortunatly it&#39;s impossible to create Map&amp;lt;String, String&amp;gt;","title":"How to get Map&lt;String, String&gt; as return type using mybatis annotations","body":"<p>Here is how i do this, without extra method for converting List to Map:</p>\n\n<p>Here is Message class</p>\n\n<pre><code>public class Message {\n   private String code;\n   private String message;\n   GETTERS/SETTERS\n}\n</code></pre>\n\n<p>Mapper</p>\n\n<pre><code>@Select(\"SELECT code, message FROM MESSAGES\")\n@MapKey(\"code\")\npublic Map&lt;String, Message&gt; selectAllMessages();\n</code></pre>\n\n<p>Unfortunatly it's impossible to create Map&lt;String, String&gt;</p>\n"},{"tags":[],"owner":{"account_id":22442515,"reputation":1,"user_id":16646823,"display_name":"Sreeja M"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689336611,"creation_date":1689335591,"answer_id":76687417,"question_id":9217334,"body_markdown":"     &lt;resultMap id=&quot;currencyExchangeMap&quot; type=&quot;com.sample.model.CurrencyExchange&quot;&gt;\r\n            &lt;result property=&quot;currency&quot; column=&quot;currency&quot; /&gt;\r\n            &lt;result property=&quot;exchangeRate&quot; column=&quot;usdtolocl&quot; /&gt;\r\n    &lt;/resultMap&gt;\r\n    where CurrencyExchange class has fields currency , exchangeRate\r\n    &lt;select id=&quot;getExchangeRates&quot; resultMap=&quot;currencyExchangeMap&quot;&gt;\r\n           SELECT\r\n                  to_curr as currency ,usdtolocl\r\n           FROM\r\n                  emsg_v2.store_exchange_rate\r\n           \r\n    &lt;/select&gt;\r\n    \r\n    \t@MapKey(&quot;currency&quot;)\r\n    \tpublic Map&lt;String,CurrencyExchange&gt; getExchangeRates();\r\n","title":"How to get Map&lt;String, String&gt; as return type using mybatis annotations","body":"<pre><code> &lt;resultMap id=&quot;currencyExchangeMap&quot; type=&quot;com.sample.model.CurrencyExchange&quot;&gt;\n        &lt;result property=&quot;currency&quot; column=&quot;currency&quot; /&gt;\n        &lt;result property=&quot;exchangeRate&quot; column=&quot;usdtolocl&quot; /&gt;\n&lt;/resultMap&gt;\nwhere CurrencyExchange class has fields currency , exchangeRate\n&lt;select id=&quot;getExchangeRates&quot; resultMap=&quot;currencyExchangeMap&quot;&gt;\n       SELECT\n              to_curr as currency ,usdtolocl\n       FROM\n              emsg_v2.store_exchange_rate\n       \n&lt;/select&gt;\n\n    @MapKey(&quot;currency&quot;)\n    public Map&lt;String,CurrencyExchange&gt; getExchangeRates();\n</code></pre>\n"}],"owner":{"account_id":481010,"reputation":2039,"user_id":894570,"accept_rate":36,"display_name":"Mohit Verma"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32873,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"answer_count":4,"score":12,"last_activity_date":1689336611,"creation_date":1328815346,"question_id":9217334,"body_markdown":"Using annotations in mybatis, can we have return type as normal map ?\r\n\r\nBasically, I want something like this\r\n\r\n    @Select(&quot;select a, b from tableA&quot;)\r\n    public Map&lt;String, String&gt; getItems();\r\n\r\nWhere \r\n\r\n    mysql&gt; select * from tableA;\r\n    +------+------+\r\n    | a    | b    |\r\n    +------+------+\r\n    | 1    | a    |\r\n    | 2    | b    |\r\n    | 3    | c    |\r\n    +------+------+\r\n\r\n    mysql&gt; desc tableA;\r\n    +-------+-------------+------+-----+---------+-------+\r\n    | Field | Type        | Null | Key | Default | Extra |\r\n    +-------+-------------+------+-----+---------+-------+\r\n    | a     | varchar(10) | YES  |     | NULL    |       |\r\n    | b     | varchar(10) | YES  |     | NULL    |       |\r\n    +-------+-------------+------+-----+---------+-------+\r\n\r\n\r\n\r\nTried this\r\n\r\n    @Select(&quot;select a, b from tableA&quot;)\r\n    @MapKey(&quot;a)\r\n    public Map&lt;String, String&gt; getItems();\r\n\r\nbut it&#39;s giving below exception\r\n\r\n    ### Cause: org.apache.ibatis.reflection.ReflectionException: There is no getter for property named &#39;a&#39; in &#39;class java.lang.String&#39;\r\n\r\n","title":"How to get Map&lt;String, String&gt; as return type using mybatis annotations","body":"<p>Using annotations in mybatis, can we have return type as normal map ?</p>\n\n<p>Basically, I want something like this</p>\n\n<pre><code>@Select(\"select a, b from tableA\")\npublic Map&lt;String, String&gt; getItems();\n</code></pre>\n\n<p>Where </p>\n\n<pre><code>mysql&gt; select * from tableA;\n+------+------+\n| a    | b    |\n+------+------+\n| 1    | a    |\n| 2    | b    |\n| 3    | c    |\n+------+------+\n\nmysql&gt; desc tableA;\n+-------+-------------+------+-----+---------+-------+\n| Field | Type        | Null | Key | Default | Extra |\n+-------+-------------+------+-----+---------+-------+\n| a     | varchar(10) | YES  |     | NULL    |       |\n| b     | varchar(10) | YES  |     | NULL    |       |\n+-------+-------------+------+-----+---------+-------+\n</code></pre>\n\n<p>Tried this</p>\n\n<pre><code>@Select(\"select a, b from tableA\")\n@MapKey(\"a)\npublic Map&lt;String, String&gt; getItems();\n</code></pre>\n\n<p>but it's giving below exception</p>\n\n<pre><code>### Cause: org.apache.ibatis.reflection.ReflectionException: There is no getter for property named 'a' in 'class java.lang.String'\n</code></pre>\n"},{"tags":["java","android","sockets"],"comments":[{"owner":{"account_id":5076619,"reputation":107,"user_id":4073819,"display_name":"amnon"},"score":0,"creation_date":1592451506,"post_id":62436546,"comment_id":110431862,"body_markdown":"now I see that on forum     https://stackoverflow.com/questions/60203194/how-to-solve-java-net-socketexception-socket-failed-eperm-operation-not-permi?rq=1[link]\nsomeone offered that the wifi I am connected with in emulator is not allowing me to connect to the api I am calling, but no solution was offered","body":"now I see that on forum     <a href=\"https://stackoverflow.com/questions/60203194/how-to-solve-java-net-socketexception-socket-failed-eperm-operation-not-permi?rq=1[link]\" title=\"how to solve java net socketexception socket failed eperm operation not permi\">stackoverflow.com/questions/60203194/&hellip;</a> someone offered that the wifi I am connected with in emulator is not allowing me to connect to the api I am calling, but no solution was offered"},{"owner":{"account_id":5076619,"reputation":107,"user_id":4073819,"display_name":"amnon"},"score":0,"creation_date":1592455004,"post_id":62436546,"comment_id":110432627,"body_markdown":"@DipankarBaghel","body":"@DipankarBaghel"}],"answers":[{"tags":[],"owner":{"account_id":20097174,"reputation":21,"user_id":14736460,"display_name":"Dikascode"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1610549709,"creation_date":1610549709,"answer_id":65704383,"question_id":62436546,"body_markdown":"So looking through your manifest shows your internet permission is spelt wrongly.\r\n\r\nIt is: `&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;`\r\n\r\nnot: `&lt;uses-permission android:name=&quot;android.promission.INTERNET&quot;/&gt;`\r\n\r\nThis might not solve your problem, but it&#39;s one step forward to figuring out what&#39;s wrong.","title":"java.net.SocketException: socket failed: EPERM Operation not permitted although AndroidManifest have permits in it","body":"<p>So looking through your manifest shows your internet permission is spelt wrongly.</p>\n<p>It is: <code>&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;</code></p>\n<p>not: <code>&lt;uses-permission android:name=&quot;android.promission.INTERNET&quot;/&gt;</code></p>\n<p>This might not solve your problem, but it's one step forward to figuring out what's wrong.</p>\n"}],"owner":{"account_id":5076619,"reputation":107,"user_id":4073819,"display_name":"amnon"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3130,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1689336600,"creation_date":1592420781,"question_id":62436546,"body_markdown":"This bug is getting me crezy.\r\nI looked in forums but none answered to this particular question.\r\nhere is my sample code on AndroidManifest.xml:\r\n\r\n\r\n```&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    .\r\n    &lt;uses-permission android:name=&quot;android.promission.INTERNET&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot;/&gt;\r\n    .\r\n    &lt;application\r\n        .\r\n        android:usesCleartextTraffic=&quot;true&quot;\r\n        . \r\n```\r\n\r\nand although I put all permits as needed and uninstalled + installed the application, it still gives me an exception\r\n```\r\nW/System.err: java.net.SocketException: socket failed: EPERM (Operation not permitted)\r\nW/System.err:     at java.net.Socket.createImpl(Socket.java:492)\r\n        at java.net.Socket.&lt;init&gt;(Socket.java:446)\r\n        at java.net.Socket.&lt;init&gt;(Socket.java:218)\r\n        at com.diamcom.blue.connect.send(connect.java:23)\r\n        at com.diamcom.blue.sendToServer.sendChanges(sendToServer.java:43)\r\n        at com.diamcom.blue.sendToServer.run(sendToServer.java:25)\r\n```\r\n\r\nAny idea ?","title":"java.net.SocketException: socket failed: EPERM Operation not permitted although AndroidManifest have permits in it","body":"<p>This bug is getting me crezy.\nI looked in forums but none answered to this particular question.\nhere is my sample code on AndroidManifest.xml:</p>\n\n<pre><code>&lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    .\n    &lt;uses-permission android:name=\"android.promission.INTERNET\"/&gt;\n    &lt;uses-permission android:name=\"android.permission.ACCESS_NETWORK_STATE\"/&gt;\n    .\n    &lt;application\n        .\n        android:usesCleartextTraffic=\"true\"\n        . \n</code></pre>\n\n<p>and although I put all permits as needed and uninstalled + installed the application, it still gives me an exception</p>\n\n<pre><code>W/System.err: java.net.SocketException: socket failed: EPERM (Operation not permitted)\nW/System.err:     at java.net.Socket.createImpl(Socket.java:492)\n        at java.net.Socket.&lt;init&gt;(Socket.java:446)\n        at java.net.Socket.&lt;init&gt;(Socket.java:218)\n        at com.diamcom.blue.connect.send(connect.java:23)\n        at com.diamcom.blue.sendToServer.sendChanges(sendToServer.java:43)\n        at com.diamcom.blue.sendToServer.run(sendToServer.java:25)\n</code></pre>\n\n<p>Any idea ?</p>\n"},{"tags":["java","android","mysql","android-studio-3.0"],"comments":[{"owner":{"account_id":8465462,"reputation":7040,"user_id":6349751,"accept_rate":90,"display_name":"AymDev"},"score":0,"creation_date":1641572414,"post_id":70624195,"comment_id":124846805,"body_markdown":"How is this related to PHP ?","body":"How is this related to PHP ?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1641572632,"post_id":70624195,"comment_id":124846910,"body_markdown":"You posted logcat lines without the SocketException.","body":"You posted logcat lines without the SocketException."},{"owner":{"account_id":18764995,"reputation":11,"user_id":13683086,"display_name":"Maxwell Ross"},"score":0,"creation_date":1641573843,"post_id":70624195,"comment_id":124847508,"body_markdown":"Well an external php file was used to forward the data fields so im not sure if the problem exists there, if im told this code is good i would think that the php is the issue. The php file is based on &quot;https://github.com/VishnuSivadasVS/Advanced-HttpURLConnection&quot; @AymDev","body":"Well an external php file was used to forward the data fields so im not sure if the problem exists there, if im told this code is good i would think that the php is the issue. The php file is based on &quot;<a href=\"https://github.com/VishnuSivadasVS/Advanced-HttpURLConnection\" rel=\"nofollow noreferrer\">github.com/VishnuSivadasVS/Advanced-HttpURLConnection</a>&quot; @AymDev"},{"owner":{"account_id":18764995,"reputation":11,"user_id":13683086,"display_name":"Maxwell Ross"},"score":0,"creation_date":1641573880,"post_id":70624195,"comment_id":124847524,"body_markdown":"I am not sure where to find the socketException@blackapps","body":"I am not sure where to find the socketException@blackapps"},{"owner":{"account_id":8465462,"reputation":7040,"user_id":6349751,"accept_rate":90,"display_name":"AymDev"},"score":0,"creation_date":1641574103,"post_id":70624195,"comment_id":124847625,"body_markdown":"@MaxwellRoss still no PHP in your question nor in the link you commented.","body":"@MaxwellRoss still no PHP in your question nor in the link you commented."},{"owner":{"account_id":18764995,"reputation":11,"user_id":13683086,"display_name":"Maxwell Ross"},"score":0,"creation_date":1641574515,"post_id":70624195,"comment_id":124847800,"body_markdown":"Apologies @AymDev this is the correct link &quot;https://github.com/VishnuSivadasVS/LogIn-SignUp&quot; and my post is updated","body":"Apologies @AymDev this is the correct link &quot;<a href=\"https://github.com/VishnuSivadasVS/LogIn-SignUp\" rel=\"nofollow noreferrer\">github.com/VishnuSivadasVS/LogIn-SignUp</a>&quot; and my post is updated"}],"answers":[{"tags":[],"owner":{"account_id":18764995,"reputation":11,"user_id":13683086,"display_name":"Maxwell Ross"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641591607,"creation_date":1641591607,"answer_id":70627472,"question_id":70624195,"body_markdown":"Looking at my own code, I spelt android wrong in the Manifest.xml file \r\n```\r\n  &lt;uses-permission android:name=&quot;andriod.permission.INTERNET&quot; /&gt;\r\n  &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot;/&gt;\r\n```\r\ncorrection \r\n```\r\n  &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n  &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot;/&gt;\r\n```","title":"Un-resolved java.net.SocketException: socket failed: EPERM (Operation not permitted)","body":"<p>Looking at my own code, I spelt android wrong in the Manifest.xml file</p>\n<pre><code>  &lt;uses-permission android:name=&quot;andriod.permission.INTERNET&quot; /&gt;\n  &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot;/&gt;\n</code></pre>\n<p>correction</p>\n<pre><code>  &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n  &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot;/&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19518003,"reputation":49,"user_id":14280462,"display_name":"faribakhandani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677758683,"creation_date":1677758683,"answer_id":75615180,"question_id":70624195,"body_markdown":"Doing &quot;wipe data&quot; in the emulator can solve the problem.","title":"Un-resolved java.net.SocketException: socket failed: EPERM (Operation not permitted)","body":"<p>Doing &quot;wipe data&quot; in the emulator can solve the problem.</p>\n"}],"owner":{"account_id":18764995,"reputation":11,"user_id":13683086,"display_name":"Maxwell Ross"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2355,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":2,"score":-1,"last_activity_date":1689336580,"creation_date":1641572240,"question_id":70624195,"body_markdown":"I am following a tutorial on connecting my android app to mySQL server. I am currently encountering an error that other post on StackOverflow cant solve, at least not for me. \r\n\r\nThe error is &quot;java.net.SocketException: socket failed: EPERM (Operation not permitted)&quot; which shows up both on the emulator and my physical device. Other relating topics on stackoverflow has suggested that I add the lines \r\n```\r\n&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n```\r\nto my AndroidManifest.xml then un-installing the application, to which I have but the error still persist.\r\n\r\n\r\nAndroidManifest.xml\r\n```\r\n    &lt;uses-permission android:name=&quot;andriod.permission.INTERNET&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot;/&gt;\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:usesCleartextTraffic=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.Login2&quot;&gt;\r\n        &lt;activity\r\n            android:name=&quot;.SignUpActivity&quot;\r\n            android:exported=&quot;false&quot;\r\n            android:theme=&quot;@style/Theme.Design.Light.NoActionBar&quot;/&gt;\r\n        &lt;activity\r\n            android:name=&quot;.ui.login.LoginActivity&quot;\r\n            android:exported=&quot;false&quot;\r\n            android:theme=&quot;@style/Theme.Design.Light.NoActionBar&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n\r\n```\r\n\r\nSignUpActivity class\r\n``` \r\npackage com.example.login2;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.os.Handler;\r\nimport android.os.Looper;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport java.io.BufferedReader;\r\nimport java.io.BufferedWriter;\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.io.InputStreamReader;\r\nimport java.io.OutputStream;\r\nimport java.io.OutputStreamWriter;\r\nimport java.net.HttpURLConnection;\r\nimport java.net.URL;\r\nimport java.net.URLEncoder;\r\n\r\npublic class SignUpActivity extends AppCompatActivity {\r\n\r\n    // EditText inputFullName, inputUserName, inputEmail, inputPassword;\r\n    //Button buttonSignIn, buttonLogIn;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_sign_up);\r\n\r\n        //Button signUpButton = findViewById(R.id.btn1Signup);\r\n\r\n        EditText inputFullName = findViewById(R.id.fullname);\r\n        EditText inputEmail = findViewById(R.id.email);\r\n        EditText inputPassword = findViewById(R.id.password2);\r\n        EditText inputUserName = findViewById(R.id.username2);\r\n\r\n        Button buttonLogIn = findViewById(R.id.button5);\r\n        Button buttonSignIn = (Button) findViewById(R.id.button8);\r\n\r\n        buttonSignIn.setOnClickListener(view -&gt; {\r\n\r\n//            Intent intent = new Intent(this, MainActivity.class); //command go to another page\r\n//            startActivity(intent);//start activity\r\n\r\n            String fullname, username, email, password;\r\n\r\n            fullname = String.valueOf(inputFullName.getText());\r\n            username = String.valueOf(inputUserName.getText());\r\n            email = String.valueOf(inputEmail.getText());\r\n            password = String.valueOf(inputPassword.getText());\r\n\r\n            if(!fullname.equals(&quot;&quot;) &amp;&amp; !username.equals(&quot;&quot;) &amp;&amp; !email.equals(&quot;&quot;) &amp;&amp; !password.equals(&quot;&quot;)) {\r\n                //Start ProgressBar first (Set visibility VISIBLE)\r\n                Handler handler = new Handler(Looper.getMainLooper());\r\n                handler.post(() -&gt; {\r\n\r\n                    //Starting Write and Read data with URL\r\n                    //Creating array for parameters\r\n                    String[] field = new String[4];\r\n                    field[0] = &quot;fullname&quot;;\r\n                    field[1] = &quot;username&quot;;\r\n                    field[2] = &quot;email&quot;;\r\n                    field[3] = &quot;password&quot;;\r\n                    //Creating array for data\r\n                    String[] data = new String[4];\r\n                    field[0] = fullname;\r\n                    field[1] = username;\r\n                    field[2] = email;\r\n                    field[3] = password;\r\n                    PutData putData = new PutData(&quot;https://192.168.100.2/LoginRegister/signup.php&quot;, &quot;POST&quot;, field, data);\r\n                    if (putData.startPut()) {\r\n                        if (putData.onComplete()) {\r\n                            String result = putData.getResult();\r\n                            if(result.equals(&quot;Sign Up Success&quot;)){\r\n                                Toast.makeText(getApplicationContext(), result, Toast.LENGTH_SHORT).show();\r\n                                Intent intent = new Intent(this, MainActivity.class);\r\n                                startActivity(intent);\r\n                                finish();\r\n                            }else{\r\n                                Toast.makeText(getApplicationContext(), result, Toast.LENGTH_SHORT).show();\r\n                            }\r\n                        }\r\n                    }\r\n                    //End Write and Read data with URL\r\n                });\r\n            }\r\n            else {\r\n                Toast.makeText(this, &quot;All fields required&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        });\r\n\r\n\r\n    }\r\n\r\n    public class PutData extends Thread {\r\n        private String url, method;\r\n        String result_data = &quot;Empty&quot;;\r\n        String[] data, field;\r\n\r\n        public PutData(String url, String method, String[] field, String[] data) {\r\n            this.url = url;\r\n            this.method = method;\r\n            this.data = new String[data.length];\r\n            this.field = new String[field.length];\r\n            System.arraycopy(field, 0, this.field, 0, field.length);\r\n            System.arraycopy(data, 0, this.data, 0, data.length);\r\n        }\r\n\r\n        @Override\r\n        public void run() {\r\n            try {\r\n                String UTF8 = &quot;UTF-8&quot;, iso = &quot;iso-8859-1&quot;;\r\n                URL url = new URL(this.url);\r\n                HttpURLConnection httpURLConnection = (HttpURLConnection) url.openConnection();\r\n                httpURLConnection.setRequestMethod(this.method);\r\n                httpURLConnection.setDoOutput(true);\r\n                httpURLConnection.setDoInput(true);\r\n                OutputStream outputStream = httpURLConnection.getOutputStream();\r\n                BufferedWriter bufferedWriter = new BufferedWriter(new OutputStreamWriter(outputStream, UTF8));\r\n                StringBuilder post_data = new StringBuilder();\r\n                for (int i = 0; i &lt; this.field.length; i++) {\r\n                    post_data.append(URLEncoder.encode(this.field[i], &quot;UTF-8&quot;)).append(&quot;=&quot;).append(URLEncoder.encode(this.data[i], UTF8)).append(&quot;&amp;&quot;);\r\n                }\r\n                bufferedWriter.write(post_data.toString());\r\n                bufferedWriter.flush();\r\n                bufferedWriter.close();\r\n                outputStream.close();\r\n                InputStream inputStream = httpURLConnection.getInputStream();\r\n                BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(inputStream, iso));\r\n                StringBuilder result = new StringBuilder();\r\n                String result_line;\r\n                while ((result_line = bufferedReader.readLine()) != null) {\r\n                    result.append(result_line);\r\n                }\r\n                bufferedReader.close();\r\n                inputStream.close();\r\n                httpURLConnection.disconnect();\r\n                setData(result.toString());\r\n            } catch (IOException e) {\r\n                setData(e.toString());\r\n            }\r\n        }\r\n\r\n        public boolean startPut() {\r\n            PutData.this.start();\r\n            return true;\r\n        }\r\n\r\n        public boolean onComplete() {\r\n            while (true) {\r\n                if (!this.isAlive()) {\r\n                    return true;\r\n                }\r\n            }\r\n        }\r\n\r\n        public String getResult() {\r\n            return this.getData();\r\n        }\r\n\r\n        public void setData(String result_data) {\r\n            this.result_data = result_data;\r\n        }\r\n\r\n\r\n        public String getData() {\r\n            return result_data;\r\n        }\r\n    }\r\n\r\n}\r\n```\r\nLogcat\r\n```\r\n2022-01-07 11:30:24.055 11687-11687/? I/.example.login: Late-enabling -Xcheck:jni\r\n2022-01-07 11:30:24.068 11687-11687/? I/.example.login: Unquickening 12 vdex files!\r\n2022-01-07 11:30:24.069 11687-11687/? W/.example.login: Unexpected CPU variant for X86 using defaults: x86\r\n2022-01-07 11:30:24.236 11687-11687/com.example.login2 D/NetworkSecurityConfig: No Network Security Config specified, using platform default\r\n2022-01-07 11:30:24.237 11687-11687/com.example.login2 D/NetworkSecurityConfig: No Network Security Config specified, using platform default\r\n2022-01-07 11:30:24.261 11687-11711/com.example.login2 D/libEGL: loaded /vendor/lib/egl/libEGL_emulation.so\r\n2022-01-07 11:30:24.263 11687-11711/com.example.login2 D/libEGL: loaded /vendor/lib/egl/libGLESv1_CM_emulation.so\r\n2022-01-07 11:30:24.267 11687-11711/com.example.login2 D/libEGL: loaded /vendor/lib/egl/libGLESv2_emulation.so\r\n2022-01-07 11:30:24.389 11687-11687/com.example.login2 W/.example.login: Accessing hidden method Landroid/view/View;-&gt;computeFitSystemWindows(Landroid/graphics/Rect;Landroid/graphics/Rect;)Z (greylist, reflection, allowed)\r\n2022-01-07 11:30:24.389 11687-11687/com.example.login2 W/.example.login: Accessing hidden method Landroid/view/ViewGroup;-&gt;makeOptionalFitsSystemWindows()V (greylist, reflection, allowed)\r\n2022-01-07 11:30:24.500 11687-11709/com.example.login2 D/HostConnection: HostConnection::get() New Host Connection established 0xf75ec230, tid 11709\r\n2022-01-07 11:30:24.507 11687-11709/com.example.login2 D/HostConnection: HostComposition ext ANDROID_EMU_CHECKSUM_HELPER_v1 ANDROID_EMU_native_sync_v2 ANDROID_EMU_native_sync_v3 ANDROID_EMU_native_sync_v4 ANDROID_EMU_dma_v1 ANDROID_EMU_direct_mem ANDROID_EMU_host_composition_v1 ANDROID_EMU_host_composition_v2 ANDROID_EMU_vulkan ANDROID_EMU_deferred_vulkan_commands ANDROID_EMU_vulkan_null_optional_strings ANDROID_EMU_vulkan_create_resources_with_requirements ANDROID_EMU_YUV_Cache ANDROID_EMU_vulkan_ignored_handles ANDROID_EMU_has_shared_slots_host_memory_allocator ANDROID_EMU_vulkan_free_memory_sync ANDROID_EMU_vulkan_shader_float16_int8 ANDROID_EMU_vulkan_async_queue_submit ANDROID_EMU_sync_buffer_data ANDROID_EMU_read_color_buffer_dma GL_OES_vertex_array_object GL_KHR_texture_compression_astc_ldr ANDROID_EMU_host_side_tracing ANDROID_EMU_gles_max_version_2 \r\n2022-01-07 11:30:24.508 11687-11709/com.example.login2 W/OpenGLRenderer: Failed to choose config with EGL_SWAP_BEHAVIOR_PRESERVED, retrying without...\r\n2022-01-07 11:30:24.537 11687-11709/com.example.login2 D/EGL_emulation: eglCreateContext: 0xf75ec1c0: maj 2 min 0 rcv 2\r\n2022-01-07 11:30:24.565 11687-11709/com.example.login2 D/EGL_emulation: eglMakeCurrent: 0xf75ec1c0: ver 2 0 (tinfo 0xf7931630) (first time)\r\n2022-01-07 11:30:24.571 11687-11709/com.example.login2 I/Gralloc4: mapper 4.x is not supported\r\n2022-01-07 11:30:24.572 11687-11709/com.example.login2 D/HostConnection: createUnique: call\r\n2022-01-07 11:30:24.572 11687-11709/com.example.login2 D/HostConnection: HostConnection::get() New Host Connection established 0xf75eb580, tid 11709\r\n2022-01-07 11:30:24.572 11687-11709/com.example.login2 D/goldfish-address-space: allocate: Ask for block of size 0x100\r\n2022-01-07 11:30:24.572 11687-11709/com.example.login2 D/goldfish-address-space: allocate: ioctl allocate returned offset 0x3dfffe000 size 0x2000\r\n2022-01-07 11:30:24.595 11687-11709/com.example.login2 D/HostConnection: HostComposition ext ANDROID_EMU_CHECKSUM_HELPER_v1 ANDROID_EMU_native_sync_v2 ANDROID_EMU_native_sync_v3 ANDROID_EMU_native_sync_v4 ANDROID_EMU_dma_v1 ANDROID_EMU_direct_mem ANDROID_EMU_host_composition_v1 ANDROID_EMU_host_composition_v2 ANDROID_EMU_vulkan ANDROID_EMU_deferred_vulkan_commands ANDROID_EMU_vulkan_null_optional_strings ANDROID_EMU_vulkan_create_resources_with_requirements ANDROID_EMU_YUV_Cache ANDROID_EMU_vulkan_ignored_handles ANDROID_EMU_has_shared_slots_host_memory_allocator ANDROID_EMU_vulkan_free_memory_sync ANDROID_EMU_vulkan_shader_float16_int8 ANDROID_EMU_vulkan_async_queue_submit ANDROID_EMU_sync_buffer_data ANDROID_EMU_read_color_buffer_dma GL_OES_vertex_array_object GL_KHR_texture_compression_astc_ldr ANDROID_EMU_host_side_tracing ANDROID_EMU_gles_max_version_2 \r\n2022-01-07 11:30:26.557 11687-11687/com.example.login2 I/AssistStructure: Flattened final assist data: 2276 bytes, containing 1 windows, 11 views\r\n2022-01-07 11:30:33.555 11687-11687/com.example.login2 D/CompatibilityChangeReporter: Compat change id reported: 147798919; UID 10128; state: ENABLED\r\n```\r\n\r\nI would appreciate any assistance in solving this matter.\r\n\r\n\r\nAs requested, the php signup used to connect the android app to the mySQL server \r\n```\r\n&lt;?php\r\nrequire &quot;DataBase.php&quot;;\r\n$db = new DataBase();\r\nif (isset($_POST[&#39;fullname&#39;]) &amp;&amp; isset($_POST[&#39;email&#39;]) &amp;&amp; isset($_POST[&#39;username&#39;]) &amp;&amp; isset($_POST[&#39;password&#39;])) {\r\n    if ($db-&gt;dbConnect()) {\r\n        if ($db-&gt;signUp(&quot;users&quot;, $_POST[&#39;fullname&#39;], $_POST[&#39;email&#39;], $_POST[&#39;username&#39;], $_POST[&#39;password&#39;])) {\r\n            echo &quot;Sign Up Success&quot;;\r\n        } else echo &quot;Sign up Failed&quot;;\r\n    } else echo &quot;Error: Database connection&quot;;\r\n} else echo &quot;All fields are required&quot;;\r\n?&gt;\r\n\r\n```\r\n\r\ndatabase config file\r\n```\r\n&lt;?php\r\n\r\nclass DataBaseConfig\r\n{\r\n    public $servername;\r\n    public $username;\r\n    public $password;\r\n    public $databasename;\r\n\r\n    public function __construct()\r\n    {\r\n\r\n        $this-&gt;servername = &#39;%&#39;;\r\n        $this-&gt;username = &#39;test1&#39;;\r\n        $this-&gt;password = &#39;n8wOs3tx@3d!TGJl&#39;;\r\n        $this-&gt;databasename = &#39;test&#39;;\r\n\r\n    }\r\n}\r\n\r\n?&gt;\r\n\r\n```","title":"Un-resolved java.net.SocketException: socket failed: EPERM (Operation not permitted)","body":"<p>I am following a tutorial on connecting my android app to mySQL server. I am currently encountering an error that other post on StackOverflow cant solve, at least not for me.</p>\n<p>The error is &quot;java.net.SocketException: socket failed: EPERM (Operation not permitted)&quot; which shows up both on the emulator and my physical device. Other relating topics on stackoverflow has suggested that I add the lines</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n</code></pre>\n<p>to my AndroidManifest.xml then un-installing the application, to which I have but the error still persist.</p>\n<p>AndroidManifest.xml</p>\n<pre><code>    &lt;uses-permission android:name=&quot;andriod.permission.INTERNET&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot;/&gt;\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:usesCleartextTraffic=&quot;true&quot;\n        android:theme=&quot;@style/Theme.Login2&quot;&gt;\n        &lt;activity\n            android:name=&quot;.SignUpActivity&quot;\n            android:exported=&quot;false&quot;\n            android:theme=&quot;@style/Theme.Design.Light.NoActionBar&quot;/&gt;\n        &lt;activity\n            android:name=&quot;.ui.login.LoginActivity&quot;\n            android:exported=&quot;false&quot;\n            android:theme=&quot;@style/Theme.Design.Light.NoActionBar&quot; /&gt;\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n</code></pre>\n<p>SignUpActivity class</p>\n<pre><code>package com.example.login2;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.os.Handler;\nimport android.os.Looper;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.Toast;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport java.io.BufferedReader;\nimport java.io.BufferedWriter;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.io.OutputStream;\nimport java.io.OutputStreamWriter;\nimport java.net.HttpURLConnection;\nimport java.net.URL;\nimport java.net.URLEncoder;\n\npublic class SignUpActivity extends AppCompatActivity {\n\n    // EditText inputFullName, inputUserName, inputEmail, inputPassword;\n    //Button buttonSignIn, buttonLogIn;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_sign_up);\n\n        //Button signUpButton = findViewById(R.id.btn1Signup);\n\n        EditText inputFullName = findViewById(R.id.fullname);\n        EditText inputEmail = findViewById(R.id.email);\n        EditText inputPassword = findViewById(R.id.password2);\n        EditText inputUserName = findViewById(R.id.username2);\n\n        Button buttonLogIn = findViewById(R.id.button5);\n        Button buttonSignIn = (Button) findViewById(R.id.button8);\n\n        buttonSignIn.setOnClickListener(view -&gt; {\n\n//            Intent intent = new Intent(this, MainActivity.class); //command go to another page\n//            startActivity(intent);//start activity\n\n            String fullname, username, email, password;\n\n            fullname = String.valueOf(inputFullName.getText());\n            username = String.valueOf(inputUserName.getText());\n            email = String.valueOf(inputEmail.getText());\n            password = String.valueOf(inputPassword.getText());\n\n            if(!fullname.equals(&quot;&quot;) &amp;&amp; !username.equals(&quot;&quot;) &amp;&amp; !email.equals(&quot;&quot;) &amp;&amp; !password.equals(&quot;&quot;)) {\n                //Start ProgressBar first (Set visibility VISIBLE)\n                Handler handler = new Handler(Looper.getMainLooper());\n                handler.post(() -&gt; {\n\n                    //Starting Write and Read data with URL\n                    //Creating array for parameters\n                    String[] field = new String[4];\n                    field[0] = &quot;fullname&quot;;\n                    field[1] = &quot;username&quot;;\n                    field[2] = &quot;email&quot;;\n                    field[3] = &quot;password&quot;;\n                    //Creating array for data\n                    String[] data = new String[4];\n                    field[0] = fullname;\n                    field[1] = username;\n                    field[2] = email;\n                    field[3] = password;\n                    PutData putData = new PutData(&quot;https://192.168.100.2/LoginRegister/signup.php&quot;, &quot;POST&quot;, field, data);\n                    if (putData.startPut()) {\n                        if (putData.onComplete()) {\n                            String result = putData.getResult();\n                            if(result.equals(&quot;Sign Up Success&quot;)){\n                                Toast.makeText(getApplicationContext(), result, Toast.LENGTH_SHORT).show();\n                                Intent intent = new Intent(this, MainActivity.class);\n                                startActivity(intent);\n                                finish();\n                            }else{\n                                Toast.makeText(getApplicationContext(), result, Toast.LENGTH_SHORT).show();\n                            }\n                        }\n                    }\n                    //End Write and Read data with URL\n                });\n            }\n            else {\n                Toast.makeText(this, &quot;All fields required&quot;, Toast.LENGTH_SHORT).show();\n            }\n        });\n\n\n    }\n\n    public class PutData extends Thread {\n        private String url, method;\n        String result_data = &quot;Empty&quot;;\n        String[] data, field;\n\n        public PutData(String url, String method, String[] field, String[] data) {\n            this.url = url;\n            this.method = method;\n            this.data = new String[data.length];\n            this.field = new String[field.length];\n            System.arraycopy(field, 0, this.field, 0, field.length);\n            System.arraycopy(data, 0, this.data, 0, data.length);\n        }\n\n        @Override\n        public void run() {\n            try {\n                String UTF8 = &quot;UTF-8&quot;, iso = &quot;iso-8859-1&quot;;\n                URL url = new URL(this.url);\n                HttpURLConnection httpURLConnection = (HttpURLConnection) url.openConnection();\n                httpURLConnection.setRequestMethod(this.method);\n                httpURLConnection.setDoOutput(true);\n                httpURLConnection.setDoInput(true);\n                OutputStream outputStream = httpURLConnection.getOutputStream();\n                BufferedWriter bufferedWriter = new BufferedWriter(new OutputStreamWriter(outputStream, UTF8));\n                StringBuilder post_data = new StringBuilder();\n                for (int i = 0; i &lt; this.field.length; i++) {\n                    post_data.append(URLEncoder.encode(this.field[i], &quot;UTF-8&quot;)).append(&quot;=&quot;).append(URLEncoder.encode(this.data[i], UTF8)).append(&quot;&amp;&quot;);\n                }\n                bufferedWriter.write(post_data.toString());\n                bufferedWriter.flush();\n                bufferedWriter.close();\n                outputStream.close();\n                InputStream inputStream = httpURLConnection.getInputStream();\n                BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(inputStream, iso));\n                StringBuilder result = new StringBuilder();\n                String result_line;\n                while ((result_line = bufferedReader.readLine()) != null) {\n                    result.append(result_line);\n                }\n                bufferedReader.close();\n                inputStream.close();\n                httpURLConnection.disconnect();\n                setData(result.toString());\n            } catch (IOException e) {\n                setData(e.toString());\n            }\n        }\n\n        public boolean startPut() {\n            PutData.this.start();\n            return true;\n        }\n\n        public boolean onComplete() {\n            while (true) {\n                if (!this.isAlive()) {\n                    return true;\n                }\n            }\n        }\n\n        public String getResult() {\n            return this.getData();\n        }\n\n        public void setData(String result_data) {\n            this.result_data = result_data;\n        }\n\n\n        public String getData() {\n            return result_data;\n        }\n    }\n\n}\n</code></pre>\n<p>Logcat</p>\n<pre><code>2022-01-07 11:30:24.055 11687-11687/? I/.example.login: Late-enabling -Xcheck:jni\n2022-01-07 11:30:24.068 11687-11687/? I/.example.login: Unquickening 12 vdex files!\n2022-01-07 11:30:24.069 11687-11687/? W/.example.login: Unexpected CPU variant for X86 using defaults: x86\n2022-01-07 11:30:24.236 11687-11687/com.example.login2 D/NetworkSecurityConfig: No Network Security Config specified, using platform default\n2022-01-07 11:30:24.237 11687-11687/com.example.login2 D/NetworkSecurityConfig: No Network Security Config specified, using platform default\n2022-01-07 11:30:24.261 11687-11711/com.example.login2 D/libEGL: loaded /vendor/lib/egl/libEGL_emulation.so\n2022-01-07 11:30:24.263 11687-11711/com.example.login2 D/libEGL: loaded /vendor/lib/egl/libGLESv1_CM_emulation.so\n2022-01-07 11:30:24.267 11687-11711/com.example.login2 D/libEGL: loaded /vendor/lib/egl/libGLESv2_emulation.so\n2022-01-07 11:30:24.389 11687-11687/com.example.login2 W/.example.login: Accessing hidden method Landroid/view/View;-&gt;computeFitSystemWindows(Landroid/graphics/Rect;Landroid/graphics/Rect;)Z (greylist, reflection, allowed)\n2022-01-07 11:30:24.389 11687-11687/com.example.login2 W/.example.login: Accessing hidden method Landroid/view/ViewGroup;-&gt;makeOptionalFitsSystemWindows()V (greylist, reflection, allowed)\n2022-01-07 11:30:24.500 11687-11709/com.example.login2 D/HostConnection: HostConnection::get() New Host Connection established 0xf75ec230, tid 11709\n2022-01-07 11:30:24.507 11687-11709/com.example.login2 D/HostConnection: HostComposition ext ANDROID_EMU_CHECKSUM_HELPER_v1 ANDROID_EMU_native_sync_v2 ANDROID_EMU_native_sync_v3 ANDROID_EMU_native_sync_v4 ANDROID_EMU_dma_v1 ANDROID_EMU_direct_mem ANDROID_EMU_host_composition_v1 ANDROID_EMU_host_composition_v2 ANDROID_EMU_vulkan ANDROID_EMU_deferred_vulkan_commands ANDROID_EMU_vulkan_null_optional_strings ANDROID_EMU_vulkan_create_resources_with_requirements ANDROID_EMU_YUV_Cache ANDROID_EMU_vulkan_ignored_handles ANDROID_EMU_has_shared_slots_host_memory_allocator ANDROID_EMU_vulkan_free_memory_sync ANDROID_EMU_vulkan_shader_float16_int8 ANDROID_EMU_vulkan_async_queue_submit ANDROID_EMU_sync_buffer_data ANDROID_EMU_read_color_buffer_dma GL_OES_vertex_array_object GL_KHR_texture_compression_astc_ldr ANDROID_EMU_host_side_tracing ANDROID_EMU_gles_max_version_2 \n2022-01-07 11:30:24.508 11687-11709/com.example.login2 W/OpenGLRenderer: Failed to choose config with EGL_SWAP_BEHAVIOR_PRESERVED, retrying without...\n2022-01-07 11:30:24.537 11687-11709/com.example.login2 D/EGL_emulation: eglCreateContext: 0xf75ec1c0: maj 2 min 0 rcv 2\n2022-01-07 11:30:24.565 11687-11709/com.example.login2 D/EGL_emulation: eglMakeCurrent: 0xf75ec1c0: ver 2 0 (tinfo 0xf7931630) (first time)\n2022-01-07 11:30:24.571 11687-11709/com.example.login2 I/Gralloc4: mapper 4.x is not supported\n2022-01-07 11:30:24.572 11687-11709/com.example.login2 D/HostConnection: createUnique: call\n2022-01-07 11:30:24.572 11687-11709/com.example.login2 D/HostConnection: HostConnection::get() New Host Connection established 0xf75eb580, tid 11709\n2022-01-07 11:30:24.572 11687-11709/com.example.login2 D/goldfish-address-space: allocate: Ask for block of size 0x100\n2022-01-07 11:30:24.572 11687-11709/com.example.login2 D/goldfish-address-space: allocate: ioctl allocate returned offset 0x3dfffe000 size 0x2000\n2022-01-07 11:30:24.595 11687-11709/com.example.login2 D/HostConnection: HostComposition ext ANDROID_EMU_CHECKSUM_HELPER_v1 ANDROID_EMU_native_sync_v2 ANDROID_EMU_native_sync_v3 ANDROID_EMU_native_sync_v4 ANDROID_EMU_dma_v1 ANDROID_EMU_direct_mem ANDROID_EMU_host_composition_v1 ANDROID_EMU_host_composition_v2 ANDROID_EMU_vulkan ANDROID_EMU_deferred_vulkan_commands ANDROID_EMU_vulkan_null_optional_strings ANDROID_EMU_vulkan_create_resources_with_requirements ANDROID_EMU_YUV_Cache ANDROID_EMU_vulkan_ignored_handles ANDROID_EMU_has_shared_slots_host_memory_allocator ANDROID_EMU_vulkan_free_memory_sync ANDROID_EMU_vulkan_shader_float16_int8 ANDROID_EMU_vulkan_async_queue_submit ANDROID_EMU_sync_buffer_data ANDROID_EMU_read_color_buffer_dma GL_OES_vertex_array_object GL_KHR_texture_compression_astc_ldr ANDROID_EMU_host_side_tracing ANDROID_EMU_gles_max_version_2 \n2022-01-07 11:30:26.557 11687-11687/com.example.login2 I/AssistStructure: Flattened final assist data: 2276 bytes, containing 1 windows, 11 views\n2022-01-07 11:30:33.555 11687-11687/com.example.login2 D/CompatibilityChangeReporter: Compat change id reported: 147798919; UID 10128; state: ENABLED\n</code></pre>\n<p>I would appreciate any assistance in solving this matter.</p>\n<p>As requested, the php signup used to connect the android app to the mySQL server</p>\n<pre><code>&lt;?php\nrequire &quot;DataBase.php&quot;;\n$db = new DataBase();\nif (isset($_POST['fullname']) &amp;&amp; isset($_POST['email']) &amp;&amp; isset($_POST['username']) &amp;&amp; isset($_POST['password'])) {\n    if ($db-&gt;dbConnect()) {\n        if ($db-&gt;signUp(&quot;users&quot;, $_POST['fullname'], $_POST['email'], $_POST['username'], $_POST['password'])) {\n            echo &quot;Sign Up Success&quot;;\n        } else echo &quot;Sign up Failed&quot;;\n    } else echo &quot;Error: Database connection&quot;;\n} else echo &quot;All fields are required&quot;;\n?&gt;\n\n</code></pre>\n<p>database config file</p>\n<pre><code>&lt;?php\n\nclass DataBaseConfig\n{\n    public $servername;\n    public $username;\n    public $password;\n    public $databasename;\n\n    public function __construct()\n    {\n\n        $this-&gt;servername = '%';\n        $this-&gt;username = 'test1';\n        $this-&gt;password = 'n8wOs3tx@3d!TGJl';\n        $this-&gt;databasename = 'test';\n\n    }\n}\n\n?&gt;\n\n</code></pre>\n"},{"tags":["java","android","json","servlets"],"answers":[{"tags":[],"owner":{"account_id":14680232,"reputation":10969,"user_id":10601988,"display_name":"Aaron Villalobos"},"down_vote_count":1,"up_vote_count":791,"is_accepted":true,"score":790,"last_activity_date":1675044600,"creation_date":1558578995,"answer_id":56267366,"question_id":56266801,"body_markdown":"Your app needs additional permissions and/or to be reinstalled.\r\n\r\nAdd additional permissions to `AndroidManifest.xml` within the `&lt;manifest&gt;` section:\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n\r\nTo reinstall, uninstall the app from the emulator or physical connected device and then run it again.  (If adding permissions, make sure to reinstall *afterwards*.)","title":"java.net.SocketException: socket failed: EPERM (Operation not permitted)","body":"<p>Your app needs additional permissions and/or to be reinstalled.</p>\n<p>Add additional permissions to <code>AndroidManifest.xml</code> within the <code>&lt;manifest&gt;</code> section:</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n</code></pre>\n<p>To reinstall, uninstall the app from the emulator or physical connected device and then run it again.  (If adding permissions, make sure to reinstall <em>afterwards</em>.)</p>\n"},{"tags":[],"owner":{"account_id":5098917,"reputation":4167,"user_id":4089212,"accept_rate":64,"display_name":"Archil Labadze"},"down_vote_count":0,"up_vote_count":78,"is_accepted":false,"score":78,"last_activity_date":1567452984,"creation_date":1567452984,"answer_id":57761916,"question_id":56266801,"body_markdown":"First of all you need change your android manifest .xml\r\nBut after this action you must uninstall application and run it again.\r\n[https://developer.android.com/training/basics/network-ops/connecting][1]\r\n\r\n\r\n  [1]: https://developer.android.com/training/basics/network-ops/connecting\r\n\r\nand code here:\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n\r\nin **AndroidManifest.xml**","title":"java.net.SocketException: socket failed: EPERM (Operation not permitted)","body":"<p>First of all you need change your android manifest .xml\nBut after this action you must uninstall application and run it again.\n<a href=\"https://developer.android.com/training/basics/network-ops/connecting\" rel=\"noreferrer\">https://developer.android.com/training/basics/network-ops/connecting</a></p>\n\n<p>and code here:</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.INTERNET\" /&gt;\n&lt;uses-permission android:name=\"android.permission.ACCESS_NETWORK_STATE\" /&gt;\n</code></pre>\n\n<p>in <strong>AndroidManifest.xml</strong></p>\n"},{"tags":[],"owner":{"account_id":8594874,"reputation":531,"user_id":6438191,"display_name":"Juan Cabello"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1573132877,"creation_date":1573132877,"answer_id":58749652,"question_id":56266801,"body_markdown":"I had to uninstall the app from the emulator and then everything started to work. I just needed the folowing permission on the AndroidManifest.xml\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;","title":"java.net.SocketException: socket failed: EPERM (Operation not permitted)","body":"<p>I had to uninstall the app from the emulator and then everything started to work. I just needed the folowing permission on the AndroidManifest.xml</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.INTERNET\" /&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17071695,"reputation":1131,"user_id":12352305,"display_name":"John Alexander"},"down_vote_count":0,"up_vote_count":113,"is_accepted":false,"score":113,"last_activity_date":1630046112,"creation_date":1573416257,"answer_id":58792460,"question_id":56266801,"body_markdown":"Just uninstall the app from the emulator then run again and it’ll work. I had the same issue\r\n\r\nTo uninstall the app run your project when &quot;the application had stopped&quot; message appear click &quot;app info&quot; then uninstall.","title":"java.net.SocketException: socket failed: EPERM (Operation not permitted)","body":"<p>Just uninstall the app from the emulator then run again and it’ll work. I had the same issue</p>\n<p>To uninstall the app run your project when &quot;the application had stopped&quot; message appear click &quot;app info&quot; then uninstall.</p>\n"},{"tags":[],"owner":{"account_id":1850973,"reputation":328,"user_id":1677551,"display_name":"ovidiur"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1574869803,"creation_date":1574869803,"answer_id":59073918,"question_id":56266801,"body_markdown":"If anyone still has this issue I encountered it when I used VPN and tried to connect to wifi while cellular was on. I was using Anyconnect VPN client.\r\nSolution is to enable the allow bypass that will let you bind a socket to a specific network if this is what you are looking for. \r\n\r\nAnyConnect only uses allowBypass if it&#39;s configured in its managed restrictions (by EMM), via this key: vpn_connection_allow_bypass. ","title":"java.net.SocketException: socket failed: EPERM (Operation not permitted)","body":"<p>If anyone still has this issue I encountered it when I used VPN and tried to connect to wifi while cellular was on. I was using Anyconnect VPN client.\nSolution is to enable the allow bypass that will let you bind a socket to a specific network if this is what you are looking for. </p>\n\n<p>AnyConnect only uses allowBypass if it's configured in its managed restrictions (by EMM), via this key: vpn_connection_allow_bypass. </p>\n"},{"tags":[],"owner":{"account_id":14624477,"reputation":522,"user_id":10562200,"display_name":"AK IJ"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1575374709,"creation_date":1575374709,"answer_id":59156740,"question_id":56266801,"body_markdown":"1. Add ACCESS_NETWORK_STATE permission in manifest\r\n2. Reinstallation emulator ","title":"java.net.SocketException: socket failed: EPERM (Operation not permitted)","body":"<ol>\n<li>Add ACCESS_NETWORK_STATE permission in manifest</li>\n<li>Reinstallation emulator </li>\n</ol>\n"},{"tags":[],"owner":{"account_id":12883653,"reputation":2815,"user_id":10030693,"display_name":"Gilbert"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1588374150,"creation_date":1588374150,"answer_id":61552131,"question_id":56266801,"body_markdown":"Set  `android:usesCleartextTraffic=&quot;true&quot;` in the manifest file.\r\nAdd the permission `INTERNET`.\r\nUninstall app and then install again.","title":"java.net.SocketException: socket failed: EPERM (Operation not permitted)","body":"<p>Set  <code>android:usesCleartextTraffic=\"true\"</code> in the manifest file.\nAdd the permission <code>INTERNET</code>.\nUninstall app and then install again.</p>\n"},{"tags":[],"owner":{"account_id":17916474,"reputation":31,"user_id":13017308,"display_name":"khoane"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1603178960,"creation_date":1603159167,"answer_id":64437440,"question_id":56266801,"body_markdown":"I had to delete this\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n\r\nand keep this\r\n\r\n    android:usesCleartextTraffic=&quot;true&quot;\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n\r\n","title":"java.net.SocketException: socket failed: EPERM (Operation not permitted)","body":"<p>I had to delete this</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n</code></pre>\n<p>and keep this</p>\n<pre><code>android:usesCleartextTraffic=&quot;true&quot;\n&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17751509,"reputation":753,"user_id":12889486,"display_name":"Kavindu Dissanayake"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1606589780,"creation_date":1606589780,"answer_id":65053371,"question_id":56266801,"body_markdown":"Set android:usesCleartextTraffic=&quot;true&quot; in the manifest file. Add the permission INTERNET. Uninstall app and then install again.its work to me","title":"java.net.SocketException: socket failed: EPERM (Operation not permitted)","body":"<p>Set android:usesCleartextTraffic=&quot;true&quot; in the manifest file. Add the permission INTERNET. Uninstall app and then install again.its work to me</p>\n"},{"tags":[],"owner":{"account_id":11364102,"reputation":130,"user_id":8331502,"display_name":"Mazhar Ghulam"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1608212737,"creation_date":1607005511,"answer_id":65127853,"question_id":56266801,"body_markdown":"I had the same issue in android emulator, even after adding \r\n```\r\n&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot; /&gt;\r\n```\r\nand \r\n\r\n    android:usesCleartextTraffic=&quot;true&quot;\r\n\r\n and reinstalling the app still had the issue on my emulator.\r\n\r\n&gt; AVD Manager -&gt; Right click -&gt; Cold Boot now\r\n\r\nsolved my issue, looks like if we ran the app initially without adding internet permissions / clearTextTraffic we might need to cold boot as it store some cache.","title":"java.net.SocketException: socket failed: EPERM (Operation not permitted)","body":"<p>I had the same issue in android emulator, even after adding</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot; /&gt;\n</code></pre>\n<p>and</p>\n<pre><code>android:usesCleartextTraffic=&quot;true&quot;\n</code></pre>\n<p>and reinstalling the app still had the issue on my emulator.</p>\n<blockquote>\n<p>AVD Manager -&gt; Right click -&gt; Cold Boot now</p>\n</blockquote>\n<p>solved my issue, looks like if we ran the app initially without adding internet permissions / clearTextTraffic we might need to cold boot as it store some cache.</p>\n"},{"tags":[],"owner":{"account_id":259035,"reputation":12666,"user_id":541624,"accept_rate":64,"display_name":"ericn"},"down_vote_count":1,"up_vote_count":36,"is_accepted":false,"score":35,"last_activity_date":1609865556,"creation_date":1609865556,"answer_id":65583188,"question_id":56266801,"body_markdown":"If you forgot to add `&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;` to your Manifest.xml, do it now\r\n\r\nIf you already added it but the error persists, uninstall the app first then run i again.  \r\nMore often than not I run into the same issue because I forgot `&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;` in my first installation.  \r\nThe OS thought the app doesn&#39;t need Internet permission (which is dumb IMO) and would not check any permission update to the app (which is even dumber IMO).  \r\n\r\nThe only way to tell the Android OS to check your updated permission requests is to uninstall the app first before installing again.\r\n\r\n\r\nI think neither\r\n-  `&lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;`\r\n- nor `android:usesCleartextTraffic=&quot;true&quot;`\r\nreally matters here","title":"java.net.SocketException: socket failed: EPERM (Operation not permitted)","body":"<p>If you forgot to add <code>&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;</code> to your Manifest.xml, do it now</p>\n<p>If you already added it but the error persists, uninstall the app first then run i again.<br />\nMore often than not I run into the same issue because I forgot <code>&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;</code> in my first installation.<br />\nThe OS thought the app doesn't need Internet permission (which is dumb IMO) and would not check any permission update to the app (which is even dumber IMO).</p>\n<p>The only way to tell the Android OS to check your updated permission requests is to uninstall the app first before installing again.</p>\n<p>I think neither</p>\n<ul>\n<li><code>&lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;</code></li>\n<li>nor <code>android:usesCleartextTraffic=&quot;true&quot;</code>\nreally matters here</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":10712400,"reputation":847,"user_id":7884251,"display_name":"Chosen"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1619099966,"creation_date":1618193704,"answer_id":67051882,"question_id":56266801,"body_markdown":"If you are using a localhost server on your Mac then use the local IP address that is assigned for your machine as your API address. i.e. 192.168.x.x (find it in Settings -&gt; Network) not localhost nor 127.0.0.1.\r\n\r\nAs they mentioned above, uninstall the app and then put these tags in your manifest:\r\n\r\nin the application section: \r\n\r\n    android:usesCleartextTraffic=&quot;true&quot;\r\n\r\n\r\nThen in your manifest section:\r\n\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        package=&quot;com.a.myapp&quot;&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    \r\n        &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;","title":"java.net.SocketException: socket failed: EPERM (Operation not permitted)","body":"<p>If you are using a localhost server on your Mac then use the local IP address that is assigned for your machine as your API address. i.e. 192.168.x.x (find it in Settings -&gt; Network) not localhost nor 127.0.0.1.</p>\n<p>As they mentioned above, uninstall the app and then put these tags in your manifest:</p>\n<p>in the application section:</p>\n<pre><code>android:usesCleartextTraffic=&quot;true&quot;\n</code></pre>\n<p>Then in your manifest section:</p>\n<pre><code>&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    package=&quot;com.a.myapp&quot;&gt;\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19948660,"reputation":710,"user_id":14618789,"display_name":"Lakindu Hewawasam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1627990039,"creation_date":1627989683,"answer_id":68635134,"question_id":56266801,"body_markdown":"I am a little late to this but I encountered this problem and I found out that `android:usesCleartextTraffic` requires minimum API version of 23. Therefore, in the `module` gradle build file, switch the minimum version to 23 and it should work.","title":"java.net.SocketException: socket failed: EPERM (Operation not permitted)","body":"<p>I am a little late to this but I encountered this problem and I found out that <code>android:usesCleartextTraffic</code> requires minimum API version of 23. Therefore, in the <code>module</code> gradle build file, switch the minimum version to 23 and it should work.</p>\n"},{"tags":[],"owner":{"account_id":3024222,"reputation":449,"user_id":2564590,"accept_rate":0,"display_name":"sudhanshu"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1633606233,"creation_date":1633606233,"answer_id":69480351,"question_id":56266801,"body_markdown":"Working solution.\r\n1. check if you have INTERNET permission and ACCESS_NETWORK_STATE permission, if not add these.\r\n\r\n&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n\r\n\r\n2. uninstall the app and install again. If not try in different device. It will work 100%. I face same issue and solved this by using these steps.","title":"java.net.SocketException: socket failed: EPERM (Operation not permitted)","body":"<p>Working solution.</p>\n<ol>\n<li>check if you have INTERNET permission and ACCESS_NETWORK_STATE permission, if not add these.</li>\n</ol>\n\n\n<ol start=\"2\">\n<li>uninstall the app and install again. If not try in different device. It will work 100%. I face same issue and solved this by using these steps.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":24594811,"reputation":21,"user_id":18498144,"display_name":"Mostafa Mohamed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682630539,"creation_date":1682630539,"answer_id":76124766,"question_id":56266801,"body_markdown":"uninstall the app from the emulator and try again","title":"java.net.SocketException: socket failed: EPERM (Operation not permitted)","body":"<p>uninstall the app from the emulator and try again</p>\n"},{"tags":[],"owner":{"account_id":5174030,"reputation":156,"user_id":4141763,"display_name":"Ahmed Nabil"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689336541,"creation_date":1689336541,"answer_id":76687529,"question_id":56266801,"body_markdown":"uninstalling the app did the trick for me,specially if you&#39;re working on emulator","title":"java.net.SocketException: socket failed: EPERM (Operation not permitted)","body":"<p>uninstalling the app did the trick for me,specially if you're working on emulator</p>\n"}],"owner":{"account_id":14680232,"reputation":10969,"user_id":10601988,"display_name":"Aaron Villalobos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":188625,"favorite_count":0,"down_vote_count":0,"up_vote_count":306,"accepted_answer_id":56267366,"answer_count":16,"score":306,"last_activity_date":1689336541,"creation_date":1558573350,"question_id":56266801,"body_markdown":"I am working on an Android Studio project with several activities. I am currently trying to read the output from a Java Servlet on localhost but it seems to be crashing due to a socket permission.\r\n\r\nI&#39;ve made a new project, used the exact same code and worked perfectly. So I dont understand why is not willing to work on my project. \r\n\r\n\r\n\r\n    public class LoginActivity extends AppCompatActivity {\r\n\r\n\r\n    String apiUrl = &quot;http://10.0.2.2:8080/ProyectService/Servlet?action=login&quot;;\r\n    EditText username;\r\n    EditText password;\r\n    AlertDialog dialog;\r\n    Usuario session;\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        // Inicializacion de ventana\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_login);\r\n        getSupportActionBar().hide();\r\n\r\n        // Inicializacion de componentes\r\n        username = findViewById(R.id.username);\r\n        password = findViewById(R.id.password);\r\n\r\n        // Inicializacion de funcionalidad de botones\r\n        Button button= (Button) findViewById(R.id.login);\r\n        button.setOnClickListener(new View.OnClickListener() {\r\n            public void onClick(View v) {\r\n                UserLoginTask mAuthTask = new UserLoginTask();\r\n                mAuthTask.execute();\r\n            }\r\n        });\r\n\r\n        password = findViewById(R.id.password);\r\n        createAlertDialog(&quot;Usuario o Contrase&#241;a Incorrectos&quot;);\r\n        }\r\n\r\n        private void createAlertDialog(String message){\r\n        AlertDialog.Builder builder = new AlertDialog.Builder(this);\r\n        builder.setMessage(message)\r\n                .setTitle(&quot;Error&quot;);\r\n        dialog = builder.create();\r\n        }\r\n\r\n\r\n\r\n        // ASYNCRONUS NETWORK PROCESS\r\n\r\n        public class UserLoginTask extends AsyncTask&lt;String, String, String&gt; {\r\n\r\n        @Override\r\n        protected void onPreExecute() {\r\n        }\r\n\r\n\r\n        @Override\r\n        protected String doInBackground(String... params) {\r\n\r\n            // implement API in background and store the response in current variable\r\n            String current = &quot;&quot;;\r\n            try {\r\n                URL url;\r\n                HttpURLConnection urlConnection = null;\r\n                try {\r\n                    url = new URL(apiUrl);\r\n                    System.out.println(apiUrl);\r\n                    urlConnection = (HttpURLConnection) url\r\n                            .openConnection();\r\n\r\n                    InputStream in = urlConnection.getInputStream();\r\n\r\n                    InputStreamReader isw = new InputStreamReader(in);\r\n\r\n                    int data = isw.read();\r\n                    while (data != -1) {\r\n                        current += (char) data;\r\n                        data = isw.read();\r\n                        //System.out.print(current);\r\n\r\n                    }\r\n                    System.out.print(current);\r\n                    // return the data to onPostExecute method\r\n                    return current;\r\n\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                } finally {\r\n                    if (urlConnection != null) {\r\n                        urlConnection.disconnect();\r\n                    }\r\n                }\r\n\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n                return &quot;Exception: &quot; + e.getMessage();\r\n            }\r\n            return current;\r\n            }\r\n        }\r\n\r\n        protected void onPostExecute(String success) {\r\n            Log.i(success, &quot;&quot;);\r\n           //attemptLogin();\r\n        }\r\n    }\r\n\r\nI Expect it to read the data but it crashes at this line: \r\n\r\n    InputStream in = urlConnection.getInputStream();\r\n\r\n\r\n\r\nThis is the error output:\r\n\r\n    java.net.SocketException: socket failed: EPERM (Operation not permitted)\r\n    at java.net.Socket.createImpl(Socket.java:492)\r\n    at java.net.Socket.getImpl(Socket.java:552)\r\n    at java.net.Socket.setSoTimeout(Socket.java:1180)\r\n    at com.android.okhttp.internal.io.RealConnection.connectSocket(RealConnection.java:143)\r\n    at com.android.okhttp.internal.io.RealConnection.connect(RealConnection.java:116)\r\n    at com.android.okhttp.internal.http.StreamAllocation.findConnection(StreamAllocation.java:186)\r\n    at com.android.okhttp.internal.http.StreamAllocation.findHealthyConnection(StreamAllocation.java:128)\r\n    at com.android.okhttp.internal.http.StreamAllocation.newStream(StreamAllocation.java:97)\r\n    at com.android.okhttp.internal.http.HttpEngine.connect(HttpEngine.java:289)\r\n    at com.android.okhttp.internal.http.HttpEngine.sendRequest(HttpEngine.java:232)\r\n    at com.android.okhttp.internal.huc.HttpURLConnectionImpl.execute(HttpURLConnectionImpl.java:465)\r\n    at com.android.okhttp.internal.huc.HttpURLConnectionImpl.getResponse(HttpURLConnectionImpl.java:411)\r\n    at com.android.okhttp.internal.huc.HttpURLConnectionImpl.getInputStream(HttpURLConnectionImpl.java:248)\r\n    at com.example.controller.LoginActivity$UserLoginTask.doInBackground(LoginActivity.java:114)\r\n    at com.example.controller.LoginActivity$UserLoginTask.doInBackground(LoginActivity.java:93)\r\n    at android.os.AsyncTask$3.call(AsyncTask.java:378)\r\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n    at android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:289)\r\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\r\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\r\n    at java.lang.Thread.run(Thread.java:919)","title":"java.net.SocketException: socket failed: EPERM (Operation not permitted)","body":"<p>I am working on an Android Studio project with several activities. I am currently trying to read the output from a Java Servlet on localhost but it seems to be crashing due to a socket permission.</p>\n\n<p>I've made a new project, used the exact same code and worked perfectly. So I dont understand why is not willing to work on my project. </p>\n\n<pre><code>public class LoginActivity extends AppCompatActivity {\n\n\nString apiUrl = \"http://10.0.2.2:8080/ProyectService/Servlet?action=login\";\nEditText username;\nEditText password;\nAlertDialog dialog;\nUsuario session;\n\n@Override\npublic void onCreate(Bundle savedInstanceState) {\n    // Inicializacion de ventana\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_login);\n    getSupportActionBar().hide();\n\n    // Inicializacion de componentes\n    username = findViewById(R.id.username);\n    password = findViewById(R.id.password);\n\n    // Inicializacion de funcionalidad de botones\n    Button button= (Button) findViewById(R.id.login);\n    button.setOnClickListener(new View.OnClickListener() {\n        public void onClick(View v) {\n            UserLoginTask mAuthTask = new UserLoginTask();\n            mAuthTask.execute();\n        }\n    });\n\n    password = findViewById(R.id.password);\n    createAlertDialog(\"Usuario o Contraseña Incorrectos\");\n    }\n\n    private void createAlertDialog(String message){\n    AlertDialog.Builder builder = new AlertDialog.Builder(this);\n    builder.setMessage(message)\n            .setTitle(\"Error\");\n    dialog = builder.create();\n    }\n\n\n\n    // ASYNCRONUS NETWORK PROCESS\n\n    public class UserLoginTask extends AsyncTask&lt;String, String, String&gt; {\n\n    @Override\n    protected void onPreExecute() {\n    }\n\n\n    @Override\n    protected String doInBackground(String... params) {\n\n        // implement API in background and store the response in current variable\n        String current = \"\";\n        try {\n            URL url;\n            HttpURLConnection urlConnection = null;\n            try {\n                url = new URL(apiUrl);\n                System.out.println(apiUrl);\n                urlConnection = (HttpURLConnection) url\n                        .openConnection();\n\n                InputStream in = urlConnection.getInputStream();\n\n                InputStreamReader isw = new InputStreamReader(in);\n\n                int data = isw.read();\n                while (data != -1) {\n                    current += (char) data;\n                    data = isw.read();\n                    //System.out.print(current);\n\n                }\n                System.out.print(current);\n                // return the data to onPostExecute method\n                return current;\n\n            } catch (Exception e) {\n                e.printStackTrace();\n            } finally {\n                if (urlConnection != null) {\n                    urlConnection.disconnect();\n                }\n            }\n\n        } catch (Exception e) {\n            e.printStackTrace();\n            return \"Exception: \" + e.getMessage();\n        }\n        return current;\n        }\n    }\n\n    protected void onPostExecute(String success) {\n        Log.i(success, \"\");\n       //attemptLogin();\n    }\n}\n</code></pre>\n\n<p>I Expect it to read the data but it crashes at this line: </p>\n\n<pre><code>InputStream in = urlConnection.getInputStream();\n</code></pre>\n\n<p>This is the error output:</p>\n\n<pre><code>java.net.SocketException: socket failed: EPERM (Operation not permitted)\nat java.net.Socket.createImpl(Socket.java:492)\nat java.net.Socket.getImpl(Socket.java:552)\nat java.net.Socket.setSoTimeout(Socket.java:1180)\nat com.android.okhttp.internal.io.RealConnection.connectSocket(RealConnection.java:143)\nat com.android.okhttp.internal.io.RealConnection.connect(RealConnection.java:116)\nat com.android.okhttp.internal.http.StreamAllocation.findConnection(StreamAllocation.java:186)\nat com.android.okhttp.internal.http.StreamAllocation.findHealthyConnection(StreamAllocation.java:128)\nat com.android.okhttp.internal.http.StreamAllocation.newStream(StreamAllocation.java:97)\nat com.android.okhttp.internal.http.HttpEngine.connect(HttpEngine.java:289)\nat com.android.okhttp.internal.http.HttpEngine.sendRequest(HttpEngine.java:232)\nat com.android.okhttp.internal.huc.HttpURLConnectionImpl.execute(HttpURLConnectionImpl.java:465)\nat com.android.okhttp.internal.huc.HttpURLConnectionImpl.getResponse(HttpURLConnectionImpl.java:411)\nat com.android.okhttp.internal.huc.HttpURLConnectionImpl.getInputStream(HttpURLConnectionImpl.java:248)\nat com.example.controller.LoginActivity$UserLoginTask.doInBackground(LoginActivity.java:114)\nat com.example.controller.LoginActivity$UserLoginTask.doInBackground(LoginActivity.java:93)\nat android.os.AsyncTask$3.call(AsyncTask.java:378)\nat java.util.concurrent.FutureTask.run(FutureTask.java:266)\nat android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:289)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\nat java.lang.Thread.run(Thread.java:919)\n</code></pre>\n"},{"tags":["java","outlook","connection-pooling","exchangewebservices","email"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1464861534,"post_id":37588542,"comment_id":62662308,"body_markdown":"&quot;Please tell me if there is another approach to deal with exchange service connection&quot; Guard the connection with a mutex, so only one thread can access it at once; use a `ThreadLocal` so each thread has its own connection.","body":"&quot;Please tell me if there is another approach to deal with exchange service connection&quot; Guard the connection with a mutex, so only one thread can access it at once; use a <code>ThreadLocal</code> so each thread has its own connection."},{"owner":{"account_id":5160473,"reputation":119,"user_id":4132343,"accept_rate":25,"display_name":"aelve"},"score":0,"creation_date":1464864152,"post_id":37588542,"comment_id":62664106,"body_markdown":"Ok, I have multiple tenants. Let&#39;s say currently tenant A have 5 users. Ther user 1 want to send an email, and also user 1 should be notified when he receive an email. For this I need 2 connection to the exchange service. First to send the email, and second to listen to the NewEmail event. Send email and receive emails are on different controller/services, this means different threads. After send email I can close the ews connection, but to receive emails the connection should be opened all the time. To send an email took 5+ seconds because the connection on ews. Is this the right approach ?","body":"Ok, I have multiple tenants. Let&#39;s say currently tenant A have 5 users. Ther user 1 want to send an email, and also user 1 should be notified when he receive an email. For this I need 2 connection to the exchange service. First to send the email, and second to listen to the NewEmail event. Send email and receive emails are on different controller/services, this means different threads. After send email I can close the ews connection, but to receive emails the connection should be opened all the time. To send an email took 5+ seconds because the connection on ews. Is this the right approach ?"}],"owner":{"account_id":5160473,"reputation":119,"user_id":4132343,"accept_rate":25,"display_name":"aelve"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":483,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1689336406,"creation_date":1464861468,"question_id":37588542,"body_markdown":"I need to integrate outlook corporate emails in CRM. For this is use java EWS API.\r\nI read microsoft documentation of EWS but I still have some questions, maybe someone can help.\r\nFirst I need to connect with ExchangeService:\r\n\r\n    ExchangeService service = new ExchangeService(ExchangeVersion.Exchange2010_SP2)\r\n    ExchangeCredentials credentials = new WebCredentials(email, password)\r\n    service.setCredentials(credentials)\r\n    service.autodiscoverUrl(email, new RedirectionUrlCallback())\r\n\r\nFor this connection to be established takes about 5 seconds, it is pretty much for a real time application. I&#39;m ok to create this connection only one time and then reuse it but as I read ExchangeService is not thread safe, so I need to create a connection to send an email, then close the connection, then create again a new connection when I need to subscribe for notifications etc.\r\n\r\nIs there another approach to deal with exchange service connection?\r\n\r\nI tried to reuse the exchange service connection and I get this:\r\n\r\n    microsoft.exchange.webservices.data.core.exception.service.remote.ServiceRequestException: The request failed. Connection is still allocated\r\n\r\nAnother question is about streaming subscription that enables client applications to discover events that occur in the Exchange store, I think this is the right fit method for me:\r\n\r\n    StreamingSubscriptionConnection conn = new   StreamingSubscriptionConnection(service, 30);\r\n    conn.addSubscription(subscription);\r\n    conn.addOnNotificationEvent(new SubscriptionConnectionListener());\r\n    conn.addOnDisconnect(this);\r\n    conn.open();\r\n\r\nSo first I need the connection to the ExchangeService to be opened, and then I need to open the SubscriptionConnection. Because SubscriptionConnectionListener should wait all the time for new events I don&#39;t close the connection. Connection expiry after 30 minutes. I can catch the expiry connection and opened again. How to deal with that when 1000 users have opened subscription connections with their exchange service, basically if the subscription connection remains opened for new events also the exchange service connection used for subscription should stay alive.","title":"Corporate email integration, exchange server ews","body":"<p>I need to integrate outlook corporate emails in CRM. For this is use java EWS API.\nI read microsoft documentation of EWS but I still have some questions, maybe someone can help.\nFirst I need to connect with ExchangeService:</p>\n<pre><code>ExchangeService service = new ExchangeService(ExchangeVersion.Exchange2010_SP2)\nExchangeCredentials credentials = new WebCredentials(email, password)\nservice.setCredentials(credentials)\nservice.autodiscoverUrl(email, new RedirectionUrlCallback())\n</code></pre>\n<p>For this connection to be established takes about 5 seconds, it is pretty much for a real time application. I'm ok to create this connection only one time and then reuse it but as I read ExchangeService is not thread safe, so I need to create a connection to send an email, then close the connection, then create again a new connection when I need to subscribe for notifications etc.</p>\n<p>Is there another approach to deal with exchange service connection?</p>\n<p>I tried to reuse the exchange service connection and I get this:</p>\n<pre><code>microsoft.exchange.webservices.data.core.exception.service.remote.ServiceRequestException: The request failed. Connection is still allocated\n</code></pre>\n<p>Another question is about streaming subscription that enables client applications to discover events that occur in the Exchange store, I think this is the right fit method for me:</p>\n<pre><code>StreamingSubscriptionConnection conn = new   StreamingSubscriptionConnection(service, 30);\nconn.addSubscription(subscription);\nconn.addOnNotificationEvent(new SubscriptionConnectionListener());\nconn.addOnDisconnect(this);\nconn.open();\n</code></pre>\n<p>So first I need the connection to the ExchangeService to be opened, and then I need to open the SubscriptionConnection. Because SubscriptionConnectionListener should wait all the time for new events I don't close the connection. Connection expiry after 30 minutes. I can catch the expiry connection and opened again. How to deal with that when 1000 users have opened subscription connections with their exchange service, basically if the subscription connection remains opened for new events also the exchange service connection used for subscription should stay alive.</p>\n"},{"tags":["java","eclipse","classloader"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1527078385,"post_id":50488162,"comment_id":87989508,"body_markdown":"It is hard to tell what is wrong with your project without actually seeing its structure or settings. Maybe you need to use some clear/rebuild options? If that doesn&#39;t help take a look at this question about loading resources: [Loading image resource](https://stackoverflow.com/q/9864267), which for Eclipse points us out to [Runnable JARs missing Images/Files (Resources)](https://stackoverflow.com/q/8960381)","body":"It is hard to tell what is wrong with your project without actually seeing its structure or settings. Maybe you need to use some clear/rebuild options? If that doesn&#39;t help take a look at this question about loading resources: <a href=\"https://stackoverflow.com/q/9864267\">Loading image resource</a>, which for Eclipse points us out to <a href=\"https://stackoverflow.com/q/8960381\">Runnable JARs missing Images/Files (Resources)</a>"},{"owner":{"account_id":19067,"reputation":5283,"user_id":44355,"display_name":"david a."},"score":0,"creation_date":1527078914,"post_id":50488162,"comment_id":87989915,"body_markdown":"Is the Resources directory included in the Java Build Path in your Eclipse project settings?","body":"Is the Resources directory included in the Java Build Path in your Eclipse project settings?"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1527078943,"post_id":50488162,"comment_id":87989932,"body_markdown":"Look in the jar (zip format) to find `/Images/logo.png`. Case-sensitive. Marking the folder as source folder should have done it, and `IntroState.class.getResource(&quot;/Images/logo.png&quot;)`.","body":"Look in the jar (zip format) to find <code>&#47;Images&#47;logo.png</code>. Case-sensitive. Marking the folder as source folder should have done it, and <code>IntroState.class.getResource(&quot;&#47;Images&#47;logo.png&quot;)</code>."},{"owner":{"account_id":5203048,"reputation":71,"user_id":4161854,"display_name":"Nafta"},"score":0,"creation_date":1527079101,"post_id":50488162,"comment_id":87990064,"body_markdown":"as already stated in the question, the folder &quot;Resources&quot; is included in the build path as Source Folder. I also rebuilt the Project multiple times.","body":"as already stated in the question, the folder &quot;Resources&quot; is included in the build path as Source Folder. I also rebuilt the Project multiple times."}],"answers":[{"tags":[],"owner":{"account_id":9144834,"reputation":4430,"user_id":6801443,"display_name":"Sean F"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1527078528,"creation_date":1527078528,"answer_id":50488436,"question_id":50488162,"body_markdown":"It will search for the image based on the location of the class. Since class GamesState.Introstate is found at Project/src (in actual fact in eclipse it is probably found at Project/bin) it will look for the image at Project/src/Images/logo.png when you use the path \r\n/Images/logo.png\r\n","title":"getClass().getResource doesn&#39;t find image file","body":"<p>It will search for the image based on the location of the class. Since class GamesState.Introstate is found at Project/src (in actual fact in eclipse it is probably found at Project/bin) it will look for the image at Project/src/Images/logo.png when you use the path \n/Images/logo.png</p>\n"},{"tags":[],"owner":{"account_id":4718602,"reputation":2942,"user_id":3817152,"accept_rate":67,"display_name":"Deb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1527079199,"creation_date":1527079199,"answer_id":50488671,"question_id":50488162,"body_markdown":"You should read the file as stream\r\n\r\nTry using:\r\n    \r\n\r\n    getClass().getClassLoader().getResourceAsStream(&quot;Images/logo.png&quot;)\r\n\r\nOr \r\n\r\n    getClass().getClassLoader().getResource(&quot;Images/logo.png&quot;)\r\n","title":"getClass().getResource doesn&#39;t find image file","body":"<p>You should read the file as stream</p>\n\n<p>Try using:</p>\n\n<pre><code>getClass().getClassLoader().getResourceAsStream(\"Images/logo.png\")\n</code></pre>\n\n<p>Or </p>\n\n<pre><code>getClass().getClassLoader().getResource(\"Images/logo.png\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9925559,"reputation":430,"user_id":7347278,"accept_rate":86,"display_name":"V&#225;clav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689335754,"creation_date":1689335024,"answer_id":76687352,"question_id":50488162,"body_markdown":"Say, you have a resource file in your project `Project/src/com/example/icon.PNG`. But this is _not_ where the program is going to look for it. The program is going to look for your file in _classpath_, which is either under `/out`, or `/target` folder, the one which contains your compiled classes.\r\n\r\nGet to know you classpath precise by running `System.getProperty(&quot;java.class.path&quot;)`. It has same structure as your OS `$PATH` variable.\r\n\r\nIn context of location of resource files, **absolute** means _relative to the classpath_, as if the classpath was `/` of your filesystem.\r\n\r\nIn context of location of resource files, **relative** means _relative to the compiled class file_.\r\n\r\nWhen accessing resource files in Java, there are three pairs of options to consider:\r\n\r\n 1. You may access a resource either by using `ClassLoader` (i.e. `this.getClass().getClassLoader()`, or `MyClass.class.getClassLoader()`), or using `Class` (i.e. `MyClass.class`, or `this.getClass()`);\r\n2. You may access a resource either by providing an **absolute** or a **relative** path;\r\n3. You may either obtain resource&#39;s **URL** (i.e. `this.getClass().getClassLoader().getResource(&quot;com/example/icon.PNG&quot;)`, or `com.example.MyClass.class.getResource(&quot;icon.PNG&quot;)`), or you may obtain **InputStream** instead (i.e. `MyClass.class.getClassLoader().getResourceAsStream(&quot;com/example/icon.PNG&quot;))`, or `this.getClass().getResourceAsStream(&quot;/com/example/icon.PNG&quot;)`)\r\n\r\n**YOU CANNOT USE RELATIVE PATHS WITH CLASSLOADER**\r\n\r\nAbsolute paths (relative to your classpath) start with `/` when you access it via **Class**, but never start with `/` when you access it via **ClassLoader**. For example:\r\n\r\n - `this.getClass().getResourceAsStream(&quot;/com/example/icon.PNG&quot;)` finds the file;\r\n - `this.getClass().getClassLoader().getResourceAsStream(&quot;/com/example/icon.PNG&quot;)` returns **null**\r\n - `this.getClass().getResourceAsStream(&quot;com/example/icon.PNG&quot;)` returns **null**\r\n - `this.getClass().getClassLoader().getResourceAsStream(&quot;com/example/icon.PNG&quot;)` finds the file\r\n - `com.example.package1.MyObj1.class.getResource(&quot;../icon.PNG&quot;)` finds the file\r\n- `com.example.MyClass.class.getResource(&quot;icon.PNG&quot;)` finds the file\r\n - `com.example.MyClass.class.getResource(&quot;com/example/icon.PNG&quot;)` returns **null**\r\n\r\n\r\nLast but not least - it would be enough to have read access rights for the resource file in order to copy it to classpath (to `out/production/`, or `target/`, etc.) so even if it is _root_ owned, read-only access rights (`chmod 444 icon.PNG`) then it still would be enough to build your app. If the resource file is unreadable in build time, your classpath simply won&#39;t built at all, so no worries here. If you do make a trick and take away read access rights on the resource which is already on the classpath (i.e. you do `chmod 000 /target/Project/com/example/icon.PNG`), then the obtained URL still won&#39;t be null, but you&#39;re going to simply read 0 bytes from it, with no error. \r\n\r\n","title":"getClass().getResource doesn&#39;t find image file","body":"<p>Say, you have a resource file in your project <code>Project/src/com/example/icon.PNG</code>. But this is <em>not</em> where the program is going to look for it. The program is going to look for your file in <em>classpath</em>, which is either under <code>/out</code>, or <code>/target</code> folder, the one which contains your compiled classes.</p>\n<p>Get to know you classpath precise by running <code>System.getProperty(&quot;java.class.path&quot;)</code>. It has same structure as your OS <code>$PATH</code> variable.</p>\n<p>In context of location of resource files, <strong>absolute</strong> means <em>relative to the classpath</em>, as if the classpath was <code>/</code> of your filesystem.</p>\n<p>In context of location of resource files, <strong>relative</strong> means <em>relative to the compiled class file</em>.</p>\n<p>When accessing resource files in Java, there are three pairs of options to consider:</p>\n<ol>\n<li>You may access a resource either by using <code>ClassLoader</code> (i.e. <code>this.getClass().getClassLoader()</code>, or <code>MyClass.class.getClassLoader()</code>), or using <code>Class</code> (i.e. <code>MyClass.class</code>, or <code>this.getClass()</code>);</li>\n<li>You may access a resource either by providing an <strong>absolute</strong> or a <strong>relative</strong> path;</li>\n<li>You may either obtain resource's <strong>URL</strong> (i.e. <code>this.getClass().getClassLoader().getResource(&quot;com/example/icon.PNG&quot;)</code>, or <code>com.example.MyClass.class.getResource(&quot;icon.PNG&quot;)</code>), or you may obtain <strong>InputStream</strong> instead (i.e. <code>MyClass.class.getClassLoader().getResourceAsStream(&quot;com/example/icon.PNG&quot;))</code>, or <code>this.getClass().getResourceAsStream(&quot;/com/example/icon.PNG&quot;)</code>)</li>\n</ol>\n<p><strong>YOU CANNOT USE RELATIVE PATHS WITH CLASSLOADER</strong></p>\n<p>Absolute paths (relative to your classpath) start with <code>/</code> when you access it via <strong>Class</strong>, but never start with <code>/</code> when you access it via <strong>ClassLoader</strong>. For example:</p>\n<ul>\n<li><code>this.getClass().getResourceAsStream(&quot;/com/example/icon.PNG&quot;)</code> finds the file;</li>\n<li><code>this.getClass().getClassLoader().getResourceAsStream(&quot;/com/example/icon.PNG&quot;)</code> returns <strong>null</strong></li>\n<li><code>this.getClass().getResourceAsStream(&quot;com/example/icon.PNG&quot;)</code> returns <strong>null</strong></li>\n<li><code>this.getClass().getClassLoader().getResourceAsStream(&quot;com/example/icon.PNG&quot;)</code> finds the file</li>\n<li><code>com.example.package1.MyObj1.class.getResource(&quot;../icon.PNG&quot;)</code> finds the file</li>\n<li><code>com.example.MyClass.class.getResource(&quot;icon.PNG&quot;)</code> finds the file</li>\n<li><code>com.example.MyClass.class.getResource(&quot;com/example/icon.PNG&quot;)</code> returns <strong>null</strong></li>\n</ul>\n<p>Last but not least - it would be enough to have read access rights for the resource file in order to copy it to classpath (to <code>out/production/</code>, or <code>target/</code>, etc.) so even if it is <em>root</em> owned, read-only access rights (<code>chmod 444 icon.PNG</code>) then it still would be enough to build your app. If the resource file is unreadable in build time, your classpath simply won't built at all, so no worries here. If you do make a trick and take away read access rights on the resource which is already on the classpath (i.e. you do <code>chmod 000 /target/Project/com/example/icon.PNG</code>), then the obtained URL still won't be null, but you're going to simply read 0 bytes from it, with no error.</p>\n"}],"owner":{"account_id":5203048,"reputation":71,"user_id":4161854,"display_name":"Nafta"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3088,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1689335754,"creation_date":1527077693,"question_id":50488162,"body_markdown":"My class IntroState.java has the following path:\r\n\r\n    Project/src/GameState/IntroState.java\r\n\r\nMy image is located at:\r\n\r\n    Project/Resources/Images/logo.png\r\n\r\nThe folder Resources is a Source Folder. I use Eclipse oxygen.\r\n\r\ni try to load it with:\r\n\r\n    new BufferedImage image = ImageIO.read(getClass().getResource(&quot;/Images/logo.png&quot;);\r\n\r\nI get a `NullPointerException` when i run it.\r\nThis Code worked fine in an older project, but my Laptop died and i had to reinstall Eclipse and redo my Code, since then it stopped working.\r\nAnyone see the problem?\r\ni tried lots of different paths, i have the feeling that some of my Eclipse settings are wrong maybe.","title":"getClass().getResource doesn&#39;t find image file","body":"<p>My class IntroState.java has the following path:</p>\n\n<pre><code>Project/src/GameState/IntroState.java\n</code></pre>\n\n<p>My image is located at:</p>\n\n<pre><code>Project/Resources/Images/logo.png\n</code></pre>\n\n<p>The folder Resources is a Source Folder. I use Eclipse oxygen.</p>\n\n<p>i try to load it with:</p>\n\n<pre><code>new BufferedImage image = ImageIO.read(getClass().getResource(\"/Images/logo.png\");\n</code></pre>\n\n<p>I get a <code>NullPointerException</code> when i run it.\nThis Code worked fine in an older project, but my Laptop died and i had to reinstall Eclipse and redo my Code, since then it stopped working.\nAnyone see the problem?\ni tried lots of different paths, i have the feeling that some of my Eclipse settings are wrong maybe.</p>\n"},{"tags":["java","swing","jlabel"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1689335587,"post_id":76687403,"comment_id":135202414,"body_markdown":"If you don&#39;t get a decent answer soon, please consider clarifying your question a bit more. Also, for a blinking effect, simply use a Swing Timer.","body":"If you don&#39;t get a decent answer soon, please consider clarifying your question a bit more. Also, for a blinking effect, simply use a Swing Timer."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":2,"creation_date":1689335667,"post_id":76687403,"comment_id":135202434,"body_markdown":"Also, please consider posting a valid [mre] code post with the question, one that does not require classes and images not available to us. Best to use publicly available images, and to get rid of all imports that (again) we don&#39;t have access to. Your MRE code should have a main method, should be small enough to post in its entirety in your question, and we should be able to copy/paste/compile and run it without alteration. The link should explain the details and how it can help both you and us.","body":"Also, please consider posting a valid <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> code post with the question, one that does not require classes and images not available to us. Best to use publicly available images, and to get rid of all imports that (again) we don&#39;t have access to. Your MRE code should have a main method, should be small enough to post in its entirety in your question, and we should be able to copy/paste/compile and run it without alteration. The link should explain the details and how it can help both you and us."},{"owner":{"account_id":11312615,"reputation":3,"user_id":8295350,"display_name":"aksingh785"},"score":0,"creation_date":1689336697,"post_id":76687403,"comment_id":135202641,"body_markdown":"Issue is visible in 2nd image, when the ICON is hidden the text is not fully visible, Its getting wrapped-up. \nExpected is something like in the third image.","body":"Issue is visible in 2nd image, when the ICON is hidden the text is not fully visible, Its getting wrapped-up.  Expected is something like in the third image."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1689336936,"post_id":76687403,"comment_id":135202685,"body_markdown":"So it is *not* word &quot;wrapping&quot; that you&#39;re seeing but rather an ellipses. What are the constraints to the JLabel regarding its size and expandability? What constraints are on the images? Again, please share more details. Again, consider posting code that *we* can run and test. This would be a new small program that reproduces the problem, and again, the [mre](https://stackoverflow.com/help/minimal-reproducible-example) link will explain what this is.","body":"So it is <i>not</i> word &quot;wrapping&quot; that you&#39;re seeing but rather an ellipses. What are the constraints to the JLabel regarding its size and expandability? What constraints are on the images? Again, please share more details. Again, consider posting code that <i>we</i> can run and test. This would be a new small program that reproduces the problem, and again, the <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">mre</a> link will explain what this is."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1689337261,"post_id":76687403,"comment_id":135202771,"body_markdown":"Also, the layout managers that are used to hold and display the label will matter, but this will be part of your MRE.","body":"Also, the layout managers that are used to hold and display the label will matter, but this will be part of your MRE."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1689337295,"post_id":76687403,"comment_id":135202779,"body_markdown":"`right.setPreferredSize(right.getPreferredSize());` -- huh?","body":"<code>right.setPreferredSize(right.getPreferredSize());</code> -- huh?"},{"owner":{"account_id":11312615,"reputation":3,"user_id":8295350,"display_name":"aksingh785"},"score":0,"creation_date":1689339147,"post_id":76687403,"comment_id":135203222,"body_markdown":"revalidate(); made it work.","body":"revalidate(); made it work."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1689339743,"post_id":76687403,"comment_id":135203346,"body_markdown":"Great, I&#39;m very glad that you have solved your issue and have things working now, but still, I don&#39;t see how any of us could have provided this answer without your posting a [mre] with the question, without having code that *we* could test.","body":"Great, I&#39;m very glad that you have solved your issue and have things working now, but still, I don&#39;t see how any of us could have provided this answer without your posting a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> with the question, without having code that <i>we</i> could test."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1689350367,"post_id":76687403,"comment_id":135205931,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":11312615,"reputation":3,"user_id":8295350,"display_name":"aksingh785"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689335390,"creation_date":1689335390,"question_id":76687403,"body_markdown":"When using Icon in Jlabel the text is getting wrapped. \r\n\r\n1. I want to solve two scenarios, small text with a background Icon\r\n2. Bigger text (No wrap) with no ICON in background \r\n\r\nHow to align the text properly when the ICON is no longer required. \r\nAlso It would be lot helpful if someone can throw some ideas on how to blink the background to create an animation effect. \r\n\r\n\r\n[As Expected](https://i.stack.imgur.com/uP5sc.png)\r\n\r\n[text getting wrapped up](https://i.stack.imgur.com/FUZOT.png)\r\n\r\n[expected (Without background)](https://i.stack.imgur.com/gWfCA.png)\r\n\r\n\r\n\r\n``````\r\npackage test.client.swing.machine.view;\r\n\r\nimport java.awt.*;\r\n\r\nimport javax.swing.*;\r\nimport javax.swing.border.Border;\r\nimport javax.swing.border.EmptyBorder;\r\n\r\nimport test.client.swing.machine.view.ImageFactory.BorderType;\r\n\r\nimport static test.client.swing.machine.view.ComponentNameConstants.LABEL_VALUE_BUTTON_LABEL;\r\nimport static test.client.swing.machine.view.ComponentNameConstants.LABEL_VALUE_BUTTON_VALUE;\r\n\r\n\r\npublic class LabelValueButtonDynamic extends SimpleGraphicButton {\r\n\r\n    protected final JLabel left = new JLabel();\r\n    protected JLabel right = new JLabel();\r\n    protected String label;\r\n    protected Object value;\r\n    protected boolean showBackground = true;\r\n\r\n    public LabelValueButtonDynamic(ImageFactory imageFactory, String label, Object value, Border border,\r\n                            String imageNamePattern, BorderType bType, int width) {\r\n        super(imageFactory);\r\n        try {\r\n            loadDynamicImages(imageNamePattern, bType, width);\r\n        } catch (IllegalArgumentException e) {\r\n            loadStandardImages(imageNamePattern);\r\n        }\r\n        setBorder(border);\r\n        init(label, value); //NOSONAR needs to be overrideable\r\n    }\r\n\r\n    public String getLabel() {\r\n        return label;\r\n    }\r\n\r\n    public void setLabel(String label) {\r\n        this.label = label;\r\n        left.setText(label);\r\n    }\r\n\r\n    public Object getValue() {\r\n        return value;\r\n    }\r\n\r\n    public void setValue(Object value) {\r\n        this.value = value;\r\n        right.setText(String.valueOf(value));\r\n    }\r\n\r\n    @Override\r\n    public void setForeground(Color c) {\r\n        super.setForeground(c);\r\n        if (left != null) {\r\n            left.setForeground(c);\r\n        }\r\n        if (right != null) {\r\n            right.setForeground(Color.RED);\r\n        }\r\n        // repaint anscheinend nicht n&#246;tig\r\n        // repaint();\r\n    }\r\n\r\n    @Override\r\n    public void setFont(Font f) {\r\n        super.setFont(f);\r\n        if (left != null) {\r\n            left.setFont(f);\r\n        }\r\n        if (right != null) {\r\n            right.setFont(f);\r\n        }\r\n        // repaint anscheinend nicht n&#246;tig\r\n        //repaint();\r\n    }\r\n\r\n    @Override\r\n    public Font getFont() {\r\n        return left != null ? left.getFont() : super.getFont();\r\n    }\r\n\r\n    protected void init(String label, Object value) {\r\n\r\n        showBackground = true;\r\n        setLabel(label);\r\n        setValue(value);\r\n        setLayout(new BoxLayout(this, BoxLayout.LINE_AXIS));\r\n        if (getComponentOrientation().isHorizontal()) {\r\n            //\t\t\tadd(Box.createHorizontalStrut(5));\r\n            add(left);\r\n            add(Box.createGlue());\r\n            add(right);\r\n            //\t\t\tadd(Box.createHorizontalStrut(15));\r\n\r\n            left.setAlignmentY(0.5f); // XXX optimalen Wert f&#252;r AlignmentY finden (0.5 ist zu weit oben)\r\n            right.setAlignmentY(0.5f);\r\n            right.setIcon(new ImageIcon(loadStandardImage(&quot;btn_bonus_radio_button_unselected.png&quot;,\r\n                    null)));\r\n            right.setHorizontalAlignment(0);\r\n            right.setHorizontalTextPosition(0);\r\n        } else {\r\n            //\t\t\tadd(Box.createVerticalStrut(5));\r\n            add(left);\r\n            add(Box.createVerticalGlue());\r\n            add(right);\r\n            //\t\t\tadd(Box.createVerticalStrut(15));\r\n        }\r\n        left.setFont(Constants.getFontBold());\r\n        left.setName(LABEL_VALUE_BUTTON_LABEL);\r\n        right.setFont(Constants.getFontBoldMedium());\r\n        right.setName(LABEL_VALUE_BUTTON_VALUE);\r\n        right.setPreferredSize(right.getPreferredSize());\r\n    }\r\n\r\n    public void showCircle(boolean show){\r\n        if(show){\r\n            right.setIcon(new ImageIcon(loadStandardImage(&quot;btn_bonus_radio_button_unselected.png&quot;,\r\n                    null)));\r\n            right.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);\r\n            right.setHorizontalTextPosition(javax.swing.SwingConstants.CENTER);\r\n        }\r\n        else{\r\n            right.setHorizontalAlignment(LEFT);\r\n            right.setHorizontalTextPosition(LEFT);\r\n            right.setIcon(null);\r\n        }\r\n        repaint();\r\n    }\r\n}\r\n\r\n``````\r\n","title":"Jlabel text alignment not working when used with ICON","body":"<p>When using Icon in Jlabel the text is getting wrapped.</p>\n<ol>\n<li>I want to solve two scenarios, small text with a background Icon</li>\n<li>Bigger text (No wrap) with no ICON in background</li>\n</ol>\n<p>How to align the text properly when the ICON is no longer required.\nAlso It would be lot helpful if someone can throw some ideas on how to blink the background to create an animation effect.</p>\n<p><a href=\"https://i.stack.imgur.com/uP5sc.png\" rel=\"nofollow noreferrer\">As Expected</a></p>\n<p><a href=\"https://i.stack.imgur.com/FUZOT.png\" rel=\"nofollow noreferrer\">text getting wrapped up</a></p>\n<p><a href=\"https://i.stack.imgur.com/gWfCA.png\" rel=\"nofollow noreferrer\">expected (Without background)</a></p>\n<pre><code>package test.client.swing.machine.view;\n\nimport java.awt.*;\n\nimport javax.swing.*;\nimport javax.swing.border.Border;\nimport javax.swing.border.EmptyBorder;\n\nimport test.client.swing.machine.view.ImageFactory.BorderType;\n\nimport static test.client.swing.machine.view.ComponentNameConstants.LABEL_VALUE_BUTTON_LABEL;\nimport static test.client.swing.machine.view.ComponentNameConstants.LABEL_VALUE_BUTTON_VALUE;\n\n\npublic class LabelValueButtonDynamic extends SimpleGraphicButton {\n\n    protected final JLabel left = new JLabel();\n    protected JLabel right = new JLabel();\n    protected String label;\n    protected Object value;\n    protected boolean showBackground = true;\n\n    public LabelValueButtonDynamic(ImageFactory imageFactory, String label, Object value, Border border,\n                            String imageNamePattern, BorderType bType, int width) {\n        super(imageFactory);\n        try {\n            loadDynamicImages(imageNamePattern, bType, width);\n        } catch (IllegalArgumentException e) {\n            loadStandardImages(imageNamePattern);\n        }\n        setBorder(border);\n        init(label, value); //NOSONAR needs to be overrideable\n    }\n\n    public String getLabel() {\n        return label;\n    }\n\n    public void setLabel(String label) {\n        this.label = label;\n        left.setText(label);\n    }\n\n    public Object getValue() {\n        return value;\n    }\n\n    public void setValue(Object value) {\n        this.value = value;\n        right.setText(String.valueOf(value));\n    }\n\n    @Override\n    public void setForeground(Color c) {\n        super.setForeground(c);\n        if (left != null) {\n            left.setForeground(c);\n        }\n        if (right != null) {\n            right.setForeground(Color.RED);\n        }\n        // repaint anscheinend nicht nötig\n        // repaint();\n    }\n\n    @Override\n    public void setFont(Font f) {\n        super.setFont(f);\n        if (left != null) {\n            left.setFont(f);\n        }\n        if (right != null) {\n            right.setFont(f);\n        }\n        // repaint anscheinend nicht nötig\n        //repaint();\n    }\n\n    @Override\n    public Font getFont() {\n        return left != null ? left.getFont() : super.getFont();\n    }\n\n    protected void init(String label, Object value) {\n\n        showBackground = true;\n        setLabel(label);\n        setValue(value);\n        setLayout(new BoxLayout(this, BoxLayout.LINE_AXIS));\n        if (getComponentOrientation().isHorizontal()) {\n            //          add(Box.createHorizontalStrut(5));\n            add(left);\n            add(Box.createGlue());\n            add(right);\n            //          add(Box.createHorizontalStrut(15));\n\n            left.setAlignmentY(0.5f); // XXX optimalen Wert für AlignmentY finden (0.5 ist zu weit oben)\n            right.setAlignmentY(0.5f);\n            right.setIcon(new ImageIcon(loadStandardImage(&quot;btn_bonus_radio_button_unselected.png&quot;,\n                    null)));\n            right.setHorizontalAlignment(0);\n            right.setHorizontalTextPosition(0);\n        } else {\n            //          add(Box.createVerticalStrut(5));\n            add(left);\n            add(Box.createVerticalGlue());\n            add(right);\n            //          add(Box.createVerticalStrut(15));\n        }\n        left.setFont(Constants.getFontBold());\n        left.setName(LABEL_VALUE_BUTTON_LABEL);\n        right.setFont(Constants.getFontBoldMedium());\n        right.setName(LABEL_VALUE_BUTTON_VALUE);\n        right.setPreferredSize(right.getPreferredSize());\n    }\n\n    public void showCircle(boolean show){\n        if(show){\n            right.setIcon(new ImageIcon(loadStandardImage(&quot;btn_bonus_radio_button_unselected.png&quot;,\n                    null)));\n            right.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);\n            right.setHorizontalTextPosition(javax.swing.SwingConstants.CENTER);\n        }\n        else{\n            right.setHorizontalAlignment(LEFT);\n            right.setHorizontalTextPosition(LEFT);\n            right.setIcon(null);\n        }\n        repaint();\n    }\n}\n\n</code></pre>\n"},{"tags":["java","maven","assembly"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1689342831,"post_id":76687337,"comment_id":135204099,"body_markdown":"Please show the pom file of the plugin?","body":"Please show the pom file of the plugin?"},{"owner":{"account_id":3375783,"reputation":1620,"user_id":2833924,"accept_rate":56,"display_name":"siom"},"score":0,"creation_date":1689434975,"post_id":76687337,"comment_id":135214610,"body_markdown":"This is the pom.xml: https://github.com/siom79/jasyncapicmp/blob/main/jasyncapicmp-maven-plugin/pom.xml","body":"This is the pom.xml: <a href=\"https://github.com/siom79/jasyncapicmp/blob/main/jasyncapicmp-maven-plugin/pom.xml\" rel=\"nofollow noreferrer\">github.com/siom79/jasyncapicmp/blob/main/&hellip;</a>"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1689503550,"post_id":76687337,"comment_id":135220066,"body_markdown":"The first things I see you have not defined all plugin version in your parent.. (for example surefire plugin, you are not using the most recent versions of plugins( and even worse you have defined different plugin versions in your modules etc... also I can not reproduce the issue...Can you please show how you started your build? Have you run your build from inside your IDE or on plain command line? Also post the full output while getting the error unfortunately I can not recognize where exactly the failure has happened?","body":"The first things I see you have not defined all plugin version in your parent.. (for example surefire plugin, you are not using the most recent versions of plugins( and even worse you have defined different plugin versions in your modules etc... also I can not reproduce the issue...Can you please show how you started your build? Have you run your build from inside your IDE or on plain command line? Also post the full output while getting the error unfortunately I can not recognize where exactly the failure has happened?"},{"owner":{"account_id":3375783,"reputation":1620,"user_id":2833924,"accept_rate":56,"display_name":"siom"},"score":0,"creation_date":1689579775,"post_id":76687337,"comment_id":135227874,"body_markdown":"You can reproduce it by: git clone https://github.com/siom79/jasyncapicmp.git, cd jasyncapicmp, edit pom.xml and change the properties maven.compiler.* from 11 to 17 and run mvn clean package.","body":"You can reproduce it by: git clone <a href=\"https://github.com/siom79/jasyncapicmp.git\" rel=\"nofollow noreferrer\">github.com/siom79/jasyncapicmp.git</a>, cd jasyncapicmp, edit pom.xml and change the properties maven.compiler.* from 11 to 17 and run mvn clean package."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1689589081,"post_id":76687337,"comment_id":135229761,"body_markdown":"Upgrade maven-plugin-plugin and maven-plugin-annotations to most recent version....(3.9.0)... what will fix. Use `&lt;maven.compiler.release&gt;17&lt;/maven.compiler.release&gt;`. instead of source/target...","body":"Upgrade maven-plugin-plugin and maven-plugin-annotations to most recent version....(3.9.0)... what will fix. Use <code>&lt;maven.compiler.release&gt;17&lt;&#47;maven.compiler.release&gt;</code>. instead of source/target..."},{"owner":{"account_id":3375783,"reputation":1620,"user_id":2833924,"accept_rate":56,"display_name":"siom"},"score":0,"creation_date":1689671777,"post_id":76687337,"comment_id":135243310,"body_markdown":"After updating to 3.9.0 and maven.compiler.release I get the same issue: Unsupported class file major version 61","body":"After updating to 3.9.0 and maven.compiler.release I get the same issue: Unsupported class file major version 61"}],"owner":{"account_id":3375783,"reputation":1620,"user_id":2833924,"accept_rate":56,"display_name":"siom"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":718,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1689334895,"creation_date":1689334895,"question_id":76687337,"body_markdown":"I want to develop a maven plugin with Java 17. Therefore I have created a maven module using the archetype:\r\n```bash\r\nmvn archetype:generate -DgroupId=com.github.siom79.jasyncapicmp -DartifactId=jasyncapicmp-maven-plugin -DarchetypeGroupId=org.apache.maven.archetypes -DarchetypeArtifactId=maven-archetype-plugin\r\n```\r\nThe maven version was updated to 3.9.2.\r\nI have also included a dependency to a library build with Java 17.\r\n\r\nWhen I run `mvn clean install -X` I get the following exception:\r\n```\r\nCaused by: java.lang.IllegalArgumentException: Unsupported class file major version 61\r\n    at org.objectweb.asm.ClassReader.&lt;init&gt; (ClassReader.java:184)\r\n    at org.objectweb.asm.ClassReader.&lt;init&gt; (ClassReader.java:166)\r\n    at org.objectweb.asm.ClassReader.&lt;init&gt; (ClassReader.java:152)\r\n    at org.objectweb.asm.ClassReader.&lt;init&gt; (ClassReader.java:273)\r\n    at org.apache.maven.tools.plugin.extractor.annotations.scanner.DefaultMojoAnnotationsScanner.analyzeClassStream (DefaultMojoAnnotationsScanner.java:207)\r\n    at org.apache.maven.tools.plugin.extractor.annotations.scanner.DefaultMojoAnnotationsScanner.scanArchive (DefaultMojoAnnotationsScanner.java:142)\r\n    at org.apache.maven.tools.plugin.extractor.annotations.scanner.DefaultMojoAnnotationsScanner.scan (DefaultMojoAnnotationsScanner.java:111)\r\n    at org.apache.maven.tools.plugin.extractor.annotations.scanner.DefaultMojoAnnotationsScanner.scan (DefaultMojoAnnotationsScanner.java:78)\r\n    at org.apache.maven.tools.plugin.extractor.annotations.JavaAnnotationsMojoDescriptorExtractor.scanAnnotations (JavaAnnotationsMojoDescriptorExtractor.java:124)\r\n    at org.apache.maven.tools.plugin.extractor.annotations.JavaAnnotationsMojoDescriptorExtractor.execute (JavaAnnotationsMojoDescriptorExtractor.java:103)\r\n    at org.apache.maven.tools.plugin.scanner.DefaultMojoScanner.populatePluginDescriptor (DefaultMojoScanner.java:96)\r\n    at org.apache.maven.plugin.plugin.AbstractGeneratorMojo.execute (AbstractGeneratorMojo.java:260)\r\n    at org.apache.maven.plugin.plugin.HelpGeneratorMojo.execute (HelpGeneratorMojo.java:92)\r\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:126)\r\n[...]\r\n\r\n```\r\nLooks like the asm `ClassReader` cannot parse class files compiled with Java 17.\r\nForcing the asm library to a new version via `dependencyManagement` didn&#39;t succeed.\r\n\r\nAnyone an idea how to solve this issue?","title":"Maven plugin with Java 17","body":"<p>I want to develop a maven plugin with Java 17. Therefore I have created a maven module using the archetype:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>mvn archetype:generate -DgroupId=com.github.siom79.jasyncapicmp -DartifactId=jasyncapicmp-maven-plugin -DarchetypeGroupId=org.apache.maven.archetypes -DarchetypeArtifactId=maven-archetype-plugin\n</code></pre>\n<p>The maven version was updated to 3.9.2.\nI have also included a dependency to a library build with Java 17.</p>\n<p>When I run <code>mvn clean install -X</code> I get the following exception:</p>\n<pre><code>Caused by: java.lang.IllegalArgumentException: Unsupported class file major version 61\n    at org.objectweb.asm.ClassReader.&lt;init&gt; (ClassReader.java:184)\n    at org.objectweb.asm.ClassReader.&lt;init&gt; (ClassReader.java:166)\n    at org.objectweb.asm.ClassReader.&lt;init&gt; (ClassReader.java:152)\n    at org.objectweb.asm.ClassReader.&lt;init&gt; (ClassReader.java:273)\n    at org.apache.maven.tools.plugin.extractor.annotations.scanner.DefaultMojoAnnotationsScanner.analyzeClassStream (DefaultMojoAnnotationsScanner.java:207)\n    at org.apache.maven.tools.plugin.extractor.annotations.scanner.DefaultMojoAnnotationsScanner.scanArchive (DefaultMojoAnnotationsScanner.java:142)\n    at org.apache.maven.tools.plugin.extractor.annotations.scanner.DefaultMojoAnnotationsScanner.scan (DefaultMojoAnnotationsScanner.java:111)\n    at org.apache.maven.tools.plugin.extractor.annotations.scanner.DefaultMojoAnnotationsScanner.scan (DefaultMojoAnnotationsScanner.java:78)\n    at org.apache.maven.tools.plugin.extractor.annotations.JavaAnnotationsMojoDescriptorExtractor.scanAnnotations (JavaAnnotationsMojoDescriptorExtractor.java:124)\n    at org.apache.maven.tools.plugin.extractor.annotations.JavaAnnotationsMojoDescriptorExtractor.execute (JavaAnnotationsMojoDescriptorExtractor.java:103)\n    at org.apache.maven.tools.plugin.scanner.DefaultMojoScanner.populatePluginDescriptor (DefaultMojoScanner.java:96)\n    at org.apache.maven.plugin.plugin.AbstractGeneratorMojo.execute (AbstractGeneratorMojo.java:260)\n    at org.apache.maven.plugin.plugin.HelpGeneratorMojo.execute (HelpGeneratorMojo.java:92)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:126)\n[...]\n\n</code></pre>\n<p>Looks like the asm <code>ClassReader</code> cannot parse class files compiled with Java 17.\nForcing the asm library to a new version via <code>dependencyManagement</code> didn't succeed.</p>\n<p>Anyone an idea how to solve this issue?</p>\n"},{"tags":["java","spring-boot","gradle","build","spring-initializr"],"answers":[{"tags":[],"owner":{"account_id":14202137,"reputation":78,"user_id":10259764,"display_name":"desa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689334711,"creation_date":1689250463,"answer_id":76679260,"question_id":76623583,"body_markdown":"For ref: I&#39;m using VS Code on a MacBook 2020. Using id &#39;org.springframework.boot&#39; version &#39;2.7.13&#39;.\r\n\r\nI just had the same issue. I solved it by creating a `gradle.properties` file in the root of the project and adding this: \r\n```\r\norg.gradle.java.home=&lt;myPathTo&gt;openjdk@17/17.0.7/libexec/openjdk.jdk/Contents/Home/\r\n```\r\nAfterwards, I made sure that port :8080 was available, and then I succeeded running `gradle bootRun` / or executing it using the extension in VSCode.\r\n\r\n\r\n*Between every change I did, I ran the build.clean task which made it clear for me that port 8080 was occupied.*\r\n\r\n-----\r\nFor &#39;org.springframework.boot&#39; version &#39;3.1.1&#39; I followed a combination of the answer from [Vifeng][1] in this [link][2] and my answer above.  \r\n\r\n\r\n  [1]: https://github.com/vifeng\r\n  [2]: https://github.com/redhat-developer/vscode-java/issues/3094","title":"Gradle build is getting failed when i tried to build a spring boot project","body":"<p>For ref: I'm using VS Code on a MacBook 2020. Using id 'org.springframework.boot' version '2.7.13'.</p>\n<p>I just had the same issue. I solved it by creating a <code>gradle.properties</code> file in the root of the project and adding this:</p>\n<pre><code>org.gradle.java.home=&lt;myPathTo&gt;openjdk@17/17.0.7/libexec/openjdk.jdk/Contents/Home/\n</code></pre>\n<p>Afterwards, I made sure that port :8080 was available, and then I succeeded running <code>gradle bootRun</code> / or executing it using the extension in VSCode.</p>\n<p><em>Between every change I did, I ran the build.clean task which made it clear for me that port 8080 was occupied.</em></p>\n<hr />\n<p>For 'org.springframework.boot' version '3.1.1' I followed a combination of the answer from <a href=\"https://github.com/vifeng\" rel=\"nofollow noreferrer\">Vifeng</a> in this <a href=\"https://github.com/redhat-developer/vscode-java/issues/3094\" rel=\"nofollow noreferrer\">link</a> and my answer above.</p>\n"}],"owner":{"account_id":28958149,"reputation":21,"user_id":22181262,"display_name":"Suraj Bhagat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":785,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1689334711,"creation_date":1688586168,"question_id":76623583,"body_markdown":"\r\nA problem occurred configuring root project &#39;Task_Manager &#39;.\r\n&gt; Could not resolve all files for configuration &#39;:classpath&#39;.\r\n   &gt; Could not resolve org.springframework.boot:spring-boot-gradle-plugin:3.1.1.\r\n     Required by:\r\n         project : &gt; org.springframework.boot:org.springframework.boot.gradle.plugin:3.1.1\r\n      &gt; No matching variant of org.springframework.boot:spring-boot-gradle-plugin:3.1.1 was found. The consumer was configured to find a library for use during runtime, compatible with Java 8, packaged as a jar, and its dependencies declared externally, as well as attribute &#39;org.gradle.plugin.api-version&#39; with value &#39;8.1.1&#39; but:\r\n          - Variant &#39;apiElements&#39; capability org.springframework.boot:spring-boot-gradle-plugin:3.1.1 declares a library, packaged as a jar, and its dependencies declared externally:\r\n              - Incompatible because this component declares a component for use during compile-time, compatible with Java 17 and the consumer needed a component for use during runtime, compatible with Java 8\r\n              - Other compatible attribute:\r\n                  - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;8.1.1&#39;)\r\n          - Variant &#39;javadocElements&#39; capability org.springframework.boot:spring-boot-gradle-plugin:3.1.1 declares a component for use during runtime, and its dependencies declared externally:\r\n              - Incompatible because this component declares documentation and the consumer needed a library\r\n              - Other compatible attributes:\r\n                  - Doesn&#39;t say anything about its target Java version (required compatibility with Java 8)\r\n                  - Doesn&#39;t say anything about its elements (required them packaged as a jar)\r\n                  - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;8.1.1&#39;)\r\n          - Variant &#39;mavenOptionalApiElements&#39; capability org.springframework.boot:spring-boot-gradle-plugin-maven-optional:3.1.1 declares a library, packaged as a jar, and its dependencies declared externally:\r\n              - Incompatible because this component declares a component for use during compile-time, compatible with Java 17 and the consumer needed a component for use during runtime, compatible with Java 8\r\n              - Other compatible attribute:\r\n                  - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;8.1.1&#39;)\r\n          - Variant &#39;mavenOptionalRuntimeElements&#39; capability org.springframework.boot:spring-boot-gradle-plugin-maven-optional:3.1.1 declares a library for use during runtime, packaged as a jar, and its dependencies declared externally:\r\n              - Incompatible because this component declares a component, compatible with Java 17 and the consumer needed a component, compatible with Java 8\r\n              - Other compatible attribute:\r\n                  - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;8.1.1&#39;)\r\n          - Variant &#39;runtimeElements&#39; capability org.springframework.boot:spring-boot-gradle-plugin:3.1.1 declares a library for use during runtime, packaged as a jar, and its dependencies declared externally:\r\n              - Incompatible because this component declares a component, compatible with Java 17 and the consumer needed a component, compatible with Java 8\r\n              - Other compatible attribute:\r\n                  - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;8.1.1&#39;)\r\n          - Variant &#39;sourcesElements&#39; capability org.springframework.boot:spring-boot-gradle-plugin:3.1.1 declares a component for use during runtime, and its dependencies declared externally:\r\n              - Incompatible because this component declares documentation and the consumer needed a library\r\n              - Other compatible attributes:\r\n                  - Doesn&#39;t say anything about its target Java version (required compatibility with Java 8)\r\n                  - Doesn&#39;t say anything about its elements (required them packaged as a jar)\r\n                  - Doesn&#39;t say anything about org.gradle.plugin.api-version (required &#39;8.1.1&#39;)\r\n\r\n","title":"Gradle build is getting failed when i tried to build a spring boot project","body":"<p>A problem occurred configuring root project 'Task_Manager '.</p>\n<blockquote>\n<p>Could not resolve all files for configuration ':classpath'.\nCould not resolve org.springframework.boot:spring-boot-gradle-plugin:3.1.1.\nRequired by:\nproject : &gt; org.springframework.boot:org.springframework.boot.gradle.plugin:3.1.1\n&gt; No matching variant of org.springframework.boot:spring-boot-gradle-plugin:3.1.1 was found. The consumer was configured to find a library for use during runtime, compatible with Java 8, packaged as a jar, and its dependencies declared externally, as well as attribute 'org.gradle.plugin.api-version' with value '8.1.1' but:\n- Variant 'apiElements' capability org.springframework.boot:spring-boot-gradle-plugin:3.1.1 declares a library, packaged as a jar, and its dependencies declared externally:\n- Incompatible because this component declares a component for use during compile-time, compatible with Java 17 and the consumer needed a component for use during runtime, compatible with Java 8\n- Other compatible attribute:\n- Doesn't say anything about org.gradle.plugin.api-version (required '8.1.1')\n- Variant 'javadocElements' capability org.springframework.boot:spring-boot-gradle-plugin:3.1.1 declares a component for use during runtime, and its dependencies declared externally:\n- Incompatible because this component declares documentation and the consumer needed a library\n- Other compatible attributes:\n- Doesn't say anything about its target Java version (required compatibility with Java 8)\n- Doesn't say anything about its elements (required them packaged as a jar)\n- Doesn't say anything about org.gradle.plugin.api-version (required '8.1.1')\n- Variant 'mavenOptionalApiElements' capability org.springframework.boot:spring-boot-gradle-plugin-maven-optional:3.1.1 declares a library, packaged as a jar, and its dependencies declared externally:\n- Incompatible because this component declares a component for use during compile-time, compatible with Java 17 and the consumer needed a component for use during runtime, compatible with Java 8\n- Other compatible attribute:\n- Doesn't say anything about org.gradle.plugin.api-version (required '8.1.1')\n- Variant 'mavenOptionalRuntimeElements' capability org.springframework.boot:spring-boot-gradle-plugin-maven-optional:3.1.1 declares a library for use during runtime, packaged as a jar, and its dependencies declared externally:\n- Incompatible because this component declares a component, compatible with Java 17 and the consumer needed a component, compatible with Java 8\n- Other compatible attribute:\n- Doesn't say anything about org.gradle.plugin.api-version (required '8.1.1')\n- Variant 'runtimeElements' capability org.springframework.boot:spring-boot-gradle-plugin:3.1.1 declares a library for use during runtime, packaged as a jar, and its dependencies declared externally:\n- Incompatible because this component declares a component, compatible with Java 17 and the consumer needed a component, compatible with Java 8\n- Other compatible attribute:\n- Doesn't say anything about org.gradle.plugin.api-version (required '8.1.1')\n- Variant 'sourcesElements' capability org.springframework.boot:spring-boot-gradle-plugin:3.1.1 declares a component for use during runtime, and its dependencies declared externally:\n- Incompatible because this component declares documentation and the consumer needed a library\n- Other compatible attributes:\n- Doesn't say anything about its target Java version (required compatibility with Java 8)\n- Doesn't say anything about its elements (required them packaged as a jar)\n- Doesn't say anything about org.gradle.plugin.api-version (required '8.1.1')</p>\n</blockquote>\n"},{"tags":["java","joptionpane"],"comments":[{"owner":{"account_id":1083854,"reputation":13775,"user_id":1080064,"accept_rate":43,"display_name":"tkausl"},"score":1,"creation_date":1689044929,"post_id":76658467,"comment_id":135153987,"body_markdown":"Because most users are used to popup windows and forms and don&#39;t like to work with a console window.","body":"Because most users are used to popup windows and forms and don&#39;t like to work with a console window."},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1689047654,"post_id":76658467,"comment_id":135154159,"body_markdown":"You don&#39;t *need* it. Why do you think otherwise?","body":"You don&#39;t <i>need</i> it. Why do you think otherwise?"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1689053420,"post_id":76658467,"comment_id":135154662,"body_markdown":"... because it would be strange when working in Microsoft Word and then having to go to a console window to select font style and size? Not all programs are console-based, some have a graphical user interface (GUI), and when working in a program with a GUI it would be strange to have to enter some information in a console window.","body":"... because it would be strange when working in Microsoft Word and then having to go to a console window to select font style and size? Not all programs are console-based, some have a graphical user interface (GUI), and when working in a program with a GUI it would be strange to have to enter some information in a console window."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1689062631,"post_id":76658467,"comment_id":135156179,"body_markdown":"[JOptionPane](https://docs.oracle.com/javase/tutorial/uiswing/components/dialog.html) is actually intended for use in _Swing_ applications - even though they can be used in console applications. For a console application, printing messages (using [System.out.println](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/System.html#out)) is preferable (in my opinion), as is getting user input via class `Scanner` (again, in a console application). In other words, for a console application, you do not need to use `JOptionPane`.","body":"<a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/dialog.html\" rel=\"nofollow noreferrer\">JOptionPane</a> is actually intended for use in <i>Swing</i> applications - even though they can be used in console applications. For a console application, printing messages (using <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/System.html#out\" rel=\"nofollow noreferrer\">System.out.println</a>) is preferable (in my opinion), as is getting user input via class <code>Scanner</code> (again, in a console application). In other words, for a console application, you do not need to use <code>JOptionPane</code>."}],"owner":{"account_id":23841104,"reputation":1,"user_id":17846140,"display_name":"Akshat gupta"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689334704,"creation_date":1689044570,"question_id":76658467,"body_markdown":"This question is regarding Java. Why do we need JOptionPane class to print messages in a separate window when I can simply write the messages using System.out.println and take user input via scanner class?\r\n\r\nI am a beginner and while programming I could not find any significant use of the class JOptionpane as the messages could otherwise also be printed via S.o.p. Pls tell why is it important to have the class JOptionpane to print messages and take user input.","title":"Why do we need JOptionPane class to print messages in a separate window?","body":"<p>This question is regarding Java. Why do we need JOptionPane class to print messages in a separate window when I can simply write the messages using System.out.println and take user input via scanner class?</p>\n<p>I am a beginner and while programming I could not find any significant use of the class JOptionpane as the messages could otherwise also be printed via S.o.p. Pls tell why is it important to have the class JOptionpane to print messages and take user input.</p>\n"},{"tags":["java","loops","keyword"],"comments":[{"owner":{"account_id":2811636,"reputation":1706,"user_id":2417756,"accept_rate":80,"display_name":"Waclock"},"score":0,"creation_date":1401571482,"post_id":23974620,"comment_id":36938764,"body_markdown":"You could use &quot;while&quot; instead of for, for the second loop","body":"You could use &quot;while&quot; instead of for, for the second loop"},{"owner":{"account_id":3911361,"reputation":431,"user_id":3236587,"display_name":"Sumit Tyagi"},"score":1,"creation_date":1401571815,"post_id":23974620,"comment_id":36938828,"body_markdown":"add break; statement in your if condition. break always transfer control out to the current loop only. In your case if you put break statement in if block then it will always take you out to first loop.","body":"add break; statement in your if condition. break always transfer control out to the current loop only. In your case if you put break statement in if block then it will always take you out to first loop."}],"answers":[{"tags":[],"owner":{"account_id":2017069,"reputation":3946,"user_id":1804124,"accept_rate":100,"display_name":"Spundun"},"down_vote_count":3,"up_vote_count":2,"is_accepted":false,"score":-1,"last_activity_date":1401571567,"creation_date":1401571567,"answer_id":23974631,"question_id":23974620,"body_markdown":"No. Use `break` . That will break you out of the inner loop and you&#39;ll continue with the outer loop.\r\n\r\n    for(Object o : objects){//first loop\r\n      for(int j = 0; i &lt; y; j++){//second loop\r\n        if(something_is_true) break;\r\n      }\r\n    }","title":"Continue at first loop , inside the second loop","body":"<p>No. Use <code>break</code> . That will break you out of the inner loop and you'll continue with the outer loop.</p>\n\n<pre><code>for(Object o : objects){//first loop\n  for(int j = 0; i &lt; y; j++){//second loop\n    if(something_is_true) break;\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2149234,"reputation":2245,"user_id":1906108,"accept_rate":100,"display_name":"D&#225;vid Szab&#243;"},"down_vote_count":2,"up_vote_count":5,"is_accepted":true,"score":3,"last_activity_date":1401571856,"creation_date":1401571567,"answer_id":23974632,"question_id":23974620,"body_markdown":"No, use &#39;break&#39;.\r\n\r\n    for(Object o : objects){//first loop\r\n      for(int j = 0; i &lt; y; j++){//second loop\r\n    \r\n        if(something_is_true)\r\n           break;\r\n    \r\n      }\r\n    }","title":"Continue at first loop , inside the second loop","body":"<p>No, use 'break'.</p>\n\n<pre><code>for(Object o : objects){//first loop\n  for(int j = 0; i &lt; y; j++){//second loop\n\n    if(something_is_true)\n       break;\n\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3860107,"reputation":1296,"user_id":3198050,"accept_rate":82,"display_name":"Luis Alves"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1401571589,"creation_date":1401571589,"answer_id":23974633,"question_id":23974620,"body_markdown":"If your objective is to get out of the second loop and continue the first you just need to call break. No need for continue (it&#39;s not even called).\r\n","title":"Continue at first loop , inside the second loop","body":"<p>If your objective is to get out of the second loop and continue the first you just need to call break. No need for continue (it's not even called).</p>\n"},{"tags":[],"owner":{"account_id":2811636,"reputation":1706,"user_id":2417756,"accept_rate":80,"display_name":"Waclock"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1401571609,"creation_date":1401571609,"answer_id":23974636,"question_id":23974620,"body_markdown":"You couuld use &quot;while&quot; instead of &quot;for&quot;, for the second loop:\r\n\r\n    for(Object o : objects){//first loop\r\n      int counter=0;\r\n      while(!something_is_true &amp;&amp; counter&lt;y){//second loop\r\n        counter++\r\n        if(something happens)\r\n          something_is_true=true;\r\n     }\r\n    }","title":"Continue at first loop , inside the second loop","body":"<p>You couuld use \"while\" instead of \"for\", for the second loop:</p>\n\n<pre><code>for(Object o : objects){//first loop\n  int counter=0;\n  while(!something_is_true &amp;&amp; counter&lt;y){//second loop\n    counter++\n    if(something happens)\n      something_is_true=true;\n }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1376461,"reputation":1295,"user_id":3403689,"accept_rate":88,"display_name":"padawan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1401571866,"creation_date":1401571866,"answer_id":23974651,"question_id":23974620,"body_markdown":"I think this is a better approach:\r\n\r\n    for(Object o : objects)\r\n    {\r\n         int j = 0\r\n         while(j &lt; y &amp;&amp; something_is_true)\r\n         {\r\n           do_whatever;\r\n           j++;\r\n         }\r\n    }\r\n\r\n","title":"Continue at first loop , inside the second loop","body":"<p>I think this is a better approach:</p>\n\n<pre><code>for(Object o : objects)\n{\n     int j = 0\n     while(j &lt; y &amp;&amp; something_is_true)\n     {\n       do_whatever;\n       j++;\n     }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1277868,"reputation":4185,"user_id":1232720,"accept_rate":86,"display_name":"Jos&#233; D."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1401571885,"creation_date":1401571885,"answer_id":23974655,"question_id":23974620,"body_markdown":"From https://stackoverflow.com/questions/886955/breaking-out-of-nested-loops-in-java\r\n\r\nYou can use `break` with a label for the outer loop. For example:\r\n\r\n    public class Test {\r\n      public static void main(String[] args) {\r\n        outerloop:\r\n        for (int i=0; i &lt; 5; i++) {\r\n          for (int j=0; j &lt; 5; j++) {\r\n            if (i * j &gt; 6) {\r\n              System.out.println(&quot;Breaking&quot;);\r\n              break outerloop;\r\n            }\r\n            System.out.println(i + &quot; &quot; + j);\r\n          }\r\n        }\r\n        System.out.println(&quot;Done&quot;);\r\n      }\r\n    }\r\n\r\nThis prints:\r\n\r\n    0 0\r\n    0 1\r\n    0 2\r\n    0 3\r\n    0 4\r\n    1 0\r\n    1 1\r\n    1 2\r\n    1 3\r\n    1 4\r\n    2 0\r\n    2 1\r\n    2 2\r\n    2 3\r\n    Breaking\r\n    Done\r\n\r\n","title":"Continue at first loop , inside the second loop","body":"<p>From <a href=\"https://stackoverflow.com/questions/886955/breaking-out-of-nested-loops-in-java\">Breaking out of nested loops in Java</a></p>\n\n<p>You can use <code>break</code> with a label for the outer loop. For example:</p>\n\n<pre><code>public class Test {\n  public static void main(String[] args) {\n    outerloop:\n    for (int i=0; i &lt; 5; i++) {\n      for (int j=0; j &lt; 5; j++) {\n        if (i * j &gt; 6) {\n          System.out.println(\"Breaking\");\n          break outerloop;\n        }\n        System.out.println(i + \" \" + j);\n      }\n    }\n    System.out.println(\"Done\");\n  }\n}\n</code></pre>\n\n<p>This prints:</p>\n\n<pre><code>0 0\n0 1\n0 2\n0 3\n0 4\n1 0\n1 1\n1 2\n1 3\n1 4\n2 0\n2 1\n2 2\n2 3\nBreaking\nDone\n</code></pre>\n"},{"tags":[],"owner":{"account_id":985197,"reputation":12521,"user_id":1003886,"accept_rate":66,"display_name":"kajacx"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1401571902,"creation_date":1401571902,"answer_id":23974657,"question_id":23974620,"body_markdown":"You can also use a `label`:\r\n\r\n    myLabel: for(Object o : objects){//first loop\r\n        for(int j = 0; i &lt; y; j++){//second loop\r\n        \r\n            if(something_is_true) {\r\n                continue myLabel;\r\n            }\r\n        }\r\n        //code that will be skipped if you continue to myLabel\r\n        //but will not be skipped if you &#39;break&#39; inside inner loop.\r\n    }","title":"Continue at first loop , inside the second loop","body":"<p>You can also use a <code>label</code>:</p>\n\n<pre><code>myLabel: for(Object o : objects){//first loop\n    for(int j = 0; i &lt; y; j++){//second loop\n\n        if(something_is_true) {\n            continue myLabel;\n        }\n    }\n    //code that will be skipped if you continue to myLabel\n    //but will not be skipped if you 'break' inside inner loop.\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25749235,"reputation":11,"user_id":19502023,"display_name":"Javad NR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689334608,"creation_date":1689330616,"answer_id":76686848,"question_id":23974620,"body_markdown":"also you can use [javascript labels][1].\r\n\r\nits better choice if you do something after the inner loop inside each iteration of the outer loop, and you want to skip it and go to next outer loop iteration:\r\n\r\n\r\n\r\n    loop1: // an identifier to the first loop statement\r\n    for (...) {\r\n       for (...) {\r\n          if (...) continue loop1;\r\n       }\r\n       doSomething() // this also skips as well\r\n    }\r\n\r\nbut if you use `break;` to terminate the execution of inner loop, the part after the inner loop (`doSomething()` in the example above) still executes before the next iteration of outer loop start.\r\n\r\n\r\n  [1]: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/label","title":"Continue at first loop , inside the second loop","body":"<p>also you can use <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/label\" rel=\"nofollow noreferrer\">javascript labels</a>.</p>\n<p>its better choice if you do something after the inner loop inside each iteration of the outer loop, and you want to skip it and go to next outer loop iteration:</p>\n<pre><code>loop1: // an identifier to the first loop statement\nfor (...) {\n   for (...) {\n      if (...) continue loop1;\n   }\n   doSomething() // this also skips as well\n}\n</code></pre>\n<p>but if you use <code>break;</code> to terminate the execution of inner loop, the part after the inner loop (<code>doSomething()</code> in the example above) still executes before the next iteration of outer loop start.</p>\n"}],"owner":{"account_id":4329990,"reputation":135,"user_id":3535778,"accept_rate":80,"display_name":"user3535778"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6340,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":23974632,"answer_count":8,"score":3,"last_activity_date":1689334608,"creation_date":1401571394,"question_id":23974620,"body_markdown":"This will help you understand it better:\r\n\r\n    for(Object o : objects){//first loop\r\n        for(int j = 0; i &lt; y; j++){//second loop\r\n\r\n            if(something_is_true)\r\n                stop second loop , continue first loop \r\n\r\n        }\r\n    }\r\n\r\nAm i supposed to use the continue keyword for that&quot;?","title":"Continue at first loop , inside the second loop","body":"<p>This will help you understand it better:</p>\n\n<pre><code>for(Object o : objects){//first loop\n    for(int j = 0; i &lt; y; j++){//second loop\n\n        if(something_is_true)\n            stop second loop , continue first loop \n\n    }\n}\n</code></pre>\n\n<p>Am i supposed to use the continue keyword for that\"?</p>\n"},{"tags":["java","spring-boot","spring-mvc","request-mapping"],"comments":[{"owner":{"account_id":14999839,"reputation":138,"user_id":10827862,"display_name":"smileis2333"},"score":0,"creation_date":1689586706,"post_id":76687011,"comment_id":135229265,"body_markdown":"do you place all of them into  the same module(same spring context)? The common deal is split api declaretion ,  its client and its server implement  to three modules(so there is no need to process context problem).","body":"do you place all of them into  the same module(same spring context)? The common deal is split api declaretion ,  its client and its server implement  to three modules(so there is no need to process context problem)."},{"owner":{"account_id":419537,"reputation":4992,"user_id":796761,"accept_rate":50,"display_name":"dbreaux"},"score":0,"creation_date":1689611987,"post_id":76687011,"comment_id":135234927,"body_markdown":"Why add RequestMapping to an interface, particularly when you intend to have classes implement that interface that are not expecting to serve web requests? Seems like a confusing pattern at best. You could, for instance, have a base server-side implementation class and add the common mappings there.","body":"Why add RequestMapping to an interface, particularly when you intend to have classes implement that interface that are not expecting to serve web requests? Seems like a confusing pattern at best. You could, for instance, have a base server-side implementation class and add the common mappings there."},{"owner":{"account_id":5797834,"reputation":2627,"user_id":4573065,"accept_rate":100,"display_name":"ST-DDT"},"score":0,"creation_date":1689675984,"post_id":76687011,"comment_id":135244176,"body_markdown":"The idea behind using the interface is that you have the controller implement the interface and generate a client using the annotations. The annotations are on the interface to ensure that there aren&#39;t any incompatible changes between the controller and the client.","body":"The idea behind using the interface is that you have the controller implement the interface and generate a client using the annotations. The annotations are on the interface to ensure that there aren&#39;t any incompatible changes between the controller and the client."},{"owner":{"account_id":5797834,"reputation":2627,"user_id":4573065,"accept_rate":100,"display_name":"ST-DDT"},"score":0,"creation_date":1689676039,"post_id":76687011,"comment_id":135244187,"body_markdown":"The client implementation would be done via JDK Proxies. There I have access to the method reflection and thus can analyze it what properties needs to be added where. And my colleagues and I can no longer forget about updating our service methods and no longer have to worry about typos or incorrect formatting of parameters.","body":"The client implementation would be done via JDK Proxies. There I have access to the method reflection and thus can analyze it what properties needs to be added where. And my colleagues and I can no longer forget about updating our service methods and no longer have to worry about typos or incorrect formatting of parameters."},{"owner":{"account_id":5797834,"reputation":2627,"user_id":4573065,"accept_rate":100,"display_name":"ST-DDT"},"score":0,"creation_date":1689677812,"post_id":76687011,"comment_id":135244552,"body_markdown":"The client is currently implemented in a separate package, in the future it will be generated as runtime bean. The interface is in a shared jar used by both server and client. Since the client inherits the methods, it also inherits the annotations. And since the client service is also a web service it tries to map the client methods as well.","body":"The client is currently implemented in a separate package, in the future it will be generated as runtime bean. The interface is in a shared jar used by both server and client. Since the client inherits the methods, it also inherits the annotations. And since the client service is also a web service it tries to map the client methods as well."}],"owner":{"account_id":5797834,"reputation":2627,"user_id":4573065,"accept_rate":100,"display_name":"ST-DDT"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1689334436,"creation_date":1689332175,"question_id":76687011,"body_markdown":"I have a library that contains the DTO and service interface.\r\n\r\n````java\r\n@RequestMappping(&quot;/api/foo&quot;)\r\npublic interface FooApi {\r\n\r\n   @GetMapping(&quot;/{id}&quot;)\r\n   Foo getFooById(@pathVariable long id);\r\n\r\n}\r\n````\r\n\r\nThe server implements that interface:\r\n\r\n````java\r\n@RestController\r\npublic FooController implements FooApi {\r\n\r\n    Foo getFooById(long id) {\r\n         return fooService.getById(id);\r\n    }\r\n\r\n}\r\n````\r\n\r\nAnd I have clients that also implement that interface:\r\n\r\n````java\r\n@Component\r\npublic FooClient implements FooApi {\r\n\r\n    Foo getFooById(long id) {\r\n         return restTemplate.getObject(baseUrl + &quot;/api/foo/{id}&quot;, ...);\r\n    }\r\n\r\n}\r\n````\r\n\r\n(in the future the client implementation will get derived from the annotations at runtime: `clientFactory.createInstance(FooApi.class)`) \r\n\r\nIs there a way to tell Spring to not treat the `FooClient` as a Controller, because I didn&#39;t annotate it as such?\r\n(Without removing the `@RequestMapping`s from the `FooApi` interface entirely?)\r\n\r\nI&#39;m using Spring-Boot 2.7.","title":"Spring adds request mappings for beans that aren&#39;t annotated with @Controller","body":"<p>I have a library that contains the DTO and service interface.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RequestMappping(&quot;/api/foo&quot;)\npublic interface FooApi {\n\n   @GetMapping(&quot;/{id}&quot;)\n   Foo getFooById(@pathVariable long id);\n\n}\n</code></pre>\n<p>The server implements that interface:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\npublic FooController implements FooApi {\n\n    Foo getFooById(long id) {\n         return fooService.getById(id);\n    }\n\n}\n</code></pre>\n<p>And I have clients that also implement that interface:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic FooClient implements FooApi {\n\n    Foo getFooById(long id) {\n         return restTemplate.getObject(baseUrl + &quot;/api/foo/{id}&quot;, ...);\n    }\n\n}\n</code></pre>\n<p>(in the future the client implementation will get derived from the annotations at runtime: <code>clientFactory.createInstance(FooApi.class)</code>)</p>\n<p>Is there a way to tell Spring to not treat the <code>FooClient</code> as a Controller, because I didn't annotate it as such?\n(Without removing the <code>@RequestMapping</code>s from the <code>FooApi</code> interface entirely?)</p>\n<p>I'm using Spring-Boot 2.7.</p>\n"},{"tags":["java","apache-spark","google-bigquery","apache-spark-sql"],"comments":[{"owner":{"account_id":30369,"reputation":30094,"user_id":82804,"accept_rate":72,"display_name":"David Rabinowitz"},"score":2,"creation_date":1670016494,"post_id":74655855,"comment_id":131782822,"body_markdown":"We are working on it and json support will be released soon","body":"We are working on it and json support will be released soon"},{"owner":{"account_id":21381582,"reputation":1706,"user_id":15747414,"display_name":"Prajna Rai T"},"score":0,"creation_date":1670489292,"post_id":74655855,"comment_id":131888504,"body_markdown":"Hi @B-Brennan, I have posted the answer as Community wiki. So If my answer addressed your question, please consider upvoting and accepting it. If not, let me know so that the answer can be improved. Accepting an answer will help the community members with their research as well.","body":"Hi @B-Brennan, I have posted the answer as Community wiki. So If my answer addressed your question, please consider upvoting and accepting it. If not, let me know so that the answer can be improved. Accepting an answer will help the community members with their research as well."}],"answers":[{"tags":[],"owner":{"account_id":21381582,"reputation":1706,"user_id":15747414,"display_name":"Prajna Rai T"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1670148678,"creation_date":1670148678,"answer_id":74674530,"question_id":74655855,"body_markdown":"As @DavidRabinowitz mentioned in the comment, feature to insert JSON type data into BigQuery using `spark-bigquery-connector` will be released soon.\r\n\r\nAll the updates regarding the BigQuery features will be updated in this [document](https://cloud.google.com/bigquery/docs/release-notes).\r\n\r\nPosting the answer as community wiki for the benefit of the community that might encounter this use case in the future.\r\n\r\nFeel free to edit this answer for additional information.","title":"Writing to a JSON column type in BigQuery using Spark","body":"<p>As @DavidRabinowitz mentioned in the comment, feature to insert JSON type data into BigQuery using <code>spark-bigquery-connector</code> will be released soon.</p>\n<p>All the updates regarding the BigQuery features will be updated in this <a href=\"https://cloud.google.com/bigquery/docs/release-notes\" rel=\"nofollow noreferrer\">document</a>.</p>\n<p>Posting the answer as community wiki for the benefit of the community that might encounter this use case in the future.</p>\n<p>Feel free to edit this answer for additional information.</p>\n"},{"tags":[],"owner":{"account_id":2231456,"reputation":109,"user_id":1968900,"display_name":"vishalpa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689334072,"creation_date":1689334072,"answer_id":76687240,"question_id":74655855,"body_markdown":"Based on the comment from @DavidRabinowitz this feature was not available until 2022 and based on our tests and BQ documentation it is not available yet. \r\n\r\nI tried to create a table with JSON type column before publishing from Spark to BQ. After publishing the column type got changed to String.\r\nFor workaround we are using,\r\n\r\n    SELECT PARSE_JSON(jsonField) as json_data FROM `project.dataset.table`","title":"Writing to a JSON column type in BigQuery using Spark","body":"<p>Based on the comment from @DavidRabinowitz this feature was not available until 2022 and based on our tests and BQ documentation it is not available yet.</p>\n<p>I tried to create a table with JSON type column before publishing from Spark to BQ. After publishing the column type got changed to String.\nFor workaround we are using,</p>\n<pre><code>SELECT PARSE_JSON(jsonField) as json_data FROM `project.dataset.table`\n</code></pre>\n"}],"owner":{"account_id":12280100,"reputation":131,"user_id":8962015,"accept_rate":14,"display_name":"B-Brennan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":574,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74674530,"answer_count":2,"score":2,"last_activity_date":1689334072,"creation_date":1669984449,"question_id":74655855,"body_markdown":"I have a column of type JSON in my BigQuery schema definition. I want to write to this from a Java Spark Pipeline but I cannot seem to find a way that this is possible.\r\n\r\n[![schema definition with type][1]][1]\r\n\r\nIf create a Struct of the JSON it results in a `RECORD` type.\r\nAnd if I use `to_json` like below it turns converts into a `STRING` type.\r\n\r\n`dataframe = dataframe.withColumn(&quot;JSON_COLUMN, functions.to_json(functions.col(&quot;JSON_COLUMN)))`\r\n\r\nI know BigQuery has support for JSON columns but is there any way to write to them with Java Spark currently?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/u5116.png","title":"Writing to a JSON column type in BigQuery using Spark","body":"<p>I have a column of type JSON in my BigQuery schema definition. I want to write to this from a Java Spark Pipeline but I cannot seem to find a way that this is possible.</p>\n<p><a href=\"https://i.stack.imgur.com/u5116.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/u5116.png\" alt=\"schema definition with type\" /></a></p>\n<p>If create a Struct of the JSON it results in a <code>RECORD</code> type.\nAnd if I use <code>to_json</code> like below it turns converts into a <code>STRING</code> type.</p>\n<p><code>dataframe = dataframe.withColumn(&quot;JSON_COLUMN, functions.to_json(functions.col(&quot;JSON_COLUMN)))</code></p>\n<p>I know BigQuery has support for JSON columns but is there any way to write to them with Java Spark currently?</p>\n"},{"tags":["java","jackson"],"comments":[{"owner":{"account_id":3130131,"reputation":4109,"user_id":2648110,"display_name":"Ilya Ovesnov"},"score":5,"creation_date":1420223577,"post_id":27746750,"comment_id":43904624,"body_markdown":"Why you are using different versions of Jackson jars? You have jackson-core, jackson-databind, jackson-annotations but all of them has different versions? As a first step I would recommend to use the same release versions. Just for the info version 2.5 was released today.","body":"Why you are using different versions of Jackson jars? You have jackson-core, jackson-databind, jackson-annotations but all of them has different versions? As a first step I would recommend to use the same release versions. Just for the info version 2.5 was released today."},{"owner":{"account_id":368650,"reputation":3742,"user_id":715592,"accept_rate":71,"display_name":"NullPointerException"},"score":2,"creation_date":1420223610,"post_id":27746750,"comment_id":43904639,"body_markdown":"Your have another version of jackson jars which are loading before these jars. check the other version and remove those","body":"Your have another version of jackson jars which are loading before these jars. check the other version and remove those"},{"owner":{"account_id":5181727,"reputation":104,"user_id":4147255,"display_name":"Imeksbank"},"score":1,"creation_date":1518182807,"post_id":27746750,"comment_id":84412287,"body_markdown":"Worked for me too by using same versions :","body":"Worked for me too by using same versions :"}],"answers":[{"tags":[],"owner":{"account_id":1111258,"reputation":1264,"user_id":1101678,"display_name":"Priya Aggarwal"},"down_vote_count":0,"up_vote_count":113,"is_accepted":true,"score":113,"last_activity_date":1426740601,"creation_date":1426740601,"answer_id":29137413,"question_id":27746750,"body_markdown":"I was getting the exactly same issue. I was using Maven for dependency management and had added dependency for jackson-databind module only like this \r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n        &lt;version&gt;${jackson.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nand then I resolved it by doing this.. I added its transitive dependencies explicitly with the same jackson.version mentioned for each of them in the pom.xml file, as guided [here][1] \r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\r\n        &lt;version&gt;${jackson.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n        &lt;version&gt;${jackson.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n  [1]: https://github.com/FasterXML/jackson-databind/#get-it","title":"Exception in thread &quot;main&quot; java.lang.NoSuchMethodError: com.fasterxml.jackson.core.JsonFactory.requiresPropertyOrdering()Z","body":"<p>I was getting the exactly same issue. I was using Maven for dependency management and had added dependency for jackson-databind module only like this </p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n    &lt;version&gt;${jackson.version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>and then I resolved it by doing this.. I added its transitive dependencies explicitly with the same jackson.version mentioned for each of them in the pom.xml file, as guided <a href=\"https://github.com/FasterXML/jackson-databind/#get-it\">here</a> </p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\n    &lt;version&gt;${jackson.version}&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n    &lt;version&gt;${jackson.version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3288886,"reputation":11489,"user_id":2767626,"accept_rate":58,"display_name":"Tobias Gassmann"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1447940291,"creation_date":1447940291,"answer_id":33805506,"question_id":27746750,"body_markdown":"I had the same issue. There was some incompatibility between the jackson-version 2.6.3 and another dependency (graphaware-framework-embedded).\r\n\r\n**I could resolve the issue by simply removing the dependency on jackson** in my own pom and just let the other dependency load whatever jackson-version it needed. ","title":"Exception in thread &quot;main&quot; java.lang.NoSuchMethodError: com.fasterxml.jackson.core.JsonFactory.requiresPropertyOrdering()Z","body":"<p>I had the same issue. There was some incompatibility between the jackson-version 2.6.3 and another dependency (graphaware-framework-embedded).</p>\n\n<p><strong>I could resolve the issue by simply removing the dependency on jackson</strong> in my own pom and just let the other dependency load whatever jackson-version it needed. </p>\n"},{"tags":[],"owner":{"account_id":6492165,"reputation":269,"user_id":5025897,"display_name":"Jeffrey Hawkins"},"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1489672651,"creation_date":1489672651,"answer_id":42836160,"question_id":27746750,"body_markdown":"I came here with a similar issue on Google App Engine. Here is how I fixed it.\r\n\r\nFirst I ran:\r\n\r\n    mvn dependency:tree\r\nTo find who is using the older version. I then excluded that from the offending dependency like so:\r\n\r\n    &lt;dependency&gt;\r\n\t\t&lt;groupId&gt;com.google.appengine.tools&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;appengine-gcs-client&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;0.6&lt;/version&gt;\r\n\t\t&lt;exclusions&gt;\r\n\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n\t\t\t&lt;/exclusion&gt;\r\n\t\t&lt;/exclusions&gt;\r\n\t&lt;/dependency&gt;\r\nNext I added the newer version of the dependency in my pom.xml:\r\n\r\n    &lt;dependency&gt;\r\n\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.8.7&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nHope this help others who stumble here.","title":"Exception in thread &quot;main&quot; java.lang.NoSuchMethodError: com.fasterxml.jackson.core.JsonFactory.requiresPropertyOrdering()Z","body":"<p>I came here with a similar issue on Google App Engine. Here is how I fixed it.</p>\n\n<p>First I ran:</p>\n\n<pre><code>mvn dependency:tree\n</code></pre>\n\n<p>To find who is using the older version. I then excluded that from the offending dependency like so:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.google.appengine.tools&lt;/groupId&gt;\n    &lt;artifactId&gt;appengine-gcs-client&lt;/artifactId&gt;\n    &lt;version&gt;0.6&lt;/version&gt;\n    &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Next I added the newer version of the dependency in my pom.xml:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n    &lt;version&gt;2.8.7&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Hope this help others who stumble here.</p>\n"},{"tags":[],"owner":{"account_id":8262953,"reputation":161,"user_id":6213633,"display_name":"mrana"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1564503328,"creation_date":1564503328,"answer_id":57275953,"question_id":27746750,"body_markdown":"I faced the same issue just now while upgrading my project from spring 3 to 4.1.6. \r\n\r\nA little background for reference, just in case if it helps anyone running into same issue===&gt; \r\n       First, it prompted me with error for mappingJacksonconverter vs mappingJackson2converter since the former doesn&#39;t exist anymore with spring 4. Once I changed those references in code, I ran into issue with my dispatcher servlet since it had xsd definitions from spring 3 support. Once that&#39;s corrected, my last step in journey was this error which you all faced as well.\r\n\r\nMy solution:\r\n  I had older versions of following jars:\r\n   jackson-annotations,\r\n   jackson-core,\r\n   jackson-databind,\r\n   jackson-core-asl,\r\n   jackson-mapper-asl\r\n\r\n   I upgraded first 3 jars to 2.10.0.pr1 release and last 2 to 1.9.13 release.\r\n \r\n   I also had one more older jar i.e.com.fasterxml.jackson.core.jar which I had to remove as well. Anyways, as error suggested this was the key reason for the mismatch (Like Tobias said in comment prior to mine)\r\n\r\n  I think only last paragraph is important from this particular question point of view, but I am hoping my narration of issues faced leading up to that may help someone saving 4-5 hrs :) Cheers, folks!\r\n\r\n","title":"Exception in thread &quot;main&quot; java.lang.NoSuchMethodError: com.fasterxml.jackson.core.JsonFactory.requiresPropertyOrdering()Z","body":"<p>I faced the same issue just now while upgrading my project from spring 3 to 4.1.6. </p>\n\n<p>A little background for reference, just in case if it helps anyone running into same issue===> \n       First, it prompted me with error for mappingJacksonconverter vs mappingJackson2converter since the former doesn't exist anymore with spring 4. Once I changed those references in code, I ran into issue with my dispatcher servlet since it had xsd definitions from spring 3 support. Once that's corrected, my last step in journey was this error which you all faced as well.</p>\n\n<p>My solution:\n  I had older versions of following jars:\n   jackson-annotations,\n   jackson-core,\n   jackson-databind,\n   jackson-core-asl,\n   jackson-mapper-asl</p>\n\n<p>I upgraded first 3 jars to 2.10.0.pr1 release and last 2 to 1.9.13 release.</p>\n\n<p>I also had one more older jar i.e.com.fasterxml.jackson.core.jar which I had to remove as well. Anyways, as error suggested this was the key reason for the mismatch (Like Tobias said in comment prior to mine)</p>\n\n<p>I think only last paragraph is important from this particular question point of view, but I am hoping my narration of issues faced leading up to that may help someone saving 4-5 hrs :) Cheers, folks!</p>\n"},{"tags":[],"owner":{"account_id":179998,"reputation":5576,"user_id":413032,"accept_rate":59,"display_name":"Davut G&#252;rb&#252;z"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1600935191,"creation_date":1600935191,"answer_id":64042176,"question_id":27746750,"body_markdown":"\r\nAs of now latest redisson\r\n\r\n    &lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.redisson&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;redisson&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.13.4&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nLatest Jackson jackson.version property is `2.11.2` for me\r\n\r\n\t\t&lt;!-- faster JSON --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${jackson.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${jackson.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${jackson.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nUpdating Eclipse references, without this runner configs were accessing earlier edition of jackson project.\r\n\r\n    eclipse:eclipse -U","title":"Exception in thread &quot;main&quot; java.lang.NoSuchMethodError: com.fasterxml.jackson.core.JsonFactory.requiresPropertyOrdering()Z","body":"<p>As of now latest redisson</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.redisson&lt;/groupId&gt;\n    &lt;artifactId&gt;redisson&lt;/artifactId&gt;\n    &lt;version&gt;3.13.4&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Latest Jackson jackson.version property is <code>2.11.2</code> for me</p>\n<pre><code>    &lt;!-- faster JSON --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n        &lt;version&gt;${jackson.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\n        &lt;version&gt;${jackson.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n        &lt;version&gt;${jackson.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Updating Eclipse references, without this runner configs were accessing earlier edition of jackson project.</p>\n<pre><code>eclipse:eclipse -U\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12579182,"reputation":119,"user_id":9150525,"display_name":"Onkar Singh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636572187,"creation_date":1636572187,"answer_id":69919096,"question_id":27746750,"body_markdown":"For me, I updated the version to a recently released version i.e. 2.12.4 and it worked fine.\r\n\r\nNote: I was using another project inside the build path of a larger project in eclipse. The jackson update was done inside the pom.xml file of the smaller project.","title":"Exception in thread &quot;main&quot; java.lang.NoSuchMethodError: com.fasterxml.jackson.core.JsonFactory.requiresPropertyOrdering()Z","body":"<p>For me, I updated the version to a recently released version i.e. 2.12.4 and it worked fine.</p>\n<p>Note: I was using another project inside the build path of a larger project in eclipse. The jackson update was done inside the pom.xml file of the smaller project.</p>\n"},{"tags":[],"owner":{"account_id":27753485,"reputation":11,"user_id":21187484,"display_name":"Pragya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689333398,"creation_date":1689333398,"answer_id":76687162,"question_id":27746750,"body_markdown":"I have updated jackson dependency version in my maven project from 2.7.4 to 2.15.0 due to vulnerabilities in older versions. After updating I am getting an exception NoClassDefFoundError. I tried to use jackson BOM 2.15.0 but still getting that exception. How to resolve this exception?\r\n\r\n    Caused by: java.lang.NoClassDefFoundError: com/fasterxml/jackson/core/JsonProcessingException\r\n    at java.lang.Class.getDeclaredConstructors0(Native Method)\r\n    at java.lang.Class.privateGetDeclaredConstructors(Class.java:2671)\r\n    at java.lang.Class.getConstructors(Class.java:1651)\r\n    at org.apache.felix.scr.impl.inject.ComponentConstructor.&lt;init&gt;(ComponentConstructor.java:95) [org.apache.felix.scr:2.1.16]\r\n    at org.apache.felix.scr.impl.inject.ComponentMethodsImpl.initComponentMethods(ComponentMethodsImpl.java:106) [org.apache.felix.scr:2.1.16]\r\n    at org.apache.felix.scr.impl.manager.AbstractComponentManager.initDependencyManagers(AbstractComponentManager.java:1008) [org.apache.felix.scr:2.1.16]\r\n    at org.apache.felix.scr.impl.manager.AbstractComponentManager.collectDependencies(AbstractComponentManager.java:1026) [org.apache.felix.scr:2.1.16]\r\n    at org.apache.felix.scr.impl.manager.SingleComponentManager.getServiceInternal(SingleComponentManager.java:935) [org.apache.felix.scr:2.1.16]\r\n    at org.apache.felix.scr.impl.manager.SingleComponentManager.getService(SingleComponentManager.java:900) [org.apache.felix.scr:2.1.16]\r\n    at org.apache.felix.framework.ServiceRegistrationImpl.getFactoryUnchecked(ServiceRegistrationImpl.java:348)\r\n    ... 52 common frames omitted\r\n    Caused by: java.lang.ClassNotFoundException: com.fasterxml.jackson.core.JsonProcessingException not found by com.dunkindonuts.aem.ddcom-ui-businesslogic [791]\r\n    at org.apache.felix.framework.BundleWiringImpl.findClassOrResourceByDelegation(BundleWiringImpl.java:1597)\r\n    at org.apache.felix.framework.BundleWiringImpl.access$300(BundleWiringImpl.java:79)\r\n    at org.apache.felix.framework.BundleWiringImpl$BundleClassLoader.loadClass(BundleWiringImpl.java:1982)\r\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:351)","title":"Exception in thread &quot;main&quot; java.lang.NoSuchMethodError: com.fasterxml.jackson.core.JsonFactory.requiresPropertyOrdering()Z","body":"<p>I have updated jackson dependency version in my maven project from 2.7.4 to 2.15.0 due to vulnerabilities in older versions. After updating I am getting an exception NoClassDefFoundError. I tried to use jackson BOM 2.15.0 but still getting that exception. How to resolve this exception?</p>\n<pre><code>Caused by: java.lang.NoClassDefFoundError: com/fasterxml/jackson/core/JsonProcessingException\nat java.lang.Class.getDeclaredConstructors0(Native Method)\nat java.lang.Class.privateGetDeclaredConstructors(Class.java:2671)\nat java.lang.Class.getConstructors(Class.java:1651)\nat org.apache.felix.scr.impl.inject.ComponentConstructor.&lt;init&gt;(ComponentConstructor.java:95) [org.apache.felix.scr:2.1.16]\nat org.apache.felix.scr.impl.inject.ComponentMethodsImpl.initComponentMethods(ComponentMethodsImpl.java:106) [org.apache.felix.scr:2.1.16]\nat org.apache.felix.scr.impl.manager.AbstractComponentManager.initDependencyManagers(AbstractComponentManager.java:1008) [org.apache.felix.scr:2.1.16]\nat org.apache.felix.scr.impl.manager.AbstractComponentManager.collectDependencies(AbstractComponentManager.java:1026) [org.apache.felix.scr:2.1.16]\nat org.apache.felix.scr.impl.manager.SingleComponentManager.getServiceInternal(SingleComponentManager.java:935) [org.apache.felix.scr:2.1.16]\nat org.apache.felix.scr.impl.manager.SingleComponentManager.getService(SingleComponentManager.java:900) [org.apache.felix.scr:2.1.16]\nat org.apache.felix.framework.ServiceRegistrationImpl.getFactoryUnchecked(ServiceRegistrationImpl.java:348)\n... 52 common frames omitted\nCaused by: java.lang.ClassNotFoundException: com.fasterxml.jackson.core.JsonProcessingException not found by com.dunkindonuts.aem.ddcom-ui-businesslogic [791]\nat org.apache.felix.framework.BundleWiringImpl.findClassOrResourceByDelegation(BundleWiringImpl.java:1597)\nat org.apache.felix.framework.BundleWiringImpl.access$300(BundleWiringImpl.java:79)\nat org.apache.felix.framework.BundleWiringImpl$BundleClassLoader.loadClass(BundleWiringImpl.java:1982)\nat java.lang.ClassLoader.loadClass(ClassLoader.java:351)\n</code></pre>\n"}],"owner":{"account_id":5565691,"reputation":936,"user_id":4413101,"accept_rate":75,"display_name":"jbakirov"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":146383,"favorite_count":0,"down_vote_count":0,"up_vote_count":64,"accepted_answer_id":29137413,"answer_count":7,"score":64,"last_activity_date":1689333398,"creation_date":1420223189,"question_id":27746750,"body_markdown":"I need to convert json to pojo. I Decided to use jackson and have added jackson-core-2.2.0.jar, jackson-databind-2.4.4.jar and jackson-annotations-2.1.2.jar to my project&#39;s classpath\r\n\r\nI created following `Main` class:\r\n\r\n    import java.io.IOException;\r\n    import java.net.MalformedURLException;\r\n    import java.net.URL;\r\n    import java.util.List;\r\n    import com.fasterxml.jackson.core.JsonGenerationException;\r\n    import com.fasterxml.jackson.core.JsonProcessingException;\r\n    import com.fasterxml.jackson.databind.JsonMappingException;\r\n    import com.fasterxml.jackson.databind.JsonNode;\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import com.fasterxml.jackson.core.JsonGenerationException;\r\n    import com.fasterxml.jackson.core.type.TypeReference;\r\n    import com.fasterxml.jackson.databind.JsonMappingException;\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import com.fasterxml.jackson.databind.DeserializationFeature;\r\n\r\n    public class Json {\r\n\tprivate static String SRC= &quot;&quot;;\r\n\t\r\n\t  public static void main(String[] args) {\r\n\t\t \r\n\t      AwardList awardList = null;\r\n\t      ObjectMapper mapper = new ObjectMapper();\r\n\t    \r\n\t      try{\r\n\t    \t  awardList = (AwardList) mapper.readValue(new URL(SRC), AwardList.class);\r\n\t      }catch (JsonGenerationException e){\r\n\t          e.printStackTrace();\r\n\t       } catch (JsonMappingException e){\r\n\t          e.printStackTrace();\r\n\t       } catch (IOException e){\r\n\t          e.printStackTrace();\r\n\t       }\r\n\t       System.out.println(awardList);\r\n \r\n\t  }\r\n    }\r\n\r\nAnd following `AwardList` class:\r\n\r\n    public class AwardList {\r\n    \t\r\n    \tprivate Flights[] flights;\r\n    \tprivate String[] connections;\r\n    \t\r\n    \tprivate SaverEconomy saverEconomy;\r\n    \tprivate StandartEconomy standartEconomy;\r\n    \tprivate SaverBusiness saverBusiness;\r\n    \tprivate StandartFirst standartFirst;\r\n    \tprivate SaverFirst saverFirst;\r\n    \t\r\n    \r\n    \tpublic Flights[] getFlights() {\r\n    \t\treturn flights;\r\n    \t}\r\n    \r\n    \tpublic void setFlights(Flights[] flights) {\r\n    \t\tthis.flights = flights;\r\n    \t}\r\n    \r\n    \tpublic SaverEconomy getSaverEconomy() {\r\n    \t\treturn saverEconomy;\r\n    \t}\r\n    \r\n    \tpublic void setSaverEconomy(SaverEconomy saverEconomy) {\r\n    \t\tthis.saverEconomy = saverEconomy;\r\n    \t}\r\n    \r\n    \tpublic StandartEconomy getStandartEconomy() {\r\n    \t\treturn standartEconomy;\r\n    \t}\r\n    \r\n    \tpublic void setStandartEconomy(StandartEconomy standartEconomy) {\r\n    \t\tthis.standartEconomy = standartEconomy;\r\n    \t}\r\n    \r\n    \tpublic SaverBusiness getSaverBusiness() {\r\n    \t\treturn saverBusiness;\r\n    \t}\r\n    \r\n    \tpublic void setSaverBusiness(SaverBusiness saverBusiness) {\r\n    \t\tthis.saverBusiness = saverBusiness;\r\n    \t}\r\n    \r\n    \tpublic StandartFirst getStandartFirst() {\r\n    \t\treturn standartFirst;\r\n    \t}\r\n    \r\n    \tpublic void setStandartFirst(StandartFirst standartFirst) {\r\n    \t\tthis.standartFirst = standartFirst;\r\n    \t}\r\n    \r\n    \tpublic SaverFirst getSaverFirst() {\r\n    \t\treturn saverFirst;\r\n    \t}\r\n    \r\n    \tpublic void setSaverFirst(SaverFirst saverFirst) {\r\n    \t\tthis.saverFirst = saverFirst;\r\n    \t}\r\n    \r\n    \tpublic String[] getConnections() {\r\n    \t\treturn connections;\r\n    \t}\r\n    \r\n    \tpublic void setConnections(String[] connections) {\r\n    \t\tthis.connections = connections;\r\n    \t}\r\n    }\r\n\r\nI want to convert json to pojo and save it in the database. I keep getting following error:\r\n\r\n&gt;     Exception in thread &quot;main&quot; java.lang.NoSuchMethodError: com.fasterxml.jackson.core.JsonFactory.requiresPropertyOrdering()Z\r\n&gt;     \tat com.fasterxml.jackson.databind.ObjectMapper.&lt;init&gt;(ObjectMapper.java:457)\r\n&gt;     \tat com.fasterxml.jackson.databind.ObjectMapper.&lt;init&gt;(ObjectMapper.java:379)\r\n&gt;     \tat Json.main(Json.java:72)\r\n\r\n","title":"Exception in thread &quot;main&quot; java.lang.NoSuchMethodError: com.fasterxml.jackson.core.JsonFactory.requiresPropertyOrdering()Z","body":"<p>I need to convert json to pojo. I Decided to use jackson and have added jackson-core-2.2.0.jar, jackson-databind-2.4.4.jar and jackson-annotations-2.1.2.jar to my project's classpath</p>\n\n<p>I created following <code>Main</code> class:</p>\n\n<pre><code>import java.io.IOException;\nimport java.net.MalformedURLException;\nimport java.net.URL;\nimport java.util.List;\nimport com.fasterxml.jackson.core.JsonGenerationException;\nimport com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.JsonMappingException;\nimport com.fasterxml.jackson.databind.JsonNode;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.core.JsonGenerationException;\nimport com.fasterxml.jackson.core.type.TypeReference;\nimport com.fasterxml.jackson.databind.JsonMappingException;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.databind.DeserializationFeature;\n\npublic class Json {\nprivate static String SRC= \"\";\n\n  public static void main(String[] args) {\n\n      AwardList awardList = null;\n      ObjectMapper mapper = new ObjectMapper();\n\n      try{\n          awardList = (AwardList) mapper.readValue(new URL(SRC), AwardList.class);\n      }catch (JsonGenerationException e){\n          e.printStackTrace();\n       } catch (JsonMappingException e){\n          e.printStackTrace();\n       } catch (IOException e){\n          e.printStackTrace();\n       }\n       System.out.println(awardList);\n\n  }\n}\n</code></pre>\n\n<p>And following <code>AwardList</code> class:</p>\n\n<pre><code>public class AwardList {\n\n    private Flights[] flights;\n    private String[] connections;\n\n    private SaverEconomy saverEconomy;\n    private StandartEconomy standartEconomy;\n    private SaverBusiness saverBusiness;\n    private StandartFirst standartFirst;\n    private SaverFirst saverFirst;\n\n\n    public Flights[] getFlights() {\n        return flights;\n    }\n\n    public void setFlights(Flights[] flights) {\n        this.flights = flights;\n    }\n\n    public SaverEconomy getSaverEconomy() {\n        return saverEconomy;\n    }\n\n    public void setSaverEconomy(SaverEconomy saverEconomy) {\n        this.saverEconomy = saverEconomy;\n    }\n\n    public StandartEconomy getStandartEconomy() {\n        return standartEconomy;\n    }\n\n    public void setStandartEconomy(StandartEconomy standartEconomy) {\n        this.standartEconomy = standartEconomy;\n    }\n\n    public SaverBusiness getSaverBusiness() {\n        return saverBusiness;\n    }\n\n    public void setSaverBusiness(SaverBusiness saverBusiness) {\n        this.saverBusiness = saverBusiness;\n    }\n\n    public StandartFirst getStandartFirst() {\n        return standartFirst;\n    }\n\n    public void setStandartFirst(StandartFirst standartFirst) {\n        this.standartFirst = standartFirst;\n    }\n\n    public SaverFirst getSaverFirst() {\n        return saverFirst;\n    }\n\n    public void setSaverFirst(SaverFirst saverFirst) {\n        this.saverFirst = saverFirst;\n    }\n\n    public String[] getConnections() {\n        return connections;\n    }\n\n    public void setConnections(String[] connections) {\n        this.connections = connections;\n    }\n}\n</code></pre>\n\n<p>I want to convert json to pojo and save it in the database. I keep getting following error:</p>\n\n<blockquote>\n<pre><code>Exception in thread \"main\" java.lang.NoSuchMethodError: com.fasterxml.jackson.core.JsonFactory.requiresPropertyOrdering()Z\n  at com.fasterxml.jackson.databind.ObjectMapper.&lt;init&gt;(ObjectMapper.java:457)\n  at com.fasterxml.jackson.databind.ObjectMapper.&lt;init&gt;(ObjectMapper.java:379)\n  at Json.main(Json.java:72)\n</code></pre>\n</blockquote>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":11163581,"reputation":1048,"user_id":8192914,"display_name":"ganjaam"},"score":1,"creation_date":1689337765,"post_id":76686891,"comment_id":135202913,"body_markdown":"It would be best to try adding a P2P data transfer feature to your app. Check the android-developers-guides related to p2p data transfer and devise a strategy that suits your requirements.","body":"It would be best to try adding a P2P data transfer feature to your app. Check the android-developers-guides related to p2p data transfer and devise a strategy that suits your requirements."}],"answers":[{"tags":[],"owner":{"account_id":26792175,"reputation":126,"user_id":20385417,"display_name":"Nguyễn Minh Khoa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689333328,"creation_date":1689333328,"answer_id":76687153,"question_id":76686891,"body_markdown":"I recommend use SD card to save data in this case","title":"Store User Pictures locally in android app and transfer them when the user changes device","body":"<p>I recommend use SD card to save data in this case</p>\n"}],"owner":{"account_id":26292251,"reputation":69,"user_id":19959092,"display_name":"Pantastix"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689333328,"creation_date":1689330965,"question_id":76686891,"body_markdown":"i am developing an Android app where I need to store some user pictures. Is there an easy way to do this locally and where they get transferred to a new phone in case of an &quot;upgrade&quot; (so when the user changes to a new device)?\r\n\r\nI don&#39;t want you to use cloud options for this as I&#39;m not interested in paying for this at the moment.\r\n\r\nIs there a way like a folder within the Android gallery?\r\n(I am thinking of data transfer with Smart Switch)\r\n\r\nI am developing in Kotlin.","title":"Store User Pictures locally in android app and transfer them when the user changes device","body":"<p>i am developing an Android app where I need to store some user pictures. Is there an easy way to do this locally and where they get transferred to a new phone in case of an &quot;upgrade&quot; (so when the user changes to a new device)?</p>\n<p>I don't want you to use cloud options for this as I'm not interested in paying for this at the moment.</p>\n<p>Is there a way like a folder within the Android gallery?\n(I am thinking of data transfer with Smart Switch)</p>\n<p>I am developing in Kotlin.</p>\n"},{"tags":["java","jvm","garbage-collection","g1gc","session-cache"],"comments":[{"owner":{"account_id":213468,"reputation":103489,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1689333179,"post_id":76686994,"comment_id":135201940,"body_markdown":"@tgdavies For a single SSL connection it has zero effect, because that holds a hard reference to its current session. However, as I understand it, connections can switch sessions, and multiple connections can share a session. If a session is no longer in the cache, it will probably result in some form of renegotiation to establish a new session.","body":"@tgdavies For a single SSL connection it has zero effect, because that holds a hard reference to its current session. However, as I understand it, connections can switch sessions, and multiple connections can share a session. If a session is no longer in the cache, it will probably result in some form of renegotiation to establish a new session."}],"answers":[{"tags":[],"owner":{"account_id":213468,"reputation":103489,"user_id":466862,"display_name":"Mark Rotteveel"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1689332809,"creation_date":1689332809,"answer_id":76687095,"question_id":76686994,"body_markdown":"In Adoptium OpenJDK 17.0.7 (and thus also other OpenJDK derivatives), the session cache is implemented in `sun.security.util.MemoryCache`, which you should be able to inspect in your IDE. This class uses a `LinkedHashMap` as an LRU (Least Recently Used) style cache, together with expiration and - optionally - reference tracking . When any method is invoked, it will expunge any cache items which are only softly reachable, and for some methods it will expunge expired entries. \r\n\r\nIf after adding new items in the cache, the size exceeds the configured maximum (even after expunging expired entries), it will remove the least recently used items until the cache size is within bounds.\r\n\r\nThis by itself does not trigger any GC, but will produce some garbage which will eventually be collected. It will also not prevent new sessions from being created.","title":"what happens when javax.net.ssl.sessionCacheSize becomes full?","body":"<p>In Adoptium OpenJDK 17.0.7 (and thus also other OpenJDK derivatives), the session cache is implemented in <code>sun.security.util.MemoryCache</code>, which you should be able to inspect in your IDE. This class uses a <code>LinkedHashMap</code> as an LRU (Least Recently Used) style cache, together with expiration and - optionally - reference tracking . When any method is invoked, it will expunge any cache items which are only softly reachable, and for some methods it will expunge expired entries.</p>\n<p>If after adding new items in the cache, the size exceeds the configured maximum (even after expunging expired entries), it will remove the least recently used items until the cache size is within bounds.</p>\n<p>This by itself does not trigger any GC, but will produce some garbage which will eventually be collected. It will also not prevent new sessions from being created.</p>\n"}],"owner":{"account_id":10923818,"reputation":606,"user_id":8085276,"display_name":"Ajay Kumar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76687095,"answer_count":1,"score":1,"last_activity_date":1689332809,"creation_date":1689331971,"question_id":76686994,"body_markdown":"I am trying to analyse one of our applications running in production, and currently the value of `javax.net.ssl.sessionCacheSize` is set to **10000**.\r\n\r\nwe are using java 17 in production, and by default in Java 17, value of `javax.net.ssl.sessionCacheSize` is set to **20480**.\r\n\r\nI wanted to understand what happens when this *sessionCacheSize* becomes full? Does it trigger a GC event (We use G1GC in Prod)? Or application response times would go high? or application won&#39;t accept new connect until the existing connections get dropped and cache has some space to create the session?","title":"what happens when javax.net.ssl.sessionCacheSize becomes full?","body":"<p>I am trying to analyse one of our applications running in production, and currently the value of <code>javax.net.ssl.sessionCacheSize</code> is set to <strong>10000</strong>.</p>\n<p>we are using java 17 in production, and by default in Java 17, value of <code>javax.net.ssl.sessionCacheSize</code> is set to <strong>20480</strong>.</p>\n<p>I wanted to understand what happens when this <em>sessionCacheSize</em> becomes full? Does it trigger a GC event (We use G1GC in Prod)? Or application response times would go high? or application won't accept new connect until the existing connections get dropped and cache has some space to create the session?</p>\n"},{"tags":["java","spring","hibernate","jpa","h2"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":1,"creation_date":1561905656,"post_id":56825663,"comment_id":100203664,"body_markdown":"Your database design makes no sense. Instead of having a single row with dozens of columns for each currency, you should have a row for each currency (pair).","body":"Your database design makes no sense. Instead of having a single row with dozens of columns for each currency, you should have a row for each currency (pair)."},{"owner":{"account_id":6950003,"reputation":1952,"user_id":5332914,"accept_rate":75,"display_name":"user404"},"score":0,"creation_date":1561906041,"post_id":56825663,"comment_id":100203749,"body_markdown":"by this `CurrencyDTO findbyCurrencyDTO(String id);`, what is your purpose and what do you want to achieve?","body":"by this <code>CurrencyDTO findbyCurrencyDTO(String id);</code>, what is your purpose and what do you want to achieve?"},{"owner":{"account_id":15414849,"reputation":201,"user_id":11120659,"display_name":"Grafik Krystian"},"score":0,"creation_date":1561906142,"post_id":56825663,"comment_id":100203765,"body_markdown":"I want to get one value from db.","body":"I want to get one value from db."},{"owner":{"account_id":6390592,"reputation":16008,"user_id":4956907,"display_name":"Michał Krzywański"},"score":0,"creation_date":1561906255,"post_id":56825663,"comment_id":100203790,"body_markdown":"Your current design is really bad. What if you wanted to add another currency? You would have to modify the table! Instead create a table with 2 columns - currency name, and value - this way you will be able to modify, add, update, deleted your currencies in a better way.","body":"Your current design is really bad. What if you wanted to add another currency? You would have to modify the table! Instead create a table with 2 columns - currency name, and value - this way you will be able to modify, add, update, deleted your currencies in a better way."}],"answers":[{"tags":[],"owner":{"account_id":26247698,"reputation":38,"user_id":19920933,"display_name":"GTmember"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689332730,"creation_date":1689332457,"answer_id":76687049,"question_id":56825663,"body_markdown":"This error occurs because `CurrencyDTO` doesn&#39;t have a `CurrencyDTO` field. For instance, you can add `findByCAD`. In your case, I suppose you can use `JpaRepository` method `findAllById`.","title":"Read from JPA repository No property .. found for type","body":"<p>This error occurs because <code>CurrencyDTO</code> doesn't have a <code>CurrencyDTO</code> field. For instance, you can add <code>findByCAD</code>. In your case, I suppose you can use <code>JpaRepository</code> method <code>findAllById</code>.</p>\n"}],"owner":{"account_id":15414849,"reputation":201,"user_id":11120659,"display_name":"Grafik Krystian"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":238,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76687049,"answer_count":1,"score":0,"last_activity_date":1689332730,"creation_date":1561905264,"question_id":56825663,"body_markdown":"I warmly welcome,\nI&#39;m trying to get one value from my repository. However, I have a problem at the beginning I struggled with a null pointer exeption error. Now I&#39;m getting: \n\n&gt; No property findbyCurrencyDTO found for type CurrencyDTO\n\n!. I am asking for help, I tried in various ways and to no avail.\n\n\n\n    public class Conversion {\n        @Autowired\n    \n        CurrencyRepository currencyRepository;\n    \n        public String conversion () {\n    \n            System.out.println(currencyRepository.findbyCurrencyDTO(&quot;PLN&quot;));\n    \n    \n            return &quot;ok&quot;;\n    \n        }\n\n\n    @Repository\n    public interface CurrencyRepository extends JpaRepository&lt;CurrencyDTO, Long&gt; {\n        CurrencyDTO findbyCurrencyDTO(String id);\n\n    }\n\n\n\n    @Entity\n    @Table(name = &quot;CurrencyDTO&quot;)\n    public class CurrencyDTO extends CurrencyAPIOutput implements Serializable {\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n\n    private Double cAD;\n\n    private Double hKD;\n    private Double pLN;\n///ETC ,,\n\nTest\n\n\n     public static void main(String[] args) {\n\n        SpringApplication.run(FlightRadarApplication.class, args);\n        Conversion conversion = new Conversion();\n        conversion.conversion();\n\n\n    }\n\n\n\n\n\n&gt; Caused by:\n&gt; org.springframework.data.mapping.PropertyReferenceException: No\n&gt; property findbyCurrencyDTO found for type CurrencyDTO!\n\n[![Database][1]][1]\n\n  [1]: https://i.stack.imgur.com/8ufKe.png","title":"Read from JPA repository No property .. found for type","body":"<p>I warmly welcome,\nI'm trying to get one value from my repository. However, I have a problem at the beginning I struggled with a null pointer exeption error. Now I'm getting:</p>\n<blockquote>\n<p>No property findbyCurrencyDTO found for type CurrencyDTO</p>\n</blockquote>\n<p>!. I am asking for help, I tried in various ways and to no avail.</p>\n<pre><code>public class Conversion {\n    @Autowired\n\n    CurrencyRepository currencyRepository;\n\n    public String conversion () {\n\n        System.out.println(currencyRepository.findbyCurrencyDTO(&quot;PLN&quot;));\n\n\n        return &quot;ok&quot;;\n\n    }\n\n\n@Repository\npublic interface CurrencyRepository extends JpaRepository&lt;CurrencyDTO, Long&gt; {\n    CurrencyDTO findbyCurrencyDTO(String id);\n\n}\n\n\n\n@Entity\n@Table(name = &quot;CurrencyDTO&quot;)\npublic class CurrencyDTO extends CurrencyAPIOutput implements Serializable {\nprivate static final long serialVersionUID = 1L;\n\n@Id\n@GeneratedValue(strategy = GenerationType.AUTO)\nprivate Long id;\n\nprivate Double cAD;\n\nprivate Double hKD;\nprivate Double pLN;\n</code></pre>\n<p>///ETC ,,</p>\n<p>Test</p>\n<pre><code> public static void main(String[] args) {\n\n    SpringApplication.run(FlightRadarApplication.class, args);\n    Conversion conversion = new Conversion();\n    conversion.conversion();\n\n\n}\n</code></pre>\n<blockquote>\n<p>Caused by:\norg.springframework.data.mapping.PropertyReferenceException: No\nproperty findbyCurrencyDTO found for type CurrencyDTO!</p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/8ufKe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8ufKe.png\" alt=\"Database\" /></a></p>\n"},{"tags":["java","spring-boot","thymeleaf"],"answers":[{"tags":[],"owner":{"account_id":1203431,"reputation":5728,"user_id":1173638,"accept_rate":67,"display_name":"Adder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689332710,"creation_date":1689332710,"answer_id":76687087,"question_id":76686795,"body_markdown":"I added request and response to the Controller endpoint signature.\r\nThen I created a WebContext using this information.\r\nThe template now renders, I hope correctly.\r\n\r\nThe Controller source code now looks like this:\r\n```\r\n\t@GetMapping(path = &quot;/dynamicDetailInfo/info&quot;, produces = &quot;application/json&quot;)\r\n\t@PreAuthorize(MA_CMA_CHEF_CONDITION)\r\n\tpublic ResponseEntity&lt;AbsenceDynamicDetailInfo&gt; getDynamicDetail(Model model, @PathVariable Long locationId,\r\n\t\t\t@ModelAttribute AbsencePostInfo absencePostInfo, @AuthenticationPrincipal ApplicationUser appUser,\r\n\t\t\tHttpServletRequest request, HttpServletResponse response) {\r\n\t\tAbsenceDynamicDetailInfo dynamicDetailInfo = absenceService.getDynamicDetailInfo(absencePostInfo, appUser);\r\n\t\tdynamicDetailInfo.clearSensitiveData();\r\n\t\t//\r\n\t\t// Create the WebContext using the request and response objects\r\n\t\tWebContext context = new WebContext(request, response, request.getServletContext(), request.getLocale());\r\n\t\t//Set variables to be used in HTML template\r\n\t\tcontext.setVariable(&quot;dynamicDetailInfo&quot;, dynamicDetailInfo);\r\n\t\t// process the template using thymeleaf engine\r\n\t\tString html = templateEngine.process(&quot;includes/_fragment&quot;, singleton(&quot;absenceDynamicDetail&quot;), context);\r\n\t\tdynamicDetailInfo.setHtml(html);\r\n\t\treturn ResponseEntity.ok(dynamicDetailInfo);\r\n\t}\r\n```","title":"How to render a thymeleaf template to a String using a security context in String boot","body":"<p>I added request and response to the Controller endpoint signature.\nThen I created a WebContext using this information.\nThe template now renders, I hope correctly.</p>\n<p>The Controller source code now looks like this:</p>\n<pre><code>    @GetMapping(path = &quot;/dynamicDetailInfo/info&quot;, produces = &quot;application/json&quot;)\n    @PreAuthorize(MA_CMA_CHEF_CONDITION)\n    public ResponseEntity&lt;AbsenceDynamicDetailInfo&gt; getDynamicDetail(Model model, @PathVariable Long locationId,\n            @ModelAttribute AbsencePostInfo absencePostInfo, @AuthenticationPrincipal ApplicationUser appUser,\n            HttpServletRequest request, HttpServletResponse response) {\n        AbsenceDynamicDetailInfo dynamicDetailInfo = absenceService.getDynamicDetailInfo(absencePostInfo, appUser);\n        dynamicDetailInfo.clearSensitiveData();\n        //\n        // Create the WebContext using the request and response objects\n        WebContext context = new WebContext(request, response, request.getServletContext(), request.getLocale());\n        //Set variables to be used in HTML template\n        context.setVariable(&quot;dynamicDetailInfo&quot;, dynamicDetailInfo);\n        // process the template using thymeleaf engine\n        String html = templateEngine.process(&quot;includes/_fragment&quot;, singleton(&quot;absenceDynamicDetail&quot;), context);\n        dynamicDetailInfo.setHtml(html);\n        return ResponseEntity.ok(dynamicDetailInfo);\n    }\n</code></pre>\n"}],"owner":{"account_id":1203431,"reputation":5728,"user_id":1173638,"accept_rate":67,"display_name":"Adder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689332710,"creation_date":1689330179,"question_id":76686795,"body_markdown":"I want to render a thymeleaf template to String for use in a JSON return value (returned by the controller).\r\n\r\nMy code is this and it almost works.\r\n\r\n```\r\n//get template engine\r\n\t@Autowired\r\n\tprivate ISpringTemplateEngine templateEngine;\r\n\r\n//Controller code\r\n\t\tContext context = new Context();\r\n\t\tcontext.setVariable(&quot;dynamicDetailInfo&quot;, dynamicDetailInfo);\r\n\t\t\t\tString html = templateEngine.process(&quot;includes/_fragment&quot;, singleton(&quot;absenceDynamicDetail&quot;), context);\r\n\t\t\t\tSystem.out.println(html);\r\n\r\n```\r\n\r\nIt doesn&#39;t work because the template accesses a security context, and I am only providing a simple Context. This line in the template breaks:\r\n\r\n```\r\nsec:authorize=&quot;#authentication.principal.getCompany().getPackOrder().isInclTimetrack()&quot;\r\n```\r\n\r\nThe error message is:\r\n```\r\nCould not obtain authentication object: Thymeleaf context is neither an implementation of IWebContext (for Spring MVC apps) nor ISpringWebFluxContext (for Spring WebFlux apps).\r\n```\r\n\r\nHow can I acquire such a Context and use it with my Controller code?\r\nDo you know any keywords I could search for?","title":"How to render a thymeleaf template to a String using a security context in String boot","body":"<p>I want to render a thymeleaf template to String for use in a JSON return value (returned by the controller).</p>\n<p>My code is this and it almost works.</p>\n<pre><code>//get template engine\n    @Autowired\n    private ISpringTemplateEngine templateEngine;\n\n//Controller code\n        Context context = new Context();\n        context.setVariable(&quot;dynamicDetailInfo&quot;, dynamicDetailInfo);\n                String html = templateEngine.process(&quot;includes/_fragment&quot;, singleton(&quot;absenceDynamicDetail&quot;), context);\n                System.out.println(html);\n\n</code></pre>\n<p>It doesn't work because the template accesses a security context, and I am only providing a simple Context. This line in the template breaks:</p>\n<pre><code>sec:authorize=&quot;#authentication.principal.getCompany().getPackOrder().isInclTimetrack()&quot;\n</code></pre>\n<p>The error message is:</p>\n<pre><code>Could not obtain authentication object: Thymeleaf context is neither an implementation of IWebContext (for Spring MVC apps) nor ISpringWebFluxContext (for Spring WebFlux apps).\n</code></pre>\n<p>How can I acquire such a Context and use it with my Controller code?\nDo you know any keywords I could search for?</p>\n"},{"tags":["java","osgi","eclipse-rcp","log4j2","rcp"],"answers":[{"tags":[],"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689332630,"creation_date":1689332630,"answer_id":76687075,"question_id":76685874,"body_markdown":"That was reported as issue [apache/logging-log4j2#1367](https://github.com/apache/logging-log4j2/issues/1367) and should be solved in the `2.20.1-SNAPSHOT` snapshots.","title":"Log4j is unable to load OSGI services","body":"<p>That was reported as issue <a href=\"https://github.com/apache/logging-log4j2/issues/1367\" rel=\"nofollow noreferrer\">apache/logging-log4j2#1367</a> and should be solved in the <code>2.20.1-SNAPSHOT</code> snapshots.</p>\n"}],"owner":{"account_id":341185,"reputation":16364,"user_id":671639,"accept_rate":69,"display_name":"BetaRide"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":338,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1689332630,"creation_date":1689322352,"question_id":76685874,"body_markdown":"After updating log4j from 2.17.1 to 2.20.0 for a RCP application (OSGI!) we are getting lot&#39;s of exeptions on start-up.\r\n\r\nFor some years we were happily using the workrounds for OSGI mentioned in \r\n\r\n - https://stackoverflow.com/q/30045873/671639\r\n - https://craftsmen.nl/getting-log4j2-to-work-in-an-osgi-context/\r\n\r\nLooking at the log4j2 source code in github, especially the new [OsgiServiceLocator.java][1] I can see that there are substantial changes regarding OSGI.\r\n\r\nUnfortunately I cannot find any information about how to get this working for an RCP application.\r\n\r\nAny ideas?\r\n\r\nExceptions:\r\n\r\n    ERROR StatusLogger Unable to load OSGI services for service class org.apache.logging.log4j.spi.Provider\r\n     java.lang.NullPointerException: Cannot invoke &quot;org.osgi.framework.BundleContext.getServiceReferences(java.lang.Class, String)&quot; because &quot;ctx&quot; is null\r\n    \tat org.apache.logging.log4j.util.OsgiServiceLocator.loadServices(OsgiServiceLocator.java:61)\r\n    \tat org.apache.logging.log4j.util.ServiceLoaderUtil.loadServices(ServiceLoaderUtil.java:92)\r\n    \tat org.apache.logging.log4j.util.ServiceLoaderUtil.loadServices(ServiceLoaderUtil.java:77)\r\n    \tat org.apache.logging.log4j.util.ProviderUtil.&lt;init&gt;(ProviderUtil.java:67)\r\n    \tat org.apache.logging.log4j.util.ProviderUtil.lazyInit(ProviderUtil.java:145)\r\n    \tat org.apache.logging.log4j.util.ProviderUtil.hasProviders(ProviderUtil.java:129)\r\n    \tat org.apache.logging.log4j.LogManager.&lt;clinit&gt;(LogManager.java:90)\r\n\r\n    ERROR StatusLogger Unable to load OSGI services for service interface org.apache.logging.log4j.core.util.ContextDataProvider\r\n     java.lang.NullPointerException: Cannot invoke &quot;org.osgi.framework.BundleContext.getServiceReferences(java.lang.Class, String)&quot; because &quot;ctx&quot; is null\r\n    \tat org.apache.logging.log4j.util.OsgiServiceLocator.loadServices(OsgiServiceLocator.java:61)\r\n    \tat org.apache.logging.log4j.util.ServiceLoaderUtil.loadServices(ServiceLoaderUtil.java:92)\r\n    \tat org.apache.logging.log4j.util.ServiceLoaderUtil.loadServices(ServiceLoaderUtil.java:77)\r\n    \tat org.apache.logging.log4j.core.impl.ThreadContextDataInjector.getServiceProviders(ThreadContextDataInjector.java:77)\r\n    \tat org.apache.logging.log4j.core.impl.ThreadContextDataInjector.&lt;clinit&gt;(ThreadContextDataInjector.java:64)\r\n    \tat org.apache.logging.log4j.core.impl.ThreadContextDataInjector$ForDefaultThreadContextMap.&lt;init&gt;(ThreadContextDataInjector.java:93)\r\n    \tat org.apache.logging.log4j.core.impl.ContextDataInjectorFactory.createDefaultInjector(ContextDataInjectorFactory.java:91)\r\n    \tat org.apache.logging.log4j.core.impl.ContextDataInjectorFactory.createInjector(ContextDataInjectorFactory.java:71)\r\n    \tat org.apache.logging.log4j.core.lookup.ContextMapLookup.&lt;init&gt;(ContextMapLookup.java:34)\r\n    \tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\r\n    \tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n    \tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\r\n    \tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\r\n    \tat org.apache.logging.log4j.core.util.ReflectionUtil.instantiate(ReflectionUtil.java:189)\r\n    \tat org.apache.logging.log4j.core.lookup.Interpolator.&lt;init&gt;(Interpolator.java:86)\r\n    \tat org.apache.logging.log4j.core.lookup.Interpolator.&lt;init&gt;(Interpolator.java:105)\r\n    \tat org.apache.logging.log4j.core.config.AbstractConfiguration.&lt;init&gt;(AbstractConfiguration.java:135)\r\n    \tat org.apache.logging.log4j.core.config.NullConfiguration.&lt;init&gt;(NullConfiguration.java:32)\r\n    \tat org.apache.logging.log4j.core.LoggerContext.&lt;clinit&gt;(LoggerContext.java:74)\r\n    \tat org.apache.logging.log4j.core.selector.ClassLoaderContextSelector.createContext(ClassLoaderContextSelector.java:254)\r\n    \tat org.apache.logging.log4j.core.selector.ClassLoaderContextSelector.locateContext(ClassLoaderContextSelector.java:218)\r\n    \tat org.apache.logging.log4j.core.selector.ClassLoaderContextSelector.getContext(ClassLoaderContextSelector.java:136)\r\n    \tat org.apache.logging.log4j.core.selector.ClassLoaderContextSelector.getContext(ClassLoaderContextSelector.java:123)\r\n    \tat org.apache.logging.log4j.core.selector.ClassLoaderContextSelector.getContext(ClassLoaderContextSelector.java:117)\r\n    \tat org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:150)\r\n    \tat org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:47)\r\n    \tat org.apache.logging.log4j.LogManager.getContext(LogManager.java:196)\r\n    \tat org.apache.logging.log4j.LogManager.getLogger(LogManager.java:599)\r\n\r\n    ERROR StatusLogger Unable to load OSGI services for service interface org.apache.logging.log4j.core.util.WatchEventService\r\n     java.lang.NullPointerException: Cannot invoke &quot;org.osgi.framework.BundleContext.getServiceReferences(java.lang.Class, String)&quot; because &quot;ctx&quot; is null\r\n    \tat org.apache.logging.log4j.util.OsgiServiceLocator.loadServices(OsgiServiceLocator.java:61)\r\n    \tat org.apache.logging.log4j.util.ServiceLoaderUtil.loadServices(ServiceLoaderUtil.java:92)\r\n    \tat org.apache.logging.log4j.util.ServiceLoaderUtil.loadServices(ServiceLoaderUtil.java:77)\r\n    \tat org.apache.logging.log4j.core.util.WatchManager.&lt;init&gt;(WatchManager.java:137)\r\n    \tat org.apache.logging.log4j.core.config.AbstractConfiguration.&lt;init&gt;(AbstractConfiguration.java:142)\r\n    \tat org.apache.logging.log4j.core.config.NullConfiguration.&lt;init&gt;(NullConfiguration.java:32)\r\n    \tat org.apache.logging.log4j.core.LoggerContext.&lt;clinit&gt;(LoggerContext.java:74)\r\n    \tat org.apache.logging.log4j.core.selector.ClassLoaderContextSelector.createContext(ClassLoaderContextSelector.java:254)\r\n    \tat org.apache.logging.log4j.core.selector.ClassLoaderContextSelector.locateContext(ClassLoaderContextSelector.java:218)\r\n    \tat org.apache.logging.log4j.core.selector.ClassLoaderContextSelector.getContext(ClassLoaderContextSelector.java:136)\r\n    \tat org.apache.logging.log4j.core.selector.ClassLoaderContextSelector.getContext(ClassLoaderContextSelector.java:123)\r\n    \tat org.apache.logging.log4j.core.selector.ClassLoaderContextSelector.getContext(ClassLoaderContextSelector.java:117)\r\n    \tat org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:150)\r\n    \tat org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:47)\r\n    \tat org.apache.logging.log4j.LogManager.getContext(LogManager.java:196)\r\n    \tat org.apache.logging.log4j.LogManager.getLogger(LogManager.java:599)\r\n\r\n\r\n  [1]: https://github.com/apache/logging-log4j2/blob/2d3ab5268a3ff7dbdc127eb480086a708b10acf6/log4j-api/src/main/java/org/apache/logging/log4j/util/OsgiServiceLocator.java","title":"Log4j is unable to load OSGI services","body":"<p>After updating log4j from 2.17.1 to 2.20.0 for a RCP application (OSGI!) we are getting lot's of exeptions on start-up.</p>\n<p>For some years we were happily using the workrounds for OSGI mentioned in</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/q/30045873/671639\">Log4j2 api cannot find Log4j2 core in OSGi environment</a></li>\n<li><a href=\"https://craftsmen.nl/getting-log4j2-to-work-in-an-osgi-context/\" rel=\"nofollow noreferrer\">https://craftsmen.nl/getting-log4j2-to-work-in-an-osgi-context/</a></li>\n</ul>\n<p>Looking at the log4j2 source code in github, especially the new <a href=\"https://github.com/apache/logging-log4j2/blob/2d3ab5268a3ff7dbdc127eb480086a708b10acf6/log4j-api/src/main/java/org/apache/logging/log4j/util/OsgiServiceLocator.java\" rel=\"nofollow noreferrer\">OsgiServiceLocator.java</a> I can see that there are substantial changes regarding OSGI.</p>\n<p>Unfortunately I cannot find any information about how to get this working for an RCP application.</p>\n<p>Any ideas?</p>\n<p>Exceptions:</p>\n<pre><code>ERROR StatusLogger Unable to load OSGI services for service class org.apache.logging.log4j.spi.Provider\n java.lang.NullPointerException: Cannot invoke &quot;org.osgi.framework.BundleContext.getServiceReferences(java.lang.Class, String)&quot; because &quot;ctx&quot; is null\n    at org.apache.logging.log4j.util.OsgiServiceLocator.loadServices(OsgiServiceLocator.java:61)\n    at org.apache.logging.log4j.util.ServiceLoaderUtil.loadServices(ServiceLoaderUtil.java:92)\n    at org.apache.logging.log4j.util.ServiceLoaderUtil.loadServices(ServiceLoaderUtil.java:77)\n    at org.apache.logging.log4j.util.ProviderUtil.&lt;init&gt;(ProviderUtil.java:67)\n    at org.apache.logging.log4j.util.ProviderUtil.lazyInit(ProviderUtil.java:145)\n    at org.apache.logging.log4j.util.ProviderUtil.hasProviders(ProviderUtil.java:129)\n    at org.apache.logging.log4j.LogManager.&lt;clinit&gt;(LogManager.java:90)\n\nERROR StatusLogger Unable to load OSGI services for service interface org.apache.logging.log4j.core.util.ContextDataProvider\n java.lang.NullPointerException: Cannot invoke &quot;org.osgi.framework.BundleContext.getServiceReferences(java.lang.Class, String)&quot; because &quot;ctx&quot; is null\n    at org.apache.logging.log4j.util.OsgiServiceLocator.loadServices(OsgiServiceLocator.java:61)\n    at org.apache.logging.log4j.util.ServiceLoaderUtil.loadServices(ServiceLoaderUtil.java:92)\n    at org.apache.logging.log4j.util.ServiceLoaderUtil.loadServices(ServiceLoaderUtil.java:77)\n    at org.apache.logging.log4j.core.impl.ThreadContextDataInjector.getServiceProviders(ThreadContextDataInjector.java:77)\n    at org.apache.logging.log4j.core.impl.ThreadContextDataInjector.&lt;clinit&gt;(ThreadContextDataInjector.java:64)\n    at org.apache.logging.log4j.core.impl.ThreadContextDataInjector$ForDefaultThreadContextMap.&lt;init&gt;(ThreadContextDataInjector.java:93)\n    at org.apache.logging.log4j.core.impl.ContextDataInjectorFactory.createDefaultInjector(ContextDataInjectorFactory.java:91)\n    at org.apache.logging.log4j.core.impl.ContextDataInjectorFactory.createInjector(ContextDataInjectorFactory.java:71)\n    at org.apache.logging.log4j.core.lookup.ContextMapLookup.&lt;init&gt;(ContextMapLookup.java:34)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\n    at org.apache.logging.log4j.core.util.ReflectionUtil.instantiate(ReflectionUtil.java:189)\n    at org.apache.logging.log4j.core.lookup.Interpolator.&lt;init&gt;(Interpolator.java:86)\n    at org.apache.logging.log4j.core.lookup.Interpolator.&lt;init&gt;(Interpolator.java:105)\n    at org.apache.logging.log4j.core.config.AbstractConfiguration.&lt;init&gt;(AbstractConfiguration.java:135)\n    at org.apache.logging.log4j.core.config.NullConfiguration.&lt;init&gt;(NullConfiguration.java:32)\n    at org.apache.logging.log4j.core.LoggerContext.&lt;clinit&gt;(LoggerContext.java:74)\n    at org.apache.logging.log4j.core.selector.ClassLoaderContextSelector.createContext(ClassLoaderContextSelector.java:254)\n    at org.apache.logging.log4j.core.selector.ClassLoaderContextSelector.locateContext(ClassLoaderContextSelector.java:218)\n    at org.apache.logging.log4j.core.selector.ClassLoaderContextSelector.getContext(ClassLoaderContextSelector.java:136)\n    at org.apache.logging.log4j.core.selector.ClassLoaderContextSelector.getContext(ClassLoaderContextSelector.java:123)\n    at org.apache.logging.log4j.core.selector.ClassLoaderContextSelector.getContext(ClassLoaderContextSelector.java:117)\n    at org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:150)\n    at org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:47)\n    at org.apache.logging.log4j.LogManager.getContext(LogManager.java:196)\n    at org.apache.logging.log4j.LogManager.getLogger(LogManager.java:599)\n\nERROR StatusLogger Unable to load OSGI services for service interface org.apache.logging.log4j.core.util.WatchEventService\n java.lang.NullPointerException: Cannot invoke &quot;org.osgi.framework.BundleContext.getServiceReferences(java.lang.Class, String)&quot; because &quot;ctx&quot; is null\n    at org.apache.logging.log4j.util.OsgiServiceLocator.loadServices(OsgiServiceLocator.java:61)\n    at org.apache.logging.log4j.util.ServiceLoaderUtil.loadServices(ServiceLoaderUtil.java:92)\n    at org.apache.logging.log4j.util.ServiceLoaderUtil.loadServices(ServiceLoaderUtil.java:77)\n    at org.apache.logging.log4j.core.util.WatchManager.&lt;init&gt;(WatchManager.java:137)\n    at org.apache.logging.log4j.core.config.AbstractConfiguration.&lt;init&gt;(AbstractConfiguration.java:142)\n    at org.apache.logging.log4j.core.config.NullConfiguration.&lt;init&gt;(NullConfiguration.java:32)\n    at org.apache.logging.log4j.core.LoggerContext.&lt;clinit&gt;(LoggerContext.java:74)\n    at org.apache.logging.log4j.core.selector.ClassLoaderContextSelector.createContext(ClassLoaderContextSelector.java:254)\n    at org.apache.logging.log4j.core.selector.ClassLoaderContextSelector.locateContext(ClassLoaderContextSelector.java:218)\n    at org.apache.logging.log4j.core.selector.ClassLoaderContextSelector.getContext(ClassLoaderContextSelector.java:136)\n    at org.apache.logging.log4j.core.selector.ClassLoaderContextSelector.getContext(ClassLoaderContextSelector.java:123)\n    at org.apache.logging.log4j.core.selector.ClassLoaderContextSelector.getContext(ClassLoaderContextSelector.java:117)\n    at org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:150)\n    at org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:47)\n    at org.apache.logging.log4j.LogManager.getContext(LogManager.java:196)\n    at org.apache.logging.log4j.LogManager.getLogger(LogManager.java:599)\n</code></pre>\n"},{"tags":["java","arrays","kotlin","uml"],"comments":[{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":1,"creation_date":1689246682,"post_id":76678567,"comment_id":135187768,"body_markdown":"Unless you want to produce a general (like Pseudo Code) UML diagram, you should use the data structures (or primitives, if present) of the programming language you use for that project. Since Kotlin does not have any primitives `int[]` seems inappropriate for a UML class diagram of a Kotlin project.","body":"Unless you want to produce a general (like Pseudo Code) UML diagram, you should use the data structures (or primitives, if present) of the programming language you use for that project. Since Kotlin does not have any primitives <code>int[]</code> seems inappropriate for a UML class diagram of a Kotlin project."},{"owner":{"account_id":15980430,"reputation":424,"user_id":11532220,"display_name":"Ali Dehkhodaei"},"score":0,"creation_date":1689247729,"post_id":76678567,"comment_id":135187979,"body_markdown":"My source code is Kotlin, so should I not put my datatype based on Kotlin in uml?","body":"My source code is Kotlin, so should I not put my datatype based on Kotlin in uml?"},{"owner":{"account_id":15980430,"reputation":424,"user_id":11532220,"display_name":"Ali Dehkhodaei"},"score":0,"creation_date":1689247811,"post_id":76678567,"comment_id":135188000,"body_markdown":"Can i use Java data type for Kotlin in uml class?","body":"Can i use Java data type for Kotlin in uml class?"},{"owner":{"account_id":4118713,"reputation":35681,"user_id":3379653,"accept_rate":82,"display_name":"qwerty_so"},"score":1,"creation_date":1689247887,"post_id":76678567,"comment_id":135188024,"body_markdown":"Use the UML notation and leave the rest to the coder reading the diagram. They will know how to handle it. Generally, UML is ignorant to prg-languages. So you keep it on an abstract level. Coders can do the transformation on the fly - even from UML to other prg-lannguages than you initially targeted.","body":"Use the UML notation and leave the rest to the coder reading the diagram. They will know how to handle it. Generally, UML is ignorant to prg-languages. So you keep it on an abstract level. Coders can do the transformation on the fly - even from UML to other prg-lannguages than you initially targeted."},{"owner":{"account_id":15980430,"reputation":424,"user_id":11532220,"display_name":"Ali Dehkhodaei"},"score":0,"creation_date":1689248299,"post_id":76678567,"comment_id":135188118,"body_markdown":"I don&#39;t fine my answer, please expliane more.","body":"I don&#39;t fine my answer, please expliane more."},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1689249334,"post_id":76678567,"comment_id":135188339,"body_markdown":"What I was trying to say is, if you paint a class diagram for a Kotlin project, then use data types from Kotlin (e.g. `+ myArray: Array&lt;Int&gt;`) and when you do the same thing for Java use Java types (e.g. `+ myArray: int[]`)","body":"What I was trying to say is, if you paint a class diagram for a Kotlin project, then use data types from Kotlin (e.g. <code>+ myArray: Array&lt;Int&gt;</code>) and when you do the same thing for Java use Java types (e.g. <code>+ myArray: int[]</code>)"},{"owner":{"account_id":7177885,"reputation":5820,"user_id":5483079,"accept_rate":60,"display_name":"www.admiraalit.nl"},"score":1,"creation_date":1689250150,"post_id":76678567,"comment_id":135188489,"body_markdown":"If you need to be strictly UML compliant, then the type shall be `Integer[*]`.","body":"If you need to be strictly UML compliant, then the type shall be <code>Integer[*]</code>."},{"owner":{"account_id":15980430,"reputation":424,"user_id":11532220,"display_name":"Ali Dehkhodaei"},"score":0,"creation_date":1689250588,"post_id":76678567,"comment_id":135188560,"body_markdown":"@deHaar I know that in the case of&#160;Int[], the size of the array can be specified as&#160;Int[30]. However, I&#39;m unsure about how to indicate the size of the array using the&#160;Array&lt;Int&gt;&#160;notation.","body":"@deHaar I know that in the case of Int[], the size of the array can be specified as Int[30]. However, I&#39;m unsure about how to indicate the size of the array using the Array&lt;Int&gt; notation."},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1689250885,"post_id":76678567,"comment_id":135188625,"body_markdown":"OK, in that very special case I would even use an `IntArray` instead of an `Array&lt;Int&gt;` and that can be dimensioned via constructor: `IntArray(5)`. See [Kotlin basic types](https://kotlinlang.org/docs/basic-types.html), the equivalent of Java primitives in Kotlin. If you stick to an `Array&lt;Int&gt;`, use its constructor, too: e.g. `Array&lt;Int&gt;(20)`. Both options contain all the information needed in a class diagram: name, type, type of content and dimension.","body":"OK, in that very special case I would even use an <code>IntArray</code> instead of an <code>Array&lt;Int&gt;</code> and that can be dimensioned via constructor: <code>IntArray(5)</code>. See <a href=\"https://kotlinlang.org/docs/basic-types.html\" rel=\"nofollow noreferrer\">Kotlin basic types</a>, the equivalent of Java primitives in Kotlin. If you stick to an <code>Array&lt;Int&gt;</code>, use its constructor, too: e.g. <code>Array&lt;Int&gt;(20)</code>. Both options contain all the information needed in a class diagram: name, type, type of content and dimension."},{"owner":{"account_id":15980430,"reputation":424,"user_id":11532220,"display_name":"Ali Dehkhodaei"},"score":0,"creation_date":1689251657,"post_id":76678567,"comment_id":135188787,"body_markdown":"Thank you&#128591;&#127995;&#128591;&#127995;","body":"Thank you🙏🏻🙏🏻"},{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":1,"creation_date":1689252922,"post_id":76678567,"comment_id":135189129,"body_markdown":"Voted to reopen because the question this was supposedly a duplicate of was entirely different than this question. However, this question might be off-topic for being opinion-based.","body":"Voted to reopen because the question this was supposedly a duplicate of was entirely different than this question. However, this question might be off-topic for being opinion-based."},{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":0,"creation_date":1689253248,"post_id":76678567,"comment_id":135189243,"body_markdown":"A Java `int[]` is a Kotlin `IntArray` and a Java `Integer[]` is a Kotlin `Array&lt;Int&gt;`. So, it depends if you want to get into the weeds of primitives vs. non-primitives in your diagram or not. Usually, Lists are preferred to arrays anyway, but I would expect most use cases for a UML to not be so specific about the implementation details.","body":"A Java <code>int[]</code> is a Kotlin <code>IntArray</code> and a Java <code>Integer[]</code> is a Kotlin <code>Array&lt;Int&gt;</code>. So, it depends if you want to get into the weeds of primitives vs. non-primitives in your diagram or not. Usually, Lists are preferred to arrays anyway, but I would expect most use cases for a UML to not be so specific about the implementation details."},{"owner":{"account_id":4589753,"reputation":69926,"user_id":3723423,"accept_rate":50,"display_name":"Christophe"},"score":0,"creation_date":1689704900,"post_id":76678567,"comment_id":135250612,"body_markdown":"@deHaar your approach does not work in a consistent manner in UML.  Because a class `A` having a property  `p:B[0..30]`  is equivalent to a class A being associated with class  B, where the B end is owned by A and its mutiplicity is 0..30.  Both notations are compatible with an `array&lt;B&gt;`. While you would not often use the second notation for arrays of ints or of strings, it is very common with arrays of other types. Your notation with language specific containers would not work with the asocitive notation.","body":"@deHaar your approach does not work in a consistent manner in UML.  Because a class <code>A</code> having a property  <code>p:B[0..30]</code>  is equivalent to a class A being associated with class  B, where the B end is owned by A and its mutiplicity is 0..30.  Both notations are compatible with an <code>array&lt;B&gt;</code>. While you would not often use the second notation for arrays of ints or of strings, it is very common with arrays of other types. Your notation with language specific containers would not work with the asocitive notation."}],"answers":[{"tags":[],"owner":{"account_id":13049371,"reputation":2767,"user_id":9430250,"display_name":"Axel Scheithauer"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1689255840,"creation_date":1689255840,"answer_id":76680085,"question_id":76678567,"body_markdown":"In UML there is no concept of an array. Instead there are properties that have a multiplicity. With this you can specify the number of allowed elements and their ordering and uniqueness. An array defines an ordering, but doesn&#39;t require the elements in it to be unique. So it will be specified like this:\r\n\r\n`property1:Integer[10..30]{ordered, non unique}`. \r\n\r\nThis would be shown in the attributes compartment of a class. \r\n\r\nHow this is translated into a textual notation of a programming language is up to the code generator and should be of no concern to the modeler.\r\n\r\nOf course, it might make sense to define the specific primitive datatypes of your programming language, so that readers of the diagram see familiar types. Alternatively you can define a mapping from the predefined UML primitive types.","title":"How to represent an array in UML class diagram for Kotlin?","body":"<p>In UML there is no concept of an array. Instead there are properties that have a multiplicity. With this you can specify the number of allowed elements and their ordering and uniqueness. An array defines an ordering, but doesn't require the elements in it to be unique. So it will be specified like this:</p>\n<p><code>property1:Integer[10..30]{ordered, non unique}</code>.</p>\n<p>This would be shown in the attributes compartment of a class.</p>\n<p>How this is translated into a textual notation of a programming language is up to the code generator and should be of no concern to the modeler.</p>\n<p>Of course, it might make sense to define the specific primitive datatypes of your programming language, so that readers of the diagram see familiar types. Alternatively you can define a mapping from the predefined UML primitive types.</p>\n"}],"owner":{"account_id":15980430,"reputation":424,"user_id":11532220,"display_name":"Ali Dehkhodaei"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1689332516,"creation_date":1689245619,"question_id":76678567,"body_markdown":"I  have the following Kotlin class:\r\n```\r\nclass Student {\r\n\r\n  private val courses: Array&lt;String&gt; = Array(30) {&quot;&quot;}\r\n  \r\n  private val grades: IntArray = IntArray(30)\r\n\r\n}\r\n```\r\nI am trying to create a UML class diagram for this Kotlin class. I am confused about the way to model the array attributes courses and grades.\r\n\r\nWhich of these UML representations is correct?\r\n\r\n1.\r\n```\r\n-courses: Array&lt;String&gt;[30]\r\n-grades: IntArray[30]\r\n```\r\n2.\r\n```\r\n-courses: Array&lt;String&gt;(30)\r\n-grades: IntArray(30)\r\n```\r\n3.\r\n```\r\n-courses: String[30]\r\n-grades: Int[30]\r\n```","title":"How to represent an array in UML class diagram for Kotlin?","body":"<p>I  have the following Kotlin class:</p>\n<pre><code>class Student {\n\n  private val courses: Array&lt;String&gt; = Array(30) {&quot;&quot;}\n  \n  private val grades: IntArray = IntArray(30)\n\n}\n</code></pre>\n<p>I am trying to create a UML class diagram for this Kotlin class. I am confused about the way to model the array attributes courses and grades.</p>\n<p>Which of these UML representations is correct?</p>\n<p>1.</p>\n<pre><code>-courses: Array&lt;String&gt;[30]\n-grades: IntArray[30]\n</code></pre>\n<ol start=\"2\">\n<li></li>\n</ol>\n<pre><code>-courses: Array&lt;String&gt;(30)\n-grades: IntArray(30)\n</code></pre>\n<ol start=\"3\">\n<li></li>\n</ol>\n<pre><code>-courses: String[30]\n-grades: Int[30]\n</code></pre>\n"},{"tags":["java","algorithm","modular-arithmetic"],"comments":[{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":1,"creation_date":1689336169,"post_id":37476168,"comment_id":135202540,"body_markdown":"FYI: there are constants `BigInteger.ZERO` and `BigInteger.ONE`.","body":"FYI: there are constants <code>BigInteger.ZERO</code> and <code>BigInteger.ONE</code>."}],"answers":[{"tags":[],"owner":{"account_id":174366,"reputation":12158,"user_id":403682,"accept_rate":95,"display_name":"Kenny Cason"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1464331651,"creation_date":1464331315,"answer_id":37476521,"question_id":37476168,"body_markdown":"It looks like you got the operations in the final return out of order. You also implemented the third value of Triple incorrectly. Here is my implementation. (I also used BigInteger&#39;s helper constants/methods + renamed variables for clarity.)\r\n\r\n    public class ExtendedEuclidAlgorithm {\r\n        public static void main(final String[] args) {\r\n            System.out.println(&quot;eea(240, 46) = &quot; + apply(BigInteger.valueOf(240), BigInteger.valueOf(46)));\r\n            System.out.println(&quot;eea(65, 40) = &quot; + apply(BigInteger.valueOf(65), BigInteger.valueOf(40)));\r\n            System.out.println(&quot;eea(1239, 735) = &quot; + apply(BigInteger.valueOf(1239), BigInteger.valueOf(735)));\r\n        }\r\n    \r\n        /*\r\n         * extended_euclid(d,s)\r\n              if s = 0\r\n                  than return (d,1,0)\r\n              (d&#39;,s&#39;,t&#39;) &lt;-- extended_euclid(s, d mod s)\r\n              return (d&#39;,t&#39;,s&#39; - (d div s)t&#39;)\r\n         */\r\n        public static Triple apply(final BigInteger a, final BigInteger b) {\r\n            if (b.equals(BigInteger.ZERO)) {\r\n                return new Triple(a, BigInteger.ONE, BigInteger.ZERO);\r\n            } else {\r\n                final Triple extension = apply(b, a.mod(b));\r\n                return new Triple(extension.d, extension.t, extension.s.subtract(a.divide(b).multiply(extension.t)));\r\n            }\r\n        }\r\n    \r\n    \r\n        private static class Triple {\r\n            public final BigInteger d;\r\n            public final BigInteger s;\r\n            public final BigInteger t;\r\n            private Triple(final BigInteger d, final BigInteger s, final BigInteger t) {\r\n                this.d = d;\r\n                this.s = s;\r\n                this.t = t;\r\n            }\r\n            @Override\r\n            public String toString() {\r\n                return &quot;Triple{&quot; +\r\n                        &quot;d=&quot; + d +\r\n                        &quot;, s=&quot; + s +\r\n                        &quot;, t=&quot; + t +\r\n                        &#39;}&#39;;\r\n            }\r\n        }\r\n    }\r\n\r\n&gt; eea(240, 46) = Triple{d=2, s=-9, t=47}\r\n\r\n&gt; eea(65, 40) = Triple{d=5, s=-3, t=5}\r\n\r\n&gt; eea(1239, 735) = Triple{d=21, s=-16, t=27}\r\n\r\nI validated the response values from [Wikipedia][1] and [here][2].\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Extended_Euclidean_algorithm\r\n  [2]: http://www.mast.queensu.ca/~math418/m418oh/m418oh04.pdf","title":"Extended Euclidean algorithm JAVA RSA","body":"<p>It looks like you got the operations in the final return out of order. You also implemented the third value of Triple incorrectly. Here is my implementation. (I also used BigInteger's helper constants/methods + renamed variables for clarity.)</p>\n\n<pre><code>public class ExtendedEuclidAlgorithm {\n    public static void main(final String[] args) {\n        System.out.println(\"eea(240, 46) = \" + apply(BigInteger.valueOf(240), BigInteger.valueOf(46)));\n        System.out.println(\"eea(65, 40) = \" + apply(BigInteger.valueOf(65), BigInteger.valueOf(40)));\n        System.out.println(\"eea(1239, 735) = \" + apply(BigInteger.valueOf(1239), BigInteger.valueOf(735)));\n    }\n\n    /*\n     * extended_euclid(d,s)\n          if s = 0\n              than return (d,1,0)\n          (d',s',t') &lt;-- extended_euclid(s, d mod s)\n          return (d',t',s' - (d div s)t')\n     */\n    public static Triple apply(final BigInteger a, final BigInteger b) {\n        if (b.equals(BigInteger.ZERO)) {\n            return new Triple(a, BigInteger.ONE, BigInteger.ZERO);\n        } else {\n            final Triple extension = apply(b, a.mod(b));\n            return new Triple(extension.d, extension.t, extension.s.subtract(a.divide(b).multiply(extension.t)));\n        }\n    }\n\n\n    private static class Triple {\n        public final BigInteger d;\n        public final BigInteger s;\n        public final BigInteger t;\n        private Triple(final BigInteger d, final BigInteger s, final BigInteger t) {\n            this.d = d;\n            this.s = s;\n            this.t = t;\n        }\n        @Override\n        public String toString() {\n            return \"Triple{\" +\n                    \"d=\" + d +\n                    \", s=\" + s +\n                    \", t=\" + t +\n                    '}';\n        }\n    }\n}\n</code></pre>\n\n<blockquote>\n  <p>eea(240, 46) = Triple{d=2, s=-9, t=47}</p>\n  \n  <p>eea(65, 40) = Triple{d=5, s=-3, t=5}</p>\n  \n  <p>eea(1239, 735) = Triple{d=21, s=-16, t=27}</p>\n</blockquote>\n\n<p>I validated the response values from <a href=\"https://en.wikipedia.org/wiki/Extended_Euclidean_algorithm\" rel=\"nofollow\">Wikipedia</a> and <a href=\"http://www.mast.queensu.ca/~math418/m418oh/m418oh04.pdf\" rel=\"nofollow\">here</a>.</p>\n"}],"owner":{"account_id":7677058,"reputation":581,"user_id":5817580,"display_name":"Paul"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2338,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":37476521,"answer_count":1,"score":1,"last_activity_date":1689332493,"creation_date":1464330052,"question_id":37476168,"body_markdown":"I&#39;m trying to implement the EEA. I found this pattern which I use also. \r\n\r\n    extended_euclid(a,b)\r\n    1  if b = 0\r\n    2      than return (a,1,0)\r\n    3  (d&#39;,s&#39;,t&#39;) &lt;-- extended_euclid(b, a mod b)\r\n    4  (d,s,t) &lt;--- (d&#39;,t&#39;,s&#39; - (a div b)t&#39;)\r\n    5  return (d,s,t)\r\n\r\nAnd my code looks like this:\r\n\r\n    public static Triple extendedEuclid(BigInteger a, BigInteger b) {\r\n        if (b.equals(new BigInteger(&quot;0&quot;))) {\r\n            return new Triple(a, new BigInteger(&quot;1&quot;), new BigInteger(&quot;0&quot;));\r\n        } else {\r\n           Triple i = extendedEuclid(b, a.mod(b));\r\n           return new Triple(i.getA(), i.getB(), (i.getC().divide(i.getB()).multiply(i.getC())));\r\n        }\r\n    }\r\n\r\nI&#39;m not quite sure if my code is correct. I looked up many pages like twenty or so but I still don&#39;t get it. I&#39;m mentally stuck.\r\nThanks.","title":"Extended Euclidean algorithm JAVA RSA","body":"<p>I'm trying to implement the EEA. I found this pattern which I use also.</p>\n<pre><code>extended_euclid(a,b)\n1  if b = 0\n2      than return (a,1,0)\n3  (d',s',t') &lt;-- extended_euclid(b, a mod b)\n4  (d,s,t) &lt;--- (d',t',s' - (a div b)t')\n5  return (d,s,t)\n</code></pre>\n<p>And my code looks like this:</p>\n<pre><code>public static Triple extendedEuclid(BigInteger a, BigInteger b) {\n    if (b.equals(new BigInteger(&quot;0&quot;))) {\n        return new Triple(a, new BigInteger(&quot;1&quot;), new BigInteger(&quot;0&quot;));\n    } else {\n       Triple i = extendedEuclid(b, a.mod(b));\n       return new Triple(i.getA(), i.getB(), (i.getC().divide(i.getB()).multiply(i.getC())));\n    }\n}\n</code></pre>\n<p>I'm not quite sure if my code is correct. I looked up many pages like twenty or so but I still don't get it. I'm mentally stuck.\nThanks.</p>\n"},{"tags":["java","arrays","inputstream","outputstream"],"comments":[{"owner":{"account_id":26000,"reputation":6957,"user_id":67350,"accept_rate":40,"display_name":"kuester2000"},"score":2,"creation_date":1273238344,"post_id":2091454,"comment_id":2824609,"body_markdown":"Shouldn&#39;t the title be &quot;array of bytes ...&quot; or &quot;byte array...&quot; or &quot;byte[]...&quot; instaed of &quot;byte of array...&quot;?","body":"Shouldn&#39;t the title be &quot;array of bytes ...&quot; or &quot;byte array...&quot; or &quot;byte[]...&quot; instaed of &quot;byte of array...&quot;?"},{"owner":{"account_id":110803,"reputation":13276,"user_id":293064,"accept_rate":95,"display_name":"Jay Taylor"},"score":1,"creation_date":1323116924,"post_id":2091454,"comment_id":10359374,"body_markdown":"See the reverse here: http://stackoverflow.com/questions/1264709/convert-inputstream-to-byte-in-java","body":"See the reverse here: <a href=\"http://stackoverflow.com/questions/1264709/convert-inputstream-to-byte-in-java\" title=\"convert inputstream to byte in java\">stackoverflow.com/questions/1264709/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":208,"is_accepted":true,"score":208,"last_activity_date":1509077531,"creation_date":1263882030,"answer_id":2091524,"question_id":2091454,"body_markdown":"You create and use byte array I/O streams as follows:\r\n\r\n    byte[] source = ...;\r\n    ByteArrayInputStream bis = new ByteArrayInputStream(source);\r\n    // read bytes from bis ...\r\n\r\n    ByteArrayOutputStream bos = new ByteArrayOutputStream();\r\n    // write bytes to bos ...\r\n    byte[] sink = bos.toByteArray();\r\n\r\nAssuming that you are using a JDBC driver that implements the standard [JDBC Blob interface][1] (not all do), you can *also* connect a `InputStream` or `OutputStream` to a blob using the `getBinaryStream` and `setBinaryStream` methods&lt;sup&gt;1&lt;/sup&gt;, and you can also get and set the bytes directly.\r\n\r\n(In general, you should take appropriate steps to handle any exceptions, and close streams.  However, closing `bis` and `bos` in the example above is unnecessary, since they aren&#39;t associated with any external resources; e.g. file descriptors, sockets, database connections.)\r\n\r\n&lt;sup&gt;1 - The `setBinaryStream` method is really a getter.  Go figure.&lt;/sup&gt;  \r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/sql/Blob.html","title":"Byte[] to InputStream or OutputStream","body":"<p>You create and use byte array I/O streams as follows:</p>\n\n<pre><code>byte[] source = ...;\nByteArrayInputStream bis = new ByteArrayInputStream(source);\n// read bytes from bis ...\n\nByteArrayOutputStream bos = new ByteArrayOutputStream();\n// write bytes to bos ...\nbyte[] sink = bos.toByteArray();\n</code></pre>\n\n<p>Assuming that you are using a JDBC driver that implements the standard <a href=\"http://java.sun.com/javase/6/docs/api/java/sql/Blob.html\" rel=\"noreferrer\">JDBC Blob interface</a> (not all do), you can <em>also</em> connect a <code>InputStream</code> or <code>OutputStream</code> to a blob using the <code>getBinaryStream</code> and <code>setBinaryStream</code> methods<sup>1</sup>, and you can also get and set the bytes directly.</p>\n\n<p>(In general, you should take appropriate steps to handle any exceptions, and close streams.  However, closing <code>bis</code> and <code>bos</code> in the example above is unnecessary, since they aren't associated with any external resources; e.g. file descriptors, sockets, database connections.)</p>\n\n<p><sup>1 - The <code>setBinaryStream</code> method is really a getter.  Go figure.</sup>  </p>\n"},{"tags":[],"owner":{"account_id":8326,"reputation":258545,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1263882058,"creation_date":1263882058,"answer_id":2091527,"question_id":2091454,"body_markdown":"There is no conversion between InputStream/OutputStream and the bytes they are working with. They are made for binary data, and just read (or write) the bytes one by one as is.\r\n\r\nA conversion needs to happen when you want to go from byte to char. Then you need to convert using a character set. This happens when you make String or Reader from bytes, which are made for character data.\r\n\r\n","title":"Byte[] to InputStream or OutputStream","body":"<p>There is no conversion between InputStream/OutputStream and the bytes they are working with. They are made for binary data, and just read (or write) the bytes one by one as is.</p>\n\n<p>A conversion needs to happen when you want to go from byte to char. Then you need to convert using a character set. This happens when you make String or Reader from bytes, which are made for character data.</p>\n"},{"tags":[],"owner":{"account_id":48948,"reputation":35452,"user_id":145574,"accept_rate":90,"display_name":"pstanton"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1405384065,"creation_date":1263882333,"answer_id":2091540,"question_id":2091454,"body_markdown":"I&#39;m assuming you mean that &#39;use&#39; means read, but what i&#39;ll explain for the read case can be basically reversed for the write case.\r\n\r\nso you end up with a byte[]. this could represent any kind of data which may need special types of conversions (character, encrypted, etc). let&#39;s pretend you want to write this data as is to a file.\r\n\r\nfirstly you could create a [ByteArrayInputStream][1] which is basically a mechanism to supply the bytes to something in sequence.\r\n\r\nthen you could create a [FileOutputStream][2] for the file you want to create. there are many types of InputStreams and OutputStreams for different data sources and destinations.\r\n\r\nlastly you would write the InputStream to the OutputStream. in this case, the array of bytes would be sent in sequence to the FileOutputStream for writing. For this i recommend using [IOUtils][3]\r\n\r\n    byte[] bytes = ...;//\r\n    ByteArrayInputStream in = new ByteArrayInputStream(bytes);\r\n    FileOutputStream out = new FileOutputStream(new File(...));\r\n    IOUtils.copy(in, out);\r\n    IOUtils.closeQuietly(in);\r\n    IOUtils.closeQuietly(out);\r\nand in reverse\r\n\r\n    FileInputStream in = new FileInputStream(new File(...));\r\n    ByteArrayOutputStream out = new ByteArrayOutputStream();\r\n    IOUtils.copy(in, out);\r\n    IOUtils.closeQuietly(in);\r\n    IOUtils.closeQuietly(out);\r\n    byte[] bytes = out.toByteArray();\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/io/ByteArrayInputStream.html\r\n  [2]: http://java.sun.com/javase/6/docs/api/java/io/FileOutputStream.html\r\n  [3]: http://commons.apache.org/io/api-1.4/org/apache/commons/io/IOUtils.html\r\n\r\nif you use the above code snippets you&#39;ll need to handle exceptions and i recommend you do the &#39;closes&#39; in a finally block.","title":"Byte[] to InputStream or OutputStream","body":"<p>I'm assuming you mean that 'use' means read, but what i'll explain for the read case can be basically reversed for the write case.</p>\n\n<p>so you end up with a byte[]. this could represent any kind of data which may need special types of conversions (character, encrypted, etc). let's pretend you want to write this data as is to a file.</p>\n\n<p>firstly you could create a <a href=\"http://java.sun.com/javase/6/docs/api/java/io/ByteArrayInputStream.html\" rel=\"noreferrer\">ByteArrayInputStream</a> which is basically a mechanism to supply the bytes to something in sequence.</p>\n\n<p>then you could create a <a href=\"http://java.sun.com/javase/6/docs/api/java/io/FileOutputStream.html\" rel=\"noreferrer\">FileOutputStream</a> for the file you want to create. there are many types of InputStreams and OutputStreams for different data sources and destinations.</p>\n\n<p>lastly you would write the InputStream to the OutputStream. in this case, the array of bytes would be sent in sequence to the FileOutputStream for writing. For this i recommend using <a href=\"http://commons.apache.org/io/api-1.4/org/apache/commons/io/IOUtils.html\" rel=\"noreferrer\">IOUtils</a></p>\n\n<pre><code>byte[] bytes = ...;//\nByteArrayInputStream in = new ByteArrayInputStream(bytes);\nFileOutputStream out = new FileOutputStream(new File(...));\nIOUtils.copy(in, out);\nIOUtils.closeQuietly(in);\nIOUtils.closeQuietly(out);\n</code></pre>\n\n<p>and in reverse</p>\n\n<pre><code>FileInputStream in = new FileInputStream(new File(...));\nByteArrayOutputStream out = new ByteArrayOutputStream();\nIOUtils.copy(in, out);\nIOUtils.closeQuietly(in);\nIOUtils.closeQuietly(out);\nbyte[] bytes = out.toByteArray();\n</code></pre>\n\n<p>if you use the above code snippets you'll need to handle exceptions and i recommend you do the 'closes' in a finally block.</p>\n"},{"tags":[],"owner":{"account_id":1912589,"reputation":3588,"user_id":1725975,"display_name":"Sym-Sym"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1380739860,"creation_date":1380739860,"answer_id":19144548,"question_id":2091454,"body_markdown":"I do realize that my answer is way late for this question but I think the community would like [a newer approach to this issue][1]. \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/6481409/byte-array-of-unknown-length-in-java-part-ii/19144417#19144417","title":"Byte[] to InputStream or OutputStream","body":"<p>I do realize that my answer is way late for this question but I think the community would like <a href=\"https://stackoverflow.com/questions/6481409/byte-array-of-unknown-length-in-java-part-ii/19144417#19144417\">a newer approach to this issue</a>. </p>\n"},{"tags":[],"owner":{"account_id":2300727,"reputation":1,"user_id":2021075,"display_name":"Stas Wishnevetsky"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1422460944,"creation_date":1422460944,"answer_id":28196830,"question_id":2091454,"body_markdown":"    byte[] data = dbEntity.getBlobData();\r\n    response.getOutputStream().write();\r\n\r\nI think this is better since you already have an existing OutputStream in the response object.\r\nno need to create a new OutputStream.","title":"Byte[] to InputStream or OutputStream","body":"<pre><code>byte[] data = dbEntity.getBlobData();\nresponse.getOutputStream().write();\n</code></pre>\n\n<p>I think this is better since you already have an existing OutputStream in the response object.\nno need to create a new OutputStream.</p>\n"},{"tags":[],"owner":{"account_id":4533633,"reputation":59,"user_id":3683433,"display_name":"12cram"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1441147832,"creation_date":1441147832,"answer_id":32342078,"question_id":2091454,"body_markdown":"we can convert byte[] array into input stream by using ByteArrayInputStream\r\n\r\n    String str = &quot;Welcome to awesome Java World&quot;;\r\n        byte[] content = str.getBytes();\r\n        int size = content.length;\r\n        InputStream is = null;\r\n        byte[] b = new byte[size];\r\n        is = new ByteArrayInputStream(content);\r\n\r\nFor full example please check here http://www.onlinecodegeek.com/2015/09/how-to-convert-byte-into-inputstream.html\r\n","title":"Byte[] to InputStream or OutputStream","body":"<p>we can convert byte[] array into input stream by using ByteArrayInputStream</p>\n\n<pre><code>String str = \"Welcome to awesome Java World\";\n    byte[] content = str.getBytes();\n    int size = content.length;\n    InputStream is = null;\n    byte[] b = new byte[size];\n    is = new ByteArrayInputStream(content);\n</code></pre>\n\n<p>For full example please check here <a href=\"http://www.onlinecodegeek.com/2015/09/how-to-convert-byte-into-inputstream.html\" rel=\"noreferrer\">http://www.onlinecodegeek.com/2015/09/how-to-convert-byte-into-inputstream.html</a></p>\n"},{"tags":[],"owner":{"account_id":553335,"reputation":3722,"user_id":918768,"display_name":"DALDEI"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1474458494,"creation_date":1474458494,"answer_id":39615733,"question_id":2091454,"body_markdown":"    output = new ByteArrayOutputStream();\r\n    ...\r\n    input = new ByteArrayInputStream( output.toByteArray() )","title":"Byte[] to InputStream or OutputStream","body":"<pre><code>output = new ByteArrayOutputStream();\n...\ninput = new ByteArrayInputStream( output.toByteArray() )\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28538177,"reputation":7,"user_id":21844603,"display_name":"BuchuleSidondi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689332171,"creation_date":1689332171,"answer_id":76687009,"question_id":2091454,"body_markdown":"    String info = &quot;somedata&quot;;\t\t\r\n    OutputStream os=new FileOutputStream(&quot;mydata.bin&quot;);\r\n    \t\tbyte [] datas= info.getBytes();\r\n    \t\tos.write(datas);\r\n    \t\r\n    InputStream is=new FileInputStream(&quot;mydata.bin&quot;);\r\n    \r\n    \t\tdatas=new byte[1000];\r\n    \t\tint counts = is.read(datas); //reads all data from bin to datas then returns size\r\n    \r\n    \t\tinfo = new String(datas,0,counts); //\r\n    \t\tis.close();;\r\n    \r\n    \r\n    \t\tSystem.out.println(&quot;From Binary File: &quot; + info);","title":"Byte[] to InputStream or OutputStream","body":"<pre><code>String info = &quot;somedata&quot;;       \nOutputStream os=new FileOutputStream(&quot;mydata.bin&quot;);\n        byte [] datas= info.getBytes();\n        os.write(datas);\n    \nInputStream is=new FileInputStream(&quot;mydata.bin&quot;);\n\n        datas=new byte[1000];\n        int counts = is.read(datas); //reads all data from bin to datas then returns size\n\n        info = new String(datas,0,counts); //\n        is.close();;\n\n\n        System.out.println(&quot;From Binary File: &quot; + info);\n</code></pre>\n"}],"owner":{"account_id":87077,"reputation":25964,"user_id":241717,"accept_rate":73,"display_name":"GuruKulki"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":315973,"favorite_count":0,"down_vote_count":0,"up_vote_count":138,"accepted_answer_id":2091524,"answer_count":8,"score":138,"last_activity_date":1689332171,"creation_date":1263881011,"question_id":2091454,"body_markdown":"I have a blob column in my database table, for which I have to use `byte[]` in my Java program as a mapping and to use this data I have to convert it to `InputStream` or `OutputStream`. But I don&#39;t know what happens internally when I do so. Can anyone briefly explain me what&#39;s happening when I do this conversion?","title":"Byte[] to InputStream or OutputStream","body":"<p>I have a blob column in my database table, for which I have to use <code>byte[]</code> in my Java program as a mapping and to use this data I have to convert it to <code>InputStream</code> or <code>OutputStream</code>. But I don't know what happens internally when I do so. Can anyone briefly explain me what's happening when I do this conversion?</p>\n"},{"tags":["java","powermock"],"comments":[{"owner":{"account_id":359062,"reputation":6355,"user_id":700232,"accept_rate":83,"display_name":"Kalpak Gadre"},"score":0,"creation_date":1366110311,"post_id":16035365,"comment_id":22876394,"body_markdown":"This is a good question. Does not deserve to be downvoted.","body":"This is a good question. Does not deserve to be downvoted."},{"owner":{"account_id":23031,"reputation":10957,"user_id":57423,"accept_rate":78,"display_name":"Bhushan Bhangale"},"score":0,"creation_date":1366110468,"post_id":16035365,"comment_id":22876476,"body_markdown":"Did you try it using PowerMock? PowerMock does mock new object creations inside the method so should work.","body":"Did you try it using PowerMock? PowerMock does mock new object creations inside the method so should work."}],"answers":[{"tags":[],"owner":{"account_id":2491540,"reputation":13743,"user_id":2168879,"accept_rate":40,"display_name":"NilsH"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1366110584,"creation_date":1366110252,"answer_id":16035414,"question_id":16035365,"body_markdown":"I&#39;m not sure if it&#39;s possible, but I have had such a requirement, and I solved it by creating a `FileService` interface. So instead of creating/accessing files directly, you add an abstraction. Then you can easily mock this interface in your tests.\r\n\r\nFor instance:\r\n\r\n    public interface FileService {\r\n\r\n        InputStream openFile(String path);\r\n        OutputStream createFile(String path);\r\n\r\n    }\r\n\r\nThen in your class using this:\r\n\r\n    public class MyClass {\r\n\r\n        private FileService fileService;\r\n\r\n        public MyClass(FileService fileService) {\r\n            this.fileService = fileService;\r\n        }\r\n\r\n        public void doSomething() {\r\n            // Instead of creating file, use file service\r\n            OutputStream out = fileService.createFile(myFileName);\r\n        }\r\n    }\r\n\r\nAnd in your test\r\n\r\n    @Test\r\n    public void testOperationThatCreatesFile() {\r\n        MyClass myClass = new MyClass(mockFileService);\r\n        // Do your tests\r\n    }\r\n         \r\nThis way, you can even mock it without any mock libraries.","title":"Is it possible to use PowerMock to mock new file creation?","body":"<p>I'm not sure if it's possible, but I have had such a requirement, and I solved it by creating a <code>FileService</code> interface. So instead of creating/accessing files directly, you add an abstraction. Then you can easily mock this interface in your tests.</p>\n\n<p>For instance:</p>\n\n<pre><code>public interface FileService {\n\n    InputStream openFile(String path);\n    OutputStream createFile(String path);\n\n}\n</code></pre>\n\n<p>Then in your class using this:</p>\n\n<pre><code>public class MyClass {\n\n    private FileService fileService;\n\n    public MyClass(FileService fileService) {\n        this.fileService = fileService;\n    }\n\n    public void doSomething() {\n        // Instead of creating file, use file service\n        OutputStream out = fileService.createFile(myFileName);\n    }\n}\n</code></pre>\n\n<p>And in your test</p>\n\n<pre><code>@Test\npublic void testOperationThatCreatesFile() {\n    MyClass myClass = new MyClass(mockFileService);\n    // Do your tests\n}\n</code></pre>\n\n<p>This way, you can even mock it without any mock libraries.</p>\n"},{"tags":[],"owner":{"account_id":2228996,"reputation":15977,"user_id":1967100,"accept_rate":78,"display_name":"cahen"},"down_vote_count":1,"up_vote_count":10,"is_accepted":true,"score":9,"last_activity_date":1689331931,"creation_date":1366449159,"answer_id":16118611,"question_id":16035365,"body_markdown":"Mock the constructor, like in this example code. **Don&#39;t forget** to put the class that will invoke the &quot;new File(...)&quot; in the **@PrepareForTest**\r\n\r\n\r\n    package hello.easymock.constructor;\r\n    \r\n    import java.io.File;\r\n    \r\n    import org.easymock.EasyMock;\r\n    import org.junit.Assert;\r\n    import org.junit.Test;\r\n    import org.junit.runner.RunWith;\r\n    import org.powermock.api.easymock.PowerMock;\r\n    import org.powermock.core.classloader.annotations.PrepareForTest;\r\n    import org.powermock.modules.junit4.PowerMockRunner;\r\n    \r\n    @RunWith(PowerMockRunner.class)\r\n    @PrepareForTest({File.class})\r\n    public class ConstructorExampleTest {\r\n    \t\r\n    \t@Test\r\n    \tpublic void testMockFile() throws Exception {\r\n    \t\t// first, create a mock for File\r\n    \t\tfinal File fileMock = EasyMock.createMock(File.class);\r\n    \t\tEasyMock.expect(fileMock.getAbsolutePath()).andReturn(&quot;/my/fake/file/path&quot;);\r\n    \t\tEasyMock.replay(fileMock);\r\n    \r\n    \t\t// then return the mocked object if the constructor is invoked\r\n    \t\tClass&lt;?&gt;[] parameterTypes = new Class[] { String.class };\r\n    \t\tPowerMock.expectNew(File.class, parameterTypes , EasyMock.isA(String.class)).andReturn(fileMock);\r\n    \t\tPowerMock.replay(File.class); \r\n    \r\n    \t\t// try constructing a real File and check if the mock kicked in\r\n    \t\tfinal String mockedFilePath = new File(&quot;/real/path/for/file&quot;).getAbsolutePath();\r\n    \t\tAssert.assertEquals(&quot;/my/fake/file/path&quot;, mockedFilePath);\r\n    \t}\r\n    \r\n    }\r\n","title":"Is it possible to use PowerMock to mock new file creation?","body":"<p>Mock the constructor, like in this example code. <strong>Don't forget</strong> to put the class that will invoke the &quot;new File(...)&quot; in the <strong>@PrepareForTest</strong></p>\n<pre><code>package hello.easymock.constructor;\n\nimport java.io.File;\n\nimport org.easymock.EasyMock;\nimport org.junit.Assert;\nimport org.junit.Test;\nimport org.junit.runner.RunWith;\nimport org.powermock.api.easymock.PowerMock;\nimport org.powermock.core.classloader.annotations.PrepareForTest;\nimport org.powermock.modules.junit4.PowerMockRunner;\n\n@RunWith(PowerMockRunner.class)\n@PrepareForTest({File.class})\npublic class ConstructorExampleTest {\n    \n    @Test\n    public void testMockFile() throws Exception {\n        // first, create a mock for File\n        final File fileMock = EasyMock.createMock(File.class);\n        EasyMock.expect(fileMock.getAbsolutePath()).andReturn(&quot;/my/fake/file/path&quot;);\n        EasyMock.replay(fileMock);\n\n        // then return the mocked object if the constructor is invoked\n        Class&lt;?&gt;[] parameterTypes = new Class[] { String.class };\n        PowerMock.expectNew(File.class, parameterTypes , EasyMock.isA(String.class)).andReturn(fileMock);\n        PowerMock.replay(File.class); \n\n        // try constructing a real File and check if the mock kicked in\n        final String mockedFilePath = new File(&quot;/real/path/for/file&quot;).getAbsolutePath();\n        Assert.assertEquals(&quot;/my/fake/file/path&quot;, mockedFilePath);\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1395473,"reputation":730,"user_id":1325331,"display_name":"Ziya"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1494895783,"creation_date":1440548167,"answer_id":32216101,"question_id":16035365,"body_markdown":"try PowerMockito\r\n\r\n    import org.mockito.Mockito;\r\n    import org.powermock.api.mockito.PowerMockito;\r\n    import org.powermock.core.classloader.annotations.PrepareForTest;\r\n    \r\n    \r\n    @PrepareForTest(YourUtilityClassWhereFileIsCreated.class)\r\n    public class TestClass {\r\n    \r\n     @Test\r\n     public void myTestMethod() {\r\n       File myFile = PowerMockito.mock(File.class);\r\n       PowerMockito.whenNew(File.class).withAnyArguments().thenReturn(myFile);\r\n       Mockito.when(myFile.createNewFile()).thenReturn(true);\r\n     }\r\n    \r\n    }","title":"Is it possible to use PowerMock to mock new file creation?","body":"<p>try PowerMockito</p>\n\n<pre><code>import org.mockito.Mockito;\nimport org.powermock.api.mockito.PowerMockito;\nimport org.powermock.core.classloader.annotations.PrepareForTest;\n\n\n@PrepareForTest(YourUtilityClassWhereFileIsCreated.class)\npublic class TestClass {\n\n @Test\n public void myTestMethod() {\n   File myFile = PowerMockito.mock(File.class);\n   PowerMockito.whenNew(File.class).withAnyArguments().thenReturn(myFile);\n   Mockito.when(myFile.createNewFile()).thenReturn(true);\n }\n\n}\n</code></pre>\n"}],"owner":{"account_id":1391304,"reputation":3822,"user_id":1322076,"accept_rate":56,"display_name":"johnny-b-goode"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13445,"favorite_count":0,"down_vote_count":2,"up_vote_count":11,"accepted_answer_id":16118611,"answer_count":3,"score":9,"last_activity_date":1689331931,"creation_date":1366110113,"question_id":16035365,"body_markdown":"I want to cover a logic, that creates files with unit tests. Is it possible to mock File class and to avoid actual file creation?","title":"Is it possible to use PowerMock to mock new file creation?","body":"<p>I want to cover a logic, that creates files with unit tests. Is it possible to mock File class and to avoid actual file creation?</p>\n"},{"tags":["java","review","google-my-business-api","google-reviews"],"comments":[{"owner":{"account_id":3238786,"reputation":1473,"user_id":3062971,"accept_rate":86,"display_name":"vpgcloud"},"score":1,"creation_date":1646232153,"post_id":71321203,"comment_id":126072352,"body_markdown":"We&#39;ve observed the same, not much you can do about it apart from retrying requests...","body":"We&#39;ve observed the same, not much you can do about it apart from retrying requests..."},{"owner":{"account_id":18991005,"reputation":1312,"user_id":13860286,"display_name":"Shila Mosammami"},"score":0,"creation_date":1646649398,"post_id":71321203,"comment_id":126167393,"body_markdown":"Is there any way to understand if a review has been deleted or not, since google might not be accurate? because I cannot trust if once I do not find the reviewId in the returned list of GMB, so it is deleted.","body":"Is there any way to understand if a review has been deleted or not, since google might not be accurate? because I cannot trust if once I do not find the reviewId in the returned list of GMB, so it is deleted."},{"owner":{"account_id":3238786,"reputation":1473,"user_id":3062971,"accept_rate":86,"display_name":"vpgcloud"},"score":1,"creation_date":1646667731,"post_id":71321203,"comment_id":126174397,"body_markdown":"To check if a review still exists, you can always issue a GET request for that individual review.","body":"To check if a review still exists, you can always issue a GET request for that individual review."}],"answers":[{"tags":[],"owner":{"account_id":3238786,"reputation":1473,"user_id":3062971,"accept_rate":86,"display_name":"vpgcloud"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689331698,"creation_date":1689331698,"answer_id":76686966,"question_id":71321203,"body_markdown":"This is a known bug for locations with many reviews, the only workaround that exists is already close what you are describing: iterate through the reviews multiple times and aggregate all distinct reviews.","title":"How accurate Google My Business api returns the Reviews for all locations of an account?","body":"<p>This is a known bug for locations with many reviews, the only workaround that exists is already close what you are describing: iterate through the reviews multiple times and aggregate all distinct reviews.</p>\n"}],"owner":{"account_id":18991005,"reputation":1312,"user_id":13860286,"display_name":"Shila Mosammami"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":949,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1689331698,"creation_date":1646217317,"question_id":71321203,"body_markdown":"I want to know if google my business api returns ALL reviews in each call or it might not return some of them if the number of reviews are a lot?\r\nUsing this link  \r\n (https://developers.google.com/my-business/reference/rest/v4/accounts.locations.reviews/list) , my code is based on the code provided here (https://developers.google.com/my-business/content/review-data#list_all_reviews). The account I am listing its reviews has more than 83000 reviews for its all locations and once I execute the code it might return about 81000 reviews and the second time  2 or 3 thousands more and another time 75000 reviews. Has anyone encountered something similar?\r\n","title":"How accurate Google My Business api returns the Reviews for all locations of an account?","body":"<p>I want to know if google my business api returns ALL reviews in each call or it might not return some of them if the number of reviews are a lot?\nUsing this link<br />\n(<a href=\"https://developers.google.com/my-business/reference/rest/v4/accounts.locations.reviews/list\" rel=\"nofollow noreferrer\">https://developers.google.com/my-business/reference/rest/v4/accounts.locations.reviews/list</a>) , my code is based on the code provided here (<a href=\"https://developers.google.com/my-business/content/review-data#list_all_reviews\" rel=\"nofollow noreferrer\">https://developers.google.com/my-business/content/review-data#list_all_reviews</a>). The account I am listing its reviews has more than 83000 reviews for its all locations and once I execute the code it might return about 81000 reviews and the second time  2 or 3 thousands more and another time 75000 reviews. Has anyone encountered something similar?</p>\n"},{"tags":["java","iterator","spring-webflux","project-reactor","spliterator"],"answers":[{"tags":[],"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689330183,"creation_date":1689330183,"answer_id":76686796,"question_id":76685286,"body_markdown":"Until [that][1] issue was recently resolved, `Iterable.iterator()` was actually called twice. [Here][2] is `FluxIterable` source code of   reactor-core 3.4.25:\r\n\r\n\t@Override\r\n\tpublic void subscribe(CoreSubscriber&lt;? super T&gt; actual) {\r\n        // ...\r\n\t\ttry {\r\n\t\t\tknownToBeFinite = FluxIterable.checkFinite(iterable);\r\n\t\t\tit = iterable.iterator();\r\n\t\t}\r\n        // ...\r\n\t}\r\n\r\nwhile `FluxIterable.checkFinite(iterable)` is\r\n\r\n\tstatic &lt;T&gt; boolean checkFinite(Iterable&lt;T&gt; iterable) {\r\n\t\treturn iterable instanceof Collection || iterable.spliterator().hasCharacteristics(Spliterator.SIZED);\r\n\t}\r\n\r\nand `Iterable.spliterator` is\r\n\r\n    default Spliterator&lt;T&gt; spliterator() {\r\n        return Spliterators.spliteratorUnknownSize(iterator(), 0);\r\n    }\r\n\r\n\r\nSo the first call to `.iterator` is made to obtain an `Spliterator` and examine whether it&#39;s finite, and the second call is performed in order to actually obtain iterator that would be used to iterate over the elements.\r\n\r\nSince mentioned issue has been resolved, I&#39;m not sure whether that notice about two `iterator()` calls is still valid. May be calling `iterator()` only once now is a kind of undocumented feature that is not reliable in feature.\r\n\r\n  [1]: https://github.com/reactor/reactor-core/issues/3295\r\n  [2]: https://github.com/reactor/reactor-core/blob/v3.4.25/reactor-core/src/main/java/reactor/core/publisher/FluxIterable.java","title":"Why can Flux.fromIterable(Iterable) call Iterable.iterator() twice?","body":"<p>Until <a href=\"https://github.com/reactor/reactor-core/issues/3295\" rel=\"nofollow noreferrer\">that</a> issue was recently resolved, <code>Iterable.iterator()</code> was actually called twice. <a href=\"https://github.com/reactor/reactor-core/blob/v3.4.25/reactor-core/src/main/java/reactor/core/publisher/FluxIterable.java\" rel=\"nofollow noreferrer\">Here</a> is <code>FluxIterable</code> source code of   reactor-core 3.4.25:</p>\n<pre><code>@Override\npublic void subscribe(CoreSubscriber&lt;? super T&gt; actual) {\n    // ...\n    try {\n        knownToBeFinite = FluxIterable.checkFinite(iterable);\n        it = iterable.iterator();\n    }\n    // ...\n}\n</code></pre>\n<p>while <code>FluxIterable.checkFinite(iterable)</code> is</p>\n<pre><code>static &lt;T&gt; boolean checkFinite(Iterable&lt;T&gt; iterable) {\n    return iterable instanceof Collection || iterable.spliterator().hasCharacteristics(Spliterator.SIZED);\n}\n</code></pre>\n<p>and <code>Iterable.spliterator</code> is</p>\n<pre><code>default Spliterator&lt;T&gt; spliterator() {\n    return Spliterators.spliteratorUnknownSize(iterator(), 0);\n}\n</code></pre>\n<p>So the first call to <code>.iterator</code> is made to obtain an <code>Spliterator</code> and examine whether it's finite, and the second call is performed in order to actually obtain iterator that would be used to iterate over the elements.</p>\n<p>Since mentioned issue has been resolved, I'm not sure whether that notice about two <code>iterator()</code> calls is still valid. May be calling <code>iterator()</code> only once now is a kind of undocumented feature that is not reliable in feature.</p>\n"}],"owner":{"account_id":3446101,"reputation":11345,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1689330183,"creation_date":1689317122,"question_id":76685286,"body_markdown":"The [`Flux.fromIterable(Iterable)`][1] has an interesting sentence in its contract:\r\n\r\n&gt; The `Iterable.iterator()` method will be **invoked** at least once and **at most twice** for each subscriber.\r\n\r\nWhat is the scenario when the method needs to call the `Iterable.iterator()` twice?\r\n\r\nThere **is** an explanation for it in the documentation, however I don&#39;t fully understand it:\r\n\r\n&gt; This operator inspects the `Iterable`&#39;s `Spliterator` to assess if the iteration can be guaranteed to be finite. Since the default `Spliterator` wraps the `Iterator` we can have two `Iterable.iterator()` calls. This second invocation is skipped on a `Collection` however, a type which is assumed to be always finite.\r\n\r\n\r\n  [1]: https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html#fromIterable-java.lang.Iterable-","title":"Why can Flux.fromIterable(Iterable) call Iterable.iterator() twice?","body":"<p>The <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html#fromIterable-java.lang.Iterable-\" rel=\"nofollow noreferrer\"><code>Flux.fromIterable(Iterable)</code></a> has an interesting sentence in its contract:</p>\n<blockquote>\n<p>The <code>Iterable.iterator()</code> method will be <strong>invoked</strong> at least once and <strong>at most twice</strong> for each subscriber.</p>\n</blockquote>\n<p>What is the scenario when the method needs to call the <code>Iterable.iterator()</code> twice?</p>\n<p>There <strong>is</strong> an explanation for it in the documentation, however I don't fully understand it:</p>\n<blockquote>\n<p>This operator inspects the <code>Iterable</code>'s <code>Spliterator</code> to assess if the iteration can be guaranteed to be finite. Since the default <code>Spliterator</code> wraps the <code>Iterator</code> we can have two <code>Iterable.iterator()</code> calls. This second invocation is skipped on a <code>Collection</code> however, a type which is assumed to be always finite.</p>\n</blockquote>\n"},{"tags":["java","spring","active-directory","spring-security","ldap"],"answers":[{"tags":[],"owner":{"account_id":2547429,"reputation":909,"user_id":2211943,"display_name":"cabbagery"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1366481759,"creation_date":1366481759,"answer_id":16123627,"question_id":16113115,"body_markdown":"Spring&#39;s ActiveDirectoryLdapAuthenticationProvider class is `final`, so my only real option (I&#39;ll entertain better ones if there are any takers) was to fork the class. I copied and pasted its contents, refactored slightly, and removed the `final` designation. Then, I created a separate subclass of the forked class, overriding the `loadUserAuthorities()` method, and added my own code for building a permissions mask.\r\n\r\nI was then able to edit my `ldap.xml` file as follows:\r\n\r\n    \t&lt;bean id=&quot;ldapAuthenticationProvider&quot;\r\n\t\t\t\tclass=&quot;my.project.package.OverrideActiveDirectoryLdapAuthenticationProvider&quot;&gt;\t\r\n\t\t\t&lt;constructor-arg value=&quot;test.server&quot;/&gt;\r\n\t\t\t&lt;constructor-arg value=&quot;ldap://192.168.0.2:389&quot;/&gt;\r\n\t\t\t&lt;property name=&quot;convertSubErrorCodesToExceptions&quot; value=&quot;true&quot;/&gt;\r\n\t&lt;/bean&gt;\r\n\r\nFor any other n00bs like me, the subclass looks like this:\r\n\r\n    public class OverrideActiveDirectoryLdapAuthenticationProvider extends TestActiveDirectoryLdapAuthenticationProvider {\r\n\r\n    //my assignments\r\n\t\t\r\n\tpublic OverrideActiveDirectoryLdapAuthenticationProvider(String domain,\r\n\t\t\tString url) {\r\n\t\tsuper(domain, url);\r\n\t}\r\n\t\r\n\t@Override\r\n    protected Collection&lt;? extends GrantedAuthority&gt; loadUserAuthorities(DirContextOperations userData, String username, String password) {\r\n\t//original code with my own additions\r\n    //in my case, I injected code into the for(group : groups) loop\r\n\t}\r\n\r\nWorked like a charm.\r\n\r\nMuch thanks to zagyi for the assistance.","title":"How do I use a custom authorities populator with Spring Security and the ActiveDirectoryLdapAuthenticationProvider?","body":"<p>Spring's ActiveDirectoryLdapAuthenticationProvider class is <code>final</code>, so my only real option (I'll entertain better ones if there are any takers) was to fork the class. I copied and pasted its contents, refactored slightly, and removed the <code>final</code> designation. Then, I created a separate subclass of the forked class, overriding the <code>loadUserAuthorities()</code> method, and added my own code for building a permissions mask.</p>\n\n<p>I was then able to edit my <code>ldap.xml</code> file as follows:</p>\n\n<pre><code>    &lt;bean id=\"ldapAuthenticationProvider\"\n            class=\"my.project.package.OverrideActiveDirectoryLdapAuthenticationProvider\"&gt;   \n        &lt;constructor-arg value=\"test.server\"/&gt;\n        &lt;constructor-arg value=\"ldap://192.168.0.2:389\"/&gt;\n        &lt;property name=\"convertSubErrorCodesToExceptions\" value=\"true\"/&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>For any other n00bs like me, the subclass looks like this:</p>\n\n<pre><code>public class OverrideActiveDirectoryLdapAuthenticationProvider extends TestActiveDirectoryLdapAuthenticationProvider {\n\n//my assignments\n\npublic OverrideActiveDirectoryLdapAuthenticationProvider(String domain,\n        String url) {\n    super(domain, url);\n}\n\n@Override\nprotected Collection&lt;? extends GrantedAuthority&gt; loadUserAuthorities(DirContextOperations userData, String username, String password) {\n//original code with my own additions\n//in my case, I injected code into the for(group : groups) loop\n}\n</code></pre>\n\n<p>Worked like a charm.</p>\n\n<p>Much thanks to zagyi for the assistance.</p>\n"},{"tags":[],"owner":{"account_id":9061766,"reputation":111,"user_id":6748084,"display_name":"Serbroda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689329617,"creation_date":1689329617,"answer_id":76686736,"question_id":16113115,"body_markdown":"Since the class `ActiveDirectoryLdapAuthenticationProvider` is final and cannot be extended, I wrote my own `AuthenticationProvider` class that takes `ActiveDirectoryLdapAuthenticationProvider` as a parameter and uses it as the actual authentication. After authentication I map the existing authorities to my own.\r\n\r\nAuthenticationProvider class:\r\n\r\n    public class AuthorityMappingActiveDirectoryLdapAuthenticationProvider implements AuthenticationProvider {\r\n\r\n        private final ActiveDirectoryLdapAuthenticationProvider provider;\r\n\r\n        private Function&lt;Collection&lt;? extends GrantedAuthority&gt;, Collection&lt;? extends GrantedAuthority&gt;&gt; authorityMapper;\r\n\r\n        public AuthorityMappingActiveDirectoryLdapAuthenticationProvider(ActiveDirectoryLdapAuthenticationProvider provider) {\r\n            this(provider, null);\r\n        }\r\n\r\n        public AuthorityMappingActiveDirectoryLdapAuthenticationProvider(ActiveDirectoryLdapAuthenticationProvider provider,\r\n            Function&lt;Collection&lt;? extends GrantedAuthority&gt;, Collection&lt;? extends GrantedAuthority&gt;&gt; authorityMapper) {\r\n            this.provider = provider;\r\n            this.authorityMapper = authorityMapper;\r\n        }\r\n\r\n        @Override\r\n        public Authentication authenticate(Authentication authentication) throws AuthenticationException {\r\n            Authentication auth = provider.authenticate(authentication);\r\n            if (authorityMapper == null) {\r\n                return auth;\r\n            }\r\n            Collection&lt;? extends GrantedAuthority&gt; authorities = authorityMapper.apply(auth.getAuthorities());\r\n            return UsernamePasswordAuthenticationToken.authenticated(auth.getPrincipal(), auth.getCredentials(), authorities);\r\n        }\r\n\r\n        @Override\r\n        public boolean supports(Class&lt;?&gt; authentication) {\r\n            return provider.supports(authentication);\r\n        }\r\n    }\r\n\r\nUsage\r\n\r\n    @Bean\r\n    public AuthenticationProvider ldapAuthenticationProvider() {\r\n        return new AuthorityMappingActiveDirectoryLdapAuthenticationProvider(\r\n            new ActiveDirectoryLdapAuthenticationProvider(domain, ldapUrl, rootDn), authorities -&gt; {\r\n            List&lt;GrantedAuthority&gt; mappedAuthorities = new ArrayList&lt;&gt;();\r\n            mappedAuthorities.add(new SimpleGrantedAuthority(&quot;ROLE_USER&quot;));\r\n            if (mappedAuthorities.stream()\r\n                .map(a -&gt; a.getAuthority())\r\n                .filter(a -&gt; a.startsWith(&quot;SUDO_USERS&quot;))\r\n                .count() &gt; 0) {\r\n                mappedAuthorities.add(new SimpleGrantedAuthority(&quot;ROLE_ADMIN&quot;));\r\n            }\r\n            return mappedAuthorities;\r\n        });\r\n    }\r\n\r\n","title":"How do I use a custom authorities populator with Spring Security and the ActiveDirectoryLdapAuthenticationProvider?","body":"<p>Since the class <code>ActiveDirectoryLdapAuthenticationProvider</code> is final and cannot be extended, I wrote my own <code>AuthenticationProvider</code> class that takes <code>ActiveDirectoryLdapAuthenticationProvider</code> as a parameter and uses it as the actual authentication. After authentication I map the existing authorities to my own.</p>\n<p>AuthenticationProvider class:</p>\n<pre><code>public class AuthorityMappingActiveDirectoryLdapAuthenticationProvider implements AuthenticationProvider {\n\n    private final ActiveDirectoryLdapAuthenticationProvider provider;\n\n    private Function&lt;Collection&lt;? extends GrantedAuthority&gt;, Collection&lt;? extends GrantedAuthority&gt;&gt; authorityMapper;\n\n    public AuthorityMappingActiveDirectoryLdapAuthenticationProvider(ActiveDirectoryLdapAuthenticationProvider provider) {\n        this(provider, null);\n    }\n\n    public AuthorityMappingActiveDirectoryLdapAuthenticationProvider(ActiveDirectoryLdapAuthenticationProvider provider,\n        Function&lt;Collection&lt;? extends GrantedAuthority&gt;, Collection&lt;? extends GrantedAuthority&gt;&gt; authorityMapper) {\n        this.provider = provider;\n        this.authorityMapper = authorityMapper;\n    }\n\n    @Override\n    public Authentication authenticate(Authentication authentication) throws AuthenticationException {\n        Authentication auth = provider.authenticate(authentication);\n        if (authorityMapper == null) {\n            return auth;\n        }\n        Collection&lt;? extends GrantedAuthority&gt; authorities = authorityMapper.apply(auth.getAuthorities());\n        return UsernamePasswordAuthenticationToken.authenticated(auth.getPrincipal(), auth.getCredentials(), authorities);\n    }\n\n    @Override\n    public boolean supports(Class&lt;?&gt; authentication) {\n        return provider.supports(authentication);\n    }\n}\n</code></pre>\n<p>Usage</p>\n<pre><code>@Bean\npublic AuthenticationProvider ldapAuthenticationProvider() {\n    return new AuthorityMappingActiveDirectoryLdapAuthenticationProvider(\n        new ActiveDirectoryLdapAuthenticationProvider(domain, ldapUrl, rootDn), authorities -&gt; {\n        List&lt;GrantedAuthority&gt; mappedAuthorities = new ArrayList&lt;&gt;();\n        mappedAuthorities.add(new SimpleGrantedAuthority(&quot;ROLE_USER&quot;));\n        if (mappedAuthorities.stream()\n            .map(a -&gt; a.getAuthority())\n            .filter(a -&gt; a.startsWith(&quot;SUDO_USERS&quot;))\n            .count() &gt; 0) {\n            mappedAuthorities.add(new SimpleGrantedAuthority(&quot;ROLE_ADMIN&quot;));\n        }\n        return mappedAuthorities;\n    });\n}\n</code></pre>\n"}],"owner":{"account_id":2547429,"reputation":909,"user_id":2211943,"display_name":"cabbagery"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10011,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":16123627,"answer_count":2,"score":11,"last_activity_date":1689329617,"creation_date":1366403857,"question_id":16113115,"body_markdown":"I&#39;ve successfully connected to Active Directory through LDAP to authenticate, and with the following in my ldap.xml I&#39;ve called my custom authorities populator:\r\n\r\n        &lt;bean id=&quot;ldapAuthenticationProvider&quot;\r\n            class=&quot;org.springframework.security.ldap.authentication.LdapAuthenticationProvider&quot;&gt;\r\n        &lt;constructor-arg ref=&quot;ldapBindAuthenticator&quot;/&gt;\r\n        &lt;constructor-arg ref=&quot;ldapAuthoritiesPopulator&quot;/&gt;\r\n    &lt;/bean&gt;\r\n\r\n    &lt;bean id=&quot;ldapBindAuthenticator&quot;\r\n            class=&quot;org.springframework.security.ldap.authentication.BindAuthenticator&quot;&gt;\r\n        &lt;constructor-arg ref=&quot;ldapServer&quot;/&gt;\r\n        &lt;property name=&quot;userSearch&quot; ref=&quot;ldapSearch&quot;/&gt;\r\n    &lt;/bean&gt;\r\n\r\n    &lt;bean id=&quot;ldapSearch&quot;\r\n            class=&quot;org.springframework.security.ldap.search.FilterBasedLdapUserSearch&quot;&gt;\r\n        &lt;constructor-arg value=&quot;CN=Users&quot;/&gt;\r\n        &lt;constructor-arg value=&quot;(sAMAccountName={0})&quot;/&gt;\r\n        &lt;constructor-arg ref=&quot;ldapServer&quot;/&gt;\r\n    &lt;/bean&gt;\r\n\r\n    &lt;bean id=&quot;ldapAuthoritiesPopulator&quot;\r\n            class=&quot;my.project.package.ActiveDirectoryLdapAuthoritiesPopulator&quot;/&gt;\r\n\r\n    &lt;bean id=&quot;ldapServer&quot;\r\n            class=&quot;org.springframework.security.ldap.DefaultSpringSecurityContextSource&quot;&gt;\r\n        &lt;constructor-arg value=&quot;ldap://192.168.0.2/dc=test,dc=server&quot;/&gt;\r\n\r\n        &lt;property name=&quot;userDn&quot; value=&quot;ldap@test.server&quot;/&gt;\r\n        &lt;property name=&quot;password&quot; value=&quot;ldap&quot;/&gt;\r\n        &lt;property name=&quot;baseEnvironmentProperties&quot;&gt;\r\n        \t&lt;map&gt;\r\n        \t\t&lt;entry key=&quot;java.naming.referral&quot;&gt;\r\n        \t\t\t&lt;value&gt;follow&lt;/value&gt;\r\n        \t\t&lt;/entry&gt;\r\n        \t&lt;/map&gt;\r\n        &lt;/property&gt;\r\n    &lt;/bean&gt;\r\n\r\nThis works fine, and I can ascertain the user&#39;s authorization based on her group membership, but I would rather do this through the built-in Active Directory LDAP Authentication Provider:\r\n\r\n    &lt;bean id=&quot;ldapAuthenticationProvider&quot;\r\n\t\t\tclass=&quot;org.springframework.security.ldap.authentication.ad.ActiveDirectoryLdapAuthenticationProvider&quot;&gt;\r\n\t\t\t\r\n\t\t\t&lt;constructor-arg value=&quot;test.server&quot;/&gt;\r\n\t\t\t&lt;constructor-arg value=&quot;ldap://192.168.0.2:389&quot;/&gt;\r\n\t\t\t&lt;property name=&quot;convertSubErrorCodesToExceptions&quot; value=&quot;true&quot;/&gt;\r\n\t&lt;/bean&gt;\r\n\r\nThe problem with the above is that my custom authorities populator is (obviously) not called, so while I can authenticate my users (which works with the above), I am left without the groups (which I need to determine authorization).\r\n\r\nI feel like this is a simple question, but for the life of me I cannot find an answer here or anywhere else. Do I have to extend the ActiveDirectoryLdapAuthenticationProvider class, and call my authorities populator from there?\r\n\r\n(Thanks for all the help this site has given me for several years running; the effectiveness of this site can be gauged by the fact that I&#39;ve only recently bothered to create an account, and this is my first question. Thanks in advance for your help.)","title":"How do I use a custom authorities populator with Spring Security and the ActiveDirectoryLdapAuthenticationProvider?","body":"<p>I've successfully connected to Active Directory through LDAP to authenticate, and with the following in my ldap.xml I've called my custom authorities populator:</p>\n\n<pre><code>    &lt;bean id=\"ldapAuthenticationProvider\"\n        class=\"org.springframework.security.ldap.authentication.LdapAuthenticationProvider\"&gt;\n    &lt;constructor-arg ref=\"ldapBindAuthenticator\"/&gt;\n    &lt;constructor-arg ref=\"ldapAuthoritiesPopulator\"/&gt;\n&lt;/bean&gt;\n\n&lt;bean id=\"ldapBindAuthenticator\"\n        class=\"org.springframework.security.ldap.authentication.BindAuthenticator\"&gt;\n    &lt;constructor-arg ref=\"ldapServer\"/&gt;\n    &lt;property name=\"userSearch\" ref=\"ldapSearch\"/&gt;\n&lt;/bean&gt;\n\n&lt;bean id=\"ldapSearch\"\n        class=\"org.springframework.security.ldap.search.FilterBasedLdapUserSearch\"&gt;\n    &lt;constructor-arg value=\"CN=Users\"/&gt;\n    &lt;constructor-arg value=\"(sAMAccountName={0})\"/&gt;\n    &lt;constructor-arg ref=\"ldapServer\"/&gt;\n&lt;/bean&gt;\n\n&lt;bean id=\"ldapAuthoritiesPopulator\"\n        class=\"my.project.package.ActiveDirectoryLdapAuthoritiesPopulator\"/&gt;\n\n&lt;bean id=\"ldapServer\"\n        class=\"org.springframework.security.ldap.DefaultSpringSecurityContextSource\"&gt;\n    &lt;constructor-arg value=\"ldap://192.168.0.2/dc=test,dc=server\"/&gt;\n\n    &lt;property name=\"userDn\" value=\"ldap@test.server\"/&gt;\n    &lt;property name=\"password\" value=\"ldap\"/&gt;\n    &lt;property name=\"baseEnvironmentProperties\"&gt;\n        &lt;map&gt;\n            &lt;entry key=\"java.naming.referral\"&gt;\n                &lt;value&gt;follow&lt;/value&gt;\n            &lt;/entry&gt;\n        &lt;/map&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>This works fine, and I can ascertain the user's authorization based on her group membership, but I would rather do this through the built-in Active Directory LDAP Authentication Provider:</p>\n\n<pre><code>&lt;bean id=\"ldapAuthenticationProvider\"\n        class=\"org.springframework.security.ldap.authentication.ad.ActiveDirectoryLdapAuthenticationProvider\"&gt;\n\n        &lt;constructor-arg value=\"test.server\"/&gt;\n        &lt;constructor-arg value=\"ldap://192.168.0.2:389\"/&gt;\n        &lt;property name=\"convertSubErrorCodesToExceptions\" value=\"true\"/&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>The problem with the above is that my custom authorities populator is (obviously) not called, so while I can authenticate my users (which works with the above), I am left without the groups (which I need to determine authorization).</p>\n\n<p>I feel like this is a simple question, but for the life of me I cannot find an answer here or anywhere else. Do I have to extend the ActiveDirectoryLdapAuthenticationProvider class, and call my authorities populator from there?</p>\n\n<p>(Thanks for all the help this site has given me for several years running; the effectiveness of this site can be gauged by the fact that I've only recently bothered to create an account, and this is my first question. Thanks in advance for your help.)</p>\n"},{"tags":["java","selenium-webdriver","webdriver","alert"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1689349256,"post_id":76686723,"comment_id":135205686,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":29009350,"reputation":11,"user_id":22221167,"display_name":"dawge4qd"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1689365627,"answer_count":0,"score":1,"last_activity_date":1689329479,"creation_date":1689329479,"question_id":76686723,"body_markdown":"I have configured my Webbrowser with the options `options.setUnhandledPromptBehaviour(ACCEPT_AND_NOTIFY);`\r\nbut when I run\r\n`WebElement.sendKeys(text);`\r\nit doesn&#39;t return an UnhandledAlertException.\r\n\r\nUsing `driver().executeAsyncScript(SCRIPT)` works, but the sendKeys method does not return the wanted result.","title":"Selenium Actions Sendkeys does not return a UnhandledAlertException if browser if configured with setUnhandledPromptBehaviour(ACCEPT_AND_NOTIFY);","body":"<p>I have configured my Webbrowser with the options <code>options.setUnhandledPromptBehaviour(ACCEPT_AND_NOTIFY);</code>\nbut when I run\n<code>WebElement.sendKeys(text);</code>\nit doesn't return an UnhandledAlertException.</p>\n<p>Using <code>driver().executeAsyncScript(SCRIPT)</code> works, but the sendKeys method does not return the wanted result.</p>\n"},{"tags":["java","collections","filter"],"answers":[{"tags":[],"owner":{"account_id":3324,"reputation":14696,"user_id":4792,"accept_rate":50,"display_name":"Kevin Wong"},"down_vote_count":2,"up_vote_count":98,"is_accepted":false,"score":96,"last_activity_date":1447740693,"creation_date":1222187323,"answer_id":122128,"question_id":122105,"body_markdown":"Use [CollectionUtils.filter(Collection,Predicate)][1], from Apache Commons.\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-collections/javadocs/api-release/org/apache/commons/collections4/CollectionUtils.html#filter(java.lang.Iterable,%20org.apache.commons.collections4.Predicate)","title":"How to filter a Java Collection (based on predicate)?","body":"<p>Use <a href=\"https://commons.apache.org/proper/commons-collections/javadocs/api-release/org/apache/commons/collections4/CollectionUtils.html#filter(java.lang.Iterable,%20org.apache.commons.collections4.Predicate)\" rel=\"noreferrer\">CollectionUtils.filter(Collection,Predicate)</a>, from Apache Commons.</p>\n"},{"tags":[],"owner":{"account_id":5864,"reputation":31258,"user_id":9636,"accept_rate":81,"display_name":"Heath Borders"},"down_vote_count":2,"up_vote_count":64,"is_accepted":false,"score":62,"last_activity_date":1436815595,"creation_date":1222187389,"answer_id":122139,"question_id":122105,"body_markdown":"Consider [Google Collections](http://code.google.com/p/google-collections/) for an updated Collections framework that supports generics.\r\n\r\n**UPDATE**: The google collections library is now deprecated.  You should use the latest release of [Guava](https://github.com/google/guava) instead.  It still has all the same extensions to the collections framework including a mechanism for filtering based on a predicate.","title":"How to filter a Java Collection (based on predicate)?","body":"<p>Consider <a href=\"http://code.google.com/p/google-collections/\" rel=\"noreferrer\">Google Collections</a> for an updated Collections framework that supports generics.</p>\n\n<p><strong>UPDATE</strong>: The google collections library is now deprecated.  You should use the latest release of <a href=\"https://github.com/google/guava\" rel=\"noreferrer\">Guava</a> instead.  It still has all the same extensions to the collections framework including a mechanism for filtering based on a predicate.</p>\n"},{"tags":[],"owner":{"account_id":6055,"reputation":14786,"user_id":10026,"accept_rate":68,"display_name":"ykaganovich"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1405500213,"creation_date":1222188068,"answer_id":122200,"question_id":122105,"body_markdown":"Are you sure you want to filter the Collection itself, rather than an iterator?\r\n\r\nsee [org.apache.commons.collections.iterators.FilterIterator][1]\r\n\r\nor using version 4 of apache commons [org.apache.commons.collections4.iterators.FilterIterator&lt;E&gt;][2]\r\n\r\n\r\n  [1]: http://commons.apache.org/proper/commons-collections/javadocs/api-3.2.1/org/apache/commons/collections/iterators/FilterIterator.html\r\n  [2]: https://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/iterators/FilterIterator.html","title":"How to filter a Java Collection (based on predicate)?","body":"<p>Are you sure you want to filter the Collection itself, rather than an iterator?</p>\n\n<p>see <a href=\"http://commons.apache.org/proper/commons-collections/javadocs/api-3.2.1/org/apache/commons/collections/iterators/FilterIterator.html\" rel=\"nofollow noreferrer\">org.apache.commons.collections.iterators.FilterIterator</a></p>\n\n<p>or using version 4 of apache commons <a href=\"https://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/iterators/FilterIterator.html\" rel=\"nofollow noreferrer\">org.apache.commons.collections4.iterators.FilterIterator</a></p>\n"},{"tags":[],"owner":{"account_id":7113,"reputation":2520,"user_id":12215,"display_name":"jon"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1222188087,"creation_date":1222188087,"answer_id":122204,"question_id":122105,"body_markdown":"The setup:\r\n    \r\n    public interface Predicate&lt;T&gt; {\r\n      public boolean filter(T t);\r\n    }\r\n    \r\n    void filterCollection(Collection&lt;T&gt; col, Predicate&lt;T&gt; predicate) {\r\n      for (Iterator i = col.iterator(); i.hasNext();) {\r\n        T obj = i.next();\r\n        if (predicate.filter(obj)) {\r\n          i.remove();\r\n        }\r\n      }\r\n    }\r\n\r\nThe usage:\r\n\r\n    List&lt;MyObject&gt; myList = ...;\r\n    filterCollection(myList, new Predicate&lt;MyObject&gt;() {\r\n      public boolean filter(MyObject obj) {\r\n        return obj.shouldFilter();\r\n      }\r\n    });","title":"How to filter a Java Collection (based on predicate)?","body":"<p>The setup:</p>\n\n<pre><code>public interface Predicate&lt;T&gt; {\n  public boolean filter(T t);\n}\n\nvoid filterCollection(Collection&lt;T&gt; col, Predicate&lt;T&gt; predicate) {\n  for (Iterator i = col.iterator(); i.hasNext();) {\n    T obj = i.next();\n    if (predicate.filter(obj)) {\n      i.remove();\n    }\n  }\n}\n</code></pre>\n\n<p>The usage:</p>\n\n<pre><code>List&lt;MyObject&gt; myList = ...;\nfilterCollection(myList, new Predicate&lt;MyObject&gt;() {\n  public boolean filter(MyObject obj) {\n    return obj.shouldFilter();\n  }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11055,"reputation":18190,"user_id":1163802,"accept_rate":83,"display_name":"Vladimir Dyuzhev"},"down_vote_count":1,"up_vote_count":69,"is_accepted":false,"score":68,"last_activity_date":1405614389,"creation_date":1222188092,"answer_id":122206,"question_id":122105,"body_markdown":"&quot;Best&quot; way is too wide a request. Is it &quot;shortest&quot;? &quot;Fastest&quot;? &quot;Readable&quot;?\r\nFilter in place or into another collection?\r\n\r\nSimplest (but not most readable) way is to iterate it and use Iterator.remove() method:\r\n\r\n    Iterator&lt;Foo&gt; it = col.iterator();\r\n    while( it.hasNext() ) {\r\n      Foo foo = it.next();\r\n      if( !condition(foo) ) it.remove();\r\n    }\r\n\r\nNow, to make it more readable, you can wrap it into a utility method. Then invent a IPredicate interface, create an anonymous implementation of that interface and do something like:\r\n\r\n    CollectionUtils.filterInPlace(col,\r\n      new IPredicate&lt;Foo&gt;(){\r\n        public boolean keepIt(Foo foo) {\r\n          return foo.isBar();\r\n        }\r\n      });\r\n\r\nwhere filterInPlace() iterate the collection and calls Predicate.keepIt() to learn if the instance to be kept in the collection.\r\n\r\nI don&#39;t really see a justification for bringing in a third-party library just for this task.","title":"How to filter a Java Collection (based on predicate)?","body":"<p>\"Best\" way is too wide a request. Is it \"shortest\"? \"Fastest\"? \"Readable\"?\nFilter in place or into another collection?</p>\n\n<p>Simplest (but not most readable) way is to iterate it and use Iterator.remove() method:</p>\n\n<pre><code>Iterator&lt;Foo&gt; it = col.iterator();\nwhile( it.hasNext() ) {\n  Foo foo = it.next();\n  if( !condition(foo) ) it.remove();\n}\n</code></pre>\n\n<p>Now, to make it more readable, you can wrap it into a utility method. Then invent a IPredicate interface, create an anonymous implementation of that interface and do something like:</p>\n\n<pre><code>CollectionUtils.filterInPlace(col,\n  new IPredicate&lt;Foo&gt;(){\n    public boolean keepIt(Foo foo) {\n      return foo.isBar();\n    }\n  });\n</code></pre>\n\n<p>where filterInPlace() iterate the collection and calls Predicate.keepIt() to learn if the instance to be kept in the collection.</p>\n\n<p>I don't really see a justification for bringing in a third-party library just for this task.</p>\n"},{"tags":[],"owner":{"account_id":9336,"reputation":7066,"user_id":17205,"accept_rate":64,"display_name":"Alan"},"down_vote_count":0,"up_vote_count":229,"is_accepted":false,"score":229,"last_activity_date":1465661392,"creation_date":1222188101,"answer_id":122207,"question_id":122105,"body_markdown":"Assuming that you are using [Java 1.5][1], and that you cannot add [Google Collections][2], I would do something very similar to what the Google guys did. This is a slight variation on Jon&#39;s comments.\r\n\r\nFirst add this interface to your codebase.\r\n\r\n    public interface IPredicate&lt;T&gt; { boolean apply(T type); }\r\n\r\nIts implementers can answer when a certain predicate is true of a certain type. E.g. If `T` were `User` and `AuthorizedUserPredicate&lt;User&gt;` implements `IPredicate&lt;T&gt;`, then `AuthorizedUserPredicate#apply` returns whether the passed in `User` is authorized.\r\n\r\nThen in some utility class, you could say\r\n\r\n    public static &lt;T&gt; Collection&lt;T&gt; filter(Collection&lt;T&gt; target, IPredicate&lt;T&gt; predicate) {\r\n        Collection&lt;T&gt; result = new ArrayList&lt;T&gt;();\r\n        for (T element: target) {\r\n            if (predicate.apply(element)) {\r\n                result.add(element);\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\nSo, assuming that you have the use of the above might be\r\n\r\n    Predicate&lt;User&gt; isAuthorized = new Predicate&lt;User&gt;() {\r\n        public boolean apply(User user) {\r\n            // binds a boolean method in User to a reference\r\n            return user.isAuthorized();\r\n        }\r\n    };\r\n    // allUsers is a Collection&lt;User&gt;\r\n    Collection&lt;User&gt; authorizedUsers = filter(allUsers, isAuthorized);\r\n\r\nIf performance on the linear check is of concern, then I might want to have a domain object that has the target collection. The domain object that has the target collection would have filtering logic for the methods that initialize, add and set the target collection.\r\n\r\nUPDATE: \r\n\r\nIn the utility class (let&#39;s say Predicate), I have added a select method with an option for default value when the predicate doesn&#39;t return the expected value, and also a static property for params to be used inside the new IPredicate.\r\n\r\n    public class Predicate {\r\n    \tpublic static Object predicateParams;\r\n    \t\r\n    \tpublic static &lt;T&gt; Collection&lt;T&gt; filter(Collection&lt;T&gt; target, IPredicate&lt;T&gt; predicate) {\r\n    \t\tCollection&lt;T&gt; result = new ArrayList&lt;T&gt;();\r\n    \t\tfor (T element : target) {\r\n    \t\t\tif (predicate.apply(element)) {\r\n    \t\t\t\tresult.add(element);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn result;\r\n    \t}\r\n    \r\n    \tpublic static &lt;T&gt; T select(Collection&lt;T&gt; target, IPredicate&lt;T&gt; predicate) {\r\n    \t\tT result = null;\r\n    \t\tfor (T element : target) {\r\n    \t\t\tif (!predicate.apply(element))\r\n    \t\t\t\tcontinue;\r\n    \t\t\tresult = element;\r\n    \t\t\tbreak;\r\n    \t\t}\r\n    \t\treturn result;\r\n    \t}\r\n    \r\n    \tpublic static &lt;T&gt; T select(Collection&lt;T&gt; target, IPredicate&lt;T&gt; predicate, T defaultValue) {\r\n    \t\tT result = defaultValue;\r\n    \t\tfor (T element : target) {\r\n    \t\t\tif (!predicate.apply(element))\r\n    \t\t\t\tcontinue;\r\n    \t\t\tresult = element;\r\n    \t\t\tbreak;\r\n    \t\t}\r\n    \t\treturn result;\r\n    \t}\r\n    }\r\n\r\n\r\nThe following example looks for missing objects between collections:\r\n\r\n    List&lt;MyTypeA&gt; missingObjects = (List&lt;MyTypeA&gt;) Predicate.filter(myCollectionOfA,\r\n\t\tnew IPredicate&lt;MyTypeA&gt;() {\r\n\t\t\tpublic boolean apply(MyTypeA objectOfA) {\r\n\t\t\t\tPredicate.predicateParams = objectOfA.getName();\r\n\t\t\t\treturn Predicate.select(myCollectionB, new IPredicate&lt;MyTypeB&gt;() {\r\n\t\t\t\t\tpublic boolean apply(MyTypeB objectOfB) {\r\n\t\t\t\t\t\treturn objectOfB.getName().equals(Predicate.predicateParams.toString());\r\n\t\t\t\t\t}\r\n\t\t\t\t}) == null;\r\n\t\t\t}\r\n\t\t});\r\n\r\nThe following example, looks for an instance in a collection, and returns the first element of the collection as default value when the instance is not found:\r\n\r\n    MyType myObject = Predicate.select(collectionOfMyType, new IPredicate&lt;MyType&gt;() {\r\n\tpublic boolean apply(MyType objectOfMyType) {\r\n\t\treturn objectOfMyType.isDefault();\r\n\t}}, collectionOfMyType.get(0));\r\n\r\n\r\nUPDATE (after Java 8 release):\r\n\r\nIt&#39;s been several years since I (Alan) first posted this answer, and I still cannot believe I am collecting SO points for this answer. At any rate, now that Java 8 has introduced closures to the language, my answer would now be considerably different, and simpler. With Java 8, there is no need for a distinct static utility class. So if you want to find the 1st element that matches your predicate.\r\n\r\n    final UserService userService = ... // perhaps injected IoC\r\n    final Optional&lt;UserModel&gt; userOption = userCollection.stream().filter(u -&gt; {\r\n    \tboolean isAuthorized = userService.isAuthorized(u);\r\n    \treturn isAuthorized;\r\n    }).findFirst();\r\n\r\nThe JDK 8 API for optionals has the ability to `get()`, `isPresent()`, `orElse(defaultUser)`, `orElseGet(userSupplier)` and `orElseThrow(exceptionSupplier)`, as well as other &#39;monadic&#39; functions such as `map`, `flatMap` and `filter`.\r\n\r\nIf you want to simply collect all the users which match the predicate, then use the `Collectors` to terminate the stream in the desired collection.\r\n\r\n    final UserService userService = ... // perhaps injected IoC\r\n    final List&lt;UserModel&gt; userOption = userCollection.stream().filter(u -&gt; {\r\n    \tboolean isAuthorized = userService.isAuthorized(u);\r\n    \treturn isAuthorized;\r\n    }).collect(Collectors.toList());\r\n\r\nSee [here][3] for more examples on how Java 8 streams work.\r\n\r\n  [1]: http://java.sun.com/j2se/1.5.0/docs/index.html\r\n  [2]: https://code.google.com/p/guava-libraries/\r\n  [3]: http://winterbe.com/posts/2014/07/31/java8-stream-tutorial-examples/\r\n\r\n\r\n","title":"How to filter a Java Collection (based on predicate)?","body":"<p>Assuming that you are using <a href=\"http://java.sun.com/j2se/1.5.0/docs/index.html\" rel=\"noreferrer\">Java 1.5</a>, and that you cannot add <a href=\"https://code.google.com/p/guava-libraries/\" rel=\"noreferrer\">Google Collections</a>, I would do something very similar to what the Google guys did. This is a slight variation on Jon's comments.</p>\n\n<p>First add this interface to your codebase.</p>\n\n<pre><code>public interface IPredicate&lt;T&gt; { boolean apply(T type); }\n</code></pre>\n\n<p>Its implementers can answer when a certain predicate is true of a certain type. E.g. If <code>T</code> were <code>User</code> and <code>AuthorizedUserPredicate&lt;User&gt;</code> implements <code>IPredicate&lt;T&gt;</code>, then <code>AuthorizedUserPredicate#apply</code> returns whether the passed in <code>User</code> is authorized.</p>\n\n<p>Then in some utility class, you could say</p>\n\n<pre><code>public static &lt;T&gt; Collection&lt;T&gt; filter(Collection&lt;T&gt; target, IPredicate&lt;T&gt; predicate) {\n    Collection&lt;T&gt; result = new ArrayList&lt;T&gt;();\n    for (T element: target) {\n        if (predicate.apply(element)) {\n            result.add(element);\n        }\n    }\n    return result;\n}\n</code></pre>\n\n<p>So, assuming that you have the use of the above might be</p>\n\n<pre><code>Predicate&lt;User&gt; isAuthorized = new Predicate&lt;User&gt;() {\n    public boolean apply(User user) {\n        // binds a boolean method in User to a reference\n        return user.isAuthorized();\n    }\n};\n// allUsers is a Collection&lt;User&gt;\nCollection&lt;User&gt; authorizedUsers = filter(allUsers, isAuthorized);\n</code></pre>\n\n<p>If performance on the linear check is of concern, then I might want to have a domain object that has the target collection. The domain object that has the target collection would have filtering logic for the methods that initialize, add and set the target collection.</p>\n\n<p>UPDATE: </p>\n\n<p>In the utility class (let's say Predicate), I have added a select method with an option for default value when the predicate doesn't return the expected value, and also a static property for params to be used inside the new IPredicate.</p>\n\n<pre><code>public class Predicate {\n    public static Object predicateParams;\n\n    public static &lt;T&gt; Collection&lt;T&gt; filter(Collection&lt;T&gt; target, IPredicate&lt;T&gt; predicate) {\n        Collection&lt;T&gt; result = new ArrayList&lt;T&gt;();\n        for (T element : target) {\n            if (predicate.apply(element)) {\n                result.add(element);\n            }\n        }\n        return result;\n    }\n\n    public static &lt;T&gt; T select(Collection&lt;T&gt; target, IPredicate&lt;T&gt; predicate) {\n        T result = null;\n        for (T element : target) {\n            if (!predicate.apply(element))\n                continue;\n            result = element;\n            break;\n        }\n        return result;\n    }\n\n    public static &lt;T&gt; T select(Collection&lt;T&gt; target, IPredicate&lt;T&gt; predicate, T defaultValue) {\n        T result = defaultValue;\n        for (T element : target) {\n            if (!predicate.apply(element))\n                continue;\n            result = element;\n            break;\n        }\n        return result;\n    }\n}\n</code></pre>\n\n<p>The following example looks for missing objects between collections:</p>\n\n<pre><code>List&lt;MyTypeA&gt; missingObjects = (List&lt;MyTypeA&gt;) Predicate.filter(myCollectionOfA,\n    new IPredicate&lt;MyTypeA&gt;() {\n        public boolean apply(MyTypeA objectOfA) {\n            Predicate.predicateParams = objectOfA.getName();\n            return Predicate.select(myCollectionB, new IPredicate&lt;MyTypeB&gt;() {\n                public boolean apply(MyTypeB objectOfB) {\n                    return objectOfB.getName().equals(Predicate.predicateParams.toString());\n                }\n            }) == null;\n        }\n    });\n</code></pre>\n\n<p>The following example, looks for an instance in a collection, and returns the first element of the collection as default value when the instance is not found:</p>\n\n<pre><code>MyType myObject = Predicate.select(collectionOfMyType, new IPredicate&lt;MyType&gt;() {\npublic boolean apply(MyType objectOfMyType) {\n    return objectOfMyType.isDefault();\n}}, collectionOfMyType.get(0));\n</code></pre>\n\n<p>UPDATE (after Java 8 release):</p>\n\n<p>It's been several years since I (Alan) first posted this answer, and I still cannot believe I am collecting SO points for this answer. At any rate, now that Java 8 has introduced closures to the language, my answer would now be considerably different, and simpler. With Java 8, there is no need for a distinct static utility class. So if you want to find the 1st element that matches your predicate.</p>\n\n<pre><code>final UserService userService = ... // perhaps injected IoC\nfinal Optional&lt;UserModel&gt; userOption = userCollection.stream().filter(u -&gt; {\n    boolean isAuthorized = userService.isAuthorized(u);\n    return isAuthorized;\n}).findFirst();\n</code></pre>\n\n<p>The JDK 8 API for optionals has the ability to <code>get()</code>, <code>isPresent()</code>, <code>orElse(defaultUser)</code>, <code>orElseGet(userSupplier)</code> and <code>orElseThrow(exceptionSupplier)</code>, as well as other 'monadic' functions such as <code>map</code>, <code>flatMap</code> and <code>filter</code>.</p>\n\n<p>If you want to simply collect all the users which match the predicate, then use the <code>Collectors</code> to terminate the stream in the desired collection.</p>\n\n<pre><code>final UserService userService = ... // perhaps injected IoC\nfinal List&lt;UserModel&gt; userOption = userCollection.stream().filter(u -&gt; {\n    boolean isAuthorized = userService.isAuthorized(u);\n    return isAuthorized;\n}).collect(Collectors.toList());\n</code></pre>\n\n<p>See <a href=\"http://winterbe.com/posts/2014/07/31/java8-stream-tutorial-examples/\" rel=\"noreferrer\">here</a> for more examples on how Java 8 streams work.</p>\n"},{"tags":[],"owner":{"account_id":3324,"reputation":14696,"user_id":4792,"accept_rate":50,"display_name":"Kevin Wong"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1344547184,"creation_date":1222194073,"answer_id":122773,"question_id":122105,"body_markdown":"The [Collections2.filter(Collection,Predicate)][1] method in [Google&#39;s Guava library][2] does just what you&#39;re looking for.\r\n\r\n\r\n  [1]: http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/collect/Collections2.html#filter%28java.util.Collection,%20com.google.common.base.Predicate%29\r\n  [2]: http://code.google.com/p/guava-libraries/","title":"How to filter a Java Collection (based on predicate)?","body":"<p>The <a href=\"http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/collect/Collections2.html#filter%28java.util.Collection,%20com.google.common.base.Predicate%29\" rel=\"nofollow noreferrer\">Collections2.filter(Collection,Predicate)</a> method in <a href=\"http://code.google.com/p/guava-libraries/\" rel=\"nofollow noreferrer\">Google's Guava library</a> does just what you're looking for.</p>\n"},{"tags":[],"owner":{"account_id":12436,"reputation":27545,"user_id":24468,"accept_rate":100,"display_name":"akuhn"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1228321221,"creation_date":1228311955,"answer_id":337135,"question_id":122105,"body_markdown":"With the ForEach DSL you may write\r\n\r\n    import static ch.akuhn.util.query.Query.select;\r\n    import static ch.akuhn.util.query.Query.$result;\r\n    import ch.akuhn.util.query.Select;\r\n\r\n    Collection&lt;String&gt; collection = ...\r\n\r\n    for (Select&lt;String&gt; each : select(collection)) {\r\n        each.yield = each.value.length() &gt; 3;\r\n    }\r\n\r\n    Collection&lt;String&gt; result = $result();\r\n\r\nGiven a collection of [The, quick, brown, fox, jumps, over, the, lazy, dog] this results in [quick, brown, jumps, over, lazy], ie all strings longer than three characters.\r\n\r\nAll iteration styles supported by the ForEach DSL are\r\n\r\n  - `AllSatisfy`\r\n  - `AnySatisfy`\r\n  - `Collect`\r\n  - `Counnt`\r\n  - `CutPieces`\r\n  - `Detect`\r\n  - `GroupedBy`\r\n  - `IndexOf`\r\n  - `InjectInto`\r\n  - `Reject`\r\n  - `Select`\r\n\r\nFor more details, please refer to [https://www.iam.unibe.ch/scg/svn_repos/Sources/ForEach][1]\r\n\r\n  [1]: https://www.iam.unibe.ch/scg/svn_repos/Sources/ForEach","title":"How to filter a Java Collection (based on predicate)?","body":"<p>With the ForEach DSL you may write</p>\n\n<pre><code>import static ch.akuhn.util.query.Query.select;\nimport static ch.akuhn.util.query.Query.$result;\nimport ch.akuhn.util.query.Select;\n\nCollection&lt;String&gt; collection = ...\n\nfor (Select&lt;String&gt; each : select(collection)) {\n    each.yield = each.value.length() &gt; 3;\n}\n\nCollection&lt;String&gt; result = $result();\n</code></pre>\n\n<p>Given a collection of [The, quick, brown, fox, jumps, over, the, lazy, dog] this results in [quick, brown, jumps, over, lazy], ie all strings longer than three characters.</p>\n\n<p>All iteration styles supported by the ForEach DSL are</p>\n\n<ul>\n<li><code>AllSatisfy</code></li>\n<li><code>AnySatisfy</code></li>\n<li><code>Collect</code></li>\n<li><code>Counnt</code></li>\n<li><code>CutPieces</code></li>\n<li><code>Detect</code></li>\n<li><code>GroupedBy</code></li>\n<li><code>IndexOf</code></li>\n<li><code>InjectInto</code></li>\n<li><code>Reject</code></li>\n<li><code>Select</code></li>\n</ul>\n\n<p>For more details, please refer to <a href=\"https://www.iam.unibe.ch/scg/svn_repos/Sources/ForEach\" rel=\"noreferrer\">https://www.iam.unibe.ch/scg/svn_repos/Sources/ForEach</a></p>\n"},{"tags":[],"owner":{"account_id":39135,"reputation":13588,"user_id":112779,"accept_rate":67,"display_name":"Mario Fusco"},"down_vote_count":9,"up_vote_count":855,"is_accepted":true,"score":846,"last_activity_date":1661177617,"creation_date":1252244269,"answer_id":1385698,"question_id":122105,"body_markdown":"Java 8 ([2014][1]) solves this problem using streams and lambdas in one line of code:\r\n\r\n    List&lt;Person&gt; beerDrinkers = persons.stream()\r\n        .filter(p -&gt; p.getAge() &gt; 16).collect(Collectors.toList());\r\n\r\nHere&#39;s a [tutorial][2].\r\n\r\nUse [`Collection#removeIf`][3] to modify the collection in place. (Notice: In this case, the predicate will remove objects who satisfy the predicate):\r\n\r\n    persons.removeIf(p -&gt; p.getAge() &lt;= 16);\r\n\r\n---\r\n\r\n[lambdaj][4] allows filtering collections without writing loops or inner classes:\r\n\r\n    List&lt;Person&gt; beerDrinkers = select(persons, having(on(Person.class).getAge(),\r\n        greaterThan(16)));\r\n\r\nCan you imagine something more readable?\r\n\r\n**Disclaimer:** I am a contributor on lambdaj\r\n\r\n\r\n  [1]: https://www.oracle.com/java/technologies/javase/8-whats-new.html &quot;What&#39;s New in JDK 8&quot;\r\n  [2]: http://zeroturnaround.com/rebellabs/java-8-explained-applying-lambdas-to-java-collections/ &quot;Java 8 collections and lambdas&quot;\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/util/Collection.html#removeIf-java.util.function.Predicate-\r\n  [4]: https://code.google.com/archive/p/lambdaj/","title":"How to filter a Java Collection (based on predicate)?","body":"<p>Java 8 (<a href=\"https://www.oracle.com/java/technologies/javase/8-whats-new.html\" rel=\"noreferrer\" title=\"What's New in JDK 8\">2014</a>) solves this problem using streams and lambdas in one line of code:</p>\n<pre><code>List&lt;Person&gt; beerDrinkers = persons.stream()\n    .filter(p -&gt; p.getAge() &gt; 16).collect(Collectors.toList());\n</code></pre>\n<p>Here's a <a href=\"http://zeroturnaround.com/rebellabs/java-8-explained-applying-lambdas-to-java-collections/\" rel=\"noreferrer\" title=\"Java 8 collections and lambdas\">tutorial</a>.</p>\n<p>Use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Collection.html#removeIf-java.util.function.Predicate-\" rel=\"noreferrer\"><code>Collection#removeIf</code></a> to modify the collection in place. (Notice: In this case, the predicate will remove objects who satisfy the predicate):</p>\n<pre><code>persons.removeIf(p -&gt; p.getAge() &lt;= 16);\n</code></pre>\n<hr />\n<p><a href=\"https://code.google.com/archive/p/lambdaj/\" rel=\"noreferrer\">lambdaj</a> allows filtering collections without writing loops or inner classes:</p>\n<pre><code>List&lt;Person&gt; beerDrinkers = select(persons, having(on(Person.class).getAge(),\n    greaterThan(16)));\n</code></pre>\n<p>Can you imagine something more readable?</p>\n<p><strong>Disclaimer:</strong> I am a contributor on lambdaj</p>\n"},{"tags":[],"owner":{"account_id":39274,"reputation":6968,"user_id":113173,"accept_rate":75,"display_name":"jdc0589"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1308801348,"creation_date":1264048530,"answer_id":2106948,"question_id":122105,"body_markdown":"This, combined with the lack of real closures, is my biggest gripe for Java.\r\nHonestly, most of the methods mentioned above are pretty easy to read and REALLY efficient; however, after spending time with .Net, Erlang, etc... list comprehension integrated at the language level makes everything so much cleaner. Without additions at the language level, Java just cant be as clean as many other languages in this area.\r\n\r\nIf performance is a huge concern, Google collections is the way to go (or write your own simple predicate utility). Lambdaj syntax is more readable for some people, but it is not quite as efficient.\r\n\r\nAnd then there is a library I wrote. I will ignore any questions in regard to its efficiency (yea, its that bad)...... Yes, i know its clearly reflection based, and no I don&#39;t actually use it, but it does work:\r\n\r\n    LinkedList&lt;Person&gt; list = ......\r\n    LinkedList&lt;Person&gt; filtered = \r\n               Query.from(list).where(Condition.ensure(&quot;age&quot;, Op.GTE, 21));\r\n\r\n**OR**\r\n\r\n    LinkedList&lt;Person&gt; list = ....\r\n    LinkedList&lt;Person&gt; filtered = Query.from(list).where(&quot;x =&gt; x.age &gt;= 21&quot;);\r\n\r\n","title":"How to filter a Java Collection (based on predicate)?","body":"<p>This, combined with the lack of real closures, is my biggest gripe for Java.\nHonestly, most of the methods mentioned above are pretty easy to read and REALLY efficient; however, after spending time with .Net, Erlang, etc... list comprehension integrated at the language level makes everything so much cleaner. Without additions at the language level, Java just cant be as clean as many other languages in this area.</p>\n\n<p>If performance is a huge concern, Google collections is the way to go (or write your own simple predicate utility). Lambdaj syntax is more readable for some people, but it is not quite as efficient.</p>\n\n<p>And then there is a library I wrote. I will ignore any questions in regard to its efficiency (yea, its that bad)...... Yes, i know its clearly reflection based, and no I don't actually use it, but it does work:</p>\n\n<pre><code>LinkedList&lt;Person&gt; list = ......\nLinkedList&lt;Person&gt; filtered = \n           Query.from(list).where(Condition.ensure(\"age\", Op.GTE, 21));\n</code></pre>\n\n<p><strong>OR</strong></p>\n\n<pre><code>LinkedList&lt;Person&gt; list = ....\nLinkedList&lt;Person&gt; filtered = Query.from(list).where(\"x =&gt; x.age &gt;= 21\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":214,"reputation":35692,"user_id":268,"accept_rate":100,"display_name":"Vincent Robert"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1406130602,"creation_date":1270471391,"answer_id":2578408,"question_id":122105,"body_markdown":"I wrote [an extended Iterable class][1] that support applying functional algorithms without copying the collection content.\r\n\r\nUsage:\r\n\r\n    List&lt;Integer&gt; myList = new ArrayList&lt;Integer&gt;(){ 1, 2, 3, 4, 5 }\r\n\r\n    Iterable&lt;Integer&gt; filtered = Iterable.wrap(myList).select(new Predicate1&lt;Integer&gt;()\r\n    {\r\n    \tpublic Boolean call(Integer n) throws FunctionalException\r\n    \t{\r\n    \t\treturn n % 2 == 0;\r\n    \t}\r\n    })\r\n    \r\n    for( int n : filtered )\r\n    {\r\n    \tSystem.out.println(n);\r\n    }\r\n\r\nThe code above will actually execute\r\n\r\n    for( int n : myList )\r\n    {\r\n    \tif( n % 2 == 0 ) \r\n    \t{\r\n    \t\tSystem.out.println(n);\r\n    \t}\r\n    }\r\n\r\n  [1]: https://github.com/genezys/functional/blob/master/src/main/java/fr/cantor/functional/Iterable.java#L204\r\n\r\n\r\n\r\n","title":"How to filter a Java Collection (based on predicate)?","body":"<p>I wrote <a href=\"https://github.com/genezys/functional/blob/master/src/main/java/fr/cantor/functional/Iterable.java#L204\" rel=\"nofollow noreferrer\">an extended Iterable class</a> that support applying functional algorithms without copying the collection content.</p>\n\n<p>Usage:</p>\n\n<pre><code>List&lt;Integer&gt; myList = new ArrayList&lt;Integer&gt;(){ 1, 2, 3, 4, 5 }\n\nIterable&lt;Integer&gt; filtered = Iterable.wrap(myList).select(new Predicate1&lt;Integer&gt;()\n{\n    public Boolean call(Integer n) throws FunctionalException\n    {\n        return n % 2 == 0;\n    }\n})\n\nfor( int n : filtered )\n{\n    System.out.println(n);\n}\n</code></pre>\n\n<p>The code above will actually execute</p>\n\n<pre><code>for( int n : myList )\n{\n    if( n % 2 == 0 ) \n    {\n        System.out.println(n);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1382301,"reputation":31,"user_id":1315040,"display_name":"Kamran Ali Khan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1333622818,"creation_date":1333622818,"answer_id":10027150,"question_id":122105,"body_markdown":"JFilter http://code.google.com/p/jfilter/ is best suited for your requirement.\r\n\r\nJFilter is a simple and high performance open source library to query collection of Java beans.\r\n\r\nKey features\r\n\r\n - Support of collection (java.util.Collection, java.util.Map and Array) properties.\r\n - Support of collection inside collection of any depth.\r\n - Support of inner queries.\r\n - Support of parameterized queries.\r\n - Can filter 1 million records in few 100 ms.\r\n - Filter ( query) is given in simple json format, it is like Mangodb queries. Following are some examples.\r\n - { &quot;id&quot;:{&quot;$le&quot;:&quot;10&quot;}\r\n   - where object id property is less than equals to 10.\r\n - { &quot;id&quot;: {&quot;$in&quot;:[&quot;0&quot;, &quot;100&quot;]}}\r\n   - where object id property is 0 or 100.\r\n - {&quot;lineItems&quot;:{&quot;lineAmount&quot;:&quot;1&quot;}}\r\n   - where lineItems collection property of parameterized type &lt;LineItem&gt; has lineAmount equals to 1.\r\n - { &quot;$and&quot;:[{&quot;id&quot;: &quot;0&quot;}, {&quot;billingAddress&quot;:{&quot;city&quot;:&quot;DEL&quot;}}]}\r\n   - where id property is 0 and billingAddress.city property is DEL.\r\n - {&quot;lineItems&quot;:{&quot;taxes&quot;:{ &quot;key&quot;:{&quot;code&quot;:&quot;GST&quot;}, &quot;value&quot;:{&quot;$gt&quot;: &quot;1.01&quot;}}}}\r\n   - where lineItems collection property of parameterized type &lt;LineItem&gt; which has taxes map type property of parameteriszed type &lt;Tax, Float&gt; has code equals to GST value greater than 1.01.\r\n - {&#39;$or&#39;:[{&#39;code&#39;:&#39;10&#39;},{&#39;skus&#39;: {&#39;$and&#39;:[{&#39;price&#39;:{&#39;$in&#39;:[&#39;20&#39;, &#39;40&#39;]}}, {&#39;code&#39;:&#39;RedApple&#39;}]}}]}\r\n   - Select all products where product code is 10 or sku price in 20 and 40 and sku code is &quot;RedApple&quot;.","title":"How to filter a Java Collection (based on predicate)?","body":"<p>JFilter <a href=\"http://code.google.com/p/jfilter/\" rel=\"nofollow\">http://code.google.com/p/jfilter/</a> is best suited for your requirement.</p>\n\n<p>JFilter is a simple and high performance open source library to query collection of Java beans.</p>\n\n<p>Key features</p>\n\n<ul>\n<li>Support of collection (java.util.Collection, java.util.Map and Array) properties.</li>\n<li>Support of collection inside collection of any depth.</li>\n<li>Support of inner queries.</li>\n<li>Support of parameterized queries.</li>\n<li>Can filter 1 million records in few 100 ms.</li>\n<li>Filter ( query) is given in simple json format, it is like Mangodb queries. Following are some examples.</li>\n<li>{ \"id\":{\"$le\":\"10\"}\n<ul>\n<li>where object id property is less than equals to 10.</li>\n</ul></li>\n<li>{ \"id\": {\"$in\":[\"0\", \"100\"]}}\n<ul>\n<li>where object id property is 0 or 100.</li>\n</ul></li>\n<li>{\"lineItems\":{\"lineAmount\":\"1\"}}\n<ul>\n<li>where lineItems collection property of parameterized type  has lineAmount equals to 1.</li>\n</ul></li>\n<li>{ \"$and\":[{\"id\": \"0\"}, {\"billingAddress\":{\"city\":\"DEL\"}}]}\n<ul>\n<li>where id property is 0 and billingAddress.city property is DEL.</li>\n</ul></li>\n<li>{\"lineItems\":{\"taxes\":{ \"key\":{\"code\":\"GST\"}, \"value\":{\"$gt\": \"1.01\"}}}}\n<ul>\n<li>where lineItems collection property of parameterized type  which has taxes map type property of parameteriszed type  has code equals to GST value greater than 1.01.</li>\n</ul></li>\n<li>{'$or':[{'code':'10'},{'skus': {'$and':[{'price':{'$in':['20', '40']}}, {'code':'RedApple'}]}}]}\n<ul>\n<li>Select all products where product code is 10 or sku price in 20 and 40 and sku code is \"RedApple\".</li>\n</ul></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":429234,"reputation":3009,"user_id":812018,"display_name":"npgall"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1446853076,"creation_date":1343599965,"answer_id":11713441,"question_id":122105,"body_markdown":"Use [Collection Query Engine (CQEngine)](https://github.com/npgall/cqengine). It is by far the fastest way to do this.\r\n\r\nSee also: [How do you query object collections in Java (Criteria/SQL-like)?](https://stackoverflow.com/a/11712925/812018)","title":"How to filter a Java Collection (based on predicate)?","body":"<p>Use <a href=\"https://github.com/npgall/cqengine\" rel=\"nofollow noreferrer\">Collection Query Engine (CQEngine)</a>. It is by far the fastest way to do this.</p>\n\n<p>See also: <a href=\"https://stackoverflow.com/a/11712925/812018\">How do you query object collections in Java (Criteria/SQL-like)?</a></p>\n"},{"tags":[],"owner":{"account_id":1712726,"reputation":6528,"user_id":1570415,"display_name":"Donald Raab"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1573343828,"creation_date":1348525728,"answer_id":12573823,"question_id":122105,"body_markdown":"Let’s look at how to filter a built-in JDK List and a [MutableList][1] using [Eclipse Collections][2].\r\n \r\n    List&lt;Integer&gt; jdkList = Arrays.asList(1, 2, 3, 4, 5);\r\n    MutableList&lt;Integer&gt; ecList = Lists.mutable.with(1, 2, 3, 4, 5);\r\n \r\nIf you wanted to filter the numbers less than 3, you would expect the following outputs.\r\n \r\n    List&lt;Integer&gt; selected = Lists.mutable.with(1, 2);\r\n    List&lt;Integer&gt; rejected = Lists.mutable.with(3, 4, 5);\r\n\r\nHere’s how you can filter using a Java 8 lambda as the `Predicate`.\r\n \r\n    Assert.assertEquals(selected, Iterate.select(jdkList, each -&gt; each &lt; 3));\r\n    Assert.assertEquals(rejected, Iterate.reject(jdkList, each -&gt; each &lt; 3));\r\n \r\n    Assert.assertEquals(selected, ecList.select(each -&gt; each &lt; 3));\r\n    Assert.assertEquals(rejected, ecList.reject(each -&gt; each &lt; 3));\r\n \r\nHere’s how you can filter using an anonymous inner class as the `Predicate`.\r\n \r\n    Predicate&lt;Integer&gt; lessThan3 = new Predicate&lt;Integer&gt;()\r\n    {\r\n        public boolean accept(Integer each)\r\n        {\r\n            return each &lt; 3;\r\n        }\r\n    };\r\n \r\n    Assert.assertEquals(selected, Iterate.select(jdkList, lessThan3));\r\n    Assert.assertEquals(selected, ecList.select(lessThan3));\r\n \r\nHere are some alternatives to filtering JDK lists and [Eclipse Collections][2] MutableLists using the [Predicates][4] factory.\r\n \r\n    Assert.assertEquals(selected, Iterate.select(jdkList, Predicates.lessThan(3)));\r\n    Assert.assertEquals(selected, ecList.select(Predicates.lessThan(3)));\r\n \r\nHere is a version that doesn&#39;t allocate an object for the predicate, by using the [Predicates2][5] factory instead with the `selectWith` method that takes a `Predicate2`.\r\n \r\n    Assert.assertEquals(\r\n        selected, ecList.selectWith(Predicates2.&lt;Integer&gt;lessThan(), 3));\r\n \r\nSometimes you want to filter on a negative condition.  There is a special method in Eclipse Collections for that called `reject`.\r\n \r\n    Assert.assertEquals(rejected, Iterate.reject(jdkList, lessThan3));\r\n    Assert.assertEquals(rejected, ecList.reject(lessThan3));\r\n\r\n \r\nThe method `partition` will return two collections, containing the elements selected by and rejected by the `Predicate`.\r\n \r\n    PartitionIterable&lt;Integer&gt; jdkPartitioned = Iterate.partition(jdkList, lessThan3);\r\n    Assert.assertEquals(selected, jdkPartitioned.getSelected());\r\n    Assert.assertEquals(rejected, jdkPartitioned.getRejected());\r\n \r\n    PartitionList&lt;Integer&gt; ecPartitioned = gscList.partition(lessThan3);\r\n    Assert.assertEquals(selected, ecPartitioned.getSelected());\r\n    Assert.assertEquals(rejected, ecPartitioned.getRejected());\r\n \r\nNote: I am a committer for Eclipse Collections.\r\n\r\n\r\n  [1]: https://www.eclipse.org/collections/javadoc/10.0.0/org/eclipse/collections/api/list/MutableList.html\r\n  [2]: https://www.eclipse.org/collections/\r\n  [3]: https://github.com/goldmansachs/gs-collections\r\n  [4]: https://www.eclipse.org/collections/javadoc/10.0.0/org/eclipse/collections/impl/block/factory/Predicates.html\r\n  [5]: https://www.eclipse.org/collections/javadoc/10.0.0/org/eclipse/collections/impl/block/factory/Predicates2.html","title":"How to filter a Java Collection (based on predicate)?","body":"<p>Let’s look at how to filter a built-in JDK List and a <a href=\"https://www.eclipse.org/collections/javadoc/10.0.0/org/eclipse/collections/api/list/MutableList.html\" rel=\"nofollow noreferrer\">MutableList</a> using <a href=\"https://www.eclipse.org/collections/\" rel=\"nofollow noreferrer\">Eclipse Collections</a>.</p>\n\n<pre><code>List&lt;Integer&gt; jdkList = Arrays.asList(1, 2, 3, 4, 5);\nMutableList&lt;Integer&gt; ecList = Lists.mutable.with(1, 2, 3, 4, 5);\n</code></pre>\n\n<p>If you wanted to filter the numbers less than 3, you would expect the following outputs.</p>\n\n<pre><code>List&lt;Integer&gt; selected = Lists.mutable.with(1, 2);\nList&lt;Integer&gt; rejected = Lists.mutable.with(3, 4, 5);\n</code></pre>\n\n<p>Here’s how you can filter using a Java 8 lambda as the <code>Predicate</code>.</p>\n\n<pre><code>Assert.assertEquals(selected, Iterate.select(jdkList, each -&gt; each &lt; 3));\nAssert.assertEquals(rejected, Iterate.reject(jdkList, each -&gt; each &lt; 3));\n\nAssert.assertEquals(selected, ecList.select(each -&gt; each &lt; 3));\nAssert.assertEquals(rejected, ecList.reject(each -&gt; each &lt; 3));\n</code></pre>\n\n<p>Here’s how you can filter using an anonymous inner class as the <code>Predicate</code>.</p>\n\n<pre><code>Predicate&lt;Integer&gt; lessThan3 = new Predicate&lt;Integer&gt;()\n{\n    public boolean accept(Integer each)\n    {\n        return each &lt; 3;\n    }\n};\n\nAssert.assertEquals(selected, Iterate.select(jdkList, lessThan3));\nAssert.assertEquals(selected, ecList.select(lessThan3));\n</code></pre>\n\n<p>Here are some alternatives to filtering JDK lists and <a href=\"https://www.eclipse.org/collections/\" rel=\"nofollow noreferrer\">Eclipse Collections</a> MutableLists using the <a href=\"https://www.eclipse.org/collections/javadoc/10.0.0/org/eclipse/collections/impl/block/factory/Predicates.html\" rel=\"nofollow noreferrer\">Predicates</a> factory.</p>\n\n<pre><code>Assert.assertEquals(selected, Iterate.select(jdkList, Predicates.lessThan(3)));\nAssert.assertEquals(selected, ecList.select(Predicates.lessThan(3)));\n</code></pre>\n\n<p>Here is a version that doesn't allocate an object for the predicate, by using the <a href=\"https://www.eclipse.org/collections/javadoc/10.0.0/org/eclipse/collections/impl/block/factory/Predicates2.html\" rel=\"nofollow noreferrer\">Predicates2</a> factory instead with the <code>selectWith</code> method that takes a <code>Predicate2</code>.</p>\n\n<pre><code>Assert.assertEquals(\n    selected, ecList.selectWith(Predicates2.&lt;Integer&gt;lessThan(), 3));\n</code></pre>\n\n<p>Sometimes you want to filter on a negative condition.  There is a special method in Eclipse Collections for that called <code>reject</code>.</p>\n\n<pre><code>Assert.assertEquals(rejected, Iterate.reject(jdkList, lessThan3));\nAssert.assertEquals(rejected, ecList.reject(lessThan3));\n</code></pre>\n\n<p>The method <code>partition</code> will return two collections, containing the elements selected by and rejected by the <code>Predicate</code>.</p>\n\n<pre><code>PartitionIterable&lt;Integer&gt; jdkPartitioned = Iterate.partition(jdkList, lessThan3);\nAssert.assertEquals(selected, jdkPartitioned.getSelected());\nAssert.assertEquals(rejected, jdkPartitioned.getRejected());\n\nPartitionList&lt;Integer&gt; ecPartitioned = gscList.partition(lessThan3);\nAssert.assertEquals(selected, ecPartitioned.getSelected());\nAssert.assertEquals(rejected, ecPartitioned.getRejected());\n</code></pre>\n\n<p>Note: I am a committer for Eclipse Collections.</p>\n"},{"tags":[],"owner":{"account_id":57788,"reputation":46110,"user_id":173149,"accept_rate":62,"display_name":"gavenkoa"},"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1427185441,"creation_date":1377773437,"answer_id":18508956,"question_id":122105,"body_markdown":"Wait for Java 8:\r\n\r\n    List&lt;Person&gt; olderThan30 = \r\n      //Create a Stream from the personList\r\n      personList.stream().\r\n      //filter the element to select only those with age &gt;= 30\r\n      filter(p -&gt; p.age &gt;= 30).\r\n      //put those filtered elements into a new List.\r\n      collect(Collectors.toList());\r\n","title":"How to filter a Java Collection (based on predicate)?","body":"<p>Wait for Java 8:</p>\n\n<pre><code>List&lt;Person&gt; olderThan30 = \n  //Create a Stream from the personList\n  personList.stream().\n  //filter the element to select only those with age &gt;= 30\n  filter(p -&gt; p.age &gt;= 30).\n  //put those filtered elements into a new List.\n  collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1306954,"reputation":11661,"user_id":1255746,"accept_rate":78,"display_name":"Josh M"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1382910115,"creation_date":1382910115,"answer_id":19623934,"question_id":122105,"body_markdown":"Since the early release of Java 8, you could try something like:\r\n\r\n    Collection&lt;T&gt; collection = ...;\r\n    Stream&lt;T&gt; stream = collection.stream().filter(...);\r\n\r\nFor example, if you had a list of integers and you wanted to filter the numbers that are &gt; 10 and then print out those numbers to the console, you could do something like:\r\n\r\n    List&lt;Integer&gt; numbers = Arrays.asList(12, 74, 5, 8, 16);\r\n    numbers.stream().filter(n -&gt; n &gt; 10).forEach(System.out::println);","title":"How to filter a Java Collection (based on predicate)?","body":"<p>Since the early release of Java 8, you could try something like:</p>\n\n<pre><code>Collection&lt;T&gt; collection = ...;\nStream&lt;T&gt; stream = collection.stream().filter(...);\n</code></pre>\n\n<p>For example, if you had a list of integers and you wanted to filter the numbers that are > 10 and then print out those numbers to the console, you could do something like:</p>\n\n<pre><code>List&lt;Integer&gt; numbers = Arrays.asList(12, 74, 5, 8, 16);\nnumbers.stream().filter(n -&gt; n &gt; 10).forEach(System.out::println);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1539045,"reputation":1412,"user_id":1434175,"accept_rate":67,"display_name":"Nestor Hernandez Loli"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1399871037,"creation_date":1399871037,"answer_id":23601384,"question_id":122105,"body_markdown":"How about some plain and straighforward Java\r\n   \r\n\r\n     List&lt;Customer&gt; list ...;\r\n     List&lt;Customer&gt; newList = new ArrayList&lt;&gt;();\r\n     for (Customer c : list){\r\n        if (c.getName().equals(&quot;dd&quot;)) newList.add(c);\r\n     }\r\n\r\nSimple, readable and easy (and works in Android!)\r\nBut if you&#39;re using Java 8 you can do it in a sweet one line:\r\n  \r\n\r\n    List&lt;Customer&gt; newList = list.stream().filter(c -&gt; c.getName().equals(&quot;dd&quot;)).collect(toList());\r\n\r\nNote that toList() is statically imported","title":"How to filter a Java Collection (based on predicate)?","body":"<p>How about some plain and straighforward Java</p>\n\n<pre><code> List&lt;Customer&gt; list ...;\n List&lt;Customer&gt; newList = new ArrayList&lt;&gt;();\n for (Customer c : list){\n    if (c.getName().equals(\"dd\")) newList.add(c);\n }\n</code></pre>\n\n<p>Simple, readable and easy (and works in Android!)\nBut if you're using Java 8 you can do it in a sweet one line:</p>\n\n<pre><code>List&lt;Customer&gt; newList = list.stream().filter(c -&gt; c.getName().equals(\"dd\")).collect(toList());\n</code></pre>\n\n<p>Note that toList() is statically imported</p>\n"},{"tags":[],"owner":{"account_id":284102,"reputation":634,"user_id":581986,"display_name":"Andrew McKnight"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1404414932,"creation_date":1404413679,"answer_id":24561326,"question_id":122105,"body_markdown":"The simple pre-Java8 solution:\r\n\r\n    ArrayList&lt;Item&gt; filtered = new ArrayList&lt;Item&gt;(); \r\n    for (Item item : items) if (condition(item)) filtered.add(item);\r\n\r\nUnfortunately this solution isn&#39;t fully generic, outputting a list rather than the type of the given collection. Also, bringing in libraries or writing functions that wrap this code seems like overkill to me unless the condition is complex, but then you can write a function for the condition.","title":"How to filter a Java Collection (based on predicate)?","body":"<p>The simple pre-Java8 solution:</p>\n\n<pre><code>ArrayList&lt;Item&gt; filtered = new ArrayList&lt;Item&gt;(); \nfor (Item item : items) if (condition(item)) filtered.add(item);\n</code></pre>\n\n<p>Unfortunately this solution isn't fully generic, outputting a list rather than the type of the given collection. Also, bringing in libraries or writing functions that wrap this code seems like overkill to me unless the condition is complex, but then you can write a function for the condition.</p>\n"},{"tags":[],"owner":{"account_id":281006,"reputation":4173,"user_id":577062,"display_name":"anon"},"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1455492312,"creation_date":1406167981,"answer_id":24924039,"question_id":122105,"body_markdown":"I&#39;ll throw [RxJava](https://github.com/ReactiveX/RxJava) in the ring, which is also available on [Android](https://github.com/ReactiveX/RxAndroid). RxJava might not always be the best option, but it will give you more flexibility if you wish add more transformations on your collection or handle errors while filtering.\r\n\r\n    Observable.from(Arrays.asList(1, 2, 3, 4, 5))\r\n        .filter(new Func1&lt;Integer, Boolean&gt;() {\r\n            public Boolean call(Integer i) {\r\n                return i % 2 != 0;\r\n            }\r\n        })\r\n        .subscribe(new Action1&lt;Integer&gt;() {\r\n            public void call(Integer i) {\r\n                System.out.println(i);\r\n            }\r\n        });\r\n\r\nOutput:\r\n\r\n    1\r\n    3\r\n    5\r\n\r\nMore details on RxJava&#39;s `filter` can be found [here](https://github.com/ReactiveX/RxJava/wiki/Filtering-Observables#filter).","title":"How to filter a Java Collection (based on predicate)?","body":"<p>I'll throw <a href=\"https://github.com/ReactiveX/RxJava\" rel=\"noreferrer\">RxJava</a> in the ring, which is also available on <a href=\"https://github.com/ReactiveX/RxAndroid\" rel=\"noreferrer\">Android</a>. RxJava might not always be the best option, but it will give you more flexibility if you wish add more transformations on your collection or handle errors while filtering.</p>\n\n<pre><code>Observable.from(Arrays.asList(1, 2, 3, 4, 5))\n    .filter(new Func1&lt;Integer, Boolean&gt;() {\n        public Boolean call(Integer i) {\n            return i % 2 != 0;\n        }\n    })\n    .subscribe(new Action1&lt;Integer&gt;() {\n        public void call(Integer i) {\n            System.out.println(i);\n        }\n    });\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>1\n3\n5\n</code></pre>\n\n<p>More details on RxJava's <code>filter</code> can be found <a href=\"https://github.com/ReactiveX/RxJava/wiki/Filtering-Observables#filter\" rel=\"noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":451780,"reputation":6004,"user_id":847853,"accept_rate":68,"display_name":"Low Flying Pelican"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1409749175,"creation_date":1409749175,"answer_id":25645013,"question_id":122105,"body_markdown":"https://code.google.com/p/joquery/\r\n\r\nSupports different possibilities,\r\n\r\nGiven collection,\r\n\r\n    Collection&lt;Dto&gt; testList = new ArrayList&lt;&gt;();\r\n\r\nof type,\r\n\r\n    class Dto\r\n    {\r\n        private int id;\r\n        private String text;\r\n    \r\n        public int getId()\r\n        {\r\n            return id;\r\n        }\r\n    \r\n        public int getText()\r\n        {\r\n            return text;\r\n        }\r\n    }\r\n\r\n**Filter**\r\n\r\n***Java 7***\r\n\r\n    Filter&lt;Dto&gt; query = CQ.&lt;Dto&gt;filter(testList)\r\n        .where()\r\n        .property(&quot;id&quot;).eq().value(1);\r\n    Collection&lt;Dto&gt; filtered = query.list();\r\n\r\n***Java 8***\r\n\r\n    Filter&lt;Dto&gt; query = CQ.&lt;Dto&gt;filter(testList)\r\n        .where()\r\n        .property(Dto::getId)\r\n        .eq().value(1);\r\n    Collection&lt;Dto&gt; filtered = query.list();\r\n\r\nAlso,\r\n\r\n    Filter&lt;Dto&gt; query = CQ.&lt;Dto&gt;filter()\r\n            .from(testList)\r\n            .where()\r\n            .property(Dto::getId).between().value(1).value(2)\r\n            .and()\r\n            .property(Dto::grtText).in().value(new string[]{&quot;a&quot;,&quot;b&quot;});\r\n\r\n\r\n\r\n**Sorting** (also available for the Java 7)\r\n\r\n    Filter&lt;Dto&gt; query = CQ.&lt;Dto&gt;filter(testList)\r\n            .orderBy()\r\n            .property(Dto::getId)\r\n            .property(Dto::getName)\r\n        Collection&lt;Dto&gt; sorted = query.list();\r\n\r\n**Grouping** (also available for the Java 7)\r\n\r\n    GroupQuery&lt;Integer,Dto&gt; query = CQ.&lt;Dto,Dto&gt;query(testList)\r\n            .group()\r\n            .groupBy(Dto::getId)\r\n        Collection&lt;Grouping&lt;Integer,Dto&gt;&gt; grouped = query.list();\r\n\r\n**Joins** (also available for the Java 7)\r\n\r\nGiven,\r\n\r\n    class LeftDto\r\n    {\r\n        private int id;\r\n        private String text;\r\n    \r\n        public int getId()\r\n        {\r\n            return id;\r\n        }\r\n    \r\n        public int getText()\r\n        {\r\n            return text;\r\n        }\r\n    }\r\n    \r\n    class RightDto\r\n    {\r\n        private int id;\r\n        private int leftId;\r\n        private String text;\r\n    \r\n        public int getId()\r\n        {\r\n            return id;\r\n        }\r\n    \r\n        public int getLeftId()\r\n            {\r\n                return leftId;\r\n            }\r\n    \r\n        public int getText()\r\n        {\r\n            return text;\r\n        }\r\n    }\r\n    \r\n    class JoinedDto\r\n    {\r\n        private int leftId;\r\n        private int rightId;\r\n        private String text;\r\n    \r\n        public JoinedDto(int leftId,int rightId,String text)\r\n        {\r\n            this.leftId = leftId;\r\n            this.rightId = rightId;\r\n            this.text = text;\r\n        }\r\n    \r\n        public int getLeftId()\r\n        {\r\n            return leftId;\r\n        }\r\n    \r\n        public int getRightId()\r\n            {\r\n                return rightId;\r\n            }\r\n    \r\n        public int getText()\r\n        {\r\n            return text;\r\n        }\r\n    }\r\n    \r\n    Collection&lt;LeftDto&gt; leftList = new ArrayList&lt;&gt;();\r\n    \r\n    Collection&lt;RightDto&gt; rightList = new ArrayList&lt;&gt;();\r\n\r\nCan be Joined like,\r\n\r\n    Collection&lt;JoinedDto&gt; results = CQ.&lt;LeftDto, LeftDto&gt;query().from(leftList)\r\n                    .&lt;RightDto, JoinedDto&gt;innerJoin(CQ.&lt;RightDto, RightDto&gt;query().from(rightList))\r\n                    .on(LeftFyo::getId, RightDto::getLeftId)\r\n                    .transformDirect(selection -&gt;  new JoinedDto(selection.getLeft().getText()\r\n                                                         , selection.getLeft().getId()\r\n                                                         , selection.getRight().getId())\r\n                                     )\r\n                    .list();\r\n\r\n\r\n**Expressions**\r\n\r\n    Filter&lt;Dto&gt; query = CQ.&lt;Dto&gt;filter()\r\n        .from(testList)\r\n        .where()\r\n        .exec(s -&gt; s.getId() + 1).eq().value(2);\r\n\r\n","title":"How to filter a Java Collection (based on predicate)?","body":"<p><a href=\"https://code.google.com/p/joquery/\" rel=\"nofollow\">https://code.google.com/p/joquery/</a></p>\n\n<p>Supports different possibilities,</p>\n\n<p>Given collection,</p>\n\n<pre><code>Collection&lt;Dto&gt; testList = new ArrayList&lt;&gt;();\n</code></pre>\n\n<p>of type,</p>\n\n<pre><code>class Dto\n{\n    private int id;\n    private String text;\n\n    public int getId()\n    {\n        return id;\n    }\n\n    public int getText()\n    {\n        return text;\n    }\n}\n</code></pre>\n\n<p><strong>Filter</strong></p>\n\n<p><strong><em>Java 7</em></strong></p>\n\n<pre><code>Filter&lt;Dto&gt; query = CQ.&lt;Dto&gt;filter(testList)\n    .where()\n    .property(\"id\").eq().value(1);\nCollection&lt;Dto&gt; filtered = query.list();\n</code></pre>\n\n<p><strong><em>Java 8</em></strong></p>\n\n<pre><code>Filter&lt;Dto&gt; query = CQ.&lt;Dto&gt;filter(testList)\n    .where()\n    .property(Dto::getId)\n    .eq().value(1);\nCollection&lt;Dto&gt; filtered = query.list();\n</code></pre>\n\n<p>Also,</p>\n\n<pre><code>Filter&lt;Dto&gt; query = CQ.&lt;Dto&gt;filter()\n        .from(testList)\n        .where()\n        .property(Dto::getId).between().value(1).value(2)\n        .and()\n        .property(Dto::grtText).in().value(new string[]{\"a\",\"b\"});\n</code></pre>\n\n<p><strong>Sorting</strong> (also available for the Java 7)</p>\n\n<pre><code>Filter&lt;Dto&gt; query = CQ.&lt;Dto&gt;filter(testList)\n        .orderBy()\n        .property(Dto::getId)\n        .property(Dto::getName)\n    Collection&lt;Dto&gt; sorted = query.list();\n</code></pre>\n\n<p><strong>Grouping</strong> (also available for the Java 7)</p>\n\n<pre><code>GroupQuery&lt;Integer,Dto&gt; query = CQ.&lt;Dto,Dto&gt;query(testList)\n        .group()\n        .groupBy(Dto::getId)\n    Collection&lt;Grouping&lt;Integer,Dto&gt;&gt; grouped = query.list();\n</code></pre>\n\n<p><strong>Joins</strong> (also available for the Java 7)</p>\n\n<p>Given,</p>\n\n<pre><code>class LeftDto\n{\n    private int id;\n    private String text;\n\n    public int getId()\n    {\n        return id;\n    }\n\n    public int getText()\n    {\n        return text;\n    }\n}\n\nclass RightDto\n{\n    private int id;\n    private int leftId;\n    private String text;\n\n    public int getId()\n    {\n        return id;\n    }\n\n    public int getLeftId()\n        {\n            return leftId;\n        }\n\n    public int getText()\n    {\n        return text;\n    }\n}\n\nclass JoinedDto\n{\n    private int leftId;\n    private int rightId;\n    private String text;\n\n    public JoinedDto(int leftId,int rightId,String text)\n    {\n        this.leftId = leftId;\n        this.rightId = rightId;\n        this.text = text;\n    }\n\n    public int getLeftId()\n    {\n        return leftId;\n    }\n\n    public int getRightId()\n        {\n            return rightId;\n        }\n\n    public int getText()\n    {\n        return text;\n    }\n}\n\nCollection&lt;LeftDto&gt; leftList = new ArrayList&lt;&gt;();\n\nCollection&lt;RightDto&gt; rightList = new ArrayList&lt;&gt;();\n</code></pre>\n\n<p>Can be Joined like,</p>\n\n<pre><code>Collection&lt;JoinedDto&gt; results = CQ.&lt;LeftDto, LeftDto&gt;query().from(leftList)\n                .&lt;RightDto, JoinedDto&gt;innerJoin(CQ.&lt;RightDto, RightDto&gt;query().from(rightList))\n                .on(LeftFyo::getId, RightDto::getLeftId)\n                .transformDirect(selection -&gt;  new JoinedDto(selection.getLeft().getText()\n                                                     , selection.getLeft().getId()\n                                                     , selection.getRight().getId())\n                                 )\n                .list();\n</code></pre>\n\n<p><strong>Expressions</strong></p>\n\n<pre><code>Filter&lt;Dto&gt; query = CQ.&lt;Dto&gt;filter()\n    .from(testList)\n    .where()\n    .exec(s -&gt; s.getId() + 1).eq().value(2);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1540226,"reputation":1045,"user_id":1435079,"display_name":"Lawrence"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1522945368,"creation_date":1420628858,"answer_id":27818083,"question_id":122105,"body_markdown":"Some really great great answers here. Me, I&#39;d like to keep thins as simple and readable as possible:\r\n\r\n    public abstract class AbstractFilter&lt;T&gt; {\r\n\r\n        /**\r\n         * Method that returns whether an item is to be included or not.\r\n         * @param item an item from the given collection.\r\n         * @return true if this item is to be included in the collection, false in case it has to be removed.\r\n         */\r\n        protected abstract boolean excludeItem(T item);\r\n    \r\n        public void filter(Collection&lt;T&gt; collection) {\r\n            if (CollectionUtils.isNotEmpty(collection)) {\r\n                Iterator&lt;T&gt; iterator = collection.iterator();\r\n                while (iterator.hasNext()) {\r\n                    if (excludeItem(iterator.next())) {\r\n                        iterator.remove();\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }","title":"How to filter a Java Collection (based on predicate)?","body":"<p>Some really great great answers here. Me, I'd like to keep thins as simple and readable as possible:</p>\n\n<pre><code>public abstract class AbstractFilter&lt;T&gt; {\n\n    /**\n     * Method that returns whether an item is to be included or not.\n     * @param item an item from the given collection.\n     * @return true if this item is to be included in the collection, false in case it has to be removed.\n     */\n    protected abstract boolean excludeItem(T item);\n\n    public void filter(Collection&lt;T&gt; collection) {\n        if (CollectionUtils.isNotEmpty(collection)) {\n            Iterator&lt;T&gt; iterator = collection.iterator();\n            while (iterator.hasNext()) {\n                if (excludeItem(iterator.next())) {\n                    iterator.remove();\n                }\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2264130,"reputation":38897,"user_id":1993366,"accept_rate":86,"display_name":"vikingsteve"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1429701504,"creation_date":1429701504,"answer_id":29795865,"question_id":122105,"body_markdown":"My answer builds on that from Kevin Wong, here as a one-liner using `CollectionUtils` from *spring* and a Java 8 *lambda* expression.\r\n\r\n    CollectionUtils.filter(list, p -&gt; ((Person) p).getAge() &gt; 16);\r\n\r\nThis is as concise and readable as any alternative I have seen (without using aspect-based libraries)\r\n\r\nSpring [CollectionUtils][1] is available from spring version 4.0.2.RELEASE, and remember you need JDK 1.8 and language level 8+.\r\n\r\n\r\n  [1]: http://docs.spring.io/autorepo/docs/spring/4.0.2.RELEASE/javadoc-api/org/springframework/util/CollectionUtils.html","title":"How to filter a Java Collection (based on predicate)?","body":"<p>My answer builds on that from Kevin Wong, here as a one-liner using <code>CollectionUtils</code> from <em>spring</em> and a Java 8 <em>lambda</em> expression.</p>\n\n<pre><code>CollectionUtils.filter(list, p -&gt; ((Person) p).getAge() &gt; 16);\n</code></pre>\n\n<p>This is as concise and readable as any alternative I have seen (without using aspect-based libraries)</p>\n\n<p>Spring <a href=\"http://docs.spring.io/autorepo/docs/spring/4.0.2.RELEASE/javadoc-api/org/springframework/util/CollectionUtils.html\" rel=\"nofollow\">CollectionUtils</a> is available from spring version 4.0.2.RELEASE, and remember you need JDK 1.8 and language level 8+.</p>\n"},{"tags":[],"owner":{"account_id":1476930,"reputation":9005,"user_id":1387113,"accept_rate":100,"display_name":"hd84335"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1449956875,"creation_date":1449956875,"answer_id":34245383,"question_id":122105,"body_markdown":"Using `java 8`, specifically `lambda expression`, you can do it simply like the below example:\r\n \r\n    myProducts.stream().filter(prod -&gt; prod.price&gt;10).collect(Collectors.toList())\r\n\r\nwhere for each `product` inside `myProducts` collection, if `prod.price&gt;10`, then add this product to the new filtered list.","title":"How to filter a Java Collection (based on predicate)?","body":"<p>Using <code>java 8</code>, specifically <code>lambda expression</code>, you can do it simply like the below example:</p>\n\n<pre><code>myProducts.stream().filter(prod -&gt; prod.price&gt;10).collect(Collectors.toList())\n</code></pre>\n\n<p>where for each <code>product</code> inside <code>myProducts</code> collection, if <code>prod.price&gt;10</code>, then add this product to the new filtered list.</p>\n"},{"tags":[],"owner":{"account_id":362885,"reputation":37256,"user_id":706317,"accept_rate":70,"display_name":"ZhekaKozlov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1481794004,"creation_date":1481793647,"answer_id":41160462,"question_id":122105,"body_markdown":"With Guava:\r\n\r\n    Collection&lt;Integer&gt; collection = Lists.newArrayList(1, 2, 3, 4, 5);\r\n\r\n    Iterators.removeIf(collection.iterator(), new Predicate&lt;Integer&gt;() {\r\n        @Override\r\n        public boolean apply(Integer i) {\r\n            return i % 2 == 0;\r\n        }\r\n    });\r\n\r\n    System.out.println(collection); // Prints 1, 3, 5","title":"How to filter a Java Collection (based on predicate)?","body":"<p>With Guava:</p>\n\n<pre><code>Collection&lt;Integer&gt; collection = Lists.newArrayList(1, 2, 3, 4, 5);\n\nIterators.removeIf(collection.iterator(), new Predicate&lt;Integer&gt;() {\n    @Override\n    public boolean apply(Integer i) {\n        return i % 2 == 0;\n    }\n});\n\nSystem.out.println(collection); // Prints 1, 3, 5\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1237217,"reputation":307,"user_id":1200563,"display_name":"Fredrik Metcalf"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1497536885,"creation_date":1497536885,"answer_id":44570130,"question_id":122105,"body_markdown":"I needed to filter a list depending on the values already present in the list. For example, remove all values following that is less than the current value. {2 5 3 4 7 5} -&gt; {2 5 7}. Or for example to remove all duplicates {3 5 4 2 3 5 6} -&gt; {3 5 4 2 6}.\r\n\r\n    public class Filter {\r\n        public static &lt;T&gt; void List(List&lt;T&gt; list, Chooser&lt;T&gt; chooser) {\r\n            List&lt;Integer&gt; toBeRemoved = new ArrayList&lt;&gt;();\r\n            leftloop:\r\n            for (int right = 1; right &lt; list.size(); ++right) {\r\n                for (int left = 0; left &lt; right; ++left) {\r\n                    if (toBeRemoved.contains(left)) {\r\n                        continue;\r\n                    }\r\n                    Keep keep = chooser.choose(list.get(left), list.get(right));\r\n                    switch (keep) {\r\n                        case LEFT:\r\n                            toBeRemoved.add(right);\r\n                            continue leftloop;\r\n                        case RIGHT:\r\n                            toBeRemoved.add(left);\r\n                            break;\r\n                        case NONE:\r\n                            toBeRemoved.add(left);\r\n                            toBeRemoved.add(right);\r\n                            continue leftloop;\r\n                    }\r\n                }\r\n            }\r\n    \r\n            Collections.sort(toBeRemoved, new Comparator&lt;Integer&gt;() {\r\n                @Override\r\n                public int compare(Integer o1, Integer o2) {\r\n                    return o2 - o1;\r\n                }\r\n            });\r\n    \r\n            for (int i : toBeRemoved) {\r\n                if (i &gt;= 0 &amp;&amp; i &lt; list.size()) {\r\n                    list.remove(i);\r\n                }\r\n            }\r\n        }\r\n    \r\n        public static &lt;T&gt; void List(List&lt;T&gt; list, Keeper&lt;T&gt; keeper) {\r\n            Iterator&lt;T&gt; iterator = list.iterator();\r\n            while (iterator.hasNext()) {\r\n                if (!keeper.keep(iterator.next())) {\r\n                    iterator.remove();\r\n                }\r\n            }\r\n        }\r\n    \r\n        public interface Keeper&lt;E&gt; {\r\n            boolean keep(E obj);\r\n        }\r\n    \r\n        public interface Chooser&lt;E&gt; {\r\n            Keep choose(E left, E right);\r\n        }\r\n    \r\n        public enum Keep {\r\n            LEFT, RIGHT, BOTH, NONE;\r\n        }\r\n    }\r\n\r\nThis will bee used like this.\r\n\r\n    List&lt;String&gt; names = new ArrayList&lt;&gt;();\r\n    names.add(&quot;Anders&quot;);\r\n    names.add(&quot;Stefan&quot;);\r\n    names.add(&quot;Anders&quot;);\r\n    Filter.List(names, new Filter.Chooser&lt;String&gt;() {\r\n        @Override\r\n        public Filter.Keep choose(String left, String right) {\r\n            return left.equals(right) ? Filter.Keep.LEFT : Filter.Keep.BOTH;\r\n        }\r\n    });","title":"How to filter a Java Collection (based on predicate)?","body":"<p>I needed to filter a list depending on the values already present in the list. For example, remove all values following that is less than the current value. {2 5 3 4 7 5} -> {2 5 7}. Or for example to remove all duplicates {3 5 4 2 3 5 6} -> {3 5 4 2 6}.</p>\n\n<pre><code>public class Filter {\n    public static &lt;T&gt; void List(List&lt;T&gt; list, Chooser&lt;T&gt; chooser) {\n        List&lt;Integer&gt; toBeRemoved = new ArrayList&lt;&gt;();\n        leftloop:\n        for (int right = 1; right &lt; list.size(); ++right) {\n            for (int left = 0; left &lt; right; ++left) {\n                if (toBeRemoved.contains(left)) {\n                    continue;\n                }\n                Keep keep = chooser.choose(list.get(left), list.get(right));\n                switch (keep) {\n                    case LEFT:\n                        toBeRemoved.add(right);\n                        continue leftloop;\n                    case RIGHT:\n                        toBeRemoved.add(left);\n                        break;\n                    case NONE:\n                        toBeRemoved.add(left);\n                        toBeRemoved.add(right);\n                        continue leftloop;\n                }\n            }\n        }\n\n        Collections.sort(toBeRemoved, new Comparator&lt;Integer&gt;() {\n            @Override\n            public int compare(Integer o1, Integer o2) {\n                return o2 - o1;\n            }\n        });\n\n        for (int i : toBeRemoved) {\n            if (i &gt;= 0 &amp;&amp; i &lt; list.size()) {\n                list.remove(i);\n            }\n        }\n    }\n\n    public static &lt;T&gt; void List(List&lt;T&gt; list, Keeper&lt;T&gt; keeper) {\n        Iterator&lt;T&gt; iterator = list.iterator();\n        while (iterator.hasNext()) {\n            if (!keeper.keep(iterator.next())) {\n                iterator.remove();\n            }\n        }\n    }\n\n    public interface Keeper&lt;E&gt; {\n        boolean keep(E obj);\n    }\n\n    public interface Chooser&lt;E&gt; {\n        Keep choose(E left, E right);\n    }\n\n    public enum Keep {\n        LEFT, RIGHT, BOTH, NONE;\n    }\n}\n</code></pre>\n\n<p>This will bee used like this.</p>\n\n<pre><code>List&lt;String&gt; names = new ArrayList&lt;&gt;();\nnames.add(\"Anders\");\nnames.add(\"Stefan\");\nnames.add(\"Anders\");\nFilter.List(names, new Filter.Chooser&lt;String&gt;() {\n    @Override\n    public Filter.Keep choose(String left, String right) {\n        return left.equals(right) ? Filter.Keep.LEFT : Filter.Keep.BOTH;\n    }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5758401,"reputation":2142,"user_id":4545552,"accept_rate":100,"display_name":"yanefedor"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1527170340,"creation_date":1527170340,"answer_id":50511268,"question_id":122105,"body_markdown":"Since **java 9** `Collectors.filtering` is enabled:\r\n\r\n    public static &lt;T, A, R&gt;\r\n        Collector&lt;T, ?, R&gt; filtering(Predicate&lt;? super T&gt; predicate,\r\n                                     Collector&lt;? super T, A, R&gt; downstream)\r\n\r\nThus filtering should be:\r\n\r\n    collection.stream().collect(Collectors.filtering(predicate, collector))\r\n\r\nExample:\r\n\r\n    List&lt;Integer&gt; oddNumbers = List.of(1, 19, 15, 10, -10).stream()\r\n                .collect(Collectors.filtering(i -&gt; i % 2 == 1, Collectors.toList()));\r\n\r\n","title":"How to filter a Java Collection (based on predicate)?","body":"<p>Since <strong>java 9</strong> <code>Collectors.filtering</code> is enabled:</p>\n\n<pre><code>public static &lt;T, A, R&gt;\n    Collector&lt;T, ?, R&gt; filtering(Predicate&lt;? super T&gt; predicate,\n                                 Collector&lt;? super T, A, R&gt; downstream)\n</code></pre>\n\n<p>Thus filtering should be:</p>\n\n<pre><code>collection.stream().collect(Collectors.filtering(predicate, collector))\n</code></pre>\n\n<p>Example:</p>\n\n<pre><code>List&lt;Integer&gt; oddNumbers = List.of(1, 19, 15, 10, -10).stream()\n            .collect(Collectors.filtering(i -&gt; i % 2 == 1, Collectors.toList()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5417167,"reputation":184,"user_id":4312010,"display_name":"pramod_m"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1547765464,"creation_date":1539870004,"answer_id":52875398,"question_id":122105,"body_markdown":"In Java 8, You can directly use this filter method and then do that.\r\n    \r\n    \r\n    \r\n     List&lt;String&gt; lines = Arrays.asList(&quot;java&quot;, &quot;pramod&quot;, &quot;example&quot;);\r\n    \r\n     List&lt;String&gt; result = lines.stream()              \r\n             .filter(line -&gt; !&quot;pramod&quot;.equals(line))     \r\n             .collect(Collectors.toList());              \r\n    \r\n     result.forEach(System.out::println); \r\n\r\n\r\n","title":"How to filter a Java Collection (based on predicate)?","body":"<p>In Java 8, You can directly use this filter method and then do that.</p>\n\n<pre><code> List&lt;String&gt; lines = Arrays.asList(\"java\", \"pramod\", \"example\");\n\n List&lt;String&gt; result = lines.stream()              \n         .filter(line -&gt; !\"pramod\".equals(line))     \n         .collect(Collectors.toList());              \n\n result.forEach(System.out::println); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":10864525,"reputation":289,"user_id":7988380,"display_name":"Muhammad Hamed K"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1627397760,"creation_date":1627397760,"answer_id":68547203,"question_id":122105,"body_markdown":"In my case, I was looking for list with specific field null excluded.\r\nThis could be done with for loop and fill the temporary list of objects who have no null addresses.\r\nbut Thanks to Java 8 Streams\r\n\r\n    List&lt;Person&gt; personsList = persons.stream()\r\n    .filter(p -&gt; p.getAdrress() != null).collect(Collectors.toList());\r\n\r\n#java #collection #collections #java8 #streams\r\n","title":"How to filter a Java Collection (based on predicate)?","body":"<p>In my case, I was looking for list with specific field null excluded.\nThis could be done with for loop and fill the temporary list of objects who have no null addresses.\nbut Thanks to Java 8 Streams</p>\n<pre><code>List&lt;Person&gt; personsList = persons.stream()\n.filter(p -&gt; p.getAdrress() != null).collect(Collectors.toList());\n</code></pre>\n<p>#java #collection #collections #java8 #streams</p>\n"},{"tags":[],"owner":{"account_id":19406719,"reputation":81,"user_id":14192015,"display_name":"Kevin Lano"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633256802,"creation_date":1633256802,"answer_id":69423954,"question_id":122105,"body_markdown":"An alternative (more lightweight) alternative to Java collection streams is the Ocl.java library, which uses vanilla collections and lambdas: https://github.com/eclipse/agileuml/blob/master/Ocl.java\r\n\r\nFor example, a simple filter and sum on an ArrayList&lt;String&gt; words \r\ncould be: \r\n\r\n    ArrayList&lt;Word&gt; sel = Ocl.selectSequence(words, \r\n                                 w -&gt; w.pos.equals(&quot;NN&quot;)); \r\n    int total = Ocl.sumint(Ocl.collectSequence(sel,\r\n                                 w -&gt; w.text.length())); \r\n\r\nWhere Word has  String pos; String text;  attributes. Efficiency seems similar to the streams option, eg, 10000 words are processed in about 50ms in both versions.\r\n\r\nThere are equivalent OCL libraries for Python, Swift, etc. Basically Java collection streams has re-invented the OCL operations -&gt;select, -&gt;collect, etc, which existed in OCL since 1998.\r\n\r\n","title":"How to filter a Java Collection (based on predicate)?","body":"<p>An alternative (more lightweight) alternative to Java collection streams is the Ocl.java library, which uses vanilla collections and lambdas: <a href=\"https://github.com/eclipse/agileuml/blob/master/Ocl.java\" rel=\"nofollow noreferrer\">https://github.com/eclipse/agileuml/blob/master/Ocl.java</a></p>\n<p>For example, a simple filter and sum on an ArrayList words\ncould be:</p>\n<pre><code>ArrayList&lt;Word&gt; sel = Ocl.selectSequence(words, \n                             w -&gt; w.pos.equals(&quot;NN&quot;)); \nint total = Ocl.sumint(Ocl.collectSequence(sel,\n                             w -&gt; w.text.length())); \n</code></pre>\n<p>Where Word has  String pos; String text;  attributes. Efficiency seems similar to the streams option, eg, 10000 words are processed in about 50ms in both versions.</p>\n<p>There are equivalent OCL libraries for Python, Swift, etc. Basically Java collection streams has re-invented the OCL operations -&gt;select, -&gt;collect, etc, which existed in OCL since 1998.</p>\n"},{"tags":[],"owner":{"account_id":6579550,"reputation":524,"user_id":5084232,"display_name":"Tushar Wasson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689329314,"creation_date":1689329314,"answer_id":76686697,"question_id":122105,"body_markdown":"I prefer this way: \r\n\r\n \r\n\r\n    public static void main(String[] args) {\r\n        \r\n        //Create predicate\r\n        Predicate&lt;Integer&gt; FILTER_ODD_ONES =\r\n            number -&gt; number % 2 != 0;\r\n        \r\n        //Apply predicate\r\n        Arrays.asList(1, 2, 3, 4, 5, 6, 7, 8, 9, 10)\r\n            .stream()\r\n            .filter(FILTER_ODD_ONES)\r\n            .collect(Collectors.toList());\r\n      }","title":"How to filter a Java Collection (based on predicate)?","body":"<p>I prefer this way:</p>\n<pre><code>public static void main(String[] args) {\n    \n    //Create predicate\n    Predicate&lt;Integer&gt; FILTER_ODD_ONES =\n        number -&gt; number % 2 != 0;\n    \n    //Apply predicate\n    Arrays.asList(1, 2, 3, 4, 5, 6, 7, 8, 9, 10)\n        .stream()\n        .filter(FILTER_ODD_ONES)\n        .collect(Collectors.toList());\n  }\n</code></pre>\n"}],"owner":{"account_id":3324,"reputation":14696,"user_id":4792,"accept_rate":50,"display_name":"Kevin Wong"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":861986,"favorite_count":0,"down_vote_count":3,"up_vote_count":770,"accepted_answer_id":1385698,"answer_count":30,"score":767,"last_activity_date":1689329314,"creation_date":1222187186,"question_id":122105,"body_markdown":"I want to filter a `java.util.Collection` based on a predicate.","title":"How to filter a Java Collection (based on predicate)?","body":"<p>I want to filter a <code>java.util.Collection</code> based on a predicate.</p>\n"},{"tags":["java","xml","xpath","jdom","jdom-2"],"comments":[{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1689285067,"post_id":76682383,"comment_id":135195940,"body_markdown":"That depends entirely on the code you&#39;re using? Which XML parser/serializer are you using? Where&#39;s your code so far?","body":"That depends entirely on the code you&#39;re using? Which XML parser/serializer are you using? Where&#39;s your code so far?"}],"answers":[{"tags":[],"owner":{"account_id":91947,"reputation":161814,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689329067,"creation_date":1689289235,"answer_id":76683760,"question_id":76682383,"body_markdown":"Here is some attempt in XQuery 3.1 (which you can run with Java using Saxon HE or BaseX, not sure whether for both over JDOM, I think Saxon supports that https://www.saxonica.com/html/documentation11/sourcedocs/tree-models/thirdparty.html) to identify and wrap the elements e.g.\r\n\r\n    declare namespace output = &quot;http://www.w3.org/2010/xslt-xquery-serialization&quot;;\r\n    \r\n    declare option output:method &#39;xml&#39;;\r\n    declare option output:indent &#39;yes&#39;;\r\n    \r\n    declare function local:transform($node as node(), $siblings-to-be-wrapped as array(element()*)*) {\r\n      typeswitch ($node)\r\n        case document-node()\r\n          return document { $node!node()!local:transform(., $siblings-to-be-wrapped) }\r\n        case element()\r\n          return \r\n            let $match := $siblings-to-be-wrapped[some $el in ?* satisfies $el is $node]\r\n            return if ($node is $match?1)\r\n                   then &lt;added&gt;{$match}&lt;/added&gt;\r\n                   else if (not(exists($match)))\r\n                   then element { node-name($node) } { $node!@*, $node!node()!local:transform(., $siblings-to-be-wrapped) }\r\n                   else ()\r\n        default\r\n          return $node\r\n    };\r\n    \r\n    let $start-elements := //start,\r\n        $stop-elements := //stop,\r\n        $siblings-to-be-wrapped := for-each-pair(\r\n          $start-elements, \r\n          $stop-elements, \r\n          function($s, $e) { \r\n            let $elements-to-be-wrapped := outermost(root($s)//*[. &gt;&gt; $s and . &lt;&lt; $e][not(some $d in .//* satisfies ($d is $s or $d is $e))])\r\n            for tumbling window $siblings in $elements-to-be-wrapped\r\n            start $s when true()\r\n            end next $n when not($s/.. is $n/..)\r\n            return array { $siblings }\r\n          }\r\n        )\r\n    return\r\n        local:transform(/, $siblings-to-be-wrapped)\r\n\r\n\r\nResult is e.g.\r\n\r\n    &lt;root&gt;\r\n       &lt;a&gt;\r\n          &lt;ax&gt;\r\n             &lt;start/&gt;\r\n          &lt;/ax&gt;\r\n          &lt;added&gt;\r\n             &lt;ay/&gt;\r\n             &lt;az/&gt;\r\n          &lt;/added&gt;\r\n       &lt;/a&gt;\r\n       &lt;added&gt;\r\n          &lt;b&gt;\r\n             &lt;bx/&gt;\r\n          &lt;/b&gt;\r\n       &lt;/added&gt;\r\n       &lt;c&gt;\r\n          &lt;added&gt;\r\n             &lt;cx/&gt;\r\n             &lt;cy/&gt;\r\n          &lt;/added&gt;\r\n          &lt;cz&gt;\r\n             &lt;added&gt;\r\n                &lt;cza/&gt;\r\n             &lt;/added&gt;\r\n             &lt;czb&gt;\r\n                &lt;stop/&gt;\r\n             &lt;/czb&gt;\r\n          &lt;/cz&gt;\r\n       &lt;/c&gt;\r\n    &lt;/root&gt;\r\n\r\n\r\nNot well tested and currently, like in the shown input sample, looking only for element nodes to be wrapped, not expecting mixed contents with text nodes split by e.g. `&lt;start/&gt;` and `&lt;stop/&gt;`.\r\n\r\nMinimal Saxon HE (used 12.3) code to run XQuery against an input file and output the result (for testing to System.out) is e.g.\r\n\r\n    import net.sf.saxon.s9api.*;\r\n    \r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) throws IOException, SaxonApiException {\r\n            Processor processor = new Processor();\r\n    \r\n            DocumentBuilder docBuilder = processor.newDocumentBuilder();\r\n    \r\n            XdmNode inputDoc = docBuilder.build(new File(&quot;sample1.xml&quot;));\r\n    \r\n            XQueryCompiler xqueryCompiler = processor.newXQueryCompiler();\r\n    \r\n            XQueryExecutable xqueryExecutable = xqueryCompiler.compile(new File(&quot;wrap-siblings-between-milestones1.xq&quot;));\r\n    \r\n            XQueryEvaluator xqueryEvaluator = xqueryExecutable.load();\r\n    \r\n            xqueryEvaluator.setContextItem(inputDoc);\r\n    \r\n            xqueryEvaluator.run(processor.newSerializer(System.out));\r\n        }\r\n    }\r\n\r\nExample online: https://github.com/martin-honnen/SaxonXQueryWrapSiblingsBetweenMileStones\r\n\r\nTo use JDOM2 with Saxon HE you need to download the source from https://github.com/Saxonica/Saxon-HE/tree/main/12/source and compile the `net.sf.saxon.option.jdom2` package into your Java project (and it seems comment out line 50 in JDOM2DocumentWrapper.java before you do that), then the code to run XQuery on the JDOM Document and return a new one is e.g.\r\n\r\n    import net.sf.saxon.option.jdom2.JDOM2ObjectModel;\r\n    import net.sf.saxon.s9api.*;\r\n    import org.jdom2.Document;\r\n    import org.jdom2.JDOMException;\r\n    import org.jdom2.input.SAXBuilder;\r\n    import org.jdom2.output.Format;\r\n    import org.jdom2.output.XMLOutputter;\r\n    import org.jdom2.transform.JDOMResult;\r\n    \r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) throws IOException, SaxonApiException, JDOMException {\r\n            Processor processor = new Processor();\r\n    \r\n            processor.getUnderlyingConfiguration().registerExternalObjectModel(new JDOM2ObjectModel());\r\n    \r\n            Document jdomDocument = new SAXBuilder().build(new File(&quot;sample1.xml&quot;));\r\n    \r\n            DocumentBuilder docBuilder = processor.newDocumentBuilder();\r\n    \r\n            XdmNode inputDoc = docBuilder.wrap(jdomDocument);\r\n    \r\n            XQueryCompiler xqueryCompiler = processor.newXQueryCompiler();\r\n    \r\n            XQueryExecutable xqueryExecutable = xqueryCompiler.compile(new File(&quot;wrap-siblings-between-milestones1.xq&quot;));\r\n    \r\n            XQueryEvaluator xqueryEvaluator = xqueryExecutable.load();\r\n    \r\n            xqueryEvaluator.setContextItem(inputDoc);\r\n    \r\n            JDOMResult jdomResult = new JDOMResult();\r\n    \r\n            xqueryEvaluator.run(new SAXDestination(jdomResult.getHandler()));\r\n    \r\n            Document resultDoc = jdomResult.getDocument();\r\n    \r\n            XMLOutputter xmlOutputter = new XMLOutputter(Format.getPrettyFormat());\r\n    \r\n            xmlOutputter.output(resultDoc, System.out);\r\n    \r\n        }\r\n    }\r\n\r\nExample online: https://github.com/martin-honnen/SaxonXQueryWrapSiblingsBetweenMileStones/tree/UseJDOM","title":"How can i create a new XML parents for elements which are between two boundary elements","body":"<p>Here is some attempt in XQuery 3.1 (which you can run with Java using Saxon HE or BaseX, not sure whether for both over JDOM, I think Saxon supports that <a href=\"https://www.saxonica.com/html/documentation11/sourcedocs/tree-models/thirdparty.html\" rel=\"nofollow noreferrer\">https://www.saxonica.com/html/documentation11/sourcedocs/tree-models/thirdparty.html</a>) to identify and wrap the elements e.g.</p>\n<pre><code>declare namespace output = &quot;http://www.w3.org/2010/xslt-xquery-serialization&quot;;\n\ndeclare option output:method 'xml';\ndeclare option output:indent 'yes';\n\ndeclare function local:transform($node as node(), $siblings-to-be-wrapped as array(element()*)*) {\n  typeswitch ($node)\n    case document-node()\n      return document { $node!node()!local:transform(., $siblings-to-be-wrapped) }\n    case element()\n      return \n        let $match := $siblings-to-be-wrapped[some $el in ?* satisfies $el is $node]\n        return if ($node is $match?1)\n               then &lt;added&gt;{$match}&lt;/added&gt;\n               else if (not(exists($match)))\n               then element { node-name($node) } { $node!@*, $node!node()!local:transform(., $siblings-to-be-wrapped) }\n               else ()\n    default\n      return $node\n};\n\nlet $start-elements := //start,\n    $stop-elements := //stop,\n    $siblings-to-be-wrapped := for-each-pair(\n      $start-elements, \n      $stop-elements, \n      function($s, $e) { \n        let $elements-to-be-wrapped := outermost(root($s)//*[. &gt;&gt; $s and . &lt;&lt; $e][not(some $d in .//* satisfies ($d is $s or $d is $e))])\n        for tumbling window $siblings in $elements-to-be-wrapped\n        start $s when true()\n        end next $n when not($s/.. is $n/..)\n        return array { $siblings }\n      }\n    )\nreturn\n    local:transform(/, $siblings-to-be-wrapped)\n</code></pre>\n<p>Result is e.g.</p>\n<pre><code>&lt;root&gt;\n   &lt;a&gt;\n      &lt;ax&gt;\n         &lt;start/&gt;\n      &lt;/ax&gt;\n      &lt;added&gt;\n         &lt;ay/&gt;\n         &lt;az/&gt;\n      &lt;/added&gt;\n   &lt;/a&gt;\n   &lt;added&gt;\n      &lt;b&gt;\n         &lt;bx/&gt;\n      &lt;/b&gt;\n   &lt;/added&gt;\n   &lt;c&gt;\n      &lt;added&gt;\n         &lt;cx/&gt;\n         &lt;cy/&gt;\n      &lt;/added&gt;\n      &lt;cz&gt;\n         &lt;added&gt;\n            &lt;cza/&gt;\n         &lt;/added&gt;\n         &lt;czb&gt;\n            &lt;stop/&gt;\n         &lt;/czb&gt;\n      &lt;/cz&gt;\n   &lt;/c&gt;\n&lt;/root&gt;\n</code></pre>\n<p>Not well tested and currently, like in the shown input sample, looking only for element nodes to be wrapped, not expecting mixed contents with text nodes split by e.g. <code>&lt;start/&gt;</code> and <code>&lt;stop/&gt;</code>.</p>\n<p>Minimal Saxon HE (used 12.3) code to run XQuery against an input file and output the result (for testing to System.out) is e.g.</p>\n<pre><code>import net.sf.saxon.s9api.*;\n\nimport java.io.File;\nimport java.io.IOException;\n\npublic class Main {\n    public static void main(String[] args) throws IOException, SaxonApiException {\n        Processor processor = new Processor();\n\n        DocumentBuilder docBuilder = processor.newDocumentBuilder();\n\n        XdmNode inputDoc = docBuilder.build(new File(&quot;sample1.xml&quot;));\n\n        XQueryCompiler xqueryCompiler = processor.newXQueryCompiler();\n\n        XQueryExecutable xqueryExecutable = xqueryCompiler.compile(new File(&quot;wrap-siblings-between-milestones1.xq&quot;));\n\n        XQueryEvaluator xqueryEvaluator = xqueryExecutable.load();\n\n        xqueryEvaluator.setContextItem(inputDoc);\n\n        xqueryEvaluator.run(processor.newSerializer(System.out));\n    }\n}\n</code></pre>\n<p>Example online: <a href=\"https://github.com/martin-honnen/SaxonXQueryWrapSiblingsBetweenMileStones\" rel=\"nofollow noreferrer\">https://github.com/martin-honnen/SaxonXQueryWrapSiblingsBetweenMileStones</a></p>\n<p>To use JDOM2 with Saxon HE you need to download the source from <a href=\"https://github.com/Saxonica/Saxon-HE/tree/main/12/source\" rel=\"nofollow noreferrer\">https://github.com/Saxonica/Saxon-HE/tree/main/12/source</a> and compile the <code>net.sf.saxon.option.jdom2</code> package into your Java project (and it seems comment out line 50 in JDOM2DocumentWrapper.java before you do that), then the code to run XQuery on the JDOM Document and return a new one is e.g.</p>\n<pre><code>import net.sf.saxon.option.jdom2.JDOM2ObjectModel;\nimport net.sf.saxon.s9api.*;\nimport org.jdom2.Document;\nimport org.jdom2.JDOMException;\nimport org.jdom2.input.SAXBuilder;\nimport org.jdom2.output.Format;\nimport org.jdom2.output.XMLOutputter;\nimport org.jdom2.transform.JDOMResult;\n\nimport java.io.File;\nimport java.io.IOException;\n\npublic class Main {\n    public static void main(String[] args) throws IOException, SaxonApiException, JDOMException {\n        Processor processor = new Processor();\n\n        processor.getUnderlyingConfiguration().registerExternalObjectModel(new JDOM2ObjectModel());\n\n        Document jdomDocument = new SAXBuilder().build(new File(&quot;sample1.xml&quot;));\n\n        DocumentBuilder docBuilder = processor.newDocumentBuilder();\n\n        XdmNode inputDoc = docBuilder.wrap(jdomDocument);\n\n        XQueryCompiler xqueryCompiler = processor.newXQueryCompiler();\n\n        XQueryExecutable xqueryExecutable = xqueryCompiler.compile(new File(&quot;wrap-siblings-between-milestones1.xq&quot;));\n\n        XQueryEvaluator xqueryEvaluator = xqueryExecutable.load();\n\n        xqueryEvaluator.setContextItem(inputDoc);\n\n        JDOMResult jdomResult = new JDOMResult();\n\n        xqueryEvaluator.run(new SAXDestination(jdomResult.getHandler()));\n\n        Document resultDoc = jdomResult.getDocument();\n\n        XMLOutputter xmlOutputter = new XMLOutputter(Format.getPrettyFormat());\n\n        xmlOutputter.output(resultDoc, System.out);\n\n    }\n}\n</code></pre>\n<p>Example online: <a href=\"https://github.com/martin-honnen/SaxonXQueryWrapSiblingsBetweenMileStones/tree/UseJDOM\" rel=\"nofollow noreferrer\">https://github.com/martin-honnen/SaxonXQueryWrapSiblingsBetweenMileStones/tree/UseJDOM</a></p>\n"}],"owner":{"account_id":29012300,"reputation":1,"user_id":22223544,"display_name":"marianogaccio"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689329067,"creation_date":1689273727,"question_id":76682383,"body_markdown":"I would like to create a new XML parents at the highest possible levels for elements which are between two boundary elements in the JDOM2 structure.\r\nPractically there are no limitations to the placement of the `&lt;start&gt;` and `&lt;stop&gt;` elements.\r\n\r\nSimplified example:\r\n\r\n```\r\n&lt;root&gt;\r\n    &lt;a&gt;\r\n        &lt;ax&gt;\r\n            &lt;start&gt;&lt;/start&gt;\r\n        &lt;/ax&gt;\r\n        &lt;ay&gt;&lt;/ay&gt;\r\n        &lt;az&gt;&lt;/az&gt;\r\n    &lt;/a&gt;\r\n    &lt;b&gt;\r\n       &lt;bx&gt;&lt;/bx&gt;\r\n    &lt;/b&gt;\r\n    &lt;c&gt;\r\n        &lt;cx&gt;&lt;/cx&gt;\r\n        &lt;cy&gt;&lt;/cy&gt;\r\n        &lt;cz&gt;\r\n            &lt;cza&gt;&lt;/cza&gt;\r\n            &lt;czb&gt;\r\n                &lt;stop&gt;&lt;/stop&gt;\r\n            &lt;/czb&gt;\r\n        &lt;/cz&gt;\r\n    &lt;/c&gt;\r\n\r\n```\r\n\r\noutput:\r\n\r\n```\r\n&lt;root&gt;\r\n    &lt;a&gt;\r\n        &lt;ax&gt;\r\n            &lt;start&gt;&lt;/start&gt;\r\n        &lt;/ax&gt;\r\n        &lt;added&gt;\r\n            &lt;ay&gt;&lt;/ay&gt;\r\n            &lt;az&gt;&lt;/az&gt;\r\n        &lt;/added&gt;\r\n    &lt;/a&gt;\r\n    &lt;added&gt;\r\n        &lt;b&gt;\r\n            &lt;bx&gt;&lt;/bx&gt;\r\n        &lt;/b&gt;\r\n    &lt;/added&gt;\r\n    &lt;c&gt;\r\n        &lt;added&gt;\r\n            &lt;cx&gt;&lt;/cx&gt;\r\n            &lt;cy&gt;&lt;/cy&gt;\r\n        &lt;/added&gt;\r\n        &lt;cz&gt;\r\n            &lt;added&gt;\r\n                &lt;cza&gt;&lt;/cza&gt;\r\n            &lt;/added&gt;\r\n            &lt;czb&gt;\r\n                &lt;stop&gt;&lt;/stop&gt;\r\n            &lt;/czb&gt;\r\n        &lt;/cz&gt;\r\n    &lt;/c&gt;\r\n\r\n```\r\n","title":"How can i create a new XML parents for elements which are between two boundary elements","body":"<p>I would like to create a new XML parents at the highest possible levels for elements which are between two boundary elements in the JDOM2 structure.\nPractically there are no limitations to the placement of the <code>&lt;start&gt;</code> and <code>&lt;stop&gt;</code> elements.</p>\n<p>Simplified example:</p>\n<pre><code>&lt;root&gt;\n    &lt;a&gt;\n        &lt;ax&gt;\n            &lt;start&gt;&lt;/start&gt;\n        &lt;/ax&gt;\n        &lt;ay&gt;&lt;/ay&gt;\n        &lt;az&gt;&lt;/az&gt;\n    &lt;/a&gt;\n    &lt;b&gt;\n       &lt;bx&gt;&lt;/bx&gt;\n    &lt;/b&gt;\n    &lt;c&gt;\n        &lt;cx&gt;&lt;/cx&gt;\n        &lt;cy&gt;&lt;/cy&gt;\n        &lt;cz&gt;\n            &lt;cza&gt;&lt;/cza&gt;\n            &lt;czb&gt;\n                &lt;stop&gt;&lt;/stop&gt;\n            &lt;/czb&gt;\n        &lt;/cz&gt;\n    &lt;/c&gt;\n\n</code></pre>\n<p>output:</p>\n<pre><code>&lt;root&gt;\n    &lt;a&gt;\n        &lt;ax&gt;\n            &lt;start&gt;&lt;/start&gt;\n        &lt;/ax&gt;\n        &lt;added&gt;\n            &lt;ay&gt;&lt;/ay&gt;\n            &lt;az&gt;&lt;/az&gt;\n        &lt;/added&gt;\n    &lt;/a&gt;\n    &lt;added&gt;\n        &lt;b&gt;\n            &lt;bx&gt;&lt;/bx&gt;\n        &lt;/b&gt;\n    &lt;/added&gt;\n    &lt;c&gt;\n        &lt;added&gt;\n            &lt;cx&gt;&lt;/cx&gt;\n            &lt;cy&gt;&lt;/cy&gt;\n        &lt;/added&gt;\n        &lt;cz&gt;\n            &lt;added&gt;\n                &lt;cza&gt;&lt;/cza&gt;\n            &lt;/added&gt;\n            &lt;czb&gt;\n                &lt;stop&gt;&lt;/stop&gt;\n            &lt;/czb&gt;\n        &lt;/cz&gt;\n    &lt;/c&gt;\n\n</code></pre>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1689154851,"post_id":76669161,"comment_id":135172028,"body_markdown":"You can either `split` the String at every `_` and then re-join it, you can also use `indexOf` and `substring` or use the cleaner approach using a regular expression. Have you tried anything yet?","body":"You can either <code>split</code> the String at every <code>_</code> and then re-join it, you can also use <code>indexOf</code> and <code>substring</code> or use the cleaner approach using a regular expression. Have you tried anything yet?"},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1689154900,"post_id":76669161,"comment_id":135172040,"body_markdown":"split by underscore, check if last element of array matches V[0-9]+ and depending on that conditionally rejoin your string.","body":"split by underscore, check if last element of array matches V[0-9]+ and depending on that conditionally rejoin your string."},{"owner":{"account_id":216120,"reputation":49213,"user_id":471160,"accept_rate":90,"display_name":"marcinj"},"score":0,"creation_date":1689156540,"post_id":76669161,"comment_id":135172415,"body_markdown":"iterate from the end checking if _v or _V was found, and also if all the characters so far were digits. If _v or _V was found, then use substring on your string to remove unwanted sufix. Or, use regex","body":"iterate from the end checking if _v or _V was found, and also if all the characters so far were digits. If _v or _V was found, then use substring on your string to remove unwanted sufix. Or, use regex"}],"answers":[{"tags":[],"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1689155079,"creation_date":1689155079,"answer_id":76669218,"question_id":76669161,"body_markdown":"Use a regex replacement:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    String input1 = &quot;Abs_es_ten_V1&quot;;\r\n    String input2 = &quot;Abs_es_ten_X2&quot;;\r\n    input1 = input1.replaceAll(&quot;_V[^_]*$&quot;, &quot;&quot;);\r\n    input2 = input2.replaceAll(&quot;_V[^_]*$&quot;, &quot;&quot;);\r\n    System.out.println(input1);  // Abs_es_ten\r\n    System.out.println(input2);  // Abs_es_ten_X2","title":"Remove a word at the end of string if matches certain word in java","body":"<p>Use a regex replacement:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String input1 = &quot;Abs_es_ten_V1&quot;;\nString input2 = &quot;Abs_es_ten_X2&quot;;\ninput1 = input1.replaceAll(&quot;_V[^_]*$&quot;, &quot;&quot;);\ninput2 = input2.replaceAll(&quot;_V[^_]*$&quot;, &quot;&quot;);\nSystem.out.println(input1);  // Abs_es_ten\nSystem.out.println(input2);  // Abs_es_ten_X2\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13462875,"reputation":1315,"user_id":9714255,"display_name":"LoukasPap"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689157197,"creation_date":1689156829,"answer_id":76669480,"question_id":76669161,"body_markdown":"Here is another solution, a bit more complicated:\r\n\r\nWe use `substring()` with\r\n* start index (**inclusive**): `lastIndexOf(&quot;_&quot;)` to take the index of the last underscore\r\n* end index (**exclusive**): `lastIndexOf(&quot;_&quot;) + 2` to keep the char after the last underscore in our substring\r\n\r\nand check if it `equals` with &quot;_V&quot;.\r\n\r\nIf it is true, then we substring the inputs without the characters after the final underscore.\r\n\r\n```java\r\nString input1 = &quot;Abs_es_ten_V1&quot;;\r\nString input2 = &quot;Abs_es_ten_X2&quot;;\r\n\r\nif ( input1.substring(input1.lastIndexOf(&quot;_&quot;), (input1.lastIndexOf(&quot;_&quot;)+2)).equals(&quot;_V&quot;) )\r\n    input1 = input1.substring(0, input1.lastIndexOf(&quot;_&quot;));\r\n\r\nif ( input2.substring(input2.lastIndexOf(&quot;_&quot;), (input2.lastIndexOf(&quot;_&quot;)+2)).equals(&quot;_V&quot;) )\r\n    input2 = input2.substring(0, input2.lastIndexOf(&quot;_&quot;));\r\n```","title":"Remove a word at the end of string if matches certain word in java","body":"<p>Here is another solution, a bit more complicated:</p>\n<p>We use <code>substring()</code> with</p>\n<ul>\n<li>start index (<strong>inclusive</strong>): <code>lastIndexOf(&quot;_&quot;)</code> to take the index of the last underscore</li>\n<li>end index (<strong>exclusive</strong>): <code>lastIndexOf(&quot;_&quot;) + 2</code> to keep the char after the last underscore in our substring</li>\n</ul>\n<p>and check if it <code>equals</code> with &quot;_V&quot;.</p>\n<p>If it is true, then we substring the inputs without the characters after the final underscore.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String input1 = &quot;Abs_es_ten_V1&quot;;\nString input2 = &quot;Abs_es_ten_X2&quot;;\n\nif ( input1.substring(input1.lastIndexOf(&quot;_&quot;), (input1.lastIndexOf(&quot;_&quot;)+2)).equals(&quot;_V&quot;) )\n    input1 = input1.substring(0, input1.lastIndexOf(&quot;_&quot;));\n\nif ( input2.substring(input2.lastIndexOf(&quot;_&quot;), (input2.lastIndexOf(&quot;_&quot;)+2)).equals(&quot;_V&quot;) )\n    input2 = input2.substring(0, input2.lastIndexOf(&quot;_&quot;));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23134567,"reputation":534,"user_id":17238973,"display_name":"Sahil Patel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689160255,"creation_date":1689160255,"answer_id":76669922,"question_id":76669161,"body_markdown":"you can use split() to get a string before a specific character like below\r\n\r\n    String s= &quot;Abs_es_ten_V1&quot;;\r\n    String[] parts = s.split(&quot;_V&quot;);\r\n    String result = parts[0];\r\n    System.out.println(result);","title":"Remove a word at the end of string if matches certain word in java","body":"<p>you can use split() to get a string before a specific character like below</p>\n<pre><code>String s= &quot;Abs_es_ten_V1&quot;;\nString[] parts = s.split(&quot;_V&quot;);\nString result = parts[0];\nSystem.out.println(result);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23134567,"reputation":534,"user_id":17238973,"display_name":"Sahil Patel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1689328401,"creation_date":1689320549,"answer_id":76685655,"question_id":76669161,"body_markdown":" \r\nI have solved with another approach.hope it&#39;s help.\r\n\r\n    String input = &quot;Abs_es_Ven_V1&quot;;\r\n    String uInput = input.replaceAll(&quot;_&quot;, &quot; &quot;);\r\n    List&lt;String&gt; words = Arrays.asList(uInput.split(&quot; &quot;));\r\n    int size = words.size() - 1;\r\n    List&lt;String&gt; op = new ArrayList&lt;&gt;();\r\n\r\n    for (int i = 0; i &lt;= size; i++) \r\n        {\r\n           if (words.get(i) != words.get(size)) {\r\n                        op.add(words.get(i));\r\n           }\r\n           if (words.get(i).equals(words.get(size)) &amp;&amp; !words.get(i).contains(&quot;V&quot;)) {\r\n                        op.add(words.get(i));\r\n           }\r\n        }\r\n    String result = String.join(&quot;_&quot;,op);\r\n    System.out.println(&quot;result ::&quot;+result);","title":"Remove a word at the end of string if matches certain word in java","body":"<p>I have solved with another approach.hope it's help.</p>\n<pre><code>String input = &quot;Abs_es_Ven_V1&quot;;\nString uInput = input.replaceAll(&quot;_&quot;, &quot; &quot;);\nList&lt;String&gt; words = Arrays.asList(uInput.split(&quot; &quot;));\nint size = words.size() - 1;\nList&lt;String&gt; op = new ArrayList&lt;&gt;();\n\nfor (int i = 0; i &lt;= size; i++) \n    {\n       if (words.get(i) != words.get(size)) {\n                    op.add(words.get(i));\n       }\n       if (words.get(i).equals(words.get(size)) &amp;&amp; !words.get(i).contains(&quot;V&quot;)) {\n                    op.add(words.get(i));\n       }\n    }\nString result = String.join(&quot;_&quot;,op);\nSystem.out.println(&quot;result ::&quot;+result);\n</code></pre>\n"}],"owner":{"account_id":26225274,"reputation":1,"user_id":19902050,"display_name":"Kesavan Balakrishnan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":4,"score":-1,"last_activity_date":1689328401,"creation_date":1689154684,"question_id":76669161,"body_markdown":"Need a solution for the below scenario,\r\n\r\nInput String --&gt; **Abs_es_ten_V1**\r\n\r\nExpected output --&gt; **Abs_es_ten**\r\n\r\nFor various input string at the end it may be like --&gt; _v23 ,_v6, _v78 or different\r\n\r\nSo how can I remove the words at the end of string starting with &quot;_v&quot;","title":"Remove a word at the end of string if matches certain word in java","body":"<p>Need a solution for the below scenario,</p>\n<p>Input String --&gt; <strong>Abs_es_ten_V1</strong></p>\n<p>Expected output --&gt; <strong>Abs_es_ten</strong></p>\n<p>For various input string at the end it may be like --&gt; _v23 ,_v6, _v78 or different</p>\n<p>So how can I remove the words at the end of string starting with &quot;_v&quot;</p>\n"},{"tags":["java","return","void"],"owner":{"account_id":28667630,"reputation":1,"user_id":21951314,"display_name":"Haris"},"comment_count":0,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":5,"up_vote_count":0,"closed_date":1689327523,"answer_count":0,"score":-5,"last_activity_date":1689327635,"creation_date":1689327306,"question_id":76686473,"body_markdown":"I tried to write a return statement in void method. I thought it can&#39;t run but it does. How?\r\n\r\nAnyone know that what exactly happens when I give a return statement inside a void method and it works?\r\n\r\n```\r\nclass HelloWorld {\r\n    public void hello(){\r\n        for(int i=0; i&lt;10; i++){\r\n            System.out.println(i);\r\n            if(i==5)\r\n                return;\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        HelloWorld h = new HelloWorld();\r\n        h.hello();\r\n    }\r\n}\r\n```","title":"can I use return statement in void method","body":"<p>I tried to write a return statement in void method. I thought it can't run but it does. How?</p>\n<p>Anyone know that what exactly happens when I give a return statement inside a void method and it works?</p>\n<pre><code>class HelloWorld {\n    public void hello(){\n        for(int i=0; i&lt;10; i++){\n            System.out.println(i);\n            if(i==5)\n                return;\n        }\n    }\n\n    public static void main(String[] args) {\n        HelloWorld h = new HelloWorld();\n        h.hello();\n    }\n}\n</code></pre>\n"},{"tags":["java","base64","rsa","public-key","java-security"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":2,"creation_date":1689291990,"post_id":76683871,"comment_id":135196636,"body_markdown":"I *think* the key actually has more characters in it than just the literal key itself.  You should print it out and look at it.  It&#39;s your public key, it should be safe to post here as well.","body":"I <i>think</i> the key actually has more characters in it than just the literal key itself.  You should print it out and look at it.  It&#39;s your public key, it should be safe to post here as well."},{"owner":{"account_id":3187825,"reputation":8415,"user_id":2692962,"accept_rate":82,"display_name":"Kleber Mota"},"score":0,"creation_date":1689293051,"post_id":76683871,"comment_id":135196709,"body_markdown":"I copy and paste the content for the file rsa_key.pub in the question. I tried remove the substring &quot;ssh-rsa &quot; with `publicKeyString = publicKeyString.replaceAll(&quot;ssh-rsa &quot;, &quot;&quot;);`, but got the same error because I do not realize the final &quot; kleber@kleber-desktop&quot;. I tried add `publicKeyString = publicKeyString.replaceAll(&quot; kleber@kleber-desktop&quot;, &quot;&quot;);` to remove that part too, but still got the same error. How I got only the key from this string?","body":"I copy and paste the content for the file rsa_key.pub in the question. I tried remove the substring &quot;ssh-rsa &quot; with <code>publicKeyString = publicKeyString.replaceAll(&quot;ssh-rsa &quot;, &quot;&quot;);</code>, but got the same error because I do not realize the final &quot; kleber@kleber-desktop&quot;. I tried add <code>publicKeyString = publicKeyString.replaceAll(&quot; kleber@kleber-desktop&quot;, &quot;&quot;);</code> to remove that part too, but still got the same error. How I got only the key from this string?"},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1689296977,"post_id":76683871,"comment_id":135197007,"body_markdown":"Probably this part of the file at the end, kleber@kleber-desktop you should remove this and the leading space , and remove ssh-rsa and it&#39;s lagging space before decoding., And perhaps rejoin those onto it in their respective positions after decoding.","body":"Probably this part of the file at the end, kleber@kleber-desktop you should remove this and the leading space , and remove ssh-rsa and it&#39;s lagging space before decoding., And perhaps rejoin those onto it in their respective positions after decoding."}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689294780,"creation_date":1689294780,"answer_id":76684025,"question_id":76683871,"body_markdown":"I believe you may have extraneous characters at the beginning or end of the String.  This worked for me. This ensures that only the string between the blanks is used.\r\n```\r\nkey = key.replaceAll(&quot;ssh-rsa\\\\s+&quot;, &quot;&quot;).replaceAll(&quot;\\\\s.*&quot;,&quot;&quot;);\r\nbyte[]bytes = Base64.getDecoder().decode(s);","title":"Error &#39;Illegal base64 character&#39; while trying convert String to PublicKey class","body":"<p>I believe you may have extraneous characters at the beginning or end of the String.  This worked for me. This ensures that only the string between the blanks is used.</p>\n<pre><code>key = key.replaceAll(&quot;ssh-rsa\\\\s+&quot;, &quot;&quot;).replaceAll(&quot;\\\\s.*&quot;,&quot;&quot;);\nbyte[]bytes = Base64.getDecoder().decode(s);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10905924,"reputation":76292,"user_id":8016720,"display_name":"John Hanley"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1689297002,"creation_date":1689297002,"answer_id":76684123,"question_id":76683871,"body_markdown":"The OpenSSH key format (SSH2) uses a different encoding. \r\n\r\nYou must convert the key to PEM or DER or change your command to:\r\n\r\n`ssh-keygen -b 2048 -t rsa -m PEM`.","title":"Error &#39;Illegal base64 character&#39; while trying convert String to PublicKey class","body":"<p>The OpenSSH key format (SSH2) uses a different encoding.</p>\n<p>You must convert the key to PEM or DER or change your command to:</p>\n<p><code>ssh-keygen -b 2048 -t rsa -m PEM</code>.</p>\n"},{"tags":[],"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1689326848,"creation_date":1689322289,"answer_id":76685865,"question_id":76683871,"body_markdown":"`X509EncodedKeySpec()` requires a Base64 encoded ASN.1/DER encoded public key in X.509/SPKI format, while `PKCS8EncodedKeySpec()` requires a Base64 encoded ASN.1/DER encoded private key in PKCS#8 format. \r\n\r\nYour ssh-keygen statement generated the keys in OPENSSH format (as already found in [this answer][1]), which cannot be directly processed by the posted Java code.\r\n\r\n---------------\r\n\r\nYou can convert the private OpenSSH key into a private PKCS#8 key as follows (note that the file will be overwritten). The converted key is unencrypted (`-N &quot;&quot;`) as required by the posted Java code:\r\n\r\n```none\r\nssh-keygen -p -N &quot;&quot; -m pkcs8 -f &quot;&lt;path to existing private OpenSSH key&gt;&quot; // attention: original file is overwritten\r\n```\r\n\r\nImportant here is the specifier `-m pkcs8`, which defines PKCS#8 as the target format. The specifier `-m pem` used in the other answer defines PKCS#1, which also cannot be (directly) processed by the posted Java code. \r\n\r\n-----------------\r\n\r\nThe public key in X.509/SPKI format can be determined from the public OpenSSH key as follows:\r\n\r\n```none\r\nssh-keygen -f &quot;&lt;path to existing public OpenSSH key&gt;&quot; -e -m pkcs8 &gt; &quot;&lt;path to X.509 key to be generated&gt;&quot;\r\n```\r\n\r\nor alternatively from the generated private PKCS#8 key:\r\n\r\n```none\r\nssh-keygen -f &quot;&lt;path to existing private PKCS#8 key&gt;&quot; -i -m PKCS8 -e &gt; &quot;&lt;path to X.509 key to be generated&gt;&quot;\r\n```\r\n\r\n--------------------\r\n\r\nAs an alternative to a conversion, the private key can be exported directly in PKCS#8 format:\r\n\r\n```none\r\nssh-keygen -b 2048 -t rsa -N &quot;&quot; -m pkcs8 -f &quot;&lt;path to private PKCS#8 key to be generated&gt;&quot;\r\n```\r\n\r\nas already posted in the other answer but with the required target format.\r\n\r\nNote that the public key generated this way still has the OpenSSH format and must be explicitly converted as described above.\r\n\r\n----------\r\n\r\nThe generated PKCS#8 and X.509/SPKI keys are PEM encoded, i.e. they consist of header, footer and Base64 encoded body with line breaks after 64 characters. If the header, footer and line breaks are removed, the Base64 encoded ASN.1/DER encoded keys are obtained, which can be imported by the posted Java code.\r\n\r\n\r\n[1]: https://stackoverflow.com/a/76684123/9014097","title":"Error &#39;Illegal base64 character&#39; while trying convert String to PublicKey class","body":"<p><code>X509EncodedKeySpec()</code> requires a Base64 encoded ASN.1/DER encoded public key in X.509/SPKI format, while <code>PKCS8EncodedKeySpec()</code> requires a Base64 encoded ASN.1/DER encoded private key in PKCS#8 format.</p>\n<p>Your ssh-keygen statement generated the keys in OPENSSH format (as already found in <a href=\"https://stackoverflow.com/a/76684123/9014097\">this answer</a>), which cannot be directly processed by the posted Java code.</p>\n<hr />\n<p>You can convert the private OpenSSH key into a private PKCS#8 key as follows (note that the file will be overwritten). The converted key is unencrypted (<code>-N &quot;&quot;</code>) as required by the posted Java code:</p>\n<pre class=\"lang-none prettyprint-override\"><code>ssh-keygen -p -N &quot;&quot; -m pkcs8 -f &quot;&lt;path to existing private OpenSSH key&gt;&quot; // attention: original file is overwritten\n</code></pre>\n<p>Important here is the specifier <code>-m pkcs8</code>, which defines PKCS#8 as the target format. The specifier <code>-m pem</code> used in the other answer defines PKCS#1, which also cannot be (directly) processed by the posted Java code.</p>\n<hr />\n<p>The public key in X.509/SPKI format can be determined from the public OpenSSH key as follows:</p>\n<pre class=\"lang-none prettyprint-override\"><code>ssh-keygen -f &quot;&lt;path to existing public OpenSSH key&gt;&quot; -e -m pkcs8 &gt; &quot;&lt;path to X.509 key to be generated&gt;&quot;\n</code></pre>\n<p>or alternatively from the generated private PKCS#8 key:</p>\n<pre class=\"lang-none prettyprint-override\"><code>ssh-keygen -f &quot;&lt;path to existing private PKCS#8 key&gt;&quot; -i -m PKCS8 -e &gt; &quot;&lt;path to X.509 key to be generated&gt;&quot;\n</code></pre>\n<hr />\n<p>As an alternative to a conversion, the private key can be exported directly in PKCS#8 format:</p>\n<pre class=\"lang-none prettyprint-override\"><code>ssh-keygen -b 2048 -t rsa -N &quot;&quot; -m pkcs8 -f &quot;&lt;path to private PKCS#8 key to be generated&gt;&quot;\n</code></pre>\n<p>as already posted in the other answer but with the required target format.</p>\n<p>Note that the public key generated this way still has the OpenSSH format and must be explicitly converted as described above.</p>\n<hr />\n<p>The generated PKCS#8 and X.509/SPKI keys are PEM encoded, i.e. they consist of header, footer and Base64 encoded body with line breaks after 64 characters. If the header, footer and line breaks are removed, the Base64 encoded ASN.1/DER encoded keys are obtained, which can be imported by the posted Java code.</p>\n"}],"owner":{"account_id":3187825,"reputation":8415,"user_id":2692962,"accept_rate":82,"display_name":"Kleber Mota"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":207,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76685865,"answer_count":3,"score":0,"last_activity_date":1689326848,"creation_date":1689291432,"question_id":76683871,"body_markdown":"After generate a pair of keys with the command:\r\n\r\n    ssh-keygen -b 2048 -t rsa\r\n\r\nI am trying use the public key (file: &#39;key_rsa.pub&#39;) in a java/servlet project. In the servlet class, I read the file like this:\r\n\r\n    @WebServlet(name = &quot;Login&quot;, urlPatterns = &quot;/login&quot;)\r\n    public class Login extends HttpServlet {\r\n    ...\r\n            InputStream publicKeyInputStream = getClass().getClassLoader().getResourceAsStream(&quot;key_rsa.pub&quot;);\r\n            if (publicKeyInputStream == null) {\r\n                out.println(&quot;fail - no public key&quot;);\r\n                out.flush();\r\n                return;\r\n            }\r\n            String publicKeyString = new String(publicKeyInputStream.readAllBytes(), StandardCharsets.UTF_8);\r\n            try {\r\n                PublicKey publicKey = util.RSAKeyGenerator.getPublicKey(publicKeyString);\r\n    ...\r\n            } catch (Exception e) {\r\n    ...\r\n            }\r\n    }\r\n\r\nthe method &#39;RSAKeyGenerator.getPublic&#39; looks like that:\r\n\r\n    public class RSAKeyGenerator {\r\n        public static final String RSA_ALGORITHM = &quot;RSA&quot;;\r\n    \r\n        public static final int KEY_SIZE = 2048;\r\n    \r\n        public static KeyPair generateKeyPair() throws NoSuchAlgorithmException {\r\n            KeyPairGenerator keyPairGenerator = KeyPairGenerator.getInstance(RSA_ALGORITHM);\r\n            keyPairGenerator.initialize(KEY_SIZE);\r\n            return keyPairGenerator.generateKeyPair();\r\n        }\r\n    \r\n        public static PublicKey getPublicKey(String publicKeyString) throws Exception {\r\n            byte[] publicKeyBytes = Base64.getDecoder().decode(publicKeyString);\r\n            X509EncodedKeySpec keySpec = new X509EncodedKeySpec(publicKeyBytes);\r\n            KeyFactory keyFactory = KeyFactory.getInstance(RSA_ALGORITHM);\r\n            return keyFactory.generatePublic(keySpec);\r\n        }\r\n    \r\n        public static PrivateKey getPrivateKey(String privateKeyString) throws Exception {\r\n            byte[] privateKeyBytes = Base64.getDecoder().decode(privateKeyString);\r\n            PKCS8EncodedKeySpec keySpec = new PKCS8EncodedKeySpec(privateKeyBytes);\r\n            KeyFactory keyFactory = KeyFactory.getInstance(RSA_ALGORITHM);\r\n            return keyFactory.generatePrivate(keySpec);\r\n        }\r\n    }\r\n\r\nwheh I execute the application, the line &#39;byte[] publicKeyBytes = Base64.getDecoder().decode(publicKeyString);&#39; in the method is giving the error &#39;Illegal base64 character&#39;. What I am done wrong here?\r\n\r\n**arquivo key_rsa.pub**\r\n\r\n    ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCko/IRJIBoIN6fe3k8mCzsereXnQlTSwHutyMqZh7/JqbWJA31036I0YZUuOJ0d4WAMDWktWrfn7dkAlt+dqQtAlyzPUrqOc/euQ0iZPYhrd8Gn9jn+8WAQyt9L3LemgQ1ZWnXgNUk5Z1Y1vcbp8GsRWWLrxR7uvtbonU7QDJv5vEFnleObPqKeqobbg1iUoaXYkw0IAqhCTNW3ZvfWQic4FeHeNNVtT8XUrGyNPZkSgQ8QHsvSvNiLJ2bROhBD4AUZKBN/XRvNs+OSJM7agGroznHGxpwj7jZ0V+MH1HvHt95+4SnFAQJVfjza3lUPoMIOphq24V6hLzCr17lPECj kleber@kleber-desktop\r\n\r\n**Update**\r\n\r\nI follow the sugestion from @WJS below, and now my getPublicKey method looks like that:\r\n\r\n    public static PublicKey getPublicKey(String publicKeyString) throws Exception {\r\n        publicKeyString = publicKeyString.replaceAll(&quot;ssh-rsa\\\\s+&quot;, &quot;&quot;).replaceAll(&quot;\\\\s.*&quot;,&quot;&quot;);\r\n        byte[] publicKeyBytes = Base64.getDecoder().decode(publicKeyString);\r\n        X509EncodedKeySpec keySpec = new X509EncodedKeySpec(publicKeyBytes);\r\n        KeyFactory keyFactory = KeyFactory.getInstance(RSA_ALGORITHM);\r\n        return keyFactory.generatePublic(keySpec);\r\n    }\r\n I think this works for remove the extra characters at the beginning and at the end of the string, but now I am getting the error `java.security.spec.InvalidKeySpecException: java.security.InvalidKeyException: invalid key format` in the line `return keyFactory.generatePublic(keySpec);`\r\n","title":"Error &#39;Illegal base64 character&#39; while trying convert String to PublicKey class","body":"<p>After generate a pair of keys with the command:</p>\n<pre><code>ssh-keygen -b 2048 -t rsa\n</code></pre>\n<p>I am trying use the public key (file: 'key_rsa.pub') in a java/servlet project. In the servlet class, I read the file like this:</p>\n<pre><code>@WebServlet(name = &quot;Login&quot;, urlPatterns = &quot;/login&quot;)\npublic class Login extends HttpServlet {\n...\n        InputStream publicKeyInputStream = getClass().getClassLoader().getResourceAsStream(&quot;key_rsa.pub&quot;);\n        if (publicKeyInputStream == null) {\n            out.println(&quot;fail - no public key&quot;);\n            out.flush();\n            return;\n        }\n        String publicKeyString = new String(publicKeyInputStream.readAllBytes(), StandardCharsets.UTF_8);\n        try {\n            PublicKey publicKey = util.RSAKeyGenerator.getPublicKey(publicKeyString);\n...\n        } catch (Exception e) {\n...\n        }\n}\n</code></pre>\n<p>the method 'RSAKeyGenerator.getPublic' looks like that:</p>\n<pre><code>public class RSAKeyGenerator {\n    public static final String RSA_ALGORITHM = &quot;RSA&quot;;\n\n    public static final int KEY_SIZE = 2048;\n\n    public static KeyPair generateKeyPair() throws NoSuchAlgorithmException {\n        KeyPairGenerator keyPairGenerator = KeyPairGenerator.getInstance(RSA_ALGORITHM);\n        keyPairGenerator.initialize(KEY_SIZE);\n        return keyPairGenerator.generateKeyPair();\n    }\n\n    public static PublicKey getPublicKey(String publicKeyString) throws Exception {\n        byte[] publicKeyBytes = Base64.getDecoder().decode(publicKeyString);\n        X509EncodedKeySpec keySpec = new X509EncodedKeySpec(publicKeyBytes);\n        KeyFactory keyFactory = KeyFactory.getInstance(RSA_ALGORITHM);\n        return keyFactory.generatePublic(keySpec);\n    }\n\n    public static PrivateKey getPrivateKey(String privateKeyString) throws Exception {\n        byte[] privateKeyBytes = Base64.getDecoder().decode(privateKeyString);\n        PKCS8EncodedKeySpec keySpec = new PKCS8EncodedKeySpec(privateKeyBytes);\n        KeyFactory keyFactory = KeyFactory.getInstance(RSA_ALGORITHM);\n        return keyFactory.generatePrivate(keySpec);\n    }\n}\n</code></pre>\n<p>wheh I execute the application, the line 'byte[] publicKeyBytes = Base64.getDecoder().decode(publicKeyString);' in the method is giving the error 'Illegal base64 character'. What I am done wrong here?</p>\n<p><strong>arquivo key_rsa.pub</strong></p>\n<pre><code>ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCko/IRJIBoIN6fe3k8mCzsereXnQlTSwHutyMqZh7/JqbWJA31036I0YZUuOJ0d4WAMDWktWrfn7dkAlt+dqQtAlyzPUrqOc/euQ0iZPYhrd8Gn9jn+8WAQyt9L3LemgQ1ZWnXgNUk5Z1Y1vcbp8GsRWWLrxR7uvtbonU7QDJv5vEFnleObPqKeqobbg1iUoaXYkw0IAqhCTNW3ZvfWQic4FeHeNNVtT8XUrGyNPZkSgQ8QHsvSvNiLJ2bROhBD4AUZKBN/XRvNs+OSJM7agGroznHGxpwj7jZ0V+MH1HvHt95+4SnFAQJVfjza3lUPoMIOphq24V6hLzCr17lPECj kleber@kleber-desktop\n</code></pre>\n<p><strong>Update</strong></p>\n<p>I follow the sugestion from @WJS below, and now my getPublicKey method looks like that:</p>\n<pre><code>public static PublicKey getPublicKey(String publicKeyString) throws Exception {\n    publicKeyString = publicKeyString.replaceAll(&quot;ssh-rsa\\\\s+&quot;, &quot;&quot;).replaceAll(&quot;\\\\s.*&quot;,&quot;&quot;);\n    byte[] publicKeyBytes = Base64.getDecoder().decode(publicKeyString);\n    X509EncodedKeySpec keySpec = new X509EncodedKeySpec(publicKeyBytes);\n    KeyFactory keyFactory = KeyFactory.getInstance(RSA_ALGORITHM);\n    return keyFactory.generatePublic(keySpec);\n}\n</code></pre>\n<p>I think this works for remove the extra characters at the beginning and at the end of the string, but now I am getting the error <code>java.security.spec.InvalidKeySpecException: java.security.InvalidKeyException: invalid key format</code> in the line <code>return keyFactory.generatePublic(keySpec);</code></p>\n"},{"tags":["java","cryptography","bouncycastle"],"answers":[{"tags":[],"owner":{"account_id":2278936,"reputation":1173,"user_id":2004555,"display_name":"argoth"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1542789137,"creation_date":1542737224,"answer_id":53398976,"question_id":53398788,"body_markdown":"A way to convert the key is using a RSAKeyParameter and RSAPublicKeySpec &#39;to rebuild&#39; the key using the Modulus and Exponent.\r\n\r\n    RSAKeyParameters rsa = (RSAKeyParameters) PublicKeyFactory.createKey(certificate.getSubjectPublicKeyInfo());\r\n        \r\n    RSAPublicKeySpec rsaSpec = new RSAPublicKeySpec(rsa.getModulus(), rsa.getExponent());\r\n    KeyFactory kf = KeyFactory.getInstance(&quot;RSA&quot;);\r\n    java.security.Publickey publicKey = kf.generatePublic(rsaSpec);","title":"Convert SubjectPublicKeyInfo to Java PublicKey","body":"<p>A way to convert the key is using a RSAKeyParameter and RSAPublicKeySpec 'to rebuild' the key using the Modulus and Exponent.</p>\n\n<pre><code>RSAKeyParameters rsa = (RSAKeyParameters) PublicKeyFactory.createKey(certificate.getSubjectPublicKeyInfo());\n\nRSAPublicKeySpec rsaSpec = new RSAPublicKeySpec(rsa.getModulus(), rsa.getExponent());\nKeyFactory kf = KeyFactory.getInstance(\"RSA\");\njava.security.Publickey publicKey = kf.generatePublic(rsaSpec);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":219684,"reputation":37257,"user_id":476716,"accept_rate":77,"display_name":"OrangeDog"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689326510,"creation_date":1689326510,"answer_id":76686378,"question_id":53398788,"body_markdown":"Using the [`JcaPEMKeyConverter`][1]:\r\n\r\n```java\r\nSubjectPublicKeyInfo spki = certificate.getSubjectPublicKeyInfo();\r\nPublicKey publicKey = new JcaPEMKeyConverter().getPublicKey(spki);\r\n```\r\n\r\nInternally it is pretty simple itself:\r\n\r\n```java\r\nKeyFactory keyFactory = getKeyFactory(spki.getAlgorithm());\r\nPublicKey publicKey = keyFactory.generatePublic(new X509EncodedKeySpec(spki.getEncoded()));\r\n```\r\n\r\n\r\n  [1]: https://www.bouncycastle.org/docs/pkixdocs1.3/org/bouncycastle/openssl/jcajce/JcaPEMKeyConverter.html","title":"Convert SubjectPublicKeyInfo to Java PublicKey","body":"<p>Using the <a href=\"https://www.bouncycastle.org/docs/pkixdocs1.3/org/bouncycastle/openssl/jcajce/JcaPEMKeyConverter.html\" rel=\"nofollow noreferrer\"><code>JcaPEMKeyConverter</code></a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>SubjectPublicKeyInfo spki = certificate.getSubjectPublicKeyInfo();\nPublicKey publicKey = new JcaPEMKeyConverter().getPublicKey(spki);\n</code></pre>\n<p>Internally it is pretty simple itself:</p>\n<pre class=\"lang-java prettyprint-override\"><code>KeyFactory keyFactory = getKeyFactory(spki.getAlgorithm());\nPublicKey publicKey = keyFactory.generatePublic(new X509EncodedKeySpec(spki.getEncoded()));\n</code></pre>\n"}],"owner":{"account_id":2278936,"reputation":1173,"user_id":2004555,"display_name":"argoth"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1854,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":53398976,"answer_count":2,"score":3,"last_activity_date":1689326510,"creation_date":1542736424,"question_id":53398788,"body_markdown":"My app is using bouncycastle to decode certificates deeper then java native X509Certificate provide, actualy i have bouncy castle certificates ( `org.bouncycastle.asn1.x509.Certificate`).\r\n\r\nMy question is how to secure convert `org.bouncycastle.asn1.x509.SubjectPublicKeyInfo` to a `java.security.Publickey`. ?\r\n\r\ni&#39;d like to use the standard java signature method `java.security.Signature` instead BouncyCastle alternatives.\r\n\r\n\r\n    Signature sig = Signature.getInstance(signatureAlgorithm.getAlgorithm().getId());\r\n            sig.initVerify(getPublicKey());\r\n            sig.update(content);\r\n            return sig.verify(signature);\r\n\r\n\r\n\r\n","title":"Convert SubjectPublicKeyInfo to Java PublicKey","body":"<p>My app is using bouncycastle to decode certificates deeper then java native X509Certificate provide, actualy i have bouncy castle certificates ( <code>org.bouncycastle.asn1.x509.Certificate</code>).</p>\n\n<p>My question is how to secure convert <code>org.bouncycastle.asn1.x509.SubjectPublicKeyInfo</code> to a <code>java.security.Publickey</code>. ?</p>\n\n<p>i'd like to use the standard java signature method <code>java.security.Signature</code> instead BouncyCastle alternatives.</p>\n\n<pre><code>Signature sig = Signature.getInstance(signatureAlgorithm.getAlgorithm().getId());\n        sig.initVerify(getPublicKey());\n        sig.update(content);\n        return sig.verify(signature);\n</code></pre>\n"},{"tags":["java","json","logging","logback","structured-logging"],"answers":[{"tags":[],"owner":{"account_id":6875395,"reputation":1037,"user_id":5284011,"display_name":"JohnXF"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689325964,"creation_date":1689325964,"answer_id":76686308,"question_id":76636753,"body_markdown":"I discovered the solution to my issue. The problem I had was in a Spring Boot application, and the above question was an attempt to distill a minimal example.\r\n\r\nThe problem is that I am using `org.json.JSONObject` and passing it to a `StructuredArgument`. When I enabled *debug* in the `logback.xml` configuration, like this ...\r\n\r\n```\r\n&lt;configuration debug=&quot;true&quot;&gt;\r\n```\r\n\r\nI get more output - including some errors from logback that caused log lines to not appear. From those errors I was lead to the question [Could not write JSON: JsonObject; nested exception is com.fasterxml.jackson.databind.JsonMappingException: JsonObject][1] where the suggested solution was to enable the Spring property  `spring.mvc.converters.preferred-json-mapper=gson`. I tried this, but it made no difference. \r\nAs I own the application, I changed the code to use Jackson JSON objects directly and then all was good. \r\n\r\nSo the top tip is ... if you have logback JSON logging issues, turn on logback *debug* to see if there are any problems &#39;hidden&#39; from you. \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/61169128/could-not-write-json-jsonobject-nested-exception-is-com-fasterxml-jackson-data","title":"How do I get JSONObject as a StructuredArgument in a LogStashEncoder logback output?","body":"<p>I discovered the solution to my issue. The problem I had was in a Spring Boot application, and the above question was an attempt to distill a minimal example.</p>\n<p>The problem is that I am using <code>org.json.JSONObject</code> and passing it to a <code>StructuredArgument</code>. When I enabled <em>debug</em> in the <code>logback.xml</code> configuration, like this ...</p>\n<pre><code>&lt;configuration debug=&quot;true&quot;&gt;\n</code></pre>\n<p>I get more output - including some errors from logback that caused log lines to not appear. From those errors I was lead to the question <a href=\"https://stackoverflow.com/questions/61169128/could-not-write-json-jsonobject-nested-exception-is-com-fasterxml-jackson-data\">Could not write JSON: JsonObject; nested exception is com.fasterxml.jackson.databind.JsonMappingException: JsonObject</a> where the suggested solution was to enable the Spring property  <code>spring.mvc.converters.preferred-json-mapper=gson</code>. I tried this, but it made no difference.\nAs I own the application, I changed the code to use Jackson JSON objects directly and then all was good.</p>\n<p>So the top tip is ... if you have logback JSON logging issues, turn on logback <em>debug</em> to see if there are any problems 'hidden' from you.</p>\n"}],"owner":{"account_id":6875395,"reputation":1037,"user_id":5284011,"display_name":"JohnXF"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":255,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76686308,"answer_count":1,"score":1,"last_activity_date":1689325964,"creation_date":1688730714,"question_id":76636753,"body_markdown":"I am using logback and `LogstashEncoder` to write JSON format logging to the console. I am using `StructuredArguments` to pass the objects I want in the log from my code to the logger. However my `JSONObject` is not appearing as a structured object in the JSON, although it appears in the log *message* OK. \r\n\r\nHere is my simple code. Note `Order` is just a simple POJO with a single `orderId` field.\r\n```\r\n        Map&lt;String, String&gt; user = new HashMap&lt;&gt;();\r\n        user.put(&quot;firstName&quot;, &quot;Jane&quot;);\r\n\r\n        JSONObject userDetails = new JSONObject(user);\r\n        \r\n        Order order = new Order(&quot;123&quot;);\r\n\r\n        logger.info(&quot;msg with one KV and 2 patterns {} {} {}&quot;\r\n            , StructuredArguments.keyValue(&quot;user&quot;, user)\r\n            , StructuredArguments.keyValue(&quot;userDetails&quot;, userDetails)\r\n            , StructuredArguments.keyValue(&quot;order&quot;, order)\r\n            );\r\n```\r\n\r\nThis produces the following JSON log message. I have removed some fields (log level, etc.) for brevity. \r\n```\r\n{\r\n   &quot;message&quot;:&quot;msg with one KV and 2 patterns user={firstName=Jane} userDetails={\\&quot;firstName\\&quot;:\\&quot;Jane\\&quot;} order=test.logging.JSONOutputExample$Order@3aa078fd&quot;,\r\n   &quot;level&quot;:&quot;INFO&quot;,\r\n   &quot;user&quot;:{\r\n      &quot;firstName&quot;:&quot;Jane&quot;\r\n   },\r\n   &quot;userDetails&quot;:{\r\n   },\r\n   &quot;order&quot;:{\r\n      &quot;orderId&quot;:&quot;123&quot;\r\n   }\r\n}\r\n```\r\nYou can see the `order` and `user` objects are nicely formatted in the both the message and the JSON object, however the `org.json.JSONObject` `userDetails` appears in the JSON log message but is *empty* in the full structured JSON log.\r\n\r\nI am guessing this is perhaps something to do with a formatter or mapper? I assume `toString()` is used on the objects to get the inline `message` content (hence the `order` object is the fallback instance description - if I add a `toString()` to the `Order` object then I see that instead. However, for the structured JSON object something extra is going on as the `Order` is nicely converted to JSON, as is the `user` `HashMap`. \r\n\r\nHere is my `logback.xml` file:\r\n```\r\n&lt;configuration&gt;\r\n    &lt;appender name=&quot;jsonConsoleAppender&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n        &lt;encoder class=&quot;net.logstash.logback.encoder.LogstashEncoder&quot; /&gt;\r\n    &lt;/appender&gt;\r\n    &lt;root level=&quot;info&quot;&gt;\r\n        &lt;appender-ref ref=&quot;jsonConsoleAppender&quot; /&gt;\r\n    &lt;/root&gt;\r\n&lt;/configuration&gt;\r\n```\r\nAnd here is the dependencies in the `pom.xml`:\r\n```\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.json&lt;/groupId&gt;\r\n            &lt;artifactId&gt;json&lt;/artifactId&gt;\r\n            &lt;version&gt;20180130&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;net.logstash.logback&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;logstash-logback-encoder&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;7.4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n            &lt;artifactId&gt;logback-core&lt;/artifactId&gt;\r\n            &lt;version&gt;1.4.7&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n   \t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;ch.qos.logback.contrib&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;logback-jackson&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.1.5&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\n\r\nWhat am I missing? Is there a dependency missing that would map the `JSONObject` to actual JSON output? Should I do something different in the code to format it? Any ideas? Thanks in advance. \r\n\r\n===============================================================\r\n\r\n**UPDATE**\r\n\r\nI updated the *version* of the `org.json` dependency to `20230618` and now the `StructuredArgument` output for the `userDetails` is not longer empty, but of the form:\r\n```\r\n   &quot;userDetails&quot;:{\r\n      &quot;empty&quot;:false,\r\n      &quot;mapType&quot;:&quot;java.util.HashMap&quot;\r\n   }\r\n```\r\nCurious..?!? Obviously the &#39;standard&#39; `toString()` type output or something.","title":"How do I get JSONObject as a StructuredArgument in a LogStashEncoder logback output?","body":"<p>I am using logback and <code>LogstashEncoder</code> to write JSON format logging to the console. I am using <code>StructuredArguments</code> to pass the objects I want in the log from my code to the logger. However my <code>JSONObject</code> is not appearing as a structured object in the JSON, although it appears in the log <em>message</em> OK.</p>\n<p>Here is my simple code. Note <code>Order</code> is just a simple POJO with a single <code>orderId</code> field.</p>\n<pre><code>        Map&lt;String, String&gt; user = new HashMap&lt;&gt;();\n        user.put(&quot;firstName&quot;, &quot;Jane&quot;);\n\n        JSONObject userDetails = new JSONObject(user);\n        \n        Order order = new Order(&quot;123&quot;);\n\n        logger.info(&quot;msg with one KV and 2 patterns {} {} {}&quot;\n            , StructuredArguments.keyValue(&quot;user&quot;, user)\n            , StructuredArguments.keyValue(&quot;userDetails&quot;, userDetails)\n            , StructuredArguments.keyValue(&quot;order&quot;, order)\n            );\n</code></pre>\n<p>This produces the following JSON log message. I have removed some fields (log level, etc.) for brevity.</p>\n<pre><code>{\n   &quot;message&quot;:&quot;msg with one KV and 2 patterns user={firstName=Jane} userDetails={\\&quot;firstName\\&quot;:\\&quot;Jane\\&quot;} order=test.logging.JSONOutputExample$Order@3aa078fd&quot;,\n   &quot;level&quot;:&quot;INFO&quot;,\n   &quot;user&quot;:{\n      &quot;firstName&quot;:&quot;Jane&quot;\n   },\n   &quot;userDetails&quot;:{\n   },\n   &quot;order&quot;:{\n      &quot;orderId&quot;:&quot;123&quot;\n   }\n}\n</code></pre>\n<p>You can see the <code>order</code> and <code>user</code> objects are nicely formatted in the both the message and the JSON object, however the <code>org.json.JSONObject</code> <code>userDetails</code> appears in the JSON log message but is <em>empty</em> in the full structured JSON log.</p>\n<p>I am guessing this is perhaps something to do with a formatter or mapper? I assume <code>toString()</code> is used on the objects to get the inline <code>message</code> content (hence the <code>order</code> object is the fallback instance description - if I add a <code>toString()</code> to the <code>Order</code> object then I see that instead. However, for the structured JSON object something extra is going on as the <code>Order</code> is nicely converted to JSON, as is the <code>user</code> <code>HashMap</code>.</p>\n<p>Here is my <code>logback.xml</code> file:</p>\n<pre><code>&lt;configuration&gt;\n    &lt;appender name=&quot;jsonConsoleAppender&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n        &lt;encoder class=&quot;net.logstash.logback.encoder.LogstashEncoder&quot; /&gt;\n    &lt;/appender&gt;\n    &lt;root level=&quot;info&quot;&gt;\n        &lt;appender-ref ref=&quot;jsonConsoleAppender&quot; /&gt;\n    &lt;/root&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>And here is the dependencies in the <code>pom.xml</code>:</p>\n<pre><code>    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.json&lt;/groupId&gt;\n            &lt;artifactId&gt;json&lt;/artifactId&gt;\n            &lt;version&gt;20180130&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n            &lt;version&gt;2.0.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.logstash.logback&lt;/groupId&gt;\n            &lt;artifactId&gt;logstash-logback-encoder&lt;/artifactId&gt;\n            &lt;version&gt;7.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n            &lt;artifactId&gt;logback-core&lt;/artifactId&gt;\n            &lt;version&gt;1.4.7&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;ch.qos.logback.contrib&lt;/groupId&gt;\n            &lt;artifactId&gt;logback-jackson&lt;/artifactId&gt;\n            &lt;version&gt;0.1.5&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>What am I missing? Is there a dependency missing that would map the <code>JSONObject</code> to actual JSON output? Should I do something different in the code to format it? Any ideas? Thanks in advance.</p>\n<p>===============================================================</p>\n<p><strong>UPDATE</strong></p>\n<p>I updated the <em>version</em> of the <code>org.json</code> dependency to <code>20230618</code> and now the <code>StructuredArgument</code> output for the <code>userDetails</code> is not longer empty, but of the form:</p>\n<pre><code>   &quot;userDetails&quot;:{\n      &quot;empty&quot;:false,\n      &quot;mapType&quot;:&quot;java.util.HashMap&quot;\n   }\n</code></pre>\n<p>Curious..?!? Obviously the 'standard' <code>toString()</code> type output or something.</p>\n"},{"tags":["java","spring-boot","web-services"],"answers":[{"tags":[],"owner":{"account_id":8653469,"reputation":72,"user_id":6478449,"display_name":"Ranjan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689325639,"creation_date":1689325639,"answer_id":76686263,"question_id":76680706,"body_markdown":"Use the below code \r\n\r\n```private BuyerDataServiceBean armaListaByAll(Map&lt;Integer, Object&gt; mapResults) {\r\n    BuyerDataServiceBean buyerDataServiceBean;\r\n    ArrayList&lt;BuyerDataAdressesBean&gt; addresses;\r\n    Map&lt;Integer, Object&gt; row = (Map&lt;Integer, Object&gt;) mapResults.get(&quot;out_cur_buyer_data&quot;);\r\n\r\n    BuyerDataServiceBean user = new BuyerDataServiceBean();\r\n    for (Map.Entry&lt;Integer, Object&gt; entry : row.entrySet()) {\r\n        buyerDataServiceBean = new BuyerDataServiceBean();\r\n        addresses = new ArrayList&lt;&gt;();\r\n\r\n        buyerDataServiceBean.setBuyerId(entry.getKey());\r\n        for (int i = 0; i &lt; row.size(); i++) {\r\n            Map&lt;String, Object&gt; map = (Map&lt;String, Object&gt;) row.get(i);\r\n\r\n            BuyerDataAdressesBean buyerDataAdressesBean = new BuyerDataAdressesBean();\r\n            if (i == 0) {\r\n                Map&lt;String, Object&gt; userObj = (Map&lt;String, Object&gt;) row.get(0);\r\n                buyerDataServiceBean.setLastName(\r\n                        userObj.get(&quot;NOM_LAST_NAME&quot;) != null &amp;&amp; !userObj.get(&quot;NOM_LAST_NAME&quot;).equals(&quot;&quot;)\r\n                                ? userObj.get(&quot;NOM_LAST_NAME&quot;).toString()\r\n                                : &quot;&quot;);\r\n                // Rest of the code...\r\n\r\n            }\r\n\r\n            // Rest of the code...\r\n\r\n            addresses.add(buyerDataAdressesBean);\r\n        }\r\n\r\n        Adresses userAdresses = new Adresses();\r\n        Map&lt;String, Object&gt; addId = (Map&lt;String, Object&gt;) row.get(0);\r\n        userAdresses.setId(addId.get(&quot;NUM_ADDRESS_LIST_ID&quot;) != null &amp;&amp; !addId.get(&quot;NUM_ADDRESS_LIST_ID&quot;).equals(&quot;&quot;)\r\n                ? Integer.parseInt(addId.get(&quot;NUM_ADDRESS_LIST_ID&quot;).toString())\r\n                : ConstantesUtil.RESP_INT_CERO);\r\n        userAdresses.setAdresses(addresses);\r\n        buyerDataServiceBean.setAddressList(userAdresses);\r\n\r\n        entry.setValue(buyerDataServiceBean);\r\n    }\r\n\r\n    return buyerDataServiceBean;\r\n}\r\n```","title":"Return a list of users","body":"<p>Use the below code</p>\n<pre><code>    BuyerDataServiceBean buyerDataServiceBean;\n    ArrayList&lt;BuyerDataAdressesBean&gt; addresses;\n    Map&lt;Integer, Object&gt; row = (Map&lt;Integer, Object&gt;) mapResults.get(&quot;out_cur_buyer_data&quot;);\n\n    BuyerDataServiceBean user = new BuyerDataServiceBean();\n    for (Map.Entry&lt;Integer, Object&gt; entry : row.entrySet()) {\n        buyerDataServiceBean = new BuyerDataServiceBean();\n        addresses = new ArrayList&lt;&gt;();\n\n        buyerDataServiceBean.setBuyerId(entry.getKey());\n        for (int i = 0; i &lt; row.size(); i++) {\n            Map&lt;String, Object&gt; map = (Map&lt;String, Object&gt;) row.get(i);\n\n            BuyerDataAdressesBean buyerDataAdressesBean = new BuyerDataAdressesBean();\n            if (i == 0) {\n                Map&lt;String, Object&gt; userObj = (Map&lt;String, Object&gt;) row.get(0);\n                buyerDataServiceBean.setLastName(\n                        userObj.get(&quot;NOM_LAST_NAME&quot;) != null &amp;&amp; !userObj.get(&quot;NOM_LAST_NAME&quot;).equals(&quot;&quot;)\n                                ? userObj.get(&quot;NOM_LAST_NAME&quot;).toString()\n                                : &quot;&quot;);\n                // Rest of the code...\n\n            }\n\n            // Rest of the code...\n\n            addresses.add(buyerDataAdressesBean);\n        }\n\n        Adresses userAdresses = new Adresses();\n        Map&lt;String, Object&gt; addId = (Map&lt;String, Object&gt;) row.get(0);\n        userAdresses.setId(addId.get(&quot;NUM_ADDRESS_LIST_ID&quot;) != null &amp;&amp; !addId.get(&quot;NUM_ADDRESS_LIST_ID&quot;).equals(&quot;&quot;)\n                ? Integer.parseInt(addId.get(&quot;NUM_ADDRESS_LIST_ID&quot;).toString())\n                : ConstantesUtil.RESP_INT_CERO);\n        userAdresses.setAdresses(addresses);\n        buyerDataServiceBean.setAddressList(userAdresses);\n\n        entry.setValue(buyerDataServiceBean);\n    }\n\n    return buyerDataServiceBean;\n}\n</code></pre>\n"}],"owner":{"account_id":29011002,"reputation":1,"user_id":22222516,"display_name":"alec"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689325639,"creation_date":1689259595,"question_id":76680706,"body_markdown":"I have a DB table with users, i want to return all the users from the table I need a method that returns each user and be able to see that array in Postman in order to compare. Each user contains a list as an atribute besides the other attributes\r\n\r\nI&#180;ve created a method that creates the list contained in each user and need to call that method every time i get the user , tried iterating thru a hashmap.\r\n```\r\nprivate BuyerDataServiceBean armaListaByAll(Map&lt;Integer, Object&gt; mapResults) {\r\n\r\n\t\tMap&lt;Integer, Object&gt; row = new HashMap&lt;&gt;();\r\n\r\n\t\tBuyerDataServiceBean buyerDataServiceBean = new BuyerDataServiceBean();\r\n\t\trow = (Map&lt;Integer, Object&gt;) mapResults.get(&quot;out_cur_buyer_data&quot;);\r\n\t\tArrayList&lt;BuyerDataAdressesBean&gt; adresses = new ArrayList&lt;&gt;();\r\n\t\tfor (Map.Entry&lt;Integer, Object&gt; entry : row.entrySet()) {\r\n\t\t\tbuyerDataServiceBean.setBuyerId(entry.getKey());\r\n\t\t\tfor (int i = 0; i &lt; row.size(); i++) {\r\n\t\t\t\tMap&lt;String, Object&gt; map = (Map&lt;String, Object&gt;) row.get(i);\r\n\r\n\t\t\t\tBuyerDataAdressesBean buyerDataAdressesBean = new BuyerDataAdressesBean();\r\n\t\t\t\tif (i == 0) {\r\n\t\t\t\t\tMap&lt;String, Object&gt; userObj = (Map&lt;String, Object&gt;) row.get(0);\r\n\t\t\t\t\tbuyerDataServiceBean.setLastName(\r\n\t\t\t\t\t\t\tuserObj.get(&quot;NOM_LAST_NAME&quot;) != null &amp;&amp; !userObj.get(&quot;NOM_LAST_NAME&quot;).equals(&quot;&quot;)\r\n\t\t\t\t\t\t\t\t\t? userObj.get(&quot;NOM_LAST_NAME&quot;).toString()\r\n\t\t\t\t\t\t\t\t\t: &quot;&quot;);\r\n\t\t\t\t\tbuyerDataServiceBean.setFirstName(\r\n\t\t\t\t\t\t\tuserObj.get(&quot;NOM_FIRST_NAME&quot;) != null &amp;&amp; !userObj.get(&quot;NOM_FIRST_NAME&quot;).equals(&quot;&quot;)\r\n\t\t\t\t\t\t\t\t\t? userObj.get(&quot;NOM_FIRST_NAME&quot;).toString()\r\n\t\t\t\t\t\t\t\t\t: &quot;&quot;);\r\n\t\t\t\t\tbuyerDataServiceBean.setPhoneNumber(userObj.get(&quot;REF_PHONE&quot;) != null &amp;&amp; !userObj.get(&quot;REF_PHONE&quot;).equals(&quot;&quot;)\r\n\t\t\t\t\t\t\t? userObj.get(&quot;REF_PHONE&quot;).toString()\r\n\t\t\t\t\t\t\t: &quot;&quot;);\r\n\t\t\t\t\tbuyerDataServiceBean.setIsDeleted(\r\n\t\t\t\t\t\t\tuserObj.get(&quot;IND_IS_DELETED&quot;) != null &amp;&amp; !userObj.get(&quot;IND_IS_DELETED&quot;).equals(&quot;&quot;)\r\n\t\t\t\t\t\t\t\t\t? userObj.get(&quot;IND_IS_DELETED&quot;).toString()\r\n\t\t\t\t\t\t\t\t\t: &quot;&quot;);\r\n\t\t\t\t\tbuyerDataServiceBean.setTaxId(userObj.get(&quot;REF_TAXID&quot;) != null &amp;&amp; !userObj.get(&quot;REF_TAXID&quot;).equals(&quot;&quot;)\r\n\t\t\t\t\t\t\t? userObj.get(&quot;REF_TAXID&quot;).toString()\r\n\t\t\t\t\t\t\t: &quot;&quot;);\r\n\r\n\t\t\t\t\tbuyerDataServiceBean.setCompany(userObj.get(&quot; REF_COMPANY&quot;) != null &amp;&amp; !userObj.get(&quot;REF_COMPANY&quot;).equals(&quot;&quot;)\r\n\t\t\t\t\t\t\t? userObj.get(&quot;REF_COMPANY&quot;).toString()\r\n\t\t\t\t\t\t\t: &quot;&quot;);\r\n\t\t\t\t\tbuyerDataServiceBean.setEmailId(userObj.get(&quot;REF_EMAIL&quot;) != null &amp;&amp; !userObj.get(&quot;REF_EMAIL&quot;).equals(&quot;&quot;)\r\n\t\t\t\t\t\t\t? userObj.get(&quot;REF_EMAIL&quot;).toString()\r\n\t\t\t\t\t\t\t: &quot;&quot;);\r\n\t\t\t\t\tbuyerDataServiceBean.setRegistration(\r\n\t\t\t\t\t\t\tuserObj.get(&quot;STP_REGISTRATION&quot;) != null &amp;&amp; !userObj.get(&quot;STP_REGISTRATION&quot;).equals(&quot;&quot;)\r\n\t\t\t\t\t\t\t\t\t? userObj.get(&quot;STP_REGISTRATION&quot;).toString()\r\n\t\t\t\t\t\t\t\t\t: &quot;&quot;);\r\n\t\t\t\t\tbuyerDataServiceBean.setId(userObj.get(&quot;CVE_BUYER_ID&quot;) != null &amp;&amp; !userObj.get(&quot;CVE_BUYER_ID&quot;).equals(&quot;&quot;)\r\n\t\t\t\t\t\t\t? Integer.parseInt(userObj.get(&quot;CVE_BUYER_ID&quot;).toString())\r\n\t\t\t\t\t\t\t: ConstantesUtil.RESP_INT_CERO);\r\n\t\t\t\t\tbuyerDataServiceBean.setBuyerId(userObj.get(&quot;NUM_USER_ID&quot;) != null &amp;&amp; !userObj.get(&quot;NUM_USER_ID&quot;).equals(&quot;&quot;)\r\n\t\t\t\t\t\t\t? Integer.parseInt(userObj.get(&quot;NUM_USER_ID&quot;).toString())\r\n\t\t\t\t\t\t\t: ConstantesUtil.RESP_INT_CERO);\r\n\t\t\t\t\tbuyerDataServiceBean.setIsActive(\r\n\t\t\t\t\t\t\tuserObj.get(&quot;IND_IS_ACTIVE&quot;) != null &amp;&amp; !userObj.get(&quot;IND_IS_ACTIVE&quot;).equals(&quot;&quot;)\r\n\t\t\t\t\t\t\t\t\t? userObj.get(&quot;IND_IS_ACTIVE&quot;).toString()\r\n\t\t\t\t\t\t\t\t\t: &quot;&quot;);\r\n\r\n\t\t\t\t}\r\n\t\t\t\tbuyerDataAdressesBean.setNomColony(map.get(&quot;NOM_COLONY&quot;) != null &amp;&amp; !map.get(&quot;NOM_COLONY&quot;).equals(&quot;&quot;)\r\n\t\t\t\t\t\t? map.get(&quot;NOM_COLONY&quot;).toString()\r\n\t\t\t\t\t\t: &quot;&quot;);\r\n\t\t\t\tbuyerDataAdressesBean.setNomTown(\r\n\t\t\t\t\t\tmap.get(&quot;NOM_TOWN&quot;) != null &amp;&amp; !map.get(&quot;NOM_TOWN&quot;).equals(&quot;&quot;) ? map.get(&quot;NOM_TOWN&quot;).toString()\r\n\t\t\t\t\t\t\t\t: &quot;&quot;);\r\n\t\t\t\tbuyerDataAdressesBean\r\n\t\t\t\t\t\t.setDesAddrType(map.get(&quot;DES_ADDR_TYPE&quot;) != null &amp;&amp; !map.get(&quot;DES_ADDR_TYPE&quot;).equals(&quot;&quot;)\r\n\t\t\t\t\t\t\t\t? map.get(&quot;DES_ADDR_TYPE&quot;).toString()\r\n\t\t\t\t\t\t\t\t: &quot;&quot;);\r\n\t\t\t\tbuyerDataAdressesBean.setNomStreet(map.get(&quot;NOM_STREET&quot;) != null &amp;&amp; !map.get(&quot;NOM_STREET&quot;).equals(&quot;&quot;)\r\n\t\t\t\t\t\t? map.get(&quot;NOM_STREET&quot;).toString()\r\n\t\t\t\t\t\t: &quot;&quot;);\r\n\t\t\t\tbuyerDataAdressesBean\r\n\t\t\t\t\t\t.setNumPostalCode(map.get(&quot;NUM_POSTAL_CODE&quot;) != null &amp;&amp; !map.get(&quot;NUM_POSTAL_CODE&quot;).equals(&quot;&quot;)\r\n\t\t\t\t\t\t\t\t? map.get(&quot;NUM_POSTAL_CODE&quot;).toString()\r\n\t\t\t\t\t\t\t\t: &quot;&quot;);\r\n\t\t\t\tbuyerDataAdressesBean.setNomMunicipality(\r\n\t\t\t\t\t\tmap.get(&quot;NOM_MUNICIPALITY&quot;) != null &amp;&amp; !map.get(&quot;NOM_MUNICIPALITY&quot;).equals(&quot;&quot;)\r\n\t\t\t\t\t\t\t\t? map.get(&quot;NOM_MUNICIPALITY&quot;).toString()\r\n\t\t\t\t\t\t\t\t: &quot;&quot;);\r\n\t\t\t\tbuyerDataAdressesBean.setId(map.get(&quot;CVE_ADDR_ID&quot;) != null &amp;&amp; !map.get(&quot;CVE_ADDR_ID&quot;).equals(&quot;&quot;)\r\n\t\t\t\t\t\t? Integer.parseInt(map.get(&quot;CVE_ADDR_ID&quot;).toString())\r\n\t\t\t\t\t\t: ConstantesUtil.RESP_INT_CERO);\r\n\t\t\t\tbuyerDataAdressesBean.setNumState(map.get(&quot;NUM_STATE&quot;) != null &amp;&amp; !map.get(&quot;NUM_STATE&quot;).equals(&quot;&quot;)\r\n\t\t\t\t\t\t? Integer.parseInt(map.get(&quot;NUM_STATE&quot;).toString())\r\n\t\t\t\t\t\t: ConstantesUtil.RESP_INT_CERO);\r\n\r\n\t\t\t\tadresses.add(buyerDataAdressesBean);\r\n\r\n\t\t\t}\r\n\r\n\t\t\tAdresses userAdresses = new Adresses();\r\n\t\t\tMap&lt;String, Object&gt; addId = (Map&lt;String, Object&gt;) row.get(0);\r\n\t\t\tuserAdresses.setId(addId.get(&quot;NUM_ADDRESS_LIST_ID&quot;) != null &amp;&amp; !addId.get(&quot;NUM_ADDRESS_LIST_ID&quot;).equals(&quot;&quot;)\r\n\t\t\t\t\t? Integer.parseInt(addId.get(&quot;NUM_ADDRESS_LIST_ID&quot;).toString())\r\n\t\t\t\t\t: ConstantesUtil.RESP_INT_CERO);\r\n\t\t\tuserAdresses.setAdresses(adresses);\r\n\t\t\tbuyerDataServiceBean.setAddressList(userAdresses);\r\n\t\t\tBuyerDataServiceBean user = (BuyerDataServiceBean) entry.setValue(buyerDataServiceBean);\r\n\t\t}\r\n```\r\n","title":"Return a list of users","body":"<p>I have a DB table with users, i want to return all the users from the table I need a method that returns each user and be able to see that array in Postman in order to compare. Each user contains a list as an atribute besides the other attributes</p>\n<p>I´ve created a method that creates the list contained in each user and need to call that method every time i get the user , tried iterating thru a hashmap.</p>\n<pre><code>private BuyerDataServiceBean armaListaByAll(Map&lt;Integer, Object&gt; mapResults) {\n\n        Map&lt;Integer, Object&gt; row = new HashMap&lt;&gt;();\n\n        BuyerDataServiceBean buyerDataServiceBean = new BuyerDataServiceBean();\n        row = (Map&lt;Integer, Object&gt;) mapResults.get(&quot;out_cur_buyer_data&quot;);\n        ArrayList&lt;BuyerDataAdressesBean&gt; adresses = new ArrayList&lt;&gt;();\n        for (Map.Entry&lt;Integer, Object&gt; entry : row.entrySet()) {\n            buyerDataServiceBean.setBuyerId(entry.getKey());\n            for (int i = 0; i &lt; row.size(); i++) {\n                Map&lt;String, Object&gt; map = (Map&lt;String, Object&gt;) row.get(i);\n\n                BuyerDataAdressesBean buyerDataAdressesBean = new BuyerDataAdressesBean();\n                if (i == 0) {\n                    Map&lt;String, Object&gt; userObj = (Map&lt;String, Object&gt;) row.get(0);\n                    buyerDataServiceBean.setLastName(\n                            userObj.get(&quot;NOM_LAST_NAME&quot;) != null &amp;&amp; !userObj.get(&quot;NOM_LAST_NAME&quot;).equals(&quot;&quot;)\n                                    ? userObj.get(&quot;NOM_LAST_NAME&quot;).toString()\n                                    : &quot;&quot;);\n                    buyerDataServiceBean.setFirstName(\n                            userObj.get(&quot;NOM_FIRST_NAME&quot;) != null &amp;&amp; !userObj.get(&quot;NOM_FIRST_NAME&quot;).equals(&quot;&quot;)\n                                    ? userObj.get(&quot;NOM_FIRST_NAME&quot;).toString()\n                                    : &quot;&quot;);\n                    buyerDataServiceBean.setPhoneNumber(userObj.get(&quot;REF_PHONE&quot;) != null &amp;&amp; !userObj.get(&quot;REF_PHONE&quot;).equals(&quot;&quot;)\n                            ? userObj.get(&quot;REF_PHONE&quot;).toString()\n                            : &quot;&quot;);\n                    buyerDataServiceBean.setIsDeleted(\n                            userObj.get(&quot;IND_IS_DELETED&quot;) != null &amp;&amp; !userObj.get(&quot;IND_IS_DELETED&quot;).equals(&quot;&quot;)\n                                    ? userObj.get(&quot;IND_IS_DELETED&quot;).toString()\n                                    : &quot;&quot;);\n                    buyerDataServiceBean.setTaxId(userObj.get(&quot;REF_TAXID&quot;) != null &amp;&amp; !userObj.get(&quot;REF_TAXID&quot;).equals(&quot;&quot;)\n                            ? userObj.get(&quot;REF_TAXID&quot;).toString()\n                            : &quot;&quot;);\n\n                    buyerDataServiceBean.setCompany(userObj.get(&quot; REF_COMPANY&quot;) != null &amp;&amp; !userObj.get(&quot;REF_COMPANY&quot;).equals(&quot;&quot;)\n                            ? userObj.get(&quot;REF_COMPANY&quot;).toString()\n                            : &quot;&quot;);\n                    buyerDataServiceBean.setEmailId(userObj.get(&quot;REF_EMAIL&quot;) != null &amp;&amp; !userObj.get(&quot;REF_EMAIL&quot;).equals(&quot;&quot;)\n                            ? userObj.get(&quot;REF_EMAIL&quot;).toString()\n                            : &quot;&quot;);\n                    buyerDataServiceBean.setRegistration(\n                            userObj.get(&quot;STP_REGISTRATION&quot;) != null &amp;&amp; !userObj.get(&quot;STP_REGISTRATION&quot;).equals(&quot;&quot;)\n                                    ? userObj.get(&quot;STP_REGISTRATION&quot;).toString()\n                                    : &quot;&quot;);\n                    buyerDataServiceBean.setId(userObj.get(&quot;CVE_BUYER_ID&quot;) != null &amp;&amp; !userObj.get(&quot;CVE_BUYER_ID&quot;).equals(&quot;&quot;)\n                            ? Integer.parseInt(userObj.get(&quot;CVE_BUYER_ID&quot;).toString())\n                            : ConstantesUtil.RESP_INT_CERO);\n                    buyerDataServiceBean.setBuyerId(userObj.get(&quot;NUM_USER_ID&quot;) != null &amp;&amp; !userObj.get(&quot;NUM_USER_ID&quot;).equals(&quot;&quot;)\n                            ? Integer.parseInt(userObj.get(&quot;NUM_USER_ID&quot;).toString())\n                            : ConstantesUtil.RESP_INT_CERO);\n                    buyerDataServiceBean.setIsActive(\n                            userObj.get(&quot;IND_IS_ACTIVE&quot;) != null &amp;&amp; !userObj.get(&quot;IND_IS_ACTIVE&quot;).equals(&quot;&quot;)\n                                    ? userObj.get(&quot;IND_IS_ACTIVE&quot;).toString()\n                                    : &quot;&quot;);\n\n                }\n                buyerDataAdressesBean.setNomColony(map.get(&quot;NOM_COLONY&quot;) != null &amp;&amp; !map.get(&quot;NOM_COLONY&quot;).equals(&quot;&quot;)\n                        ? map.get(&quot;NOM_COLONY&quot;).toString()\n                        : &quot;&quot;);\n                buyerDataAdressesBean.setNomTown(\n                        map.get(&quot;NOM_TOWN&quot;) != null &amp;&amp; !map.get(&quot;NOM_TOWN&quot;).equals(&quot;&quot;) ? map.get(&quot;NOM_TOWN&quot;).toString()\n                                : &quot;&quot;);\n                buyerDataAdressesBean\n                        .setDesAddrType(map.get(&quot;DES_ADDR_TYPE&quot;) != null &amp;&amp; !map.get(&quot;DES_ADDR_TYPE&quot;).equals(&quot;&quot;)\n                                ? map.get(&quot;DES_ADDR_TYPE&quot;).toString()\n                                : &quot;&quot;);\n                buyerDataAdressesBean.setNomStreet(map.get(&quot;NOM_STREET&quot;) != null &amp;&amp; !map.get(&quot;NOM_STREET&quot;).equals(&quot;&quot;)\n                        ? map.get(&quot;NOM_STREET&quot;).toString()\n                        : &quot;&quot;);\n                buyerDataAdressesBean\n                        .setNumPostalCode(map.get(&quot;NUM_POSTAL_CODE&quot;) != null &amp;&amp; !map.get(&quot;NUM_POSTAL_CODE&quot;).equals(&quot;&quot;)\n                                ? map.get(&quot;NUM_POSTAL_CODE&quot;).toString()\n                                : &quot;&quot;);\n                buyerDataAdressesBean.setNomMunicipality(\n                        map.get(&quot;NOM_MUNICIPALITY&quot;) != null &amp;&amp; !map.get(&quot;NOM_MUNICIPALITY&quot;).equals(&quot;&quot;)\n                                ? map.get(&quot;NOM_MUNICIPALITY&quot;).toString()\n                                : &quot;&quot;);\n                buyerDataAdressesBean.setId(map.get(&quot;CVE_ADDR_ID&quot;) != null &amp;&amp; !map.get(&quot;CVE_ADDR_ID&quot;).equals(&quot;&quot;)\n                        ? Integer.parseInt(map.get(&quot;CVE_ADDR_ID&quot;).toString())\n                        : ConstantesUtil.RESP_INT_CERO);\n                buyerDataAdressesBean.setNumState(map.get(&quot;NUM_STATE&quot;) != null &amp;&amp; !map.get(&quot;NUM_STATE&quot;).equals(&quot;&quot;)\n                        ? Integer.parseInt(map.get(&quot;NUM_STATE&quot;).toString())\n                        : ConstantesUtil.RESP_INT_CERO);\n\n                adresses.add(buyerDataAdressesBean);\n\n            }\n\n            Adresses userAdresses = new Adresses();\n            Map&lt;String, Object&gt; addId = (Map&lt;String, Object&gt;) row.get(0);\n            userAdresses.setId(addId.get(&quot;NUM_ADDRESS_LIST_ID&quot;) != null &amp;&amp; !addId.get(&quot;NUM_ADDRESS_LIST_ID&quot;).equals(&quot;&quot;)\n                    ? Integer.parseInt(addId.get(&quot;NUM_ADDRESS_LIST_ID&quot;).toString())\n                    : ConstantesUtil.RESP_INT_CERO);\n            userAdresses.setAdresses(adresses);\n            buyerDataServiceBean.setAddressList(userAdresses);\n            BuyerDataServiceBean user = (BuyerDataServiceBean) entry.setValue(buyerDataServiceBean);\n        }\n</code></pre>\n"},{"tags":["java","class","generics","methods","quarkus"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1689324188,"post_id":76686054,"comment_id":135200259,"body_markdown":"`BaseConverter.class.getGenericSuperclass()` would return `Object`, because `BaseConverter` has no explicit `extends`. That&#39;s not a generic class. Do you mean `getClass().getGenericSuperclass()`?","body":"<code>BaseConverter.class.getGenericSuperclass()</code> would return <code>Object</code>, because <code>BaseConverter</code> has no explicit <code>extends</code>. That&#39;s not a generic class. Do you mean <code>getClass().getGenericSuperclass()</code>?"}],"owner":{"account_id":27070897,"reputation":25,"user_id":20621559,"display_name":"FelixFeuerdorn"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689324860,"creation_date":1689323947,"question_id":76686054,"body_markdown":"I&#39;ve been trying for a while to create a mapper that converts 2 objects, i.e. from one object to the other, with specification to the Generic Class. Since I can&#39;t find out the type in a static method without specifying the classes, I created a generic class for it, but my problem is that I don&#39;t know how to initialize my object to be converted and write the individual variables, or more precisely their content, into the object.\r\n\r\nI worked out the following solution using ChatGPT and research, but my problem is that I get a ClassCastException on return when I just use Type. ParameteriziedType doesn&#39;t work for me at all, for reasons unknown to me.\r\n\r\n```java\r\npublic abstract class BaseConverter&lt;TIntoEntity,TFromEntity&gt;{\r\n\r\n    public TIntoEntity convert(TFromEntity from){\r\n        try{\r\n            TIntoEntity into = null;\r\n            Class&lt;?&gt; fromClass = from.getClass();\r\n            Class&lt;?&gt; intoClass = (Class&lt;?&gt;)((ParameterizedType) BaseConverter.class.getGenericSuperclass()).getActualTypeArguments()[0];\r\n\r\n            into = (TIntoEntity) intoClass.getConstructor().newInstance();\r\n\r\n            Map&lt;String, Field&gt; fromFields = this.getFieldMap(fromClass.getDeclaredFields());\r\n            Map&lt;String, Field&gt; intoFields = this.getFieldMap(intoClass.getDeclaredFields());\r\n            \r\n            for (Map.Entry&lt;String, Field&gt; entry : fromFields.entrySet()) {\r\n                String fieldName = entry.getKey();\r\n\r\n                if (intoFields.containsKey(fieldName)) {\r\n                    Field fromField = entry.getValue();\r\n                    Field intoField = intoFields.get(fieldName);\r\n    \r\n                    fromField.setAccessible(true);\r\n                    intoField.setAccessible(true);\r\n    \r\n                    Object value = fromField.get(from);\r\n                    Object intoValue = intoField.get(into);\r\n                    \r\n                    intoValue = DataTypeConverter.convert(intoValue.getClass(),value);\r\n    \r\n                    if(value != null){\r\n                        intoField.set(into, intoValue);\r\n                    }\r\n                }\r\n            }\r\n            return (TIntoEntity) into;\r\n        }catch(Exception e){\r\n            System.out.println(e);\r\n            return null;\r\n        }\r\n    }\r\n\r\n    private Map&lt;String, Field&gt; getFieldMap(Field[] fields) {\r\n        Map&lt;String, Field&gt; fieldMap = new HashMap&lt;&gt;();\r\n        for (Field field : fields) {\r\n            fieldMap.put(field.getName(), field);\r\n        }\r\n        return fieldMap;\r\n    }\r\n}\r\n```\r\nFor calling the method I initialize with the QuarkusFramework (@Inject), the mapper in a resource, and then I use a simple post, with simple class, where names and types are also the same.\r\n\r\n```java\r\n@RequestScoped\r\npublic class Mapper extends BaseConverter&lt;E2, E1&gt; {\r\n    \r\n}\r\n\r\npublic class E1{\r\n    public long l;\r\n    public String s;\r\n}\r\npublic class E2{\r\n    public long l;\r\n    public String s;\r\n}\r\n```\r\n\r\nAnd also with the Fields I&#39;m not sure if it really works like that, because I don&#39;t even think I have the right class for the object, and possibly initiate it wrong. Can someone help me how this should look correct. I sit there already several days on it and just do not understand where the problem lies.\r\n\r\nI don&#39;t want to install any extensions, but create the mapper with &quot;pure Java&quot;.","title":"Java Generic Mapper with Generic Class","body":"<p>I've been trying for a while to create a mapper that converts 2 objects, i.e. from one object to the other, with specification to the Generic Class. Since I can't find out the type in a static method without specifying the classes, I created a generic class for it, but my problem is that I don't know how to initialize my object to be converted and write the individual variables, or more precisely their content, into the object.</p>\n<p>I worked out the following solution using ChatGPT and research, but my problem is that I get a ClassCastException on return when I just use Type. ParameteriziedType doesn't work for me at all, for reasons unknown to me.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public abstract class BaseConverter&lt;TIntoEntity,TFromEntity&gt;{\n\n    public TIntoEntity convert(TFromEntity from){\n        try{\n            TIntoEntity into = null;\n            Class&lt;?&gt; fromClass = from.getClass();\n            Class&lt;?&gt; intoClass = (Class&lt;?&gt;)((ParameterizedType) BaseConverter.class.getGenericSuperclass()).getActualTypeArguments()[0];\n\n            into = (TIntoEntity) intoClass.getConstructor().newInstance();\n\n            Map&lt;String, Field&gt; fromFields = this.getFieldMap(fromClass.getDeclaredFields());\n            Map&lt;String, Field&gt; intoFields = this.getFieldMap(intoClass.getDeclaredFields());\n            \n            for (Map.Entry&lt;String, Field&gt; entry : fromFields.entrySet()) {\n                String fieldName = entry.getKey();\n\n                if (intoFields.containsKey(fieldName)) {\n                    Field fromField = entry.getValue();\n                    Field intoField = intoFields.get(fieldName);\n    \n                    fromField.setAccessible(true);\n                    intoField.setAccessible(true);\n    \n                    Object value = fromField.get(from);\n                    Object intoValue = intoField.get(into);\n                    \n                    intoValue = DataTypeConverter.convert(intoValue.getClass(),value);\n    \n                    if(value != null){\n                        intoField.set(into, intoValue);\n                    }\n                }\n            }\n            return (TIntoEntity) into;\n        }catch(Exception e){\n            System.out.println(e);\n            return null;\n        }\n    }\n\n    private Map&lt;String, Field&gt; getFieldMap(Field[] fields) {\n        Map&lt;String, Field&gt; fieldMap = new HashMap&lt;&gt;();\n        for (Field field : fields) {\n            fieldMap.put(field.getName(), field);\n        }\n        return fieldMap;\n    }\n}\n</code></pre>\n<p>For calling the method I initialize with the QuarkusFramework (@Inject), the mapper in a resource, and then I use a simple post, with simple class, where names and types are also the same.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RequestScoped\npublic class Mapper extends BaseConverter&lt;E2, E1&gt; {\n    \n}\n\npublic class E1{\n    public long l;\n    public String s;\n}\npublic class E2{\n    public long l;\n    public String s;\n}\n</code></pre>\n<p>And also with the Fields I'm not sure if it really works like that, because I don't even think I have the right class for the object, and possibly initiate it wrong. Can someone help me how this should look correct. I sit there already several days on it and just do not understand where the problem lies.</p>\n<p>I don't want to install any extensions, but create the mapper with &quot;pure Java&quot;.</p>\n"},{"tags":["java","arrays","performance","libraries"],"owner":{"account_id":28997460,"reputation":1,"user_id":22211789,"display_name":"Khushi Raghuvanshi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"closed_date":1691705911,"answer_count":2,"score":-4,"last_activity_date":1689324785,"creation_date":1689106231,"question_id":76665457,"body_markdown":"I am having a serious problem with my VS Code editor. I want to run java programs and I have downloaded all the extension files and JDK. But I am unable to run the code. When I was done writing my code, I tried running it, but it showed me a &#39;class not found&#39; exception. I have stored everything in the desktop. \r\n\r\n![](https://i.stack.imgur.com/yfYxE.png) is an image of the code and the error.\r\n\r\nI was expecting to setup VS Code for running my java programs. But I am unable to do it because of the problem.","title":"&#39;java.lang.ClassNotFound&#39; Exception in VSCode","body":"<p>I am having a serious problem with my VS Code editor. I want to run java programs and I have downloaded all the extension files and JDK. But I am unable to run the code. When I was done writing my code, I tried running it, but it showed me a 'class not found' exception. I have stored everything in the desktop.</p>\n<p><img src=\"https://i.stack.imgur.com/yfYxE.png\" alt=\"\" /> is an image of the code and the error.</p>\n<p>I was expecting to setup VS Code for running my java programs. But I am unable to do it because of the problem.</p>\n"},{"tags":["java","android","kotlin","android-appcompat"],"owner":{"account_id":27431,"reputation":46856,"user_id":72437,"accept_rate":86,"display_name":"Cheok Yan Cheng"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689324768,"creation_date":1689324384,"question_id":76686118,"body_markdown":"I have 2 projects. 1 is Java, another 1 is Kotlin.\r\n\r\nBoth are using \r\n\r\n    implementation &#39;androidx.appcompat:appcompat:1.6.1&#39;\r\n\r\nHowever, I notice they are calling different function, when I try to call `androidx.appcompat.app.AppCompatActivity.startActivityForResult(Intent, int)`\r\n\r\n\r\n----------\r\n\r\n\r\nIn Java\r\n-------\r\nWhen calling `androidx.appcompat.app.AppCompatActivity.startActivityForResult(Intent, int)`, it will step into \r\n\r\n    androidx.activity.ComponentActivity.startActivityForResult(@NonNull Intent intent, int requestCode)\r\n\r\nwhich is currently deprecated.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n----------\r\n\r\nIn Kotlin\r\n---------\r\n\r\nWhen calling `androidx.appcompat.app.AppCompatActivity.startActivityForResult(Intent, int)`, it will step into \r\n\r\n    androidx.fragment.app.FragmentActivity.startActivityForResult(@SuppressLint(&quot;UnknownNullness&quot;) Intent intent, int requestCode)\r\n\r\nwhich is currently **NOT** deprecated.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n----------\r\n\r\nThe reason I start to look into this, is because I do not get expected deprecated warning when using `startActivityForResult` in Kotlin project. \r\n\r\nWhen I investigate further, I notice Kotlin has different code path from Java, when calling `androidx.appcompat.app.AppCompatActivity.startActivityForResult(Intent, int)`\r\n\r\nIs this the correct behavior? May I know why it is so?\r\n\r\n  [1]: https://i.stack.imgur.com/rV6ql.png\r\n  [2]: https://i.stack.imgur.com/cOLrX.png","title":"Different deprecation warning behaviour for Kotlin and Java projects, when executing androidx.appcompat.app.AppCompatActivity.startActivityForResult","body":"<p>I have 2 projects. 1 is Java, another 1 is Kotlin.</p>\n<p>Both are using</p>\n<pre><code>implementation 'androidx.appcompat:appcompat:1.6.1'\n</code></pre>\n<p>However, I notice they are calling different function, when I try to call <code>androidx.appcompat.app.AppCompatActivity.startActivityForResult(Intent, int)</code></p>\n<hr />\n<h2>In Java</h2>\n<p>When calling <code>androidx.appcompat.app.AppCompatActivity.startActivityForResult(Intent, int)</code>, it will step into</p>\n<pre><code>androidx.activity.ComponentActivity.startActivityForResult(@NonNull Intent intent, int requestCode)\n</code></pre>\n<p>which is currently deprecated.</p>\n<p><a href=\"https://i.stack.imgur.com/rV6ql.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rV6ql.png\" alt=\"enter image description here\" /></a></p>\n<hr />\n<h2>In Kotlin</h2>\n<p>When calling <code>androidx.appcompat.app.AppCompatActivity.startActivityForResult(Intent, int)</code>, it will step into</p>\n<pre><code>androidx.fragment.app.FragmentActivity.startActivityForResult(@SuppressLint(&quot;UnknownNullness&quot;) Intent intent, int requestCode)\n</code></pre>\n<p>which is currently <strong>NOT</strong> deprecated.</p>\n<p><a href=\"https://i.stack.imgur.com/cOLrX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cOLrX.png\" alt=\"enter image description here\" /></a></p>\n<hr />\n<p>The reason I start to look into this, is because I do not get expected deprecated warning when using <code>startActivityForResult</code> in Kotlin project.</p>\n<p>When I investigate further, I notice Kotlin has different code path from Java, when calling <code>androidx.appcompat.app.AppCompatActivity.startActivityForResult(Intent, int)</code></p>\n<p>Is this the correct behavior? May I know why it is so?</p>\n"},{"tags":["java","gson","deserialization"],"comments":[{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":0,"creation_date":1689198014,"post_id":76637435,"comment_id":135181191,"body_markdown":"Did you edit your code before pasting it here? Because as far as I know `CustomObject_1.2` is not a valid Java class name. In general please choose valid class names in your examples (e.g. `CustomObject_1_2`) and make sure they actually compile, or even better that they are [minimal and reproducible](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Did you edit your code before pasting it here? Because as far as I know <code>CustomObject_1.2</code> is not a valid Java class name. In general please choose valid class names in your examples (e.g. <code>CustomObject_1_2</code>) and make sure they actually compile, or even better that they are <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal and reproducible</a>."},{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":0,"creation_date":1689198856,"post_id":76637435,"comment_id":135181302,"body_markdown":"Also it looks like the syntax of the JSON snippets you provided is invalid; `[ ... &quot;CustomObject_1.2.1&quot;: ... ]` is not valid. Did you mean `{ &quot;CustomObject_1.2.1&quot;: ... }`? Please verify that they are correct. Please also provide the code for your `CustomObject_1` class so that the complete structure of your data is clearer.","body":"Also it looks like the syntax of the JSON snippets you provided is invalid; <code>[ ... &quot;CustomObject_1.2.1&quot;: ... ]</code> is not valid. Did you mean <code>{ &quot;CustomObject_1.2.1&quot;: ... }</code>? Please verify that they are correct. Please also provide the code for your <code>CustomObject_1</code> class so that the complete structure of your data is clearer."}],"answers":[{"tags":[],"owner":{"account_id":27429920,"reputation":11,"user_id":20926792,"display_name":"Atram"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689007519,"creation_date":1688738511,"answer_id":76637648,"question_id":76637435,"body_markdown":"I&#39;ve changed my deserializer code like below and it looks like it&#39;s working like it should, although I&#39;m not sure if it makes sense.\r\n\r\n```\r\npublic CustomObject_1.2 deserialize(JsonElement json, Type type, JsonDeserializationContext context) throws JsonParseException {\r\n    if (json.isJsonArray()) {\r\n        JsonArray jsonArray = json.getAsJsonArray();\r\n        if (jsonArray.size() == 0) {\r\n            System.out.println(jsonArray);  // return an empty Totals object\r\n            return new CustomObject_1.2();\r\n        }\r\n    } else if (json.isJsonObject()) {\r\n        JsonObject jsonObject = json.getAsJsonObject();\r\n        if (jsonObject.has(&quot;CustomObject_1.2.1&quot;) &amp;&amp; jsonObject.get(&quot;CustomObject_1.2.1&quot;).isJsonArray()) {\r\n            JsonArray competitorsArray = jsonObject.getAsJsonArray(&quot;competitors&quot;);\r\n            System.out.println(competitorsArray);   //valid object so use default serialization\r\n            return new Gson.fromJson(jsonObject, CustomObject_1.2.class);\r\n        }\r\n    }\r\n    return null;\r\n}\r\n```\r\n","title":"Java ignore custom deserialization on GSON if json format is valid","body":"<p>I've changed my deserializer code like below and it looks like it's working like it should, although I'm not sure if it makes sense.</p>\n<pre><code>public CustomObject_1.2 deserialize(JsonElement json, Type type, JsonDeserializationContext context) throws JsonParseException {\n    if (json.isJsonArray()) {\n        JsonArray jsonArray = json.getAsJsonArray();\n        if (jsonArray.size() == 0) {\n            System.out.println(jsonArray);  // return an empty Totals object\n            return new CustomObject_1.2();\n        }\n    } else if (json.isJsonObject()) {\n        JsonObject jsonObject = json.getAsJsonObject();\n        if (jsonObject.has(&quot;CustomObject_1.2.1&quot;) &amp;&amp; jsonObject.get(&quot;CustomObject_1.2.1&quot;).isJsonArray()) {\n            JsonArray competitorsArray = jsonObject.getAsJsonArray(&quot;competitors&quot;);\n            System.out.println(competitorsArray);   //valid object so use default serialization\n            return new Gson.fromJson(jsonObject, CustomObject_1.2.class);\n        }\n    }\n    return null;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689200475,"creation_date":1689200475,"answer_id":76674815,"question_id":76637435,"body_markdown":"Your question is a bit similar to [this question](https://stackoverflow.com/q/43412261) where either a single object or an array of objects should be deserialized. The solution to this is therefore also similar:\r\n\r\nYou can create a custom [`TypeAdapterFactory`](https://javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/TypeAdapterFactory.html) whose created adapter peeks at the JSON data. If it finds a JSON array, it expects that the array is empty and returns `new CustomObject_1_2()`; otherwise it delegates deserialization to the actual adapter (if you haven&#39;t specified one, Gson defaults to using reflection).  \r\n\r\nThe advantage compared to your code is that it uses `TypeAdapterFactory` and `TypeAdapter` rather than `JsonDeserializer` and is therefore likely more efficient because it directly operates on the JSON data stream, and also it reuses the same `Gson` instance and therefore also considers any custom adapters which you might registered for the types of the fields of `CustomObject_1_2`.\r\n\r\nFor example:\r\n```java\r\nclass CustomObject_1_2_AdapterFactory implements TypeAdapterFactory {\r\n    public static final CustomObject_1_2_AdapterFactory INSTANCE = new CustomObject_1_2_AdapterFactory();\r\n\r\n    private CustomObject_1_2_AdapterFactory() { }\r\n\r\n    @Override\r\n    public &lt;T&gt; TypeAdapter&lt;T&gt; create(Gson gson, TypeToken&lt;T&gt; type) {\r\n        // Only handle CustomObject_1_2, let other factories handle all other types\r\n        if (type.getRawType() != CustomObject_1_2.class) {\r\n            return null;\r\n        }\r\n\r\n        TypeAdapter&lt;T&gt; delegate = gson.getDelegateAdapter(this, type);\r\n        return new TypeAdapter&lt;T&gt;() {\r\n            @Override\r\n            public T read(JsonReader in) throws IOException {\r\n                if (in.peek() == JsonToken.BEGIN_ARRAY) {\r\n                    // Expecting an empty JSON array\r\n                    in.beginArray();\r\n                    in.endArray();\r\n\r\n                    // Cast is safe because factory checked that type is CustomObject_1_2\r\n                    @SuppressWarnings(&quot;unchecked&quot;)\r\n                    T t = (T) new CustomObject_1_2();\r\n                    return t;\r\n                } else {\r\n                    return delegate.read(in);\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void write(JsonWriter out, T value) throws IOException {\r\n                delegate.write(out, value);\r\n            }\r\n        };\r\n    }\r\n}\r\n```\r\n\r\nAnd then register it like this:\r\n```java\r\nGson gson = new GsonBuilder()\r\n    .registerTypeAdapterFactory(CustomObject_1_2_AdapterFactory.INSTANCE)\r\n    .create();\r\n```\r\n\r\nIf you don&#39;t just have to differentiate between whether the data is a JSON array or a JSON object and need additional checks such as for the `CustomObject_1.2.1` property as shown in your code, then it would be more complicated because you would first have to parse the JSON data as `JsonObject` to peek at the fields.","title":"Java ignore custom deserialization on GSON if json format is valid","body":"<p>Your question is a bit similar to <a href=\"https://stackoverflow.com/q/43412261\">this question</a> where either a single object or an array of objects should be deserialized. The solution to this is therefore also similar:</p>\n<p>You can create a custom <a href=\"https://javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/TypeAdapterFactory.html\" rel=\"nofollow noreferrer\"><code>TypeAdapterFactory</code></a> whose created adapter peeks at the JSON data. If it finds a JSON array, it expects that the array is empty and returns <code>new CustomObject_1_2()</code>; otherwise it delegates deserialization to the actual adapter (if you haven't specified one, Gson defaults to using reflection).</p>\n<p>The advantage compared to your code is that it uses <code>TypeAdapterFactory</code> and <code>TypeAdapter</code> rather than <code>JsonDeserializer</code> and is therefore likely more efficient because it directly operates on the JSON data stream, and also it reuses the same <code>Gson</code> instance and therefore also considers any custom adapters which you might registered for the types of the fields of <code>CustomObject_1_2</code>.</p>\n<p>For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class CustomObject_1_2_AdapterFactory implements TypeAdapterFactory {\n    public static final CustomObject_1_2_AdapterFactory INSTANCE = new CustomObject_1_2_AdapterFactory();\n\n    private CustomObject_1_2_AdapterFactory() { }\n\n    @Override\n    public &lt;T&gt; TypeAdapter&lt;T&gt; create(Gson gson, TypeToken&lt;T&gt; type) {\n        // Only handle CustomObject_1_2, let other factories handle all other types\n        if (type.getRawType() != CustomObject_1_2.class) {\n            return null;\n        }\n\n        TypeAdapter&lt;T&gt; delegate = gson.getDelegateAdapter(this, type);\n        return new TypeAdapter&lt;T&gt;() {\n            @Override\n            public T read(JsonReader in) throws IOException {\n                if (in.peek() == JsonToken.BEGIN_ARRAY) {\n                    // Expecting an empty JSON array\n                    in.beginArray();\n                    in.endArray();\n\n                    // Cast is safe because factory checked that type is CustomObject_1_2\n                    @SuppressWarnings(&quot;unchecked&quot;)\n                    T t = (T) new CustomObject_1_2();\n                    return t;\n                } else {\n                    return delegate.read(in);\n                }\n            }\n\n            @Override\n            public void write(JsonWriter out, T value) throws IOException {\n                delegate.write(out, value);\n            }\n        };\n    }\n}\n</code></pre>\n<p>And then register it like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Gson gson = new GsonBuilder()\n    .registerTypeAdapterFactory(CustomObject_1_2_AdapterFactory.INSTANCE)\n    .create();\n</code></pre>\n<p>If you don't just have to differentiate between whether the data is a JSON array or a JSON object and need additional checks such as for the <code>CustomObject_1.2.1</code> property as shown in your code, then it would be more complicated because you would first have to parse the JSON data as <code>JsonObject</code> to peek at the fields.</p>\n"}],"owner":{"account_id":27429920,"reputation":11,"user_id":20926792,"display_name":"Atram"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76637648,"answer_count":2,"score":0,"last_activity_date":1689324660,"creation_date":1688736588,"question_id":76637435,"body_markdown":"I have been looking around but could not find any conclusion for my problem, I&#39;ll try to describe it the best way I can.\r\n\r\nI&#39;m calling an API that can respond 2 ways (***note that class names are only examples, not the real names***):\r\n\r\nBad response:\r\n```\r\n{\r\n        &quot;CustomObject_1&quot; : {\r\n            &quot;CustomObject_1.1&quot; : {\r\n                ...\r\n            },\r\n            &quot;CustomObject_1.2&quot; : [\r\n                [ ]\r\n            ]\r\n        },\r\n        &quot;CustomObject_2&quot; : {\r\n            ...\r\n        }\r\n```\r\n\r\nGood response:\r\n```\r\n{\r\n        &quot;CustomObject_1&quot; : {\r\n            &quot;CustomObject_1.1&quot; : {\r\n                ...\r\n            },\r\n            &quot;CustomObject_1.2&quot; : [\r\n                &quot;CustomObject_1.2.1&quot; : {\r\n                ...\r\n                }\r\n            ]\r\n        },\r\n        &quot;CustomObject_2&quot; : {\r\n            ...\r\n        }\r\n```\r\n\r\nThe difference is in `CustomObject_1.2` that can be a custom object (that contains more layers of custom objects inside), or it can be an empty array.\r\n\r\nI have a deserializer that corrects the bad response, but it makes the good response null, instead of using the default serialization.\r\n\r\n`class CustomObject_1.2Deserializer`\r\n\r\n```\r\npublic CustomObject_1.2 deserialize(JsonElement json, Type type, JsonDeserializationContext context) throws JsonParseException {\r\n        if (json.isJsonArray()) {\r\n            JsonArray jsonArray = json.getAsJsonArray();\r\n            if (jsonArray.size() == 0) {\r\n                System.out.println(jsonArray);  // return an empty Totals object\r\n                return new CustomObject_1.2();\r\n            }\r\n        } else if (json.isJsonObject()) {\r\n            JsonObject jsonObject = json.getAsJsonObject();\r\n            if (jsonObject.has(&quot;CustomObject_1.2.1&quot;) &amp;&amp; jsonObject.get(&quot;CustomObject_1.2.1&quot;).isJsonArray()) {\r\n                JsonArray competitorsArray = jsonObject.getAsJsonArray(&quot;competitors&quot;);\r\n                System.out.println(competitorsArray);   //valid object so use default serialization\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n```\r\n\r\nIs there a way to ignore the deserialization when the json comes as a valid object?\r\n\r\nIn case it&#39;s needed here is the function that handles the gson serialization:\r\n\r\n```\r\nprivate MyDtoInterface processResponse(String message) {\r\n        MyDtoInterface mDto = null;\r\n        try {\r\n                Gson gson = new GsonBuilder()\r\n                        .registerTypeAdapter(CustomObject_1.2.class, new CustomObject_1.2Deserializer())\r\n                        .create();\r\n                mDto = gson.fromJson(message, CustomparentDTO.class);\r\n        } catch (Exception e) {\r\n            System.out.println(&quot;Json format not compatible with ParentDTO&quot;);\r\n        }\r\n        return mDto;\r\n    }\r\n```\r\n \r\n\r\nThank you in advance!\r\n\r\nI&#39;ve lost count of what I&#39;ve tried. And most examples I can find use primitives and not CustomObjects inside CustomObjects.\r\n\r\nI was trying to only deserialize the invalid json. If I try to build a `new CustomObject_1.2()` it will be endless because it&#39;s attributes are not primites like String, Integer, Date, ... they are custom objecst inside objects.\r\n\r\nThe code above will return the following:\r\nBad response (will build a good DTO):\r\n```\r\n{\r\n        &quot;CustomObject_1&quot; : {\r\n            &quot;CustomObject_1.1&quot; : {\r\n                ...\r\n            },\r\n            &quot;CustomObject_1.2&quot; : [\r\n                &quot;CustomObject_1.2.1&quot; : null\r\n            ]\r\n        },\r\n        &quot;CustomObject_2&quot; : {\r\n            ...\r\n        }\r\n```\r\n\r\nGood response (will build a null DTO):\r\n```\r\n{\r\n        &quot;CustomObject_1&quot; : {\r\n            &quot;CustomObject_1.1&quot; : {\r\n                ...\r\n            },\r\n            &quot;CustomObject_1.2&quot; : [\r\n                All elements are null\r\n            ]\r\n        },\r\n        &quot;CustomObject_2&quot; : {\r\n            ...\r\n        }\r\n```","title":"Java ignore custom deserialization on GSON if json format is valid","body":"<p>I have been looking around but could not find any conclusion for my problem, I'll try to describe it the best way I can.</p>\n<p>I'm calling an API that can respond 2 ways (<em><strong>note that class names are only examples, not the real names</strong></em>):</p>\n<p>Bad response:</p>\n<pre><code>{\n        &quot;CustomObject_1&quot; : {\n            &quot;CustomObject_1.1&quot; : {\n                ...\n            },\n            &quot;CustomObject_1.2&quot; : [\n                [ ]\n            ]\n        },\n        &quot;CustomObject_2&quot; : {\n            ...\n        }\n</code></pre>\n<p>Good response:</p>\n<pre><code>{\n        &quot;CustomObject_1&quot; : {\n            &quot;CustomObject_1.1&quot; : {\n                ...\n            },\n            &quot;CustomObject_1.2&quot; : [\n                &quot;CustomObject_1.2.1&quot; : {\n                ...\n                }\n            ]\n        },\n        &quot;CustomObject_2&quot; : {\n            ...\n        }\n</code></pre>\n<p>The difference is in <code>CustomObject_1.2</code> that can be a custom object (that contains more layers of custom objects inside), or it can be an empty array.</p>\n<p>I have a deserializer that corrects the bad response, but it makes the good response null, instead of using the default serialization.</p>\n<p><code>class CustomObject_1.2Deserializer</code></p>\n<pre><code>public CustomObject_1.2 deserialize(JsonElement json, Type type, JsonDeserializationContext context) throws JsonParseException {\n        if (json.isJsonArray()) {\n            JsonArray jsonArray = json.getAsJsonArray();\n            if (jsonArray.size() == 0) {\n                System.out.println(jsonArray);  // return an empty Totals object\n                return new CustomObject_1.2();\n            }\n        } else if (json.isJsonObject()) {\n            JsonObject jsonObject = json.getAsJsonObject();\n            if (jsonObject.has(&quot;CustomObject_1.2.1&quot;) &amp;&amp; jsonObject.get(&quot;CustomObject_1.2.1&quot;).isJsonArray()) {\n                JsonArray competitorsArray = jsonObject.getAsJsonArray(&quot;competitors&quot;);\n                System.out.println(competitorsArray);   //valid object so use default serialization\n            }\n        }\n        return null;\n    }\n</code></pre>\n<p>Is there a way to ignore the deserialization when the json comes as a valid object?</p>\n<p>In case it's needed here is the function that handles the gson serialization:</p>\n<pre><code>private MyDtoInterface processResponse(String message) {\n        MyDtoInterface mDto = null;\n        try {\n                Gson gson = new GsonBuilder()\n                        .registerTypeAdapter(CustomObject_1.2.class, new CustomObject_1.2Deserializer())\n                        .create();\n                mDto = gson.fromJson(message, CustomparentDTO.class);\n        } catch (Exception e) {\n            System.out.println(&quot;Json format not compatible with ParentDTO&quot;);\n        }\n        return mDto;\n    }\n</code></pre>\n<p>Thank you in advance!</p>\n<p>I've lost count of what I've tried. And most examples I can find use primitives and not CustomObjects inside CustomObjects.</p>\n<p>I was trying to only deserialize the invalid json. If I try to build a <code>new CustomObject_1.2()</code> it will be endless because it's attributes are not primites like String, Integer, Date, ... they are custom objecst inside objects.</p>\n<p>The code above will return the following:\nBad response (will build a good DTO):</p>\n<pre><code>{\n        &quot;CustomObject_1&quot; : {\n            &quot;CustomObject_1.1&quot; : {\n                ...\n            },\n            &quot;CustomObject_1.2&quot; : [\n                &quot;CustomObject_1.2.1&quot; : null\n            ]\n        },\n        &quot;CustomObject_2&quot; : {\n            ...\n        }\n</code></pre>\n<p>Good response (will build a null DTO):</p>\n<pre><code>{\n        &quot;CustomObject_1&quot; : {\n            &quot;CustomObject_1.1&quot; : {\n                ...\n            },\n            &quot;CustomObject_1.2&quot; : [\n                All elements are null\n            ]\n        },\n        &quot;CustomObject_2&quot; : {\n            ...\n        }\n</code></pre>\n"},{"tags":["java","spring-boot","openapi","openapi-generator"],"comments":[{"owner":{"account_id":1806113,"reputation":625,"user_id":1643179,"display_name":"gebi"},"score":0,"creation_date":1690188040,"post_id":76686049,"comment_id":135313117,"body_markdown":"Hi, please make sure your yaml input is valid. OpenAPI generator validates it before generation, but you can also use e.g. editor-next.swagger.io . If the problems still happens, please post your valid input yaml.","body":"Hi, please make sure your yaml input is valid. OpenAPI generator validates it before generation, but you can also use e.g. editor-next.swagger.io . If the problems still happens, please post your valid input yaml."},{"owner":{"account_id":1592400,"reputation":603,"user_id":1475440,"display_name":"some_user"},"score":0,"creation_date":1700574244,"post_id":76686049,"comment_id":136669384,"body_markdown":"@gluwak, did you find a solution to this?","body":"@gluwak, did you find a solution to this?"},{"owner":{"account_id":15089287,"reputation":13,"user_id":10889648,"display_name":"gluwak"},"score":0,"creation_date":1700662216,"post_id":76686049,"comment_id":136682070,"body_markdown":"@some_user have not found solution.","body":"@some_user have not found solution."}],"owner":{"account_id":15089287,"reputation":13,"user_id":10889648,"display_name":"gluwak"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":815,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689323902,"creation_date":1689323902,"question_id":76686049,"body_markdown":"OpenApi generator is used to create Api interfaces. I use `org.openapitools:openapi-generator-gradle-plugin:6.6.0`. It generates code where Set is one of method parameters, but generator do not add `java.util.Set` to import.\r\n\r\nIn method bellow I want to get set of unique countries which user has chosen. Here you can see `Set&lt;String&gt; countryList` , but there is no `import java.util.Set` or even `import java.util.*`.\r\nHere is that generated API method:\r\n\r\n```\r\n\r\nimport com.example.test.model.ErrorResponse;\r\nimport io.swagger.v3.oas.annotations.ExternalDocumentation;\r\nimport io.swagger.v3.oas.annotations.Operation;\r\nimport io.swagger.v3.oas.annotations.Parameter;\r\nimport io.swagger.v3.oas.annotations.Parameters;\r\nimport io.swagger.v3.oas.annotations.media.ArraySchema;\r\nimport io.swagger.v3.oas.annotations.media.Content;\r\nimport io.swagger.v3.oas.annotations.media.Schema;\r\nimport io.swagger.v3.oas.annotations.responses.ApiResponse;\r\nimport io.swagger.v3.oas.annotations.security.SecurityRequirement;\r\nimport io.swagger.v3.oas.annotations.tags.Tag;\r\nimport io.swagger.v3.oas.annotations.enums.ParameterIn;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.MediaType;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.validation.annotation.Validated;\r\nimport org.springframework.web.bind.annotation.*;\r\nimport org.springframework.web.context.request.NativeWebRequest;\r\nimport org.springframework.web.multipart.MultipartFile;\r\n\r\nimport jakarta.validation.Valid;\r\nimport jakarta.validation.constraints.*;\r\nimport java.util.List;\r\nimport java.util.Map;\r\nimport java.util.Optional;\r\nimport jakarta.annotation.Generated;\r\n\r\n@Generated(value = &quot;org.openapitools.codegen.languages.SpringCodegen&quot;, date = &quot;2023-07-14T10:05:08.694721+03:00[Europe/Riga]&quot;)\r\n@Validated\r\n@Tag(name = &quot;application&quot;, description = &quot;the application API&quot;)\r\npublic interface ApplicationApi {\r\n\r\n    default Optional&lt;NativeWebRequest&gt; getRequest() {\r\n        return Optional.empty();\r\n    }\r\n\r\n    @Operation(\r\n        operationId = &quot;applicationApplicationIdCountriesPost&quot;,\r\n        summary = &quot;Lets a user to enter his countries&quot;,\r\n        responses = {\r\n            @ApiResponse(responseCode = &quot;200&quot;, description = &quot;Succesfully added countries to {applicationId}&quot;),\r\n            @ApiResponse(responseCode = &quot;400&quot;, description = &quot;Validation error&quot;, content = {\r\n                @Content(mediaType = &quot;*/*&quot;, array = @ArraySchema(schema = @Schema(implementation = ErrorResponse.class)))\r\n            }),\r\n            @ApiResponse(responseCode = &quot;500&quot;, description = &quot;Internal error&quot;)\r\n        }\r\n    )\r\n    @RequestMapping(\r\n        method = RequestMethod.POST,\r\n        value = &quot;/application/{applicationId}/country&quot;,\r\n        produces = { &quot;*/*&quot; },\r\n        consumes = { &quot;application/x-www-form-urlencoded&quot; }\r\n    )\r\n    default ResponseEntity&lt;Void&gt; applicationApplicationIdTaxliabilityPost(\r\n        @Parameter(name = &quot;applicationId&quot;, description = &quot;ID of application&quot;, required = true, in = ParameterIn.PATH) @PathVariable(&quot;applicationId&quot;) Long applicationId,\r\n        @Parameter(name = &quot;countryList&quot;, description = &quot;Country list in ISO 3166-1 alpha-2&quot;, required = true) @Valid @RequestPart(value = &quot;countryList&quot;, required = true) Set&lt;String&gt; countryList\r\n    ) {\r\n        return new ResponseEntity&lt;&gt;(HttpStatus.NOT_IMPLEMENTED);\r\n\r\n    }\r\n}\r\n```\r\n\r\nHere is yaml where from it is generated:\r\n\r\n\r\n```\r\n  &#39;/application/{applicationId}/country&#39;:\r\n    post:\r\n      summary: Lets a user to enter his countries\r\n      operationId: applicationApplicationIdCountriesPost\r\n      consumes:\r\n        - application/x-www-form-urlencoded\r\n      parameters:\r\n        - $ref: &#39;#/parameters/applicationId_pathParam&#39;\r\n        - name: countryList\r\n          in: formData\r\n          description: Country list in ISO 3166-1 alpha-2\r\n          type: array\r\n          minItems: 1\r\n          maxItems: 3\r\n          uniqueItems: true\r\n          items:\r\n            type: string\r\n          required: true\r\n      responses:\r\n        &#39;200&#39;:\r\n          description: &#39;Succesfully added countries to {applicationId}&#39;\r\n        &#39;400&#39;:\r\n          $ref: &#39;#/responses/400&#39;\r\n        &#39;500&#39;:\r\n          $ref: &#39;#/responses/500&#39;\r\n```\r\nAnd openApi gradle config:\r\n\r\n\r\n```\r\nbuildscript {\r\n    dependencies {\r\n    }\r\n    repositories {\r\n        mavenLocal()\r\n    }\r\n}\r\n\r\n\r\n\r\ndef apiPackageFolder = &#39;com.example.test.api&#39;\r\ndef modelPackageFolder = &#39;com.example.test.model&#39;\r\n\r\nopenApiGenerate {\r\n    generatorName.set(&quot;spring&quot;)\r\n    inputSpec.set(&quot;${projectDir}/specs/test.yaml&quot;)\r\n    outputDir.set(&quot;${projectDir}/src/main/java-generated&quot;)\r\n    apiPackage.set(&quot;${apiPackageFolder}&quot;)\r\n    modelPackage.set(&quot;${modelPackageFolder}&quot;)\r\n    configOptions = [\r\n            useSpringBoot3: &quot;true&quot;,\r\n            openApiNullable: &quot;false&quot;,\r\n            useOptional: &quot;true&quot;,\r\n            &quot;interfaceOnly&quot; : &quot;true&quot;,\r\n            sourceFolder: &quot;&quot;\r\n    ]\r\n}\r\ncompileJava.dependsOn tasks.openApiGenerate\r\n```\r\n\r\n\r\n\r\nI&#39;ve tryed to add to openApiGenerate `importMappings.put(&quot;java.util.List&quot;,&quot;java.util.*&quot;)` as a hack.","title":"Spring OpenApi generator do not import Set which is used in generated interface","body":"<p>OpenApi generator is used to create Api interfaces. I use <code>org.openapitools:openapi-generator-gradle-plugin:6.6.0</code>. It generates code where Set is one of method parameters, but generator do not add <code>java.util.Set</code> to import.</p>\n<p>In method bellow I want to get set of unique countries which user has chosen. Here you can see <code>Set&lt;String&gt; countryList</code> , but there is no <code>import java.util.Set</code> or even <code>import java.util.*</code>.\nHere is that generated API method:</p>\n<pre><code>\nimport com.example.test.model.ErrorResponse;\nimport io.swagger.v3.oas.annotations.ExternalDocumentation;\nimport io.swagger.v3.oas.annotations.Operation;\nimport io.swagger.v3.oas.annotations.Parameter;\nimport io.swagger.v3.oas.annotations.Parameters;\nimport io.swagger.v3.oas.annotations.media.ArraySchema;\nimport io.swagger.v3.oas.annotations.media.Content;\nimport io.swagger.v3.oas.annotations.media.Schema;\nimport io.swagger.v3.oas.annotations.responses.ApiResponse;\nimport io.swagger.v3.oas.annotations.security.SecurityRequirement;\nimport io.swagger.v3.oas.annotations.tags.Tag;\nimport io.swagger.v3.oas.annotations.enums.ParameterIn;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.MediaType;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.validation.annotation.Validated;\nimport org.springframework.web.bind.annotation.*;\nimport org.springframework.web.context.request.NativeWebRequest;\nimport org.springframework.web.multipart.MultipartFile;\n\nimport jakarta.validation.Valid;\nimport jakarta.validation.constraints.*;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.Optional;\nimport jakarta.annotation.Generated;\n\n@Generated(value = &quot;org.openapitools.codegen.languages.SpringCodegen&quot;, date = &quot;2023-07-14T10:05:08.694721+03:00[Europe/Riga]&quot;)\n@Validated\n@Tag(name = &quot;application&quot;, description = &quot;the application API&quot;)\npublic interface ApplicationApi {\n\n    default Optional&lt;NativeWebRequest&gt; getRequest() {\n        return Optional.empty();\n    }\n\n    @Operation(\n        operationId = &quot;applicationApplicationIdCountriesPost&quot;,\n        summary = &quot;Lets a user to enter his countries&quot;,\n        responses = {\n            @ApiResponse(responseCode = &quot;200&quot;, description = &quot;Succesfully added countries to {applicationId}&quot;),\n            @ApiResponse(responseCode = &quot;400&quot;, description = &quot;Validation error&quot;, content = {\n                @Content(mediaType = &quot;*/*&quot;, array = @ArraySchema(schema = @Schema(implementation = ErrorResponse.class)))\n            }),\n            @ApiResponse(responseCode = &quot;500&quot;, description = &quot;Internal error&quot;)\n        }\n    )\n    @RequestMapping(\n        method = RequestMethod.POST,\n        value = &quot;/application/{applicationId}/country&quot;,\n        produces = { &quot;*/*&quot; },\n        consumes = { &quot;application/x-www-form-urlencoded&quot; }\n    )\n    default ResponseEntity&lt;Void&gt; applicationApplicationIdTaxliabilityPost(\n        @Parameter(name = &quot;applicationId&quot;, description = &quot;ID of application&quot;, required = true, in = ParameterIn.PATH) @PathVariable(&quot;applicationId&quot;) Long applicationId,\n        @Parameter(name = &quot;countryList&quot;, description = &quot;Country list in ISO 3166-1 alpha-2&quot;, required = true) @Valid @RequestPart(value = &quot;countryList&quot;, required = true) Set&lt;String&gt; countryList\n    ) {\n        return new ResponseEntity&lt;&gt;(HttpStatus.NOT_IMPLEMENTED);\n\n    }\n}\n</code></pre>\n<p>Here is yaml where from it is generated:</p>\n<pre><code>  '/application/{applicationId}/country':\n    post:\n      summary: Lets a user to enter his countries\n      operationId: applicationApplicationIdCountriesPost\n      consumes:\n        - application/x-www-form-urlencoded\n      parameters:\n        - $ref: '#/parameters/applicationId_pathParam'\n        - name: countryList\n          in: formData\n          description: Country list in ISO 3166-1 alpha-2\n          type: array\n          minItems: 1\n          maxItems: 3\n          uniqueItems: true\n          items:\n            type: string\n          required: true\n      responses:\n        '200':\n          description: 'Succesfully added countries to {applicationId}'\n        '400':\n          $ref: '#/responses/400'\n        '500':\n          $ref: '#/responses/500'\n</code></pre>\n<p>And openApi gradle config:</p>\n<pre><code>buildscript {\n    dependencies {\n    }\n    repositories {\n        mavenLocal()\n    }\n}\n\n\n\ndef apiPackageFolder = 'com.example.test.api'\ndef modelPackageFolder = 'com.example.test.model'\n\nopenApiGenerate {\n    generatorName.set(&quot;spring&quot;)\n    inputSpec.set(&quot;${projectDir}/specs/test.yaml&quot;)\n    outputDir.set(&quot;${projectDir}/src/main/java-generated&quot;)\n    apiPackage.set(&quot;${apiPackageFolder}&quot;)\n    modelPackage.set(&quot;${modelPackageFolder}&quot;)\n    configOptions = [\n            useSpringBoot3: &quot;true&quot;,\n            openApiNullable: &quot;false&quot;,\n            useOptional: &quot;true&quot;,\n            &quot;interfaceOnly&quot; : &quot;true&quot;,\n            sourceFolder: &quot;&quot;\n    ]\n}\ncompileJava.dependsOn tasks.openApiGenerate\n</code></pre>\n<p>I've tryed to add to openApiGenerate <code>importMappings.put(&quot;java.util.List&quot;,&quot;java.util.*&quot;)</code> as a hack.</p>\n"},{"tags":["java","selenium","selenium-webdriver","automation","appium"],"comments":[{"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"score":1,"creation_date":1572494253,"post_id":58636361,"comment_id":103579969,"body_markdown":"Post the relevant HTML of the element you are trying to locate. Odds are we can create a single locator that can find it.","body":"Post the relevant HTML of the element you are trying to locate. Odds are we can create a single locator that can find it."},{"owner":{"account_id":7186894,"reputation":21,"user_id":5488571,"display_name":"Sachin Gupta"},"score":0,"creation_date":1572503483,"post_id":58636361,"comment_id":103582034,"body_markdown":"@JeffC I&#39;m really sorry, i couldn;t get you, I want to use below code in page factory (@FindBy (.....)), how can i use it   driver.findElement(RelativeLocator.withTagName(&quot;input&quot;).above(By.name(&quot;password&quot;)).\n                below(By.xpath(&quot;//td//b[text()=&#39;sign-in here&#39;]&quot;)));","body":"@JeffC I&#39;m really sorry, i couldn;t get you, I want to use below code in page factory (@FindBy (.....)), how can i use it   driver.findElement(RelativeLocator.withTagName(&quot;input&quot;).abov&zwnj;&#8203;e(By.name(&quot;password&quot;&zwnj;&#8203;)).                 below(By.xpath(&quot;//td//b[text()=&#39;sign-in here&#39;]&quot;)));"},{"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"score":0,"creation_date":1572535488,"post_id":58636361,"comment_id":103598174,"body_markdown":"I have no idea but if I were to guess, PageFactory has not (and likely will not) be updated to take advantage of the new locator type. PageFactory was written long ago as an example of how you can extend Selenium but was not intended for actual use. The Selenium contributors (Simon Stewart, lead contributor specifically) have stated multiple times during conference talks, etc. that it should not be used.","body":"I have no idea but if I were to guess, PageFactory has not (and likely will not) be updated to take advantage of the new locator type. PageFactory was written long ago as an example of how you can extend Selenium but was not intended for actual use. The Selenium contributors (Simon Stewart, lead contributor specifically) have stated multiple times during conference talks, etc. that it should not be used."},{"owner":{"account_id":7186894,"reputation":21,"user_id":5488571,"display_name":"Sachin Gupta"},"score":0,"creation_date":1572627539,"post_id":58636361,"comment_id":103629262,"body_markdown":"Thanks @JeffC, you are absolutely right, I have also got the answer from the selenium community, here is the clarification:- &quot;Relative locators are dynamic by its nature. They describe an element by its spatial relations to other elements. Java annotations allow to use static expressions only that can be evaluated on compilation stage. So it&#39;s impossible to use relative locators with the current implementation of PageFactory.&quot;","body":"Thanks @JeffC, you are absolutely right, I have also got the answer from the selenium community, here is the clarification:- &quot;Relative locators are dynamic by its nature. They describe an element by its spatial relations to other elements. Java annotations allow to use static expressions only that can be evaluated on compilation stage. So it&#39;s impossible to use relative locators with the current implementation of PageFactory.&quot;"}],"answers":[{"tags":[],"owner":{"account_id":14970775,"reputation":38,"user_id":10807724,"display_name":"Mounika"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1572497643,"creation_date":1572497643,"answer_id":58637091,"question_id":58636361,"body_markdown":"&gt; Writing the Relative Xpath is as follows\r\n&gt; 1)//{tagName}[contains(@class,&#39;{className})] if you want to validate\r\n&gt; text 2)//{tagName}[contains(text(),&#39;{text})]\r\n&gt; \r\n&gt; I see that in your case you need to identify UserName, Password and\r\n&gt; Sign In button and perform opeartions accordingly\r\n&gt; \r\n&gt; @FindBy(xpath = &quot;//a[contains(text(),&#39;Deals&#39;)]&quot;) WebElement dealsLink;\r\n&gt; \r\n&gt; dealsLink.click();","title":"How can we use RelativeLocator (not Relative xpath) in page factory (@FindBy)?","body":"<blockquote>\n  <p>Writing the Relative Xpath is as follows\n  1)//{tagName}[contains(@class,'{className})] if you want to validate\n  text 2)//{tagName}[contains(text(),'{text})]</p>\n  \n  <p>I see that in your case you need to identify UserName, Password and\n  Sign In button and perform opeartions accordingly</p>\n  \n  <p>@FindBy(xpath = \"//a[contains(text(),'Deals')]\") WebElement dealsLink;</p>\n  \n  <p>dealsLink.click();</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":4818389,"reputation":65,"user_id":3889759,"display_name":"Kiryl K"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659616742,"creation_date":1659616742,"answer_id":73236094,"question_id":58636361,"body_markdown":"According to https://github.com/SeleniumHQ/selenium/issues/7731 it&#39;s impossible to use relative locators with the current implementation of PageFactory.","title":"How can we use RelativeLocator (not Relative xpath) in page factory (@FindBy)?","body":"<p>According to <a href=\"https://github.com/SeleniumHQ/selenium/issues/7731\" rel=\"nofollow noreferrer\">https://github.com/SeleniumHQ/selenium/issues/7731</a> it's impossible to use relative locators with the current implementation of PageFactory.</p>\n"}],"owner":{"account_id":7186894,"reputation":21,"user_id":5488571,"display_name":"Sachin Gupta"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":525,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1689323859,"creation_date":1572490862,"question_id":58636361,"body_markdown":"How can we use RelativeLocator in page factory (@FindBy), please help me here to use below code in page factory\r\n\r\n    driver.findElement(RelativeLocator.withTagName(&quot;input&quot;).above(By.name(&quot;password&quot;)).below(By.xpath(&quot;//td//b[text()=&#39;sign-in here&#39;]&quot;)));\r\n\r\nActually I want to use above code (RelativeLocator) same as below in page factory, it&#39;s a new feature given by selenium community, but I don&#39;t know how to use this page factory. \r\n\r\n    @FindBy(name=&quot;uid&quot;)\r\n     WebElement userName;\r\n\r\nI know it&#39;s normal uses, see the [Relative Locator Video][1] for your reference.\r\n  [1]: https://www.youtube.com/watch?v=R7XOYM7ISRw","title":"How can we use RelativeLocator (not Relative xpath) in page factory (@FindBy)?","body":"<p>How can we use RelativeLocator in page factory (@FindBy), please help me here to use below code in page factory</p>\n\n<pre><code>driver.findElement(RelativeLocator.withTagName(\"input\").above(By.name(\"password\")).below(By.xpath(\"//td//b[text()='sign-in here']\")));\n</code></pre>\n\n<p>Actually I want to use above code (RelativeLocator) same as below in page factory, it's a new feature given by selenium community, but I don't know how to use this page factory. </p>\n\n<pre><code>@FindBy(name=\"uid\")\n WebElement userName;\n</code></pre>\n\n<p>I know it's normal uses, see the <a href=\"https://www.youtube.com/watch?v=R7XOYM7ISRw\" rel=\"nofollow noreferrer\">Relative Locator Video</a> for your reference.</p>\n"},{"tags":["java","eclipse","maven"],"owner":{"account_id":4168155,"reputation":2397,"user_id":3416648,"accept_rate":83,"display_name":"DDS"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689323528,"creation_date":1689323528,"question_id":76686011,"body_markdown":"I&#39;m trying to do in maven the same as what Eclipse does in the export runnable jar by checking &quot;package required libraries into generated jar&quot; as in the picture below  \r\n[![Eclipse option image][1]][1]\r\n\r\nhere is my pom &quot;build&quot; section:\r\n```xml\r\n&lt;build&gt;\r\n\t\t&lt;finalName&gt;MFZ_${version}&lt;/finalName&gt;\r\n\t\t&lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;\r\n\t\t&lt;resources&gt;\r\n\t\t\t&lt;resource&gt;\r\n\t\t\t\t&lt;directory&gt;src&lt;/directory&gt;\r\n\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t&lt;exclude&gt;**/*.java&lt;/exclude&gt;\r\n\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t&lt;/resource&gt;\r\n\t\t\t&lt;resource&gt;\r\n\t\t\t\t&lt;directory&gt;resources&lt;/directory&gt;\r\n\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t&lt;exclude&gt;**/*.java&lt;/exclude&gt;\r\n\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t&lt;/resource&gt;\r\n\t\t&lt;/resources&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.8.1&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;release&gt;17&lt;/release&gt;\r\n\t\t\t\t\t&lt;source&gt;17&lt;/source&gt;\r\n\t\t\t\t\t&lt;target&gt;17&lt;/target&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;0.0.7&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;mainClass&gt;HelloFX&lt;/mainClass&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;!-- https://maven.apache.org/plugins/maven-shade-plugin/examples/executable-jar.html --&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.5.0&lt;/version&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;package&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;shade&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;transformers&gt;\r\n\t\t\t\t\t\t\t\t&lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;manifestEntries&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;Main-Class&gt;com.co.mfz.Main&lt;/Main-Class&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;Build-Number&gt;${version}&lt;/Build-Number&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;Class-Path&gt;./ ./config/common/ ./config ./img ./ecc &lt;/Class-Path&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;/manifestEntries&gt;\r\n\t\t\t\t\t\t\t\t&lt;/transformer&gt;\r\n\t\t\t\t\t\t\t&lt;/transformers&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n&lt;/build&gt;\r\n```\r\n\r\n\r\nRight now once I run my application I got\r\n\r\n```\r\nError: A JNI error has occurred, please check your installation and try again\r\nException in thread &quot;main&quot; java.lang.SecurityException: Invalid signature file digest for Manifest main attributes\r\n        at java.base/sun.security.util.SignatureFileVerifier.processImpl(SignatureFileVerifier.java:340)\r\n        at java.base/sun.security.util.SignatureFileVerifier.process(SignatureFileVerifier.java:282)\r\n        at java.base/java.util.jar.JarVerifier.processEntry(JarVerifier.java:321)\r\n        at java.base/java.util.jar.JarVerifier.update(JarVerifier.java:234)\r\n        at java.base/java.util.jar.JarFile.initializeVerifier(JarFile.java:762)\r\n        at java.base/java.util.jar.JarFile.ensureInitialization(JarFile.java:1033)\r\n        at java.base/java.util.jar.JavaUtilJarAccessImpl.ensureInitialization(JavaUtilJarAccessImpl.java:72)\r\n        at java.base/jdk.internal.loader.URLClassPath$JarLoader$2.getManifest(URLClassPath.java:883)\r\n        at java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:848)\r\n        at java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:760)\r\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:681)\r\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:639)\r\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n        at java.base/java.lang.Class.forName0(Native Method)\r\n        at java.base/java.lang.Class.forName(Class.java:467)\r\n        at java.base/sun.launcher.LauncherHelper.loadMainClass(LauncherHelper.java:780)\r\n        at java.base/sun.launcher.LauncherHelper.checkAndLoadMain(LauncherHelper.java:675)\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4MyT3.png","title":"Maven - set it not to repackage jar dependencies","body":"<p>I'm trying to do in maven the same as what Eclipse does in the export runnable jar by checking &quot;package required libraries into generated jar&quot; as in the picture below<br />\n<a href=\"https://i.stack.imgur.com/4MyT3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4MyT3.png\" alt=\"Eclipse option image\" /></a></p>\n<p>here is my pom &quot;build&quot; section:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;build&gt;\n        &lt;finalName&gt;MFZ_${version}&lt;/finalName&gt;\n        &lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;\n        &lt;resources&gt;\n            &lt;resource&gt;\n                &lt;directory&gt;src&lt;/directory&gt;\n                &lt;excludes&gt;\n                    &lt;exclude&gt;**/*.java&lt;/exclude&gt;\n                &lt;/excludes&gt;\n            &lt;/resource&gt;\n            &lt;resource&gt;\n                &lt;directory&gt;resources&lt;/directory&gt;\n                &lt;excludes&gt;\n                    &lt;exclude&gt;**/*.java&lt;/exclude&gt;\n                &lt;/excludes&gt;\n            &lt;/resource&gt;\n        &lt;/resources&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;release&gt;17&lt;/release&gt;\n                    &lt;source&gt;17&lt;/source&gt;\n                    &lt;target&gt;17&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n                &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.0.7&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;mainClass&gt;HelloFX&lt;/mainClass&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;!-- https://maven.apache.org/plugins/maven-shade-plugin/examples/executable-jar.html --&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.5.0&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;shade&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;transformers&gt;\n                                &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\n                                    &lt;manifestEntries&gt;\n                                        &lt;Main-Class&gt;com.co.mfz.Main&lt;/Main-Class&gt;\n                                        &lt;Build-Number&gt;${version}&lt;/Build-Number&gt;\n                                        &lt;Class-Path&gt;./ ./config/common/ ./config ./img ./ecc &lt;/Class-Path&gt;\n                                    &lt;/manifestEntries&gt;\n                                &lt;/transformer&gt;\n                            &lt;/transformers&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n&lt;/build&gt;\n</code></pre>\n<p>Right now once I run my application I got</p>\n<pre><code>Error: A JNI error has occurred, please check your installation and try again\nException in thread &quot;main&quot; java.lang.SecurityException: Invalid signature file digest for Manifest main attributes\n        at java.base/sun.security.util.SignatureFileVerifier.processImpl(SignatureFileVerifier.java:340)\n        at java.base/sun.security.util.SignatureFileVerifier.process(SignatureFileVerifier.java:282)\n        at java.base/java.util.jar.JarVerifier.processEntry(JarVerifier.java:321)\n        at java.base/java.util.jar.JarVerifier.update(JarVerifier.java:234)\n        at java.base/java.util.jar.JarFile.initializeVerifier(JarFile.java:762)\n        at java.base/java.util.jar.JarFile.ensureInitialization(JarFile.java:1033)\n        at java.base/java.util.jar.JavaUtilJarAccessImpl.ensureInitialization(JavaUtilJarAccessImpl.java:72)\n        at java.base/jdk.internal.loader.URLClassPath$JarLoader$2.getManifest(URLClassPath.java:883)\n        at java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:848)\n        at java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:760)\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:681)\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:639)\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n        at java.base/java.lang.Class.forName0(Native Method)\n        at java.base/java.lang.Class.forName(Class.java:467)\n        at java.base/sun.launcher.LauncherHelper.loadMainClass(LauncherHelper.java:780)\n        at java.base/sun.launcher.LauncherHelper.checkAndLoadMain(LauncherHelper.java:675)\n</code></pre>\n"},{"tags":["java","spring","configuration","boot","auto"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1689323467,"post_id":76685979,"comment_id":135200120,"body_markdown":"You are using incompatible versions of components. Spring Social is a dead project and hasn&#39;t been supported for a while any more in Spring Boot. That being said don&#39;t add code, stacktrace etc. as images as thos are unreadable and in this case requires a click. Post them as code. Also you have an error but haven&#39;t added your dependencies to the question.","body":"You are using incompatible versions of components. Spring Social is a dead project and hasn&#39;t been supported for a while any more in Spring Boot. That being said don&#39;t add code, stacktrace etc. as images as thos are unreadable and in this case requires a click. Post them as code. Also you have an error but haven&#39;t added your dependencies to the question."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1689353569,"post_id":76685979,"comment_id":135206623,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":22855962,"reputation":1,"user_id":17000832,"display_name":"Harija E"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689323224,"creation_date":1689323224,"question_id":76685979,"body_markdown":"please solve the issues in spring boot related\r\n\r\n[enter image description here](https://i.stack.imgur.com/xuHsi.png)\r\n\r\nl am added new dependency. spring boot upgrade 1.5.10 to 2.1.10 version\r\n\r\nclass path resource [org/springframework/boot/autoconfigure/social/SocialAutoConfigurerAdapter.class] cannot be opened because it does not exist.\r\n\r\nSpring boot is very easy to use and it does a lot of things under the hood, you might not be aware of. In future, a good developer will be who will know exactly what is going on behind spring boot auto configuration, how to use it in your favor and how to disable certain sections which you do not want into your project.","title":"class path resource [org/springframework/boot/autoconfigure/social/SocialAutoConfigurerAdapter.class] cannot be opened because it does not exist","body":"<p>please solve the issues in spring boot related</p>\n<p><a href=\"https://i.stack.imgur.com/xuHsi.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>l am added new dependency. spring boot upgrade 1.5.10 to 2.1.10 version</p>\n<p>class path resource [org/springframework/boot/autoconfigure/social/SocialAutoConfigurerAdapter.class] cannot be opened because it does not exist.</p>\n<p>Spring boot is very easy to use and it does a lot of things under the hood, you might not be aware of. In future, a good developer will be who will know exactly what is going on behind spring boot auto configuration, how to use it in your favor and how to disable certain sections which you do not want into your project.</p>\n"},{"tags":["java","rest-assured","assertion"],"comments":[{"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"score":0,"creation_date":1689301456,"post_id":76683689,"comment_id":135197382,"body_markdown":"It seems API is working incorrectly, pls ask rahulshettyacademy.","body":"It seems API is working incorrectly, pls ask rahulshettyacademy."},{"owner":{"account_id":29013311,"reputation":1,"user_id":22224322,"display_name":"aysha"},"score":0,"creation_date":1689423463,"post_id":76683689,"comment_id":135213240,"body_markdown":"Okay, so problem is with the API. Thanks for clarifying it.","body":"Okay, so problem is with the API. Thanks for clarifying it."}],"owner":{"account_id":29013311,"reputation":1,"user_id":22224322,"display_name":"aysha"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689323111,"creation_date":1689288204,"question_id":76683689,"body_markdown":"**I am trying to run this script to extract address information**.\r\n```\r\nimport io.restassured.RestAssured;\r\n\r\nimport io.restassured.matcher.ResponseAwareMatcher;\r\nimport io.restassured.path.json.JsonPath;\r\nimport io.restassured.response.Response;\r\n\r\nimport static io.restassured.RestAssured.*;\r\nimport static org.hamcrest.Matchers.*;\r\n\r\nimport org.testng.Assert;\r\n\r\nimport Files.Payload;\r\npublic class Basics {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n\r\n\t\tRestAssured.baseURI = &quot;https://rahulshettyacademy.com&quot;;\r\n\t\tString response=given().log().all().queryParam(&quot;key&quot;, &quot;qaclick123&quot;).header(&quot;Content-Type&quot;, &quot;application/json&quot;)\r\n\t\t.body(Payload.AddPlace()).when().post(&quot;maps/api/place/add/json&quot;)\r\n\t\t.then().assertThat().statusCode(200).body(&quot;scope&quot;,equalTo(&quot;APP&quot;))\r\n\t\t.header(&quot;Server&quot;, &quot;Apache/2.4.52 (Ubuntu)&quot;).extract().response().asString();\r\n\t\t\r\n\t\tSystem.out.println(response);\r\n\t\tJsonPath js=new JsonPath(response);//for parsing json\r\n\t\tString PlaceId = js.getString(&quot;place_id&quot;);\r\n\t\tSystem.out.println(PlaceId);\r\n\t\t\r\n\t\t//update place\r\n\t\tString newAddress = &quot;Summerwalk, Africa&quot;;\r\n\t\tgiven().log().all().queryParam(&quot;key&quot;, &quot;qaclik123&quot;).header(&quot;Content-Type&quot;, &quot;application/json&quot;)\r\n\t\t.body(&quot;{\\r\\n&quot;\r\n\t\t\t\t+ &quot;\\&quot;place_id\\&quot;:\\&quot;&quot;+PlaceId+&quot;\\&quot;,\\r\\n&quot;\r\n\t\t\t+ &quot;\\&quot;address\\&quot;:\\&quot;&quot;+newAddress+&quot;\\&quot;,\\r\\n&quot;\r\n\t\t\t\t+ &quot;\\&quot;key\\&quot;:\\&quot;qaclick123\\&quot;\\r\\n&quot;\r\n\t\t\t\t+ &quot;}&quot;).\r\n\t\twhen().put(&quot;maps/api/place/update/json&quot;).\r\n\t\tthen().assertThat().log().all().statusCode(200).body(&quot;msg&quot;, equalTo(&quot;Address successfully updated&quot;));\r\n\t\t\r\n\t\t//get place \r\n\t\tString getPlaceResponse= given().log().all().queryParam(&quot;key&quot;, &quot;qackick123&quot;)\r\n\t\t\t\t.queryParam(&quot;place_id&quot;, PlaceId)\r\n\t\t\t\t.when().get(&quot;maps/api/place/get/json&quot;)\r\n\t\t\t\t.then().assertThat().log().all().statusCode(200).extract().response().asString();\r\n\t\t\t\t\r\n\t\t\t\tJsonPath js1= new JsonPath(getPlaceResponse);\r\n\t\t\t\tString actualAddress = js1.getString(&quot;address&quot;);\r\n\t\t\t\tSystem.out.println(actualAddress);\r\n\t\t\r\n\t}\t\r\n\t\r\n}\r\n```\r\n\r\n**Result:**\r\n\r\n```\r\nRequest method:\tPOST\r\nRequest URI:\thttps://rahulshettyacademy.com/maps/api/place/add/json?key=qaclick123\r\nProxy:\t\t\t&lt;none&gt;\r\nRequest params:\t&lt;none&gt;\r\nQuery params:\tkey=qaclick123\r\nForm params:\t&lt;none&gt;\r\nPath params:\t&lt;none&gt;\r\nHeaders:\t\tAccept=*/*\r\n\t\t\t\tContent-Type=application/json\r\nCookies:\t\t&lt;none&gt;\r\nMultiparts:\t\t&lt;none&gt;\r\nBody:\r\n{\r\n    &quot;location&quot;: {\r\n        &quot;lat&quot;: -38.383494,\r\n        &quot;lng&quot;: 33.427362\r\n    },\r\n    &quot;accuracy&quot;: 50,\r\n    &quot;name&quot;: &quot;Frontline house&quot;,\r\n    &quot;phone_number&quot;: &quot;(+91) 983 893 3937&quot;,\r\n    &quot;address&quot;: &quot;29, side layout, cohen 09&quot;,\r\n    &quot;types&quot;: [\r\n        &quot;shoe park&quot;,\r\n        &quot;shop&quot;\r\n    ],\r\n    &quot;website&quot;: &quot;http://google.com&quot;,\r\n    &quot;language&quot;: &quot;French-IN&quot;\r\n}\r\n{&quot;status&quot;:&quot;OK&quot;,&quot;place_id&quot;:&quot;4a9c2d6cfdbe1736b0ea14ddf13a6c67&quot;,&quot;scope&quot;:&quot;APP&quot;,&quot;reference&quot;:&quot;5165d657949509007fa0e486a5d90f635165d657949509007fa0e486a5d90f63&quot;,&quot;id&quot;:&quot;5165d657949509007fa0e486a5d90f63&quot;}\r\n4a9c2d6cfdbe1736b0ea14ddf13a6c67\r\nRequest method:\tPUT\r\nRequest URI:\thttps://rahulshettyacademy.com/maps/api/place/update/json?key=qaclik123\r\nProxy:\t\t\t&lt;none&gt;\r\nRequest params:\t&lt;none&gt;\r\nQuery params:\tkey=qaclik123\r\nForm params:\t&lt;none&gt;\r\nPath params:\t&lt;none&gt;\r\nHeaders:\t\tAccept=*/*\r\n\t\t\t\tContent-Type=application/json\r\nCookies:\t\t&lt;none&gt;\r\nMultiparts:\t\t&lt;none&gt;\r\nBody:\r\n{\r\n    &quot;place_id&quot;: &quot;4a9c2d6cfdbe1736b0ea14ddf13a6c67&quot;,\r\n    &quot;address&quot;: &quot;Summerwalk, Africa&quot;,\r\n    &quot;key&quot;: &quot;qaclick123&quot;\r\n}\r\nHTTP/1.1 200 OK\r\nDate: Thu, 13 Jul 2023 21:26:43 GMT\r\nServer: Apache/2.4.52 (Ubuntu)\r\nAccess-Control-Allow-Origin: *\r\nAccess-Control-Allow-Methods: POST\r\nAccess-Control-Max-Age: 3600\r\nAccess-Control-Allow-Headers: Content-Type, Access-Control-Allow-Headers, Authorization, X-Requested-With\r\nContent-Length: 38\r\nKeep-Alive: timeout=5, max=100\r\nConnection: Keep-Alive\r\nContent-Type: application/json;charset=UTF-8\r\n\r\n{\r\n    &quot;msg&quot;: &quot;Address successfully updated&quot;\r\n}\r\nRequest method:\tGET\r\nRequest URI:\thttps://rahulshettyacademy.com/maps/api/place/get/json?key=qackick123&amp;place_id=4a9c2d6cfdbe1736b0ea14ddf13a6c67\r\nProxy:\t\t\t&lt;none&gt;\r\nRequest params:\t&lt;none&gt;\r\nQuery params:\tkey=qackick123\r\n\t\t\t\tplace_id=4a9c2d6cfdbe1736b0ea14ddf13a6c67\r\nForm params:\t&lt;none&gt;\r\nPath params:\t&lt;none&gt;\r\nHeaders:\t\tAccept=*/*\r\nCookies:\t\t&lt;none&gt;\r\nMultiparts:\t\t&lt;none&gt;\r\nBody:\t\t\t&lt;none&gt;\r\nHTTP/1.1 404 Not Found\r\nDate: Thu, 13 Jul 2023 21:26:44 GMT\r\nServer: Apache/2.4.52 (Ubuntu)\r\nAccess-Control-Allow-Origin: *\r\nAccess-Control-Allow-Methods: POST\r\nAccess-Control-Max-Age: 3600\r\nAccess-Control-Allow-Headers: Content-Type, Access-Control-Allow-Headers, Authorization, X-Requested-With\r\nContent-Length: 67\r\nKeep-Alive: timeout=5, max=100\r\nConnection: Keep-Alive\r\nContent-Type: application/json;charset=UTF-8\r\n\r\n{\r\n    &quot;msg&quot;: &quot;Get operation failed, looks like place_id  doesn&#39;t exists&quot;\r\n}\r\nException in thread &quot;main&quot; java.lang.AssertionError: 1 expectation failed.\r\nExpected status code &lt;200&gt; but was &lt;404&gt;.\r\n\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\r\n\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\r\n\tat org.codehaus.groovy.reflection.CachedConstructor.invoke(CachedConstructor.java:73)\r\n\tat org.codehaus.groovy.runtime.callsite.ConstructorSite$ConstructorSiteNoUnwrapNoCoerce.callConstructor(ConstructorSite.java:108)\r\n\tat org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCallConstructor(CallSiteArray.java:57)\r\n\tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.callConstructor(AbstractCallSite.java:263)\r\n\tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.callConstructor(AbstractCallSite.java:277)\r\n\tat io.restassured.internal.ResponseSpecificationImpl$HamcrestAssertionClosure.validate(ResponseSpecificationImpl.groovy:512)\r\n\tat io.restassured.internal.ResponseSpecificationImpl$HamcrestAssertionClosure$validate$1.call(Unknown Source)\r\n\tat io.restassured.internal.ResponseSpecificationImpl.validateResponseIfRequired(ResponseSpecificationImpl.groovy:696)\r\n\tat io.restassured.internal.ResponseSpecificationImpl.this$2$validateResponseIfRequired(ResponseSpecificationImpl.groovy)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.codehaus.groovy.runtime.callsite.PlainObjectMetaMethodSite.doInvoke(PlainObjectMetaMethodSite.java:43)\r\n\tat org.codehaus.groovy.runtime.callsite.PogoMetaMethodSite$PogoCachedMethodSiteNoUnwrapNoCoerce.invoke(PogoMetaMethodSite.java:198)\r\n\tat org.codehaus.groovy.runtime.callsite.PogoMetaMethodSite.callCurrent(PogoMetaMethodSite.java:62)\r\n\tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:185)\r\n\tat io.restassured.internal.ResponseSpecificationImpl.statusCode(ResponseSpecificationImpl.groovy:135)\r\n\tat io.restassured.specification.ResponseSpecification$statusCode$0.callCurrent(Unknown Source)\r\n\tat io.restassured.internal.ResponseSpecificationImpl.statusCode(ResponseSpecificationImpl.groovy:143)\r\n\tat io.restassured.internal.ValidatableResponseOptionsImpl.statusCode(ValidatableResponseOptionsImpl.java:89)\r\n\tat Basics.main(Basics.java:44)\r\n\r\n```\r\n\r\nThis code runs as expected till PUT method. But it shows error for GET method as follows:\r\n\r\n&gt; Exception in thread &quot;main&quot; java.lang.AssertionError: 1 expectation failed. Expected status code \\&lt;200&gt; but was \\&lt;404&gt;.\r\n \r\nWhen I remove the code for &quot;Get place&quot;, the code works fine.\r\n**Please help me to fix this error.**\r\n","title":"Getting Assertion Error in rest assured API","body":"<p><strong>I am trying to run this script to extract address information</strong>.</p>\n<pre><code>import io.restassured.RestAssured;\n\nimport io.restassured.matcher.ResponseAwareMatcher;\nimport io.restassured.path.json.JsonPath;\nimport io.restassured.response.Response;\n\nimport static io.restassured.RestAssured.*;\nimport static org.hamcrest.Matchers.*;\n\nimport org.testng.Assert;\n\nimport Files.Payload;\npublic class Basics {\n\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n\n        RestAssured.baseURI = &quot;https://rahulshettyacademy.com&quot;;\n        String response=given().log().all().queryParam(&quot;key&quot;, &quot;qaclick123&quot;).header(&quot;Content-Type&quot;, &quot;application/json&quot;)\n        .body(Payload.AddPlace()).when().post(&quot;maps/api/place/add/json&quot;)\n        .then().assertThat().statusCode(200).body(&quot;scope&quot;,equalTo(&quot;APP&quot;))\n        .header(&quot;Server&quot;, &quot;Apache/2.4.52 (Ubuntu)&quot;).extract().response().asString();\n        \n        System.out.println(response);\n        JsonPath js=new JsonPath(response);//for parsing json\n        String PlaceId = js.getString(&quot;place_id&quot;);\n        System.out.println(PlaceId);\n        \n        //update place\n        String newAddress = &quot;Summerwalk, Africa&quot;;\n        given().log().all().queryParam(&quot;key&quot;, &quot;qaclik123&quot;).header(&quot;Content-Type&quot;, &quot;application/json&quot;)\n        .body(&quot;{\\r\\n&quot;\n                + &quot;\\&quot;place_id\\&quot;:\\&quot;&quot;+PlaceId+&quot;\\&quot;,\\r\\n&quot;\n            + &quot;\\&quot;address\\&quot;:\\&quot;&quot;+newAddress+&quot;\\&quot;,\\r\\n&quot;\n                + &quot;\\&quot;key\\&quot;:\\&quot;qaclick123\\&quot;\\r\\n&quot;\n                + &quot;}&quot;).\n        when().put(&quot;maps/api/place/update/json&quot;).\n        then().assertThat().log().all().statusCode(200).body(&quot;msg&quot;, equalTo(&quot;Address successfully updated&quot;));\n        \n        //get place \n        String getPlaceResponse= given().log().all().queryParam(&quot;key&quot;, &quot;qackick123&quot;)\n                .queryParam(&quot;place_id&quot;, PlaceId)\n                .when().get(&quot;maps/api/place/get/json&quot;)\n                .then().assertThat().log().all().statusCode(200).extract().response().asString();\n                \n                JsonPath js1= new JsonPath(getPlaceResponse);\n                String actualAddress = js1.getString(&quot;address&quot;);\n                System.out.println(actualAddress);\n        \n    }   \n    \n}\n</code></pre>\n<p><strong>Result:</strong></p>\n<pre><code>Request method: POST\nRequest URI:    https://rahulshettyacademy.com/maps/api/place/add/json?key=qaclick123\nProxy:          &lt;none&gt;\nRequest params: &lt;none&gt;\nQuery params:   key=qaclick123\nForm params:    &lt;none&gt;\nPath params:    &lt;none&gt;\nHeaders:        Accept=*/*\n                Content-Type=application/json\nCookies:        &lt;none&gt;\nMultiparts:     &lt;none&gt;\nBody:\n{\n    &quot;location&quot;: {\n        &quot;lat&quot;: -38.383494,\n        &quot;lng&quot;: 33.427362\n    },\n    &quot;accuracy&quot;: 50,\n    &quot;name&quot;: &quot;Frontline house&quot;,\n    &quot;phone_number&quot;: &quot;(+91) 983 893 3937&quot;,\n    &quot;address&quot;: &quot;29, side layout, cohen 09&quot;,\n    &quot;types&quot;: [\n        &quot;shoe park&quot;,\n        &quot;shop&quot;\n    ],\n    &quot;website&quot;: &quot;http://google.com&quot;,\n    &quot;language&quot;: &quot;French-IN&quot;\n}\n{&quot;status&quot;:&quot;OK&quot;,&quot;place_id&quot;:&quot;4a9c2d6cfdbe1736b0ea14ddf13a6c67&quot;,&quot;scope&quot;:&quot;APP&quot;,&quot;reference&quot;:&quot;5165d657949509007fa0e486a5d90f635165d657949509007fa0e486a5d90f63&quot;,&quot;id&quot;:&quot;5165d657949509007fa0e486a5d90f63&quot;}\n4a9c2d6cfdbe1736b0ea14ddf13a6c67\nRequest method: PUT\nRequest URI:    https://rahulshettyacademy.com/maps/api/place/update/json?key=qaclik123\nProxy:          &lt;none&gt;\nRequest params: &lt;none&gt;\nQuery params:   key=qaclik123\nForm params:    &lt;none&gt;\nPath params:    &lt;none&gt;\nHeaders:        Accept=*/*\n                Content-Type=application/json\nCookies:        &lt;none&gt;\nMultiparts:     &lt;none&gt;\nBody:\n{\n    &quot;place_id&quot;: &quot;4a9c2d6cfdbe1736b0ea14ddf13a6c67&quot;,\n    &quot;address&quot;: &quot;Summerwalk, Africa&quot;,\n    &quot;key&quot;: &quot;qaclick123&quot;\n}\nHTTP/1.1 200 OK\nDate: Thu, 13 Jul 2023 21:26:43 GMT\nServer: Apache/2.4.52 (Ubuntu)\nAccess-Control-Allow-Origin: *\nAccess-Control-Allow-Methods: POST\nAccess-Control-Max-Age: 3600\nAccess-Control-Allow-Headers: Content-Type, Access-Control-Allow-Headers, Authorization, X-Requested-With\nContent-Length: 38\nKeep-Alive: timeout=5, max=100\nConnection: Keep-Alive\nContent-Type: application/json;charset=UTF-8\n\n{\n    &quot;msg&quot;: &quot;Address successfully updated&quot;\n}\nRequest method: GET\nRequest URI:    https://rahulshettyacademy.com/maps/api/place/get/json?key=qackick123&amp;place_id=4a9c2d6cfdbe1736b0ea14ddf13a6c67\nProxy:          &lt;none&gt;\nRequest params: &lt;none&gt;\nQuery params:   key=qackick123\n                place_id=4a9c2d6cfdbe1736b0ea14ddf13a6c67\nForm params:    &lt;none&gt;\nPath params:    &lt;none&gt;\nHeaders:        Accept=*/*\nCookies:        &lt;none&gt;\nMultiparts:     &lt;none&gt;\nBody:           &lt;none&gt;\nHTTP/1.1 404 Not Found\nDate: Thu, 13 Jul 2023 21:26:44 GMT\nServer: Apache/2.4.52 (Ubuntu)\nAccess-Control-Allow-Origin: *\nAccess-Control-Allow-Methods: POST\nAccess-Control-Max-Age: 3600\nAccess-Control-Allow-Headers: Content-Type, Access-Control-Allow-Headers, Authorization, X-Requested-With\nContent-Length: 67\nKeep-Alive: timeout=5, max=100\nConnection: Keep-Alive\nContent-Type: application/json;charset=UTF-8\n\n{\n    &quot;msg&quot;: &quot;Get operation failed, looks like place_id  doesn't exists&quot;\n}\nException in thread &quot;main&quot; java.lang.AssertionError: 1 expectation failed.\nExpected status code &lt;200&gt; but was &lt;404&gt;.\n\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480)\n    at org.codehaus.groovy.reflection.CachedConstructor.invoke(CachedConstructor.java:73)\n    at org.codehaus.groovy.runtime.callsite.ConstructorSite$ConstructorSiteNoUnwrapNoCoerce.callConstructor(ConstructorSite.java:108)\n    at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCallConstructor(CallSiteArray.java:57)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callConstructor(AbstractCallSite.java:263)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callConstructor(AbstractCallSite.java:277)\n    at io.restassured.internal.ResponseSpecificationImpl$HamcrestAssertionClosure.validate(ResponseSpecificationImpl.groovy:512)\n    at io.restassured.internal.ResponseSpecificationImpl$HamcrestAssertionClosure$validate$1.call(Unknown Source)\n    at io.restassured.internal.ResponseSpecificationImpl.validateResponseIfRequired(ResponseSpecificationImpl.groovy:696)\n    at io.restassured.internal.ResponseSpecificationImpl.this$2$validateResponseIfRequired(ResponseSpecificationImpl.groovy)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.codehaus.groovy.runtime.callsite.PlainObjectMetaMethodSite.doInvoke(PlainObjectMetaMethodSite.java:43)\n    at org.codehaus.groovy.runtime.callsite.PogoMetaMethodSite$PogoCachedMethodSiteNoUnwrapNoCoerce.invoke(PogoMetaMethodSite.java:198)\n    at org.codehaus.groovy.runtime.callsite.PogoMetaMethodSite.callCurrent(PogoMetaMethodSite.java:62)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:185)\n    at io.restassured.internal.ResponseSpecificationImpl.statusCode(ResponseSpecificationImpl.groovy:135)\n    at io.restassured.specification.ResponseSpecification$statusCode$0.callCurrent(Unknown Source)\n    at io.restassured.internal.ResponseSpecificationImpl.statusCode(ResponseSpecificationImpl.groovy:143)\n    at io.restassured.internal.ValidatableResponseOptionsImpl.statusCode(ValidatableResponseOptionsImpl.java:89)\n    at Basics.main(Basics.java:44)\n\n</code></pre>\n<p>This code runs as expected till PUT method. But it shows error for GET method as follows:</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.lang.AssertionError: 1 expectation failed. Expected status code &lt;200&gt; but was &lt;404&gt;.</p>\n</blockquote>\n<p>When I remove the code for &quot;Get place&quot;, the code works fine.\n<strong>Please help me to fix this error.</strong></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1689322586,"post_id":76685813,"comment_id":135199941,"body_markdown":"JSP doesn&#39;t magically allow you to include static resources. Those need to be packaged with the app and served along with the JSP files, probably using some static file servlet.","body":"JSP doesn&#39;t magically allow you to include static resources. Those need to be packaged with the app and served along with the JSP files, probably using some static file servlet."},{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":1,"creation_date":1689322946,"post_id":76685813,"comment_id":135200008,"body_markdown":"Does this answer your question? [Can&#39;t display images in JSP](https://stackoverflow.com/questions/9366430/cant-display-images-in-jsp)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/9366430/cant-display-images-in-jsp\">Can&#39;t display images in JSP</a>"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1689323812,"post_id":76685813,"comment_id":135200195,"body_markdown":"forward slash vs backwards slash?","body":"forward slash vs backwards slash?"},{"owner":{"account_id":28988496,"reputation":1,"user_id":22204839,"display_name":"Eustia"},"score":0,"creation_date":1689329443,"post_id":76685813,"comment_id":135201273,"body_markdown":"@seenukarthi First of all, thanks for answering. I don’t think it’s solved. It’s because the img is placed in the web-imf directory and it’s unrecognizable. The idea I put in the same directory runs fine, but it’s a problem after packaging and deploying.","body":"@seenukarthi First of all, thanks for answering. I don’t think it’s solved. It’s because the img is placed in the web-imf directory and it’s unrecognizable. The idea I put in the same directory runs fine, but it’s a problem after packaging and deploying."},{"owner":{"account_id":28988496,"reputation":1,"user_id":22204839,"display_name":"Eustia"},"score":0,"creation_date":1689329569,"post_id":76685813,"comment_id":135201300,"body_markdown":"@Jorn Thanks, I&#39;ll look into that soon","body":"@Jorn Thanks, I&#39;ll look into that soon"}],"owner":{"account_id":28988496,"reputation":1,"user_id":22204839,"display_name":"Eustia"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689322859,"creation_date":1689321814,"question_id":76685813,"body_markdown":"There is no problem running the project on my idea, and then I packaged it into a war file and tried to deploy it locally, but when I visited, I found that the picture could not be displayed. This is my project structure and running result\r\n[![enter image description here](https://i.stack.imgur.com/gHAgT.png)](https://i.stack.imgur.com/gHAgT.png)\r\n\r\n[![enter image description here](https://i.stack.imgur.com/BItqr.png)](https://i.stack.imgur.com/BItqr.png)\r\n\r\n```\r\n&lt;%@ taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot; %&gt;\r\n&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; isELIgnored=&quot;false&quot; %&gt;\r\n&lt;html&gt;\r\n&lt;head&gt;\r\n    &lt;title&gt;Title&lt;/title&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n    &lt;center&gt;\r\n        &lt;div style=&quot;border-radius: 30px;border: solid deepskyblue; width: 350px;&quot;&gt;\r\n        &lt;h3&gt;toy family&lt;/h3&gt;\r\n        &lt;form action=&quot;./ShowServlet&quot; method=&quot;post&quot;&gt;\r\n            toy name：&lt;input type=&quot;text&quot; name=&quot;key&quot;&gt;\r\n            &lt;button type=&quot;submit&quot;&gt;search&lt;/button&gt;&lt;br&gt;&lt;br&gt;\r\n            &lt;table border=&quot;1&quot;&gt;\r\n                &lt;tr&gt;\r\n                    &lt;td&gt;toy name&lt;/td&gt;\r\n                    &lt;td&gt;price&lt;/td&gt;\r\n                    &lt;td&gt;image&lt;/td&gt;\r\n                    &lt;td&gt;operate&lt;/td&gt;\r\n                &lt;/tr&gt;\r\n        &lt;c:set var=&quot;proList&quot; value=&quot;${requestScope.proList}&quot;/&gt;\r\n        &lt;c:forEach var=&quot;pl&quot; items=&quot;${proList}&quot;&gt;\r\n            &lt;tr&gt;\r\n                &lt;td&gt;${pl.PName}&lt;/td&gt;\r\n                &lt;td&gt;${pl.price}&lt;/td&gt;\r\n                &lt;td&gt;&lt;img src=&quot;\\img\\${pl.img}&quot; width=&quot;40&quot; height=&quot;40&quot; alt=&quot;&quot;&gt;&lt;/td&gt;\r\n                &lt;td&gt;&lt;a href=&#39;DelServlet?id=${pl.id}&#39;&gt;delete&lt;/a&gt;&lt;br&gt;&lt;a href=&#39;modify.jsp?id=${pl.id}&amp;PName=${pl.PName}&amp;price=${pl.price}&amp;filename=${pl.img}&#39;&gt;modify&lt;/a&gt;&lt;/td&gt;\r\n            &lt;/tr&gt;\r\n        &lt;/c:forEach&gt;\r\n        &lt;c:if test=&quot;${empty proList}&quot;&gt;\r\n            &lt;c:redirect url=&quot;/ShowServlet&quot;/&gt;\r\n        &lt;/c:if&gt;\r\n            &lt;/table&gt;\r\n        &lt;/form&gt;\r\n        &lt;a href=&quot;add.jsp&quot;&gt;add&lt;/a&gt;\r\n        &lt;a href=&quot;main.jsp&quot;&gt;return&lt;/a&gt;\r\n        &lt;/div&gt;\r\n    &lt;/center&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n\r\n```\r\n\r\n\r\nI tried to use the absolute path but it still can’t be displayed. I wonder if something is missing in the packaging process. I don’t know if the out directory is necessary.","title":"The jsp project deployment image cannot be loaded","body":"<p>There is no problem running the project on my idea, and then I packaged it into a war file and tried to deploy it locally, but when I visited, I found that the picture could not be displayed. This is my project structure and running result\n<a href=\"https://i.stack.imgur.com/gHAgT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gHAgT.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/BItqr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BItqr.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>&lt;%@ taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot; %&gt;\n&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; isELIgnored=&quot;false&quot; %&gt;\n&lt;html&gt;\n&lt;head&gt;\n    &lt;title&gt;Title&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;center&gt;\n        &lt;div style=&quot;border-radius: 30px;border: solid deepskyblue; width: 350px;&quot;&gt;\n        &lt;h3&gt;toy family&lt;/h3&gt;\n        &lt;form action=&quot;./ShowServlet&quot; method=&quot;post&quot;&gt;\n            toy name：&lt;input type=&quot;text&quot; name=&quot;key&quot;&gt;\n            &lt;button type=&quot;submit&quot;&gt;search&lt;/button&gt;&lt;br&gt;&lt;br&gt;\n            &lt;table border=&quot;1&quot;&gt;\n                &lt;tr&gt;\n                    &lt;td&gt;toy name&lt;/td&gt;\n                    &lt;td&gt;price&lt;/td&gt;\n                    &lt;td&gt;image&lt;/td&gt;\n                    &lt;td&gt;operate&lt;/td&gt;\n                &lt;/tr&gt;\n        &lt;c:set var=&quot;proList&quot; value=&quot;${requestScope.proList}&quot;/&gt;\n        &lt;c:forEach var=&quot;pl&quot; items=&quot;${proList}&quot;&gt;\n            &lt;tr&gt;\n                &lt;td&gt;${pl.PName}&lt;/td&gt;\n                &lt;td&gt;${pl.price}&lt;/td&gt;\n                &lt;td&gt;&lt;img src=&quot;\\img\\${pl.img}&quot; width=&quot;40&quot; height=&quot;40&quot; alt=&quot;&quot;&gt;&lt;/td&gt;\n                &lt;td&gt;&lt;a href='DelServlet?id=${pl.id}'&gt;delete&lt;/a&gt;&lt;br&gt;&lt;a href='modify.jsp?id=${pl.id}&amp;PName=${pl.PName}&amp;price=${pl.price}&amp;filename=${pl.img}'&gt;modify&lt;/a&gt;&lt;/td&gt;\n            &lt;/tr&gt;\n        &lt;/c:forEach&gt;\n        &lt;c:if test=&quot;${empty proList}&quot;&gt;\n            &lt;c:redirect url=&quot;/ShowServlet&quot;/&gt;\n        &lt;/c:if&gt;\n            &lt;/table&gt;\n        &lt;/form&gt;\n        &lt;a href=&quot;add.jsp&quot;&gt;add&lt;/a&gt;\n        &lt;a href=&quot;main.jsp&quot;&gt;return&lt;/a&gt;\n        &lt;/div&gt;\n    &lt;/center&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n\n</code></pre>\n<p>I tried to use the absolute path but it still can’t be displayed. I wonder if something is missing in the packaging process. I don’t know if the out directory is necessary.</p>\n"},{"tags":["java","visual-studio-code"],"comments":[{"owner":{"account_id":15396644,"reputation":25735,"user_id":11107541,"display_name":"starball"},"score":0,"creation_date":1688883591,"post_id":76646095,"comment_id":135132133,"body_markdown":"quite possibly related: https://stackoverflow.com/q/76641794/11107541 and https://stackoverflow.com/q/76631184/11107541. possibly even https://stackoverflow.com/q/76594445/11107541","body":"quite possibly related: <a href=\"https://stackoverflow.com/q/76641794/11107541\">stackoverflow.com/q/76641794/11107541</a> and <a href=\"https://stackoverflow.com/q/76631184/11107541\">stackoverflow.com/q/76631184/11107541</a>. possibly even <a href=\"https://stackoverflow.com/q/76594445/11107541\">stackoverflow.com/q/76594445/11107541</a>"},{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1688970738,"post_id":76646095,"comment_id":135140917,"body_markdown":"Had the same problem, I opened a [report](https://github.com/redhat-developer/vscode-java/issues/3191) that you can follow.","body":"Had the same problem, I opened a <a href=\"https://github.com/redhat-developer/vscode-java/issues/3191\" rel=\"nofollow noreferrer\">report</a> that you can follow."},{"owner":{"account_id":28979366,"reputation":1,"user_id":22197600,"display_name":"870SIRASIT RUENGSILAPAVILAI"},"score":0,"creation_date":1688997349,"post_id":76646095,"comment_id":135146722,"body_markdown":"oh thx. I hope we will found the solution soon.","body":"oh thx. I hope we will found the solution soon."},{"owner":{"account_id":15396644,"reputation":25735,"user_id":11107541,"display_name":"starball"},"score":0,"creation_date":1689227590,"post_id":76646095,"comment_id":135183985,"body_markdown":"Does this answer your question? [Why aren&#39;t suggestions working properly in new Java files with the Red Hat Java Language Support extension v1.20.0 with VS Code 1.80?](https://stackoverflow.com/questions/76668211/why-arent-suggestions-working-properly-in-new-java-files-with-the-red-hat-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/76668211/why-arent-suggestions-working-properly-in-new-java-files-with-the-red-hat-java\">Why aren&#39;t suggestions working properly in new Java files with the Red Hat Java Language Support extension v1.20.0 with VS Code 1.80?</a>"}],"answers":[{"tags":[],"owner":{"account_id":28979366,"reputation":1,"user_id":22197600,"display_name":"870SIRASIT RUENGSILAPAVILAI"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1689322649,"creation_date":1689322649,"answer_id":76685909,"question_id":76646095,"body_markdown":"BTW, today the Vscode have an update just update and it&#39;s fixing thx everyone","title":"My VScode intellisense not working in my java project","body":"<p>BTW, today the Vscode have an update just update and it's fixing thx everyone</p>\n"}],"owner":{"account_id":28979366,"reputation":1,"user_id":22197600,"display_name":"870SIRASIT RUENGSILAPAVILAI"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":209,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1689322649,"creation_date":1688882518,"question_id":76646095,"body_markdown":"For example When am create the new test.java file the intellisense only show up only 1 or 2 statement that I don&#39;t want really to use it. the temporary way to fix it I have to restart the Vscode then the test.java file will show all the suggest statement but if I create new file it will have the same problem. So is it have the way to fix it permanent. thankyou.\r\n\r\n\r\n\r\n\r\n# fixing my Vscode problem","title":"My VScode intellisense not working in my java project","body":"<p>For example When am create the new test.java file the intellisense only show up only 1 or 2 statement that I don't want really to use it. the temporary way to fix it I have to restart the Vscode then the test.java file will show all the suggest statement but if I create new file it will have the same problem. So is it have the way to fix it permanent. thankyou.</p>\n<h1>fixing my Vscode problem</h1>\n"},{"tags":["java","groovy","java-stream"],"comments":[{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":3,"creation_date":1445253925,"post_id":33212660,"comment_id":54230334,"body_markdown":"So, what happens if you call `collect(Collectors.toList())`, instead of `collect()`? I&#39;m not a groovy expert, but since you call collect() without argument, why would groovy call Stream.collect(), since that method expects a Collector as argument?","body":"So, what happens if you call <code>collect(Collectors.toList())</code>, instead of <code>collect()</code>? I&#39;m not a groovy expert, but since you call collect() without argument, why would groovy call Stream.collect(), since that method expects a Collector as argument?"},{"owner":{"account_id":4358,"reputation":168410,"user_id":6509,"display_name":"tim_yates"},"score":2,"creation_date":1445280415,"post_id":33212660,"comment_id":54247751,"body_markdown":"I agree with @JBNizet… If you call the groovy method, it&#39;s going to use the groovy method.  Try calling the Java 8 method?","body":"I agree with @JBNizet… If you call the groovy method, it&#39;s going to use the groovy method.  Try calling the Java 8 method?"},{"owner":{"account_id":410776,"reputation":579,"user_id":782818,"display_name":"Jerzyna"},"score":0,"creation_date":1445327257,"post_id":33212660,"comment_id":54265485,"body_markdown":"OK, after some more experimenting I&#39;ve found out what problem I had. In original experiment I wrote `collect{Collectors.toList()}` (note curly braces) which is of course not what it should be. Silly me.","body":"OK, after some more experimenting I&#39;ve found out what problem I had. In original experiment I wrote <code>collect{Collectors.toList()}</code> (note curly braces) which is of course not what it should be. Silly me."}],"answers":[{"tags":[],"owner":{"account_id":100664,"reputation":8069,"user_id":271236,"display_name":"jalopaba"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1445254877,"creation_date":1445254877,"answer_id":33213467,"question_id":33212660,"body_markdown":"Using [`Collectors.toList()`][1] you can get what you want to do:\r\n\r\n    import java.util.stream.*\r\n    \r\n    class Item {\r\n        final String name\r\n        \r\n        Item(name) {\r\n            this.name = name\r\n        }\r\n        \r\n        @Override\r\n        String toString() {\r\n            name\r\n        }\r\n    }\r\n    \r\n    def itemize(String name) {\r\n        Optional.of(new Item(name))\r\n    }\r\n    \r\n    \r\n    def finalCollection = [ &#39;some&#39;, &#39;items&#39;, &#39;really&#39;, &#39;not&#39;, &#39;important&#39; ].stream()\r\n            .map { itemize(it) } //map String to Optional&lt;Item&gt;\r\n            .flatMap { it.map(Stream.&amp;of).orElseGet(Stream.&amp;empty) } //convert to Stream&lt;Item&gt;\r\n            .collect (Collectors.toList()) \r\n    \r\n    assert &#39;java.util.ArrayList&#39; == finalCollection.class.name        \r\n    assert finalCollection.collect { it.name } == [&#39;some&#39;, &#39;items&#39;, &#39;really&#39;, &#39;not&#39;, &#39;important&#39;]\r\n\r\nAnyway, with groovy 2.4.5 the above is working also with\r\n\r\n    def finalCollection = [ &#39;some&#39;, &#39;items&#39;, &#39;really&#39;, &#39;not&#39;, &#39;important&#39; ].stream()\r\n            .map { itemize(it) } //map String to Optional&lt;Item&gt;\r\n            .flatMap { it.map(Stream.&amp;of).orElseGet(Stream.&amp;empty) } //convert to Stream&lt;Item&gt;\r\n            .collect()\r\n\r\nthat uses [groovy&#39;s collect][2]:\r\n\r\n&gt; transforming each item into a new value using Closure.IDENTITY as a\r\n&gt; transformer, basically returning a list of items copied from the\r\n&gt; original object.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#toList--\r\n  [2]: http://docs.groovy-lang.org/latest/html/api/org/codehaus/groovy/runtime/DefaultGroovyMethods.html#collect(java.lang.Object)","title":"How to call Java&#39;s Stream.collect() from groovy?","body":"<p>Using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#toList--\" rel=\"noreferrer\"><code>Collectors.toList()</code></a> you can get what you want to do:</p>\n\n<pre><code>import java.util.stream.*\n\nclass Item {\n    final String name\n\n    Item(name) {\n        this.name = name\n    }\n\n    @Override\n    String toString() {\n        name\n    }\n}\n\ndef itemize(String name) {\n    Optional.of(new Item(name))\n}\n\n\ndef finalCollection = [ 'some', 'items', 'really', 'not', 'important' ].stream()\n        .map { itemize(it) } //map String to Optional&lt;Item&gt;\n        .flatMap { it.map(Stream.&amp;of).orElseGet(Stream.&amp;empty) } //convert to Stream&lt;Item&gt;\n        .collect (Collectors.toList()) \n\nassert 'java.util.ArrayList' == finalCollection.class.name        \nassert finalCollection.collect { it.name } == ['some', 'items', 'really', 'not', 'important']\n</code></pre>\n\n<p>Anyway, with groovy 2.4.5 the above is working also with</p>\n\n<pre><code>def finalCollection = [ 'some', 'items', 'really', 'not', 'important' ].stream()\n        .map { itemize(it) } //map String to Optional&lt;Item&gt;\n        .flatMap { it.map(Stream.&amp;of).orElseGet(Stream.&amp;empty) } //convert to Stream&lt;Item&gt;\n        .collect()\n</code></pre>\n\n<p>that uses <a href=\"http://docs.groovy-lang.org/latest/html/api/org/codehaus/groovy/runtime/DefaultGroovyMethods.html#collect(java.lang.Object)\" rel=\"noreferrer\">groovy's collect</a>:</p>\n\n<blockquote>\n  <p>transforming each item into a new value using Closure.IDENTITY as a\n  transformer, basically returning a list of items copied from the\n  original object.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":10807011,"reputation":2216,"user_id":15016163,"display_name":"Maicon Mauricio"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660321142,"creation_date":1660321142,"answer_id":73337074,"question_id":33212660,"body_markdown":"Groovy 2.5.0 and above adds [`toList`][1] and [`toSet`][2] methods as [enhancements to Stream][3]. No need to use  `Collectors.toList()` anymore.\r\n\r\n    def finalCollection = [ &#39;some&#39;, &#39;items&#39;, &#39;really&#39;, &#39;not&#39;, &#39;important&#39; ].stream()\r\n            .map { it }\r\n            .flatMap { it.map(Stream.&amp;of).orElseGet(Stream.&amp;empty) }\r\n            .toList()\r\n\r\n\r\n  [1]: https://docs.groovy-lang.org/latest/html/groovy-jdk/java/util/stream/Stream.html#toList()\r\n  [2]: https://docs.groovy-lang.org/latest/html/groovy-jdk/java/util/stream/Stream.html#toSet()\r\n  [3]: https://docs.groovy-lang.org/latest/html/groovy-jdk/java/util/stream/Stream.html","title":"How to call Java&#39;s Stream.collect() from groovy?","body":"<p>Groovy 2.5.0 and above adds <a href=\"https://docs.groovy-lang.org/latest/html/groovy-jdk/java/util/stream/Stream.html#toList()\" rel=\"nofollow noreferrer\"><code>toList</code></a> and <a href=\"https://docs.groovy-lang.org/latest/html/groovy-jdk/java/util/stream/Stream.html#toSet()\" rel=\"nofollow noreferrer\"><code>toSet</code></a> methods as <a href=\"https://docs.groovy-lang.org/latest/html/groovy-jdk/java/util/stream/Stream.html\" rel=\"nofollow noreferrer\">enhancements to Stream</a>. No need to use  <code>Collectors.toList()</code> anymore.</p>\n<pre><code>def finalCollection = [ 'some', 'items', 'really', 'not', 'important' ].stream()\n        .map { it }\n        .flatMap { it.map(Stream.&amp;of).orElseGet(Stream.&amp;empty) }\n        .toList()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9479950,"reputation":21,"user_id":7048209,"display_name":"Vincent Thoul&#233;"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1689322500,"creation_date":1689091385,"answer_id":76663845,"question_id":33212660,"body_markdown":"On my side, I found a solution to use Java Stream, Collectors in Groovy Scripts.\r\n\r\nBy casting the parameter of collect. It forces the usage of `Stream.collect()` instead of Groovy&#39;s collect()\r\n\r\n``` lang-java\r\nimport java.util.stream.Collector\r\nimport java.util.stream.Collectors;\r\n//...\r\nList&lt;String&gt; stringsAsList = [&quot;aa&quot;,&quot;bbb&quot;];\r\nreturn stringsAsList.stream().collect((Collector)Collectors.joining(&quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;));\r\n```","title":"How to call Java&#39;s Stream.collect() from groovy?","body":"<p>On my side, I found a solution to use Java Stream, Collectors in Groovy Scripts.</p>\n<p>By casting the parameter of collect. It forces the usage of <code>Stream.collect()</code> instead of Groovy's collect()</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.stream.Collector\nimport java.util.stream.Collectors;\n//...\nList&lt;String&gt; stringsAsList = [&quot;aa&quot;,&quot;bbb&quot;];\nreturn stringsAsList.stream().collect((Collector)Collectors.joining(&quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;));\n</code></pre>\n"}],"owner":{"account_id":410776,"reputation":579,"user_id":782818,"display_name":"Jerzyna"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31115,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":33213467,"answer_count":3,"score":11,"last_activity_date":1689322500,"creation_date":1445252344,"question_id":33212660,"body_markdown":"Having some background with FP from Scala I really don&#39;t like Groovy&#39;s names for collections methods. Given that and some architectural choices made above, I found using a Java 8 streams API (plus java.util.Optional) in Groovy code an appealing solution.\r\n\r\nUntil I hit this:\r\n\r\n    def finalCollection = [ &#39;some&#39;, &#39;items&#39;, &#39;really&#39;, &#39;not&#39;, &#39;important&#39; ].stream()\r\n            .map { aMethodReturningOptional(it) } //map String to Optional&lt;Item&gt;\r\n            .flatMap { it.map(Stream.&amp;of).orElseGet(Stream.&amp;empty) } //convert to Stream&lt;Item&gt;\r\n            .collect() //Groovy&#39;s collect, not stream&#39;s!\r\n\r\nNote it works only in Groovy 2+ - [treating closure as lambda][1].\r\nWhat bothers me is the last line of the example code. Groovy translates the call to the `DefaultGroovyMethods.collect()` instead of `Stream.collect()` that I originally wanted to use. Of course then the last line would be:\r\n\r\n            .collect(Collectors.toList()) //Should call Java collect, but it doesn&#39;t\r\n\r\nIt seems counter-intuitive to me, that some extension method is called instead of native, &#39;built-in&#39; method of the class.\r\n\r\nHow can I rewrite the example so the `Stream.collect()` method would be called?\r\n\r\n**UPDATE**: After some more fiddling, I&#39;ve found out what problem I had originally. I wrote `.collect{Collectors.toList()}` (note curly braces), which of course called Groovy method, not Java. Note to self: remember to quadruple-check before posting...\r\n\r\n  [1]: http://mrhaki.blogspot.com/2015/04/groovy-goodness-use-closures-as-java.html","title":"How to call Java&#39;s Stream.collect() from groovy?","body":"<p>Having some background with FP from Scala I really don't like Groovy's names for collections methods. Given that and some architectural choices made above, I found using a Java 8 streams API (plus java.util.Optional) in Groovy code an appealing solution.</p>\n\n<p>Until I hit this:</p>\n\n<pre><code>def finalCollection = [ 'some', 'items', 'really', 'not', 'important' ].stream()\n        .map { aMethodReturningOptional(it) } //map String to Optional&lt;Item&gt;\n        .flatMap { it.map(Stream.&amp;of).orElseGet(Stream.&amp;empty) } //convert to Stream&lt;Item&gt;\n        .collect() //Groovy's collect, not stream's!\n</code></pre>\n\n<p>Note it works only in Groovy 2+ - <a href=\"http://mrhaki.blogspot.com/2015/04/groovy-goodness-use-closures-as-java.html\" rel=\"noreferrer\">treating closure as lambda</a>.\nWhat bothers me is the last line of the example code. Groovy translates the call to the <code>DefaultGroovyMethods.collect()</code> instead of <code>Stream.collect()</code> that I originally wanted to use. Of course then the last line would be:</p>\n\n<pre><code>        .collect(Collectors.toList()) //Should call Java collect, but it doesn't\n</code></pre>\n\n<p>It seems counter-intuitive to me, that some extension method is called instead of native, 'built-in' method of the class.</p>\n\n<p>How can I rewrite the example so the <code>Stream.collect()</code> method would be called?</p>\n\n<p><strong>UPDATE</strong>: After some more fiddling, I've found out what problem I had originally. I wrote <code>.collect{Collectors.toList()}</code> (note curly braces), which of course called Groovy method, not Java. Note to self: remember to quadruple-check before posting...</p>\n"},{"tags":["c#","java",".net","jboss","drools"],"answers":[{"tags":[],"owner":{"account_id":148536,"reputation":461,"user_id":360382,"display_name":"Jon Malcolm"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1399452751,"creation_date":1399452751,"answer_id":23513116,"question_id":23512915,"body_markdown":"A quick google search found this - http://droolsdotnet.codehaus.org/, the key bit here seems to be:\r\n\r\n&gt; Drools.NET is a Business Rules Engine (BRE) based on Charles Forgy&#39;s Rete algorithm.     Developers can now exploit a powerful Rule Engine through a completely managed .NET code base! Drools.NET is based on Jboss Rules, and comes with all the features of that Rules Engine. \r\n\r\nSo I would guess this might be what you are after from the point of view of using any existing rules and definitions - I&#39;m assuming you&#39;ll be rewriting the code itself regardless.\r\n","title":"Can we use JAVA based drools rules in .NET","body":"<p>A quick google search found this - <a href=\"http://droolsdotnet.codehaus.org/\" rel=\"nofollow\">http://droolsdotnet.codehaus.org/</a>, the key bit here seems to be:</p>\n\n<blockquote>\n  <p>Drools.NET is a Business Rules Engine (BRE) based on Charles Forgy's Rete algorithm.     Developers can now exploit a powerful Rule Engine through a completely managed .NET code base! Drools.NET is based on Jboss Rules, and comes with all the features of that Rules Engine. </p>\n</blockquote>\n\n<p>So I would guess this might be what you are after from the point of view of using any existing rules and definitions - I'm assuming you'll be rewriting the code itself regardless.</p>\n"},{"tags":[],"owner":{"account_id":169636,"reputation":9320,"user_id":395821,"accept_rate":62,"display_name":"Steve"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1399456492,"creation_date":1399456492,"answer_id":23514481,"question_id":23512915,"body_markdown":"Drools is a Java application, and there is no port that would enable you to re-use DRL in a .NET application.\r\n\r\nIf you want to re-use your knowledge base, then you should expose it as a web service and call that from your .NET application.","title":"Can we use JAVA based drools rules in .NET","body":"<p>Drools is a Java application, and there is no port that would enable you to re-use DRL in a .NET application.</p>\n\n<p>If you want to re-use your knowledge base, then you should expose it as a web service and call that from your .NET application.</p>\n"}],"owner":{"account_id":1968493,"reputation":1136,"user_id":1768107,"accept_rate":44,"display_name":"Prasanth V J"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3369,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1689321979,"creation_date":1399452161,"question_id":23512915,"body_markdown":"I have a JAVA application which using drools rules.I need create a similar application in .NET.\r\nCan i use same drools rule file in  .NET application?.\r\nIf it need to be converted ,Is there any automated way to achieve it?","title":"Can we use JAVA based drools rules in .NET","body":"<p>I have a JAVA application which using drools rules.I need create a similar application in .NET.\nCan i use same drools rule file in  .NET application?.\nIf it need to be converted ,Is there any automated way to achieve it?</p>\n"},{"tags":["java","grpc-java","appium-java"],"comments":[{"owner":{"account_id":14947494,"reputation":506,"user_id":10792320,"display_name":"San P"},"score":1,"creation_date":1689280820,"post_id":76676879,"comment_id":135195384,"body_markdown":"Couple of things:\n\n - can you use the latest gRPC version (1.56.1)? \n - if it still fails with the grpc latest version, try using the maven enforcer plugin https://maven.apache.org/enforcer/enforcer-rules/requireUpperBoundDeps.html to make sure the build is using the latest required version for Guava. And if the enforced flags an error explicitly depend on that guava version. Hope that works","body":"Couple of things:   - can you use the latest gRPC version (1.56.1)?   - if it still fails with the grpc latest version, try using the maven enforcer plugin <a href=\"https://maven.apache.org/enforcer/enforcer-rules/requireUpperBoundDeps.html\" rel=\"nofollow noreferrer\">maven.apache.org/enforcer/enforcer-rules/&hellip;</a> to make sure the build is using the latest required version for Guava. And if the enforced flags an error explicitly depend on that guava version. Hope that works"},{"owner":{"account_id":26738703,"reputation":91,"user_id":20339845,"display_name":"jon_17z"},"score":0,"creation_date":1689321572,"post_id":76676879,"comment_id":135199754,"body_markdown":"Thankyou I already try it but it&#39;s still generate same error","body":"Thankyou I already try it but it&#39;s still generate same error"}],"answers":[{"tags":[],"owner":{"account_id":26738703,"reputation":91,"user_id":20339845,"display_name":"jon_17z"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689321799,"creation_date":1689321799,"answer_id":76685808,"question_id":76676879,"body_markdown":"After add guava dependency (not the latest version), the error is resolved. \r\n\r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n       &lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n       &lt;version&gt;31.1-jre&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nThankyou to @San P for giving advice.","title":"Java io.appium clashes with io.grpc","body":"<p>After add guava dependency (not the latest version), the error is resolved.</p>\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n   &lt;artifactId&gt;guava&lt;/artifactId&gt;\n   &lt;version&gt;31.1-jre&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Thankyou to @San P for giving advice.</p>\n"}],"owner":{"account_id":26738703,"reputation":91,"user_id":20339845,"display_name":"jon_17z"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689321799,"creation_date":1689233045,"question_id":76676879,"body_markdown":"I&#39;m create some java 11 program (use maven) which using Appium for android testing and gRPC to communicate with other device.\r\n\r\nAppium Dependency\r\n\r\n```\r\n&lt;!-- https://mvnrepository.com/artifact/io.appium/java-client --&gt;\r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;io.appium&lt;/groupId&gt;\r\n   &lt;artifactId&gt;java-client&lt;/artifactId&gt;\r\n   &lt;version&gt;8.3.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\ngRPC Dependency\r\n\r\n```\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;io.grpc&lt;/groupId&gt;\r\n  &lt;artifactId&gt;grpc-netty-shaded&lt;/artifactId&gt;\r\n  &lt;version&gt;1.53.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;io.grpc&lt;/groupId&gt;\r\n  &lt;artifactId&gt;grpc-protobuf&lt;/artifactId&gt;\r\n  &lt;version&gt;1.53.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;io.grpc&lt;/groupId&gt;\r\n  &lt;artifactId&gt;grpc-stub&lt;/artifactId&gt;\r\n  &lt;version&gt;1.53.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n\r\nWhen I run the program, I got error\r\n\r\n```\r\nWarning: [org.testng.ITest] implementation on class [com.framework.DynamicTest] returned null. Defaulting to method name\r\njava.lang.NoSuchMethodError: com.google.common.collect.ImmutableMap.toImmutableMap(Ljava/util/function/Function;Ljava/util/function/Function;)Ljava/util/stream/Collector;\r\n\tat io.appium.java_client.remote.AppiumNewSessionCommandPayload.makeW3CSafe(AppiumNewSessionCommandPayload.java:40)\r\n\tat io.appium.java_client.remote.AppiumNewSessionCommandPayload.&lt;init&gt;(AppiumNewSessionCommandPayload.java:54)\r\n\tat io.appium.java_client.AppiumDriver.startSession(AppiumDriver.java:229)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:157)\r\n\tat io.appium.java_client.AppiumDriver.&lt;init&gt;(AppiumDriver.java:80)\r\n\tat io.appium.java_client.AppiumDriver.&lt;init&gt;(AppiumDriver.java:92)\r\n\tat io.appium.java_client.android.AndroidDriver.&lt;init&gt;(AndroidDriver.java:117)\r\n```\r\n\r\nThe error occurs when I hit this line\r\n\r\n```\r\nmobileDriver = new AndroidDriver(new URL(strURL), capabilities);\r\n```\r\n\r\n\r\nIt&#39;s look like the AndroidDriver not detected. But when I remove gRPC dependency, it&#39;s work.\r\n\r\n\r\n\r\nIs there a possible solution to using io.appium together with io.grpc?","title":"Java io.appium clashes with io.grpc","body":"<p>I'm create some java 11 program (use maven) which using Appium for android testing and gRPC to communicate with other device.</p>\n<p>Appium Dependency</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/io.appium/java-client --&gt;\n&lt;dependency&gt;\n   &lt;groupId&gt;io.appium&lt;/groupId&gt;\n   &lt;artifactId&gt;java-client&lt;/artifactId&gt;\n   &lt;version&gt;8.3.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>gRPC Dependency</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;io.grpc&lt;/groupId&gt;\n  &lt;artifactId&gt;grpc-netty-shaded&lt;/artifactId&gt;\n  &lt;version&gt;1.53.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;io.grpc&lt;/groupId&gt;\n  &lt;artifactId&gt;grpc-protobuf&lt;/artifactId&gt;\n  &lt;version&gt;1.53.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;io.grpc&lt;/groupId&gt;\n  &lt;artifactId&gt;grpc-stub&lt;/artifactId&gt;\n  &lt;version&gt;1.53.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>When I run the program, I got error</p>\n<pre><code>Warning: [org.testng.ITest] implementation on class [com.framework.DynamicTest] returned null. Defaulting to method name\njava.lang.NoSuchMethodError: com.google.common.collect.ImmutableMap.toImmutableMap(Ljava/util/function/Function;Ljava/util/function/Function;)Ljava/util/stream/Collector;\n    at io.appium.java_client.remote.AppiumNewSessionCommandPayload.makeW3CSafe(AppiumNewSessionCommandPayload.java:40)\n    at io.appium.java_client.remote.AppiumNewSessionCommandPayload.&lt;init&gt;(AppiumNewSessionCommandPayload.java:54)\n    at io.appium.java_client.AppiumDriver.startSession(AppiumDriver.java:229)\n    at org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:157)\n    at io.appium.java_client.AppiumDriver.&lt;init&gt;(AppiumDriver.java:80)\n    at io.appium.java_client.AppiumDriver.&lt;init&gt;(AppiumDriver.java:92)\n    at io.appium.java_client.android.AndroidDriver.&lt;init&gt;(AndroidDriver.java:117)\n</code></pre>\n<p>The error occurs when I hit this line</p>\n<pre><code>mobileDriver = new AndroidDriver(new URL(strURL), capabilities);\n</code></pre>\n<p>It's look like the AndroidDriver not detected. But when I remove gRPC dependency, it's work.</p>\n<p>Is there a possible solution to using io.appium together with io.grpc?</p>\n"},{"tags":["java","google-cloud-dataflow","apache-beam","google-cloud-pubsub"],"comments":[{"owner":{"account_id":24454036,"reputation":21,"user_id":18375879,"display_name":"phani geeth"},"score":0,"creation_date":1689597930,"post_id":76681800,"comment_id":135231657,"body_markdown":"It worked in dataflow displaying number of records read from pubsub for every 5 min period. Thanks @Jan Lukavsky","body":"It worked in dataflow displaying number of records read from pubsub for every 5 min period. Thanks @Jan Lukavsky"}],"answers":[{"tags":[],"owner":{"account_id":14694537,"reputation":131,"user_id":10612266,"display_name":"Jan Lukavsky"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689321719,"creation_date":1689321719,"answer_id":76685799,"question_id":76681800,"body_markdown":"Apache Beam uses the concept of *[event time][1]* to ensure consistent computation results on unordered streams. Because every distributed data stream is necessarily unordered there needs to be a way synchronize different workers processing the data. Apache Beam uses for this purpose a *[watermark][2]*, which is a periodically generated marker that flows from sources and propagates though all PTransforms in the Pipeline. The lag you notice is therefore related exactly to the delay between data is processed and when watermark which marks end-of-window arrives.\r\n\r\nWatermarks are most often generated on sources (PubsubIO.Read in your case) by some heuristic. These heuristics tend to produce higher latency for low-volume streams, so you might try to experiment with the volume of data you write to you Pubsub topic.\r\n\r\nLast but not least the lag depends on a runner you choose to run your Pipeline. In the example above I suppose you use DirectRunner, which is mostly used for testing and is not optimized for performance. You can try different runners and see how your outputs change.\r\n\r\n\r\n  [1]: https://beam.apache.org/documentation/programming-guide/#event-time-triggers\r\n  [2]: https://beam.apache.org/documentation/programming-guide/#watermarks-and-late-data","title":"Count incoming unbouned messages from pubsub using apache beam java","body":"<p>Apache Beam uses the concept of <em><a href=\"https://beam.apache.org/documentation/programming-guide/#event-time-triggers\" rel=\"nofollow noreferrer\">event time</a></em> to ensure consistent computation results on unordered streams. Because every distributed data stream is necessarily unordered there needs to be a way synchronize different workers processing the data. Apache Beam uses for this purpose a <em><a href=\"https://beam.apache.org/documentation/programming-guide/#watermarks-and-late-data\" rel=\"nofollow noreferrer\">watermark</a></em>, which is a periodically generated marker that flows from sources and propagates though all PTransforms in the Pipeline. The lag you notice is therefore related exactly to the delay between data is processed and when watermark which marks end-of-window arrives.</p>\n<p>Watermarks are most often generated on sources (PubsubIO.Read in your case) by some heuristic. These heuristics tend to produce higher latency for low-volume streams, so you might try to experiment with the volume of data you write to you Pubsub topic.</p>\n<p>Last but not least the lag depends on a runner you choose to run your Pipeline. In the example above I suppose you use DirectRunner, which is mostly used for testing and is not optimized for performance. You can try different runners and see how your outputs change.</p>\n"}],"owner":{"account_id":24454036,"reputation":21,"user_id":18375879,"display_name":"phani geeth"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689321719,"creation_date":1689268082,"question_id":76681800,"body_markdown":"My requirment is to count incoming records from pubsub for every 5min period in apache beam pipeline using java sdk\r\n\r\n\r\n\r\n```\r\nclass Display extends DoFn&lt;Long,String&gt;\r\n{\r\n@ProcessElement\r\npublic void process(ProcessContext c)\r\n{\r\nSystem.out.println(c.element());\r\n}\r\n}\r\npublic class CustomMetrics\r\n{\r\npublic static void main(String args[])\r\n{\r\nPipelineOptions options = PipelineFactory.create();\r\nPipleine pipeline= Pipeline.create(options);\r\n\r\npipeline.apply(PubsubIO.readStrings().fromSubscription(&quot;PubSub Subscription&quot;))\r\n.apply(Window.&lt;String&gt;into(FixedWindows.of(Duration.standardMinutes(5))).triggering(DefaultTrigger.of()))\r\n.apply(Combine.globally(Count.&lt;String&gt;combineFn()).withoutDefaults())\r\n.apply(ParDo.of(new Display()));\r\n\r\npipeline.run().waitUntilFinish();\r\n}\r\n}\r\n```\r\n\r\nAble to count the incoming records but the number is not displayed immediatley its populated randomly after some time.\r\n\r\nIs there any other way to count the incoming unbouneded records using Apache Beam pipleine.","title":"Count incoming unbouned messages from pubsub using apache beam java","body":"<p>My requirment is to count incoming records from pubsub for every 5min period in apache beam pipeline using java sdk</p>\n<pre><code>class Display extends DoFn&lt;Long,String&gt;\n{\n@ProcessElement\npublic void process(ProcessContext c)\n{\nSystem.out.println(c.element());\n}\n}\npublic class CustomMetrics\n{\npublic static void main(String args[])\n{\nPipelineOptions options = PipelineFactory.create();\nPipleine pipeline= Pipeline.create(options);\n\npipeline.apply(PubsubIO.readStrings().fromSubscription(&quot;PubSub Subscription&quot;))\n.apply(Window.&lt;String&gt;into(FixedWindows.of(Duration.standardMinutes(5))).triggering(DefaultTrigger.of()))\n.apply(Combine.globally(Count.&lt;String&gt;combineFn()).withoutDefaults())\n.apply(ParDo.of(new Display()));\n\npipeline.run().waitUntilFinish();\n}\n}\n</code></pre>\n<p>Able to count the incoming records but the number is not displayed immediatley its populated randomly after some time.</p>\n<p>Is there any other way to count the incoming unbouneded records using Apache Beam pipleine.</p>\n"},{"tags":["java","spring-boot","intellij-idea","backend","coder"],"owner":{"account_id":25530390,"reputation":1,"user_id":19318533,"display_name":"Khanh Duy Nguyen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1689323553,"answer_count":0,"score":0,"last_activity_date":1689321670,"creation_date":1689321670,"question_id":76685792,"body_markdown":"when I run those codes below , I see an error:\r\nCaused by: Removing a detached instance ...\r\n\r\n```\r\n// in SinhVienDAOIlpm.java\r\n@Override\r\n    public SinhVien getById(int id) {\r\n        return this.entityManager.find(SinhVien.class, id);\r\n    }\r\n@Override\r\n    public void deleteStudent(SinhVien sv) {\r\n        this.entityManager.remove(sv);\r\n    }\r\n\r\n// in main.java\r\nprivate void deleteByID(SinhVienDAOImpl sinhVienDAOImpl) {\r\n    Scanner scanner = new Scanner(System.in);\r\n    System.out.println(&quot;Enter Student&#39;s Id: &quot;);\r\n    int id = scanner.nextInt();\r\n    scanner.nextLine();\r\n    SinhVien sinhVien = sinhVienDAOImpl.getById(id);\r\n    if (sinhVien==null) System.out.println(&quot;Can&#39;t find !!!&quot;);\r\n    else {\r\n        sinhVienDAOImpl.deleteStudent(sinhVien);\r\n        System.out.println(&quot;Deleted!!!&quot;);\r\n    }\r\n}\r\n```\r\nwhen I change entityManager.find to entityManager.getReference , it work good\r\nbut i want to know clearly about the problem when I use entityManager.find\r\n\r\nI hope to see the best explain ^^","title":"different find and getReference in entityManager","body":"<p>when I run those codes below , I see an error:\nCaused by: Removing a detached instance ...</p>\n<pre><code>// in SinhVienDAOIlpm.java\n@Override\n    public SinhVien getById(int id) {\n        return this.entityManager.find(SinhVien.class, id);\n    }\n@Override\n    public void deleteStudent(SinhVien sv) {\n        this.entityManager.remove(sv);\n    }\n\n// in main.java\nprivate void deleteByID(SinhVienDAOImpl sinhVienDAOImpl) {\n    Scanner scanner = new Scanner(System.in);\n    System.out.println(&quot;Enter Student's Id: &quot;);\n    int id = scanner.nextInt();\n    scanner.nextLine();\n    SinhVien sinhVien = sinhVienDAOImpl.getById(id);\n    if (sinhVien==null) System.out.println(&quot;Can't find !!!&quot;);\n    else {\n        sinhVienDAOImpl.deleteStudent(sinhVien);\n        System.out.println(&quot;Deleted!!!&quot;);\n    }\n}\n</code></pre>\n<p>when I change entityManager.find to entityManager.getReference , it work good\nbut i want to know clearly about the problem when I use entityManager.find</p>\n<p>I hope to see the best explain ^^</p>\n"},{"tags":["java","android","wifi"],"comments":[{"owner":{"account_id":5523754,"reputation":19812,"user_id":4385913,"accept_rate":93,"display_name":"Skizo-ozᴉʞS ツ"},"score":1,"creation_date":1550432328,"post_id":54736828,"comment_id":96256281,"body_markdown":"Could you test with the GPS on please?","body":"Could you test with the GPS on please?"}],"answers":[{"tags":[],"owner":{"account_id":5523754,"reputation":19812,"user_id":4385913,"accept_rate":93,"display_name":"Skizo-ozᴉʞS ツ"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1679928892,"creation_date":1550432856,"answer_id":54736996,"question_id":54736828,"body_markdown":"Have you tried to check if `getSupplicantState()` is `COMPLETED`?\r\n\r\n    if(wifiInfo.getSupplicantState() == SupplicantState.COMPLETED){\r\n        String ssid = wifiInfo.getSSID();\r\n        wifiSSID.setText(ssid);\r\n    }\r\n\r\nAlso, have you asked for this before running the `BroadcastReceiver` or even inside you can do it: \r\n\r\n    if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\r\n        ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.ACCESS_FINE_LOCATION}, LOCATION);\r\n    } else {\r\n        setWifiIndicator();\r\n    }","title":"WiFi getSSID() always returns &quot;&lt;unknown ssid&gt;&quot;","body":"<p>Have you tried to check if <code>getSupplicantState()</code> is <code>COMPLETED</code>?</p>\n<pre><code>if(wifiInfo.getSupplicantState() == SupplicantState.COMPLETED){\n    String ssid = wifiInfo.getSSID();\n    wifiSSID.setText(ssid);\n}\n</code></pre>\n<p>Also, have you asked for this before running the <code>BroadcastReceiver</code> or even inside you can do it:</p>\n<pre><code>if (ActivityCompat.checkSelfPermission(this, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\n    ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.ACCESS_FINE_LOCATION}, LOCATION);\n} else {\n    setWifiIndicator();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6210851,"reputation":8700,"user_id":4837177,"display_name":"Gladis Wilson"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1575981077,"creation_date":1575980508,"answer_id":59267125,"question_id":54736828,"body_markdown":"Wi-Fi Permissions\r\n\r\nAndroid 8.0 and Android 8.1:\r\n\r\nA successful call to WifiManager.getScanResults() requires any one of the following permissions:\r\n\r\n•\tACCESS_FINE_LOCATION\r\n•\tACCESS_COARSE_LOCATION\r\n•\tCHANGE_WIFI_STATE\r\n\r\nIf the calling app does not have any of these permissions, the call fails with a SecurityException.\r\n\r\nAndroid 9:\r\n\r\nA successful call to WifiManager.startScan() requires all of the following conditions to be met:\r\n\r\n•\tYour app has the ACCESS_FINE_LOCATION or ACCESS_COARSE_LOCATION permission.\r\n•\tYour app has the CHANGE_WIFI_STATE permission.\r\n•\tLocation services are enabled on the device (under Settings &gt; Location).\r\n\r\nAndroid 10 (API level 29) and higher:\r\n\r\n\r\nA successful call to WifiManager.startScan() requires all of the following conditions to be met:\r\n\r\n•\tIf your app is targeting Android 10 (API level 29) SDK or higher, your app has the ACCESS_FINE_LOCATION permission.\r\n\r\n•\tIf your app is targeting SDK lower than Android 10 (API level 29), your app has the ACCESS_COARSE_LOCATION or ACCESS_FINE_LOCATION permission.\r\n\r\n•\tYour app has the CHANGE_WIFI_STATE permission.\r\n\r\n•\tLocation services are enabled on the device (under Settings &gt; Location).\r\n\r\nAnd Request User level permission to achieve\r\n\r\nSee this link for more information: https://developer.android.com/guide/topics/connectivity/wifi-scan#wifi-scan-permissions\r\n\r\nXAMARIN FORMS Code Change:\r\n&lt;pre&gt;\r\nif (Android.OS.Build.VERSION.SdkInt &gt;= Android.OS.BuildVersionCodes.O){\r\nstatus = await CrossPermissions.Current.CheckPermissionStatusAsync(Permission.Location);\r\nif (status != PermissionStatus.Granted)\r\n{   \r\nvar results = await CrossPermissions.Current.RequestPermissionsAsync(new[] { Permission.Location });\r\nstatus = results[Permission.Location];\r\n}\r\n}\r\n&lt;/pre&gt;\r\n    \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7Qcoh.png","title":"WiFi getSSID() always returns &quot;&lt;unknown ssid&gt;&quot;","body":"<p>Wi-Fi Permissions</p>\n\n<p>Android 8.0 and Android 8.1:</p>\n\n<p>A successful call to WifiManager.getScanResults() requires any one of the following permissions:</p>\n\n<p>•   ACCESS_FINE_LOCATION\n•   ACCESS_COARSE_LOCATION\n•   CHANGE_WIFI_STATE</p>\n\n<p>If the calling app does not have any of these permissions, the call fails with a SecurityException.</p>\n\n<p>Android 9:</p>\n\n<p>A successful call to WifiManager.startScan() requires all of the following conditions to be met:</p>\n\n<p>•   Your app has the ACCESS_FINE_LOCATION or ACCESS_COARSE_LOCATION permission.\n•   Your app has the CHANGE_WIFI_STATE permission.\n•   Location services are enabled on the device (under Settings > Location).</p>\n\n<p>Android 10 (API level 29) and higher:</p>\n\n<p>A successful call to WifiManager.startScan() requires all of the following conditions to be met:</p>\n\n<p>•   If your app is targeting Android 10 (API level 29) SDK or higher, your app has the ACCESS_FINE_LOCATION permission.</p>\n\n<p>•   If your app is targeting SDK lower than Android 10 (API level 29), your app has the ACCESS_COARSE_LOCATION or ACCESS_FINE_LOCATION permission.</p>\n\n<p>•   Your app has the CHANGE_WIFI_STATE permission.</p>\n\n<p>•   Location services are enabled on the device (under Settings > Location).</p>\n\n<p>And Request User level permission to achieve</p>\n\n<p>See this link for more information: <a href=\"https://developer.android.com/guide/topics/connectivity/wifi-scan#wifi-scan-permissions\" rel=\"noreferrer\">https://developer.android.com/guide/topics/connectivity/wifi-scan#wifi-scan-permissions</a></p>\n\n<p>XAMARIN FORMS Code Change:</p>\n\n<pre>\nif (Android.OS.Build.VERSION.SdkInt >= Android.OS.BuildVersionCodes.O){\nstatus = await CrossPermissions.Current.CheckPermissionStatusAsync(Permission.Location);\nif (status != PermissionStatus.Granted)\n{   \nvar results = await CrossPermissions.Current.RequestPermissionsAsync(new[] { Permission.Location });\nstatus = results[Permission.Location];\n}\n}\n</pre>\n\n<p><a href=\"https://i.stack.imgur.com/7Qcoh.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/7Qcoh.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":28486212,"reputation":1,"user_id":21799465,"display_name":"Brian Saitabau"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683196964,"creation_date":1683196964,"answer_id":76172299,"question_id":54736828,"body_markdown":"Go to setting manually and provide location access to your app since it is &quot;NOT ALLOWED&quot; by default","title":"WiFi getSSID() always returns &quot;&lt;unknown ssid&gt;&quot;","body":"<p>Go to setting manually and provide location access to your app since it is &quot;NOT ALLOWED&quot; by default</p>\n"},{"tags":[],"owner":{"account_id":21641464,"reputation":249,"user_id":15963607,"display_name":"veli"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689321629,"creation_date":1689321629,"answer_id":76685787,"question_id":54736828,"body_markdown":"In addition to all answers, if your device&#39;s GPS is disabled, you may be faced with &lt;unknown ssid&gt; issue.\r\n\r\nSo, please enable your gps from the settings.","title":"WiFi getSSID() always returns &quot;&lt;unknown ssid&gt;&quot;","body":"<p>In addition to all answers, if your device's GPS is disabled, you may be faced with  issue.</p>\n<p>So, please enable your gps from the settings.</p>\n"}],"owner":{"account_id":130610,"reputation":10655,"user_id":329993,"accept_rate":84,"display_name":"moonlightcheese"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15609,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":54736996,"answer_count":4,"score":9,"last_activity_date":1689321629,"creation_date":1550431702,"question_id":54736828,"body_markdown":"This question has already been asked by many people, but the solution that worked for them is not working for me.  I have tested on Android 8.1 and Android 9.0 and cannot get the name of the SSID.\r\n\r\nBroadcast receiver for getting WiFi state changes:\r\n\r\n\tprivate final BroadcastReceiver mReceiver = new BroadcastReceiver() {\r\n\t\tpublic void onReceive(Context context, Intent intent) {\r\n\t\t\tString action = intent.getAction();\r\n\t\t\tif(intent.getAction().equals(WifiManager.WIFI_STATE_CHANGED_ACTION) ||\r\n\t\t\t\t\tintent.getAction().equals(ConnectivityManager.CONNECTIVITY_ACTION) ||\r\n\t\t\t\t\tintent.getAction().equals(WifiManager.SUPPLICANT_STATE_CHANGED_ACTION) ||\r\n\t\t\t\t\tintent.getAction().equals(WifiManager.SUPPLICANT_CONNECTION_CHANGE_ACTION) ||\r\n\t\t\t\t\tintent.getAction().equals(WifiManager.NETWORK_STATE_CHANGED_ACTION)) {\r\n\t\t\t\tsetWifiIndicator();\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\nThe receiver is registered `onCreate` and unregistered in `onDestroy`, which I think is proper, and I&#39;m seeing the log lines when the receiver is called.\r\n\r\nin `onCreate`:\r\n\r\n\tIntentFilter intentFilter = new IntentFilter();\r\n\tintentFilter.addAction(ScannerService.ACTION_READ_SCANNER);\r\n\tintentFilter.addAction(WifiManager.WIFI_STATE_CHANGED_ACTION);\r\n\tintentFilter.addAction(WifiManager.SUPPLICANT_CONNECTION_CHANGE_ACTION);\r\n\tintentFilter.addAction(WifiManager.NETWORK_STATE_CHANGED_ACTION);\r\n\tintentFilter.addAction(ConnectivityManager.CONNECTIVITY_ACTION);\r\n\tintentFilter.addAction(WifiManager.SUPPLICANT_STATE_CHANGED_ACTION);\r\n\tregisterReceiver(mReceiver, intentFilter);\r\n\tsetWifiIndicator();\r\n\r\n`setWifiIndicator` is implemented thusly:\r\n\r\n\tprivate void setWifiIndicator() {\r\n\t\tConnectivityManager connMgr = (ConnectivityManager)getSystemService(Context.CONNECTIVITY_SERVICE);\r\n\t\t//getApplicationContext solves memory leak issues prior to Android N (must use Application Context to get wifi system service.\r\n\t\tWifiManager wifiMgr = (WifiManager)getApplicationContext().getSystemService(Context.WIFI_SERVICE);\r\n\t\tImageView wifiIndicator = (ImageView)findViewById(R.id.wifi_indicator);\r\n\t\tTextView wifiSSID = (TextView)findViewById(R.id.wifi_ssid);\r\n\r\n\t\ttry {\r\n\t\t\tif (wifiMgr != null) {\r\n\t\t\t\tif (wifiMgr.isWifiEnabled()) {\r\n\t\t\t\t\t//wifi is enabled.  toggle on wifi indicator.\r\n\t\t\t\t\twifiIndicator.setImageResource(R.drawable.wifi_indicator);\r\n\t\t\t\t\tString ssid = wifiMgr.getConnectionInfo().getSSID();\r\n\t\t\t\t\tif (ssid != null) {\r\n\t\t\t\t\t\tLog.v(this.getClass().getSimpleName(), &quot;SSID: &quot; + ssid + &quot;  Supplicant State: &quot; + info.getSupplicantState());\r\n\t\t\t\t\t\twifiSSID.setText(ssid);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\t//wifi is disabled.  toggle off wifi indicator.\r\n\t\t\t\t\twifiSSID.setText(&quot;&quot;);\r\n\r\n\t\t\t\t\t//check for 3G\r\n\t\t\t\t\tNetworkInfo mobileInfo = connMgr.getNetworkInfo(ConnectivityManager.TYPE_MOBILE);\r\n\t\t\t\t\tif (mobileInfo != null &amp;&amp; mobileInfo.getState().equals(NetworkInfo.State.CONNECTED)) {\r\n\t\t\t\t\t\twifiIndicator.setImageResource(R.drawable.cellular_indicator);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\twifiIndicator.setImageResource(R.drawable.down_indicator);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\t//check for 3G\r\n\t\t\t\tNetworkInfo mobileInfo = connMgr.getNetworkInfo(ConnectivityManager.TYPE_MOBILE);\r\n\t\t\t\tif (mobileInfo != null &amp;&amp; mobileInfo.getState().equals(NetworkInfo.State.CONNECTED)) {\r\n\t\t\t\t\twifiIndicator.setImageResource(R.drawable.cellular_indicator);\r\n\t\t\t\t} else {\r\n\t\t\t\t\twifiIndicator.setImageResource(R.drawable.down_indicator);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} catch(Exception e) {\r\n\t\t\t//catching anything thrown in this block just so it doesn&#39;t crash the program unnecessarily\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\nMy app already had permission for `ACCESS_COARSE_LOCATION` but I aslo added `ACCESS_FINE_LOCATION` just in case.  `getSSID()` is till returning `&lt;unknown ssid&gt;`.\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_WIFI_STATE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.CHANGE_WIFI_STATE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_ADMIN&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.GET_TASKS&quot; /&gt;\r\n\r\nPerhaps it has to do with compile target SDK?  I&#39;m really clueless here.\r\n\r\ngradle file:\r\n\r\napply plugin: &#39;com.android.application&#39;\r\n    \r\n    android {\r\n        compileSdkVersion 28\r\n        defaultConfig {\r\n            applicationId &quot;com.noneofyour.business&quot;\r\n            minSdkVersion 15\r\n            targetSdkVersion 28\r\n            versionCode 59\r\n            versionName &quot;1.44&quot;\r\n            testInstrumentationRunner &quot;android.support.test.runner.AndroidJUnitRunner&quot;\r\n        }\r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n    }\r\n    \r\n    dependencies {\r\n        implementation fileTree(include: [&#39;*.jar&#39;], dir: &#39;libs&#39;)\r\n        implementation &#39;com.android.support:appcompat-v7:28.0.0&#39;\r\n        testImplementation &#39;junit:junit:4.12&#39;\r\n        androidTestImplementation &#39;com.android.support.test:runner:1.0.2&#39;\r\n        androidTestImplementation &#39;com.android.support.test.espresso:espresso-core:3.0.2&#39;\r\n        implementation files(&#39;libs/android.jar&#39;)\r\n    }","title":"WiFi getSSID() always returns &quot;&lt;unknown ssid&gt;&quot;","body":"<p>This question has already been asked by many people, but the solution that worked for them is not working for me.  I have tested on Android 8.1 and Android 9.0 and cannot get the name of the SSID.</p>\n\n<p>Broadcast receiver for getting WiFi state changes:</p>\n\n<pre><code>private final BroadcastReceiver mReceiver = new BroadcastReceiver() {\n    public void onReceive(Context context, Intent intent) {\n        String action = intent.getAction();\n        if(intent.getAction().equals(WifiManager.WIFI_STATE_CHANGED_ACTION) ||\n                intent.getAction().equals(ConnectivityManager.CONNECTIVITY_ACTION) ||\n                intent.getAction().equals(WifiManager.SUPPLICANT_STATE_CHANGED_ACTION) ||\n                intent.getAction().equals(WifiManager.SUPPLICANT_CONNECTION_CHANGE_ACTION) ||\n                intent.getAction().equals(WifiManager.NETWORK_STATE_CHANGED_ACTION)) {\n            setWifiIndicator();\n        }\n    }\n};\n</code></pre>\n\n<p>The receiver is registered <code>onCreate</code> and unregistered in <code>onDestroy</code>, which I think is proper, and I'm seeing the log lines when the receiver is called.</p>\n\n<p>in <code>onCreate</code>:</p>\n\n<pre><code>IntentFilter intentFilter = new IntentFilter();\nintentFilter.addAction(ScannerService.ACTION_READ_SCANNER);\nintentFilter.addAction(WifiManager.WIFI_STATE_CHANGED_ACTION);\nintentFilter.addAction(WifiManager.SUPPLICANT_CONNECTION_CHANGE_ACTION);\nintentFilter.addAction(WifiManager.NETWORK_STATE_CHANGED_ACTION);\nintentFilter.addAction(ConnectivityManager.CONNECTIVITY_ACTION);\nintentFilter.addAction(WifiManager.SUPPLICANT_STATE_CHANGED_ACTION);\nregisterReceiver(mReceiver, intentFilter);\nsetWifiIndicator();\n</code></pre>\n\n<p><code>setWifiIndicator</code> is implemented thusly:</p>\n\n<pre><code>private void setWifiIndicator() {\n    ConnectivityManager connMgr = (ConnectivityManager)getSystemService(Context.CONNECTIVITY_SERVICE);\n    //getApplicationContext solves memory leak issues prior to Android N (must use Application Context to get wifi system service.\n    WifiManager wifiMgr = (WifiManager)getApplicationContext().getSystemService(Context.WIFI_SERVICE);\n    ImageView wifiIndicator = (ImageView)findViewById(R.id.wifi_indicator);\n    TextView wifiSSID = (TextView)findViewById(R.id.wifi_ssid);\n\n    try {\n        if (wifiMgr != null) {\n            if (wifiMgr.isWifiEnabled()) {\n                //wifi is enabled.  toggle on wifi indicator.\n                wifiIndicator.setImageResource(R.drawable.wifi_indicator);\n                String ssid = wifiMgr.getConnectionInfo().getSSID();\n                if (ssid != null) {\n                    Log.v(this.getClass().getSimpleName(), \"SSID: \" + ssid + \"  Supplicant State: \" + info.getSupplicantState());\n                    wifiSSID.setText(ssid);\n                }\n            } else {\n                //wifi is disabled.  toggle off wifi indicator.\n                wifiSSID.setText(\"\");\n\n                //check for 3G\n                NetworkInfo mobileInfo = connMgr.getNetworkInfo(ConnectivityManager.TYPE_MOBILE);\n                if (mobileInfo != null &amp;&amp; mobileInfo.getState().equals(NetworkInfo.State.CONNECTED)) {\n                    wifiIndicator.setImageResource(R.drawable.cellular_indicator);\n                } else {\n                    wifiIndicator.setImageResource(R.drawable.down_indicator);\n                }\n            }\n        } else {\n            //check for 3G\n            NetworkInfo mobileInfo = connMgr.getNetworkInfo(ConnectivityManager.TYPE_MOBILE);\n            if (mobileInfo != null &amp;&amp; mobileInfo.getState().equals(NetworkInfo.State.CONNECTED)) {\n                wifiIndicator.setImageResource(R.drawable.cellular_indicator);\n            } else {\n                wifiIndicator.setImageResource(R.drawable.down_indicator);\n            }\n        }\n    } catch(Exception e) {\n        //catching anything thrown in this block just so it doesn't crash the program unnecessarily\n        e.printStackTrace();\n    }\n}\n</code></pre>\n\n<p>My app already had permission for <code>ACCESS_COARSE_LOCATION</code> but I aslo added <code>ACCESS_FINE_LOCATION</code> just in case.  <code>getSSID()</code> is till returning <code>&lt;unknown ssid&gt;</code>.</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.INTERNET\"/&gt;\n&lt;uses-permission android:name=\"android.permission.ACCESS_WIFI_STATE\" /&gt;\n&lt;uses-permission android:name=\"android.permission.ACCESS_NETWORK_STATE\" /&gt;\n&lt;uses-permission android:name=\"android.permission.CHANGE_WIFI_STATE\" /&gt;\n&lt;uses-permission android:name=\"android.permission.ACCESS_COARSE_LOCATION\" /&gt;\n&lt;uses-permission android:name=\"android.permission.ACCESS_FINE_LOCATION\" /&gt;\n&lt;uses-permission android:name=\"android.permission.BLUETOOTH\" /&gt;\n&lt;uses-permission android:name=\"android.permission.BLUETOOTH_ADMIN\" /&gt;\n&lt;uses-permission android:name=\"android.permission.CAMERA\" /&gt;\n&lt;uses-permission android:name=\"android.permission.WRITE_EXTERNAL_STORAGE\" /&gt;\n&lt;uses-permission android:name=\"android.permission.GET_TASKS\" /&gt;\n</code></pre>\n\n<p>Perhaps it has to do with compile target SDK?  I'm really clueless here.</p>\n\n<p>gradle file:</p>\n\n<p>apply plugin: 'com.android.application'</p>\n\n<pre><code>android {\n    compileSdkVersion 28\n    defaultConfig {\n        applicationId \"com.noneofyour.business\"\n        minSdkVersion 15\n        targetSdkVersion 28\n        versionCode 59\n        versionName \"1.44\"\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\ndependencies {\n    implementation fileTree(include: ['*.jar'], dir: 'libs')\n    implementation 'com.android.support:appcompat-v7:28.0.0'\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'com.android.support.test:runner:1.0.2'\n    androidTestImplementation 'com.android.support.test.espresso:espresso-core:3.0.2'\n    implementation files('libs/android.jar')\n}\n</code></pre>\n"},{"tags":["java","jdbc","connection-pooling","spring-boot-chaos-monkey","multi-az"],"owner":{"account_id":16997137,"reputation":65,"user_id":12295283,"display_name":"nickz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1689321500,"creation_date":1689321500,"question_id":76685771,"body_markdown":"I have been doing multiAz chaos testing and while running the delay of a particular zone (latency injection) I see the response time increased to too much. Since we have 3 availability zones and we are delaying only a single one, we expect response time to increase but not to 50 secs since other zones are still up.\r\n\r\nI have tried tweaking connectionPool properties like maxActive and minIdle connections but that didn&#39;t help.\r\n\r\nWhat could be the possible issue and what approach should I take going forward?","title":"JDBC connection taking too long to read","body":"<p>I have been doing multiAz chaos testing and while running the delay of a particular zone (latency injection) I see the response time increased to too much. Since we have 3 availability zones and we are delaying only a single one, we expect response time to increase but not to 50 secs since other zones are still up.</p>\n<p>I have tried tweaking connectionPool properties like maxActive and minIdle connections but that didn't help.</p>\n<p>What could be the possible issue and what approach should I take going forward?</p>\n"},{"tags":["java","spring-boot","spring-webflux"],"answers":[{"tags":[],"owner":{"account_id":19430343,"reputation":111,"user_id":14210942,"display_name":"Preet"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689321319,"creation_date":1689321319,"answer_id":76685751,"question_id":76684388,"body_markdown":"NOTE: I am only trying to explain you the concept. You may find more technical reasoning on other answers.\r\n\r\nThe idea behind writing any method as a reactive method is that its computation involves Thread waits, like a DB call or an HTTP request.\r\nIf your service method is expected to perform such operations where in you need not block your thread until you receive the data, you can write such operations in a reactive manner.\r\n\r\nNow to answer your question, assuming you will be using a reactive DB library to make the DB call, your DAO will be returning an instance of `Mono&lt;T&gt;` or `Flux&lt;T&gt;`, that needs to be subscribed to and only then it would execute.\r\n\r\nSo ideally, YES, you should return the `Mono&lt;T&gt;` or `Flux&lt;T&gt;` instances back until your controller &lt;br&gt;or you can call `.block()` which I would not recommend you to, since it would fail the purpose of writing the reactive code &lt;br&gt;or `.subscribe()` that would execute the task in a separate Thread if you do not expect the results of this operation in current Thread like pushing a message to queue.","title":"Do I need to use Mono or Flux as return type of all methods from the Router to the Repository when working with Flux for propper reactive web service?","body":"<p>NOTE: I am only trying to explain you the concept. You may find more technical reasoning on other answers.</p>\n<p>The idea behind writing any method as a reactive method is that its computation involves Thread waits, like a DB call or an HTTP request.\nIf your service method is expected to perform such operations where in you need not block your thread until you receive the data, you can write such operations in a reactive manner.</p>\n<p>Now to answer your question, assuming you will be using a reactive DB library to make the DB call, your DAO will be returning an instance of <code>Mono&lt;T&gt;</code> or <code>Flux&lt;T&gt;</code>, that needs to be subscribed to and only then it would execute.</p>\n<p>So ideally, YES, you should return the <code>Mono&lt;T&gt;</code> or <code>Flux&lt;T&gt;</code> instances back until your controller <br>or you can call <code>.block()</code> which I would not recommend you to, since it would fail the purpose of writing the reactive code <br>or <code>.subscribe()</code> that would execute the task in a separate Thread if you do not expect the results of this operation in current Thread like pushing a message to queue.</p>\n"}],"owner":{"account_id":11883644,"reputation":310,"user_id":8696664,"display_name":"NameTopSecret"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":479,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689321319,"creation_date":1689302640,"question_id":76684388,"body_markdown":"I want to develop a reactive web server application with Spring WebFlux so my backend can have the most efficient handling of multiple requests and the other benefits of the reactive programming, as they say that it can use one or few threads to handle a lot of requests from the client, different from the traditional Spring Web application that uses one thread for each request.\r\n\r\nSo let&#39;s say I have 3 layers on my architecture: The router and the handler (that would be my rest controllers), the service (that contains all the businesss logic) and the repository (that handles the access to the database).\r\n\r\nI know my router and handler have to work with and return Mono/Flux to be reactive. But my question is: for my application to be fully reactive, do I need to work with and return Mono/Flux type all the way from the router and handler layer, to the service layer, to the repository layer? Or can my application still accomplish that by other means and use Mono/Flux only on the router and handler layer?","title":"Do I need to use Mono or Flux as return type of all methods from the Router to the Repository when working with Flux for propper reactive web service?","body":"<p>I want to develop a reactive web server application with Spring WebFlux so my backend can have the most efficient handling of multiple requests and the other benefits of the reactive programming, as they say that it can use one or few threads to handle a lot of requests from the client, different from the traditional Spring Web application that uses one thread for each request.</p>\n<p>So let's say I have 3 layers on my architecture: The router and the handler (that would be my rest controllers), the service (that contains all the businesss logic) and the repository (that handles the access to the database).</p>\n<p>I know my router and handler have to work with and return Mono/Flux to be reactive. But my question is: for my application to be fully reactive, do I need to work with and return Mono/Flux type all the way from the router and handler layer, to the service layer, to the repository layer? Or can my application still accomplish that by other means and use Mono/Flux only on the router and handler layer?</p>\n"},{"tags":["java","android","firebase","google-cloud-firestore"],"comments":[{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1689290558,"post_id":76683176,"comment_id":135196510,"body_markdown":"I&#39;m not sure I understand the problem/question. The use case is clear, but what isn&#39;t working about the code you shared? Is there any error message? If you&#39;re asking how to implement the specific query, can you show what you tried for that specific query - so including filtering on all fields you want to filter on?","body":"I&#39;m not sure I understand the problem/question. The use case is clear, but what isn&#39;t working about the code you shared? Is there any error message? If you&#39;re asking how to implement the specific query, can you show what you tried for that specific query - so including filtering on all fields you want to filter on?"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1689314852,"post_id":76683176,"comment_id":135198583,"body_markdown":"Please edit your question and add the information Frank asked for, and please also respond using @.","body":"Please edit your question and add the information Frank asked for, and please also respond using @."},{"owner":{"account_id":29012930,"reputation":1,"user_id":22224027,"display_name":"Kaushalya Vishwanath"},"score":0,"creation_date":1689319848,"post_id":76683176,"comment_id":135199457,"body_markdown":"@FrankvanPuffelen Really sorry for my bad explanation. I have edited the question. I want to implement that query.  Thank you...","body":"@FrankvanPuffelen Really sorry for my bad explanation. I have edited the question. I want to implement that query.  Thank you..."},{"owner":{"account_id":29012930,"reputation":1,"user_id":22224027,"display_name":"Kaushalya Vishwanath"},"score":0,"creation_date":1689319907,"post_id":76683176,"comment_id":135199469,"body_markdown":"@AlexMamo I have edited the question. What I want to do is Implement the query... Thanks...","body":"@AlexMamo I have edited the question. What I want to do is Implement the query... Thanks..."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1689321354,"post_id":76683176,"comment_id":135199721,"body_markdown":"Did you create an [index](https://stackoverflow.com/questions/50305328/firestore-whereequalto-orderby-and-limit1-not-working)?","body":"Did you create an <a href=\"https://stackoverflow.com/questions/50305328/firestore-whereequalto-orderby-and-limit1-not-working\">index</a>?"},{"owner":{"account_id":29012930,"reputation":1,"user_id":22224027,"display_name":"Kaushalya Vishwanath"},"score":1,"creation_date":1689329449,"post_id":76683176,"comment_id":135201275,"body_markdown":"@AlexMamo It worked. Thanx a lot....","body":"@AlexMamo It worked. Thanx a lot...."}],"owner":{"account_id":29012930,"reputation":1,"user_id":22224027,"display_name":"Kaushalya Vishwanath"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1689335500,"answer_count":0,"score":0,"last_activity_date":1689320802,"creation_date":1689281681,"question_id":76683176,"body_markdown":"I am currently developing an app using android studio and Java. This is my first project. I have Implemented Firebase Firestore.\r\n\r\nI have a collection that contains my users as documents. For each record, there are field values containing their details. Some are Strings and Some are Numbers.\r\n\r\n**I have 3 exam types**.     *(please refer attached Images)*\r\n\r\n**I want to get all the Documents from a specific exam type**.\r\n\r\n **and order them according to their marks**. *(Marks is a number field)*\r\n\r\n**And I want the top 50 students to add to an ArrayList.**\r\n\r\n\r\n***How to implement that query?***\r\nThanx.\r\n\r\nI have tried this\r\n\r\n \r\n```\r\n CollectionReference colref= db.collection(&quot;Students&quot;);\r\n     colref.whereEqualTo(&quot;UpcomingExam&quot;, &quot;Grade 5&quot;).orderBy(&quot;Marks&quot;, Query.Direction.DESCENDING).limit(3)\r\n                .get()\r\n```\r\nArrayList was Empty. No code errors and also No results.\r\nThis is only a part of the code... adding to ArrayList with for loop and others working correctly... My only concern is the query.\r\n\r\n\r\n\r\n[Firebase Firestore db structure exam type 1][1]\r\n\r\n\r\n[exam type 2][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OCZLJ.png\r\n  [2]: https://i.stack.imgur.com/wKC35.png","title":"Filter Firebase documents with multiple fields","body":"<p>I am currently developing an app using android studio and Java. This is my first project. I have Implemented Firebase Firestore.</p>\n<p>I have a collection that contains my users as documents. For each record, there are field values containing their details. Some are Strings and Some are Numbers.</p>\n<p><strong>I have 3 exam types</strong>.     <em>(please refer attached Images)</em></p>\n<p><strong>I want to get all the Documents from a specific exam type</strong>.</p>\n<p><strong>and order them according to their marks</strong>. <em>(Marks is a number field)</em></p>\n<p><strong>And I want the top 50 students to add to an ArrayList.</strong></p>\n<p><em><strong>How to implement that query?</strong></em>\nThanx.</p>\n<p>I have tried this</p>\n<pre><code> CollectionReference colref= db.collection(&quot;Students&quot;);\n     colref.whereEqualTo(&quot;UpcomingExam&quot;, &quot;Grade 5&quot;).orderBy(&quot;Marks&quot;, Query.Direction.DESCENDING).limit(3)\n                .get()\n</code></pre>\n<p>ArrayList was Empty. No code errors and also No results.\nThis is only a part of the code... adding to ArrayList with for loop and others working correctly... My only concern is the query.</p>\n<p><a href=\"https://i.stack.imgur.com/OCZLJ.png\" rel=\"nofollow noreferrer\">Firebase Firestore db structure exam type 1</a></p>\n<p><a href=\"https://i.stack.imgur.com/wKC35.png\" rel=\"nofollow noreferrer\">exam type 2</a></p>\n"},{"tags":["java","audio","wav","recording"],"answers":[{"tags":[],"owner":{"account_id":13135798,"reputation":11,"user_id":9488823,"display_name":"apknusel"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1602018247,"creation_date":1602018247,"answer_id":64233763,"question_id":64194039,"body_markdown":"You could have a .wav file that is what you consider &quot;silence&quot; and compare it to the other .wav file to see if they have the same frequency.","title":"Recognize wav files with silence in Java","body":"<p>You could have a .wav file that is what you consider &quot;silence&quot; and compare it to the other .wav file to see if they have the same frequency.</p>\n"},{"tags":[],"owner":{"account_id":6141709,"reputation":1016,"user_id":4788928,"display_name":"Jeff Bennett"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1602048023,"creation_date":1602047214,"answer_id":64237555,"question_id":64194039,"body_markdown":"Well, the short answer is you&#39;ll want to scan the .WAV data and do a min/max value on it.  A &quot;silent&quot; file the values should essentially all be 0.\r\n\r\nThe longer answer is that you&#39;ll want to understand the .WAV format, which you can find described here (http://soundfile.sapp.org/doc/WaveFormat/).  You can probably skip over the first 44 bytes (RIFF, &#39;fmt&#39;) to get down to the data, then start looking at the bytes.   The &#39;bits-per-sample&#39; value from the header _might_ be important, as 16-bit samples would mean you&#39;d need to consolidate 2 &#39;bytes&#39; together to get a single sample.  But, even so, both bytes would be 0 for a silent, 16-bit sample file.  Ditto for NumChannels - in theory you should understand it, but again, both should be 0 for true &#39;silent&#39;.  If all the data is &#39;0&#39;, it&#39;s silent.\r\n\r\n&quot;Silent&quot; is a bit ambiguous.  Above, I was strict and assumed it meant true &#39;0&#39; only.  However, in a silent room, there would still be very low levels of background ambient noise.  In that case, you&#39;d need to be a bit more forgiving about the comparison.  e.g. calculate a min/max for each sample, and insure that the range is within some tolerance.  It can still be determined, but it just adds code.\r\n\r\nFor completeness:\r\n\r\n    public boolean isSilent(byte[] info) {\r\n        for (int idx = 44; idx &lt; info.length; ++idx) {\r\n            if (info[idx] != 0)\r\n                return false;\r\n        }\r\n        return true;\r\n    }","title":"Recognize wav files with silence in Java","body":"<p>Well, the short answer is you'll want to scan the .WAV data and do a min/max value on it.  A &quot;silent&quot; file the values should essentially all be 0.</p>\n<p>The longer answer is that you'll want to understand the .WAV format, which you can find described here (<a href=\"http://soundfile.sapp.org/doc/WaveFormat/\" rel=\"nofollow noreferrer\">http://soundfile.sapp.org/doc/WaveFormat/</a>).  You can probably skip over the first 44 bytes (RIFF, 'fmt') to get down to the data, then start looking at the bytes.   The 'bits-per-sample' value from the header <em>might</em> be important, as 16-bit samples would mean you'd need to consolidate 2 'bytes' together to get a single sample.  But, even so, both bytes would be 0 for a silent, 16-bit sample file.  Ditto for NumChannels - in theory you should understand it, but again, both should be 0 for true 'silent'.  If all the data is '0', it's silent.</p>\n<p>&quot;Silent&quot; is a bit ambiguous.  Above, I was strict and assumed it meant true '0' only.  However, in a silent room, there would still be very low levels of background ambient noise.  In that case, you'd need to be a bit more forgiving about the comparison.  e.g. calculate a min/max for each sample, and insure that the range is within some tolerance.  It can still be determined, but it just adds code.</p>\n<p>For completeness:</p>\n<pre><code>public boolean isSilent(byte[] info) {\n    for (int idx = 44; idx &lt; info.length; ++idx) {\n        if (info[idx] != 0)\n            return false;\n    }\n    return true;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4821763,"reputation":964,"user_id":3892260,"accept_rate":50,"display_name":"user3892260"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689320768,"creation_date":1689320768,"answer_id":76685680,"question_id":64194039,"body_markdown":"i wrote a function which seems to do a really good job in detecting silence vs. non-silence:\r\n\r\n     private boolean isSilent(byte[] byteArray) {\r\n        IntBuffer intBuf = ByteBuffer.wrap(byteArray).order(ByteOrder.BIG_ENDIAN).asIntBuffer();\r\n        int[] array = new int[intBuf.remaining()];\r\n        intBuf.get(array);\r\n        StandardDeviation sd = new StandardDeviation();\r\n        double[] doubles = Arrays.stream(array).asDoubleStream().toArray();\r\n        double stddev = sd.evaluate(doubles);\r\n        logger.info(&quot;stddev: {}&quot;, stddev);\r\n        return !(stddev &gt; 10000000D);\r\n    }\r\n\r\nbasically analyzes the sound and if it finds small standard deviation moves, then it presumes it is &quot;mostly&quot; quiet, and if the stddev moves are larger, it presume that it is not silent.  the differential between &quot;silent&quot; or &quot;quiet&quot;   and ones with sound is fairly large. i found that a value of over around 10^6 or above is indicative of there being no silence in the audio clip.\r\n","title":"Recognize wav files with silence in Java","body":"<p>i wrote a function which seems to do a really good job in detecting silence vs. non-silence:</p>\n<pre><code> private boolean isSilent(byte[] byteArray) {\n    IntBuffer intBuf = ByteBuffer.wrap(byteArray).order(ByteOrder.BIG_ENDIAN).asIntBuffer();\n    int[] array = new int[intBuf.remaining()];\n    intBuf.get(array);\n    StandardDeviation sd = new StandardDeviation();\n    double[] doubles = Arrays.stream(array).asDoubleStream().toArray();\n    double stddev = sd.evaluate(doubles);\n    logger.info(&quot;stddev: {}&quot;, stddev);\n    return !(stddev &gt; 10000000D);\n}\n</code></pre>\n<p>basically analyzes the sound and if it finds small standard deviation moves, then it presumes it is &quot;mostly&quot; quiet, and if the stddev moves are larger, it presume that it is not silent.  the differential between &quot;silent&quot; or &quot;quiet&quot;   and ones with sound is fairly large. i found that a value of over around 10^6 or above is indicative of there being no silence in the audio clip.</p>\n"}],"owner":{"account_id":761868,"reputation":890,"user_id":784587,"accept_rate":54,"display_name":"Rougher"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":720,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":64237555,"answer_count":3,"score":1,"last_activity_date":1689320768,"creation_date":1601810903,"question_id":64194039,"body_markdown":"I need a function in JAVA, something like this:\r\n\r\nInput: .wav file (or byte[] fileBytes)\r\nOutput: true/false (the file consists of silence only)\r\n\r\nWhat is the best way to do it?\r\n\r\nThank you.\r\n\r\n**UPDATE:**\r\n1. The command that I use for recording:\r\n \r\n\r\n    arecord --format=S16_LE --max-file-time=60 --rate=16000 --file-type=wav randomvalue_i.wav\r\n\r\n2. Silent = no audio at all","title":"Recognize wav files with silence in Java","body":"<p>I need a function in JAVA, something like this:</p>\n<p>Input: .wav file (or byte[] fileBytes)\nOutput: true/false (the file consists of silence only)</p>\n<p>What is the best way to do it?</p>\n<p>Thank you.</p>\n<p><strong>UPDATE:</strong></p>\n<ol>\n<li><p>The command that I use for recording:</p>\n<p>arecord --format=S16_LE --max-file-time=60 --rate=16000 --file-type=wav randomvalue_i.wav</p>\n</li>\n<li><p>Silent = no audio at all</p>\n</li>\n</ol>\n"},{"tags":["java","android","swiperefreshlayout"],"answers":[{"tags":[],"owner":{"account_id":5212343,"reputation":1274,"user_id":4168314,"display_name":"Mochamad Taufik Hidayat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689320728,"creation_date":1689320728,"answer_id":76685676,"question_id":76684543,"body_markdown":"You need to call `movieList.clear()` before you call refresh data so your data not duplicate\r\n\r\nfor example:\r\n\r\n    private void observePopularMoviesRequest(){ \r\n                        movieList.clear() //add this line \r\n                        movieListViewModel.searchMoviesPage(1);\r\n                        movieListViewModel.getPopularMovies().observe(this, new Observer&lt;List&lt;MovieModel&gt;&gt;() {\r\n                            @Override\r\n                            public void onChanged(List&lt;MovieModel&gt; movieModels) {\r\n                                try {\r\n                \r\n                                    //getting the retrieved data from the api\r\n                                    if (movieModels !=null){\r\n                                        for (MovieModel movieModel: movieModels){\r\n                                            Log.d(&quot;Main&quot;,&quot;The movies id are: &quot;+movieModel.getMovie_id());\r\n                                        }\r\n                                        moviesList.addAll(movieModels);\r\n                                        recyclerView.setAdapter(new HomeMovieAdapter(getApplicationContext(),moviesList));\r\n                                        recyclerView.smoothScrollToPosition(0);\r\n                                        if (swipeRefreshLayout.isRefreshing()){\r\n                                            swipeRefreshLayout.setRefreshing(false);\r\n                \r\n                                        }\r\n                                        pd.dismiss();\r\n                                    }\r\n                                }catch (Exception e){\r\n                                    e.printStackTrace();\r\n                                }\r\n                            }\r\n                \r\n                        });","title":"swipe refresh returning duplicate data","body":"<p>You need to call <code>movieList.clear()</code> before you call refresh data so your data not duplicate</p>\n<p>for example:</p>\n<pre><code>private void observePopularMoviesRequest(){ \n                    movieList.clear() //add this line \n                    movieListViewModel.searchMoviesPage(1);\n                    movieListViewModel.getPopularMovies().observe(this, new Observer&lt;List&lt;MovieModel&gt;&gt;() {\n                        @Override\n                        public void onChanged(List&lt;MovieModel&gt; movieModels) {\n                            try {\n            \n                                //getting the retrieved data from the api\n                                if (movieModels !=null){\n                                    for (MovieModel movieModel: movieModels){\n                                        Log.d(&quot;Main&quot;,&quot;The movies id are: &quot;+movieModel.getMovie_id());\n                                    }\n                                    moviesList.addAll(movieModels);\n                                    recyclerView.setAdapter(new HomeMovieAdapter(getApplicationContext(),moviesList));\n                                    recyclerView.smoothScrollToPosition(0);\n                                    if (swipeRefreshLayout.isRefreshing()){\n                                        swipeRefreshLayout.setRefreshing(false);\n            \n                                    }\n                                    pd.dismiss();\n                                }\n                            }catch (Exception e){\n                                e.printStackTrace();\n                            }\n                        }\n            \n                    });\n</code></pre>\n"}],"owner":{"account_id":19505218,"reputation":191,"user_id":14270425,"display_name":"Ukeme Elijah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76685676,"answer_count":1,"score":0,"last_activity_date":1689320728,"creation_date":1689305521,"question_id":76684543,"body_markdown":"SwipeRefreshLayout is returning duplicate data when I refresh it, I have tried other solutions here but still not working. It&#39;s still duplicating my data when I refresh it.The data is retrieved correctly but the main issue is that it duplicates more and more whenever I refresh. I am using some sort of architecture for the app meaning that you might not be able to see where I did the api call and judging from the fact that the data has been retrieved from the server as requested so I don&#39;t think that there is any need for me to post those other code as the issue is only on duplicate data caused by swipe refresh layout. Here is my code\r\n                \r\n                public class HomeActivity extends AppCompatActivity {\r\n                \r\n                    private RecyclerView recyclerView;\r\n                    private ProgressDialog pd;\r\n                    private SwipeRefreshLayout swipeRefreshLayout;\r\n                    private List&lt;MovieModel&gt; moviesList;\r\n                    private HomeMovieAdapter adapter;\r\n                    private MovieListViewModel movieListViewModel;\r\n                    private FavouriteDbHelper favouriteDbHelper;\r\n                \r\n                    @Override\r\n                    protected void onCreate(Bundle savedInstanceState) {\r\n                        super.onCreate(savedInstanceState);\r\n                        setContentView(R.layout.activity_home);\r\n                        recyclerView = findViewById(R.id.recyclerview_home);\r\n                        swipeRefreshLayout = findViewById(R.id.main_content_home);\r\n                        Toolbar toolbar = findViewById(R.id.toolBar_home);\r\n                        favouriteDbHelper = new FavouriteDbHelper(this);\r\n                        moviesList = new ArrayList&lt;&gt;();\r\n                        movieListViewModel = new ViewModelProvider(this).get(MovieListViewModel.class);\r\n                        setSupportActionBar(toolbar);\r\n                        \r\n                        initViews();\r\n                \r\n                    }\r\n                \r\n                private void initViews(){\r\n                        pd = new ProgressDialog(this);\r\n                        pd.setMessage(&quot;Fetching Movies...&quot;);\r\n                        pd.setCancelable(false);\r\n                        pd.show();\r\n                        adapter = new HomeMovieAdapter(this,moviesList);\r\n                        if (getApplicationContext().getResources().getConfiguration().orientation== Configuration.ORIENTATION_PORTRAIT){\r\n                            recyclerView.setLayoutManager(new GridLayoutManager(this,2));\r\n                        }else {\r\n                            recyclerView.setLayoutManager(new GridLayoutManager(this,4));\r\n                        }\r\n                        recyclerView.setItemAnimator(new DefaultItemAnimator());\r\n                        recyclerView.setAdapter(adapter);\r\n                        adapter.notifyDataSetChanged();\r\n                \r\n                        swipeRefreshLayout.setColorSchemeResources(android.R.color.holo_orange_dark);\r\n                        swipeRefreshLayout.setOnRefreshListener(new SwipeRefreshLayout.OnRefreshListener() {\r\n                            @Override\r\n                            public void onRefresh() {\r\n                                initViews();\r\n                                Toast.makeText(HomeActivity.this, &quot;Movies Refreshed&quot;, Toast.LENGTH_SHORT).show();\r\n                            }\r\n                        });\r\n                        observePopularMoviesRequest();\r\n                }\r\n                \r\n                    private void observePopularMoviesRequest(){\r\n                        movieListViewModel.searchMoviesPage(1);\r\n                        movieListViewModel.getPopularMovies().observe(this, new Observer&lt;List&lt;MovieModel&gt;&gt;() {\r\n                            @Override\r\n                            public void onChanged(List&lt;MovieModel&gt; movieModels) {\r\n                                try {\r\n                \r\n                                    //getting the retrieved data from the api\r\n                                    if (movieModels !=null){\r\n                                        for (MovieModel movieModel: movieModels){\r\n                                            Log.d(&quot;Main&quot;,&quot;The movies id are: &quot;+movieModel.getMovie_id());\r\n                                        }\r\n                                        moviesList.addAll(movieModels);\r\n                                        recyclerView.setAdapter(new HomeMovieAdapter(getApplicationContext(),moviesList));\r\n                                        recyclerView.smoothScrollToPosition(0);\r\n                                        if (swipeRefreshLayout.isRefreshing()){\r\n                                            swipeRefreshLayout.setRefreshing(false);\r\n                \r\n                                        }\r\n                                        pd.dismiss();\r\n                                    }\r\n                                }catch (Exception e){\r\n                                    e.printStackTrace();\r\n                                }\r\n                            }\r\n                \r\n                        });\r\n                    }\r\n\r\n","title":"swipe refresh returning duplicate data","body":"<p>SwipeRefreshLayout is returning duplicate data when I refresh it, I have tried other solutions here but still not working. It's still duplicating my data when I refresh it.The data is retrieved correctly but the main issue is that it duplicates more and more whenever I refresh. I am using some sort of architecture for the app meaning that you might not be able to see where I did the api call and judging from the fact that the data has been retrieved from the server as requested so I don't think that there is any need for me to post those other code as the issue is only on duplicate data caused by swipe refresh layout. Here is my code</p>\n<pre><code>            public class HomeActivity extends AppCompatActivity {\n            \n                private RecyclerView recyclerView;\n                private ProgressDialog pd;\n                private SwipeRefreshLayout swipeRefreshLayout;\n                private List&lt;MovieModel&gt; moviesList;\n                private HomeMovieAdapter adapter;\n                private MovieListViewModel movieListViewModel;\n                private FavouriteDbHelper favouriteDbHelper;\n            \n                @Override\n                protected void onCreate(Bundle savedInstanceState) {\n                    super.onCreate(savedInstanceState);\n                    setContentView(R.layout.activity_home);\n                    recyclerView = findViewById(R.id.recyclerview_home);\n                    swipeRefreshLayout = findViewById(R.id.main_content_home);\n                    Toolbar toolbar = findViewById(R.id.toolBar_home);\n                    favouriteDbHelper = new FavouriteDbHelper(this);\n                    moviesList = new ArrayList&lt;&gt;();\n                    movieListViewModel = new ViewModelProvider(this).get(MovieListViewModel.class);\n                    setSupportActionBar(toolbar);\n                    \n                    initViews();\n            \n                }\n            \n            private void initViews(){\n                    pd = new ProgressDialog(this);\n                    pd.setMessage(&quot;Fetching Movies...&quot;);\n                    pd.setCancelable(false);\n                    pd.show();\n                    adapter = new HomeMovieAdapter(this,moviesList);\n                    if (getApplicationContext().getResources().getConfiguration().orientation== Configuration.ORIENTATION_PORTRAIT){\n                        recyclerView.setLayoutManager(new GridLayoutManager(this,2));\n                    }else {\n                        recyclerView.setLayoutManager(new GridLayoutManager(this,4));\n                    }\n                    recyclerView.setItemAnimator(new DefaultItemAnimator());\n                    recyclerView.setAdapter(adapter);\n                    adapter.notifyDataSetChanged();\n            \n                    swipeRefreshLayout.setColorSchemeResources(android.R.color.holo_orange_dark);\n                    swipeRefreshLayout.setOnRefreshListener(new SwipeRefreshLayout.OnRefreshListener() {\n                        @Override\n                        public void onRefresh() {\n                            initViews();\n                            Toast.makeText(HomeActivity.this, &quot;Movies Refreshed&quot;, Toast.LENGTH_SHORT).show();\n                        }\n                    });\n                    observePopularMoviesRequest();\n            }\n            \n                private void observePopularMoviesRequest(){\n                    movieListViewModel.searchMoviesPage(1);\n                    movieListViewModel.getPopularMovies().observe(this, new Observer&lt;List&lt;MovieModel&gt;&gt;() {\n                        @Override\n                        public void onChanged(List&lt;MovieModel&gt; movieModels) {\n                            try {\n            \n                                //getting the retrieved data from the api\n                                if (movieModels !=null){\n                                    for (MovieModel movieModel: movieModels){\n                                        Log.d(&quot;Main&quot;,&quot;The movies id are: &quot;+movieModel.getMovie_id());\n                                    }\n                                    moviesList.addAll(movieModels);\n                                    recyclerView.setAdapter(new HomeMovieAdapter(getApplicationContext(),moviesList));\n                                    recyclerView.smoothScrollToPosition(0);\n                                    if (swipeRefreshLayout.isRefreshing()){\n                                        swipeRefreshLayout.setRefreshing(false);\n            \n                                    }\n                                    pd.dismiss();\n                                }\n                            }catch (Exception e){\n                                e.printStackTrace();\n                            }\n                        }\n            \n                    });\n                }\n</code></pre>\n"},{"tags":["java","xml","sax","catalog"],"comments":[{"owner":{"account_id":4809624,"reputation":3467,"user_id":3883475,"accept_rate":85,"display_name":"Ironluca"},"score":0,"creation_date":1689332154,"post_id":76685640,"comment_id":135201726,"body_markdown":"Far as I recollect catalogue resolver caches the schemas, use the same instance always, you are creating a new MyHandler in the for loop, create it once and reuse it in the loop. Give it a shot.","body":"Far as I recollect catalogue resolver caches the schemas, use the same instance always, you are creating a new MyHandler in the for loop, create it once and reuse it in the loop. Give it a shot."},{"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"score":0,"creation_date":1689341823,"post_id":76685640,"comment_id":135203860,"body_markdown":"Which catalog resolver are you using?","body":"Which catalog resolver are you using?"},{"owner":{"account_id":6843177,"reputation":31,"user_id":5262791,"display_name":"Kumaran"},"score":0,"creation_date":1689349963,"post_id":76685640,"comment_id":135205841,"body_markdown":"@MichaelKay - we are using &quot;xml-resolver-1.2.jar&quot;","body":"@MichaelKay - we are using &quot;xml-resolver-1.2.jar&quot;"}],"owner":{"account_id":6843177,"reputation":31,"user_id":5262791,"display_name":"Kumaran"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689320428,"creation_date":1689320428,"question_id":76685640,"body_markdown":"I got a task to validate xml against dtd and we&#39;ll get more than 20k files to validate.\r\n\r\nWhile testing the performance, we have found the below discrepancies\r\n\r\n- using catalog resolver, it&#39;s taking more than 35s to complete the validation (it resolves for each file)\r\n- when it&#39;s turned off/removed, it&#39;s barely taking 2s to complete the run.\r\n\r\nI have kept the dtd and it&#39;s supporting files under resources, created catalogManager.properties file and referred the catalog file.  \r\nIs there any way to resolving catalog once and validate all the files?\r\n\r\n        private List&lt;ValidationResult&gt; validateWithDTDUsingCR(final List&lt;Path&gt; validateFileList) throws IOException { \r\n            LOGGER.logEvent(&quot;validateWithDTDUsingDOM&quot;, &quot;File Parsing started : &quot;); \r\n            long start = System.currentTimeMillis(); \r\n            final List&lt;ValidationResult&gt; response = new ArrayList&lt;&gt;(); \r\n            try { \r\n            final SAXParserFactory factory = SAXParserFactory.newInstance();\r\n            factory.setNamespaceAware(true); \r\n            factory.setValidating(true);\r\n            final SAXParser parser = factory.newSAXParser();\r\n    \t\t\r\n            parser.setProperty(XMLConstants.ACCESS_EXTERNAL_DTD, &quot;&quot;); \r\n            parser.setProperty(XMLConstants.ACCESS_EXTERNAL_SCHEMA, &quot;&quot;);\r\n            \r\n            for (Path targetFolderPath : validateFileList) {\r\n        \t\tfinal List&lt;String&gt; exceptions = new LinkedList&lt;&gt;();\r\n                final File localXMLFile = new File(targetFolderPath.toString());\r\n                try {\r\n                    parser.parse(new FileInputStream(localXMLFile), new MyHandler());\r\n                } catch (SAXException | IOException e) {\r\n                    addResponse(response, localXMLFile, exceptions, e);\r\n                } catch (Exception e) {\r\n                    addResponse(response, localXMLFile, exceptions, e);\r\n                }\r\n            }\r\n    \t} catch (ParserConfigurationException | SAXException exception) {\r\n    \t\tLOGGER.logEvent(&quot;validateWithDTDUsingDOM&quot;, &quot;ERROR Occurred: &quot; + exception);\r\n    \t}\r\n    \tlong stop = System.currentTimeMillis();\r\n        System.out.println(&quot;validateWithDTDUsingDOM Elapsed: &quot; + (stop - start) + &quot; ms&quot;);\r\n        return response;\r\n    }\r\n    \r\n    final class MyHandler extends DefaultHandler {\r\n    \tfinal CatalogResolver catalogResolver = new CatalogResolver();\r\n        @Override\r\n        public InputSource resolveEntity(String publicId, String systemId) throws IOException, SAXException {\r\n        \tSystem.out.println(&quot;resolve: &quot;+ systemId);\r\n            return catalogResolver.resolveEntity(publicId, systemId);\r\n        }\r\n    \r\n        @Override\r\n        public void warning(SAXParseException e) throws SAXException {\r\n            System.out.println(&quot;WARNING : &quot; + e);\r\n        }\r\n    \r\n        @Override\r\n        public void error(SAXParseException e) throws SAXException {\r\n            System.out.println(&quot;ERROR : &quot; + e);\r\n        }\r\n    }","title":"Sax Parser - Catalog Resolver Entity is resolving each and every time while it validating XML","body":"<p>I got a task to validate xml against dtd and we'll get more than 20k files to validate.</p>\n<p>While testing the performance, we have found the below discrepancies</p>\n<ul>\n<li>using catalog resolver, it's taking more than 35s to complete the validation (it resolves for each file)</li>\n<li>when it's turned off/removed, it's barely taking 2s to complete the run.</li>\n</ul>\n<p>I have kept the dtd and it's supporting files under resources, created catalogManager.properties file and referred the catalog file.<br />\nIs there any way to resolving catalog once and validate all the files?</p>\n<pre><code>    private List&lt;ValidationResult&gt; validateWithDTDUsingCR(final List&lt;Path&gt; validateFileList) throws IOException { \n        LOGGER.logEvent(&quot;validateWithDTDUsingDOM&quot;, &quot;File Parsing started : &quot;); \n        long start = System.currentTimeMillis(); \n        final List&lt;ValidationResult&gt; response = new ArrayList&lt;&gt;(); \n        try { \n        final SAXParserFactory factory = SAXParserFactory.newInstance();\n        factory.setNamespaceAware(true); \n        factory.setValidating(true);\n        final SAXParser parser = factory.newSAXParser();\n        \n        parser.setProperty(XMLConstants.ACCESS_EXTERNAL_DTD, &quot;&quot;); \n        parser.setProperty(XMLConstants.ACCESS_EXTERNAL_SCHEMA, &quot;&quot;);\n        \n        for (Path targetFolderPath : validateFileList) {\n            final List&lt;String&gt; exceptions = new LinkedList&lt;&gt;();\n            final File localXMLFile = new File(targetFolderPath.toString());\n            try {\n                parser.parse(new FileInputStream(localXMLFile), new MyHandler());\n            } catch (SAXException | IOException e) {\n                addResponse(response, localXMLFile, exceptions, e);\n            } catch (Exception e) {\n                addResponse(response, localXMLFile, exceptions, e);\n            }\n        }\n    } catch (ParserConfigurationException | SAXException exception) {\n        LOGGER.logEvent(&quot;validateWithDTDUsingDOM&quot;, &quot;ERROR Occurred: &quot; + exception);\n    }\n    long stop = System.currentTimeMillis();\n    System.out.println(&quot;validateWithDTDUsingDOM Elapsed: &quot; + (stop - start) + &quot; ms&quot;);\n    return response;\n}\n\nfinal class MyHandler extends DefaultHandler {\n    final CatalogResolver catalogResolver = new CatalogResolver();\n    @Override\n    public InputSource resolveEntity(String publicId, String systemId) throws IOException, SAXException {\n        System.out.println(&quot;resolve: &quot;+ systemId);\n        return catalogResolver.resolveEntity(publicId, systemId);\n    }\n\n    @Override\n    public void warning(SAXParseException e) throws SAXException {\n        System.out.println(&quot;WARNING : &quot; + e);\n    }\n\n    @Override\n    public void error(SAXParseException e) throws SAXException {\n        System.out.println(&quot;ERROR : &quot; + e);\n    }\n}\n</code></pre>\n"},{"tags":["java","junit","dependency-injection","junit5"],"answers":[{"tags":[],"owner":{"account_id":15361,"reputation":4976,"user_id":32352,"accept_rate":62,"display_name":"johanneslink"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689317432,"creation_date":1689317432,"answer_id":76685314,"question_id":76679865,"body_markdown":"Keeping state in extensions is done through what Jupiter calls &quot;stores&quot;.\r\nIt&#39;s documented [here][1].\r\n\r\nAnother StackOverflow answers that describes the approach: https://stackoverflow.com/a/53142365/32352\r\n\r\n\r\nWhat you should _never_ do is use member variables in extensions and assume that the next invocation of the same extension will give you the same value back. The lifecycle of extension instances is mostly (and on purpose) undefined because it is context-dependent. Order of tests, concurrent test execution and nesting of test classes all play a role here.\r\n\r\n\r\n  [1]: https://junit.org/junit5/docs/current/user-guide/#extensions-keeping-state","title":"JUnit5. How to share instance between to parameter resolvers?","body":"<p>Keeping state in extensions is done through what Jupiter calls &quot;stores&quot;.\nIt's documented <a href=\"https://junit.org/junit5/docs/current/user-guide/#extensions-keeping-state\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>Another StackOverflow answers that describes the approach: <a href=\"https://stackoverflow.com/a/53142365/32352\">https://stackoverflow.com/a/53142365/32352</a></p>\n<p>What you should <em>never</em> do is use member variables in extensions and assume that the next invocation of the same extension will give you the same value back. The lifecycle of extension instances is mostly (and on purpose) undefined because it is context-dependent. Order of tests, concurrent test execution and nesting of test classes all play a role here.</p>\n"}],"owner":{"account_id":7508734,"reputation":3,"user_id":5704455,"display_name":"Eremin  Dmitry"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76685314,"answer_count":1,"score":0,"last_activity_date":1689320206,"creation_date":1689254620,"question_id":76679865,"body_markdown":"# Hi\r\n\r\nI have a `ParameterResolver`. It returns a `MyHttpClient` instance. It works. It&#39;s ok.\r\n\r\n```java\r\npublic class HttpClientProvider implements ParameterResolver {\r\n    @Override\r\n    public boolean supportsParameter(ParameterContext parameterContext, ExtensionContext extensionContext) throws ParameterResolutionException {\r\n        return parameterContext.getParameter().getType().equals(MyHttpClient.class);\r\n    }\r\n\r\n    @Override\r\n    public Object resolveParameter(ParameterContext parameterContext, ExtensionContext extensionContext) throws ParameterResolutionException {\r\n        return new MyHttpClient();\r\n    }\r\n}\r\n```\r\n\r\n\r\nI want to create another one `ParameterResolver`. It should return an entity created by Http request. So to make a request, I need to provide a client. For now it&#39;s just a private field.\r\n\r\n```java\r\npublic class EntityProvider implements ParameterResolver {\r\n    private final MyHttpClient client = new MyHttpClient();\r\n\r\n    @Override\r\n    public boolean supportsParameter(ParameterContext parameterContext, ExtensionContext extensionContext) throws ParameterResolutionException {\r\n        return parameterContext.getParameter().getType().equals(MyEntity.class);\r\n    }\r\n\r\n    @Override\r\n    public Object resolveParameter(ParameterContext parameterContext, ExtensionContext extensionContext) throws ParameterResolutionException {\r\n            MyEntity item = client.create();\r\n            return item;\r\n    }\r\n```\r\n\r\n# The problem is \r\nI have to create `MyHttpClient` twice: for `HttpClientProvider` and in `EntityProvider` (to make a create-request). This is code duplication. \r\n\r\n# Question: \r\nIs there any solution to call `HttpClientProvider:resolveParameter` from `EntityProvider` or *somehow* share one instance of `MyHttpClient` between two `ParameterResolver`&#39;s?\r\n\r\n\r\n# UPD. Solution for copy-pasting\r\n\r\nThanks to @johanneslink solution is using Storages.\r\n\r\nHow to share (HttpClientProvider)\r\n```java\r\npublic Object resolveParameter(ParameterContext parameterContext, ExtensionContext extensionContext) throws ParameterResolutionException {\r\n        MyHttpClient client = new MyHttpClient();\r\n        extensionContext.getStore(Namespace.GLOBAL).put(&quot;client&quot;, client);\r\n        return client;\r\n    }\r\n```\r\n\r\nHo to get (EntityProvider)\r\n```java\r\n    public Object resolveParameter(ParameterContext parameterContext, ExtensionContext extensionContext) throws ParameterResolutionException {\r\n        MyHttpClient client = (MyHttpClient)extensionContext.getStore(Namespace.GLOBAL).get(&quot;client&quot;);\r\n        MyEntity item = client.create();\r\n        return item;\r\n    }\r\n```\r\n\r\n\r\n","title":"JUnit5. How to share instance between to parameter resolvers?","body":"<h1>Hi</h1>\n<p>I have a <code>ParameterResolver</code>. It returns a <code>MyHttpClient</code> instance. It works. It's ok.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class HttpClientProvider implements ParameterResolver {\n    @Override\n    public boolean supportsParameter(ParameterContext parameterContext, ExtensionContext extensionContext) throws ParameterResolutionException {\n        return parameterContext.getParameter().getType().equals(MyHttpClient.class);\n    }\n\n    @Override\n    public Object resolveParameter(ParameterContext parameterContext, ExtensionContext extensionContext) throws ParameterResolutionException {\n        return new MyHttpClient();\n    }\n}\n</code></pre>\n<p>I want to create another one <code>ParameterResolver</code>. It should return an entity created by Http request. So to make a request, I need to provide a client. For now it's just a private field.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class EntityProvider implements ParameterResolver {\n    private final MyHttpClient client = new MyHttpClient();\n\n    @Override\n    public boolean supportsParameter(ParameterContext parameterContext, ExtensionContext extensionContext) throws ParameterResolutionException {\n        return parameterContext.getParameter().getType().equals(MyEntity.class);\n    }\n\n    @Override\n    public Object resolveParameter(ParameterContext parameterContext, ExtensionContext extensionContext) throws ParameterResolutionException {\n            MyEntity item = client.create();\n            return item;\n    }\n</code></pre>\n<h1>The problem is</h1>\n<p>I have to create <code>MyHttpClient</code> twice: for <code>HttpClientProvider</code> and in <code>EntityProvider</code> (to make a create-request). This is code duplication.</p>\n<h1>Question:</h1>\n<p>Is there any solution to call <code>HttpClientProvider:resolveParameter</code> from <code>EntityProvider</code> or <em>somehow</em> share one instance of <code>MyHttpClient</code> between two <code>ParameterResolver</code>'s?</p>\n<h1>UPD. Solution for copy-pasting</h1>\n<p>Thanks to @johanneslink solution is using Storages.</p>\n<p>How to share (HttpClientProvider)</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Object resolveParameter(ParameterContext parameterContext, ExtensionContext extensionContext) throws ParameterResolutionException {\n        MyHttpClient client = new MyHttpClient();\n        extensionContext.getStore(Namespace.GLOBAL).put(&quot;client&quot;, client);\n        return client;\n    }\n</code></pre>\n<p>Ho to get (EntityProvider)</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public Object resolveParameter(ParameterContext parameterContext, ExtensionContext extensionContext) throws ParameterResolutionException {\n        MyHttpClient client = (MyHttpClient)extensionContext.getStore(Namespace.GLOBAL).get(&quot;client&quot;);\n        MyEntity item = client.create();\n        return item;\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","scheduled-tasks"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1689319605,"post_id":76685518,"comment_id":135199407,"body_markdown":"Well apparently you use some sort of key in a threadlocal to determine the datasource to use. This value will not be set with your scheduling (probably only with a web request) hence it fails. Without knowing your usecase (can it use a default database, does it need to do something for 1 or more customers/datasources) this is going to be impossible to answer.","body":"Well apparently you use some sort of key in a threadlocal to determine the datasource to use. This value will not be set with your scheduling (probably only with a web request) hence it fails. Without knowing your usecase (can it use a default database, does it need to do something for 1 or more customers/datasources) this is going to be impossible to answer."},{"owner":{"account_id":12898301,"reputation":1,"user_id":9327973,"display_name":"Aditya Paul"},"score":0,"creation_date":1689320877,"post_id":76685518,"comment_id":135199650,"body_markdown":"@M.Deinum Can you please help me with how to set a default datasource.","body":"@M.Deinum Can you please help me with how to set a default datasource."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1689321416,"post_id":76685518,"comment_id":135199734,"body_markdown":"That is something you need to set on the `AbstractRoutingDatasource` which has a `defaultTargetDataSource` property which, as the name indicates, does just that.","body":"That is something you need to set on the <code>AbstractRoutingDatasource</code> which has a <code>defaultTargetDataSource</code> property which, as the name indicates, does just that."},{"owner":{"account_id":12898301,"reputation":1,"user_id":9327973,"display_name":"Aditya Paul"},"score":0,"creation_date":1689323633,"post_id":76685518,"comment_id":135200156,"body_markdown":"Thanks alot Man, it is solved now. New to java so facing some issues here and there daily. @M.Deinum","body":"Thanks alot Man, it is solved now. New to java so facing some issues here and there daily. @M.Deinum"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1689323714,"post_id":76685518,"comment_id":135200177,"body_markdown":"Well instead of directly jumping to stackoverflow I do suggest to check the documentation of the classes you are using, aka the JavaDoc. For the Spring portfolio those are pretty good next to that if you checked the properties of the class you probably could have figured it out yourself (adding to your learning experience).","body":"Well instead of directly jumping to stackoverflow I do suggest to check the documentation of the classes you are using, aka the JavaDoc. For the Spring portfolio those are pretty good next to that if you checked the properties of the class you probably could have figured it out yourself (adding to your learning experience)."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1689364322,"post_id":76685518,"comment_id":135208486,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":12898301,"reputation":1,"user_id":9327973,"display_name":"Aditya Paul"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":469,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689319398,"creation_date":1689319398,"question_id":76685518,"body_markdown":"I&#39;m using Customeroutingdatasource in my springboot project and defined it in my main class using @Bean annotation, then I have a service class with @EnableScheduling annotation, which make a scheduled DB call but it is giving error - &quot;cannot determine target data source for lookup key null&quot;\r\n\r\nI have tried injecting the Data source in the service class.\r\nSpring boot ver - 3.1.0\r\nJDK 17","title":"Scheduled job cannot determine target data source for lookup key null","body":"<p>I'm using Customeroutingdatasource in my springboot project and defined it in my main class using @Bean annotation, then I have a service class with @EnableScheduling annotation, which make a scheduled DB call but it is giving error - &quot;cannot determine target data source for lookup key null&quot;</p>\n<p>I have tried injecting the Data source in the service class.\nSpring boot ver - 3.1.0\nJDK 17</p>\n"},{"tags":["java","spring-boot","elasticsearch"],"owner":{"account_id":5887077,"reputation":82,"user_id":4634734,"accept_rate":60,"display_name":"GRajaMca"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":141,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689319307,"creation_date":1689248133,"question_id":76678931,"body_markdown":"**Given:**\r\nI&#39;m attempting to develop a new spring boot application that uses elastic search. After reviewing the official Spring Boot documentation, I chose to use **ReactiveElasticsearchOperations** for all interactions in the Spring Boot application.\r\nHowever, while testing the code read flow, it works flawlessly, but all write-related activities fail with the status code: 500, Internal Server Error. However, when I check my elastic search, I see that the necessary indexes and data have been created.\r\n\r\nCould you please advise on how to resolve this problem?\r\n\r\n[The source codes are all available in the Git repo linked below][1]\r\n\r\n  [1]: https://github.com/GRajaMca/spring-reactive-elastic-search-client\r\n\r\n**Error Message**\r\n```\r\n2023-07-13 16:48:18.531  INFO 8445 --- [           main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path &#39;/actuator&#39;\r\n2023-07-13 16:48:19.035  INFO 8445 --- [           main] o.s.b.web.embedded.netty.NettyWebServer  : Netty started on port 8338\r\n2023-07-13 16:48:19.044  INFO 8445 --- [           main] ngReactiveElasticSearchClientApplication : Started SpringReactiveElasticSearchClientApplication in 1.337 seconds (JVM running for 1.939)\r\n2023-07-13 16:48:32.200 ERROR 8445 --- [r-http-kqueue-3] a.w.r.e.AbstractErrorWebExceptionHandler : [71938b39-1]  500 Server Error for HTTP POST &quot;/reactive&quot;\r\n\r\norg.springframework.data.elasticsearch.RestStatusException: {&quot;_index&quot;:&quot;user&quot;,&quot;_id&quot;:&quot;1as&quot;,&quot;_version&quot;:1,&quot;result&quot;:&quot;created&quot;,&quot;_shards&quot;:{&quot;total&quot;:2,&quot;successful&quot;:1,&quot;failed&quot;:0},&quot;_seq_no&quot;:0,&quot;_primary_term&quot;:1}\r\n\tat org.springframework.data.elasticsearch.client.reactive.DefaultReactiveElasticsearchClient.doDecode(DefaultReactiveElasticsearchClient.java:762) ~[spring-data-elasticsearch-4.4.5.jar:4.4.5]\r\n\tSuppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: \r\nError has been observed at the following site(s):\r\n\t*__checkpoint ⇢ Handler io.javabeans.springreactiveelasticsearchclient.controller.ReactiveElasticSearchController#saveUser(User) [DispatcherHandler]\r\n\t*__checkpoint ⇢ org.springframework.boot.actuate.metrics.web.reactive.server.MetricsWebFilter [DefaultWebFilterChain]\r\n\t*__checkpoint ⇢ HTTP POST &quot;/reactive&quot; [ExceptionHandlingWebHandler]\r\nOriginal Stack Trace:\r\n\t\tat org.springframework.data.elasticsearch.client.reactive.DefaultReactiveElasticsearchClient.doDecode(DefaultReactiveElasticsearchClient.java:762) ~[spring-data-elasticsearch-4.4.5.jar:4.4.5]\r\n\t\tat org.springframework.data.elasticsearch.client.reactive.DefaultReactiveElasticsearchClient.lambda$readResponseBody$24(DefaultReactiveElasticsearchClient.java:738) ~[spring-data-elasticsearch-4.4.5.jar:4.4.5]\r\n\t\tat reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:125) ~[reactor-core-3.4.24.jar:3.4.24]\r\n\t\tat reactor.core.publisher.FluxPeekFuseable$PeekFuseableSubscriber.onNext(FluxPeekFuseable.java:210) ~[reactor-core-3.4.24.jar:3.4.24]\r\n\t\tat reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:129) ~[reactor-core-3.4.24.jar:3.4.24]\r\n\t\tat reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:129) ~[reactor-core-3.4.24.jar:3.4.24]\r\n\t\tat reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onNext(FluxContextWrite.java:107) ~[reactor-core-3.4.24.jar:3.4.24]\r\n\t\tat reactor.core.publisher.FluxMapFuseable$MapFuseableConditionalSubscriber.onNext(FluxMapFuseable.java:299) ~[reactor-core-3.4.24.jar:3.4.24]\r\n\t\tat reactor.core.publisher.FluxFilterFuseable$FilterFuseableConditionalSubscriber.onNext(FluxFilterFuseable.java:337) ~[reactor-core-3.4.24.jar:3.4.24]\r\n\t\tat reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1816) ~[reactor-core-3.4.24.jar:3.4.24]\r\n\t\tat reactor.core.publisher.MonoCollect$CollectSubscriber.onComplete(MonoCollect.java:160) ~[reactor-core-3.4.24.jar:3.4.24]\r\n\t\tat reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[reactor-core-3.4.24.jar:3.4.24]\r\n\t\tat reactor.core.publisher.FluxPeek$PeekSubscriber.onComplete(FluxPeek.java:260) ~[reactor-core-3.4.24.jar:3.4.24]\r\n\t\tat reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[reactor-core-3.4.24.jar:3.4.24]\r\n\t\tat reactor.netty.channel.FluxReceive.onInboundComplete(FluxReceive.java:400) ~[reactor-netty-core-1.0.24.jar:1.0.24]\r\n\t\tat reactor.netty.channel.ChannelOperations.onInboundComplete(ChannelOperations.java:419) ~[reactor-netty-core-1.0.24.jar:1.0.24]\r\n\t\tat reactor.netty.channel.ChannelOperations.terminate(ChannelOperations.java:473) ~[reactor-netty-core-1.0.24.jar:1.0.24]\r\n\t\tat reactor.netty.http.client.HttpClientOperations.onInboundNext(HttpClientOperations.java:702) ~[reactor-netty-http-1.0.24.jar:1.0.24]\r\n\t\tat reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:113) ~[reactor-netty-core-1.0.24.jar:1.0.24]\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\r\n\t\tat io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286) ~[netty-handler-4.1.84.Final.jar:4.1.84.Final]\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\r\n\t\tat io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103) ~[netty-codec-4.1.84.Final.jar:4.1.84.Final]\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\r\n\t\tat io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\r\n\t\tat io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:336) ~[netty-codec-4.1.84.Final.jar:4.1.84.Final]\r\n\t\tat io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:308) ~[netty-codec-4.1.84.Final.jar:4.1.84.Final]\r\n\t\tat io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\r\n\t\tat io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\r\n\t\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\r\n\t\tat io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\r\n\t\tat io.netty.channel.kqueue.AbstractKQueueStreamChannel$KQueueStreamUnsafe.readReady(AbstractKQueueStreamChannel.java:544) ~[netty-transport-classes-kqueue-4.1.84.Final.jar:4.1.84.Final]\r\n\t\tat io.netty.channel.kqueue.AbstractKQueueChannel$AbstractKQueueUnsafe.readReady(AbstractKQueueChannel.java:383) ~[netty-transport-classes-kqueue-4.1.84.Final.jar:4.1.84.Final]\r\n\t\tat io.netty.channel.kqueue.KQueueEventLoop.processReady(KQueueEventLoop.java:213) ~[netty-transport-classes-kqueue-4.1.84.Final.jar:4.1.84.Final]\r\n\t\tat io.netty.channel.kqueue.KQueueEventLoop.run(KQueueEventLoop.java:291) ~[netty-transport-classes-kqueue-4.1.84.Final.jar:4.1.84.Final]\r\n\t\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.84.Final.jar:4.1.84.Final]\r\n\t\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.84.Final.jar:4.1.84.Final]\r\n\t\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.84.Final.jar:4.1.84.Final]\r\n\t\tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n\r\n\r\n```","title":"Spring Boot Elastic Search Client with ReactiveElasticsearchOperations","body":"<p><strong>Given:</strong>\nI'm attempting to develop a new spring boot application that uses elastic search. After reviewing the official Spring Boot documentation, I chose to use <strong>ReactiveElasticsearchOperations</strong> for all interactions in the Spring Boot application.\nHowever, while testing the code read flow, it works flawlessly, but all write-related activities fail with the status code: 500, Internal Server Error. However, when I check my elastic search, I see that the necessary indexes and data have been created.</p>\n<p>Could you please advise on how to resolve this problem?</p>\n<p><a href=\"https://github.com/GRajaMca/spring-reactive-elastic-search-client\" rel=\"nofollow noreferrer\">The source codes are all available in the Git repo linked below</a></p>\n<p><strong>Error Message</strong></p>\n<pre><code>2023-07-13 16:48:18.531  INFO 8445 --- [           main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'\n2023-07-13 16:48:19.035  INFO 8445 --- [           main] o.s.b.web.embedded.netty.NettyWebServer  : Netty started on port 8338\n2023-07-13 16:48:19.044  INFO 8445 --- [           main] ngReactiveElasticSearchClientApplication : Started SpringReactiveElasticSearchClientApplication in 1.337 seconds (JVM running for 1.939)\n2023-07-13 16:48:32.200 ERROR 8445 --- [r-http-kqueue-3] a.w.r.e.AbstractErrorWebExceptionHandler : [71938b39-1]  500 Server Error for HTTP POST &quot;/reactive&quot;\n\norg.springframework.data.elasticsearch.RestStatusException: {&quot;_index&quot;:&quot;user&quot;,&quot;_id&quot;:&quot;1as&quot;,&quot;_version&quot;:1,&quot;result&quot;:&quot;created&quot;,&quot;_shards&quot;:{&quot;total&quot;:2,&quot;successful&quot;:1,&quot;failed&quot;:0},&quot;_seq_no&quot;:0,&quot;_primary_term&quot;:1}\n    at org.springframework.data.elasticsearch.client.reactive.DefaultReactiveElasticsearchClient.doDecode(DefaultReactiveElasticsearchClient.java:762) ~[spring-data-elasticsearch-4.4.5.jar:4.4.5]\n    Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: \nError has been observed at the following site(s):\n    *__checkpoint ⇢ Handler io.javabeans.springreactiveelasticsearchclient.controller.ReactiveElasticSearchController#saveUser(User) [DispatcherHandler]\n    *__checkpoint ⇢ org.springframework.boot.actuate.metrics.web.reactive.server.MetricsWebFilter [DefaultWebFilterChain]\n    *__checkpoint ⇢ HTTP POST &quot;/reactive&quot; [ExceptionHandlingWebHandler]\nOriginal Stack Trace:\n        at org.springframework.data.elasticsearch.client.reactive.DefaultReactiveElasticsearchClient.doDecode(DefaultReactiveElasticsearchClient.java:762) ~[spring-data-elasticsearch-4.4.5.jar:4.4.5]\n        at org.springframework.data.elasticsearch.client.reactive.DefaultReactiveElasticsearchClient.lambda$readResponseBody$24(DefaultReactiveElasticsearchClient.java:738) ~[spring-data-elasticsearch-4.4.5.jar:4.4.5]\n        at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:125) ~[reactor-core-3.4.24.jar:3.4.24]\n        at reactor.core.publisher.FluxPeekFuseable$PeekFuseableSubscriber.onNext(FluxPeekFuseable.java:210) ~[reactor-core-3.4.24.jar:3.4.24]\n        at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:129) ~[reactor-core-3.4.24.jar:3.4.24]\n        at reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:129) ~[reactor-core-3.4.24.jar:3.4.24]\n        at reactor.core.publisher.FluxContextWrite$ContextWriteSubscriber.onNext(FluxContextWrite.java:107) ~[reactor-core-3.4.24.jar:3.4.24]\n        at reactor.core.publisher.FluxMapFuseable$MapFuseableConditionalSubscriber.onNext(FluxMapFuseable.java:299) ~[reactor-core-3.4.24.jar:3.4.24]\n        at reactor.core.publisher.FluxFilterFuseable$FilterFuseableConditionalSubscriber.onNext(FluxFilterFuseable.java:337) ~[reactor-core-3.4.24.jar:3.4.24]\n        at reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1816) ~[reactor-core-3.4.24.jar:3.4.24]\n        at reactor.core.publisher.MonoCollect$CollectSubscriber.onComplete(MonoCollect.java:160) ~[reactor-core-3.4.24.jar:3.4.24]\n        at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[reactor-core-3.4.24.jar:3.4.24]\n        at reactor.core.publisher.FluxPeek$PeekSubscriber.onComplete(FluxPeek.java:260) ~[reactor-core-3.4.24.jar:3.4.24]\n        at reactor.core.publisher.FluxMap$MapSubscriber.onComplete(FluxMap.java:144) ~[reactor-core-3.4.24.jar:3.4.24]\n        at reactor.netty.channel.FluxReceive.onInboundComplete(FluxReceive.java:400) ~[reactor-netty-core-1.0.24.jar:1.0.24]\n        at reactor.netty.channel.ChannelOperations.onInboundComplete(ChannelOperations.java:419) ~[reactor-netty-core-1.0.24.jar:1.0.24]\n        at reactor.netty.channel.ChannelOperations.terminate(ChannelOperations.java:473) ~[reactor-netty-core-1.0.24.jar:1.0.24]\n        at reactor.netty.http.client.HttpClientOperations.onInboundNext(HttpClientOperations.java:702) ~[reactor-netty-http-1.0.24.jar:1.0.24]\n        at reactor.netty.channel.ChannelOperationsHandler.channelRead(ChannelOperationsHandler.java:113) ~[reactor-netty-core-1.0.24.jar:1.0.24]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\n        at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\n        at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:286) ~[netty-handler-4.1.84.Final.jar:4.1.84.Final]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\n        at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\n        at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:103) ~[netty-codec-4.1.84.Final.jar:4.1.84.Final]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\n        at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\n        at io.netty.channel.CombinedChannelDuplexHandler$DelegatingChannelHandlerContext.fireChannelRead(CombinedChannelDuplexHandler.java:436) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\n        at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:336) ~[netty-codec-4.1.84.Final.jar:4.1.84.Final]\n        at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:308) ~[netty-codec-4.1.84.Final.jar:4.1.84.Final]\n        at io.netty.channel.CombinedChannelDuplexHandler.channelRead(CombinedChannelDuplexHandler.java:251) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\n        at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\n        at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\n        at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919) ~[netty-transport-4.1.84.Final.jar:4.1.84.Final]\n        at io.netty.channel.kqueue.AbstractKQueueStreamChannel$KQueueStreamUnsafe.readReady(AbstractKQueueStreamChannel.java:544) ~[netty-transport-classes-kqueue-4.1.84.Final.jar:4.1.84.Final]\n        at io.netty.channel.kqueue.AbstractKQueueChannel$AbstractKQueueUnsafe.readReady(AbstractKQueueChannel.java:383) ~[netty-transport-classes-kqueue-4.1.84.Final.jar:4.1.84.Final]\n        at io.netty.channel.kqueue.KQueueEventLoop.processReady(KQueueEventLoop.java:213) ~[netty-transport-classes-kqueue-4.1.84.Final.jar:4.1.84.Final]\n        at io.netty.channel.kqueue.KQueueEventLoop.run(KQueueEventLoop.java:291) ~[netty-transport-classes-kqueue-4.1.84.Final.jar:4.1.84.Final]\n        at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.84.Final.jar:4.1.84.Final]\n        at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.84.Final.jar:4.1.84.Final]\n        at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.84.Final.jar:4.1.84.Final]\n        at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n\n\n</code></pre>\n"},{"tags":["java","spring","spring-boot","railway"],"comments":[{"owner":{"display_name":"user9624439"},"score":0,"creation_date":1689300334,"post_id":76683822,"comment_id":135197317,"body_markdown":"Try set the property of task ‘Jar&#39;. https://docs.gradle.org/current/dsl/org.gradle.jvm.tasks.Jar.html#org.gradle.jvm.tasks.Jar:manifest","body":"Try set the property of task ‘Jar&#39;. <a href=\"https://docs.gradle.org/current/dsl/org.gradle.jvm.tasks.Jar.html#org.gradle.jvm.tasks.Jar:manifest\" rel=\"nofollow noreferrer\">docs.gradle.org/current/dsl/&hellip;</a>"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1689318948,"post_id":76683822,"comment_id":135199289,"body_markdown":"Remove the `spring-boot-maven-plugin` dependencies and stop mixing versions of Spring Boot. You are mixing 2.7.13 and 3.1.1. that is not going to work, never mix modules from different versions of a framework. Remove the version for the `spring-boot-starter-security` dependency. Remove the thymeleaf dependencies and add `spring-boot-starter-thymeleaf` instead. Also why is `testng` an `implemnetation` sopced dependency? Should that be a `testImplementation` or removed as you seem to use JUnit.","body":"Remove the <code>spring-boot-maven-plugin</code> dependencies and stop mixing versions of Spring Boot. You are mixing 2.7.13 and 3.1.1. that is not going to work, never mix modules from different versions of a framework. Remove the version for the <code>spring-boot-starter-security</code> dependency. Remove the thymeleaf dependencies and add <code>spring-boot-starter-thymeleaf</code> instead. Also why is <code>testng</code> an <code>implemnetation</code> sopced dependency? Should that be a <code>testImplementation</code> or removed as you seem to use JUnit."}],"answers":[{"tags":[],"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689319248,"creation_date":1689319248,"answer_id":76685499,"question_id":76683822,"body_markdown":"The problem is your dependencies are a mess. You are including incompatible versions and are mixing modules from different versions of a framework. Here you are mixing Spring Boot 2.7.x and 3.1.x that is never going to work nor is something you should never do. \r\n\r\n```groovy\r\nplugins {\r\n    id &#39;java&#39;\r\n    id &#39;org.springframework.boot&#39; version &#39;2.7.13&#39;\r\n    id &#39;io.spring.dependency-management&#39; version &#39;1.0.15.RELEASE&#39;\r\n}\r\n\r\ngroup = &#39;com.mundim&#39;\r\nversion = &#39;&#39;\r\n\r\njava {\r\n    sourceCompatibility = &#39;17&#39;\r\n}\r\n\r\nconfigurations {\r\n    compileOnly {\r\n        extendsFrom annotationProcessor\r\n    }\r\n}\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-security&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-mail&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-thymeleaf&#39;\r\n\r\n    implementation &#39;org.thymeleaf.extras:thymeleaf-extras-springsecurity5&#39;\r\n    \r\n    runtimeOnly &#39;org.postgresql:postgresql&#39;\r\n\r\n    // Lombok\r\n    compileOnly &#39;org.projectlombok:lombok&#39;\r\n    annotationProcessor &#39;org.projectlombok:lombok&#39;\r\n    // Swagger\r\n    implementation &#39;org.springdoc:springdoc-openapi-ui:1.7.0&#39;\r\n   \r\n    // JJWT\r\n    implementation &#39;com.auth0:java-jwt:4.2.1&#39;\r\n    // Mail sender\r\n    testImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n\r\n    // Test\r\n    testImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n    testImplementation &#39;com.h2database:h2:2.2.220&#39;\r\n}\r\n\r\ntasks.named(&#39;test&#39;) {\r\n    useJUnitPlatform()\r\n}\r\n```\r\n\r\n* Removed `testng` and `junit` dependency as you seem to be using JUnit Jupiter (judging from the test setup). \r\n* Removed version from the `spring-boot-starter-*` dependencies so the versions align\r\n* Removed version from `org.thymeleaf.extras:thymeleaf-extras-springsecurity5` so it uses a compatible version (managed by Spring Boot)\r\n* Replaced Thymeleaf with `spring-boot-starter-thymeleaf` to get the proper version and management. \r\n\r\nWith this you should have proper and compatible versions and your application will start. \r\n\r\nFinally you should use `./gradlew build` to build a jar and not use the `plain` one as that doesn&#39;t include the dpendencies. You need to deploy the fatjar created by Spring Boot. ","title":"Got error when running application in Railway: no main manifest attribute, in build/libs/12WeekMethod-plain.jar","body":"<p>The problem is your dependencies are a mess. You are including incompatible versions and are mixing modules from different versions of a framework. Here you are mixing Spring Boot 2.7.x and 3.1.x that is never going to work nor is something you should never do.</p>\n<pre><code>plugins {\n    id 'java'\n    id 'org.springframework.boot' version '2.7.13'\n    id 'io.spring.dependency-management' version '1.0.15.RELEASE'\n}\n\ngroup = 'com.mundim'\nversion = ''\n\njava {\n    sourceCompatibility = '17'\n}\n\nconfigurations {\n    compileOnly {\n        extendsFrom annotationProcessor\n    }\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation 'org.springframework.boot:spring-boot-starter-security'\n    implementation 'org.springframework.boot:spring-boot-starter-mail'\n    implementation 'org.springframework.boot:spring-boot-starter-thymeleaf'\n\n    implementation 'org.thymeleaf.extras:thymeleaf-extras-springsecurity5'\n    \n    runtimeOnly 'org.postgresql:postgresql'\n\n    // Lombok\n    compileOnly 'org.projectlombok:lombok'\n    annotationProcessor 'org.projectlombok:lombok'\n    // Swagger\n    implementation 'org.springdoc:springdoc-openapi-ui:1.7.0'\n   \n    // JJWT\n    implementation 'com.auth0:java-jwt:4.2.1'\n    // Mail sender\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n\n    // Test\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    testImplementation 'com.h2database:h2:2.2.220'\n}\n\ntasks.named('test') {\n    useJUnitPlatform()\n}\n</code></pre>\n<ul>\n<li>Removed <code>testng</code> and <code>junit</code> dependency as you seem to be using JUnit Jupiter (judging from the test setup).</li>\n<li>Removed version from the <code>spring-boot-starter-*</code> dependencies so the versions align</li>\n<li>Removed version from <code>org.thymeleaf.extras:thymeleaf-extras-springsecurity5</code> so it uses a compatible version (managed by Spring Boot)</li>\n<li>Replaced Thymeleaf with <code>spring-boot-starter-thymeleaf</code> to get the proper version and management.</li>\n</ul>\n<p>With this you should have proper and compatible versions and your application will start.</p>\n<p>Finally you should use <code>./gradlew build</code> to build a jar and not use the <code>plain</code> one as that doesn't include the dpendencies. You need to deploy the fatjar created by Spring Boot.</p>\n"}],"owner":{"account_id":29013503,"reputation":3,"user_id":22224457,"display_name":"Bruno Mundim"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76685499,"answer_count":1,"score":0,"last_activity_date":1689319248,"creation_date":1689290522,"question_id":76683822,"body_markdown":"`I am encountering an issue while attempting to deploy my application in Railway. Locally, the application runs without any problems. However, during the deployment process in Railway, I keep encountering the following error message:\r\n\r\nno main manifest attribute, in build/libs/12WeekMethod-plain.jar\r\n\r\nThis is my build.gradle:\r\n\r\n```\r\nplugins {\r\n\tid &#39;java&#39;\r\n\tid &#39;org.springframework.boot&#39; version &#39;2.7.13&#39;\r\n\tid &#39;io.spring.dependency-management&#39; version &#39;1.0.15.RELEASE&#39;\r\n}\r\n\r\ngroup = &#39;com.mundim&#39;\r\nversion = &#39;&#39;\r\n\r\njava {\r\n\tsourceCompatibility = &#39;17&#39;\r\n}\r\n\r\nconfigurations {\r\n\tcompileOnly {\r\n\t\textendsFrom annotationProcessor\r\n\t}\r\n}\r\n\r\nrepositories {\r\n\tmavenCentral()\r\n}\r\n\r\ndependencies {\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-maven-plugin:3.1.1&#39;\r\n\timplementation &#39;org.testng:testng:7.1.0&#39;\r\n\truntimeOnly &#39;org.postgresql:postgresql&#39;\r\n\r\n\t// Lombok\r\n\tcompileOnly &#39;org.projectlombok:lombok&#39;\r\n\tannotationProcessor &#39;org.projectlombok:lombok&#39;\r\n\t// Swagger\r\n\timplementation &#39;org.springdoc:springdoc-openapi-ui:1.7.0&#39;\r\n\t// Security\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-security:3.1.1&#39;\r\n\t// Thymeleaf\r\n\timplementation &#39;org.thymeleaf.extras:thymeleaf-extras-springsecurity5:3.1.1.RELEASE&#39;\r\n\t// JJWT\r\n\timplementation &#39;com.auth0:java-jwt:4.2.1&#39;\r\n\t// Mail sender\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-mail&#39;\r\n\ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n\t// Thymeleaf\r\n\timplementation &#39;org.thymeleaf:thymeleaf:3.1.1.RELEASE&#39;\r\n\r\n\t// Test\r\n\ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n\ttestImplementation &#39;com.h2database:h2:2.2.220&#39;\r\n\ttestImplementation &#39;junit:junit:4.13.2&#39;\r\n}\r\n\r\ntasks.named(&#39;test&#39;) {\r\n\tuseJUnitPlatform()\r\n}\r\n````","title":"Got error when running application in Railway: no main manifest attribute, in build/libs/12WeekMethod-plain.jar","body":"<p>`I am encountering an issue while attempting to deploy my application in Railway. Locally, the application runs without any problems. However, during the deployment process in Railway, I keep encountering the following error message:</p>\n<p>no main manifest attribute, in build/libs/12WeekMethod-plain.jar</p>\n<p>This is my build.gradle:</p>\n<pre><code>plugins {\n    id 'java'\n    id 'org.springframework.boot' version '2.7.13'\n    id 'io.spring.dependency-management' version '1.0.15.RELEASE'\n}\n\ngroup = 'com.mundim'\nversion = ''\n\njava {\n    sourceCompatibility = '17'\n}\n\nconfigurations {\n    compileOnly {\n        extendsFrom annotationProcessor\n    }\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation 'org.springframework.boot:spring-boot-maven-plugin:3.1.1'\n    implementation 'org.testng:testng:7.1.0'\n    runtimeOnly 'org.postgresql:postgresql'\n\n    // Lombok\n    compileOnly 'org.projectlombok:lombok'\n    annotationProcessor 'org.projectlombok:lombok'\n    // Swagger\n    implementation 'org.springdoc:springdoc-openapi-ui:1.7.0'\n    // Security\n    implementation 'org.springframework.boot:spring-boot-starter-security:3.1.1'\n    // Thymeleaf\n    implementation 'org.thymeleaf.extras:thymeleaf-extras-springsecurity5:3.1.1.RELEASE'\n    // JJWT\n    implementation 'com.auth0:java-jwt:4.2.1'\n    // Mail sender\n    implementation 'org.springframework.boot:spring-boot-starter-mail'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    // Thymeleaf\n    implementation 'org.thymeleaf:thymeleaf:3.1.1.RELEASE'\n\n    // Test\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    testImplementation 'com.h2database:h2:2.2.220'\n    testImplementation 'junit:junit:4.13.2'\n}\n\ntasks.named('test') {\n    useJUnitPlatform()\n}\n</code></pre>\n"},{"tags":["java","swagger","swagger-ui","openapi","readme"],"owner":{"account_id":19335345,"reputation":57,"user_id":14136045,"display_name":"Prasath"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689319243,"creation_date":1689319243,"question_id":76685497,"body_markdown":"I&#39;m having a use case where I&#39;m using multiple variables of same class type, when using like this description provided in @Schema of variable level is overriding . How to avoid this and any work around without creating new class for each variable?\r\n\r\nEg: \r\n\r\n```\r\nClass Response\r\n    {\r\n        @Schema(description = &quot;Description 1&quot;)\r\n        private TypeA variable1;\r\n        @Schema(description = &quot;Description 2&quot;)\r\n        private TypeA variable2;\r\n    }\r\n```\r\n\r\neven though we gave description in yaml $ref was only there and in UI in all the variable description it is showing Description 1\r\n\r\nI tried reproducing oneOf workaround through java annotation and is not working, I don&#39;t want to create new class for every variable I&#39;m using for the same class Type. Any other work around will be more helpful","title":"why swagger not associates description to $ref when converting annotation to yml","body":"<p>I'm having a use case where I'm using multiple variables of same class type, when using like this description provided in @Schema of variable level is overriding . How to avoid this and any work around without creating new class for each variable?</p>\n<p>Eg:</p>\n<pre><code>Class Response\n    {\n        @Schema(description = &quot;Description 1&quot;)\n        private TypeA variable1;\n        @Schema(description = &quot;Description 2&quot;)\n        private TypeA variable2;\n    }\n</code></pre>\n<p>even though we gave description in yaml $ref was only there and in UI in all the variable description it is showing Description 1</p>\n<p>I tried reproducing oneOf workaround through java annotation and is not working, I don't want to create new class for every variable I'm using for the same class Type. Any other work around will be more helpful</p>\n"},{"tags":["java","multithreading","virtual-threads"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1689319324,"post_id":76685482,"comment_id":135199363,"body_markdown":"A code example would improve your question.","body":"A code example would improve your question."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1689319869,"post_id":76685482,"comment_id":135199462,"body_markdown":"Does this https://stackoverflow.com/questions/70174468/project-loom-what-happens-when-virtual-thread-makes-a-blocking-system-call answer your question? How it does it depends on the OS and JVM implementation.","body":"Does this <a href=\"https://stackoverflow.com/questions/70174468/project-loom-what-happens-when-virtual-thread-makes-a-blocking-system-call\" title=\"project loom what happens when virtual thread makes a blocking system call\">stackoverflow.com/questions/70174468/&hellip;</a> answer your question? How it does it depends on the OS and JVM implementation."},{"owner":{"account_id":1903700,"reputation":1185,"user_id":1718984,"accept_rate":93,"display_name":"ParkCheolu"},"score":0,"creation_date":1689320367,"post_id":76685482,"comment_id":135199551,"body_markdown":"@M.Deinum ah, thank you. The link actually answers exactly what I asked. I&#39;ll close the question.","body":"@M.Deinum ah, thank you. The link actually answers exactly what I asked. I&#39;ll close the question."}],"owner":{"account_id":1903700,"reputation":1185,"user_id":1718984,"accept_rate":93,"display_name":"ParkCheolu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1689320418,"answer_count":0,"score":1,"last_activity_date":1689319150,"creation_date":1689319150,"question_id":76685482,"body_markdown":"As I understand, a virtual thread is actually a &quot;task&quot;, not a thread. A virtual thread is executed by carrier threads inside a  ForkJoinPool. When a virtual thread encounters blocking I/O and goes into a waiting state, it stops its work and saves its stack frame to the heap. The carrier thread that was actually executing the task is now free to handle other tasks. This action is called &quot;unmount&quot;. When the blocking I/O is complete, the virtual thread that was unmounted will wait in the queue of the carrier thread with its stack frame stored in the heap to resume work, and when it is its turn, work will resume. This action is called &quot;mount&quot;.\r\n\r\nI&#39;m wondering how the completion of the blocking operation can be detected when there is no thread actually waiting for it.","title":"How does a virtual thread know that its blocking operation has done?","body":"<p>As I understand, a virtual thread is actually a &quot;task&quot;, not a thread. A virtual thread is executed by carrier threads inside a  ForkJoinPool. When a virtual thread encounters blocking I/O and goes into a waiting state, it stops its work and saves its stack frame to the heap. The carrier thread that was actually executing the task is now free to handle other tasks. This action is called &quot;unmount&quot;. When the blocking I/O is complete, the virtual thread that was unmounted will wait in the queue of the carrier thread with its stack frame stored in the heap to resume work, and when it is its turn, work will resume. This action is called &quot;mount&quot;.</p>\n<p>I'm wondering how the completion of the blocking operation can be detected when there is no thread actually waiting for it.</p>\n"},{"tags":["java","oop","arraylist"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1689315658,"post_id":76684930,"comment_id":135198726,"body_markdown":"1. Does `WebLogParser.parseEntry()` return a new object per invocation? 2. Is this the real code?","body":"1. Does <code>WebLogParser.parseEntry()</code> return a new object per invocation? 2. Is this the real code?"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1689316445,"post_id":76684930,"comment_id":135198865,"body_markdown":"(i) posted code has almost more empty lines than code lines (harder to read); (ii) incomplete: no `LogEntry` code, no `WebLogParser.parseEntry()` code -- better include a [mre] !","body":"(i) posted code has almost more empty lines than code lines (harder to read); (ii) incomplete: no <code>LogEntry</code> code, no <code>WebLogParser.parseEntry()</code> code -- better include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> !"},{"owner":{"account_id":17392411,"reputation":1,"user_id":12602681,"display_name":"Archismita"},"score":0,"creation_date":1689318181,"post_id":76684930,"comment_id":135199181,"body_markdown":"Yes, WebLogParser.parseEntry() returns new object per invocation","body":"Yes, WebLogParser.parseEntry() returns new object per invocation"}],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689318257,"creation_date":1689318257,"answer_id":76685395,"question_id":76684930,"body_markdown":"Each `LogEntry` is being printed, not just the last one. The problem is every `LogEntry` object *share the one set of fields* because the fields are `static`.\r\n\r\n```\r\nprivate static String ipAddress;\r\nprivate static String request;\r\nprivate static int statusCode;\r\nprivate static int bytesReturned;\r\nprivate static Date accessTime;\r\n```\r\n\r\nWhen a new instance is created, the field values are overwritten, so all the existing instances have their values set to the latest created instance.\r\n\r\nDelete the `static` keyword:\r\n\r\n```\r\nprivate String ipAddress;\r\nprivate String request;\r\nprivate int statusCode;\r\nprivate int bytesReturned;\r\nprivate Date accessTime;\r\n```","title":"Java ArrayList - I am creating an arraylist of objects but when I loop over and print it, only the last object is printed 7(size of arraylist) times","body":"<p>Each <code>LogEntry</code> is being printed, not just the last one. The problem is every <code>LogEntry</code> object <em>share the one set of fields</em> because the fields are <code>static</code>.</p>\n<pre><code>private static String ipAddress;\nprivate static String request;\nprivate static int statusCode;\nprivate static int bytesReturned;\nprivate static Date accessTime;\n</code></pre>\n<p>When a new instance is created, the field values are overwritten, so all the existing instances have their values set to the latest created instance.</p>\n<p>Delete the <code>static</code> keyword:</p>\n<pre><code>private String ipAddress;\nprivate String request;\nprivate int statusCode;\nprivate int bytesReturned;\nprivate Date accessTime;\n</code></pre>\n"}],"owner":{"account_id":17392411,"reputation":1,"user_id":12602681,"display_name":"Archismita"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1689452626,"answer_count":1,"score":-1,"last_activity_date":1689319016,"creation_date":1689312671,"question_id":76684930,"body_markdown":"My problem is in my `readFiles()` method where I am creating `ArrayList&lt;LogEntry&gt;` records.\r\n\r\n```\r\npublic class LogAnalyzer  {\r\n    private static ArrayList&lt;LogEntry&gt; records;\r\n\tstatic ReadJavaDoc obj = new ReadJavaDoc();\r\n\r\n\tpublic LogAnalyzer() {\r\n\t\trecords = new ArrayList&lt;LogEntry&gt;();\r\n\t}\r\n\r\n    public static void readFiles(String str) throws FileNotFoundException {\r\n\t\tfor (String s : obj.linesOfFile(str)) {\r\n\t\t\tLogEntry entry = WebLogParser.parseEntry(s);\r\n\t\t\trecords.add(entry);\r\n\t\t}\r\n\r\n\t\tfor (LogEntry i : records) {\r\n\t\t\tSystem.out.println(i);\r\n\t\t}\r\n    }\r\n\t\r\n    public static void main(String[] args) throws FileNotFoundException {\r\n        new LogAnalyzer();\r\n    \treadFiles(filePath);\r\n    }\r\n}\r\n```\r\n\r\nI have a `toString()` method in my `LogEntry` and by looping over, I was expecting each entry to be printed on a separate line.\r\n\r\nHowever, only the last object got printed 7 times.\r\n\r\nOther classes:\r\n\r\n```\r\npublic class WebLogParser {\r\n    private static final SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;dd/MMM/yyyy:kk:mm:ss Z&quot;, Locale.US);\r\n    private static String munchTo(StringBuilder sb, String delim) {\r\n        int x = sb.indexOf(delim);\r\n        if (x == -1) {\r\n            x = sb.length();\r\n        }\r\n        String ans = sb.substring(0,x);\r\n        sb.delete(0, x + delim.length());\r\n        return ans;\r\n    }\r\n    public static LogEntry parseEntry(String line) {\r\n        //Assumes line is vald and in this format:\r\n        //110.76.104.12 - - [30/Sep/2015:07:47:11 -0400] &quot;GET //favicon.ico HTTP/1.1&quot; 200 3426\r\n        StringBuilder sb = new StringBuilder(line);\r\n        String ip = munchTo(sb, &quot; &quot;);\r\n        munchTo(sb, &quot; &quot;); //ignore -\r\n        munchTo(sb, &quot; [&quot;); //ignore -, and eat the leading [\r\n        String dateStr = munchTo(sb, &quot;] \\&quot;&quot;); //]-space is intentional: eat both\r\n        Date date = parseDate(dateStr);\r\n        String request = munchTo(sb, &quot;\\&quot; &quot;); // quote-space is intentional: eat both\r\n        String statusStr = munchTo(sb, &quot; &quot;);\r\n        int status = Integer.parseInt(statusStr);\r\n        String byteStr = munchTo(sb, &quot; &quot;);\r\n        int bytes = Integer.parseInt(byteStr);\r\n        return new LogEntry(ip, request, status, bytes, date);\r\n    }\r\n    public static Date parseDate(String dateStr) {\r\n        ParsePosition pp = new ParsePosition(0);\r\n        return  dateFormat.parse(dateStr, pp);\r\n    }}\r\n    \r\npublic class LogEntry {\r\n\r\n\tprivate static String ipAddress;\r\n\tprivate static String request;\r\n\tprivate static int statusCode;\r\n\tprivate static int bytesReturned;\r\n\tprivate static Date accessTime;\r\n\r\n\tpublic LogEntry(String ip, String req, int stCode, int bytes, Date accTime) {\r\n\t\tipAddress = ip;\r\n\t\trequest = req;\r\n\t\tstatusCode = stCode;\r\n\t\tbytesReturned = bytes;\r\n\t\taccessTime = accTime;\r\n\t}\r\n\r\n    public static String getIp() {\r\n\t\treturn ipAddress;\r\n\t}\r\n\r\n\tpublic static String getRequest() {\r\n\t\treturn request;\r\n\t}\r\n\r\n\tpublic static int getStatusCode() {\r\n\t\treturn statusCode;\r\n\t}\r\n\r\n\tpublic static int getBytesReturned() {\r\n\t\treturn bytesReturned;\r\n\t}\r\n\r\n\tpublic static Date getAccessTime() {\r\n\t\treturn accessTime;\r\n\t}\r\n\r\n\tpublic String toString() {\r\n\t\treturn ipAddress + &quot; &quot; + request + &quot; &quot; + statusCode + &quot; &quot; + accessTime + &quot; &quot; + bytesReturned;\r\n\t}\r\n\r\n}\r\n```","title":"Java ArrayList - I am creating an arraylist of objects but when I loop over and print it, only the last object is printed 7(size of arraylist) times","body":"<p>My problem is in my <code>readFiles()</code> method where I am creating <code>ArrayList&lt;LogEntry&gt;</code> records.</p>\n<pre><code>public class LogAnalyzer  {\n    private static ArrayList&lt;LogEntry&gt; records;\n    static ReadJavaDoc obj = new ReadJavaDoc();\n\n    public LogAnalyzer() {\n        records = new ArrayList&lt;LogEntry&gt;();\n    }\n\n    public static void readFiles(String str) throws FileNotFoundException {\n        for (String s : obj.linesOfFile(str)) {\n            LogEntry entry = WebLogParser.parseEntry(s);\n            records.add(entry);\n        }\n\n        for (LogEntry i : records) {\n            System.out.println(i);\n        }\n    }\n    \n    public static void main(String[] args) throws FileNotFoundException {\n        new LogAnalyzer();\n        readFiles(filePath);\n    }\n}\n</code></pre>\n<p>I have a <code>toString()</code> method in my <code>LogEntry</code> and by looping over, I was expecting each entry to be printed on a separate line.</p>\n<p>However, only the last object got printed 7 times.</p>\n<p>Other classes:</p>\n<pre><code>public class WebLogParser {\n    private static final SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;dd/MMM/yyyy:kk:mm:ss Z&quot;, Locale.US);\n    private static String munchTo(StringBuilder sb, String delim) {\n        int x = sb.indexOf(delim);\n        if (x == -1) {\n            x = sb.length();\n        }\n        String ans = sb.substring(0,x);\n        sb.delete(0, x + delim.length());\n        return ans;\n    }\n    public static LogEntry parseEntry(String line) {\n        //Assumes line is vald and in this format:\n        //110.76.104.12 - - [30/Sep/2015:07:47:11 -0400] &quot;GET //favicon.ico HTTP/1.1&quot; 200 3426\n        StringBuilder sb = new StringBuilder(line);\n        String ip = munchTo(sb, &quot; &quot;);\n        munchTo(sb, &quot; &quot;); //ignore -\n        munchTo(sb, &quot; [&quot;); //ignore -, and eat the leading [\n        String dateStr = munchTo(sb, &quot;] \\&quot;&quot;); //]-space is intentional: eat both\n        Date date = parseDate(dateStr);\n        String request = munchTo(sb, &quot;\\&quot; &quot;); // quote-space is intentional: eat both\n        String statusStr = munchTo(sb, &quot; &quot;);\n        int status = Integer.parseInt(statusStr);\n        String byteStr = munchTo(sb, &quot; &quot;);\n        int bytes = Integer.parseInt(byteStr);\n        return new LogEntry(ip, request, status, bytes, date);\n    }\n    public static Date parseDate(String dateStr) {\n        ParsePosition pp = new ParsePosition(0);\n        return  dateFormat.parse(dateStr, pp);\n    }}\n    \npublic class LogEntry {\n\n    private static String ipAddress;\n    private static String request;\n    private static int statusCode;\n    private static int bytesReturned;\n    private static Date accessTime;\n\n    public LogEntry(String ip, String req, int stCode, int bytes, Date accTime) {\n        ipAddress = ip;\n        request = req;\n        statusCode = stCode;\n        bytesReturned = bytes;\n        accessTime = accTime;\n    }\n\n    public static String getIp() {\n        return ipAddress;\n    }\n\n    public static String getRequest() {\n        return request;\n    }\n\n    public static int getStatusCode() {\n        return statusCode;\n    }\n\n    public static int getBytesReturned() {\n        return bytesReturned;\n    }\n\n    public static Date getAccessTime() {\n        return accessTime;\n    }\n\n    public String toString() {\n        return ipAddress + &quot; &quot; + request + &quot; &quot; + statusCode + &quot; &quot; + accessTime + &quot; &quot; + bytesReturned;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","spring-boot","h2"],"comments":[{"owner":{"account_id":11260438,"reputation":5143,"user_id":8258942,"accept_rate":0,"display_name":"Nitin Bisht"},"score":0,"creation_date":1590350334,"post_id":61991686,"comment_id":109641801,"body_markdown":"Have you autowired RecordRepository?","body":"Have you autowired RecordRepository?"},{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":1,"creation_date":1590350552,"post_id":61991686,"comment_id":109641876,"body_markdown":"You are getting warnings about raw types. Pay attention to them. Specifically, you should be parameterizing `JpaRepository` with `&lt;Record,typeofidproperty&gt;`.","body":"You are getting warnings about raw types. Pay attention to them. Specifically, you should be parameterizing <code>JpaRepository</code> with <code>&lt;Record,typeofidproperty&gt;</code>."},{"owner":{"account_id":18670284,"reputation":11,"user_id":13609268,"display_name":"bergerino"},"score":0,"creation_date":1590352940,"post_id":61991686,"comment_id":109642678,"body_markdown":"@autowired annotation doesnt work in RecordRepository, it says Autowired annotation cannot be applicable to type","body":"@autowired annotation doesnt work in RecordRepository, it says Autowired annotation cannot be applicable to type"}],"answers":[{"tags":[],"owner":{"account_id":7637185,"reputation":2467,"user_id":5790398,"display_name":"eg04lt3r"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1590350834,"creation_date":1590350834,"answer_id":61991811,"question_id":61991686,"body_markdown":"Please specify the managed object and id types in interface declaration:\r\n```\r\npublic interface RecordRepository extends JpaRepository&lt;PersitentClass, ClassId&gt; {\r\n}\r\n```\r\nWhere:\r\nPersitentClass - the type of your entity model\r\nClassId  - the type of &#39;id&#39; field \r\n\r\nFor the class details, please refer to [JpaRepository doc][1].\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-data/jpa/docs/current/api/org/springframework/data/jpa/repository/JpaRepository.html","title":"Spring boot has error creating beans for JpaRepository","body":"<p>Please specify the managed object and id types in interface declaration:</p>\n\n<pre><code>public interface RecordRepository extends JpaRepository&lt;PersitentClass, ClassId&gt; {\n}\n</code></pre>\n\n<p>Where:\nPersitentClass - the type of your entity model\nClassId  - the type of 'id' field </p>\n\n<p>For the class details, please refer to <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/api/org/springframework/data/jpa/repository/JpaRepository.html\" rel=\"noreferrer\">JpaRepository doc</a>.</p>\n"},{"tags":[],"owner":{"account_id":3340953,"reputation":7,"user_id":4669974,"display_name":"Muhammad Durrah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1590353084,"creation_date":1590353084,"answer_id":61992211,"question_id":61991686,"body_markdown":"`@EnableJpaRepositories`\r\nannotation on the configuration class\r\n\r\nhttps://docs.spring.io/spring-data/data-jpa/docs/current/api/org/springframework/data/jpa/repository/config/EnableJpaRepositories.html\r\n\r\nalso so `@Repository`","title":"Spring boot has error creating beans for JpaRepository","body":"<p><code>@EnableJpaRepositories</code>\nannotation on the configuration class</p>\n\n<p><a href=\"https://docs.spring.io/spring-data/data-jpa/docs/current/api/org/springframework/data/jpa/repository/config/EnableJpaRepositories.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/data-jpa/docs/current/api/org/springframework/data/jpa/repository/config/EnableJpaRepositories.html</a></p>\n\n<p>also so <code>@Repository</code></p>\n"},{"tags":[],"owner":{"account_id":20362836,"reputation":1,"user_id":14936799,"display_name":"Jayanth Jay"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1609756533,"creation_date":1609755100,"answer_id":65560870,"question_id":61991686,"body_markdown":"You can solve this by adding the following to the main class where spring boot starts running:\r\n\r\n    @Configuration\r\n    @ComponentScan\r\n    @EnableAutoConfiguration\r\n    @EntityScan(&quot;com.mine.alien&quot;) // path of the entity model\r\n    @EnableJpaRepositories(&quot;com.mine.demo.control&quot;) // path of jpa repository \r\n\r\n    @SpringBootApplication\r\n    public class SpringJpah2Application {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(SpringJpah2Application.class, args);\r\n    \t}\r\n    }\r\n\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/airQd.png","title":"Spring boot has error creating beans for JpaRepository","body":"<p>You can solve this by adding the following to the main class where spring boot starts running:</p>\n<pre><code>@Configuration\n@ComponentScan\n@EnableAutoConfiguration\n@EntityScan(&quot;com.mine.alien&quot;) // path of the entity model\n@EnableJpaRepositories(&quot;com.mine.demo.control&quot;) // path of jpa repository \n\n@SpringBootApplication\npublic class SpringJpah2Application {\n\n    public static void main(String[] args) {\n        SpringApplication.run(SpringJpah2Application.class, args);\n    }\n}\n</code></pre>\n<p><img src=\"https://i.stack.imgur.com/airQd.png\" alt=\"enter image description here\" /></p>\n"},{"tags":[],"owner":{"account_id":22147746,"reputation":1,"user_id":16396730,"display_name":"Sindhu Gopinath Nataraj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1625640312,"creation_date":1625640312,"answer_id":68281250,"question_id":61991686,"body_markdown":"I was stuck not being able to help spring create a bean for the custom interface that extended JpaRepository. Tried everything, finally the answer was that Springboot expects packages to be named a certain way so that all components can be autowired.\r\n\r\n1) Follow any of the common examples for Spring boot JPA CRUD, like \r\n[1]\r\n\r\n2) Usually the package part of the code is clipped. There lies the trick.\r\nSpring boot expects the Application class, that is the one labelled @SpringbootApplication to be in package com.base.app, while the repository interface to be in com.base.app.repo. If you instead have com.base.repo, it cannot locate and create the bean!!\r\n\r\n\r\n  [1]: https://www.netjstech.com/2021/01/spring-boot-rest-api-crud-example-spring-data-jpa.html","title":"Spring boot has error creating beans for JpaRepository","body":"<p>I was stuck not being able to help spring create a bean for the custom interface that extended JpaRepository. Tried everything, finally the answer was that Springboot expects packages to be named a certain way so that all components can be autowired.</p>\n<ol>\n<li><p>Follow any of the common examples for Spring boot JPA CRUD, like\n<a href=\"https://www.netjstech.com/2021/01/spring-boot-rest-api-crud-example-spring-data-jpa.html\" rel=\"nofollow noreferrer\">1</a></p>\n</li>\n<li><p>Usually the package part of the code is clipped. There lies the trick.\nSpring boot expects the Application class, that is the one labelled @SpringbootApplication to be in package com.base.app, while the repository interface to be in com.base.app.repo. If you instead have com.base.repo, it cannot locate and create the bean!!</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":13770490,"reputation":107,"user_id":9938083,"display_name":"Sudhir Gaurav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680946023,"creation_date":1680946023,"answer_id":75964396,"question_id":61991686,"body_markdown":"I have gone through your code. If your using Spring boot version 4 or greater than 4 javax.persistence.*; is **depricated** .\r\ninstead of this import &quot;import jakarta.persistence*&quot;\r\n\r\nIf your using spring boot version less than 3 , check package structure . your Springboot SpringApplication.run() should be under &quot;package com.protonmail.jan.backend&quot;.\r\n\r\nhope this will fix your issue .\r\n\r\nIf you want to see how to use package hirarchy ,\r\nyou can wach this link : *https://www.youtube.com/watch?v=ug53epaPFrA&amp;ab_channel=CodeJava*\r\n\r\nPlease note: I am not owner of this link video. I found helpful so shared it .  ","title":"Spring boot has error creating beans for JpaRepository","body":"<p>I have gone through your code. If your using Spring boot version 4 or greater than 4 javax.persistence.<em>; is <strong>depricated</strong> .\ninstead of this import &quot;import jakarta.persistence</em>&quot;</p>\n<p>If your using spring boot version less than 3 , check package structure . your Springboot SpringApplication.run() should be under &quot;package com.protonmail.jan.backend&quot;.</p>\n<p>hope this will fix your issue .</p>\n<p>If you want to see how to use package hirarchy ,\nyou can wach this link : <em><a href=\"https://www.youtube.com/watch?v=ug53epaPFrA&amp;ab_channel=CodeJava\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=ug53epaPFrA&amp;ab_channel=CodeJava</a></em></p>\n<p>Please note: I am not owner of this link video. I found helpful so shared it .</p>\n"},{"tags":[],"owner":{"account_id":20771023,"reputation":27,"user_id":15253715,"display_name":"AAKASH YADAV"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689318988,"creation_date":1689318017,"answer_id":76685363,"question_id":61991686,"body_markdown":"Try this:\r\nIn Repository java class file, adding @Entity annotation will remove this error.\r\n","title":"Spring boot has error creating beans for JpaRepository","body":"<p>Try this:\nIn Repository java class file, adding @Entity annotation will remove this error.</p>\n"}],"owner":{"account_id":18670284,"reputation":11,"user_id":13609268,"display_name":"bergerino"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20715,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":6,"score":1,"last_activity_date":1689318988,"creation_date":1590350161,"question_id":61991686,"body_markdown":"I bumped into a problem with my school project I was attempting to set up h2 database for.\r\nEverything ran fine I guess until I created a Repository interface for my database, which looks simply like this\r\n\r\n```\r\npackage com.protonmail.jan.backend.repository;\r\n\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\n\r\npublic interface RecordRepository extends JpaRepository {\r\n}\r\n```\r\n\r\nWhen I run the application without the repository code, the app at least starts, I&#39;m pretty new to spring-boot, so I have no idea what&#39;s going on here, but I guess it&#39;s some dependencies or something needed to create beans missing on my pom.xml file? Please help, here is some of the error log I got:\r\n\r\n\r\n```\r\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;requestMappingHandlerAdapter&#39; defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Unsatisfied dependency expressed through method &#39;requestMappingHandlerAdapter&#39; parameter 1; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;mvcConversionService&#39; defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.format.support.FormattingConversionService]: Factory method &#39;mvcConversionService&#39; threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;recordRepository&#39;: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Not a managed type: class java.lang.Object\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;mvcConversionService&#39; defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.format.support.FormattingConversionService]: Factory method &#39;mvcConversionService&#39; threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;recordRepository&#39;: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Not a managed type: class java.lang.Object\r\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.format.support.FormattingConversionService]: Factory method &#39;mvcConversionService&#39; threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;recordRepository&#39;: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Not a managed type: class java.lang.Object\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;recordRepository&#39;: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Not a managed type: class java.lang.Object\r\nCaused by: java.lang.IllegalArgumentException: Not a managed type: class java.lang.Object\r\n\r\n```\r\nthis is my entity\r\n```\r\npackage com.protonmail.jan.backend.entity;\r\n\r\nimport javax.persistence.*;\r\nimport javax.validation.constraints.NotEmpty;\r\nimport javax.validation.constraints.NotNull;\r\nimport java.util.Collection;\r\nimport java.util.Date;\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\n@Entity\r\npublic class Record extends AbstractEntity {\r\n    @NotNull\r\n    @NotEmpty\r\n    private Date date;\r\n\r\n    @NotNull\r\n    @NotEmpty\r\n    private static Map&lt;Integer, Room&gt; rooms;\r\n    static {\r\n        rooms = new HashMap&lt;Integer, Room&gt;(){\r\n            {\r\n                put(1, new Room());\r\n                put(2, new Room());\r\n                put(3, new Room());\r\n            }\r\n        };\r\n    }\r\n\r\n    public Collection&lt;Room&gt; getAllRooms(){\r\n        return this.rooms.values();\r\n    }\r\n}\r\n```\r\nthis is Room, which is contained in Record\r\n```\r\npackage com.protonmail.jan.backend.entity;\r\n\r\nimport javax.persistence.*;\r\nimport javax.validation.constraints.NotEmpty;\r\nimport javax.validation.constraints.NotNull;\r\nimport java.util.Map;\r\n\r\n@Entity\r\npublic class Room extends AbstractEntity{\r\n    private String name = &quot;pokoj&quot;;\r\n    private Boolean lit = false;\r\n    private long temp = 0;\r\n\r\n    public Room() {\r\n    }\r\n    public Boolean getLit() {\r\n        return lit;\r\n    }\r\n    public void setLit(Boolean lit) {\r\n        this.lit = lit;\r\n    }\r\n    public long getTemp() {\r\n        return temp;\r\n    }\r\n    public void setTemp(long temp) {\r\n        this.temp = temp;\r\n    }\r\n}\r\n```\r\nthis is AbstractEntity class\r\n```\r\npackage com.protonmail.jan.backend.entity;\r\n\r\nimport javax.persistence.GeneratedValue;\r\nimport javax.persistence.GenerationType;\r\nimport javax.persistence.Id;\r\nimport javax.persistence.MappedSuperclass;\r\n\r\n@MappedSuperclass\r\npublic abstract class AbstractEntity {\r\n    @Id\r\n    @GeneratedValue(strategy= GenerationType.SEQUENCE)\r\n    private Long id;\r\n\r\n    public Long getId() {\r\n        return id;\r\n    }\r\n\r\n    public boolean isPersisted() {\r\n        return id != null;\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        if (getId() != null) {\r\n            return getId().hashCode();\r\n        }\r\n        return super.hashCode();\r\n    }\r\n\r\n    @Override\r\n    public boolean equals(Object obj) {\r\n        if (this == obj) {\r\n            return true;\r\n        }\r\n        if (obj == null) {\r\n            return false;\r\n        }\r\n        if (getClass() != obj.getClass()) {\r\n            return false;\r\n        }\r\n        AbstractEntity other = (AbstractEntity) obj;\r\n        if (getId() == null || other.getId() == null) {\r\n            return false;\r\n        }\r\n        return getId().equals(other.getId());\r\n    }\r\n}\r\n```\r\ni also have used\r\n```\r\npublic interface RecordRepository extends JpaRepository&lt;Repository, Long&gt; {}\r\n```","title":"Spring boot has error creating beans for JpaRepository","body":"<p>I bumped into a problem with my school project I was attempting to set up h2 database for.\nEverything ran fine I guess until I created a Repository interface for my database, which looks simply like this</p>\n<pre><code>package com.protonmail.jan.backend.repository;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\n\npublic interface RecordRepository extends JpaRepository {\n}\n</code></pre>\n<p>When I run the application without the repository code, the app at least starts, I'm pretty new to spring-boot, so I have no idea what's going on here, but I guess it's some dependencies or something needed to create beans missing on my pom.xml file? Please help, here is some of the error log I got:</p>\n<pre><code>org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'requestMappingHandlerAdapter' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Unsatisfied dependency expressed through method 'requestMappingHandlerAdapter' parameter 1; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'mvcConversionService' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.format.support.FormattingConversionService]: Factory method 'mvcConversionService' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'recordRepository': Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Not a managed type: class java.lang.Object\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'mvcConversionService' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.format.support.FormattingConversionService]: Factory method 'mvcConversionService' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'recordRepository': Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Not a managed type: class java.lang.Object\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.format.support.FormattingConversionService]: Factory method 'mvcConversionService' threw exception; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'recordRepository': Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Not a managed type: class java.lang.Object\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'recordRepository': Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Not a managed type: class java.lang.Object\nCaused by: java.lang.IllegalArgumentException: Not a managed type: class java.lang.Object\n\n</code></pre>\n<p>this is my entity</p>\n<pre><code>package com.protonmail.jan.backend.entity;\n\nimport javax.persistence.*;\nimport javax.validation.constraints.NotEmpty;\nimport javax.validation.constraints.NotNull;\nimport java.util.Collection;\nimport java.util.Date;\nimport java.util.HashMap;\nimport java.util.Map;\n\n@Entity\npublic class Record extends AbstractEntity {\n    @NotNull\n    @NotEmpty\n    private Date date;\n\n    @NotNull\n    @NotEmpty\n    private static Map&lt;Integer, Room&gt; rooms;\n    static {\n        rooms = new HashMap&lt;Integer, Room&gt;(){\n            {\n                put(1, new Room());\n                put(2, new Room());\n                put(3, new Room());\n            }\n        };\n    }\n\n    public Collection&lt;Room&gt; getAllRooms(){\n        return this.rooms.values();\n    }\n}\n</code></pre>\n<p>this is Room, which is contained in Record</p>\n<pre><code>package com.protonmail.jan.backend.entity;\n\nimport javax.persistence.*;\nimport javax.validation.constraints.NotEmpty;\nimport javax.validation.constraints.NotNull;\nimport java.util.Map;\n\n@Entity\npublic class Room extends AbstractEntity{\n    private String name = &quot;pokoj&quot;;\n    private Boolean lit = false;\n    private long temp = 0;\n\n    public Room() {\n    }\n    public Boolean getLit() {\n        return lit;\n    }\n    public void setLit(Boolean lit) {\n        this.lit = lit;\n    }\n    public long getTemp() {\n        return temp;\n    }\n    public void setTemp(long temp) {\n        this.temp = temp;\n    }\n}\n</code></pre>\n<p>this is AbstractEntity class</p>\n<pre><code>package com.protonmail.jan.backend.entity;\n\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.MappedSuperclass;\n\n@MappedSuperclass\npublic abstract class AbstractEntity {\n    @Id\n    @GeneratedValue(strategy= GenerationType.SEQUENCE)\n    private Long id;\n\n    public Long getId() {\n        return id;\n    }\n\n    public boolean isPersisted() {\n        return id != null;\n    }\n\n    @Override\n    public int hashCode() {\n        if (getId() != null) {\n            return getId().hashCode();\n        }\n        return super.hashCode();\n    }\n\n    @Override\n    public boolean equals(Object obj) {\n        if (this == obj) {\n            return true;\n        }\n        if (obj == null) {\n            return false;\n        }\n        if (getClass() != obj.getClass()) {\n            return false;\n        }\n        AbstractEntity other = (AbstractEntity) obj;\n        if (getId() == null || other.getId() == null) {\n            return false;\n        }\n        return getId().equals(other.getId());\n    }\n}\n</code></pre>\n<p>i also have used</p>\n<pre><code>public interface RecordRepository extends JpaRepository&lt;Repository, Long&gt; {}\n</code></pre>\n"},{"tags":["java","javascript","ajax","json","spring"],"answers":[{"tags":[],"owner":{"account_id":247913,"reputation":1,"user_id":522963,"display_name":"joyfun"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1316358424,"creation_date":1316358424,"answer_id":7462343,"question_id":7462202,"body_markdown":"make sure your have correct jackson version   in your classpath\r\n","title":"Spring JSON request getting 406 (not Acceptable)","body":"<p>make sure your have correct jackson version   in your classpath</p>\n"},{"tags":[],"owner":{"account_id":109278,"reputation":9687,"user_id":289625,"accept_rate":100,"display_name":"Dave G"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1316360555,"creation_date":1316360555,"answer_id":7462538,"question_id":7462202,"body_markdown":"Check as @joyfun did for the correct version of jackson but also check our headers ... Accept */* may not be transmitted by the client ... use firebug or equivalent to check what your get request is actually sending.  I think the headers attribute of the annotation /may/ be checking literals although I&#39;m not 100% sure.","title":"Spring JSON request getting 406 (not Acceptable)","body":"<p>Check as @joyfun did for the correct version of jackson but also check our headers ... Accept <em>/</em> may not be transmitted by the client ... use firebug or equivalent to check what your get request is actually sending.  I think the headers attribute of the annotation /may/ be checking literals although I'm not 100% sure.</p>\n"},{"tags":[],"owner":{"account_id":37187,"reputation":46683,"user_id":106261,"accept_rate":87,"display_name":"NimChimpsky"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1316367142,"creation_date":1316366541,"answer_id":7463106,"question_id":7462202,"body_markdown":"In the controller, shouldn&#39;t the response body annotation be on the return type and not the method, like so :\r\n\r\n    @RequestMapping(value=&quot;/getTemperature/{id}&quot;, headers=&quot;Accept=*/*&quot;, method = RequestMethod.GET)\r\n    public @ResponseBody Weather getTemparature(@PathVariable(&quot;id&quot;) Integer id){\r\n        Weather weather = weatherService.getCurrentWeather(id);\r\n            return weather;\r\n    }\r\n\r\nI&#39;d also use the raw jquery.ajax function, and make sure contentType and dataType are being set correctly.\r\n\r\nOn a different note, I find the spring handling of json rather problematic. It was easier when I did it all myself using strings, and GSON.","title":"Spring JSON request getting 406 (not Acceptable)","body":"<p>In the controller, shouldn't the response body annotation be on the return type and not the method, like so :</p>\n\n<pre><code>@RequestMapping(value=\"/getTemperature/{id}\", headers=\"Accept=*/*\", method = RequestMethod.GET)\npublic @ResponseBody Weather getTemparature(@PathVariable(\"id\") Integer id){\n    Weather weather = weatherService.getCurrentWeather(id);\n        return weather;\n}\n</code></pre>\n\n<p>I'd also use the raw jquery.ajax function, and make sure contentType and dataType are being set correctly.</p>\n\n<p>On a different note, I find the spring handling of json rather problematic. It was easier when I did it all myself using strings, and GSON.</p>\n"},{"tags":[],"owner":{"account_id":139377,"reputation":3663,"user_id":344927,"accept_rate":100,"display_name":"stratwine"},"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1316370787,"creation_date":1316370787,"answer_id":7463508,"question_id":7462202,"body_markdown":"Can you remove the headers element in @RequestMapping and try.. \r\n\r\nLike \r\n\r\n&lt;pre&gt;\r\n&lt;code&gt;\r\n@RequestMapping(value=&quot;/getTemperature/{id}&quot;, method = RequestMethod.GET)\r\n&lt;/code&gt;\r\n&lt;/pre&gt;\r\n\r\n\r\nI guess spring does an &#39;contains check&#39; rather than exact match for accept headers. But still, worth a try to remove the headers element and check.","title":"Spring JSON request getting 406 (not Acceptable)","body":"<p>Can you remove the headers element in @RequestMapping and try.. </p>\n\n<p>Like </p>\n\n<pre>\n<code>\n@RequestMapping(value=\"/getTemperature/{id}\", method = RequestMethod.GET)\n</code>\n</pre>\n\n<p>I guess spring does an 'contains check' rather than exact match for accept headers. But still, worth a try to remove the headers element and check.</p>\n"},{"tags":[],"owner":{"account_id":311542,"reputation":16271,"user_id":625189,"accept_rate":92,"display_name":"Jaanus"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1316418127,"creation_date":1316418127,"answer_id":7467775,"question_id":7462202,"body_markdown":"Finally found answer from here:\r\n\r\nhttps://stackoverflow.com/questions/2828968/mapping-restful-ajax-requests-to-spring\r\n\r\nI quote:\r\n\r\n\r\n\r\n&gt;@RequestBody/@ResponseBody annotations don&#39;t use normal view resolvers, they use their own HttpMessageConverters. In order to use these annotations, you should configure these converters in AnnotationMethodHandlerAdapter, as described in the reference (you probably need MappingJacksonHttpMessageConverter).","title":"Spring JSON request getting 406 (not Acceptable)","body":"<p>Finally found answer from here:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/2828968/mapping-restful-ajax-requests-to-spring\">Mapping restful ajax requests to spring</a></p>\n\n<p>I quote:</p>\n\n<blockquote>\n  <p>@RequestBody/@ResponseBody annotations don't use normal view resolvers, they use their own HttpMessageConverters. In order to use these annotations, you should configure these converters in AnnotationMethodHandlerAdapter, as described in the reference (you probably need MappingJacksonHttpMessageConverter).</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":390887,"reputation":1294,"user_id":751228,"display_name":"Villu Sepman"},"down_vote_count":1,"up_vote_count":116,"is_accepted":true,"score":115,"last_activity_date":1430241029,"creation_date":1316427061,"answer_id":7469297,"question_id":7462202,"body_markdown":"&gt; **406 Not Acceptable**\n&gt;\n&gt; The resource identified by the request is only capable of generating response entities which have content characteristics not acceptable according to the accept headers sent in the request.\n\nSo, your request accept header is application/json and your controller is not able to return that. This happens when the correct HTTPMessageConverter can not be found to satisfy the @ResponseBody annotated return value. HTTPMessageConverter are automatically registered when you use the `&lt;mvc:annotation-driven&gt;`, given certain 3-d party libraries in the classpath.\n\nEither you don&#39;t have the correct Jackson library in your classpath, or you haven&#39;t used the \n`&lt;mvc:annotation-driven&gt;` directive.\n\nI successfully replicated your scenario and it worked fine using these two libraries and no `headers=&quot;Accept=*/*&quot;` directive.\n\n- jackson-core-asl-1.7.4.jar\n- jackson-mapper-asl-1.7.4.jar\n","title":"Spring JSON request getting 406 (not Acceptable)","body":"<blockquote>\n<p><strong>406 Not Acceptable</strong></p>\n<p>The resource identified by the request is only capable of generating response entities which have content characteristics not acceptable according to the accept headers sent in the request.</p>\n</blockquote>\n<p>So, your request accept header is application/json and your controller is not able to return that. This happens when the correct HTTPMessageConverter can not be found to satisfy the @ResponseBody annotated return value. HTTPMessageConverter are automatically registered when you use the <code>&lt;mvc:annotation-driven&gt;</code>, given certain 3-d party libraries in the classpath.</p>\n<p>Either you don't have the correct Jackson library in your classpath, or you haven't used the\n<code>&lt;mvc:annotation-driven&gt;</code> directive.</p>\n<p>I successfully replicated your scenario and it worked fine using these two libraries and no <code>headers=&quot;Accept=*/*&quot;</code> directive.</p>\n<ul>\n<li>jackson-core-asl-1.7.4.jar</li>\n<li>jackson-mapper-asl-1.7.4.jar</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":18399,"reputation":38994,"user_id":42126,"accept_rate":100,"display_name":"kdgregory"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1345080973,"creation_date":1345080973,"answer_id":11979554,"question_id":7462202,"body_markdown":"There is another case where this status will be returned: if the Jackson mapper cannot figure out how to serialize your bean. For example, if you have two accessor methods for the same boolean property, `isFoo()` and `getFoo()`.\r\n\r\nWhat&#39;s happening is that Spring&#39;s [MappingJackson2HttpMessageConverter][1] calls Jackson&#39;s [StdSerializerProvider][2] to see if it can convert your object. At the bottom of the call chain, `StdSerializerProvider._createAndCacheUntypedSerializer` throws a `JsonMappingException` with an informative message. However, this exception is swallowed by `StdSerializerProvider._createAndCacheUntypedSerializer`, which tells Spring that it can&#39;t convert the object. Having run out of converters, Spring reports that it&#39;s not being given an `Accept` header that it can use, which of course is bogus when you&#39;re giving it `*/*`.\r\n\r\nThere is a [bug][3] for this behavior, but it was closed as &quot;cannot reproduce&quot;: the method that&#39;s being called doesn&#39;t declare that it can throw, so swallowing exceptions is apparently an appropriate solution (yes, that was sarcasm). Unfortunately, Jackson doesn&#39;t have any logging ... and there are a lot of comments in the codebase wishing it did, so I suspect this isn&#39;t the only hidden gotcha.\r\n\r\n  [1]: http://static.springsource.org/spring/docs/3.1.x/javadoc-api/org/springframework/http/converter/json/MappingJackson2HttpMessageConverter.html\r\n  [2]: http://jackson.codehaus.org/1.8.8/javadoc/org/codehaus/jackson/map/ser/StdSerializerProvider.html\r\n  [3]: http://jira.codehaus.org/browse/JACKSON-694","title":"Spring JSON request getting 406 (not Acceptable)","body":"<p>There is another case where this status will be returned: if the Jackson mapper cannot figure out how to serialize your bean. For example, if you have two accessor methods for the same boolean property, <code>isFoo()</code> and <code>getFoo()</code>.</p>\n\n<p>What's happening is that Spring's <a href=\"http://static.springsource.org/spring/docs/3.1.x/javadoc-api/org/springframework/http/converter/json/MappingJackson2HttpMessageConverter.html\" rel=\"noreferrer\">MappingJackson2HttpMessageConverter</a> calls Jackson's <a href=\"http://jackson.codehaus.org/1.8.8/javadoc/org/codehaus/jackson/map/ser/StdSerializerProvider.html\" rel=\"noreferrer\">StdSerializerProvider</a> to see if it can convert your object. At the bottom of the call chain, <code>StdSerializerProvider._createAndCacheUntypedSerializer</code> throws a <code>JsonMappingException</code> with an informative message. However, this exception is swallowed by <code>StdSerializerProvider._createAndCacheUntypedSerializer</code>, which tells Spring that it can't convert the object. Having run out of converters, Spring reports that it's not being given an <code>Accept</code> header that it can use, which of course is bogus when you're giving it <code>*/*</code>.</p>\n\n<p>There is a <a href=\"http://jira.codehaus.org/browse/JACKSON-694\" rel=\"noreferrer\">bug</a> for this behavior, but it was closed as \"cannot reproduce\": the method that's being called doesn't declare that it can throw, so swallowing exceptions is apparently an appropriate solution (yes, that was sarcasm). Unfortunately, Jackson doesn't have any logging ... and there are a lot of comments in the codebase wishing it did, so I suspect this isn't the only hidden gotcha.</p>\n"},{"tags":[],"owner":{"account_id":2844343,"reputation":109,"user_id":2443166,"display_name":"Raju Rathi"},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1370090961,"creation_date":1370089716,"answer_id":16872724,"question_id":7462202,"body_markdown":"Make sure that following 2 `jar`&#39;s are present in class path.\r\n\r\nIf any one or both are missing then this error will come.\r\n\r\n    jackson-core-asl-1.9.X.jar jackson-mapper-asl-1.9.X.jar\r\n","title":"Spring JSON request getting 406 (not Acceptable)","body":"<p>Make sure that following 2 <code>jar</code>'s are present in class path.</p>\n\n<p>If any one or both are missing then this error will come.</p>\n\n<pre><code>jackson-core-asl-1.9.X.jar jackson-mapper-asl-1.9.X.jar\n</code></pre>\n"},{"tags":[],"owner":{"account_id":112925,"reputation":880,"user_id":297684,"display_name":"atott"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1440233321,"creation_date":1389050278,"answer_id":20961113,"question_id":7462202,"body_markdown":"I had the same problem, my controller method executes but response is Error 406.\r\nI debug `AbstractMessageConverterMethodProcessor#writeWithMessageConverters` and found that method `ContentNegotiationManager#resolveMediaTypes` always returns `text/html` which is not supported by `MappingJacksonHttpMessageConverter`. The problem is that the  `org.springframework.web.accept.ServletPathExtensionContentNegotiationStrategy` works earlier than `org.springframework.web.accept.HeaderContentNegotiationStrategy`, and extension of my request `/get-clients.html` is the cause of my problem with Error 406. I just changed request url to `/get-clients`.","title":"Spring JSON request getting 406 (not Acceptable)","body":"<p>I had the same problem, my controller method executes but response is Error 406.\nI debug <code>AbstractMessageConverterMethodProcessor#writeWithMessageConverters</code> and found that method <code>ContentNegotiationManager#resolveMediaTypes</code> always returns <code>text/html</code> which is not supported by <code>MappingJacksonHttpMessageConverter</code>. The problem is that the  <code>org.springframework.web.accept.ServletPathExtensionContentNegotiationStrategy</code> works earlier than <code>org.springframework.web.accept.HeaderContentNegotiationStrategy</code>, and extension of my request <code>/get-clients.html</code> is the cause of my problem with Error 406. I just changed request url to <code>/get-clients</code>.</p>\n"},{"tags":[],"owner":{"account_id":212002,"reputation":9879,"user_id":464552,"accept_rate":92,"display_name":"Alex Rashkov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1400484585,"creation_date":1400484585,"answer_id":23732043,"question_id":7462202,"body_markdown":"Other then the obvious problems I had another one that I couldn&#39;t fix regardless of including all possible JARs, dependancies and annotations in Spring servlet. Eventually I found that I have wrong file extension by that I mean I had two separate servlet running in same container and I needed to map to different file extensions where one was &quot;.do&quot; and the other as used for subscriptions was randomly named &quot;.sub&quot;. All good but SUB is valid file extension normally used for films subtitle files and thus Tomcat was overriding the header and returning something like &quot;text/x-dvd.sub...&quot; so all was fine but the application was expecting JSON but getting Subtitles thus all I had to do is change the mapping in my `web.xml` file I&#39;ve added:\r\n\r\n    &lt;mime-mapping&gt;\r\n        &lt;extension&gt;sub&lt;/extension&gt;\r\n        &lt;mime-type&gt;application/json&lt;/mime-type&gt;\r\n    &lt;/mime-mapping&gt;","title":"Spring JSON request getting 406 (not Acceptable)","body":"<p>Other then the obvious problems I had another one that I couldn't fix regardless of including all possible JARs, dependancies and annotations in Spring servlet. Eventually I found that I have wrong file extension by that I mean I had two separate servlet running in same container and I needed to map to different file extensions where one was \".do\" and the other as used for subscriptions was randomly named \".sub\". All good but SUB is valid file extension normally used for films subtitle files and thus Tomcat was overriding the header and returning something like \"text/x-dvd.sub...\" so all was fine but the application was expecting JSON but getting Subtitles thus all I had to do is change the mapping in my <code>web.xml</code> file I've added:</p>\n\n<pre><code>&lt;mime-mapping&gt;\n    &lt;extension&gt;sub&lt;/extension&gt;\n    &lt;mime-type&gt;application/json&lt;/mime-type&gt;\n&lt;/mime-mapping&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":362870,"reputation":5928,"user_id":706295,"accept_rate":66,"display_name":"AKB"},"down_vote_count":1,"up_vote_count":76,"is_accepted":false,"score":75,"last_activity_date":1414523270,"creation_date":1414523270,"answer_id":26616553,"question_id":7462202,"body_markdown":"I had same issue, with Latest Spring 4.1.1 onwards you need to add following jars to pom.xml.\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n        &lt;version&gt;2.4.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n        &lt;version&gt;2.4.1.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nalso make sure you have following jar:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-core-asl&lt;/artifactId&gt;\r\n        &lt;version&gt;1.9.13&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-mapper-asl&lt;/artifactId&gt;\r\n        &lt;version&gt;1.9.13&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n https://stackoverflow.com/questions/26615416/406-spring-mvc-json-not-acceptable-according-to-the-request-accept-headers?lq=1","title":"Spring JSON request getting 406 (not Acceptable)","body":"<p>I had same issue, with Latest Spring 4.1.1 onwards you need to add following jars to pom.xml.</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n    &lt;version&gt;2.4.1&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n    &lt;version&gt;2.4.1.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>also make sure you have following jar:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-core-asl&lt;/artifactId&gt;\n    &lt;version&gt;1.9.13&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-mapper-asl&lt;/artifactId&gt;\n    &lt;version&gt;1.9.13&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p><a href=\"https://stackoverflow.com/questions/26615416/406-spring-mvc-json-not-acceptable-according-to-the-request-accept-headers?lq=1\">406 Spring MVC Json, not acceptable according to the request &quot;accept&quot; headers</a></p>\n"},{"tags":[],"owner":{"account_id":898283,"reputation":1283,"user_id":935079,"accept_rate":100,"display_name":"jambriz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1564576240,"creation_date":1426871359,"answer_id":29172140,"question_id":7462202,"body_markdown":"I was having the same problem because I was missing the @EnableWebMvc annotation. (All of my spring configurations are annotation-based, the XML equivalent would be mvc:annotation-driven)","title":"Spring JSON request getting 406 (not Acceptable)","body":"<p>I was having the same problem because I was missing the @EnableWebMvc annotation. (All of my spring configurations are annotation-based, the XML equivalent would be mvc:annotation-driven)</p>\n"},{"tags":[],"owner":{"account_id":1199784,"reputation":18304,"user_id":1170677,"accept_rate":54,"display_name":"Adelin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1439934955,"creation_date":1439934955,"answer_id":32083234,"question_id":7462202,"body_markdown":"I had the same problem unfortunately non of the solution here solved my problem as my problem was something in a different class. \r\n\r\nI first checked that all dependencies are in place as suggested by @bekur \r\nthen I checked the request/response that travels from clients to the server all headers was in place an properly set by Jquery. \r\nI then checked the `RequestMappingHandlerAdapter` `MessageConverters` and all 7 of them were in place, I really started to hate Spring ! I then updated to from Spring `4.0.6.RELEASE` to `4.2.0.RELEASE` I have got another response rather than the above. It was `Request processing failed; nested exception is java.lang.IllegalArgumentException: No converter found for return value of type` \r\n\r\nHere is my controller method \r\n\r\n      @RequestMapping(value = &quot;/upload&quot;, method = RequestMethod.POST,produces = &quot;application/json&quot;)\r\n        public ResponseEntity&lt;UploadPictureResult&gt; pictureUpload(FirewalledRequest initialRequest) {\r\n    \r\n            DefaultMultipartHttpServletRequest request = (DefaultMultipartHttpServletRequest) initialRequest.getRequest();\r\n    \r\n            try {\r\n                Iterator&lt;String&gt; iterator = request.getFileNames();\r\n    \r\n                while (iterator.hasNext()) {\r\n                    MultipartFile file = request.getFile(iterator.next());\r\n                    session.save(toImage(file));\r\n                }\r\n            } catch (Exception e) {\r\n                return new ResponseEntity&lt;UploadPictureResult&gt;(new UploadPictureResult(),HttpStatus.INTERNAL_SERVER_ERROR);\r\n            }\r\n            return new ResponseEntity&lt;UploadPictureResult&gt;(new UploadPictureResult(), HttpStatus.OK);\r\n        } \r\n\r\n\r\n\r\n\r\n        public class UploadPictureResult extends WebResponse{\r\n    \r\n        private List&lt;Image&gt; images;\r\n    \r\n        public void setImages(List&lt;Image&gt; images) {\r\n            this.images = images;\r\n        }\r\n    }\r\n\r\n \r\n\r\n\r\n\r\n\r\n        public class WebResponse implements Serializable {\r\n    \r\n    \r\n        protected String message;\r\n    \r\n        public WebResponse() {\r\n        }\r\n    \r\n        public WebResponse(String message) {\r\n    \r\n            this.message = message;\r\n        }\r\n    \r\n    \r\n        public void setMessage(String message) {\r\n            this.message = message;\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\nThe solution was to make UploadPictureResult not to extend WebResponse \r\n\r\nFor some reason spring was not able to determine the how to convert UploadPictureReslt when it extended WebResponse ","title":"Spring JSON request getting 406 (not Acceptable)","body":"<p>I had the same problem unfortunately non of the solution here solved my problem as my problem was something in a different class. </p>\n\n<p>I first checked that all dependencies are in place as suggested by @bekur \nthen I checked the request/response that travels from clients to the server all headers was in place an properly set by Jquery. \nI then checked the <code>RequestMappingHandlerAdapter</code> <code>MessageConverters</code> and all 7 of them were in place, I really started to hate Spring ! I then updated to from Spring <code>4.0.6.RELEASE</code> to <code>4.2.0.RELEASE</code> I have got another response rather than the above. It was <code>Request processing failed; nested exception is java.lang.IllegalArgumentException: No converter found for return value of type</code> </p>\n\n<p>Here is my controller method </p>\n\n<pre><code>  @RequestMapping(value = \"/upload\", method = RequestMethod.POST,produces = \"application/json\")\n    public ResponseEntity&lt;UploadPictureResult&gt; pictureUpload(FirewalledRequest initialRequest) {\n\n        DefaultMultipartHttpServletRequest request = (DefaultMultipartHttpServletRequest) initialRequest.getRequest();\n\n        try {\n            Iterator&lt;String&gt; iterator = request.getFileNames();\n\n            while (iterator.hasNext()) {\n                MultipartFile file = request.getFile(iterator.next());\n                session.save(toImage(file));\n            }\n        } catch (Exception e) {\n            return new ResponseEntity&lt;UploadPictureResult&gt;(new UploadPictureResult(),HttpStatus.INTERNAL_SERVER_ERROR);\n        }\n        return new ResponseEntity&lt;UploadPictureResult&gt;(new UploadPictureResult(), HttpStatus.OK);\n    } \n\n\n\n\n    public class UploadPictureResult extends WebResponse{\n\n    private List&lt;Image&gt; images;\n\n    public void setImages(List&lt;Image&gt; images) {\n        this.images = images;\n    }\n}\n\n\n\n\n\n\n    public class WebResponse implements Serializable {\n\n\n    protected String message;\n\n    public WebResponse() {\n    }\n\n    public WebResponse(String message) {\n\n        this.message = message;\n    }\n\n\n    public void setMessage(String message) {\n        this.message = message;\n    }\n}\n</code></pre>\n\n<p>The solution was to make UploadPictureResult not to extend WebResponse </p>\n\n<p>For some reason spring was not able to determine the how to convert UploadPictureReslt when it extended WebResponse </p>\n"},{"tags":[],"owner":{"account_id":1564647,"reputation":1501,"user_id":1453700,"accept_rate":36,"display_name":"Rajan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1446143018,"creation_date":1446143018,"answer_id":33421872,"question_id":7462202,"body_markdown":"    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;com.fasterxml.jackson.jaxrs&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;jackson-jaxrs-base&lt;/artifactId&gt;\r\n    \t&lt;version&gt;2.6.3&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"Spring JSON request getting 406 (not Acceptable)","body":"<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.jaxrs&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-jaxrs-base&lt;/artifactId&gt;\n    &lt;version&gt;2.6.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7251774,"reputation":644,"user_id":5531783,"accept_rate":42,"display_name":"Crabime"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1473833386,"creation_date":1473833386,"answer_id":39483537,"question_id":7462202,"body_markdown":"    &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n            &lt;version&gt;2.8.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\ni don&#39;t use ssl authentication and this jackson-databind contain jackson-core.jar and jackson-databind.jar, and then change the RequestMapping content like this:\r\n\r\n    @RequestMapping(value = &quot;/id/{number}&quot;, produces = &quot;application/json; charset=UTF-8&quot;, method = RequestMethod.GET)\r\n    public @ResponseBody Customer findCustomer(@PathVariable int number){\r\n        Customer result = customerService.findById(number);\r\n        return result;\r\n    }\r\n**attention:**\r\nif your produces is not &quot;application/json&quot; type and i had not noticed this and got an 406 error, help this can help you out.","title":"Spring JSON request getting 406 (not Acceptable)","body":"<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n        &lt;version&gt;2.8.0&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>i don't use ssl authentication and this jackson-databind contain jackson-core.jar and jackson-databind.jar, and then change the RequestMapping content like this:</p>\n\n<pre><code>@RequestMapping(value = \"/id/{number}\", produces = \"application/json; charset=UTF-8\", method = RequestMethod.GET)\npublic @ResponseBody Customer findCustomer(@PathVariable int number){\n    Customer result = customerService.findById(number);\n    return result;\n}\n</code></pre>\n\n<p><strong>attention:</strong>\nif your produces is not \"application/json\" type and i had not noticed this and got an 406 error, help this can help you out.</p>\n"},{"tags":[],"owner":{"account_id":470553,"reputation":436,"user_id":877813,"display_name":"Raven"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1495166292,"creation_date":1495166292,"answer_id":44061201,"question_id":7462202,"body_markdown":"As @atott [mentioned][1].\r\n\r\nIf you have added the latest version of Jackson in your pom.xml, and with Spring 4.0 or newer, using `@ResponseBody` on your action method and `@RequestMapping` configured with `produces=&quot;application/json;charset=utf-8&quot;`, however, you still got 406(Not Acceptable), I guess you need to try this in your MVC DispatcherServlet context configuration:\r\n\r\n\t&lt;mvc:annotation-driven content-negotiation-manager=&quot;contentNegotiationManager&quot; /&gt;\r\n\t\r\n\t&lt;bean id=&quot;contentNegotiationManager&quot; class=&quot;org.springframework.web.accept.ContentNegotiationManagerFactoryBean&quot;&gt;\r\n\t\t&lt;property name=&quot;favorPathExtension&quot; value=&quot;false&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n\r\nThat&#39;s the way how I resolved my issue finally.\r\n\r\n  [1]: https://stackoverflow.com/a/20961113/877813","title":"Spring JSON request getting 406 (not Acceptable)","body":"<p>As @atott <a href=\"https://stackoverflow.com/a/20961113/877813\">mentioned</a>.</p>\n\n<p>If you have added the latest version of Jackson in your pom.xml, and with Spring 4.0 or newer, using <code>@ResponseBody</code> on your action method and <code>@RequestMapping</code> configured with <code>produces=\"application/json;charset=utf-8\"</code>, however, you still got 406(Not Acceptable), I guess you need to try this in your MVC DispatcherServlet context configuration:</p>\n\n<pre><code>&lt;mvc:annotation-driven content-negotiation-manager=\"contentNegotiationManager\" /&gt;\n\n&lt;bean id=\"contentNegotiationManager\" class=\"org.springframework.web.accept.ContentNegotiationManagerFactoryBean\"&gt;\n    &lt;property name=\"favorPathExtension\" value=\"false\" /&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>That's the way how I resolved my issue finally.</p>\n"},{"tags":[],"owner":{"account_id":5920357,"reputation":122,"user_id":4657859,"display_name":"Anh Lam"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1504114582,"creation_date":1504114582,"answer_id":45966583,"question_id":7462202,"body_markdown":"check this thread.\r\nhttps://stackoverflow.com/questions/30204974/spring-mvc-restcontroller-return-json-string\r\np/s: you should add jack son mapping config to your WebMvcConfig class\r\n&gt; `@Override\r\nprotected void configureMessageConverters(\r\n        List&lt;HttpMessageConverter&lt;?&gt;&gt; converters) {\r\n    // put the jackson converter to the front of the list so that application/json content-type strings will be treated as JSON\r\n    converters.add(new MappingJackson2HttpMessageConverter());\r\n    // and probably needs a string converter too for text/plain content-type strings to be properly handled\r\n    converters.add(new StringHttpMessageConverter());\r\n}`","title":"Spring JSON request getting 406 (not Acceptable)","body":"<p>check this thread.\n<a href=\"https://stackoverflow.com/questions/30204974/spring-mvc-restcontroller-return-json-string\">spring mvc restcontroller return json string</a>\np/s: you should add jack son mapping config to your WebMvcConfig class</p>\n\n<blockquote>\n  <p><code>@Override\n  protected void configureMessageConverters(\n          List&lt;HttpMessageConverter&lt;?&gt;&gt; converters) {\n      // put the jackson converter to the front of the list so that application/json content-type strings will be treated as JSON\n      converters.add(new MappingJackson2HttpMessageConverter());\n      // and probably needs a string converter too for text/plain content-type strings to be properly handled\n      converters.add(new StringHttpMessageConverter());\n  }</code></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":6376905,"reputation":4709,"user_id":4947520,"accept_rate":0,"display_name":"Paraneetharan Saravanaperumal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1518408185,"creation_date":1518408185,"answer_id":48739381,"question_id":7462202,"body_markdown":"**This is update answer for springVersion=5.0.3.RELEASE.** \r\n\r\nThose above answers will be only worked older springVersion **&lt; 4.1 version**. for latest spring you have to add following dependencies in gradle file:\r\n\r\n    compile group: &#39;com.fasterxml.jackson.core&#39;, name: &#39;jackson-core&#39;, version: fasterxmljackson\r\n    compile group: &#39;com.fasterxml.jackson.core&#39;, name: &#39;jackson-databind&#39;, version: fasterxmljackson\r\n\r\n    fasterxmljackson=2.9.4\r\n    \r\nI hope this will be helpful for who using latest spring version.","title":"Spring JSON request getting 406 (not Acceptable)","body":"<p><strong>This is update answer for springVersion=5.0.3.RELEASE.</strong> </p>\n\n<p>Those above answers will be only worked older springVersion <strong>&lt; 4.1 version</strong>. for latest spring you have to add following dependencies in gradle file:</p>\n\n<pre><code>compile group: 'com.fasterxml.jackson.core', name: 'jackson-core', version: fasterxmljackson\ncompile group: 'com.fasterxml.jackson.core', name: 'jackson-databind', version: fasterxmljackson\n\nfasterxmljackson=2.9.4\n</code></pre>\n\n<p>I hope this will be helpful for who using latest spring version.</p>\n"},{"tags":[],"owner":{"account_id":10548734,"reputation":676,"user_id":7772054,"display_name":"SHIVA"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1521719623,"creation_date":1521719623,"answer_id":49428028,"question_id":7462202,"body_markdown":"Check `&lt;mvc:annotation-driven /&gt;` in dispatcherservlet.xml , if not add it.\r\nAnd add  \r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-core-asl&lt;/artifactId&gt;\r\n        &lt;version&gt;1.9.13&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-mapper-asl&lt;/artifactId&gt;\r\n        &lt;version&gt;1.9.13&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\nthese dependencies in your pom.xml ","title":"Spring JSON request getting 406 (not Acceptable)","body":"<p>Check <code>&lt;mvc:annotation-driven /&gt;</code> in dispatcherservlet.xml , if not add it.\nAnd add  </p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-core-asl&lt;/artifactId&gt;\n    &lt;version&gt;1.9.13&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-mapper-asl&lt;/artifactId&gt;\n    &lt;version&gt;1.9.13&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>these dependencies in your pom.xml </p>\n"},{"tags":[],"owner":{"account_id":5876051,"reputation":131,"user_id":4626834,"display_name":"Kevin Sebastian Fernandez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1528020901,"creation_date":1528008269,"answer_id":50663933,"question_id":7462202,"body_markdown":"Spring 4.3.10:  I used the below settings to resolve the issue.\r\n\r\nStep 1: Add the below dependencies\r\n\r\n        &lt;dependency&gt;\r\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n        &lt;version&gt;2.6.7&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n        &lt;version&gt;2.6.7&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-core-asl&lt;/artifactId&gt;\r\n        &lt;version&gt;1.9.13&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-mapper-asl&lt;/artifactId&gt;\r\n        &lt;version&gt;1.9.13&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\nStep 2: Add the below in your MVC DispatcherServlet context configuration:\r\n\r\n    &lt;mvc:annotation-driven content-negotiation-manager=&quot;contentNegotiationManager&quot;/&gt;\r\n\r\n    &lt;bean id=&quot;contentNegotiationManager&quot;\r\n    \tclass=&quot;org.springframework.web.accept.ContentNegotiationManagerFactoryBean&quot;&gt;\r\n    \t&lt;property name=&quot;favorPathExtension&quot; value=&quot;false&quot;/&gt;\r\n    \t&lt;property name=&quot;favorParameter&quot; value=&quot;true&quot;/&gt;\r\n    \t&lt;property name=&quot;ignoreAcceptHeader&quot; value=&quot;false&quot; /&gt;\r\n    &lt;/bean&gt;\r\n\r\n\r\nSince spring 3.2, as per the default configuration favorPathExtension is set as true, because of this if the request uri have any proper extensions like `.htm` spring will give priority for the extension. In step 2 I had added the contentNegotiationManager bean to override this.","title":"Spring JSON request getting 406 (not Acceptable)","body":"<p>Spring 4.3.10:  I used the below settings to resolve the issue.</p>\n\n<p>Step 1: Add the below dependencies</p>\n\n<pre><code>    &lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n    &lt;version&gt;2.6.7&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n    &lt;version&gt;2.6.7&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-core-asl&lt;/artifactId&gt;\n    &lt;version&gt;1.9.13&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-mapper-asl&lt;/artifactId&gt;\n    &lt;version&gt;1.9.13&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Step 2: Add the below in your MVC DispatcherServlet context configuration:</p>\n\n<pre><code>&lt;mvc:annotation-driven content-negotiation-manager=\"contentNegotiationManager\"/&gt;\n\n&lt;bean id=\"contentNegotiationManager\"\n    class=\"org.springframework.web.accept.ContentNegotiationManagerFactoryBean\"&gt;\n    &lt;property name=\"favorPathExtension\" value=\"false\"/&gt;\n    &lt;property name=\"favorParameter\" value=\"true\"/&gt;\n    &lt;property name=\"ignoreAcceptHeader\" value=\"false\" /&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>Since spring 3.2, as per the default configuration favorPathExtension is set as true, because of this if the request uri have any proper extensions like <code>.htm</code> spring will give priority for the extension. In step 2 I had added the contentNegotiationManager bean to override this.</p>\n"},{"tags":[],"owner":{"account_id":7929469,"reputation":869,"user_id":5987851,"accept_rate":50,"display_name":"Hazel T"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1538676856,"creation_date":1538676856,"answer_id":52653067,"question_id":7462202,"body_markdown":"Probably no one is scrolling down this far, but none of the above solutions fixed it for me, but making all my getter methods `public` did.\r\n\r\nI&#39;d left my getter visibility at package-private; Jackson decided it couldn&#39;t find them and blew up. (Using `@JsonAutoDetect(getterVisibility=NON_PRIVATE)` only partially fixed it.","title":"Spring JSON request getting 406 (not Acceptable)","body":"<p>Probably no one is scrolling down this far, but none of the above solutions fixed it for me, but making all my getter methods <code>public</code> did.</p>\n\n<p>I'd left my getter visibility at package-private; Jackson decided it couldn't find them and blew up. (Using <code>@JsonAutoDetect(getterVisibility=NON_PRIVATE)</code> only partially fixed it.</p>\n"},{"tags":[],"owner":{"account_id":3265513,"reputation":1106,"user_id":2750098,"accept_rate":67,"display_name":"Riadh"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1547808181,"creation_date":1547808181,"answer_id":54252281,"question_id":7462202,"body_markdown":"Make sure that the sent object (Weather in this case) contains getter/setter","title":"Spring JSON request getting 406 (not Acceptable)","body":"<p>Make sure that the sent object (Weather in this case) contains getter/setter</p>\n"},{"tags":[],"owner":{"account_id":22585429,"reputation":286,"user_id":16769477,"display_name":"Jay Yadav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670518118,"creation_date":1670518118,"answer_id":74733650,"question_id":7462202,"body_markdown":"Simple answer just add Getter method in your domain/model class. &lt;br/&gt;\r\n\r\n&lt;b&gt; But Why this works ?? &lt;/b&gt;\r\n\r\nUnder the hood Spring used &lt;b&gt;HttpMessageConverters&lt;/b&gt; to convert your input JSON to Java Object.&lt;br/&gt; &lt;b&gt;The Accept header&lt;/b&gt; that is passed in the request is used to select appropriate MessageConvertor at runtime. These message convertors use getter of your domain/model class for conversion, so if there are no getter method, Marshall and unmarshall Java Objects to and from JSON will not happen, even if you add Jackson in your classpath, because even Jackson lib uses Getter methods for marshalling stuffs !!.\r\n","title":"Spring JSON request getting 406 (not Acceptable)","body":"<p>Simple answer just add Getter method in your domain/model class. <br/></p>\n<p><b> But Why this works ?? </b></p>\n<p>Under the hood Spring used <b>HttpMessageConverters</b> to convert your input JSON to Java Object.<br/> <b>The Accept header</b> that is passed in the request is used to select appropriate MessageConvertor at runtime. These message convertors use getter of your domain/model class for conversion, so if there are no getter method, Marshall and unmarshall Java Objects to and from JSON will not happen, even if you add Jackson in your classpath, because even Jackson lib uses Getter methods for marshalling stuffs !!.</p>\n"},{"tags":[],"owner":{"account_id":24300729,"reputation":11,"user_id":18244272,"display_name":"spring-developer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681451675,"creation_date":1681451675,"answer_id":76011960,"question_id":7462202,"body_markdown":"For people that are still facing 406 after adding &#39;:*&#39; to path variable regex.\r\n\r\nOverride below method of WebMvcConfigurer interface in any of @Configuration class.\r\n\r\n    @Override\r\n    public void configureContentNegotiation(ContentNegotiationConfigurer configurer) {\r\n        configurer.favorPathExtension(true)\r\n                .mediaType(&quot;json&quot;, MediaType.APPLICATION_JSON)\r\n                .mediaType(&quot;xml&quot;, MediaType.APPLICATION_XML)\r\n                .mediaType(&quot;com&quot;, MediaType.APPLICATION_JSON);\r\n    }\r\n\r\nI have added &quot;com&quot; as an extension as we were using email ids for path variable, and expected a application/json response from our application.","title":"Spring JSON request getting 406 (not Acceptable)","body":"<p>For people that are still facing 406 after adding ':*' to path variable regex.</p>\n<p>Override below method of WebMvcConfigurer interface in any of @Configuration class.</p>\n<pre><code>@Override\npublic void configureContentNegotiation(ContentNegotiationConfigurer configurer) {\n    configurer.favorPathExtension(true)\n            .mediaType(&quot;json&quot;, MediaType.APPLICATION_JSON)\n            .mediaType(&quot;xml&quot;, MediaType.APPLICATION_XML)\n            .mediaType(&quot;com&quot;, MediaType.APPLICATION_JSON);\n}\n</code></pre>\n<p>I have added &quot;com&quot; as an extension as we were using email ids for path variable, and expected a application/json response from our application.</p>\n"},{"tags":[],"owner":{"account_id":16011617,"reputation":11,"user_id":11555584,"display_name":"unbuntry"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688739112,"creation_date":1688547067,"answer_id":76618635,"question_id":7462202,"body_markdown":"This helps me to resolve the issue.\r\n \r\n    &lt;mvc:annotation-driven content-negotiation-manager=&quot;contentNegotiationManager&quot;/&gt;\r\n    \r\n    &lt;bean id=&quot;contentNegotiationManager&quot; \r\n     class=&quot;org.springframework.web.accept.ContentNegotiationManagerFactoryBean&quot;&gt;\r\n        &lt;property name=&quot;favorPathExtension&quot; value=&quot;false&quot;/&gt;\r\n        &lt;property name=&quot;favorParameter&quot; value=&quot;true&quot;/&gt;\r\n        &lt;property name=&quot;ignoreAcceptHeader&quot; value=&quot;false&quot; /&gt;\r\n    &lt;/bean&gt;\r\n\r\nHowever, note that `&lt;mvc:annotation-driven /&gt;` does not include the specific configuration you had in your original snippet for content negotiation. So if you only include `&lt;mvc:annotation-driven /&gt;` and omit the `contentNegotiationManager` bean configuration, the application will use the default behavior for content negotiation. The default behavior typically includes considering the `Accept` header and, if available, the file extension in the URL to determine the media type of the response.","title":"Spring JSON request getting 406 (not Acceptable)","body":"<p>This helps me to resolve the issue.</p>\n<pre><code>&lt;mvc:annotation-driven content-negotiation-manager=&quot;contentNegotiationManager&quot;/&gt;\n\n&lt;bean id=&quot;contentNegotiationManager&quot; \n class=&quot;org.springframework.web.accept.ContentNegotiationManagerFactoryBean&quot;&gt;\n    &lt;property name=&quot;favorPathExtension&quot; value=&quot;false&quot;/&gt;\n    &lt;property name=&quot;favorParameter&quot; value=&quot;true&quot;/&gt;\n    &lt;property name=&quot;ignoreAcceptHeader&quot; value=&quot;false&quot; /&gt;\n&lt;/bean&gt;\n</code></pre>\n<p>However, note that <code>&lt;mvc:annotation-driven /&gt;</code> does not include the specific configuration you had in your original snippet for content negotiation. So if you only include <code>&lt;mvc:annotation-driven /&gt;</code> and omit the <code>contentNegotiationManager</code> bean configuration, the application will use the default behavior for content negotiation. The default behavior typically includes considering the <code>Accept</code> header and, if available, the file extension in the URL to determine the media type of the response.</p>\n"},{"tags":[],"owner":{"account_id":20034653,"reputation":37,"user_id":14686651,"display_name":"Mojtaba"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1689318934,"creation_date":1689102981,"answer_id":76665130,"question_id":7462202,"body_markdown":"in spring boot: imagine that we want to return in web service method same as : \r\n\r\n    ResponseEntity.status(HttpStatus.CREATED)\r\n                        .body(myObject);\r\n    myObject class **need to** use @Data annotation from lombok pakage\r\n    \r\n    @Data\r\n    public class myClass{\r\n    ...\r\n    }","title":"Spring JSON request getting 406 (not Acceptable)","body":"<p>in spring boot: imagine that we want to return in web service method same as :</p>\n<pre><code>ResponseEntity.status(HttpStatus.CREATED)\n                    .body(myObject);\nmyObject class **need to** use @Data annotation from lombok pakage\n\n@Data\npublic class myClass{\n...\n}\n</code></pre>\n"}],"owner":{"account_id":311542,"reputation":16271,"user_id":625189,"accept_rate":92,"display_name":"Jaanus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":244643,"favorite_count":0,"down_vote_count":0,"up_vote_count":91,"accepted_answer_id":7469297,"answer_count":26,"score":91,"last_activity_date":1689318934,"creation_date":1316356967,"question_id":7462202,"body_markdown":"this is my javascript:\r\n\r\n\t\tfunction getWeather() {\r\n\t\t\t$.getJSON(&#39;getTemperature/&#39; + $(&#39;.data option:selected&#39;).val(), null, function(data) {\r\n\t\t\t\talert(&#39;Success&#39;);\t\t\t\t\t\t\t\t\r\n\t\t\t});\r\n\t\t}\r\n\r\n\r\nthis is my controller:\r\n\r\n\r\n    @RequestMapping(value=&quot;/getTemperature/{id}&quot;, headers=&quot;Accept=*/*&quot;, method = RequestMethod.GET)\r\n    @ResponseBody\r\n    public Weather getTemparature(@PathVariable(&quot;id&quot;) Integer id){\r\n    \tWeather weather = weatherService.getCurrentWeather(id);\r\n    \t\treturn weather;\r\n    }\r\n\r\n\r\nspring-servlet.xml\r\n\r\n    &lt;context:annotation-config /&gt;\r\n    &lt;tx:annotation-driven /&gt;\r\n\r\n\r\nGetting this error:\r\n\r\n    GET http://localhost:8080/web/getTemperature/2 406 (Not Acceptable)\r\n\r\n\r\nHeaders:\r\n\r\n**Response Headers**\r\n\r\n    Server\tApache-Coyote/1.1\r\n    Content-Type\ttext/html;charset=utf-8\r\n    Content-Length\t1070\r\n    Date\tSun, 18 Sep 2011 17:00:35 GMT\r\n\r\n\r\n**Request Headers**\r\n\r\n    Host\tlocalhost:8080\r\n    User-Agent\tMozilla/5.0 (Windows NT 6.1; WOW64; rv:6.0.2) Gecko/20100101 Firefox/6.0.2\r\n    Accept\tapplication/json, text/javascript, */*; q=0.01\r\n    Accept-Language\ten-us,en;q=0.5\r\n    Accept-Encoding\tgzip, deflate\r\n    Accept-Charset\tISO-8859-1,utf-8;q=0.7,*;q=0.7\r\n    Connection\tkeep-alive\r\n    X-Requested-With\tXMLHttpRequest\r\n    Referer\thttp://localhost:8080/web/weather\r\n    Cookie\tJSESSIONID=7D27FAC18050ED84B58DAFB0A51CB7E4\r\n\r\n\r\n\r\n\r\nInteresting note:\r\n\r\n**I get 406 error, but the hibernate query works meanwhile.**\r\nThis is what tomcat log says, everytime when I change selection in dropbox:\r\n\r\n     select weather0_.ID as ID0_0_, weather0_.CITY_ID as CITY2_0_0_, weather0_.DATE as DATE0_0_, weather0_.TEMP as TEMP0_0_ from WEATHER weather0_ where weather0_.ID=?\r\n\r\n\r\n\r\nWhat could the problem be? There were two similar questions in SO before, I tried all the accepted hints there, but they did not work I guess...\r\n\r\nAny suggestions? Feel free to ask questions...","title":"Spring JSON request getting 406 (not Acceptable)","body":"<p>this is my javascript:</p>\n\n<pre><code>    function getWeather() {\n        $.getJSON('getTemperature/' + $('.data option:selected').val(), null, function(data) {\n            alert('Success');                               \n        });\n    }\n</code></pre>\n\n<p>this is my controller:</p>\n\n<pre><code>@RequestMapping(value=\"/getTemperature/{id}\", headers=\"Accept=*/*\", method = RequestMethod.GET)\n@ResponseBody\npublic Weather getTemparature(@PathVariable(\"id\") Integer id){\n    Weather weather = weatherService.getCurrentWeather(id);\n        return weather;\n}\n</code></pre>\n\n<p>spring-servlet.xml</p>\n\n<pre><code>&lt;context:annotation-config /&gt;\n&lt;tx:annotation-driven /&gt;\n</code></pre>\n\n<p>Getting this error:</p>\n\n<pre><code>GET http://localhost:8080/web/getTemperature/2 406 (Not Acceptable)\n</code></pre>\n\n<p>Headers:</p>\n\n<p><strong>Response Headers</strong></p>\n\n<pre><code>Server  Apache-Coyote/1.1\nContent-Type    text/html;charset=utf-8\nContent-Length  1070\nDate    Sun, 18 Sep 2011 17:00:35 GMT\n</code></pre>\n\n<p><strong>Request Headers</strong></p>\n\n<pre><code>Host    localhost:8080\nUser-Agent  Mozilla/5.0 (Windows NT 6.1; WOW64; rv:6.0.2) Gecko/20100101 Firefox/6.0.2\nAccept  application/json, text/javascript, */*; q=0.01\nAccept-Language en-us,en;q=0.5\nAccept-Encoding gzip, deflate\nAccept-Charset  ISO-8859-1,utf-8;q=0.7,*;q=0.7\nConnection  keep-alive\nX-Requested-With    XMLHttpRequest\nReferer http://localhost:8080/web/weather\nCookie  JSESSIONID=7D27FAC18050ED84B58DAFB0A51CB7E4\n</code></pre>\n\n<p>Interesting note:</p>\n\n<p><strong>I get 406 error, but the hibernate query works meanwhile.</strong>\nThis is what tomcat log says, everytime when I change selection in dropbox:</p>\n\n<pre><code> select weather0_.ID as ID0_0_, weather0_.CITY_ID as CITY2_0_0_, weather0_.DATE as DATE0_0_, weather0_.TEMP as TEMP0_0_ from WEATHER weather0_ where weather0_.ID=?\n</code></pre>\n\n<p>What could the problem be? There were two similar questions in SO before, I tried all the accepted hints there, but they did not work I guess...</p>\n\n<p>Any suggestions? Feel free to ask questions...</p>\n"},{"tags":["java","htmlunit"],"answers":[{"tags":[],"owner":{"account_id":6163228,"reputation":2754,"user_id":4804091,"display_name":"RBRi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689318245,"creation_date":1689318245,"answer_id":76685391,"question_id":76683432,"body_markdown":"There are still some problems with these applications manly because of some missing DOM features (e.g. ShadowDOM) or some problems with the javascript support.\r\nBoth areas are constantly improving but we have to look at this from case to case. If you are able to open an issue pointing to a missing or misbehaving function (and maybe provide a small test case) there is a good chance to get this fixed/improved.\r\n\r\nOutside of this general problems it might be a good idea to have a look at the HtmlUnitBrowser class from the Wetator (www.wetator.org) project. This has many generic implementations you might find useful to get some ideas how you can handle common problems.\r\n\r\nhttps://github.com/Wetator/wetator/blob/master/src/main/java/org/wetator/backend/htmlunit/HtmlUnitBrowser.java\r\n\r\nE.g have a look at waitForImmediateJobs() or getCurrentPage().","title":"Using HtmlUnit to load dynamic web apps","body":"<p>There are still some problems with these applications manly because of some missing DOM features (e.g. ShadowDOM) or some problems with the javascript support.\nBoth areas are constantly improving but we have to look at this from case to case. If you are able to open an issue pointing to a missing or misbehaving function (and maybe provide a small test case) there is a good chance to get this fixed/improved.</p>\n<p>Outside of this general problems it might be a good idea to have a look at the HtmlUnitBrowser class from the Wetator (<a href=\"http://www.wetator.org\" rel=\"nofollow noreferrer\">www.wetator.org</a>) project. This has many generic implementations you might find useful to get some ideas how you can handle common problems.</p>\n<p><a href=\"https://github.com/Wetator/wetator/blob/master/src/main/java/org/wetator/backend/htmlunit/HtmlUnitBrowser.java\" rel=\"nofollow noreferrer\">https://github.com/Wetator/wetator/blob/master/src/main/java/org/wetator/backend/htmlunit/HtmlUnitBrowser.java</a></p>\n<p>E.g have a look at waitForImmediateJobs() or getCurrentPage().</p>\n"}],"owner":{"account_id":412334,"reputation":33758,"user_id":785349,"accept_rate":94,"display_name":"quarks"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689318245,"creation_date":1689284875,"question_id":76683432,"body_markdown":"Pardon the long code, but I have been trying to make a web page loader class that can load both static and dynamic pages. The code below works fine with mostly static web pages but it won&#39;t load SPA web apps (*and the CSS selector always fail*), like apps than runs on Vue, React, GWT, etc. also websites that are gated by authentication (hence the `HttpHeaderSpec` data structure)\r\n\r\n\r\n**What could be wrong in this code:**\r\n```\r\npublic class WebPageLoader {\r\n    private static final int WEB_CLIENT_POOL_SIZE = 3;\r\n    private static final int JAVASCRIPT_WAIT_TIME = 10000;\r\n    private static final int MAX_ATTEMPTS = 3;\r\n\r\n    private final String targetUrl;\r\n    private final String cssSelector;\r\n    private final int maxAttempts;\r\n    private final HttpHeadersSpec httpHeadersSpec;\r\n    private Consumer&lt;String&gt; whenMaxAttemptsFailed;\r\n    private static final BlockingQueue&lt;WebClient&gt; webClients = new LinkedBlockingQueue&lt;&gt;();\r\n\r\n    static {\r\n        // Create and initialize 3 web clients statically\r\n        for (int i = 0; i &lt; WEB_CLIENT_POOL_SIZE; i++) {\r\n            webClients.add(createWebClient());\r\n        }\r\n    }\r\n\r\n    public WebPageLoader(String targetUrl) {\r\n        this(targetUrl, null, MAX_ATTEMPTS, null); // Default max attempts is 5\r\n    }\r\n\r\n    public WebPageLoader(String targetUrl, String cssSelector) {\r\n        this(targetUrl, cssSelector, MAX_ATTEMPTS, null); // Default max attempts is 5\r\n    }\r\n\r\n    public WebPageLoader(String targetUrl, String cssSelector, HttpHeadersSpec httpHeadersSpec) {\r\n        this(targetUrl, cssSelector, MAX_ATTEMPTS, httpHeadersSpec); // Default max attempts is 5\r\n    }\r\n\r\n    public WebPageLoader(String targetUrl, String cssSelector, int maxAttempts, HttpHeadersSpec httpHeadersSpec) {\r\n        this.targetUrl = Objects.requireNonNull(targetUrl, &quot;Target URL cannot be null&quot;);\r\n        this.cssSelector = cssSelector;\r\n        this.httpHeadersSpec = httpHeadersSpec != null ? httpHeadersSpec : new HttpHeadersSpec();\r\n        this.maxAttempts = MAX_ATTEMPTS;\r\n    }\r\n\r\n    public void whenMaxAttemptsFailed(Consumer&lt;String&gt; whenMaxAttemptsFailed) {\r\n        this.whenMaxAttemptsFailed = whenMaxAttemptsFailed;\r\n    }\r\n\r\n    public Webpage loadWebPageAfterCSSSelectorIsReady() throws InterruptedException, IOException {\r\n        WebClient webClient = getAvailableWebClient();\r\n        try {\r\n            HtmlPage page = prepareAndLoadPage(webClient);\r\n            if (cssSelector != null) waitForSelector(page);\r\n            return createWebpage(page);\r\n        } finally {\r\n            // Release the web client for reuse\r\n            releaseWebClient(webClient);\r\n        }\r\n    }\r\n\r\n    protected HtmlPage prepareAndLoadPage(WebClient webClient) throws IOException {\r\n        long startTime = System.currentTimeMillis();\r\n        String domain = LinkProcessor.getDomainName(targetUrl);\r\n\r\n        if(httpHeadersSpec != null) {\r\n            applyHttpHeaders(webClient, domain, httpHeadersSpec);\r\n        }\r\n\r\n        HtmlPage page = webClient.getPage(targetUrl);\r\n\r\n        if (httpHeadersSpec != null &amp;&amp; httpHeadersSpec.getLocal_storage() != null) {\r\n            for (StorageItemSpec item : httpHeadersSpec.getLocal_storage()) {\r\n                page.executeJavaScript(\r\n                        &quot;localStorage.setItem(&#39;&quot; + item.getKey() + &quot;&#39;, &#39;&quot; + item.getValue() + &quot;&#39;);&quot;);\r\n            }\r\n        }\r\n\r\n        // Refresh the page after loading keys to the local storage to hopefully be picked up\r\n        page.refresh();\r\n        webClient.waitForBackgroundJavaScriptStartingBefore(JAVASCRIPT_WAIT_TIME);\r\n\r\n        long endTime = System.currentTimeMillis();\r\n        long executionTime = endTime - startTime;\r\n        System.out.println(&quot;Page execution time: &quot; + executionTime + &quot; ms&quot;);\r\n\r\n        return page;\r\n    }\r\n\r\n    protected void waitForSelector(HtmlPage page) throws InterruptedException {\r\n        if (cssSelector != null) {\r\n            int attempts = 0;\r\n            while (attempts &lt; maxAttempts) {\r\n                DomNodeList&lt;DomNode&gt; elements = page.querySelectorAll(cssSelector);\r\n                if (elements.size() &gt; 0) {\r\n                    break;\r\n                }\r\n                synchronized (page) {\r\n                    page.wait(JAVASCRIPT_WAIT_TIME); // wait fox x seconds before trying again\r\n                }\r\n                attempts++;\r\n            }\r\n            if (attempts == maxAttempts) {\r\n                if (whenMaxAttemptsFailed != null) {\r\n                    whenMaxAttemptsFailed.accept(cssSelector);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    protected String getCssSelector() {\r\n        return this.cssSelector;\r\n    }\r\n\r\n    private Webpage createWebpage(HtmlPage page) {\r\n        int statusCode = page.getWebResponse().getStatusCode();\r\n        Webpage webPage = new Webpage(page.asXml(), statusCode);\r\n        webPage.setUrl(targetUrl);\r\n        return webPage;\r\n    }\r\n\r\n    // Get an available web client from the pool or create a new one if none is available\r\n    protected WebClient getAvailableWebClient() throws InterruptedException {\r\n        WebClient webClient;\r\n        synchronized (webClients) {\r\n            while (webClients.isEmpty()) {\r\n                try {\r\n                    webClients.wait();\r\n                } catch (InterruptedException e) {\r\n                    Thread.currentThread().interrupt();\r\n                }\r\n            }\r\n            webClient = webClients.take();\r\n        }\r\n        return webClient;\r\n    }\r\n\r\n    // Release the web client back to the pool for reuse\r\n    protected void releaseWebClient(WebClient webClient) {\r\n        synchronized (webClients) {\r\n            webClients.add(webClient);\r\n            webClients.notifyAll();\r\n        }\r\n    }\r\n\r\n    private static void applyHttpHeaders(WebClient webClient, String domain, HttpHeadersSpec httpHeadersSpec) {\r\n        // Apply cookies\r\n        if(httpHeadersSpec.getCookies() != null) {\r\n            httpHeadersSpec.getCookies().forEach(cookieSpec -&gt;\r\n                    webClient.getCookieManager().addCookie(new Cookie(domain, cookieSpec.getKey(), cookieSpec.getValue())));\r\n        }\r\n    }\r\n\r\n    // Create a WebClient with the desired settings\r\n    private static WebClient createWebClient() {\r\n        WebClient webClient = new WebClient(BrowserVersion.BEST_SUPPORTED);\r\n        webClient.getOptions().setUseInsecureSSL(false);\r\n        webClient.getOptions().setAppletEnabled(false);\r\n        webClient.getOptions().setDownloadImages(false);\r\n        webClient.getOptions().setPopupBlockerEnabled(true);\r\n        webClient.getOptions().setRedirectEnabled(true);\r\n        webClient.getOptions().setJavaScriptEnabled(true);\r\n        webClient.getOptions().setThrowExceptionOnScriptError(false);\r\n        webClient.getOptions().setThrowExceptionOnFailingStatusCode(false);\r\n        webClient.getOptions().setPrintContentOnFailingStatusCode(false);\r\n        webClient.setJavaScriptErrorListener(new SilentJavaScriptErrorListener());\r\n        webClient.getOptions().setCssEnabled(true);\r\n        webClient.setCssErrorHandler(new SilentCssErrorHandler());\r\n        webClient.getCookieManager().setCookiesEnabled(true);\r\n        return webClient;\r\n    }\r\n}\r\n```","title":"Using HtmlUnit to load dynamic web apps","body":"<p>Pardon the long code, but I have been trying to make a web page loader class that can load both static and dynamic pages. The code below works fine with mostly static web pages but it won't load SPA web apps (<em>and the CSS selector always fail</em>), like apps than runs on Vue, React, GWT, etc. also websites that are gated by authentication (hence the <code>HttpHeaderSpec</code> data structure)</p>\n<p><strong>What could be wrong in this code:</strong></p>\n<pre><code>public class WebPageLoader {\n    private static final int WEB_CLIENT_POOL_SIZE = 3;\n    private static final int JAVASCRIPT_WAIT_TIME = 10000;\n    private static final int MAX_ATTEMPTS = 3;\n\n    private final String targetUrl;\n    private final String cssSelector;\n    private final int maxAttempts;\n    private final HttpHeadersSpec httpHeadersSpec;\n    private Consumer&lt;String&gt; whenMaxAttemptsFailed;\n    private static final BlockingQueue&lt;WebClient&gt; webClients = new LinkedBlockingQueue&lt;&gt;();\n\n    static {\n        // Create and initialize 3 web clients statically\n        for (int i = 0; i &lt; WEB_CLIENT_POOL_SIZE; i++) {\n            webClients.add(createWebClient());\n        }\n    }\n\n    public WebPageLoader(String targetUrl) {\n        this(targetUrl, null, MAX_ATTEMPTS, null); // Default max attempts is 5\n    }\n\n    public WebPageLoader(String targetUrl, String cssSelector) {\n        this(targetUrl, cssSelector, MAX_ATTEMPTS, null); // Default max attempts is 5\n    }\n\n    public WebPageLoader(String targetUrl, String cssSelector, HttpHeadersSpec httpHeadersSpec) {\n        this(targetUrl, cssSelector, MAX_ATTEMPTS, httpHeadersSpec); // Default max attempts is 5\n    }\n\n    public WebPageLoader(String targetUrl, String cssSelector, int maxAttempts, HttpHeadersSpec httpHeadersSpec) {\n        this.targetUrl = Objects.requireNonNull(targetUrl, &quot;Target URL cannot be null&quot;);\n        this.cssSelector = cssSelector;\n        this.httpHeadersSpec = httpHeadersSpec != null ? httpHeadersSpec : new HttpHeadersSpec();\n        this.maxAttempts = MAX_ATTEMPTS;\n    }\n\n    public void whenMaxAttemptsFailed(Consumer&lt;String&gt; whenMaxAttemptsFailed) {\n        this.whenMaxAttemptsFailed = whenMaxAttemptsFailed;\n    }\n\n    public Webpage loadWebPageAfterCSSSelectorIsReady() throws InterruptedException, IOException {\n        WebClient webClient = getAvailableWebClient();\n        try {\n            HtmlPage page = prepareAndLoadPage(webClient);\n            if (cssSelector != null) waitForSelector(page);\n            return createWebpage(page);\n        } finally {\n            // Release the web client for reuse\n            releaseWebClient(webClient);\n        }\n    }\n\n    protected HtmlPage prepareAndLoadPage(WebClient webClient) throws IOException {\n        long startTime = System.currentTimeMillis();\n        String domain = LinkProcessor.getDomainName(targetUrl);\n\n        if(httpHeadersSpec != null) {\n            applyHttpHeaders(webClient, domain, httpHeadersSpec);\n        }\n\n        HtmlPage page = webClient.getPage(targetUrl);\n\n        if (httpHeadersSpec != null &amp;&amp; httpHeadersSpec.getLocal_storage() != null) {\n            for (StorageItemSpec item : httpHeadersSpec.getLocal_storage()) {\n                page.executeJavaScript(\n                        &quot;localStorage.setItem('&quot; + item.getKey() + &quot;', '&quot; + item.getValue() + &quot;');&quot;);\n            }\n        }\n\n        // Refresh the page after loading keys to the local storage to hopefully be picked up\n        page.refresh();\n        webClient.waitForBackgroundJavaScriptStartingBefore(JAVASCRIPT_WAIT_TIME);\n\n        long endTime = System.currentTimeMillis();\n        long executionTime = endTime - startTime;\n        System.out.println(&quot;Page execution time: &quot; + executionTime + &quot; ms&quot;);\n\n        return page;\n    }\n\n    protected void waitForSelector(HtmlPage page) throws InterruptedException {\n        if (cssSelector != null) {\n            int attempts = 0;\n            while (attempts &lt; maxAttempts) {\n                DomNodeList&lt;DomNode&gt; elements = page.querySelectorAll(cssSelector);\n                if (elements.size() &gt; 0) {\n                    break;\n                }\n                synchronized (page) {\n                    page.wait(JAVASCRIPT_WAIT_TIME); // wait fox x seconds before trying again\n                }\n                attempts++;\n            }\n            if (attempts == maxAttempts) {\n                if (whenMaxAttemptsFailed != null) {\n                    whenMaxAttemptsFailed.accept(cssSelector);\n                }\n            }\n        }\n    }\n\n    protected String getCssSelector() {\n        return this.cssSelector;\n    }\n\n    private Webpage createWebpage(HtmlPage page) {\n        int statusCode = page.getWebResponse().getStatusCode();\n        Webpage webPage = new Webpage(page.asXml(), statusCode);\n        webPage.setUrl(targetUrl);\n        return webPage;\n    }\n\n    // Get an available web client from the pool or create a new one if none is available\n    protected WebClient getAvailableWebClient() throws InterruptedException {\n        WebClient webClient;\n        synchronized (webClients) {\n            while (webClients.isEmpty()) {\n                try {\n                    webClients.wait();\n                } catch (InterruptedException e) {\n                    Thread.currentThread().interrupt();\n                }\n            }\n            webClient = webClients.take();\n        }\n        return webClient;\n    }\n\n    // Release the web client back to the pool for reuse\n    protected void releaseWebClient(WebClient webClient) {\n        synchronized (webClients) {\n            webClients.add(webClient);\n            webClients.notifyAll();\n        }\n    }\n\n    private static void applyHttpHeaders(WebClient webClient, String domain, HttpHeadersSpec httpHeadersSpec) {\n        // Apply cookies\n        if(httpHeadersSpec.getCookies() != null) {\n            httpHeadersSpec.getCookies().forEach(cookieSpec -&gt;\n                    webClient.getCookieManager().addCookie(new Cookie(domain, cookieSpec.getKey(), cookieSpec.getValue())));\n        }\n    }\n\n    // Create a WebClient with the desired settings\n    private static WebClient createWebClient() {\n        WebClient webClient = new WebClient(BrowserVersion.BEST_SUPPORTED);\n        webClient.getOptions().setUseInsecureSSL(false);\n        webClient.getOptions().setAppletEnabled(false);\n        webClient.getOptions().setDownloadImages(false);\n        webClient.getOptions().setPopupBlockerEnabled(true);\n        webClient.getOptions().setRedirectEnabled(true);\n        webClient.getOptions().setJavaScriptEnabled(true);\n        webClient.getOptions().setThrowExceptionOnScriptError(false);\n        webClient.getOptions().setThrowExceptionOnFailingStatusCode(false);\n        webClient.getOptions().setPrintContentOnFailingStatusCode(false);\n        webClient.setJavaScriptErrorListener(new SilentJavaScriptErrorListener());\n        webClient.getOptions().setCssEnabled(true);\n        webClient.setCssErrorHandler(new SilentCssErrorHandler());\n        webClient.getCookieManager().setCookiesEnabled(true);\n        return webClient;\n    }\n}\n</code></pre>\n"},{"tags":["java","maven","plugins","robotframework"],"owner":{"account_id":2332713,"reputation":319,"user_id":2045688,"accept_rate":0,"display_name":"Vijay Kumar Chauhan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689318240,"creation_date":1689318240,"question_id":76685389,"body_markdown":"We have been using the following plugin: \r\n\r\n    \r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;com.googlecode.robotframework-maven-plugin&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;robotframework-maven-plugin&lt;/artifactId&gt;\r\n                        &lt;version&gt;1.1.2&lt;/version&gt;\r\n                        &lt;executions&gt;\r\n                            &lt;execution&gt;\r\n                                &lt;id&gt;prepare-test&lt;/id&gt;\r\n                                &lt;goals&gt;\r\n                                    &lt;goal&gt;run&lt;/goal&gt;\r\n                                &lt;/goals&gt;\r\n                                &lt;configuration&gt;\r\n                                    &lt;testCasesDirectory&gt;src/test/resources/robotframework/prepare&lt;/testCasesDirectory&gt;\r\n                                    &lt;tests&gt;\r\n                                        &lt;test&gt;Prepare.Prepare-Tests.Prepare NREG&lt;/test&gt;\r\n                                    &lt;/tests&gt;\r\n                                    &lt;outputDirectory&gt;target&lt;/outputDirectory&gt;\r\n                                    &lt;variables&gt;\r\n                                        &lt;variable&gt;TAGS:${tags}&lt;/variable&gt;\r\n                                        &lt;variable&gt;NOTAGS:${notags}&lt;/variable&gt;\r\n                                    &lt;/variables&gt;\r\n                                    &lt;variableFiles&gt;\r\n                                        &lt;variableFile&gt;test-data/common.py&lt;/variableFile&gt;\r\n                                        &lt;variableFile&gt;test-data/servers/${arc}.py&lt;/variableFile&gt;\r\n                                    &lt;/variableFiles&gt;\r\n                                &lt;/configuration&gt;\r\n                            &lt;/execution&gt;\r\n                            &lt;execution&gt;\r\n                                &lt;id&gt;execute-test&lt;/id&gt;\r\n                                &lt;goals&gt;\r\n                                    &lt;goal&gt;run&lt;/goal&gt;\r\n                                &lt;/goals&gt;\r\n                                &lt;configuration&gt;\r\n                                    &lt;testCasesDirectory&gt;test-data/nreg/tests&lt;/testCasesDirectory&gt;\r\n                                    &lt;outputDirectory&gt;test-data/nreg&lt;/outputDirectory&gt;\r\n                                    &lt;argumentFile&gt;test-data/nreg/tests/tags.txt&lt;/argumentFile&gt;\r\n                                    &lt;nonCriticalTags&gt;\r\n                                        &lt;nonCriticalTag&gt;TDD&lt;/nonCriticalTag&gt;\r\n                                    &lt;/nonCriticalTags&gt;\r\n                                    &lt;testFailureIgnore&gt;true&lt;/testFailureIgnore&gt;\r\n                                &lt;/configuration&gt;\r\n                            &lt;/execution&gt;\r\n                        &lt;/executions&gt;\r\n                    &lt;/plugin&gt;\r\n\r\n\r\nWe want the test project to be migrated to Java 17. \r\nI tried using \r\n\r\n    &lt;groupId&gt;org.robotframework&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;robotframework-maven-plugin&lt;/artifactId&gt;\r\n                        &lt;version&gt;2.1.0&lt;/version&gt;\r\nBut, it throws an error: \r\n\r\n    [ERROR] Failed to execute goal org.robotframework:robotframework-maven-plugin:2.1.0:run (execute-test) on project tarc-robot: Invalid test data or command line options.\r\n\r\nSome of the posts on internet suggests, the testCasesDirectory can only contain robot files and not HTML files.We have a lot of HTML files generated at the testCasesDirectory location. \r\n\r\nCould someone suggests an alternative for com.googlecode.robotframework-maven-plugin: robotframework-maven-plugin which supports HTML files in testCasesDirectory or a way to make this plugin work with Java 17 ? \r\ncom.googlecode.robotframework-maven-plugin: robotframework-maven-plugin needs tools jar version 1.6, which is no longer present in Java 17 but was present in Java 8.","title":"What is the Java 17 alternative for com.googlecode.robotframework-maven-plugin : robotframework-maven-plugin?","body":"<p>We have been using the following plugin:</p>\n<pre><code>                &lt;plugin&gt;\n                    &lt;groupId&gt;com.googlecode.robotframework-maven-plugin&lt;/groupId&gt;\n                    &lt;artifactId&gt;robotframework-maven-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;1.1.2&lt;/version&gt;\n                    &lt;executions&gt;\n                        &lt;execution&gt;\n                            &lt;id&gt;prepare-test&lt;/id&gt;\n                            &lt;goals&gt;\n                                &lt;goal&gt;run&lt;/goal&gt;\n                            &lt;/goals&gt;\n                            &lt;configuration&gt;\n                                &lt;testCasesDirectory&gt;src/test/resources/robotframework/prepare&lt;/testCasesDirectory&gt;\n                                &lt;tests&gt;\n                                    &lt;test&gt;Prepare.Prepare-Tests.Prepare NREG&lt;/test&gt;\n                                &lt;/tests&gt;\n                                &lt;outputDirectory&gt;target&lt;/outputDirectory&gt;\n                                &lt;variables&gt;\n                                    &lt;variable&gt;TAGS:${tags}&lt;/variable&gt;\n                                    &lt;variable&gt;NOTAGS:${notags}&lt;/variable&gt;\n                                &lt;/variables&gt;\n                                &lt;variableFiles&gt;\n                                    &lt;variableFile&gt;test-data/common.py&lt;/variableFile&gt;\n                                    &lt;variableFile&gt;test-data/servers/${arc}.py&lt;/variableFile&gt;\n                                &lt;/variableFiles&gt;\n                            &lt;/configuration&gt;\n                        &lt;/execution&gt;\n                        &lt;execution&gt;\n                            &lt;id&gt;execute-test&lt;/id&gt;\n                            &lt;goals&gt;\n                                &lt;goal&gt;run&lt;/goal&gt;\n                            &lt;/goals&gt;\n                            &lt;configuration&gt;\n                                &lt;testCasesDirectory&gt;test-data/nreg/tests&lt;/testCasesDirectory&gt;\n                                &lt;outputDirectory&gt;test-data/nreg&lt;/outputDirectory&gt;\n                                &lt;argumentFile&gt;test-data/nreg/tests/tags.txt&lt;/argumentFile&gt;\n                                &lt;nonCriticalTags&gt;\n                                    &lt;nonCriticalTag&gt;TDD&lt;/nonCriticalTag&gt;\n                                &lt;/nonCriticalTags&gt;\n                                &lt;testFailureIgnore&gt;true&lt;/testFailureIgnore&gt;\n                            &lt;/configuration&gt;\n                        &lt;/execution&gt;\n                    &lt;/executions&gt;\n                &lt;/plugin&gt;\n</code></pre>\n<p>We want the test project to be migrated to Java 17.\nI tried using</p>\n<pre><code>&lt;groupId&gt;org.robotframework&lt;/groupId&gt;\n                    &lt;artifactId&gt;robotframework-maven-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;2.1.0&lt;/version&gt;\n</code></pre>\n<p>But, it throws an error:</p>\n<pre><code>[ERROR] Failed to execute goal org.robotframework:robotframework-maven-plugin:2.1.0:run (execute-test) on project tarc-robot: Invalid test data or command line options.\n</code></pre>\n<p>Some of the posts on internet suggests, the testCasesDirectory can only contain robot files and not HTML files.We have a lot of HTML files generated at the testCasesDirectory location.</p>\n<p>Could someone suggests an alternative for com.googlecode.robotframework-maven-plugin: robotframework-maven-plugin which supports HTML files in testCasesDirectory or a way to make this plugin work with Java 17 ?\ncom.googlecode.robotframework-maven-plugin: robotframework-maven-plugin needs tools jar version 1.6, which is no longer present in Java 17 but was present in Java 8.</p>\n"},{"tags":["java","resttemplate"],"answers":[{"tags":[],"owner":{"account_id":2510127,"reputation":4952,"user_id":2182809,"accept_rate":65,"display_name":"Nimila Hiranya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689317970,"creation_date":1689317970,"answer_id":76685358,"question_id":76685170,"body_markdown":"For now I built the following method to manually extract the values to a map.\r\n\r\n    private Map&lt;String, String&gt; buildResponseMapFromString(String response) {\r\n            Map&lt;String, String&gt; saleResponse = new HashMap&lt;&gt;();\r\n            try {\r\n                String[] responseArray = response.split(&quot;&amp;&quot;);\r\n                for (String s : responseArray) {\r\n                    String[] keyValue = s.split(&quot;=&quot;);\r\n                    if (keyValue.length == 2) {\r\n                        saleResponse.put(keyValue[0], keyValue[1]);\r\n                    } else {\r\n                        saleResponse.put(keyValue[0], &quot;&quot;);\r\n                    }\r\n                }\r\n            } catch (Exception e) {\r\n                logger.error(&quot;Error while parsing response map from Response String&quot;, e);\r\n            }\r\n            return saleResponse;\r\n    }\r\n\r\nIf there&#39;s a better, elegant solution, please do go ahead.","title":"Unmarshalling Parameterized URL String Return Type with Rest Template","body":"<p>For now I built the following method to manually extract the values to a map.</p>\n<pre><code>private Map&lt;String, String&gt; buildResponseMapFromString(String response) {\n        Map&lt;String, String&gt; saleResponse = new HashMap&lt;&gt;();\n        try {\n            String[] responseArray = response.split(&quot;&amp;&quot;);\n            for (String s : responseArray) {\n                String[] keyValue = s.split(&quot;=&quot;);\n                if (keyValue.length == 2) {\n                    saleResponse.put(keyValue[0], keyValue[1]);\n                } else {\n                    saleResponse.put(keyValue[0], &quot;&quot;);\n                }\n            }\n        } catch (Exception e) {\n            logger.error(&quot;Error while parsing response map from Response String&quot;, e);\n        }\n        return saleResponse;\n}\n</code></pre>\n<p>If there's a better, elegant solution, please do go ahead.</p>\n"}],"owner":{"account_id":2510127,"reputation":4952,"user_id":2182809,"accept_rate":65,"display_name":"Nimila Hiranya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689317970,"creation_date":1689316022,"question_id":76685170,"body_markdown":"I&#39;m running an `application/x-www-form-urlencoded` POST and getting the following as the response.\r\n\r\n    response=3&amp;responsetext=1006: The specified transaction in the request is not allowed: REJECTED CONTACT CUST SERV\r\n    REFID:1202053070&amp;authcode=&amp;transactionid=&amp;avsresponse=&amp;cvvresponse=&amp;orderid=&amp;type=sale&amp;response_code=300&amp;masked_merchant_number=\r\n\r\nCurrently, I&#39;m capturing the response as a String from the `RestTemplate.postForEntity` method.\r\n\r\nHow can I capture this response into an object/map? A map would be ideal since the parameters tend to change according success/failure responses.","title":"Unmarshalling Parameterized URL String Return Type with Rest Template","body":"<p>I'm running an <code>application/x-www-form-urlencoded</code> POST and getting the following as the response.</p>\n<pre><code>response=3&amp;responsetext=1006: The specified transaction in the request is not allowed: REJECTED CONTACT CUST SERV\nREFID:1202053070&amp;authcode=&amp;transactionid=&amp;avsresponse=&amp;cvvresponse=&amp;orderid=&amp;type=sale&amp;response_code=300&amp;masked_merchant_number=\n</code></pre>\n<p>Currently, I'm capturing the response as a String from the <code>RestTemplate.postForEntity</code> method.</p>\n<p>How can I capture this response into an object/map? A map would be ideal since the parameters tend to change according success/failure responses.</p>\n"},{"tags":["java","spring","dto","mapstruct"],"comments":[{"owner":{"account_id":1128956,"reputation":19765,"user_id":1115491,"display_name":"Filip"},"score":0,"creation_date":1689489773,"post_id":76685343,"comment_id":135218846,"body_markdown":"Can you please share the generated code of the MediationMapper?","body":"Can you please share the generated code of the MediationMapper?"}],"owner":{"account_id":29015202,"reputation":1,"user_id":22225781,"display_name":"Anıl İlağa"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":506,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689317825,"creation_date":1689317825,"question_id":76685343,"body_markdown":"I am trying to use mappers for subclasses. I have a Person that has 2 subclasses and another class that has 2 Person instances. I am having problems at mapping objects using mapstruct and Spring-boot.\r\n\r\nI have these entities:\r\n\r\n```\r\npublic class Person extends BaseEntityAudit {\r\n    private String name;\r\n    private String address;\r\n    private String phoneNo;\r\n}\r\n\r\npublic class RealPerson extends Person {\r\n\r\n    private String identificationNo;\r\n}\r\n\r\npublic class LegalPerson extends Person {\r\n    private String taxNo;\r\n}\r\n\r\npublic class Mediation extends BaseEntityAudit {\r\n\r\n  \r\n      \r\n    @ManyToOne(fetch = FetchType.LAZY, cascade = {CascadeType.DETACH,\r\n            CascadeType.MERGE, CascadeType.PERSIST, CascadeType.REFRESH})\r\n    @JoinColumn(name = &quot;first_party_id&quot;, nullable = false)\r\n    private Person firstParty;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY, cascade = {CascadeType.DETACH,\r\n            CascadeType.MERGE, CascadeType.PERSIST, CascadeType.REFRESH})\r\n    @JoinColumn(name = &quot;second_party_id&quot;, nullable = false)\r\n    private Person secondParty;\r\n    //...\r\n}\r\n```\r\n\r\nAnd my mappers are:\r\n```\r\n@Mapper(subclassExhaustiveStrategy = SubclassExhaustiveStrategy.RUNTIME_EXCEPTION, uses = { RepresentativeMapper.class})\r\npublic interface PersonMapper {\r\n\r\n    PersonMapper INSTANCE = Mappers.getMapper(PersonMapper.class);\r\n\r\n    @SubclassMapping(target=RealPersonDto.class, source= RealPerson.class)\r\n    @SubclassMapping(target=LegalPersonDto.class, source= LegalPerson.class)\r\n    @Mapping(target = &quot;representativeDto&quot;, source = &quot;representative&quot;)\r\n    PersonDto toDto(Person person);\r\n\r\n    @Mapping(target = &quot;representativeDto&quot;, source = &quot;representative&quot;)\r\n    LegalPersonDto toDto(LegalPerson legalPerson);\r\n\r\n    @Mapping(target = &quot;representativeDto&quot;, source = &quot;representative&quot;)\r\n    RealPersonDto toDto(RealPerson realPerson);\r\n}\r\n@Mapper(uses = { PersonMapper.class })\r\npublic interface MediationMapper {\r\n\r\n    MediationMapper INSTANCE = Mappers.getMapper(MediationMapper.class);\r\n\r\n    @Mapping(target = &quot;firstPartyDto&quot;, source = &quot;firstParty&quot;, qualifiedByName = &quot;toDto&quot;)\r\n    @Mapping(target = &quot;secondPartyDto&quot;, source = &quot;secondParty&quot;, qualifiedByName = &quot;toDto&quot;)\r\n    @Mapping(target = &quot;id&quot;, source = &quot;id&quot;)\r\n    MediationDto toDto(Mediation mediation);\r\n\r\n    Mediation toEntity(MediationDto mediationDto);\r\n\r\n    List&lt;MediationDto&gt; toDtoList(List&lt;Mediation&gt; mediations);\r\n}\r\n```\r\n\r\nI created a controller for both mediation and person. When I get all person objects I get them with the specific fields according to realPerson/legalPerson values. But when I use mediatiation&#39;s controller that has the mediationMapper I do not get these fields I rather get person dto&#39;s fields only.","title":"Mapstruct Subclass Mapping","body":"<p>I am trying to use mappers for subclasses. I have a Person that has 2 subclasses and another class that has 2 Person instances. I am having problems at mapping objects using mapstruct and Spring-boot.</p>\n<p>I have these entities:</p>\n<pre><code>public class Person extends BaseEntityAudit {\n    private String name;\n    private String address;\n    private String phoneNo;\n}\n\npublic class RealPerson extends Person {\n\n    private String identificationNo;\n}\n\npublic class LegalPerson extends Person {\n    private String taxNo;\n}\n\npublic class Mediation extends BaseEntityAudit {\n\n  \n      \n    @ManyToOne(fetch = FetchType.LAZY, cascade = {CascadeType.DETACH,\n            CascadeType.MERGE, CascadeType.PERSIST, CascadeType.REFRESH})\n    @JoinColumn(name = &quot;first_party_id&quot;, nullable = false)\n    private Person firstParty;\n\n    @ManyToOne(fetch = FetchType.LAZY, cascade = {CascadeType.DETACH,\n            CascadeType.MERGE, CascadeType.PERSIST, CascadeType.REFRESH})\n    @JoinColumn(name = &quot;second_party_id&quot;, nullable = false)\n    private Person secondParty;\n    //...\n}\n</code></pre>\n<p>And my mappers are:</p>\n<pre><code>@Mapper(subclassExhaustiveStrategy = SubclassExhaustiveStrategy.RUNTIME_EXCEPTION, uses = { RepresentativeMapper.class})\npublic interface PersonMapper {\n\n    PersonMapper INSTANCE = Mappers.getMapper(PersonMapper.class);\n\n    @SubclassMapping(target=RealPersonDto.class, source= RealPerson.class)\n    @SubclassMapping(target=LegalPersonDto.class, source= LegalPerson.class)\n    @Mapping(target = &quot;representativeDto&quot;, source = &quot;representative&quot;)\n    PersonDto toDto(Person person);\n\n    @Mapping(target = &quot;representativeDto&quot;, source = &quot;representative&quot;)\n    LegalPersonDto toDto(LegalPerson legalPerson);\n\n    @Mapping(target = &quot;representativeDto&quot;, source = &quot;representative&quot;)\n    RealPersonDto toDto(RealPerson realPerson);\n}\n@Mapper(uses = { PersonMapper.class })\npublic interface MediationMapper {\n\n    MediationMapper INSTANCE = Mappers.getMapper(MediationMapper.class);\n\n    @Mapping(target = &quot;firstPartyDto&quot;, source = &quot;firstParty&quot;, qualifiedByName = &quot;toDto&quot;)\n    @Mapping(target = &quot;secondPartyDto&quot;, source = &quot;secondParty&quot;, qualifiedByName = &quot;toDto&quot;)\n    @Mapping(target = &quot;id&quot;, source = &quot;id&quot;)\n    MediationDto toDto(Mediation mediation);\n\n    Mediation toEntity(MediationDto mediationDto);\n\n    List&lt;MediationDto&gt; toDtoList(List&lt;Mediation&gt; mediations);\n}\n</code></pre>\n<p>I created a controller for both mediation and person. When I get all person objects I get them with the specific fields according to realPerson/legalPerson values. But when I use mediatiation's controller that has the mediationMapper I do not get these fields I rather get person dto's fields only.</p>\n"},{"tags":["java","json","string"],"comments":[{"owner":{"account_id":13181158,"reputation":420,"user_id":9520479,"display_name":"Jhilton"},"score":0,"creation_date":1689294938,"post_id":76683759,"comment_id":135196845,"body_markdown":"You can try something like this: `String responseString = new BasicResponseHandler().handleResponse(response);`","body":"You can try something like this: <code>String responseString = new BasicResponseHandler().handleResponse(response);</code>"},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1689298576,"post_id":76683759,"comment_id":135197148,"body_markdown":"what does response.getEntity() look like? is it possible to cut it out if it is the one causing your string to go haywire?","body":"what does response.getEntity() look like? is it possible to cut it out if it is the one causing your string to go haywire?"}],"answers":[{"tags":[],"owner":{"account_id":25287581,"reputation":1,"user_id":19114239,"display_name":"Hasan Po&#39;latov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689317337,"creation_date":1689317254,"answer_id":76685299,"question_id":76683759,"body_markdown":"I think you can try [Gson][1] library. It is library for java which works with Json.\r\n\r\n\r\n  [1]: https://github.com/google/gson","title":"Import JSON data to Java without escape characters","body":"<p>I think you can try <a href=\"https://github.com/google/gson\" rel=\"nofollow noreferrer\">Gson</a> library. It is library for java which works with Json.</p>\n"}],"owner":{"account_id":20821629,"reputation":75,"user_id":19355037,"display_name":"Tydal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689317337,"creation_date":1689289220,"question_id":76683759,"body_markdown":"I&#39;m currently importing Json from a .json webpage using an HttpResponse. I then use `String Json = EntityUtils.toString(response.getEntity())` to get the Json data as a String.\r\n\r\nHowever, this messes up the format of my String, and it ends up looking like this:\r\n\r\n    \\&quot;{\\\\n    fault: &#39;&#39;,\\\\n    width: 2800,\\\\n    height: 1400\\\\n. \r\n\r\nDue to the extra escape characters that were added, I&#39;m unable to parse it how I would like. \r\n\r\nIs there a way to import the Json without Java messing up the format and automatically extra escape characters?","title":"Import JSON data to Java without escape characters","body":"<p>I'm currently importing Json from a .json webpage using an HttpResponse. I then use <code>String Json = EntityUtils.toString(response.getEntity())</code> to get the Json data as a String.</p>\n<p>However, this messes up the format of my String, and it ends up looking like this:</p>\n<pre><code>\\&quot;{\\\\n    fault: '',\\\\n    width: 2800,\\\\n    height: 1400\\\\n. \n</code></pre>\n<p>Due to the extra escape characters that were added, I'm unable to parse it how I would like.</p>\n<p>Is there a way to import the Json without Java messing up the format and automatically extra escape characters?</p>\n"},{"tags":["java","python","google-app-engine","google-cloud-platform","google-app-engine-python"],"comments":[{"owner":{"account_id":119781,"reputation":40589,"user_id":311744,"accept_rate":45,"display_name":"Benjamin Crouzier"},"score":0,"creation_date":1310727141,"post_id":1085898,"comment_id":7938001,"body_markdown":"now [Google App Engine is supporting](http://code.google.com/appengine/docs/) Go (experimental). What&#39;s your toughts about that ?","body":"now <a href=\"http://code.google.com/appengine/docs/\" rel=\"nofollow noreferrer\">Google App Engine is supporting</a> Go (experimental). What&#39;s your toughts about that ?"},{"owner":{"account_id":6214032,"reputation":1332,"user_id":4839438,"display_name":"Michele Giuseppe Fadda"},"score":0,"creation_date":1448484105,"post_id":1085898,"comment_id":55612954,"body_markdown":"@pinouchon I&#39;ve started using Go, and deployed that in production on GAE. GO works very well on GAE, compiles in a few seconds. Choose your web framework wisely :-)","body":"@pinouchon I&#39;ve started using Go, and deployed that in production on GAE. GO works very well on GAE, compiles in a few seconds. Choose your web framework wisely :-)"}],"answers":[{"tags":[],"owner":{"account_id":7450,"reputation":269210,"user_id":12960,"display_name":"Brian Agnew"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1246875974,"creation_date":1246867988,"answer_id":1085929,"question_id":1085898,"body_markdown":"As you&#39;ve identified, using a JVM doesn&#39;t restrict you to using the Java language. A list of JVM languages and links can be found [here][2]. *However*, the Google App Engine does restrict the set of classes you can use from the normal Java SE set, and you will want to investigate if any of these implementations can be used on the app engine.\r\n\r\nEDIT: I see you&#39;ve found such a list\r\n\r\nI can&#39;t comment on the performance of Python. However, the JVM is a very powerful platform performance-wise, given its ability to dynamically compile and optimise code during the run time.\r\n\r\nUltimately performance will depend on what your application does, and how you code it. In the absence of further info, I think it&#39;s not possible to give any more pointers in this area.\r\n\r\n\r\n  [1]: http://www.jython.org/\r\n  [2]: http://en.wikipedia.org/wiki/List_of_JVM_languages","title":"Choosing Java vs Python on Google App Engine","body":"<p>As you've identified, using a JVM doesn't restrict you to using the Java language. A list of JVM languages and links can be found <a href=\"http://en.wikipedia.org/wiki/List_of_JVM_languages\" rel=\"nofollow noreferrer\">here</a>. <em>However</em>, the Google App Engine does restrict the set of classes you can use from the normal Java SE set, and you will want to investigate if any of these implementations can be used on the app engine.</p>\n\n<p>EDIT: I see you've found such a list</p>\n\n<p>I can't comment on the performance of Python. However, the JVM is a very powerful platform performance-wise, given its ability to dynamically compile and optimise code during the run time.</p>\n\n<p>Ultimately performance will depend on what your application does, and how you code it. In the absence of further info, I think it's not possible to give any more pointers in this area.</p>\n"},{"tags":[],"owner":{"account_id":878748,"reputation":805,"user_id":133596,"display_name":"Judy2K"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1246873712,"creation_date":1246873712,"answer_id":1086259,"question_id":1085898,"body_markdown":"Based on experience with running these VMs on other platforms, I&#39;d say that you&#39;ll probably get more raw performance out of Java than Python.  Don&#39;t underestimate Python&#39;s selling points, however: The Python language is much more productive in terms of lines of code - the general agreement is that Python requires a third of the code of an equivalent Java program, while remaining as or more readable.  This benefit is multiplied by the ability to run code immediately without an explicit compile step.\r\n\r\nWith regards to available libraries, you&#39;ll find that much of the extensive Python runtime library works out of the box (as does Java&#39;s). The popular Django Web framework (http://www.djangoproject.com/) is also supported on AppEngine.\r\n\r\nWith regards to &#39;power&#39;, it&#39;s difficult to know what you mean, but Python is used in many different domains, especially the Web: YouTube is written in Python, as is Sourceforge (as of last week).","title":"Choosing Java vs Python on Google App Engine","body":"<p>Based on experience with running these VMs on other platforms, I'd say that you'll probably get more raw performance out of Java than Python.  Don't underestimate Python's selling points, however: The Python language is much more productive in terms of lines of code - the general agreement is that Python requires a third of the code of an equivalent Java program, while remaining as or more readable.  This benefit is multiplied by the ability to run code immediately without an explicit compile step.</p>\n\n<p>With regards to available libraries, you'll find that much of the extensive Python runtime library works out of the box (as does Java's). The popular Django Web framework (<a href=\"http://www.djangoproject.com/\" rel=\"noreferrer\">http://www.djangoproject.com/</a>) is also supported on AppEngine.</p>\n\n<p>With regards to 'power', it's difficult to know what you mean, but Python is used in many different domains, especially the Web: YouTube is written in Python, as is Sourceforge (as of last week).</p>\n"},{"tags":[],"owner":{"account_id":34048,"reputation":860843,"user_id":95810,"accept_rate":80,"display_name":"Alex Martelli"},"down_vote_count":2,"up_vote_count":125,"is_accepted":true,"score":123,"last_activity_date":1246897030,"creation_date":1246897030,"answer_id":1087878,"question_id":1085898,"body_markdown":"I&#39;m biased (being a Python expert but pretty rusty in Java) but I think the Python runtime of GAE is currently more advanced and better developed than the Java runtime -- the former has had one extra year to develop and mature, after all.\r\n\r\nHow things will proceed going forward is of course hard to predict -- demand is probably stronger on the Java side (especially since it&#39;s not just about Java, but other languages perched on top of the JVM too, so it&#39;s THE way to run e.g. PHP or Ruby code on App Engine); the Python App Engine team however does have the advantage of having on board Guido van Rossum, the inventor of Python and an amazingly strong engineer.\r\n\r\nIn terms of flexibility, the Java engine, as already mentioned, does offer the possibility of running JVM bytecode made by different languages, not just Java -- if you&#39;re in a multi-language shop that&#39;s a pretty large positive. Vice versa, if you loathe Javascript but must execute some code in the user&#39;s browser, Java&#39;s GWT (generating the Javascript for you from your Java-level coding) is far richer and more advanced than Python-side alternatives (in practice, if you choose Python, you&#39;ll be writing some JS yourself for this purpose, while if you choose Java GWT is a usable alternative if you loathe writing JS).\r\n\r\nIn terms of libraries it&#39;s pretty much a wash -- the JVM is restricted enough (no threads, no custom class loaders, no JNI, no relational DB) to hamper the simple reuse of existing Java libraries as much, or more, than existing Python libraries are similarly hampered by the similar restrictions on the Python runtime.\r\n\r\nIn terms of performance, I think it&#39;s a wash, though you should benchmark on tasks of your own -- don&#39;t rely on the performance of highly optimized JIT-based JVM implementations discounting their large startup times and memory footprints, because the app engine environment is very different (startup costs will be paid often, as instances of your app are started, stopped, moved to different hosts, etc, all trasparently to you -- such events are typically much cheaper with Python runtime environments than with JVMs).\r\n\r\nThe XPath/XSLT situation (to be euphemistic...) is not exactly perfect on either side, sigh, though I think it may be a tad less bad in the JVM (where, apparently, substantial subsets of Saxon can be made to run, with some care). I think it&#39;s worth opening issues on the [Appengine Issues][1] page with XPath and XSLT in their titles -- right now there are only issues asking for specific libraries, and that&#39;s myopic: I don&#39;t really care HOW a good XPath/XSLT is implemented, for Python and/or for Java, as long as I get to use it. (Specific libraries may ease migration of existing code, but that&#39;s less important than being able to perform such tasks as &quot;rapidly apply XSLT transformation&quot; in SOME way!-). I know I&#39;d star such an issue if well phrased (especially in a language-independent way).\r\n\r\nLast but not least: remember that you can have different version of your app (using the same datastore) some of which are implemented with the Python runtime, some with the Java runtime, and you can access versions that differ from the &quot;default/active&quot; one with explicit URLs. So you could have both Python _and_ Java code (in different versions of your app) use and modify the same data store, granting you even more flexibility (though only one will have the &quot;nice&quot; URL such as foobar.appspot.com -- which is probably important only for access by interactive users on browsers, I imagine;-).\r\n\r\n\r\n\r\n  [1]: http://code.google.com/p/googleappengine/issues/list","title":"Choosing Java vs Python on Google App Engine","body":"<p>I'm biased (being a Python expert but pretty rusty in Java) but I think the Python runtime of GAE is currently more advanced and better developed than the Java runtime -- the former has had one extra year to develop and mature, after all.</p>\n\n<p>How things will proceed going forward is of course hard to predict -- demand is probably stronger on the Java side (especially since it's not just about Java, but other languages perched on top of the JVM too, so it's THE way to run e.g. PHP or Ruby code on App Engine); the Python App Engine team however does have the advantage of having on board Guido van Rossum, the inventor of Python and an amazingly strong engineer.</p>\n\n<p>In terms of flexibility, the Java engine, as already mentioned, does offer the possibility of running JVM bytecode made by different languages, not just Java -- if you're in a multi-language shop that's a pretty large positive. Vice versa, if you loathe Javascript but must execute some code in the user's browser, Java's GWT (generating the Javascript for you from your Java-level coding) is far richer and more advanced than Python-side alternatives (in practice, if you choose Python, you'll be writing some JS yourself for this purpose, while if you choose Java GWT is a usable alternative if you loathe writing JS).</p>\n\n<p>In terms of libraries it's pretty much a wash -- the JVM is restricted enough (no threads, no custom class loaders, no JNI, no relational DB) to hamper the simple reuse of existing Java libraries as much, or more, than existing Python libraries are similarly hampered by the similar restrictions on the Python runtime.</p>\n\n<p>In terms of performance, I think it's a wash, though you should benchmark on tasks of your own -- don't rely on the performance of highly optimized JIT-based JVM implementations discounting their large startup times and memory footprints, because the app engine environment is very different (startup costs will be paid often, as instances of your app are started, stopped, moved to different hosts, etc, all trasparently to you -- such events are typically much cheaper with Python runtime environments than with JVMs).</p>\n\n<p>The XPath/XSLT situation (to be euphemistic...) is not exactly perfect on either side, sigh, though I think it may be a tad less bad in the JVM (where, apparently, substantial subsets of Saxon can be made to run, with some care). I think it's worth opening issues on the <a href=\"http://code.google.com/p/googleappengine/issues/list\" rel=\"noreferrer\">Appengine Issues</a> page with XPath and XSLT in their titles -- right now there are only issues asking for specific libraries, and that's myopic: I don't really care HOW a good XPath/XSLT is implemented, for Python and/or for Java, as long as I get to use it. (Specific libraries may ease migration of existing code, but that's less important than being able to perform such tasks as \"rapidly apply XSLT transformation\" in SOME way!-). I know I'd star such an issue if well phrased (especially in a language-independent way).</p>\n\n<p>Last but not least: remember that you can have different version of your app (using the same datastore) some of which are implemented with the Python runtime, some with the Java runtime, and you can access versions that differ from the \"default/active\" one with explicit URLs. So you could have both Python <em>and</em> Java code (in different versions of your app) use and modify the same data store, granting you even more flexibility (though only one will have the \"nice\" URL such as foobar.appspot.com -- which is probably important only for access by interactive users on browsers, I imagine;-).</p>\n"},{"tags":[],"owner":{"account_id":45551,"reputation":369,"user_id":134329,"display_name":"Paul"},"down_vote_count":10,"up_vote_count":17,"is_accepted":false,"score":7,"last_activity_date":1320860074,"creation_date":1246981845,"answer_id":1093160,"question_id":1085898,"body_markdown":"I&#39;m strongly recommending Java for GAE and here&#39;s why:\r\n\r\n1. Performance: Java is potentially faster then Python.\r\n2. Python development is under pressure of a lack of third-party libraries. For example, there is no XSLT for Python/GAE at all. Almost all Python libraries are C bindings (and those are unsupported by GAE).\r\n3. Memcache API: Java SDK have more interesting abilities than Python SDK.\r\n4. Datastore API: JDO is very slow, but native Java datastore API is very fast and easy.\r\n\r\nI&#39;m using Java/GAE in development right now.","title":"Choosing Java vs Python on Google App Engine","body":"<p>I'm strongly recommending Java for GAE and here's why:</p>\n\n<ol>\n<li>Performance: Java is potentially faster then Python.</li>\n<li>Python development is under pressure of a lack of third-party libraries. For example, there is no XSLT for Python/GAE at all. Almost all Python libraries are C bindings (and those are unsupported by GAE).</li>\n<li>Memcache API: Java SDK have more interesting abilities than Python SDK.</li>\n<li>Datastore API: JDO is very slow, but native Java datastore API is very fast and easy.</li>\n</ol>\n\n<p>I'm using Java/GAE in development right now.</p>\n"},{"tags":[],"owner":{"account_id":41955,"reputation":31,"user_id":122085,"display_name":"synchromesh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1251322571,"creation_date":1251322571,"answer_id":1337632,"question_id":1085898,"body_markdown":"There&#39;s also project [Unladen Swallow][1], which is apparently Google-funded if not Google-owned. They&#39;re trying to implement a LLVM-based backend for Python 2.6.1 bytecode, so they can use a JIT and various nice native code/GC/multi-core optimisations. (Nice quote: &quot;We aspire to do no original work, instead using as much of the last 30 years of research as possible.&quot;) They&#39;re looking for a 5x speed-up to CPython.\r\n\r\nOf course this doesn&#39;t answer your immediate question, but points towards a &quot;closing of the gap&quot; (if any) in the future (hopefully).\r\n\r\n  [1]: http://code.google.com/p/unladen-swallow/wiki/ProjectPlan","title":"Choosing Java vs Python on Google App Engine","body":"<p>There's also project <a href=\"http://code.google.com/p/unladen-swallow/wiki/ProjectPlan\" rel=\"nofollow noreferrer\">Unladen Swallow</a>, which is apparently Google-funded if not Google-owned. They're trying to implement a LLVM-based backend for Python 2.6.1 bytecode, so they can use a JIT and various nice native code/GC/multi-core optimisations. (Nice quote: \"We aspire to do no original work, instead using as much of the last 30 years of research as possible.\") They're looking for a 5x speed-up to CPython.</p>\n\n<p>Of course this doesn't answer your immediate question, but points towards a \"closing of the gap\" (if any) in the future (hopefully).</p>\n"},{"tags":[],"owner":{"account_id":8429,"reputation":56686,"user_id":15187,"accept_rate":96,"display_name":"yanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1253248843,"creation_date":1253248843,"answer_id":1442628,"question_id":1085898,"body_markdown":"Gone with Python even though GWT seems a perfect match for the kind of an app I&#39;m developing. JPA is pretty messed up on GAE (e.g. no @Embeddable and other obscure non-documented limitations). Having spent a week, I can tell that Java just doesn&#39;t feel right on GAE at the moment.","title":"Choosing Java vs Python on Google App Engine","body":"<p>Gone with Python even though GWT seems a perfect match for the kind of an app I'm developing. JPA is pretty messed up on GAE (e.g. no @Embeddable and other obscure non-documented limitations). Having spent a week, I can tell that Java just doesn't feel right on GAE at the moment.</p>\n"},{"tags":[],"owner":{"account_id":29057,"reputation":2594,"user_id":78212,"accept_rate":67,"display_name":"Richard Watson"},"down_vote_count":0,"up_vote_count":72,"is_accepted":false,"score":72,"last_activity_date":1502298352,"creation_date":1253691921,"answer_id":1464516,"question_id":1085898,"body_markdown":"Watch this app for changes in Python and Java performance:\r\n\r\n[http://gaejava.appspot.com/][1]\r\n(edit: apologies, link is broken now. But following para still applied when I saw it running last)\r\n\r\nCurrently, Python and using the low-level API in Java are faster than JDO on Java, **for this simple test**. At least if the underlying engine changes, that app should reflect performance changes.\r\n\r\n\r\n  [1]: http://gaejava.appspot.com/","title":"Choosing Java vs Python on Google App Engine","body":"<p>Watch this app for changes in Python and Java performance:</p>\n\n<p><a href=\"http://gaejava.appspot.com/\" rel=\"nofollow noreferrer\">http://gaejava.appspot.com/</a>\n(edit: apologies, link is broken now. But following para still applied when I saw it running last)</p>\n\n<p>Currently, Python and using the low-level API in Java are faster than JDO on Java, <strong>for this simple test</strong>. At least if the underlying engine changes, that app should reflect performance changes.</p>\n"},{"tags":[],"owner":{"account_id":605323,"reputation":29,"user_id":316346,"display_name":"kilon "},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1271236477,"creation_date":1271236477,"answer_id":2636174,"question_id":1085898,"body_markdown":"The beauty of python nowdays is how well it communicates with other languages. For instance you can have both python and java on the same table with Jython. Of course jython even though it fully supports java libraries it does not support fully python libraries. But its an ideal solution if you want to mess with Java Libraries. It even allows you to mix it with Java code with no extra coding. \r\n\r\nBut even python itself has made some steps forwared. See ctypes for example, near C speed , direct accees to C libraries all of this without leaving the comfort of python coding. Cython goes one step further , allowing to mix c code with python code with ease, or even if you dont want to mess with c or c++ , you can still code in python but use statically type variables making your python programms as fast as C apps. Cython is both used and supported by google by the way.  \r\n\r\nYesterday I even found tools for python to inline C or even Assembly (see CorePy) , you cant get any more powerful than that. \r\n\r\nPython is surely a very mature language, not only standing on itself , but able to coooperate with any other language with easy. I think that is what makes python an ideal solution even in a very advanced and demanding scenarios.\r\n\r\nWith python you can have acess to C/C++ ,Java , .NET and many other libraries with almost zero additional coding giving you also a language that minimises, simplifies and beautifies coding. Its a very tempting language.   ","title":"Choosing Java vs Python on Google App Engine","body":"<p>The beauty of python nowdays is how well it communicates with other languages. For instance you can have both python and java on the same table with Jython. Of course jython even though it fully supports java libraries it does not support fully python libraries. But its an ideal solution if you want to mess with Java Libraries. It even allows you to mix it with Java code with no extra coding. </p>\n\n<p>But even python itself has made some steps forwared. See ctypes for example, near C speed , direct accees to C libraries all of this without leaving the comfort of python coding. Cython goes one step further , allowing to mix c code with python code with ease, or even if you dont want to mess with c or c++ , you can still code in python but use statically type variables making your python programms as fast as C apps. Cython is both used and supported by google by the way.  </p>\n\n<p>Yesterday I even found tools for python to inline C or even Assembly (see CorePy) , you cant get any more powerful than that. </p>\n\n<p>Python is surely a very mature language, not only standing on itself , but able to coooperate with any other language with easy. I think that is what makes python an ideal solution even in a very advanced and demanding scenarios.</p>\n\n<p>With python you can have acess to C/C++ ,Java , .NET and many other libraries with almost zero additional coding giving you also a language that minimises, simplifies and beautifies coding. Its a very tempting language.   </p>\n"},{"tags":[],"owner":{"account_id":50307,"reputation":17323,"user_id":150016,"accept_rate":67,"display_name":"Tom"},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1366390871,"creation_date":1271259869,"answer_id":2638859,"question_id":1085898,"body_markdown":"An important question to consider in deciding between Python and Java is **how you will use the datastore in each language** (and most other angles to the original question have already been covered quite well in this topic).\r\n\r\n**For Java**, the standard method is to use JDO or JPA.  These are great for portability but are not very well suited to the datastore.\r\n\r\nA low-level API is available but this is too low level for day-to-day use - it is more suitable for building 3rd party libraries.\r\n\r\n**For Python** there is an API designed specifically to provide applications with easy but powerful access to the datastore.  It is great except that it is not portable so it locks you into GAE.\r\n\r\nFortunately, there are solutions being developed for the weaknesses listed for both languages.\r\n\r\n**For Java**, the low-level API is being used to develop persistence libraries that are much better suited to the datastore then JDO/JPA (IMO).  Examples include the [Siena project][1], and [Objectify][3].  \r\n\r\nI&#39;ve recently started using Objectify and am finding it to be very easy to use and well suited to the datastore, and its growing popularity has translated into good support.  For example, Objectify is officially supported by Google&#39;s new Cloud Endpoints service.  On the other hand, Objectify only works with the datastore, while Siena is &#39;inspired&#39; by the datastore but is designed to work with a variety of both SQL databases and NoSQL datastores.\r\n\r\n**For Python**, there are efforts being made to allow the use of the Python GAE datastore API off of the GAE.  One example is the SQLite backend that Google released for use with the SDK, but I doubt they intend this to grow into something production ready.  The [TyphoonAE][2] project probably has more potential, but I don&#39;t think it is production ready yet either (correct me if I am wrong).\r\n\r\nIf anyone has experience with any of these alternatives or knows of others, please add them in a comment.  Personally, I really like the GAE datastore - I find it to be a considerable improvement over the AWS SimpleDB - so I wish for the success of these efforts to alleviate some of the issues in using it.\r\n\r\n\r\n  [1]: https://github.com/siena/siena\r\n  [2]: http://code.google.com/p/typhoonae/\r\n  [3]: https://code.google.com/p/objectify-appengine/","title":"Choosing Java vs Python on Google App Engine","body":"<p>An important question to consider in deciding between Python and Java is <strong>how you will use the datastore in each language</strong> (and most other angles to the original question have already been covered quite well in this topic).</p>\n\n<p><strong>For Java</strong>, the standard method is to use JDO or JPA.  These are great for portability but are not very well suited to the datastore.</p>\n\n<p>A low-level API is available but this is too low level for day-to-day use - it is more suitable for building 3rd party libraries.</p>\n\n<p><strong>For Python</strong> there is an API designed specifically to provide applications with easy but powerful access to the datastore.  It is great except that it is not portable so it locks you into GAE.</p>\n\n<p>Fortunately, there are solutions being developed for the weaknesses listed for both languages.</p>\n\n<p><strong>For Java</strong>, the low-level API is being used to develop persistence libraries that are much better suited to the datastore then JDO/JPA (IMO).  Examples include the <a href=\"https://github.com/siena/siena\" rel=\"nofollow noreferrer\">Siena project</a>, and <a href=\"https://code.google.com/p/objectify-appengine/\" rel=\"nofollow noreferrer\">Objectify</a>.  </p>\n\n<p>I've recently started using Objectify and am finding it to be very easy to use and well suited to the datastore, and its growing popularity has translated into good support.  For example, Objectify is officially supported by Google's new Cloud Endpoints service.  On the other hand, Objectify only works with the datastore, while Siena is 'inspired' by the datastore but is designed to work with a variety of both SQL databases and NoSQL datastores.</p>\n\n<p><strong>For Python</strong>, there are efforts being made to allow the use of the Python GAE datastore API off of the GAE.  One example is the SQLite backend that Google released for use with the SDK, but I doubt they intend this to grow into something production ready.  The <a href=\"http://code.google.com/p/typhoonae/\" rel=\"nofollow noreferrer\">TyphoonAE</a> project probably has more potential, but I don't think it is production ready yet either (correct me if I am wrong).</p>\n\n<p>If anyone has experience with any of these alternatives or knows of others, please add them in a comment.  Personally, I really like the GAE datastore - I find it to be a considerable improvement over the AWS SimpleDB - so I wish for the success of these efforts to alleviate some of the issues in using it.</p>\n"},{"tags":[],"owner":{"account_id":59795,"reputation":481,"user_id":178820,"display_name":"Damon Oehlman"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1271822045,"creation_date":1271822045,"answer_id":2680204,"question_id":1085898,"body_markdown":"It&#39;s a good question, and I think many of the responses have given good view points of pros and cons on both sides of the fence.  I&#39;ve tried both Python and JVM-based AppEngine (in my case I was using [Gaelyk][1] which is a Groovy application framework built for AppEngine).  When it comes to performance on the platform, one thing I hadn&#39;t considered until it was staring me in the face is the implication of &quot;Loading Requests&quot; that occur on the Java side of the fence.  When using Groovy these loading requests are a killer.\r\n\r\nI put a post together on the topic ([http://distractable.net/coding/google-appengine-java-vs-python-performance-comparison/][2]) and I&#39;m hoping to find a way of working around the problem, but if not I think I&#39;ll be going back to a Python + Django combination until cold starting java requests has less of an impact.\r\n\r\n  [1]: http://gaelyk.appspot.com/\r\n  [2]: http://distractable.net/coding/google-appengine-java-vs-python-performance-comparison/","title":"Choosing Java vs Python on Google App Engine","body":"<p>It's a good question, and I think many of the responses have given good view points of pros and cons on both sides of the fence.  I've tried both Python and JVM-based AppEngine (in my case I was using <a href=\"http://gaelyk.appspot.com/\" rel=\"nofollow noreferrer\">Gaelyk</a> which is a Groovy application framework built for AppEngine).  When it comes to performance on the platform, one thing I hadn't considered until it was staring me in the face is the implication of \"Loading Requests\" that occur on the Java side of the fence.  When using Groovy these loading requests are a killer.</p>\n\n<p>I put a post together on the topic (<a href=\"http://distractable.net/coding/google-appengine-java-vs-python-performance-comparison/\" rel=\"nofollow noreferrer\">http://distractable.net/coding/google-appengine-java-vs-python-performance-comparison/</a>) and I'm hoping to find a way of working around the problem, but if not I think I'll be going back to a Python + Django combination until cold starting java requests has less of an impact.</p>\n"},{"tags":[],"owner":{"account_id":93309,"reputation":14162,"user_id":255344,"accept_rate":67,"display_name":"Noah McIlraith"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1275711876,"creation_date":1275711876,"answer_id":2979149,"question_id":1085898,"body_markdown":"Based on how much I hear Java people complain about AppEngine compared to Python users, I would say Python is much less stressful to use.","title":"Choosing Java vs Python on Google App Engine","body":"<p>Based on how much I hear Java people complain about AppEngine compared to Python users, I would say Python is much less stressful to use.</p>\n"},{"tags":[],"owner":{"account_id":172324,"reputation":16535,"user_id":400286,"accept_rate":93,"display_name":"mjhm"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1280810256,"creation_date":1280810256,"answer_id":3393601,"question_id":1085898,"body_markdown":"I&#39;ve been amazed at how clean, straightforward, and problem free the Python/Django SDK is.  However I started running into situations where I needed to start doing more JavaScript and thought I might want to take advantage of the GWT and other Java utilities.  I&#39;ve gotten just half way through the GAE Java tutorial, and have had one problem after another: Eclipse configuration issues, JRE versionitis, the mind-numbing complexity of Java, and a confusing and possibly broken tutorial.  Checking out this site and others linked from here clinched it for me.  I&#39;m going back to Python, and I&#39;ll look into Pyjamas to help with my JavaScript challenges.","title":"Choosing Java vs Python on Google App Engine","body":"<p>I've been amazed at how clean, straightforward, and problem free the Python/Django SDK is.  However I started running into situations where I needed to start doing more JavaScript and thought I might want to take advantage of the GWT and other Java utilities.  I've gotten just half way through the GAE Java tutorial, and have had one problem after another: Eclipse configuration issues, JRE versionitis, the mind-numbing complexity of Java, and a confusing and possibly broken tutorial.  Checking out this site and others linked from here clinched it for me.  I'm going back to Python, and I'll look into Pyjamas to help with my JavaScript challenges.</p>\n"},{"tags":[],"owner":{"account_id":142731,"reputation":26535,"user_id":350615,"display_name":"Juha Palom&#228;ki"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1298494823,"creation_date":1298494294,"answer_id":5096947,"question_id":1085898,"body_markdown":"One think to take into account are the frameworks you intend yo use. Not all frameworks on Java side are well suited for applications running on App Engine, which is somewhat different than traditional Java app servers. \r\n\r\nOne thing to consider is the application startup time. With traditional Java web apps you don&#39;t really need to think about this. The application starts and then it just runs. Doesn&#39;t really matter if the startup takes 5 seconds or couple of minutes. With App Engine you might end up in a situation where the application is only started when a request comes in. This means the user is waiting while your application boots up. New GAE features like reserved instances help here, but check first.\r\n\r\nAnother thing are the different limitations GAE psoes on Java. Not all frameworks are happy with the limitations on what classes you can use or the fact that threads are not allowed or that you can&#39;t access local filesystem. These issues are probably easy to find out by just googling about GAE compatibility.\r\n\r\nI&#39;ve also seen some people complaining about issues with session size on modern UI frameworks (Wicket, namely). In general these frameworks tend to do certain trade-offs in order to make development fun, fast and easy. Sometimes this may lead to conflicts with the App Engine limitations. \r\n\r\nI initially started developing working on GAE with Java, but then switched to Python because of these reasons. My *personal feeling* is that Python is a better choice for App Engine development. I think Java is more &quot;at home&quot; for example on Amazon&#39;s Elastic Beanstalk.\r\n\r\n**BUT** with App Engine things are changing very rapidly. GAE is changing itself and as it becomes more popular, the frameworks are also changing to work around its limitations. ","title":"Choosing Java vs Python on Google App Engine","body":"<p>One think to take into account are the frameworks you intend yo use. Not all frameworks on Java side are well suited for applications running on App Engine, which is somewhat different than traditional Java app servers. </p>\n\n<p>One thing to consider is the application startup time. With traditional Java web apps you don't really need to think about this. The application starts and then it just runs. Doesn't really matter if the startup takes 5 seconds or couple of minutes. With App Engine you might end up in a situation where the application is only started when a request comes in. This means the user is waiting while your application boots up. New GAE features like reserved instances help here, but check first.</p>\n\n<p>Another thing are the different limitations GAE psoes on Java. Not all frameworks are happy with the limitations on what classes you can use or the fact that threads are not allowed or that you can't access local filesystem. These issues are probably easy to find out by just googling about GAE compatibility.</p>\n\n<p>I've also seen some people complaining about issues with session size on modern UI frameworks (Wicket, namely). In general these frameworks tend to do certain trade-offs in order to make development fun, fast and easy. Sometimes this may lead to conflicts with the App Engine limitations. </p>\n\n<p>I initially started developing working on GAE with Java, but then switched to Python because of these reasons. My <em>personal feeling</em> is that Python is a better choice for App Engine development. I think Java is more \"at home\" for example on Amazon's Elastic Beanstalk.</p>\n\n<p><strong>BUT</strong> with App Engine things are changing very rapidly. GAE is changing itself and as it becomes more popular, the frameworks are also changing to work around its limitations. </p>\n"},{"tags":[],"owner":{"account_id":116948,"reputation":25757,"user_id":306478,"accept_rate":57,"display_name":"Bijan"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1376578801,"creation_date":1376578801,"answer_id":18255495,"question_id":1085898,"body_markdown":"**June 2013:** This video is a very good answer by a google engineer:\r\n\r\nhttp://www.youtube.com/watch?v=tLriM2krw2E\r\n\r\nTLDR; is: \r\n\r\n - Pick the language that you and your team is most productive with\r\n - If you want to build something for production: Java or Python (not Go)\r\n - If you have a big team and a complex code base: Java (because of static code analysis and refactoring)\r\n - Small teams that iterate quickly: Python (although Java is also okay)","title":"Choosing Java vs Python on Google App Engine","body":"<p><strong>June 2013:</strong> This video is a very good answer by a google engineer:</p>\n\n<p><a href=\"http://www.youtube.com/watch?v=tLriM2krw2E\" rel=\"noreferrer\">http://www.youtube.com/watch?v=tLriM2krw2E</a></p>\n\n<p>TLDR; is: </p>\n\n<ul>\n<li>Pick the language that you and your team is most productive with</li>\n<li>If you want to build something for production: Java or Python (not Go)</li>\n<li>If you have a big team and a complex code base: Java (because of static code analysis and refactoring)</li>\n<li>Small teams that iterate quickly: Python (although Java is also okay)</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1499483,"reputation":3597,"user_id":1404614,"accept_rate":87,"display_name":"Jaime Ivan Cervantes"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1411148453,"creation_date":1410967497,"answer_id":25894549,"question_id":1085898,"body_markdown":"I&#39;m a little late to the conversation, but here are my two cents. I really had a hard time choosing between Python and Java, since I am well versed in both languages. As we all know, there are advantages and disadvantages for both, and you have to take in account your requirements and the frameworks that work best for your project. \r\n\r\nAs I usually do in this type of dilemmas, I look for numbers to support my decision. I decided to go with Python for many reasons, but in my case, there was one plot that was the tipping point. If you search &quot;Google App Engine&quot; in GitHub as of **September 2014**, you will find the following figure:\r\n\r\n![GAE Language Stats][1]\r\n\r\nThere could be many biases in these numbers, but overall, there are three times more GAE Python repositories than GAE Java repositories. Not only that, but if you list the projects by the &quot;number of stars&quot; you will see that a majority of the Python projects appear at the top (you have to take in account that Python has been around longer). To me, this makes a strong case for Python because I take in account community adoption &amp; support, documentation, and availability of open-source projects.\r\n\r\n  [1]: http://i.stack.imgur.com/z4M8C.png","title":"Choosing Java vs Python on Google App Engine","body":"<p>I'm a little late to the conversation, but here are my two cents. I really had a hard time choosing between Python and Java, since I am well versed in both languages. As we all know, there are advantages and disadvantages for both, and you have to take in account your requirements and the frameworks that work best for your project. </p>\n\n<p>As I usually do in this type of dilemmas, I look for numbers to support my decision. I decided to go with Python for many reasons, but in my case, there was one plot that was the tipping point. If you search \"Google App Engine\" in GitHub as of <strong>September 2014</strong>, you will find the following figure:</p>\n\n<p><img src=\"https://i.stack.imgur.com/z4M8C.png\" alt=\"GAE Language Stats\"></p>\n\n<p>There could be many biases in these numbers, but overall, there are three times more GAE Python repositories than GAE Java repositories. Not only that, but if you list the projects by the \"number of stars\" you will see that a majority of the Python projects appear at the top (you have to take in account that Python has been around longer). To me, this makes a strong case for Python because I take in account community adoption &amp; support, documentation, and availability of open-source projects.</p>\n"},{"tags":[],"owner":{"account_id":3147269,"reputation":10469,"user_id":3075340,"accept_rate":70,"display_name":"Micro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689317313,"creation_date":1689316946,"answer_id":76685262,"question_id":1085898,"body_markdown":"If you are using Google App Engine Standard Environment consider these advantages Java has over Python 2.7 (but not Python 3) (Flexible Environment does not have these differences):\r\n\r\n&gt; **Writing to local disk** \r\n&gt; \r\n&gt; Java 8, Java 11, Java 17, Node.js, Python 3, PHP\r\n&gt; 7.X, PHP 8.1, Ruby, Go 1.11, and Go 1.12+ have read and write access to the /tmp directory.\r\n&gt; \r\n&gt; Python 2.7 and PHP 5.5 don&#39;t have write access to the disk.\r\n&gt; \r\n&gt; **Supports installing third-party binaries**\r\n&gt; \r\n&gt; Yes for Java 8, Java 11, Java 17, Node.js, Python 3, PHP 7.X, PHP 8.1,\r\n&gt; Ruby, Go 1.11, and Go 1.12+.\r\n&gt; \r\n&gt; No for Python 2.7 and PHP 5.5.\r\n\r\n[Source][1]\r\n\r\n\r\n  [1]: https://cloud.google.com/appengine/docs/the-appengine-environments#compare_high-level_features\r\n\r\n","title":"Choosing Java vs Python on Google App Engine","body":"<p>If you are using Google App Engine Standard Environment consider these advantages Java has over Python 2.7 (but not Python 3) (Flexible Environment does not have these differences):</p>\n<blockquote>\n<p><strong>Writing to local disk</strong></p>\n<p>Java 8, Java 11, Java 17, Node.js, Python 3, PHP\n7.X, PHP 8.1, Ruby, Go 1.11, and Go 1.12+ have read and write access to the /tmp directory.</p>\n<p>Python 2.7 and PHP 5.5 don't have write access to the disk.</p>\n<p><strong>Supports installing third-party binaries</strong></p>\n<p>Yes for Java 8, Java 11, Java 17, Node.js, Python 3, PHP 7.X, PHP 8.1,\nRuby, Go 1.11, and Go 1.12+.</p>\n<p>No for Python 2.7 and PHP 5.5.</p>\n</blockquote>\n<p><a href=\"https://cloud.google.com/appengine/docs/the-appengine-environments#compare_high-level_features\" rel=\"nofollow noreferrer\">Source</a></p>\n"}],"owner":{"account_id":43750,"reputation":18014,"user_id":128028,"accept_rate":86,"display_name":"Viet"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72314,"favorite_count":0,"down_vote_count":1,"up_vote_count":163,"accepted_answer_id":1087878,"answer_count":16,"score":162,"last_activity_date":1689317313,"creation_date":1246867558,"question_id":1085898,"body_markdown":"Currently Google App Engine supports both Python &amp; Java. Java support is less mature. However, Java seems to have a longer list of libraries and especially support for Java bytecode regardless of the languages used to write that code. Which language will give better performance and more power? Please advise. Thank you!\r\n\r\n**Edit:**\r\nhttp://groups.google.com/group/google-appengine-java/web/will-it-play-in-app-engine?pli=1\r\n\r\n**Edit:**\r\nBy &quot;power&quot; I mean better expandability and inclusion of available libraries outside the framework. Python allows only pure Python libraries, though.","title":"Choosing Java vs Python on Google App Engine","body":"<p>Currently Google App Engine supports both Python &amp; Java. Java support is less mature. However, Java seems to have a longer list of libraries and especially support for Java bytecode regardless of the languages used to write that code. Which language will give better performance and more power? Please advise. Thank you!</p>\n\n<p><strong>Edit:</strong>\n<a href=\"http://groups.google.com/group/google-appengine-java/web/will-it-play-in-app-engine?pli=1\" rel=\"noreferrer\">http://groups.google.com/group/google-appengine-java/web/will-it-play-in-app-engine?pli=1</a></p>\n\n<p><strong>Edit:</strong>\nBy \"power\" I mean better expandability and inclusion of available libraries outside the framework. Python allows only pure Python libraries, though.</p>\n"},{"tags":["java","sdk","docusign-sdk"],"owner":{"account_id":8801851,"reputation":161,"user_id":6577688,"accept_rate":100,"display_name":"evilsoldier"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689317156,"creation_date":1689317156,"question_id":76685290,"body_markdown":"I am using the DocuSign Java SDK to create the whole envelope programmatically.\r\nIs there a way to add a clickable hyperlink in the envelope?\r\n\r\nAdding the hyperlink in the document pdf itself is not an option since the hyperlink won&#39;t be clickable while signing (it will be just visible on the background).\r\n\r\nI know it is possible to create custom field and use it in a template like described [here][1],\r\nbut in my case I am not using templates.\r\n\r\nI tried to create Text field programmatically like below and put it in the envelope, but the link is not clickable when the document is being reviewed. Is there a way to make it clickable while the signing (i.e. when the client opens the document in DS)\r\n\r\n            Text asd = new Text()\r\n            .name(&quot;#HREF_TermsAndConditions&quot;)\r\n            .value(&quot;https://thelink&quot;)\r\n            .required(&quot;true&quot;)\r\n            .tooltip(&quot;https://thelink&quot;)\r\n            .documentId(&quot;1&quot;)\r\n            .pageNumber(&quot;1&quot;)\r\n            .xPosition(&quot;100&quot;)\r\n            .yPosition(&quot;600&quot;);\r\n\r\n  [1]: https://support.docusign.com/s/articles/How-to-create-a-hyperlink-in-DocuSign?language=en_US","title":"Add hyperlink to DocuSign envelope programatically","body":"<p>I am using the DocuSign Java SDK to create the whole envelope programmatically.\nIs there a way to add a clickable hyperlink in the envelope?</p>\n<p>Adding the hyperlink in the document pdf itself is not an option since the hyperlink won't be clickable while signing (it will be just visible on the background).</p>\n<p>I know it is possible to create custom field and use it in a template like described <a href=\"https://support.docusign.com/s/articles/How-to-create-a-hyperlink-in-DocuSign?language=en_US\" rel=\"nofollow noreferrer\">here</a>,\nbut in my case I am not using templates.</p>\n<p>I tried to create Text field programmatically like below and put it in the envelope, but the link is not clickable when the document is being reviewed. Is there a way to make it clickable while the signing (i.e. when the client opens the document in DS)</p>\n<pre><code>        Text asd = new Text()\n        .name(&quot;#HREF_TermsAndConditions&quot;)\n        .value(&quot;https://thelink&quot;)\n        .required(&quot;true&quot;)\n        .tooltip(&quot;https://thelink&quot;)\n        .documentId(&quot;1&quot;)\n        .pageNumber(&quot;1&quot;)\n        .xPosition(&quot;100&quot;)\n        .yPosition(&quot;600&quot;);\n</code></pre>\n"},{"tags":["java","multithreading","asynchronous","synchronization","thread-synchronization"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1689315379,"post_id":76685093,"comment_id":135198666,"body_markdown":"You haven&#39;t shown how you check the value at the end, or the declaration of `countt` and `count`, or the end of your for loop.","body":"You haven&#39;t shown how you check the value at the end, or the declaration of <code>countt</code> and <code>count</code>, or the end of your for loop."},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1689315903,"post_id":76685093,"comment_id":135198758,"body_markdown":"`count.compareAndSet` may fail and you have to retry. In your code, you don&#39;t retry.","body":"<code>count.compareAndSet</code> may fail and you have to retry. In your code, you don&#39;t retry."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1689315943,"post_id":76685093,"comment_id":135198767,"body_markdown":"Note that the increment operator (`++`) is not atomic. So, calling `count[0]++` from multiple threads is not safe and thus can give you unpredictable results. And your use of `compareAndSet` is also not &quot;safe&quot; either, because you don&#39;t try again if the increment fails (you probably should just be using `incrementAndGet()` or `getAndIncrement()` and just ignore the return value). Also, an `ExecutorService` won&#39;t terminate before `shutdown()` is called, so your `awaitTermination` will always wait 10 milliseconds no matter what, because you don&#39;t call `shutdown()` until after.","body":"Note that the increment operator (<code>++</code>) is not atomic. So, calling <code>count[0]++</code> from multiple threads is not safe and thus can give you unpredictable results. And your use of <code>compareAndSet</code> is also not &quot;safe&quot; either, because you don&#39;t try again if the increment fails (you probably should just be using <code>incrementAndGet()</code> or <code>getAndIncrement()</code> and just ignore the return value). Also, an <code>ExecutorService</code> won&#39;t terminate before <code>shutdown()</code> is called, so your <code>awaitTermination</code> will always wait 10 milliseconds no matter what, because you don&#39;t call <code>shutdown()</code> until after."},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":1,"creation_date":1689316093,"post_id":76685093,"comment_id":135198798,"body_markdown":"And you use a new thread pool for each task. You should reuse the thread pool. Also, checking the result in the loop is plain wrong.","body":"And you use a new thread pool for each task. You should reuse the thread pool. Also, checking the result in the loop is plain wrong."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1689316158,"post_id":76685093,"comment_id":135198809,"body_markdown":"Now you have a catch with no matching try!","body":"Now you have a catch with no matching try!"},{"owner":{"account_id":28962393,"reputation":1,"user_id":22184619,"display_name":"aditya sharma"},"score":0,"creation_date":1689316294,"post_id":76685093,"comment_id":135198832,"body_markdown":"there is a try above the loop","body":"there is a try above the loop"},{"owner":{"account_id":28962393,"reputation":1,"user_id":22184619,"display_name":"aditya sharma"},"score":0,"creation_date":1689316428,"post_id":76685093,"comment_id":135198862,"body_markdown":"@tgdavies what can i do to achieve exact results \ni thing the array is taking slightly more time than atomic integer\nalso i cannot change the data structure","body":"@tgdavies what can i do to achieve exact results  i thing the array is taking slightly more time than atomic integer also i cannot change the data structure"},{"owner":{"account_id":28962393,"reputation":1,"user_id":22184619,"display_name":"aditya sharma"},"score":0,"creation_date":1689316559,"post_id":76685093,"comment_id":135198884,"body_markdown":"okay sure let me update the code","body":"okay sure let me update the code"},{"owner":{"account_id":28962393,"reputation":1,"user_id":22184619,"display_name":"aditya sharma"},"score":0,"creation_date":1689316768,"post_id":76685093,"comment_id":135198920,"body_markdown":"@Slaw  if i am using locks or countdownlatch or even if i increase the await time my testcases are passed \nBut i want all the threads to work concurrently without any sort of lock \nif the iteration is bigger i sometime get race condition","body":"@Slaw  if i am using locks or countdownlatch or even if i increase the await time my testcases are passed  But i want all the threads to work concurrently without any sort of lock  if the iteration is bigger i sometime get race condition"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1689316922,"post_id":76685093,"comment_id":135198947,"body_markdown":"To get the result you want, you can swap the `shutdown` and `awaitTermination` lines, and increase the `awaitTermination` timeout to 200ms. But I don&#39;t really understand what you think your code does/should do.","body":"To get the result you want, you can swap the <code>shutdown</code> and <code>awaitTermination</code> lines, and increase the <code>awaitTermination</code> timeout to 200ms. But I don&#39;t really understand what you think your code does/should do."},{"owner":{"account_id":28962393,"reputation":1,"user_id":22184619,"display_name":"aditya sharma"},"score":0,"creation_date":1689317393,"post_id":76685093,"comment_id":135199023,"body_markdown":"@tgdavies  thank you for your help I am a newbie I am still learning all the the concepts I am trying to find a way how I can make count[0]++ work same as atomic I would take your advices and make changes accordingly","body":"@tgdavies  thank you for your help I am a newbie I am still learning all the the concepts I am trying to find a way how I can make count[0]++ work same as atomic I would take your advices and make changes accordingly"},{"owner":{"account_id":28962393,"reputation":1,"user_id":22184619,"display_name":"aditya sharma"},"score":0,"creation_date":1689317564,"post_id":76685093,"comment_id":135199057,"body_markdown":"@slaw thank you for your help","body":"@slaw thank you for your help"}],"owner":{"account_id":28962393,"reputation":1,"user_id":22184619,"display_name":"aditya sharma"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689316622,"creation_date":1689315009,"question_id":76685093,"body_markdown":"I have used an `executorService`. The pool size is 5, and I have initialized \r\nan array  `final int[] count = {0};` and AtomicInteger `at  = new AtomicInteger(0);`\r\n\r\nThen I am iterating this for 10000 times and in every iteration I am doing\r\n`count[0]++` \r\n`at.incrementAndGet()`\r\n\r\nBut why I am not getting same value at the end?\r\n\r\nI have used locks, synchronized block, `awaitTermination` with big delay, `countdownlatch`, but I don&#39;t want all this. Is there a way that I can achieve the same result?\r\n\r\n\r\n```\r\nclass AsyncExecutorApplicationTests {\r\n\tprivate static AtomicInteger count = new AtomicInteger(0);\r\n\r\n\t@Test\r\n\tvoid check() {\r\n\t\ttry {\r\n\t\t\tfinal int[] countt = {0};\r\n//\t\t\tLock lock = new ReentrantLock();\r\n\t\t\tfor (int i = 0; i &lt; 1000; i++) {\r\n\t\t\t\tExecutorService executorService = Executors.newFixedThreadPool(5);\r\n\t\t\t\texecutorService.execute(()-&gt; {\r\n\t\t\t\t\ttry\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tThread.sleep(100);\r\n\t\t\t\t\t\tcountt[0]++;\r\n\t\t\t\t\t\tcount.incrementAndGet();\r\n\t\t\t\t\t\tSystem.out.println(Thread.activeCount()+&quot;-----&quot; + Thread.currentThread().getName() + &quot;----&quot; + count.get() + &quot;-----&quot; + countt[0]);\r\n\t\t\t\t\t\tThread.sleep(100);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcatch (InterruptedException e)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tthrow new RuntimeException(e);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t\texecutorService.awaitTermination(10, TimeUnit.MILLISECONDS); // blocks/waits for certain interval as specified\r\n\t\t\t\texecutorService.shutdown();\r\n\t\t\t}\r\n\t\t\tAssertions.assertEquals(1000, count.get());\r\n\t\t\tAssertions.assertEquals(1000, countt[0]);\r\n\t\t}\r\n\t\tcatch (NullPointerException | InterruptedException e)\r\n\t\t{\r\n\t\t\tthrow new RuntimeException(e);\r\n\t\t}\r\n\t}\r\n```\r\n","title":"How to run threads asynchrounously but get results in synchronous way without using lock, countdownlatch, or synchronized block?","body":"<p>I have used an <code>executorService</code>. The pool size is 5, and I have initialized\nan array  <code>final int[] count = {0};</code> and AtomicInteger <code>at  = new AtomicInteger(0);</code></p>\n<p>Then I am iterating this for 10000 times and in every iteration I am doing\n<code>count[0]++</code>\n<code>at.incrementAndGet()</code></p>\n<p>But why I am not getting same value at the end?</p>\n<p>I have used locks, synchronized block, <code>awaitTermination</code> with big delay, <code>countdownlatch</code>, but I don't want all this. Is there a way that I can achieve the same result?</p>\n<pre><code>class AsyncExecutorApplicationTests {\n    private static AtomicInteger count = new AtomicInteger(0);\n\n    @Test\n    void check() {\n        try {\n            final int[] countt = {0};\n//          Lock lock = new ReentrantLock();\n            for (int i = 0; i &lt; 1000; i++) {\n                ExecutorService executorService = Executors.newFixedThreadPool(5);\n                executorService.execute(()-&gt; {\n                    try\n                    {\n                        Thread.sleep(100);\n                        countt[0]++;\n                        count.incrementAndGet();\n                        System.out.println(Thread.activeCount()+&quot;-----&quot; + Thread.currentThread().getName() + &quot;----&quot; + count.get() + &quot;-----&quot; + countt[0]);\n                        Thread.sleep(100);\n                    }\n                    catch (InterruptedException e)\n                    {\n                        throw new RuntimeException(e);\n                    }\n                }\n                );\n                executorService.awaitTermination(10, TimeUnit.MILLISECONDS); // blocks/waits for certain interval as specified\n                executorService.shutdown();\n            }\n            Assertions.assertEquals(1000, count.get());\n            Assertions.assertEquals(1000, countt[0]);\n        }\n        catch (NullPointerException | InterruptedException e)\n        {\n            throw new RuntimeException(e);\n        }\n    }\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":24762987,"reputation":60,"user_id":18647144,"display_name":"James S"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650642486,"creation_date":1650642486,"answer_id":71971429,"question_id":71971210,"body_markdown":"Use at least Spring Boot 2.3.12 with Spring Framework 5.2.20.\r\n\r\nNote that Spring Boot 2.3.x and 2.4.x are no longer supported, and 2.5.x support ends soon. Refer to release notes on the Spring Boot wiki at GitHub, and the support matrix at spring.io/projects/spring-boot\r\n\r\nSpring Boot normally manages your dependencies, so once you are on the current version you would not want to specify the Spring Framework version yourself.\r\n","title":"Spring and Spring Boot Compatibility","body":"<p>Use at least Spring Boot 2.3.12 with Spring Framework 5.2.20.</p>\n<p>Note that Spring Boot 2.3.x and 2.4.x are no longer supported, and 2.5.x support ends soon. Refer to release notes on the Spring Boot wiki at GitHub, and the support matrix at spring.io/projects/spring-boot</p>\n<p>Spring Boot normally manages your dependencies, so once you are on the current version you would not want to specify the Spring Framework version yourself.</p>\n"},{"tags":[],"owner":{"account_id":17609632,"reputation":106,"user_id":12777955,"display_name":"Kemot 90"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689316612,"creation_date":1685530855,"answer_id":76372790,"question_id":71971210,"body_markdown":"I use this approach for find compatibility.\r\nGo on [spring-boot maven repo][1]\r\n\r\n[![maven repository][2]][2]\r\n\r\nIn this case spring-core and context (in compile dependencies) is 5.3.27.. \r\nspring-boot 2.7.12 is compatible with Spring 5.3.27\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/org.springframework.boot/spring-boot\r\n  [2]: https://i.stack.imgur.com/yPcIW.png","title":"Spring and Spring Boot Compatibility","body":"<p>I use this approach for find compatibility.\nGo on <a href=\"https://mvnrepository.com/artifact/org.springframework.boot/spring-boot\" rel=\"nofollow noreferrer\">spring-boot maven repo</a></p>\n<p><a href=\"https://i.stack.imgur.com/yPcIW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yPcIW.png\" alt=\"maven repository\" /></a></p>\n<p>In this case spring-core and context (in compile dependencies) is 5.3.27..\nspring-boot 2.7.12 is compatible with Spring 5.3.27</p>\n"},{"tags":[],"owner":{"account_id":183202,"reputation":11590,"user_id":418439,"accept_rate":88,"display_name":"Lee Chee Kiam"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689314048,"creation_date":1689314048,"answer_id":76685030,"question_id":71971210,"body_markdown":"If you would like to refer to the official documentation for the latest version, you may refer to [System Requirements][1] section. For older versions, you may google with [&quot;spring boot&quot; &quot;system requirements&quot;][2] and look for your version.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/getting-started.html#getting-started.system-requirements\r\n  [2]: https://www.google.com/search?q=%22spring%20boot%22%20%22system%20requirements%22","title":"Spring and Spring Boot Compatibility","body":"<p>If you would like to refer to the official documentation for the latest version, you may refer to <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/getting-started.html#getting-started.system-requirements\" rel=\"nofollow noreferrer\">System Requirements</a> section. For older versions, you may google with <a href=\"https://www.google.com/search?q=%22spring%20boot%22%20%22system%20requirements%22\" rel=\"nofollow noreferrer\">&quot;spring boot&quot; &quot;system requirements&quot;</a> and look for your version.</p>\n"}],"owner":{"account_id":17893893,"reputation":55,"user_id":12999774,"display_name":"Anirudh Giran"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6011,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1689316612,"creation_date":1650641424,"question_id":71971210,"body_markdown":"Is there a way to check the compatibility of Spring framework and Springboot versions?\r\n\r\nI recently switched from Spring v4.3.20.RELEASE to Spring v5.2.20.RELEASE\r\nand Springboot v1.5.17 to v2.1.10.RELEASE \r\nAnd now, I am facing many compatibility issues. \r\nI am having a hard time figuring out the compatible versions. \r\n\r\nPlease help","title":"Spring and Spring Boot Compatibility","body":"<p>Is there a way to check the compatibility of Spring framework and Springboot versions?</p>\n<p>I recently switched from Spring v4.3.20.RELEASE to Spring v5.2.20.RELEASE\nand Springboot v1.5.17 to v2.1.10.RELEASE\nAnd now, I am facing many compatibility issues.\nI am having a hard time figuring out the compatible versions.</p>\n<p>Please help</p>\n"},{"tags":["java","spring-boot","localhost","vaadin","vaadin-flow"],"comments":[{"owner":{"account_id":12280349,"reputation":10212,"user_id":8962195,"display_name":"Tatu Lund"},"score":0,"creation_date":1689271224,"post_id":76682017,"comment_id":135193555,"body_markdown":"Can you explain why you have the do - while loop there, what you are trying to achieve with it?","body":"Can you explain why you have the do - while loop there, what you are trying to achieve with it?"},{"owner":{"account_id":26943637,"reputation":11,"user_id":20513978,"display_name":"gabbagoo"},"score":0,"creation_date":1689274870,"post_id":76682017,"comment_id":135194306,"body_markdown":"@TatuLund The purpose is to run the initial conversion selection menu until valid input is typed. The why is because the instructor requires it.","body":"@TatuLund The purpose is to run the initial conversion selection menu until valid input is typed. The why is because the instructor requires it."},{"owner":{"account_id":3837378,"reputation":35463,"user_id":3181392,"display_name":"cfrick"},"score":0,"creation_date":1689327972,"post_id":76682017,"comment_id":135200993,"body_markdown":"Is vaadin your choice or of the instructor? Because writing a menu like that might be OK for a CLI/TUI - but not for Vaadin.","body":"Is vaadin your choice or of the instructor? Because writing a menu like that might be OK for a CLI/TUI - but not for Vaadin."}],"answers":[{"tags":[],"owner":{"account_id":12280349,"reputation":10212,"user_id":8962195,"display_name":"Tatu Lund"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689311371,"creation_date":1689311371,"answer_id":76684859,"question_id":76682017,"body_markdown":"I think you have misunderstood the concept of Vaadin. You Java code runs on the server and the UI is shown on the Browser. This means that there is two machines and a network connection between them. I.e. it is a distributed system. Thus in Vaadin application, everything is based on events and event handling.\r\n\r\n    chooseConversionButton.addClickListener(eventChooseConversion -&gt; { .. };\r\n\r\nThe execution is not stopping here waiting for input. The main thread execution continues. Instead the callback in the listener is executed when the event happens. The blocking actions are not possible in any distributed system such as Vaadin.\r\n\r\nThus in your code do - while loop is practically eternal loop. Based on your comment it is completely un-necessary here.\r\n\r\nSo if you want to present a menu and take input, and have &quot;something&quot; that needs to be done when input is taken, you need to call that &quot;something&quot; in the event handler.\r\n\r\nI recommend to browse thru the [Tutorial][1] section of the Vaadin documentation and download [app starter][2] to play with the concept.\r\n\r\n\r\n  [1]: https://vaadin.com/docs/latest/tutorial\r\n  [2]: https://start.vaadin.com/app","title":"Can I use a do-while loop with Vaadin? If I do the localhost:8080 shows a loading bar that almost fills but never does","body":"<p>I think you have misunderstood the concept of Vaadin. You Java code runs on the server and the UI is shown on the Browser. This means that there is two machines and a network connection between them. I.e. it is a distributed system. Thus in Vaadin application, everything is based on events and event handling.</p>\n<pre><code>chooseConversionButton.addClickListener(eventChooseConversion -&gt; { .. };\n</code></pre>\n<p>The execution is not stopping here waiting for input. The main thread execution continues. Instead the callback in the listener is executed when the event happens. The blocking actions are not possible in any distributed system such as Vaadin.</p>\n<p>Thus in your code do - while loop is practically eternal loop. Based on your comment it is completely un-necessary here.</p>\n<p>So if you want to present a menu and take input, and have &quot;something&quot; that needs to be done when input is taken, you need to call that &quot;something&quot; in the event handler.</p>\n<p>I recommend to browse thru the <a href=\"https://vaadin.com/docs/latest/tutorial\" rel=\"nofollow noreferrer\">Tutorial</a> section of the Vaadin documentation and download <a href=\"https://start.vaadin.com/app\" rel=\"nofollow noreferrer\">app starter</a> to play with the concept.</p>\n"}],"owner":{"account_id":26943637,"reputation":11,"user_id":20513978,"display_name":"gabbagoo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1689316480,"creation_date":1689270213,"question_id":76682017,"body_markdown":"A project for school requires us to make a Web Application for various conversions. For the time being I am using localhost:8080 to test as I build. The instructions require a do-while loop for the initial menu. I have the logic up to the first temperature conversion (F to C) and it works just fine until I add a do-while.\r\n\r\nSo far I&#39;ve tried wrapping the entire code in the do-while and just the menu in a do-while (I haven&#39;t tried every single possibility of do-while placement yet). In both cases the page shows a loading bar that almost fills, starts flashing, and stays there, forever loading. Surely I&#39;m missing something simple?\r\n```\r\n        add(new H1(&quot;Welcome to the Conversion Challenge!&quot;));\r\n\r\n        IntegerField menuChoice = new IntegerField();\r\n        Button chooseConversionButton = new Button(&quot;Onward!&quot;);\r\n        AtomicInteger inputValue = new AtomicInteger(-1);\r\n        do\r\n        {\r\n            add(new H3(&quot;What method of conversion would you like to indulge in?&quot;));\r\n            add(new Paragraph(&quot;1) A temperate one?&quot;));\r\n            add(new Paragraph(&quot;2) Something heavier?&quot;));\r\n            add(new Paragraph(&quot;3) Maybe you&#39;re money-minded?&quot;));\r\n            add(new Paragraph(&quot;4) Or just give up!&quot;));\r\n\r\n            menuChoice.setLabel(&quot;What is your choice?&quot;);\r\n            menuChoice.setHelperText(&quot;Don&#39;t be silly... go ahead.&quot;);\r\n            add(menuChoice, chooseConversionButton);\r\n\r\n        \r\n            chooseConversionButton.addClickListener(eventChooseConversion -&gt; {\r\n                inputValue.set(menuChoice.getValue());\r\n\r\n                removeAll();\r\n\r\n                switch(inputValue.get())\r\n                { \r\n        ... code continues \r\n       } while(inputValue.intValue() != 4);\r\n```","title":"Can I use a do-while loop with Vaadin? If I do the localhost:8080 shows a loading bar that almost fills but never does","body":"<p>A project for school requires us to make a Web Application for various conversions. For the time being I am using localhost:8080 to test as I build. The instructions require a do-while loop for the initial menu. I have the logic up to the first temperature conversion (F to C) and it works just fine until I add a do-while.</p>\n<p>So far I've tried wrapping the entire code in the do-while and just the menu in a do-while (I haven't tried every single possibility of do-while placement yet). In both cases the page shows a loading bar that almost fills, starts flashing, and stays there, forever loading. Surely I'm missing something simple?</p>\n<pre><code>        add(new H1(&quot;Welcome to the Conversion Challenge!&quot;));\n\n        IntegerField menuChoice = new IntegerField();\n        Button chooseConversionButton = new Button(&quot;Onward!&quot;);\n        AtomicInteger inputValue = new AtomicInteger(-1);\n        do\n        {\n            add(new H3(&quot;What method of conversion would you like to indulge in?&quot;));\n            add(new Paragraph(&quot;1) A temperate one?&quot;));\n            add(new Paragraph(&quot;2) Something heavier?&quot;));\n            add(new Paragraph(&quot;3) Maybe you're money-minded?&quot;));\n            add(new Paragraph(&quot;4) Or just give up!&quot;));\n\n            menuChoice.setLabel(&quot;What is your choice?&quot;);\n            menuChoice.setHelperText(&quot;Don't be silly... go ahead.&quot;);\n            add(menuChoice, chooseConversionButton);\n\n        \n            chooseConversionButton.addClickListener(eventChooseConversion -&gt; {\n                inputValue.set(menuChoice.getValue());\n\n                removeAll();\n\n                switch(inputValue.get())\n                { \n        ... code continues \n       } while(inputValue.intValue() != 4);\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":24885,"reputation":30822,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1689331615,"post_id":76684957,"comment_id":135201630,"body_markdown":"Can you provide an example (input number and output number)?","body":"Can you provide an example (input number and output number)?"},{"owner":{"account_id":23689889,"reputation":1,"user_id":17714357,"display_name":"Lakshya Kumar"},"score":0,"creation_date":1689430647,"post_id":76684957,"comment_id":135214074,"body_markdown":"Guys i&#39;m not looking to reverse the integer. I need the vertical mirror image of it.","body":"Guys i&#39;m not looking to reverse the integer. I need the vertical mirror image of it."},{"owner":{"account_id":18670408,"reputation":143,"user_id":13609359,"display_name":"Slevin"},"score":0,"creation_date":1689431805,"post_id":76684957,"comment_id":135214214,"body_markdown":"Is this a joke or serious? How do you think you can take a character, make an image of it, and then store as a newly created character based on an image? Do you think of creating an own font? Or am I missing something? Please clarify in more detail.","body":"Is this a joke or serious? How do you think you can take a character, make an image of it, and then store as a newly created character based on an image? Do you think of creating an own font? Or am I missing something? Please clarify in more detail."},{"owner":{"account_id":18670408,"reputation":143,"user_id":13609359,"display_name":"Slevin"},"score":0,"creation_date":1689432087,"post_id":76684957,"comment_id":135214253,"body_markdown":"If this is a task that someone has given you, then it may be an attempt to trap you. Or, if it&#39;s meant to be serious, then it&#39;s definitely something for very very advanced developers.","body":"If this is a task that someone has given you, then it may be an attempt to trap you. Or, if it&#39;s meant to be serious, then it&#39;s definitely something for very very advanced developers."}],"answers":[{"tags":[],"owner":{"account_id":18670408,"reputation":143,"user_id":13609359,"display_name":"Slevin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689316095,"creation_date":1689316095,"answer_id":76685175,"question_id":76684957,"body_markdown":"```java\r\nint n = 123;\r\nSystem.out.println(new StringBuilder().append(n).reverse());\r\n```\r\n\r\nNo artificial intelligence  involved ;)","title":"Mirroring a number and printing to console","body":"<pre class=\"lang-java prettyprint-override\"><code>int n = 123;\nSystem.out.println(new StringBuilder().append(n).reverse());\n</code></pre>\n<p>No artificial intelligence  involved ;)</p>\n"}],"owner":{"account_id":23689889,"reputation":1,"user_id":17714357,"display_name":"Lakshya Kumar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":104,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1689316095,"creation_date":1689313021,"question_id":76684957,"body_markdown":"I have a number stored in a variable. I need to create a mirror image of this, store in another variable and print it.\r\n\r\nI can only find the isMirrored class but that is to check if something is mirror. I need a variable to store the special mirrored character.","title":"Mirroring a number and printing to console","body":"<p>I have a number stored in a variable. I need to create a mirror image of this, store in another variable and print it.</p>\n<p>I can only find the isMirrored class but that is to check if something is mirror. I need a variable to store the special mirrored character.</p>\n"},{"tags":["javascript","java","maven","karate"],"comments":[{"owner":{"account_id":48302,"reputation":55353,"user_id":143475,"display_name":"Peter Thomas"},"score":0,"creation_date":1689302597,"post_id":76682188,"comment_id":135197479,"body_markdown":"the JS engine is stricter. try making `karate-config.js` a single function and the other 2 helper functions within it or move them out read from separate files. that is all that can be diagnosed remotely. if you still are stuck, follow this process: https://github.com/karatelabs/karate/wiki/How-to-Submit-an-Issue - in future ask your team to try the RC releases as soon as they are available to avoid surprises and provide feedback. you are attempting a huge jump in version so you will have problems.","body":"the JS engine is stricter. try making <code>karate-config.js</code> a single function and the other 2 helper functions within it or move them out read from separate files. that is all that can be diagnosed remotely. if you still are stuck, follow this process: <a href=\"https://github.com/karatelabs/karate/wiki/How-to-Submit-an-Issue\" rel=\"nofollow noreferrer\">github.com/karatelabs/karate/wiki/How-to-Submit-an-Issue</a> - in future ask your team to try the RC releases as soon as they are available to avoid surprises and provide feedback. you are attempting a huge jump in version so you will have problems."},{"owner":{"account_id":23528255,"reputation":33,"user_id":17574383,"display_name":"MrMag1990"},"score":0,"creation_date":1689317333,"post_id":76682188,"comment_id":135199011,"body_markdown":"ok I am one step forward but still can`t call karate-config.js\nWhen I write url is working but wchen I want use address1 in karate-config.js is not working.\nAuthorization: Bearer accessToken1 --&gt; in here must be a token not variable","body":"ok I am one step forward but still can`t call karate-config.js When I write url is working but wchen I want use address1 in karate-config.js is not working. Authorization: Bearer accessToken1 --&gt; in here must be a token not variable"},{"owner":{"account_id":48302,"reputation":55353,"user_id":143475,"display_name":"Peter Thomas"},"score":0,"creation_date":1689319575,"post_id":76682188,"comment_id":135199400,"body_markdown":"sorry, I give up","body":"sorry, I give up"},{"owner":{"account_id":23528255,"reputation":33,"user_id":17574383,"display_name":"MrMag1990"},"score":0,"creation_date":1689319983,"post_id":76682188,"comment_id":135199486,"body_markdown":"quickly :P I must find why :D","body":"quickly :P I must find why :D"}],"owner":{"account_id":23528255,"reputation":33,"user_id":17574383,"display_name":"MrMag1990"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1689315807,"creation_date":1689271875,"question_id":76682188,"body_markdown":"I use Java 17 and I upgrade karate to version to 1.4.0 and Junit5 to version 1.4.1.RC2 I can`t run my tests.\r\nTests works in 0.9.6 version of Karate and old version Junit but no in latest version.\r\n\r\nThis is my pom.xml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;csr-web-karate-tests&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0.0&lt;/version&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;karate.version&gt;1.4.0&lt;/karate.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\r\n            &lt;version&gt;6.0.6&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;pl.santander&lt;/groupId&gt;\r\n            &lt;artifactId&gt;informix-core&lt;/artifactId&gt;\r\n            &lt;version&gt;2.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;eu.vitaliy&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mazovia-charset&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.intuit.karate&lt;/groupId&gt;\r\n            &lt;artifactId&gt;karate-core&lt;/artifactId&gt;\r\n            &lt;version&gt;${karate.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.intuit.karate&lt;/groupId&gt;\r\n            &lt;artifactId&gt;karate-apache&lt;/artifactId&gt;\r\n            &lt;version&gt;0.9.6&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.masterthought&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cucumber-reporting&lt;/artifactId&gt;\r\n            &lt;version&gt;5.7.5&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.intuit.karate&lt;/groupId&gt;\r\n            &lt;artifactId&gt;karate-junit5&lt;/artifactId&gt;\r\n            &lt;version&gt;1.4.1.RC2&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\r\n            &lt;artifactId&gt;allure-junit5&lt;/artifactId&gt;\r\n            &lt;version&gt;2.21.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.graalvm.js&lt;/groupId&gt;\r\n            &lt;artifactId&gt;js&lt;/artifactId&gt;\r\n            &lt;version&gt;23.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.graalvm.js&lt;/groupId&gt;\r\n            &lt;artifactId&gt;js-scriptengine&lt;/artifactId&gt;\r\n            &lt;version&gt;23.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;testResources&gt;\r\n            &lt;testResource&gt;\r\n                &lt;directory&gt;src/test/java&lt;/directory&gt;\r\n                &lt;excludes&gt;\r\n                    &lt;exclude&gt;**/*.java&lt;/exclude&gt;\r\n                &lt;/excludes&gt;\r\n            &lt;/testResource&gt;\r\n        &lt;/testResources&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;target&gt;11&lt;/target&gt;\r\n                    &lt;source&gt;11&lt;/source&gt;\r\n                    &lt;release&gt;11&lt;/release&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.22.2&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nMy runner class \r\n\r\n\r\n```\r\npublic class WipTest {\r\n    @Karate.Test\r\n    Karate wipTest() {\r\n        return Karate\r\n                .run(&quot;classpath:features&quot;)\r\n                .tags(&quot;@wip&quot;)\r\n                .relativeTo(getClass());\r\n    }\r\n}\r\n```\r\n\r\nAnd My karate-config\r\n\r\n\r\n```\r\nfunction fn() {\r\n    var env = karate.env;\r\n    var baseUrl = &#39;&#39;;\r\n    var secondUrl = &#39;&#39;;\r\n    var accessToken = &#39;&#39;;\r\n    var accessToken1 = &#39;&#39;;\r\n    var datebase = &#39;&#39;;\r\n\r\n    if (env === &quot;dev&quot;) {\r\n        var port = 8080;\r\n        baseUrl = &#39;http://localhost&#39; + &quot;:&quot; + port + &quot;/api&quot;;\r\n\r\n    } else if (env === &quot;RELEASE&quot;) {\r\n        baseUrl = &quot;hidden specially&quot;;\r\n        accessToken = getZt2Token();\r\n        secondUrl = &#39;hidden specially&#39;;\r\n        accessToken1 = getRelease();\r\n\r\n    } else if (env === &quot;ZT002&quot;) {\r\n        baseUrl = &quot;hidden specially&quot;;\r\n        accessToken = getZt2Token();\r\n        secondUrl = &#39;hidden specially&#39;;\r\n        accessToken1 = getRelease();\r\n\r\n    } else if (env === &quot;ZT004&quot;) {\r\n        baseUrl = &quot;hidden specially&quot;;\r\n        accessToken = getZt4Token();\r\n\r\n    } else if (env === &quot;ZT001&quot;) {\r\n        baseUrl = &quot;hidden specially&quot;;\r\n        accessToken = getZt1Token();\r\n\r\n    } else {\r\n        baseUrl = null\r\n        secondUrl = null\r\n        accessToken = null\r\n        accessToken1 = null\r\n        datebase = null\r\n    }\r\n\r\n    var config = {\r\n        env: env,\r\n        address: baseUrl,\r\n        address1: secondUrl,\r\n        accessToken: accessToken,\r\n        accessToken1: accessToken1,\r\n        datebase: datebase,\r\n    }\r\n\r\n    karate.configure(&#39;connectTimeout&#39;, 30000);\r\n    karate.configure(&#39;readTimeout&#39;, 60000);\r\n\r\n    return config;\r\n}\r\n\r\nfunction getRelease(){\r\n    var config = {};\r\n    var tokenUrl = &#39;hidden specially&#39;;\r\n    var grantType = &#39;hidden specially&#39;;\r\n    var clientSecret = &#39;hidden specially&#39;;\r\n    var clientId = &#39;hidden specially&#39;;\r\n    config.authInfo = {\r\n        authTokenUrl: tokenUrl,\r\n        authClientId: clientId,\r\n        authClientSecret: clientSecret,\r\n        authGrantType: grantType,\r\n    }\r\n    var result = karate.call(&quot;classpath:src/test/java/features/getAccessToken.feature&quot;, config)[&#39;response&#39;];\r\n    return result[&#39;access_token&#39;];\r\n}\r\n\r\nfunction getZt2Token() {\r\n    var config = {};\r\n    var tokenUrl = &#39;hidden specially&#39;;\r\n    var grantType = &#39;hidden specially&#39;;\r\n    var clientSecret = &#39;hidden specially&#39;;\r\n    var clientId = &#39;hidden specially&#39;;\r\n    config.authInfo = {\r\n        authTokenUrl: tokenUrl,\r\n        authClientId: clientId,\r\n        authClientSecret: clientSecret,\r\n        authGrantType: grantType,\r\n    }\r\n    var result = karate.call(&quot;classpath:src/test/java/features/getAccessToken.feature&quot;, config)[&#39;response&#39;];\r\n    return result[&#39;access_token&#39;];\r\n}\r\n\r\nect.\r\n```\r\n\r\n\r\n\r\nAnd my test \r\n\r\n```\r\nScenario Outline: PUT Transaction - accept -  &lt;decision&gt;, &lt;reasonId&gt;, &lt;comment&gt;\r\n    * url address1\r\n    * path &#39;hidden specially&#39;\r\n    * header Authorization = &#39;Bearer &#39; + accessToken1\r\n    * configure ssl = true\r\n    * def req = read(&#39;classpath:src/test/java/resources/transaction.json&#39;)\r\n    * def randomPaymentId = call read(&#39;classpath:src/test/java/resources/randomPaymentId.js&#39;)\r\n    * set req.header.paymentId = randomPaymentId\r\n\r\n    Given request req\r\n    When method POST\r\n    Then status 200\r\n\r\nrest hidden specially\r\n\r\n```\r\n\r\nTest are good but no matter what you do I have this error:\r\n\r\n\r\n```\r\norg.opentest4j.AssertionFailedError: &gt;&gt; classpath:features/acceptOrBlockTransactionsNegative.feature:185\r\n&gt;&gt; karate-config.js failed\r\n&gt;&gt; js failed:\r\n&gt;&gt;&gt;&gt;\r\nnext is the complete karate-config\r\n```\r\n\r\n\r\n \r\n\r\nAnyone know what this might be about? I read all stackoverflow and I don`t find a solution.","title":"Karate-config.js failed and js failed","body":"<p>I use Java 17 and I upgrade karate to version to 1.4.0 and Junit5 to version 1.4.1.RC2 I can`t run my tests.\nTests works in 0.9.6 version of Karate and old version Junit but no in latest version.</p>\n<p>This is my pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\n    &lt;artifactId&gt;csr-web-karate-tests&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;karate.version&gt;1.4.0&lt;/karate.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\n            &lt;version&gt;6.0.6&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;pl.santander&lt;/groupId&gt;\n            &lt;artifactId&gt;informix-core&lt;/artifactId&gt;\n            &lt;version&gt;2.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;eu.vitaliy&lt;/groupId&gt;\n            &lt;artifactId&gt;mazovia-charset&lt;/artifactId&gt;\n            &lt;version&gt;1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.intuit.karate&lt;/groupId&gt;\n            &lt;artifactId&gt;karate-core&lt;/artifactId&gt;\n            &lt;version&gt;${karate.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.intuit.karate&lt;/groupId&gt;\n            &lt;artifactId&gt;karate-apache&lt;/artifactId&gt;\n            &lt;version&gt;0.9.6&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n                    &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.masterthought&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-reporting&lt;/artifactId&gt;\n            &lt;version&gt;5.7.5&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.intuit.karate&lt;/groupId&gt;\n            &lt;artifactId&gt;karate-junit5&lt;/artifactId&gt;\n            &lt;version&gt;1.4.1.RC2&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n                    &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\n            &lt;artifactId&gt;allure-junit5&lt;/artifactId&gt;\n            &lt;version&gt;2.21.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.graalvm.js&lt;/groupId&gt;\n            &lt;artifactId&gt;js&lt;/artifactId&gt;\n            &lt;version&gt;23.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.graalvm.js&lt;/groupId&gt;\n            &lt;artifactId&gt;js-scriptengine&lt;/artifactId&gt;\n            &lt;version&gt;23.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;testResources&gt;\n            &lt;testResource&gt;\n                &lt;directory&gt;src/test/java&lt;/directory&gt;\n                &lt;excludes&gt;\n                    &lt;exclude&gt;**/*.java&lt;/exclude&gt;\n                &lt;/excludes&gt;\n            &lt;/testResource&gt;\n        &lt;/testResources&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;target&gt;11&lt;/target&gt;\n                    &lt;source&gt;11&lt;/source&gt;\n                    &lt;release&gt;11&lt;/release&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.22.2&lt;/version&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>My runner class</p>\n<pre><code>public class WipTest {\n    @Karate.Test\n    Karate wipTest() {\n        return Karate\n                .run(&quot;classpath:features&quot;)\n                .tags(&quot;@wip&quot;)\n                .relativeTo(getClass());\n    }\n}\n</code></pre>\n<p>And My karate-config</p>\n<pre><code>function fn() {\n    var env = karate.env;\n    var baseUrl = '';\n    var secondUrl = '';\n    var accessToken = '';\n    var accessToken1 = '';\n    var datebase = '';\n\n    if (env === &quot;dev&quot;) {\n        var port = 8080;\n        baseUrl = 'http://localhost' + &quot;:&quot; + port + &quot;/api&quot;;\n\n    } else if (env === &quot;RELEASE&quot;) {\n        baseUrl = &quot;hidden specially&quot;;\n        accessToken = getZt2Token();\n        secondUrl = 'hidden specially';\n        accessToken1 = getRelease();\n\n    } else if (env === &quot;ZT002&quot;) {\n        baseUrl = &quot;hidden specially&quot;;\n        accessToken = getZt2Token();\n        secondUrl = 'hidden specially';\n        accessToken1 = getRelease();\n\n    } else if (env === &quot;ZT004&quot;) {\n        baseUrl = &quot;hidden specially&quot;;\n        accessToken = getZt4Token();\n\n    } else if (env === &quot;ZT001&quot;) {\n        baseUrl = &quot;hidden specially&quot;;\n        accessToken = getZt1Token();\n\n    } else {\n        baseUrl = null\n        secondUrl = null\n        accessToken = null\n        accessToken1 = null\n        datebase = null\n    }\n\n    var config = {\n        env: env,\n        address: baseUrl,\n        address1: secondUrl,\n        accessToken: accessToken,\n        accessToken1: accessToken1,\n        datebase: datebase,\n    }\n\n    karate.configure('connectTimeout', 30000);\n    karate.configure('readTimeout', 60000);\n\n    return config;\n}\n\nfunction getRelease(){\n    var config = {};\n    var tokenUrl = 'hidden specially';\n    var grantType = 'hidden specially';\n    var clientSecret = 'hidden specially';\n    var clientId = 'hidden specially';\n    config.authInfo = {\n        authTokenUrl: tokenUrl,\n        authClientId: clientId,\n        authClientSecret: clientSecret,\n        authGrantType: grantType,\n    }\n    var result = karate.call(&quot;classpath:src/test/java/features/getAccessToken.feature&quot;, config)['response'];\n    return result['access_token'];\n}\n\nfunction getZt2Token() {\n    var config = {};\n    var tokenUrl = 'hidden specially';\n    var grantType = 'hidden specially';\n    var clientSecret = 'hidden specially';\n    var clientId = 'hidden specially';\n    config.authInfo = {\n        authTokenUrl: tokenUrl,\n        authClientId: clientId,\n        authClientSecret: clientSecret,\n        authGrantType: grantType,\n    }\n    var result = karate.call(&quot;classpath:src/test/java/features/getAccessToken.feature&quot;, config)['response'];\n    return result['access_token'];\n}\n\nect.\n</code></pre>\n<p>And my test</p>\n<pre><code>Scenario Outline: PUT Transaction - accept -  &lt;decision&gt;, &lt;reasonId&gt;, &lt;comment&gt;\n    * url address1\n    * path 'hidden specially'\n    * header Authorization = 'Bearer ' + accessToken1\n    * configure ssl = true\n    * def req = read('classpath:src/test/java/resources/transaction.json')\n    * def randomPaymentId = call read('classpath:src/test/java/resources/randomPaymentId.js')\n    * set req.header.paymentId = randomPaymentId\n\n    Given request req\n    When method POST\n    Then status 200\n\nrest hidden specially\n\n</code></pre>\n<p>Test are good but no matter what you do I have this error:</p>\n<pre><code>org.opentest4j.AssertionFailedError: &gt;&gt; classpath:features/acceptOrBlockTransactionsNegative.feature:185\n&gt;&gt; karate-config.js failed\n&gt;&gt; js failed:\n&gt;&gt;&gt;&gt;\nnext is the complete karate-config\n</code></pre>\n<p>Anyone know what this might be about? I read all stackoverflow and I don`t find a solution.</p>\n"},{"tags":["java","spring","spring-mvc","model-view-controller"],"comments":[{"owner":{"account_id":58163,"reputation":14165,"user_id":174184,"accept_rate":73,"display_name":"TJ-"},"score":2,"creation_date":1407871842,"post_id":25272543,"comment_id":39380799,"body_markdown":"You need to add a no-args constructor to have @Controller work. `public TestController() {}` .When you remove your custom constructor, the default constructor (no args) becomes available, but in the presence of a constructor with args, a no-args constructor is not implicitly present.","body":"You need to add a no-args constructor to have @Controller work. <code>public TestController() {}</code> .When you remove your custom constructor, the default constructor (no args) becomes available, but in the presence of a constructor with args, a no-args constructor is not implicitly present."},{"owner":{"account_id":3344039,"reputation":11379,"user_id":2809564,"accept_rate":82,"display_name":"john"},"score":0,"creation_date":1407871952,"post_id":25272543,"comment_id":39380847,"body_markdown":"@TJ yes it works fine after adding that but before I didn&#39;t have any default constructor, just now I added the constructor with parameters then it started failing.","body":"@TJ yes it works fine after adding that but before I didn&#39;t have any default constructor, just now I added the constructor with parameters then it started failing."},{"owner":{"account_id":58163,"reputation":14165,"user_id":174184,"accept_rate":73,"display_name":"TJ-"},"score":0,"creation_date":1407871996,"post_id":25272543,"comment_id":39380881,"body_markdown":"Add another constructor with no-args. You can have multiple constructors. `Polymorphism`. A default no-args constructor is implicit in the absence of explicitly defined constructors.","body":"Add another constructor with no-args. You can have multiple constructors. <code>Polymorphism</code>. A default no-args constructor is implicit in the absence of explicitly defined constructors."},{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":2,"creation_date":1407872054,"post_id":25272543,"comment_id":39380914,"body_markdown":"This is simple Java: if you do not have any constructors, then a default no-argument constructor will be created for you. Once you created your own constructor, it&#39;s your responsibility to create a default one (if needed). Since Java Bean requires a default constructor you get your error.","body":"This is simple Java: if you do not have any constructors, then a default no-argument constructor will be created for you. Once you created your own constructor, it&#39;s your responsibility to create a default one (if needed). Since Java Bean requires a default constructor you get your error."}],"answers":[{"tags":[],"owner":{"account_id":83160,"reputation":5081,"user_id":233347,"accept_rate":87,"display_name":"prashant thakre"},"down_vote_count":0,"up_vote_count":30,"is_accepted":true,"score":30,"last_activity_date":1651797980,"creation_date":1407872200,"answer_id":25272687,"question_id":25272543,"body_markdown":"You have to define *no-args* or *default* constructor if you are creating your own constructor.\r\n\r\nYou can read why default or no argument constructor is required here:  \r\n[Why default or no argument constructor is important in Java class?][1]\r\n\r\n\r\n  [1]: https://javarevisited.blogspot.com/2014/01/why-default-or-no-argument-constructor-java-class.html","title":"No default constructor found; nested exception is java.lang.NoSuchMethodException with Spring MVC?","body":"<p>You have to define <em>no-args</em> or <em>default</em> constructor if you are creating your own constructor.</p>\n<p>You can read why default or no argument constructor is required here:<br />\n<a href=\"https://javarevisited.blogspot.com/2014/01/why-default-or-no-argument-constructor-java-class.html\" rel=\"nofollow noreferrer\">Why default or no argument constructor is important in Java class?</a></p>\n"},{"tags":[],"owner":{"account_id":76427,"reputation":3135,"user_id":218787,"display_name":"Ricardo Veguilla"},"down_vote_count":1,"up_vote_count":59,"is_accepted":false,"score":58,"last_activity_date":1407873789,"creation_date":1407873789,"answer_id":25273113,"question_id":25272543,"body_markdown":"Spring cannot instantiate your TestController because its only constructor requires a parameter. You can add a no-arg constructor or you add @Autowired annotation to the constructor:\r\n\r\n    @Autowired\r\n    public TestController(KeeperClient testClient) {\r\n        TestController.testClient = testClient;\r\n    }\r\n\r\nIn this case, you are explicitly telling Spring to search the application context for a KeeperClient bean and inject it  when instantiating the TestControlller.  ","title":"No default constructor found; nested exception is java.lang.NoSuchMethodException with Spring MVC?","body":"<p>Spring cannot instantiate your TestController because its only constructor requires a parameter. You can add a no-arg constructor or you add @Autowired annotation to the constructor:</p>\n\n<pre><code>@Autowired\npublic TestController(KeeperClient testClient) {\n    TestController.testClient = testClient;\n}\n</code></pre>\n\n<p>In this case, you are explicitly telling Spring to search the application context for a KeeperClient bean and inject it  when instantiating the TestControlller.  </p>\n"},{"tags":[],"owner":{"account_id":1326371,"reputation":4444,"user_id":1271094,"accept_rate":76,"display_name":"MK Yung"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1516881978,"creation_date":1516881978,"answer_id":48442472,"question_id":25272543,"body_markdown":"In my case, spring threw this because i forgot to make an inner class static. \n\nWhen you found that it doesnt help even adding a no-arg constructor, please check your modifier.","title":"No default constructor found; nested exception is java.lang.NoSuchMethodException with Spring MVC?","body":"<p>In my case, spring threw this because i forgot to make an inner class static. </p>\n\n<p>When you found that it doesnt help even adding a no-arg constructor, please check your modifier.</p>\n"},{"tags":[],"owner":{"account_id":5788395,"reputation":5166,"user_id":4566794,"accept_rate":86,"display_name":"IKo"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1567271962,"creation_date":1567271962,"answer_id":57740156,"question_id":25272543,"body_markdown":"In my case I forgot to add `@RequestBody` annotation to the method argument:\r\n\r\n    public TestController(@RequestBody KeeperClient testClient) {\r\n            TestController.testClient = testClient;\r\n        }","title":"No default constructor found; nested exception is java.lang.NoSuchMethodException with Spring MVC?","body":"<p>In my case I forgot to add <code>@RequestBody</code> annotation to the method argument:</p>\n\n<pre><code>public TestController(@RequestBody KeeperClient testClient) {\n        TestController.testClient = testClient;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6077039,"reputation":1004,"user_id":4744055,"display_name":"Manabu Tokunaga"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1585238855,"creation_date":1585238855,"answer_id":60871413,"question_id":25272543,"body_markdown":"If your environment is using **both** Guice and Spring and using the constructor @Inject, for example, with Play Framework, you will also run into this issue if you have mistakenly auto-completed the import with an incorrect choice of:\r\n\r\n    import com.google.inject.Inject;\r\n\r\nThen you get the same `missing default constructor` error even though the rest of your source with @Inject looks exactly the same way as other working components in your project and compile without an error.\r\n\r\nCorrect that with:\r\n\r\n    import javax.inject.Inject;\r\n\r\nDo not write a default constructor with construction time injection.","title":"No default constructor found; nested exception is java.lang.NoSuchMethodException with Spring MVC?","body":"<p>If your environment is using <strong>both</strong> Guice and Spring and using the constructor @Inject, for example, with Play Framework, you will also run into this issue if you have mistakenly auto-completed the import with an incorrect choice of:</p>\n\n<pre><code>import com.google.inject.Inject;\n</code></pre>\n\n<p>Then you get the same <code>missing default constructor</code> error even though the rest of your source with @Inject looks exactly the same way as other working components in your project and compile without an error.</p>\n\n<p>Correct that with:</p>\n\n<pre><code>import javax.inject.Inject;\n</code></pre>\n\n<p>Do not write a default constructor with construction time injection.</p>\n"},{"tags":[],"owner":{"account_id":29015052,"reputation":1,"user_id":22225662,"display_name":"Varun"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689315428,"creation_date":1689315428,"answer_id":76685126,"question_id":25272543,"body_markdown":"You can do like this.\r\nFirst, let&#39;s declare the static variable we want to inject NAME_STATIC.\r\nAfterward, we&#39;ll create a setter method, called setNameStatic and annotate it with the @Value annotation:\r\n@RestController\r\npublic class PropertyController {\r\n\r\n    @Value(&quot;${name}&quot;)\r\n    private String name;\r\n\r\n    private static String NAME_STATIC;\r\n\r\n    @Value(&quot;${name}&quot;)\r\n    public void setNameStatic(String name){\r\n        PropertyController.NAME_STATIC = name;\r\n    }\r\n}\r\n","title":"No default constructor found; nested exception is java.lang.NoSuchMethodException with Spring MVC?","body":"<p>You can do like this.\nFirst, let's declare the static variable we want to inject NAME_STATIC.\nAfterward, we'll create a setter method, called setNameStatic and annotate it with the @Value annotation:\n@RestController\npublic class PropertyController {</p>\n<pre><code>@Value(&quot;${name}&quot;)\nprivate String name;\n\nprivate static String NAME_STATIC;\n\n@Value(&quot;${name}&quot;)\npublic void setNameStatic(String name){\n    PropertyController.NAME_STATIC = name;\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":3344039,"reputation":11379,"user_id":2809564,"accept_rate":82,"display_name":"john"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":147222,"favorite_count":0,"down_vote_count":1,"up_vote_count":38,"accepted_answer_id":25272687,"answer_count":6,"score":37,"last_activity_date":1689315428,"creation_date":1407871737,"question_id":25272543,"body_markdown":"I am working with Spring MVC controller project. Below is my Controller and I have a constructor declared which I am specifically using for testing purpose.\r\n\r\n\t@Controller\r\n\tpublic class TestController {\r\n\r\n\t\tprivate static KeeperClient testClient = null;\r\n\t\t\r\n\t\tstatic {\r\n\r\n\t\t// some code here\r\n\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Added specifically for unit testing purpose.\r\n\t\t * \r\n\t\t * @param testClient\r\n\t\t */\r\n\t\tpublic TestController(KeeperClient testClient) {\r\n\t\t\tTestController.testClient = testClient;\r\n\t\t}\r\n\t\t\r\n\t\t// some method here\r\n\r\n\t}\r\n\t\r\nWhenever I am starting the server, I am getting below exception - \r\n\r\n\tNo default constructor found; nested exception is java.lang.NoSuchMethodException:\r\n\t\r\nBut if I remove\t`TestController` constructor then it works fine without any problem. What wrong I am doing here?\r\n\r\nBut if I add this default constructor then it starts working fine -\r\n\r\n\t\tpublic TestController() {\r\n\t\t\t\r\n\t\t}","title":"No default constructor found; nested exception is java.lang.NoSuchMethodException with Spring MVC?","body":"<p>I am working with Spring MVC controller project. Below is my Controller and I have a constructor declared which I am specifically using for testing purpose.</p>\n\n<pre><code>@Controller\npublic class TestController {\n\n    private static KeeperClient testClient = null;\n\n    static {\n\n    // some code here\n\n    }\n\n    /**\n     * Added specifically for unit testing purpose.\n     * \n     * @param testClient\n     */\n    public TestController(KeeperClient testClient) {\n        TestController.testClient = testClient;\n    }\n\n    // some method here\n\n}\n</code></pre>\n\n<p>Whenever I am starting the server, I am getting below exception - </p>\n\n<pre><code>No default constructor found; nested exception is java.lang.NoSuchMethodException:\n</code></pre>\n\n<p>But if I remove <code>TestController</code> constructor then it works fine without any problem. What wrong I am doing here?</p>\n\n<p>But if I add this default constructor then it starts working fine -</p>\n\n<pre><code>    public TestController() {\n\n    }\n</code></pre>\n"},{"tags":["java","eclipse","tomcat"],"comments":[{"owner":{"account_id":464362,"reputation":1084,"user_id":867816,"display_name":"Gernot"},"score":6,"creation_date":1485440867,"post_id":41875670,"comment_id":70933037,"body_markdown":"Could you please post the logs / output from the eclipse concole?","body":"Could you please post the logs / output from the eclipse concole?"},{"owner":{"account_id":1729424,"reputation":705,"user_id":1583348,"accept_rate":83,"display_name":"Rahim Khoja"},"score":0,"creation_date":1488779910,"post_id":41875670,"comment_id":72365658,"body_markdown":"anyone figured this?","body":"anyone figured this?"},{"owner":{"account_id":1781396,"reputation":6599,"user_id":1624035,"accept_rate":65,"display_name":"UdayKiran Pulipati"},"score":0,"creation_date":1662974394,"post_id":41875670,"comment_id":130121674,"body_markdown":"1. Check Runtime Environment JRE is mapped, if two JRE&#39;s exist select preferred one.\n2. If you Configured a new Apache server you need to Restart Eclipse IDE once.","body":"1. Check Runtime Environment JRE is mapped, if two JRE&#39;s exist select preferred one. 2. If you Configured a new Apache server you need to Restart Eclipse IDE once."}],"answers":[{"tags":[],"owner":{"account_id":1477569,"reputation":1610,"user_id":1387619,"accept_rate":63,"display_name":"amit kohan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1522777367,"creation_date":1522776989,"answer_id":49636075,"question_id":41875670,"body_markdown":"I had the same problem with Tomcat 9.xx and Eclipse. None of the given solutions helped me.\r\n\r\nHowever, there is a &lt;b&gt;missing step&lt;/b&gt; (for some of us) before &lt;b&gt;recreating a new Server in Eclipse&lt;/b&gt; you may need to add the path to a jar file. The missing step was browsing to your &lt;b&gt;/Tomcat-Directory/lib/servlet-api and adding servlet-api.jar&lt;/b&gt; \r\n\r\nSteps:\r\n\r\n1- Right click on the project you work on &gt; Build Path &gt; Configure Build Path &gt; Libraries &gt; Add External JARs\r\n\r\n2- Select all JAR files from the Tomcat/bin and Tomcat/lib\r\n\r\n3- Click &quot;OK&quot;\r\n\r\n\r\nThis made it work for me. I hope it will help you as well.\r\n\r\nThank you.\r\n\r\n","title":"Server Tomcat v9.0 Server at localhost failed to start","body":"<p>I had the same problem with Tomcat 9.xx and Eclipse. None of the given solutions helped me.</p>\n\n<p>However, there is a <b>missing step</b> (for some of us) before <b>recreating a new Server in Eclipse</b> you may need to add the path to a jar file. The missing step was browsing to your <b>/Tomcat-Directory/lib/servlet-api and adding servlet-api.jar</b> </p>\n\n<p>Steps:</p>\n\n<p>1- Right click on the project you work on > Build Path > Configure Build Path > Libraries > Add External JARs</p>\n\n<p>2- Select all JAR files from the Tomcat/bin and Tomcat/lib</p>\n\n<p>3- Click \"OK\"</p>\n\n<p>This made it work for me. I hope it will help you as well.</p>\n\n<p>Thank you.</p>\n"},{"tags":[],"owner":{"account_id":12043550,"reputation":13,"user_id":8809538,"display_name":"Rafsun Jany Arman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1547141826,"creation_date":1547141468,"answer_id":54134022,"question_id":41875670,"body_markdown":"If you can&#39;t detect which project creates the problem then simply add and remove it in your server and run. If defective project is not anymore added to the server then server will run correctly. After detecting the problem you can simply follow the steps below.\r\n\r\nIf you are using data base connection with connection pooling then make sure `@Resource(name=&quot;jdbc/dbName&quot;)` is written before `private DataSource dataSource` in your servlet controller class. Just put it like this in your servlet controller class:\r\n\r\n    @Resource(name=&quot;jdbc/sakila&quot;)\r\n\tprivate DataSource dataSource;","title":"Server Tomcat v9.0 Server at localhost failed to start","body":"<p>If you can't detect which project creates the problem then simply add and remove it in your server and run. If defective project is not anymore added to the server then server will run correctly. After detecting the problem you can simply follow the steps below.</p>\n\n<p>If you are using data base connection with connection pooling then make sure <code>@Resource(name=\"jdbc/dbName\")</code> is written before <code>private DataSource dataSource</code> in your servlet controller class. Just put it like this in your servlet controller class:</p>\n\n<pre><code>@Resource(name=\"jdbc/sakila\")\nprivate DataSource dataSource;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14527161,"reputation":411,"user_id":10493035,"display_name":"tarun kumar143"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1559904127,"creation_date":1559899684,"answer_id":56491646,"question_id":41875670,"body_markdown":"Right click on the project you work on &gt; Build Path &gt; Configure Build Path &gt; Libraries &gt; Add External JARs--servlet-api.jar and jsp-api.jar if you are deploying web Application","title":"Server Tomcat v9.0 Server at localhost failed to start","body":"<p>Right click on the project you work on > Build Path > Configure Build Path > Libraries > Add External JARs--servlet-api.jar and jsp-api.jar if you are deploying web Application</p>\n"},{"tags":[],"owner":{"account_id":17791937,"reputation":3,"user_id":12920731,"display_name":"Aron Kim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583520114,"creation_date":1583518161,"answer_id":60569484,"question_id":41875670,"body_markdown":"There was once I had messed around the `server.xml` file, and unwittingly added a Context tag telling the server to load a project I wasn&#39;t looking to load, and therefore had not compiled. That threw the `Server Tomcat v9.0 Server at localhost failed to start`, which went away after I deleted that.","title":"Server Tomcat v9.0 Server at localhost failed to start","body":"<p>There was once I had messed around the <code>server.xml</code> file, and unwittingly added a Context tag telling the server to load a project I wasn't looking to load, and therefore had not compiled. That threw the <code>Server Tomcat v9.0 Server at localhost failed to start</code>, which went away after I deleted that.</p>\n"},{"tags":[],"owner":{"account_id":12025622,"reputation":51,"user_id":12719669,"display_name":"Gustavo Feliciano"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1584839420,"creation_date":1584826751,"answer_id":60793555,"question_id":41875670,"body_markdown":"Have you tried to put `/` in the webServlet above your class?\r\n\r\n```java\r\n@WebServlet(&quot;/nameURL&quot;)\r\npublic class MyClass extends HttpServlet{}\r\n```","title":"Server Tomcat v9.0 Server at localhost failed to start","body":"<p>Have you tried to put <code>/</code> in the webServlet above your class?</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@WebServlet(\"/nameURL\")\npublic class MyClass extends HttpServlet{}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18154005,"reputation":1,"user_id":13206298,"display_name":"lihinxgufin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1585884912,"creation_date":1585884912,"answer_id":61004722,"question_id":41875670,"body_markdown":"1. Go to directory (your workspace)\\.metadata\\.plugins\\org.eclipse.wst.server.core\\tmp0\\conf\r\n2. Open server.xml file on editor\r\n3. Delete `&lt;Context docBase=&quot;(your workspace)\\.metadata\\.plugins\\org.eclipse.wst.server.core\\tmp0\\wtpwebapps\\(your old project)&quot; path=&quot;/(your old project)&quot; reloadable=&quot;true&quot; source=&quot;org.eclipse.jst.jee.server:(your old project)&quot;/&gt;`\r\n\r\nthere might be some left over from your old project.\r\nso, only delete projects that have not been used or that were previously deleted.\r\nbecause if you delete one line then your server will be able to run but not with your project. because some of your project lines were deleted too.","title":"Server Tomcat v9.0 Server at localhost failed to start","body":"<ol>\n<li>Go to directory (your workspace).metadata.plugins\\org.eclipse.wst.server.core\\tmp0\\conf</li>\n<li>Open server.xml file on editor</li>\n<li>Delete <code>&lt;Context docBase=\"(your workspace)\\.metadata\\.plugins\\org.eclipse.wst.server.core\\tmp0\\wtpwebapps\\(your old project)\" path=\"/(your old project)\" reloadable=\"true\" source=\"org.eclipse.jst.jee.server:(your old project)\"/&gt;</code></li>\n</ol>\n\n<p>there might be some left over from your old project.\nso, only delete projects that have not been used or that were previously deleted.\nbecause if you delete one line then your server will be able to run but not with your project. because some of your project lines were deleted too.</p>\n"},{"tags":[],"owner":{"account_id":18485332,"reputation":1,"user_id":13466446,"display_name":"tamoghna saha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1588597552,"creation_date":1588590355,"answer_id":61590767,"question_id":41875670,"body_markdown":"I uninstalled tomcat server, deleted the server from eclipse and reinstalled, reattached tomcat. It&#39;s running fine now.","title":"Server Tomcat v9.0 Server at localhost failed to start","body":"<p>I uninstalled tomcat server, deleted the server from eclipse and reinstalled, reattached tomcat. It's running fine now.</p>\n"},{"tags":[],"owner":{"account_id":5219902,"reputation":49,"user_id":4173686,"display_name":"irfan Quresh"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1658148048,"creation_date":1593632947,"answer_id":62684352,"question_id":41875670,"body_markdown":"1. Delete server by navigating to Window -&gt;Show View -&gt; Server. Right click on server and delete it.  \r\n1. Delete **Servers** folder from Project Explorer \r\n1. Delete .metadata of eclipse workspace (CAUTION: You will lose all your workspace settings (e.g.: key bindings, appearance, ...))\r\n1. Now **Restart** eclipse and add Apache Tomcat server.\r\n\r\nIt will work.\r\n\r\n[![Screenshot][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xewTw.png","title":"Server Tomcat v9.0 Server at localhost failed to start","body":"<ol>\n<li>Delete server by navigating to Window -&gt;Show View -&gt; Server. Right click on server and delete it.</li>\n<li>Delete <strong>Servers</strong> folder from Project Explorer</li>\n<li>Delete .metadata of eclipse workspace (CAUTION: You will lose all your workspace settings (e.g.: key bindings, appearance, ...))</li>\n<li>Now <strong>Restart</strong> eclipse and add Apache Tomcat server.</li>\n</ol>\n<p>It will work.</p>\n<p><a href=\"https://i.stack.imgur.com/xewTw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xewTw.png\" alt=\"Screenshot\" /></a></p>\n"},{"tags":[],"owner":{"account_id":16266658,"reputation":21,"user_id":11746494,"display_name":"Avinash Kumar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1603358990,"creation_date":1603358990,"answer_id":64479301,"question_id":41875670,"body_markdown":"\r\n\r\n\r\n\r\nI was facing a similar problem in my spring MVC project. The problem was in the web.xml file. So in Spring 5 before you configure your dispatcher servlet you have to use the tag\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;absolute-ordering&gt;&lt;/absolute-ordering&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nWorked fine for me.\r\nHappy Coding.","title":"Server Tomcat v9.0 Server at localhost failed to start","body":"<p>I was facing a similar problem in my spring MVC project. The problem was in the web.xml file. So in Spring 5 before you configure your dispatcher servlet you have to use the tag</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;absolute-ordering&gt;&lt;/absolute-ordering&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>Worked fine for me.\nHappy Coding.</p>\n"},{"tags":[],"owner":{"account_id":21641977,"reputation":1,"user_id":15964041,"display_name":"Upeshitha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1621361807,"creation_date":1621360059,"answer_id":67591469,"question_id":41875670,"body_markdown":"1. Open the &#39;server.xml&#39; file.\r\n[picture1][1]\r\n\r\n2. Press ctrl + f and find the &#39;shutdown&#39; word. Then change the port number.\r\n[picture2][2]\r\n\r\n3. done. Because when the connection port number and shutdown port number are the same, then it creates conflict. So, one port number we should change.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qNdoG.png\r\n  [2]: https://i.stack.imgur.com/HQsVE.png","title":"Server Tomcat v9.0 Server at localhost failed to start","body":"<ol>\n<li><p>Open the 'server.xml' file.\n<a href=\"https://i.stack.imgur.com/qNdoG.png\" rel=\"nofollow noreferrer\">picture1</a></p>\n</li>\n<li><p>Press ctrl + f and find the 'shutdown' word. Then change the port number.\n<a href=\"https://i.stack.imgur.com/HQsVE.png\" rel=\"nofollow noreferrer\">picture2</a></p>\n</li>\n<li><p>done. Because when the connection port number and shutdown port number are the same, then it creates conflict. So, one port number we should change.</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":20927471,"reputation":11,"user_id":15374600,"display_name":"james danial"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1622005167,"creation_date":1622005167,"answer_id":67698764,"question_id":41875670,"body_markdown":"In my case, I had messed up up with my JAR files. My JAR files were corrupted. So delete existing JAR files and upload new JAR files. Hope this works.\r\n*Check &#39;Markers&#39; tab for errors and warnings.","title":"Server Tomcat v9.0 Server at localhost failed to start","body":"<p>In my case, I had messed up up with my JAR files. My JAR files were corrupted. So delete existing JAR files and upload new JAR files. Hope this works.\n*Check 'Markers' tab for errors and warnings.</p>\n"},{"tags":[],"owner":{"account_id":18590395,"reputation":9,"user_id":13547745,"display_name":"aryan kathpal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632854471,"creation_date":1632823423,"answer_id":69359713,"question_id":41875670,"body_markdown":"This happens because your server HTTP port and your shutdown port are the same. \r\n\r\nTo resolve this, go to the `server.xml` file and search. There will be a `SHUTDOWN` port entry. Change it and your server will work.","title":"Server Tomcat v9.0 Server at localhost failed to start","body":"<p>This happens because your server HTTP port and your shutdown port are the same.</p>\n<p>To resolve this, go to the <code>server.xml</code> file and search. There will be a <code>SHUTDOWN</code> port entry. Change it and your server will work.</p>\n"},{"tags":[],"owner":{"account_id":23084455,"reputation":1,"user_id":17196194,"display_name":"user17196194"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1634681131,"creation_date":1634681131,"answer_id":69638125,"question_id":41875670,"body_markdown":"This is the best solution. It worked for me.\r\n\r\nSteps:-\r\n\r\n1- Open the Servers tab from Windows &#187; Show View &#187; Servers menu.\r\n\r\n2- Right click on the server and delete it\r\n\r\n3-Create a new server by going New &#187; Server on server tab.\r\n\r\n4-Click on Configure runtime environments link.\r\n\r\n5-Select the Apache Tomcat Server and remove it. This will remove the Tomcat server configuration.\r\n\r\n6-Click on OK and exit the screen above now.\r\n\r\n7-From the screen below, choose Apache Tomcat server and click on Next button:\r\n\r\n8-Browse to Tomcat Installation Directory.\r\n\r\n9-Click on Next and choose which project you would like to deploy:\r\n\r\n10-Click on Finish after adding your project.\r\n\r\n11-Now launch your Server.","title":"Server Tomcat v9.0 Server at localhost failed to start","body":"<p>This is the best solution. It worked for me.</p>\n<p>Steps:-</p>\n<p>1- Open the Servers tab from Windows » Show View » Servers menu.</p>\n<p>2- Right click on the server and delete it</p>\n<p>3-Create a new server by going New » Server on server tab.</p>\n<p>4-Click on Configure runtime environments link.</p>\n<p>5-Select the Apache Tomcat Server and remove it. This will remove the Tomcat server configuration.</p>\n<p>6-Click on OK and exit the screen above now.</p>\n<p>7-From the screen below, choose Apache Tomcat server and click on Next button:</p>\n<p>8-Browse to Tomcat Installation Directory.</p>\n<p>9-Click on Next and choose which project you would like to deploy:</p>\n<p>10-Click on Finish after adding your project.</p>\n<p>11-Now launch your Server.</p>\n"},{"tags":[],"owner":{"account_id":23489379,"reputation":11,"user_id":17540604,"display_name":"NinjaPop"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638185373,"creation_date":1638184830,"answer_id":70153782,"question_id":41875670,"body_markdown":"There is a possibility that you are missing a &quot;/&quot; in your web.xml file probably in: `&lt;servlet-mapping&gt;&lt;/servlet-mapping&gt;`\r\n\r\n`&lt;url-pattern&gt; missing &quot;/&quot; before pattern name &lt;/url-pattern&gt;`\r\n\r\n[possible issue][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/tAaeA.png","title":"Server Tomcat v9.0 Server at localhost failed to start","body":"<p>There is a possibility that you are missing a &quot;/&quot; in your web.xml file probably in: <code>&lt;servlet-mapping&gt;&lt;/servlet-mapping&gt;</code></p>\n<p><code>&lt;url-pattern&gt; missing &quot;/&quot; before pattern name &lt;/url-pattern&gt;</code></p>\n<p><a href=\"https://i.stack.imgur.com/tAaeA.png\" rel=\"nofollow noreferrer\">possible issue</a></p>\n"},{"tags":[],"owner":{"account_id":23428548,"reputation":129,"user_id":17487723,"display_name":"Syed Aaqib Hussain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640707752,"creation_date":1640706226,"answer_id":70509302,"question_id":41875670,"body_markdown":"If you are using Spring Framework, please check in the **WEB.XML** *Dispatcher Servlet* is configured correctly. Also check if there is any spelling/name incorrectness.","title":"Server Tomcat v9.0 Server at localhost failed to start","body":"<p>If you are using Spring Framework, please check in the <strong>WEB.XML</strong> <em>Dispatcher Servlet</em> is configured correctly. Also check if there is any spelling/name incorrectness.</p>\n"},{"tags":[],"owner":{"account_id":21013742,"reputation":1,"user_id":15441756,"display_name":"n0S"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656692314,"creation_date":1656692314,"answer_id":72832101,"question_id":41875670,"body_markdown":"Change your redirect port in server.xml to something else and it should work\r\n\r\n     &lt;Connector connectionTimeout=&quot;20000&quot; port=&quot;8080&quot; protocol=&quot;HTTP/1.1&quot; redirectPort=&quot;8900&quot;/&gt;","title":"Server Tomcat v9.0 Server at localhost failed to start","body":"<p>Change your redirect port in server.xml to something else and it should work</p>\n<pre><code> &lt;Connector connectionTimeout=&quot;20000&quot; port=&quot;8080&quot; protocol=&quot;HTTP/1.1&quot; redirectPort=&quot;8900&quot;/&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25768474,"reputation":1,"user_id":19517781,"display_name":"Tarun"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657394303,"creation_date":1657394303,"answer_id":72924020,"question_id":41875670,"body_markdown":"Just check your Console. Than search for relevant solution i did everthing, but ended up deleting a mapping error shown in console from web.xml","title":"Server Tomcat v9.0 Server at localhost failed to start","body":"<p>Just check your Console. Than search for relevant solution i did everthing, but ended up deleting a mapping error shown in console from web.xml</p>\n"},{"tags":[],"owner":{"account_id":5034380,"reputation":1,"user_id":4043657,"display_name":"Nitesh Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661257500,"creation_date":1661257500,"answer_id":73458711,"question_id":41875670,"body_markdown":"https://www.youtube.com/watch?v=SEO22ifq9qE&amp;ab_channel=%23VhCode\r\n\r\nDelete web.xml under WEB-INF of the selected project or correct everything in that file, then try restarting the server.","title":"Server Tomcat v9.0 Server at localhost failed to start","body":"<p><a href=\"https://www.youtube.com/watch?v=SEO22ifq9qE&amp;ab_channel=%23VhCode\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=SEO22ifq9qE&amp;ab_channel=%23VhCode</a></p>\n<p>Delete web.xml under WEB-INF of the selected project or correct everything in that file, then try restarting the server.</p>\n"},{"tags":[],"owner":{"account_id":22767999,"reputation":11,"user_id":16925773,"display_name":"Niket dubey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670326766,"creation_date":1670326766,"answer_id":74701881,"question_id":41875670,"body_markdown":"Also Verify the Argument should contains &quot;-Dspring.profiles.active=&quot;enviroment name&quot;","title":"Server Tomcat v9.0 Server at localhost failed to start","body":"<p>Also Verify the Argument should contains &quot;-Dspring.profiles.active=&quot;enviroment name&quot;</p>\n"},{"tags":[],"owner":{"account_id":25753267,"reputation":21,"user_id":19505450,"display_name":"Zahra Vakilifard"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1673645110,"creation_date":1673385090,"answer_id":75075906,"question_id":41875670,"body_markdown":"I had the same problem, which was solved when I changed the admin port (right-click on the server inside eclipse and select properties) from a hyphen(default) to another port number. I used another port number for the admin port (not the same as the port number I used for my tomcat)\r\n\r\n![enter image description here][1]\r\n\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zdpgq.png\r\n\r\nHope it helps you\r\nCheers","title":"Server Tomcat v9.0 Server at localhost failed to start","body":"<p>I had the same problem, which was solved when I changed the admin port (right-click on the server inside eclipse and select properties) from a hyphen(default) to another port number. I used another port number for the admin port (not the same as the port number I used for my tomcat)</p>\n<p><img src=\"https://i.stack.imgur.com/zdpgq.png\" alt=\"enter image description here\" /></p>\n<p><img src=\"https://i.stack.imgur.com/zdpgq.png\" alt=\"enter image description here\" /></p>\n<p>Hope it helps you\nCheers</p>\n"},{"tags":[],"owner":{"account_id":18360026,"reputation":3,"user_id":13372334,"display_name":"Marvelographer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675091776,"creation_date":1675091776,"answer_id":75286381,"question_id":41875670,"body_markdown":"Try to delete .m2 file in This pc-&gt; C drive-&gt;&#160;users&#160;-&gt;&#160;.m2 \r\nthen restart eclipse and run the server again","title":"Server Tomcat v9.0 Server at localhost failed to start","body":"<p>Try to delete .m2 file in This pc-&gt; C drive-&gt; users -&gt; .m2\nthen restart eclipse and run the server again</p>\n"},{"tags":[],"owner":{"account_id":23371159,"reputation":71,"user_id":17441983,"display_name":"Elhem Nouri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677256520,"creation_date":1677256520,"answer_id":75559103,"question_id":41875670,"body_markdown":" 1. Go to &quot;Window&quot; menu and select &quot;Preferences&quot;. \r\n 2. In the Preferences window, expand the &quot;Java&quot; section and select Installed JREs&quot;. Here, you should see a list of JREs that are currently installed on your system. Check if the JRE you are looking for is listed, or you can add it by clicking on the &quot;Add&quot; button and providing the path to the JRE installation directory.","title":"Server Tomcat v9.0 Server at localhost failed to start","body":"<ol>\n<li>Go to &quot;Window&quot; menu and select &quot;Preferences&quot;.</li>\n<li>In the Preferences window, expand the &quot;Java&quot; section and select Installed JREs&quot;. Here, you should see a list of JREs that are currently installed on your system. Check if the JRE you are looking for is listed, or you can add it by clicking on the &quot;Add&quot; button and providing the path to the JRE installation directory.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":29015013,"reputation":1,"user_id":22225629,"display_name":"Kavya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689315085,"creation_date":1689315085,"answer_id":76685099,"question_id":41875670,"body_markdown":"If you have latest version of eclipse, the problem is with XML file. You need to use Annotations instead of XML file.\r\n\r\n@WebServlet(&quot;url&quot;) -&gt;Use this after imports","title":"Server Tomcat v9.0 Server at localhost failed to start","body":"<p>If you have latest version of eclipse, the problem is with XML file. You need to use Annotations instead of XML file.</p>\n<p>@WebServlet(&quot;url&quot;) -&gt;Use this after imports</p>\n"}],"owner":{"account_id":6298840,"reputation":119,"user_id":5924261,"display_name":"Krishna"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117910,"favorite_count":0,"down_vote_count":1,"up_vote_count":12,"answer_count":23,"score":11,"last_activity_date":1689315085,"creation_date":1485440753,"question_id":41875670,"body_markdown":"I am using Eclipse Neon and Tomcat server 9.0 and JDK 1.8\r\nIt was working well but unfortunately its giving me error &#39;Server Tomcat v9.0 Server at localhost failed to start.&#39;\r\nI tried to change the ports i.e. connection port and other ports too but it did not solve my problem and this error is shown when I start the server or run the web app I am currently working on.\r\nOther solution other than change in port because I tried it and it did not resolve my problem?????","title":"Server Tomcat v9.0 Server at localhost failed to start","body":"<p>I am using Eclipse Neon and Tomcat server 9.0 and JDK 1.8\nIt was working well but unfortunately its giving me error 'Server Tomcat v9.0 Server at localhost failed to start.'\nI tried to change the ports i.e. connection port and other ports too but it did not solve my problem and this error is shown when I start the server or run the web app I am currently working on.\nOther solution other than change in port because I tried it and it did not resolve my problem?????</p>\n"},{"tags":["java","apache-camel"],"comments":[{"owner":{"account_id":1282416,"reputation":12126,"user_id":1236217,"accept_rate":100,"display_name":"Namphibian"},"score":0,"creation_date":1606264715,"post_id":64963904,"comment_id":114910720,"body_markdown":"You are producing messages using: to(&quot;jms&quot;) but you never consume them from(&quot;jms&quot;). Since there are no consumers it will not remove the messages.","body":"You are producing messages using: to(&quot;jms&quot;) but you never consume them from(&quot;jms&quot;). Since there are no consumers it will not remove the messages."},{"owner":{"account_id":18703905,"reputation":1,"user_id":13961737,"display_name":"Dream"},"score":0,"creation_date":1606339522,"post_id":64963904,"comment_id":114938400,"body_markdown":"@Namphibian thanks for the answer, yes I created a consumer and it worked","body":"@Namphibian thanks for the answer, yes I created a consumer and it worked"}],"answers":[{"tags":[],"owner":{"account_id":19939841,"reputation":131,"user_id":14611777,"display_name":"Surajit Sarkar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689313875,"creation_date":1689313875,"answer_id":76685015,"question_id":64963904,"body_markdown":"Try this out..\r\n\r\nAdding acknowledgementModeName=CLIENT_ACKNOWLEDGE makes Camel only remove the message when the route is finished successfully:\r\n\r\nfrom(&quot;activemq:some.queue.name?acknowledgementModeName=CLIENT_ACKNOWLEDGE&quot;)\r\n\r\nCamel is also locking these messages to prevent other Camel instances or threads from processing the same message.","title":"Messages are not removed from the Camel route queue","body":"<p>Try this out..</p>\n<p>Adding acknowledgementModeName=CLIENT_ACKNOWLEDGE makes Camel only remove the message when the route is finished successfully:</p>\n<p>from(&quot;activemq:some.queue.name?acknowledgementModeName=CLIENT_ACKNOWLEDGE&quot;)</p>\n<p>Camel is also locking these messages to prevent other Camel instances or threads from processing the same message.</p>\n"}],"owner":{"account_id":18703905,"reputation":1,"user_id":13961737,"display_name":"Dream"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":278,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689313875,"creation_date":1606115426,"question_id":64963904,"body_markdown":"Please tell a newbie how to build the route correctly, everything seems to work, but processed messages are not removed from the queue.\r\n\r\n```java\r\n@Startup\r\n@CamelAware\r\n@ApplicationScoped\r\npublic class MyRouteBuilder extends RouteBuilder {\r\n\r\n    @Resource(mappedName = &quot;java:/ConnectionFactory&quot;)\r\n    private ConnectionFactory connectionFactory;\r\n\r\n    @Override\r\n    public void configure() throws Exception {\r\n\r\n        JmsComponent component = new JmsComponent();\r\n        component.setConnectionFactory(connectionFactory);\r\n\r\n        getContext().addComponent(&quot;jms&quot;, component);\r\n\r\n        from(&quot;timer://foo?fixedRate=true&amp;period=60000&quot;)\r\n            .setHeader(Exchange.HTTP_METHOD, constant(&quot;GET&quot;))\r\n            .setHeader(Exchange.CONTENT_TYPE, constant(&quot;application/json&quot;))\r\n            .setHeader(Exchange.HTTP_QUERY, constant(&quot;projectCode=200&quot;))\r\n            .to(&quot;https://serv:port/rest/testgetprojectlist&quot;)\r\n            .convertBodyTo(String.class)\r\n            .to(&quot;jms:queue:queue_name?concurrentConsumers=10&amp;acknowledgementModeName=CLIENT_ACKNOWLEDGE&quot;)\r\n            .to(&quot;file:///opt/tmp/?fileName=tempOut.txt&amp;charset=UTF-8&quot;)\r\n            .log(&quot;we are in here with this message ${body}&quot;);\r\n\r\n    }\r\n}\r\n```","title":"Messages are not removed from the Camel route queue","body":"<p>Please tell a newbie how to build the route correctly, everything seems to work, but processed messages are not removed from the queue.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Startup\n@CamelAware\n@ApplicationScoped\npublic class MyRouteBuilder extends RouteBuilder {\n\n    @Resource(mappedName = &quot;java:/ConnectionFactory&quot;)\n    private ConnectionFactory connectionFactory;\n\n    @Override\n    public void configure() throws Exception {\n\n        JmsComponent component = new JmsComponent();\n        component.setConnectionFactory(connectionFactory);\n\n        getContext().addComponent(&quot;jms&quot;, component);\n\n        from(&quot;timer://foo?fixedRate=true&amp;period=60000&quot;)\n            .setHeader(Exchange.HTTP_METHOD, constant(&quot;GET&quot;))\n            .setHeader(Exchange.CONTENT_TYPE, constant(&quot;application/json&quot;))\n            .setHeader(Exchange.HTTP_QUERY, constant(&quot;projectCode=200&quot;))\n            .to(&quot;https://serv:port/rest/testgetprojectlist&quot;)\n            .convertBodyTo(String.class)\n            .to(&quot;jms:queue:queue_name?concurrentConsumers=10&amp;acknowledgementModeName=CLIENT_ACKNOWLEDGE&quot;)\n            .to(&quot;file:///opt/tmp/?fileName=tempOut.txt&amp;charset=UTF-8&quot;)\n            .log(&quot;we are in here with this message ${body}&quot;);\n\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","jackson","objectmapper"],"comments":[{"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"score":0,"creation_date":1689313768,"post_id":76685002,"comment_id":135198446,"body_markdown":"The JSON fields are unique and without any order - that&#39;s the definition of JSON. Why do you want to achieve something like that?","body":"The JSON fields are unique and without any order - that&#39;s the definition of JSON. Why do you want to achieve something like that?"},{"owner":{"account_id":20576612,"reputation":33,"user_id":15103652,"display_name":"zeeshan"},"score":0,"creation_date":1689314014,"post_id":76685002,"comment_id":135198481,"body_markdown":"I want to show pagination related properties like itemCount, totalItems, and page at the bottom of my response.","body":"I want to show pagination related properties like itemCount, totalItems, and page at the bottom of my response."},{"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"score":0,"creation_date":1689315015,"post_id":76685002,"comment_id":135198611,"body_markdown":"What do you need it for?","body":"What do you need it for?"},{"owner":{"account_id":20576612,"reputation":33,"user_id":15103652,"display_name":"zeeshan"},"score":0,"creation_date":1689316225,"post_id":76685002,"comment_id":135198821,"body_markdown":"I want to follow this pattern to show these metadata at bottom like elasticsearch API shows them at top.","body":"I want to follow this pattern to show these metadata at bottom like elasticsearch API shows them at top."},{"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"score":0,"creation_date":1689318446,"post_id":76685002,"comment_id":135199223,"body_markdown":"You need to split the responsibilities. The API provides the data, the ElasticSearch processes them and there is a GUI tool (either Kibana or if there is something that can read from the ElasticSearch directly, I don&#39;t know) that is responsible for displaying, i. e. the order of the displayed fields should be in the responsibility of the GUI tool. To clarify why I say that, I am not aware Spring supports ordered JSON fields as JSON is by definition unordered.","body":"You need to split the responsibilities. The API provides the data, the ElasticSearch processes them and there is a GUI tool (either Kibana or if there is something that can read from the ElasticSearch directly, I don&#39;t know) that is responsible for displaying, i. e. the order of the displayed fields should be in the responsibility of the GUI tool. To clarify why I say that, I am not aware Spring supports ordered JSON fields as JSON is by definition unordered."}],"owner":{"account_id":20576612,"reputation":33,"user_id":15103652,"display_name":"zeeshan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689313681,"creation_date":1689313681,"question_id":76685002,"body_markdown":"I have a POJO `ResponseBuilder` to create Json response for my rest endpoint. Here the item name can be generic depending on the type of item asked in the query. To set this dynamic property name at runtime, I am using `@JsonAnyGetter` as shown below.\r\n\r\n    @AllArgsConstructor\r\n    public class ResponseBuilder {\r\n\r\n        @JsonIgnore\r\n        private final String type;\r\n\r\n        private final List&lt;?&gt; items;\r\n\r\n        @Getter\r\n        private final Integer itemCount;\r\n\r\n        @Getter\r\n        private final Long totalItems;\r\n\r\n        @JsonAnyGetter\r\n        public Map&lt;String, List&lt;?&gt;&gt; getItemsMap() {\r\n            return Collections.singletonMap(type, items);\r\n        }\r\n    }\r\n\r\n\r\nNow, I want the `items` list to come at top of the Json response. But I cannot add this in `@JsonPropertyOrder` because property name is decided at runtime. What can I do to achieve this? Thank you for your help.","title":"Set JsonPropertyOrder for dynamic field","body":"<p>I have a POJO <code>ResponseBuilder</code> to create Json response for my rest endpoint. Here the item name can be generic depending on the type of item asked in the query. To set this dynamic property name at runtime, I am using <code>@JsonAnyGetter</code> as shown below.</p>\n<pre><code>@AllArgsConstructor\npublic class ResponseBuilder {\n\n    @JsonIgnore\n    private final String type;\n\n    private final List&lt;?&gt; items;\n\n    @Getter\n    private final Integer itemCount;\n\n    @Getter\n    private final Long totalItems;\n\n    @JsonAnyGetter\n    public Map&lt;String, List&lt;?&gt;&gt; getItemsMap() {\n        return Collections.singletonMap(type, items);\n    }\n}\n</code></pre>\n<p>Now, I want the <code>items</code> list to come at top of the Json response. But I cannot add this in <code>@JsonPropertyOrder</code> because property name is decided at runtime. What can I do to achieve this? Thank you for your help.</p>\n"},{"tags":["java","elasticsearch","elastic-stack"],"owner":{"account_id":28272862,"reputation":25,"user_id":21615776,"display_name":"ZhuXJun"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689313431,"creation_date":1689295898,"question_id":76684070,"body_markdown":"\r\n\r\n&gt; parent index : candidate , type: profile;\r\n   child index : candidate , type: application\r\n\r\nI have parent data like this in elasticserch \r\n\r\n```\r\n{\r\n    &quot;took&quot;: 1,\r\n    &quot;timed_out&quot;: false,\r\n    &quot;_shards&quot;: {\r\n        &quot;total&quot;: 5,\r\n        &quot;successful&quot;: 5,\r\n        &quot;failed&quot;: 0\r\n    },\r\n    &quot;hits&quot;: {\r\n        &quot;total&quot;: 1,\r\n        &quot;max_score&quot;: 1.0,\r\n        &quot;hits&quot;: [\r\n            {\r\n                &quot;_index&quot;: &quot;candidate&quot;,\r\n                &quot;_type&quot;: &quot;profile&quot;,\r\n                &quot;_id&quot;: &quot;64afc27d87209b7083e26a6b&quot;,\r\n                &quot;_score&quot;: 1.0,\r\n                &quot;_source&quot;: {\r\n                    &quot;overview&quot;: {\r\n                        &quot;mobile_not_analyze&quot;: &quot;141222222&quot;,\r\n                        &quot;country_code&quot;: &quot;86&quot;,\r\n                        &quot;city&quot;: {},\r\n                        &quot;name_analyzed&quot;: &quot;最高学历61&quot;,\r\n                        &quot;degree&quot;: 6,\r\n                        &quot;mobile&quot;: &quot;141222222&quot;,\r\n                        &quot;name&quot;: &quot;最高学历61&quot;\r\n                    },\r\n                    &quot;educations_search&quot;: [\r\n                        {\r\n                            &quot;college&quot;: {\r\n                                &quot;code&quot;: &quot;43&quot;,\r\n                                &quot;name&quot;: &quot;发生过撒啊啊&quot;\r\n                            },\r\n                            &quot;start_time&quot;: &quot;2022-01-01&quot;,\r\n                            &quot;major&quot;: {},\r\n                            &quot;college_tags&quot;: [],\r\n                            &quot;degree&quot;: {\r\n                                &quot;code&quot;: &quot;6&quot;,\r\n                                &quot;name&quot;: &quot;硕士&quot;\r\n                            },\r\n                            &quot;end_time&quot;: &quot;2023-06-01&quot;\r\n                        },\r\n                        {\r\n                            &quot;college&quot;: {\r\n                                &quot;code&quot;: &quot;43&quot;,\r\n                                &quot;name&quot;: &quot;阿斯弗&quot;\r\n                            },\r\n                            &quot;start_time&quot;: &quot;2023-01-01&quot;,\r\n                            &quot;major&quot;: {},\r\n                            &quot;college_tags&quot;: [],\r\n                            &quot;degree&quot;: {\r\n                                &quot;code&quot;: &quot;4&quot;,\r\n                                &quot;name&quot;: &quot;大专&quot;\r\n                            },\r\n                            &quot;end_time&quot;: &quot;2023-02-01&quot;\r\n                        }\r\n                    ]\r\n                }\r\n            }\r\n        ]\r\n    }\r\n}\r\n```\r\nWhat I want to do is filter out using conditions like max degree_code and end_time between 1685548800000 and 1685635200000.What should i do?\r\ni want to get the data use query which like :\r\n\r\n```\r\n{\r\n    &quot;size&quot;: 20,\r\n    &quot;track_scores&quot;: true,\r\n    &quot;query&quot;: {\r\n        &quot;bool&quot;: {\r\n            &quot;must&quot;: [\r\n                {\r\n                    &quot;bool&quot;: {\r\n                        &quot;must&quot;: [\r\n                            {\r\n                                &quot;terms&quot;: {\r\n                                    &quot;company_id&quot;: [\r\n                                        &quot;39978&quot;\r\n                                    ]\r\n                                }\r\n                            }\r\n                        ]\r\n                    }\r\n                },\r\n                {\r\n                    &quot;has_parent&quot;: {\r\n                        &quot;query&quot;: {\r\n                            &quot;bool&quot;: {\r\n                                &quot;filter&quot;: {\r\n                                    &quot;nested&quot;: {\r\n                                        &quot;path&quot;: &quot;educations_search&quot;,\r\n                                        &quot;query&quot;: {\r\n                                            &quot;bool&quot;: {\r\n                                                &quot;must&quot;: [\r\n                                                    {\r\n                                                        &quot;range&quot;: {\r\n                                                            &quot;educations_search.end_time&quot;: {\r\n                                                                &quot;include_lower&quot;: true,\r\n                                                                &quot;include_upper&quot;: true,\r\n                                                                &quot;from&quot;: 1685548800000,\r\n                                                                &quot;to&quot;: 1685635200000\r\n                                                            }\r\n                                                        }\r\n                                                    },\r\n                                                    {\r\n                                                        &quot;script&quot;: {\r\n                                                            &quot;script&quot;: {\r\n                                                                &quot;inline&quot;: &quot;int maxDegreeCode = -1;def maxDegreeObject ;def startDate = new Date(1698748800000); def endDate = new Date(1699094400000); for (education in doc[&#39;educations_search&#39;].value) {int degreeCode = Integer.parseInt(education[&#39;degree&#39;][&#39;code&#39;].value); if (degreeCode &gt; maxDegreeCode) {     maxDegreeCode = degreeCode;     maxDegreeObject = education }}; if (maxDegreeObject != null) {def maxDegreeEndFilter = new Date(maxDegreeObject[&#39;end_time&#39;].value); return maxDegreeCode == Integer.parseInt(maxDegreeObject[&#39;degree&#39;][&#39;code&#39;].value)         &amp;&amp; maxDegreeEndFilter &gt;= startDate &amp;&amp; maxDegreeEndFilter &lt;= endDate} else {return false}&quot;\r\n                                                            }\r\n                                                        }\r\n                                                    }\r\n                                                ]\r\n                                            }\r\n                                        }\r\n                                    }\r\n                                },\r\n                                &quot;must&quot;: {\r\n                                    &quot;match&quot;: {\r\n                                        &quot;company_id&quot;: {\r\n                                            &quot;query&quot;: 39978,\r\n                                            &quot;type&quot;: &quot;boolean&quot;\r\n                                        }\r\n                                    }\r\n                                }\r\n                            }\r\n                        },\r\n                        &quot;parent_type&quot;: &quot;profile&quot;\r\n                    }\r\n                }\r\n            ]\r\n        }\r\n    },\r\n    &quot;from&quot;: 0\r\n}\r\n```\r\nbut it&#39;s not working and return an empty an error：\r\n\r\n    &quot;caused_by&quot;: {\r\n                        &quot;type&quot;: &quot;illegal_argument_exception&quot;,\r\n                        &quot;reason&quot;: &quot;No field found for [_parent.educations_search] in mapping with types [application]&quot;\r\n                    }\r\nIt seems like instead of applying the script function to the and then passing its result to the child, ElasticSearch is trying to apply the condition itself to the child,causing the error.\r\nWhat am I wrong here? How can I query these child documents based on a parent field?\r\nI still use Script like this:\r\n```\r\n{\r\n    &quot;script&quot;: {\r\n        &quot;script&quot;: {\r\n            &quot;inline&quot;: &quot;int maxDegreeCode = -1; def maxDegreeObject; def startDate = new Date(1698748800000); def endDate = new Date(1699094400000); for (education in _source.educations_search) {int degreeCode = Integer.parseInt(education.degree.code); if (degreeCode &gt; maxDegreeCode) {     maxDegreeCode = degreeCode; maxDegreeObject = education }}; if (maxDegreeObject != null) {def maxDegreeEndFilter = new Date(maxDegreeObject.end_time); return maxDegreeCode == Integer.parseInt(maxDegreeObject.degree.code) &amp;&amp; maxDegreeEndFilter &gt;= startDate &amp;&amp; maxDegreeEndFilter &lt;= endDate} else {return false}&quot;\r\n        }\r\n    }\r\n}\r\n```\r\nbut it&#39;s return an empty.","title":"Trouble with has_parent query containing scripted","body":"<blockquote>\n<p>parent index : candidate , type: profile;\nchild index : candidate , type: application</p>\n</blockquote>\n<p>I have parent data like this in elasticserch</p>\n<pre><code>{\n    &quot;took&quot;: 1,\n    &quot;timed_out&quot;: false,\n    &quot;_shards&quot;: {\n        &quot;total&quot;: 5,\n        &quot;successful&quot;: 5,\n        &quot;failed&quot;: 0\n    },\n    &quot;hits&quot;: {\n        &quot;total&quot;: 1,\n        &quot;max_score&quot;: 1.0,\n        &quot;hits&quot;: [\n            {\n                &quot;_index&quot;: &quot;candidate&quot;,\n                &quot;_type&quot;: &quot;profile&quot;,\n                &quot;_id&quot;: &quot;64afc27d87209b7083e26a6b&quot;,\n                &quot;_score&quot;: 1.0,\n                &quot;_source&quot;: {\n                    &quot;overview&quot;: {\n                        &quot;mobile_not_analyze&quot;: &quot;141222222&quot;,\n                        &quot;country_code&quot;: &quot;86&quot;,\n                        &quot;city&quot;: {},\n                        &quot;name_analyzed&quot;: &quot;最高学历61&quot;,\n                        &quot;degree&quot;: 6,\n                        &quot;mobile&quot;: &quot;141222222&quot;,\n                        &quot;name&quot;: &quot;最高学历61&quot;\n                    },\n                    &quot;educations_search&quot;: [\n                        {\n                            &quot;college&quot;: {\n                                &quot;code&quot;: &quot;43&quot;,\n                                &quot;name&quot;: &quot;发生过撒啊啊&quot;\n                            },\n                            &quot;start_time&quot;: &quot;2022-01-01&quot;,\n                            &quot;major&quot;: {},\n                            &quot;college_tags&quot;: [],\n                            &quot;degree&quot;: {\n                                &quot;code&quot;: &quot;6&quot;,\n                                &quot;name&quot;: &quot;硕士&quot;\n                            },\n                            &quot;end_time&quot;: &quot;2023-06-01&quot;\n                        },\n                        {\n                            &quot;college&quot;: {\n                                &quot;code&quot;: &quot;43&quot;,\n                                &quot;name&quot;: &quot;阿斯弗&quot;\n                            },\n                            &quot;start_time&quot;: &quot;2023-01-01&quot;,\n                            &quot;major&quot;: {},\n                            &quot;college_tags&quot;: [],\n                            &quot;degree&quot;: {\n                                &quot;code&quot;: &quot;4&quot;,\n                                &quot;name&quot;: &quot;大专&quot;\n                            },\n                            &quot;end_time&quot;: &quot;2023-02-01&quot;\n                        }\n                    ]\n                }\n            }\n        ]\n    }\n}\n</code></pre>\n<p>What I want to do is filter out using conditions like max degree_code and end_time between 1685548800000 and 1685635200000.What should i do?\ni want to get the data use query which like :</p>\n<pre><code>{\n    &quot;size&quot;: 20,\n    &quot;track_scores&quot;: true,\n    &quot;query&quot;: {\n        &quot;bool&quot;: {\n            &quot;must&quot;: [\n                {\n                    &quot;bool&quot;: {\n                        &quot;must&quot;: [\n                            {\n                                &quot;terms&quot;: {\n                                    &quot;company_id&quot;: [\n                                        &quot;39978&quot;\n                                    ]\n                                }\n                            }\n                        ]\n                    }\n                },\n                {\n                    &quot;has_parent&quot;: {\n                        &quot;query&quot;: {\n                            &quot;bool&quot;: {\n                                &quot;filter&quot;: {\n                                    &quot;nested&quot;: {\n                                        &quot;path&quot;: &quot;educations_search&quot;,\n                                        &quot;query&quot;: {\n                                            &quot;bool&quot;: {\n                                                &quot;must&quot;: [\n                                                    {\n                                                        &quot;range&quot;: {\n                                                            &quot;educations_search.end_time&quot;: {\n                                                                &quot;include_lower&quot;: true,\n                                                                &quot;include_upper&quot;: true,\n                                                                &quot;from&quot;: 1685548800000,\n                                                                &quot;to&quot;: 1685635200000\n                                                            }\n                                                        }\n                                                    },\n                                                    {\n                                                        &quot;script&quot;: {\n                                                            &quot;script&quot;: {\n                                                                &quot;inline&quot;: &quot;int maxDegreeCode = -1;def maxDegreeObject ;def startDate = new Date(1698748800000); def endDate = new Date(1699094400000); for (education in doc['educations_search'].value) {int degreeCode = Integer.parseInt(education['degree']['code'].value); if (degreeCode &gt; maxDegreeCode) {     maxDegreeCode = degreeCode;     maxDegreeObject = education }}; if (maxDegreeObject != null) {def maxDegreeEndFilter = new Date(maxDegreeObject['end_time'].value); return maxDegreeCode == Integer.parseInt(maxDegreeObject['degree']['code'].value)         &amp;&amp; maxDegreeEndFilter &gt;= startDate &amp;&amp; maxDegreeEndFilter &lt;= endDate} else {return false}&quot;\n                                                            }\n                                                        }\n                                                    }\n                                                ]\n                                            }\n                                        }\n                                    }\n                                },\n                                &quot;must&quot;: {\n                                    &quot;match&quot;: {\n                                        &quot;company_id&quot;: {\n                                            &quot;query&quot;: 39978,\n                                            &quot;type&quot;: &quot;boolean&quot;\n                                        }\n                                    }\n                                }\n                            }\n                        },\n                        &quot;parent_type&quot;: &quot;profile&quot;\n                    }\n                }\n            ]\n        }\n    },\n    &quot;from&quot;: 0\n}\n</code></pre>\n<p>but it's not working and return an empty an error：</p>\n<pre><code>&quot;caused_by&quot;: {\n                    &quot;type&quot;: &quot;illegal_argument_exception&quot;,\n                    &quot;reason&quot;: &quot;No field found for [_parent.educations_search] in mapping with types [application]&quot;\n                }\n</code></pre>\n<p>It seems like instead of applying the script function to the and then passing its result to the child, ElasticSearch is trying to apply the condition itself to the child,causing the error.\nWhat am I wrong here? How can I query these child documents based on a parent field?\nI still use Script like this:</p>\n<pre><code>{\n    &quot;script&quot;: {\n        &quot;script&quot;: {\n            &quot;inline&quot;: &quot;int maxDegreeCode = -1; def maxDegreeObject; def startDate = new Date(1698748800000); def endDate = new Date(1699094400000); for (education in _source.educations_search) {int degreeCode = Integer.parseInt(education.degree.code); if (degreeCode &gt; maxDegreeCode) {     maxDegreeCode = degreeCode; maxDegreeObject = education }}; if (maxDegreeObject != null) {def maxDegreeEndFilter = new Date(maxDegreeObject.end_time); return maxDegreeCode == Integer.parseInt(maxDegreeObject.degree.code) &amp;&amp; maxDegreeEndFilter &gt;= startDate &amp;&amp; maxDegreeEndFilter &lt;= endDate} else {return false}&quot;\n        }\n    }\n}\n</code></pre>\n<p>but it's return an empty.</p>\n"},{"tags":["java","visual-studio-code"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1689028557,"post_id":76650595,"comment_id":135152609,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1689053129,"post_id":76650595,"comment_id":135154628,"body_markdown":"Related guthub link: https://github.com/redhat-developer/vscode-java/issues/3191","body":"Related guthub link: <a href=\"https://github.com/redhat-developer/vscode-java/issues/3191\" rel=\"nofollow noreferrer\">github.com/redhat-developer/vscode-java/issues/3191</a>"},{"owner":{"account_id":15396644,"reputation":25735,"user_id":11107541,"display_name":"starball"},"score":0,"creation_date":1689227618,"post_id":76650595,"comment_id":135183991,"body_markdown":"Does this answer your question? [Why aren&#39;t suggestions working properly in new Java files with the Red Hat Java Language Support extension v1.20.0 with VS Code 1.80?](https://stackoverflow.com/questions/76668211/why-arent-suggestions-working-properly-in-new-java-files-with-the-red-hat-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/76668211/why-arent-suggestions-working-properly-in-new-java-files-with-the-red-hat-java\">Why aren&#39;t suggestions working properly in new Java files with the Red Hat Java Language Support extension v1.20.0 with VS Code 1.80?</a>"}],"answers":[{"tags":[],"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1689313282,"creation_date":1689313282,"answer_id":76684977,"question_id":76650595,"body_markdown":"\r\n`this issue has been fixed in the latest vscode@1.80.1 version.` according to replies from [GitHub][1].\r\n\r\n\r\n  [1]: https://github.com/redhat-developer/vscode-java/issues/3191#issuecomment-1635181642","title":"Visual Studio Code does not give suggestions or autocompletion when creating a new file","body":"<p><code>this issue has been fixed in the latest vscode@1.80.1 version.</code> according to replies from <a href=\"https://github.com/redhat-developer/vscode-java/issues/3191#issuecomment-1635181642\" rel=\"nofollow noreferrer\">GitHub</a>.</p>\n"}],"owner":{"account_id":21258275,"reputation":1,"user_id":15639411,"display_name":"bayyand"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689313282,"creation_date":1688961140,"question_id":76650595,"body_markdown":"I have this problem, I have all dependencies and plugin installed to work with java spring.\r\n\r\n**Plugins installed:**\r\nExtension Pack for Java\r\nsonarlint\r\nSpring Boot Extension Pack\r\n\r\n**Operating system: Ubuntu**\r\njdk version: 17LTS\r\n\r\nThis did not happen to me before, now I have to close and reopen Visual Studio Code to get the suggestions. like in this giff [image](https://res.cloudinary.com/bayyand/image/upload/v1688960874/2023-07-09_22-37-42_zd7c1j.gif)\r\n\r\n\r\nI tried to close and reopen the code editor and then it works correctly, but it is annoying every time I create a new file to close and reopen.","title":"Visual Studio Code does not give suggestions or autocompletion when creating a new file","body":"<p>I have this problem, I have all dependencies and plugin installed to work with java spring.</p>\n<p><strong>Plugins installed:</strong>\nExtension Pack for Java\nsonarlint\nSpring Boot Extension Pack</p>\n<p><strong>Operating system: Ubuntu</strong>\njdk version: 17LTS</p>\n<p>This did not happen to me before, now I have to close and reopen Visual Studio Code to get the suggestions. like in this giff <a href=\"https://res.cloudinary.com/bayyand/image/upload/v1688960874/2023-07-09_22-37-42_zd7c1j.gif\" rel=\"nofollow noreferrer\">image</a></p>\n<p>I tried to close and reopen the code editor and then it works correctly, but it is annoying every time I create a new file to close and reopen.</p>\n"},{"tags":["java","visual-studio-code"],"comments":[{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":1,"creation_date":1689010759,"post_id":76656023,"comment_id":135149812,"body_markdown":"what does `sout as System.out.println` mean?","body":"what does <code>sout as System.out.println</code> mean?"},{"owner":{"account_id":26891959,"reputation":1,"user_id":20470572,"display_name":"user20470572"},"score":0,"creation_date":1689011065,"post_id":76656023,"comment_id":135149865,"body_markdown":"@Mike&#39;Pomax&#39;Kamermans on VS code if we write sout or sysout.. The whole function System.out.println gets displayed which we can enter directly.. but for me its not showing now for the new java files that I am making","body":"@Mike&#39;Pomax&#39;Kamermans on VS code if we write sout or sysout.. The whole function System.out.println gets displayed which we can enter directly.. but for me its not showing now for the new java files that I am making"},{"owner":{"account_id":15396644,"reputation":25735,"user_id":11107541,"display_name":"starball"},"score":1,"creation_date":1689011535,"post_id":76656023,"comment_id":135149950,"body_markdown":"https://github.com/redhat-developer/vscode-java/issues/3191","body":"<a href=\"https://github.com/redhat-developer/vscode-java/issues/3191\" rel=\"nofollow noreferrer\">github.com/redhat-developer/vscode-java/issues/3191</a>"},{"owner":{"account_id":26891959,"reputation":1,"user_id":20470572,"display_name":"user20470572"},"score":0,"creation_date":1689013367,"post_id":76656023,"comment_id":135150266,"body_markdown":"@starball is this problem being faced by many people?","body":"@starball is this problem being faced by many people?"},{"owner":{"account_id":15396644,"reputation":25735,"user_id":11107541,"display_name":"starball"},"score":0,"creation_date":1689018816,"post_id":76656023,"comment_id":135151266,"body_markdown":"judging by the (currently 6) questions that have been posted, and multiple issue tickets, yes- this is a problem being faced by multiple people. sit tight and stay tuned for updates.","body":"judging by the (currently 6) questions that have been posted, and multiple issue tickets, yes- this is a problem being faced by multiple people. sit tight and stay tuned for updates."},{"owner":{"account_id":15396644,"reputation":25735,"user_id":11107541,"display_name":"starball"},"score":0,"creation_date":1689227625,"post_id":76656023,"comment_id":135183993,"body_markdown":"Does this answer your question? [Why aren&#39;t suggestions working properly in new Java files with the Red Hat Java Language Support extension v1.20.0 with VS Code 1.80?](https://stackoverflow.com/questions/76668211/why-arent-suggestions-working-properly-in-new-java-files-with-the-red-hat-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/76668211/why-arent-suggestions-working-properly-in-new-java-files-with-the-red-hat-java\">Why aren&#39;t suggestions working properly in new Java files with the Red Hat Java Language Support extension v1.20.0 with VS Code 1.80?</a>"}],"answers":[{"tags":[],"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1689313140,"creation_date":1689313140,"answer_id":76684962,"question_id":76656023,"body_markdown":"Judging from the latest reply:\r\n\r\n &gt; this issue has been fixed in the latest vscode@1.80.1 version.\r\n\r\n*https://github.com/redhat-developer/vscode-java/issues/3191#issuecomment-1635181642*","title":"My VS Code is unable to display sout as System.out.println for new java files that I make","body":"<p>Judging from the latest reply:</p>\n<blockquote>\n<p>this issue has been fixed in the latest vscode@1.80.1 version.</p>\n</blockquote>\n<p><em><a href=\"https://github.com/redhat-developer/vscode-java/issues/3191#issuecomment-1635181642\" rel=\"nofollow noreferrer\">https://github.com/redhat-developer/vscode-java/issues/3191#issuecomment-1635181642</a></em></p>\n"}],"owner":{"account_id":26891959,"reputation":1,"user_id":20470572,"display_name":"user20470572"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689313140,"creation_date":1689010076,"question_id":76656023,"body_markdown":"When I close VS code and open again then in the previous made files `sout` as `System.out.println` is visible. I dont know what is happening.\r\n\r\nSome dailog box related to usage of RedHat or something had come. I didnt know what it is and pressed cancel from then this problem is happening.\r\n\r\nI will be really thankful if someone helps me out. Thanks","title":"My VS Code is unable to display sout as System.out.println for new java files that I make","body":"<p>When I close VS code and open again then in the previous made files <code>sout</code> as <code>System.out.println</code> is visible. I dont know what is happening.</p>\n<p>Some dailog box related to usage of RedHat or something had come. I didnt know what it is and pressed cancel from then this problem is happening.</p>\n<p>I will be really thankful if someone helps me out. Thanks</p>\n"},{"tags":["java","spring","hibernate","junit","spring-test"],"comments":[{"owner":{"account_id":890986,"reputation":1559,"user_id":1165320,"accept_rate":46,"display_name":"Gaurav"},"score":0,"creation_date":1348765361,"post_id":12626502,"comment_id":17025069,"body_markdown":"What do you mean by rollback ?. Cleaning the database ?","body":"What do you mean by rollback ?. Cleaning the database ?"},{"owner":{"account_id":412934,"reputation":19391,"user_id":786284,"accept_rate":87,"display_name":"Jan Vorcak"},"score":7,"creation_date":1348765428,"post_id":12626502,"comment_id":17025093,"body_markdown":"setting it to the exactly the same state it was after executing `initTest`","body":"setting it to the exactly the same state it was after executing <code>initTest</code>"}],"answers":[{"tags":[],"owner":{"account_id":182101,"reputation":48239,"user_id":416564,"accept_rate":100,"display_name":"Johan Sj&#246;berg"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1586963080,"creation_date":1348765484,"answer_id":12626562,"question_id":12626502,"body_markdown":"You need to run your test with a Spring context and a transaction manager, e.g., \r\n\r\n\r\n    @RunWith(SpringJUnit4ClassRunner.class)  \r\n    @ContextConfiguration(locations = {&quot;/your-applicationContext.xml&quot;})\r\n    @TransactionConfiguration(transactionManager=&quot;txMgr&quot;)\r\n    public class StudentSystemTest {\r\n\r\n         @Test\r\n         public void testTransactionalService() {\r\n             // test transactional service\r\n         }\r\n\r\n         @Test\r\n         @Transactional\r\n         public void testNonTransactionalService() {\r\n             // test non-transactional service\r\n         }\r\n    }\r\n\r\nSee chapter [`3.5.8. Transaction Management`][1] of the Spring reference for further details. \r\n\r\n[1]: https://docs.spring.io/spring/docs/current/spring-framework-reference/testing.html#testcontext-tx\r\n","title":"Rollback transaction after @Test","body":"<p>You need to run your test with a Spring context and a transaction manager, e.g., </p>\n\n<pre><code>@RunWith(SpringJUnit4ClassRunner.class)  \n@ContextConfiguration(locations = {\"/your-applicationContext.xml\"})\n@TransactionConfiguration(transactionManager=\"txMgr\")\npublic class StudentSystemTest {\n\n     @Test\n     public void testTransactionalService() {\n         // test transactional service\n     }\n\n     @Test\n     @Transactional\n     public void testNonTransactionalService() {\n         // test non-transactional service\n     }\n}\n</code></pre>\n\n<p>See chapter <a href=\"https://docs.spring.io/spring/docs/current/spring-framework-reference/testing.html#testcontext-tx\" rel=\"nofollow noreferrer\"><code>3.5.8. Transaction Management</code></a> of the Spring reference for further details. </p>\n"},{"tags":[],"owner":{"account_id":299251,"reputation":335905,"user_id":605744,"accept_rate":100,"display_name":"Tomasz Nurkiewicz"},"down_vote_count":1,"up_vote_count":169,"is_accepted":true,"score":168,"last_activity_date":1348766087,"creation_date":1348765735,"answer_id":12626636,"question_id":12626502,"body_markdown":"Just add `@Transactional` annotation on top of your test:\r\n\r\n    @RunWith(SpringJUnit4ClassRunner.class)  \r\n    @ContextConfiguration(locations = {&quot;testContext.xml&quot;})\r\n    @Transactional\r\n    public class StudentSystemTest {\r\n\r\nBy default Spring will start a new transaction surrounding your test method and `@Before`/`@After` callbacks, rolling back at the end. It works by default, it&#39;s enough to have some transaction manager in the context.\r\n\r\nFrom: [*10.3.5.4 Transaction management*](http://static.springsource.org/spring/docs/current/spring-framework-reference/html/testing.html#testcontext-tx) (bold mine):\r\n\r\n&gt; In the TestContext framework, transactions are managed by the TransactionalTestExecutionListener. Note that `TransactionalTestExecutionListener` is **configured by default**, even if you do not explicitly declare `@TestExecutionListeners` on your test class. To enable support for transactions, however, you must provide a `PlatformTransactionManager` bean in the application context loaded by `@ContextConfiguration` semantics. In addition, **you must declare `@Transactional` either at the class or method level for your tests**.","title":"Rollback transaction after @Test","body":"<p>Just add <code>@Transactional</code> annotation on top of your test:</p>\n\n<pre><code>@RunWith(SpringJUnit4ClassRunner.class)  \n@ContextConfiguration(locations = {\"testContext.xml\"})\n@Transactional\npublic class StudentSystemTest {\n</code></pre>\n\n<p>By default Spring will start a new transaction surrounding your test method and <code>@Before</code>/<code>@After</code> callbacks, rolling back at the end. It works by default, it's enough to have some transaction manager in the context.</p>\n\n<p>From: <a href=\"http://static.springsource.org/spring/docs/current/spring-framework-reference/html/testing.html#testcontext-tx\"><em>10.3.5.4 Transaction management</em></a> (bold mine):</p>\n\n<blockquote>\n  <p>In the TestContext framework, transactions are managed by the TransactionalTestExecutionListener. Note that <code>TransactionalTestExecutionListener</code> is <strong>configured by default</strong>, even if you do not explicitly declare <code>@TestExecutionListeners</code> on your test class. To enable support for transactions, however, you must provide a <code>PlatformTransactionManager</code> bean in the application context loaded by <code>@ContextConfiguration</code> semantics. In addition, <strong>you must declare <code>@Transactional</code> either at the class or method level for your tests</strong>.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":3001,"reputation":138707,"user_id":4249,"accept_rate":84,"display_name":"matt b"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1348767631,"creation_date":1348767631,"answer_id":12627121,"question_id":12626502,"body_markdown":"The answers mentioning adding `@Transactional` are correct, but for simplicity you could just have your test class `extends AbstractTransactionalJUnit4SpringContextTests`.","title":"Rollback transaction after @Test","body":"<p>The answers mentioning adding <code>@Transactional</code> are correct, but for simplicity you could just have your test class <code>extends AbstractTransactionalJUnit4SpringContextTests</code>.</p>\n"},{"tags":[],"owner":{"account_id":3010067,"reputation":51,"user_id":2553792,"display_name":"DwD"},"down_vote_count":11,"up_vote_count":6,"is_accepted":false,"score":-5,"last_activity_date":1451900863,"creation_date":1451900863,"answer_id":34588347,"question_id":12626502,"body_markdown":"You can disable the Rollback:\r\n\r\n    @TransactionConfiguration(defaultRollback = false)\r\n\r\nExample:\r\n\r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    @SpringApplicationConfiguration(classes = Application.class)\r\n    @Transactional\r\n    @TransactionConfiguration(defaultRollback = false)\r\n    public class Test {\r\n\t    @PersistenceContext\r\n\t    private EntityManager em;\r\n\t\r\n\t    @org.junit.Test\r\n\t    public void menge() {\r\n\t\t    PersistentObject object = new PersistentObject();\r\n\t\t    em.persist(object);\r\n\t\t    em.flush();\r\n\t    }\r\n    }","title":"Rollback transaction after @Test","body":"<p>You can disable the Rollback:</p>\n\n<pre><code>@TransactionConfiguration(defaultRollback = false)\n</code></pre>\n\n<p>Example:</p>\n\n<pre><code>@RunWith(SpringJUnit4ClassRunner.class)\n@SpringApplicationConfiguration(classes = Application.class)\n@Transactional\n@TransactionConfiguration(defaultRollback = false)\npublic class Test {\n    @PersistenceContext\n    private EntityManager em;\n\n    @org.junit.Test\n    public void menge() {\n        PersistentObject object = new PersistentObject();\n        em.persist(object);\n        em.flush();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3475850,"reputation":1073,"user_id":2909062,"accept_rate":69,"display_name":"Atul Kumbhar"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1453186607,"creation_date":1453186607,"answer_id":34870331,"question_id":12626502,"body_markdown":"I know, I am tooooo late to post an answer, but hoping that it might help someone. Plus, I just solved this issue I had with my tests. This is what I had in my test:\r\n\r\n\r\nMy test class\r\n\r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    @ContextConfiguration(locations = { &quot;path-to-context&quot; })\r\n    @Transactional\r\n    public class MyIntegrationTest \r\n\r\nContext xml\r\n\r\n    &lt;bean id=&quot;dataSource&quot; class=&quot;org.apache.commons.dbcp.BasicDataSource&quot;&gt;\r\n       &lt;property name=&quot;driverClassName&quot; value=&quot;${jdbc.driverClassName}&quot; /&gt;\r\n       &lt;property name=&quot;url&quot; value=&quot;${jdbc.url}&quot; /&gt;\r\n       &lt;property name=&quot;username&quot; value=&quot;${jdbc.username}&quot; /&gt;\r\n       &lt;property name=&quot;password&quot; value=&quot;${jdbc.password}&quot; /&gt;\r\n    &lt;/bean&gt;\r\n\r\nI still had the problem that, the database was not being cleaned up automatically.\r\n\r\nIssue was resolved when I added following property to BasicDataSource\r\n\r\n    &lt;property name=&quot;defaultAutoCommit&quot; value=&quot;false&quot; /&gt;\r\n\r\nHope it helps.","title":"Rollback transaction after @Test","body":"<p>I know, I am tooooo late to post an answer, but hoping that it might help someone. Plus, I just solved this issue I had with my tests. This is what I had in my test:</p>\n\n<p>My test class</p>\n\n<pre><code>@RunWith(SpringJUnit4ClassRunner.class)\n@ContextConfiguration(locations = { \"path-to-context\" })\n@Transactional\npublic class MyIntegrationTest \n</code></pre>\n\n<p>Context xml</p>\n\n<pre><code>&lt;bean id=\"dataSource\" class=\"org.apache.commons.dbcp.BasicDataSource\"&gt;\n   &lt;property name=\"driverClassName\" value=\"${jdbc.driverClassName}\" /&gt;\n   &lt;property name=\"url\" value=\"${jdbc.url}\" /&gt;\n   &lt;property name=\"username\" value=\"${jdbc.username}\" /&gt;\n   &lt;property name=\"password\" value=\"${jdbc.password}\" /&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>I still had the problem that, the database was not being cleaned up automatically.</p>\n\n<p>Issue was resolved when I added following property to BasicDataSource</p>\n\n<pre><code>&lt;property name=\"defaultAutoCommit\" value=\"false\" /&gt;\n</code></pre>\n\n<p>Hope it helps.</p>\n"},{"tags":[],"owner":{"account_id":2812323,"reputation":2352,"user_id":2418306,"accept_rate":80,"display_name":"user2418306"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1614547147,"creation_date":1457709246,"answer_id":35943700,"question_id":12626502,"body_markdown":"_Aside:_ attempt to amend Tomasz Nurkiewicz&#39;s answer was rejected:\r\n&gt; This edit does not make the post even a little bit easier to read, easier to find, more accurate or more accessible. Changes are either completely superfluous or actively harm readability.\r\n&lt;!--http://stackoverflow.com/users/3045515/sambhav-sharma--&gt;\r\n&lt;!--http://stackoverflow.com/users/987339/user987339--&gt;\r\n&lt;!--http://stackoverflow.com/users/4694013/anoop-m--&gt;\r\n\r\n----------\r\n\r\nCorrect and permanent [link](http://docs.spring.io/spring/docs/4.2.5.RELEASE/spring-framework-reference/html/integration-testing.html#testcontext-tx) to the relevant section of documentation about integration testing.\r\n&gt; To enable support for transactions, you must configure a `PlatformTransactionManager` bean in the `ApplicationContext` that is loaded via `@ContextConfiguration` semantics.\r\n\r\n```java\r\n@Configuration\r\n@PropertySource(&quot;application.properties&quot;)\r\npublic class Persistence {\r\n    @Autowired\r\n    Environment env;\r\n\r\n    @Bean\r\n    DataSource dataSource() {\r\n        return new DriverManagerDataSource(\r\n                env.getProperty(&quot;datasource.url&quot;),\r\n                env.getProperty(&quot;datasource.user&quot;),\r\n                env.getProperty(&quot;datasource.password&quot;)\r\n        );\r\n    }\r\n\r\n    @Bean\r\n    PlatformTransactionManager transactionManager() {\r\n        return new DataSourceTransactionManager(dataSource());\r\n    }\r\n}\r\n```\r\n\r\n&gt; In addition, you must declare Spring’s `@Transactional` annotation either at the class or method level for your tests.\r\n\r\n```java\r\n@RunWith(SpringJUnit4ClassRunner.class)\r\n@ContextConfiguration(classes = {Persistence.class, SomeRepository.class})\r\n@Transactional\r\npublic class SomeRepositoryTest { ... }\r\n```\r\n\r\n&gt; Annotating a test method with `@Transactional` causes the test to be run within a transaction that will, by default, be automatically rolled back after completion of the test. If a test class is annotated with `@Transactional`, each test method within that class hierarchy will be run within a transaction.","title":"Rollback transaction after @Test","body":"<p><em>Aside:</em> attempt to amend Tomasz Nurkiewicz's answer was rejected:</p>\n<blockquote>\n<p>This edit does not make the post even a little bit easier to read, easier to find, more accurate or more accessible. Changes are either completely superfluous or actively harm readability.</p>\n</blockquote>\n\n\n\n<hr />\n<p>Correct and permanent <a href=\"http://docs.spring.io/spring/docs/4.2.5.RELEASE/spring-framework-reference/html/integration-testing.html#testcontext-tx\" rel=\"noreferrer\">link</a> to the relevant section of documentation about integration testing.</p>\n<blockquote>\n<p>To enable support for transactions, you must configure a <code>PlatformTransactionManager</code> bean in the <code>ApplicationContext</code> that is loaded via <code>@ContextConfiguration</code> semantics.</p>\n</blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@PropertySource(&quot;application.properties&quot;)\npublic class Persistence {\n    @Autowired\n    Environment env;\n\n    @Bean\n    DataSource dataSource() {\n        return new DriverManagerDataSource(\n                env.getProperty(&quot;datasource.url&quot;),\n                env.getProperty(&quot;datasource.user&quot;),\n                env.getProperty(&quot;datasource.password&quot;)\n        );\n    }\n\n    @Bean\n    PlatformTransactionManager transactionManager() {\n        return new DataSourceTransactionManager(dataSource());\n    }\n}\n</code></pre>\n<blockquote>\n<p>In addition, you must declare Spring’s <code>@Transactional</code> annotation either at the class or method level for your tests.</p>\n</blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>@RunWith(SpringJUnit4ClassRunner.class)\n@ContextConfiguration(classes = {Persistence.class, SomeRepository.class})\n@Transactional\npublic class SomeRepositoryTest { ... }\n</code></pre>\n<blockquote>\n<p>Annotating a test method with <code>@Transactional</code> causes the test to be run within a transaction that will, by default, be automatically rolled back after completion of the test. If a test class is annotated with <code>@Transactional</code>, each test method within that class hierarchy will be run within a transaction.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":3089205,"reputation":164,"user_id":2615724,"display_name":"user2615724"},"down_vote_count":2,"up_vote_count":8,"is_accepted":false,"score":6,"last_activity_date":1597733253,"creation_date":1597733253,"answer_id":63463212,"question_id":12626502,"body_markdown":"In addition to adding `@Transactional` on `@Test` method, you also need to add `@Rollback(false)`","title":"Rollback transaction after @Test","body":"<p>In addition to adding <code>@Transactional</code> on <code>@Test</code> method, you also need to add <code>@Rollback(false)</code></p>\n"},{"tags":[],"owner":{"account_id":21188268,"reputation":31,"user_id":15581209,"display_name":"William"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689313066,"creation_date":1689313066,"answer_id":76684959,"question_id":12626502,"body_markdown":"As answered above by the top-liked answer, basically you only need to 2 things below to rollback the transaction takes place in test cases: \r\n\r\n- add @Transactional on the test Class\r\n- add **@Rollback** on the Test Case\r\n\r\n\r\nIn case it still doesn&#39;t work, kindly double check if your system is using multiple data sources, if so, you also need to specify the expected data source for the transaction based on which DB your SQL will connect to.\r\n\r\nCode example:\r\n\r\n    @SpringBootTest(classes = Sample.class)\r\n    @Transactional(transactionManager = &quot;txManagerXX&quot;) // specify txManager here if your system uses multiple sources\r\n    public class SampleTest {\r\n\t\r\n\t    @Test\r\n    \t@Rollback\r\n\t    public void test_case_1(){\r\n\t\t    ...\r\n\t    }\r\n\r\n    }","title":"Rollback transaction after @Test","body":"<p>As answered above by the top-liked answer, basically you only need to 2 things below to rollback the transaction takes place in test cases:</p>\n<ul>\n<li>add @Transactional on the test Class</li>\n<li>add <strong>@Rollback</strong> on the Test Case</li>\n</ul>\n<p>In case it still doesn't work, kindly double check if your system is using multiple data sources, if so, you also need to specify the expected data source for the transaction based on which DB your SQL will connect to.</p>\n<p>Code example:</p>\n<pre><code>@SpringBootTest(classes = Sample.class)\n@Transactional(transactionManager = &quot;txManagerXX&quot;) // specify txManager here if your system uses multiple sources\npublic class SampleTest {\n\n    @Test\n    @Rollback\n    public void test_case_1(){\n        ...\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":412934,"reputation":19391,"user_id":786284,"accept_rate":87,"display_name":"Jan Vorcak"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":164599,"favorite_count":0,"down_vote_count":0,"up_vote_count":118,"accepted_answer_id":12626636,"answer_count":8,"score":118,"last_activity_date":1689313066,"creation_date":1348765223,"question_id":12626502,"body_markdown":"First of all, I&#39;ve found a lot of threads on StackOverflow about this, but none of them really helped me, so sorry to ask possibly duplicate question.\r\n\r\nI&#39;m running JUnit tests using spring-test, my code looks like this\r\n\r\n    @RunWith(SpringJUnit4ClassRunner.class)  \r\n    @ContextConfiguration(locations = {})\r\n    public class StudentSystemTest {\r\n    \r\n    \t@Autowired\r\n    \tprivate StudentSystem studentSystem;\r\n    \r\n        @Before\r\n    \tpublic void initTest() {\r\n        // set up the database, create basic structure for testing\r\n        }\r\n    \r\n        @Test\r\n    \tpublic void test1() {\r\n        }    \r\n        ...  \r\n    }\r\n\r\nMy problem is that I want my tests to NOT influence other tests.\r\nSo I&#39;d like to create something like rollback for each test.\r\nI&#39;ve searched a lot for this, but I&#39;ve found nothing so far.\r\nI&#39;m using Hibernate and MySql for this","title":"Rollback transaction after @Test","body":"<p>First of all, I've found a lot of threads on StackOverflow about this, but none of them really helped me, so sorry to ask possibly duplicate question.</p>\n\n<p>I'm running JUnit tests using spring-test, my code looks like this</p>\n\n<pre><code>@RunWith(SpringJUnit4ClassRunner.class)  \n@ContextConfiguration(locations = {})\npublic class StudentSystemTest {\n\n    @Autowired\n    private StudentSystem studentSystem;\n\n    @Before\n    public void initTest() {\n    // set up the database, create basic structure for testing\n    }\n\n    @Test\n    public void test1() {\n    }    \n    ...  \n}\n</code></pre>\n\n<p>My problem is that I want my tests to NOT influence other tests.\nSo I'd like to create something like rollback for each test.\nI've searched a lot for this, but I've found nothing so far.\nI'm using Hibernate and MySql for this</p>\n"},{"tags":["java","visual-studio-code","intellisense"],"comments":[{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1689144240,"post_id":76667593,"comment_id":135169714,"body_markdown":"There are similar issues: https://github.com/redhat-developer/vscode-java/issues/3191","body":"There are similar issues: <a href=\"https://github.com/redhat-developer/vscode-java/issues/3191\" rel=\"nofollow noreferrer\">github.com/redhat-developer/vscode-java/issues/3191</a>"},{"owner":{"account_id":15396644,"reputation":25735,"user_id":11107541,"display_name":"starball"},"score":0,"creation_date":1689148161,"post_id":76667593,"comment_id":135170462,"body_markdown":"out of curiosity, does the `Restart Java Language Server` also work as a workaround?","body":"out of curiosity, does the <code>Restart Java Language Server</code> also work as a workaround?"}],"answers":[{"tags":[],"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1689313050,"creation_date":1689313050,"answer_id":76684958,"question_id":76667593,"body_markdown":"https://github.com/redhat-developer/vscode-java/issues/3191#issuecomment-1635181642\r\n\r\n &gt; this issue has been fixed in the latest vscode@1.80.1 version.","title":"Intellisense in VS code for java is only working if I enable and disable extensions when I create a new file","body":"<p><a href=\"https://github.com/redhat-developer/vscode-java/issues/3191#issuecomment-1635181642\" rel=\"nofollow noreferrer\">https://github.com/redhat-developer/vscode-java/issues/3191#issuecomment-1635181642</a></p>\n<blockquote>\n<p>this issue has been fixed in the latest vscode@1.80.1 version.</p>\n</blockquote>\n"}],"owner":{"account_id":27597618,"reputation":13,"user_id":21063511,"display_name":"Perseus _"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1689920142,"accepted_answer_id":76684958,"answer_count":1,"score":1,"last_activity_date":1689313050,"creation_date":1689142436,"question_id":76667593,"body_markdown":"If I create a new file Intellisense stops working.\r\nOn creation of a new file basic things work but the full list of suggestions doesn&#39;t show up.\r\n\r\nI either have to reopen vs code , even then it doesn&#39;t work sometimes. It only works when I disable and reinstall the Extension Pack for java in Microsoft.\r\n","title":"Intellisense in VS code for java is only working if I enable and disable extensions when I create a new file","body":"<p>If I create a new file Intellisense stops working.\nOn creation of a new file basic things work but the full list of suggestions doesn't show up.</p>\n<p>I either have to reopen vs code , even then it doesn't work sometimes. It only works when I disable and reinstall the Extension Pack for java in Microsoft.</p>\n"},{"tags":["java","log4j"],"owner":{"account_id":12565417,"reputation":25,"user_id":9141581,"display_name":"PR173"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689311214,"creation_date":1689311214,"question_id":76684852,"body_markdown":"I have one requirement like, if there are 10 files(which is dynamic) to transform then for all these 10 files, log file should be generated separately(10 logs files if there are 10 input files).\r\nI tried implementing it by using Marker feature of log4j however since the marker is static and it will hold the values at class loading itself. I am not able to pass file names dynamically and it is still taking first file and generating single file and writing logs for remaining files in that file itself. \r\n\r\n\r\n","title":"How can I create multiple log files based on multiple data Input files with log4j config file in Java","body":"<p>I have one requirement like, if there are 10 files(which is dynamic) to transform then for all these 10 files, log file should be generated separately(10 logs files if there are 10 input files).\nI tried implementing it by using Marker feature of log4j however since the marker is static and it will hold the values at class loading itself. I am not able to pass file names dynamically and it is still taking first file and generating single file and writing logs for remaining files in that file itself.</p>\n"},{"tags":["java","apache-poi"],"answers":[{"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689310703,"creation_date":1689248566,"answer_id":76679002,"question_id":76667849,"body_markdown":"The `H` in all the Apache POI implementations of the binary Microsoft Office file systems (`HSSF`, `HSLF`, `HWPF`, ...) means horrible. And the `H`orrible `W`ord `P`rocessing `F`ormat is definiitely the most horrible of all the horrible formats.\r\n\r\nTherefore the `HWPF` is in scratchpad state from begin on and has never left that state. \r\n\r\nBut the `WordExtractor` extracts hyperlinks out of `HWPFDocument`, at least if texts are linked and for the main body. Of course there is not much accessibility to those links while extracting.\r\n\r\nThe `WordToTextConverter` provides more access when one overrides it&#39;s `protected void processHyperlink` method.\r\n\r\nExample for both:\r\n\r\n    import java.io.FileInputStream;\r\n    \r\n    import org.apache.poi.hwpf.HWPFDocument;\r\n    import org.apache.poi.hwpf.HWPFDocumentCore;\r\n    import org.apache.poi.hwpf.usermodel.Range;\r\n    import org.apache.poi.hwpf.extractor.WordExtractor;\r\n    import org.apache.poi.hwpf.converter.WordToTextConverter;\r\n    import org.apache.poi.hwpf.converter.TextDocumentFacade;\r\n    \r\n    public class ReadWordHWPFWordExtractor {\r\n    \r\n     public static void main(String[] args) throws Exception {\r\n    \r\n      HWPFDocument document = new HWPFDocument(new FileInputStream(&quot;./WordDocument.doc&quot;));\r\n      String content;\r\n      \r\n      WordExtractor wordExtractor = new WordExtractor(document);\r\n      content = wordExtractor.getText();\r\n      System.out.println(content);\r\n      \r\n      TextDocumentFacade textDocumentFacade = new TextDocumentFacade(org.apache.poi.util.XMLHelper.newDocumentBuilder().newDocument());  \r\n      WordToTextConverter wordToTextConverter = new WordToTextConverter(textDocumentFacade) {\r\n       @Override\r\n       protected void processHyperlink(HWPFDocumentCore wordDocument, org.w3c.dom.Element currentBlock, Range textRange, int currentTableLevel, java.lang.String hyperlink) {\r\n    \t// here you have access to hyperlink fields\r\n    \t//System.out.println(textRange.getClass().getName()); //org.apache.poi.hwpf.usermodel.FieldImpl \r\n    \t//System.out.println(textRange.text() + &quot; -&gt; &quot; + hyperlink);\r\n    \tprocessCharacters( wordDocument, currentTableLevel, textRange, currentBlock );\r\n    \tcurrentBlock.appendChild(textDocumentFacade.createText(&quot;( -&gt; &quot; + hyperlink + &quot;)&quot;));\r\n       }\r\n      };\r\n      \r\n      wordToTextConverter.processDocument(document);\r\n      content = wordToTextConverter.getText();\r\n      System.out.println(content);\r\n      \r\n     }\r\n    }\r\n\r\nInternally the hyperlinks are fields in the text body. `HWPFDocument` provides a method to get all such fields. Fields of type `FIELD_HYPERLINK` = 88, are hyperlinks. Such fileds consists of two subranges. The first subrange contains the link and the second subrange contains the linked text.\r\n\r\nSo, if the need is simply to get all links, one could get all fields and then filter out the fields of type `FIELD_HYPERLINK`.\r\n\r\nUnfortunately the methods `Field.firstSubrange` and `Field.secondSubrange` seems to work only properly for the main range. When used for header range, footnote range or other ranges, it gets the correct range start and end in parent range but gets the wrong text, which seems to be from overall range instead of given parent range.\r\n\r\nFollowing code shows gettimg the fields and provides methods to correct get the first subrange and second subrange.\r\n\r\n    import java.io.FileInputStream;\r\n    \r\n    import org.apache.poi.hwpf.*;\r\n    import org.apache.poi.hwpf.model.*;\r\n    import org.apache.poi.hwpf.usermodel.*;\r\n    \r\n    public class ReadWordHWPFDocumentFields {\r\n    \t\r\n     private static final int FIELD_PAGE_REFERENCE = 37;\r\n     private static final int FIELD_EMBEDDED_OBJECT = 58;\r\n     private static final int FIELD_DROP_DOWN = 83;\r\n     private static final int FIELD_HYPERLINK = 88;\t\r\n    \t\r\n     static Range firstSubrange(Field field, Range parent, HWPFDocument document){\r\n      if ( field.hasSeparator() ) {\r\n       if ( field.getMarkStartOffset() + 1 == field.getMarkSeparatorOffset() ) return null;\r\n       return new Range( parent.getStartOffset() + field.getMarkStartOffset() + 1, parent.getStartOffset() + field.getMarkSeparatorOffset(), document ) {\r\n               @Override\r\n               public String toString() {\r\n                return &quot;FieldSubrange1 (&quot; + super.toString() + &quot;)&quot;;\r\n               }\r\n              };\r\n      }\r\n      \r\n      if ( field.getMarkStartOffset() + 1 == field.getMarkEndOffset() ) return null;\r\n       \r\n      return new Range( parent.getStartOffset() + field.getMarkStartOffset() + 1, parent.getStartOffset() + field.getMarkEndOffset(), document ) {\r\n              @Override\r\n              public String toString() {\r\n               return &quot;FieldSubrange1 (&quot; + super.toString() + &quot;)&quot;;\r\n              }\r\n             };\t \r\n     }\r\n     \r\n     static Range secondSubrange(Field field, Range parent, HWPFDocument document){\r\n      if ( !field.hasSeparator() || field.getMarkSeparatorOffset() + 1 == field.getMarkEndOffset() ) return null;\r\n    \r\n      return new Range( parent.getStartOffset()+field.getMarkSeparatorOffset() + 1, parent.getStartOffset()+field.getMarkEndOffset(), document ) {\r\n              @Override\r\n              public String toString() {\r\n               return &quot;FieldSubrange2 (&quot; + super.toString() + &quot;)&quot;;\r\n              }\r\n             };\r\n     }\r\n    \r\n     public static void main(String[] args) throws Exception {\r\n    \r\n      HWPFDocument document = new HWPFDocument(new FileInputStream(&quot;WordDocument.doc&quot;));\r\n    \r\n      Fields fields\t= document.getFields();\r\n      \r\n      Range range = document.getRange();\r\n      for (Field field : fields.getFields(FieldsDocumentPart.MAIN)) {\r\n       System.out.println(field);  \r\n       if (field.getType() == FIELD_HYPERLINK) {\r\n        // System.out.println(field.firstSubrange(range));  \r\n        // System.out.println(field.firstSubrange(range).text());  \r\n        // System.out.println(field.secondSubrange(range));  \r\n        // System.out.println(field.secondSubrange(range).text());\r\n    \t\r\n        String link = field.firstSubrange(range).text();  \r\n        String text = field.secondSubrange(range).text();  \r\n        System.out.println(text + &quot; -&gt; &quot; + link);  \r\n       }\r\n      }\r\n    \r\n      range = document.getHeaderStoryRange();\r\n      for (Field field : fields.getFields(FieldsDocumentPart.HEADER)) {\r\n       System.out.println(field);  \r\n       if (field.getType() == FIELD_HYPERLINK) {\r\n        // System.out.println(field.firstSubrange(range)); // correct range start and end in parent range\r\n        // System.out.println(field.firstSubrange(range).text()); // but wrong text, seems from overall range instead of given parent\r\n        // System.out.println(field.secondSubrange(range));  // correct range start and end in parent range\r\n        // System.out.println(field.secondSubrange(range).text()); // but wrong text, seems from overall range instead of given parent\r\n       \r\n        String link = firstSubrange(field, range, document).text();  \r\n        String text = secondSubrange(field, range, document).text();  \r\n        System.out.println(text + &quot; -&gt; &quot; + link);  \r\n       }\r\n      }\r\n      \r\n      range = document.getFootnoteRange();\r\n      for (Field field : fields.getFields(FieldsDocumentPart.FOOTNOTES)) {\r\n       System.out.println(field);  \r\n       if (field.getType() == FIELD_HYPERLINK) {   \r\n        String link = firstSubrange(field, range, document).text();  \r\n        String text = secondSubrange(field, range, document).text();  \r\n        System.out.println(text + &quot; -&gt; &quot; + link);  \r\n       }\r\n      }\r\n      \r\n      //range = document.getEndnoteRange();\r\n      //for (Field field : fields.getFields(FieldsDocumentPart.ENDNOTES)) {\r\n      //...\r\n    \t  \r\n      range = document.getCommentsRange();\r\n      for (Field field : fields.getFields(FieldsDocumentPart.ANNOTATIONS)) {\r\n       System.out.println(field);  \r\n       if (field.getType() == FIELD_HYPERLINK) {   \r\n        String link = firstSubrange(field, range, document).text();  \r\n        String text = secondSubrange(field, range, document).text();  \r\n        System.out.println(text + &quot; -&gt; &quot; + link);  \r\n       }\r\n      }\r\n    \t  \r\n      //range = document.getMainTextboxRange();\r\n      //for (Field field : fields.getFields(FieldsDocumentPart.TEXTBOX)) {\r\n      //...\r\n      \t  \r\n    \t  \r\n     }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"How to extract hyperlinks from HWPFDocument provided a 2003 format word doc","body":"<p>The <code>H</code> in all the Apache POI implementations of the binary Microsoft Office file systems (<code>HSSF</code>, <code>HSLF</code>, <code>HWPF</code>, ...) means horrible. And the <code>H</code>orrible <code>W</code>ord <code>P</code>rocessing <code>F</code>ormat is definiitely the most horrible of all the horrible formats.</p>\n<p>Therefore the <code>HWPF</code> is in scratchpad state from begin on and has never left that state.</p>\n<p>But the <code>WordExtractor</code> extracts hyperlinks out of <code>HWPFDocument</code>, at least if texts are linked and for the main body. Of course there is not much accessibility to those links while extracting.</p>\n<p>The <code>WordToTextConverter</code> provides more access when one overrides it's <code>protected void processHyperlink</code> method.</p>\n<p>Example for both:</p>\n<pre><code>import java.io.FileInputStream;\n\nimport org.apache.poi.hwpf.HWPFDocument;\nimport org.apache.poi.hwpf.HWPFDocumentCore;\nimport org.apache.poi.hwpf.usermodel.Range;\nimport org.apache.poi.hwpf.extractor.WordExtractor;\nimport org.apache.poi.hwpf.converter.WordToTextConverter;\nimport org.apache.poi.hwpf.converter.TextDocumentFacade;\n\npublic class ReadWordHWPFWordExtractor {\n\n public static void main(String[] args) throws Exception {\n\n  HWPFDocument document = new HWPFDocument(new FileInputStream(&quot;./WordDocument.doc&quot;));\n  String content;\n  \n  WordExtractor wordExtractor = new WordExtractor(document);\n  content = wordExtractor.getText();\n  System.out.println(content);\n  \n  TextDocumentFacade textDocumentFacade = new TextDocumentFacade(org.apache.poi.util.XMLHelper.newDocumentBuilder().newDocument());  \n  WordToTextConverter wordToTextConverter = new WordToTextConverter(textDocumentFacade) {\n   @Override\n   protected void processHyperlink(HWPFDocumentCore wordDocument, org.w3c.dom.Element currentBlock, Range textRange, int currentTableLevel, java.lang.String hyperlink) {\n    // here you have access to hyperlink fields\n    //System.out.println(textRange.getClass().getName()); //org.apache.poi.hwpf.usermodel.FieldImpl \n    //System.out.println(textRange.text() + &quot; -&gt; &quot; + hyperlink);\n    processCharacters( wordDocument, currentTableLevel, textRange, currentBlock );\n    currentBlock.appendChild(textDocumentFacade.createText(&quot;( -&gt; &quot; + hyperlink + &quot;)&quot;));\n   }\n  };\n  \n  wordToTextConverter.processDocument(document);\n  content = wordToTextConverter.getText();\n  System.out.println(content);\n  \n }\n}\n</code></pre>\n<p>Internally the hyperlinks are fields in the text body. <code>HWPFDocument</code> provides a method to get all such fields. Fields of type <code>FIELD_HYPERLINK</code> = 88, are hyperlinks. Such fileds consists of two subranges. The first subrange contains the link and the second subrange contains the linked text.</p>\n<p>So, if the need is simply to get all links, one could get all fields and then filter out the fields of type <code>FIELD_HYPERLINK</code>.</p>\n<p>Unfortunately the methods <code>Field.firstSubrange</code> and <code>Field.secondSubrange</code> seems to work only properly for the main range. When used for header range, footnote range or other ranges, it gets the correct range start and end in parent range but gets the wrong text, which seems to be from overall range instead of given parent range.</p>\n<p>Following code shows gettimg the fields and provides methods to correct get the first subrange and second subrange.</p>\n<pre><code>import java.io.FileInputStream;\n\nimport org.apache.poi.hwpf.*;\nimport org.apache.poi.hwpf.model.*;\nimport org.apache.poi.hwpf.usermodel.*;\n\npublic class ReadWordHWPFDocumentFields {\n    \n private static final int FIELD_PAGE_REFERENCE = 37;\n private static final int FIELD_EMBEDDED_OBJECT = 58;\n private static final int FIELD_DROP_DOWN = 83;\n private static final int FIELD_HYPERLINK = 88; \n    \n static Range firstSubrange(Field field, Range parent, HWPFDocument document){\n  if ( field.hasSeparator() ) {\n   if ( field.getMarkStartOffset() + 1 == field.getMarkSeparatorOffset() ) return null;\n   return new Range( parent.getStartOffset() + field.getMarkStartOffset() + 1, parent.getStartOffset() + field.getMarkSeparatorOffset(), document ) {\n           @Override\n           public String toString() {\n            return &quot;FieldSubrange1 (&quot; + super.toString() + &quot;)&quot;;\n           }\n          };\n  }\n  \n  if ( field.getMarkStartOffset() + 1 == field.getMarkEndOffset() ) return null;\n   \n  return new Range( parent.getStartOffset() + field.getMarkStartOffset() + 1, parent.getStartOffset() + field.getMarkEndOffset(), document ) {\n          @Override\n          public String toString() {\n           return &quot;FieldSubrange1 (&quot; + super.toString() + &quot;)&quot;;\n          }\n         };  \n }\n \n static Range secondSubrange(Field field, Range parent, HWPFDocument document){\n  if ( !field.hasSeparator() || field.getMarkSeparatorOffset() + 1 == field.getMarkEndOffset() ) return null;\n\n  return new Range( parent.getStartOffset()+field.getMarkSeparatorOffset() + 1, parent.getStartOffset()+field.getMarkEndOffset(), document ) {\n          @Override\n          public String toString() {\n           return &quot;FieldSubrange2 (&quot; + super.toString() + &quot;)&quot;;\n          }\n         };\n }\n\n public static void main(String[] args) throws Exception {\n\n  HWPFDocument document = new HWPFDocument(new FileInputStream(&quot;WordDocument.doc&quot;));\n\n  Fields fields = document.getFields();\n  \n  Range range = document.getRange();\n  for (Field field : fields.getFields(FieldsDocumentPart.MAIN)) {\n   System.out.println(field);  \n   if (field.getType() == FIELD_HYPERLINK) {\n    // System.out.println(field.firstSubrange(range));  \n    // System.out.println(field.firstSubrange(range).text());  \n    // System.out.println(field.secondSubrange(range));  \n    // System.out.println(field.secondSubrange(range).text());\n    \n    String link = field.firstSubrange(range).text();  \n    String text = field.secondSubrange(range).text();  \n    System.out.println(text + &quot; -&gt; &quot; + link);  \n   }\n  }\n\n  range = document.getHeaderStoryRange();\n  for (Field field : fields.getFields(FieldsDocumentPart.HEADER)) {\n   System.out.println(field);  \n   if (field.getType() == FIELD_HYPERLINK) {\n    // System.out.println(field.firstSubrange(range)); // correct range start and end in parent range\n    // System.out.println(field.firstSubrange(range).text()); // but wrong text, seems from overall range instead of given parent\n    // System.out.println(field.secondSubrange(range));  // correct range start and end in parent range\n    // System.out.println(field.secondSubrange(range).text()); // but wrong text, seems from overall range instead of given parent\n   \n    String link = firstSubrange(field, range, document).text();  \n    String text = secondSubrange(field, range, document).text();  \n    System.out.println(text + &quot; -&gt; &quot; + link);  \n   }\n  }\n  \n  range = document.getFootnoteRange();\n  for (Field field : fields.getFields(FieldsDocumentPart.FOOTNOTES)) {\n   System.out.println(field);  \n   if (field.getType() == FIELD_HYPERLINK) {   \n    String link = firstSubrange(field, range, document).text();  \n    String text = secondSubrange(field, range, document).text();  \n    System.out.println(text + &quot; -&gt; &quot; + link);  \n   }\n  }\n  \n  //range = document.getEndnoteRange();\n  //for (Field field : fields.getFields(FieldsDocumentPart.ENDNOTES)) {\n  //...\n      \n  range = document.getCommentsRange();\n  for (Field field : fields.getFields(FieldsDocumentPart.ANNOTATIONS)) {\n   System.out.println(field);  \n   if (field.getType() == FIELD_HYPERLINK) {   \n    String link = firstSubrange(field, range, document).text();  \n    String text = secondSubrange(field, range, document).text();  \n    System.out.println(text + &quot; -&gt; &quot; + link);  \n   }\n  }\n      \n  //range = document.getMainTextboxRange();\n  //for (Field field : fields.getFields(FieldsDocumentPart.TEXTBOX)) {\n  //...\n      \n      \n }\n}\n</code></pre>\n"}],"owner":{"account_id":28967622,"reputation":5,"user_id":22188644,"display_name":"Code Trickle"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1689310703,"creation_date":1689144930,"question_id":76667849,"body_markdown":"I am trying to extract hyperlinks from HWPFDocument but not able to find any clear API to do so. In XWPFDocument the API are clear like xwPFDocument.getHyperlinks() but in HWPFDocument i couldn&#39;t find any such API. PFB the code below of what i am trying to do\r\n```\r\nWordExtractor wordExtractor = null;\r\n          \r\nif(inFilePath == null || inFilePath.equals(&quot;&quot;)) {\r\n\tthrow new Exception(&quot;Invalid file path&quot;);\r\n}\r\nHWPFDocument document = null;\r\nInputStream is;\r\nFile file = new File(inFilePath);\r\nis = new FileInputStream(file);\r\n\r\ndocument = new HWPFDocument(is);\r\n\r\nwordExtractor = new WordExtractor(document);`\r\n```\r\nI need to extract hyperlinks from the document object. Please help me out in this regard.\r\n\r\nI tried to check if there are any direct APIs to extract hyperlinks but i could not find one in HWPFDocument object","title":"How to extract hyperlinks from HWPFDocument provided a 2003 format word doc","body":"<p>I am trying to extract hyperlinks from HWPFDocument but not able to find any clear API to do so. In XWPFDocument the API are clear like xwPFDocument.getHyperlinks() but in HWPFDocument i couldn't find any such API. PFB the code below of what i am trying to do</p>\n<pre><code>WordExtractor wordExtractor = null;\n          \nif(inFilePath == null || inFilePath.equals(&quot;&quot;)) {\n    throw new Exception(&quot;Invalid file path&quot;);\n}\nHWPFDocument document = null;\nInputStream is;\nFile file = new File(inFilePath);\nis = new FileInputStream(file);\n\ndocument = new HWPFDocument(is);\n\nwordExtractor = new WordExtractor(document);`\n</code></pre>\n<p>I need to extract hyperlinks from the document object. Please help me out in this regard.</p>\n<p>I tried to check if there are any direct APIs to extract hyperlinks but i could not find one in HWPFDocument object</p>\n"},{"tags":["java","spring","spring-batch"],"answers":[{"tags":[],"owner":{"account_id":1629808,"reputation":391,"user_id":1504609,"accept_rate":89,"display_name":"AbNig"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689309622,"creation_date":1689309622,"answer_id":76684766,"question_id":76672159,"body_markdown":"the following solution works. My domain classes extend from a common BaseEntity. I wrote writers for the 3 entities i.e., Company, Department &amp; Employee\r\n\r\nI wrote a Delegate Writer as follows:\r\n\r\n    public class DelegateItemWriter implements ItemWriter&lt;List&lt;CCTBaseEntity&gt;&gt; {\r\n    \r\n    \tprivate final LinkedHashMap&lt;Class&lt;? extends BaseEntity&gt;, ItemWriter&lt;? extends BaseEntity&gt;&gt; itemWriterMap;\r\n    \r\n    \tpublic DelegateItemWriter(\r\n    \t\t\tLinkedHashMap&lt;Class&lt;? extends BaseEntity&gt;, ItemWriter&lt;? extends BaseEntity&gt;&gt; itemWriterMap) {\r\n    \t\tthis.itemWriterMap = itemWriterMap;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void write(Chunk&lt;? extends List&lt;BaseEntity&gt;&gt; chunk) throws Exception {\r\n    \t\tList&lt;BaseEntity&gt; listEntities = chunk.getItems().get(0);\r\n    \t\tfor (BaseEntity b : listEntities) {\r\n    \t\t\tthis.itemWriterMap.get(b.getClass()).write(new Chunk(Arrays.asList(b)));\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nBean definitions for itemWriterMap &amp; DelegateItemWriter:\r\n\r\n    @Bean\r\n    public LinkedHashMap&lt;Class&lt;? extends BaseEntity&gt;, ItemWriter&lt;? extends BaseEntity&gt;&gt; itemWriterMap(MongoTemplate mongoTemplate) {\r\n    \tLinkedHashMap&lt;Class&lt;? extends BaseEntity&gt;, ItemWriter&lt;? extends BaseEntity&gt;&gt; itemWriterMap = new LinkedHashMap&lt;&gt;();\r\n    \titemWriterMap.put(CompanyEntity.class, companyItemWriter(mongoTemplate));\r\n    \titemWriterMap.put(DepartmentEntity.class, deptEntityWriter(mongoTemplate));\r\n    \titemWriterMap.put(Employee.class, employeeItemWriter(mongoTemplate));\r\n    \treturn itemWriterMap;\r\n    }\r\n    \r\n    @Bean\r\n    public DelegateItemWriter delegateItemWriter(LinkedHashMap&lt;Class&lt;? extends BaseEntity&gt;, ItemWriter&lt;? extends BaseEntity&gt;&gt; itemWriterMap) {\r\n    \treturn new DelegateItemWriter(itemWriterMap);\r\n    }\r\n\r\nStep Definition:\r\n\t\r\n    @Bean\r\n    \tpublic Step step1(@Qualifier(value = &quot;dataSource&quot;) final DataSource dataSource,\r\n    \t\t\tfinal JobRepository jobRepository, \r\n    \t\t\tfinal PlatformTransactionManager transactionManager,\r\n    \t\t\tfinal DelegateItemWriter delegateItemWriter) {\r\n    \t\treturn new StepBuilder(&quot;step1&quot;, jobRepository).&lt;ClientProfile, List&lt;BaseEntity&gt;&gt;chunk(10, transactionManager)\r\n    \t\t\t\t.reader(reader(dataSource)).processor(profileProcessor()).writer(delegateItemWriter)\r\n    \t\t\t\t.build();\r\n    \t}","title":"Usage of ClassifierCompositeItemWriter in Spring Batch","body":"<p>the following solution works. My domain classes extend from a common BaseEntity. I wrote writers for the 3 entities i.e., Company, Department &amp; Employee</p>\n<p>I wrote a Delegate Writer as follows:</p>\n<pre><code>public class DelegateItemWriter implements ItemWriter&lt;List&lt;CCTBaseEntity&gt;&gt; {\n\n    private final LinkedHashMap&lt;Class&lt;? extends BaseEntity&gt;, ItemWriter&lt;? extends BaseEntity&gt;&gt; itemWriterMap;\n\n    public DelegateItemWriter(\n            LinkedHashMap&lt;Class&lt;? extends BaseEntity&gt;, ItemWriter&lt;? extends BaseEntity&gt;&gt; itemWriterMap) {\n        this.itemWriterMap = itemWriterMap;\n    }\n\n    @Override\n    public void write(Chunk&lt;? extends List&lt;BaseEntity&gt;&gt; chunk) throws Exception {\n        List&lt;BaseEntity&gt; listEntities = chunk.getItems().get(0);\n        for (BaseEntity b : listEntities) {\n            this.itemWriterMap.get(b.getClass()).write(new Chunk(Arrays.asList(b)));\n        }\n    }\n}\n</code></pre>\n<p>Bean definitions for itemWriterMap &amp; DelegateItemWriter:</p>\n<pre><code>@Bean\npublic LinkedHashMap&lt;Class&lt;? extends BaseEntity&gt;, ItemWriter&lt;? extends BaseEntity&gt;&gt; itemWriterMap(MongoTemplate mongoTemplate) {\n    LinkedHashMap&lt;Class&lt;? extends BaseEntity&gt;, ItemWriter&lt;? extends BaseEntity&gt;&gt; itemWriterMap = new LinkedHashMap&lt;&gt;();\n    itemWriterMap.put(CompanyEntity.class, companyItemWriter(mongoTemplate));\n    itemWriterMap.put(DepartmentEntity.class, deptEntityWriter(mongoTemplate));\n    itemWriterMap.put(Employee.class, employeeItemWriter(mongoTemplate));\n    return itemWriterMap;\n}\n\n@Bean\npublic DelegateItemWriter delegateItemWriter(LinkedHashMap&lt;Class&lt;? extends BaseEntity&gt;, ItemWriter&lt;? extends BaseEntity&gt;&gt; itemWriterMap) {\n    return new DelegateItemWriter(itemWriterMap);\n}\n</code></pre>\n<p>Step Definition:</p>\n<pre><code>@Bean\n    public Step step1(@Qualifier(value = &quot;dataSource&quot;) final DataSource dataSource,\n            final JobRepository jobRepository, \n            final PlatformTransactionManager transactionManager,\n            final DelegateItemWriter delegateItemWriter) {\n        return new StepBuilder(&quot;step1&quot;, jobRepository).&lt;ClientProfile, List&lt;BaseEntity&gt;&gt;chunk(10, transactionManager)\n                .reader(reader(dataSource)).processor(profileProcessor()).writer(delegateItemWriter)\n                .build();\n    }\n</code></pre>\n"}],"owner":{"account_id":1629808,"reputation":391,"user_id":1504609,"accept_rate":89,"display_name":"AbNig"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76684766,"answer_count":1,"score":1,"last_activity_date":1689309622,"creation_date":1689175262,"question_id":76672159,"body_markdown":"I have a legacy database which has data stored as JSON in clob columns. The JSON in clob needs to be normalized and put into respective tables to support a new solution. \r\n\r\nThe clob data will produce 1 Company record, multiple department records and each department will have any number of employees. All this data is to be persisted into 3 tables i.e. Company, Department &amp; Employee. I want to read the source data only once and perform the &quot;data split&quot; operation in one item-writer class using Spring Batch\r\n\r\nWhich item-writer will be more appropriate for this use case ClassifierCompositeItemWriter or CompositeItemWriter?\r\n\r\nThe processor seems to be simple:\r\n\r\n    public class ClientProfileEVProcessor implements ItemProcessor&lt;ClientProfile, ClientCompositeVO&gt; {\r\n    \r\n    \t/**\r\n    \t * \r\n    \t */\r\n    \t@Override\r\n    \tpublic ClientCompositeVO process(ClientProfile item) throws Exception {\r\n    \t\tClientEntity client = populateClientProfile(item);\r\n    \t\tList&lt;DeptEntity&gt; deptEntities = populateDept(item);\r\n    \t\tList&lt;Employee&gt; evEntities = populateEmployee(item);\r\n    \t\treturn new ClientCompositeVO(client, deptEntities, evEntities);\r\n    \t}\r\n    }\r\n\r\n\r\nHere is my attempt of the Classifier. I am getting compilation error **clazz instanceof List**. How should I check if the **clazz instance of list.get(0).class** in the below code?\r\n\r\n        public class ClientClassifier&lt;T&gt; implements Classifier&lt;T, ItemWriter&lt;? super T&gt;&gt; {\r\n        \r\n    \tprivate final Map&lt;Class&lt;T&gt;, ItemWriter&lt;T&gt;&gt; itemWriterMap;\r\n    \t\r\n    \tpublic EVProfileClassifier(Map&lt;Class&lt;T&gt;, ItemWriter&lt;T&gt;&gt; itemWriterMap) {\r\n    \t\tsuper();\r\n    \t\tthis.itemWriterMap = itemWriterMap;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic ItemWriter&lt;? super T&gt; classify(T classifiable) {\r\n    \t\tClass&lt;?&gt; clazz = classifiable.getClass();\r\n    \t\tif (this.itemWriterMap.containsKey(clazz)) {\r\n    \t\t\treturn this.itemWriterMap.get(clazz);\r\n    \t\t} else if(clazz instanceof List) {\r\n    \t\t\tList&lt;?&gt; list = (List&lt;?&gt;) classifiable;\r\n    \t\t\treturn this.itemWriterMap.get(list.get(0).getClass());\r\n    \t\t} else {\r\n    \t\t\tthrow new IllegalArgumentException(&quot;No writer found for domainn class: &quot; + clazz.getTypeName());\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic Map&lt;Class&lt;T&gt;, ItemWriter&lt;T&gt;&gt; getItemWriterMap() {\r\n    \t\treturn itemWriterMap;\r\n    \t}\r\n    \t\r\n    }\r\n\r\n[![enter image description here][1]][1]\r\n\r\n**Any suggestions for a simpler solution approach are also welcome.**\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NjpaS.png","title":"Usage of ClassifierCompositeItemWriter in Spring Batch","body":"<p>I have a legacy database which has data stored as JSON in clob columns. The JSON in clob needs to be normalized and put into respective tables to support a new solution.</p>\n<p>The clob data will produce 1 Company record, multiple department records and each department will have any number of employees. All this data is to be persisted into 3 tables i.e. Company, Department &amp; Employee. I want to read the source data only once and perform the &quot;data split&quot; operation in one item-writer class using Spring Batch</p>\n<p>Which item-writer will be more appropriate for this use case ClassifierCompositeItemWriter or CompositeItemWriter?</p>\n<p>The processor seems to be simple:</p>\n<pre><code>public class ClientProfileEVProcessor implements ItemProcessor&lt;ClientProfile, ClientCompositeVO&gt; {\n\n    /**\n     * \n     */\n    @Override\n    public ClientCompositeVO process(ClientProfile item) throws Exception {\n        ClientEntity client = populateClientProfile(item);\n        List&lt;DeptEntity&gt; deptEntities = populateDept(item);\n        List&lt;Employee&gt; evEntities = populateEmployee(item);\n        return new ClientCompositeVO(client, deptEntities, evEntities);\n    }\n}\n</code></pre>\n<p>Here is my attempt of the Classifier. I am getting compilation error <strong>clazz instanceof List</strong>. How should I check if the <strong>clazz instance of list.get(0).class</strong> in the below code?</p>\n<pre><code>    public class ClientClassifier&lt;T&gt; implements Classifier&lt;T, ItemWriter&lt;? super T&gt;&gt; {\n    \n    private final Map&lt;Class&lt;T&gt;, ItemWriter&lt;T&gt;&gt; itemWriterMap;\n    \n    public EVProfileClassifier(Map&lt;Class&lt;T&gt;, ItemWriter&lt;T&gt;&gt; itemWriterMap) {\n        super();\n        this.itemWriterMap = itemWriterMap;\n    }\n\n    @Override\n    public ItemWriter&lt;? super T&gt; classify(T classifiable) {\n        Class&lt;?&gt; clazz = classifiable.getClass();\n        if (this.itemWriterMap.containsKey(clazz)) {\n            return this.itemWriterMap.get(clazz);\n        } else if(clazz instanceof List) {\n            List&lt;?&gt; list = (List&lt;?&gt;) classifiable;\n            return this.itemWriterMap.get(list.get(0).getClass());\n        } else {\n            throw new IllegalArgumentException(&quot;No writer found for domainn class: &quot; + clazz.getTypeName());\n        }\n    }\n\n    public Map&lt;Class&lt;T&gt;, ItemWriter&lt;T&gt;&gt; getItemWriterMap() {\n        return itemWriterMap;\n    }\n    \n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/NjpaS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NjpaS.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Any suggestions for a simpler solution approach are also welcome.</strong></p>\n"},{"tags":["java","priority-queue"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":2,"creation_date":1689223883,"post_id":76675977,"comment_id":135183530,"body_markdown":"Your compare method seems dodgy.  Your fist comparison is for gpa, but you give no details about gpa.  Also what about when the objects are equal?","body":"Your compare method seems dodgy.  Your fist comparison is for gpa, but you give no details about gpa.  Also what about when the objects are equal?"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":3,"creation_date":1689226076,"post_id":76675977,"comment_id":135183793,"body_markdown":"not only the problem mentioned in previous comment, the `PriorityQueue` only *guarantees* that the head is in correct order, [javadoc](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/PriorityQueue.html): &quot;*The Iterator provided in method iterator() and the Spliterator provided in method spliterator() are not guaranteed to traverse the elements of the priority queue in any particular order.*&quot;","body":"not only the problem mentioned in previous comment, the <code>PriorityQueue</code> only <i>guarantees</i> that the head is in correct order, <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/PriorityQueue.html\" rel=\"nofollow noreferrer\">javadoc</a>: &quot;<i>The Iterator provided in method iterator() and the Spliterator provided in method spliterator() are not guaranteed to traverse the elements of the priority queue in any particular order.</i>&quot;"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1689226197,"post_id":76675977,"comment_id":135183814,"body_markdown":"As you haven&#39;t shown the GPA for the students it&#39;s impossible to say whether they are in the expected order or not.","body":"As you haven&#39;t shown the GPA for the students it&#39;s impossible to say whether they are in the expected order or not."},{"owner":{"account_id":29006961,"reputation":3,"user_id":22219253,"display_name":"Hung Nguyen"},"score":0,"creation_date":1689229113,"post_id":76675977,"comment_id":135184222,"body_markdown":"@tgdavies Thanks for all your comments, sorry about not providing the detail of gpa, it just an attribute of student which is double primitive type and no more complex","body":"@tgdavies Thanks for all your comments, sorry about not providing the detail of gpa, it just an attribute of student which is double primitive type and no more complex"},{"owner":{"account_id":29006961,"reputation":3,"user_id":22219253,"display_name":"Hung Nguyen"},"score":0,"creation_date":1689229213,"post_id":76675977,"comment_id":135184245,"body_markdown":"@user16320675 thanks for your information about the PriorityQueue, so what should I do when I want to guarantee of these another element in the Queue","body":"@user16320675 thanks for your information about the PriorityQueue, so what should I do when I want to guarantee of these another element in the Queue"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1689229234,"post_id":76675977,"comment_id":135184249,"body_markdown":"But without knowing what GPA is associated with each of the students in your list, it&#39;s hard to say what order they should be in.","body":"But without knowing what GPA is associated with each of the students in your list, it&#39;s hard to say what order they should be in."},{"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1689244618,"post_id":76675977,"comment_id":135187290,"body_markdown":"@HungNguyen I explained how to fix your code to allow it to pass in my answer below.","body":"@HungNguyen I explained how to fix your code to allow it to pass in my answer below."}],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1689308695,"creation_date":1689226600,"answer_id":76676225,"question_id":76675977,"body_markdown":"Names should be sorted in ascending order, so you should return `-1` when `o1`&#39;s name comes before `o2` lexicographically.\r\n\r\n```java\r\nif (o1.getName().compareTo(o2.getName()) &lt; 0) {\r\n\treturn -1;\r\n} else if (o1.getName().compareTo(o2.getName()) &gt; 0) {\r\n\treturn 1;\r\n}\r\n```\r\n\r\nAlso, you should return `0` when the ids are equal.\r\n\r\nAnother major issue is that the `stream` method for `PriorityQueue` does not guarantee order. You could `poll` all of the elements and add to the `List` instead.\r\n\r\n```java\r\nwhile (!stringQueue.isEmpty())\r\n\tlist_student.add(stringQueue.poll());\r\n```\r\n\r\nNote that the `Comparator` can be written a lot more simply using the `Comparator.comparing` methods:\r\n\r\n```java\r\nQueue&lt;Student&gt; stringQueue = new PriorityQueue&lt;&gt;(capacity, \r\n\t\tComparator.comparingDouble(Student::getCGPA).reversed()\r\n            .thenComparing(Student::getName)\r\n\t\t\t.thenComparing(Student::getID));\r\n```","title":"Having Some problem when adding element to Priority Queue","body":"<p>Names should be sorted in ascending order, so you should return <code>-1</code> when <code>o1</code>'s name comes before <code>o2</code> lexicographically.</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (o1.getName().compareTo(o2.getName()) &lt; 0) {\n    return -1;\n} else if (o1.getName().compareTo(o2.getName()) &gt; 0) {\n    return 1;\n}\n</code></pre>\n<p>Also, you should return <code>0</code> when the ids are equal.</p>\n<p>Another major issue is that the <code>stream</code> method for <code>PriorityQueue</code> does not guarantee order. You could <code>poll</code> all of the elements and add to the <code>List</code> instead.</p>\n<pre class=\"lang-java prettyprint-override\"><code>while (!stringQueue.isEmpty())\n    list_student.add(stringQueue.poll());\n</code></pre>\n<p>Note that the <code>Comparator</code> can be written a lot more simply using the <code>Comparator.comparing</code> methods:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Queue&lt;Student&gt; stringQueue = new PriorityQueue&lt;&gt;(capacity, \n        Comparator.comparingDouble(Student::getCGPA).reversed()\n            .thenComparing(Student::getName)\n            .thenComparing(Student::getID));\n</code></pre>\n"}],"owner":{"account_id":29006961,"reputation":3,"user_id":22219253,"display_name":"Hung Nguyen"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76676225,"answer_count":1,"score":0,"last_activity_date":1689308695,"creation_date":1689223132,"question_id":76675977,"body_markdown":"I am working with Priority Queue problem in this link\r\n[Hackkerank Problem](https://www.hackerrank.com/challenges/java-priority-queue/problem)\r\n\r\nMy Student class was created follow by OOP patterns which have constructor with 3 attributes **(id, Name, cgpa)** and some Getter method\r\n\r\nMy Priorities\r\n\r\n```\r\nclass Priorities{\r\n        private List&lt;Student&gt; list_student = new ArrayList&lt;&gt;();\r\n\r\n\tclass  CheckCondition implements Comparator&lt;Student&gt;{\r\n\r\n\r\n\t\t@Override\r\n\t\tpublic int compare(Student o1, Student o2) {\r\n\t\t\tif(o1.getCGPA() &lt; o2.getCGPA()){\r\n\t\t\t\treturn 1;\r\n\t\t\t}else if(o1.getCGPA() &gt; o2.getCGPA()){\r\n\t\t\t\treturn -1;\r\n\t\t\t}else{\r\n\t\t\t\tif(o1.getName().compareTo(o2.getName()) &lt; 0) {\r\n\t\t\t\t\treturn 1;\r\n\t\t\t\t}else if(o1.getName().compareTo(o2.getName()) &gt; 0){\r\n\t\t\t\t\treturn -1;\r\n\t\t\t\t}else {\r\n\t\t\t\t\tif(o1.getID() &lt; o2.getID()){\r\n\t\t\t\t\t\treturn -1;\r\n\t\t\t\t\t}else {\r\n\t\t\t\t\t\treturn 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t}\r\n\r\n\r\n\tpublic List&lt;Student&gt; getStudents(List&lt;String&gt; events, int capacity){\r\n\t\tQueue&lt;Student&gt; stringQueue = new PriorityQueue&lt;&gt;(capacity, new CheckCondition());\r\n\t\tif(events.isEmpty()){\r\n\t\t\tSystem.out.println(&quot;EMPTY&quot;);\r\n\t\t}\r\n\t\tfor(String element: events){\r\n\t\t\tList&lt;String&gt; stringList = List.of(element.split(&quot; &quot;));\r\n\t\t\tif(stringList.get(0).equalsIgnoreCase(&quot;ENTER&quot;)){\r\n\t\t\t\tStudent new_student = new   Student(Integer.parseInt(stringList.get(3)), stringList.get(1), Double.parseDouble(stringList.get(2)));\r\n\t\t\t\tstringQueue.add(new_student);\r\n\t\t\t}if(stringList.get(0).equalsIgnoreCase(&quot;SERVED&quot;) ){\r\n\t\t\t\tstringQueue.poll();\r\n\t\t\t}\r\n\t\t}\r\n\t\tstringQueue.stream().forEach(element -&gt; list_student.add(element));\r\n\r\n\t\treturn list_student;\r\n\r\n\t}\r\n}\r\n```\r\n\r\nMy Main\r\n\r\n```\r\n\r\npublic class Main {\r\npublic static void main(String[] args) {\r\n         Scanner sc = new Scanner(System.in);\r\n         List&lt;String&gt; events = new ArrayList&lt;&gt;();\r\n         Integer capacity = sc.nextInt();\r\n         sc.nextLine();\r\n\r\n        for (int i = 0; i &lt; capacity; i++) {\r\n            events.add(sc.nextLine());\r\n        }\r\n    \r\n        Priorities priorities = new Priorities();\r\n        List&lt;Student&gt; students = priorities.getStudents(events, capacity);\r\n    \r\n        for(Student element: students){\r\n            System.out.println(element.getName());\r\n        }\r\n    \r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n\r\nSo When I try with the test case in Hackerrank, My result instead of as expect, I change slightly in the end of the Queue\r\n\r\nExpect result:\r\n\r\n```\r\n\r\nDan\r\nAshley\r\n**Shafaet\r\nMaria**\r\n```\r\n\r\nActual result:\r\n\r\n```\r\n\r\nDan\r\nAshley\r\n**Maria\r\nShafaet**\r\n```\r\n\r\nCan anyone help me to figure out why I can have this result as I try many times but it showed an abnormal case when program add the &quot;Anik&quot; student in the Queue which also change to position or 2 student &quot;Shafaet&quot; and &quot;Maria&quot;.\r\n\r\nThank everyone so much","title":"Having Some problem when adding element to Priority Queue","body":"<p>I am working with Priority Queue problem in this link\n<a href=\"https://www.hackerrank.com/challenges/java-priority-queue/problem\" rel=\"nofollow noreferrer\">Hackkerank Problem</a></p>\n<p>My Student class was created follow by OOP patterns which have constructor with 3 attributes <strong>(id, Name, cgpa)</strong> and some Getter method</p>\n<p>My Priorities</p>\n<pre><code>class Priorities{\n        private List&lt;Student&gt; list_student = new ArrayList&lt;&gt;();\n\n    class  CheckCondition implements Comparator&lt;Student&gt;{\n\n\n        @Override\n        public int compare(Student o1, Student o2) {\n            if(o1.getCGPA() &lt; o2.getCGPA()){\n                return 1;\n            }else if(o1.getCGPA() &gt; o2.getCGPA()){\n                return -1;\n            }else{\n                if(o1.getName().compareTo(o2.getName()) &lt; 0) {\n                    return 1;\n                }else if(o1.getName().compareTo(o2.getName()) &gt; 0){\n                    return -1;\n                }else {\n                    if(o1.getID() &lt; o2.getID()){\n                        return -1;\n                    }else {\n                        return 1;\n                    }\n                }\n            }\n\n        }\n    }\n\n\n    public List&lt;Student&gt; getStudents(List&lt;String&gt; events, int capacity){\n        Queue&lt;Student&gt; stringQueue = new PriorityQueue&lt;&gt;(capacity, new CheckCondition());\n        if(events.isEmpty()){\n            System.out.println(&quot;EMPTY&quot;);\n        }\n        for(String element: events){\n            List&lt;String&gt; stringList = List.of(element.split(&quot; &quot;));\n            if(stringList.get(0).equalsIgnoreCase(&quot;ENTER&quot;)){\n                Student new_student = new   Student(Integer.parseInt(stringList.get(3)), stringList.get(1), Double.parseDouble(stringList.get(2)));\n                stringQueue.add(new_student);\n            }if(stringList.get(0).equalsIgnoreCase(&quot;SERVED&quot;) ){\n                stringQueue.poll();\n            }\n        }\n        stringQueue.stream().forEach(element -&gt; list_student.add(element));\n\n        return list_student;\n\n    }\n}\n</code></pre>\n<p>My Main</p>\n<pre><code>\npublic class Main {\npublic static void main(String[] args) {\n         Scanner sc = new Scanner(System.in);\n         List&lt;String&gt; events = new ArrayList&lt;&gt;();\n         Integer capacity = sc.nextInt();\n         sc.nextLine();\n\n        for (int i = 0; i &lt; capacity; i++) {\n            events.add(sc.nextLine());\n        }\n    \n        Priorities priorities = new Priorities();\n        List&lt;Student&gt; students = priorities.getStudents(events, capacity);\n    \n        for(Student element: students){\n            System.out.println(element.getName());\n        }\n    \n    }\n\n}\n</code></pre>\n<p>So When I try with the test case in Hackerrank, My result instead of as expect, I change slightly in the end of the Queue</p>\n<p>Expect result:</p>\n<pre><code>\nDan\nAshley\n**Shafaet\nMaria**\n</code></pre>\n<p>Actual result:</p>\n<pre><code>\nDan\nAshley\n**Maria\nShafaet**\n</code></pre>\n<p>Can anyone help me to figure out why I can have this result as I try many times but it showed an abnormal case when program add the &quot;Anik&quot; student in the Queue which also change to position or 2 student &quot;Shafaet&quot; and &quot;Maria&quot;.</p>\n<p>Thank everyone so much</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1689310423,"post_id":76684629,"comment_id":135198111,"body_markdown":"Then it&#39;s either do not put super. on the method call in the sub class or write the required method in the sub class. Or one of your written methods should not have @Override on it (because there is not such a method in the super class).  Which method?","body":"Then it&#39;s either do not put super. on the method call in the sub class or write the required method in the sub class. Or one of your written methods should not have @Override on it (because there is not such a method in the super class).  Which method?"},{"owner":{"account_id":17575058,"reputation":2200,"user_id":12749998,"display_name":"Kozmotronik"},"score":0,"creation_date":1689313065,"post_id":76684629,"comment_id":135198376,"body_markdown":"Post the complete error message. There is no information about the method in the error you posted.","body":"Post the complete error message. There is no information about the method in the error you posted."},{"owner":{"account_id":5135500,"reputation":3590,"user_id":4114390,"accept_rate":50,"display_name":"Chandra Shekhar"},"score":0,"creation_date":1689315988,"post_id":76684629,"comment_id":135198775,"body_markdown":"onCreateOptionsMenu return `true` because you have a options menu to inflate","body":"onCreateOptionsMenu return <code>true</code> because you have a options menu to inflate"}],"owner":{"account_id":24410151,"reputation":11,"user_id":18337718,"display_name":"MoltaExlips"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689308653,"creation_date":1689307071,"question_id":76684629,"body_markdown":"I am new to Java and creating Android apps. When working on a to-do list app using this [tutorial](https://www.sitepoint.com/starting-android-development-creating-todo-app/) I ran into the error\r\n&gt;Method does not override method from its superclass\r\n\r\nAny fixes?\r\n```java\r\npackage com.moltaexlips.todolist;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport android.os.Bundle;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n    }\r\n\r\n    @Override\r\n    public boolean onCreateOptionsMenu(Menu menu) {\r\n        getMenuInflater().inflate(R.menu.main_menu, Menu);\r\n        return super.onCreateOptionsMenu(Menu);\r\n    }\r\n\r\n    @Override\r\n    public boolean onOptionsItemSelected(MenuItem item) {\r\n        switch (item.getItemId()) {\r\n            case R.id.action_add_task:\r\n                Log.d(TAG, &quot;Add a new task&quot;);\r\n                return true;\r\n            default:\r\n                return super.onOptionsItemSelected(item);\r\n        }\r\n    }\r\n```\r\nWell I have tried looking at the tutorial exactly and it seems I&#39;m following everything although I could be wrong.","title":"Method does not override method from its superclass Android Error when coding todo list app","body":"<p>I am new to Java and creating Android apps. When working on a to-do list app using this <a href=\"https://www.sitepoint.com/starting-android-development-creating-todo-app/\" rel=\"nofollow noreferrer\">tutorial</a> I ran into the error</p>\n<blockquote>\n<p>Method does not override method from its superclass</p>\n</blockquote>\n<p>Any fixes?</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.moltaexlips.todolist;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport android.os.Bundle;\n\npublic class MainActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n    }\n\n    @Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n        getMenuInflater().inflate(R.menu.main_menu, Menu);\n        return super.onCreateOptionsMenu(Menu);\n    }\n\n    @Override\n    public boolean onOptionsItemSelected(MenuItem item) {\n        switch (item.getItemId()) {\n            case R.id.action_add_task:\n                Log.d(TAG, &quot;Add a new task&quot;);\n                return true;\n            default:\n                return super.onOptionsItemSelected(item);\n        }\n    }\n</code></pre>\n<p>Well I have tried looking at the tutorial exactly and it seems I'm following everything although I could be wrong.</p>\n"},{"tags":["java","visual-studio-code","vscode-snippets"],"answers":[{"tags":[],"owner":{"account_id":15396644,"reputation":25735,"user_id":11107541,"display_name":"starball"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1689308004,"creation_date":1689147799,"answer_id":76668212,"question_id":76668211,"body_markdown":"This is a VS Code regression with choice snippets. There&#39;s an issue ticket tracking it here: [Are choice snippets dangerous now? Breaking extensions completions #187642](https://github.com/microsoft/vscode/issues/187642). There was a regression from commit [`3e232a8`](https://github.com/microsoft/vscode/commit/3e232a82df4313fb8ca898471416763288c6827d). The issue is [reportedly fixed in version 1.80.1](https://github.com/microsoft/vscode/issues/187642#issuecomment-1633749331), which has been released. If it&#39;s not available to you yet for some reason, use VS Code Insiders.\r\n\r\nThe Java extension issue is tracked here: https://github.com/redhat-developer/vscode-java/issues/3194. Notably, if you look in [the release notes for the Red Hat Java Language Support extension, the 1.20.0 section](https://github.com/redhat-developer/vscode-java/blob/master/CHANGELOG.md#1200-june-29th-2023) says:\r\n\r\n&gt; - enhancement - Use choice syntax as placeholder for constructor/method/field snippets. See [#3018](https://github.com/redhat-developer/vscode-java/pull/3018), [#3140](https://github.com/redhat-developer/vscode-java/pull/3140).","title":"Why aren&#39;t choice snippets working properly in new files in VS Code 1.80.0?","body":"<p>This is a VS Code regression with choice snippets. There's an issue ticket tracking it here: <a href=\"https://github.com/microsoft/vscode/issues/187642\" rel=\"nofollow noreferrer\">Are choice snippets dangerous now? Breaking extensions completions #187642</a>. There was a regression from commit <a href=\"https://github.com/microsoft/vscode/commit/3e232a82df4313fb8ca898471416763288c6827d\" rel=\"nofollow noreferrer\"><code>3e232a8</code></a>. The issue is <a href=\"https://github.com/microsoft/vscode/issues/187642#issuecomment-1633749331\" rel=\"nofollow noreferrer\">reportedly fixed in version 1.80.1</a>, which has been released. If it's not available to you yet for some reason, use VS Code Insiders.</p>\n<p>The Java extension issue is tracked here: <a href=\"https://github.com/redhat-developer/vscode-java/issues/3194\" rel=\"nofollow noreferrer\">https://github.com/redhat-developer/vscode-java/issues/3194</a>. Notably, if you look in <a href=\"https://github.com/redhat-developer/vscode-java/blob/master/CHANGELOG.md#1200-june-29th-2023\" rel=\"nofollow noreferrer\">the release notes for the Red Hat Java Language Support extension, the 1.20.0 section</a> says:</p>\n<blockquote>\n<ul>\n<li>enhancement - Use choice syntax as placeholder for constructor/method/field snippets. See <a href=\"https://github.com/redhat-developer/vscode-java/pull/3018\" rel=\"nofollow noreferrer\">#3018</a>, <a href=\"https://github.com/redhat-developer/vscode-java/pull/3140\" rel=\"nofollow noreferrer\">#3140</a>.</li>\n</ul>\n</blockquote>\n"}],"owner":{"account_id":15396644,"reputation":25735,"user_id":11107541,"display_name":"starball"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":209,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":76668212,"answer_count":1,"score":3,"last_activity_date":1689308022,"creation_date":1689147799,"question_id":76668211,"body_markdown":"For example, [choice-type snippet suggestions](https://code.visualstudio.com/docs/editor/userdefinedsnippets#_choice) are not showing up as I expect in [version 1.20.0](https://github.com/redhat-developer/vscode-java/releases/tag/v1.20.0) of the [`redhat.java`](https://marketplace.visualstudio.com/items?itemName=redhat.java) extension for VS Code. That includes snippet suggestions and other code suggestions. I observe this every time I create a new file.\r\n\r\nIn the Java Output log, I see messages like this:\r\n\r\n```none\r\n!ENTRY org.eclipse.jdt.ls.core 4 0 2023-07-11 19:09:12.705\r\n!MESSAGE Error occured while building workspace. Details: \r\n message: Syntax error, insert &quot;;&quot; to complete BlockStatements; code: 1610612976; resource: &lt;path&gt;.java; line: 6\r\n message: sout cannot be resolved; code: 570425394; resource: &lt;path&gt;.java; line: 6\r\n message: Syntax error, insert &quot;VariableDeclarators&quot; to complete LocalVariableDeclaration; code: 1610612976; resource: &lt;path&gt;.java; line: 6\r\n```\r\n\r\nWhy is this happening? How can the issue be resolved?","title":"Why aren&#39;t choice snippets working properly in new files in VS Code 1.80.0?","body":"<p>For example, <a href=\"https://code.visualstudio.com/docs/editor/userdefinedsnippets#_choice\" rel=\"nofollow noreferrer\">choice-type snippet suggestions</a> are not showing up as I expect in <a href=\"https://github.com/redhat-developer/vscode-java/releases/tag/v1.20.0\" rel=\"nofollow noreferrer\">version 1.20.0</a> of the <a href=\"https://marketplace.visualstudio.com/items?itemName=redhat.java\" rel=\"nofollow noreferrer\"><code>redhat.java</code></a> extension for VS Code. That includes snippet suggestions and other code suggestions. I observe this every time I create a new file.</p>\n<p>In the Java Output log, I see messages like this:</p>\n<pre class=\"lang-none prettyprint-override\"><code>!ENTRY org.eclipse.jdt.ls.core 4 0 2023-07-11 19:09:12.705\n!MESSAGE Error occured while building workspace. Details: \n message: Syntax error, insert &quot;;&quot; to complete BlockStatements; code: 1610612976; resource: &lt;path&gt;.java; line: 6\n message: sout cannot be resolved; code: 570425394; resource: &lt;path&gt;.java; line: 6\n message: Syntax error, insert &quot;VariableDeclarators&quot; to complete LocalVariableDeclaration; code: 1610612976; resource: &lt;path&gt;.java; line: 6\n</code></pre>\n<p>Why is this happening? How can the issue be resolved?</p>\n"},{"tags":["java","azure","spring-boot","download","timeout"],"answers":[{"tags":[],"owner":{"account_id":8429880,"reputation":4538,"user_id":6325994,"accept_rate":56,"display_name":"Abdennacer Lachiheb"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1542668322,"creation_date":1542586070,"answer_id":53366746,"question_id":53318057,"body_markdown":"The answer is to not download the file to the server and then send it to the client but streaming it to the client directly here&#39;s the code\r\n\r\n    @RequestMapping(value = &quot;/download&quot;, method = RequestMethod.GET)\r\n    public StreamingResponseBody download(@PathVariable String path) throws IOException {\r\n\r\n        final InputStream fecFile = azureDataLakeStoreService.readFile(path);\r\n        return (os) -&gt; {\r\n            readAndWrite(fecFile, os);\r\n        };\r\n    }\r\n\r\n    private void readAndWrite(final InputStream is, OutputStream os)\r\n            throws IOException {\r\n        byte[] data = new byte[2048];\r\n        int read = 0;\r\n        while ((read = is.read(data)) &gt;= 0) {\r\n            os.write(data, 0, read);\r\n        }\r\n        os.flush();\r\n    }\r\n\r\nI also added this configuration to ApplicationInit:\r\n\r\n\t@Configuration\r\n\tpublic static class WebConfig extends WebMvcConfigurerAdapter {\r\n\r\n\t\t@Override\r\n\t\tpublic void configureAsyncSupport(AsyncSupportConfigurer configurer) {\r\n\t\t\tconfigurer.setDefaultTimeout(-1);\r\n\t\t\tconfigurer.setTaskExecutor(asyncTaskExecutor());\r\n\t\t}\r\n\r\n\t\t@Bean\r\n\t\tpublic AsyncTaskExecutor asyncTaskExecutor() {\r\n\t\t\treturn new SimpleAsyncTaskExecutor(&quot;async&quot;);\r\n\t\t}\r\n\r\n\t}","title":"Spring boot: Download zipped large files while they are being processed on the server","body":"<p>The answer is to not download the file to the server and then send it to the client but streaming it to the client directly here's the code</p>\n\n<pre><code>@RequestMapping(value = \"/download\", method = RequestMethod.GET)\npublic StreamingResponseBody download(@PathVariable String path) throws IOException {\n\n    final InputStream fecFile = azureDataLakeStoreService.readFile(path);\n    return (os) -&gt; {\n        readAndWrite(fecFile, os);\n    };\n}\n\nprivate void readAndWrite(final InputStream is, OutputStream os)\n        throws IOException {\n    byte[] data = new byte[2048];\n    int read = 0;\n    while ((read = is.read(data)) &gt;= 0) {\n        os.write(data, 0, read);\n    }\n    os.flush();\n}\n</code></pre>\n\n<p>I also added this configuration to ApplicationInit:</p>\n\n<pre><code>@Configuration\npublic static class WebConfig extends WebMvcConfigurerAdapter {\n\n    @Override\n    public void configureAsyncSupport(AsyncSupportConfigurer configurer) {\n        configurer.setDefaultTimeout(-1);\n        configurer.setTaskExecutor(asyncTaskExecutor());\n    }\n\n    @Bean\n    public AsyncTaskExecutor asyncTaskExecutor() {\n        return new SimpleAsyncTaskExecutor(\"async\");\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":8429880,"reputation":4538,"user_id":6325994,"accept_rate":56,"display_name":"Abdennacer Lachiheb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3959,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":53366746,"answer_count":1,"score":1,"last_activity_date":1689307932,"creation_date":1542279893,"question_id":53318057,"body_markdown":"In my app I&#39;m zipping and then downloading larges files, the files are located in azure, so I read the files from a stream and then zip them one after another, so I can dowload the zip file after all files has been zipped, here&#39;s my code:\r\n\r\n    @RequestMapping(value = &quot;{analyseId}/download&quot;, method = RequestMethod.GET, produces = &quot;application/zip&quot;)\r\n    public ResponseEntity&lt;Resource&gt; download(@PathVariable List&lt;String&gt; paths) throws IOException {\r\n\r\n        String zipFileName = &quot;zipFiles.zip&quot;;\r\n        File zipFile = new File(zipFileName);\r\n        FileOutputStream fos = new FileOutputStream(zipFile);\r\n        ZipOutputStream zos = new ZipOutputStream(fos);\r\n        for (String path : paths) {\r\n            InputStream fis = azureDataLakeStoreService.readFile(path);\r\n            addToZipFile(path , zos, fis);\r\n        }\r\n        zos.close();\r\n        fos.close();\r\n        BufferedInputStream zipFileInputStream = new BufferedInputStream(new FileInputStream(zipFile.getAbsolutePath()));\r\n        InputStreamResource resource = new InputStreamResource(zipFileInputStream);\r\n        zipFile.delete();\r\n\r\n        return ResponseEntity.ok()\r\n                .header(HttpHeaders.ACCESS_CONTROL_EXPOSE_HEADERS, HttpHeaders.CONTENT_DISPOSITION)\r\n                .header(HttpHeaders.CONTENT_DISPOSITION, &quot;attachment;filename=&quot; + zipFileName)\r\n                .contentType(MediaType.parseMediaType(&quot;application/octet-stream&quot;))\r\n                .body(resource);\r\n    }\r\n\r\n    private static void addToZipFile(String path, ZipOutputStream zos, InputStream fis) throws IOException {\r\n        ZipEntry zipEntry = new ZipEntry(FilenameUtils.getName(path));\r\n        zos.putNextEntry(zipEntry);\r\n        byte[] bytes = new byte[1024];\r\n        int length;\r\n        while ((length = fis.read(bytes)) &gt;= 0) {\r\n            zos.write(bytes, 0, length);\r\n        }\r\n        zos.closeEntry();\r\n        fis.close();\r\n    }\r\n\r\nHowever on azure the request time out is set to 230 sec, and [cannot be changed][1], however for big files it takes more than that to load and then zip the files on the server, so the connection with the client will be lost meanwhile.\r\n\r\nSo my question is since I&#39;m getting the data from a stream, can we do all these operations simultaneously, means getting the stream and download it as the same time and not waiting till getting the whole file, or if there any other idea can any body share it here please.\r\n\r\nThanks.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/44820256/how-can-increase-azure-app-service-230-sec-request-time-out","title":"Spring boot: Download zipped large files while they are being processed on the server","body":"<p>In my app I'm zipping and then downloading larges files, the files are located in azure, so I read the files from a stream and then zip them one after another, so I can dowload the zip file after all files has been zipped, here's my code:</p>\n\n<pre><code>@RequestMapping(value = \"{analyseId}/download\", method = RequestMethod.GET, produces = \"application/zip\")\npublic ResponseEntity&lt;Resource&gt; download(@PathVariable List&lt;String&gt; paths) throws IOException {\n\n    String zipFileName = \"zipFiles.zip\";\n    File zipFile = new File(zipFileName);\n    FileOutputStream fos = new FileOutputStream(zipFile);\n    ZipOutputStream zos = new ZipOutputStream(fos);\n    for (String path : paths) {\n        InputStream fis = azureDataLakeStoreService.readFile(path);\n        addToZipFile(path , zos, fis);\n    }\n    zos.close();\n    fos.close();\n    BufferedInputStream zipFileInputStream = new BufferedInputStream(new FileInputStream(zipFile.getAbsolutePath()));\n    InputStreamResource resource = new InputStreamResource(zipFileInputStream);\n    zipFile.delete();\n\n    return ResponseEntity.ok()\n            .header(HttpHeaders.ACCESS_CONTROL_EXPOSE_HEADERS, HttpHeaders.CONTENT_DISPOSITION)\n            .header(HttpHeaders.CONTENT_DISPOSITION, \"attachment;filename=\" + zipFileName)\n            .contentType(MediaType.parseMediaType(\"application/octet-stream\"))\n            .body(resource);\n}\n\nprivate static void addToZipFile(String path, ZipOutputStream zos, InputStream fis) throws IOException {\n    ZipEntry zipEntry = new ZipEntry(FilenameUtils.getName(path));\n    zos.putNextEntry(zipEntry);\n    byte[] bytes = new byte[1024];\n    int length;\n    while ((length = fis.read(bytes)) &gt;= 0) {\n        zos.write(bytes, 0, length);\n    }\n    zos.closeEntry();\n    fis.close();\n}\n</code></pre>\n\n<p>However on azure the request time out is set to 230 sec, and <a href=\"https://stackoverflow.com/questions/44820256/how-can-increase-azure-app-service-230-sec-request-time-out\">cannot be changed</a>, however for big files it takes more than that to load and then zip the files on the server, so the connection with the client will be lost meanwhile.</p>\n\n<p>So my question is since I'm getting the data from a stream, can we do all these operations simultaneously, means getting the stream and download it as the same time and not waiting till getting the whole file, or if there any other idea can any body share it here please.</p>\n\n<p>Thanks.</p>\n"},{"tags":["java","spring","spring-boot","dependency-injection"],"owner":{"account_id":6381461,"reputation":3501,"user_id":6524600,"display_name":"Drex"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689307825,"creation_date":1689111119,"question_id":76665890,"body_markdown":"So I have a class `JarComponent` in an external library that&#39;s configured to inject some of its child components by default\r\n```\r\n@Component\r\npublic class JarComponent {\r\n   @Autowired(required=false)\r\n   DependencyI dependencyI;\r\n   @Autowired(required=false)\r\n   DependencyII dependencyII;\r\n   @Autowired(required=false)\r\n   DependencyIII dependencyIII;\r\n   ... // a lot of other dependencies\r\n   @Autowired(required=false)\r\n   DependencyVIII dependencyVIII;\r\n}\r\n```\r\nAnd because this is from Jar I have no access to modify this class, when I registered the `JarComponent` in my application, \r\n```\r\n@Component\r\npublic class MyAppComponent {\r\n  @Autowired\r\n  JarComponent jarComponent;\r\n}\r\n\r\n// MyAppComponent &lt;- JarComponent &lt;- (dependencyI, dependencyII, dependencyIII, ..., dependencyVIII)\r\n```\r\nall associated dependencies will also be registered automatically. However, one of the dependencies - `dependencyII` might break my application so I&#39;d like to exclude it specifically, at the same time I can continue keeping other dependencies that are brought from `JarComponent `,  here is the expectation\r\n\r\n\r\nThe workaround for now is I have to explicitly not inject `JarComponent` but inject all its child components except `dependencyII`, \r\n```\r\n@Component\r\npublic class AppComponent {\r\n  // @Autowired\r\n  // JarComponent jarComponent;\r\n\r\n  @Autowired\r\n  DependencyI dependencyI;\r\n  @Autowired\r\n  DependencyIII dependencyIII;\r\n  ...,\r\n  @Autowired\r\n  DependencyVIII dependencyVIII;\r\n}\r\n```\r\nwhich is kinda ugly...is there any other elegant way to do that?\r\n\r\n","title":"How to exclude a specific dependency injected from external library","body":"<p>So I have a class <code>JarComponent</code> in an external library that's configured to inject some of its child components by default</p>\n<pre><code>@Component\npublic class JarComponent {\n   @Autowired(required=false)\n   DependencyI dependencyI;\n   @Autowired(required=false)\n   DependencyII dependencyII;\n   @Autowired(required=false)\n   DependencyIII dependencyIII;\n   ... // a lot of other dependencies\n   @Autowired(required=false)\n   DependencyVIII dependencyVIII;\n}\n</code></pre>\n<p>And because this is from Jar I have no access to modify this class, when I registered the <code>JarComponent</code> in my application,</p>\n<pre><code>@Component\npublic class MyAppComponent {\n  @Autowired\n  JarComponent jarComponent;\n}\n\n// MyAppComponent &lt;- JarComponent &lt;- (dependencyI, dependencyII, dependencyIII, ..., dependencyVIII)\n</code></pre>\n<p>all associated dependencies will also be registered automatically. However, one of the dependencies - <code>dependencyII</code> might break my application so I'd like to exclude it specifically, at the same time I can continue keeping other dependencies that are brought from <code>JarComponent </code>,  here is the expectation</p>\n<p>The workaround for now is I have to explicitly not inject <code>JarComponent</code> but inject all its child components except <code>dependencyII</code>,</p>\n<pre><code>@Component\npublic class AppComponent {\n  // @Autowired\n  // JarComponent jarComponent;\n\n  @Autowired\n  DependencyI dependencyI;\n  @Autowired\n  DependencyIII dependencyIII;\n  ...,\n  @Autowired\n  DependencyVIII dependencyVIII;\n}\n</code></pre>\n<p>which is kinda ugly...is there any other elegant way to do that?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9683,"page":309,"page_size":100}
