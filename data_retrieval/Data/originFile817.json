{"items":[{"tags":["java","sql","amazon-web-services","jdbc","amazon-redshift"],"comments":[{"owner":{"account_id":2094057,"reputation":506144,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1670584258,"post_id":74742246,"comment_id":131913025,"body_markdown":"Your second version is prone to SQL injection and for that reason should be avoided.  The first version is the canonical way to do this AFAIK; I have no idea why it is so slow.","body":"Your second version is prone to SQL injection and for that reason should be avoided.  The first version is the canonical way to do this AFAIK; I have no idea why it is so slow."},{"owner":{"account_id":5793336,"reputation":807,"user_id":4569963,"accept_rate":73,"display_name":"pacman"},"score":0,"creation_date":1670585358,"post_id":74742246,"comment_id":131913333,"body_markdown":"@TimBiegeleisen I&#39;m aware that second snapshot is unsafe, but somehow it works fast while the firs takes ages - a few seconds vs 30 minutes.","body":"@TimBiegeleisen I&#39;m aware that second snapshot is unsafe, but somehow it works fast while the firs takes ages - a few seconds vs 30 minutes."},{"owner":{"account_id":18399,"reputation":38994,"user_id":42126,"accept_rate":100,"display_name":"kdgregory"},"score":0,"creation_date":1670588089,"post_id":74742246,"comment_id":131914095,"body_markdown":"Do you have auto-commit enabled? If yes, disable and try with an explicit transaction.","body":"Do you have auto-commit enabled? If yes, disable and try with an explicit transaction."},{"owner":{"account_id":18399,"reputation":38994,"user_id":42126,"accept_rate":100,"display_name":"kdgregory"},"score":0,"creation_date":1670588166,"post_id":74742246,"comment_id":131914130,"body_markdown":"Other than that, single-row inserts in Redshift tend to have poor performance compared to Postgres, because the storage engines are different. When uploading to Redshift you typically store a file on S3 and use the COPY command -- although iirc there were some changes announced at the most recent re:invent that may have improved performance.","body":"Other than that, single-row inserts in Redshift tend to have poor performance compared to Postgres, because the storage engines are different. When uploading to Redshift you typically store a file on S3 and use the COPY command -- although iirc there were some changes announced at the most recent re:invent that may have improved performance."},{"owner":{"account_id":5793336,"reputation":807,"user_id":4569963,"accept_rate":73,"display_name":"pacman"},"score":0,"creation_date":1670589310,"post_id":74742246,"comment_id":131914491,"body_markdown":"@kdgregory thanks for the comments, I do have auto-commit disabled. I have just found that adding `reWriteBatchedInserts=true;reWriteBatchedInsertsSize=1024` to JDBC url reduces write time from 30 minutes to 40 seconds but in Postgres it is like 1-2 seconds. Regarding S3 sink - I know about it, but now I am limited to use jdbc.","body":"@kdgregory thanks for the comments, I do have auto-commit disabled. I have just found that adding <code>reWriteBatchedInserts=true;reWriteBatchedInsertsSize=1024</code> to JDBC url reduces write time from 30 minutes to 40 seconds but in Postgres it is like 1-2 seconds. Regarding S3 sink - I know about it, but now I am limited to use jdbc."},{"owner":{"account_id":5793336,"reputation":807,"user_id":4569963,"accept_rate":73,"display_name":"pacman"},"score":0,"creation_date":1670589337,"post_id":74742246,"comment_id":131914501,"body_markdown":"at least now I know that batching may be forced somehow in Redshift","body":"at least now I know that batching may be forced somehow in Redshift"},{"owner":{"account_id":18399,"reputation":38994,"user_id":42126,"accept_rate":100,"display_name":"kdgregory"},"score":0,"creation_date":1670590397,"post_id":74742246,"comment_id":131914864,"body_markdown":"I didn&#39;t know about those parameters. I recommend bumping the second one to 8192 or even larger.","body":"I didn&#39;t know about those parameters. I recommend bumping the second one to 8192 or even larger."},{"owner":{"account_id":5793336,"reputation":807,"user_id":4569963,"accept_rate":73,"display_name":"pacman"},"score":0,"creation_date":1670590723,"post_id":74742246,"comment_id":131914959,"body_markdown":"@kdgregory already tried - it didn&#39;t improve insertion time a lot","body":"@kdgregory already tried - it didn&#39;t improve insertion time a lot"}],"answers":[{"comments":[{"owner":{"account_id":5793336,"reputation":807,"user_id":4569963,"accept_rate":73,"display_name":"pacman"},"score":0,"creation_date":1670644427,"post_id":74745774,"comment_id":131926754,"body_markdown":"thanks for the great answer! I tried to use multi-row insert with PreparedStatement similarly to this answer - https://stackoverflow.com/a/46813180 - it worked much faster but I faced another limit - limit of bind variables per statement so I needed to range SQL like this `insert ... into values (? ... ?).... (? ...?)`. But I&#39;m not sure if formatting complex json, uploading it to s3 will bring lots of benefits for me.","body":"thanks for the great answer! I tried to use multi-row insert with PreparedStatement similarly to this answer - <a href=\"https://stackoverflow.com/a/46813180\">stackoverflow.com/a/46813180</a> - it worked much faster but I faced another limit - limit of bind variables per statement so I needed to range SQL like this <code>insert ... into values (? ... ?).... (? ...?)</code>. But I&#39;m not sure if formatting complex json, uploading it to s3 will bring lots of benefits for me."},{"owner":{"account_id":18332449,"reputation":9390,"user_id":13350652,"display_name":"Bill Weiner"},"score":0,"creation_date":1670650344,"post_id":74745774,"comment_id":131927374,"body_markdown":"How much data are you loading?  MBs? GBs?  The bigger the data load you are working with, the larger the benefit of heading down the S3 path.  Also your data *seems* to be simple structured data (rows and columns) - why not use CSV?  It is more data efficient than json.  You say &quot;complex json&quot; so it may be that your real data is more complex than the simple examples you have posted.","body":"How much data are you loading?  MBs? GBs?  The bigger the data load you are working with, the larger the benefit of heading down the S3 path.  Also your data <i>seems</i> to be simple structured data (rows and columns) - why not use CSV?  It is more data efficient than json.  You say &quot;complex json&quot; so it may be that your real data is more complex than the simple examples you have posted."},{"owner":{"account_id":18399,"reputation":38994,"user_id":42126,"accept_rate":100,"display_name":"kdgregory"},"score":0,"creation_date":1670667481,"post_id":74745774,"comment_id":131929395,"body_markdown":"@BillWeiner - asking as an interested bystander: does it make sense to use [CopyManager](https://jdbc.postgresql.org/documentation/publicapi/org/postgresql/copy/CopyManager.html) as a halfway measure between individual inserts and uploading to S3? You wouldn&#39;t get the performance benefits of parallel load, but for a small number of rows (1000s) I would hope that Redshift can internally buffer the entire operation (or at least a significant chunk of it).","body":"@BillWeiner - asking as an interested bystander: does it make sense to use <a href=\"https://jdbc.postgresql.org/documentation/publicapi/org/postgresql/copy/CopyManager.html\" rel=\"nofollow noreferrer\">CopyManager</a> as a halfway measure between individual inserts and uploading to S3? You wouldn&#39;t get the performance benefits of parallel load, but for a small number of rows (1000s) I would hope that Redshift can internally buffer the entire operation (or at least a significant chunk of it)."},{"owner":{"account_id":18332449,"reputation":9390,"user_id":13350652,"display_name":"Bill Weiner"},"score":0,"creation_date":1670693261,"post_id":74745774,"comment_id":131934277,"body_markdown":"Haven&#39;t used that class so grain of salt time.  It looks to be postgres specific and uses the &quot;sql - COPY FROM STDIN statement&quot; which is not a thing in Redshift.  If you want to bring data into Redshift via the jdbc connection you need to &quot;insert ... values (...),(...),...&quot;.  This isn&#39;t ideal for Redshift (see above).  If you do need to do this for small amounts of data combine at least 100 rows of data into each statement (stay below the 64MB limit).  Single row inserts repeated millions of times is a Redshift anti-pattern, don&#39;t do it.","body":"Haven&#39;t used that class so grain of salt time.  It looks to be postgres specific and uses the &quot;sql - COPY FROM STDIN statement&quot; which is not a thing in Redshift.  If you want to bring data into Redshift via the jdbc connection you need to &quot;insert ... values (...),(...),...&quot;.  This isn&#39;t ideal for Redshift (see above).  If you do need to do this for small amounts of data combine at least 100 rows of data into each statement (stay below the 64MB limit).  Single row inserts repeated millions of times is a Redshift anti-pattern, don&#39;t do it."}],"tags":[],"owner":{"account_id":18332449,"reputation":9390,"user_id":13350652,"display_name":"Bill Weiner"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1670603231,"creation_date":1670603231,"answer_id":74745774,"question_id":74742246,"body_markdown":"Inserting single rows multiple times is never a good plan on a columnar database.  Postgres is row-based and Redshift is column-based.  \r\n\r\nEach INSERT on Postgres just makes another row but on Redshift each insert requires that the column data is read, one element is added, and then the column written back.  While Redshift doesn&#39;t work on the entire column, just the last 1MB block, it has to read this block for each INSERT.  \r\n\r\nAlso since Redshift is clustered and the data for your table is distributed around the cluster, each subsequent INSERT is accessing a different block on a different slice of the table.  All these INSERTs that are accessing single slices of the cluster are serialized by the single-threaded nature of your code so each access to a single slice has to complete before the next INSERT can be issued.  \r\n\r\nYou second code adds lots of rows of data into a single INSERT statement which is compiled and the data is sent to all slices of the database where only data for each slice is stored and rest discarded.  This uses the parallelism of Redshift and only has to open the 1MB block on each slice once.  However, there are still performance and scalability issues with this approach (common to approach #1 but not as bad).  All the data is being sent through the query compiler and then on to every slice.  This can slow down compile time and waste network bandwidth.  All the data has to flow through the leader node which is responsible for many database functions and doing this for large amounts of data can lead to significant cluster wide performance issues.  The amount of data you can insert in this manner is limited by the size (in characters) of the max query length (16MB).  There is more but I&#39;ll stop there.  While this approach is better, from Redshift&#39;s point of view, it is far from ideal.\r\n\r\nBottom line - Postgres is a single instance (scale-up), row-based, OLTP database designed for single row inserts and Redshift is a clustered (scale-out), column-based, OLAP database designed for parallel bulk inserts.  The COPY command causes each compute node in Redshift to connect to S3 to read component files of the input data.  This allows for parallel actions by the Redshift cluster, independent network access to S3, and parallel processing of the read data.  (If you really want your code to run fast make it multi-threaded and write your S3 files in parallel then issue a COPY command to Redshift.)","title":"Redshift JDBC batch insert works slow for multiple rows","body":"<p>Inserting single rows multiple times is never a good plan on a columnar database.  Postgres is row-based and Redshift is column-based.</p>\n<p>Each INSERT on Postgres just makes another row but on Redshift each insert requires that the column data is read, one element is added, and then the column written back.  While Redshift doesn't work on the entire column, just the last 1MB block, it has to read this block for each INSERT.</p>\n<p>Also since Redshift is clustered and the data for your table is distributed around the cluster, each subsequent INSERT is accessing a different block on a different slice of the table.  All these INSERTs that are accessing single slices of the cluster are serialized by the single-threaded nature of your code so each access to a single slice has to complete before the next INSERT can be issued.</p>\n<p>You second code adds lots of rows of data into a single INSERT statement which is compiled and the data is sent to all slices of the database where only data for each slice is stored and rest discarded.  This uses the parallelism of Redshift and only has to open the 1MB block on each slice once.  However, there are still performance and scalability issues with this approach (common to approach #1 but not as bad).  All the data is being sent through the query compiler and then on to every slice.  This can slow down compile time and waste network bandwidth.  All the data has to flow through the leader node which is responsible for many database functions and doing this for large amounts of data can lead to significant cluster wide performance issues.  The amount of data you can insert in this manner is limited by the size (in characters) of the max query length (16MB).  There is more but I'll stop there.  While this approach is better, from Redshift's point of view, it is far from ideal.</p>\n<p>Bottom line - Postgres is a single instance (scale-up), row-based, OLTP database designed for single row inserts and Redshift is a clustered (scale-out), column-based, OLAP database designed for parallel bulk inserts.  The COPY command causes each compute node in Redshift to connect to S3 to read component files of the input data.  This allows for parallel actions by the Redshift cluster, independent network access to S3, and parallel processing of the read data.  (If you really want your code to run fast make it multi-threaded and write your S3 files in parallel then issue a COPY command to Redshift.)</p>\n"}],"owner":{"account_id":5793336,"reputation":807,"user_id":4569963,"accept_rate":73,"display_name":"pacman"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":710,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74745774,"answer_count":1,"score":1,"last_activity_date":1670851255,"creation_date":1670583961,"question_id":74742246,"body_markdown":"I have Java code for inserting into Redshift like this:\r\n```\r\nString query = &quot;INSERT INTO table (id, name, value) VALUES (?, ?, ?)&quot;;\r\nPreparedStatement ps = connection.prepareStatement(query);            \r\nfor (Record record : records) {\r\n    ps.setInt(1, record.id);\r\n    ps.setString(2, record.name);\r\n    ps.setInt(3, record.value);\r\n    ps.addBatch();\r\n}\r\nps.executeBatch();\r\n```\r\n`records` contains a few thousands items. I tried to run this code with Postgres - it inserted all of them almost instantly while with Redshift it takes 10+ minutes. After that I rewrote it to the next code:\r\n\r\n```\r\nString query = &quot;INSERT INTO table (id, name, value) VALUES &quot;;\r\nfor (Record record : records) {\r\n    query += &quot;(&quot; + record.id + &quot;,&#39;&quot; + record.name + &quot;&#39;,&quot; + record.value + &quot;),&quot;;\r\n}\r\nquery = query.substring(1, query.length() - 1);\r\nPreparedStatement ps = connection.prepareStatement(query);\r\nps.executeUpdate();\r\n```\r\n\r\nAnd this fixed performance. This code works fine for both Redshift and Postgres. My question is next - what&#39;s wrong with the first code snapshot and how I can fix it? (I assume that first code snapshot for Redshift simply ignores batching.)","title":"Redshift JDBC batch insert works slow for multiple rows","body":"<p>I have Java code for inserting into Redshift like this:</p>\n<pre><code>String query = &quot;INSERT INTO table (id, name, value) VALUES (?, ?, ?)&quot;;\nPreparedStatement ps = connection.prepareStatement(query);            \nfor (Record record : records) {\n    ps.setInt(1, record.id);\n    ps.setString(2, record.name);\n    ps.setInt(3, record.value);\n    ps.addBatch();\n}\nps.executeBatch();\n</code></pre>\n<p><code>records</code> contains a few thousands items. I tried to run this code with Postgres - it inserted all of them almost instantly while with Redshift it takes 10+ minutes. After that I rewrote it to the next code:</p>\n<pre><code>String query = &quot;INSERT INTO table (id, name, value) VALUES &quot;;\nfor (Record record : records) {\n    query += &quot;(&quot; + record.id + &quot;,'&quot; + record.name + &quot;',&quot; + record.value + &quot;),&quot;;\n}\nquery = query.substring(1, query.length() - 1);\nPreparedStatement ps = connection.prepareStatement(query);\nps.executeUpdate();\n</code></pre>\n<p>And this fixed performance. This code works fine for both Redshift and Postgres. My question is next - what's wrong with the first code snapshot and how I can fix it? (I assume that first code snapshot for Redshift simply ignores batching.)</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":4172428,"reputation":2097,"user_id":3419894,"display_name":"JonK"},"score":3,"creation_date":1480608654,"post_id":40915324,"comment_id":69042845,"body_markdown":"`if ( array[number+1]%2==0)` -&gt; don&#39;t you want to be checking `index` instead?","body":"<code>if ( array[number+1]%2==0)</code> -&gt; don&#39;t you want to be checking <code>index</code> instead?"},{"owner":{"account_id":5546231,"reputation":4303,"user_id":4400820,"accept_rate":89,"display_name":"D. Ben Knoble"},"score":0,"creation_date":1480608797,"post_id":40915324,"comment_id":69042930,"body_markdown":"Can you be more explicit about how it&#39;s &quot;not working&quot;? Have you tried stepping through in a debugger and looking for the problem there? It becomes fairly apparent that you are testing the wrong value.","body":"Can you be more explicit about how it&#39;s &quot;not working&quot;? Have you tried stepping through in a debugger and looking for the problem there? It becomes fairly apparent that you are testing the wrong value."}],"answers":[{"tags":[],"owner":{"account_id":5667881,"reputation":4161,"user_id":4483548,"display_name":"BretC"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1480608686,"creation_date":1480608686,"answer_id":40915360,"question_id":40915324,"body_markdown":"You can just change your for loop and get rid of the inner IF...\r\n\r\n    for( int index = 0; index &lt; array.length; index += 2) {\r\n        System.out.println(array[index]);\r\n    }","title":"How to print out even-numbered indexes for arrays in Java?","body":"<p>You can just change your for loop and get rid of the inner IF...</p>\n\n<pre><code>for( int index = 0; index &lt; array.length; index += 2) {\n    System.out.println(array[index]);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8598286,"reputation":11087,"user_id":6440704,"display_name":"Anton Balaniuc"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1480609581,"creation_date":1480609581,"answer_id":40915616,"question_id":40915324,"body_markdown":"Just absolutely same thing using java 8 `Stream` API \r\n\r\n     Integer[] ints = {0,1,2,3,4,5,6,7,8,9};\r\n     IntStream.range(0, ints.length).filter(i -&gt;  i % 2 == 0).forEach(i -&gt; System.out.println(ints[i]));","title":"How to print out even-numbered indexes for arrays in Java?","body":"<p>Just absolutely same thing using java 8 <code>Stream</code> API </p>\n\n<pre><code> Integer[] ints = {0,1,2,3,4,5,6,7,8,9};\n IntStream.range(0, ints.length).filter(i -&gt;  i % 2 == 0).forEach(i -&gt; System.out.println(ints[i]));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8088668,"reputation":41,"user_id":6095353,"display_name":"Noah"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1480609911,"creation_date":1480609911,"answer_id":40915748,"question_id":40915324,"body_markdown":"I assume this would be sufficient\r\n\r\n    \r\n    // For loop to search array\r\n    for (int i = 0; i &lt; array.length; i++) {\r\n\r\n      // If to validate that the index is divisible by 2\r\n      if (i % 2 == 0) {\r\n      System.out.print(array[i]);\r\n      }\r\n    }","title":"How to print out even-numbered indexes for arrays in Java?","body":"<p>I assume this would be sufficient</p>\n\n<pre><code>// For loop to search array\nfor (int i = 0; i &lt; array.length; i++) {\n\n  // If to validate that the index is divisible by 2\n  if (i % 2 == 0) {\n  System.out.print(array[i]);\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9762418,"reputation":87,"user_id":7237110,"accept_rate":100,"display_name":"theredfox24"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1480612276,"creation_date":1480612276,"answer_id":40916493,"question_id":40915324,"body_markdown":"This is what I did and it works:also I am not printing out index[0] because technically its not even thats why I started the for loop at 2. Your post did help me a lot. I also thank everyone else as well that took the time to post an answer.\r\n\r\n    \r\n    import java.util.Scanner;\r\n\r\n\r\n\r\n    public class Arrayevenindex \r\n    {\r\n\tpublic static void main(String[] args)\r\n\t{\r\n\t\tint number;  // variable that will represent how many elements the user wants the array to have\r\n\t\t\r\n\t\t\r\n\t\tScanner key = new Scanner(System.in);\r\n\t\t\r\n\t\tSystem.out.println(&quot; How many elements would you like your array to have&quot;);\r\n\t\tnumber = key.nextInt();\r\n\t\tint [] array = new int [number];\r\n\t\t\r\n\t\t\r\n\t// let the user enter the values of the array.\t\r\n\tfor ( int index = 0; index &lt; number; index ++) \r\n    {\r\n     System.out.print(&quot; Value&quot; + (index+1) + &quot; :&quot;);\r\n     array[index] = key.nextInt();\r\n\t \r\n\r\n     \r\n    }\r\n\t// Print out the even indexes \r\n\tSystem.out.println(&quot;/nI am now going to print out the even indexes&quot;);\r\n\tfor ( int index = 2; index &lt; array.length; index +=2) \r\n    {\r\n\t\t\r\n\t\tSystem.out.print(array[index] + &quot; &quot;);\r\n\t \r\n\r\n     \r\n    }\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n}\r\n\r\n\r\n","title":"How to print out even-numbered indexes for arrays in Java?","body":"<p>This is what I did and it works:also I am not printing out index[0] because technically its not even thats why I started the for loop at 2. Your post did help me a lot. I also thank everyone else as well that took the time to post an answer.</p>\n\n<pre><code>import java.util.Scanner;\n\n\n\npublic class Arrayevenindex \n{\npublic static void main(String[] args)\n{\n    int number;  // variable that will represent how many elements the user wants the array to have\n\n\n    Scanner key = new Scanner(System.in);\n\n    System.out.println(\" How many elements would you like your array to have\");\n    number = key.nextInt();\n    int [] array = new int [number];\n\n\n// let the user enter the values of the array.  \nfor ( int index = 0; index &lt; number; index ++) \n{\n System.out.print(\" Value\" + (index+1) + \" :\");\n array[index] = key.nextInt();\n\n\n\n}\n// Print out the even indexes \nSystem.out.println(\"/nI am now going to print out the even indexes\");\nfor ( int index = 2; index &lt; array.length; index +=2) \n{\n\n    System.out.print(array[index] + \" \");\n\n\n\n}\n\n    }\n</code></pre>\n\n<p>}</p>\n"}],"owner":{"account_id":9762418,"reputation":87,"user_id":7237110,"accept_rate":100,"display_name":"theredfox24"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15239,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":40915360,"answer_count":4,"score":1,"last_activity_date":1670851241,"creation_date":1480608560,"question_id":40915324,"body_markdown":"I&#39;m supposed to write a program using for loops that print out the even indexes of my array. For example, if I create an array that has 10 numbers, it will have indexes from 0-9 so in that case I would print out the numbers at index 2, 4, 6 and 8. This is what I wrote so far but it doesn&#39;t work. Please note that I am not trying to print out the even numbers of the array. All I want are the even indexes.\r\n\r\nExample I enter the following array: `3,7,5,5,5,7,7,9,9,3`\r\n\r\nProgram output:\r\n\r\n    5 // (the number at index 2)\r\n    5 // (the number at index 4)\r\n    7 // (the number at index 6)\r\n    9 // (the number at index 8)\r\n\r\nMy Code:\r\n\r\n    public class Arrayevenindex \r\n    {\r\n    \tpublic static void main(String[] args)\r\n    \t{\r\n    \t\tint number; // variable that will represent how many elements the user wants the array to have\r\n    \r\n    \t\tScanner key = new Scanner(System.in);\r\n    \r\n    \t\tSystem.out.println(&quot; How many elements would you like your array to have&quot;);\r\n    \t\tnumber = key.nextInt();\r\n    \t\tint [] array = new int [number];\r\n    \r\n    \t\t// let the user enter the values of the array.  \r\n    \t\tfor (int index = 0; index &lt; number; index ++) \r\n    \t\t{\r\n    \t\t\tSystem.out.print(&quot; Value&quot; + (index+1) + &quot; :&quot;);\r\n    \t\t\tarray[index] = key.nextInt();\r\n    \t\t}\r\n    \t\t// Print out the even indexes \r\n    \t\tSystem.out.println(&quot;/nI am now going to print out the even indexes&quot;);\r\n    \t\tfor (int index = 0; index &lt; array.length; index ++) \r\n    \t\t{\r\n    \t\t\tif (array[number+1]%2==0)\r\n    \t\t\t\tSystem.out.print(array[number]);\r\n    \t\t}\r\n    \t}\r\n    }","title":"How to print out even-numbered indexes for arrays in Java?","body":"<p>I'm supposed to write a program using for loops that print out the even indexes of my array. For example, if I create an array that has 10 numbers, it will have indexes from 0-9 so in that case I would print out the numbers at index 2, 4, 6 and 8. This is what I wrote so far but it doesn't work. Please note that I am not trying to print out the even numbers of the array. All I want are the even indexes.</p>\n\n<p>Example I enter the following array: <code>3,7,5,5,5,7,7,9,9,3</code></p>\n\n<p>Program output:</p>\n\n<pre><code>5 // (the number at index 2)\n5 // (the number at index 4)\n7 // (the number at index 6)\n9 // (the number at index 8)\n</code></pre>\n\n<p>My Code:</p>\n\n<pre><code>public class Arrayevenindex \n{\n    public static void main(String[] args)\n    {\n        int number; // variable that will represent how many elements the user wants the array to have\n\n        Scanner key = new Scanner(System.in);\n\n        System.out.println(\" How many elements would you like your array to have\");\n        number = key.nextInt();\n        int [] array = new int [number];\n\n        // let the user enter the values of the array.  \n        for (int index = 0; index &lt; number; index ++) \n        {\n            System.out.print(\" Value\" + (index+1) + \" :\");\n            array[index] = key.nextInt();\n        }\n        // Print out the even indexes \n        System.out.println(\"/nI am now going to print out the even indexes\");\n        for (int index = 0; index &lt; array.length; index ++) \n        {\n            if (array[number+1]%2==0)\n                System.out.print(array[number]);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","interpolation"],"comments":[{"owner":{"account_id":13203350,"reputation":868,"user_id":9535950,"display_name":"Thomas Behr"},"score":0,"creation_date":1670757708,"post_id":74760288,"comment_id":131942886,"body_markdown":"Please edit your question to explain in detail what your `split`method should do. Your description does not explain the criterion for calculating the index `split` should return. Are you maybe trying to implement binary search?","body":"Please edit your question to explain in detail what your <code>split</code>method should do. Your description does not explain the criterion for calculating the index <code>split</code> should return. Are you maybe trying to implement binary search?"},{"owner":{"account_id":27217972,"reputation":7,"user_id":20747717,"display_name":"Valerij"},"score":0,"creation_date":1670758529,"post_id":74760288,"comment_id":131943009,"body_markdown":"Hey, I edited my question.  The split method should find the Index where to split -&gt; that is the difference between binary search and interpolation search","body":"Hey, I edited my question.  The split method should find the Index where to split -&gt; that is the difference between binary search and interpolation search"},{"owner":{"account_id":13203350,"reputation":868,"user_id":9535950,"display_name":"Thomas Behr"},"score":0,"creation_date":1670759688,"post_id":74760288,"comment_id":131943213,"body_markdown":"@Valerij You already wrote that &quot;the split method should find the index where to split&quot;. That description does not explain how to calculate that index.","body":"@Valerij You already wrote that &quot;the split method should find the index where to split&quot;. That description does not explain how to calculate that index."}],"answers":[{"comments":[{"owner":{"account_id":27217972,"reputation":7,"user_id":20747717,"display_name":"Valerij"},"score":0,"creation_date":1670775371,"post_id":74761459,"comment_id":131946329,"body_markdown":"Hey thank you very much. I found it difficult to understand when you wrote that line &quot;array[i - 1]&quot;. Especially why i - 1. but now I understand it. But I would not to come to this alone","body":"Hey thank you very much. I found it difficult to understand when you wrote that line &quot;array[i - 1]&quot;. Especially why i - 1. but now I understand it. But I would not to come to this alone"},{"owner":{"account_id":27217972,"reputation":7,"user_id":20747717,"display_name":"Valerij"},"score":0,"creation_date":1670775502,"post_id":74761459,"comment_id":131946372,"body_markdown":"Perhaps you laughing but it was mind-blowing to me. I never thought that way","body":"Perhaps you laughing but it was mind-blowing to me. I never thought that way"}],"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670768098,"creation_date":1670767395,"answer_id":74761459,"question_id":74760288,"body_markdown":"Apart from the [comment](https://stackoverflow.com/questions/74760288/the-output-of-my-interpolation-search-is-wrong-why#comment131943208_74760288), by @user16320675, to your question, your initialization is wrong.\r\n\r\nThe first [command-line] argument is the value of `wantedValue`. The remaining [command-line] arguments are the elements of `array`.\r\n\r\nAlso, `leftBoundary` should be 0 (zero) and not 1 (one) since you probably want to search the whole array.\r\n\r\nConsider the following code:\r\n```java\r\npublic class Search {\r\n\r\n    private static int split(int[] haystack, int needle, int left, int right) {\r\n        if (haystack[right] == haystack[left]) {\r\n            return left;\r\n        }\r\n        else {\r\n            return (int) (left + ((double) (needle - haystack[left]) / (haystack[right] - haystack[left])) * (right - left));\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        int[] array = new int[args.length - 1];\r\n        int leftBoundary = 0;\r\n        int rightBoundary = array.length - 1;\r\n        int wantedValue = Integer.parseInt(args[0]);\r\n        for (int i = 1; i &lt; args.length; i++) {\r\n            array[i - 1] = Integer.parseInt(args[i]);\r\n        }\r\n        int splitAtIndex = split(array, wantedValue, leftBoundary, rightBoundary);\r\n        System.out.println(splitAtIndex);\r\n    }\r\n}\r\n```\r\nI removed the `import` statement since `Scanner` is not used. I also removed method `search` since it is never called.\r\n\r\nIf I run the above code using your example [command-line] arguments, i.e.\r\n```none\r\n4 1 2 3 4 5 6\r\n```\r\nthen method `search` returns 3 &amp;mdash; which is the index of the searched-for element in the array since 4 is the searched-for value and the array contains the numbers 1 to 6 (inclusive).\r\n\r\nOf-course, the array being searched must be sorted.\r\n\r\nNote that if the searched-for value is smaller than the first array element, i.e. the element at index 0 (zero), method `search` will return -1 (minus one) and if the searched-for value is greater than the last element in the array, method `search` will return the array length. Hence you can determine whether the searched-for value is not found in the array.\r\n\r\nIf the [command-line] arguments are:\r\n```none\r\n4 1 2 3 5 6\r\n```\r\nthen method `search` returns 2. Note that the searched-for value, i.e. 4, is **not** in the array.\r\n\r\nIt is probably also a good idea to check the parameters of method `search`, i.e. that `right` should **not** be less than `left` and that `haystack` contains at least one element.\r\n","title":"the output of my Interpolation search is wrong, why?","body":"<p>Apart from the <a href=\"https://stackoverflow.com/questions/74760288/the-output-of-my-interpolation-search-is-wrong-why#comment131943208_74760288\">comment</a>, by @user16320675, to your question, your initialization is wrong.</p>\n<p>The first [command-line] argument is the value of <code>wantedValue</code>. The remaining [command-line] arguments are the elements of <code>array</code>.</p>\n<p>Also, <code>leftBoundary</code> should be 0 (zero) and not 1 (one) since you probably want to search the whole array.</p>\n<p>Consider the following code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Search {\n\n    private static int split(int[] haystack, int needle, int left, int right) {\n        if (haystack[right] == haystack[left]) {\n            return left;\n        }\n        else {\n            return (int) (left + ((double) (needle - haystack[left]) / (haystack[right] - haystack[left])) * (right - left));\n        }\n    }\n\n    public static void main(String[] args) {\n        int[] array = new int[args.length - 1];\n        int leftBoundary = 0;\n        int rightBoundary = array.length - 1;\n        int wantedValue = Integer.parseInt(args[0]);\n        for (int i = 1; i &lt; args.length; i++) {\n            array[i - 1] = Integer.parseInt(args[i]);\n        }\n        int splitAtIndex = split(array, wantedValue, leftBoundary, rightBoundary);\n        System.out.println(splitAtIndex);\n    }\n}\n</code></pre>\n<p>I removed the <code>import</code> statement since <code>Scanner</code> is not used. I also removed method <code>search</code> since it is never called.</p>\n<p>If I run the above code using your example [command-line] arguments, i.e.</p>\n<pre class=\"lang-none prettyprint-override\"><code>4 1 2 3 4 5 6\n</code></pre>\n<p>then method <code>search</code> returns 3 — which is the index of the searched-for element in the array since 4 is the searched-for value and the array contains the numbers 1 to 6 (inclusive).</p>\n<p>Of-course, the array being searched must be sorted.</p>\n<p>Note that if the searched-for value is smaller than the first array element, i.e. the element at index 0 (zero), method <code>search</code> will return -1 (minus one) and if the searched-for value is greater than the last element in the array, method <code>search</code> will return the array length. Hence you can determine whether the searched-for value is not found in the array.</p>\n<p>If the [command-line] arguments are:</p>\n<pre class=\"lang-none prettyprint-override\"><code>4 1 2 3 5 6\n</code></pre>\n<p>then method <code>search</code> returns 2. Note that the searched-for value, i.e. 4, is <strong>not</strong> in the array.</p>\n<p>It is probably also a good idea to check the parameters of method <code>search</code>, i.e. that <code>right</code> should <strong>not</strong> be less than <code>left</code> and that <code>haystack</code> contains at least one element.</p>\n"}],"owner":{"account_id":27217972,"reputation":7,"user_id":20747717,"display_name":"Valerij"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74761459,"answer_count":1,"score":0,"last_activity_date":1670851208,"creation_date":1670757017,"question_id":74760288,"body_markdown":"I have to write a Program which is called &quot;Interpolation search&quot;. I came so far but now I am stuck and can&#180;t find the error in my code.\r\nThe method split() makes a problem. This method should give me the index to split. I just typed the formula in this method. Now the big problem is, I every time get 1 as an output which is always the &quot;leftBoundary&quot;. For example, I write in my terminal java Search 4 1 2 3 4 5 6 then I get every time 1. Why? what is wrong?\r\n\r\nedit: \r\nI was asked to explain what the split method does in Detail:\r\nThis method uses the formula (look at added picture) to determine where to split the (sorted) array and returns the corresponding index.\r\nIn the picture: v = wantedValue, l = leftBoundary, r = rightBoundary\r\n[enter image description here][1]\r\n\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class Search {\r\n\r\n    // This method uses the formula (look at added picture) to determine where to split the (sorted) array and returns the corresponding index.\r\n    private static int split(int[] haystack, int needle, int left, int right) {\r\n        if(haystack[right] == haystack[left]) {\r\n            return left;\r\n        }else {\r\n        needle = left + ((needle - haystack[left]) / (haystack[right] - haystack[left])) * (right - left);\r\n        return needle;\r\n        }\r\n    }\r\n    private static int search(int[] haystack, int needle) {\r\n\r\n        return -1;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n\r\n        int[] array = new int[args.length];\r\n        int leftBoundary = 1;\r\n        int rightBoundary = array.length - 1;\r\n        int wantedValue = Integer.parseInt(args[0]);\r\n\r\n\r\n        for(int i = 1; i &lt; args.length; i++) {\r\n           array[i] = Integer.parseInt(args[i]);\r\n        }\r\n\r\n         int splitAtIndex = split(array, wantedValue, leftBoundary, rightBoundary);\r\n         System.out.println(splitAtIndex);\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nI tried to debug but with no success and also searched  here on stackoverflow. Many have question to interpolation search, but the answers are complex and unfortunately do not explain the exact problem I have\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0Qmlb.jpg","title":"the output of my Interpolation search is wrong, why?","body":"<p>I have to write a Program which is called &quot;Interpolation search&quot;. I came so far but now I am stuck and can´t find the error in my code.\nThe method split() makes a problem. This method should give me the index to split. I just typed the formula in this method. Now the big problem is, I every time get 1 as an output which is always the &quot;leftBoundary&quot;. For example, I write in my terminal java Search 4 1 2 3 4 5 6 then I get every time 1. Why? what is wrong?</p>\n<p>edit:\nI was asked to explain what the split method does in Detail:\nThis method uses the formula (look at added picture) to determine where to split the (sorted) array and returns the corresponding index.\nIn the picture: v = wantedValue, l = leftBoundary, r = rightBoundary\n<a href=\"https://i.stack.imgur.com/0Qmlb.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<pre><code>import java.util.Scanner;\n\npublic class Search {\n\n    // This method uses the formula (look at added picture) to determine where to split the (sorted) array and returns the corresponding index.\n    private static int split(int[] haystack, int needle, int left, int right) {\n        if(haystack[right] == haystack[left]) {\n            return left;\n        }else {\n        needle = left + ((needle - haystack[left]) / (haystack[right] - haystack[left])) * (right - left);\n        return needle;\n        }\n    }\n    private static int search(int[] haystack, int needle) {\n\n        return -1;\n    }\n\n    public static void main(String[] args) {\n\n        int[] array = new int[args.length];\n        int leftBoundary = 1;\n        int rightBoundary = array.length - 1;\n        int wantedValue = Integer.parseInt(args[0]);\n\n\n        for(int i = 1; i &lt; args.length; i++) {\n           array[i] = Integer.parseInt(args[i]);\n        }\n\n         int splitAtIndex = split(array, wantedValue, leftBoundary, rightBoundary);\n         System.out.println(splitAtIndex);\n    }\n}\n</code></pre>\n<p>I tried to debug but with no success and also searched  here on stackoverflow. Many have question to interpolation search, but the answers are complex and unfortunately do not explain the exact problem I have</p>\n"},{"tags":["java","jar","gps"],"answers":[{"comments":[{"owner":{"account_id":5642029,"reputation":386,"user_id":4465541,"accept_rate":40,"display_name":"crAlexander"},"score":0,"creation_date":1425148685,"post_id":28785310,"comment_id":45846926,"body_markdown":"Hey man be more specific.Run this code from cmd? If it&#39;s easy for you give some more iformation in the example.It will be usefull a link.What it aux and grep?","body":"Hey man be more specific.Run this code from cmd? If it&#39;s easy for you give some more iformation in the example.It will be usefull a link.What it aux and grep?"},{"owner":{"account_id":3244224,"reputation":973,"user_id":2736316,"display_name":"DMP"},"score":0,"creation_date":1425149020,"post_id":28785310,"comment_id":45847028,"body_markdown":"@crAlex This is for a *nix system, not windows.","body":"@crAlex This is for a *nix system, not windows."}],"tags":[],"owner":{"account_id":5218681,"reputation":1200,"user_id":4172762,"accept_rate":44,"display_name":"Sireesh Vattikuti"},"comment_count":2,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1425148340,"creation_date":1425148340,"answer_id":28785310,"question_id":28785141,"body_markdown":"use this command to check the jar is running or not.  \r\n    \r\n    ps aux | grep java\r\n\r\neg:\r\n\r\nsys_name 7526 60.1  2.6 4474364 104092 pts/4  Sl+  23:57   0:09 java -jar start.jar","title":"How to know if a jar file is already running?","body":"<p>use this command to check the jar is running or not.  </p>\n\n<pre><code>ps aux | grep java\n</code></pre>\n\n<p>eg:</p>\n\n<p>sys_name 7526 60.1  2.6 4474364 104092 pts/4  Sl+  23:57   0:09 java -jar start.jar</p>\n"},{"comments":[{"owner":{"account_id":3244224,"reputation":973,"user_id":2736316,"display_name":"DMP"},"score":0,"creation_date":1425150308,"post_id":28785476,"comment_id":45847433,"body_markdown":"@crAlex Yes this is done from cmd and uses built it tools. There is no 100% platform independent solution that uses all built in tools. You can combine the two answers putting my answer in a batch file for windows and the other answer in a shell script for every other operating system.","body":"@crAlex Yes this is done from cmd and uses built it tools. There is no 100% platform independent solution that uses all built in tools. You can combine the two answers putting my answer in a batch file for windows and the other answer in a shell script for every other operating system."},{"owner":{"account_id":5642029,"reputation":386,"user_id":4465541,"accept_rate":40,"display_name":"crAlexander"},"score":0,"creation_date":1425150488,"post_id":28785476,"comment_id":45847501,"body_markdown":"If it is easy for you give me a full example.ImageName = full path of jar? and what is eq?Thanks..","body":"If it is easy for you give me a full example.ImageName = full path of jar? and what is eq?Thanks.."},{"owner":{"account_id":3244224,"reputation":973,"user_id":2736316,"display_name":"DMP"},"score":0,"creation_date":1425150797,"post_id":28785476,"comment_id":45847601,"body_markdown":"@crAlex What I did was use tasklist(lists all running programs) with a few options: /v means verbose so you can see some extra info. /fi means filter, the quotes are the filter. &quot;IMAGENAME eq java.exe&quot; is the filter, it checks the image name or program name to see if it is equal(eq) to java, which is what you are looking for. Put that together: list all running programs with extra verbosity and only if the program is Java.","body":"@crAlex What I did was use tasklist(lists all running programs) with a few options: /v means verbose so you can see some extra info. /fi means filter, the quotes are the filter. &quot;IMAGENAME eq java.exe&quot; is the filter, it checks the image name or program name to see if it is equal(eq) to java, which is what you are looking for. Put that together: list all running programs with extra verbosity and only if the program is Java."},{"owner":{"account_id":5642029,"reputation":386,"user_id":4465541,"accept_rate":40,"display_name":"crAlexander"},"score":0,"creation_date":1425516925,"post_id":28785476,"comment_id":46000613,"body_markdown":"i try your code but i get (Not tasks are running which match the specified criteria) I run the same time one jar file to be soore that at least one jar file is running under java.exe.Why this happens?","body":"i try your code but i get (Not tasks are running which match the specified criteria) I run the same time one jar file to be soore that at least one jar file is running under java.exe.Why this happens?"}],"tags":[],"owner":{"account_id":3244224,"reputation":973,"user_id":2736316,"display_name":"DMP"},"comment_count":4,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1425149393,"creation_date":1425149393,"answer_id":28785476,"question_id":28785141,"body_markdown":"You can us `ps` and `grep` on a *nix system as described above. For windows you can do:\n\n    tasklist /v /FI &quot;IMAGENAME eq java.exe&quot;\nThis will get you a list of all the Java programs running. I don&#39;t think you can get much closer on Windows.","title":"How to know if a jar file is already running?","body":"<p>You can us <code>ps</code> and <code>grep</code> on a *nix system as described above. For windows you can do:</p>\n\n<pre><code>tasklist /v /FI \"IMAGENAME eq java.exe\"\n</code></pre>\n\n<p>This will get you a list of all the Java programs running. I don't think you can get much closer on Windows.</p>\n"},{"comments":[{"owner":{"account_id":7921096,"reputation":4183,"user_id":6036546,"display_name":"Besworks"},"score":0,"creation_date":1654550982,"post_id":72499455,"comment_id":128113033,"body_markdown":"It&#39;s not clear what you mean by &quot;test out the cmd line&quot;. Please elaborate.","body":"It&#39;s not clear what you mean by &quot;test out the cmd line&quot;. Please elaborate."}],"tags":[],"owner":{"account_id":25472112,"reputation":1,"user_id":19270121,"display_name":"MaximoC"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654550894,"creation_date":1654342951,"answer_id":72499455,"question_id":28785141,"body_markdown":"To test this, pick a `.exe` file you see running in Task Manager and test out the `cmd` line.\r\n\r\nIf you see the following output :\r\n\r\n&gt; No tasks are running which match the specified criteria\r\n\r\nThat means there is no task running equal to `java.exe`.","title":"How to know if a jar file is already running?","body":"<p>To test this, pick a <code>.exe</code> file you see running in Task Manager and test out the <code>cmd</code> line.</p>\n<p>If you see the following output :</p>\n<blockquote>\n<p>No tasks are running which match the specified criteria</p>\n</blockquote>\n<p>That means there is no task running equal to <code>java.exe</code>.</p>\n"},{"tags":[],"owner":{"account_id":26495771,"reputation":11,"user_id":20133559,"display_name":"Orlando Macias"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670850953,"creation_date":1670850400,"answer_id":74771554,"question_id":28785141,"body_markdown":"Use the following command:\r\n\r\n\r\n    ps aux | grep java","title":"How to know if a jar file is already running?","body":"<p>Use the following command:</p>\n<pre><code>ps aux | grep java\n</code></pre>\n"}],"owner":{"account_id":5642029,"reputation":386,"user_id":4465541,"accept_rate":40,"display_name":"crAlexander"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23692,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":4,"score":11,"last_activity_date":1670850953,"creation_date":1425147256,"question_id":28785141,"body_markdown":"After a research in google i found good answers like:\r\n\r\n1)using **jps** or **jps -l** to get the jars running under JVM\r\n\r\nOK with this answer but if the user has not java installed at all and i run my jar using for example a .bat file and a folder with java JRE.\r\n\r\nAlso gps function is experimental and only JDK contais it and not JRE.\r\n\r\n2)https://stackoverflow.com/questions/20168332/check-if-jar-running-from-shell\r\n\r\nI need a solution for this on windows platform.Although a platform indepedent solution is always prefferable.\r\n\r\nSomething more about jps(**cause it is Platform Independent**) I will appreciate an answer where you provide me a good solution with **jps** function.\r\n","title":"How to know if a jar file is already running?","body":"<p>After a research in google i found good answers like:</p>\n\n<p>1)using <strong>jps</strong> or <strong>jps -l</strong> to get the jars running under JVM</p>\n\n<p>OK with this answer but if the user has not java installed at all and i run my jar using for example a .bat file and a folder with java JRE.</p>\n\n<p>Also gps function is experimental and only JDK contais it and not JRE.</p>\n\n<p>2)<a href=\"https://stackoverflow.com/questions/20168332/check-if-jar-running-from-shell\">Check if jar running from shell</a></p>\n\n<p>I need a solution for this on windows platform.Although a platform indepedent solution is always prefferable.</p>\n\n<p>Something more about jps(<strong>cause it is Platform Independent</strong>) I will appreciate an answer where you provide me a good solution with <strong>jps</strong> function.</p>\n"},{"tags":["java","tomcat","server","tomcat9","tomcat-manager"],"owner":{"account_id":2684968,"reputation":5561,"user_id":2319542,"accept_rate":82,"display_name":"Sash_KP"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670850812,"creation_date":1670850812,"question_id":74771642,"body_markdown":"I have multiple services defined in server.xml and below is the one which i need to restart(stop and start again) using tomcat manager application/api. \r\n\r\n        &lt;Service name=&quot;myService&quot;&gt;\r\n        &lt;Executor name=&quot;myExecutorPool&quot; namePrefix=&quot;my-http-pool&quot;\r\n            maxThreads=&quot;10&quot; minSpareThreads=&quot;1&quot;/&gt;\r\n        &lt;Connector\r\n             port=&quot;8701&quot; protocol=&quot;org.apache.coyote.http11.Http11Nio2Protocol&quot; SSLEnabled=&quot;true&quot;\r\n             executor=&quot;myExecutorPool&quot;\r\n             maxSavePostSize=&quot;-1&quot;\r\n             scheme=&quot;https&quot; secure=&quot;true&quot;\r\n             enableLookups=&quot;false&quot; disableUploadTimeout=&quot;true&quot;\r\n             acceptCount=&quot;100&quot;\r\n             sslEnabledProtocols=&quot;${sslEnabledProtocolsMediumSecurity}&quot; server=&quot; &quot;\r\n             allowUnsafeLegacyRenegotiation=&quot;false&quot;\r\n             clientAuth=&quot;want&quot;\r\n             bindOnInit=&quot;false&quot;\r\n             URIEncoding=&quot;UTF-8&quot;\r\n             useBodyEncodingForURI=&quot;true&quot;\r\n             keystoreType=&quot;PKCS11&quot;\r\n             keyAlias=&quot;server&quot;\r\n             trustManagerClassName=&quot;com.example.com.myproj.cert.RestTrustManager&quot;\r\n             sendReasonPhrase=&quot;true&quot;\r\n             sslImplementationName=&quot;com.example.com.myproj.cert.MyProjImplementation&quot;\r\n             ciphers=&quot;${tls.ciphers}&quot;\r\n         /&gt;\r\n        &lt;Engine name=&quot;myEngine&quot; defaultHost=&quot;localhost&quot;&gt;\r\n          &lt;Valve className=&quot;org.apache.catalina.valves.MethodsValve&quot; methodsSupported=&quot;GET,POST,PUT,DELETE,HEAD&quot; /&gt;\r\n          &lt;Host name=&quot;localhost&quot;  appBase=&quot;mywebapp&quot;\r\n                unpackWARs=&quot;true&quot; autoDeploy=&quot;true&quot;\r\n                xmlValidation=&quot;false&quot; xmlNamespaceAware=&quot;false&quot;&gt;\r\n                &lt;Context path=&quot;&quot; docBase=&quot;../webapps/ROOT&quot; &gt;\r\n                  &lt;Valve className=&quot;org.apache.catalina.valves.RedirectValve&quot; sendToApp=&quot;/myapp/&quot; /&gt;\r\n                &lt;/Context&gt;\r\n          &lt;/Host&gt;\r\n        &lt;/Engine&gt;\r\n      &lt;/Service&gt;\r\n\r\nWhen i do `curl -username:password http://localhost:8080/manager/text/list` , i don&#39;t see this above service listed. It means i assume that, this service is not running as a separate service but contained inside appserver. \r\n\r\nSo i won&#39;t be able to do something like `http://localhost:8080/manager/text/reload?path=/myService`. \r\n\r\nCan you please help here, how do i stop/start (restart) this particular service using tomcat manager app? \r\n\r\nIf JMX can be used here, can you please provide any links/resources for the same mentioning how to do that?\r\n","title":"Stopping and starting a service present in server.xml using tomcat manager application/api (Single tomcat instance)","body":"<p>I have multiple services defined in server.xml and below is the one which i need to restart(stop and start again) using tomcat manager application/api.</p>\n<pre><code>    &lt;Service name=&quot;myService&quot;&gt;\n    &lt;Executor name=&quot;myExecutorPool&quot; namePrefix=&quot;my-http-pool&quot;\n        maxThreads=&quot;10&quot; minSpareThreads=&quot;1&quot;/&gt;\n    &lt;Connector\n         port=&quot;8701&quot; protocol=&quot;org.apache.coyote.http11.Http11Nio2Protocol&quot; SSLEnabled=&quot;true&quot;\n         executor=&quot;myExecutorPool&quot;\n         maxSavePostSize=&quot;-1&quot;\n         scheme=&quot;https&quot; secure=&quot;true&quot;\n         enableLookups=&quot;false&quot; disableUploadTimeout=&quot;true&quot;\n         acceptCount=&quot;100&quot;\n         sslEnabledProtocols=&quot;${sslEnabledProtocolsMediumSecurity}&quot; server=&quot; &quot;\n         allowUnsafeLegacyRenegotiation=&quot;false&quot;\n         clientAuth=&quot;want&quot;\n         bindOnInit=&quot;false&quot;\n         URIEncoding=&quot;UTF-8&quot;\n         useBodyEncodingForURI=&quot;true&quot;\n         keystoreType=&quot;PKCS11&quot;\n         keyAlias=&quot;server&quot;\n         trustManagerClassName=&quot;com.example.com.myproj.cert.RestTrustManager&quot;\n         sendReasonPhrase=&quot;true&quot;\n         sslImplementationName=&quot;com.example.com.myproj.cert.MyProjImplementation&quot;\n         ciphers=&quot;${tls.ciphers}&quot;\n     /&gt;\n    &lt;Engine name=&quot;myEngine&quot; defaultHost=&quot;localhost&quot;&gt;\n      &lt;Valve className=&quot;org.apache.catalina.valves.MethodsValve&quot; methodsSupported=&quot;GET,POST,PUT,DELETE,HEAD&quot; /&gt;\n      &lt;Host name=&quot;localhost&quot;  appBase=&quot;mywebapp&quot;\n            unpackWARs=&quot;true&quot; autoDeploy=&quot;true&quot;\n            xmlValidation=&quot;false&quot; xmlNamespaceAware=&quot;false&quot;&gt;\n            &lt;Context path=&quot;&quot; docBase=&quot;../webapps/ROOT&quot; &gt;\n              &lt;Valve className=&quot;org.apache.catalina.valves.RedirectValve&quot; sendToApp=&quot;/myapp/&quot; /&gt;\n            &lt;/Context&gt;\n      &lt;/Host&gt;\n    &lt;/Engine&gt;\n  &lt;/Service&gt;\n</code></pre>\n<p>When i do <code>curl -username:password http://localhost:8080/manager/text/list</code> , i don't see this above service listed. It means i assume that, this service is not running as a separate service but contained inside appserver.</p>\n<p>So i won't be able to do something like <code>http://localhost:8080/manager/text/reload?path=/myService</code>.</p>\n<p>Can you please help here, how do i stop/start (restart) this particular service using tomcat manager app?</p>\n<p>If JMX can be used here, can you please provide any links/resources for the same mentioning how to do that?</p>\n"},{"tags":["java","spring-boot","maven"],"owner":{"account_id":3847031,"reputation":584,"user_id":3188225,"display_name":"umunBeing"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":198,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1670850477,"creation_date":1670850477,"question_id":74771576,"body_markdown":"I have a Springboot multi-module maven project. \r\n\r\nNow I want to move one of the applications(module) to its own folder/project.\r\n\r\nSo far, \r\n\r\n1. I created a new folder with its POM.xml\r\n2. Copied my intended module to it, and made it a child module of the project&#39;s pom.\r\n3. In my original project I ran `mvn package` to create jars of all the modules.\r\n4. Copied these jars to a folder (./repo) inside the new project.\r\n\r\nBut now, I am unable to import dependencies from these JARs.\r\n\r\nI have added this to the new project&#39;s POM\r\n\r\n```\r\n&lt;repositories&gt;\r\n  &lt;repository&gt;\r\n    &lt;id&gt;data-local&lt;/id&gt;\r\n    &lt;name&gt;data&lt;/name&gt;\r\n    &lt;url&gt;file://${project.basedir}/repo&lt;/url&gt;\r\n  &lt;/repository&gt;\r\n&lt;/repositories&gt;\r\n```","title":"How to move one of the maven multi-module projects to its own directory?","body":"<p>I have a Springboot multi-module maven project.</p>\n<p>Now I want to move one of the applications(module) to its own folder/project.</p>\n<p>So far,</p>\n<ol>\n<li>I created a new folder with its POM.xml</li>\n<li>Copied my intended module to it, and made it a child module of the project's pom.</li>\n<li>In my original project I ran <code>mvn package</code> to create jars of all the modules.</li>\n<li>Copied these jars to a folder (./repo) inside the new project.</li>\n</ol>\n<p>But now, I am unable to import dependencies from these JARs.</p>\n<p>I have added this to the new project's POM</p>\n<pre><code>&lt;repositories&gt;\n  &lt;repository&gt;\n    &lt;id&gt;data-local&lt;/id&gt;\n    &lt;name&gt;data&lt;/name&gt;\n    &lt;url&gt;file://${project.basedir}/repo&lt;/url&gt;\n  &lt;/repository&gt;\n&lt;/repositories&gt;\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":0,"creation_date":1670773177,"post_id":74762064,"comment_id":131945830,"body_markdown":"you need to edit your question and post a [mcve] including errors.","body":"you need to edit your question and post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> including errors."}],"answers":[{"tags":[],"owner":{"account_id":27220217,"reputation":11,"user_id":20749626,"display_name":"h3y"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670850300,"creation_date":1670783039,"answer_id":74763395,"question_id":74762064,"body_markdown":"Make sure to review the documentation for [`HashMap`][0], the code snippets you included show that you aren&#39;t using the correct methods to retrieve key-mapped values. \r\n\r\nFrom your original code snippet, you are invoking Map.getClass().getName() to set your manufacturerPriceCode.\r\n\r\n```\r\nfor (ItemPriceCode ipcs : itemPriceCodes) {\r\n    ipcs.setManufacturerPriceCode(ipcToMFPNameMap.getClass().getName());\r\n}\r\n```\r\n\r\n[`getName`][1] is a method of the Java [`Class`][2] API. Invoking it returns the name of the Class entity.\r\n\r\nExamples: \r\n\r\n`String.class.getName()` returns &quot;java.lang.String&quot;\r\n\r\n`byte.class.getName()` returns &quot;byte&quot; \r\n\r\nThis causes your manufacturerPriceCode to be set to &quot;java.util.HashMap&quot;.\r\n\r\nIn your second snippet, you changed your code to:\r\n\r\n```\r\nfor (ItemPriceCode ipcs : itemPriceCodes) {\r\n    String manufacturePriceCode =ipcToMFPNameMap.get(priceCode).getName();\r\n    ipcs.setManufacturerPriceCode(manufacturePriceCode);\r\n}\r\n```\r\n\r\nThis will create a compile time error due to `ipcToMFPNameMap.get(priceCode).getName();` as `getName()` is invalid here.\r\n\r\nTo return key-mapped values in HashMap, simply use `get()`.\r\n\r\n```\r\nfor (ItemPriceCode ipcs : itemPriceCodes) \r\n    ipcs.setManufacturerPriceCode(ipcToMFPNameMap.get(icps)); \r\n```\r\n\r\n\r\n[0]: https://docs.oracle.com/javase/8/docs/api/java/util/HashMap.html\r\n\r\n[1]: https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#getName--\r\n\r\n[2]: https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html","title":"How to get particular field value from map object using java","body":"<p>Make sure to review the documentation for <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/HashMap.html\" rel=\"nofollow noreferrer\"><code>HashMap</code></a>, the code snippets you included show that you aren't using the correct methods to retrieve key-mapped values.</p>\n<p>From your original code snippet, you are invoking Map.getClass().getName() to set your manufacturerPriceCode.</p>\n<pre><code>for (ItemPriceCode ipcs : itemPriceCodes) {\n    ipcs.setManufacturerPriceCode(ipcToMFPNameMap.getClass().getName());\n}\n</code></pre>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html#getName--\" rel=\"nofollow noreferrer\"><code>getName</code></a> is a method of the Java <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Class.html\" rel=\"nofollow noreferrer\"><code>Class</code></a> API. Invoking it returns the name of the Class entity.</p>\n<p>Examples:</p>\n<p><code>String.class.getName()</code> returns &quot;java.lang.String&quot;</p>\n<p><code>byte.class.getName()</code> returns &quot;byte&quot;</p>\n<p>This causes your manufacturerPriceCode to be set to &quot;java.util.HashMap&quot;.</p>\n<p>In your second snippet, you changed your code to:</p>\n<pre><code>for (ItemPriceCode ipcs : itemPriceCodes) {\n    String manufacturePriceCode =ipcToMFPNameMap.get(priceCode).getName();\n    ipcs.setManufacturerPriceCode(manufacturePriceCode);\n}\n</code></pre>\n<p>This will create a compile time error due to <code>ipcToMFPNameMap.get(priceCode).getName();</code> as <code>getName()</code> is invalid here.</p>\n<p>To return key-mapped values in HashMap, simply use <code>get()</code>.</p>\n<pre><code>for (ItemPriceCode ipcs : itemPriceCodes) \n    ipcs.setManufacturerPriceCode(ipcToMFPNameMap.get(icps)); \n</code></pre>\n"}],"owner":{"display_name":"user20714961"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":366,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670850300,"creation_date":1670772511,"question_id":74762064,"body_markdown":"I have a map object and it contains manufacture Price code as a string value. When I try to get manufacture price code value from map object, it gives me &quot;java.util.HashMap&quot;, but I want it to give me manufacture price code value. For your reference, I posted the code I tried for this issue\r\n\r\n```java\r\nprivate Item getItemManufacturerPriceCodes(Item item) {\r\n    List&lt;ItemPriceCode&gt; itemPriceCodes = item.getItemPriceCodes();\r\n    List&lt;String&gt; priceCodeList = new ArrayList&lt;String&gt;();\r\n    for (ItemPriceCode ipc : itemPriceCodes) {\r\n        //get the string value from the list\r\n        priceCodeList.add(ipc.getPriceCode());\r\n    }\r\n    //pass this string value in query\r\n    List&lt;ManufacturerPriceCodes&gt;mpc = manufacturerPriceCodesRepository.\r\n             findByManufacturerIDAndPriceCodeInAndRecordDeleted(item.getManufacturerID(),priceCodeList,NOT_DELETED);\r\n      \r\n    //Convert list to map\r\n    Map&lt;String, ManufacturerPriceCodes&gt; ipcToMFPNameMap = mpc.stream().collect(\r\n            Collectors.toMap(ManufacturerPriceCodes :: getPriceCode,Function.identity()));// Object\r\n\r\n     for (ItemPriceCode ipcs : itemPriceCodes) {\r\n         ipcs.setManufacturerPriceCode(ipcToMFPNameMap.getClass().getName());\r\n     }\r\n     item.getItemPriceCodes()\r\n             .removeIf(ipcs -&gt; DELETED.equals(ipcs.getRecordDeleted()));\r\n     return item;      \r\n}\r\n```\r\n\r\nI get this type of result.\r\n\r\n[![enter image description here](https://i.stack.imgur.com/ePnOG.png)](https://i.stack.imgur.com/ePnOG.png)\r\n\r\nI want this type of result\r\n\r\n[![enter image description here](https://i.stack.imgur.com/2ltET.png)](https://i.stack.imgur.com/2ltET.png)\r\n\r\nI get an error at this point\r\n\r\n```\r\nfor (ItemPriceCode ipcs : itemPriceCodes) {\r\n    String manufacturePriceCode =ipcToMFPNameMap.get(priceCode).getName();\r\n    ipcs.setManufacturerPriceCode(manufacturePriceCode);\r\n}\r\n```\r\n\r\nHow to get manufacture Price code from my map object, `ipcToMFPNameMa`?","title":"How to get particular field value from map object using java","body":"<p>I have a map object and it contains manufacture Price code as a string value. When I try to get manufacture price code value from map object, it gives me &quot;java.util.HashMap&quot;, but I want it to give me manufacture price code value. For your reference, I posted the code I tried for this issue</p>\n<pre class=\"lang-java prettyprint-override\"><code>private Item getItemManufacturerPriceCodes(Item item) {\n    List&lt;ItemPriceCode&gt; itemPriceCodes = item.getItemPriceCodes();\n    List&lt;String&gt; priceCodeList = new ArrayList&lt;String&gt;();\n    for (ItemPriceCode ipc : itemPriceCodes) {\n        //get the string value from the list\n        priceCodeList.add(ipc.getPriceCode());\n    }\n    //pass this string value in query\n    List&lt;ManufacturerPriceCodes&gt;mpc = manufacturerPriceCodesRepository.\n             findByManufacturerIDAndPriceCodeInAndRecordDeleted(item.getManufacturerID(),priceCodeList,NOT_DELETED);\n      \n    //Convert list to map\n    Map&lt;String, ManufacturerPriceCodes&gt; ipcToMFPNameMap = mpc.stream().collect(\n            Collectors.toMap(ManufacturerPriceCodes :: getPriceCode,Function.identity()));// Object\n\n     for (ItemPriceCode ipcs : itemPriceCodes) {\n         ipcs.setManufacturerPriceCode(ipcToMFPNameMap.getClass().getName());\n     }\n     item.getItemPriceCodes()\n             .removeIf(ipcs -&gt; DELETED.equals(ipcs.getRecordDeleted()));\n     return item;      \n}\n</code></pre>\n<p>I get this type of result.</p>\n<p><a href=\"https://i.stack.imgur.com/ePnOG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ePnOG.png\" alt=\"enter image description here\" /></a></p>\n<p>I want this type of result</p>\n<p><a href=\"https://i.stack.imgur.com/2ltET.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2ltET.png\" alt=\"enter image description here\" /></a></p>\n<p>I get an error at this point</p>\n<pre><code>for (ItemPriceCode ipcs : itemPriceCodes) {\n    String manufacturePriceCode =ipcToMFPNameMap.get(priceCode).getName();\n    ipcs.setManufacturerPriceCode(manufacturePriceCode);\n}\n</code></pre>\n<p>How to get manufacture Price code from my map object, <code>ipcToMFPNameMa</code>?</p>\n"},{"tags":["java","android-studio","android-mediaplayer"],"owner":{"account_id":22988416,"reputation":30,"user_id":17114274,"display_name":"Nicolas Pellerin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670850069,"creation_date":1670850069,"question_id":74771504,"body_markdown":"I am not able to play a sound when it is the first time I pass it through the else if. If I remove the condition, there is not change at all. The code here works fine\r\n```         if (punchPlayerSound != null)\r\n                punchPlayerSound.start();\r\n\r\n        }\r\n        else if (dodgeCPUSound != null) {\r\n            dodgeCPUSound.start();\r\n        }\r\n```\r\nFor the set, only the fourth sound won&#39;t play the first time even if it value is not null\r\n```\r\n    public void setSounds(MediaPlayer dodgePlayerSound, MediaPlayer punchPlayerSound, MediaPlayer dodgeCPUSound, MediaPlayer punchCPUSound) {\r\n        this.dodgePlayerSound = dodgePlayerSound;\r\n        this.punchPlayerSound = punchPlayerSound;\r\n        this.dodgeCPUSound = dodgeCPUSound;\r\n        this.punchCPUSound = punchCPUSound;\r\n    }\r\n```","title":"Sound mediaPlayer not playing first time android studio","body":"<p>I am not able to play a sound when it is the first time I pass it through the else if. If I remove the condition, there is not change at all. The code here works fine</p>\n<pre><code>                punchPlayerSound.start();\n\n        }\n        else if (dodgeCPUSound != null) {\n            dodgeCPUSound.start();\n        }\n</code></pre>\n<p>For the set, only the fourth sound won't play the first time even if it value is not null</p>\n<pre><code>    public void setSounds(MediaPlayer dodgePlayerSound, MediaPlayer punchPlayerSound, MediaPlayer dodgeCPUSound, MediaPlayer punchCPUSound) {\n        this.dodgePlayerSound = dodgePlayerSound;\n        this.punchPlayerSound = punchPlayerSound;\n        this.dodgeCPUSound = dodgeCPUSound;\n        this.punchCPUSound = punchCPUSound;\n    }\n</code></pre>\n"},{"tags":["java","spring","cassandra","record","java-17"],"owner":{"account_id":12547942,"reputation":139,"user_id":9130606,"display_name":"Dmytro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1670849599,"creation_date":1670840024,"question_id":74769529,"body_markdown":"[![enter image description here](https://i.stack.imgur.com/5yPwR.png)](https://i.stack.imgur.com/5yPwR.png)\r\n\r\nI know that final class cannot be used for Hibernate Entity, but can it be used for cassandra?\r\n\r\n```java\r\n@Table(&quot;custom_table&quot;)\r\npublic record MyTable(\r\n  @PrimaryKey @Column(&quot;id&quot;) String id, \r\n  @Column(&quot;options&quot;) Options options) {\r\n\r\n}\r\n```\r\n","title":"Can I use Java 17 record with Cassandra table?","body":"<p><a href=\"https://i.stack.imgur.com/5yPwR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5yPwR.png\" alt=\"enter image description here\" /></a></p>\n<p>I know that final class cannot be used for Hibernate Entity, but can it be used for cassandra?</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Table(&quot;custom_table&quot;)\npublic record MyTable(\n  @PrimaryKey @Column(&quot;id&quot;) String id, \n  @Column(&quot;options&quot;) Options options) {\n\n}\n</code></pre>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1670849546,"post_id":74771337,"comment_id":131961148,"body_markdown":"You rely on each thread to finish their job before increasing the count, but what if the thread takes a bit longer to finish before the next one starts? By then the count might not have increased. Create a constructor for `SingleTasking` and pass the count there. Or better yet, pass the range for the thread to calculate. That way you reduce the amount of code","body":"You rely on each thread to finish their job before increasing the count, but what if the thread takes a bit longer to finish before the next one starts? By then the count might not have increased. Create a constructor for <code>SingleTasking</code> and pass the count there. Or better yet, pass the range for the thread to calculate. That way you reduce the amount of code"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1670850130,"post_id":74771337,"comment_id":131961343,"body_markdown":"And to ensure that each thread is finished, use `thread1.join();` for each one you create","body":"And to ensure that each thread is finished, use <code>thread1.join();</code> for each one you create"},{"owner":{"account_id":24385254,"reputation":1,"user_id":18316137,"display_name":"DEEPANSHU KUNAL"},"score":0,"creation_date":1670850491,"post_id":74771337,"comment_id":131961436,"body_markdown":"Hey @XtremeBaumer  thanks for your help but I have a doubt that isn&#39;t it the thread job to increase the count? or is it like that when one thread is started then JVM donot look for it to complete it just go to execute the next statements?","body":"Hey @XtremeBaumer  thanks for your help but I have a doubt that isn&#39;t it the thread job to increase the count? or is it like that when one thread is started then JVM donot look for it to complete it just go to execute the next statements?"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1670850612,"post_id":74771337,"comment_id":131961472,"body_markdown":"The main thread and every other thread you create are running separate from each other. You can add some `System.out.println()` statements in you main method and you will see that the main threads just starts the next threads. I mean how else would you run multiple threads at the same time, when the main thread has to wait for each sub thread to finish? Doesn&#39;t really make sense","body":"The main thread and every other thread you create are running separate from each other. You can add some <code>System.out.println()</code> statements in you main method and you will see that the main threads just starts the next threads. I mean how else would you run multiple threads at the same time, when the main thread has to wait for each sub thread to finish? Doesn&#39;t really make sense"},{"owner":{"account_id":24385254,"reputation":1,"user_id":18316137,"display_name":"DEEPANSHU KUNAL"},"score":0,"creation_date":1670850751,"post_id":74771337,"comment_id":131961510,"body_markdown":"@XtremeBaumer And if that is the case then why didnot the stop() method work before starting the next thread. When I am stopping the thread before starting the next thread then the result donot show even wrong sum.","body":"@XtremeBaumer And if that is the case then why didnot the stop() method work before starting the next thread. When I am stopping the thread before starting the next thread then the result donot show even wrong sum."},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1670850839,"post_id":74771337,"comment_id":131961549,"body_markdown":"`Deprecated.  This method is inherently unsafe. Stopping a thread withThread.stop causes it to unlock all of the monitors that ithas locked (as a natural consequence of the unchecked ThreadDeath exception propagating up the stack). Ifany of the objects previously protected by these monitors were inan inconsistent state, the damaged objects become visible toother threads, potentially resulting in arbitrary behavior. Manyuses of stop should be replaced by code that simplymodifies some variable to indicate that the target thread shouldstop running.`","body":"<code>Deprecated.  This method is inherently unsafe. Stopping a thread withThread.stop causes it to unlock all of the monitors that ithas locked (as a natural consequence of the unchecked ThreadDeath exception propagating up the stack). Ifany of the objects previously protected by these monitors were inan inconsistent state, the damaged objects become visible toother threads, potentially resulting in arbitrary behavior. Manyuses of stop should be replaced by code that simplymodifies some variable to indicate that the target thread shouldstop running.</code>"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1670850845,"post_id":74771337,"comment_id":131961551,"body_markdown":"`The target thread should check this variableregularly, and return from its run method in an orderly fashionif the variable indicates that it is to stop running. If thetarget thread waits for long periods (on a condition variable,for example), the interrupt method should be used tointerrupt the wait.For more information, see Whyare Thread.stop, Thread.suspend and Thread.resume Deprecated?`","body":"<code>The target thread should check this variableregularly, and return from its run method in an orderly fashionif the variable indicates that it is to stop running. If thetarget thread waits for long periods (on a condition variable,for example), the interrupt method should be used tointerrupt the wait.For more information, see Whyare Thread.stop, Thread.suspend and Thread.resume Deprecated?</code>"}],"owner":{"account_id":24385254,"reputation":1,"user_id":18316137,"display_name":"DEEPANSHU KUNAL"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670849385,"creation_date":1670849230,"question_id":74771337,"body_markdown":"I want to perform a single-task(finding sum of 1st 100 positive integers) using multiple threads in java. That&#39;s why I&#39;m using a single run() method. I&#39;ve seen multiple sites which shows single-tasking using multithreading by using only single run method(they put the task in same run() method), but I found that it will only only do same task multiple times everytime a new thread is started. That is why I&#39;m using a static variable count.\r\nThe task is divided into 3 sub-tasks-  \r\n1) sum 1 to 50(will be performed by thread1 object)\r\n2) sum 51 to 75(will be performed by thread2 object)\r\n3) sum 76 to 100(will be performed by thread1 object)\r\nSo this is the code which I wrote.\r\n\r\n```\r\n//In this single tasking will be done using multiple thread\r\npublic class SingleTasking extends Thread {\r\n    static int count=0;\r\n    static int sum=0;                                  //global variable to store total sum\r\n    //private static long startTime = System.currentTimeMillis();\r\n    public void run(){\r\n        if(count==0) {\r\n\t    //System.out.println(getName());\r\n\t    sum+=sum1to50();\r\n\t    count++;\r\n\t    //currentThread().stop();\r\n\t}\r\n\telse if(count==1) {\r\n\t    //System.out.println(getName());\r\n\t    sum+=sum51to75();\r\n\t    count++;\r\n\t    //currentThread().stop();\r\n\t}\r\n\telse {\r\n\t    //System.out.println(Thread.currentThread().getName()); \r\n\t    sum+=sum76to100();\r\n\t    System.out.println(&quot;Sum of 1st 100 integers:&quot;+sum);\r\n\t    count++;\r\n\t}\r\n    }\r\n    int sum1to50() {               //1st part of the task\r\n        int sum=0;                      //local variable to store sum 1 to 50\r\n\tfor(int i=1;i&lt;=50;i++)\r\n\t    sum+=i;\r\n\treturn sum;\r\n    }\r\n    int sum51to75() {\t\t\t   //2nd part of the task\r\n\tint sum=0;\t\t\t//local variable to store sum 51 to 75\r\n\tfor(int i=51;i&lt;=75;i++)\r\n\t    sum+=i;\r\n\treturn sum;\r\n    }\r\n    int sum76to100() {\t   \t\t   //3rd part of the task\r\n\tint sum=0;\t\t\t//local variable to store sum 76 to 100\r\n\tfor(int i=76;i&lt;=100;i++)\r\n\t    sum+=i;\r\n\treturn sum;\r\n    }\r\n    public static void main(String args[]){\r\n        System.out.println(&quot;Task is to find sum of first 100 integers.&quot;);\r\n    \tSystem.out.println(&quot;1st thread will find sum of 1-50.&quot;);\r\n    \tSystem.out.println(&quot;2nd thread will find sum of 51-75.&quot;);\r\n    \tSystem.out.println(&quot;3rd thread will find sum of 76-100.&quot;);\r\n    \tSingleTasking thread1=new SingleTasking();    \r\n    \tSingleTasking thread2=new SingleTasking();    \r\n    \tSingleTasking thread3=new SingleTasking();    \r\n    \t//thread1.setPriority(9);\r\n    \t//thread2.setPriority(5);\r\n    \t//thread3.setPriority(1);\r\n    \tthread1.start();\r\n       \t//thread1.stop();\r\n    \tthread2.start();\r\n    \t//thread2.stop();\r\n       \tthread3.start();\r\n       \t//System.out.println(&quot;Sum of 1st 100 integers:&quot;+sum);\r\n       \t//You can&#39;t print sum here as no priority is set to threads \r\n       \t//and therefore it can print any value of static variable sum\r\n       \t//like 0,sum1to50, sum1to75, sum 76to100 depending on \r\n       \t//default main thread execution order.\r\n    \t//Below are the statements to calculate sum\r\n       \t//long endTime = System.currentTimeMillis();\r\n        //System.out.println(&quot;It took &quot; + (endTime - startTime) + &quot; milliseconds&quot;);\r\n    }\r\n}\r\n```\r\n\r\nalthough the output is what I needed most of the times, but sometimes it differs too.\r\n\r\nI tried many things(commented in the code) like giving priority to threads, sleeping threads, stopping them but nothing works.\r\n\r\nCan you explain me why it not working properly?\r\nIt would be helpful if you  give me a better solution.\r\nI do not want to threads run in a particular order but what I want is a single thread will perform a single sub-task(i.e. call any of the sum1to50(), sum51to75(),sum76to100() methods).\r\n","title":"Multi-threading(Maybe Threads not running at my will.)","body":"<p>I want to perform a single-task(finding sum of 1st 100 positive integers) using multiple threads in java. That's why I'm using a single run() method. I've seen multiple sites which shows single-tasking using multithreading by using only single run method(they put the task in same run() method), but I found that it will only only do same task multiple times everytime a new thread is started. That is why I'm using a static variable count.\nThe task is divided into 3 sub-tasks-</p>\n<ol>\n<li>sum 1 to 50(will be performed by thread1 object)</li>\n<li>sum 51 to 75(will be performed by thread2 object)</li>\n<li>sum 76 to 100(will be performed by thread1 object)\nSo this is the code which I wrote.</li>\n</ol>\n<pre><code>//In this single tasking will be done using multiple thread\npublic class SingleTasking extends Thread {\n    static int count=0;\n    static int sum=0;                                  //global variable to store total sum\n    //private static long startTime = System.currentTimeMillis();\n    public void run(){\n        if(count==0) {\n        //System.out.println(getName());\n        sum+=sum1to50();\n        count++;\n        //currentThread().stop();\n    }\n    else if(count==1) {\n        //System.out.println(getName());\n        sum+=sum51to75();\n        count++;\n        //currentThread().stop();\n    }\n    else {\n        //System.out.println(Thread.currentThread().getName()); \n        sum+=sum76to100();\n        System.out.println(&quot;Sum of 1st 100 integers:&quot;+sum);\n        count++;\n    }\n    }\n    int sum1to50() {               //1st part of the task\n        int sum=0;                      //local variable to store sum 1 to 50\n    for(int i=1;i&lt;=50;i++)\n        sum+=i;\n    return sum;\n    }\n    int sum51to75() {              //2nd part of the task\n    int sum=0;          //local variable to store sum 51 to 75\n    for(int i=51;i&lt;=75;i++)\n        sum+=i;\n    return sum;\n    }\n    int sum76to100() {             //3rd part of the task\n    int sum=0;          //local variable to store sum 76 to 100\n    for(int i=76;i&lt;=100;i++)\n        sum+=i;\n    return sum;\n    }\n    public static void main(String args[]){\n        System.out.println(&quot;Task is to find sum of first 100 integers.&quot;);\n        System.out.println(&quot;1st thread will find sum of 1-50.&quot;);\n        System.out.println(&quot;2nd thread will find sum of 51-75.&quot;);\n        System.out.println(&quot;3rd thread will find sum of 76-100.&quot;);\n        SingleTasking thread1=new SingleTasking();    \n        SingleTasking thread2=new SingleTasking();    \n        SingleTasking thread3=new SingleTasking();    \n        //thread1.setPriority(9);\n        //thread2.setPriority(5);\n        //thread3.setPriority(1);\n        thread1.start();\n        //thread1.stop();\n        thread2.start();\n        //thread2.stop();\n        thread3.start();\n        //System.out.println(&quot;Sum of 1st 100 integers:&quot;+sum);\n        //You can't print sum here as no priority is set to threads \n        //and therefore it can print any value of static variable sum\n        //like 0,sum1to50, sum1to75, sum 76to100 depending on \n        //default main thread execution order.\n        //Below are the statements to calculate sum\n        //long endTime = System.currentTimeMillis();\n        //System.out.println(&quot;It took &quot; + (endTime - startTime) + &quot; milliseconds&quot;);\n    }\n}\n</code></pre>\n<p>although the output is what I needed most of the times, but sometimes it differs too.</p>\n<p>I tried many things(commented in the code) like giving priority to threads, sleeping threads, stopping them but nothing works.</p>\n<p>Can you explain me why it not working properly?\nIt would be helpful if you  give me a better solution.\nI do not want to threads run in a particular order but what I want is a single thread will perform a single sub-task(i.e. call any of the sum1to50(), sum51to75(),sum76to100() methods).</p>\n"},{"tags":["java","maven","intellij-idea"],"comments":[{"owner":{"account_id":2228996,"reputation":15997,"user_id":1967100,"accept_rate":78,"display_name":"cahen"},"score":1,"creation_date":1488205286,"post_id":42488035,"comment_id":72115668,"body_markdown":"try right-clicking the pom.xml -&gt; Maven -&gt; Reimport. Did it help?","body":"try right-clicking the pom.xml -&gt; Maven -&gt; Reimport. Did it help?"},{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1488205534,"post_id":42488035,"comment_id":72115855,"body_markdown":"What Maven version do you use for importing? See if [this answer](http://stackoverflow.com/a/42427510/104891) helps to resolve the problem.","body":"What Maven version do you use for importing? See if <a href=\"http://stackoverflow.com/a/42427510/104891\">this answer</a> helps to resolve the problem."},{"owner":{"account_id":2883526,"reputation":2320,"user_id":3439993,"accept_rate":33,"display_name":"Deltharis"},"score":0,"creation_date":1488205746,"post_id":42488035,"comment_id":72116041,"body_markdown":"Do you have any unchecked profiles?","body":"Do you have any unchecked profiles?"},{"owner":{"account_id":4181786,"reputation":617,"user_id":3426603,"accept_rate":38,"display_name":"user3426603"},"score":0,"creation_date":1488206294,"post_id":42488035,"comment_id":72116425,"body_markdown":"I use Maven (3.3.9) \nI tried pom.xml -&gt; Maven -&gt; Reimport, but it does not help!","body":"I use Maven (3.3.9)  I tried pom.xml -&gt; Maven -&gt; Reimport, but it does not help!"},{"owner":{"account_id":2264130,"reputation":38917,"user_id":1993366,"accept_rate":86,"display_name":"vikingsteve"},"score":0,"creation_date":1488207510,"post_id":42488035,"comment_id":72117248,"body_markdown":"Which &quot;User settings file:&quot; is being used in IntelliJ - same one as per command line (`M2_HOME`) ??","body":"Which &quot;User settings file:&quot; is being used in IntelliJ - same one as per command line (<code>M2_HOME</code>) ??"},{"owner":{"account_id":6498978,"reputation":720,"user_id":5030518,"display_name":"Kevin Caravaggio"},"score":0,"creation_date":1495247692,"post_id":42488035,"comment_id":75186215,"body_markdown":"Hello, I have the same problem with an enterprise application. I will fix it soon and share my solution here.","body":"Hello, I have the same problem with an enterprise application. I will fix it soon and share my solution here."},{"owner":{"account_id":2821471,"reputation":378,"user_id":2624779,"display_name":"Sumit Kushwaha"},"score":1,"creation_date":1497248603,"post_id":42488035,"comment_id":75978764,"body_markdown":"After reimporting I just restarted my client and found that this has been resolved. I made sure that it is not happening due to some conflicts by conflicting dependencies by generating dependency tree using &quot;mvn dependency:tree -Dverbos&quot; before though.","body":"After reimporting I just restarted my client and found that this has been resolved. I made sure that it is not happening due to some conflicts by conflicting dependencies by generating dependency tree using &quot;mvn dependency:tree -Dverbos&quot; before though."},{"owner":{"account_id":3149743,"reputation":665,"user_id":2663412,"accept_rate":56,"display_name":"elgolondrino"},"score":0,"creation_date":1506020719,"post_id":42488035,"comment_id":79663100,"body_markdown":"Can you show your `pom.xml`?","body":"Can you show your <code>pom.xml</code>?"},{"owner":{"account_id":3149743,"reputation":665,"user_id":2663412,"accept_rate":56,"display_name":"elgolondrino"},"score":0,"creation_date":1506020750,"post_id":42488035,"comment_id":79663114,"body_markdown":"Perhaps it&#39;s to do with `Dependency Management`?","body":"Perhaps it&#39;s to do with <code>Dependency Management</code>?"},{"owner":{"account_id":356977,"reputation":1003,"user_id":696839,"accept_rate":71,"display_name":"mwalter"},"score":2,"creation_date":1508320902,"post_id":42488035,"comment_id":80562071,"body_markdown":"After restarting IntelliJ the issue was gone. I&#39;m using IntelliJ 2017.2.5.","body":"After restarting IntelliJ the issue was gone. I&#39;m using IntelliJ 2017.2.5."}],"answers":[{"tags":[],"owner":{"account_id":3169753,"reputation":764,"user_id":2679033,"display_name":"Rajitha Bhanuka"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1615963310,"creation_date":1564141130,"answer_id":57219313,"question_id":42488035,"body_markdown":"Re imported and restart(Invalidate Caches / Restart) the IntelliJ. that was working\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jswru.png","title":"IntelliJ IDEA does not recognise maven dependencies (omitted for conflict with ...)","body":"<p>Re imported and restart(Invalidate Caches / Restart) the IntelliJ. that was working</p>\n<p><a href=\"https://i.stack.imgur.com/jswru.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/jswru.png\" alt=\"enter image description here\" /></a></p>\n"},{"comments":[{"owner":{"account_id":1459975,"reputation":522,"user_id":2436817,"accept_rate":60,"display_name":"Hans Deragon"},"score":1,"creation_date":1584628036,"post_id":59179420,"comment_id":107499445,"body_markdown":"Unfortunately, that trick did not work with me.  IntelliJ IDEA 2019.3.3 (Ultimate Edition).","body":"Unfortunately, that trick did not work with me.  IntelliJ IDEA 2019.3.3 (Ultimate Edition)."}],"tags":[],"owner":{"account_id":109465,"reputation":7286,"user_id":290036,"accept_rate":89,"display_name":"Horatiu Jeflea"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1575473325,"creation_date":1575473325,"answer_id":59179420,"question_id":42488035,"body_markdown":"Had the same issue.\r\n\r\nInstead of \r\n   \r\n    File &gt; Open\r\n\r\n used \r\n\r\n    File &gt; New &gt; Import from Existing Sources\r\n\r\n and it worked","title":"IntelliJ IDEA does not recognise maven dependencies (omitted for conflict with ...)","body":"<p>Had the same issue.</p>\n\n<p>Instead of </p>\n\n<pre><code>File &gt; Open\n</code></pre>\n\n<p>used </p>\n\n<pre><code>File &gt; New &gt; Import from Existing Sources\n</code></pre>\n\n<p>and it worked</p>\n"},{"tags":[],"owner":{"account_id":16235390,"reputation":11,"user_id":11722978,"display_name":"sarathezil"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1588063438,"creation_date":1588063438,"answer_id":61476093,"question_id":42488035,"body_markdown":"You can do File-&gt; Invalidate Caches/Restart... The errors will be gone after IntelliJ restarts.","title":"IntelliJ IDEA does not recognise maven dependencies (omitted for conflict with ...)","body":"<p>You can do File-> Invalidate Caches/Restart... The errors will be gone after IntelliJ restarts.</p>\n"},{"comments":[{"owner":{"account_id":6766736,"reputation":2390,"user_id":5211514,"accept_rate":71,"display_name":"Oscar Gallardo"},"score":1,"creation_date":1593597966,"post_id":62673996,"comment_id":110834815,"body_markdown":"could you explain why doing that It was resolved? otherwise, I think that this is more a comment than a solution","body":"could you explain why doing that It was resolved? otherwise, I think that this is more a comment than a solution"}],"tags":[],"owner":{"account_id":17058145,"reputation":31,"user_id":12342189,"display_name":"Seadrill"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1593596504,"creation_date":1593596504,"answer_id":62673996,"question_id":42488035,"body_markdown":"Just rebooting IntelliJ did the trick for me. Simple but effective.","title":"IntelliJ IDEA does not recognise maven dependencies (omitted for conflict with ...)","body":"<p>Just rebooting IntelliJ did the trick for me. Simple but effective.</p>\n"},{"tags":[],"owner":{"account_id":6778544,"reputation":1,"user_id":5219658,"display_name":"cajo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1607101818,"creation_date":1607101818,"answer_id":65147756,"question_id":42488035,"body_markdown":"I had the same issue with an old project of mine which was developed with Eclipse. I had to go to switch to an older version of maven and not the build-in version from intelliJ. *settings &gt; maven &gt; change maven home directory*","title":"IntelliJ IDEA does not recognise maven dependencies (omitted for conflict with ...)","body":"<p>I had the same issue with an old project of mine which was developed with Eclipse. I had to go to switch to an older version of maven and not the build-in version from intelliJ. <em>settings &gt; maven &gt; change maven home directory</em></p>\n"},{"tags":[],"owner":{"account_id":11594140,"reputation":41,"user_id":8493371,"display_name":"Sunil N"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670849329,"creation_date":1670849329,"answer_id":74771358,"question_id":42488035,"body_markdown":"Check if the jar is downloaded in m2 folder , if it is downloaded and its not showing in intellij then add the same maven dependency in module where you are trying to use the classes in the jar.","title":"IntelliJ IDEA does not recognise maven dependencies (omitted for conflict with ...)","body":"<p>Check if the jar is downloaded in m2 folder , if it is downloaded and its not showing in intellij then add the same maven dependency in module where you are trying to use the classes in the jar.</p>\n"}],"owner":{"account_id":4181786,"reputation":617,"user_id":3426603,"accept_rate":38,"display_name":"user3426603"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18398,"favorite_count":0,"down_vote_count":1,"up_vote_count":14,"answer_count":6,"score":13,"last_activity_date":1670849329,"creation_date":1488205209,"question_id":42488035,"body_markdown":"I loaded a Maven project in IntelliJ IDEA, when I run &#39;mvn clean package&#39; in the terminal, it works fine, but IntelliJ IDEA can not debug or build it and in the UI, maven project tab, shows the following (red line on dependencies):\r\n\r\nomitted for conflict with STH\r\n\r\n[![enter image description here][1]][1]\r\n  [1]: https://i.stack.imgur.com/aHys6.png\r\n\r\nHow should I fix it?","title":"IntelliJ IDEA does not recognise maven dependencies (omitted for conflict with ...)","body":"<p>I loaded a Maven project in IntelliJ IDEA, when I run 'mvn clean package' in the terminal, it works fine, but IntelliJ IDEA can not debug or build it and in the UI, maven project tab, shows the following (red line on dependencies):</p>\n\n<p>omitted for conflict with STH</p>\n\n<p><a href=\"https://i.stack.imgur.com/aHys6.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/aHys6.png\" alt=\"enter image description here\"></a>\nHow should I fix it?</p>\n"},{"tags":["java","algorithm","find","element","binary-search"],"comments":[{"owner":{"account_id":27039690,"reputation":61,"user_id":20594686,"display_name":"Novaordo"},"score":1,"creation_date":1670080800,"post_id":74667974,"comment_id":131792172,"body_markdown":"Are we to assume that the list is in some sort of order (biggest to smallest or smallest to biggest)? The reason why I am asking is because if the list is not in any order, then the quickest way to find an element would be to simply search for it from the start to the end of the array.","body":"Are we to assume that the list is in some sort of order (biggest to smallest or smallest to biggest)? The reason why I am asking is because if the list is not in any order, then the quickest way to find an element would be to simply search for it from the start to the end of the array."},{"owner":{"account_id":19254723,"reputation":2061,"user_id":14071914,"display_name":"JustAnotherDeveloper"},"score":0,"creation_date":1670081238,"post_id":74667974,"comment_id":131792277,"body_markdown":"`Arrays.asList(ints).contains(k)` should do the trick, but I suppose you&#39;re not allowed to use built-in functions like that?","body":"<code>Arrays.asList(ints).contains(k)</code> should do the trick, but I suppose you&#39;re not allowed to use built-in functions like that?"},{"owner":{"account_id":27133039,"reputation":21,"user_id":20674971,"display_name":"Unknown kind Panda"},"score":0,"creation_date":1670090529,"post_id":74667974,"comment_id":131794305,"body_markdown":"- The items are integers arranged in ascending order \n- The array can contain up to 1 million items                                - The array is never null                                         \n- My method should do this : \nExemple : \nint[] ints = {-9, 14, 37, 102};\nexists(ints, 102) //returns true\nexists(ints, 36) //returns false","body":"- The items are integers arranged in ascending order  - The array can contain up to 1 million items                                - The array is never null                                          - My method should do this :  Exemple :  int[] ints = {-9, 14, 37, 102}; exists(ints, 102) //returns true exists(ints, 36) //returns false"},{"owner":{"account_id":27133039,"reputation":21,"user_id":20674971,"display_name":"Unknown kind Panda"},"score":0,"creation_date":1670092830,"post_id":74667974,"comment_id":131794808,"body_markdown":"Thank you for your answers, do you mean something like this ?  : static boolean exists(int[] ints, int k){return Arrays.asList(ints).contains(k); }","body":"Thank you for your answers, do you mean something like this ?  : static boolean exists(int[] ints, int k){return Arrays.asList(ints).contains(k); }"}],"answers":[{"comments":[{"owner":{"account_id":27133039,"reputation":21,"user_id":20674971,"display_name":"Unknown kind Panda"},"score":0,"creation_date":1670091493,"post_id":74668042,"comment_id":131794515,"body_markdown":"- The items are integers arranged in ascending order - The array can contain up to 1 million items - The array is never null - My method should do this : Exemple : int[] ints = {-9, 14, 37, 102}; exists(ints, 102) //returns true; exists(ints, 36) //returns false","body":"- The items are integers arranged in ascending order - The array can contain up to 1 million items - The array is never null - My method should do this : Exemple : int[] ints = {-9, 14, 37, 102}; exists(ints, 102) //returns true; exists(ints, 36) //returns false"},{"owner":{"account_id":27133039,"reputation":21,"user_id":20674971,"display_name":"Unknown kind Panda"},"score":0,"creation_date":1670093800,"post_id":74668042,"comment_id":131795018,"body_markdown":"Yes I&#39;m trying to implement Binary search in my second solution. I&#39;ve tried to used exists() method but k is an int and it returns an error : int cannot be dereferenced","body":"Yes I&#39;m trying to implement Binary search in my second solution. I&#39;ve tried to used exists() method but k is an int and it returns an error : int cannot be dereferenced"},{"owner":{"account_id":27123034,"reputation":1993,"user_id":20666497,"display_name":"Albina"},"score":0,"creation_date":1670151814,"post_id":74668042,"comment_id":131802919,"body_markdown":"@UnknownkindPanda added BS implementation, you can have a look.","body":"@UnknownkindPanda added BS implementation, you can have a look."},{"owner":{"account_id":27133039,"reputation":21,"user_id":20674971,"display_name":"Unknown kind Panda"},"score":0,"creation_date":1670163056,"post_id":74668042,"comment_id":131806215,"body_markdown":"Hi, I&#39;ve tried the solution of @albina : \nIt was only working when I remove the &#39;-1&#39;\nfor example for : int[] ints = {-9, 14, 37, 102};\nSystem.out.println(exists(ints, 102)); //true\nSystem.out.println(exists(ints, 36)); //false","body":"Hi, I&#39;ve tried the solution of @albina :  It was only working when I remove the &#39;-1&#39; for example for : int[] ints = {-9, 14, 37, 102}; System.out.println(exists(ints, 102)); //true System.out.println(exists(ints, 36)); //false"},{"owner":{"account_id":27133039,"reputation":21,"user_id":20674971,"display_name":"Unknown kind Panda"},"score":0,"creation_date":1670163072,"post_id":74668042,"comment_id":131806219,"body_markdown":"But when I say &quot;working&quot; I mean that when I test the code the solution has a good behavior with true and false, but when I submit it on the codingame the machine tells me that is wrong.","body":"But when I say &quot;working&quot; I mean that when I test the code the solution has a good behavior with true and false, but when I submit it on the codingame the machine tells me that is wrong."},{"owner":{"account_id":27123034,"reputation":1993,"user_id":20666497,"display_name":"Albina"},"score":0,"creation_date":1670163482,"post_id":74668042,"comment_id":131806299,"body_markdown":"@UnknownkindPanda please check now, I fixed a bug `while (first &lt;= last)`.","body":"@UnknownkindPanda please check now, I fixed a bug <code>while (first &lt;= last)</code>."},{"owner":{"account_id":27133039,"reputation":21,"user_id":20674971,"display_name":"Unknown kind Panda"},"score":0,"creation_date":1670167746,"post_id":74668042,"comment_id":131807256,"body_markdown":"I&#39;ve tried your solution but it tells me now that I have to write return statement, I tried to put an image of the whole page of the exercise but I can&#39;t for the moment because I&#39;m a beginner on Stack Overflow. I&#39;ve also tried to create a boolean variable res, initialized to false and to put a return statement but it tells me that my solution is not optimized enough to handle some cases.","body":"I&#39;ve tried your solution but it tells me now that I have to write return statement, I tried to put an image of the whole page of the exercise but I can&#39;t for the moment because I&#39;m a beginner on Stack Overflow. I&#39;ve also tried to create a boolean variable res, initialized to false and to put a return statement but it tells me that my solution is not optimized enough to handle some cases."}],"tags":[],"owner":{"account_id":27123034,"reputation":1993,"user_id":20666497,"display_name":"Albina"},"comment_count":7,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670167882,"creation_date":1670081184,"answer_id":74668042,"question_id":74667974,"body_markdown":"I suppose you are trying to implement **Binary search** in the second solution.\r\n\r\nIf so, please check [this answer][1]. Your input array must be sorted in non-decreasing order, because Binary Search works only with sorted input data. For example, you can simply type `Arrays.sort(arr);` and then pass your array into `exists()` method. But the overall time&amp;space complexities will be `O(n log n)`.\r\n\r\n**Fixed some bugs** in your implementation:\r\n\r\n    public static boolean exists(int[] ints, int k) {\r\n        int first = 0;\r\n        int last = ints.length - 1;\r\n        while (first &lt;= last) {\r\n            int mid = first + (last - first) / 2; // to avoid integer overflow in extremely large arrays\r\n            if (ints[mid] &lt; k) {\r\n                first = mid + 1;\r\n            } else if (ints[mid] == k) {\r\n                return true;\r\n            } else {\r\n                last = mid - 1;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/249404/20666497","title":"Find an element in a list/array (a big list)","body":"<p>I suppose you are trying to implement <strong>Binary search</strong> in the second solution.</p>\n<p>If so, please check <a href=\"https://stackoverflow.com/a/249404/20666497\">this answer</a>. Your input array must be sorted in non-decreasing order, because Binary Search works only with sorted input data. For example, you can simply type <code>Arrays.sort(arr);</code> and then pass your array into <code>exists()</code> method. But the overall time&amp;space complexities will be <code>O(n log n)</code>.</p>\n<p><strong>Fixed some bugs</strong> in your implementation:</p>\n<pre><code>public static boolean exists(int[] ints, int k) {\n    int first = 0;\n    int last = ints.length - 1;\n    while (first &lt;= last) {\n        int mid = first + (last - first) / 2; // to avoid integer overflow in extremely large arrays\n        if (ints[mid] &lt; k) {\n            first = mid + 1;\n        } else if (ints[mid] == k) {\n            return true;\n        } else {\n            last = mid - 1;\n        }\n    }\n    return false;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27133039,"reputation":21,"user_id":20674971,"display_name":"Unknown kind Panda"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1670849185,"creation_date":1670849185,"answer_id":74771327,"question_id":74667974,"body_markdown":"Finally I&#39;ve found the solution to my problem !!!!!\r\n\r\nHere it is :\r\n\r\n------------------ \r\n\r\n    import java.util.Arrays;\r\n    \r\n    class A{\r\n        static boolean exists(int[] ints, int k){\r\n             boolean res = false;\r\n             int index = Arrays.binarySearch(ints, k);\r\n             if (index&lt;0){\r\n                 res = false;\r\n             }else{\r\n                 res = true;\r\n             }\r\n             return res;\r\n          }\r\n    }","title":"Find an element in a list/array (a big list)","body":"<p>Finally I've found the solution to my problem !!!!!</p>\n<p>Here it is :</p>\n<hr />\n<pre><code>import java.util.Arrays;\n\nclass A{\n    static boolean exists(int[] ints, int k){\n         boolean res = false;\n         int index = Arrays.binarySearch(ints, k);\n         if (index&lt;0){\n             res = false;\n         }else{\n             res = true;\n         }\n         return res;\n      }\n}\n</code></pre>\n"}],"owner":{"account_id":27133039,"reputation":21,"user_id":20674971,"display_name":"Unknown kind Panda"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":228,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74771327,"answer_count":2,"score":-1,"last_activity_date":1670849185,"creation_date":1670080527,"question_id":74667974,"body_markdown":"I&#39;m actually doing an easy CodinGame --&gt; I have to find if an element exists in a list.\r\n\r\nI&#39;ve tested a first solution, it was working but it wasn&#39;t really optimized (according to the machine).\r\n\r\nSo I&#39;ve tried another solution but :\r\nWhen I test my code for this 2nd solution, it returns the right answers but when I&#39;m submitting my code, it tells me that my solution is completely wrong (it doesn&#39;t work if the list is empty, and also if the list is huge, ...).\r\n\r\n\r\nPlease can you help me ? \r\n\r\n\r\n\r\n-------\r\nHere is my first naive solution : \r\n-------\r\n\r\n```\r\npublic static boolean check(int[] ints, int k) {\r\n        boolean res = false;\r\n    \r\n        for(int i : ints){\r\n            if(i == k){\r\n                res = true;\r\n                break;\r\n            }\r\n        }\r\n        return res;\r\n    }\r\n\r\n```\r\n\r\n------\r\nHere is the code of my 2nd solution that is supposed to be optimized: \r\n-----\r\n```\r\nstatic boolean exists(int [] ints, int k){\r\n        boolean res = false;\r\n        int first = 0;\r\n        int last = ints.length;\r\n        int mid = (first + last)/2;\r\n        while(first &lt;= last){\r\n            if( ints[mid] &lt; k){\r\n                first = mid +1;\r\n            }else if (ints[mid] == k){\r\n                res = true; \r\n                break;\r\n            }else{\r\n                last = mid -1;\r\n            }\r\n         mid = (first + last)/2;\r\n         }\r\n         if(first &gt; last){\r\n            res = false;\r\n         }\r\n         return res;\r\n     }\r\n```\r\n","title":"Find an element in a list/array (a big list)","body":"<p>I'm actually doing an easy CodinGame --&gt; I have to find if an element exists in a list.</p>\n<p>I've tested a first solution, it was working but it wasn't really optimized (according to the machine).</p>\n<p>So I've tried another solution but :\nWhen I test my code for this 2nd solution, it returns the right answers but when I'm submitting my code, it tells me that my solution is completely wrong (it doesn't work if the list is empty, and also if the list is huge, ...).</p>\n<p>Please can you help me ?</p>\n<hr />\n<h2>Here is my first naive solution :</h2>\n<pre><code>public static boolean check(int[] ints, int k) {\n        boolean res = false;\n    \n        for(int i : ints){\n            if(i == k){\n                res = true;\n                break;\n            }\n        }\n        return res;\n    }\n\n</code></pre>\n<hr />\n<h2>Here is the code of my 2nd solution that is supposed to be optimized:</h2>\n<pre><code>static boolean exists(int [] ints, int k){\n        boolean res = false;\n        int first = 0;\n        int last = ints.length;\n        int mid = (first + last)/2;\n        while(first &lt;= last){\n            if( ints[mid] &lt; k){\n                first = mid +1;\n            }else if (ints[mid] == k){\n                res = true; \n                break;\n            }else{\n                last = mid -1;\n            }\n         mid = (first + last)/2;\n         }\n         if(first &gt; last){\n            res = false;\n         }\n         return res;\n     }\n</code></pre>\n"},{"tags":["java","tomcat"],"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1409380070,"post_id":25579459,"comment_id":39951678,"body_markdown":"It looks like you have launched tomcat from a non-privileged account and it cannot write to the log directory.  This is not a programming problem ... and therefore it is off topic.","body":"It looks like you have launched tomcat from a non-privileged account and it cannot write to the log directory.  This is not a programming problem ... and therefore it is off topic."},{"owner":{"account_id":2329344,"reputation":309,"user_id":2043129,"display_name":"Anand Maheshwari"},"score":0,"creation_date":1409382689,"post_id":25579459,"comment_id":39952140,"body_markdown":"But i installed in my Personal PC with Install as Administrative option. Still access is denied. Any way to solve???","body":"But i installed in my Personal PC with Install as Administrative option. Still access is denied. Any way to solve???"},{"owner":{"account_id":167824,"reputation":21098,"user_id":1439305,"accept_rate":81,"display_name":"Audrius Meškauskas"},"score":1,"creation_date":1409384340,"post_id":25579459,"comment_id":39952490,"body_markdown":"You have probably once launched Tomcat from the privileged account and it created a log file that its default, non privileged account cannot longer modify. Server Fault community may tell more.","body":"You have probably once launched Tomcat from the privileged account and it created a log file that its default, non privileged account cannot longer modify. Server Fault community may tell more."}],"answers":[{"tags":[],"owner":{"account_id":6796693,"reputation":221,"user_id":5231669,"display_name":"sidcreative"},"comment_count":0,"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1439703297,"creation_date":1439703297,"answer_id":32032166,"question_id":25579459,"body_markdown":"It seems that your current user is not having rights on the tomcat folder.\r\n\r\nI also faced the same problem and solved it by giving rights to the logged in user on the tomcat folder.\r\n\r\nFor your case :\r\n\r\nGo to &gt;&gt;&quot;C:\\Program Files\\Apache Software Foundation\\Tomcat      7.0&quot; folder\r\nRight Click&gt;&gt;Properties&gt;&gt;security Tab\r\n\r\nprovide required rights to currently logged in user.","title":"Got Apache Tomcat error that access denied on this file localhost_access_log.2014-08-30.txt?","body":"<p>It seems that your current user is not having rights on the tomcat folder.</p>\n\n<p>I also faced the same problem and solved it by giving rights to the logged in user on the tomcat folder.</p>\n\n<p>For your case :</p>\n\n<p>Go to >>\"C:\\Program Files\\Apache Software Foundation\\Tomcat      7.0\" folder\nRight Click>>Properties>>security Tab</p>\n\n<p>provide required rights to currently logged in user.</p>\n"},{"tags":[],"owner":{"account_id":8938406,"reputation":415,"user_id":6668435,"accept_rate":50,"display_name":"Vikas Kalapur"},"comment_count":0,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1563116693,"creation_date":1499189981,"answer_id":44911600,"question_id":25579459,"body_markdown":"![1]][1] ```Open Tomcat C:\\Program Files\\Apache Software Foundation &lt;br&gt;(Right Click on Tomcat 8.5 ( as per Your Version)&lt;br&gt;\r\n→Properties &lt;br&gt;\r\n→Select Security Tab &lt;br&gt;\r\n→Edit &lt;br&gt; →Select Your System &lt;br&gt; →Check or Allow all the Boxes &lt;br&gt;\r\n→Click on Apply &lt;br&gt;\r\n→Restart Program ```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/khBua.jpg","title":"Got Apache Tomcat error that access denied on this file localhost_access_log.2014-08-30.txt?","body":"<p><img src=\"https://i.stack.imgur.com/khBua.jpg\" alt=\"1]\"> <code>Open Tomcat C:\\Program Files\\Apache Software Foundation &lt;br&gt;(Right Click on Tomcat 8.5 ( as per Your Version)&lt;br&gt;\n→Properties &lt;br&gt;\n→Select Security Tab &lt;br&gt;\n→Edit &lt;br&gt; →Select Your System &lt;br&gt; →Check or Allow all the Boxes &lt;br&gt;\n→Click on Apply &lt;br&gt;\n→Restart Program</code></p>\n"},{"tags":[],"owner":{"account_id":4457805,"reputation":158,"user_id":3627515,"display_name":"leonidos79"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1553078711,"creation_date":1553078711,"answer_id":55258890,"question_id":25579459,"body_markdown":"Alternatively, you may decide to instruct embedded Tomcat instance to keep its log files in a different location, and outside Windows&#39;s native &quot;Program Files&quot; directory. Especially when it comes to latest Windows versions, it is not a good practice to write or keep any file with variable content (i.e. the file that is created or written to at runtime) in program files directory.\r\n\r\nSearch for TOMCAT_HOME/conf/server.xml for &quot;AccessLogValve&quot;, and specify alternative directory for log files as demonstrated below:\r\n\r\n    &lt;Valve className=&quot;org.apache.catalina.valves.AccessLogValve&quot;\r\n           directory=&quot;c:\\work\\tomcat\\logs&quot;\r\n           prefix=&quot;localhost_access_log.&quot; suffix=&quot;.log&quot; pattern=&quot;common&quot;/&gt;\r\n\r\nThe key attribute here is &quot;directory&quot;.","title":"Got Apache Tomcat error that access denied on this file localhost_access_log.2014-08-30.txt?","body":"<p>Alternatively, you may decide to instruct embedded Tomcat instance to keep its log files in a different location, and outside Windows's native \"Program Files\" directory. Especially when it comes to latest Windows versions, it is not a good practice to write or keep any file with variable content (i.e. the file that is created or written to at runtime) in program files directory.</p>\n\n<p>Search for TOMCAT_HOME/conf/server.xml for \"AccessLogValve\", and specify alternative directory for log files as demonstrated below:</p>\n\n<pre><code>&lt;Valve className=\"org.apache.catalina.valves.AccessLogValve\"\n       directory=\"c:\\work\\tomcat\\logs\"\n       prefix=\"localhost_access_log.\" suffix=\".log\" pattern=\"common\"/&gt;\n</code></pre>\n\n<p>The key attribute here is \"directory\".</p>\n"},{"tags":[],"owner":{"account_id":27228542,"reputation":1,"user_id":20756641,"display_name":"Jayesh Prajapati"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670848215,"creation_date":1670848215,"answer_id":74771127,"question_id":25579459,"body_markdown":"If you are facing this issue while starting tomcat from with-in IDE like Eclipse then you need to check if security is enabled under server detail - \r\n\r\nRefer below screenshot\r\n\r\n[Eclipse IDE Tomcat Server Enable Security][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7I5lH.png","title":"Got Apache Tomcat error that access denied on this file localhost_access_log.2014-08-30.txt?","body":"<p>If you are facing this issue while starting tomcat from with-in IDE like Eclipse then you need to check if security is enabled under server detail -</p>\n<p>Refer below screenshot</p>\n<p><a href=\"https://i.stack.imgur.com/7I5lH.png\" rel=\"nofollow noreferrer\">Eclipse IDE Tomcat Server Enable Security</a></p>\n"}],"owner":{"account_id":2329344,"reputation":309,"user_id":2043129,"display_name":"Anand Maheshwari"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57228,"favorite_count":0,"down_vote_count":1,"up_vote_count":19,"closed_date":1670851685,"answer_count":4,"score":18,"last_activity_date":1670848488,"creation_date":1409377675,"question_id":25579459,"body_markdown":"I installed Tomcat on Windows 7 OS. I just installed Tomcat and made it available in eclipse. When i run any simple application on server it will say 404: page not found and in console it will print the error message like this.\r\n\r\n    SEVERE: Failed to open access log file [C:\\Program Files\\Apache Software           Foundation\\Tomcat 7.0\\logs\\localhost_access_log.2014-08-30.txt]\r\n    java.io.FileNotFoundException: C:\\Program Files\\Apache Software Foundation\\Tomcat      7.0\\logs\\localhost_access_log.2014-08-30.txt (Access is denied)\r\n    at java.io.FileOutputStream.open(Native Method)\r\n    at java.io.FileOutputStream.&lt;init&gt;(Unknown Source)\r\n\tat org.apache.catalina.valves.AccessLogValve.open(AccessLogValve.java:1117)\r\n\tat org.apache.catalina.valves.AccessLogValve.startInternal(AccessLogValve.java:1224)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n\tat org.apache.catalina.core.StandardPipeline.startInternal(StandardPipeline.java:185)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:1137)\r\n\tat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:800)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1559)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1549)\r\n\tat java.util.concurrent.FutureTask$Sync.innerRun(Unknown Source)\r\n\tat java.util.concurrent.FutureTask.run(Unknown Source)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n\tat java.lang.Thread.run(Unknown Source)\r\n\r\nI cannot understand what the things is happen is this??? Please help me.","title":"Got Apache Tomcat error that access denied on this file localhost_access_log.2014-08-30.txt?","body":"<p>I installed Tomcat on Windows 7 OS. I just installed Tomcat and made it available in eclipse. When i run any simple application on server it will say 404: page not found and in console it will print the error message like this.</p>\n<pre><code>SEVERE: Failed to open access log file [C:\\Program Files\\Apache Software           Foundation\\Tomcat 7.0\\logs\\localhost_access_log.2014-08-30.txt]\njava.io.FileNotFoundException: C:\\Program Files\\Apache Software Foundation\\Tomcat      7.0\\logs\\localhost_access_log.2014-08-30.txt (Access is denied)\nat java.io.FileOutputStream.open(Native Method)\nat java.io.FileOutputStream.&lt;init&gt;(Unknown Source)\nat org.apache.catalina.valves.AccessLogValve.open(AccessLogValve.java:1117)\nat org.apache.catalina.valves.AccessLogValve.startInternal(AccessLogValve.java:1224)\nat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\nat org.apache.catalina.core.StandardPipeline.startInternal(StandardPipeline.java:185)\nat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\nat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:1137)\nat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:800)\nat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\nat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1559)\nat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1549)\nat java.util.concurrent.FutureTask$Sync.innerRun(Unknown Source)\nat java.util.concurrent.FutureTask.run(Unknown Source)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\nat java.lang.Thread.run(Unknown Source)\n</code></pre>\n<p>I cannot understand what the things is happen is this??? Please help me.</p>\n"},{"tags":["java","spring-boot","kotlin","spring-boot-test"],"answers":[{"tags":[],"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670848475,"creation_date":1670848161,"answer_id":74771117,"question_id":74769567,"body_markdown":"To achieve the same as `@SpringBootApplication(nameGenerator = FullyQualifiedAnnotationBeanNameGenerator::class)` in a (isolated configuration) test, we can:\r\n- declare an &quot;internal&quot; `@Configuration` class (which will skip/replace spring boot application loading... to &quot;add/modify&quot; (loaded) spring boot application, use `@TestConfiguration` (internal class)).\r\n- use `@ComponentScan` on that, which:\r\n   - takes a `nameGenerator:Class&lt;...&gt;` parameter (, which exactly is &quot;aliased&quot; by `@SpringBootApplication`).\r\n   - if omit, it falls back to &quot;current package&quot;, but if we use `basePackageClasses`, we can cherry pick our components. (But please *note* it is (as in `@SpringBootApplication`) package- not class-wise!)\r\n\r\n\r\nA sample test:\r\n```lang-kotlin\r\npackage com\r\n\r\nimport org.junit.jupiter.api.Assertions\r\nimport org.junit.jupiter.api.Test\r\nimport org.springframework.beans.factory.annotation.Autowired\r\nimport org.springframework.boot.test.context.SpringBootTest\r\nimport org.springframework.context.annotation.ComponentScan\r\nimport org.springframework.context.annotation.Configuration\r\nimport org.springframework.context.annotation.FullyQualifiedAnnotationBeanNameGenerator\r\n\r\n@SpringBootTest\r\nclass DemoApplicationTests {\r\n    @Configuration // only this will be used for this test class!\r\n    @ComponentScan(\r\n      nameGenerator = FullyQualifiedAnnotationBeanNameGenerator::class,\r\n      basePackageClasses = [com.foo.ConflictName::class, com.bar.ConflictName::class]\r\n    )\r\n    // empty/customize:\r\n    internal class IsolatedTestConfig \r\n\r\n    @Autowired(required = false)\r\n    var springBootApp: org.springframework.boot.SpringApplication? = null\r\n\r\n    @Autowired(required = false)\r\n    var compFoo: com.foo.ConflictName? = null\r\n\r\n    @Autowired(required = false)\r\n    var compBar: com.bar.ConflictName? = null\r\n\r\n    @Test\r\n    fun testNamingAndIsolation() {\r\n        Assertions.assertNull(springBootApp) // !\r\n        Assertions.assertNotNull(compFoo)\r\n        Assertions.assertNotNull(compBar)\r\n    }\r\n}\r\n```","title":"how to specify nameGenerator in SpringBootTest?","body":"<p>To achieve the same as <code>@SpringBootApplication(nameGenerator = FullyQualifiedAnnotationBeanNameGenerator::class)</code> in a (isolated configuration) test, we can:</p>\n<ul>\n<li>declare an &quot;internal&quot; <code>@Configuration</code> class (which will skip/replace spring boot application loading... to &quot;add/modify&quot; (loaded) spring boot application, use <code>@TestConfiguration</code> (internal class)).</li>\n<li>use <code>@ComponentScan</code> on that, which:\n<ul>\n<li>takes a <code>nameGenerator:Class&lt;...&gt;</code> parameter (, which exactly is &quot;aliased&quot; by <code>@SpringBootApplication</code>).</li>\n<li>if omit, it falls back to &quot;current package&quot;, but if we use <code>basePackageClasses</code>, we can cherry pick our components. (But please <em>note</em> it is (as in <code>@SpringBootApplication</code>) package- not class-wise!)</li>\n</ul>\n</li>\n</ul>\n<p>A sample test:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>package com\n\nimport org.junit.jupiter.api.Assertions\nimport org.junit.jupiter.api.Test\nimport org.springframework.beans.factory.annotation.Autowired\nimport org.springframework.boot.test.context.SpringBootTest\nimport org.springframework.context.annotation.ComponentScan\nimport org.springframework.context.annotation.Configuration\nimport org.springframework.context.annotation.FullyQualifiedAnnotationBeanNameGenerator\n\n@SpringBootTest\nclass DemoApplicationTests {\n    @Configuration // only this will be used for this test class!\n    @ComponentScan(\n      nameGenerator = FullyQualifiedAnnotationBeanNameGenerator::class,\n      basePackageClasses = [com.foo.ConflictName::class, com.bar.ConflictName::class]\n    )\n    // empty/customize:\n    internal class IsolatedTestConfig \n\n    @Autowired(required = false)\n    var springBootApp: org.springframework.boot.SpringApplication? = null\n\n    @Autowired(required = false)\n    var compFoo: com.foo.ConflictName? = null\n\n    @Autowired(required = false)\n    var compBar: com.bar.ConflictName? = null\n\n    @Test\n    fun testNamingAndIsolation() {\n        Assertions.assertNull(springBootApp) // !\n        Assertions.assertNotNull(compFoo)\n        Assertions.assertNotNull(compBar)\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":8598286,"reputation":11087,"user_id":6440704,"display_name":"Anton Balaniuc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":347,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74771117,"answer_count":1,"score":2,"last_activity_date":1670848475,"creation_date":1670840196,"question_id":74769567,"body_markdown":"I am trying to run `@SpringBootTest` with a subset of classes. There are 2 beans with conflicting names among these classes. \r\n\r\n```\r\n@SpringBootTest(\r\n    classes = [BarService::class, ConflictName::class, com.foo.ConflictName::class, FooService::class]\r\n)\r\nclass DemoApplicationTests\r\n```\r\nThe test fails with `BeanDefinitionOverrideException`\r\n```\r\nCaused by: org.springframework.beans.factory.support.BeanDefinitionOverrideException: \r\nInvalid bean definition with name &#39;conflictName&#39; defined in null:\r\nCannot register bean definition [Generic bean: class [com.foo.ConflictName]; scope=singleton; abstract=false; lazyInit=null; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodNames=null; destroyMethodNames=null] \r\nfor bean &#39;conflictName&#39; since there is already [Generic bean: class [com.bar.ConflictName]; scope=singleton; abstract=false; lazyInit=null; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodNames=null; destroyMethodNames=null] bound.\r\n```\r\nHowever, if the test is running for the whole application, without specifying the concrete classes \r\n```\r\n@SpringBootTest\r\nclass DemoApplicationTests\r\n```\r\nthe execution is successful. \r\n\r\nThe question is how to specify `nameGenerator` in `SpringBootTest` similar to `@SpringBootApplication(nameGenerator = FullyQualifiedAnnotationBeanNameGenerator::class)`?\r\n\r\nthe complete code example: \r\n```\r\npackage com.bar\r\n\r\nimport org.springframework.stereotype.Service\r\n\r\n@Service\r\nclass BarService(private val conflictName: ConflictName)\r\n========================================================\r\npackage com.bar\r\n\r\nimport org.springframework.stereotype.Component\r\n\r\n@Component\r\nclass ConflictName\r\n========================================================\r\npackage com.foo\r\n\r\nimport org.springframework.stereotype.Component\r\n\r\n@Component\r\nclass ConflictName\r\n========================================================\r\npackage com.foo\r\n\r\nimport org.springframework.stereotype.Service\r\n\r\n@Service\r\nclass FooService(private val conflictName: ConflictName)\r\n========================================================\r\npackage com\r\n\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication\r\nimport org.springframework.boot.runApplication\r\nimport org.springframework.context.annotation.FullyQualifiedAnnotationBeanNameGenerator\r\n\r\n@SpringBootApplication(nameGenerator = FullyQualifiedAnnotationBeanNameGenerator::class)\r\nclass DemoApplication\r\n\r\nfun main(args: Array&lt;String&gt;) {\r\n    runApplication&lt;DemoApplication&gt;(*args)\r\n}\r\n```","title":"how to specify nameGenerator in SpringBootTest?","body":"<p>I am trying to run <code>@SpringBootTest</code> with a subset of classes. There are 2 beans with conflicting names among these classes.</p>\n<pre><code>@SpringBootTest(\n    classes = [BarService::class, ConflictName::class, com.foo.ConflictName::class, FooService::class]\n)\nclass DemoApplicationTests\n</code></pre>\n<p>The test fails with <code>BeanDefinitionOverrideException</code></p>\n<pre><code>Caused by: org.springframework.beans.factory.support.BeanDefinitionOverrideException: \nInvalid bean definition with name 'conflictName' defined in null:\nCannot register bean definition [Generic bean: class [com.foo.ConflictName]; scope=singleton; abstract=false; lazyInit=null; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodNames=null; destroyMethodNames=null] \nfor bean 'conflictName' since there is already [Generic bean: class [com.bar.ConflictName]; scope=singleton; abstract=false; lazyInit=null; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodNames=null; destroyMethodNames=null] bound.\n</code></pre>\n<p>However, if the test is running for the whole application, without specifying the concrete classes</p>\n<pre><code>@SpringBootTest\nclass DemoApplicationTests\n</code></pre>\n<p>the execution is successful.</p>\n<p>The question is how to specify <code>nameGenerator</code> in <code>SpringBootTest</code> similar to <code>@SpringBootApplication(nameGenerator = FullyQualifiedAnnotationBeanNameGenerator::class)</code>?</p>\n<p>the complete code example:</p>\n<pre><code>package com.bar\n\nimport org.springframework.stereotype.Service\n\n@Service\nclass BarService(private val conflictName: ConflictName)\n========================================================\npackage com.bar\n\nimport org.springframework.stereotype.Component\n\n@Component\nclass ConflictName\n========================================================\npackage com.foo\n\nimport org.springframework.stereotype.Component\n\n@Component\nclass ConflictName\n========================================================\npackage com.foo\n\nimport org.springframework.stereotype.Service\n\n@Service\nclass FooService(private val conflictName: ConflictName)\n========================================================\npackage com\n\nimport org.springframework.boot.autoconfigure.SpringBootApplication\nimport org.springframework.boot.runApplication\nimport org.springframework.context.annotation.FullyQualifiedAnnotationBeanNameGenerator\n\n@SpringBootApplication(nameGenerator = FullyQualifiedAnnotationBeanNameGenerator::class)\nclass DemoApplication\n\nfun main(args: Array&lt;String&gt;) {\n    runApplication&lt;DemoApplication&gt;(*args)\n}\n</code></pre>\n"},{"tags":["java","recursion","java-stream","flatten"],"comments":[{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1670780921,"post_id":74761736,"comment_id":131947634,"body_markdown":"Just calling flatMap does nothing.  You need to use the Stream that flatMap returns.","body":"Just calling flatMap does nothing.  You need to use the Stream that flatMap returns."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1670833204,"post_id":74761736,"comment_id":131956169,"body_markdown":"Just remove the `throws Exception`","body":"Just remove the <code>throws Exception</code>"}],"answers":[{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1670833133,"post_id":74762512,"comment_id":131956145,"body_markdown":"You can [easily flatten an array non-imperatively](https://stackoverflow.com/a/44909768/2711488) and considering the non-lazy nature of `mapMulti`, I wouldn’t use a `mapMulti` approach for arbitrary nested arrays.","body":"You can <a href=\"https://stackoverflow.com/a/44909768/2711488\">easily flatten an array non-imperatively</a> and considering the non-lazy nature of <code>mapMulti</code>, I wouldn’t use a <code>mapMulti</code> approach for arbitrary nested arrays."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1670848626,"post_id":74762512,"comment_id":131960846,"body_markdown":"@Holger That&#39;s a fair point, I forgot about non-laziness of `mapMulti`. Updated the answer.","body":"@Holger That&#39;s a fair point, I forgot about non-laziness of <code>mapMulti</code>. Updated the answer."}],"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670848411,"creation_date":1670775939,"answer_id":74762512,"question_id":74761736,"body_markdown":"There are two main issues:\r\n\r\n* Type `Exception` is a *checked exception*. The problem is that none of the built-in JDK functions declares to throw a *checked exception*, which imposes restriction on their implementations. Therefore, the simplest solution would be to remove throws clause, that would allow to invoke `flatten()` recursively from the stream without any complaints.\r\n\r\n* The second problem stems from the need to coerce the elements to the `Integer` type. I would advise providing `Class&lt;T&gt;` as an argument it would make the solution both clean an versatile. Or alternatively, return type can be changed to `Object[]` (*chose the option which is more suitable depending on your needs*).\r\n\r\nLet&#39;s start with a simple implementation that returns array of type `Object[]`. In order to implement flattening logic I&#39;ve used Java 16 [`mapMulti()`][mapMulti] since it&#39;s more suitable when you need to incorporate imperative logic into the stream.\r\n\r\n    public static Object[] flatten(Object[] inputArray) {\r\n        \r\n        return Arrays.stream(inputArray)\r\n            .mapMulti((element, consumer) -&gt; {\r\n                if (element instanceof Object[] arr) for (var next: flatten(arr)) consumer.accept(next);\r\n                else consumer.accept(element);\r\n            })\r\n            .toArray();\r\n    }\r\n\r\nIf we switch to generic implementation, the return type needs to be changed to a `List&lt;T&gt;` (or `Collection&lt;T&gt;`), otherwise we run into a problem of creating a generic array. Generics and array do not play well together and it highly advisable to favor Collections over arrays, hence I&#39;ll go with `List&lt;T&gt;` as a return type.\r\n\r\n    public static &lt;T&gt; List&lt;T&gt; flatten(Object[] inputArray, Class&lt;T&gt; tClass) {\r\n        \r\n        return Arrays.stream(inputArray)\r\n            .&lt;T&gt;mapMulti((element, consumer) -&gt; {\r\n                if (element instanceof Object[] arr) for (var next: flatten(arr, tClass)) consumer.accept(next);\r\n                else consumer.accept(tClass.cast(element));\r\n            })\r\n            .toList();\r\n    }\r\n\r\n`main()`\r\n\r\n    public static void main(String[] args) {\r\n        Object[] array = { 1, 2, new Object[]{ 3, 4, new Object[]{ 5 }, 6, 7 }, 8, 9, 10 };\r\n    \r\n        System.out.println(Arrays.toString(flatten(array)));\r\n    \r\n        Object[] string = { &quot;A&quot;, &quot;B&quot;, new Object[]{ &quot;C&quot;, &quot;D&quot;, new Object[]{ &quot;E&quot; }, &quot;F&quot;, &quot;G&quot; }, &quot;H&quot;, &quot;I&quot;, &quot;J&quot; };\r\n        \r\n        List&lt;String&gt; flattenedString = flatten(string, String.class);\r\n    \r\n        System.out.println(flattenedString);\r\n    }\r\n\r\n*Output:*\r\n\r\n```\r\n[1, 2, 3, 4, 5, 6, 7, 8, 9, 10]\r\n[A, B, C, D, E, F, G, H, I, J]\r\n```\r\n\r\n## Update\r\n\r\nHere&#39;s another way to solve this problem using `Stream.flatMap()`, built upon [*this answer by @Holger*][holger&#39;s answer].\r\n\r\nFor that, we can split the logic into two parts: a helper-method that performs recursive flattening and a method that generates the result of the required type.\r\n\r\nAnd, well, since it&#39;s another solution I&#39;ve decided to change the resulting type to `T[]` (in case if you really need an array as a result). There&#39;s no clean and easy way to create a generic array which should be exposed to the outside context (in this case, creating `Object[]` and casting to `T[]` would result in `ClassCastException`). To address this issue, we can employ the Reflection API to allocate the array in memory via `Array.newInstance()` and then type cast it.\r\n\r\n    public static &lt;T&gt; T[] flatten(Object[] inputArray, Class&lt;T&gt; tClass) {\r\n        \r\n        return flattenAsStream(inputArray, tClass)\r\n            .toArray(n -&gt; (T[]) Array.newInstance(tClass, n));\r\n    }\r\n    \r\n    public static &lt;T&gt; Stream&lt;T&gt; flattenAsStream(Object[] inputArray, Class&lt;T&gt; tClass) {\r\n        \r\n        return Arrays.stream(inputArray)\r\n            .flatMap(e -&gt; e instanceof Object[] arr ?\r\n                flattenAsStream(arr, tClass) : Stream.of(tClass.cast(e))\r\n            );\r\n    }\r\n\r\n\r\n\r\n   [mapMulti]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#mapMulti(java.util.function.BiConsumer)\r\n\r\n   [holger&#39;s answer]: https://stackoverflow.com/a/44909768/2711488","title":"Unhandled checked Exception while flattening an Array of Objects recursively using Streams in Java 8","body":"<p>There are two main issues:</p>\n<ul>\n<li><p>Type <code>Exception</code> is a <em>checked exception</em>. The problem is that none of the built-in JDK functions declares to throw a <em>checked exception</em>, which imposes restriction on their implementations. Therefore, the simplest solution would be to remove throws clause, that would allow to invoke <code>flatten()</code> recursively from the stream without any complaints.</p>\n</li>\n<li><p>The second problem stems from the need to coerce the elements to the <code>Integer</code> type. I would advise providing <code>Class&lt;T&gt;</code> as an argument it would make the solution both clean an versatile. Or alternatively, return type can be changed to <code>Object[]</code> (<em>chose the option which is more suitable depending on your needs</em>).</p>\n</li>\n</ul>\n<p>Let's start with a simple implementation that returns array of type <code>Object[]</code>. In order to implement flattening logic I've used Java 16 <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#mapMulti(java.util.function.BiConsumer)\" rel=\"nofollow noreferrer\"><code>mapMulti()</code></a> since it's more suitable when you need to incorporate imperative logic into the stream.</p>\n<pre><code>public static Object[] flatten(Object[] inputArray) {\n    \n    return Arrays.stream(inputArray)\n        .mapMulti((element, consumer) -&gt; {\n            if (element instanceof Object[] arr) for (var next: flatten(arr)) consumer.accept(next);\n            else consumer.accept(element);\n        })\n        .toArray();\n}\n</code></pre>\n<p>If we switch to generic implementation, the return type needs to be changed to a <code>List&lt;T&gt;</code> (or <code>Collection&lt;T&gt;</code>), otherwise we run into a problem of creating a generic array. Generics and array do not play well together and it highly advisable to favor Collections over arrays, hence I'll go with <code>List&lt;T&gt;</code> as a return type.</p>\n<pre><code>public static &lt;T&gt; List&lt;T&gt; flatten(Object[] inputArray, Class&lt;T&gt; tClass) {\n    \n    return Arrays.stream(inputArray)\n        .&lt;T&gt;mapMulti((element, consumer) -&gt; {\n            if (element instanceof Object[] arr) for (var next: flatten(arr, tClass)) consumer.accept(next);\n            else consumer.accept(tClass.cast(element));\n        })\n        .toList();\n}\n</code></pre>\n<p><code>main()</code></p>\n<pre><code>public static void main(String[] args) {\n    Object[] array = { 1, 2, new Object[]{ 3, 4, new Object[]{ 5 }, 6, 7 }, 8, 9, 10 };\n\n    System.out.println(Arrays.toString(flatten(array)));\n\n    Object[] string = { &quot;A&quot;, &quot;B&quot;, new Object[]{ &quot;C&quot;, &quot;D&quot;, new Object[]{ &quot;E&quot; }, &quot;F&quot;, &quot;G&quot; }, &quot;H&quot;, &quot;I&quot;, &quot;J&quot; };\n    \n    List&lt;String&gt; flattenedString = flatten(string, String.class);\n\n    System.out.println(flattenedString);\n}\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>[1, 2, 3, 4, 5, 6, 7, 8, 9, 10]\n[A, B, C, D, E, F, G, H, I, J]\n</code></pre>\n<h2>Update</h2>\n<p>Here's another way to solve this problem using <code>Stream.flatMap()</code>, built upon <a href=\"https://stackoverflow.com/a/44909768/2711488\"><em>this answer by @Holger</em></a>.</p>\n<p>For that, we can split the logic into two parts: a helper-method that performs recursive flattening and a method that generates the result of the required type.</p>\n<p>And, well, since it's another solution I've decided to change the resulting type to <code>T[]</code> (in case if you really need an array as a result). There's no clean and easy way to create a generic array which should be exposed to the outside context (in this case, creating <code>Object[]</code> and casting to <code>T[]</code> would result in <code>ClassCastException</code>). To address this issue, we can employ the Reflection API to allocate the array in memory via <code>Array.newInstance()</code> and then type cast it.</p>\n<pre><code>public static &lt;T&gt; T[] flatten(Object[] inputArray, Class&lt;T&gt; tClass) {\n    \n    return flattenAsStream(inputArray, tClass)\n        .toArray(n -&gt; (T[]) Array.newInstance(tClass, n));\n}\n\npublic static &lt;T&gt; Stream&lt;T&gt; flattenAsStream(Object[] inputArray, Class&lt;T&gt; tClass) {\n    \n    return Arrays.stream(inputArray)\n        .flatMap(e -&gt; e instanceof Object[] arr ?\n            flattenAsStream(arr, tClass) : Stream.of(tClass.cast(e))\n        );\n}\n</code></pre>\n"}],"owner":{"account_id":27208045,"reputation":1,"user_id":20739301,"display_name":"vibhanshu jha"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670848411,"creation_date":1670769633,"question_id":74761736,"body_markdown":"I am trying to flatten an array of Objects recursively.\r\n\r\nFor Example\r\n\r\n*Input:*\r\n\r\n```\r\nObject[] array = { 1, 2, new Object[]{ 3, 4, new Object[]{ 5 }, 6, 7 }, 8, 9, 10 };\r\n```\r\n\r\n*Output:*\r\n\r\n```\r\n[1,2,3,4,5,6,7,8,9,10]\r\n```\r\n\r\n\r\nWhile making the recursive call, I am getting a compilation:\r\n```\r\nunreported exception java.lang.Exception; must be caught or declared to be thrown\r\n```\r\n\r\nHow can I fix it?\r\n\r\n*My code:*\r\n\r\n    public static Integer[] flatten(Object[] inputArray) throws Exception {\r\n        \r\n        //Convert inputArray to stream of object\r\n        Stream&lt;Object&gt; stream = Arrays.stream(inputArray);\r\n        //Recursively using flat map flatten the array by mapping each element to a stream\r\n        stream.flatMap(o -&gt; o instanceof Object[] ? flatten((Object[])o) : Stream.of(o));\r\n        Integer[] flattenedArray = stream.toArray(Integer[]::new);\r\n        return flattenedArray;\r\n    }","title":"Unhandled checked Exception while flattening an Array of Objects recursively using Streams in Java 8","body":"<p>I am trying to flatten an array of Objects recursively.</p>\n<p>For Example</p>\n<p><em>Input:</em></p>\n<pre><code>Object[] array = { 1, 2, new Object[]{ 3, 4, new Object[]{ 5 }, 6, 7 }, 8, 9, 10 };\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>[1,2,3,4,5,6,7,8,9,10]\n</code></pre>\n<p>While making the recursive call, I am getting a compilation:</p>\n<pre><code>unreported exception java.lang.Exception; must be caught or declared to be thrown\n</code></pre>\n<p>How can I fix it?</p>\n<p><em>My code:</em></p>\n<pre><code>public static Integer[] flatten(Object[] inputArray) throws Exception {\n    \n    //Convert inputArray to stream of object\n    Stream&lt;Object&gt; stream = Arrays.stream(inputArray);\n    //Recursively using flat map flatten the array by mapping each element to a stream\n    stream.flatMap(o -&gt; o instanceof Object[] ? flatten((Object[])o) : Stream.of(o));\n    Integer[] flattenedArray = stream.toArray(Integer[]::new);\n    return flattenedArray;\n}\n</code></pre>\n"},{"tags":["java","intellij-idea","postman"],"comments":[{"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"score":0,"creation_date":1670379234,"post_id":74700931,"comment_id":131861714,"body_markdown":"Please add screenshot of request in postman.","body":"Please add screenshot of request in postman."},{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1670848310,"post_id":74700931,"comment_id":131960728,"body_markdown":"ECONNREFUSED means that the TCP/IP connection wasn&#39;t accepted, which means you can easily ignore any headers, because the problem happens way before they are found. What&#39;s the output of `netstat -tlpn` on your machine (that&#39;s on Linux, no idea how to get that on Windows). Where is the server running that you&#39;re trying to connect to? What happens when you contact `http://127.0.0.1:8080` in your browser?","body":"ECONNREFUSED means that the TCP/IP connection wasn&#39;t accepted, which means you can easily ignore any headers, because the problem happens way before they are found. What&#39;s the output of <code>netstat -tlpn</code> on your machine (that&#39;s on Linux, no idea how to get that on Windows). Where is the server running that you&#39;re trying to connect to? What happens when you contact <code>http:&#47;&#47;127.0.0.1:8080</code> in your browser?"},{"owner":{"account_id":1947573,"reputation":6810,"user_id":1752366,"accept_rate":54,"display_name":"silentsudo"},"score":0,"creation_date":1670849304,"post_id":74700931,"comment_id":131961058,"body_markdown":"if you are on *nix based system, please check if your server is indeed running using `lsof -i :8080` command and check process id, kill if you want to restart it again","body":"if you are on *nix based system, please check if your server is indeed running using <code>lsof -i :8080</code> command and check process id, kill if you want to restart it again"}],"owner":{"account_id":27163423,"reputation":1,"user_id":20701260,"display_name":"lenae"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1551,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670848232,"creation_date":1670322581,"question_id":74700931,"body_markdown":"I&#39;m working on a small project and I have to send a post request in postman, but I continue to get to connect, ECONNREFUSED 127.0.0.1:8080 error occurred.\r\n\r\nI&#39;ve already checked that I&#39;m using the correct port and changed a few proxy setting to try and fix the problem, but nothing seems to work. When I run the project on IntelliJ, I have no errors, so I really don&#39;t know how to solve the problem.\r\n\r\n```\r\nError: connect ECONNREFUSED 127.0.0.1:8080\r\nRequest Headers\r\nContent-Type: application/json\r\nUser-Agent: PostmanRuntime/7.29.2\r\nAccept: */*\r\nCache-Control: no-cache\r\nPostman-Token: 6ea87f2c-511f-4124-a1ac-3c7d29fb6c81\r\nHost: localhost:8080\r\nAccept-Encoding: gzip, deflate, br\r\nConnection: keep-alive\r\n```","title":"Error: connect ECONNREFUSED 127.0.0.1:8080 || POSTMAN","body":"<p>I'm working on a small project and I have to send a post request in postman, but I continue to get to connect, ECONNREFUSED 127.0.0.1:8080 error occurred.</p>\n<p>I've already checked that I'm using the correct port and changed a few proxy setting to try and fix the problem, but nothing seems to work. When I run the project on IntelliJ, I have no errors, so I really don't know how to solve the problem.</p>\n<pre><code>Error: connect ECONNREFUSED 127.0.0.1:8080\nRequest Headers\nContent-Type: application/json\nUser-Agent: PostmanRuntime/7.29.2\nAccept: */*\nCache-Control: no-cache\nPostman-Token: 6ea87f2c-511f-4124-a1ac-3c7d29fb6c81\nHost: localhost:8080\nAccept-Encoding: gzip, deflate, br\nConnection: keep-alive\n</code></pre>\n"},{"tags":["java","json","jackson"],"answers":[{"tags":[],"owner":{"account_id":5309582,"reputation":802,"user_id":4236391,"display_name":"Jaydip Rakholiya"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1536181615,"creation_date":1536181615,"answer_id":52193389,"question_id":52193177,"body_markdown":"Possible duplicate of - https://stackoverflow.com/questions/37010891/how-to-map-a-nested-value-to-a-property-using-jackson-annotations\r\n\r\n    String id;\r\n    \r\n    @JsonProperty(&quot;ID&quot;)\r\n    private void unpackNameFromNestedObject(Map&lt;String, String&gt; id) {\r\n        this.id= id.get(&quot;uniqueID&quot;);\r\n    }","title":"How to get property not only from root level","body":"<p>Possible duplicate of - <a href=\"https://stackoverflow.com/questions/37010891/how-to-map-a-nested-value-to-a-property-using-jackson-annotations\">How to map a nested value to a property using Jackson annotations?</a></p>\n\n<pre><code>String id;\n\n@JsonProperty(\"ID\")\nprivate void unpackNameFromNestedObject(Map&lt;String, String&gt; id) {\n    this.id= id.get(\"uniqueID\");\n}\n</code></pre>\n"}],"owner":{"account_id":13346356,"reputation":57,"user_id":9632967,"display_name":"Oleg Zdanevich"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":234,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1670848233,"accepted_answer_id":52193389,"answer_count":1,"score":1,"last_activity_date":1670848217,"creation_date":1536180476,"question_id":52193177,"body_markdown":"I have some troubles with parsing JSON using Jackson library\r\n\r\n```json\r\n{\r\n\t&quot;userName&quot;: &quot;blablabla@gmail.com&quot;,\r\n\t\t&quot;ID&quot;: {\r\n\t\t\t&quot;uniqueID&quot;: &quot;1234567&quot;\r\n\t\t}\r\n}\r\n```\r\n\r\nThis is the part of the JSON, and my model is:\r\n\r\n```java\r\npublic class UserIdAndMail {\r\n\t@JsonProperty(&quot;uniqueID&quot;)\r\n\tprivate String id;\r\n\r\n\t\r\n\t@JsonProperty(&quot;userName&quot;)\r\n\tprivate String mail;\r\n\r\n\tpublic UserIdAndMail(String id, String mail) {\r\n\t\tthis.id = id;\r\n\t\tthis.mail = mail;\r\n\t}\r\n\r\n\tpublic UserIdAndMail() {}\r\n\r\n\tpublic String getId() {\r\n\t\treturn id;\r\n\t}\r\n\r\n\tpublic void setId(String id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\r\n\tpublic String getMail() {\r\n\t\treturn mail;\r\n\t}\r\n\r\n\tpublic void setMail(String mail) {\r\n\t\tthis.mail = mail;\r\n\t}\r\n}\r\n```\r\n\r\n`&#39;uniqueID&#39;` becomes `null` value when I try to parse the JSON to object. I have no idea how to get this field without creating an additional class `&quot;ID&quot;`. Can there be a simpler solution to this task?\r\n\t","title":"How to get property not only from root level","body":"<p>I have some troubles with parsing JSON using Jackson library</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;userName&quot;: &quot;blablabla@gmail.com&quot;,\n        &quot;ID&quot;: {\n            &quot;uniqueID&quot;: &quot;1234567&quot;\n        }\n}\n</code></pre>\n<p>This is the part of the JSON, and my model is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class UserIdAndMail {\n    @JsonProperty(&quot;uniqueID&quot;)\n    private String id;\n\n    \n    @JsonProperty(&quot;userName&quot;)\n    private String mail;\n\n    public UserIdAndMail(String id, String mail) {\n        this.id = id;\n        this.mail = mail;\n    }\n\n    public UserIdAndMail() {}\n\n    public String getId() {\n        return id;\n    }\n\n    public void setId(String id) {\n        this.id = id;\n    }\n\n    public String getMail() {\n        return mail;\n    }\n\n    public void setMail(String mail) {\n        this.mail = mail;\n    }\n}\n</code></pre>\n<p><code>'uniqueID'</code> becomes <code>null</code> value when I try to parse the JSON to object. I have no idea how to get this field without creating an additional class <code>&quot;ID&quot;</code>. Can there be a simpler solution to this task?</p>\n"},{"tags":["java","selenium","google-chrome","selenium-webdriver","selenium-chromedriver"],"comments":[{"owner":{"account_id":10404380,"reputation":2588,"user_id":7671727,"display_name":"AbiSaran"},"score":1,"creation_date":1670849344,"post_id":74771036,"comment_id":131961076,"body_markdown":"The error says &#39;Invalid Selector Exception: Compound class names nor permitted&#39;, it is related to the locator you&#39;ve used, post the code you&#39;ve tried.","body":"The error says &#39;Invalid Selector Exception: Compound class names nor permitted&#39;, it is related to the locator you&#39;ve used, post the code you&#39;ve tried."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1670850646,"post_id":74771036,"comment_id":131961486,"body_markdown":"While you write &quot;Chromedriver version : 108.0.5359.71&quot; the output shows that you are using &quot;Chromedriver version : 107.0.5304.62&quot;. But this is just a warning and most probably not the root cause of your problem.","body":"While you write &quot;Chromedriver version : 108.0.5359.71&quot; the output shows that you are using &quot;Chromedriver version : 107.0.5304.62&quot;. But this is just a warning and most probably not the root cause of your problem."}],"owner":{"account_id":20251640,"reputation":11,"user_id":14852573,"display_name":"ozge uysal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1670850659,"answer_count":0,"score":1,"last_activity_date":1670847712,"creation_date":1670847712,"question_id":74771036,"body_markdown":"I&#39;m using selenium, chromedriver. I got this error when I started my Test\r\n\r\nChromeDriver was started successfully.\r\n[1670846258.729][WARNING]: This version of ChromeDriver has not been tested with Chrome version 108.\r\n\r\nAnd I also got &quot;Compound class names not permitted&quot; error.\r\n\r\nWhat could be the problem?\r\n\r\nchrome version : 108.0.5359.99 \r\nChromedriver version : 108.0.5359.71\r\n\r\n\r\n[enter image description here](https://i.stack.imgur.com/xfgCR.png)\r\n\r\n\r\n\r\nI even updated my dependencies to latest version.\r\n\r\n[enter image description here](https://i.stack.imgur.com/ZqgQI.png)","title":"&quot;This version of ChromeDriver has not been tested with Chrome version 108&quot; error with Selenium ChromeDriver","body":"<p>I'm using selenium, chromedriver. I got this error when I started my Test</p>\n<p>ChromeDriver was started successfully.\n[1670846258.729][WARNING]: This version of ChromeDriver has not been tested with Chrome version 108.</p>\n<p>And I also got &quot;Compound class names not permitted&quot; error.</p>\n<p>What could be the problem?</p>\n<p>chrome version : 108.0.5359.99\nChromedriver version : 108.0.5359.71</p>\n<p><a href=\"https://i.stack.imgur.com/xfgCR.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I even updated my dependencies to latest version.</p>\n<p><a href=\"https://i.stack.imgur.com/ZqgQI.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","localdate"],"comments":[{"owner":{"account_id":341129,"reputation":39091,"user_id":671543,"accept_rate":55,"display_name":"njzk2"},"score":0,"creation_date":1621544130,"post_id":67627649,"comment_id":119535754,"body_markdown":"what time is &quot;myBeanObject&quot;?","body":"what time is &quot;myBeanObject&quot;?"},{"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1621544462,"post_id":67627649,"comment_id":119535871,"body_markdown":"Simply remove `m.setdateFormat(new SimpledateFormat(&quot;yyyy-MM-dd&quot;));`. Anyway, `LocalDate` belongs to the modern date-time API and it needs to be formatted using `DateTimeFomatter`, if required. The default format of `LocalDate#toString()` is `yyyy-MM-dd`.","body":"Simply remove <code>m.setdateFormat(new SimpledateFormat(&quot;yyyy-MM-dd&quot;));</code>. Anyway, <code>LocalDate</code> belongs to the modern date-time API and it needs to be formatted using <code>DateTimeFomatter</code>, if required. The default format of <code>LocalDate#toString()</code> is <code>yyyy-MM-dd</code>."}],"answers":[{"tags":[],"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1621544250,"creation_date":1621544250,"answer_id":67627841,"question_id":67627649,"body_markdown":"Try to add this dependency: \r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\r\n        &lt;version&gt;2.8.6&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nThen setup your `ObjectMapper` as follows: \r\n\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    mapper.registerModule(new JavaTimeModule());\r\n    mapper.disable(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS);","title":"Jackson ObjectMapper serializing local date into a long string","body":"<p>Try to add this dependency:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\n    &lt;version&gt;2.8.6&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Then setup your <code>ObjectMapper</code> as follows:</p>\n<pre><code>ObjectMapper mapper = new ObjectMapper();\nmapper.registerModule(new JavaTimeModule());\nmapper.disable(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":114741,"reputation":212,"user_id":301573,"display_name":"LoBo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670847611,"creation_date":1670783598,"answer_id":74763461,"question_id":67627649,"body_markdown":"If you don&#39;t want to add additional dependencies to your project, you can create a module for `ObjectMapper` yourself. Here is an example:\r\n\r\n    package com.yourexample.serialization\r\n        \r\n    import com.fasterxml.jackson.core.JsonGenerator;\r\n    import com.fasterxml.jackson.core.JsonProcessingException;\r\n    import com.fasterxml.jackson.core.Version;\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import com.fasterxml.jackson.databind.SerializerProvider;\r\n    import com.fasterxml.jackson.databind.module.SimpleModule;\r\n    import com.fasterxml.jackson.databind.ser.std.StdSerializer;\r\n    import java.io.IOException;\r\n    import java.time.LocalDate;\r\n    import java.time.format.DateTimeFormatter;\r\n    import org.junit.Assert;\r\n    import org.junit.Test;\r\n    \r\n    public class NoDependenciesTest {\r\n    \t@Test\r\n    \tpublic void testSerialization() throws JsonProcessingException {\r\n    \t\tTestUser user = new TestUser(&quot;John Doe&quot;, LocalDate.of(2022, 12, 11));\r\n    \t\tString json = writeToJson(user);\r\n    \t\tAssert.assertEquals(&quot;{\\&quot;name\\&quot;:\\&quot;John Doe\\&quot;,\\&quot;birthDate\\&quot;:\\&quot;2022-12-11\\&quot;}&quot;, json);\r\n    \t}\r\n    \r\n    \tpublic static String writeToJson(Object object) throws JsonProcessingException {\r\n    \t\tObjectMapper mapper = new ObjectMapper();\r\n    \t\tSimpleModule module = new SimpleModule(&quot;LocalDateSerializer&quot;, new Version(1, 0, 0, null, null, null));\r\n    \t\tmodule.addSerializer(LocalDate.class, new LocalDateSerializer());\r\n    \t\tmapper.registerModule(module);\r\n    \t\treturn mapper.writeValueAsString(object);\r\n    \t}\r\n    \r\n    \tprivate static class LocalDateSerializer extends StdSerializer&lt;LocalDate&gt; {\r\n    \t\tprivate static final long serialVersionUID = -1203520161919841191L;\r\n    \r\n    \t\tprotected LocalDateSerializer() {\r\n    \t\t\tsuper(LocalDate.class);\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic void serialize(LocalDate date, JsonGenerator generator, SerializerProvider serializerProvider)\r\n    \t\t\t\tthrows IOException {\r\n    \t\t\tif (date != null) {\r\n    \t\t\t\tgenerator.writeString(date.format(DateTimeFormatter.ISO_LOCAL_DATE));\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprivate static class TestUser {\r\n    \t\tprivate String name;\r\n    \t\tprivate java.time.LocalDate birthDate;\r\n    \r\n    \t\tpublic TestUser(String name, java.time.LocalDate birthDate) {\r\n    \t\t\tthis.name = name;\r\n    \t\t\tthis.birthDate = birthDate;\r\n    \t\t}\r\n    \r\n    \t\tpublic String getName() {\r\n    \t\t\treturn name;\r\n    \t\t}\r\n    \r\n    \t\tpublic void setName(String name) {\r\n    \t\t\tthis.name = name;\r\n    \t\t}\r\n    \r\n    \t\tpublic java.time.LocalDate getBirthDate() {\r\n    \t\t\treturn birthDate;\r\n    \t\t}\r\n    \r\n    \t\tpublic void setBirthDate(java.time.LocalDate birthDate) {\r\n    \t\t\tthis.birthDate = birthDate;\r\n    \t\t}\r\n    \t}\r\n    }\r\n","title":"Jackson ObjectMapper serializing local date into a long string","body":"<p>If you don't want to add additional dependencies to your project, you can create a module for <code>ObjectMapper</code> yourself. Here is an example:</p>\n<pre><code>package com.yourexample.serialization\n    \nimport com.fasterxml.jackson.core.JsonGenerator;\nimport com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.core.Version;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.databind.SerializerProvider;\nimport com.fasterxml.jackson.databind.module.SimpleModule;\nimport com.fasterxml.jackson.databind.ser.std.StdSerializer;\nimport java.io.IOException;\nimport java.time.LocalDate;\nimport java.time.format.DateTimeFormatter;\nimport org.junit.Assert;\nimport org.junit.Test;\n\npublic class NoDependenciesTest {\n    @Test\n    public void testSerialization() throws JsonProcessingException {\n        TestUser user = new TestUser(&quot;John Doe&quot;, LocalDate.of(2022, 12, 11));\n        String json = writeToJson(user);\n        Assert.assertEquals(&quot;{\\&quot;name\\&quot;:\\&quot;John Doe\\&quot;,\\&quot;birthDate\\&quot;:\\&quot;2022-12-11\\&quot;}&quot;, json);\n    }\n\n    public static String writeToJson(Object object) throws JsonProcessingException {\n        ObjectMapper mapper = new ObjectMapper();\n        SimpleModule module = new SimpleModule(&quot;LocalDateSerializer&quot;, new Version(1, 0, 0, null, null, null));\n        module.addSerializer(LocalDate.class, new LocalDateSerializer());\n        mapper.registerModule(module);\n        return mapper.writeValueAsString(object);\n    }\n\n    private static class LocalDateSerializer extends StdSerializer&lt;LocalDate&gt; {\n        private static final long serialVersionUID = -1203520161919841191L;\n\n        protected LocalDateSerializer() {\n            super(LocalDate.class);\n        }\n\n        @Override\n        public void serialize(LocalDate date, JsonGenerator generator, SerializerProvider serializerProvider)\n                throws IOException {\n            if (date != null) {\n                generator.writeString(date.format(DateTimeFormatter.ISO_LOCAL_DATE));\n            }\n        }\n    }\n\n    private static class TestUser {\n        private String name;\n        private java.time.LocalDate birthDate;\n\n        public TestUser(String name, java.time.LocalDate birthDate) {\n            this.name = name;\n            this.birthDate = birthDate;\n        }\n\n        public String getName() {\n            return name;\n        }\n\n        public void setName(String name) {\n            this.name = name;\n        }\n\n        public java.time.LocalDate getBirthDate() {\n            return birthDate;\n        }\n\n        public void setBirthDate(java.time.LocalDate birthDate) {\n            this.birthDate = birthDate;\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2578695,"reputation":2676,"user_id":2235839,"accept_rate":67,"display_name":"A Nice Guy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4366,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1670847611,"creation_date":1621543292,"question_id":67627649,"body_markdown":"I am trying to serialize my myBeanObject using jackson Objectmapper.\r\nThis is what I have:\r\n\r\n    Objectmapper m= new Objectmapper()\r\n    m.setdateFormat(new SimpledateFormat(&quot;yyyy-MM-dd&quot;)); \r\n    String json = m.writeValueAsString(myBeanObject);\r\n\r\nProblem is a LocalDate variable in my bean is getting serialised into a long String, something like {&quot;year&quot;:1970,&quot;month&quot;:&quot;JANUARY&quot;...}\r\n\r\nI want  the LocalDate to become simple like &quot;1970-01-01&quot;\r\n\r\nCan someone please help? ","title":"Jackson ObjectMapper serializing local date into a long string","body":"<p>I am trying to serialize my myBeanObject using jackson Objectmapper.\nThis is what I have:</p>\n<pre><code>Objectmapper m= new Objectmapper()\nm.setdateFormat(new SimpledateFormat(&quot;yyyy-MM-dd&quot;)); \nString json = m.writeValueAsString(myBeanObject);\n</code></pre>\n<p>Problem is a LocalDate variable in my bean is getting serialised into a long String, something like {&quot;year&quot;:1970,&quot;month&quot;:&quot;JANUARY&quot;...}</p>\n<p>I want  the LocalDate to become simple like &quot;1970-01-01&quot;</p>\n<p>Can someone please help?</p>\n"},{"tags":["java","java-ee-6"],"owner":{"account_id":11155940,"reputation":75,"user_id":8187659,"display_name":"slema imen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670847097,"creation_date":1670846722,"question_id":74770855,"body_markdown":"I&#39;m trying to read variables from json.properties and web.xml using the @Resource.In the same time i need to inject the class into another services:\r\nthis my class :\r\n\r\n    @Named\r\n    @ApplicationScoped\r\n    public class TestServiceImpl implements ITestService {\r\n\r\n \r\n\r\n    @Resource(name = &quot;smsEndpoint&quot;)\r\n    private String smsEndpoint;\r\n\r\n    @Resource(name = &quot;smsUsername&quot;)\r\n    private String smsUsername;\r\n\r\n    @Resource(name = &quot;smsPassword&quot;)\r\n    private String smsPassword;\r\n\r\n    @Override\r\n    public void sendSMS(SMS sms) throws IOException {}\r\n    }\r\n\r\n\r\nand this an example to inject this class into this service:\r\n \r\n\r\n     @Inject \r\n     private ITestService smsService; \r\n\r\n\r\nbut I can&#39; succeded to read this variable from the files, I got this exception :\r\nCaused by: javax.naming.NameNotFoundException: java:comp/env/smsEndpoint\r\n\r\nAny idea which annotation i need to put for my service that can read the ressource and also can be injected?Thanks in advance.\r\n","title":"How read a resource in a @ApplicationScoped Service?","body":"<p>I'm trying to read variables from json.properties and web.xml using the @Resource.In the same time i need to inject the class into another services:\nthis my class :</p>\n<pre><code>@Named\n@ApplicationScoped\npublic class TestServiceImpl implements ITestService {\n\n\n\n@Resource(name = &quot;smsEndpoint&quot;)\nprivate String smsEndpoint;\n\n@Resource(name = &quot;smsUsername&quot;)\nprivate String smsUsername;\n\n@Resource(name = &quot;smsPassword&quot;)\nprivate String smsPassword;\n\n@Override\npublic void sendSMS(SMS sms) throws IOException {}\n}\n</code></pre>\n<p>and this an example to inject this class into this service:</p>\n<pre><code> @Inject \n private ITestService smsService; \n</code></pre>\n<p>but I can' succeded to read this variable from the files, I got this exception :\nCaused by: javax.naming.NameNotFoundException: java:comp/env/smsEndpoint</p>\n<p>Any idea which annotation i need to put for my service that can read the ressource and also can be injected?Thanks in advance.</p>\n"},{"tags":["java","collections"],"comments":[{"owner":{"account_id":5122294,"reputation":11550,"user_id":4105457,"display_name":"Flown"},"score":2,"creation_date":1509605056,"post_id":47069125,"comment_id":81086054,"body_markdown":"Do you know what lambda expressions are?","body":"Do you know what lambda expressions are?"},{"owner":{"account_id":11440512,"reputation":2403,"user_id":8386274,"display_name":"chand mohd"},"score":0,"creation_date":1509605333,"post_id":47069125,"comment_id":81086174,"body_markdown":"yeah @flown i know the basic of lamda and while learning i got these doubt .","body":"yeah @flown i know the basic of lamda and while learning i got these doubt ."},{"owner":{"account_id":5122294,"reputation":11550,"user_id":4105457,"display_name":"Flown"},"score":1,"creation_date":1509605467,"post_id":47069125,"comment_id":81086238,"body_markdown":"Basically lambda expressions are single abstract method interfaces. So, which interface would you implement to do your task? Or are you trying to use the `Stream` API?","body":"Basically lambda expressions are single abstract method interfaces. So, which interface would you implement to do your task? Or are you trying to use the <code>Stream</code> API?"},{"owner":{"account_id":11440512,"reputation":2403,"user_id":8386274,"display_name":"chand mohd"},"score":0,"creation_date":1509606150,"post_id":47069125,"comment_id":81086576,"body_markdown":"@Flown i&#39;m not dealing with interface right now  yes i&#39;m trying to use stream API. and i&#39;m trying to re factor above piece of code by lamda expression but i&#39;m not getting how to do so i asked","body":"@Flown i&#39;m not dealing with interface right now  yes i&#39;m trying to use stream API. and i&#39;m trying to re factor above piece of code by lamda expression but i&#39;m not getting how to do so i asked"}],"answers":[{"comments":[{"owner":{"account_id":11440512,"reputation":2403,"user_id":8386274,"display_name":"chand mohd"},"score":0,"creation_date":1509605694,"post_id":47069204,"comment_id":81086341,"body_markdown":"thank you @janos but if i want to just write this piece of code by using lamda expression then how would i do that?","body":"thank you @janos but if i want to just write this piece of code by using lamda expression then how would i do that?"},{"owner":{"account_id":322516,"reputation":121953,"user_id":641955,"accept_rate":72,"display_name":"janos"},"score":0,"creation_date":1509606008,"post_id":47069204,"comment_id":81086517,"body_markdown":"@chandmohd I changed the first variation to use a lambda expression. But that&#39;s missing the point. This is not a typical or recommended use case for lambdas.","body":"@chandmohd I changed the first variation to use a lambda expression. But that&#39;s missing the point. This is not a typical or recommended use case for lambdas."},{"owner":{"account_id":11440512,"reputation":2403,"user_id":8386274,"display_name":"chand mohd"},"score":0,"creation_date":1509606497,"post_id":47069204,"comment_id":81086759,"body_markdown":"i got the point but as you said that this is not recommended use .why ? are you saying in term of performance? if yes then how would i see which method taking how much time  to execute ?","body":"i got the point but as you said that this is not recommended use .why ? are you saying in term of performance? if yes then how would i see which method taking how much time  to execute ?"},{"owner":{"account_id":322516,"reputation":121953,"user_id":641955,"accept_rate":72,"display_name":"janos"},"score":0,"creation_date":1509608762,"post_id":47069204,"comment_id":81087933,"body_markdown":"@chandmohd If you want to add all elements of list X to list Y, it&#39;s best to use `Y.addAll(X)` because that&#39;s the API designed for this, and you can expect implementations to be more optimal than other hand-crafted solutions. If you have individual items and you want to add them to a list, then the natural way is to add them one by one, rather than creating temporary objects to wrap them just so that you can use lambdas. A better example using lambdas would be something that requires passing a function as parameter.","body":"@chandmohd If you want to add all elements of list X to list Y, it&#39;s best to use <code>Y.addAll(X)</code> because that&#39;s the API designed for this, and you can expect implementations to be more optimal than other hand-crafted solutions. If you have individual items and you want to add them to a list, then the natural way is to add them one by one, rather than creating temporary objects to wrap them just so that you can use lambdas. A better example using lambdas would be something that requires passing a function as parameter."}],"tags":[],"owner":{"account_id":322516,"reputation":121953,"user_id":641955,"accept_rate":72,"display_name":"janos"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1509605850,"creation_date":1509605298,"answer_id":47069204,"question_id":47069125,"body_markdown":"You *could* write:\r\n\r\n    Arrays.asList(book1, book2, ...).forEach(b -&gt; listOfBooks.add(b));\r\n\r\nOr shorter using a method reference instead of a lambda:\r\n\r\n    Arrays.asList(book1, book2, ...).forEach(listOfBooks::add);\r\n\r\nBut that&#39;s not really better than writing:\r\n\r\n    listOfBooks.addAll(Arrays.asList(book1, book2, ...));","title":"Lambda expression to add object into list","body":"<p>You <em>could</em> write:</p>\n\n<pre><code>Arrays.asList(book1, book2, ...).forEach(b -&gt; listOfBooks.add(b));\n</code></pre>\n\n<p>Or shorter using a method reference instead of a lambda:</p>\n\n<pre><code>Arrays.asList(book1, book2, ...).forEach(listOfBooks::add);\n</code></pre>\n\n<p>But that's not really better than writing:</p>\n\n<pre><code>listOfBooks.addAll(Arrays.asList(book1, book2, ...));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":11440512,"reputation":2403,"user_id":8386274,"display_name":"chand mohd"},"score":0,"creation_date":1509606659,"post_id":47069489,"comment_id":81086839,"body_markdown":"Thank you @Flown appreciated!!","body":"Thank you @Flown appreciated!!"}],"tags":[],"owner":{"account_id":5122294,"reputation":11550,"user_id":4105457,"display_name":"Flown"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1509606492,"creation_date":1509606492,"answer_id":47069489,"question_id":47069125,"body_markdown":"The `Stream` API is using lambda expression, but are not part of it.\r\n\r\n    public static List&lt;Books&gt; listOfBooks = new ArrayList&lt;&gt;();\r\n    public static void addProduct() {\r\n      String[] languages = {&quot;java&quot;, &quot;c&quot;, &quot;c++&quot;, &quot;javascript&quot;, &quot;Sql&quot;};\r\n      String[] authors = {&quot;games&quot;, &quot;dennis&quot;, &quot;Bjarne&quot;, &quot;Brendan&quot;, &quot;Donald&quot;};\r\n      double[] prices = {200.56d, 300.56d, 250.56d, 209.56d, 249.56d};\r\n      listOfBooks = IntStream.range(0, languages.length)\r\n                            .mapToObj(i -&gt; new Books(languages[i], authors[i], prices[i]))\r\n                            .collect(Collectors.toList());\r\n      // Alternatively:\r\n      /* IntStream.range(0, languages.length)\r\n              .mapToObj(i -&gt; new Books(languages[i], authors[i], prices[i]))\r\n              .forEach(listOfBooks::add);\r\n      */\r\n    }","title":"Lambda expression to add object into list","body":"<p>The <code>Stream</code> API is using lambda expression, but are not part of it.</p>\n\n<pre><code>public static List&lt;Books&gt; listOfBooks = new ArrayList&lt;&gt;();\npublic static void addProduct() {\n  String[] languages = {\"java\", \"c\", \"c++\", \"javascript\", \"Sql\"};\n  String[] authors = {\"games\", \"dennis\", \"Bjarne\", \"Brendan\", \"Donald\"};\n  double[] prices = {200.56d, 300.56d, 250.56d, 209.56d, 249.56d};\n  listOfBooks = IntStream.range(0, languages.length)\n                        .mapToObj(i -&gt; new Books(languages[i], authors[i], prices[i]))\n                        .collect(Collectors.toList());\n  // Alternatively:\n  /* IntStream.range(0, languages.length)\n          .mapToObj(i -&gt; new Books(languages[i], authors[i], prices[i]))\n          .forEach(listOfBooks::add);\n  */\n}\n</code></pre>\n"}],"owner":{"account_id":11440512,"reputation":2403,"user_id":8386274,"display_name":"chand mohd"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":498,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":47069489,"answer_count":2,"score":0,"last_activity_date":1670846963,"creation_date":1509604978,"question_id":47069125,"body_markdown":"there is a List&lt;Books&gt; and i want to create books object and add all the book object into this List&lt;Books&gt;. here I did with normal approach like this\t.\r\n\r\n    public static List&lt;Books&gt; listOfBooks = new ArrayList&lt;&gt;();\r\n    public static void addProduct() {\r\n    \t\tBooks book1 = new Books(&quot;java&quot;, &quot;games&quot;, 200.56);\r\n    \t\tBooks book2 = new Books(&quot;c&quot;, &quot;dennis&quot;, 300.56);\r\n    \t\tBooks book3 = new Books(&quot;c++&quot;, &quot;Bjarne&quot;, 250.56);\r\n    \t\tBooks book4 = new Books(&quot;javaScript&quot;, &quot;Brendan&quot;, 209.56);\r\n    \t\tBooks book5 = new Books(&quot;Sql&quot;, &quot;Donald&quot;, 249.56);\r\n    \t\tlistOfBooks.add(book1);\r\n    \t\tlistOfBooks.add(book2);\r\n    \t\tlistOfBooks.add(book3);\r\n    \t\tlistOfBooks.add(book4);\r\n    \t\tlistOfBooks.add(book5);\r\n    \t}\r\n\r\nI want the same operation by using lambda expression but i do not know how to do it. please help me out?\r\n","title":"Lambda expression to add object into list","body":"<p>there is a List and i want to create books object and add all the book object into this List. here I did with normal approach like this   .</p>\n<pre><code>public static List&lt;Books&gt; listOfBooks = new ArrayList&lt;&gt;();\npublic static void addProduct() {\n        Books book1 = new Books(&quot;java&quot;, &quot;games&quot;, 200.56);\n        Books book2 = new Books(&quot;c&quot;, &quot;dennis&quot;, 300.56);\n        Books book3 = new Books(&quot;c++&quot;, &quot;Bjarne&quot;, 250.56);\n        Books book4 = new Books(&quot;javaScript&quot;, &quot;Brendan&quot;, 209.56);\n        Books book5 = new Books(&quot;Sql&quot;, &quot;Donald&quot;, 249.56);\n        listOfBooks.add(book1);\n        listOfBooks.add(book2);\n        listOfBooks.add(book3);\n        listOfBooks.add(book4);\n        listOfBooks.add(book5);\n    }\n</code></pre>\n<p>I want the same operation by using lambda expression but i do not know how to do it. please help me out?</p>\n"},{"tags":["java","oop","encapsulation"],"comments":[{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1670844074,"post_id":74770321,"comment_id":131959403,"body_markdown":"Your code is not syntactically valid. Usually that&#39;s not a big issue if the code is purely for demonstrating some general structure, but the fact that you define two arguments to the `add` method with the same name as the fields make this very suspicious. What did you *intend* the `add` method to do: take two arguments and add them together or return the sum of the two fields? In either way, I&#39;d not describe this as &quot;encapsulated&quot;.","body":"Your code is not syntactically valid. Usually that&#39;s not a big issue if the code is purely for demonstrating some general structure, but the fact that you define two arguments to the <code>add</code> method with the same name as the fields make this very suspicious. What did you <i>intend</i> the <code>add</code> method to do: take two arguments and add them together or return the sum of the two fields? In either way, I&#39;d not describe this as &quot;encapsulated&quot;."},{"owner":{"account_id":16377321,"reputation":1,"user_id":12238218,"display_name":"akshay lonkar"},"score":0,"creation_date":1670844640,"post_id":74770321,"comment_id":131959582,"body_markdown":"Thanks for the quick response @JoachimSauer. I have modified the class. Can you please answer the question now. I am seeking the reason behind why we cannot say it as encapsulated class.","body":"Thanks for the quick response @JoachimSauer. I have modified the class. Can you please answer the question now. I am seeking the reason behind why we cannot say it as encapsulated class."},{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1670844728,"post_id":74770321,"comment_id":131959615,"body_markdown":"I don&#39;t think your first sentence is correct. What you&#39;re describing is more generally object-oriented programming. Encapsulation is restricting access to something (usually internal state). No access is restricted in your sample code: everything (most importantly the fields, i.e. the state of the object) is fully (publicly) accessible to any other code.","body":"I don&#39;t think your first sentence is correct. What you&#39;re describing is more generally object-oriented programming. Encapsulation is restricting access to something (usually internal state). No access is restricted in your sample code: everything (most importantly the fields, i.e. the state of the object) is fully (publicly) accessible to any other code."},{"owner":{"account_id":1455702,"reputation":15684,"user_id":1371329,"accept_rate":64,"display_name":"jaco0646"},"score":0,"creation_date":1670860056,"post_id":74770321,"comment_id":131965138,"body_markdown":"Does this answer your question? [What are the differences between information hiding and encapsulation?](https://stackoverflow.com/questions/13913174/what-are-the-differences-between-information-hiding-and-encapsulation)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/13913174/what-are-the-differences-between-information-hiding-and-encapsulation\">What are the differences between information hiding and encapsulation?</a>"},{"owner":{"account_id":16377321,"reputation":1,"user_id":12238218,"display_name":"akshay lonkar"},"score":1,"creation_date":1670865043,"post_id":74770321,"comment_id":131966923,"body_markdown":"Hi @jaco0646, even the link you shared answered my question. Thanks","body":"Hi @jaco0646, even the link you shared answered my question. Thanks"}],"answers":[{"tags":[],"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670845541,"creation_date":1670845541,"answer_id":74770634,"question_id":74770321,"body_markdown":"Yes, or no. Depending on how one defines &quot;encapsulation&quot;.\r\n\r\nGiven the phrasing of your question, I assume you are working with [the definition of encapsulation from Wikipedia][1], which (as of now) reads\r\n\r\n&gt; In object-oriented programming (OOP), encapsulation refers to the bundling of data with the methods that operate on those data, or the restricting of direct access to some of an object&#39;s components.\r\n\r\nI disagree with this definition. Or more precisely, I think it unnecessarily distinguishes &quot;encapsulation&quot; and &quot;data hiding&quot; which is not in line with how I see the term &quot;encapsulation&quot; used in day-to-day conversations. In fact even the [Wikipedia talk page][2] mentions this problem of the definition (with no apparent counter-voices).\r\n\r\nSo if you follow that Wikipedia definition, then yes, your code uses encapsulation (&quot;an encapsulated class&quot; is not a phrase I&#39;ve ever heard anyone use this way, I&#39;d avoid it).\r\n\r\nIf you follow the school of thought that information hiding and encapsulation are synonymous (or at least very tightly bound together) then your code is not using encapsulation.\r\n\r\nSee this paragraph from [the Wikipedia article on Information Hiding][3]:\r\n\r\n&gt; The term *encapsulation* is often used interchangeably with information hiding. Not all agree on the distinctions between the two, though; one may think of information hiding as being the principle and encapsulation being the technique.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Encapsulation_(computer_programming)\r\n  [2]: https://en.wikipedia.org/wiki/Talk:Encapsulation_(computer_programming)#Encapsulation_is_information_hiding\r\n  [3]: https://en.wikipedia.org/wiki/Information_hiding","title":"Can we say a class with all public member variables and all public methods as encapsulated class?","body":"<p>Yes, or no. Depending on how one defines &quot;encapsulation&quot;.</p>\n<p>Given the phrasing of your question, I assume you are working with <a href=\"https://en.wikipedia.org/wiki/Encapsulation_(computer_programming)\" rel=\"nofollow noreferrer\">the definition of encapsulation from Wikipedia</a>, which (as of now) reads</p>\n<blockquote>\n<p>In object-oriented programming (OOP), encapsulation refers to the bundling of data with the methods that operate on those data, or the restricting of direct access to some of an object's components.</p>\n</blockquote>\n<p>I disagree with this definition. Or more precisely, I think it unnecessarily distinguishes &quot;encapsulation&quot; and &quot;data hiding&quot; which is not in line with how I see the term &quot;encapsulation&quot; used in day-to-day conversations. In fact even the <a href=\"https://en.wikipedia.org/wiki/Talk:Encapsulation_(computer_programming)#Encapsulation_is_information_hiding\" rel=\"nofollow noreferrer\">Wikipedia talk page</a> mentions this problem of the definition (with no apparent counter-voices).</p>\n<p>So if you follow that Wikipedia definition, then yes, your code uses encapsulation (&quot;an encapsulated class&quot; is not a phrase I've ever heard anyone use this way, I'd avoid it).</p>\n<p>If you follow the school of thought that information hiding and encapsulation are synonymous (or at least very tightly bound together) then your code is not using encapsulation.</p>\n<p>See this paragraph from <a href=\"https://en.wikipedia.org/wiki/Information_hiding\" rel=\"nofollow noreferrer\">the Wikipedia article on Information Hiding</a>:</p>\n<blockquote>\n<p>The term <em>encapsulation</em> is often used interchangeably with information hiding. Not all agree on the distinctions between the two, though; one may think of information hiding as being the principle and encapsulation being the technique.</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":2,"creation_date":1670846961,"post_id":74770863,"comment_id":131960278,"body_markdown":"&quot;*provide public get and set methods to access and update the value of a private variable*&quot; I strongly disagree that this constitutes encapsulation. The data is exposed to clients of that class, just via 1 level of indirection.","body":"&quot;<i>provide public get and set methods to access and update the value of a private variable</i>&quot; I strongly disagree that this constitutes encapsulation. The data is exposed to clients of that class, just via 1 level of indirection."}],"tags":[],"owner":{"account_id":11358207,"reputation":1,"user_id":16328314,"display_name":"Luiz Eduardo"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670846817,"creation_date":1670846761,"answer_id":74770863,"question_id":74770321,"body_markdown":"The meaning of Encapsulation, is to make sure that &quot;sensitive&quot; data is hidden from users\r\n\r\nto make your class encapsulated you need\r\n\r\n - Declare class variables/attributes as private\r\n - provide public get and set methods to access and update the value of a private variable\r\n\r\nyour class has public data, that is, it is not protected (encapsulated) and therefore can be accessed and modified by everyone\r\nI recommend this reading for a better understanding of encapsulation \r\n\r\n[java_encapsulation][1]\r\n\r\n\r\n  [1]: https://www.w3schools.com/java/java_encapsulation.asp","title":"Can we say a class with all public member variables and all public methods as encapsulated class?","body":"<p>The meaning of Encapsulation, is to make sure that &quot;sensitive&quot; data is hidden from users</p>\n<p>to make your class encapsulated you need</p>\n<ul>\n<li>Declare class variables/attributes as private</li>\n<li>provide public get and set methods to access and update the value of a private variable</li>\n</ul>\n<p>your class has public data, that is, it is not protected (encapsulated) and therefore can be accessed and modified by everyone\nI recommend this reading for a better understanding of encapsulation</p>\n<p><a href=\"https://www.w3schools.com/java/java_encapsulation.asp\" rel=\"nofollow noreferrer\">java_encapsulation</a></p>\n"}],"owner":{"account_id":16377321,"reputation":1,"user_id":12238218,"display_name":"akshay lonkar"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":156,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1670846817,"creation_date":1670843929,"question_id":74770321,"body_markdown":"By definition, encapsulation in Java is a process of wrapping code and data together into a single unit. But if a class has 2 member variables and a method and both the variables and method has public access modifier, can we say that class as encapsulated class? \r\n\r\nFor example, can we say below class is encapsulated or not\r\n\r\n```\r\npublic class AddNumbers {\r\n\r\n     public int a;\r\n     public int b;\r\n\r\n     public void add(){\r\n          System.out.println(a+b);\r\n     }\r\n}\r\n```","title":"Can we say a class with all public member variables and all public methods as encapsulated class?","body":"<p>By definition, encapsulation in Java is a process of wrapping code and data together into a single unit. But if a class has 2 member variables and a method and both the variables and method has public access modifier, can we say that class as encapsulated class?</p>\n<p>For example, can we say below class is encapsulated or not</p>\n<pre><code>public class AddNumbers {\n\n     public int a;\n     public int b;\n\n     public void add(){\n          System.out.println(a+b);\n     }\n}\n</code></pre>\n"},{"tags":["java","postgresql","jdbc","ddl"],"comments":[{"owner":{"account_id":2840364,"reputation":2021,"user_id":2440114,"display_name":"Rajeev Bera"},"score":0,"creation_date":1373874983,"post_id":17648861,"comment_id":25701750,"body_markdown":"@CraigRinger I have deleted that link ,thats for correcting me","body":"@CraigRinger I have deleted that link ,thats for correcting me"}],"answers":[{"comments":[{"owner":{"account_id":4475589,"reputation":323,"user_id":3640794,"display_name":"xmcax"},"score":0,"creation_date":1639391490,"post_id":17648989,"comment_id":124328078,"body_markdown":"An interesting use-case would be creating partitions in PostgreSQL using `CREATE TABLE :partitionName PARTITION OF :tableName FOR VALUES IN ( :value )` .To me this is kind of DDL that makes sense to do programatically.","body":"An interesting use-case would be creating partitions in PostgreSQL using <code>CREATE TABLE :partitionName PARTITION OF :tableName FOR VALUES IN ( :value )</code> .To me this is kind of DDL that makes sense to do programatically."}],"tags":[],"owner":{"account_id":171331,"reputation":310944,"user_id":398670,"accept_rate":73,"display_name":"Craig Ringer"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1670846726,"creation_date":1373873789,"answer_id":17648989,"question_id":17648861,"body_markdown":"It isn&#39;t supported by the server, so even if it seems to work in the client side JDBC driver I don&#39;t recommend it:\r\n\r\n    regress=&gt; PREPARE CREATE TABLE test ( id serial primary key );\r\n    ERROR:  syntax error at or near &quot;CREATE&quot;\r\n    LINE 1: PREPARE CREATE TABLE test ( id serial primary key );\r\n                    ^\r\n\r\nThere&#39;s no advantage to doing so anyway since you cannot *parameterize* them, so you can&#39;t write:\r\n\r\n    CREATE TABLE ? ( ? text, ...)\r\n\r\nand then specify the placeholder values as query parameters to the `Statement`.\r\n\r\nIn PostgreSQL only *planned* statements may be prepared and parameterised server-side. Currently that means `INSERT`, `UPDATE`, `DELETE` and `SELECT`.\r\n\r\nYou&#39;ll need to do your own string interpolation and safe quoting according to PostgreSQL&#39;s [lexical structure rules](http://www.postgresql.org/docs/current/static/sql-syntax-lexical.html) - which are pretty much those of the SQL spec. Wrap all identifiers in `&quot;double quotes&quot;` and double any literal double quotes, eg `&quot;these are literal &quot;&quot;double quotes&quot;&quot;&quot;` for the table name `these are literal &quot;double quotes&quot;`.\r\n\r\nThe very fact that you want to do this suggests that you probably have design issues in your schema and might need to re-think how you&#39;re going about things. Maybe post a more detailed question on dba.stackexchange.com that explains what you want to achieve with this and why?","title":"Can we use DDL Commands in a prepared statement (PostgreSQL)?","body":"<p>It isn't supported by the server, so even if it seems to work in the client side JDBC driver I don't recommend it:</p>\n<pre><code>regress=&gt; PREPARE CREATE TABLE test ( id serial primary key );\nERROR:  syntax error at or near &quot;CREATE&quot;\nLINE 1: PREPARE CREATE TABLE test ( id serial primary key );\n                ^\n</code></pre>\n<p>There's no advantage to doing so anyway since you cannot <em>parameterize</em> them, so you can't write:</p>\n<pre><code>CREATE TABLE ? ( ? text, ...)\n</code></pre>\n<p>and then specify the placeholder values as query parameters to the <code>Statement</code>.</p>\n<p>In PostgreSQL only <em>planned</em> statements may be prepared and parameterised server-side. Currently that means <code>INSERT</code>, <code>UPDATE</code>, <code>DELETE</code> and <code>SELECT</code>.</p>\n<p>You'll need to do your own string interpolation and safe quoting according to PostgreSQL's <a href=\"http://www.postgresql.org/docs/current/static/sql-syntax-lexical.html\" rel=\"nofollow noreferrer\">lexical structure rules</a> - which are pretty much those of the SQL spec. Wrap all identifiers in <code>&quot;double quotes&quot;</code> and double any literal double quotes, eg <code>&quot;these are literal &quot;&quot;double quotes&quot;&quot;&quot;</code> for the table name <code>these are literal &quot;double quotes&quot;</code>.</p>\n<p>The very fact that you want to do this suggests that you probably have design issues in your schema and might need to re-think how you're going about things. Maybe post a more detailed question on dba.stackexchange.com that explains what you want to achieve with this and why?</p>\n"},{"tags":[],"owner":{"account_id":64084,"reputation":32129,"user_id":189361,"accept_rate":100,"display_name":"Michael Dillon"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1472242557,"creation_date":1472241991,"answer_id":39173959,"question_id":17648861,"body_markdown":"Yes you can, if you use EXECUTE and wrap it in a FUNCTION. The function call allows you to pass parameters, and inside the FUNCTION you use string manipulation to modify the DDL statement. Finally, the use of EXECUTE in the FUNCTION makes it so. Here is a simple example of a parameterized CREATE SEQUENCE statement...\r\n\r\n    DROP FUNCTION sf.start_mc(integer);\r\n    \r\n    CREATE FUNCTION sf.start_mc(thefirst integer) RETURNS void AS $$\r\n    BEGIN\r\n        EXECUTE format(&#39;CREATE SEQUENCE sf.mastercase START %s&#39;,thefirst);\r\n    END;\r\n    \r\n    $$ LANGUAGE plpgsql;\r\n\r\nWe use the string function &quot;format&quot; to manipulate the statement and include the parameter that was passed to the function. Of course, your SQL looks rather unusual, particularly if you include the CREATE FUNCTION  before you call it. This example comes from a data migration job that I recently did. After CREATEing the function we used it like this:\r\n\r\n    DROP SEQUENCE sf.mastercase;\r\n\r\n    -- the following uses the above function to set the starting value of a new sequence based on the last used\r\n    -- in the widget table\r\n    select sf.start_mc((select substring(&quot;widgetId&quot;,4)::integer + 1 from widgets\r\n    where &quot;widgetId&quot; like &#39;MC-%&#39;\r\n    order by &quot;widgetId&quot; desc\r\n    limit 1));\r\n\r\nNote that the outer SELECT doesn&#39;t select anything, it just makes a place to do the function call. The number that is passed as a parameter comes from the inner SELECT which is wrapped in parentheses. A simpler call would be\r\n\r\n    select sf.start_mc(42);\r\n\r\nYou can wrap anything in a CREATEd FUNCTION. But this does mean that you are stuck with PostgreSQL and that you need to integrate your DB schema, and schema changes, into your development process as a first class citizen.\r\n\r\n","title":"Can we use DDL Commands in a prepared statement (PostgreSQL)?","body":"<p>Yes you can, if you use EXECUTE and wrap it in a FUNCTION. The function call allows you to pass parameters, and inside the FUNCTION you use string manipulation to modify the DDL statement. Finally, the use of EXECUTE in the FUNCTION makes it so. Here is a simple example of a parameterized CREATE SEQUENCE statement...</p>\n\n<pre><code>DROP FUNCTION sf.start_mc(integer);\n\nCREATE FUNCTION sf.start_mc(thefirst integer) RETURNS void AS $$\nBEGIN\n    EXECUTE format('CREATE SEQUENCE sf.mastercase START %s',thefirst);\nEND;\n\n$$ LANGUAGE plpgsql;\n</code></pre>\n\n<p>We use the string function \"format\" to manipulate the statement and include the parameter that was passed to the function. Of course, your SQL looks rather unusual, particularly if you include the CREATE FUNCTION  before you call it. This example comes from a data migration job that I recently did. After CREATEing the function we used it like this:</p>\n\n<pre><code>DROP SEQUENCE sf.mastercase;\n\n-- the following uses the above function to set the starting value of a new sequence based on the last used\n-- in the widget table\nselect sf.start_mc((select substring(\"widgetId\",4)::integer + 1 from widgets\nwhere \"widgetId\" like 'MC-%'\norder by \"widgetId\" desc\nlimit 1));\n</code></pre>\n\n<p>Note that the outer SELECT doesn't select anything, it just makes a place to do the function call. The number that is passed as a parameter comes from the inner SELECT which is wrapped in parentheses. A simpler call would be</p>\n\n<pre><code>select sf.start_mc(42);\n</code></pre>\n\n<p>You can wrap anything in a CREATEd FUNCTION. But this does mean that you are stuck with PostgreSQL and that you need to integrate your DB schema, and schema changes, into your development process as a first class citizen.</p>\n"},{"tags":[],"owner":{"display_name":"user11995521"},"comment_count":0,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1595458909,"creation_date":1595458909,"answer_id":63044380,"question_id":17648861,"body_markdown":"There should not be any need to use prepared statements unless you are using user input from the outside world.\r\n\r\nUsually with DDL statements, a User does not and SHOULD NOT know anything about the internal DB Schema or model.\r\n\r\nAs long as data is being transferred over a secure network, I do not really see any benefit to preparing statements","title":"Can we use DDL Commands in a prepared statement (PostgreSQL)?","body":"<p>There should not be any need to use prepared statements unless you are using user input from the outside world.</p>\n<p>Usually with DDL statements, a User does not and SHOULD NOT know anything about the internal DB Schema or model.</p>\n<p>As long as data is being transferred over a secure network, I do not really see any benefit to preparing statements</p>\n"}],"owner":{"account_id":3020447,"reputation":4340,"user_id":2561626,"accept_rate":74,"display_name":"09Q71AO534"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6746,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":39173959,"answer_count":3,"score":7,"last_activity_date":1670846726,"creation_date":1373873346,"question_id":17648861,"body_markdown":"`DDL` commands follow: \r\n\r\n\r\n`CREATE TABLE` —  creates a table with the column names the user provides.\r\n\r\n`DROP TABLE` —  deletes all rows and removes the table definition from the database. \r\n\r\n`ALTER TABLE` —  adds or removes a column from a table.\r\n\r\nI need few examples if there is a possibility of using these Commands in PostgreSQL and Java?\r\n\r\n\tpublic boolean create(Employee employee) {\r\n\r\n\t\ttry {\r\n\r\n\t\t\tcallableStatement = openConnection().prepareCall(&quot;{call insert_employee(?,?,?)}&quot;);\r\n\t\t\tcallableStatement.setInt(1, employee.getEid());\r\n\t\t\tcallableStatement.setString(2, employee.getEname());\r\n\t\t\tcallableStatement.setInt(3, employee.getSid());\t\t\r\n\r\n\t\t\ti = callableStatement.execute();\r\n\r\n\t\t\tcallableStatement.close();\r\n\r\n\t\t\tcloseConnection();\r\n\r\n\r\n\r\n\t\t} catch (SQLException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\treturn i;\r\n\r\n\t}\r\n\r\nis there any chance of using DDL CREATE command in such type? using prepared statements?","title":"Can we use DDL Commands in a prepared statement (PostgreSQL)?","body":"<p><code>DDL</code> commands follow: </p>\n\n<p><code>CREATE TABLE</code> —  creates a table with the column names the user provides.</p>\n\n<p><code>DROP TABLE</code> —  deletes all rows and removes the table definition from the database. </p>\n\n<p><code>ALTER TABLE</code> —  adds or removes a column from a table.</p>\n\n<p>I need few examples if there is a possibility of using these Commands in PostgreSQL and Java?</p>\n\n<pre><code>public boolean create(Employee employee) {\n\n    try {\n\n        callableStatement = openConnection().prepareCall(\"{call insert_employee(?,?,?)}\");\n        callableStatement.setInt(1, employee.getEid());\n        callableStatement.setString(2, employee.getEname());\n        callableStatement.setInt(3, employee.getSid());     \n\n        i = callableStatement.execute();\n\n        callableStatement.close();\n\n        closeConnection();\n\n\n\n    } catch (SQLException e) {\n        e.printStackTrace();\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n    return i;\n\n}\n</code></pre>\n\n<p>is there any chance of using DDL CREATE command in such type? using prepared statements?</p>\n"},{"tags":["java","exception","methods","calculator"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":3,"creation_date":1663418289,"post_id":73754902,"comment_id":130237690,"body_markdown":"Thrown exception are not returned... but thrown (they do not &quot;count&quot; to the return type of a method). Thus, since the method does not normally return anything, its return type should be `void`.","body":"Thrown exception are not returned... but thrown (they do not &quot;count&quot; to the return type of a method). Thus, since the method does not normally return anything, its return type should be <code>void</code>."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":2,"creation_date":1663418515,"post_id":73754902,"comment_id":130237736,"body_markdown":"A remark: method `throwExceptionForNullArray(...)` is declared with a paramter of type `int[]`, but called with no parameter. We need to pass an `int[]` on the calling side to this method.","body":"A remark: method <code>throwExceptionForNullArray(...)</code> is declared with a paramter of type <code>int[]</code>, but called with no parameter. We need to pass an <code>int[]</code> on the calling side to this method."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1663418657,"post_id":73754902,"comment_id":130237764,"body_markdown":"Aside from your question: message in `IllegalArgumentException(&quot;Empty array is not allowed&quot;)` is not valid. The `null` represents that there was *no* array provided (`null` was used *instead of any array*), not that provided array was empty (like `int[] emptyArray = {};`). Difference is like getting empty box and not getting a box at all.","body":"Aside from your question: message in <code>IllegalArgumentException(&quot;Empty array is not allowed&quot;)</code> is not valid. The <code>null</code> represents that there was <i>no</i> array provided (<code>null</code> was used <i>instead of any array</i>), not that provided array was empty (like <code>int[] emptyArray = {};</code>). Difference is like getting empty box and not getting a box at all."}],"answers":[{"comments":[{"owner":{"account_id":25534785,"reputation":532,"user_id":19322069,"display_name":"access violation"},"score":1,"creation_date":1663419705,"post_id":73754973,"comment_id":130237966,"body_markdown":"Surely ennui is grey in colour?","body":"Surely ennui is grey in colour?"}],"tags":[],"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1663421359,"creation_date":1663418887,"answer_id":73754973,"question_id":73754902,"body_markdown":"&gt; What is the return type of a Java exception?\r\n\r\nThat&#39;s like asking: &quot;What is the colour of ennui?&quot; - the question doesn&#39;t make sense.\r\n\r\nLet me put it differently. Imagine this hypothetical method:\r\n\r\n```java\r\npublic int hello() {\r\n  while (true) {\r\n    // just loop forever and ever and ever.\r\n  }\r\n}\r\n```\r\n\r\nThe above will... actually compile. Try it!\r\n\r\nThat&#39;s a bit odd - this method is declared to return an int, and yet, the method _contains no `return` statement at all_. And yet this compiles fine. That&#39;s because it is a bit wonky in how it &#39;works&#39;. It never actually exits, so there&#39;s no violation of the rules here. A return type of `int` means: _If_ this method returns normally, it _must_ do so by returning an `int` value.\r\n\r\nNote, _if_ it returns normally. There is no rule stating that all methods must necessarily always return normally, or that it could ever even return normally. The above method cannot return normally, for example.\r\n\r\nA &quot;normal&quot; return occurs when your method hits a `return` statement, or just gets to the closing brace.\r\n\r\nA throw statement is an abnormal condition. A method that exits by way of throwing __does not return anything__. It got out by throwing. That doesn&#39;t mean it &quot;returned&quot; the exception. It means it &quot;threw&quot; the exception.\r\n\r\nA method that cannot possibly return normally (and if all ways through the method end in a `throw` statement, it cannot possibly return normally) can pick whatever it wants for a return type. It just won&#39;t matter. Anything will do. For a method whose stated purpose is:\r\n\r\n* If the inputs are valid, do absolutely nothing\r\n* Otherwise, throw an exception highlighting what&#39;s invalid about the input\r\n\r\nThe usual return type is `void`. So, do that:\r\n\r\n\r\n```java\r\npublic void checkInput(int[] integers) {\r\n    if (integers == null) {\r\n        throw new NullPointerException(&quot;integers&quot;);\r\n    }\r\n}\r\n```\r\n\r\nA few notes:\r\n\r\n* Your message was dead wrong. `null` does not mean &quot;empty&quot;, a very important distinction. `new int[0]` is an empty array. `null` is a null pointer. Don&#39;t conflate the two. It&#39;s possible to have a method that doesn&#39;t like an input of an empty array. In that case, the correct act to take is something like:\r\n\r\n```java\r\nif (integers.length == 0) throw new IllegalArgumentException(&quot;Empty &#39;integers&#39; array not allowed&quot;);\r\n```\r\n\r\nIt&#39;s more appropriate to use NullPointerException for params being null when as a precondition they aren&#39;t supposed to be.\r\n\r\n* If you&#39;re dereferencing the parameter, there&#39;s really no need to do this. The JVM itself will throw the NPE for you and even name it assuming you&#39;re using a modern JVM. You dereference `integers` (`for (int i : integers)` will do that), so you can remove it all and get the same result, namely: Calling that method with `null` will throw an NPE whose message includes the text &#39;integers&#39;.\r\n * Naming a method &#39;throwExceptionFor&#39; is a bit too on the nose, it describes too much how it works and not enough what it is supposed to do. `checkInput` describes the why/what instead of the how, that&#39;s usually the better way to name methods.","title":"What is the return type of a Java exception?","body":"<blockquote>\n<p>What is the return type of a Java exception?</p>\n</blockquote>\n<p>That's like asking: &quot;What is the colour of ennui?&quot; - the question doesn't make sense.</p>\n<p>Let me put it differently. Imagine this hypothetical method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public int hello() {\n  while (true) {\n    // just loop forever and ever and ever.\n  }\n}\n</code></pre>\n<p>The above will... actually compile. Try it!</p>\n<p>That's a bit odd - this method is declared to return an int, and yet, the method <em>contains no <code>return</code> statement at all</em>. And yet this compiles fine. That's because it is a bit wonky in how it 'works'. It never actually exits, so there's no violation of the rules here. A return type of <code>int</code> means: <em>If</em> this method returns normally, it <em>must</em> do so by returning an <code>int</code> value.</p>\n<p>Note, <em>if</em> it returns normally. There is no rule stating that all methods must necessarily always return normally, or that it could ever even return normally. The above method cannot return normally, for example.</p>\n<p>A &quot;normal&quot; return occurs when your method hits a <code>return</code> statement, or just gets to the closing brace.</p>\n<p>A throw statement is an abnormal condition. A method that exits by way of throwing <strong>does not return anything</strong>. It got out by throwing. That doesn't mean it &quot;returned&quot; the exception. It means it &quot;threw&quot; the exception.</p>\n<p>A method that cannot possibly return normally (and if all ways through the method end in a <code>throw</code> statement, it cannot possibly return normally) can pick whatever it wants for a return type. It just won't matter. Anything will do. For a method whose stated purpose is:</p>\n<ul>\n<li>If the inputs are valid, do absolutely nothing</li>\n<li>Otherwise, throw an exception highlighting what's invalid about the input</li>\n</ul>\n<p>The usual return type is <code>void</code>. So, do that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void checkInput(int[] integers) {\n    if (integers == null) {\n        throw new NullPointerException(&quot;integers&quot;);\n    }\n}\n</code></pre>\n<p>A few notes:</p>\n<ul>\n<li>Your message was dead wrong. <code>null</code> does not mean &quot;empty&quot;, a very important distinction. <code>new int[0]</code> is an empty array. <code>null</code> is a null pointer. Don't conflate the two. It's possible to have a method that doesn't like an input of an empty array. In that case, the correct act to take is something like:</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>if (integers.length == 0) throw new IllegalArgumentException(&quot;Empty 'integers' array not allowed&quot;);\n</code></pre>\n<p>It's more appropriate to use NullPointerException for params being null when as a precondition they aren't supposed to be.</p>\n<ul>\n<li>If you're dereferencing the parameter, there's really no need to do this. The JVM itself will throw the NPE for you and even name it assuming you're using a modern JVM. You dereference <code>integers</code> (<code>for (int i : integers)</code> will do that), so you can remove it all and get the same result, namely: Calling that method with <code>null</code> will throw an NPE whose message includes the text 'integers'.</li>\n<li>Naming a method 'throwExceptionFor' is a bit too on the nose, it describes too much how it works and not enough what it is supposed to do. <code>checkInput</code> describes the why/what instead of the how, that's usually the better way to name methods.</li>\n</ul>\n"}],"owner":{"account_id":18056490,"reputation":35,"user_id":19832072,"display_name":"santa_cloudy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":144,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":73754973,"answer_count":1,"score":-1,"last_activity_date":1670846585,"creation_date":1663418165,"question_id":73754902,"body_markdown":"I&#39;m writing a Calculator exercise that takes an array of int for addition, subtraction, division and multiplication. I need to check in every method that the array is not null. Instead of repeating myself, can I write the throwException method once and then just call it in my method?\r\ne.g. for addition\r\n\r\n```\r\npublic int addAll(int[] integers) {\r\n    throwExceptionForNullArray();\r\n    int sumOfAllIntegers = 0;\r\n    for (int integer : integers) {\r\n        sumOfAllIntegers += integer;\r\n    }\r\n    return  sumOfAllIntegers;\r\n}\r\n\r\npublic throwExceptionForNullArray (int[] integers){\r\n    if (integers == null){\r\n        throw new IllegalArgumentException(&quot;Empty array is not allowed&quot;);\r\n    }\r\n}\r\n\r\n```\r\n\r\nBut Java requires a return type in a method, do you have any ideas that can make the throwExceptionForNullArray method work? What should be the return type?\r\nThank you","title":"What is the return type of a Java exception?","body":"<p>I'm writing a Calculator exercise that takes an array of int for addition, subtraction, division and multiplication. I need to check in every method that the array is not null. Instead of repeating myself, can I write the throwException method once and then just call it in my method?\ne.g. for addition</p>\n<pre><code>public int addAll(int[] integers) {\n    throwExceptionForNullArray();\n    int sumOfAllIntegers = 0;\n    for (int integer : integers) {\n        sumOfAllIntegers += integer;\n    }\n    return  sumOfAllIntegers;\n}\n\npublic throwExceptionForNullArray (int[] integers){\n    if (integers == null){\n        throw new IllegalArgumentException(&quot;Empty array is not allowed&quot;);\n    }\n}\n\n</code></pre>\n<p>But Java requires a return type in a method, do you have any ideas that can make the throwExceptionForNullArray method work? What should be the return type?\nThank you</p>\n"},{"tags":["java","datetime","jackson"],"comments":[{"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"score":0,"creation_date":1670839861,"post_id":74769401,"comment_id":131958082,"body_markdown":"Does this answer your question? [Spring Data JPA - ZonedDateTime format for json serialization](https://stackoverflow.com/questions/31627992/spring-data-jpa-zoneddatetime-format-for-json-serialization)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/31627992/spring-data-jpa-zoneddatetime-format-for-json-serialization\">Spring Data JPA - ZonedDateTime format for json serialization</a>"},{"owner":{"account_id":88022,"reputation":26116,"user_id":243755,"accept_rate":60,"display_name":"zjffdu"},"score":0,"creation_date":1670846085,"post_id":74769401,"comment_id":131960018,"body_markdown":"It seems it is the same as my above example code, the above assert statement still fails.","body":"It seems it is the same as my above example code, the above assert statement still fails."}],"answers":[{"comments":[{"owner":{"account_id":88022,"reputation":26116,"user_id":243755,"accept_rate":60,"display_name":"zjffdu"},"score":0,"creation_date":1670846033,"post_id":74769534,"comment_id":131959998,"body_markdown":"It doesn&#39;t work for me, because there&#39;re many places using ZonedDateTime, I don&#39;t want to add annotation everywhere, I just want to configure it globally.","body":"It doesn&#39;t work for me, because there&#39;re many places using ZonedDateTime, I don&#39;t want to add annotation everywhere, I just want to configure it globally."}],"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670840036,"creation_date":1670840036,"answer_id":74769534,"question_id":74769401,"body_markdown":"You don&#39;t need to customize ObjectMapper. Try to add this annotation above your property:\r\n\r\n    @JsonFormat(shape = JsonFormat.Shape.STRING, pattern = &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSZ&quot;)\r\n    ZonedDateTime myDate\r\n\r\nFor more details look at this question and the accepted answer: [Spring Data JPA - ZonedDateTime format for json serialization][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/31627992/spring-data-jpa-zoneddatetime-format-for-json-serialization","title":"Unable to serialize/deserialize ZonedDateTime correctly using jackson","body":"<p>You don't need to customize ObjectMapper. Try to add this annotation above your property:</p>\n<pre><code>@JsonFormat(shape = JsonFormat.Shape.STRING, pattern = &quot;yyyy-MM-dd'T'HH:mm:ss.SSSZ&quot;)\nZonedDateTime myDate\n</code></pre>\n<p>For more details look at this question and the accepted answer: <a href=\"https://stackoverflow.com/questions/31627992/spring-data-jpa-zoneddatetime-format-for-json-serialization\">Spring Data JPA - ZonedDateTime format for json serialization</a></p>\n"},{"tags":[],"owner":{"account_id":88022,"reputation":26116,"user_id":243755,"accept_rate":60,"display_name":"zjffdu"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670846572,"creation_date":1670846572,"answer_id":74770821,"question_id":74769401,"body_markdown":"Sorry folks, it seems my fault. I should specify the zoneId when creating ZonedDateTime.\r\n\r\nThe following code pass:\r\n\r\n    ZonedDateTime dateTime = ZonedDateTime.now(ZoneId.of(&quot;UTC&quot;));\r\n    String json = mapper.writeValueAsString(dateTime);\r\n    LOGGER.info(&quot;ZonedDateTime json: &quot; + json);\r\n\r\n    ZonedDateTime dateTime2 = mapper.readValue(json, ZonedDateTime.class);\r\n    assertEquals(dateTime, dateTime2);","title":"Unable to serialize/deserialize ZonedDateTime correctly using jackson","body":"<p>Sorry folks, it seems my fault. I should specify the zoneId when creating ZonedDateTime.</p>\n<p>The following code pass:</p>\n<pre><code>ZonedDateTime dateTime = ZonedDateTime.now(ZoneId.of(&quot;UTC&quot;));\nString json = mapper.writeValueAsString(dateTime);\nLOGGER.info(&quot;ZonedDateTime json: &quot; + json);\n\nZonedDateTime dateTime2 = mapper.readValue(json, ZonedDateTime.class);\nassertEquals(dateTime, dateTime2);\n</code></pre>\n"}],"owner":{"account_id":88022,"reputation":26116,"user_id":243755,"accept_rate":60,"display_name":"zjffdu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1308,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1670846572,"creation_date":1670839380,"question_id":74769401,"body_markdown":"I&#39;d like to serialize/deserialize ZonedDateTime in my spring boot app, so I need to customise the ObjectMapper. But when I deserialize it back, I can not get the ZonedDateTime correctly.  \r\n\r\nHere&#39;s my sample code:\r\n\r\n    ObjectMapper mapper = new ObjectMapper()\r\n        .enable(MapperFeature.DEFAULT_VIEW_INCLUSION)\r\n        .enable(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES)\r\n        .disable(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS)\r\n        .findAndRegisterModules();\r\n\r\n    ZonedDateTime dateTime = ZonedDateTime.now();\r\n    String json = mapper.writeValueAsString(dateTime);\r\n    LOGGER.info(&quot;ZonedDateTime json: &quot; + json);\r\n\r\n    ZonedDateTime dateTime2 = mapper.readValue(json, ZonedDateTime.class);\r\n    assertEquals(dateTime, dateTime2);\r\n\r\nThis test fails with following:\r\n\r\n    org.opentest4j.AssertionFailedError: \r\n    Expected :2022-12-12T18:00:48.711+08:00[Asia/Shanghai]\r\n    Actual   :2022-12-12T10:00:48.711Z[UTC]","title":"Unable to serialize/deserialize ZonedDateTime correctly using jackson","body":"<p>I'd like to serialize/deserialize ZonedDateTime in my spring boot app, so I need to customise the ObjectMapper. But when I deserialize it back, I can not get the ZonedDateTime correctly.</p>\n<p>Here's my sample code:</p>\n<pre><code>ObjectMapper mapper = new ObjectMapper()\n    .enable(MapperFeature.DEFAULT_VIEW_INCLUSION)\n    .enable(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES)\n    .disable(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS)\n    .findAndRegisterModules();\n\nZonedDateTime dateTime = ZonedDateTime.now();\nString json = mapper.writeValueAsString(dateTime);\nLOGGER.info(&quot;ZonedDateTime json: &quot; + json);\n\nZonedDateTime dateTime2 = mapper.readValue(json, ZonedDateTime.class);\nassertEquals(dateTime, dateTime2);\n</code></pre>\n<p>This test fails with following:</p>\n<pre><code>org.opentest4j.AssertionFailedError: \nExpected :2022-12-12T18:00:48.711+08:00[Asia/Shanghai]\nActual   :2022-12-12T10:00:48.711Z[UTC]\n</code></pre>\n"},{"tags":["java","spring","spring-mvc","jpa"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1670846922,"post_id":74770818,"comment_id":131960266,"body_markdown":"`@EnableJpaRepositories(basePackages = {&quot;com.cav.controllers.repository&quot;})` and probably remove your XML file","body":"<code>@EnableJpaRepositories(basePackages = {&quot;com.cav.controllers.repository&quot;})</code> and probably remove your XML file"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1670848694,"post_id":74770818,"comment_id":131960876,"body_markdown":"The XML isn&#39;t loaded and thus useless. You don&#39;t need `@EnableJpaRepositories` with Spring Boot if you adhere to the recommended package structure. Please add the full stacktrace to your question instead of the snippet.","body":"The XML isn&#39;t loaded and thus useless. You don&#39;t need <code>@EnableJpaRepositories</code> with Spring Boot if you adhere to the recommended package structure. Please add the full stacktrace to your question instead of the snippet."},{"owner":{"account_id":26684852,"reputation":5,"user_id":20294326,"display_name":"Tony"},"score":0,"creation_date":1670849984,"post_id":74770818,"comment_id":131961300,"body_markdown":"Thank you for the replies. The controllers-servlet.xml is loaded. This is SpringMVC, and its so I have a form addUser, which is mapped to addUser, and it calls the controller AddController and the method addUser. The servlet.xml does the mapping.\nI have to do more research on Spring MVC with repos. There is something I am missing","body":"Thank you for the replies. The controllers-servlet.xml is loaded. This is SpringMVC, and its so I have a form addUser, which is mapped to addUser, and it calls the controller AddController and the method addUser. The servlet.xml does the mapping. I have to do more research on Spring MVC with repos. There is something I am missing"}],"owner":{"account_id":26684852,"reputation":5,"user_id":20294326,"display_name":"Tony"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670846542,"creation_date":1670846542,"question_id":74770818,"body_markdown":"I am getting the following error running my application.\r\nNo qualifying bean of type &#39;com.cav.controllers.repository.UserRepository&#39; available: expected at least 1 bean which qualifies as autowire candidate\r\n\r\n\r\nI have a repository interface\r\n``` \r\npackage com.cav.controllers.repository;\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\n\r\nimport com.cav.models.User;\r\n\r\npublic interface UserRepository extends JpaRepository&lt;User, String&gt;{\r\n\r\n}\r\n``` \r\nAnd a simple controller \r\n```\r\n@Controller\r\npublic class AddController {\r\n\t\r\n\t@Autowired\r\n\tUserRepository userRepository;\r\n\t\r\n\t\r\n\t@RequestMapping(&quot;/addUser&quot;)\r\n\tpublic ModelAndView addUser(HttpServletRequest req, HttpServletResponse resp) {\r\n\t\tSystem.out.println(&quot;Running method addUser&quot;);\r\n\t\tString param1 = req.getParameter(&quot;t1&quot;);\r\n\t\tString param2 = req.getParameter(&quot;t2&quot;);\r\n\t\tString param3 = req.getParameter(&quot;t3&quot;);\r\n\t\t\r\n\t\tModelAndView mv = new ModelAndView();\r\n\t\tUser user = new User(param1,param2,param3);\r\n\t\tuserRepository.save(user);\r\n\t\t//userService.saveUser(user);\r\n\t\tmv.setViewName(&quot;displayUser.jsp&quot;);\r\n\t\tmv.addObject(&quot;userID&quot;, param1);\r\n\t\tmv.addObject(&quot;fname&quot;, param2);\r\n\t\tmv.addObject(&quot;sname&quot;, param3);\r\n\t\treturn mv;\r\n\t}\r\n}\r\n```\r\nMy main app\r\n```\r\npackage com.cav;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\r\n\r\n@SpringBootApplication\r\npublic class WebBankMvcApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(WebBankMvcApplication.class, args);\r\n\t}\r\n\r\n}\r\n\r\n```\r\nMy controllers-servlet.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n\txmlns:ctx=&quot;http://www.springframework.org/schema/context&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\r\n\txsi:schemaLocation=&quot;http://www.springframework.org/schema/beans \r\n\thttp://www.springframework.org/schema/beans/spring-beans-2.5.xsd\r\n\thttp://www.springframework.org/schema/mvc\r\n\thttp://www.springframework.org/schema/mvc/spring-mvc-3.0.xsd\r\n\thttp://www.springframework.org/schema/context\r\n\thttp://www.springframework.org/schema/context/spring-context-2.5.xsd &quot;&gt;\r\n\t\r\n\t\r\n\t&lt;ctx:annotation-config&gt;&lt;/ctx:annotation-config&gt;\r\n\t&lt;ctx:component-scan base-package=&quot;com.cav.controllers&quot;&gt;&lt;/ctx:component-scan&gt;\r\n&lt;/beans&gt;\r\n```\r\n\r\nI cant see what is wrong my repository is in the path \r\n```\r\npackage com.cav.controllers.repository\r\n```\r\nSo it should be able to see the jparepository and autowire it.\r\n\r\n","title":"Getting error No qualifying bean of type &#39;com.cav.controllers.repository.UserRepository&#39; SpringMVC","body":"<p>I am getting the following error running my application.\nNo qualifying bean of type 'com.cav.controllers.repository.UserRepository' available: expected at least 1 bean which qualifies as autowire candidate</p>\n<p>I have a repository interface</p>\n<pre><code>package com.cav.controllers.repository;\nimport org.springframework.data.jpa.repository.JpaRepository;\n\nimport com.cav.models.User;\n\npublic interface UserRepository extends JpaRepository&lt;User, String&gt;{\n\n}\n</code></pre>\n<p>And a simple controller</p>\n<pre><code>@Controller\npublic class AddController {\n    \n    @Autowired\n    UserRepository userRepository;\n    \n    \n    @RequestMapping(&quot;/addUser&quot;)\n    public ModelAndView addUser(HttpServletRequest req, HttpServletResponse resp) {\n        System.out.println(&quot;Running method addUser&quot;);\n        String param1 = req.getParameter(&quot;t1&quot;);\n        String param2 = req.getParameter(&quot;t2&quot;);\n        String param3 = req.getParameter(&quot;t3&quot;);\n        \n        ModelAndView mv = new ModelAndView();\n        User user = new User(param1,param2,param3);\n        userRepository.save(user);\n        //userService.saveUser(user);\n        mv.setViewName(&quot;displayUser.jsp&quot;);\n        mv.addObject(&quot;userID&quot;, param1);\n        mv.addObject(&quot;fname&quot;, param2);\n        mv.addObject(&quot;sname&quot;, param3);\n        return mv;\n    }\n}\n</code></pre>\n<p>My main app</p>\n<pre><code>package com.cav;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\n\n@SpringBootApplication\npublic class WebBankMvcApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(WebBankMvcApplication.class, args);\n    }\n\n}\n\n</code></pre>\n<p>My controllers-servlet.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n    xmlns:ctx=&quot;http://www.springframework.org/schema/context&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\n    xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans \n    http://www.springframework.org/schema/beans/spring-beans-2.5.xsd\n    http://www.springframework.org/schema/mvc\n    http://www.springframework.org/schema/mvc/spring-mvc-3.0.xsd\n    http://www.springframework.org/schema/context\n    http://www.springframework.org/schema/context/spring-context-2.5.xsd &quot;&gt;\n    \n    \n    &lt;ctx:annotation-config&gt;&lt;/ctx:annotation-config&gt;\n    &lt;ctx:component-scan base-package=&quot;com.cav.controllers&quot;&gt;&lt;/ctx:component-scan&gt;\n&lt;/beans&gt;\n</code></pre>\n<p>I cant see what is wrong my repository is in the path</p>\n<pre><code>package com.cav.controllers.repository\n</code></pre>\n<p>So it should be able to see the jparepository and autowire it.</p>\n"},{"tags":["java","maven","jaxb2","xjc","maven-jaxb2-plugin"],"answers":[{"comments":[{"owner":{"account_id":4378231,"reputation":1516,"user_id":3570659,"display_name":"Eirini Graonidou"},"score":2,"creation_date":1503314295,"post_id":45795634,"comment_id":78549010,"body_markdown":"Hi Sunil, thank&#39;s for your answer! I am not sure if I was understood, though. I am trying to generate the code from a wsdl file. Accessing the needed files requires basic authentication. This should be set somehow during the execution of the maven plugin.","body":"Hi Sunil, thank&#39;s for your answer! I am not sure if I was understood, though. I am trying to generate the code from a wsdl file. Accessing the needed files requires basic authentication. This should be set somehow during the execution of the maven plugin."}],"tags":[],"owner":{"account_id":11541191,"reputation":593,"user_id":8456816,"display_name":"Sunil Singhal"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1503313919,"creation_date":1503313919,"answer_id":45795634,"question_id":45795362,"body_markdown":"`wsimport`, `wsdl2java`, `maven-jaxb2` are meant for generating Proxy classes out of the Descriptor file.\r\nSince you are getting Unauthorized (401), it could be either due to wrong creds or may be you are not sending credentials et all in a request.\r\n\r\n\r\nFor Basic Auth, refer [another stackoverflow question here](https://stackoverflow.com/questions/7071366/java-web-service-client-basic-authentication)\r\n\r\nAlso, if you can post your exact code here where you configure the Creds, it will be helpful in identifying the cause","title":"Generate java classes from a wsdl url with basic authentication","body":"<p><code>wsimport</code>, <code>wsdl2java</code>, <code>maven-jaxb2</code> are meant for generating Proxy classes out of the Descriptor file.\nSince you are getting Unauthorized (401), it could be either due to wrong creds or may be you are not sending credentials et all in a request.</p>\n\n<p>For Basic Auth, refer <a href=\"https://stackoverflow.com/questions/7071366/java-web-service-client-basic-authentication\">another stackoverflow question here</a></p>\n\n<p>Also, if you can post your exact code here where you configure the Creds, it will be helpful in identifying the cause</p>\n"},{"tags":[],"owner":{"account_id":4378231,"reputation":1516,"user_id":3570659,"display_name":"Eirini Graonidou"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1503835230,"creation_date":1503835230,"answer_id":45904723,"question_id":45795362,"body_markdown":"I haven&#39;t found any way of solving this. I ended up downloading the `.wsdl` and the needed `.xsd` files and edited them (changed the import URL&#39;s) properly.\r\n\r\n**Note**: For people that have the same issue, i would recommend the [jaxws:wsimport][1] plugin, that supports an `xauthFile` option for the configuration of the basic authentication.\r\n\r\n\r\n  [1]: http://www.mojohaus.org/jaxws-maven-plugin/wsimport-mojo.html","title":"Generate java classes from a wsdl url with basic authentication","body":"<p>I haven't found any way of solving this. I ended up downloading the <code>.wsdl</code> and the needed <code>.xsd</code> files and edited them (changed the import URL's) properly.</p>\n\n<p><strong>Note</strong>: For people that have the same issue, i would recommend the <a href=\"http://www.mojohaus.org/jaxws-maven-plugin/wsimport-mojo.html\" rel=\"nofollow noreferrer\">jaxws:wsimport</a> plugin, that supports an <code>xauthFile</code> option for the configuration of the basic authentication.</p>\n"},{"tags":[],"owner":{"account_id":2419198,"reputation":827,"user_id":2112715,"display_name":"Prabah"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670846518,"creation_date":1670846518,"answer_id":74770813,"question_id":45795362,"body_markdown":"It took a while for me to understand what is there inside `xauthfile`.\r\nAn `xauthfile` is nothing but, URL with basic authentication credentials.\r\n\r\n\r\n&gt; https://username:pass@url:port/&lt;wsdl&gt;","title":"Generate java classes from a wsdl url with basic authentication","body":"<p>It took a while for me to understand what is there inside <code>xauthfile</code>.\nAn <code>xauthfile</code> is nothing but, URL with basic authentication credentials.</p>\n<blockquote>\n<p>https://username:pass@url:port/</p>\n</blockquote>\n"}],"owner":{"account_id":4378231,"reputation":1516,"user_id":3570659,"display_name":"Eirini Graonidou"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4889,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":3,"score":6,"last_activity_date":1670846518,"creation_date":1503313008,"question_id":45795362,"body_markdown":"I am trying to generate the java classes from a WSLD file, that uses basic authentication.\r\n\r\nAlthough there are many plugins out there, I have to use the following one: `org.jvnet.jaxb2.maven2:maven-jaxb2-plugin` \r\n\r\nWith `wsimport` or `wsdl2java` i have found the way to configure the basic authentication parameters. Using the `maven-jaxb2-plugin` i had no luck.\r\n\r\nMy configuration follows:\r\n\r\n           &lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.jvnet.jaxb2.maven2&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-jaxb2-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;0.13.2&lt;/version&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;generate&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;packageName&gt;com.mycompany&lt;/packageName&gt;\r\n\t\t\t\t\t\t\t&lt;sourceType&gt;wsdl&lt;/sourceType&gt;\r\n\t\t\t\t\t\t\t&lt;specVersion&gt;2.2&lt;/specVersion&gt;\r\n\t\t\t\t\t\t\t&lt;schemas&gt;\r\n\t\t\t\t\t\t\t\t&lt;schema&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;url&gt;https://some-url?wsdl&lt;/url&gt;\r\n\t\t\t\t\t\t\t\t&lt;/schema&gt;\r\n\t\t\t\t\t\t\t&lt;/schemas&gt;\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t&lt;outputDirectory&gt;target/generated-sources/xjb&lt;/outputDirectory&gt;\r\n\t\t\t\t\t\t\t&lt;clearOutputDir&gt;false&lt;/clearOutputDir&gt;\r\n\t\t\t\t\t\t\t&lt;useActiveProxyAsHttpproxy&gt;true&lt;/useActiveProxyAsHttpproxy&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\r\n\r\nAs expected, the build fails with the following message:\r\n\r\n    Caused by: java.io.IOException: Server returned HTTP response code: 401 for URL: https://some-url?wsdl\r\n\tat sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1840)\r\n\tat sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1441)\r\n\tat sun.net.www.protocol.https.HttpsURLConnectionImpl.getInputStream(HttpsURLConnectionImpl.java:254)\r\n\tat com.sun.org.apache.xerces.internal.impl.XMLEntityManager.setupCurrentEntity(XMLEntityManager.java:647)\r\n\tat com.sun.org.apache.xerces.internal.impl.XMLVersionDetector.determineDocVersion(XMLVersionDetector.java:189)\r\n\tat com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:812)\r\n\tat com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:777)\r\n\tat com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:141)\r\n\tat com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1213)\r\n\tat com.sun.org.apache.xerces.internal.impl.xs.traversers.XSDHandler.getSchemaDocument(XSDHandler.java:2275)\r\n\t... 36 more\r\n\r\n\r\nAny ideas about the basic authentication configuration? Thank&#39;s in advance!\r\n\r\n*Note: &lt;url&gt;https://username:pass@some-url?wsdl&lt;/url&gt;, i still get an IOException because of the unauthorized request.*","title":"Generate java classes from a wsdl url with basic authentication","body":"<p>I am trying to generate the java classes from a WSLD file, that uses basic authentication.</p>\n\n<p>Although there are many plugins out there, I have to use the following one: <code>org.jvnet.jaxb2.maven2:maven-jaxb2-plugin</code> </p>\n\n<p>With <code>wsimport</code> or <code>wsdl2java</code> i have found the way to configure the basic authentication parameters. Using the <code>maven-jaxb2-plugin</code> i had no luck.</p>\n\n<p>My configuration follows:</p>\n\n<pre><code>       &lt;plugin&gt;\n            &lt;groupId&gt;org.jvnet.jaxb2.maven2&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-jaxb2-plugin&lt;/artifactId&gt;\n            &lt;version&gt;0.13.2&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;generate&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;packageName&gt;com.mycompany&lt;/packageName&gt;\n                        &lt;sourceType&gt;wsdl&lt;/sourceType&gt;\n                        &lt;specVersion&gt;2.2&lt;/specVersion&gt;\n                        &lt;schemas&gt;\n                            &lt;schema&gt;\n                                &lt;url&gt;https://some-url?wsdl&lt;/url&gt;\n                            &lt;/schema&gt;\n                        &lt;/schemas&gt;\n\n                        &lt;outputDirectory&gt;target/generated-sources/xjb&lt;/outputDirectory&gt;\n                        &lt;clearOutputDir&gt;false&lt;/clearOutputDir&gt;\n                        &lt;useActiveProxyAsHttpproxy&gt;true&lt;/useActiveProxyAsHttpproxy&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n</code></pre>\n\n<p>As expected, the build fails with the following message:</p>\n\n<pre><code>Caused by: java.io.IOException: Server returned HTTP response code: 401 for URL: https://some-url?wsdl\nat sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1840)\nat sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1441)\nat sun.net.www.protocol.https.HttpsURLConnectionImpl.getInputStream(HttpsURLConnectionImpl.java:254)\nat com.sun.org.apache.xerces.internal.impl.XMLEntityManager.setupCurrentEntity(XMLEntityManager.java:647)\nat com.sun.org.apache.xerces.internal.impl.XMLVersionDetector.determineDocVersion(XMLVersionDetector.java:189)\nat com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:812)\nat com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:777)\nat com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:141)\nat com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1213)\nat com.sun.org.apache.xerces.internal.impl.xs.traversers.XSDHandler.getSchemaDocument(XSDHandler.java:2275)\n... 36 more\n</code></pre>\n\n<p>Any ideas about the basic authentication configuration? Thank's in advance!</p>\n\n<p><em>Note: <a href=\"https://username:pass@some-url?wsdl\" rel=\"nofollow noreferrer\">https://username:pass@some-url?wsdl</a>, i still get an IOException because of the unauthorized request.</em></p>\n"},{"tags":["java","sql-server"],"comments":[{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1670842288,"post_id":74769461,"comment_id":131958816,"body_markdown":"Can you run the two queries after each other, store both results in Java and calculate the percentage there? Or is it mandatory to get the result directly via SQL?","body":"Can you run the two queries after each other, store both results in Java and calculate the percentage there? Or is it mandatory to get the result directly via SQL?"},{"owner":{"account_id":21390269,"reputation":23,"user_id":15754469,"display_name":"Ahmed"},"score":0,"creation_date":1670843285,"post_id":74769461,"comment_id":131959129,"body_markdown":"@deHaar it would be fine if I could store them in java and make the calculation there, I tired doing that by making a second query statement in a couple of different ways but it says the result set is closed.","body":"@deHaar it would be fine if I could store them in java and make the calculation there, I tired doing that by making a second query statement in a couple of different ways but it says the result set is closed."},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1670845014,"post_id":74769461,"comment_id":131959691,"body_markdown":"Ok, that seems to be a different problem… If the `ResultSet` is closed already, you have closed it or it was automatically closed. Do you use a `try` statement? Please [edit] your question and include the relevant Java code.","body":"Ok, that seems to be a different problem… If the <code>ResultSet</code> is closed already, you have closed it or it was automatically closed. Do you use a <code>try</code> statement? Please <a href=\"https://stackoverflow.com/posts/74769461/edit\">edit</a> your question and include the relevant Java code."}],"answers":[{"tags":[],"owner":{"account_id":26909890,"reputation":1,"user_id":20485646,"display_name":"zhongbao.yang"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1670840820,"creation_date":1670840808,"answer_id":74769682,"question_id":74769461,"body_markdown":"you can try sql\r\n```sql\r\nselect sum(state)/count(state) \r\nfrom tasks where p_id = 2 \r\n```","title":"calculate percentange from data of two rows with different select conditions","body":"<p>you can try sql</p>\n<pre class=\"lang-sql prettyprint-override\"><code>select sum(state)/count(state) \nfrom tasks where p_id = 2 \n</code></pre>\n"},{"comments":[{"owner":{"account_id":2312068,"reputation":90351,"user_id":2029983,"display_name":"Thom A"},"score":0,"creation_date":1670847044,"post_id":74770666,"comment_id":131960308,"body_markdown":"Then change `WHEN 0` to `WHEN 1`, @Ahmed . Based on your description, I assumed you wanted the above, as you stated you wanted `(select count(state) from tasks where p_id = 2) / (select count(state) from tasks where p_id = 2 AND state = 0)`; For the above that would result in `4 / 1 = 4` not `0.25`","body":"Then change <code>WHEN 0</code> to <code>WHEN 1</code>, @Ahmed . Based on your description, I assumed you wanted the above, as you stated you wanted <code>(select count(state) from tasks where p_id = 2) &#47; (select count(state) from tasks where p_id = 2 AND state = 0)</code>; For the above that would result in <code>4 &#47; 1 = 4</code> not <code>0.25</code>"},{"owner":{"account_id":21390269,"reputation":23,"user_id":15754469,"display_name":"Ahmed"},"score":0,"creation_date":1670847334,"post_id":74770666,"comment_id":131960389,"body_markdown":"that works! sorry for the confusion and thank you for your help.","body":"that works! sorry for the confusion and thank you for your help."}],"tags":[],"owner":{"account_id":2312068,"reputation":90351,"user_id":2029983,"display_name":"Thom A"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670846409,"creation_date":1670845684,"answer_id":74770666,"question_id":74769461,"body_markdown":"Conditional aggregation would be the simplest method here. You could do this with a `SUM` divided by a `COUNT`:\r\n```sql\r\nSELECT SUM(CASE state WHEN 0 THEN 1. ELSE 0. END) / NULLIF(COUNT(state),0)\r\nFROM dbo.YourTable\r\nWHERE p_id = 2;\r\n```\r\nThe `NULLIF` is there to avoid divide by zero errors.\r\n\r\nHowever, `AVG` might actually be an easier solution:\r\n```sql\r\nSELECT AVG(CASE state WHEN 0 THEN 1. ELSE 0. END)\r\nFROM dbo.YourTable\r\nWHERE p_id = 2;\r\n```\r\n","title":"calculate percentange from data of two rows with different select conditions","body":"<p>Conditional aggregation would be the simplest method here. You could do this with a <code>SUM</code> divided by a <code>COUNT</code>:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT SUM(CASE state WHEN 0 THEN 1. ELSE 0. END) / NULLIF(COUNT(state),0)\nFROM dbo.YourTable\nWHERE p_id = 2;\n</code></pre>\n<p>The <code>NULLIF</code> is there to avoid divide by zero errors.</p>\n<p>However, <code>AVG</code> might actually be an easier solution:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT AVG(CASE state WHEN 0 THEN 1. ELSE 0. END)\nFROM dbo.YourTable\nWHERE p_id = 2;\n</code></pre>\n"}],"owner":{"account_id":21390269,"reputation":23,"user_id":15754469,"display_name":"Ahmed"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74770666,"answer_count":2,"score":0,"last_activity_date":1670846409,"creation_date":1670839658,"question_id":74769461,"body_markdown":"I have a table that shows the state of tasks of a project, when the task is finished the state = 1 when the task is not finished the state = 0 by default \r\n```sql\r\ncreate tasks(\r\n  id int primary key identitiy(1, 1),\r\n  p_id int references projects(id),\r\n  emp_id int references users(id),\r\n  state int default (0)\r\n)\r\n```\r\nI&#39;m trying to calculate the percentage of completed tasks by dividing the `select count(state) from tasks where p_id = 2` over `select count(state) from tasks where p_id = 2 AND state = 0` and multiplying the result by 100 but I can&#39;t get the query to work.\r\n\r\nI tried a number of solutions I found but I couldn&#39;t find a question that had the same conditions on the select statements.\r\n\r\nI&#39;m trying to get the result into a java program through JDBC and tried to include `allowMultiQueries=true` to the connectionURL or use two different query statements and nesting the ResultSets but nothing worked so far\r\n\r\n(Edit) this is the method I&#39;m working with in java, when I run it with `p_id = 2` it throws the exception `The result set is closed`\r\n\r\n    public void projectProgress()throws SQLException, ClassNotFoundException{\r\n        SqlConnection DB = new SqlConnection(); \r\n        int id = Integer.parseInt(PMprogressFrame.Pnum.getText());\r\n        String sql = &quot;select count(state) as finishedTasks from tasks where P_id = &quot;+id+&quot; AND state = 1&quot;;\r\n        String sql2 = &quot;select count(state) as totalTasks from tasks where p_id = 2&quot;;\r\n        \r\n        ResultSet result = DB.st.executeQuery(sql);\r\n        ResultSet result2 = DB.st.executeQuery(sql2);\r\n        while(result.next()){\r\n            while(result2.next()){\r\n\r\n            float var1 = result.getFloat(&quot;finishedTasks&quot;);\r\n            float var2 = result.getFloat(&quot;totalTasks&quot;);\r\n            float p = (var1/var2)*100;\r\n            PMprogressFrame.progress.setText(p+&quot;%&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\nand this is my connection method:\r\n\r\n    public class SqlConnection {\r\n    \r\n        Connection conn;\r\n        Statement st;\r\n        ResultSet rs;\r\n    \r\n        public SqlConnection() throws SQLException, ClassNotFoundException{\r\n            Class.forName(&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;);\r\n            String connectionUrl = &quot;jdbc:sqlserver://MEMENTOMORI:1433;databaseName=PMS;user=sa;password=12345;encrypt=false;allowMultiQueries=true&quot;;  \r\n             conn = DriverManager.getConnection(connectionUrl);\r\n            st = conn.createStatement();\r\n        \r\n        }\r\n\r\n","title":"calculate percentange from data of two rows with different select conditions","body":"<p>I have a table that shows the state of tasks of a project, when the task is finished the state = 1 when the task is not finished the state = 0 by default</p>\n<pre class=\"lang-sql prettyprint-override\"><code>create tasks(\n  id int primary key identitiy(1, 1),\n  p_id int references projects(id),\n  emp_id int references users(id),\n  state int default (0)\n)\n</code></pre>\n<p>I'm trying to calculate the percentage of completed tasks by dividing the <code>select count(state) from tasks where p_id = 2</code> over <code>select count(state) from tasks where p_id = 2 AND state = 0</code> and multiplying the result by 100 but I can't get the query to work.</p>\n<p>I tried a number of solutions I found but I couldn't find a question that had the same conditions on the select statements.</p>\n<p>I'm trying to get the result into a java program through JDBC and tried to include <code>allowMultiQueries=true</code> to the connectionURL or use two different query statements and nesting the ResultSets but nothing worked so far</p>\n<p>(Edit) this is the method I'm working with in java, when I run it with <code>p_id = 2</code> it throws the exception <code>The result set is closed</code></p>\n<pre><code>public void projectProgress()throws SQLException, ClassNotFoundException{\n    SqlConnection DB = new SqlConnection(); \n    int id = Integer.parseInt(PMprogressFrame.Pnum.getText());\n    String sql = &quot;select count(state) as finishedTasks from tasks where P_id = &quot;+id+&quot; AND state = 1&quot;;\n    String sql2 = &quot;select count(state) as totalTasks from tasks where p_id = 2&quot;;\n    \n    ResultSet result = DB.st.executeQuery(sql);\n    ResultSet result2 = DB.st.executeQuery(sql2);\n    while(result.next()){\n        while(result2.next()){\n\n        float var1 = result.getFloat(&quot;finishedTasks&quot;);\n        float var2 = result.getFloat(&quot;totalTasks&quot;);\n        float p = (var1/var2)*100;\n        PMprogressFrame.progress.setText(p+&quot;%&quot;);\n        }\n    }\n}\n</code></pre>\n<p>and this is my connection method:</p>\n<pre><code>public class SqlConnection {\n\n    Connection conn;\n    Statement st;\n    ResultSet rs;\n\n    public SqlConnection() throws SQLException, ClassNotFoundException{\n        Class.forName(&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;);\n        String connectionUrl = &quot;jdbc:sqlserver://MEMENTOMORI:1433;databaseName=PMS;user=sa;password=12345;encrypt=false;allowMultiQueries=true&quot;;  \n         conn = DriverManager.getConnection(connectionUrl);\n        st = conn.createStatement();\n    \n    }\n</code></pre>\n"},{"tags":["java","spring","hibernate","caching","redisson"],"comments":[{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":1,"creation_date":1670846519,"post_id":74770742,"comment_id":131960159,"body_markdown":"you can&#39;t. HBN uses `org.hibernate.cache.spi.entry.StandardCacheEntryImpl#subclass` field to validate consistency.","body":"you can&#39;t. HBN uses <code>org.hibernate.cache.spi.entry.StandardCacheEntryImpl#subclas&zwnj;&#8203;s</code> field to validate consistency."},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1670846570,"post_id":74770742,"comment_id":131960169,"body_markdown":"You can use the full class name to get the class and on class you can call `.getSimpleName()`","body":"You can use the full class name to get the class and on class you can call <code>.getSimpleName()</code>"},{"owner":{"account_id":26434968,"reputation":45,"user_id":20080481,"display_name":"User01"},"score":0,"creation_date":1670851708,"post_id":74770742,"comment_id":131961877,"body_markdown":"@AndreyB.Panfilov do you recommend an alternative solution, how can I read cached items without the error java.lang.IllegalArgumentException: Unknown entity , one solution would be to have a distinct cache region for each sub-project, but that will imply having to write code to evict other regions on cache content update to ensure data consistency.","body":"@AndreyB.Panfilov do you recommend an alternative solution, how can I read cached items without the error java.lang.IllegalArgumentException: Unknown entity , one solution would be to have a distinct cache region for each sub-project, but that will imply having to write code to evict other regions on cache content update to ensure data consistency."},{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":1,"creation_date":1670852865,"post_id":74770742,"comment_id":131962283,"body_markdown":"The solution is pretty simple: share models across all projects involved.","body":"The solution is pretty simple: share models across all projects involved."}],"owner":{"account_id":26434968,"reputation":45,"user_id":20080481,"display_name":"User01"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670846087,"creation_date":1670846087,"question_id":74770742,"body_markdown":"I&#39;m working on Java Spring project where we use Hibernate second level cache, Redisson is our cache region provider, by accessing a cache values by the following:\r\n\r\n    Collection&lt;Object&gt; mylist=redissonClient.getMapCache(&quot;regionName&quot;).readAllValues();\r\nand the output is something like this:\r\n\r\n    [read-write Item(CacheEntry(com.example.test.entities.myEntity))]\r\n\r\nHow can I change the fully qualified class name &quot;com.example.test.entities.myEntity&quot; to be just captured as myEntity.\r\n\r\nI need to unify the name because I have different sub-projects accessing the same cache and same classes and the fully qualified name for the same class differs from sub-project to another.","title":"dealing with Hibernate second level cache","body":"<p>I'm working on Java Spring project where we use Hibernate second level cache, Redisson is our cache region provider, by accessing a cache values by the following:</p>\n<pre><code>Collection&lt;Object&gt; mylist=redissonClient.getMapCache(&quot;regionName&quot;).readAllValues();\n</code></pre>\n<p>and the output is something like this:</p>\n<pre><code>[read-write Item(CacheEntry(com.example.test.entities.myEntity))]\n</code></pre>\n<p>How can I change the fully qualified class name &quot;com.example.test.entities.myEntity&quot; to be just captured as myEntity.</p>\n<p>I need to unify the name because I have different sub-projects accessing the same cache and same classes and the fully qualified name for the same class differs from sub-project to another.</p>\n"},{"tags":["java","spring","exception","logging","exceptionhandler"],"answers":[{"comments":[{"owner":{"account_id":27227630,"reputation":13,"user_id":20755887,"display_name":"Marco Florio"},"score":0,"creation_date":1670846074,"post_id":74770694,"comment_id":131960016,"body_markdown":"Good idea, I think this solution should do it, thanks! :)","body":"Good idea, I think this solution should do it, thanks! :)"}],"tags":[],"owner":{"account_id":8075036,"reputation":77,"user_id":6086395,"display_name":"Ihor0k"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670845854,"creation_date":1670845854,"answer_id":74770694,"question_id":74770226,"body_markdown":"You can use Spring AOP to measure execution time and catch exceptions.\r\n[Here](https://medium.com/@mailshine/spring-boot-measure-execution-time-using-spring-aop-and-aspectj-4590d7bd6bb2) is an example. It only measures time. But you can add a try-catch there similar to what you had in your old code.\r\n\r\nIf you still want to use an `ExceptionHandler`, then you can create `class TimeMeasuredException extends RuntimeException` with `executionTime` field. And then do\r\n```\r\nInstant start = Instant.now();\r\ntry {\r\n  point.proceed();\r\n} catch (Exception ex) {\r\n  Instant end = Instant.now();\r\n  Duration executionTime = Duration.between(start, end);\r\n  throw new TimeMeasuredException(executionTime, ex);\r\n}\r\n```\r\nYour `ExceptionHandler` should either catch `TimeMeasuredException` or you can catch `Exception` and then check it with `instanceof`.","title":"How to log execution time with ExceptionHandler","body":"<p>You can use Spring AOP to measure execution time and catch exceptions.\n<a href=\"https://medium.com/@mailshine/spring-boot-measure-execution-time-using-spring-aop-and-aspectj-4590d7bd6bb2\" rel=\"nofollow noreferrer\">Here</a> is an example. It only measures time. But you can add a try-catch there similar to what you had in your old code.</p>\n<p>If you still want to use an <code>ExceptionHandler</code>, then you can create <code>class TimeMeasuredException extends RuntimeException</code> with <code>executionTime</code> field. And then do</p>\n<pre><code>Instant start = Instant.now();\ntry {\n  point.proceed();\n} catch (Exception ex) {\n  Instant end = Instant.now();\n  Duration executionTime = Duration.between(start, end);\n  throw new TimeMeasuredException(executionTime, ex);\n}\n</code></pre>\n<p>Your <code>ExceptionHandler</code> should either catch <code>TimeMeasuredException</code> or you can catch <code>Exception</code> and then check it with <code>instanceof</code>.</p>\n"}],"owner":{"account_id":27227630,"reputation":13,"user_id":20755887,"display_name":"Marco Florio"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74770694,"answer_count":1,"score":1,"last_activity_date":1670845854,"creation_date":1670843378,"question_id":74770226,"body_markdown":"I am trying to refactor my application and now i also want to use an ExceptionHandler.\r\nTherefore I already implemented some Methods like\r\n\r\n\r\n```\r\n@org.springframework.web.bind.annotation.ExceptionHandler(Exception.class)\r\npublic final ResponseEntity&lt;SomeClass&gt; handleException(Exception e) {\r\n// do something\r\n}\r\n```\r\n\r\nNow I want to log the execution time of the calling method also when the ExeptionHandler method is called.\r\nIn my old code I did it like this:\r\n\r\n\r\n```\r\npublic void doSomething() {\r\n    Instant start = Instant.now();\r\n    \r\n    try {\r\n        // do some fancy code stuff\r\n    } catch (Exception e) {\r\n        logTime(Duration.between(start, Instant.now()).toMillis());\r\n    }\r\n} \r\n```\r\n\r\nHas anybody an idea of how to get the information of the startTime passed in the ExceptionHandler method? Or is there maybe a much better way to get the information?\r\n\r\nI already had a look in the Exception object structure if I could maybe find some of the needed information.","title":"How to log execution time with ExceptionHandler","body":"<p>I am trying to refactor my application and now i also want to use an ExceptionHandler.\nTherefore I already implemented some Methods like</p>\n<pre><code>@org.springframework.web.bind.annotation.ExceptionHandler(Exception.class)\npublic final ResponseEntity&lt;SomeClass&gt; handleException(Exception e) {\n// do something\n}\n</code></pre>\n<p>Now I want to log the execution time of the calling method also when the ExeptionHandler method is called.\nIn my old code I did it like this:</p>\n<pre><code>public void doSomething() {\n    Instant start = Instant.now();\n    \n    try {\n        // do some fancy code stuff\n    } catch (Exception e) {\n        logTime(Duration.between(start, Instant.now()).toMillis());\n    }\n} \n</code></pre>\n<p>Has anybody an idea of how to get the information of the startTime passed in the ExceptionHandler method? Or is there maybe a much better way to get the information?</p>\n<p>I already had a look in the Exception object structure if I could maybe find some of the needed information.</p>\n"},{"tags":["java","android","datetime","simpledateformat"],"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1471986340,"post_id":10725246,"comment_id":65568736,"body_markdown":"Your example text up top is 21st which is a Monday not a Tuesday. Different from the example code.","body":"Your example text up top is 21st which is a Monday not a Tuesday. Different from the example code."}],"answers":[{"comments":[{"owner":{"account_id":1066536,"reputation":1089,"user_id":1066956,"accept_rate":85,"display_name":"Manto"},"score":1,"creation_date":1337798592,"post_id":10725303,"comment_id":13931870,"body_markdown":"I tried it but the line Date date = inputFormat.parse(inputText); still throw the exception I mentioned above :(","body":"I tried it but the line Date date = inputFormat.parse(inputText); still throw the exception I mentioned above :("},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1337798700,"post_id":10725303,"comment_id":13931918,"body_markdown":"@user1066956: Please post the *exact* string involved then - because I used the string you gave me in the question, and it was fine.","body":"@user1066956: Please post the <i>exact</i> string involved then - because I used the string you gave me in the question, and it was fine."},{"owner":{"account_id":1066536,"reputation":1089,"user_id":1066956,"accept_rate":85,"display_name":"Manto"},"score":0,"creation_date":1337801089,"post_id":10725303,"comment_id":13932901,"body_markdown":"&quot;Tue May 21 14:32:00 GMT 2012&quot; is the exact string I used. I ran the following code in TextMate and got the error I mentioned above.","body":"&quot;Tue May 21 14:32:00 GMT 2012&quot; is the exact string I used. I ran the following code in TextMate and got the error I mentioned above."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1337804854,"post_id":10725303,"comment_id":13934353,"body_markdown":"@user1066956: I&#39;ve edited a short but complete program into the answer. Can you run that exact code on your desktop? When it was failing, was that running it in Android or in Java?","body":"@user1066956: I&#39;ve edited a short but complete program into the answer. Can you run that exact code on your desktop? When it was failing, was that running it in Android or in Java?"},{"owner":{"account_id":1066536,"reputation":1089,"user_id":1066956,"accept_rate":85,"display_name":"Manto"},"score":0,"creation_date":1337814172,"post_id":10725303,"comment_id":13937068,"body_markdown":"BTW, if we don&#39;t know the timezone (e.g. sometime the string come with America/Los_Angeles), what should we put to replace &#39;GMT&#39;? Should we put zzzz?","body":"BTW, if we don&#39;t know the timezone (e.g. sometime the string come with America/Los_Angeles), what should we put to replace &#39;GMT&#39;? Should we put zzzz?"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1337815245,"post_id":10725303,"comment_id":13937268,"body_markdown":"@user1066956: &quot;America/Los_Angeles&quot; *is* the time zone ID. That&#39;s a much *better* time zone ID than &quot;GMT&quot;. You could certainly try &quot;zzzz&quot; - I can&#39;t remember under which versions that will work.","body":"@user1066956: &quot;America/Los_Angeles&quot; <i>is</i> the time zone ID. That&#39;s a much <i>better</i> time zone ID than &quot;GMT&quot;. You could certainly try &quot;zzzz&quot; - I can&#39;t remember under which versions that will work."},{"owner":{"account_id":14739732,"reputation":184,"user_id":10644658,"display_name":"Deepak J"},"score":0,"creation_date":1599373648,"post_id":10725303,"comment_id":112751314,"body_markdown":"Your answer worked miraculously. Thank you so much. Upvoted.","body":"Your answer worked miraculously. Thank you so much. Upvoted."}],"tags":[],"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"comment_count":7,"down_vote_count":0,"up_vote_count":28,"is_accepted":true,"score":28,"last_activity_date":1337804764,"creation_date":1337795662,"answer_id":10725303,"question_id":10725246,"body_markdown":"The format string you provided for *parsing* doesn&#39;t correspond with the text format you&#39;ve actually got. You need to parse first, then format. It looks like you want:\r\n\r\n    SimpleDateFormat inputFormat = new SimpleDateFormat(\r\n        &quot;EEE MMM dd HH:mm:ss &#39;GMT&#39; yyyy&quot;, Locale.US);\r\n    inputFormat.setTimeZone(TimeZone.getTimeZone(&quot;Etc/UTC&quot;));\r\n\r\n    SimpleDateFormat outputFormat = new SimpleDateFormat(&quot;MMM dd, yyyy h:mm a&quot;);\r\n    // Adjust locale and zone appropriately\r\n\r\n    Date date = inputFormat.parse(inputText);\r\n    String outputText = outputFormat.format(date);\r\n\r\nEDIT: Here&#39;s the same code in the form of a short but complete program, with your sample input:\r\n\r\n    import java.util.*;\r\n    import java.text.*;\r\n    \r\n    public class Test {\r\n        public static void main(String[] args) throws ParseException {\r\n            String inputText = &quot;Tue May 21 14:32:00 GMT 2012&quot;;\r\n            SimpleDateFormat inputFormat = new SimpleDateFormat\r\n                (&quot;EEE MMM dd HH:mm:ss &#39;GMT&#39; yyyy&quot;, Locale.US);\r\n            inputFormat.setTimeZone(TimeZone.getTimeZone(&quot;Etc/UTC&quot;));\r\n            \r\n            SimpleDateFormat outputFormat =\r\n                new SimpleDateFormat(&quot;MMM dd, yyyy h:mm a&quot;);\r\n            // Adjust locale and zone appropriately\r\n            Date date = inputFormat.parse(inputText);\r\n            String outputText = outputFormat.format(date);\r\n            System.out.println(outputText);\r\n        }\r\n    }\r\n\r\nCan you compile and run *that exact code*?","title":"Java/Android - Convert a GMT time string to local time","body":"<p>The format string you provided for <em>parsing</em> doesn't correspond with the text format you've actually got. You need to parse first, then format. It looks like you want:</p>\n\n<pre><code>SimpleDateFormat inputFormat = new SimpleDateFormat(\n    \"EEE MMM dd HH:mm:ss 'GMT' yyyy\", Locale.US);\ninputFormat.setTimeZone(TimeZone.getTimeZone(\"Etc/UTC\"));\n\nSimpleDateFormat outputFormat = new SimpleDateFormat(\"MMM dd, yyyy h:mm a\");\n// Adjust locale and zone appropriately\n\nDate date = inputFormat.parse(inputText);\nString outputText = outputFormat.format(date);\n</code></pre>\n\n<p>EDIT: Here's the same code in the form of a short but complete program, with your sample input:</p>\n\n<pre><code>import java.util.*;\nimport java.text.*;\n\npublic class Test {\n    public static void main(String[] args) throws ParseException {\n        String inputText = \"Tue May 21 14:32:00 GMT 2012\";\n        SimpleDateFormat inputFormat = new SimpleDateFormat\n            (\"EEE MMM dd HH:mm:ss 'GMT' yyyy\", Locale.US);\n        inputFormat.setTimeZone(TimeZone.getTimeZone(\"Etc/UTC\"));\n\n        SimpleDateFormat outputFormat =\n            new SimpleDateFormat(\"MMM dd, yyyy h:mm a\");\n        // Adjust locale and zone appropriately\n        Date date = inputFormat.parse(inputText);\n        String outputText = outputFormat.format(date);\n        System.out.println(outputText);\n    }\n}\n</code></pre>\n\n<p>Can you compile and run <em>that exact code</em>?</p>\n"},{"tags":[],"owner":{"account_id":136194,"reputation":2562,"user_id":339545,"display_name":"LINEMAN78"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1337796301,"creation_date":1337796301,"answer_id":10725458,"question_id":10725246,"body_markdown":"The formatter you use to parse must be defined to the format you expect. Here is an example that works for the values you provided however you may need to change it depending on how some edge cases act for the input:\r\n\r\n    String date = &quot;Tue May 21 14:32:00 GMT 2012&quot;;\r\n    DateFormat inputFormat = new SimpleDateFormat(&quot;EE MMM dd HH:mm:ss zz yyy&quot;);\r\n    Date d = inputFormat.parse(date);\r\n    DateFormat outputFormat = new SimpleDateFormat(&quot;MMM dd, yyy h:mm a zz&quot;);\r\n    System.out.println(outputFormat.format(d));","title":"Java/Android - Convert a GMT time string to local time","body":"<p>The formatter you use to parse must be defined to the format you expect. Here is an example that works for the values you provided however you may need to change it depending on how some edge cases act for the input:</p>\n\n<pre><code>String date = \"Tue May 21 14:32:00 GMT 2012\";\nDateFormat inputFormat = new SimpleDateFormat(\"EE MMM dd HH:mm:ss zz yyy\");\nDate d = inputFormat.parse(date);\nDateFormat outputFormat = new SimpleDateFormat(\"MMM dd, yyy h:mm a zz\");\nSystem.out.println(outputFormat.format(d));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":366221,"reputation":471,"user_id":711626,"display_name":"GHz"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1337802874,"creation_date":1337802874,"answer_id":10726910,"question_id":10725246,"body_markdown":"The method SimpleDateFormat.parse throws a parse exception.\r\n\r\nThe exception you&#39;re getting is telling you this...\r\n\r\n&gt; The exception is &quot;unreported exception java.text.ParseException; **must be caught or declared to be thrown.**&quot;\r\n\r\nWrap the line that does the parsing with try-catch and you should be golden..\r\n\r\n    Date d=null;\r\n    try{\r\n        d = inputFormat.parse(date);\r\n    catch(ParseException e){\r\n       // handle the error here....\r\n    }\r\n\r\nR","title":"Java/Android - Convert a GMT time string to local time","body":"<p>The method SimpleDateFormat.parse throws a parse exception.</p>\n\n<p>The exception you're getting is telling you this...</p>\n\n<blockquote>\n  <p>The exception is \"unreported exception java.text.ParseException; <strong>must be caught or declared to be thrown.</strong>\"</p>\n</blockquote>\n\n<p>Wrap the line that does the parsing with try-catch and you should be golden..</p>\n\n<pre><code>Date d=null;\ntry{\n    d = inputFormat.parse(date);\ncatch(ParseException e){\n   // handle the error here....\n}\n</code></pre>\n\n<p>R</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1471987264,"creation_date":1471987264,"answer_id":39110875,"question_id":10725246,"body_markdown":"You are using troublesome old date-time classes now supplanted by the java.time classes.\r\n\r\n# Wrong input data\r\n\r\nYour first example string is incorrect, as the 21st is a Monday not a Tuesday. The second example string with 22nd is correct, and used in my example code below.\r\n\r\n# Using java.time\r\n\r\nAvoid using this kind of format for textual representations of date-time values. In particular, never use the 3-4 letter abbreviation such as `EST` or `IST` seen in this kind of format, as they are not true time zones, not standardized, and not even unique(!). Specify a [proper time zone name](https://en.wikipedia.org/wiki/List_of_tz_zones_by_name). In this particular case, java.time is able to translate that as `GMT` as [UTC][1], but other values may fail.\r\n\r\n    String input = &quot;Tue May 22 14:52:00 GMT 2012&quot;;\r\n    DateTimeFormatter f = DateTimeFormatter.ofPattern ( &quot;EEE MMM dd HH:mm:ss z uuuu&quot; ).withLocale ( Locale.US );\r\n    ZonedDateTime zdt = ZonedDateTime.parse ( input , f );\r\n\r\n    System.out.println ( &quot;zdt: &quot; + zdt );\r\n\r\nDump to console. The `toString` method generates a String in standard [ISO 8601][2] format, extended by appending the name of the zone in brackets. These standard formats are a much better choice for when you need to serialize date-time values to text.\r\n\r\n    System.out.println ( &quot;zdt: &quot; + zdt );\r\n\r\n&gt;zdt: 2012-05-22T14:52Z[GMT]\r\n\r\n# Generate String\r\n\r\nYou can generate a String to represent this value in any format you desire. Generally best to let java.time localize automatically using a [`Locale`][3] and [`DateTimeFormatter`][4].\r\n\r\nYour desired format uses a medium-length style for the date portion but a short-length style for the time-of-day portion. Fortunately the `DateTimeFormatter` allows you to localize each portion separately, as seen here where we pass a pair of [`FormatStyle`][5] objects.\r\n\r\n    Locale l = Locale.US;  // Or Locale.CANADA_FRENCH, or Locale.ITALY, etc.\r\n    DateTimeFormatter fOutput = DateTimeFormatter.ofLocalizedDateTime ( FormatStyle.MEDIUM , FormatStyle.SHORT ).withLocale ( l );\r\n    String output = zdt.format ( fOutput );\r\n\r\nDump to console.\r\n\r\n    System.out.println ( &quot;zdt: &quot; + zdt + &quot; | output: &quot; + output );\r\n\r\n&gt;zdt: 2012-05-22T14:52Z[GMT] | output: May 22, 2012 2:52 PM\r\n\r\n# About java.time\r\n\r\nThe [java.time](http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html) framework is built into Java 8 and later. These classes supplant the old troublesome date-time classes such as `java.util.Date`, `.Calendar`, &amp; `java.text.SimpleDateFormat`. \r\n\r\nThe [Joda-Time](http://www.joda.org/joda-time/) project, now in [maintenance mode](https://en.wikipedia.org/wiki/Maintenance_mode), advises migration to java.time.\r\n\r\nTo learn more, see the [Oracle Tutorial](http://docs.oracle.com/javase/tutorial/datetime/TOC.html). And search Stack Overflow for many examples and explanations.\r\n\r\nMuch of the java.time functionality is back-ported to Java 6 &amp; 7 in [ThreeTen-Backport](http://www.threeten.org/threetenbp/) and further adapted to [Android](https://en.wikipedia.org/wiki/Android_(operating_system)) in [ThreeTenABP](https://github.com/JakeWharton/ThreeTenABP) (see [*How to use…*](https://stackoverflow.com/q/38922754/642706)).\r\n\r\nThe [ThreeTen-Extra](http://www.threeten.org/threeten-extra/) project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as `Interval`, `YearWeek`, `YearQuarter`, and more.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Coordinated_Universal_Time\r\n  [2]: https://en.wikipedia.org/wiki/ISO_8601\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/util/Locale.html\r\n  [4]: https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\r\n  [5]: https://docs.oracle.com/javase/8/docs/api/java/time/format/FormatStyle.html","title":"Java/Android - Convert a GMT time string to local time","body":"<p>You are using troublesome old date-time classes now supplanted by the java.time classes.</p>\n\n<h1>Wrong input data</h1>\n\n<p>Your first example string is incorrect, as the 21st is a Monday not a Tuesday. The second example string with 22nd is correct, and used in my example code below.</p>\n\n<h1>Using java.time</h1>\n\n<p>Avoid using this kind of format for textual representations of date-time values. In particular, never use the 3-4 letter abbreviation such as <code>EST</code> or <code>IST</code> seen in this kind of format, as they are not true time zones, not standardized, and not even unique(!). Specify a <a href=\"https://en.wikipedia.org/wiki/List_of_tz_zones_by_name\" rel=\"nofollow noreferrer\">proper time zone name</a>. In this particular case, java.time is able to translate that as <code>GMT</code> as <a href=\"https://en.wikipedia.org/wiki/Coordinated_Universal_Time\" rel=\"nofollow noreferrer\">UTC</a>, but other values may fail.</p>\n\n<pre><code>String input = \"Tue May 22 14:52:00 GMT 2012\";\nDateTimeFormatter f = DateTimeFormatter.ofPattern ( \"EEE MMM dd HH:mm:ss z uuuu\" ).withLocale ( Locale.US );\nZonedDateTime zdt = ZonedDateTime.parse ( input , f );\n\nSystem.out.println ( \"zdt: \" + zdt );\n</code></pre>\n\n<p>Dump to console. The <code>toString</code> method generates a String in standard <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> format, extended by appending the name of the zone in brackets. These standard formats are a much better choice for when you need to serialize date-time values to text.</p>\n\n<pre><code>System.out.println ( \"zdt: \" + zdt );\n</code></pre>\n\n<blockquote>\n  <p>zdt: 2012-05-22T14:52Z[GMT]</p>\n</blockquote>\n\n<h1>Generate String</h1>\n\n<p>You can generate a String to represent this value in any format you desire. Generally best to let java.time localize automatically using a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Locale.html\" rel=\"nofollow noreferrer\"><code>Locale</code></a> and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\" rel=\"nofollow noreferrer\"><code>DateTimeFormatter</code></a>.</p>\n\n<p>Your desired format uses a medium-length style for the date portion but a short-length style for the time-of-day portion. Fortunately the <code>DateTimeFormatter</code> allows you to localize each portion separately, as seen here where we pass a pair of <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/FormatStyle.html\" rel=\"nofollow noreferrer\"><code>FormatStyle</code></a> objects.</p>\n\n<pre><code>Locale l = Locale.US;  // Or Locale.CANADA_FRENCH, or Locale.ITALY, etc.\nDateTimeFormatter fOutput = DateTimeFormatter.ofLocalizedDateTime ( FormatStyle.MEDIUM , FormatStyle.SHORT ).withLocale ( l );\nString output = zdt.format ( fOutput );\n</code></pre>\n\n<p>Dump to console.</p>\n\n<pre><code>System.out.println ( \"zdt: \" + zdt + \" | output: \" + output );\n</code></pre>\n\n<blockquote>\n  <p>zdt: 2012-05-22T14:52Z[GMT] | output: May 22, 2012 2:52 PM</p>\n</blockquote>\n\n<h1>About java.time</h1>\n\n<p>The <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a> framework is built into Java 8 and later. These classes supplant the old troublesome date-time classes such as <code>java.util.Date</code>, <code>.Calendar</code>, &amp; <code>java.text.SimpleDateFormat</code>. </p>\n\n<p>The <a href=\"http://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\">Joda-Time</a> project, now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"nofollow noreferrer\">maintenance mode</a>, advises migration to java.time.</p>\n\n<p>To learn more, see the <a href=\"http://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"nofollow noreferrer\">Oracle Tutorial</a>. And search Stack Overflow for many examples and explanations.</p>\n\n<p>Much of the java.time functionality is back-ported to Java 6 &amp; 7 in <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\">ThreeTen-Backport</a> and further adapted to <a href=\"https://en.wikipedia.org/wiki/Android_(operating_system)\" rel=\"nofollow noreferrer\">Android</a> in <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"nofollow noreferrer\">ThreeTenABP</a> (see <a href=\"https://stackoverflow.com/q/38922754/642706\"><em>How to use…</em></a>).</p>\n\n<p>The <a href=\"http://www.threeten.org/threeten-extra/\" rel=\"nofollow noreferrer\">ThreeTen-Extra</a> project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as <code>Interval</code>, <code>YearWeek</code>, <code>YearQuarter</code>, and more.</p>\n"},{"tags":[],"owner":{"account_id":7489615,"reputation":123,"user_id":5691796,"display_name":"Jalal Jan Khan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670845690,"creation_date":1670845690,"answer_id":74770669,"question_id":10725246,"body_markdown":"    const val DATE_HYPHEN_FORMAT = &quot;yyyy-MM-dd&quot;\r\n    const val DATE_MMM_DD_YYYY_FORMAT = &quot;MMM dd, yyyy&quot;\r\n    const val DATE_MMMM_DD_YYYY_FORMAT = &quot;MMMM dd, yyyy&quot;\r\n    \r\n    const val FULL_DAY_NAME_FORMAT = &quot;EEEE&quot;\r\n    const val DATE_EEE_DD_MMMM_YYYY_FORMAT = &quot;EEE dd, MMMM yyyy&quot;\r\n    const val DATE_EEEE_DD_MMMM_YYYY_FORMAT = &quot;EEEE dd, MMMM yyyy&quot;\r\n    \r\n    const val DATETIME_24_FORMAT = &quot;dd-MM-yyyy&#39;T&#39;HH:mm:ss&quot;\r\n    \r\n    const val DATETIME_24_YMD_FORMAT = &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&quot;\r\n    const val DATE_WITH_MONTH_NAME_MMM_DY_FORMAT = DateFormat.MEDIUM\r\n    const val DATE_WITH_MONTH_FULL_NAME_MMMM_DY_FORMAT = DateFormat.LONG\r\n    \r\n    const val TIME_24H_FORMAT = &quot;HH:mm:ss&quot;\r\n    const val TIME_FORMAT_AM_PM = &quot;hh:mm aa&quot;\r\n    const val TIME_24H_FORMATWithoutSS = &quot;HH:mm&quot;\r\n    \r\n    enum class TimeZoneTo {\r\n        NONE, UTC, LOCAL\r\n    }\r\n    \r\n    \r\n    fun changeFormat(\r\n        dateTime: String,\r\n        fromFormat: Int = DATE_WITH_MONTH_NAME_MMM_DY_FORMAT,\r\n        toFormat: String = DATETIME_24_FORMAT,\r\n        convertIn: TimeZoneTo = TimeZoneTo.NONE,\r\n        needOnlyTime: Boolean = false\r\n    ): String {\r\n        try {\r\n            val parser = DateFormat.getDateInstance(fromFormat)\r\n            val finalDateTime = trimDateTime(dateTime)\r\n    \r\n            val date = parser.parse(finalDateTime)\r\n            val sdf = SimpleDateFormat(toFormat)\r\n    \r\n            return format(\r\n                date = date!!, formatter = sdf, convertIn = convertIn, needOnlyTime = needOnlyTime\r\n            )\r\n        } catch (e: AssertionError) {\r\n            e.printStackTrace()\r\n        } catch (e: Exception) {\r\n            e.printStackTrace()\r\n        }\r\n    \r\n        return dateTime // Return Same DateTime - only iff unable to change format\r\n    }\r\n    \r\n    \r\n    \r\n    fun changeFormat(\r\n        dateTime: String,\r\n        fromFormat: String = DATETIME_24_FORMAT,\r\n        toFormat: Int = DATE_WITH_MONTH_NAME_MMM_DY_FORMAT,\r\n        convertIn: TimeZoneTo = TimeZoneTo.NONE,\r\n        needOnlyTime: Boolean = false\r\n    ): String {\r\n        try {\r\n            val sfdInput = SimpleDateFormat(fromFormat, Locale.ROOT)\r\n            val finalDateTime = trimDateTime(dateTime)\r\n    \r\n            val date: Date = sfdInput.parse(finalDateTime)!!\r\n            val outputFormatter = DateFormat.getDateInstance(toFormat)\r\n    \r\n            return format(\r\n                date = date,\r\n                formatter = outputFormatter,\r\n                convertIn = convertIn,\r\n                needOnlyTime = needOnlyTime\r\n            )\r\n        } catch (e: AssertionError) {\r\n            e.printStackTrace()\r\n        } catch (e: Exception) {\r\n            e.printStackTrace()\r\n        }\r\n    \r\n        return dateTime // Return Same DateTime - only iff unable to change format\r\n    }\r\n    \r\n    fun changeFormat(\r\n        dateTime: String,\r\n        fromFormat: String = DATETIME_24_FORMAT,\r\n        toFormat: String = DATE_HYPHEN_FORMAT,\r\n        convertInTimeZone: TimeZoneTo = TimeZoneTo.NONE,\r\n        needOnlyTime: Boolean = false\r\n    ): String {\r\n        try {\r\n            val sfdInput = SimpleDateFormat(fromFormat, Locale.ROOT)\r\n    \r\n            val finalDateTime = trimDateTime(dateTime)\r\n    \r\n            val date: Date = sfdInput.parse(finalDateTime)!!\r\n            val sdfOutput = SimpleDateFormat(toFormat)\r\n    \r\n            return format(\r\n                date = date,\r\n                formatter = sdfOutput,\r\n                convertIn = convertInTimeZone,\r\n                needOnlyTime = needOnlyTime\r\n            )\r\n        } catch (e: AssertionError) {\r\n            e.printStackTrace()\r\n        } catch (e: Exception) {\r\n            e.printStackTrace()\r\n        }\r\n    \r\n        return dateTime // Return Same DateTime - only iff unable to change format\r\n    }\r\n    \r\n    \r\n    // Format Given Date as per specified timeZone\r\n    private fun format(\r\n        date: Date,\r\n        formatter: DateFormat,\r\n        convertIn: TimeZoneTo,\r\n        needOnlyTime: Boolean\r\n    ): String {\r\n        return when (convertIn) {\r\n            TimeZoneTo.LOCAL -&gt; {\r\n                val zone = TimeZone.getTimeZone(Calendar.getInstance().timeZone.id)\r\n                val newDate = Date(date.time + zone.getOffset(date.time))\r\n                formatter.timeZone = zone\r\n    \r\n                val result = formatter.format(newDate)\r\n                if (needOnlyTime) return result.substringAfter(&#39;T&#39;)\r\n                else result\r\n            }\r\n            TimeZoneTo.UTC -&gt; {\r\n                formatter.timeZone = TimeZone.getTimeZone(&quot;UTC&quot;)\r\n                val result = formatter.format(date)\r\n    \r\n                if (needOnlyTime) return result.substringAfter(&#39;T&#39;)\r\n                else result\r\n            }\r\n            else -&gt; {\r\n                val result = formatter.format(date)\r\n                if (needOnlyTime) return result.substringAfter(&#39;T&#39;)\r\n                else result\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nI&#39;ve created 3 overloaded methods namely **changeFormat(...)** with following params;\r\n\r\n 1. **dateTime** (String -&gt; date or time or dateTime)\r\n 2. **fromFormat** (String/Int -&gt; Current format of dateTime) - optional (i.e. if not provided default will be used)\r\n 3. **toFormat** (String/Int -&gt; New format for dateTime) - optional (i.e. if not provided default will be used)\r\n 4. **convertInTimeZone** (Enum -&gt; Convert in specified TimeZone)\r\n 5. **needOnlyTime** (Boolean -&gt; Will return only converted Time if **true** else converted **dateTime**\r\n\r\nHopefully, this may help someone in future.","title":"Java/Android - Convert a GMT time string to local time","body":"<pre><code>const val DATE_HYPHEN_FORMAT = &quot;yyyy-MM-dd&quot;\nconst val DATE_MMM_DD_YYYY_FORMAT = &quot;MMM dd, yyyy&quot;\nconst val DATE_MMMM_DD_YYYY_FORMAT = &quot;MMMM dd, yyyy&quot;\n\nconst val FULL_DAY_NAME_FORMAT = &quot;EEEE&quot;\nconst val DATE_EEE_DD_MMMM_YYYY_FORMAT = &quot;EEE dd, MMMM yyyy&quot;\nconst val DATE_EEEE_DD_MMMM_YYYY_FORMAT = &quot;EEEE dd, MMMM yyyy&quot;\n\nconst val DATETIME_24_FORMAT = &quot;dd-MM-yyyy'T'HH:mm:ss&quot;\n\nconst val DATETIME_24_YMD_FORMAT = &quot;yyyy-MM-dd'T'HH:mm:ss&quot;\nconst val DATE_WITH_MONTH_NAME_MMM_DY_FORMAT = DateFormat.MEDIUM\nconst val DATE_WITH_MONTH_FULL_NAME_MMMM_DY_FORMAT = DateFormat.LONG\n\nconst val TIME_24H_FORMAT = &quot;HH:mm:ss&quot;\nconst val TIME_FORMAT_AM_PM = &quot;hh:mm aa&quot;\nconst val TIME_24H_FORMATWithoutSS = &quot;HH:mm&quot;\n\nenum class TimeZoneTo {\n    NONE, UTC, LOCAL\n}\n\n\nfun changeFormat(\n    dateTime: String,\n    fromFormat: Int = DATE_WITH_MONTH_NAME_MMM_DY_FORMAT,\n    toFormat: String = DATETIME_24_FORMAT,\n    convertIn: TimeZoneTo = TimeZoneTo.NONE,\n    needOnlyTime: Boolean = false\n): String {\n    try {\n        val parser = DateFormat.getDateInstance(fromFormat)\n        val finalDateTime = trimDateTime(dateTime)\n\n        val date = parser.parse(finalDateTime)\n        val sdf = SimpleDateFormat(toFormat)\n\n        return format(\n            date = date!!, formatter = sdf, convertIn = convertIn, needOnlyTime = needOnlyTime\n        )\n    } catch (e: AssertionError) {\n        e.printStackTrace()\n    } catch (e: Exception) {\n        e.printStackTrace()\n    }\n\n    return dateTime // Return Same DateTime - only iff unable to change format\n}\n\n\n\nfun changeFormat(\n    dateTime: String,\n    fromFormat: String = DATETIME_24_FORMAT,\n    toFormat: Int = DATE_WITH_MONTH_NAME_MMM_DY_FORMAT,\n    convertIn: TimeZoneTo = TimeZoneTo.NONE,\n    needOnlyTime: Boolean = false\n): String {\n    try {\n        val sfdInput = SimpleDateFormat(fromFormat, Locale.ROOT)\n        val finalDateTime = trimDateTime(dateTime)\n\n        val date: Date = sfdInput.parse(finalDateTime)!!\n        val outputFormatter = DateFormat.getDateInstance(toFormat)\n\n        return format(\n            date = date,\n            formatter = outputFormatter,\n            convertIn = convertIn,\n            needOnlyTime = needOnlyTime\n        )\n    } catch (e: AssertionError) {\n        e.printStackTrace()\n    } catch (e: Exception) {\n        e.printStackTrace()\n    }\n\n    return dateTime // Return Same DateTime - only iff unable to change format\n}\n\nfun changeFormat(\n    dateTime: String,\n    fromFormat: String = DATETIME_24_FORMAT,\n    toFormat: String = DATE_HYPHEN_FORMAT,\n    convertInTimeZone: TimeZoneTo = TimeZoneTo.NONE,\n    needOnlyTime: Boolean = false\n): String {\n    try {\n        val sfdInput = SimpleDateFormat(fromFormat, Locale.ROOT)\n\n        val finalDateTime = trimDateTime(dateTime)\n\n        val date: Date = sfdInput.parse(finalDateTime)!!\n        val sdfOutput = SimpleDateFormat(toFormat)\n\n        return format(\n            date = date,\n            formatter = sdfOutput,\n            convertIn = convertInTimeZone,\n            needOnlyTime = needOnlyTime\n        )\n    } catch (e: AssertionError) {\n        e.printStackTrace()\n    } catch (e: Exception) {\n        e.printStackTrace()\n    }\n\n    return dateTime // Return Same DateTime - only iff unable to change format\n}\n\n\n// Format Given Date as per specified timeZone\nprivate fun format(\n    date: Date,\n    formatter: DateFormat,\n    convertIn: TimeZoneTo,\n    needOnlyTime: Boolean\n): String {\n    return when (convertIn) {\n        TimeZoneTo.LOCAL -&gt; {\n            val zone = TimeZone.getTimeZone(Calendar.getInstance().timeZone.id)\n            val newDate = Date(date.time + zone.getOffset(date.time))\n            formatter.timeZone = zone\n\n            val result = formatter.format(newDate)\n            if (needOnlyTime) return result.substringAfter('T')\n            else result\n        }\n        TimeZoneTo.UTC -&gt; {\n            formatter.timeZone = TimeZone.getTimeZone(&quot;UTC&quot;)\n            val result = formatter.format(date)\n\n            if (needOnlyTime) return result.substringAfter('T')\n            else result\n        }\n        else -&gt; {\n            val result = formatter.format(date)\n            if (needOnlyTime) return result.substringAfter('T')\n            else result\n        }\n    }\n}\n</code></pre>\n<p>I've created 3 overloaded methods namely <strong>changeFormat(...)</strong> with following params;</p>\n<ol>\n<li><strong>dateTime</strong> (String -&gt; date or time or dateTime)</li>\n<li><strong>fromFormat</strong> (String/Int -&gt; Current format of dateTime) - optional (i.e. if not provided default will be used)</li>\n<li><strong>toFormat</strong> (String/Int -&gt; New format for dateTime) - optional (i.e. if not provided default will be used)</li>\n<li><strong>convertInTimeZone</strong> (Enum -&gt; Convert in specified TimeZone)</li>\n<li><strong>needOnlyTime</strong> (Boolean -&gt; Will return only converted Time if <strong>true</strong> else converted <strong>dateTime</strong></li>\n</ol>\n<p>Hopefully, this may help someone in future.</p>\n"}],"owner":{"account_id":1066536,"reputation":1089,"user_id":1066956,"accept_rate":85,"display_name":"Manto"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25760,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":10725303,"answer_count":5,"score":14,"last_activity_date":1670845690,"creation_date":1337795380,"question_id":10725246,"body_markdown":"Ok, so I have a string, say &quot;Tue May 21 14:32:00 GMT 2012&quot; I want to convert this string to local time in the format May 21, 2012 2:32 pm. I tried SimpleDateFormat(&quot;MM dd, yyyy hh:mm a&quot;).parse(), but it threw an exception. So what should I do?\r\n\r\nThe exception is &quot;unreported exception java.text.ParseException; must be caught or declared to be thrown.&quot;\r\n\r\nin the line `Date date = inputFormat.parse(inputText);`\r\n\r\nThe code I ran on TextMate:\r\n\r\n    public class test{\r\n\t    public static void main(String arg[]) {\r\n\t\t    String inputText = &quot;Tue May 22 14:52:00 GMT 2012&quot;;\r\n\t\t    SimpleDateFormat inputFormat = new SimpleDateFormat(\r\n\t\t\t    &quot;EEE MMM dd HH:mm:ss &#39;GMT&#39; yyyy&quot;, Locale.US);\r\n\t\t    inputFormat.setTimeZone(TimeZone.getTimeZone(&quot;Etc/UTC&quot;));\r\n\t\t    SimpleDateFormat out = new SimpleDateFormat(&quot;MMM dd, yyyy h:mm a&quot;);\r\n\t\t    Date date = inputFormat.parse(inputText);\r\n\t\t    String output = out.format(date);\r\n\t\t   System.out.println(output);\r\n\t    }\r\n    }","title":"Java/Android - Convert a GMT time string to local time","body":"<p>Ok, so I have a string, say \"Tue May 21 14:32:00 GMT 2012\" I want to convert this string to local time in the format May 21, 2012 2:32 pm. I tried SimpleDateFormat(\"MM dd, yyyy hh:mm a\").parse(), but it threw an exception. So what should I do?</p>\n\n<p>The exception is \"unreported exception java.text.ParseException; must be caught or declared to be thrown.\"</p>\n\n<p>in the line <code>Date date = inputFormat.parse(inputText);</code></p>\n\n<p>The code I ran on TextMate:</p>\n\n<pre><code>public class test{\n    public static void main(String arg[]) {\n        String inputText = \"Tue May 22 14:52:00 GMT 2012\";\n        SimpleDateFormat inputFormat = new SimpleDateFormat(\n            \"EEE MMM dd HH:mm:ss 'GMT' yyyy\", Locale.US);\n        inputFormat.setTimeZone(TimeZone.getTimeZone(\"Etc/UTC\"));\n        SimpleDateFormat out = new SimpleDateFormat(\"MMM dd, yyyy h:mm a\");\n        Date date = inputFormat.parse(inputText);\n        String output = out.format(date);\n       System.out.println(output);\n    }\n}\n</code></pre>\n"},{"tags":["java","jboss","scheduler","jmx"],"owner":{"account_id":20150426,"reputation":1,"user_id":14777862,"display_name":"Riyas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670845472,"creation_date":1670845472,"question_id":74770620,"body_markdown":"How to find the value for SchedulePeriod?\r\n\r\n\r\n\r\n\r\n\r\nFile name: Scheduler-service.xml\r\n\r\n\r\n```\r\n&lt;mbean code=&quot;com.jps.svc.WebServiceClient&quot;\r\n           name=&quot;com.jps.svc:service=WebServiceClient&quot;&gt;\r\n    &lt;/mbean&gt;\r\n    &lt;mbean code=&quot;org.jboss.varia.scheduler.Scheduler&quot;\r\n           name=&quot;com.jps.svc:service=WebServiceClientScheduler&quot;&gt;\r\n\t\t   \r\n&lt;attribute name=&quot;StartAtStartup&quot;&gt;true&lt;/attribute&gt;\r\n\r\n&lt;attribute name=&quot;SchedulableClass&quot;&gt;com.jps.svc.WebServiceClient&lt;/attribute&gt;\r\n\r\n&lt;attribute name=&quot;InitialStartDate&quot;&gt;NOW&lt;/attribute&gt;\r\n\r\n&lt;attribute name=&quot;SchedulePeriod&quot;&gt;${ws.scheduler.time}&lt;/attribute&gt;\r\n\r\n &lt;attribute name=&quot;InitialRepetitions&quot;&gt;-1&lt;/attribute&gt;\r\n        &lt;depends&gt;com.jps.svc:service=WebApiCapService&lt;/depends&gt;\r\n    &lt;/mbean&gt;\r\n&lt;/server&gt;\r\n```\r\n\r\n","title":"Scheduler Service of JBoss","body":"<p>How to find the value for SchedulePeriod?</p>\n<p>File name: Scheduler-service.xml</p>\n<pre><code>&lt;mbean code=&quot;com.jps.svc.WebServiceClient&quot;\n           name=&quot;com.jps.svc:service=WebServiceClient&quot;&gt;\n    &lt;/mbean&gt;\n    &lt;mbean code=&quot;org.jboss.varia.scheduler.Scheduler&quot;\n           name=&quot;com.jps.svc:service=WebServiceClientScheduler&quot;&gt;\n           \n&lt;attribute name=&quot;StartAtStartup&quot;&gt;true&lt;/attribute&gt;\n\n&lt;attribute name=&quot;SchedulableClass&quot;&gt;com.jps.svc.WebServiceClient&lt;/attribute&gt;\n\n&lt;attribute name=&quot;InitialStartDate&quot;&gt;NOW&lt;/attribute&gt;\n\n&lt;attribute name=&quot;SchedulePeriod&quot;&gt;${ws.scheduler.time}&lt;/attribute&gt;\n\n &lt;attribute name=&quot;InitialRepetitions&quot;&gt;-1&lt;/attribute&gt;\n        &lt;depends&gt;com.jps.svc:service=WebApiCapService&lt;/depends&gt;\n    &lt;/mbean&gt;\n&lt;/server&gt;\n</code></pre>\n"},{"tags":["java","byte-order-mark","apache-commons-io"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1670695991,"post_id":74755409,"comment_id":131934877,"body_markdown":"You&#39;re using the wrong BOM class then. The correct behaviour is just to ignore an absent BOM","body":"You&#39;re using the wrong BOM class then. The correct behaviour is just to ignore an absent BOM"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1670696406,"post_id":74755409,"comment_id":131934965,"body_markdown":"See my answer [here](https://stackoverflow.com/questions/74560439/how-to-resolve-csvtobean-header-issue-with-zero-width-no-break-space-character/74601141#74601141) for the correct class to use","body":"See my answer <a href=\"https://stackoverflow.com/questions/74560439/how-to-resolve-csvtobean-header-issue-with-zero-width-no-break-space-character/74601141#74601141\">here</a> for the correct class to use"},{"owner":{"account_id":13654322,"reputation":3,"user_id":9851303,"display_name":"TheMessik"},"score":0,"creation_date":1670828876,"post_id":74755409,"comment_id":131955178,"body_markdown":"@g00se I&#39;m using the Apache Commons IO BOMInputStream (should&#39;ve specified this in the original post).","body":"@g00se I&#39;m using the Apache Commons IO BOMInputStream (should&#39;ve specified this in the original post)."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1670838288,"post_id":74755409,"comment_id":131957634,"body_markdown":"Well, maybe.... don&#39;t","body":"Well, maybe.... don&#39;t"}],"answers":[{"comments":[{"owner":{"account_id":13654322,"reputation":3,"user_id":9851303,"display_name":"TheMessik"},"score":0,"creation_date":1671108616,"post_id":74770619,"comment_id":132029828,"body_markdown":"Thank you, you gave me the idea of having the look at the bytes that are in the test file. It turns out that the file contains multiple BOMs, of which only the first one was skipped. The fix is a simple for loop.\n\nOnce again, thank you for your time","body":"Thank you, you gave me the idea of having the look at the bytes that are in the test file. It turns out that the file contains multiple BOMs, of which only the first one was skipped. The fix is a simple for loop.  Once again, thank you for your time"}],"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670845466,"creation_date":1670845466,"answer_id":74770619,"question_id":74755409,"body_markdown":"Not wishing my last comment to imply there&#39;s something wrong with Commons `BOMInputStream` (since I couldn&#39;t believe they&#39;d be incompetent enough to fail to read the stream properly in the *absence* of a BOM) I decided to test it. As I expected, it&#39;s perfectly capable of reading the file with or without BOM:\r\n\r\nSource:\r\n\r\n    package com.technojeeves.opencsvbeans;\r\n    \r\n    import com.opencsv.bean.CsvToBeanBuilder;\r\n    import org.apache.commons.io.input.BOMInputStream;\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Path;\r\n    import java.nio.charset.StandardCharsets;\r\n    import java.util.List;\r\n    import java.io.IOException;\r\n    import java.io.Reader;\r\n    import java.io.InputStreamReader;\r\n    \r\n    public class App {\r\n        public static void main(String[] args) {\r\n            try {\r\n                System.out.println(new App().read(Path.of(args[0])));\r\n            } catch (Throwable t) {\r\n                t.printStackTrace();\r\n            }\r\n        }\r\n    \r\n        public List&lt;Pojo&gt; read(Path path) throws IOException {\r\n            try (Reader reader = new InputStreamReader(new BOMInputStream(Files.newInputStream(path)),\r\n                    StandardCharsets.UTF_8)) {\r\n                return new CsvToBeanBuilder(reader).withType(Pojo.class).build().parse();\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\nData files contents:\r\n\r\n    goose@t410:/tmp/opencsvbeans$ xxd pojo.csv\r\n    00000000: 706f 696e 742c 6e61 6d65 0a31 2c67 6f6f  point,name.1,goo\r\n    00000010: 7365 0a32 2c64 7563 6b0a                 se.2,duck.\r\n    goose@t410:/tmp/opencsvbeans$ xxd pojo-bom.csv\r\n    00000000: efbb bf70 6f69 6e74 2c6e 616d 650a 312c  ...point,name.1,\r\n    00000010: 676f 6f73 650a 322c 6475 636b 0a         goose.2,duck.\r\n\r\n\r\nRun and output:\r\n\r\n    goose@t410:/tmp/opencsvbeans$ mvnt exec:java -Dexec.args=pojo-bom.csv\r\n    [INFO] Scanning for projects...\r\n    [INFO] \r\n    [INFO] -------------&lt; com.technojeeves.opencsvbeans:opencsvbeans &gt;-------------\r\n    [INFO] Building opencsvbeans 1.0-SNAPSHOT\r\n    [INFO] --------------------------------[ jar ]---------------------------------\r\n    [INFO] \r\n    [INFO] --- exec-maven-plugin:1.4.0:java (default-cli) @ opencsvbeans ---\r\n    [name=goose,point=1, name=duck,point=2]\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD SUCCESS\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time:  1.189 s\r\n    [INFO] Finished at: 2022-12-12T11:31:02Z\r\n    [INFO] ------------------------------------------------------------------------\r\n    goose@t410:/tmp/opencsvbeans$ mvnt exec:java -Dexec.args=pojo.csv\r\n    [INFO] Scanning for projects...\r\n    [INFO] \r\n    [INFO] -------------&lt; com.technojeeves.opencsvbeans:opencsvbeans &gt;-------------\r\n    [INFO] Building opencsvbeans 1.0-SNAPSHOT\r\n    [INFO] --------------------------------[ jar ]---------------------------------\r\n    [INFO] \r\n    [INFO] --- exec-maven-plugin:1.4.0:java (default-cli) @ opencsvbeans ---\r\n    [name=goose,point=1, name=duck,point=2]\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD SUCCESS\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time:  1.245 s\r\n    [INFO] Finished at: 2022-12-12T11:31:11Z\r\n    [INFO] ------------------------------------------------------------------------\r\n    goose@t410:/tmp/opencsvbeans$ \r\n\r\n\r\n\r\n","title":"BOMInputStream needs to be wrapped in another BOMInputStream to work","body":"<p>Not wishing my last comment to imply there's something wrong with Commons <code>BOMInputStream</code> (since I couldn't believe they'd be incompetent enough to fail to read the stream properly in the <em>absence</em> of a BOM) I decided to test it. As I expected, it's perfectly capable of reading the file with or without BOM:</p>\n<p>Source:</p>\n<pre><code>package com.technojeeves.opencsvbeans;\n\nimport com.opencsv.bean.CsvToBeanBuilder;\nimport org.apache.commons.io.input.BOMInputStream;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.nio.charset.StandardCharsets;\nimport java.util.List;\nimport java.io.IOException;\nimport java.io.Reader;\nimport java.io.InputStreamReader;\n\npublic class App {\n    public static void main(String[] args) {\n        try {\n            System.out.println(new App().read(Path.of(args[0])));\n        } catch (Throwable t) {\n            t.printStackTrace();\n        }\n    }\n\n    public List&lt;Pojo&gt; read(Path path) throws IOException {\n        try (Reader reader = new InputStreamReader(new BOMInputStream(Files.newInputStream(path)),\n                StandardCharsets.UTF_8)) {\n            return new CsvToBeanBuilder(reader).withType(Pojo.class).build().parse();\n        }\n    }\n\n}\n</code></pre>\n<p>Data files contents:</p>\n<pre><code>goose@t410:/tmp/opencsvbeans$ xxd pojo.csv\n00000000: 706f 696e 742c 6e61 6d65 0a31 2c67 6f6f  point,name.1,goo\n00000010: 7365 0a32 2c64 7563 6b0a                 se.2,duck.\ngoose@t410:/tmp/opencsvbeans$ xxd pojo-bom.csv\n00000000: efbb bf70 6f69 6e74 2c6e 616d 650a 312c  ...point,name.1,\n00000010: 676f 6f73 650a 322c 6475 636b 0a         goose.2,duck.\n</code></pre>\n<p>Run and output:</p>\n<pre><code>goose@t410:/tmp/opencsvbeans$ mvnt exec:java -Dexec.args=pojo-bom.csv\n[INFO] Scanning for projects...\n[INFO] \n[INFO] -------------&lt; com.technojeeves.opencsvbeans:opencsvbeans &gt;-------------\n[INFO] Building opencsvbeans 1.0-SNAPSHOT\n[INFO] --------------------------------[ jar ]---------------------------------\n[INFO] \n[INFO] --- exec-maven-plugin:1.4.0:java (default-cli) @ opencsvbeans ---\n[name=goose,point=1, name=duck,point=2]\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  1.189 s\n[INFO] Finished at: 2022-12-12T11:31:02Z\n[INFO] ------------------------------------------------------------------------\ngoose@t410:/tmp/opencsvbeans$ mvnt exec:java -Dexec.args=pojo.csv\n[INFO] Scanning for projects...\n[INFO] \n[INFO] -------------&lt; com.technojeeves.opencsvbeans:opencsvbeans &gt;-------------\n[INFO] Building opencsvbeans 1.0-SNAPSHOT\n[INFO] --------------------------------[ jar ]---------------------------------\n[INFO] \n[INFO] --- exec-maven-plugin:1.4.0:java (default-cli) @ opencsvbeans ---\n[name=goose,point=1, name=duck,point=2]\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  1.245 s\n[INFO] Finished at: 2022-12-12T11:31:11Z\n[INFO] ------------------------------------------------------------------------\ngoose@t410:/tmp/opencsvbeans$ \n</code></pre>\n"}],"owner":{"account_id":13654322,"reputation":3,"user_id":9851303,"display_name":"TheMessik"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":425,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74770619,"answer_count":1,"score":0,"last_activity_date":1670845466,"creation_date":1670695605,"question_id":74755409,"body_markdown":"Pretty much what the title says. I&#39;m writing code that needs to be able to work both with BOM&#39;ed and non-BOM&#39;ed files. Different parsing options need to be implemented, for now I&#39;m implementing support for parsing CSV files.\r\n\r\nCode below is a rough idea of what I&#39;m working with. If need be, I can provide a minimum working example.\r\n\r\n```java\r\nclass LocalFileAccess {\r\n\r\n// ...\r\n\r\n    // Opens an input stream to the file based on the path passed in constructor. \r\n    // Part of a larger interface, can&#39;t change the signature.\r\n    @Override\r\n    public InputStream getInputStream() throws FileNotFoundException {\r\n        File file = new File(this.path);\r\n\r\n        if (!file.isAbsolute()) {\r\n            file = getFile(this.base, this.path);\r\n        }\r\n\r\n        return new FileInputStream(file);\r\n    }\r\n\r\n    public void foo() {\r\n        try (BOMInputStream inputStream = new BOMInputStream(this.getInputStream())) {\r\n            Iterator&lt;String[]&gt; iterator = new CSVReaderBuilder(new InputStreamReader(inputStream, StandardCharsets.UTF_8).build().iterator();\r\n\r\n            String[] header = iterator.next(); // &lt;- first value is prepended by BOM\r\n        } catch (...) { ... }\r\n    }\r\n```\r\n\r\nLater in the codebase, when parsing through the values gotten from the Iterator, the first value in the header is prepended with the BOM, which causes my tests to fail. The hacky way is to check for this manually, but I&#39;d rather keep my code clean. \r\n\r\nWrapping the return value of ``getInputStream()`` in ``new BOMInputStream()`` fixes it. However, replacing ``new BOMInputStream(this.getInputStream())`` in the try-with-resources with just ``this.getInputStream()`` breaks it again: the BOM gets through. \r\n\r\nI&#39;ve tried different variations of wrapping only the return value of ``getInputStream`` in a BOMInputStream, wrapping only the InputStream in try-with-resources in a BOMInputStream, to no avail. The only solution seems to be wrapping return value of ``getInputStream`` in the try-with-resources in a BOMInputStream and I don&#39;t understand why. \r\n\r\nWhy do I need to wrap the input stream in a BOMInputStream twice?\r\n\r\nEdit: to clarify: I&#39;m using the Apache Commons IO BOMInputStream.","title":"BOMInputStream needs to be wrapped in another BOMInputStream to work","body":"<p>Pretty much what the title says. I'm writing code that needs to be able to work both with BOM'ed and non-BOM'ed files. Different parsing options need to be implemented, for now I'm implementing support for parsing CSV files.</p>\n<p>Code below is a rough idea of what I'm working with. If need be, I can provide a minimum working example.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class LocalFileAccess {\n\n// ...\n\n    // Opens an input stream to the file based on the path passed in constructor. \n    // Part of a larger interface, can't change the signature.\n    @Override\n    public InputStream getInputStream() throws FileNotFoundException {\n        File file = new File(this.path);\n\n        if (!file.isAbsolute()) {\n            file = getFile(this.base, this.path);\n        }\n\n        return new FileInputStream(file);\n    }\n\n    public void foo() {\n        try (BOMInputStream inputStream = new BOMInputStream(this.getInputStream())) {\n            Iterator&lt;String[]&gt; iterator = new CSVReaderBuilder(new InputStreamReader(inputStream, StandardCharsets.UTF_8).build().iterator();\n\n            String[] header = iterator.next(); // &lt;- first value is prepended by BOM\n        } catch (...) { ... }\n    }\n</code></pre>\n<p>Later in the codebase, when parsing through the values gotten from the Iterator, the first value in the header is prepended with the BOM, which causes my tests to fail. The hacky way is to check for this manually, but I'd rather keep my code clean.</p>\n<p>Wrapping the return value of <code>getInputStream()</code> in <code>new BOMInputStream()</code> fixes it. However, replacing <code>new BOMInputStream(this.getInputStream())</code> in the try-with-resources with just <code>this.getInputStream()</code> breaks it again: the BOM gets through.</p>\n<p>I've tried different variations of wrapping only the return value of <code>getInputStream</code> in a BOMInputStream, wrapping only the InputStream in try-with-resources in a BOMInputStream, to no avail. The only solution seems to be wrapping return value of <code>getInputStream</code> in the try-with-resources in a BOMInputStream and I don't understand why.</p>\n<p>Why do I need to wrap the input stream in a BOMInputStream twice?</p>\n<p>Edit: to clarify: I'm using the Apache Commons IO BOMInputStream.</p>\n"},{"tags":["java","java-stream","illegalstateexception"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1670760724,"post_id":74760226,"comment_id":131943393,"body_markdown":"Stream is intended to be used like `Stream.of(1,2,3).peek(System.out::println).forEach(System.out::println);`, the intermediate `Stream`s are NOT intended to be assigned to variables! Also be aware of the note stated in the [documentation](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/stream/Stream.html#peek(java.util.function.Consumer)) of `peek()`: &quot;This method exists mainly to support debugging, ... In cases where the stream implementation is able to optimize away the production of some or all the elements ( ... ), the action will not be invoked for those elements.&quot;","body":"Stream is intended to be used like <code>Stream.of(1,2,3).peek(System.out::println).forEach(System.ou&zwnj;&#8203;t::println);</code>, the intermediate <code>Stream</code>s are NOT intended to be assigned to variables! Also be aware of the note stated in the <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/stream/Stream.html#peek(java.util.function.Consumer)\" rel=\"nofollow noreferrer\">documentation</a> of <code>peek()</code>: &quot;This method exists mainly to support debugging, ... In cases where the stream implementation is able to optimize away the production of some or all the elements ( ... ), the action will not be invoked for those elements.&quot;"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1670770774,"post_id":74760226,"comment_id":131945289,"body_markdown":"@user16320675 The behavior described in the Question is **not** related to `peek` specifically.","body":"@user16320675 The behavior described in the Question is <b>not</b> related to <code>peek</code> specifically."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1670777522,"post_id":74760226,"comment_id":131946873,"body_markdown":"Weak title. Rewrite to summarize your specific technical issue.","body":"Weak title. Rewrite to summarize your specific technical issue."}],"answers":[{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1670834214,"post_id":74760268,"comment_id":131956436,"body_markdown":"Note that in general, intermediate operations are free to either, return a new Stream instance or modify the existing one and return it. Hence, the caller always must use the object returned by the method and assume the old reference to be invalid, to comply with all possible strategies. Compare with [the documentation](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#:~:text=A%20stream%20should,in%20all%20cases.): “*… implementation may throw IllegalStateException… …some stream operations may return their receiver rather than a new stream object,…*”","body":"Note that in general, intermediate operations are free to either, return a new Stream instance or modify the existing one and return it. Hence, the caller always must use the object returned by the method and assume the old reference to be invalid, to comply with all possible strategies. Compare with <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#:~:text=A%20stream%20should,in%20all%20cases.\" rel=\"nofollow noreferrer\">the documentation</a>: “<i>… implementation may throw IllegalStateException… …some stream operations may return their receiver rather than a new stream object,…</i>”"}],"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1670845368,"creation_date":1670756806,"answer_id":74760268,"question_id":74760226,"body_markdown":"`peek` is an ***intermediate operation***, which means it performs an action and produces a **new** Stream. But you&#39;re reusing the same Stream, therefore getting an `IllegalStateException`.\r\n\r\nHere&#39;s a quote, from the [`Stream`&#39;s Javadoc][javadocStream] :\r\n\r\n&gt; A stream should be operated on (**invoking an intermediate or terminal stream operation**) **only once**. This rules out, for example, &quot;forked&quot; streams, where the same source feeds two or more pipelines, or multiple traversals of the same stream. A stream implementation may throw `IllegalStateException` if it detects that the stream is being reused. However, since some stream operations may return their receiver rather than a new stream object, it may not be possible to detect reuse in all cases. \r\n\r\n&lt;sup&gt;Amphesys added&lt;/sup&gt;\r\n\r\n***Note:** as *@Holger* has pointed out documentation states (see the quote above) that in some cases intermediate stream operation might return the received stream (representing the previous stage) instead of generating a new one.*\r\n\r\nIf you write the code like this, it would work as intended:\r\n\r\n```\r\nStream&lt;Integer&gt; ints = Stream.of(1, 2, 3);\r\n    \r\nStream&lt;Integer&gt; ints1 = ints.peek(System.out::println);\r\n    \r\nints1.forEach(System.out::println);\r\n```\r\n\r\nWhich is basically a verbose equivalent of the chain:\r\n\r\n```\r\nStream.of(1, 2, 3)                 // ints\r\n    .peek(System.out::println)     // ints1\r\n    .forEach(System.out::println);\r\n```\r\n\r\nYour understanding that a Stream would be galvanized into action only if it has a *terminal operation* is correct. And the stream you&#39;ve presented in the code has a terminal operation.\r\n\r\n\r\nBut it&#39;s worth to note that the exception occurs not while executing the stream, but while **preparing** the pipeline. I.e. when the Stream instance is being initialized.\r\n\r\nThere&#39;s an internal class `AbstractPipeline` which we as users of the API not interacting directly, it&#39;s purpose defined as follows:\r\n\r\n&gt; Abstract base class for &quot;pipeline&quot; classes, which are the core\r\n&gt;  * implementations of the Stream interface and its primitive\r\n&gt; specializations.\r\n&gt; \r\n&gt;  * Manages construction and evaluation of stream pipelines\r\n\r\nHere&#39;s a piece of code from this class (***[link to the source][source]***):\r\n\r\n    AbstractPipeline(AbstractPipeline&lt;?, E_IN, ?&gt; previousStage, int opFlags) {\r\n        if (previousStage.linkedOrConsumed)    // &lt;- Note\r\n            throw new IllegalStateException(MSG_STREAM_LINKED);\r\n        previousStage.linkedOrConsumed = true; // &lt;- Note\r\n        previousStage.nextStage = this;\r\n        \r\n        this.previousStage = previousStage;\r\n        this.sourceOrOpFlags = opFlags &amp; StreamOpFlag.OP_MASK;\r\n        this.combinedFlags = StreamOpFlag.combineOpFlags(opFlags, previousStage.combinedFlags);\r\n        this.sourceStage = previousStage.sourceStage;\r\n        if (opIsStateful())\r\n            sourceStage.sourceAnyStateful = true;\r\n        this.depth = previousStage.depth + 1;\r\n    }\r\n\r\nIn this implementation, each operation is represented as a stage. And stages are linked with each other. While constructing the next stage a link to next stage should be provided and `boolean` property `linkedOrConsumed` of the previous stage is being to `true`. If the previous stage has been already linked (*which has happened in your code*) the constructor throws an exception.\r\n\r\nFor that reason, even the following code, which lacks terminal operation, would trigger an `IllegalStateException` (JDK 17, HotSpot JVM). It would take place during the preparation of the `Stream` object (***not** while executing the pipeline*).\r\n\r\n```\r\nStream&lt;Integer&gt; ints = Stream.of(1, 2, 3);\r\n\r\nints.map(i -&gt; i * i);\r\nints.takeWhile(i -&gt; i % 2 != 0); // exception would be thrown while initializing this stage\r\n```\r\n\r\n***Note:** this information is an implementation detail, and proved purely as explanation of the behavior OP has encountered. And the code snippet with a Stream with no terminal operation certainly is not guaranteed to behave this way (for instance, some implementation might simply discard it). The bottom line here is that a Stream should be consumed only once.*\r\n\r\n\r\n\r\n   [javadocStream]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html\r\n\r\n   [source]: https://github.com/JetBrains/jdk8u_jdk/blob/master/src/share/classes/java/util/stream/AbstractPipeline.java#L201","title":"Understanding problem regarding operated streams in Java","body":"<p><code>peek</code> is an <em><strong>intermediate operation</strong></em>, which means it performs an action and produces a <strong>new</strong> Stream. But you're reusing the same Stream, therefore getting an <code>IllegalStateException</code>.</p>\n<p>Here's a quote, from the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html\" rel=\"nofollow noreferrer\"><code>Stream</code>'s Javadoc</a> :</p>\n<blockquote>\n<p>A stream should be operated on (<strong>invoking an intermediate or terminal stream operation</strong>) <strong>only once</strong>. This rules out, for example, &quot;forked&quot; streams, where the same source feeds two or more pipelines, or multiple traversals of the same stream. A stream implementation may throw <code>IllegalStateException</code> if it detects that the stream is being reused. However, since some stream operations may return their receiver rather than a new stream object, it may not be possible to detect reuse in all cases.</p>\n</blockquote>\n<p><sup>Amphesys added</sup></p>\n<p><em><strong>Note:</strong> as <em>@Holger</em> has pointed out documentation states (see the quote above) that in some cases intermediate stream operation might return the received stream (representing the previous stage) instead of generating a new one.</em></p>\n<p>If you write the code like this, it would work as intended:</p>\n<pre><code>Stream&lt;Integer&gt; ints = Stream.of(1, 2, 3);\n    \nStream&lt;Integer&gt; ints1 = ints.peek(System.out::println);\n    \nints1.forEach(System.out::println);\n</code></pre>\n<p>Which is basically a verbose equivalent of the chain:</p>\n<pre><code>Stream.of(1, 2, 3)                 // ints\n    .peek(System.out::println)     // ints1\n    .forEach(System.out::println);\n</code></pre>\n<p>Your understanding that a Stream would be galvanized into action only if it has a <em>terminal operation</em> is correct. And the stream you've presented in the code has a terminal operation.</p>\n<p>But it's worth to note that the exception occurs not while executing the stream, but while <strong>preparing</strong> the pipeline. I.e. when the Stream instance is being initialized.</p>\n<p>There's an internal class <code>AbstractPipeline</code> which we as users of the API not interacting directly, it's purpose defined as follows:</p>\n<blockquote>\n<p>Abstract base class for &quot;pipeline&quot; classes, which are the core</p>\n<ul>\n<li><p>implementations of the Stream interface and its primitive\nspecializations.</p>\n</li>\n<li><p>Manages construction and evaluation of stream pipelines</p>\n</li>\n</ul>\n</blockquote>\n<p>Here's a piece of code from this class (<em><strong><a href=\"https://github.com/JetBrains/jdk8u_jdk/blob/master/src/share/classes/java/util/stream/AbstractPipeline.java#L201\" rel=\"nofollow noreferrer\">link to the source</a></strong></em>):</p>\n<pre><code>AbstractPipeline(AbstractPipeline&lt;?, E_IN, ?&gt; previousStage, int opFlags) {\n    if (previousStage.linkedOrConsumed)    // &lt;- Note\n        throw new IllegalStateException(MSG_STREAM_LINKED);\n    previousStage.linkedOrConsumed = true; // &lt;- Note\n    previousStage.nextStage = this;\n    \n    this.previousStage = previousStage;\n    this.sourceOrOpFlags = opFlags &amp; StreamOpFlag.OP_MASK;\n    this.combinedFlags = StreamOpFlag.combineOpFlags(opFlags, previousStage.combinedFlags);\n    this.sourceStage = previousStage.sourceStage;\n    if (opIsStateful())\n        sourceStage.sourceAnyStateful = true;\n    this.depth = previousStage.depth + 1;\n}\n</code></pre>\n<p>In this implementation, each operation is represented as a stage. And stages are linked with each other. While constructing the next stage a link to next stage should be provided and <code>boolean</code> property <code>linkedOrConsumed</code> of the previous stage is being to <code>true</code>. If the previous stage has been already linked (<em>which has happened in your code</em>) the constructor throws an exception.</p>\n<p>For that reason, even the following code, which lacks terminal operation, would trigger an <code>IllegalStateException</code> (JDK 17, HotSpot JVM). It would take place during the preparation of the <code>Stream</code> object (<em><strong>not</strong> while executing the pipeline</em>).</p>\n<pre><code>Stream&lt;Integer&gt; ints = Stream.of(1, 2, 3);\n\nints.map(i -&gt; i * i);\nints.takeWhile(i -&gt; i % 2 != 0); // exception would be thrown while initializing this stage\n</code></pre>\n<p><em><strong>Note:</strong> this information is an implementation detail, and proved purely as explanation of the behavior OP has encountered. And the code snippet with a Stream with no terminal operation certainly is not guaranteed to behave this way (for instance, some implementation might simply discard it). The bottom line here is that a Stream should be consumed only once.</em></p>\n"}],"owner":{"account_id":2838423,"reputation":4567,"user_id":2438518,"accept_rate":53,"display_name":"mrbela"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":74760268,"answer_count":1,"score":1,"last_activity_date":1670845368,"creation_date":1670756401,"question_id":74760226,"body_markdown":"Let&#39;s say we have the following code\r\n\r\n\tStream&lt;Integer&gt; ints = Stream.of(1, 2, 3);\r\n\t\t\r\n\tints.peek(System.out::println);\r\n\t\t\r\n\tints.forEach(System.out::println);\r\n\r\nand I run it, I&#39;ll get an exception:\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.IllegalStateException:\r\nstream has already been operated upon or closed\r\n```\r\n\r\nBut why?\r\n\r\n`peek` is an intermediate operation, so I thought, that it won&#39;t run/start the stream itself? Only `forEach` does this, so why has the stream already been operated when reaching `forEach`?\r\n\r\nI also thought, that the `peek` method would be discarded, because it returns a new `Stream` that I do not consider. Like in\r\n\r\n    String str = &quot;hello world&quot;;\r\n    str.toUppercase();\r\n    str.charAt(0); // &lt;-- h not H","title":"Understanding problem regarding operated streams in Java","body":"<p>Let's say we have the following code</p>\n<pre><code>Stream&lt;Integer&gt; ints = Stream.of(1, 2, 3);\n    \nints.peek(System.out::println);\n    \nints.forEach(System.out::println);\n</code></pre>\n<p>and I run it, I'll get an exception:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.IllegalStateException:\nstream has already been operated upon or closed\n</code></pre>\n<p>But why?</p>\n<p><code>peek</code> is an intermediate operation, so I thought, that it won't run/start the stream itself? Only <code>forEach</code> does this, so why has the stream already been operated when reaching <code>forEach</code>?</p>\n<p>I also thought, that the <code>peek</code> method would be discarded, because it returns a new <code>Stream</code> that I do not consider. Like in</p>\n<pre><code>String str = &quot;hello world&quot;;\nstr.toUppercase();\nstr.charAt(0); // &lt;-- h not H\n</code></pre>\n"},{"tags":["java","minecraft","java-17","minecraft-fabric"],"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1670849702,"post_id":74756330,"comment_id":131961204,"body_markdown":"You are calling `getMethod` on `classInfo.loadClass()`, so you have to use `classInfo.loadClass().getMethods()` for verification, not `classInfo.getMethods()`","body":"You are calling <code>getMethod</code> on <code>classInfo.loadClass()</code>, so you have to use <code>classInfo.loadClass().getMethods()</code> for verification, not <code>classInfo.getMethods()</code>"},{"owner":{"account_id":14722783,"reputation":474,"user_id":15342452,"display_name":"WhatTheClown"},"score":0,"creation_date":1670871366,"post_id":74756330,"comment_id":131968993,"body_markdown":"I did that and it&#39;s same thing: `[public static void com.stupidrepo.mydirectory.yayay.test.tick(net.minecraft.client.MinecraftClient), ...]`","body":"I did that and it&#39;s same thing: <code>[public static void com.stupidrepo.mydirectory.yayay.test.tick(net.minecraft.cli&zwnj;&#8203;ent.MinecraftClient)&zwnj;&#8203;, ...]</code>"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1670921288,"post_id":74756330,"comment_id":131978883,"body_markdown":"So does `MinecraftClient.class` refer to the same class? Does `MinecraftClient.class.getName()` evaluate to the same qualified name `&quot;net.minecraft.client.MinecraftClient&quot;`? And even if so, what does a comparison like `classInfo.loadClass().getMethods()[0].getParameterTypes()[0] == MinecraftClient.class` get you? (If the names match but the classes are considered different, it would indicate an issue of different class loaders)","body":"So does <code>MinecraftClient.class</code> refer to the same class? Does <code>MinecraftClient.class.getName()</code> evaluate to the same qualified name <code>&quot;net.minecraft.client.MinecraftClient&quot;</code>? And even if so, what does a comparison like <code>classInfo.loadClass().getMethods()[0].getParameterTypes()[0] == MinecraftClient.class</code> get you? (If the names match but the classes are considered different, it would indicate an issue of different class loaders)"}],"answers":[{"comments":[{"owner":{"account_id":14722783,"reputation":474,"user_id":15342452,"display_name":"WhatTheClown"},"score":0,"creation_date":1670760215,"post_id":74756643,"comment_id":131943307,"body_markdown":"Thing is, I don&#39;t want to keep creating new instances. I want to reuse them. Because what I am worried about is that there will be so many instances that aren&#39;t used (because new ones are made and used) that it&#39;ll slow my game down.","body":"Thing is, I don&#39;t want to keep creating new instances. I want to reuse them. Because what I am worried about is that there will be so many instances that aren&#39;t used (because new ones are made and used) that it&#39;ll slow my game down."},{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1670764029,"post_id":74756643,"comment_id":131943919,"body_markdown":"So, maybe you can use static method, and in the class you are using, you can use singleton","body":"So, maybe you can use static method, and in the class you are using, you can use singleton"},{"owner":{"account_id":14722783,"reputation":474,"user_id":15342452,"display_name":"WhatTheClown"},"score":0,"creation_date":1670861845,"post_id":74756643,"comment_id":131965796,"body_markdown":"Ok. I will try out your answer later, as I haven&#39;t tried it yet.","body":"Ok. I will try out your answer later, as I haven&#39;t tried it yet."},{"owner":{"account_id":14722783,"reputation":474,"user_id":15342452,"display_name":"WhatTheClown"},"score":0,"creation_date":1670871082,"post_id":74756643,"comment_id":131968901,"body_markdown":"I tried your answer, and it didn&#39;t work. I did set all methods to static voids, and used the code you providing for making a new instance.","body":"I tried your answer, and it didn&#39;t work. I did set all methods to static voids, and used the code you providing for making a new instance."},{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1670878650,"post_id":74756643,"comment_id":131971098,"body_markdown":"And what is your issue ?","body":"And what is your issue ?"}],"tags":[],"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"comment_count":5,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1670845317,"creation_date":1670707556,"answer_id":74756643,"question_id":74756330,"body_markdown":"The method `tick` is not static. But, when you are invoking method, you are not giving instance (but null), so it try to run the method as static. Such as It&#39;s not static, it failed.\r\n\r\nTo fix it, you can:\r\n1) Set your method as static, for example:\r\n```java\r\npackage com.stupidrepo.mydirectory.yayay;\r\n\r\npublic class test {\r\n    public static void tick(MinecraftClient client) {\r\n        System.out.println(client.player.getName());\r\n    }\r\n}\r\n```\r\n2) Create a new instance like that:\r\n```java\r\ntry {\r\n   Class&lt;?&gt; clzz = classInfo.loadClass(); // get class\r\n   Object obj = clzz.getConstructor().newInstance(); // create instance\r\n   clzz.getMethod(&quot;tick&quot;, MinecraftClient.class).invoke(obj, client); // get and call method\r\n} catch (Exception e) {\r\n   e.printStackTrace();\r\n}\r\n```","title":"java.lang.NoSuchMethodException error but method does exist","body":"<p>The method <code>tick</code> is not static. But, when you are invoking method, you are not giving instance (but null), so it try to run the method as static. Such as It's not static, it failed.</p>\n<p>To fix it, you can:</p>\n<ol>\n<li>Set your method as static, for example:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>package com.stupidrepo.mydirectory.yayay;\n\npublic class test {\n    public static void tick(MinecraftClient client) {\n        System.out.println(client.player.getName());\n    }\n}\n</code></pre>\n<ol start=\"2\">\n<li>Create a new instance like that:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n   Class&lt;?&gt; clzz = classInfo.loadClass(); // get class\n   Object obj = clzz.getConstructor().newInstance(); // create instance\n   clzz.getMethod(&quot;tick&quot;, MinecraftClient.class).invoke(obj, client); // get and call method\n} catch (Exception e) {\n   e.printStackTrace();\n}\n</code></pre>\n"}],"owner":{"account_id":14722783,"reputation":474,"user_id":15342452,"display_name":"WhatTheClown"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":176,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1670845317,"creation_date":1670704288,"question_id":74756330,"body_markdown":"I know there is, like, over 5 questions that ask this but mine is different. I am trying to get all classes in a package and run the tick function. Here is what one of my classes look like:\r\n\r\n```\r\npackage com.stupidrepo.mydirectory.yayay;\r\n\r\npublic class test {\r\n    public void tick(MinecraftClient client) {\r\n        System.out.println(client.player.getName());\r\n    }\r\n}\r\n\r\n```\r\nHere is how I am attempting to call this function:\r\n\r\n```\r\n    ScanResult scanResult = new ClassGraph().acceptPackages(&quot;com.stupidrepo.mydirectory.yayay&quot;).enableClassInfo().scan();\r\n\r\n    private void doIt(MinecraftClient client) {\r\n        scanResult.getAllClasses().forEach((classInfo -&gt; {\r\n//            System.out.println(classInfo.getName());\r\n\r\n            try {\r\n                classInfo.loadClass().getMethod(&quot;tick&quot;, MinecraftClient.class).invoke(null, client);\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }));\r\n    }\r\n```\r\nWhen I call the doIt function, it keeps giving me the `java.lang.NoSuchMethodException` error. When I print `classInfo.getMethods();`, it shows me `[public void com.stupidrepo.mydirectory.yayay.test.tick(net.minecraft.client.MinecraftClient)]`.\r\n\r\nSo the method is there but java says it isn&#39;t. Please help! (By the way the code is for a Fabric MC mod)","title":"java.lang.NoSuchMethodException error but method does exist","body":"<p>I know there is, like, over 5 questions that ask this but mine is different. I am trying to get all classes in a package and run the tick function. Here is what one of my classes look like:</p>\n<pre><code>package com.stupidrepo.mydirectory.yayay;\n\npublic class test {\n    public void tick(MinecraftClient client) {\n        System.out.println(client.player.getName());\n    }\n}\n\n</code></pre>\n<p>Here is how I am attempting to call this function:</p>\n<pre><code>    ScanResult scanResult = new ClassGraph().acceptPackages(&quot;com.stupidrepo.mydirectory.yayay&quot;).enableClassInfo().scan();\n\n    private void doIt(MinecraftClient client) {\n        scanResult.getAllClasses().forEach((classInfo -&gt; {\n//            System.out.println(classInfo.getName());\n\n            try {\n                classInfo.loadClass().getMethod(&quot;tick&quot;, MinecraftClient.class).invoke(null, client);\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        }));\n    }\n</code></pre>\n<p>When I call the doIt function, it keeps giving me the <code>java.lang.NoSuchMethodException</code> error. When I print <code>classInfo.getMethods();</code>, it shows me <code>[public void com.stupidrepo.mydirectory.yayay.test.tick(net.minecraft.client.MinecraftClient)]</code>.</p>\n<p>So the method is there but java says it isn't. Please help! (By the way the code is for a Fabric MC mod)</p>\n"},{"tags":["java","intellij-idea","lambda"],"answers":[{"comments":[{"owner":{"account_id":9612278,"reputation":41,"user_id":7136254,"display_name":"F. Zi"},"score":0,"creation_date":1550489663,"post_id":54746354,"comment_id":96274562,"body_markdown":"Thank you very much! :)","body":"Thank you very much! :)"}],"tags":[],"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1550489595,"creation_date":1550489595,"answer_id":54746354,"question_id":54746310,"body_markdown":"You just need a function that converts `Screen` to `double`:\r\n\r\n    screenList.sort(Comparator.comparingDouble(screen -&gt; screen.getBounds().getMinX()));","title":"Refactor lambda expression to use Comparator.comparingDouble","body":"<p>You just need a function that converts <code>Screen</code> to <code>double</code>:</p>\n\n<pre><code>screenList.sort(Comparator.comparingDouble(screen -&gt; screen.getBounds().getMinX()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14879298,"reputation":1234,"user_id":10744483,"display_name":"Olga Klisho"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1550566686,"creation_date":1550566686,"answer_id":54762269,"question_id":54746310,"body_markdown":"In Intellij IDEA you just need to call quick fix at **compare** (pressing Alt+Enter) and click Enter at suggestion *replace with Comparator.comparing double*, IDEA will do the replacement automatically.\r\n\r\n    screenList.sort((screenA, screenB) -&gt; Double.com&lt;ALTENTER_HERE&gt;pare(\r\n                screenA.getBounds().getMinX(), screenB.getBounds().getMinX()));\r\n\r\ncode will be replaced with:\r\n\r\n     screenList.sort(Comparator.comparingDouble(screenA -&gt; screenA.getBounds().getMinX()));","title":"Refactor lambda expression to use Comparator.comparingDouble","body":"<p>In Intellij IDEA you just need to call quick fix at <strong>compare</strong> (pressing Alt+Enter) and click Enter at suggestion <em>replace with Comparator.comparing double</em>, IDEA will do the replacement automatically.</p>\n\n<pre><code>screenList.sort((screenA, screenB) -&gt; Double.com&lt;ALTENTER_HERE&gt;pare(\n            screenA.getBounds().getMinX(), screenB.getBounds().getMinX()));\n</code></pre>\n\n<p>code will be replaced with:</p>\n\n<pre><code> screenList.sort(Comparator.comparingDouble(screenA -&gt; screenA.getBounds().getMinX()));\n</code></pre>\n"}],"owner":{"account_id":9612278,"reputation":41,"user_id":7136254,"display_name":"F. Zi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":133,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":54746354,"answer_count":2,"score":0,"last_activity_date":1670844987,"creation_date":1550489465,"question_id":54746310,"body_markdown":"I have a the following lambda expression. My IDE (Intellij idea) tells me it should be replaced with `Comparator.comparingDouble` but I cannot find a way to do it.\r\n\r\n````\r\nList&lt;javafx.stage.Screen&gt; screenList = screens;\r\n\r\nscreenList.sort((screenA, screenB) -&gt; Double.compare(\r\n               screenA.getBounds().getMinX(), screenB.getBounds().getMinX()));\r\n\r\n````\r\n\r\nIs there a way to accomplish this with \r\n````\r\nscreenList.sort(Comparator.comparingDouble(...));\r\n````\r\nor is this a false annotation from Intellij? Thank you in advance for your help!\r\n\r\n","title":"Refactor lambda expression to use Comparator.comparingDouble","body":"<p>I have a the following lambda expression. My IDE (Intellij idea) tells me it should be replaced with <code>Comparator.comparingDouble</code> but I cannot find a way to do it.</p>\n<pre><code>List&lt;javafx.stage.Screen&gt; screenList = screens;\n\nscreenList.sort((screenA, screenB) -&gt; Double.compare(\n               screenA.getBounds().getMinX(), screenB.getBounds().getMinX()));\n\n</code></pre>\n<p>Is there a way to accomplish this with</p>\n<pre><code>screenList.sort(Comparator.comparingDouble(...));\n</code></pre>\n<p>or is this a false annotation from Intellij? Thank you in advance for your help!</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","ssh"],"comments":[{"owner":{"account_id":2270349,"reputation":1219,"user_id":1997949,"accept_rate":83,"display_name":"Michael"},"score":0,"creation_date":1585680513,"post_id":60932567,"comment_id":107846187,"body_markdown":"Just to make things clear, you want your Spring Boot application to SSH into a remote host and read a file from there?","body":"Just to make things clear, you want your Spring Boot application to SSH into a remote host and read a file from there?"},{"owner":{"account_id":10923307,"reputation":321,"user_id":8028778,"display_name":"Kasun Palihakkara"},"score":0,"creation_date":1585721114,"post_id":60932567,"comment_id":107857750,"body_markdown":"yes. exactly.  is is possible?","body":"yes. exactly.  is is possible?"},{"owner":{"account_id":2270349,"reputation":1219,"user_id":1997949,"accept_rate":83,"display_name":"Michael"},"score":0,"creation_date":1585837216,"post_id":60932567,"comment_id":107908426,"body_markdown":"Why won&#39;t you just use a fileserver on that location and use a GET request?","body":"Why won&#39;t you just use a fileserver on that location and use a GET request?"}],"answers":[{"tags":[],"owner":{"account_id":17234894,"reputation":63,"user_id":12478580,"display_name":"JesVan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670844556,"creation_date":1670844556,"answer_id":74770445,"question_id":60932567,"body_markdown":"Yes, it is possible.\r\n\r\nThere is a library called JSch - Java Secure Channel (http://www.jcraft.com/jsch/).\r\n\r\nThis is how you connect to remote host:\r\n\r\n    private static final String REMOTE_HOST = &quot;0.0.0.0&quot;;\r\n    private static final String USERNAME = &quot;&quot;;\r\n    private static final String PASSWORD = &quot;&quot;;\r\n    private static final int REMOTE_PORT = 22;\r\n    private static final int SESSION_TIMEOUT = 10000;\r\n    private static final int CHANNEL_TIMEOUT = 5000;\r\n\r\n    private void readFile() {\r\n        String remoteFile = &quot;/your/path/file.txt&quot;;\r\n        Session jschSession = null;\r\n\r\n        try {\r\n            JSch jsch = new JSch();\r\n\r\n            jschSession = jsch.getSession(USERNAME, REMOTE_HOST, REMOTE_PORT);\r\n\r\n            jschSession.setPassword(PASSWORD);\r\n            jschSession.connect(SESSION_TIMEOUT);\r\n\r\n            Channel sftp = jschSession.openChannel(&quot;sftp&quot;);\r\n            sftp.connect(CHANNEL_TIMEOUT);\r\n            ChannelSftp channelSftp = (ChannelSftp) sftp;\r\n\r\n            InputStream stream = channelSftp.get(remoteFile);\r\n            \r\n            //Parsing your file or etc. here\r\n\r\n            channelSftp.exit();\r\n\r\n        } catch (JSchException | SftpException e) {\r\n\r\n            e.printStackTrace();\r\n\r\n        } finally {\r\n            if (jschSession != null) {\r\n                jschSession.disconnect();\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\nAs for how to set credentials from application.properties, you can use annotation:\r\n\r\n    @Configuration\r\n    @ConfigurationProperties(prefix = &quot;mail&quot;)\r\n    public class ConfigProperties {\r\n        \r\n        private String hostName;\r\n        private int port;\r\n        private String from;\r\n    \r\n        // standard getters and setters\r\n    }\r\n\r\nExample in your application.properties:\r\n\r\n    mail.hostname=host@mail.com\r\n    mail.port=9000\r\n    mail.from=mailer@mail.com\r\n\r\nFurther explanation can be found here: https://www.baeldung.com/configuration-properties-in-spring-boot.\r\n\r\nI hope it helps.","title":"SSH to remote server and read Files in Springboot","body":"<p>Yes, it is possible.</p>\n<p>There is a library called JSch - Java Secure Channel (<a href=\"http://www.jcraft.com/jsch/\" rel=\"nofollow noreferrer\">http://www.jcraft.com/jsch/</a>).</p>\n<p>This is how you connect to remote host:</p>\n<pre><code>private static final String REMOTE_HOST = &quot;0.0.0.0&quot;;\nprivate static final String USERNAME = &quot;&quot;;\nprivate static final String PASSWORD = &quot;&quot;;\nprivate static final int REMOTE_PORT = 22;\nprivate static final int SESSION_TIMEOUT = 10000;\nprivate static final int CHANNEL_TIMEOUT = 5000;\n\nprivate void readFile() {\n    String remoteFile = &quot;/your/path/file.txt&quot;;\n    Session jschSession = null;\n\n    try {\n        JSch jsch = new JSch();\n\n        jschSession = jsch.getSession(USERNAME, REMOTE_HOST, REMOTE_PORT);\n\n        jschSession.setPassword(PASSWORD);\n        jschSession.connect(SESSION_TIMEOUT);\n\n        Channel sftp = jschSession.openChannel(&quot;sftp&quot;);\n        sftp.connect(CHANNEL_TIMEOUT);\n        ChannelSftp channelSftp = (ChannelSftp) sftp;\n\n        InputStream stream = channelSftp.get(remoteFile);\n        \n        //Parsing your file or etc. here\n\n        channelSftp.exit();\n\n    } catch (JSchException | SftpException e) {\n\n        e.printStackTrace();\n\n    } finally {\n        if (jschSession != null) {\n            jschSession.disconnect();\n        }\n    }\n}\n</code></pre>\n<p>As for how to set credentials from application.properties, you can use annotation:</p>\n<pre><code>@Configuration\n@ConfigurationProperties(prefix = &quot;mail&quot;)\npublic class ConfigProperties {\n    \n    private String hostName;\n    private int port;\n    private String from;\n\n    // standard getters and setters\n}\n</code></pre>\n<p>Example in your application.properties:</p>\n<pre><code>mail.hostname=host@mail.com\nmail.port=9000\nmail.from=mailer@mail.com\n</code></pre>\n<p>Further explanation can be found here: <a href=\"https://www.baeldung.com/configuration-properties-in-spring-boot\" rel=\"nofollow noreferrer\">https://www.baeldung.com/configuration-properties-in-spring-boot</a>.</p>\n<p>I hope it helps.</p>\n"}],"owner":{"account_id":10923307,"reputation":321,"user_id":8028778,"display_name":"Kasun Palihakkara"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1053,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1670844556,"creation_date":1585577956,"question_id":60932567,"body_markdown":"I just need to know whether below scenario is possible or not in Spring boot?\r\n\r\nAssume I need to ssh to server and do operations in a specific directory in springboot. For example I just need to read file in Home directory in server 192.xxx.xxx.xxx in spring boot application. If this is possible how to set server credential(loging user,password) in application.properties.\r\n\r\nNeed you kind attention. Any help will be highly appreciated.\r\n\r\nThank You.","title":"SSH to remote server and read Files in Springboot","body":"<p>I just need to know whether below scenario is possible or not in Spring boot?</p>\n\n<p>Assume I need to ssh to server and do operations in a specific directory in springboot. For example I just need to read file in Home directory in server 192.xxx.xxx.xxx in spring boot application. If this is possible how to set server credential(loging user,password) in application.properties.</p>\n\n<p>Need you kind attention. Any help will be highly appreciated.</p>\n\n<p>Thank You.</p>\n"},{"tags":["java","selenium","google-chrome","selenium-chromedriver","page-factory"],"answers":[{"comments":[{"owner":{"account_id":26888691,"reputation":11,"user_id":20467824,"display_name":"Muhammad Abu Bakar"},"score":0,"creation_date":1689093228,"post_id":74770417,"comment_id":135163225,"body_markdown":"It got fixed thanks @Alex karamfilov","body":"It got fixed thanks @Alex karamfilov"}],"tags":[],"owner":{"account_id":9455787,"reputation":644,"user_id":7031148,"display_name":"Alex Karamfilov"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670844415,"creation_date":1670844415,"answer_id":74770417,"question_id":74770010,"body_markdown":"Using selenium 4.7.1 and JDK 11:\r\n```\r\n       &lt;!-- https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n            &lt;version&gt;4.7.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n```\r\npublic class Google {\r\n    private WebDriver driver;\r\n    @FindBy(name = &quot;q&quot;)\r\n    private WebElement searchField;\r\n    \r\n    public Google(WebDriver driver){\r\n        this.driver = driver;\r\n        PageFactory.initElements(driver, this);\r\n    }\r\n\r\n    public  void searchFor(String text){\r\n        searchField.sendKeys(text);\r\n        searchField.sendKeys(Keys.ENTER);\r\n    }\r\n\r\n    public void navigateTo(){\r\n        driver.get(&quot;https://google.com&quot;);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        WebDriverManager.chromedriver().setup();\r\n        WebDriver chrome = new ChromeDriver();\r\n        Google google = new Google(chrome);\r\n        google.navigateTo();\r\n        google.searchFor(&quot;Selenium&quot;);\r\n\r\n    }\r\n}\r\n```\r\nEverything works as expected.\r\n\r\nCorrect this line:\r\n```\r\nPageFactory.initElements(this.driver, this);\r\n```","title":"Version update to SELNEIUM 4.7.0 throwing NoSuchMethod Exception for Pagefactory","body":"<p>Using selenium 4.7.1 and JDK 11:</p>\n<pre><code>       &lt;!-- https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n            &lt;version&gt;4.7.1&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<pre><code>public class Google {\n    private WebDriver driver;\n    @FindBy(name = &quot;q&quot;)\n    private WebElement searchField;\n    \n    public Google(WebDriver driver){\n        this.driver = driver;\n        PageFactory.initElements(driver, this);\n    }\n\n    public  void searchFor(String text){\n        searchField.sendKeys(text);\n        searchField.sendKeys(Keys.ENTER);\n    }\n\n    public void navigateTo(){\n        driver.get(&quot;https://google.com&quot;);\n    }\n\n    public static void main(String[] args) {\n        WebDriverManager.chromedriver().setup();\n        WebDriver chrome = new ChromeDriver();\n        Google google = new Google(chrome);\n        google.navigateTo();\n        google.searchFor(&quot;Selenium&quot;);\n\n    }\n}\n</code></pre>\n<p>Everything works as expected.</p>\n<p>Correct this line:</p>\n<pre><code>PageFactory.initElements(this.driver, this);\n</code></pre>\n"}],"owner":{"account_id":26888691,"reputation":11,"user_id":20467824,"display_name":"Muhammad Abu Bakar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":236,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74770417,"answer_count":1,"score":0,"last_activity_date":1670844415,"creation_date":1670842367,"question_id":74770010,"body_markdown":"I&#39;m changing my selenium porject from 3.141 to 4.7.0 but i&#39;m seeing NoSuchElementException on PageFactory Initialization.\r\n\r\n```Dependency\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.7.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\n\r\n```Place of error\r\npublic WebElementsLogin(WebDriver driver) {\r\n\t\tthis.driver = driver;\r\n\t\tPageFactory.initElements(this.driver, this);\r\n\t}\r\n```\r\n\r\n```Exception\r\njava.lang.NoSuchMethodError: &#39;void org.openqa.selenium.support.PageFactory.initElements(org.openqa.selenium.SearchContext, java.lang.Object)&#39;\r\n","title":"Version update to SELNEIUM 4.7.0 throwing NoSuchMethod Exception for Pagefactory","body":"<p>I'm changing my selenium porject from 3.141 to 4.7.0 but i'm seeing NoSuchElementException on PageFactory Initialization.</p>\n<pre><code>        &lt;!-- https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n            &lt;version&gt;4.7.1&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<pre><code>public WebElementsLogin(WebDriver driver) {\n        this.driver = driver;\n        PageFactory.initElements(this.driver, this);\n    }\n</code></pre>\n<pre><code>java.lang.NoSuchMethodError: 'void org.openqa.selenium.support.PageFactory.initElements(org.openqa.selenium.SearchContext, java.lang.Object)'\n</code></pre>\n"},{"tags":["java","mockito","junit4","junit5"],"comments":[{"owner":{"account_id":45934,"reputation":203679,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":2,"creation_date":1550780533,"post_id":54815602,"comment_id":96407568,"body_markdown":"Please explain your question instead of only including a link; and please do not post a picture of code, but include the code as text in your question.","body":"Please explain your question instead of only including a link; and please do not post a picture of code, but include the code as text in your question."},{"owner":{"account_id":15071962,"reputation":211,"user_id":10877141,"display_name":"ygbgames"},"score":0,"creation_date":1550780948,"post_id":54815602,"comment_id":96407766,"body_markdown":"Add code snippet and statement which you are trying to mock","body":"Add code snippet and statement which you are trying to mock"},{"owner":{"account_id":15382374,"reputation":11,"user_id":11097457,"display_name":"Bala Murugan"},"score":0,"creation_date":1550781307,"post_id":54815602,"comment_id":96407902,"body_markdown":"@Jesper  code added","body":"@Jesper  code added"},{"owner":{"account_id":15382374,"reputation":11,"user_id":11097457,"display_name":"Bala Murugan"},"score":0,"creation_date":1550781336,"post_id":54815602,"comment_id":96407916,"body_markdown":"@ygbgames code added","body":"@ygbgames code added"}],"answers":[{"comments":[{"owner":{"account_id":142352,"reputation":6169,"user_id":350021,"display_name":"Imre L"},"score":0,"creation_date":1550944563,"post_id":54815842,"comment_id":96462000,"body_markdown":"Instead of returning Consumer make a function that conforms to consumer interface `void lambdaForMocking(String s)` and use it `items.forEach(this::lambdaForMocking);`.","body":"Instead of returning Consumer make a function that conforms to consumer interface <code>void lambdaForMocking(String s)</code> and use it <code>items.forEach(this::lambdaForMocking);</code>."},{"owner":{"account_id":7313625,"reputation":6040,"user_id":5572007,"display_name":"amseager"},"score":0,"creation_date":1550946445,"post_id":54815842,"comment_id":96462574,"body_markdown":"@ImreL Ofc there are a lot of ways to make this code better. I just wanted to give to the OP the main idea of how to do what he needed.","body":"@ImreL Ofc there are a lot of ways to make this code better. I just wanted to give to the OP the main idea of how to do what he needed."}],"tags":[],"owner":{"account_id":7313625,"reputation":6040,"user_id":5572007,"display_name":"amseager"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1550782736,"creation_date":1550781543,"answer_id":54815842,"question_id":54815602,"body_markdown":"Aside from discussing the purpose of doing this - practically you need to extract consumers from forEach() to separate methods (with the default modifier at least), and in your test class you should use Mockito.spy() functionality to mock them. \r\n\r\n(If you haven&#39;t yet familiar with the spying principle - it&#39;s like a partial mocking of the testing object. The good article about it: https://www.baeldung.com/mockito-spy).\r\n\r\nHow it actually can be:\r\n\r\n1. Your main class (let it be called &quot;TestApp&quot;):\r\n```\r\npublic class TestApp {\r\n\r\n    public void someRealMethod() {\r\n        List&lt;String&gt; items = new ArrayList&lt;&gt;();\r\n        items.add(&quot;A&quot;);\r\n        items.add(&quot;B&quot;);\r\n        items.add(&quot;C&quot;);\r\n        items.add(&quot;D&quot;);\r\n        items.add(&quot;E&quot;);\r\n\r\n        items.forEach(lambdaForMocking());\r\n        items.forEach(anotherLambdaForMocking());\r\n    }\r\n\r\n    Consumer&lt;String&gt; lambdaForMocking() {\r\n        return item -&gt; System.out.println(item);\r\n    }\r\n\r\n    Consumer&lt;String&gt; anotherLambdaForMocking() {\r\n        return item -&gt; {\r\n            if (&quot;C&quot;.equals(item)) {\r\n                System.out.println(item);\r\n            }\r\n        };\r\n    }\r\n}\r\n```\r\n2. Your test class:\r\n```\r\npublic class TestAppTest {\r\n\r\n    @Test\r\n    public void lambdaMockingTest() {\r\n        TestApp testApp = new TestApp();\r\n        TestApp spy = Mockito.spy(testApp);\r\n\r\n        Mockito.when(spy.lambdaForMocking()).thenReturn(item -&gt; {});\r\n        Mockito.when(spy.anotherLambdaForMocking()).thenReturn(item -&gt; {});\r\n\r\n        spy.someRealMethod();\r\n\r\n        //Asserts...\r\n    }\r\n}\r\n```\r\nIn &quot;thenReturn&quot; parts you can define any consumers that you want (I left them empty, for example).","title":"How to Mock the Lambda expression using Mockito","body":"<p>Aside from discussing the purpose of doing this - practically you need to extract consumers from forEach() to separate methods (with the default modifier at least), and in your test class you should use Mockito.spy() functionality to mock them. </p>\n\n<p>(If you haven't yet familiar with the spying principle - it's like a partial mocking of the testing object. The good article about it: <a href=\"https://www.baeldung.com/mockito-spy\" rel=\"nofollow noreferrer\">https://www.baeldung.com/mockito-spy</a>).</p>\n\n<p>How it actually can be:</p>\n\n<ol>\n<li>Your main class (let it be called \"TestApp\"):</li>\n</ol>\n\n<pre><code>public class TestApp {\n\n    public void someRealMethod() {\n        List&lt;String&gt; items = new ArrayList&lt;&gt;();\n        items.add(\"A\");\n        items.add(\"B\");\n        items.add(\"C\");\n        items.add(\"D\");\n        items.add(\"E\");\n\n        items.forEach(lambdaForMocking());\n        items.forEach(anotherLambdaForMocking());\n    }\n\n    Consumer&lt;String&gt; lambdaForMocking() {\n        return item -&gt; System.out.println(item);\n    }\n\n    Consumer&lt;String&gt; anotherLambdaForMocking() {\n        return item -&gt; {\n            if (\"C\".equals(item)) {\n                System.out.println(item);\n            }\n        };\n    }\n}\n</code></pre>\n\n<ol start=\"2\">\n<li>Your test class:</li>\n</ol>\n\n<pre><code>public class TestAppTest {\n\n    @Test\n    public void lambdaMockingTest() {\n        TestApp testApp = new TestApp();\n        TestApp spy = Mockito.spy(testApp);\n\n        Mockito.when(spy.lambdaForMocking()).thenReturn(item -&gt; {});\n        Mockito.when(spy.anotherLambdaForMocking()).thenReturn(item -&gt; {});\n\n        spy.someRealMethod();\n\n        //Asserts...\n    }\n}\n</code></pre>\n\n<p>In \"thenReturn\" parts you can define any consumers that you want (I left them empty, for example).</p>\n"}],"owner":{"account_id":15382374,"reputation":11,"user_id":11097457,"display_name":"Bala Murugan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1950,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1670844346,"creation_date":1550780440,"question_id":54815602,"body_markdown":"How to Mock the Lambda expression using Mockito\r\n\r\n    List&lt;String&gt; items = new ArrayList&lt;&gt;();\r\n\titems.add(&quot;A&quot;);\r\n\titems.add(&quot;B&quot;);\r\n\titems.add(&quot;C&quot;);\r\n\titems.add(&quot;D&quot;);\r\n\titems.add(&quot;E&quot;);\r\n\r\nlambda\r\n\r\n\titems.forEach(item-&gt;System.out.println(item));\r\n\t\r\n\titems.forEach(item-&gt;{if(&quot;C&quot;.equals(item)){System.out.println(item);}});","title":"How to Mock the Lambda expression using Mockito","body":"<p>How to Mock the Lambda expression using Mockito</p>\n<pre><code>List&lt;String&gt; items = new ArrayList&lt;&gt;();\nitems.add(&quot;A&quot;);\nitems.add(&quot;B&quot;);\nitems.add(&quot;C&quot;);\nitems.add(&quot;D&quot;);\nitems.add(&quot;E&quot;);\n</code></pre>\n<p>lambda</p>\n<pre><code>items.forEach(item-&gt;System.out.println(item));\n\nitems.forEach(item-&gt;{if(&quot;C&quot;.equals(item)){System.out.println(item);}});\n</code></pre>\n"},{"tags":["java","selenium-webdriver","testing","automated-tests","data-driven-tests"],"owner":{"account_id":15167351,"reputation":1,"user_id":10944489,"display_name":"Subhadeep Debnath"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670843625,"creation_date":1670843625,"question_id":74770272,"body_markdown":"I was trying to build a framework where credentials of various users will come from an excel file.\r\nThe user will login to the application and perform some actions and then logout. After that another user will do the same, that is login, perform some actions and logout.\r\nI was able to do only onle time and not multipe time. Please can anyone solve this.\r\n\r\nRegards\r\nBelow is my code\r\n\r\n\r\n```\r\npackage testCases;\r\n\r\nimport org.openqa.selenium.By;\r\nimport org.openqa.selenium.JavascriptExecutor;\r\nimport org.openqa.selenium.WebDriver;\r\nimport org.openqa.selenium.WebElement;\r\nimport org.openqa.selenium.chrome.ChromeDriver;\r\nimport utilities.Constants;\r\nimport utilities.ExcelUtils;\r\nimport java.io.IOException;\r\nimport java.util.concurrent.TimeUnit;\r\n\r\npublic class WebInteractions {\r\n\t\r\n\t//creating object of ExcelUtils class\r\n\tstatic ExcelUtils excelUtils = new ExcelUtils();\r\n\t\r\n\t//using the Constants class values for excel file path\r\n\tstatic String excelFilePath = Constants.Path_TestData + Constants.File_TestData;\r\n\r\n\tpublic static void main(String args[]) throws IOException {\r\n\t\t//set the Chrome Driver path\r\n\t\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\Apps\\\\Eclipse\\\\Selenium\\\\chromedriver.exe&quot;);\r\n\t\t\r\n\t\t//Creating an object of ChromeDriver\r\n\t\tWebDriver driver = new ChromeDriver();\r\n\t\t\r\n\t\t//launching the specified URL\r\n\t\tdriver.get(&quot;https://dev2-merchant-admin.canpaydebit.com/&quot;);\r\n\t\t\r\n\t\t//Identify the WebElements for the student registration form\r\n\t\tWebElement Username = driver.findElement(By.xpath(&quot;//input[@placeholder=&#39;Email&#39;]&quot;));\r\n\t\tWebElement Password = driver.findElement(By.xpath(&quot;//input[@placeholder=&#39;Password&#39;]&quot;));\r\n\t\tWebElement Login = driver.findElement(By.xpath(&quot;//button[@type=&#39;button&#39;]&quot;));\r\n\t\t\r\n\t\t//calling the ExcelUtils class method to initialise the workbook and sheet\r\n\t\texcelUtils.setExcelFile(excelFilePath, &quot;Sheet1&quot;);\r\n\r\n\t\t//iterate over all the row to print the data present in each cell.\r\n\t\t\tfor (int i = 1; i &lt;= excelUtils.getRowCountInSheet(); i++)\r\n\t\t\t\t{\r\n\t\t\t\t\t\r\n\t\t\t\t\t//Enter the values read from Excel in Username, Password\r\n\t\t\t\t\tUsername.sendKeys(excelUtils.getCellData(i, 0));\r\n\t\t\t\t\tPassword.sendKeys(excelUtils.getCellData(i, 1));\r\n\t\t\t\t\t\r\n\t\t\t\t\t//Click on submit button\r\n\t\t\t\t\tLogin.click();\r\n\t\t\t\t\tdriver.manage().timeouts().implicitlyWait(2000, TimeUnit.SECONDS);\r\n\t\t\t\t\t\r\n\t\t\t\t\t//Clicking on Logout button\r\n\t\t\t\t\tdriver.findElement(By.xpath(&quot;//a[@class=&#39;d-block accordion-toggle collapsed&#39;]&quot;)).click();\r\n\t\t\t\t\tdriver.findElement(By.xpath(&quot;//p[normalize-space()=&#39;Logout&#39;]&quot;)).click();\r\n\r\n\t\t\t\t}\r\n\t\t\r\n\r\n\t\t\r\n\t}\r\n}\r\n\r\n```\r\n\r\n\r\nI tried the above code. I&#39;m expecting that one user logs in, perform some action, then logs out, then another user logs in, perform some actions and then logout, and like these all others users. The email and password will be coming from the Excel file.","title":"Login Logout with different users whose credentials will come from an Excel file one after another using Selenium","body":"<p>I was trying to build a framework where credentials of various users will come from an excel file.\nThe user will login to the application and perform some actions and then logout. After that another user will do the same, that is login, perform some actions and logout.\nI was able to do only onle time and not multipe time. Please can anyone solve this.</p>\n<p>Regards\nBelow is my code</p>\n<pre><code>package testCases;\n\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.JavascriptExecutor;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport utilities.Constants;\nimport utilities.ExcelUtils;\nimport java.io.IOException;\nimport java.util.concurrent.TimeUnit;\n\npublic class WebInteractions {\n    \n    //creating object of ExcelUtils class\n    static ExcelUtils excelUtils = new ExcelUtils();\n    \n    //using the Constants class values for excel file path\n    static String excelFilePath = Constants.Path_TestData + Constants.File_TestData;\n\n    public static void main(String args[]) throws IOException {\n        //set the Chrome Driver path\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\Apps\\\\Eclipse\\\\Selenium\\\\chromedriver.exe&quot;);\n        \n        //Creating an object of ChromeDriver\n        WebDriver driver = new ChromeDriver();\n        \n        //launching the specified URL\n        driver.get(&quot;https://dev2-merchant-admin.canpaydebit.com/&quot;);\n        \n        //Identify the WebElements for the student registration form\n        WebElement Username = driver.findElement(By.xpath(&quot;//input[@placeholder='Email']&quot;));\n        WebElement Password = driver.findElement(By.xpath(&quot;//input[@placeholder='Password']&quot;));\n        WebElement Login = driver.findElement(By.xpath(&quot;//button[@type='button']&quot;));\n        \n        //calling the ExcelUtils class method to initialise the workbook and sheet\n        excelUtils.setExcelFile(excelFilePath, &quot;Sheet1&quot;);\n\n        //iterate over all the row to print the data present in each cell.\n            for (int i = 1; i &lt;= excelUtils.getRowCountInSheet(); i++)\n                {\n                    \n                    //Enter the values read from Excel in Username, Password\n                    Username.sendKeys(excelUtils.getCellData(i, 0));\n                    Password.sendKeys(excelUtils.getCellData(i, 1));\n                    \n                    //Click on submit button\n                    Login.click();\n                    driver.manage().timeouts().implicitlyWait(2000, TimeUnit.SECONDS);\n                    \n                    //Clicking on Logout button\n                    driver.findElement(By.xpath(&quot;//a[@class='d-block accordion-toggle collapsed']&quot;)).click();\n                    driver.findElement(By.xpath(&quot;//p[normalize-space()='Logout']&quot;)).click();\n\n                }\n        \n\n        \n    }\n}\n\n</code></pre>\n<p>I tried the above code. I'm expecting that one user logs in, perform some action, then logs out, then another user logs in, perform some actions and then logout, and like these all others users. The email and password will be coming from the Excel file.</p>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":4962911,"reputation":1972,"user_id":3993371,"accept_rate":81,"display_name":"Anindya Dutta"},"score":0,"creation_date":1657866819,"post_id":72989737,"comment_id":128916102,"body_markdown":"As the documentation says, &quot;This pattern is intended for searching for things that look like they might be phone numbers in arbitrary text, not for validating whether something is in fact a phone number. It will miss many things that are legitimate phone numbers.&quot;","body":"As the documentation says, &quot;This pattern is intended for searching for things that look like they might be phone numbers in arbitrary text, not for validating whether something is in fact a phone number. It will miss many things that are legitimate phone numbers.&quot;"},{"owner":{"account_id":4962911,"reputation":1972,"user_id":3993371,"accept_rate":81,"display_name":"Anindya Dutta"},"score":0,"creation_date":1657867014,"post_id":72989737,"comment_id":128916149,"body_markdown":"PhoneNumberUtils. isGlobalPhoneNumber might be a better API.","body":"PhoneNumberUtils. isGlobalPhoneNumber might be a better API."}],"answers":[{"comments":[{"owner":{"account_id":5382002,"reputation":11475,"user_id":4286992,"accept_rate":56,"display_name":"Kapil Rajput"},"score":0,"creation_date":1658115458,"post_id":72990327,"comment_id":128962130,"body_markdown":"I want to validate if number is valid or not means if user enter 10 digit number as 0000000000 then your logic is returning true.","body":"I want to validate if number is valid or not means if user enter 10 digit number as 0000000000 then your logic is returning true."},{"owner":{"account_id":23365040,"reputation":802,"user_id":17436751,"display_name":"Sayooj"},"score":0,"creation_date":1658117525,"post_id":72990327,"comment_id":128962447,"body_markdown":"@KapilRajput Let me check with this condition","body":"@KapilRajput Let me check with this condition"},{"owner":{"account_id":23365040,"reputation":802,"user_id":17436751,"display_name":"Sayooj"},"score":0,"creation_date":1658126923,"post_id":72990327,"comment_id":128964102,"body_markdown":"@KapilRajput When I tried the same number 0000000000, it returned false","body":"@KapilRajput When I tried the same number 0000000000, it returned false"},{"owner":{"account_id":9089731,"reputation":782,"user_id":6766146,"accept_rate":0,"display_name":"Lalit Verma"},"score":2,"creation_date":1658128018,"post_id":72990327,"comment_id":128964366,"body_markdown":"pattern here will return false if number after 0/91 is other than 6 to 9.","body":"pattern here will return false if number after 0/91 is other than 6 to 9."}],"tags":[],"owner":{"account_id":23365040,"reputation":802,"user_id":17436751,"display_name":"Sayooj"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1670843484,"creation_date":1657869407,"answer_id":72990327,"question_id":72989737,"body_markdown":"To validate a 10 digit Mobile number, here is a working code. Hope this works for you too.\r\n\r\n    String number = binding.editNumber.getText().toString();\r\n    // isPhoneValid = isValidMobileNo(number);\r\n    if (isValidMobileNo(number)) {\r\n            isPhoneValid = true;\r\n    else {\r\n            Log.d(&quot;Result: &quot;,&quot;Not Valid&quot;);\r\n            isPhoneValid = false;\r\n            valid = false;\r\n    }\r\n\r\n    private boolean isValidMobileNo(String str) {\r\n        Pattern pattern = Pattern.compile(&quot;(0/91)?[6-9][0-9]{9}&quot;);\r\n        Matcher match = pattern.matcher(str);\r\n        return (match.find() &amp;&amp; match.group().equals(str));\r\n    }\r\n\r\nTest Sample can be seen [here][1], an error message set to the EditText can be seen in this example.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/eugHF.png","title":"Validate valid phone number entry","body":"<p>To validate a 10 digit Mobile number, here is a working code. Hope this works for you too.</p>\n<pre><code>String number = binding.editNumber.getText().toString();\n// isPhoneValid = isValidMobileNo(number);\nif (isValidMobileNo(number)) {\n        isPhoneValid = true;\nelse {\n        Log.d(&quot;Result: &quot;,&quot;Not Valid&quot;);\n        isPhoneValid = false;\n        valid = false;\n}\n\nprivate boolean isValidMobileNo(String str) {\n    Pattern pattern = Pattern.compile(&quot;(0/91)?[6-9][0-9]{9}&quot;);\n    Matcher match = pattern.matcher(str);\n    return (match.find() &amp;&amp; match.group().equals(str));\n}\n</code></pre>\n<p>Test Sample can be seen <a href=\"https://i.stack.imgur.com/eugHF.png\" rel=\"nofollow noreferrer\">here</a>, an error message set to the EditText can be seen in this example.</p>\n"}],"owner":{"account_id":5382002,"reputation":11475,"user_id":4286992,"accept_rate":56,"display_name":"Kapil Rajput"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1670843484,"creation_date":1657865675,"question_id":72989737,"body_markdown":"I want to figure out invalid phone numbers entered in edittext before hitting the OTP api. Invalid phone numbers pattern may looks like these patterns **+91-0000000000 / +91-0000000011 / +91-1234567890** ...and so on.  Already added a check to validate invalid phone number but it didn&#39;t helps in detecting invalid patterns of phone numbers which can&#39;t exist.\r\n\r\n    private boolean isValidMobile(String phone) {\r\n    return android.util.Patterns.PHONE.matcher(phone).matches();    \r\n    }\r\n\r\nAnyone please suggest how to handle these numbers before hitting the OTP api. Thanks in advance.","title":"Validate valid phone number entry","body":"<p>I want to figure out invalid phone numbers entered in edittext before hitting the OTP api. Invalid phone numbers pattern may looks like these patterns <strong>+91-0000000000 / +91-0000000011 / +91-1234567890</strong> ...and so on.  Already added a check to validate invalid phone number but it didn't helps in detecting invalid patterns of phone numbers which can't exist.</p>\n<pre><code>private boolean isValidMobile(String phone) {\nreturn android.util.Patterns.PHONE.matcher(phone).matches();    \n}\n</code></pre>\n<p>Anyone please suggest how to handle these numbers before hitting the OTP api. Thanks in advance.</p>\n"},{"tags":["java","java-stream","intersection","anymatch"],"comments":[{"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":1,"creation_date":1670599549,"post_id":74745030,"comment_id":131917842,"body_markdown":"***But how do I make sure to compare to every item in the List houseNumbers?*** - Use `filter` instead of `anyMatch` .","body":"<b><i>But how do I make sure to compare to every item in the List houseNumbers?</i></b> - Use <code>filter</code> instead of <code>anyMatch</code> ."},{"owner":{"account_id":5635704,"reputation":3288,"user_id":4461271,"accept_rate":0,"display_name":"midi"},"score":0,"creation_date":1670599729,"post_id":74745030,"comment_id":131917913,"body_markdown":"With filter it is still complaining about the Predicate. locations.stream().filter(\nlocation -&gt; \n housenumbers.stream().anyMatch(location.address.number)\n)","body":"With filter it is still complaining about the Predicate. locations.stream().filter( location -&gt;   housenumbers.stream().anyMatch(location.address.number) )"},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1670599739,"post_id":74745030,"comment_id":131917919,"body_markdown":"When posting questions, please put in minimal code to demonstrate the issue.  That includes all classes and data structures required with input and expected output.  It should be in the form of a [mre].  And you should also take the [tour].","body":"When posting questions, please put in minimal code to demonstrate the issue.  That includes all classes and data structures required with input and expected output.  It should be in the form of a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>.  And you should also take the <a href=\"https://stackoverflow.com/tour\">tour</a>."}],"answers":[{"comments":[{"owner":{"account_id":5635704,"reputation":3288,"user_id":4461271,"accept_rate":0,"display_name":"midi"},"score":0,"creation_date":1670600772,"post_id":74745150,"comment_id":131918239,"body_markdown":"contains did the trick","body":"contains did the trick"}],"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670600774,"creation_date":1670599825,"answer_id":74745150,"question_id":74745030,"body_markdown":"Dump the data from the `houseNumbers` into a `HashSet` a then in the stream check the house number of each `Location` against the Set.\r\n\r\nFor that, you would need to apply:\r\n\r\n* `filter()` operation to discard the locations, which has a house number that is not present in the list;\r\n* `toList()` as a terminal operation to collect the result into a list (or `collect()` with `Collectors.toList()` specified as an argument if you&#39;re using JDK 15 or earlier).\r\n\r\n```\r\nList&lt;String&gt; houseNumbers = // initializing the list\r\nSet&lt;String&gt; numbers = new HashSet&lt;&gt;(houseNumbers);\r\n\r\nList&lt;Location&gt; locations = // initializing the list\r\n    \r\nList&lt;Location&gt; filteredLocations = locations.stream()\r\n    .filter(location -&gt; numbers.contains(location.getAddress().getNumber()))\r\n    .toList(); // for Java 16+ or collect(Collectors.toList())\r\n```\r\n\r\n***Sidenote:** in Java, we use access modifiers to encapsulate the data properly withing the class. And getter methods serve a mean of accessing the data. Don&#39;t keep the fields `public` (or package-private). If you&#39;re doing a lot of JavaScript you might be accustomed to this `location.address.number`, but in Java it&#39;s not appropriate.","title":"How to obtain an Intersection of a List of complex custom Objects and a List of its String attributes and in Java using Stream API","body":"<p>Dump the data from the <code>houseNumbers</code> into a <code>HashSet</code> a then in the stream check the house number of each <code>Location</code> against the Set.</p>\n<p>For that, you would need to apply:</p>\n<ul>\n<li><code>filter()</code> operation to discard the locations, which has a house number that is not present in the list;</li>\n<li><code>toList()</code> as a terminal operation to collect the result into a list (or <code>collect()</code> with <code>Collectors.toList()</code> specified as an argument if you're using JDK 15 or earlier).</li>\n</ul>\n<pre><code>List&lt;String&gt; houseNumbers = // initializing the list\nSet&lt;String&gt; numbers = new HashSet&lt;&gt;(houseNumbers);\n\nList&lt;Location&gt; locations = // initializing the list\n    \nList&lt;Location&gt; filteredLocations = locations.stream()\n    .filter(location -&gt; numbers.contains(location.getAddress().getNumber()))\n    .toList(); // for Java 16+ or collect(Collectors.toList())\n</code></pre>\n<p>*<strong>Sidenote:</strong> in Java, we use access modifiers to encapsulate the data properly withing the class. And getter methods serve a mean of accessing the data. Don't keep the fields <code>public</code> (or package-private). If you're doing a lot of JavaScript you might be accustomed to this <code>location.address.number</code>, but in Java it's not appropriate.</p>\n"}],"owner":{"account_id":5635704,"reputation":3288,"user_id":4461271,"accept_rate":0,"display_name":"midi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":74745150,"answer_count":1,"score":-1,"last_activity_date":1670843480,"creation_date":1670599176,"question_id":74745030,"body_markdown":"Here&#39;s my domain classes `Location` and `Address`:\r\n\r\n    public class Location {\r\n        GPS gps;\r\n        Address address;\r\n        // etc.\r\n    }\r\n\r\n    public class Address {\r\n        String street;\r\n        String number;\r\n        // etc.\r\n    }\r\n\r\nLet&#39;s say I have a List of `String`&#39;s \r\n\r\n    List&lt;String&gt; houseNumbers\r\n\r\nand a List of `Locations` \r\n\r\n    List&lt;Location&gt; locations\r\n\r\nNow, I want to have only those `Location`s where the `Location.address.number` matches with any of the `String`s in the `houseNumbers` list.\r\n\r\nI&#39;ve the following, which produces a compilation error: *&quot;expecting a \r\n`Predicate &lt;? super java.lang.String&gt;` instead of a String&quot;*.\r\n\r\n*My attempt:*\r\n\r\n```\r\nList&lt;Location&gt; filteredLocations = locations.stream()\r\n    .anyMatch(location -&gt; \r\n        housenumbers.stream().anyMatch(location.address.number)\r\n    );\r\n```\r\n\r\nBut how do I make sure to compare to every item in the `houseNumbers` List?\r\n\r\nThe following snippet did the trick:\r\n\r\n    List&lt;Location&gt; filteredLocations = \r\n     locations.stream().filter(\r\n       location -&gt; housenumbers.contains(location.address.number)\r\n    ).collect(Collectors.toList());\r\n\r\n\r\n\r\n\r\n\r\n","title":"How to obtain an Intersection of a List of complex custom Objects and a List of its String attributes and in Java using Stream API","body":"<p>Here's my domain classes <code>Location</code> and <code>Address</code>:</p>\n<pre><code>public class Location {\n    GPS gps;\n    Address address;\n    // etc.\n}\n\npublic class Address {\n    String street;\n    String number;\n    // etc.\n}\n</code></pre>\n<p>Let's say I have a List of <code>String</code>'s</p>\n<pre><code>List&lt;String&gt; houseNumbers\n</code></pre>\n<p>and a List of <code>Locations</code></p>\n<pre><code>List&lt;Location&gt; locations\n</code></pre>\n<p>Now, I want to have only those <code>Location</code>s where the <code>Location.address.number</code> matches with any of the <code>String</code>s in the <code>houseNumbers</code> list.</p>\n<p>I've the following, which produces a compilation error: <em>&quot;expecting a\n<code>Predicate &lt;? super java.lang.String&gt;</code> instead of a String&quot;</em>.</p>\n<p><em>My attempt:</em></p>\n<pre><code>List&lt;Location&gt; filteredLocations = locations.stream()\n    .anyMatch(location -&gt; \n        housenumbers.stream().anyMatch(location.address.number)\n    );\n</code></pre>\n<p>But how do I make sure to compare to every item in the <code>houseNumbers</code> List?</p>\n<p>The following snippet did the trick:</p>\n<pre><code>List&lt;Location&gt; filteredLocations = \n locations.stream().filter(\n   location -&gt; housenumbers.contains(location.address.number)\n).collect(Collectors.toList());\n</code></pre>\n"},{"tags":["java","iframe","selenium","selenium-webdriver"],"comments":[{"owner":{"account_id":2649349,"reputation":5377,"user_id":2291424,"accept_rate":100,"display_name":"Mark Rowlands"},"score":0,"creation_date":1410171387,"post_id":25721263,"comment_id":40211504,"body_markdown":"I don&#39;t use `className` all that often for finding elements but I&#39;m pretty sure that it can&#39;t include any white=space in the parameter. Did you try using `cssSlector` instead? `driver.findElement(By.CssSelector(&quot;cke_wysiwyg_frame.cke_reset&quot;));`","body":"I don&#39;t use <code>className</code> all that often for finding elements but I&#39;m pretty sure that it can&#39;t include any white=space in the parameter. Did you try using <code>cssSlector</code> instead? <code>driver.findElement(By.CssSelector(&quot;cke_wysiwyg_frame.cke_res&zwnj;&#8203;et&quot;));</code>"}],"answers":[{"comments":[{"owner":{"account_id":4869518,"reputation":683,"user_id":3926533,"accept_rate":88,"display_name":"Ali Hamadi"},"score":0,"creation_date":1410179619,"post_id":25722877,"comment_id":40215844,"body_markdown":"Hi M, when i type the line above i don&#39;t get the get(); method  &quot;tagName(&quot;iframe&quot;).get(3));&quot;","body":"Hi M, when i type the line above i don&#39;t get the get(); method  &quot;tagName(&quot;iframe&quot;).get(3));&quot;"},{"owner":{"account_id":920174,"reputation":3438,"user_id":951984,"accept_rate":50,"display_name":"nanospeck"},"score":0,"creation_date":1450690712,"post_id":25722877,"comment_id":56526373,"body_markdown":"You need an extra missing bracket : driver.switchTo().frame(driver.findElements(By.tagName(&quot;iframe&quot;)).get(0));","body":"You need an extra missing bracket : driver.switchTo().frame(driver.findElements(By.tagName(&quot;ifra&zwnj;&#8203;me&quot;)).get(0));"}],"tags":[],"owner":{"account_id":2825207,"reputation":151,"user_id":2427995,"display_name":"mfsi_krushnas"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1460986526,"creation_date":1410174419,"answer_id":25722877,"question_id":25721263,"body_markdown":"You cant select an iFrame using class.Check the webdriver documentation using : - \r\n\r\nhttps://selenium.googlecode.com/git/docs/api/java/org/openqa/selenium/WebDriver.TargetLocator.html\r\n\r\n1. You can switch to iFrame by &#39;Name&#39;/&#39;id&#39; attribute.\r\n\r\n        driver.switchTo().frame(&quot;frame1&quot;);\r\n\r\n2. You can switch by frame index.\r\n\r\n        driver.switchTo().frame(driver.findElements(By.tagName(&quot;iframe&quot;).get(0));\r\n\r\n\r\nNow you have to check in the whole page how many iFrames are present ?? If its say : 3, use the 3rd iFrame always.\r\n\r\n    driver.switchTo().frame(driver.findElements(By.tagName(&quot;iframe&quot;).get(3));\r\n\r\nI hope it helps.","title":"Can&#39;t select an Iframe in selenium webdriver","body":"<p>You cant select an iFrame using class.Check the webdriver documentation using : - </p>\n\n<p><a href=\"https://selenium.googlecode.com/git/docs/api/java/org/openqa/selenium/WebDriver.TargetLocator.html\" rel=\"nofollow\">https://selenium.googlecode.com/git/docs/api/java/org/openqa/selenium/WebDriver.TargetLocator.html</a></p>\n\n<ol>\n<li><p>You can switch to iFrame by 'Name'/'id' attribute.</p>\n\n<pre><code>driver.switchTo().frame(\"frame1\");\n</code></pre></li>\n<li><p>You can switch by frame index.</p>\n\n<pre><code>driver.switchTo().frame(driver.findElements(By.tagName(\"iframe\").get(0));\n</code></pre></li>\n</ol>\n\n<p>Now you have to check in the whole page how many iFrames are present ?? If its say : 3, use the 3rd iFrame always.</p>\n\n<pre><code>driver.switchTo().frame(driver.findElements(By.tagName(\"iframe\").get(3));\n</code></pre>\n\n<p>I hope it helps.</p>\n"},{"tags":[],"owner":{"account_id":2825207,"reputation":151,"user_id":2427995,"display_name":"mfsi_krushnas"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1410182594,"creation_date":1410182594,"answer_id":25725292,"question_id":25721263,"body_markdown":"Yes, there was a mistake..Ok you can do one thing..Manually count how many iframe are there in the page, if its 3rd one whre you want to switch.\r\n\r\nDirectly specify the int value as doc says, \r\n\r\n    driver.switchTo().frame(index)\r\n\r\nSo your code can become something like this : -\r\n\r\n    driver.switchTo().frame(3);\r\n\r\nAnd dont forget to get back to default Content.\r\n\r\n    driver.switchTo().defaultContent();\r\n\r\nPlease let me know if that works or not.","title":"Can&#39;t select an Iframe in selenium webdriver","body":"<p>Yes, there was a mistake..Ok you can do one thing..Manually count how many iframe are there in the page, if its 3rd one whre you want to switch.</p>\n\n<p>Directly specify the int value as doc says, </p>\n\n<pre><code>driver.switchTo().frame(index)\n</code></pre>\n\n<p>So your code can become something like this : -</p>\n\n<pre><code>driver.switchTo().frame(3);\n</code></pre>\n\n<p>And dont forget to get back to default Content.</p>\n\n<pre><code>driver.switchTo().defaultContent();\n</code></pre>\n\n<p>Please let me know if that works or not.</p>\n"},{"tags":[],"owner":{"account_id":4869518,"reputation":683,"user_id":3926533,"accept_rate":88,"display_name":"Ali Hamadi"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1460986538,"creation_date":1410529973,"answer_id":25809942,"question_id":25721263,"body_markdown":"the problem was solved by finding the iFrame by xpath \r\n\r\n \r\n\r\n    driver.switchTo().defaultContent();\r\n    driver.switchTo().frame( driver.findElement( By.xpath( iframeXpath ) ) );\r\n\r\nand then return to the top window:\r\n\r\n     driver.switchTo().defaultContent();","title":"Can&#39;t select an Iframe in selenium webdriver","body":"<p>the problem was solved by finding the iFrame by xpath </p>\n\n<pre><code>driver.switchTo().defaultContent();\ndriver.switchTo().frame( driver.findElement( By.xpath( iframeXpath ) ) );\n</code></pre>\n\n<p>and then return to the top window:</p>\n\n<pre><code> driver.switchTo().defaultContent();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4722999,"reputation":593,"user_id":3820418,"display_name":"Jlearner"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670843340,"creation_date":1670843340,"answer_id":74770220,"question_id":25721263,"body_markdown":"We can also get an element using locator to that iframe then switch to iframe using that element. more info [here][1] \r\n\r\n    // Store the web element\r\n    const iframe = driver.findElement(By.css(&#39;#modal &gt; iframe&#39;));\r\n    \r\n    // Switch to the frame\r\n    await driver.switchTo().frame(iframe);\r\n\r\n\r\n  [1]: https://www.selenium.dev/documentation/webdriver/interactions/frames/#using-a-webelement","title":"Can&#39;t select an Iframe in selenium webdriver","body":"<p>We can also get an element using locator to that iframe then switch to iframe using that element. more info <a href=\"https://www.selenium.dev/documentation/webdriver/interactions/frames/#using-a-webelement\" rel=\"nofollow noreferrer\">here</a></p>\n<pre><code>// Store the web element\nconst iframe = driver.findElement(By.css('#modal &gt; iframe'));\n\n// Switch to the frame\nawait driver.switchTo().frame(iframe);\n</code></pre>\n"}],"owner":{"account_id":4869518,"reputation":683,"user_id":3926533,"accept_rate":88,"display_name":"Ali Hamadi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27921,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":25809942,"answer_count":4,"score":6,"last_activity_date":1670843340,"creation_date":1410169033,"question_id":25721263,"body_markdown":"I am trying to select an `Iframe` by a class name but it&#39;s not working , I am trying with `tagName` it works but then when I tried to type within the element in the `Iframe` I couldn&#39;t, could you please help me here is my code:\r\n\r\n    webDriver driver.switchTo().frame( driver.findElement( By.className( &quot;cke_wysiwyg_frame cke_reset&quot; ) ) );\r\n    driver.findElement( By.xpath( &quot;//body[contains(text(),&#39;type here&#39;)]&quot; ) ).sendKeys( &quot;Testing&quot; );\r\n\r\nAnd here is the HTML in my webpage:\r\n\r\n    &lt;div id=&quot;cke_534_contents&quot; class=&quot;cke_contents cke_reset&quot; role=&quot;presentation&quot; style=&quot;height: 75px;&quot;&gt;\r\n       &lt;span id=&quot;cke_586&quot; class=&quot;cke_voice_label&quot;&gt;Press ALT 0 for help&lt;/span&gt;\r\n       &lt;iframe class=&quot;cke_wysiwyg_frame cke_reset&quot; frameborder=&quot;0&quot; src=&quot;&quot; style=&quot;width: 100%; height: 100%;&quot; aria-describedby=&quot;cke_586&quot; tabindex=&quot;0&quot; allowtransparency=&quot;true&quot;&gt;\r\n          &lt;!DOCTYPE html&gt;\r\n          &lt;html lang=&quot;en-gb&quot; dir=&quot;ltr&quot;&gt;\r\n             &lt;head&gt;\r\n             &lt;body class=&quot;cke_editable cke_editable_themed cke_contents_ltr cke_show_borders&quot; contenteditable=&quot;true&quot; spellcheck=&quot;true&quot;&gt;\r\n                type here\r\n             &lt;/body&gt;\r\n          &lt;/html&gt;\r\n       &lt;/iframe&gt;\r\n    &lt;/div&gt;","title":"Can&#39;t select an Iframe in selenium webdriver","body":"<p>I am trying to select an <code>Iframe</code> by a class name but it's not working , I am trying with <code>tagName</code> it works but then when I tried to type within the element in the <code>Iframe</code> I couldn't, could you please help me here is my code:</p>\n\n<pre><code>webDriver driver.switchTo().frame( driver.findElement( By.className( \"cke_wysiwyg_frame cke_reset\" ) ) );\ndriver.findElement( By.xpath( \"//body[contains(text(),'type here')]\" ) ).sendKeys( \"Testing\" );\n</code></pre>\n\n<p>And here is the HTML in my webpage:</p>\n\n<pre><code>&lt;div id=\"cke_534_contents\" class=\"cke_contents cke_reset\" role=\"presentation\" style=\"height: 75px;\"&gt;\n   &lt;span id=\"cke_586\" class=\"cke_voice_label\"&gt;Press ALT 0 for help&lt;/span&gt;\n   &lt;iframe class=\"cke_wysiwyg_frame cke_reset\" frameborder=\"0\" src=\"\" style=\"width: 100%; height: 100%;\" aria-describedby=\"cke_586\" tabindex=\"0\" allowtransparency=\"true\"&gt;\n      &lt;!DOCTYPE html&gt;\n      &lt;html lang=\"en-gb\" dir=\"ltr\"&gt;\n         &lt;head&gt;\n         &lt;body class=\"cke_editable cke_editable_themed cke_contents_ltr cke_show_borders\" contenteditable=\"true\" spellcheck=\"true\"&gt;\n            type here\n         &lt;/body&gt;\n      &lt;/html&gt;\n   &lt;/iframe&gt;\n&lt;/div&gt;\n</code></pre>\n"},{"tags":["java","keycloak","quarkus"],"comments":[{"owner":{"account_id":1152519,"reputation":733,"user_id":1133928,"display_name":"Sergey Beryozkin"},"score":0,"creation_date":1670843571,"post_id":74764462,"comment_id":131959218,"body_markdown":"Hi, I&#39;ve tested https://github.com/sberyozkin/quarkus-quickstarts/tree/main/security-keycloak-authorization-quickstart, and I can see with `curl` that a user name is returned. Please make sure Keycloak is configured to return a username - I did not have to use any specific configuration though. Re the policy enforcer - not sure why you are seeing it as the quickstart this tutorial is based upon works - please don&#39;t forget to import a keycloak realm","body":"Hi, I&#39;ve tested <a href=\"https://github.com/sberyozkin/quarkus-quickstarts/tree/main/security-keycloak-authorization-quickstart\" rel=\"nofollow noreferrer\">github.com/sberyozkin/quarkus-quickstarts/tree/main/&hellip;</a>, and I can see with <code>curl</code> that a user name is returned. Please make sure Keycloak is configured to return a username - I did not have to use any specific configuration though. Re the policy enforcer - not sure why you are seeing it as the quickstart this tutorial is based upon works - please don&#39;t forget to import a keycloak realm"},{"owner":{"account_id":15053267,"reputation":71,"user_id":10864375,"display_name":"Bram Breda"},"score":0,"creation_date":1670844530,"post_id":74764462,"comment_id":131959555,"body_markdown":"The problem is that I need to use a specific realm, so I can&#39;t use the one of the tutorial. I am more looking at what kind of settings I need to change within keycloak to get the ID or the username.","body":"The problem is that I need to use a specific realm, so I can&#39;t use the one of the tutorial. I am more looking at what kind of settings I need to change within keycloak to get the ID or the username."},{"owner":{"account_id":1152519,"reputation":733,"user_id":1133928,"display_name":"Sergey Beryozkin"},"score":0,"creation_date":1670846158,"post_id":74764462,"comment_id":131960044,"body_markdown":"I see, perhaps the simplest way forward is to import the demo realm, check how a user such as `alice` is configured compared to how users are configured in your realm and align as needed. FYI, Keycloak typically uses `preferred_username` claim to pass the user name in the token so check in the demo realm if `preferred_username` is explicitly allowed etc. And likewise, as far as the policy enforcement is concerned - note you should only use the policy enforcer if you intend to use Keycloak to have authorization decisions as opposed to the local RBAC","body":"I see, perhaps the simplest way forward is to import the demo realm, check how a user such as <code>alice</code> is configured compared to how users are configured in your realm and align as needed. FYI, Keycloak typically uses <code>preferred_username</code> claim to pass the user name in the token so check in the demo realm if <code>preferred_username</code> is explicitly allowed etc. And likewise, as far as the policy enforcement is concerned - note you should only use the policy enforcer if you intend to use Keycloak to have authorization decisions as opposed to the local RBAC"}],"owner":{"account_id":15053267,"reputation":71,"user_id":10864375,"display_name":"Bram Breda"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":278,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1670843321,"creation_date":1670792245,"question_id":74764462,"body_markdown":"I&#39;m running a quarkus setup with keycloak. To start of I am trying to implement the [tutorial][1] into my code. I have to note here that i didn&#39;t copy the realm that is used. The reason for this is that we received a realm from our tutors.\r\n\r\nThis is the code I am trying to implement. The problem with is that it doesn&#39;t return the user. \r\n\r\n``` lang-java\r\n@Path(&quot;/api/users&quot;)\r\npublic class UserResource {\r\n    @Inject\r\n    SecurityIdentity identity;\r\n\r\n    @GET\r\n    @Path(&quot;/me&quot;)\r\n    @NoCache\r\n    public User me() {\r\n        return new User(identity);\r\n    }\r\n\r\n    public static class User {\r\n        private final String userName;\r\n\r\n        User(SecurityIdentity identity) {\r\n            this.userName = identity.getPrincipal().getName();\r\n        }\r\n\r\n        public String getUserName() {\r\n            return userName;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nWhen I enabled policy enforcer, I wasn&#39;t even able to login, all request became 403 or 401.\r\n\r\n    quarkus.keycloak.policy-enforcer.enable=true\r\n\r\nHow can we solve this issue?\r\n\r\nAnother question would be if it is possible to retrieve some sort of userId from keycloak? \r\n\r\n  [1]: https://quarkus.io/guides/security-keycloak-authorization","title":"How can i retrieve the username form the keycloak user?","body":"<p>I'm running a quarkus setup with keycloak. To start of I am trying to implement the <a href=\"https://quarkus.io/guides/security-keycloak-authorization\" rel=\"nofollow noreferrer\">tutorial</a> into my code. I have to note here that i didn't copy the realm that is used. The reason for this is that we received a realm from our tutors.</p>\n<p>This is the code I am trying to implement. The problem with is that it doesn't return the user.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Path(&quot;/api/users&quot;)\npublic class UserResource {\n    @Inject\n    SecurityIdentity identity;\n\n    @GET\n    @Path(&quot;/me&quot;)\n    @NoCache\n    public User me() {\n        return new User(identity);\n    }\n\n    public static class User {\n        private final String userName;\n\n        User(SecurityIdentity identity) {\n            this.userName = identity.getPrincipal().getName();\n        }\n\n        public String getUserName() {\n            return userName;\n        }\n    }\n}\n</code></pre>\n<p>When I enabled policy enforcer, I wasn't even able to login, all request became 403 or 401.</p>\n<pre><code>quarkus.keycloak.policy-enforcer.enable=true\n</code></pre>\n<p>How can we solve this issue?</p>\n<p>Another question would be if it is possible to retrieve some sort of userId from keycloak?</p>\n"},{"tags":["java","maven","protege","osgi-bundle","apache-felix"],"owner":{"account_id":19395325,"reputation":2019,"user_id":14183155,"display_name":"Vivere"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670843199,"creation_date":1670843199,"question_id":74770188,"body_markdown":"Context: I&#39;m building a [PROTEGE][1] plugin and I am having trouble with bundling the jar. When starting protege, this is the log that I am getting:\r\n\r\n```\r\n[FelixStartLevel] ERROR FrameworkSlf4jLogger    Error starting file:&lt;someName&gt;-1.0.jar\r\norg.osgi.framework.BundleException: Unable to resolve &lt;someName&gt;[28](R 28.0): missing requirement [&lt;someName&gt;[28](R 28.0)] osgi.wiring.package; (osgi.wiring.package=org.neo4j.cypherdsl.core) Unresolved requirements: [[&lt;someName&gt;[28](R 28.0)] osgi.wiring.package; (osgi.wiring.package=org.neo4j.cypherdsl.core)]\r\n\tat org.apache.felix.framework.Felix.resolveBundleRevision(Felix.java:4111) ~[org.apache.felix.main.jar:na]\r\n\tat org.apache.felix.framework.Felix.startBundle(Felix.java:2117) ~[org.apache.felix.main.jar:na]\r\n\tat org.apache.felix.framework.Felix.setActiveStartLevel(Felix.java:1371) ~[org.apache.felix.main.jar:na]\r\n\tat org.apache.felix.framework.FrameworkStartLevelImpl.run(FrameworkStartLevelImpl.java:308) [org.apache.felix.main.jar:na]\r\n\tat java.lang.Thread.run(Thread.java:745) [na:1.8.0_121]\r\n```\r\n\r\nI have a dependency on the `org.neo4j.cypherdsl.core` package in my POM, but I am not sure how to correctly include it into the jar such that I won&#39;t get the error above. My current POM file (relevant bits):\r\n\r\n```xml\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;edu.stanford.protege&lt;/groupId&gt;\r\n            &lt;artifactId&gt;protege-editor-owl&lt;/artifactId&gt;\r\n            &lt;version&gt;5.5.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.neo4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;neo4j-cypher-dsl&lt;/artifactId&gt;\r\n            &lt;version&gt;2022.8.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;build&gt;\r\n\r\n        &lt;resources&gt;\r\n            &lt;resource&gt;\r\n                &lt;!-- Use resource filtering to replace references to the artifactId in the plugin.xml file --&gt;\r\n                &lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n                &lt;filtering&gt;true&lt;/filtering&gt;\r\n            &lt;/resource&gt;\r\n        &lt;/resources&gt;\r\n\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.5&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;1.8&lt;/source&gt;\r\n                    &lt;target&gt;1.8&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.felix&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-bundle-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.1&lt;/version&gt;\r\n                &lt;extensions&gt;true&lt;/extensions&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;instructions&gt;\r\n                        &lt;Bundle-Activator&gt;org.protege.editor.owl.ProtegeOWL&lt;/Bundle-Activator&gt;\r\n                        &lt;Bundle-SymbolicName&gt;${project.artifactId};singleton:=true&lt;/Bundle-SymbolicName&gt;\r\n                        &lt;Bundle-Vendor&gt;edu.stanford.protege.&lt;someName&gt;&lt;/Bundle-Vendor&gt;\r\n                        &lt;Bundle-ClassPath&gt;.&lt;/Bundle-ClassPath&gt;\r\n                        &lt;Export-Package&gt;\r\n                            edu.stanford.protege.&lt;someName&gt;.*\r\n                        &lt;/Export-Package&gt;\r\n                        &lt;Import-Package&gt;\r\n                            org.protege.editor.owl.*;version=&quot;5.0.0&quot;, &lt;!-- equivalent to [5.0.0,infinity) --&gt;\r\n                            org.neo4j.cypherdsl.core,\r\n                            *\r\n                        &lt;/Import-Package&gt;\r\n                        &lt;Include-Resource&gt;{maven-resources}&lt;/Include-Resource&gt;\r\n                        &lt;executions&gt;\r\n                            &lt;execution&gt;\r\n                                &lt;id&gt;bundle-manifest&lt;/id&gt;\r\n                                &lt;phase&gt;install&lt;/phase&gt;\r\n                                &lt;goals&gt;\r\n                                    &lt;goal&gt;manifest&lt;/goal&gt;\r\n                                &lt;/goals&gt;\r\n                            &lt;/execution&gt;\r\n                        &lt;/executions&gt;\r\n                    &lt;/instructions&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n```\r\n\r\nMy understanding was that if I include the package name in the `&lt;Import-Package&gt;` node, then it would work. However, I did not manage to solve the error.\r\n\r\n  [1]: https://protege.stanford.edu/","title":"How to configure POM to resolve osgi.wiring.package missing requirements issues","body":"<p>Context: I'm building a <a href=\"https://protege.stanford.edu/\" rel=\"nofollow noreferrer\">PROTEGE</a> plugin and I am having trouble with bundling the jar. When starting protege, this is the log that I am getting:</p>\n<pre><code>[FelixStartLevel] ERROR FrameworkSlf4jLogger    Error starting file:&lt;someName&gt;-1.0.jar\norg.osgi.framework.BundleException: Unable to resolve &lt;someName&gt;[28](R 28.0): missing requirement [&lt;someName&gt;[28](R 28.0)] osgi.wiring.package; (osgi.wiring.package=org.neo4j.cypherdsl.core) Unresolved requirements: [[&lt;someName&gt;[28](R 28.0)] osgi.wiring.package; (osgi.wiring.package=org.neo4j.cypherdsl.core)]\n    at org.apache.felix.framework.Felix.resolveBundleRevision(Felix.java:4111) ~[org.apache.felix.main.jar:na]\n    at org.apache.felix.framework.Felix.startBundle(Felix.java:2117) ~[org.apache.felix.main.jar:na]\n    at org.apache.felix.framework.Felix.setActiveStartLevel(Felix.java:1371) ~[org.apache.felix.main.jar:na]\n    at org.apache.felix.framework.FrameworkStartLevelImpl.run(FrameworkStartLevelImpl.java:308) [org.apache.felix.main.jar:na]\n    at java.lang.Thread.run(Thread.java:745) [na:1.8.0_121]\n</code></pre>\n<p>I have a dependency on the <code>org.neo4j.cypherdsl.core</code> package in my POM, but I am not sure how to correctly include it into the jar such that I won't get the error above. My current POM file (relevant bits):</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;edu.stanford.protege&lt;/groupId&gt;\n            &lt;artifactId&gt;protege-editor-owl&lt;/artifactId&gt;\n            &lt;version&gt;5.5.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.neo4j&lt;/groupId&gt;\n            &lt;artifactId&gt;neo4j-cypher-dsl&lt;/artifactId&gt;\n            &lt;version&gt;2022.8.1&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n\n        &lt;resources&gt;\n            &lt;resource&gt;\n                &lt;!-- Use resource filtering to replace references to the artifactId in the plugin.xml file --&gt;\n                &lt;directory&gt;src/main/resources&lt;/directory&gt;\n                &lt;filtering&gt;true&lt;/filtering&gt;\n            &lt;/resource&gt;\n        &lt;/resources&gt;\n\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.5&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.felix&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-bundle-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.1&lt;/version&gt;\n                &lt;extensions&gt;true&lt;/extensions&gt;\n                &lt;configuration&gt;\n                    &lt;instructions&gt;\n                        &lt;Bundle-Activator&gt;org.protege.editor.owl.ProtegeOWL&lt;/Bundle-Activator&gt;\n                        &lt;Bundle-SymbolicName&gt;${project.artifactId};singleton:=true&lt;/Bundle-SymbolicName&gt;\n                        &lt;Bundle-Vendor&gt;edu.stanford.protege.&lt;someName&gt;&lt;/Bundle-Vendor&gt;\n                        &lt;Bundle-ClassPath&gt;.&lt;/Bundle-ClassPath&gt;\n                        &lt;Export-Package&gt;\n                            edu.stanford.protege.&lt;someName&gt;.*\n                        &lt;/Export-Package&gt;\n                        &lt;Import-Package&gt;\n                            org.protege.editor.owl.*;version=&quot;5.0.0&quot;, &lt;!-- equivalent to [5.0.0,infinity) --&gt;\n                            org.neo4j.cypherdsl.core,\n                            *\n                        &lt;/Import-Package&gt;\n                        &lt;Include-Resource&gt;{maven-resources}&lt;/Include-Resource&gt;\n                        &lt;executions&gt;\n                            &lt;execution&gt;\n                                &lt;id&gt;bundle-manifest&lt;/id&gt;\n                                &lt;phase&gt;install&lt;/phase&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;manifest&lt;/goal&gt;\n                                &lt;/goals&gt;\n                            &lt;/execution&gt;\n                        &lt;/executions&gt;\n                    &lt;/instructions&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<p>My understanding was that if I include the package name in the <code>&lt;Import-Package&gt;</code> node, then it would work. However, I did not manage to solve the error.</p>\n"},{"tags":["java","spring","spring-boot","enums","spring-data-jpa"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1670839802,"post_id":74769428,"comment_id":131958063,"body_markdown":"`org.hibernate.query.spi.QueryParameterBindingValidator` is not part of spring, but of hibernate. And hibernate requires an `@Enumerated(EnumType.STRING)` on the field","body":"<code>org.hibernate.query.spi.QueryParameterBindingValidator</code> is not part of spring, but of hibernate. And hibernate requires an <code>@Enumerated(EnumType.STRING)</code> on the field"},{"owner":{"account_id":13033187,"reputation":115,"user_id":9418969,"display_name":"okariotis"},"score":0,"creation_date":1670843029,"post_id":74769428,"comment_id":131959054,"body_markdown":"You are right, I mispoke by saying it&#39;s Spring&#39;s. Also, my enum field is already annotated with @Enumerated(EnumType.STRING), and I am debugging this in a freshly created database (mysql) so it is indeed a varchar column - Sorry I forgot to mention it!","body":"You are right, I mispoke by saying it&#39;s Spring&#39;s. Also, my enum field is already annotated with @Enumerated(EnumType.STRING), and I am debugging this in a freshly created database (mysql) so it is indeed a varchar column - Sorry I forgot to mention it!"}],"owner":{"account_id":13033187,"reputation":115,"user_id":9418969,"display_name":"okariotis"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1670842946,"creation_date":1670839503,"question_id":74769428,"body_markdown":"I am using **Spring Boot** (2.7.3) and **Sipios&#39; library for Spring Search** for JPA Entities (https://github.com/sipios/spring-search).\r\n\r\nI am trying make a search based on one of my class&#39;s enum fields, but receive the following error:  \r\n**_InvalidDataAccessApiUsageException: Parameter value [FIRST] did not match expected type [*.MY_ENUM (n/a)];_**\r\n\r\nTo make it clear through an **example**, let&#39;s say I have an entity-class &quot;**_MyClass_**&quot; which has a field &quot;_**MY_ENUM enumField**_&quot;, and _MY_ENUM_ has the values _(&#39;FIRST&#39;, &#39;SECOND&#39;, &#39;THIRD&#39;)_.  \r\nI am trying to query for all _MyClass_ entries that have the value &#39;_FIRST_&#39; in their _enumField_.  \r\nThe *enumField* is annotated with **@Enumerated(EnumType.STRING)**.\r\n\r\n\r\nFor those familiar with the specific library, my HTTP request is: **_localhost:8080/controller/search?search=enumField:FIRST_**.  \r\nI have also tried putting the _FIRST_ query param in single &amp; double quotes but the result was the same. \r\n\r\n**I have traced the problem** to Hibernate&#39;s _org.hibernate.query.spi.QueryParameterBindingValidator_, method _isValidBindValue()_.  \r\nMethod _isValidBindValue()_ checks whether value &quot;**_FIRST_**&quot; is of **_MY_ENUM_** type.\r\n\r\nMore specifically, the line that effectively causes the exception is _expectedType.isInstance(value)_, where _expectedType_ is &quot;_class MY_ENUM_&quot; and _value_ is &quot;_FIRST_&quot;, which evaluates to _**false**_ and thus the error message - values checked via Intellij&#39;s debugger.\r\n\r\nI have tried it with versions **0.2.3 &amp; 0.2.4** of sipios/spring-search.  \r\nI saw that version 0.2.3 should support querying enums but I couldn&#39;t find any relative examples on how to do it, so it may be possible I have misunderstood how to use _spring-search_, but **I would expect Spring Boot to recognise the &quot;*FIRST*&quot; string as an instance of *MY_ENUM* type**.","title":"Sipios&#39; Spring Boot JPA Search - Querying Enum","body":"<p>I am using <strong>Spring Boot</strong> (2.7.3) and <strong>Sipios' library for Spring Search</strong> for JPA Entities (<a href=\"https://github.com/sipios/spring-search\" rel=\"nofollow noreferrer\">https://github.com/sipios/spring-search</a>).</p>\n<p>I am trying make a search based on one of my class's enum fields, but receive the following error:<br />\n<strong><em>InvalidDataAccessApiUsageException: Parameter value [FIRST] did not match expected type [*.MY_ENUM (n/a)];</em></strong></p>\n<p>To make it clear through an <strong>example</strong>, let's say I have an entity-class &quot;<strong><em>MyClass</em></strong>&quot; which has a field &quot;<em><strong>MY_ENUM enumField</strong></em>&quot;, and <em>MY_ENUM</em> has the values <em>('FIRST', 'SECOND', 'THIRD')</em>.<br />\nI am trying to query for all <em>MyClass</em> entries that have the value '<em>FIRST</em>' in their <em>enumField</em>.<br />\nThe <em>enumField</em> is annotated with <strong>@Enumerated(EnumType.STRING)</strong>.</p>\n<p>For those familiar with the specific library, my HTTP request is: <strong><em>localhost:8080/controller/search?search=enumField:FIRST</em></strong>.<br />\nI have also tried putting the <em>FIRST</em> query param in single &amp; double quotes but the result was the same.</p>\n<p><strong>I have traced the problem</strong> to Hibernate's <em>org.hibernate.query.spi.QueryParameterBindingValidator</em>, method <em>isValidBindValue()</em>.<br />\nMethod <em>isValidBindValue()</em> checks whether value &quot;<strong><em>FIRST</em></strong>&quot; is of <strong><em>MY_ENUM</em></strong> type.</p>\n<p>More specifically, the line that effectively causes the exception is <em>expectedType.isInstance(value)</em>, where <em>expectedType</em> is &quot;<em>class MY_ENUM</em>&quot; and <em>value</em> is &quot;<em>FIRST</em>&quot;, which evaluates to <em><strong>false</strong></em> and thus the error message - values checked via Intellij's debugger.</p>\n<p>I have tried it with versions <strong>0.2.3 &amp; 0.2.4</strong> of sipios/spring-search.<br />\nI saw that version 0.2.3 should support querying enums but I couldn't find any relative examples on how to do it, so it may be possible I have misunderstood how to use <em>spring-search</em>, but <strong>I would expect Spring Boot to recognise the &quot;<em>FIRST</em>&quot; string as an instance of <em>MY_ENUM</em> type</strong>.</p>\n"},{"tags":["java","exception","ioexception"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1670842389,"post_id":74769977,"comment_id":131958854,"body_markdown":"Probably because `@author  unascribed` thought it would fit there better","body":"Probably because <code>@author  unascribed</code> thought it would fit there better"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1670842522,"post_id":74769977,"comment_id":131958893,"body_markdown":"_Exception and all its subclasses are defined under java.lang package_ ehh .. no, please check the doc :)","body":"<i>Exception and all its subclasses are defined under java.lang package</i> ehh .. no, please check the doc :)"}],"answers":[{"tags":[],"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670842452,"creation_date":1670842452,"answer_id":74770032,"question_id":74769977,"body_markdown":"A package is *not* a boundary for where classes can subclass/implement other classes or interfaces. They&#39;re merely a means to organize code that belongs together to the same &quot;general region&quot;.\r\n\r\nThe `java.lang` package does not know about everything in the world, so it&#39;s find to have exceptions elsewhere, also in your private `com.example.acme` package. And naturally, they&#39;d inherit/implement the subclasses/interfaces from elsewhere, be it `java.lang`, or any other package.","title":"What is the package under which IOException is defined in Java?","body":"<p>A package is <em>not</em> a boundary for where classes can subclass/implement other classes or interfaces. They're merely a means to organize code that belongs together to the same &quot;general region&quot;.</p>\n<p>The <code>java.lang</code> package does not know about everything in the world, so it's find to have exceptions elsewhere, also in your private <code>com.example.acme</code> package. And naturally, they'd inherit/implement the subclasses/interfaces from elsewhere, be it <code>java.lang</code>, or any other package.</p>\n"}],"owner":{"account_id":14685632,"reputation":19,"user_id":10950812,"display_name":"Mithra"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":211,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1670842452,"creation_date":1670842176,"question_id":74769977,"body_markdown":"Exception and all its subclasses are defined under java.lang package.\r\nBut when the exception message for IOException is printed, unlike other exceptions, it says java.io.IOException rather than java.lang.IOException.\r\n\r\nWhy so?","title":"What is the package under which IOException is defined in Java?","body":"<p>Exception and all its subclasses are defined under java.lang package.\nBut when the exception message for IOException is printed, unlike other exceptions, it says java.io.IOException rather than java.lang.IOException.</p>\n<p>Why so?</p>\n"},{"tags":["java","spring","spring-boot","docker","docker-compose"],"comments":[{"owner":{"account_id":13863020,"reputation":137043,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1670843215,"post_id":74769476,"comment_id":131959110,"body_markdown":"I think of Swarm as more of a cluster-based container engine than a password store.","body":"I think of Swarm as more of a cluster-based container engine than a password store."},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1670843220,"post_id":74769476,"comment_id":131959112,"body_markdown":"Does anybody else have never encrypt passwords, etc. in the docker-compose.yml and application.properties.yml files?","body":"Does anybody else have never encrypt passwords, etc. in the docker-compose.yml and application.properties.yml files?"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1670843313,"post_id":74769476,"comment_id":131959133,"body_markdown":"@DavidMaze Thanks for reply. Actually my purpose it to encrypt passwords in docker-compose.yml and application.properties.yml files rather than storing. So, is it a proper choice for my situation? Or what would you suggest?","body":"@DavidMaze Thanks for reply. Actually my purpose it to encrypt passwords in docker-compose.yml and application.properties.yml files rather than storing. So, is it a proper choice for my situation? Or what would you suggest?"},{"owner":{"account_id":13863020,"reputation":137043,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1670844248,"post_id":74769476,"comment_id":131959469,"body_markdown":"If you have multiple hosts and you have a specific reason to not use Kubernetes then you could consider it.","body":"If you have multiple hosts and you have a specific reason to not use Kubernetes then you could consider it."},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1670844668,"post_id":74769476,"comment_id":131959593,"body_markdown":"I don&#39;t have neither Kubernetes nor multiple host. My purpose is only hiding secrets used in docker-compose.yml and application.properties.yml files on **PRODUCTION** environment. While sharing code with customer, I want to hide passwords on these files and let the customer to run the app by using a private key or any specific command.","body":"I don&#39;t have neither Kubernetes nor multiple host. My purpose is only hiding secrets used in docker-compose.yml and application.properties.yml files on <b>PRODUCTION</b> environment. While sharing code with customer, I want to hide passwords on these files and let the customer to run the app by using a private key or any specific command."},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1670845337,"post_id":74769476,"comment_id":131959794,"body_markdown":"In this case, should I use something like Jasypt? But it does not work properly giving error. Any idea?","body":"In this case, should I use something like Jasypt? But it does not work properly giving error. Any idea?"}],"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670842346,"creation_date":1670839731,"question_id":74769476,"body_markdown":"In a Spring Boot app, I am just trying to encrypt passwords used in the `docker-compose.yml` and `application.properties.yml` files. But I am not sure if `Docker Swarm` is a proper option for me because I share the app with the customer who will run the app via the commands that I provide (e.g. docker-compose using Dockerfile in the project).\r\n\r\nSo, my questions are:\r\n\r\n**1.** Is `Docker Swarm` is a proper option for me to encrypt password in `docker-compose.yml` and `application.properties.yml` files?\r\n\r\n**2.** How can I encrypt the passwords, can you basically explain some steps? ","title":"Docker Swarm to encrypt password in application.properties as docker-compose?","body":"<p>In a Spring Boot app, I am just trying to encrypt passwords used in the <code>docker-compose.yml</code> and <code>application.properties.yml</code> files. But I am not sure if <code>Docker Swarm</code> is a proper option for me because I share the app with the customer who will run the app via the commands that I provide (e.g. docker-compose using Dockerfile in the project).</p>\n<p>So, my questions are:</p>\n<p><strong>1.</strong> Is <code>Docker Swarm</code> is a proper option for me to encrypt password in <code>docker-compose.yml</code> and <code>application.properties.yml</code> files?</p>\n<p><strong>2.</strong> How can I encrypt the passwords, can you basically explain some steps?</p>\n"},{"tags":["java","memory"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1670842414,"post_id":74769998,"comment_id":131958861,"body_markdown":"This feels like an [XY problem](https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem): what are you actually trying to do?","body":"This feels like an <a href=\"https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\">XY problem</a>: what are you actually trying to do?"},{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1670848029,"post_id":74769998,"comment_id":131960632,"body_markdown":"In addition to the very important XY problem that Andy mentioned, there&#39;s also the problem that &quot;Java memory barrier&quot; and &quot;CPU level&quot; don&#39;t mix: Java is explicitly designed to *shield* you from all the nitty-gritty CPU-level details. Which means you don&#39;t *need* to know them but also can&#39;t directly interact with them from Java.","body":"In addition to the very important XY problem that Andy mentioned, there&#39;s also the problem that &quot;Java memory barrier&quot; and &quot;CPU level&quot; don&#39;t mix: Java is explicitly designed to <i>shield</i> you from all the nitty-gritty CPU-level details. Which means you don&#39;t <i>need</i> to know them but also can&#39;t directly interact with them from Java."}],"owner":{"account_id":6871197,"reputation":456,"user_id":5281466,"accept_rate":62,"display_name":"Matrix12"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1670842295,"creation_date":1670842295,"question_id":74769998,"body_markdown":"I am wondering about the mechanism for Memory Barrier on the CPU level, not compile level. Is it possible in Java? The `synchronized` keyword introduces a memory barrier and different to consider like happens-before, etc. \r\nw\r\n\r\n","title":"Java Memory barrier on CPU level","body":"<p>I am wondering about the mechanism for Memory Barrier on the CPU level, not compile level. Is it possible in Java? The <code>synchronized</code> keyword introduces a memory barrier and different to consider like happens-before, etc.\nw</p>\n"},{"tags":["java","indexing","solr","lucene","solrcloud"],"comments":[{"owner":{"account_id":4469374,"reputation":8528,"user_id":3636071,"accept_rate":100,"display_name":"Abhijit Bashetti"},"score":0,"creation_date":1669980055,"post_id":74654678,"comment_id":131771424,"body_markdown":"If similarity model is changes then it may impact your search output","body":"If similarity model is changes then it may impact your search output"},{"owner":{"account_id":9923005,"reputation":21,"user_id":7345536,"display_name":"green blueday"},"score":0,"creation_date":1669980890,"post_id":74654678,"comment_id":131771721,"body_markdown":"I can see in the solr document similarity model has changed from default to BM25Similarity","body":"I can see in the solr document similarity model has changed from default to BM25Similarity"},{"owner":{"account_id":4469374,"reputation":8528,"user_id":3636071,"accept_rate":100,"display_name":"Abhijit Bashetti"},"score":0,"creation_date":1669981160,"post_id":74654678,"comment_id":131771810,"body_markdown":"yes...I have seen this in Elasticsearch as well where they have changes the default similarity model to BM25 and it has a different scoring formula than earlier TF/IDF ....hence you are facing this different search outputs","body":"yes...I have seen this in Elasticsearch as well where they have changes the default similarity model to BM25 and it has a different scoring formula than earlier TF/IDF ....hence you are facing this different search outputs"},{"owner":{"account_id":9923005,"reputation":21,"user_id":7345536,"display_name":"green blueday"},"score":0,"creation_date":1669984403,"post_id":74654678,"comment_id":131772858,"body_markdown":"but from document they have removed the default similarity class itself since 6 ? solr 5 response is the correct and desired response and I wanted to implement that in solr 8 too","body":"but from document they have removed the default similarity class itself since 6 ? solr 5 response is the correct and desired response and I wanted to implement that in solr 8 too"},{"owner":{"account_id":4469374,"reputation":8528,"user_id":3636071,"accept_rate":100,"display_name":"Abhijit Bashetti"},"score":0,"creation_date":1669984542,"post_id":74654678,"comment_id":131772903,"body_markdown":"check if you write your own custom similarity class and use in the schema.xml of solr","body":"check if you write your own custom similarity class and use in the schema.xml of solr"},{"owner":{"account_id":46578,"reputation":50301,"user_id":137650,"display_name":"MatsLindh"},"score":1,"creation_date":1669984914,"post_id":74654678,"comment_id":131773023,"body_markdown":"A change of similarity model would only affect the scores calculated, not the number of entries returned. There might be a difference in how your date string gets tokenized, but generally: if you want to index a birth date, either use a date field with iso format, or if you want to keep this format, use a keyword tokenized field instead to avoid having it be split into `1989`, `01` and `01`.","body":"A change of similarity model would only affect the scores calculated, not the number of entries returned. There might be a difference in how your date string gets tokenized, but generally: if you want to index a birth date, either use a date field with iso format, or if you want to keep this format, use a keyword tokenized field instead to avoid having it be split into <code>1989</code>, <code>01</code> and <code>01</code>."},{"owner":{"account_id":9923005,"reputation":21,"user_id":7345536,"display_name":"green blueday"},"score":0,"creation_date":1670223839,"post_id":74654678,"comment_id":131817446,"body_markdown":"In solr 5 I was using solr.StandardTokenizerFactory and when I search with qf I was able to get the correct set of response, but with the same tokeniser I have to add &quot;&quot; to get the same result. \n\nin solr 5 : fq=birth_date:1989/01/01 \nin solr 8 : fq=birth_date:&quot;1989/01/01&quot;","body":"In solr 5 I was using solr.StandardTokenizerFactory and when I search with qf I was able to get the correct set of response, but with the same tokeniser I have to add &quot;&quot; to get the same result.   in solr 5 : fq=birth_date:1989/01/01  in solr 8 : fq=birth_date:&quot;1989/01/01&quot;"}],"answers":[{"tags":[],"owner":{"account_id":9923005,"reputation":21,"user_id":7345536,"display_name":"green blueday"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670842204,"creation_date":1670842204,"answer_id":74769982,"question_id":74654678,"body_markdown":"After debugging the input query saw that in solr5 the query searched was performing filter \r\n\r\n    &quot;parsed_filter_queries&quot;: [\r\n      &quot;PhraseQuery(birth_date:\\&quot;1989 01 01\\&quot;)&quot;\r\n    ]\r\n\r\nBut in solr 8 it was searching as \r\n\r\n&quot;parsed_filter_queries&quot;:[&quot;birth_date:1989 birth_date:01 birth_date:01&quot;]\r\n\r\nonly after adding double quotes in the fq it changed to phrase query\r\n\r\n**Another workaround was to use** \r\n\r\n    &lt;fieldtype name=&quot;birth_date&quot; class=&quot;solr.TextField&quot; sortMissingLast=&quot;true&quot; omitNorms=&quot;true&quot;&gt;\r\n       &lt;analyzer type=&quot;index&quot;&gt;\r\n          &lt;tokenizer class=&quot;solr.KeywordTokenizerFactory&quot; /&gt;\r\n          &lt;filter class=&quot;solr.PatternReplaceFilterFactory&quot; pattern=&quot;([^0-9])&quot; replacement=&quot;&quot; replace=&quot;all&quot; /&gt;\r\n       &lt;/analyzer&gt;\r\n       &lt;analyzer type=&quot;query&quot;&gt;\r\n          &lt;tokenizer class=&quot;solr.KeywordTokenizerFactory&quot; /&gt;\r\n          &lt;filter class=&quot;solr.PatternReplaceFilterFactory&quot; pattern=&quot;([^0-9])&quot; replacement=&quot;&quot; replace=&quot;all&quot; /&gt;\r\n       &lt;/analyzer&gt;\r\n    &lt;/fieldtype&gt;\r\n\r\n\r\nwhere the query eliminates all special character except numbers \r\n","title":"Search result difference for the same Tokenizers from solr 5 to 8","body":"<p>After debugging the input query saw that in solr5 the query searched was performing filter</p>\n<pre><code>&quot;parsed_filter_queries&quot;: [\n  &quot;PhraseQuery(birth_date:\\&quot;1989 01 01\\&quot;)&quot;\n]\n</code></pre>\n<p>But in solr 8 it was searching as</p>\n<p>&quot;parsed_filter_queries&quot;:[&quot;birth_date:1989 birth_date:01 birth_date:01&quot;]</p>\n<p>only after adding double quotes in the fq it changed to phrase query</p>\n<p><strong>Another workaround was to use</strong></p>\n<pre><code>&lt;fieldtype name=&quot;birth_date&quot; class=&quot;solr.TextField&quot; sortMissingLast=&quot;true&quot; omitNorms=&quot;true&quot;&gt;\n   &lt;analyzer type=&quot;index&quot;&gt;\n      &lt;tokenizer class=&quot;solr.KeywordTokenizerFactory&quot; /&gt;\n      &lt;filter class=&quot;solr.PatternReplaceFilterFactory&quot; pattern=&quot;([^0-9])&quot; replacement=&quot;&quot; replace=&quot;all&quot; /&gt;\n   &lt;/analyzer&gt;\n   &lt;analyzer type=&quot;query&quot;&gt;\n      &lt;tokenizer class=&quot;solr.KeywordTokenizerFactory&quot; /&gt;\n      &lt;filter class=&quot;solr.PatternReplaceFilterFactory&quot; pattern=&quot;([^0-9])&quot; replacement=&quot;&quot; replace=&quot;all&quot; /&gt;\n   &lt;/analyzer&gt;\n&lt;/fieldtype&gt;\n</code></pre>\n<p>where the query eliminates all special character except numbers</p>\n"}],"owner":{"account_id":9923005,"reputation":21,"user_id":7345536,"display_name":"green blueday"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74769982,"answer_count":1,"score":0,"last_activity_date":1670842204,"creation_date":1669978768,"question_id":74654678,"body_markdown":"I have indexed records which contains a filed called birth-date , its not a stored field and also not a date field , it is a text field (solr.TextField) , with a &quot;standard Tokenizers&quot; . In solr 5 when I did a search query\r\n\r\n`q=*:*&amp;fq=birth_date:1989/01/01 `\r\n\r\nI got filtered 33 odd records but when I am doing the same in solr 8 (with the same property ) ,I get more than 6000 results .\r\n\r\nBelow is the schema of the field\r\n\r\n\r\n```\r\n&lt;fieldtype name=&#39;birth_date&#39; class=&#39;solr.TextField&#39; sortMissingLast=&#39;true&#39; omitNorms=&#39;true&#39;\\&gt;\r\n   &lt;analyzer\\&gt;\r\n      &lt;tokenizer class=&#39;solr.StandardTokenizerFactory&#39;/\\&gt;\r\n   &lt;/analyzer\\&gt;\r\n&lt;/fieldtype\\&gt;\r\n\r\n&lt;field name=&#39;birth_date&#39; type=&#39;birth_date&#39; indexed=&#39;true&#39; stored=&#39;false&#39; multiValued=&#39;false&#39; required=&#39;false&#39;/\\&gt;\r\n\r\n```\r\n\r\nFrom solr 5 to 8 I don&#39;t see any change in solr.StandardTokenizerFactory but I did notice default &quot;similarity&quot; has changed , wanted to know why the search not giving same output\r\n\r\ntied to hit `q=*:*&amp;fq=birth_date:1989/01/01 ` , we should get same number of response in solr 5 and solr 8 ","title":"Search result difference for the same Tokenizers from solr 5 to 8","body":"<p>I have indexed records which contains a filed called birth-date , its not a stored field and also not a date field , it is a text field (solr.TextField) , with a &quot;standard Tokenizers&quot; . In solr 5 when I did a search query</p>\n<p><code>q=*:*&amp;fq=birth_date:1989/01/01 </code></p>\n<p>I got filtered 33 odd records but when I am doing the same in solr 8 (with the same property ) ,I get more than 6000 results .</p>\n<p>Below is the schema of the field</p>\n<pre><code>&lt;fieldtype name='birth_date' class='solr.TextField' sortMissingLast='true' omitNorms='true'\\&gt;\n   &lt;analyzer\\&gt;\n      &lt;tokenizer class='solr.StandardTokenizerFactory'/\\&gt;\n   &lt;/analyzer\\&gt;\n&lt;/fieldtype\\&gt;\n\n&lt;field name='birth_date' type='birth_date' indexed='true' stored='false' multiValued='false' required='false'/\\&gt;\n\n</code></pre>\n<p>From solr 5 to 8 I don't see any change in solr.StandardTokenizerFactory but I did notice default &quot;similarity&quot; has changed , wanted to know why the search not giving same output</p>\n<p>tied to hit <code>q=*:*&amp;fq=birth_date:1989/01/01 </code> , we should get same number of response in solr 5 and solr 8</p>\n"},{"tags":["java","ssl"],"answers":[{"tags":[],"owner":{"account_id":1972810,"reputation":393,"user_id":1771330,"accept_rate":38,"display_name":"Shivaji_Vidhale"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635237552,"creation_date":1635237552,"answer_id":69719963,"question_id":65094260,"body_markdown":"You have `ssl.clientAuth` set to `need`. If that is the case, you will have to provide the ZK client config data via a config file using `bin/zkCli.sh -client-configuration client.conf -server localhost:2281` And have the client cert data (truststore/keystore) mentioned along with the server certs to trust in `client.conf`. You can even have the `CLIENT_JVMARGS` set as environment variable as explained in this [ZooKeeper SSL Guide][1]\r\n\r\nA quick way to test connectivity to ZK over TLS would be to `disable` `ssl.clientAuth` on the server side and run a 4 letter word command such as `srvr`, `stat`, or `mntr` with `nc` as: \r\n\r\n`echo mntr | nc --ssl localhost:2281`\r\n\r\nThis will tell you if TLS is setup correctly on the server side and you can connect to the `securePort`. \r\n\r\n\r\n  [1]: https://cwiki.apache.org/confluence/display/ZOOKEEPER/ZooKeeper+SSL+User+Guide","title":"zkCli.sh connect to server on SSL port 2281","body":"<p>You have <code>ssl.clientAuth</code> set to <code>need</code>. If that is the case, you will have to provide the ZK client config data via a config file using <code>bin/zkCli.sh -client-configuration client.conf -server localhost:2281</code> And have the client cert data (truststore/keystore) mentioned along with the server certs to trust in <code>client.conf</code>. You can even have the <code>CLIENT_JVMARGS</code> set as environment variable as explained in this <a href=\"https://cwiki.apache.org/confluence/display/ZOOKEEPER/ZooKeeper+SSL+User+Guide\" rel=\"nofollow noreferrer\">ZooKeeper SSL Guide</a></p>\n<p>A quick way to test connectivity to ZK over TLS would be to <code>disable</code> <code>ssl.clientAuth</code> on the server side and run a 4 letter word command such as <code>srvr</code>, <code>stat</code>, or <code>mntr</code> with <code>nc</code> as:</p>\n<p><code>echo mntr | nc --ssl localhost:2281</code></p>\n<p>This will tell you if TLS is setup correctly on the server side and you can connect to the <code>securePort</code>.</p>\n"},{"tags":[],"owner":{"account_id":27227633,"reputation":1,"user_id":20755889,"display_name":"user20755889"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670841915,"creation_date":1670841915,"answer_id":74769918,"question_id":65094260,"body_markdown":"you dont have to disable ssl.clientAuth\r\nthis command still works (note remove &quot;:&quot;)\r\n`echo mntr | nc --ssl localhost 2281` \r\n`echo ruok | nc --ssl localhost 2281` returns imok too.\r\n\r\n`/etc/zookeeper/secrets/cert.pem`. -- this line seems suspicious. generally you need a jks file form with both cert and key pem entries. seems like you only provide cert.pem and is this a combo file with both cert.pem and key.pem? anyway what worked for me is adding my cert.pem and key.pem to java keystore with a password and using it.\r\nfor ex: Step1 is to generate a pkcs12 and then generate a jks file from this \r\n\r\n    sudo openssl pkcs12 -export -in ${LOCATION_URL}/${CERTS_FOLDER}/cert.pem -inkey ${LOCATION_URL}/${KEYS_FOLDER}/key.pem -name serverpkcs12 -password pass:password &gt; serverpkcs12.p12`\r\n\r\n    keytool -importkeystore -srckeystore serverpkcs12.p12 -srcstoretype pkcs12 -destkeystore zkkeystore.jks -srcstorepass password -deststorepass password`\r\n    move zkkeystore.jks to /tmp\r\n    ssl.quorum.keyStore.location=/tmp/zkkeystore.jks\r\n    ssl.quorum.keyStore.password=password\r\n    ssl.keyStore.location=/tmp/zkkeystore.jks\r\n    ssl.keyStore.password=password\r\n\r\none more suggestion just set the host verification to false \r\non the client side and test it. once it starts working then enable it.\r\n\r\n","title":"zkCli.sh connect to server on SSL port 2281","body":"<p>you dont have to disable ssl.clientAuth\nthis command still works (note remove &quot;:&quot;)\n<code>echo mntr | nc --ssl localhost 2281</code>\n<code>echo ruok | nc --ssl localhost 2281</code> returns imok too.</p>\n<p><code>/etc/zookeeper/secrets/cert.pem</code>. -- this line seems suspicious. generally you need a jks file form with both cert and key pem entries. seems like you only provide cert.pem and is this a combo file with both cert.pem and key.pem? anyway what worked for me is adding my cert.pem and key.pem to java keystore with a password and using it.\nfor ex: Step1 is to generate a pkcs12 and then generate a jks file from this</p>\n<pre><code>sudo openssl pkcs12 -export -in ${LOCATION_URL}/${CERTS_FOLDER}/cert.pem -inkey ${LOCATION_URL}/${KEYS_FOLDER}/key.pem -name serverpkcs12 -password pass:password &gt; serverpkcs12.p12`\n\nkeytool -importkeystore -srckeystore serverpkcs12.p12 -srcstoretype pkcs12 -destkeystore zkkeystore.jks -srcstorepass password -deststorepass password`\nmove zkkeystore.jks to /tmp\nssl.quorum.keyStore.location=/tmp/zkkeystore.jks\nssl.quorum.keyStore.password=password\nssl.keyStore.location=/tmp/zkkeystore.jks\nssl.keyStore.password=password\n</code></pre>\n<p>one more suggestion just set the host verification to false\non the client side and test it. once it starts working then enable it.</p>\n"}],"owner":{"account_id":20105644,"reputation":11,"user_id":14743240,"display_name":"Anoop Negi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2031,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1670841915,"creation_date":1606839260,"question_id":65094260,"body_markdown":"We are facing issue in connecting to Zookeeper server on port(secureport) 2281,\r\ntrying with\r\nzkCli.sh -server localhost:2281\r\nhow to connect to zk over SSL\r\n```\r\n      at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1262) [zookeeper-3.6.1.jar:3.6.1]\r\n2020-12-01T15:59:48.672+0000 [myid:localhost:2281] - INFO  [main-SendThread(localhost:2281):ClientCnxn$SendThread@1154] - Opening socket connection to server localhost/127.0.0.1:2281.\r\n2020-12-01T15:59:48.672+0000 [myid:localhost:2281] - INFO  [main-SendThread(localhost:2281):ClientCnxn$SendThread@1156] - SASL config status: Will not attempt to authenticate using SASL (unknown error)\r\n2020-12-01T15:59:48.673+0000 [myid:localhost:2281] - INFO  [main-SendThread(localhost:2281):ClientCnxn$SendThread@986] - Socket connection established, initiating session, client: /127.0.0.1:55104, server: localhost/127.0.0.1:2281\r\n2020-12-01T15:59:48.675+0000 [myid:localhost:2281] - WARN  [main-SendThread(localhost:2281):ClientCnxn$SendThread@1272] - Session 0x0 for sever localhost/127.0.0.1:2281, Closing socket connection. Attempting reconnect except it is a SessionExpiredException.\r\norg.apache.zookeeper.ClientCnxn$EndOfStreamException: Unable to read additional data from server sessionid 0x0, likely server has closed socket\r\n        at org.apache.zookeeper.ClientCnxnSocketNIO.doIO(ClientCnxnSocketNIO.java:75) ~[zookeeper-3.6.1.jar:3.6.1]\r\n        at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:348) ~[zookeeper-3.6.1.jar:3.6.1]\r\n        at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1262) [zookeeper-3.6.1.jar:3.6.1]\r\n2020-12-01T15:59:50.562+0000 [myid:localhost:2281] - INFO  [main-SendThread(localhost:2281):ClientCnxn$SendThread@1154] - Opening socket connection to server localhost/127.0.0.1:2281.\r\n2020-12-01T15:59:50.562+0000 [myid:localhost:2281] - INFO  [main-SendThread(localhost:2281):ClientCnxn$SendThread@1156] - SASL config status: Will not attempt to authenticate using SASL (unknown error)\r\n2020-12-01T15:59:50.563+0000 [myid:localhost:2281] - INFO  [main-SendThread(localhost:2281):ClientCnxn$SendThread@986] - Socket connection established, initiating session, client: /127.0.0.1:55118, server: localhost/127.0.0.1:2281\r\n2020-12-01T15:59:50.565+0000 [myid:localhost:2281] - WARN  [main-SendThread(localhost:2281):ClientCnxn$SendThread@1272] - Session 0x0 for sever localhost/127.0.0.1:2281, Closing socket connection. Attempting reconnect except it is a SessionExpiredException.\r\norg.apache.zookeeper.ClientCnxn$EndOfStreamException: Unable to read additional data from server sessionid 0x0, likely server has closed socket\r\n        at org.apache.zookeeper.ClientCnxnSocketNIO.doIO(ClientCnxnSocketNIO.java:75) ~[zookeeper-3.6.1.jar:3.6.1]\r\n        at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:348) ~[zookeeper-3.6.1.jar:3.6.1]\r\n        at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1262) [zookeeper-3.6.1.jar:3.6.1]\r\n2020-12-01T15:59:52.068+0000 [myid:localhost:2281] - INFO  [main-SendThread(localhost:2281):ClientCnxn$SendThread@1154] - Opening socket connection to server localhost/127.0.0.1:2281.\r\n2020-12-01T15:59:52.068+0000 [myid:localhost:2281] - INFO  [main-SendThread(localhost:2281):ClientCnxn$SendThread@1156] - SASL config status: Will not attempt to authenticate using SASL (unknown error)\r\n2020-12-01T15:59:52.069+0000 [myid:localhost:2281] - INFO  [main-SendThread(localhost:2281):ClientCnxn$SendThread@986] - Socket connection established, initiating session, client: /127.0.0.1:55140, server: localhost/127.0.0.1:2281\r\n2020-12-01T15:59:52.071+0000 [myid:localhost:2281] - WARN  [main-SendThread(localhost:2281):ClientCnxn$SendThread@1272] - Session 0x0 for sever localhost/127.0.0.1:2281, Closing socket connection. Attempting reconnect except it is a SessionExpiredException.\r\norg.apache.zookeeper.ClientCnxn$EndOfStreamException: Unable to read additional data from server sessionid 0x0, likely server has closed socket\r\n        at org.apache.zookeeper.ClientCnxnSocketNIO.doIO(ClientCnxnSocketNIO.java:75) ~[zookeeper-3.6.1.jar:3.6.1]\r\n        at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:348) ~[zookeeper-3.6.1.jar:3.6.1]\r\n        at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1262) [zookeeper-3.6.1.jar:3.6.1]\r\n```\r\n\r\nserver configuration\r\n```\r\n  authProvider.loadableX509=com.mom.generic.conn.authentication.AuthenticationLoader\r\n  ssl.authProvider=loadableX509\r\n  serverCnxnFactory=org.apache.zookeeper.server.NettyServerCnxnFactory\r\n  sslQuorumReloadCertFiles=true\r\n  secureClientPort=2281\r\n  sslQuorum=false\r\n  portUnification=true\r\n  ssl.quorum.clientAuth=need\r\n  ssl.quorum.hostnameVerification=true\r\n  ssl.quorum.keyStore.location=/etc/zookeeper/secrets/cert.pem\r\n  ssl.quorum.trustStore.location=/run/zookeeper/secrets/tlsca/cacertpem\r\n  ssl.trustStore.location=/run/zookeeper/secrets/client_ca/clientca.pem\r\n  ssl.keyStore.location=/etc/zookeeper/secrets/cert.pem\r\n  ssl.clientAuth=need\r\n```\r\n\r\nwould need help on this.","title":"zkCli.sh connect to server on SSL port 2281","body":"<p>We are facing issue in connecting to Zookeeper server on port(secureport) 2281,\ntrying with\nzkCli.sh -server localhost:2281\nhow to connect to zk over SSL</p>\n<pre><code>      at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1262) [zookeeper-3.6.1.jar:3.6.1]\n2020-12-01T15:59:48.672+0000 [myid:localhost:2281] - INFO  [main-SendThread(localhost:2281):ClientCnxn$SendThread@1154] - Opening socket connection to server localhost/127.0.0.1:2281.\n2020-12-01T15:59:48.672+0000 [myid:localhost:2281] - INFO  [main-SendThread(localhost:2281):ClientCnxn$SendThread@1156] - SASL config status: Will not attempt to authenticate using SASL (unknown error)\n2020-12-01T15:59:48.673+0000 [myid:localhost:2281] - INFO  [main-SendThread(localhost:2281):ClientCnxn$SendThread@986] - Socket connection established, initiating session, client: /127.0.0.1:55104, server: localhost/127.0.0.1:2281\n2020-12-01T15:59:48.675+0000 [myid:localhost:2281] - WARN  [main-SendThread(localhost:2281):ClientCnxn$SendThread@1272] - Session 0x0 for sever localhost/127.0.0.1:2281, Closing socket connection. Attempting reconnect except it is a SessionExpiredException.\norg.apache.zookeeper.ClientCnxn$EndOfStreamException: Unable to read additional data from server sessionid 0x0, likely server has closed socket\n        at org.apache.zookeeper.ClientCnxnSocketNIO.doIO(ClientCnxnSocketNIO.java:75) ~[zookeeper-3.6.1.jar:3.6.1]\n        at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:348) ~[zookeeper-3.6.1.jar:3.6.1]\n        at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1262) [zookeeper-3.6.1.jar:3.6.1]\n2020-12-01T15:59:50.562+0000 [myid:localhost:2281] - INFO  [main-SendThread(localhost:2281):ClientCnxn$SendThread@1154] - Opening socket connection to server localhost/127.0.0.1:2281.\n2020-12-01T15:59:50.562+0000 [myid:localhost:2281] - INFO  [main-SendThread(localhost:2281):ClientCnxn$SendThread@1156] - SASL config status: Will not attempt to authenticate using SASL (unknown error)\n2020-12-01T15:59:50.563+0000 [myid:localhost:2281] - INFO  [main-SendThread(localhost:2281):ClientCnxn$SendThread@986] - Socket connection established, initiating session, client: /127.0.0.1:55118, server: localhost/127.0.0.1:2281\n2020-12-01T15:59:50.565+0000 [myid:localhost:2281] - WARN  [main-SendThread(localhost:2281):ClientCnxn$SendThread@1272] - Session 0x0 for sever localhost/127.0.0.1:2281, Closing socket connection. Attempting reconnect except it is a SessionExpiredException.\norg.apache.zookeeper.ClientCnxn$EndOfStreamException: Unable to read additional data from server sessionid 0x0, likely server has closed socket\n        at org.apache.zookeeper.ClientCnxnSocketNIO.doIO(ClientCnxnSocketNIO.java:75) ~[zookeeper-3.6.1.jar:3.6.1]\n        at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:348) ~[zookeeper-3.6.1.jar:3.6.1]\n        at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1262) [zookeeper-3.6.1.jar:3.6.1]\n2020-12-01T15:59:52.068+0000 [myid:localhost:2281] - INFO  [main-SendThread(localhost:2281):ClientCnxn$SendThread@1154] - Opening socket connection to server localhost/127.0.0.1:2281.\n2020-12-01T15:59:52.068+0000 [myid:localhost:2281] - INFO  [main-SendThread(localhost:2281):ClientCnxn$SendThread@1156] - SASL config status: Will not attempt to authenticate using SASL (unknown error)\n2020-12-01T15:59:52.069+0000 [myid:localhost:2281] - INFO  [main-SendThread(localhost:2281):ClientCnxn$SendThread@986] - Socket connection established, initiating session, client: /127.0.0.1:55140, server: localhost/127.0.0.1:2281\n2020-12-01T15:59:52.071+0000 [myid:localhost:2281] - WARN  [main-SendThread(localhost:2281):ClientCnxn$SendThread@1272] - Session 0x0 for sever localhost/127.0.0.1:2281, Closing socket connection. Attempting reconnect except it is a SessionExpiredException.\norg.apache.zookeeper.ClientCnxn$EndOfStreamException: Unable to read additional data from server sessionid 0x0, likely server has closed socket\n        at org.apache.zookeeper.ClientCnxnSocketNIO.doIO(ClientCnxnSocketNIO.java:75) ~[zookeeper-3.6.1.jar:3.6.1]\n        at org.apache.zookeeper.ClientCnxnSocketNIO.doTransport(ClientCnxnSocketNIO.java:348) ~[zookeeper-3.6.1.jar:3.6.1]\n        at org.apache.zookeeper.ClientCnxn$SendThread.run(ClientCnxn.java:1262) [zookeeper-3.6.1.jar:3.6.1]\n</code></pre>\n<p>server configuration</p>\n<pre><code>  authProvider.loadableX509=com.mom.generic.conn.authentication.AuthenticationLoader\n  ssl.authProvider=loadableX509\n  serverCnxnFactory=org.apache.zookeeper.server.NettyServerCnxnFactory\n  sslQuorumReloadCertFiles=true\n  secureClientPort=2281\n  sslQuorum=false\n  portUnification=true\n  ssl.quorum.clientAuth=need\n  ssl.quorum.hostnameVerification=true\n  ssl.quorum.keyStore.location=/etc/zookeeper/secrets/cert.pem\n  ssl.quorum.trustStore.location=/run/zookeeper/secrets/tlsca/cacertpem\n  ssl.trustStore.location=/run/zookeeper/secrets/client_ca/clientca.pem\n  ssl.keyStore.location=/etc/zookeeper/secrets/cert.pem\n  ssl.clientAuth=need\n</code></pre>\n<p>would need help on this.</p>\n"},{"tags":["java","graphql","graphql-java"],"owner":{"account_id":27227159,"reputation":11,"user_id":20755487,"display_name":"Terence"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1670841535,"creation_date":1670841535,"question_id":74769844,"body_markdown":"I will like to limit the maximum size of the Upload scalar parameter by using schema directives but it does not work. See my code below:\r\n\r\n```\r\ndirective @Size(min : Int = 0, max : Int = 1, message : String = &quot;graphql.validation.Size.message&quot;) on ARGUMENT_DEFINITION | INPUT_FIELD_DEFINITION\r\n\r\ndirective @Max(value : Int = 1048576, message : String = &quot;graphql.validation.Max.message&quot;) on SCALAR\r\n\r\nscalar Upload @Max\r\n\r\ntype Mutation {\r\n    uploadFile(files: [Upload!] @Size(max : 1)): boolean\r\n}\r\n```\r\n\r\nLooking forward to receiving help from everyone.","title":"Graphql Java upload scalar maximum size","body":"<p>I will like to limit the maximum size of the Upload scalar parameter by using schema directives but it does not work. See my code below:</p>\n<pre><code>directive @Size(min : Int = 0, max : Int = 1, message : String = &quot;graphql.validation.Size.message&quot;) on ARGUMENT_DEFINITION | INPUT_FIELD_DEFINITION\n\ndirective @Max(value : Int = 1048576, message : String = &quot;graphql.validation.Max.message&quot;) on SCALAR\n\nscalar Upload @Max\n\ntype Mutation {\n    uploadFile(files: [Upload!] @Size(max : 1)): boolean\n}\n</code></pre>\n<p>Looking forward to receiving help from everyone.</p>\n"},{"tags":["javascript","java","zk","zul"],"answers":[{"tags":[],"owner":{"account_id":12839224,"reputation":431,"user_id":9287770,"display_name":"MDuchemin"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670841224,"creation_date":1670841224,"answer_id":74769764,"question_id":74614636,"body_markdown":"There are a few approaches you can consider depending on your full requirement.\r\n\r\n#1 The page located inside of the iframe and the outer page may communicate directly, using the window postMessage API:\r\nhttps://developer.mozilla.org/en-US/docs/Web/API/Window/postMessage\r\n\r\nThis require a bit of setting up, but allows the page located in the iframe to post an event to the parent page. The event has a data field, which you can use to transfer data.\r\nThe parent page can subscribe to such event, and read the event data.\r\n\r\nWith this method, you don&#39;t actually need to write stuff to the session at server-side, since this communication happen fully at client-side.\r\nThis is good if the server doesn&#39;t care about knowing the value. \r\n\r\n#2 saving the object in session from the inner page, using it from the outer page\r\nYou are already setting the session attribute in the native session:\r\n\r\n    HttpSession session = (HttpSession)(Executions.getCurrent()).getDesktop().getSession().getNativeSession();\r\n    session.setAttribute(&quot;key&quot;,&quot;testing&quot;);\r\n\r\nNote that session attributes are Java-side only. They are not automatically returned to the client as cookies.\r\nYou can add a cookie with the same value to your response, if you want to handle this by cookies:\r\nhttps://www.zkoss.org/wiki/ZK_Developer%27s_Reference/UI_Patterns/Communication/Inter-Application_Communication#Use_Cookie\r\n\r\nHowever, this is a bit overkill because ZK is a communication framework and you can already pass the value to the outer zul page in a number of ways.\r\n\r\nFirst, you can just execute arbitrary JS on the page using the Clients#evalJavascript method.\r\n\r\nhttps://www.zkoss.org/wiki/ZK_Developer&#39;s_Reference/UI_Patterns/Useful_Java_Utilities#evalJavaScript\r\n\r\nWith that, you can just build a JS call containing your value retrieved at server side, and execute it in client. Should look like this:\r\n\r\n    String myValue = ... //retrieve your server-side value;\r\n    Clients.evalJavascript(&quot;myClientSideFunction(&#39;&quot;+myValue+&quot;&#39;)&quot;); //executed in an execution of the zul page.\r\n\r\nBut you can also use that value as a client-attribute, pass it as a component value, etc.\r\n\r\nThere are a lot of arbitrary things you can do to pass that value back to the client, all with pros and cons.\r\nFor example, if you want to put that value back into a textbox, you can simply use the textbox#setValue method. It really depends on what you are looking to achieve.","title":"Connection between Java and Javascript through ZK framework","body":"<p>There are a few approaches you can consider depending on your full requirement.</p>\n<p>#1 The page located inside of the iframe and the outer page may communicate directly, using the window postMessage API:\n<a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Window/postMessage\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/API/Window/postMessage</a></p>\n<p>This require a bit of setting up, but allows the page located in the iframe to post an event to the parent page. The event has a data field, which you can use to transfer data.\nThe parent page can subscribe to such event, and read the event data.</p>\n<p>With this method, you don't actually need to write stuff to the session at server-side, since this communication happen fully at client-side.\nThis is good if the server doesn't care about knowing the value.</p>\n<p>#2 saving the object in session from the inner page, using it from the outer page\nYou are already setting the session attribute in the native session:</p>\n<pre><code>HttpSession session = (HttpSession)(Executions.getCurrent()).getDesktop().getSession().getNativeSession();\nsession.setAttribute(&quot;key&quot;,&quot;testing&quot;);\n</code></pre>\n<p>Note that session attributes are Java-side only. They are not automatically returned to the client as cookies.\nYou can add a cookie with the same value to your response, if you want to handle this by cookies:\n<a href=\"https://www.zkoss.org/wiki/ZK_Developer%27s_Reference/UI_Patterns/Communication/Inter-Application_Communication#Use_Cookie\" rel=\"nofollow noreferrer\">https://www.zkoss.org/wiki/ZK_Developer%27s_Reference/UI_Patterns/Communication/Inter-Application_Communication#Use_Cookie</a></p>\n<p>However, this is a bit overkill because ZK is a communication framework and you can already pass the value to the outer zul page in a number of ways.</p>\n<p>First, you can just execute arbitrary JS on the page using the Clients#evalJavascript method.</p>\n<p><a href=\"https://www.zkoss.org/wiki/ZK_Developer%27s_Reference/UI_Patterns/Useful_Java_Utilities#evalJavaScript\" rel=\"nofollow noreferrer\">https://www.zkoss.org/wiki/ZK_Developer's_Reference/UI_Patterns/Useful_Java_Utilities#evalJavaScript</a></p>\n<p>With that, you can just build a JS call containing your value retrieved at server side, and execute it in client. Should look like this:</p>\n<pre><code>String myValue = ... //retrieve your server-side value;\nClients.evalJavascript(&quot;myClientSideFunction('&quot;+myValue+&quot;')&quot;); //executed in an execution of the zul page.\n</code></pre>\n<p>But you can also use that value as a client-attribute, pass it as a component value, etc.</p>\n<p>There are a lot of arbitrary things you can do to pass that value back to the client, all with pros and cons.\nFor example, if you want to put that value back into a textbox, you can simply use the textbox#setValue method. It really depends on what you are looking to achieve.</p>\n"}],"owner":{"account_id":7995312,"reputation":306,"user_id":6031830,"display_name":"Nissus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":327,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74769764,"answer_count":1,"score":0,"last_activity_date":1670841224,"creation_date":1669727537,"question_id":74614636,"body_markdown":"I have been facing an issue with the communication between java and javascript through zk framework in a iframe. \r\nIn simple words, I want to save a string in the current session and access it (or even overwrite it) in javascript.\r\n\r\nmy java lines:\r\n\r\n    HttpSession session = (HttpSession)(Executions.getCurrent()).getDesktop().getSession().getNativeSession();\r\n    session.setAttribute(&quot;key&quot;,&quot;testing&quot;);\r\n\r\n\r\nmy zul lines:\r\n\r\n    &lt;iframe id = &quot;change_option&quot; src=&quot;select_one_option.html&quot; scrolling=&quot;no&quot; width=&quot;700px&quot; height=&quot;400px&quot; &gt; &lt;/iframe&gt;\r\n\r\nmy javascript lines in the html file:\r\n\r\n    var session= /SESS\\w*ID=([^;]+)/i.test(document.cookie) ? RegExp.$1 : false;  //finds the correct session id + desktop name?\r\n    session = session.substring(0, session.indexOf(&#39;.&#39;)); //removes desktop name and keeps just the session id in a string \r\n\r\n    //another try\r\n    console.log(&quot;Saved: &quot; + sessionStorage.getItem(&quot;key&quot;)); //returns &quot;Saved: null&quot; \r\n    \r\n    //another try \r\n    var username = &#39;&lt;%= Session[&quot;key&quot;] =%&gt;&#39;\r\n    console.log ( &quot; Variable is : &quot; + username) //returns  &quot;&lt;%= Session[&quot;key&quot;] %&quot;\r\n\r\n\r\nSince the html file is big I thought it would be better to do it through iframe and not try to rewrite inside the zul file. Any suggestion is highly appreciated.","title":"Connection between Java and Javascript through ZK framework","body":"<p>I have been facing an issue with the communication between java and javascript through zk framework in a iframe.\nIn simple words, I want to save a string in the current session and access it (or even overwrite it) in javascript.</p>\n<p>my java lines:</p>\n<pre><code>HttpSession session = (HttpSession)(Executions.getCurrent()).getDesktop().getSession().getNativeSession();\nsession.setAttribute(&quot;key&quot;,&quot;testing&quot;);\n</code></pre>\n<p>my zul lines:</p>\n<pre><code>&lt;iframe id = &quot;change_option&quot; src=&quot;select_one_option.html&quot; scrolling=&quot;no&quot; width=&quot;700px&quot; height=&quot;400px&quot; &gt; &lt;/iframe&gt;\n</code></pre>\n<p>my javascript lines in the html file:</p>\n<pre><code>var session= /SESS\\w*ID=([^;]+)/i.test(document.cookie) ? RegExp.$1 : false;  //finds the correct session id + desktop name?\nsession = session.substring(0, session.indexOf('.')); //removes desktop name and keeps just the session id in a string \n\n//another try\nconsole.log(&quot;Saved: &quot; + sessionStorage.getItem(&quot;key&quot;)); //returns &quot;Saved: null&quot; \n\n//another try \nvar username = '&lt;%= Session[&quot;key&quot;] =%&gt;'\nconsole.log ( &quot; Variable is : &quot; + username) //returns  &quot;&lt;%= Session[&quot;key&quot;] %&quot;\n</code></pre>\n<p>Since the html file is big I thought it would be better to do it through iframe and not try to rewrite inside the zul file. Any suggestion is highly appreciated.</p>\n"},{"tags":["java","spring-boot","gradle","configuration","spring-logback"],"answers":[{"comments":[{"owner":{"account_id":12296207,"reputation":1838,"user_id":8971773,"accept_rate":25,"display_name":"Kira Resari"},"score":0,"creation_date":1671090124,"post_id":74769438,"comment_id":132023732,"body_markdown":"Nice! It&#39;s so easy once you know the magic words, but I&#39;ve been searching so long for them without success. You&#39;d think this would be documented in a place where it&#39;s easier to find. Thank you so much! =^,^=","body":"Nice! It&#39;s so easy once you know the magic words, but I&#39;ve been searching so long for them without success. You&#39;d think this would be documented in a place where it&#39;s easier to find. Thank you so much! =^,^="}],"tags":[],"owner":{"account_id":442405,"reputation":2504,"user_id":833009,"accept_rate":50,"display_name":"jvwilge"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670839566,"creation_date":1670839566,"answer_id":74769438,"question_id":74744223,"body_markdown":"I think you should use `logging.config` instead of `logback.configurationFile`. \r\n\r\nhttps://docs.spring.io/spring-boot/docs/2.7.6/reference/html/features.html#features.logging.custom-log-configuration\r\n\r\n\r\nThis one got me in trouble too once, but I was lucky to receive an error message: https://github.com/spring-projects/spring-boot/issues/4969","title":"How to set path to logback configuration file in spring bootRun task in gradle","body":"<p>I think you should use <code>logging.config</code> instead of <code>logback.configurationFile</code>.</p>\n<p><a href=\"https://docs.spring.io/spring-boot/docs/2.7.6/reference/html/features.html#features.logging.custom-log-configuration\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/2.7.6/reference/html/features.html#features.logging.custom-log-configuration</a></p>\n<p>This one got me in trouble too once, but I was lucky to receive an error message: <a href=\"https://github.com/spring-projects/spring-boot/issues/4969\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-boot/issues/4969</a></p>\n"}],"owner":{"account_id":12296207,"reputation":1838,"user_id":8971773,"accept_rate":25,"display_name":"Kira Resari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":457,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74769438,"answer_count":1,"score":0,"last_activity_date":1670839566,"creation_date":1670594842,"question_id":74744223,"body_markdown":"I am currently trying to restructure my Spring Boot project so that all the configuration files are no longer bundled in the jar. However, I still want the bootRun task to make use of them.\r\n\r\nFor the `application.properties`, I was able to do that quite easily by pulling it out of the `src/resources` folder and onto the surface of the project (for now) and adding this to the `build.gradle`:\r\n\r\n```\r\ntasks.named(&quot;bootRun&quot;) {\r\n\tsystemProperty &quot;spring.config.location&quot;, &quot;file:$projectDir/&quot;\r\n\tmainClass = &quot;my.project.MyMainClass&quot;\r\n}\r\n```\r\n\r\nFor the logback configuration, I was trying the same thing, so:\r\n\r\n```\r\ntasks.named(&quot;bootRun&quot;) {\r\n\tsystemProperty &quot;spring.config.location&quot;, &quot;file:$projectDir/&quot;\r\n\tsystemProperty &quot;logback.configurationFile&quot;, &quot;file:$projectDir/&quot;\r\n\tmainClass = &quot;my.project.MyMainClass&quot;\r\n}\r\n```\r\n...however, that did not work at all. Now instead of the logback configuration that I configured I just get the default configuration.\r\n\r\nWhat am I doing wrong here? Based on what I&#39;ve managed to find, this should work. My `logback-spring.xml` is located directly next to the `application.properties`.\r\n\r\nVariations which I&#39;ve also tried to the same end:\r\n```\r\n\tsystemProperty &quot;logback.configurationFile&quot;, &quot;file:$projectDir/logback-spring.xml&quot;\r\n\tsystemProperty &quot;logback.configurationFile&quot;, &quot;$projectDir/logback-spring.xml&quot;\r\n\tsystemProperty &quot;logback.configurationFile&quot;, &quot;C:/projects/myProject/logback-spring.xml&quot;\r\n\tsystemProperty &quot;logback.configurationFile&quot;, &quot;file:C:/projects/myProject/logback-spring.xml&quot;\r\n```\r\n\r\n----\r\n\r\n**Update:**\r\n\r\nI have now debugged it a bit and arrived at this, which I feel even more should work, but doesn&#39;t:\r\n\r\n```\r\ntasks.named(&quot;bootRun&quot;) {\r\n\tprintln &quot;Hi, I&#39;m BootRun!&quot;\r\n\tSystem.setProperty(&quot;spring.config.location&quot;, &quot;file:$projectDir/&quot;)\r\n\tprintln &quot;System Property spring.config.location is: &quot; + System.getProperty(&#39;spring.config.location&#39;)\r\n\tSystem.setProperty(&quot;Logback.configurationFile&quot;, &quot;$projectDir\\\\logback-spring.xml&quot;)\r\n\tprintln &quot;System Property Logback.configurationFile is: &quot; + System.getProperty(&#39;Logback.configurationFile&#39;)\r\n\tmainClass = &quot;myProject.MyMainClass&quot;\r\n}\r\n```\r\n\r\nThis gives me this output at the beginning of each build, way before Spring starts up:\r\n\r\n```\r\n&gt; Configure project :\r\n$0.1.0-SNAPSHOT$\r\nHi, I&#39;m BootRun!\r\nSystem Property spring.config.location is: file:C:\\projects\\myProject/\r\nSystem Property Logback.configurationFile is: C:\\projects\\myProject\\logback-spring.xml\r\n\r\n&gt; Task :createVersionFile\r\ncreateVersionFile called. Path C:\\projects\\myProject\\src\\main\\java\\myProject\r\n\r\n&gt; Task :compileJava\r\n&gt; Task :processResources NO-SOURCE\r\n&gt; Task :classes\r\n\r\n&gt; Task :bootRun\r\n\r\n  .   ____          _            __ _ _\r\n /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n  &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n =========|_|==============|___/=/_/_/_/\r\n :: Spring Boot ::                (v2.7.4)\r\n[...}\r\n```\r\n\r\nIt feels like this should work to me, because the path to the `logback-spring.xml`. But could it maybe be an issue because it&#39;s run as part of a different task? That would feel weird because those are system variables...","title":"How to set path to logback configuration file in spring bootRun task in gradle","body":"<p>I am currently trying to restructure my Spring Boot project so that all the configuration files are no longer bundled in the jar. However, I still want the bootRun task to make use of them.</p>\n<p>For the <code>application.properties</code>, I was able to do that quite easily by pulling it out of the <code>src/resources</code> folder and onto the surface of the project (for now) and adding this to the <code>build.gradle</code>:</p>\n<pre><code>tasks.named(&quot;bootRun&quot;) {\n    systemProperty &quot;spring.config.location&quot;, &quot;file:$projectDir/&quot;\n    mainClass = &quot;my.project.MyMainClass&quot;\n}\n</code></pre>\n<p>For the logback configuration, I was trying the same thing, so:</p>\n<pre><code>tasks.named(&quot;bootRun&quot;) {\n    systemProperty &quot;spring.config.location&quot;, &quot;file:$projectDir/&quot;\n    systemProperty &quot;logback.configurationFile&quot;, &quot;file:$projectDir/&quot;\n    mainClass = &quot;my.project.MyMainClass&quot;\n}\n</code></pre>\n<p>...however, that did not work at all. Now instead of the logback configuration that I configured I just get the default configuration.</p>\n<p>What am I doing wrong here? Based on what I've managed to find, this should work. My <code>logback-spring.xml</code> is located directly next to the <code>application.properties</code>.</p>\n<p>Variations which I've also tried to the same end:</p>\n<pre><code>    systemProperty &quot;logback.configurationFile&quot;, &quot;file:$projectDir/logback-spring.xml&quot;\n    systemProperty &quot;logback.configurationFile&quot;, &quot;$projectDir/logback-spring.xml&quot;\n    systemProperty &quot;logback.configurationFile&quot;, &quot;C:/projects/myProject/logback-spring.xml&quot;\n    systemProperty &quot;logback.configurationFile&quot;, &quot;file:C:/projects/myProject/logback-spring.xml&quot;\n</code></pre>\n<hr />\n<p><strong>Update:</strong></p>\n<p>I have now debugged it a bit and arrived at this, which I feel even more should work, but doesn't:</p>\n<pre><code>tasks.named(&quot;bootRun&quot;) {\n    println &quot;Hi, I'm BootRun!&quot;\n    System.setProperty(&quot;spring.config.location&quot;, &quot;file:$projectDir/&quot;)\n    println &quot;System Property spring.config.location is: &quot; + System.getProperty('spring.config.location')\n    System.setProperty(&quot;Logback.configurationFile&quot;, &quot;$projectDir\\\\logback-spring.xml&quot;)\n    println &quot;System Property Logback.configurationFile is: &quot; + System.getProperty('Logback.configurationFile')\n    mainClass = &quot;myProject.MyMainClass&quot;\n}\n</code></pre>\n<p>This gives me this output at the beginning of each build, way before Spring starts up:</p>\n<pre><code>&gt; Configure project :\n$0.1.0-SNAPSHOT$\nHi, I'm BootRun!\nSystem Property spring.config.location is: file:C:\\projects\\myProject/\nSystem Property Logback.configurationFile is: C:\\projects\\myProject\\logback-spring.xml\n\n&gt; Task :createVersionFile\ncreateVersionFile called. Path C:\\projects\\myProject\\src\\main\\java\\myProject\n\n&gt; Task :compileJava\n&gt; Task :processResources NO-SOURCE\n&gt; Task :classes\n\n&gt; Task :bootRun\n\n  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::                (v2.7.4)\n[...}\n</code></pre>\n<p>It feels like this should work to me, because the path to the <code>logback-spring.xml</code>. But could it maybe be an issue because it's run as part of a different task? That would feel weird because those are system variables...</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2784842,"reputation":67281,"user_id":2396539,"accept_rate":78,"display_name":"Aniket Thakur"},"score":6,"creation_date":1377241964,"post_id":18396927,"comment_id":27019438,"body_markdown":"Firstly it&#39;s not called redefining it&#39;s called overriding","body":"Firstly it&#39;s not called redefining it&#39;s called overriding"},{"owner":{"account_id":1292873,"reputation":3582,"user_id":1244610,"display_name":"Matthias"},"score":3,"creation_date":1377241967,"post_id":18396927,"comment_id":27019442,"body_markdown":"But the default implementation does not return the adress of the object. It returns the class name and the hashCode of that object. From the documentation of java.lang.Object: &#39;getClass().getName() + &#39;@&#39; + Integer.toHexString(hashCode())&#39;","body":"But the default implementation does not return the adress of the object. It returns the class name and the hashCode of that object. From the documentation of java.lang.Object: &#39;getClass().getName() + &#39;@&#39; + Integer.toHexString(hashCode())&#39;"},{"owner":{"account_id":1859171,"reputation":3557,"user_id":1684123,"accept_rate":48,"display_name":"Kifsif"},"score":0,"creation_date":1377242561,"post_id":18396927,"comment_id":27019724,"body_markdown":"Well, yes. But the hash code is the address. Look at the documentation for Object hashCode: This is typically implemented by converting the internal address of the object into an integer, but this implementation technique is not required by the JavaTM programming language. So, the hash code is just the same hex number representing the address. But its converted into decimal.","body":"Well, yes. But the hash code is the address. Look at the documentation for Object hashCode: This is typically implemented by converting the internal address of the object into an integer, but this implementation technique is not required by the JavaTM programming language. So, the hash code is just the same hex number representing the address. But its converted into decimal."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":2,"creation_date":1377243084,"post_id":18396927,"comment_id":27019960,"body_markdown":"Well, no. It *can* be the address, but there is no guaranteee. You were therefore never able to print the address reliably in the first place, regardless of whether or not you overrode `toString().` But I don&#39;t see any requirement here to actually get the address at all, just the original result of `toString(),` which is available via `super.toString()`, despite your unspecified &#39;failure&#39;. Your actual question remains unclear.","body":"Well, no. It <i>can</i> be the address, but there is no guaranteee. You were therefore never able to print the address reliably in the first place, regardless of whether or not you overrode <code>toString().</code> But I don&#39;t see any requirement here to actually get the address at all, just the original result of <code>toString(),</code> which is available via <code>super.toString()</code>, despite your unspecified &#39;failure&#39;. Your actual question remains unclear."},{"owner":{"account_id":1859171,"reputation":3557,"user_id":1684123,"accept_rate":48,"display_name":"Kifsif"},"score":0,"creation_date":1377243253,"post_id":18396927,"comment_id":27020033,"body_markdown":"Why not. It is the address. At a given time it is the address represented as int. As we are are talking about more or less static environment, the address will not change. I mean, that in such a simple program, the garbage collector didn&#39;t touch the heap. So, why is it not the address in this case?","body":"Why not. It is the address. At a given time it is the address represented as int. As we are are talking about more or less static environment, the address will not change. I mean, that in such a simple program, the garbage collector didn&#39;t touch the heap. So, why is it not the address in this case?"},{"owner":{"account_id":50723,"reputation":3791,"user_id":151344,"accept_rate":60,"display_name":"Alderath"},"score":3,"creation_date":1377254376,"post_id":18396927,"comment_id":27025768,"body_markdown":"@Kifsif  Saying `It is the address` is plain wrong. It **may be** the address (and in most cases, but not all, it probably is).\nIe, if you rely on `hashCode()` for getting the address of objects it may work in some cases, but in other cases it may fail.\nEg, it&#39;d be possible according to the specs that some JVM keeps a completely random number as hashcode stored for each object. In reality, this probably wouldn&#39;t be the case, since it would entail unecessary storage overhead.\nAnyways, in Java you typically shouldn&#39;t be concerned with at what memory addresses objects are located. Java is not C.","body":"@Kifsif  Saying <code>It is the address</code> is plain wrong. It <b>may be</b> the address (and in most cases, but not all, it probably is). Ie, if you rely on <code>hashCode()</code> for getting the address of objects it may work in some cases, but in other cases it may fail. Eg, it&#39;d be possible according to the specs that some JVM keeps a completely random number as hashcode stored for each object. In reality, this probably wouldn&#39;t be the case, since it would entail unecessary storage overhead. Anyways, in Java you typically shouldn&#39;t be concerned with at what memory addresses objects are located. Java is not C."},{"owner":{"account_id":481416,"reputation":355404,"user_id":895245,"accept_rate":49,"display_name":"Ciro Santilli OurBigBook.com"},"score":0,"creation_date":1445846257,"post_id":18396927,"comment_id":54477548,"body_markdown":"To get addresses, use Unsafe: http://stackoverflow.com/questions/1961146/memory-address-of-variables-in-java","body":"To get addresses, use Unsafe: <a href=\"http://stackoverflow.com/questions/1961146/memory-address-of-variables-in-java\" title=\"memory address of variables in java\">stackoverflow.com/questions/1961146/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1618640789,"post_id":18397006,"comment_id":118667994,"body_markdown":"This won&#39;t work if this class extends a superclass that overrides `toString()`.  (And you call `toString()` further up the inheritance hierarchy ...).  There is a better way than this.","body":"This won&#39;t work if this class extends a superclass that overrides <code>toString()</code>.  (And you call <code>toString()</code> further up the inheritance hierarchy ...).  There is a better way than this."}],"tags":[],"owner":{"account_id":2784842,"reputation":67281,"user_id":2396539,"accept_rate":78,"display_name":"Aniket Thakur"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1377242370,"creation_date":1377242068,"answer_id":18397006,"question_id":18396927,"body_markdown":"You can call super() method to execute the corresponding superclass method.\r\n\r\n    class Employee{\r\n    ...\r\n        public String toString(){\r\n             String s = super.toString();\r\n            return getClass().getName() + &quot;[name = &quot; + name + \r\n                &quot;, salary=&quot; + salary + &quot;, hireDay=&quot; + hireDay + &quot;]&quot; + s;\r\n        }\r\n\r\ntoString() in Object class is as follows\r\n\r\n    public String toString() {\r\n        return getClass().getName() + &quot;@&quot; + Integer.toHexString(hashCode());\r\n    }","title":"How to print the address of an object if you have redefined toString method","body":"<p>You can call super() method to execute the corresponding superclass method.</p>\n\n<pre><code>class Employee{\n...\n    public String toString(){\n         String s = super.toString();\n        return getClass().getName() + \"[name = \" + name + \n            \", salary=\" + salary + \", hireDay=\" + hireDay + \"]\" + s;\n    }\n</code></pre>\n\n<p>toString() in Object class is as follows</p>\n\n<pre><code>public String toString() {\n    return getClass().getName() + \"@\" + Integer.toHexString(hashCode());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1377242100,"creation_date":1377242100,"answer_id":18397017,"question_id":18396927,"body_markdown":"Here is an in-depth answer about overriding equals and hashcode\r\n\r\nhttps://stackoverflow.com/questions/27581/overriding-equals-and-hashcode-in-java\r\n\r\nThe key point being\r\nThe relation between the two methods is:\r\n\r\nWhenever a.equals(b), then a.hashCode() must be same as b.hashCode().","title":"How to print the address of an object if you have redefined toString method","body":"<p>Here is an in-depth answer about overriding equals and hashcode</p>\n\n<p><a href=\"https://stackoverflow.com/questions/27581/overriding-equals-and-hashcode-in-java\">What issues should be considered when overriding equals and hashCode in Java?</a></p>\n\n<p>The key point being\nThe relation between the two methods is:</p>\n\n<p>Whenever a.equals(b), then a.hashCode() must be same as b.hashCode().</p>\n"},{"tags":[],"owner":{"account_id":938015,"reputation":21321,"user_id":966590,"accept_rate":100,"display_name":"Andrew Logvinov"},"comment_count":0,"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1377242101,"creation_date":1377242101,"answer_id":18397019,"question_id":18396927,"body_markdown":"If you want to achieve sort-of default `toString()` behavior, you can make use of `System.identityHashCode()` method. Default `toString()` will then look like this:\r\n\r\n    public String toString(Object o) {\r\n        return o.getClass().getName() + &quot;@&quot; + \r\n               Integer.toHexString(System.identityHashCode(o));\r\n    }","title":"How to print the address of an object if you have redefined toString method","body":"<p>If you want to achieve sort-of default <code>toString()</code> behavior, you can make use of <code>System.identityHashCode()</code> method. Default <code>toString()</code> will then look like this:</p>\n\n<pre><code>public String toString(Object o) {\n    return o.getClass().getName() + \"@\" + \n           Integer.toHexString(System.identityHashCode(o));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1766006,"reputation":1705,"user_id":1611881,"display_name":"Alexey Odintsov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1377242276,"creation_date":1377242276,"answer_id":18397066,"question_id":18396927,"body_markdown":"You may create another method inside your Employee class to use super toString method.\r\n\r\nSee example:\r\n\r\n\tpublic class Employee {\r\n\t\tpublic String toString() {\r\n\t\t\treturn &quot;MyToStringMethod&quot;;\r\n\t\t}\r\n\r\n\t\tpublic String superToString() {\r\n\t\t\treturn super.toString();\r\n\t\t}\r\n\t\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tEmployee b = new Employee();\r\n\t\t\tSystem.out.println(b);\r\n\t\t\tSystem.out.println(b.superToString());\r\n\t\t}\r\n\t}\r\n\r\nor combine both in one method:\r\n\r\n\tpublic class Employee {\r\n\t\tpublic String toString() {\r\n\t\t\treturn super.toString() + &quot; MyToStringMethod&quot;;\r\n\t\t}\r\n\t\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tEmployee b = new Employee();\r\n\t\t\tSystem.out.println(b);\r\n\t\t}\r\n\t}","title":"How to print the address of an object if you have redefined toString method","body":"<p>You may create another method inside your Employee class to use super toString method.</p>\n\n<p>See example:</p>\n\n<pre><code>public class Employee {\n    public String toString() {\n        return \"MyToStringMethod\";\n    }\n\n    public String superToString() {\n        return super.toString();\n    }\n\n    public static void main(String[] args) {\n        Employee b = new Employee();\n        System.out.println(b);\n        System.out.println(b.superToString());\n    }\n}\n</code></pre>\n\n<p>or combine both in one method:</p>\n\n<pre><code>public class Employee {\n    public String toString() {\n        return super.toString() + \" MyToStringMethod\";\n    }\n\n    public static void main(String[] args) {\n        Employee b = new Employee();\n        System.out.println(b);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":89,"is_accepted":true,"score":89,"last_activity_date":1670839520,"creation_date":1377242322,"answer_id":18397076,"question_id":18396927,"body_markdown":"Strictly speaking, you can&#39;t print the address of an object in pure Java.  The number that looks like an object address in the String produced by `Object.toString()` is the object&#39;s &quot;identity hashcode&quot;.  It may or may not be related to the object&#39;s current address:\r\n\r\n  - The specs *do not say* how the identity hashcode number is calculated.  It is deliberately left unspecified.\r\n\r\n  - Since the number is a hashcode, it *cannot* change.  So even though it is (typically) related to an object address, that will be the object&#39;s address *at the time when the hashcode was first accessed*.  This could be different to its current address, and it *will* be different if the GC has moved the object since the first time the object&#39;s identity hashcode was observed.\r\n\r\n  - On a 64bit JVM (with a large enough heap size / not using compressed oops) addresses won&#39;t fit into an identity hashcode number which is returned as an `int`.\r\n\r\nAnyhow, the way to get this number is to call [`System.identityHashCode(obj)`][1].\r\n\r\n-------------------------\r\n\r\nIf you really want an object&#39;s *current* address, you can get it using JNI and a native method (and some abstraction breaking), or by using methods in the `Unsafe` class (see https://stackoverflow.com/questions/7060215).  But beware that both of these approaches are non-portable.  Also, the object addresses that they give you are liable to &quot;break&quot; when the GC moves the object which renders them problematic for many (probably most) potential use-cases.\r\n\r\n-------------------------\r\n\r\nFor the doubters, this is what the Java 10 javadocs say on the &quot;hashcode != address&quot; point:\r\n\r\n&gt;  &quot;(The hashCode **may or may not** be implemented as **some function of** an object&#39;s memory address **at some point in time**.)&quot;\r\n\r\nEmphasis added.  Indeed, with recent JVMs, the default algorithm does NOT derive the hashCode from a memory address at all.  It has been that way since at least Java 7. \r\n\r\nYou can confirm this by including `-XX:+PrintFlagsFinal ` in the command line options to find out what the `hashcode` flag defaults to, and then looking at the OpenJDK source code to see what it means.  (The code is in the &quot;vm/runtime/synchronizer.cpp&quot; file in some versions, but YMMV.)\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/lang/System.html#identityHashCode-java.lang.Object-","title":"How to print the address of an object if you have redefined toString method","body":"<p>Strictly speaking, you can't print the address of an object in pure Java.  The number that looks like an object address in the String produced by <code>Object.toString()</code> is the object's &quot;identity hashcode&quot;.  It may or may not be related to the object's current address:</p>\n<ul>\n<li><p>The specs <em>do not say</em> how the identity hashcode number is calculated.  It is deliberately left unspecified.</p>\n</li>\n<li><p>Since the number is a hashcode, it <em>cannot</em> change.  So even though it is (typically) related to an object address, that will be the object's address <em>at the time when the hashcode was first accessed</em>.  This could be different to its current address, and it <em>will</em> be different if the GC has moved the object since the first time the object's identity hashcode was observed.</p>\n</li>\n<li><p>On a 64bit JVM (with a large enough heap size / not using compressed oops) addresses won't fit into an identity hashcode number which is returned as an <code>int</code>.</p>\n</li>\n</ul>\n<p>Anyhow, the way to get this number is to call <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/System.html#identityHashCode-java.lang.Object-\" rel=\"nofollow noreferrer\"><code>System.identityHashCode(obj)</code></a>.</p>\n<hr />\n<p>If you really want an object's <em>current</em> address, you can get it using JNI and a native method (and some abstraction breaking), or by using methods in the <code>Unsafe</code> class (see <a href=\"https://stackoverflow.com/questions/7060215\">How can I get the memory location of a object in java?</a>).  But beware that both of these approaches are non-portable.  Also, the object addresses that they give you are liable to &quot;break&quot; when the GC moves the object which renders them problematic for many (probably most) potential use-cases.</p>\n<hr />\n<p>For the doubters, this is what the Java 10 javadocs say on the &quot;hashcode != address&quot; point:</p>\n<blockquote>\n<p>&quot;(The hashCode <strong>may or may not</strong> be implemented as <strong>some function of</strong> an object's memory address <strong>at some point in time</strong>.)&quot;</p>\n</blockquote>\n<p>Emphasis added.  Indeed, with recent JVMs, the default algorithm does NOT derive the hashCode from a memory address at all.  It has been that way since at least Java 7.</p>\n<p>You can confirm this by including <code>-XX:+PrintFlagsFinal </code> in the command line options to find out what the <code>hashcode</code> flag defaults to, and then looking at the OpenJDK source code to see what it means.  (The code is in the &quot;vm/runtime/synchronizer.cpp&quot; file in some versions, but YMMV.)</p>\n"}],"owner":{"account_id":1859171,"reputation":3557,"user_id":1684123,"accept_rate":48,"display_name":"Kifsif"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88585,"favorite_count":0,"down_vote_count":1,"up_vote_count":54,"accepted_answer_id":18397076,"answer_count":5,"score":53,"last_activity_date":1670839520,"creation_date":1377241729,"question_id":18396927,"body_markdown":"I&#39;m a newbie to Java. Now I&#39;m studying equals and == and redefinition of equals and toString.\r\n\r\nI would like to use both the toString method that I have redefied and the default method that is inherited from the Object class.\r\n\r\nI failed to use that super modificator to reach that method.\r\n\r\nThis is for educational purposes only. What I would like to get is more clear if you will have a look at the comments in my code.\r\n\r\nCould you help me here?\r\n\r\n\r\nMy code is:\r\n\r\n    public class EqualTest{\r\n    \tpublic static void main(String[] args){\t\r\n    \t\tEmployee alice1 = new Employee(&quot;Alice Adams&quot;, 75000, 1987, 12, 15);\r\n                //System.out.super.println(alice1);\r\n\r\n    \t\tEmployee alice2 = alice1;\r\n                //System.out.super.println(alice2);\r\n\r\n    \t\tEmployee alice3 = new Employee(&quot;Alice Adams&quot;, 75000, 1987, 12, 15);\r\n                //System.out.super.println(alice3);\r\n\r\n    \t\tSystem.out.println(&quot;alice1==alice2: &quot; + (alice1==alice2));\r\n    \t\tSystem.out.println(&quot;alice1 == alice3: &quot; + (alice1==alice3));\r\n    \t\tSystem.out.println(&quot;alice1.equals(alice3): &quot; + alice1.equals(alice3));\r\n    \t}\r\n    }\r\n    \r\n    class Employee{\r\n    ...\r\n    \tpublic String toString(){\r\n    \t\treturn getClass().getName() + &quot;[name = &quot; + name + \r\n    \t\t\t&quot;, salary=&quot; + salary + &quot;, hireDay=&quot; + hireDay + &quot;]&quot;;\r\n    \t}\r\n    \r\n    }","title":"How to print the address of an object if you have redefined toString method","body":"<p>I'm a newbie to Java. Now I'm studying equals and == and redefinition of equals and toString.</p>\n\n<p>I would like to use both the toString method that I have redefied and the default method that is inherited from the Object class.</p>\n\n<p>I failed to use that super modificator to reach that method.</p>\n\n<p>This is for educational purposes only. What I would like to get is more clear if you will have a look at the comments in my code.</p>\n\n<p>Could you help me here?</p>\n\n<p>My code is:</p>\n\n<pre><code>public class EqualTest{\n    public static void main(String[] args){ \n        Employee alice1 = new Employee(\"Alice Adams\", 75000, 1987, 12, 15);\n            //System.out.super.println(alice1);\n\n        Employee alice2 = alice1;\n            //System.out.super.println(alice2);\n\n        Employee alice3 = new Employee(\"Alice Adams\", 75000, 1987, 12, 15);\n            //System.out.super.println(alice3);\n\n        System.out.println(\"alice1==alice2: \" + (alice1==alice2));\n        System.out.println(\"alice1 == alice3: \" + (alice1==alice3));\n        System.out.println(\"alice1.equals(alice3): \" + alice1.equals(alice3));\n    }\n}\n\nclass Employee{\n...\n    public String toString(){\n        return getClass().getName() + \"[name = \" + name + \n            \", salary=\" + salary + \", hireDay=\" + hireDay + \"]\";\n    }\n\n}\n</code></pre>\n"},{"tags":["java","charts","apache-poi","export-to-excel"],"comments":[{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1432914787,"post_id":30532612,"comment_id":49141471,"body_markdown":"Have you thought about submitting a patch to Apache POI to add in this missing functionality to the XSSF and SS chart methods? See [here for details on patches](http://poi.apache.org/guidelines.html)","body":"Have you thought about submitting a patch to Apache POI to add in this missing functionality to the XSSF and SS chart methods? See <a href=\"http://poi.apache.org/guidelines.html\" rel=\"nofollow noreferrer\">here for details on patches</a>"},{"owner":{"account_id":3078994,"reputation":101,"user_id":2607674,"display_name":"jk2607674"},"score":0,"creation_date":1454518973,"post_id":30532612,"comment_id":58083438,"body_markdown":"I submitted a patch to Apache POI months ago but it has not been acted on.  See [the patch in Bugzilla](https://bz.apache.org/bugzilla/show_bug.cgi?id=57989).","body":"I submitted a patch to Apache POI months ago but it has not been acted on.  See <a href=\"https://bz.apache.org/bugzilla/show_bug.cgi?id=57989\" rel=\"nofollow noreferrer\">the patch in Bugzilla</a>."},{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1456089519,"post_id":30532612,"comment_id":58772966,"body_markdown":"Patch now committed in POI, so you can now add an answer referencing [your contribution](https://poi.apache.org/apidocs/org/apache/poi/xssf/usermodel/XSSFChart.html#setTitle%28java.lang.String%29) :)","body":"Patch now committed in POI, so you can now add an answer referencing <a href=\"https://poi.apache.org/apidocs/org/apache/poi/xssf/usermodel/XSSFChart.html#setTitle%28java.lang.String%29\" rel=\"nofollow noreferrer\">your contribution</a> :)"}],"answers":[{"tags":[],"owner":{"account_id":10620565,"reputation":3742,"user_id":7821823,"display_name":"Mario Varchmin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628865872,"creation_date":1618820050,"answer_id":67158268,"question_id":30532612,"body_markdown":"Before this question remains unanswered for six years, here is the answer:\r\n\r\nYou can use the `XSSFChart.setTitleText(String title)` method.\r\n\r\nExample:\r\n```java\r\nimport java.io.FileOutputStream;\r\n\r\nimport org.apache.poi.ss.usermodel.Sheet;\r\nimport org.apache.poi.ss.usermodel.Workbook;\r\nimport org.apache.poi.xddf.usermodel.chart.ChartTypes;\r\nimport org.apache.poi.xddf.usermodel.chart.XDDFChartData;\r\nimport org.apache.poi.xddf.usermodel.chart.XDDFDataSource;\r\nimport org.apache.poi.xddf.usermodel.chart.XDDFDataSourcesFactory;\r\nimport org.apache.poi.xddf.usermodel.chart.XDDFNumericalDataSource;\r\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\r\nimport org.apache.poi.xssf.usermodel.XSSFChart;\r\nimport org.apache.poi.xssf.usermodel.XSSFDrawing;\r\n\r\npublic class Chart {\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        try (Workbook wb = new XSSFWorkbook(); FileOutputStream fileOut = new FileOutputStream(&quot;chart.xlsx&quot;);) {\r\n\t\t\tSheet sheet = wb.createSheet(&quot;Sheet1&quot;);\r\n\r\n\t\t\tXSSFDrawing drawing = (XSSFDrawing)sheet.createDrawingPatriarch();\r\n\t\t\tXSSFChart chart = drawing.createChart(drawing.createAnchor(0, 0, 0, 0, 0, 0, 12, 12));\r\n\t\r\n\t\t\t\r\n\t\t\t// ---------------------&gt;     Here we set the title\r\n\t\t\tchart.setTitleText(&quot;My chart title&quot;);\r\n\t\t\t// &lt;---------------------\r\n\r\n\t\t\t\r\n            XDDFDataSource&lt;String&gt; cat = XDDFDataSourcesFactory.fromArray(new String[]{&quot;A&quot;,&quot;B&quot;,&quot;C&quot;,&quot;D&quot;});\r\n            XDDFNumericalDataSource&lt;Double&gt; val = XDDFDataSourcesFactory.fromArray(new Double[]{1d, 2d, 3d, 4d});\r\n\r\n            XDDFChartData data = chart.createData(ChartTypes.PIE, null, null);\r\n            data.setVaryColors(true);\r\n            XDDFChartData.Series series = data.addSeries(cat, val);\r\n            series.setTitle(&quot;Series&quot;, null);\r\n            chart.plot(data);\r\n\r\n\t\t\twb.write(fileOut);\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n    }\r\n}\r\n```\r\n\r\nI understand that `XSSFChart.setTitleText(&quot;My chart title&quot;)` was not available, when this question was asked.","title":"Apache POI set Excel chart title","body":"<p>Before this question remains unanswered for six years, here is the answer:</p>\n<p>You can use the <code>XSSFChart.setTitleText(String title)</code> method.</p>\n<p>Example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.FileOutputStream;\n\nimport org.apache.poi.ss.usermodel.Sheet;\nimport org.apache.poi.ss.usermodel.Workbook;\nimport org.apache.poi.xddf.usermodel.chart.ChartTypes;\nimport org.apache.poi.xddf.usermodel.chart.XDDFChartData;\nimport org.apache.poi.xddf.usermodel.chart.XDDFDataSource;\nimport org.apache.poi.xddf.usermodel.chart.XDDFDataSourcesFactory;\nimport org.apache.poi.xddf.usermodel.chart.XDDFNumericalDataSource;\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\nimport org.apache.poi.xssf.usermodel.XSSFChart;\nimport org.apache.poi.xssf.usermodel.XSSFDrawing;\n\npublic class Chart {\n\n    public static void main(String[] args) throws Exception {\n        try (Workbook wb = new XSSFWorkbook(); FileOutputStream fileOut = new FileOutputStream(&quot;chart.xlsx&quot;);) {\n            Sheet sheet = wb.createSheet(&quot;Sheet1&quot;);\n\n            XSSFDrawing drawing = (XSSFDrawing)sheet.createDrawingPatriarch();\n            XSSFChart chart = drawing.createChart(drawing.createAnchor(0, 0, 0, 0, 0, 0, 12, 12));\n    \n            \n            // ---------------------&gt;     Here we set the title\n            chart.setTitleText(&quot;My chart title&quot;);\n            // &lt;---------------------\n\n            \n            XDDFDataSource&lt;String&gt; cat = XDDFDataSourcesFactory.fromArray(new String[]{&quot;A&quot;,&quot;B&quot;,&quot;C&quot;,&quot;D&quot;});\n            XDDFNumericalDataSource&lt;Double&gt; val = XDDFDataSourcesFactory.fromArray(new Double[]{1d, 2d, 3d, 4d});\n\n            XDDFChartData data = chart.createData(ChartTypes.PIE, null, null);\n            data.setVaryColors(true);\n            XDDFChartData.Series series = data.addSeries(cat, val);\n            series.setTitle(&quot;Series&quot;, null);\n            chart.plot(data);\n\n            wb.write(fileOut);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>I understand that <code>XSSFChart.setTitleText(&quot;My chart title&quot;)</code> was not available, when this question was asked.</p>\n"},{"tags":[],"owner":{"account_id":41653,"reputation":1487,"user_id":121139,"accept_rate":20,"display_name":"Fred Campos"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670839388,"creation_date":1670839388,"answer_id":74769405,"question_id":30532612,"body_markdown":"Using Apache Poi 3.7 (itself an older version), this works fine:\r\n\r\n    XSSFChart xchart = (XSSFChart) chart;\r\n    xchart.setTitleText(&quot;Your title&quot;);","title":"Apache POI set Excel chart title","body":"<p>Using Apache Poi 3.7 (itself an older version), this works fine:</p>\n<pre><code>XSSFChart xchart = (XSSFChart) chart;\nxchart.setTitleText(&quot;Your title&quot;);\n</code></pre>\n"}],"owner":{"account_id":3078994,"reputation":101,"user_id":2607674,"display_name":"jk2607674"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4274,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":2,"score":8,"last_activity_date":1670839388,"creation_date":1432910915,"question_id":30532612,"body_markdown":"I&#39;m creating an Excel workbook from scratch. One of the sheets contains a chart, and I want to set the chart title.\r\n\r\nApache POI has a setChartTitle method on HSSFChart, but neither XSSFChart nor the format-agnostic Chart have methods to set the chart title. Since I need to create .xlsx files this is a problem for me.\r\n\r\nAfter much poking around in POI code and OOXML specifications I managed to come up with this code for setting the title on a newly created Chart:\r\n\r\n        if (chart instanceof XSSFChart) {\r\n            XSSFChart xchart = (XSSFChart) chart;\r\n            CTChart ctChart = xchart.getCTChart();\r\n            CTTitle title = ctChart.addNewTitle();\r\n            CTTx tx = title.addNewTx();\r\n            CTTextBody rich = tx.addNewRich();\r\n            rich.addNewBodyPr();  // body properties must exist, but can be empty\r\n            CTTextParagraph para = rich.addNewP();\r\n            CTRegularTextRun r = para.addNewR();\r\n            r.setT(&quot;My chart title&quot;);\r\n        }\r\n\r\nThis seems to work - I can load the resulting file in Excel 2013 and the chart is there with the correct title.\r\n\r\nIs there an easier way to do this? What gotchas would I need to look out for when changing a chart title in a workbook created in Excel?\r\n\r\n","title":"Apache POI set Excel chart title","body":"<p>I'm creating an Excel workbook from scratch. One of the sheets contains a chart, and I want to set the chart title.</p>\n\n<p>Apache POI has a setChartTitle method on HSSFChart, but neither XSSFChart nor the format-agnostic Chart have methods to set the chart title. Since I need to create .xlsx files this is a problem for me.</p>\n\n<p>After much poking around in POI code and OOXML specifications I managed to come up with this code for setting the title on a newly created Chart:</p>\n\n<pre><code>    if (chart instanceof XSSFChart) {\n        XSSFChart xchart = (XSSFChart) chart;\n        CTChart ctChart = xchart.getCTChart();\n        CTTitle title = ctChart.addNewTitle();\n        CTTx tx = title.addNewTx();\n        CTTextBody rich = tx.addNewRich();\n        rich.addNewBodyPr();  // body properties must exist, but can be empty\n        CTTextParagraph para = rich.addNewP();\n        CTRegularTextRun r = para.addNewR();\n        r.setT(\"My chart title\");\n    }\n</code></pre>\n\n<p>This seems to work - I can load the resulting file in Excel 2013 and the chart is there with the correct title.</p>\n\n<p>Is there an easier way to do this? What gotchas would I need to look out for when changing a chart title in a workbook created in Excel?</p>\n"},{"tags":["java","spring-boot","jms","ibm-mq"],"comments":[{"owner":{"account_id":895964,"reputation":15035,"user_id":933250,"accept_rate":77,"display_name":"Shashi"},"score":0,"creation_date":1670423834,"post_id":74717452,"comment_id":131873501,"body_markdown":"You may want to look at adding length of the data in block before the start of the block, so that you know much to read. Something like [headerLen][header data][payloadlen][payload data][attachmentlen][attachment]","body":"You may want to look at adding length of the data in block before the start of the block, so that you know much to read. Something like [headerLen][header data][payloadlen][payload data][attachmentlen][attachment]"}],"answers":[{"comments":[{"owner":{"account_id":19271279,"reputation":1,"user_id":14085144,"display_name":"the_villian"},"score":0,"creation_date":1670835156,"post_id":74749532,"comment_id":131956710,"body_markdown":"I added an answer above, because wasn&#39;t able to post the picture in the comment here. Does that help? So I would still need to add CDATA?","body":"I added an answer above, because wasn&#39;t able to post the picture in the comment here. Does that help? So I would still need to add CDATA?"}],"tags":[],"owner":{"account_id":1535582,"reputation":7172,"user_id":1431734,"display_name":"Roger"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670633147,"creation_date":1670633147,"answer_id":74749532,"question_id":74717452,"body_markdown":"I think someone gave you some incorrect information regarding MQRFH2 messages.\r\n\r\nIf your application is a JMS application, then you are totally on the wrong path.\r\n\r\nIBM MQ treats a JMS message as an MQRFH2 message. So, when you send a JMS application, you do not create an MQRFH2 message.  IBM MQ does it automatically for you.\r\n\r\nSecondly, you talk about XML messages but nowhere in your code do I see anything about XML or CDATA.  If you want to send binary data as part of your XML message, then CDATA must be used.\r\n\r\nIf you want properties for the message, then you need to put them in the &quot;usr&quot; folder for JMS application. If you want to use a different folder then you need to use a regular Java application (non-JMS) and of course, then build an MQRFH2 header.","title":"Sending and Receiving SWIFT-messages with JMS","body":"<p>I think someone gave you some incorrect information regarding MQRFH2 messages.</p>\n<p>If your application is a JMS application, then you are totally on the wrong path.</p>\n<p>IBM MQ treats a JMS message as an MQRFH2 message. So, when you send a JMS application, you do not create an MQRFH2 message.  IBM MQ does it automatically for you.</p>\n<p>Secondly, you talk about XML messages but nowhere in your code do I see anything about XML or CDATA.  If you want to send binary data as part of your XML message, then CDATA must be used.</p>\n<p>If you want properties for the message, then you need to put them in the &quot;usr&quot; folder for JMS application. If you want to use a different folder then you need to use a regular Java application (non-JMS) and of course, then build an MQRFH2 header.</p>\n"}],"owner":{"account_id":19271279,"reputation":1,"user_id":14085144,"display_name":"the_villian"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":281,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670839254,"creation_date":1670419726,"question_id":74717452,"body_markdown":"I am trying currently to send and receive messages on SWIFT FileAct. The current implementation is based on JMS. The requirement is, that I need to send an xml-message as payload, an XML-header that according to the information I got is supposed to be an RFH2-header and possible attachment-files (hence FileAct).\r\n\r\nI have a working connection to the Queue-manager and am able to send and read general text- or byte-messages. The problem is, that the format does not seem to be correct, in terms of the RFH2-header and the payload (and later possible attachments). \r\nSo when I read the message (that I can send myselve) I am just working on a stream of bytes. The problem is, how to say, when what part of the message is what (header/payload/attachments), since its just a stream of bytes. \r\n\r\n\r\nI can add some blocks of code. And two screenshots from the console when the operations are done. Maybe you can see something, that I am missing?\r\n\r\n\r\n```\r\npublic void sendAByteMessage(JmsConnectionFactory connectionFactory, Destination destination) {\r\n  String ifCobaString = &quot;IF_COBA&quot;;\r\n  String filename;\r\n  FileInputStream inStream;\r\n  BytesMessage bytesMessage;\r\n  int bytesRead;\r\n  int bytesTotalSize = 0;\r\n  byte[] buf1 = new byte[64];\r\n\r\n    // write RFH2-Header\r\n    MQRFH2 mqrfh2 = new MQRFH2();\r\n    ByteArrayOutputStream out = new ByteArrayOutputStream();\r\n    mqrfh2.setEncoding(CMQC.MQENC_NATIVE);\r\n    mqrfh2.setCodedCharSetId(CMQC.MQCCSI_INHERIT);\r\n    mqrfh2.setFormat(CMQC.MQFMT_NONE);\r\n    mqrfh2.setFlags(0);\r\n    mqrfh2.setNameValueCCSID(1208);\r\n\r\n    mqrfh2.setFieldValue(ifCobaString, &quot;OriginatorApplication&quot;, &quot;data&quot;);\r\n    mqrfh2.setFieldValue(ifCobaString, &quot;Requestor&quot;, &quot;ou=data,o=data,o=swift&quot;);\r\n    mqrfh2.setFieldValue(ifCobaString, &quot;Responder&quot;, &quot;ou=data,o=data,o=swift&quot;);\r\n    mqrfh2.setFieldValue(ifCobaString, &quot;Service&quot;, &quot;swift.data&quot;);\r\n    mqrfh2.setFieldValue(ifCobaString, &quot;RequestType&quot;, &quot;data&quot;);\r\n    mqrfh2.setFieldValue(ifCobaString, &quot;Compression&quot;, &quot;Zip&quot;);\r\n    mqrfh2.setFieldValue(ifCobaString, &quot;FileName&quot;, &quot;data.zip&quot;);\r\n    mqrfh2.setFieldValue(ifCobaString, &quot;FileReference&quot;, &quot;data.zip&quot;);\r\n\r\n    mqrfh2.write(new DataOutputStream(out), CMQC.MQENC_NATIVE, 819);\r\n\r\n    byte[] bytesHeader = out.toByteArray();\r\n\r\n    // set the input file to be send\r\n    filename = &quot;/opt/mq/TC.SB13.0015484631.zip&quot;; // just a random file that I am trying to send over the message\r\n    inStream = new FileInputStream(filename);\r\n\r\n    JMSContext producerContext = connectionFactory.createContext();\r\n    JMSProducer producer = producerContext.createProducer();\r\n    bytesMessage = producerContext.createBytesMessage();\r\n\r\n    // add RHF2-header to the message\r\n    bytesMessage.writeBytes(bytesHeader);\r\n\r\n    // add payload to the message\r\n    while ((bytesRead = inStream.read(buf1)) != -1) {\r\n      bytesMessage.writeBytes(buf1, 0, bytesRead);\r\n      bytesTotalSize += bytesRead;\r\n      System.out.println(&quot;Writing &quot; + bytesRead + &quot; bytes into message..&quot;);\r\n    }\r\n\r\n    System.out.println(&quot;Finished writing &quot; + bytesTotalSize + &quot; bytes into message!&quot;);\r\n\r\n    producer.send(destination, bytesMessage);\r\n    producerContext.close();\r\n    inStream.close();\r\n\r\n}\r\n```\r\n\r\n\r\nAnd this is the code for reading it. The FileOutputStream also creates the WRITE.zip-file successfully, but then we don’t have any information about the header. Its kind of lost-in-translation.\r\n\r\nI am not sure if we need to for example first read x bytes that are the header and then the rest what is the file. But then I am confused because here we use the entire length of the message for the file, as there is nothing additional for the header. It’s a bit confusing..\r\n\r\n```\r\n\r\n// The message is sent as a Message object, so we must determine its type\r\nif (message instanceof TextMessage) {\r\n  System.out.println(&quot;-- reading TEXT-message..&quot;);\r\n  TextMessage textMessage = (TextMessage) message;\r\n\r\n  try {\r\n    System.out.println(&quot;-- MyMessageListener received message with payload: &quot; + textMessage.getText());\r\n  } catch (JMSException jmse) {\r\n    System.out.println(&quot;JMS Exception in MyMessageListener class (TextMessage)!&quot;);\r\n    System.out.println(jmse.getLinkedException());\r\n  }\r\n\r\n} else if (message instanceof BytesMessage) {\r\n  System.out.println(&quot;-- reading BYTE-message..&quot;);\r\n  BytesMessage bytesMessage = (BytesMessage) message;\r\n\r\n  try {\r\n    int textLength = (int) bytesMessage.getBodyLength();\r\n    byte[] textBytes = new byte[textLength];\r\n    bytesMessage.readBytes(textBytes, textLength);\r\n\r\n    // Save file\r\n    FileOutputStream fos = new FileOutputStream(&quot;/opt/mq/WRITE.zip&quot;);\r\n    fos.write(textBytes);\r\n    fos.close();\r\n\r\n    // Show content of file\r\n    String content = new String(textBytes);\r\n    System.out.println(content);\r\n\r\n```","title":"Sending and Receiving SWIFT-messages with JMS","body":"<p>I am trying currently to send and receive messages on SWIFT FileAct. The current implementation is based on JMS. The requirement is, that I need to send an xml-message as payload, an XML-header that according to the information I got is supposed to be an RFH2-header and possible attachment-files (hence FileAct).</p>\n<p>I have a working connection to the Queue-manager and am able to send and read general text- or byte-messages. The problem is, that the format does not seem to be correct, in terms of the RFH2-header and the payload (and later possible attachments).\nSo when I read the message (that I can send myselve) I am just working on a stream of bytes. The problem is, how to say, when what part of the message is what (header/payload/attachments), since its just a stream of bytes.</p>\n<p>I can add some blocks of code. And two screenshots from the console when the operations are done. Maybe you can see something, that I am missing?</p>\n<pre><code>public void sendAByteMessage(JmsConnectionFactory connectionFactory, Destination destination) {\n  String ifCobaString = &quot;IF_COBA&quot;;\n  String filename;\n  FileInputStream inStream;\n  BytesMessage bytesMessage;\n  int bytesRead;\n  int bytesTotalSize = 0;\n  byte[] buf1 = new byte[64];\n\n    // write RFH2-Header\n    MQRFH2 mqrfh2 = new MQRFH2();\n    ByteArrayOutputStream out = new ByteArrayOutputStream();\n    mqrfh2.setEncoding(CMQC.MQENC_NATIVE);\n    mqrfh2.setCodedCharSetId(CMQC.MQCCSI_INHERIT);\n    mqrfh2.setFormat(CMQC.MQFMT_NONE);\n    mqrfh2.setFlags(0);\n    mqrfh2.setNameValueCCSID(1208);\n\n    mqrfh2.setFieldValue(ifCobaString, &quot;OriginatorApplication&quot;, &quot;data&quot;);\n    mqrfh2.setFieldValue(ifCobaString, &quot;Requestor&quot;, &quot;ou=data,o=data,o=swift&quot;);\n    mqrfh2.setFieldValue(ifCobaString, &quot;Responder&quot;, &quot;ou=data,o=data,o=swift&quot;);\n    mqrfh2.setFieldValue(ifCobaString, &quot;Service&quot;, &quot;swift.data&quot;);\n    mqrfh2.setFieldValue(ifCobaString, &quot;RequestType&quot;, &quot;data&quot;);\n    mqrfh2.setFieldValue(ifCobaString, &quot;Compression&quot;, &quot;Zip&quot;);\n    mqrfh2.setFieldValue(ifCobaString, &quot;FileName&quot;, &quot;data.zip&quot;);\n    mqrfh2.setFieldValue(ifCobaString, &quot;FileReference&quot;, &quot;data.zip&quot;);\n\n    mqrfh2.write(new DataOutputStream(out), CMQC.MQENC_NATIVE, 819);\n\n    byte[] bytesHeader = out.toByteArray();\n\n    // set the input file to be send\n    filename = &quot;/opt/mq/TC.SB13.0015484631.zip&quot;; // just a random file that I am trying to send over the message\n    inStream = new FileInputStream(filename);\n\n    JMSContext producerContext = connectionFactory.createContext();\n    JMSProducer producer = producerContext.createProducer();\n    bytesMessage = producerContext.createBytesMessage();\n\n    // add RHF2-header to the message\n    bytesMessage.writeBytes(bytesHeader);\n\n    // add payload to the message\n    while ((bytesRead = inStream.read(buf1)) != -1) {\n      bytesMessage.writeBytes(buf1, 0, bytesRead);\n      bytesTotalSize += bytesRead;\n      System.out.println(&quot;Writing &quot; + bytesRead + &quot; bytes into message..&quot;);\n    }\n\n    System.out.println(&quot;Finished writing &quot; + bytesTotalSize + &quot; bytes into message!&quot;);\n\n    producer.send(destination, bytesMessage);\n    producerContext.close();\n    inStream.close();\n\n}\n</code></pre>\n<p>And this is the code for reading it. The FileOutputStream also creates the WRITE.zip-file successfully, but then we don’t have any information about the header. Its kind of lost-in-translation.</p>\n<p>I am not sure if we need to for example first read x bytes that are the header and then the rest what is the file. But then I am confused because here we use the entire length of the message for the file, as there is nothing additional for the header. It’s a bit confusing..</p>\n<pre><code>\n// The message is sent as a Message object, so we must determine its type\nif (message instanceof TextMessage) {\n  System.out.println(&quot;-- reading TEXT-message..&quot;);\n  TextMessage textMessage = (TextMessage) message;\n\n  try {\n    System.out.println(&quot;-- MyMessageListener received message with payload: &quot; + textMessage.getText());\n  } catch (JMSException jmse) {\n    System.out.println(&quot;JMS Exception in MyMessageListener class (TextMessage)!&quot;);\n    System.out.println(jmse.getLinkedException());\n  }\n\n} else if (message instanceof BytesMessage) {\n  System.out.println(&quot;-- reading BYTE-message..&quot;);\n  BytesMessage bytesMessage = (BytesMessage) message;\n\n  try {\n    int textLength = (int) bytesMessage.getBodyLength();\n    byte[] textBytes = new byte[textLength];\n    bytesMessage.readBytes(textBytes, textLength);\n\n    // Save file\n    FileOutputStream fos = new FileOutputStream(&quot;/opt/mq/WRITE.zip&quot;);\n    fos.write(textBytes);\n    fos.close();\n\n    // Show content of file\n    String content = new String(textBytes);\n    System.out.println(content);\n\n</code></pre>\n"},{"tags":["java","windows","winapi","active-directory","wmi"],"comments":[{"owner":{"account_id":2513,"reputation":98349,"user_id":3501,"accept_rate":30,"display_name":"Anders"},"score":0,"creation_date":1670843353,"post_id":74769313,"comment_id":131959143,"body_markdown":"WMIC != WMI, Either way, polling is bad...","body":"WMIC != WMI, Either way, polling is bad..."},{"owner":{"account_id":20968521,"reputation":308,"user_id":15406157,"display_name":"Igor_M"},"score":0,"creation_date":1670933285,"post_id":74769313,"comment_id":131983088,"body_markdown":"@Anders, my application is running on CentOS. There is standart wmic. I use it to get logon events. The question is there any other way to get it without using wmic?","body":"@Anders, my application is running on CentOS. There is standart wmic. I use it to get logon events. The question is there any other way to get it without using wmic?"}],"owner":{"account_id":20968521,"reputation":308,"user_id":15406157,"display_name":"Igor_M"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670838838,"creation_date":1670838838,"question_id":74769313,"body_markdown":"Nowdays my application uses WMIC to poll logon events from remote machine. With WMI i use query like\r\n\r\n```-U user%password //myHost &#39;--delimiter=&quot;|&quot;&#39; &quot;SELECT eventCode,eventType,timeGenerated,User,InsertionStrings,Message FROM win32_NTLogEvent WHERE Logfile=&#39;Security&#39; AND NOT Message LIKE &#39;%$%&#39; AND (eventCode=&#39;4624&#39;) AND timeGenerated &gt; &#39;20221124190047.000000-000&#39;&quot;```\r\n\r\nSo server receives query, read `win32_NTLogEvent` object, opens file &#39;Security&#39;, read from it events with code 4624 (which is logon) filter according `timeGenerated` and return me events. \r\n\r\nIs there any way to get such information without using WMI?","title":"Way to get logon events from remote Windows server without using WMI","body":"<p>Nowdays my application uses WMIC to poll logon events from remote machine. With WMI i use query like</p>\n<p><code>-U user%password //myHost '--delimiter=&quot;|&quot;' &quot;SELECT eventCode,eventType,timeGenerated,User,InsertionStrings,Message FROM win32_NTLogEvent WHERE Logfile='Security' AND NOT Message LIKE '%$%' AND (eventCode='4624') AND timeGenerated &gt; '20221124190047.000000-000'&quot;</code></p>\n<p>So server receives query, read <code>win32_NTLogEvent</code> object, opens file 'Security', read from it events with code 4624 (which is logon) filter according <code>timeGenerated</code> and return me events.</p>\n<p>Is there any way to get such information without using WMI?</p>\n"},{"tags":["java","git","eclipse","github","egit"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1670842060,"post_id":74769292,"comment_id":131958741,"body_markdown":"This should be described on GitHub for all Git clients. I cannot find the term OTP (or &quot;one-time password&quot;?) in the GitHub documentation. Please link to the documentation of what you talking about. Be aware that the authentication for your GitHub account and a Git repository are two different things at GitHub. For personal access token see https://stackoverflow.com/a/68802292/6505250 - for one-time password don&#39;t tick _Store in Secure Store_.","body":"This should be described on GitHub for all Git clients. I cannot find the term OTP (or &quot;one-time password&quot;?) in the GitHub documentation. Please link to the documentation of what you talking about. Be aware that the authentication for your GitHub account and a Git repository are two different things at GitHub. For personal access token see <a href=\"https://stackoverflow.com/a/68802292/6505250\">stackoverflow.com/a/68802292/6505250</a> - for one-time password don&#39;t tick <i>Store in Secure Store</i>."}],"owner":{"account_id":4597208,"reputation":48209,"user_id":3728901,"accept_rate":58,"display_name":"Vy Do"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670838712,"creation_date":1670838712,"question_id":74769292,"body_markdown":"I am using Eclipse IDE 2022-12, Windows 10 x64.\r\n\r\nEgit Eclipse IDE 2022-12: How to log in GitHub accout with 2 steps (OTP)?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OEtFs.png","title":"Egit Eclipse IDE 2022-12: How to log in GitHub accout with 2 steps (OTP)?","body":"<p>I am using Eclipse IDE 2022-12, Windows 10 x64.</p>\n<p>Egit Eclipse IDE 2022-12: How to log in GitHub accout with 2 steps (OTP)?</p>\n<p><a href=\"https://i.stack.imgur.com/OEtFs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OEtFs.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","sql","sql-server"],"comments":[{"owner":{"account_id":2679531,"reputation":2832,"user_id":2315162,"accept_rate":81,"display_name":"sinclair"},"score":3,"creation_date":1670835775,"post_id":74768720,"comment_id":131956900,"body_markdown":"`try (Connection connection` defines a local variable, therefore your class variable `connection` is empty.","body":"<code>try (Connection connection</code> defines a local variable, therefore your class variable <code>connection</code> is empty."},{"owner":{"account_id":9628370,"reputation":3463,"user_id":7147233,"accept_rate":78,"display_name":"WhatsThePoint"},"score":2,"creation_date":1670836097,"post_id":74768720,"comment_id":131956986,"body_markdown":"Have a look [at this](https://www.postgresqltutorial.com/postgresql-jdbc/insert/) it covers using prepared statements for sql inserts in java to help prevent SQL Injection, it does mention PostgreSQL but the code is the same for SQL Server","body":"Have a look <a href=\"https://www.postgresqltutorial.com/postgresql-jdbc/insert/\" rel=\"nofollow noreferrer\">at this</a> it covers using prepared statements for sql inserts in java to help prevent SQL Injection, it does mention PostgreSQL but the code is the same for SQL Server"},{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":0,"creation_date":1670836209,"post_id":74768720,"comment_id":131957025,"body_markdown":"Not very efficient to loop through all the players to count them: you can just do `SELECT COUNT(1) FROM PlayerMAP`. Also, it&#39;s a very bad idea to build an SQL statement when you can just use a `PreparedStatement` with parameters.","body":"Not very efficient to loop through all the players to count them: you can just do <code>SELECT COUNT(1) FROM PlayerMAP</code>. Also, it&#39;s a very bad idea to build an SQL statement when you can just use a <code>PreparedStatement</code> with parameters."},{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":0,"creation_date":1670836451,"post_id":74768720,"comment_id":131957081,"body_markdown":"In fact, you don&#39;t even need the number of players: you just need to know if one exists.","body":"In fact, you don&#39;t even need the number of players: you just need to know if one exists."}],"answers":[{"tags":[],"owner":{"account_id":14781952,"reputation":120,"user_id":10675247,"display_name":"Philippe Fery"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1670838708,"creation_date":1670838708,"answer_id":74769290,"question_id":74768720,"body_markdown":"I see several potential issues :\r\n1.\tIf you already have 1 or more players inserted in your table `PlayerMap`, `count`  will always be greater than 0. So, only players already in db will be added to your `allPlayers` list\r\n2.\t`ResultSet result = select.executeQuery(&quot; SELECT * FROM PlayerMAP&quot;);` there is an extra space before the `SELECT` keyword\r\n3.\tIf the field `id` is the primary key of table `PlayerMAP` (as I guess), player with id &quot;P1&quot; will not be added in database if one with that id already exists\r\n4.\tYou don’t need 2 try-catch block. One is enough. Furthermore, you should catch specific exception(s) thrown and not the generic `Exception`. Here, you should catch an `SQLException` instead.\r\n5.\tDid you try to add `System.out.println` (or debug points) before an after adding a new player ? It will ensure you that the SQL insert has been executed\r\n6.\tIf SQL insert is executed, is your database in autocommit mode ? If not, you should try to call `connection.commit()`\r\n7.\tAnd, finally, don’t forget to close your connection after insertion\r\n\r\n\t\ttry (Connection connection = DriverManager.getConnection(connectionURL)) {\r\n\t\t\tSystem.out.println(&quot;Connected to the Server.&quot;);\r\n\r\n\t\t\tStatement select = connection.createStatement();\r\n\t\t\tResultSet resultSet = select.executeQuery(&quot;SELECT * FROM PlayerMAP&quot;);\r\n\t\t\tint count = 0;\r\n\t\t\twhile (resultSet.next()) {\r\n\t\t\t\tcount++;\r\n\t\t\t}\r\n\t\t\tif (count &gt; 0) {\r\n\t\t\t\tResultSet result = select.executeQuery(&quot;SELECT * FROM PlayerMAP&quot;);//Remove extra space\r\n\t\t\t\twhile (result.next()) {\r\n\t\t\t\t\tPlayer player = new Player(result.getString(&quot;id&quot;), result.getString(&quot;firstName&quot;),\r\n\t\t\t\t\t\t\tresult.getString(&quot;lastName&quot;), result.getInt(&quot;age&quot;), result.getString(&quot;nationality&quot;),\r\n\t\t\t\t\t\t\tresult.getString(&quot;position&quot;), result.getInt(&quot;marketValue&quot;));\r\n\t\t\t\t\tallPlayers.add(player);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tSystem.out.println(&quot;in&quot;);//Add System.out (or debug point) to see if your code is executed \r\n\t\t\t\tString insert_string = &quot;INSERT INTO PlayerMAP(id, firstName, lastName, age, nationality, position, marketValue) VALUES (&#39;P1&#39;,&#39;Dan&#39;,&#39;Mic&#39;,18,&#39;Romania&#39;,&#39;Forward&#39;,1250)&quot;;\r\n\t\t\t\tStatement insert = connection.createStatement();\r\n\t\t\t\tinsert.executeUpdate(insert_string);\r\n\t\t\t\tconnection.commit();//Commit your insert\r\n\t\t\t\tPlayer player = new Player(&quot;P1&quot;, &quot;Dan&quot;, &quot;Mic&quot;, 18, &quot;Romania&quot;, &quot;Forward&quot;, 1250);\r\n\t\t\t\tallPlayers.add(player);\r\n\t\t\t\tSystem.out.println(&quot;out: &quot; + allPlayers.size()); //Add System.out (or debug point) to see if your code is executed \r\n\t\t\t}\r\n\t\t\tconnection.close();//Close your connection\r\n\t\t} catch (SQLException e) {//Catche SQLException instead of Exception\r\n\t\t\tSystem.out.println(&quot;I am not connected to the Server&quot;);\r\n\t\t\te.printStackTrace();\r\n\t\t\tif (connection != null)\r\n\t\t\t\tconnection.close();//Close the connection if exception occurs\r\n\t\t}\r\n\t}\r\n\r\n","title":"Why is my add method, not adding values into my sql database from java?","body":"<p>I see several potential issues :</p>\n<ol>\n<li><p>If you already have 1 or more players inserted in your table <code>PlayerMap</code>, <code>count</code>  will always be greater than 0. So, only players already in db will be added to your <code>allPlayers</code> list</p>\n</li>\n<li><p><code>ResultSet result = select.executeQuery(&quot; SELECT * FROM PlayerMAP&quot;);</code> there is an extra space before the <code>SELECT</code> keyword</p>\n</li>\n<li><p>If the field <code>id</code> is the primary key of table <code>PlayerMAP</code> (as I guess), player with id &quot;P1&quot; will not be added in database if one with that id already exists</p>\n</li>\n<li><p>You don’t need 2 try-catch block. One is enough. Furthermore, you should catch specific exception(s) thrown and not the generic <code>Exception</code>. Here, you should catch an <code>SQLException</code> instead.</p>\n</li>\n<li><p>Did you try to add <code>System.out.println</code> (or debug points) before an after adding a new player ? It will ensure you that the SQL insert has been executed</p>\n</li>\n<li><p>If SQL insert is executed, is your database in autocommit mode ? If not, you should try to call <code>connection.commit()</code></p>\n</li>\n<li><p>And, finally, don’t forget to close your connection after insertion</p>\n<pre><code>try (Connection connection = DriverManager.getConnection(connectionURL)) {\n    System.out.println(&quot;Connected to the Server.&quot;);\n\n    Statement select = connection.createStatement();\n    ResultSet resultSet = select.executeQuery(&quot;SELECT * FROM PlayerMAP&quot;);\n    int count = 0;\n    while (resultSet.next()) {\n        count++;\n    }\n    if (count &gt; 0) {\n        ResultSet result = select.executeQuery(&quot;SELECT * FROM PlayerMAP&quot;);//Remove extra space\n        while (result.next()) {\n            Player player = new Player(result.getString(&quot;id&quot;), result.getString(&quot;firstName&quot;),\n                    result.getString(&quot;lastName&quot;), result.getInt(&quot;age&quot;), result.getString(&quot;nationality&quot;),\n                    result.getString(&quot;position&quot;), result.getInt(&quot;marketValue&quot;));\n            allPlayers.add(player);\n        }\n    } else {\n        System.out.println(&quot;in&quot;);//Add System.out (or debug point) to see if your code is executed \n        String insert_string = &quot;INSERT INTO PlayerMAP(id, firstName, lastName, age, nationality, position, marketValue) VALUES ('P1','Dan','Mic',18,'Romania','Forward',1250)&quot;;\n        Statement insert = connection.createStatement();\n        insert.executeUpdate(insert_string);\n        connection.commit();//Commit your insert\n        Player player = new Player(&quot;P1&quot;, &quot;Dan&quot;, &quot;Mic&quot;, 18, &quot;Romania&quot;, &quot;Forward&quot;, 1250);\n        allPlayers.add(player);\n        System.out.println(&quot;out: &quot; + allPlayers.size()); //Add System.out (or debug point) to see if your code is executed \n    }\n    connection.close();//Close your connection\n} catch (SQLException e) {//Catche SQLException instead of Exception\n    System.out.println(&quot;I am not connected to the Server&quot;);\n    e.printStackTrace();\n    if (connection != null)\n        connection.close();//Close the connection if exception occurs\n}\n</code></pre>\n<p>}</p>\n</li>\n</ol>\n"}],"owner":{"account_id":24687737,"reputation":11,"user_id":18580700,"display_name":"Muntean Tudor"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1670838708,"creation_date":1670835509,"question_id":74768720,"body_markdown":"So, I have to add a player into a list, and in the same time, to add it to my SQL Server database, but the add in the table is not happening, even though the add in the list is fine.\r\n\r\n```\r\npublic class PlayerRepositoryJDBC {\r\n\r\n    private Connection connection;\r\n    private ArrayList&lt;Player&gt; allPlayers = new ArrayList&lt;&gt;();\r\n\r\n\r\n    public ArrayList&lt;Player&gt; getAllPlayers() {\r\n        return allPlayers;\r\n    }\r\n\r\n    public void setAllPlayers(ArrayList&lt;Player&gt; allPlayers) {\r\n        this.allPlayers = allPlayers;\r\n    }\r\n\r\n    public PlayerRepositoryJDBC() throws SQLException {\r\n        String connectionURL = &quot;jdbc:sqlserver://localhost:52448;databaseName=MAP;user=user1;password=1234;encrypt=true;trustServerCertificate=true&quot;;\r\n        try {\r\n            System.out.print(&quot;Connecting to the server......&quot;);\r\n            try (Connection connection = DriverManager.getConnection(connectionURL)) {\r\n                System.out.println(&quot;Connected to the Server.&quot;);\r\n\r\n                Statement select = connection.createStatement();\r\n                ResultSet resultSet = select.executeQuery(&quot;SELECT * FROM PlayerMAP&quot;);\r\n                int count = 0;\r\n                while (resultSet.next()) {\r\n                    count++;\r\n                }\r\n                if (count &gt; 0) {\r\n                    ResultSet result = select.executeQuery(&quot; SELECT * FROM PlayerMAP&quot;);\r\n                    while (result.next()) {\r\n                        Player player = new Player\r\n                                (result.getString(&quot;id&quot;), result.getString(&quot;firstName&quot;), result.getString(&quot;lastName&quot;), result.getInt(&quot;age&quot;), result.getString(&quot;nationality&quot;), result.getString(&quot;position&quot;), result.getInt(&quot;marketValue&quot;));\r\n                        allPlayers.add(player);\r\n                    }\r\n                } else {\r\n                    String insert_string = &quot;INSERT INTO PlayerMAP(id, firstName, lastName, age, nationality, position, marketValue) VALUES (&#39;P1&#39;,&#39;Dan&#39;,&#39;Mic&#39;,18,&#39;Romania&#39;,&#39;Forward&#39;,1250)&quot;;\r\n                    Statement insert = connection.createStatement();\r\n                    insert.executeUpdate(insert_string);\r\n                    Player player=new Player(&quot;P1&quot;,&quot;Dan&quot;,&quot;Mic&quot;,18,&quot;Romania&quot;,&quot;Forward&quot;,1250);\r\n                    allPlayers.add(player);\r\n                }\r\n                //System.out.println(allPlayers.size());\r\n\r\n            } catch (Exception e) {\r\n                System.out.println(&quot;I am not connected to the Server&quot;);\r\n                e.printStackTrace();\r\n            }\r\n\r\n        } catch (Exception e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\n    public void add(Player entity) throws SQLException {\r\n        allPlayers.add(entity);\r\n        String id=entity.getId();\r\n        String firstName=entity.getFirstName();\r\n        String lastName=entity.getLastName();\r\n        int age = entity.getAge();\r\n        String nationality= entity.getNationality();\r\n        String position=entity.getPosition();\r\n        int marketValue=entity.getMarketValue();\r\n        String insert_string = &quot;INSERT INTO PlayerMAP(id, firstName, lastName, age, nationality, position, marketValue) VALUES (&#39;&quot;+id+&quot;&#39;, &#39;&quot;+firstName+&quot;&#39;, &#39;&quot;+lastName+&quot;&#39;, &#39;&quot;+age+&quot;&#39;, &#39;&quot;+nationality+&quot;&#39;, &#39;&quot;+position+&quot;&#39;, &#39;&quot;+marketValue+&quot;&#39;)&quot;;\r\n\r\n        Statement insert = this.connection.createStatement();\r\n        insert.executeUpdate(insert_string);\r\n\r\n    }\r\n```\r\n\r\nThat&#39;s the code...\r\nSo I am expecting from my program to add an object of type Player, in my list `allPlayers`, and it should also add in my database in the table PlayerMAP. But there are no changes in my table PlayerMAP, when I check the SSMS.","title":"Why is my add method, not adding values into my sql database from java?","body":"<p>So, I have to add a player into a list, and in the same time, to add it to my SQL Server database, but the add in the table is not happening, even though the add in the list is fine.</p>\n<pre><code>public class PlayerRepositoryJDBC {\n\n    private Connection connection;\n    private ArrayList&lt;Player&gt; allPlayers = new ArrayList&lt;&gt;();\n\n\n    public ArrayList&lt;Player&gt; getAllPlayers() {\n        return allPlayers;\n    }\n\n    public void setAllPlayers(ArrayList&lt;Player&gt; allPlayers) {\n        this.allPlayers = allPlayers;\n    }\n\n    public PlayerRepositoryJDBC() throws SQLException {\n        String connectionURL = &quot;jdbc:sqlserver://localhost:52448;databaseName=MAP;user=user1;password=1234;encrypt=true;trustServerCertificate=true&quot;;\n        try {\n            System.out.print(&quot;Connecting to the server......&quot;);\n            try (Connection connection = DriverManager.getConnection(connectionURL)) {\n                System.out.println(&quot;Connected to the Server.&quot;);\n\n                Statement select = connection.createStatement();\n                ResultSet resultSet = select.executeQuery(&quot;SELECT * FROM PlayerMAP&quot;);\n                int count = 0;\n                while (resultSet.next()) {\n                    count++;\n                }\n                if (count &gt; 0) {\n                    ResultSet result = select.executeQuery(&quot; SELECT * FROM PlayerMAP&quot;);\n                    while (result.next()) {\n                        Player player = new Player\n                                (result.getString(&quot;id&quot;), result.getString(&quot;firstName&quot;), result.getString(&quot;lastName&quot;), result.getInt(&quot;age&quot;), result.getString(&quot;nationality&quot;), result.getString(&quot;position&quot;), result.getInt(&quot;marketValue&quot;));\n                        allPlayers.add(player);\n                    }\n                } else {\n                    String insert_string = &quot;INSERT INTO PlayerMAP(id, firstName, lastName, age, nationality, position, marketValue) VALUES ('P1','Dan','Mic',18,'Romania','Forward',1250)&quot;;\n                    Statement insert = connection.createStatement();\n                    insert.executeUpdate(insert_string);\n                    Player player=new Player(&quot;P1&quot;,&quot;Dan&quot;,&quot;Mic&quot;,18,&quot;Romania&quot;,&quot;Forward&quot;,1250);\n                    allPlayers.add(player);\n                }\n                //System.out.println(allPlayers.size());\n\n            } catch (Exception e) {\n                System.out.println(&quot;I am not connected to the Server&quot;);\n                e.printStackTrace();\n            }\n\n        } catch (Exception e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n    public void add(Player entity) throws SQLException {\n        allPlayers.add(entity);\n        String id=entity.getId();\n        String firstName=entity.getFirstName();\n        String lastName=entity.getLastName();\n        int age = entity.getAge();\n        String nationality= entity.getNationality();\n        String position=entity.getPosition();\n        int marketValue=entity.getMarketValue();\n        String insert_string = &quot;INSERT INTO PlayerMAP(id, firstName, lastName, age, nationality, position, marketValue) VALUES ('&quot;+id+&quot;', '&quot;+firstName+&quot;', '&quot;+lastName+&quot;', '&quot;+age+&quot;', '&quot;+nationality+&quot;', '&quot;+position+&quot;', '&quot;+marketValue+&quot;')&quot;;\n\n        Statement insert = this.connection.createStatement();\n        insert.executeUpdate(insert_string);\n\n    }\n</code></pre>\n<p>That's the code...\nSo I am expecting from my program to add an object of type Player, in my list <code>allPlayers</code>, and it should also add in my database in the table PlayerMAP. But there are no changes in my table PlayerMAP, when I check the SSMS.</p>\n"},{"tags":["java","jackson"],"owner":{"account_id":11218816,"reputation":725,"user_id":8230537,"accept_rate":100,"display_name":"Rollsbean"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670838556,"creation_date":1670838556,"question_id":74769267,"body_markdown":"There are two Java beans `Child` and `Parent`, enum `TypeEnum`\r\n\r\n```java\r\n@JsonTypeInfo(\r\n        use = JsonTypeInfo.Id.NAME,\r\n        property = &quot;type&quot;,\r\n        visible = true,\r\n        defaultImpl = Parent.class)\r\n@JsonSubTypes({\r\n        @JsonSubTypes.Type(value = Child.class, name = &quot;CHILD&quot;)\r\n})\r\npublic class Parent {\r\n   protected String type;\r\n\r\n   public getType() {...}\r\n   public setType(){...}\r\n}\r\n```\r\n\r\n```java\r\npublic class Child extends Parent {\r\n}\r\n```\r\n\r\n```java\r\npublic TypeEnum {\r\n\r\n  PARENT(1),\r\n\r\n  CHILD(2);\r\n\r\n  private int code;\r\n\r\n  TypeEnum(int code) {\r\n        code = code;\r\n  }\r\n}\r\n```\r\n\r\nWhen deserializing, if type is `&quot;PARENT&quot;` then convert it to bean `Parent`, if type is `&quot;CHILD&quot;` convert it to bean `CHILD`\r\n```json\r\n{\r\n  &quot;type&quot;: &quot;PARENT&quot;;\r\n}\r\n````\r\n\r\nwhile, the type value is 1 and 2 in previously data as below, current type value is TypeEnum#code.\r\n\r\n```json\r\n{\r\n  &quot;type&quot;: 1;\r\n}\r\n```\r\n\r\n```json\r\n{\r\n  &quot;type&quot;: 2;\r\n}\r\n```\r\n\r\nI want to deserialize these two scenarios using custom resolver as below, so whether `&quot;type&quot;: 1` or `&quot;type&quot;: &quot;PARENT&quot;` will be deserialized `PARENT`, but how to implement custom resolver, any idea?\r\n\r\n\r\n```\r\n@JsonTypeInfo(\r\n        use = JsonTypeInfo.Id.NAME,\r\n        property = &quot;type&quot;,\r\n        visible = true,\r\n        defaultImpl = Parent.class)\r\n@JsonSubTypes({\r\n        @JsonSubTypes.Type(value = Child.class, name = &quot;CHILD&quot;)\r\n})\r\n@JsonTypeIdResolver(CustomResolver.class)\r\n@JsonDeserialize(using = CustomSerializer.class)\r\npublic class Parent {...}\r\n```","title":"Jackson how to deserialize json using custom resolver with @JsonTypeInfo","body":"<p>There are two Java beans <code>Child</code> and <code>Parent</code>, enum <code>TypeEnum</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>@JsonTypeInfo(\n        use = JsonTypeInfo.Id.NAME,\n        property = &quot;type&quot;,\n        visible = true,\n        defaultImpl = Parent.class)\n@JsonSubTypes({\n        @JsonSubTypes.Type(value = Child.class, name = &quot;CHILD&quot;)\n})\npublic class Parent {\n   protected String type;\n\n   public getType() {...}\n   public setType(){...}\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class Child extends Parent {\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public TypeEnum {\n\n  PARENT(1),\n\n  CHILD(2);\n\n  private int code;\n\n  TypeEnum(int code) {\n        code = code;\n  }\n}\n</code></pre>\n<p>When deserializing, if type is <code>&quot;PARENT&quot;</code> then convert it to bean <code>Parent</code>, if type is <code>&quot;CHILD&quot;</code> convert it to bean <code>CHILD</code></p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;type&quot;: &quot;PARENT&quot;;\n}\n</code></pre>\n<p>while, the type value is 1 and 2 in previously data as below, current type value is TypeEnum#code.</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;type&quot;: 1;\n}\n</code></pre>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;type&quot;: 2;\n}\n</code></pre>\n<p>I want to deserialize these two scenarios using custom resolver as below, so whether <code>&quot;type&quot;: 1</code> or <code>&quot;type&quot;: &quot;PARENT&quot;</code> will be deserialized <code>PARENT</code>, but how to implement custom resolver, any idea?</p>\n<pre><code>@JsonTypeInfo(\n        use = JsonTypeInfo.Id.NAME,\n        property = &quot;type&quot;,\n        visible = true,\n        defaultImpl = Parent.class)\n@JsonSubTypes({\n        @JsonSubTypes.Type(value = Child.class, name = &quot;CHILD&quot;)\n})\n@JsonTypeIdResolver(CustomResolver.class)\n@JsonDeserialize(using = CustomSerializer.class)\npublic class Parent {...}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","hibernate"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1670234462,"post_id":74638903,"comment_id":131820684,"body_markdown":"How did you create the table? Identity ID creation is a database operation and not performed by hibernate","body":"How did you create the table? Identity ID creation is a database operation and not performed by hibernate"},{"owner":{"account_id":4739993,"reputation":1837,"user_id":3833111,"accept_rate":100,"display_name":"Mr_Thorynque"},"score":0,"creation_date":1670234540,"post_id":74638903,"comment_id":131820711,"body_markdown":"What database engine do you use ? (Mysql, Postgres...)","body":"What database engine do you use ? (Mysql, Postgres...)"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1670234600,"post_id":74638903,"comment_id":131820737,"body_markdown":"[Identity cache](https://www.sqlshack.com/learn-to-avoid-an-identity-jump-issue-identity_cache-with-the-help-of-trace-command-t272/) could be the issue","body":"<a href=\"https://www.sqlshack.com/learn-to-avoid-an-identity-jump-issue-identity_cache-with-the-help-of-trace-command-t272/\" rel=\"nofollow noreferrer\">Identity cache</a> could be the issue"},{"owner":{"account_id":4739993,"reputation":1837,"user_id":3833111,"accept_rate":100,"display_name":"Mr_Thorynque"},"score":0,"creation_date":1670234648,"post_id":74638903,"comment_id":131820759,"body_markdown":"If it&#39;s important to you to manage sequence you can use Strategy = GenerationType.AUTO. A specific table will be create to manage sequence.","body":"If it&#39;s important to you to manage sequence you can use Strategy = GenerationType.AUTO. A specific table will be create to manage sequence."},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1670234823,"post_id":74638903,"comment_id":131820815,"body_markdown":"@Mr_Thorynque `AUTO - either identity column, sequence or table depending on the underlying DB`. If sequence is desired, it should be specified explicitly with `@GeneratedValue(strategy=GenerationType.AUTO, generator=&quot;my_seq_gen&quot;) @SequenceGenerator(name=&quot;my_seq_gen&quot;, sequenceName=&quot;ENTITY_SEQ&quot;)`","body":"@Mr_Thorynque <code>AUTO - either identity column, sequence or table depending on the underlying DB</code>. If sequence is desired, it should be specified explicitly with <code>@GeneratedValue(strategy=GenerationType.AUTO, generator=&quot;my_seq_gen&quot;) @SequenceGenerator(name=&quot;my_seq_gen&quot;, sequenceName=&quot;ENTITY_SEQ&quot;)</code>"},{"owner":{"account_id":4484503,"reputation":16655,"user_id":3879847,"accept_rate":72,"display_name":"Ranjithkumar"},"score":0,"creation_date":1670234861,"post_id":74638903,"comment_id":131820824,"body_markdown":"@Mr_Thorynque I am using Oracle database.","body":"@Mr_Thorynque I am using Oracle database."},{"owner":{"account_id":4484503,"reputation":16655,"user_id":3879847,"accept_rate":72,"display_name":"Ranjithkumar"},"score":0,"creation_date":1670235265,"post_id":74638903,"comment_id":131820957,"body_markdown":"@XtremeBaumer I am using @ Table annotation. Table will create automatically when I launch the springboot application. I don&#39;t know it created by spring or hibernate. I&#39;m new to spring development","body":"@XtremeBaumer I am using @ Table annotation. Table will create automatically when I launch the springboot application. I don&#39;t know it created by spring or hibernate. I&#39;m new to spring development"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":3,"creation_date":1670235863,"post_id":74638903,"comment_id":131821151,"body_markdown":"Never let hibernate generate tables for you. It is bound to cause problems because you don&#39;t have full control. You should drop that table and recreate it manually with `(START WITH 1 INCREMENT BY 1 CYCLE CACHE 0)`","body":"Never let hibernate generate tables for you. It is bound to cause problems because you don&#39;t have full control. You should drop that table and recreate it manually with <code>(START WITH 1 INCREMENT BY 1 CYCLE CACHE 0)</code>"},{"owner":{"account_id":4484503,"reputation":16655,"user_id":3879847,"accept_rate":72,"display_name":"Ranjithkumar"},"score":0,"creation_date":1670236247,"post_id":74638903,"comment_id":131821271,"body_markdown":"@XtremeBaumer I don&#39;t know where I need to use this. I will do research for this. Thanks for your inputs.","body":"@XtremeBaumer I don&#39;t know where I need to use this. I will do research for this. Thanks for your inputs."},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":2,"creation_date":1670236574,"post_id":74638903,"comment_id":131821370,"body_markdown":"with a create table statement. maybe this is correct page: https://docs.oracle.com/en/database/other-databases/nosql-database/21.1/sqlreferencefornosql/identity-column.html","body":"with a create table statement. maybe this is correct page: <a href=\"https://docs.oracle.com/en/database/other-databases/nosql-database/21.1/sqlreferencefornosql/identity-column.html\" rel=\"nofollow noreferrer\">docs.oracle.com/en/database/other-databases/nosql-database/2&zwnj;&#8203;1.1/&hellip;</a>"},{"owner":{"account_id":4739993,"reputation":1837,"user_id":3833111,"accept_rate":100,"display_name":"Mr_Thorynque"},"score":0,"creation_date":1670236961,"post_id":74638903,"comment_id":131821480,"body_markdown":"Oracle manage id with sequence so may be that a Identity cache issue https://docs.oracle.com/cd/E11882_01/server.112/e41084/statements_6015.htm#SQLRF01314 by default cache size is 20","body":"Oracle manage id with sequence so may be that a Identity cache issue <a href=\"https://docs.oracle.com/cd/E11882_01/server.112/e41084/statements_6015.htm#SQLRF01314\" rel=\"nofollow noreferrer\">docs.oracle.com/cd/E11882_01/server.112/e41084/&hellip;</a> by default cache size is 20"},{"owner":{"account_id":4484503,"reputation":16655,"user_id":3879847,"accept_rate":72,"display_name":"Ranjithkumar"},"score":0,"creation_date":1670237255,"post_id":74638903,"comment_id":131821569,"body_markdown":"@Mr_Thorynque this is I want :) I try to figure out why it&#39;s increasing by 20. You got it. Thanks XtremeBaumer, for giving me valuable information.","body":"@Mr_Thorynque this is I want :) I try to figure out why it&#39;s increasing by 20. You got it. Thanks XtremeBaumer, for giving me valuable information."},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1670246575,"post_id":74638903,"comment_id":131824767,"body_markdown":"It increases because the first time you run the application, it allocates IDs 1 through 20. Since you don&#39;t fully use them and the application perhaps doesn&#39;t properly close its connection, oracle still has them allocated. Then you establish a new connection which allocates the next 20 IDs. This goes on and on. To fix this, you have to manually create the sequence with `NOCACHE` flag","body":"It increases because the first time you run the application, it allocates IDs 1 through 20. Since you don&#39;t fully use them and the application perhaps doesn&#39;t properly close its connection, oracle still has them allocated. Then you establish a new connection which allocates the next 20 IDs. This goes on and on. To fix this, you have to manually create the sequence with <code>NOCACHE</code> flag"},{"owner":{"account_id":18655,"reputation":4922,"user_id":42962,"accept_rate":71,"display_name":"hooknc"},"score":0,"creation_date":1670250583,"post_id":74638903,"comment_id":131826294,"body_markdown":"I strongly agree with @XtremeBaumer, do not let hibernate build your tables for you.  You can use what hibernate generates as a template, but it is bad idea in the long run.  The problems start to occur once your database is in production and you need to make changes to your database.  Hibernate will just change the database as needed and all data can be lost.  In general there are two database migration tools in java:  [Flyway and Liquibase](https://www.baeldung.com/liquibase-vs-flyway).","body":"I strongly agree with @XtremeBaumer, do not let hibernate build your tables for you.  You can use what hibernate generates as a template, but it is bad idea in the long run.  The problems start to occur once your database is in production and you need to make changes to your database.  Hibernate will just change the database as needed and all data can be lost.  In general there are two database migration tools in java:  <a href=\"https://www.baeldung.com/liquibase-vs-flyway\" rel=\"nofollow noreferrer\">Flyway and Liquibase</a>."},{"owner":{"account_id":5879019,"reputation":1195,"user_id":4629025,"display_name":"Raushan Kumar"},"score":0,"creation_date":1670293997,"post_id":74638903,"comment_id":131837976,"body_markdown":"Please try allocationSize so that it won&#39;t get cached\n@Id\n  @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;my_entity_seq&quot;)\n  @SequenceGenerator(name = &quot;my_entity_seq&quot;, sequenceName = &quot;my_entity_seq&quot;, allocationSize = 1)\n  private Long id;","body":"Please try allocationSize so that it won&#39;t get cached @Id   @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;my_entity_seq&quot;)   @SequenceGenerator(name = &quot;my_entity_seq&quot;, sequenceName = &quot;my_entity_seq&quot;, allocationSize = 1)   private Long id;"}],"answers":[{"tags":[],"owner":{"account_id":3298176,"reputation":7146,"user_id":2774914,"accept_rate":94,"display_name":"diziaq"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1670658341,"creation_date":1670509698,"answer_id":74731806,"question_id":74638903,"body_markdown":"It is related to Hi/Lo algorithm that Hibernate uses for incrementing the sequence value. Read more in this example: https://www.baeldung.com/hi-lo-algorithm-hibernate.\r\n\r\nThis is an optimization used by Hibernate, which consumes some values from the DB sequence into a pool (Java runtime) and uses them while executing appropriate `INSERT` statements on the table. If this optimization is turned off and set `allocationSize=1`, then the desired behavior (no gaps in ids) is possible (with a certain precision, not always), but for the price of making two requests to DB for each `INSERT`.\r\n\r\nExamples give the idea of what is going on in the upper level of abstraction.\r\n(Internal implementation is more complex, but here we don&#39;t care)\r\n\r\n**Scenario:** user makes 21 inserts during some period of time\r\n\r\n**Example 1 (current behavior `allocationSize=20`)**\r\n\r\n       #1 insert: // first cycle \r\n       - need next MY_SEQ value, but MY_SEQ_PREFETCH_POOL is empty\r\n       - select 20 values from MY_SEQ into MY_SEQ_PREFETCH_POOL   // call DB\r\n       - take it from MY_SEQ_PREFETCH_POOL &gt;&gt; remaining=20-1\r\n       - execute INSERT                                           // call DB\r\n    \r\n       #2-#20 insert:\r\n       - need next MY_SEQ value, \r\n       - take it from MY_SEQ_PREFETCH_POOL &gt;&gt; remaining=20-i\r\n       - execute INSERT                                           // call DB\r\n     \r\n       #21 insert: // new cycle \r\n       - need next MY_SEQ value, but MY_SEQ_PREFETCH_POOL is empty\r\n       - select 20 values from MY_SEQ into MY_SEQ_PREFETCH_POOL   // call DB\r\n       - take it from MY_SEQ_PREFETCH_POOL &gt;&gt; remaining=19\r\n       - execute INSERT                                           // call DB\r\n\r\n**Example 2 (current behavior `allocationSize=1`)**\r\n\r\n       #1-21 insert:\r\n       - need next MY_SEQ value, but MY_SEQ_PREFETCH_POOL is empty\r\n       - select 1 value from MY_SEQ into MY_SEQ_PREFETCH_POOL     // call DB\r\n       - take it from MY_SEQ_PREFETCH_POOL &gt;&gt; remaining=0\r\n       - execute INSERT                                           // call DB\r\n\r\n\r\n**Example#1**: total calls to DB is **23**\\\r\n**Example#2**: total calls to DB is **42**\r\n\r\nManual declaration of the sequence in the database will not help in this case, because, for instance in this statement\\\r\n\r\n`CREATE SEQUENCE ABC START WITH 1 INCREMENT BY 1 CYCLE NOCACHE;`\r\n\r\nwe control only &quot;cache&quot; used in the DB internal runtime, which is not visible to Hibernate. It affects sequence gaps in situations when DB stopped and started again, and this is not the case.\r\n\r\nWhen Hibernate consumes values from the sequence it implies that the state of the sequence is changed on DB side. We may treat it as hotel rooms booking: a company (Hibernate) booked 20 rooms for a conference in a hotel (DB), but only 2 participants arrived. Then 18 rooms will stay empty and cannot be used by other guests. In this case the &quot;booking period&quot; is forever.\r\n\r\n\r\nMore details on how to configure Hibernate work with sequences is here:\r\nhttps://ntsim.uk/posts/how-to-use-hibernate-identifier-sequence-generators-properly\r\n\r\nHere is a short answer for older version of Hibernate. Still it has relevant ideas:\r\nhttps://stackoverflow.com/a/5346701/2774914\r\n\r\n","title":"Hibernate GenerationType.IDENTITY not generating sequence ids","body":"<p>It is related to Hi/Lo algorithm that Hibernate uses for incrementing the sequence value. Read more in this example: <a href=\"https://www.baeldung.com/hi-lo-algorithm-hibernate\" rel=\"nofollow noreferrer\">https://www.baeldung.com/hi-lo-algorithm-hibernate</a>.</p>\n<p>This is an optimization used by Hibernate, which consumes some values from the DB sequence into a pool (Java runtime) and uses them while executing appropriate <code>INSERT</code> statements on the table. If this optimization is turned off and set <code>allocationSize=1</code>, then the desired behavior (no gaps in ids) is possible (with a certain precision, not always), but for the price of making two requests to DB for each <code>INSERT</code>.</p>\n<p>Examples give the idea of what is going on in the upper level of abstraction.\n(Internal implementation is more complex, but here we don't care)</p>\n<p><strong>Scenario:</strong> user makes 21 inserts during some period of time</p>\n<p><strong>Example 1 (current behavior <code>allocationSize=20</code>)</strong></p>\n<pre><code>   #1 insert: // first cycle \n   - need next MY_SEQ value, but MY_SEQ_PREFETCH_POOL is empty\n   - select 20 values from MY_SEQ into MY_SEQ_PREFETCH_POOL   // call DB\n   - take it from MY_SEQ_PREFETCH_POOL &gt;&gt; remaining=20-1\n   - execute INSERT                                           // call DB\n\n   #2-#20 insert:\n   - need next MY_SEQ value, \n   - take it from MY_SEQ_PREFETCH_POOL &gt;&gt; remaining=20-i\n   - execute INSERT                                           // call DB\n \n   #21 insert: // new cycle \n   - need next MY_SEQ value, but MY_SEQ_PREFETCH_POOL is empty\n   - select 20 values from MY_SEQ into MY_SEQ_PREFETCH_POOL   // call DB\n   - take it from MY_SEQ_PREFETCH_POOL &gt;&gt; remaining=19\n   - execute INSERT                                           // call DB\n</code></pre>\n<p><strong>Example 2 (current behavior <code>allocationSize=1</code>)</strong></p>\n<pre><code>   #1-21 insert:\n   - need next MY_SEQ value, but MY_SEQ_PREFETCH_POOL is empty\n   - select 1 value from MY_SEQ into MY_SEQ_PREFETCH_POOL     // call DB\n   - take it from MY_SEQ_PREFETCH_POOL &gt;&gt; remaining=0\n   - execute INSERT                                           // call DB\n</code></pre>\n<p><strong>Example#1</strong>: total calls to DB is <strong>23</strong><br />\n<strong>Example#2</strong>: total calls to DB is <strong>42</strong></p>\n<p>Manual declaration of the sequence in the database will not help in this case, because, for instance in this statement\\</p>\n<p><code>CREATE SEQUENCE ABC START WITH 1 INCREMENT BY 1 CYCLE NOCACHE;</code></p>\n<p>we control only &quot;cache&quot; used in the DB internal runtime, which is not visible to Hibernate. It affects sequence gaps in situations when DB stopped and started again, and this is not the case.</p>\n<p>When Hibernate consumes values from the sequence it implies that the state of the sequence is changed on DB side. We may treat it as hotel rooms booking: a company (Hibernate) booked 20 rooms for a conference in a hotel (DB), but only 2 participants arrived. Then 18 rooms will stay empty and cannot be used by other guests. In this case the &quot;booking period&quot; is forever.</p>\n<p>More details on how to configure Hibernate work with sequences is here:\n<a href=\"https://ntsim.uk/posts/how-to-use-hibernate-identifier-sequence-generators-properly\" rel=\"nofollow noreferrer\">https://ntsim.uk/posts/how-to-use-hibernate-identifier-sequence-generators-properly</a></p>\n<p>Here is a short answer for older version of Hibernate. Still it has relevant ideas:\n<a href=\"https://stackoverflow.com/a/5346701/2774914\">https://stackoverflow.com/a/5346701/2774914</a></p>\n"},{"comments":[{"owner":{"account_id":4484503,"reputation":16655,"user_id":3879847,"accept_rate":72,"display_name":"Ranjithkumar"},"score":0,"creation_date":1674485649,"post_id":74749153,"comment_id":132718208,"body_markdown":"Can I set NOCACHE from JPA annotation entity class?","body":"Can I set NOCACHE from JPA annotation entity class?"},{"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"score":0,"creation_date":1674499388,"post_id":74749153,"comment_id":132722612,"body_markdown":"Hi @Ranjithkumar. No, AFAIK it is not possible. As I tried to explain in the answer, you need to perform the change at the database level.","body":"Hi @Ranjithkumar. No, AFAIK it is not possible. As I tried to explain in the answer, you need to perform the change at the database level."},{"owner":{"account_id":4484503,"reputation":16655,"user_id":3879847,"accept_rate":72,"display_name":"Ranjithkumar"},"score":0,"creation_date":1674542132,"post_id":74749153,"comment_id":132730275,"body_markdown":"I thought the same. thanks for your feedback","body":"I thought the same. thanks for your feedback"}],"tags":[],"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1670702475,"creation_date":1670628321,"answer_id":74749153,"question_id":74638903,"body_markdown":"Although I think the question comments already provide all the information necessary to understand the problem, please, let me try explain some things and try fixing some inaccuracies.\r\n\r\nAccording to your source code you are using the `IDENTITY` id generation strategy:\r\n\r\n```java\r\n@Id\r\n@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n@Column(unique = true, nullable = false)\r\nprivate Long id;\r\n```\r\n\r\nYou are using an Oracle database and this is a very relevant information for the question.\r\n\r\nSupport for `IDENTITY` columns was introduced in Oracle 12c, probably Release 1, and in Hibernate version - I would say [5.1](https://hibernate.atlassian.net/browse/HHH-9983) although [here in SO](https://stackoverflow.com/questions/57767571/how-do-i-use-oracle-12c-automatic-identity-generation-with-hibernate-spring-and) is indicated that you need at least - 5.3.\r\n\r\nEither way, `IDENTITY` columns in Oracle are supported by the use of database `SEQUENCE`s: i.e., for every `IDENTITY` column a corresponding sequence is created. As you can read in the [Oracle documentation](https://docs.oracle.com/en/database/oracle/oracle-database/18/sqlrf/CREATE-TABLE.html#GUID-F9CE0CC3-13AE-4744-A43C-EAC7A71AAAB6) this explain why, among others, all the options for creating sequences can be applied to the `IDENTITY` column definition, like min and max ranges, cache size, etc.\r\n\r\nBy default a sequence in Oracle has a cache size of `20` as indicated in a tiny note in the [aforementioned Oracle documentation](https://docs.oracle.com/en/database/oracle/oracle-database/18/sqlrf/CREATE-TABLE.html#GUID-F9CE0CC3-13AE-4744-A43C-EAC7A71AAAB6):\r\n\r\n&gt; **Note:** When you create an identity column, Oracle recommends that you \r\n&gt; specify the `CACHE` clause with a value higher than the default of `20` to \r\n&gt; enhance performance.\r\n\r\nAnd this default cache size is the reason that explains why you are obtaining this non consecutive numbers in your `id` values.\r\n\r\nThis behavior is not exclusive to Hibernate: please, just issue a simple JDBC insert statement or SQL commands with any suitable tool and you will experiment the same.\r\n\r\nTo solve the issue create your table indicating `NOCACHE` for your IDENTITY column:\r\n\r\n```sql\r\nCREATE TABLE your_table (\r\n  id NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY NOCACHE,\r\n  --...\r\n)\r\n```\r\n\r\nNote you need to use [`NOCACHE`](https://docs.oracle.com/en/database/oracle/oracle-database/18/sqlrf/CREATE-SEQUENCE.html#GUID-E9C78A8C-615A-4757-B2A8-5E6EFB130571) and not `CACHE 0` as indicated in the question comments and now in a previous version of other answers, which is an error because the value for the [`CACHE` option](https://docs.oracle.com/en/database/oracle/oracle-database/18/sqlrf/CREATE-SEQUENCE.html#GUID-E9C78A8C-615A-4757-B2A8-5E6EFB130571) should be at least `2`.\r\n\r\nProbably you could modify your column without recreating the whole table as well:\r\n\r\n```sql\r\nALTER TABLE your_table MODIFY (ID GENERATED BY DEFAULT ON NULL AS IDENTITY NOCACHE);\r\n``` \r\n\r\nHaving said all that, please, be aware that in fact the [cache mechanism](https://docs.oracle.com/cd/B28359_01/server.111/b28310/views002.htm#ADMIN11801) is an optimization and not a drawback: in the end, and this is just my opinion, those ids are only non natural assigned IDs and, in a general use case, the cache benefits outweigh the drawbacks.\r\n\r\nPlease, consider read [this great article](https://oracle-base.com/articles/12c/identity-columns-in-oracle-12cr1) about `IDENTITY` columns in Oracle. \r\n\r\nThe provided answer related to the use of the `hilo` optimizer could be right but it requires explicitly using the optimizer in your `id` field declaration which seems not to be the case.","title":"Hibernate GenerationType.IDENTITY not generating sequence ids","body":"<p>Although I think the question comments already provide all the information necessary to understand the problem, please, let me try explain some things and try fixing some inaccuracies.</p>\n<p>According to your source code you are using the <code>IDENTITY</code> id generation strategy:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\n@Column(unique = true, nullable = false)\nprivate Long id;\n</code></pre>\n<p>You are using an Oracle database and this is a very relevant information for the question.</p>\n<p>Support for <code>IDENTITY</code> columns was introduced in Oracle 12c, probably Release 1, and in Hibernate version - I would say <a href=\"https://hibernate.atlassian.net/browse/HHH-9983\" rel=\"nofollow noreferrer\">5.1</a> although <a href=\"https://stackoverflow.com/questions/57767571/how-do-i-use-oracle-12c-automatic-identity-generation-with-hibernate-spring-and\">here in SO</a> is indicated that you need at least - 5.3.</p>\n<p>Either way, <code>IDENTITY</code> columns in Oracle are supported by the use of database <code>SEQUENCE</code>s: i.e., for every <code>IDENTITY</code> column a corresponding sequence is created. As you can read in the <a href=\"https://docs.oracle.com/en/database/oracle/oracle-database/18/sqlrf/CREATE-TABLE.html#GUID-F9CE0CC3-13AE-4744-A43C-EAC7A71AAAB6\" rel=\"nofollow noreferrer\">Oracle documentation</a> this explain why, among others, all the options for creating sequences can be applied to the <code>IDENTITY</code> column definition, like min and max ranges, cache size, etc.</p>\n<p>By default a sequence in Oracle has a cache size of <code>20</code> as indicated in a tiny note in the <a href=\"https://docs.oracle.com/en/database/oracle/oracle-database/18/sqlrf/CREATE-TABLE.html#GUID-F9CE0CC3-13AE-4744-A43C-EAC7A71AAAB6\" rel=\"nofollow noreferrer\">aforementioned Oracle documentation</a>:</p>\n<blockquote>\n<p><strong>Note:</strong> When you create an identity column, Oracle recommends that you\nspecify the <code>CACHE</code> clause with a value higher than the default of <code>20</code> to\nenhance performance.</p>\n</blockquote>\n<p>And this default cache size is the reason that explains why you are obtaining this non consecutive numbers in your <code>id</code> values.</p>\n<p>This behavior is not exclusive to Hibernate: please, just issue a simple JDBC insert statement or SQL commands with any suitable tool and you will experiment the same.</p>\n<p>To solve the issue create your table indicating <code>NOCACHE</code> for your IDENTITY column:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE TABLE your_table (\n  id NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY NOCACHE,\n  --...\n)\n</code></pre>\n<p>Note you need to use <a href=\"https://docs.oracle.com/en/database/oracle/oracle-database/18/sqlrf/CREATE-SEQUENCE.html#GUID-E9C78A8C-615A-4757-B2A8-5E6EFB130571\" rel=\"nofollow noreferrer\"><code>NOCACHE</code></a> and not <code>CACHE 0</code> as indicated in the question comments and now in a previous version of other answers, which is an error because the value for the <a href=\"https://docs.oracle.com/en/database/oracle/oracle-database/18/sqlrf/CREATE-SEQUENCE.html#GUID-E9C78A8C-615A-4757-B2A8-5E6EFB130571\" rel=\"nofollow noreferrer\"><code>CACHE</code> option</a> should be at least <code>2</code>.</p>\n<p>Probably you could modify your column without recreating the whole table as well:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>ALTER TABLE your_table MODIFY (ID GENERATED BY DEFAULT ON NULL AS IDENTITY NOCACHE);\n</code></pre>\n<p>Having said all that, please, be aware that in fact the <a href=\"https://docs.oracle.com/cd/B28359_01/server.111/b28310/views002.htm#ADMIN11801\" rel=\"nofollow noreferrer\">cache mechanism</a> is an optimization and not a drawback: in the end, and this is just my opinion, those ids are only non natural assigned IDs and, in a general use case, the cache benefits outweigh the drawbacks.</p>\n<p>Please, consider read <a href=\"https://oracle-base.com/articles/12c/identity-columns-in-oracle-12cr1\" rel=\"nofollow noreferrer\">this great article</a> about <code>IDENTITY</code> columns in Oracle.</p>\n<p>The provided answer related to the use of the <code>hilo</code> optimizer could be right but it requires explicitly using the optimizer in your <code>id</code> field declaration which seems not to be the case.</p>\n"}],"owner":{"account_id":4484503,"reputation":16655,"user_id":3879847,"accept_rate":72,"display_name":"Ranjithkumar"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2300,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":74749153,"answer_count":2,"score":3,"last_activity_date":1670838384,"creation_date":1669883327,"question_id":74638903,"body_markdown":"In my springboot application, I noticed one strange issue when inserting new rows. \r\n\r\n\r\nMy ids are generated by sequence, but after I restart the application it starts from 21. \r\n\r\n**Example:** \r\n\r\nFirst launch, I insert 3 rows - ids generated by sequence 1,2,3\r\n\r\nAfter restart second launch, I insert 3 rows ids generated from 21.  So ids are 21,22 ... \r\n\r\nEvery restart It increased to 20. - **This increasing pattern always 20**  \r\n\r\n**Refer my database table (1,2 after restart 21)**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n**My JPA entity**\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(unique = true, nullable = false)\r\n    private Long id;\r\n\r\nI tried some stackoverflow solutions, it&#39;s not working \r\n\r\nI tried this, not working\r\n\r\n    spring.jpa.properties.hibernate.id.new_generator_mappings=false\r\n\r\n\r\n\r\nI want to insert rows by sequence like 1,2,3,4. Not like this 1,2,21,22, How to resolve this problem?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fsI3N.png","title":"Hibernate GenerationType.IDENTITY not generating sequence ids","body":"<p>In my springboot application, I noticed one strange issue when inserting new rows.</p>\n<p>My ids are generated by sequence, but after I restart the application it starts from 21.</p>\n<p><strong>Example:</strong></p>\n<p>First launch, I insert 3 rows - ids generated by sequence 1,2,3</p>\n<p>After restart second launch, I insert 3 rows ids generated from 21.  So ids are 21,22 ...</p>\n<p>Every restart It increased to 20. - <strong>This increasing pattern always 20</strong></p>\n<p><strong>Refer my database table (1,2 after restart 21)</strong></p>\n<p><a href=\"https://i.stack.imgur.com/fsI3N.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fsI3N.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>My JPA entity</strong></p>\n<pre><code>@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\n@Column(unique = true, nullable = false)\nprivate Long id;\n</code></pre>\n<p>I tried some stackoverflow solutions, it's not working</p>\n<p>I tried this, not working</p>\n<pre><code>spring.jpa.properties.hibernate.id.new_generator_mappings=false\n</code></pre>\n<p>I want to insert rows by sequence like 1,2,3,4. Not like this 1,2,21,22, How to resolve this problem?</p>\n"},{"tags":["java","parallel-processing","java-stream","completable-future"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":5,"creation_date":1670835481,"post_id":74768680,"comment_id":131956813,"body_markdown":"A stream instance can only be used once. This supplier returns the same stream instance each time `get` is called. Typically, suppliers should return a new instance on each invocation.","body":"A stream instance can only be used once. This supplier returns the same stream instance each time <code>get</code> is called. Typically, suppliers should return a new instance on each invocation."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1670835505,"post_id":74768680,"comment_id":131956822,"body_markdown":"What do you mean by &quot;stream of stream&quot;? And at which line in your code do you get that error message? Please edit your question and add the complete stack trace of the exception.","body":"What do you mean by &quot;stream of stream&quot;? And at which line in your code do you get that error message? Please edit your question and add the complete stack trace of the exception."},{"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1670840054,"post_id":74768680,"comment_id":131958133,"body_markdown":"You can check [this answer](https://stackoverflow.com/a/67040099/10819573) to learn more about how to use a `Supplier` of `Stream`.","body":"You can check <a href=\"https://stackoverflow.com/a/67040099/10819573\">this answer</a> to learn more about how to use a <code>Supplier</code> of <code>Stream</code>."},{"owner":{"account_id":7811986,"reputation":71,"user_id":5907914,"display_name":"Neo Jou"},"score":0,"creation_date":1670847965,"post_id":74768680,"comment_id":131960616,"body_markdown":"Since a stream instance can only be used once, we can modified the code as below:  `List&lt;String&gt; slist = s.collect(Collectors.toList());\n        System.out.println(slist.size());\n\n        Stream&lt;String&gt; s1 = slist.stream();\n        Supplier&lt;Stream&lt;String&gt;&gt; streamSupplier = () -&gt; s1;\n\n        final AtomicInteger counter = new AtomicInteger();\n        streamSupplier.get().parallel()`\n...","body":"Since a stream instance can only be used once, we can modified the code as below:  <code>List&lt;String&gt; slist = s.collect(Collectors.toList());         System.out.println(slist.size());          Stream&lt;String&gt; s1 = slist.stream();         Supplier&lt;Stream&lt;String&gt;&gt; streamSupplier = () -&gt; s1;          final AtomicInteger counter = new AtomicInteger();         streamSupplier.get().parallel()</code> ..."},{"owner":{"account_id":15801712,"reputation":1288,"user_id":11402025,"display_name":"Tanu"},"score":0,"creation_date":1670896898,"post_id":74768680,"comment_id":131974721,"body_markdown":"@NeoJou this is giving me an error as well.","body":"@NeoJou this is giving me an error as well."},{"owner":{"account_id":15801712,"reputation":1288,"user_id":11402025,"display_name":"Tanu"},"score":0,"creation_date":1670911973,"post_id":74768680,"comment_id":131976671,"body_markdown":"@ArvindKumarAvinash I am using the supplier stream in the example above, the issue I am facing is that I am working with an already created stream. Thanks","body":"@ArvindKumarAvinash I am using the supplier stream in the example above, the issue I am facing is that I am working with an already created stream. Thanks"},{"owner":{"account_id":7811986,"reputation":71,"user_id":5907914,"display_name":"Neo Jou"},"score":0,"creation_date":1671032668,"post_id":74768680,"comment_id":132010794,"body_markdown":"@Tanu Since Stream&lt;String&gt; s is the parameter of the test, is it possible that the Steam&lt;String&gt; s is already consumed before entering to run in this test function? I did a simple test problem at https://github.com/neojou/java_on_macOS/blob/main/SupplierExample/src/Main.java and it runs well here. FYI.","body":"@Tanu Since Stream&lt;String&gt; s is the parameter of the test, is it possible that the Steam&lt;String&gt; s is already consumed before entering to run in this test function? I did a simple test problem at <a href=\"https://github.com/neojou/java_on_macOS/blob/main/SupplierExample/src/Main.java\" rel=\"nofollow noreferrer\">github.com/neojou/java_on_macOS/blob/main/SupplierExample/sr&zwnj;&#8203;c/&hellip;</a> and it runs well here. FYI."}],"answers":[{"comments":[{"owner":{"account_id":15801712,"reputation":1288,"user_id":11402025,"display_name":"Tanu"},"score":0,"creation_date":1670896944,"post_id":74769206,"comment_id":131974732,"body_markdown":"I want to find an alternative, that is something I cannot control. Thank you.","body":"I want to find an alternative, that is something I cannot control. Thank you."},{"owner":{"account_id":15801712,"reputation":1288,"user_id":11402025,"display_name":"Tanu"},"score":0,"creation_date":1670912057,"post_id":74769206,"comment_id":131976686,"body_markdown":"This is not a duplicate question. It is a different problem the user is facing. Thanks","body":"This is not a duplicate question. It is a different problem the user is facing. Thanks"}],"tags":[],"owner":{"account_id":3498606,"reputation":5166,"user_id":2925962,"accept_rate":0,"display_name":"akortex"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670838230,"creation_date":1670838230,"answer_id":74769206,"question_id":74768680,"body_markdown":"Not really sure what you are trying to achieve with this one, but a stream can only be used once. Quoting from the [documentation][1]:\r\n\r\n&gt; A stream should be operated on (invoking an intermediate or terminal stream operation) only once. This rules out, for example, &quot;forked&quot; streams, where the same source feeds two or more pipelines, or multiple traversals of the same stream. A stream implementation may throw IllegalStateException if it detects that the stream is being reused. However, since some stream operations may return their receiver rather than a new stream object, it may not be possible to detect reuse in all cases.\r\n\r\nI think that you want to have a re-usable stream, so in this case I would suggest you pass in the original collection instead of the `Stream` of this collection dataset.\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html","title":"Creating Supplier stream of Stream","body":"<p>Not really sure what you are trying to achieve with this one, but a stream can only be used once. Quoting from the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n<blockquote>\n<p>A stream should be operated on (invoking an intermediate or terminal stream operation) only once. This rules out, for example, &quot;forked&quot; streams, where the same source feeds two or more pipelines, or multiple traversals of the same stream. A stream implementation may throw IllegalStateException if it detects that the stream is being reused. However, since some stream operations may return their receiver rather than a new stream object, it may not be possible to detect reuse in all cases.</p>\n</blockquote>\n<p>I think that you want to have a re-usable stream, so in this case I would suggest you pass in the original collection instead of the <code>Stream</code> of this collection dataset.</p>\n"}],"owner":{"account_id":15801712,"reputation":1288,"user_id":11402025,"display_name":"Tanu"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":130,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"closed_date":1670844124,"answer_count":1,"score":1,"last_activity_date":1670838230,"creation_date":1670835256,"question_id":74768680,"body_markdown":"I am creating a Supplier Stream of String and working on the same.\r\n\r\n\r\n```java\r\npublic void test(Stream&lt;String&gt; s) {\r\n    Supplier&lt;Stream&lt;String&gt;&gt; streamSupplier = () -&gt; s;\r\n\r\n    System.out.println(streamSupplier.get().count());\r\n\r\n    streamSupplier.get().parallel()\r\n        .collect(Collectors.groupingBy(it -&gt; counter.getAndIncrement() / 2))\r\n        .values()\r\n        .stream()\r\n        .forEach(input -&gt; {\r\n            System.out.println(&quot;input &quot; + input);\r\n        });\r\n```\r\n\r\nI am getting an error &quot;stream has already been operated upon or closed&quot; when I try to work with the stream. How can I resolve this. Thank you.","title":"Creating Supplier stream of Stream","body":"<p>I am creating a Supplier Stream of String and working on the same.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void test(Stream&lt;String&gt; s) {\n    Supplier&lt;Stream&lt;String&gt;&gt; streamSupplier = () -&gt; s;\n\n    System.out.println(streamSupplier.get().count());\n\n    streamSupplier.get().parallel()\n        .collect(Collectors.groupingBy(it -&gt; counter.getAndIncrement() / 2))\n        .values()\n        .stream()\n        .forEach(input -&gt; {\n            System.out.println(&quot;input &quot; + input);\n        });\n</code></pre>\n<p>I am getting an error &quot;stream has already been operated upon or closed&quot; when I try to work with the stream. How can I resolve this. Thank you.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":4,"creation_date":1670836923,"post_id":74768933,"comment_id":131957221,"body_markdown":"First `a + a` is calculated, that&#39;s 2. Then `a -= 2` is calculated, the result is -1. The actual calculation is not `a - a + a` but `a - (a + a)`, which is the same as `a - a - a`.","body":"First <code>a + a</code> is calculated, that&#39;s 2. Then <code>a -= 2</code> is calculated, the result is -1. The actual calculation is not <code>a - a + a</code> but <code>a - (a + a)</code>, which is the same as <code>a - a - a</code>."}],"answers":[{"tags":[],"owner":{"account_id":26249192,"reputation":190,"user_id":19922257,"display_name":"OuterSoda"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670836902,"creation_date":1670836902,"answer_id":74768956,"question_id":74768933,"body_markdown":"Order of operations - in the first one, a + a is calculated then that is subtracted from a. In the second one, the subtraction of a from a is done, then the addition (left to right).","title":"How does this calculation a -= a + a works? (int a = 1) The result of the execution is -1, not 1","body":"<p>Order of operations - in the first one, a + a is calculated then that is subtracted from a. In the second one, the subtraction of a from a is done, then the addition (left to right).</p>\n"},{"tags":[],"owner":{"account_id":8198,"reputation":176803,"user_id":14637,"accept_rate":88,"display_name":"Thomas"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1670836985,"creation_date":1670836985,"answer_id":74768970,"question_id":74768933,"body_markdown":"`-=` has lower precedence than `+`, so the order of operations is:\r\n\r\n```\r\na -= (a + a);\r\na -= (1 + 1);\r\na -= 2;\r\n```\r\n\r\nOn the other hand, `-` has the same precedence as `+`, and is left-associative, so the order of operations here is:\r\n\r\n```\r\na = ((a - a) + a);\r\na = ((1 - 1) + 1);\r\na = (   0    + 1);\r\na = 1;\r\n```","title":"How does this calculation a -= a + a works? (int a = 1) The result of the execution is -1, not 1","body":"<p><code>-=</code> has lower precedence than <code>+</code>, so the order of operations is:</p>\n<pre><code>a -= (a + a);\na -= (1 + 1);\na -= 2;\n</code></pre>\n<p>On the other hand, <code>-</code> has the same precedence as <code>+</code>, and is left-associative, so the order of operations here is:</p>\n<pre><code>a = ((a - a) + a);\na = ((1 - 1) + 1);\na = (   0    + 1);\na = 1;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":61566,"reputation":68934,"user_id":183406,"accept_rate":74,"display_name":"meriton"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1670837190,"creation_date":1670837190,"answer_id":74769003,"question_id":74768933,"body_markdown":"The Java Language Specification [writes](https://docs.oracle.com/javase/specs/jls/se19/html/jls-15.html#jls-15.26.2):\r\n\r\n&gt; A compound assignment expression of the form `E1 op= E2` is equivalent to `E1 = (T) ((E1) op (E2))`, where `T` is the type of `E1`, except that `E1` is evaluated only once. \r\n\r\nThat is, the expression\r\n\r\n```\r\na -= a + a\r\n```\r\n\r\nis equivalent to\r\n\r\n```\r\na = (int) ((a) - (a + a))\r\n```\r\n\r\nwhich evaluates like\r\n\r\n```\r\na = (1) - (1 + 1)\r\n```","title":"How does this calculation a -= a + a works? (int a = 1) The result of the execution is -1, not 1","body":"<p>The Java Language Specification <a href=\"https://docs.oracle.com/javase/specs/jls/se19/html/jls-15.html#jls-15.26.2\" rel=\"noreferrer\">writes</a>:</p>\n<blockquote>\n<p>A compound assignment expression of the form <code>E1 op= E2</code> is equivalent to <code>E1 = (T) ((E1) op (E2))</code>, where <code>T</code> is the type of <code>E1</code>, except that <code>E1</code> is evaluated only once.</p>\n</blockquote>\n<p>That is, the expression</p>\n<pre><code>a -= a + a\n</code></pre>\n<p>is equivalent to</p>\n<pre><code>a = (int) ((a) - (a + a))\n</code></pre>\n<p>which evaluates like</p>\n<pre><code>a = (1) - (1 + 1)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15156524,"reputation":70,"user_id":10937125,"display_name":"m.18"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670838128,"creation_date":1670838128,"answer_id":74769185,"question_id":74768933,"body_markdown":"It makes sense that the answer is -1 since a -= a+a means you are setting the variable a to the value of a-(a+a). Since a is initialized as 1, a-(a+a)=1-(1+1)=1-2=-1.","title":"How does this calculation a -= a + a works? (int a = 1) The result of the execution is -1, not 1","body":"<p>It makes sense that the answer is -1 since a -= a+a means you are setting the variable a to the value of a-(a+a). Since a is initialized as 1, a-(a+a)=1-(1+1)=1-2=-1.</p>\n"}],"owner":{"account_id":14267350,"reputation":27,"user_id":10306008,"display_name":"WinsenTjhang"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"accepted_answer_id":74769003,"answer_count":4,"score":-4,"last_activity_date":1670838128,"creation_date":1670836758,"question_id":74768933,"body_markdown":"```\r\nint a = 1;\r\n\r\na -= a + a;\r\n```\r\n\r\nThe above code result is -1, which I am expecting it to be 1.\r\n\r\nBut the below code actually get me 1\r\n```\r\na = a - a + a\r\n```\r\nAren&#39;t they supposed to be the same? How the first code get to -1?\r\n\r\n\r\nI tried to look at mathematical order of operation of addition and subtraction, which I thought I would have misunderstanding on how they works. But it looks like I am correct by doing left to right operation on the calculation.","title":"How does this calculation a -= a + a works? (int a = 1) The result of the execution is -1, not 1","body":"<pre><code>int a = 1;\n\na -= a + a;\n</code></pre>\n<p>The above code result is -1, which I am expecting it to be 1.</p>\n<p>But the below code actually get me 1</p>\n<pre><code>a = a - a + a\n</code></pre>\n<p>Aren't they supposed to be the same? How the first code get to -1?</p>\n<p>I tried to look at mathematical order of operation of addition and subtraction, which I thought I would have misunderstanding on how they works. But it looks like I am correct by doing left to right operation on the calculation.</p>\n"},{"tags":["java","arrays","multidimensional-array","arraylist"],"answers":[{"comments":[{"owner":{"account_id":23120197,"reputation":23,"user_id":17226834,"display_name":"Faisal BENTOUHAMI"},"score":0,"creation_date":1670833396,"post_id":74768106,"comment_id":131956208,"body_markdown":"Thank you for your replay, it works ONLY for the same order, but it dons&#39;t work for other orders.\nif we choose each time a different order, it replaces all the contents of the arrayList with the first order !","body":"Thank you for your replay, it works ONLY for the same order, but it dons&#39;t work for other orders. if we choose each time a different order, it replaces all the contents of the arrayList with the first order !"},{"owner":{"account_id":23120197,"reputation":23,"user_id":17226834,"display_name":"Faisal BENTOUHAMI"},"score":0,"creation_date":1670833420,"post_id":74768106,"comment_id":131956214,"body_markdown":"Entrez le N&#176; de consommable ou Q(Quitter) \n1\nNombre de consommations pour Spa reine 25  ? /A(Annuler) /Q (Quitter)\n2\nYES ITS EMPTY\nadded\nEntrez le N&#176; de consommable ou Q(Quitter) V (Valider le ticket) \n4\nNombre de consommations pour Pepsi ? /A(Annuler) /Q (Quitter)\n5\nadded\nEntrez le N&#176; de consommable ou Q(Quitter) V (Valider le ticket) \nv\n[1, 2][1, 2]\nNombre de consommation : 2","body":"Entrez le N&#176; de consommable ou Q(Quitter)  1 Nombre de consommations pour Spa reine 25  ? /A(Annuler) /Q (Quitter) 2 YES ITS EMPTY added Entrez le N&#176; de consommable ou Q(Quitter) V (Valider le ticket)  4 Nombre de consommations pour Pepsi ? /A(Annuler) /Q (Quitter) 5 added Entrez le N&#176; de consommable ou Q(Quitter) V (Valider le ticket)  v [1, 2][1, 2] Nombre de consommation : 2"},{"owner":{"account_id":10455291,"reputation":1835,"user_id":7707631,"display_name":"Stefan Warminski"},"score":0,"creation_date":1670837549,"post_id":74768106,"comment_id":131957402,"body_markdown":"@FaisalBENTOUHAMI You declare `Order` outside the loop, see EDIT in answer","body":"@FaisalBENTOUHAMI You declare <code>Order</code> outside the loop, see EDIT in answer"},{"owner":{"account_id":23120197,"reputation":23,"user_id":17226834,"display_name":"Faisal BENTOUHAMI"},"score":0,"creation_date":1670847543,"post_id":74768106,"comment_id":131960458,"body_markdown":"thank you SO much for your HELP, i found the problem in my CODE, and i fixed it :) \nnot bad for my first QUESTION :)","body":"thank you SO much for your HELP, i found the problem in my CODE, and i fixed it :)  not bad for my first QUESTION :)"}],"tags":[],"owner":{"account_id":10455291,"reputation":1835,"user_id":7707631,"display_name":"Stefan Warminski"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670837487,"creation_date":1670831704,"answer_id":74768106,"question_id":74767868,"body_markdown":"You try to find an already added `idConso` with `ord.contains(Order[0] == idConso) &amp;&amp; Order[0] == idConso` but this don&#39;t work.\r\n\r\nSome lines above you set `Order [ 0 ] = idConso` so `Order[0] == idConso` will always be `true`.\r\nBut `ord` holds `int[]` so `ord.contains(/*Order[0] == idConso*/ true)` will always be `false`. So `&amp;&amp; Order[0] == idConso` will never be executed (even this part would always be `true`).\r\n\r\nYou have to iterate over all added orders and check the ID.\r\nIf you found the ID you have to increase the corresponding `nbrConso` but not add the order again (you do so even you find the entry).\r\nWith a `for`-loop it may look like\r\n```\r\n// flag if idConso was found in ord\r\nboolean containe = false;\r\nfor (int[] added : ord) {\r\n    if (added[0] == idConso) {\r\n        // found it\r\n        System.out.println(&quot;containe &quot;);\r\n        added[1] += nbrConso;\r\n        // set the flag\r\n        containe = true;\r\n        // no need to check next entries in ord\r\n        break;\r\n    }\r\n}\r\n// add only if not found\r\nif (!containe) {\r\n    ord.add(Order);\r\n    System.out.println(&quot;added&quot;);\r\n}\r\n```\r\nEDIT: due to your comment I ran the code and got two problems:\r\n\r\n1. I don&#39;t understand your intension of\r\n```\r\nInteger[] OrderLine = new Integer[ord.size()];\r\nOrderLine = ord.toArray(OrderLine);\r\n```\r\nbut I get an exception here.\r\nBecause `OrderLine` is never used I removed these lines.\r\n\r\n2. `Order` is declared outside the loop so even for the second order you operate on this object.\r\nYou also add this object to `ord` so by modify `Order` you also modify the list&#39;s value.\r\nYou have to move `int[] Order = new int[2];` into the loop to always have a new object (e. g. just before setting the values `Order[0] = idConso;` and `Order[1] = nbrConso;`)","title":"How to check if an ArrayList of 1D Arrays (EX : int [ ] order = new int [2] ) has a value in index 0 of the 1D array, if so update index 1","body":"<p>You try to find an already added <code>idConso</code> with <code>ord.contains(Order[0] == idConso) &amp;&amp; Order[0] == idConso</code> but this don't work.</p>\n<p>Some lines above you set <code>Order [ 0 ] = idConso</code> so <code>Order[0] == idConso</code> will always be <code>true</code>.\nBut <code>ord</code> holds <code>int[]</code> so <code>ord.contains(/*Order[0] == idConso*/ true)</code> will always be <code>false</code>. So <code>&amp;&amp; Order[0] == idConso</code> will never be executed (even this part would always be <code>true</code>).</p>\n<p>You have to iterate over all added orders and check the ID.\nIf you found the ID you have to increase the corresponding <code>nbrConso</code> but not add the order again (you do so even you find the entry).\nWith a <code>for</code>-loop it may look like</p>\n<pre><code>// flag if idConso was found in ord\nboolean containe = false;\nfor (int[] added : ord) {\n    if (added[0] == idConso) {\n        // found it\n        System.out.println(&quot;containe &quot;);\n        added[1] += nbrConso;\n        // set the flag\n        containe = true;\n        // no need to check next entries in ord\n        break;\n    }\n}\n// add only if not found\nif (!containe) {\n    ord.add(Order);\n    System.out.println(&quot;added&quot;);\n}\n</code></pre>\n<p>EDIT: due to your comment I ran the code and got two problems:</p>\n<ol>\n<li>I don't understand your intension of</li>\n</ol>\n<pre><code>Integer[] OrderLine = new Integer[ord.size()];\nOrderLine = ord.toArray(OrderLine);\n</code></pre>\n<p>but I get an exception here.\nBecause <code>OrderLine</code> is never used I removed these lines.</p>\n<ol start=\"2\">\n<li><code>Order</code> is declared outside the loop so even for the second order you operate on this object.\nYou also add this object to <code>ord</code> so by modify <code>Order</code> you also modify the list's value.\nYou have to move <code>int[] Order = new int[2];</code> into the loop to always have a new object (e. g. just before setting the values <code>Order[0] = idConso;</code> and <code>Order[1] = nbrConso;</code>)</li>\n</ol>\n"}],"owner":{"account_id":23120197,"reputation":23,"user_id":17226834,"display_name":"Faisal BENTOUHAMI"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74768106,"answer_count":1,"score":0,"last_activity_date":1670837979,"creation_date":1670830146,"question_id":74767868,"body_markdown":"I&#39;m a student in my 1st year, and I need to check if an arrayList of 1D array has a value in index 0, if so I need to keep that value of index 0, and update its value of order [0,1].\r\nSo I first created my 1D array as\r\n```java\r\nint [] Order = new int [2];\r\n```\r\n\r\nis a getOrder() method.\r\nAsking the user (Server in this case) to add integers (id of product) and second time to add number of how many products.\r\n\r\nand add : Order = {idConso, nbrConso}\r\n\r\nThen I call the method from my main(), and passing an arrayList (ord) as a parameter to store the Orders.\r\n\r\nBut, when I print the ord (arrayList of 1D Order array), I shouldn&#39;t have the same idConso twice in it.\r\n\r\nThis means I need to find a way to check if the idConso (id of the product) is already in ord (arrayList) and if so, I need to check if the arrayList has already idConso and keep it, but add the nbrConso (numnbre of orders of that product).\r\n\r\n```java\r\npackage testes;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.Arrays;\r\nimport java.util.Scanner;\r\n\r\npublic class test_EX_24V1 {\r\n\r\n\tfinal static String NAMES[] = \r\n\t\t{\r\n\t\t\t\t&quot;Spa reine 25 &quot;,&quot;Bru plate 50&quot;,&quot;Bru p&#233;t 50&quot;,&quot;Pepsi&quot;,&quot;Spa orange&quot;,\r\n\t\t\t\t&quot;Schweppes Tonic&quot;,&quot;Schweppes Agr&quot;,&quot;Ice Tea&quot;,&quot;Ice Tea P&#234;che&quot;,&quot;Jus d&#39;orange Looza&quot;, &quot;C&#233;c&#233;mel&quot;, \r\n\t\t\t\t&quot;Red Bull&quot;,&quot;Petit Expresso&quot;,&quot;Grand Expresso&quot;,&quot;Caf&#233; d&#233;caf&#233;in&#233; &quot;,&quot;Lait Russe &quot;,&quot;Th&#233; et infusions&quot;,\r\n\t\t\t\t&quot;Irish Coffee &quot;,&quot;French Coffee &quot;,&quot;Cappuccino&quot;,&quot;C&#233;c&#233;mel chaud&quot;,&quot;Passione Italiano&quot;,&quot;Amour Intense&quot;,\r\n\t\t\t\t&quot;Rhumba Caliente &quot;,&quot;Irish Kisses &quot;,&quot;Cuv&#233;e Trolls 25&quot;,&quot;Cuvee Trolls 50&quot;,&quot;Ambrasse-Temps 25&quot;,&quot;Ambrasse-Temps 50 &quot;,\r\n\t\t\t\t&quot;Brasse-Temps Cerises 25&quot;,&quot;Brasse-Temps Cerises 50&quot;,&quot;La Blanche Ste Waudru 25&quot;,&quot;Blanche Ste Waudru 50&quot;,\r\n\t\t\t\t&quot;Brasse-Temps citr 25&quot;,&quot;Brasse-Temps citr 50&quot;,&quot;Spaghetti Bolo &quot;,&quot;Tagl Carbonara&quot;,&quot;Penne poulet baslc &quot;,\r\n\t\t\t\t&quot;Tagl American&quot;,&quot;Tagl saum&quot;\r\n\t\t};\r\n\r\n\tpublic static String getUserIntOrSpecificInputV2(String msg, String expectedAnsw, int min, int max) \r\n{\r\n\r\n\t\tint intInput = 0;\r\n\t\tString strAnsw = &quot;&quot;;\r\n\t\tScanner sc= new Scanner (System.in);\r\n\t\tdo {\r\n\r\n\t\t\tSystem.out.println(msg);\r\n\r\n\t\t\tif (sc.hasNextInt()==true) {   //si saisie d’un entier\r\n\t\t\t\tintInput = sc.nextInt();//r&#233;cup&#233;ration de la saisie au format entier\r\n\t\t\t\tif (intInput &gt;= min &amp;&amp; intInput &lt;= max) {\r\n\t\t\t\t\treturn Integer.toString(intInput);\r\n\r\n\t\t\t\t}else {\r\n\t\t\t\t\tSystem.out.println(&quot;La saisie doit &#234;tre comprise entre &quot; + min +  &quot; et &quot; + max);\r\n\t\t\t\t}\r\n\r\n\t\t\t} else {  //si saisie d&#39;un texte par l’utilisateur\r\n\t\t\t\tstrAnsw = sc.next(); //r&#233;cup&#233;ration de la saisie au format chaine\r\n\r\n\t\t\t\tif (strAnsw.length() == 1 &amp;&amp; expectedAnsw.toUpperCase().contains(strAnsw.toUpperCase())){\r\n\t\t\t\t\treturn strAnsw.toUpperCase();\r\n\r\n\t\t\t\t}else {\r\n\t\t\t\t\tSystem.out.println (&quot;Erreur de saisie : caract&#232;res autoris&#233;s &quot; +  expectedAnsw );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} while (true);\r\n\r\n\t}//end getUserIntOrSpecificInputV2\r\n\r\n\tpublic static boolean checkTable( int[] table, int numberCheck ) {\r\n\r\n\t\tint i = 0;\r\n\r\n\t\twhile (i &lt; table.length) {\r\n\r\n\t\t\tif (table[i] == numberCheck) {\r\n\r\n\t\t\t\treturn true;\r\n\r\n\t\t\t}\r\n\r\n\t\t\ti++;\r\n\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\r\n\t}//fin check Table\r\n\r\n\t@SuppressWarnings(&quot;unlikely-arg-type&quot;)\r\n\tpublic static void getOrder ( ArrayList&lt;int[]&gt; ord ) {\r\n\t\t//variables\r\n\t\tString UserInput;\r\n\t\tint idConso = 0, nbrConso = 0;\r\n\t\tint [] Order = new int [2];\r\n\r\n\t\t//instructions\r\n\t\t\r\n\t\tUserInput = getUserIntOrSpecificInputV2(&quot;Entrez le N&#176; de consommable &quot;\r\n\t\t\t\t+ &quot;ou Q(Quitter) &quot;, &quot;Q&quot;, 1, NAMES.length);\r\n\r\n\t\tdo {\t\r\n\t\t\t\r\n\t\t\tif ( UserInput.equalsIgnoreCase( &quot;Q&quot; ) ) // fin de programme\r\n\t\t\t{\r\n\t\t\t\tSystem.out.println( &quot;Fin de Programme, Au Revoir&quot; );\r\n\t\t\t\tSystem.exit( -1 );\r\n\t\t\t}\r\n\t\t\telse \r\n\t\t\t{\r\n\t\t\t\tidConso = Integer.parseInt ( UserInput );\r\n\t\t\t}\r\n\r\n\t\t\tUserInput = getUserIntOrSpecificInputV2(&quot;Nombre de consommations pour &quot; + NAMES [ idConso -1 ] +&quot; ? /A(Annuler) /Q (Quitter)&quot;, &quot;AQ&quot;, 1, 5000);\r\n\r\n\t\t\tif ( UserInput.equalsIgnoreCase(&quot;Q&quot;) )\r\n\t\t\t{ //fermer l&#39;application\r\n\t\t\t\tSystem.out.println( &quot;Fin de Programme, Au Revoir&quot; );\r\n\t\t\t\tSystem.exit(-1);\t\t\t\r\n\t\t\t}\r\n\t\t\telse if ( UserInput.equalsIgnoreCase(&quot;A&quot;) )\r\n\t\t\t{ \r\n\t\t\t\t//DO NOTHING !\r\n\t\t\t} \r\n\t\t\tnbrConso = Integer.parseInt ( UserInput );\r\n\t\t\t\r\n\t\t\tOrder [ 0 ] = idConso ;\r\n\t\t\tOrder [ 1 ] = nbrConso ;\r\n\t\t\t\r\n//\t\t\tSystem.out.println(&quot;isCondo = &quot; + idConso + &quot; ,et nbrConso = &quot; + nbrConso);\r\n//\t\t\tSystem.out.println(&quot;taille de arrayList ord = &quot; + ord.size());\r\n\r\n\t\t\tif (ord.isEmpty()) \r\n\t\t\t{\t\t\r\n\t\t\t\tSystem.out.println(&quot;YES ITS EMPTY&quot;);\r\n\t\t\t\tord.add(Order);\r\n\t\t\t\tSystem.out.println(&quot;added&quot;);\r\n\t\t\t}\r\n\r\n\t\t\telse \r\n\t\t\t{\r\n\t\t\t\tInteger [] OrderLine = new Integer [ord.size()];\r\n\t\t\t\tOrderLine = ord.toArray(OrderLine);\r\n\t\t\t\t\r\n\t\t\t\tif (ord.contains(Order[0] == idConso) &amp;&amp; Order[0] == idConso) {\r\n\t\t\t\t\tSystem.out.println(&quot;containe &quot;);\r\n\t\t\t\t\tOrder[1] += nbrConso; \r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tord.add(Order);\r\n\t\t\t\tSystem.out.println(&quot;added&quot;);\r\n\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tUserInput = getUserIntOrSpecificInputV2(&quot;Entrez le N&#176; de consommable ou Q(Quitter) V (Valider le ticket) &quot;, &quot;QV&quot;,1, NAMES.length);\r\n\r\n\t\t} while (!UserInput.equalsIgnoreCase(&quot;V&quot;));\r\n\r\n\t\t\r\n\t\t\r\n\t\tfor ( int[] is : ord )\r\n\t\t{\r\n\t\t\t\r\n\t\t\tSystem.out.print(Arrays.toString(is));\r\n\r\n\t\t}\r\n\t\tSystem.out.println();\r\n\t\tSystem.out.println(&quot;Nombre de consommation : &quot; + ord.size());\r\n\t\t\r\n\t}\r\n\tpublic static void main(String[] args) {\r\n\t\t//variables \r\n\t\tArrayList &lt;int [] &gt; order = new ArrayList&lt;int[]&gt;();\r\n\r\n\t\tgetOrder(order);\r\n\t\t\r\n\t}\r\n\r\n}\r\n```\r\n","title":"How to check if an ArrayList of 1D Arrays (EX : int [ ] order = new int [2] ) has a value in index 0 of the 1D array, if so update index 1","body":"<p>I'm a student in my 1st year, and I need to check if an arrayList of 1D array has a value in index 0, if so I need to keep that value of index 0, and update its value of order [0,1].\nSo I first created my 1D array as</p>\n<pre class=\"lang-java prettyprint-override\"><code>int [] Order = new int [2];\n</code></pre>\n<p>is a getOrder() method.\nAsking the user (Server in this case) to add integers (id of product) and second time to add number of how many products.</p>\n<p>and add : Order = {idConso, nbrConso}</p>\n<p>Then I call the method from my main(), and passing an arrayList (ord) as a parameter to store the Orders.</p>\n<p>But, when I print the ord (arrayList of 1D Order array), I shouldn't have the same idConso twice in it.</p>\n<p>This means I need to find a way to check if the idConso (id of the product) is already in ord (arrayList) and if so, I need to check if the arrayList has already idConso and keep it, but add the nbrConso (numnbre of orders of that product).</p>\n<pre class=\"lang-java prettyprint-override\"><code>package testes;\n\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.Scanner;\n\npublic class test_EX_24V1 {\n\n    final static String NAMES[] = \n        {\n                &quot;Spa reine 25 &quot;,&quot;Bru plate 50&quot;,&quot;Bru pét 50&quot;,&quot;Pepsi&quot;,&quot;Spa orange&quot;,\n                &quot;Schweppes Tonic&quot;,&quot;Schweppes Agr&quot;,&quot;Ice Tea&quot;,&quot;Ice Tea Pêche&quot;,&quot;Jus d'orange Looza&quot;, &quot;Cécémel&quot;, \n                &quot;Red Bull&quot;,&quot;Petit Expresso&quot;,&quot;Grand Expresso&quot;,&quot;Café décaféiné &quot;,&quot;Lait Russe &quot;,&quot;Thé et infusions&quot;,\n                &quot;Irish Coffee &quot;,&quot;French Coffee &quot;,&quot;Cappuccino&quot;,&quot;Cécémel chaud&quot;,&quot;Passione Italiano&quot;,&quot;Amour Intense&quot;,\n                &quot;Rhumba Caliente &quot;,&quot;Irish Kisses &quot;,&quot;Cuvée Trolls 25&quot;,&quot;Cuvee Trolls 50&quot;,&quot;Ambrasse-Temps 25&quot;,&quot;Ambrasse-Temps 50 &quot;,\n                &quot;Brasse-Temps Cerises 25&quot;,&quot;Brasse-Temps Cerises 50&quot;,&quot;La Blanche Ste Waudru 25&quot;,&quot;Blanche Ste Waudru 50&quot;,\n                &quot;Brasse-Temps citr 25&quot;,&quot;Brasse-Temps citr 50&quot;,&quot;Spaghetti Bolo &quot;,&quot;Tagl Carbonara&quot;,&quot;Penne poulet baslc &quot;,\n                &quot;Tagl American&quot;,&quot;Tagl saum&quot;\n        };\n\n    public static String getUserIntOrSpecificInputV2(String msg, String expectedAnsw, int min, int max) \n{\n\n        int intInput = 0;\n        String strAnsw = &quot;&quot;;\n        Scanner sc= new Scanner (System.in);\n        do {\n\n            System.out.println(msg);\n\n            if (sc.hasNextInt()==true) {   //si saisie d’un entier\n                intInput = sc.nextInt();//récupération de la saisie au format entier\n                if (intInput &gt;= min &amp;&amp; intInput &lt;= max) {\n                    return Integer.toString(intInput);\n\n                }else {\n                    System.out.println(&quot;La saisie doit être comprise entre &quot; + min +  &quot; et &quot; + max);\n                }\n\n            } else {  //si saisie d'un texte par l’utilisateur\n                strAnsw = sc.next(); //récupération de la saisie au format chaine\n\n                if (strAnsw.length() == 1 &amp;&amp; expectedAnsw.toUpperCase().contains(strAnsw.toUpperCase())){\n                    return strAnsw.toUpperCase();\n\n                }else {\n                    System.out.println (&quot;Erreur de saisie : caractères autorisés &quot; +  expectedAnsw );\n                }\n            }\n        } while (true);\n\n    }//end getUserIntOrSpecificInputV2\n\n    public static boolean checkTable( int[] table, int numberCheck ) {\n\n        int i = 0;\n\n        while (i &lt; table.length) {\n\n            if (table[i] == numberCheck) {\n\n                return true;\n\n            }\n\n            i++;\n\n        }\n\n        return false;\n\n    }//fin check Table\n\n    @SuppressWarnings(&quot;unlikely-arg-type&quot;)\n    public static void getOrder ( ArrayList&lt;int[]&gt; ord ) {\n        //variables\n        String UserInput;\n        int idConso = 0, nbrConso = 0;\n        int [] Order = new int [2];\n\n        //instructions\n        \n        UserInput = getUserIntOrSpecificInputV2(&quot;Entrez le N° de consommable &quot;\n                + &quot;ou Q(Quitter) &quot;, &quot;Q&quot;, 1, NAMES.length);\n\n        do {    \n            \n            if ( UserInput.equalsIgnoreCase( &quot;Q&quot; ) ) // fin de programme\n            {\n                System.out.println( &quot;Fin de Programme, Au Revoir&quot; );\n                System.exit( -1 );\n            }\n            else \n            {\n                idConso = Integer.parseInt ( UserInput );\n            }\n\n            UserInput = getUserIntOrSpecificInputV2(&quot;Nombre de consommations pour &quot; + NAMES [ idConso -1 ] +&quot; ? /A(Annuler) /Q (Quitter)&quot;, &quot;AQ&quot;, 1, 5000);\n\n            if ( UserInput.equalsIgnoreCase(&quot;Q&quot;) )\n            { //fermer l'application\n                System.out.println( &quot;Fin de Programme, Au Revoir&quot; );\n                System.exit(-1);            \n            }\n            else if ( UserInput.equalsIgnoreCase(&quot;A&quot;) )\n            { \n                //DO NOTHING !\n            } \n            nbrConso = Integer.parseInt ( UserInput );\n            \n            Order [ 0 ] = idConso ;\n            Order [ 1 ] = nbrConso ;\n            \n//          System.out.println(&quot;isCondo = &quot; + idConso + &quot; ,et nbrConso = &quot; + nbrConso);\n//          System.out.println(&quot;taille de arrayList ord = &quot; + ord.size());\n\n            if (ord.isEmpty()) \n            {       \n                System.out.println(&quot;YES ITS EMPTY&quot;);\n                ord.add(Order);\n                System.out.println(&quot;added&quot;);\n            }\n\n            else \n            {\n                Integer [] OrderLine = new Integer [ord.size()];\n                OrderLine = ord.toArray(OrderLine);\n                \n                if (ord.contains(Order[0] == idConso) &amp;&amp; Order[0] == idConso) {\n                    System.out.println(&quot;containe &quot;);\n                    Order[1] += nbrConso; \n                }\n                \n                ord.add(Order);\n                System.out.println(&quot;added&quot;);\n\n            }\n            \n            UserInput = getUserIntOrSpecificInputV2(&quot;Entrez le N° de consommable ou Q(Quitter) V (Valider le ticket) &quot;, &quot;QV&quot;,1, NAMES.length);\n\n        } while (!UserInput.equalsIgnoreCase(&quot;V&quot;));\n\n        \n        \n        for ( int[] is : ord )\n        {\n            \n            System.out.print(Arrays.toString(is));\n\n        }\n        System.out.println();\n        System.out.println(&quot;Nombre de consommation : &quot; + ord.size());\n        \n    }\n    public static void main(String[] args) {\n        //variables \n        ArrayList &lt;int [] &gt; order = new ArrayList&lt;int[]&gt;();\n\n        getOrder(order);\n        \n    }\n\n}\n</code></pre>\n"},{"tags":["java","activemq-artemis"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1669996572,"post_id":74651735,"comment_id":131777121,"body_markdown":"How do you extract the string?","body":"How do you extract the string?"},{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1669997793,"post_id":74651735,"comment_id":131777591,"body_markdown":"Is everything running in the same JVM or do you have separate JVMs for Karaf and ActiveMQ Artemis? In what JVM is the OOME happening?","body":"Is everything running in the same JVM or do you have separate JVMs for Karaf and ActiveMQ Artemis? In what JVM is the OOME happening?"},{"owner":{"account_id":63767,"reputation":1634,"user_id":188587,"accept_rate":44,"display_name":"djb"},"score":0,"creation_date":1670052635,"post_id":74651735,"comment_id":131787247,"body_markdown":"Hi Justin, they are started in separate JVMs, but inside the same docker container, using supervisord.  I know it fails in those lines because of debug statements. So the OOME happens in Karaf, technically, while trying to load the String in memory.  Simon - the error happens before the extraction, which I just do with String.substring/indexOf.","body":"Hi Justin, they are started in separate JVMs, but inside the same docker container, using supervisord.  I know it fails in those lines because of debug statements. So the OOME happens in Karaf, technically, while trying to load the String in memory.  Simon - the error happens before the extraction, which I just do with String.substring/indexOf."},{"owner":{"account_id":63767,"reputation":1634,"user_id":188587,"accept_rate":44,"display_name":"djb"},"score":0,"creation_date":1670140067,"post_id":74651735,"comment_id":131801009,"body_markdown":"I&#39;ve upped the Karaf Xmx from 1024mb to 2048mb. Will see if that helps.","body":"I&#39;ve upped the Karaf Xmx from 1024mb to 2048mb. Will see if that helps."},{"owner":{"account_id":63767,"reputation":1634,"user_id":188587,"accept_rate":44,"display_name":"djb"},"score":0,"creation_date":1670225944,"post_id":74651735,"comment_id":131817937,"body_markdown":"Success.  Karaf needed more RAM.","body":"Success.  Karaf needed more RAM."},{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1670261171,"post_id":74651735,"comment_id":131830385,"body_markdown":"To be clear, given that the OOME is happening in Karaf (where the client is presumably running) which is running in a separate JVM from ActiveMQ Artemis the memory configuration of ActiveMQ Artemis is not relevant.","body":"To be clear, given that the OOME is happening in Karaf (where the client is presumably running) which is running in a separate JVM from ActiveMQ Artemis the memory configuration of ActiveMQ Artemis is not relevant."},{"owner":{"account_id":63767,"reputation":1634,"user_id":188587,"accept_rate":44,"display_name":"djb"},"score":0,"creation_date":1670397611,"post_id":74651735,"comment_id":131864609,"body_markdown":"Correct, thanks, I realised that, hence upping Karaf, and leaving AMQ as is.","body":"Correct, thanks, I realised that, hence upping Karaf, and leaving AMQ as is."},{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1670690976,"post_id":74651735,"comment_id":131933839,"body_markdown":"Since you&#39;ve solved this problem you should add an answer and mark it as correct to help any other users who run into this problem in the future.","body":"Since you&#39;ve solved this problem you should add an answer and mark it as correct to help any other users who run into this problem in the future."}],"answers":[{"tags":[],"owner":{"account_id":63767,"reputation":1634,"user_id":188587,"accept_rate":44,"display_name":"djb"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670837879,"creation_date":1670837879,"answer_id":74769138,"question_id":74651735,"body_markdown":"The issue was fixed by increasing the RAM available to Karaf, under /bin/setenv \r\n\r\n    export JAVA_MAX_MEM=2048M \r\n","title":"Parsing XML string in Java without OOM error","body":"<p>The issue was fixed by increasing the RAM available to Karaf, under /bin/setenv</p>\n<pre><code>export JAVA_MAX_MEM=2048M \n</code></pre>\n"}],"owner":{"account_id":63767,"reputation":1634,"user_id":188587,"accept_rate":44,"display_name":"djb"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74769138,"answer_count":1,"score":0,"last_activity_date":1670837879,"creation_date":1669962894,"question_id":74651735,"body_markdown":"I&#39;m using Karaf and ActiveMQ Artemis in Docker, and one of my routes gets an XML string on a message queue, and I need to extract an element. But I&#39;m getting `java.lang.OutOfMemoryError: Java heap space`\r\n\r\nI&#39;ve narrowed the issue down to one of these lines.  \r\n\r\n```java\r\npublic void process(Exchange exchange) throws Exception {\r\n    Object[] args = exchange.getIn().getBody(Object[].class);\r\n    JmsMessage message = (JmsMessage)args[0];\r\n    String s = message.getBody(String.class);\r\n    ...\r\n}\r\n```\r\nI&#39;m wondering what my options are to get around this error.  \r\nLooking at the `free -m` output inside my container,\r\n\r\n    # free -m\r\n                  total        used        free      shared  buff/cache   available\r\n    Mem:          23948       11579         498        1316       11870       10690\r\n    Swap:          6143         240        5903\r\n\r\n\r\nThere&#39;s 10GB of RAM available plus 6GB in swap.  The Artemis queue has `&lt;max-size-bytes&gt;-1&lt;/max-size-bytes&gt;` and no `&lt;global-max-size&gt;` set.  So there&#39;s no explicit limit.  Possibly, this leads to a max of `-Xmx / 2`, according to the comments in the `broker.xml` file.  It looks like the default is -Xmx2G so this would mean 1GB max.  Note that the message is nowhere near that size.  It&#39;s just 5MB of binary files saved in XML using Base64 for the binary.\r\n\r\nSo I will look into starting the AMQ with higher `Xmx`, but otherwise, is there any option in Java to deal with parsing the `String`, (or `JMSMessage`) in such a way that it doesn&#39;t overflow the heap?\r\n\r\ni.e. like streaming it, or buffering it, instead of loading the entire String into memory?","title":"Parsing XML string in Java without OOM error","body":"<p>I'm using Karaf and ActiveMQ Artemis in Docker, and one of my routes gets an XML string on a message queue, and I need to extract an element. But I'm getting <code>java.lang.OutOfMemoryError: Java heap space</code></p>\n<p>I've narrowed the issue down to one of these lines.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void process(Exchange exchange) throws Exception {\n    Object[] args = exchange.getIn().getBody(Object[].class);\n    JmsMessage message = (JmsMessage)args[0];\n    String s = message.getBody(String.class);\n    ...\n}\n</code></pre>\n<p>I'm wondering what my options are to get around this error.<br />\nLooking at the <code>free -m</code> output inside my container,</p>\n<pre><code># free -m\n              total        used        free      shared  buff/cache   available\nMem:          23948       11579         498        1316       11870       10690\nSwap:          6143         240        5903\n</code></pre>\n<p>There's 10GB of RAM available plus 6GB in swap.  The Artemis queue has <code>&lt;max-size-bytes&gt;-1&lt;/max-size-bytes&gt;</code> and no <code>&lt;global-max-size&gt;</code> set.  So there's no explicit limit.  Possibly, this leads to a max of <code>-Xmx / 2</code>, according to the comments in the <code>broker.xml</code> file.  It looks like the default is -Xmx2G so this would mean 1GB max.  Note that the message is nowhere near that size.  It's just 5MB of binary files saved in XML using Base64 for the binary.</p>\n<p>So I will look into starting the AMQ with higher <code>Xmx</code>, but otherwise, is there any option in Java to deal with parsing the <code>String</code>, (or <code>JMSMessage</code>) in such a way that it doesn't overflow the heap?</p>\n<p>i.e. like streaming it, or buffering it, instead of loading the entire String into memory?</p>\n"},{"tags":["java","html"],"owner":{"account_id":27187956,"reputation":1,"user_id":20722171,"display_name":"cruzzy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670837874,"creation_date":1670837634,"question_id":74769095,"body_markdown":"This is my HTML page where there will be multiple rows depending on how many data will be in JSON file. The first problem I have is that I have problem with listing down all the color options that can be found in the JSON file. For now it only display only 1 value which is according to the fruit. I do not know what code I should include in the doPost method in Java\r\n\r\n```\r\n\r\n  &lt;form id=&quot;config_form&quot; action=&quot;iLoveFruits&quot; method=&quot;Post&quot; enctype=&quot;multipart/form-data&quot;&gt;\r\n    &lt;table&gt;\r\n    &lt;c:forEach items=&quot;${fruits}&quot; var=&quot;fruit&quot; varStatus=&quot;count&quot;&gt;\r\n    &lt;tbody&gt;\r\n    &lt;tr&gt;\r\n      &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;fruit&quot; id=&quot;fruit&quot; value=&quot;${fruit.type}&quot;&gt;&lt;/td&gt;\r\n      &lt;td&gt;\r\n        &lt;select name=&quot;color&quot;&gt;&lt;option id=&quot;color&quot;&gt;${color}&lt;/option&gt;&lt;/select&gt;\r\n      &lt;/td&gt;\r\n      &lt;input type=&quot;file&quot; id=&quot;image&quot; name=&quot;image&quot; var=&quot;image&quot; accept=&quot;.img,.IMG&quot;/&gt;\r\n      &lt;label for=&quot;image&quot;&gt;Upload&lt;/label&gt;\r\n    &lt;/tr&gt;\r\n    &lt;/tbody&gt;\r\n   &lt;button type=&quot;submit&quot; id=&quot;submitBtn&quot;&gt;Submit&lt;/button&gt;\r\n  &lt;/form&gt;\r\n```\r\n\r\nThis is the codes under my doPost method where the file will be uploaded upon pressing the submit button. The issue I am facing is if there is 2 rows for example, whichever &quot;Upload&quot; button I click, it will display the file name under the first row. For example, I want to upload a image for the 3 row of the HTML page, after uploading the image, the name of the file will be shown in the first rather than the third. I do not know how to solve thi s please assist me \r\n\r\n\r\n```\r\n\r\n for (FileItem uploadItem : uploadItems) {\r\n   if (uploadItem.isFormField()) {\r\n     String fieldName = uploadItem.getFieldName();\r\n     if(fieldName.equals(&quot;fruit&quot;))\r\n       {\r\n         String fruit = uploadItem.getString();\r\n         newOutput.put(&quot;fruit&quot;,fruit);\r\n       }\r\n         else if(fieldName.equals(&quot;color&quot;))\r\n       {\r\n         String color = uploadItem.getString();\r\n         newOutput.put(&quot;color&quot;,color);\r\n           if (cert.toLowerCase().endsWith(&quot;.img&quot;)) {\r\n             File temp = new File(file_dir + File.separator + color);\r\n             uploadItem.write(temp);\r\n           }    \r\n       }\r\n     }\r\n   }\r\n\r\n\r\n```\r\n\r\n\r\nI am trying to get the filename in the textbox according to the row that I am changing","title":"Page can&#39;t capture data","body":"<p>This is my HTML page where there will be multiple rows depending on how many data will be in JSON file. The first problem I have is that I have problem with listing down all the color options that can be found in the JSON file. For now it only display only 1 value which is according to the fruit. I do not know what code I should include in the doPost method in Java</p>\n<pre><code>\n  &lt;form id=&quot;config_form&quot; action=&quot;iLoveFruits&quot; method=&quot;Post&quot; enctype=&quot;multipart/form-data&quot;&gt;\n    &lt;table&gt;\n    &lt;c:forEach items=&quot;${fruits}&quot; var=&quot;fruit&quot; varStatus=&quot;count&quot;&gt;\n    &lt;tbody&gt;\n    &lt;tr&gt;\n      &lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;fruit&quot; id=&quot;fruit&quot; value=&quot;${fruit.type}&quot;&gt;&lt;/td&gt;\n      &lt;td&gt;\n        &lt;select name=&quot;color&quot;&gt;&lt;option id=&quot;color&quot;&gt;${color}&lt;/option&gt;&lt;/select&gt;\n      &lt;/td&gt;\n      &lt;input type=&quot;file&quot; id=&quot;image&quot; name=&quot;image&quot; var=&quot;image&quot; accept=&quot;.img,.IMG&quot;/&gt;\n      &lt;label for=&quot;image&quot;&gt;Upload&lt;/label&gt;\n    &lt;/tr&gt;\n    &lt;/tbody&gt;\n   &lt;button type=&quot;submit&quot; id=&quot;submitBtn&quot;&gt;Submit&lt;/button&gt;\n  &lt;/form&gt;\n</code></pre>\n<p>This is the codes under my doPost method where the file will be uploaded upon pressing the submit button. The issue I am facing is if there is 2 rows for example, whichever &quot;Upload&quot; button I click, it will display the file name under the first row. For example, I want to upload a image for the 3 row of the HTML page, after uploading the image, the name of the file will be shown in the first rather than the third. I do not know how to solve thi s please assist me</p>\n<pre><code>\n for (FileItem uploadItem : uploadItems) {\n   if (uploadItem.isFormField()) {\n     String fieldName = uploadItem.getFieldName();\n     if(fieldName.equals(&quot;fruit&quot;))\n       {\n         String fruit = uploadItem.getString();\n         newOutput.put(&quot;fruit&quot;,fruit);\n       }\n         else if(fieldName.equals(&quot;color&quot;))\n       {\n         String color = uploadItem.getString();\n         newOutput.put(&quot;color&quot;,color);\n           if (cert.toLowerCase().endsWith(&quot;.img&quot;)) {\n             File temp = new File(file_dir + File.separator + color);\n             uploadItem.write(temp);\n           }    \n       }\n     }\n   }\n\n\n</code></pre>\n<p>I am trying to get the filename in the textbox according to the row that I am changing</p>\n"},{"tags":["java","java-io"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1670836686,"post_id":74768883,"comment_id":131957151,"body_markdown":"Please precise: &quot;performance&quot;/use case/assumptions/circumstances/&quot;benchmark&quot;... otherwise your question appears &quot;too broad&quot; (to me)","body":"Please precise: &quot;performance&quot;/use case/assumptions/circumstances/&quot;benchmark&quot;... otherwise your question appears &quot;too broad&quot; (to me)"},{"owner":{"account_id":6871197,"reputation":456,"user_id":5281466,"accept_rate":62,"display_name":"Matrix12"},"score":0,"creation_date":1670837873,"post_id":74768883,"comment_id":131957501,"body_markdown":"I have an application where I have to handle multiple concurrent requests with a non-blocking approach, using a low number of threads as possible.","body":"I have an application where I have to handle multiple concurrent requests with a non-blocking approach, using a low number of threads as possible."},{"owner":{"account_id":1704969,"reputation":318,"user_id":1564218,"accept_rate":57,"display_name":"brgr"},"score":1,"creation_date":1670839276,"post_id":74768883,"comment_id":131957915,"body_markdown":"Have a look at [this](https://stackoverflow.com/q/25099640/1564218) question, to understand the terms, especially &quot;async&quot;, better. This should also clarify where/how you can make performance improvements and when not.","body":"Have a look at <a href=\"https://stackoverflow.com/q/25099640/1564218\">this</a> question, to understand the terms, especially &quot;async&quot;, better. This should also clarify where/how you can make performance improvements and when not."}],"owner":{"account_id":6871197,"reputation":456,"user_id":5281466,"accept_rate":62,"display_name":"Matrix12"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670837212,"creation_date":1670836471,"question_id":74768883,"body_markdown":"I am wondering about the performance using ServerSocketChannel and  AsynchronousServerSocketChannel. In theory, AsynchronousServerSocketChannel should be faster. Do you know which option is better from a performance perspective? ","title":"AsynchronousServerSocketChannel vs ServerSocketChannel performance","body":"<p>I am wondering about the performance using ServerSocketChannel and  AsynchronousServerSocketChannel. In theory, AsynchronousServerSocketChannel should be faster. Do you know which option is better from a performance perspective?</p>\n"},{"tags":["java","sql","spring","postgresql","spring-boot"],"comments":[{"owner":{"account_id":10940745,"reputation":128,"user_id":8040692,"display_name":"Omeerfk"},"score":0,"creation_date":1670396418,"post_id":74712794,"comment_id":131864352,"body_markdown":"change (?2 is null or country=?2) with (country is null or country=?2)","body":"change (?2 is null or country=?2) with (country is null or country=?2)"},{"owner":{"account_id":27030718,"reputation":1,"user_id":20587127,"display_name":"Sunil Tiwari"},"score":0,"creation_date":1670397544,"post_id":74712794,"comment_id":131864594,"body_markdown":"`(country is null or country=?2)` returning only record with `null` values","body":"<code>(country is null or country=?2)</code> returning only record with <code>null</code> values"}],"answers":[{"tags":[],"owner":{"account_id":8361884,"reputation":24,"user_id":6279883,"display_name":"Parinda Amin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670397204,"creation_date":1670397204,"answer_id":74712950,"question_id":74712794,"body_markdown":"    You can use Case when Condition \r\n    \r\n    select \r\n        case when \r\n            ea.country is null then \r\n                (select ea.* from employee ea where ids in (?1))\r\n            when \r\n           ea.country = ?2 then \r\n                (select ea.* from employee ea where ids in (?1) and country =?2 )\r\n          end\r\n    from employee ea\t  ","title":"Select Query not working in NULL parameters JPA","body":"<pre><code>You can use Case when Condition \n\nselect \n    case when \n        ea.country is null then \n            (select ea.* from employee ea where ids in (?1))\n        when \n       ea.country = ?2 then \n            (select ea.* from employee ea where ids in (?1) and country =?2 )\n      end\nfrom employee ea      \n</code></pre>\n"},{"tags":[],"owner":{"account_id":7718592,"reputation":119,"user_id":5845487,"display_name":"Hassan Golshani"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670406660,"creation_date":1670406660,"answer_id":74714656,"question_id":74712794,"body_markdown":"Why you want use native query?\r\nThis code works for me.\r\n\r\n    @Query(&quot;select p from Person p where p.id in (?1) and (?2 is null or p.country = ?2)&quot;)\r\n    List&lt;Person&gt; find(List&lt;Long&gt; ids, String country);\r\n","title":"Select Query not working in NULL parameters JPA","body":"<p>Why you want use native query?\nThis code works for me.</p>\n<pre><code>@Query(&quot;select p from Person p where p.id in (?1) and (?2 is null or p.country = ?2)&quot;)\nList&lt;Person&gt; find(List&lt;Long&gt; ids, String country);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22357746,"reputation":61,"user_id":16574713,"display_name":"liu_bin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670461952,"creation_date":1670461952,"answer_id":74724499,"question_id":74712794,"body_markdown":"[this is spring-data use @query and spel](https://spring.io/blog/2014/07/15/spel-support-in-spring-data-jpa-query-definitions)\r\n&gt;The latest Spring Data JPA M1 release of the Evans release train eases this pain by adding support\r\n\r\nor\r\n\r\nyou can use `EntityManager`","title":"Select Query not working in NULL parameters JPA","body":"<p><a href=\"https://spring.io/blog/2014/07/15/spel-support-in-spring-data-jpa-query-definitions\" rel=\"nofollow noreferrer\">this is spring-data use @query and spel</a></p>\n<blockquote>\n<p>The latest Spring Data JPA M1 release of the Evans release train eases this pain by adding support</p>\n</blockquote>\n<p>or</p>\n<p>you can use <code>EntityManager</code></p>\n"}],"owner":{"account_id":27030718,"reputation":1,"user_id":20587127,"display_name":"Sunil Tiwari"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":521,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1670837056,"creation_date":1670396229,"question_id":74712794,"body_markdown":"I am using `spring-data-jpa` here is my query \r\n\r\n\r\n```\r\n@Query(value = &quot;select ea.* from employee ea where ids in (?1) and (?2 is null or country=?2) &quot;, nativeQuery = true)\r\nPage&lt;Employee&gt; findByds(List&lt;UUID&gt; ids,String country ,Pageable pageable );\r\n```\r\n\r\nI want to get list of employee by matching country only when parameter `country` is not null else I want to get all records in `iDs`\r\n\r\n\r\nSQL Query is not working in case of null country parameter. I want my query to be like \r\n\r\n1. When country is null `select ea.* from employee ea where ids in (?1)`\r\n\r\n2. When country is not null `select ea.* from employee ea where ids in (?1) and country =?2`  \r\n","title":"Select Query not working in NULL parameters JPA","body":"<p>I am using <code>spring-data-jpa</code> here is my query</p>\n<pre><code>@Query(value = &quot;select ea.* from employee ea where ids in (?1) and (?2 is null or country=?2) &quot;, nativeQuery = true)\nPage&lt;Employee&gt; findByds(List&lt;UUID&gt; ids,String country ,Pageable pageable );\n</code></pre>\n<p>I want to get list of employee by matching country only when parameter <code>country</code> is not null else I want to get all records in <code>iDs</code></p>\n<p>SQL Query is not working in case of null country parameter. I want my query to be like</p>\n<ol>\n<li><p>When country is null <code>select ea.* from employee ea where ids in (?1)</code></p>\n</li>\n<li><p>When country is not null <code>select ea.* from employee ea where ids in (?1) and country =?2</code></p>\n</li>\n</ol>\n"},{"tags":["java","maven","tomcat","liferay","maven-deploy-plugin"],"answers":[{"comments":[{"owner":{"account_id":2564776,"reputation":4503,"user_id":2225151,"accept_rate":42,"display_name":"Clay Banks"},"score":0,"creation_date":1472734791,"post_id":39272160,"comment_id":65878931,"body_markdown":"Thanks @A_Di-Matteo , but I don&#39;t want to deploy to any remote servers, instead I want to deploy to my local tomcat instance.","body":"Thanks @A_Di-Matteo , but I don&#39;t want to deploy to any remote servers, instead I want to deploy to my local tomcat instance."},{"owner":{"account_id":7363499,"reputation":27102,"user_id":5606016,"accept_rate":88,"display_name":"A_Di-Matteo"},"score":3,"creation_date":1472735007,"post_id":39272160,"comment_id":65879079,"body_markdown":"@KuraiBankusu then you should have specified it :) the `deploy` phase by default is not meant for that, you hence need to use the `tomcat7-maven-plugin`, not the `maven-deploy-plugin`","body":"@KuraiBankusu then you should have specified it :) the <code>deploy</code> phase by default is not meant for that, you hence need to use the <code>tomcat7-maven-plugin</code>, not the <code>maven-deploy-plugin</code>"},{"owner":{"account_id":7363499,"reputation":27102,"user_id":5606016,"accept_rate":88,"display_name":"A_Di-Matteo"},"score":0,"creation_date":1472736687,"post_id":39272160,"comment_id":65880392,"body_markdown":"@KuraiBankusu check my update, it is more than enough I would say to get more understanding and first aid on the topic. Hope it helps","body":"@KuraiBankusu check my update, it is more than enough I would say to get more understanding and first aid on the topic. Hope it helps"},{"owner":{"account_id":15513459,"reputation":160,"user_id":11191681,"display_name":"sdzt9"},"score":0,"creation_date":1680141641,"post_id":39272160,"comment_id":133849047,"body_markdown":"is it possible for Tomcat 10 ?","body":"is it possible for Tomcat 10 ?"}],"tags":[],"owner":{"account_id":7363499,"reputation":27102,"user_id":5606016,"accept_rate":88,"display_name":"A_Di-Matteo"},"comment_count":4,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1472736939,"creation_date":1472734593,"answer_id":39272160,"question_id":39272046,"body_markdown":"The error is not about `dependencyManagement` but rather `distributionManagement`\r\n&gt; Deployment failed: repository eleme\r\nnt was not specified in the POM inside `distributionManagement` element or in `-DaltDeploymentRepository=id::layout::url` parameter \r\n\r\nThe alternative (if you don&#39;t want to place it in your `pom.xml` file) is also provided by using the [`altDeploymentRepository`](http://maven.apache.org/plugins/maven-deploy-plugin/deploy-mojo.html#altDeploymentRepository) option:\r\n&gt; Specifies an alternative repository to which the project artifacts should be deployed ( other than those specified in `&lt;distributionManagement&gt;` ). \r\nFormat: `id::layout::url`\r\n\r\nThe first element, the `id`, must have a matching with a `server` defined in your `settings.xml` file (where you specify the credentials to use for the specific server).\r\n\r\nThe layour and the url are then specific to the target repository.\r\n\r\nYou can then invoke the command as:\r\n\r\n    mvn deploy -DaltDeploymentRepository=test:Maven2:http://somewhere:someport\r\n\r\nWhere `test` is the id of a [server](https://maven.apache.org/settings.html#Servers) element in your [Maven settings](https://maven.apache.org/settings.html)\r\n\r\n\t&lt;servers&gt;\r\n\t\t&lt;server&gt;\r\n\t\t  &lt;id&gt;test&lt;/id&gt;\r\n\t\t  &lt;username&gt;my_login&lt;/username&gt;\r\n\t\t  &lt;password&gt;my_password&lt;/password&gt;\r\n\t\t&lt;/server&gt;\r\n\t&lt;/servers&gt;\r\n\r\n------------------------------\r\n\r\n**Update**  \r\nBased on latest clarifications (via comments and edits), here some important points:\r\n\r\n- The Maven `deploy` [phase](https://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html) is meant for \r\n      &gt; done in the build environment, copies the final package to the remote repository for sharing with other developers and projects.\r\n- Hence, in your case you don&#39;t need to use the `deploy` phase nor the `maven-deploy-plugin`.\r\n- Since Tomcat is the target server, you then need to use the [`tomcat7-maven-plugin`](http://tomcat.apache.org/maven-plugin-2.0/tomcat7-maven-plugin/)\r\n\r\nHere are few instructions:\r\n\r\n**Configure your `pom.xml`**   \r\nAdd to your `pom.xml` the following:\r\n\r\n    &lt;plugin&gt;\r\n\t\t&lt;groupId&gt;org.apache.tomcat.maven&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;tomcat7-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.2&lt;/version&gt;\r\n\t\t&lt;configuration&gt;\r\n\t\t\t&lt;url&gt;http://localhost:8080/manager/text&lt;/url&gt;\r\n\t\t\t&lt;server&gt;tomcat8&lt;/server&gt;\r\n\t\t\t&lt;path&gt;/${project.build.finalName}&lt;/path&gt;\r\n\t\t&lt;/configuration&gt;\r\n\t&lt;/plugin&gt;\r\n\r\n**Configure your `settings.xml`**   \r\nAdd to your Maven `settings.xml` the following in the `servers` section:\r\n\r\n\t&lt;server&gt;\r\n\t\t&lt;username&gt;maven&lt;/username&gt;\r\n\t\t&lt;password&gt;maven&lt;/password&gt;\r\n\t\t&lt;id&gt;tomcat8&lt;/id&gt;\r\n\t&lt;/server&gt;\r\n\r\nNote the matching `tomcat8` id between the settings and the plugin `configuration` above, `server` element.\r\n\r\n**Configure Tomcat for deploy**   \r\nIn the tomcat `conf` folder, configure the `tomcat-users.xml` file:\r\n\r\n\t  &lt;role rolename=&quot;manager-script&quot;/&gt;\r\n\t  &lt;user username=&quot;maven&quot; password=&quot;maven&quot; roles=&quot;manager-gui,manager-script&quot;/&gt;\r\n\r\nnote the credentials matching with what we actually specified in the Maven settings.\r\n\r\n\r\n**Try it**   \r\nThen from the command line you can finally invoke:\r\n\r\n    mvn tomcat7:deploy\r\n\r\nIf you don&#39;t want to configure `settings.xml` nor `pom.xml`, you then need to pass several parameters via command line as following:\r\n\r\n    mvn org.apache.tomcat.maven:tomcat7-maven-plugin:2.2:deploy \\ \r\n          -Durl=http://localhost:8080/manager/text \\\r\n          -Dusername=maven -Dpassword=maven\r\n\r\nNote: `\\` and newlines added for readibility\r\n\r\nCheck full list of options on the official documentation of its [`deploy`](http://tomcat.apache.org/maven-plugin-2.0/tomcat7-maven-plugin/deploy-mojo.html) goal.","title":"Disable distributionManagement in Maven POM","body":"<p>The error is not about <code>dependencyManagement</code> but rather <code>distributionManagement</code></p>\n\n<blockquote>\n  <p>Deployment failed: repository eleme\n  nt was not specified in the POM inside <code>distributionManagement</code> element or in <code>-DaltDeploymentRepository=id::layout::url</code> parameter </p>\n</blockquote>\n\n<p>The alternative (if you don't want to place it in your <code>pom.xml</code> file) is also provided by using the <a href=\"http://maven.apache.org/plugins/maven-deploy-plugin/deploy-mojo.html#altDeploymentRepository\" rel=\"noreferrer\"><code>altDeploymentRepository</code></a> option:</p>\n\n<blockquote>\n  <p>Specifies an alternative repository to which the project artifacts should be deployed ( other than those specified in <code>&lt;distributionManagement&gt;</code> ). \n  Format: <code>id::layout::url</code></p>\n</blockquote>\n\n<p>The first element, the <code>id</code>, must have a matching with a <code>server</code> defined in your <code>settings.xml</code> file (where you specify the credentials to use for the specific server).</p>\n\n<p>The layour and the url are then specific to the target repository.</p>\n\n<p>You can then invoke the command as:</p>\n\n<pre><code>mvn deploy -DaltDeploymentRepository=test:Maven2:http://somewhere:someport\n</code></pre>\n\n<p>Where <code>test</code> is the id of a <a href=\"https://maven.apache.org/settings.html#Servers\" rel=\"noreferrer\">server</a> element in your <a href=\"https://maven.apache.org/settings.html\" rel=\"noreferrer\">Maven settings</a></p>\n\n<pre><code>&lt;servers&gt;\n    &lt;server&gt;\n      &lt;id&gt;test&lt;/id&gt;\n      &lt;username&gt;my_login&lt;/username&gt;\n      &lt;password&gt;my_password&lt;/password&gt;\n    &lt;/server&gt;\n&lt;/servers&gt;\n</code></pre>\n\n<hr>\n\n<p><strong>Update</strong><br>\nBased on latest clarifications (via comments and edits), here some important points:</p>\n\n<ul>\n<li>The Maven <code>deploy</code> <a href=\"https://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html\" rel=\"noreferrer\">phase</a> is meant for \n\n<blockquote>\n  <p>done in the build environment, copies the final package to the remote repository for sharing with other developers and projects.</p>\n</blockquote></li>\n<li>Hence, in your case you don't need to use the <code>deploy</code> phase nor the <code>maven-deploy-plugin</code>.</li>\n<li>Since Tomcat is the target server, you then need to use the <a href=\"http://tomcat.apache.org/maven-plugin-2.0/tomcat7-maven-plugin/\" rel=\"noreferrer\"><code>tomcat7-maven-plugin</code></a></li>\n</ul>\n\n<p>Here are few instructions:</p>\n\n<p><strong>Configure your <code>pom.xml</code></strong><br>\nAdd to your <code>pom.xml</code> the following:</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.tomcat.maven&lt;/groupId&gt;\n    &lt;artifactId&gt;tomcat7-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.2&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;url&gt;http://localhost:8080/manager/text&lt;/url&gt;\n        &lt;server&gt;tomcat8&lt;/server&gt;\n        &lt;path&gt;/${project.build.finalName}&lt;/path&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p><strong>Configure your <code>settings.xml</code></strong><br>\nAdd to your Maven <code>settings.xml</code> the following in the <code>servers</code> section:</p>\n\n<pre><code>&lt;server&gt;\n    &lt;username&gt;maven&lt;/username&gt;\n    &lt;password&gt;maven&lt;/password&gt;\n    &lt;id&gt;tomcat8&lt;/id&gt;\n&lt;/server&gt;\n</code></pre>\n\n<p>Note the matching <code>tomcat8</code> id between the settings and the plugin <code>configuration</code> above, <code>server</code> element.</p>\n\n<p><strong>Configure Tomcat for deploy</strong><br>\nIn the tomcat <code>conf</code> folder, configure the <code>tomcat-users.xml</code> file:</p>\n\n<pre><code>  &lt;role rolename=\"manager-script\"/&gt;\n  &lt;user username=\"maven\" password=\"maven\" roles=\"manager-gui,manager-script\"/&gt;\n</code></pre>\n\n<p>note the credentials matching with what we actually specified in the Maven settings.</p>\n\n<p><strong>Try it</strong><br>\nThen from the command line you can finally invoke:</p>\n\n<pre><code>mvn tomcat7:deploy\n</code></pre>\n\n<p>If you don't want to configure <code>settings.xml</code> nor <code>pom.xml</code>, you then need to pass several parameters via command line as following:</p>\n\n<pre><code>mvn org.apache.tomcat.maven:tomcat7-maven-plugin:2.2:deploy \\ \n      -Durl=http://localhost:8080/manager/text \\\n      -Dusername=maven -Dpassword=maven\n</code></pre>\n\n<p>Note: <code>\\</code> and newlines added for readibility</p>\n\n<p>Check full list of options on the official documentation of its <a href=\"http://tomcat.apache.org/maven-plugin-2.0/tomcat7-maven-plugin/deploy-mojo.html\" rel=\"noreferrer\"><code>deploy</code></a> goal.</p>\n"},{"tags":[],"owner":{"account_id":347517,"reputation":5454,"user_id":681671,"accept_rate":59,"display_name":"Dojo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670836835,"creation_date":1670836835,"answer_id":74768943,"question_id":39272046,"body_markdown":"@A_Di-Matteo&#39;s answer is correct for deploying to tomcat. But if you came here looking for how to deploy to a Maven repo without putting repo URLs in pom.xml then here&#39;s your answer:\r\n\r\n```\r\nmvn deploy -DskipTests -DaltDeploymentRepository=myrepoid::default::https://maven.example.org/repository/maven-releases\r\n```\r\n\r\nInstead of `altDeploymentRepository`, you could also use `altReleaseDeploymentRepository` or `altSnapshotDeploymentRepository`\r\n\r\nMore details in docs: https://maven.apache.org/plugins/maven-deploy-plugin/deploy-mojo.html\r\n","title":"Disable distributionManagement in Maven POM","body":"<p>@A_Di-Matteo's answer is correct for deploying to tomcat. But if you came here looking for how to deploy to a Maven repo without putting repo URLs in pom.xml then here's your answer:</p>\n<pre><code>mvn deploy -DskipTests -DaltDeploymentRepository=myrepoid::default::https://maven.example.org/repository/maven-releases\n</code></pre>\n<p>Instead of <code>altDeploymentRepository</code>, you could also use <code>altReleaseDeploymentRepository</code> or <code>altSnapshotDeploymentRepository</code></p>\n<p>More details in docs: <a href=\"https://maven.apache.org/plugins/maven-deploy-plugin/deploy-mojo.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/plugins/maven-deploy-plugin/deploy-mojo.html</a></p>\n"}],"owner":{"account_id":2564776,"reputation":4503,"user_id":2225151,"accept_rate":42,"display_name":"Clay Banks"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8959,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":39272160,"answer_count":2,"score":3,"last_activity_date":1670836835,"creation_date":1472734243,"question_id":39272046,"body_markdown":"I am trying to run a `mvn deploy` goal with maven on my Liferay portlet but am getting the following error\r\n\r\n    [ERROR] Failed to execute goal org.apache.maven.plugins:maven-deploy-plugin:2.8.\r\n    2:deploy (default-deploy) on project MyPortlet: Deployment failed: repository eleme\r\n    nt was not specified in the POM inside distributionManagement element or in -Dal\r\n    tDeploymentRepository=id::layout::url parameter -&gt; [Help 1]\r\n    org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal o\r\n    rg.apache.maven.plugins:maven-deploy-plugin:2.8.2:deploy (default-deploy) on pro\r\n    ject RiskID: Deployment failed: repository element was not specified in the POM\r\n    inside distributionManagement element or in -DaltDeploymentRepository=id::layout\r\n\r\nI understand this error will return if you don&#39;t include the `&lt;distributionManagement /&gt;` tag in the pom.xml, however I don&#39;t wish to package this to a remote location and would like to instead deploy to my local tomcat instance; can this be configured?\r\n","title":"Disable distributionManagement in Maven POM","body":"<p>I am trying to run a <code>mvn deploy</code> goal with maven on my Liferay portlet but am getting the following error</p>\n\n<pre><code>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-deploy-plugin:2.8.\n2:deploy (default-deploy) on project MyPortlet: Deployment failed: repository eleme\nnt was not specified in the POM inside distributionManagement element or in -Dal\ntDeploymentRepository=id::layout::url parameter -&gt; [Help 1]\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal o\nrg.apache.maven.plugins:maven-deploy-plugin:2.8.2:deploy (default-deploy) on pro\nject RiskID: Deployment failed: repository element was not specified in the POM\ninside distributionManagement element or in -DaltDeploymentRepository=id::layout\n</code></pre>\n\n<p>I understand this error will return if you don't include the <code>&lt;distributionManagement /&gt;</code> tag in the pom.xml, however I don't wish to package this to a remote location and would like to instead deploy to my local tomcat instance; can this be configured?</p>\n"},{"tags":["java","soap","cxf"],"answers":[{"comments":[{"owner":{"account_id":10500278,"reputation":140,"user_id":7739193,"display_name":"rbaha"},"score":0,"creation_date":1550577673,"post_id":54735750,"comment_id":96311708,"body_markdown":"Thanks @Cyril for your response.i edited my request to be clair.FYI i have already implemnted AbstractSoapInterceptor.","body":"Thanks @Cyril for your response.i edited my request to be clair.FYI i have already implemnted AbstractSoapInterceptor."},{"owner":{"account_id":7728304,"reputation":3488,"user_id":5852281,"display_name":"cdan"},"score":0,"creation_date":1550624884,"post_id":54735750,"comment_id":96334130,"body_markdown":"OK I changed my answer.","body":"OK I changed my answer."}],"tags":[],"owner":{"account_id":7728304,"reputation":3488,"user_id":5852281,"display_name":"cdan"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1550624839,"creation_date":1550424310,"answer_id":54735750,"question_id":54713754,"body_markdown":"To customize the SOAP response, you can implement either one of these:\r\n\r\n- [JAX-WS handler](http://cxf.apache.org/docs/jax-ws-configuration.html);\r\n- [CXF interceptor](http://cxf.apache.org/docs/interceptors.html) (extend AbstractSoapInterceptor);\r\n- Servlet Filter.\r\n\r\n--EDIT 2019-02-20--\r\n\r\nAccording to Javadoc (and SOAP spec), the faultcode must be in the form &quot;prefix:localname&quot; where &quot;prefix&quot; is the prefix of a declared XML namespace in your XML, or you can have no prefix - that you want - if it is declared as the default namespace, e.g. with `xmlns=&quot;my-custom-faultcode-namespace-uri&quot;` somewhere, e.g. in the soap:Envelope element. So one way - not sure it&#39;s the easiest but it is SOAP standard compliant - consists to:\r\n\r\n1) Make up your own custom namespace for this faultcode\r\n\r\n2) Try changing the QName with empty string as namespace prefix:\r\n \r\n```\r\nQName faultCode = new QName(&quot;my-custom-faultcode-namespace-uri&quot;, &quot;11111&quot;, &quot;&quot;);\r\n```\r\n\r\nIf this is not enough (I would be surprised it is that simple), you may have force CXF to use your custom namespace as the default (without prefix). According to [this post](http://cxf.547215.n5.nabble.com/How-to-customize-namespaces-position-and-prefix-in-CXF-response-td3423069.html), to customize namespaces and prefixes on the soap enveloppe in CXF, you change the Map in the jaxws &#39;soap.env.ns.map&#39; property.\r\n","title":"Customization soap response","body":"<p>To customize the SOAP response, you can implement either one of these:</p>\n\n<ul>\n<li><a href=\"http://cxf.apache.org/docs/jax-ws-configuration.html\" rel=\"nofollow noreferrer\">JAX-WS handler</a>;</li>\n<li><a href=\"http://cxf.apache.org/docs/interceptors.html\" rel=\"nofollow noreferrer\">CXF interceptor</a> (extend AbstractSoapInterceptor);</li>\n<li>Servlet Filter.</li>\n</ul>\n\n<p>--EDIT 2019-02-20--</p>\n\n<p>According to Javadoc (and SOAP spec), the faultcode must be in the form \"prefix:localname\" where \"prefix\" is the prefix of a declared XML namespace in your XML, or you can have no prefix - that you want - if it is declared as the default namespace, e.g. with <code>xmlns=\"my-custom-faultcode-namespace-uri\"</code> somewhere, e.g. in the soap:Envelope element. So one way - not sure it's the easiest but it is SOAP standard compliant - consists to:</p>\n\n<p>1) Make up your own custom namespace for this faultcode</p>\n\n<p>2) Try changing the QName with empty string as namespace prefix:</p>\n\n<pre><code>QName faultCode = new QName(\"my-custom-faultcode-namespace-uri\", \"11111\", \"\");\n</code></pre>\n\n<p>If this is not enough (I would be surprised it is that simple), you may have force CXF to use your custom namespace as the default (without prefix). According to <a href=\"http://cxf.547215.n5.nabble.com/How-to-customize-namespaces-position-and-prefix-in-CXF-response-td3423069.html\" rel=\"nofollow noreferrer\">this post</a>, to customize namespaces and prefixes on the soap enveloppe in CXF, you change the Map in the jaxws 'soap.env.ns.map' property.</p>\n"},{"tags":[],"owner":{"account_id":16299228,"reputation":93,"user_id":11770752,"display_name":"anjey"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1605683908,"creation_date":1605683908,"answer_id":64888648,"question_id":54713754,"body_markdown":"I was looking for the exactly same thing since migrating an old system to behave exactly the same.\r\n\r\nI came up with the following Solution.\r\n\r\n\r\n```Java\r\nclass SoapFaultEndpointInterceptor extends EndpointInterceptorAdapter\r\n{\r\n    private static final Pattern SOAP_CODE_FAULT_SPLITTER = Pattern.compile(&quot;:&quot;);\r\n\r\n\r\n    @Override\r\n    public boolean handleFault(MessageContext messageContext, Object endpoint) throws Exception\r\n    {\r\n        SaajSoapMessage soapResponse = (SaajSoapMessage) messageContext.getResponse();\r\n        modifySoapFaultCode(soapResponse);\r\n\r\n        return super.handleFault(messageContext, endpoint);\r\n    }\r\n\r\n    private void modifySoapFaultCode(SaajSoapMessage soapResponse)\r\n    {\r\n        try {\r\n            SOAPMessage soapMessage = soapResponse.getSaajMessage();\r\n            SOAPBody body = soapMessage.getSOAPBody();\r\n            SOAPFault soapFault = body.getFault();\r\n\r\n            modifyFaultCodeIfPresent(soapFault);\r\n        } catch (SOAPException e) {\r\n            throw new SoapModifiyingException(&quot;Modifying faultcode did not work properly.&quot;, e);\r\n        }\r\n    }\r\n\r\n    private void modifyFaultCodeIfPresent(SOAPFault fault)\r\n    {\r\n        if (fault != null) {\r\n            String newFaultCode = cleanFaultCode(fault.getFaultCode());\r\n            fault.setFaultCode(newFaultCode);\r\n        }\r\n    }\r\n\r\n    private String cleanFaultCode(String oldFaultCode)\r\n    {\r\n        String[] cleanFaultCode = SOAP_CODE_FAULT_SPLITTER.split(oldFaultCode);\r\n        Assert.isTrue(cleanFaultCode.length == 2, &quot;No proper faultcode provided!&quot;);\r\n\r\n        return cleanFaultCode[1].trim();\r\n    }\r\n\r\n```\r\n\r\n\r\nAnd by adding `SoapFaultEndpointInterceptor` to your Interceptor, it should work.\r\n\r\n```Java\r\n@EnableWs\r\n@Configuration\r\npublic class SoapServerConfig extends WsConfigurerAdapter\r\n{\r\n    @Override\r\n    public void addInterceptors(List&lt;EndpointInterceptor&gt; interceptors)\r\n    {\r\n        interceptors.add(new SoapFaultEndpointInterceptor());\r\n    }\r\n}\r\n```","title":"Customization soap response","body":"<p>I was looking for the exactly same thing since migrating an old system to behave exactly the same.</p>\n<p>I came up with the following Solution.</p>\n<pre><code>class SoapFaultEndpointInterceptor extends EndpointInterceptorAdapter\n{\n    private static final Pattern SOAP_CODE_FAULT_SPLITTER = Pattern.compile(&quot;:&quot;);\n\n\n    @Override\n    public boolean handleFault(MessageContext messageContext, Object endpoint) throws Exception\n    {\n        SaajSoapMessage soapResponse = (SaajSoapMessage) messageContext.getResponse();\n        modifySoapFaultCode(soapResponse);\n\n        return super.handleFault(messageContext, endpoint);\n    }\n\n    private void modifySoapFaultCode(SaajSoapMessage soapResponse)\n    {\n        try {\n            SOAPMessage soapMessage = soapResponse.getSaajMessage();\n            SOAPBody body = soapMessage.getSOAPBody();\n            SOAPFault soapFault = body.getFault();\n\n            modifyFaultCodeIfPresent(soapFault);\n        } catch (SOAPException e) {\n            throw new SoapModifiyingException(&quot;Modifying faultcode did not work properly.&quot;, e);\n        }\n    }\n\n    private void modifyFaultCodeIfPresent(SOAPFault fault)\n    {\n        if (fault != null) {\n            String newFaultCode = cleanFaultCode(fault.getFaultCode());\n            fault.setFaultCode(newFaultCode);\n        }\n    }\n\n    private String cleanFaultCode(String oldFaultCode)\n    {\n        String[] cleanFaultCode = SOAP_CODE_FAULT_SPLITTER.split(oldFaultCode);\n        Assert.isTrue(cleanFaultCode.length == 2, &quot;No proper faultcode provided!&quot;);\n\n        return cleanFaultCode[1].trim();\n    }\n\n</code></pre>\n<p>And by adding <code>SoapFaultEndpointInterceptor</code> to your Interceptor, it should work.</p>\n<pre><code>@EnableWs\n@Configuration\npublic class SoapServerConfig extends WsConfigurerAdapter\n{\n    @Override\n    public void addInterceptors(List&lt;EndpointInterceptor&gt; interceptors)\n    {\n        interceptors.add(new SoapFaultEndpointInterceptor());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":10500278,"reputation":140,"user_id":7739193,"display_name":"rbaha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1547,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1670836617,"creation_date":1550249502,"question_id":54713754,"body_markdown":"i am working on web services project with Apache CXF.\r\nI wan&#39;t to handle exception and customize response:\r\n \r\n    public class FaultInterceptor extends\r\n    AbstractSoapInterceptor {\r\n\r\n\tpublic FaultInterceptor() {\r\n\t\tsuper(Phase.MARSHAL);\r\n    }\r\n    public void handleMessage(SoapMessage soapMessage) throws Fault {\r\n    Fault fault = (Fault) soapMessage.getContent(Exception.class);\r\n    QName faultCode = new QName(&quot;11111&quot;);\r\n    fault.setFaultCode(faultCode);\r\n\r\nSo here is what i get in the response:\r\n\r\n    &lt;soap:Envelope xmlns:soap=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;\r\n    &lt;soap:Body&gt;\r\n      &lt;soap:Fault&gt;\r\n         &lt;faultcode&gt;soap:11111&lt;/faultcode&gt;\r\n         &lt;faultstring&gt;Message&lt;/faultstring&gt;\r\n      &lt;/soap:Fault&gt;\r\n     &lt;/soap:Body&gt;\r\n   &lt;/soap:Envelope&gt;\r\n\r\nHow can i remove the text &quot;soap:&quot; and let only 11111?\r\n\r\nPlease help me and thanks in advance\r\n\r\n","title":"Customization soap response","body":"<p>i am working on web services project with Apache CXF.\nI wan't to handle exception and customize response:</p>\n\n<pre><code>public class FaultInterceptor extends\nAbstractSoapInterceptor {\n\npublic FaultInterceptor() {\n    super(Phase.MARSHAL);\n}\npublic void handleMessage(SoapMessage soapMessage) throws Fault {\nFault fault = (Fault) soapMessage.getContent(Exception.class);\nQName faultCode = new QName(\"11111\");\nfault.setFaultCode(faultCode);\n</code></pre>\n\n<p>So here is what i get in the response:</p>\n\n<pre><code>&lt;soap:Envelope xmlns:soap=\"http://schemas.xmlsoap.org/soap/envelope/\"&gt;\n&lt;soap:Body&gt;\n  &lt;soap:Fault&gt;\n     &lt;faultcode&gt;soap:11111&lt;/faultcode&gt;\n     &lt;faultstring&gt;Message&lt;/faultstring&gt;\n  &lt;/soap:Fault&gt;\n &lt;/soap:Body&gt;\n</code></pre>\n\n<p></p>\n\n<p>How can i remove the text \"soap:\" and let only 11111?</p>\n\n<p>Please help me and thanks in advance</p>\n"},{"tags":["java","vaadin","vaadin-flow"],"answers":[{"tags":[],"owner":{"account_id":113115,"reputation":2308,"user_id":298103,"accept_rate":91,"display_name":"Rolf"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1670836609,"creation_date":1670836609,"answer_id":74768907,"question_id":74761221,"body_markdown":"The CSS looks correct and `addThemeName()` seems to be used correctly too, so I would expect that to work.\r\n\r\nYou could try a couple of things:\r\n\r\n1. Use the DOM inspector in the browser&#39;s devtools to check that the theme attribute is applied to the correct `vaadin-grid` element.\r\n\r\n2. The entire solution could be simplified a bit since `vaadin-grid-cell-content` is not inside the grid&#39;s shadow DOM. Try this instead:\r\n\r\n`grid.addClassName(&quot;custom-grid-theme&quot;);`\r\n\r\nand in your global stylesheet (that is *not* imported with `themeFor`):\r\n\r\n    vaadin-grid.custom-grid-theme vaadin-grid-cell-content {\r\n      padding: var(--lumo-space-xl);\r\n    }","title":"Vaadin: how do I style a specific Grid?","body":"<p>The CSS looks correct and <code>addThemeName()</code> seems to be used correctly too, so I would expect that to work.</p>\n<p>You could try a couple of things:</p>\n<ol>\n<li><p>Use the DOM inspector in the browser's devtools to check that the theme attribute is applied to the correct <code>vaadin-grid</code> element.</p>\n</li>\n<li><p>The entire solution could be simplified a bit since <code>vaadin-grid-cell-content</code> is not inside the grid's shadow DOM. Try this instead:</p>\n</li>\n</ol>\n<p><code>grid.addClassName(&quot;custom-grid-theme&quot;);</code></p>\n<p>and in your global stylesheet (that is <em>not</em> imported with <code>themeFor</code>):</p>\n<pre><code>vaadin-grid.custom-grid-theme vaadin-grid-cell-content {\n  padding: var(--lumo-space-xl);\n}\n</code></pre>\n"}],"owner":{"account_id":633896,"reputation":3552,"user_id":399637,"accept_rate":90,"display_name":"res1"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74768907,"answer_count":1,"score":0,"last_activity_date":1670836609,"creation_date":1670765227,"question_id":74761221,"body_markdown":"I have a view with a Grid and I have a style for grid&#39;s cells:\r\n\r\n```\r\n[part~=&quot;cell&quot;] ::slotted(vaadin-grid-cell-content) {\r\n    padding: var(--lumo-space-xl);\r\n}\r\n```\r\n\r\nIf I apply this style in via `@CssImport` like\r\n```\r\n@CssImport(value = &quot;./styles/example.css&quot;, themeFor = &quot;vaadin-grid&quot;)\r\n```\r\n\r\nit works but this will apply to all Vaadin Grids, that it not what I want.\r\nIf I don&#39;t specify `themeFor` this will not apply.\r\n\r\nI want to apply this style just to the grid in the view where the grid is defined.\r\n\r\nI tried using a theme like:\r\n```\r\n:host([theme~=&quot;custom-grid-theme&quot;]) [part~=&quot;cell&quot;] ::slotted(vaadin-grid-cell-content) {\r\n    padding: var(--lumo-space-xl);\r\n}\r\n\r\n```\r\n\r\nand then on the grid\r\n```\r\ngrid.addThemeName(&quot;custom-grid-theme&quot;);\r\n```\r\n\r\nbut it doesn&#39;t work.\r\n\r\nI tried too:\r\n```\r\ngrid.getElement().setAttribute(&quot;theme&quot;, &quot;custom-grid-theme&quot;);\r\n```\r\nthis doesn&#39;t work too and it removes any GridVariant I applied.\r\n\r\nI am using Vaadin 14.\r\n\r\nThanks for the help.\r\n","title":"Vaadin: how do I style a specific Grid?","body":"<p>I have a view with a Grid and I have a style for grid's cells:</p>\n<pre><code>[part~=&quot;cell&quot;] ::slotted(vaadin-grid-cell-content) {\n    padding: var(--lumo-space-xl);\n}\n</code></pre>\n<p>If I apply this style in via <code>@CssImport</code> like</p>\n<pre><code>@CssImport(value = &quot;./styles/example.css&quot;, themeFor = &quot;vaadin-grid&quot;)\n</code></pre>\n<p>it works but this will apply to all Vaadin Grids, that it not what I want.\nIf I don't specify <code>themeFor</code> this will not apply.</p>\n<p>I want to apply this style just to the grid in the view where the grid is defined.</p>\n<p>I tried using a theme like:</p>\n<pre><code>:host([theme~=&quot;custom-grid-theme&quot;]) [part~=&quot;cell&quot;] ::slotted(vaadin-grid-cell-content) {\n    padding: var(--lumo-space-xl);\n}\n\n</code></pre>\n<p>and then on the grid</p>\n<pre><code>grid.addThemeName(&quot;custom-grid-theme&quot;);\n</code></pre>\n<p>but it doesn't work.</p>\n<p>I tried too:</p>\n<pre><code>grid.getElement().setAttribute(&quot;theme&quot;, &quot;custom-grid-theme&quot;);\n</code></pre>\n<p>this doesn't work too and it removes any GridVariant I applied.</p>\n<p>I am using Vaadin 14.</p>\n<p>Thanks for the help.</p>\n"},{"tags":["java","spring","maven","sdk","pom.xml"],"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1670837121,"post_id":74768897,"comment_id":131957273,"body_markdown":"Either add excludes to your dependency in the application, or mark the dependency in your SDK as optional. The latter forces you to manually include them in every application that needs it though.","body":"Either add excludes to your dependency in the application, or mark the dependency in your SDK as optional. The latter forces you to manually include them in every application that needs it though."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1670837123,"post_id":74768897,"comment_id":131957274,"body_markdown":"If they aren&#39;t required make them optional or provided. That way they don&#39;t leak into the client using it.","body":"If they aren&#39;t required make them optional or provided. That way they don&#39;t leak into the client using it."}],"owner":{"account_id":17044620,"reputation":50,"user_id":12331751,"display_name":"Dr Drake Ramoray"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1670836552,"creation_date":1670836552,"question_id":74768897,"body_markdown":"I have created a sdk which acts a library to generate api testcases .\r\nWhenever I add my java-sdk dependency in the pom.xml file of the client application, those dependencies which are not in the client&#39;s application and used by java-sdk to add support for but are not used internally get imported along .\r\n\r\nFor eg: my java-sdk uses ApacheClient, so it contains the ApacheClient dependency for intercepting. But if the client is not using this dependency, it should not appear in the application classpath but it does.\r\n\r\nI have created a multi-module project to upload at maven central , the module where all other module acts as dependency looks like -\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;artifactId&gt;java-sdk&lt;/artifactId&gt;\r\n        &lt;groupId&gt;io.keploy&lt;/groupId&gt;\r\n        &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;artifactId&gt;keploy-sdk&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;keploy-sdk&lt;/name&gt;\r\n    &lt;description&gt;Client Java SDK for Keploy&lt;/description&gt;\r\n    &lt;url&gt;https://github.com/keploy/java-sdk&lt;/url&gt;\r\n  \r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.keploy&lt;/groupId&gt;\r\n            &lt;artifactId&gt;core&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.keploy&lt;/groupId&gt;\r\n            &lt;artifactId&gt;api&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.keploy&lt;/groupId&gt;\r\n            &lt;artifactId&gt;integration&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.keploy&lt;/groupId&gt;\r\n            &lt;artifactId&gt;models&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.keploy&lt;/groupId&gt;\r\n            &lt;artifactId&gt;common&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.annotation&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.annotation-api&lt;/artifactId&gt;\r\n            &lt;version&gt;1.3.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.grpc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;grpc-netty-shaded&lt;/artifactId&gt;\r\n            &lt;version&gt;1.49.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.grpc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;grpc-protobuf&lt;/artifactId&gt;\r\n            &lt;version&gt;1.49.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.grpc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;grpc-stub&lt;/artifactId&gt;\r\n            &lt;version&gt;1.49.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt; &lt;!-- necessary for Java 9+ --&gt;\r\n            &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\r\n            &lt;artifactId&gt;annotations-api&lt;/artifactId&gt;\r\n            &lt;version&gt;6.0.53&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.protobuf&lt;/groupId&gt;\r\n            &lt;artifactId&gt;protobuf-java&lt;/artifactId&gt;\r\n            &lt;version&gt;3.21.7&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\r\n            &lt;artifactId&gt;okhttp&lt;/artifactId&gt;\r\n            &lt;version&gt;4.10.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.bytebuddy&lt;/groupId&gt;\r\n            &lt;artifactId&gt;byte-buddy&lt;/artifactId&gt;\r\n            &lt;version&gt;1.12.14&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.bytebuddy&lt;/groupId&gt;\r\n            &lt;artifactId&gt;byte-buddy-agent&lt;/artifactId&gt;\r\n            &lt;version&gt;1.12.14&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;build&gt;\r\n        &lt;resources&gt;\r\n            &lt;resource&gt;\r\n                &lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n            &lt;/resource&gt;\r\n        &lt;/resources&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.2.4&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;createDependencyReducedPom&gt;false&lt;/createDependencyReducedPom&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;shade&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\nFooter\r\n```","title":"Unused dependencies should not be imported in application classpath","body":"<p>I have created a sdk which acts a library to generate api testcases .\nWhenever I add my java-sdk dependency in the pom.xml file of the client application, those dependencies which are not in the client's application and used by java-sdk to add support for but are not used internally get imported along .</p>\n<p>For eg: my java-sdk uses ApacheClient, so it contains the ApacheClient dependency for intercepting. But if the client is not using this dependency, it should not appear in the application classpath but it does.</p>\n<p>I have created a multi-module project to upload at maven central , the module where all other module acts as dependency looks like -</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;artifactId&gt;java-sdk&lt;/artifactId&gt;\n        &lt;groupId&gt;io.keploy&lt;/groupId&gt;\n        &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;artifactId&gt;keploy-sdk&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;keploy-sdk&lt;/name&gt;\n    &lt;description&gt;Client Java SDK for Keploy&lt;/description&gt;\n    &lt;url&gt;https://github.com/keploy/java-sdk&lt;/url&gt;\n  \n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.keploy&lt;/groupId&gt;\n            &lt;artifactId&gt;core&lt;/artifactId&gt;\n            &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.keploy&lt;/groupId&gt;\n            &lt;artifactId&gt;api&lt;/artifactId&gt;\n            &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.keploy&lt;/groupId&gt;\n            &lt;artifactId&gt;integration&lt;/artifactId&gt;\n            &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.keploy&lt;/groupId&gt;\n            &lt;artifactId&gt;models&lt;/artifactId&gt;\n            &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.keploy&lt;/groupId&gt;\n            &lt;artifactId&gt;common&lt;/artifactId&gt;\n            &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.annotation&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.annotation-api&lt;/artifactId&gt;\n            &lt;version&gt;1.3.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.grpc&lt;/groupId&gt;\n            &lt;artifactId&gt;grpc-netty-shaded&lt;/artifactId&gt;\n            &lt;version&gt;1.49.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.grpc&lt;/groupId&gt;\n            &lt;artifactId&gt;grpc-protobuf&lt;/artifactId&gt;\n            &lt;version&gt;1.49.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.grpc&lt;/groupId&gt;\n            &lt;artifactId&gt;grpc-stub&lt;/artifactId&gt;\n            &lt;version&gt;1.49.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt; &lt;!-- necessary for Java 9+ --&gt;\n            &lt;groupId&gt;org.apache.tomcat&lt;/groupId&gt;\n            &lt;artifactId&gt;annotations-api&lt;/artifactId&gt;\n            &lt;version&gt;6.0.53&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.protobuf&lt;/groupId&gt;\n            &lt;artifactId&gt;protobuf-java&lt;/artifactId&gt;\n            &lt;version&gt;3.21.7&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\n            &lt;artifactId&gt;okhttp&lt;/artifactId&gt;\n            &lt;version&gt;4.10.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.bytebuddy&lt;/groupId&gt;\n            &lt;artifactId&gt;byte-buddy&lt;/artifactId&gt;\n            &lt;version&gt;1.12.14&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.bytebuddy&lt;/groupId&gt;\n            &lt;artifactId&gt;byte-buddy-agent&lt;/artifactId&gt;\n            &lt;version&gt;1.12.14&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;resources&gt;\n            &lt;resource&gt;\n                &lt;directory&gt;src/main/resources&lt;/directory&gt;\n            &lt;/resource&gt;\n        &lt;/resources&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.2.4&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;createDependencyReducedPom&gt;false&lt;/createDependencyReducedPom&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;shade&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\nFooter\n</code></pre>\n"},{"tags":["java","prometheus","metrics","dropwizard","codahale-metrics"],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1671096911,"post_id":74768774,"comment_id":132025706,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/74768774/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":27224286,"reputation":9,"user_id":20753018,"display_name":"ZhenHong Fan"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670835842,"creation_date":1670835842,"answer_id":74768774,"question_id":74768175,"body_markdown":"    import io.micrometer.core.instrument.* \r\n\r\n    /**\r\n     * Avoid weak reference recycling\r\n     */\r\n    private final static AtomicLong ALONG = new AtomicLong(0);\r\n\r\n    public void execute(ShardingContext shardingContext) {\r\n      Gauge.builder(&quot;gaugeName&quot;,\r\n        ALONG, (t) -&gt; {\r\n          // ... ... get result\r\n          return 1;\r\n        }).register(Metrics.globalRegistry);\r\n    }\r\n\r\n\r\n","title":"How to configure sending Dropwizard metrics to Prometheus?","body":"<pre><code>import io.micrometer.core.instrument.* \n\n/**\n * Avoid weak reference recycling\n */\nprivate final static AtomicLong ALONG = new AtomicLong(0);\n\npublic void execute(ShardingContext shardingContext) {\n  Gauge.builder(&quot;gaugeName&quot;,\n    ALONG, (t) -&gt; {\n      // ... ... get result\n      return 1;\n    }).register(Metrics.globalRegistry);\n}\n</code></pre>\n"}],"owner":{"account_id":23087624,"reputation":25,"user_id":17198927,"display_name":"userdr725"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":228,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670835842,"creation_date":1670832208,"question_id":74768175,"body_markdown":"I am calculating dropwizard metrics and I am using the &quot;meter&quot; metric of DW to calculate how many number of times in a second a particular API was hit. and I want to send this &quot;rate metrics&quot; calculated by DW to Prometheus.\r\n\r\nI know DW stores these metrics values in java heap memory. How do I send them to Prometheus? Also, I do not want to make use of the &quot;Pushgateway&quot; since it isn&#39;t a batch job. \r\n","title":"How to configure sending Dropwizard metrics to Prometheus?","body":"<p>I am calculating dropwizard metrics and I am using the &quot;meter&quot; metric of DW to calculate how many number of times in a second a particular API was hit. and I want to send this &quot;rate metrics&quot; calculated by DW to Prometheus.</p>\n<p>I know DW stores these metrics values in java heap memory. How do I send them to Prometheus? Also, I do not want to make use of the &quot;Pushgateway&quot; since it isn't a batch job.</p>\n"},{"tags":["java","telegram","telegram-bot","mailing"],"owner":{"account_id":24206243,"reputation":21,"user_id":18163407,"display_name":"Khasan Nishanov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1670835668,"creation_date":1670835098,"question_id":74768650,"body_markdown":"I have a problem trying to send a message through the command. The fact is that the message comes only to me\r\nMethod:\r\n```\r\n        else if(text.startsWith(&quot;/add&quot;)){\r\n          \r\n           sendMessage.setText(message.getText());\r\n            sendMessage.setParseMode(&quot;Markdown&quot;);\r\n                for (Customer customer : Database.customerList) {\r\n                    System.out.println(customer);\r\n                     Long id = customer.getId();\r\n                    sendMessage.setChatId(String.valueOf(id));\r\n                }\r\n\r\n            ComponentContainer.MY_TELEGRAM_BOT.sendMsg(sendMessage);\r\n        }\r\n```\r\n\r\n\r\n\r\nI&#39;m trying to send a message to all users through the processing of all id through the database, as a result, the message comes only to me","title":"How to send a message through telegram bot? [There is a solution, but something is wrong]","body":"<p>I have a problem trying to send a message through the command. The fact is that the message comes only to me\nMethod:</p>\n<pre><code>        else if(text.startsWith(&quot;/add&quot;)){\n          \n           sendMessage.setText(message.getText());\n            sendMessage.setParseMode(&quot;Markdown&quot;);\n                for (Customer customer : Database.customerList) {\n                    System.out.println(customer);\n                     Long id = customer.getId();\n                    sendMessage.setChatId(String.valueOf(id));\n                }\n\n            ComponentContainer.MY_TELEGRAM_BOT.sendMsg(sendMessage);\n        }\n</code></pre>\n<p>I'm trying to send a message to all users through the processing of all id through the database, as a result, the message comes only to me</p>\n"},{"tags":["java","spring-boot","spring-webflux","webclient"],"comments":[{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":1,"creation_date":1670525862,"post_id":74734859,"comment_id":131900762,"body_markdown":"the error is crystal clear, the interface functio `Mono&lt;CustomClass&gt; readMono` returns a `Mono&lt;T&gt;` which means it is a reactive function that is run within a NON-Blocking `Webclient`. Just because your application is blocking does not mean that the `WebClient` is blocking. Its still internally non-blocking. In reactive programming we don&#39;t use Optionals, Streams etc. You are coding regular imperative Java in a reactive interface. Thats your problem. Dont block in a reactive interface","body":"the error is crystal clear, the interface functio <code>Mono&lt;CustomClass&gt; readMono</code> returns a <code>Mono&lt;T&gt;</code> which means it is a reactive function that is run within a NON-Blocking <code>Webclient</code>. Just because your application is blocking does not mean that the <code>WebClient</code> is blocking. Its still internally non-blocking. In reactive programming we don&#39;t use Optionals, Streams etc. You are coding regular imperative Java in a reactive interface. Thats your problem. Dont block in a reactive interface"},{"owner":{"account_id":4564492,"reputation":2199,"user_id":3705861,"display_name":"Younes El Ouarti"},"score":0,"creation_date":1670529734,"post_id":74734859,"comment_id":131901861,"body_markdown":"@Toerktumlare well gosh darn it! I forgot to mention, that I already tried doing the Reader fully reactive and it still didn&#39;t work. However, after inspecting my previous commits a realized I forgot to remove the &#39;blockFirst()&#39; in  the readMultipartData() method. After changing that, it finally worked. Thanks a lot! If you want, you can formulate your comment as an answer and I&#39;ll accept it. Tomorrow I&#39;ll add more details/code for other people in case they encounter similar problems. For now I&#39;ll head to bed.","body":"@Toerktumlare well gosh darn it! I forgot to mention, that I already tried doing the Reader fully reactive and it still didn&#39;t work. However, after inspecting my previous commits a realized I forgot to remove the &#39;blockFirst()&#39; in  the readMultipartData() method. After changing that, it finally worked. Thanks a lot! If you want, you can formulate your comment as an answer and I&#39;ll accept it. Tomorrow I&#39;ll add more details/code for other people in case they encounter similar problems. For now I&#39;ll head to bed."}],"answers":[{"tags":[],"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1670618277,"creation_date":1670618277,"answer_id":74748100,"question_id":74734859,"body_markdown":"if we look in the stacktrace that you provided we see these 3 lines\r\n\r\n```\r\nat reactor.core.publisher.Flux.blockFirst(Flux.java:2600)\r\nat com.company.project.deserializer.multipart.CustomHttpMessageReader.readMultipartData(CustomHttpMessageReader.java:116)\r\nat com.company.project.deserializer.multipart.CustomHttpMessageReader.readMono(CustomHttpMessageReader.java:101)\r\n```\r\n\r\nThey should be read from bottom to top. So what do they tell us? \r\n\r\nThe bottom line tells us that the function `readMono` on the line `101` in the class `CustomHttpMessageReader.java`was called first.\r\n\r\nThat function then called the function `readMultipartData` on line `116` in the class `CustomHttpMessageReader`(same class as above)\r\n\r\nThen the function `blockFirst` was called on line `2600` in the class `Flux`.\r\n\r\nThats your blocking call.\r\n\r\nSo we can tell that there is a blocking call in the function `readMultipartData`.\r\n\r\nSo why cant we block in the function? well if we look in the API for the interface that function is overriding [HttpMessageReader&lt;T&gt;][1] we can se that the function returns a `Mono&lt;T&gt;` which means that the function is an `async` function.\r\n\r\nAnd if it is `async` and we `block` we might get very very bad performance.\r\n\r\nThis interface is used within the `Spring WebClient` which is a fully `async` client.\r\n\r\nYou can use it in a non-async application, but that means you can block outside of the `WebClient` but internally, it needs to operate completely async if you want it to be as efficient as possible.\r\n\r\nSo the bottom line is that you should not block in any function that returns a `Mono` or a `Flux`.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/codec/HttpMessageReader.html","title":"Use Webclient with custom HttpMessageReader to synchronously read responses","body":"<p>if we look in the stacktrace that you provided we see these 3 lines</p>\n<pre><code>at reactor.core.publisher.Flux.blockFirst(Flux.java:2600)\nat com.company.project.deserializer.multipart.CustomHttpMessageReader.readMultipartData(CustomHttpMessageReader.java:116)\nat com.company.project.deserializer.multipart.CustomHttpMessageReader.readMono(CustomHttpMessageReader.java:101)\n</code></pre>\n<p>They should be read from bottom to top. So what do they tell us?</p>\n<p>The bottom line tells us that the function <code>readMono</code> on the line <code>101</code> in the class <code>CustomHttpMessageReader.java</code>was called first.</p>\n<p>That function then called the function <code>readMultipartData</code> on line <code>116</code> in the class <code>CustomHttpMessageReader</code>(same class as above)</p>\n<p>Then the function <code>blockFirst</code> was called on line <code>2600</code> in the class <code>Flux</code>.</p>\n<p>Thats your blocking call.</p>\n<p>So we can tell that there is a blocking call in the function <code>readMultipartData</code>.</p>\n<p>So why cant we block in the function? well if we look in the API for the interface that function is overriding <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/codec/HttpMessageReader.html\" rel=\"nofollow noreferrer\">HttpMessageReader</a> we can se that the function returns a <code>Mono&lt;T&gt;</code> which means that the function is an <code>async</code> function.</p>\n<p>And if it is <code>async</code> and we <code>block</code> we might get very very bad performance.</p>\n<p>This interface is used within the <code>Spring WebClient</code> which is a fully <code>async</code> client.</p>\n<p>You can use it in a non-async application, but that means you can block outside of the <code>WebClient</code> but internally, it needs to operate completely async if you want it to be as efficient as possible.</p>\n<p>So the bottom line is that you should not block in any function that returns a <code>Mono</code> or a <code>Flux</code>.</p>\n"}],"owner":{"account_id":4564492,"reputation":2199,"user_id":3705861,"display_name":"Younes El Ouarti"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":591,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74748100,"answer_count":1,"score":1,"last_activity_date":1670835430,"creation_date":1670524362,"question_id":74734859,"body_markdown":"# Problem #\r\nI have defined a `CustomHttpMessageReader` (which implements [`HttpMessageReader&lt;CustomClass&gt;`][1]), which is able to read a multipart response from a server and converts the received parts into an object of a specific class. The `CustomHttpMessageReader` uses internally the [`DefaultPartHttpMessageReader`][2] to actually read/parse the multipart responses.\r\n\r\nThe `CustomHttpMessageReader` accumulates the parts read by the DefaultReader and converts them into the desired class `CustomClass`.\r\n\r\nI&#39;ve created a `CustomHttpMessageConverter` that does the same thing for a `RestTemplate`, but I struggle to do the same for a `WebClient`.\r\n\r\n\r\nI always get the following Exception:\r\n```java\r\nblock()/blockFirst()/blockLast() are blocking, which is not supported in thread reactor-http-nio-2\r\njava.lang.IllegalStateException: block()/blockFirst()/blockLast() are blocking, which is not supported in thread reactor-http-nio-2\r\n\tat reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:83)\r\n\tat reactor.core.publisher.Flux.blockFirst(Flux.java:2600)\r\n\tat com.company.project.deserializer.multipart.CustomHttpMessageReader.readMultipartData(CustomHttpMessageReader.java:116)\r\n\tat com.company.project.deserializer.multipart.CustomHttpMessageReader.readMono(CustomHttpMessageReader.java:101)\r\n\tat org.springframework.web.reactive.function.BodyExtractors.lambda$readToMono$14(BodyExtractors.java:211)\r\n\tat java.base/java.util.Optional.orElseGet(Optional.java:369)\r\n    ...\r\n```\r\n\r\nMind you, I&#39;m not interested in running `WebClient` asynchronously. I&#39;m only future proofing my application because `RestTemplate` is apparently [only in maintenance mode][3] and the folks at Pivotal/Spring suggest using `WebClient` instead. \r\n\r\n# What I Tried\r\nAs I understand, there are threads that are not allowed to be blocked, namely the netty-nio one in the exception. I tried removing netty from my dependencies, so that I can rely solely on Tomcat. That however doesn&#39;t seem to help, as I get another exception, explaining me, that no suitable `HttpConnector` exists (exception thrown by the WebClient.Builder)\r\n\r\n```java\r\nNo suitable default ClientHttpConnector found\r\njava.lang.IllegalStateException: No suitable default ClientHttpConnector found\r\n\tat org.springframework.web.reactive.function.client.DefaultWebClientBuilder.initConnector(DefaultWebClientBuilder.java:297)\r\n\tat org.springframework.web.reactive.function.client.DefaultWebClientBuilder.build(DefaultWebClientBuilder.java:266)\r\n\tat com.company.project.RestClientUsingWebClient.getWebclient(RestClientUsingWebClient.java:160)\r\n\r\n```\r\n\r\nI&#39;ve tried my code executed in a unit test as well, as starting a whole Spring context. The result is unfortunately the same.\r\n\r\n\r\n----------\r\n# Setup #\r\n\r\nTo provide a bit more details, the following are snippets from the Classes mentioned earlier. The classes are not shown fully in order to understand better what is going on. All necessary methods are implemented (like e.g. `canRead()` in the Reader). \r\n\r\n## `CustomHttpMessageReader`\r\nI also included in the class the usage of `CustomPart` (in addition to `CustomClass`) just to show, that the content of the `Part` is also read i.e. blocked.\r\n\r\n```java\r\npublic class CustomHttpMessageReader  implements HttpMessageReader&lt;CustomClass&gt; {\r\n\r\n    private final DefaultPartHttpMessageReader defaultPartHttpMessageReader = new DefaultPartHttpMessageReader();\r\n\r\n    @Override\r\n    public Flux&lt;CustomClass&gt; read(final ResolvableType elementType, final ReactiveHttpInputMessage message,\r\n                                  final Map&lt;String, Object&gt; hints) {\r\n        return Flux.merge(readMono(elementType, message, hints));\r\n    }\r\n\r\n    @Override\r\n    public Mono&lt;CustomClass&gt; readMono(final ResolvableType elementType, final ReactiveHttpInputMessage message,\r\n                                      final Map&lt;String, Object&gt; hints) {\r\n        final List&lt;CustomPart&gt; customParts = readMultipartData(message);\r\n        return convertToCustomClass(customParts);\r\n    }\r\n\r\n    private List&lt;CustomPart&gt; readMultipartData(final ReactiveHttpInputMessage message) {\r\n        final ResolvableType resolvableType = ResolvableType.forClass(byte[].class);\r\n        return Optional.ofNullable(\r\n                        defaultPartHttpMessageReader.read(resolvableType, message, Map.of())\r\n                                .buffer()\r\n                                .blockFirst()) // &lt;- EXCEPTION IS THROWN HERE!\r\n                .orElse(new ArrayList&lt;&gt;())\r\n                .stream()\r\n                .map(part -&gt; {\r\n                    final byte[] content = Optional.ofNullable(part.content().blockFirst()) //&lt;- HERE IS ANOTHER BLOCK\r\n                            .map(DataBuffer::asByteBuffer)\r\n                            .map(ByteBuffer::array)\r\n                            .orElse(new byte[]{});\r\n\r\n                    // Here we cherry pick some header fields\r\n                    return new CustomPart(content, someHeaderFields);\r\n                }).collect(Collectors.toList());\r\n    }\r\n}\r\n```\r\n \r\n## Usage of `WebClient`\r\n\r\n```java\r\nclass RestClientUsingWebClient  {\r\n\r\n    /**\r\n     * The &quot;Main&quot; Method for our purposes\r\n     */\r\n    public Optional&lt;CustomClass&gt; getResource(final String baseUrl, final String id) {\r\n        final WebClient webclient = getWebclient(baseUrl);\r\n\r\n        //curl -X GET &quot;http://BASE_URL/id&quot; -H  &quot;accept: multipart/form-data&quot;\r\n        return webclient.get()\r\n                .uri(uriBuilder -&gt; uriBuilder.path(id).build()).retrieve()\r\n                .toEntity(CustomClass.class)\r\n                .onErrorResume(NotFound.class, e -&gt; Mono.empty())\r\n                .blockOptional() // &lt;- HERE IS ANOTHER BLOCK\r\n                .map(ResponseEntity::getBody);\r\n\r\n    }\r\n\r\n    //This exists also as a Bean definition\r\n    private WebClient getWebclient(final String baseUrl) {\r\n         final ExchangeStrategies exchangeStrategies = ExchangeStrategies.builder() \r\n                 .codecs(codecs -&gt; {\r\n                     codecs.defaultCodecs().maxInMemorySize(16 * 1024 * 1024);\r\n                     codecs.customCodecs().register(new CustomHttpMessageReader()); // &lt;- Our custom reader\r\n                 }) \r\n                 .build();\r\n\r\n         return WebClient.builder()\r\n                 .baseUrl(baseUrl)\r\n                 .exchangeStrategies(exchangeStrategies)\r\n                 .build();\r\n    }\r\n}\r\n```\r\n## Usage of `build.gradle`\r\nFor the sake of completion, here is what I think is the relevant part of my `build.gradle`\r\n```lang-groovy\r\nplugins {\r\n    id &#39;org.springframework.boot&#39; version &#39;2.7.2&#39;\r\n    id &#39;io.spring.dependency-management&#39; version &#39;1.0.13.RELEASE&#39;\r\n    ...\r\n}\r\n\r\ndependencies {\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-actuator&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;  // &lt;- This \r\n    implementation &#39;org.springframework.boot:spring-boot-starter-webflux&#39;\r\n    // What I tried:\r\n    // implementation (&#39;org.springframework.boot:spring-boot-starter-webflux&#39;){\r\n    //    exclude group: &#39;org.springframework.boot&#39;, module: &#39;spring-boot-starter-reactor-netty&#39;\r\n    //}\r\n...\r\n}\r\n\r\n```\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/codec/HttpMessageReader.html\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/codec/multipart/DefaultPartHttpMessageReader.html\r\n  [3]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/client/RestTemplate.html","title":"Use Webclient with custom HttpMessageReader to synchronously read responses","body":"<h1>Problem</h1>\n<p>I have defined a <code>CustomHttpMessageReader</code> (which implements <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/codec/HttpMessageReader.html\" rel=\"nofollow noreferrer\"><code>HttpMessageReader&lt;CustomClass&gt;</code></a>), which is able to read a multipart response from a server and converts the received parts into an object of a specific class. The <code>CustomHttpMessageReader</code> uses internally the <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/codec/multipart/DefaultPartHttpMessageReader.html\" rel=\"nofollow noreferrer\"><code>DefaultPartHttpMessageReader</code></a> to actually read/parse the multipart responses.</p>\n<p>The <code>CustomHttpMessageReader</code> accumulates the parts read by the DefaultReader and converts them into the desired class <code>CustomClass</code>.</p>\n<p>I've created a <code>CustomHttpMessageConverter</code> that does the same thing for a <code>RestTemplate</code>, but I struggle to do the same for a <code>WebClient</code>.</p>\n<p>I always get the following Exception:</p>\n<pre class=\"lang-java prettyprint-override\"><code>block()/blockFirst()/blockLast() are blocking, which is not supported in thread reactor-http-nio-2\njava.lang.IllegalStateException: block()/blockFirst()/blockLast() are blocking, which is not supported in thread reactor-http-nio-2\n    at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:83)\n    at reactor.core.publisher.Flux.blockFirst(Flux.java:2600)\n    at com.company.project.deserializer.multipart.CustomHttpMessageReader.readMultipartData(CustomHttpMessageReader.java:116)\n    at com.company.project.deserializer.multipart.CustomHttpMessageReader.readMono(CustomHttpMessageReader.java:101)\n    at org.springframework.web.reactive.function.BodyExtractors.lambda$readToMono$14(BodyExtractors.java:211)\n    at java.base/java.util.Optional.orElseGet(Optional.java:369)\n    ...\n</code></pre>\n<p>Mind you, I'm not interested in running <code>WebClient</code> asynchronously. I'm only future proofing my application because <code>RestTemplate</code> is apparently <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/client/RestTemplate.html\" rel=\"nofollow noreferrer\">only in maintenance mode</a> and the folks at Pivotal/Spring suggest using <code>WebClient</code> instead.</p>\n<h1>What I Tried</h1>\n<p>As I understand, there are threads that are not allowed to be blocked, namely the netty-nio one in the exception. I tried removing netty from my dependencies, so that I can rely solely on Tomcat. That however doesn't seem to help, as I get another exception, explaining me, that no suitable <code>HttpConnector</code> exists (exception thrown by the WebClient.Builder)</p>\n<pre class=\"lang-java prettyprint-override\"><code>No suitable default ClientHttpConnector found\njava.lang.IllegalStateException: No suitable default ClientHttpConnector found\n    at org.springframework.web.reactive.function.client.DefaultWebClientBuilder.initConnector(DefaultWebClientBuilder.java:297)\n    at org.springframework.web.reactive.function.client.DefaultWebClientBuilder.build(DefaultWebClientBuilder.java:266)\n    at com.company.project.RestClientUsingWebClient.getWebclient(RestClientUsingWebClient.java:160)\n\n</code></pre>\n<p>I've tried my code executed in a unit test as well, as starting a whole Spring context. The result is unfortunately the same.</p>\n<hr />\n<h1>Setup</h1>\n<p>To provide a bit more details, the following are snippets from the Classes mentioned earlier. The classes are not shown fully in order to understand better what is going on. All necessary methods are implemented (like e.g. <code>canRead()</code> in the Reader).</p>\n<h2><code>CustomHttpMessageReader</code></h2>\n<p>I also included in the class the usage of <code>CustomPart</code> (in addition to <code>CustomClass</code>) just to show, that the content of the <code>Part</code> is also read i.e. blocked.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class CustomHttpMessageReader  implements HttpMessageReader&lt;CustomClass&gt; {\n\n    private final DefaultPartHttpMessageReader defaultPartHttpMessageReader = new DefaultPartHttpMessageReader();\n\n    @Override\n    public Flux&lt;CustomClass&gt; read(final ResolvableType elementType, final ReactiveHttpInputMessage message,\n                                  final Map&lt;String, Object&gt; hints) {\n        return Flux.merge(readMono(elementType, message, hints));\n    }\n\n    @Override\n    public Mono&lt;CustomClass&gt; readMono(final ResolvableType elementType, final ReactiveHttpInputMessage message,\n                                      final Map&lt;String, Object&gt; hints) {\n        final List&lt;CustomPart&gt; customParts = readMultipartData(message);\n        return convertToCustomClass(customParts);\n    }\n\n    private List&lt;CustomPart&gt; readMultipartData(final ReactiveHttpInputMessage message) {\n        final ResolvableType resolvableType = ResolvableType.forClass(byte[].class);\n        return Optional.ofNullable(\n                        defaultPartHttpMessageReader.read(resolvableType, message, Map.of())\n                                .buffer()\n                                .blockFirst()) // &lt;- EXCEPTION IS THROWN HERE!\n                .orElse(new ArrayList&lt;&gt;())\n                .stream()\n                .map(part -&gt; {\n                    final byte[] content = Optional.ofNullable(part.content().blockFirst()) //&lt;- HERE IS ANOTHER BLOCK\n                            .map(DataBuffer::asByteBuffer)\n                            .map(ByteBuffer::array)\n                            .orElse(new byte[]{});\n\n                    // Here we cherry pick some header fields\n                    return new CustomPart(content, someHeaderFields);\n                }).collect(Collectors.toList());\n    }\n}\n</code></pre>\n<h2>Usage of <code>WebClient</code></h2>\n<pre class=\"lang-java prettyprint-override\"><code>class RestClientUsingWebClient  {\n\n    /**\n     * The &quot;Main&quot; Method for our purposes\n     */\n    public Optional&lt;CustomClass&gt; getResource(final String baseUrl, final String id) {\n        final WebClient webclient = getWebclient(baseUrl);\n\n        //curl -X GET &quot;http://BASE_URL/id&quot; -H  &quot;accept: multipart/form-data&quot;\n        return webclient.get()\n                .uri(uriBuilder -&gt; uriBuilder.path(id).build()).retrieve()\n                .toEntity(CustomClass.class)\n                .onErrorResume(NotFound.class, e -&gt; Mono.empty())\n                .blockOptional() // &lt;- HERE IS ANOTHER BLOCK\n                .map(ResponseEntity::getBody);\n\n    }\n\n    //This exists also as a Bean definition\n    private WebClient getWebclient(final String baseUrl) {\n         final ExchangeStrategies exchangeStrategies = ExchangeStrategies.builder() \n                 .codecs(codecs -&gt; {\n                     codecs.defaultCodecs().maxInMemorySize(16 * 1024 * 1024);\n                     codecs.customCodecs().register(new CustomHttpMessageReader()); // &lt;- Our custom reader\n                 }) \n                 .build();\n\n         return WebClient.builder()\n                 .baseUrl(baseUrl)\n                 .exchangeStrategies(exchangeStrategies)\n                 .build();\n    }\n}\n</code></pre>\n<h2>Usage of <code>build.gradle</code></h2>\n<p>For the sake of completion, here is what I think is the relevant part of my <code>build.gradle</code></p>\n<pre class=\"lang-groovy prettyprint-override\"><code>plugins {\n    id 'org.springframework.boot' version '2.7.2'\n    id 'io.spring.dependency-management' version '1.0.13.RELEASE'\n    ...\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-actuator'\n    implementation 'org.springframework.boot:spring-boot-starter-web'  // &lt;- This \n    implementation 'org.springframework.boot:spring-boot-starter-webflux'\n    // What I tried:\n    // implementation ('org.springframework.boot:spring-boot-starter-webflux'){\n    //    exclude group: 'org.springframework.boot', module: 'spring-boot-starter-reactor-netty'\n    //}\n...\n}\n\n</code></pre>\n"},{"tags":["java","postgresql","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"score":0,"creation_date":1670835235,"post_id":74768482,"comment_id":131956731,"body_markdown":"https://www.postgresql.org/docs/current/datatype-datetime.html","body":"<a href=\"https://www.postgresql.org/docs/current/datatype-datetime.html\" rel=\"nofollow noreferrer\">postgresql.org/docs/current/datatype-datetime.html</a>"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1670835558,"post_id":74768482,"comment_id":131956840,"body_markdown":"Hi &amp; Welcome! Are you sure it is &quot;varchar column&quot;? What is your computer/server time zone, what is db TZ?","body":"Hi &amp; Welcome! Are you sure it is &quot;varchar column&quot;? What is your computer/server time zone, what is db TZ?"},{"owner":{"account_id":27226458,"reputation":1,"user_id":20754897,"display_name":"Wildan Viado"},"score":1,"creation_date":1670835711,"post_id":74768482,"comment_id":131956889,"body_markdown":"@xerx593 yes im sure, i need to keep the column type to varchar for some condition needs, my db Asia/Bangkok","body":"@xerx593 yes im sure, i need to keep the column type to varchar for some condition needs, my db Asia/Bangkok"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1670835843,"post_id":74768482,"comment_id":131956918,"body_markdown":"(wouldn&#39;t be &quot;string column&quot; less confusing/offer more control!?;)","body":"(wouldn&#39;t be &quot;string column&quot; less confusing/offer more control!?;)"},{"owner":{"account_id":27226458,"reputation":1,"user_id":20754897,"display_name":"Wildan Viado"},"score":0,"creation_date":1670835968,"post_id":74768482,"comment_id":131956949,"body_markdown":"@xerx593 i know, but if i change to other, it will need some major changes :&#39;) so many logic depend on this entity","body":"@xerx593 i know, but if i change to other, it will need some major changes :&#39;) so many logic depend on this entity"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1670867688,"post_id":74768482,"comment_id":131967800,"body_markdown":"I&#39;m curious on what will happen and what you expect to happen when you try to read back those database values. Dates are built based on the absolute millisecond value returned, so it will appear different for everyone who reads it, and entirely depend on the time within the database itself. If all you want is a string based &#39;relative&#39; time, you&#39;ll need to write your own converter for it to turn your Date into a String and back.","body":"I&#39;m curious on what will happen and what you expect to happen when you try to read back those database values. Dates are built based on the absolute millisecond value returned, so it will appear different for everyone who reads it, and entirely depend on the time within the database itself. If all you want is a string based &#39;relative&#39; time, you&#39;ll need to write your own converter for it to turn your Date into a String and back."}],"answers":[{"comments":[{"owner":{"account_id":27226458,"reputation":1,"user_id":20754897,"display_name":"Wildan Viado"},"score":0,"creation_date":1670836443,"post_id":74768656,"comment_id":131957079,"body_markdown":"nothing changes, still the same value","body":"nothing changes, still the same value"}],"tags":[],"owner":{"account_id":8627776,"reputation":593,"user_id":6460453,"display_name":"K.Nikita"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670835145,"creation_date":1670835145,"answer_id":74768656,"question_id":74768482,"body_markdown":"Try it        \r\n\r\n    @Column(name = &quot;pickup_schedule&quot;, columnDefinition = &quot;timestampt with time zone not null&quot;, nullable = false)\r\n    @Temporal(TemporalType.TIMESTAMP)\r\n    private Date customPickupTm;","title":"SpringBoot JPA entity ignore timezone while save date to PostgreSQL","body":"<p>Try it</p>\n<pre><code>@Column(name = &quot;pickup_schedule&quot;, columnDefinition = &quot;timestampt with time zone not null&quot;, nullable = false)\n@Temporal(TemporalType.TIMESTAMP)\nprivate Date customPickupTm;\n</code></pre>\n"}],"owner":{"account_id":27226458,"reputation":1,"user_id":20754897,"display_name":"Wildan Viado"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":390,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670835145,"creation_date":1670834104,"question_id":74768482,"body_markdown":"So, i have a table with String / Varchar column type in PostgreSQL database.\r\n\r\nAnd, my spring boot entity for this column :\r\n\r\n```\r\n@Column(name = &quot;pickup_schedule&quot;)\r\n@Temporal(TemporalType.TIME)\r\nprivate Date customPickupTm;\r\n```\r\n\r\nAnd then, my table saving the data of customPickupTm below :\r\n\r\n[wrong formatted time][1]\r\n\r\n\r\nBut i only need insert to the column with format HH:mm:ss , not with +07\r\n\r\nAny solution to remove that +07?\r\n\r\ni&#39;m already check &amp; debug the final value that set to the customPickupTm variable with HH:mm:ss format\r\n\r\n[debugged variable value][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Y1y5d.png\r\n  [2]: https://i.stack.imgur.com/qgxvE.png\r\n","title":"SpringBoot JPA entity ignore timezone while save date to PostgreSQL","body":"<p>So, i have a table with String / Varchar column type in PostgreSQL database.</p>\n<p>And, my spring boot entity for this column :</p>\n<pre><code>@Column(name = &quot;pickup_schedule&quot;)\n@Temporal(TemporalType.TIME)\nprivate Date customPickupTm;\n</code></pre>\n<p>And then, my table saving the data of customPickupTm below :</p>\n<p><a href=\"https://i.stack.imgur.com/Y1y5d.png\" rel=\"nofollow noreferrer\">wrong formatted time</a></p>\n<p>But i only need insert to the column with format HH:mm:ss , not with +07</p>\n<p>Any solution to remove that +07?</p>\n<p>i'm already check &amp; debug the final value that set to the customPickupTm variable with HH:mm:ss format</p>\n<p><a href=\"https://i.stack.imgur.com/qgxvE.png\" rel=\"nofollow noreferrer\">debugged variable value</a></p>\n"},{"tags":["java","spring-boot","swagger-ui","springfox","springfox-boot-starter"],"comments":[{"owner":{"account_id":39252,"reputation":89842,"user_id":113116,"display_name":"Helen"},"score":0,"creation_date":1670837823,"post_id":74768589,"comment_id":131957483,"body_markdown":"I think Springfox and Springdoc are incompatible. You should pick one and remove the other.","body":"I think Springfox and Springdoc are incompatible. You should pick one and remove the other."},{"owner":{"account_id":27086560,"reputation":53,"user_id":20634985,"display_name":"bleschunov"},"score":1,"creation_date":1670838824,"post_id":74768589,"comment_id":131957775,"body_markdown":"@Helen thank you! I didn&#39;t notice springdoc predefined dependency. I chose springdoc and it works now","body":"@Helen thank you! I didn&#39;t notice springdoc predefined dependency. I chose springdoc and it works now"}],"owner":{"account_id":27086560,"reputation":53,"user_id":20634985,"display_name":"bleschunov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1621,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1670834917,"creation_date":1670834789,"question_id":74768589,"body_markdown":"I use openjdk-17 and spring 3 (with jakarta)\r\n\r\nI want to use\r\nio.springfox:springfox-boot-starter:3.0.0\r\n\r\nAs I understood it should work without any configurations. \r\n\r\nbuild.gradle\r\n```\r\nplugins {\r\n   id &#39;java&#39;\r\n   id &#39;org.springframework.boot&#39; version &#39;3.0.0&#39;\r\n   id &#39;io.spring.dependency-management&#39; version &#39;1.1.0&#39;\r\n   id &#39;org.hibernate.orm&#39; version &#39;6.1.5.Final&#39;\r\n}\r\n\r\ngroup = &#39;com.corporation&#39;\r\nversion = &#39;0.0.1-SNAPSHOT&#39;\r\nsourceCompatibility = &#39;17&#39;\r\n\r\nconfigurations {\r\n   compileOnly {\r\n      extendsFrom annotationProcessor\r\n   }\r\n}\r\n\r\nrepositories {\r\n   mavenCentral()\r\n}\r\n\r\ndependencies {\r\n   implementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n   //implementation &#39;org.springframework.boot:spring-boot-starter-security&#39;\r\n   implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n   implementation &#39;org.liquibase:liquibase-core&#39;\r\n   implementation &#39;org.hibernate:hibernate-validator:8.0.0.Final&#39;\r\n   implementation &#39;org.springdoc:springdoc-openapi-ui:1.6.13&#39;\r\n   compileOnly &#39;org.projectlombok:lombok&#39;\r\n   developmentOnly &#39;org.springframework.boot:spring-boot-devtools&#39;\r\n   runtimeOnly &#39;org.postgresql:postgresql&#39;\r\n   annotationProcessor &#39;org.projectlombok:lombok&#39;\r\n   testImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n   //testImplementation &#39;org.springframework.security:spring-security-test&#39;\r\n   implementation &#39;org.mapstruct:mapstruct:1.5.3.Final&#39;\r\n   annotationProcessor &#39;org.mapstruct:mapstruct-processor:1.5.3.Final&#39;\r\n   implementation &quot;io.springfox:springfox-boot-starter:3.0.0&quot;\r\n}\r\n\r\ntasks.named(&#39;test&#39;) {\r\n   useJUnitPlatform()\r\n}\r\n\r\nhibernate {\r\n   enhancement {\r\n      lazyInitialization true\r\n      dirtyTracking true\r\n      associationManagement true\r\n   }\r\n}\r\n```\r\n\r\nController\r\n```\r\n@RequiredArgsConstructor\r\n@RestController\r\n@RequestMapping(&quot;/user&quot;)\r\n@Api(&quot;asdfasdf&quot;)\r\npublic class UserController {\r\n    private final UserService UserService;\r\n\r\n    @GetMapping(&quot;/{id}&quot;)\r\n    @ApiOperation(&quot;adsfa&quot;)\r\n    public ResponseEntity&lt;UserDto&gt; getUserById(@PathVariable(&quot;id&quot;) int id) {\r\n        Optional&lt;User&gt; optionalUser = UserService.findById(id);\r\n\r\n        return optionalUser.map(user -&gt; ResponseEntity.ok(UserMapper.INSTANCE.userToUserDto(user))).orElse(ResponseEntity.status(404).body(null));\r\n    }\r\n}\r\n```\r\nI checked urls:\r\n - http://localhost:8080/swagger-ui\r\n - http://localhost:8080/swagger-ui/\r\n - http://localhost:8080/swagger-ui.html\r\n - http://localhost:8080/swagger-ui/index.html\r\n\r\nI got 404\r\n\r\nI want to get swagger-ui page","title":"io.springfox:springfox-boot-starter:3.0.0 does not work","body":"<p>I use openjdk-17 and spring 3 (with jakarta)</p>\n<p>I want to use\nio.springfox:springfox-boot-starter:3.0.0</p>\n<p>As I understood it should work without any configurations.</p>\n<p>build.gradle</p>\n<pre><code>plugins {\n   id 'java'\n   id 'org.springframework.boot' version '3.0.0'\n   id 'io.spring.dependency-management' version '1.1.0'\n   id 'org.hibernate.orm' version '6.1.5.Final'\n}\n\ngroup = 'com.corporation'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '17'\n\nconfigurations {\n   compileOnly {\n      extendsFrom annotationProcessor\n   }\n}\n\nrepositories {\n   mavenCentral()\n}\n\ndependencies {\n   implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n   //implementation 'org.springframework.boot:spring-boot-starter-security'\n   implementation 'org.springframework.boot:spring-boot-starter-web'\n   implementation 'org.liquibase:liquibase-core'\n   implementation 'org.hibernate:hibernate-validator:8.0.0.Final'\n   implementation 'org.springdoc:springdoc-openapi-ui:1.6.13'\n   compileOnly 'org.projectlombok:lombok'\n   developmentOnly 'org.springframework.boot:spring-boot-devtools'\n   runtimeOnly 'org.postgresql:postgresql'\n   annotationProcessor 'org.projectlombok:lombok'\n   testImplementation 'org.springframework.boot:spring-boot-starter-test'\n   //testImplementation 'org.springframework.security:spring-security-test'\n   implementation 'org.mapstruct:mapstruct:1.5.3.Final'\n   annotationProcessor 'org.mapstruct:mapstruct-processor:1.5.3.Final'\n   implementation &quot;io.springfox:springfox-boot-starter:3.0.0&quot;\n}\n\ntasks.named('test') {\n   useJUnitPlatform()\n}\n\nhibernate {\n   enhancement {\n      lazyInitialization true\n      dirtyTracking true\n      associationManagement true\n   }\n}\n</code></pre>\n<p>Controller</p>\n<pre><code>@RequiredArgsConstructor\n@RestController\n@RequestMapping(&quot;/user&quot;)\n@Api(&quot;asdfasdf&quot;)\npublic class UserController {\n    private final UserService UserService;\n\n    @GetMapping(&quot;/{id}&quot;)\n    @ApiOperation(&quot;adsfa&quot;)\n    public ResponseEntity&lt;UserDto&gt; getUserById(@PathVariable(&quot;id&quot;) int id) {\n        Optional&lt;User&gt; optionalUser = UserService.findById(id);\n\n        return optionalUser.map(user -&gt; ResponseEntity.ok(UserMapper.INSTANCE.userToUserDto(user))).orElse(ResponseEntity.status(404).body(null));\n    }\n}\n</code></pre>\n<p>I checked urls:</p>\n<ul>\n<li>http://localhost:8080/swagger-ui</li>\n<li>http://localhost:8080/swagger-ui/</li>\n<li>http://localhost:8080/swagger-ui.html</li>\n<li>http://localhost:8080/swagger-ui/index.html</li>\n</ul>\n<p>I got 404</p>\n<p>I want to get swagger-ui page</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1670838361,"post_id":74768367,"comment_id":131957654,"body_markdown":"In every picture file taken by the camera the orientation is marked. So first read orientation value from the file. Then rotate accordingly.","body":"In every picture file taken by the camera the orientation is marked. So first read orientation value from the file. Then rotate accordingly."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1670838432,"post_id":74768367,"comment_id":131957670,"body_markdown":"Further its pretty unclear why you wanna have a bitmap.","body":"Further its pretty unclear why you wanna have a bitmap."}],"answers":[{"comments":[{"owner":{"account_id":26785242,"reputation":9,"user_id":20379528,"display_name":"James Black"},"score":0,"creation_date":1670835753,"post_id":74768555,"comment_id":131956896,"body_markdown":"I try your way but it can&#39;t rotate the picture","body":"I try your way but it can&#39;t rotate the picture"},{"owner":{"account_id":8967184,"reputation":570,"user_id":9305266,"display_name":"Manish Ahire"},"score":0,"creation_date":1670835923,"post_id":74768555,"comment_id":131956939,"body_markdown":"did you checked the rotatedBitmap set on ImageView?, it should be working in such scenario.","body":"did you checked the rotatedBitmap set on ImageView?, it should be working in such scenario."},{"owner":{"account_id":26785242,"reputation":9,"user_id":20379528,"display_name":"James Black"},"score":0,"creation_date":1670837540,"post_id":74768555,"comment_id":131957400,"body_markdown":"i follow you but it rotates all the images not only the one taken from samsung, i try your if condition but it doesnt work it crashes the app","body":"i follow you but it rotates all the images not only the one taken from samsung, i try your if condition but it doesnt work it crashes the app"},{"owner":{"account_id":8967184,"reputation":570,"user_id":9305266,"display_name":"Manish Ahire"},"score":0,"creation_date":1670838356,"post_id":74768555,"comment_id":131957651,"body_markdown":"when it happen when you take image form camera or from choose file form gallery?","body":"when it happen when you take image form camera or from choose file form gallery?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1670838533,"post_id":74768555,"comment_id":131957700,"body_markdown":"If you have crashes then tell us which exception that you did not catch killed your app. Look in the LogCat.","body":"If you have crashes then tell us which exception that you did not catch killed your app. Look in the LogCat."},{"owner":{"account_id":26785242,"reputation":9,"user_id":20379528,"display_name":"James Black"},"score":0,"creation_date":1670864518,"post_id":74768555,"comment_id":131966780,"body_markdown":"error is &quot;Caused by: java.lang.IllegalArgumentException: y + height must be &lt;= bitmap.height()&quot;","body":"error is &quot;Caused by: java.lang.IllegalArgumentException: y + height must be &lt;= bitmap.height()&quot;"},{"owner":{"account_id":26785242,"reputation":9,"user_id":20379528,"display_name":"James Black"},"score":0,"creation_date":1670920808,"post_id":74768555,"comment_id":131978747,"body_markdown":"I fixed it, so how can I improve the input image quality according to my code?","body":"I fixed it, so how can I improve the input image quality according to my code?"}],"tags":[],"owner":{"account_id":8967184,"reputation":570,"user_id":9305266,"display_name":"Manish Ahire"},"comment_count":7,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670834573,"creation_date":1670834573,"answer_id":74768555,"question_id":74768367,"body_markdown":"Try this code it might be helpful...\r\n\r\n```\r\nfinal int maxSize = 960;\r\nint outWidth;\r\nint outHeight;\r\nint inWidth = myBitmap.getWidth();\r\nint inHeight = myBitmap.getHeight();\r\nif(inWidth &gt; inHeight){\r\n    outWidth = maxSize;\r\n    outHeight = (inHeight * maxSize) / inWidth; \r\n} else {\r\n    outHeight = maxSize;\r\n    outWidth = (inWidth * maxSize) / inHeight; \r\n}\r\n\r\nBitmap resizedBitmap = Bitmap.createScaledBitmap(myBitmap, outWidth, outHeight, false);\r\n\r\n//Todo Rotate image\r\nMatrix matrix = new Matrix();\r\nmatrix.postRotate(90);\r\n\r\nBitmap rotatedBitmap = Bitmap.createBitmap(resizedBitmap, 0, 0, resizedBitmap.getWidth(), resizedBitmap.getHeight(), matrix, true);\r\n```","title":"How to improve the quality of input images and rotate images when taking pictures from the gallery?","body":"<p>Try this code it might be helpful...</p>\n<pre><code>final int maxSize = 960;\nint outWidth;\nint outHeight;\nint inWidth = myBitmap.getWidth();\nint inHeight = myBitmap.getHeight();\nif(inWidth &gt; inHeight){\n    outWidth = maxSize;\n    outHeight = (inHeight * maxSize) / inWidth; \n} else {\n    outHeight = maxSize;\n    outWidth = (inWidth * maxSize) / inHeight; \n}\n\nBitmap resizedBitmap = Bitmap.createScaledBitmap(myBitmap, outWidth, outHeight, false);\n\n//Todo Rotate image\nMatrix matrix = new Matrix();\nmatrix.postRotate(90);\n\nBitmap rotatedBitmap = Bitmap.createBitmap(resizedBitmap, 0, 0, resizedBitmap.getWidth(), resizedBitmap.getHeight(), matrix, true);\n</code></pre>\n"}],"owner":{"account_id":26785242,"reputation":9,"user_id":20379528,"display_name":"James Black"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1670834573,"creation_date":1670833432,"question_id":74768367,"body_markdown":"I use the code below to get an image from the gallery and capture an image from the camera. But I don&#39;t know how my image is degraded. As for taking pictures from the gallery, it is rotated 90 degrees horizontally (I use a samsung phone to take pictures, with my other phone, it&#39;s completely normal without rotation)\r\n\r\n`\r\n```\r\nif (resultCode == RESULT_OK) {\r\n            //Open Camera\r\n            if (requestCode == 2) {\r\n                Bitmap imgCam = (Bitmap) data.getExtras().get(&quot;data&quot;);\r\n                int dimension = Math.min(imgCam.getWidth(), imgCam.getHeight());\r\n                imgCam = ThumbnailUtils.extractThumbnail(imgCam, dimension, dimension);\r\n\r\n                cropBitmap = Utils.processBitmap(imgCam, TF_OD_API_INPUT_SIZE);\r\n                imgHinh.setImageBitmap(imgCam);\r\n\r\n                loading = new ProgressDialog(this);\r\n                loading.show();\r\n                initBox();\r\n                imgCam = Bitmap.createScaledBitmap(imgCam, imgSize, imgSize, true);\r\n\r\n                Bitmap finalImgCam = imgCam;\r\n                new CountDownTimer(2000,1000) {\r\n                    public void onFinish() {\r\n                        classifyImage(finalImgCam);\r\n                        loading.dismiss();\r\n                    }\r\n\r\n                    public void onTick(long millisUntilFinished) {\r\n\r\n                    }\r\n                }.start();\r\n            //Open Gallery\r\n            } else if (requestCode == 3) {\r\n                Uri dat = data.getData();\r\n                Bitmap imgChoose = null;\r\n                try {\r\n                    imgChoose = MediaStore.Images.Media.getBitmap(this.getContentResolver(), dat);\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n\r\n                cropBitmap = Utils.processBitmap(imgChoose, TF_OD_API_INPUT_SIZE);\r\n//                imgHinh.setImageBitmap(imgChoose);\r\n                loading = new ProgressDialog(this);\r\n                loading.show();\r\n                initBox();\r\n                int dimension = Math.min(imgChoose.getWidth(), imgChoose.getHeight());\r\n                imgChoose = ThumbnailUtils.extractThumbnail(imgChoose, dimension, dimension);\r\n                imgChoose = Bitmap.createScaledBitmap(imgChoose, imgSize, imgSize, true);\r\n                imgHinh.setImageBitmap(imgChoose);\r\n                Bitmap finalImgChoose = imgChoose;\r\n                new CountDownTimer(2000,1000) {\r\n                    public void onFinish() {\r\n                        classifyImage(finalImgChoose);\r\n                        loading.dismiss();\r\n                    }\r\n\r\n                    public void onTick(long millisUntilFinished) {\r\n\r\n                    }\r\n                }.start();\r\n            }\r\n        }\r\n```\r\n`\r\n\r\nI don&#39;t know how to fix that. Thank you for helping me","title":"How to improve the quality of input images and rotate images when taking pictures from the gallery?","body":"<p>I use the code below to get an image from the gallery and capture an image from the camera. But I don't know how my image is degraded. As for taking pictures from the gallery, it is rotated 90 degrees horizontally (I use a samsung phone to take pictures, with my other phone, it's completely normal without rotation)</p>\n<p>`</p>\n<pre><code>if (resultCode == RESULT_OK) {\n            //Open Camera\n            if (requestCode == 2) {\n                Bitmap imgCam = (Bitmap) data.getExtras().get(&quot;data&quot;);\n                int dimension = Math.min(imgCam.getWidth(), imgCam.getHeight());\n                imgCam = ThumbnailUtils.extractThumbnail(imgCam, dimension, dimension);\n\n                cropBitmap = Utils.processBitmap(imgCam, TF_OD_API_INPUT_SIZE);\n                imgHinh.setImageBitmap(imgCam);\n\n                loading = new ProgressDialog(this);\n                loading.show();\n                initBox();\n                imgCam = Bitmap.createScaledBitmap(imgCam, imgSize, imgSize, true);\n\n                Bitmap finalImgCam = imgCam;\n                new CountDownTimer(2000,1000) {\n                    public void onFinish() {\n                        classifyImage(finalImgCam);\n                        loading.dismiss();\n                    }\n\n                    public void onTick(long millisUntilFinished) {\n\n                    }\n                }.start();\n            //Open Gallery\n            } else if (requestCode == 3) {\n                Uri dat = data.getData();\n                Bitmap imgChoose = null;\n                try {\n                    imgChoose = MediaStore.Images.Media.getBitmap(this.getContentResolver(), dat);\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n\n                cropBitmap = Utils.processBitmap(imgChoose, TF_OD_API_INPUT_SIZE);\n//                imgHinh.setImageBitmap(imgChoose);\n                loading = new ProgressDialog(this);\n                loading.show();\n                initBox();\n                int dimension = Math.min(imgChoose.getWidth(), imgChoose.getHeight());\n                imgChoose = ThumbnailUtils.extractThumbnail(imgChoose, dimension, dimension);\n                imgChoose = Bitmap.createScaledBitmap(imgChoose, imgSize, imgSize, true);\n                imgHinh.setImageBitmap(imgChoose);\n                Bitmap finalImgChoose = imgChoose;\n                new CountDownTimer(2000,1000) {\n                    public void onFinish() {\n                        classifyImage(finalImgChoose);\n                        loading.dismiss();\n                    }\n\n                    public void onTick(long millisUntilFinished) {\n\n                    }\n                }.start();\n            }\n        }\n</code></pre>\n<p>`</p>\n<p>I don't know how to fix that. Thank you for helping me</p>\n"},{"tags":["java","junit","hamcrest","matcher"],"answers":[{"comments":[{"owner":{"account_id":525127,"reputation":188,"user_id":955701,"display_name":"Richard"},"score":1,"creation_date":1641341171,"post_id":153198,"comment_id":124779207,"body_markdown":"Looks like oneOf is the most recent.","body":"Looks like oneOf is the most recent."},{"owner":{"account_id":3216,"reputation":12095,"user_id":4600,"display_name":"marcospereira"},"score":0,"creation_date":1641914538,"post_id":153198,"comment_id":124929046,"body_markdown":"Thanks, @Richard. Indeed, `oneOf` sounds like a good option for this case too: http://hamcrest.org/JavaHamcrest/javadoc/2.2/org/hamcrest/collection/IsIn.html#oneOf-T...-","body":"Thanks, @Richard. Indeed, <code>oneOf</code> sounds like a good option for this case too: <a href=\"http://hamcrest.org/JavaHamcrest/javadoc/2.2/org/hamcrest/collection/IsIn.html#oneOf-T...-\" rel=\"nofollow noreferrer\">hamcrest.org/JavaHamcrest/javadoc/2.2/org/hamcrest/collectio&zwnj;&#8203;n/&hellip;</a>"}],"tags":[],"owner":{"account_id":3216,"reputation":12095,"user_id":4600,"display_name":"marcospereira"},"comment_count":2,"down_vote_count":0,"up_vote_count":138,"is_accepted":true,"score":138,"last_activity_date":1641914514,"creation_date":1222783999,"answer_id":153198,"question_id":152714,"body_markdown":"    assertThat(result, anyOf(equalTo(1), equalTo(2), equalTo(3)))\r\n\r\nFrom [Hamcrest tutorial][1]: \r\n\r\n&gt; `anyOf` - matches if any matchers match, short circuits (like Java ||)\r\n\r\nSee also [Javadoc][2].\r\n\r\nMoreover, you could write your own Matcher, which is quite easy to do.\r\n\r\n\r\n  [1]: http://hamcrest.org/JavaHamcrest/tutorial#logical\r\n  [2]: http://hamcrest.org/JavaHamcrest/javadoc/2.2/org/hamcrest/core/AnyOf.html","title":"Multiple correct results with Hamcrest (is there an or-matcher?)","body":"<pre><code>assertThat(result, anyOf(equalTo(1), equalTo(2), equalTo(3)))\n</code></pre>\n<p>From <a href=\"http://hamcrest.org/JavaHamcrest/tutorial#logical\" rel=\"noreferrer\">Hamcrest tutorial</a>:</p>\n<blockquote>\n<p><code>anyOf</code> - matches if any matchers match, short circuits (like Java ||)</p>\n</blockquote>\n<p>See also <a href=\"http://hamcrest.org/JavaHamcrest/javadoc/2.2/org/hamcrest/core/AnyOf.html\" rel=\"noreferrer\">Javadoc</a>.</p>\n<p>Moreover, you could write your own Matcher, which is quite easy to do.</p>\n"},{"comments":[{"owner":{"account_id":31685,"reputation":3185,"user_id":87206,"display_name":"CurtainDog"},"score":0,"creation_date":1340779836,"post_id":6554732,"comment_id":14736198,"body_markdown":"Hmmm... for some inexplicable reason my Eclipse environment (which is only about 6 months old) has an ancient Hamcrest library and I don&#39;t get these goodies.","body":"Hmmm... for some inexplicable reason my Eclipse environment (which is only about 6 months old) has an ancient Hamcrest library and I don&#39;t get these goodies."},{"owner":{"account_id":6742219,"reputation":3296,"user_id":5922757,"accept_rate":100,"display_name":"Jezor"},"score":1,"creation_date":1522933540,"post_id":6554732,"comment_id":86356734,"body_markdown":"Well, `assertThat((Set&lt;String&gt;)null, is(either(empty()).or(nullValue())));` gives me a rather strange assertion error: `Expected: is (an empty collection or null) but: was null` for hamcrest `1.3`...","body":"Well, <code>assertThat((Set&lt;String&gt;)null, is(either(empty()).or(nullValue())));</code> gives me a rather strange assertion error: <code>Expected: is (an empty collection or null) but: was null</code> for hamcrest <code>1.3</code>..."},{"owner":{"account_id":235131,"reputation":2628,"user_id":501739,"accept_rate":67,"display_name":"Jolta"},"score":0,"creation_date":1582297618,"post_id":6554732,"comment_id":106740225,"body_markdown":"isOneOf() seems to be deprecated now.","body":"isOneOf() seems to be deprecated now."}],"tags":[],"owner":{"account_id":25621,"reputation":21842,"user_id":65977,"accept_rate":79,"display_name":"Tyler"},"comment_count":3,"down_vote_count":0,"up_vote_count":88,"is_accepted":false,"score":88,"last_activity_date":1459340774,"creation_date":1309573248,"answer_id":6554732,"question_id":152714,"body_markdown":"marcos is right, but you have a couple other options as well. First of all, there *is* an either/or:\r\n\r\n    assertThat(result, either(is(1)).or(is(2)));\r\n\r\nbut if you have more than two items it would probably get unwieldy. Plus, the typechecker gets weird on stuff like that sometimes. For your case, you could do:\r\n\r\n    assertThat(result, isOneOf(1, 2, 3))\r\n\r\nor if you already have your options in an array/Collection:\r\n\r\n    assertThat(result, isIn(theCollection))\r\n\r\nSee also [Javadoc][1].\r\n\r\n\r\n  [1]: http://hamcrest.org/JavaHamcrest/javadoc/1.3/org/hamcrest/Matchers.html","title":"Multiple correct results with Hamcrest (is there an or-matcher?)","body":"<p>marcos is right, but you have a couple other options as well. First of all, there <em>is</em> an either/or:</p>\n\n<pre><code>assertThat(result, either(is(1)).or(is(2)));\n</code></pre>\n\n<p>but if you have more than two items it would probably get unwieldy. Plus, the typechecker gets weird on stuff like that sometimes. For your case, you could do:</p>\n\n<pre><code>assertThat(result, isOneOf(1, 2, 3))\n</code></pre>\n\n<p>or if you already have your options in an array/Collection:</p>\n\n<pre><code>assertThat(result, isIn(theCollection))\n</code></pre>\n\n<p>See also <a href=\"http://hamcrest.org/JavaHamcrest/javadoc/1.3/org/hamcrest/Matchers.html\">Javadoc</a>.</p>\n"},{"tags":[],"owner":{"account_id":2338104,"reputation":9101,"user_id":2049986,"accept_rate":89,"display_name":"Jacob van Lingen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670834410,"creation_date":1670834410,"answer_id":74768533,"question_id":152714,"body_markdown":"In addition to the `anyOf`, you could also go for the either option, but it has a slightly different syntax:\r\n\r\n    \r\n    assertThat(result, either(is(1)).or(is(2)).or(is(3))))\r\n\r\n","title":"Multiple correct results with Hamcrest (is there an or-matcher?)","body":"<p>In addition to the <code>anyOf</code>, you could also go for the either option, but it has a slightly different syntax:</p>\n<pre><code>assertThat(result, either(is(1)).or(is(2)).or(is(3))))\n</code></pre>\n"}],"owner":{"account_id":1399,"reputation":15113,"user_id":1870,"accept_rate":95,"display_name":"Mo."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45290,"favorite_count":0,"down_vote_count":0,"up_vote_count":87,"accepted_answer_id":153198,"answer_count":3,"score":87,"last_activity_date":1670834410,"creation_date":1222775722,"question_id":152714,"body_markdown":"I am relatively new to matchers. I am toying around with [hamcrest][1] in combination with JUnit and I kinda like it.\r\n\r\nIs there a way, to state that one of multiple choices is correct?\r\n\r\nSomething like\r\n\r\n    assertThat( result, is( either( 1, or( 2, or( 3 ) ) ) ) ) //does not work in hamcrest\r\n\r\nThe method I am testing returns one element of a collection. The list may contain multiple candidates. My current implementation returns the first hit, but that is not a requirement. I would like my testcase to succeed, if any of the possible candidates is returned. How would you express this in Java?\r\n\r\n(I am open to hamcrest-alternatives)\r\n\r\n\r\n  [1]: http://code.google.com/p/hamcrest/","title":"Multiple correct results with Hamcrest (is there an or-matcher?)","body":"<p>I am relatively new to matchers. I am toying around with <a href=\"http://code.google.com/p/hamcrest/\" rel=\"noreferrer\">hamcrest</a> in combination with JUnit and I kinda like it.</p>\n\n<p>Is there a way, to state that one of multiple choices is correct?</p>\n\n<p>Something like</p>\n\n<pre><code>assertThat( result, is( either( 1, or( 2, or( 3 ) ) ) ) ) //does not work in hamcrest\n</code></pre>\n\n<p>The method I am testing returns one element of a collection. The list may contain multiple candidates. My current implementation returns the first hit, but that is not a requirement. I would like my testcase to succeed, if any of the possible candidates is returned. How would you express this in Java?</p>\n\n<p>(I am open to hamcrest-alternatives)</p>\n"},{"tags":["java","apache-kafka","spring-kafka"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1669819199,"post_id":74626689,"comment_id":131729970,"body_markdown":"You&#39;re calling `while(true)` and `Thread.sleep` in the main class and wondering why other code doesn&#39;t run? You should be able to set cron expressions in Spring with background threads, by the way (`@Scheduled` annotation)... How are we going to know if there&#39;s anything in your topics to actually read, though?","body":"You&#39;re calling <code>while(true)</code> and <code>Thread.sleep</code> in the main class and wondering why other code doesn&#39;t run? You should be able to set cron expressions in Spring with background threads, by the way (<code>@Scheduled</code> annotation)... How are we going to know if there&#39;s anything in your topics to actually read, though?"},{"owner":{"account_id":26701199,"reputation":21,"user_id":20308225,"display_name":"miguel30452"},"score":0,"creation_date":1669880503,"post_id":74626689,"comment_id":131744610,"body_markdown":"Hi @OneCriketeer, Thanks for the comment, I will look on the internet about the tag that you tell me, as for the topics, yes there are things in them, but when I created the main, they stopped receiving messages from the topics although they were in them, I have done a debug and it is like the listener code is skipped, specifically jumps from the forEach of the kstream to the end of the code without doing the methods.","body":"Hi @OneCriketeer, Thanks for the comment, I will look on the internet about the tag that you tell me, as for the topics, yes there are things in them, but when I created the main, they stopped receiving messages from the topics although they were in them, I have done a debug and it is like the listener code is skipped, specifically jumps from the forEach of the kstream to the end of the code without doing the methods."},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1669903949,"post_id":74626689,"comment_id":131752472,"body_markdown":"KStream processing is asynchronous, so you&#39;d need to explicitly set a breakpoint within the foreach body. Otherwise, yes, it&#39;ll create a Topology object and &quot;skip/return it at the end&quot; of the spring function. It probably doesn&#39;t run because you `return null` rather than the KStream object that the method signature expects and will wire into the Spring Kafka lifecycle... Btw, it&#39;s highly recommended not to use Kafka Streams with external database actions (DAO/Repository classes)","body":"KStream processing is asynchronous, so you&#39;d need to explicitly set a breakpoint within the foreach body. Otherwise, yes, it&#39;ll create a Topology object and &quot;skip/return it at the end&quot; of the spring function. It probably doesn&#39;t run because you <code>return null</code> rather than the KStream object that the method signature expects and will wire into the Spring Kafka lifecycle... Btw, it&#39;s highly recommended not to use Kafka Streams with external database actions (DAO/Repository classes)"},{"owner":{"account_id":26701199,"reputation":21,"user_id":20308225,"display_name":"miguel30452"},"score":1,"creation_date":1669968562,"post_id":74626689,"comment_id":131767793,"body_markdown":"Okei, Thank you very much, I have already managed to solve it with the annotation that you told me, as for what you say about the Dao, I did not know that it was a bad practice, I will take it into account when refactoring the code. Thanks for the comment and for the advice.","body":"Okei, Thank you very much, I have already managed to solve it with the annotation that you told me, as for what you say about the Dao, I did not know that it was a bad practice, I will take it into account when refactoring the code. Thanks for the comment and for the advice."},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1669990266,"post_id":74626689,"comment_id":131774903,"body_markdown":"Feel free to show your solution below as an answer to your own question","body":"Feel free to show your solution below as an answer to your own question"}],"answers":[{"tags":[],"owner":{"account_id":26701199,"reputation":21,"user_id":20308225,"display_name":"miguel30452"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670833940,"creation_date":1670833940,"answer_id":74768456,"question_id":74626689,"body_markdown":"Good, as we discussed in the comments the bug was based on that we can not make a thread that calls a sleep and a while true, because all the time will be using that thread and will not pass to the next, I have solved it by simply adding the tag &quot;@Scheduled&quot; to the main of the application.\r\n\r\nThis way we make sure that after the execution of the main we wait &quot;x&quot; seconds for the next execution, leaving resources for the streamListener.\r\n\r\nThank you very much and feel free to correct me if I have made a mistake in the explanation.\r\n","title":"My application has stopped consuming from kafka&#39;s queue","body":"<p>Good, as we discussed in the comments the bug was based on that we can not make a thread that calls a sleep and a while true, because all the time will be using that thread and will not pass to the next, I have solved it by simply adding the tag &quot;@Scheduled&quot; to the main of the application.</p>\n<p>This way we make sure that after the execution of the main we wait &quot;x&quot; seconds for the next execution, leaving resources for the streamListener.</p>\n<p>Thank you very much and feel free to correct me if I have made a mistake in the explanation.</p>\n"}],"owner":{"account_id":26701199,"reputation":21,"user_id":20308225,"display_name":"miguel30452"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1670833940,"creation_date":1669806069,"question_id":74626689,"body_markdown":"I am developing an application based on Spring Boot and kafka queues, but when developing the main of the application, it has stopped consuming from the queue and I do not know why.\r\n\r\n\r\n\r\n--Main Application---        \r\n```\r\n@Service\r\npublic class ApplicationMainClass implements ApplicationListener&lt;ApplicationReadyEvent&gt; {\r\n\r\n    @Autowired\r\n    PlayerDaoRepository playerDaoRepository;\r\n    @Autowired\r\n    DataColectorServiceImp dataColectorServiceImp;\r\n    @Autowired\r\n    BattleDaoRepository battleDaoRepository;\r\n    @Autowired\r\n    BattleService battleService;\r\n    private static final Logger log = LogManager.getLogger(ApplicationMainClass.class);\r\n\r\n    @Override\r\n    public void onApplicationEvent(ApplicationReadyEvent applicationReadyEvent) {\r\n\r\n        List&lt;Playerdao&gt; listPlayersActive;\r\n        List&lt;BattleDao&gt; battle;\r\n        List&lt;BattleDao&gt; battleDaoAux;\r\n        while (true) {\r\n            log.info(&quot;Comienza la ejecuci&#243;n&quot;);\r\n            listPlayersActive = playerDaoRepository.findByActive(true);\r\n            for (Playerdao player : listPlayersActive) {\r\n                try {\r\n                    String battleString = dataColectorServiceImp.apiConexion(player.getUri());\r\n                    if (battleString.equals(&quot;&quot;)) {\r\n                        continue;\r\n                    }\r\n                    battle = player.getBatallasPlayed();\r\n                    battleDaoAux = battleService.getBattle(battleString);\r\n                    player.setLastGamePlayed(!battle.isEmpty() ? battle.get(battle.size()-1).getBattletlime() : LocalDateTime.MIN.toString());\r\n                    battleDaoAux = player.kafkaHandler(battleDaoAux);\r\n                    battleService.postBattle(battleDaoAux, player.getTag());\r\n                    player.setBatallasPlayed(player.listBuilder(player.getBatallasPlayed(), battleDaoAux));\r\n                    battleDaoRepository.saveAll(battle);\r\n                    playerDaoRepository.save(player);\r\n                } catch (Exception e) {\r\n                    log.error(&quot;&quot;, e);\r\n                }\r\n            }\r\n            try {\r\n                log.info(&quot;Termina la ejecucion&quot;);\r\n                Thread.sleep(60000);\r\n            } catch (InterruptedException e) {\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n```\r\nStreamListener\r\n\r\n        \r\n```\r\n  @StreamListener\r\n    public KStream&lt;IdBattle, textBattle&gt;newBattle(@Input(BinderProcessor.battles)KStream&lt;IdBattle,textBattle&gt;battleKStream){\r\n        updateDatabase(battleKStream);\r\n        return null;\r\n    }\r\n\r\n    private void updateDatabase(KStream&lt;IdBattle, textBattle&gt; battleKStream) {\r\n        battleKStream.foreach((IdBattle,textBattle)-&gt;{\r\n            if(textBattle==null){\r\n                playerDaoRepository.deleteById(IdBattle.getIdBattle());\r\n            }else{\r\n                Battle battle= playerDaoService.textTreatment(textBattle.getText(),Battle);\r\n                battle=battleDaoService.setBattleTime(textBattle.getText(),battle);\r\n                Event event =  playerDaoService.textTreatmentEvent(textBattle.getText(),Event);\r\n                battle.setMap(event.getMap());\r\n                battleDaoService.updateDatabase(battle,IdBattle.getIdBattle());\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n\r\nI don&#39;t know how to fix it so that both threads of the application run at the same time, and in fact I don&#39;t even know why it has stopped consuming from the queue.\r\n\r\nThank you very much","title":"My application has stopped consuming from kafka&#39;s queue","body":"<p>I am developing an application based on Spring Boot and kafka queues, but when developing the main of the application, it has stopped consuming from the queue and I do not know why.</p>\n<p>--Main Application---</p>\n<pre><code>@Service\npublic class ApplicationMainClass implements ApplicationListener&lt;ApplicationReadyEvent&gt; {\n\n    @Autowired\n    PlayerDaoRepository playerDaoRepository;\n    @Autowired\n    DataColectorServiceImp dataColectorServiceImp;\n    @Autowired\n    BattleDaoRepository battleDaoRepository;\n    @Autowired\n    BattleService battleService;\n    private static final Logger log = LogManager.getLogger(ApplicationMainClass.class);\n\n    @Override\n    public void onApplicationEvent(ApplicationReadyEvent applicationReadyEvent) {\n\n        List&lt;Playerdao&gt; listPlayersActive;\n        List&lt;BattleDao&gt; battle;\n        List&lt;BattleDao&gt; battleDaoAux;\n        while (true) {\n            log.info(&quot;Comienza la ejecución&quot;);\n            listPlayersActive = playerDaoRepository.findByActive(true);\n            for (Playerdao player : listPlayersActive) {\n                try {\n                    String battleString = dataColectorServiceImp.apiConexion(player.getUri());\n                    if (battleString.equals(&quot;&quot;)) {\n                        continue;\n                    }\n                    battle = player.getBatallasPlayed();\n                    battleDaoAux = battleService.getBattle(battleString);\n                    player.setLastGamePlayed(!battle.isEmpty() ? battle.get(battle.size()-1).getBattletlime() : LocalDateTime.MIN.toString());\n                    battleDaoAux = player.kafkaHandler(battleDaoAux);\n                    battleService.postBattle(battleDaoAux, player.getTag());\n                    player.setBatallasPlayed(player.listBuilder(player.getBatallasPlayed(), battleDaoAux));\n                    battleDaoRepository.saveAll(battle);\n                    playerDaoRepository.save(player);\n                } catch (Exception e) {\n                    log.error(&quot;&quot;, e);\n                }\n            }\n            try {\n                log.info(&quot;Termina la ejecucion&quot;);\n                Thread.sleep(60000);\n            } catch (InterruptedException e) {\n            }\n        }\n    }\n}\n\n</code></pre>\n<p>StreamListener</p>\n<pre><code>  @StreamListener\n    public KStream&lt;IdBattle, textBattle&gt;newBattle(@Input(BinderProcessor.battles)KStream&lt;IdBattle,textBattle&gt;battleKStream){\n        updateDatabase(battleKStream);\n        return null;\n    }\n\n    private void updateDatabase(KStream&lt;IdBattle, textBattle&gt; battleKStream) {\n        battleKStream.foreach((IdBattle,textBattle)-&gt;{\n            if(textBattle==null){\n                playerDaoRepository.deleteById(IdBattle.getIdBattle());\n            }else{\n                Battle battle= playerDaoService.textTreatment(textBattle.getText(),Battle);\n                battle=battleDaoService.setBattleTime(textBattle.getText(),battle);\n                Event event =  playerDaoService.textTreatmentEvent(textBattle.getText(),Event);\n                battle.setMap(event.getMap());\n                battleDaoService.updateDatabase(battle,IdBattle.getIdBattle());\n            }\n        });\n    }\n}\n</code></pre>\n<p>I don't know how to fix it so that both threads of the application run at the same time, and in fact I don't even know why it has stopped consuming from the queue.</p>\n<p>Thank you very much</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1670833726,"post_id":74768369,"comment_id":131956304,"body_markdown":"why would you do that?","body":"why would you do that?"},{"owner":{"account_id":18180697,"reputation":207,"user_id":13228531,"display_name":"cleopatez"},"score":0,"creation_date":1670833839,"post_id":74768369,"comment_id":131956338,"body_markdown":"@Stultuske to be honest I&#39;m just following the format provided by the vendor, not sure why they put it like that. But if we didn&#39;t follow the format, the API will reject our request.","body":"@Stultuske to be honest I&#39;m just following the format provided by the vendor, not sure why they put it like that. But if we didn&#39;t follow the format, the API will reject our request."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1670833909,"post_id":74768369,"comment_id":131956359,"body_markdown":"short answer is: you can&#39;t, since it&#39;s a variable, not an annotation","body":"short answer is: you can&#39;t, since it&#39;s a variable, not an annotation"},{"owner":{"account_id":13203350,"reputation":868,"user_id":9535950,"display_name":"Thomas Behr"},"score":0,"creation_date":1670834027,"post_id":74768369,"comment_id":131956392,"body_markdown":"@cleopatez What library or toolkit are you using to create your JSON data?","body":"@cleopatez What library or toolkit are you using to create your JSON data?"},{"owner":{"account_id":18180697,"reputation":207,"user_id":13228531,"display_name":"cleopatez"},"score":0,"creation_date":1670834243,"post_id":74768369,"comment_id":131956446,"body_markdown":"@ThomasBehr Im using Gson","body":"@ThomasBehr Im using Gson"}],"answers":[{"comments":[{"owner":{"account_id":18180697,"reputation":207,"user_id":13228531,"display_name":"cleopatez"},"score":0,"creation_date":1670834426,"post_id":74768443,"comment_id":131956499,"body_markdown":"I did have a try on your solution, but it still won&#39;t return the @ symbol for type. Is it because I formatted it using Gson?","body":"I did have a try on your solution, but it still won&#39;t return the @ symbol for type. Is it because I formatted it using Gson?"},{"owner":{"account_id":18180697,"reputation":207,"user_id":13228531,"display_name":"cleopatez"},"score":0,"creation_date":1670834768,"post_id":74768443,"comment_id":131956611,"body_markdown":"Your solution did bring me to the right direction for this, but since I&#39;m using Gson as library, the code needed is @SerializedName(&quot;@type&quot;) instead of @JsonProperty(&quot;@type&quot;) which is for Jackson.","body":"Your solution did bring me to the right direction for this, but since I&#39;m using Gson as library, the code needed is @SerializedName(&quot;@type&quot;) instead of @JsonProperty(&quot;@type&quot;) which is for Jackson."},{"owner":{"account_id":3498606,"reputation":5166,"user_id":2925962,"accept_rate":0,"display_name":"akortex"},"score":0,"creation_date":1670836109,"post_id":74768443,"comment_id":131956990,"body_markdown":"Yeap precisely. Your implementation will depend on the serialization library, as mentioned originally but the base idea should be the same.","body":"Yeap precisely. Your implementation will depend on the serialization library, as mentioned originally but the base idea should be the same."}],"tags":[],"owner":{"account_id":3498606,"reputation":5166,"user_id":2925962,"accept_rate":0,"display_name":"akortex"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1670833887,"creation_date":1670833887,"answer_id":74768443,"question_id":74768369,"body_markdown":"Assuming you have that weird requirement (which makes no sense to me) you can always change the name of a field that is serialized to JSON by using the `JsonProperty` annotation (assuming you are using Jackson of course).\r\n\r\nTo achieve something like that, simply do something in the lines of:\r\n\r\n```java\r\npublic class Test {\r\n\r\n    private String name;\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    @JsonProperty(&quot;@type&quot;)\r\n    private String type;\r\n    public String getType() {\r\n        return type;\r\n    }\r\n\r\n    public void setType(String type) {\r\n        this.type = type;\r\n    }\r\n\r\n}\r\n```","title":"Add alias symbol to class variable in Java","body":"<p>Assuming you have that weird requirement (which makes no sense to me) you can always change the name of a field that is serialized to JSON by using the <code>JsonProperty</code> annotation (assuming you are using Jackson of course).</p>\n<p>To achieve something like that, simply do something in the lines of:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Test {\n\n    private String name;\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    @JsonProperty(&quot;@type&quot;)\n    private String type;\n    public String getType() {\n        return type;\n    }\n\n    public void setType(String type) {\n        this.type = type;\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":18180697,"reputation":207,"user_id":13228531,"display_name":"cleopatez"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1670844705,"accepted_answer_id":74768443,"answer_count":1,"score":0,"last_activity_date":1670833887,"creation_date":1670833438,"question_id":74768369,"body_markdown":"I am having a requirement to develop a JSON formatted data to pass to our 3rd party API vendor. One of the parameters require the variable to have alias symbol in front, but I am unsure the best way to put it.\r\n\r\n**JSON Example**\r\n```\r\n&quot;Test&quot;: [\r\n\t\t\t{\r\n\t\t\t\t&quot;name&quot;: &quot;1&quot;,\r\n\t\t\t\t&quot;@type&quot;: &quot;2&quot;\r\n\t\t\t}\r\n\t\t],\r\n```\r\n\r\n**JAVA test class**\r\n```\r\npublic class Test\r\n{\r\n\tprivate String name;\r\n\tprivate String type;\r\n\t\r\n\tpublic String getName() {\r\n\t\treturn name;\r\n\t}\r\n\tpublic void setName(String name) {\r\n\t\tthis.name = name;\r\n\t}\r\n\t\r\n\tpublic String getType() {\r\n\t\treturn type;\r\n\t}\r\n\tpublic void setType(String type) {\r\n\t\tthis.type = type;\r\n\t}\r\n}\r\n```\r\n\r\nHow do I have the &quot;@&quot; symbol in front of the &quot;type&quot; variable?  Any help is greatly appreciated.","title":"Add alias symbol to class variable in Java","body":"<p>I am having a requirement to develop a JSON formatted data to pass to our 3rd party API vendor. One of the parameters require the variable to have alias symbol in front, but I am unsure the best way to put it.</p>\n<p><strong>JSON Example</strong></p>\n<pre><code>&quot;Test&quot;: [\n            {\n                &quot;name&quot;: &quot;1&quot;,\n                &quot;@type&quot;: &quot;2&quot;\n            }\n        ],\n</code></pre>\n<p><strong>JAVA test class</strong></p>\n<pre><code>public class Test\n{\n    private String name;\n    private String type;\n    \n    public String getName() {\n        return name;\n    }\n    public void setName(String name) {\n        this.name = name;\n    }\n    \n    public String getType() {\n        return type;\n    }\n    public void setType(String type) {\n        this.type = type;\n    }\n}\n</code></pre>\n<p>How do I have the &quot;@&quot; symbol in front of the &quot;type&quot; variable?  Any help is greatly appreciated.</p>\n"},{"tags":["java","selenium","selenium-webdriver","iframe","selenium-chromedriver"],"answers":[{"tags":[],"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670833333,"creation_date":1670833333,"answer_id":74768349,"question_id":74768241,"body_markdown":"Element you trying to access is inside an iframe.  \r\nSo, to access it you need first to switch into that iframe, as following:\r\n```java\r\nWebDriverWait wait = new WebDriverWait(driver, 20);\r\nwait.until(ExpectedConditions.frameToBeAvailableAndSwitchToIt(By.class(&quot;demo-frame&quot;)));\r\nwait.until(ExpectedConditions.elementToBeClickable(By.id(&quot;datepicker&quot;))).click();\r\n```","title":"Getting NoSuchElementException while trying Datepicker in jquery","body":"<p>Element you trying to access is inside an iframe.<br />\nSo, to access it you need first to switch into that iframe, as following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>WebDriverWait wait = new WebDriverWait(driver, 20);\nwait.until(ExpectedConditions.frameToBeAvailableAndSwitchToIt(By.class(&quot;demo-frame&quot;)));\nwait.until(ExpectedConditions.elementToBeClickable(By.id(&quot;datepicker&quot;))).click();\n</code></pre>\n"}],"owner":{"account_id":16863799,"reputation":25,"user_id":12193983,"display_name":"Rahul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74768349,"answer_count":1,"score":1,"last_activity_date":1670833359,"creation_date":1670832716,"question_id":74768241,"body_markdown":"Tring to click on the input box, with script able to open the URL-https://jqueryui.com/datepicker/.In locator the id is available still getting No element foun.\r\nTried with thread.sleep as well\r\n\r\nwhen i am running the script getting exception \r\n\r\n\r\n```\r\npackage SeleniumWebDriver;\r\n\r\nimport org.openqa.selenium.By;\r\nimport org.openqa.selenium.WebDriver;\r\nimport org.openqa.selenium.WebElement;\r\nimport org.openqa.selenium.chrome.ChromeDriver;\r\n\r\npublic class HandlingCalender {\r\n\r\n\tpublic static void main(String[] args) throws InterruptedException {\r\n\t\t\r\n\t\tWebDriver driver =new ChromeDriver();\r\n\r\n\t\tdriver.get(&quot;https://jqueryui.com/datepicker/&quot;);\r\n\t\t\r\n\t\t\r\n\t\t//driver.manage().window().maximize();\r\n\t\t\r\n\t\tThread.sleep(1000);\r\n\t\t\r\n\t\tdriver.findElement(By.id(&quot;datepicker&quot;)).click();\r\n\t\t\r\n```\r\n","title":"Getting NoSuchElementException while trying Datepicker in jquery","body":"<p>Tring to click on the input box, with script able to open the URL-https://jqueryui.com/datepicker/.In locator the id is available still getting No element foun.\nTried with thread.sleep as well</p>\n<p>when i am running the script getting exception</p>\n<pre><code>package SeleniumWebDriver;\n\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.chrome.ChromeDriver;\n\npublic class HandlingCalender {\n\n    public static void main(String[] args) throws InterruptedException {\n        \n        WebDriver driver =new ChromeDriver();\n\n        driver.get(&quot;https://jqueryui.com/datepicker/&quot;);\n        \n        \n        //driver.manage().window().maximize();\n        \n        Thread.sleep(1000);\n        \n        driver.findElement(By.id(&quot;datepicker&quot;)).click();\n        \n</code></pre>\n"},{"tags":["java","spring-boot","redis","spring-webflux","redisson"],"comments":[{"owner":{"account_id":13503622,"reputation":485,"user_id":9742400,"display_name":"Alberto Morreale"},"score":0,"creation_date":1670886495,"post_id":74768324,"comment_id":131973124,"body_markdown":"From the documentation you linked, nodeAddresses and the array of addresses are on the same level. Moreover the address is redis:// and not rediss://","body":"From the documentation you linked, nodeAddresses and the array of addresses are on the same level. Moreover the address is redis:// and not rediss://"},{"owner":{"account_id":27173612,"reputation":11,"user_id":20709925,"display_name":"prabhu_axm"},"score":0,"creation_date":1670911453,"post_id":74768324,"comment_id":131976581,"body_markdown":"rediss is used for SSL connection. Also the same configuration works on AWS but fails when run locally","body":"rediss is used for SSL connection. Also the same configuration works on AWS but fails when run locally"},{"owner":{"account_id":13503622,"reputation":485,"user_id":9742400,"display_name":"Alberto Morreale"},"score":0,"creation_date":1670915663,"post_id":74768324,"comment_id":131977415,"body_markdown":"Did you try to put only required properties and hard coding values? Just to understand if some properties could cause problems locally for some reasons.","body":"Did you try to put only required properties and hard coding values? Just to understand if some properties could cause problems locally for some reasons."},{"owner":{"account_id":27173612,"reputation":11,"user_id":20709925,"display_name":"prabhu_axm"},"score":0,"creation_date":1670924998,"post_id":74768324,"comment_id":131980214,"body_markdown":"Yes I did that but still I had the same issues with this.","body":"Yes I did that but still I had the same issues with this."},{"owner":{"account_id":13503622,"reputation":485,"user_id":9742400,"display_name":"Alberto Morreale"},"score":0,"creation_date":1670973436,"post_id":74768324,"comment_id":131995914,"body_markdown":"If you try to configure a single node (https://github.com/redisson/redisson/wiki/2.-Configuration/#262-single-instance-yaml-config-format), do you have issues?\nMoreover, did you put configuration under &quot;spring:&quot;?\nspring:\n   redis:\n     redisson:\n       config: |\n         clusterServersConfig:","body":"If you try to configure a single node (<a href=\"https://github.com/redisson/redisson/wiki/2.-Configuration/#262-single-instance-yaml-config-format\" rel=\"nofollow noreferrer\">github.com/redisson/redisson/wiki/2.-Configuration/&hellip;</a>), do you have issues? Moreover, did you put configuration under &quot;spring:&quot;? spring:    redis:      redisson:        config: |          clusterServersConfig:"},{"owner":{"account_id":27173612,"reputation":11,"user_id":20709925,"display_name":"prabhu_axm"},"score":0,"creation_date":1671001919,"post_id":74768324,"comment_id":132000394,"body_markdown":"No. For single node, it works fine. And yes, the configs are under spring.redis.redisson.config. That&#39;s why I think its because cluster nodes are not starting locally even though I use redis-cli to start the cluster with 3 nodes","body":"No. For single node, it works fine. And yes, the configs are under spring.redis.redisson.config. That&#39;s why I think its because cluster nodes are not starting locally even though I use redis-cli to start the cluster with 3 nodes"},{"owner":{"account_id":13503622,"reputation":485,"user_id":9742400,"display_name":"Alberto Morreale"},"score":0,"creation_date":1671006400,"post_id":74768324,"comment_id":132001450,"body_markdown":"How do you start cluster nodes locally? Docker compose? Which docker image do you use? Bitnami/redis-cluster, official Redis or other?","body":"How do you start cluster nodes locally? Docker compose? Which docker image do you use? Bitnami/redis-cluster, official Redis or other?"},{"owner":{"account_id":27173612,"reputation":11,"user_id":20709925,"display_name":"prabhu_axm"},"score":0,"creation_date":1671007842,"post_id":74768324,"comment_id":132001820,"body_markdown":"I updated the redis.conf file and then enabled clusters in it. Then via redis-cli, I did this - \n`redis-cli --cluster create localhost:6379 localhost:6379 localhost:6379`\nThe cluster started and I ran the application again but same thing happened. Even I made the ports different but still the same","body":"I updated the redis.conf file and then enabled clusters in it. Then via redis-cli, I did this -  <code>redis-cli --cluster create localhost:6379 localhost:6379 localhost:6379</code> The cluster started and I ran the application again but same thing happened. Even I made the ports different but still the same"},{"owner":{"account_id":13503622,"reputation":485,"user_id":9742400,"display_name":"Alberto Morreale"},"score":0,"creation_date":1671053744,"post_id":74768324,"comment_id":132017390,"body_markdown":"Which version of spring boot do you use? And which version of redisson? Can you post more details of error?","body":"Which version of spring boot do you use? And which version of redisson? Can you post more details of error?"}],"owner":{"account_id":27173612,"reputation":11,"user_id":20709925,"display_name":"prabhu_axm"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":661,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670833188,"creation_date":1670833188,"question_id":74768324,"body_markdown":"Here is the application.yml I am using for my Spring WebFlux project\r\n\r\n```yml\r\nredis:\r\n  redisson:\r\n    config: |\r\n      clusterServersConfig:\r\n        idleConnectionTimeout: 10000\r\n        connectTimeout: ${REDISSON_CONNECT_TIMEOUT:20000}\r\n        timeout: ${REDISSON_TIMEOUT:3000}\r\n        retryAttempts: ${REDISSON_RETRY_ATTEMPTS:3}\r\n        retryInterval: ${REDISSON_RETRY_INTERVAL:1500}\r\n        subscriptionConnectionPoolSize: ${REDISSON_SUBSCRIPTION_POOL_SIZE:50}\r\n        slaveConnectionMinimumIdleSize: ${REDISSON_SLAVE_MIN_IDLE_SIZE:24}\r\n        slaveConnectionPoolSize: ${REDISSON_SLAVE_POOL_SIZE:48}\r\n        masterConnectionMinimumIdleSize: ${REDISSON_MASTER_MIN_IDLE_SIZE:24}\r\n        masterConnectionPoolSize: ${REDISSON_MASTER_POOL_SIZE:48}\r\n        nodeAddresses: \r\n          - &quot;rediss://${APPS_REDIS:-}:${APPS_REDIS_PORT:6379}&quot;\r\n        password: ${APPS_REDIS_SECRET:-}\r\n      threads: ${REDISSON_THREADS:16}        \r\n      nettyThreads: ${REDISSON_NETTY_THREADS:96}\r\n```\r\n\r\nBut whenever I am starting the project in my laptop, this error comes up \r\n\r\n```\r\nCaused by: com.fasterxml.jackson.core.JsonParseException: Unrecognized token &#39;clusterServersConfig&#39;: was expecting (JSON String, Number, Array, Object or token &#39;null&#39;, &#39;true&#39; or &#39;false&#39;)\r\n```\r\n\r\nI am not sure why it is saying `clusterServersConfig` is an unrecognized token. In the official doc also, it is mentioned and [here](https://github.com/redisson/redisson/wiki/2.-Configuration/#242-cluster-yaml-config-format) is an example of this.\r\n\r\nAt first I thought it might be because I am running redis locally in my M1 Mac so redis-clusters aren&#39;t generated by default. I even tried to enable clusters in `redis.conf` and run a redis clusters with 3 nodes using `redis-cli` but still this happens. I have tried almost everything I could think of or search on the net. Any help appreciated :)","title":"Spring Boot Redisson not able to read clusterServersConfig","body":"<p>Here is the application.yml I am using for my Spring WebFlux project</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>redis:\n  redisson:\n    config: |\n      clusterServersConfig:\n        idleConnectionTimeout: 10000\n        connectTimeout: ${REDISSON_CONNECT_TIMEOUT:20000}\n        timeout: ${REDISSON_TIMEOUT:3000}\n        retryAttempts: ${REDISSON_RETRY_ATTEMPTS:3}\n        retryInterval: ${REDISSON_RETRY_INTERVAL:1500}\n        subscriptionConnectionPoolSize: ${REDISSON_SUBSCRIPTION_POOL_SIZE:50}\n        slaveConnectionMinimumIdleSize: ${REDISSON_SLAVE_MIN_IDLE_SIZE:24}\n        slaveConnectionPoolSize: ${REDISSON_SLAVE_POOL_SIZE:48}\n        masterConnectionMinimumIdleSize: ${REDISSON_MASTER_MIN_IDLE_SIZE:24}\n        masterConnectionPoolSize: ${REDISSON_MASTER_POOL_SIZE:48}\n        nodeAddresses: \n          - &quot;rediss://${APPS_REDIS:-}:${APPS_REDIS_PORT:6379}&quot;\n        password: ${APPS_REDIS_SECRET:-}\n      threads: ${REDISSON_THREADS:16}        \n      nettyThreads: ${REDISSON_NETTY_THREADS:96}\n</code></pre>\n<p>But whenever I am starting the project in my laptop, this error comes up</p>\n<pre><code>Caused by: com.fasterxml.jackson.core.JsonParseException: Unrecognized token 'clusterServersConfig': was expecting (JSON String, Number, Array, Object or token 'null', 'true' or 'false')\n</code></pre>\n<p>I am not sure why it is saying <code>clusterServersConfig</code> is an unrecognized token. In the official doc also, it is mentioned and <a href=\"https://github.com/redisson/redisson/wiki/2.-Configuration/#242-cluster-yaml-config-format\" rel=\"nofollow noreferrer\">here</a> is an example of this.</p>\n<p>At first I thought it might be because I am running redis locally in my M1 Mac so redis-clusters aren't generated by default. I even tried to enable clusters in <code>redis.conf</code> and run a redis clusters with 3 nodes using <code>redis-cli</code> but still this happens. I have tried almost everything I could think of or search on the net. Any help appreciated :)</p>\n"},{"tags":["java","spring-boot","ssl","jersey"],"answers":[{"comments":[{"owner":{"account_id":6184227,"reputation":1190,"user_id":4818789,"accept_rate":60,"display_name":"Teddy Kossoko"},"score":0,"creation_date":1670923521,"post_id":74768298,"comment_id":131979664,"body_markdown":"thank you for the response. I&#39;m very new in server stuff, so i don&#39;t get everything. So, if i understand well, in my server the hostname is not in my certificate, so i have to create in my server a new one with the distant server in SAN field  ?\nThanks","body":"thank you for the response. I&#39;m very new in server stuff, so i don&#39;t get everything. So, if i understand well, in my server the hostname is not in my certificate, so i have to create in my server a new one with the distant server in SAN field  ? Thanks"},{"owner":{"account_id":9107988,"reputation":3190,"user_id":6777695,"display_name":"Hakan54"},"score":0,"creation_date":1670929072,"post_id":74768298,"comment_id":131981627,"body_markdown":"Yes that is correct! So for example your server is reachable on the following host: foobar.com than your SAN field should contain a DNS entry with foobar.com. By the way if you use an ip instead of host than you should add an IP entry","body":"Yes that is correct! So for example your server is reachable on the following host: foobar.com than your SAN field should contain a DNS entry with foobar.com. By the way if you use an ip instead of host than you should add an IP entry"}],"tags":[],"owner":{"account_id":9107988,"reputation":3190,"user_id":6777695,"display_name":"Hakan54"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670833069,"creation_date":1670833069,"answer_id":74768298,"question_id":74765937,"body_markdown":"Your issue is related to a similar question answered here: https://stackoverflow.com/questions/50928061/certificate-for-localhost-doesnt-match-any-of-the-subject-alternative-names/53822999#53822999\r\n\r\nIn the above link you can find the detailed explanation, but basically what it means is that you are calling a server however the hostname you are using in the request is not defined in the server certificate subject alternative names (SAN) field. So I would suggest to create a new certificate for the server with the additional SAN field. I would not recommend to disable the ssl checks as it will not be secure anymore.","title":"javax.net.ssl.SSLHandshakeException: java.security.cert.CertificateException: No subject alternative DNS name matching xxx.com found","body":"<p>Your issue is related to a similar question answered here: <a href=\"https://stackoverflow.com/questions/50928061/certificate-for-localhost-doesnt-match-any-of-the-subject-alternative-names/53822999#53822999\">Certificate for &lt;localhost&gt; doesn&#39;t match any of the subject alternative names</a></p>\n<p>In the above link you can find the detailed explanation, but basically what it means is that you are calling a server however the hostname you are using in the request is not defined in the server certificate subject alternative names (SAN) field. So I would suggest to create a new certificate for the server with the additional SAN field. I would not recommend to disable the ssl checks as it will not be secure anymore.</p>\n"}],"owner":{"account_id":6184227,"reputation":1190,"user_id":4818789,"accept_rate":60,"display_name":"Teddy Kossoko"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3190,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670833069,"creation_date":1670809625,"question_id":74765937,"body_markdown":"I&#39;m trying from  my java application to reach an external api.\r\nI use jersey to make a call request\r\n\r\n    ClientConfig clientConfig = new ClientConfig();\r\n    \t\t//Open Digest authentication\r\n    \t\t\r\n    \t\tclientConfig.register(JacksonFeature.class);\r\n    \t\t//Create new rest client\r\n    \t\tClient client = ClientBuilder.newClient( clientConfig );\r\n    \t\t\r\n    \t\t//Set the url\r\n    \t\tWebTarget webTarget = client.target(rootUrl);\r\n    \t\tInvocation.Builder invocationBuilder =  webTarget.request(javax.ws.rs.core.MediaType.APPLICATION_JSON);\r\n    \t\t\r\n    \t\tMultivaluedMap&lt;String, Object&gt; header = new MultivaluedHashMap&lt;&gt;();\r\n    \t\theader.add(&quot;UserName&quot;, username);\r\n    \t\theader.add(&quot;Password&quot;, password);\r\n    \t\t\r\n    \t\tinvocationBuilder.headers(header);\r\n    \t\tlogger.info(&quot;Initialisation of cashout service successful&quot;);\r\n    \t\t\r\n    \t\t// create request\r\n    \t\tGson gson = new Gson();\r\n    \t\tString transactionString = gson.toJson(request);\r\n    \t\t\r\n    \t\t\r\n    \t\t\r\n    \t\ttry {\r\n    \t\t\t// start the response\r\n    \t\t\tResponse response = invocationBuilder.put(Entity.entity(transactionString, javax.ws.rs.core.MediaType.APPLICATION_JSON));\r\n    \t\t\t//We check if the response is ok\r\n    \t\t\tif(response.getStatus() == 200) {\r\n    \t\t\t\tlogger.info(&quot;The paiement is done, we got 200 code return&quot;);\r\n    \t\t\t\tresponseData = response.readEntity(AirtimePaymentResponse.class);\r\n    \t\t\t\t\r\n    \t\t\t\tlogger.info(&quot;the response data is {} &quot;, responseData);\r\n    \t\t\t}else {\r\n    \t\t\t\tlogger.info(&quot;error during the paiement&quot;);\r\n    \t\t\t\tthrow new GGException(&quot;Error during the paiement&quot;, HttpStatus.valueOf(response.getStatus()));\r\n    \t\t\t}\r\n    \t\t}catch (Exception e) {\r\n    \t\t\tthrow new GGException(e.getMessage(), HttpStatus.INTERNAL_SERVER_ERROR);\r\n    \t\t}\r\n\r\n\r\nbut we got `No subject alternative DNS name matching xxx.com found.`. I could i disable the ssl check in my code so i can run in insecure mode ? \r\n\r\nI tried lot of solution without success.\r\n\r\nThanks","title":"javax.net.ssl.SSLHandshakeException: java.security.cert.CertificateException: No subject alternative DNS name matching xxx.com found","body":"<p>I'm trying from  my java application to reach an external api.\nI use jersey to make a call request</p>\n<pre><code>ClientConfig clientConfig = new ClientConfig();\n        //Open Digest authentication\n        \n        clientConfig.register(JacksonFeature.class);\n        //Create new rest client\n        Client client = ClientBuilder.newClient( clientConfig );\n        \n        //Set the url\n        WebTarget webTarget = client.target(rootUrl);\n        Invocation.Builder invocationBuilder =  webTarget.request(javax.ws.rs.core.MediaType.APPLICATION_JSON);\n        \n        MultivaluedMap&lt;String, Object&gt; header = new MultivaluedHashMap&lt;&gt;();\n        header.add(&quot;UserName&quot;, username);\n        header.add(&quot;Password&quot;, password);\n        \n        invocationBuilder.headers(header);\n        logger.info(&quot;Initialisation of cashout service successful&quot;);\n        \n        // create request\n        Gson gson = new Gson();\n        String transactionString = gson.toJson(request);\n        \n        \n        \n        try {\n            // start the response\n            Response response = invocationBuilder.put(Entity.entity(transactionString, javax.ws.rs.core.MediaType.APPLICATION_JSON));\n            //We check if the response is ok\n            if(response.getStatus() == 200) {\n                logger.info(&quot;The paiement is done, we got 200 code return&quot;);\n                responseData = response.readEntity(AirtimePaymentResponse.class);\n                \n                logger.info(&quot;the response data is {} &quot;, responseData);\n            }else {\n                logger.info(&quot;error during the paiement&quot;);\n                throw new GGException(&quot;Error during the paiement&quot;, HttpStatus.valueOf(response.getStatus()));\n            }\n        }catch (Exception e) {\n            throw new GGException(e.getMessage(), HttpStatus.INTERNAL_SERVER_ERROR);\n        }\n</code></pre>\n<p>but we got <code>No subject alternative DNS name matching xxx.com found.</code>. I could i disable the ssl check in my code so i can run in insecure mode ?</p>\n<p>I tried lot of solution without success.</p>\n<p>Thanks</p>\n"},{"tags":["java","android","android-xml"],"answers":[{"comments":[{"owner":{"account_id":26709665,"reputation":1,"user_id":20315270,"display_name":"Дима Павлович"},"score":0,"creation_date":1666737689,"post_id":74193969,"comment_id":131006434,"body_markdown":"first of all, thank you for this detailed response, but can i customize the bar menu that comes from the android studio box without creating special xml files that describe the logic of my menu ?","body":"first of all, thank you for this detailed response, but can i customize the bar menu that comes from the android studio box without creating special xml files that describe the logic of my menu ?"}],"tags":[],"owner":{"account_id":25296017,"reputation":1,"user_id":19121141,"display_name":"helly"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666700334,"creation_date":1666700334,"answer_id":74193969,"question_id":74172180,"body_markdown":"You can do by changing background colour of layout on setOnClickListener event of that button like below.\r\n\r\n**xml File of navigation menu**\r\n\r\n    &lt;LinearLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;?actionBarSize&quot;\r\n            android:layout_alignParentBottom=&quot;true&quot;\r\n            android:animateLayoutChanges=&quot;true&quot;\r\n            android:background=&quot;@color/nonitemclicked&quot;\r\n            android:orientation=&quot;horizontal&quot;&gt;\r\n    \r\n            &lt;LinearLayout\r\n                android:id=&quot;@+id/ly_calculator&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:layout_weight=&quot;1&quot;\r\n                android:gravity=&quot;center_horizontal&quot;\r\n                android:orientation=&quot;vertical&quot;&gt;\r\n    \r\n                &lt;ImageView\r\n                    android:id=&quot;@+id/img_calculator&quot;\r\n                    android:layout_width=&quot;28dp&quot;\r\n                    android:layout_height=&quot;28dp&quot;\r\n                    android:layout_marginTop=&quot;2dp&quot;\r\n                    android:padding=&quot;3dp&quot;\r\n                    android:src=&quot;@drawable/ic_calculator&quot;\r\n                    app:tint=&quot;@color/white&quot; /&gt;\r\n    \r\n                &lt;TextView\r\n                    android:id=&quot;@+id/txt_calculator&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:fontFamily=&quot;@font/robotoslabregular&quot;\r\n                    android:gravity=&quot;center_horizontal&quot;\r\n                    android:padding=&quot;3dp&quot;\r\n                    android:text=&quot;Calculation&quot;\r\n                    android:textColor=&quot;@color/white&quot;\r\n                    android:textSize=&quot;12sp&quot; /&gt;\r\n    \r\n            &lt;/LinearLayout&gt;\r\n    \r\n            &lt;LinearLayout\r\n                android:id=&quot;@+id/ly_list&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:layout_weight=&quot;1&quot;\r\n                android:gravity=&quot;center_horizontal&quot;\r\n                android:orientation=&quot;vertical&quot;&gt;\r\n    \r\n                &lt;ImageView\r\n                    android:id=&quot;@+id/img_list&quot;\r\n                    android:layout_width=&quot;28dp&quot;\r\n                    android:layout_height=&quot;28dp&quot;\r\n                    android:layout_marginTop=&quot;2dp&quot;\r\n                    android:padding=&quot;4dp&quot;\r\n                    android:src=&quot;@drawable/ic_list&quot;\r\n                    app:tint=&quot;@color/white&quot; /&gt;\r\n    \r\n                &lt;TextView\r\n                    android:id=&quot;@+id/txt_list&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:fontFamily=&quot;@font/robotoslabregular&quot;\r\n                    android:gravity=&quot;center_horizontal&quot;\r\n                    android:padding=&quot;3dp&quot;\r\n                    android:text=&quot;Calculation list&quot;\r\n                    android:textColor=&quot;@color/white&quot;\r\n                    android:textSize=&quot;12sp&quot; /&gt;\r\n    \r\n            &lt;/LinearLayout&gt;\r\n    \r\n            &lt;LinearLayout\r\n                android:id=&quot;@+id/ly_setting&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:layout_weight=&quot;1&quot;\r\n                android:gravity=&quot;center_horizontal&quot;\r\n                android:orientation=&quot;vertical&quot;&gt;\r\n    \r\n                &lt;ImageView\r\n                    android:id=&quot;@+id/img_setting&quot;\r\n                    android:layout_width=&quot;28dp&quot;\r\n                    android:layout_height=&quot;28dp&quot;\r\n                    android:layout_marginTop=&quot;2dp&quot;\r\n                    android:padding=&quot;2dp&quot;\r\n                    android:src=&quot;@drawable/ic_setting&quot;\r\n                    app:tint=&quot;@color/white&quot; /&gt;\r\n    \r\n                &lt;TextView\r\n                    android:id=&quot;@+id/txt_setting&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:fontFamily=&quot;@font/robotoslabregular&quot;\r\n                    android:gravity=&quot;center_horizontal&quot;\r\n                    android:padding=&quot;3dp&quot;\r\n                    android:text=&quot;Setting&quot;\r\n                    android:textColor=&quot;@color/white&quot;\r\n                    android:textSize=&quot;12sp&quot; /&gt;\r\n    \r\n            &lt;/LinearLayout&gt;\r\n    \r\n        &lt;/LinearLayout&gt;\r\n\r\n**Code**\r\n\r\n setOnClickListner of buttons\r\n\r\n            ly_calculator.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    setcolorOnItemClick(ly_calculator, ly_list, ly_setting);\r\n                }\r\n            });\r\n            ly_list.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    setcolorOnItemClick(ly_list, ly_calculator, ly_setting);\r\n                }\r\n            });\r\n            ly_setting.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    setcolorOnItemClick(ly_setting, ly_calculator, ly_list);\r\n                }\r\n            });\r\n\r\n\r\nMethod for changing background colour\r\n\r\n\r\n    public void setcolorOnItemClick(LinearLayout ly1, LinearLayout ly2, LinearLayout ly3) {\r\n            ly1.setBackgroundColor(getResources().getColor(R.color.itemclicked));\r\n            ly2.setBackgroundColor(getResources().getColor(R.color.nonitemclicked));\r\n            ly3.setBackgroundColor(getResources().getColor(R.color.nonitemclicked));\r\n        }\r\n\r\n**And for change font of the text**\r\n\r\nYou can do using fontFamily in xml side and i have some font in font folder\r\n\r\n    android:fontFamily=&quot;@font/robotoslabregular&quot; \r\n\r\nYou can also do by programmatically using typeface:\r\n\r\n    txt_calculator.setTypeface(getResources().getFont(R.font.robotoslabmedium));\r\n\r\n\r\n ","title":"How to change color of navigation bar elements when they are selected ANDROID STUDIO","body":"<p>You can do by changing background colour of layout on setOnClickListener event of that button like below.</p>\n<p><strong>xml File of navigation menu</strong></p>\n<pre><code>&lt;LinearLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;?actionBarSize&quot;\n        android:layout_alignParentBottom=&quot;true&quot;\n        android:animateLayoutChanges=&quot;true&quot;\n        android:background=&quot;@color/nonitemclicked&quot;\n        android:orientation=&quot;horizontal&quot;&gt;\n\n        &lt;LinearLayout\n            android:id=&quot;@+id/ly_calculator&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:layout_weight=&quot;1&quot;\n            android:gravity=&quot;center_horizontal&quot;\n            android:orientation=&quot;vertical&quot;&gt;\n\n            &lt;ImageView\n                android:id=&quot;@+id/img_calculator&quot;\n                android:layout_width=&quot;28dp&quot;\n                android:layout_height=&quot;28dp&quot;\n                android:layout_marginTop=&quot;2dp&quot;\n                android:padding=&quot;3dp&quot;\n                android:src=&quot;@drawable/ic_calculator&quot;\n                app:tint=&quot;@color/white&quot; /&gt;\n\n            &lt;TextView\n                android:id=&quot;@+id/txt_calculator&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:fontFamily=&quot;@font/robotoslabregular&quot;\n                android:gravity=&quot;center_horizontal&quot;\n                android:padding=&quot;3dp&quot;\n                android:text=&quot;Calculation&quot;\n                android:textColor=&quot;@color/white&quot;\n                android:textSize=&quot;12sp&quot; /&gt;\n\n        &lt;/LinearLayout&gt;\n\n        &lt;LinearLayout\n            android:id=&quot;@+id/ly_list&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:layout_weight=&quot;1&quot;\n            android:gravity=&quot;center_horizontal&quot;\n            android:orientation=&quot;vertical&quot;&gt;\n\n            &lt;ImageView\n                android:id=&quot;@+id/img_list&quot;\n                android:layout_width=&quot;28dp&quot;\n                android:layout_height=&quot;28dp&quot;\n                android:layout_marginTop=&quot;2dp&quot;\n                android:padding=&quot;4dp&quot;\n                android:src=&quot;@drawable/ic_list&quot;\n                app:tint=&quot;@color/white&quot; /&gt;\n\n            &lt;TextView\n                android:id=&quot;@+id/txt_list&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:fontFamily=&quot;@font/robotoslabregular&quot;\n                android:gravity=&quot;center_horizontal&quot;\n                android:padding=&quot;3dp&quot;\n                android:text=&quot;Calculation list&quot;\n                android:textColor=&quot;@color/white&quot;\n                android:textSize=&quot;12sp&quot; /&gt;\n\n        &lt;/LinearLayout&gt;\n\n        &lt;LinearLayout\n            android:id=&quot;@+id/ly_setting&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:layout_weight=&quot;1&quot;\n            android:gravity=&quot;center_horizontal&quot;\n            android:orientation=&quot;vertical&quot;&gt;\n\n            &lt;ImageView\n                android:id=&quot;@+id/img_setting&quot;\n                android:layout_width=&quot;28dp&quot;\n                android:layout_height=&quot;28dp&quot;\n                android:layout_marginTop=&quot;2dp&quot;\n                android:padding=&quot;2dp&quot;\n                android:src=&quot;@drawable/ic_setting&quot;\n                app:tint=&quot;@color/white&quot; /&gt;\n\n            &lt;TextView\n                android:id=&quot;@+id/txt_setting&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:fontFamily=&quot;@font/robotoslabregular&quot;\n                android:gravity=&quot;center_horizontal&quot;\n                android:padding=&quot;3dp&quot;\n                android:text=&quot;Setting&quot;\n                android:textColor=&quot;@color/white&quot;\n                android:textSize=&quot;12sp&quot; /&gt;\n\n        &lt;/LinearLayout&gt;\n\n    &lt;/LinearLayout&gt;\n</code></pre>\n<p><strong>Code</strong></p>\n<p>setOnClickListner of buttons</p>\n<pre><code>        ly_calculator.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                setcolorOnItemClick(ly_calculator, ly_list, ly_setting);\n            }\n        });\n        ly_list.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                setcolorOnItemClick(ly_list, ly_calculator, ly_setting);\n            }\n        });\n        ly_setting.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                setcolorOnItemClick(ly_setting, ly_calculator, ly_list);\n            }\n        });\n</code></pre>\n<p>Method for changing background colour</p>\n<pre><code>public void setcolorOnItemClick(LinearLayout ly1, LinearLayout ly2, LinearLayout ly3) {\n        ly1.setBackgroundColor(getResources().getColor(R.color.itemclicked));\n        ly2.setBackgroundColor(getResources().getColor(R.color.nonitemclicked));\n        ly3.setBackgroundColor(getResources().getColor(R.color.nonitemclicked));\n    }\n</code></pre>\n<p><strong>And for change font of the text</strong></p>\n<p>You can do using fontFamily in xml side and i have some font in font folder</p>\n<pre><code>android:fontFamily=&quot;@font/robotoslabregular&quot; \n</code></pre>\n<p>You can also do by programmatically using typeface:</p>\n<pre><code>txt_calculator.setTypeface(getResources().getFont(R.font.robotoslabmedium));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17508748,"reputation":147,"user_id":12697321,"display_name":"Th&#225;i Quốc To&#224;n"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670833056,"creation_date":1670833056,"answer_id":74768296,"question_id":74172180,"body_markdown":"Create a drawable file of this code\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;selector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n        &lt;item android:drawable=&quot;your_active_color&quot; android:state_checked=&quot;true&quot;/&gt;\r\n        &lt;item android:drawable=&quot;your_inactive_color&quot;/&gt;\r\n    &lt;/selector&gt;\r\n\r\nThen put it in this attribute of bottom nav bar `app:itemBackground=&quot;@color/your_file&quot;`\r\n\r\nThe full answer is [here][1]. May it help you\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/45547368/12697321","title":"How to change color of navigation bar elements when they are selected ANDROID STUDIO","body":"<p>Create a drawable file of this code</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;selector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n    &lt;item android:drawable=&quot;your_active_color&quot; android:state_checked=&quot;true&quot;/&gt;\n    &lt;item android:drawable=&quot;your_inactive_color&quot;/&gt;\n&lt;/selector&gt;\n</code></pre>\n<p>Then put it in this attribute of bottom nav bar <code>app:itemBackground=&quot;@color/your_file&quot;</code></p>\n<p>The full answer is <a href=\"https://stackoverflow.com/a/45547368/12697321\">here</a>. May it help you</p>\n"}],"owner":{"account_id":26709665,"reputation":1,"user_id":20315270,"display_name":"Дима Павлович"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":454,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1670833056,"creation_date":1666537384,"question_id":74172180,"body_markdown":"I want to change the color of the navigation element when its selected\r\n\r\n[menu i have][1]\r\n\r\nfor example when clicking on the Calculations element I want the background to be a light color\r\n\r\n[menu i want][2]\r\n\r\nAlso i want to change font of the text in menu bar, but i dont know how\r\n  \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2RMYn.png\r\n  [2]: https://i.stack.imgur.com/ksZDe.png","title":"How to change color of navigation bar elements when they are selected ANDROID STUDIO","body":"<p>I want to change the color of the navigation element when its selected</p>\n<p><a href=\"https://i.stack.imgur.com/2RMYn.png\" rel=\"nofollow noreferrer\">menu i have</a></p>\n<p>for example when clicking on the Calculations element I want the background to be a light color</p>\n<p><a href=\"https://i.stack.imgur.com/ksZDe.png\" rel=\"nofollow noreferrer\">menu i want</a></p>\n<p>Also i want to change font of the text in menu bar, but i dont know how</p>\n"},{"tags":["java","spring-boot","cassandra"],"comments":[{"owner":{"account_id":38661,"reputation":26799,"user_id":111124,"accept_rate":83,"display_name":"Andrew"},"score":2,"creation_date":1665083822,"post_id":73978491,"comment_id":130622809,"body_markdown":"Field names are case insensitive, unless in double quotes, you are specifying &quot;TENANT_ID&quot; in the table, but TENANT_ID in the query","body":"Field names are case insensitive, unless in double quotes, you are specifying &quot;TENANT_ID&quot; in the table, but TENANT_ID in the query"},{"owner":{"account_id":13850253,"reputation":33,"user_id":9998349,"display_name":"NBE"},"score":0,"creation_date":1665233348,"post_id":73978491,"comment_id":130654445,"body_markdown":"Thanks for the hint. That solved the search issue. However, the insert query generated by Spring Data CassandraRepository contains the column names with quotes. Any idea to fix this? Thanks","body":"Thanks for the hint. That solved the search issue. However, the insert query generated by Spring Data CassandraRepository contains the column names with quotes. Any idea to fix this? Thanks"},{"owner":{"account_id":38661,"reputation":26799,"user_id":111124,"accept_rate":83,"display_name":"Andrew"},"score":1,"creation_date":1665235448,"post_id":73978491,"comment_id":130654852,"body_markdown":"I would not use double quotes on the field names - it&#39;s going to repeatedly catch things out as it is very unexpected / unusual to do.","body":"I would not use double quotes on the field names - it&#39;s going to repeatedly catch things out as it is very unexpected / unusual to do."},{"owner":{"account_id":13850253,"reputation":33,"user_id":9998349,"display_name":"NBE"},"score":0,"creation_date":1665241925,"post_id":73978491,"comment_id":130656080,"body_markdown":"Well, I recreated the tables without quotes in column names, but still CassandraRepository generate the insert query with quotes","body":"Well, I recreated the tables without quotes in column names, but still CassandraRepository generate the insert query with quotes"}],"owner":{"account_id":13850253,"reputation":33,"user_id":9998349,"display_name":"NBE"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":414,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670832880,"creation_date":1665080773,"question_id":73978491,"body_markdown":"I am using Cassandra 4.0.x with spring boot, I create my table with two primary key, one clustering and one partition. However, whenever I try to query some data I get an error saying that the column is not defined \r\n\r\n    Undefined column name tenant_id in table catalog.products; nested exception is com.datastax.oss.driver.api.core.servererrors.InvalidQueryException: Undefined column name tenant_id in table catalog.products\r\n\r\n**Here is my table definition and the executed query**:\r\n\r\n```\r\ncqlsh:catalog&gt; DESCRIBE products ;\r\n\r\nCREATE TABLE catalog.products (\r\n    &quot;TENANT_ID&quot; text,\r\n    &quot;CODE&quot; text,\r\n    &quot;CREATION_TS&quot; timestamp,\r\n    &quot;EAN&quot; text,\r\n    &quot;MANCODE&quot; text,\r\n    &quot;MAXOQTE&quot; int,\r\n    &quot;MINOQTE&quot; int,\r\n    &quot;MODIFIED_TS&quot; timestamp,\r\n    &quot;OFFLINEDATE&quot; date,\r\n    &quot;ONLINEDATE&quot; date,\r\n    &quot;P_TENANT_ID&quot; text,\r\n    &quot;REFCODE&quot; text,\r\n    &quot;SVHC&quot; text,\r\n    &quot;TYPNAME&quot; text,\r\n    &quot;TYPNAMESEO&quot; text,\r\n    &quot;LOCDESCRIP&quot; map&lt;text, text&gt;,\r\n    &quot;LOCNAME&quot; map&lt;text, text&gt;,\r\n    &quot;LOCNAMESEO&quot; map&lt;text, text&gt;,\r\n    &quot;PARENTS&quot; set&lt;text&gt;,\r\n    &quot;SHORTDESC&quot; map&lt;text, text&gt;,\r\n    PRIMARY KEY (&quot;TENANT_ID&quot;, &quot;CODE&quot;)\r\n) WITH CLUSTERING ORDER BY (&quot;CODE&quot; ASC)\r\n    AND additional_write_policy = &#39;99p&#39;\r\n    AND bloom_filter_fp_chance = 0.01\r\n    AND caching = {&#39;keys&#39;: &#39;ALL&#39;, &#39;rows_per_partition&#39;: &#39;NONE&#39;}\r\n    AND cdc = false\r\n    AND comment = &#39;&#39;\r\n    AND compaction = {&#39;class&#39;: &#39;org.apache.cassandra.db.compaction.SizeTieredCompactionStrategy&#39;, &#39;max_threshold&#39;: &#39;32&#39;, &#39;min_threshold&#39;: &#39;4&#39;}\r\n    AND compression = {&#39;chunk_length_in_kb&#39;: &#39;16&#39;, &#39;class&#39;: &#39;org.apache.cassandra.io.compress.LZ4Compressor&#39;}\r\n    AND crc_check_chance = 1.0\r\n    AND default_time_to_live = 0\r\n    AND extensions = {}\r\n    AND gc_grace_seconds = 864000\r\n    AND max_index_interval = 2048\r\n    AND memtable_flush_period_in_ms = 0\r\n    AND min_index_interval = 128\r\n    AND read_repair = &#39;BLOCKING&#39;\r\n    AND speculative_retry = &#39;99p&#39;;\r\n\r\nCREATE INDEX pp_tenant_id_idx ON catalog.products (&quot;P_TENANT_ID&quot;);\r\n\r\nCREATE INDEX pr_ean_idx ON catalog.products (&quot;EAN&quot;);\r\n\r\nCREATE INDEX pr_mancode_idx ON catalog.products (&quot;MANCODE&quot;);\r\n\r\nCREATE INDEX pr_offlinedate_idx ON catalog.products (&quot;OFFLINEDATE&quot;);\r\n\r\nCREATE INDEX pr_onlinedate_idx ON catalog.products (&quot;ONLINEDATE&quot;);\r\n\r\nCREATE INDEX pr_refcode_idx ON catalog.products (&quot;REFCODE&quot;);\r\n\r\nCREATE INDEX pr_typname_idx ON catalog.products (&quot;TYPNAME&quot;);\r\n\r\nCREATE INDEX pr_typnameseo_idx ON catalog.products (&quot;TYPNAMESEO&quot;);\r\ncqlsh:catalog&gt; \r\n```\r\n**Executed (generated) query**:\r\n\r\n```\r\nSELECT * FROM products WHERE TENANT_ID=&#39;19001&#39; AND code=&#39;11015383&#39; AND onlinedate &lt;= toDate(now()) AND offlinedate &gt;= toDate(now()) ALLOW FILTERING;\r\n```\r\n\r\n**Exception**:\r\n```\r\norg.springframework.data.cassandra.CassandraInvalidQueryException: Query; CQL [SELECT * FROM products WHERE  TENANT_ID=?  AND onlinedate &lt;= toDate(now()) AND offlinedate &gt;= toDate(now()) AND code=?  ALLOW FILTERING]; Undefined column name tenant_id in table catalog.products; nested exception is com.datastax.oss.driver.api.core.servererrors.InvalidQueryException: Undefined column name tenant_id in table catalog.products\r\n\tat org.springframework.data.cassandra.core.cql.CassandraExceptionTranslator.translate(CassandraExceptionTranslator.java:125) ~[spring-data-cassandra-3.4.3.jar!/:3.4.3]\r\n\tat org.springframework.data.cassandra.core.cql.CassandraAccessor.translate(CassandraAccessor.java:422) ~[spring-data-cassandra-3.4.3.jar!/:3.4.3]\r\n\tat org.springframework.data.cassandra.core.cql.CqlTemplate.translateException(CqlTemplate.java:764) ~[spring-data-cassandra-3.4.3.jar!/:3.4.3]\r\n\tat org.springframework.data.cassandra.core.cql.CqlTemplate.query(CqlTemplate.java:545) ~[spring-data-cassandra-3.4.3.jar!/:3.4.3]\r\n```\r\n\r\nI thought it might be a compact storage issue but it is not the case:\r\n```\r\ncqlsh:catalog&gt; alter table products drop compact storage;\r\nInvalidRequest: Error from server: code=2200 [Invalid query] message=&quot;Cannot DROP COMPACT STORAGE on table without COMPACT STORAGE&quot;\r\ncqlsh:catalog&gt; \r\n```\r\n","title":"Cassandra: Undefined column name tenant_id in table catalog.products","body":"<p>I am using Cassandra 4.0.x with spring boot, I create my table with two primary key, one clustering and one partition. However, whenever I try to query some data I get an error saying that the column is not defined</p>\n<pre><code>Undefined column name tenant_id in table catalog.products; nested exception is com.datastax.oss.driver.api.core.servererrors.InvalidQueryException: Undefined column name tenant_id in table catalog.products\n</code></pre>\n<p><strong>Here is my table definition and the executed query</strong>:</p>\n<pre><code>cqlsh:catalog&gt; DESCRIBE products ;\n\nCREATE TABLE catalog.products (\n    &quot;TENANT_ID&quot; text,\n    &quot;CODE&quot; text,\n    &quot;CREATION_TS&quot; timestamp,\n    &quot;EAN&quot; text,\n    &quot;MANCODE&quot; text,\n    &quot;MAXOQTE&quot; int,\n    &quot;MINOQTE&quot; int,\n    &quot;MODIFIED_TS&quot; timestamp,\n    &quot;OFFLINEDATE&quot; date,\n    &quot;ONLINEDATE&quot; date,\n    &quot;P_TENANT_ID&quot; text,\n    &quot;REFCODE&quot; text,\n    &quot;SVHC&quot; text,\n    &quot;TYPNAME&quot; text,\n    &quot;TYPNAMESEO&quot; text,\n    &quot;LOCDESCRIP&quot; map&lt;text, text&gt;,\n    &quot;LOCNAME&quot; map&lt;text, text&gt;,\n    &quot;LOCNAMESEO&quot; map&lt;text, text&gt;,\n    &quot;PARENTS&quot; set&lt;text&gt;,\n    &quot;SHORTDESC&quot; map&lt;text, text&gt;,\n    PRIMARY KEY (&quot;TENANT_ID&quot;, &quot;CODE&quot;)\n) WITH CLUSTERING ORDER BY (&quot;CODE&quot; ASC)\n    AND additional_write_policy = '99p'\n    AND bloom_filter_fp_chance = 0.01\n    AND caching = {'keys': 'ALL', 'rows_per_partition': 'NONE'}\n    AND cdc = false\n    AND comment = ''\n    AND compaction = {'class': 'org.apache.cassandra.db.compaction.SizeTieredCompactionStrategy', 'max_threshold': '32', 'min_threshold': '4'}\n    AND compression = {'chunk_length_in_kb': '16', 'class': 'org.apache.cassandra.io.compress.LZ4Compressor'}\n    AND crc_check_chance = 1.0\n    AND default_time_to_live = 0\n    AND extensions = {}\n    AND gc_grace_seconds = 864000\n    AND max_index_interval = 2048\n    AND memtable_flush_period_in_ms = 0\n    AND min_index_interval = 128\n    AND read_repair = 'BLOCKING'\n    AND speculative_retry = '99p';\n\nCREATE INDEX pp_tenant_id_idx ON catalog.products (&quot;P_TENANT_ID&quot;);\n\nCREATE INDEX pr_ean_idx ON catalog.products (&quot;EAN&quot;);\n\nCREATE INDEX pr_mancode_idx ON catalog.products (&quot;MANCODE&quot;);\n\nCREATE INDEX pr_offlinedate_idx ON catalog.products (&quot;OFFLINEDATE&quot;);\n\nCREATE INDEX pr_onlinedate_idx ON catalog.products (&quot;ONLINEDATE&quot;);\n\nCREATE INDEX pr_refcode_idx ON catalog.products (&quot;REFCODE&quot;);\n\nCREATE INDEX pr_typname_idx ON catalog.products (&quot;TYPNAME&quot;);\n\nCREATE INDEX pr_typnameseo_idx ON catalog.products (&quot;TYPNAMESEO&quot;);\ncqlsh:catalog&gt; \n</code></pre>\n<p><strong>Executed (generated) query</strong>:</p>\n<pre><code>SELECT * FROM products WHERE TENANT_ID='19001' AND code='11015383' AND onlinedate &lt;= toDate(now()) AND offlinedate &gt;= toDate(now()) ALLOW FILTERING;\n</code></pre>\n<p><strong>Exception</strong>:</p>\n<pre><code>org.springframework.data.cassandra.CassandraInvalidQueryException: Query; CQL [SELECT * FROM products WHERE  TENANT_ID=?  AND onlinedate &lt;= toDate(now()) AND offlinedate &gt;= toDate(now()) AND code=?  ALLOW FILTERING]; Undefined column name tenant_id in table catalog.products; nested exception is com.datastax.oss.driver.api.core.servererrors.InvalidQueryException: Undefined column name tenant_id in table catalog.products\n    at org.springframework.data.cassandra.core.cql.CassandraExceptionTranslator.translate(CassandraExceptionTranslator.java:125) ~[spring-data-cassandra-3.4.3.jar!/:3.4.3]\n    at org.springframework.data.cassandra.core.cql.CassandraAccessor.translate(CassandraAccessor.java:422) ~[spring-data-cassandra-3.4.3.jar!/:3.4.3]\n    at org.springframework.data.cassandra.core.cql.CqlTemplate.translateException(CqlTemplate.java:764) ~[spring-data-cassandra-3.4.3.jar!/:3.4.3]\n    at org.springframework.data.cassandra.core.cql.CqlTemplate.query(CqlTemplate.java:545) ~[spring-data-cassandra-3.4.3.jar!/:3.4.3]\n</code></pre>\n<p>I thought it might be a compact storage issue but it is not the case:</p>\n<pre><code>cqlsh:catalog&gt; alter table products drop compact storage;\nInvalidRequest: Error from server: code=2200 [Invalid query] message=&quot;Cannot DROP COMPACT STORAGE on table without COMPACT STORAGE&quot;\ncqlsh:catalog&gt; \n</code></pre>\n"},{"tags":["java","spring","google-cloud-platform","spring-data","google-cloud-datastore"],"owner":{"account_id":9499679,"reputation":392,"user_id":7061312,"accept_rate":60,"display_name":"Joshgun"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":147,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1670832839,"creation_date":1670832839,"question_id":74768262,"body_markdown":"I have an entity (named &quot;clusters&quot;) on Google Cloud Datastore:\r\n\r\n```table\r\n| Key  | creationDate     | clusterId | nodes                                                        |\r\n|------|------------------|-----------|--------------------------------------------------------------|\r\n| key1 | 1669796764124000 | cluster-1 | [{&quot;name&quot;:&quot;master1&quot;}, {&quot;name&quot;:&quot;worker1&quot;}, {&quot;name&quot;:&quot;worker2&quot;}] |\r\n| key2 | 1669797665953000 | cluster-2 | [{&quot;name&quot;:&quot;master1&quot;}, {&quot;name&quot;:&quot;worker1&quot;}, {&quot;name&quot;:&quot;worker2&quot;}] |\r\n```\r\n\r\nWhen I run the following query on GCP Datastore console:\r\n\r\n```sql\r\nSELECT creationDate, nodes.name \r\nFROM clusters WHERE clusterId = &#39;cluster-1&#39; \r\nAND creationDate &gt; [start_date] AND creationDate &lt; [end_date] \r\nORDER BY creationDate ASC\r\n```\r\n\r\nit gives me the correct result like below:\r\n\r\n```table\r\n| Key  | creationDate     | nodes.name |\r\n|------|------------------|------------|\r\n| key1 | 1669796764124000 | master1    |\r\n| key1 | 1669796764124000 | worker1    |\r\n| key1 | 1669796764124000 | worker2    |\r\n```\r\n\r\n(I&#39;ve created proper indexes as well)\r\n\r\nBut the problem is when I try to implement the same query on Spring Data Cloud Datastore it returns the same count of results but instead of the unique values of &quot;nodes.name&quot; I&#39;m getting same &quot;worker2&quot; value for all rows:\r\n\r\n```\r\nNodesProjection(id=key1, clusterId=null, creationDate=1669796764124000, nodeName=worker2)\r\nNodesProjection(id=key1, clusterId=null, creationDate=1669796764124000, nodeName=worker2)\r\nNodesProjection(id=key1, clusterId=null, creationDate=1669796764124000, nodeName=worker2)\r\n```\r\n\r\nHere are my Entity and Repository classes:\r\n\r\n```java\r\nimport com.google.cloud.spring.data.datastore.core.mapping.Entity;\r\nimport com.google.cloud.spring.data.datastore.core.mapping.Field;\r\nimport lombok.Data;\r\nimport org.springframework.data.annotation.Id;\r\n\r\n@Data\r\n@Entity(name = &quot;clusters&quot;)\r\npublic class NodesProjection {\r\n    @Id\r\n    private String id;\r\n    private String clusterId;\r\n    private Long creationDate;\r\n    @Field(name = &quot;nodes.name&quot;)\r\n    private String nodeName;\r\n}\r\n```\r\n\r\n```java\r\nimport com.google.cloud.spring.data.datastore.repository.DatastoreRepository;\r\nimport com.google.cloud.spring.data.datastore.repository.query.Query;\r\nimport org.springframework.data.repository.query.Param;\r\nimport org.springframework.stereotype.Repository;\r\n\r\nimport java.time.LocalDateTime;\r\nimport java.util.List;\r\n\r\n@Repository\r\npublic interface ClusterNodesProjectionRepository extends DatastoreRepository&lt;NodesProjection, String&gt; {\r\n    @Query(&quot;select creationDate, nodes.name from clusters where clusterId = @cluster_id &quot; +\r\n            &quot;AND creationDate &gt; @start_date &quot; +\r\n            &quot;AND creationDate &lt; @end_date &quot; +\r\n            &quot;ORDER BY creationDate ASC&quot;)\r\n    List&lt;NodesProjection&gt; findNodesByClusterIdAndCreationDateInBetween(@Param(&quot;cluster_id&quot;) String clusterId,\r\n                                                                        @Param(&quot;start_date&quot;) LocalDateTime startDate,\r\n                                                                        @Param(&quot;end_date&quot;) LocalDateTime endDate);\r\n\r\n\r\n}\r\n```\r\n\r\nI&#39;m not sure If I have some issues with entity mapping or what, and could not find anything reasonable from the documentation as well.\r\n\r\n","title":"Spring Data Cloud Datastore gives unexpected results","body":"<p>I have an entity (named &quot;clusters&quot;) on Google Cloud Datastore:</p>\n<pre><code>| Key  | creationDate     | clusterId | nodes                                                        |\n|------|------------------|-----------|--------------------------------------------------------------|\n| key1 | 1669796764124000 | cluster-1 | [{&quot;name&quot;:&quot;master1&quot;}, {&quot;name&quot;:&quot;worker1&quot;}, {&quot;name&quot;:&quot;worker2&quot;}] |\n| key2 | 1669797665953000 | cluster-2 | [{&quot;name&quot;:&quot;master1&quot;}, {&quot;name&quot;:&quot;worker1&quot;}, {&quot;name&quot;:&quot;worker2&quot;}] |\n</code></pre>\n<p>When I run the following query on GCP Datastore console:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT creationDate, nodes.name \nFROM clusters WHERE clusterId = 'cluster-1' \nAND creationDate &gt; [start_date] AND creationDate &lt; [end_date] \nORDER BY creationDate ASC\n</code></pre>\n<p>it gives me the correct result like below:</p>\n<pre><code>| Key  | creationDate     | nodes.name |\n|------|------------------|------------|\n| key1 | 1669796764124000 | master1    |\n| key1 | 1669796764124000 | worker1    |\n| key1 | 1669796764124000 | worker2    |\n</code></pre>\n<p>(I've created proper indexes as well)</p>\n<p>But the problem is when I try to implement the same query on Spring Data Cloud Datastore it returns the same count of results but instead of the unique values of &quot;nodes.name&quot; I'm getting same &quot;worker2&quot; value for all rows:</p>\n<pre><code>NodesProjection(id=key1, clusterId=null, creationDate=1669796764124000, nodeName=worker2)\nNodesProjection(id=key1, clusterId=null, creationDate=1669796764124000, nodeName=worker2)\nNodesProjection(id=key1, clusterId=null, creationDate=1669796764124000, nodeName=worker2)\n</code></pre>\n<p>Here are my Entity and Repository classes:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.google.cloud.spring.data.datastore.core.mapping.Entity;\nimport com.google.cloud.spring.data.datastore.core.mapping.Field;\nimport lombok.Data;\nimport org.springframework.data.annotation.Id;\n\n@Data\n@Entity(name = &quot;clusters&quot;)\npublic class NodesProjection {\n    @Id\n    private String id;\n    private String clusterId;\n    private Long creationDate;\n    @Field(name = &quot;nodes.name&quot;)\n    private String nodeName;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>import com.google.cloud.spring.data.datastore.repository.DatastoreRepository;\nimport com.google.cloud.spring.data.datastore.repository.query.Query;\nimport org.springframework.data.repository.query.Param;\nimport org.springframework.stereotype.Repository;\n\nimport java.time.LocalDateTime;\nimport java.util.List;\n\n@Repository\npublic interface ClusterNodesProjectionRepository extends DatastoreRepository&lt;NodesProjection, String&gt; {\n    @Query(&quot;select creationDate, nodes.name from clusters where clusterId = @cluster_id &quot; +\n            &quot;AND creationDate &gt; @start_date &quot; +\n            &quot;AND creationDate &lt; @end_date &quot; +\n            &quot;ORDER BY creationDate ASC&quot;)\n    List&lt;NodesProjection&gt; findNodesByClusterIdAndCreationDateInBetween(@Param(&quot;cluster_id&quot;) String clusterId,\n                                                                        @Param(&quot;start_date&quot;) LocalDateTime startDate,\n                                                                        @Param(&quot;end_date&quot;) LocalDateTime endDate);\n\n\n}\n</code></pre>\n<p>I'm not sure If I have some issues with entity mapping or what, and could not find anything reasonable from the documentation as well.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":0,"creation_date":1522256659,"post_id":49540325,"comment_id":86087887,"body_markdown":"Did you look at you PATH environment variable?","body":"Did you look at you PATH environment variable?"},{"owner":{"account_id":438909,"reputation":23723,"user_id":827480,"accept_rate":61,"display_name":"Eric B."},"score":1,"creation_date":1522256762,"post_id":49540325,"comment_id":86087945,"body_markdown":"@OldProgrammer sure.  I have other java paths defined there.  But will java.exe use the path env variable to find the necessary libs it requires?  I would have expected it to need the JAVA_HOME var - and not expect it to use that PATH var.  Normally, I would expect the PATH to be used to find executables.  Furthermore, if I clear the PATH var to only have C:\\ProgramData\\Oracle\\Java\\javapath\\  defined, java still runs.","body":"@OldProgrammer sure.  I have other java paths defined there.  But will java.exe use the path env variable to find the necessary libs it requires?  I would have expected it to need the JAVA_HOME var - and not expect it to use that PATH var.  Normally, I would expect the PATH to be used to find executables.  Furthermore, if I clear the PATH var to only have C:\\ProgramData\\Oracle\\Java\\javapath\\  defined, java still runs."},{"owner":{"account_id":1101469,"reputation":545,"user_id":1093782,"accept_rate":50,"display_name":"98percentmonkey"},"score":0,"creation_date":1542540679,"post_id":49540325,"comment_id":93597456,"body_markdown":"I believe beside the path variable the java.exe in system32 used a regedit lookup. This behavior cost me a lot of hours of my life...","body":"I believe beside the path variable the java.exe in system32 used a regedit lookup. This behavior cost me a lot of hours of my life..."},{"owner":{"account_id":2889117,"reputation":1035,"user_id":2478298,"display_name":"Clon"},"score":0,"creation_date":1637222662,"post_id":49540325,"comment_id":123769616,"body_markdown":"@EricB.  In order to run any programs in Windows or Linux, either the file is in your current directory,  or you provide the full path to the executable file, or the directory is included in the PATH environment variable.","body":"@EricB.  In order to run any programs in Windows or Linux, either the file is in your current directory,  or you provide the full path to the executable file, or the directory is included in the PATH environment variable."}],"answers":[{"comments":[{"owner":{"account_id":438909,"reputation":23723,"user_id":827480,"accept_rate":61,"display_name":"Eric B."},"score":2,"creation_date":1522333681,"post_id":49543305,"comment_id":86125060,"body_markdown":"Thanks.  It pointed me to the c:\\Program Files(x86)\\java folder.  I&#39;m still not sure I understand why it defaults to there, but at least I know where it is looking now.","body":"Thanks.  It pointed me to the c:\\Program Files(x86)\\java folder.  I&#39;m still not sure I understand why it defaults to there, but at least I know where it is looking now."}],"tags":[],"owner":{"account_id":7670603,"reputation":1867,"user_id":5812981,"accept_rate":23,"display_name":"access_granted"},"comment_count":1,"down_vote_count":1,"up_vote_count":24,"is_accepted":true,"score":23,"last_activity_date":1522267737,"creation_date":1522267737,"answer_id":49543305,"question_id":49540325,"body_markdown":"This will give you an idea:\r\n\r\n    java -verbose | more","title":"Which JRE does C:\\ProgramData\\Oracle\\Java\\javapath\\java.exe use?","body":"<p>This will give you an idea:</p>\n\n<pre><code>java -verbose | more\n</code></pre>\n"},{"comments":[{"owner":{"account_id":219684,"reputation":37267,"user_id":476716,"accept_rate":77,"display_name":"OrangeDog"},"score":2,"creation_date":1573476215,"post_id":51457823,"comment_id":103883190,"body_markdown":"Interestingly I tried changing the version via the registry, and then get `Error: Registry key &#39;Software\\JavaSoft\\Java Runtime Environment&#39;\\CurrentVersion&#39;\nhas value &#39;11.0.5&#39;, but &#39;1.8&#39; is required.`","body":"Interestingly I tried changing the version via the registry, and then get <code>Error: Registry key &#39;Software\\JavaSoft\\Java Runtime Environment&#39;\\CurrentVersion&#39; has value &#39;11.0.5&#39;, but &#39;1.8&#39; is required.</code>"}],"tags":[],"owner":{"account_id":13620,"reputation":34605,"user_id":27491,"accept_rate":69,"display_name":"Chris Becke"},"comment_count":1,"down_vote_count":0,"up_vote_count":40,"is_accepted":false,"score":40,"last_activity_date":1664173135,"creation_date":1532188917,"answer_id":51457823,"question_id":49540325,"body_markdown":"As of 2018, and specifically with regards to Oracle Java, you might find your Java runtime installed in one of two ways:\r\n\r\n### Regular Directory with File Symlinks inside\r\nIf you look at the files in `C:\\ProgramData\\Oracle\\Java\\javapath\\` you will see that they are actually symlinks to specific java binaries.\r\n\r\n    2015-11-13  06:11 PM    &lt;SYMLINK&gt;      java.exe [C:\\Program Files\\Java\\jre1.8.0_65\\bin\\java.exe]\r\n    2015-11-13  06:11 PM    &lt;SYMLINK&gt;      javaw.exe [C:\\Program Files\\Java\\jre1.8.0_65\\bin\\javaw.exe]\r\n    2015-11-13  06:11 PM    &lt;SYMLINK&gt;      javaws.exe [C:\\Program Files\\Java\\jre1.8.0_65\\bin\\javaws.exe]\r\n\r\n### Directory Junction with regular Files inside\r\nUsing the latest (64! bit) install of Java 8 actually prepends onto the system path *another* location: `c:\\Program Files (x86)\\Common Files\\Oracle\\Java\\javapath`.\r\nThis time, the javapath itself is the junction:\r\n \r\n    2018-07-21  05:59 PM    &lt;JUNCTION&gt;     javapath [C:\\Program Files (x86)\\Common Files\\Oracle\\Java\\javapath_target_172906453]\r\n    2018-07-21  05:59 PM    &lt;DIR&gt;          javapath_target_172906453\r\n\r\nAnd now, interestingly, the `java.exe` etc. in the javapath_target_... folder are not symlinks. These files find JRE and JDK versions using this registry location:\r\n\r\n    [HKEY_LOCAL_MACHINE\\SOFTWARE\\JavaSoft\\Java Runtime Environment]\r\n    &quot;CurrentVersion&quot;=&quot;1.8&quot;\r\n    \r\n    [HKEY_LOCAL_MACHINE\\SOFTWARE\\JavaSoft\\Java Runtime Environment\\1.8]\r\n    &quot;JavaHome&quot;=&quot;C:\\\\Program Files\\\\Java\\\\jre1.8.0_65&quot;\r\n","title":"Which JRE does C:\\ProgramData\\Oracle\\Java\\javapath\\java.exe use?","body":"<p>As of 2018, and specifically with regards to Oracle Java, you might find your Java runtime installed in one of two ways:</p>\n<h3>Regular Directory with File Symlinks inside</h3>\n<p>If you look at the files in <code>C:\\ProgramData\\Oracle\\Java\\javapath\\</code> you will see that they are actually symlinks to specific java binaries.</p>\n<pre><code>2015-11-13  06:11 PM    &lt;SYMLINK&gt;      java.exe [C:\\Program Files\\Java\\jre1.8.0_65\\bin\\java.exe]\n2015-11-13  06:11 PM    &lt;SYMLINK&gt;      javaw.exe [C:\\Program Files\\Java\\jre1.8.0_65\\bin\\javaw.exe]\n2015-11-13  06:11 PM    &lt;SYMLINK&gt;      javaws.exe [C:\\Program Files\\Java\\jre1.8.0_65\\bin\\javaws.exe]\n</code></pre>\n<h3>Directory Junction with regular Files inside</h3>\n<p>Using the latest (64! bit) install of Java 8 actually prepends onto the system path <em>another</em> location: <code>c:\\Program Files (x86)\\Common Files\\Oracle\\Java\\javapath</code>.\nThis time, the javapath itself is the junction:</p>\n<pre><code>2018-07-21  05:59 PM    &lt;JUNCTION&gt;     javapath [C:\\Program Files (x86)\\Common Files\\Oracle\\Java\\javapath_target_172906453]\n2018-07-21  05:59 PM    &lt;DIR&gt;          javapath_target_172906453\n</code></pre>\n<p>And now, interestingly, the <code>java.exe</code> etc. in the javapath_target_... folder are not symlinks. These files find JRE and JDK versions using this registry location:</p>\n<pre><code>[HKEY_LOCAL_MACHINE\\SOFTWARE\\JavaSoft\\Java Runtime Environment]\n&quot;CurrentVersion&quot;=&quot;1.8&quot;\n\n[HKEY_LOCAL_MACHINE\\SOFTWARE\\JavaSoft\\Java Runtime Environment\\1.8]\n&quot;JavaHome&quot;=&quot;C:\\\\Program Files\\\\Java\\\\jre1.8.0_65&quot;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3267468,"reputation":861,"user_id":2824577,"display_name":"Gerrit"},"score":3,"creation_date":1551113091,"post_id":53360711,"comment_id":96512193,"body_markdown":"Actually **WOW6432Node** is the registry node used by 32-bit applications.","body":"Actually <b>WOW6432Node</b> is the registry node used by 32-bit applications."}],"tags":[],"owner":{"account_id":1101469,"reputation":545,"user_id":1093782,"accept_rate":50,"display_name":"98percentmonkey"},"comment_count":1,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1657043828,"creation_date":1542543094,"answer_id":53360711,"question_id":49540325,"body_markdown":"These &quot;new&quot; JDK 8 / 64-bit behavior is so obfuscated, I could not guess why my application would not start, because I had the JDK (with the private JRE) and every path variable setup, still no start. \r\nAfter some time I installed JRE8 alone and it worked. Firstly the regedit - keys are only written by the public JRE.... Ok.\r\n\r\nThen I wanted to know which Runtime the app used, I renamed all java* .exe, yet it still worked64-bitI renamed all-new regedit keys. It still worked...\r\n\r\nEnd of story: with Windows 64 the regedit keys are in\r\n`HKEY_LOCAL_MACHINE\\SOFTWARE\\JavaSoft` (32bit) and\r\n\r\n`HKEY_LOCAL_MACHINE\\SOFTWARE\\WOW6432Node\\JavaSoft` (64bit) \r\n\r\nand my app worked because \r\n\r\n    HKEY_LOCAL_MACHINE\\SOFTWARE\\WOW6432Node\\JavaSoft\\Java Runtime Environment\\1.8\\RuntimeLib\\ \r\n\r\npointed to jvm.dll which referenced a symlink. I need a beer, I want another Job :-)\r\n\r\nHere is a nice link, which explains the Regedit-Keys  and the different &quot;discovery methods&quot; which Java uses to \r\nfind the newest installed version:\r\n\r\n[http://mindprod.com/jgloss/registry.html][1]\r\n\r\nStill the SYSLink - Change with JDK8 seems to be an undocumented change which was introduced before JRE8u171.\r\n\r\nMy sysLink Path was `C:\\Program Files (x86)\\Common Files\\Oracle\\Java` with was actually a Junction to a subdirectory.\r\nAnd the JDK8 installer copies the java*.exe files into Windows\\System32\\ btw.\r\n\r\nMore Infos:\r\n\r\n- [http://makble.com/jdk-8-and-cprogramdataoraclejavajavapath][2] - What&#39;s the sense of  `C:\\ProgramData\\Oracle\\Java\\javapath` (on Windows 10)?\r\n\r\n- [https://community.oracle.com/thread/4143254][3]\r\n[https://douglascayers.com/2015/05/30/how-to-set-custom-java-path-after-installing-jdk-8/][4]\r\n\r\nSorry for my rant, I&#39;m so frustrated right now. I hope it helps somebody else.\r\n\r\n\r\n  [1]: http://mindprod.com/jgloss/registry.html\r\n  [2]: http://makble.com/jdk-8-and-cprogramdataoraclejavajavapath\r\n  [3]: https://community.oracle.com/thread/4143254\r\n  [4]: https://douglascayers.com/2015/05/30/how-to-set-custom-java-path-after-installing-jdk-8/","title":"Which JRE does C:\\ProgramData\\Oracle\\Java\\javapath\\java.exe use?","body":"<p>These &quot;new&quot; JDK 8 / 64-bit behavior is so obfuscated, I could not guess why my application would not start, because I had the JDK (with the private JRE) and every path variable setup, still no start.\nAfter some time I installed JRE8 alone and it worked. Firstly the regedit - keys are only written by the public JRE.... Ok.</p>\n<p>Then I wanted to know which Runtime the app used, I renamed all java* .exe, yet it still worked64-bitI renamed all-new regedit keys. It still worked...</p>\n<p>End of story: with Windows 64 the regedit keys are in\n<code>HKEY_LOCAL_MACHINE\\SOFTWARE\\JavaSoft</code> (32bit) and</p>\n<p><code>HKEY_LOCAL_MACHINE\\SOFTWARE\\WOW6432Node\\JavaSoft</code> (64bit)</p>\n<p>and my app worked because</p>\n<pre><code>HKEY_LOCAL_MACHINE\\SOFTWARE\\WOW6432Node\\JavaSoft\\Java Runtime Environment\\1.8\\RuntimeLib\\ \n</code></pre>\n<p>pointed to jvm.dll which referenced a symlink. I need a beer, I want another Job :-)</p>\n<p>Here is a nice link, which explains the Regedit-Keys  and the different &quot;discovery methods&quot; which Java uses to\nfind the newest installed version:</p>\n<p><a href=\"http://mindprod.com/jgloss/registry.html\" rel=\"nofollow noreferrer\">http://mindprod.com/jgloss/registry.html</a></p>\n<p>Still the SYSLink - Change with JDK8 seems to be an undocumented change which was introduced before JRE8u171.</p>\n<p>My sysLink Path was <code>C:\\Program Files (x86)\\Common Files\\Oracle\\Java</code> with was actually a Junction to a subdirectory.\nAnd the JDK8 installer copies the java*.exe files into Windows\\System32\\ btw.</p>\n<p>More Infos:</p>\n<ul>\n<li><p><a href=\"http://makble.com/jdk-8-and-cprogramdataoraclejavajavapath\" rel=\"nofollow noreferrer\">http://makble.com/jdk-8-and-cprogramdataoraclejavajavapath</a> - What's the sense of  <code>C:\\ProgramData\\Oracle\\Java\\javapath</code> (on Windows 10)?</p>\n</li>\n<li><p><a href=\"https://community.oracle.com/thread/4143254\" rel=\"nofollow noreferrer\">https://community.oracle.com/thread/4143254</a>\n<a href=\"https://douglascayers.com/2015/05/30/how-to-set-custom-java-path-after-installing-jdk-8/\" rel=\"nofollow noreferrer\">https://douglascayers.com/2015/05/30/how-to-set-custom-java-path-after-installing-jdk-8/</a></p>\n</li>\n</ul>\n<p>Sorry for my rant, I'm so frustrated right now. I hope it helps somebody else.</p>\n"},{"tags":[],"owner":{"account_id":5324742,"reputation":2563,"user_id":4247268,"display_name":"StackzOfZtuff"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1670832728,"creation_date":1551110506,"answer_id":54870197,"question_id":49540325,"body_markdown":"# Try java -verbose with findstr\r\nExample:\r\n\r\n    C:\\&gt;java -verbose 2&gt;nul | findstr /I opened\r\n    [Opened C:\\Program Files\\Java\\jre1.8.0_201\\lib\\rt.jar]\r\n\r\n(Or try just `java -verbose` -- which will output a LOT of text. And the path to your Java standard JARs will be included several times.)\r\n\r\n# Try reg query with /s\r\nExample:\r\n\r\n    C:\\&gt;reg query &quot;HKEY_LOCAL_MACHINE\\SOFTWARE\\JavaSoft\\Java Runtime Environment&quot; /s\r\n    \r\n    HKEY_LOCAL_MACHINE\\SOFTWARE\\JavaSoft\\Java Runtime Environment\r\n        CurrentVersion      REG_SZ    1.8\r\n        BrowserJavaVersion  REG_SZ    11.201.2\r\n    \r\n    HKEY_LOCAL_MACHINE\\SOFTWARE\\JavaSoft\\Java Runtime Environment\\1.8\r\n        RuntimeLib      REG_SZ    C:\\Program Files\\Java\\jre1.8.0_201\\bin\\server\\jvm.dll\r\n        JavaHome        REG_SZ    C:\\Program Files\\Java\\jre1.8.0_201\r\n        MicroVersion    REG_SZ    0\r\n    \r\n    HKEY_LOCAL_MACHINE\\SOFTWARE\\JavaSoft\\Java Runtime Environment\\1.8.0_201\r\n        JavaHome        REG_SZ    C:\\Program Files\\Java\\jre1.8.0_201\r\n        MicroVersion    REG_SZ    0\r\n        RuntimeLib      REG_SZ    C:\\Program Files\\Java\\jre1.8.0_201\\bin\\server\\jvm.dll\r\n    \r\n    HKEY_LOCAL_MACHINE\\SOFTWARE\\JavaSoft\\Java Runtime Environment\\1.8.0_201\\MSI\r\n        INSTALLDIR      REG_SZ    C:\\Program Files\\Java\\jre1.8.0_201\\\r\n        JU              REG_SZ\r\n        OEMUPDATE       REG_SZ\r\n        FROMVERSION     REG_SZ    NA\r\n        FROMVERSIONFULL REG_SZ\r\n        PRODUCTVERSION  REG_SZ    8.0.2010.9\r\n        EULA            REG_SZ\r\n        JAVAUPDATE      REG_SZ    1\r\n        AUTOUPDATECHECK REG_SZ    1\r\n        AUTOUPDATEDELAY REG_SZ\r\n        FullVersion     REG_SZ    1.8.0_201-b09\r\n    \r\n    \r\n    C:\\&gt;\r\n\r\n# Try Get-Command java\r\nNote: If you just care about the version number, then you might want to try PowerShell&#39;s `Get-Command`:\r\n\r\n\r\n    PS C:\\&gt; Get-Command java | ft -AutoSize\r\n    \r\n    CommandType  Name      Version    Source\r\n    -----------  ----      -------    ------\r\n    Application  java.exe  8.0.201.9  C:\\Program Files (x86)\\Common\r\n    Files\\Oracle\\Java\\javapath\\java.exe","title":"Which JRE does C:\\ProgramData\\Oracle\\Java\\javapath\\java.exe use?","body":"<h1>Try java -verbose with findstr</h1>\n<p>Example:</p>\n<pre><code>C:\\&gt;java -verbose 2&gt;nul | findstr /I opened\n[Opened C:\\Program Files\\Java\\jre1.8.0_201\\lib\\rt.jar]\n</code></pre>\n<p>(Or try just <code>java -verbose</code> -- which will output a LOT of text. And the path to your Java standard JARs will be included several times.)</p>\n<h1>Try reg query with /s</h1>\n<p>Example:</p>\n<pre><code>C:\\&gt;reg query &quot;HKEY_LOCAL_MACHINE\\SOFTWARE\\JavaSoft\\Java Runtime Environment&quot; /s\n\nHKEY_LOCAL_MACHINE\\SOFTWARE\\JavaSoft\\Java Runtime Environment\n    CurrentVersion      REG_SZ    1.8\n    BrowserJavaVersion  REG_SZ    11.201.2\n\nHKEY_LOCAL_MACHINE\\SOFTWARE\\JavaSoft\\Java Runtime Environment\\1.8\n    RuntimeLib      REG_SZ    C:\\Program Files\\Java\\jre1.8.0_201\\bin\\server\\jvm.dll\n    JavaHome        REG_SZ    C:\\Program Files\\Java\\jre1.8.0_201\n    MicroVersion    REG_SZ    0\n\nHKEY_LOCAL_MACHINE\\SOFTWARE\\JavaSoft\\Java Runtime Environment\\1.8.0_201\n    JavaHome        REG_SZ    C:\\Program Files\\Java\\jre1.8.0_201\n    MicroVersion    REG_SZ    0\n    RuntimeLib      REG_SZ    C:\\Program Files\\Java\\jre1.8.0_201\\bin\\server\\jvm.dll\n\nHKEY_LOCAL_MACHINE\\SOFTWARE\\JavaSoft\\Java Runtime Environment\\1.8.0_201\\MSI\n    INSTALLDIR      REG_SZ    C:\\Program Files\\Java\\jre1.8.0_201\\\n    JU              REG_SZ\n    OEMUPDATE       REG_SZ\n    FROMVERSION     REG_SZ    NA\n    FROMVERSIONFULL REG_SZ\n    PRODUCTVERSION  REG_SZ    8.0.2010.9\n    EULA            REG_SZ\n    JAVAUPDATE      REG_SZ    1\n    AUTOUPDATECHECK REG_SZ    1\n    AUTOUPDATEDELAY REG_SZ\n    FullVersion     REG_SZ    1.8.0_201-b09\n\n\nC:\\&gt;\n</code></pre>\n<h1>Try Get-Command java</h1>\n<p>Note: If you just care about the version number, then you might want to try PowerShell's <code>Get-Command</code>:</p>\n<pre><code>PS C:\\&gt; Get-Command java | ft -AutoSize\n\nCommandType  Name      Version    Source\n-----------  ----      -------    ------\nApplication  java.exe  8.0.201.9  C:\\Program Files (x86)\\Common\nFiles\\Oracle\\Java\\javapath\\java.exe\n</code></pre>\n"},{"tags":[],"owner":{"account_id":260172,"reputation":15404,"user_id":543572,"accept_rate":100,"display_name":"James-Jesse Drinkard"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663706697,"creation_date":1663706697,"answer_id":73792457,"question_id":49540325,"body_markdown":"I recently ran into this as I have added in JAVA 9, 11, and 17 along with my previous JAVA 6, and 8 versions.  I incorrectly assumed that env variables hadn&#39;t changed with the newer releases, but I was obviously wrong.  \r\n\r\nWhen I ran java -version it returned JAVA 9 and javac -version returned JAVA 17.  \r\nI incorrectly tried to add a %JAVA_HOME% variable, as I had always done in pre-JAVA 8 versions under the Windows Environment Settings.  However, despite moving that addition to the front of the PATH, it didn&#39;t change anything!\r\n\r\nAs already explained, this Windows folder:  C:\\ProgramData\\Oracle\\Java\\javapath is where java has 3 symbolic links set that will override the PATH changes you make and sure enough it was pointing to the JAVA versions I returned from -version on java and javac.\r\n\r\nI found two solutions here at: [JDK 8 and C:\\ProgramData\\Oracle\\Java\\javapath][1]\r\n&gt; How to switch JDK version in cmd more flexibly You can either prepend\r\n&gt; your own directory to the PATH to overwrite the Oracle one, or follow\r\n&gt; the convention to append to the end of PATH variable like always did.\r\n&gt; I prefer the second one, here is how to do it.\r\n\r\nThe second solution uses two batch files with a env variable JAVA_HOME setting similar to what I had always used.\r\n\r\nI&#39;m posting this to add in a solution in case someone needs a workaround.\r\n\r\n\r\n  [1]: http://makble.com/jdk-8-and-cprogramdataoraclejavajavapath","title":"Which JRE does C:\\ProgramData\\Oracle\\Java\\javapath\\java.exe use?","body":"<p>I recently ran into this as I have added in JAVA 9, 11, and 17 along with my previous JAVA 6, and 8 versions.  I incorrectly assumed that env variables hadn't changed with the newer releases, but I was obviously wrong.</p>\n<p>When I ran java -version it returned JAVA 9 and javac -version returned JAVA 17.<br />\nI incorrectly tried to add a %JAVA_HOME% variable, as I had always done in pre-JAVA 8 versions under the Windows Environment Settings.  However, despite moving that addition to the front of the PATH, it didn't change anything!</p>\n<p>As already explained, this Windows folder:  C:\\ProgramData\\Oracle\\Java\\javapath is where java has 3 symbolic links set that will override the PATH changes you make and sure enough it was pointing to the JAVA versions I returned from -version on java and javac.</p>\n<p>I found two solutions here at: <a href=\"http://makble.com/jdk-8-and-cprogramdataoraclejavajavapath\" rel=\"nofollow noreferrer\">JDK 8 and C:\\ProgramData\\Oracle\\Java\\javapath</a></p>\n<blockquote>\n<p>How to switch JDK version in cmd more flexibly You can either prepend\nyour own directory to the PATH to overwrite the Oracle one, or follow\nthe convention to append to the end of PATH variable like always did.\nI prefer the second one, here is how to do it.</p>\n</blockquote>\n<p>The second solution uses two batch files with a env variable JAVA_HOME setting similar to what I had always used.</p>\n<p>I'm posting this to add in a solution in case someone needs a workaround.</p>\n"}],"owner":{"account_id":438909,"reputation":23723,"user_id":827480,"accept_rate":61,"display_name":"Eric B."},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56009,"favorite_count":0,"down_vote_count":0,"up_vote_count":34,"accepted_answer_id":49543305,"answer_count":5,"score":34,"last_activity_date":1670832728,"creation_date":1522256551,"question_id":49540325,"body_markdown":"I&#39;m trying to figure out which environment variable java uses to find/detect the JRE used by `C:\\ProgramData\\Oracle\\Java\\javapath\\java.exe`.\r\n\r\nAs per Oracle&#39;s design, the only files I have in the `C:\\ProgramData\\Oracle\\Java\\javapath\\` are \r\n\r\n - `java.exe`\r\n - `javaw.exe`\r\n - `javaws.exe`\r\n\r\nIf I set my `JAVA_HOME` to empty or to some random folder, running an application with `java.exe` still works.  So I can only assume that it isn&#39;t using the `JAVA_HOME` value.  So how does it find the JRE folder?  Does it default to something specific?  I have no `JRE_HOME` var set either. ","title":"Which JRE does C:\\ProgramData\\Oracle\\Java\\javapath\\java.exe use?","body":"<p>I'm trying to figure out which environment variable java uses to find/detect the JRE used by <code>C:\\ProgramData\\Oracle\\Java\\javapath\\java.exe</code>.</p>\n\n<p>As per Oracle's design, the only files I have in the <code>C:\\ProgramData\\Oracle\\Java\\javapath\\</code> are </p>\n\n<ul>\n<li><code>java.exe</code></li>\n<li><code>javaw.exe</code></li>\n<li><code>javaws.exe</code></li>\n</ul>\n\n<p>If I set my <code>JAVA_HOME</code> to empty or to some random folder, running an application with <code>java.exe</code> still works.  So I can only assume that it isn't using the <code>JAVA_HOME</code> value.  So how does it find the JRE folder?  Does it default to something specific?  I have no <code>JRE_HOME</code> var set either. </p>\n"},{"tags":["java","sql-server","hibernate","c3p0","mssql-jdbc"],"comments":[{"owner":{"account_id":2460030,"reputation":118398,"user_id":2144390,"accept_rate":100,"display_name":"Gord Thompson"},"score":1,"creation_date":1533309813,"post_id":51496139,"comment_id":90314554,"body_markdown":"This issue is also being discussed on GitHub [here](https://github.com/Microsoft/mssql-jdbc/issues/770).","body":"This issue is also being discussed on GitHub <a href=\"https://github.com/Microsoft/mssql-jdbc/issues/770\" rel=\"nofollow noreferrer\">here</a>."}],"answers":[{"comments":[{"owner":{"account_id":9489110,"reputation":2186,"user_id":7054574,"display_name":"Anddo"},"score":1,"creation_date":1532506272,"post_id":51508241,"comment_id":89996136,"body_markdown":"All the same after applying the following settings. Although I did think of this before but if it was the issue, it wouldn&#39;t be frequent in special cases as mentioned in the question, instead, it would effect every retrieval of such column and that&#39;s not the case. Thanks for the suggestion and surely waiting to test if you got more.","body":"All the same after applying the following settings. Although I did think of this before but if it was the issue, it wouldn&#39;t be frequent in special cases as mentioned in the question, instead, it would effect every retrieval of such column and that&#39;s not the case. Thanks for the suggestion and surely waiting to test if you got more."},{"owner":{"account_id":2460030,"reputation":118398,"user_id":2144390,"accept_rate":100,"display_name":"Gord Thompson"},"score":0,"creation_date":1533309994,"post_id":51508241,"comment_id":90314667,"body_markdown":"Those look like settings for MySQL, not Microsoft SQL Server.","body":"Those look like settings for MySQL, not Microsoft SQL Server."}],"tags":[],"owner":{"account_id":8815738,"reputation":694,"user_id":6587216,"display_name":"Elias"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1532470244,"creation_date":1532470244,"answer_id":51508241,"question_id":51496139,"body_markdown":"I think it&#39;s a Hibernate varbinary colum encoding issue make changes as the following \r\nTable has: ENGINE=InnoDB DEFAULT CHARSET=utf8; \r\n Hibernate properties has:\r\n\r\n       &lt;prop key=&quot;hibernate.connection.useUnicode&quot;&gt;true&lt;/prop&gt;\r\n       &lt;prop key=&quot;hibernate.connection.characterEncoding&quot;&gt;UTF-8&lt;/prop&gt;\r\n       &lt;prop key=&quot;hibernate.connection.charSet&quot;&gt;UTF-8&lt;/prop&gt;\r\n\r\nhttps://www.experts-exchange.com/questions/28131390/Hibernate-varbinary-colum-encoding-issue.html\r\n","title":"Hibernate with sql server retrieving data Encountered unexpected unknown token","body":"<p>I think it's a Hibernate varbinary colum encoding issue make changes as the following \nTable has: ENGINE=InnoDB DEFAULT CHARSET=utf8; \n Hibernate properties has:</p>\n\n<pre><code>   &lt;prop key=\"hibernate.connection.useUnicode\"&gt;true&lt;/prop&gt;\n   &lt;prop key=\"hibernate.connection.characterEncoding\"&gt;UTF-8&lt;/prop&gt;\n   &lt;prop key=\"hibernate.connection.charSet\"&gt;UTF-8&lt;/prop&gt;\n</code></pre>\n\n<p><a href=\"https://www.experts-exchange.com/questions/28131390/Hibernate-varbinary-colum-encoding-issue.html\" rel=\"nofollow noreferrer\">https://www.experts-exchange.com/questions/28131390/Hibernate-varbinary-colum-encoding-issue.html</a></p>\n"},{"tags":[],"owner":{"account_id":9489110,"reputation":2186,"user_id":7054574,"display_name":"Anddo"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1539205220,"creation_date":1539205220,"answer_id":52748707,"question_id":51496139,"body_markdown":"The following solved the retrieval problem and it showed at some submitting lines (inserting and flushing). It seems that retrieving data from the database to the driver is too much because VARBINARY maps to LOB in Java and being large objects opens stream which is not closed any time soon until another retrieval hits the database and driver which causes this issue. Here is the solution\r\n\r\nWhat&#39;s solved the problem if retrieval the data is using **cursor** JDBC property. As Microsoft team on github cleared, the exception thrown directly from the JDBC driver and provided a sample code that is working, I&#39;ve failed (until this moment) to replicate the issue.\r\n\r\nUsing cursor is simply adding `selectMethod=cursor` to the JDBC url. To fully understands what this option does and how it effects the retrieval of data specially LOB types kindly refer to [this][1] and [this][2] documentation and article.\r\n\r\nFrom Microsoft documentation\r\n\r\n&gt; selectMethod, String, [&quot;direct&quot; | &quot;cursor&quot;], default is `direct`\r\n&gt; \r\n&gt; If this property is set to &quot;cursor,&quot; a database cursor is created for\r\n&gt; each query created on the connection for TYPE_FORWARD_ONLY and\r\n&gt; CONCUR_READ_ONLY cursors. This property is typically required only if\r\n&gt; the application generates large result sets that cannot be fully\r\n&gt; contained in client memory. When this property is set to &quot;cursor,&quot;\r\n&gt; only a limited number of result set rows are retained in client\r\n&gt; memory.\r\n&gt; \r\n&gt; The default behavior is that all result set rows are retained in\r\n&gt; client memory. This behavior provides the fastest performance when the\r\n&gt; application is processing all rows.\r\n\r\nFrom the question and answer article\r\n\r\n&gt; Some questions to consider:\r\n&gt; \r\n&gt; 1. Does the application use scrollable result sets, forward only result sets or some of both?  If scrollable, do they fetch all of the\r\n&gt; data or only scroll to and fetch some of the rows?\r\n&gt; 2. Are the result sets generated small or large?  This includes number of rows and columns as well as the data contained there in(namely, are\r\n&gt; there any LOBs)?\r\n&gt; 3. Is the application doing transactional work or only operating in auto commit mode?\r\n&gt; 4. Does the application ever have more than one result set open at a time on a single connection?\r\n&gt; \r\n&gt; The answers to these questions should help decide which connection\r\n&gt; parameter is best for the application. First off be aware that\r\n&gt; eliminating the option from your connection URL altogether is that\r\n&gt; same as setting the option to “direct” since “direct” is the default\r\n&gt; setting.\r\n&gt; \r\n&gt; Next, take a look at our description of this option from the JDBC\r\n&gt; User’s Guide and Reference Manual.  Here are some of the key points in\r\n&gt; this description:\r\n&gt; \r\n&gt; A hint to the driver that determines whether the driver requests a\r\n&gt; database cursor for Select statements. Performance and behavior of the\r\n&gt; driver are affected by this property, which is defined as a hint\r\n&gt; because the driver may not always be able to satisfy the requested\r\n&gt; method.\r\n&gt; \r\n&gt; If set to direct (the default), the database server sends the complete\r\n&gt; result set in a single response to the driver when responding to a\r\n&gt; query. A server-side database cursor is not created if the requested\r\n&gt; result set type is a forward-only result set. Typically, responses are\r\n&gt; not cached by the driver. Using this method, the driver must process\r\n&gt; the entire response to a query before another query is submitted. If\r\n&gt; another query is submitted (using a different statement on the same\r\n&gt; connection, for example), the driver caches the response to the first\r\n&gt; query before submitting the second query. Typically, the direct method\r\n&gt; performs better than the cursor method.\r\n&gt; \r\n&gt; If set to cursor, a server-side cursor is requested. When returning\r\n&gt; forward-only result sets, the rows are retrieved from the server in\r\n&gt; blocks. The setFetchSize() method can be used to control the number of\r\n&gt; rows that are retrieved for each request when forward-only result sets\r\n&gt; are returned. Performance tests show that, when returning forward-only\r\n&gt; result sets, the value of Statement.setFetchSize() significantly\r\n&gt; impacts performance. There is no simple rule for determining the\r\n&gt; setFetchSize() value that you should use. We recommend that you\r\n&gt; experiment with different setFetchSize() values to determine which\r\n&gt; value gives the best performance for your application. The cursor\r\n&gt; method is useful for queries that produce a large amount of data,\r\n&gt; particularly if multiple open result sets are used.\r\n&gt; \r\n&gt; Consider this excerpt from the Performance Considerations section of\r\n&gt; the User Guide and Reference Manual:\r\n&gt; \r\n&gt; SelectMethod: In most cases, using server-side database cursors\r\n&gt; impacts performance negatively. However, if the following variables\r\n&gt; are true for the application, the best setting for this property is\r\n&gt; cursor, which means use server-side database cursors:\r\n&gt; \r\n&gt; - Your application contains queries that retrieve large amounts of data.\r\n&gt; - Your application executes a SQL statement before processing or closing a previous large result set and does this multiple times.\r\n&gt; - Large result sets returned by your application use forward-only cursors.\r\n\r\n  [1]: https://learn.microsoft.com/en-us/sql/connect/jdbc/setting-the-connection-properties?view=sql-server-2017\r\n  [2]: https://knowledgebase.progress.com/articles/Article/4115","title":"Hibernate with sql server retrieving data Encountered unexpected unknown token","body":"<p>The following solved the retrieval problem and it showed at some submitting lines (inserting and flushing). It seems that retrieving data from the database to the driver is too much because VARBINARY maps to LOB in Java and being large objects opens stream which is not closed any time soon until another retrieval hits the database and driver which causes this issue. Here is the solution</p>\n\n<p>What's solved the problem if retrieval the data is using <strong>cursor</strong> JDBC property. As Microsoft team on github cleared, the exception thrown directly from the JDBC driver and provided a sample code that is working, I've failed (until this moment) to replicate the issue.</p>\n\n<p>Using cursor is simply adding <code>selectMethod=cursor</code> to the JDBC url. To fully understands what this option does and how it effects the retrieval of data specially LOB types kindly refer to <a href=\"https://learn.microsoft.com/en-us/sql/connect/jdbc/setting-the-connection-properties?view=sql-server-2017\" rel=\"nofollow noreferrer\">this</a> and <a href=\"https://knowledgebase.progress.com/articles/Article/4115\" rel=\"nofollow noreferrer\">this</a> documentation and article.</p>\n\n<p>From Microsoft documentation</p>\n\n<blockquote>\n  <p>selectMethod, String, [\"direct\" | \"cursor\"], default is <code>direct</code></p>\n  \n  <p>If this property is set to \"cursor,\" a database cursor is created for\n  each query created on the connection for TYPE_FORWARD_ONLY and\n  CONCUR_READ_ONLY cursors. This property is typically required only if\n  the application generates large result sets that cannot be fully\n  contained in client memory. When this property is set to \"cursor,\"\n  only a limited number of result set rows are retained in client\n  memory.</p>\n  \n  <p>The default behavior is that all result set rows are retained in\n  client memory. This behavior provides the fastest performance when the\n  application is processing all rows.</p>\n</blockquote>\n\n<p>From the question and answer article</p>\n\n<blockquote>\n  <p>Some questions to consider:</p>\n  \n  <ol>\n  <li>Does the application use scrollable result sets, forward only result sets or some of both?  If scrollable, do they fetch all of the\n  data or only scroll to and fetch some of the rows?</li>\n  <li>Are the result sets generated small or large?  This includes number of rows and columns as well as the data contained there in(namely, are\n  there any LOBs)?</li>\n  <li>Is the application doing transactional work or only operating in auto commit mode?</li>\n  <li>Does the application ever have more than one result set open at a time on a single connection?</li>\n  </ol>\n  \n  <p>The answers to these questions should help decide which connection\n  parameter is best for the application. First off be aware that\n  eliminating the option from your connection URL altogether is that\n  same as setting the option to “direct” since “direct” is the default\n  setting.</p>\n  \n  <p>Next, take a look at our description of this option from the JDBC\n  User’s Guide and Reference Manual.  Here are some of the key points in\n  this description:</p>\n  \n  <p>A hint to the driver that determines whether the driver requests a\n  database cursor for Select statements. Performance and behavior of the\n  driver are affected by this property, which is defined as a hint\n  because the driver may not always be able to satisfy the requested\n  method.</p>\n  \n  <p>If set to direct (the default), the database server sends the complete\n  result set in a single response to the driver when responding to a\n  query. A server-side database cursor is not created if the requested\n  result set type is a forward-only result set. Typically, responses are\n  not cached by the driver. Using this method, the driver must process\n  the entire response to a query before another query is submitted. If\n  another query is submitted (using a different statement on the same\n  connection, for example), the driver caches the response to the first\n  query before submitting the second query. Typically, the direct method\n  performs better than the cursor method.</p>\n  \n  <p>If set to cursor, a server-side cursor is requested. When returning\n  forward-only result sets, the rows are retrieved from the server in\n  blocks. The setFetchSize() method can be used to control the number of\n  rows that are retrieved for each request when forward-only result sets\n  are returned. Performance tests show that, when returning forward-only\n  result sets, the value of Statement.setFetchSize() significantly\n  impacts performance. There is no simple rule for determining the\n  setFetchSize() value that you should use. We recommend that you\n  experiment with different setFetchSize() values to determine which\n  value gives the best performance for your application. The cursor\n  method is useful for queries that produce a large amount of data,\n  particularly if multiple open result sets are used.</p>\n  \n  <p>Consider this excerpt from the Performance Considerations section of\n  the User Guide and Reference Manual:</p>\n  \n  <p>SelectMethod: In most cases, using server-side database cursors\n  impacts performance negatively. However, if the following variables\n  are true for the application, the best setting for this property is\n  cursor, which means use server-side database cursors:</p>\n  \n  <ul>\n  <li>Your application contains queries that retrieve large amounts of data.</li>\n  <li>Your application executes a SQL statement before processing or closing a previous large result set and does this multiple times.</li>\n  <li>Large result sets returned by your application use forward-only cursors.</li>\n  </ul>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":9489110,"reputation":2186,"user_id":7054574,"display_name":"Anddo"},"score":0,"creation_date":1670852062,"post_id":56865039,"comment_id":131962007,"body_markdown":"This actually was it","body":"This actually was it"}],"tags":[],"owner":{"account_id":8956348,"reputation":490,"user_id":6680510,"display_name":"Muhammad Attia"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1562138857,"creation_date":1562138857,"answer_id":56865039,"question_id":51496139,"body_markdown":"Beware that once you queried data, blob is retrieved as proxy with stream ready to read from it. You might want to check that you read (maybe as byte[]) data from it before closing the connection. Of course according to your situation, you seem to close the connection in someway at sometime which is not clear but reading the data to be in memory instead of holding just the proxy guarantees the safety of closing the session/connection wouldn&#39;t cause such problem for the proxy because data has been read already.\r\n\r\nThe cursor solution is beneficial in case of retrieving large amount of data and executing query before finishing all previous data retrieval and this is probably the issue here. So this is also considered another option without loading data eagerly in memory and avoiding proxy at all.","title":"Hibernate with sql server retrieving data Encountered unexpected unknown token","body":"<p>Beware that once you queried data, blob is retrieved as proxy with stream ready to read from it. You might want to check that you read (maybe as byte[]) data from it before closing the connection. Of course according to your situation, you seem to close the connection in someway at sometime which is not clear but reading the data to be in memory instead of holding just the proxy guarantees the safety of closing the session/connection wouldn't cause such problem for the proxy because data has been read already.</p>\n\n<p>The cursor solution is beneficial in case of retrieving large amount of data and executing query before finishing all previous data retrieval and this is probably the issue here. So this is also considered another option without loading data eagerly in memory and avoiding proxy at all.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1670743701,"post_id":74717427,"comment_id":131940938,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/74717427/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":26355819,"reputation":21,"user_id":20012811,"display_name":"Viktor Engelmann"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670832687,"creation_date":1670419575,"answer_id":74717427,"question_id":51496139,"body_markdown":"As you can see on https://mvnrepository.com/artifact/com.microsoft.sqlserver/mssql-jdbc the MS-SQL JDBC Driver has separate versions for different JRE versions (the versions ending with .jre17, .jre11, .jre8, etc.)\r\n\r\nI had this error when I had copy-n-pasted a gradle-dependency for the .jre7 version of the MS-SQL JDBC Driver into a JRE 17 project.\r\n\r\nOnce I changed the gradle dependency to the JRE 17 version, the error went away.","title":"Hibernate with sql server retrieving data Encountered unexpected unknown token","body":"<p>As you can see on <a href=\"https://mvnrepository.com/artifact/com.microsoft.sqlserver/mssql-jdbc\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/com.microsoft.sqlserver/mssql-jdbc</a> the MS-SQL JDBC Driver has separate versions for different JRE versions (the versions ending with .jre17, .jre11, .jre8, etc.)</p>\n<p>I had this error when I had copy-n-pasted a gradle-dependency for the .jre7 version of the MS-SQL JDBC Driver into a JRE 17 project.</p>\n<p>Once I changed the gradle dependency to the JRE 17 version, the error went away.</p>\n"}],"owner":{"account_id":9489110,"reputation":2186,"user_id":7054574,"display_name":"Anddo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2471,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":52748707,"answer_count":4,"score":2,"last_activity_date":1670832687,"creation_date":1532427547,"question_id":51496139,"body_markdown":"Using c3p0 0.9.2.1, hibernate 4.2.21, JBoss AS 7.1.1 and connecting with Microsoft SQL Server 2014 - 12.0.2000.8 (X64).\r\n\r\nmssql-jdbc 6.2.2 (I tested 6.4.0 for doubt but we are using 6.2.2) is used for JRE7 support.\r\n\r\n**Scenario**\r\n\r\nRetrieving data from a table as multiple rows but NOT at once. It&#39;s simply a loop and each time a row retrieved and finally they put in HashMap.\r\n\r\n**Problem &amp; Output**\r\n\r\nAfter long investigation and debugging I found out that the problem scope related with two columns in the table. One is VARBINARY(MAX) called signature and the other is VARCHAR(1024) called status. If both of these columns have a value on a row, this exception occurs on retrieving the **next** row. If any of them is set to null, all is good. No matter the length of the value in them.\r\n\r\n**Tries so far**\r\n\r\n- Changing the columns order making the VARCHARcolumn is the last cloumn\r\n- Changing the columns order making the VARBINARY column is the last cloumn\r\n- Changing the length (VARBINARY to 8000 and VARCHAR to 50)\r\n- Setting values on other columns with similar or larger length\r\n- Logging `org.hibernate.session` object methods `isConnected()` and `isOpen()` and until the exception is thrown, the output was always `true` for both\r\n\r\n**Questions**\r\n\r\nWhat does that exception means ? Specially that sql server logging doesn&#39;t show anything about it !!\r\n\r\nWhy it&#39;s happening and what might be the cause of this ?\r\n\r\n\r\n       18:53:12,294 SEVERE [com.microsoft.sqlserver.jdbc.internals.TDS.TOKEN]\r\n    (http-localhost-127.0.0.1-8080-6) ConnectionID:24 ClientConnectionId:\r\n    5bbf35a7-2a3c-4fb5-845a-bbd81d2739ef: getNextResult: Encountered\r\n    unexpected unknown token (0x1)\r\n        18:53:12,296 SEVERE [com.microsoft.sqlserver.jdbc.internals.TDS.Reader]\r\n    (http-localhost-127.0.0.1-8080-6) ConnectionID:24 ClientConnectionId:\r\n    5bbf35a7-2a3c-4fb5-845a-bbd81d2739ef got unexpected value in TDS\r\n    response at offset:1158\r\n        18:53:12,300 ERROR [stderr] (http-localhost-127.0.0.1-8080-6) java.lang.reflect.InvocationTargetException\r\n        \r\n        18:53:12,300 ERROR [stderr] (http-localhost-127.0.0.1-8080-6) \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        \r\n        18:53:12,301 ERROR [stderr] (http-localhost-127.0.0.1-8080-6) \tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n        \r\n        18:53:12,301 ERROR [stderr] (http-localhost-127.0.0.1-8080-6) \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n        \r\n        18:53:12,302 ERROR [stderr] (http-localhost-127.0.0.1-8080-6) \tat java.lang.reflect.Method.invoke(Unknown Source)\r\n    .\r\n    .\r\n        18:53:12,304 ERROR [stderr] (http-localhost-127.0.0.1-8080-6) \tat org.apache.struts.action.RequestProcessor.processActionPerform(RequestProcessor.java:431)\r\n        \r\n        18:53:12,305 ERROR [stderr] (http-localhost-127.0.0.1-8080-6) \tat org.apache.struts.action.RequestProcessor.process(RequestProcessor.java:236)\r\n        \r\n        18:53:12,306 ERROR [stderr] (http-localhost-127.0.0.1-8080-6) \tat org.apache.struts.action.ActionServlet.process(ActionServlet.java:1196)\r\n        \r\n        18:53:12,307 ERROR [stderr] (http-localhost-127.0.0.1-8080-6) \tat org.apache.struts.action.ActionServlet.doPost(ActionServlet.java:432)\r\n        \r\n        18:53:12,308 ERROR [stderr] (http-localhost-127.0.0.1-8080-6) \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:754)\r\n        \r\n        18:53:12,309 ERROR [stderr] (http-localhost-127.0.0.1-8080-6) \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:847)\r\n        \r\n        18:53:12,309 ERROR [stderr] (http-localhost-127.0.0.1-8080-6) \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:329)\r\n        \r\n        18:53:12,310 ERROR [stderr] (http-localhost-127.0.0.1-8080-6) \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:248)\r\n        \r\n    .\r\n    .\r\n        18:53:12,312 ERROR [stderr] (http-localhost-127.0.0.1-8080-6) \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:280)\r\n        \r\n        18:53:12,312 ERROR [stderr] (http-localhost-127.0.0.1-8080-6) \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:248)\r\n        \r\n    .\r\n    .\r\n        \r\n        18:53:12,314 ERROR [stderr] (http-localhost-127.0.0.1-8080-6) \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:280)\r\n        \r\n        18:53:12,314 ERROR [stderr] (http-localhost-127.0.0.1-8080-6) \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:248)\r\n        \r\n    .\r\n    .   \r\n        18:53:12,316 ERROR [stderr] (http-localhost-127.0.0.1-8080-6) \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:280)\r\n        \r\n        18:53:12,316 ERROR [stderr] (http-localhost-127.0.0.1-8080-6) \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:248)\r\n        \r\n        18:53:12,317 ERROR [stderr] (http-localhost-127.0.0.1-8080-6) \tat org.apache.catalina.filters.SetCharacterEncodingFilter.doFilter(SetCharacterEncodingFilter.java:101)\r\n        \r\n        18:53:12,318 ERROR [stderr] (http-localhost-127.0.0.1-8080-6) \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:280)\r\n        \r\n        18:53:12,318 ERROR [stderr] (http-localhost-127.0.0.1-8080-6) \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:248)\r\n        \r\n        18:53:12,319 ERROR [stderr] (http-localhost-127.0.0.1-8080-6) \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:275)\r\n        \r\n        18:53:12,320 ERROR [stderr] (http-localhost-127.0.0.1-8080-6) \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:161)\r\n        \r\n        18:53:12,320 ERROR [stderr] (http-localhost-127.0.0.1-8080-6) \tat org.jboss.as.web.security.SecurityContextAssociationValve.invoke(SecurityContextAssociationValve.java:153)\r\n        \r\n        18:53:12,321 ERROR [stderr] (http-localhost-127.0.0.1-8080-6) \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:155)\r\n        \r\n        18:53:12,322 ERROR [stderr] (http-localhost-127.0.0.1-8080-6) \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)\r\n        \r\n        18:53:12,322 ERROR [stderr] (http-localhost-127.0.0.1-8080-6) \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)\r\n        \r\n        18:53:12,323 ERROR [stderr] (http-localhost-127.0.0.1-8080-6) \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:368)\r\n        \r\n        18:53:12,324 ERROR [stderr] (http-localhost-127.0.0.1-8080-6) \tat org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:877)\r\n        \r\n        18:53:12,325 ERROR [stderr] (http-localhost-127.0.0.1-8080-6) \tat org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:671)\r\n        \r\n        18:53:12,326 ERROR [stderr] (http-localhost-127.0.0.1-8080-6) \tat org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:930)\r\n        \r\n        18:53:12,327 ERROR [stderr] (http-localhost-127.0.0.1-8080-6) \tat java.lang.Thread.run(Unknown Source)\r\n        \r\n        18:53:12,328 ERROR [stderr] (http-localhost-127.0.0.1-8080-6) Caused by: org.hibernate.exception.GenericJDBCException: could not\r\n    extract ResultSet\r\n        \r\n        18:53:12,329 ERROR [stderr] (http-localhost-127.0.0.1-8080-6) \tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:54)\r\n        \r\n        18:53:12,330 ERROR [stderr] (http-localhost-127.0.0.1-8080-6) \tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:124)\r\n        \r\n        18:53:12,332 ERROR [stderr] (http-localhost-127.0.0.1-8080-6) \tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:109)\r\n        \r\n        18:53:12,333 ERROR [stderr] (http-localhost-127.0.0.1-8080-6) \tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:88)\r\n        \r\n        18:53:12,335 ERROR [stderr] (http-localhost-127.0.0.1-8080-6) \tat org.hibernate.loader.Loader.getResultSet(Loader.java:2062)\r\n        \r\n        18:53:12,336 ERROR [stderr] (http-localhost-127.0.0.1-8080-6) \tat org.hibernate.loader.Loader.executeQueryStatement(Loader.java:1859)\r\n        \r\n        18:53:12,337 ERROR [stderr] (http-localhost-127.0.0.1-8080-6) \tat org.hibernate.loader.Loader.executeQueryStatement(Loader.java:1838)\r\n        \r\n        18:53:12,338 ERROR [stderr] (http-localhost-127.0.0.1-8080-6) \tat org.hibernate.loader.Loader.doQuery(Loader.java:906)\r\n        \r\n        18:53:12,339 ERROR [stderr] (http-localhost-127.0.0.1-8080-6) \tat org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:348)\r\n        \r\n        18:53:12,340 ERROR [stderr] (http-localhost-127.0.0.1-8080-6) \tat org.hibernate.loader.Loader.doList(Loader.java:2550)\r\n        \r\n        18:53:12,340 ERROR [stderr] (http-localhost-127.0.0.1-8080-6) \tat org.hibernate.loader.Loader.doList(Loader.java:2536)\r\n        \r\n        18:53:12,341 ERROR [stderr] (http-localhost-127.0.0.1-8080-6) \tat org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2366)\r\n        \r\n        18:53:12,342 ERROR [stderr] (http-localhost-127.0.0.1-8080-6) \tat org.hibernate.loader.Loader.list(Loader.java:2361)\r\n        \r\n        18:53:12,342 ERROR [stderr] (http-localhost-127.0.0.1-8080-6) \tat org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:495)\r\n        \r\n        18:53:12,343 ERROR [stderr] (http-localhost-127.0.0.1-8080-6) \tat org.hibernate.hql.internal.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:357)\r\n        \r\n        18:53:12,343 ERROR [stderr] (http-localhost-127.0.0.1-8080-6) \tat org.hibernate.engine.query.spi.HQLQueryPlan.performList(HQLQueryPlan.java:198)\r\n        \r\n        18:53:12,344 ERROR [stderr] (http-localhost-127.0.0.1-8080-6) \tat org.hibernate.internal.SessionImpl.list(SessionImpl.java:1230)\r\n        \r\n        18:53:12,345 ERROR [stderr] (http-localhost-127.0.0.1-8080-6) \tat org.hibernate.internal.QueryImpl.list(QueryImpl.java:101)\r\n        \r\n        18:53:12,345 ERROR [stderr] (http-localhost-127.0.0.1-8080-6) \tat org.hibernate.internal.AbstractQueryImpl.uniqueResult(AbstractQueryImpl.java:909)\r\n        \r\n    .\r\n    .\r\n        \r\n        18:53:12,350 ERROR [stderr] (http-localhost-127.0.0.1-8080-6) \t... 38 more\r\n        \r\n        18:53:12,351 ERROR [stderr] (http-localhost-127.0.0.1-8080-6) Caused by: com.microsoft.sqlserver.jdbc.SQLServerException: The\r\n    connection is closed.\r\n        \r\n        18:53:12,351 ERROR [stderr] (http-localhost-127.0.0.1-8080-6) \tat com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDriverError(SQLServerException.java:228)\r\n        \r\n        18:53:12,352 ERROR [stderr] (http-localhost-127.0.0.1-8080-6) \tat com.microsoft.sqlserver.jdbc.SQLServerConnection.checkClosed(SQLServerConnection.java:1007)\r\n        \r\n        18:53:12,353 ERROR [stderr] (http-localhost-127.0.0.1-8080-6) \tat com.microsoft.sqlserver.jdbc.SQLServerStatement.checkClosed(SQLServerStatement.java:1024)\r\n        \r\n        18:53:12,353 ERROR [stderr] (http-localhost-127.0.0.1-8080-6) \tat com.microsoft.sqlserver.jdbc.SQLServerStatement.executeStatement(SQLServerStatement.java:198)\r\n        \r\n        18:53:12,354 ERROR [stderr] (http-localhost-127.0.0.1-8080-6) \tat com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement.executeQuery(SQLServerPreparedStatement.java:401)\r\n        \r\n        18:53:12,355 ERROR [stderr] (http-localhost-127.0.0.1-8080-6) \tat com.mchange.v2.c3p0.impl.NewProxyPreparedStatement.executeQuery(NewProxyPreparedStatement.java:116)\r\n        \r\n        18:53:12,355 ERROR [stderr] (http-localhost-127.0.0.1-8080-6) \tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:79)\r\n        \r\n        18:53:12,356 ERROR [stderr] (http-localhost-127.0.0.1-8080-6) \t... 59 more","title":"Hibernate with sql server retrieving data Encountered unexpected unknown token","body":"<p>Using c3p0 0.9.2.1, hibernate 4.2.21, JBoss AS 7.1.1 and connecting with Microsoft SQL Server 2014 - 12.0.2000.8 (X64).</p>\n\n<p>mssql-jdbc 6.2.2 (I tested 6.4.0 for doubt but we are using 6.2.2) is used for JRE7 support.</p>\n\n<p><strong>Scenario</strong></p>\n\n<p>Retrieving data from a table as multiple rows but NOT at once. It's simply a loop and each time a row retrieved and finally they put in HashMap.</p>\n\n<p><strong>Problem &amp; Output</strong></p>\n\n<p>After long investigation and debugging I found out that the problem scope related with two columns in the table. One is VARBINARY(MAX) called signature and the other is VARCHAR(1024) called status. If both of these columns have a value on a row, this exception occurs on retrieving the <strong>next</strong> row. If any of them is set to null, all is good. No matter the length of the value in them.</p>\n\n<p><strong>Tries so far</strong></p>\n\n<ul>\n<li>Changing the columns order making the VARCHARcolumn is the last cloumn</li>\n<li>Changing the columns order making the VARBINARY column is the last cloumn</li>\n<li>Changing the length (VARBINARY to 8000 and VARCHAR to 50)</li>\n<li>Setting values on other columns with similar or larger length</li>\n<li>Logging <code>org.hibernate.session</code> object methods <code>isConnected()</code> and <code>isOpen()</code> and until the exception is thrown, the output was always <code>true</code> for both</li>\n</ul>\n\n<p><strong>Questions</strong></p>\n\n<p>What does that exception means ? Specially that sql server logging doesn't show anything about it !!</p>\n\n<p>Why it's happening and what might be the cause of this ?</p>\n\n<pre><code>   18:53:12,294 SEVERE [com.microsoft.sqlserver.jdbc.internals.TDS.TOKEN]\n(http-localhost-127.0.0.1-8080-6) ConnectionID:24 ClientConnectionId:\n5bbf35a7-2a3c-4fb5-845a-bbd81d2739ef: getNextResult: Encountered\nunexpected unknown token (0x1)\n    18:53:12,296 SEVERE [com.microsoft.sqlserver.jdbc.internals.TDS.Reader]\n(http-localhost-127.0.0.1-8080-6) ConnectionID:24 ClientConnectionId:\n5bbf35a7-2a3c-4fb5-845a-bbd81d2739ef got unexpected value in TDS\nresponse at offset:1158\n    18:53:12,300 ERROR [stderr] (http-localhost-127.0.0.1-8080-6) java.lang.reflect.InvocationTargetException\n\n    18:53:12,300 ERROR [stderr] (http-localhost-127.0.0.1-8080-6)   at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\n    18:53:12,301 ERROR [stderr] (http-localhost-127.0.0.1-8080-6)   at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n\n    18:53:12,301 ERROR [stderr] (http-localhost-127.0.0.1-8080-6)   at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n\n    18:53:12,302 ERROR [stderr] (http-localhost-127.0.0.1-8080-6)   at java.lang.reflect.Method.invoke(Unknown Source)\n.\n.\n    18:53:12,304 ERROR [stderr] (http-localhost-127.0.0.1-8080-6)   at org.apache.struts.action.RequestProcessor.processActionPerform(RequestProcessor.java:431)\n\n    18:53:12,305 ERROR [stderr] (http-localhost-127.0.0.1-8080-6)   at org.apache.struts.action.RequestProcessor.process(RequestProcessor.java:236)\n\n    18:53:12,306 ERROR [stderr] (http-localhost-127.0.0.1-8080-6)   at org.apache.struts.action.ActionServlet.process(ActionServlet.java:1196)\n\n    18:53:12,307 ERROR [stderr] (http-localhost-127.0.0.1-8080-6)   at org.apache.struts.action.ActionServlet.doPost(ActionServlet.java:432)\n\n    18:53:12,308 ERROR [stderr] (http-localhost-127.0.0.1-8080-6)   at javax.servlet.http.HttpServlet.service(HttpServlet.java:754)\n\n    18:53:12,309 ERROR [stderr] (http-localhost-127.0.0.1-8080-6)   at javax.servlet.http.HttpServlet.service(HttpServlet.java:847)\n\n    18:53:12,309 ERROR [stderr] (http-localhost-127.0.0.1-8080-6)   at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:329)\n\n    18:53:12,310 ERROR [stderr] (http-localhost-127.0.0.1-8080-6)   at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:248)\n\n.\n.\n    18:53:12,312 ERROR [stderr] (http-localhost-127.0.0.1-8080-6)   at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:280)\n\n    18:53:12,312 ERROR [stderr] (http-localhost-127.0.0.1-8080-6)   at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:248)\n\n.\n.\n\n    18:53:12,314 ERROR [stderr] (http-localhost-127.0.0.1-8080-6)   at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:280)\n\n    18:53:12,314 ERROR [stderr] (http-localhost-127.0.0.1-8080-6)   at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:248)\n\n.\n.   \n    18:53:12,316 ERROR [stderr] (http-localhost-127.0.0.1-8080-6)   at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:280)\n\n    18:53:12,316 ERROR [stderr] (http-localhost-127.0.0.1-8080-6)   at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:248)\n\n    18:53:12,317 ERROR [stderr] (http-localhost-127.0.0.1-8080-6)   at org.apache.catalina.filters.SetCharacterEncodingFilter.doFilter(SetCharacterEncodingFilter.java:101)\n\n    18:53:12,318 ERROR [stderr] (http-localhost-127.0.0.1-8080-6)   at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:280)\n\n    18:53:12,318 ERROR [stderr] (http-localhost-127.0.0.1-8080-6)   at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:248)\n\n    18:53:12,319 ERROR [stderr] (http-localhost-127.0.0.1-8080-6)   at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:275)\n\n    18:53:12,320 ERROR [stderr] (http-localhost-127.0.0.1-8080-6)   at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:161)\n\n    18:53:12,320 ERROR [stderr] (http-localhost-127.0.0.1-8080-6)   at org.jboss.as.web.security.SecurityContextAssociationValve.invoke(SecurityContextAssociationValve.java:153)\n\n    18:53:12,321 ERROR [stderr] (http-localhost-127.0.0.1-8080-6)   at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:155)\n\n    18:53:12,322 ERROR [stderr] (http-localhost-127.0.0.1-8080-6)   at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:102)\n\n    18:53:12,322 ERROR [stderr] (http-localhost-127.0.0.1-8080-6)   at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:109)\n\n    18:53:12,323 ERROR [stderr] (http-localhost-127.0.0.1-8080-6)   at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:368)\n\n    18:53:12,324 ERROR [stderr] (http-localhost-127.0.0.1-8080-6)   at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:877)\n\n    18:53:12,325 ERROR [stderr] (http-localhost-127.0.0.1-8080-6)   at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:671)\n\n    18:53:12,326 ERROR [stderr] (http-localhost-127.0.0.1-8080-6)   at org.apache.tomcat.util.net.JIoEndpoint$Worker.run(JIoEndpoint.java:930)\n\n    18:53:12,327 ERROR [stderr] (http-localhost-127.0.0.1-8080-6)   at java.lang.Thread.run(Unknown Source)\n\n    18:53:12,328 ERROR [stderr] (http-localhost-127.0.0.1-8080-6) Caused by: org.hibernate.exception.GenericJDBCException: could not\nextract ResultSet\n\n    18:53:12,329 ERROR [stderr] (http-localhost-127.0.0.1-8080-6)   at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:54)\n\n    18:53:12,330 ERROR [stderr] (http-localhost-127.0.0.1-8080-6)   at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:124)\n\n    18:53:12,332 ERROR [stderr] (http-localhost-127.0.0.1-8080-6)   at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:109)\n\n    18:53:12,333 ERROR [stderr] (http-localhost-127.0.0.1-8080-6)   at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:88)\n\n    18:53:12,335 ERROR [stderr] (http-localhost-127.0.0.1-8080-6)   at org.hibernate.loader.Loader.getResultSet(Loader.java:2062)\n\n    18:53:12,336 ERROR [stderr] (http-localhost-127.0.0.1-8080-6)   at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:1859)\n\n    18:53:12,337 ERROR [stderr] (http-localhost-127.0.0.1-8080-6)   at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:1838)\n\n    18:53:12,338 ERROR [stderr] (http-localhost-127.0.0.1-8080-6)   at org.hibernate.loader.Loader.doQuery(Loader.java:906)\n\n    18:53:12,339 ERROR [stderr] (http-localhost-127.0.0.1-8080-6)   at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:348)\n\n    18:53:12,340 ERROR [stderr] (http-localhost-127.0.0.1-8080-6)   at org.hibernate.loader.Loader.doList(Loader.java:2550)\n\n    18:53:12,340 ERROR [stderr] (http-localhost-127.0.0.1-8080-6)   at org.hibernate.loader.Loader.doList(Loader.java:2536)\n\n    18:53:12,341 ERROR [stderr] (http-localhost-127.0.0.1-8080-6)   at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2366)\n\n    18:53:12,342 ERROR [stderr] (http-localhost-127.0.0.1-8080-6)   at org.hibernate.loader.Loader.list(Loader.java:2361)\n\n    18:53:12,342 ERROR [stderr] (http-localhost-127.0.0.1-8080-6)   at org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:495)\n\n    18:53:12,343 ERROR [stderr] (http-localhost-127.0.0.1-8080-6)   at org.hibernate.hql.internal.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:357)\n\n    18:53:12,343 ERROR [stderr] (http-localhost-127.0.0.1-8080-6)   at org.hibernate.engine.query.spi.HQLQueryPlan.performList(HQLQueryPlan.java:198)\n\n    18:53:12,344 ERROR [stderr] (http-localhost-127.0.0.1-8080-6)   at org.hibernate.internal.SessionImpl.list(SessionImpl.java:1230)\n\n    18:53:12,345 ERROR [stderr] (http-localhost-127.0.0.1-8080-6)   at org.hibernate.internal.QueryImpl.list(QueryImpl.java:101)\n\n    18:53:12,345 ERROR [stderr] (http-localhost-127.0.0.1-8080-6)   at org.hibernate.internal.AbstractQueryImpl.uniqueResult(AbstractQueryImpl.java:909)\n\n.\n.\n\n    18:53:12,350 ERROR [stderr] (http-localhost-127.0.0.1-8080-6)   ... 38 more\n\n    18:53:12,351 ERROR [stderr] (http-localhost-127.0.0.1-8080-6) Caused by: com.microsoft.sqlserver.jdbc.SQLServerException: The\nconnection is closed.\n\n    18:53:12,351 ERROR [stderr] (http-localhost-127.0.0.1-8080-6)   at com.microsoft.sqlserver.jdbc.SQLServerException.makeFromDriverError(SQLServerException.java:228)\n\n    18:53:12,352 ERROR [stderr] (http-localhost-127.0.0.1-8080-6)   at com.microsoft.sqlserver.jdbc.SQLServerConnection.checkClosed(SQLServerConnection.java:1007)\n\n    18:53:12,353 ERROR [stderr] (http-localhost-127.0.0.1-8080-6)   at com.microsoft.sqlserver.jdbc.SQLServerStatement.checkClosed(SQLServerStatement.java:1024)\n\n    18:53:12,353 ERROR [stderr] (http-localhost-127.0.0.1-8080-6)   at com.microsoft.sqlserver.jdbc.SQLServerStatement.executeStatement(SQLServerStatement.java:198)\n\n    18:53:12,354 ERROR [stderr] (http-localhost-127.0.0.1-8080-6)   at com.microsoft.sqlserver.jdbc.SQLServerPreparedStatement.executeQuery(SQLServerPreparedStatement.java:401)\n\n    18:53:12,355 ERROR [stderr] (http-localhost-127.0.0.1-8080-6)   at com.mchange.v2.c3p0.impl.NewProxyPreparedStatement.executeQuery(NewProxyPreparedStatement.java:116)\n\n    18:53:12,355 ERROR [stderr] (http-localhost-127.0.0.1-8080-6)   at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:79)\n\n    18:53:12,356 ERROR [stderr] (http-localhost-127.0.0.1-8080-6)   ... 59 more\n</code></pre>\n"},{"tags":["java","spring-boot","gradle","build.gradle"],"answers":[{"comments":[{"owner":{"account_id":12296207,"reputation":1838,"user_id":8971773,"accept_rate":25,"display_name":"Kira Resari"},"score":0,"creation_date":1670832114,"post_id":56640372,"comment_id":131955907,"body_markdown":"Somehow, this doesn&#39;t seem to work for me. Doing it like this _does_ cause the `processResources` step to be skipped in the build, but when I check the JAR that was generated, it still contains the file from `src/main/resources`","body":"Somehow, this doesn&#39;t seem to work for me. Doing it like this <i>does</i> cause the <code>processResources</code> step to be skipped in the build, but when I check the JAR that was generated, it still contains the file from <code>src&#47;main&#47;resources</code>"}],"tags":[],"owner":{"account_id":1914239,"reputation":1799,"user_id":1727204,"accept_rate":41,"display_name":"Ali"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1560818150,"creation_date":1560818150,"answer_id":56640372,"question_id":56624607,"body_markdown":"I was able to exclude resources from appearing in the Jar file by using `processResources.enabled = false`, so the build file is as follows.\r\n\r\n    apply plugin: &#39;distribution&#39;\r\n    \r\n    distributions {\r\n        main {\r\n            baseName = &quot;${project.name}&quot;\r\n            contents {\r\n                into(&#39;/conf&#39;){\r\n                    from(&#39;src/main/resources&#39;)\r\n                    exclude(&quot;application.yml&quot;)\r\n                }\r\n                into(&#39;/lib&#39;){\r\n                    from(&#39;build/libs&#39;)\r\n                }\r\n                into(&#39;/bin&#39;){\r\n                    from(&#39;../bin&#39;)\r\n                }\r\n            }\r\n        }\r\n    }\r\n    \r\n    processResources.enabled = false\r\n    \r\n    distTar {\r\n        dependsOn bootJar\r\n    }\r\n    \r\n    tasks.withType(Tar) {\r\n        compression = Compression.GZIP\r\n        extension = &quot;tar.gz&quot;\r\n    }\r\n    \r\n    configurations {\r\n        customArch\r\n    }\r\n    \r\n    artifacts {\r\n        customArch file(distTar.archivePath)\r\n    }\r\n\r\n","title":"Gradle build: Exclude resources files from Spring Boot Jar file","body":"<p>I was able to exclude resources from appearing in the Jar file by using <code>processResources.enabled = false</code>, so the build file is as follows.</p>\n\n<pre><code>apply plugin: 'distribution'\n\ndistributions {\n    main {\n        baseName = \"${project.name}\"\n        contents {\n            into('/conf'){\n                from('src/main/resources')\n                exclude(\"application.yml\")\n            }\n            into('/lib'){\n                from('build/libs')\n            }\n            into('/bin'){\n                from('../bin')\n            }\n        }\n    }\n}\n\nprocessResources.enabled = false\n\ndistTar {\n    dependsOn bootJar\n}\n\ntasks.withType(Tar) {\n    compression = Compression.GZIP\n    extension = \"tar.gz\"\n}\n\nconfigurations {\n    customArch\n}\n\nartifacts {\n    customArch file(distTar.archivePath)\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12296207,"reputation":1838,"user_id":8971773,"accept_rate":25,"display_name":"Kira Resari"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670832574,"creation_date":1670832574,"answer_id":74768220,"question_id":56624607,"body_markdown":"I found that this solution works for me:\r\n```\r\nprocessResources {\r\n    exclude(&#39;logback-spring.xml&#39;)\r\n}\r\n```\r\n...where `logback-spring.xml` is located in `src/main/resources`","title":"Gradle build: Exclude resources files from Spring Boot Jar file","body":"<p>I found that this solution works for me:</p>\n<pre><code>processResources {\n    exclude('logback-spring.xml')\n}\n</code></pre>\n<p>...where <code>logback-spring.xml</code> is located in <code>src/main/resources</code></p>\n"}],"owner":{"account_id":1914239,"reputation":1799,"user_id":1727204,"accept_rate":41,"display_name":"Ali"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4284,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":56640372,"answer_count":2,"score":4,"last_activity_date":1670832574,"creation_date":1560744562,"question_id":56624607,"body_markdown":"I would like to exclude all config files from the jar file since they will be provided at the provisioning and having a different version in the build path may create some runtime issues. I am using the following Gradle build script, but for some reason, I can still see whatever exist in the resources directory to be copied into the built Jar. Which means for some reason the provided Gradle build is not working as expected.\r\n\r\n\r\n    apply plugin: &#39;distribution&#39;\r\n    \r\n        distributions {\r\n            main {\r\n                baseName = &quot;${project.name}&quot;\r\n                contents {\r\n                    into(&#39;/conf&#39;){\r\n                        from(&#39;src/main/resources&#39;)\r\n                        exclude(&quot;application.yml&quot;)\r\n                    }\r\n                    into(&#39;/lib&#39;){\r\n                        from(&#39;build/libs&#39;)\r\n                    }\r\n                    into(&#39;/bin&#39;){\r\n                        from(&#39;../bin&#39;)\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    \r\n    \r\n        processResources {\r\n            # Not sure how I need to point to the resources, so I included both. However, none is working.\r\n            exclude(&#39;resources/*&#39;)\r\n            exclude(&#39;src/main/resources/*&#39;)\r\n        }\r\n        \r\n        bootJar{\r\n            # Not sure how I need to point to the resources, so I included both. However, none is working.\r\n            exclude(&#39;resources/*&#39;)\r\n            exclude(&#39;src/main/resources/*&#39;)    \r\n        }\r\n        \r\n        distTar {\r\n            dependsOn bootJar\r\n        }\r\n    \r\n        tasks.withType(Tar) {\r\n            compression = Compression.GZIP\r\n            extension = &quot;tar.gz&quot;\r\n        }\r\n    \r\n        configurations {\r\n            customArch\r\n        }\r\n    \r\n        artifacts {\r\n            customArch file(distTar.archivePath)\r\n        }\r\n\r\n","title":"Gradle build: Exclude resources files from Spring Boot Jar file","body":"<p>I would like to exclude all config files from the jar file since they will be provided at the provisioning and having a different version in the build path may create some runtime issues. I am using the following Gradle build script, but for some reason, I can still see whatever exist in the resources directory to be copied into the built Jar. Which means for some reason the provided Gradle build is not working as expected.</p>\n\n<pre><code>apply plugin: 'distribution'\n\n    distributions {\n        main {\n            baseName = \"${project.name}\"\n            contents {\n                into('/conf'){\n                    from('src/main/resources')\n                    exclude(\"application.yml\")\n                }\n                into('/lib'){\n                    from('build/libs')\n                }\n                into('/bin'){\n                    from('../bin')\n                }\n            }\n        }\n    }\n\n\n    processResources {\n        # Not sure how I need to point to the resources, so I included both. However, none is working.\n        exclude('resources/*')\n        exclude('src/main/resources/*')\n    }\n\n    bootJar{\n        # Not sure how I need to point to the resources, so I included both. However, none is working.\n        exclude('resources/*')\n        exclude('src/main/resources/*')    \n    }\n\n    distTar {\n        dependsOn bootJar\n    }\n\n    tasks.withType(Tar) {\n        compression = Compression.GZIP\n        extension = \"tar.gz\"\n    }\n\n    configurations {\n        customArch\n    }\n\n    artifacts {\n        customArch file(distTar.archivePath)\n    }\n</code></pre>\n"},{"tags":["java","selenium","selenium-webdriver","automated-tests","testng"],"comments":[{"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"score":0,"creation_date":1670579182,"post_id":74741089,"comment_id":131911458,"body_markdown":"After the second thought - I&#39;m not sure my previous answer is correct.","body":"After the second thought - I&#39;m not sure my previous answer is correct."}],"answers":[{"tags":[],"owner":{"account_id":27199347,"reputation":11,"user_id":20731814,"display_name":"Akaime"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670832299,"creation_date":1670832299,"answer_id":74768187,"question_id":74741089,"body_markdown":"Turns out that Actions remember their state so one action won&#39;t be done twice in one run.\r\nTo mitigate that, input state has to be reset after the performance, so the Actions think that it will be first run.\r\nTo do this I&#39;ve added following code at the bottom of the function\r\n\r\n    ((RemoteWebDriver) driver).resetInputState();\r\n\r\n\r\nAs a result, entire function looks like this:\r\n\r\n\tpublic void performHoverManageProfiles() {\r\n\t\tactions.moveToElement(myAccountBtn).perform();\r\n\t\tWebElement manageProfilesBtn = driver.findElement(By.xpath(&quot;//*[@id=\\&quot;app\\&quot;]/nav[1]/div/div[2]/div[1]/div[2]/div/a[1]&quot;));\r\n\t\tWebElement clickableManageProfilesBtn = wait.until(ExpectedConditions.elementToBeClickable(manageProfilesBtn));\r\n\t\tclickableManageProfilesBtn.click();\r\n\t\t((RemoteWebDriver) driver).resetInputState();\r\n\t}\r\n\r\nAnd the code is working correctly, doing the second action on each run as expected.","title":"Action called second time does not work on Firefox","body":"<p>Turns out that Actions remember their state so one action won't be done twice in one run.\nTo mitigate that, input state has to be reset after the performance, so the Actions think that it will be first run.\nTo do this I've added following code at the bottom of the function</p>\n<pre><code>((RemoteWebDriver) driver).resetInputState();\n</code></pre>\n<p>As a result, entire function looks like this:</p>\n<pre><code>public void performHoverManageProfiles() {\n    actions.moveToElement(myAccountBtn).perform();\n    WebElement manageProfilesBtn = driver.findElement(By.xpath(&quot;//*[@id=\\&quot;app\\&quot;]/nav[1]/div/div[2]/div[1]/div[2]/div/a[1]&quot;));\n    WebElement clickableManageProfilesBtn = wait.until(ExpectedConditions.elementToBeClickable(manageProfilesBtn));\n    clickableManageProfilesBtn.click();\n    ((RemoteWebDriver) driver).resetInputState();\n}\n</code></pre>\n<p>And the code is working correctly, doing the second action on each run as expected.</p>\n"}],"owner":{"account_id":27199347,"reputation":11,"user_id":20731814,"display_name":"Akaime"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74768187,"answer_count":1,"score":1,"last_activity_date":1670832299,"creation_date":1670577815,"question_id":74741089,"body_markdown":"Test uses the same function containing action twice. On first run it is working correctly and the test case is passed. However running the same function in next case does not trigger the action properly. What I could see so far is that the program thinks that the action is performed, because it fails on the next step, which cannot be done if previous one is not working.\r\n\r\nThe code is run on Chrome and Firefox. Chrome is working correctly, Firefox not.\r\n\r\n\r\n```\r\nprivate Actions actions = new Actions(driver);\r\n\r\n@FindBy(css = &quot;div.o-dropdown:nth-child(3)&quot;)\r\npublic WebElement myAccountBtn;\r\n\r\npublic void hoverProfileGoToManageProfiles() {\r\n   WebElement topNavBar = driver.findElement(By.cssSelector(&quot;.c-navbar__container&quot;));\r\n   wait.until(ExpectedConditions.invisibilityOf(loadingSpinner));\r\n   wait.until(ExpectedConditions.elementToBeClickable(topNavBar));\r\n   performHoverManageProfiles();\r\n}\r\n\r\npublic void performHoverManageProfiles() {\r\n   actions.moveToElement(myAccountBtn).perform();\r\n   WebElement manageProfilesBtn = driver.findElement(By.xpath(&quot;//*[@id=\\&quot;app\\&quot;]/nav[1]/div/div[2]/div[1]/div[2]/div/a[1]&quot;));\r\n   WebElement clickableManageProfilesBtn = wait.until(ExpectedConditions.elementToBeClickable(manageProfilesBtn));\r\n   clickableManageProfilesBtn.click();\r\n}\r\n```\r\nAs you can see, in performHoverManageProfiles() there&#39;s the WebElement which can be found only after action (hover) is done.\r\n\r\nI have tried moving creation of WebElement into the function so it&#39;s found on each run.\r\nAlso the pasted code is already after some changes, that&#39;s why it may be messy, but so far the result is the same - works on Chrome, does not on Firefox.\r\n\r\nAlso tried clearing the myAccountBtn after each run alongside creating it at the beginning of function with no success as well.\r\n\r\nAlso I thought that maybe it is the matter of performance and maybe Firefox is too fast, so I added both Thread.sleep and fluent wait until the website is loaded, but again with no success.\r\n\r\n","title":"Action called second time does not work on Firefox","body":"<p>Test uses the same function containing action twice. On first run it is working correctly and the test case is passed. However running the same function in next case does not trigger the action properly. What I could see so far is that the program thinks that the action is performed, because it fails on the next step, which cannot be done if previous one is not working.</p>\n<p>The code is run on Chrome and Firefox. Chrome is working correctly, Firefox not.</p>\n<pre><code>private Actions actions = new Actions(driver);\n\n@FindBy(css = &quot;div.o-dropdown:nth-child(3)&quot;)\npublic WebElement myAccountBtn;\n\npublic void hoverProfileGoToManageProfiles() {\n   WebElement topNavBar = driver.findElement(By.cssSelector(&quot;.c-navbar__container&quot;));\n   wait.until(ExpectedConditions.invisibilityOf(loadingSpinner));\n   wait.until(ExpectedConditions.elementToBeClickable(topNavBar));\n   performHoverManageProfiles();\n}\n\npublic void performHoverManageProfiles() {\n   actions.moveToElement(myAccountBtn).perform();\n   WebElement manageProfilesBtn = driver.findElement(By.xpath(&quot;//*[@id=\\&quot;app\\&quot;]/nav[1]/div/div[2]/div[1]/div[2]/div/a[1]&quot;));\n   WebElement clickableManageProfilesBtn = wait.until(ExpectedConditions.elementToBeClickable(manageProfilesBtn));\n   clickableManageProfilesBtn.click();\n}\n</code></pre>\n<p>As you can see, in performHoverManageProfiles() there's the WebElement which can be found only after action (hover) is done.</p>\n<p>I have tried moving creation of WebElement into the function so it's found on each run.\nAlso the pasted code is already after some changes, that's why it may be messy, but so far the result is the same - works on Chrome, does not on Firefox.</p>\n<p>Also tried clearing the myAccountBtn after each run alongside creating it at the beginning of function with no success as well.</p>\n<p>Also I thought that maybe it is the matter of performance and maybe Firefox is too fast, so I added both Thread.sleep and fluent wait until the website is loaded, but again with no success.</p>\n"},{"tags":["java","mongodb","aggregation-framework"],"answers":[{"comments":[{"owner":{"account_id":25324451,"reputation":47,"user_id":20664080,"display_name":"YourDaddyProgrammer"},"score":0,"creation_date":1670747765,"post_id":74751669,"comment_id":131941372,"body_markdown":"ReplaceWithOperation/ObjectOperators/UnsetOperation, can not find these classes","body":"ReplaceWithOperation/ObjectOperators/UnsetOperation, can not find these classes"},{"owner":{"account_id":25324451,"reputation":47,"user_id":20664080,"display_name":"YourDaddyProgrammer"},"score":0,"creation_date":1670825265,"post_id":74751669,"comment_id":131954538,"body_markdown":"Not working.\nIt gives me too many statuses and an incorrect amount of them","body":"Not working. It gives me too many statuses and an incorrect amount of them"},{"owner":{"account_id":16221107,"reputation":83,"user_id":11712628,"display_name":"Ashish"},"score":0,"creation_date":1670826996,"post_id":74751669,"comment_id":131954815,"body_markdown":"ReplaceWithOperation/ObjectOperators/UnsetOperation are imported from -\n`import org.springframework.data.mongodb.core.aggregation.*`\n\nAs per your question you were trying to `group` using both `createdAt` &amp; `status` [combination group] so ofcourse you will be getting too many statuses. What is it you were trying to achieve ?","body":"ReplaceWithOperation/ObjectOperators/UnsetOperation are imported from - <code>import org.springframework.data.mongodb.core.aggregation.*</code>  As per your question you were trying to <code>group</code> using both <code>createdAt</code> &amp; <code>status</code> [combination group] so ofcourse you will be getting too many statuses. What is it you were trying to achieve ?"},{"owner":{"account_id":25324451,"reputation":47,"user_id":20664080,"display_name":"YourDaddyProgrammer"},"score":0,"creation_date":1670827585,"post_id":74751669,"comment_id":131954916,"body_markdown":"I try to get documents by every year in the spring framework using ``Aggregation`` class","body":"I try to get documents by every year in the spring framework using <code>Aggregation</code> class"},{"owner":{"account_id":16221107,"reputation":83,"user_id":11712628,"display_name":"Ashish"},"score":0,"creation_date":1670832277,"post_id":74751669,"comment_id":131955934,"body_markdown":"check the updated answer. Have added Project stage before Group","body":"check the updated answer. Have added Project stage before Group"},{"owner":{"account_id":25324451,"reputation":47,"user_id":20664080,"display_name":"YourDaddyProgrammer"},"score":0,"creation_date":1670833474,"post_id":74751669,"comment_id":131956227,"body_markdown":"Now it&#39;s working, you are the best! &lt;3","body":"Now it&#39;s working, you are the best! &lt;3"}],"tags":[],"owner":{"account_id":16221107,"reputation":83,"user_id":11712628,"display_name":"Ashish"},"comment_count":6,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1670832265,"creation_date":1670663677,"answer_id":74751669,"question_id":74751032,"body_markdown":"Try this\r\n\r\n \r\n\r\n    AggregationResults&lt;Object&gt; results = mongoOperations.aggregate(\r\n                Aggregation.newAggregation(\r\n                        Aggregation.project(&quot;status&quot;).and(DateOperators.Year.yearOf(&quot;createdAt&quot;)).as(&quot;year&quot;),\r\n                        Aggregation.group(\r\n                                Fields.from(\r\n                                        Fields.field(&quot;year&quot;, &quot;year&quot;),\r\n                                        Fields.field(&quot;status&quot;, &quot;status&quot;)\r\n                                )\r\n                        ).count().as(&quot;count&quot;),\r\n                        ReplaceWithOperation.replaceWithValueOf(\r\n                                ObjectOperators.MergeObjects.mergeValuesOf(&quot;$_id&quot;).mergeWith(&quot;$$ROOT&quot;)\r\n                        ),\r\n                        UnsetOperation.unset(&quot;_id&quot;)\r\n                ),\r\n                &quot;collection&quot;,\r\n                Object.class\r\n        );","title":"How to convert MongoDB $group and count/$sum aggregation to a Java Object using Aggregation?","body":"<p>Try this</p>\n<pre><code>AggregationResults&lt;Object&gt; results = mongoOperations.aggregate(\n            Aggregation.newAggregation(\n                    Aggregation.project(&quot;status&quot;).and(DateOperators.Year.yearOf(&quot;createdAt&quot;)).as(&quot;year&quot;),\n                    Aggregation.group(\n                            Fields.from(\n                                    Fields.field(&quot;year&quot;, &quot;year&quot;),\n                                    Fields.field(&quot;status&quot;, &quot;status&quot;)\n                            )\n                    ).count().as(&quot;count&quot;),\n                    ReplaceWithOperation.replaceWithValueOf(\n                            ObjectOperators.MergeObjects.mergeValuesOf(&quot;$_id&quot;).mergeWith(&quot;$$ROOT&quot;)\n                    ),\n                    UnsetOperation.unset(&quot;_id&quot;)\n            ),\n            &quot;collection&quot;,\n            Object.class\n    );\n</code></pre>\n"}],"owner":{"account_id":25324451,"reputation":47,"user_id":20664080,"display_name":"YourDaddyProgrammer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":312,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74751669,"answer_count":1,"score":1,"last_activity_date":1670832265,"creation_date":1670655951,"question_id":74751032,"body_markdown":"I have a MongoDB query, which allows you to sum `status` field and get Documents yearly:\r\n\r\n```\r\ndb.collection.aggregate([\r\n    {\r\n        $group: {\r\n            _id: {\r\n                year: { \r\n                        $year: &quot;$createdAt&quot; \r\n                },\r\n                status: &quot;$status&quot;\r\n            },\r\n            count: { \r\n                     $sum: 1\r\n            }\r\n        }\r\n    },\r\n    { $replaceWith: { $mergeObjects: [ &quot;$_id&quot;, &quot;$$ROOT&quot; ] } },\r\n    { $unset: &quot;_id&quot; }\r\n])\r\n```\r\n\r\nI want to translate it into ``Java Aggregation`` and send query with ``MongoOperations``.\r\nI&#39;m doing it like that:\r\n\r\n```java\r\nGroupOperation groupOperation = Aggregation.group(Fields.fields(&quot;$createdAt&quot;)).sum(String.valueOf(1)).as(&quot;yearly&quot;);\r\nAggregation aggregation = Aggregation.newAggregation(groupOperation);\r\nAggregationResults&lt;String&gt; strings = mongoOperations.aggregate(aggregation, &quot;collection&quot;, String.class);\r\n```\r\n\r\nBut it&#39;s not working.\r\nCan someone help me with a solution to this problem?\r\n\r\nI try many ways, with `count`, `sum`, but it does not work","title":"How to convert MongoDB $group and count/$sum aggregation to a Java Object using Aggregation?","body":"<p>I have a MongoDB query, which allows you to sum <code>status</code> field and get Documents yearly:</p>\n<pre><code>db.collection.aggregate([\n    {\n        $group: {\n            _id: {\n                year: { \n                        $year: &quot;$createdAt&quot; \n                },\n                status: &quot;$status&quot;\n            },\n            count: { \n                     $sum: 1\n            }\n        }\n    },\n    { $replaceWith: { $mergeObjects: [ &quot;$_id&quot;, &quot;$$ROOT&quot; ] } },\n    { $unset: &quot;_id&quot; }\n])\n</code></pre>\n<p>I want to translate it into <code>Java Aggregation</code> and send query with <code>MongoOperations</code>.\nI'm doing it like that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>GroupOperation groupOperation = Aggregation.group(Fields.fields(&quot;$createdAt&quot;)).sum(String.valueOf(1)).as(&quot;yearly&quot;);\nAggregation aggregation = Aggregation.newAggregation(groupOperation);\nAggregationResults&lt;String&gt; strings = mongoOperations.aggregate(aggregation, &quot;collection&quot;, String.class);\n</code></pre>\n<p>But it's not working.\nCan someone help me with a solution to this problem?</p>\n<p>I try many ways, with <code>count</code>, <code>sum</code>, but it does not work</p>\n"},{"tags":["java","android","react-native"],"owner":{"account_id":26862943,"reputation":121,"user_id":20446120,"display_name":"lol69"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":217,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1670832159,"creation_date":1670832159,"question_id":74768169,"body_markdown":"building native views in android side so can use it in react-native, problem is that in the first render i can create many instance i want, but when navigating to a new screen and using the same component to create the same native view i get this error: \r\n\r\n```\r\n  java.lang.IllegalArgumentException: No view found for id 0x93c3 (unknown) for fragment MyFragment{4660a7b} (1fddb7f4-9894-4da7-a39c-ae82aadfd9aa id=0x93c3 tag=37827)\r\n   ```\r\nim following the same example as the docs: https://reactnative.dev/docs/native-components-android#integration-with-an-android-fragment-example just changing its value for mine, but still getting the error.\r\n\r\nin android side i have this:\r\n\r\n```\r\n//class where i create my fragment\r\n\r\npublic class MyViewManager extends ViewGroupManager&lt;FrameLayout&gt; {\r\n\r\n    public static final String REACT_CLASS = &quot;MyViewManager&quot;;\r\n    public final int COMMAND_CREATE = 1;\r\n    private int propWidth;\r\n    private int propHeight;\r\n    private int old_value = 0;\r\n    protected String zone_id;\r\n    private String publisher_id;\r\n    FragmentManager fragmet;\r\n    private ReactApplicationContext reactContext;\r\n\r\n    public MyViewManager(ReactApplicationContext reactContext) {\r\n        this.reactContext = reactContext;\r\n    }\r\n\r\n    @Override\r\n    public String getName() {\r\n        return REACT_CLASS;\r\n    }\r\n\r\n    /**\r\n     * Return a FrameLayout which will later hold the Fragment\r\n     */\r\n    @Override\r\n    public FrameLayout createViewInstance(ThemedReactContext reactContext) {\r\n        return new FrameLayout(reactContext);\r\n    }\r\n\r\n    /**\r\n     * Map the &quot;create&quot; command to an integer\r\n     */\r\n    @Nullable\r\n    @Override\r\n    public Map&lt;String, Integer&gt; getCommandsMap() {\r\n        return MapBuilder.of(&quot;create&quot;, COMMAND_CREATE);\r\n    }\r\n\r\n    /**\r\n     * Handle &quot;create&quot; command (called from JS) and call createFragment method\r\n     */\r\n    @Override\r\n    public void receiveCommand(\r\n            @NonNull FrameLayout root,\r\n            String commandId,\r\n            @Nullable ReadableArray args\r\n    ) {\r\n        super.receiveCommand(root, commandId, args);\r\n        int reactNativeViewId = args.getInt(0);\r\n        int commandIdInt = Integer.parseInt(commandId);\r\n        this.old_value = reactNativeViewId;\r\n\r\n        switch (commandIdInt) {\r\n            case COMMAND_CREATE:\r\n                Log.e(&quot;MediumRectangle&quot;, &quot;EJECUTAMOS AQUQUIQ&quot; + Integer.toString(reactNativeViewId));\r\n                createFragment(root, reactNativeViewId);\r\n                break;\r\n            default: {}\r\n        }\r\n    }\r\n\r\n    @ReactPropGroup(names = {&quot;width&quot;, &quot;height&quot;, &quot;backgroundColor&quot;}, customType = &quot;Style&quot;)\r\n    public void setStyle(FrameLayout view, int index, Integer value) {\r\n        if (index == 0) {\r\n            propWidth = value;\r\n        }\r\n\r\n        if (index == 1) {\r\n            propHeight = value;\r\n        }\r\n    }\r\n\r\n    @ReactProp(name = &quot;zone_id&quot;)\r\n    public void setAdType(FrameLayout view, String zone_id) {\r\n        this.zone_id = zone_id;\r\n    }\r\n\r\n    @ReactProp(name = &quot;publisher_id&quot;)\r\n    public void setPublisherId(FrameLayout view, String publisher_id) {\r\n        this.publisher_id = publisher_id;\r\n    }\r\n\r\n    /**\r\n     * Replace your React Native view with a custom fragment\r\n     */\r\n    public void createFragment(FrameLayout root, int reactNativeViewId) {\r\n\r\n        Log.e(&quot;MediumRectangle&quot;, &quot;CRAETETETT FRAGMEENTNETETTE fragment&quot; + Integer.toString(reactNativeViewId));\r\n\r\n        ViewGroup parentView = (ViewGroup) root.findViewById(reactNativeViewId);\r\n        setupLayout(parentView);\r\n\r\n        final MyFragment myFragment = new MyFragment(reactNativeViewId, this.reactContext, this.zone_id, publisher_id);\r\n        FragmentActivity activity = (FragmentActivity) reactContext.getCurrentActivity();\r\n        activity.getSupportFragmentManager()\r\n            .beginTransaction()\r\n            .replace(reactNativeViewId, myFragment, String.valueOf(reactNativeViewId))\r\n            .commit();\r\n\r\n        FragmentManager fragmentManager = activity.getSupportFragmentManager();\r\n        MyFragment fragment = (MyFragment) fragmentManager.findFragmentById(reactNativeViewId);\r\n        if (fragment ==  null) {\r\n            Log.e(&quot;MediumRectangle&quot;, &quot;existetet viwewe&quot;);\r\n        }else {\r\n            Log.e(&quot;MediumRectangle&quot;, &quot;no existete view&quot;);\r\n        }\r\n    }\r\n\r\n    public void setupLayout(View view) {\r\n        Choreographer.getInstance().postFrameCallback(new Choreographer.FrameCallback() {\r\n            @Override\r\n            public void doFrame(long frameTimeNanos) {\r\n                manuallyLayoutChildren(view);\r\n                view.getViewTreeObserver().dispatchOnGlobalLayout();\r\n                Choreographer.getInstance().postFrameCallback(this);\r\n            }\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Layout all children properly\r\n     */\r\n    public void manuallyLayoutChildren(View view) {\r\n        // propWidth and propHeight coming from react-native props\r\n        int width = propWidth;\r\n        int height = propHeight;\r\n\r\n        view.measure(\r\n                View.MeasureSpec.makeMeasureSpec(width, View.MeasureSpec.EXACTLY),\r\n                View.MeasureSpec.makeMeasureSpec(height, View.MeasureSpec.EXACTLY));\r\n\r\n        view.layout(0, 0, width, height);\r\n    }\r\n}\r\n\r\n```\r\n\r\n```\r\n// class of my fragment\r\n\r\npublic class MyFragment extends Fragment {\r\n\r\n    CustomView customView;\r\n\r\n    int viewID;\r\n    ReactApplicationContext reactContext;\r\n    String zone_id;\r\n    String publisher_id;\r\n\r\n    protected int getContentViewLayoutId() { return R.layout.activity_display_ad_test; }\r\n    protected int getAdContainerLayoutId() { return R.id.engage_ad; }\r\n\r\n    public MyFragment(int reactNativeViewId, ReactApplicationContext reactContext, String zone_id, String publisher_id) {\r\n        this.viewID = reactNativeViewId;\r\n        this.reactContext = reactContext;\r\n        this.zone_id = zone_id;\r\n        this.publisher_id = publisher_id;\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup parent, Bundle savedInstanceState) {\r\n        super.onCreateView(inflater, parent, savedInstanceState);\r\n        customView = new CustomView(this.getContext(), this.reactContext, this.publisher_id);\r\n        return customView; // this CustomView could be any view that you want to render\r\n    }\r\n\r\n    @Override\r\n    public void onViewCreated(View view, Bundle savedInstanceState) {\r\n        super.onViewCreated(view, savedInstanceState);\r\n        // do any logic that should happen in an `onCreate` method, e.g:\r\n        //customView.onCreate(savedInstanceState);\r\n    }\r\n\r\n    @Override\r\n    public void onPause() {\r\n        super.onPause();\r\n        // do any logic that should happen in an `onPause` method\r\n        // e.g.: customView.onPause();\r\n    }\r\n\r\n    @Override\r\n    public void onResume() {\r\n        super.onResume();\r\n        // do any logic that should happen in an `onResume` method\r\n        // e.g.: customView.onResume();\r\n    }\r\n\r\n    @Override\r\n    public void onDestroy() {\r\n        super.onDestroy();\r\n        // do any logic that should happen in an `onDestroy` method\r\n        // e.g.: customView.onDestroy();\r\n    }\r\n\r\n}\r\n```\r\n\r\nand this is the custom view that will appear in the fragment:\r\n\r\n```\r\n\r\npublic class CustomView extends FrameLayout implements AdExecutor.AdLoadCallback, IMAdEngage.AdEventCallback {\r\n\r\n    private IMAdSdk sdk_;\r\n    private ReactApplicationContext context;\r\n    private EngageAd banner;\r\n    private ViewGroup container;\r\n    private String zone_id;\r\n\r\n    protected int getContentViewLayoutId() { return R.layout.activity_display_ad_test; }\r\n    protected int getAdContainerLayoutId() { return R.id.engage_ad; }\r\n\r\n    public CustomView(@NonNull Context context, ReactApplicationContext reactContext, String publisher_id) {\r\n\r\n        super(context);\r\n\r\n        // set padding and background color\r\n        this.setPadding(16,16,16,16);\r\n        this.setBackgroundColor(Color.parseColor(&quot;#5FD3F3&quot;));\r\n\r\n        // add default text view\r\n        TextView text = new TextView(context);\r\n        text.setText(&quot;Welcome to Android Fragments with React Native.&quot;);\r\n        this.addView(text);\r\n\r\n     }\r\n}\r\n```\r\n\r\nin javascript side i just do:\r\n\r\n```\r\nimport React, { useEffect, useState, useRef } from &quot;react&quot;;\r\nimport { requireNativeComponent, PixelRatio, UIManager, findNodeHandle, Dimensions, View } from &#39;react-native&#39;;\r\n\r\nconst MyViewManager = requireNativeComponent(&#39;MyViewManager&#39;);\r\n\r\nconst Innity = () =&gt; {\r\n\r\n  const AD_HEIGHT = PixelRatio.getPixelSizeForLayoutSize(250);\r\n  const AD_WIDTH = PixelRatio.getPixelSizeForLayoutSize(Dimensions.get(&quot;window&quot;).width);\r\n\r\n  const ref = useRef(null);\r\n  const id_ref = useRef(null);\r\n  const [id, setID] = useState(null);\r\n\r\n  useEffect(() =&gt; {\r\n    create();\r\n  }, []);\r\n\r\n  const create = () =&gt; {\r\n    const viewId = findNodeHandle(ref.current);\r\n      UIManager.dispatchViewManagerCommand(\r\n        viewId,\r\n        // we are calling the &#39;create&#39; command\r\n        UIManager.MyViewManager.Commands.create.toString(),\r\n        [viewId],\r\n      );\r\n    }\r\n  }\r\n\r\n  return (\r\n    &lt;View\r\n      style = {{\r\n        height: 250,\r\n        backgroundColor: &quot;transparent&quot;\r\n      }}\r\n    &gt;\r\n      &lt;MyViewManager\r\n        style={{\r\n            height: AD_HEIGHT,\r\n            width: AD_WIDTH\r\n        }}\r\n        zone_id = {&quot;medium_rectangle&quot;}\r\n        publisher_id = {&quot;5613&quot;}\r\n        ref={ref}\r\n      &gt;\r\n      &lt;/MyViewManager&gt; \r\n    &lt;/View&gt;\r\n  );\r\n}\r\n\r\nexport default Innity;\r\n```\r\n\r\nin works in the first render, but like i said when navigation to a new screen and trying to create new instance the error comes out, it has something to do with fragment in android but im newbiew with android studio so dont what to do, searched and tried everything","title":"java.lang.IllegalArgumentException: No view found for id 0x93c3(unknown) for fragment {4660a7b} - (react-native - android)","body":"<p>building native views in android side so can use it in react-native, problem is that in the first render i can create many instance i want, but when navigating to a new screen and using the same component to create the same native view i get this error:</p>\n<pre><code>  java.lang.IllegalArgumentException: No view found for id 0x93c3 (unknown) for fragment MyFragment{4660a7b} (1fddb7f4-9894-4da7-a39c-ae82aadfd9aa id=0x93c3 tag=37827)\n</code></pre>\n<p>im following the same example as the docs: <a href=\"https://reactnative.dev/docs/native-components-android#integration-with-an-android-fragment-example\" rel=\"nofollow noreferrer\">https://reactnative.dev/docs/native-components-android#integration-with-an-android-fragment-example</a> just changing its value for mine, but still getting the error.</p>\n<p>in android side i have this:</p>\n<pre><code>//class where i create my fragment\n\npublic class MyViewManager extends ViewGroupManager&lt;FrameLayout&gt; {\n\n    public static final String REACT_CLASS = &quot;MyViewManager&quot;;\n    public final int COMMAND_CREATE = 1;\n    private int propWidth;\n    private int propHeight;\n    private int old_value = 0;\n    protected String zone_id;\n    private String publisher_id;\n    FragmentManager fragmet;\n    private ReactApplicationContext reactContext;\n\n    public MyViewManager(ReactApplicationContext reactContext) {\n        this.reactContext = reactContext;\n    }\n\n    @Override\n    public String getName() {\n        return REACT_CLASS;\n    }\n\n    /**\n     * Return a FrameLayout which will later hold the Fragment\n     */\n    @Override\n    public FrameLayout createViewInstance(ThemedReactContext reactContext) {\n        return new FrameLayout(reactContext);\n    }\n\n    /**\n     * Map the &quot;create&quot; command to an integer\n     */\n    @Nullable\n    @Override\n    public Map&lt;String, Integer&gt; getCommandsMap() {\n        return MapBuilder.of(&quot;create&quot;, COMMAND_CREATE);\n    }\n\n    /**\n     * Handle &quot;create&quot; command (called from JS) and call createFragment method\n     */\n    @Override\n    public void receiveCommand(\n            @NonNull FrameLayout root,\n            String commandId,\n            @Nullable ReadableArray args\n    ) {\n        super.receiveCommand(root, commandId, args);\n        int reactNativeViewId = args.getInt(0);\n        int commandIdInt = Integer.parseInt(commandId);\n        this.old_value = reactNativeViewId;\n\n        switch (commandIdInt) {\n            case COMMAND_CREATE:\n                Log.e(&quot;MediumRectangle&quot;, &quot;EJECUTAMOS AQUQUIQ&quot; + Integer.toString(reactNativeViewId));\n                createFragment(root, reactNativeViewId);\n                break;\n            default: {}\n        }\n    }\n\n    @ReactPropGroup(names = {&quot;width&quot;, &quot;height&quot;, &quot;backgroundColor&quot;}, customType = &quot;Style&quot;)\n    public void setStyle(FrameLayout view, int index, Integer value) {\n        if (index == 0) {\n            propWidth = value;\n        }\n\n        if (index == 1) {\n            propHeight = value;\n        }\n    }\n\n    @ReactProp(name = &quot;zone_id&quot;)\n    public void setAdType(FrameLayout view, String zone_id) {\n        this.zone_id = zone_id;\n    }\n\n    @ReactProp(name = &quot;publisher_id&quot;)\n    public void setPublisherId(FrameLayout view, String publisher_id) {\n        this.publisher_id = publisher_id;\n    }\n\n    /**\n     * Replace your React Native view with a custom fragment\n     */\n    public void createFragment(FrameLayout root, int reactNativeViewId) {\n\n        Log.e(&quot;MediumRectangle&quot;, &quot;CRAETETETT FRAGMEENTNETETTE fragment&quot; + Integer.toString(reactNativeViewId));\n\n        ViewGroup parentView = (ViewGroup) root.findViewById(reactNativeViewId);\n        setupLayout(parentView);\n\n        final MyFragment myFragment = new MyFragment(reactNativeViewId, this.reactContext, this.zone_id, publisher_id);\n        FragmentActivity activity = (FragmentActivity) reactContext.getCurrentActivity();\n        activity.getSupportFragmentManager()\n            .beginTransaction()\n            .replace(reactNativeViewId, myFragment, String.valueOf(reactNativeViewId))\n            .commit();\n\n        FragmentManager fragmentManager = activity.getSupportFragmentManager();\n        MyFragment fragment = (MyFragment) fragmentManager.findFragmentById(reactNativeViewId);\n        if (fragment ==  null) {\n            Log.e(&quot;MediumRectangle&quot;, &quot;existetet viwewe&quot;);\n        }else {\n            Log.e(&quot;MediumRectangle&quot;, &quot;no existete view&quot;);\n        }\n    }\n\n    public void setupLayout(View view) {\n        Choreographer.getInstance().postFrameCallback(new Choreographer.FrameCallback() {\n            @Override\n            public void doFrame(long frameTimeNanos) {\n                manuallyLayoutChildren(view);\n                view.getViewTreeObserver().dispatchOnGlobalLayout();\n                Choreographer.getInstance().postFrameCallback(this);\n            }\n        });\n    }\n\n    /**\n     * Layout all children properly\n     */\n    public void manuallyLayoutChildren(View view) {\n        // propWidth and propHeight coming from react-native props\n        int width = propWidth;\n        int height = propHeight;\n\n        view.measure(\n                View.MeasureSpec.makeMeasureSpec(width, View.MeasureSpec.EXACTLY),\n                View.MeasureSpec.makeMeasureSpec(height, View.MeasureSpec.EXACTLY));\n\n        view.layout(0, 0, width, height);\n    }\n}\n\n</code></pre>\n<pre><code>// class of my fragment\n\npublic class MyFragment extends Fragment {\n\n    CustomView customView;\n\n    int viewID;\n    ReactApplicationContext reactContext;\n    String zone_id;\n    String publisher_id;\n\n    protected int getContentViewLayoutId() { return R.layout.activity_display_ad_test; }\n    protected int getAdContainerLayoutId() { return R.id.engage_ad; }\n\n    public MyFragment(int reactNativeViewId, ReactApplicationContext reactContext, String zone_id, String publisher_id) {\n        this.viewID = reactNativeViewId;\n        this.reactContext = reactContext;\n        this.zone_id = zone_id;\n        this.publisher_id = publisher_id;\n    }\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup parent, Bundle savedInstanceState) {\n        super.onCreateView(inflater, parent, savedInstanceState);\n        customView = new CustomView(this.getContext(), this.reactContext, this.publisher_id);\n        return customView; // this CustomView could be any view that you want to render\n    }\n\n    @Override\n    public void onViewCreated(View view, Bundle savedInstanceState) {\n        super.onViewCreated(view, savedInstanceState);\n        // do any logic that should happen in an `onCreate` method, e.g:\n        //customView.onCreate(savedInstanceState);\n    }\n\n    @Override\n    public void onPause() {\n        super.onPause();\n        // do any logic that should happen in an `onPause` method\n        // e.g.: customView.onPause();\n    }\n\n    @Override\n    public void onResume() {\n        super.onResume();\n        // do any logic that should happen in an `onResume` method\n        // e.g.: customView.onResume();\n    }\n\n    @Override\n    public void onDestroy() {\n        super.onDestroy();\n        // do any logic that should happen in an `onDestroy` method\n        // e.g.: customView.onDestroy();\n    }\n\n}\n</code></pre>\n<p>and this is the custom view that will appear in the fragment:</p>\n<pre><code>\npublic class CustomView extends FrameLayout implements AdExecutor.AdLoadCallback, IMAdEngage.AdEventCallback {\n\n    private IMAdSdk sdk_;\n    private ReactApplicationContext context;\n    private EngageAd banner;\n    private ViewGroup container;\n    private String zone_id;\n\n    protected int getContentViewLayoutId() { return R.layout.activity_display_ad_test; }\n    protected int getAdContainerLayoutId() { return R.id.engage_ad; }\n\n    public CustomView(@NonNull Context context, ReactApplicationContext reactContext, String publisher_id) {\n\n        super(context);\n\n        // set padding and background color\n        this.setPadding(16,16,16,16);\n        this.setBackgroundColor(Color.parseColor(&quot;#5FD3F3&quot;));\n\n        // add default text view\n        TextView text = new TextView(context);\n        text.setText(&quot;Welcome to Android Fragments with React Native.&quot;);\n        this.addView(text);\n\n     }\n}\n</code></pre>\n<p>in javascript side i just do:</p>\n<pre><code>import React, { useEffect, useState, useRef } from &quot;react&quot;;\nimport { requireNativeComponent, PixelRatio, UIManager, findNodeHandle, Dimensions, View } from 'react-native';\n\nconst MyViewManager = requireNativeComponent('MyViewManager');\n\nconst Innity = () =&gt; {\n\n  const AD_HEIGHT = PixelRatio.getPixelSizeForLayoutSize(250);\n  const AD_WIDTH = PixelRatio.getPixelSizeForLayoutSize(Dimensions.get(&quot;window&quot;).width);\n\n  const ref = useRef(null);\n  const id_ref = useRef(null);\n  const [id, setID] = useState(null);\n\n  useEffect(() =&gt; {\n    create();\n  }, []);\n\n  const create = () =&gt; {\n    const viewId = findNodeHandle(ref.current);\n      UIManager.dispatchViewManagerCommand(\n        viewId,\n        // we are calling the 'create' command\n        UIManager.MyViewManager.Commands.create.toString(),\n        [viewId],\n      );\n    }\n  }\n\n  return (\n    &lt;View\n      style = {{\n        height: 250,\n        backgroundColor: &quot;transparent&quot;\n      }}\n    &gt;\n      &lt;MyViewManager\n        style={{\n            height: AD_HEIGHT,\n            width: AD_WIDTH\n        }}\n        zone_id = {&quot;medium_rectangle&quot;}\n        publisher_id = {&quot;5613&quot;}\n        ref={ref}\n      &gt;\n      &lt;/MyViewManager&gt; \n    &lt;/View&gt;\n  );\n}\n\nexport default Innity;\n</code></pre>\n<p>in works in the first render, but like i said when navigation to a new screen and trying to create new instance the error comes out, it has something to do with fragment in android but im newbiew with android studio so dont what to do, searched and tried everything</p>\n"},{"tags":["java","swing","user-interface","event-handling","awt"],"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":1,"creation_date":1376074934,"post_id":18153613,"comment_id":26590705,"body_markdown":"To explore, you can intercept events, as shown [here](http://stackoverflow.com/q/3158254/230513).","body":"To explore, you can intercept events, as shown <a href=\"http://stackoverflow.com/q/3158254/230513\">here</a>."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1376077696,"post_id":18153613,"comment_id":26592042,"body_markdown":"Ten _million_! `setCoalesce(false)`?","body":"Ten <i>million</i>! <code>setCoalesce(false)</code>?"},{"owner":{"account_id":7913,"reputation":33220,"user_id":13940,"accept_rate":58,"display_name":"Greg Mattes"},"score":0,"creation_date":1376077853,"post_id":18153613,"comment_id":26592121,"body_markdown":"Nope. Already thought of that and scanned for it. Not turning off the coalesce logic.","body":"Nope. Already thought of that and scanned for it. Not turning off the coalesce logic."}],"answers":[{"comments":[{"owner":{"account_id":2808454,"reputation":14373,"user_id":2415194,"accept_rate":87,"display_name":"nachokk"},"score":0,"creation_date":1376397587,"post_id":18204557,"comment_id":26688826,"body_markdown":"&quot;copy-pasting&quot; what is that??, he can extend `EventQueu` and then `push` his own implementation..","body":"&quot;copy-pasting&quot; what is that??, he can extend <code>EventQueu</code> and then <code>push</code> his own implementation.."},{"owner":{"account_id":73706,"reputation":1936,"user_id":212115,"accept_rate":67,"display_name":"Jelle Fresen"},"score":0,"creation_date":1377027370,"post_id":18204557,"comment_id":26926987,"body_markdown":"The problem is that you need to modify private methods, which means re-implementing them. Since all code from java.awt.EventQueue calls their &#39;own&#39; private methods, you also need to re-implement those methods. This chain of re-implementation only stops when you reach public or protected methods. Furthermore, if the chain contains methods with default visibility which are called from elsewhere in java.awt, it becomes impossible to redirect all invocations to the private methods to your own implementations. For all practical purposes, I think it is better to copy-paste.","body":"The problem is that you need to modify private methods, which means re-implementing them. Since all code from java.awt.EventQueue calls their &#39;own&#39; private methods, you also need to re-implement those methods. This chain of re-implementation only stops when you reach public or protected methods. Furthermore, if the chain contains methods with default visibility which are called from elsewhere in java.awt, it becomes impossible to redirect all invocations to the private methods to your own implementations. For all practical purposes, I think it is better to copy-paste."}],"tags":[],"owner":{"account_id":73706,"reputation":1936,"user_id":212115,"accept_rate":67,"display_name":"Jelle Fresen"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1670831813,"creation_date":1376383670,"answer_id":18204557,"question_id":18153613,"body_markdown":"Interesting subject. I&#39;ve investigated the `EventQueue` code a bit, and while I haven&#39;t solved your problem, I may have some useful pointers:\r\n\r\n 1. Oracle&#39;s implementation of `EventQueue` doesn&#39;t keep a size variable, so unless you take over complete control of the `EventQueue` (see 3), there&#39;s no way you&#39;re going to do better than a linear scan of the queue when using Oracle&#39;s JRE.\r\n 2. You can write you&#39;re own `EventQueue` (probably copy-pasting Oracle&#39;s implementation plus some tweaking** will be the easiest) and use `EventQueue.push(EventQueue)` to install your own implementation. All events in the queue will be transferred to your queue, so you can count them as they are posted to your queue. Unfortunately, this is still a linear scan, but at least now it&#39;s platform independent.\r\n 3. Alternatively, you could install your own `EventQueue` implementation (see 2) as soon as possible after the original event queue has been created (do this in a static code block at the start of the class that contains your main method). Then, your implementation can count all events as they are posted and you don&#39;t have to scan the queue when you want to know the size. You&#39;ll just have to hope no one else pushes their own `EventQueue` on top of yours ;)\r\n\r\n** Some tweaking: I haven&#39;t tried this, but I would strip all public/protected static code (everyone that references those methods/variables uses `java.awt.EventQueue` anyway, and so can you), add the size variable and update this variable in the following four methods: `postEvent(AWTEvent, int)`, `getNextEventPrivate()`, `getNextEvent(int)` and `removeSourceEvent(Object, boolean)`.\r\n\r\nA big issue with this modification is the fact that the `EventQueue` makes some calls to AWT methods with default visibility (for example, `Toolkit.getEventQueue()` and `Component.getAccessControlContext()`), which you are not allowed to call since your implementation will be in a different package. You&#39;ll have to find a workaround for each case individually.","title":"How to report AWT/Swing event queue length programmatically?","body":"<p>Interesting subject. I've investigated the <code>EventQueue</code> code a bit, and while I haven't solved your problem, I may have some useful pointers:</p>\n<ol>\n<li>Oracle's implementation of <code>EventQueue</code> doesn't keep a size variable, so unless you take over complete control of the <code>EventQueue</code> (see 3), there's no way you're going to do better than a linear scan of the queue when using Oracle's JRE.</li>\n<li>You can write you're own <code>EventQueue</code> (probably copy-pasting Oracle's implementation plus some tweaking** will be the easiest) and use <code>EventQueue.push(EventQueue)</code> to install your own implementation. All events in the queue will be transferred to your queue, so you can count them as they are posted to your queue. Unfortunately, this is still a linear scan, but at least now it's platform independent.</li>\n<li>Alternatively, you could install your own <code>EventQueue</code> implementation (see 2) as soon as possible after the original event queue has been created (do this in a static code block at the start of the class that contains your main method). Then, your implementation can count all events as they are posted and you don't have to scan the queue when you want to know the size. You'll just have to hope no one else pushes their own <code>EventQueue</code> on top of yours ;)</li>\n</ol>\n<p>** Some tweaking: I haven't tried this, but I would strip all public/protected static code (everyone that references those methods/variables uses <code>java.awt.EventQueue</code> anyway, and so can you), add the size variable and update this variable in the following four methods: <code>postEvent(AWTEvent, int)</code>, <code>getNextEventPrivate()</code>, <code>getNextEvent(int)</code> and <code>removeSourceEvent(Object, boolean)</code>.</p>\n<p>A big issue with this modification is the fact that the <code>EventQueue</code> makes some calls to AWT methods with default visibility (for example, <code>Toolkit.getEventQueue()</code> and <code>Component.getAccessControlContext()</code>), which you are not allowed to call since your implementation will be in a different package. You'll have to find a workaround for each case individually.</p>\n"}],"owner":{"account_id":7913,"reputation":33220,"user_id":13940,"accept_rate":58,"display_name":"Greg Mattes"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1140,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":1,"score":8,"last_activity_date":1670831813,"creation_date":1376074121,"question_id":18153613,"body_markdown":"Ideally, the answer will be platform independent, but platform specific, particularly Oracle JVMs, are useful as well. The project that I&#39;m working on is still running a version 6 JVM.\r\n\r\nThe particular need has to do with a GUI that is &quot;freezing&quot; from time to time. I&#39;m well aware of doing on GUI work on the EDT. The program was working well on Windows, but after moving to Linux, these &quot;strange&quot; GUI issues began to happen. Actually, this issue has occurred on two applications, both after a Windows to Linux move. JVisualVM shows over 10 million `java.awt.EventQueueItem` objects. The suspicion is that the AWT queue is growing faster than it&#39;s being served on Linux, so the idea is to put an AWT queue length indicator on the app and see what it shows as the queue grows/shrinks.\r\n\r\nA bit of Googling found [this][1], but it does a linear scan of the queue. Maybe there&#39;s some better way?\r\n\r\n\r\n  [1]: https://www.java.net//node/694232","title":"How to report AWT/Swing event queue length programmatically?","body":"<p>Ideally, the answer will be platform independent, but platform specific, particularly Oracle JVMs, are useful as well. The project that I'm working on is still running a version 6 JVM.</p>\n\n<p>The particular need has to do with a GUI that is \"freezing\" from time to time. I'm well aware of doing on GUI work on the EDT. The program was working well on Windows, but after moving to Linux, these \"strange\" GUI issues began to happen. Actually, this issue has occurred on two applications, both after a Windows to Linux move. JVisualVM shows over 10 million <code>java.awt.EventQueueItem</code> objects. The suspicion is that the AWT queue is growing faster than it's being served on Linux, so the idea is to put an AWT queue length indicator on the app and see what it shows as the queue grows/shrinks.</p>\n\n<p>A bit of Googling found <a href=\"https://www.java.net//node/694232\" rel=\"noreferrer\">this</a>, but it does a linear scan of the queue. Maybe there's some better way?</p>\n"},{"tags":["java","eclipse","javafx","scenebuilder","gluon"],"comments":[{"owner":{"account_id":2355978,"reputation":512,"user_id":2063748,"accept_rate":75,"display_name":"GltknBtn"},"score":1,"creation_date":1485507400,"post_id":41889842,"comment_id":70962241,"body_markdown":"Can you try steps which specified in the link: https://deltadata.wordpress.com/2013/12/25/javafx-scene-builder-failed-to-create-jvm-fix/ . Hope it is useful.","body":"Can you try steps which specified in the link: <a href=\"https://deltadata.wordpress.com/2013/12/25/javafx-scene-builder-failed-to-create-jvm-fix/\" rel=\"nofollow noreferrer\">deltadata.wordpress.com/2013/12/25/&hellip;</a> . Hope it is useful."},{"owner":{"account_id":4904867,"reputation":628,"user_id":3951861,"display_name":"Ashraf.Shk786"},"score":0,"creation_date":1485507565,"post_id":41889842,"comment_id":70962308,"body_markdown":"@GltknBtn the link is improper I mean it contains double quotes at the end which is giving error as 404 : Page not found.\nI&#39;ve corrected the link as: \nhttps://deltadata.wordpress.com/2013/12/25/javafx-scene-builder-failed-to-create-jvm-fix/","body":"@GltknBtn the link is improper I mean it contains double quotes at the end which is giving error as 404 : Page not found. I&#39;ve corrected the link as:  <a href=\"https://deltadata.wordpress.com/2013/12/25/javafx-scene-builder-failed-to-create-jvm-fix/\" rel=\"nofollow noreferrer\">deltadata.wordpress.com/2013/12/25/&hellip;</a>"},{"owner":{"account_id":2355978,"reputation":512,"user_id":2063748,"accept_rate":75,"display_name":"GltknBtn"},"score":0,"creation_date":1485507616,"post_id":41889842,"comment_id":70962340,"body_markdown":"@Ashraf.Shk786 I fixed it. thanks","body":"@Ashraf.Shk786 I fixed it. thanks"},{"owner":{"account_id":4904867,"reputation":628,"user_id":3951861,"display_name":"Ashraf.Shk786"},"score":0,"creation_date":1485507679,"post_id":41889842,"comment_id":70962366,"body_markdown":"@GltknBtn You are welcome :-)","body":"@GltknBtn You are welcome :-)"},{"owner":{"account_id":2865392,"reputation":85,"user_id":2459816,"accept_rate":7,"display_name":"user2459816"},"score":0,"creation_date":1485509805,"post_id":41889842,"comment_id":70963615,"body_markdown":"@GltknBtn, I&#39;ve already tried changing it to 512 m but no luck","body":"@GltknBtn, I&#39;ve already tried changing it to 512 m but no luck"},{"owner":{"account_id":2865392,"reputation":85,"user_id":2459816,"accept_rate":7,"display_name":"user2459816"},"score":0,"creation_date":1485509984,"post_id":41889842,"comment_id":70963725,"body_markdown":"When I try running the executable jar C:\\Users\\xxxxx\\AppData\\Local\\SceneBuilder\\app\\dist.jar , it launches the scene builder but when I try opening the fxml file from the eclipse it shows the same error","body":"When I try running the executable jar C:\\Users\\xxxxx\\AppData\\Local\\SceneBuilder\\app\\dist.jar , it launches the scene builder but when I try opening the fxml file from the eclipse it shows the same error"},{"owner":{"account_id":2355978,"reputation":512,"user_id":2063748,"accept_rate":75,"display_name":"GltknBtn"},"score":0,"creation_date":1485512405,"post_id":41889842,"comment_id":70965234,"body_markdown":"Can you check the scene builder exe path in eclipse:  Preferences -&gt; JavaFX -&gt; set SceneBuilder executable = C:\\Users\\USERNAME\\AppData\\Local\\SceneBuilder\\SceneBuilder.exe","body":"Can you check the scene builder exe path in eclipse:  Preferences -&gt; JavaFX -&gt; set SceneBuilder executable = C:\\Users\\USERNAME\\AppData\\Local\\SceneBuilder\\SceneBuilder.ex&zwnj;&#8203;e"},{"owner":{"account_id":2865392,"reputation":85,"user_id":2459816,"accept_rate":7,"display_name":"user2459816"},"score":0,"creation_date":1485512609,"post_id":41889842,"comment_id":70965369,"body_markdown":"@GltknBtn, Tried it but same error, do you know the path of previous version build , may be some compatible issues","body":"@GltknBtn, Tried it but same error, do you know the path of previous version build , may be some compatible issues"},{"owner":{"account_id":2355978,"reputation":512,"user_id":2063748,"accept_rate":75,"display_name":"GltknBtn"},"score":0,"creation_date":1485516409,"post_id":41889842,"comment_id":70967668,"body_markdown":"@user2459816, I have unistalled my 8.0.2 version and installed 8.3.0 (http://gluonhq.com/download/scene-builder-windows-x64/) and tried. It is working both in eclipse and as application exe. I have latest Jdk8 64bit. If you have time uninstall scenebuilder and jdk then delete their old directories. Later Install latest jdk8 and scenebuilder specified in link. Hope it works.","body":"@user2459816, I have unistalled my 8.0.2 version and installed 8.3.0 (<a href=\"http://gluonhq.com/download/scene-builder-windows-x64/\" rel=\"nofollow noreferrer\">gluonhq.com/download/scene-builder-windows-x64</a>) and tried. It is working both in eclipse and as application exe. I have latest Jdk8 64bit. If you have time uninstall scenebuilder and jdk then delete their old directories. Later Install latest jdk8 and scenebuilder specified in link. Hope it works."},{"owner":{"account_id":2865392,"reputation":85,"user_id":2459816,"accept_rate":7,"display_name":"user2459816"},"score":0,"creation_date":1485518987,"post_id":41889842,"comment_id":70969110,"body_markdown":"@GltknBtn, will give it a try and let you know","body":"@GltknBtn, will give it a try and let you know"},{"owner":{"account_id":2865392,"reputation":85,"user_id":2459816,"accept_rate":7,"display_name":"user2459816"},"score":0,"creation_date":1485768127,"post_id":41889842,"comment_id":71045056,"body_markdown":"@GltknBtn, I&#39;ve tried uninstalling and re-installing but still the same error pop&#39;s up, any other suggestions","body":"@GltknBtn, I&#39;ve tried uninstalling and re-installing but still the same error pop&#39;s up, any other suggestions"},{"owner":{"account_id":2355978,"reputation":512,"user_id":2063748,"accept_rate":75,"display_name":"GltknBtn"},"score":0,"creation_date":1485784026,"post_id":41889842,"comment_id":71055290,"body_markdown":"@user2459816, Maybe new scenebuilder version on Eclipse Neon cause it.  Can you download and install  scenebuilder 2.0 Windows 32/64 bit (msi) old version in this link( http://www.oracle.com/technetwork/java/javase/downloads/javafxscenebuilder-1x-archive-2199384.html) hope it works.","body":"@user2459816, Maybe new scenebuilder version on Eclipse Neon cause it.  Can you download and install  scenebuilder 2.0 Windows 32/64 bit (msi) old version in this link( <a href=\"http://www.oracle.com/technetwork/java/javase/downloads/javafxscenebuilder-1x-archive-2199384.html\" rel=\"nofollow noreferrer\">oracle.com/technetwork/java/javase/downloads/&hellip;</a>) hope it works."},{"owner":{"account_id":2865392,"reputation":85,"user_id":2459816,"accept_rate":7,"display_name":"user2459816"},"score":0,"creation_date":1485955770,"post_id":41889842,"comment_id":71139604,"body_markdown":"@GltknBtn, I tried this already but no luck","body":"@GltknBtn, I tried this already but no luck"}],"answers":[{"comments":[{"owner":{"account_id":2865392,"reputation":85,"user_id":2459816,"accept_rate":7,"display_name":"user2459816"},"score":0,"creation_date":1485509852,"post_id":41890089,"comment_id":70963640,"body_markdown":"I&#39;ve also tried uninstalling and re-installing it but no luck","body":"I&#39;ve also tried uninstalling and re-installing it but no luck"},{"owner":{"account_id":2865392,"reputation":85,"user_id":2459816,"accept_rate":7,"display_name":"user2459816"},"score":0,"creation_date":1485511264,"post_id":41890089,"comment_id":70964534,"body_markdown":"if you can provide the earlier version download link for scene builder it will be grateful .. I tried to download the previous versions but couldn&#39;t able to get it","body":"if you can provide the earlier version download link for scene builder it will be grateful .. I tried to download the previous versions but couldn&#39;t able to get it"}],"tags":[],"owner":{"account_id":4904867,"reputation":628,"user_id":3951861,"display_name":"Ashraf.Shk786"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1485507395,"creation_date":1485507395,"answer_id":41890089,"question_id":41889842,"body_markdown":"I recommend you to uninstall and reinstall the scene builder. Also, check the compatibility of Java version and scene builder. If after reinstalling again you face the issue then try to search solutions for\r\n\r\n    ERROR: failed to launch jvm\r\nSince, what I feel is your JVM is failing so I think you need to resolve that first.","title":"Scenebuilder shows error after the installation","body":"<p>I recommend you to uninstall and reinstall the scene builder. Also, check the compatibility of Java version and scene builder. If after reinstalling again you face the issue then try to search solutions for</p>\n\n<pre><code>ERROR: failed to launch jvm\n</code></pre>\n\n<p>Since, what I feel is your JVM is failing so I think you need to resolve that first.</p>\n"},{"tags":[],"owner":{"account_id":25022135,"reputation":1,"user_id":18880711,"display_name":"Richy GR"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670831776,"creation_date":1670409035,"answer_id":74715181,"question_id":41889842,"body_markdown":"To solve this problem you have to add this line ```app.classpath=.;dist.jar``` in the &quot;../app/SceneBuilder.cfg&quot; file.\r\n\r\n","title":"Scenebuilder shows error after the installation","body":"<p>To solve this problem you have to add this line <code>app.classpath=.;dist.jar</code> in the &quot;../app/SceneBuilder.cfg&quot; file.</p>\n"}],"owner":{"account_id":2865392,"reputation":85,"user_id":2459816,"accept_rate":7,"display_name":"user2459816"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":842,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1670831776,"creation_date":1485506514,"question_id":41889842,"body_markdown":"Installed scene builder for my JavaFX project, after the installation is completed it shows the following error,\r\n\r\n[![error message after the installation][1]][1]\r\n \r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/k5hXt.png\r\n  [2]: https://i.stack.imgur.com/Ot9aT.png\r\n\r\nVersion of scenebuilder: SceneBuilder-8.3.0.exe which is downloaded from http://gluonhq.com/labs/scene-builder/\r\n\r\nI&#39;m trying to integrate with Eclipse neon 4.6 and Java 1.8.0 version\r\nwith win 7 professional 64 bit OS\r\n\r\nalso,\r\nI&#39;ve tried providing the exe path from the windows--&gt;preference but still no luck. any help would be appreciated","title":"Scenebuilder shows error after the installation","body":"<p>Installed scene builder for my JavaFX project, after the installation is completed it shows the following error,</p>\n\n<p><a href=\"https://i.stack.imgur.com/k5hXt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/k5hXt.png\" alt=\"error message after the installation\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/Ot9aT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ot9aT.png\" alt=\"enter image description here\"></a></p>\n\n<p>Version of scenebuilder: SceneBuilder-8.3.0.exe which is downloaded from <a href=\"http://gluonhq.com/labs/scene-builder/\" rel=\"nofollow noreferrer\">http://gluonhq.com/labs/scene-builder/</a></p>\n\n<p>I'm trying to integrate with Eclipse neon 4.6 and Java 1.8.0 version\nwith win 7 professional 64 bit OS</p>\n\n<p>also,\nI've tried providing the exe path from the windows-->preference but still no luck. any help would be appreciated</p>\n"},{"tags":["java","processing","collision"],"comments":[{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1670217230,"post_id":74678941,"comment_id":131816263,"body_markdown":"If it&#39;s `Processing`, why did you use the `JavaFX` tag? I have not played with `Processing` in a while, but see if this great book can help. https://natureofcode.com/book/chapter-2-forces","body":"If it&#39;s <code>Processing</code>, why did you use the <code>JavaFX</code> tag? I have not played with <code>Processing</code> in a while, but see if this great book can help. <a href=\"https://natureofcode.com/book/chapter-2-forces\" rel=\"nofollow noreferrer\">natureofcode.com/book/chapter-2-forces</a>"},{"owner":{"account_id":4160832,"reputation":2487,"user_id":3410989,"display_name":"julien.giband"},"score":0,"creation_date":1670831531,"post_id":74678941,"comment_id":131955764,"body_markdown":"Fixed your tags","body":"Fixed your tags"}],"answers":[{"tags":[],"owner":{"account_id":4160832,"reputation":2487,"user_id":3410989,"display_name":"julien.giband"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670315911,"creation_date":1670315911,"answer_id":74699500,"question_id":74678941,"body_markdown":"What you are looking for is some kind of collision detection. There are very complex algorithms out there that can do an accurate detection with complex shapes, at the cost of CPU time, but in your case, just checking the intersection of two rectangles will probably be enough, at least for a start.\r\n\r\nFirst you need to have your bin and can&#39;s positions and dimensions stored somewhere. We&#39;ll use the enclosing rectangle of each as a collision box.\r\n\r\n```lang-java\r\nPImage scene, can, brownB, blueB, greenB;\r\n\r\nint canX = 100, canY = 50, canwidth = 80, canheight = 80;\r\nint binX = 100, binY = 450, binW = 100, binH = 150;\r\n```\r\nYou can then adjust the dimensions according to your screen size, but it has to be done after you have initialized it in `setup`:\r\n```lang-java\r\nvoid setup() // Entry point (start of program), runs once\r\n{\r\n  size(800, 600, P2D); // Create a Window, must be same size as scene\r\n  scene = loadImage(&quot;backround.png&quot;); // load image and data into scene data structure\r\n  can = loadImage(&quot;can.png&quot;); // load image of can into the GPU\r\n  greenB = loadImage(&quot;green_bin.png&quot;);\r\n  //...\r\n\r\n  canwidth = width / 10;\r\n  canheight = width / 10;\r\n  \r\n  binW = width / 8;\r\n  binH = height / 4;\r\n  binY = height - binH; //Set the bin at the bottom of the screen\r\n}\r\n```\r\nNow your elements can be drawn according to the stored values, how and where you intend them, and you can do your collision detection inside your `draw` loop:\r\n\r\n```lang-java\r\nvoid draw()\r\n{\r\n  background(scene); // Display background image referenced by scene\r\n  image(can, canX, canY, canwidth, canheight); //Can is drawn at position\r\n  image(greenB, binX, binY, binW, binH);\r\n  //...\r\n  \r\n  /* If the top of the can is below the top of the bin and the can is \r\n   * horizontally within the bin, then we count score\r\n   */\r\n  if (canY &gt; binY &amp;&amp; canX &gt; binX &amp;&amp; canX + canwidth &lt; binX + binW) {\r\n    score++; // Increase drop count by one (caught)\r\n\r\n    canX=0+(int)random(800); // Restart a new drop in the cloud\r\n    canY=0;\r\n  }\r\n  //...\r\n}\r\n```\r\nI&#39;ve neglected the check for bottom coordinates of the can relative to the bin, as the bin is at the very bottom, and hitting the bottom kills you.","title":"How to make falling object hit certain object in Java Processing","body":"<p>What you are looking for is some kind of collision detection. There are very complex algorithms out there that can do an accurate detection with complex shapes, at the cost of CPU time, but in your case, just checking the intersection of two rectangles will probably be enough, at least for a start.</p>\n<p>First you need to have your bin and can's positions and dimensions stored somewhere. We'll use the enclosing rectangle of each as a collision box.</p>\n<pre class=\"lang-java prettyprint-override\"><code>PImage scene, can, brownB, blueB, greenB;\n\nint canX = 100, canY = 50, canwidth = 80, canheight = 80;\nint binX = 100, binY = 450, binW = 100, binH = 150;\n</code></pre>\n<p>You can then adjust the dimensions according to your screen size, but it has to be done after you have initialized it in <code>setup</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>void setup() // Entry point (start of program), runs once\n{\n  size(800, 600, P2D); // Create a Window, must be same size as scene\n  scene = loadImage(&quot;backround.png&quot;); // load image and data into scene data structure\n  can = loadImage(&quot;can.png&quot;); // load image of can into the GPU\n  greenB = loadImage(&quot;green_bin.png&quot;);\n  //...\n\n  canwidth = width / 10;\n  canheight = width / 10;\n  \n  binW = width / 8;\n  binH = height / 4;\n  binY = height - binH; //Set the bin at the bottom of the screen\n}\n</code></pre>\n<p>Now your elements can be drawn according to the stored values, how and where you intend them, and you can do your collision detection inside your <code>draw</code> loop:</p>\n<pre class=\"lang-java prettyprint-override\"><code>void draw()\n{\n  background(scene); // Display background image referenced by scene\n  image(can, canX, canY, canwidth, canheight); //Can is drawn at position\n  image(greenB, binX, binY, binW, binH);\n  //...\n  \n  /* If the top of the can is below the top of the bin and the can is \n   * horizontally within the bin, then we count score\n   */\n  if (canY &gt; binY &amp;&amp; canX &gt; binX &amp;&amp; canX + canwidth &lt; binX + binW) {\n    score++; // Increase drop count by one (caught)\n\n    canX=0+(int)random(800); // Restart a new drop in the cloud\n    canY=0;\n  }\n  //...\n}\n</code></pre>\n<p>I've neglected the check for bottom coordinates of the can relative to the bin, as the bin is at the very bottom, and hitting the bottom kills you.</p>\n"},{"tags":[],"owner":{"account_id":5347179,"reputation":10433,"user_id":4262407,"accept_rate":40,"display_name":"mipa"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670319797,"creation_date":1670319797,"answer_id":74700322,"question_id":74678941,"body_markdown":"As was said already, you need some kind of collision detection. I would abstain though from trying to implement any algorithms myself and would instead use a professional library for that like: \r\nhttps://github.com/locationtech/jts\r\nThat way you can also test against the real geometry and the overhead is minimal because these tests are first run againt the bounding boxes and only when that is positive they are refined to the real geometry. In addition you could also use a spatial index to speed up the search.","title":"How to make falling object hit certain object in Java Processing","body":"<p>As was said already, you need some kind of collision detection. I would abstain though from trying to implement any algorithms myself and would instead use a professional library for that like:\n<a href=\"https://github.com/locationtech/jts\" rel=\"nofollow noreferrer\">https://github.com/locationtech/jts</a>\nThat way you can also test against the real geometry and the overhead is minimal because these tests are first run againt the bounding boxes and only when that is positive they are refined to the real geometry. In addition you could also use a spatial index to speed up the search.</p>\n"}],"owner":{"account_id":27140681,"reputation":3,"user_id":20681560,"display_name":"Eiken"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":272,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74699500,"answer_count":2,"score":0,"last_activity_date":1670831513,"creation_date":1670173713,"question_id":74678941,"body_markdown":"How do you get a certain object to hit another object?\r\n\r\nI am making a game where trash is falling from the sky, you are meant to drag and drop the trash into the correct bins. How do I make it so when you drag it into the regional area of the bin is, it gives you a score and resets again. I have made the score &amp; lives function but how do you get it to hit the bin and give you a score?\r\n\r\nHere&#39;s the progress I have made so far:\r\n\r\n```\r\nPImage scene, can, brownB, blueB, greenB;\r\n\r\nint can_x = -100; //CAN IS HIDDEN FOR NOW\r\nint can_y = 500;\r\n\r\nint canX = 100;\r\nint canY = 50;\r\nint canwidth = width/2;\r\nint canheight = height/2;\r\n\r\nint score = 0;\r\nint lives = 3;\r\nint can_count = 0;\r\n\r\nint quit = 0;\r\n\r\nboolean mouseInCan = false;\r\n\r\nvoid setup() // Entry point (start of program), runs once\r\n{\r\n size(800,600,P2D); // Create a Window, must be same size as scene\r\n scene = loadImage(&quot;backround.png&quot;); // load image and data into scene data structure\r\n can = loadImage(&quot;can.png&quot;); // load image of can into the GPU\r\n greenB = loadImage(&quot;green_bin.png&quot;);\r\n\r\n textureMode(NORMAL); // Scale texture Top right (0,0) to (1,1)\r\n blendMode(BLEND); // States how to mix a new image with the one behind it\r\n noStroke(); // Do not draw a line around objects\r\n\r\n canX = 0 + (int)random(800); // Choose drop starting position\r\n canY = 0;  \r\n \r\n}\r\n\r\n//check if the mouse is in the can\r\nvoid mousePressed() {\r\n  if (mouseX &gt; canX &amp;&amp; mouseX &lt; canX + canwidth &amp;&amp; mouseY &gt; canY &amp;&amp; mouseY &lt; canY + canheight) {\r\n    mouseInCan = true;\r\n  }\r\n}\r\n\r\n//if the mouse is in the can, then move it when the mouse is dragged\r\nvoid mouseDragged() {\r\n  if (mouseInCan) {\r\n    float deltaX = mouseX - pmouseX;\r\n    float deltaY = mouseY - pmouseY;\r\n\r\n    canX += deltaX;\r\n    canY += deltaY;\r\n  }\r\n}\r\n\r\n//when we let go of the mouse, stop dragging the can\r\nvoid mouseReleased() {\r\n  mouseInCan = false;\r\n}\r\n\r\nvoid draw()\r\n{\r\n  \r\n background(scene); // Display background image referenced by scene\r\n image(can, canX, canY, canwidth, canheight); //Can is drawn at position\r\n image(greenB, 100, 450, width/8, height/4);\r\n \r\n pushMatrix(); // Store current location of origin (0,0)\r\n translate(can_x,can_y); // Change origin (0,0) for drawing to (drop_x,drop_y)\r\n beginShape(); // Open graphics pipeline\r\n texture(can); // Tell GPU to use drop to texture the polygon\r\n vertex( -20, -20, 0, 0); // Load vertex data (x,y) and (U,V) texture data into GPU\r\n vertex(20, -20, 1, 0); // Square centred on (0,0) of width 40 and height 40\r\n vertex(20, 20, 1, 1); // Textured with an image of a drop\r\n vertex( -20, 20, 0, 1);\r\n endShape(CLOSE); // Tell GPU you have loaded shape into memory.\r\n popMatrix(); \r\n \r\n canY += 1.5; // Make &quot;drop&quot; move down the screen (two pixels at a time)\r\n if (canY&gt;600) // If y value is entering the bottom of screen\r\n {\r\n canX = 0+(int)random(800); // Restart the drop again in the cloud.\r\n canY = 0;\r\n lives--;\r\n\r\n } \r\n \r\n \r\n if ((canY&gt;100)&amp;&amp;(canY&lt;450)) // If drop is on same level as player\r\n {\r\n if(abs((canX+100)-(canX+450))&lt;25) // And drop is near player\r\n {\r\n score++; // Increase drop count by one (caught)\r\n\r\n canX=0+(int)random(800); // Restart a new drop in the cloud\r\n canY=0;\r\n \r\n }\r\n }\r\n \r\n \r\n textSize(18); // Display score information on the screen\r\n fill(0,0,0);\r\n text(&quot;Lives: &quot;+lives, 540, 20);\r\n \r\n textSize(18);\r\n fill(0,0,0);\r\n text(&quot;Score: &quot;+score, 640, 20);\r\n \r\n if(quit==1) // Wait five seconds before exiting\r\n {\r\n delay(5000);\r\n exit();\r\n }\r\n \r\n if (lives&lt;1) // All lives lost so game over but\r\n { // return to draw one more time to\r\n quit = 1; // allow &quot;Game Over to be displayed.\r\n } \r\n} \r\n\r\n```\r\n\r\nI have tried doing it where the comment with &#39;If drop is on same level as player&#39; but no luck, The code is a mess right now but I will clean it up, still new to processing.\r\n","title":"How to make falling object hit certain object in Java Processing","body":"<p>How do you get a certain object to hit another object?</p>\n<p>I am making a game where trash is falling from the sky, you are meant to drag and drop the trash into the correct bins. How do I make it so when you drag it into the regional area of the bin is, it gives you a score and resets again. I have made the score &amp; lives function but how do you get it to hit the bin and give you a score?</p>\n<p>Here's the progress I have made so far:</p>\n<pre><code>PImage scene, can, brownB, blueB, greenB;\n\nint can_x = -100; //CAN IS HIDDEN FOR NOW\nint can_y = 500;\n\nint canX = 100;\nint canY = 50;\nint canwidth = width/2;\nint canheight = height/2;\n\nint score = 0;\nint lives = 3;\nint can_count = 0;\n\nint quit = 0;\n\nboolean mouseInCan = false;\n\nvoid setup() // Entry point (start of program), runs once\n{\n size(800,600,P2D); // Create a Window, must be same size as scene\n scene = loadImage(&quot;backround.png&quot;); // load image and data into scene data structure\n can = loadImage(&quot;can.png&quot;); // load image of can into the GPU\n greenB = loadImage(&quot;green_bin.png&quot;);\n\n textureMode(NORMAL); // Scale texture Top right (0,0) to (1,1)\n blendMode(BLEND); // States how to mix a new image with the one behind it\n noStroke(); // Do not draw a line around objects\n\n canX = 0 + (int)random(800); // Choose drop starting position\n canY = 0;  \n \n}\n\n//check if the mouse is in the can\nvoid mousePressed() {\n  if (mouseX &gt; canX &amp;&amp; mouseX &lt; canX + canwidth &amp;&amp; mouseY &gt; canY &amp;&amp; mouseY &lt; canY + canheight) {\n    mouseInCan = true;\n  }\n}\n\n//if the mouse is in the can, then move it when the mouse is dragged\nvoid mouseDragged() {\n  if (mouseInCan) {\n    float deltaX = mouseX - pmouseX;\n    float deltaY = mouseY - pmouseY;\n\n    canX += deltaX;\n    canY += deltaY;\n  }\n}\n\n//when we let go of the mouse, stop dragging the can\nvoid mouseReleased() {\n  mouseInCan = false;\n}\n\nvoid draw()\n{\n  \n background(scene); // Display background image referenced by scene\n image(can, canX, canY, canwidth, canheight); //Can is drawn at position\n image(greenB, 100, 450, width/8, height/4);\n \n pushMatrix(); // Store current location of origin (0,0)\n translate(can_x,can_y); // Change origin (0,0) for drawing to (drop_x,drop_y)\n beginShape(); // Open graphics pipeline\n texture(can); // Tell GPU to use drop to texture the polygon\n vertex( -20, -20, 0, 0); // Load vertex data (x,y) and (U,V) texture data into GPU\n vertex(20, -20, 1, 0); // Square centred on (0,0) of width 40 and height 40\n vertex(20, 20, 1, 1); // Textured with an image of a drop\n vertex( -20, 20, 0, 1);\n endShape(CLOSE); // Tell GPU you have loaded shape into memory.\n popMatrix(); \n \n canY += 1.5; // Make &quot;drop&quot; move down the screen (two pixels at a time)\n if (canY&gt;600) // If y value is entering the bottom of screen\n {\n canX = 0+(int)random(800); // Restart the drop again in the cloud.\n canY = 0;\n lives--;\n\n } \n \n \n if ((canY&gt;100)&amp;&amp;(canY&lt;450)) // If drop is on same level as player\n {\n if(abs((canX+100)-(canX+450))&lt;25) // And drop is near player\n {\n score++; // Increase drop count by one (caught)\n\n canX=0+(int)random(800); // Restart a new drop in the cloud\n canY=0;\n \n }\n }\n \n \n textSize(18); // Display score information on the screen\n fill(0,0,0);\n text(&quot;Lives: &quot;+lives, 540, 20);\n \n textSize(18);\n fill(0,0,0);\n text(&quot;Score: &quot;+score, 640, 20);\n \n if(quit==1) // Wait five seconds before exiting\n {\n delay(5000);\n exit();\n }\n \n if (lives&lt;1) // All lives lost so game over but\n { // return to draw one more time to\n quit = 1; // allow &quot;Game Over to be displayed.\n } \n} \n\n</code></pre>\n<p>I have tried doing it where the comment with 'If drop is on same level as player' but no luck, The code is a mess right now but I will clean it up, still new to processing.</p>\n"},{"tags":["java","spring","spring-boot","unit-testing"],"answers":[{"tags":[],"owner":{"account_id":9260816,"reputation":47,"user_id":6877970,"display_name":"ridhopratama"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670343134,"creation_date":1670343134,"answer_id":74705716,"question_id":64817553,"body_markdown":"you can remove \r\n`   @Bean\r\n    public RestTemplate restTemplate() {\r\n        return new RestTemplate();\r\n    }` \r\nfrom both. \r\n\r\nAnd replace `\r\n    @Mock\r\n    private RestTemplate restTemplate;` \r\nto become \r\n`@MockBean\r\nprivate RestTemplate restTemplate;`\r\n\r\nhope this helps","title":"org.springframework.web.client.ResourceAccessException while mocking POST restTemplate.exchange method in spring boot","body":"<p>you can remove\n<code>   @Bean public RestTemplate restTemplate() { return new RestTemplate(); }</code>\nfrom both.</p>\n<p>And replace <code> @Mock private RestTemplate restTemplate;</code>\nto become\n<code>@MockBean private RestTemplate restTemplate;</code></p>\n<p>hope this helps</p>\n"},{"comments":[{"owner":{"account_id":23555089,"reputation":565,"user_id":17597213,"display_name":"Jordan"},"score":0,"creation_date":1670851126,"post_id":74705773,"comment_id":131961665,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/74705773/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":27142336,"reputation":1,"user_id":20683042,"display_name":"Kuldeep choudhary"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670831454,"creation_date":1670343407,"answer_id":74705773,"question_id":64817553,"body_markdown":"    @Scheduled(cron = &quot;${notify.email.interval}&quot;)\r\n    public void notifyEmailResponse () {\r\n        \r\n        logger.info(&quot;notifyEmailResponse() begin&quot;);\r\n        List&lt;Email&gt; emails = emailService.getUnNotifiedEmails();\r\n        logger.info(&quot;Total (&quot; + emails.size() + &quot;) unnotified emails found!&quot;);\r\n        \r\n        for (Email email : emails) {            \r\n            HttpEntity&lt;Notify&gt; requestEntity = new HttpEntity&lt;&gt;(new Notify(email.getId(), email.getReqStatus()));\r\n            \r\n            logger.info(&quot;going to notify response against id=&quot; + email.getId());\r\n            ResponseEntity&lt;NotifyResponse&gt; responseEntity = restTemplate.exchange(email.getNotifyUrl()\r\n                    , HttpMethod.POST, requestEntity, NotifyResponse.class);\r\n            logger.info(&quot;Response statusCode = &quot; + responseEntity.getStatusCode());\r\n\r\n            NotifyResponse response = responseEntity.getBody();\r\n            \r\n            if(response != null) {\r\n                if(response.getSuccess() == true) {\r\n                    logger.info(&quot;notification submitted successfully!&quot;);\r\n                    email.setAckStatus(1);\r\n                    emailService.save(email);\r\n                    logger.info(&quot;updated status=&quot; + 1);\r\n                } else {\r\n                    logger.info(&quot;unable to notify&quot;);\r\n                    email.setAckStatus(2); \r\n                    emailService.save(email);\r\n                    logger.info(&quot;updated status=&quot; + 2);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    }","title":"org.springframework.web.client.ResourceAccessException while mocking POST restTemplate.exchange method in spring boot","body":"<pre><code>@Scheduled(cron = &quot;${notify.email.interval}&quot;)\npublic void notifyEmailResponse () {\n    \n    logger.info(&quot;notifyEmailResponse() begin&quot;);\n    List&lt;Email&gt; emails = emailService.getUnNotifiedEmails();\n    logger.info(&quot;Total (&quot; + emails.size() + &quot;) unnotified emails found!&quot;);\n    \n    for (Email email : emails) {            \n        HttpEntity&lt;Notify&gt; requestEntity = new HttpEntity&lt;&gt;(new Notify(email.getId(), email.getReqStatus()));\n        \n        logger.info(&quot;going to notify response against id=&quot; + email.getId());\n        ResponseEntity&lt;NotifyResponse&gt; responseEntity = restTemplate.exchange(email.getNotifyUrl()\n                , HttpMethod.POST, requestEntity, NotifyResponse.class);\n        logger.info(&quot;Response statusCode = &quot; + responseEntity.getStatusCode());\n\n        NotifyResponse response = responseEntity.getBody();\n        \n        if(response != null) {\n            if(response.getSuccess() == true) {\n                logger.info(&quot;notification submitted successfully!&quot;);\n                email.setAckStatus(1);\n                emailService.save(email);\n                logger.info(&quot;updated status=&quot; + 1);\n            } else {\n                logger.info(&quot;unable to notify&quot;);\n                email.setAckStatus(2); \n                emailService.save(email);\n                logger.info(&quot;updated status=&quot; + 2);\n            }\n        }\n    }\n}\n}\n</code></pre>\n"}],"owner":{"account_id":7032475,"reputation":93,"user_id":5387667,"display_name":"Abdul Waheed"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1737,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1670831454,"creation_date":1605255639,"question_id":64817553,"body_markdown":"I am trying to test a POST request calling in my unit test. I mock the request but I get Connection refuse: connect exception. Here is my code. \r\n\r\nMy Service Class.\r\n\r\n    @Service\r\n    public class NotifiyEmailServiceImpl implements NotifiyEmailService{\r\n    \tprivate static final Logger logger = LoggerFactory.getLogger(NotifiyEmailServiceImpl.class);\r\n    \r\n    \t@Autowired\r\n    \tprivate RestTemplate restTemplate; \r\n    \r\n    \t@Autowired\r\n    \tprivate EmailService emailService;\r\n    \t\r\n    \t@Bean\r\n    \tpublic RestTemplate restTemplate() {\r\n    \t\treturn new RestTemplate();\r\n    \t}\r\n    \r\n    \t@Scheduled(cron = &quot;${notify.email.interval}&quot;)\r\n    \tpublic void notifyEmailResponse () {\r\n    \t\t\r\n    \t\tlogger.info(&quot;notifyEmailResponse() begin&quot;);\r\n    \t\tList&lt;Email&gt; emails = emailService.getUnNotifiedEmails();\r\n    \t\tlogger.info(&quot;Total (&quot; + emails.size() + &quot;) unnotified emails found!&quot;);\r\n    \t\t\r\n    \t\tfor (Email email : emails) {\t\t\t\r\n    \t\t\tHttpEntity&lt;Notify&gt; requestEntity = new HttpEntity&lt;&gt;(new Notify(email.getId(), email.getReqStatus()));\r\n    \t\t\t\r\n    \t\t\tlogger.info(&quot;going to notify response against id=&quot; + email.getId());\r\n    \t\t\tResponseEntity&lt;NotifyResponse&gt; responseEntity = restTemplate.exchange(email.getNotifyUrl()\r\n    \t\t\t\t\t, HttpMethod.POST, requestEntity, NotifyResponse.class);\r\n    \t\t\tlogger.info(&quot;Response statusCode = &quot; + responseEntity.getStatusCode());\r\n    \r\n    \t\t\tNotifyResponse response = responseEntity.getBody();\r\n    \t\t\t\r\n    \t\t\tif(response != null) {\r\n    \t\t\t\tif(response.getSuccess() == true) {\r\n    \t\t\t\t\tlogger.info(&quot;notification submitted successfully!&quot;);\r\n    \t\t\t\t\temail.setAckStatus(1);\r\n    \t\t\t\t\temailService.save(email);\r\n    \t\t\t\t\tlogger.info(&quot;updated status=&quot; + 1);\r\n    \t\t\t\t} else {\r\n    \t\t\t\t\tlogger.info(&quot;unable to notify&quot;);\r\n    \t\t\t\t\temail.setAckStatus(2); \r\n    \t\t\t\t\temailService.save(email);\r\n    \t\t\t\t\tlogger.info(&quot;updated status=&quot; + 2);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nHere is my unit test\r\n\r\n   \r\n\r\n    @SpringBootTest\r\n    public class NotifiyEmailServiceTest {\r\n    \r\n    \t@Autowired\r\n    \tprivate EmailService emailService;\r\n    \r\n    \t@MockBean\r\n    \tprivate IEmailRepository emailRepository;\r\n    \r\n    \t@Mock\r\n    \tprivate RestTemplate restTemplate; \r\n    \t\r\n    \t@Autowired\r\n    \tNotifiyEmailServiceImpl notifyEmailService;\r\n    \r\n    \t@Bean\r\n    \tpublic RestTemplate RestTemplate(){\r\n    \t\treturn new RestTemplate();\r\n    \t}\r\n    \r\n    \t@Test\r\n    \tpublic void notifyEmailStatus() {\r\n    \t\tString url = &quot;http://localhost:8081/api/v1/emails/notifyResponse&quot;;\r\n    \t\tList&lt;Email&gt; emails = getSampleEmails();\r\n    \r\n    \t\twhen(emailRepository.findByAckStatusAndNotifyUrl()).thenReturn(emails);\r\n    \t\t\r\n    \t\tHttpEntity&lt;Notify&gt; requestEntity = new HttpEntity&lt;&gt;(new Notify((long)1, 1));\r\n    \t\tNotifyResponse response = new NotifyResponse(true, &quot;success&quot;);\r\n    \t\t\r\n    \t\twhen(restTemplate.exchange(url, HttpMethod.POST, requestEntity, NotifyResponse.class))\r\n    \t\t.thenReturn(new ResponseEntity&lt;NotifyResponse&gt;(response, HttpStatus.OK));\r\n    \r\n    \t\tList&lt;Email&gt; emailsRes = emailService.getUnNotifiedEmails();\r\n    \t\t\r\n    \t\tnotifyEmailService.notifyEmailResponse();\r\n    \r\n    \t\tassertEquals(2, emailsRes.size());\r\n    \t\tassertEquals(true, response.getSuccess());\r\n    \t}\r\n    \r\n    \tpublic List&lt;Email&gt; getSampleEmails(){\r\n    \t\tList&lt;Email&gt; emails = new ArrayList&lt;Email&gt;();\r\n    \t\tEmail email1 = new Email();\r\n    \t\temail1.setEmailFrom(&quot;emailfrom@myemail.com&quot;);\r\n    \t\temail1.setEmailTo(&quot;emailto@myemail.com&quot;);\r\n    \t\temail1.setNotifyUrl(&quot;http://localhost:8081/api/v1/emails/notifyResponse&quot;);\r\n    \t\temail1.setEmailSubject(&quot;subject&quot;);\r\n    \t\temail1.setReqStatus(0);\r\n    \r\n    \t\tEmail email2 = new Email();\r\n    \t\temail2.setEmailFrom(&quot;emailfrom@myemail.com&quot;);\r\n    \t\temail2.setEmailTo(&quot;emailto@myemail.com&quot;);\r\n    \t\temail2.setNotifyUrl(&quot;http://localhost:8081/api/v1/emails/notifyResponse&quot;);\r\n    \t\temail2.setEmailSubject(&quot;subject&quot;);\r\n    \t\temail2.setReqStatus(0);\r\n    \t\t\r\n    \t\temails.add(email1);\r\n    \t\temails.add(email2);\r\n    \t\t\r\n    \t\treturn emails;\r\n    \t}\r\n    \r\n    }\r\n\r\nThis is the exception trace which I get. \r\n\r\n   \r\n\r\n     org.springframework.web.client.ResourceAccessException: I/O error on POST request for &quot;http://localhost:8081/api/v1/emails/notifyResponse&quot;: Connection refused: connect; nested exception is java.net.ConnectException: Connection refused: connect\r\n    \tat org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:748)\r\n    \tat org.springframework.web.client.RestTemplate.execute(RestTemplate.java:674)\r\n    \tat org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:583)\r\n    \tat com.ivt.email.services.impl.NotifiyEmailServiceImpl.notifyEmailResponse(NotifiyEmailServiceImpl.java:55)\r\n    \tat com.ivt.email.services.NotifiyEmailServiceTest.notifyEmailStatus(NotifiyEmailServiceTest.java:71)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:564)\r\n    \tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:686)\r\n    \tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n    \tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n    \tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\r\n    \tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\r\n    \tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\r\n    \tat org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\r\n    \tat org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\r\n    \tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n    \tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n    \tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n    \tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n    \tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\r\n    \tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$6(TestMethodTestDescriptor.java:212)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:208)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:137)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:71)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:135)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:125)\r\n    \tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:135)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:123)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:122)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:80)\r\n    \tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:125)\r\n    \tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:135)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:123)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:122)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:80)\r\n    \tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:125)\r\n    \tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:135)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:123)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:122)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:80)\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:248)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$5(DefaultLauncher.java:211)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:226)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:199)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:141)\r\n    \tat org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:98)\r\n    \tat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:41)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:542)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:770)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:464)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)\r\n    Caused by: java.net.ConnectException: Connection refused: connect\r\n    \tat java.base/sun.nio.ch.Net.connect0(Native Method)\r\n    \tat java.base/sun.nio.ch.Net.connect(Net.java:503)\r\n    \tat java.base/sun.nio.ch.Net.connect(Net.java:492)\r\n    \tat java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:588)\r\n    \tat java.base/java.net.Socket.connect(Socket.java:648)\r\n    \tat java.base/java.net.Socket.connect(Socket.java:597)\r\n    \tat java.base/sun.net.NetworkClient.doConnect(NetworkClient.java:182)\r\n    \tat java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:474)\r\n    \tat java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:569)\r\n    \tat java.base/sun.net.www.http.HttpClient.&lt;init&gt;(HttpClient.java:242)\r\n    \tat java.base/sun.net.www.http.HttpClient.New(HttpClient.java:341)\r\n    \tat java.base/sun.net.www.http.HttpClient.New(HttpClient.java:362)\r\n    \tat java.base/sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:1261)\r\n    \tat java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1194)\r\n    \tat java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1082)\r\n    \tat java.base/sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:1016)\r\n    \tat org.springframework.http.client.SimpleBufferingClientHttpRequest.executeInternal(SimpleBufferingClientHttpRequest.java:76)\r\n    \tat org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)\r\n    \tat org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:53)\r\n    \tat org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:739)\r\n    \t... 69 more\r\n\r\nI have spring boot version 2.3.4 and Java version 11. I have spring-boot-starter-test dependency in my pom.xml file. ","title":"org.springframework.web.client.ResourceAccessException while mocking POST restTemplate.exchange method in spring boot","body":"<p>I am trying to test a POST request calling in my unit test. I mock the request but I get Connection refuse: connect exception. Here is my code.</p>\n<p>My Service Class.</p>\n<pre><code>@Service\npublic class NotifiyEmailServiceImpl implements NotifiyEmailService{\n    private static final Logger logger = LoggerFactory.getLogger(NotifiyEmailServiceImpl.class);\n\n    @Autowired\n    private RestTemplate restTemplate; \n\n    @Autowired\n    private EmailService emailService;\n    \n    @Bean\n    public RestTemplate restTemplate() {\n        return new RestTemplate();\n    }\n\n    @Scheduled(cron = &quot;${notify.email.interval}&quot;)\n    public void notifyEmailResponse () {\n        \n        logger.info(&quot;notifyEmailResponse() begin&quot;);\n        List&lt;Email&gt; emails = emailService.getUnNotifiedEmails();\n        logger.info(&quot;Total (&quot; + emails.size() + &quot;) unnotified emails found!&quot;);\n        \n        for (Email email : emails) {            \n            HttpEntity&lt;Notify&gt; requestEntity = new HttpEntity&lt;&gt;(new Notify(email.getId(), email.getReqStatus()));\n            \n            logger.info(&quot;going to notify response against id=&quot; + email.getId());\n            ResponseEntity&lt;NotifyResponse&gt; responseEntity = restTemplate.exchange(email.getNotifyUrl()\n                    , HttpMethod.POST, requestEntity, NotifyResponse.class);\n            logger.info(&quot;Response statusCode = &quot; + responseEntity.getStatusCode());\n\n            NotifyResponse response = responseEntity.getBody();\n            \n            if(response != null) {\n                if(response.getSuccess() == true) {\n                    logger.info(&quot;notification submitted successfully!&quot;);\n                    email.setAckStatus(1);\n                    emailService.save(email);\n                    logger.info(&quot;updated status=&quot; + 1);\n                } else {\n                    logger.info(&quot;unable to notify&quot;);\n                    email.setAckStatus(2); \n                    emailService.save(email);\n                    logger.info(&quot;updated status=&quot; + 2);\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>Here is my unit test</p>\n<pre><code>@SpringBootTest\npublic class NotifiyEmailServiceTest {\n\n    @Autowired\n    private EmailService emailService;\n\n    @MockBean\n    private IEmailRepository emailRepository;\n\n    @Mock\n    private RestTemplate restTemplate; \n    \n    @Autowired\n    NotifiyEmailServiceImpl notifyEmailService;\n\n    @Bean\n    public RestTemplate RestTemplate(){\n        return new RestTemplate();\n    }\n\n    @Test\n    public void notifyEmailStatus() {\n        String url = &quot;http://localhost:8081/api/v1/emails/notifyResponse&quot;;\n        List&lt;Email&gt; emails = getSampleEmails();\n\n        when(emailRepository.findByAckStatusAndNotifyUrl()).thenReturn(emails);\n        \n        HttpEntity&lt;Notify&gt; requestEntity = new HttpEntity&lt;&gt;(new Notify((long)1, 1));\n        NotifyResponse response = new NotifyResponse(true, &quot;success&quot;);\n        \n        when(restTemplate.exchange(url, HttpMethod.POST, requestEntity, NotifyResponse.class))\n        .thenReturn(new ResponseEntity&lt;NotifyResponse&gt;(response, HttpStatus.OK));\n\n        List&lt;Email&gt; emailsRes = emailService.getUnNotifiedEmails();\n        \n        notifyEmailService.notifyEmailResponse();\n\n        assertEquals(2, emailsRes.size());\n        assertEquals(true, response.getSuccess());\n    }\n\n    public List&lt;Email&gt; getSampleEmails(){\n        List&lt;Email&gt; emails = new ArrayList&lt;Email&gt;();\n        Email email1 = new Email();\n        email1.setEmailFrom(&quot;emailfrom@myemail.com&quot;);\n        email1.setEmailTo(&quot;emailto@myemail.com&quot;);\n        email1.setNotifyUrl(&quot;http://localhost:8081/api/v1/emails/notifyResponse&quot;);\n        email1.setEmailSubject(&quot;subject&quot;);\n        email1.setReqStatus(0);\n\n        Email email2 = new Email();\n        email2.setEmailFrom(&quot;emailfrom@myemail.com&quot;);\n        email2.setEmailTo(&quot;emailto@myemail.com&quot;);\n        email2.setNotifyUrl(&quot;http://localhost:8081/api/v1/emails/notifyResponse&quot;);\n        email2.setEmailSubject(&quot;subject&quot;);\n        email2.setReqStatus(0);\n        \n        emails.add(email1);\n        emails.add(email2);\n        \n        return emails;\n    }\n\n}\n</code></pre>\n<p>This is the exception trace which I get.</p>\n<pre><code> org.springframework.web.client.ResourceAccessException: I/O error on POST request for &quot;http://localhost:8081/api/v1/emails/notifyResponse&quot;: Connection refused: connect; nested exception is java.net.ConnectException: Connection refused: connect\n    at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:748)\n    at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:674)\n    at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:583)\n    at com.ivt.email.services.impl.NotifiyEmailServiceImpl.notifyEmailResponse(NotifiyEmailServiceImpl.java:55)\n    at com.ivt.email.services.NotifiyEmailServiceTest.notifyEmailStatus(NotifiyEmailServiceTest.java:71)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:564)\n    at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:686)\n    at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$6(TestMethodTestDescriptor.java:212)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:208)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:137)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:71)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:135)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:125)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:135)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:123)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:122)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:80)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:125)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:135)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:123)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:122)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:80)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:125)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:135)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:123)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:122)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:80)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:248)\n    at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$5(DefaultLauncher.java:211)\n    at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:226)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:199)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:141)\n    at org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:98)\n    at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:41)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:542)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:770)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:464)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)\nCaused by: java.net.ConnectException: Connection refused: connect\n    at java.base/sun.nio.ch.Net.connect0(Native Method)\n    at java.base/sun.nio.ch.Net.connect(Net.java:503)\n    at java.base/sun.nio.ch.Net.connect(Net.java:492)\n    at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:588)\n    at java.base/java.net.Socket.connect(Socket.java:648)\n    at java.base/java.net.Socket.connect(Socket.java:597)\n    at java.base/sun.net.NetworkClient.doConnect(NetworkClient.java:182)\n    at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:474)\n    at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:569)\n    at java.base/sun.net.www.http.HttpClient.&lt;init&gt;(HttpClient.java:242)\n    at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:341)\n    at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:362)\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:1261)\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1194)\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1082)\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:1016)\n    at org.springframework.http.client.SimpleBufferingClientHttpRequest.executeInternal(SimpleBufferingClientHttpRequest.java:76)\n    at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)\n    at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:53)\n    at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:739)\n    ... 69 more\n</code></pre>\n<p>I have spring boot version 2.3.4 and Java version 11. I have spring-boot-starter-test dependency in my pom.xml file.</p>\n"},{"tags":["java","android","download","media","exoplayer"],"answers":[{"comments":[{"owner":{"account_id":18702916,"reputation":389,"user_id":13634739,"display_name":"StackOverflower"},"score":0,"creation_date":1670679339,"post_id":74738940,"comment_id":131931482,"body_markdown":"I have tried it but did not work. beside, could you tell me where should i put `downCache.release()` ?","body":"I have tried it but did not work. beside, could you tell me where should i put <code>downCache.release()</code> ?"},{"owner":{"account_id":10925345,"reputation":111,"user_id":8030230,"display_name":"Luna_Shih"},"score":0,"creation_date":1670831378,"post_id":74738940,"comment_id":131955718,"body_markdown":"@StackOverflower I have edited my answer with a simple example, I save the simpleCache when download a new episode, you can consider how to save your simpleCache which must be the same cache you used in the same file path.","body":"@StackOverflower I have edited my answer with a simple example, I save the simpleCache when download a new episode, you can consider how to save your simpleCache which must be the same cache you used in the same file path."},{"owner":{"account_id":18702916,"reputation":389,"user_id":13634739,"display_name":"StackOverflower"},"score":1,"creation_date":1670908511,"post_id":74738940,"comment_id":131976175,"body_markdown":"Thanks dud but i solved my problem using dagger/hilt. i was  just curious why using singleton did not work properly.","body":"Thanks dud but i solved my problem using dagger/hilt. i was  just curious why using singleton did not work properly."}],"tags":[],"owner":{"account_id":10925345,"reputation":111,"user_id":8030230,"display_name":"Luna_Shih"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670831152,"creation_date":1670560335,"answer_id":74738940,"question_id":74641476,"body_markdown":"I have faced the same problem before.  \r\nMy situation is when I tried to download the same audio second times, the simpleCache **used at same file directory path** is not released.  \r\n\r\nThe answer that using SimpleCache as singleton you mentioned about, there is **create a cache file path with getCacheDir()**, not a specified file location.  \r\n\r\nIf you want to use a specified file path, you&#39;ll need to release the SimpleCache object you used before.  \r\n  \r\n\r\n    simpleCache.release();\r\n\r\nIn my case, I create a array to save the downloading simpleCache...\r\n\r\n    private static SparseArray&lt;SimpleCache&gt; mediaCaches;\r\n\r\n    //Need to release the Cache that use in the same file path.\r\n    SimpleCache simpleCache = CacheUtil.getMediaCache(downloadMediaId);\r\n    if (simpleCache != null) {\r\n        simpleCache.release();\r\n    }\r\n\r\n    simpleCache = new SimpleCache(file, new NoOpCacheEvictor(), new ExoDatabaseProvider(context));\r\n\r\n    //when I download a new audio episode, save with key:episodeId &amp; value:simpleCahe\r\n    mediaCaches.put(downloadMediaId, mediaCache);\r\n\r\n","title":"Error in Listening exoDownloadManager : Another SimpleCache instance uses the folder","body":"<p>I have faced the same problem before.<br />\nMy situation is when I tried to download the same audio second times, the simpleCache <strong>used at same file directory path</strong> is not released.</p>\n<p>The answer that using SimpleCache as singleton you mentioned about, there is <strong>create a cache file path with getCacheDir()</strong>, not a specified file location.</p>\n<p>If you want to use a specified file path, you'll need to release the SimpleCache object you used before.</p>\n<pre><code>simpleCache.release();\n</code></pre>\n<p>In my case, I create a array to save the downloading simpleCache...</p>\n<pre><code>private static SparseArray&lt;SimpleCache&gt; mediaCaches;\n\n//Need to release the Cache that use in the same file path.\nSimpleCache simpleCache = CacheUtil.getMediaCache(downloadMediaId);\nif (simpleCache != null) {\n    simpleCache.release();\n}\n\nsimpleCache = new SimpleCache(file, new NoOpCacheEvictor(), new ExoDatabaseProvider(context));\n\n//when I download a new audio episode, save with key:episodeId &amp; value:simpleCahe\nmediaCaches.put(downloadMediaId, mediaCache);\n</code></pre>\n"}],"owner":{"account_id":18702916,"reputation":389,"user_id":13634739,"display_name":"StackOverflower"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":601,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1670831152,"creation_date":1669895713,"question_id":74641476,"body_markdown":"Recently i have succeded to implement [downloading media][1] of exoplayer. Here is the picture that illustrates needed classes to implement downloading media using exoplayer.\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nAnd according to [suggestion][3] of a fellow developer in medium and i quote:\r\n\r\n&gt; In order to make the DownloadManager be shared across all components of the app you can initialize it a custom application class. Exoplayer also advised that ExoDatabaseProvider should be a singleton and that download cache should not evict media.\r\n\r\nEverything is working the way they should. Here Is my code in full..\r\n\r\nDownloadService class : \r\n\r\n    public class ExoDownloadService extends DownloadService {\r\n    private final String TAG = &quot;serviceTAG&quot;;\r\n\r\n\r\n    public ExoDownloadService() {\r\n        super(\r\n                1,\r\n                DEFAULT_FOREGROUND_NOTIFICATION_UPDATE_INTERVAL,\r\n                &quot;download_channel&quot;,\r\n                R.string.app_name, 0);\r\n    }\r\n\r\n\r\n    @Override\r\n    protected DownloadManager getDownloadManager() {\r\n        final DownloadManager downloadManager = downloadManager();\r\n\r\n        downloadManager.addListener(\r\n                new TerminalStateNotificationHelper(\r\n                        this, getDownloadNotificationHelper(this), 2));\r\n        return downloadManager;\r\n    }\r\n\r\n    @Inject\r\n    DownCache downCache;\r\n\r\n\r\n    private DownloadManager downloadManager() {\r\n        return ((HiltApplication) getApplication()).downloadMngContainer.getDownloadManager();\r\n    }\r\n\r\n\r\n    DownloadNotificationHelper downloadNotificationHelper;\r\n\r\n    public DownloadNotificationHelper getDownloadNotificationHelper(Context context) {\r\n        if (downloadNotificationHelper == null) {\r\n            downloadNotificationHelper =\r\n                    new DownloadNotificationHelper(context, &quot;download_channel&quot;);\r\n        }\r\n        return downloadNotificationHelper;\r\n    }\r\n\r\n    @Nullable\r\n    @Override\r\n    protected Scheduler getScheduler() {\r\n        return Util.SDK_INT &gt;= 21 ? new PlatformScheduler(this, 1) : null;\r\n    }\r\n\r\n    @Override\r\n    protected Notification getForegroundNotification(List&lt;Download&gt; downloads, int notMetRequirements) {\r\n        final DownloadNotificationHelper downloadNotificationHelper =\r\n                new DownloadNotificationHelper(this, &quot;download_channel&quot;);\r\n        return downloadNotificationHelper.buildProgressNotification(\r\n                this,\r\n                R.drawable.ic_download,\r\n                null,\r\n                null,\r\n                downloads,\r\n                notMetRequirements);\r\n    }\r\n\r\n    private static final class TerminalStateNotificationHelper implements DownloadManager.Listener {\r\n\r\n        private final Context context;\r\n        private final DownloadNotificationHelper notificationHelper;\r\n\r\n        private int nextNotificationId;\r\n\r\n        public TerminalStateNotificationHelper(\r\n                Context context, DownloadNotificationHelper notificationHelper, int firstNotificationId) {\r\n            this.context = context.getApplicationContext();\r\n            this.notificationHelper = notificationHelper;\r\n            nextNotificationId = firstNotificationId;\r\n        }\r\n\r\n        @Override\r\n        public void onDownloadChanged(DownloadManager downloadManager, Download download, @Nullable Exception finalException) {\r\n            Notification notification;\r\n            if (download.state == Download.STATE_COMPLETED) {\r\n                notification =\r\n                        notificationHelper.buildDownloadCompletedNotification(\r\n                                context,\r\n                                R.drawable.ic_download_done,\r\n                                /* contentIntent= */ null,\r\n                                Util.fromUtf8Bytes(download.request.data));\r\n\r\n            } else if (download.state == Download.STATE_FAILED) {\r\n                notification =\r\n                        notificationHelper.buildDownloadFailedNotification(\r\n                                context,\r\n                                R.drawable.ic_download_done,\r\n                                /* contentIntent= */ null,\r\n                                Util.fromUtf8Bytes(download.request.data));\r\n            } else {\r\n                return;\r\n            }\r\n            NotificationUtil.setNotification(context, nextNotificationId++, notification);\r\n        }\r\n    }\r\n\r\n}\r\n\r\n\r\nDownloadManager in application..\r\n\r\n    public class HiltApplication extends Application {\r\n    public DownloadManagerContainer downloadMngContainer;\r\n    private final String TAG = &quot;hiltTAG&quot;;\r\n\r\n    @Override\r\n    public void onCreate() {\r\n        super.onCreate();\r\n        downloadMngContainer = new DownloadManagerContainer(getApplicationContext());\r\n       }\r\n     }\r\n\r\n\r\nDownloadManagerContainer class code..\r\n\r\n    public class DownloadManagerContainer {\r\n    private final Context context;\r\n    private DataSource.Factory httpDataSourceFactory;\r\n    private DownloadManager downloadManager;\r\n\r\n    public DownloadManagerContainer(final Context context) {\r\n        this.context = context;\r\n    }\r\n\r\n    public DownloadManager getDownloadManager() {\r\n        if (downloadManager == null) {\r\n            downloadManager = new DownloadManager(\r\n                    context,\r\n                    getDatabaseProvider(context),\r\n                    DownCache.newInstance(context),\r\n                    getHttpDataSourceFactory(), //upstreamFactory\r\n                    Executors.newFixedThreadPool(6));\r\n        }\r\n        return downloadManager;\r\n    }\r\n\r\n    private DatabaseProvider getDatabaseProvider(Context context) {\r\n        return new StandaloneDatabaseProvider(context);\r\n    }\r\n\r\n    public DataSource.Factory getHttpDataSourceFactory() {\r\n        if (httpDataSourceFactory == null) {\r\n            @Nullable CronetEngine cronetEngine = CronetUtil.buildCronetEngine(context);\r\n            if (cronetEngine != null) {\r\n                httpDataSourceFactory = new CronetDataSource.Factory(cronetEngine, Executors.newSingleThreadExecutor());\r\n            }\r\n            if (httpDataSourceFactory == null) {\r\n                final CookieManager cookieManager = new CookieManager();\r\n                cookieManager.setCookiePolicy(CookiePolicy.ACCEPT_ORIGINAL_SERVER);\r\n                CookieHandler.setDefault(cookieManager);\r\n                httpDataSourceFactory = new DefaultHttpDataSource.Factory();\r\n            }\r\n        }\r\n        return httpDataSourceFactory;\r\n    }\r\n   }\r\n\r\n\r\nDownCache class as singleton is : \r\n\r\n    public class DownCache {\r\n    private static Cache downCache;\r\n\r\n    public static Cache newInstance(final Context context) {\r\n        if (downCache == null) {\r\n            final File downloadContentDirectory = new File(getDownloadDirectory(context), &quot;downloads&quot;);\r\n            downCache = new SimpleCache(downloadContentDirectory, new NoOpCacheEvictor(), getDatabaseProvider(context));\r\n        }\r\n        return downCache;\r\n    }\r\n\r\n\r\n    private static File getDownloadDirectory(Context context) {\r\n        File downloadDirectory = context.getExternalFilesDir(null);\r\n        if (downloadDirectory == null) {\r\n            downloadDirectory = context.getFilesDir();\r\n        }\r\n        return downloadDirectory;\r\n    }\r\n\r\n    private static DatabaseProvider getDatabaseProvider(Context context) {\r\n        return new StandaloneDatabaseProvider(context);\r\n    }\r\n}\r\n\r\n***The Problem :***\r\n\r\nWhen in my fragment that i trigger download i also listen to downloadmanager to update UI: Here is my fragment code..\r\n\r\n    private void downloadMedia() {\r\n\r\n        final Requirements requirements = new Requirements(Requirements.DEVICE_STORAGE_NOT_LOW);\r\n        final boolean isRequired = requirements.checkRequirements(requireContext());\r\n        DownloadService.sendSetRequirements(\r\n                requireContext(),\r\n                ExoDownloadService.class,\r\n                requirements,\r\n                isForeGround\r\n        );\r\n        Log.d(TAG, &quot;Download Requirement Status Is : &quot; + isRequired);\r\n        if (isRequired) {\r\n            try {\r\n                final DownloadRequest request = new DownloadRequest.Builder(downloadID, Uri.parse(vidUrl)).build();\r\n                DownloadService.sendAddDownload(requireContext(), ExoDownloadService.class, request, true);\r\n            } catch (Exception e) {\r\n                Log.d(TAG, &quot;downloadMedia Error Is : &quot; + e.getMessage());\r\n            }\r\n        }\r\n        downloadListener();\r\n    }\r\n\r\n\r\n    private boolean isDownloading = true;\r\n\r\n    private void downloadListener() {\r\n        final DownloadManager downloadManager = ((HiltApplication) requireActivity().getApplication()).downloadMngContainer.getDownloadManager();\r\n        displayDownloadProgress(downloadManager);\r\n\r\n        downloadManager.addListener(new DownloadManager.Listener() {\r\n            @Override\r\n            public void onInitialized(DownloadManager downloadManager) {\r\n                DownloadManager.Listener.super.onInitialized(downloadManager);\r\n                Log.d(TAG, &quot;This Is onInitialized()&quot;);\r\n            }\r\n\r\n            @Override\r\n            public void onDownloadsPausedChanged(DownloadManager downloadManager, boolean downloadsPaused) {\r\n                DownloadManager.Listener.super.onDownloadsPausedChanged(downloadManager, downloadsPaused);\r\n                Log.d(TAG, &quot;This Is onDownloadsPausedChanged()&quot;);\r\n            }\r\n\r\n            @Override\r\n            public void onDownloadChanged(DownloadManager downloadManager, Download download, @Nullable Exception finalException) {\r\n                DownloadManager.Listener.super.onDownloadChanged(downloadManager, download, finalException);\r\n                Log.d(TAG, &quot;This Is onDownloadChanged()&quot;);\r\n            }\r\n\r\n            @Override\r\n            public void onDownloadRemoved(DownloadManager downloadManager, Download download) {\r\n                DownloadManager.Listener.super.onDownloadRemoved(downloadManager, download);\r\n                Log.d(TAG, &quot;This Is onDownloadRemoved()&quot;);\r\n            }\r\n\r\n            @Override\r\n            public void onIdle(DownloadManager downloadManager) {\r\n                DownloadManager.Listener.super.onIdle(downloadManager);\r\n                Log.d(TAG, &quot;This Is onIdle()&quot;);\r\n                isDownloading = false;\r\n            }\r\n\r\n            @Override\r\n            public void onRequirementsStateChanged(DownloadManager downloadManager, Requirements requirements, int notMetRequirements) {\r\n                DownloadManager.Listener.super.onRequirementsStateChanged(downloadManager, requirements, notMetRequirements);\r\n                Log.d(TAG, &quot;This Is onRequirementsStateChanged()&quot;);\r\n            }\r\n\r\n            @Override\r\n            public void onWaitingForRequirementsChanged(DownloadManager downloadManager, boolean waitingForRequirements) {\r\n                DownloadManager.Listener.super.onWaitingForRequirementsChanged(downloadManager, waitingForRequirements);\r\n                Log.d(TAG, &quot;This Is onWaitingForRequirementsChanged()&quot;);\r\n            }\r\n        });\r\n    }\r\n\r\n    private void displayDownloadProgress(DownloadManager downloadManager) {\r\n        final ExecutorService thread = Executors.newSingleThreadExecutor();\r\n        final Handler handler = new Handler(Looper.getMainLooper());\r\n\r\n        thread.execute(() -&gt; {\r\n            final int size = downloadManager.getCurrentDownloads().size();\r\n            Log.d(TAG, &quot;Download List Is : &quot; + downloadManager.getCurrentDownloads().size());\r\n            while (isDownloading) {\r\n                try {\r\n                    final float percent = downloadManager.getCurrentDownloads().get(size - 1).getPercentDownloaded();\r\n                    final String percentStr = Float.toString(percent);\r\n                    handler.post(() -&gt; {\r\n                        binding.tvDownPercent.setText(percentStr);\r\n                        Log.d(TAG, &quot;Percentage Is : &quot; + percentStr);\r\n                    });\r\n\r\n                } catch (Exception e) {\r\n                    Log.d(TAG, &quot;displayDownloadProgress Error Is : &quot; + e.getMessage());\r\n                }\r\n\r\n            }\r\n        });\r\n    }\r\n\r\ni face this **ERROR** which says: `java.lang.IllegalStateException: Another SimpleCache instance uses the folder:* poiting to this line of code in &quot;DownCache.class&quot;`\r\n\r\n    downCache = new SimpleCache(downloadContentDirectory, new NoOpCacheEvictor(), getDatabaseProvider(context));\r\n\r\n\r\n[Here it says][4] we should use `SimpleCache` as singleton, i did the precise instruction and yet facing the same Error. Where did i do wrong??\r\n\r\n\r\n  [1]: https://exoplayer.dev/downloading-media.html\r\n  [2]: https://i.stack.imgur.com/EdfSk.jpg\r\n  [3]: https://ochornmapromise.medium.com/downloading-media-through-exoplayer-part-1-24b1767f07f1\r\n  [4]: https://stackoverflow.com/a/52508156/13634739","title":"Error in Listening exoDownloadManager : Another SimpleCache instance uses the folder","body":"<p>Recently i have succeded to implement <a href=\"https://exoplayer.dev/downloading-media.html\" rel=\"nofollow noreferrer\">downloading media</a> of exoplayer. Here is the picture that illustrates needed classes to implement downloading media using exoplayer.</p>\n<p><a href=\"https://i.stack.imgur.com/EdfSk.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EdfSk.jpg\" alt=\"enter image description here\" /></a></p>\n<p>And according to <a href=\"https://ochornmapromise.medium.com/downloading-media-through-exoplayer-part-1-24b1767f07f1\" rel=\"nofollow noreferrer\">suggestion</a> of a fellow developer in medium and i quote:</p>\n<blockquote>\n<p>In order to make the DownloadManager be shared across all components of the app you can initialize it a custom application class. Exoplayer also advised that ExoDatabaseProvider should be a singleton and that download cache should not evict media.</p>\n</blockquote>\n<p>Everything is working the way they should. Here Is my code in full..</p>\n<p>DownloadService class :</p>\n<pre><code>public class ExoDownloadService extends DownloadService {\nprivate final String TAG = &quot;serviceTAG&quot;;\n\n\npublic ExoDownloadService() {\n    super(\n            1,\n            DEFAULT_FOREGROUND_NOTIFICATION_UPDATE_INTERVAL,\n            &quot;download_channel&quot;,\n            R.string.app_name, 0);\n}\n\n\n@Override\nprotected DownloadManager getDownloadManager() {\n    final DownloadManager downloadManager = downloadManager();\n\n    downloadManager.addListener(\n            new TerminalStateNotificationHelper(\n                    this, getDownloadNotificationHelper(this), 2));\n    return downloadManager;\n}\n\n@Inject\nDownCache downCache;\n\n\nprivate DownloadManager downloadManager() {\n    return ((HiltApplication) getApplication()).downloadMngContainer.getDownloadManager();\n}\n\n\nDownloadNotificationHelper downloadNotificationHelper;\n\npublic DownloadNotificationHelper getDownloadNotificationHelper(Context context) {\n    if (downloadNotificationHelper == null) {\n        downloadNotificationHelper =\n                new DownloadNotificationHelper(context, &quot;download_channel&quot;);\n    }\n    return downloadNotificationHelper;\n}\n\n@Nullable\n@Override\nprotected Scheduler getScheduler() {\n    return Util.SDK_INT &gt;= 21 ? new PlatformScheduler(this, 1) : null;\n}\n\n@Override\nprotected Notification getForegroundNotification(List&lt;Download&gt; downloads, int notMetRequirements) {\n    final DownloadNotificationHelper downloadNotificationHelper =\n            new DownloadNotificationHelper(this, &quot;download_channel&quot;);\n    return downloadNotificationHelper.buildProgressNotification(\n            this,\n            R.drawable.ic_download,\n            null,\n            null,\n            downloads,\n            notMetRequirements);\n}\n\nprivate static final class TerminalStateNotificationHelper implements DownloadManager.Listener {\n\n    private final Context context;\n    private final DownloadNotificationHelper notificationHelper;\n\n    private int nextNotificationId;\n\n    public TerminalStateNotificationHelper(\n            Context context, DownloadNotificationHelper notificationHelper, int firstNotificationId) {\n        this.context = context.getApplicationContext();\n        this.notificationHelper = notificationHelper;\n        nextNotificationId = firstNotificationId;\n    }\n\n    @Override\n    public void onDownloadChanged(DownloadManager downloadManager, Download download, @Nullable Exception finalException) {\n        Notification notification;\n        if (download.state == Download.STATE_COMPLETED) {\n            notification =\n                    notificationHelper.buildDownloadCompletedNotification(\n                            context,\n                            R.drawable.ic_download_done,\n                            /* contentIntent= */ null,\n                            Util.fromUtf8Bytes(download.request.data));\n\n        } else if (download.state == Download.STATE_FAILED) {\n            notification =\n                    notificationHelper.buildDownloadFailedNotification(\n                            context,\n                            R.drawable.ic_download_done,\n                            /* contentIntent= */ null,\n                            Util.fromUtf8Bytes(download.request.data));\n        } else {\n            return;\n        }\n        NotificationUtil.setNotification(context, nextNotificationId++, notification);\n    }\n}\n</code></pre>\n<p>}</p>\n<p>DownloadManager in application..</p>\n<pre><code>public class HiltApplication extends Application {\npublic DownloadManagerContainer downloadMngContainer;\nprivate final String TAG = &quot;hiltTAG&quot;;\n\n@Override\npublic void onCreate() {\n    super.onCreate();\n    downloadMngContainer = new DownloadManagerContainer(getApplicationContext());\n   }\n }\n</code></pre>\n<p>DownloadManagerContainer class code..</p>\n<pre><code>public class DownloadManagerContainer {\nprivate final Context context;\nprivate DataSource.Factory httpDataSourceFactory;\nprivate DownloadManager downloadManager;\n\npublic DownloadManagerContainer(final Context context) {\n    this.context = context;\n}\n\npublic DownloadManager getDownloadManager() {\n    if (downloadManager == null) {\n        downloadManager = new DownloadManager(\n                context,\n                getDatabaseProvider(context),\n                DownCache.newInstance(context),\n                getHttpDataSourceFactory(), //upstreamFactory\n                Executors.newFixedThreadPool(6));\n    }\n    return downloadManager;\n}\n\nprivate DatabaseProvider getDatabaseProvider(Context context) {\n    return new StandaloneDatabaseProvider(context);\n}\n\npublic DataSource.Factory getHttpDataSourceFactory() {\n    if (httpDataSourceFactory == null) {\n        @Nullable CronetEngine cronetEngine = CronetUtil.buildCronetEngine(context);\n        if (cronetEngine != null) {\n            httpDataSourceFactory = new CronetDataSource.Factory(cronetEngine, Executors.newSingleThreadExecutor());\n        }\n        if (httpDataSourceFactory == null) {\n            final CookieManager cookieManager = new CookieManager();\n            cookieManager.setCookiePolicy(CookiePolicy.ACCEPT_ORIGINAL_SERVER);\n            CookieHandler.setDefault(cookieManager);\n            httpDataSourceFactory = new DefaultHttpDataSource.Factory();\n        }\n    }\n    return httpDataSourceFactory;\n}\n</code></pre>\n<p>}</p>\n<p>DownCache class as singleton is :</p>\n<pre><code>public class DownCache {\nprivate static Cache downCache;\n\npublic static Cache newInstance(final Context context) {\n    if (downCache == null) {\n        final File downloadContentDirectory = new File(getDownloadDirectory(context), &quot;downloads&quot;);\n        downCache = new SimpleCache(downloadContentDirectory, new NoOpCacheEvictor(), getDatabaseProvider(context));\n    }\n    return downCache;\n}\n\n\nprivate static File getDownloadDirectory(Context context) {\n    File downloadDirectory = context.getExternalFilesDir(null);\n    if (downloadDirectory == null) {\n        downloadDirectory = context.getFilesDir();\n    }\n    return downloadDirectory;\n}\n\nprivate static DatabaseProvider getDatabaseProvider(Context context) {\n    return new StandaloneDatabaseProvider(context);\n}\n</code></pre>\n<p>}</p>\n<p><em><strong>The Problem :</strong></em></p>\n<p>When in my fragment that i trigger download i also listen to downloadmanager to update UI: Here is my fragment code..</p>\n<pre><code>private void downloadMedia() {\n\n    final Requirements requirements = new Requirements(Requirements.DEVICE_STORAGE_NOT_LOW);\n    final boolean isRequired = requirements.checkRequirements(requireContext());\n    DownloadService.sendSetRequirements(\n            requireContext(),\n            ExoDownloadService.class,\n            requirements,\n            isForeGround\n    );\n    Log.d(TAG, &quot;Download Requirement Status Is : &quot; + isRequired);\n    if (isRequired) {\n        try {\n            final DownloadRequest request = new DownloadRequest.Builder(downloadID, Uri.parse(vidUrl)).build();\n            DownloadService.sendAddDownload(requireContext(), ExoDownloadService.class, request, true);\n        } catch (Exception e) {\n            Log.d(TAG, &quot;downloadMedia Error Is : &quot; + e.getMessage());\n        }\n    }\n    downloadListener();\n}\n\n\nprivate boolean isDownloading = true;\n\nprivate void downloadListener() {\n    final DownloadManager downloadManager = ((HiltApplication) requireActivity().getApplication()).downloadMngContainer.getDownloadManager();\n    displayDownloadProgress(downloadManager);\n\n    downloadManager.addListener(new DownloadManager.Listener() {\n        @Override\n        public void onInitialized(DownloadManager downloadManager) {\n            DownloadManager.Listener.super.onInitialized(downloadManager);\n            Log.d(TAG, &quot;This Is onInitialized()&quot;);\n        }\n\n        @Override\n        public void onDownloadsPausedChanged(DownloadManager downloadManager, boolean downloadsPaused) {\n            DownloadManager.Listener.super.onDownloadsPausedChanged(downloadManager, downloadsPaused);\n            Log.d(TAG, &quot;This Is onDownloadsPausedChanged()&quot;);\n        }\n\n        @Override\n        public void onDownloadChanged(DownloadManager downloadManager, Download download, @Nullable Exception finalException) {\n            DownloadManager.Listener.super.onDownloadChanged(downloadManager, download, finalException);\n            Log.d(TAG, &quot;This Is onDownloadChanged()&quot;);\n        }\n\n        @Override\n        public void onDownloadRemoved(DownloadManager downloadManager, Download download) {\n            DownloadManager.Listener.super.onDownloadRemoved(downloadManager, download);\n            Log.d(TAG, &quot;This Is onDownloadRemoved()&quot;);\n        }\n\n        @Override\n        public void onIdle(DownloadManager downloadManager) {\n            DownloadManager.Listener.super.onIdle(downloadManager);\n            Log.d(TAG, &quot;This Is onIdle()&quot;);\n            isDownloading = false;\n        }\n\n        @Override\n        public void onRequirementsStateChanged(DownloadManager downloadManager, Requirements requirements, int notMetRequirements) {\n            DownloadManager.Listener.super.onRequirementsStateChanged(downloadManager, requirements, notMetRequirements);\n            Log.d(TAG, &quot;This Is onRequirementsStateChanged()&quot;);\n        }\n\n        @Override\n        public void onWaitingForRequirementsChanged(DownloadManager downloadManager, boolean waitingForRequirements) {\n            DownloadManager.Listener.super.onWaitingForRequirementsChanged(downloadManager, waitingForRequirements);\n            Log.d(TAG, &quot;This Is onWaitingForRequirementsChanged()&quot;);\n        }\n    });\n}\n\nprivate void displayDownloadProgress(DownloadManager downloadManager) {\n    final ExecutorService thread = Executors.newSingleThreadExecutor();\n    final Handler handler = new Handler(Looper.getMainLooper());\n\n    thread.execute(() -&gt; {\n        final int size = downloadManager.getCurrentDownloads().size();\n        Log.d(TAG, &quot;Download List Is : &quot; + downloadManager.getCurrentDownloads().size());\n        while (isDownloading) {\n            try {\n                final float percent = downloadManager.getCurrentDownloads().get(size - 1).getPercentDownloaded();\n                final String percentStr = Float.toString(percent);\n                handler.post(() -&gt; {\n                    binding.tvDownPercent.setText(percentStr);\n                    Log.d(TAG, &quot;Percentage Is : &quot; + percentStr);\n                });\n\n            } catch (Exception e) {\n                Log.d(TAG, &quot;displayDownloadProgress Error Is : &quot; + e.getMessage());\n            }\n\n        }\n    });\n}\n</code></pre>\n<p>i face this <strong>ERROR</strong> which says: <code>java.lang.IllegalStateException: Another SimpleCache instance uses the folder:* poiting to this line of code in &quot;DownCache.class&quot;</code></p>\n<pre><code>downCache = new SimpleCache(downloadContentDirectory, new NoOpCacheEvictor(), getDatabaseProvider(context));\n</code></pre>\n<p><a href=\"https://stackoverflow.com/a/52508156/13634739\">Here it says</a> we should use <code>SimpleCache</code> as singleton, i did the precise instruction and yet facing the same Error. Where did i do wrong??</p>\n"},{"tags":["java","bigdecimal"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":2,"creation_date":1333224841,"post_id":9959288,"comment_id":12719966,"body_markdown":"Yes, this sounds like a great idea. 1+ for wanting to avoid use of floating-point numbers for this.","body":"Yes, this sounds like a great idea. 1+ for wanting to avoid use of floating-point numbers for this."},{"owner":{"account_id":1345324,"reputation":3987,"user_id":1286210,"display_name":"Neet"},"score":0,"creation_date":1333225259,"post_id":9959288,"comment_id":12720033,"body_markdown":"Another practical approach for calculating with money is rationals. They have &#39;unlimited&#39; precision, are stable and also faster than BigDecimal.","body":"Another practical approach for calculating with money is rationals. They have &#39;unlimited&#39; precision, are stable and also faster than BigDecimal."}],"answers":[{"comments":[{"owner":{"account_id":78518,"reputation":40077,"user_id":223424,"accept_rate":74,"display_name":"9000"},"score":0,"creation_date":1333226291,"post_id":9959347,"comment_id":12720230,"body_markdown":"Sometimes financial calculations take even more sophisticated approaches. E.g. a typical case is separating a an amount into n% and (100-n)% parts so that the sum of the parts is penny-perfect, despite rounding.","body":"Sometimes financial calculations take even more sophisticated approaches. E.g. a typical case is separating a an amount into n% and (100-n)% parts so that the sum of the parts is penny-perfect, despite rounding."},{"owner":{"account_id":14965,"reputation":55597,"user_id":31158,"accept_rate":89,"display_name":"Jord&#227;o"},"score":0,"creation_date":1333226567,"post_id":9959347,"comment_id":12720282,"body_markdown":"@9000: Yes, Fowler described an allocation algorithm for that, look at PoEAA; I&#39;ve also used it before with great success...","body":"@9000: Yes, Fowler described an allocation algorithm for that, look at PoEAA; I&#39;ve also used it before with great success..."},{"owner":{"account_id":14965,"reputation":55597,"user_id":31158,"accept_rate":89,"display_name":"Jord&#227;o"},"score":0,"creation_date":1333227415,"post_id":9959347,"comment_id":12720454,"body_markdown":"@9000: I found the algorithm [here](http://books.google.ca/books?id=Jl5rkQnbfAIC&amp;lpg=PA489&amp;ots=gut4bQs6FR&amp;dq=fowler%20money%20conundrum&amp;pg=PA494#v=onepage&amp;q&amp;f=false)","body":"@9000: I found the algorithm <a href=\"http://books.google.ca/books?id=Jl5rkQnbfAIC&amp;lpg=PA489&amp;ots=gut4bQs6FR&amp;dq=fowler%20money%20conundrum&amp;pg=PA494#v=onepage&amp;q&amp;f=false\" rel=\"nofollow noreferrer\">here</a>"},{"owner":{"account_id":1355872,"reputation":105,"user_id":1294273,"accept_rate":67,"display_name":"Wormhole99"},"score":0,"creation_date":1333227436,"post_id":9959347,"comment_id":12720462,"body_markdown":"^^Thats Jordao and 9000, I figured I would need to use just BigDecimal.","body":"^^Thats Jordao and 9000, I figured I would need to use just BigDecimal."},{"owner":{"account_id":14965,"reputation":55597,"user_id":31158,"accept_rate":89,"display_name":"Jord&#227;o"},"score":0,"creation_date":1333227549,"post_id":9959347,"comment_id":12720482,"body_markdown":"@Wormhole99: so, you have multiple currencies but still won&#39;t create a `Money` class? You should _strongly_ consider it. The abstraction will make your program easier to understand and maintain.","body":"@Wormhole99: so, you have multiple currencies but still won&#39;t create a <code>Money</code> class? You should <i>strongly</i> consider it. The abstraction will make your program easier to understand and maintain."}],"tags":[],"owner":{"account_id":14965,"reputation":55597,"user_id":31158,"accept_rate":89,"display_name":"Jord&#227;o"},"comment_count":5,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1333226410,"creation_date":1333225275,"answer_id":9959347,"question_id":9959288,"body_markdown":"Yes, you should change all floats or doubles to take either ints, longs or `BigDecimals`.\r\n\r\nFloats and doubles are not precise for financial calculations. It&#39;s a very good idea to use the [`Money`](http://martinfowler.com/eaaCatalog/money.html) pattern to deal with amounts and currencies (it&#39;s a special type of [`Quantity`](http://martinfowler.com/eaaDev/quantity.html)). To maintain a list of moneys possibly in multiple currencies, what you&#39;re effectively doing is a `MoneyBag`, a collection of `Money` that can then sum all values given a target currency and a `CurrencyExchangeService` (currency conversion rates should also be stored as `BigDecimals`).\r\n\r\nRounding should be done after every operation according to the number of desired decimal places and the rounding algorithm. The number of decimal places is normally a property of the `Currency` (look, e.g., at [ISO 4217](http://www.currency-iso.org/iso_index/iso_tables/iso_tables_a1.htm)); unless a different number is desired (like when pricing gasoline, for example).\r\n\r\nYou should definitely look at Fowler&#39;s examples; but I&#39;ve also created a very simple uni-currency [`Money`](https://github.com/codecrafter/orders/blob/master/src/main/java/codecrafter/orders/Money.java) class for an [exercise](http://codecrafter.blogspot.ca/2012/03/some-oo-design.html). It uses dollars only and rounds to 2 decimal places; but it&#39;s still a good base for future extensions.","title":"BigDecimal and Money","body":"<p>Yes, you should change all floats or doubles to take either ints, longs or <code>BigDecimals</code>.</p>\n\n<p>Floats and doubles are not precise for financial calculations. It's a very good idea to use the <a href=\"http://martinfowler.com/eaaCatalog/money.html\" rel=\"nofollow\"><code>Money</code></a> pattern to deal with amounts and currencies (it's a special type of <a href=\"http://martinfowler.com/eaaDev/quantity.html\" rel=\"nofollow\"><code>Quantity</code></a>). To maintain a list of moneys possibly in multiple currencies, what you're effectively doing is a <code>MoneyBag</code>, a collection of <code>Money</code> that can then sum all values given a target currency and a <code>CurrencyExchangeService</code> (currency conversion rates should also be stored as <code>BigDecimals</code>).</p>\n\n<p>Rounding should be done after every operation according to the number of desired decimal places and the rounding algorithm. The number of decimal places is normally a property of the <code>Currency</code> (look, e.g., at <a href=\"http://www.currency-iso.org/iso_index/iso_tables/iso_tables_a1.htm\" rel=\"nofollow\">ISO 4217</a>); unless a different number is desired (like when pricing gasoline, for example).</p>\n\n<p>You should definitely look at Fowler's examples; but I've also created a very simple uni-currency <a href=\"https://github.com/codecrafter/orders/blob/master/src/main/java/codecrafter/orders/Money.java\" rel=\"nofollow\"><code>Money</code></a> class for an <a href=\"http://codecrafter.blogspot.ca/2012/03/some-oo-design.html\" rel=\"nofollow\">exercise</a>. It uses dollars only and rounds to 2 decimal places; but it's still a good base for future extensions.</p>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1333225612,"creation_date":1333225612,"answer_id":9959401,"question_id":9959288,"body_markdown":"Yes, BigDecimal is certainly the correct way (floating point almost never). Also in JDBC.\r\n\r\nBut having said that, there is an issue with rounding. In some cases 6 decimals are legally required in european software. In general you will want to round on 2 places in every step. If you have a quantity with 2 decimals and a price, you&#39;ll get 4 decimals, and have to round. So to make the ugly BigDecimal interface even uglier, you probably need some help functions (multiplyRounded?).","title":"BigDecimal and Money","body":"<p>Yes, BigDecimal is certainly the correct way (floating point almost never). Also in JDBC.</p>\n\n<p>But having said that, there is an issue with rounding. In some cases 6 decimals are legally required in european software. In general you will want to round on 2 places in every step. If you have a quantity with 2 decimals and a price, you'll get 4 decimals, and have to round. So to make the ugly BigDecimal interface even uglier, you probably need some help functions (multiplyRounded?).</p>\n"}],"owner":{"account_id":1355872,"reputation":105,"user_id":1294273,"accept_rate":67,"display_name":"Wormhole99"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4820,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":9959347,"answer_count":2,"score":7,"last_activity_date":1670831109,"creation_date":1333224784,"question_id":9959288,"body_markdown":"I&#39;ve researched and found that when dealing with currency, the best way to go about doing calculations is by the `BigDecimal` class. \r\n\r\nWith that in mind, I&#39;m working on a code that converts various types of foreign currency into US currency and vice-versa  (specifically, a cashregister that takes foreign currency and converts it into US money, computes the change and returns this amount to the customer in foreign currency). \r\n\r\nAs of now, many of the methods use `double` and two of them take in `int` as a parameter to be used in computing the US currency. \r\n\r\n**Question:** \r\n\r\nSince I want to use the BigDecimal class in my calculations, should I change all my methods that make calculations involving doubles to a BigDecimal?\t\r\n\r\n","title":"BigDecimal and Money","body":"<p>I've researched and found that when dealing with currency, the best way to go about doing calculations is by the <code>BigDecimal</code> class. </p>\n\n<p>With that in mind, I'm working on a code that converts various types of foreign currency into US currency and vice-versa  (specifically, a cashregister that takes foreign currency and converts it into US money, computes the change and returns this amount to the customer in foreign currency). </p>\n\n<p>As of now, many of the methods use <code>double</code> and two of them take in <code>int</code> as a parameter to be used in computing the US currency. </p>\n\n<p><strong>Question:</strong> </p>\n\n<p>Since I want to use the BigDecimal class in my calculations, should I change all my methods that make calculations involving doubles to a BigDecimal?   </p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9406,"page":817,"page_size":100}
