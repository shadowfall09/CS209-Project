{"items":[{"tags":["java","overloading","unboxing"],"comments":[{"owner":{"account_id":137505,"reputation":19738,"user_id":341730,"display_name":"univerio"},"score":10,"creation_date":1431024386,"post_id":30109231,"comment_id":48329436,"body_markdown":"`Integer` -&gt; `int` is not a downcast -- it&#39;s unboxing, which is a separate mechanism.","body":"<code>Integer</code> -&gt; <code>int</code> is not a downcast -- it&#39;s unboxing, which is a separate mechanism."},{"owner":{"account_id":1734091,"reputation":92376,"user_id":1587046,"accept_rate":62,"display_name":"Alexis C."},"score":1,"creation_date":1431024412,"post_id":30109231,"comment_id":48329453,"body_markdown":"Because it&#39;s enough close to unbox the `Integer` to `int`. Java does this automatically since Java 5. _&quot;Autoboxing is the automatic conversion that the Java compiler makes between the primitive types and their corresponding object wrapper classes. For example, converting an int to an Integer, a double to a Double, and so on. If the conversion goes the other way, this is called unboxing.&quot;_","body":"Because it&#39;s enough close to unbox the <code>Integer</code> to <code>int</code>. Java does this automatically since Java 5. <i>&quot;Autoboxing is the automatic conversion that the Java compiler makes between the primitive types and their corresponding object wrapper classes. For example, converting an int to an Integer, a double to a Double, and so on. If the conversion goes the other way, this is called unboxing.&quot;</i>"}],"answers":[{"tags":[],"owner":{"account_id":3577678,"reputation":11003,"user_id":2986537,"accept_rate":100,"display_name":"Razib"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1431024950,"creation_date":1431024492,"answer_id":30109315,"question_id":30109231,"body_markdown":"Actually in the second example no downcasting is occurred. There occurred the following thing -  \r\n\r\n**1.**  Integer is unwrapped/unboxed to primitive type `int`.   \r\n**2.**  Then the `TestOverLoad(int a)` method is called.  \r\n\r\nIn main method you declare Integer like -  \r\n\r\n     Integer i = 9;  \r\nThen call - \r\n\r\n    test.TestOverLoad(i);  \r\n\r\nWhereas, you have 2 overloaded version of `TestOverLoad()` -  \r\n\r\n    TestOverLoad(int a); \r\n    TestOverLoad(String a);\r\n\r\nHere the second overloaded version of `TestOverLoad()` takes completely different argument `String`. Thats why `Integer` `i` is unboxed to a primitive type `int` and after that the first overloaded version is called.","title":"Method overload resolution in java","body":"<p>Actually in the second example no downcasting is occurred. There occurred the following thing -  </p>\n\n<p><strong>1.</strong>  Integer is unwrapped/unboxed to primitive type <code>int</code>.<br>\n<strong>2.</strong>  Then the <code>TestOverLoad(int a)</code> method is called.  </p>\n\n<p>In main method you declare Integer like -  </p>\n\n<pre><code> Integer i = 9;  \n</code></pre>\n\n<p>Then call - </p>\n\n<pre><code>test.TestOverLoad(i);  \n</code></pre>\n\n<p>Whereas, you have 2 overloaded version of <code>TestOverLoad()</code> -  </p>\n\n<pre><code>TestOverLoad(int a); \nTestOverLoad(String a);\n</code></pre>\n\n<p>Here the second overloaded version of <code>TestOverLoad()</code> takes completely different argument <code>String</code>. Thats why <code>Integer</code> <code>i</code> is unboxed to a primitive type <code>int</code> and after that the first overloaded version is called.</p>\n"},{"tags":[],"owner":{"account_id":1888343,"reputation":176607,"user_id":1707091,"display_name":"rgettman"},"down_vote_count":0,"up_vote_count":22,"is_accepted":true,"score":22,"last_activity_date":1431024496,"creation_date":1431024496,"answer_id":30109319,"question_id":30109231,"body_markdown":"The compiler will consider not a downcast, but an unboxing conversion for overload resolution.  Here, the `Integer` `i` will be unboxed to an `int` successfully.  The `String` method isn&#39;t considered because an `Integer` cannot be widened to a `String`.  The only possible overload is the one that considers unboxing, so `8` is printed.\r\n\r\nThe reason that the first code&#39;s output is `10` is that the compiler will consider a widening reference conversion (`Integer` to `Object`) over an unboxing conversion.\r\n\r\n[Section 15.12.2 of the JLS][1], when considering which methods are applicable, states:\r\n\r\n&gt; 1. The first phase (&#167;15.12.2.2) performs overload resolution without permitting boxing or unboxing conversion, or the use of variable arity method invocation. If no applicable method is found during this phase then processing continues to the second phase.\r\n\r\n&amp;nbsp;\r\n\r\n&gt; 2. The second phase (&#167;15.12.2.3) performs overload resolution while allowing boxing and unboxing [...]\r\n\r\n[1]: https://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.12.2","title":"Method overload resolution in java","body":"<p>The compiler will consider not a downcast, but an unboxing conversion for overload resolution.  Here, the <code>Integer</code> <code>i</code> will be unboxed to an <code>int</code> successfully.  The <code>String</code> method isn't considered because an <code>Integer</code> cannot be widened to a <code>String</code>.  The only possible overload is the one that considers unboxing, so <code>8</code> is printed.</p>\n\n<p>The reason that the first code's output is <code>10</code> is that the compiler will consider a widening reference conversion (<code>Integer</code> to <code>Object</code>) over an unboxing conversion.</p>\n\n<p><a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.12.2\">Section 15.12.2 of the JLS</a>, when considering which methods are applicable, states:</p>\n\n<blockquote>\n  <ol>\n  <li>The first phase (§15.12.2.2) performs overload resolution without permitting boxing or unboxing conversion, or the use of variable arity method invocation. If no applicable method is found during this phase then processing continues to the second phase.</li>\n  </ol>\n</blockquote>\n\n<p>&nbsp;</p>\n\n<blockquote>\n  <ol start=\"2\">\n  <li>The second phase (§15.12.2.3) performs overload resolution while allowing boxing and unboxing [...]</li>\n  </ol>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1046868,"reputation":5163,"user_id":1051677,"accept_rate":100,"display_name":"Silviu Burcea"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1431024617,"creation_date":1431024617,"answer_id":30109362,"question_id":30109231,"body_markdown":"widening beats boxing, boxing beats var-args. In your example, the widening cannot happen, so the boxing it&#39;s applied and Integer is unboxed. Nothing unordinary.","title":"Method overload resolution in java","body":"<p>widening beats boxing, boxing beats var-args. In your example, the widening cannot happen, so the boxing it's applied and Integer is unboxed. Nothing unordinary.</p>\n"},{"tags":[],"owner":{"account_id":5591527,"reputation":162,"user_id":4430591,"display_name":"Nathan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1431024790,"creation_date":1431024790,"answer_id":30109413,"question_id":30109231,"body_markdown":"All objects in Java extend the class Object, including the class Integer. These two class have the following relationship: Integer &quot;is a(n)&quot; Object because Integer extends Object. In your first example, the method with Object parameter is used.\r\n\r\nIn the second example, no methods are found that accept an Integer. In this case Java uses what is called auto-unboxing to resolve the Integer wrapper class to a primitive int. Thus, the method with the int parameter is used.","title":"Method overload resolution in java","body":"<p>All objects in Java extend the class Object, including the class Integer. These two class have the following relationship: Integer \"is a(n)\" Object because Integer extends Object. In your first example, the method with Object parameter is used.</p>\n\n<p>In the second example, no methods are found that accept an Integer. In this case Java uses what is called auto-unboxing to resolve the Integer wrapper class to a primitive int. Thus, the method with the int parameter is used.</p>\n"},{"tags":[],"owner":{"account_id":1405987,"reputation":16394,"user_id":1385441,"accept_rate":77,"display_name":"Ram Patra"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1582021339,"creation_date":1431069404,"answer_id":30117977,"question_id":30109231,"body_markdown":"In Java, resolving methods in case of method overloading is done with the following precedence:\r\n\r\n **1. Widening&lt;br/&gt; \r\n 2. Auto-boxing&lt;br/&gt;\r\n 3. Var-args**\r\n\r\nThe java compiler thinks that widening a primitive parameter is more desirable than performing an auto-boxing operation. \r\n\r\nIn other words, as **auto-boxing** was introduced in Java 5, the compiler chooses the older style(**widening**) before it chooses the newer style(**auto-boxing**), keeping existing code more robust. Same is with **var-args**.\r\n\r\n&gt;In your 1st code snippet, widening of reference variable occurs i.e, `Integer` to `Object` rather than un-boxing i.e, `Integer` to `int`. And in your 2nd snippet, widening cannot happen from `Integer` to `String` so unboxing happens.\r\n\r\nConsider the below program which proves all the above statements:\r\n\r\n    class MethodOverloading {\r\n    \r\n        static void go(Long x) {\r\n            System.out.print(&quot;Long &quot;);\r\n        }\r\n    \r\n        static void go(double x) {\r\n            System.out.print(&quot;double &quot;);\r\n        }\r\n    \r\n        static void go(Double x) {\r\n            System.out.print(&quot;Double &quot;);\r\n        }\r\n    \r\n        static void go(int x, int y) {\r\n            System.out.print(&quot;int,int &quot;);\r\n        }\r\n    \r\n        static void go(byte... x) {\r\n            System.out.print(&quot;byte... &quot;);\r\n        }\r\n    \r\n        static void go(Long x, Long y) {\r\n            System.out.print(&quot;Long,Long &quot;);\r\n        }\r\n    \r\n        static void go(long... x) {\r\n            System.out.print(&quot;long... &quot;);\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            byte b = 5;\r\n            short s = 5;\r\n            long l = 5;\r\n            float f = 5.0f;\r\n            // widening beats autoboxing\r\n            go(b);\r\n            go(s);\r\n            go(l);\r\n            go(f);\r\n            // widening beats var-args\r\n            go(b, b);\r\n            // auto-boxing beats var-args\r\n            go(l, l);\r\n        }\r\n    }\r\n\r\nThe output is:\r\n&lt;pre&gt;double double double double int,int Long,Long&lt;/pre&gt;\r\n\r\nJust for reference, here is my [blog on method overloading in Java][1].\r\n\r\n\r\n  [1]: https://blog.rampatra.com/overloading\r\n\r\nP.S: My answer is a modified version of an example given in SCJP.","title":"Method overload resolution in java","body":"<p>In Java, resolving methods in case of method overloading is done with the following precedence:</p>\n\n<p><strong>1. Widening<br/> \n 2. Auto-boxing<br/>\n 3. Var-args</strong></p>\n\n<p>The java compiler thinks that widening a primitive parameter is more desirable than performing an auto-boxing operation. </p>\n\n<p>In other words, as <strong>auto-boxing</strong> was introduced in Java 5, the compiler chooses the older style(<strong>widening</strong>) before it chooses the newer style(<strong>auto-boxing</strong>), keeping existing code more robust. Same is with <strong>var-args</strong>.</p>\n\n<blockquote>\n  <p>In your 1st code snippet, widening of reference variable occurs i.e, <code>Integer</code> to <code>Object</code> rather than un-boxing i.e, <code>Integer</code> to <code>int</code>. And in your 2nd snippet, widening cannot happen from <code>Integer</code> to <code>String</code> so unboxing happens.</p>\n</blockquote>\n\n<p>Consider the below program which proves all the above statements:</p>\n\n<pre><code>class MethodOverloading {\n\n    static void go(Long x) {\n        System.out.print(\"Long \");\n    }\n\n    static void go(double x) {\n        System.out.print(\"double \");\n    }\n\n    static void go(Double x) {\n        System.out.print(\"Double \");\n    }\n\n    static void go(int x, int y) {\n        System.out.print(\"int,int \");\n    }\n\n    static void go(byte... x) {\n        System.out.print(\"byte... \");\n    }\n\n    static void go(Long x, Long y) {\n        System.out.print(\"Long,Long \");\n    }\n\n    static void go(long... x) {\n        System.out.print(\"long... \");\n    }\n\n    public static void main(String[] args) {\n        byte b = 5;\n        short s = 5;\n        long l = 5;\n        float f = 5.0f;\n        // widening beats autoboxing\n        go(b);\n        go(s);\n        go(l);\n        go(f);\n        // widening beats var-args\n        go(b, b);\n        // auto-boxing beats var-args\n        go(l, l);\n    }\n}\n</code></pre>\n\n<p>The output is:</p>\n\n<pre>double double double double int,int Long,Long</pre>\n\n<p>Just for reference, here is my <a href=\"https://blog.rampatra.com/overloading\" rel=\"noreferrer\">blog on method overloading in Java</a>.</p>\n\n<p>P.S: My answer is a modified version of an example given in SCJP.</p>\n"},{"tags":[],"owner":{"account_id":2745991,"reputation":1440,"user_id":2366397,"display_name":"igor.zh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638662181,"creation_date":1638662181,"answer_id":70230454,"question_id":30109231,"body_markdown":"While accepted answer of @rgettman leads to very right source, more precisely, &#167;15.12.2.2 and &#167;15.12.2.3 of the [JLS Section 15.12.2][1] discuss the _applicability_, not the _resolution_ - what the OP asked for. In the example the OP provided both `testOverLoad` methods are _applicable_, .i.e. will be successfully resolved in the absence of another one. \r\nInstead, [15.12.2.5. Choosing the Most Specific Method][2] discusses the _resolution_ of the applicable methods.\r\nIt reads:\r\n\r\n&gt; One applicable method m1 is more specific than another applicable\r\n&gt; method m2, for an invocation with argument expressions e1, ..., ek, if\r\n&gt; any of the following are true:\r\n&gt; ...\r\n&gt; \r\n&gt;  m1 and m2 are applicable by strict or loose invocation, and where m1 has formal parameter types S1, ..., Sn and m2 has formal parameter\r\n&gt; types T1, ..., Tn, the type Si is more specific than Ti for argument\r\n&gt; ei for all i (1 ≤ i ≤ n, n = k).\r\n\r\n \r\nSo, in the first example, provided by OP, for  parameter `i` of type `Integer` method `testOverLoad(Object a)` is _more specific_ than `testOverLoad(int a)`.\r\n  \r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.12.2\r\n  [2]: https://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.12.2.5\r\n\t","title":"Method overload resolution in java","body":"<p>While accepted answer of @rgettman leads to very right source, more precisely, §15.12.2.2 and §15.12.2.3 of the <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.12.2\" rel=\"nofollow noreferrer\">JLS Section 15.12.2</a> discuss the <em>applicability</em>, not the <em>resolution</em> - what the OP asked for. In the example the OP provided both <code>testOverLoad</code> methods are <em>applicable</em>, .i.e. will be successfully resolved in the absence of another one.\nInstead, <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.12.2.5\" rel=\"nofollow noreferrer\">15.12.2.5. Choosing the Most Specific Method</a> discusses the <em>resolution</em> of the applicable methods.\nIt reads:</p>\n<blockquote>\n<p>One applicable method m1 is more specific than another applicable\nmethod m2, for an invocation with argument expressions e1, ..., ek, if\nany of the following are true:\n...</p>\n<p>m1 and m2 are applicable by strict or loose invocation, and where m1 has formal parameter types S1, ..., Sn and m2 has formal parameter\ntypes T1, ..., Tn, the type Si is more specific than Ti for argument\nei for all i (1 ≤ i ≤ n, n = k).</p>\n</blockquote>\n<p>So, in the first example, provided by OP, for  parameter <code>i</code> of type <code>Integer</code> method <code>testOverLoad(Object a)</code> is <em>more specific</em> than <code>testOverLoad(int a)</code>.</p>\n"},{"tags":[],"owner":{"account_id":22006976,"reputation":1,"user_id":16277780,"display_name":"shikha varun"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1657609157,"creation_date":1657203383,"answer_id":72899433,"question_id":30109231,"body_markdown":"This is happening due to **Widening and Narrowing Type casting** \r\n\r\nWidening means a small type can be accommodated in a larger type without any loss of information.\r\nWidening Typecasting is automatic.\r\nThat means a byte value can be automatically casted to short, int, long or double.\r\n\r\nbyte-&gt;short-&gt;int-&gt;float-&gt;double\r\nWidens from left to right.\r\n\r\n[Type Casting in Java][1]\r\n\r\nHope this answers your question!\r\n\r\nyou can check with one more example :\r\n\r\npublic class HelloWorld {\r\n\t\r\n\tvoid show(String c){\r\n        System.out.println(&quot;int double overloaded method&quot;);\r\n    }\r\n\t\r\n     void show(Object c){\r\n        System.out.println(&quot;double int overloaded method&quot;);\r\n    }\r\n\r\n    }\r\n\r\nhere the you will get : double int overloaded method\r\n\r\n\r\n  [1]: https://www.journaldev.com/29007/type-casting-in-java","title":"Method overload resolution in java","body":"<p>This is happening due to <strong>Widening and Narrowing Type casting</strong></p>\n<p>Widening means a small type can be accommodated in a larger type without any loss of information.\nWidening Typecasting is automatic.\nThat means a byte value can be automatically casted to short, int, long or double.</p>\n<p>byte-&gt;short-&gt;int-&gt;float-&gt;double\nWidens from left to right.</p>\n<p><a href=\"https://www.journaldev.com/29007/type-casting-in-java\" rel=\"nofollow noreferrer\">Type Casting in Java</a></p>\n<p>Hope this answers your question!</p>\n<p>you can check with one more example :</p>\n<p>public class HelloWorld {</p>\n<pre><code>void show(String c){\n    System.out.println(&quot;int double overloaded method&quot;);\n}\n\n void show(Object c){\n    System.out.println(&quot;double int overloaded method&quot;);\n}\n\n}\n</code></pre>\n<p>here the you will get : double int overloaded method</p>\n"}],"owner":{"account_id":206144,"reputation":14410,"user_id":455257,"accept_rate":56,"display_name":"ayush"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10978,"favorite_count":0,"down_vote_count":2,"up_vote_count":21,"accepted_answer_id":30109319,"answer_count":7,"score":19,"last_activity_date":1657609157,"creation_date":1431024244,"question_id":30109231,"body_markdown":"Here is what I know about overload resolution in java:\r\n\r\n***\r\n\r\n&gt; The process of compiler trying to resolve the method call from given\r\n&gt; overloaded method definitions is called overload resolution. If the\r\n&gt; compiler can not find the exact match it looks for the closest match\r\n&gt; by using upcasts only (downcasts are never done).\r\n\r\n***\r\nHere is a class:\r\n\r\n    public class MyTest {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tMyTest test = new MyTest();\r\n    \t\tInteger i = 9;\r\n    \t\ttest.TestOverLoad(i);\r\n    \t}\r\n    \r\n    \tvoid TestOverLoad(int a){\r\n    \t\tSystem.out.println(8);\r\n    \t}\r\n    \t\r\n    \tvoid TestOverLoad(Object a){\r\n    \t\tSystem.out.println(10);\r\n    \t}\r\n    \t\r\n    }\r\n\r\nAs expected the output is 10. \r\n\r\nHowever if I change the class definition slightly and change the second overloaded method.\r\n\r\n    public class MyTest {\r\n        \r\n        public static void main(String[] args) {\r\n        \tMyTest test = new MyTest();\r\n        \tInteger i = 9;\r\n        \ttest.TestOverLoad(i);\r\n        }\r\n        \r\n        void TestOverLoad(int a){\r\n        \tSystem.out.println(8);\r\n        }\r\n        \t\r\n        void TestOverLoad(String a){\r\n    \t    System.out.println(10);\r\n        }\r\n    \t\r\n    }\r\n\r\nThe output is 8. \r\n\r\nHere I am confused. If downcasting was never to be used, then why did 8 get printed at all? Why did compiler pick up the `TestOverLoad` method which takes `int` as an argument which is a downcast from `Integer` to `int`?","title":"Method overload resolution in java","body":"<p>Here is what I know about overload resolution in java:</p>\n\n<hr>\n\n<blockquote>\n  <p>The process of compiler trying to resolve the method call from given\n  overloaded method definitions is called overload resolution. If the\n  compiler can not find the exact match it looks for the closest match\n  by using upcasts only (downcasts are never done).</p>\n</blockquote>\n\n<hr>\n\n<p>Here is a class:</p>\n\n<pre><code>public class MyTest {\n\n    public static void main(String[] args) {\n        MyTest test = new MyTest();\n        Integer i = 9;\n        test.TestOverLoad(i);\n    }\n\n    void TestOverLoad(int a){\n        System.out.println(8);\n    }\n\n    void TestOverLoad(Object a){\n        System.out.println(10);\n    }\n\n}\n</code></pre>\n\n<p>As expected the output is 10. </p>\n\n<p>However if I change the class definition slightly and change the second overloaded method.</p>\n\n<pre><code>public class MyTest {\n\n    public static void main(String[] args) {\n        MyTest test = new MyTest();\n        Integer i = 9;\n        test.TestOverLoad(i);\n    }\n\n    void TestOverLoad(int a){\n        System.out.println(8);\n    }\n\n    void TestOverLoad(String a){\n        System.out.println(10);\n    }\n\n}\n</code></pre>\n\n<p>The output is 8. </p>\n\n<p>Here I am confused. If downcasting was never to be used, then why did 8 get printed at all? Why did compiler pick up the <code>TestOverLoad</code> method which takes <code>int</code> as an argument which is a downcast from <code>Integer</code> to <code>int</code>?</p>\n"},{"tags":["java","class","object"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1657608939,"post_id":72948082,"comment_id":128844755,"body_markdown":"Read about if statements and numeric comparison operators.","body":"Read about if statements and numeric comparison operators."},{"owner":{"account_id":3837785,"reputation":277,"user_id":3181718,"display_name":"jr593"},"score":0,"creation_date":1657609091,"post_id":72948082,"comment_id":128844808,"body_markdown":"Hint : Create a setter for rank, that receives the score and computes the rank","body":"Hint : Create a setter for rank, that receives the score and computes the rank"}],"answers":[{"tags":[],"owner":{"account_id":7788702,"reputation":836,"user_id":5892518,"display_name":"Harsh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657609153,"creation_date":1657609153,"answer_id":72948222,"question_id":72948082,"body_markdown":"You can remove the `Rank` from constructor and basis on the score passed, initialize the Rank value in constructor itself !\r\n\r\nFor e.g. \r\n\r\n    public Exercise_W28(String name, String Sex,\r\n                   int Score)\r\n    {\r\n        this.name = name;\r\n        this.Sex = Sex;\r\n        this.Score = Score;\r\n        // if(score == 5) \r\n      {\r\n    ratting=&quot;Rank C&quot; ; //so on and so forth \r\n    }\r\n\r\nIf the logic is too long, consider defining it in another method which returns Rank in `String` form!","title":"How to set condition for object&#39;s property in class java","body":"<p>You can remove the <code>Rank</code> from constructor and basis on the score passed, initialize the Rank value in constructor itself !</p>\n<p>For e.g.</p>\n<pre><code>public Exercise_W28(String name, String Sex,\n               int Score)\n{\n    this.name = name;\n    this.Sex = Sex;\n    this.Score = Score;\n    // if(score == 5) \n  {\nratting=&quot;Rank C&quot; ; //so on and so forth \n}\n</code></pre>\n<p>If the logic is too long, consider defining it in another method which returns Rank in <code>String</code> form!</p>\n"}],"owner":{"account_id":16169166,"reputation":15,"user_id":11673353,"display_name":"kukumanu32"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":533,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72948222,"answer_count":1,"score":1,"last_activity_date":1657609153,"creation_date":1657608419,"question_id":72948082,"body_markdown":"I have a program to enter the student&#39;s name, gender, grade, and rank\r\nHere is my code:\r\n\r\n&gt; public class Exercise_W28 {\r\n&gt;     String name;\r\n&gt;     String Sex;\r\n&gt;     int Score;\r\n&gt;     String ratting;\r\n&gt;   \r\n&gt;     public Exercise_W28(String name, String Sex,\r\n&gt;                    int Score, String ratting)\r\n&gt;     {\r\n&gt;         this.name = name;\r\n&gt;         this.Sex = Sex;\r\n&gt;         this.Score = Score;\r\n&gt;         this.ratting = ratting;\r\n&gt;     }\r\n&gt;   \r\n&gt;     public String getName()\r\n&gt;     {\r\n&gt;         return name;\r\n&gt;     }\r\n&gt;   \r\n&gt;     public String getSex()\r\n&gt;     {\r\n&gt;         return Sex;\r\n&gt;     }\r\n&gt;   \r\n&gt;     public int getScore()\r\n&gt;     {\r\n&gt;         return Score;\r\n&gt;         \r\n&gt;     }\r\n&gt;   \r\n&gt;     public String getratting()\r\n&gt;     {\r\n&gt;     \t\r\n&gt;         return ratting;\r\n&gt;     }\r\n&gt;     \r\n&gt;     public String toString()\r\n&gt;     {\r\n&gt;         return(&quot;Name: &quot;+ this.getName()+\r\n&gt;         \t\t&quot;.\\nSex: &quot;+ this.getSex()+\r\n&gt;         \t\t&quot;.\\nScore: &quot;+ this.getScore()+\r\n&gt;         \t\t&quot;.\\nRank: &quot;+ this.getratting()+&quot;.&quot;\r\n&gt;         \t\t);         \r\n&gt;     }\r\n&gt;   \r\n&gt;     public static void main(String[] args)\r\n&gt;     {\r\n&gt;     \t\r\n&gt;     \tExercise_W28 std = new Exercise_W28(&quot;Jullien&quot;,&quot;male&quot;, 9, &quot;RankA&quot;);\r\n&gt;         System.out.println(std.toString());\r\n&gt;     } }\r\n\r\n\r\nNow I want to not put the rank in, but based on the score to determine the rank 1~5 : rankC, 5~7: rankD, 8~10: rankA.\r\nI just learned about classes in java and I don&#39;t know how to handle it","title":"How to set condition for object&#39;s property in class java","body":"<p>I have a program to enter the student's name, gender, grade, and rank\nHere is my code:</p>\n<blockquote>\n<p>public class Exercise_W28 {\nString name;\nString Sex;\nint Score;\nString ratting;</p>\n<pre><code>public Exercise_W28(String name, String Sex,\n               int Score, String ratting)\n{\n    this.name = name;\n    this.Sex = Sex;\n    this.Score = Score;\n    this.ratting = ratting;\n}\n\npublic String getName()\n{\n    return name;\n}\n\npublic String getSex()\n{\n    return Sex;\n}\n\npublic int getScore()\n{\n    return Score;\n    \n}\n\npublic String getratting()\n{\n  \n    return ratting;\n}\n\npublic String toString()\n{\n    return(&quot;Name: &quot;+ this.getName()+\n          &quot;.\\nSex: &quot;+ this.getSex()+\n          &quot;.\\nScore: &quot;+ this.getScore()+\n          &quot;.\\nRank: &quot;+ this.getratting()+&quot;.&quot;\n          );         \n}\n\npublic static void main(String[] args)\n{\n  \n  Exercise_W28 std = new Exercise_W28(&quot;Jullien&quot;,&quot;male&quot;, 9, &quot;RankA&quot;);\n    System.out.println(std.toString());\n} }\n</code></pre>\n</blockquote>\n<p>Now I want to not put the rank in, but based on the score to determine the rank 1~5 : rankC, 5~7: rankD, 8~10: rankA.\nI just learned about classes in java and I don't know how to handle it</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1657605477,"post_id":72947087,"comment_id":128843880,"body_markdown":"You need to implement `equals` and `hashcode` (or use a record, which generates this automatically for you). As specified on [`HashMap.get(..)`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/HashMap.html#get(java.lang.Object)): _&quot;if this map contains a mapping from a key `k` to a value `v` such that `(key==null ? k==null : key.equals(k))`, then this method returns `v`&quot;_","body":"You need to implement <code>equals</code> and <code>hashcode</code> (or use a record, which generates this automatically for you). As specified on <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/HashMap.html#get(java.lang.Object)\" rel=\"nofollow noreferrer\"><code>HashMap.get(..)</code></a>: <i>&quot;if this map contains a mapping from a key <code>k</code> to a value <code>v</code> such that <code>(key==null ? k==null : key.equals(k))</code>, then this method returns <code>v</code>&quot;</i>"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657601034,"creation_date":1657601034,"answer_id":72947135,"question_id":72947087,"body_markdown":"I think you misunderstand.\r\n\r\nHere, trivially:\r\n\r\n```\r\npublic final class Position {\r\n  private final int x, y, layer;\r\n\r\n  // very important!\r\n\r\n  public int hashCode() {\r\n   // proper impl that mixes all 3 variables into it\r\n  }\r\n\r\n  public boolean equals(Object other) {\r\n    // proper impl\r\n  }\r\n}\r\n```\r\n\r\nThen:\r\n\r\n```\r\nMap&lt;Position, List&lt;Entity&gt;&gt; map = new HashMap&lt;&gt;();\r\nPosition p1 = new Position(1, 2, 5);\r\nPosition p2 = new Position(1, 2, 5);\r\nSystem.out.println(p1 == p2); // false, as expected.\r\nmap.put(p1, List.of());\r\nSystem.out.println(map.get(p2)); // prints an empty list, NOT null!\r\nmap.put(p2, List.of());\r\nSystem.out.println(map.size()); // 1, not 2!\r\n```\r\n\r\nThe map impl __already loops through all keys and compares them with `equals`__ - you don&#39;t _also_ have to do that. The reason HashMap is much faster than literally doing that is because it _also_ uses `hashCode()`: The rules of the `hashCode` method state that any 2 objects whose hashCode are different cannot be identical (note that the reverse is not true; 2 objects with identical hashCode need not be equal). Hence, hashmap first calls hashCode to reduce the search space to a tiny bucket compared to the size of the whole map, and needs to do a full loop-scan through _just_ the keys in this bucket. Usually a bucket contains just 1 object so that&#39;s great.\r\n\r\nhashCode __is not a key__ - This works:\r\n\r\n```java\r\npublic final class Position {\r\n  private final int x, y, layer;\r\n\r\n  // very important!\r\n\r\n  public int hashCode() {\r\n   return 1; // this is a really bad impl\r\n  }\r\n\r\n  public boolean equals(Object other) {\r\n    // proper impl\r\n  }\r\n}\r\n```\r\n\r\nYou can stuff the above Position objects in a hashmap if you must, and it&#39;ll work correctly. It won&#39;t be very fast - because __all__ position objects have the same hashCode, it&#39;s 100% collisions, so the hashmap needs to loop through _all_ keys for _all_ operations. But it&#39;ll work. In the same vein, given a hashCode of position, you __cannot__ do a lookup. HashMap simply doesn&#39;t allow that, and it wouldn&#39;t know what to return even if it did (because more than one key can have that hashCode. You shouldn&#39;t - collisions are bad, but it&#39;s no problem if you have a handful).\r\n","title":"Creating or tracking classes with the same variable values","body":"<p>I think you misunderstand.</p>\n<p>Here, trivially:</p>\n<pre><code>public final class Position {\n  private final int x, y, layer;\n\n  // very important!\n\n  public int hashCode() {\n   // proper impl that mixes all 3 variables into it\n  }\n\n  public boolean equals(Object other) {\n    // proper impl\n  }\n}\n</code></pre>\n<p>Then:</p>\n<pre><code>Map&lt;Position, List&lt;Entity&gt;&gt; map = new HashMap&lt;&gt;();\nPosition p1 = new Position(1, 2, 5);\nPosition p2 = new Position(1, 2, 5);\nSystem.out.println(p1 == p2); // false, as expected.\nmap.put(p1, List.of());\nSystem.out.println(map.get(p2)); // prints an empty list, NOT null!\nmap.put(p2, List.of());\nSystem.out.println(map.size()); // 1, not 2!\n</code></pre>\n<p>The map impl <strong>already loops through all keys and compares them with <code>equals</code></strong> - you don't <em>also</em> have to do that. The reason HashMap is much faster than literally doing that is because it <em>also</em> uses <code>hashCode()</code>: The rules of the <code>hashCode</code> method state that any 2 objects whose hashCode are different cannot be identical (note that the reverse is not true; 2 objects with identical hashCode need not be equal). Hence, hashmap first calls hashCode to reduce the search space to a tiny bucket compared to the size of the whole map, and needs to do a full loop-scan through <em>just</em> the keys in this bucket. Usually a bucket contains just 1 object so that's great.</p>\n<p>hashCode <strong>is not a key</strong> - This works:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public final class Position {\n  private final int x, y, layer;\n\n  // very important!\n\n  public int hashCode() {\n   return 1; // this is a really bad impl\n  }\n\n  public boolean equals(Object other) {\n    // proper impl\n  }\n}\n</code></pre>\n<p>You can stuff the above Position objects in a hashmap if you must, and it'll work correctly. It won't be very fast - because <strong>all</strong> position objects have the same hashCode, it's 100% collisions, so the hashmap needs to loop through <em>all</em> keys for <em>all</em> operations. But it'll work. In the same vein, given a hashCode of position, you <strong>cannot</strong> do a lookup. HashMap simply doesn't allow that, and it wouldn't know what to return even if it did (because more than one key can have that hashCode. You shouldn't - collisions are bad, but it's no problem if you have a handful).</p>\n"},{"tags":[],"owner":{"account_id":22506547,"reputation":965,"user_id":16702058,"display_name":"Hi computer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657608683,"creation_date":1657608683,"answer_id":72948127,"question_id":72947087,"body_markdown":"I think you can implement the hashcode like this:\r\n\r\n```\r\n// hashcode \r\n public int hashCode() {\r\n      String a = &quot;&quot; + this.x + &quot;,&quot; + this.y + &quot;,&quot; + this.layer\r\n      return a.hashCode();\r\n  }\r\n```","title":"Creating or tracking classes with the same variable values","body":"<p>I think you can implement the hashcode like this:</p>\n<pre><code>// hashcode \n public int hashCode() {\n      String a = &quot;&quot; + this.x + &quot;,&quot; + this.y + &quot;,&quot; + this.layer\n      return a.hashCode();\n  }\n</code></pre>\n"}],"owner":{"account_id":23557273,"reputation":13,"user_id":17599103,"display_name":"Joseph Wong"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1657608683,"creation_date":1657600517,"question_id":72947087,"body_markdown":"Is there any way to create a class that gives identical references to class objects with the same valued variables, or otherwise any way to induce behaviour where I can easily track objects with the same variables? To elaborate, I am trying to implement the following code:\r\n\r\nA Position class:\r\n\r\n    public final class Position {\r\n        private final int x, y, layer;\r\n    ...\r\n\r\nwith relevant functions, and I am trying to track Entities with a\r\n\r\n    private Map&lt;Position, List&lt;Entity&gt;&gt; positionMap;\r\n\r\nin another class. The problem is that to my understanding, once I stick a Position object as a key, I cannot create another Position object at the same &quot;coordinates&quot; and access the value held at the previous Position. Is there any easy workaround or else some kind of commonly accepted solution to this kind of problem? At the moment, my solution is to loop through each Position held in the keys and compare with .equals(), which defeats the point of a Map.","title":"Creating or tracking classes with the same variable values","body":"<p>Is there any way to create a class that gives identical references to class objects with the same valued variables, or otherwise any way to induce behaviour where I can easily track objects with the same variables? To elaborate, I am trying to implement the following code:</p>\n<p>A Position class:</p>\n<pre><code>public final class Position {\n    private final int x, y, layer;\n...\n</code></pre>\n<p>with relevant functions, and I am trying to track Entities with a</p>\n<pre><code>private Map&lt;Position, List&lt;Entity&gt;&gt; positionMap;\n</code></pre>\n<p>in another class. The problem is that to my understanding, once I stick a Position object as a key, I cannot create another Position object at the same &quot;coordinates&quot; and access the value held at the previous Position. Is there any easy workaround or else some kind of commonly accepted solution to this kind of problem? At the moment, my solution is to loop through each Position held in the keys and compare with .equals(), which defeats the point of a Map.</p>\n"},{"tags":["java","selenium"],"answers":[{"tags":[],"owner":{"account_id":15461950,"reputation":55,"user_id":11154428,"display_name":"indayush"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657608521,"creation_date":1657608521,"answer_id":72948101,"question_id":72676905,"body_markdown":"You need to get the value of class attribute to validate if the element is check or not.\r\n\r\nIf the checkbox is checked, it&#39;s class has - \r\n\r\n```class=&quot;rct-icon rct-icon-check&quot;``` \r\n\r\nand if it is not checked then it has class as \r\n\r\n```class=&quot;rct-icon rct-icon-uncheck&quot;```.\r\n\r\nYou can then put an if condition to suit your needs.\r\n\r\nThe xpath for this element is - \r\n\r\n```\r\n//span[text()=&#39;Downloads&#39;]/preceding-sibling::span[1]\r\n```","title":"Java Selenium - Unable to locate an element - tried all possible locators","body":"<p>You need to get the value of class attribute to validate if the element is check or not.</p>\n<p>If the checkbox is checked, it's class has -</p>\n<p><code>class=&quot;rct-icon rct-icon-check&quot;</code></p>\n<p>and if it is not checked then it has class as</p>\n<p><code>class=&quot;rct-icon rct-icon-uncheck&quot;</code>.</p>\n<p>You can then put an if condition to suit your needs.</p>\n<p>The xpath for this element is -</p>\n<pre><code>//span[text()='Downloads']/preceding-sibling::span[1]\n</code></pre>\n"}],"owner":{"account_id":25296726,"reputation":31,"user_id":19121744,"display_name":"Marina Biro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1657608521,"creation_date":1655641840,"question_id":72676905,"body_markdown":"On the website/option https://demoqa.com/checkbox, I check the &quot;Home&quot; option. \r\nAfter that, in my automatic test, I would like to check, whether the &quot;Downloads&quot; button is checked as well. But, I keep getting no such element error. \r\nI tried xpath, full xpath, &quot;label[for=&#39;tree-node-downloads&#39;]&quot;,\r\neven finding it as a sibiling of the element containing &quot;Download label:\r\n&quot;//*[text()=&#39;Downloads&#39;]/preceding-sibling::input[@type=&#39;checkbox&#39;]&quot;.\r\nWith no luck. \r\n\r\n    private By checkBoxDownLoads = By.xpath(&quot;//*[text()=&#39;Downloads&#39;]/preceding-sibling::input[@type=&#39;checkbox&#39;]&quot;);\r\n    private By downArrow = By.xpath(&quot;//*[@id=\\&quot;tree-node\\&quot;]/ol/li/span/button&quot;);\r\n    \r\n    public boolean example(){\r\n           getDriver().findElement(downArrow).click();\r\n           WebElement download = getDriver().findElement(checkBoxDownLoads);\r\n           return download.isSelected();\r\n        }\r\n\r\n","title":"Java Selenium - Unable to locate an element - tried all possible locators","body":"<p>On the website/option <a href=\"https://demoqa.com/checkbox\" rel=\"nofollow noreferrer\">https://demoqa.com/checkbox</a>, I check the &quot;Home&quot; option.\nAfter that, in my automatic test, I would like to check, whether the &quot;Downloads&quot; button is checked as well. But, I keep getting no such element error.\nI tried xpath, full xpath, &quot;label[for='tree-node-downloads']&quot;,\neven finding it as a sibiling of the element containing &quot;Download label:\n&quot;//*[text()='Downloads']/preceding-sibling::input[@type='checkbox']&quot;.\nWith no luck.</p>\n<pre><code>private By checkBoxDownLoads = By.xpath(&quot;//*[text()='Downloads']/preceding-sibling::input[@type='checkbox']&quot;);\nprivate By downArrow = By.xpath(&quot;//*[@id=\\&quot;tree-node\\&quot;]/ol/li/span/button&quot;);\n\npublic boolean example(){\n       getDriver().findElement(downArrow).click();\n       WebElement download = getDriver().findElement(checkBoxDownLoads);\n       return download.isSelected();\n    }\n</code></pre>\n"},{"tags":["java","selenium","webdriver","selenium-webdriver"],"answers":[{"tags":[],"owner":{"account_id":2025715,"reputation":2695,"user_id":1810795,"display_name":"John"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1375769101,"creation_date":1375769101,"answer_id":18072790,"question_id":18072725,"body_markdown":"You&#39;re accessing static properties that are never initialized (null) because the constructor is never called.\r\n\r\nYou can either set the static properties directly or take out the static context and initialize a User in your test.\r\n\r\nEx.\r\n\r\n    public class User {\r\n        public String username;\r\n        public String password;\r\n\r\n\r\n        public User() {\r\n            this.username = &quot;username&quot;;\r\n            this.password = &quot;password&quot;;\r\n        }\r\n\r\n        public String getUsername(){\r\n            return username;\r\n        }\r\n\r\n        public String getPassword(){\r\n            return password;\r\n        }\r\n\r\n    }\r\n\r\n\r\n    @Test\r\n    public void starWebDriver()  {\r\n        User user = new User();\r\n        \r\n        driver.get(domainURL.getURL());\r\n        ...\r\n        userInputBox.sendKeys(user.username);\r\n    }","title":"java sendkeys Error keys should be a string","body":"<p>You're accessing static properties that are never initialized (null) because the constructor is never called.</p>\n\n<p>You can either set the static properties directly or take out the static context and initialize a User in your test.</p>\n\n<p>Ex.</p>\n\n<pre><code>public class User {\n    public String username;\n    public String password;\n\n\n    public User() {\n        this.username = \"username\";\n        this.password = \"password\";\n    }\n\n    public String getUsername(){\n        return username;\n    }\n\n    public String getPassword(){\n        return password;\n    }\n\n}\n\n\n@Test\npublic void starWebDriver()  {\n    User user = new User();\n\n    driver.get(domainURL.getURL());\n    ...\n    userInputBox.sendKeys(user.username);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1157359,"reputation":2977,"user_id":1137624,"accept_rate":75,"display_name":"cegprakash"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1657608064,"creation_date":1375772254,"answer_id":18073566,"question_id":18072725,"body_markdown":"use\r\n\r\n    userInputBox.sendKeys(String.valueOf(user.username));","title":"java sendkeys Error keys should be a string","body":"<p>use</p>\n<pre><code>userInputBox.sendKeys(String.valueOf(user.username));\n</code></pre>\n"}],"owner":{"account_id":2897155,"reputation":129,"user_id":2484666,"accept_rate":0,"display_name":"adom"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17880,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1657608064,"creation_date":1375768782,"question_id":18072725,"body_markdown":"I&#39;m getting an error when trying to pass in a username and password to a form field using `sendKeys`.  Below is my User Class followed by my test class.  Does anyone know why the application is not passing a string?\r\n\r\n&gt;org.openqa.selenium.WebDriverException: unknown error: keys should be a string\r\n\r\n\r\n    public class User {\r\n        public static String username;\r\n        public static String password;\r\n    \r\n    \r\n        public User() {\r\n            this.username = &quot;username&quot;;\r\n            this.password = &quot;password&quot;;\r\n        }\r\n    \r\n        public String getUsername(){\r\n            return username;\r\n        }\r\n    \r\n        public String getPassword(){\r\n            return password;\r\n        }\r\n    \r\n    }\r\n\r\n    @Test\r\n    public void starWebDriver()  {\r\n        driver.get(domainURL.getURL());\r\n        WebElement userInputBox, passInputBox;\r\n        userInputBox = driver.findElement(By.xpath(&quot;//input[@name=&#39;email&#39;]&quot;));\r\n        passInputBox = driver.findElement(By.xpath(&quot;//input[@name=&#39;password&#39;]&quot;));\r\n        System.out.println(&quot;before sending keys&quot;);\r\n        userInputBox.sendKeys(User.username);\r\n    }","title":"java sendkeys Error keys should be a string","body":"<p>I'm getting an error when trying to pass in a username and password to a form field using <code>sendKeys</code>.  Below is my User Class followed by my test class.  Does anyone know why the application is not passing a string?</p>\n\n<blockquote>\n  <p>org.openqa.selenium.WebDriverException: unknown error: keys should be a string</p>\n</blockquote>\n\n<pre><code>public class User {\n    public static String username;\n    public static String password;\n\n\n    public User() {\n        this.username = \"username\";\n        this.password = \"password\";\n    }\n\n    public String getUsername(){\n        return username;\n    }\n\n    public String getPassword(){\n        return password;\n    }\n\n}\n\n@Test\npublic void starWebDriver()  {\n    driver.get(domainURL.getURL());\n    WebElement userInputBox, passInputBox;\n    userInputBox = driver.findElement(By.xpath(\"//input[@name='email']\"));\n    passInputBox = driver.findElement(By.xpath(\"//input[@name='password']\"));\n    System.out.println(\"before sending keys\");\n    userInputBox.sendKeys(User.username);\n}\n</code></pre>\n"},{"tags":["java","option-type","flatmap"],"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1657270970,"post_id":72909040,"comment_id":128775977,"body_markdown":"On what `UserDAO` do you want to call that method?","body":"On what <code>UserDAO</code> do you want to call that method?"},{"owner":{"account_id":11620847,"reputation":1,"user_id":8612301,"display_name":"DBams"},"score":0,"creation_date":1657271629,"post_id":72909040,"comment_id":128776187,"body_markdown":"`findOneWithAuthoritiesByLogin`, is it `SecurityUtils.getCurrentUserLogin()` push the result to `flatmap` right?","body":"<code>findOneWithAuthoritiesByLogin</code>, is it <code>SecurityUtils.getCurrentUserLogin()</code> push the result to <code>flatmap</code> right?"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1657271990,"post_id":72909040,"comment_id":128776316,"body_markdown":"The point is that `findOneWithAuthoritiesByLogin` is an **instance** method, and so you need an instance of `UserDAO` to call that method on. It should look something like `flatMap(theUserDaoInstance::findOneWithAuthoritiesByLogin)`.","body":"The point is that <code>findOneWithAuthoritiesByLogin</code> is an <b>instance</b> method, and so you need an instance of <code>UserDAO</code> to call that method on. It should look something like <code>flatMap(theUserDaoInstance::findOneWithAuthoritiesByLogin)</code>."},{"owner":{"account_id":11620847,"reputation":1,"user_id":8612301,"display_name":"DBams"},"score":0,"creation_date":1657273655,"post_id":72909040,"comment_id":128776852,"body_markdown":"@Slaw oh, thanks for the help, im gonna check my code","body":"@Slaw oh, thanks for the help, im gonna check my code"},{"owner":{"account_id":11620847,"reputation":1,"user_id":8612301,"display_name":"DBams"},"score":0,"creation_date":1657275405,"post_id":72909040,"comment_id":128777474,"body_markdown":"@Slaw thanks bro, thats the problem","body":"@Slaw thanks bro, thats the problem"},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1657350883,"post_id":72909040,"comment_id":128794069,"body_markdown":"Yeah, this is why I did ask on which instance you want to call the method on. But turns out - the fact that it is an instance method was the error itself - which I assumed to be correct.","body":"Yeah, this is why I did ask on which instance you want to call the method on. But turns out - the fact that it is an instance method was the error itself - which I assumed to be correct."}],"answers":[{"tags":[],"owner":{"account_id":11402982,"reputation":115,"user_id":8359343,"display_name":"Tom Gregory"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657608017,"creation_date":1657608017,"answer_id":72948006,"question_id":72909040,"body_markdown":"The error is caused by the reference to the interface class `UserDao::findOneWithAuthoritiesByLogin`. Java cannot call the method using the interface alone.\r\n\r\nTo solve it, instead refer to an instantiated object of type `UserDao`.\r\n\r\nHere&#39;s an example implementation of the interface:\r\n\r\n```java\r\n    class UserDaoImplementation implements UserDao {\r\n        @Override\r\n        public Optional&lt;User&gt; findOneWithAuthoritiesByLogin(String login) {\r\n            User user = User.builder().name(&quot;Tom&quot;).build();\r\n            return Optional.of(user);\r\n        }\r\n    }\r\n```\r\n\r\nThen create an instance and reference it instead of the interface class:\r\n\r\n```java\r\n    public static Optional&lt;User&gt; getUserWithAuthorities() {\r\n        UserDao userDao = new UserDaoImplementation();\r\n        return SecurityUtils.getCurrentUserLogin().flatMap(userDao::findOneWithAuthoritiesByLogin);\r\n    }\r\n```\r\n\r\nIn this case, the `getUserWithAuthorities` method now returns an `Optional` containing a `User` object.","title":"method flatMap in class java.util.Optional&lt;T&gt; cannot be applied to given types","body":"<p>The error is caused by the reference to the interface class <code>UserDao::findOneWithAuthoritiesByLogin</code>. Java cannot call the method using the interface alone.</p>\n<p>To solve it, instead refer to an instantiated object of type <code>UserDao</code>.</p>\n<p>Here's an example implementation of the interface:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    class UserDaoImplementation implements UserDao {\n        @Override\n        public Optional&lt;User&gt; findOneWithAuthoritiesByLogin(String login) {\n            User user = User.builder().name(&quot;Tom&quot;).build();\n            return Optional.of(user);\n        }\n    }\n</code></pre>\n<p>Then create an instance and reference it instead of the interface class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static Optional&lt;User&gt; getUserWithAuthorities() {\n        UserDao userDao = new UserDaoImplementation();\n        return SecurityUtils.getCurrentUserLogin().flatMap(userDao::findOneWithAuthoritiesByLogin);\n    }\n</code></pre>\n<p>In this case, the <code>getUserWithAuthorities</code> method now returns an <code>Optional</code> containing a <code>User</code> object.</p>\n"}],"owner":{"account_id":11620847,"reputation":1,"user_id":8612301,"display_name":"DBams"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":568,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657608017,"creation_date":1657270801,"question_id":72909040,"body_markdown":"My code is giving an error in flatmap.\r\n\r\n    public Optional&lt;User&gt; getUserWithAuthorities() {\r\n        return SecurityUtils.getCurrentUserLogin().flatMap(UserDao::findOneWithAuthoritiesByLogin);\r\n    }\r\n\r\nBelow is the error:\r\n\r\n```none\r\ncontroller/AuthenticationController.java:[77,51] method flatMap in class java.util.Optional&lt;T&gt; cannot be applied to given types;\r\n       [ERROR]   required: java.util.function.Function&lt;? super java.lang.String,java.util.Optional&lt;U&gt;&gt;\r\n       [ERROR]   found: UserDao::f[...]Login\r\n       [ERROR]   reason: cannot infer type-variable(s) U\r\n       [ERROR]     (argument mismatch; invalid method reference\r\n       [ERROR]       cannot find symbol\r\n       [ERROR]         symbol:   method findOneWithAuthoritiesByLogin(java.lang.String)\r\n       [ERROR]         location: interface net.javaguides.springboot.dao.UserDao)\r\n```\r\n\r\nThis is UserDao code:\r\n\r\n    @Repository\r\n    public interface UserDao extends JpaRepository&lt;User, Long&gt; {\r\n    \r\n        User findByUsername(String username);\r\n    \r\n        Optional&lt;User&gt; findOneWithAuthoritiesByLogin(String login);\r\n    \r\n    }\r\n\r\nThis is SecurityUtils code:\r\n\r\n    public final class SecurityUtils {\r\n    \r\n        private SecurityUtils() {}\r\n    \r\n        /**\r\n         * Get the login of the current user.\r\n         *\r\n         * @return the login of the current user.\r\n         */\r\n        public static Optional&lt;String&gt; getCurrentUserLogin() {\r\n            SecurityContext securityContext = SecurityContextHolder.getContext();\r\n            return Optional.ofNullable(extractPrincipal(securityContext.getAuthentication()));\r\n        }\r\n    \r\n        private static String extractPrincipal(Authentication authentication) {\r\n            if (authentication == null) {\r\n                return null;\r\n            } else if (authentication.getPrincipal() instanceof UserDetails) {\r\n                UserDetails springSecurityUser = (UserDetails) authentication.getPrincipal();\r\n                return springSecurityUser.getUsername();\r\n            } else if (authentication.getPrincipal() instanceof String) {\r\n                return (String) authentication.getPrincipal();\r\n            }\r\n            return null;\r\n        }\r\n\r\nWhat is the problem?","title":"method flatMap in class java.util.Optional&lt;T&gt; cannot be applied to given types","body":"<p>My code is giving an error in flatmap.</p>\n<pre><code>public Optional&lt;User&gt; getUserWithAuthorities() {\n    return SecurityUtils.getCurrentUserLogin().flatMap(UserDao::findOneWithAuthoritiesByLogin);\n}\n</code></pre>\n<p>Below is the error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>controller/AuthenticationController.java:[77,51] method flatMap in class java.util.Optional&lt;T&gt; cannot be applied to given types;\n       [ERROR]   required: java.util.function.Function&lt;? super java.lang.String,java.util.Optional&lt;U&gt;&gt;\n       [ERROR]   found: UserDao::f[...]Login\n       [ERROR]   reason: cannot infer type-variable(s) U\n       [ERROR]     (argument mismatch; invalid method reference\n       [ERROR]       cannot find symbol\n       [ERROR]         symbol:   method findOneWithAuthoritiesByLogin(java.lang.String)\n       [ERROR]         location: interface net.javaguides.springboot.dao.UserDao)\n</code></pre>\n<p>This is UserDao code:</p>\n<pre><code>@Repository\npublic interface UserDao extends JpaRepository&lt;User, Long&gt; {\n\n    User findByUsername(String username);\n\n    Optional&lt;User&gt; findOneWithAuthoritiesByLogin(String login);\n\n}\n</code></pre>\n<p>This is SecurityUtils code:</p>\n<pre><code>public final class SecurityUtils {\n\n    private SecurityUtils() {}\n\n    /**\n     * Get the login of the current user.\n     *\n     * @return the login of the current user.\n     */\n    public static Optional&lt;String&gt; getCurrentUserLogin() {\n        SecurityContext securityContext = SecurityContextHolder.getContext();\n        return Optional.ofNullable(extractPrincipal(securityContext.getAuthentication()));\n    }\n\n    private static String extractPrincipal(Authentication authentication) {\n        if (authentication == null) {\n            return null;\n        } else if (authentication.getPrincipal() instanceof UserDetails) {\n            UserDetails springSecurityUser = (UserDetails) authentication.getPrincipal();\n            return springSecurityUser.getUsername();\n        } else if (authentication.getPrincipal() instanceof String) {\n            return (String) authentication.getPrincipal();\n        }\n        return null;\n    }\n</code></pre>\n<p>What is the problem?</p>\n"},{"tags":["java","selenium"],"answers":[{"tags":[],"owner":{"account_id":10850257,"reputation":661,"user_id":7978231,"accept_rate":90,"display_name":"Orkhan Hasanli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657180708,"creation_date":1657180708,"answer_id":72894216,"question_id":72893802,"body_markdown":"First of all you can use Jsoup instead of Selenium.\r\nThe specified website is static and you don&#39;t need selenium:\r\nSelenium gives you the ability to work with dynamic pages.\r\n\r\nIf you want to implement this functionality with Jsoup, here is the code snippet:\r\n```java\r\npublic class Main {\r\n\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tDocument document = null;\r\n\t\ttry {\r\n\t\t\tdocument = Jsoup.connect(&quot;https://petstore.octoperf.com/actions/Catalog.action&quot;).get();\r\n\t\t} catch (IOException ex) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\tElements anchorElements = document.select(&quot;#SidebarContent a&quot;)\r\n\t\tfor (Element anchor : anchorElements) {\r\n\t\t\tString url = anchor.attr(&quot;abs:href&quot;);\r\n\t\t\tparseData(url);\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\n\tpublic static void parseData(String url) {\r\n\t\tDocument document = null;\r\n\t\ttry {\r\n\t\t\tdocument = Jsoup.connect(url).get();\r\n\t\t} catch (IOException ex) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\tString title = document.title();\r\n\t\tSystem.out.println(title);\r\n\t\tString h2Tag = document.select(&quot;#SidebarContent h2&quot;).text();\r\n\t\tSystem.out.println(h2Tag);\r\n\t}\r\n\r\n}\r\n```\r\n\r\nAlso you don&#39;t need to select h2 element by xpath. You can select by `#SidebarContent h2`\r\n\r\nIf you decided to use Selenium, so what kind of exception or error you are getting? May be there is no any element on the page specified by the xpath\r\n","title":"Java selenium 4 || Scrapping Titles from each WebElement link","body":"<p>First of all you can use Jsoup instead of Selenium.\nThe specified website is static and you don't need selenium:\nSelenium gives you the ability to work with dynamic pages.</p>\n<p>If you want to implement this functionality with Jsoup, here is the code snippet:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n\n\n    public static void main(String[] args) {\n\n        Document document = null;\n        try {\n            document = Jsoup.connect(&quot;https://petstore.octoperf.com/actions/Catalog.action&quot;).get();\n        } catch (IOException ex) {\n            e.printStackTrace();\n        }\n        Elements anchorElements = document.select(&quot;#SidebarContent a&quot;)\n        for (Element anchor : anchorElements) {\n            String url = anchor.attr(&quot;abs:href&quot;);\n            parseData(url);\n        }\n        \n    }\n\n    public static void parseData(String url) {\n        Document document = null;\n        try {\n            document = Jsoup.connect(url).get();\n        } catch (IOException ex) {\n            e.printStackTrace();\n        }\n        String title = document.title();\n        System.out.println(title);\n        String h2Tag = document.select(&quot;#SidebarContent h2&quot;).text();\n        System.out.println(h2Tag);\n    }\n\n}\n</code></pre>\n<p>Also you don't need to select h2 element by xpath. You can select by <code>#SidebarContent h2</code></p>\n<p>If you decided to use Selenium, so what kind of exception or error you are getting? May be there is no any element on the page specified by the xpath</p>\n"},{"tags":[],"owner":{"account_id":15461950,"reputation":55,"user_id":11154428,"display_name":"indayush"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657607763,"creation_date":1657607763,"answer_id":72947970,"question_id":72893802,"body_markdown":"Try the following code - \r\n\r\n\r\n        try {\r\n            List&lt;WebElement&gt; listOfAnchors = driver.findElements(By.xpath(&quot;//div[@id=&#39;SidebarContent&#39;]/a&quot;));\r\n            int anchorTagsCount = listOfAnchors.size();\r\n\r\n            for (int i = 0; i &lt;= anchorTagsCount; i++) {\r\n                listOfAnchors = driver.findElements(By.xpath(&quot;//div[@id=&#39;SidebarContent&#39;]/a&quot;));\r\n\r\n                // Store all the text in a List if you want to.\r\n                System.out.println(listOfAnchors.get(i).getText().trim());\r\n\r\n                listOfAnchors.get(i).click();\r\n                Thread.sleep(2000);\r\n\r\n                // Store all the titles in a separate List if you want to.\r\n                System.out.println(driver.getTitle());\r\n\r\n                driver.navigate().back();\r\n                Thread.sleep(2000);\r\n            }\r\n\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n","title":"Java selenium 4 || Scrapping Titles from each WebElement link","body":"<p>Try the following code -</p>\n<pre><code>    try {\n        List&lt;WebElement&gt; listOfAnchors = driver.findElements(By.xpath(&quot;//div[@id='SidebarContent']/a&quot;));\n        int anchorTagsCount = listOfAnchors.size();\n\n        for (int i = 0; i &lt;= anchorTagsCount; i++) {\n            listOfAnchors = driver.findElements(By.xpath(&quot;//div[@id='SidebarContent']/a&quot;));\n\n            // Store all the text in a List if you want to.\n            System.out.println(listOfAnchors.get(i).getText().trim());\n\n            listOfAnchors.get(i).click();\n            Thread.sleep(2000);\n\n            // Store all the titles in a separate List if you want to.\n            System.out.println(driver.getTitle());\n\n            driver.navigate().back();\n            Thread.sleep(2000);\n        }\n\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n</code></pre>\n"}],"owner":{"account_id":17500970,"reputation":43,"user_id":12691251,"display_name":"Ron Goldstein"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1657607763,"creation_date":1657178663,"question_id":72893802,"body_markdown":"I have a list of Anchor tags. I want to click on each tag , scrap the page&#39;s title and print each item. However it returns error after the second item.\r\n\r\n\r\n\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;D:\\\\ronjg\\\\Desktop\\\\DEV - LANG\\\\chromewebdriver\\\\chromedriver.exe&quot;);\r\n\t\tWebDriver driver = new ChromeDriver();\r\n\t\tdriver.get(&quot;https://petstore.octoperf.com/actions/Catalog.action&quot;);\r\n\t\t\r\n\r\n\t\tList&lt;WebElement&gt; myList=driver.findElements(By.id(&quot;SidebarContent&quot;));\r\n\r\n\r\n\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\t for (WebElement element : myList) {\r\n\t\t        List&lt;WebElement&gt; listofAtags = element.findElements(By.tagName(&quot;a&quot;));\r\n\t\t        int size_of_links = listofAtags.size();\r\n\t\t        System.out.println(size_of_links);\r\n\r\n\t\t\t\t for (WebElement lnk : listofAtags) {\r\n\t\t\t\t\t lnk.click();\r\n\t\t\t\t\t String res = driver.findElement(By.xpath(&quot;/html/body/div[2]/div[2]/h2&quot;)).getText();\r\n\t\t\t\t\t System.out.println(res);\r\n\t\t\t\t\t WebElement reutrn_home = driver.findElement(By.xpath(&quot;//*[@id=\\&quot;BackLink\\&quot;]/a&quot;));\r\n\t\t\t\t\t reutrn_home.click();\r\n\t\t\t\t\t \r\n\t\t\t\t }\r\n\t\t        \r\n\t\t        \r\n\t\t        \t\r\n\t\t       \r\n\t\t        \r\n\t\t        }\r\n\t\t \r\n\t\t driver.close();\r\n\t\t\r\n\r\n\r\n\t\t }}\r\n\r\n\r\nThe Links of the group are : Fish, Dogs, Cats, Reptiles, Birds . So I want to to print each item , so the end print out would be  like this :\r\nFish\r\nDogs\r\nCats\r\nReptiles\r\nBirds \r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Java selenium 4 || Scrapping Titles from each WebElement link","body":"<p>I have a list of Anchor tags. I want to click on each tag , scrap the page's title and print each item. However it returns error after the second item.</p>\n<pre><code>public static void main(String[] args) {\n    // TODO Auto-generated method stub\n    System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;D:\\\\ronjg\\\\Desktop\\\\DEV - LANG\\\\chromewebdriver\\\\chromedriver.exe&quot;);\n    WebDriver driver = new ChromeDriver();\n    driver.get(&quot;https://petstore.octoperf.com/actions/Catalog.action&quot;);\n    \n\n    List&lt;WebElement&gt; myList=driver.findElements(By.id(&quot;SidebarContent&quot;));\n\n\n\n    \n    \n    \n     for (WebElement element : myList) {\n            List&lt;WebElement&gt; listofAtags = element.findElements(By.tagName(&quot;a&quot;));\n            int size_of_links = listofAtags.size();\n            System.out.println(size_of_links);\n\n             for (WebElement lnk : listofAtags) {\n                 lnk.click();\n                 String res = driver.findElement(By.xpath(&quot;/html/body/div[2]/div[2]/h2&quot;)).getText();\n                 System.out.println(res);\n                 WebElement reutrn_home = driver.findElement(By.xpath(&quot;//*[@id=\\&quot;BackLink\\&quot;]/a&quot;));\n                 reutrn_home.click();\n                 \n             }\n            \n            \n                \n           \n            \n            }\n     \n     driver.close();\n    \n\n\n     }}\n</code></pre>\n<p>The Links of the group are : Fish, Dogs, Cats, Reptiles, Birds . So I want to to print each item , so the end print out would be  like this :\nFish\nDogs\nCats\nReptiles\nBirds</p>\n"},{"tags":["java","inner-classes"],"comments":[{"owner":{"account_id":8015275,"reputation":18609,"user_id":6045800,"display_name":"Tomerikoo"},"score":0,"creation_date":1657610557,"post_id":72936244,"comment_id":128845250,"body_markdown":"Please see [Why shouldn&#39;t I assume I know who downvoted my post?](https://meta.stackoverflow.com/q/388686/6045800). I don&#39;t have much knowledge (these days...) in Java. This is why I didn&#39;t (couldn&#39;t) answer your question and most certainly didn&#39;t downvote it. I edited it as you didn&#39;t even put the Java tag so the people you need wouldn&#39;t be able to see your question. I see that since then you got 2 answers. You&#39;re welcome...","body":"Please see <a href=\"https://meta.stackoverflow.com/q/388686/6045800\">Why shouldn&#39;t I assume I know who downvoted my post?</a>. I don&#39;t have much knowledge (these days...) in Java. This is why I didn&#39;t (couldn&#39;t) answer your question and most certainly didn&#39;t downvote it. I edited it as you didn&#39;t even put the Java tag so the people you need wouldn&#39;t be able to see your question. I see that since then you got 2 answers. You&#39;re welcome..."},{"owner":{"account_id":2673068,"reputation":21,"user_id":2309996,"display_name":"Vinit"},"score":0,"creation_date":1657617907,"post_id":72936244,"comment_id":128847687,"body_markdown":"Thanks! @Tomerikoo and now I regret for pointing it out.\nI am not very used to stackoverflow conducts. \nThanks for your contribution. Keep up the good work.","body":"Thanks! @Tomerikoo and now I regret for pointing it out. I am not very used to stackoverflow conducts.  Thanks for your contribution. Keep up the good work."},{"owner":{"account_id":8015275,"reputation":18609,"user_id":6045800,"display_name":"Tomerikoo"},"score":0,"creation_date":1657618145,"post_id":72936244,"comment_id":128847759,"body_markdown":"No problem at all! A little tip (that could be related to the downvote) - try to avoid posting images as much as possible. Anything text-based should be formatted directly into the question. The error messages you posted could be posted as text instead of images. This helps search engines to find your question if someone searches the error message. An image is not searchable. If you&#39;re having a hard time formatting it, feel free to ping me and I&#39;ll help you edit","body":"No problem at all! A little tip (that could be related to the downvote) - try to avoid posting images as much as possible. Anything text-based should be formatted directly into the question. The error messages you posted could be posted as text instead of images. This helps search engines to find your question if someone searches the error message. An image is not searchable. If you&#39;re having a hard time formatting it, feel free to ping me and I&#39;ll help you edit"}],"answers":[{"tags":[],"owner":{"account_id":13832344,"reputation":1457,"user_id":9984846,"display_name":"Christian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657605163,"creation_date":1657534499,"answer_id":72936953,"question_id":72936244,"body_markdown":"I might be wrong here, but where you first have this assignment is a completely non-dynamic (for lack of better word and because I don&#39;t want to use the in this context ambiguous word &#39;static&#39;) area. There you would define things about the current scope, like which fields this class has or which methods.\r\nThat&#39;s why the assignment to `String outerInstanceField` works, as you are in the Scope of the `OuterClass` and are defining how it is defined.\r\n\r\nWhat you are doing in the `Innerclass` is actually dynamic, i.e. something that would be executed. But you cannot even tell, when. Is it at the time of class loading? When some object is created? You have no information about that.\r\nYou also cannot put for example an if or a loop there, which basically is the same.\r\n\r\nIn this second snippet you could for example also try to add a `static` before the block. This will also not work, because it will be executed when the class is loaded and then you cannot even have an instance of OuterClass.\r\n\r\nEdit, as response to your comment: It would be nice if you added a small example of what you mean, so I can be sure but if I understand correctly, the problem is the following: The InnerClass in your example is not static. This means, it will always belong to exactly one instance of OuterClass. This is, why OuterClass.this is unambiguous and works. On the other hand, there can be an arbitrary number of InnerClass-Objects for one OuterClass Instance, i.e. InnerClass.this can not be determined uniquely and therefore does not work.","title":"Why can&#39;t we access or re-assign a value to an OuterClass instance field from within InnerClass, outside its method/block?","body":"<p>I might be wrong here, but where you first have this assignment is a completely non-dynamic (for lack of better word and because I don't want to use the in this context ambiguous word 'static') area. There you would define things about the current scope, like which fields this class has or which methods.\nThat's why the assignment to <code>String outerInstanceField</code> works, as you are in the Scope of the <code>OuterClass</code> and are defining how it is defined.</p>\n<p>What you are doing in the <code>Innerclass</code> is actually dynamic, i.e. something that would be executed. But you cannot even tell, when. Is it at the time of class loading? When some object is created? You have no information about that.\nYou also cannot put for example an if or a loop there, which basically is the same.</p>\n<p>In this second snippet you could for example also try to add a <code>static</code> before the block. This will also not work, because it will be executed when the class is loaded and then you cannot even have an instance of OuterClass.</p>\n<p>Edit, as response to your comment: It would be nice if you added a small example of what you mean, so I can be sure but if I understand correctly, the problem is the following: The InnerClass in your example is not static. This means, it will always belong to exactly one instance of OuterClass. This is, why OuterClass.this is unambiguous and works. On the other hand, there can be an arbitrary number of InnerClass-Objects for one OuterClass Instance, i.e. InnerClass.this can not be determined uniquely and therefore does not work.</p>\n"},{"tags":[],"owner":{"account_id":2673068,"reputation":21,"user_id":2309996,"display_name":"Vinit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657606269,"creation_date":1657606269,"answer_id":72947749,"question_id":72936244,"body_markdown":"Considering below scenario:\r\n```java\r\npublic class A{\r\n\tint x = 10;\r\n}\r\n\r\nclass B extends A{\r\n\tx = 0;\t\r\n\tint y = x;\r\n}\r\n```\r\n\r\nIf we execute above code, we receive compiler error:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nWe cannot have isolated expressions outside the scope of a constructor, a method, or an instance/static initialization block.\r\n\r\nSo, the questions narrows down to whether variable assignment is an expression or statement.\r\n\r\nIn The Java™ Tutorials, under topic [Expressions, Statements, and Blocks][2] it is mentioned that assignment and declaration are statements.\r\nAlso, \r\n&gt; Learning Java, by Patrick Niemeyer, Daniel Leuck\r\n\r\nmentions, \r\n\r\n&gt; Technically, because variable assignments can be used as values for further assignments or operations (in somewhat questionable programming style), they can be considered to be both statements and expressions.\r\n\r\nSo, I am considering it as special case of expression.  \r\n\r\n  [1]: https://i.stack.imgur.com/1NLA9.png\r\n  [2]: https://docs.oracle.com/javase/tutorial/java/nutsandbolts/expressions.html","title":"Why can&#39;t we access or re-assign a value to an OuterClass instance field from within InnerClass, outside its method/block?","body":"<p>Considering below scenario:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class A{\n    int x = 10;\n}\n\nclass B extends A{\n    x = 0;  \n    int y = x;\n}\n</code></pre>\n<p>If we execute above code, we receive compiler error:</p>\n<p><a href=\"https://i.stack.imgur.com/1NLA9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1NLA9.png\" alt=\"enter image description here\" /></a></p>\n<p>We cannot have isolated expressions outside the scope of a constructor, a method, or an instance/static initialization block.</p>\n<p>So, the questions narrows down to whether variable assignment is an expression or statement.</p>\n<p>In The Java™ Tutorials, under topic <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/expressions.html\" rel=\"nofollow noreferrer\">Expressions, Statements, and Blocks</a> it is mentioned that assignment and declaration are statements.\nAlso,</p>\n<blockquote>\n<p>Learning Java, by Patrick Niemeyer, Daniel Leuck</p>\n</blockquote>\n<p>mentions,</p>\n<blockquote>\n<p>Technically, because variable assignments can be used as values for further assignments or operations (in somewhat questionable programming style), they can be considered to be both statements and expressions.</p>\n</blockquote>\n<p>So, I am considering it as special case of expression.</p>\n"}],"owner":{"account_id":2673068,"reputation":21,"user_id":2309996,"display_name":"Vinit"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":72936953,"answer_count":2,"score":-2,"last_activity_date":1657607266,"creation_date":1657531220,"question_id":72936244,"body_markdown":"I am preparing for Java 11 certification and while revising Java concepts, I got trapped in one of the silly concept.\r\nI know that `OuterClass`&#39;s instance fields could be accessed from an `InnerClass` using `OuterClass.this`.\r\nPlease help me to understand why we cannot re-assign a value to `OuterClass`&#39;s instance fields inside an `InnerClass` (outside a method or block).\r\n\r\n```java\r\npublic class OuterClass {\r\n\r\n\tString outerInstanceField = &quot;Outer instance field&quot;;\t// Instance Field\r\n\r\n\tclass InnerClass {\r\n\t\tOuterClass.this.outerInstanceField = &quot;Inside Inner Class, now&quot;;\r\n\t}\r\n}\r\n```\r\nAbove code throws error:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nHowever, this works perfectly fine if the re-assignment is done either in a block or in the `InnerClass` method.\r\n\r\n```java\r\npublic class OuterClass {\r\n\r\n\tString outerInstanceField = &quot;Outer instance field&quot;;\t// Instance Field\r\n\r\n\tclass InnerClass {\r\n\t\t{\r\n\t\t\tOuterClass.this.outerInstanceField = &quot;Inside Inner Class, now&quot;;\r\n\t\t\tSystem.out.println(OuterClass.this.outerInstanceField);\r\n\t\t}\r\n\t\t\r\n\t\tvoid print(){\r\n\t\t\tOuterClass.this.outerInstanceField = &quot;Inside Inner Class&#39;s method, now&quot;;\r\n\t\t\tSystem.out.println(OuterClass.this.outerInstanceField);\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tOuterClass outerObject = new OuterClass();\t\r\n\t\tInnerClass innerObject = outerObject.new InnerClass();\r\n\t\tinnerObject.print();\r\n\t}\r\n}\r\n```\r\nOutput:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nNested Class class example\r\n```java\r\nclass OuterClass {\r\n\r\n\tstatic String outerInstanceField = &quot;Outer instance field&quot;;\t// Static/Class Field\r\n\r\n\tstatic class InnerClass {\r\n\t\t\r\n\t\tOuterClass.outerInstanceField = &quot;Inside nested Class, now&quot;;\t// Compiler error\r\n\t\t\r\n\t\tstatic {\r\n\t\t\tOuterClass.outerInstanceField = &quot;Inside nested Class&#39;s static block, now&quot;;\t// works fine\r\n\t\t\tSystem.out.println(OuterClass.outerInstanceField);\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/CU79i.png\r\n  [2]: https://i.stack.imgur.com/KZ9M5.png","title":"Why can&#39;t we access or re-assign a value to an OuterClass instance field from within InnerClass, outside its method/block?","body":"<p>I am preparing for Java 11 certification and while revising Java concepts, I got trapped in one of the silly concept.\nI know that <code>OuterClass</code>'s instance fields could be accessed from an <code>InnerClass</code> using <code>OuterClass.this</code>.\nPlease help me to understand why we cannot re-assign a value to <code>OuterClass</code>'s instance fields inside an <code>InnerClass</code> (outside a method or block).</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class OuterClass {\n\n    String outerInstanceField = &quot;Outer instance field&quot;; // Instance Field\n\n    class InnerClass {\n        OuterClass.this.outerInstanceField = &quot;Inside Inner Class, now&quot;;\n    }\n}\n</code></pre>\n<p>Above code throws error:</p>\n<p><a href=\"https://i.stack.imgur.com/CU79i.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CU79i.png\" alt=\"enter image description here\" /></a></p>\n<p>However, this works perfectly fine if the re-assignment is done either in a block or in the <code>InnerClass</code> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class OuterClass {\n\n    String outerInstanceField = &quot;Outer instance field&quot;; // Instance Field\n\n    class InnerClass {\n        {\n            OuterClass.this.outerInstanceField = &quot;Inside Inner Class, now&quot;;\n            System.out.println(OuterClass.this.outerInstanceField);\n        }\n        \n        void print(){\n            OuterClass.this.outerInstanceField = &quot;Inside Inner Class's method, now&quot;;\n            System.out.println(OuterClass.this.outerInstanceField);\n        }\n    }\n    \n    public static void main(String[] args) {\n        OuterClass outerObject = new OuterClass();  \n        InnerClass innerObject = outerObject.new InnerClass();\n        innerObject.print();\n    }\n}\n</code></pre>\n<p>Output:</p>\n<p><a href=\"https://i.stack.imgur.com/KZ9M5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KZ9M5.png\" alt=\"enter image description here\" /></a></p>\n<p>Nested Class class example</p>\n<pre class=\"lang-java prettyprint-override\"><code>class OuterClass {\n\n    static String outerInstanceField = &quot;Outer instance field&quot;;  // Static/Class Field\n\n    static class InnerClass {\n        \n        OuterClass.outerInstanceField = &quot;Inside nested Class, now&quot;; // Compiler error\n        \n        static {\n            OuterClass.outerInstanceField = &quot;Inside nested Class's static block, now&quot;;  // works fine\n            System.out.println(OuterClass.outerInstanceField);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","android","flutter","android-studio","ssl-certificate"],"answers":[{"tags":[],"owner":{"account_id":25778033,"reputation":61,"user_id":19524035,"display_name":"Akanksha Saini"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1657606519,"creation_date":1657606420,"answer_id":72947775,"question_id":72936172,"body_markdown":"I solved my problem by updating Gradle to its latest version.(7.1.2 -&gt; 7.1.3)\r\n\r\nTo update Gradle, edit following line in /{app}/android/build.gradle and change the version.\r\n\r\n``` \r\n    dependencies {\r\n        classpath &#39;com.android.tools.build:gradle:7.1.3&#39;\r\n    }\r\n```","title":"javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed Flutter","body":"<p>I solved my problem by updating Gradle to its latest version.(7.1.2 -&gt; 7.1.3)</p>\n<p>To update Gradle, edit following line in /{app}/android/build.gradle and change the version.</p>\n<pre><code>    dependencies {\n        classpath 'com.android.tools.build:gradle:7.1.3'\n    }\n</code></pre>\n"}],"owner":{"account_id":25778033,"reputation":61,"user_id":19524035,"display_name":"Akanksha Saini"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5447,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":72947775,"answer_count":1,"score":5,"last_activity_date":1657606519,"creation_date":1657530876,"question_id":72936172,"body_markdown":"I am learning flutter. Flutter default app is working fine on the web, but showing following error on the Android emulator. I checked solutions on the internet, but did not work out for me.\r\n\r\nI tried following solutions.\r\n\r\n**Solution 1**: Switch to smartphone network  \r\n\r\n**Solution 2**: Replace https to http from distribution Url in gradle-wrapper properties.\r\n```distributionUrl=http\\://services.gradle.org/distributions/gradle-7.4-all.zip```\r\n\r\n**Solution 3**: Download ssl certificate from &lt;http://jcenter.bintray.com/&gt; and add to truststore.\r\n\r\n**Solution 4**: Add following lines of code in gradle.properties\r\n```\r\nsystemProp.javax.net.ssl.trustStore=[PATH_TO_TRUST_STORE]\r\nsystemProp.javax.net.ssl.trustStorePassword=[PASSWORD] (changeit)\r\n```\r\n```\r\nException in thread &quot;main&quot; javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n\tat java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131)\r\n\tat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:349)\r\n\tat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:292)\r\n\tat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:287)\r\n\tat java.base/sun.security.ssl.CertificateMessage$T13CertificateConsumer.checkServerCerts(CertificateMessage.java:1357)\r\n\tat java.base/sun.security.ssl.CertificateMessage$T13CertificateConsumer.onConsumeCertificate(CertificateMessage.java:1232)\r\n\tat java.base/sun.security.ssl.CertificateMessage$T13CertificateConsumer.consume(CertificateMessage.java:1175)\r\n\tat java.base/sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:392)\r\n\tat java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:443)\r\n\tat java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:421)\r\n\tat java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:182)\r\n\tat java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:172)\r\n\tat java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1426)\r\n\tat java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1336)\r\n\tat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:450)\r\n\tat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:421)\r\n\tat java.base/sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:572)\r\n\tat java.base/sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:197)\r\n\tat java.base/sun.net.www.protocol.http.HttpURLConnection.followRedirect0(HttpURLConnection.java:2787)\r\n\tat java.base/sun.net.www.protocol.http.HttpURLConnection.followRedirect(HttpURLConnection.java:2699)\r\n\tat java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1854)\r\n\tat java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1520)\r\n\tat java.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.getInputStream(HttpsURLConnectionImpl.java:250)\r\n\tat org.gradle.wrapper.Download.downloadInternal(Download.java:58)\r\n\tat org.gradle.wrapper.Download.download(Download.java:44)\r\n\tat org.gradle.wrapper.Install$1.call(Install.java:61)\r\n\tat org.gradle.wrapper.Install$1.call(Install.java:48)\r\n\tat org.gradle.wrapper.ExclusiveFileAccessManager.access(ExclusiveFileAccessManager.java:65)\r\n\tat org.gradle.wrapper.Install.createDist(Install.java:48)\r\n\tat org.gradle.wrapper.WrapperExecutor.execute(WrapperExecutor.java:128)\r\n\tat org.gradle.wrapper.GradleWrapperMain.main(GradleWrapperMain.java:61)\r\n```\r\nI created plain android project (without flutter) and it is running on Android Emulator. I am using Windows10.\r\nAndroid Emulator - Pixel XL API 30","title":"javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed Flutter","body":"<p>I am learning flutter. Flutter default app is working fine on the web, but showing following error on the Android emulator. I checked solutions on the internet, but did not work out for me.</p>\n<p>I tried following solutions.</p>\n<p><strong>Solution 1</strong>: Switch to smartphone network</p>\n<p><strong>Solution 2</strong>: Replace https to http from distribution Url in gradle-wrapper properties.\n<code>distributionUrl=http\\://services.gradle.org/distributions/gradle-7.4-all.zip</code></p>\n<p><strong>Solution 3</strong>: Download ssl certificate from <a href=\"http://jcenter.bintray.com/\" rel=\"noreferrer\">http://jcenter.bintray.com/</a> and add to truststore.</p>\n<p><strong>Solution 4</strong>: Add following lines of code in gradle.properties</p>\n<pre><code>systemProp.javax.net.ssl.trustStore=[PATH_TO_TRUST_STORE]\nsystemProp.javax.net.ssl.trustStorePassword=[PASSWORD] (changeit)\n</code></pre>\n<pre><code>Exception in thread &quot;main&quot; javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n    at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131)\n    at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:349)\n    at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:292)\n    at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:287)\n    at java.base/sun.security.ssl.CertificateMessage$T13CertificateConsumer.checkServerCerts(CertificateMessage.java:1357)\n    at java.base/sun.security.ssl.CertificateMessage$T13CertificateConsumer.onConsumeCertificate(CertificateMessage.java:1232)\n    at java.base/sun.security.ssl.CertificateMessage$T13CertificateConsumer.consume(CertificateMessage.java:1175)\n    at java.base/sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:392)\n    at java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:443)\n    at java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:421)\n    at java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:182)\n    at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:172)\n    at java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1426)\n    at java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1336)\n    at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:450)\n    at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:421)\n    at java.base/sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:572)\n    at java.base/sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:197)\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.followRedirect0(HttpURLConnection.java:2787)\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.followRedirect(HttpURLConnection.java:2699)\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1854)\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1520)\n    at java.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.getInputStream(HttpsURLConnectionImpl.java:250)\n    at org.gradle.wrapper.Download.downloadInternal(Download.java:58)\n    at org.gradle.wrapper.Download.download(Download.java:44)\n    at org.gradle.wrapper.Install$1.call(Install.java:61)\n    at org.gradle.wrapper.Install$1.call(Install.java:48)\n    at org.gradle.wrapper.ExclusiveFileAccessManager.access(ExclusiveFileAccessManager.java:65)\n    at org.gradle.wrapper.Install.createDist(Install.java:48)\n    at org.gradle.wrapper.WrapperExecutor.execute(WrapperExecutor.java:128)\n    at org.gradle.wrapper.GradleWrapperMain.main(GradleWrapperMain.java:61)\n</code></pre>\n<p>I created plain android project (without flutter) and it is running on Android Emulator. I am using Windows10.\nAndroid Emulator - Pixel XL API 30</p>\n"},{"tags":["java","oop","generics","design-patterns","solid-principles"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1487430562,"post_id":42316785,"comment_id":71787004,"body_markdown":"Why is the number of doors relevant to *driving* a vehicle? Surely this is something determined at construction time?","body":"Why is the number of doors relevant to <i>driving</i> a vehicle? Surely this is something determined at construction time?"},{"owner":{"account_id":3303925,"reputation":2096,"user_id":2779330,"accept_rate":60,"display_name":"Bojan Vukasovic"},"score":0,"creation_date":1487430963,"post_id":42316785,"comment_id":71787131,"body_markdown":"I will update example with paint() method where car has paint(vehiclecolor) and truck has pain(vehiclecolor, trailercolor). Colors are determined in runtime, after vehicles are already constructed.","body":"I will update example with paint() method where car has paint(vehiclecolor) and truck has pain(vehiclecolor, trailercolor). Colors are determined in runtime, after vehicles are already constructed."},{"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"score":0,"creation_date":1487431573,"post_id":42316785,"comment_id":71787341,"body_markdown":"With your first example, you imply that you already know the type of the `Vehicle`, based on the enum value you pass. Is that right?","body":"With your first example, you imply that you already know the type of the <code>Vehicle</code>, based on the enum value you pass. Is that right?"},{"owner":{"account_id":3303925,"reputation":2096,"user_id":2779330,"accept_rate":60,"display_name":"Bojan Vukasovic"},"score":0,"creation_date":1487431784,"post_id":42316785,"comment_id":71787397,"body_markdown":"Yes. actually the use case for current paint method is that somebody will give me id of vehicle and paints (either vehicle paint or vehicle and trailer paint). Based on this I know when I select vehicle from the map, it is either with or without trailer.","body":"Yes. actually the use case for current paint method is that somebody will give me id of vehicle and paints (either vehicle paint or vehicle and trailer paint). Based on this I know when I select vehicle from the map, it is either with or without trailer."},{"owner":{"account_id":428023,"reputation":15099,"user_id":810077,"accept_rate":83,"display_name":"Chetan Kinger"},"score":0,"creation_date":1487431835,"post_id":42316785,"comment_id":71787411,"body_markdown":"@bojanv55 Take a look at my updated answer. I believe it covers all aspects of your question now. Do let me know if you have any further clarifications or if you see any issues with following that approach now?","body":"@bojanv55 Take a look at my updated answer. I believe it covers all aspects of your question now. Do let me know if you have any further clarifications or if you see any issues with following that approach now?"},{"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"score":0,"creation_date":1487432369,"post_id":42316785,"comment_id":71787562,"body_markdown":"@bojanv55 If you know the type already, can&#39;t you use 2 separated maps for each type of vehicle? Then based on the arguments you get passed you retrieve an object from either map.","body":"@bojanv55 If you know the type already, can&#39;t you use 2 separated maps for each type of vehicle? Then based on the arguments you get passed you retrieve an object from either map."},{"owner":{"account_id":3303925,"reputation":2096,"user_id":2779330,"accept_rate":60,"display_name":"Bojan Vukasovic"},"score":0,"creation_date":1487432554,"post_id":42316785,"comment_id":71787609,"body_markdown":"@JornVernee idea seems ok for this example, but if i need to iterate vehicles and call common operation on them (eg. stop()) I would have to iterate over both maps.","body":"@JornVernee idea seems ok for this example, but if i need to iterate vehicles and call common operation on them (eg. stop()) I would have to iterate over both maps."},{"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"score":0,"creation_date":1487432840,"post_id":42316785,"comment_id":71787689,"body_markdown":"@bojanv55 You could hide that implementation in a class that let&#39;s you retrieve either type, but iterate over both as well. A class that has 2 (or more) maps, but also provides a view as if they were 1 map.","body":"@bojanv55 You could hide that implementation in a class that let&#39;s you retrieve either type, but iterate over both as well. A class that has 2 (or more) maps, but also provides a view as if they were 1 map."},{"owner":{"account_id":3303925,"reputation":2096,"user_id":2779330,"accept_rate":60,"display_name":"Bojan Vukasovic"},"score":0,"creation_date":1487433252,"post_id":42316785,"comment_id":71787837,"body_markdown":"@JornVernee seems to me that this option is more less the same as manual type casting, just now moved to the other class with separate methods.","body":"@JornVernee seems to me that this option is more less the same as manual type casting, just now moved to the other class with separate methods."},{"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"score":0,"creation_date":1487434254,"post_id":42316785,"comment_id":71788223,"body_markdown":"@bojanv55 That&#39;s true. The main difference is that the other never has to cast, and actually never ambiguates the types. It always remembers the distinction internally.","body":"@bojanv55 That&#39;s true. The main difference is that the other never has to cast, and actually never ambiguates the types. It always remembers the distinction internally."},{"owner":{"account_id":148440,"reputation":54364,"user_id":360211,"accept_rate":76,"display_name":"weston"},"score":0,"creation_date":1487477500,"post_id":42316785,"comment_id":71800209,"body_markdown":"Why does a vehicle not already know it&#39;s color/s? Seems like a case of low cohesion. Or is `paint` used for changing the vehicle color/s?","body":"Why does a vehicle not already know it&#39;s color/s? Seems like a case of low cohesion. Or is <code>paint</code> used for changing the vehicle color/s?"},{"owner":{"account_id":3303925,"reputation":2096,"user_id":2779330,"accept_rate":60,"display_name":"Bojan Vukasovic"},"score":0,"creation_date":1487498161,"post_id":42316785,"comment_id":71804596,"body_markdown":"@weston it&#39;s used to change the color.","body":"@weston it&#39;s used to change the color."}],"answers":[{"tags":[],"owner":{"account_id":428023,"reputation":15099,"user_id":810077,"accept_rate":83,"display_name":"Chetan Kinger"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1530439522,"creation_date":1487430498,"answer_id":42316849,"question_id":42316785,"body_markdown":"A better option would be to get rid of the *overloaded* versions of the `drive` method and pass whatever information is required by the subclasses in the constructor instead :\r\n\r\n    interface Vehicle{\r\n        void drive();\r\n    }\r\n\r\n    class Car implements Vehicle {\r\n        private int numberOfDoors;\r\n    \r\n        public Car(int numberOfDoors) {\r\n             this.numberOfDoors = numberOfDoors;\r\n         }\r\n       \r\n        public void drive() {\r\n            System.out.println(numberOfDoors);\r\n        }\r\n    }\r\n\r\n\r\n    class TruckWithTrailer implements Vehicle {\r\n        private int numberOfDoors;\r\n        private int numberOfTrailers;\r\n        \r\n        public TruckWithTrailer(int numberOfDoors,numberOfTrailers) {\r\n              this.numberOfDoors = numberOfDoors;\r\n              this.numberOfTrailers = numberOfTrailers;\r\n        }\r\n    \r\n        @Override\r\n        public void drive() {\r\n            System.out.println(numberOfDoors + numberOfTrailers);\r\n        }\r\n    }\r\n\r\n----\r\n\r\nAddressing your comment regarding the `paint` being decided at runtime, you can add a `paint` method to vehicle that takes variable arguments :\r\n\r\n    interface Vehicle{\r\n        void drive();\r\n        void paint(String ...colors);\r\n    }\r\n\r\n---\r\n\r\nAs discussed in the comments, if the number of arguments to be used in the paint method varies for different vehicle types, define a class called `PaintSpecification` that contains attributes such as `vehcileColor`, `trailerColor` and change the `paint` method to have an argument of type `PaintSpecification` instead. \r\n\r\n\r\n    interface Vehicle{\r\n        void drive();\r\n        void paint(PaintSpecification spec);\r\n    }\r\n\r\nThe advantage of all the above approaches is that all `Vehicle` implementations adhere to a single contract allowing you to perform operations such as adding all your `Vehicle` instances to a `List` and calling the `paint` method on them one by one regardless of their type.\r\n ","title":"Interface methods with variable argument types","body":"<p>A better option would be to get rid of the <em>overloaded</em> versions of the <code>drive</code> method and pass whatever information is required by the subclasses in the constructor instead :</p>\n\n<pre><code>interface Vehicle{\n    void drive();\n}\n\nclass Car implements Vehicle {\n    private int numberOfDoors;\n\n    public Car(int numberOfDoors) {\n         this.numberOfDoors = numberOfDoors;\n     }\n\n    public void drive() {\n        System.out.println(numberOfDoors);\n    }\n}\n\n\nclass TruckWithTrailer implements Vehicle {\n    private int numberOfDoors;\n    private int numberOfTrailers;\n\n    public TruckWithTrailer(int numberOfDoors,numberOfTrailers) {\n          this.numberOfDoors = numberOfDoors;\n          this.numberOfTrailers = numberOfTrailers;\n    }\n\n    @Override\n    public void drive() {\n        System.out.println(numberOfDoors + numberOfTrailers);\n    }\n}\n</code></pre>\n\n<hr>\n\n<p>Addressing your comment regarding the <code>paint</code> being decided at runtime, you can add a <code>paint</code> method to vehicle that takes variable arguments :</p>\n\n<pre><code>interface Vehicle{\n    void drive();\n    void paint(String ...colors);\n}\n</code></pre>\n\n<hr>\n\n<p>As discussed in the comments, if the number of arguments to be used in the paint method varies for different vehicle types, define a class called <code>PaintSpecification</code> that contains attributes such as <code>vehcileColor</code>, <code>trailerColor</code> and change the <code>paint</code> method to have an argument of type <code>PaintSpecification</code> instead. </p>\n\n<pre><code>interface Vehicle{\n    void drive();\n    void paint(PaintSpecification spec);\n}\n</code></pre>\n\n<p>The advantage of all the above approaches is that all <code>Vehicle</code> implementations adhere to a single contract allowing you to perform operations such as adding all your <code>Vehicle</code> instances to a <code>List</code> and calling the <code>paint</code> method on them one by one regardless of their type.</p>\n"},{"tags":[],"owner":{"account_id":947184,"reputation":48994,"user_id":974186,"accept_rate":79,"display_name":"Ren&#233; Link"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1657606358,"creation_date":1487502680,"answer_id":42326508,"question_id":42316785,"body_markdown":"&gt; but I have to do manual type-cast in the code.\r\n\r\nIt&#39;s because you lost the type information that you obviously need.\r\n\r\nYour client code depends on concrete type information, because your paint method depends on concrete types.\r\n\r\nIf your client code should not be aware of the concrete `Vehicle` types, the `Vehicle` interface should be designed in a way that does not need concrete type information. E.g.\r\n\r\n    public void paint();\r\n\r\nThis would also mean that each `Vehicle` instance must have all information that it needs to paint itself. You could give the implementations **`color` properties**.\r\n\r\n    public class Car implements Vehicle {\r\n\r\n      private int color = 0; // Default color\r\n\r\n\t  public void paint() {\r\n\t\tSystem.out.println(color);\r\n\t  }\r\n\r\n      public void setColor(int color){\r\n         // maybe some validation first\r\n         this.color = color;\r\n      }\r\n    }\r\n\r\nor pass them to the `paint` method:\r\n\r\n     public void paint(Color color)\r\n\r\nIf you need to pass even more properties you can create a `PaintContext` class and pass it to the paint method.\r\n\r\n**What else can you do?**\r\n\r\nIf you want to keep your code as it is you must recreate the type infromation in some way.\r\n\r\nI see the following solutions:\r\n\r\n - **instanceof** checks with downcast (you already tried that)\r\n - **Adapter-Pattern**\r\n - **Visitor-Pattern**\r\n\r\n\r\n**Adapter-Pattern**\r\n\r\n\tinterface Vehicle {\r\n\t\tpublic &lt;T extends Vehicle&gt; T getAdapter(Class&lt;T&gt; adapterClass);\r\n\t}\r\n\r\n\tclass Car implements Vehicle {\r\n\t\r\n\t\t@Override\r\n\t\tpublic &lt;T extends Vehicle&gt; T getAdapter(Class&lt;T&gt; adapterClass) {\r\n\t\t\tif(adapterClass.isInstance(this)){\r\n\t\t\t\treturn adapterClass.cast(this);\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\nYour client code will then look like this:\r\n\r\n    Vehicle vehicle = ...;\r\n\r\n    Car car = vehicle.getAdapter(Car.class);\r\n    if(car != null){\r\n        // the vehicle can be adapted to a car\r\n        car.paint(1);\r\n    }\r\n\r\n**Pros of the Adapter-Pattern**\r\n\r\n- You move the `instanceof` checks from the client code into the adapter. Thus the client code will be more refactoring-safe. E.g. imagine the following client code:\r\n\r\n        if(vehicle instanceof Car){\r\n           // ...\r\n        } else if(vehicle instanceof TruckWithTrailer){\r\n           // ...\r\n        }\r\n\r\n    Think about what will happen if you refactor your code to `TruckWithTrailer extends Car`\r\n\r\n- The adapter must not return itself. The concrete `Vehicle` might instantiate another object that let it look like the adapter type.\r\n\r\n\t\tpublic &lt;T extends Vehicle&gt; T getAdapter(Class&lt;T&gt; adapterClass) {\r\n\t\t\tif(Car.class.isAssignableFrom(adapterClass)){\r\n\t\t\t\treturn new CarAdapter(this)\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t}\r\n        \r\n\r\n**Cons of the Adapter-Pattern**\r\n\r\n   - The [cyclomatic complexity][1] of client code increases when you add more and more implementations of `Vehicle` (a lot of if-else statements).\r\n    \r\n\r\n**Visitor-Pattern**\r\n\r\n\tinterface Vehicle {\r\n\t\tpublic void accept(VehicleVisitor vehicleVisitor);\r\n\t}\r\n\t\r\n\tinterface VehicleVisitor {\r\n\t\tpublic void visit(Car car);\r\n\t\tpublic void visit(TruckWithTrailer truckWithTrailer);\r\n\t}\r\n\r\nThe implementations of car will then decide which method of the `VihicleVisitor` should be invoked.\r\n\r\n\tclass Car implements Vehicle {\r\n\t\r\n\t\tpublic void paint(int vehicleColor) {\r\n\t\t\tSystem.out.println(vehicleColor);\r\n\t\t}\r\n\t\r\n\t\t@Override\r\n\t\tpublic void accept(VehicleVisitor vehicleVisitor) {\r\n\t\t\tvehicleVisitor.visit(this);\r\n\t\t}\r\n\t}\r\n\r\nYour client code must then provide a `VehicleVisitor`\r\n\r\n\t\tVehicle vehicle = ...;\r\n\t\tvehicle.accept(new VehicleVisitor() {\r\n\r\n\t\t\tpublic void visit(TruckWithTrailer truckWithTrailer) {\r\n\t\t\t\ttruckWithTrailer.paint(1, &quot;1&quot;);\r\n\r\n\t\t\t}\r\n\r\n\t\t\tpublic void visit(Car car) {\r\n\t\t\t\tcar.paint(1);\r\n\t\t\t}\r\n\t\t});\r\n\r\n**Pros of the Visitor-Pattern**\r\n\r\n- Separation of type specific logic in separate methods\r\n\r\n**Cons of the Visitor-Pattern**\r\n\r\n- New types require the visitor interface to change and all implementations of the visitor must be changed as well.\r\n\r\n\r\n---\r\nPS: With more information about the context of your code there might be other solutions.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Cyclomatic_complexity","title":"Interface methods with variable argument types","body":"<blockquote>\n<p>but I have to do manual type-cast in the code.</p>\n</blockquote>\n<p>It's because you lost the type information that you obviously need.</p>\n<p>Your client code depends on concrete type information, because your paint method depends on concrete types.</p>\n<p>If your client code should not be aware of the concrete <code>Vehicle</code> types, the <code>Vehicle</code> interface should be designed in a way that does not need concrete type information. E.g.</p>\n<pre><code>public void paint();\n</code></pre>\n<p>This would also mean that each <code>Vehicle</code> instance must have all information that it needs to paint itself. You could give the implementations <strong><code>color</code> properties</strong>.</p>\n<pre><code>public class Car implements Vehicle {\n\n  private int color = 0; // Default color\n\n  public void paint() {\n    System.out.println(color);\n  }\n\n  public void setColor(int color){\n     // maybe some validation first\n     this.color = color;\n  }\n}\n</code></pre>\n<p>or pass them to the <code>paint</code> method:</p>\n<pre><code> public void paint(Color color)\n</code></pre>\n<p>If you need to pass even more properties you can create a <code>PaintContext</code> class and pass it to the paint method.</p>\n<p><strong>What else can you do?</strong></p>\n<p>If you want to keep your code as it is you must recreate the type infromation in some way.</p>\n<p>I see the following solutions:</p>\n<ul>\n<li><strong>instanceof</strong> checks with downcast (you already tried that)</li>\n<li><strong>Adapter-Pattern</strong></li>\n<li><strong>Visitor-Pattern</strong></li>\n</ul>\n<p><strong>Adapter-Pattern</strong></p>\n<pre><code>interface Vehicle {\n    public &lt;T extends Vehicle&gt; T getAdapter(Class&lt;T&gt; adapterClass);\n}\n\nclass Car implements Vehicle {\n\n    @Override\n    public &lt;T extends Vehicle&gt; T getAdapter(Class&lt;T&gt; adapterClass) {\n        if(adapterClass.isInstance(this)){\n            return adapterClass.cast(this);\n        }\n        return null;\n    }\n}\n</code></pre>\n<p>Your client code will then look like this:</p>\n<pre><code>Vehicle vehicle = ...;\n\nCar car = vehicle.getAdapter(Car.class);\nif(car != null){\n    // the vehicle can be adapted to a car\n    car.paint(1);\n}\n</code></pre>\n<p><strong>Pros of the Adapter-Pattern</strong></p>\n<ul>\n<li><p>You move the <code>instanceof</code> checks from the client code into the adapter. Thus the client code will be more refactoring-safe. E.g. imagine the following client code:</p>\n<pre><code>  if(vehicle instanceof Car){\n     // ...\n  } else if(vehicle instanceof TruckWithTrailer){\n     // ...\n  }\n</code></pre>\n<p>Think about what will happen if you refactor your code to <code>TruckWithTrailer extends Car</code></p>\n</li>\n<li><p>The adapter must not return itself. The concrete <code>Vehicle</code> might instantiate another object that let it look like the adapter type.</p>\n<pre><code>  public &lt;T extends Vehicle&gt; T getAdapter(Class&lt;T&gt; adapterClass) {\n      if(Car.class.isAssignableFrom(adapterClass)){\n          return new CarAdapter(this)\n      }\n      return null;\n  }\n</code></pre>\n</li>\n</ul>\n<p><strong>Cons of the Adapter-Pattern</strong></p>\n<ul>\n<li>The <a href=\"https://en.wikipedia.org/wiki/Cyclomatic_complexity\" rel=\"nofollow noreferrer\">cyclomatic complexity</a> of client code increases when you add more and more implementations of <code>Vehicle</code> (a lot of if-else statements).</li>\n</ul>\n<p><strong>Visitor-Pattern</strong></p>\n<pre><code>interface Vehicle {\n    public void accept(VehicleVisitor vehicleVisitor);\n}\n\ninterface VehicleVisitor {\n    public void visit(Car car);\n    public void visit(TruckWithTrailer truckWithTrailer);\n}\n</code></pre>\n<p>The implementations of car will then decide which method of the <code>VihicleVisitor</code> should be invoked.</p>\n<pre><code>class Car implements Vehicle {\n\n    public void paint(int vehicleColor) {\n        System.out.println(vehicleColor);\n    }\n\n    @Override\n    public void accept(VehicleVisitor vehicleVisitor) {\n        vehicleVisitor.visit(this);\n    }\n}\n</code></pre>\n<p>Your client code must then provide a <code>VehicleVisitor</code></p>\n<pre><code>    Vehicle vehicle = ...;\n    vehicle.accept(new VehicleVisitor() {\n\n        public void visit(TruckWithTrailer truckWithTrailer) {\n            truckWithTrailer.paint(1, &quot;1&quot;);\n\n        }\n\n        public void visit(Car car) {\n            car.paint(1);\n        }\n    });\n</code></pre>\n<p><strong>Pros of the Visitor-Pattern</strong></p>\n<ul>\n<li>Separation of type specific logic in separate methods</li>\n</ul>\n<p><strong>Cons of the Visitor-Pattern</strong></p>\n<ul>\n<li>New types require the visitor interface to change and all implementations of the visitor must be changed as well.</li>\n</ul>\n<hr />\n<p>PS: With more information about the context of your code there might be other solutions.</p>\n"}],"owner":{"account_id":3303925,"reputation":2096,"user_id":2779330,"accept_rate":60,"display_name":"Bojan Vukasovic"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9273,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":42316849,"answer_count":2,"score":6,"last_activity_date":1657606358,"creation_date":1487430131,"question_id":42316785,"body_markdown":"I have java interface and class implementations that have need for different arguments when invoking similar behavior. Which of the following is mostly appropriate?\r\n\r\nIn first option I have different classes inherit common behavior from base interface and all differences are only implemented directly in the classes and not in interface. This one seems most appropriate, but I have to do manual type-cast in the code.\r\n\r\n    public class VaryParam1 {\r\n\r\n        static Map&lt;VehicleType, Vehicle&gt; list = new HashMap&lt;&gt;();\r\n\r\n        static List&lt;Car&gt; carsList = new ArrayList&lt;&gt;();\r\n        static List&lt;TruckWithTrailer&gt; trucksList = new ArrayList&lt;&gt;();\r\n\r\n        public static void main(String[] args) {\r\n            list.put(VehicleType.WITHOUT_TRAILER, new Car());\r\n            list.put(VehicleType.WITH_TRAILER, new TruckWithTrailer());\r\n\r\n            //violates LSP?\r\n            ((Car)list.get(VehicleType.WITHOUT_TRAILER)).paint(1); //ok - but needed manual cast\r\n            ((TruckWithTrailer)list.get(VehicleType.WITH_TRAILER)).paint(1, &quot;1&quot;); //ok - but needed manual cast\r\n\r\n            carsList.add(new Car());\r\n            trucksList.add(new TruckWithTrailer());\r\n\r\n            //Does not violate LSP\r\n            carsList.get(0).paint(1);\r\n            trucksList.get(0).paint(1, &quot;1&quot;);\r\n        }\r\n    }\r\n\r\n    enum VehicleType {\r\n        WITHOUT_TRAILER,\r\n        WITH_TRAILER;\r\n    }\r\n\r\n    interface Vehicle{\r\n        //definition of all common methods\r\n        void drive();\r\n        void stop();\r\n    }\r\n\r\n    class Car implements Vehicle {\r\n\r\n        public void paint(int vehicleColor) {\r\n            System.out.println(vehicleColor);\r\n        }\r\n\r\n        @Override\r\n        public void drive() {}\r\n\r\n        @Override\r\n        public void stop() {}\r\n    }\r\n\r\n    class TruckWithTrailer implements Vehicle {\r\n\r\n        public void paint(int vehicleColor, String trailerColor) {\r\n            System.out.println(vehicleColor + trailerColor);\r\n        }\r\n\r\n        @Override\r\n        public void drive() {}\r\n\r\n        @Override\r\n        public void stop() {}\r\n    }\r\n\r\nIn second option I have moved methods one level up to the interface, but now I need to implement behavior with UnsupportedOpException. This looks like code smell. In code, I don&#39;t have to do manual casting, but I also have possibility to call methods that will produce exception in run time - no compile time checking. This is not that big problem - only this methods with exception that look like code smell. Is this way of implementation best practice?\r\n\r\n    public class VaryParam2 {\r\n    \r\n        static Map&lt;VehicleType, Vehicle&gt; list = new HashMap&lt;&gt;();\r\n    \r\n        public static void main(String[] args) {\r\n            list.put(VehicleType.WITHOUT_TRAILER, new Car());\r\n            list.put(VehicleType.WITH_TRAILER, new TruckWithTrailer());\r\n    \r\n            list.get(VehicleType.WITHOUT_TRAILER).paint(1); //works\r\n            list.get(VehicleType.WITH_TRAILER).paint(1, &quot;1&quot;); //works\r\n    \r\n            list.get(VehicleType.WITHOUT_TRAILER).paint(1, &quot;1&quot;); //ok - exception - passing trailer when no trailer - no compile time check!\r\n            list.get(VehicleType.WITH_TRAILER).paint(1); //ok - exception - calling trailer without trailer args - no compile time check!\r\n        }\r\n    }\r\n    \r\n    enum VehicleType {\r\n        WITHOUT_TRAILER,\r\n        WITH_TRAILER;\r\n    }\r\n    \r\n    interface Vehicle{\r\n        void paint(int vehicleColor);\r\n        void paint(int vehicleColor, String trailerColor);    //code smell - not valid for all vehicles??\r\n    }\r\n    \r\n    class Car implements Vehicle {\r\n    \r\n        @Override\r\n        public void paint(int vehicleColor) {\r\n            System.out.println(vehicleColor);\r\n        }\r\n    \r\n        @Override\r\n        public void paint(int vehicleColor, String trailerColor) {    //code smell ??\r\n            throw new UnsupportedOperationException(&quot;Car has no trailer&quot;);\r\n        }\r\n    }\r\n    \r\n    class TruckWithTrailer implements Vehicle {\r\n    \r\n        @Override\r\n        public void paint(int vehicleColor) {  //code smell ??\r\n            throw new UnsupportedOperationException(&quot;What to do with the trailer?&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public void paint(int vehicleColor, String trailerColor) {\r\n            System.out.println(vehicleColor + trailerColor);\r\n        }\r\n    }\r\n\r\nHere I used generics in order to have common method in interface, and parameter type is decided in each class implementation. Problem here is that I have unchecked calls to paint. This is more-less similar to problem of direct casting in option 1. Bur here I also have possibility to call methods that I should not be able to!\r\n    \r\n    public class VaryParam3 {\r\n\r\n        static Map&lt;VehicleType, Vehicle&gt; list = new HashMap&lt;&gt;();\r\n\r\n\r\n        public static void main(String[] args) {\r\n            list.put(VehicleType.WITHOUT_TRAILER, new Car());\r\n            list.put(VehicleType.WITH_TRAILER, new TruckWithTrailer());\r\n\r\n            list.get(VehicleType.WITHOUT_TRAILER).paint(new VehicleParam());    //works but unchecked call\r\n            list.get(VehicleType.WITH_TRAILER).paint(new TruckWithTrailerParam());    //works but unchecked call\r\n\r\n            list.get(VehicleType.WITHOUT_TRAILER).paint(new TruckWithTrailerParam()); //works but should not!\r\n            list.get(VehicleType.WITH_TRAILER).paint(new VehicleParam());   //ClassCastException in runtime - ok but no compile time check\r\n        }\r\n    }\r\n\r\n    enum VehicleType {\r\n        WITHOUT_TRAILER,\r\n        WITH_TRAILER;\r\n    }\r\n\r\n    class VehicleParam {\r\n        int vehicleColor;\r\n    }\r\n\r\n    class TruckWithTrailerParam extends VehicleParam {\r\n        String trailerColor;\r\n    }\r\n\r\n    interface Vehicle&lt;T extends VehicleParam&gt;{\r\n        void paint(T param);\r\n    }\r\n\r\n    class Car implements Vehicle&lt;VehicleParam&gt; {\r\n\r\n        @Override\r\n        public void paint(VehicleParam param) {\r\n            System.out.println(param.vehicleColor);\r\n        }\r\n    }\r\n\r\n    class TruckWithTrailer implements Vehicle&lt;TruckWithTrailerParam&gt; {\r\n\r\n        @Override\r\n        public void paint(TruckWithTrailerParam param) {\r\n            System.out.println(param.vehicleColor + param.trailerColor);\r\n        }\r\n    }\r\n\r\nSo question is - which of this 3 options is the best one (or if there is some other option I have not found)? In terms of further maintenance, changing etc.\r\n\r\n**UPDATE**\r\n\r\nI updated the question and now I have paint method that can be called only after object is constructed.\r\n\r\nSo far this looks like the best option as it is suggested in the post below:\r\n\r\n    public class VaryParam4 {\r\n\r\n        static Map&lt;VehicleType, Vehicle&gt; list = new HashMap&lt;&gt;();\r\n\r\n        public static void main(String[] args) {\r\n            list.put(VehicleType.WITHOUT_TRAILER, new Car());\r\n            list.put(VehicleType.WITH_TRAILER, new TruckWithTrailer());\r\n\r\n            list.get(VehicleType.WITHOUT_TRAILER).paint(new PaintConfigObject());    //works but can pass trailerColor (even if null) that is not needed\r\n            list.get(VehicleType.WITH_TRAILER).paint(new PaintConfigObject());    //works\r\n        }\r\n    }\r\n\r\n    enum VehicleType {\r\n        WITHOUT_TRAILER,\r\n        WITH_TRAILER;\r\n    }\r\n\r\n    class PaintConfigObject {\r\n        int vehicleColor;\r\n        String trailerColor;\r\n    }\r\n\r\n    interface Vehicle{\r\n        void paint(PaintConfigObject param);\r\n    }\r\n\r\n    class Car implements Vehicle {\r\n\r\n        @Override\r\n        public void paint(PaintConfigObject param) {\r\n            //param.trailerColor will never be used here but it&#39;s passed in param\r\n            System.out.println(param.vehicleColor);\r\n        }\r\n    }\r\n\r\n    class TruckWithTrailer implements Vehicle {\r\n\r\n        @Override\r\n        public void paint(PaintConfigObject param) {\r\n            System.out.println(param.vehicleColor + param.trailerColor);\r\n        }\r\n    }","title":"Interface methods with variable argument types","body":"<p>I have java interface and class implementations that have need for different arguments when invoking similar behavior. Which of the following is mostly appropriate?</p>\n\n<p>In first option I have different classes inherit common behavior from base interface and all differences are only implemented directly in the classes and not in interface. This one seems most appropriate, but I have to do manual type-cast in the code.</p>\n\n<pre><code>public class VaryParam1 {\n\n    static Map&lt;VehicleType, Vehicle&gt; list = new HashMap&lt;&gt;();\n\n    static List&lt;Car&gt; carsList = new ArrayList&lt;&gt;();\n    static List&lt;TruckWithTrailer&gt; trucksList = new ArrayList&lt;&gt;();\n\n    public static void main(String[] args) {\n        list.put(VehicleType.WITHOUT_TRAILER, new Car());\n        list.put(VehicleType.WITH_TRAILER, new TruckWithTrailer());\n\n        //violates LSP?\n        ((Car)list.get(VehicleType.WITHOUT_TRAILER)).paint(1); //ok - but needed manual cast\n        ((TruckWithTrailer)list.get(VehicleType.WITH_TRAILER)).paint(1, \"1\"); //ok - but needed manual cast\n\n        carsList.add(new Car());\n        trucksList.add(new TruckWithTrailer());\n\n        //Does not violate LSP\n        carsList.get(0).paint(1);\n        trucksList.get(0).paint(1, \"1\");\n    }\n}\n\nenum VehicleType {\n    WITHOUT_TRAILER,\n    WITH_TRAILER;\n}\n\ninterface Vehicle{\n    //definition of all common methods\n    void drive();\n    void stop();\n}\n\nclass Car implements Vehicle {\n\n    public void paint(int vehicleColor) {\n        System.out.println(vehicleColor);\n    }\n\n    @Override\n    public void drive() {}\n\n    @Override\n    public void stop() {}\n}\n\nclass TruckWithTrailer implements Vehicle {\n\n    public void paint(int vehicleColor, String trailerColor) {\n        System.out.println(vehicleColor + trailerColor);\n    }\n\n    @Override\n    public void drive() {}\n\n    @Override\n    public void stop() {}\n}\n</code></pre>\n\n<p>In second option I have moved methods one level up to the interface, but now I need to implement behavior with UnsupportedOpException. This looks like code smell. In code, I don't have to do manual casting, but I also have possibility to call methods that will produce exception in run time - no compile time checking. This is not that big problem - only this methods with exception that look like code smell. Is this way of implementation best practice?</p>\n\n<pre><code>public class VaryParam2 {\n\n    static Map&lt;VehicleType, Vehicle&gt; list = new HashMap&lt;&gt;();\n\n    public static void main(String[] args) {\n        list.put(VehicleType.WITHOUT_TRAILER, new Car());\n        list.put(VehicleType.WITH_TRAILER, new TruckWithTrailer());\n\n        list.get(VehicleType.WITHOUT_TRAILER).paint(1); //works\n        list.get(VehicleType.WITH_TRAILER).paint(1, \"1\"); //works\n\n        list.get(VehicleType.WITHOUT_TRAILER).paint(1, \"1\"); //ok - exception - passing trailer when no trailer - no compile time check!\n        list.get(VehicleType.WITH_TRAILER).paint(1); //ok - exception - calling trailer without trailer args - no compile time check!\n    }\n}\n\nenum VehicleType {\n    WITHOUT_TRAILER,\n    WITH_TRAILER;\n}\n\ninterface Vehicle{\n    void paint(int vehicleColor);\n    void paint(int vehicleColor, String trailerColor);    //code smell - not valid for all vehicles??\n}\n\nclass Car implements Vehicle {\n\n    @Override\n    public void paint(int vehicleColor) {\n        System.out.println(vehicleColor);\n    }\n\n    @Override\n    public void paint(int vehicleColor, String trailerColor) {    //code smell ??\n        throw new UnsupportedOperationException(\"Car has no trailer\");\n    }\n}\n\nclass TruckWithTrailer implements Vehicle {\n\n    @Override\n    public void paint(int vehicleColor) {  //code smell ??\n        throw new UnsupportedOperationException(\"What to do with the trailer?\");\n    }\n\n    @Override\n    public void paint(int vehicleColor, String trailerColor) {\n        System.out.println(vehicleColor + trailerColor);\n    }\n}\n</code></pre>\n\n<p>Here I used generics in order to have common method in interface, and parameter type is decided in each class implementation. Problem here is that I have unchecked calls to paint. This is more-less similar to problem of direct casting in option 1. Bur here I also have possibility to call methods that I should not be able to!</p>\n\n<pre><code>public class VaryParam3 {\n\n    static Map&lt;VehicleType, Vehicle&gt; list = new HashMap&lt;&gt;();\n\n\n    public static void main(String[] args) {\n        list.put(VehicleType.WITHOUT_TRAILER, new Car());\n        list.put(VehicleType.WITH_TRAILER, new TruckWithTrailer());\n\n        list.get(VehicleType.WITHOUT_TRAILER).paint(new VehicleParam());    //works but unchecked call\n        list.get(VehicleType.WITH_TRAILER).paint(new TruckWithTrailerParam());    //works but unchecked call\n\n        list.get(VehicleType.WITHOUT_TRAILER).paint(new TruckWithTrailerParam()); //works but should not!\n        list.get(VehicleType.WITH_TRAILER).paint(new VehicleParam());   //ClassCastException in runtime - ok but no compile time check\n    }\n}\n\nenum VehicleType {\n    WITHOUT_TRAILER,\n    WITH_TRAILER;\n}\n\nclass VehicleParam {\n    int vehicleColor;\n}\n\nclass TruckWithTrailerParam extends VehicleParam {\n    String trailerColor;\n}\n\ninterface Vehicle&lt;T extends VehicleParam&gt;{\n    void paint(T param);\n}\n\nclass Car implements Vehicle&lt;VehicleParam&gt; {\n\n    @Override\n    public void paint(VehicleParam param) {\n        System.out.println(param.vehicleColor);\n    }\n}\n\nclass TruckWithTrailer implements Vehicle&lt;TruckWithTrailerParam&gt; {\n\n    @Override\n    public void paint(TruckWithTrailerParam param) {\n        System.out.println(param.vehicleColor + param.trailerColor);\n    }\n}\n</code></pre>\n\n<p>So question is - which of this 3 options is the best one (or if there is some other option I have not found)? In terms of further maintenance, changing etc.</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>I updated the question and now I have paint method that can be called only after object is constructed.</p>\n\n<p>So far this looks like the best option as it is suggested in the post below:</p>\n\n<pre><code>public class VaryParam4 {\n\n    static Map&lt;VehicleType, Vehicle&gt; list = new HashMap&lt;&gt;();\n\n    public static void main(String[] args) {\n        list.put(VehicleType.WITHOUT_TRAILER, new Car());\n        list.put(VehicleType.WITH_TRAILER, new TruckWithTrailer());\n\n        list.get(VehicleType.WITHOUT_TRAILER).paint(new PaintConfigObject());    //works but can pass trailerColor (even if null) that is not needed\n        list.get(VehicleType.WITH_TRAILER).paint(new PaintConfigObject());    //works\n    }\n}\n\nenum VehicleType {\n    WITHOUT_TRAILER,\n    WITH_TRAILER;\n}\n\nclass PaintConfigObject {\n    int vehicleColor;\n    String trailerColor;\n}\n\ninterface Vehicle{\n    void paint(PaintConfigObject param);\n}\n\nclass Car implements Vehicle {\n\n    @Override\n    public void paint(PaintConfigObject param) {\n        //param.trailerColor will never be used here but it's passed in param\n        System.out.println(param.vehicleColor);\n    }\n}\n\nclass TruckWithTrailer implements Vehicle {\n\n    @Override\n    public void paint(PaintConfigObject param) {\n        System.out.println(param.vehicleColor + param.trailerColor);\n    }\n}\n</code></pre>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":3,"creation_date":1657583118,"post_id":72945660,"comment_id":128840555,"body_markdown":"Is `this.datePicker` injected by the `FXMLLoader` perchance? If so, then it is replaced by a different `DatePicker` instance, making what you do in the constructor ineffective; to fix this, save the date in a field and set the `DatePicker`&#39;s value in the `initialize` method. In general, you should _never_ manually initialize an FXML-injected field.","body":"Is <code>this.datePicker</code> injected by the <code>FXMLLoader</code> perchance? If so, then it is replaced by a different <code>DatePicker</code> instance, making what you do in the constructor ineffective; to fix this, save the date in a field and set the <code>DatePicker</code>&#39;s value in the <code>initialize</code> method. In general, you should <i>never</i> manually initialize an FXML-injected field."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1657584289,"post_id":72945660,"comment_id":128840733,"body_markdown":"Post a [mre]. That is, create a minimal example that reproduces the problem and then actually copy and paste the complete code here so others can reproduce the issue. The snippets you have include obvious typos (unless you have some really weird methods you haven’t included) and you’re really forcing people to guess what you real code looks like to try and diagnose the problem.","body":"Post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. That is, create a minimal example that reproduces the problem and then actually copy and paste the complete code here so others can reproduce the issue. The snippets you have include obvious typos (unless you have some really weird methods you haven’t included) and you’re really forcing people to guess what you real code looks like to try and diagnose the problem."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1657584376,"post_id":72945660,"comment_id":128840748,"body_markdown":"Aside: If your goal is to get a `LocalDate` instance based on user input via a popup, then consider using a `javafx.scene.control.Dialog&lt;LocalDate&gt;`.","body":"Aside: If your goal is to get a <code>LocalDate</code> instance based on user input via a popup, then consider using a <code>javafx.scene.control.Dialog&lt;LocalDate&gt;</code>."},{"owner":{"account_id":16469483,"reputation":47,"user_id":11898876,"display_name":"0tto"},"score":0,"creation_date":1657584620,"post_id":72945660,"comment_id":128840779,"body_markdown":"You are right. One of the first things I did, was implementing the `Initializable` interface, but it didn&#39;t work for some reason so I dropped it at some point.\n\nNow it works like a charm. 8 hours of debugging went to waste. Well fuck me. \n\nNonetheless, thank you very much. Somehow it didn&#39;t occurred to me that, loading FXML also replaces nodes with new instances.","body":"You are right. One of the first things I did, was implementing the <code>Initializable</code> interface, but it didn&#39;t work for some reason so I dropped it at some point.  Now it works like a charm. 8 hours of debugging went to waste. Well fuck me.   Nonetheless, thank you very much. Somehow it didn&#39;t occurred to me that, loading FXML also replaces nodes with new instances."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1657585081,"post_id":72945660,"comment_id":128840840,"body_markdown":"@0tto *”Somehow it didn’t occur to me that loading the FXML also replaces nodes with new instances.”* This is a bit inaccurate. It doesn’t really “replace nodes”. The FXML loader creates new nodes and if they have `fx:id`s it assigns the corresponding references to those nodes. I’m genuinely interested as to how you actually thought it did work. The FXML loader is just a Java class like any other, and while the actual implementation is complex, what it’s doing is not hard to understand. Understanding what the classes you are using are doing will avoid wasting hours on debugging.","body":"@0tto <i>”Somehow it didn’t occur to me that loading the FXML also replaces nodes with new instances.”</i> This is a bit inaccurate. It doesn’t really “replace nodes”. The FXML loader creates new nodes and if they have <code>fx:id</code>s it assigns the corresponding references to those nodes. I’m genuinely interested as to how you actually thought it did work. The FXML loader is just a Java class like any other, and while the actual implementation is complex, what it’s doing is not hard to understand. Understanding what the classes you are using are doing will avoid wasting hours on debugging."},{"owner":{"account_id":16469483,"reputation":47,"user_id":11898876,"display_name":"0tto"},"score":0,"creation_date":1657585938,"post_id":72945660,"comment_id":128840963,"body_markdown":"@James_D I get your point, but to be frank I was just messing around with JavaFX, trying to make a simple app and see how it turns out. The other thing is that: **a)** I don&#39;t really have time or willingness too study every class I use and **b)** this is not really the point, is it? I mean the whole idea of class or a method is to present the programmer with certain abstraction - I don&#39;t really care how exactly given method works, as long as it works.  Way I see it: FXMLLoader loads FXMLs ;]. I absolutely get that this not applicable to all situations (like this one)... But it kinda should.","body":"@James_D I get your point, but to be frank I was just messing around with JavaFX, trying to make a simple app and see how it turns out. The other thing is that: <b>a)</b> I don&#39;t really have time or willingness too study every class I use and <b>b)</b> this is not really the point, is it? I mean the whole idea of class or a method is to present the programmer with certain abstraction - I don&#39;t really care how exactly given method works, as long as it works.  Way I see it: FXMLLoader loads FXMLs ;]. I absolutely get that this not applicable to all situations (like this one)... But it kinda should."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1657586035,"post_id":72945660,"comment_id":128840980,"body_markdown":"@0tto But it clearly does more than “load FXMLs”; it connects to a controller. I’m not asking you to understand “how it works” in the sense of “how it’s implemented” but in the sense of “what it does” (perhaps my previous comment was poorly worded). What’s the abstraction in terms of how the loaded FXML relates to the controller? You can’t really use an FXML Loader and a controller without understanding that. And once you’re more than an hour into debugging, surely at that point you’d delve into that before going to all the trouble of posting here?","body":"@0tto But it clearly does more than “load FXMLs”; it connects to a controller. I’m not asking you to understand “how it works” in the sense of “how it’s implemented” but in the sense of “what it does” (perhaps my previous comment was poorly worded). What’s the abstraction in terms of how the loaded FXML relates to the controller? You can’t really use an FXML Loader and a controller without understanding that. And once you’re more than an hour into debugging, surely at that point you’d delve into that before going to all the trouble of posting here?"},{"owner":{"account_id":16469483,"reputation":47,"user_id":11898876,"display_name":"0tto"},"score":0,"creation_date":1657587456,"post_id":72945660,"comment_id":128841167,"body_markdown":"@James_D That&#39;s mostly right - but then again, I&#39;m not really serious about that JavaFX thing. It&#39;s a side project for me, and my time&#39;s limited. Perhaps I should&#39;ve taken a dive into documentation, I can agree on that. I didn&#39;t do that because it didn&#39;t occurred to me, that Loader might be the problem. Also I admit I tend to avoid Java&#39;s documentation &#39;cuz it sucks, when compared to .NET&#39;s docs. All I can do now is draw conclusions and move on.","body":"@James_D That&#39;s mostly right - but then again, I&#39;m not really serious about that JavaFX thing. It&#39;s a side project for me, and my time&#39;s limited. Perhaps I should&#39;ve taken a dive into documentation, I can agree on that. I didn&#39;t do that because it didn&#39;t occurred to me, that Loader might be the problem. Also I admit I tend to avoid Java&#39;s documentation &#39;cuz it sucks, when compared to .NET&#39;s docs. All I can do now is draw conclusions and move on."}],"answers":[{"tags":[],"owner":{"account_id":16469483,"reputation":47,"user_id":11898876,"display_name":"0tto"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1657586417,"creation_date":1657586417,"answer_id":72945937,"question_id":72945660,"body_markdown":"As the gentlemen @Slaw and @James_D in the comments rightly pointed out, the solution to the problem is the implementation of the `initializable` interface, and `initialize` method, in which all properties of nodes ought to be  set.\r\n\r\nThis is because, as it turns out: \r\n\r\n&gt; The FXML loader creates new nodes and if they have fx:ids it assigns\r\n&gt; the corresponding references to those nodes.\r\n\r\n Rookie mistake.\r\n\r\nSo, in this case, the correct way to set date picker&#39;s value is as follows:\r\n\r\n```java \r\n @Override\r\n    public void initialize(URL url, ResourceBundle resourceBundle) {\r\n         datePicker.setValue(LocalDate.now()); // works!\r\n    }\r\n\r\n```","title":"JavaFX can&#39;t set value or &#39;change state&#39; of any node object","body":"<p>As the gentlemen @Slaw and @James_D in the comments rightly pointed out, the solution to the problem is the implementation of the <code>initializable</code> interface, and <code>initialize</code> method, in which all properties of nodes ought to be  set.</p>\n<p>This is because, as it turns out:</p>\n<blockquote>\n<p>The FXML loader creates new nodes and if they have fx:ids it assigns\nthe corresponding references to those nodes.</p>\n</blockquote>\n<p>Rookie mistake.</p>\n<p>So, in this case, the correct way to set date picker's value is as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code> @Override\n    public void initialize(URL url, ResourceBundle resourceBundle) {\n         datePicker.setValue(LocalDate.now()); // works!\n    }\n\n</code></pre>\n"}],"owner":{"account_id":16469483,"reputation":47,"user_id":11898876,"display_name":"0tto"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":135,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1657598275,"accepted_answer_id":72945937,"answer_count":1,"score":-2,"last_activity_date":1657606157,"creation_date":1657582925,"question_id":72945660,"body_markdown":"I am creating a popup with a date picker and some other nodes. I want this date picker to show the current date when the popup is opened.\r\n\r\nSo, I set the current date in the popup controller constructor, just like I do everywhere else in my application: \r\n\r\n`popup constructor`\r\n\r\n```java\r\n public TimeAndDateController(Stage stage, Task task) {\r\n        try {\r\n            this.taskReference = task;\r\n            this.popupStage = stage;\r\n\r\n            this.datePicker = new DatePicker();\r\n            datePicker.setValue(LocalDate.now());\r\n            \r\n\r\n        } catch (Exception e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\n```\r\n\r\nI want the popup to appear when the user clicks a button in the main application window, so I add all the necessary components, and finally call `showAndWait()` on the popup stage.\r\n\r\n\r\nEvent firing up the popup, somewhere in main application&#39;s controller\r\n``` java\r\ncustomTime.setOnAction(e -&gt; Platform.runLater(() -&gt; {\r\n\r\n    Task task = getSelectedTask();\r\n\r\n    try {\r\n\r\n\r\n        FXMLLoader loader = Utility.getFXMLLoader(&quot;fxml/timeAndDatePopup.fxml&quot;);\r\n\r\n        Stage popupStage = new Stage();\r\n\r\n        loader.setControllerFactory(c -&gt; TimeAndDateControllerFactory(popupStage, task));\r\n\r\n        Scene scene = new Scene(loader.load());\r\n\r\n        popupStage.setScene(scene);\r\n\r\n        popupStage.showAndWait();\r\n\r\n    } catch (Exception ex) {\r\n        throw new RuntimeException(ex);\r\n    }\r\n\r\n}));\r\n```\r\n\r\nNow the popup appears as expected without any error, but the data picker (or any other node I have there) has no value. \r\n\r\nI don&#39;t understand why this is happening. All nodes are initialized, there are no null pointers or error messages, FXML&#39;s fine, yet I can&#39;t set a value or have any control over the nodes. I spent hours today on this, looking for answers and found nothing. \r\n\r\nSo far I have tried:\r\n\r\n - Using a Popup class instead of a stage (as shown [here](https://stackoverflow.com/questions/30448611/how-to-create-an-inner-popup-in-javafx-styled-with-fxml)). \r\n - Setting the popup stage inside the popup controller, but that led to another oddity that prevented me from closing the popup using `stage.close()`.\r\n - Various methods for loading FXML and manually setting the controller, [eg.](https://community.oracle.com/tech/developers/discussion/3677813/javafx-pop-up-using-seperate-fxml-file)\r\n\r\n\r\n  \r\n\r\n    \r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"JavaFX can&#39;t set value or &#39;change state&#39; of any node object","body":"<p>I am creating a popup with a date picker and some other nodes. I want this date picker to show the current date when the popup is opened.</p>\n<p>So, I set the current date in the popup controller constructor, just like I do everywhere else in my application:</p>\n<p><code>popup constructor</code></p>\n<pre class=\"lang-java prettyprint-override\"><code> public TimeAndDateController(Stage stage, Task task) {\n        try {\n            this.taskReference = task;\n            this.popupStage = stage;\n\n            this.datePicker = new DatePicker();\n            datePicker.setValue(LocalDate.now());\n            \n\n        } catch (Exception e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n</code></pre>\n<p>I want the popup to appear when the user clicks a button in the main application window, so I add all the necessary components, and finally call <code>showAndWait()</code> on the popup stage.</p>\n<p>Event firing up the popup, somewhere in main application's controller</p>\n<pre class=\"lang-java prettyprint-override\"><code>customTime.setOnAction(e -&gt; Platform.runLater(() -&gt; {\n\n    Task task = getSelectedTask();\n\n    try {\n\n\n        FXMLLoader loader = Utility.getFXMLLoader(&quot;fxml/timeAndDatePopup.fxml&quot;);\n\n        Stage popupStage = new Stage();\n\n        loader.setControllerFactory(c -&gt; TimeAndDateControllerFactory(popupStage, task));\n\n        Scene scene = new Scene(loader.load());\n\n        popupStage.setScene(scene);\n\n        popupStage.showAndWait();\n\n    } catch (Exception ex) {\n        throw new RuntimeException(ex);\n    }\n\n}));\n</code></pre>\n<p>Now the popup appears as expected without any error, but the data picker (or any other node I have there) has no value.</p>\n<p>I don't understand why this is happening. All nodes are initialized, there are no null pointers or error messages, FXML's fine, yet I can't set a value or have any control over the nodes. I spent hours today on this, looking for answers and found nothing.</p>\n<p>So far I have tried:</p>\n<ul>\n<li>Using a Popup class instead of a stage (as shown <a href=\"https://stackoverflow.com/questions/30448611/how-to-create-an-inner-popup-in-javafx-styled-with-fxml\">here</a>).</li>\n<li>Setting the popup stage inside the popup controller, but that led to another oddity that prevented me from closing the popup using <code>stage.close()</code>.</li>\n<li>Various methods for loading FXML and manually setting the controller, <a href=\"https://community.oracle.com/tech/developers/discussion/3677813/javafx-pop-up-using-seperate-fxml-file\" rel=\"nofollow noreferrer\">eg.</a></li>\n</ul>\n"},{"tags":["java","jpa","hibernate-criteria","criteria-api"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1657606582,"post_id":72947729,"comment_id":128844122,"body_markdown":"Your code looks ok but there are a couple of questions: you&#39;re only using `&quot;endTime&quot;` in the predicate that doesn&#39;t work - does that attribute exist and does it have exactly that name? Do the entities have an end date that is less or equal to the end of the range? Also, your description and code don&#39;t match, i.e. you&#39;re only checking the entities&#39; start date is in the range if it is closed but your description states the end date should also be in the range. Could you provide some examples of what you&#39;d expect to get?","body":"Your code looks ok but there are a couple of questions: you&#39;re only using <code>&quot;endTime&quot;</code> in the predicate that doesn&#39;t work - does that attribute exist and does it have exactly that name? Do the entities have an end date that is less or equal to the end of the range? Also, your description and code don&#39;t match, i.e. you&#39;re only checking the entities&#39; start date is in the range if it is closed but your description states the end date should also be in the range. Could you provide some examples of what you&#39;d expect to get?"},{"owner":{"account_id":18838537,"reputation":571,"user_id":13740625,"display_name":"code_learner93"},"score":1,"creation_date":1657607128,"post_id":72947729,"comment_id":128844262,"body_markdown":"Hey there, thanks for the prompt response and for taking the time to look through my code. I realized that I wasn&#39;t getting anything because my entities in the database had null for the &quot;endTime&quot; attribute so I wasnt getting anything for my queries. Apologies!","body":"Hey there, thanks for the prompt response and for taking the time to look through my code. I realized that I wasn&#39;t getting anything because my entities in the database had null for the &quot;endTime&quot; attribute so I wasnt getting anything for my queries. Apologies!"}],"owner":{"account_id":18838537,"reputation":571,"user_id":13740625,"display_name":"code_learner93"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":414,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657606128,"creation_date":1657606128,"question_id":72947729,"body_markdown":"I&#39;m trying to query for my entities - with JPA criteria builder, based on a specified date range. For instance, given a from-date and a to-date, I&#39;d like to retrieve my entities where their startDate and endDate fall within the specified range given by the predicate.\r\n\r\nHere is a snippet of my code using a Specification where the predicates will be constructed\r\n```\r\n...\r\n    public static Specification&lt;Transaction&gt; enquirySpecification(Dto dto) {\r\n        return new Specification&lt;Transaction&gt;() {\r\n            @Override\r\n            public Predicate toPredicate(Root&lt;Transaction&gt; root, CriteriaQuery&lt;?&gt; query, CriteriaBuilder cb) {\r\n                List&lt;Predicate&gt; predicates = new ArrayList&lt;Predicate&gt;();\r\n                ...\r\n\t\t\t\tif (dto.getFromDate() != null &amp;&amp; dto.getToDate() != null) {\r\n\t\t\t\t\tZonedDateTime fromDateTime = ZonedDateTime.of(dto.getFromDate(), LocalTime.MIN, ZonedDateTime.now().getZone());\r\n\t\t\t\t\tZonedDateTime toDateTime = ZonedDateTime.of(dto.getToDate(), LocalTime.MAX, ZonedDateTime.now().getZone());\r\n\t\t\t\t\tExpression&lt;ZonedDateTime&gt; createdDateTime = root.get(&quot;milestones&quot;).get(&quot;startTime&quot;);\r\n\t\t\t\t\tPredicate fromToDatePredicate = cb.between(createdDateTime, fromDateTime, toDateTime);\r\n\t\t\t\t\tpredicates.add(fromToDatePredicate);\r\n\t\t\t\t}\r\n\t\t\t\telse if (dto.getFromDate() != null &amp;&amp; dto.getToDate() == null) {\r\n\t\t\t\t\tZonedDateTime fromDateTime = ZonedDateTime.of(dto.getFromDate(), LocalTime.MIN, ZonedDateTime.now().getZone());\r\n\t\t\t\t\tPredicate fromDatePredicate = cb.greaterThanOrEqualTo(root.get(&quot;milestones&quot;).get(&quot;startTime&quot;), fromDateTime);\r\n\t\t\t\t\tpredicates.add(fromDatePredicate);\r\n\t\t\t\t}\r\n\t\t\t\telse if (dto.getToDate() != null &amp;&amp; dto.getFromDate() == null) {\r\n\t\t\t\t\tZonedDateTime toDateTime = ZonedDateTime.of(dto.getToDate(), LocalTime.MAX, ZonedDateTime.now().getZone());\r\n\t\t\t\t\tPredicate toDatePredicate = cb.lessThanOrEqualTo(root.get(&quot;milestones&quot;).get(&quot;endTime&quot;), toDateTime);\r\n\t\t\t\t\tpredicates.add(toDatePredicate);\r\n\t\t\t\t}\r\n                ...\r\n...\r\n```\r\nWhen I specify a from-date and a to-date, I&#39;m able to get all my entities within that specified date range. And when I specify only a from-date and leave my to-date as null, I&#39;m able to get all my entities starting from the specified from-date.\r\nHowever, when I leave my from-date as null and only specify a to-date, I&#39;m unable to retrieve any of my entities (in this case, I&#39;m trying to get all entities up to the specified to-date regardless of what their from-dates are).\r\n\r\nHow can I construct a predicate where I can retrieve all my entities up to the specified to-date? Should I be using ```.lessThanOrEqualTo()```?\r\n","title":"JPA Criteria Builder create predicates with open ended date-range","body":"<p>I'm trying to query for my entities - with JPA criteria builder, based on a specified date range. For instance, given a from-date and a to-date, I'd like to retrieve my entities where their startDate and endDate fall within the specified range given by the predicate.</p>\n<p>Here is a snippet of my code using a Specification where the predicates will be constructed</p>\n<pre><code>...\n    public static Specification&lt;Transaction&gt; enquirySpecification(Dto dto) {\n        return new Specification&lt;Transaction&gt;() {\n            @Override\n            public Predicate toPredicate(Root&lt;Transaction&gt; root, CriteriaQuery&lt;?&gt; query, CriteriaBuilder cb) {\n                List&lt;Predicate&gt; predicates = new ArrayList&lt;Predicate&gt;();\n                ...\n                if (dto.getFromDate() != null &amp;&amp; dto.getToDate() != null) {\n                    ZonedDateTime fromDateTime = ZonedDateTime.of(dto.getFromDate(), LocalTime.MIN, ZonedDateTime.now().getZone());\n                    ZonedDateTime toDateTime = ZonedDateTime.of(dto.getToDate(), LocalTime.MAX, ZonedDateTime.now().getZone());\n                    Expression&lt;ZonedDateTime&gt; createdDateTime = root.get(&quot;milestones&quot;).get(&quot;startTime&quot;);\n                    Predicate fromToDatePredicate = cb.between(createdDateTime, fromDateTime, toDateTime);\n                    predicates.add(fromToDatePredicate);\n                }\n                else if (dto.getFromDate() != null &amp;&amp; dto.getToDate() == null) {\n                    ZonedDateTime fromDateTime = ZonedDateTime.of(dto.getFromDate(), LocalTime.MIN, ZonedDateTime.now().getZone());\n                    Predicate fromDatePredicate = cb.greaterThanOrEqualTo(root.get(&quot;milestones&quot;).get(&quot;startTime&quot;), fromDateTime);\n                    predicates.add(fromDatePredicate);\n                }\n                else if (dto.getToDate() != null &amp;&amp; dto.getFromDate() == null) {\n                    ZonedDateTime toDateTime = ZonedDateTime.of(dto.getToDate(), LocalTime.MAX, ZonedDateTime.now().getZone());\n                    Predicate toDatePredicate = cb.lessThanOrEqualTo(root.get(&quot;milestones&quot;).get(&quot;endTime&quot;), toDateTime);\n                    predicates.add(toDatePredicate);\n                }\n                ...\n...\n</code></pre>\n<p>When I specify a from-date and a to-date, I'm able to get all my entities within that specified date range. And when I specify only a from-date and leave my to-date as null, I'm able to get all my entities starting from the specified from-date.\nHowever, when I leave my from-date as null and only specify a to-date, I'm unable to retrieve any of my entities (in this case, I'm trying to get all entities up to the specified to-date regardless of what their from-dates are).</p>\n<p>How can I construct a predicate where I can retrieve all my entities up to the specified to-date? Should I be using <code>.lessThanOrEqualTo()</code>?</p>\n"},{"tags":["java","optimization","hash","intel","sha256"],"comments":[{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":1,"creation_date":1571188291,"post_id":58404400,"comment_id":103153764,"body_markdown":"If you want to &quot;hook specific Intel instructions&quot;, then you need to write it in a lower-level language, e.g. assembler or maybe C, then [call that from Java](https://stackoverflow.com/q/5963266/5221149).","body":"If you want to &quot;hook specific Intel instructions&quot;, then you need to write it in a lower-level language, e.g. assembler or maybe C, then <a href=\"https://stackoverflow.com/q/5963266/5221149\">call that from Java</a>."},{"owner":{"account_id":119671,"reputation":16761,"user_id":311525,"accept_rate":86,"display_name":"Scott"},"score":0,"creation_date":1571188617,"post_id":58404400,"comment_id":103153822,"body_markdown":"That&#39;s what I was afraid of. I didn&#39;t know if any JVM implementation gave a hook into this instruction set.","body":"That&#39;s what I was afraid of. I didn&#39;t know if any JVM implementation gave a hook into this instruction set."},{"owner":{"account_id":78868,"reputation":336965,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":1,"creation_date":1571190695,"post_id":58404400,"comment_id":103154193,"body_markdown":"@Andreas: Or maybe the JVM exposes it itself as a built-in.  But if not, then yeah you want JNI (Java Native Interface) to call a C/C++ intrinsics version.  That has pretty high per-call overhead so you probably want your native function to take a list / array of strings and produce an output array of hashes, or something like that.  But yes, Sun/Oracle JVM and OpenJDK support JNI.","body":"@Andreas: Or maybe the JVM exposes it itself as a built-in.  But if not, then yeah you want JNI (Java Native Interface) to call a C/C++ intrinsics version.  That has pretty high per-call overhead so you probably want your native function to take a list / array of strings and produce an output array of hashes, or something like that.  But yes, Sun/Oracle JVM and OpenJDK support JNI."},{"owner":{"account_id":78868,"reputation":336965,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":1,"creation_date":1571191178,"post_id":58404400,"comment_id":103154273,"body_markdown":"Note that x86 SHA extensions are only available on a very set of CPUs. ([Are there in x86 any instructions to accelerate SHA (SHA1/2/256/512) encoding?](//stackoverflow.com/q/20692386)) e.g. AMD Ryzen, Intel CannonLake / IceLake, and Intel low-power Goldmont and later.  There are no Xeon chips with SHA extensions yet, but maybe you&#39;re targeting AMD server chips or embedded Intel?  Or upcoming IceLake chips?  Currently IceLake is only out as a laptop chip, but desktop and eventually server chips will be coming.  **What CPUs does this need to run on?**","body":"Note that x86 SHA extensions are only available on a very set of CPUs. (<a href=\"//stackoverflow.com/q/20692386\">Are there in x86 any instructions to accelerate SHA (SHA1/2/256/512) encoding?</a>) e.g. AMD Ryzen, Intel CannonLake / IceLake, and Intel low-power Goldmont and later.  There are no Xeon chips with SHA extensions yet, but maybe you&#39;re targeting AMD server chips or embedded Intel?  Or upcoming IceLake chips?  Currently IceLake is only out as a laptop chip, but desktop and eventually server chips will be coming.  <b>What CPUs does this need to run on?</b>"},{"owner":{"account_id":119671,"reputation":16761,"user_id":311525,"accept_rate":86,"display_name":"Scott"},"score":1,"creation_date":1571192063,"post_id":58404400,"comment_id":103154454,"body_markdown":"@PeterCordes, eventually it would be run on AWS boxes, which I believe are all Xeon -- Intel Xeon E5-2686 v4 (Broadwell) and Intel Xeon&#174; Platinum 8175 processors with new Intel Advanced Vector Extension (AVX-512) instruction set","body":"@PeterCordes, eventually it would be run on AWS boxes, which I believe are all Xeon -- Intel Xeon E5-2686 v4 (Broadwell) and Intel Xeon&#174; Platinum 8175 processors with new Intel Advanced Vector Extension (AVX-512) instruction set"},{"owner":{"account_id":78868,"reputation":336965,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":0,"creation_date":1571192333,"post_id":58404400,"comment_id":103154517,"body_markdown":"Then you don&#39;t have SHA extensions for instructions like `SHA256RNDS2`.  Skylake and Cascade-lake Xeon don&#39;t have it.  I forget if AVX512BW helps with SHA256; many short strings probably doesn&#39;t benefit from 64-byte vectors but you can use AVX512&#39;s new shuffle instructions and merge-masking on 256-bit vectors (32-byte) if that helps.  Using 512-bit vectors (64 bytes) would reduce max turbo (hurting performance for the rest of your program for a few milliseconds after the last 512-bit vector instructions.)","body":"Then you don&#39;t have SHA extensions for instructions like <code>SHA256RNDS2</code>.  Skylake and Cascade-lake Xeon don&#39;t have it.  I forget if AVX512BW helps with SHA256; many short strings probably doesn&#39;t benefit from 64-byte vectors but you can use AVX512&#39;s new shuffle instructions and merge-masking on 256-bit vectors (32-byte) if that helps.  Using 512-bit vectors (64 bytes) would reduce max turbo (hurting performance for the rest of your program for a few milliseconds after the last 512-bit vector instructions.)"},{"owner":{"account_id":22848,"reputation":131588,"user_id":56778,"accept_rate":93,"display_name":"Jim Mischel"},"score":2,"creation_date":1571196508,"post_id":58404400,"comment_id":103155214,"body_markdown":"Kind of curious why you want SHA256 values for millions of short (how short?) String and Number objects.","body":"Kind of curious why you want SHA256 values for millions of short (how short?) String and Number objects."},{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1571233787,"post_id":58404400,"comment_id":103172635,"body_markdown":"If they are short enough you can precompute them.","body":"If they are short enough you can precompute them."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1571995814,"post_id":58404400,"comment_id":103431040,"body_markdown":"When a library using Java’s builtin hashing implementation performs three times faster than Java’s builtin hashing implementation, it’s time to question your testing methodology.","body":"When a library using Java’s builtin hashing implementation performs three times faster than Java’s builtin hashing implementation, it’s time to question your testing methodology."},{"owner":{"account_id":119671,"reputation":16761,"user_id":311525,"accept_rate":86,"display_name":"Scott"},"score":0,"creation_date":1572213949,"post_id":58404400,"comment_id":103481819,"body_markdown":"@Holger, My code is linked in the question and is pretty straight forward. Are you saying Google just wrapped Java&#39;s built in? I&#39;m not sure that&#39;s correct.","body":"@Holger, My code is linked in the question and is pretty straight forward. Are you saying Google just wrapped Java&#39;s built in? I&#39;m not sure that&#39;s correct."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1572262530,"post_id":58404400,"comment_id":103493395,"body_markdown":"Well, Guava’s point is to abstract the hash operation so that you don’t need to worry about whether it has a custom implementation or delegates to Java’s builtin provider. [This version](https://github.com/google/guava/blob/master/guava/src/com/google/common/hash/Hashing.java) will delegate to `MessageDigestHashFunction` in case of SHA, which is a [wrapper around Java’s builtin abstraction](https://github.com/google/guava/blob/master/guava/src/com/google/common/hash/MessageDigestHashFunction.java), the `MessageDigest` class, hence the name. Feel free to check the version you’ve used…","body":"Well, Guava’s point is to abstract the hash operation so that you don’t need to worry about whether it has a custom implementation or delegates to Java’s builtin provider. <a href=\"https://github.com/google/guava/blob/master/guava/src/com/google/common/hash/Hashing.java\" rel=\"nofollow noreferrer\">This version</a> will delegate to <code>MessageDigestHashFunction</code> in case of SHA, which is a <a href=\"https://github.com/google/guava/blob/master/guava/src/com/google/common/hash/MessageDigestHashFunction.java\" rel=\"nofollow noreferrer\">wrapper around Java’s builtin abstraction</a>, the <code>MessageDigest</code> class, hence the name. Feel free to check the version you’ve used…"},{"owner":{"account_id":422640,"reputation":225,"user_id":801528,"display_name":"MJM"},"score":1,"creation_date":1655894255,"post_id":58404400,"comment_id":128438495,"body_markdown":"You seem to be testing 2 things at the same time here: the sha256 hash implementation and the hex encoding implementation.  Given that the Apache Commons sha256 implementation just delegates to the java implementation, you would expect that to take the same amount of time as the Java.  Since the Apache Commons is going so much faster, it&#39;s likely that your hex function is much slower than Apache&#39;s hex implementation.  I&#39;d suggest testing the hash functions and hex functions separately to get a true comparison.","body":"You seem to be testing 2 things at the same time here: the sha256 hash implementation and the hex encoding implementation.  Given that the Apache Commons sha256 implementation just delegates to the java implementation, you would expect that to take the same amount of time as the Java.  Since the Apache Commons is going so much faster, it&#39;s likely that your hex function is much slower than Apache&#39;s hex implementation.  I&#39;d suggest testing the hash functions and hex functions separately to get a true comparison."},{"owner":{"account_id":119671,"reputation":16761,"user_id":311525,"accept_rate":86,"display_name":"Scott"},"score":0,"creation_date":1657605245,"post_id":58404400,"comment_id":128843822,"body_markdown":"@MJM you are right, I was not purely testing hash performance as I was outputting a String. In my use case I need to get a string, but I should test those separately. I have rerun the tests and the results are much more similar. I have updated above.","body":"@MJM you are right, I was not purely testing hash performance as I was outputting a String. In my use case I need to get a string, but I should test those separately. I have rerun the tests and the results are much more similar. I have updated above."}],"answers":[{"tags":[],"owner":{"account_id":119671,"reputation":16761,"user_id":311525,"accept_rate":86,"display_name":"Scott"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1575415466,"creation_date":1575415466,"answer_id":59166873,"question_id":58404400,"body_markdown":"The fastest solution I found that made it simple to use native cryptographic functionality is Amazon Corretto Crypto Provider (ACCP).\n\nhttps://aws.amazon.com/blogs/opensource/introducing-amazon-corretto-crypto-provider-accp/\n\nhttps://github.com/corretto/amazon-corretto-crypto-provider\n\nFrom Amazon:\n\n&gt; **What exactly is ACCP?** \n&gt;\n&gt; ACCP implements the standard Java Cryptography\n&gt; Architecture (JCA) interfaces and replaces the default Java\n&gt; cryptographic implementations with those provided by libcrypto from\n&gt; the OpenSSL project. ACCP allows you to take full advantage of\n&gt; assembly-level and CPU-level performance tuning, to gain significant\n&gt; cost reduction, latency reduction, and higher throughput across\n&gt; multiple services and products, as shown in the examples below.","title":"What is the fastest way to SHA-256 encode many short String values in Java (on an Intel CPU)?","body":"<p>The fastest solution I found that made it simple to use native cryptographic functionality is Amazon Corretto Crypto Provider (ACCP).</p>\n<p><a href=\"https://aws.amazon.com/blogs/opensource/introducing-amazon-corretto-crypto-provider-accp/\" rel=\"nofollow noreferrer\">https://aws.amazon.com/blogs/opensource/introducing-amazon-corretto-crypto-provider-accp/</a></p>\n<p><a href=\"https://github.com/corretto/amazon-corretto-crypto-provider\" rel=\"nofollow noreferrer\">https://github.com/corretto/amazon-corretto-crypto-provider</a></p>\n<p>From Amazon:</p>\n<blockquote>\n<p><strong>What exactly is ACCP?</strong></p>\n<p>ACCP implements the standard Java Cryptography\nArchitecture (JCA) interfaces and replaces the default Java\ncryptographic implementations with those provided by libcrypto from\nthe OpenSSL project. ACCP allows you to take full advantage of\nassembly-level and CPU-level performance tuning, to gain significant\ncost reduction, latency reduction, and higher throughput across\nmultiple services and products, as shown in the examples below.</p>\n</blockquote>\n"}],"owner":{"account_id":119671,"reputation":16761,"user_id":311525,"accept_rate":86,"display_name":"Scott"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2516,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1657605888,"creation_date":1571187994,"question_id":58404400,"body_markdown":"This question is slightly related to these [two][1] [questions][2], but with these two differences: 1) I want to know how to hook specific Intel instructions from the JVM (hopefully via existing library) 2) I don&#39;t care about one large file, but millions of short (&lt; 50 characters) String and Number objects.\r\n\r\nI noticed that Intel provides native extensions (https://software.intel.com/en-us/articles/intel-sha-extensions) for creating SHA256 hashes. Is there any existing library in Java that can hook these native extensions? Is there a JVM implementation that natively hooks these extensions?\r\n\r\nIs there a different implementation I should choose for millions of small String and Number values over a single giant file?\r\n\r\nAs a test, I tried 5 different hashing algorithms: Java built-in, Groovy built-in, Apache Commons, Guava, and Bouncy Castle. Only Apache and Guava seemed to push beyond 1 million hashes/sec on my Intel i5 hardware.\r\n\r\n    &gt;groovy hash_comp.groovy\r\n    Hashing 1000000 iterations of SHA-256\r\n    time java: 2968         336927.2237196765 hashes/sec\r\n    time groovy: 2451       407996.7360261118 hashes/sec\r\n    time apache: 1025       975609.7560975610 hashes/sec\r\n    time guava: 901         1109877.9134295228 hashes/sec\r\n    time bouncy: 1969        507872.0162519045 hashes/sec\r\n\r\n    &gt;groovy hash_comp.groovy\r\n    Hashing 1000000 iterations of SHA-256\r\n    time java: 2688         372023.8095238095 hashes/sec\r\n    time groovy: 1948       513347.0225872690 hashes/sec\r\n    time apache: 867        1153402.5374855825 hashes/sec\r\n    time guava: 953         1049317.9433368311 hashes/sec\r\n    time bouncy: 1890       529100.5291005291 hashes/sec\r\n\r\nWhen I ran 10 times in a row, Apache Commons hashing was the consistent winner when hashing 1 million strings (it won 9/10 times). My test code is available [here][3].\r\n\r\nThe question remains, is there a way to tap into the [Intel SHA hashing extensions][4] from the JVM?\r\n\r\n**UPDATE**\r\n\r\nAs @MJM suggested in the comments, I have removed the String functions and tested purely on byte[] to byte[]. Here are sample results:\r\n\r\n    Hashing 1000000 iterations of SHA-256\r\n    time java: 674          1483679.5252225519 hashes/sec\r\n    time apache: 833        1200480.1920768307 hashes/sec\r\n    time guava: 705         1418439.7163120567 hashes/sec\r\n    time bouncy: 692        1445086.7052023121 hashes/sec\r\n\r\n[Updated code][5]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/7846841/how-to-calculate-sha256-faster-in-java\r\n  [2]: https://stackoverflow.com/questions/1741545/java-calculate-sha-256-hash-of-large-file-efficiently\r\n  [3]: https://gist.github.com/scoroberts/a60d61a2cc3afba1e8813b338ecd1501\r\n  [4]: https://en.wikipedia.org/wiki/Intel_SHA_extensions\r\n  [5]: https://gist.github.com/scoroberts/77cc2d5c28fa2faeb1626d8eb39ec8c8","title":"What is the fastest way to SHA-256 encode many short String values in Java (on an Intel CPU)?","body":"<p>This question is slightly related to these <a href=\"https://stackoverflow.com/questions/7846841/how-to-calculate-sha256-faster-in-java\">two</a> <a href=\"https://stackoverflow.com/questions/1741545/java-calculate-sha-256-hash-of-large-file-efficiently\">questions</a>, but with these two differences: 1) I want to know how to hook specific Intel instructions from the JVM (hopefully via existing library) 2) I don't care about one large file, but millions of short (&lt; 50 characters) String and Number objects.</p>\n<p>I noticed that Intel provides native extensions (<a href=\"https://software.intel.com/en-us/articles/intel-sha-extensions\" rel=\"nofollow noreferrer\">https://software.intel.com/en-us/articles/intel-sha-extensions</a>) for creating SHA256 hashes. Is there any existing library in Java that can hook these native extensions? Is there a JVM implementation that natively hooks these extensions?</p>\n<p>Is there a different implementation I should choose for millions of small String and Number values over a single giant file?</p>\n<p>As a test, I tried 5 different hashing algorithms: Java built-in, Groovy built-in, Apache Commons, Guava, and Bouncy Castle. Only Apache and Guava seemed to push beyond 1 million hashes/sec on my Intel i5 hardware.</p>\n<pre><code>&gt;groovy hash_comp.groovy\nHashing 1000000 iterations of SHA-256\ntime java: 2968         336927.2237196765 hashes/sec\ntime groovy: 2451       407996.7360261118 hashes/sec\ntime apache: 1025       975609.7560975610 hashes/sec\ntime guava: 901         1109877.9134295228 hashes/sec\ntime bouncy: 1969        507872.0162519045 hashes/sec\n\n&gt;groovy hash_comp.groovy\nHashing 1000000 iterations of SHA-256\ntime java: 2688         372023.8095238095 hashes/sec\ntime groovy: 1948       513347.0225872690 hashes/sec\ntime apache: 867        1153402.5374855825 hashes/sec\ntime guava: 953         1049317.9433368311 hashes/sec\ntime bouncy: 1890       529100.5291005291 hashes/sec\n</code></pre>\n<p>When I ran 10 times in a row, Apache Commons hashing was the consistent winner when hashing 1 million strings (it won 9/10 times). My test code is available <a href=\"https://gist.github.com/scoroberts/a60d61a2cc3afba1e8813b338ecd1501\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>The question remains, is there a way to tap into the <a href=\"https://en.wikipedia.org/wiki/Intel_SHA_extensions\" rel=\"nofollow noreferrer\">Intel SHA hashing extensions</a> from the JVM?</p>\n<p><strong>UPDATE</strong></p>\n<p>As @MJM suggested in the comments, I have removed the String functions and tested purely on byte[] to byte[]. Here are sample results:</p>\n<pre><code>Hashing 1000000 iterations of SHA-256\ntime java: 674          1483679.5252225519 hashes/sec\ntime apache: 833        1200480.1920768307 hashes/sec\ntime guava: 705         1418439.7163120567 hashes/sec\ntime bouncy: 692        1445086.7052023121 hashes/sec\n</code></pre>\n<p><a href=\"https://gist.github.com/scoroberts/77cc2d5c28fa2faeb1626d8eb39ec8c8\" rel=\"nofollow noreferrer\">Updated code</a></p>\n"},{"tags":["java","selenium-webdriver","xpath"],"comments":[{"owner":{"account_id":4570164,"reputation":4170,"user_id":3710053,"display_name":"Siebe Jongebloed"},"score":1,"creation_date":1657368732,"post_id":72920977,"comment_id":128796842,"body_markdown":"The XPath is okay. Something else is wrong.  Ate those `css-1o5t8tj` strings maybe random?","body":"The XPath is okay. Something else is wrong.  Ate those <code>css-1o5t8tj</code> strings maybe random?"},{"owner":{"account_id":8627776,"reputation":593,"user_id":6460453,"display_name":"K.Nikita"},"score":0,"creation_date":1657368747,"post_id":72920977,"comment_id":128796846,"body_markdown":"You have extra parenthesis in the end. String txt = driver.findElement(By.xpath(&quot;//div[@class=&#39;css-1o5t8tj&#39;]//span[1]&quot;)).getText();. For me code is worked.","body":"You have extra parenthesis in the end. String txt = driver.findElement(By.xpath(&quot;//div[@class=&#39;css-1o5t8tj&#39;]//sp&zwnj;&#8203;an[1]&quot;)).getText();. For me code is worked."},{"owner":{"account_id":11022148,"reputation":453,"user_id":8096045,"accept_rate":71,"display_name":"Devleena"},"score":0,"creation_date":1657442841,"post_id":72920977,"comment_id":128807359,"body_markdown":"@SiebeJongebloed, The class css-1o5t8t is not random.","body":"@SiebeJongebloed, The class css-1o5t8t is not random."},{"owner":{"account_id":11022148,"reputation":453,"user_id":8096045,"accept_rate":71,"display_name":"Devleena"},"score":0,"creation_date":1657442917,"post_id":72920977,"comment_id":128807376,"body_markdown":"@K.Nikita, the extra parenthesis in the end, is a typing error happened from my side. I have edited that in the question.","body":"@K.Nikita, the extra parenthesis in the end, is a typing error happened from my side. I have edited that in the question."},{"owner":{"account_id":8627776,"reputation":593,"user_id":6460453,"display_name":"K.Nikita"},"score":0,"creation_date":1657443590,"post_id":72920977,"comment_id":128807483,"body_markdown":"@Devleena please show me all code. I think error in another place.","body":"@Devleena please show me all code. I think error in another place."}],"answers":[{"tags":[],"owner":{"account_id":15461950,"reputation":55,"user_id":11154428,"display_name":"indayush"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657605811,"creation_date":1657605811,"answer_id":72947685,"question_id":72920977,"body_markdown":"Try this xpath - \r\n```\r\n(//div/span[contains(@class=&#39;MuiTypography-root MuiTypography-caption&#39;)])[1]\r\n```","title":"xpath for an webelement which is having two inner text","body":"<p>Try this xpath -</p>\n<pre><code>(//div/span[contains(@class='MuiTypography-root MuiTypography-caption')])[1]\n</code></pre>\n"}],"owner":{"account_id":11022148,"reputation":453,"user_id":8096045,"accept_rate":71,"display_name":"Devleena"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657605811,"creation_date":1657366028,"question_id":72920977,"body_markdown":"I am using selenium-java with version 4.1.4. I am trying to read a text from the UI.The HTML code is given below.\r\n\r\n    &lt;div class=&quot;css-1o5t8tj&quot;&gt;\r\n         &lt;span class=&quot;MuiTypography-root MuiTypography-caption css-wev09c&quot;&gt;\r\n             &quot;$&quot;\r\n             &quot;10.99&quot;\r\n         &lt;/span&gt;\r\n         &lt;span class=&quot;MuiTypography-root MuiTypography-caption css-1kcldpk&quot;&gt;\r\n             &quot;$&quot;\r\n             &quot;13.44&quot;\r\n         &lt;/span&gt;\r\n     &lt;/div&gt;\r\nI have used below code to read the text\r\n    \r\n     String txt = driver.findElement(By.xpath(&quot;//div[@class=&#39;css-1o5t8tj&#39;]//span[1]&quot;)).getText() ;\t\r\nBut it returns empty string.Actually here i am expecting the String txt = &quot;$10.99&quot;. Is there any way to get this text? Thanks in advance.","title":"xpath for an webelement which is having two inner text","body":"<p>I am using selenium-java with version 4.1.4. I am trying to read a text from the UI.The HTML code is given below.</p>\n<pre><code>&lt;div class=&quot;css-1o5t8tj&quot;&gt;\n     &lt;span class=&quot;MuiTypography-root MuiTypography-caption css-wev09c&quot;&gt;\n         &quot;$&quot;\n         &quot;10.99&quot;\n     &lt;/span&gt;\n     &lt;span class=&quot;MuiTypography-root MuiTypography-caption css-1kcldpk&quot;&gt;\n         &quot;$&quot;\n         &quot;13.44&quot;\n     &lt;/span&gt;\n &lt;/div&gt;\n</code></pre>\n<p>I have used below code to read the text</p>\n<pre><code> String txt = driver.findElement(By.xpath(&quot;//div[@class='css-1o5t8tj']//span[1]&quot;)).getText() ;  \n</code></pre>\n<p>But it returns empty string.Actually here i am expecting the String txt = &quot;$10.99&quot;. Is there any way to get this text? Thanks in advance.</p>\n"},{"tags":["java","hashmap","equals"],"comments":[{"owner":{"account_id":2915811,"reputation":10602,"user_id":2499035,"accept_rate":100,"display_name":"resueman"},"score":6,"creation_date":1429969271,"post_id":29865910,"comment_id":47856779,"body_markdown":"Check what `b.equals(a)` returns.","body":"Check what <code>b.equals(a)</code> returns."},{"owner":{"account_id":1361091,"reputation":5961,"user_id":1298461,"accept_rate":89,"display_name":"KIC"},"score":0,"creation_date":1429969335,"post_id":29865910,"comment_id":47856806,"body_markdown":"@resueman damn it you are right!","body":"@resueman damn it you are right!"}],"answers":[{"tags":[],"owner":{"account_id":1338540,"reputation":9401,"user_id":1280723,"accept_rate":76,"display_name":"Crazyjavahacking"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1657605664,"creation_date":1429969308,"answer_id":29865959,"question_id":29865910,"body_markdown":"Your implementation of `equals()` is violating the contract (it is not symmetric), that&#39;s why it does not work correctly.\r\n\r\nYou need to use something like:\r\n\r\n    @Override\r\n    public boolean equals(Object obj) {\r\n        if (obj instanceof TypePair) {\r\n            TypePair objTypePair = (TypePair) obj;\r\n            return a            .isAssignableFrom(objTypePair.a) &amp;&amp; b            .isAssignableFrom(objTypePair.b) ||\r\n                   objTypePair.a.isAssignableFrom(a)             &amp;&amp; objTypePair.b.isAssignableFrom(b);\r\n        } else {\r\n            return false;\r\n        }\r\n    }","title":"Java how does HashMap identify the key object if hashCode are the same and equals is true?","body":"<p>Your implementation of <code>equals()</code> is violating the contract (it is not symmetric), that's why it does not work correctly.</p>\n<p>You need to use something like:</p>\n<pre><code>@Override\npublic boolean equals(Object obj) {\n    if (obj instanceof TypePair) {\n        TypePair objTypePair = (TypePair) obj;\n        return a            .isAssignableFrom(objTypePair.a) &amp;&amp; b            .isAssignableFrom(objTypePair.b) ||\n               objTypePair.a.isAssignableFrom(a)             &amp;&amp; objTypePair.b.isAssignableFrom(b);\n    } else {\n        return false;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1361091,"reputation":5961,"user_id":1298461,"accept_rate":89,"display_name":"KIC"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":200,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":29865959,"answer_count":1,"score":2,"last_activity_date":1657605664,"creation_date":1429969074,"question_id":29865910,"body_markdown":"I always thought hat HashMap is identifying its keys by using hasCode and equals. But this code still does not give me the value back. What am I missing?\r\n\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    \r\n    /**\r\n     * Created by kic on 25.04.15.\r\n     */\r\n    public class TypePair {\r\n        private final Class a;\r\n        private final Class b;\r\n    \r\n        public TypePair(Class a, Class b) {\r\n            this.a = a;\r\n            this.b = b;\r\n        }\r\n    \r\n        public TypePair(Object a, Object b) {\r\n            this.a = a.getClass();\r\n            this.b = b.getClass();\r\n        }\r\n    \r\n        public boolean isPair (Object a, Object b) {\r\n            return this.a.isAssignableFrom(a.getClass()) &amp;&amp; this.b.isAssignableFrom(b.getClass());\r\n        }\r\n    \r\n        @Override\r\n        public boolean equals(Object obj) {\r\n            if (obj instanceof TypePair) {\r\n                return a.isAssignableFrom(((TypePair) obj).a) &amp;&amp; b.isAssignableFrom(((TypePair) obj).b);\r\n            } else {\r\n                return false;\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public int hashCode() {\r\n            return 1;\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            TypePair a = new TypePair(Number.class, String.class);\r\n            TypePair b = new TypePair(12, &quot;hello&quot;);\r\n    \r\n            Map&lt;TypePair, Boolean&gt; test = new HashMap&lt;&gt;();\r\n            test.put(a, true);\r\n    \r\n            System.out.println(a.hashCode() == b.hashCode());\r\n            System.out.println(a.equals(b));\r\n            System.out.println(&quot;und? &quot; + test.get(a));\r\n            System.out.println(&quot;und? &quot; + test.get(b));\r\n        }\r\n    }\r\n\r\nThis code prints:\r\n\r\n    true\r\n    true\r\n    und? true\r\n    und? null","title":"Java how does HashMap identify the key object if hashCode are the same and equals is true?","body":"<p>I always thought hat HashMap is identifying its keys by using hasCode and equals. But this code still does not give me the value back. What am I missing?</p>\n\n<pre><code>import java.util.HashMap;\nimport java.util.Map;\n\n/**\n * Created by kic on 25.04.15.\n */\npublic class TypePair {\n    private final Class a;\n    private final Class b;\n\n    public TypePair(Class a, Class b) {\n        this.a = a;\n        this.b = b;\n    }\n\n    public TypePair(Object a, Object b) {\n        this.a = a.getClass();\n        this.b = b.getClass();\n    }\n\n    public boolean isPair (Object a, Object b) {\n        return this.a.isAssignableFrom(a.getClass()) &amp;&amp; this.b.isAssignableFrom(b.getClass());\n    }\n\n    @Override\n    public boolean equals(Object obj) {\n        if (obj instanceof TypePair) {\n            return a.isAssignableFrom(((TypePair) obj).a) &amp;&amp; b.isAssignableFrom(((TypePair) obj).b);\n        } else {\n            return false;\n        }\n    }\n\n    @Override\n    public int hashCode() {\n        return 1;\n    }\n\n    public static void main(String[] args) {\n        TypePair a = new TypePair(Number.class, String.class);\n        TypePair b = new TypePair(12, \"hello\");\n\n        Map&lt;TypePair, Boolean&gt; test = new HashMap&lt;&gt;();\n        test.put(a, true);\n\n        System.out.println(a.hashCode() == b.hashCode());\n        System.out.println(a.equals(b));\n        System.out.println(\"und? \" + test.get(a));\n        System.out.println(\"und? \" + test.get(b));\n    }\n}\n</code></pre>\n\n<p>This code prints:</p>\n\n<pre><code>true\ntrue\nund? true\nund? null\n</code></pre>\n"},{"tags":["java","hash","hashmap","key"],"comments":[{"owner":{"account_id":2481825,"reputation":1381,"user_id":2231632,"display_name":"Praba"},"score":0,"creation_date":1433744088,"post_id":30702269,"comment_id":49462439,"body_markdown":"Are you saying, you&#39;ll put a key in the map which is the ID number and then look it up by giving a ID which is just the name? Or is it like if you put a number id, you&#39;ll always have a number id and vice versa?","body":"Are you saying, you&#39;ll put a key in the map which is the ID number and then look it up by giving a ID which is just the name? Or is it like if you put a number id, you&#39;ll always have a number id and vice versa?"},{"owner":{"account_id":2481825,"reputation":1381,"user_id":2231632,"display_name":"Praba"},"score":0,"creation_date":1433744170,"post_id":30702269,"comment_id":49462475,"body_markdown":"@Jayan - I doubt that this is a duplicate. the OP is not asking about the contract details/pitfalls. Just that how to design it for his requirement.","body":"@Jayan - I doubt that this is a duplicate. the OP is not asking about the contract details/pitfalls. Just that how to design it for his requirement."},{"owner":{"display_name":"user4691169"},"score":0,"creation_date":1433744485,"post_id":30702269,"comment_id":49462596,"body_markdown":"@prabugp &gt;&gt; Are you saying, you&#39;ll put a key in the map which is the ID number and then look it up by giving a ID which is just the name? -- No. If you looked at how the equals method was implemented, either the ID would have to match or the name would have to match or both for it to be a matching key to obtain that person value. It&#39;s like I make an ID that has both my social security number and my name and I put it in the HashMap with a value that references me. Then someone makes a new ID that is just my name and they put it in the hashmap and it returns me. Same if it was just my number.","body":"@prabugp &gt;&gt; Are you saying, you&#39;ll put a key in the map which is the ID number and then look it up by giving a ID which is just the name? -- No. If you looked at how the equals method was implemented, either the ID would have to match or the name would have to match or both for it to be a matching key to obtain that person value. It&#39;s like I make an ID that has both my social security number and my name and I put it in the HashMap with a value that references me. Then someone makes a new ID that is just my name and they put it in the hashmap and it returns me. Same if it was just my number."},{"owner":{"display_name":"user4691169"},"score":0,"creation_date":1433744534,"post_id":30702269,"comment_id":49462620,"body_markdown":"Or maybe like I change my name but my number is still the same. Then people who have my old name and number can still look me up in the hashmap because even though my name is not a match, my number is a match. Does that make sense?","body":"Or maybe like I change my name but my number is still the same. Then people who have my old name and number can still look me up in the hashmap because even though my name is not a match, my number is a match. Does that make sense?"}],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1433744577,"creation_date":1433744577,"answer_id":30702420,"question_id":30702269,"body_markdown":"I think your question really goes a long way beyond plain implementation of `hashCode` - it&#39;s really about the design of when two IDs should be considered equal.\r\n\r\nIf you have multiple fields *all* of which are unique, you&#39;re actually in a tricky situation. Ignoring the MAC address part, there&#39;s nothing in the ID code itself to stop:\r\n\r\n    ID a = new ID(&quot;a&quot;, 0);\r\n    ID b = new ID(&quot;b&quot;, 0);\r\n    ID c = new ID(&quot;a&quot;, 1);\r\n\r\nNow by your rules, those three IDs shouldn&#39;t all be able to co-exist - because they&#39;re all equal in one way or another. (`a` and `b` share the same name, and `a` and `c` share the same number.)\r\n\r\nAdditionally, it looks like the number and name are both effectively optional - that&#39;s likely to end up being painful, in my experience.\r\n\r\nIt *may* still make sense to keep your class as it is, but the rules around &quot;No two entities can have the same name&quot; and &quot;No two entities can have the same number&quot; aren&#39;t really the same as &quot;no two entities can have the same ID&quot;, so you&#39;d have to enforce that separately.\r\n\r\nIt&#39;s entirely possible that you&#39;ll want to keep a `HashMap&lt;String, Entity&gt;` for &quot;entities by name&quot; and a `HashMap&lt;Integer, Entity&gt;` for &quot;entities by number&quot;. I would then implement `equals` and `hashCode` in `ID` to check for *complete* equality - so that after looking up an ID by just *one* part of the ID, you can check that the ID you&#39;ve found is actually the right one.\r\n\r\nAlternatively, change your identity scheme to only have a single part, so that you never need to worry about this. Even if you have a &quot;secondary identifier&quot; of some kind, it&#39;s worth deciding on *one* of them being your primary identifier which you normally use to look entities up, store them etc - and then you&#39;d just have a secondary mapping (whether that&#39;s in memory or in a database etc) between the primary and secondary identifiers. If all your &quot;real&quot; identifiers are optional, you may even want to have a surrogate identifier which is *guaranteed* to exist, and then all the mappings between that and the secondary identifiers can be optional. (They may even be mutable - you may be able to &quot;discover&quot; and record a social security number later against an existing entity, for example.)","title":"Java HashMap, hashCode() equals() - how to be consistent with multiple keys?","body":"<p>I think your question really goes a long way beyond plain implementation of <code>hashCode</code> - it's really about the design of when two IDs should be considered equal.</p>\n\n<p>If you have multiple fields <em>all</em> of which are unique, you're actually in a tricky situation. Ignoring the MAC address part, there's nothing in the ID code itself to stop:</p>\n\n<pre><code>ID a = new ID(\"a\", 0);\nID b = new ID(\"b\", 0);\nID c = new ID(\"a\", 1);\n</code></pre>\n\n<p>Now by your rules, those three IDs shouldn't all be able to co-exist - because they're all equal in one way or another. (<code>a</code> and <code>b</code> share the same name, and <code>a</code> and <code>c</code> share the same number.)</p>\n\n<p>Additionally, it looks like the number and name are both effectively optional - that's likely to end up being painful, in my experience.</p>\n\n<p>It <em>may</em> still make sense to keep your class as it is, but the rules around \"No two entities can have the same name\" and \"No two entities can have the same number\" aren't really the same as \"no two entities can have the same ID\", so you'd have to enforce that separately.</p>\n\n<p>It's entirely possible that you'll want to keep a <code>HashMap&lt;String, Entity&gt;</code> for \"entities by name\" and a <code>HashMap&lt;Integer, Entity&gt;</code> for \"entities by number\". I would then implement <code>equals</code> and <code>hashCode</code> in <code>ID</code> to check for <em>complete</em> equality - so that after looking up an ID by just <em>one</em> part of the ID, you can check that the ID you've found is actually the right one.</p>\n\n<p>Alternatively, change your identity scheme to only have a single part, so that you never need to worry about this. Even if you have a \"secondary identifier\" of some kind, it's worth deciding on <em>one</em> of them being your primary identifier which you normally use to look entities up, store them etc - and then you'd just have a secondary mapping (whether that's in memory or in a database etc) between the primary and secondary identifiers. If all your \"real\" identifiers are optional, you may even want to have a surrogate identifier which is <em>guaranteed</em> to exist, and then all the mappings between that and the secondary identifiers can be optional. (They may even be mutable - you may be able to \"discover\" and record a social security number later against an existing entity, for example.)</p>\n"}],"owner":{"display_name":"user4691169"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":633,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1433756315,"accepted_answer_id":30702420,"answer_count":1,"score":0,"last_activity_date":1657605625,"creation_date":1433743902,"question_id":30702269,"body_markdown":"I have an ID class. It refers to identification for a unique person. There are two forms of ID. Username and user number. If either username matches or user number matches, the ID&#39;s refer to the same person. I want to use the ID class as a key in a hashmap for looking up persons. I overrode the equals method to make it clear that if two ID&#39;s are equal, that means they refer to the same person. I am under the presumption that I need to override the hashCode() method because I want a hashmap of &lt; key: ID, value: Person &gt;. But I don&#39;t know how. How do I make the ID class an acceptable key for my HashMap?\r\n\r\n\tpublic final class ID {\r\n\r\n\t    // These are all unique values. No 2 people can have the same username or id value.\r\n\t    final String username_;\r\n\t    final long idNumber_;\r\n\r\n\t    public ID(String username, Byte[] MACaddress, long idNumber) {\r\n\t\tusername_ = username;\r\n\t\tidNumber_ = idNumber;\r\n\t    }\r\n\r\n\t    /**\r\n\t     * Checks to see if the values match. \r\n         * If either username or idNumber matches, then both ID&#39;s refer to the same person.\r\n\t     */\r\n\t    public boolean equals(Object o) {\r\n\t\tif (!(o instanceof ID)) {\r\n\t\t    return false;\r\n\t\t}\r\n\t\tID other = (ID) o;\r\n\t\tif (this.username_ != null &amp;&amp; other.username_ != null) {\r\n\t\t    if (this.username_.equals(other.username_)) {\r\n\t\t        return true;\r\n\t\t    }\r\n\t\t}\r\n\t\tif (this.idNumber_ &gt; 0 &amp;&amp; other.idNumber_ &gt; 0) {\r\n\t\t    if(this.idNumber_ == other.idNumber_) {\r\n\t\t        return true;\r\n\t\t    }\r\n\t\t}\r\n\t\treturn false;\r\n\t    }\r\n\t}\r\n\r\nFollowup: What if I wanted to add a third field for unique social security number? How would that change my person lookup hashmap and the ID class?\r\n\r\nNote that the Wikipedia page for hashCode says: \r\n\r\n&gt; The general contract for overridden implementations of this method is\r\n&gt; that they behave in a way consistent with the same object&#39;s equals()\r\n&gt; method: that a given object must consistently report the same hash\r\n&gt; value (unless it is changed so that the new version is no longer\r\n&gt; considered &quot;equal&quot; to the old), and that two objects which equals()\r\n&gt; says are equal must report the same hash value.\r\n\r\n___Update___\r\n\r\nBest solution thus far:\r\nMake a separate HashMap for each immutable unique identifier and then wrap all the HashMaps in a wrapper object.","title":"Java HashMap, hashCode() equals() - how to be consistent with multiple keys?","body":"<p>I have an ID class. It refers to identification for a unique person. There are two forms of ID. Username and user number. If either username matches or user number matches, the ID's refer to the same person. I want to use the ID class as a key in a hashmap for looking up persons. I overrode the equals method to make it clear that if two ID's are equal, that means they refer to the same person. I am under the presumption that I need to override the hashCode() method because I want a hashmap of &lt; key: ID, value: Person &gt;. But I don't know how. How do I make the ID class an acceptable key for my HashMap?</p>\n<pre><code>public final class ID {\n\n    // These are all unique values. No 2 people can have the same username or id value.\n    final String username_;\n    final long idNumber_;\n\n    public ID(String username, Byte[] MACaddress, long idNumber) {\n    username_ = username;\n    idNumber_ = idNumber;\n    }\n\n    /**\n     * Checks to see if the values match. \n     * If either username or idNumber matches, then both ID's refer to the same person.\n     */\n    public boolean equals(Object o) {\n    if (!(o instanceof ID)) {\n        return false;\n    }\n    ID other = (ID) o;\n    if (this.username_ != null &amp;&amp; other.username_ != null) {\n        if (this.username_.equals(other.username_)) {\n            return true;\n        }\n    }\n    if (this.idNumber_ &gt; 0 &amp;&amp; other.idNumber_ &gt; 0) {\n        if(this.idNumber_ == other.idNumber_) {\n            return true;\n        }\n    }\n    return false;\n    }\n}\n</code></pre>\n<p>Followup: What if I wanted to add a third field for unique social security number? How would that change my person lookup hashmap and the ID class?</p>\n<p>Note that the Wikipedia page for hashCode says:</p>\n<blockquote>\n<p>The general contract for overridden implementations of this method is\nthat they behave in a way consistent with the same object's equals()\nmethod: that a given object must consistently report the same hash\nvalue (unless it is changed so that the new version is no longer\nconsidered &quot;equal&quot; to the old), and that two objects which equals()\nsays are equal must report the same hash value.</p>\n</blockquote>\n<p><em><strong>Update</strong></em></p>\n<p>Best solution thus far:\nMake a separate HashMap for each immutable unique identifier and then wrap all the HashMaps in a wrapper object.</p>\n"},{"tags":["java","java-8","java-7"],"comments":[{"owner":{"account_id":1677570,"reputation":18354,"user_id":1542723,"display_name":"Ferrybig"},"score":2,"creation_date":1454666395,"post_id":35221097,"comment_id":58156536,"body_markdown":"The `willCompile()` is using rawtypes, this is only supported for old code","body":"The <code>willCompile()</code> is using rawtypes, this is only supported for old code"},{"owner":{"account_id":1936546,"reputation":133675,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"score":2,"creation_date":1454666744,"post_id":35221097,"comment_id":58156729,"body_markdown":"[What is a raw type and why shouldn&#39;t we use it?](http://stackoverflow.com/questions/2770321/what-is-a-raw-type-and-why-shouldnt-we-use-it)","body":"<a href=\"http://stackoverflow.com/questions/2770321/what-is-a-raw-type-and-why-shouldnt-we-use-it\">What is a raw type and why shouldn&#39;t we use it?</a>"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1454674647,"post_id":35221097,"comment_id":58161983,"body_markdown":"[target typing in nested invocation and raw types](http://stackoverflow.com/a/26285613/2711488)","body":"<a href=\"http://stackoverflow.com/a/26285613/2711488\">target typing in nested invocation and raw types</a>"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1454693876,"post_id":35221097,"comment_id":58174987,"body_markdown":"Which jdk version did you use? Actually, all JDKs, I tested, do compile this code, of course, not without warnings. It would be a different story, if your code expected a certain `ResponseEntity&lt;X&gt;` result type.","body":"Which jdk version did you use? Actually, all JDKs, I tested, do compile this code, of course, not without warnings. It would be a different story, if your code expected a certain <code>ResponseEntity&lt;X&gt;</code> result type."}],"answers":[{"tags":[],"owner":{"account_id":1677570,"reputation":18354,"user_id":1542723,"display_name":"Ferrybig"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1454675770,"creation_date":1454666809,"answer_id":35221303,"question_id":35221097,"body_markdown":"The above compiles because it is using rawTypes.\r\n\r\nThe bottom one doesn&#39;t because your method only accepts a `Class&lt;T&gt;`, but you gave it a `Class`. Using reflection, you cannot specify the generic types of a class, so `getObject` will return a raw Class object.\r\n\r\nThe only fix for the problem is casting the return result.\r\n    \r\n    method((Class&lt;?&gt;)getObject(Class.class));\r\n\r\nBut while this solution solves the runtime problem you still get problems with the fact that you cannot create new instances of `Class`. \r\n\r\n&lt;s&gt;JDK 7 was less strict in this comparison and casted the return result `Class` into a `Class&lt;?&gt;` behind the scenes so the code was allowed to compile.&lt;/s&gt;\r\n\r\nAccording to [Holger](https://stackoverflow.com/users/2711488/holger) JDK 7 turns off generics types for the whole lines, and uses raw types for the return result, meaning that method gets a `Class` and returns a `ResponseEntity`.\r\n\r\n    ","title":"Migrating from Java 7 to Java 8 - compilation error","body":"<p>The above compiles because it is using rawTypes.</p>\n\n<p>The bottom one doesn't because your method only accepts a <code>Class&lt;T&gt;</code>, but you gave it a <code>Class</code>. Using reflection, you cannot specify the generic types of a class, so <code>getObject</code> will return a raw Class object.</p>\n\n<p>The only fix for the problem is casting the return result.</p>\n\n<pre><code>method((Class&lt;?&gt;)getObject(Class.class));\n</code></pre>\n\n<p>But while this solution solves the runtime problem you still get problems with the fact that you cannot create new instances of <code>Class</code>. </p>\n\n<p><s>JDK 7 was less strict in this comparison and casted the return result <code>Class</code> into a <code>Class&lt;?&gt;</code> behind the scenes so the code was allowed to compile.</s></p>\n\n<p>According to <a href=\"https://stackoverflow.com/users/2711488/holger\">Holger</a> JDK 7 turns off generics types for the whole lines, and uses raw types for the return result, meaning that method gets a <code>Class</code> and returns a <code>ResponseEntity</code>.</p>\n"}],"owner":{"account_id":4097938,"reputation":3833,"user_id":3364192,"accept_rate":53,"display_name":"user3364192"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4035,"favorite_count":0,"down_vote_count":1,"up_vote_count":8,"accepted_answer_id":35221303,"answer_count":1,"score":7,"last_activity_date":1657605489,"creation_date":1454666212,"question_id":35221097,"body_markdown":"The following code compiles both test methods using javac in JDK7 but JDK8 will only compile `willCompile` method. \r\n\r\nThe error for `willNotcompile` is:\r\n&quot;The method `method`(`Class&lt;T&gt;`) in the type `Klasa` is not applicable for the arguments (`Class`).&quot;\r\n\r\n\r\n    @Test\r\n\tpublic void willCompile() throws InstantiationException, IllegalAccessException {\r\n\t\tClass klass = getObject(Class.class);\r\n\t\tmethod(klass);\r\n\t}\r\n\r\n\t@Test\r\n\tpublic void willNotCompile() throws InstantiationException, IllegalAccessException {\r\n\t\tmethod(getObject(Class.class));\r\n\t}\r\n\r\n\t&lt;T&gt; ResponseEntity&lt;T&gt; method (Class&lt;T&gt; klasa) {\r\n\t\treturn new ResponseEntity&lt;T&gt;(HttpStatus.OK);\r\n\t}\r\n\tpublic static &lt;T&gt; T getObject(Class&lt;T&gt; clazz) throws IllegalAccessException, InstantiationException {\r\n\t\treturn clazz.newInstance();\r\n\t} ","title":"Migrating from Java 7 to Java 8 - compilation error","body":"<p>The following code compiles both test methods using javac in JDK7 but JDK8 will only compile <code>willCompile</code> method. </p>\n\n<p>The error for <code>willNotcompile</code> is:\n\"The method <code>method</code>(<code>Class&lt;T&gt;</code>) in the type <code>Klasa</code> is not applicable for the arguments (<code>Class</code>).\"</p>\n\n<pre><code>@Test\npublic void willCompile() throws InstantiationException, IllegalAccessException {\n    Class klass = getObject(Class.class);\n    method(klass);\n}\n\n@Test\npublic void willNotCompile() throws InstantiationException, IllegalAccessException {\n    method(getObject(Class.class));\n}\n\n&lt;T&gt; ResponseEntity&lt;T&gt; method (Class&lt;T&gt; klasa) {\n    return new ResponseEntity&lt;T&gt;(HttpStatus.OK);\n}\npublic static &lt;T&gt; T getObject(Class&lt;T&gt; clazz) throws IllegalAccessException, InstantiationException {\n    return clazz.newInstance();\n} \n</code></pre>\n"},{"tags":["java","bitwise-operators","endianness","numeric-conversion"],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1285864665,"creation_date":1285864665,"answer_id":3832797,"question_id":3832791,"body_markdown":"Just include `&amp; 0xff` for each byte to int promotion, in order to make sure that the top bits *are* set to 0:\r\n\r\n    byte b1 = din.readByte();\r\n    byte b2 = din.readByte();\r\n    byte b3 = din.readByte();\r\n    byte b4 = din.readByte();\r\n    int s = 0;\r\n    s = s | (b4 &amp; 0xff);\r\n    s = (s &lt;&lt; 8);\r\n    s = s | (b3 &amp; 0xff);\r\n    s = (s &lt;&lt; 8);\r\n    s = s | (b2 &amp; 0xff);\r\n    s = (s &lt;&lt; 8);\r\n    s = s | (b1 &amp; 0xff);\r\n    return s;\r\n\r\nOr more compactly:\r\n\r\n    byte b1 = din.readByte();\r\n    byte b2 = din.readByte();\r\n    byte b3 = din.readByte();\r\n    byte b4 = din.readByte();\r\n    return ((b4 &amp; 0xff) &lt;&lt; 24)\r\n         | ((b3 &amp; 0xff) &lt;&lt; 16)\r\n         | ((b2 &amp; 0xff) &lt;&lt; 8)\r\n         | ((b1 &amp; 0xff) &lt;&lt; 0);\r\n\r\n(Obviously the &quot;shift left 0&quot; is unnecessary, but it keeps the consistency higher.)\r\n","title":"Can one assign 4 little-endian-ordered bytes of an unsigned integer to a Java primitive using just bitwise operators?","body":"<p>Just include <code>&amp; 0xff</code> for each byte to int promotion, in order to make sure that the top bits <em>are</em> set to 0:</p>\n\n<pre><code>byte b1 = din.readByte();\nbyte b2 = din.readByte();\nbyte b3 = din.readByte();\nbyte b4 = din.readByte();\nint s = 0;\ns = s | (b4 &amp; 0xff);\ns = (s &lt;&lt; 8);\ns = s | (b3 &amp; 0xff);\ns = (s &lt;&lt; 8);\ns = s | (b2 &amp; 0xff);\ns = (s &lt;&lt; 8);\ns = s | (b1 &amp; 0xff);\nreturn s;\n</code></pre>\n\n<p>Or more compactly:</p>\n\n<pre><code>byte b1 = din.readByte();\nbyte b2 = din.readByte();\nbyte b3 = din.readByte();\nbyte b4 = din.readByte();\nreturn ((b4 &amp; 0xff) &lt;&lt; 24)\n     | ((b3 &amp; 0xff) &lt;&lt; 16)\n     | ((b2 &amp; 0xff) &lt;&lt; 8)\n     | ((b1 &amp; 0xff) &lt;&lt; 0);\n</code></pre>\n\n<p>(Obviously the \"shift left 0\" is unnecessary, but it keeps the consistency higher.)</p>\n"},{"tags":[],"owner":{"account_id":6395225,"reputation":1133,"user_id":4959801,"display_name":"dotrinh DM"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657605181,"creation_date":1657605181,"answer_id":72947601,"question_id":3832791,"body_markdown":"when we want to get a **unsigned int** that greater about 2 billions, use **long** type:\r\n\r\n    public long ToLittleEndian32Java(byte[] a) {\r\n        int idx = 0;\r\n        long ret = (a[idx++] &amp; 0xFF);\r\n        ret |= (long) (a[idx++] &amp; 0xFF) &lt;&lt; 8;\r\n        ret |= (long) (a[idx++] &amp; 0xFF) &lt;&lt; 16;\r\n        ret |= (long) (a[idx++] &amp; 0xFF) &lt;&lt; 24;\r\n        return ret;\r\n    }","title":"Can one assign 4 little-endian-ordered bytes of an unsigned integer to a Java primitive using just bitwise operators?","body":"<p>when we want to get a <strong>unsigned int</strong> that greater about 2 billions, use <strong>long</strong> type:</p>\n<pre><code>public long ToLittleEndian32Java(byte[] a) {\n    int idx = 0;\n    long ret = (a[idx++] &amp; 0xFF);\n    ret |= (long) (a[idx++] &amp; 0xFF) &lt;&lt; 8;\n    ret |= (long) (a[idx++] &amp; 0xFF) &lt;&lt; 16;\n    ret |= (long) (a[idx++] &amp; 0xFF) &lt;&lt; 24;\n    return ret;\n}\n</code></pre>\n"}],"owner":{"account_id":211081,"reputation":6152,"user_id":463052,"accept_rate":47,"display_name":"David Bullock"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1667,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":3832797,"answer_count":2,"score":2,"last_activity_date":1657605181,"creation_date":1285864595,"question_id":3832791,"body_markdown":"I want to read 4 bytes which are a little-endian encoding of an unsigned 32-bit integer, and assign the value to a Java int \r\n\r\n(Yes, in reality I will use a &#39;long&#39;, but in this case I &#39;know&#39; that the unsigned value is never so big that it will overflow a signed int in two&#39;s complement notation, and it suits my illustration to use an int).\r\n\r\n\r\nThe 4 bytes in question encode the value &#39;216&#39; little-endian style:\r\n\r\n    0xD8000000\r\n\r\n\r\nAnd basically I just need to stuff the following bit pattern into Java int:\r\n\r\n    0x000000D8\r\n\r\n    \r\nThe following simple code ought to do it ... and for the first three &#39;0x00&#39; bytes it succeeds:\r\n\r\n\r\n    byte b1 = din.readByte();\r\n    byte b2 = din.readByte();\r\n    byte b3 = din.readByte();\r\n    byte b4 = din.readByte();\r\n    int s = 0;\r\n    s = s | b4;\r\n    s = (s &lt;&lt; 8);\r\n    s = s | b3;\r\n    s = (s &lt;&lt; 8);\r\n    s = s | b2;\r\n    s = (s &lt;&lt; 8);\r\n    s = s | b1;\r\n    return s;\r\n\r\nHowever, it screws up on:\r\n\r\n    s = s | b1;\r\n\r\n... because the bits of b1 are 1101 1000, which is a negative number (-40) in two&#39;s complement notation, since the most-significant bit is a 1.  When Java widens b1 to an int before evaluating the bitwise or operator |, -40 is encoded as 0xFFFFFFD8, which screws our naive assumption that the first 3 bytes of the widened int will be 0&#39;s.\r\n\r\nSo my strategy runs aground.  But what should I do instead?  Is it even possible to solve this using primitive operators (please give solution), or must we resort to the class library?  (I don&#39;t play around with bits and bytes directly very much in my normal coding, so I lack the idiom for what seems like it ought to be &#39;everyday&#39; code).\r\n\r\nAs for the class library approach, the following fragment gets the right result:\r\n\r\n    ByteBuffer b = ByteBuffer.allocate(4).order(ByteOrder.LITTLE_ENDIAN).put((byte) 0xD8).put((byte) 0x00).put((byte) 0x00).put((byte) 0x00);\r\n    b.flip();\r\n    int s = b.getInt();\r\n    \r\n... which is fine for readability, but uses 8 method invocations which I&#39;d rather dispense with.\r\n\r\nthanks!\r\nDavid.","title":"Can one assign 4 little-endian-ordered bytes of an unsigned integer to a Java primitive using just bitwise operators?","body":"<p>I want to read 4 bytes which are a little-endian encoding of an unsigned 32-bit integer, and assign the value to a Java int </p>\n\n<p>(Yes, in reality I will use a 'long', but in this case I 'know' that the unsigned value is never so big that it will overflow a signed int in two's complement notation, and it suits my illustration to use an int).</p>\n\n<p>The 4 bytes in question encode the value '216' little-endian style:</p>\n\n<pre><code>0xD8000000\n</code></pre>\n\n<p>And basically I just need to stuff the following bit pattern into Java int:</p>\n\n<pre><code>0x000000D8\n</code></pre>\n\n<p>The following simple code ought to do it ... and for the first three '0x00' bytes it succeeds:</p>\n\n<pre><code>byte b1 = din.readByte();\nbyte b2 = din.readByte();\nbyte b3 = din.readByte();\nbyte b4 = din.readByte();\nint s = 0;\ns = s | b4;\ns = (s &lt;&lt; 8);\ns = s | b3;\ns = (s &lt;&lt; 8);\ns = s | b2;\ns = (s &lt;&lt; 8);\ns = s | b1;\nreturn s;\n</code></pre>\n\n<p>However, it screws up on:</p>\n\n<pre><code>s = s | b1;\n</code></pre>\n\n<p>... because the bits of b1 are 1101 1000, which is a negative number (-40) in two's complement notation, since the most-significant bit is a 1.  When Java widens b1 to an int before evaluating the bitwise or operator |, -40 is encoded as 0xFFFFFFD8, which screws our naive assumption that the first 3 bytes of the widened int will be 0's.</p>\n\n<p>So my strategy runs aground.  But what should I do instead?  Is it even possible to solve this using primitive operators (please give solution), or must we resort to the class library?  (I don't play around with bits and bytes directly very much in my normal coding, so I lack the idiom for what seems like it ought to be 'everyday' code).</p>\n\n<p>As for the class library approach, the following fragment gets the right result:</p>\n\n<pre><code>ByteBuffer b = ByteBuffer.allocate(4).order(ByteOrder.LITTLE_ENDIAN).put((byte) 0xD8).put((byte) 0x00).put((byte) 0x00).put((byte) 0x00);\nb.flip();\nint s = b.getInt();\n</code></pre>\n\n<p>... which is fine for readability, but uses 8 method invocations which I'd rather dispense with.</p>\n\n<p>thanks!\nDavid.</p>\n"},{"tags":["java","selenium","selenium-webdriver"],"answers":[{"tags":[],"owner":{"account_id":13721490,"reputation":9809,"user_id":9901261,"display_name":"Arundeep Chohan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1657502444,"creation_date":1657502444,"answer_id":72932906,"question_id":72932882,"body_markdown":"    searchList = driver.findElements(By.xpath(&quot;//div[@class=&#39;acp&#39;]&quot;))\r\n    for(int i = 0;i&lt;searchList.size();i++) {\r\n        System.out.println(searchList.get(i).getText());\r\n\r\nJust get all 8 dropdown values and then print it&#39;s getText.\r\n","title":"Java Selenium webdriver access span element inside each div element from a autosuggest","body":"<pre><code>searchList = driver.findElements(By.xpath(&quot;//div[@class='acp']&quot;))\nfor(int i = 0;i&lt;searchList.size();i++) {\n    System.out.println(searchList.get(i).getText());\n</code></pre>\n<p>Just get all 8 dropdown values and then print it's getText.</p>\n"},{"tags":[],"owner":{"account_id":15461950,"reputation":55,"user_id":11154428,"display_name":"indayush"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657605161,"creation_date":1657605161,"answer_id":72947599,"question_id":72932882,"body_markdown":"You can generate a list of WebElements directly.\r\n```\r\nList&lt;WebElement&gt; searchList = driver.findElements(By.xpath(&quot;//div[@class=&#39;search__autocomplete&#39;][contains(@style,&#39;display: block&#39;)]/div/div&quot;));\r\n\r\n```\r\nIf you want to iterate through the list and capture the values in a new list then you can try the following - \r\n\r\n```\r\nList&lt;String&gt; listOfValues = new ArrayList&lt;String&gt;();\r\n\r\nfor(WebElement ele : searchList){\r\n    String elementValue = ele.getText().toString().trim();\r\n    listOfValues.add(elementValue);\r\n}\r\n```","title":"Java Selenium webdriver access span element inside each div element from a autosuggest","body":"<p>You can generate a list of WebElements directly.</p>\n<pre><code>List&lt;WebElement&gt; searchList = driver.findElements(By.xpath(&quot;//div[@class='search__autocomplete'][contains(@style,'display: block')]/div/div&quot;));\n\n</code></pre>\n<p>If you want to iterate through the list and capture the values in a new list then you can try the following -</p>\n<pre><code>List&lt;String&gt; listOfValues = new ArrayList&lt;String&gt;();\n\nfor(WebElement ele : searchList){\n    String elementValue = ele.getText().toString().trim();\n    listOfValues.add(elementValue);\n}\n</code></pre>\n"}],"owner":{"account_id":24768273,"reputation":361,"user_id":18652037,"display_name":"GettingStarted With123"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":480,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72932906,"answer_count":2,"score":0,"last_activity_date":1657605161,"creation_date":1657502045,"question_id":72932882,"body_markdown":"am a newbie to selenium and am struggling with what looks to be a simple ask.\r\nUsing Java 8 with selenium webdriver and Chrome.\r\n\r\nMy requirement is to go to this website : https://start.duckduckgo.com/\r\n\r\nIn the search type : elephant \r\n[![enter image description here][1]][1]\r\n\r\nNow I need to retrieve all the autosuggested values using selenium.\r\nFrom browser console I ```think``` this is the necessary HTML containing the auto suggestions :\r\n\r\n    &lt;div class=&quot;search__autocomplete&quot; style=&quot;display: block;&quot;&gt;\r\n\t&lt;div class=&quot;acp-wrap js-acp-wrap&quot;&gt;\r\n\t\t&lt;div class=&quot;acp&quot; data-index=&quot;0&quot;&gt;&lt;span class=&quot;t-normal&quot;&gt;elephant toothpaste&lt;/span&gt;&lt;/div&gt;\r\n\t\t&lt;div class=&quot;acp&quot; data-index=&quot;1&quot;&gt;&lt;span class=&quot;t-normal&quot;&gt;elephant toothpaste&lt;/span&gt; experiment&lt;/div&gt;\r\n\t\t...\r\n\t&lt;/div&gt;\r\n\t&lt;div class=&quot;acp-footer is-hidden js-acp-footer&quot;&gt;\r\n\t\t&lt;span class=&quot;acp-footer__instructions&quot;&gt;Shortcuts to other sites to search off DuckDuckGo&lt;/span&gt;\r\n\t&lt;/div&gt;\r\n&lt;/div&gt;\r\n\r\nHere is the code I have tried with no luck :\r\n\r\n    WebDriver driver = new ChromeDriver();\r\n    driver.manage().timeouts().implicitlyWait(10, TimeUnit.SECONDS);\r\n    driver.get(&quot;https://start.duckduckgo.com/&quot;);\r\n    WebElement searchText = driver.findElement(By.name(&quot;q&quot;));\r\n\tsearchText.sendKeys(&quot;elephant&quot;);\r\n\r\n    List&lt;WebElement&gt; searchList = new ArrayList&lt;WebElement&gt;();\r\n    \r\n\r\n    // have tried various options : all of the below selectors return no results\r\n    \r\n    //searchList = driver.findElements(By.xpath(&quot;//div[contains(@class, &#39;acp&#39;)]//span&quot;));\r\n\t//searchList = driver.findElements(By.xpath(&quot;//div[contains(@class, \r\n          &#39;acp&#39;)]//span[contains(@class, &#39;t-normal&#39;)]&quot;));\r\n\t//searchList = driver.findElements(By.cssSelector(&quot;.t-normal&quot;));\r\n\t//searchList = driver.findElements(By.cssSelector(&quot;t-normal&quot;));\r\n\t//searchList = driver.findElements(By.cssSelector(&quot;.acp &gt; span&quot;));\r\n\r\n    // this atleast returns a collection of 10 but not sure of its content\r\n    searchList = driver.findElements(By.xpath(&quot;//div[contains(@class, &#39;acp&#39;)]&quot;));\r\n\r\n    if(null != searchList &amp;&amp; searchList.size() &gt; 0) {\r\n\t\t\tfor(int i = 0;i&lt;searchList.size();i++) {\r\n\t\t\t\tWebElement e = searchList.get(i);\r\n\t\t\t\t\r\n\t\t\t\tSystem.out.println(&quot;element details are &quot; + e.toString());\r\n\t\t\t\t/** NoSuchElementException with below  tried Xpath and by css \r\n\t\t\t\tWebElement spanElement = e.findElement(By.className(&quot;t-normal&quot;));\r\n\t\t\t\tWebElement spanElement = e.findElement(By.className(&quot;.t-normal&quot;));\r\n\t\t\t\tWebElement spanElement = e.findElement(By.cssSelector(&quot;.t-normal&quot;));\r\n\t\t\t\tWebElement spanElement = e.findElement(By.cssSelector(&quot;t-normal&quot;));\r\n\t\t\t\t**/\r\n\t\t\t\t\r\n\t\t\t\tWebElement spanElement = e.findElement(By.cssSelector(&quot;t-normal&quot;));\r\n\t\t\r\n\t\t\t\tSystem.out.println(e.getText());\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t}else {\r\n\t\t\tSystem.out.println(&quot;&lt;&lt;&lt;&lt;&lt; not able to locate &gt;&gt;&gt;&gt;&gt;&quot;);\r\n\t\t}\r\n\r\nIf in browser I do a find using xpath I can locate these span elements :\r\n```//div[contains(@class, &#39;acp-wrap js-acp-wrap&#39;)]//div[contains(@class, &#39;acp&#39;)]//span[contains(@class,&#39;t-normal&#39;)]```\r\n\r\nSo really confused on how to extract text from within span ?  \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rMt1N.png","title":"Java Selenium webdriver access span element inside each div element from a autosuggest","body":"<p>am a newbie to selenium and am struggling with what looks to be a simple ask.\nUsing Java 8 with selenium webdriver and Chrome.</p>\n<p>My requirement is to go to this website : <a href=\"https://start.duckduckgo.com/\" rel=\"nofollow noreferrer\">https://start.duckduckgo.com/</a></p>\n<p>In the search type : elephant\n<a href=\"https://i.stack.imgur.com/rMt1N.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rMt1N.png\" alt=\"enter image description here\" /></a></p>\n<p>Now I need to retrieve all the autosuggested values using selenium.\nFrom browser console I <code>think</code> this is the necessary HTML containing the auto suggestions :</p>\n<pre><code>&lt;div class=&quot;search__autocomplete&quot; style=&quot;display: block;&quot;&gt;\n&lt;div class=&quot;acp-wrap js-acp-wrap&quot;&gt;\n    &lt;div class=&quot;acp&quot; data-index=&quot;0&quot;&gt;&lt;span class=&quot;t-normal&quot;&gt;elephant toothpaste&lt;/span&gt;&lt;/div&gt;\n    &lt;div class=&quot;acp&quot; data-index=&quot;1&quot;&gt;&lt;span class=&quot;t-normal&quot;&gt;elephant toothpaste&lt;/span&gt; experiment&lt;/div&gt;\n    ...\n&lt;/div&gt;\n&lt;div class=&quot;acp-footer is-hidden js-acp-footer&quot;&gt;\n    &lt;span class=&quot;acp-footer__instructions&quot;&gt;Shortcuts to other sites to search off DuckDuckGo&lt;/span&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Here is the code I have tried with no luck :</p>\n<pre><code>WebDriver driver = new ChromeDriver();\ndriver.manage().timeouts().implicitlyWait(10, TimeUnit.SECONDS);\ndriver.get(&quot;https://start.duckduckgo.com/&quot;);\nWebElement searchText = driver.findElement(By.name(&quot;q&quot;));\nsearchText.sendKeys(&quot;elephant&quot;);\n\nList&lt;WebElement&gt; searchList = new ArrayList&lt;WebElement&gt;();\n\n\n// have tried various options : all of the below selectors return no results\n\n//searchList = driver.findElements(By.xpath(&quot;//div[contains(@class, 'acp')]//span&quot;));\n//searchList = driver.findElements(By.xpath(&quot;//div[contains(@class, \n      'acp')]//span[contains(@class, 't-normal')]&quot;));\n//searchList = driver.findElements(By.cssSelector(&quot;.t-normal&quot;));\n//searchList = driver.findElements(By.cssSelector(&quot;t-normal&quot;));\n//searchList = driver.findElements(By.cssSelector(&quot;.acp &gt; span&quot;));\n\n// this atleast returns a collection of 10 but not sure of its content\nsearchList = driver.findElements(By.xpath(&quot;//div[contains(@class, 'acp')]&quot;));\n\nif(null != searchList &amp;&amp; searchList.size() &gt; 0) {\n        for(int i = 0;i&lt;searchList.size();i++) {\n            WebElement e = searchList.get(i);\n            \n            System.out.println(&quot;element details are &quot; + e.toString());\n            /** NoSuchElementException with below  tried Xpath and by css \n            WebElement spanElement = e.findElement(By.className(&quot;t-normal&quot;));\n            WebElement spanElement = e.findElement(By.className(&quot;.t-normal&quot;));\n            WebElement spanElement = e.findElement(By.cssSelector(&quot;.t-normal&quot;));\n            WebElement spanElement = e.findElement(By.cssSelector(&quot;t-normal&quot;));\n            **/\n            \n            WebElement spanElement = e.findElement(By.cssSelector(&quot;t-normal&quot;));\n    \n            System.out.println(e.getText());\n            \n            \n        }\n    }else {\n        System.out.println(&quot;&lt;&lt;&lt;&lt;&lt; not able to locate &gt;&gt;&gt;&gt;&gt;&quot;);\n    }\n</code></pre>\n<p>If in browser I do a find using xpath I can locate these span elements :\n<code>//div[contains(@class, 'acp-wrap js-acp-wrap')]//div[contains(@class, 'acp')]//span[contains(@class,'t-normal')]</code></p>\n<p>So really confused on how to extract text from within span ?</p>\n"},{"tags":["java","spring-boot","maven","javassist","javaagents"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":1,"creation_date":1657607699,"post_id":72947590,"comment_id":128844405,"body_markdown":"Does this work as you expect?","body":"Does this work as you expect?"},{"owner":{"account_id":19708105,"reputation":21,"user_id":14429269,"display_name":"Maheshbabu"},"score":0,"creation_date":1657608040,"post_id":72947590,"comment_id":128844490,"body_markdown":"Yes, I am able to get invoked method name.","body":"Yes, I am able to get invoked method name."}],"owner":{"account_id":19708105,"reputation":21,"user_id":14429269,"display_name":"Maheshbabu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":594,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657605074,"creation_date":1657605074,"question_id":72947590,"body_markdown":"1) I have a spring boot project. I want to instrument this application using java agent and javassist library. I have created a maven project for java agent with Premain(String args, Instrumentation inst) method and build a jar file for maven project.\r\n2) Now I am running using java agent command \r\n   -&gt; java -javaagent:&quot;maven project jar file&quot; -jar &quot;spring boot project jar file&quot;\r\n3) I want to know above approach is correct or not.\r\n4) If it is correct how to retrieve invoked method class name using javassist.\r\n\r\n This is **Java agent** class \r\n\r\n    public static void premain(String agentArgs, Instrumentation instrumentation) throws InstantiationException {\r\n    \r\n            log.info(&quot;....Starting Java Agent......&quot;);\r\n            System.out.println(&quot;Java agent Premain Method&quot;);\r\n            InterceptingClassTransformer interceptingClassTransformer = new InterceptingClassTransformer();\r\n            interceptingClassTransformer.init();\r\n            instrumentation.addTransformer(interceptingClassTransformer);\r\n            \r\n            \r\n        }\r\n\r\n\r\n\r\nThis is **InterceptingClassTransformer** class \r\n\r\n\r\n    @Override\r\n    \tpublic byte[] transform(ClassLoader loader, String className, Class&lt;?&gt; classBeingRedefined,\r\n    \t\t\tProtectionDomain protectionDomain, byte[] classfileBuffer) throws IllegalClassFormatException {\r\n    \r\n    \t\tbyte[] byteCode = classfileBuffer;\r\n            HashMap&lt;String, String&gt; map=new HashMap&lt;String, String&gt;();\r\n            map.put(&quot;className&quot;, className);\r\n            for (Entry&lt;String, String&gt; entry : map.entrySet()) {\r\n    \t\t\tif(entry.getValue().contains(&quot;com/example/ebanking/controller&quot;)) {\r\n    \t\t\t\tlog.info(&quot;Transforming the class &quot; + className);\r\n    \t\t\t\ttry {\r\n    \t\t\t\t\tClassPool classPool = scopedClassPoolFactory.create(loader, rootPool,\r\n    \t\t\t\t\t\t\tScopedClassPoolRepositoryImpl.getInstance());\r\n    \t\t\t\t\tCtClass ctClass = classPool.makeClass(new ByteArrayInputStream(classfileBuffer));\r\n    \t\t\t\t\tCtMethod[] methods = ctClass.getDeclaredMethods();                   \r\n    \t\t\t\t\tfor (CtMethod method : methods) {\t\t\t\t\t\t\r\n    \t\t\t\t\t\t\tfinal StringBuffer buffer = new StringBuffer();\t\t\t\t\t\t    \r\n    \t\t\t\t\t\t\tString name = method.getName();\r\n    \t\t\t\t\t\t\tbuffer.append(&quot;System.err.println(\\&quot;Method Name: &quot;+ name + &quot; executed\\&quot; );&quot;);\r\n    \t\t\t\t\t\t\tmethod.insertBefore(buffer.toString());\r\n    \t\t\t\t\t\t\tmethod.addLocalVariable(&quot;startTime&quot;, CtClass.longType);\r\n    \t\t\t\t\t\t\tmethod.insertBefore(&quot;startTime = System.nanoTime();&quot;);\r\n    \t\t\t\t\t\t\tmethod.insertAfter(&quot;System.out.println(\\&quot;Execution Duration &quot;\r\n    \t\t\t\t\t\t\t\t\t+ &quot;(nano sec): \\&quot;+ (System.nanoTime() - startTime) );&quot;);\r\n    \t\t\t\t\t\t\t//method.insertBefore(&quot;System.out.println(\\&quot;Logging using Agent Before \\&quot;);&quot;);\r\n    \t\t\t\t\t\t\tmethod.insertAfter(&quot;System.out.println(\\&quot;Logging using After Method execution\\&quot;);&quot;);\r\n    \t\t\t\t\t\t}\r\n    \r\n    \t\t\t\t\t\r\n    \r\n    \t\t\t\t\tbyteCode = ctClass.toBytecode();\r\n    \t\t\t\t\tctClass.detach();\r\n    \t\t\t\t} catch (Throwable ex) {\r\n    \t\t\t\t\tlog.log(Level.SEVERE, &quot;Error in transforming the class: &quot; + className, ex);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t}\r\n    \t\treturn byteCode;\r\n    \t}\r\n\r\n--&gt; **com/example/ebanking/controller** this package is in spring boot project.","title":"How to instrument a spring boot application using java agent and javassist?","body":"<ol>\n<li>I have a spring boot project. I want to instrument this application using java agent and javassist library. I have created a maven project for java agent with Premain(String args, Instrumentation inst) method and build a jar file for maven project.</li>\n<li>Now I am running using java agent command\n-&gt; java -javaagent:&quot;maven project jar file&quot; -jar &quot;spring boot project jar file&quot;</li>\n<li>I want to know above approach is correct or not.</li>\n<li>If it is correct how to retrieve invoked method class name using javassist.</li>\n</ol>\n<p>This is <strong>Java agent</strong> class</p>\n<pre><code>public static void premain(String agentArgs, Instrumentation instrumentation) throws InstantiationException {\n\n        log.info(&quot;....Starting Java Agent......&quot;);\n        System.out.println(&quot;Java agent Premain Method&quot;);\n        InterceptingClassTransformer interceptingClassTransformer = new InterceptingClassTransformer();\n        interceptingClassTransformer.init();\n        instrumentation.addTransformer(interceptingClassTransformer);\n        \n        \n    }\n</code></pre>\n<p>This is <strong>InterceptingClassTransformer</strong> class</p>\n<pre><code>@Override\n    public byte[] transform(ClassLoader loader, String className, Class&lt;?&gt; classBeingRedefined,\n            ProtectionDomain protectionDomain, byte[] classfileBuffer) throws IllegalClassFormatException {\n\n        byte[] byteCode = classfileBuffer;\n        HashMap&lt;String, String&gt; map=new HashMap&lt;String, String&gt;();\n        map.put(&quot;className&quot;, className);\n        for (Entry&lt;String, String&gt; entry : map.entrySet()) {\n            if(entry.getValue().contains(&quot;com/example/ebanking/controller&quot;)) {\n                log.info(&quot;Transforming the class &quot; + className);\n                try {\n                    ClassPool classPool = scopedClassPoolFactory.create(loader, rootPool,\n                            ScopedClassPoolRepositoryImpl.getInstance());\n                    CtClass ctClass = classPool.makeClass(new ByteArrayInputStream(classfileBuffer));\n                    CtMethod[] methods = ctClass.getDeclaredMethods();                   \n                    for (CtMethod method : methods) {                       \n                            final StringBuffer buffer = new StringBuffer();                         \n                            String name = method.getName();\n                            buffer.append(&quot;System.err.println(\\&quot;Method Name: &quot;+ name + &quot; executed\\&quot; );&quot;);\n                            method.insertBefore(buffer.toString());\n                            method.addLocalVariable(&quot;startTime&quot;, CtClass.longType);\n                            method.insertBefore(&quot;startTime = System.nanoTime();&quot;);\n                            method.insertAfter(&quot;System.out.println(\\&quot;Execution Duration &quot;\n                                    + &quot;(nano sec): \\&quot;+ (System.nanoTime() - startTime) );&quot;);\n                            //method.insertBefore(&quot;System.out.println(\\&quot;Logging using Agent Before \\&quot;);&quot;);\n                            method.insertAfter(&quot;System.out.println(\\&quot;Logging using After Method execution\\&quot;);&quot;);\n                        }\n\n                    \n\n                    byteCode = ctClass.toBytecode();\n                    ctClass.detach();\n                } catch (Throwable ex) {\n                    log.log(Level.SEVERE, &quot;Error in transforming the class: &quot; + className, ex);\n                }\n            }\n            \n        }\n        return byteCode;\n    }\n</code></pre>\n<p>--&gt; <strong>com/example/ebanking/controller</strong> this package is in spring boot project.</p>\n"},{"tags":["java","string","shuffle"],"comments":[{"owner":{"account_id":88112,"reputation":51921,"user_id":243943,"accept_rate":89,"display_name":"npinti"},"score":3,"creation_date":1279875357,"post_id":3316674,"comment_id":3437764,"body_markdown":"I doubt that there is anything simpler than something that is already available for you to use... (at least in this case)","body":"I doubt that there is anything simpler than something that is already available for you to use... (at least in this case)"}],"answers":[{"tags":[],"owner":{"account_id":92026,"reputation":35050,"user_id":1977903,"accept_rate":96,"display_name":"bragboy"},"down_vote_count":0,"up_vote_count":35,"is_accepted":true,"score":35,"last_activity_date":1279875734,"creation_date":1279875306,"answer_id":3316696,"question_id":3316674,"body_markdown":"I dont know anything simpler. But you can use the Math.rand() functionality to generate a random number within the range of the character&#39;s length without replace and that would give you a shuffled output\r\n\r\n    public class Shuffle {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tShuffle s = new Shuffle();\r\n    \t\ts.shuffle(&quot;hello&quot;);\r\n    \r\n    \t}\r\n    \tpublic void shuffle(String input){\r\n    \t\tList&lt;Character&gt; characters = new ArrayList&lt;Character&gt;();\r\n    \t\tfor(char c:input.toCharArray()){\r\n    \t\t\tcharacters.add(c);\r\n    \t\t}\r\n    \t\tStringBuilder output = new StringBuilder(input.length());\r\n    \t\twhile(characters.size()!=0){\r\n    \t\t\tint randPicker = (int)(Math.random()*characters.size());\r\n    \t\t\toutput.append(characters.remove(randPicker));\r\n    \t\t}\r\n    \t\tSystem.out.println(output.toString());\r\n    \t}\r\n    }\r\n    /*\r\n    Sample outputs\r\n    hlleo\r\n    llheo\r\n    leohl\r\n    lleho\r\n    */","title":"How to shuffle characters in a string without using Collections.shuffle(...)?","body":"<p>I dont know anything simpler. But you can use the Math.rand() functionality to generate a random number within the range of the character's length without replace and that would give you a shuffled output</p>\n\n<pre><code>public class Shuffle {\n    public static void main(String[] args) {\n        Shuffle s = new Shuffle();\n        s.shuffle(\"hello\");\n\n    }\n    public void shuffle(String input){\n        List&lt;Character&gt; characters = new ArrayList&lt;Character&gt;();\n        for(char c:input.toCharArray()){\n            characters.add(c);\n        }\n        StringBuilder output = new StringBuilder(input.length());\n        while(characters.size()!=0){\n            int randPicker = (int)(Math.random()*characters.size());\n            output.append(characters.remove(randPicker));\n        }\n        System.out.println(output.toString());\n    }\n}\n/*\nSample outputs\nhlleo\nllheo\nleohl\nlleho\n*/\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13695,"reputation":5380,"user_id":27653,"accept_rate":92,"display_name":"Tarski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1279875460,"creation_date":1279875460,"answer_id":3316716,"question_id":3316674,"body_markdown":"You could iterate over all the characters, comparing each one with the next. Then if Math.rand() &gt; 0.5 swap this character with the next, otherwise move on to the next character.","title":"How to shuffle characters in a string without using Collections.shuffle(...)?","body":"<p>You could iterate over all the characters, comparing each one with the next. Then if Math.rand() > 0.5 swap this character with the next, otherwise move on to the next character.</p>\n"},{"tags":[],"owner":{"account_id":115974,"reputation":16225,"user_id":304285,"accept_rate":86,"display_name":"amra"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1279875698,"creation_date":1279875698,"answer_id":3316743,"question_id":3316674,"body_markdown":"E.g.:\r\n\r\n    static String shuffle(String text){\r\n        if (text.length()&lt;=1)\r\n            return text;\r\n    \r\n        int split=text.length()/2;\r\n    \r\n        String temp1=shuffle(text.substring(0,split));\r\n        String temp2=shuffle(text.substring(split));\r\n    \r\n        if (Math.random() &gt; 0.5) \r\n            return temp1 + temp2;\r\n        else \r\n            return temp2 + temp1;\r\n    }    ","title":"How to shuffle characters in a string without using Collections.shuffle(...)?","body":"<p>E.g.:</p>\n\n<pre><code>static String shuffle(String text){\n    if (text.length()&lt;=1)\n        return text;\n\n    int split=text.length()/2;\n\n    String temp1=shuffle(text.substring(0,split));\n    String temp2=shuffle(text.substring(split));\n\n    if (Math.random() &gt; 0.5) \n        return temp1 + temp2;\n    else \n        return temp2 + temp1;\n}    \n</code></pre>\n"},{"tags":[],"owner":{"account_id":101048,"reputation":103,"user_id":272043,"display_name":"user272043"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1279876157,"creation_date":1279876157,"answer_id":3316795,"question_id":3316674,"body_markdown":"    class ShuffleString\r\n    {\r\n    \t\r\n    \tpublic static String shuffle(String s)\r\n    \t{\r\n    \t\t\r\n    \t\tString shuffledString = &quot;&quot;; \r\n    \t\t\r\n    \t\twhile (s.length() != 0)\r\n    \t\t{\r\n    \t\t\tint index = (int) Math.floor(Math.random() * s.length());\r\n    \t\t\tchar c = s.charAt(index);\r\n    \t\t\ts = s.substring(0,index)+s.substring(index+1);\r\n    \t\t\tshuffledString += c;\r\n    \t\t}\r\n    \t\t\r\n    \t\treturn shuffledString;\r\n    \t\t\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n    public class foo{\r\n    \tstatic public void main(String[] args)\r\n    \t{\r\n    \t\t\r\n    \t\tString test = &quot;hallo&quot;;\r\n    \t\ttest = ShuffleString.shuffle(test);\r\n    \t\tSystem.out.println(test);\r\n        }\r\n    }\r\n\r\nOutput:\r\nahlol","title":"How to shuffle characters in a string without using Collections.shuffle(...)?","body":"<pre><code>class ShuffleString\n{\n\n    public static String shuffle(String s)\n    {\n\n        String shuffledString = \"\"; \n\n        while (s.length() != 0)\n        {\n            int index = (int) Math.floor(Math.random() * s.length());\n            char c = s.charAt(index);\n            s = s.substring(0,index)+s.substring(index+1);\n            shuffledString += c;\n        }\n\n        return shuffledString;\n\n    }\n\n}\n\n\npublic class foo{\n    static public void main(String[] args)\n    {\n\n        String test = \"hallo\";\n        test = ShuffleString.shuffle(test);\n        System.out.println(test);\n    }\n}\n</code></pre>\n\n<p>Output:\nahlol</p>\n"},{"tags":[],"owner":{"account_id":20131,"reputation":38608,"user_id":47775,"accept_rate":84,"display_name":"Nick Bolton"},"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1340239970,"creation_date":1340239970,"answer_id":11130209,"question_id":3316674,"body_markdown":"Not great performance, but quite readable in my opinion:\r\n\r\n    public static String shuffleString(String string)\r\n    {\r\n      List&lt;String&gt; letters = Arrays.asList(string.split(&quot;&quot;));\r\n      Collections.shuffle(letters);\r\n      String shuffled = &quot;&quot;;\r\n      for (String letter : letters) {\r\n        shuffled += letter;\r\n      }\r\n      return shuffled;\r\n    }","title":"How to shuffle characters in a string without using Collections.shuffle(...)?","body":"<p>Not great performance, but quite readable in my opinion:</p>\n\n<pre><code>public static String shuffleString(String string)\n{\n  List&lt;String&gt; letters = Arrays.asList(string.split(\"\"));\n  Collections.shuffle(letters);\n  String shuffled = \"\";\n  for (String letter : letters) {\n    shuffled += letter;\n  }\n  return shuffled;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":444190,"reputation":1654,"user_id":835856,"accept_rate":73,"display_name":"Karl Giesing"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1355526173,"creation_date":1355526173,"answer_id":13887448,"question_id":3316674,"body_markdown":"Here&#39;s code that requires neither recursion, nor converting to a Collection.\r\n\r\n    public static String shuffle(String string) {\r\n\t\tStringBuilder sb = new StringBuilder(string.length());\r\n\t\tdouble rnd;\r\n\t\tfor (char c: string.toCharArray()) {\r\n\t\t\trnd = Math.random();\r\n\t\t\tif (rnd &lt; 0.34)\r\n\t\t\t\tsb.append(c);\r\n\t\t\telse if (rnd &lt; 0.67)\r\n\t\t\t\tsb.insert(sb.length() / 2, c);\r\n\t\t\telse\r\n\t\t\t\tsb.insert(0, c);\r\n\t\t}\t\t\r\n\t\treturn sb.toString();\r\n\t}","title":"How to shuffle characters in a string without using Collections.shuffle(...)?","body":"<p>Here's code that requires neither recursion, nor converting to a Collection.</p>\n\n<pre><code>public static String shuffle(String string) {\n    StringBuilder sb = new StringBuilder(string.length());\n    double rnd;\n    for (char c: string.toCharArray()) {\n        rnd = Math.random();\n        if (rnd &lt; 0.34)\n            sb.append(c);\n        else if (rnd &lt; 0.67)\n            sb.insert(sb.length() / 2, c);\n        else\n            sb.insert(0, c);\n    }       \n    return sb.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1721029,"reputation":2684,"user_id":1576874,"accept_rate":28,"display_name":"mac"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1378416834,"creation_date":1378416834,"answer_id":18646340,"question_id":3316674,"body_markdown":"Not sure why you wouldn&#39;t want to use shuffle, unless it&#39;s for school. ;)\r\n\r\nAnd if you&#39;re concerned with performance, you definitely can&#39;t use any solution that concatenates strings with &quot;+&quot;.\r\n\r\nHere&#39;s the most compact solution I could come up with:\r\n\r\n    public static String shuffle(String string) {\r\n        if (StringUtils.isBlank(string) {\r\n            return string;\r\n        }\r\n\r\n        final List&lt;Character&gt; randomChars = new ArrayList&lt;&gt;();\r\n        CollectionUtils.addAll(randomChars, ArrayUtils.toObject(string.toCharArray()));\r\n        Collections.shuffle(randomChars);\r\n        return StringUtils.join(randomChars, &quot;&quot;);\r\n    }","title":"How to shuffle characters in a string without using Collections.shuffle(...)?","body":"<p>Not sure why you wouldn't want to use shuffle, unless it's for school. ;)</p>\n\n<p>And if you're concerned with performance, you definitely can't use any solution that concatenates strings with \"+\".</p>\n\n<p>Here's the most compact solution I could come up with:</p>\n\n<pre><code>public static String shuffle(String string) {\n    if (StringUtils.isBlank(string) {\n        return string;\n    }\n\n    final List&lt;Character&gt; randomChars = new ArrayList&lt;&gt;();\n    CollectionUtils.addAll(randomChars, ArrayUtils.toObject(string.toCharArray()));\n    Collections.shuffle(randomChars);\n    return StringUtils.join(randomChars, \"\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27445,"reputation":31727,"user_id":72478,"accept_rate":76,"display_name":"cherouvim"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1399539691,"creation_date":1399539691,"answer_id":23537258,"question_id":3316674,"body_markdown":"How about this:\r\n\r\n    public static String shuffle(String text) {\r\n        char[] characters = text.toCharArray();\r\n        for (int i = 0; i &lt; characters.length; i++) {\r\n            int randomIndex = (int)(Math.random() * characters.length);\r\n            char temp = characters[i];\r\n            characters[i] = characters[randomIndex];\r\n            characters[randomIndex] = temp;\r\n        }\r\n        return new String(characters);\r\n    }","title":"How to shuffle characters in a string without using Collections.shuffle(...)?","body":"<p>How about this:</p>\n\n<pre><code>public static String shuffle(String text) {\n    char[] characters = text.toCharArray();\n    for (int i = 0; i &lt; characters.length; i++) {\n        int randomIndex = (int)(Math.random() * characters.length);\n        char temp = characters[i];\n        characters[i] = characters[randomIndex];\n        characters[randomIndex] = temp;\n    }\n    return new String(characters);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":423482,"reputation":116,"user_id":802905,"display_name":"s13o"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1457881234,"creation_date":1457881234,"answer_id":35971789,"question_id":3316674,"body_markdown":"            String shuffled;\r\n            do {\r\n                shuffled = Stream.of(text.split(&quot;&quot;)).sorted((o1, o2) -&gt; ThreadLocalRandom.current().nextInt(3) - 1).collect(Collectors.joining());\r\n            }while(shuffled.equals(text));\r\n","title":"How to shuffle characters in a string without using Collections.shuffle(...)?","body":"<pre><code>        String shuffled;\n        do {\n            shuffled = Stream.of(text.split(\"\")).sorted((o1, o2) -&gt; ThreadLocalRandom.current().nextInt(3) - 1).collect(Collectors.joining());\n        }while(shuffled.equals(text));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9129637,"reputation":61,"user_id":6791867,"display_name":"Chris"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1472941035,"creation_date":1472941035,"answer_id":39311806,"question_id":3316674,"body_markdown":"What an annoying problem.  I finally ended up with this:\r\n\r\n    import java.util.Collections;\r\n    import com.google.common.primitives.Chars;\r\n    import org.apache.commons.lang3.StringUtils;\r\n\r\n    String shuffle(String s) {\r\n        List&lt;Character&gt; chars = Chars.asList(s.toCharArray());\r\n        Collections.shuffle(chars);\r\n        return StringUtils.join(chars.stream().toArray());\r\n    }\r\n\r\nYes, two libraries :)  ","title":"How to shuffle characters in a string without using Collections.shuffle(...)?","body":"<p>What an annoying problem.  I finally ended up with this:</p>\n\n<pre><code>import java.util.Collections;\nimport com.google.common.primitives.Chars;\nimport org.apache.commons.lang3.StringUtils;\n\nString shuffle(String s) {\n    List&lt;Character&gt; chars = Chars.asList(s.toCharArray());\n    Collections.shuffle(chars);\n    return StringUtils.join(chars.stream().toArray());\n}\n</code></pre>\n\n<p>Yes, two libraries :)  </p>\n"},{"tags":[],"owner":{"account_id":4646767,"reputation":17781,"user_id":3764804,"accept_rate":59,"display_name":"BullyWiiPlaza"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1487013728,"creation_date":1487013728,"answer_id":42211901,"question_id":3316674,"body_markdown":"If you still want to restore the original [`String`][1] later on, try something like this:\r\n\r\n\tpublic static class ShuffledString\r\n\t{\r\n\t\tprivate List&lt;Integer&gt; indices;\r\n\t\tprivate String string;\r\n\r\n\t\tpublic ShuffledString(List&lt;Integer&gt; indices, String string)\r\n\t\t{\r\n\t\t\tthis.indices = indices;\r\n\t\t\tthis.string = string;\r\n\t\t}\r\n\r\n\t\tpublic List&lt;Integer&gt; getIndices()\r\n\t\t{\r\n\t\t\treturn indices;\r\n\t\t}\r\n\r\n\t\tpublic String getRegularString()\r\n\t\t{\r\n\t\t\tStringBuilder stringBuilder = new StringBuilder();\r\n\r\n\t\t\tfor (int stringIndex = 0; stringIndex &lt; indices.size(); stringIndex++)\r\n\t\t\t{\r\n\t\t\t\tint characterIndex = indices.indexOf(stringIndex);\r\n\t\t\t\tstringBuilder.append(string.charAt(characterIndex));\r\n\t\t\t}\r\n\r\n\t\t\treturn stringBuilder.toString();\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static ShuffledString shuffle(String input)\r\n\t{\r\n\t\tList&lt;Integer&gt; indices = new ArrayList&lt;&gt;();\r\n\r\n\t\tStringBuilder output = new StringBuilder(input.length());\r\n\t\twhile (indices.size() &lt; input.length())\r\n\t\t{\r\n\t\t\tint randomIndex;\r\n\r\n\t\t\twhile (indices.contains(randomIndex = (int) (Math.random() * input.length())))\r\n\t\t\t{\r\n\r\n\t\t\t}\r\n\r\n\t\t\tindices.add(randomIndex);\r\n\t\t\toutput.append(input.charAt(randomIndex));\r\n\t\t}\r\n\r\n\t\treturn new ShuffledString(indices, output.toString());\r\n\t}\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/lang/String.html","title":"How to shuffle characters in a string without using Collections.shuffle(...)?","body":"<p>If you still want to restore the original <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/String.html\" rel=\"nofollow noreferrer\"><code>String</code></a> later on, try something like this:</p>\n\n<pre><code>public static class ShuffledString\n{\n    private List&lt;Integer&gt; indices;\n    private String string;\n\n    public ShuffledString(List&lt;Integer&gt; indices, String string)\n    {\n        this.indices = indices;\n        this.string = string;\n    }\n\n    public List&lt;Integer&gt; getIndices()\n    {\n        return indices;\n    }\n\n    public String getRegularString()\n    {\n        StringBuilder stringBuilder = new StringBuilder();\n\n        for (int stringIndex = 0; stringIndex &lt; indices.size(); stringIndex++)\n        {\n            int characterIndex = indices.indexOf(stringIndex);\n            stringBuilder.append(string.charAt(characterIndex));\n        }\n\n        return stringBuilder.toString();\n    }\n}\n\npublic static ShuffledString shuffle(String input)\n{\n    List&lt;Integer&gt; indices = new ArrayList&lt;&gt;();\n\n    StringBuilder output = new StringBuilder(input.length());\n    while (indices.size() &lt; input.length())\n    {\n        int randomIndex;\n\n        while (indices.contains(randomIndex = (int) (Math.random() * input.length())))\n        {\n\n        }\n\n        indices.add(randomIndex);\n        output.append(input.charAt(randomIndex));\n    }\n\n    return new ShuffledString(indices, output.toString());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4962253,"reputation":18492,"user_id":3992939,"accept_rate":73,"display_name":"c0der"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1555159571,"creation_date":1531751099,"answer_id":51364075,"question_id":3316674,"body_markdown":"Without external libraries, for those who do not mind using ` Collections.shuffle()`: \r\n\r\n    static String shuffle(String string){\r\n\r\n    \tList&lt;Character&gt; list = string.chars().mapToObj(c -&gt; new Character((char) c))\r\n    \t\t\t                             .collect(Collectors.toList());\r\n    \tCollections.shuffle(list);\r\n    \tStringBuilder sb = new StringBuilder();\r\n    \tlist.forEach(c -&gt; sb.append(c));\r\n\r\n\t\treturn sb.toString();\r\n    }\r\n","title":"How to shuffle characters in a string without using Collections.shuffle(...)?","body":"<p>Without external libraries, for those who do not mind using <code>Collections.shuffle()</code>: </p>\n\n<pre><code>static String shuffle(String string){\n\n    List&lt;Character&gt; list = string.chars().mapToObj(c -&gt; new Character((char) c))\n                                         .collect(Collectors.toList());\n    Collections.shuffle(list);\n    StringBuilder sb = new StringBuilder();\n    list.forEach(c -&gt; sb.append(c));\n\n    return sb.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1062360,"reputation":37721,"user_id":1063716,"accept_rate":94,"display_name":"Steve Chambers"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1596271942,"creation_date":1596271942,"answer_id":63203438,"question_id":3316674,"body_markdown":"In Java 8+ this can be done using `Collectors.shuffle(...)` in three lines as follows:\r\n\r\n 1. [Convert the String into a List of Characters](https://stackoverflow.com/questions/6319775/41506487#answer-31641308)\r\n 2. [Shuffle the list](https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#shuffle-java.util.List-)\r\n 3. [Convert the shuffled List of Characters back into a String](https://stackoverflow.com/questions/6324826#answer-31641521)\r\n\r\n### Code:\r\n\r\n    public static String shuffle(final String str) {\r\n        List&lt;Character&gt; chars = str.chars().mapToObj(e-&gt;(char)e).collect(Collectors.toList());\r\n        Collections.shuffle(chars);\r\n        return chars.stream().map(e-&gt;e.toString()).collect(Collectors.joining());\r\n    }\r\n\r\n### Demo:\r\n\r\n[Rextester demo](https://rextester.com/STZJ57541)","title":"How to shuffle characters in a string without using Collections.shuffle(...)?","body":"<p>In Java 8+ this can be done using <code>Collectors.shuffle(...)</code> in three lines as follows:</p>\n<ol>\n<li><a href=\"https://stackoverflow.com/questions/6319775/41506487#answer-31641308\">Convert the String into a List of Characters</a></li>\n<li><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Collections.html#shuffle-java.util.List-\" rel=\"nofollow noreferrer\">Shuffle the list</a></li>\n<li><a href=\"https://stackoverflow.com/questions/6324826#answer-31641521\">Convert the shuffled List of Characters back into a String</a></li>\n</ol>\n<h3>Code:</h3>\n<pre><code>public static String shuffle(final String str) {\n    List&lt;Character&gt; chars = str.chars().mapToObj(e-&gt;(char)e).collect(Collectors.toList());\n    Collections.shuffle(chars);\n    return chars.stream().map(e-&gt;e.toString()).collect(Collectors.joining());\n}\n</code></pre>\n<h3>Demo:</h3>\n<p><a href=\"https://rextester.com/STZJ57541\" rel=\"nofollow noreferrer\">Rextester demo</a></p>\n"},{"tags":[],"owner":{"account_id":7717417,"reputation":4027,"user_id":5844686,"display_name":"Big Pumpkin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1609350194,"creation_date":1609350194,"answer_id":65511260,"question_id":3316674,"body_markdown":"In Kotlin, you can do the following.\r\n\r\n    val helloCharArray = &quot;hello&quot;.toCharArray()\r\n    helloCharArray.shuffle()\r\n    val shuffledHello = helloCharArray.concatToString()","title":"How to shuffle characters in a string without using Collections.shuffle(...)?","body":"<p>In Kotlin, you can do the following.</p>\n<pre><code>val helloCharArray = &quot;hello&quot;.toCharArray()\nhelloCharArray.shuffle()\nval shuffledHello = helloCharArray.concatToString()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":125373,"reputation":2944,"user_id":321108,"display_name":"yurez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612877665,"creation_date":1612877665,"answer_id":66120033,"question_id":3316674,"body_markdown":"Using [commons-lang3][1]:\r\n\r\n    import org.apache.commons.lang3.ArrayUtils;\r\n\r\n    String shuffle(String text) {\r\n        char[] chars = text.toCharArray();\r\n        ArrayUtils.shuffle(chars);\r\n        return String.valueOf(chars);\r\n    }\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/","title":"How to shuffle characters in a string without using Collections.shuffle(...)?","body":"<p>Using <a href=\"https://commons.apache.org/proper/commons-lang/\" rel=\"nofollow noreferrer\">commons-lang3</a>:</p>\n<pre><code>import org.apache.commons.lang3.ArrayUtils;\n\nString shuffle(String text) {\n    char[] chars = text.toCharArray();\n    ArrayUtils.shuffle(chars);\n    return String.valueOf(chars);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9874198,"reputation":489,"user_id":8632023,"display_name":"Daniel Zin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1620336687,"creation_date":1620336687,"answer_id":67426208,"question_id":3316674,"body_markdown":"One more short implementation using Stream API:\r\n\r\n     String shuffle(String str) {\t\t\r\n\t\treturn new Random().ints(0, str.length()).distinct().limit(str.length()) // shuffle indexes\r\n\t\t\t\t.mapToObj(i-&gt;&quot;&quot;+str.charAt(i)).collect(Collectors.joining());    // collect letters\r\n\t }","title":"How to shuffle characters in a string without using Collections.shuffle(...)?","body":"<p>One more short implementation using Stream API:</p>\n<pre><code> String shuffle(String str) {       \n    return new Random().ints(0, str.length()).distinct().limit(str.length()) // shuffle indexes\n            .mapToObj(i-&gt;&quot;&quot;+str.charAt(i)).collect(Collectors.joining());    // collect letters\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657605030,"creation_date":1657603907,"answer_id":72947430,"question_id":3316674,"body_markdown":"Some `String`s may contain symbols consisting of multiple characters.\r\n\r\nIn order to get around this, you can convert the `String` to code points, shuffle the array and convert them back to a `String`.\r\n\r\n```java\r\npublic static String shuffle(String toShuffle){\r\n    int[] codePoints = toShuffle.codePoints().toArray();\r\n    shuffle(codePoints);\r\n    return new String(codePoints, 0, codePoints.length);\r\n}\r\n```\r\n\r\nShuffling the array could be done like [this](https://stackoverflow.com/a/1520212/10871900) or using any other method:\r\n```java\r\n//code from https://stackoverflow.com/a/1520212/10871900\r\nprivate static void shuffle(int[] ar)\r\n  {\r\n    // If running on Java 6 or older, use `new Random()` on RHS here\r\n    Random rnd = ThreadLocalRandom.current();\r\n    for (int i = ar.length - 1; i &gt; 0; i--)\r\n    {\r\n      int index = rnd.nextInt(i + 1);\r\n      // Simple swap\r\n      int a = ar[index];\r\n      ar[index] = ar[i];\r\n      ar[i] = a;\r\n    }\r\n  }\r\n```\r\n\r\nAs a less-performant alternative, you could use wrapper objects and shuffle the stream:\r\n```java\r\npublic static String shuffle(String toShuffle){\r\n    int[] codePoints = toShuffle\r\n        .codePoints()\r\n        .boxed()\r\n        .sorted((o1, o2) -&gt; ThreadLocalRandom.current().nextInt(-1, 2) //https://stackoverflow.com/a/55352119/10871900 \r\n        .mapToInt(i-&gt;i)\r\n        .toArray();\r\n    return new String(codePoints, 0, codePoints.length);\r\n}\r\n```","title":"How to shuffle characters in a string without using Collections.shuffle(...)?","body":"<p>Some <code>String</code>s may contain symbols consisting of multiple characters.</p>\n<p>In order to get around this, you can convert the <code>String</code> to code points, shuffle the array and convert them back to a <code>String</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static String shuffle(String toShuffle){\n    int[] codePoints = toShuffle.codePoints().toArray();\n    shuffle(codePoints);\n    return new String(codePoints, 0, codePoints.length);\n}\n</code></pre>\n<p>Shuffling the array could be done like <a href=\"https://stackoverflow.com/a/1520212/10871900\">this</a> or using any other method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>//code from https://stackoverflow.com/a/1520212/10871900\nprivate static void shuffle(int[] ar)\n  {\n    // If running on Java 6 or older, use `new Random()` on RHS here\n    Random rnd = ThreadLocalRandom.current();\n    for (int i = ar.length - 1; i &gt; 0; i--)\n    {\n      int index = rnd.nextInt(i + 1);\n      // Simple swap\n      int a = ar[index];\n      ar[index] = ar[i];\n      ar[i] = a;\n    }\n  }\n</code></pre>\n<p>As a less-performant alternative, you could use wrapper objects and shuffle the stream:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static String shuffle(String toShuffle){\n    int[] codePoints = toShuffle\n        .codePoints()\n        .boxed()\n        .sorted((o1, o2) -&gt; ThreadLocalRandom.current().nextInt(-1, 2) //https://stackoverflow.com/a/55352119/10871900 \n        .mapToInt(i-&gt;i)\n        .toArray();\n    return new String(codePoints, 0, codePoints.length);\n}\n</code></pre>\n"}],"owner":{"account_id":135929,"reputation":12713,"user_id":339108,"accept_rate":77,"display_name":"user339108"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85259,"favorite_count":0,"down_vote_count":2,"up_vote_count":21,"accepted_answer_id":3316696,"answer_count":17,"score":19,"last_activity_date":1657605030,"creation_date":1279875051,"question_id":3316674,"body_markdown":"How do I shuffle the characters in a string (e.g. hello could be ehlol or lleoh or ...). I don&#39;t want to use the `Collections.shuffle(...)` method, is there anything simpler?","title":"How to shuffle characters in a string without using Collections.shuffle(...)?","body":"<p>How do I shuffle the characters in a string (e.g. hello could be ehlol or lleoh or ...). I don't want to use the <code>Collections.shuffle(...)</code> method, is there anything simpler?</p>\n"},{"tags":["java","slider","appium","swipe"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1657319667,"post_id":72917537,"comment_id":128790715,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":16992528,"reputation":374,"user_id":12291777,"display_name":"drunkencheetah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657604972,"creation_date":1657604972,"answer_id":72947574,"question_id":72917537,"body_markdown":"An example that can help you achieve that:  \r\n```\r\nint startX = sliderEl.getLocation().x; // Get the initial starting X coordinate of the slider\r\nint elWidth = sliderEl.getSize().width(); // Get the width of the slider\r\nint endX = startX + elWidth; // Get the ending X coordinate of the slider\r\nint y = sliderEl.getLocation().y + (sliderEl.getSize().height/2); // Generate the middle Y coordinate of the slider\r\n\r\nTouchAction swipeSlider = new TouchAction(driver).press(PointOption.point(startX,y)).waitAction(WaitOptions.waitOptions(Duration.ofMillis(500))).moveTo(PointOption.point(endX, y)).release(); // Create the action that will swipe from the start coordinate to the end coordinate\r\n\r\nswipeSlider.perform(); // Execute the swipe\r\n```","title":"Slider elemet swipe in android in java","body":"<p>An example that can help you achieve that:</p>\n<pre><code>int startX = sliderEl.getLocation().x; // Get the initial starting X coordinate of the slider\nint elWidth = sliderEl.getSize().width(); // Get the width of the slider\nint endX = startX + elWidth; // Get the ending X coordinate of the slider\nint y = sliderEl.getLocation().y + (sliderEl.getSize().height/2); // Generate the middle Y coordinate of the slider\n\nTouchAction swipeSlider = new TouchAction(driver).press(PointOption.point(startX,y)).waitAction(WaitOptions.waitOptions(Duration.ofMillis(500))).moveTo(PointOption.point(endX, y)).release(); // Create the action that will swipe from the start coordinate to the end coordinate\n\nswipeSlider.perform(); // Execute the swipe\n</code></pre>\n"}],"owner":{"account_id":21977865,"reputation":21,"user_id":16253400,"display_name":"Dhananjay kumar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1657604972,"creation_date":1657318720,"question_id":72917537,"body_markdown":"I want to slide this button from left to right:\r\n\r\n![I want to slide this button from left to right][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CxKcA.jpg","title":"Slider elemet swipe in android in java","body":"<p>I want to slide this button from left to right:</p>\n<p><img src=\"https://i.stack.imgur.com/CxKcA.jpg\" alt=\"I want to slide this button from left to right\" /></p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":25737161,"reputation":169,"user_id":19491703,"display_name":"Beant Singh"},"score":0,"creation_date":1657601441,"post_id":72947030,"comment_id":128843062,"body_markdown":"post Game class as well","body":"post Game class as well"},{"owner":{"account_id":14225859,"reputation":53,"user_id":10276592,"display_name":"Pedro Malavet"},"score":0,"creation_date":1657603385,"post_id":72947030,"comment_id":128843433,"body_markdown":"Just posted the game class","body":"Just posted the game class"}],"answers":[{"tags":[],"owner":{"account_id":2557581,"reputation":6571,"user_id":2219237,"accept_rate":60,"display_name":"Vasily Kabunov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657601848,"creation_date":1657601848,"answer_id":72947212,"question_id":72947030,"body_markdown":"Probably you need to use list of filtered items to get element in your `onItemClick` method:\r\n \r\n    String appToLaunch = GamesFiltered.get(position).getAppPackage();\r\n\r\ninstead of \r\n\r\n    String appToLaunch = Games.get(position).getAppPackage();","title":"GridView Lauching wrong app is there away to fix this?","body":"<p>Probably you need to use list of filtered items to get element in your <code>onItemClick</code> method:</p>\n<pre><code>String appToLaunch = GamesFiltered.get(position).getAppPackage();\n</code></pre>\n<p>instead of</p>\n<pre><code>String appToLaunch = Games.get(position).getAppPackage();\n</code></pre>\n"}],"owner":{"account_id":14225859,"reputation":53,"user_id":10276592,"display_name":"Pedro Malavet"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72947212,"answer_count":1,"score":0,"last_activity_date":1657603362,"creation_date":1657599932,"question_id":72947030,"body_markdown":"Okay so I am making this app that launch&#39;s games but I cannot seem to get the search functionality for my GridView (named grid) to work properly. Every time I search for a game and then tap the game I want to launch instead of launching the correct game it launches a different game. Before I added the search functionality when I tapped on a game it would launch the correct one because the position number was always the same but now with the search functionality the grid positions of the games are now different from the order of my ArrayList (named Games) causing the wrong game to launch. The only time it launches the correct game is when I don&#39;t use the search at all or leave the field blank. \r\n\r\nCode in MainActivity\r\n\r\n        //Launch Game\r\n        grid.setOnItemClickListener(new AdapterView.OnItemClickListener()\r\n        {\r\n            @Override\r\n            public void onItemClick(AdapterView&lt;?&gt; parent, View view, int position, long id)\r\n            {\r\n\r\n                try\r\n                {\r\n                    String appToLaunch = Games.get(position).getAppPackage();\r\n                    \r\n                    Intent launchGame = new Intent();\r\n                    launchGame = getPackageManager().getLaunchIntentForPackage(appToLaunch);\r\n                    \r\n\r\n                    startActivity(launchGame);\r\n                    Toast.makeText(getApplicationContext(),&quot;Launched &quot;+ Games.get(position).getTitle() ,Toast.LENGTH_SHORT).show();\r\n                }\r\n                catch (Exception e)\r\n                {\r\n                    Toast.makeText(getApplicationContext(),&quot;Error Failed to Launch &quot; + Games.get(position).getTitle() + &quot;. Make sure that app package is correct&quot;,Toast.LENGTH_LONG).show();\r\n                    e.printStackTrace();\r\n                }\r\n\r\n            }\r\n        });\r\n\r\nImageAdapter Class for my grid view\r\n\r\n    public class ImageAdapter extends BaseAdapter implements Filterable\r\n    {\r\n          private Context context;\r\n          ArrayList&lt;Game&gt; Games;\r\n          ArrayList&lt;Game&gt; GamesFiltered;\r\n\r\n        public ImageAdapter(Context context, ArrayList&lt;Game&gt; Games)\r\n        {\r\n            this.context = context;\r\n            this.Games = Games;\r\n            this.GamesFiltered = new ArrayList&lt;&gt;(Games);\r\n        }\r\n\r\n        public View getView(final int position, View convertView, ViewGroup parent)\r\n        {\r\n\r\n            LayoutInflater inflater = (LayoutInflater) \r\n            context.getSystemService(Context.LAYOUT_INFLATER_SERVICE);\r\n\r\n             // get layout from custom_gridview.xml\r\n             View gridView = inflater.inflate(R.layout.custom_gridview, null);\r\n\r\n             // set value into imageview\r\n             ImageView image = gridView.findViewById(R.id.item_image);\r\n\r\n             Bitmap bm = GamesFiltered.get(position).getImage();\r\n             if(bm != null)\r\n                 image.setImageBitmap(bm);\r\n            else\r\n                 image.setImageResource(R.drawable.blank);\r\n\r\n            // set value into textview\r\n            TextView text = gridView.findViewById(R.id.item_text);\r\n            text.setText(GamesFiltered.get(position).getTitle());\r\n\r\n            return gridView;\r\n        }\r\n\r\n        @Override\r\n        public int getCount()\r\n        {\r\n            return GamesFiltered.size();\r\n        }\r\n\r\n        @Override\r\n        public Object getItem(int position)\r\n        {\r\n            return null;\r\n        }\r\n\r\n        @Override\r\n        public long getItemId(int position)\r\n        {\r\n            return position;\r\n        }\r\n\r\n\r\n        @Override\r\n        public Filter getFilter()\r\n        {\r\n            Filter filter = new Filter()\r\n            {\r\n                @Override\r\n                protected FilterResults performFiltering(CharSequence charSequence)\r\n                {\r\n                    FilterResults filterResults = new FilterResults();\r\n\r\n                    if(charSequence == null || charSequence.length() ==0)\r\n                    {\r\n                        filterResults.count = Games.size();\r\n                        filterResults.values = Games;\r\n                    }\r\n                    else\r\n                    {\r\n                        String searchStr = charSequence.toString();\r\n                        ArrayList&lt;Game&gt; resultData = new ArrayList&lt;&gt;();\r\n\r\n                        for(Game game: Games)\r\n                        {\r\n                            if(game.getTitle().contains(searchStr))\r\n                            {\r\n                                resultData.add(game);\r\n                            }\r\n                            filterResults.count = resultData.size();\r\n                            filterResults.values = resultData;\r\n\r\n                        }\r\n                    }\r\n\r\n                    return filterResults;\r\n                }\r\n\r\n                @Override\r\n                protected void publishResults(CharSequence charSequence, FilterResults filterResults)\r\n                {\r\n                    GamesFiltered = (ArrayList&lt;Game&gt;) filterResults.values;\r\n                    notifyDataSetChanged();\r\n                }\r\n             };\r\n\r\n            return filter;\r\n        }\r\n    }\r\n\r\nEdit here is my Game Class\r\n\r\n    public class Game\r\n    {\r\n        private @NonNull String appPackage;\r\n        private @NonNull String title;\r\n        private Bitmap image;\r\n\r\n        public Game(@NonNull String appPackage,@NonNull String title,Bitmap image)\r\n        {\r\n            this.appPackage = appPackage;\r\n            this.title = title;\r\n            this.image = image;\r\n        }\r\n\r\n        public void setAppPackage(@NonNull String appPackage){this.appPackage = appPackage;}\r\n\r\n        public String getAppPackage(){return this.appPackage;}\r\n\r\n        public void setTitle(@NonNull String title){this.title = title;}\r\n\r\n        public String getTitle() {return this.title;}\r\n\r\n        public Bitmap getImage () { return this.image; }\r\n\r\n        public void setImage(Bitmap image) { this.image = image;}\r\n\r\n    }\r\n\r\n","title":"GridView Lauching wrong app is there away to fix this?","body":"<p>Okay so I am making this app that launch's games but I cannot seem to get the search functionality for my GridView (named grid) to work properly. Every time I search for a game and then tap the game I want to launch instead of launching the correct game it launches a different game. Before I added the search functionality when I tapped on a game it would launch the correct one because the position number was always the same but now with the search functionality the grid positions of the games are now different from the order of my ArrayList (named Games) causing the wrong game to launch. The only time it launches the correct game is when I don't use the search at all or leave the field blank.</p>\n<p>Code in MainActivity</p>\n<pre><code>    //Launch Game\n    grid.setOnItemClickListener(new AdapterView.OnItemClickListener()\n    {\n        @Override\n        public void onItemClick(AdapterView&lt;?&gt; parent, View view, int position, long id)\n        {\n\n            try\n            {\n                String appToLaunch = Games.get(position).getAppPackage();\n                \n                Intent launchGame = new Intent();\n                launchGame = getPackageManager().getLaunchIntentForPackage(appToLaunch);\n                \n\n                startActivity(launchGame);\n                Toast.makeText(getApplicationContext(),&quot;Launched &quot;+ Games.get(position).getTitle() ,Toast.LENGTH_SHORT).show();\n            }\n            catch (Exception e)\n            {\n                Toast.makeText(getApplicationContext(),&quot;Error Failed to Launch &quot; + Games.get(position).getTitle() + &quot;. Make sure that app package is correct&quot;,Toast.LENGTH_LONG).show();\n                e.printStackTrace();\n            }\n\n        }\n    });\n</code></pre>\n<p>ImageAdapter Class for my grid view</p>\n<pre><code>public class ImageAdapter extends BaseAdapter implements Filterable\n{\n      private Context context;\n      ArrayList&lt;Game&gt; Games;\n      ArrayList&lt;Game&gt; GamesFiltered;\n\n    public ImageAdapter(Context context, ArrayList&lt;Game&gt; Games)\n    {\n        this.context = context;\n        this.Games = Games;\n        this.GamesFiltered = new ArrayList&lt;&gt;(Games);\n    }\n\n    public View getView(final int position, View convertView, ViewGroup parent)\n    {\n\n        LayoutInflater inflater = (LayoutInflater) \n        context.getSystemService(Context.LAYOUT_INFLATER_SERVICE);\n\n         // get layout from custom_gridview.xml\n         View gridView = inflater.inflate(R.layout.custom_gridview, null);\n\n         // set value into imageview\n         ImageView image = gridView.findViewById(R.id.item_image);\n\n         Bitmap bm = GamesFiltered.get(position).getImage();\n         if(bm != null)\n             image.setImageBitmap(bm);\n        else\n             image.setImageResource(R.drawable.blank);\n\n        // set value into textview\n        TextView text = gridView.findViewById(R.id.item_text);\n        text.setText(GamesFiltered.get(position).getTitle());\n\n        return gridView;\n    }\n\n    @Override\n    public int getCount()\n    {\n        return GamesFiltered.size();\n    }\n\n    @Override\n    public Object getItem(int position)\n    {\n        return null;\n    }\n\n    @Override\n    public long getItemId(int position)\n    {\n        return position;\n    }\n\n\n    @Override\n    public Filter getFilter()\n    {\n        Filter filter = new Filter()\n        {\n            @Override\n            protected FilterResults performFiltering(CharSequence charSequence)\n            {\n                FilterResults filterResults = new FilterResults();\n\n                if(charSequence == null || charSequence.length() ==0)\n                {\n                    filterResults.count = Games.size();\n                    filterResults.values = Games;\n                }\n                else\n                {\n                    String searchStr = charSequence.toString();\n                    ArrayList&lt;Game&gt; resultData = new ArrayList&lt;&gt;();\n\n                    for(Game game: Games)\n                    {\n                        if(game.getTitle().contains(searchStr))\n                        {\n                            resultData.add(game);\n                        }\n                        filterResults.count = resultData.size();\n                        filterResults.values = resultData;\n\n                    }\n                }\n\n                return filterResults;\n            }\n\n            @Override\n            protected void publishResults(CharSequence charSequence, FilterResults filterResults)\n            {\n                GamesFiltered = (ArrayList&lt;Game&gt;) filterResults.values;\n                notifyDataSetChanged();\n            }\n         };\n\n        return filter;\n    }\n}\n</code></pre>\n<p>Edit here is my Game Class</p>\n<pre><code>public class Game\n{\n    private @NonNull String appPackage;\n    private @NonNull String title;\n    private Bitmap image;\n\n    public Game(@NonNull String appPackage,@NonNull String title,Bitmap image)\n    {\n        this.appPackage = appPackage;\n        this.title = title;\n        this.image = image;\n    }\n\n    public void setAppPackage(@NonNull String appPackage){this.appPackage = appPackage;}\n\n    public String getAppPackage(){return this.appPackage;}\n\n    public void setTitle(@NonNull String title){this.title = title;}\n\n    public String getTitle() {return this.title;}\n\n    public Bitmap getImage () { return this.image; }\n\n    public void setImage(Bitmap image) { this.image = image;}\n\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1657604454,"post_id":72947189,"comment_id":128843648,"body_markdown":"Your fields are just `public` while they should have a getter/setter as the setting is done using reflection and it is assumed the Java Beans convention is followed.","body":"Your fields are just <code>public</code> while they should have a getter/setter as the setting is done using reflection and it is assumed the Java Beans convention is followed."}],"answers":[{"tags":[],"owner":{"account_id":25235500,"reputation":181,"user_id":19115786,"display_name":"Roman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657602807,"creation_date":1657601853,"answer_id":72947213,"question_id":72947189,"body_markdown":"Looks like your configuration properties class is missing `@ConfigurationPropertiesScan` annotation. Also `@Component` and `@EnableConfigurationProperties` is no longer needed. Check out this tutorial, paragraph 3.1 https://www.baeldung.com/configuration-properties-in-spring-boot\r\n\r\n    @ConfigurationProperties(prefix = &quot;feeds&quot;)\r\n    @EnableConfigurationProperties\r\n    public class FeedsConfig {\r\n        public List&lt;String&gt; urls;\r\n        public String abc;\r\n    }","title":"How do I read config values from application.yml in Spring 2.7.2","body":"<p>Looks like your configuration properties class is missing <code>@ConfigurationPropertiesScan</code> annotation. Also <code>@Component</code> and <code>@EnableConfigurationProperties</code> is no longer needed. Check out this tutorial, paragraph 3.1 <a href=\"https://www.baeldung.com/configuration-properties-in-spring-boot\" rel=\"nofollow noreferrer\">https://www.baeldung.com/configuration-properties-in-spring-boot</a></p>\n<pre><code>@ConfigurationProperties(prefix = &quot;feeds&quot;)\n@EnableConfigurationProperties\npublic class FeedsConfig {\n    public List&lt;String&gt; urls;\n    public String abc;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1657602092,"creation_date":1657602092,"answer_id":72947233,"question_id":72947189,"body_markdown":"Assuming the components are properly scanned, I see two issues:\r\n- `FeedsConfig` should not be annotated with `@Component`\r\n- `FeedsConfig` should have a full-args constructor and be annotated with `@ConstructorBinding` to wire the properties\r\n\r\nThis can be easily achieved using Lombok (I use the same set-up on my machine):\r\n\r\n```java\r\n@Data\r\n@ConfigurationProperties(prefix = &quot;feeds&quot;)\r\n@ConstructorBinding\r\n@RequiredArgsConstructor\r\npublic class FeedsConfig {\r\n\r\n    public List&lt;String&gt; urls;\r\n    public String abc;\r\n}\r\n```","title":"How do I read config values from application.yml in Spring 2.7.2","body":"<p>Assuming the components are properly scanned, I see two issues:</p>\n<ul>\n<li><code>FeedsConfig</code> should not be annotated with <code>@Component</code></li>\n<li><code>FeedsConfig</code> should have a full-args constructor and be annotated with <code>@ConstructorBinding</code> to wire the properties</li>\n</ul>\n<p>This can be easily achieved using Lombok (I use the same set-up on my machine):</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@ConfigurationProperties(prefix = &quot;feeds&quot;)\n@ConstructorBinding\n@RequiredArgsConstructor\npublic class FeedsConfig {\n\n    public List&lt;String&gt; urls;\n    public String abc;\n}\n</code></pre>\n"}],"owner":{"account_id":24111,"reputation":1133,"user_id":61104,"accept_rate":85,"display_name":"Kevin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1553,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72947233,"answer_count":2,"score":1,"last_activity_date":1657603292,"creation_date":1657601549,"question_id":72947189,"body_markdown":"I&#39;ve created a simple repo here that demonstrates my issue, just in case it helps anyone: https://github.com/kevinm416/spring-boot-config. I&#39;ve tried various iterations of different Spring annotations I saw on different tutorials, but so far nothing has worked. \r\n\r\nI have a very standard spring boot application:\r\n```java\r\n@SpringBootApplication\r\n@EnableConfigurationProperties({BaseConfig.class, FeedsConfig.class})\r\npublic class Application {\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(Application.class, args);\r\n\t}\r\n}\r\n```\r\n\r\nAnd a configuration class:\r\n```java\r\n@Component\r\n@ConfigurationProperties(prefix = &quot;feeds&quot;)\r\npublic class FeedsConfig {\r\n    public List&lt;String&gt; urls;\r\n    public String abc;\r\n}\r\n```\r\nI&#39;ve tried both `application.properties` and `application.yml` individually and at the same time, with contents like:\r\n```yaml\r\nfeeds:\r\n  abc: def\r\n  urls:\r\n    - url1\r\n    - url2\r\n    - url3\r\nbase: level\r\n```\r\nWhen I `@Autowire` the config class into a controller, the values from the application config are not populated.\r\n\r\n```java\r\n@RestController\r\npublic class HelloController {\r\n\r\n    @Autowired\r\n    private FeedsConfig feedsConfig;\r\n\r\n    @Autowired\r\n    private Environment environment;\r\n\r\n    @RequestMapping(&quot;/hello&quot;)\r\n    private String hello() {\r\n        return &quot;Hi &quot; + feedsConfig.abc + &quot;, &quot; + feedsConfig.urls;\r\n    }\r\n}\r\n```\r\n\r\nI can see the values I want in the Environment under `propertySources` though! Why aren&#39;t my config classes being filled out?\r\n\r\n[![Debugger showing environment][1]][1]\r\n\r\n-----------------------\r\nI changed FeedsConfig to this and it&#39;s working! Thank you Nicholas!\r\n```java\r\n@ConstructorBinding\r\n@ConfigurationProperties(prefix = &quot;feeds&quot;)\r\npublic class FeedsConfig {\r\n    public FeedsConfig(List&lt;String&gt; urls, String abc) {\r\n        this.urls = urls;\r\n        this.abc = abc;\r\n    }\r\n    public List&lt;String&gt; urls;\r\n    public String abc;\r\n}\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fOPiy.png","title":"How do I read config values from application.yml in Spring 2.7.2","body":"<p>I've created a simple repo here that demonstrates my issue, just in case it helps anyone: <a href=\"https://github.com/kevinm416/spring-boot-config\" rel=\"nofollow noreferrer\">https://github.com/kevinm416/spring-boot-config</a>. I've tried various iterations of different Spring annotations I saw on different tutorials, but so far nothing has worked.</p>\n<p>I have a very standard spring boot application:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\n@EnableConfigurationProperties({BaseConfig.class, FeedsConfig.class})\npublic class Application {\n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n}\n</code></pre>\n<p>And a configuration class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\n@ConfigurationProperties(prefix = &quot;feeds&quot;)\npublic class FeedsConfig {\n    public List&lt;String&gt; urls;\n    public String abc;\n}\n</code></pre>\n<p>I've tried both <code>application.properties</code> and <code>application.yml</code> individually and at the same time, with contents like:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>feeds:\n  abc: def\n  urls:\n    - url1\n    - url2\n    - url3\nbase: level\n</code></pre>\n<p>When I <code>@Autowire</code> the config class into a controller, the values from the application config are not populated.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\npublic class HelloController {\n\n    @Autowired\n    private FeedsConfig feedsConfig;\n\n    @Autowired\n    private Environment environment;\n\n    @RequestMapping(&quot;/hello&quot;)\n    private String hello() {\n        return &quot;Hi &quot; + feedsConfig.abc + &quot;, &quot; + feedsConfig.urls;\n    }\n}\n</code></pre>\n<p>I can see the values I want in the Environment under <code>propertySources</code> though! Why aren't my config classes being filled out?</p>\n<p><a href=\"https://i.stack.imgur.com/fOPiy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fOPiy.png\" alt=\"Debugger showing environment\" /></a></p>\n<hr />\n<p>I changed FeedsConfig to this and it's working! Thank you Nicholas!</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ConstructorBinding\n@ConfigurationProperties(prefix = &quot;feeds&quot;)\npublic class FeedsConfig {\n    public FeedsConfig(List&lt;String&gt; urls, String abc) {\n        this.urls = urls;\n        this.abc = abc;\n    }\n    public List&lt;String&gt; urls;\n    public String abc;\n}\n</code></pre>\n"},{"tags":["java","android","android-studio","gradle","android-gradle-plugin"],"answers":[{"tags":[],"owner":{"account_id":8159118,"reputation":1,"user_id":6143674,"display_name":"Husky"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657016543,"creation_date":1657016543,"answer_id":72867788,"question_id":72857531,"body_markdown":"I had the same problem. Sitting behind a company Zscaler Web Gateway terminating all TLS traffic. None of the proposed actions like adding a proxy or other repos, or changing IPv4/IPv6 settings worked. \r\n\r\nThe solution was:\r\n\r\n1. add the Zscaler certificate to Android Studio&#39;s JRE cacert keystore. You find it under &lt;AndroidStudio&gt;\\jre\\lib\\security\\cacerts.\r\nEither use the Java keytool &lt;AndroidStudio&gt;\\jre\\bin\\keytool.exe from a Command windows / Shell or a GUI like KeyStoreExplorer. Default password of the keystore is &quot;changeit&quot;.\r\n2. After adding the proxy certificate to cacerts, restart AS and now the gradle project build works! \r\n\r\nNote: In case your Company security apps are scanning all downloaded stuff, sometimes they can&#39;t do that fast enough and you get 403 errors in your IDE for Gradle/Maven sync actions. Repeating the project sync process normally eliminates such errors. ","title":"&#39;com.android.application&#39;, version: &#39;7.1.3&#39;, apply: false was not found in any of the following sources:","body":"<p>I had the same problem. Sitting behind a company Zscaler Web Gateway terminating all TLS traffic. None of the proposed actions like adding a proxy or other repos, or changing IPv4/IPv6 settings worked.</p>\n<p>The solution was:</p>\n<ol>\n<li>add the Zscaler certificate to Android Studio's JRE cacert keystore. You find it under \\jre\\lib\\security\\cacerts.\nEither use the Java keytool \\jre\\bin\\keytool.exe from a Command windows / Shell or a GUI like KeyStoreExplorer. Default password of the keystore is &quot;changeit&quot;.</li>\n<li>After adding the proxy certificate to cacerts, restart AS and now the gradle project build works!</li>\n</ol>\n<p>Note: In case your Company security apps are scanning all downloaded stuff, sometimes they can't do that fast enough and you get 403 errors in your IDE for Gradle/Maven sync actions. Repeating the project sync process normally eliminates such errors.</p>\n"}],"owner":{"account_id":24053304,"reputation":3,"user_id":18031488,"display_name":"PicoNa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":363,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657603079,"creation_date":1656941291,"question_id":72857531,"body_markdown":"I&#39;m new to Android studio. The first time I created a new project the IDE started downloading gradle, and afterwards it started to download com.android.application . this part took a lot of time but after some minutes I got this error :\r\n```\r\nPlugin [id: &#39;com.android.application&#39;, version: &#39;7.1.3&#39;, apply: false] was not found in any of the following sources:\r\n\r\n* Try:\r\nRun with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n\r\n* Exception is:\r\norg.gradle.api.plugins.UnknownPluginException: Plugin [id: &#39;com.android.application&#39;, version: &#39;7.1.3&#39;, apply: false] was not found in any of the following sources:\r\n\r\n- Gradle Core Plugins (plugin is not in &#39;org.gradle&#39; namespace)\r\n- Plugin Repositories (could not resolve plugin artifact &#39;com.android.application:com.android.application.gradle.plugin:7.1.3&#39;)\r\n  Searched in the following repositories:\r\n    Gradle Central Plugin Repository\r\n    Google\r\n    MavenRepo\r\n```\r\n\r\nMy Android studio version is bumblebee 2021.1.1 patch 3. And I have tried the following:\r\n\r\n - https://stackoverflow.com/a/71784769/18031488\r\n - https://stackoverflow.com/a/72799441/18031488 (I tried a proxy. didn&#39;t solve the problem)\r\n - https://stackoverflow.com/a/71786490/18031488\r\n - https://stackoverflow.com/a/71020686/18031488\r\n - https://stackoverflow.com/a/44403912/18031488\r\n - https://stackoverflow.com/a/71097021/18031488\r\n\r\nCan I install the plugin manually or is there any way to get rid of this?\r\n","title":"&#39;com.android.application&#39;, version: &#39;7.1.3&#39;, apply: false was not found in any of the following sources:","body":"<p>I'm new to Android studio. The first time I created a new project the IDE started downloading gradle, and afterwards it started to download com.android.application . this part took a lot of time but after some minutes I got this error :</p>\n<pre><code>Plugin [id: 'com.android.application', version: '7.1.3', apply: false] was not found in any of the following sources:\n\n* Try:\nRun with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Exception is:\norg.gradle.api.plugins.UnknownPluginException: Plugin [id: 'com.android.application', version: '7.1.3', apply: false] was not found in any of the following sources:\n\n- Gradle Core Plugins (plugin is not in 'org.gradle' namespace)\n- Plugin Repositories (could not resolve plugin artifact 'com.android.application:com.android.application.gradle.plugin:7.1.3')\n  Searched in the following repositories:\n    Gradle Central Plugin Repository\n    Google\n    MavenRepo\n</code></pre>\n<p>My Android studio version is bumblebee 2021.1.1 patch 3. And I have tried the following:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/a/71784769/18031488\">https://stackoverflow.com/a/71784769/18031488</a></li>\n<li><a href=\"https://stackoverflow.com/a/72799441/18031488\">https://stackoverflow.com/a/72799441/18031488</a> (I tried a proxy. didn't solve the problem)</li>\n<li><a href=\"https://stackoverflow.com/a/71786490/18031488\">https://stackoverflow.com/a/71786490/18031488</a></li>\n<li><a href=\"https://stackoverflow.com/a/71020686/18031488\">https://stackoverflow.com/a/71020686/18031488</a></li>\n<li><a href=\"https://stackoverflow.com/a/44403912/18031488\">https://stackoverflow.com/a/44403912/18031488</a></li>\n<li><a href=\"https://stackoverflow.com/a/71097021/18031488\">https://stackoverflow.com/a/71097021/18031488</a></li>\n</ul>\n<p>Can I install the plugin manually or is there any way to get rid of this?</p>\n"},{"tags":["java","intellij-idea","lwjgl","imgui"],"comments":[{"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"score":0,"creation_date":1649230110,"post_id":71750854,"comment_id":126820156,"body_markdown":"Try https://stackoverflow.com/a/71065002/12844632 or add `systemProperty &quot;java.library.path&quot;, &quot;/path/to/native/lib` to your build.gradle.","body":"Try <a href=\"https://stackoverflow.com/a/71065002/12844632\">stackoverflow.com/a/71065002/12844632</a> or add <code>systemProperty &quot;java.library.path&quot;, &quot;&#47;path&#47;to&#47;native&#47;lib</code> to your build.gradle."},{"owner":{"account_id":24042378,"reputation":23,"user_id":18021850,"display_name":"Spencer Dring"},"score":0,"creation_date":1649278908,"post_id":71750854,"comment_id":126838745,"body_markdown":"Sorry, neither worked.","body":"Sorry, neither worked."}],"answers":[{"tags":[],"owner":{"account_id":6630353,"reputation":5504,"user_id":8623159,"display_name":"httpdigest"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1649331829,"creation_date":1649331829,"answer_id":71781569,"question_id":71750854,"body_markdown":"Your computer _very likely_ has a CPU with the ARM architecture, such as the M1 chip, instead of the x86 architecture.\r\n\r\nTherefore, the JVM process cannot load the imgui-java64.dylib shared library because imgui-java currently only ships x86 CPU architecture shared libraries, not ARM ones.\r\n\r\nSee this GitHub issue: https://github.com/SpaiR/imgui-java/issues/123\r\nand this (currently open) GitHub Pull Request: https://github.com/SpaiR/imgui-java/pull/112 to add ARM CPU support for imgui-java.\r\n\r\nYour only solution is to probably incorporate the work currently having been done in that GitHub Pull Request and compile imgui-java locally yourself for your ARM CPU or wait until the PR is merged and a release of imgui-java ships with macOS ARM shared libraries.","title":"Why do I recieve error &#39;java.lang.UnsatisfiedLinkError: Can&#39;t load library&#39; when the file can be found?","body":"<p>Your computer <em>very likely</em> has a CPU with the ARM architecture, such as the M1 chip, instead of the x86 architecture.</p>\n<p>Therefore, the JVM process cannot load the imgui-java64.dylib shared library because imgui-java currently only ships x86 CPU architecture shared libraries, not ARM ones.</p>\n<p>See this GitHub issue: <a href=\"https://github.com/SpaiR/imgui-java/issues/123\" rel=\"noreferrer\">https://github.com/SpaiR/imgui-java/issues/123</a>\nand this (currently open) GitHub Pull Request: <a href=\"https://github.com/SpaiR/imgui-java/pull/112\" rel=\"noreferrer\">https://github.com/SpaiR/imgui-java/pull/112</a> to add ARM CPU support for imgui-java.</p>\n<p>Your only solution is to probably incorporate the work currently having been done in that GitHub Pull Request and compile imgui-java locally yourself for your ARM CPU or wait until the PR is merged and a release of imgui-java ships with macOS ARM shared libraries.</p>\n"}],"owner":{"account_id":24042378,"reputation":23,"user_id":18021850,"display_name":"Spencer Dring"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3524,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71781569,"answer_count":1,"score":2,"last_activity_date":1657602715,"creation_date":1649157643,"question_id":71750854,"body_markdown":"Why am I receiving this error even though the file is clearly there and it could be read?\r\n\r\n![The Error](https://i.stack.imgur.com/T2HlC.png &quot;The error I get when running&quot;)\r\n\r\nMy project is using lwjgl and imgui-java. I have added -Dimgui.library.path=&quot;libs&quot; (where the .dylib in question is stored) to my VM options and the application should open, displaying the demo IMGUI.\r\n\r\nI have also posted my build.gradle file below:\r\n\r\n```\r\nplugins {\r\n    id &#39;java&#39;\r\n}\r\n\r\ngroup &#39;org.tpsgames&#39;\r\nversion &#39;1.0-SNAPSHOT&#39;\r\n\r\nrepositories {\r\n    mavenCentral()\r\n    flatDir {\r\n        dirs &#39;libs&#39;\r\n    }\r\n}\r\n\r\ndependencies {\r\n    testImplementation &#39;org.junit.jupiter:junit-jupiter-api:5.8.2&#39;\r\n    testRuntimeOnly &#39;org.junit.jupiter:junit-jupiter-engine:5.8.2&#39;\r\n}\r\n\r\nimport org.gradle.internal.os.OperatingSystem\r\n\r\nproject.ext.lwjglVersion = &quot;3.3.1&quot;\r\nproject.ext.jomlVersion = &quot;1.10.4&quot;\r\nproject.ext.imguiVersion = &#39;1.86.4&#39;\r\nproject.ext.lwjglNatives = &quot;natives-macos&quot;\r\n\r\nswitch (OperatingSystem.current()) {\r\n    case OperatingSystem.MAC_OS:\r\n        project.ext.lwjglNatives = System.getProperty(&quot;os.arch&quot;).startsWith(&quot;aarch64&quot;) ? &quot;natives-macos-arm64&quot; : &quot;natives-macos&quot;\r\n        break\r\n}\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    implementation platform(&quot;org.lwjgl:lwjgl-bom:$lwjglVersion&quot;)\r\n    implementation &quot;io.github.spair:imgui-java-app:1.86.4&quot;\r\n    implementation platform(&quot;org.lwjgl:lwjgl-bom:$lwjglVersion&quot;)\r\n    implementation fileTree(&#39;libs&#39;) {include &#39;*.jar&#39;}\r\n    [&#39;&#39;, &#39;-opengl&#39;, &#39;-glfw&#39;].each {\r\n        implementation &quot;org.lwjgl:lwjgl$it:$lwjglVersion&quot;\r\n        implementation &quot;org.lwjgl:lwjgl$it::natives-macos&quot;\r\n    }\r\n    implementation &quot;io.github.spair:imgui-java-binding:1.86.4&quot;\r\n    implementation &quot;io.github.spair:imgui-java-lwjgl3:1.86.4&quot;\r\n    implementation &quot;io.github.spair:imgui-java-natives-macos:1.86.4&quot;\r\n    implementation &quot;org.lwjgl:lwjgl&quot;\r\n    implementation &quot;org.lwjgl:lwjgl-assimp&quot;\r\n    implementation &quot;org.lwjgl:lwjgl-glfw&quot;\r\n    implementation &quot;org.lwjgl:lwjgl-nfd&quot;\r\n    implementation &quot;org.lwjgl:lwjgl-openal&quot;\r\n    implementation &quot;org.lwjgl:lwjgl-opengl&quot;\r\n    implementation &quot;org.lwjgl:lwjgl-stb&quot;\r\n    runtimeOnly &quot;org.lwjgl:lwjgl::$lwjglNatives&quot;\r\n    runtimeOnly &quot;org.lwjgl:lwjgl-assimp::$lwjglNatives&quot;\r\n    runtimeOnly &quot;org.lwjgl:lwjgl-glfw::$lwjglNatives&quot;\r\n    runtimeOnly &quot;org.lwjgl:lwjgl-nfd::$lwjglNatives&quot;\r\n    runtimeOnly &quot;org.lwjgl:lwjgl-openal::$lwjglNatives&quot;\r\n    runtimeOnly &quot;org.lwjgl:lwjgl-opengl::$lwjglNatives&quot;\r\n    runtimeOnly &quot;org.lwjgl:lwjgl-stb::$lwjglNatives&quot;\r\n    implementation &quot;org.joml:joml:1.10.4&quot;\r\n}\r\n\r\ntest {\r\n    useJUnitPlatform()\r\n}\r\n```","title":"Why do I recieve error &#39;java.lang.UnsatisfiedLinkError: Can&#39;t load library&#39; when the file can be found?","body":"<p>Why am I receiving this error even though the file is clearly there and it could be read?</p>\n<p><img src=\"https://i.stack.imgur.com/T2HlC.png\" alt=\"The Error\" title=\"The error I get when running\" /></p>\n<p>My project is using lwjgl and imgui-java. I have added -Dimgui.library.path=&quot;libs&quot; (where the .dylib in question is stored) to my VM options and the application should open, displaying the demo IMGUI.</p>\n<p>I have also posted my build.gradle file below:</p>\n<pre><code>plugins {\n    id 'java'\n}\n\ngroup 'org.tpsgames'\nversion '1.0-SNAPSHOT'\n\nrepositories {\n    mavenCentral()\n    flatDir {\n        dirs 'libs'\n    }\n}\n\ndependencies {\n    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.8.2'\n    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.8.2'\n}\n\nimport org.gradle.internal.os.OperatingSystem\n\nproject.ext.lwjglVersion = &quot;3.3.1&quot;\nproject.ext.jomlVersion = &quot;1.10.4&quot;\nproject.ext.imguiVersion = '1.86.4'\nproject.ext.lwjglNatives = &quot;natives-macos&quot;\n\nswitch (OperatingSystem.current()) {\n    case OperatingSystem.MAC_OS:\n        project.ext.lwjglNatives = System.getProperty(&quot;os.arch&quot;).startsWith(&quot;aarch64&quot;) ? &quot;natives-macos-arm64&quot; : &quot;natives-macos&quot;\n        break\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation platform(&quot;org.lwjgl:lwjgl-bom:$lwjglVersion&quot;)\n    implementation &quot;io.github.spair:imgui-java-app:1.86.4&quot;\n    implementation platform(&quot;org.lwjgl:lwjgl-bom:$lwjglVersion&quot;)\n    implementation fileTree('libs') {include '*.jar'}\n    ['', '-opengl', '-glfw'].each {\n        implementation &quot;org.lwjgl:lwjgl$it:$lwjglVersion&quot;\n        implementation &quot;org.lwjgl:lwjgl$it::natives-macos&quot;\n    }\n    implementation &quot;io.github.spair:imgui-java-binding:1.86.4&quot;\n    implementation &quot;io.github.spair:imgui-java-lwjgl3:1.86.4&quot;\n    implementation &quot;io.github.spair:imgui-java-natives-macos:1.86.4&quot;\n    implementation &quot;org.lwjgl:lwjgl&quot;\n    implementation &quot;org.lwjgl:lwjgl-assimp&quot;\n    implementation &quot;org.lwjgl:lwjgl-glfw&quot;\n    implementation &quot;org.lwjgl:lwjgl-nfd&quot;\n    implementation &quot;org.lwjgl:lwjgl-openal&quot;\n    implementation &quot;org.lwjgl:lwjgl-opengl&quot;\n    implementation &quot;org.lwjgl:lwjgl-stb&quot;\n    runtimeOnly &quot;org.lwjgl:lwjgl::$lwjglNatives&quot;\n    runtimeOnly &quot;org.lwjgl:lwjgl-assimp::$lwjglNatives&quot;\n    runtimeOnly &quot;org.lwjgl:lwjgl-glfw::$lwjglNatives&quot;\n    runtimeOnly &quot;org.lwjgl:lwjgl-nfd::$lwjglNatives&quot;\n    runtimeOnly &quot;org.lwjgl:lwjgl-openal::$lwjglNatives&quot;\n    runtimeOnly &quot;org.lwjgl:lwjgl-opengl::$lwjglNatives&quot;\n    runtimeOnly &quot;org.lwjgl:lwjgl-stb::$lwjglNatives&quot;\n    implementation &quot;org.joml:joml:1.10.4&quot;\n}\n\ntest {\n    useJUnitPlatform()\n}\n</code></pre>\n"},{"tags":["java","junit","mockito"],"comments":[{"owner":{"account_id":17492398,"reputation":929,"user_id":12684279,"display_name":"Ruokki"},"score":0,"creation_date":1655723214,"post_id":72686095,"comment_id":128391577,"body_markdown":"Maybe you should implements equals in your class. \nThen you could use the matchers eq()","body":"Maybe you should implements equals in your class.  Then you could use the matchers eq()"},{"owner":{"account_id":4234690,"reputation":459,"user_id":3466192,"accept_rate":75,"display_name":"cagdasalagoz"},"score":0,"creation_date":1655724980,"post_id":72686095,"comment_id":128392215,"body_markdown":"@Ruokki Thank you for your advice however, I did not create these classes. They&#39;re generated from a WSDL, so I do not want to modify the generated classes.","body":"@Ruokki Thank you for your advice however, I did not create these classes. They&#39;re generated from a WSDL, so I do not want to modify the generated classes."}],"answers":[{"tags":[],"owner":{"account_id":12158674,"reputation":81,"user_id":8876886,"display_name":"HackerMan0"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657602494,"creation_date":1657602494,"answer_id":72947277,"question_id":72686095,"body_markdown":"To first directly answer the question: \r\nTo my knowledge `refEq` doesn&#39;t offer that capability.\r\n\r\n&gt; however I want to be sure same object is sent to the method.\r\n\r\nThat being said if this ^ is what your end goal is then I&#39;d just mock more openly with `any(User.class)` and then achieve that goal with specific assertions against the call value of `getLastLogin` using `verify`. I&#39;ve dealt with this issue before and this is how I got past it.\r\n\r\nYou can use `ArgumentCaptor` to extract the argument and then pick it apart asserting against however much or little you want against both the top level `User` and also any nested parts like `Address`.\r\n\r\n```java\r\nfinal ArgumentCaptor argumentCaptor = ArgumentCaptor.forClass(User.class);\r\nverify(userService).getLastLogin(argumentCaptor.capture());\r\nfinal User user = (User) argumentCaptor.getValue();\r\nfinal Address address = user.getAddress();\r\n// do whatever assertions you want\r\n```\r\n\r\n\r\nYou might be interested in `org.hamcrest.beans.SamePropertyValuesAs.samePropertyValuesAs`(http://hamcrest.org/JavaHamcrest/javadoc/1.3/org/hamcrest/beans/SamePropertyValuesAs.html) which will provide equivalent `refEq` behavior in assertions.\r\n\r\nAlso I might add that something I&#39;ve personally been practicing is trying to &quot;mock openly assert specifically&quot;. It tends to lead to less code mocking and makes it harder for a dev to accidentally mess up a test where they might change something which wouldn&#39;t affect the asserted end value.","title":"Mockito ArgumentMatchers.refEq Exclude Nested Field","body":"<p>To first directly answer the question:\nTo my knowledge <code>refEq</code> doesn't offer that capability.</p>\n<blockquote>\n<p>however I want to be sure same object is sent to the method.</p>\n</blockquote>\n<p>That being said if this ^ is what your end goal is then I'd just mock more openly with <code>any(User.class)</code> and then achieve that goal with specific assertions against the call value of <code>getLastLogin</code> using <code>verify</code>. I've dealt with this issue before and this is how I got past it.</p>\n<p>You can use <code>ArgumentCaptor</code> to extract the argument and then pick it apart asserting against however much or little you want against both the top level <code>User</code> and also any nested parts like <code>Address</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>final ArgumentCaptor argumentCaptor = ArgumentCaptor.forClass(User.class);\nverify(userService).getLastLogin(argumentCaptor.capture());\nfinal User user = (User) argumentCaptor.getValue();\nfinal Address address = user.getAddress();\n// do whatever assertions you want\n</code></pre>\n<p>You might be interested in <code>org.hamcrest.beans.SamePropertyValuesAs.samePropertyValuesAs</code>(<a href=\"http://hamcrest.org/JavaHamcrest/javadoc/1.3/org/hamcrest/beans/SamePropertyValuesAs.html\" rel=\"nofollow noreferrer\">http://hamcrest.org/JavaHamcrest/javadoc/1.3/org/hamcrest/beans/SamePropertyValuesAs.html</a>) which will provide equivalent <code>refEq</code> behavior in assertions.</p>\n<p>Also I might add that something I've personally been practicing is trying to &quot;mock openly assert specifically&quot;. It tends to lead to less code mocking and makes it harder for a dev to accidentally mess up a test where they might change something which wouldn't affect the asserted end value.</p>\n"}],"owner":{"account_id":4234690,"reputation":459,"user_id":3466192,"accept_rate":75,"display_name":"cagdasalagoz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1224,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657602494,"creation_date":1655722880,"question_id":72686095,"body_markdown":"I am trying to exclude a nested field for my `doReturn().when()` statement.\r\n\r\nConsider two classes like these:\r\n\r\n```\r\nclass User {\r\n\tprivate String name;\r\n\tprivate String lastName;\r\n\tprivate Address address;\r\n}\r\n\r\nclass Address {\r\n\tprivate City city;\r\n\tprivate String street;\r\n}\r\n\r\nclass City {\r\n    private String state;\r\n    private String mayor;\r\n}\r\n\r\n```\r\n\r\nI am trying to write some unit tests and I need to mock the method that takes a `User` instance as a parameter.\r\n\r\n```\r\nprivate LocalDateTime getLastLogin(User user){\r\n//whatever...\r\n}\r\n```\r\n\r\nI can mock this method by passing `any()` for the `User` parameter however I want to be sure same object is sent to the method.\r\n\r\nThis method does not accept the parameter as the same even though all the properties are same.\r\n\r\n```\r\ndoReturn(time).when(userService).getLastLogin(ArgumentMatchers.refEq(user));\r\n```\r\n\r\nHowever If i exclude the Address than it works perfectly fine.\r\n```\r\ndoReturn(time).when(userService).getLastLogin(ArgumentMatchers.refEq(user,&quot;address&quot;));\r\n```\r\n\r\nBut I don&#39;t want to exclude the `address` even if I have to exclude something I want to exclude `city`.\r\n\r\nI&#39;ve tried a notation similar to the Lombok but it doesn&#39;t work.\r\n```\r\ndoReturn(time).when(userService).getLastLogin(ArgumentMatchers.refEq(user,&quot;address.city&quot;));\r\n```\r\n\r\nIs there any way to exclude an nested field with mockito argument matchers ?\r\n","title":"Mockito ArgumentMatchers.refEq Exclude Nested Field","body":"<p>I am trying to exclude a nested field for my <code>doReturn().when()</code> statement.</p>\n<p>Consider two classes like these:</p>\n<pre><code>class User {\n    private String name;\n    private String lastName;\n    private Address address;\n}\n\nclass Address {\n    private City city;\n    private String street;\n}\n\nclass City {\n    private String state;\n    private String mayor;\n}\n\n</code></pre>\n<p>I am trying to write some unit tests and I need to mock the method that takes a <code>User</code> instance as a parameter.</p>\n<pre><code>private LocalDateTime getLastLogin(User user){\n//whatever...\n}\n</code></pre>\n<p>I can mock this method by passing <code>any()</code> for the <code>User</code> parameter however I want to be sure same object is sent to the method.</p>\n<p>This method does not accept the parameter as the same even though all the properties are same.</p>\n<pre><code>doReturn(time).when(userService).getLastLogin(ArgumentMatchers.refEq(user));\n</code></pre>\n<p>However If i exclude the Address than it works perfectly fine.</p>\n<pre><code>doReturn(time).when(userService).getLastLogin(ArgumentMatchers.refEq(user,&quot;address&quot;));\n</code></pre>\n<p>But I don't want to exclude the <code>address</code> even if I have to exclude something I want to exclude <code>city</code>.</p>\n<p>I've tried a notation similar to the Lombok but it doesn't work.</p>\n<pre><code>doReturn(time).when(userService).getLastLogin(ArgumentMatchers.refEq(user,&quot;address.city&quot;));\n</code></pre>\n<p>Is there any way to exclude an nested field with mockito argument matchers ?</p>\n"},{"tags":["java","junit","mockito"],"answers":[{"tags":[],"owner":{"account_id":12158674,"reputation":81,"user_id":8876886,"display_name":"HackerMan0"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1657601538,"creation_date":1657601538,"answer_id":72947186,"question_id":72782409,"body_markdown":"```java\r\nMockito.when(processor.getS3Build()).thenReturn(s3);\r\n\r\nMockito.when(s3.listObjectsV2(anyString(), anyString())).thenReturn(listObjectsV2Result);\r\n```\r\n\r\nAt least the way you&#39;re showing it here the issue is that your test subject (`processor`) seems to be an already constructed Object. Setting the `Amazon s3` member variable inline like that will cause that line of code to execute as soon as the Object is constructed.\r\n\r\nSo by the time you&#39;re mocking `getS3Build` it&#39;s already been called.\r\n\r\nThere are several different ways to reorganize your code to change this up to make it more testable:\r\n - you could make the `Amazon s3` variable initialized after Object construction with an explicit `initialize` method\r\n - you could use Inversion of Control to inject the `Amazon s3` variable into the `Processor.class`\r\n - you could use reflection or a explicit setter method to give you the flexibility to change the `Amazon s3` member variable after Object construction\r\n\r\n# Helpful References\r\n- IoC explained: https://stackoverflow.com/a/3140/8876886","title":"Unable to mock AmazonS3 instance in Java","body":"<pre class=\"lang-java prettyprint-override\"><code>Mockito.when(processor.getS3Build()).thenReturn(s3);\n\nMockito.when(s3.listObjectsV2(anyString(), anyString())).thenReturn(listObjectsV2Result);\n</code></pre>\n<p>At least the way you're showing it here the issue is that your test subject (<code>processor</code>) seems to be an already constructed Object. Setting the <code>Amazon s3</code> member variable inline like that will cause that line of code to execute as soon as the Object is constructed.</p>\n<p>So by the time you're mocking <code>getS3Build</code> it's already been called.</p>\n<p>There are several different ways to reorganize your code to change this up to make it more testable:</p>\n<ul>\n<li>you could make the <code>Amazon s3</code> variable initialized after Object construction with an explicit <code>initialize</code> method</li>\n<li>you could use Inversion of Control to inject the <code>Amazon s3</code> variable into the <code>Processor.class</code></li>\n<li>you could use reflection or a explicit setter method to give you the flexibility to change the <code>Amazon s3</code> member variable after Object construction</li>\n</ul>\n<h1>Helpful References</h1>\n<ul>\n<li>IoC explained: <a href=\"https://stackoverflow.com/a/3140/8876886\">https://stackoverflow.com/a/3140/8876886</a></li>\n</ul>\n"}],"owner":{"account_id":15267555,"reputation":21,"user_id":11015663,"display_name":"Vishal Sain"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":616,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72947186,"answer_count":1,"score":0,"last_activity_date":1657601538,"creation_date":1656401714,"question_id":72782409,"body_markdown":"I have been trying to test my code which internally calls Amazons3.listObjects(), but i am struggling with mocking the Amazons3 class. Can some one please let me know the right way to do it?\r\n\r\nhere is the code\r\nProcessor.class\r\n\r\n     AmazonS3 s3 = getS3Build();\r\n    \r\n     final List&lt;String&gt; flagFiles = s3.listObjectsV2(dataBucket, flagFolder)\r\n\r\n \r\n    public AmazonS3 getS3Build() {\r\n        return AmazonS3ClientBuilder.standard().withRegion(US_EAST_1).build();\r\n      }\r\n\r\nTest.class\r\n    \r\n    Mockito.when(processor.getS3Build()).thenReturn(s3);\r\n    \r\n    Mockito.when(s3.listObjectsV2(anyString(), anyString())).thenReturn(listObjectsV2Result);\r\n\r\nError occuring at s3.listObjectsV2\r\n\r\n    Access Denied (Service: Amazon S3; Status Code: 403; Error Code: AccessDenied;\r\n\r\nI don&#39;t understand why its trying to call the actual listObjectsV2 when i have already mocked the class.\r\n\r\nThanks for the help :) \r\n","title":"Unable to mock AmazonS3 instance in Java","body":"<p>I have been trying to test my code which internally calls Amazons3.listObjects(), but i am struggling with mocking the Amazons3 class. Can some one please let me know the right way to do it?</p>\n<p>here is the code\nProcessor.class</p>\n<pre><code> AmazonS3 s3 = getS3Build();\n\n final List&lt;String&gt; flagFiles = s3.listObjectsV2(dataBucket, flagFolder)\n\n\npublic AmazonS3 getS3Build() {\n    return AmazonS3ClientBuilder.standard().withRegion(US_EAST_1).build();\n  }\n</code></pre>\n<p>Test.class</p>\n<pre><code>Mockito.when(processor.getS3Build()).thenReturn(s3);\n\nMockito.when(s3.listObjectsV2(anyString(), anyString())).thenReturn(listObjectsV2Result);\n</code></pre>\n<p>Error occuring at s3.listObjectsV2</p>\n<pre><code>Access Denied (Service: Amazon S3; Status Code: 403; Error Code: AccessDenied;\n</code></pre>\n<p>I don't understand why its trying to call the actual listObjectsV2 when i have already mocked the class.</p>\n<p>Thanks for the help :)</p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":4,"creation_date":1434911663,"post_id":30964133,"comment_id":49967403,"body_markdown":"This may be a useful exercise in learning how to synchronize threads, but it is a _bad example_ of how threads are meant to be used.  Whenever a program needs a number of operations to be performed in some particular order, the best way to do it is to have _one_ thread that does the things in that order.  When your program makes _effective use_ of threads, there will be things happening where the program can not know and does not care about the order in which they happen.","body":"This may be a useful exercise in learning how to synchronize threads, but it is a <i>bad example</i> of how threads are meant to be used.  Whenever a program needs a number of operations to be performed in some particular order, the best way to do it is to have <i>one</i> thread that does the things in that order.  When your program makes <i>effective use</i> of threads, there will be things happening where the program can not know and does not care about the order in which they happen."},{"owner":{"account_id":4661376,"reputation":325,"user_id":3775565,"accept_rate":42,"display_name":"melwin_jose"},"score":0,"creation_date":1488783321,"post_id":30964133,"comment_id":72367077,"body_markdown":"will using ReentrantLock have any advantage over synchronized in this scenario ?","body":"will using ReentrantLock have any advantage over synchronized in this scenario ?"},{"owner":{"account_id":1257650,"reputation":23479,"user_id":1216775,"accept_rate":54,"display_name":"akhil_mittal"},"score":0,"creation_date":1538976172,"post_id":30964133,"comment_id":92317980,"body_markdown":"Generic solution for n threads : https://stackoverflow.com/a/49714113/1216775","body":"Generic solution for n threads : <a href=\"https://stackoverflow.com/a/49714113/1216775\">stackoverflow.com/a/49714113/1216775</a>"}],"answers":[{"tags":[],"owner":{"account_id":1149899,"reputation":4675,"user_id":1131829,"accept_rate":60,"display_name":"sodik"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1434887528,"creation_date":1434887528,"answer_id":30964207,"question_id":30964133,"body_markdown":"Well, the problem is that modulo `3 % 3` is `0`. Change your `threadId`s to `0..2` instead of `1..3` and hopefully it should work.","title":"3 Threads Printing numbers in sequence","body":"<p>Well, the problem is that modulo <code>3 % 3</code> is <code>0</code>. Change your <code>threadId</code>s to <code>0..2</code> instead of <code>1..3</code> and hopefully it should work.</p>\n"},{"tags":[],"owner":{"account_id":9010058,"reputation":531,"user_id":6715089,"accept_rate":71,"display_name":"RoyalTiger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1473090515,"creation_date":1473090515,"answer_id":39334003,"question_id":30964133,"body_markdown":"        package com.sourav.mock.Thread;\r\n        \r\n        import java.util.concurrent.atomic.AtomicInteger;\r\n        \r\n        public class ThreeThreadComunication implements Runnable {\r\n        \tAtomicInteger counter;\r\n        \tint[] array;\r\n        \tstatic final Object mutex = new Object();\r\n        \t\r\n        \tpublic ThreeThreadComunication(int[] array, AtomicInteger counter){\r\n        \t\tthis.counter = counter;\r\n        \t\tthis.array = array;\r\n        \t}\r\n        \r\n        \t@Override\r\n        \tpublic void run() {\r\n        \t\tint i = 0;\r\n        \t\twhile(i &lt; array.length){\r\n        \t\t\tsynchronized(mutex){\r\n        \t\t\t\tif(Integer.parseInt(Thread.currentThread().getName()) == counter.get()){\r\n        \t\t\t\t\tSystem.out.println(array[i]);\r\n        \t\t\t\t\tif(counter.get() == 3){\r\n        \t\t\t\t\t\tcounter.getAndSet(1);\r\n        \t\t\t\t\t}else{\r\n        \t\t\t\t\t\tint c = counter.get();\r\n        \t\t\t\t\t\tcounter.getAndSet(++c);\r\n        \t\t\t\t\t}\r\n        \t\t\t\t\ti++;\r\n        \t\t\t\t}\r\n        \r\n        \t\t\t\tmutex.notifyAll();\r\n        \t\t\t\ttry {\r\n        \t\t\t\t\tmutex.wait();\r\n        \t\t\t\t} catch (InterruptedException e) {\r\n        \t\t\t\t\te.printStackTrace();\r\n        \t\t\t\t}\r\n        \t\t\t}\r\n        \t\t}\r\n        \t}\r\n        }\r\n    \r\n    package com.sourav.mock.Thread;\r\n    \r\n    import java.util.concurrent.atomic.AtomicInteger;\r\n    \r\n    public class ThreeThreadComunicationTest {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n    \t\tAtomicInteger counter = new AtomicInteger(1);\r\n    \t\tint[] array1 = new int[]{1, 4, 7};\r\n    \t\tint[] array2 = new int[]{2, 5, 8};\r\n    \t\tint[] array3 = new int[]{3, 6, 9};\r\n    \t\t\r\n    \t\tThreeThreadComunication obj1 = new ThreeThreadComunication(array1, counter);\r\n    \t\tThreeThreadComunication obj2 = new ThreeThreadComunication(array2, counter);\r\n    \t\tThreeThreadComunication obj3 = new ThreeThreadComunication(array3, counter);\r\n    \t\t\r\n    \t\tThread t1 = new Thread(obj1, &quot;1&quot;);\r\n    \t\tThread t2 = new Thread(obj2, &quot;2&quot;);\r\n    \t\tThread t3 = new Thread(obj3, &quot;3&quot;);\r\n    \t\t\r\n    \t\tt1.start();\r\n    \t\tt2.start();\r\n    \t\tt3.start();\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n","title":"3 Threads Printing numbers in sequence","body":"<pre><code>    package com.sourav.mock.Thread;\n\n    import java.util.concurrent.atomic.AtomicInteger;\n\n    public class ThreeThreadComunication implements Runnable {\n        AtomicInteger counter;\n        int[] array;\n        static final Object mutex = new Object();\n\n        public ThreeThreadComunication(int[] array, AtomicInteger counter){\n            this.counter = counter;\n            this.array = array;\n        }\n\n        @Override\n        public void run() {\n            int i = 0;\n            while(i &lt; array.length){\n                synchronized(mutex){\n                    if(Integer.parseInt(Thread.currentThread().getName()) == counter.get()){\n                        System.out.println(array[i]);\n                        if(counter.get() == 3){\n                            counter.getAndSet(1);\n                        }else{\n                            int c = counter.get();\n                            counter.getAndSet(++c);\n                        }\n                        i++;\n                    }\n\n                    mutex.notifyAll();\n                    try {\n                        mutex.wait();\n                    } catch (InterruptedException e) {\n                        e.printStackTrace();\n                    }\n                }\n            }\n        }\n    }\n\npackage com.sourav.mock.Thread;\n\nimport java.util.concurrent.atomic.AtomicInteger;\n\npublic class ThreeThreadComunicationTest {\n\n    public static void main(String[] args) {\n\n        AtomicInteger counter = new AtomicInteger(1);\n        int[] array1 = new int[]{1, 4, 7};\n        int[] array2 = new int[]{2, 5, 8};\n        int[] array3 = new int[]{3, 6, 9};\n\n        ThreeThreadComunication obj1 = new ThreeThreadComunication(array1, counter);\n        ThreeThreadComunication obj2 = new ThreeThreadComunication(array2, counter);\n        ThreeThreadComunication obj3 = new ThreeThreadComunication(array3, counter);\n\n        Thread t1 = new Thread(obj1, \"1\");\n        Thread t2 = new Thread(obj2, \"2\");\n        Thread t3 = new Thread(obj3, \"3\");\n\n        t1.start();\n        t2.start();\n        t3.start();\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1768185,"reputation":1,"user_id":1613533,"display_name":"user1613533"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1480967669,"creation_date":1480964414,"answer_id":40981400,"question_id":30964133,"body_markdown":"    public class ThreadTask implements Runnable {\r\n\r\n      private int counter; \r\n\t  private int threadID;\r\n\t  private final Object lock;\r\n\t  private int prev;\r\n\t  public ThreadTask(Object obj, int threadid, int counter){\r\n\t\t  this.lock = obj; // monitor\r\n\t\t  this.threadID = threadid; //id of thread  \r\n\t\t  this.counter = counter;\r\n\t\t  this.prev =threadid + 1;\r\n\t  }\r\n\t \r\n\t  public void run(){\r\n\t\t  while(counter&lt;100){\r\n\t\t\tsynchronized(lock){ \r\n\t\t\t\tif(counter == this.prev &amp;&amp; this.threadID % 3 == this.threadID){\r\n\t\t\t\t\tSystem.out.println(&quot;T&quot; + this.threadID + &quot; = &quot; + this.prev);\r\n\t\t\t\t\tthis.prev = this.prev + 3;\r\n\t\t\t\t}\r\n\t\t\t\tcounter++;\r\n\t\t\t\tlock.notifyAll();\r\n\t\t\t\ttry{\r\n\t\t\t\t\tlock.wait();\r\n\t\t\t\t}catch(Exception e){\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t  }\r\n\t   }\r\n    }\r\n\r\n    public class ThreadMain {\r\n    \t\r\n        static volatile int counter = 1;\r\n        public static void main(String args[]) throws InterruptedException{\r\n    \t   \r\n    \t   final Object lock = new Object();\r\n    \t   ThreadTask first = new ThreadTask(lock, 0, counter);\r\n    \t   ThreadTask second = new ThreadTask(lock, 1, counter);\r\n    \t   ThreadTask third = new ThreadTask(lock, 2, counter);\r\n    \t   Thread t1 = new Thread(first, &quot;first&quot;);\r\n    \t   Thread t2 = new Thread(second, &quot;second&quot;);\r\n    \t   Thread t3 = new Thread(third, &quot;third&quot;);\r\n    \t   t1.start();\r\n    \t   t2.start();\r\n    \t   t3.start();\r\n    \t   t1.join();\r\n    \t   t2.join();\r\n    \t   t3.join();\r\n       }\r\n    }","title":"3 Threads Printing numbers in sequence","body":"<pre><code>public class ThreadTask implements Runnable {\n\n  private int counter; \n  private int threadID;\n  private final Object lock;\n  private int prev;\n  public ThreadTask(Object obj, int threadid, int counter){\n      this.lock = obj; // monitor\n      this.threadID = threadid; //id of thread  \n      this.counter = counter;\n      this.prev =threadid + 1;\n  }\n\n  public void run(){\n      while(counter&lt;100){\n        synchronized(lock){ \n            if(counter == this.prev &amp;&amp; this.threadID % 3 == this.threadID){\n                System.out.println(\"T\" + this.threadID + \" = \" + this.prev);\n                this.prev = this.prev + 3;\n            }\n            counter++;\n            lock.notifyAll();\n            try{\n                lock.wait();\n            }catch(Exception e){\n                e.printStackTrace();\n            }\n        }\n      }\n   }\n}\n\npublic class ThreadMain {\n\n    static volatile int counter = 1;\n    public static void main(String args[]) throws InterruptedException{\n\n       final Object lock = new Object();\n       ThreadTask first = new ThreadTask(lock, 0, counter);\n       ThreadTask second = new ThreadTask(lock, 1, counter);\n       ThreadTask third = new ThreadTask(lock, 2, counter);\n       Thread t1 = new Thread(first, \"first\");\n       Thread t2 = new Thread(second, \"second\");\n       Thread t3 = new Thread(third, \"third\");\n       t1.start();\n       t2.start();\n       t3.start();\n       t1.join();\n       t2.join();\n       t3.join();\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9791363,"reputation":1,"user_id":7255854,"display_name":"Avdesh Sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1481012698,"creation_date":1481010719,"answer_id":40990341,"question_id":30964133,"body_markdown":"    public class EvenOdd1 {\r\n    \t//public static String str =&quot;str1&quot;;\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\tEvenOdd1 edd1 = new EvenOdd1();\r\n    \t\t\r\n    \t\tAbThread tr2 = new AbThread(0,edd1);\r\n    \t\tAbThread tr3 = new AbThread(1,edd1);\r\n    \t\tAbThread tr4 = new AbThread(2,edd1);\r\n    \t\ttr2.start();\r\n    \t\ttr3.start();\r\n    \t\ttr4.start();\r\n    \t}\r\n    }\r\n    class AbThread extends Thread {\r\n    \r\n    \t\tint mod;\r\n    \t\tint mod_count=1;\r\n    \t\tEvenOdd1 edd1;\r\n    \t\tpublic static int count=1;\r\n    \t\tint num_thread=3;\r\n    \t\r\n    \t\tpublic AbThread(int mod,EvenOdd1 edd1){\r\n    \t\t\tthis.mod = mod;\r\n    \t\t\tthis.edd1 = edd1;\r\n    \t\t\r\n    \t\t}\r\n    \t\t\r\n    \tpublic void run()\r\n    \t{\r\n    \t\tsynchronized(edd1)\r\n    \t\t{\r\n    \t\t\ttry{\r\n    \t\t\twhile(true){\r\n    \t\t\t\twhile(count%num_thread!=mod)\r\n    \t\t\t\t\tedd1.wait();\r\n    \t\t\t\t\r\n    \t\t\t\tif(count==30)\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\t\r\n    \t\t\t\t\tprint();\r\n    \t\t\t\t  edd1.wait();\r\n    \t\t\t}\r\n    \t\t\t}\r\n    \t\t\tcatch (InterruptedException e) {\r\n    \t\t\t\t// TODO Auto-generated catch block\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    \r\n    \t\r\n    \tpublic void print()\r\n    \t{\r\n    \t\tint val = mod==1?2*mod_count:(mod==2?3*mod_count:4*mod_count);\r\n    \t\tSystem.out.println(Thread.currentThread().getName() + &quot; : &quot; + val);\r\n    \t\tedd1.notifyAll();\r\n    \t\tcount=count+1;\r\n    \t\tthis.mod_count++ ;\r\n    \t\t\r\n    \t}\r\n    \r\n    \r\n    }\r\n\r\n","title":"3 Threads Printing numbers in sequence","body":"<pre><code>public class EvenOdd1 {\n    //public static String str =\"str1\";\n\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n        EvenOdd1 edd1 = new EvenOdd1();\n\n        AbThread tr2 = new AbThread(0,edd1);\n        AbThread tr3 = new AbThread(1,edd1);\n        AbThread tr4 = new AbThread(2,edd1);\n        tr2.start();\n        tr3.start();\n        tr4.start();\n    }\n}\nclass AbThread extends Thread {\n\n        int mod;\n        int mod_count=1;\n        EvenOdd1 edd1;\n        public static int count=1;\n        int num_thread=3;\n\n        public AbThread(int mod,EvenOdd1 edd1){\n            this.mod = mod;\n            this.edd1 = edd1;\n\n        }\n\n    public void run()\n    {\n        synchronized(edd1)\n        {\n            try{\n            while(true){\n                while(count%num_thread!=mod)\n                    edd1.wait();\n\n                if(count==30)\n                    break;\n\n                    print();\n                  edd1.wait();\n            }\n            }\n            catch (InterruptedException e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            }\n        }\n\n    }\n\n\n    public void print()\n    {\n        int val = mod==1?2*mod_count:(mod==2?3*mod_count:4*mod_count);\n        System.out.println(Thread.currentThread().getName() + \" : \" + val);\n        edd1.notifyAll();\n        count=count+1;\n        this.mod_count++ ;\n\n    }\n\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3907208,"reputation":21,"user_id":3233586,"display_name":"s-radix"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1484640317,"creation_date":1484550897,"answer_id":41671224,"question_id":30964133,"body_markdown":"Below code uses the logic of notifying the next thread to print the number and then incrementing it by 1 and then again notifying the next thread and then go in wait state till some thread notifies it.\r\nEg. T1 first prints the value and then makes boolean &quot;second&quot; true for T2 to print the next number. T2 after printing the number makes boolean &quot;third&quot; true for T3. T3 does the same thing by making boolean &quot;first&quot; true for T1 to print the next number.\r\n\r\nT1 -&gt; T2 -&gt; T3 -&gt; T1 -&gt; T2 -&gt; T3 -&gt; ........ and so on.\r\n\r\n                \r\n    public class Test{\r\n      public static volatile int i = 0;\r\n      public static void main(String[] args) throws InterruptedException {\r\n        Object monitor = new Object();\r\n        Notifier notifier = new Notifier(monitor);\r\n        Thread thread1 = new Thread(notifier, &quot;T1&quot;);\r\n        Thread thread2 = new Thread(notifier, &quot;T2&quot;);\r\n        Thread thread3 = new Thread(notifier, &quot;T3&quot;);\r\n        thread1.start();\r\n        thread2.start();\r\n        thread3.start();\r\n      }\r\n    }\r\n    \r\n    \r\n    \r\n    class Notifier implements Runnable {\r\n    \r\n      private Object monitor = null;\r\n      private static int i = 1;\r\n      private static boolean first = true;\r\n      private static boolean second = false;\r\n      private static boolean third = false;\r\n    \r\n      public Notifier(Object objcurr) {\r\n        this.monitor = objcurr;\r\n      }\r\n    \r\n      @Override\r\n      public void run() {\r\n        try {\r\n          while (true) {\r\n            synchronized (monitor) {\r\n              String Tname = Thread.currentThread().getName();\r\n              if (first &amp;&amp; Tname.equalsIgnoreCase(&quot;T1&quot;)) {\r\n                print();\r\n                first = false;\r\n                second = true;\r\n                monitor.notifyAll();\r\n                monitor.wait();\r\n              } else if (second &amp;&amp; Tname.equalsIgnoreCase(&quot;T2&quot;)) {\r\n                print();\r\n                second = false;\r\n                third = true;\r\n                monitor.notifyAll();\r\n                monitor.wait();\r\n              } else if (third &amp;&amp; Tname.equalsIgnoreCase(&quot;T3&quot;)) {\r\n                print();\r\n                third = false;\r\n                first = true;\r\n                monitor.notifyAll();\r\n                monitor.wait();\r\n              } else {\r\n                monitor.wait();\r\n              }\r\n            }\r\n            Thread.sleep(1000);\r\n          }\r\n        } catch (Exception e) {\r\n          e.printStackTrace();\r\n        }\r\n      }\r\n    \r\n      private void print() {\r\n        System.out.println(Thread.currentThread().getName() + &quot; - &quot; + Notifier.i++);\r\n      }\r\n\r\n","title":"3 Threads Printing numbers in sequence","body":"<p>Below code uses the logic of notifying the next thread to print the number and then incrementing it by 1 and then again notifying the next thread and then go in wait state till some thread notifies it.\nEg. T1 first prints the value and then makes boolean \"second\" true for T2 to print the next number. T2 after printing the number makes boolean \"third\" true for T3. T3 does the same thing by making boolean \"first\" true for T1 to print the next number.</p>\n\n<p>T1 -> T2 -> T3 -> T1 -> T2 -> T3 -> ........ and so on.</p>\n\n<pre><code>public class Test{\n  public static volatile int i = 0;\n  public static void main(String[] args) throws InterruptedException {\n    Object monitor = new Object();\n    Notifier notifier = new Notifier(monitor);\n    Thread thread1 = new Thread(notifier, \"T1\");\n    Thread thread2 = new Thread(notifier, \"T2\");\n    Thread thread3 = new Thread(notifier, \"T3\");\n    thread1.start();\n    thread2.start();\n    thread3.start();\n  }\n}\n\n\n\nclass Notifier implements Runnable {\n\n  private Object monitor = null;\n  private static int i = 1;\n  private static boolean first = true;\n  private static boolean second = false;\n  private static boolean third = false;\n\n  public Notifier(Object objcurr) {\n    this.monitor = objcurr;\n  }\n\n  @Override\n  public void run() {\n    try {\n      while (true) {\n        synchronized (monitor) {\n          String Tname = Thread.currentThread().getName();\n          if (first &amp;&amp; Tname.equalsIgnoreCase(\"T1\")) {\n            print();\n            first = false;\n            second = true;\n            monitor.notifyAll();\n            monitor.wait();\n          } else if (second &amp;&amp; Tname.equalsIgnoreCase(\"T2\")) {\n            print();\n            second = false;\n            third = true;\n            monitor.notifyAll();\n            monitor.wait();\n          } else if (third &amp;&amp; Tname.equalsIgnoreCase(\"T3\")) {\n            print();\n            third = false;\n            first = true;\n            monitor.notifyAll();\n            monitor.wait();\n          } else {\n            monitor.wait();\n          }\n        }\n        Thread.sleep(1000);\n      }\n    } catch (Exception e) {\n      e.printStackTrace();\n    }\n  }\n\n  private void print() {\n    System.out.println(Thread.currentThread().getName() + \" - \" + Notifier.i++);\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8751392,"reputation":487,"user_id":6544491,"display_name":"Harsh Maheswari"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1657601386,"creation_date":1488790202,"answer_id":42621178,"question_id":30964133,"body_markdown":"    package ThreadCoreConcepts;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    /**\r\n     * 3 Thread T1,T2,T3 will print output {1,2,3 4,5,6 7,8,9} Where T1 will print\r\n     * {1,4,7} , T2 will print { 2,5,8} and T3 will print {3,6,9}\r\n     * \r\n     * @author harsmahe\r\n     *\r\n     */\r\n    public class ThreeThreadSequenceGen {\r\n    \tprivate volatile static int value = 1;\r\n    \r\n    \tpublic static void main(String args[]) throws InterruptedException {\r\n    \t\tThreeThreadSequenceGen gen = new ThreeThreadSequenceGen();\r\n    \t\tObject mutex = new Object();\r\n    \t\tThread t1 = new Thread(gen.new RunThread(1, mutex));\r\n    \t\tt1.setName(&quot;1&quot;);\r\n    \t\tThread t2 = new Thread(gen.new RunThread(2, mutex));\r\n    \t\tt2.setName(&quot;2&quot;);\r\n    \t\tThread t3 = new Thread(gen.new RunThread(3, mutex));\r\n    \t\tt3.setName(&quot;3&quot;);\r\n    \t\tt1.start();\r\n    \t\tt2.start();\r\n    \t\tt3.start();\r\n    \r\n    \t}\r\n    \r\n    \tclass RunThread implements Runnable {\r\n    \t\tprivate int start = 0;\r\n    \t\tprivate Object mutex;\r\n    \t\tprivate List&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;();\r\n    \r\n    \t\tpublic RunThread(final int start, Object mutex) {\r\n    \t\t\t// TODO Auto-generated constructor stub\r\n    \t\t\tthis.start = start;\r\n    \t\t\tthis.mutex = mutex;\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic void run() {\r\n    \t\t\ttry {\r\n    \t\t\t\twhile (value &lt;= 9) {\r\n    \t\t\t\t\t// while (true) {\r\n    \t\t\t\t\t// TODO Auto-generated method stub\r\n    \t\t\t\t\tint name = Integer.valueOf(Thread.currentThread().getName());\r\n    \t\t\t\t\t// System.out.println(&quot;[&quot; + Thread.currentThread().getName()\r\n    \t\t\t\t\t// + &quot;]&quot;);\r\n    \t\t\t\t\t// notifyAll();\r\n    \r\n    \t\t\t\t\tsynchronized (mutex) {\r\n    \t\t\t\t\t\tif (name == 1 &amp;&amp; value == start) {\r\n    \t\t\t\t\t\t\tlist.add(value);\r\n    \t\t\t\t\t\t\tSystem.out.println(&quot;[&quot; + Thread.currentThread().getName() + &quot;]&quot; + value);\r\n    \t\t\t\t\t\t\tstart = start + 3;\r\n    \t\t\t\t\t\t\tvalue++;\r\n    \t\t\t\t\t\t\tmutex.notifyAll();\r\n    \t\t\t\t\t\t\tmutex.wait();\r\n    \t\t\t\t\t\t} else if (name == 2 &amp;&amp; value == start) {\r\n    \t\t\t\t\t\t\tSystem.out.println(&quot;[&quot; + Thread.currentThread().getName() + &quot;]&quot; + value);\r\n    \t\t\t\t\t\t\tlist.add(value);\r\n    \t\t\t\t\t\t\tstart = start + 3;\r\n    \t\t\t\t\t\t\tvalue++;\r\n    \t\t\t\t\t\t\tmutex.notifyAll();\r\n    \t\t\t\t\t\t\tmutex.wait();\r\n    \r\n    \t\t\t\t\t\t} else if (name == 3 &amp;&amp; value == start) {\r\n    \t\t\t\t\t\t\tSystem.out.println(&quot;[&quot; + Thread.currentThread().getName() + &quot;]&quot; + value);\r\n    \t\t\t\t\t\t\tlist.add(value);\r\n    \t\t\t\t\t\t\tstart = start + 3;\r\n    \t\t\t\t\t\t\tvalue++;\r\n    \t\t\t\t\t\t\tmutex.notifyAll();\r\n    \t\t\t\t\t\t\tif (value &lt; 9) {\r\n    \t\t\t\t\t\t\t\tmutex.wait();\r\n    \t\t\t\t\t\t\t}\r\n    \r\n    \t\t\t\t\t\t} else {\r\n    \t\t\t\t\t\t\tmutex.notifyAll();\r\n    \t\t\t\t\t\t\t// mutex.wait();\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t}\r\n    \r\n    \t\t\t\t}\r\n    \r\n    \t\t\t} catch (Exception e) {\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t} finally {\r\n    \t\t\t\t// System.out.println(list);\r\n    \t\t\t}\r\n    \r\n    \t\t}\r\n    \r\n    \t}\r\n    }","title":"3 Threads Printing numbers in sequence","body":"<pre><code>package ThreadCoreConcepts;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\n/**\n * 3 Thread T1,T2,T3 will print output {1,2,3 4,5,6 7,8,9} Where T1 will print\n * {1,4,7} , T2 will print { 2,5,8} and T3 will print {3,6,9}\n * \n * @author harsmahe\n *\n */\npublic class ThreeThreadSequenceGen {\n    private volatile static int value = 1;\n\n    public static void main(String args[]) throws InterruptedException {\n        ThreeThreadSequenceGen gen = new ThreeThreadSequenceGen();\n        Object mutex = new Object();\n        Thread t1 = new Thread(gen.new RunThread(1, mutex));\n        t1.setName(&quot;1&quot;);\n        Thread t2 = new Thread(gen.new RunThread(2, mutex));\n        t2.setName(&quot;2&quot;);\n        Thread t3 = new Thread(gen.new RunThread(3, mutex));\n        t3.setName(&quot;3&quot;);\n        t1.start();\n        t2.start();\n        t3.start();\n\n    }\n\n    class RunThread implements Runnable {\n        private int start = 0;\n        private Object mutex;\n        private List&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;();\n\n        public RunThread(final int start, Object mutex) {\n            // TODO Auto-generated constructor stub\n            this.start = start;\n            this.mutex = mutex;\n        }\n\n        @Override\n        public void run() {\n            try {\n                while (value &lt;= 9) {\n                    // while (true) {\n                    // TODO Auto-generated method stub\n                    int name = Integer.valueOf(Thread.currentThread().getName());\n                    // System.out.println(&quot;[&quot; + Thread.currentThread().getName()\n                    // + &quot;]&quot;);\n                    // notifyAll();\n\n                    synchronized (mutex) {\n                        if (name == 1 &amp;&amp; value == start) {\n                            list.add(value);\n                            System.out.println(&quot;[&quot; + Thread.currentThread().getName() + &quot;]&quot; + value);\n                            start = start + 3;\n                            value++;\n                            mutex.notifyAll();\n                            mutex.wait();\n                        } else if (name == 2 &amp;&amp; value == start) {\n                            System.out.println(&quot;[&quot; + Thread.currentThread().getName() + &quot;]&quot; + value);\n                            list.add(value);\n                            start = start + 3;\n                            value++;\n                            mutex.notifyAll();\n                            mutex.wait();\n\n                        } else if (name == 3 &amp;&amp; value == start) {\n                            System.out.println(&quot;[&quot; + Thread.currentThread().getName() + &quot;]&quot; + value);\n                            list.add(value);\n                            start = start + 3;\n                            value++;\n                            mutex.notifyAll();\n                            if (value &lt; 9) {\n                                mutex.wait();\n                            }\n\n                        } else {\n                            mutex.notifyAll();\n                            // mutex.wait();\n                        }\n                    }\n\n                }\n\n            } catch (Exception e) {\n                e.printStackTrace();\n            } finally {\n                // System.out.println(list);\n            }\n\n        }\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3329511,"reputation":53,"user_id":2798747,"display_name":"Gopi Krishna"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1494867671,"creation_date":1494867671,"answer_id":43985084,"question_id":30964133,"body_markdown":"  \r\n    public class PrintThreadsSequentially {\r\n\r\n    static int number = 1;\r\n    static final int PRINT_NUMBERS_UPTO = 20;\r\n    static Object lock = new Object();\r\n\r\n    static class SequentialThread extends Thread {\r\n        int remainder = 0;\r\n        int noOfThreads = 0;\r\n\r\n        public SequentialThread(String name, int remainder, int noOfThreads) {\r\n            super(name);\r\n            this.remainder = remainder;\r\n            this.noOfThreads = noOfThreads;\r\n        }\r\n\r\n        @Override\r\n        public void run() {\r\n            while (number &lt; PRINT_NUMBERS_UPTO) {\r\n                synchronized (lock) {\r\n                    while (number % noOfThreads != remainder) { // wait for numbers other than remainder\r\n                        try {\r\n                            lock.wait();\r\n                        } catch (InterruptedException e) {\r\n                            e.printStackTrace();\r\n                        }\r\n                    }\r\n                    System.out.println(getName() + &quot; value &quot; + number);\r\n                    number++;\r\n                    lock.notifyAll();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        SequentialThread first = new SequentialThread(&quot;First Thread&quot;, 0, 4);\r\n        SequentialThread second = new SequentialThread(&quot;Second Thread&quot;, 1, 4);\r\n        SequentialThread third = new SequentialThread(&quot;Third Thread&quot;, 2, 4);\r\n        SequentialThread fourth = new SequentialThread(&quot;Fourth Thread&quot;, 3, 4);\r\n        first.start();  second.start();   third.start();  fourth.start();\r\n    }\r\n}","title":"3 Threads Printing numbers in sequence","body":"<pre><code>public class PrintThreadsSequentially {\n\nstatic int number = 1;\nstatic final int PRINT_NUMBERS_UPTO = 20;\nstatic Object lock = new Object();\n\nstatic class SequentialThread extends Thread {\n    int remainder = 0;\n    int noOfThreads = 0;\n\n    public SequentialThread(String name, int remainder, int noOfThreads) {\n        super(name);\n        this.remainder = remainder;\n        this.noOfThreads = noOfThreads;\n    }\n\n    @Override\n    public void run() {\n        while (number &lt; PRINT_NUMBERS_UPTO) {\n            synchronized (lock) {\n                while (number % noOfThreads != remainder) { // wait for numbers other than remainder\n                    try {\n                        lock.wait();\n                    } catch (InterruptedException e) {\n                        e.printStackTrace();\n                    }\n                }\n                System.out.println(getName() + \" value \" + number);\n                number++;\n                lock.notifyAll();\n            }\n        }\n    }\n}\n\npublic static void main(String[] args) {\n    SequentialThread first = new SequentialThread(\"First Thread\", 0, 4);\n    SequentialThread second = new SequentialThread(\"Second Thread\", 1, 4);\n    SequentialThread third = new SequentialThread(\"Third Thread\", 2, 4);\n    SequentialThread fourth = new SequentialThread(\"Fourth Thread\", 3, 4);\n    first.start();  second.start();   third.start();  fourth.start();\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":3907208,"reputation":21,"user_id":3233586,"display_name":"s-radix"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1537783163,"creation_date":1497774011,"answer_id":44613050,"question_id":30964133,"body_markdown":"The ThreadSynchronization class can be used to print numbers between &#39;n&#39; no. of threads in sequence. \r\nThe logic is to create a common object between each of the consecutive threads and use &#39;wait&#39;, &#39;notify&#39; to print the numbers in sequence.\r\nNote: Last thread will share an object with the first thread.\r\n\r\nYou can change the &#39;maxThreads&#39; value to increase or decrease the number of thread in the program before running it. \r\n\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    public class ThreadSynchronization {\r\n    \r\n    \tpublic static int i = 1;\r\n    \tpublic static final int maxThreads = 10;\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tList&lt;Object&gt; list = new ArrayList&lt;&gt;();\r\n    \t\tfor (int i = 0; i &lt; maxThreads; i++) {\r\n    \t\t\tlist.add(new Object());\r\n    \t\t}\r\n    \t\tObject currObject = list.get(maxThreads - 1);\r\n    \t\tfor (int i = 0; i &lt; maxThreads; i++) {\r\n    \t\t\tObject nextObject = list.get(i);\r\n    \t\t\tRunnableClass1 a = new RunnableClass1(currObject, nextObject, i == 0 ? true : false);\r\n    \t\t\tThread th = new Thread(a);\r\n    \t\t\tth.setName(&quot;Thread - &quot; + (i + 1));\r\n    \t\t\tth.start();\r\n    \t\t\tcurrObject = list.get(i);\r\n    \t\t}\r\n    \t}\r\n    \r\n    }\r\n    \r\n    class RunnableClass implements Runnable {\r\n    \r\n    \tprivate Object currObject;\r\n    \tprivate Object nextObject;\r\n    \tprivate boolean firstThread;\r\n    \r\n    \tpublic RunnableClass(Object currObject, Object nextObject, boolean first) {\r\n    \t\tthis.currObject = currObject;\r\n    \t\tthis.nextObject = nextObject;\r\n    \t\tthis.firstThread = first;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void run() {\r\n    \t\tint i = 0;\r\n    \t\ttry {\r\n    \t\t\tif (firstThread) {\r\n    \t\t\t\tThread.sleep(5000);\r\n    \t\t\t\tfirstThread = false;\r\n    \t\t\t\tSystem.out.println(Thread.currentThread().getName() + &quot; - &quot; + ThreadSynchronization.i++);\r\n    \t\t\t\tsynchronized (nextObject) {\r\n    \t\t\t\t\tnextObject.notify();\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\twhile (i++ &lt; Integer.MAX_VALUE) {\r\n    \t\t\t\tsynchronized (currObject) {\r\n    \t\t\t\t\tcurrObject.wait();\r\n    \t\t\t\t}\r\n    \t\t\t\tSystem.out.println(Thread.currentThread().getName() + &quot; - &quot; + ThreadSynchronization.i++);\r\n    \t\t\t\tThread.sleep(1000);\r\n    \t\t\t\tsynchronized (nextObject) {\r\n    \t\t\t\t\tnextObject.notify();\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t} catch (Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n\r\n","title":"3 Threads Printing numbers in sequence","body":"<p>The ThreadSynchronization class can be used to print numbers between 'n' no. of threads in sequence. \nThe logic is to create a common object between each of the consecutive threads and use 'wait', 'notify' to print the numbers in sequence.\nNote: Last thread will share an object with the first thread.</p>\n\n<p>You can change the 'maxThreads' value to increase or decrease the number of thread in the program before running it. </p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\n\npublic class ThreadSynchronization {\n\n    public static int i = 1;\n    public static final int maxThreads = 10;\n\n    public static void main(String[] args) {\n        List&lt;Object&gt; list = new ArrayList&lt;&gt;();\n        for (int i = 0; i &lt; maxThreads; i++) {\n            list.add(new Object());\n        }\n        Object currObject = list.get(maxThreads - 1);\n        for (int i = 0; i &lt; maxThreads; i++) {\n            Object nextObject = list.get(i);\n            RunnableClass1 a = new RunnableClass1(currObject, nextObject, i == 0 ? true : false);\n            Thread th = new Thread(a);\n            th.setName(\"Thread - \" + (i + 1));\n            th.start();\n            currObject = list.get(i);\n        }\n    }\n\n}\n\nclass RunnableClass implements Runnable {\n\n    private Object currObject;\n    private Object nextObject;\n    private boolean firstThread;\n\n    public RunnableClass(Object currObject, Object nextObject, boolean first) {\n        this.currObject = currObject;\n        this.nextObject = nextObject;\n        this.firstThread = first;\n    }\n\n    @Override\n    public void run() {\n        int i = 0;\n        try {\n            if (firstThread) {\n                Thread.sleep(5000);\n                firstThread = false;\n                System.out.println(Thread.currentThread().getName() + \" - \" + ThreadSynchronization.i++);\n                synchronized (nextObject) {\n                    nextObject.notify();\n                }\n            }\n            while (i++ &lt; Integer.MAX_VALUE) {\n                synchronized (currObject) {\n                    currObject.wait();\n                }\n                System.out.println(Thread.currentThread().getName() + \" - \" + ThreadSynchronization.i++);\n                Thread.sleep(1000);\n                synchronized (nextObject) {\n                    nextObject.notify();\n                }\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2374287,"reputation":4246,"user_id":2078093,"accept_rate":62,"display_name":"Naresh Joshi"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1500384479,"creation_date":1500384479,"answer_id":45168192,"question_id":30964133,"body_markdown":"      public class TestClass {\r\n    \r\n    \tprivate volatile Integer count = 1;\r\n    \tprivate volatile Integer threadIdToRun = 1;\r\n    \tprivate Object object = new Object();\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\tTestClass testClass = new TestClass();\r\n    \t\tThread t1 = new Thread(testClass.new Printer(1));\r\n    \t\tThread t2 = new Thread(testClass.new Printer(2));\r\n    \t\tThread t3 = new Thread(testClass.new Printer(3));\r\n    \r\n    \t\tt1.start();\r\n    \t\tt2.start();\r\n    \t\tt3.start();\r\n    \t}\r\n    \r\n    \tclass Printer implements Runnable {\r\n    \r\n    \t\tprivate int threadId;\r\n    \r\n    \t\tpublic Printer(int threadId) {\r\n    \t\t\tsuper();\r\n    \t\t\tthis.threadId = threadId;\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic void run() {\r\n    \t\t\ttry {\r\n    \t\t\t\twhile (count &lt;= 20) {\r\n    \t\t\t\t\tsynchronized (object) {\r\n    \t\t\t\t\t\tif (threadId != threadIdToRun) {\r\n    \t\t\t\t\t\t\tobject.wait();\r\n    \t\t\t\t\t\t} else {\r\n    \t\t\t\t\t\t\tSystem.out.println(&quot;Thread &quot; + threadId + &quot; printed &quot; + count);\r\n    \t\t\t\t\t\t\tcount += 1;\r\n    \r\n    \t\t\t\t\t\t\tif (threadId == 1)\r\n    \t\t\t\t\t\t\t\tthreadIdToRun = 2;\r\n    \t\t\t\t\t\t\telse if (threadId == 2)\r\n    \t\t\t\t\t\t\t\tthreadIdToRun = 3;\r\n    \t\t\t\t\t\t\telse if (threadId == 3)\r\n    \t\t\t\t\t\t\t\tthreadIdToRun = 1;\r\n    \r\n    \t\t\t\t\t\t\tobject.notifyAll();\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t} catch (Exception e) {\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t}\r\n    \r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nAbove program gives output \r\n\r\n    Thread 1 printed 1\r\n    Thread 2 printed 2\r\n    Thread 3 printed 3\r\n    Thread 1 printed 4\r\n    Thread 2 printed 5\r\n    Thread 3 printed 6\r\n    Thread 1 printed 7\r\n    Thread 2 printed 8\r\n    Thread 3 printed 9\r\n    Thread 1 printed 10\r\n    Thread 2 printed 11\r\n    Thread 3 printed 12\r\n    Thread 1 printed 13\r\n    Thread 2 printed 14\r\n    Thread 3 printed 15\r\n    Thread 1 printed 16\r\n    Thread 2 printed 17\r\n    Thread 3 printed 18\r\n    Thread 1 printed 19\r\n    Thread 2 printed 20","title":"3 Threads Printing numbers in sequence","body":"<pre><code>  public class TestClass {\n\n    private volatile Integer count = 1;\n    private volatile Integer threadIdToRun = 1;\n    private Object object = new Object();\n\n    public static void main(String[] args) {\n\n        TestClass testClass = new TestClass();\n        Thread t1 = new Thread(testClass.new Printer(1));\n        Thread t2 = new Thread(testClass.new Printer(2));\n        Thread t3 = new Thread(testClass.new Printer(3));\n\n        t1.start();\n        t2.start();\n        t3.start();\n    }\n\n    class Printer implements Runnable {\n\n        private int threadId;\n\n        public Printer(int threadId) {\n            super();\n            this.threadId = threadId;\n        }\n\n        @Override\n        public void run() {\n            try {\n                while (count &lt;= 20) {\n                    synchronized (object) {\n                        if (threadId != threadIdToRun) {\n                            object.wait();\n                        } else {\n                            System.out.println(\"Thread \" + threadId + \" printed \" + count);\n                            count += 1;\n\n                            if (threadId == 1)\n                                threadIdToRun = 2;\n                            else if (threadId == 2)\n                                threadIdToRun = 3;\n                            else if (threadId == 3)\n                                threadIdToRun = 1;\n\n                            object.notifyAll();\n                        }\n                    }\n                }\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n\n        }\n    }\n}\n</code></pre>\n\n<p>Above program gives output </p>\n\n<pre><code>Thread 1 printed 1\nThread 2 printed 2\nThread 3 printed 3\nThread 1 printed 4\nThread 2 printed 5\nThread 3 printed 6\nThread 1 printed 7\nThread 2 printed 8\nThread 3 printed 9\nThread 1 printed 10\nThread 2 printed 11\nThread 3 printed 12\nThread 1 printed 13\nThread 2 printed 14\nThread 3 printed 15\nThread 1 printed 16\nThread 2 printed 17\nThread 3 printed 18\nThread 1 printed 19\nThread 2 printed 20\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1257650,"reputation":23479,"user_id":1216775,"accept_rate":54,"display_name":"akhil_mittal"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1523158477,"creation_date":1523158065,"answer_id":49714113,"question_id":30964133,"body_markdown":"Though this is a bad way for using threads, if we still want it a generic solution can be to have a worker thread which will store its id:\r\n\r\n    class Worker extends Thread {\r\n        private final ResourceLock resourceLock;\r\n        private final int threadNumber;\r\n        private final AtomicInteger counter;\r\n        private volatile boolean running = true;\r\n        public Worker(ResourceLock resourceLock, int threadNumber, AtomicInteger counter) {\r\n            this.resourceLock = resourceLock;\r\n            this.threadNumber = threadNumber;\r\n            this.counter = counter;\r\n        }\r\n        @Override\r\n        public void run() {\r\n            while (running) {\r\n                try {\r\n                    synchronized (resourceLock) {\r\n                        while (resourceLock.flag != threadNumber) {\r\n                            resourceLock.wait();\r\n                        }\r\n                        System.out.println(&quot;Thread:&quot; + threadNumber + &quot; value: &quot; + counter.incrementAndGet());\r\n                        Thread.sleep(1000);\r\n                        resourceLock.flag = (threadNumber + 1) % resourceLock.threadsCount;\r\n                        resourceLock.notifyAll();\r\n                    }\r\n                } catch (Exception e) {\r\n                    System.out.println(&quot;Exception: &quot; + e);\r\n                }\r\n            }\r\n        }\r\n        public void shutdown() {\r\n            running = false;\r\n        }\r\n    }\r\n\r\nThe `ResourceLock` class would store flag and max threads count:\r\n\r\n    class ResourceLock {\r\n        public volatile int flag;\r\n        public final int threadsCount;\r\n    \r\n        public ResourceLock(int threadsCount) {\r\n            this.flag = 0;\r\n            this.threadsCount = threadsCount;\r\n        }\r\n    }\r\n\r\nAnd then main class can use it as below:\r\n \r\n\r\n    public static void main(String[] args) throws InterruptedException {\r\n            final int threadsCount = 3;\r\n            final ResourceLock lock = new ResourceLock(threadsCount);\r\n            Worker[] threads = new Worker[threadsCount];\r\n            final AtomicInteger counter = new AtomicInteger(0);\r\n            for(int i=0; i&lt;threadsCount; i++) {\r\n                threads[i] = new Worker(lock, i, counter);\r\n                threads[i].start();\r\n            }\r\n            Thread.sleep(10000);\r\n            System.out.println(&quot;Will try to shutdown now...&quot;);\r\n            for(Worker worker: threads) {\r\n                worker.shutdown();\r\n            }\r\n        }\r\nHere after a certain delay we may like to stop the count and the method shutdown in worker provides this provision.","title":"3 Threads Printing numbers in sequence","body":"<p>Though this is a bad way for using threads, if we still want it a generic solution can be to have a worker thread which will store its id:</p>\n\n<pre><code>class Worker extends Thread {\n    private final ResourceLock resourceLock;\n    private final int threadNumber;\n    private final AtomicInteger counter;\n    private volatile boolean running = true;\n    public Worker(ResourceLock resourceLock, int threadNumber, AtomicInteger counter) {\n        this.resourceLock = resourceLock;\n        this.threadNumber = threadNumber;\n        this.counter = counter;\n    }\n    @Override\n    public void run() {\n        while (running) {\n            try {\n                synchronized (resourceLock) {\n                    while (resourceLock.flag != threadNumber) {\n                        resourceLock.wait();\n                    }\n                    System.out.println(\"Thread:\" + threadNumber + \" value: \" + counter.incrementAndGet());\n                    Thread.sleep(1000);\n                    resourceLock.flag = (threadNumber + 1) % resourceLock.threadsCount;\n                    resourceLock.notifyAll();\n                }\n            } catch (Exception e) {\n                System.out.println(\"Exception: \" + e);\n            }\n        }\n    }\n    public void shutdown() {\n        running = false;\n    }\n}\n</code></pre>\n\n<p>The <code>ResourceLock</code> class would store flag and max threads count:</p>\n\n<pre><code>class ResourceLock {\n    public volatile int flag;\n    public final int threadsCount;\n\n    public ResourceLock(int threadsCount) {\n        this.flag = 0;\n        this.threadsCount = threadsCount;\n    }\n}\n</code></pre>\n\n<p>And then main class can use it as below:</p>\n\n<pre><code>public static void main(String[] args) throws InterruptedException {\n        final int threadsCount = 3;\n        final ResourceLock lock = new ResourceLock(threadsCount);\n        Worker[] threads = new Worker[threadsCount];\n        final AtomicInteger counter = new AtomicInteger(0);\n        for(int i=0; i&lt;threadsCount; i++) {\n            threads[i] = new Worker(lock, i, counter);\n            threads[i].start();\n        }\n        Thread.sleep(10000);\n        System.out.println(\"Will try to shutdown now...\");\n        for(Worker worker: threads) {\n            worker.shutdown();\n        }\n    }\n</code></pre>\n\n<p>Here after a certain delay we may like to stop the count and the method shutdown in worker provides this provision.</p>\n"},{"tags":[],"owner":{"account_id":4324171,"reputation":2565,"user_id":3531437,"accept_rate":67,"display_name":"vijayinani"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1528714574,"creation_date":1528714574,"answer_id":50796159,"question_id":30964133,"body_markdown":"How about this?\r\n\r\n    public class PrintNumbers implements Runnable {\r\n    \r\n        public static final int NO_OF_THREADS = 3;\r\n        public static final int MAX_DIGIT = 20;\r\n        public static final String THREAD_NAME_PREFIX = &quot;t&quot;;\r\n    \r\n        volatile int current = 1;\r\n        private Object lock = new Object();\r\n    \r\n        public static void main(String[] args) {\r\n            PrintNumbers printNumbers = new PrintNumbers();\r\n            for (int i = 1; i &lt;= NO_OF_THREADS; i++) {\r\n                new Thread(printNumbers, THREAD_NAME_PREFIX + i).start();\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void run() {\r\n            String printThread;\r\n            while (current &lt; MAX_DIGIT) {\r\n                synchronized (lock) {\r\n                    if (current % NO_OF_THREADS != 0) {\r\n                        printThread = THREAD_NAME_PREFIX + current % NO_OF_THREADS;\r\n                    } else {\r\n                        printThread = THREAD_NAME_PREFIX + NO_OF_THREADS;\r\n                    }\r\n    \r\n                    if (!printThread.equals(Thread.currentThread().getName())) {\r\n                        try {\r\n                            lock.wait();\r\n                        } catch (InterruptedException e) {\r\n                            e.printStackTrace();\r\n                        }\r\n                    }\r\n    \r\n                    if (printThread.equals(Thread.currentThread().getName())) {\r\n                        System.out.println(String.format(&quot;Thread %s : %s&quot;, Thread.currentThread().getName(), current));\r\n                        current = current + 1;\r\n                    }\r\n    \r\n                    lock.notifyAll();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"3 Threads Printing numbers in sequence","body":"<p>How about this?</p>\n\n<pre><code>public class PrintNumbers implements Runnable {\n\n    public static final int NO_OF_THREADS = 3;\n    public static final int MAX_DIGIT = 20;\n    public static final String THREAD_NAME_PREFIX = \"t\";\n\n    volatile int current = 1;\n    private Object lock = new Object();\n\n    public static void main(String[] args) {\n        PrintNumbers printNumbers = new PrintNumbers();\n        for (int i = 1; i &lt;= NO_OF_THREADS; i++) {\n            new Thread(printNumbers, THREAD_NAME_PREFIX + i).start();\n        }\n    }\n\n    @Override\n    public void run() {\n        String printThread;\n        while (current &lt; MAX_DIGIT) {\n            synchronized (lock) {\n                if (current % NO_OF_THREADS != 0) {\n                    printThread = THREAD_NAME_PREFIX + current % NO_OF_THREADS;\n                } else {\n                    printThread = THREAD_NAME_PREFIX + NO_OF_THREADS;\n                }\n\n                if (!printThread.equals(Thread.currentThread().getName())) {\n                    try {\n                        lock.wait();\n                    } catch (InterruptedException e) {\n                        e.printStackTrace();\n                    }\n                }\n\n                if (printThread.equals(Thread.currentThread().getName())) {\n                    System.out.println(String.format(\"Thread %s : %s\", Thread.currentThread().getName(), current));\n                    current = current + 1;\n                }\n\n                lock.notifyAll();\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10331696,"reputation":1,"user_id":7621281,"display_name":"Dnyanesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1538677361,"creation_date":1538674666,"answer_id":52652531,"question_id":30964133,"body_markdown":"I have tried it below simple way to print in sequence using three threads  and it is working well.\r\n\r\n\r\n    public class AppPrint123 {\r\n    \r\n    \tstatic int count = 1;\r\n    \tstatic int counter = 1;\r\n    \tstatic Object lock = new Object();\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\tThread t1 = new Thread(new Runnable() {\r\n    \r\n    \t\t\tpublic void run() {\r\n    \t\t\t\twhile (true) {\r\n    \t\t\t\t\tsynchronized (lock) {\r\n    \r\n    \t\t\t\t\t\ttry {\r\n    \t\t\t\t\t\t\tThread.sleep(100);\r\n    \t\t\t\t\t\t\twhile (count != 1) {\r\n    \t\t\t\t\t\t\t\tlock.wait();\r\n    \t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t\tSystem.out.println(Thread.currentThread().getName() + &quot;: &quot; + counter);\r\n    \t\t\t\t\t\t\tcount++;\r\n    \t\t\t\t\t\t\tcounter++;\r\n    \t\t\t\t\t\t} catch (InterruptedException e) {\r\n    \t\t\t\t\t\t\te.printStackTrace();\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t\tlock.notifyAll();\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \r\n    \t\t\t}\r\n    \r\n    \t\t}, &quot;T1&quot;);\r\n    \r\n    \t\tThread t2 = new Thread(new Runnable() {\r\n    \r\n    \t\t\tpublic void run() {\r\n    \t\t\t\twhile (true) {\r\n    \t\t\t\t\tsynchronized (lock) {\r\n    \r\n    \t\t\t\t\t\ttry {\r\n    \t\t\t\t\t\t\tThread.sleep(100);\r\n    \t\t\t\t\t\t\twhile (count != 2) {\r\n    \t\t\t\t\t\t\t\tlock.wait();\r\n    \t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t\tSystem.out.println(Thread.currentThread().getName() + &quot;: &quot; + counter);\r\n    \t\t\t\t\t\t\tcounter++;\r\n    \t\t\t\t\t\t} catch (InterruptedException e) {\r\n    \t\t\t\t\t\t\te.printStackTrace();\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t\tlock.notifyAll();\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \r\n    \t\t}, &quot;T2&quot;);\r\n    \r\n    \t\tThread t3 = new Thread(new Runnable() {\r\n    \r\n    \t\t\tpublic void run() {\r\n    \t\t\t\twhile (true) {\r\n    \t\t\t\t\tsynchronized (lock) {\r\n    \t\t\t\t\t\ttry {\r\n    \t\t\t\t\t\t\tThread.sleep(100);\r\n    \t\t\t\t\t\t\twhile (count != 3) {\r\n    \t\t\t\t\t\t\t\tlock.wait();\r\n    \t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t\tSystem.out.println(Thread.currentThread().getName() + &quot;: &quot; + counter);\r\n    \t\t\t\t\t\t\tcount = count - 2;\r\n    \t\t\t\t\t\t\tcounter++;\r\n    \t\t\t\t\t\t} catch (InterruptedException e) {\r\n    \t\t\t\t\t\t\te.printStackTrace();\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t\tlock.notifyAll();\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \r\n    \t\t}, &quot;T3&quot;);\r\n    \r\n    \t\tt1.start();\r\n    \t\tt2.start();\r\n    \t\tt3.start();\r\n    \r\n    \t}\r\n    }\r\n\r\n\r\nYou can print **count** variable instead if you want to generate output like  123123123 in sequence using three threads.\r\n\r\n","title":"3 Threads Printing numbers in sequence","body":"<p>I have tried it below simple way to print in sequence using three threads  and it is working well.</p>\n\n<pre><code>public class AppPrint123 {\n\n    static int count = 1;\n    static int counter = 1;\n    static Object lock = new Object();\n\n    public static void main(String[] args) {\n\n        Thread t1 = new Thread(new Runnable() {\n\n            public void run() {\n                while (true) {\n                    synchronized (lock) {\n\n                        try {\n                            Thread.sleep(100);\n                            while (count != 1) {\n                                lock.wait();\n                            }\n                            System.out.println(Thread.currentThread().getName() + \": \" + counter);\n                            count++;\n                            counter++;\n                        } catch (InterruptedException e) {\n                            e.printStackTrace();\n                        }\n                        lock.notifyAll();\n                    }\n                }\n\n            }\n\n        }, \"T1\");\n\n        Thread t2 = new Thread(new Runnable() {\n\n            public void run() {\n                while (true) {\n                    synchronized (lock) {\n\n                        try {\n                            Thread.sleep(100);\n                            while (count != 2) {\n                                lock.wait();\n                            }\n                            System.out.println(Thread.currentThread().getName() + \": \" + counter);\n                            counter++;\n                        } catch (InterruptedException e) {\n                            e.printStackTrace();\n                        }\n                        lock.notifyAll();\n                    }\n                }\n            }\n\n        }, \"T2\");\n\n        Thread t3 = new Thread(new Runnable() {\n\n            public void run() {\n                while (true) {\n                    synchronized (lock) {\n                        try {\n                            Thread.sleep(100);\n                            while (count != 3) {\n                                lock.wait();\n                            }\n                            System.out.println(Thread.currentThread().getName() + \": \" + counter);\n                            count = count - 2;\n                            counter++;\n                        } catch (InterruptedException e) {\n                            e.printStackTrace();\n                        }\n                        lock.notifyAll();\n                    }\n                }\n            }\n\n        }, \"T3\");\n\n        t1.start();\n        t2.start();\n        t3.start();\n\n    }\n}\n</code></pre>\n\n<p>You can print <strong>count</strong> variable instead if you want to generate output like  123123123 in sequence using three threads.</p>\n"},{"tags":[],"owner":{"account_id":14739596,"reputation":1972,"user_id":10644550,"display_name":"Shiva"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1548497100,"creation_date":1548497100,"answer_id":54377355,"question_id":30964133,"body_markdown":"    \r\n\r\nBad way to do but ask is to implement using multiple threads:\r\n\r\n   \r\n\r\n    private static AtomicInteger currentThreadNo = new AtomicInteger(0);\r\n        private static int currentNo = 1;\r\n        private static final Object lock = new Object();\r\n\r\n   Above, these values are `static` so that they remain same for all the worker objects.\r\n    \r\n    import java.util.concurrent.atomic.AtomicInteger;\r\n    \r\n    public class PrintNumbersUsingNThreads implements Runnable {\r\n    \r\n        private final int threadNo;\r\n        private final int totalThreads;\r\n        private static AtomicInteger currentThreadNo = new AtomicInteger(0);\r\n        private static int currentNo = 1;\r\n        private static final Object lock = new Object();\r\n    \r\n    \r\n        public PrintNumbersUsingNThreads(int threadNo, int totalThreads) {\r\n            this.threadNo = threadNo;\r\n            this.totalThreads = totalThreads;\r\n        }\r\n    \r\n        @Override\r\n        public  void run() {\r\n    \r\n    \r\n    \r\n            while (true) {\r\n                while (currentThreadNo.get() % totalThreads != threadNo) {\r\n                    try {\r\n    \r\n                        synchronized (lock) {\r\n                            lock.wait();\r\n                        }\r\n                    } catch (InterruptedException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n                System.out.println(Thread.currentThread().getName() + &quot; printing &quot; + currentNo);\r\n                currentNo++;\r\n    \r\n                int curr = currentThreadNo.get();\r\n                if (curr == totalThreads) {\r\n                    currentThreadNo.set(1);\r\n                } else {\r\n                   currentThreadNo.incrementAndGet();\r\n                }\r\n                try {\r\n                    Thread.sleep(1000);\r\n                } catch (InterruptedException e) {\r\n                    e.printStackTrace();\r\n                }\r\n                synchronized (lock) {\r\n                    lock.notifyAll();\r\n                }\r\n            }\r\n    \r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            int totalThreads = 3;\r\n    \r\n            for(int i = 0; i &lt; totalThreads; i++){\r\n                new Thread(new PrintNumbersUsingNThreads(i,totalThreads),&quot;thread&quot;+i).start();\r\n            }\r\n    \r\n        }\r\n    }\r\n\r\n\r\noutput:\r\n\r\n    thread0 printing 1\r\n    thread1 printing 2\r\n    thread2 printing 3\r\n    thread0 printing 4\r\n    thread1 printing 5\r\n    thread2 printing 6\r\n    thread0 printing 7\r\n    thread1 printing 8\r\n    thread2 printing 9\r\n    thread0 printing 10\r\n    thread1 printing 11\r\n    thread2 printing 12\r\n    thread0 printing 13\r\n    thread1 printing 14\r\n    thread2 printing 15\r\n    thread0 printing 16\r\n    thread1 printing 17\r\n    thread2 printing 18\r\n\r\n","title":"3 Threads Printing numbers in sequence","body":"<p>Bad way to do but ask is to implement using multiple threads:</p>\n\n<pre><code>private static AtomicInteger currentThreadNo = new AtomicInteger(0);\n    private static int currentNo = 1;\n    private static final Object lock = new Object();\n</code></pre>\n\n<p>Above, these values are <code>static</code> so that they remain same for all the worker objects.</p>\n\n<pre><code>import java.util.concurrent.atomic.AtomicInteger;\n\npublic class PrintNumbersUsingNThreads implements Runnable {\n\n    private final int threadNo;\n    private final int totalThreads;\n    private static AtomicInteger currentThreadNo = new AtomicInteger(0);\n    private static int currentNo = 1;\n    private static final Object lock = new Object();\n\n\n    public PrintNumbersUsingNThreads(int threadNo, int totalThreads) {\n        this.threadNo = threadNo;\n        this.totalThreads = totalThreads;\n    }\n\n    @Override\n    public  void run() {\n\n\n\n        while (true) {\n            while (currentThreadNo.get() % totalThreads != threadNo) {\n                try {\n\n                    synchronized (lock) {\n                        lock.wait();\n                    }\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n            }\n            System.out.println(Thread.currentThread().getName() + \" printing \" + currentNo);\n            currentNo++;\n\n            int curr = currentThreadNo.get();\n            if (curr == totalThreads) {\n                currentThreadNo.set(1);\n            } else {\n               currentThreadNo.incrementAndGet();\n            }\n            try {\n                Thread.sleep(1000);\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n            synchronized (lock) {\n                lock.notifyAll();\n            }\n        }\n\n    }\n\n    public static void main(String[] args) {\n        int totalThreads = 3;\n\n        for(int i = 0; i &lt; totalThreads; i++){\n            new Thread(new PrintNumbersUsingNThreads(i,totalThreads),\"thread\"+i).start();\n        }\n\n    }\n}\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>thread0 printing 1\nthread1 printing 2\nthread2 printing 3\nthread0 printing 4\nthread1 printing 5\nthread2 printing 6\nthread0 printing 7\nthread1 printing 8\nthread2 printing 9\nthread0 printing 10\nthread1 printing 11\nthread2 printing 12\nthread0 printing 13\nthread1 printing 14\nthread2 printing 15\nthread0 printing 16\nthread1 printing 17\nthread2 printing 18\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4820436,"reputation":381,"user_id":3891270,"display_name":"user3891270"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1588236145,"creation_date":1588236145,"answer_id":61519300,"question_id":30964133,"body_markdown":"Below is very generic code. i agree it is not good practice to use multiple threads for such cases \r\n\r\nclass MultipleThreads implements Runnable {\r\n\r\n\tAtomicInteger integer;\r\n\r\n\tint max_val = 100;\r\n\r\n\tint remainder;\r\n\tint numofThreads;\r\n\r\n\tpublic MultipleThreads(AtomicInteger integer, int remainder, int numofThreads) {\r\n\t\tthis.integer = integer;\r\n\t\tthis.remainder = remainder;\r\n\t\tthis.numofThreads = numofThreads;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void run() {\r\n\t\twhile (integer.intValue() &lt;= max_val) {\r\n\t\t\tsynchronized (integer) {\r\n\r\n\t\t\t\twhile (integer.intValue() % numofThreads != remainder) {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tinteger.wait();\r\n\t\t\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (integer.intValue() &gt; max_val)\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tSystem.out.println(&quot;printing :&quot; + Thread.currentThread().getName() + &quot; : &quot; + integer.getAndIncrement());\r\n\t\t\t\tinteger.notifyAll();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n}\r\n\r\npublic class ThreadSynchronization {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tAtomicInteger at = new AtomicInteger(1);\r\n\t\tMultipleThreads th1 = new MultipleThreads(at, 1, 5);\r\n\t\tMultipleThreads th2 = new MultipleThreads(at, 2, 5);\r\n\t\tMultipleThreads th3 = new MultipleThreads(at, 3, 5);\r\n\t\tMultipleThreads th4 = new MultipleThreads(at, 4, 5);\r\n\t\tMultipleThreads th5 = new MultipleThreads(at, 0, 5);\r\n\r\n\t\tnew Thread(th1).start();\r\n\t\tnew Thread(th2).start();\r\n\t\tnew Thread(th3).start();\r\n\t\tnew Thread(th4).start();\r\n\t\tnew Thread(th5).start();\r\n\t}\r\n}\r\n","title":"3 Threads Printing numbers in sequence","body":"<p>Below is very generic code. i agree it is not good practice to use multiple threads for such cases </p>\n\n<p>class MultipleThreads implements Runnable {</p>\n\n<pre><code>AtomicInteger integer;\n\nint max_val = 100;\n\nint remainder;\nint numofThreads;\n\npublic MultipleThreads(AtomicInteger integer, int remainder, int numofThreads) {\n    this.integer = integer;\n    this.remainder = remainder;\n    this.numofThreads = numofThreads;\n}\n\n@Override\npublic void run() {\n    while (integer.intValue() &lt;= max_val) {\n        synchronized (integer) {\n\n            while (integer.intValue() % numofThreads != remainder) {\n                try {\n                    integer.wait();\n                } catch (InterruptedException e) {\n                    e.printStackTrace();\n                }\n            }\n            if (integer.intValue() &gt; max_val)\n                break;\n            System.out.println(\"printing :\" + Thread.currentThread().getName() + \" : \" + integer.getAndIncrement());\n            integer.notifyAll();\n        }\n    }\n}\n</code></pre>\n\n<p>}</p>\n\n<p>public class ThreadSynchronization {</p>\n\n<pre><code>public static void main(String[] args) {\n    AtomicInteger at = new AtomicInteger(1);\n    MultipleThreads th1 = new MultipleThreads(at, 1, 5);\n    MultipleThreads th2 = new MultipleThreads(at, 2, 5);\n    MultipleThreads th3 = new MultipleThreads(at, 3, 5);\n    MultipleThreads th4 = new MultipleThreads(at, 4, 5);\n    MultipleThreads th5 = new MultipleThreads(at, 0, 5);\n\n    new Thread(th1).start();\n    new Thread(th2).start();\n    new Thread(th3).start();\n    new Thread(th4).start();\n    new Thread(th5).start();\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":3469277,"reputation":1572,"user_id":2904103,"accept_rate":78,"display_name":"Haswell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1613140174,"creation_date":1613140174,"answer_id":66173626,"question_id":30964133,"body_markdown":"Also, make sure to use pthread_cond_broadcast instead of phread_cond_signal\r\n\r\n    #include &quot;stdio.h&quot;\r\n    #include &quot;stdlib.h&quot;\r\n    #include &quot;pthread.h&quot;\r\n    \r\n    pthread_mutex_t count_mutex = PTHREAD_MUTEX_INITIALIZER;\r\n    pthread_cond_t condition_var = PTHREAD_COND_INITIALIZER;\r\n    void *functionCount1();\r\n    void *functionCount2();\r\n    void *functionCount3();\r\n    int count = 0;\r\n    #define COUNT_DONE 10\r\n    \r\n    void main()\r\n    {\r\n        pthread_t thread1, thread2, thread3;\r\n        pthread_create( &amp;thread1, NULL, &amp;functionCount1, NULL);\r\n        pthread_create( &amp;thread2, NULL, &amp;functionCount2, NULL);\r\n        pthread_create( &amp;thread3, NULL, &amp;functionCount3, NULL);\r\n        pthread_join( thread1, NULL);\r\n        pthread_join( thread2, NULL);\r\n        pthread_join( thread3, NULL);\r\n        exit(0);\r\n    }\r\n    \r\n    // Let me write what I think\r\n    // we can;t do he %2 %3 since multiple threads may satisfy the conditions.\r\n    // count = 0; count % 3 = 0\r\n    // count = 1; count % 3 = 1\r\n    // count = 2; count % 3 = 2\r\n    // count = 3; cooun % 3 = 0\r\n\r\n    \r\n    // Print odd numbers\r\n    void *functionCount1()\r\n    {\r\n        for(;;) {\r\n            // Lock mutex and then wait for signal to relase mutex\r\n            pthread_mutex_lock( &amp;count_mutex );\r\n            if ( count % 3 == 0 ) {\r\n                printf(&quot;Counter value functionCount1: %d\\n&quot;,count);\r\n                count++;\r\n                pthread_cond_broadcast( &amp;condition_var );\r\n            } else {\r\n                pthread_cond_wait( &amp;condition_var, &amp;count_mutex );\r\n            }\r\n            if ( count &gt;= COUNT_DONE ) {\r\n                pthread_mutex_unlock( &amp;count_mutex );\r\n                return(NULL);\r\n            }\r\n            pthread_mutex_unlock( &amp;count_mutex );\r\n        }\r\n    }\r\n    \r\n    // print even numbers\r\n    void *functionCount2()\r\n    {\r\n        for(;;) {\r\n            // Lock mutex and then wait for signal to relase mutex\r\n            pthread_mutex_lock( &amp;count_mutex );\r\n            if ( count % 3 == 1 ) {\r\n                printf(&quot;Counter value functionCount2: %d\\n&quot;,count);\r\n                count++;\r\n                pthread_cond_broadcast( &amp;condition_var );\r\n            } else {\r\n                pthread_cond_wait( &amp;condition_var, &amp;count_mutex );\r\n            }\r\n            if( count &gt;= COUNT_DONE ) {\r\n                pthread_mutex_unlock( &amp;count_mutex );\r\n                return(NULL);\r\n            }\r\n            pthread_mutex_unlock( &amp;count_mutex );\r\n        }\r\n    }\r\n    \r\n    // print even numbers\r\n    void *functionCount3()\r\n    {\r\n        for(;;) {\r\n            // Lock mutex and then wait for signal to relase mutex\r\n            pthread_mutex_lock( &amp;count_mutex );\r\n            if ( count % 3 == 2 ) {\r\n                printf(&quot;Counter value functionCount3: %d\\n&quot;,count);\r\n                count++;\r\n                pthread_cond_broadcast( &amp;condition_var );\r\n            } else {\r\n                pthread_cond_wait( &amp;condition_var, &amp;count_mutex );\r\n            }\r\n            if( count &gt;= COUNT_DONE ) {\r\n                pthread_mutex_unlock( &amp;count_mutex );\r\n                return(NULL);\r\n            }\r\n            pthread_mutex_unlock( &amp;count_mutex );\r\n        }\r\n    }","title":"3 Threads Printing numbers in sequence","body":"<p>Also, make sure to use pthread_cond_broadcast instead of phread_cond_signal</p>\n<pre><code>#include &quot;stdio.h&quot;\n#include &quot;stdlib.h&quot;\n#include &quot;pthread.h&quot;\n\npthread_mutex_t count_mutex = PTHREAD_MUTEX_INITIALIZER;\npthread_cond_t condition_var = PTHREAD_COND_INITIALIZER;\nvoid *functionCount1();\nvoid *functionCount2();\nvoid *functionCount3();\nint count = 0;\n#define COUNT_DONE 10\n\nvoid main()\n{\n    pthread_t thread1, thread2, thread3;\n    pthread_create( &amp;thread1, NULL, &amp;functionCount1, NULL);\n    pthread_create( &amp;thread2, NULL, &amp;functionCount2, NULL);\n    pthread_create( &amp;thread3, NULL, &amp;functionCount3, NULL);\n    pthread_join( thread1, NULL);\n    pthread_join( thread2, NULL);\n    pthread_join( thread3, NULL);\n    exit(0);\n}\n\n// Let me write what I think\n// we can;t do he %2 %3 since multiple threads may satisfy the conditions.\n// count = 0; count % 3 = 0\n// count = 1; count % 3 = 1\n// count = 2; count % 3 = 2\n// count = 3; cooun % 3 = 0\n\n\n// Print odd numbers\nvoid *functionCount1()\n{\n    for(;;) {\n        // Lock mutex and then wait for signal to relase mutex\n        pthread_mutex_lock( &amp;count_mutex );\n        if ( count % 3 == 0 ) {\n            printf(&quot;Counter value functionCount1: %d\\n&quot;,count);\n            count++;\n            pthread_cond_broadcast( &amp;condition_var );\n        } else {\n            pthread_cond_wait( &amp;condition_var, &amp;count_mutex );\n        }\n        if ( count &gt;= COUNT_DONE ) {\n            pthread_mutex_unlock( &amp;count_mutex );\n            return(NULL);\n        }\n        pthread_mutex_unlock( &amp;count_mutex );\n    }\n}\n\n// print even numbers\nvoid *functionCount2()\n{\n    for(;;) {\n        // Lock mutex and then wait for signal to relase mutex\n        pthread_mutex_lock( &amp;count_mutex );\n        if ( count % 3 == 1 ) {\n            printf(&quot;Counter value functionCount2: %d\\n&quot;,count);\n            count++;\n            pthread_cond_broadcast( &amp;condition_var );\n        } else {\n            pthread_cond_wait( &amp;condition_var, &amp;count_mutex );\n        }\n        if( count &gt;= COUNT_DONE ) {\n            pthread_mutex_unlock( &amp;count_mutex );\n            return(NULL);\n        }\n        pthread_mutex_unlock( &amp;count_mutex );\n    }\n}\n\n// print even numbers\nvoid *functionCount3()\n{\n    for(;;) {\n        // Lock mutex and then wait for signal to relase mutex\n        pthread_mutex_lock( &amp;count_mutex );\n        if ( count % 3 == 2 ) {\n            printf(&quot;Counter value functionCount3: %d\\n&quot;,count);\n            count++;\n            pthread_cond_broadcast( &amp;condition_var );\n        } else {\n            pthread_cond_wait( &amp;condition_var, &amp;count_mutex );\n        }\n        if( count &gt;= COUNT_DONE ) {\n            pthread_mutex_unlock( &amp;count_mutex );\n            return(NULL);\n        }\n        pthread_mutex_unlock( &amp;count_mutex );\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2716440,"reputation":139,"user_id":2343711,"accept_rate":25,"display_name":"kamlesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657601366,"creation_date":1623250223,"answer_id":67906591,"question_id":30964133,"body_markdown":"A general solution for any number of Threads-\r\n\r\nfor 3 thread logic =MIN % 3 != reminder\r\n\r\nfor 4 thread= MIN % 4 != reminder  \r\n   \r\n\r\n```\r\npublic class PrintSequenceRunnable1 implements Runnable {\r\n\r\n\tint reminder;\r\n\t\r\n\tstatic Object lock=new Object();\r\n\tstatic int MIN=1;\r\n\tint MAX=20;\r\n\t\r\n\tPrintSequenceRunnable1(int reminder){\r\n\t\tthis.reminder=reminder;\t\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n        Thread t1= new Thread(new PrintSequenceRunnable1(1),&quot;T1&quot;);\r\n        Thread t2= new Thread(new PrintSequenceRunnable1(2),&quot;T2&quot;);\r\n        Thread t3= new Thread(new PrintSequenceRunnable1(0),&quot;T3&quot;);\r\n        t1.start();\r\n        t2.start();\r\n        t3.start();\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void run() {\r\n\t\t\r\n\t\tsynchronized (lock) {\r\n\t\t\twhile (MIN &lt; MAX - 1) {\r\n\t\t\t\twhile (MIN % 3 != reminder) {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tlock.wait();\r\n\t\t\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tSystem.out.println(Thread.currentThread().getName() + &quot;-&quot; + MIN);\r\n\t\t\t\tMIN++;\r\n\t\t\t\tlock.notifyAll();\r\n\r\n\t\t\t}\r\n\t\t}\t\r\n\t}\r\n}\r\n```\r\n\r\n","title":"3 Threads Printing numbers in sequence","body":"<p>A general solution for any number of Threads-</p>\n<p>for 3 thread logic =MIN % 3 != reminder</p>\n<p>for 4 thread= MIN % 4 != reminder</p>\n<pre><code>public class PrintSequenceRunnable1 implements Runnable {\n\n    int reminder;\n    \n    static Object lock=new Object();\n    static int MIN=1;\n    int MAX=20;\n    \n    PrintSequenceRunnable1(int reminder){\n        this.reminder=reminder; \n    }\n\n    public static void main(String[] args) {\n        \n        Thread t1= new Thread(new PrintSequenceRunnable1(1),&quot;T1&quot;);\n        Thread t2= new Thread(new PrintSequenceRunnable1(2),&quot;T2&quot;);\n        Thread t3= new Thread(new PrintSequenceRunnable1(0),&quot;T3&quot;);\n        t1.start();\n        t2.start();\n        t3.start();\n    }\n\n    @Override\n    public void run() {\n        \n        synchronized (lock) {\n            while (MIN &lt; MAX - 1) {\n                while (MIN % 3 != reminder) {\n                    try {\n                        lock.wait();\n                    } catch (InterruptedException e) {\n                        e.printStackTrace();\n                    }\n                }\n\n                System.out.println(Thread.currentThread().getName() + &quot;-&quot; + MIN);\n                MIN++;\n                lock.notifyAll();\n\n            }\n        }   \n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15915600,"reputation":1,"user_id":11484252,"display_name":"user11484252"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657515943,"creation_date":1657515658,"answer_id":72933903,"question_id":30964133,"body_markdown":"Here is my solution. It is pretty simple and easy to understand. It will help if you are using static variables...\r\n\r\nNote that using a lock object is crucial as I tried initially with the `this` keyword(ex: `synchronized(this)` ), but it was not been synchronized among all threads. \r\n\r\n```\r\npublic class Assignment_Three_Threads {\r\n    public static int TotalNumberOfThreads = 3;\r\n\r\n    public static void main(String[] args) {\r\n\r\n        multiThread t1 = new multiThread(1);\r\n        multiThread t2 = new multiThread(2);\r\n        multiThread t3 = new multiThread(3);\r\n\r\n        t1.start();\r\n        t2.start();\r\n        t3.start();\r\n    }\r\n    }\r\n\r\n    class multiThread extends  Thread{\r\n\r\n    int k=2;\r\n    private  int threadId ;\r\n    private static int threadIdToRun = 1;\r\n    private static final Object lock = new Object();\r\n    multiThread(int id)\r\n    {\r\n        super();\r\n        this.threadId = id;\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n\r\n                for (int i = 0; i &lt; k; i++) {\r\n\r\n                     synchronized (lock) {\r\n\r\n                        while(true) {\r\n                            if (this.threadId != threadIdToRun) {\r\n                                try {\r\n                                    lock.wait();\r\n                                } catch (InterruptedException e) {\r\n                                    throw new RuntimeException(e);\r\n                                }\r\n                            }\r\n\r\n                            if (this.threadId == threadIdToRun) {\r\n                                System.out.println(&quot;Thread : &quot; + this.threadId);\r\n                                threadIdToRun =\r\n                                        (threadIdToRun % Assignment_Three_Threads.TotalNumberOfThreads) + 1;\r\n\r\n    //                             System.out.println(&quot;Next Thread to be printed &quot; + threadIdToRun);\r\n                                lock.notifyAll();\r\n                                break;\r\n                            }\r\n                        }\r\n                     }\r\n\r\n                }\r\n\r\n\r\n    }\r\n}\r\n```","title":"3 Threads Printing numbers in sequence","body":"<p>Here is my solution. It is pretty simple and easy to understand. It will help if you are using static variables...</p>\n<p>Note that using a lock object is crucial as I tried initially with the <code>this</code> keyword(ex: <code>synchronized(this)</code> ), but it was not been synchronized among all threads.</p>\n<pre><code>public class Assignment_Three_Threads {\n    public static int TotalNumberOfThreads = 3;\n\n    public static void main(String[] args) {\n\n        multiThread t1 = new multiThread(1);\n        multiThread t2 = new multiThread(2);\n        multiThread t3 = new multiThread(3);\n\n        t1.start();\n        t2.start();\n        t3.start();\n    }\n    }\n\n    class multiThread extends  Thread{\n\n    int k=2;\n    private  int threadId ;\n    private static int threadIdToRun = 1;\n    private static final Object lock = new Object();\n    multiThread(int id)\n    {\n        super();\n        this.threadId = id;\n    }\n\n    @Override\n    public void run() {\n\n                for (int i = 0; i &lt; k; i++) {\n\n                     synchronized (lock) {\n\n                        while(true) {\n                            if (this.threadId != threadIdToRun) {\n                                try {\n                                    lock.wait();\n                                } catch (InterruptedException e) {\n                                    throw new RuntimeException(e);\n                                }\n                            }\n\n                            if (this.threadId == threadIdToRun) {\n                                System.out.println(&quot;Thread : &quot; + this.threadId);\n                                threadIdToRun =\n                                        (threadIdToRun % Assignment_Three_Threads.TotalNumberOfThreads) + 1;\n\n    //                             System.out.println(&quot;Next Thread to be printed &quot; + threadIdToRun);\n                                lock.notifyAll();\n                                break;\n                            }\n                        }\n                     }\n\n                }\n\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":6203019,"reputation":135,"user_id":4832105,"display_name":"Way2Go"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34723,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":30964207,"answer_count":17,"score":13,"last_activity_date":1657601386,"creation_date":1434887054,"question_id":30964133,"body_markdown":"I am trying to write a simple code to print numbers in sequence. Scenario is like \r\n\r\n    Thread  Number\r\n    T1        1\r\n    T2        2\r\n    T3        3\r\n    T1        4\r\n    T2        5\r\n    T3        6\r\n    T1        7\r\n    T2        8\r\n    T3        9\r\n    ...and so on.\r\n\r\nHere is the \r\n    \r\n    public class ThreadNumberPrinter {\r\n    \r\n    \tObject monitor = new Object();\r\n    \tAtomicInteger number = new AtomicInteger(1);\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tThreadNumberPrinter tnp = new ThreadNumberPrinter();\r\n    \t\tThread t1 = new Thread(tnp.new Printer(1, 3));\r\n    \t\tThread t2 = new Thread(tnp.new Printer(2, 3));\r\n    \t\tThread t3 = new Thread(tnp.new Printer(3, 3));\r\n    \r\n    \t\tt3.start();\r\n    \t\tt1.start();\r\n    \t\tt2.start();\r\n    \t}\r\n    \r\n    \tclass Printer implements Runnable {\r\n    \r\n    \t\tint threadId;\r\n    \t\tint numOfThreads;\r\n    \r\n    \t\tpublic Printer(int id, int nubOfThreads) {\r\n    \t\t\tthreadId = id;\r\n    \t\t\tthis.numOfThreads = nubOfThreads;\r\n    \t\t}\r\n    \r\n    \t\tpublic void run() {\r\n    \t\t\tprint();\r\n    \t\t}\r\n    \r\n    \t\tprivate void print() {\r\n    \t\t\ttry {\r\n    \t\t\t\twhile (true) {\r\n    \t\t\t\t\tThread.sleep(1000l);\r\n    \t\t\t\t\tsynchronized (monitor) {\r\n    \t\t\t\t\t\tif (number.get() % numOfThreads != threadId) {\r\n    \t\t\t\t\t\t\tmonitor.wait();\r\n    \t\t\t\t\t\t} else {\r\n    \t\t\t\t\t\t\tSystem.out.println(&quot;ThreadId [&quot; + threadId\r\n    \t\t\t\t\t\t\t\t\t+ &quot;] printing --&gt;&quot;\r\n    \t\t\t\t\t\t\t\t\t+ number.getAndIncrement());\r\n    \t\t\t\t\t\t\tmonitor.notifyAll();\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t} catch (InterruptedException e) {\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t   }\r\n    \r\n       }\r\n\r\nBut just after 2nd thread runs and prints the number 2, all thread get into wait stage and nothing gets printed. I am not sure where I am doing wrong. \r\nAny help would be greatly appreciated.\r\n","title":"3 Threads Printing numbers in sequence","body":"<p>I am trying to write a simple code to print numbers in sequence. Scenario is like </p>\n\n<pre><code>Thread  Number\nT1        1\nT2        2\nT3        3\nT1        4\nT2        5\nT3        6\nT1        7\nT2        8\nT3        9\n...and so on.\n</code></pre>\n\n<p>Here is the </p>\n\n<pre><code>public class ThreadNumberPrinter {\n\n    Object monitor = new Object();\n    AtomicInteger number = new AtomicInteger(1);\n\n    public static void main(String[] args) {\n        ThreadNumberPrinter tnp = new ThreadNumberPrinter();\n        Thread t1 = new Thread(tnp.new Printer(1, 3));\n        Thread t2 = new Thread(tnp.new Printer(2, 3));\n        Thread t3 = new Thread(tnp.new Printer(3, 3));\n\n        t3.start();\n        t1.start();\n        t2.start();\n    }\n\n    class Printer implements Runnable {\n\n        int threadId;\n        int numOfThreads;\n\n        public Printer(int id, int nubOfThreads) {\n            threadId = id;\n            this.numOfThreads = nubOfThreads;\n        }\n\n        public void run() {\n            print();\n        }\n\n        private void print() {\n            try {\n                while (true) {\n                    Thread.sleep(1000l);\n                    synchronized (monitor) {\n                        if (number.get() % numOfThreads != threadId) {\n                            monitor.wait();\n                        } else {\n                            System.out.println(\"ThreadId [\" + threadId\n                                    + \"] printing --&gt;\"\n                                    + number.getAndIncrement());\n                            monitor.notifyAll();\n                        }\n                    }\n                }\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        }\n\n       }\n\n   }\n</code></pre>\n\n<p>But just after 2nd thread runs and prints the number 2, all thread get into wait stage and nothing gets printed. I am not sure where I am doing wrong. \nAny help would be greatly appreciated.</p>\n"},{"tags":["java","postgresql","amazon-web-services","amazon-rds"],"comments":[{"owner":{"account_id":1906465,"reputation":39489,"user_id":1721239,"display_name":"jjanes"},"score":0,"creation_date":1657462823,"post_id":72928280,"comment_id":128810972,"body_markdown":"Are you using version 91?","body":"Are you using version 91?"},{"owner":{"account_id":1551684,"reputation":1024,"user_id":1443928,"accept_rate":93,"display_name":"Hard Worker"},"score":0,"creation_date":1657464792,"post_id":72928280,"comment_id":128811343,"body_markdown":"@jjanes the driver client version is 42.3.3","body":"@jjanes the driver client version is 42.3.3"},{"owner":{"account_id":1906465,"reputation":39489,"user_id":1721239,"display_name":"jjanes"},"score":1,"creation_date":1657465455,"post_id":72928280,"comment_id":128811472,"body_markdown":"Then that is the version you should read.  [`The default SSL Socket factory is the LibPQFactory`](https://jdbc.postgresql.org/documentation/head/ssl-client.html)","body":"Then that is the version you should read.  <a href=\"https://jdbc.postgresql.org/documentation/head/ssl-client.html\" rel=\"nofollow noreferrer\"><code>The default SSL Socket factory is the LibPQFactory</code></a>"}],"answers":[{"tags":[],"owner":{"account_id":1551684,"reputation":1024,"user_id":1443928,"accept_rate":93,"display_name":"Hard Worker"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657601112,"creation_date":1657601112,"answer_id":72947144,"question_id":72928280,"body_markdown":"Thanks, to Jjanes\r\n\r\n&quot;Then that is the version you should read. The default SSL Socket factory is the org.postgresql.ssl.jdbc4.LibPQFactory&quot;\r\n","title":"What is the default of postgresql sslfactory behaviour","body":"<p>Thanks, to Jjanes</p>\n<p>&quot;Then that is the version you should read. The default SSL Socket factory is the org.postgresql.ssl.jdbc4.LibPQFactory&quot;</p>\n"}],"owner":{"account_id":1551684,"reputation":1024,"user_id":1443928,"accept_rate":93,"display_name":"Hard Worker"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72947144,"answer_count":1,"score":0,"last_activity_date":1657601112,"creation_date":1657453923,"question_id":72928280,"body_markdown":"What is the default of postgresql sslfactory behaviour \r\n\r\nI have searched online and could not find an answer\r\nhttps://jdbc.postgresql.org/documentation/91/ssl-client.html\r\n\r\nhttps://jdbc.postgresql.org/documentation/head/ssl-factory.html\r\n\r\nhttps://jdbc.postgresql.org/documentation/head/connect.html#ssl\r\n\r\nWhich one Does it use  ?\r\n\r\nIm using Amazon AWS postgresql RDS\r\n","title":"What is the default of postgresql sslfactory behaviour","body":"<p>What is the default of postgresql sslfactory behaviour</p>\n<p>I have searched online and could not find an answer\n<a href=\"https://jdbc.postgresql.org/documentation/91/ssl-client.html\" rel=\"nofollow noreferrer\">https://jdbc.postgresql.org/documentation/91/ssl-client.html</a></p>\n<p><a href=\"https://jdbc.postgresql.org/documentation/head/ssl-factory.html\" rel=\"nofollow noreferrer\">https://jdbc.postgresql.org/documentation/head/ssl-factory.html</a></p>\n<p><a href=\"https://jdbc.postgresql.org/documentation/head/connect.html#ssl\" rel=\"nofollow noreferrer\">https://jdbc.postgresql.org/documentation/head/connect.html#ssl</a></p>\n<p>Which one Does it use  ?</p>\n<p>Im using Amazon AWS postgresql RDS</p>\n"},{"tags":["java","spring","spring-boot","jpa"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1657604547,"post_id":72946458,"comment_id":128843670,"body_markdown":"You mapped 2 additional tables what did you expect to happen?","body":"You mapped 2 additional tables what did you expect to happen?"}],"answers":[{"tags":[],"owner":{"account_id":25778890,"reputation":44,"user_id":19524775,"display_name":"Lakshman Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657599563,"creation_date":1657599563,"answer_id":72946990,"question_id":72946458,"body_markdown":"First of all, you have not mentioned any primary key using @Id annotation inside either of your **MagicnotifyCardInfoID** class or **MagicnotifyPriceID** class\r\nSecondly, you have given same @EmbeddedId fields &quot;MagicnotifyPriceID id&quot; in both the below classes\r\n\r\n    public class MagicnotifyCardInfo implements Serializable {\r\n    @EmbeddedId\r\n    private MagicnotifyPriceID id;\r\n    }\r\n\r\n    public class MagicnotifyPrice implements Serializable {\r\n    \r\n    @EmbeddedId\r\n    private MagicnotifyPriceID id;\r\n    }\r\n\r\n**I don&#39;t see @Embeddable used anywhere in your program** \r\nPlease refer https://www.baeldung.com/jpa-embedded-embeddable\r\n--------------------------------------------------------------\r\n\r\n    public interface MagicnotifyCardInfoRepository extends JpaRepository&lt;MagicnotifyCardInfo, Long&gt; {\r\n    \r\n    @Query(value = &quot;SELECT * FROM MAGICNOTIFY_CARD_INFO&quot;, nativeQuery = true)\r\n    List&lt;MagicnotifyCardInfo&gt; findByAll();\r\n    \r\n    List&lt;MagicnotifyCardInfo&gt; findAll();\r\n    \r\n    }\r\n\r\n**In the above class you are passing &quot;JpaRepository&lt;MagicnotifyCardInfo, *Long*&gt;&quot;\r\nLong as the data type of a primary key in your entity &quot;MagicnotifyCardInfo&quot;\r\nwhich does not even exist.**\r\n\r\nPlease fix these and try again.","title":"I used crudrepository findAll() method on MAGICNOTIFY_CARD_INFO table but it shows other columns from another table MAGICNOTIFY_PRICE","body":"<p>First of all, you have not mentioned any primary key using @Id annotation inside either of your <strong>MagicnotifyCardInfoID</strong> class or <strong>MagicnotifyPriceID</strong> class\nSecondly, you have given same @EmbeddedId fields &quot;MagicnotifyPriceID id&quot; in both the below classes</p>\n<pre><code>public class MagicnotifyCardInfo implements Serializable {\n@EmbeddedId\nprivate MagicnotifyPriceID id;\n}\n\npublic class MagicnotifyPrice implements Serializable {\n\n@EmbeddedId\nprivate MagicnotifyPriceID id;\n}\n</code></pre>\n<h2><strong>I don't see @Embeddable used anywhere in your program</strong>\nPlease refer <a href=\"https://www.baeldung.com/jpa-embedded-embeddable\" rel=\"nofollow noreferrer\">https://www.baeldung.com/jpa-embedded-embeddable</a></h2>\n<pre><code>public interface MagicnotifyCardInfoRepository extends JpaRepository&lt;MagicnotifyCardInfo, Long&gt; {\n\n@Query(value = &quot;SELECT * FROM MAGICNOTIFY_CARD_INFO&quot;, nativeQuery = true)\nList&lt;MagicnotifyCardInfo&gt; findByAll();\n\nList&lt;MagicnotifyCardInfo&gt; findAll();\n\n}\n</code></pre>\n<p><strong>In the above class you are passing &quot;JpaRepository&lt;MagicnotifyCardInfo, <em>Long</em>&gt;&quot;\nLong as the data type of a primary key in your entity &quot;MagicnotifyCardInfo&quot;\nwhich does not even exist.</strong></p>\n<p>Please fix these and try again.</p>\n"}],"owner":{"account_id":25653136,"reputation":15,"user_id":19420077,"display_name":"hanaglitched"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72946990,"answer_count":1,"score":0,"last_activity_date":1657599563,"creation_date":1657593204,"question_id":72946458,"body_markdown":"I tried to select all columns from the table `MAGICNOTIFY_CARD_INFO`, so i wrote a code;\r\n\r\n    public static void main(String[] args) {\r\n\t\tConfigurableApplicationContext context = SpringApplication.run(MagicnotifyApplication.class, args);\r\n\t\tMagicnotifyCardInfoRepository magicnotifyCardInfoRepository =\r\n\t\t\t\tcontext.getBean(MagicnotifyCardInfoRepository.class);\r\n\t\tmagicnotifyCardInfoRepository.findAll();\r\n\t\t//SpringApplication.run(MagicnotifyApplication.class, args);\r\n\t}\r\n\r\nand this is the entity i wanted to select;\r\n\r\n    public class MagicnotifyCardInfoID implements Serializable {\r\n\r\n    @Column(name = &quot;koname&quot;)\r\n    private String koname;\r\n\r\n    @Column(name = &quot;name&quot;)\r\n    private String name;\r\n\r\n    @Column(name = &quot;cardkingdom&quot;)\r\n    private String cardkingdom;\r\n\r\n    @Column(name = &quot;cardkingdomfoil&quot;)\r\n    private String cardkingdomfoil;\r\n\r\n    @Column(name = &quot;set&quot;)\r\n    private String set;\r\n\r\n    @Column(name = &quot;setName&quot;)\r\n    private String setName;\r\n\r\n    @Column(name = &quot;reldate&quot;)\r\n    private Date reldate;\r\n\r\n    @Column(name = &quot;rarity&quot;)\r\n    private String rarity;\r\n\r\n    @Column(name = &quot;uuid&quot;)\r\n    private String uuid;\r\n\r\n    @ManyToOne\r\n    private MagicnotifyUuidName magicnotifyUuidName;\r\n\r\n    @ManyToOne\r\n    private MagicnotifySetInfo magicnotifySetInfo;\r\n}\r\n\r\n    public class MagicnotifyCardInfo implements Serializable {\r\n    @EmbeddedId\r\n    private MagicnotifyPriceID id;\r\n}\r\n\r\n    public interface MagicnotifyCardInfoRepository extends JpaRepository&lt;MagicnotifyCardInfo, Long&gt; {\r\n\r\n    @Query(value = &quot;SELECT * FROM MAGICNOTIFY_CARD_INFO&quot;, nativeQuery = true)\r\n    List&lt;MagicnotifyCardInfo&gt; findByAll();\r\n\r\n    List&lt;MagicnotifyCardInfo&gt; findAll();\r\n}\r\n\r\n\r\n\r\n\r\nbut after querying, it tries to select other column item from table\r\nMAGICNOTIFY_PRICE;\r\n\r\n    public class MagicnotifyPriceID implements Serializable {\r\n\r\n    @Column(name = &quot;foil&quot;)\r\n    private BigDecimal foil;\r\n\r\n    @Column(name = &quot;normal&quot;)\r\n    private BigDecimal normal;\r\n\r\n    @Column(name = &quot;date&quot;)\r\n    private Date date;\r\n\r\n    @Column(name = &quot;key&quot;)\r\n    private String key;\r\n\r\n    @ManyToOne\r\n    private MagicnotifyUuidName id;\r\n\r\n\r\n}\r\n\r\n    public class MagicnotifyPrice implements Serializable {\r\n\r\n    @EmbeddedId\r\n    private MagicnotifyPriceID id;\r\n\r\n}\r\n\r\nI&#39;m not sure why it happens from differently mapped two tables; how can i select from initial table MAGICNOTIFY_CARD_INFO and select from its columns?\r\n\r\n","title":"I used crudrepository findAll() method on MAGICNOTIFY_CARD_INFO table but it shows other columns from another table MAGICNOTIFY_PRICE","body":"<p>I tried to select all columns from the table <code>MAGICNOTIFY_CARD_INFO</code>, so i wrote a code;</p>\n<pre><code>public static void main(String[] args) {\n    ConfigurableApplicationContext context = SpringApplication.run(MagicnotifyApplication.class, args);\n    MagicnotifyCardInfoRepository magicnotifyCardInfoRepository =\n            context.getBean(MagicnotifyCardInfoRepository.class);\n    magicnotifyCardInfoRepository.findAll();\n    //SpringApplication.run(MagicnotifyApplication.class, args);\n}\n</code></pre>\n<p>and this is the entity i wanted to select;</p>\n<pre><code>public class MagicnotifyCardInfoID implements Serializable {\n\n@Column(name = &quot;koname&quot;)\nprivate String koname;\n\n@Column(name = &quot;name&quot;)\nprivate String name;\n\n@Column(name = &quot;cardkingdom&quot;)\nprivate String cardkingdom;\n\n@Column(name = &quot;cardkingdomfoil&quot;)\nprivate String cardkingdomfoil;\n\n@Column(name = &quot;set&quot;)\nprivate String set;\n\n@Column(name = &quot;setName&quot;)\nprivate String setName;\n\n@Column(name = &quot;reldate&quot;)\nprivate Date reldate;\n\n@Column(name = &quot;rarity&quot;)\nprivate String rarity;\n\n@Column(name = &quot;uuid&quot;)\nprivate String uuid;\n\n@ManyToOne\nprivate MagicnotifyUuidName magicnotifyUuidName;\n\n@ManyToOne\nprivate MagicnotifySetInfo magicnotifySetInfo;\n</code></pre>\n<p>}</p>\n<pre><code>public class MagicnotifyCardInfo implements Serializable {\n@EmbeddedId\nprivate MagicnotifyPriceID id;\n</code></pre>\n<p>}</p>\n<pre><code>public interface MagicnotifyCardInfoRepository extends JpaRepository&lt;MagicnotifyCardInfo, Long&gt; {\n\n@Query(value = &quot;SELECT * FROM MAGICNOTIFY_CARD_INFO&quot;, nativeQuery = true)\nList&lt;MagicnotifyCardInfo&gt; findByAll();\n\nList&lt;MagicnotifyCardInfo&gt; findAll();\n</code></pre>\n<p>}</p>\n<p>but after querying, it tries to select other column item from table\nMAGICNOTIFY_PRICE;</p>\n<pre><code>public class MagicnotifyPriceID implements Serializable {\n\n@Column(name = &quot;foil&quot;)\nprivate BigDecimal foil;\n\n@Column(name = &quot;normal&quot;)\nprivate BigDecimal normal;\n\n@Column(name = &quot;date&quot;)\nprivate Date date;\n\n@Column(name = &quot;key&quot;)\nprivate String key;\n\n@ManyToOne\nprivate MagicnotifyUuidName id;\n</code></pre>\n<p>}</p>\n<pre><code>public class MagicnotifyPrice implements Serializable {\n\n@EmbeddedId\nprivate MagicnotifyPriceID id;\n</code></pre>\n<p>}</p>\n<p>I'm not sure why it happens from differently mapped two tables; how can i select from initial table MAGICNOTIFY_CARD_INFO and select from its columns?</p>\n"},{"tags":["java","amazon-web-services","amazon-s3","file-upload","out-of-memory"],"comments":[{"owner":{"account_id":100740,"reputation":73217,"user_id":271415,"accept_rate":91,"display_name":"jarmod"},"score":0,"creation_date":1593684280,"post_id":62692497,"comment_id":110868749,"body_markdown":"What max heap size (the `-Xmx` option) are you using? Does increasing it help?","body":"What max heap size (the <code>-Xmx</code> option) are you using? Does increasing it help?"},{"owner":{"account_id":18956821,"reputation":35,"user_id":13833256,"display_name":"Carsten"},"score":0,"creation_date":1593686091,"post_id":62692497,"comment_id":110869660,"body_markdown":"I have the default settings there. I could increase it, you are right, but I have limited resources, so I would like to find another way. I heard of the method to convert the file in chunks?","body":"I have the default settings there. I could increase it, you are right, but I have limited resources, so I would like to find another way. I heard of the method to convert the file in chunks?"},{"owner":{"account_id":100740,"reputation":73217,"user_id":271415,"accept_rate":91,"display_name":"jarmod"},"score":0,"creation_date":1593703634,"post_id":62692497,"comment_id":110878998,"body_markdown":"By chunks, do you mean multipart? TransferManager supports that by default.","body":"By chunks, do you mean multipart? TransferManager supports that by default."},{"owner":{"account_id":18396380,"reputation":4116,"user_id":13400729,"display_name":"Parsifal"},"score":1,"creation_date":1593711090,"post_id":62692497,"comment_id":110882920,"body_markdown":"Show the actual exception, _with stack trace._ I&#39;m betting that the actual problem is in your `convertMultiPartToFile()` method, which attempts to read the entire file into memory.","body":"Show the actual exception, <i>with stack trace.</i> I&#39;m betting that the actual problem is in your <code>convertMultiPartToFile()</code> method, which attempts to read the entire file into memory."},{"owner":{"account_id":18956821,"reputation":35,"user_id":13833256,"display_name":"Carsten"},"score":0,"creation_date":1593714154,"post_id":62692497,"comment_id":110884224,"body_markdown":"Yes you are right, the fos.write(file.getBytes()); was the mistake. I changed to InputStream with the transferTo method. Problem solved :)","body":"Yes you are right, the fos.write(file.getBytes()); was the mistake. I changed to InputStream with the transferTo method. Problem solved :)"}],"owner":{"account_id":18956821,"reputation":35,"user_id":13833256,"display_name":"Carsten"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1719,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1657599368,"creation_date":1593679712,"question_id":62692497,"body_markdown":"I would like to upload large files (&gt;1GB) to my amazon AWS S3 Bucket. Therefore I am using the TransferManager provided by AWS. \r\nI also specify the file length, as described in this post &lt;https://stackoverflow.com/questions/54379555/java-heap-space-is-insufficient-to-upload-files-on-aws-s3&gt;, but I am still facing a java heap space error. \r\nHave anyone an idea, what I am doing wrong in my code? Or what could be the problem in general? \r\nThank you in advance! \r\n\r\n    public String uploadMultiPartFilePublicRead(MultipartFile multipartFile) throws IOException {\r\n        String fileUrl = &quot;&quot;;\r\n        String fileName= &quot;&quot;;\r\n        File file = null;\r\n        try {\r\n            file = convertMultiPartToFile(multipartFile);\r\n            fileName = generateFileName(multipartFile);\r\n            fileUrl = endpointUrl + &quot;/&quot; + bucketName + &quot;/&quot; + fileName;\r\n            // uploadFileTos3bucketPublicRead(fileName, file);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        if(!file.exists()) return &quot;File does not exits&quot;;\r\n\r\n        int maxUploadThreads = 5;\r\n\r\n        TransferManager tm = TransferManagerBuilder\r\n                .standard()\r\n                .withS3Client(s3client)\r\n                .withMultipartUploadThreshold((long) (5 * 1024 * 1024))\r\n                .withExecutorFactory(() -&gt; Executors.newFixedThreadPool(maxUploadThreads))\r\n                .build();\r\n\r\n        ObjectMetadata metadata = new ObjectMetadata();\r\n        metadata.setContentLength(file.length());\r\n    \r\n        ProgressListener progressListener =\r\n                progressEvent -&gt; System.out.println(&quot;Transferred bytes: &quot; + progressEvent.getBytesTransferred());\r\n          \r\n        PutObjectRequest request = new PutObjectRequest(this.bucketName, fileName, file)\r\n        .withCannedAcl(CannedAccessControlList.PublicRead)\r\n        .withMetadata(metadata);\r\n    \r\n        request.setGeneralProgressListener(progressListener);\r\n\r\n        Upload upload = tm.upload(request);\r\n        try {\r\n            upload.waitForCompletion();\r\n            System.out.println(&quot;Upload complete.&quot;);\r\n        } catch (AmazonClientException e) {\r\n            System.out.println(&quot;Error occurred while uploading file: AmazonClientExeception&quot;);\r\n            e.printStackTrace();\r\n        }\r\n        catch(InterruptedException i)\r\n        {\r\n            System.out.println(&quot;Erorr occured while uploading file: InterruptedExecpetion&quot;);\r\n            i.printStackTrace();\r\n        }\r\n\r\n        try{\r\n        file.delete();\r\n        }\r\n        catch(Exception e)\r\n        {\r\n            System.out.println(&quot;Error occured while deleting file.&quot;);\r\n            e.printStackTrace();\r\n        }\r\n\r\n        return fileUrl;\r\n    }\r\n    private File convertMultiPartToFile(MultipartFile file) throws IOException {\r\n        File convFile = new File(file.getOriginalFilename());\r\n        FileOutputStream fos = new FileOutputStream(convFile);\r\n        fos.write(file.getBytes());\r\n        fos.close();\r\n        return convFile;\r\n    }\r\n\r\n","title":"java.lang.OutOfMemoryError: Java heap space when uploading large file to Amazon AWS S3 Bucket with TransferManager","body":"<p>I would like to upload large files (&gt;1GB) to my amazon AWS S3 Bucket. Therefore I am using the TransferManager provided by AWS.\nI also specify the file length, as described in this post <a href=\"https://stackoverflow.com/questions/54379555/java-heap-space-is-insufficient-to-upload-files-on-aws-s3\">Java Heap Space is insufficient to upload files on AWS S3</a>, but I am still facing a java heap space error.\nHave anyone an idea, what I am doing wrong in my code? Or what could be the problem in general?\nThank you in advance!</p>\n<pre><code>public String uploadMultiPartFilePublicRead(MultipartFile multipartFile) throws IOException {\n    String fileUrl = &quot;&quot;;\n    String fileName= &quot;&quot;;\n    File file = null;\n    try {\n        file = convertMultiPartToFile(multipartFile);\n        fileName = generateFileName(multipartFile);\n        fileUrl = endpointUrl + &quot;/&quot; + bucketName + &quot;/&quot; + fileName;\n        // uploadFileTos3bucketPublicRead(fileName, file);\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n\n    if(!file.exists()) return &quot;File does not exits&quot;;\n\n    int maxUploadThreads = 5;\n\n    TransferManager tm = TransferManagerBuilder\n            .standard()\n            .withS3Client(s3client)\n            .withMultipartUploadThreshold((long) (5 * 1024 * 1024))\n            .withExecutorFactory(() -&gt; Executors.newFixedThreadPool(maxUploadThreads))\n            .build();\n\n    ObjectMetadata metadata = new ObjectMetadata();\n    metadata.setContentLength(file.length());\n\n    ProgressListener progressListener =\n            progressEvent -&gt; System.out.println(&quot;Transferred bytes: &quot; + progressEvent.getBytesTransferred());\n      \n    PutObjectRequest request = new PutObjectRequest(this.bucketName, fileName, file)\n    .withCannedAcl(CannedAccessControlList.PublicRead)\n    .withMetadata(metadata);\n\n    request.setGeneralProgressListener(progressListener);\n\n    Upload upload = tm.upload(request);\n    try {\n        upload.waitForCompletion();\n        System.out.println(&quot;Upload complete.&quot;);\n    } catch (AmazonClientException e) {\n        System.out.println(&quot;Error occurred while uploading file: AmazonClientExeception&quot;);\n        e.printStackTrace();\n    }\n    catch(InterruptedException i)\n    {\n        System.out.println(&quot;Erorr occured while uploading file: InterruptedExecpetion&quot;);\n        i.printStackTrace();\n    }\n\n    try{\n    file.delete();\n    }\n    catch(Exception e)\n    {\n        System.out.println(&quot;Error occured while deleting file.&quot;);\n        e.printStackTrace();\n    }\n\n    return fileUrl;\n}\nprivate File convertMultiPartToFile(MultipartFile file) throws IOException {\n    File convFile = new File(file.getOriginalFilename());\n    FileOutputStream fos = new FileOutputStream(convFile);\n    fos.write(file.getBytes());\n    fos.close();\n    return convFile;\n}\n</code></pre>\n"},{"tags":["java","android","http"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1657545560,"post_id":72939167,"comment_id":128828808,"body_markdown":"Please give more details explaining what happens.  Do you get an exception?  Something else.  Note that the snippet in your question is not going to outpt anything if it succeeds.  You are not printing or displaying the response code ...","body":"Please give more details explaining what happens.  Do you get an exception?  Something else.  Note that the snippet in your question is not going to outpt anything if it succeeds.  You are not printing or displaying the response code ..."},{"owner":{"account_id":13837518,"reputation":673,"user_id":9988706,"display_name":"Gobu CSG"},"score":0,"creation_date":1657545639,"post_id":72939167,"comment_id":128828849,"body_markdown":"Follow this answer: https://stackoverflow.com/questions/30296238/how-to-use-the-new-urlconnection-class-for-httpclient-deprecated-class","body":"Follow this answer: <a href=\"https://stackoverflow.com/questions/30296238/how-to-use-the-new-urlconnection-class-for-httpclient-deprecated-class\" title=\"how to use the new urlconnection class for httpclient deprecated class\">stackoverflow.com/questions/30296238/&hellip;</a>"},{"owner":{"account_id":2436240,"reputation":3410,"user_id":2126077,"accept_rate":75,"display_name":"Heshan Sandeepa"},"score":0,"creation_date":1657546414,"post_id":72939167,"comment_id":128829209,"body_markdown":"please Post what you have tried so far","body":"please Post what you have tried so far"}],"answers":[{"tags":[],"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657597279,"creation_date":1657597279,"answer_id":72946785,"question_id":72939167,"body_markdown":"Your code _is_ doing something.\r\nHere is a try-catch with your code inside the &quot;try&quot; block. If any IOExceptions occur, the catch block will print out whatever is in the exception text.\r\n```\r\ntry {\r\n    ((HttpURLConnection) new URL(&quot;https://omg-a-site.org&quot;).openConnection()).getResponseCode();\r\n} catch (IOException e) {\r\n    e.printStackTrace();\r\n}\r\n```\r\nThat code will produce the output below,\r\nwhich looks reasonable –&#160;it cannot find a host named &quot;omg-a-site.org&quot;:\r\n```\r\njava.net.UnknownHostException: omg-a-site.org\r\n\tat java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:567)\r\n\tat java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)\r\n\tat java.base/java.net.Socket.connect(Socket.java:633)\r\n\tat java.base/sun.security.ssl.SSLSocketImpl.connect(SSLSocketImpl.java:299)\r\n\tat java.base/sun.security.ssl.BaseSSLSocketImpl.connect(BaseSSLSocketImpl.java:174)\r\n\tat java.base/sun.net.NetworkClient.doConnect(NetworkClient.java:183)\r\n\tat java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:498)\r\n\tat java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:603)\r\n\tat java.base/sun.net.www.protocol.https.HttpsClient.&lt;init&gt;(HttpsClient.java:266)\r\n\tat java.base/sun.net.www.protocol.https.HttpsClient.New(HttpsClient.java:380)\r\n\tat java.base/sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.getNewHttpClient(AbstractDelegateHttpsURLConnection.java:189)\r\n\tat java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1242)\r\n\tat java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1128)\r\n\tat java.base/sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:175)\r\n\tat java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1665)\r\n\tat java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1589)\r\n\tat java.base/java.net.HttpURLConnection.getResponseCode(HttpURLConnection.java:529)\r\n\tat java.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.getResponseCode(HttpsURLConnectionImpl.java:308)\r\n\tat a68.main(a68.java:8)\r\n```\r\n","title":"java.net.httpurlconnection just wont work","body":"<p>Your code <em>is</em> doing something.\nHere is a try-catch with your code inside the &quot;try&quot; block. If any IOExceptions occur, the catch block will print out whatever is in the exception text.</p>\n<pre><code>try {\n    ((HttpURLConnection) new URL(&quot;https://omg-a-site.org&quot;).openConnection()).getResponseCode();\n} catch (IOException e) {\n    e.printStackTrace();\n}\n</code></pre>\n<p>That code will produce the output below,\nwhich looks reasonable – it cannot find a host named &quot;omg-a-site.org&quot;:</p>\n<pre><code>java.net.UnknownHostException: omg-a-site.org\n    at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:567)\n    at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)\n    at java.base/java.net.Socket.connect(Socket.java:633)\n    at java.base/sun.security.ssl.SSLSocketImpl.connect(SSLSocketImpl.java:299)\n    at java.base/sun.security.ssl.BaseSSLSocketImpl.connect(BaseSSLSocketImpl.java:174)\n    at java.base/sun.net.NetworkClient.doConnect(NetworkClient.java:183)\n    at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:498)\n    at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:603)\n    at java.base/sun.net.www.protocol.https.HttpsClient.&lt;init&gt;(HttpsClient.java:266)\n    at java.base/sun.net.www.protocol.https.HttpsClient.New(HttpsClient.java:380)\n    at java.base/sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.getNewHttpClient(AbstractDelegateHttpsURLConnection.java:189)\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1242)\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1128)\n    at java.base/sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:175)\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1665)\n    at java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1589)\n    at java.base/java.net.HttpURLConnection.getResponseCode(HttpURLConnection.java:529)\n    at java.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.getResponseCode(HttpsURLConnectionImpl.java:308)\n    at a68.main(a68.java:8)\n</code></pre>\n"}],"owner":{"account_id":25778568,"reputation":1,"user_id":19524492,"display_name":"letleaf"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":350,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657597279,"creation_date":1657545209,"question_id":72939167,"body_markdown":"I&#39;m trying to make a simple http request in my android app.\r\n\r\n```((HttpURLConnection) new URL(&quot;https://omg-a-site.org&quot;).openConnection()).getResponseCode();```\r\n\r\nI tried using java.net.URL.getInputStream and java.net.URLConnection.getInputStream, but it just wont work. Am I doing something wrong?","title":"java.net.httpurlconnection just wont work","body":"<p>I'm trying to make a simple http request in my android app.</p>\n<p><code>((HttpURLConnection) new URL(&quot;https://omg-a-site.org&quot;).openConnection()).getResponseCode();</code></p>\n<p>I tried using java.net.URL.getInputStream and java.net.URLConnection.getInputStream, but it just wont work. Am I doing something wrong?</p>\n"},{"tags":["java","react-native","react-native-native-module","native-module","react-native-bridge"],"answers":[{"tags":[],"owner":{"account_id":19157507,"reputation":244,"user_id":13994039,"display_name":"miknoup"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1657596610,"creation_date":1657596591,"answer_id":72946729,"question_id":72946406,"body_markdown":"You should handle this sending events from Java and listen for them in JS. \r\nYou can use `DeviceEventManagerModule.RCTDeviceEventEmitter` for this purpose.","title":"Native Modules Bridges React Native","body":"<p>You should handle this sending events from Java and listen for them in JS.\nYou can use <code>DeviceEventManagerModule.RCTDeviceEventEmitter</code> for this purpose.</p>\n"}],"owner":{"account_id":17740543,"reputation":49,"user_id":12881003,"display_name":"code iam07"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72946729,"answer_count":1,"score":0,"last_activity_date":1657596610,"creation_date":1657592605,"question_id":72946406,"body_markdown":"I have an issue when i try to bridge an Native Modules.\r\n\r\nI have a function in Java , the function will calculate the progress when i write a byte , i have a while loop at there.\r\nThe problem is whenever i return the value inside of loop , the loop is gonna be broke, but if i put the return value outside of the while loop its gonna return the value only the calculation done which is in this case (only once).\r\nI want return an increment value from the while or for loop process.\r\nwhen i log the index its shown correctly  . Honestly i have no knowledge about Java\r\n\r\n```   \r\n public void sendData(String message,Promise promise) {\r\n\r\n    if(message.length() &lt; 1) {\r\n      return;\r\n    }\r\n\r\n    byte[] data = new byte[message.length() / 2];\r\n    for (int i = 0; i &lt; data.length; i++) {\r\n      int index = i * 2;\r\n\r\n      String hex = message.substring(index, index + 2);\r\npromise.resolve(index)\r\n\r\n      int v = Integer.parseInt(hex, 16);\r\n      data[i] = (byte) v;\r\n    }\r\n    serialPort.write(data);\r\n  }\r\n ```\r\n\r\n\r\n\r\n\r\n","title":"Native Modules Bridges React Native","body":"<p>I have an issue when i try to bridge an Native Modules.</p>\n<p>I have a function in Java , the function will calculate the progress when i write a byte , i have a while loop at there.\nThe problem is whenever i return the value inside of loop , the loop is gonna be broke, but if i put the return value outside of the while loop its gonna return the value only the calculation done which is in this case (only once).\nI want return an increment value from the while or for loop process.\nwhen i log the index its shown correctly  . Honestly i have no knowledge about Java</p>\n<pre><code> public void sendData(String message,Promise promise) {\n\n    if(message.length() &lt; 1) {\n      return;\n    }\n\n    byte[] data = new byte[message.length() / 2];\n    for (int i = 0; i &lt; data.length; i++) {\n      int index = i * 2;\n\n      String hex = message.substring(index, index + 2);\npromise.resolve(index)\n\n      int v = Integer.parseInt(hex, 16);\n      data[i] = (byte) v;\n    }\n    serialPort.write(data);\n  }\n</code></pre>\n"},{"tags":["java","spring-boot","querydsl"],"answers":[{"tags":[],"owner":{"account_id":3436929,"reputation":2608,"user_id":2879838,"display_name":"David Fleeman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657594889,"creation_date":1657594889,"answer_id":72946587,"question_id":72866006,"body_markdown":"The error message gives you a great hint about the issue.  The value stock.availableQuantity, stock.standbyQuantity, and stock.allocationQuantity are all objects of type NumberExpression.  Read the NumberExpression documentation here:\r\n\r\nhttps://querydsl.com/static/querydsl/latest/apidocs/com/querydsl/core/types/dsl/NumberExpression.html\r\n\r\nI do not have QueryDSL set up local at this time to validate this, but I think you simply need to replace:\r\n\r\n    stock.availableQuantity + stock.standbyQuantity + stock.allocationQuantity\r\n\r\nwith this:\r\n\r\n    stock.availableQuantity.add(stock.standbyQuantity).add(stock.allocationQuantity)\r\n\r\nIf you need to provide an alias for that result, append the .as(Path&lt;&gt;) method after the second add() method.  Let us know if this works.","title":"Querydsl - How to get sum of columns","body":"<p>The error message gives you a great hint about the issue.  The value stock.availableQuantity, stock.standbyQuantity, and stock.allocationQuantity are all objects of type NumberExpression.  Read the NumberExpression documentation here:</p>\n<p><a href=\"https://querydsl.com/static/querydsl/latest/apidocs/com/querydsl/core/types/dsl/NumberExpression.html\" rel=\"nofollow noreferrer\">https://querydsl.com/static/querydsl/latest/apidocs/com/querydsl/core/types/dsl/NumberExpression.html</a></p>\n<p>I do not have QueryDSL set up local at this time to validate this, but I think you simply need to replace:</p>\n<pre><code>stock.availableQuantity + stock.standbyQuantity + stock.allocationQuantity\n</code></pre>\n<p>with this:</p>\n<pre><code>stock.availableQuantity.add(stock.standbyQuantity).add(stock.allocationQuantity)\n</code></pre>\n<p>If you need to provide an alias for that result, append the .as(Path&lt;&gt;) method after the second add() method.  Let us know if this works.</p>\n"}],"owner":{"account_id":17604638,"reputation":3,"user_id":12773889,"display_name":"Bohyun"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":874,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72946587,"answer_count":1,"score":0,"last_activity_date":1657594889,"creation_date":1657008442,"question_id":72866006,"body_markdown":"These below is my STOCK TABLE info\r\n```\r\nid, bigint(20)\r\navailable_quantity, int(11)\r\nallocation_quantity, int(11)\r\nstop_quantity, int(11)\r\ndamage_quantity, int(11)\r\nstandby_quantity, int(11)\r\n```\r\n\r\nI&#39;d like to do a query than in sql it&#39;s:\r\n```sql\r\nSELECT \r\n available_quantity,\r\n allocation_quantity,\r\n stop_quantity,\r\n damage_quantity,\r\n standby_quantity,\r\n available_quantity + allocation_quantity + standby_quantity\r\nFROM STOCK\r\n```\r\n\r\nI tried searching for the solution, but the closest I get was:\r\n```java\r\n     return queryFactory\r\n                .select(new QStockResponseDto(\r\n                        stock.availableQuantity,\r\n                        stock.standbyQuantity,\r\n                        stock.allocationQuantity,\r\n                        stock.availableQuantity + stock.standbyQuantity + stock.allocationQuantity \r\n                )).from(stock)\r\n```\r\nbut this indicates below error\r\n```\r\nOperator &#39;+&#39; cannot be applied to &#39;com.querydsl.core.types.dsl.NumberPath&lt;java.lang.Integer&gt;&#39;, &#39;com.querydsl.core.types.dsl.NumberPath&lt;java.lang.Integer&gt;&#39;\r\n```\r\ni don&#39;t know how to get this &#39;available_quantity + allocation_quantity + standby_quantity&#39; in QueryDSL:\r\n","title":"Querydsl - How to get sum of columns","body":"<p>These below is my STOCK TABLE info</p>\n<pre><code>id, bigint(20)\navailable_quantity, int(11)\nallocation_quantity, int(11)\nstop_quantity, int(11)\ndamage_quantity, int(11)\nstandby_quantity, int(11)\n</code></pre>\n<p>I'd like to do a query than in sql it's:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT \n available_quantity,\n allocation_quantity,\n stop_quantity,\n damage_quantity,\n standby_quantity,\n available_quantity + allocation_quantity + standby_quantity\nFROM STOCK\n</code></pre>\n<p>I tried searching for the solution, but the closest I get was:</p>\n<pre class=\"lang-java prettyprint-override\"><code>     return queryFactory\n                .select(new QStockResponseDto(\n                        stock.availableQuantity,\n                        stock.standbyQuantity,\n                        stock.allocationQuantity,\n                        stock.availableQuantity + stock.standbyQuantity + stock.allocationQuantity \n                )).from(stock)\n</code></pre>\n<p>but this indicates below error</p>\n<pre><code>Operator '+' cannot be applied to 'com.querydsl.core.types.dsl.NumberPath&lt;java.lang.Integer&gt;', 'com.querydsl.core.types.dsl.NumberPath&lt;java.lang.Integer&gt;'\n</code></pre>\n<p>i don't know how to get this 'available_quantity + allocation_quantity + standby_quantity' in QueryDSL:</p>\n"},{"tags":["java","jenkins"],"comments":[{"owner":{"account_id":3103561,"reputation":13341,"user_id":2627018,"accept_rate":81,"display_name":"ycr"},"score":0,"creation_date":1657551194,"post_id":72940300,"comment_id":128831240,"body_markdown":"Are you passing `--prefix` as a startup parameter?","body":"Are you passing <code>--prefix</code> as a startup parameter?"},{"owner":{"account_id":8295894,"reputation":1093,"user_id":6236161,"display_name":"Udara Jayawardana"},"score":0,"creation_date":1657551548,"post_id":72940300,"comment_id":128831380,"body_markdown":"No, I&#39;m simply using `sudo service jenkins start` to start the service","body":"No, I&#39;m simply using <code>sudo service jenkins start</code> to start the service"},{"owner":{"account_id":3103561,"reputation":13341,"user_id":2627018,"accept_rate":81,"display_name":"ycr"},"score":0,"creation_date":1657552309,"post_id":72940300,"comment_id":128831752,"body_markdown":"Check your service definition and verify it&#39;s not passed there. Probably located at `/etc/systemd/system/jenkins.service`","body":"Check your service definition and verify it&#39;s not passed there. Probably located at <code>&#47;etc&#47;systemd&#47;system&#47;jenkins.service</code>"},{"owner":{"account_id":8295894,"reputation":1093,"user_id":6236161,"display_name":"Udara Jayawardana"},"score":0,"creation_date":1657557583,"post_id":72940300,"comment_id":128833805,"body_markdown":"Thanks! I changed it from `Environment=&quot;JENKINS_OPTS=-Dmail.smtp.starttls.enable=true --prefix&quot;` to `Environment=&quot;JENKINS_OPTS= --prefix=&quot;` as I no longer use emails. It worked!","body":"Thanks! I changed it from <code>Environment=&quot;JENKINS_OPTS=-Dmail.smtp.starttls.enable=true --prefix&quot;</code> to <code>Environment=&quot;JENKINS_OPTS= --prefix=&quot;</code> as I no longer use emails. It worked!"},{"owner":{"account_id":8295894,"reputation":1093,"user_id":6236161,"display_name":"Udara Jayawardana"},"score":1,"creation_date":1657557623,"post_id":72940300,"comment_id":128833820,"body_markdown":"@ycr If you can put your suggestion as an answer, I can mark it as correct. Thanks for the help too!","body":"@ycr If you can put your suggestion as an answer, I can mark it as correct. Thanks for the help too!"}],"answers":[{"tags":[],"owner":{"account_id":3103561,"reputation":13341,"user_id":2627018,"accept_rate":81,"display_name":"ycr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657557936,"creation_date":1657557936,"answer_id":72941937,"question_id":72940300,"body_markdown":"The error indicates that you are somehow passing the `--prefix` startup parameter with an invalid value. `--prefix` is only needed if you have a custom context path for Jenkins. \r\n\r\nIf you are starting your Jenkins server as a service, check the service definition and make sure only the required parameters are passed. The service definition is located at `/etc/systemd/system/jenkins.service`","title":"Java Exception &quot;java.lang.IllegalArgumentException: Expecting ----prefix&quot; when starting Jenkins Service","body":"<p>The error indicates that you are somehow passing the <code>--prefix</code> startup parameter with an invalid value. <code>--prefix</code> is only needed if you have a custom context path for Jenkins.</p>\n<p>If you are starting your Jenkins server as a service, check the service definition and make sure only the required parameters are passed. The service definition is located at <code>/etc/systemd/system/jenkins.service</code></p>\n"}],"owner":{"account_id":8295894,"reputation":1093,"user_id":6236161,"display_name":"Udara Jayawardana"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":312,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72941937,"answer_count":1,"score":1,"last_activity_date":1657594325,"creation_date":1657550306,"question_id":72940300,"body_markdown":"I&#39;m upgrading a Jenkins server to [2.357][1] and I&#39;ve upgraded Java to 11 from 1.8 to support it.\r\n\r\nHowever, when I start the Jenkins, it fails and `journalctl -xe` gives the below error\r\n\r\n       Server.\r\n        -- Subject: Unit jenkins.service has failed\r\n        -- Defined-By: systemd\r\n        -- Support: http://lists.freedesktop.org/mailman/listinfo/systemd-devel\r\n        -- \r\n        -- Unit jenkins.service has failed.\r\n        -- \r\n        -- The result is failed.\r\n        Jul 11 14:28:57 jenkins01 systemd[1]: Unit jenkins.service entered failed state.\r\n        Jul 11 14:28:57 jenkins01 systemd[1]: jenkins.service failed.\r\n        Jul 11 14:28:57 jenkins01 systemd[1]: jenkins.service holdoff time over, scheduling restart.\r\n        Jul 11 14:28:57 jenkins01 systemd[1]: Stopped Jenkins Continuous Integration Server.\r\n        -- Subject: Unit jenkins.service has finished shutting down\r\n        -- Defined-By: systemd\r\n        -- Support: http://lists.freedesktop.org/mailman/listinfo/systemd-devel\r\n        -- \r\n        -- Unit jenkins.service has finished shutting down.\r\n        Jul 11 14:28:57 jenkins01 systemd[1]: Starting Jenkins Continuous Integration Server...\r\n        -- Subject: Unit jenkins.service has begun start-up\r\n        -- Defined-By: systemd\r\n        -- Support: http://lists.freedesktop.org/mailman/listinfo/systemd-devel\r\n        -- \r\n        -- Unit jenkins.service has begun starting up.\r\n        Jul 11 14:28:57 jenkins01 jenkins[19752]: Running from: /usr/share/java/jenkins.war\r\n        Jul 11 14:28:57 jenkins01 jenkins[19752]: Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: Expecting ----prefix=VALUE but found no value\r\n        Jul 11 14:28:57 jenkins01 jenkins[19752]: at winstone.cmdline.CmdLineParser.parse(CmdLineParser.java:60)\r\n        Jul 11 14:28:57 jenkins01 jenkins[19752]: at winstone.Launcher.getArgsFromCommandLine(Launcher.java:415)\r\n        Jul 11 14:28:57 jenkins01 jenkins[19752]: at winstone.Launcher.main(Launcher.java:385)\r\n        Jul 11 14:28:57 jenkins01 jenkins[19752]: at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        Jul 11 14:28:57 jenkins01 jenkins[19752]: at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        Jul 11 14:28:57 jenkins01 jenkins[19752]: at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        Jul 11 14:28:57 jenkins01 jenkins[19752]: at java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n        Jul 11 14:28:57 jenkins01 jenkins[19752]: at Main._main(Main.java:332)\r\n        Jul 11 14:28:57 jenkins01 jenkins[19752]: at Main.main(Main.java:114)\r\n        Jul 11 14:28:57 jenkins01 systemd[1]: jenkins.service: main process exited, code=exited, status=1/FAILURE\r\n        Jul 11 14:28:57 jenkins01 systemd[1]: Failed to start Jenkins Continuous Integration Server.\r\n        -- Subject: Unit jenkins.service has failed\r\n        -- Defined-By: systemd\r\n        -- Support: http://lists.freedesktop.org/mailman/listinfo/systemd-devel\r\n        -- \r\n        -- Unit jenkins.service has failed.\r\n        -- \r\n        -- The result is failed.\r\n        Jul 11 14:28:57 jenkins01 systemd[1]: Unit jenkins.service entered failed state.\r\n        Jul 11 14:28:57 jenkins01 systemd[1]: jenkins.service failed.\r\n        Jul 11 14:28:58 jenkins01 systemd[1]: jenkins.service holdoff time over, scheduling restart.\r\n        Jul 11 14:28:58 jenkins01 systemd[1]: Stopped Jenkins Continuous Integration Server.\r\n        -- Subject: Unit jenkins.service has finished shutting down\r\n        -- Defined-By: systemd\r\n        -- Support: http://lists.freedesktop.org/mailman/listinfo/systemd-devel\r\n        -- \r\n        -- Unit jenkins.service has finished shutting down.\r\n        Jul 11 14:28:58 jenkins01 systemd[1]: start request repeated too quickly for jenkins.service\r\n        Jul 11 14:28:58 jenkins01 systemd[1]: Failed to start Jenkins Continuous Integration Server.\r\n        -- Subject: Unit jenkins.service has failed\r\n        -- Defined-By: systemd\r\n        -- Support: http://lists.freedesktop.org/mailman/listinfo/systemd-devel\r\n        -- \r\n        -- Unit jenkins.service has failed.\r\n        -- \r\n        -- The result is failed.\r\n        Jul 11 14:28:58 jenkins01 systemd[1]: Unit jenkins.service entered failed state.\r\n        Jul 11 14:28:58 jenkins01 systemd[1]: jenkins.service failed.\r\n\r\n\r\nLooks like it points to the exception `Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: Expecting ----prefix=VALUE but found no value` but I can&#39;t seem to figure it out. A help would be appreciated!\r\n\r\nJava Version:\r\n\r\n    openjdk version &quot;11.0.15&quot; 2022-04-19 LTS\r\n    OpenJDK Runtime Environment 18.9 (build 11.0.15+9-LTS)\r\n    OpenJDK 64-Bit Server VM 18.9 (build 11.0.15+9-LTS, mixed mode, sharing)\r\n\r\n\r\n\r\n\r\n  [1]: https://updates.jenkins.io/download/war/2.357/jenkins.war\r\n\r\n","title":"Java Exception &quot;java.lang.IllegalArgumentException: Expecting ----prefix&quot; when starting Jenkins Service","body":"<p>I'm upgrading a Jenkins server to <a href=\"https://updates.jenkins.io/download/war/2.357/jenkins.war\" rel=\"nofollow noreferrer\">2.357</a> and I've upgraded Java to 11 from 1.8 to support it.</p>\n<p>However, when I start the Jenkins, it fails and <code>journalctl -xe</code> gives the below error</p>\n<pre><code>   Server.\n    -- Subject: Unit jenkins.service has failed\n    -- Defined-By: systemd\n    -- Support: http://lists.freedesktop.org/mailman/listinfo/systemd-devel\n    -- \n    -- Unit jenkins.service has failed.\n    -- \n    -- The result is failed.\n    Jul 11 14:28:57 jenkins01 systemd[1]: Unit jenkins.service entered failed state.\n    Jul 11 14:28:57 jenkins01 systemd[1]: jenkins.service failed.\n    Jul 11 14:28:57 jenkins01 systemd[1]: jenkins.service holdoff time over, scheduling restart.\n    Jul 11 14:28:57 jenkins01 systemd[1]: Stopped Jenkins Continuous Integration Server.\n    -- Subject: Unit jenkins.service has finished shutting down\n    -- Defined-By: systemd\n    -- Support: http://lists.freedesktop.org/mailman/listinfo/systemd-devel\n    -- \n    -- Unit jenkins.service has finished shutting down.\n    Jul 11 14:28:57 jenkins01 systemd[1]: Starting Jenkins Continuous Integration Server...\n    -- Subject: Unit jenkins.service has begun start-up\n    -- Defined-By: systemd\n    -- Support: http://lists.freedesktop.org/mailman/listinfo/systemd-devel\n    -- \n    -- Unit jenkins.service has begun starting up.\n    Jul 11 14:28:57 jenkins01 jenkins[19752]: Running from: /usr/share/java/jenkins.war\n    Jul 11 14:28:57 jenkins01 jenkins[19752]: Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: Expecting ----prefix=VALUE but found no value\n    Jul 11 14:28:57 jenkins01 jenkins[19752]: at winstone.cmdline.CmdLineParser.parse(CmdLineParser.java:60)\n    Jul 11 14:28:57 jenkins01 jenkins[19752]: at winstone.Launcher.getArgsFromCommandLine(Launcher.java:415)\n    Jul 11 14:28:57 jenkins01 jenkins[19752]: at winstone.Launcher.main(Launcher.java:385)\n    Jul 11 14:28:57 jenkins01 jenkins[19752]: at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    Jul 11 14:28:57 jenkins01 jenkins[19752]: at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    Jul 11 14:28:57 jenkins01 jenkins[19752]: at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    Jul 11 14:28:57 jenkins01 jenkins[19752]: at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    Jul 11 14:28:57 jenkins01 jenkins[19752]: at Main._main(Main.java:332)\n    Jul 11 14:28:57 jenkins01 jenkins[19752]: at Main.main(Main.java:114)\n    Jul 11 14:28:57 jenkins01 systemd[1]: jenkins.service: main process exited, code=exited, status=1/FAILURE\n    Jul 11 14:28:57 jenkins01 systemd[1]: Failed to start Jenkins Continuous Integration Server.\n    -- Subject: Unit jenkins.service has failed\n    -- Defined-By: systemd\n    -- Support: http://lists.freedesktop.org/mailman/listinfo/systemd-devel\n    -- \n    -- Unit jenkins.service has failed.\n    -- \n    -- The result is failed.\n    Jul 11 14:28:57 jenkins01 systemd[1]: Unit jenkins.service entered failed state.\n    Jul 11 14:28:57 jenkins01 systemd[1]: jenkins.service failed.\n    Jul 11 14:28:58 jenkins01 systemd[1]: jenkins.service holdoff time over, scheduling restart.\n    Jul 11 14:28:58 jenkins01 systemd[1]: Stopped Jenkins Continuous Integration Server.\n    -- Subject: Unit jenkins.service has finished shutting down\n    -- Defined-By: systemd\n    -- Support: http://lists.freedesktop.org/mailman/listinfo/systemd-devel\n    -- \n    -- Unit jenkins.service has finished shutting down.\n    Jul 11 14:28:58 jenkins01 systemd[1]: start request repeated too quickly for jenkins.service\n    Jul 11 14:28:58 jenkins01 systemd[1]: Failed to start Jenkins Continuous Integration Server.\n    -- Subject: Unit jenkins.service has failed\n    -- Defined-By: systemd\n    -- Support: http://lists.freedesktop.org/mailman/listinfo/systemd-devel\n    -- \n    -- Unit jenkins.service has failed.\n    -- \n    -- The result is failed.\n    Jul 11 14:28:58 jenkins01 systemd[1]: Unit jenkins.service entered failed state.\n    Jul 11 14:28:58 jenkins01 systemd[1]: jenkins.service failed.\n</code></pre>\n<p>Looks like it points to the exception <code>Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: Expecting ----prefix=VALUE but found no value</code> but I can't seem to figure it out. A help would be appreciated!</p>\n<p>Java Version:</p>\n<pre><code>openjdk version &quot;11.0.15&quot; 2022-04-19 LTS\nOpenJDK Runtime Environment 18.9 (build 11.0.15+9-LTS)\nOpenJDK 64-Bit Server VM 18.9 (build 11.0.15+9-LTS, mixed mode, sharing)\n</code></pre>\n"},{"tags":["java","spring","spring-boot","rest"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":0,"creation_date":1657560639,"post_id":72942410,"comment_id":128834851,"body_markdown":"What would you expect? That data is not json. What do you expect the input stream to contain?","body":"What would you expect? That data is not json. What do you expect the input stream to contain?"},{"owner":{"account_id":25389980,"reputation":31,"user_id":19201147,"display_name":"Reach Loki"},"score":0,"creation_date":1657560820,"post_id":72942410,"comment_id":128834918,"body_markdown":"Expected: {“response”:[{“portfolio:”12345”,”id”:”555555”}]}. \n\nActual: “\\u001f&lt;\\b\\u0000\\u000”","body":"Expected: {“response”:[{“portfolio:”12345”,”id”:”555555”}]}.   Actual: “\\u001f&lt;\\b\\u0000\\u000”"},{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":0,"creation_date":1657560932,"post_id":72942410,"comment_id":128834962,"body_markdown":"Evidently, that is not what is actually inside of it. Try just consuming the input stream and outputting it a string to see that this is not the json parsers fault but the data is the problem.","body":"Evidently, that is not what is actually inside of it. Try just consuming the input stream and outputting it a string to see that this is not the json parsers fault but the data is the problem."},{"owner":{"account_id":25389980,"reputation":31,"user_id":19201147,"display_name":"Reach Loki"},"score":0,"creation_date":1657561162,"post_id":72942410,"comment_id":128835053,"body_markdown":"I tested with SOAPUI. rest service is giving back the JSON.","body":"I tested with SOAPUI. rest service is giving back the JSON."}],"answers":[{"tags":[],"owner":{"account_id":15446818,"reputation":126,"user_id":11143525,"display_name":"SARATHI"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657593853,"creation_date":1657593853,"answer_id":72946507,"question_id":72942410,"body_markdown":"You can try the below code snippet for the same,\r\n\r\n    public jsonElement  parsejsonContentFromStream (Inputstream in){\r\n    Charset inputCharset = StandardCharsets.UTF-8;\r\n    InputStreamReader isr = new InputStreamReader(in, inputCharset);\r\n    JsonParser parser = new JsonParser();\r\n    JsonObject jsonObject = (JsonObject)parser.parse(isr);\r\n    return jsonObject;\r\n    }\r\nYou can also refer to [this link][1] for a detailed discussion on inputStream to Json discussions.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/22461663/convert-inputstream-to-jsonobject","title":"InputStream to JSONElement exception","body":"<p>You can try the below code snippet for the same,</p>\n<pre><code>public jsonElement  parsejsonContentFromStream (Inputstream in){\nCharset inputCharset = StandardCharsets.UTF-8;\nInputStreamReader isr = new InputStreamReader(in, inputCharset);\nJsonParser parser = new JsonParser();\nJsonObject jsonObject = (JsonObject)parser.parse(isr);\nreturn jsonObject;\n}\n</code></pre>\n<p>You can also refer to <a href=\"https://stackoverflow.com/questions/22461663/convert-inputstream-to-jsonobject\">this link</a> for a detailed discussion on inputStream to Json discussions.</p>\n"}],"owner":{"account_id":25389980,"reputation":31,"user_id":19201147,"display_name":"Reach Loki"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":166,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657593853,"creation_date":1657560250,"question_id":72942410,"body_markdown":"I am trying to covert InputStream to JSON Element using below code \r\n\r\n    public jsonElement  parsejsonContentFromStream (Inputstream in){\r\n    Charset inputCharset = StandardCharsets.UTF-8;\r\n    InputStreamReader isr = new InputStreamReader(in, inputCharset);\r\n    BufferedReader bufferedReader = new  BufferedReader (isr);\r\n    JsonParser parser = new JsonParser();\r\n    return parser.parse(bufferedReader);\r\n    }\r\n\r\n\r\nException\r\n\r\n    Not a JSON object : “\\u001f?\\b\\u000\\u000\\u0004\\u0003uT”\r\n\r\n\r\nThen I tried below code \r\n\r\n    public JsonElement parseJsonContentFromStream(InputStream in) {\r\n    InputStreamReader ir = new InputStreamReader(in);\r\n    logger.info(&quot;Encode =&quot;+ ir.getEncoding());\r\n    InputStreamReader isr = new InputStream Reader(in, StandardCharsets.UTF_8);\r\n    JsonReader jr = new JsonReader(isr);\r\n    JsonElement je=JsonParser.parseReader(jr).getAsJonObject();\r\n    return je;\r\n    }\r\n\r\n\r\nStill seeing same error message. \r\n\r\n    Info:Encode = Cp1252\r\n    Java.lang.illegalStateException:Not a JSON object : “\\u001f?\\b\\u000\\u000\\u0004\\u0003uT”\r\n\r\n\r\nPls ignore any syntax error.\r\n\r\n","title":"InputStream to JSONElement exception","body":"<p>I am trying to covert InputStream to JSON Element using below code</p>\n<pre><code>public jsonElement  parsejsonContentFromStream (Inputstream in){\nCharset inputCharset = StandardCharsets.UTF-8;\nInputStreamReader isr = new InputStreamReader(in, inputCharset);\nBufferedReader bufferedReader = new  BufferedReader (isr);\nJsonParser parser = new JsonParser();\nreturn parser.parse(bufferedReader);\n}\n</code></pre>\n<p>Exception</p>\n<pre><code>Not a JSON object : “\\u001f?\\b\\u000\\u000\\u0004\\u0003uT”\n</code></pre>\n<p>Then I tried below code</p>\n<pre><code>public JsonElement parseJsonContentFromStream(InputStream in) {\nInputStreamReader ir = new InputStreamReader(in);\nlogger.info(&quot;Encode =&quot;+ ir.getEncoding());\nInputStreamReader isr = new InputStream Reader(in, StandardCharsets.UTF_8);\nJsonReader jr = new JsonReader(isr);\nJsonElement je=JsonParser.parseReader(jr).getAsJonObject();\nreturn je;\n}\n</code></pre>\n<p>Still seeing same error message.</p>\n<pre><code>Info:Encode = Cp1252\nJava.lang.illegalStateException:Not a JSON object : “\\u001f?\\b\\u000\\u000\\u0004\\u0003uT”\n</code></pre>\n<p>Pls ignore any syntax error.</p>\n"},{"tags":["java","spring","spring-boot","authentication","ldap"],"comments":[{"owner":{"account_id":14739596,"reputation":1972,"user_id":10644550,"display_name":"Shiva"},"score":0,"creation_date":1542638831,"post_id":53376744,"comment_id":93629744,"body_markdown":"**check up the User from my database** - do you want verify password too or only userId or userName?","body":"<b>check up the User from my database</b> - do you want verify password too or only userId or userName?"},{"owner":{"account_id":1396558,"reputation":131,"user_id":1326207,"display_name":"Marina982"},"score":0,"creation_date":1542639178,"post_id":53376744,"comment_id":93629928,"body_markdown":"No, just to match usernames.","body":"No, just to match usernames."},{"owner":{"account_id":14739596,"reputation":1972,"user_id":10644550,"display_name":"Shiva"},"score":0,"creation_date":1542647375,"post_id":53376744,"comment_id":93634760,"body_markdown":"Why don&#39;t you use `ldapAuthentication` and register a `filter` to verify the `user`\nThis link https://spring.io/guides/gs/authenticating-ldap/ has an example to use ldap authentication.","body":"Why don&#39;t you use <code>ldapAuthentication</code> and register a <code>filter</code> to verify the <code>user</code> This link <a href=\"https://spring.io/guides/gs/authenticating-ldap/\" rel=\"nofollow noreferrer\">spring.io/guides/gs/authenticating-ldap</a> has an example to use ldap authentication."},{"owner":{"account_id":1396558,"reputation":131,"user_id":1326207,"display_name":"Marina982"},"score":0,"creation_date":1542709700,"post_id":53376744,"comment_id":93657365,"body_markdown":"Thank you, but that is a very basic tutorial. I will consider the filter idea, though.","body":"Thank you, but that is a very basic tutorial. I will consider the filter idea, though."},{"owner":{"account_id":14739596,"reputation":1972,"user_id":10644550,"display_name":"Shiva"},"score":0,"creation_date":1542710228,"post_id":53376744,"comment_id":93657655,"body_markdown":"The article outlines steps for configuring LdapAuthentication. Hope you had a chance to look into `WebSecurityConfig` class in the article.","body":"The article outlines steps for configuring LdapAuthentication. Hope you had a chance to look into <code>WebSecurityConfig</code> class in the article."},{"owner":{"account_id":12211707,"reputation":367,"user_id":8913302,"display_name":"Johan"},"score":0,"creation_date":1657537202,"post_id":53376744,"comment_id":128825580,"body_markdown":"Quite similar with this question https://stackoverflow.com/questions/44047300/spring-security-verify-user-in-db-first-and-then-authenticate-against-ad may you find answer there","body":"Quite similar with this question <a href=\"https://stackoverflow.com/questions/44047300/spring-security-verify-user-in-db-first-and-then-authenticate-against-ad\" title=\"spring security verify user in db first and then authenticate against ad\">stackoverflow.com/questions/44047300/&hellip;</a> may you find answer there"}],"answers":[{"tags":[],"owner":{"account_id":12211707,"reputation":367,"user_id":8913302,"display_name":"Johan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657593452,"creation_date":1657537547,"answer_id":72937540,"question_id":53376744,"body_markdown":"Here is my answer based on the link I provided in the comment. \r\nThis work using the latest Spring boot version 2.7.1 and Spring security 5.7.2\r\n\r\nI&#39;m using Custom Spring Authentication Provider.\r\n\r\n**class CustomAuthProvider**\r\n\r\n     @Component\r\n     public class CustomAuthProvider implements AuthenticationProvider {\r\n    \r\n        @Autowired\r\n        RfaUserService rfaUserService;\r\n    \r\n        @Autowired\r\n        AuthenticationManager ldapAuthenticationManager;\r\n    \r\n        @Override\r\n        public Authentication authenticate(Authentication authentication) throws AuthenticationException {\r\n    \r\n            Optional&lt;RfaUser&gt; rfaUser = rfaUserService.findByUsername((String) authentication.getPrincipal());\r\n            if (rfaUser.isPresent()) {\r\n                return ldapAuthenticationManager.authenticate(authentication);\r\n            }\r\n    \r\n            return null;\r\n        }\r\n    \r\n        @Override\r\n        public boolean supports(Class&lt;?&gt; authentication) {\r\n            return authentication.equals(UsernamePasswordAuthenticationToken.class);\r\n        }\r\n    }\r\n\r\n**class WebSecurityConfig**\r\n\r\n    @Configuration\r\n    public class WebSecurityConfig {\r\n\r\n    @Autowired\r\n    private CustomAuthProvider customAuthProvider;\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity httpSecurity) throws Exception {\r\n        httpSecurity\r\n                .httpBasic()\r\n                .and()\r\n                .authorizeRequests()\r\n                .anyRequest()\r\n                .authenticated()\r\n                .and()\r\n                .cors()\r\n                .and()\r\n                .csrf()\r\n                .disable().logout();\r\n\r\n        // here is the important part\r\n        httpSecurity.authenticationProvider(customAuthProvider);\r\n\r\n        return httpSecurity.build();\r\n    }\r\n\r\n**LDAP configuration class** \r\n\r\n    @Configuration\r\n    public class LdapSecurityConfig {\r\n    \r\n        @Value(&quot;${ldap.urls}&quot;)\r\n        private String ldapUrls;\r\n    \r\n        @Value(&quot;${ldap.base.dn}&quot;)\r\n        private String ldapBaseDn;\r\n    \r\n        @Value(&quot;${ldap.username}&quot;)\r\n        private String ldapSecurityPrincipal;\r\n    \r\n        @Value(&quot;${ldap.password}&quot;)\r\n        private String ldapPrincipalPassword;\r\n    \r\n        @Value(&quot;${ldap.user.dn.pattern}&quot;)\r\n        private String ldapUserDnPattern;\r\n    \r\n        @Autowired\r\n        private CustomAuthoritiesPopulator customAuthoritiesPopulator;\r\n        @Autowired\r\n        private CustomUserDetailsMapper customUserDetailsMapper;\r\n    \r\n    \r\n        @Bean\r\n        public AuthenticationManager ldapAuthenticationManager(BaseLdapPathContextSource contextSource) {\r\n            LdapBindAuthenticationManagerFactory managerFactory = new LdapBindAuthenticationManagerFactory(contextSource);\r\n            managerFactory.setUserDnPatterns(ldapUserDnPattern);\r\n            managerFactory.setUserDetailsContextMapper(customUserDetailsMapper);\r\n            managerFactory.setLdapAuthoritiesPopulator(customAuthoritiesPopulator);\r\n            managerFactory.setUserSearchFilter(&quot;sAMAccountName={0}&quot;);\r\n    \r\n            return managerFactory.createAuthenticationManager();\r\n        }\r\n    \r\n        @Bean\r\n        public LdapContextSource contextSource() {\r\n            LdapContextSource ldapContextSource = new LdapContextSource();\r\n            ldapContextSource.setUrl(ldapUrls);\r\n            ldapContextSource.setBase(ldapBaseDn);\r\n            ldapContextSource.setUserDn(ldapSecurityPrincipal);\r\n            ldapContextSource.setPassword(ldapPrincipalPassword);\r\n            return ldapContextSource;\r\n        }\r\n    }\r\n\r\n","title":"Spring Boot LDAP authentication and matching with database users","body":"<p>Here is my answer based on the link I provided in the comment.\nThis work using the latest Spring boot version 2.7.1 and Spring security 5.7.2</p>\n<p>I'm using Custom Spring Authentication Provider.</p>\n<p><strong>class CustomAuthProvider</strong></p>\n<pre><code> @Component\n public class CustomAuthProvider implements AuthenticationProvider {\n\n    @Autowired\n    RfaUserService rfaUserService;\n\n    @Autowired\n    AuthenticationManager ldapAuthenticationManager;\n\n    @Override\n    public Authentication authenticate(Authentication authentication) throws AuthenticationException {\n\n        Optional&lt;RfaUser&gt; rfaUser = rfaUserService.findByUsername((String) authentication.getPrincipal());\n        if (rfaUser.isPresent()) {\n            return ldapAuthenticationManager.authenticate(authentication);\n        }\n\n        return null;\n    }\n\n    @Override\n    public boolean supports(Class&lt;?&gt; authentication) {\n        return authentication.equals(UsernamePasswordAuthenticationToken.class);\n    }\n}\n</code></pre>\n<p><strong>class WebSecurityConfig</strong></p>\n<pre><code>@Configuration\npublic class WebSecurityConfig {\n\n@Autowired\nprivate CustomAuthProvider customAuthProvider;\n\n@Bean\npublic SecurityFilterChain filterChain(HttpSecurity httpSecurity) throws Exception {\n    httpSecurity\n            .httpBasic()\n            .and()\n            .authorizeRequests()\n            .anyRequest()\n            .authenticated()\n            .and()\n            .cors()\n            .and()\n            .csrf()\n            .disable().logout();\n\n    // here is the important part\n    httpSecurity.authenticationProvider(customAuthProvider);\n\n    return httpSecurity.build();\n}\n</code></pre>\n<p><strong>LDAP configuration class</strong></p>\n<pre><code>@Configuration\npublic class LdapSecurityConfig {\n\n    @Value(&quot;${ldap.urls}&quot;)\n    private String ldapUrls;\n\n    @Value(&quot;${ldap.base.dn}&quot;)\n    private String ldapBaseDn;\n\n    @Value(&quot;${ldap.username}&quot;)\n    private String ldapSecurityPrincipal;\n\n    @Value(&quot;${ldap.password}&quot;)\n    private String ldapPrincipalPassword;\n\n    @Value(&quot;${ldap.user.dn.pattern}&quot;)\n    private String ldapUserDnPattern;\n\n    @Autowired\n    private CustomAuthoritiesPopulator customAuthoritiesPopulator;\n    @Autowired\n    private CustomUserDetailsMapper customUserDetailsMapper;\n\n\n    @Bean\n    public AuthenticationManager ldapAuthenticationManager(BaseLdapPathContextSource contextSource) {\n        LdapBindAuthenticationManagerFactory managerFactory = new LdapBindAuthenticationManagerFactory(contextSource);\n        managerFactory.setUserDnPatterns(ldapUserDnPattern);\n        managerFactory.setUserDetailsContextMapper(customUserDetailsMapper);\n        managerFactory.setLdapAuthoritiesPopulator(customAuthoritiesPopulator);\n        managerFactory.setUserSearchFilter(&quot;sAMAccountName={0}&quot;);\n\n        return managerFactory.createAuthenticationManager();\n    }\n\n    @Bean\n    public LdapContextSource contextSource() {\n        LdapContextSource ldapContextSource = new LdapContextSource();\n        ldapContextSource.setUrl(ldapUrls);\n        ldapContextSource.setBase(ldapBaseDn);\n        ldapContextSource.setUserDn(ldapSecurityPrincipal);\n        ldapContextSource.setPassword(ldapPrincipalPassword);\n        return ldapContextSource;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1396558,"reputation":131,"user_id":1326207,"display_name":"Marina982"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1316,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1657593452,"creation_date":1542637680,"question_id":53376744,"body_markdown":"I have a Spring Boot MVC application which uses LDAP for authentication. This works fine, but now I have to match authenticated user (from LDAP repository) \r\nwith users from my database. I created LDAPUser:\r\n\r\n    import java.util.jar.Attributes.Name;\r\n    \r\n    import org.springframework.ldap.odm.annotations.Attribute;\r\n    import org.springframework.ldap.odm.annotations.Entry;\r\n    import org.springframework.ldap.odm.annotations.Id;\r\n    \r\n    @Entry(\r\n        base=&quot;ou=users&quot;,\r\n        objectClasses = { &quot;person&quot;, &quot;inetOrgPerson&quot;, &quot;top&quot; })\r\n    public class LDAPUser {\r\n    \r\n        @Id\r\n        private Name id;\r\n    \t \r\n        private @Attribute(name = &quot;cn&quot;) String username;\r\n        private @Attribute(name = &quot;sn&quot;) String password;\r\n        private boolean rememberme;\r\n    }\r\n\r\nAnd LDAPUserRepository:\r\n\r\n    import org.springframework.data.ldap.repository.LdapRepository;\r\n    import org.springframework.stereotype.Repository;\r\n    \r\n    import com.licensewatcher.model.LDAPUser;\r\n    \r\n    @Repository(&quot;ldapUserRespository&quot;)\r\n    public interface LDAPUserRepository extends LdapRepository&lt;LDAPUser&gt;{\r\n    \r\n    \tLDAPUser findByUsername(String username);\r\n        LDAPUser findByUsernameAndPassword(String username, String password);\r\n        /*List&lt;LDAPUser&gt; findByUsernameLikeIgnoreCase(String username);*/\r\n    }\r\n\r\nand AuthUserService:\r\n\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Service;\r\n    \r\n    import com.licensewatcher.repository.LDAPUserRepository;\r\n    \r\n    @Service(&quot;authUserService&quot;)\r\n    public class AuthUserService {\r\n    \r\n    \t@Autowired LDAPUserRepository ldapUserRespository;\r\n    \t\r\n    \tpublic boolean authenticate(LDAPUser ldapUser) {\r\n    \t\t//TODO: implement this!!!\r\n    \t\t\r\n    \t\treturn false;\r\n    \t}\r\n    \t\r\n    \tpublic boolean authorize(LDAPUser ldapUser) {\r\n    \t\t//TODO: implement this!!!\r\n    \t\t\r\n    \t\treturn false;\r\n    \t}\r\n    }\r\n\r\nClass WebSecurityConfig (extends WebSecurityConfigurerAdapte) configures application to submit login controller action:\r\n\r\n    @PostMapping(&quot;/login/check&quot;)\r\n    public String login(Model model, LDAPUser ldapUser, RedirectAttributes redirectAttr) {\r\n    \r\n    \t//TODO: call authUserService.authenticate(LDAPUser ldapUser);\r\n    \treturn &quot;redirect:/login&quot;;\r\n    }\r\n\r\nI want to implement authUserService.authenticate(LDAPUser ldapUser) to check LDAPUserRepository first and if user exists, check up the User from my database. If they match, add user to a session and redirect to the requested page.\r\nIs this a good approach? Do you have any suggestions how this could be implemented in a more elegant way?\r\nThanks in advance!","title":"Spring Boot LDAP authentication and matching with database users","body":"<p>I have a Spring Boot MVC application which uses LDAP for authentication. This works fine, but now I have to match authenticated user (from LDAP repository) \nwith users from my database. I created LDAPUser:</p>\n\n<pre><code>import java.util.jar.Attributes.Name;\n\nimport org.springframework.ldap.odm.annotations.Attribute;\nimport org.springframework.ldap.odm.annotations.Entry;\nimport org.springframework.ldap.odm.annotations.Id;\n\n@Entry(\n    base=\"ou=users\",\n    objectClasses = { \"person\", \"inetOrgPerson\", \"top\" })\npublic class LDAPUser {\n\n    @Id\n    private Name id;\n\n    private @Attribute(name = \"cn\") String username;\n    private @Attribute(name = \"sn\") String password;\n    private boolean rememberme;\n}\n</code></pre>\n\n<p>And LDAPUserRepository:</p>\n\n<pre><code>import org.springframework.data.ldap.repository.LdapRepository;\nimport org.springframework.stereotype.Repository;\n\nimport com.licensewatcher.model.LDAPUser;\n\n@Repository(\"ldapUserRespository\")\npublic interface LDAPUserRepository extends LdapRepository&lt;LDAPUser&gt;{\n\n    LDAPUser findByUsername(String username);\n    LDAPUser findByUsernameAndPassword(String username, String password);\n    /*List&lt;LDAPUser&gt; findByUsernameLikeIgnoreCase(String username);*/\n}\n</code></pre>\n\n<p>and AuthUserService:</p>\n\n<pre><code>import org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\nimport com.licensewatcher.repository.LDAPUserRepository;\n\n@Service(\"authUserService\")\npublic class AuthUserService {\n\n    @Autowired LDAPUserRepository ldapUserRespository;\n\n    public boolean authenticate(LDAPUser ldapUser) {\n        //TODO: implement this!!!\n\n        return false;\n    }\n\n    public boolean authorize(LDAPUser ldapUser) {\n        //TODO: implement this!!!\n\n        return false;\n    }\n}\n</code></pre>\n\n<p>Class WebSecurityConfig (extends WebSecurityConfigurerAdapte) configures application to submit login controller action:</p>\n\n<pre><code>@PostMapping(\"/login/check\")\npublic String login(Model model, LDAPUser ldapUser, RedirectAttributes redirectAttr) {\n\n    //TODO: call authUserService.authenticate(LDAPUser ldapUser);\n    return \"redirect:/login\";\n}\n</code></pre>\n\n<p>I want to implement authUserService.authenticate(LDAPUser ldapUser) to check LDAPUserRepository first and if user exists, check up the User from my database. If they match, add user to a session and redirect to the requested page.\nIs this a good approach? Do you have any suggestions how this could be implemented in a more elegant way?\nThanks in advance!</p>\n"},{"tags":["java","bufferedreader"],"comments":[{"owner":{"account_id":22506547,"reputation":965,"user_id":16702058,"display_name":"Hi computer"},"score":0,"creation_date":1657592798,"post_id":72946369,"comment_id":128841928,"body_markdown":"can you post close() method of MultiFileReader? cuz the close method will be called after the try block. try-with-resource","body":"can you post close() method of MultiFileReader? cuz the close method will be called after the try block. try-with-resource"},{"owner":{"account_id":8282594,"reputation":75,"user_id":6226767,"display_name":"Ebillson GRAND JEAN"},"score":0,"creation_date":1657592865,"post_id":72946369,"comment_id":128841935,"body_markdown":"@wuhoyt I just edited the code to post it","body":"@wuhoyt I just edited the code to post it"},{"owner":{"account_id":22506547,"reputation":965,"user_id":16702058,"display_name":"Hi computer"},"score":0,"creation_date":1657592933,"post_id":72946369,"comment_id":128841949,"body_markdown":"after the try block, the close method of MultiFileReader was called and all the readers are closed.","body":"after the try block, the close method of MultiFileReader was called and all the readers are closed."},{"owner":{"account_id":8282594,"reputation":75,"user_id":6226767,"display_name":"Ebillson GRAND JEAN"},"score":0,"creation_date":1657593107,"post_id":72946369,"comment_id":128841977,"body_markdown":"@wuhoyt You are right, but am I not supposed to call the close method since it avoids memory leaks?","body":"@wuhoyt You are right, but am I not supposed to call the close method since it avoids memory leaks?"},{"owner":{"account_id":22506547,"reputation":965,"user_id":16702058,"display_name":"Hi computer"},"score":0,"creation_date":1657593346,"post_id":72946369,"comment_id":128842012,"body_markdown":"I was wrong, and @Elliott was right, the close() call in the constructor should be removed and probably just that. And the close should be call manually or autoly by the machine after use the obj","body":"I was wrong, and @Elliott was right, the close() call in the constructor should be removed and probably just that. And the close should be call manually or autoly by the machine after use the obj"}],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1657592840,"creation_date":1657592840,"answer_id":72946434,"question_id":72946369,"body_markdown":"The `finally` block in your constructor closes all of your readers. Remove that.\r\n\r\n    public MultiFileReader(List&lt;Path&gt; paths) {\r\n        readers = new ArrayList&lt;&gt;(paths.size());\r\n        try {\r\n            for (Path path : paths) {\r\n                readers.add(Files.newBufferedReader(path));\r\n            }\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        } /* Not this. finally {\r\n            close();\r\n        } */\r\n    }\r\n","title":"reader.readLine() of BufferedReader causes this: Exception in thread &quot;main&quot; java.io.IOException: Stream closed","body":"<p>The <code>finally</code> block in your constructor closes all of your readers. Remove that.</p>\n<pre><code>public MultiFileReader(List&lt;Path&gt; paths) {\n    readers = new ArrayList&lt;&gt;(paths.size());\n    try {\n        for (Path path : paths) {\n            readers.add(Files.newBufferedReader(path));\n        }\n    } catch (IOException e) {\n        e.printStackTrace();\n    } /* Not this. finally {\n        close();\n    } */\n}\n</code></pre>\n"}],"owner":{"account_id":8282594,"reputation":75,"user_id":6226767,"display_name":"Ebillson GRAND JEAN"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72946434,"answer_count":1,"score":0,"last_activity_date":1657592840,"creation_date":1657592157,"question_id":72946369,"body_markdown":"Here is a code snippet from my main Java function:\r\n\r\n   \r\n\r\n    try (MultiFileReader multiReader = new MultiFileReader(inputs)) {\r\n            PriorityQueue&lt;WordEntry&gt; words = new PriorityQueue&lt;&gt;();\r\n            for (BufferedReader reader : multiReader.getReaders()) {\r\n                String word = reader.readLine();\r\n                if (word != null) {\r\n                    words.add(new WordEntry(word, reader));\r\n                }\r\n            }\r\n        }\r\n\r\nHere is how I get my BufferedReader readers from another Java file:\r\n\r\n \r\n\r\n    public List&lt;BufferedReader&gt; getReaders() {\r\n            return Collections.unmodifiableList(readers);\r\n        }\r\n\r\nBut for some reason, when I compile my code here is what I get:\r\n\r\n[![This is the error generated when I compile my code][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vkJTy.png\r\n\r\nThe error happens exactly at the line where I wrote `String word = reader.readLine();` and what&#39;s weird is that `reader.readLine()` is not null, in fact `multiReader.getReaders()` returns a list of 100 objects (they are files read from a directory). I would like some help solving that issue.\r\n\r\nI posted where the issue is, now let me provide a broader view of my code. To run it, it suffices to compile it under the src/ directory doing `javac *.java` and `java MergeShards shards/ sorted.txt` provided that `shards/` is present under `src/` and contains `.txt` files in my scenario.\r\n\r\n- This is `MergeShards.java` where I have my main function:\r\n\r\n```\r\nimport java.io.BufferedReader;\r\nimport java.io.Writer;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Path;\r\nimport java.util.List;\r\nimport java.util.Objects;\r\nimport java.util.PriorityQueue;\r\nimport java.util.stream.Collectors;\r\n\r\npublic final class MergeShards {\r\n    public static void main(String[] args) throws Exception {\r\n        if (args.length != 2) {\r\n            System.out.println(&quot;Usage: MergeShards [input folder] [output file]&quot;);\r\n            return;\r\n        }\r\n\r\n        List&lt;Path&gt; inputs = Files.walk(Path.of(args[0]), 1).skip(1).collect(Collectors.toList());\r\n        Path outputPath = Path.of(args[1]);\r\n\r\n        try (MultiFileReader multiReader = new MultiFileReader(inputs)) {\r\n            PriorityQueue&lt;WordEntry&gt; words = new PriorityQueue&lt;&gt;();\r\n            for (BufferedReader reader : multiReader.getReaders()) {\r\n                String word = reader.readLine();\r\n                if (word != null) {\r\n                    words.add(new WordEntry(word, reader));\r\n                }\r\n            }\r\n\r\n            try (Writer writer = Files.newBufferedWriter(outputPath)) {\r\n                while (!words.isEmpty()) {\r\n                    WordEntry entry = words.poll();\r\n                    writer.write(entry.word);\r\n                    writer.write(System.lineSeparator());\r\n                    String word = entry.reader.readLine();\r\n                    if (word != null) {\r\n                        words.add(new WordEntry(word, entry.reader));\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    private static final class WordEntry implements Comparable&lt;WordEntry&gt; {\r\n        private final String word;\r\n        private final BufferedReader reader;\r\n\r\n        private WordEntry(String word, BufferedReader reader) {\r\n            this.word = Objects.requireNonNull(word);\r\n            this.reader = Objects.requireNonNull(reader);\r\n        }\r\n\r\n        @Override\r\n        public int compareTo(WordEntry other) {\r\n            return word.compareTo(other.word);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n- This is my `MultiFileReader.java` file:\r\n\r\n```\r\nimport java.io.BufferedReader;\r\nimport java.io.Closeable;\r\nimport java.io.IOException;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Path;\r\nimport java.util.ArrayList;\r\nimport java.util.Collections;\r\nimport java.util.List;\r\n\r\npublic final class MultiFileReader implements Closeable {\r\n\r\n    private final List&lt;BufferedReader&gt; readers;\r\n\r\n    public MultiFileReader(List&lt;Path&gt; paths) {\r\n        readers = new ArrayList&lt;&gt;(paths.size());\r\n        try {\r\n            for (Path path : paths) {\r\n                readers.add(Files.newBufferedReader(path));\r\n            }\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        } finally {\r\n            close();\r\n        }\r\n    }\r\n\r\n    public List&lt;BufferedReader&gt; getReaders() {\r\n        return Collections.unmodifiableList(readers);\r\n    }\r\n\r\n    @Override\r\n    public void close() {\r\n        for (BufferedReader reader : readers) {\r\n            try {\r\n                reader.close();\r\n            } catch (Exception ignored) {\r\n            }\r\n        }\r\n    }\r\n}\r\n```","title":"reader.readLine() of BufferedReader causes this: Exception in thread &quot;main&quot; java.io.IOException: Stream closed","body":"<p>Here is a code snippet from my main Java function:</p>\n<pre><code>try (MultiFileReader multiReader = new MultiFileReader(inputs)) {\n        PriorityQueue&lt;WordEntry&gt; words = new PriorityQueue&lt;&gt;();\n        for (BufferedReader reader : multiReader.getReaders()) {\n            String word = reader.readLine();\n            if (word != null) {\n                words.add(new WordEntry(word, reader));\n            }\n        }\n    }\n</code></pre>\n<p>Here is how I get my BufferedReader readers from another Java file:</p>\n<pre><code>public List&lt;BufferedReader&gt; getReaders() {\n        return Collections.unmodifiableList(readers);\n    }\n</code></pre>\n<p>But for some reason, when I compile my code here is what I get:</p>\n<p><a href=\"https://i.stack.imgur.com/vkJTy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vkJTy.png\" alt=\"This is the error generated when I compile my code\" /></a></p>\n<p>The error happens exactly at the line where I wrote <code>String word = reader.readLine();</code> and what's weird is that <code>reader.readLine()</code> is not null, in fact <code>multiReader.getReaders()</code> returns a list of 100 objects (they are files read from a directory). I would like some help solving that issue.</p>\n<p>I posted where the issue is, now let me provide a broader view of my code. To run it, it suffices to compile it under the src/ directory doing <code>javac *.java</code> and <code>java MergeShards shards/ sorted.txt</code> provided that <code>shards/</code> is present under <code>src/</code> and contains <code>.txt</code> files in my scenario.</p>\n<ul>\n<li>This is <code>MergeShards.java</code> where I have my main function:</li>\n</ul>\n<pre><code>import java.io.BufferedReader;\nimport java.io.Writer;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.util.List;\nimport java.util.Objects;\nimport java.util.PriorityQueue;\nimport java.util.stream.Collectors;\n\npublic final class MergeShards {\n    public static void main(String[] args) throws Exception {\n        if (args.length != 2) {\n            System.out.println(&quot;Usage: MergeShards [input folder] [output file]&quot;);\n            return;\n        }\n\n        List&lt;Path&gt; inputs = Files.walk(Path.of(args[0]), 1).skip(1).collect(Collectors.toList());\n        Path outputPath = Path.of(args[1]);\n\n        try (MultiFileReader multiReader = new MultiFileReader(inputs)) {\n            PriorityQueue&lt;WordEntry&gt; words = new PriorityQueue&lt;&gt;();\n            for (BufferedReader reader : multiReader.getReaders()) {\n                String word = reader.readLine();\n                if (word != null) {\n                    words.add(new WordEntry(word, reader));\n                }\n            }\n\n            try (Writer writer = Files.newBufferedWriter(outputPath)) {\n                while (!words.isEmpty()) {\n                    WordEntry entry = words.poll();\n                    writer.write(entry.word);\n                    writer.write(System.lineSeparator());\n                    String word = entry.reader.readLine();\n                    if (word != null) {\n                        words.add(new WordEntry(word, entry.reader));\n                    }\n                }\n            }\n        }\n    }\n\n    private static final class WordEntry implements Comparable&lt;WordEntry&gt; {\n        private final String word;\n        private final BufferedReader reader;\n\n        private WordEntry(String word, BufferedReader reader) {\n            this.word = Objects.requireNonNull(word);\n            this.reader = Objects.requireNonNull(reader);\n        }\n\n        @Override\n        public int compareTo(WordEntry other) {\n            return word.compareTo(other.word);\n        }\n    }\n}\n</code></pre>\n<ul>\n<li>This is my <code>MultiFileReader.java</code> file:</li>\n</ul>\n<pre><code>import java.io.BufferedReader;\nimport java.io.Closeable;\nimport java.io.IOException;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.List;\n\npublic final class MultiFileReader implements Closeable {\n\n    private final List&lt;BufferedReader&gt; readers;\n\n    public MultiFileReader(List&lt;Path&gt; paths) {\n        readers = new ArrayList&lt;&gt;(paths.size());\n        try {\n            for (Path path : paths) {\n                readers.add(Files.newBufferedReader(path));\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        } finally {\n            close();\n        }\n    }\n\n    public List&lt;BufferedReader&gt; getReaders() {\n        return Collections.unmodifiableList(readers);\n    }\n\n    @Override\n    public void close() {\n        for (BufferedReader reader : readers) {\n            try {\n                reader.close();\n            } catch (Exception ignored) {\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","gradle","stanford-nlp"],"comments":[{"owner":{"account_id":387305,"reputation":22984,"user_id":745574,"accept_rate":84,"display_name":"RaGe"},"score":1,"creation_date":1453867175,"post_id":35028232,"comment_id":57783462,"body_markdown":"As suggested, try running with --info, --debug or --stacktrace to get more information. [There are a bunch of system.ext(-1) in Phrasal source](https://github.com/stanfordnlp/phrasal/search?utf8=%E2%9C%93&amp;q=System.exit%28-1%29). You&#39;re clearly hitting one of those.","body":"As suggested, try running with --info, --debug or --stacktrace to get more information. <a href=\"https://github.com/stanfordnlp/phrasal/search?utf8=%E2%9C%93&amp;q=System.exit%28-1%29\" rel=\"nofollow noreferrer\">There are a bunch of system.ext(-1) in Phrasal source</a>. You&#39;re clearly hitting one of those."},{"owner":{"account_id":5520793,"reputation":4379,"user_id":4383820,"accept_rate":81,"display_name":"Lasitha Yapa"},"score":0,"creation_date":1453874601,"post_id":35028232,"comment_id":57785778,"body_markdown":"I&#39;ve updated the question","body":"I&#39;ve updated the question"},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":2,"creation_date":1453874854,"post_id":35028232,"comment_id":57785870,"body_markdown":"I find gradle particularly obtuse when debugging problems. Turn debug mode on: Try `gradle -X run`","body":"I find gradle particularly obtuse when debugging problems. Turn debug mode on: Try <code>gradle -X run</code>"},{"owner":{"account_id":5520793,"reputation":4379,"user_id":4383820,"accept_rate":81,"display_name":"Lasitha Yapa"},"score":0,"creation_date":1453875876,"post_id":35028232,"comment_id":57786245,"body_markdown":"@Bohemian it gives me a error. &quot;Unknown command line option&quot;","body":"@Bohemian it gives me a error. &quot;Unknown command line option&quot;"},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":2,"creation_date":1453877749,"post_id":35028232,"comment_id":57786952,"body_markdown":"@Maan sorry about that - for `run` it&#39;s `-d` for debug. Try `gradle run -d` (I tested that and it works).","body":"@Maan sorry about that - for <code>run</code> it&#39;s <code>-d</code> for debug. Try <code>gradle run -d</code> (I tested that and it works)."},{"owner":{"account_id":5520793,"reputation":4379,"user_id":4383820,"accept_rate":81,"display_name":"Lasitha Yapa"},"score":0,"creation_date":1453881046,"post_id":35028232,"comment_id":57788575,"body_markdown":"@Bohemian Yes it did work. But not a solution for my problem.","body":"@Bohemian Yes it did work. But not a solution for my problem."}],"answers":[{"tags":[],"owner":{"account_id":387305,"reputation":22984,"user_id":745574,"accept_rate":84,"display_name":"RaGe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1453900408,"creation_date":1453900408,"answer_id":35038379,"question_id":35028232,"body_markdown":"The `run` task is added by the [application plugin][1]. It is of type JavaExec and just runs the class defined by `mainClassName` in build.gradle; which in your case is `edu.stanford.nlp.mt.Phrasal`\r\n\r\nNow as @Bohemian said, your stack trace doesn&#39;t tell you much because all it is saying is that the java process returned `-1` which could have happened from one of several [code lines that exit with -1][2] in Phrasal. \r\n\r\nadding `--debug` or `--info` to gradle commands aren&#39;t helping because they just change the log level of the gradle process, and not the separate java process being started by the JavaExec(run) task.\r\n\r\nThe simplest way to debug I reckon is run the `distZip` task, which creates a zip file of an executable jar and all required dependencies, unzip it, and run the jar with `java -jar` from the commandline. This should throw more helpful error messages about where the failure is occurring and you can go about fixing it from there.\r\n\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/application_plugin.html\r\n  [2]: https://github.com/stanfordnlp/phrasal/search?utf8=%E2%9C%93&amp;q=System.exit%28-1%29","title":"Finished with non-zero exit value 255","body":"<p>The <code>run</code> task is added by the <a href=\"https://docs.gradle.org/current/userguide/application_plugin.html\" rel=\"nofollow\">application plugin</a>. It is of type JavaExec and just runs the class defined by <code>mainClassName</code> in build.gradle; which in your case is <code>edu.stanford.nlp.mt.Phrasal</code></p>\n\n<p>Now as @Bohemian said, your stack trace doesn't tell you much because all it is saying is that the java process returned <code>-1</code> which could have happened from one of several <a href=\"https://github.com/stanfordnlp/phrasal/search?utf8=%E2%9C%93&amp;q=System.exit%28-1%29\" rel=\"nofollow\">code lines that exit with -1</a> in Phrasal. </p>\n\n<p>adding <code>--debug</code> or <code>--info</code> to gradle commands aren't helping because they just change the log level of the gradle process, and not the separate java process being started by the JavaExec(run) task.</p>\n\n<p>The simplest way to debug I reckon is run the <code>distZip</code> task, which creates a zip file of an executable jar and all required dependencies, unzip it, and run the jar with <code>java -jar</code> from the commandline. This should throw more helpful error messages about where the failure is occurring and you can go about fixing it from there.</p>\n"}],"owner":{"account_id":5520793,"reputation":4379,"user_id":4383820,"accept_rate":81,"display_name":"Lasitha Yapa"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12614,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1657591325,"creation_date":1453864702,"question_id":35028232,"body_markdown":"I&#39;m using gradle to work with Stanford Phrasal.\r\nWhen I use the command `gradle run` it fails with giving following error.\r\n\r\n    FAILED\r\n    \r\n    FAILURE: Build failed with an exception.\r\n    \r\n    * What went wrong:\r\n    Execution failed for task &#39;:run&#39;.\r\n    &gt; Process &#39;command &#39;/usr/lib/jvm/oracle_jdk8/bin/java&#39;&#39; finished with non-zero exit value 255\r\n    \r\n    * Try:\r\n    Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output.\r\n    \r\n    BUILD FAILED\r\n\r\n**UPDATE**\r\n----------\r\n\r\nWhen I tried `gradle run --stacktrace` I got following,\r\n    \r\n\r\n    * Exception is:\r\n    org.gradle.api.tasks.TaskExecutionException: Execution failed for task &#39;:run&#39;.\r\n    \tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:69)\r\n    \tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:46)\r\n    \tat org.gradle.api.internal.tasks.execution.PostExecutionAnalysisTaskExecuter.execute(PostExecutionAnalysisTaskExecuter.java:35)\r\n    \tat org.gradle.api.internal.tasks.execution.SkipUpToDateTaskExecuter.execute(SkipUpToDateTaskExecuter.java:64)\r\n    \r\n    \t... 58 more\r\n\r\n","title":"Finished with non-zero exit value 255","body":"<p>I'm using gradle to work with Stanford Phrasal.\nWhen I use the command <code>gradle run</code> it fails with giving following error.</p>\n\n<pre><code>FAILED\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':run'.\n&gt; Process 'command '/usr/lib/jvm/oracle_jdk8/bin/java'' finished with non-zero exit value 255\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output.\n\nBUILD FAILED\n</code></pre>\n\n<h2><strong>UPDATE</strong></h2>\n\n<p>When I tried <code>gradle run --stacktrace</code> I got following,</p>\n\n<pre><code>* Exception is:\norg.gradle.api.tasks.TaskExecutionException: Execution failed for task ':run'.\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:69)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:46)\n    at org.gradle.api.internal.tasks.execution.PostExecutionAnalysisTaskExecuter.execute(PostExecutionAnalysisTaskExecuter.java:35)\n    at org.gradle.api.internal.tasks.execution.SkipUpToDateTaskExecuter.execute(SkipUpToDateTaskExecuter.java:64)\n\n    ... 58 more\n</code></pre>\n"},{"tags":["java","hibernate","unit-testing","dao"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1657530327,"post_id":72935830,"comment_id":128823186,"body_markdown":"Depends on what you want to test? Do you want to test the query? The request itself or the JSON format? However, you should have a constant source for the data. What happens if someone accidentally deletes that specific label you are testing?","body":"Depends on what you want to test? Do you want to test the query? The request itself or the JSON format? However, you should have a constant source for the data. What happens if someone accidentally deletes that specific label you are testing?"},{"owner":{"account_id":14328701,"reputation":29,"user_id":10350037,"display_name":"D.S."},"score":0,"creation_date":1657531310,"post_id":72935830,"comment_id":128823542,"body_markdown":"I just wish to test the query and if it returns in LabelEntity object (if that makes sense).","body":"I just wish to test the query and if it returns in LabelEntity object (if that makes sense)."},{"owner":{"account_id":14328701,"reputation":29,"user_id":10350037,"display_name":"D.S."},"score":0,"creation_date":1657531383,"post_id":72935830,"comment_id":128823564,"body_markdown":"Also the API is using a database with a readonly account. I think it should be fine.","body":"Also the API is using a database with a readonly account. I think it should be fine."},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1657531673,"post_id":72935830,"comment_id":128823659,"body_markdown":"Then you need to set up a normal database connection and run that query. No mocking etc. really makes sense there. And for unit tests, never test against a system that you can&#39;t 110% guarantee not to change","body":"Then you need to set up a normal database connection and run that query. No mocking etc. really makes sense there. And for unit tests, never test against a system that you can&#39;t 110% guarantee not to change"},{"owner":{"account_id":14328701,"reputation":29,"user_id":10350037,"display_name":"D.S."},"score":0,"creation_date":1657531930,"post_id":72935830,"comment_id":128823743,"body_markdown":"Oh so there is no need to create a Unit Test for this DAO?","body":"Oh so there is no need to create a Unit Test for this DAO?"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1657532258,"post_id":72935830,"comment_id":128823871,"body_markdown":"You still want to have a unit test, but there is nothing special about it. You set up the database connection as usual and run your query and verify the result","body":"You still want to have a unit test, but there is nothing special about it. You set up the database connection as usual and run your query and verify the result"},{"owner":{"account_id":14328701,"reputation":29,"user_id":10350037,"display_name":"D.S."},"score":0,"creation_date":1657533018,"post_id":72935830,"comment_id":128824130,"body_markdown":"That&#39;s the thing I&#39;m not sure how to write that particular unit test :&lt;","body":"That&#39;s the thing I&#39;m not sure how to write that particular unit test :&lt;"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1657533118,"post_id":72935830,"comment_id":128824179,"body_markdown":"The same as you would write any other unit test, except that you don&#39;t mock but set up the usual database connection","body":"The same as you would write any other unit test, except that you don&#39;t mock but set up the usual database connection"}],"answers":[{"tags":[],"owner":{"account_id":8627776,"reputation":593,"user_id":6460453,"display_name":"K.Nikita"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657591005,"creation_date":1657591005,"answer_id":72946278,"question_id":72935830,"body_markdown":" 1. First add junit library and hamcrest\r\n\r\n        &lt;dependency&gt;\r\n         &lt;groupId&gt;junit&lt;/groupId&gt;\r\n         &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n         &lt;version&gt;4.13.2&lt;/version&gt;\r\n         &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n    \t &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\r\n    \t &lt;artifactId&gt;hamcrest-all&lt;/artifactId&gt;\r\n    \t &lt;version&gt;1.3&lt;/version&gt;\r\n    \t &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n2. For test sql query I use memory database [H2][1]\r\nAdd H2 JDBC Driver from Maven dependency: \r\n\r\n       &lt;dependency&gt;\r\n        &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n        &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n        &lt;version&gt;2.1.214&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n       &lt;/dependency&gt;\r\n3. Use database migrations library for create mock data. I advise you use database migration library for project.\r\nFor example [flyway][2] or [liquibase][3]. I selected flyway for sample.\r\nAdd from Maven dependency:\r\n\r\n       &lt;dependency&gt;\r\n        &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\r\n        &lt;artifactId&gt;flyway-core&lt;/artifactId&gt;\r\n        &lt;version&gt;8.5.13&lt;/version&gt;\r\n       &lt;/dependency&gt;\r\n\r\n3.1 Create migration directory **src/main/resources/db/migration/test**.\r\n3.2 Create sql script file. **V1__Create_label_table.sql** and set sql commands:\r\n\r\n    CREATE TABLE label (\r\n       id bigint not null,\r\n       name varchar(100) not null\r\n    );\r\n    \r\n    INSERT INTO label (id, name) values (1, &#39;My label&#39;);\r\n\r\nAnd need separately setting your entity manager for test...\r\n\r\nSample test:\r\n\r\n    @Test\r\n    public void test() {\r\n    \r\n    \tFlyway flyway = Flyway.configure()\r\n    \t\t\t.locations(&quot;classpath:/db/migration/test&quot;)\r\n    \t\t\t.baselineOnMigrate(true)\r\n    \t\t\t.dataSource(&quot;jdbc:h2:~/mem&quot;, &quot;test&quot;, null)\r\n    \t\t\t.load();\r\n    \r\n    \tflyway.clean();\r\n    \tflyway.migrate();\r\n    \r\n    \r\n    \tLabelDao labelDao = new LabelDao();\r\n    \tlabelDao.findLabelByLabelId(&quot;1&quot;);\r\n    \tassertThat(labelDao.findLabelByLabelId(&quot;1&quot;).getName(), equalTo(&quot;My label&quot;));\r\n    \r\n    }\r\n\r\nIf you use **spring** you can use [JpaRepository][4].\r\n\r\nFor example:\r\n\r\n    public interface LabelRepository extends JpaRepository&lt;LabelEntity, Long&gt; {\r\n    }\r\n\r\n\r\nAnd replace code:\r\n\r\n\r\n    @Service\r\n    public class LabelDao {\r\n    \r\n        @Autowired\r\n        private LabelRepository labelRepository;\r\n    \r\n        public Optional&lt;LabelEntity&gt; findLabelByLabelId(final Long labelId) {\r\n            return labelRepository.findById(labelId);\r\n        }\r\n    }\r\n\r\n\r\nSample test: \r\n\r\n\r\n    @SpringBootTest\r\n    class DemoApplicationTests {\r\n    \r\n    \t@Autowired\r\n    \tprivate LabelDao labelDao;\r\n    \r\n    \t@Test\r\n    \tpublic void test()  {\r\n    \t\tlabelDao.findLabelByLabelId(1L);\r\n    \t\tassertThat(Objects.requireNonNull(labelDao.findLabelByLabelId(1L).orElse(null)).getName(), equalTo(&quot;My label&quot;));\r\n    \t}\r\n    }\r\n\r\n  [1]: https://h2database.com/html/main.html\r\n  [2]: https://flywaydb.org/\r\n  [3]: https://www.liquibase.org/\r\n  [4]: https://docs.spring.io/spring-data/jpa/docs/current/reference/html/","title":"Hibernate DAO Unit Testing Simple Fetch","body":"<ol>\n<li><p>First add junit library and hamcrest</p>\n<pre><code>&lt;dependency&gt;\n &lt;groupId&gt;junit&lt;/groupId&gt;\n &lt;artifactId&gt;junit&lt;/artifactId&gt;\n &lt;version&gt;4.13.2&lt;/version&gt;\n &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\n &lt;artifactId&gt;hamcrest-all&lt;/artifactId&gt;\n &lt;version&gt;1.3&lt;/version&gt;\n &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n</li>\n<li><p>For test sql query I use memory database <a href=\"https://h2database.com/html/main.html\" rel=\"nofollow noreferrer\">H2</a>\nAdd H2 JDBC Driver from Maven dependency:</p>\n<pre><code>&lt;dependency&gt;\n &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n &lt;artifactId&gt;h2&lt;/artifactId&gt;\n &lt;version&gt;2.1.214&lt;/version&gt;\n &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n</li>\n<li><p>Use database migrations library for create mock data. I advise you use database migration library for project.\nFor example <a href=\"https://flywaydb.org/\" rel=\"nofollow noreferrer\">flyway</a> or <a href=\"https://www.liquibase.org/\" rel=\"nofollow noreferrer\">liquibase</a>. I selected flyway for sample.\nAdd from Maven dependency:</p>\n<pre><code>&lt;dependency&gt;\n &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\n &lt;artifactId&gt;flyway-core&lt;/artifactId&gt;\n &lt;version&gt;8.5.13&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n</li>\n</ol>\n<p>3.1 Create migration directory <strong>src/main/resources/db/migration/test</strong>.\n3.2 Create sql script file. <strong>V1__Create_label_table.sql</strong> and set sql commands:</p>\n<pre><code>CREATE TABLE label (\n   id bigint not null,\n   name varchar(100) not null\n);\n\nINSERT INTO label (id, name) values (1, 'My label');\n</code></pre>\n<p>And need separately setting your entity manager for test...</p>\n<p>Sample test:</p>\n<pre><code>@Test\npublic void test() {\n\n    Flyway flyway = Flyway.configure()\n            .locations(&quot;classpath:/db/migration/test&quot;)\n            .baselineOnMigrate(true)\n            .dataSource(&quot;jdbc:h2:~/mem&quot;, &quot;test&quot;, null)\n            .load();\n\n    flyway.clean();\n    flyway.migrate();\n\n\n    LabelDao labelDao = new LabelDao();\n    labelDao.findLabelByLabelId(&quot;1&quot;);\n    assertThat(labelDao.findLabelByLabelId(&quot;1&quot;).getName(), equalTo(&quot;My label&quot;));\n\n}\n</code></pre>\n<p>If you use <strong>spring</strong> you can use <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/\" rel=\"nofollow noreferrer\">JpaRepository</a>.</p>\n<p>For example:</p>\n<pre><code>public interface LabelRepository extends JpaRepository&lt;LabelEntity, Long&gt; {\n}\n</code></pre>\n<p>And replace code:</p>\n<pre><code>@Service\npublic class LabelDao {\n\n    @Autowired\n    private LabelRepository labelRepository;\n\n    public Optional&lt;LabelEntity&gt; findLabelByLabelId(final Long labelId) {\n        return labelRepository.findById(labelId);\n    }\n}\n</code></pre>\n<p>Sample test:</p>\n<pre><code>@SpringBootTest\nclass DemoApplicationTests {\n\n    @Autowired\n    private LabelDao labelDao;\n\n    @Test\n    public void test()  {\n        labelDao.findLabelByLabelId(1L);\n        assertThat(Objects.requireNonNull(labelDao.findLabelByLabelId(1L).orElse(null)).getName(), equalTo(&quot;My label&quot;));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":14328701,"reputation":29,"user_id":10350037,"display_name":"D.S."},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":330,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72946278,"answer_count":1,"score":1,"last_activity_date":1657591005,"creation_date":1657529063,"question_id":72935830,"body_markdown":"I am very new to API development in Java and would like to create a proper unit test for my DAO Java class. The project uses Hibernate and the class fetches data from a MySQL database, returns it in a JSON format for a GET request.\r\n\r\nI&#39;m not sure how to write the unit test, if anyone could help I&#39;d appreciate it.\r\n\r\n    public class LabelDAO extends AbstractDAO&lt;LabelEntity&gt; {\r\n    \r\n        public LabelEntity findLabelByLabelId(final String labelId) {\r\n            final String query = &quot;SELECT l FROM LabelEntity l WHERE l.labelId = :labelId&quot;;\r\n            return getEntityManager().createQuery(query, LabelEntity.class).setParameter(&quot;labelId&quot;, labelId).getSingleResult();\r\n        }\r\n    }","title":"Hibernate DAO Unit Testing Simple Fetch","body":"<p>I am very new to API development in Java and would like to create a proper unit test for my DAO Java class. The project uses Hibernate and the class fetches data from a MySQL database, returns it in a JSON format for a GET request.</p>\n<p>I'm not sure how to write the unit test, if anyone could help I'd appreciate it.</p>\n<pre><code>public class LabelDAO extends AbstractDAO&lt;LabelEntity&gt; {\n\n    public LabelEntity findLabelByLabelId(final String labelId) {\n        final String query = &quot;SELECT l FROM LabelEntity l WHERE l.labelId = :labelId&quot;;\n        return getEntityManager().createQuery(query, LabelEntity.class).setParameter(&quot;labelId&quot;, labelId).getSingleResult();\n    }\n}\n</code></pre>\n"},{"tags":["java","easymock"],"comments":[{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1657588366,"post_id":72946062,"comment_id":128841318,"body_markdown":"Please provide some code, perhaps missing the one line that you need help with. Also show the constructor you want to invoke.","body":"Please provide some code, perhaps missing the one line that you need help with. Also show the constructor you want to invoke."}],"answers":[{"tags":[],"owner":{"account_id":13394730,"reputation":26,"user_id":9666049,"display_name":"Kyle"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657589931,"creation_date":1657589236,"answer_id":72946135,"question_id":72946062,"body_markdown":"To get the Constructor object of a class you&#39;ll have to use reflection.\r\n\r\nHere&#39;s an example:\r\n```\r\nimport java.lang.reflect.Constructor;\r\n\r\npublic class HelloWorld {\r\n    public static void main(String []args){\r\n        try {\r\n            Class[] argumentsOfConstructor = new Class[] { String.class }; // Arguments of the constructor I wish to get\r\n            Constructor constructor = HelloWorld.class.getConstructor(argumentsOfConstructor); // Call getConstructor on class type\r\n         \r\n            System.out.println(constructor);\r\n        } catch (Exception ex) { }\r\n    }\r\n    \r\n    public HelloWorld(String test) {\r\n        // Example constructor\r\n    }\r\n}\r\n```\r\n\r\nSince `ConstructorArgs` accepts `initArgs` as a vararg of Objects, you should be able to pass the respective arguments that you would normally pass into the constructor while instantiating it.\r\n\r\nFrom my example above, it would be:\r\n```\r\nClass[] argumentsOfConstructor = new Class[] { String.class };\r\nConstructor constructor = HelloWorld.class.getConstructor(argumentsOfConstructor);\r\n\r\nConstructorArgs constructorArgs = new ConstructorArgs(constructor, &quot;my string&quot;);\r\n```","title":"How to pass ConstructorArgs type variable to a method as a parameter","body":"<p>To get the Constructor object of a class you'll have to use reflection.</p>\n<p>Here's an example:</p>\n<pre><code>import java.lang.reflect.Constructor;\n\npublic class HelloWorld {\n    public static void main(String []args){\n        try {\n            Class[] argumentsOfConstructor = new Class[] { String.class }; // Arguments of the constructor I wish to get\n            Constructor constructor = HelloWorld.class.getConstructor(argumentsOfConstructor); // Call getConstructor on class type\n         \n            System.out.println(constructor);\n        } catch (Exception ex) { }\n    }\n    \n    public HelloWorld(String test) {\n        // Example constructor\n    }\n}\n</code></pre>\n<p>Since <code>ConstructorArgs</code> accepts <code>initArgs</code> as a vararg of Objects, you should be able to pass the respective arguments that you would normally pass into the constructor while instantiating it.</p>\n<p>From my example above, it would be:</p>\n<pre><code>Class[] argumentsOfConstructor = new Class[] { String.class };\nConstructor constructor = HelloWorld.class.getConstructor(argumentsOfConstructor);\n\nConstructorArgs constructorArgs = new ConstructorArgs(constructor, &quot;my string&quot;);\n</code></pre>\n"}],"owner":{"account_id":7209966,"reputation":67,"user_id":14628070,"display_name":"Lumos"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1657589931,"creation_date":1657588098,"question_id":72946062,"body_markdown":"I&#39;m trying to use easymock library&#39;s createMock method.\r\nThe method definition looks like this: \r\n\r\n    createMock(Class&lt;T&gt; var1, ConstructorArgs var2, Method... var3); \r\n\r\n(https://easymock.org/api/org/easymock/IMocksControl.html)\r\nI want to use a particular constructor from my class and hence need to pass constructor argument with initial arguments.\r\nConstructorArgs definition: \r\n\r\n    ConstructorArgs(Constructor&lt;?&gt; constructor, Object... initArgs) \r\n\r\n(https://easymock.org/api/org/easymock/ConstructorArgs.html)\r\nCan someone please help with how to initialize constructorArgs with the constructor that \r\n\r\nI need to use and the initial values that I need to pass to the the constructor?","title":"How to pass ConstructorArgs type variable to a method as a parameter","body":"<p>I'm trying to use easymock library's createMock method.\nThe method definition looks like this:</p>\n<pre><code>createMock(Class&lt;T&gt; var1, ConstructorArgs var2, Method... var3); \n</code></pre>\n<p>(<a href=\"https://easymock.org/api/org/easymock/IMocksControl.html\" rel=\"nofollow noreferrer\">https://easymock.org/api/org/easymock/IMocksControl.html</a>)\nI want to use a particular constructor from my class and hence need to pass constructor argument with initial arguments.\nConstructorArgs definition:</p>\n<pre><code>ConstructorArgs(Constructor&lt;?&gt; constructor, Object... initArgs) \n</code></pre>\n<p>(<a href=\"https://easymock.org/api/org/easymock/ConstructorArgs.html\" rel=\"nofollow noreferrer\">https://easymock.org/api/org/easymock/ConstructorArgs.html</a>)\nCan someone please help with how to initialize constructorArgs with the constructor that</p>\n<p>I need to use and the initial values that I need to pass to the the constructor?</p>\n"},{"tags":["java","c++","sockets","udp"],"answers":[{"tags":[],"owner":{"account_id":4892666,"reputation":116364,"user_id":3943312,"display_name":"Sam Varshavchik"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1656817858,"creation_date":1656817858,"answer_id":72843693,"question_id":72843635,"body_markdown":"After a brief consultation with OpenCV reference, the above appears to be working with 384x288 three channel image, which adds up to 324kb worth of data.\r\n\r\nThe Java client appears to be attempting to construct a single datagram packet, of this size, then send it all at once.\r\n\r\nThe chances of being able to send a single UDP 324kb packet, anywhere, are slim to none. The maximum size of a single UDP socket is unspecified and depends on the underlying network socket; 508 bytes is the generally accepted maximum size, with modern network protocols.\r\n\r\nThis is implied by your C++ code, which uses a loop to attempt to read the entire frame (which is also somewhat naive, for the reasons mentioned shortly, but let&#39;s set this aside for now). You will need to add appropriate logic to the sending code to break it up.\r\n\r\nOnce you do this you will run into the next problem: UDP gives you absolutely no guarantees, whatsoever, that any UDP packet you send will be received. UDP, by definition, lacks any kind of retransmission logic, and is not a guaranteed delivery transport layer. This is explained in every textbook that focuses on network programming.\r\n\r\nCommon media streaming platforms achieve more or less reliable streaming over UDP through a combination of sophisticated rate limiting, detecting and adapting to the available bandwidth, and using complicated logic that deals with occasional dropped packets; minimizing the impact of dropped packets with some level of redundancy (a single dropped frame in a Youtube stream will be hardly noticed, as well as a slight, temporary, degradation in the audio stream). The chances of successfully receiving every one of the packets that adds up to the 324kb image, when the Java sender simply blasts them out, as fast as it can, are not very promising.\r\n\r\nSo, you have lot of work cut out for you, here, inventing and implementing your own versions of all of these underlying algorithms, for implementing some kind of a throttled streaming mechanism on top of UDP. It will be frankly easier to switch to TCP, get it working with TCP, then attempt to implement all of this on top of UDP after the fact.\r\n\r\nOne final note:\r\n```\r\n    uchar sockData[imgSize];\r\n```\r\nThis is not valid C++ either. Variable length arrays are non-standard C++, and are only a non-standard C++ extension that your compiler supports. Additionally, this will eat the aforementioned 324kb out of your stack, all in one gulp.\r\n\r\nAlthough modern C++ implementations will typically have so much stack space available: getting into a habit of doing this will eventually lead to tears. Don&#39;t do this, use `std::vector`.\r\n","title":"Sending frame from Java Client to C++ Server via UDP","body":"<p>After a brief consultation with OpenCV reference, the above appears to be working with 384x288 three channel image, which adds up to 324kb worth of data.</p>\n<p>The Java client appears to be attempting to construct a single datagram packet, of this size, then send it all at once.</p>\n<p>The chances of being able to send a single UDP 324kb packet, anywhere, are slim to none. The maximum size of a single UDP socket is unspecified and depends on the underlying network socket; 508 bytes is the generally accepted maximum size, with modern network protocols.</p>\n<p>This is implied by your C++ code, which uses a loop to attempt to read the entire frame (which is also somewhat naive, for the reasons mentioned shortly, but let's set this aside for now). You will need to add appropriate logic to the sending code to break it up.</p>\n<p>Once you do this you will run into the next problem: UDP gives you absolutely no guarantees, whatsoever, that any UDP packet you send will be received. UDP, by definition, lacks any kind of retransmission logic, and is not a guaranteed delivery transport layer. This is explained in every textbook that focuses on network programming.</p>\n<p>Common media streaming platforms achieve more or less reliable streaming over UDP through a combination of sophisticated rate limiting, detecting and adapting to the available bandwidth, and using complicated logic that deals with occasional dropped packets; minimizing the impact of dropped packets with some level of redundancy (a single dropped frame in a Youtube stream will be hardly noticed, as well as a slight, temporary, degradation in the audio stream). The chances of successfully receiving every one of the packets that adds up to the 324kb image, when the Java sender simply blasts them out, as fast as it can, are not very promising.</p>\n<p>So, you have lot of work cut out for you, here, inventing and implementing your own versions of all of these underlying algorithms, for implementing some kind of a throttled streaming mechanism on top of UDP. It will be frankly easier to switch to TCP, get it working with TCP, then attempt to implement all of this on top of UDP after the fact.</p>\n<p>One final note:</p>\n<pre><code>    uchar sockData[imgSize];\n</code></pre>\n<p>This is not valid C++ either. Variable length arrays are non-standard C++, and are only a non-standard C++ extension that your compiler supports. Additionally, this will eat the aforementioned 324kb out of your stack, all in one gulp.</p>\n<p>Although modern C++ implementations will typically have so much stack space available: getting into a habit of doing this will eventually lead to tears. Don't do this, use <code>std::vector</code>.</p>\n"}],"owner":{"account_id":14219858,"reputation":289,"user_id":10272521,"display_name":"xnok"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":289,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1657589856,"creation_date":1656816498,"question_id":72843635,"body_markdown":"I am trying to implement a UDP server with C++ to receive frames from the client. I am using this [question][1] as reference. Only difference is that I have a Java Client that sends the frames via udp:\r\n\r\n\r\nJava client that sends image via UDP:\r\n\r\n    byte[] buffer = GetImageByte(FrameData,384,288,false); //GetImageByte is a function that returns a raw frame\r\n    DatagramSocket clientSocket = new DatagramSocket();\r\n    InetAddress IPAddress = InetAddress.getByName(&quot;127.0.0.1&quot;);\r\n    DatagramPacket packet = new DatagramPacket(buffer, buffer.length, IPAddress, 9999);\r\n    clientSocket.send(packet); \r\n\r\nC++ server that receives udp image:\r\n\r\n\r\n    #include &lt;stdio.h&gt;\r\n    #include &lt;stdlib.h&gt;\r\n    #include &lt;unistd.h&gt;\r\n    #include &lt;string.h&gt;\r\n    #include &lt;sys/types.h&gt;\r\n    #include &lt;sys/socket.h&gt;\r\n    #include &lt;netinet/in.h&gt;\r\n    #include &lt;netdb.h&gt; \r\n    #include &lt;opencv2/core/core.hpp&gt;\r\n    #include &lt;opencv2/highgui/highgui.hpp&gt;\r\n    #include &lt;iostream&gt;\r\n    \r\n    using namespace cv;\r\n    using namespace std;\r\n    \r\n    void error(const char *msg)\r\n    {\r\n        perror(msg);\r\n        exit(1);\r\n    }\r\n    \r\n    int main(int argc, char *argv[])\r\n    {\r\n    \tint sockfd, newsockfd, portno;\r\n        socklen_t clilen;\r\n        char buffer[1024];\r\n        struct sockaddr_in serv_addr, cli_addr;\r\n        int n;\r\n        int height = 384;\r\n        int width= 288;\r\n    \r\n    \r\n        sockfd = socket(AF_INET, SOCK_DGRAM, 0);\r\n        serv_addr.sin_family = AF_INET;\r\n        serv_addr.sin_addr.s_addr = INADDR_ANY;\r\n        serv_addr.sin_port = htons(9999);\r\n    \r\n    \r\n    \tMat img = Mat::zeros( height,width, CV_8UC3);\r\n    \tint imgSize = img.total()*img.elemSize();\r\n    \tuchar sockData[imgSize];\r\n        int bytes = 0; \r\n        for (int i = 0; i &lt; imgSize; i += bytes) {\r\n    \t\tif ((bytes = recv(sockfd, sockData +i, imgSize  - i, 0)) == -1)  {\r\n    \t\t\tbreak;\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n        int ptr=0;\r\n    \tfor (int i = 0;  i &lt; img.rows; i++) {\r\n    \t\tfor (int j = 0; j &lt; img.cols; j++) {                                     \r\n    \t\t\timg.at&lt;cv::Vec3b&gt;(i,j) = cv::Vec3b(sockData[ptr+ 0],sockData[ptr+1],sockData[ptr+2]);\r\n    \t\t\tptr=ptr+3;\r\n        }\r\n    }\r\n    \r\n    \r\n        Mat image(384,288,CV_8UC3,*buffer);\r\n        close(newsockfd);\r\n        close(sockfd);\r\n        \r\n        \r\n        imshow( &quot;Server&quot;, image);  \r\n        waitKey(0);\r\n        return 0; \r\n    }\r\n\r\n\r\nWhat I am trying to do is simply receive a frame and show it using OpenCV. The problem is that the code compiles successfully but no errors or any helpful message is shown in the console whatsoever. I tested sending the image to a UDP server in Python it works. I&#39;d like to know how can I receive a frame via UDP using C++ and show it on screen using OpenCv?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/20314524/c-opencv-image-sending-through-socket","title":"Sending frame from Java Client to C++ Server via UDP","body":"<p>I am trying to implement a UDP server with C++ to receive frames from the client. I am using this <a href=\"https://stackoverflow.com/questions/20314524/c-opencv-image-sending-through-socket\">question</a> as reference. Only difference is that I have a Java Client that sends the frames via udp:</p>\n<p>Java client that sends image via UDP:</p>\n<pre><code>byte[] buffer = GetImageByte(FrameData,384,288,false); //GetImageByte is a function that returns a raw frame\nDatagramSocket clientSocket = new DatagramSocket();\nInetAddress IPAddress = InetAddress.getByName(&quot;127.0.0.1&quot;);\nDatagramPacket packet = new DatagramPacket(buffer, buffer.length, IPAddress, 9999);\nclientSocket.send(packet); \n</code></pre>\n<p>C++ server that receives udp image:</p>\n<pre><code>#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n#include &lt;unistd.h&gt;\n#include &lt;string.h&gt;\n#include &lt;sys/types.h&gt;\n#include &lt;sys/socket.h&gt;\n#include &lt;netinet/in.h&gt;\n#include &lt;netdb.h&gt; \n#include &lt;opencv2/core/core.hpp&gt;\n#include &lt;opencv2/highgui/highgui.hpp&gt;\n#include &lt;iostream&gt;\n\nusing namespace cv;\nusing namespace std;\n\nvoid error(const char *msg)\n{\n    perror(msg);\n    exit(1);\n}\n\nint main(int argc, char *argv[])\n{\n    int sockfd, newsockfd, portno;\n    socklen_t clilen;\n    char buffer[1024];\n    struct sockaddr_in serv_addr, cli_addr;\n    int n;\n    int height = 384;\n    int width= 288;\n\n\n    sockfd = socket(AF_INET, SOCK_DGRAM, 0);\n    serv_addr.sin_family = AF_INET;\n    serv_addr.sin_addr.s_addr = INADDR_ANY;\n    serv_addr.sin_port = htons(9999);\n\n\n    Mat img = Mat::zeros( height,width, CV_8UC3);\n    int imgSize = img.total()*img.elemSize();\n    uchar sockData[imgSize];\n    int bytes = 0; \n    for (int i = 0; i &lt; imgSize; i += bytes) {\n        if ((bytes = recv(sockfd, sockData +i, imgSize  - i, 0)) == -1)  {\n            break;\n        }\n        \n    }\n    int ptr=0;\n    for (int i = 0;  i &lt; img.rows; i++) {\n        for (int j = 0; j &lt; img.cols; j++) {                                     \n            img.at&lt;cv::Vec3b&gt;(i,j) = cv::Vec3b(sockData[ptr+ 0],sockData[ptr+1],sockData[ptr+2]);\n            ptr=ptr+3;\n    }\n}\n\n\n    Mat image(384,288,CV_8UC3,*buffer);\n    close(newsockfd);\n    close(sockfd);\n    \n    \n    imshow( &quot;Server&quot;, image);  \n    waitKey(0);\n    return 0; \n}\n</code></pre>\n<p>What I am trying to do is simply receive a frame and show it using OpenCV. The problem is that the code compiles successfully but no errors or any helpful message is shown in the console whatsoever. I tested sending the image to a UDP server in Python it works. I'd like to know how can I receive a frame via UDP using C++ and show it on screen using OpenCv?</p>\n"},{"tags":["java","swing","documentfilter","styleddocument"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1657578196,"post_id":72940219,"comment_id":128839715,"body_markdown":"The [Text Component Demo](https://docs.oracle.com/javase/tutorial/uiswing/components/generaltext.html#filter) uses a DocumentFilter on a StyledDocument. Maybe get rid of the synchronized and invokeLater() in your highlight method. Swing is single threaded so all updates to the Document should already be done on the EDT.","body":"The <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/generaltext.html#filter\" rel=\"nofollow noreferrer\">Text Component Demo</a> uses a DocumentFilter on a StyledDocument. Maybe get rid of the synchronized and invokeLater() in your highlight method. Swing is single threaded so all updates to the Document should already be done on the EDT."},{"owner":{"account_id":16537587,"reputation":486,"user_id":11949116,"display_name":"Abdo21"},"score":0,"creation_date":1657590582,"post_id":72940219,"comment_id":128841622,"body_markdown":"@camickr Thank you for your answer, I did what you suggested but it still doesn&#39;t work! I override an extrat method, public void insertUpdate(DefaultDocumentEvent chng, AttributeSet attr){super.insertUpdate(chng, attr); highlight();} in HighlightStyledDocument class and it works now. Thanks.","body":"@camickr Thank you for your answer, I did what you suggested but it still doesn&#39;t work! I override an extrat method, public void insertUpdate(DefaultDocumentEvent chng, AttributeSet attr){super.insertUpdate(chng, attr); highlight();} in HighlightStyledDocument class and it works now. Thanks."}],"answers":[{"tags":[],"owner":{"account_id":16537587,"reputation":486,"user_id":11949116,"display_name":"Abdo21"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657589309,"creation_date":1657589309,"answer_id":72946140,"question_id":72940219,"body_markdown":"Based on @camickr&#39;s comment, here&#39;s the answer\r\n\r\n    public class CustomDocumentFilter extends DocumentFilter {\r\n    \r\n        public CustomDocumentFilter() {\r\n    \r\n        }\r\n    }\r\n\r\n-----------------------------------------------------------------------------\r\n\r\n    public class HighlightStyledDocument extends DefaultStyledDocument {\r\n        private final Style defaultStyle;\r\n        private final Style myStyle;\r\n    \r\n        public HighlightStyledDocument(StyleContext styleContext) {\r\n            super(styleContext);\r\n    \r\n            this.defaultStyle = styleContext.getStyle(StyleContext.DEFAULT_STYLE);\r\n            this.myStyle = styleContext.addStyle(&quot;mystyle&quot;, null);\r\n            StyleConstants.setForeground(myStyle, Color.BLUE);\r\n        }\r\n    \r\n        @Override\r\n        public void insertString(int offs, String str, AttributeSet a) throws BadLocationException {\r\n            super.insertString(offs, str, a);\r\n            highlight();\r\n        }\r\n    \r\n        @Override\r\n        public void remove(int offs, int len) throws BadLocationException {\r\n            super.remove(offs, len);\r\n            highlight();\r\n        }\r\n    \r\n        @Override\r\n        protected void insertUpdate(DefaultDocumentEvent chng, AttributeSet attr) {\r\n            super.insertUpdate(chng, attr);\r\n            highlight();\r\n        }\r\n    \r\n        private void highlight() {\r\n            try {\r\n                String text = getText(0, getLength());\r\n                setCharacterAttributes(0, text.length(), defaultStyle, true);\r\n                for (Matcher m = KEYWORDS.matcher(text); m.find(); ) {\r\n                    setCharacterAttributes(m.start(), m.end()-m.start(), myStyle, true);\r\n                }\r\n            } catch (BadLocationException ignored) {\r\n            }\r\n        }\r\n    \r\n        public static final Pattern KEYWORDS = Pattern.compile(\r\n                &quot;(\\\\b)(void|int|if|else|while|switch|for|do|float)(\\\\b)&quot;,\r\n                Pattern.CASE_INSENSITIVE);\r\n    }\r\n\r\n-----------------------------------------------------------------------------\r\n\r\n    public class Main extends JFrame {\r\n    \r\n        public Main() {\r\n            JTextPane textPane = new JTextPane(new HighlightStyledDocument(new StyleContext()));\r\n            add(textPane, BorderLayout.CENTER);\r\n            setSize(new Dimension(200, 200));\r\n    \r\n            setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\r\n            setLocationRelativeTo(null);\r\n    \r\n            AbstractDocument doc;\r\n            StyledDocument styledDoc = textPane.getStyledDocument();\r\n            if (styledDoc instanceof AbstractDocument) {\r\n                doc = (AbstractDocument)styledDoc;\r\n                doc.setDocumentFilter(new CustomDocumentFilter());\r\n            }\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            SwingUtilities.invokeLater(() -&gt; {\r\n                Main main = new Main();\r\n                main.setVisible(true);\r\n            });\r\n        }\r\n    }\r\n\r\n","title":"Why custom styled document can&#39;t work with custom filter document?","body":"<p>Based on @camickr's comment, here's the answer</p>\n<pre><code>public class CustomDocumentFilter extends DocumentFilter {\n\n    public CustomDocumentFilter() {\n\n    }\n}\n</code></pre>\n<hr />\n<pre><code>public class HighlightStyledDocument extends DefaultStyledDocument {\n    private final Style defaultStyle;\n    private final Style myStyle;\n\n    public HighlightStyledDocument(StyleContext styleContext) {\n        super(styleContext);\n\n        this.defaultStyle = styleContext.getStyle(StyleContext.DEFAULT_STYLE);\n        this.myStyle = styleContext.addStyle(&quot;mystyle&quot;, null);\n        StyleConstants.setForeground(myStyle, Color.BLUE);\n    }\n\n    @Override\n    public void insertString(int offs, String str, AttributeSet a) throws BadLocationException {\n        super.insertString(offs, str, a);\n        highlight();\n    }\n\n    @Override\n    public void remove(int offs, int len) throws BadLocationException {\n        super.remove(offs, len);\n        highlight();\n    }\n\n    @Override\n    protected void insertUpdate(DefaultDocumentEvent chng, AttributeSet attr) {\n        super.insertUpdate(chng, attr);\n        highlight();\n    }\n\n    private void highlight() {\n        try {\n            String text = getText(0, getLength());\n            setCharacterAttributes(0, text.length(), defaultStyle, true);\n            for (Matcher m = KEYWORDS.matcher(text); m.find(); ) {\n                setCharacterAttributes(m.start(), m.end()-m.start(), myStyle, true);\n            }\n        } catch (BadLocationException ignored) {\n        }\n    }\n\n    public static final Pattern KEYWORDS = Pattern.compile(\n            &quot;(\\\\b)(void|int|if|else|while|switch|for|do|float)(\\\\b)&quot;,\n            Pattern.CASE_INSENSITIVE);\n}\n</code></pre>\n<hr />\n<pre><code>public class Main extends JFrame {\n\n    public Main() {\n        JTextPane textPane = new JTextPane(new HighlightStyledDocument(new StyleContext()));\n        add(textPane, BorderLayout.CENTER);\n        setSize(new Dimension(200, 200));\n\n        setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\n        setLocationRelativeTo(null);\n\n        AbstractDocument doc;\n        StyledDocument styledDoc = textPane.getStyledDocument();\n        if (styledDoc instanceof AbstractDocument) {\n            doc = (AbstractDocument)styledDoc;\n            doc.setDocumentFilter(new CustomDocumentFilter());\n        }\n    }\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(() -&gt; {\n            Main main = new Main();\n            main.setVisible(true);\n        });\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":16537587,"reputation":486,"user_id":11949116,"display_name":"Abdo21"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72946140,"answer_count":1,"score":0,"last_activity_date":1657589309,"creation_date":1657549898,"question_id":72940219,"body_markdown":"I am new to the java-swing library and currently I&#39;m working on a text editor for a programming language. I have add the highlight key words future and it work fine. \r\n\r\nI also need to add other futures such as auto indent, auto pair,... To do this I need to add my custom document filter: \r\n\r\n    ((AbstractDocument) textPane.getDocument()).setDocumentFilter(new CustomDocumentFilter())\r\n\r\nHowever, when I add the custom filter, the highlighter stops working. I don&#39;t know what&#39;s going on, but I think maybe the highlighter is using the default filter and when I add it, it overrides the default one. I also searched for &quot;addDocumentFilter&quot; but the framework does not offer such a method.\r\n\r\nHere is the complete code:\r\n    \r\n    public class CustomDocumentFilter extends DocumentFilter {\r\n    \r\n        public CustomDocumentFilter() {\r\n           //...\r\n        }\r\n        //...\r\n    }\r\n\r\n----------------------------------------------------------------------------\r\n\r\n    public class HighlightStyledDocument extends DefaultStyledDocument {\r\n        private final Style defaultStyle;\r\n        private final Style myStyle;\r\n    \r\n        public HighlightStyledDocument(StyleContext styleContext) {\r\n            super(styleContext);\r\n    \r\n            this.defaultStyle = styleContext.getStyle(StyleContext.DEFAULT_STYLE);\r\n            this.myStyle = styleContext.addStyle(&quot;mystyle&quot;, null);\r\n            StyleConstants.setForeground(myStyle, Color.BLUE);\r\n        }\r\n    \r\n        @Override\r\n        public void insertString(int offs, String str, AttributeSet a) throws BadLocationException {\r\n            super.insertString(offs, str, a);\r\n            highlight();\r\n        }\r\n    \r\n        @Override\r\n        public void remove(int offs, int len) throws BadLocationException {\r\n            super.remove(offs, len);\r\n            highlight();\r\n        }\r\n    \r\n        private synchronized void highlight() {\r\n            SwingUtilities.invokeLater(() -&gt; {\r\n                try {\r\n                    String text = getText(0, getLength());\r\n                    setCharacterAttributes(0, text.length(), defaultStyle, true);\r\n                    for (Matcher m = KEYWORDS.matcher(text); m.find(); ) {\r\n                        setCharacterAttributes(m.start(), m.end()-m.start(), myStyle, true);\r\n                    }\r\n                } catch (BadLocationException ignored) {\r\n                }\r\n            });\r\n        }\r\n    \r\n    \r\n        public static final Pattern KEYWORDS = Pattern.compile(\r\n                &quot;(\\\\b)(void|int|if|else|while|switch|for|do|float)(\\\\b)&quot;,\r\n                Pattern.CASE_INSENSITIVE);\r\n    }\r\n\r\n----------------------------------------------------------------------------------------\r\n\r\n    public class Main extends JFrame {\r\n    \r\n        public Main() {\r\n            JTextPane textPane = new JTextPane(new HighlightStyledDocument(new StyleContext()));\r\n            add(textPane, BorderLayout.CENTER);\r\n            setSize(new Dimension(200, 200));\r\n    \r\n            setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\r\n            setLocationRelativeTo(null);\r\n            \r\n            //if I comment this line, the highlighter work fine !!!\r\n            ((AbstractDocument) textPane.getDocument()).setDocumentFilter(new CustomDocumentFilter());\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            SwingUtilities.invokeLater(() -&gt; {\r\n                Main main = new Main();\r\n                main.setVisible(true);\r\n            });\r\n        }\r\n    }\r\n        \r\nI will be grateful if someone could help me.","title":"Why custom styled document can&#39;t work with custom filter document?","body":"<p>I am new to the java-swing library and currently I'm working on a text editor for a programming language. I have add the highlight key words future and it work fine.</p>\n<p>I also need to add other futures such as auto indent, auto pair,... To do this I need to add my custom document filter:</p>\n<pre><code>((AbstractDocument) textPane.getDocument()).setDocumentFilter(new CustomDocumentFilter())\n</code></pre>\n<p>However, when I add the custom filter, the highlighter stops working. I don't know what's going on, but I think maybe the highlighter is using the default filter and when I add it, it overrides the default one. I also searched for &quot;addDocumentFilter&quot; but the framework does not offer such a method.</p>\n<p>Here is the complete code:</p>\n<pre><code>public class CustomDocumentFilter extends DocumentFilter {\n\n    public CustomDocumentFilter() {\n       //...\n    }\n    //...\n}\n</code></pre>\n<hr />\n<pre><code>public class HighlightStyledDocument extends DefaultStyledDocument {\n    private final Style defaultStyle;\n    private final Style myStyle;\n\n    public HighlightStyledDocument(StyleContext styleContext) {\n        super(styleContext);\n\n        this.defaultStyle = styleContext.getStyle(StyleContext.DEFAULT_STYLE);\n        this.myStyle = styleContext.addStyle(&quot;mystyle&quot;, null);\n        StyleConstants.setForeground(myStyle, Color.BLUE);\n    }\n\n    @Override\n    public void insertString(int offs, String str, AttributeSet a) throws BadLocationException {\n        super.insertString(offs, str, a);\n        highlight();\n    }\n\n    @Override\n    public void remove(int offs, int len) throws BadLocationException {\n        super.remove(offs, len);\n        highlight();\n    }\n\n    private synchronized void highlight() {\n        SwingUtilities.invokeLater(() -&gt; {\n            try {\n                String text = getText(0, getLength());\n                setCharacterAttributes(0, text.length(), defaultStyle, true);\n                for (Matcher m = KEYWORDS.matcher(text); m.find(); ) {\n                    setCharacterAttributes(m.start(), m.end()-m.start(), myStyle, true);\n                }\n            } catch (BadLocationException ignored) {\n            }\n        });\n    }\n\n\n    public static final Pattern KEYWORDS = Pattern.compile(\n            &quot;(\\\\b)(void|int|if|else|while|switch|for|do|float)(\\\\b)&quot;,\n            Pattern.CASE_INSENSITIVE);\n}\n</code></pre>\n<hr />\n<pre><code>public class Main extends JFrame {\n\n    public Main() {\n        JTextPane textPane = new JTextPane(new HighlightStyledDocument(new StyleContext()));\n        add(textPane, BorderLayout.CENTER);\n        setSize(new Dimension(200, 200));\n\n        setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\n        setLocationRelativeTo(null);\n        \n        //if I comment this line, the highlighter work fine !!!\n        ((AbstractDocument) textPane.getDocument()).setDocumentFilter(new CustomDocumentFilter());\n    }\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(() -&gt; {\n            Main main = new Main();\n            main.setVisible(true);\n        });\n    }\n}\n    \n</code></pre>\n<p>I will be grateful if someone could help me.</p>\n"},{"tags":["java","apache-poi"],"comments":[{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1657537249,"post_id":72937326,"comment_id":128825603,"body_markdown":"You can start by paginating you SELECT statement. That way you have to process less rows.","body":"You can start by paginating you SELECT statement. That way you have to process less rows."},{"owner":{"account_id":6524069,"reputation":715,"user_id":5047297,"accept_rate":53,"display_name":"WestFarmer"},"score":0,"creation_date":1657550581,"post_id":72937326,"comment_id":128831006,"body_markdown":"@AxelRichter it&#39;s does&#39;t matter here, If I understand SXSSFWorkbook correctly, when specify `new SXSSFWorkbook(1000)`, only 1000 rows should be in memory, while extra rows will be write to tmp file on disk..","body":"@AxelRichter it&#39;s does&#39;t matter here, If I understand SXSSFWorkbook correctly, when specify <code>new SXSSFWorkbook(1000)</code>, only 1000 rows should be in memory, while extra rows will be write to tmp file on disk.."},{"owner":{"account_id":964210,"reputation":1018,"user_id":987959,"display_name":"PJ Fanning"},"score":0,"creation_date":1657559027,"post_id":72937326,"comment_id":128834294,"body_markdown":"This sample might be worth experimenting with (needs POI 5.2.+) -  https://svn.apache.org/repos/asf/poi/trunk/poi-examples/src/main/java/org/apache/poi/examples/xssf/streaming/DeferredGeneration.java","body":"This sample might be worth experimenting with (needs POI 5.2.+) -  <a href=\"https://svn.apache.org/repos/asf/poi/trunk/poi-examples/src/main/java/org/apache/poi/examples/xssf/streaming/DeferredGeneration.java\" rel=\"nofollow noreferrer\">svn.apache.org/repos/asf/poi/trunk/poi-examples/src/main/jav&zwnj;&#8203;a/&hellip;</a>"},{"owner":{"account_id":6524069,"reputation":715,"user_id":5047297,"accept_rate":53,"display_name":"WestFarmer"},"score":0,"creation_date":1657588441,"post_id":72937326,"comment_id":128841330,"body_markdown":"@AxelRichter as your said, 1000 rows memory usage should be less than 10M, but jstat output shows that heap usage increased almost 200M, not on same level.","body":"@AxelRichter as your said, 1000 rows memory usage should be less than 10M, but jstat output shows that heap usage increased almost 200M, not on same level."}],"owner":{"account_id":6524069,"reputation":715,"user_id":5047297,"accept_rate":53,"display_name":"WestFarmer"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":570,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657589079,"creation_date":1657536365,"question_id":72937326,"body_markdown":"I want to export a big `ResultSet` to excel file using streaming manner to avoid too large heap consumption.\r\n\r\nhere is my testing code:\r\n\r\n    @GetMapping(path = &quot;/data/export&quot;, produces = &quot;application/vnd.openxmlformats-officedocument.spreadsheetml.sheet&quot;)\r\n    \tpublic void exportData(HttpServletRequest request, HttpServletResponse response) {\r\n    \t\tresponse.setHeader(&quot;Content-Disposition&quot;, &quot;attachment; filename=demo.xlsx&quot;);\r\n    \t\tString sql = &quot;SELECT\\n&quot; + &quot;    zh.jxdxdh,\\n&quot; + &quot;    zh.zhdh,\\n&quot; + &quot;    zh.zzh,\\n&quot; + &quot;    zh.zhhm,\\n&quot; + &quot;    zh.khh,\\n&quot; + &quot;    zh.zhye,\\n&quot; + &quot;    jg.jgmc,\\n&quot; + &quot;    zh.kmh,\\n&quot;\r\n    \t\t\t\t+ &quot;    bz.bzzwmc bz,\\n&quot; + &quot;    zh.khrq,\\n&quot; + &quot;    zh.nll,\\n&quot; + &quot;    zh.xhrq,\\n&quot; + &quot;    fh.jgmc    fhjgmc,\\n&quot; + &quot;    glxzh.jgmc ssglxzh,\\n&quot; + &quot;    TO_NUMBER (SUBSTR(zh.qx, 2)) || \\n&quot;\r\n    \t\t\t\t+ &quot;    CASE\\n&quot; + &quot;        WHEN SUBSTR (zh.qx, 1, 1) = &#39;D&#39; \\n&quot; + &quot;        THEN &#39;天&#39;\\n&quot; + &quot;        WHEN SUBSTR (zh.qx, 1, 1) = &#39;M&#39; \\n&quot; + &quot;        THEN &#39;月&#39;\\n&quot;\r\n    \t\t\t\t+ &quot;        WHEN SUBSTR (zh.qx, 1, 1) = &#39;Y&#39; \\n&quot; + &quot;        THEN &#39;年&#39;\\n&quot; + &quot;    END                    qx,\\n&quot; + &quot;    NULL                   ffrq,\\n&quot; + &quot;    NVL (fpzt.ztms, &#39;未分配&#39;) fpzt,\\n&quot;\r\n    \t\t\t\t+ &quot;    NVL (fpzt.fpgx, &#39;无关系&#39;) fpms\\n&quot; + &quot;FROM\\n&quot; + &quot;    khdx_jg jg\\n&quot; + &quot;LEFT JOIN \\n&quot; + &quot;    khdx_jg fh \\n&quot; + &quot;ON \\n&quot; + &quot;    fh.jgdh = jg.FHDH\\n&quot; + &quot;LEFT JOIN \\n&quot;\r\n    \t\t\t\t+ &quot;    khdx_jg glxzh \\n&quot; + &quot;ON \\n&quot; + &quot;    glxzh.JGDH = jg.glxzhdh\\n&quot; + &quot;INNER JOIN \\n&quot; + &quot;    jxdx_ckzh zh \\n&quot; + &quot;ON \\n&quot; + &quot;    jg.jgdh = zh.jgdh\\n&quot; + &quot;INNER JOIN \\n&quot;\r\n    \t\t\t\t+ &quot;    TABLE ( fn_getsjjg_java_qx (20201130, 215, 6) ) jgqx \\n&quot; + &quot;ON \\n&quot; + &quot;    jgqx.khdxdh = jg.khdxdh\\n&quot; + &quot;LEFT JOIN \\n&quot; + &quot;    csb_bz bz \\n&quot; + &quot;ON \\n&quot; + &quot;    bz.bz = zh.bz\\n&quot;\r\n    \t\t\t\t+ &quot;LEFT JOIN \\n&quot; + &quot;    dxgx_lxbs_ck fpzt \\n&quot; + &quot;ON \\n&quot; + &quot;    fpzt.jxdxdh = zh.jxdxdh\\n&quot; + &quot;LEFT JOIN \\n&quot; + &quot;    khdx_hy hy \\n&quot; + &quot;ON \\n&quot; + &quot;    zh.khdxdh = hy.khdxdh\\n&quot; + &quot;WHERE\\n&quot;\r\n    \t\t\t\t+ &quot;    zh.zhbs = &#39;1&#39;\\n&quot; + &quot;AND NVL (fpzt.fpzt, &#39;1&#39;) != &#39;4&#39;\\n&quot; + &quot;AND zh.khrq BETWEEN 20121130 AND 20221130&quot;;\r\n    \t\tlong t1 = System.currentTimeMillis();\r\n    \t\ttry (Connection conn = ds.getConnection(); Statement stmt = conn.createStatement(); ResultSet rs = stmt.executeQuery(sql); SXSSFWorkbook wb = new SXSSFWorkbook(1000)) {\r\n    \t\t\tlong t2 = System.currentTimeMillis();\r\n    \t\t\tSystem.out.println(&quot;sql :&quot; + (t2 - t1));\r\n    \t\t\tSXSSFSheet sh = wb.createSheet();\r\n    \t\t\tint i = 0;\r\n    \t\t\twhile (rs.next()) {\r\n    \t\t\t\tSXSSFRow row = sh.createRow(i++);\r\n    \t\t\t\trow.createCell(0).setCellValue(rs.getString(1));\r\n    \t\t\t\trow.createCell(1).setCellValue(rs.getString(2));\r\n    \t\t\t\trow.createCell(2).setCellValue(rs.getString(3));\r\n    \t\t\t\trow.createCell(3).setCellValue(rs.getString(4));\r\n    \t\t\t\trow.createCell(4).setCellValue(rs.getString(5));\r\n    \t\t\t\trow.createCell(5).setCellValue(rs.getDouble(6));\r\n    \t\t\t\trow.createCell(6).setCellValue(rs.getString(7));\r\n    \t\t\t\trow.createCell(7).setCellValue(rs.getString(8));\r\n    \t\t\t\trow.createCell(8).setCellValue(rs.getString(9));\r\n    \t\t\t\trow.createCell(9).setCellValue(rs.getString(10));\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\twb.write(response.getOutputStream());\r\n    \t\t\tlong t3 = System.currentTimeMillis();\r\n    \t\t\tSystem.out.println(&quot;data :&quot; + (t3 - t2));\r\n    \t\t\twb.dispose();\r\n    \t\t} catch (SQLException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t} catch (IOException e1) {\r\n    \t\t\te1.printStackTrace();\r\n    \t\t}\r\n    \t}\r\nthe `ResultSet` is about 150k rows, 10M in excel format, 20M in text format.\r\nbut when observing with visualvm it seems it still use too much heap space:\r\n[![enter image description here][1]][1]\r\n\r\nand jstat output:\r\n\r\n    Timestamp        S0C    S1C    S0U    S1U      EC       EU        OC         OU       MC     MU    CCSC   CCSU   YGC     YGCT    FGC    FGCT     GCT   \r\n               44.2 10240.0 10240.0  0.0    0.0   129024.0 64436.1   183808.0   20149.8   35416.0 33217.5 4736.0 4287.8      3    0.039   2      0.069    0.108\r\n               45.2 10240.0 10240.0  0.0    0.0   129024.0 64436.1   183808.0   20149.8   35416.0 33217.5 4736.0 4287.8      3    0.039   2      0.069    0.108\r\n               46.2 10240.0 10240.0  0.0    0.0   129024.0 64436.1   183808.0   20149.8   35416.0 33217.5 4736.0 4287.8      3    0.039   2      0.069    0.108\r\n               47.2 10240.0 10240.0  0.0    0.0   129024.0 67020.7   183808.0   20149.8   35416.0 33217.5 4736.0 4287.8      3    0.039   2      0.069    0.108\r\n               48.2 10240.0 10240.0  0.0    0.0   129024.0 110314.5  183808.0   20149.8   35416.0 33217.5 4736.0 4287.8      4    0.039   2      0.069    0.108\r\n    Timestamp        S0C    S1C    S0U    S1U      EC       EU        OC         OU       MC     MU    CCSC   CCSU   YGC     YGCT    FGC    FGCT     GCT   \r\n               49.2 10240.0 10240.0 10210.6  0.0   171008.0 42862.7   183808.0   26249.5   50648.0 47664.6 6656.0 6102.0      4    0.071   2      0.069    0.139\r\n               50.2 10240.0 10240.0 10210.6  0.0   171008.0 89785.6   183808.0   26249.5   50648.0 47664.6 6656.0 6102.0      4    0.071   2      0.069    0.139\r\n               51.2 10240.0 10240.0 10210.6  0.0   171008.0 151782.9  183808.0   26249.5   50648.0 47664.6 6656.0 6102.0      4    0.071   2      0.069    0.139\r\n               52.2 18432.0 10240.0  0.0   10225.5 191488.0 47935.1   183808.0   27857.0   54744.0 51887.3 7168.0 6606.8      5    0.090   2      0.069    0.159\r\n               53.2 18432.0 10240.0  0.0   10225.5 191488.0 119230.3  183808.0   27857.0   54744.0 51887.3 7168.0 6606.8      5    0.090   2      0.069    0.159\r\n    Timestamp        S0C    S1C    S0U    S1U      EC       EU        OC         OU       MC     MU    CCSC   CCSU   YGC     YGCT    FGC    FGCT     GCT   \r\n               54.2 18432.0 10240.0  0.0   10225.5 191488.0 189903.0  183808.0   27857.0   54744.0 51887.3 7168.0 6606.8      5    0.090   2      0.069    0.159\r\n               55.2 18432.0 18432.0 10213.9  0.0   222208.0 70351.7   183808.0   27857.0   54744.0 51898.3 7168.0 6606.8      6    0.110   2      0.069    0.179\r\n               56.2 18432.0 18432.0 10213.9  0.0   222208.0 143874.8  183808.0   27857.0   54744.0 51898.3 7168.0 6606.8      6    0.110   2      0.069    0.179\r\n               57.2 18432.0 18432.0 10213.9  0.0   222208.0 213608.1  183808.0   27857.0   54744.0 51898.3 7168.0 6606.8      6    0.110   2      0.069    0.179\r\n               58.2 17920.0 18432.0  0.0   10196.2 222208.0 59701.9   183808.0   27865.0   54744.0 51898.3 7168.0 6606.8      7    0.127   2      0.069    0.195\r\n    Timestamp        S0C    S1C    S0U    S1U      EC       EU        OC         OU       MC     MU    CCSC   CCSU   YGC     YGCT    FGC    FGCT     GCT   \r\n               59.2 17920.0 18432.0  0.0   10196.2 222208.0 130425.7  183808.0   27865.0   54744.0 51898.3 7168.0 6606.8      7    0.127   2      0.069    0.195\r\n               60.2 17920.0 18432.0  0.0   10196.2 222208.0 193431.8  183808.0   27865.0   54744.0 51898.3 7168.0 6606.8      7    0.127   2      0.069    0.195\r\n               61.2 12288.0 17920.0 10086.2  0.0   275456.0 39591.1   183808.0   27865.0   54744.0 51898.3 7168.0 6606.8      8    0.140   2      0.069    0.209\r\n               62.2 12288.0 17920.0 10086.2  0.0   275456.0 108308.6  183808.0   27865.0   54744.0 51898.3 7168.0 6606.8      8    0.140   2      0.069    0.209\r\n               63.2 12288.0 17920.0 10086.2  0.0   275456.0 177272.0  183808.0   27865.0   54744.0 51898.3 7168.0 6606.8      8    0.140   2      0.069    0.209\r\n    Timestamp        S0C    S1C    S0U    S1U      EC       EU        OC         OU       MC     MU    CCSC   CCSU   YGC     YGCT    FGC    FGCT     GCT   \r\n               64.2 12288.0 17920.0 10086.2  0.0   275456.0 249662.2  183808.0   27865.0   54744.0 51898.3 7168.0 6606.8      8    0.140   2      0.069    0.209\r\n               65.2 17408.0 17920.0  0.0   10245.0 275456.0 40978.0   183808.0   27873.0   54744.0 51899.0 7168.0 6607.3      9    0.153   2      0.069    0.221\r\n               66.2 17408.0 17920.0  0.0   10245.0 275456.0 107626.2  183808.0   27873.0   54744.0 51899.0 7168.0 6607.3      9    0.153   2      0.069    0.221\r\n               67.2 17408.0 17920.0  0.0   10245.0 275456.0 173886.5  183808.0   27873.0   54744.0 51899.0 7168.0 6607.3      9    0.153   2      0.069    0.221\r\n               68.2 17408.0 17920.0  0.0   10245.0 275456.0 245131.8  183808.0   27873.0   54744.0 51899.0 7168.0 6607.3      9    0.153   2      0.069    0.221\r\n    Timestamp        S0C    S1C    S0U    S1U      EC       EU        OC         OU       MC     MU    CCSC   CCSU   YGC     YGCT    FGC    FGCT     GCT   \r\n               69.2 13824.0 17408.0 10054.2  0.0   307200.0 35229.6   183808.0   27900.0   54744.0 51915.2 7168.0 6607.3     10    0.165   2      0.069    0.234\r\n               70.2 13824.0 17408.0 10054.2  0.0   307200.0 105302.8  183808.0   27900.0   54744.0 51915.2 7168.0 6607.3     10    0.165   2      0.069    0.234\r\n               71.2 13824.0 17408.0 10054.2  0.0   307200.0 175375.9  183808.0   27900.0   54744.0 51915.2 7168.0 6607.3     10    0.165   2      0.069    0.234\r\n               72.2 13824.0 17408.0 10054.2  0.0   307200.0 245524.3  183808.0   27900.0   54744.0 51915.2 7168.0 6607.3     10    0.165   2      0.069    0.234\r\n               73.2 13312.0 10752.0  0.0   10294.8 297472.0  5755.9   183808.0   27900.0   54744.0 51916.4 7168.0 6607.3     11    0.186   2      0.069    0.254\r\n    Timestamp        S0C    S1C    S0U    S1U      EC       EU        OC         OU       MC     MU    CCSC   CCSU   YGC     YGCT    FGC    FGCT     GCT   \r\n               74.2 13312.0 10752.0  0.0   10294.8 297472.0 74923.0   183808.0   27900.0   54744.0 51916.4 7168.0 6607.3     11    0.186   2      0.069    0.254\r\n               75.2 13312.0 10752.0  0.0   10294.8 297472.0 144067.0  183808.0   27900.0   54744.0 51916.4 7168.0 6607.3     11    0.186   2      0.069    0.254\r\n               76.2 13312.0 10752.0  0.0   10294.8 297472.0 220150.7  183808.0   27900.0   54744.0 51916.4 7168.0 6607.3     11    0.186   2      0.069    0.254\r\n               77.3 13312.0 10752.0  0.0   10294.8 297472.0 294977.6  183808.0   27900.0   54744.0 51916.4 7168.0 6607.3     11    0.186   2      0.069    0.254\r\n               78.3 10240.0 16384.0 10211.3  0.0   287744.0 62041.7   183808.0   27908.0   54744.0 51916.4 7168.0 6607.3     12    0.210   2      0.069    0.278\r\n    Timestamp        S0C    S1C    S0U    S1U      EC       EU        OC         OU       MC     MU    CCSC   CCSU   YGC     YGCT    FGC    FGCT     GCT   \r\n               79.3 10240.0 16384.0 10211.3  0.0   287744.0 135303.3  183808.0   27908.0   54744.0 51916.4 7168.0 6607.3     12    0.210   2      0.069    0.278\r\n               80.3 10240.0 16384.0 10211.3  0.0   287744.0 202901.9  183808.0   27908.0   54744.0 51916.4 7168.0 6607.3     12    0.210   2      0.069    0.278\r\n               81.3 10240.0 16384.0 10211.3  0.0   287744.0 270500.5  183808.0   27908.0   54744.0 51916.4 7168.0 6607.3     12    0.210   2      0.069    0.278\r\n               82.3 12800.0 10240.0  0.0   10213.9 278528.0 49487.8   183808.0   27908.0   54744.0 51917.1 7168.0 6607.3     13    0.233   2      0.069    0.301\r\n               83.3 12800.0 10240.0  0.0   10213.9 278528.0 120919.5  183808.0   27908.0   54744.0 51917.1 7168.0 6607.3     13    0.233   2      0.069    0.301\r\n    Timestamp        S0C    S1C    S0U    S1U      EC       EU        OC         OU       MC     MU    CCSC   CCSU   YGC     YGCT    FGC    FGCT     GCT   \r\n               84.3 12800.0 10240.0  0.0   10213.9 278528.0 186838.9  183808.0   27908.0   54744.0 51917.1 7168.0 6607.3     13    0.233   2      0.069    0.301\r\n               85.3 12800.0 10240.0  0.0   10213.9 278528.0 258251.7  183808.0   27908.0   54744.0 51917.1 7168.0 6607.3     13    0.233   2      0.069    0.301\r\n               86.3 10240.0 15872.0 10022.2  0.0   269824.0 48156.7   183808.0   27916.0   54744.0 51917.1 7168.0 6607.3     14    0.250   2      0.069    0.319\r\n               87.3 10240.0 15872.0 10022.2  0.0   269824.0 117672.6  183808.0   27916.0   54744.0 51917.1 7168.0 6607.3     14    0.250   2      0.069    0.319\r\n               88.3 10240.0 15872.0 10022.2  0.0   269824.0 192535.9  183808.0   27916.0   54744.0 51917.1 7168.0 6607.3     14    0.250   2      0.069    0.319\r\n    Timestamp        S0C    S1C    S0U    S1U      EC       EU        OC         OU       MC     MU    CCSC   CCSU   YGC     YGCT    FGC    FGCT     GCT   \r\n               89.3 10240.0 15872.0 10022.2  0.0   269824.0 267411.0  183808.0   27916.0   54744.0 51917.1 7168.0 6607.3     14    0.250   2      0.069    0.319\r\n               90.3 11776.0 10240.0  0.0   10035.6 261632.0 72846.4   183808.0   27924.0   54744.0 51920.4 7168.0 6607.3     15    0.267   2      0.069    0.335\r\n               91.3 11776.0 10240.0  0.0   10035.6 261632.0 130365.8  183808.0   27924.0   54744.0 51920.4 7168.0 6607.3     15    0.267   2      0.069    0.335\r\n               92.3 11776.0 10240.0  0.0   10035.6 261632.0 130365.8  183808.0   27924.0   54744.0 51920.4 7168.0 6607.3     15    0.267   2      0.069    0.335\r\n               93.3 11776.0 10240.0  0.0   10035.6 261632.0 130365.8  183808.0   27924.0   54744.0 51920.4 7168.0 6607.3     15    0.267   2      0.069    0.335\r\n    Timestamp        S0C    S1C    S0U    S1U      EC       EU        OC         OU       MC     MU    CCSC   CCSU   YGC     YGCT    FGC    FGCT     GCT   \r\n               94.2 11776.0 10240.0  0.0   10035.6 261632.0 130932.7  183808.0   27924.0   54744.0 51920.4 7168.0 6607.3     15    0.267   2      0.069    0.335\r\n               95.2 11776.0 10240.0  0.0   10035.6 261632.0 130932.7  183808.0   27924.0   54744.0 51920.4 7168.0 6607.3     15    0.267   2      0.069    0.335\r\n               96.2 11776.0 10240.0  0.0   10035.6 261632.0 130932.7  183808.0   27924.0   54744.0 51920.4 7168.0 6607.3     15    0.267   2      0.069    0.335\r\n               97.2 11776.0 10240.0  0.0   10035.6 261632.0 130932.7  183808.0   27924.0   54744.0 51920.4 7168.0 6607.3     15    0.267   2      0.069    0.335\r\n               98.2 11776.0 10240.0  0.0   10035.6 261632.0 130932.7  183808.0   27924.0   54744.0 51920.4 7168.0 6607.3     15    0.267   2      0.069    0.335\r\n    Timestamp        S0C    S1C    S0U    S1U      EC       EU        OC         OU       MC     MU    CCSC   CCSU   YGC     YGCT    FGC    FGCT     GCT   \r\n               99.3 11776.0 10240.0  0.0   10035.6 261632.0 130932.7  183808.0   27924.0   54744.0 51920.4 7168.0 6607.3     15    0.267   2      0.069    0.335\r\n              100.3 11776.0 10240.0  0.0   10035.6 261632.0 130932.7  183808.0   27924.0   54744.0 51920.4 7168.0 6607.3     15    0.267   2      0.069    0.335\r\n              101.3 11776.0 10240.0  0.0   10035.6 261632.0 130932.7  183808.0   27924.0   54744.0 51920.4 7168.0 6607.3     15    0.267   2      0.069    0.335\r\n              102.3 11776.0 10240.0  0.0   10035.6 261632.0 130932.7  183808.0   27924.0   54744.0 51920.4 7168.0 6607.3     15    0.267   2      0.069    0.335\r\n              103.3 11776.0 10240.0  0.0   10035.6 261632.0 130932.7  183808.0   27924.0   54744.0 51920.4 7168.0 6607.3     15    0.267   2      0.069    0.335\r\n    Timestamp        S0C    S1C    S0U    S1U      EC       EU        OC         OU       MC     MU    CCSC   CCSU   YGC     YGCT    FGC    FGCT     GCT   \r\n              104.3 11776.0 10240.0  0.0   10035.6 261632.0 130932.7  183808.0   27924.0   54744.0 51920.4 7168.0 6607.3     15    0.267   2      0.069    0.335\r\n              105.3 11776.0 10240.0  0.0   10035.6 261632.0 130932.7  183808.0   27924.0   54744.0 51920.4 7168.0 6607.3     15    0.267   2      0.069    0.335\r\n              106.3 11776.0 10240.0  0.0   10035.6 261632.0 130932.7  183808.0   27924.0   54744.0 51920.4 7168.0 6607.3     15    0.267   2      0.069    0.335\r\n              107.3 11776.0 10240.0  0.0   10035.6 261632.0 130932.7  183808.0   27924.0   54744.0 51920.4 7168.0 6607.3     15    0.267   2      0.069    0.335\r\n              108.3 11776.0 10240.0  0.0   10035.6 261632.0 130932.7  183808.0   27924.0   54744.0 51920.4 7168.0 6607.3     15    0.267   2      0.069    0.335\r\n    Timestamp        S0C    S1C    S0U    S1U      EC       EU        OC         OU       MC     MU    CCSC   CCSU   YGC     YGCT    FGC    FGCT     GCT   \r\n              109.3 11776.0 10240.0  0.0   10035.6 261632.0 130932.7  183808.0   27924.0   54744.0 51920.4 7168.0 6607.3     15    0.267   2      0.069    0.335\r\n              110.3 11776.0 10240.0  0.0   10035.6 261632.0 130932.7  183808.0   27924.0   54744.0 51920.4 7168.0 6607.3     15    0.267   2      0.069    0.335\r\n              111.3 11776.0 10240.0  0.0   10035.6 261632.0 130932.7  183808.0   27924.0   54744.0 51920.4 7168.0 6607.3     15    0.267   2      0.069    0.335\r\n\r\nwhat&#39;s wrong with my code? \r\n\r\n  [1]: https://i.stack.imgur.com/SIUiW.png","title":"export big ResultSet to excel file in streaming manner","body":"<p>I want to export a big <code>ResultSet</code> to excel file using streaming manner to avoid too large heap consumption.</p>\n<p>here is my testing code:</p>\n<pre><code>@GetMapping(path = &quot;/data/export&quot;, produces = &quot;application/vnd.openxmlformats-officedocument.spreadsheetml.sheet&quot;)\n    public void exportData(HttpServletRequest request, HttpServletResponse response) {\n        response.setHeader(&quot;Content-Disposition&quot;, &quot;attachment; filename=demo.xlsx&quot;);\n        String sql = &quot;SELECT\\n&quot; + &quot;    zh.jxdxdh,\\n&quot; + &quot;    zh.zhdh,\\n&quot; + &quot;    zh.zzh,\\n&quot; + &quot;    zh.zhhm,\\n&quot; + &quot;    zh.khh,\\n&quot; + &quot;    zh.zhye,\\n&quot; + &quot;    jg.jgmc,\\n&quot; + &quot;    zh.kmh,\\n&quot;\n                + &quot;    bz.bzzwmc bz,\\n&quot; + &quot;    zh.khrq,\\n&quot; + &quot;    zh.nll,\\n&quot; + &quot;    zh.xhrq,\\n&quot; + &quot;    fh.jgmc    fhjgmc,\\n&quot; + &quot;    glxzh.jgmc ssglxzh,\\n&quot; + &quot;    TO_NUMBER (SUBSTR(zh.qx, 2)) || \\n&quot;\n                + &quot;    CASE\\n&quot; + &quot;        WHEN SUBSTR (zh.qx, 1, 1) = 'D' \\n&quot; + &quot;        THEN '天'\\n&quot; + &quot;        WHEN SUBSTR (zh.qx, 1, 1) = 'M' \\n&quot; + &quot;        THEN '月'\\n&quot;\n                + &quot;        WHEN SUBSTR (zh.qx, 1, 1) = 'Y' \\n&quot; + &quot;        THEN '年'\\n&quot; + &quot;    END                    qx,\\n&quot; + &quot;    NULL                   ffrq,\\n&quot; + &quot;    NVL (fpzt.ztms, '未分配') fpzt,\\n&quot;\n                + &quot;    NVL (fpzt.fpgx, '无关系') fpms\\n&quot; + &quot;FROM\\n&quot; + &quot;    khdx_jg jg\\n&quot; + &quot;LEFT JOIN \\n&quot; + &quot;    khdx_jg fh \\n&quot; + &quot;ON \\n&quot; + &quot;    fh.jgdh = jg.FHDH\\n&quot; + &quot;LEFT JOIN \\n&quot;\n                + &quot;    khdx_jg glxzh \\n&quot; + &quot;ON \\n&quot; + &quot;    glxzh.JGDH = jg.glxzhdh\\n&quot; + &quot;INNER JOIN \\n&quot; + &quot;    jxdx_ckzh zh \\n&quot; + &quot;ON \\n&quot; + &quot;    jg.jgdh = zh.jgdh\\n&quot; + &quot;INNER JOIN \\n&quot;\n                + &quot;    TABLE ( fn_getsjjg_java_qx (20201130, 215, 6) ) jgqx \\n&quot; + &quot;ON \\n&quot; + &quot;    jgqx.khdxdh = jg.khdxdh\\n&quot; + &quot;LEFT JOIN \\n&quot; + &quot;    csb_bz bz \\n&quot; + &quot;ON \\n&quot; + &quot;    bz.bz = zh.bz\\n&quot;\n                + &quot;LEFT JOIN \\n&quot; + &quot;    dxgx_lxbs_ck fpzt \\n&quot; + &quot;ON \\n&quot; + &quot;    fpzt.jxdxdh = zh.jxdxdh\\n&quot; + &quot;LEFT JOIN \\n&quot; + &quot;    khdx_hy hy \\n&quot; + &quot;ON \\n&quot; + &quot;    zh.khdxdh = hy.khdxdh\\n&quot; + &quot;WHERE\\n&quot;\n                + &quot;    zh.zhbs = '1'\\n&quot; + &quot;AND NVL (fpzt.fpzt, '1') != '4'\\n&quot; + &quot;AND zh.khrq BETWEEN 20121130 AND 20221130&quot;;\n        long t1 = System.currentTimeMillis();\n        try (Connection conn = ds.getConnection(); Statement stmt = conn.createStatement(); ResultSet rs = stmt.executeQuery(sql); SXSSFWorkbook wb = new SXSSFWorkbook(1000)) {\n            long t2 = System.currentTimeMillis();\n            System.out.println(&quot;sql :&quot; + (t2 - t1));\n            SXSSFSheet sh = wb.createSheet();\n            int i = 0;\n            while (rs.next()) {\n                SXSSFRow row = sh.createRow(i++);\n                row.createCell(0).setCellValue(rs.getString(1));\n                row.createCell(1).setCellValue(rs.getString(2));\n                row.createCell(2).setCellValue(rs.getString(3));\n                row.createCell(3).setCellValue(rs.getString(4));\n                row.createCell(4).setCellValue(rs.getString(5));\n                row.createCell(5).setCellValue(rs.getDouble(6));\n                row.createCell(6).setCellValue(rs.getString(7));\n                row.createCell(7).setCellValue(rs.getString(8));\n                row.createCell(8).setCellValue(rs.getString(9));\n                row.createCell(9).setCellValue(rs.getString(10));\n            }\n            \n            wb.write(response.getOutputStream());\n            long t3 = System.currentTimeMillis();\n            System.out.println(&quot;data :&quot; + (t3 - t2));\n            wb.dispose();\n        } catch (SQLException e) {\n            e.printStackTrace();\n        } catch (IOException e1) {\n            e1.printStackTrace();\n        }\n    }\n</code></pre>\n<p>the <code>ResultSet</code> is about 150k rows, 10M in excel format, 20M in text format.\nbut when observing with visualvm it seems it still use too much heap space:\n<a href=\"https://i.stack.imgur.com/SIUiW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SIUiW.png\" alt=\"enter image description here\" /></a></p>\n<p>and jstat output:</p>\n<pre><code>Timestamp        S0C    S1C    S0U    S1U      EC       EU        OC         OU       MC     MU    CCSC   CCSU   YGC     YGCT    FGC    FGCT     GCT   \n           44.2 10240.0 10240.0  0.0    0.0   129024.0 64436.1   183808.0   20149.8   35416.0 33217.5 4736.0 4287.8      3    0.039   2      0.069    0.108\n           45.2 10240.0 10240.0  0.0    0.0   129024.0 64436.1   183808.0   20149.8   35416.0 33217.5 4736.0 4287.8      3    0.039   2      0.069    0.108\n           46.2 10240.0 10240.0  0.0    0.0   129024.0 64436.1   183808.0   20149.8   35416.0 33217.5 4736.0 4287.8      3    0.039   2      0.069    0.108\n           47.2 10240.0 10240.0  0.0    0.0   129024.0 67020.7   183808.0   20149.8   35416.0 33217.5 4736.0 4287.8      3    0.039   2      0.069    0.108\n           48.2 10240.0 10240.0  0.0    0.0   129024.0 110314.5  183808.0   20149.8   35416.0 33217.5 4736.0 4287.8      4    0.039   2      0.069    0.108\nTimestamp        S0C    S1C    S0U    S1U      EC       EU        OC         OU       MC     MU    CCSC   CCSU   YGC     YGCT    FGC    FGCT     GCT   \n           49.2 10240.0 10240.0 10210.6  0.0   171008.0 42862.7   183808.0   26249.5   50648.0 47664.6 6656.0 6102.0      4    0.071   2      0.069    0.139\n           50.2 10240.0 10240.0 10210.6  0.0   171008.0 89785.6   183808.0   26249.5   50648.0 47664.6 6656.0 6102.0      4    0.071   2      0.069    0.139\n           51.2 10240.0 10240.0 10210.6  0.0   171008.0 151782.9  183808.0   26249.5   50648.0 47664.6 6656.0 6102.0      4    0.071   2      0.069    0.139\n           52.2 18432.0 10240.0  0.0   10225.5 191488.0 47935.1   183808.0   27857.0   54744.0 51887.3 7168.0 6606.8      5    0.090   2      0.069    0.159\n           53.2 18432.0 10240.0  0.0   10225.5 191488.0 119230.3  183808.0   27857.0   54744.0 51887.3 7168.0 6606.8      5    0.090   2      0.069    0.159\nTimestamp        S0C    S1C    S0U    S1U      EC       EU        OC         OU       MC     MU    CCSC   CCSU   YGC     YGCT    FGC    FGCT     GCT   \n           54.2 18432.0 10240.0  0.0   10225.5 191488.0 189903.0  183808.0   27857.0   54744.0 51887.3 7168.0 6606.8      5    0.090   2      0.069    0.159\n           55.2 18432.0 18432.0 10213.9  0.0   222208.0 70351.7   183808.0   27857.0   54744.0 51898.3 7168.0 6606.8      6    0.110   2      0.069    0.179\n           56.2 18432.0 18432.0 10213.9  0.0   222208.0 143874.8  183808.0   27857.0   54744.0 51898.3 7168.0 6606.8      6    0.110   2      0.069    0.179\n           57.2 18432.0 18432.0 10213.9  0.0   222208.0 213608.1  183808.0   27857.0   54744.0 51898.3 7168.0 6606.8      6    0.110   2      0.069    0.179\n           58.2 17920.0 18432.0  0.0   10196.2 222208.0 59701.9   183808.0   27865.0   54744.0 51898.3 7168.0 6606.8      7    0.127   2      0.069    0.195\nTimestamp        S0C    S1C    S0U    S1U      EC       EU        OC         OU       MC     MU    CCSC   CCSU   YGC     YGCT    FGC    FGCT     GCT   \n           59.2 17920.0 18432.0  0.0   10196.2 222208.0 130425.7  183808.0   27865.0   54744.0 51898.3 7168.0 6606.8      7    0.127   2      0.069    0.195\n           60.2 17920.0 18432.0  0.0   10196.2 222208.0 193431.8  183808.0   27865.0   54744.0 51898.3 7168.0 6606.8      7    0.127   2      0.069    0.195\n           61.2 12288.0 17920.0 10086.2  0.0   275456.0 39591.1   183808.0   27865.0   54744.0 51898.3 7168.0 6606.8      8    0.140   2      0.069    0.209\n           62.2 12288.0 17920.0 10086.2  0.0   275456.0 108308.6  183808.0   27865.0   54744.0 51898.3 7168.0 6606.8      8    0.140   2      0.069    0.209\n           63.2 12288.0 17920.0 10086.2  0.0   275456.0 177272.0  183808.0   27865.0   54744.0 51898.3 7168.0 6606.8      8    0.140   2      0.069    0.209\nTimestamp        S0C    S1C    S0U    S1U      EC       EU        OC         OU       MC     MU    CCSC   CCSU   YGC     YGCT    FGC    FGCT     GCT   \n           64.2 12288.0 17920.0 10086.2  0.0   275456.0 249662.2  183808.0   27865.0   54744.0 51898.3 7168.0 6606.8      8    0.140   2      0.069    0.209\n           65.2 17408.0 17920.0  0.0   10245.0 275456.0 40978.0   183808.0   27873.0   54744.0 51899.0 7168.0 6607.3      9    0.153   2      0.069    0.221\n           66.2 17408.0 17920.0  0.0   10245.0 275456.0 107626.2  183808.0   27873.0   54744.0 51899.0 7168.0 6607.3      9    0.153   2      0.069    0.221\n           67.2 17408.0 17920.0  0.0   10245.0 275456.0 173886.5  183808.0   27873.0   54744.0 51899.0 7168.0 6607.3      9    0.153   2      0.069    0.221\n           68.2 17408.0 17920.0  0.0   10245.0 275456.0 245131.8  183808.0   27873.0   54744.0 51899.0 7168.0 6607.3      9    0.153   2      0.069    0.221\nTimestamp        S0C    S1C    S0U    S1U      EC       EU        OC         OU       MC     MU    CCSC   CCSU   YGC     YGCT    FGC    FGCT     GCT   \n           69.2 13824.0 17408.0 10054.2  0.0   307200.0 35229.6   183808.0   27900.0   54744.0 51915.2 7168.0 6607.3     10    0.165   2      0.069    0.234\n           70.2 13824.0 17408.0 10054.2  0.0   307200.0 105302.8  183808.0   27900.0   54744.0 51915.2 7168.0 6607.3     10    0.165   2      0.069    0.234\n           71.2 13824.0 17408.0 10054.2  0.0   307200.0 175375.9  183808.0   27900.0   54744.0 51915.2 7168.0 6607.3     10    0.165   2      0.069    0.234\n           72.2 13824.0 17408.0 10054.2  0.0   307200.0 245524.3  183808.0   27900.0   54744.0 51915.2 7168.0 6607.3     10    0.165   2      0.069    0.234\n           73.2 13312.0 10752.0  0.0   10294.8 297472.0  5755.9   183808.0   27900.0   54744.0 51916.4 7168.0 6607.3     11    0.186   2      0.069    0.254\nTimestamp        S0C    S1C    S0U    S1U      EC       EU        OC         OU       MC     MU    CCSC   CCSU   YGC     YGCT    FGC    FGCT     GCT   \n           74.2 13312.0 10752.0  0.0   10294.8 297472.0 74923.0   183808.0   27900.0   54744.0 51916.4 7168.0 6607.3     11    0.186   2      0.069    0.254\n           75.2 13312.0 10752.0  0.0   10294.8 297472.0 144067.0  183808.0   27900.0   54744.0 51916.4 7168.0 6607.3     11    0.186   2      0.069    0.254\n           76.2 13312.0 10752.0  0.0   10294.8 297472.0 220150.7  183808.0   27900.0   54744.0 51916.4 7168.0 6607.3     11    0.186   2      0.069    0.254\n           77.3 13312.0 10752.0  0.0   10294.8 297472.0 294977.6  183808.0   27900.0   54744.0 51916.4 7168.0 6607.3     11    0.186   2      0.069    0.254\n           78.3 10240.0 16384.0 10211.3  0.0   287744.0 62041.7   183808.0   27908.0   54744.0 51916.4 7168.0 6607.3     12    0.210   2      0.069    0.278\nTimestamp        S0C    S1C    S0U    S1U      EC       EU        OC         OU       MC     MU    CCSC   CCSU   YGC     YGCT    FGC    FGCT     GCT   \n           79.3 10240.0 16384.0 10211.3  0.0   287744.0 135303.3  183808.0   27908.0   54744.0 51916.4 7168.0 6607.3     12    0.210   2      0.069    0.278\n           80.3 10240.0 16384.0 10211.3  0.0   287744.0 202901.9  183808.0   27908.0   54744.0 51916.4 7168.0 6607.3     12    0.210   2      0.069    0.278\n           81.3 10240.0 16384.0 10211.3  0.0   287744.0 270500.5  183808.0   27908.0   54744.0 51916.4 7168.0 6607.3     12    0.210   2      0.069    0.278\n           82.3 12800.0 10240.0  0.0   10213.9 278528.0 49487.8   183808.0   27908.0   54744.0 51917.1 7168.0 6607.3     13    0.233   2      0.069    0.301\n           83.3 12800.0 10240.0  0.0   10213.9 278528.0 120919.5  183808.0   27908.0   54744.0 51917.1 7168.0 6607.3     13    0.233   2      0.069    0.301\nTimestamp        S0C    S1C    S0U    S1U      EC       EU        OC         OU       MC     MU    CCSC   CCSU   YGC     YGCT    FGC    FGCT     GCT   \n           84.3 12800.0 10240.0  0.0   10213.9 278528.0 186838.9  183808.0   27908.0   54744.0 51917.1 7168.0 6607.3     13    0.233   2      0.069    0.301\n           85.3 12800.0 10240.0  0.0   10213.9 278528.0 258251.7  183808.0   27908.0   54744.0 51917.1 7168.0 6607.3     13    0.233   2      0.069    0.301\n           86.3 10240.0 15872.0 10022.2  0.0   269824.0 48156.7   183808.0   27916.0   54744.0 51917.1 7168.0 6607.3     14    0.250   2      0.069    0.319\n           87.3 10240.0 15872.0 10022.2  0.0   269824.0 117672.6  183808.0   27916.0   54744.0 51917.1 7168.0 6607.3     14    0.250   2      0.069    0.319\n           88.3 10240.0 15872.0 10022.2  0.0   269824.0 192535.9  183808.0   27916.0   54744.0 51917.1 7168.0 6607.3     14    0.250   2      0.069    0.319\nTimestamp        S0C    S1C    S0U    S1U      EC       EU        OC         OU       MC     MU    CCSC   CCSU   YGC     YGCT    FGC    FGCT     GCT   \n           89.3 10240.0 15872.0 10022.2  0.0   269824.0 267411.0  183808.0   27916.0   54744.0 51917.1 7168.0 6607.3     14    0.250   2      0.069    0.319\n           90.3 11776.0 10240.0  0.0   10035.6 261632.0 72846.4   183808.0   27924.0   54744.0 51920.4 7168.0 6607.3     15    0.267   2      0.069    0.335\n           91.3 11776.0 10240.0  0.0   10035.6 261632.0 130365.8  183808.0   27924.0   54744.0 51920.4 7168.0 6607.3     15    0.267   2      0.069    0.335\n           92.3 11776.0 10240.0  0.0   10035.6 261632.0 130365.8  183808.0   27924.0   54744.0 51920.4 7168.0 6607.3     15    0.267   2      0.069    0.335\n           93.3 11776.0 10240.0  0.0   10035.6 261632.0 130365.8  183808.0   27924.0   54744.0 51920.4 7168.0 6607.3     15    0.267   2      0.069    0.335\nTimestamp        S0C    S1C    S0U    S1U      EC       EU        OC         OU       MC     MU    CCSC   CCSU   YGC     YGCT    FGC    FGCT     GCT   \n           94.2 11776.0 10240.0  0.0   10035.6 261632.0 130932.7  183808.0   27924.0   54744.0 51920.4 7168.0 6607.3     15    0.267   2      0.069    0.335\n           95.2 11776.0 10240.0  0.0   10035.6 261632.0 130932.7  183808.0   27924.0   54744.0 51920.4 7168.0 6607.3     15    0.267   2      0.069    0.335\n           96.2 11776.0 10240.0  0.0   10035.6 261632.0 130932.7  183808.0   27924.0   54744.0 51920.4 7168.0 6607.3     15    0.267   2      0.069    0.335\n           97.2 11776.0 10240.0  0.0   10035.6 261632.0 130932.7  183808.0   27924.0   54744.0 51920.4 7168.0 6607.3     15    0.267   2      0.069    0.335\n           98.2 11776.0 10240.0  0.0   10035.6 261632.0 130932.7  183808.0   27924.0   54744.0 51920.4 7168.0 6607.3     15    0.267   2      0.069    0.335\nTimestamp        S0C    S1C    S0U    S1U      EC       EU        OC         OU       MC     MU    CCSC   CCSU   YGC     YGCT    FGC    FGCT     GCT   \n           99.3 11776.0 10240.0  0.0   10035.6 261632.0 130932.7  183808.0   27924.0   54744.0 51920.4 7168.0 6607.3     15    0.267   2      0.069    0.335\n          100.3 11776.0 10240.0  0.0   10035.6 261632.0 130932.7  183808.0   27924.0   54744.0 51920.4 7168.0 6607.3     15    0.267   2      0.069    0.335\n          101.3 11776.0 10240.0  0.0   10035.6 261632.0 130932.7  183808.0   27924.0   54744.0 51920.4 7168.0 6607.3     15    0.267   2      0.069    0.335\n          102.3 11776.0 10240.0  0.0   10035.6 261632.0 130932.7  183808.0   27924.0   54744.0 51920.4 7168.0 6607.3     15    0.267   2      0.069    0.335\n          103.3 11776.0 10240.0  0.0   10035.6 261632.0 130932.7  183808.0   27924.0   54744.0 51920.4 7168.0 6607.3     15    0.267   2      0.069    0.335\nTimestamp        S0C    S1C    S0U    S1U      EC       EU        OC         OU       MC     MU    CCSC   CCSU   YGC     YGCT    FGC    FGCT     GCT   \n          104.3 11776.0 10240.0  0.0   10035.6 261632.0 130932.7  183808.0   27924.0   54744.0 51920.4 7168.0 6607.3     15    0.267   2      0.069    0.335\n          105.3 11776.0 10240.0  0.0   10035.6 261632.0 130932.7  183808.0   27924.0   54744.0 51920.4 7168.0 6607.3     15    0.267   2      0.069    0.335\n          106.3 11776.0 10240.0  0.0   10035.6 261632.0 130932.7  183808.0   27924.0   54744.0 51920.4 7168.0 6607.3     15    0.267   2      0.069    0.335\n          107.3 11776.0 10240.0  0.0   10035.6 261632.0 130932.7  183808.0   27924.0   54744.0 51920.4 7168.0 6607.3     15    0.267   2      0.069    0.335\n          108.3 11776.0 10240.0  0.0   10035.6 261632.0 130932.7  183808.0   27924.0   54744.0 51920.4 7168.0 6607.3     15    0.267   2      0.069    0.335\nTimestamp        S0C    S1C    S0U    S1U      EC       EU        OC         OU       MC     MU    CCSC   CCSU   YGC     YGCT    FGC    FGCT     GCT   \n          109.3 11776.0 10240.0  0.0   10035.6 261632.0 130932.7  183808.0   27924.0   54744.0 51920.4 7168.0 6607.3     15    0.267   2      0.069    0.335\n          110.3 11776.0 10240.0  0.0   10035.6 261632.0 130932.7  183808.0   27924.0   54744.0 51920.4 7168.0 6607.3     15    0.267   2      0.069    0.335\n          111.3 11776.0 10240.0  0.0   10035.6 261632.0 130932.7  183808.0   27924.0   54744.0 51920.4 7168.0 6607.3     15    0.267   2      0.069    0.335\n</code></pre>\n<p>what's wrong with my code?</p>\n"},{"tags":["java","abstract-class"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":4,"creation_date":1657579830,"post_id":72945390,"comment_id":128840036,"body_markdown":"Try it and see.","body":"Try it and see."},{"owner":{"account_id":2139538,"reputation":42511,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":2,"creation_date":1657579954,"post_id":72945390,"comment_id":128840054,"body_markdown":"Any question you can imagine that begins &quot;Is this code legal&quot; is something you can trivially answer yourself just by running it.","body":"Any question you can imagine that begins &quot;Is this code legal&quot; is something you can trivially answer yourself just by running it."}],"answers":[{"tags":[],"owner":{"account_id":13394730,"reputation":26,"user_id":9666049,"display_name":"Kyle"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1657580549,"creation_date":1657580549,"answer_id":72945468,"question_id":72945390,"body_markdown":"Yes, abstract classes can have properties.\r\n\r\nAn abstract class is much like a regular class, except that they cannot be instantiated. They must be implemented/extended by a subclass, this includes the abstract methods within them.","title":"Can I create abstract properties in Java?","body":"<p>Yes, abstract classes can have properties.</p>\n<p>An abstract class is much like a regular class, except that they cannot be instantiated. They must be implemented/extended by a subclass, this includes the abstract methods within them.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1657588350,"creation_date":1657581445,"answer_id":72945544,"question_id":72945390,"body_markdown":"Yes you can ([see above][1])... but ...\r\n\r\nWhat you have there in your example should (probably) not be *described* as properties or *modelled* like that.\r\n\r\nThey should be modeled constants ... unless it is a clear requirement that you should be able to change the names of the card suites at runtime!  Declare them as `static final`, not just `static`.  \r\n\r\nWhy?  Because you don&#39;t want some code accidentally assigning to one of those &quot;properties&quot;.  And someone reading the code doesn&#39;t want to have to scan the code base looking for accidental assignments.\r\n\r\nI also think it is (ultimately) unhelpful to describe them as simply properties, even if they are not constant.  I would call them &quot;class properties&quot; to distinguish them from ordinary (not `static`) &quot;properties&quot;.  (But this is my opinion ...)\r\n\r\nAnd finally, mutable static fields are *in general* a bad idea.  They are antithetic to OO, and introduce a bunch of problems; e.g. they are potentially problematic when you are writing unit tests.\r\n\r\n----------------------\r\n\r\nIt is also worth noting that fields declared as `static` in Java are not inherited (in the full sense) and cannot be overridden.\r\n\r\n  [1]: https://stackoverflow.com/a/72945468/139985","title":"Can I create abstract properties in Java?","body":"<p>Yes you can (<a href=\"https://stackoverflow.com/a/72945468/139985\">see above</a>)... but ...</p>\n<p>What you have there in your example should (probably) not be <em>described</em> as properties or <em>modelled</em> like that.</p>\n<p>They should be modeled constants ... unless it is a clear requirement that you should be able to change the names of the card suites at runtime!  Declare them as <code>static final</code>, not just <code>static</code>.</p>\n<p>Why?  Because you don't want some code accidentally assigning to one of those &quot;properties&quot;.  And someone reading the code doesn't want to have to scan the code base looking for accidental assignments.</p>\n<p>I also think it is (ultimately) unhelpful to describe them as simply properties, even if they are not constant.  I would call them &quot;class properties&quot; to distinguish them from ordinary (not <code>static</code>) &quot;properties&quot;.  (But this is my opinion ...)</p>\n<p>And finally, mutable static fields are <em>in general</em> a bad idea.  They are antithetic to OO, and introduce a bunch of problems; e.g. they are potentially problematic when you are writing unit tests.</p>\n<hr />\n<p>It is also worth noting that fields declared as <code>static</code> in Java are not inherited (in the full sense) and cannot be overridden.</p>\n"}],"owner":{"account_id":23085806,"reputation":3,"user_id":17197346,"display_name":"Tijo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1657621756,"accepted_answer_id":72945468,"answer_count":2,"score":0,"last_activity_date":1657588350,"creation_date":1657579711,"question_id":72945390,"body_markdown":"Is this code legal in Java? I&#39;m trying to build an abstract cards class and a sub class that will inherit methods and properties from the abstract class. I know I can create abstract methods and regular methods too, but can I also create properties in the abreact class?\r\n\r\n```\r\npublic abstract class CardsDecks {\r\n\r\n    private static String hearts = &quot;HEARTS&quot;;\r\n    private static String clubs = &quot;CLUBS&quot;;\r\n    private static String diamonds = &quot;DIAMOND&quot;;\r\n    private static String spades = &quot;SPADES&quot;;\r\n\r\n    abstract String shuffle();\r\n}\r\n```","title":"Can I create abstract properties in Java?","body":"<p>Is this code legal in Java? I'm trying to build an abstract cards class and a sub class that will inherit methods and properties from the abstract class. I know I can create abstract methods and regular methods too, but can I also create properties in the abreact class?</p>\n<pre><code>public abstract class CardsDecks {\n\n    private static String hearts = &quot;HEARTS&quot;;\n    private static String clubs = &quot;CLUBS&quot;;\n    private static String diamonds = &quot;DIAMOND&quot;;\n    private static String spades = &quot;SPADES&quot;;\n\n    abstract String shuffle();\n}\n</code></pre>\n"},{"tags":["java","android","android-studio","kotlin","android-jetpack-compose"],"comments":[{"owner":{"account_id":1102161,"reputation":20166,"user_id":1094333,"display_name":"nglauber"},"score":0,"creation_date":1657631699,"post_id":72945959,"comment_id":128852738,"body_markdown":"Does this answer your question? [How to add Swipe refresh from bottom of screen in compose?](https://stackoverflow.com/questions/71197810/how-to-add-swipe-refresh-from-bottom-of-screen-in-compose)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/71197810/how-to-add-swipe-refresh-from-bottom-of-screen-in-compose\">How to add Swipe refresh from bottom of screen in compose?</a>"},{"owner":{"account_id":22762334,"reputation":355,"user_id":16920947,"display_name":"Android Dev"},"score":0,"creation_date":1657650301,"post_id":72945959,"comment_id":128859587,"body_markdown":"@nglauber No, I already saw that post, Accompanist does not have swipe direction, only changes the location of the indicator","body":"@nglauber No, I already saw that post, Accompanist does not have swipe direction, only changes the location of the indicator"}],"owner":{"account_id":22762334,"reputation":355,"user_id":16920947,"display_name":"Android Dev"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":215,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657586642,"creation_date":1657586642,"question_id":72945959,"body_markdown":"I haven&#39;t found a question that was exactly what I was asking. The only one I found was from 6 years ago: https://stackoverflow.com/questions/32396673/android-swipe-up-to-refresh-listview\r\n\r\nWhen I reach the bottom of a Column of Text lists, I want to be able to swipe up from the bottom of the screen to refresh and load more content of the list view. Bottom to Up. \r\n\r\nI checked the SwipeRefresh library from Google Accompanist, that library only changes the alignment of the swipe, not the swipe direction. \r\nI don&#39;t want to have to import someone&#39;s library, is there a way to do this without having to do that?","title":"Swipe to Refresh But Swiping Up from Bottom Of Screen? in Jetpack Compose","body":"<p>I haven't found a question that was exactly what I was asking. The only one I found was from 6 years ago: <a href=\"https://stackoverflow.com/questions/32396673/android-swipe-up-to-refresh-listview\">Android Swipe Up to Refresh ListView</a></p>\n<p>When I reach the bottom of a Column of Text lists, I want to be able to swipe up from the bottom of the screen to refresh and load more content of the list view. Bottom to Up.</p>\n<p>I checked the SwipeRefresh library from Google Accompanist, that library only changes the alignment of the swipe, not the swipe direction.\nI don't want to have to import someone's library, is there a way to do this without having to do that?</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":3430916,"reputation":3799,"user_id":3059385,"accept_rate":40,"display_name":"Christopher Schneider"},"score":0,"creation_date":1657332736,"post_id":72918045,"comment_id":128792280,"body_markdown":"Does this answer your question? [Gson &amp; Java - Attempted to serialize java.lang.Class: ..... Forgot to register a type adapter?](https://stackoverflow.com/questions/41937303/gson-java-attempted-to-serialize-java-lang-class-forgot-to-register-a)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/41937303/gson-java-attempted-to-serialize-java-lang-class-forgot-to-register-a\">Gson &amp; Java - Attempted to serialize java.lang.Class: ..... Forgot to register a type adapter?</a>"},{"owner":{"account_id":3430916,"reputation":3799,"user_id":3059385,"accept_rate":40,"display_name":"Christopher Schneider"},"score":0,"creation_date":1657332993,"post_id":72918045,"comment_id":128792304,"body_markdown":"Alternately, you can use [Jackson](https://github.com/FasterXML/jackson), which can deserialize from a `Class`. Here&#39;s an [example](https://www.baeldung.com/jackson-object-mapper-tutorial#:~:text=3.2.%20JSON%20to%20Java%20Object).","body":"Alternately, you can use <a href=\"https://github.com/FasterXML/jackson\" rel=\"nofollow noreferrer\">Jackson</a>, which can deserialize from a <code>Class</code>. Here&#39;s an <a href=\"https://www.baeldung.com/jackson-object-mapper-tutorial#:~:text=3.2.%20JSON%20to%20Java%20Object\" rel=\"nofollow noreferrer\">example</a>."},{"owner":{"account_id":25763105,"reputation":11,"user_id":19513667,"display_name":"Sean Rahman"},"score":0,"creation_date":1657339816,"post_id":72918045,"comment_id":128792947,"body_markdown":"Jackson! That’s what I was looking for! I forgot the library so I was using gson","body":"Jackson! That’s what I was looking for! I forgot the library so I was using gson"}],"answers":[{"tags":[],"owner":{"account_id":25763105,"reputation":11,"user_id":19513667,"display_name":"Sean Rahman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657586622,"creation_date":1657586622,"answer_id":72945956,"question_id":72918045,"body_markdown":"If anyone runs across this, here is how I solved this using the comment from \r\n\r\n&gt; Alternately, you can use Jackson, which can deserialize from a Class. Here&#39;s an example. – Christopher Schneider\r\n\r\n    @Override\r\n\tpublic void onMessage(String message) {\r\n\t\tStompFrame stompFrame = StompFrame.fromString(message);\r\n\t\t\r\n\t\tswitch (stompFrame.getCommand()) {\r\n\t\tcase CONNECTED:\r\n\t\t\tstompConnected = true;\r\n\t\t\tif (stompConnectionListener != null) {\r\n\t\t\t\tstompConnectionListener.onConnected();\r\n\t\t\t}\r\n\t\t\tbreak;\r\n\t\tcase MESSAGE:\r\n\t\t\tInteger subscriptionId = Integer.valueOf(stompFrame.getHeaders().get(StompHeader.SUBSCRIPTION.toString()));\r\n\t\t\t\r\n\t\t\tObjectMapper objectMapper = new ObjectMapper(new Gson());\r\n\t\t\tT t = objectMapper.readValue(stompFrame.getBody(), tclass);\r\n\t\t\t\r\n\t\t\tStompSubscription&lt;T&gt; listener = (StompSubscription&lt;T&gt;) subscriptions.get(subscriptionId);\r\n\t\t\tlistener.getListener().onMessage(t);\r\n\t\t\tbreak;\r\n\t\tcase DISCONNECT:\r\n\t\t\tstompConnected = false;\r\n\t\t\tif (stompConnectionListener != null) {\r\n\t\t\t\tstompConnectionListener.onDisconnected();\r\n\t\t\t}\r\n\t\t\tbreak;\r\n\t\tdefault:\r\n\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\r\nThe ObjectMapper was put in place. tclass = Class&lt;T&gt;. This allowed me to use Jackson and Generics to provide the Object that will be returning from the stomp listener","title":"Deserializing Java Generics with Gson","body":"<p>If anyone runs across this, here is how I solved this using the comment from</p>\n<blockquote>\n<p>Alternately, you can use Jackson, which can deserialize from a Class. Here's an example. – Christopher Schneider</p>\n</blockquote>\n<pre><code>@Override\npublic void onMessage(String message) {\n    StompFrame stompFrame = StompFrame.fromString(message);\n    \n    switch (stompFrame.getCommand()) {\n    case CONNECTED:\n        stompConnected = true;\n        if (stompConnectionListener != null) {\n            stompConnectionListener.onConnected();\n        }\n        break;\n    case MESSAGE:\n        Integer subscriptionId = Integer.valueOf(stompFrame.getHeaders().get(StompHeader.SUBSCRIPTION.toString()));\n        \n        ObjectMapper objectMapper = new ObjectMapper(new Gson());\n        T t = objectMapper.readValue(stompFrame.getBody(), tclass);\n        \n        StompSubscription&lt;T&gt; listener = (StompSubscription&lt;T&gt;) subscriptions.get(subscriptionId);\n        listener.getListener().onMessage(t);\n        break;\n    case DISCONNECT:\n        stompConnected = false;\n        if (stompConnectionListener != null) {\n            stompConnectionListener.onDisconnected();\n        }\n        break;\n    default:\n        break;\n    }\n}\n</code></pre>\n<p>The ObjectMapper was put in place. tclass = Class. This allowed me to use Jackson and Generics to provide the Object that will be returning from the stomp listener</p>\n"}],"owner":{"account_id":25763105,"reputation":11,"user_id":19513667,"display_name":"Sean Rahman"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72945956,"answer_count":1,"score":1,"last_activity_date":1657586622,"creation_date":1657325512,"question_id":72918045,"body_markdown":"I&#39;m writing a library for my WebSocket (STOMP) on my webserver. I&#39;m trying to make it so that the library will return the object specified in the Generics.\r\n\r\nAdd stomp client\r\n\r\n    public &lt;T&gt; void addStompClient(T t, String url, String subscription, StompMessageListener&lt;T&gt; listener) {\r\n    \tStompClient&lt;T&gt; sc = new StompClient&lt;T&gt;(t, URI.create(url));\r\n\t\tStompConnectionListener scl = new StompConnectionListener() {\r\n\t\t\tpublic void onConnecting() {}\r\n\t\t\tpublic void onConnected() {\r\n\t\t\t\tsc.subscribe(subscription, listener);\r\n\t\t\t}\r\n\t\t\tpublic void onDisconnected() {}\r\n\t\t\t\r\n\t\t};\r\n\t\tsc.setStompConnectionListener(scl);\r\n\t\tsc.connect();\r\n\t\tclients.add(sc);\r\n    }\r\n\r\nStompMessageListener\r\n\r\n    @FunctionalInterface\r\n    public interface StompMessageListener&lt;T&gt; {\r\n\t\r\n\t    void onMessage(T test);\r\n\r\n    }\r\n\r\nStompClient class method and variables\r\n\r\n\r\n    @Getter\r\n\tprivate T t;\r\n\t\r\n\tprotected StompClient(T tclass, URI serverUri) {\r\n\t\tsuper(serverUri);\r\n\t\tt = tclass;\r\n\t}\r\n\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n\t@Override\r\n\tpublic void onMessage(String message) {\r\n\t\tStompFrame stompFrame = StompFrame.fromString(message);\r\n\t\t\r\n\t\tswitch (stompFrame.getCommand()) {\r\n\t\tcase CONNECTED:\r\n\t\t\tstompConnected = true;\r\n\t\t\tif (stompConnectionListener != null) {\r\n\t\t\t\tstompConnectionListener.onConnected();\r\n\t\t\t}\r\n\t\t\tbreak;\r\n\t\tcase MESSAGE:\r\n\t\t\tInteger subscriptionId = Integer.valueOf(stompFrame.getHeaders().get(StompHeader.SUBSCRIPTION.toString()));\r\n\t\t\t\r\n\t\t\tClass&lt;T&gt; tclass = (Class&lt;T&gt;) t.getClass();\r\n\t\t\tT test = (T) new Gson().fromJson(stompFrame.getBody(), tclass);\r\n\t\t\t\r\n\t\t\tStompSubscription&lt;T&gt; listener = (StompSubscription&lt;T&gt;) subscriptions.get(subscriptionId);\r\n\t\t\tlistener.getListener().onMessage(test);\r\n\t\t\tbreak;\r\n\t\tcase DISCONNECT:\r\n\t\t\tstompConnected = false;\r\n\t\t\tif (stompConnectionListener != null) {\r\n\t\t\t\tstompConnectionListener.onDisconnected();\r\n\t\t\t}\r\n\t\t\tbreak;\r\n\t\tdefault:\r\n\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\r\nCalling:\r\n\r\n    clientManager.addStompClient(Category.class, &quot;ws://localhost:8080/stomp-api/v1/hub&quot;, &quot;/stomp-api/v1/listener/category/create&quot;, (category) -&gt; {\r\n\t\t\tBukkit.getConsoleSender().sendMessage(category.getName());\r\n\t\t});\r\n\r\nBut in doing this, I get a:\r\n\r\n&gt; java.lang.UnsupportedOperationException: Attempted to deserialize a java.lang.Class. Forgot to register a type adapter?\r\n\r\nAnyone know how to fix this? I tried to add the type adapter but couldn&#39;t figure out how to do it properly","title":"Deserializing Java Generics with Gson","body":"<p>I'm writing a library for my WebSocket (STOMP) on my webserver. I'm trying to make it so that the library will return the object specified in the Generics.</p>\n<p>Add stomp client</p>\n<pre><code>public &lt;T&gt; void addStompClient(T t, String url, String subscription, StompMessageListener&lt;T&gt; listener) {\n    StompClient&lt;T&gt; sc = new StompClient&lt;T&gt;(t, URI.create(url));\n    StompConnectionListener scl = new StompConnectionListener() {\n        public void onConnecting() {}\n        public void onConnected() {\n            sc.subscribe(subscription, listener);\n        }\n        public void onDisconnected() {}\n        \n    };\n    sc.setStompConnectionListener(scl);\n    sc.connect();\n    clients.add(sc);\n}\n</code></pre>\n<p>StompMessageListener</p>\n<pre><code>@FunctionalInterface\npublic interface StompMessageListener&lt;T&gt; {\n\n    void onMessage(T test);\n\n}\n</code></pre>\n<p>StompClient class method and variables</p>\n<pre><code>@Getter\nprivate T t;\n\nprotected StompClient(T tclass, URI serverUri) {\n    super(serverUri);\n    t = tclass;\n}\n\n@SuppressWarnings(&quot;unchecked&quot;)\n@Override\npublic void onMessage(String message) {\n    StompFrame stompFrame = StompFrame.fromString(message);\n    \n    switch (stompFrame.getCommand()) {\n    case CONNECTED:\n        stompConnected = true;\n        if (stompConnectionListener != null) {\n            stompConnectionListener.onConnected();\n        }\n        break;\n    case MESSAGE:\n        Integer subscriptionId = Integer.valueOf(stompFrame.getHeaders().get(StompHeader.SUBSCRIPTION.toString()));\n        \n        Class&lt;T&gt; tclass = (Class&lt;T&gt;) t.getClass();\n        T test = (T) new Gson().fromJson(stompFrame.getBody(), tclass);\n        \n        StompSubscription&lt;T&gt; listener = (StompSubscription&lt;T&gt;) subscriptions.get(subscriptionId);\n        listener.getListener().onMessage(test);\n        break;\n    case DISCONNECT:\n        stompConnected = false;\n        if (stompConnectionListener != null) {\n            stompConnectionListener.onDisconnected();\n        }\n        break;\n    default:\n        break;\n    }\n}\n</code></pre>\n<p>Calling:</p>\n<pre><code>clientManager.addStompClient(Category.class, &quot;ws://localhost:8080/stomp-api/v1/hub&quot;, &quot;/stomp-api/v1/listener/category/create&quot;, (category) -&gt; {\n        Bukkit.getConsoleSender().sendMessage(category.getName());\n    });\n</code></pre>\n<p>But in doing this, I get a:</p>\n<blockquote>\n<p>java.lang.UnsupportedOperationException: Attempted to deserialize a java.lang.Class. Forgot to register a type adapter?</p>\n</blockquote>\n<p>Anyone know how to fix this? I tried to add the type adapter but couldn't figure out how to do it properly</p>\n"},{"tags":["java","android","android-studio","gradle","build.gradle"],"answers":[{"tags":[],"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657567763,"creation_date":1657567763,"answer_id":72943703,"question_id":72943471,"body_markdown":"The JAR contains a reference to a JNI library that it is trying to load. You are not including the corresponding `.so` file.\r\n\r\nMy guess is that this JAR is not set up for use with Android. If it is, look for an AAR file, preferably via a Maven repository reference rather than a bare file, and use it.\r\n","title":"Why is Android Studio giving me an error about .so files when I try to add a .jar file as a dependency?","body":"<p>The JAR contains a reference to a JNI library that it is trying to load. You are not including the corresponding <code>.so</code> file.</p>\n<p>My guess is that this JAR is not set up for use with Android. If it is, look for an AAR file, preferably via a Maven repository reference rather than a bare file, and use it.</p>\n"}],"owner":{"account_id":20079031,"reputation":21,"user_id":14722087,"display_name":"Tyler Moroso"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1657586001,"creation_date":1657566364,"question_id":72943471,"body_markdown":"I am trying to add a .jar file to my company&#39;s app. I added it to `app\\libs`, and added the dependency to my gradle file as `implementation files(&#39;libs\\\\libname.jar)`. Android Studio detects the imported classes and everything, but when I go to build and run my app, it immediately crashes with the following error: `Failed to load libname.so. Make sure the jni symbols are accessible somehow`. I&#39;m not sure why it is talking about an .so file and jni symbols, but I&#39;m guessing it&#39;s related. There is also an example app for this .jar library but it also crashes with the same error. ","title":"Why is Android Studio giving me an error about .so files when I try to add a .jar file as a dependency?","body":"<p>I am trying to add a .jar file to my company's app. I added it to <code>app\\libs</code>, and added the dependency to my gradle file as <code>implementation files('libs\\\\libname.jar)</code>. Android Studio detects the imported classes and everything, but when I go to build and run my app, it immediately crashes with the following error: <code>Failed to load libname.so. Make sure the jni symbols are accessible somehow</code>. I'm not sure why it is talking about an .so file and jni symbols, but I'm guessing it's related. There is also an example app for this .jar library but it also crashes with the same error.</p>\n"},{"tags":["java","data-structures","recursive-datastructures"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1657581586,"post_id":72945505,"comment_id":128840312,"body_markdown":"That is a tree.","body":"That is a tree."},{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1657582595,"post_id":72945505,"comment_id":128840480,"body_markdown":"https://en.wikipedia.org/wiki/Tree_(data_structure)","body":"<a href=\"https://en.wikipedia.org/wiki/Tree_(data_structure)\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Tree_(data_structure)</a>"}],"answers":[{"tags":[],"owner":{"account_id":25782136,"reputation":1,"user_id":19527601,"display_name":"jlbabilino"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657583770,"creation_date":1657583770,"answer_id":72945724,"question_id":72945505,"body_markdown":"I would make a `Node` class that represents each node in the tree structure. It could be something like this:\r\n```\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class Node {\r\n\r\n    private String id = &quot;&quot;;\r\n    private List&lt;Node&gt; children = new ArrayList&lt;&gt;();\r\n\r\n    public Node(String id, Node... children) {\r\n        this.children.addAll(List.of(children));\r\n    }\r\n\r\n    public void setID(String id) {\r\n        this.id = id;\r\n    }\r\n    public String getID() {\r\n        return id;\r\n    }\r\n\r\n    public List&lt;Node&gt; getChildren() {\r\n        return children;\r\n    }\r\n\r\n    public void moveUpGrandChildren() {\r\n        List&lt;Node&gt; grandChildren = new ArrayList&lt;&gt;();\r\n        for (Node child : children) {\r\n            grandChildren.addAll(child.getChildren());\r\n        }\r\n        children.clear();\r\n        children.addAll(grandChildren);\r\n    }\r\n\r\n    // Assumes child node is in this node\r\n    public void moveUpGrandChildren(Node child) {\r\n        List&lt;Node&gt; grandChildren = child.getChildren();\r\n        children.remove(child);\r\n        children.addAll(grandChildren);\r\n    }\r\n}\r\n```\r\nThen you could use `moveUpGrandChildren()` to move the children into the parent node:\r\n```\r\nNode grandchild1 = new Node(&quot;grandchild1&quot;);\r\nNode grandchild2 = new Node(&quot;grandchild2&quot;);\r\nNode grandchild3 = new Node(&quot;grandchild3&quot;);\r\nNode grandchild4 = new Node(&quot;grandchild4&quot;);\r\nNode child1 = new Node(&quot;child1&quot;, grandchild1, grandchild2);\r\nNode child2 = new Node(&quot;child2&quot;, grandchild3, grandchild4);\r\nNode root = new Node(&quot;root&quot;, child1, child2);\r\nroot.moveUpGrandChildren(child1); // moves up first child&#39;s children\r\nroot.moveUpGrandChildren(); // moves up all children&#39;s children\r\n```\r\n","title":"Java recursively delete objects and move other objects into their place","body":"<p>I would make a <code>Node</code> class that represents each node in the tree structure. It could be something like this:</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\n\npublic class Node {\n\n    private String id = &quot;&quot;;\n    private List&lt;Node&gt; children = new ArrayList&lt;&gt;();\n\n    public Node(String id, Node... children) {\n        this.children.addAll(List.of(children));\n    }\n\n    public void setID(String id) {\n        this.id = id;\n    }\n    public String getID() {\n        return id;\n    }\n\n    public List&lt;Node&gt; getChildren() {\n        return children;\n    }\n\n    public void moveUpGrandChildren() {\n        List&lt;Node&gt; grandChildren = new ArrayList&lt;&gt;();\n        for (Node child : children) {\n            grandChildren.addAll(child.getChildren());\n        }\n        children.clear();\n        children.addAll(grandChildren);\n    }\n\n    // Assumes child node is in this node\n    public void moveUpGrandChildren(Node child) {\n        List&lt;Node&gt; grandChildren = child.getChildren();\n        children.remove(child);\n        children.addAll(grandChildren);\n    }\n}\n</code></pre>\n<p>Then you could use <code>moveUpGrandChildren()</code> to move the children into the parent node:</p>\n<pre><code>Node grandchild1 = new Node(&quot;grandchild1&quot;);\nNode grandchild2 = new Node(&quot;grandchild2&quot;);\nNode grandchild3 = new Node(&quot;grandchild3&quot;);\nNode grandchild4 = new Node(&quot;grandchild4&quot;);\nNode child1 = new Node(&quot;child1&quot;, grandchild1, grandchild2);\nNode child2 = new Node(&quot;child2&quot;, grandchild3, grandchild4);\nNode root = new Node(&quot;root&quot;, child1, child2);\nroot.moveUpGrandChildren(child1); // moves up first child's children\nroot.moveUpGrandChildren(); // moves up all children's children\n</code></pre>\n"}],"owner":{"account_id":24678406,"reputation":28,"user_id":18572479,"display_name":"mayonnaisebrightfish"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657583770,"creation_date":1657580974,"question_id":72945505,"body_markdown":"I have an unknown depth recursive object and I need to delete specific nodes and bring their children into their place... That might not make sense so here is my best attempt at a representation:\r\n\r\n```json\r\n[\r\n  {\r\n    &quot;id&quot;: &quot;&quot;,\r\n    &quot;children&quot;: [\r\n      {\r\n        &quot;id&quot;: &quot;&quot;,\r\n        &quot;children&quot;: [\r\n          {\r\n            &quot;id&quot;: &quot;DELETE_THIS&quot;,\r\n            &quot;children&quot;: [\r\n              {\r\n                &quot;id&quot;: &quot;MOVE THIS UP ONE NODE&quot;,\r\n                &quot;children&quot;: [\r\n                  {\r\n                    &quot;id&quot;: &quot;&quot;,\r\n                    &quot;children&quot;: [\r\n                      {}\r\n                    ]\r\n                  }\r\n                ]\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            &quot;id&quot;: &quot;DELETE_THIS&quot;,\r\n            &quot;children&quot;: [\r\n              {\r\n                &quot;id&quot;: &quot;MOVE THIS UP ONE NODE&quot;,\r\n                &quot;children&quot;: [\r\n                ]\r\n              }\r\n            ]\r\n          }\r\n        ]\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    &quot;id&quot;: &quot;&quot;,\r\n    &quot;children&quot;: [\r\n    ]\r\n  }\r\n]\r\n```\r\nI&#39;m really struggling to understand what data structure or how I should handle this. At the moment everything is just a huge `List&lt;Child&gt;` and I don&#39;t know if I should be trying to make this into some kind of `Node` or `Tree`. \r\n\r\nI attempted to use a `Stack&lt;Child&gt;` to pop things off and keep track of where I was but that ended up very messy and still didn&#39;t work. \r\n\r\nIs someone able to help me out here with at least what data structure or method I should Google? \r\n\r\nKind regards","title":"Java recursively delete objects and move other objects into their place","body":"<p>I have an unknown depth recursive object and I need to delete specific nodes and bring their children into their place... That might not make sense so here is my best attempt at a representation:</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;id&quot;: &quot;&quot;,\n    &quot;children&quot;: [\n      {\n        &quot;id&quot;: &quot;&quot;,\n        &quot;children&quot;: [\n          {\n            &quot;id&quot;: &quot;DELETE_THIS&quot;,\n            &quot;children&quot;: [\n              {\n                &quot;id&quot;: &quot;MOVE THIS UP ONE NODE&quot;,\n                &quot;children&quot;: [\n                  {\n                    &quot;id&quot;: &quot;&quot;,\n                    &quot;children&quot;: [\n                      {}\n                    ]\n                  }\n                ]\n              }\n            ]\n          },\n          {\n            &quot;id&quot;: &quot;DELETE_THIS&quot;,\n            &quot;children&quot;: [\n              {\n                &quot;id&quot;: &quot;MOVE THIS UP ONE NODE&quot;,\n                &quot;children&quot;: [\n                ]\n              }\n            ]\n          }\n        ]\n      }\n    ]\n  },\n  {\n    &quot;id&quot;: &quot;&quot;,\n    &quot;children&quot;: [\n    ]\n  }\n]\n</code></pre>\n<p>I'm really struggling to understand what data structure or how I should handle this. At the moment everything is just a huge <code>List&lt;Child&gt;</code> and I don't know if I should be trying to make this into some kind of <code>Node</code> or <code>Tree</code>.</p>\n<p>I attempted to use a <code>Stack&lt;Child&gt;</code> to pop things off and keep track of where I was but that ended up very messy and still didn't work.</p>\n<p>Is someone able to help me out here with at least what data structure or method I should Google?</p>\n<p>Kind regards</p>\n"},{"tags":["java","swing","groovy","jframe","joptionpane"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1499433182,"post_id":44970795,"comment_id":76917977,"body_markdown":"Note: You seem to use the terms textfield &amp; textarea interchangeably, but they are entirely separate components. The first is for a single line of text, the 2nd is for multi-line text. Please use terms more carefully, and [edit] this question to remove all references to the one that is not relevant to the question.","body":"Note: You seem to use the terms textfield &amp; textarea interchangeably, but they are entirely separate components. The first is for a single line of text, the 2nd is for multi-line text. Please use terms more carefully, and <a href=\"https://stackoverflow.com/posts/44970795/edit\">edit</a> this question to remove all references to the one that is not relevant to the question."}],"answers":[{"tags":[],"owner":{"account_id":7602843,"reputation":460,"user_id":5766770,"accept_rate":100,"display_name":"Cath"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1499437496,"creation_date":1499430779,"answer_id":44970879,"question_id":44970795,"body_markdown":"You might have success with [Sergiy Medvynskyy][1]&#39;s answer on [this][2] question, or at least use it in some way;\r\n\r\n    JLabel label = new JLabel(&quot;MESSAGE&quot;);\r\n    label.setFont(new Font(&quot;Arial&quot;, Font.BOLD, 18));\r\n    JOptionPane.showMessageDialog(null,label,&quot;ERROR&quot;,JOptionPane.WARNING_MESSAGE);\r\n\r\nSince `JOptionPane` accepts a JLabel as parameter, you could experiment a bit by trying to resize that one, and then just passing it on.\r\n\r\n**Edit:**\r\n\r\nAssuming you are using Swing, this code should work.&lt;br&gt; (You might have to experiment a bit to reach your desired size/layout)\r\n\r\n            TextField tf = new TextField();\r\n    \t\ttf.setFont(new Font(&quot;Arial&quot;, Font.BOLD, 20));\r\n    \t\t\r\n    \t\tJPanel jp = new JPanel(new BorderLayout(0, 0));\r\n    \t\t\r\n    \t\tJLabel jl = new JLabel(&quot;Example Prompt Message!&quot;);\r\n    \t\tjl.setFont(new Font(&quot;Arial&quot;, Font.BOLD, 16));\r\n    \t\t\r\n    \t\tjp.add(jl, BorderLayout.NORTH);\r\n    \t\tjp.add(tf, BorderLayout.SOUTH);\r\n    \r\n    \t\tJOptionPane.showConfirmDialog(null, jp);\r\n\r\nResult should be something similiar to this. (You can change the dialogue type too of course, though `showInputDialog` probably won&#39;t work, due to it already having a default input line.)\r\n\r\n[![Sample Output with re-sized text field][3]][3]\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/1989769/sergiy-medvynskyy\r\n  [2]: https://stackoverflow.com/questions/26913923/change-size-e-font-joptionpane\r\n  [3]: https://i.stack.imgur.com/y9uXj.png","title":"resize showInputDialog textarea?","body":"<p>You might have success with <a href=\"https://stackoverflow.com/users/1989769/sergiy-medvynskyy\">Sergiy Medvynskyy</a>'s answer on <a href=\"https://stackoverflow.com/questions/26913923/change-size-e-font-joptionpane\">this</a> question, or at least use it in some way;</p>\n\n<pre><code>JLabel label = new JLabel(\"MESSAGE\");\nlabel.setFont(new Font(\"Arial\", Font.BOLD, 18));\nJOptionPane.showMessageDialog(null,label,\"ERROR\",JOptionPane.WARNING_MESSAGE);\n</code></pre>\n\n<p>Since <code>JOptionPane</code> accepts a JLabel as parameter, you could experiment a bit by trying to resize that one, and then just passing it on.</p>\n\n<p><strong>Edit:</strong></p>\n\n<p>Assuming you are using Swing, this code should work.<br> (You might have to experiment a bit to reach your desired size/layout)</p>\n\n<pre><code>        TextField tf = new TextField();\n        tf.setFont(new Font(\"Arial\", Font.BOLD, 20));\n\n        JPanel jp = new JPanel(new BorderLayout(0, 0));\n\n        JLabel jl = new JLabel(\"Example Prompt Message!\");\n        jl.setFont(new Font(\"Arial\", Font.BOLD, 16));\n\n        jp.add(jl, BorderLayout.NORTH);\n        jp.add(tf, BorderLayout.SOUTH);\n\n        JOptionPane.showConfirmDialog(null, jp);\n</code></pre>\n\n<p>Result should be something similiar to this. (You can change the dialogue type too of course, though <code>showInputDialog</code> probably won't work, due to it already having a default input line.)</p>\n\n<p><a href=\"https://i.stack.imgur.com/y9uXj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/y9uXj.png\" alt=\"Sample Output with re-sized text field\"></a></p>\n"},{"tags":[],"owner":{"account_id":111681,"reputation":13319,"user_id":1480018,"accept_rate":87,"display_name":"Paul Taylor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1535627704,"creation_date":1535627704,"answer_id":52095673,"question_id":44970795,"body_markdown":"Building on AscendedKittens answer, this shows how you actually get the inputted data back.    \r\n\r\n\r\n        TextField tf = new TextField();\r\n        JPanel panel = new JPanel(new BorderLayout(0, 0));\r\n        tf.setFont(new Font(&quot;Arial&quot;, Font.BOLD, 24));\r\n        JLabel label = new JLabel(&quot;Example Prompt Message!&quot;);\r\n        label.setFont(new Font(&quot;Arial&quot;, Font.BOLD, 16));\r\n        panel.add(label, BorderLayout.NORTH);\r\n        panel.add(tf, BorderLayout.SOUTH);\r\n        int result = JOptionPane.showConfirmDialog(null, panel);\r\n        if(result==JOptionPane.OK_OPTION)\r\n        {\r\n            System.out.println(tf.getText());\r\n        }","title":"resize showInputDialog textarea?","body":"<p>Building on AscendedKittens answer, this shows how you actually get the inputted data back.    </p>\n\n<pre><code>    TextField tf = new TextField();\n    JPanel panel = new JPanel(new BorderLayout(0, 0));\n    tf.setFont(new Font(\"Arial\", Font.BOLD, 24));\n    JLabel label = new JLabel(\"Example Prompt Message!\");\n    label.setFont(new Font(\"Arial\", Font.BOLD, 16));\n    panel.add(label, BorderLayout.NORTH);\n    panel.add(tf, BorderLayout.SOUTH);\n    int result = JOptionPane.showConfirmDialog(null, panel);\n    if(result==JOptionPane.OK_OPTION)\n    {\n        System.out.println(tf.getText());\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25785445,"reputation":1,"user_id":19530365,"display_name":"Jimmys Pav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657582032,"creation_date":1657582032,"answer_id":72945585,"question_id":44970795,"body_markdown":"The text inside *JOptionPane.showInputDialog* is considered a **TextField** . You can solve this problem by using the *UIManager.put* method . \r\n\r\n    UIManager.put(&quot;TextField.font&quot;, \r\n   \t\t\t new FontUIResource(new Font(&quot;SansSerif&quot;,Font.BOLD,21)));\r\n\r\nChanging the font of the letters will make the TextField considerably longer too , so if you want to avoid this you can do this :\r\n\r\n    UIManager.put(&quot;TextField.margin&quot;, \r\n\t   \t\t\t new InsetsUIResource(0,0,0,-100));","title":"resize showInputDialog textarea?","body":"<p>The text inside <em>JOptionPane.showInputDialog</em> is considered a <strong>TextField</strong> . You can solve this problem by using the <em>UIManager.put</em> method .</p>\n<pre><code>UIManager.put(&quot;TextField.font&quot;, \n         new FontUIResource(new Font(&quot;SansSerif&quot;,Font.BOLD,21)));\n</code></pre>\n<p>Changing the font of the letters will make the TextField considerably longer too , so if you want to avoid this you can do this :</p>\n<pre><code>UIManager.put(&quot;TextField.margin&quot;, \n             new InsetsUIResource(0,0,0,-100));\n</code></pre>\n"}],"owner":{"account_id":9985688,"reputation":1,"user_id":7386966,"display_name":"Sambsa Selkku"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1477,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1657582032,"creation_date":1499430541,"question_id":44970795,"body_markdown":"I&#39;m working with Groovy / Java with Swing, and trying to build `JOptionPane` `showInputDialog` frame, which pops to user, and takes user input in text field. \r\n\r\nYes it&#39;s simple. But my problem is that `showInputDialog` text area is by default quite small, and for usability I want it to be bigger. \r\n\r\nDoes anyone know how to resize textarea?\r\n\r\nExample:\r\nThis is what I get\r\n[small][1]\r\n\r\n&lt;img src=&quot;https://i.stack.imgur.com/xOK5d.png&quot;&gt;\r\n\r\n\r\nBut this is what I want\r\n[big][2]\r\n\r\n&lt;img src=&quot;https://i.stack.imgur.com/a4CSG.png&quot;&gt;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xOK5d.png\r\n  [2]: https://i.stack.imgur.com/a4CSG.png","title":"resize showInputDialog textarea?","body":"<p>I'm working with Groovy / Java with Swing, and trying to build <code>JOptionPane</code> <code>showInputDialog</code> frame, which pops to user, and takes user input in text field. </p>\n\n<p>Yes it's simple. But my problem is that <code>showInputDialog</code> text area is by default quite small, and for usability I want it to be bigger. </p>\n\n<p>Does anyone know how to resize textarea?</p>\n\n<p>Example:\nThis is what I get\n<a href=\"https://i.stack.imgur.com/xOK5d.png\" rel=\"nofollow noreferrer\">small</a></p>\n\n<p><img src=\"https://i.stack.imgur.com/xOK5d.png\"></p>\n\n<p>But this is what I want\n<a href=\"https://i.stack.imgur.com/a4CSG.png\" rel=\"nofollow noreferrer\">big</a></p>\n\n<p><img src=\"https://i.stack.imgur.com/a4CSG.png\"></p>\n"},{"tags":["java","casting"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1483683356,"post_id":41500021,"comment_id":70205682,"body_markdown":"Possible duplicate of [How to serialize a lambda?](http://stackoverflow.com/questions/22807912/how-to-serialize-a-lambda)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/22807912/how-to-serialize-a-lambda\">How to serialize a lambda?</a>"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1483683786,"post_id":41500021,"comment_id":70205824,"body_markdown":"The return type isn&#39;t the issue. Casting it to `Serializable` *makes it serializable*. This method casts to allow callers to serialize the result if they so choose.","body":"The return type isn&#39;t the issue. Casting it to <code>Serializable</code> <i>makes it serializable</i>. This method casts to allow callers to serialize the result if they so choose."}],"answers":[{"tags":[],"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1483683893,"creation_date":1483683786,"answer_id":41500112,"question_id":41500021,"body_markdown":"The javadoc of [`Comparator.comparing()`][1] says:\r\n\r\n &gt; The returned comparator is serializable if the specified function is also serializable.\r\n\r\nThe cast ensures that the internal class used by Java to implement the lambda will `implements Serializable`.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html#comparing-java.util.function.Function-","title":"Why does Java 8&#39;s Comparator.comparing() cast the return value to Serializable?","body":"<p>The javadoc of <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html#comparing-java.util.function.Function-\" rel=\"noreferrer\"><code>Comparator.comparing()</code></a> says:</p>\n\n<blockquote>\n  <p>The returned comparator is serializable if the specified function is also serializable.</p>\n</blockquote>\n\n<p>The cast ensures that the internal class used by Java to implement the lambda will <code>implements Serializable</code>.</p>\n"},{"tags":[],"owner":{"account_id":4445985,"reputation":1,"user_id":3619250,"display_name":"cquludajun"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657581609,"creation_date":1657469925,"answer_id":72930029,"question_id":41500021,"body_markdown":"First, *(`Comparator&lt;T&gt;` &amp; `Serializable`)* makes the lambda implements `Serializable`. It does not hurt to add the interface. However if not added, the comparing would return something that is not serializable even if the specified function is serializable, which is problematic. \r\n\r\nSecond, if the specified function is not serializable while the return the lambda is serializable, when you actually serialize it, it will fail as when Java serializes the lambda function itself, it will check whether the specified function is also serializable. \r\n\r\nThis could be tested by `ObjectOutputStream` and `ObjectInputStream` which implement Java&#39;s serialization and deserialization. ","title":"Why does Java 8&#39;s Comparator.comparing() cast the return value to Serializable?","body":"<p>First, <em>(<code>Comparator&lt;T&gt;</code> &amp; <code>Serializable</code>)</em> makes the lambda implements <code>Serializable</code>. It does not hurt to add the interface. However if not added, the comparing would return something that is not serializable even if the specified function is serializable, which is problematic.</p>\n<p>Second, if the specified function is not serializable while the return the lambda is serializable, when you actually serialize it, it will fail as when Java serializes the lambda function itself, it will check whether the specified function is also serializable.</p>\n<p>This could be tested by <code>ObjectOutputStream</code> and <code>ObjectInputStream</code> which implement Java's serialization and deserialization.</p>\n"}],"owner":{"account_id":94193,"reputation":20589,"user_id":257299,"accept_rate":64,"display_name":"kevinarpe"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1488,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":41500112,"answer_count":2,"score":8,"last_activity_date":1657581609,"creation_date":1483683313,"question_id":41500021,"body_markdown":"From JDK8&#39;s [Comparator.java][1]:\r\n\r\n    public static &lt;T, U extends Comparable&lt;? super U&gt;&gt; Comparator&lt;T&gt; comparing(\r\n            Function&lt;? super T, ? extends U&gt; keyExtractor)\r\n    {\r\n        Objects.requireNonNull(keyExtractor);\r\n        return (Comparator&lt;T&gt; &amp; Serializable)\r\n            (c1, c2) -&gt; keyExtractor.apply(c1).compareTo(keyExtractor.apply(c2));\r\n    }\r\n\r\nNotice the return statement is prefixed with an interesting cast: `(Comparator&lt;T&gt; &amp; Serializable)`\r\n\r\nI am already aware of and (I _think_) understand:\r\n\r\n* the `&amp;` operator in generic type restrictions (and can infer its purpose here),\r\n* the `Serializable` interface.\r\n\r\nHowever, used together in the cast is baffling to me.\r\n\r\nWhat is the purpose of `&amp; Serializable` if the return type does not require it?\r\n\r\nI do not understand the intent.\r\n\r\nFollow-up to dupe/close requests: This question https://stackoverflow.com/questions/22807912/how-to-serialize-a-lambda does not answer question.  My question specifically notes the return type has no mention of `Serializable`, thus the source of my confusion.\r\n\r\n  [1]: http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/8u40-b25/java/util/Comparator.java#Comparator.comparing%28java.util.function.Function%29","title":"Why does Java 8&#39;s Comparator.comparing() cast the return value to Serializable?","body":"<p>From JDK8's <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/8u40-b25/java/util/Comparator.java#Comparator.comparing%28java.util.function.Function%29\" rel=\"noreferrer\">Comparator.java</a>:</p>\n\n<pre><code>public static &lt;T, U extends Comparable&lt;? super U&gt;&gt; Comparator&lt;T&gt; comparing(\n        Function&lt;? super T, ? extends U&gt; keyExtractor)\n{\n    Objects.requireNonNull(keyExtractor);\n    return (Comparator&lt;T&gt; &amp; Serializable)\n        (c1, c2) -&gt; keyExtractor.apply(c1).compareTo(keyExtractor.apply(c2));\n}\n</code></pre>\n\n<p>Notice the return statement is prefixed with an interesting cast: <code>(Comparator&lt;T&gt; &amp; Serializable)</code></p>\n\n<p>I am already aware of and (I <em>think</em>) understand:</p>\n\n<ul>\n<li>the <code>&amp;</code> operator in generic type restrictions (and can infer its purpose here),</li>\n<li>the <code>Serializable</code> interface.</li>\n</ul>\n\n<p>However, used together in the cast is baffling to me.</p>\n\n<p>What is the purpose of <code>&amp; Serializable</code> if the return type does not require it?</p>\n\n<p>I do not understand the intent.</p>\n\n<p>Follow-up to dupe/close requests: This question <a href=\"https://stackoverflow.com/questions/22807912/how-to-serialize-a-lambda\">How to serialize a lambda?</a> does not answer question.  My question specifically notes the return type has no mention of <code>Serializable</code>, thus the source of my confusion.</p>\n"},{"tags":["java","jpa"],"answers":[{"tags":[],"owner":{"account_id":4741976,"reputation":5385,"user_id":3834413,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1657581408,"creation_date":1657578570,"answer_id":72945283,"question_id":72943572,"body_markdown":"**Solution 1: explicitly initialize child entities during parent entity creation**\r\n&lt;br&gt;Main idea of that solution is to create an additional method for loading `Value` entities by `messageId` in `ValueRepository` and use it explicitly to initialize values collection during `Message` entity creation.\r\n&lt;br&gt;Repository for loading Value entities:\r\n```java\r\npublic interface ValueRepository extends JpaRepository&lt;ValueEntity, Long&gt; {    \r\n    @Query(&quot;SELECT v FROM ValueEntity v WHERE v.messageId = :messageId&quot;)\r\n    List&lt;ValueEntity&gt; findByMessageId(Long messageId);\r\n}\r\n```\r\nMesage creation and values collection initialization:\r\n```java\r\n    public Message createMessage() {\r\n        Message message = new Message();\r\n        message.setId(1L);\r\n        message.setValues(valueRepository.findByMessageId(message.getId()));\r\n        entityManager.persist(message);\r\n        return message;\r\n    }\r\n```\r\n**Solution 2: perform Flush and Refresh**\r\n&lt;br&gt;After`Message` persists operation you can perform [Flush operation][1], which will synchronize entity with database state, and then [Refresh operation][2], which will reread the state of the given entity.\r\n```java\r\n    public Message createMessage() {\r\n        Message message = new Message();\r\n        message.setId(1L);\r\n        entityManager.persist(message);\r\n        entityManager.flush();\r\n        entityManager.refresh(message);\r\n        return message;\r\n    }\r\n```\r\n\r\nI think **Solution 1** is preferable, it is better from a performance perspective because the flush operation can take additional time.\r\n\r\n**UPDATE:**\r\n&lt;br&gt;In case of merge operation, use returned persisted entity for the refresh, instead of init object.\r\n```java\r\n    public Message createMessage() {\r\n        Message message = new Message();\r\n        message.setId(1L);\r\n        Message persistedMessage = entityManager.merge(message);\r\n        entityManager.flush();\r\n        entityManager.refresh(persistedMessage);\r\n        return persistedMessage;\r\n    }\r\n```\r\nOr better divide save and update operations\r\n```java\r\n   public Message saveOrUpdateMessage() {\r\n        Message message =  entityManager.find(Message.class, 1L);\r\n        if (message == null) {\r\n            //handle new entity save\r\n            message = new Message();\r\n            message.setId(1L);\r\n            entityManager.persist(message);\r\n            entityManager.flush();\r\n            entityManager.refresh(message);\r\n        }\r\n        //handle existing entity update\r\n        ValueEntity valueEntity = new ValueEntity();\r\n        valueEntity.setId(2L);\r\n        valueEntity.setMessageId(message.getId());\r\n        entityManager.persist(valueEntity);\r\n        message.getValues().add(valueEntity);\r\n        return message;\r\n    }\r\n```\r\n\r\n  [1]: https://docs.jboss.org/hibernate/orm/5.2/userguide/html_single/chapters/flushing/Flushing.html\r\n  [2]: https://docs.jboss.org/hibernate/orm/6.1/javadocs/org/hibernate/Session.html#refresh(java.lang.Object)","title":"How do I fetch OneToMany mappedBy when creating the child entity before the parent?","body":"<p><strong>Solution 1: explicitly initialize child entities during parent entity creation</strong>\n<br>Main idea of that solution is to create an additional method for loading <code>Value</code> entities by <code>messageId</code> in <code>ValueRepository</code> and use it explicitly to initialize values collection during <code>Message</code> entity creation.\n<br>Repository for loading Value entities:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface ValueRepository extends JpaRepository&lt;ValueEntity, Long&gt; {    \n    @Query(&quot;SELECT v FROM ValueEntity v WHERE v.messageId = :messageId&quot;)\n    List&lt;ValueEntity&gt; findByMessageId(Long messageId);\n}\n</code></pre>\n<p>Mesage creation and values collection initialization:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public Message createMessage() {\n        Message message = new Message();\n        message.setId(1L);\n        message.setValues(valueRepository.findByMessageId(message.getId()));\n        entityManager.persist(message);\n        return message;\n    }\n</code></pre>\n<p><strong>Solution 2: perform Flush and Refresh</strong>\n<br>After<code>Message</code> persists operation you can perform <a href=\"https://docs.jboss.org/hibernate/orm/5.2/userguide/html_single/chapters/flushing/Flushing.html\" rel=\"nofollow noreferrer\">Flush operation</a>, which will synchronize entity with database state, and then <a href=\"https://docs.jboss.org/hibernate/orm/6.1/javadocs/org/hibernate/Session.html#refresh(java.lang.Object)\" rel=\"nofollow noreferrer\">Refresh operation</a>, which will reread the state of the given entity.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public Message createMessage() {\n        Message message = new Message();\n        message.setId(1L);\n        entityManager.persist(message);\n        entityManager.flush();\n        entityManager.refresh(message);\n        return message;\n    }\n</code></pre>\n<p>I think <strong>Solution 1</strong> is preferable, it is better from a performance perspective because the flush operation can take additional time.</p>\n<p><strong>UPDATE:</strong>\n<br>In case of merge operation, use returned persisted entity for the refresh, instead of init object.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public Message createMessage() {\n        Message message = new Message();\n        message.setId(1L);\n        Message persistedMessage = entityManager.merge(message);\n        entityManager.flush();\n        entityManager.refresh(persistedMessage);\n        return persistedMessage;\n    }\n</code></pre>\n<p>Or better divide save and update operations</p>\n<pre class=\"lang-java prettyprint-override\"><code>   public Message saveOrUpdateMessage() {\n        Message message =  entityManager.find(Message.class, 1L);\n        if (message == null) {\n            //handle new entity save\n            message = new Message();\n            message.setId(1L);\n            entityManager.persist(message);\n            entityManager.flush();\n            entityManager.refresh(message);\n        }\n        //handle existing entity update\n        ValueEntity valueEntity = new ValueEntity();\n        valueEntity.setId(2L);\n        valueEntity.setMessageId(message.getId());\n        entityManager.persist(valueEntity);\n        message.getValues().add(valueEntity);\n        return message;\n    }\n</code></pre>\n"}],"owner":{"account_id":4609695,"reputation":30864,"user_id":3738171,"display_name":"Guerric P"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72945283,"answer_count":1,"score":1,"last_activity_date":1657581408,"creation_date":1657566916,"question_id":72943572,"body_markdown":"I have a model like this:\r\n\r\n    class Message {\r\n\r\n       \t@Id\r\n\t    private UUID id;\r\n\r\n        // ...\r\n\r\n     \t@OneToMany(mappedBy = &quot;messageId&quot;)\r\n    \tprivate List&lt;Value&gt; values;\r\n    }\r\n    \r\n    class Value {\r\n        private UUID messageId;\r\n    }\r\n\r\nThe `Value` entities are being created in a JPA session, then, in another session, I create a `Message` in which I provide the `id` myself (which matches the `messageId` of existing `Value`).\r\n\r\nAfter I have persisted the `Message`, when I try to call `getValues()` from it, I get `null`. What&#39;s the best way to solve this? Can I programmatically fetch the relation? Should I open another session?","title":"How do I fetch OneToMany mappedBy when creating the child entity before the parent?","body":"<p>I have a model like this:</p>\n<pre><code>class Message {\n\n    @Id\n    private UUID id;\n\n    // ...\n\n    @OneToMany(mappedBy = &quot;messageId&quot;)\n    private List&lt;Value&gt; values;\n}\n\nclass Value {\n    private UUID messageId;\n}\n</code></pre>\n<p>The <code>Value</code> entities are being created in a JPA session, then, in another session, I create a <code>Message</code> in which I provide the <code>id</code> myself (which matches the <code>messageId</code> of existing <code>Value</code>).</p>\n<p>After I have persisted the <code>Message</code>, when I try to call <code>getValues()</code> from it, I get <code>null</code>. What's the best way to solve this? Can I programmatically fetch the relation? Should I open another session?</p>\n"},{"tags":["java","spring","swagger","swagger-ui","openapi"],"answers":[{"tags":[],"owner":{"account_id":92521,"reputation":296,"user_id":253528,"display_name":"lees2bytes"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1657580561,"creation_date":1657580561,"answer_id":72945471,"question_id":71616547,"body_markdown":"As best as I can tell, the ref value seems to be expecting a url where a schema could be found? I saw someone recommend making an endpoint to return examples? This seems a bit much to me... \r\n\r\nI decided the easiest thing to do was just add something to pull examples from the files and insert them into the OpenApi object.\r\n\r\nI implemented an `OpenApiCustomiser` in my spring config, this allows me to point to files in the apps resources folder for Response examples. \r\n\r\nI annotate the Controller method like this:  \r\n\r\n\r\n    @ApiResponses(value = {\r\n        @ApiResponse(responseCode = &quot;200&quot;,\r\n            content = { @Content(mediaType = &quot;application/json&quot;, \r\n            schema = @Schema(implementation = SomeResponse.class, \r\n                      name = &quot;YourResponse&quot;),  \r\n                      examples = {@ExampleObject(value = &quot;@your_data_200_response.json&quot;)}) }) \r\n        })\r\n\r\n\r\n\r\nTo get the above to work you then add the following OpenApiCustomiser config bean:\r\n\r\n\r\n\r\n    @Bean\r\n    public OpenApiCustomiser applyStandardOpenAPIModifications() {\r\n        return openApi -&gt; {\r\n            Paths paths = new Paths();\r\n            openApi.getPaths().entrySet().stream()\r\n                    .sorted(Map.Entry.comparingByKey())\r\n                    .forEach(stringPathItemEntry -&gt; {\r\n                        paths.addPathItem(stringPathItemEntry.getKey(), addExamples(stringPathItemEntry.getValue()));\r\n                    });\r\n            openApi.setPaths(paths);\r\n        };\r\n    }\r\n    \r\n    private PathItem addExamples(PathItem pathItem) {\r\n        if(pathItem.getPost() !=null)  {\r\n            //Note you can also Do this to APIResponses to insert info from a file into examples in say, a 200 response.\r\n                pathItem.getPost().getRequestBody().getContent().values().stream()\r\n                        .forEach(c -&gt;{\r\n                            String fileName = c.getExample().toString().replaceFirst(&quot;@&quot;,&quot;&quot;);\r\n                            ObjectNode node = null;\r\n                            try {\r\n                                //load file from where you want. also don&#39;t insert is as a string, it wont format properly\r\n                                node = (ObjectNode) new ObjectMapper().readTree(methodToReadInFileToString(fileName)); \r\n                            } catch (JsonProcessingException e) {\r\n                                throw new RuntimeException(e);\r\n                            }\r\n                            c.setExample(node);\r\n                        }\r\n                );\r\n        }\r\n        return pathItem;\r\n    }\r\n\r\nI just load the files from a folder places in /resources which contains the .json files.","title":"OpenApi how to add example from resources file for @RequestBody -&gt; @Content -&gt; @Schema -&gt; example","body":"<p>As best as I can tell, the ref value seems to be expecting a url where a schema could be found? I saw someone recommend making an endpoint to return examples? This seems a bit much to me...</p>\n<p>I decided the easiest thing to do was just add something to pull examples from the files and insert them into the OpenApi object.</p>\n<p>I implemented an <code>OpenApiCustomiser</code> in my spring config, this allows me to point to files in the apps resources folder for Response examples.</p>\n<p>I annotate the Controller method like this:</p>\n<pre><code>@ApiResponses(value = {\n    @ApiResponse(responseCode = &quot;200&quot;,\n        content = { @Content(mediaType = &quot;application/json&quot;, \n        schema = @Schema(implementation = SomeResponse.class, \n                  name = &quot;YourResponse&quot;),  \n                  examples = {@ExampleObject(value = &quot;@your_data_200_response.json&quot;)}) }) \n    })\n</code></pre>\n<p>To get the above to work you then add the following OpenApiCustomiser config bean:</p>\n<pre><code>@Bean\npublic OpenApiCustomiser applyStandardOpenAPIModifications() {\n    return openApi -&gt; {\n        Paths paths = new Paths();\n        openApi.getPaths().entrySet().stream()\n                .sorted(Map.Entry.comparingByKey())\n                .forEach(stringPathItemEntry -&gt; {\n                    paths.addPathItem(stringPathItemEntry.getKey(), addExamples(stringPathItemEntry.getValue()));\n                });\n        openApi.setPaths(paths);\n    };\n}\n\nprivate PathItem addExamples(PathItem pathItem) {\n    if(pathItem.getPost() !=null)  {\n        //Note you can also Do this to APIResponses to insert info from a file into examples in say, a 200 response.\n            pathItem.getPost().getRequestBody().getContent().values().stream()\n                    .forEach(c -&gt;{\n                        String fileName = c.getExample().toString().replaceFirst(&quot;@&quot;,&quot;&quot;);\n                        ObjectNode node = null;\n                        try {\n                            //load file from where you want. also don't insert is as a string, it wont format properly\n                            node = (ObjectNode) new ObjectMapper().readTree(methodToReadInFileToString(fileName)); \n                        } catch (JsonProcessingException e) {\n                            throw new RuntimeException(e);\n                        }\n                        c.setExample(node);\n                    }\n            );\n    }\n    return pathItem;\n}\n</code></pre>\n<p>I just load the files from a folder places in /resources which contains the .json files.</p>\n"}],"owner":{"account_id":10278040,"reputation":2869,"user_id":7584240,"accept_rate":17,"display_name":"BATMAN_2008"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3768,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":1,"score":8,"last_activity_date":1657580561,"creation_date":1648209138,"question_id":71616547,"body_markdown":"I am developing a service-based application for which I am adding `openapi` based annotations such as `@RequestBody, @Parameter, @Schema` within the `@Schema` I have an `example` field for which I can provide the example template in `String` format.\r\n\r\nI have provided the `example JSON string` but the JSON content is huge so I would like to add it from the `file` present in my `resources` folder. But I am currently unable to load it. Can someone please let me know how can I add the example content from the file rather than String?\r\n\r\nI tried looking and found that there is a field `externalValue` but I am unable to understand how to make it work. Following is the link to the [documentation][1].\r\n\r\nFollowing is the code I have which is working perfectly fine:\r\n```\r\n@Path(&quot;/generate&quot;)\r\n@POST\r\n@Consumes(MediaType.APPLICATION_JSON)\r\n@Produces(MediaType.APPLICATION_JSON)\r\n@RequestBody(description = &quot;InputTemplate body&quot;,\r\n        content = @Content(schema = @Schema(implementation = InputTemplate.class, example = &quot;{\\n&quot; +\r\n                &quot;  \\&quot;names\\&quot;:[\\n&quot; +\r\n                &quot;    \\&quot;Batman\\&quot;,\\n&quot; +\r\n                &quot;    \\&quot;Superman\\&quot;,\\n&quot; +\r\n                &quot;    \\&quot;Ironman\\&quot;\\n&quot; +\r\n                &quot;  ],\\n&quot; +\r\n                &quot;  \\&quot;jobs\\&quot;:[\\n&quot; +\r\n                &quot;    \\&quot;Fighting\\&quot;,\\n&quot; +\r\n                &quot;    \\&quot;Fyling\\&quot;,\\n&quot; +\r\n                &quot;    \\&quot;Teching\\&quot;\\n&quot; +\r\n                &quot;  ]\\n&quot; +\r\n                &quot;}&quot;)))\r\npublic Multi&lt;String&gt; generate(final Map&lt;String, Object&gt; input) throws CustomException {\r\n        \r\n}\r\n```\r\n\r\nI would like to replace the JSON contents present `example` with the contents from the external file which is present in my `resources` folder.\r\n\r\n\r\nAfter trying many things I got to know that I need to use `@ExampleObject` but if I add the respective annotations and try to open my `Swagger UI` then I am not getting the contents of the file that I have added. Rather it provides me with the data from `InputTemplate.class`.\r\n\r\nFollowing is the modified code:\r\n```\r\n@RequestBody(description = &quot;InputTemplate body&quot;,\r\n        content = @Content(schema = @Schema(implementation = InputTemplate.class), examples = {\r\n                @ExampleObject(name = &quot;Example-1&quot;,\r\n                        description = &quot;Example-1 for InputTemplate.&quot;,\r\n                        ref = &quot;#/resources/Example1.json&quot;), externalValue = &quot;#/resources/Example2.json&quot;\r\n                @ExampleObject(name = &quot;Example-2&quot;,\r\n                        description = &quot;Example-2 for InputTemplate.&quot;,\r\n                        ref = &quot;#/resources/Example1.json&quot;) //externalValue = &quot;#/resources/Example1.json&quot;\r\n        }))\r\n```\r\n\r\nI tried to look into a similar question but the provided response does not work for me: \r\n1. https://stackoverflow.com/q/60719210/7584240\r\n2. https://github.com/springdoc/springdoc-openapi/issues/1432\r\n3. https://github.com/springdoc/springdoc-openapi/issues/17\r\n\r\n  [1]: https://github.com/OAI/OpenAPI-Specification/blob/main/versions/3.1.0.md#example-object","title":"OpenApi how to add example from resources file for @RequestBody -&gt; @Content -&gt; @Schema -&gt; example","body":"<p>I am developing a service-based application for which I am adding <code>openapi</code> based annotations such as <code>@RequestBody, @Parameter, @Schema</code> within the <code>@Schema</code> I have an <code>example</code> field for which I can provide the example template in <code>String</code> format.</p>\n<p>I have provided the <code>example JSON string</code> but the JSON content is huge so I would like to add it from the <code>file</code> present in my <code>resources</code> folder. But I am currently unable to load it. Can someone please let me know how can I add the example content from the file rather than String?</p>\n<p>I tried looking and found that there is a field <code>externalValue</code> but I am unable to understand how to make it work. Following is the link to the <a href=\"https://github.com/OAI/OpenAPI-Specification/blob/main/versions/3.1.0.md#example-object\" rel=\"noreferrer\">documentation</a>.</p>\n<p>Following is the code I have which is working perfectly fine:</p>\n<pre><code>@Path(&quot;/generate&quot;)\n@POST\n@Consumes(MediaType.APPLICATION_JSON)\n@Produces(MediaType.APPLICATION_JSON)\n@RequestBody(description = &quot;InputTemplate body&quot;,\n        content = @Content(schema = @Schema(implementation = InputTemplate.class, example = &quot;{\\n&quot; +\n                &quot;  \\&quot;names\\&quot;:[\\n&quot; +\n                &quot;    \\&quot;Batman\\&quot;,\\n&quot; +\n                &quot;    \\&quot;Superman\\&quot;,\\n&quot; +\n                &quot;    \\&quot;Ironman\\&quot;\\n&quot; +\n                &quot;  ],\\n&quot; +\n                &quot;  \\&quot;jobs\\&quot;:[\\n&quot; +\n                &quot;    \\&quot;Fighting\\&quot;,\\n&quot; +\n                &quot;    \\&quot;Fyling\\&quot;,\\n&quot; +\n                &quot;    \\&quot;Teching\\&quot;\\n&quot; +\n                &quot;  ]\\n&quot; +\n                &quot;}&quot;)))\npublic Multi&lt;String&gt; generate(final Map&lt;String, Object&gt; input) throws CustomException {\n        \n}\n</code></pre>\n<p>I would like to replace the JSON contents present <code>example</code> with the contents from the external file which is present in my <code>resources</code> folder.</p>\n<p>After trying many things I got to know that I need to use <code>@ExampleObject</code> but if I add the respective annotations and try to open my <code>Swagger UI</code> then I am not getting the contents of the file that I have added. Rather it provides me with the data from <code>InputTemplate.class</code>.</p>\n<p>Following is the modified code:</p>\n<pre><code>@RequestBody(description = &quot;InputTemplate body&quot;,\n        content = @Content(schema = @Schema(implementation = InputTemplate.class), examples = {\n                @ExampleObject(name = &quot;Example-1&quot;,\n                        description = &quot;Example-1 for InputTemplate.&quot;,\n                        ref = &quot;#/resources/Example1.json&quot;), externalValue = &quot;#/resources/Example2.json&quot;\n                @ExampleObject(name = &quot;Example-2&quot;,\n                        description = &quot;Example-2 for InputTemplate.&quot;,\n                        ref = &quot;#/resources/Example1.json&quot;) //externalValue = &quot;#/resources/Example1.json&quot;\n        }))\n</code></pre>\n<p>I tried to look into a similar question but the provided response does not work for me:</p>\n<ol>\n<li><a href=\"https://stackoverflow.com/q/60719210/7584240\">How to refrence files in SpringDoc OpenAPI3?</a></li>\n<li><a href=\"https://github.com/springdoc/springdoc-openapi/issues/1432\" rel=\"noreferrer\">https://github.com/springdoc/springdoc-openapi/issues/1432</a></li>\n<li><a href=\"https://github.com/springdoc/springdoc-openapi/issues/17\" rel=\"noreferrer\">https://github.com/springdoc/springdoc-openapi/issues/17</a></li>\n</ol>\n"},{"tags":["java","android","json"],"comments":[{"owner":{"account_id":2575492,"reputation":808,"user_id":2233285,"accept_rate":100,"display_name":"slanecek"},"score":0,"creation_date":1534008762,"post_id":51801905,"comment_id":90560572,"body_markdown":"There are much better ways how to do this than the others advice you.. use Google Gson (or Jackson or Moshi) library to do this.","body":"There are much better ways how to do this than the others advice you.. use Google Gson (or Jackson or Moshi) library to do this."}],"answers":[{"tags":[],"owner":{"account_id":2021451,"reputation":1387,"user_id":2836444,"accept_rate":80,"display_name":"gkpln3"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1534007589,"creation_date":1534007589,"answer_id":51801994,"question_id":51801905,"body_markdown":"You will usually want to use `JsonWriter` when serializing an object to json format.\r\n\r\nIf what you are trying to do is just write a file with the specific contents you wrote here, you can use `FileWriter`\r\n\r\n    File file = new File(Environment.getExternalStorageDirectory(), filename);\r\n\r\n    FileWriter writer = new FileWriter(file);\r\n    writer.append(jsonString);\r\n    writer.flush();\r\n    writer.close();","title":"How to programmatically write data to a JSON file and then save it?","body":"<p>You will usually want to use <code>JsonWriter</code> when serializing an object to json format.</p>\n\n<p>If what you are trying to do is just write a file with the specific contents you wrote here, you can use <code>FileWriter</code></p>\n\n<pre><code>File file = new File(Environment.getExternalStorageDirectory(), filename);\n\nFileWriter writer = new FileWriter(file);\nwriter.append(jsonString);\nwriter.flush();\nwriter.close();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":962129,"reputation":91,"user_id":986253,"display_name":"Augusto Ferrarini"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1534007711,"creation_date":1534007711,"answer_id":51802003,"question_id":51801905,"body_markdown":"Just user a FileWriter to save to the ExternalFilesDir for exemple\r\n\r\n    public void save(Context context, String jsonString) throws IOException {\r\n      File rootFolder = context.getExternalFilesDir(null);\r\n      File jsonFile = new File(rootFolder, &quot;file.json&quot;);\r\n      FileWriter writer = new FileWriter(jsonFile);\r\n      writer.write(jsonString);\r\n      writer.close();\r\n      //or IOUtils.closeQuietly(writer);\r\n    }","title":"How to programmatically write data to a JSON file and then save it?","body":"<p>Just user a FileWriter to save to the ExternalFilesDir for exemple</p>\n\n<pre><code>public void save(Context context, String jsonString) throws IOException {\n  File rootFolder = context.getExternalFilesDir(null);\n  File jsonFile = new File(rootFolder, \"file.json\");\n  FileWriter writer = new FileWriter(jsonFile);\n  writer.write(jsonString);\n  writer.close();\n  //or IOUtils.closeQuietly(writer);\n}\n</code></pre>\n"}],"owner":{"account_id":11316227,"reputation":55,"user_id":8555203,"display_name":"ILHOM4IK"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8322,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":51802003,"answer_count":2,"score":3,"last_activity_date":1657580063,"creation_date":1534006958,"question_id":51801905,"body_markdown":"I want to put the following data to my JSON file in Android Studio programmatically:\r\n\r\n    [{\r\n        &quot;title&quot;:&quot;Olu4a такси&quot;,\r\n        &quot;logo&quot;:&quot;Taxi/olu4a.jpg&quot;,\r\n        &quot;color&quot;:&quot;#FFD916&quot;,\r\n        &quot;textcolor&quot;:&quot;#000000&quot;,\r\n        &quot;number&quot;:&quot;7000&quot;,\r\n        &quot;bigimage&quot;:&quot;Taxi/olu4a_car.jpg&quot;,\r\n        &quot;star&quot;:&quot;4.0&quot;\r\n    },\r\n    {\r\n        &quot;title&quot;:&quot;Asia Express такси&quot;,\r\n        &quot;logo&quot;:&quot;Taxi/d.jpg&quot;,\r\n        &quot;color&quot;:&quot;#E7232D&quot;,\r\n        &quot;textcolor&quot;:&quot;#ffffff&quot;,\r\n        &quot;number&quot;:&quot;1616&quot;,\r\n        &quot;bigimage&quot;:&quot;Taxi/asiaexpress.jpg&quot;,\r\n        &quot;star&quot;:&quot;3.5&quot;\r\n    }]\r\n\r\nHow can it be done?\r\n\r\nExample \r\n \r\n\r\n    JSONObject obj = new JSONObject(); \r\n    \r\n    try { \r\n         obj.put(&quot;id&quot;, &quot;3&quot;); \r\n         obj.put(&quot;name&quot;, &quot;NAME OF STUDENT&quot;); \r\n         obj.put(&quot;year&quot;, &quot;3rd&quot;); \r\n         obj.put(&quot;curriculum&quot;, &quot;Arts&quot;); \r\n         obj.put(&quot;birthday&quot;, &quot;5/5/1993&quot;); \r\n    } catch (JSONException e) { \r\n         // TODO Auto-generated catch block \r\n         e.printStackTrace(); \r\n    } ","title":"How to programmatically write data to a JSON file and then save it?","body":"<p>I want to put the following data to my JSON file in Android Studio programmatically:</p>\n<pre><code>[{\n    &quot;title&quot;:&quot;Olu4a такси&quot;,\n    &quot;logo&quot;:&quot;Taxi/olu4a.jpg&quot;,\n    &quot;color&quot;:&quot;#FFD916&quot;,\n    &quot;textcolor&quot;:&quot;#000000&quot;,\n    &quot;number&quot;:&quot;7000&quot;,\n    &quot;bigimage&quot;:&quot;Taxi/olu4a_car.jpg&quot;,\n    &quot;star&quot;:&quot;4.0&quot;\n},\n{\n    &quot;title&quot;:&quot;Asia Express такси&quot;,\n    &quot;logo&quot;:&quot;Taxi/d.jpg&quot;,\n    &quot;color&quot;:&quot;#E7232D&quot;,\n    &quot;textcolor&quot;:&quot;#ffffff&quot;,\n    &quot;number&quot;:&quot;1616&quot;,\n    &quot;bigimage&quot;:&quot;Taxi/asiaexpress.jpg&quot;,\n    &quot;star&quot;:&quot;3.5&quot;\n}]\n</code></pre>\n<p>How can it be done?</p>\n<p>Example</p>\n<pre><code>JSONObject obj = new JSONObject(); \n\ntry { \n     obj.put(&quot;id&quot;, &quot;3&quot;); \n     obj.put(&quot;name&quot;, &quot;NAME OF STUDENT&quot;); \n     obj.put(&quot;year&quot;, &quot;3rd&quot;); \n     obj.put(&quot;curriculum&quot;, &quot;Arts&quot;); \n     obj.put(&quot;birthday&quot;, &quot;5/5/1993&quot;); \n} catch (JSONException e) { \n     // TODO Auto-generated catch block \n     e.printStackTrace(); \n} \n</code></pre>\n"},{"tags":["java","spring-boot","rest"],"answers":[{"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1657579800,"creation_date":1657579800,"answer_id":72945400,"question_id":72944408,"body_markdown":"You&#39;re misunderstanding the purpose of a `@RestController` vs `RestTemplate`.\r\n\r\nAnnotating a class with `@RestController` and `@GetMapping` annotations provides a REST interface which can service HTTP requests.\r\n\r\nInside the implementation of `getAllGroups` you would normally use a service or a repository to get data from a DB, and return it to the client who had made the HTTP request.\r\n\r\nA `RestTemplate` instance is used to make HTTP requests to other REST interfaces, provided by other servers. It wouldn&#39;t normally be used in the implementation of a `@RestController`, unless some of the information returned came from some other microservice, for example.\r\n\r\nThe REST API URL is for the use of clients calling your REST API, not for use within your controller.","title":"Need help understanding Spring Boot REST interface","body":"<p>You're misunderstanding the purpose of a <code>@RestController</code> vs <code>RestTemplate</code>.</p>\n<p>Annotating a class with <code>@RestController</code> and <code>@GetMapping</code> annotations provides a REST interface which can service HTTP requests.</p>\n<p>Inside the implementation of <code>getAllGroups</code> you would normally use a service or a repository to get data from a DB, and return it to the client who had made the HTTP request.</p>\n<p>A <code>RestTemplate</code> instance is used to make HTTP requests to other REST interfaces, provided by other servers. It wouldn't normally be used in the implementation of a <code>@RestController</code>, unless some of the information returned came from some other microservice, for example.</p>\n<p>The REST API URL is for the use of clients calling your REST API, not for use within your controller.</p>\n"}],"owner":{"account_id":1159723,"reputation":1811,"user_id":1139500,"display_name":"Joseph Gagnon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72945400,"answer_count":1,"score":0,"last_activity_date":1657579800,"creation_date":1657571909,"question_id":72944408,"body_markdown":"I am writing a simple Java Spring Boot test application to call a REST API. The main purpose at this point is to quickly get something working and to also help refresh my memory/knowledge on making REST calls from a Java application.\r\n\r\nI&#39;ve worked with Spring Boot in the past, as well as calling REST APIs, but it&#39;s been a few years and I no longer have access to the applications I had a hand in writing. I&#39;ve forgotten a lot of the details.\r\n\r\nHere is what I have so far:\r\n\r\nApplication.java:\r\n\r\n\t@SpringBootApplication\r\n\tpublic class Application {\r\n\t  public static void main(String[] args) {\r\n\t\tSpringApplication.run(Application.class, args);\r\n\t  }\r\n\t}\r\n\r\nTestController.java:\r\n\r\n\t@RestController\r\n\tpublic class TestController {\r\n\t  @Autowired\r\n\t  private RestTemplate template;\r\n\r\n\t  @GetMapping(&quot;/groups&quot;)\r\n\t  public Object[] getAllGroups(String url) {\r\n\t\tObject[] groups = template.getForObject(url, Object[].class);\r\n\t\treturn groups;\r\n\t  }\r\n\t}\r\n\r\nI&#39;m not even at the point of trying to run this. Many of the online examples I&#39;ve found leave out the details of how a URL is &quot;provided&quot; to the REST calls.\r\n\r\nI also don&#39;t understand how the resource path `/groups` in `@GetMapping` is mapped to the REST call when the `RestTemplate` object is used in the method. What is the purpose of the resource path in the annotation? How does it &quot;fit&quot; with the template call?\r\n\r\nI&#39;m assuming that the template should probably be used in a `@Service`, rather than in the controller, but I&#39;m just trying to get this working and understand *how* it works.\r\n\r\nOn a related note, what other techniques are there to make the REST API URL available to the application besides passing it in to the `RestTemplate` object? Can this be done in some sort of configuration file? I&#39;ve forgotten so much and am having a hard time finding an example that covers the finer details that are usually glossed over, if not completely left out.\r\n","title":"Need help understanding Spring Boot REST interface","body":"<p>I am writing a simple Java Spring Boot test application to call a REST API. The main purpose at this point is to quickly get something working and to also help refresh my memory/knowledge on making REST calls from a Java application.</p>\n<p>I've worked with Spring Boot in the past, as well as calling REST APIs, but it's been a few years and I no longer have access to the applications I had a hand in writing. I've forgotten a lot of the details.</p>\n<p>Here is what I have so far:</p>\n<p>Application.java:</p>\n<pre><code>@SpringBootApplication\npublic class Application {\n  public static void main(String[] args) {\n    SpringApplication.run(Application.class, args);\n  }\n}\n</code></pre>\n<p>TestController.java:</p>\n<pre><code>@RestController\npublic class TestController {\n  @Autowired\n  private RestTemplate template;\n\n  @GetMapping(&quot;/groups&quot;)\n  public Object[] getAllGroups(String url) {\n    Object[] groups = template.getForObject(url, Object[].class);\n    return groups;\n  }\n}\n</code></pre>\n<p>I'm not even at the point of trying to run this. Many of the online examples I've found leave out the details of how a URL is &quot;provided&quot; to the REST calls.</p>\n<p>I also don't understand how the resource path <code>/groups</code> in <code>@GetMapping</code> is mapped to the REST call when the <code>RestTemplate</code> object is used in the method. What is the purpose of the resource path in the annotation? How does it &quot;fit&quot; with the template call?</p>\n<p>I'm assuming that the template should probably be used in a <code>@Service</code>, rather than in the controller, but I'm just trying to get this working and understand <em>how</em> it works.</p>\n<p>On a related note, what other techniques are there to make the REST API URL available to the application besides passing it in to the <code>RestTemplate</code> object? Can this be done in some sort of configuration file? I've forgotten so much and am having a hard time finding an example that covers the finer details that are usually glossed over, if not completely left out.</p>\n"},{"tags":["java","pine-script"],"comments":[{"owner":{"account_id":15033666,"reputation":47,"user_id":10850830,"display_name":"Shivaraj Sajjan"},"score":0,"creation_date":1656760631,"post_id":72836424,"comment_id":128653565,"body_markdown":"I want to implement this logic in Pine script. As I know Java, if I get answers in Java, that I can covert to Pine script.","body":"I want to implement this logic in Pine script. As I know Java, if I get answers in Java, that I can covert to Pine script."}],"answers":[{"tags":[],"owner":{"account_id":22755735,"reputation":555,"user_id":16915219,"display_name":"JumperBot_"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1656750947,"creation_date":1656736231,"answer_id":72836449,"question_id":72836424,"body_markdown":"You could iterate through a sorted array and find out which is adjacent and bigger.\r\n\r\n```Java\r\n    //Add the imports BEFORE the &quot;class{&quot;\r\n    import java.util.Arrays;\r\n    import java.util.Collections;\r\n    import java.util.List;\r\n```\r\n```Java\r\n    private static int check_bigger_adjacent(final int input_number){\r\n      final Integer[] array_of_numbers={50, 20, 40, 30, 10};\r\n      //Sort the array.\r\n      final List&lt;Integer&gt; sorted_list=Arrays.asList(array_of_numbers);\r\n      Collections.sort(sorted_list);\r\n      final int[] new_sorted_array_of_numbers=new int[sorted_list.size()];\r\n      for(int i=0;i&lt;sorted_list.size();i++){\r\n        new_sorted_array_of_numbers[i]=Integer.parseInt(sorted_list.get(i).toString());\r\n      }\r\n      for(int i:new_sorted_array_of_numbers){\r\n        if(i&gt;input_number)\r\n          return i;\r\n      }\r\n      // If the number is way too big for your included array.\r\n      return -1;\r\n    }\r\n```","title":"How to find next adjacent bigger number from given list of numbers for an input number","body":"<p>You could iterate through a sorted array and find out which is adjacent and bigger.</p>\n<pre><code>    //Add the imports BEFORE the &quot;class{&quot;\n    import java.util.Arrays;\n    import java.util.Collections;\n    import java.util.List;\n</code></pre>\n<pre><code>    private static int check_bigger_adjacent(final int input_number){\n      final Integer[] array_of_numbers={50, 20, 40, 30, 10};\n      //Sort the array.\n      final List&lt;Integer&gt; sorted_list=Arrays.asList(array_of_numbers);\n      Collections.sort(sorted_list);\n      final int[] new_sorted_array_of_numbers=new int[sorted_list.size()];\n      for(int i=0;i&lt;sorted_list.size();i++){\n        new_sorted_array_of_numbers[i]=Integer.parseInt(sorted_list.get(i).toString());\n      }\n      for(int i:new_sorted_array_of_numbers){\n        if(i&gt;input_number)\n          return i;\n      }\n      // If the number is way too big for your included array.\n      return -1;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24682857,"reputation":145,"user_id":18576371,"display_name":"Soorya J"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1656736992,"creation_date":1656736992,"answer_id":72836498,"question_id":72836424,"body_markdown":"The simplest approach is like filtering all the greatest numbers and then finding the smallest among them.\r\n\r\n    import java.util.*;\r\n\r\n    public class Main{\r\n\tpublic static void main(String[] args) {\r\n\t\tint[] numbers = {50, 20, 40, 30, 10};\r\n\t\tint target = 9;\r\n\t\t\r\n\t\tSystem.out.println(&quot;Adjacent Greatest number of &quot; + target + &quot; is &quot; + findAdjacentGreatest(numbers,target));\r\n\t}\r\n\t\r\n    // METHOD TO FIND THE ADJACENT GREATEST NUMBER\r\n\tpublic static int findAdjacentGreatest(int[] numbers, int target) {\r\n\t   // USED ARRAY LIST BECAUSE WE DONT KNOW THE CORRECT SIZE OF THE ARRAY TO INITIALISE THE ARRAY\r\n\t    ArrayList&lt;Integer&gt; greaterNumbers = new ArrayList&lt;Integer&gt;();\r\n\t    \r\n\t    for (int i=0; i&lt;numbers.length;i++) {\r\n\t        if(numbers[i] &gt; target) {\r\n\t            greaterNumbers.add(numbers[i]);\r\n\t        }\r\n\t    }\r\n\t    \r\n\t    // RETURN THE MINIMUM OF THE GREATEST NUMBERS\r\n\t    return Collections.min(greaterNumbers);\r\n\t    }    \r\n    }\r\n\r\n[live code here][1]\r\n\r\n\r\n  [1]: https://onlinegdb.com/lKgkivr2c","title":"How to find next adjacent bigger number from given list of numbers for an input number","body":"<p>The simplest approach is like filtering all the greatest numbers and then finding the smallest among them.</p>\n<pre><code>import java.util.*;\n\npublic class Main{\npublic static void main(String[] args) {\n    int[] numbers = {50, 20, 40, 30, 10};\n    int target = 9;\n    \n    System.out.println(&quot;Adjacent Greatest number of &quot; + target + &quot; is &quot; + findAdjacentGreatest(numbers,target));\n}\n\n// METHOD TO FIND THE ADJACENT GREATEST NUMBER\npublic static int findAdjacentGreatest(int[] numbers, int target) {\n   // USED ARRAY LIST BECAUSE WE DONT KNOW THE CORRECT SIZE OF THE ARRAY TO INITIALISE THE ARRAY\n    ArrayList&lt;Integer&gt; greaterNumbers = new ArrayList&lt;Integer&gt;();\n    \n    for (int i=0; i&lt;numbers.length;i++) {\n        if(numbers[i] &gt; target) {\n            greaterNumbers.add(numbers[i]);\n        }\n    }\n    \n    // RETURN THE MINIMUM OF THE GREATEST NUMBERS\n    return Collections.min(greaterNumbers);\n    }    \n}\n</code></pre>\n<p><a href=\"https://onlinegdb.com/lKgkivr2c\" rel=\"nofollow noreferrer\">live code here</a></p>\n"},{"tags":[],"owner":{"account_id":25694056,"reputation":101,"user_id":19461429,"display_name":"RohithPg"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1656755868,"creation_date":1656755515,"answer_id":72838112,"question_id":72836424,"body_markdown":"I think the fastest approach will be a solution of Time Complexity of O(n) by iterating through the array just one time like below. All other approaches where you will be using some form of sorting would atleast increase the time complexity by a minimum of O(nlogn).\r\nYou may need to add a boolean check in the below solution if you suspect that Integer.MAX_VALUE also can be part of the array.\r\n```\r\n   public static void main(String args[]) {\r\n      int[] arrNums= {50,20,40,30,10};\r\n      \r\n     System.out.println(findNextBigNum(arrNums,15));\r\n    }\r\n\r\n\tprivate static int findNextBigNum(int[] arrNums, int num) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t\r\n\t\tint nextBiggestNum=Integer.MAX_VALUE;\r\n\t\tfor(int i=0;i&lt;arrNums.length;i++)\r\n\t\t{\r\n\t\t\tif(arrNums[i]&gt;num &amp;&amp; arrNums[i] &lt;nextBiggestNum)\r\n\t\t\t\tnextBiggestNum=arrNums[i];\r\n\t\t}\r\n\t\t\r\n\t\treturn nextBiggestNum==Integer.MAX_VALUE?-1:nextBiggestNum;\r\n\t}","title":"How to find next adjacent bigger number from given list of numbers for an input number","body":"<p>I think the fastest approach will be a solution of Time Complexity of O(n) by iterating through the array just one time like below. All other approaches where you will be using some form of sorting would atleast increase the time complexity by a minimum of O(nlogn).\nYou may need to add a boolean check in the below solution if you suspect that Integer.MAX_VALUE also can be part of the array.</p>\n<pre><code>   public static void main(String args[]) {\n      int[] arrNums= {50,20,40,30,10};\n      \n     System.out.println(findNextBigNum(arrNums,15));\n    }\n\n    private static int findNextBigNum(int[] arrNums, int num) {\n        // TODO Auto-generated method stub\n        \n        int nextBiggestNum=Integer.MAX_VALUE;\n        for(int i=0;i&lt;arrNums.length;i++)\n        {\n            if(arrNums[i]&gt;num &amp;&amp; arrNums[i] &lt;nextBiggestNum)\n                nextBiggestNum=arrNums[i];\n        }\n        \n        return nextBiggestNum==Integer.MAX_VALUE?-1:nextBiggestNum;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":75375,"reputation":2558,"user_id":216248,"accept_rate":88,"display_name":"karatedog"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1656928638,"creation_date":1656928638,"answer_id":72854886,"question_id":72836424,"body_markdown":"Algorithm, if List is small and you don&#39;t care about time:\r\n\r\n- sort the list in increasing order, so smallest number first\r\n- scan through the list starting from the beginning\r\n- compare `input` with current `value` of list. If `value` is greater than `input`, you found the first &quot;adjacent&quot; number\r\n\r\nAlgorithm, if List can be huge and you care about time:\r\n\r\n - create a variable (VAR) with a value of nil (or anything that cannot be read from the list, 0, 9999, &quot;HOGEFUGE&quot;, whatever)\r\n - scan through the list starting from the beginning\r\n - compare `input` with `value`. If `value` is greater than `input` then:\r\n   - check if VAR has been set\r\n      - if not, set it to `value`\r\n      - if set, check if `value` is less than VAR&#39;s value\r\n        - if less, put `value` into VAR\r\n        - if greater then leave VAR as is\r\n   - iterate through the list, get next value\r\n\r\nAt the end, you will get a number in VAR, that is greater than your `input` and has the smallest difference between `input` and `value` for all values in your list.","title":"How to find next adjacent bigger number from given list of numbers for an input number","body":"<p>Algorithm, if List is small and you don't care about time:</p>\n<ul>\n<li>sort the list in increasing order, so smallest number first</li>\n<li>scan through the list starting from the beginning</li>\n<li>compare <code>input</code> with current <code>value</code> of list. If <code>value</code> is greater than <code>input</code>, you found the first &quot;adjacent&quot; number</li>\n</ul>\n<p>Algorithm, if List can be huge and you care about time:</p>\n<ul>\n<li>create a variable (VAR) with a value of nil (or anything that cannot be read from the list, 0, 9999, &quot;HOGEFUGE&quot;, whatever)</li>\n<li>scan through the list starting from the beginning</li>\n<li>compare <code>input</code> with <code>value</code>. If <code>value</code> is greater than <code>input</code> then:\n<ul>\n<li>check if VAR has been set\n<ul>\n<li>if not, set it to <code>value</code></li>\n<li>if set, check if <code>value</code> is less than VAR's value\n<ul>\n<li>if less, put <code>value</code> into VAR</li>\n<li>if greater then leave VAR as is</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>iterate through the list, get next value</li>\n</ul>\n</li>\n</ul>\n<p>At the end, you will get a number in VAR, that is greater than your <code>input</code> and has the smallest difference between <code>input</code> and <code>value</code> for all values in your list.</p>\n"},{"tags":[],"owner":{"account_id":5481260,"reputation":6617,"user_id":4357650,"accept_rate":86,"display_name":"Bjorn Mistiaen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657578584,"creation_date":1657578584,"answer_id":72945286,"question_id":72836424,"body_markdown":"This Pine code will do what you&#39;re looking for\r\n\r\n    //@version=5\r\n    indicator(&quot;test&quot;)\r\n    \r\n    var int     num = input.int(15, &quot;Number&quot;)\r\n    \r\n    var         a = array.from(50, 20, 40, 30, 10)\r\n    var label   lbl = label.new(na, na, &quot;&quot;)\r\n    var int     adjacent = na\r\n    \r\n    if barstate.isfirst\r\n        array.sort(a)\r\n        idx = array.binary_search_rightmost(a, num)\r\n        adjacent := array.get(a, idx)\r\n    \r\n    if barstate.islast\r\n        label.set_xy(lbl, bar_index, high)\r\n        label.set_text(lbl, str.format(&quot;adjacent = {0}&quot;,adjacent))\r\n\r\n","title":"How to find next adjacent bigger number from given list of numbers for an input number","body":"<p>This Pine code will do what you're looking for</p>\n<pre><code>//@version=5\nindicator(&quot;test&quot;)\n\nvar int     num = input.int(15, &quot;Number&quot;)\n\nvar         a = array.from(50, 20, 40, 30, 10)\nvar label   lbl = label.new(na, na, &quot;&quot;)\nvar int     adjacent = na\n\nif barstate.isfirst\n    array.sort(a)\n    idx = array.binary_search_rightmost(a, num)\n    adjacent := array.get(a, idx)\n\nif barstate.islast\n    label.set_xy(lbl, bar_index, high)\n    label.set_text(lbl, str.format(&quot;adjacent = {0}&quot;,adjacent))\n</code></pre>\n"}],"owner":{"account_id":15033666,"reputation":47,"user_id":10850830,"display_name":"Shivaraj Sajjan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":514,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":5,"score":1,"last_activity_date":1657578584,"creation_date":1656735812,"question_id":72836424,"body_markdown":"I am trying to find next adjacent bigger number for an input number from given list of numbers.\r\n\r\nPlease help me with Java code or algorithm to implement below.\r\n\r\nGiven list of numbers = [50, 20, 40, 30, 10]\r\n\r\nInput number = 15\r\n\r\nOutput = 20 (next adjacent bigger number of 15)","title":"How to find next adjacent bigger number from given list of numbers for an input number","body":"<p>I am trying to find next adjacent bigger number for an input number from given list of numbers.</p>\n<p>Please help me with Java code or algorithm to implement below.</p>\n<p>Given list of numbers = [50, 20, 40, 30, 10]</p>\n<p>Input number = 15</p>\n<p>Output = 20 (next adjacent bigger number of 15)</p>\n"},{"tags":["java","spring-boot","apache-kafka"],"answers":[{"tags":[],"owner":{"account_id":23071226,"reputation":197,"user_id":17184900,"display_name":"AmILostYet"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1657578543,"creation_date":1657578543,"answer_id":72945279,"question_id":72905356,"body_markdown":"It turns out retryable topic will not log errors as exception until it hits dead letter topic, so no action was needed.","title":"Spring Boot Kafka suppress exception","body":"<p>It turns out retryable topic will not log errors as exception until it hits dead letter topic, so no action was needed.</p>\n"}],"owner":{"account_id":23071226,"reputation":197,"user_id":17184900,"display_name":"AmILostYet"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":857,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72945279,"answer_count":1,"score":1,"last_activity_date":1657578543,"creation_date":1657238106,"question_id":72905356,"body_markdown":"I have a kafka listener where if implementation throws exceptions, it will retry a few times. When exception is thrown, it is logged as error. This pollutes our Sentry log. I would like to change Kafka&#39;s consumers error level to warn level.\r\n\r\n\r\nDetails:\r\n\r\nI have a Kafka listener and some events has to be retried.\r\n\r\n    @KafkaListener(...)\r\n    @RetryableTopic(..)\r\n    public void consume(ConsumerRecord&lt;?,?&gt; event) {\r\n       service.sayHello(...); //this call can throw UnhappyException\r\n    }\r\nIn the case UnHappyException is thrown, it is logged as \r\n\r\n    &gt; Caused by: org.springframework.kafka.listener.ListenerExecutionFailedException:\r\n    &gt; Listener method &#39;public void\r\n    &gt; com.company.hello.world.listener.MyListener.consume(org.apache.kafka.clients.consumer.ConsumerRecord&lt;java.lang.Object,\r\n    &gt; ....)&#39; threw\r\n    &gt; exception; nested exception is\r\n    &gt; com.hello.world.somepackage.exceptions.UnhappyException:\r\n    &gt; Animal id 4444 is Unhappy\r\n\r\nOur application will try to process message again (if exception occurs), and at some point the message will either land in a dead letter topic, or be processed. Unfortunately, due to our current architecture, it is common for the animal id to be not present in our service, thus it could throw exceptions a few times until it gets processed.\r\n\r\nThe message gets logged as &quot;ERROR&quot; and it is creating &quot;false&quot; alerts in the Sentry alert platform. \r\n\r\nIs there a way to change the error UnHappyException to **warn** level, without having to change the sentry configuration?\r\n\r\nI tried to look at ConcurrentKafkaListenerContainerFactory and see if I could pass in custom error handler, but it does not hit break point at all.\r\n\r\n        @Bean\r\n    public ConcurrentKafkaListenerContainerFactory&lt;Object, Object&gt; kafkaListenerContainerFactory(\r\n            ConsumerFactory&lt;Object, Object&gt; consumerFactory,\r\n            KafkaTemplate&lt;String, Object&gt; kafkaTemplate) {\r\n        ConcurrentKafkaListenerContainerFactory&lt;Object, Object&gt; factory =\r\n                new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n\r\n        factory.setConsumerFactory(consumerFactory);\r\n\r\n        /*\r\n        // Original implementation\r\n        factory.setCommonErrorHandler(new DefaultErrorHandler(\r\n                new DeadLetterPublishingRecoverer(kafkaTemplate), backOff));\r\n        */\r\n\r\n        // here I created CustomErrorHandler and tried to extend DefaultErrorHandler and override methods but they do not get hit by debugger at all.\r\n        factory.setCommonErrorHandler(new CustomErrorHandler(\r\n                new DeadLetterPublishingRecoverer(kafkaTemplate), backOff));\r\n\r\n","title":"Spring Boot Kafka suppress exception","body":"<p>I have a kafka listener where if implementation throws exceptions, it will retry a few times. When exception is thrown, it is logged as error. This pollutes our Sentry log. I would like to change Kafka's consumers error level to warn level.</p>\n<p>Details:</p>\n<p>I have a Kafka listener and some events has to be retried.</p>\n<pre><code>@KafkaListener(...)\n@RetryableTopic(..)\npublic void consume(ConsumerRecord&lt;?,?&gt; event) {\n   service.sayHello(...); //this call can throw UnhappyException\n}\n</code></pre>\n<p>In the case UnHappyException is thrown, it is logged as</p>\n<pre><code>&gt; Caused by: org.springframework.kafka.listener.ListenerExecutionFailedException:\n&gt; Listener method 'public void\n&gt; com.company.hello.world.listener.MyListener.consume(org.apache.kafka.clients.consumer.ConsumerRecord&lt;java.lang.Object,\n&gt; ....)' threw\n&gt; exception; nested exception is\n&gt; com.hello.world.somepackage.exceptions.UnhappyException:\n&gt; Animal id 4444 is Unhappy\n</code></pre>\n<p>Our application will try to process message again (if exception occurs), and at some point the message will either land in a dead letter topic, or be processed. Unfortunately, due to our current architecture, it is common for the animal id to be not present in our service, thus it could throw exceptions a few times until it gets processed.</p>\n<p>The message gets logged as &quot;ERROR&quot; and it is creating &quot;false&quot; alerts in the Sentry alert platform.</p>\n<p>Is there a way to change the error UnHappyException to <strong>warn</strong> level, without having to change the sentry configuration?</p>\n<p>I tried to look at ConcurrentKafkaListenerContainerFactory and see if I could pass in custom error handler, but it does not hit break point at all.</p>\n<pre><code>    @Bean\npublic ConcurrentKafkaListenerContainerFactory&lt;Object, Object&gt; kafkaListenerContainerFactory(\n        ConsumerFactory&lt;Object, Object&gt; consumerFactory,\n        KafkaTemplate&lt;String, Object&gt; kafkaTemplate) {\n    ConcurrentKafkaListenerContainerFactory&lt;Object, Object&gt; factory =\n            new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n\n    factory.setConsumerFactory(consumerFactory);\n\n    /*\n    // Original implementation\n    factory.setCommonErrorHandler(new DefaultErrorHandler(\n            new DeadLetterPublishingRecoverer(kafkaTemplate), backOff));\n    */\n\n    // here I created CustomErrorHandler and tried to extend DefaultErrorHandler and override methods but they do not get hit by debugger at all.\n    factory.setCommonErrorHandler(new CustomErrorHandler(\n            new DeadLetterPublishingRecoverer(kafkaTemplate), backOff));\n</code></pre>\n"},{"tags":["java","arraylist","string-comparison"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":2,"creation_date":1620301609,"post_id":67417458,"comment_id":119163575,"body_markdown":"what is the actual problem? most likely, you&#39;re supposed to return a simple int, not a List&lt;Integer&gt;, but you&#39;re vague in what you expect as result, and even more vague in what problem you&#39;re having","body":"what is the actual problem? most likely, you&#39;re supposed to return a simple int, not a List&lt;Integer&gt;, but you&#39;re vague in what you expect as result, and even more vague in what problem you&#39;re having"},{"owner":{"account_id":1649822,"reputation":136,"user_id":1520634,"display_name":"Seeseemelk"},"score":0,"creation_date":1620301722,"post_id":67417458,"comment_id":119163639,"body_markdown":"I think you have to move the `q.add(counter);` line one line down. It is currently inside of the inner for-loop while it should be within the outer for-loop. This kind of issue is much easier to see if your code is properly formatted. (CTRL+F does that for you in Eclipse)","body":"I think you have to move the <code>q.add(counter);</code> line one line down. It is currently inside of the inner for-loop while it should be within the outer for-loop. This kind of issue is much easier to see if your code is properly formatted. (CTRL+F does that for you in Eclipse)"},{"owner":{"account_id":10728079,"reputation":1543,"user_id":7895005,"display_name":"Pramod H G"},"score":1,"creation_date":1620304514,"post_id":67417458,"comment_id":119164948,"body_markdown":"Please explain your question properly. what is the expected output here? and what are the inputs?","body":"Please explain your question properly. what is the expected output here? and what are the inputs?"}],"answers":[{"tags":[],"owner":{"account_id":6243711,"reputation":1571,"user_id":4856413,"display_name":"sanjeevRm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1620352790,"creation_date":1620352790,"answer_id":67428078,"question_id":67417458,"body_markdown":"\r\nYou can use static frequency-method in Collections \r\n\r\n```\r\nint numberOfOccurrences = Collections.frequency(listOfStrings, &quot;string_to_search&quot;);\r\n```","title":"Frequency of a string in an arraylist of strings in java","body":"<p>You can use static frequency-method in Collections</p>\n<pre><code>int numberOfOccurrences = Collections.frequency(listOfStrings, &quot;string_to_search&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21605020,"reputation":1,"user_id":15932581,"display_name":"Anamika"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1621092202,"creation_date":1621063616,"answer_id":67544280,"question_id":67417458,"body_markdown":"initialize i and j as Instance Variables, you are ending their scope in for loops\r\n\r\n```java\r\nList q= new ArrayList(); \r\nint i,j,counter; \r\nfor(i = 0;i&lt;queries.size();i++) {\r\n\tfor(j=0;j&lt;strings.size();j++) { \r\n\t\tif(queries.get(i).equals(strings.get(j))) { \r\n\t\t\tcounter= counter+1; } q.add(counter);\r\n\t} counter=0; }\r\nreturn q;\r\n```","title":"Frequency of a string in an arraylist of strings in java","body":"<p>initialize i and j as Instance Variables, you are ending their scope in for loops</p>\n<pre class=\"lang-java prettyprint-override\"><code>List q= new ArrayList(); \nint i,j,counter; \nfor(i = 0;i&lt;queries.size();i++) {\n    for(j=0;j&lt;strings.size();j++) { \n        if(queries.get(i).equals(strings.get(j))) { \n            counter= counter+1; } q.add(counter);\n    } counter=0; }\nreturn q;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25548327,"reputation":1,"user_id":19333235,"display_name":"Burak Koca"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657578165,"creation_date":1657578165,"answer_id":72945240,"question_id":67417458,"body_markdown":"      List&lt;Integer&gt; results =new ArrayList&lt;Integer&gt;();\r\n    \r\n    for(int i=0; i&lt;queries.size(); i++){\r\n        \r\n        int count =0;\r\n        for(int j=0; j&lt;strings.size(); j++){\r\n            if((queries.get(i)).equals(strings.get(j))){\r\n              count ++;  \r\n            } \r\n           \r\n        }\r\n        results.add(count); \r\n        count=0;\r\n    }\r\n    return results;","title":"Frequency of a string in an arraylist of strings in java","body":"<pre><code>  List&lt;Integer&gt; results =new ArrayList&lt;Integer&gt;();\n\nfor(int i=0; i&lt;queries.size(); i++){\n    \n    int count =0;\n    for(int j=0; j&lt;strings.size(); j++){\n        if((queries.get(i)).equals(strings.get(j))){\n          count ++;  \n        } \n       \n    }\n    results.add(count); \n    count=0;\n}\nreturn results;\n</code></pre>\n"}],"owner":{"account_id":21188324,"reputation":1,"user_id":15581252,"display_name":"Pradhuman Singh Rathore"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":438,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":3,"score":-2,"last_activity_date":1657578165,"creation_date":1620301450,"question_id":67417458,"body_markdown":"I try this code cant any one help i can&#39;t find what the problem hear\r\n\r\n    public static List&lt;Integer&gt; matchingStrings(List&lt;String&gt; strings, List&lt;String&gt; queries) {\r\n        // Write your code here\r\n            int counter =0;\r\n            List&lt;Integer&gt; q= new ArrayList&lt;Integer&gt;();\r\n            for(int i = 0;i&lt;queries.size();i++){\r\n                for(int j=0;j&lt;strings.size();j++){\r\n                    if(queries.get(i).equals(strings.get(j))){\r\n                        counter= counter+1;\r\n                    }\r\n                q.add(counter);\r\n            }\r\n                counter=0;\r\n        }    \r\n            return q;\r\n    }\r\n    }","title":"Frequency of a string in an arraylist of strings in java","body":"<p>I try this code cant any one help i can't find what the problem hear</p>\n<pre><code>public static List&lt;Integer&gt; matchingStrings(List&lt;String&gt; strings, List&lt;String&gt; queries) {\n    // Write your code here\n        int counter =0;\n        List&lt;Integer&gt; q= new ArrayList&lt;Integer&gt;();\n        for(int i = 0;i&lt;queries.size();i++){\n            for(int j=0;j&lt;strings.size();j++){\n                if(queries.get(i).equals(strings.get(j))){\n                    counter= counter+1;\n                }\n            q.add(counter);\n        }\n            counter=0;\n    }    \n        return q;\n}\n}\n</code></pre>\n"},{"tags":["java","spring-boot","performance","profiling","latency"],"comments":[{"owner":{"account_id":11306830,"reputation":311,"user_id":8291185,"display_name":"Shakeel Hussain"},"score":0,"creation_date":1695935515,"post_id":72945236,"comment_id":136093756,"body_markdown":"What is the number of requests you are making on the endpoint while profiling locally?","body":"What is the number of requests you are making on the endpoint while profiling locally?"}],"owner":{"account_id":6844481,"reputation":363,"user_id":5263718,"accept_rate":30,"display_name":"Ela"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":283,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1657578111,"creation_date":1657578111,"question_id":72945236,"body_markdown":"I am running a Spring boot Java Service backed by Postgres.\r\n \r\n\r\nWhen examining some high latency calls and debugging with more logs, I discovered that most of the latency attributes to the call from controller to DAO method. This doesn&#39;t include any transformation or DB call. Just java method call from Controller to the entry point in DAO method.\r\n\r\nHow did I conclude?\r\n  - Added print statements in Controller right before calling DAO (say t1) \r\n  - Added print statement in the first line of called DAO (say t2)\r\n  - In all the high latency calls the t2-t1 contributes to ~80% of the overall request latency.\r\n\r\n```\r\nclass MyController {\r\n  @Autowired \r\n  MyDAO mydao;\r\n\r\n  public void serviceAPI() {\r\n     // Do something...\r\n\r\n     logger.info(&quot;Right before DAO call&quot;);  // time t1\r\n     myDAO.someDAOfunctionality();\r\n\r\n     // Do something...\r\n  }\r\n\r\n}\r\n\r\nclass MyDAO {\r\n  public void someDAOfunctionality() {\r\n     logger.info(&quot;First line of DAO call&quot;);  // time t2\r\n\r\n     // Do something..\r\n  }\r\n```\r\n\r\n\r\n**PS:** I tried profiling the requests using a local instance of the server. That has been inconclusive so far.\r\nSo wondering what could be causing the delay when a lightweight call is made within the same network.","title":"What is causing the high latency during method call within same network?","body":"<p>I am running a Spring boot Java Service backed by Postgres.</p>\n<p>When examining some high latency calls and debugging with more logs, I discovered that most of the latency attributes to the call from controller to DAO method. This doesn't include any transformation or DB call. Just java method call from Controller to the entry point in DAO method.</p>\n<p>How did I conclude?</p>\n<ul>\n<li>Added print statements in Controller right before calling DAO (say t1)</li>\n<li>Added print statement in the first line of called DAO (say t2)</li>\n<li>In all the high latency calls the t2-t1 contributes to ~80% of the overall request latency.</li>\n</ul>\n<pre><code>class MyController {\n  @Autowired \n  MyDAO mydao;\n\n  public void serviceAPI() {\n     // Do something...\n\n     logger.info(&quot;Right before DAO call&quot;);  // time t1\n     myDAO.someDAOfunctionality();\n\n     // Do something...\n  }\n\n}\n\nclass MyDAO {\n  public void someDAOfunctionality() {\n     logger.info(&quot;First line of DAO call&quot;);  // time t2\n\n     // Do something..\n  }\n</code></pre>\n<p><strong>PS:</strong> I tried profiling the requests using a local instance of the server. That has been inconclusive so far.\nSo wondering what could be causing the delay when a lightweight call is made within the same network.</p>\n"},{"tags":["java","arrays","sonarqube"],"answers":[{"tags":[],"owner":{"account_id":5144424,"reputation":2664,"user_id":4337151,"display_name":"dehasi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1539296582,"creation_date":1539296582,"answer_id":52769719,"question_id":52769679,"body_markdown":"The best approach is not to create `public static` but not `final` fields. Because it can lead to problems with sharing this data between threads. \r\n\r\nIn your case, you can create a `static final` and **immutable** list.","title":"SonarQube issue with public static variables | JAVA","body":"<p>The best approach is not to create <code>public static</code> but not <code>final</code> fields. Because it can lead to problems with sharing this data between threads. </p>\n\n<p>In your case, you can create a <code>static final</code> and <strong>immutable</strong> list.</p>\n"},{"tags":[],"owner":{"account_id":536567,"reputation":7838,"user_id":905488,"display_name":"Mick Mnemonic"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1539298539,"creation_date":1539298539,"answer_id":52769974,"question_id":52769679,"body_markdown":"Technically, you can have the (reference of) the variable `final` and still have its _contents_ dynamically filled at some later point:\r\n\r\n    public static final List&lt;String&gt; listPersons = new ArrayList&lt;&gt;();\r\n    \r\n    //...\r\n    \r\n    public void initialize() {\r\n        List&lt;String&gt; contents = populateContentsFromEnvironmentVariable();\r\n        listPersons.addAll(contents);\r\n    }\r\n\r\nHowever, using a &quot;mutable-content&quot; constant such as this one introduces possible problems. For example, you need to make sure that client code doesn&#39;t read the list before it has been populated. You might want to reconsider your design so that environment-specific properties are only initialized once and preferably encapsulated so that they are accessed through accessor methods instead of static constants; this would also allow lazy, on-demand initialization, caching etc.","title":"SonarQube issue with public static variables | JAVA","body":"<p>Technically, you can have the (reference of) the variable <code>final</code> and still have its <em>contents</em> dynamically filled at some later point:</p>\n\n<pre><code>public static final List&lt;String&gt; listPersons = new ArrayList&lt;&gt;();\n\n//...\n\npublic void initialize() {\n    List&lt;String&gt; contents = populateContentsFromEnvironmentVariable();\n    listPersons.addAll(contents);\n}\n</code></pre>\n\n<p>However, using a \"mutable-content\" constant such as this one introduces possible problems. For example, you need to make sure that client code doesn't read the list before it has been populated. You might want to reconsider your design so that environment-specific properties are only initialized once and preferably encapsulated so that they are accessed through accessor methods instead of static constants; this would also allow lazy, on-demand initialization, caching etc.</p>\n"},{"tags":[],"owner":{"account_id":7091735,"reputation":2510,"user_id":5426703,"display_name":"Spyros K"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1607590803,"creation_date":1539358103,"answer_id":52782682,"question_id":52769679,"body_markdown":"The best way would be to have a static list initialized like that:\r\n\r\n\r\n    //Static final and unmodifiable list\r\n    private static final List&lt;String&gt; listPersons = createListPersons();\r\n\r\n    \r\n    private static final createListPersons() {\r\n          List&lt;String&gt; listPersonsTemp = getPersonsFromEnvironmentVariable();\r\n          return Collections.unmodifiableList(listPersonsTemp);\r\n    }\r\n\r\n\r\n    public static final List&lt;String&gt; getListPersons(){\r\n      return listPersons;\r\n    }\r\n\r\nThis way you ensure that your list will is unmodifiable and accessed only via a getter. In this way the Sonar will not complain about the access modifiers.\r\n\r\nSince the List contains  Strings and is unmodifiable it can be considered immutable.\r\n\r\nIt is safer to use only immutable static objects. State or variables are safer managed in instances. ","title":"SonarQube issue with public static variables | JAVA","body":"<p>The best way would be to have a static list initialized like that:</p>\n<pre><code>//Static final and unmodifiable list\nprivate static final List&lt;String&gt; listPersons = createListPersons();\n\n\nprivate static final createListPersons() {\n      List&lt;String&gt; listPersonsTemp = getPersonsFromEnvironmentVariable();\n      return Collections.unmodifiableList(listPersonsTemp);\n}\n\n\npublic static final List&lt;String&gt; getListPersons(){\n  return listPersons;\n}\n</code></pre>\n<p>This way you ensure that your list will is unmodifiable and accessed only via a getter. In this way the Sonar will not complain about the access modifiers.</p>\n<p>Since the List contains  Strings and is unmodifiable it can be considered immutable.</p>\n<p>It is safer to use only immutable static objects. State or variables are safer managed in instances.</p>\n"},{"tags":[],"owner":{"account_id":3076714,"reputation":1193,"user_id":2605850,"accept_rate":50,"display_name":"Vinay Sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1611058440,"creation_date":1611058440,"answer_id":65791310,"question_id":52769679,"body_markdown":"Modifiers should be declared in the correct order\r\nThe Java Language Specification recommends listing modifiers in the following order:\r\n\r\n    1. Annotations\r\n    2. public\r\n    3. protected\r\n    4. private\r\n    5. abstract\r\n    6. static\r\n    7. final\r\n    8. transient\r\n    9. volatile\r\n    10. synchronized\r\n    11. native\r\n    12. strictfp\r\n\r\nNot following this convention has no technical impact, but will reduce the code&#39;s readability because most developers are used to the standard order.\r\n\r\n**Noncompliant Code Example**\r\n\r\n    static public void main(String[] args) {   // Noncompliant\r\n    }\r\n\r\n**Compliant Solution**\r\n\r\n    public static void main(String[] args) {   // Compliant\r\n    }\r\n\r\n","title":"SonarQube issue with public static variables | JAVA","body":"<p>Modifiers should be declared in the correct order\nThe Java Language Specification recommends listing modifiers in the following order:</p>\n<pre><code>1. Annotations\n2. public\n3. protected\n4. private\n5. abstract\n6. static\n7. final\n8. transient\n9. volatile\n10. synchronized\n11. native\n12. strictfp\n</code></pre>\n<p>Not following this convention has no technical impact, but will reduce the code's readability because most developers are used to the standard order.</p>\n<p><strong>Noncompliant Code Example</strong></p>\n<pre><code>static public void main(String[] args) {   // Noncompliant\n}\n</code></pre>\n<p><strong>Compliant Solution</strong></p>\n<pre><code>public static void main(String[] args) {   // Compliant\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7394006,"reputation":5031,"user_id":5626568,"display_name":"ℛɑƒ&#230;Ŀᴿᴹᴿ"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657576895,"creation_date":1657576895,"answer_id":72945090,"question_id":52769679,"body_markdown":"Using `List.of(...)` from the `java.util.List` package should resolve the SonarQube issue.\r\n\r\n&gt; Returns an unmodifiable list containing an arbitrary number of elements.","title":"SonarQube issue with public static variables | JAVA","body":"<p>Using <code>List.of(...)</code> from the <code>java.util.List</code> package should resolve the SonarQube issue.</p>\n<blockquote>\n<p>Returns an unmodifiable list containing an arbitrary number of elements.</p>\n</blockquote>\n"}],"owner":{"account_id":14015809,"reputation":129,"user_id":10123374,"display_name":"Javier Salas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10723,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":52769974,"answer_count":5,"score":4,"last_activity_date":1657576895,"creation_date":1539296389,"question_id":52769679,"body_markdown":"I&#39;m having an issue with SonarQube while using `public static` variables, the problem is that SonarQube want that to be `public static final`, this variable is being filled in other parts of the code, it is &quot;dynamically&quot; (filled with environment variable) then is used in all other classes.\r\n\r\nThis is the arrayList variable\r\n\r\n    public static List&lt;String&gt; listPersons = new ArrayList&lt;&gt;();\r\n\r\nErrors by Sonar:\r\n\r\n    1- Make this &quot;public static listPersons&quot; field final\r\n    2- Make listPersons a static final constant or non-public and provide accessors if needed\r\n    3- Make this member &quot;protected&quot;\r\n\r\nWhat&#39;s the best approach to fix this problem?","title":"SonarQube issue with public static variables | JAVA","body":"<p>I'm having an issue with SonarQube while using <code>public static</code> variables, the problem is that SonarQube want that to be <code>public static final</code>, this variable is being filled in other parts of the code, it is \"dynamically\" (filled with environment variable) then is used in all other classes.</p>\n\n<p>This is the arrayList variable</p>\n\n<pre><code>public static List&lt;String&gt; listPersons = new ArrayList&lt;&gt;();\n</code></pre>\n\n<p>Errors by Sonar:</p>\n\n<pre><code>1- Make this \"public static listPersons\" field final\n2- Make listPersons a static final constant or non-public and provide accessors if needed\n3- Make this member \"protected\"\n</code></pre>\n\n<p>What's the best approach to fix this problem?</p>\n"},{"tags":["java","docker","apache-kafka","spring-kafka"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657576440,"creation_date":1657576440,"answer_id":72945025,"question_id":72944410,"body_markdown":"Changing the ports doesn&#39;t fix batch expiration. Kafka producers do not immediately send data. You&#39;ll need to flush the producer explicitly for that to happen, lower the producer&#39;s batch size config, or send enough data to fill the default batch size.\r\n\r\nIf a producer batch expires, no records are sent, and therefore the consumer will see nothing. \r\n\r\nTo fix the admin client, use the top-level `spring.kafka.bootstrap-servers` config, rather than individual producer and consumer client settings. \r\n\r\n","title":"Kafka producer. The message is not being sent","body":"<p>Changing the ports doesn't fix batch expiration. Kafka producers do not immediately send data. You'll need to flush the producer explicitly for that to happen, lower the producer's batch size config, or send enough data to fill the default batch size.</p>\n<p>If a producer batch expires, no records are sent, and therefore the consumer will see nothing.</p>\n<p>To fix the admin client, use the top-level <code>spring.kafka.bootstrap-servers</code> config, rather than individual producer and consumer client settings.</p>\n"}],"owner":{"account_id":25784637,"reputation":1,"user_id":19529692,"display_name":"Орорп Орол"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":462,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657576440,"creation_date":1657571944,"question_id":72944410,"body_markdown":"Mistake\r\n\r\n    Expiring 2 record(s) for catering-0:120012 ms has passed since batch creation\r\n\r\nFirst I used the configuration \r\n\r\n          zookeeper:\r\n        image: wurstmeister/zookeeper\r\n        container_name: zookeeper\r\n        ports:\r\n          - &quot;2181:2181&quot;\r\n        restart: always\r\n        \r\n      kafka:\r\n        image: wurstmeister/kafka\r\n        container_name: kafka\r\n        ports:\r\n          - &quot;9092:9092&quot;\r\n        depends_on:\r\n          - zookeeper\r\n        restart: always\r\n        environment:\r\n          #      KAFKA_ADVERTISED_HOST_NAME: kafka\r\n          KAFKA_ADVERTISED_HOST_NAME: 127.0.0.1\r\n          KAFKA_ZOOKEEPER_CONNECT: zookeeper:2181\r\n          KAFKA_CREATE_TOPICS: &quot;test_topic:1:3&quot;\r\n\r\n But due to the fact that I could not connect to kafka with localhost and from containers equally successfully, I had to change the images and environments of these containers\r\n \r\n\r\n    zookeeper1:\r\n        image: confluentinc/cp-zookeeper\r\n        container_name: zookeeper\r\n        ports:\r\n          - &quot;2181:2181&quot;\r\n        restart: always\r\n        environment:\r\n          ZOOKEEPER_CLIENT_PORT: 2181\r\n          ZOOKEEPER_TICK_TIME: 2000\r\n          ZOOKEEPER_SYNC_LIMIT: 2\r\n    \r\n      kafka1:\r\n        image: confluentinc/cp-kafka\r\n        container_name: kafka\r\n        ports:\r\n          - target: 9094\r\n            published: 9094\r\n            protocol: tcp\r\n            mode: host\r\n        depends_on:\r\n          - zookeeper1\r\n        environment:\r\n          KAFKA_ZOOKEEPER_CONNECT: zookeeper:2181\r\n          KAFKA_LISTENERS: INTERNAL://0.0.0.0:9092,OUTSIDE://0.0.0.0:9094\r\n          KAFKA_ADVERTISED_LISTENERS: INTERNAL://kafka:9092,OUTSIDE://localhost:9094\r\n          KAFKA_LISTENER_SECURITY_PROTOCOL_MAP: INTERNAL:PLAINTEXT,OUTSIDE:PLAINTEXT\r\n          KAFKA_INTER_BROKER_LISTENER_NAME: INTERNAL\r\n          KAFKA_CREATE_TOPICS: &quot;catering:1:3&quot;\r\n\r\nIn the configurations of the consumer and producer, only the ports have changed, but now the message from the producer is sent, and the consumer does not reach at all. After a while, the producer writes that the time for sending the message has expired and that&#39;s the end of it. Maybe someone can help... Going back to the original configuration didn&#39;t help and now leads to the same problem\r\nProducer config: \r\n\r\n      kafka:\r\n        producer:\r\n          bootstrap-servers: localhost:9094\r\n          key-serializer: org.apache.kafka.common.serialization.StringSerializer\r\n          value-serializer: org.springframework.kafka.support.serializer.JsonSerializer\r\nConsumer config: \r\n\r\n      kafka:\r\n        consumer:\r\n          bootstrap-servers: localhost:9094\r\n          group-id: json\r\n          auto-offset-reset: earliest\r\n          key-deserializer: org.apache.kafka.common.serialization.StringDeserializer\r\n          value-deserializer: org.springframework.kafka.support.serializer.JsonDeserializer\r\n\r\nPerhaps this is important, but the first minute after the start of the application I get this error. But then it connects successfully\r\n\r\n    [AdminClient clientId=adminclient-1] Connection to node -1 (localhost/127.0.0.1:9092) could not be established. Broker may not be available.","title":"Kafka producer. The message is not being sent","body":"<p>Mistake</p>\n<pre><code>Expiring 2 record(s) for catering-0:120012 ms has passed since batch creation\n</code></pre>\n<p>First I used the configuration</p>\n<pre><code>      zookeeper:\n    image: wurstmeister/zookeeper\n    container_name: zookeeper\n    ports:\n      - &quot;2181:2181&quot;\n    restart: always\n    \n  kafka:\n    image: wurstmeister/kafka\n    container_name: kafka\n    ports:\n      - &quot;9092:9092&quot;\n    depends_on:\n      - zookeeper\n    restart: always\n    environment:\n      #      KAFKA_ADVERTISED_HOST_NAME: kafka\n      KAFKA_ADVERTISED_HOST_NAME: 127.0.0.1\n      KAFKA_ZOOKEEPER_CONNECT: zookeeper:2181\n      KAFKA_CREATE_TOPICS: &quot;test_topic:1:3&quot;\n</code></pre>\n<p>But due to the fact that I could not connect to kafka with localhost and from containers equally successfully, I had to change the images and environments of these containers</p>\n<pre><code>zookeeper1:\n    image: confluentinc/cp-zookeeper\n    container_name: zookeeper\n    ports:\n      - &quot;2181:2181&quot;\n    restart: always\n    environment:\n      ZOOKEEPER_CLIENT_PORT: 2181\n      ZOOKEEPER_TICK_TIME: 2000\n      ZOOKEEPER_SYNC_LIMIT: 2\n\n  kafka1:\n    image: confluentinc/cp-kafka\n    container_name: kafka\n    ports:\n      - target: 9094\n        published: 9094\n        protocol: tcp\n        mode: host\n    depends_on:\n      - zookeeper1\n    environment:\n      KAFKA_ZOOKEEPER_CONNECT: zookeeper:2181\n      KAFKA_LISTENERS: INTERNAL://0.0.0.0:9092,OUTSIDE://0.0.0.0:9094\n      KAFKA_ADVERTISED_LISTENERS: INTERNAL://kafka:9092,OUTSIDE://localhost:9094\n      KAFKA_LISTENER_SECURITY_PROTOCOL_MAP: INTERNAL:PLAINTEXT,OUTSIDE:PLAINTEXT\n      KAFKA_INTER_BROKER_LISTENER_NAME: INTERNAL\n      KAFKA_CREATE_TOPICS: &quot;catering:1:3&quot;\n</code></pre>\n<p>In the configurations of the consumer and producer, only the ports have changed, but now the message from the producer is sent, and the consumer does not reach at all. After a while, the producer writes that the time for sending the message has expired and that's the end of it. Maybe someone can help... Going back to the original configuration didn't help and now leads to the same problem\nProducer config:</p>\n<pre><code>  kafka:\n    producer:\n      bootstrap-servers: localhost:9094\n      key-serializer: org.apache.kafka.common.serialization.StringSerializer\n      value-serializer: org.springframework.kafka.support.serializer.JsonSerializer\n</code></pre>\n<p>Consumer config:</p>\n<pre><code>  kafka:\n    consumer:\n      bootstrap-servers: localhost:9094\n      group-id: json\n      auto-offset-reset: earliest\n      key-deserializer: org.apache.kafka.common.serialization.StringDeserializer\n      value-deserializer: org.springframework.kafka.support.serializer.JsonDeserializer\n</code></pre>\n<p>Perhaps this is important, but the first minute after the start of the application I get this error. But then it connects successfully</p>\n<pre><code>[AdminClient clientId=adminclient-1] Connection to node -1 (localhost/127.0.0.1:9092) could not be established. Broker may not be available.\n</code></pre>\n"},{"tags":["java","spring","rabbitmq"],"comments":[{"owner":{"account_id":1978019,"reputation":698,"user_id":1775344,"accept_rate":33,"display_name":"Mateusz"},"score":0,"creation_date":1657576110,"post_id":72943688,"comment_id":128839303,"body_markdown":"Please, show the code of the producer","body":"Please, show the code of the producer"}],"answers":[{"tags":[],"owner":{"account_id":1978019,"reputation":698,"user_id":1775344,"accept_rate":33,"display_name":"Mateusz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657576321,"creation_date":1657576321,"answer_id":72945009,"question_id":72943688,"body_markdown":"You should also register the converter\r\n```\r\nimport org.springframework.amqp.rabbit.connection.ConnectionFactory;\r\nimport org.springframework.amqp.rabbit.core.RabbitTemplate;\r\nimport org.springframework.amqp.support.converter.Jackson2JsonMessageConverter;\r\n\r\n\r\n    @Bean\r\n    public RabbitTemplate rabbitTemplate(ConnectionFactory connectionFactory, Jackson2JsonMessageConverter converter) {\r\n        final var rabbitTemplate = new RabbitTemplate(connectionFactory);\r\n        rabbitTemplate.setMessageConverter(converter);\r\n        return rabbitTemplate;\r\n    }\r\n\r\n    @Bean\r\n    public Jackson2JsonMessageConverter producerJackson2MessageConverter() {\r\n        var objectMapper = new ObjectMapper();\r\n        return new Jackson2JsonMessageConverter(objectMapper);\r\n    }\r\n```\r\n\r\nAnd, if your consumer consumes the json objects, the producer must also product json messages","title":"Convert data of rabbit mq queue in spring boot","body":"<p>You should also register the converter</p>\n<pre><code>import org.springframework.amqp.rabbit.connection.ConnectionFactory;\nimport org.springframework.amqp.rabbit.core.RabbitTemplate;\nimport org.springframework.amqp.support.converter.Jackson2JsonMessageConverter;\n\n\n    @Bean\n    public RabbitTemplate rabbitTemplate(ConnectionFactory connectionFactory, Jackson2JsonMessageConverter converter) {\n        final var rabbitTemplate = new RabbitTemplate(connectionFactory);\n        rabbitTemplate.setMessageConverter(converter);\n        return rabbitTemplate;\n    }\n\n    @Bean\n    public Jackson2JsonMessageConverter producerJackson2MessageConverter() {\n        var objectMapper = new ObjectMapper();\n        return new Jackson2JsonMessageConverter(objectMapper);\n    }\n</code></pre>\n<p>And, if your consumer consumes the json objects, the producer must also product json messages</p>\n"}],"owner":{"account_id":19570393,"reputation":41,"user_id":14321684,"display_name":"Thiago Melo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":166,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657576321,"creation_date":1657567664,"question_id":72943688,"body_markdown":"I&#39;m building a microservice that receives data from another microservice and i&#39;m having trouble while converting the data. I&#39;m a beginner at rabbit MQ and don&#39;t know how to fix it.\r\n\r\n[![Error][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/aSPKz.png\r\n\r\nThat it is my class to convert the message\r\n```\r\n@Configuration\r\npublic class MensagemConfig {\r\n\r\n    @Value(&quot;${crud.rabbitmq.exchange}&quot;)\r\n    String exchange;\r\n\r\n    @Bean\r\n    public Exchange exchange() {\r\n        return ExchangeBuilder.directExchange(exchange).durable(true).build();\r\n    }\r\n\r\n    @Bean\r\n    public MessageConverter jsonMessageConverter() {\r\n        return new Jackson2JsonMessageConverter();\r\n    }\r\n} \r\n```\r\n\r\nAnd here is my consumer class:\r\n\r\n```\r\n@Component\r\npublic class CasoConsumer {\r\n    \r\n    @Autowired\r\n    private CasoLVRepository repository;\r\n\r\n    public CasoConsumer(CasoLVRepository repository) {\r\n        this.repository = repository;\r\n    }\r\n\r\n    @RabbitListener(queues = &quot;crud.statistics.caso&quot;)\r\n    public void consumer(@Payload CasoLV caso){\r\n        repository.save(caso);\r\n    }\r\n}\r\n```","title":"Convert data of rabbit mq queue in spring boot","body":"<p>I'm building a microservice that receives data from another microservice and i'm having trouble while converting the data. I'm a beginner at rabbit MQ and don't know how to fix it.</p>\n<p><a href=\"https://i.stack.imgur.com/aSPKz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aSPKz.png\" alt=\"Error\" /></a></p>\n<p>That it is my class to convert the message</p>\n<pre><code>@Configuration\npublic class MensagemConfig {\n\n    @Value(&quot;${crud.rabbitmq.exchange}&quot;)\n    String exchange;\n\n    @Bean\n    public Exchange exchange() {\n        return ExchangeBuilder.directExchange(exchange).durable(true).build();\n    }\n\n    @Bean\n    public MessageConverter jsonMessageConverter() {\n        return new Jackson2JsonMessageConverter();\n    }\n} \n</code></pre>\n<p>And here is my consumer class:</p>\n<pre><code>@Component\npublic class CasoConsumer {\n    \n    @Autowired\n    private CasoLVRepository repository;\n\n    public CasoConsumer(CasoLVRepository repository) {\n        this.repository = repository;\n    }\n\n    @RabbitListener(queues = &quot;crud.statistics.caso&quot;)\n    public void consumer(@Payload CasoLV caso){\n        repository.save(caso);\n    }\n}\n</code></pre>\n"},{"tags":["java","unit-testing","mockito"],"answers":[{"tags":[],"owner":{"account_id":329138,"reputation":8059,"user_id":652497,"accept_rate":91,"display_name":"Jonathan S. Fisher"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657575931,"creation_date":1657575931,"answer_id":72944972,"question_id":72944046,"body_markdown":"```java\r\npublic Class cTest {\r\n```\r\n\r\nNeeds to have the Mockito extension declared:\r\n\r\n```java\r\n@ExtendWith({ MockitoExtension.class })\r\nclass cTest {\r\n```\r\n\r\nYou&#39;ll need the extension on your classpath. If using maven:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n    &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n    &lt;version&gt;5.8.2&lt;/version&gt;\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nReferences: https://www.baeldung.com/mockito-junit-5-extension","title":"@Mock values isn&#39;t refelected on @injectMock Java","body":"<pre class=\"lang-java prettyprint-override\"><code>public Class cTest {\n</code></pre>\n<p>Needs to have the Mockito extension declared:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ExtendWith({ MockitoExtension.class })\nclass cTest {\n</code></pre>\n<p>You'll need the extension on your classpath. If using maven:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n    &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n    &lt;version&gt;5.8.2&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>References: <a href=\"https://www.baeldung.com/mockito-junit-5-extension\" rel=\"nofollow noreferrer\">https://www.baeldung.com/mockito-junit-5-extension</a></p>\n"}],"owner":{"account_id":11108030,"reputation":1,"user_id":8154667,"display_name":"Bara&#39; Al-jawarnEh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657575931,"creation_date":1657569696,"question_id":72944046,"body_markdown":"\r\nI&#39;m new to Mockito and I was trying to write the unit test for nstead adapters\r\nlets say we have\r\nI have 3 classes and the last one will update a map to me, return it to the middle then return it again to final layer\r\n```\r\nList&lt;Map&lt;Integer, List&lt;String&gt;&gt; x\r\nClass A {\r\n    Public void method1(List&lt;Map&lt;Integer, List&lt;String&gt;&gt; x) {\r\n                    method2(x)\r\n    }\r\n    private void method2 (List&lt;Map&lt;Integer, List&lt;String&gt;&gt; x) {\r\n                    x.add(...)\r\n    }\r\n}\r\n\r\nClass B {\r\n     A a;\r\n    Public int methodB(List&lt;Map&lt;Integer, List&lt;String&gt;&gt; x) {\r\n                    a.method1(x)\r\n                    return x.length;\r\n    }\r\n}\r\n\r\nClass C {\r\n     B b;\r\n    Public void methodC(List&lt;Map&lt;Integer, List&lt;String&gt;&gt; x) {\r\n                    int size = b.methodB(x)\r\n    }\r\n}\r\n\r\n```\r\n\r\nNow when I wanted to write a unit test for class C, I did this\r\n\r\n```\r\nPublic Class cTest {\r\n\r\nList&lt;Map&lt;Integer, List&lt;String&gt;&gt; x;\r\n@InjectMocks\r\nC c;\r\n\r\n@Mock\r\nB b;\r\n\r\n@Test\r\nPublic Void test() {\r\n\r\n   when(b.methodB(x)).thenReturn(1);\r\n      c.methodC(x)\r\n    }\r\n}\r\n```\r\n\r\nThe thing is when I debug the call for c.methodC(x) in unit test and I check the x it will always be empty\r\nSo how can I fill it in that case ?","title":"@Mock values isn&#39;t refelected on @injectMock Java","body":"<p>I'm new to Mockito and I was trying to write the unit test for nstead adapters\nlets say we have\nI have 3 classes and the last one will update a map to me, return it to the middle then return it again to final layer</p>\n<pre><code>List&lt;Map&lt;Integer, List&lt;String&gt;&gt; x\nClass A {\n    Public void method1(List&lt;Map&lt;Integer, List&lt;String&gt;&gt; x) {\n                    method2(x)\n    }\n    private void method2 (List&lt;Map&lt;Integer, List&lt;String&gt;&gt; x) {\n                    x.add(...)\n    }\n}\n\nClass B {\n     A a;\n    Public int methodB(List&lt;Map&lt;Integer, List&lt;String&gt;&gt; x) {\n                    a.method1(x)\n                    return x.length;\n    }\n}\n\nClass C {\n     B b;\n    Public void methodC(List&lt;Map&lt;Integer, List&lt;String&gt;&gt; x) {\n                    int size = b.methodB(x)\n    }\n}\n\n</code></pre>\n<p>Now when I wanted to write a unit test for class C, I did this</p>\n<pre><code>Public Class cTest {\n\nList&lt;Map&lt;Integer, List&lt;String&gt;&gt; x;\n@InjectMocks\nC c;\n\n@Mock\nB b;\n\n@Test\nPublic Void test() {\n\n   when(b.methodB(x)).thenReturn(1);\n      c.methodC(x)\n    }\n}\n</code></pre>\n<p>The thing is when I debug the call for c.methodC(x) in unit test and I check the x it will always be empty\nSo how can I fill it in that case ?</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":153349,"reputation":7272,"user_id":368544,"accept_rate":80,"display_name":"Mart&#237;n Schonaker"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1310699046,"creation_date":1310699046,"answer_id":6702285,"question_id":6702076,"body_markdown":"There is an API that maybe solves all of your problems: http://code.google.com/apis/safebrowsing/\r\n\r\nAnd here is an Java client implementation for it: http://code.google.com/p/jgooglesafebrowsing/","title":"Simple check URL of Google safe browsing for Android?","body":"<p>There is an API that maybe solves all of your problems: <a href=\"http://code.google.com/apis/safebrowsing/\" rel=\"nofollow\">http://code.google.com/apis/safebrowsing/</a></p>\n\n<p>And here is an Java client implementation for it: <a href=\"http://code.google.com/p/jgooglesafebrowsing/\" rel=\"nofollow\">http://code.google.com/p/jgooglesafebrowsing/</a></p>\n"},{"tags":[],"owner":{"account_id":104344,"reputation":341,"user_id":279023,"display_name":"chethu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1355262372,"creation_date":1355262372,"answer_id":13829021,"question_id":6702076,"body_markdown":"One thing I would suggest is to have a server side implementation and have an Rest api exposed. Your android app can act as a client for the same","title":"Simple check URL of Google safe browsing for Android?","body":"<p>One thing I would suggest is to have a server side implementation and have an Rest api exposed. Your android app can act as a client for the same</p>\n"},{"tags":[],"owner":{"account_id":22370,"reputation":158113,"user_id":55075,"accept_rate":76,"display_name":"kenorb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1524065319,"creation_date":1524065319,"answer_id":49903585,"question_id":6702076,"body_markdown":"You need to `urlencode` your URL as you cannot have two `?` characters in the URL at the same time.\r\n\r\nSo your URL should looks like:\r\n\r\n&gt; `https://transparencyreport.google.com/safe-browsing/search?url=http:%2F%2Fexample.com%2Fabc%2Fdef%3Fghi%3Dopq`\r\n\r\nIn Java, you can use [`URLEncoder.encode()`][1].\r\n\r\nSee: &lt;https://stackoverflow.com/q/10786042/55075&gt;\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/net/URLEncoder.html","title":"Simple check URL of Google safe browsing for Android?","body":"<p>You need to <code>urlencode</code> your URL as you cannot have two <code>?</code> characters in the URL at the same time.</p>\n\n<p>So your URL should looks like:</p>\n\n<blockquote>\n  <p><code>https://transparencyreport.google.com/safe-browsing/search?url=http:%2F%2Fexample.com%2Fabc%2Fdef%3Fghi%3Dopq</code></p>\n</blockquote>\n\n<p>In Java, you can use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/net/URLEncoder.html\" rel=\"nofollow noreferrer\"><code>URLEncoder.encode()</code></a>.</p>\n\n<p>See: <a href=\"https://stackoverflow.com/q/10786042/55075\">Java URL encoding of query string parameters</a></p>\n"}],"owner":{"account_id":215487,"reputation":1718,"user_id":470160,"accept_rate":82,"display_name":"Anh Tuan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2458,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":6702285,"answer_count":3,"score":2,"last_activity_date":1657574500,"creation_date":1310696789,"question_id":6702076,"body_markdown":"I&#39;m building an Android application which allows people scan QR code and open its content if that is a URL. But before opening, I want to check it&#39;s a safe URL. I check Google Safe Browsing API, and it turns out I need to download and save malware and infected URL list, which&#39;s impossible for Android client.\r\n&lt;p&gt;There&#39;s another way with http://www.google.com/safebrowsing/diagnostic?site= but this have two disadvantages:\r\n&lt;p&gt;1.It doesn&#39;t work with full URL or URL paramater:\r\n&lt;br&gt;**Work**: http://www.google.com/safebrowsing/diagnostic?site=http://example.com\r\n&lt;br&gt;**Don&#39;t work**: http://www.google.com/safebrowsing/diagnostic?site=http://example.com/abc/def?ghi=opq\r\n&lt;p&gt;2.It opens a web page which tell us URL is safe or not, but I&#39;d rather want it return a HTTP status code: like 201 -&gt; safe, 202 -&gt; isn&#39;t safe (which is easier to process).\r\n\r\n&lt;p&gt;The first disadvantage&#39;s not much a problem, but the second&#39;s really annoying. Can anyone show me another way around? Really thank.","title":"Simple check URL of Google safe browsing for Android?","body":"<p>I'm building an Android application which allows people scan QR code and open its content if that is a URL. But before opening, I want to check it's a safe URL. I check Google Safe Browsing API, and it turns out I need to download and save malware and infected URL list, which's impossible for Android client.\n<p>There's another way with <a href=\"http://www.google.com/safebrowsing/diagnostic?site=\" rel=\"nofollow\">http://www.google.com/safebrowsing/diagnostic?site=</a> but this have two disadvantages:\n<p>1.It doesn't work with full URL or URL paramater:\n<br><strong>Work</strong>: <a href=\"http://www.google.com/safebrowsing/diagnostic?site=http://example.com\" rel=\"nofollow\">http://www.google.com/safebrowsing/diagnostic?site=http://example.com</a>\n<br><strong>Don't work</strong>: <a href=\"http://www.google.com/safebrowsing/diagnostic?site=http://example.com/abc/def?ghi=opq\" rel=\"nofollow\">http://www.google.com/safebrowsing/diagnostic?site=http://example.com/abc/def?ghi=opq</a>\n<p>2.It opens a web page which tell us URL is safe or not, but I'd rather want it return a HTTP status code: like 201 -> safe, 202 -> isn't safe (which is easier to process).</p>\n\n<p><p>The first disadvantage's not much a problem, but the second's really annoying. Can anyone show me another way around? Really thank.</p>\n"},{"tags":["java","maven","gradle","artifacts","maven-publish"],"comments":[{"owner":{"account_id":53772,"reputation":22307,"user_id":160811,"accept_rate":100,"display_name":"Jeremy"},"score":0,"creation_date":1657561925,"post_id":72942604,"comment_id":128835309,"body_markdown":"What have you tried? Do you have questions about the [maven-publish documentation](https://docs.gradle.org/current/userguide/publishing_maven.html)?","body":"What have you tried? Do you have questions about the <a href=\"https://docs.gradle.org/current/userguide/publishing_maven.html\" rel=\"nofollow noreferrer\">maven-publish documentation</a>?"},{"owner":{"account_id":19937313,"reputation":23,"user_id":14609715,"display_name":"Cannolium"},"score":0,"creation_date":1657562880,"post_id":72942604,"comment_id":128835606,"body_markdown":"@Jeremy I&#39;ve taken a look at the documentation but am mostly not sure how to point it to a location to write the POM to (like .writeTo in this situation).","body":"@Jeremy I&#39;ve taken a look at the documentation but am mostly not sure how to point it to a location to write the POM to (like .writeTo in this situation)."}],"answers":[{"tags":[],"owner":{"account_id":15994883,"reputation":3427,"user_id":11543023,"display_name":"djmonki"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657574425,"creation_date":1657574425,"answer_id":72944788,"question_id":72942604,"body_markdown":"Try this, based on the [Official Gradle Publishing Maven page][1]:\r\n```gradle\r\npublishing {\r\n    publications {\r\n        MavenCustom(MavenPublication) {\r\n            from components.java\r\n\r\n            groupId &quot;${project.group}.${project.name}&quot;\r\n            artifactId project.name\r\n            version project.version\r\n        }\r\n    }\r\n}\r\n\r\nmodel {\r\n    tasks.generatePomFileForMavenCustomPublication {\r\n        destination = file(&quot;$buildDir/libs/${project.name}.pom.xml&quot;)\r\n    }\r\n}\r\n```\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/publishing_maven.html#publishing_maven:tasks","title":"What is the proper way to migrate this pom maven task to maven-publish?","body":"<p>Try this, based on the <a href=\"https://docs.gradle.org/current/userguide/publishing_maven.html#publishing_maven:tasks\" rel=\"nofollow noreferrer\">Official Gradle Publishing Maven page</a>:</p>\n<pre><code>publishing {\n    publications {\n        MavenCustom(MavenPublication) {\n            from components.java\n\n            groupId &quot;${project.group}.${project.name}&quot;\n            artifactId project.name\n            version project.version\n        }\n    }\n}\n\nmodel {\n    tasks.generatePomFileForMavenCustomPublication {\n        destination = file(&quot;$buildDir/libs/${project.name}.pom.xml&quot;)\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":19937313,"reputation":23,"user_id":14609715,"display_name":"Cannolium"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":462,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657574425,"creation_date":1657561278,"question_id":72942604,"body_markdown":"I have this task in my build.gradle file that was using maven:\r\n\r\n    task pom {\r\n        doLast {\r\n            pom {\r\n                project {\r\n                    groupId &quot;${project.group}.${project.name}&quot;\r\n                    artifactId project.name\r\n                    version project.version\r\n                }\r\n            }.writeTo (&quot;$buildDir/libs/${project.name}.pom&quot;)\r\n        }\r\n    }\r\n\r\n\r\nNow its my task to get this project ready for gradle 7, and part of that means upgrading maven to maven-publish. The above code snippit doesn&#39;t work with maven-publish, as pom() isn&#39;t a recognized method. What is the proper way to migrate this code over to maven-publish?","title":"What is the proper way to migrate this pom maven task to maven-publish?","body":"<p>I have this task in my build.gradle file that was using maven:</p>\n<pre><code>task pom {\n    doLast {\n        pom {\n            project {\n                groupId &quot;${project.group}.${project.name}&quot;\n                artifactId project.name\n                version project.version\n            }\n        }.writeTo (&quot;$buildDir/libs/${project.name}.pom&quot;)\n    }\n}\n</code></pre>\n<p>Now its my task to get this project ready for gradle 7, and part of that means upgrading maven to maven-publish. The above code snippit doesn't work with maven-publish, as pom() isn't a recognized method. What is the proper way to migrate this code over to maven-publish?</p>\n"},{"tags":["java","influxdb"],"answers":[{"tags":[],"owner":{"account_id":25279,"reputation":35965,"user_id":64895,"accept_rate":60,"display_name":"Jack BeNimble"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657574030,"creation_date":1657574030,"answer_id":72944737,"question_id":72943962,"body_markdown":"Never mind. It turns out a separate row can have exactly the same date but different tags. Maybe rows can actually be though of as columns in a relational db? ","title":"Influx DB Java how to show tags associated with field","body":"<p>Never mind. It turns out a separate row can have exactly the same date but different tags. Maybe rows can actually be though of as columns in a relational db?</p>\n"}],"owner":{"account_id":25279,"reputation":35965,"user_id":64895,"accept_rate":60,"display_name":"Jack BeNimble"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":289,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657574030,"creation_date":1657569224,"question_id":72943962,"body_markdown":"I have a question on accessing tag using Java.\r\n\r\nHere is a query that works great in the UI, with the results shown in the image below. \r\n\r\n    from(bucket: &quot;events&quot;)\r\n      |&gt; range(start: -3h)\r\n      |&gt; filter(fn: (r) =&gt; r[&quot;_measurement&quot;] == &quot;NORCA-SYSTEM-TIMESERIES&quot;)\r\n      |&gt; filter(fn: (r) =&gt; r[&quot;_field&quot;] == &quot;objectCount&quot; or r[&quot;_field&quot;] == &quot;norcaErrorCount&quot;)\r\n      |&gt; aggregateWindow(every: 1m, fn: sum, createEmpty: false)\r\n      |&gt; yield(name: &quot;sum&quot;)\r\n\r\n[![Query results][1]][1]\r\n\r\nFrom the above, you can see it returns results from two systems for two variables\r\n\r\nHere is the Java code which executes the same query:\r\n\r\n    @Override\r\n    \tpublic List&lt;INorcaTotalsSystemDateDTO&gt; norcaInfluxSystemTotalsByTimeUnit\r\n    \t(String systemName,\r\n    \t\t\tString org,\r\n    \t\t\tString bucket,\r\n    \t\t\tString cacheDatabase,\r\n    \t\t\tString groupByTimeUnit,\r\n    \t\t\tString startFromTimeUnit) {\r\n    \t\tString token = NorcaInfluxUtilsService.getInfluxToken();\r\n    \t\tString host = &quot;http://localhost:8086&quot;;\r\n    \t\r\n    \t\tLOG.info(&quot;running influx client&quot;);\r\n    \t\tInfluxDBClient client = NorcaInfluxUtilsService.getInfluxClient(host, token, org, bucket);\r\n    \t\tMap&lt;LocalDateTime, INorcaTotalsSystemDateDTO&gt; dtoMap = new HashMap&lt;&gt;();\r\n    \t\tLong norcaErrors = null;\r\n    \t\tLong objectCount = null;\r\n    \t\tString query = null;\r\n    \t\t\r\n    \t\tif (!systemName.equalsIgnoreCase(&quot;all&quot;)) {\r\n    \t\t\r\n    \t\t\t\tquery = &quot;from(bucket: \\&quot;events\\&quot;)&quot; +\r\n    \t\t\t\t  &quot;  |&gt; range(start: &quot;\r\n    \t\t\t\t+ startFromTimeUnit + &quot;)&quot;\r\n    \t\t\t\t+ &quot;  |&gt; filter(fn: (r) =&gt; r[\\&quot;_measurement\\&quot;] == \\&quot;NORCA-SYSTEM-TIMESERIES\\&quot;) &quot;\r\n    \t\t\t\t+ &quot;  |&gt; filter(fn: (r) =&gt; r[\\&quot;System\\&quot;] == \\&quot;&quot;\r\n    \t\t\t\t+ systemName\r\n    \t\t\t\t+ &quot;\\&quot;) &quot;\r\n    \t\t\t\t+ &quot;  |&gt; filter(fn: (r) =&gt; r[\\&quot;_field\\&quot;] == \\&quot;objectCount\\&quot; or r[\\&quot;_field\\&quot;] == \\&quot;norcaErrorCount\\&quot;) &quot;\r\n    \t\t\t\t+ &quot;  |&gt; aggregateWindow(every: &quot;\r\n    \t\t\t\t+ groupByTimeUnit\r\n    \t\t\t\t+ &quot;, fn: sum, createEmpty: false) &quot;\r\n    \t\t\t\t+ &quot;  |&gt; yield(name: \\&quot;sum\\&quot;)&quot;;\r\n    \t\t}\r\n    \t\telse {\r\n    \t\t\tquery = &quot;from(bucket: \\&quot;events\\&quot;)\\r\\n&quot; +\r\n    \t\t\t\t\t&quot;  |&gt; range(start: -3h)\\r\\n&quot; +\r\n    \t\t\t\t\t&quot;  |&gt; filter(fn: (r) =&gt; r[\\&quot;_measurement\\&quot;] == \\&quot;NORCA-SYSTEM-TIMESERIES\\&quot;)\\r\\n&quot; +\r\n    \t\t\t\t\t&quot;  |&gt; filter(fn: (r) =&gt; r[\\&quot;_field\\&quot;] == \\&quot;objectCount\\&quot; or r[\\&quot;_field\\&quot;] == \\&quot;norcaErrorCount\\&quot;)\\r\\n&quot; +\r\n    \t\t\t\t\t&quot;  |&gt; aggregateWindow(every: 1m, fn: sum, createEmpty: false)\\r\\n&quot; +\r\n    \t\t\t\t\t&quot;  |&gt; yield(name: \\&quot;sum\\&quot;)&quot;;\r\n    \t\t\t\r\n    \t\t}\r\n    \t\t\r\n    \t\tList&lt;FluxTable&gt; tables = client.getQueryApi().query(query, org);\r\n    \t\tLOG.info(&quot;read from influx&quot;);\r\n    \t\tfor (FluxTable table : tables) {\r\n    \t\t\tfor (FluxRecord record : table.getRecords()) {\r\n    \t\t\t\tLOG.error(record.getTime() + &quot; &quot; + record.getMeasurement() + &quot; &quot; + record.getField() + &quot; &quot; + record.getValue());\r\n    \t\t\t\t// System.out.println(record.getTime() + &quot; &quot; + record.getMeasurement() + &quot; &quot; + record.getField() + &quot; &quot; + record.getValue());\r\n    \t\t\t\r\n    \t\t\t\tInstant instant = record.getTime();\r\n    \t\t\t\t// ZoneId zone = ZoneId.of(&quot;UTC&quot;);\r\n    \t\t\t\tZoneId zone = ZoneId.systemDefault();\r\n    \t\t\t\tLocalDateTime localDateTime = LocalDateTime.ofInstant(instant, zone);\r\n    \t\t\t\tINorcaTotalsSystemDateDTO currentDTO = dtoMap.get(localDateTime);\r\n    \t\t\t\tif (currentDTO == null) {\r\n    \t\t\t\t\tcurrentDTO = new NorcaTotalsSystemDateDTO();\r\n    \t\t\t\t\tdtoMap.put(localDateTime, currentDTO);\r\n    \t\t\t\t\t\r\n    \t\t\t\t\tMap&lt;String, Object&gt; tempMap = null;\r\n    \t\t\t\t\ttempMap = record.getValues();\r\n    \t\t\t\t\tfor (Map.Entry&lt;String, Object&gt; entry : tempMap.entrySet())\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t    System.out.println(&quot;key: &quot; + entry.getKey() + &quot;; value: &quot; + entry.getValue());\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\tcurrentDTO.setSystemName((String)tempMap.get(&quot;System&quot;));\r\n    \t\t\t\t\tcurrentDTO.setBarcodeType((String)tempMap.get(&quot;barcodeType&quot;));\r\n    \t\t\t\r\n    \t\t\t\t}\r\n    \t\t\t\telse {\r\n    \t\t\t\t\tLOG.info(&quot;current DTO was found! &quot; + localDateTime);\r\n    \t\t\t\t}\r\n    \t\t\t\tString formatted = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd hh:mm:ss&quot;).format(localDateTime);\r\n    \t\t\t\t\t\t\t\t\r\n    \t\t\t\tcurrentDTO.setScanDate(formatted);\r\n    \t\t\t\tif (record.getField().equalsIgnoreCase(&quot;objectCount&quot;)) {\r\n    \t\t\t\t\r\n    \t\t\t\t\tobjectCount = (Long) record.getValue();\r\n    \t\t\t\t\tcurrentDTO.setTotalFeatures((objectCount.intValue()));\r\n    \t\t\t\t}\r\n    \t\t\t\tif (record.getField().equalsIgnoreCase(&quot;norcaErrorCount&quot;)) {\r\n    \t\t\t\t\t\r\n    \t\t\t\t\tnorcaErrors = (Long) record.getValue();\r\n    \t\t\t\t\tcurrentDTO.setNonZeroFeatures(norcaErrors.intValue());\r\n    \t\t\t\t}\r\n    \t\t\t\t\r\n    \t\t\t\t\r\n    \t\t\t} // checked all rows\r\n    \t\t}\r\n\r\n\r\n\r\n\r\nWhen the systemName is &quot;all&quot;, it executes the second query\r\n\r\n    query = &quot;from(bucket: \\&quot;events\\&quot;)\\r\\n&quot; +\r\n    \t\t\t\t\t&quot; |&gt; range(start: -3h)\\r\\n&quot; +\r\n    \t\t\t\t\t&quot; |&gt; filter(fn: (r) =&gt; r[\\&quot;_measurement\\&quot;] == \\&quot;NORCA-SYSTEM-TIMESERIES\\&quot;)\\r\\n&quot; +\r\n    \t\t\t\t\t&quot; |&gt; filter(fn: (r) =&gt; r[\\&quot;_field\\&quot;] == \\&quot;objectCount\\&quot; or r[\\&quot;_field\\&quot;] == \\&quot;norcaErrorCount\\&quot;)\\r\\n&quot; +\r\n    \t\t\t\t\t&quot; |&gt; aggregateWindow(every: 1m, fn: sum, createEmpty: false)\\r\\n&quot; +\r\n    \t\t\t\t\t&quot; |&gt; yield(name: \\&quot;sum\\&quot;)&quot;;\r\n\r\nWhen I try to access the tags with this code (as shown above)\r\n\r\n    for (Map.Entry&lt;String, Object&gt; entry : tempMap.entrySet())\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t   System.out.println(&quot;key: &quot; + entry.getKey() + &quot;; value: &quot; + entry.getValue());\r\n    \t\t\t\t\t}\r\n\r\nIt only prints out one of the four lines - System &quot;01&quot; and barcode &quot;r&quot;\r\nThere should be four, as shown in the graph\r\n\r\nHow can I see all the tags?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bzLlr.png\r\n\r\n\r\n","title":"Influx DB Java how to show tags associated with field","body":"<p>I have a question on accessing tag using Java.</p>\n<p>Here is a query that works great in the UI, with the results shown in the image below.</p>\n<pre><code>from(bucket: &quot;events&quot;)\n  |&gt; range(start: -3h)\n  |&gt; filter(fn: (r) =&gt; r[&quot;_measurement&quot;] == &quot;NORCA-SYSTEM-TIMESERIES&quot;)\n  |&gt; filter(fn: (r) =&gt; r[&quot;_field&quot;] == &quot;objectCount&quot; or r[&quot;_field&quot;] == &quot;norcaErrorCount&quot;)\n  |&gt; aggregateWindow(every: 1m, fn: sum, createEmpty: false)\n  |&gt; yield(name: &quot;sum&quot;)\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/bzLlr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bzLlr.png\" alt=\"Query results\" /></a></p>\n<p>From the above, you can see it returns results from two systems for two variables</p>\n<p>Here is the Java code which executes the same query:</p>\n<pre><code>@Override\n    public List&lt;INorcaTotalsSystemDateDTO&gt; norcaInfluxSystemTotalsByTimeUnit\n    (String systemName,\n            String org,\n            String bucket,\n            String cacheDatabase,\n            String groupByTimeUnit,\n            String startFromTimeUnit) {\n        String token = NorcaInfluxUtilsService.getInfluxToken();\n        String host = &quot;http://localhost:8086&quot;;\n    \n        LOG.info(&quot;running influx client&quot;);\n        InfluxDBClient client = NorcaInfluxUtilsService.getInfluxClient(host, token, org, bucket);\n        Map&lt;LocalDateTime, INorcaTotalsSystemDateDTO&gt; dtoMap = new HashMap&lt;&gt;();\n        Long norcaErrors = null;\n        Long objectCount = null;\n        String query = null;\n        \n        if (!systemName.equalsIgnoreCase(&quot;all&quot;)) {\n        \n                query = &quot;from(bucket: \\&quot;events\\&quot;)&quot; +\n                  &quot;  |&gt; range(start: &quot;\n                + startFromTimeUnit + &quot;)&quot;\n                + &quot;  |&gt; filter(fn: (r) =&gt; r[\\&quot;_measurement\\&quot;] == \\&quot;NORCA-SYSTEM-TIMESERIES\\&quot;) &quot;\n                + &quot;  |&gt; filter(fn: (r) =&gt; r[\\&quot;System\\&quot;] == \\&quot;&quot;\n                + systemName\n                + &quot;\\&quot;) &quot;\n                + &quot;  |&gt; filter(fn: (r) =&gt; r[\\&quot;_field\\&quot;] == \\&quot;objectCount\\&quot; or r[\\&quot;_field\\&quot;] == \\&quot;norcaErrorCount\\&quot;) &quot;\n                + &quot;  |&gt; aggregateWindow(every: &quot;\n                + groupByTimeUnit\n                + &quot;, fn: sum, createEmpty: false) &quot;\n                + &quot;  |&gt; yield(name: \\&quot;sum\\&quot;)&quot;;\n        }\n        else {\n            query = &quot;from(bucket: \\&quot;events\\&quot;)\\r\\n&quot; +\n                    &quot;  |&gt; range(start: -3h)\\r\\n&quot; +\n                    &quot;  |&gt; filter(fn: (r) =&gt; r[\\&quot;_measurement\\&quot;] == \\&quot;NORCA-SYSTEM-TIMESERIES\\&quot;)\\r\\n&quot; +\n                    &quot;  |&gt; filter(fn: (r) =&gt; r[\\&quot;_field\\&quot;] == \\&quot;objectCount\\&quot; or r[\\&quot;_field\\&quot;] == \\&quot;norcaErrorCount\\&quot;)\\r\\n&quot; +\n                    &quot;  |&gt; aggregateWindow(every: 1m, fn: sum, createEmpty: false)\\r\\n&quot; +\n                    &quot;  |&gt; yield(name: \\&quot;sum\\&quot;)&quot;;\n            \n        }\n        \n        List&lt;FluxTable&gt; tables = client.getQueryApi().query(query, org);\n        LOG.info(&quot;read from influx&quot;);\n        for (FluxTable table : tables) {\n            for (FluxRecord record : table.getRecords()) {\n                LOG.error(record.getTime() + &quot; &quot; + record.getMeasurement() + &quot; &quot; + record.getField() + &quot; &quot; + record.getValue());\n                // System.out.println(record.getTime() + &quot; &quot; + record.getMeasurement() + &quot; &quot; + record.getField() + &quot; &quot; + record.getValue());\n            \n                Instant instant = record.getTime();\n                // ZoneId zone = ZoneId.of(&quot;UTC&quot;);\n                ZoneId zone = ZoneId.systemDefault();\n                LocalDateTime localDateTime = LocalDateTime.ofInstant(instant, zone);\n                INorcaTotalsSystemDateDTO currentDTO = dtoMap.get(localDateTime);\n                if (currentDTO == null) {\n                    currentDTO = new NorcaTotalsSystemDateDTO();\n                    dtoMap.put(localDateTime, currentDTO);\n                    \n                    Map&lt;String, Object&gt; tempMap = null;\n                    tempMap = record.getValues();\n                    for (Map.Entry&lt;String, Object&gt; entry : tempMap.entrySet())\n                    {\n                        System.out.println(&quot;key: &quot; + entry.getKey() + &quot;; value: &quot; + entry.getValue());\n                    }\n                    currentDTO.setSystemName((String)tempMap.get(&quot;System&quot;));\n                    currentDTO.setBarcodeType((String)tempMap.get(&quot;barcodeType&quot;));\n            \n                }\n                else {\n                    LOG.info(&quot;current DTO was found! &quot; + localDateTime);\n                }\n                String formatted = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd hh:mm:ss&quot;).format(localDateTime);\n                                \n                currentDTO.setScanDate(formatted);\n                if (record.getField().equalsIgnoreCase(&quot;objectCount&quot;)) {\n                \n                    objectCount = (Long) record.getValue();\n                    currentDTO.setTotalFeatures((objectCount.intValue()));\n                }\n                if (record.getField().equalsIgnoreCase(&quot;norcaErrorCount&quot;)) {\n                    \n                    norcaErrors = (Long) record.getValue();\n                    currentDTO.setNonZeroFeatures(norcaErrors.intValue());\n                }\n                \n                \n            } // checked all rows\n        }\n</code></pre>\n<p>When the systemName is &quot;all&quot;, it executes the second query</p>\n<pre><code>query = &quot;from(bucket: \\&quot;events\\&quot;)\\r\\n&quot; +\n                    &quot; |&gt; range(start: -3h)\\r\\n&quot; +\n                    &quot; |&gt; filter(fn: (r) =&gt; r[\\&quot;_measurement\\&quot;] == \\&quot;NORCA-SYSTEM-TIMESERIES\\&quot;)\\r\\n&quot; +\n                    &quot; |&gt; filter(fn: (r) =&gt; r[\\&quot;_field\\&quot;] == \\&quot;objectCount\\&quot; or r[\\&quot;_field\\&quot;] == \\&quot;norcaErrorCount\\&quot;)\\r\\n&quot; +\n                    &quot; |&gt; aggregateWindow(every: 1m, fn: sum, createEmpty: false)\\r\\n&quot; +\n                    &quot; |&gt; yield(name: \\&quot;sum\\&quot;)&quot;;\n</code></pre>\n<p>When I try to access the tags with this code (as shown above)</p>\n<pre><code>for (Map.Entry&lt;String, Object&gt; entry : tempMap.entrySet())\n                    {\n                       System.out.println(&quot;key: &quot; + entry.getKey() + &quot;; value: &quot; + entry.getValue());\n                    }\n</code></pre>\n<p>It only prints out one of the four lines - System &quot;01&quot; and barcode &quot;r&quot;\nThere should be four, as shown in the graph</p>\n<p>How can I see all the tags?</p>\n"},{"tags":["java","html","spring","spring-boot","thymeleaf"],"comments":[{"owner":{"account_id":4154342,"reputation":3562,"user_id":3405980,"accept_rate":69,"display_name":"harshavmb"},"score":0,"creation_date":1657552072,"post_id":72940598,"comment_id":128831636,"body_markdown":"Any redirects configured at webserver layer? Do you see `300*` response codes when you click on `href`? You can check this via browser console.","body":"Any redirects configured at webserver layer? Do you see <code>300*</code> response codes when you click on <code>href</code>? You can check this via browser console."},{"owner":{"account_id":21087616,"reputation":303,"user_id":15500332,"display_name":"Vel_More"},"score":0,"creation_date":1657573835,"post_id":72940598,"comment_id":128838780,"body_markdown":"@harshavmb I checked. Indeed there are some blocked and cancelled parameters. I updated my question with pictures.","body":"@harshavmb I checked. Indeed there are some blocked and cancelled parameters. I updated my question with pictures."}],"owner":{"account_id":21087616,"reputation":303,"user_id":15500332,"display_name":"Vel_More"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":244,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657573900,"creation_date":1657551610,"question_id":72940598,"body_markdown":"I&#39;ve created a Spring Boot App, in which I am fetching data from external API, store them in database and then displaying them back at front-end in HTML using Thymeleaf. Everything works perfectly fine except one thing.\r\n\r\nOne of the columns in db, has the name &quot;Headline&quot; which is mapped as String variable. I am using this variable as hyperlink in my Spring Boot app combined with URLs stored in the same database, to redirect to the source of them. Below I am showing my front-end code.\r\n\r\n**Front-End Page**\r\n```\r\n&lt;!DOCTYPE HTML&gt;\r\n&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot; xmlns:c=&quot;http://www.w3.org/1999/XSL/Transform&quot;\r\n      xmlns:https=&quot;http://www.w3.org/1999/xhtml&quot;&gt;\r\n&lt;head&gt;\r\n    &lt;meta charset=&quot;utf-8&quot;&gt;\r\n    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1, shrink-to-fit=no&quot;&gt;\r\n\r\n    &lt;title&gt;Spring Boot Thymeleaf Hello World Example&lt;/title&gt;\r\n\r\n    &lt;link rel=&quot;stylesheet&quot; th:href=&quot;@{/webjars/bootstrap/css/bootstrap.min.css}&quot;/&gt;\r\n    &lt;link rel=&quot;stylesheet&quot; th:href=&quot;@{/styles/db.css}&quot;/&gt;\r\n    &lt;script type=&quot;text/javascript&quot; th:src=&quot;@{/webjars/bootstrap/js/bootstrap.min.js}&quot;&gt;&lt;/script&gt;\r\n\r\n\r\n&lt;/head&gt;\r\n\r\n&lt;body&gt;\r\n\r\n&lt;ul&gt;\r\n    &lt;li&gt;&lt;a href=&quot;http://localhost:8080/&quot;&gt;Home&lt;/a&gt;&lt;/li&gt;\r\n    &lt;li&gt;&lt;a href=&quot;https://github.com/Andreas-Kreouzos&quot; target=&quot;_blank&quot;&gt;Github&lt;/a&gt;&lt;/li&gt;\r\n    &lt;li&gt;&lt;a th:href=&quot;@{https://github.com/Andreas-Kreouzos}&quot; target=&quot;_blank&quot;&gt;Github&lt;/a&gt;&lt;/li&gt;\r\n&lt;/ul&gt;\r\n\r\n&lt;main role=&quot;main&quot; class=&quot;container&quot;&gt;\r\n\r\n    &lt;div class=&quot;starter-template&quot;&gt;\r\n        &lt;h1&gt;Cryptocurrency News&lt;/h1&gt;\r\n    &lt;/div&gt;\r\n\r\n&lt;/main&gt;\r\n    &lt;!--Display DB contents on HTML and Thymeleaf--&gt;\r\n    &lt;div class=&quot;container text-center&quot; id=&quot;tasksDiv&quot;&gt;\r\n        &lt;hr&gt;\r\n        &lt;div class=&quot;table-responsive&quot;&gt;\r\n            &lt;table class=&quot;table table-striped table-bordered&quot;&gt;\r\n                &lt;thead&gt;\r\n                &lt;tr&gt;\r\n                    &lt;th&gt;News Provider Name&lt;/th&gt;\r\n                    &lt;th&gt;News Link&lt;/th&gt;\r\n                    &lt;th&gt;Related Image&lt;/th&gt;\r\n                &lt;/tr&gt;\r\n                &lt;/thead&gt;\r\n                &lt;tbody&gt;\r\n                    &lt;tr th:each=&quot;rate: ${rates}&quot;&gt;\r\n                        &lt;td th:text=&quot;${rate.news_provider_name}&quot;&gt; &lt;/td&gt;\r\n                        &lt;td&gt;\r\n                            &lt;a\r\n                                    th:href=&quot;@{${rate.news_link}}&quot;\r\n                                    target=&quot;_blank&quot;\r\n                                    th:text=&quot;${rate.HEADLINE}&quot;&gt;\r\n                            &lt;/a&gt;\r\n                        &lt;/td&gt;\r\n                        &lt;td&gt; &lt;img th:src=&quot;${rate.related_image}&quot; alt=&quot;error displaying image&quot;&gt; &lt;/td&gt;\r\n                    &lt;/tr&gt;\r\n                &lt;/tbody&gt;\r\n            &lt;/table&gt;\r\n        &lt;/div&gt;\r\n    &lt;/div&gt;\r\n\r\n\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\nWhen I am running my application everything displays just fine, but as soon as I press the texted hyperlinks, I am redirected at the home page instead of the given URLs which I&#39;ve stored in my DB. Below, I am showing you my printscreen in which you can definitely see that URLs have been fetched and assigned properly, when I am hovering my cursor above them in my browser, just before I press them. But as soon as they do get pressed, I am getting redirection [here](https://www.investing.com/), instead of\r\n[here](https://www.investing.com/news/cryptocurrency-news/tether-liquidates-celsius-position-with-no-losses-to-stablecoin-issuer-2845626).\r\n\r\nAny ideas about what am I doing wrong?\r\n\r\n[![Browser View][1]][1]\r\n\r\n\r\n**UPDATE**\r\n\r\nIn the above code I changed the `th:href=&quot;${rate.news_link}` to `th:href=&quot;@{${rate.news_link}}` but still nothing works. If, for example, my initial URL is\r\n\r\n    https://www.investing.com/news/cryptocurrency-news/tether-liquidates-celsius-position-with-no-losses-to-stablecoin-issuer-2845626\r\n\r\ngets chopped off to `https://www.investing.com/`\r\n\r\n[![Broswer Console][2]][2]\r\n\r\n\r\n[![Broswer Console 2][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gSkZn.png\r\n  [2]: https://i.stack.imgur.com/bhafY.png\r\n  [3]: https://i.stack.imgur.com/D70lO.png","title":"Thymeleaf URL Forwarding Problem to External URL in Spring Boot App","body":"<p>I've created a Spring Boot App, in which I am fetching data from external API, store them in database and then displaying them back at front-end in HTML using Thymeleaf. Everything works perfectly fine except one thing.</p>\n<p>One of the columns in db, has the name &quot;Headline&quot; which is mapped as String variable. I am using this variable as hyperlink in my Spring Boot app combined with URLs stored in the same database, to redirect to the source of them. Below I am showing my front-end code.</p>\n<p><strong>Front-End Page</strong></p>\n<pre><code>&lt;!DOCTYPE HTML&gt;\n&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot; xmlns:c=&quot;http://www.w3.org/1999/XSL/Transform&quot;\n      xmlns:https=&quot;http://www.w3.org/1999/xhtml&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;utf-8&quot;&gt;\n    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1, shrink-to-fit=no&quot;&gt;\n\n    &lt;title&gt;Spring Boot Thymeleaf Hello World Example&lt;/title&gt;\n\n    &lt;link rel=&quot;stylesheet&quot; th:href=&quot;@{/webjars/bootstrap/css/bootstrap.min.css}&quot;/&gt;\n    &lt;link rel=&quot;stylesheet&quot; th:href=&quot;@{/styles/db.css}&quot;/&gt;\n    &lt;script type=&quot;text/javascript&quot; th:src=&quot;@{/webjars/bootstrap/js/bootstrap.min.js}&quot;&gt;&lt;/script&gt;\n\n\n&lt;/head&gt;\n\n&lt;body&gt;\n\n&lt;ul&gt;\n    &lt;li&gt;&lt;a href=&quot;http://localhost:8080/&quot;&gt;Home&lt;/a&gt;&lt;/li&gt;\n    &lt;li&gt;&lt;a href=&quot;https://github.com/Andreas-Kreouzos&quot; target=&quot;_blank&quot;&gt;Github&lt;/a&gt;&lt;/li&gt;\n    &lt;li&gt;&lt;a th:href=&quot;@{https://github.com/Andreas-Kreouzos}&quot; target=&quot;_blank&quot;&gt;Github&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;main role=&quot;main&quot; class=&quot;container&quot;&gt;\n\n    &lt;div class=&quot;starter-template&quot;&gt;\n        &lt;h1&gt;Cryptocurrency News&lt;/h1&gt;\n    &lt;/div&gt;\n\n&lt;/main&gt;\n    &lt;!--Display DB contents on HTML and Thymeleaf--&gt;\n    &lt;div class=&quot;container text-center&quot; id=&quot;tasksDiv&quot;&gt;\n        &lt;hr&gt;\n        &lt;div class=&quot;table-responsive&quot;&gt;\n            &lt;table class=&quot;table table-striped table-bordered&quot;&gt;\n                &lt;thead&gt;\n                &lt;tr&gt;\n                    &lt;th&gt;News Provider Name&lt;/th&gt;\n                    &lt;th&gt;News Link&lt;/th&gt;\n                    &lt;th&gt;Related Image&lt;/th&gt;\n                &lt;/tr&gt;\n                &lt;/thead&gt;\n                &lt;tbody&gt;\n                    &lt;tr th:each=&quot;rate: ${rates}&quot;&gt;\n                        &lt;td th:text=&quot;${rate.news_provider_name}&quot;&gt; &lt;/td&gt;\n                        &lt;td&gt;\n                            &lt;a\n                                    th:href=&quot;@{${rate.news_link}}&quot;\n                                    target=&quot;_blank&quot;\n                                    th:text=&quot;${rate.HEADLINE}&quot;&gt;\n                            &lt;/a&gt;\n                        &lt;/td&gt;\n                        &lt;td&gt; &lt;img th:src=&quot;${rate.related_image}&quot; alt=&quot;error displaying image&quot;&gt; &lt;/td&gt;\n                    &lt;/tr&gt;\n                &lt;/tbody&gt;\n            &lt;/table&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>When I am running my application everything displays just fine, but as soon as I press the texted hyperlinks, I am redirected at the home page instead of the given URLs which I've stored in my DB. Below, I am showing you my printscreen in which you can definitely see that URLs have been fetched and assigned properly, when I am hovering my cursor above them in my browser, just before I press them. But as soon as they do get pressed, I am getting redirection <a href=\"https://www.investing.com/\" rel=\"nofollow noreferrer\">here</a>, instead of\n<a href=\"https://www.investing.com/news/cryptocurrency-news/tether-liquidates-celsius-position-with-no-losses-to-stablecoin-issuer-2845626\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>Any ideas about what am I doing wrong?</p>\n<p><a href=\"https://i.stack.imgur.com/gSkZn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gSkZn.png\" alt=\"Browser View\" /></a></p>\n<p><strong>UPDATE</strong></p>\n<p>In the above code I changed the <code>th:href=&quot;${rate.news_link}</code> to <code>th:href=&quot;@{${rate.news_link}}</code> but still nothing works. If, for example, my initial URL is</p>\n<pre><code>https://www.investing.com/news/cryptocurrency-news/tether-liquidates-celsius-position-with-no-losses-to-stablecoin-issuer-2845626\n</code></pre>\n<p>gets chopped off to <code>https://www.investing.com/</code></p>\n<p><a href=\"https://i.stack.imgur.com/bhafY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bhafY.png\" alt=\"Broswer Console\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/D70lO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/D70lO.png\" alt=\"Broswer Console 2\" /></a></p>\n"},{"tags":["java","spring-boot","ubuntu"],"comments":[{"owner":{"account_id":10637559,"reputation":2455,"user_id":7833793,"display_name":"R4N"},"score":1,"creation_date":1657573277,"post_id":72944514,"comment_id":128838629,"body_markdown":"Is this answer helpful? https://stackoverflow.com/a/50232382/7833793","body":"Is this answer helpful? <a href=\"https://stackoverflow.com/a/50232382/7833793\">stackoverflow.com/a/50232382/7833793</a>"}],"answers":[{"tags":[],"owner":{"account_id":3509735,"reputation":979,"user_id":2970627,"accept_rate":35,"display_name":"Alex Bondar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657573797,"creation_date":1657573797,"answer_id":72944707,"question_id":72944514,"body_markdown":"Made a dummy mistake in main. \r\n\r\nWas failing because of \r\n\r\n     public static void main(String[] args) {\r\n          SpringApplication.run(SpringApplication.class,args);\r\n      }","title":"SpringBoot app fails to start with weird exception","body":"<p>Made a dummy mistake in main.</p>\n<p>Was failing because of</p>\n<pre><code> public static void main(String[] args) {\n      SpringApplication.run(SpringApplication.class,args);\n  }\n</code></pre>\n"}],"owner":{"account_id":3509735,"reputation":979,"user_id":2970627,"accept_rate":35,"display_name":"Alex Bondar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":841,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657573797,"creation_date":1657572541,"question_id":72944514,"body_markdown":"My freshly-created app written on springboot-2.7.1 fails to start with the following error\r\n\r\n&gt; Caused by: org.gradle.process.internal.ExecException: Process &#39;command &#39;/home/abondar/.sdkman/candidates/java/21.3.0.r17-grl/bin/java&#39;&#39; finished with non-zero exit value 1\r\n\r\nAbsolutely weird. I have another app writeen 0n 2.6.3 running perfectly on the same jvm. Also downgrading of this app to 2.6.3 doesn&#39;t help.\r\n\r\n\r\nHere is build.gradle\r\n\r\n        plugins {\r\n        id &quot;java&quot;\r\n        id &quot;idea&quot;\r\n        id &quot;org.springframework.boot&quot; version &quot;$springBootVersion&quot;\r\n    }\r\n    \r\n    apply plugin: &quot;java&quot;\r\n    apply plugin: &quot;io.spring.dependency-management&quot;\r\n    \r\n    group &quot;org.abondar.experimental.cameldemo&quot;\r\n    version &#39;1.0-SNAPSHOT&#39;\r\n    \r\n    \r\n        repositories {\r\n            mavenCentral()\r\n    }\r\n\r\n    dependencies {\r\n\r\n    implementation(&quot;org.springframework.boot:spring-boot-starter-web&quot;)\r\n    implementation(&quot;org.springframework.boot:spring-boot-starter-actuator&quot;)\r\n    implementation(&#39;ch.qos.logback:logback-core:1.2.11&#39;)\r\n\r\n\r\n    testImplementation(&quot;org.springframework.boot:spring-boot-starter-test&quot;)\r\n    }\r\n\r\n    test {\r\n        useJUnitPlatform()\r\n    }\r\n    \r\n    bootBuildImage {\r\n        imageName = &quot;abondar/shoppingCart&quot;\r\n    }\r\n\r\nFrom logs I can see the following\r\n\r\n&gt; Exception encountered during context initialization - cancelling\r\n&gt; refresh attempt:\r\n&gt; org.springframework.context.ApplicationContextException: Unable to\r\n&gt; start web server; nested exception is\r\n&gt; org.springframework.boot.web.context.MissingWebServerFactoryBeanException:\r\n&gt; No qualifying bean of type\r\n&gt; &#39;org.springframework.boot.web.servlet.server.ServletWebServerFactory&#39;\r\n&gt; available: Unable to start\r\n&gt; AnnotationConfigServletWebServerApplicationContext due to missing\r\n&gt; ServletWebServerFactory bean 681 [main] ERROR\r\n&gt; o.s.b.d.LoggingFailureAnalysisReporter -\r\n\r\n\r\nWhat am I missing here?","title":"SpringBoot app fails to start with weird exception","body":"<p>My freshly-created app written on springboot-2.7.1 fails to start with the following error</p>\n<blockquote>\n<p>Caused by: org.gradle.process.internal.ExecException: Process 'command '/home/abondar/.sdkman/candidates/java/21.3.0.r17-grl/bin/java'' finished with non-zero exit value 1</p>\n</blockquote>\n<p>Absolutely weird. I have another app writeen 0n 2.6.3 running perfectly on the same jvm. Also downgrading of this app to 2.6.3 doesn't help.</p>\n<p>Here is build.gradle</p>\n<pre><code>    plugins {\n    id &quot;java&quot;\n    id &quot;idea&quot;\n    id &quot;org.springframework.boot&quot; version &quot;$springBootVersion&quot;\n}\n\napply plugin: &quot;java&quot;\napply plugin: &quot;io.spring.dependency-management&quot;\n\ngroup &quot;org.abondar.experimental.cameldemo&quot;\nversion '1.0-SNAPSHOT'\n\n\n    repositories {\n        mavenCentral()\n}\n\ndependencies {\n\nimplementation(&quot;org.springframework.boot:spring-boot-starter-web&quot;)\nimplementation(&quot;org.springframework.boot:spring-boot-starter-actuator&quot;)\nimplementation('ch.qos.logback:logback-core:1.2.11')\n\n\ntestImplementation(&quot;org.springframework.boot:spring-boot-starter-test&quot;)\n}\n\ntest {\n    useJUnitPlatform()\n}\n\nbootBuildImage {\n    imageName = &quot;abondar/shoppingCart&quot;\n}\n</code></pre>\n<p>From logs I can see the following</p>\n<blockquote>\n<p>Exception encountered during context initialization - cancelling\nrefresh attempt:\norg.springframework.context.ApplicationContextException: Unable to\nstart web server; nested exception is\norg.springframework.boot.web.context.MissingWebServerFactoryBeanException:\nNo qualifying bean of type\n'org.springframework.boot.web.servlet.server.ServletWebServerFactory'\navailable: Unable to start\nAnnotationConfigServletWebServerApplicationContext due to missing\nServletWebServerFactory bean 681 [main] ERROR\no.s.b.d.LoggingFailureAnalysisReporter -</p>\n</blockquote>\n<p>What am I missing here?</p>\n"},{"tags":["java","casting","int","micro-optimization"],"comments":[{"owner":{"account_id":289676,"reputation":18494,"user_id":590790,"accept_rate":70,"display_name":"Steven Jeuris"},"score":4,"creation_date":1305229012,"post_id":5983472,"comment_id":6906948,"body_markdown":"A quick simple benchmark should solve your question. I&#39;m guessing you shouldn&#39;t worry too much about the performance.","body":"A quick simple benchmark should solve your question. I&#39;m guessing you shouldn&#39;t worry too much about the performance."}],"answers":[{"tags":[],"owner":{"account_id":110937,"reputation":10882,"user_id":293330,"display_name":"Kaj"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1305229034,"creation_date":1305229034,"answer_id":5983501,"question_id":5983472,"body_markdown":"You can neglect the cost of that cast. You won&#39;t notice thousands of such casts.\r\n","title":"How expensive it is to cast from int to short in Java","body":"<p>You can neglect the cost of that cast. You won't notice thousands of such casts.</p>\n"},{"tags":[],"owner":{"account_id":287824,"reputation":38852,"user_id":587884,"accept_rate":86,"display_name":"Heisenbug"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1305229045,"creation_date":1305229045,"answer_id":5983505,"question_id":5983472,"body_markdown":"No. It won&#39;t impact performances. It is a single simple operation.\r\nWhen you want to analize performances of a software you better focus on the computational cost of algorithmic operations based on the size of input.","title":"How expensive it is to cast from int to short in Java","body":"<p>No. It won't impact performances. It is a single simple operation.\nWhen you want to analize performances of a software you better focus on the computational cost of algorithmic operations based on the size of input.</p>\n"},{"tags":[],"owner":{"account_id":21804,"reputation":7207,"user_id":53300,"accept_rate":53,"display_name":"DaveH"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1305229287,"creation_date":1305229287,"answer_id":5983554,"question_id":5983472,"body_markdown":"I think the safe practice is to not worry about performance until you have a performance problem. And when you do have a performance problem, it&#39;s extremely likely that in most business applications the majority of an applications sluggishness can be accounted for in its interactions with the disk and/or network. I think it&#39;s very unlikely that micro optimizations like this will have much of an impact on your performance.","title":"How expensive it is to cast from int to short in Java","body":"<p>I think the safe practice is to not worry about performance until you have a performance problem. And when you do have a performance problem, it's extremely likely that in most business applications the majority of an applications sluggishness can be accounted for in its interactions with the disk and/or network. I think it's very unlikely that micro optimizations like this will have much of an impact on your performance.</p>\n"},{"tags":[],"owner":{"account_id":111302,"reputation":4393,"user_id":294097,"accept_rate":67,"display_name":"John Kane"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1305230740,"creation_date":1305229298,"answer_id":5983556,"question_id":5983472,"body_markdown":"Why do you need to do this? I do not think that it would effect performance that much, but keep in mind the range of the data type you need: \r\n\r\n    int:   -2,147,483,648 to 2,147,483,647\r\n    short: -32,768 to 32,767","title":"How expensive it is to cast from int to short in Java","body":"<p>Why do you need to do this? I do not think that it would effect performance that much, but keep in mind the range of the data type you need: </p>\n\n<pre><code>int:   -2,147,483,648 to 2,147,483,647\nshort: -32,768 to 32,767\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1305230910,"creation_date":1305230910,"answer_id":5983843,"question_id":5983472,"body_markdown":"The cast is small compared with loading a int from memory or storing a short.  In any case they all cost about 2 nano-second.  If you do thousands of these it will cost a few micro-seconds.","title":"How expensive it is to cast from int to short in Java","body":"<p>The cast is small compared with loading a int from memory or storing a short.  In any case they all cost about 2 nano-second.  If you do thousands of these it will cost a few micro-seconds.</p>\n"},{"tags":[],"owner":{"account_id":5786048,"reputation":1847,"user_id":4565235,"display_name":"David Lilljegren"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1433008053,"creation_date":1433008053,"answer_id":30549396,"question_id":5983472,"body_markdown":"Below is a test for the long case, but can easily be adapted to short.\r\nCasting the int to a long is in this example about 5% slower compared to just passing in the long.\r\n\r\nInterestingly calling the method using an implicit cast is slower thank casting it yourself. \r\n\r\n\r\n   With no cast      : PT0.141517096S\r\n   With cast         : PT0.148024511S\r\n   With implicit cast: PT0.159904349S\r\n\r\n    @Test\r\n    public void testPerformance(){\r\n        long sum =0L;\r\n        long timeCallWithImplicitCast =0;\r\n        long timeCallWithLong =0;\r\n        long timeCallWithCast =0;\r\n\r\n\r\n        for(int j=0;j&lt;2;j++) {//First run warm-up\r\n            timeCallWithCast=0;\r\n            timeCallWithLong=0;\r\n            timeCallWithImplicitCast=0;\r\n            for (int i = 0; i &lt; 10_000_000; i++) {\r\n                long s1 = System.nanoTime();\r\n                sum += shift(i);//Call with int implicit cast\r\n                long e1 = System.nanoTime();\r\n                timeCallWithImplicitCast += (e1 - s1);\r\n            }\r\n            for (int i = 0; i &lt; 10_000_000; i++) {\r\n                long s3 = System.nanoTime();\r\n                sum += shift((long) i);//Call with cast long\r\n                long e3 = System.nanoTime();\r\n                timeCallWithCast += (e3 - s3);\r\n            }\r\n            for (int i = 0; i &lt; 10_000_000; i++) {\r\n                long l = (long) i;\r\n                long s2 = System.nanoTime();\r\n                sum += shift(l);//Call with long\r\n                long e2 = System.nanoTime();\r\n                timeCallWithLong += (e2 - s2);\r\n            }\r\n        }\r\n        System.out.println(&quot;With no cast      : &quot;+ Duration.ofNanos(timeCallWithLong));\r\n        System.out.println(&quot;With cast         : &quot;+Duration.ofNanos(timeCallWithCast));\r\n        System.out.println(&quot;With implicit cast: &quot;+Duration.ofNanos(timeCallWithImplicitCast));\r\n\r\n    }\r\n\r\n    protected long shift(long index){\r\n        return index &lt;&lt; 4;\r\n    }","title":"How expensive it is to cast from int to short in Java","body":"<p>Below is a test for the long case, but can easily be adapted to short.\nCasting the int to a long is in this example about 5% slower compared to just passing in the long.</p>\n\n<p>Interestingly calling the method using an implicit cast is slower thank casting it yourself. </p>\n\n<p>With no cast      : PT0.141517096S\n   With cast         : PT0.148024511S\n   With implicit cast: PT0.159904349S</p>\n\n<pre><code>@Test\npublic void testPerformance(){\n    long sum =0L;\n    long timeCallWithImplicitCast =0;\n    long timeCallWithLong =0;\n    long timeCallWithCast =0;\n\n\n    for(int j=0;j&lt;2;j++) {//First run warm-up\n        timeCallWithCast=0;\n        timeCallWithLong=0;\n        timeCallWithImplicitCast=0;\n        for (int i = 0; i &lt; 10_000_000; i++) {\n            long s1 = System.nanoTime();\n            sum += shift(i);//Call with int implicit cast\n            long e1 = System.nanoTime();\n            timeCallWithImplicitCast += (e1 - s1);\n        }\n        for (int i = 0; i &lt; 10_000_000; i++) {\n            long s3 = System.nanoTime();\n            sum += shift((long) i);//Call with cast long\n            long e3 = System.nanoTime();\n            timeCallWithCast += (e3 - s3);\n        }\n        for (int i = 0; i &lt; 10_000_000; i++) {\n            long l = (long) i;\n            long s2 = System.nanoTime();\n            sum += shift(l);//Call with long\n            long e2 = System.nanoTime();\n            timeCallWithLong += (e2 - s2);\n        }\n    }\n    System.out.println(\"With no cast      : \"+ Duration.ofNanos(timeCallWithLong));\n    System.out.println(\"With cast         : \"+Duration.ofNanos(timeCallWithCast));\n    System.out.println(\"With implicit cast: \"+Duration.ofNanos(timeCallWithImplicitCast));\n\n}\n\nprotected long shift(long index){\n    return index &lt;&lt; 4;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2056278,"reputation":23340,"user_id":1833961,"accept_rate":54,"display_name":"bvdb"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1657572268,"creation_date":1438439339,"answer_id":31762926,"question_id":5983472,"body_markdown":"Leaving philosophical arguments and excuses aside ...\r\n\r\nFirst of all `short` is a special data type. **Java doesn&#39;t really like `short`.** Java actually really loves `int` because **the JVM stack uses 32 bit registers**. And a `short` is a 16-bit datatype (`int` = 32-bit).\r\n\r\nBecause of the 32-bit structure, whenever java moves a short to the stack it is automatically converted to an integer. So, the first thing to wonder about is really, do I want to use `short`&#39;s at all in java ? They come indeed with a cost. That&#39;s why you will rarely ever see any `short` datatype usages in jdk sourcecode.\r\n\r\nThe JVM uses **the [`i2s`][1] operation** when converting an integer to a short. **The exact cost will depend on what JVM you are using and your hardware.** \r\n\r\nYou can find some of the stats [in this paper][2], But the `i2s` is not listed unfortunately. It should take less than 20ns though.\r\n\r\n  [1]: http://cs.au.dk/~mis/dOvs/jvmspec/ref-_i2s.html\r\n  [2]: http://www.cs.nuim.ie/~jpower/Research/Papers/2008/lambert-qapl08.pdf","title":"How expensive it is to cast from int to short in Java","body":"<p>Leaving philosophical arguments and excuses aside ...</p>\n<p>First of all <code>short</code> is a special data type. <strong>Java doesn't really like <code>short</code>.</strong> Java actually really loves <code>int</code> because <strong>the JVM stack uses 32 bit registers</strong>. And a <code>short</code> is a 16-bit datatype (<code>int</code> = 32-bit).</p>\n<p>Because of the 32-bit structure, whenever java moves a short to the stack it is automatically converted to an integer. So, the first thing to wonder about is really, do I want to use <code>short</code>'s at all in java ? They come indeed with a cost. That's why you will rarely ever see any <code>short</code> datatype usages in jdk sourcecode.</p>\n<p>The JVM uses <strong>the <a href=\"http://cs.au.dk/%7Emis/dOvs/jvmspec/ref-_i2s.html\" rel=\"nofollow noreferrer\"><code>i2s</code></a> operation</strong> when converting an integer to a short. <strong>The exact cost will depend on what JVM you are using and your hardware.</strong></p>\n<p>You can find some of the stats <a href=\"http://www.cs.nuim.ie/%7Ejpower/Research/Papers/2008/lambert-qapl08.pdf\" rel=\"nofollow noreferrer\">in this paper</a>, But the <code>i2s</code> is not listed unfortunately. It should take less than 20ns though.</p>\n"}],"owner":{"account_id":262976,"reputation":7161,"user_id":548240,"accept_rate":81,"display_name":"skyork"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3056,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":5983505,"answer_count":7,"score":1,"last_activity_date":1657572268,"creation_date":1305228888,"question_id":5983472,"body_markdown":"In terms of runtime performance, how expensive it is to cast int to short in Java? There may be thousands of such casting, hence I wonder if it would impact the performance or not. Thanks.","title":"How expensive it is to cast from int to short in Java","body":"<p>In terms of runtime performance, how expensive it is to cast int to short in Java? There may be thousands of such casting, hence I wonder if it would impact the performance or not. Thanks.</p>\n"},{"tags":["java","sorting","jpa","spring-data-jpa","nativequery"],"comments":[{"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"score":0,"creation_date":1657610612,"post_id":72943923,"comment_id":128845263,"body_markdown":"&quot;better&quot; in what way? The query looks perfectly fine to me.","body":"&quot;better&quot; in what way? The query looks perfectly fine to me."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1657633472,"post_id":72943923,"comment_id":128853565,"body_markdown":"What did you try exactly and why didn&#39;t it work? Why isn&#39;t &quot;select s from Suceso s join s.personas p, join s.fecha f where p.idpersona = :id order by f.edad asc, f.anyo asc, f.mes asc, f.dia asc, s.norden&quot; working?","body":"What did you try exactly and why didn&#39;t it work? Why isn&#39;t &quot;select s from Suceso s join s.personas p, join s.fecha f where p.idpersona = :id order by f.edad asc, f.anyo asc, f.mes asc, f.dia asc, s.norden&quot; working?"},{"owner":{"account_id":16506868,"reputation":1,"user_id":12232566,"display_name":"alicia_tux"},"score":0,"creation_date":1658420683,"post_id":72943923,"comment_id":129052873,"body_markdown":"it works, but i looks &quot;dirty&quot; to me using native queries in source code :(","body":"it works, but i looks &quot;dirty&quot; to me using native queries in source code :("}],"owner":{"account_id":16506868,"reputation":1,"user_id":12232566,"display_name":"alicia_tux"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657569921,"creation_date":1657568984,"question_id":72943923,"body_markdown":"due to requirements (fictional calendar for fictional world, I can&#39;t use a real date format), the complexity of fictional dates in this project is giving me some headache. \r\nSo, I want to recover all Sucesos (events) for a Persona (character) ordered by this fictional date, and I have written this functional nativeQuery, that works ok:\r\n\r\n    @Query(value = &quot;select * from Suceso s &quot;\r\n\t\t\t+ &quot;inner join personasuceso ps on s.idsuceso = ps.idsuceso &quot;\r\n\t\t\t+ &quot;inner join persona p on ps.idpersona = p.idpersona &quot;\r\n\t\t\t+ &quot;inner join fecha f on s.fkfecha = f.idfecha &quot;\r\n\t\t\t+ &quot;where p.idpersona = :id &quot;\r\n\t\t\t+ &quot;order by f.fkedad asc, f.anyo asc, f.fkmes asc, f.fkdia asc, s.norden&quot;, nativeQuery = true)\r\n\tpublic Set&lt;Suceso&gt; findAllInPersona_IdPersona(@Param(&quot;id&quot;)Integer id);\r\n\r\n**Is there a better way to implement such a complex ordering??**\r\nI have tried everything I know and everything I found, no success. \r\n\r\nHere are the Entities (simplified):\r\n\r\n   &lt;pre&gt;&lt;code&gt;\r\n\r\n    @Entity\r\n    @Table(name = &quot;persona&quot;)\r\n    public class Persona implements java.io.Serializable {\r\n       private Integer idpersona;\r\n       @ManyToMany(mappedBy = &quot;personas&quot;)\r\n       public Set&lt;Suceso&gt; getSucesos() {\r\n          return sucesos;\r\n       }\r\n    }\r\n    \r\n    @Entity\r\n    @Table(name = &quot;suceso&quot;)\r\n    public class Suceso implements java.io.Serializable {\r\n       private Integer idsuceso;\r\n       private Fecha fecha;\r\n       private integer norden;\r\n        @ManyToOne()\r\n    \t@JoinColumn(name = &quot;fkfecha&quot;)\r\n    \tpublic Fecha getFecha() {\r\n    \t\treturn this.fecha;\r\n    \t}\r\n        @ManyToMany(cascade = { CascadeType.PERSIST, CascadeType.MERGE })\r\n    \t@JoinTable(name = &quot;personasuceso&quot;, joinColumns = { @JoinColumn(name = &quot;idsuceso&quot;) }, inverseJoinColumns = {\r\n    \t\t\t@JoinColumn(name = &quot;idpersona&quot;) })\r\n    \tpublic Set&lt;Persona&gt; getPersonas() {\r\n    \t\treturn personas;\r\n    \t}\r\n    }\r\n    \r\n    @Entity\r\n    @Table(name = &quot;fecha&quot;)\r\n    public class Fecha implements java.io.Serializable {\r\n        private Integer idfecha;\r\n    \tprivate Dia dia;\r\n    \tprivate Edad edad;\r\n    \tprivate Mes mes;\r\n    \tprivate Integer anyo;\r\n        \r\n        @ManyToOne()\r\n    \t@JoinColumn(name = &quot;fkedad&quot;)\r\n    \tpublic Edad getEdad() {\r\n    \t\treturn this.edad;\r\n    \t}\r\n    \r\n        @ManyToOne()\r\n    \t@JoinColumn(name = &quot;fkmes&quot;)\r\n    \tpublic Mes getMes() {\r\n    \t\treturn this.mes;\r\n    \t}\r\n        \r\n        @ManyToOne()\r\n    \t@JoinColumn(name = &quot;fkdia&quot;)\r\n    \tpublic Dia getDia() {\r\n    \t\treturn this.dia;\r\n    \t}\r\n    }\r\n        \r\n    @Entity\r\n    @Table(name = &quot;edad&quot;)\r\n    public class Edad implements java.io.Serializable {\r\n        private Integer idedad;\r\n    }\r\n    \r\n    @Entity\r\n    @Table(name = &quot;mes&quot;)\r\n    public class Mes implements java.io.Serializable {\r\n        private Integer idmes;\r\n    }\r\n    \r\n    @Entity\r\n    @Table(name = &quot;dia&quot;)\r\n    public class Dia implements java.io.Serializable {\r\n        private Integer iddia;\r\n    }\r\n\r\n&lt;/pre&gt;&lt;/code&gt;\r\n\r\nThanks!!","title":"JpaRepository, don&#39;t now how to migrate NativeQuery to something better due to complex sorting sequence","body":"<p>due to requirements (fictional calendar for fictional world, I can't use a real date format), the complexity of fictional dates in this project is giving me some headache.\nSo, I want to recover all Sucesos (events) for a Persona (character) ordered by this fictional date, and I have written this functional nativeQuery, that works ok:</p>\n<pre><code>@Query(value = &quot;select * from Suceso s &quot;\n        + &quot;inner join personasuceso ps on s.idsuceso = ps.idsuceso &quot;\n        + &quot;inner join persona p on ps.idpersona = p.idpersona &quot;\n        + &quot;inner join fecha f on s.fkfecha = f.idfecha &quot;\n        + &quot;where p.idpersona = :id &quot;\n        + &quot;order by f.fkedad asc, f.anyo asc, f.fkmes asc, f.fkdia asc, s.norden&quot;, nativeQuery = true)\npublic Set&lt;Suceso&gt; findAllInPersona_IdPersona(@Param(&quot;id&quot;)Integer id);\n</code></pre>\n<p><strong>Is there a better way to implement such a complex ordering??</strong>\nI have tried everything I know and everything I found, no success.</p>\n<p>Here are the Entities (simplified):</p>\n   <pre><code>\n\n    @Entity\n    @Table(name = \"persona\")\n    public class Persona implements java.io.Serializable {\n       private Integer idpersona;\n       @ManyToMany(mappedBy = \"personas\")\n       public Set getSucesos() {\n          return sucesos;\n       }\n    }\n    \n    @Entity\n    @Table(name = \"suceso\")\n    public class Suceso implements java.io.Serializable {\n       private Integer idsuceso;\n       private Fecha fecha;\n       private integer norden;\n        @ManyToOne()\n        @JoinColumn(name = \"fkfecha\")\n        public Fecha getFecha() {\n            return this.fecha;\n        }\n        @ManyToMany(cascade = { CascadeType.PERSIST, CascadeType.MERGE })\n        @JoinTable(name = \"personasuceso\", joinColumns = { @JoinColumn(name = \"idsuceso\") }, inverseJoinColumns = {\n                @JoinColumn(name = \"idpersona\") })\n        public Set getPersonas() {\n            return personas;\n        }\n    }\n    \n    @Entity\n    @Table(name = \"fecha\")\n    public class Fecha implements java.io.Serializable {\n        private Integer idfecha;\n        private Dia dia;\n        private Edad edad;\n        private Mes mes;\n        private Integer anyo;\n        \n        @ManyToOne()\n        @JoinColumn(name = \"fkedad\")\n        public Edad getEdad() {\n            return this.edad;\n        }\n    \n        @ManyToOne()\n        @JoinColumn(name = \"fkmes\")\n        public Mes getMes() {\n            return this.mes;\n        }\n        \n        @ManyToOne()\n        @JoinColumn(name = \"fkdia\")\n        public Dia getDia() {\n            return this.dia;\n        }\n    }\n        \n    @Entity\n    @Table(name = \"edad\")\n    public class Edad implements java.io.Serializable {\n        private Integer idedad;\n    }\n    \n    @Entity\n    @Table(name = \"mes\")\n    public class Mes implements java.io.Serializable {\n        private Integer idmes;\n    }\n    \n    @Entity\n    @Table(name = \"dia\")\n    public class Dia implements java.io.Serializable {\n        private Integer iddia;\n    }\n\n</pre></code>\n<p>Thanks!!</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":21018259,"reputation":1802,"user_id":15445218,"display_name":"Vaibhav Goyal"},"score":0,"creation_date":1657592639,"post_id":72944034,"comment_id":128841908,"body_markdown":"Starting with Android 11, you can&#39;t directly write files to the storage directory path instead you must use `MediaQuery` classes which you can learn more here, https://www.raywenderlich.com/10768834-scoped-storage-tutorial-for-android-11-deep-dive","body":"Starting with Android 11, you can&#39;t directly write files to the storage directory path instead you must use <code>MediaQuery</code> classes which you can learn more here, <a href=\"https://www.raywenderlich.com/10768834-scoped-storage-tutorial-for-android-11-deep-dive\" rel=\"nofollow noreferrer\">raywenderlich.com/&hellip;</a>"}],"owner":{"account_id":24419837,"reputation":21,"user_id":18346256,"display_name":"Brian Kunak"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1657569652,"creation_date":1657569652,"question_id":72944034,"body_markdown":"I switched from `Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_PICTURES)` to the supported `getExternalFilesDir(Environment.DIRECTORY_PICTURES)` but now when an image is taken the camera app stops and the image isn&#39;t accessible. Using android 12.0 API 31.\r\n\r\n```\r\nprivate File createImageFile() throws IOException {\r\n        // Create an image file name\r\n        String timeStamp = new SimpleDateFormat(&quot;yyyyMMdd_HHmmss&quot;).format(new Date());\r\n        String imageFileName = &quot;JPEG_&quot; + timeStamp + &quot;_&quot;;\r\n        File storageDir = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_PICTURES);\r\n        //File storageDir = getExternalFilesDir(null).getAbsoluteFile();\r\n\r\n        File imageFile = File.createTempFile(\r\n                imageFileName,  /* prefix */\r\n                &quot;.jpg&quot;,         /* suffix */\r\n                storageDir      /* directory */\r\n        );\r\n\r\n        System.out.print(storageDir);\r\n\r\n        return imageFile;\r\n    }\r\n```\r\n\r\n```\r\n    public void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n\r\n        if (requestCode != INPUT_FILE_REQUEST_CODE || mUploadMessage == null) {\r\n            super.onActivityResult(requestCode, resultCode, data);\r\n            return;\r\n        }\r\n        try {\r\n            String file_path = mCameraPhotoPath.replace(&quot;file:&quot;,&quot;&quot;);\r\n            File file = new File(file_path);\r\n            size = file.length();\r\n            Uri x =data.getData();\r\n\r\n        }catch (Exception e){\r\n            Log.e(&quot;Error!&quot;, &quot;Error while opening image file&quot; + e.getLocalizedMessage());\r\n        }\r\n\r\n        if (data != null || mCameraPhotoPath != null) {\r\n            Integer count = 0;\r\n            ClipData images = null;\r\n            try {\r\n                images = data.getClipData();\r\n            }catch (Exception e) {\r\n                Log.e(&quot;Error!&quot;, e.getLocalizedMessage());\r\n            }\r\n\r\n            if (images == null &amp;&amp; data != null &amp;&amp; data.getDataString() != null) {\r\n                count = data.getDataString().length();\r\n            } else if (images != null) {\r\n                count = images.getItemCount();\r\n            }\r\n            Uri[] results = new Uri[count];\r\n            // Check that the response is a good one\r\n            if (resultCode == Activity.RESULT_OK) {\r\n                if (size != 0) {\r\n                    // If there is not data, then we may have taken a photo\r\n                    if (mCameraPhotoPath != null) {\r\n                        results = new Uri[]{Uri.parse(mCameraPhotoPath)};\r\n                    }\r\n                } else if (data.getClipData() == null) {\r\n                    results = new Uri[]{Uri.parse(data.getDataString())};\r\n                } else {\r\n\r\n                    for (int i = 0; i &lt; images.getItemCount(); i++) {\r\n                        results[i] = images.getItemAt(i).getUri();\r\n                    }\r\n                }\r\n            }\r\n\r\n            mUploadMessage.onReceiveValue(results);\r\n            mUploadMessage = null;\r\n        }\r\n    }\r\n```","title":"Camera stopped working after changing to getExternalFilesDir()","body":"<p>I switched from <code>Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_PICTURES)</code> to the supported <code>getExternalFilesDir(Environment.DIRECTORY_PICTURES)</code> but now when an image is taken the camera app stops and the image isn't accessible. Using android 12.0 API 31.</p>\n<pre><code>private File createImageFile() throws IOException {\n        // Create an image file name\n        String timeStamp = new SimpleDateFormat(&quot;yyyyMMdd_HHmmss&quot;).format(new Date());\n        String imageFileName = &quot;JPEG_&quot; + timeStamp + &quot;_&quot;;\n        File storageDir = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_PICTURES);\n        //File storageDir = getExternalFilesDir(null).getAbsoluteFile();\n\n        File imageFile = File.createTempFile(\n                imageFileName,  /* prefix */\n                &quot;.jpg&quot;,         /* suffix */\n                storageDir      /* directory */\n        );\n\n        System.out.print(storageDir);\n\n        return imageFile;\n    }\n</code></pre>\n<pre><code>    public void onActivityResult(int requestCode, int resultCode, Intent data) {\n\n        if (requestCode != INPUT_FILE_REQUEST_CODE || mUploadMessage == null) {\n            super.onActivityResult(requestCode, resultCode, data);\n            return;\n        }\n        try {\n            String file_path = mCameraPhotoPath.replace(&quot;file:&quot;,&quot;&quot;);\n            File file = new File(file_path);\n            size = file.length();\n            Uri x =data.getData();\n\n        }catch (Exception e){\n            Log.e(&quot;Error!&quot;, &quot;Error while opening image file&quot; + e.getLocalizedMessage());\n        }\n\n        if (data != null || mCameraPhotoPath != null) {\n            Integer count = 0;\n            ClipData images = null;\n            try {\n                images = data.getClipData();\n            }catch (Exception e) {\n                Log.e(&quot;Error!&quot;, e.getLocalizedMessage());\n            }\n\n            if (images == null &amp;&amp; data != null &amp;&amp; data.getDataString() != null) {\n                count = data.getDataString().length();\n            } else if (images != null) {\n                count = images.getItemCount();\n            }\n            Uri[] results = new Uri[count];\n            // Check that the response is a good one\n            if (resultCode == Activity.RESULT_OK) {\n                if (size != 0) {\n                    // If there is not data, then we may have taken a photo\n                    if (mCameraPhotoPath != null) {\n                        results = new Uri[]{Uri.parse(mCameraPhotoPath)};\n                    }\n                } else if (data.getClipData() == null) {\n                    results = new Uri[]{Uri.parse(data.getDataString())};\n                } else {\n\n                    for (int i = 0; i &lt; images.getItemCount(); i++) {\n                        results[i] = images.getItemAt(i).getUri();\n                    }\n                }\n            }\n\n            mUploadMessage.onReceiveValue(results);\n            mUploadMessage = null;\n        }\n    }\n</code></pre>\n"},{"tags":["java","spring","angular","spring-boot","angular6"],"comments":[{"owner":{"account_id":2028868,"reputation":5918,"user_id":1813169,"accept_rate":70,"display_name":"MTCoster"},"score":0,"creation_date":1541858350,"post_id":53239615,"comment_id":93365155,"body_markdown":"Note from the documentation for [`ClassPathResource(path)`](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/io/ClassPathResource.html#ClassPathResource-java.lang.String-): *A leading slash will be removed, as the ClassLoader resource access methods will not accept it.*","body":"Note from the documentation for <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/io/ClassPathResource.html#ClassPathResource-java.lang.String-\" rel=\"nofollow noreferrer\"><code>ClassPathResource(path)</code></a>: <i>A leading slash will be removed, as the ClassLoader resource access methods will not accept it.</i>"},{"owner":{"account_id":1344997,"reputation":1348,"user_id":1285928,"accept_rate":56,"display_name":"user1285928"},"score":0,"creation_date":1541859700,"post_id":53239615,"comment_id":93365566,"body_markdown":"So what should I change?","body":"So what should I change?"},{"owner":{"account_id":2028868,"reputation":5918,"user_id":1813169,"accept_rate":70,"display_name":"MTCoster"},"score":0,"creation_date":1541859940,"post_id":53239615,"comment_id":93365631,"body_markdown":"I think the larger problem here is that `ClassPathResource` is cannot reference arbitrary parts of the filesystem - it can only find resources from within your current classpath. In this instance, it&#39;s also unnecessary - why not just use [`FileInputStream(name)`](https://docs.oracle.com/javase/8/docs/api/java/io/FileInputStream.html#FileInputStream-java.lang.String-)?","body":"I think the larger problem here is that <code>ClassPathResource</code> is cannot reference arbitrary parts of the filesystem - it can only find resources from within your current classpath. In this instance, it&#39;s also unnecessary - why not just use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/io/FileInputStream.html#FileInputStream-java.lang.String-\" rel=\"nofollow noreferrer\"><code>FileInputStream(name)</code></a>?"}],"answers":[{"tags":[],"owner":{"account_id":1939876,"reputation":111,"user_id":1746308,"display_name":"bipe15"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1541866294,"creation_date":1541860336,"answer_id":53239961,"question_id":53239615,"body_markdown":"Since you are using ClasspathResource, you can only get files &quot;*within*&quot; the classpath.\r\n\r\nIf your file is outside of the classpath you can&#39;t get it in that way.\r\n\r\n    private static final Logger LOG = LoggerFactory.getLogger(DownloadsController.class);\r\n    \r\n    private static final String EXTERNAL_FILE_PATH = &quot;/Users/test/Documents/blacklist_api.pdf&quot;;\r\n    \r\n    @GetMapping(&quot;export&quot;)\r\n    public ResponseEntity&lt;InputStreamResource&gt; export() throws IOException {\r\n        File pdfFile = Paths.get(EXTERNAL_FILE_PATH).toFile();\r\n    \r\n        HttpHeaders headers = new HttpHeaders();\r\n        headers.add(&quot;Cache-Control&quot;, &quot;no-cache, no-store, must-revalidate&quot;);\r\n        headers.add(&quot;Pragma&quot;, &quot;no-cache&quot;);\r\n        headers.add(&quot;Expires&quot;, &quot;0&quot;);\r\n    \r\n        return ResponseEntity.ok().headers(headers).contentLength(pdfFile.length())\r\n                .contentType(MediaType.parseMediaType(&quot;application/pdf&quot;))\r\n                .body(new FileInputStream(pdfFile));\r\n    }\r\n\r\nI changed the way you take the file, for a File and not a ClassPathResource.\r\n\r\nI modified that piece of code on the fly, sorry if there&#39;s any mistake. I hope it can help\r\n","title":"Cannot download file: cannot be resolved to URL because it does not exist with Spring","body":"<p>Since you are using ClasspathResource, you can only get files \"<em>within</em>\" the classpath.</p>\n\n<p>If your file is outside of the classpath you can't get it in that way.</p>\n\n<pre><code>private static final Logger LOG = LoggerFactory.getLogger(DownloadsController.class);\n\nprivate static final String EXTERNAL_FILE_PATH = \"/Users/test/Documents/blacklist_api.pdf\";\n\n@GetMapping(\"export\")\npublic ResponseEntity&lt;InputStreamResource&gt; export() throws IOException {\n    File pdfFile = Paths.get(EXTERNAL_FILE_PATH).toFile();\n\n    HttpHeaders headers = new HttpHeaders();\n    headers.add(\"Cache-Control\", \"no-cache, no-store, must-revalidate\");\n    headers.add(\"Pragma\", \"no-cache\");\n    headers.add(\"Expires\", \"0\");\n\n    return ResponseEntity.ok().headers(headers).contentLength(pdfFile.length())\n            .contentType(MediaType.parseMediaType(\"application/pdf\"))\n            .body(new FileInputStream(pdfFile));\n}\n</code></pre>\n\n<p>I changed the way you take the file, for a File and not a ClassPathResource.</p>\n\n<p>I modified that piece of code on the fly, sorry if there's any mistake. I hope it can help</p>\n"},{"tags":[],"owner":{"account_id":374564,"reputation":4903,"user_id":724835,"accept_rate":100,"display_name":"JustinKSU"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657569037,"creation_date":1657569037,"answer_id":72943928,"question_id":53239615,"body_markdown":"    public static final String TEMPLATE_NAME = &quot;filename.csv&quot;;\r\n    \r\n    @Value(&quot;templates/&quot; + TEMPLATE_NAME)\r\n    private ClassPathResource TEMPLATE;\r\n    \r\n    @GetMapping(value = &quot;/download/template&quot;, produces = MediaType.APPLICATION_OCTET_STREAM_VALUE)\r\n    public void getTemplate(HttpServletResponse response) throws IOException {\r\n        response.setHeader(&quot;Content-Disposition&quot;, &quot;attachment; filename=&quot; + TEMPLATE_NAME);\r\n        IOUtils.copy(TEMPLATE.getInputStream(), response.getOutputStream());\r\n        response.flushBuffer();\r\n    }","title":"Cannot download file: cannot be resolved to URL because it does not exist with Spring","body":"<pre><code>public static final String TEMPLATE_NAME = &quot;filename.csv&quot;;\n\n@Value(&quot;templates/&quot; + TEMPLATE_NAME)\nprivate ClassPathResource TEMPLATE;\n\n@GetMapping(value = &quot;/download/template&quot;, produces = MediaType.APPLICATION_OCTET_STREAM_VALUE)\npublic void getTemplate(HttpServletResponse response) throws IOException {\n    response.setHeader(&quot;Content-Disposition&quot;, &quot;attachment; filename=&quot; + TEMPLATE_NAME);\n    IOUtils.copy(TEMPLATE.getInputStream(), response.getOutputStream());\n    response.flushBuffer();\n}\n</code></pre>\n"}],"owner":{"account_id":1344997,"reputation":1348,"user_id":1285928,"accept_rate":56,"display_name":"user1285928"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21171,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1657569227,"creation_date":1541857686,"question_id":53239615,"body_markdown":"I want to implement file download using this Angular 6 code:\r\n\r\nRest API:\r\n\r\n    private static final Logger LOG = LoggerFactory.getLogger(DownloadsController.class);\r\n\r\n\tprivate static final String EXTERNAL_FILE_PATH = &quot;/Users/test/Documents/blacklist_api.pdf&quot;;\r\n\r\n\t@GetMapping(&quot;export&quot;)\r\n\tpublic ResponseEntity&lt;InputStreamResource&gt; export() throws IOException {\r\n\t\tClassPathResource pdfFile = new ClassPathResource(EXTERNAL_FILE_PATH);\r\n\r\n\t\tHttpHeaders headers = new HttpHeaders();\r\n\t\theaders.add(&quot;Cache-Control&quot;, &quot;no-cache, no-store, must-revalidate&quot;);\r\n\t\theaders.add(&quot;Pragma&quot;, &quot;no-cache&quot;);\r\n\t\theaders.add(&quot;Expires&quot;, &quot;0&quot;);\r\n\r\n\t\treturn ResponseEntity.ok().headers(headers).contentLength(pdfFile.contentLength())\r\n\t\t\t\t.contentType(MediaType.parseMediaType(&quot;application/pdf&quot;))\r\n\t\t\t\t.body(new InputStreamResource(pdfFile.getInputStream()));\r\n\t}\r\n\r\nService:\r\n\r\n    import {Component, OnInit} from &#39;@angular/core&#39;;\r\n    import {DownloadService} from &quot;../service/download.service&quot;;\r\n    import {ActivatedRoute, Router} from &quot;@angular/router&quot;;\r\n    import {flatMap} from &quot;rxjs/internal/operators&quot;;\r\n    import {of} from &quot;rxjs/index&quot;;\r\n    import { map } from &#39;rxjs/operators&#39;;\r\n    \r\n    @Component({\r\n      selector: &#39;app-download&#39;,\r\n      templateUrl: &#39;./download.component.html&#39;,\r\n      styleUrls: [&#39;./download.component.scss&#39;]\r\n    })\r\n    export class DownloadComponent implements OnInit {\r\n    \r\n      constructor(private downloadService: DownloadService,\r\n                  private router: Router,\r\n                  private route: ActivatedRoute) {\r\n      }\r\n    \r\n      ngOnInit() {\t \r\n      }\r\n        \r\n      export() {               \r\n        this.downloadService.downloadPDF().subscribe(res =&gt; {\r\n          const fileURL = URL.createObjectURL(res);\r\n          window.open(fileURL, &#39;_blank&#39;);\r\n        });         \r\n      } \r\n    }\r\n\r\nComponent:\r\n\r\n    import {Component, OnInit} from &#39;@angular/core&#39;;\r\n    import {DownloadService} from &quot;../service/download.service&quot;;\r\n    import {ActivatedRoute, Router} from &quot;@angular/router&quot;;\r\n    import {flatMap} from &quot;rxjs/internal/operators&quot;;\r\n    import {of} from &quot;rxjs/index&quot;;\r\n    import { map } from &#39;rxjs/operators&#39;;\r\n    \r\n    @Component({\r\n      selector: &#39;app-download&#39;,\r\n      templateUrl: &#39;./download.component.html&#39;,\r\n      styleUrls: [&#39;./download.component.scss&#39;]\r\n    })\r\n    export class DownloadComponent implements OnInit {\r\n    \r\n      constructor(private downloadService: DownloadService,\r\n                  private router: Router,\r\n                  private route: ActivatedRoute) {\r\n      }\r\n    \r\n      ngOnInit() {\t \r\n      }\r\n        \r\n      export() {               \r\n        this.downloadService.downloadPDF().subscribe(res =&gt; {\r\n          const fileURL = URL.createObjectURL(res);\r\n          window.open(fileURL, &#39;_blank&#39;);\r\n        });         \r\n      } \r\n    }\r\n\r\nWhen I click download button I get this Spring error:\r\n\r\n    15:28:02,819 ERROR [org.springframework.boot.web.servlet.support.ErrorPageFilter] (default task-1) Forwarding to error page from request [/downloads/export] due to exception [class path resource [Users/test/Documents/blacklist_api.pdf] cannot be resolved to URL because it does not exist]: java.io.FileNotFoundException: class path resource [Users/test/Documents/blacklist_api.pdf] cannot be resolved to URL because it does not exist\r\n    \tat deployment.test_admin.war//org.springframework.core.io.ClassPathResource.getURL(ClassPathResource.java:195)\r\n\r\nThe file is present in the directory but looks like it&#39;s located outside of the war package and Wildly I can&#39;t access it. Is there any way to configure Java to access it and download it?\r\n\t","title":"Cannot download file: cannot be resolved to URL because it does not exist with Spring","body":"<p>I want to implement file download using this Angular 6 code:</p>\n\n<p>Rest API:</p>\n\n<pre><code>private static final Logger LOG = LoggerFactory.getLogger(DownloadsController.class);\n\nprivate static final String EXTERNAL_FILE_PATH = \"/Users/test/Documents/blacklist_api.pdf\";\n\n@GetMapping(\"export\")\npublic ResponseEntity&lt;InputStreamResource&gt; export() throws IOException {\n    ClassPathResource pdfFile = new ClassPathResource(EXTERNAL_FILE_PATH);\n\n    HttpHeaders headers = new HttpHeaders();\n    headers.add(\"Cache-Control\", \"no-cache, no-store, must-revalidate\");\n    headers.add(\"Pragma\", \"no-cache\");\n    headers.add(\"Expires\", \"0\");\n\n    return ResponseEntity.ok().headers(headers).contentLength(pdfFile.contentLength())\n            .contentType(MediaType.parseMediaType(\"application/pdf\"))\n            .body(new InputStreamResource(pdfFile.getInputStream()));\n}\n</code></pre>\n\n<p>Service:</p>\n\n<pre><code>import {Component, OnInit} from '@angular/core';\nimport {DownloadService} from \"../service/download.service\";\nimport {ActivatedRoute, Router} from \"@angular/router\";\nimport {flatMap} from \"rxjs/internal/operators\";\nimport {of} from \"rxjs/index\";\nimport { map } from 'rxjs/operators';\n\n@Component({\n  selector: 'app-download',\n  templateUrl: './download.component.html',\n  styleUrls: ['./download.component.scss']\n})\nexport class DownloadComponent implements OnInit {\n\n  constructor(private downloadService: DownloadService,\n              private router: Router,\n              private route: ActivatedRoute) {\n  }\n\n  ngOnInit() {   \n  }\n\n  export() {               \n    this.downloadService.downloadPDF().subscribe(res =&gt; {\n      const fileURL = URL.createObjectURL(res);\n      window.open(fileURL, '_blank');\n    });         \n  } \n}\n</code></pre>\n\n<p>Component:</p>\n\n<pre><code>import {Component, OnInit} from '@angular/core';\nimport {DownloadService} from \"../service/download.service\";\nimport {ActivatedRoute, Router} from \"@angular/router\";\nimport {flatMap} from \"rxjs/internal/operators\";\nimport {of} from \"rxjs/index\";\nimport { map } from 'rxjs/operators';\n\n@Component({\n  selector: 'app-download',\n  templateUrl: './download.component.html',\n  styleUrls: ['./download.component.scss']\n})\nexport class DownloadComponent implements OnInit {\n\n  constructor(private downloadService: DownloadService,\n              private router: Router,\n              private route: ActivatedRoute) {\n  }\n\n  ngOnInit() {   \n  }\n\n  export() {               \n    this.downloadService.downloadPDF().subscribe(res =&gt; {\n      const fileURL = URL.createObjectURL(res);\n      window.open(fileURL, '_blank');\n    });         \n  } \n}\n</code></pre>\n\n<p>When I click download button I get this Spring error:</p>\n\n<pre><code>15:28:02,819 ERROR [org.springframework.boot.web.servlet.support.ErrorPageFilter] (default task-1) Forwarding to error page from request [/downloads/export] due to exception [class path resource [Users/test/Documents/blacklist_api.pdf] cannot be resolved to URL because it does not exist]: java.io.FileNotFoundException: class path resource [Users/test/Documents/blacklist_api.pdf] cannot be resolved to URL because it does not exist\n    at deployment.test_admin.war//org.springframework.core.io.ClassPathResource.getURL(ClassPathResource.java:195)\n</code></pre>\n\n<p>The file is present in the directory but looks like it's located outside of the war package and Wildly I can't access it. Is there any way to configure Java to access it and download it?</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":25754054,"reputation":1,"user_id":19506069,"display_name":"Glen"},"score":1,"creation_date":1657555485,"post_id":72941425,"comment_id":128833092,"body_markdown":"Maybe there is another way to create squares around JLabels and JTextFields? is there a way to create a border around individual JLabels and a border around a JTextField?","body":"Maybe there is another way to create squares around JLabels and JTextFields? is there a way to create a border around individual JLabels and a border around a JTextField?"},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1657557515,"post_id":72941425,"comment_id":128833783,"body_markdown":"I would recommend writing a Word class and  perhaps a Letter class to hold status information, and a draw method.","body":"I would recommend writing a Word class and  perhaps a Letter class to hold status information, and a draw method."},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1657558827,"post_id":72941425,"comment_id":128834236,"body_markdown":"You might get some hints by reading this [Wordle explanation](https://github.com/ggleblanc2/wordle#readme).","body":"You might get some hints by reading this <a href=\"https://github.com/ggleblanc2/wordle#readme\" rel=\"nofollow noreferrer\">Wordle explanation</a>."}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657568848,"creation_date":1657568848,"answer_id":72943897,"question_id":72941425,"body_markdown":"There are solutions to everything you asked. So let&#39;s see from where to take it.\r\n\r\n1) you can add a border to any JComponent and it&#39;s subclasses. Just use [setBorder()][1].\r\n2) To have a JLabel with rectangles around each of the letters, you probably are better off not using a JLabel at all. Subclass JComponent, add a String property so you know which text to render, then override the [paintComponent()][2] method. All you need is to loop over the string&#39;s characters, calculate the character size via the GraphicsContext and the Font, add space for your box. Then draw the box using [g.drawRect()][3], finally [g.drawString()][4].\r\n3) To organize the position use LayoutMangers. [GridBagLayout][5] is the most powerful one and will do anything you require. Check out the nice [tutorial][6].\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/JComponent.html#setBorder(javax.swing.border.Border)\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/JComponent.html#paintComponent(java.awt.Graphics)\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/awt/Graphics.html#drawRect(int,int,int,int)\r\n  [4]: https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/awt/Graphics.html#drawString(java.lang.String,int,int)\r\n  [5]: https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/awt/GridBagLayout.html\r\n  [6]: https://docs.oracle.com/javase/tutorial/uiswing/layout/using.html","title":"Im having trouble trying to display graphics in my JFrame","body":"<p>There are solutions to everything you asked. So let's see from where to take it.</p>\n<ol>\n<li>you can add a border to any JComponent and it's subclasses. Just use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/JComponent.html#setBorder(javax.swing.border.Border)\" rel=\"nofollow noreferrer\">setBorder()</a>.</li>\n<li>To have a JLabel with rectangles around each of the letters, you probably are better off not using a JLabel at all. Subclass JComponent, add a String property so you know which text to render, then override the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/JComponent.html#paintComponent(java.awt.Graphics)\" rel=\"nofollow noreferrer\">paintComponent()</a> method. All you need is to loop over the string's characters, calculate the character size via the GraphicsContext and the Font, add space for your box. Then draw the box using <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/awt/Graphics.html#drawRect(int,int,int,int)\" rel=\"nofollow noreferrer\">g.drawRect()</a>, finally <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/awt/Graphics.html#drawString(java.lang.String,int,int)\" rel=\"nofollow noreferrer\">g.drawString()</a>.</li>\n<li>To organize the position use LayoutMangers. <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/awt/GridBagLayout.html\" rel=\"nofollow noreferrer\">GridBagLayout</a> is the most powerful one and will do anything you require. Check out the nice <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/using.html\" rel=\"nofollow noreferrer\">tutorial</a>.</li>\n</ol>\n"}],"owner":{"account_id":25754054,"reputation":1,"user_id":19506069,"display_name":"Glen"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657568848,"creation_date":1657555292,"question_id":72941425,"body_markdown":"I am trying to create game with a similar layout to Wordle where there is a 5 letter scrambled word displayed and below it there are 5 separate text fields for the user to input what order the letters of the scrambled word will go in. Basically they have to unscramble the word. Sorry for the bad explanation.\r\n\r\nIam trying to make rectangles/squares around each of the letters of the JLabels lb1, lb2, lb3, lb4, lb5 and around each of the JTextFields tf1, tf2, tf3, tf4, tf5. I cannot figure out how to display these rectangles at all but also how they will display on top of JPanels that are already in place.\r\n\r\nAlso just a bonus here, Is there anyway to organise these labels and text fields so that i can set there exact position? i would like to have 5 of the labels on top of 5 of the text fields.\r\n\r\n```\r\nimport java.awt.*;\r\nimport javax.swing.*;\r\n\r\n\r\n\r\npublic class scramble extends JFrame {\r\n\r\n    Font mainFont = new Font(&quot;Impact&quot;, Font.BOLD, 60);\r\n    Font smallFont = new Font(&quot;Impact&quot;, Font.BOLD, 30);\r\n\r\n    JLabel lbWelcome;\r\n    JLabel lb1, lb2, lb3, lb4, lb5;\r\n    JTextField tf1, tf2, tf3, tf4, tf5;\r\n    JFrame frame;\r\n    GridBagConstraints gbc = new GridBagConstraints();\r\n    \r\n\r\n\r\n    scramble() {\r\n\r\n      gbc.gridx = 0;\r\n      gbc.gridy = 0;\r\n      gbc.anchor = GridBagConstraints.PAGE_START;\r\n      gbc.weightx = 1.0;\r\n      gbc.weighty = 1.0;\r\n\r\n         //mainPanel\r\n         JPanel mainPanel = new JPanel();\r\n         mainPanel.setLayout(new GridBagLayout());\r\n         mainPanel.setBackground(new Color(12, 177, 237));\r\n         mainPanel.setBorder(BorderFactory.createEmptyBorder(10, 40, 30, 40));\r\n         \r\n         \r\n\r\n         //header/title\r\n         lbWelcome = new JLabel(&quot;Scramble&quot;, SwingConstants.CENTER);\r\n         lbWelcome.setFont(mainFont);\r\n         lbWelcome.setToolTipText(&quot;Scramble is a game created by Glen Filson&quot;);\r\n         gbc.gridx = 0;\r\n         gbc.gridy = 0;\r\n         mainPanel.add(lbWelcome, gbc);\r\n\r\n          //input panel\r\n          JPanel inputs = new JPanel();\r\n          inputs.setSize(new Dimension(300,300));\r\n          inputs.setBackground(new Color(12, 177, 200));\r\n          inputs.setLayout(new GridBagLayout());\r\n          gbc.gridx = 0;\r\n          gbc.gridy = 3;\r\n          mainPanel.add(inputs, gbc);\r\n\r\n          gbc.insets = new Insets(30, 10,30,10);\r\n        \r\n          \r\n         //JLabels main\r\n         lb1  = new JLabel(&quot;F&quot;, SwingConstants.CENTER);\r\n         lb1.setFont(smallFont);\r\n         gbc.gridx = 0;\r\n         gbc.gridy = 0;\r\n         inputs.add(lb1, gbc);\r\n      \r\n\r\n         lb2  = new JLabel(&quot;I&quot;, SwingConstants.CENTER);\r\n         lb2.setFont(smallFont);\r\n         gbc.gridx = 1;\r\n         gbc.gridy = 0;\r\n         inputs.add(lb2, gbc);\r\n        \r\n\r\n         lb3  = new JLabel(&quot;G&quot;, SwingConstants.CENTER);\r\n         lb3.setFont(smallFont);\r\n         gbc.gridx = 2;\r\n         gbc.gridy = 0;\r\n         inputs.add(lb3, gbc);\r\n         \r\n\r\n         lb4  = new JLabel(&quot;H&quot;, SwingConstants.CENTER);\r\n         lb4.setFont(smallFont);\r\n         gbc.gridx = 3;\r\n         gbc.gridy = 0;\r\n         inputs.add(lb4, gbc);\r\n        \r\n\r\n         lb5  = new JLabel(&quot;T&quot;, SwingConstants.CENTER);\r\n         lb5.setFont(smallFont);\r\n         gbc.gridx = 4;\r\n         gbc.gridy = 0;\r\n         inputs.add(lb5, gbc);\r\n\r\n\r\n         \r\n         \r\n\r\n         //JTextField main\r\n         tf1  = new JTextField(&quot;s&quot;);\r\n         tf1.setFont(smallFont);\r\n         tf1.setHorizontalAlignment(JTextField.CENTER);\r\n         gbc.gridx = 0;\r\n         gbc.gridy = 1;\r\n         inputs.add(tf1, gbc);\r\n         \r\n\r\n\r\n         tf2  = new JTextField(&quot;u&quot;);\r\n         tf2.setFont(smallFont);\r\n         tf2.setHorizontalAlignment(JTextField.CENTER);\r\n         gbc.gridx = 1;\r\n         gbc.gridy = 1;\r\n         inputs.add(tf2, gbc);\r\n       \r\n         \r\n\r\n         tf3  = new JTextField(&quot;s&quot;);\r\n         tf3.setFont(smallFont);\r\n         tf3.setHorizontalAlignment(JTextField.CENTER);\r\n         gbc.gridx = 2;\r\n         gbc.gridy = 1;\r\n         inputs.add(tf3, gbc);\r\n        \r\n\r\n         tf4  = new JTextField(&quot;s&quot;);\r\n         tf4.setFont(smallFont);\r\n         tf4.setHorizontalAlignment(JTextField.CENTER);\r\n         gbc.gridx = 3;\r\n         gbc.gridy = 1;\r\n         inputs.add(tf4, gbc);\r\n         \r\n         \r\n         tf5  = new JTextField(&quot;y&quot;);\r\n         tf5.setFont(smallFont);\r\n         tf5.setHorizontalAlignment(JTextField.CENTER);\r\n         gbc.gridx = 4;\r\n         gbc.gridy = 1;\r\n         inputs.add(tf5, gbc);\r\n\r\n     \r\n        \r\n         \r\n\r\n          \r\n        \r\n\r\n\r\n\r\n           \r\n           \r\n            //JFrame\r\n            JFrame frame = new JFrame();      \r\n            frame.setTitle(&quot;Scramble&quot;);\r\n            frame.setSize(500, 650);\r\n            \r\n            frame.setLocationRelativeTo(null);\r\n            frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\r\n            frame.getContentPane().setBackground(new Color(100, 60, 100));\r\n            frame.setVisible(true);\r\n            frame.add(mainPanel);\r\n           \r\n    }\r\n\r\n    public static void main(String[] args){\r\n       scramble myFrame = new scramble();\r\n      \r\n     \r\n\r\n}\r\npublic class graphicsPanel extends JPanel {\r\n   public void paint(Graphics g ){\r\n      \r\n      Graphics g2d = (Graphics2D) g;\r\n\r\n      g2d.drawRect(250,325,300,300);\r\n\r\n   }\r\n\r\n\r\n\r\n}\r\n}\r\n\r\n```","title":"Im having trouble trying to display graphics in my JFrame","body":"<p>I am trying to create game with a similar layout to Wordle where there is a 5 letter scrambled word displayed and below it there are 5 separate text fields for the user to input what order the letters of the scrambled word will go in. Basically they have to unscramble the word. Sorry for the bad explanation.</p>\n<p>Iam trying to make rectangles/squares around each of the letters of the JLabels lb1, lb2, lb3, lb4, lb5 and around each of the JTextFields tf1, tf2, tf3, tf4, tf5. I cannot figure out how to display these rectangles at all but also how they will display on top of JPanels that are already in place.</p>\n<p>Also just a bonus here, Is there anyway to organise these labels and text fields so that i can set there exact position? i would like to have 5 of the labels on top of 5 of the text fields.</p>\n<pre><code>import java.awt.*;\nimport javax.swing.*;\n\n\n\npublic class scramble extends JFrame {\n\n    Font mainFont = new Font(&quot;Impact&quot;, Font.BOLD, 60);\n    Font smallFont = new Font(&quot;Impact&quot;, Font.BOLD, 30);\n\n    JLabel lbWelcome;\n    JLabel lb1, lb2, lb3, lb4, lb5;\n    JTextField tf1, tf2, tf3, tf4, tf5;\n    JFrame frame;\n    GridBagConstraints gbc = new GridBagConstraints();\n    \n\n\n    scramble() {\n\n      gbc.gridx = 0;\n      gbc.gridy = 0;\n      gbc.anchor = GridBagConstraints.PAGE_START;\n      gbc.weightx = 1.0;\n      gbc.weighty = 1.0;\n\n         //mainPanel\n         JPanel mainPanel = new JPanel();\n         mainPanel.setLayout(new GridBagLayout());\n         mainPanel.setBackground(new Color(12, 177, 237));\n         mainPanel.setBorder(BorderFactory.createEmptyBorder(10, 40, 30, 40));\n         \n         \n\n         //header/title\n         lbWelcome = new JLabel(&quot;Scramble&quot;, SwingConstants.CENTER);\n         lbWelcome.setFont(mainFont);\n         lbWelcome.setToolTipText(&quot;Scramble is a game created by Glen Filson&quot;);\n         gbc.gridx = 0;\n         gbc.gridy = 0;\n         mainPanel.add(lbWelcome, gbc);\n\n          //input panel\n          JPanel inputs = new JPanel();\n          inputs.setSize(new Dimension(300,300));\n          inputs.setBackground(new Color(12, 177, 200));\n          inputs.setLayout(new GridBagLayout());\n          gbc.gridx = 0;\n          gbc.gridy = 3;\n          mainPanel.add(inputs, gbc);\n\n          gbc.insets = new Insets(30, 10,30,10);\n        \n          \n         //JLabels main\n         lb1  = new JLabel(&quot;F&quot;, SwingConstants.CENTER);\n         lb1.setFont(smallFont);\n         gbc.gridx = 0;\n         gbc.gridy = 0;\n         inputs.add(lb1, gbc);\n      \n\n         lb2  = new JLabel(&quot;I&quot;, SwingConstants.CENTER);\n         lb2.setFont(smallFont);\n         gbc.gridx = 1;\n         gbc.gridy = 0;\n         inputs.add(lb2, gbc);\n        \n\n         lb3  = new JLabel(&quot;G&quot;, SwingConstants.CENTER);\n         lb3.setFont(smallFont);\n         gbc.gridx = 2;\n         gbc.gridy = 0;\n         inputs.add(lb3, gbc);\n         \n\n         lb4  = new JLabel(&quot;H&quot;, SwingConstants.CENTER);\n         lb4.setFont(smallFont);\n         gbc.gridx = 3;\n         gbc.gridy = 0;\n         inputs.add(lb4, gbc);\n        \n\n         lb5  = new JLabel(&quot;T&quot;, SwingConstants.CENTER);\n         lb5.setFont(smallFont);\n         gbc.gridx = 4;\n         gbc.gridy = 0;\n         inputs.add(lb5, gbc);\n\n\n         \n         \n\n         //JTextField main\n         tf1  = new JTextField(&quot;s&quot;);\n         tf1.setFont(smallFont);\n         tf1.setHorizontalAlignment(JTextField.CENTER);\n         gbc.gridx = 0;\n         gbc.gridy = 1;\n         inputs.add(tf1, gbc);\n         \n\n\n         tf2  = new JTextField(&quot;u&quot;);\n         tf2.setFont(smallFont);\n         tf2.setHorizontalAlignment(JTextField.CENTER);\n         gbc.gridx = 1;\n         gbc.gridy = 1;\n         inputs.add(tf2, gbc);\n       \n         \n\n         tf3  = new JTextField(&quot;s&quot;);\n         tf3.setFont(smallFont);\n         tf3.setHorizontalAlignment(JTextField.CENTER);\n         gbc.gridx = 2;\n         gbc.gridy = 1;\n         inputs.add(tf3, gbc);\n        \n\n         tf4  = new JTextField(&quot;s&quot;);\n         tf4.setFont(smallFont);\n         tf4.setHorizontalAlignment(JTextField.CENTER);\n         gbc.gridx = 3;\n         gbc.gridy = 1;\n         inputs.add(tf4, gbc);\n         \n         \n         tf5  = new JTextField(&quot;y&quot;);\n         tf5.setFont(smallFont);\n         tf5.setHorizontalAlignment(JTextField.CENTER);\n         gbc.gridx = 4;\n         gbc.gridy = 1;\n         inputs.add(tf5, gbc);\n\n     \n        \n         \n\n          \n        \n\n\n\n           \n           \n            //JFrame\n            JFrame frame = new JFrame();      \n            frame.setTitle(&quot;Scramble&quot;);\n            frame.setSize(500, 650);\n            \n            frame.setLocationRelativeTo(null);\n            frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\n            frame.getContentPane().setBackground(new Color(100, 60, 100));\n            frame.setVisible(true);\n            frame.add(mainPanel);\n           \n    }\n\n    public static void main(String[] args){\n       scramble myFrame = new scramble();\n      \n     \n\n}\npublic class graphicsPanel extends JPanel {\n   public void paint(Graphics g ){\n      \n      Graphics g2d = (Graphics2D) g;\n\n      g2d.drawRect(250,325,300,300);\n\n   }\n\n\n\n}\n}\n\n</code></pre>\n"},{"tags":["java","streamingresponsebody"],"answers":[{"tags":[],"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1657568684,"creation_date":1657555790,"answer_id":72941525,"question_id":72941298,"body_markdown":"One of the way which I can think of is :\r\n\r\n    ResponseEntity&lt;String&gt; result = restTemplate.executeRequest(HttpMethod.GET, String.class);\r\n    \r\n    StringBuilder builder = new StringBuilder(result.getBody());\r\n    ... //do your transformation to stringbuilder reference.\r\n    result = ResponseEntity.status(result.getStatusCode()).body(builder.toString());\r\n\r\nAnother way if you want to avoid this is to return String response from your `executeRequest` &amp; modify that response before creating ResponseEntity.","title":"Is It possible to change the content of the Body of a responseEntity","body":"<p>One of the way which I can think of is :</p>\n<pre><code>ResponseEntity&lt;String&gt; result = restTemplate.executeRequest(HttpMethod.GET, String.class);\n\nStringBuilder builder = new StringBuilder(result.getBody());\n... //do your transformation to stringbuilder reference.\nresult = ResponseEntity.status(result.getStatusCode()).body(builder.toString());\n</code></pre>\n<p>Another way if you want to avoid this is to return String response from your <code>executeRequest</code> &amp; modify that response before creating ResponseEntity.</p>\n"},{"tags":[],"owner":{"account_id":25714589,"reputation":115,"user_id":19472583,"display_name":"vabatch_dev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657556301,"creation_date":1657556301,"answer_id":72941639,"question_id":72941298,"body_markdown":"Try this:\r\n\r\n1) Create your own HttpMessageConverter, implementing:\r\n\r\n       public interface HttpMessageConverter&lt;T&gt; {\r\n\r\n        // Indicates whether the given class can be read by this converter.\r\n        boolean canRead(Class&lt;?&gt; clazz, MediaType mediaType);\r\n\r\n        // Indicates whether the given class can be written by this converter.\r\n        boolean canWrite(Class&lt;?&gt; clazz, MediaType mediaType);\r\n\r\n        // Return the list of {@link MediaType} objects supported by this converter.\r\n        List&lt;MediaType&gt; getSupportedMediaTypes();\r\n\r\n        // Read an object of the given type form the given input message, and returns it.\r\n        T read(Class&lt;? extends T&gt; clazz, HttpInputMessage inputMessage)\r\n            throws IOException, HttpMessageNotReadableException;\r\n\r\n        // Write an given object to the given output message.\r\n        void write(T t, MediaType contentType, HttpOutputMessage outputMessage)\r\n            throws IOException, HttpMessageNotWritableException;\r\n       }\r\n\r\n2) Register the custom converter into your restTemplate object:\r\n\r\n       String url = &quot;url&quot;;\r\n\t\t\t\r\n       // Create a new RestTemplate instance\r\n       RestTemplate restTemplate = new RestTemplate();\r\n\r\n       // Add the String message converter\r\n       restTemplate.getMessageConverters().add(new YourConverter());\r\n\r\n       // Make the HTTP GET request, marshaling the response to a String\r\n       String result = restTemplate.getForObject(url, String.class);","title":"Is It possible to change the content of the Body of a responseEntity","body":"<p>Try this:</p>\n<ol>\n<li><p>Create your own HttpMessageConverter, implementing:</p>\n<pre><code>public interface HttpMessageConverter&lt;T&gt; {\n\n // Indicates whether the given class can be read by this converter.\n boolean canRead(Class&lt;?&gt; clazz, MediaType mediaType);\n\n // Indicates whether the given class can be written by this converter.\n boolean canWrite(Class&lt;?&gt; clazz, MediaType mediaType);\n\n // Return the list of {@link MediaType} objects supported by this converter.\n List&lt;MediaType&gt; getSupportedMediaTypes();\n\n // Read an object of the given type form the given input message, and returns it.\n T read(Class&lt;? extends T&gt; clazz, HttpInputMessage inputMessage)\n     throws IOException, HttpMessageNotReadableException;\n\n // Write an given object to the given output message.\n void write(T t, MediaType contentType, HttpOutputMessage outputMessage)\n     throws IOException, HttpMessageNotWritableException;\n}\n</code></pre>\n</li>\n<li><p>Register the custom converter into your restTemplate object:</p>\n<pre><code>String url = &quot;url&quot;;\n\n// Create a new RestTemplate instance\nRestTemplate restTemplate = new RestTemplate();\n\n// Add the String message converter\nrestTemplate.getMessageConverters().add(new YourConverter());\n\n// Make the HTTP GET request, marshaling the response to a String\nString result = restTemplate.getForObject(url, String.class);\n</code></pre>\n</li>\n</ol>\n"}],"owner":{"account_id":2702634,"reputation":850,"user_id":2721822,"accept_rate":95,"display_name":"Hani Gotc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3628,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72941525,"answer_count":2,"score":1,"last_activity_date":1657568684,"creation_date":1657554748,"question_id":72941298,"body_markdown":"I am trying to return the content of a Json file. But I want to modify before sending it to the front end. I want to add &quot;[&quot; and &quot;]&quot; at the beginning and end of the file. I am doing that because the json file has `multiple json root elements`.\r\n\r\nLike for example extract the result as illustrated in \r\n\r\n     result = restTemplate.executeRequest(HttpMethod.GET, String.class);\r\n    //change Body and put it back in result\r\n\r\n\r\n----------\r\n**Question**\r\n\r\nIs it possible to change the body of the response and put it back in ResponseEntity?\r\n\r\n\r\n----------\r\n\r\n**Source Code**\r\n\r\n\r\n    public ResponseEntity&lt;String&gt; getScalityObject(String chainCode, String dataCenter, String path, String byteRange) {\r\n    \tMap&lt;String, Object&gt; queryParams = new HashMap&lt;&gt;();\r\n    \tif (dataCenter != null &amp;&amp; !dataCenter.isEmpty()) {\r\n    \t\tqueryParams.put(&quot;dataCenter&quot;, dataCenter);\r\n    \t}\r\n    \tif (byteRange != null &amp;&amp; !byteRange.isEmpty()) {\r\n    \t\tqueryParams.put(&quot;byteRange&quot;, byteRange);\r\n    \t}\r\n    \tString decodedStr = URLDecoder.decode(path);\r\n    \tqueryParams.put(&quot;path&quot;, decodedStr);\r\n    \r\n    \treservationService.setContext(\r\n    \t\t\tRESA_INTERNAL_SERVICE_NAME,\r\n    \t\t\tqueryParams,\r\n    \t\t\t&quot;/chains/{chainCode}/objects/file&quot;,\r\n    \t\t\tchainCode);\r\n    \trestTemplate.setServiceDefinition(reservationService);\r\n    \t\r\n    \tResponseEntity&lt;String&gt; result;\r\n    \ttry {\r\n    \t\tresult = restTemplate.executeRequest(HttpMethod.GET, String.class);\r\n    \t\t//Change responseBody here\r\n    \t\treturn result;\r\n    \t} catch (IOException e) {\r\n    \t\te.printStackTrace();\r\n    \t\tresult = new ResponseEntity&lt;&gt;(HttpStatus.INTERNAL_SERVER_ERROR);\r\n    \t}\r\n    \treturn result;\r\n    }\r\n\r\n\r\n----------\r\n\r\n\r\n    public &lt;T&gt; ResponseEntity&lt;T&gt; executeRequest(HttpMethod method, Class&lt;T&gt; responseType) throws IOException {\r\n    \r\n            if (this.serviceDefinition == null) {\r\n                throw new IllegalArgumentException(&quot;You haven&#39;t provided any service definition for this call. &quot; +\r\n                    &quot;Are you sure you called the right method before using this Amadeus Rest Template?&quot;);\r\n            }\r\n    \r\n            // Resolve the URI\r\n            URI url = this.serviceDefinition.getUriComponents().toUri();\r\n    \r\n            // Add the extra headers if necessary\r\n            HttpHeaders headers = new HttpHeaders();\r\n            if (this.serviceDefinition.getHeaders() != null) {\r\n                for(Map.Entry&lt;String,String&gt; headerSet : this.serviceDefinition.getHeaders().entrySet()) {\r\n                    headers.put(headerSet.getKey(), Arrays.asList(headerSet.getValue()));\r\n                }\r\n            }\r\n            HttpEntity entity = new HttpEntity(headers);\r\n            ResponseExtractor&lt;ResponseEntity&lt;T&gt;&gt; responseExtractor = responseEntityExtractor(responseType);\r\n    \r\n            RequestCallback requestCallback = httpEntityCallback(entity, responseType);\r\n            ClientHttpResponse response = null;\r\n    \t\ttry {\r\n    \t\t\tClientHttpRequest request = createRequest(url, method);\r\n    \t\t\tif (requestCallback != null) {\r\n    \t\t\t\trequestCallback.doWithRequest(request);\r\n    \t\t\t}\r\n    \t\t\tresponse = request.execute();\r\n                return (responseExtractor != null ? responseExtractor.extractData(response) : null);\r\n    \t\t}\r\n    \t\tcatch (IOException ex) {\r\n    \t\t\tthrow ex;\r\n    \t\t}\r\n    \t\tfinally {\r\n    \t\t\tif (response != null) {\r\n    \t\t\t\tresponse.close();\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n        }","title":"Is It possible to change the content of the Body of a responseEntity","body":"<p>I am trying to return the content of a Json file. But I want to modify before sending it to the front end. I want to add &quot;[&quot; and &quot;]&quot; at the beginning and end of the file. I am doing that because the json file has <code>multiple json root elements</code>.</p>\n<p>Like for example extract the result as illustrated in</p>\n<pre><code> result = restTemplate.executeRequest(HttpMethod.GET, String.class);\n//change Body and put it back in result\n</code></pre>\n<hr />\n<p><strong>Question</strong></p>\n<p>Is it possible to change the body of the response and put it back in ResponseEntity?</p>\n<hr />\n<p><strong>Source Code</strong></p>\n<pre><code>public ResponseEntity&lt;String&gt; getScalityObject(String chainCode, String dataCenter, String path, String byteRange) {\n    Map&lt;String, Object&gt; queryParams = new HashMap&lt;&gt;();\n    if (dataCenter != null &amp;&amp; !dataCenter.isEmpty()) {\n        queryParams.put(&quot;dataCenter&quot;, dataCenter);\n    }\n    if (byteRange != null &amp;&amp; !byteRange.isEmpty()) {\n        queryParams.put(&quot;byteRange&quot;, byteRange);\n    }\n    String decodedStr = URLDecoder.decode(path);\n    queryParams.put(&quot;path&quot;, decodedStr);\n\n    reservationService.setContext(\n            RESA_INTERNAL_SERVICE_NAME,\n            queryParams,\n            &quot;/chains/{chainCode}/objects/file&quot;,\n            chainCode);\n    restTemplate.setServiceDefinition(reservationService);\n    \n    ResponseEntity&lt;String&gt; result;\n    try {\n        result = restTemplate.executeRequest(HttpMethod.GET, String.class);\n        //Change responseBody here\n        return result;\n    } catch (IOException e) {\n        e.printStackTrace();\n        result = new ResponseEntity&lt;&gt;(HttpStatus.INTERNAL_SERVER_ERROR);\n    }\n    return result;\n}\n</code></pre>\n<hr />\n<pre><code>public &lt;T&gt; ResponseEntity&lt;T&gt; executeRequest(HttpMethod method, Class&lt;T&gt; responseType) throws IOException {\n\n        if (this.serviceDefinition == null) {\n            throw new IllegalArgumentException(&quot;You haven't provided any service definition for this call. &quot; +\n                &quot;Are you sure you called the right method before using this Amadeus Rest Template?&quot;);\n        }\n\n        // Resolve the URI\n        URI url = this.serviceDefinition.getUriComponents().toUri();\n\n        // Add the extra headers if necessary\n        HttpHeaders headers = new HttpHeaders();\n        if (this.serviceDefinition.getHeaders() != null) {\n            for(Map.Entry&lt;String,String&gt; headerSet : this.serviceDefinition.getHeaders().entrySet()) {\n                headers.put(headerSet.getKey(), Arrays.asList(headerSet.getValue()));\n            }\n        }\n        HttpEntity entity = new HttpEntity(headers);\n        ResponseExtractor&lt;ResponseEntity&lt;T&gt;&gt; responseExtractor = responseEntityExtractor(responseType);\n\n        RequestCallback requestCallback = httpEntityCallback(entity, responseType);\n        ClientHttpResponse response = null;\n        try {\n            ClientHttpRequest request = createRequest(url, method);\n            if (requestCallback != null) {\n                requestCallback.doWithRequest(request);\n            }\n            response = request.execute();\n            return (responseExtractor != null ? responseExtractor.extractData(response) : null);\n        }\n        catch (IOException ex) {\n            throw ex;\n        }\n        finally {\n            if (response != null) {\n                response.close();\n            }\n        }\n\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","dolby"],"answers":[{"tags":[],"owner":{"account_id":409319,"reputation":2504,"user_id":780507,"accept_rate":90,"display_name":"dcoffey3296"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1657568384,"creation_date":1657568384,"answer_id":72943815,"question_id":72914356,"body_markdown":"it looks like both signed URLs might be GET urls?\r\n\r\nFor the Dolby.io Transcode API, your `inputs` should be GET signed urls and your `outputs` should be PUT signed URLs.\r\n\r\nAdditionally, it also looks like you are using the same input path/filename and output path/filename:\r\n\r\n```\r\nhttps://vb-object-storage.ap-south-1.linodeobjects.com/The%20Hindu%20Daily%20News%20Analysis%20__%203rd%20July%202022%20__%20UPSC%20Current%20Affairs%20__%20Prelims%20%2722%20%26%20Mains%20%2722%28360%29.mp4\r\n```\r\n\r\nYou will want to use different paths for input and output, something like: \r\n\r\n```https://vb-object-storage.ap-south-1.linodeobjects.com/output/outputfile.mp4```\r\n\r\n(note the &quot;output&quot; added to the path and the change of the output filename)\r\n\r\n","title":"How to integrate signed URL in java?","body":"<p>it looks like both signed URLs might be GET urls?</p>\n<p>For the Dolby.io Transcode API, your <code>inputs</code> should be GET signed urls and your <code>outputs</code> should be PUT signed URLs.</p>\n<p>Additionally, it also looks like you are using the same input path/filename and output path/filename:</p>\n<pre><code>https://vb-object-storage.ap-south-1.linodeobjects.com/The%20Hindu%20Daily%20News%20Analysis%20__%203rd%20July%202022%20__%20UPSC%20Current%20Affairs%20__%20Prelims%20%2722%20%26%20Mains%20%2722%28360%29.mp4\n</code></pre>\n<p>You will want to use different paths for input and output, something like:</p>\n<p><code>https://vb-object-storage.ap-south-1.linodeobjects.com/output/outputfile.mp4</code></p>\n<p>(note the &quot;output&quot; added to the path and the change of the output filename)</p>\n"}],"owner":{"account_id":25403175,"reputation":25,"user_id":19212312,"display_name":"Narashimhaa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":453,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72943815,"answer_count":1,"score":2,"last_activity_date":1657568384,"creation_date":1657297637,"question_id":72914356,"body_markdown":"I am trying to use`DOLBY.IO&#39;s media API` to transcode and save the output file to cloud. I have two URLs  {URL1:input to dolby; URL2: to store output from dolby}. And both the URLs are signed URLs from the same cloud. \r\n\r\n\r\n\r\nI tried using some java code to accomplish this but in the end I still can&#39;t get the result.\r\n\r\n\r\nHere is the code:\r\n\r\n\t\r\n\r\n    @PostMapping(&quot;/transcode&quot;)\r\n        public String Video_Transcode1() throws IOException, JSONException {\r\n    \t\tOkHttpClient client = new OkHttpClient();\r\n    \t\tString data=generate_Access_token( );\r\n    \t\tMediaType mediaType = MediaType.parse(&quot;application/json&quot;);\r\n    \t\tRequestBody body = RequestBody.create(mediaType, &quot;{\\&quot;inputs\\&quot;:[{\\&quot;source\\&quot;:\\&quot;https://vb-object-storage.ap-south-1.linodeobjects.com/The%20Hindu%20Daily%20News%20Analysis%20__%203rd%20July%202022%20__%20UPSC%20Current%20Affairs%20__%20Prelims%20%2722%20%26%20Mains%20%2722%28360%29.mp4?X-Amz-Algorithm=AWS4-HMAC-SHA256&amp;X-Amz-Date=20220707T073322Z&amp;X-Amz-SignedHeaders=host&amp;X-Amz-Expires=604799&amp;X-Amz-Credential=ZVADROBVHWLK1FOYT225%2F20220707%2Fap-south-1%2Fs3%2Faws4_request&amp;X-Amz-Signature=0aa4b388ea3197dd8a03253f5f7313b4209b8acf5e0a4308dc5e543801d22c73\\&quot;}],\\&quot;outputs\\&quot;:[{\\&quot;kind\\&quot;:\\&quot;mp4\\&quot;,\\&quot;destination\\&quot;:\\&quot;https://vb-object-storage.ap-south-1.linodeobjects.com/The%20Hindu%20Daily%20News%20Analysis%20__%203rd%20July%202022%20__%20UPSC%20Current%20Affairs%20__%20Prelims%20%2722%20%26%20Mains%20%2722%28360%29.mp4?X-Amz-Algorithm=AWS4-HMAC-SHA256&amp;X-Amz-Date=20220707T073322Z&amp;X-Amz-SignedHeaders=host&amp;X-Amz-Expires=604799&amp;X-Amz-Credential=ZVADROBVHWLK1FOYT225%2F20220707%2Fap-south-1%2Fs3%2Faws4_request&amp;X-Amz-Signature=0aa4b388ea3197dd8a03253f5f7313b4209b8acf5e0a4308dc5e543801d22c73\\&quot;}]}&quot;);\r\n    \t\tRequest request = new Request.Builder()\r\n    \t\t  .url(&quot;https://api.dolby.com/media/transcode&quot;)\r\n    \t\t  .post(body)\r\n    \t\t  .addHeader(&quot;Accept&quot;, &quot;application/json&quot;)\r\n    \t\t  .addHeader(&quot;Content-Type&quot;, &quot;application/json&quot;)\r\n    \t\t  .addHeader(&quot;Authorization&quot;,&quot;Bearer &quot;+data)\r\n    \t\t  .build();\r\n    \r\n         \tResponse response = client.newCall(request).execute();\r\n         \treturn response.toString();\r\n    \t}\r\n\r\nHere the data is generated from another function (ie:Access token)\r\n\r\nI have encoded two URLs as json here:\r\n\r\n     RequestBody body = RequestBody.create(mediaType, &quot;{\\&quot;inputs\\&quot;:[{\\&quot;source\\&quot;:\\&quot;https://vb-object-storage.ap-south-1.linodeobjects.com/The%20Hindu%20Daily%20News%20Analysis%20__%203rd%20July%202022%20__%20UPSC%20Current%20Affairs%20__%20Prelims%20%2722%20%26%20Mains%20%2722%28360%29.mp4?X-Amz-Algorithm=AWS4-HMAC-SHA256&amp;X-Amz-Date=20220707T073322Z&amp;X-Amz-SignedHeaders=host&amp;X-Amz-Expires=604799&amp;X-Amz-Credential=ZVADROBVHWLK1FOYT225%2F20220707%2Fap-south-1%2Fs3%2Faws4_request&amp;X-Amz-Signature=0aa4b388ea3197dd8a03253f5f7313b4209b8acf5e0a4308dc5e543801d22c73\\&quot;}],\\&quot;outputs\\&quot;:[{\\&quot;kind\\&quot;:\\&quot;mp4\\&quot;,\\&quot;destination\\&quot;:\\&quot;https://vb-object-storage.ap-south-1.linodeobjects.com/The%20Hindu%20Daily%20News%20Analysis%20__%203rd%20July%202022%20__%20UPSC%20Current%20Affairs%20__%20Prelims%20%2722%20%26%20Mains%20%2722%28360%29.mp4?X-Amz-Algorithm=AWS4-HMAC-SHA256&amp;X-Amz-Date=20220707T073322Z&amp;X-Amz-SignedHeaders=host&amp;X-Amz-Expires=604799&amp;X-Amz-Credential=ZVADROBVHWLK1FOYT225%2F20220707%2Fap-south-1%2Fs3%2Faws4_request&amp;X-Amz-Signature=0aa4b388ea3197dd8a03253f5f7313b4209b8acf5e0a4308dc5e543801d22c73\\&quot;}]}&quot;);\r\n\r\nIs there any look around to bring the solution.","title":"How to integrate signed URL in java?","body":"<p>I am trying to use<code>DOLBY.IO's media API</code> to transcode and save the output file to cloud. I have two URLs  {URL1:input to dolby; URL2: to store output from dolby}. And both the URLs are signed URLs from the same cloud.</p>\n<p>I tried using some java code to accomplish this but in the end I still can't get the result.</p>\n<p>Here is the code:</p>\n<pre><code>@PostMapping(&quot;/transcode&quot;)\n    public String Video_Transcode1() throws IOException, JSONException {\n        OkHttpClient client = new OkHttpClient();\n        String data=generate_Access_token( );\n        MediaType mediaType = MediaType.parse(&quot;application/json&quot;);\n        RequestBody body = RequestBody.create(mediaType, &quot;{\\&quot;inputs\\&quot;:[{\\&quot;source\\&quot;:\\&quot;https://vb-object-storage.ap-south-1.linodeobjects.com/The%20Hindu%20Daily%20News%20Analysis%20__%203rd%20July%202022%20__%20UPSC%20Current%20Affairs%20__%20Prelims%20%2722%20%26%20Mains%20%2722%28360%29.mp4?X-Amz-Algorithm=AWS4-HMAC-SHA256&amp;X-Amz-Date=20220707T073322Z&amp;X-Amz-SignedHeaders=host&amp;X-Amz-Expires=604799&amp;X-Amz-Credential=ZVADROBVHWLK1FOYT225%2F20220707%2Fap-south-1%2Fs3%2Faws4_request&amp;X-Amz-Signature=0aa4b388ea3197dd8a03253f5f7313b4209b8acf5e0a4308dc5e543801d22c73\\&quot;}],\\&quot;outputs\\&quot;:[{\\&quot;kind\\&quot;:\\&quot;mp4\\&quot;,\\&quot;destination\\&quot;:\\&quot;https://vb-object-storage.ap-south-1.linodeobjects.com/The%20Hindu%20Daily%20News%20Analysis%20__%203rd%20July%202022%20__%20UPSC%20Current%20Affairs%20__%20Prelims%20%2722%20%26%20Mains%20%2722%28360%29.mp4?X-Amz-Algorithm=AWS4-HMAC-SHA256&amp;X-Amz-Date=20220707T073322Z&amp;X-Amz-SignedHeaders=host&amp;X-Amz-Expires=604799&amp;X-Amz-Credential=ZVADROBVHWLK1FOYT225%2F20220707%2Fap-south-1%2Fs3%2Faws4_request&amp;X-Amz-Signature=0aa4b388ea3197dd8a03253f5f7313b4209b8acf5e0a4308dc5e543801d22c73\\&quot;}]}&quot;);\n        Request request = new Request.Builder()\n          .url(&quot;https://api.dolby.com/media/transcode&quot;)\n          .post(body)\n          .addHeader(&quot;Accept&quot;, &quot;application/json&quot;)\n          .addHeader(&quot;Content-Type&quot;, &quot;application/json&quot;)\n          .addHeader(&quot;Authorization&quot;,&quot;Bearer &quot;+data)\n          .build();\n\n        Response response = client.newCall(request).execute();\n        return response.toString();\n    }\n</code></pre>\n<p>Here the data is generated from another function (ie:Access token)</p>\n<p>I have encoded two URLs as json here:</p>\n<pre><code> RequestBody body = RequestBody.create(mediaType, &quot;{\\&quot;inputs\\&quot;:[{\\&quot;source\\&quot;:\\&quot;https://vb-object-storage.ap-south-1.linodeobjects.com/The%20Hindu%20Daily%20News%20Analysis%20__%203rd%20July%202022%20__%20UPSC%20Current%20Affairs%20__%20Prelims%20%2722%20%26%20Mains%20%2722%28360%29.mp4?X-Amz-Algorithm=AWS4-HMAC-SHA256&amp;X-Amz-Date=20220707T073322Z&amp;X-Amz-SignedHeaders=host&amp;X-Amz-Expires=604799&amp;X-Amz-Credential=ZVADROBVHWLK1FOYT225%2F20220707%2Fap-south-1%2Fs3%2Faws4_request&amp;X-Amz-Signature=0aa4b388ea3197dd8a03253f5f7313b4209b8acf5e0a4308dc5e543801d22c73\\&quot;}],\\&quot;outputs\\&quot;:[{\\&quot;kind\\&quot;:\\&quot;mp4\\&quot;,\\&quot;destination\\&quot;:\\&quot;https://vb-object-storage.ap-south-1.linodeobjects.com/The%20Hindu%20Daily%20News%20Analysis%20__%203rd%20July%202022%20__%20UPSC%20Current%20Affairs%20__%20Prelims%20%2722%20%26%20Mains%20%2722%28360%29.mp4?X-Amz-Algorithm=AWS4-HMAC-SHA256&amp;X-Amz-Date=20220707T073322Z&amp;X-Amz-SignedHeaders=host&amp;X-Amz-Expires=604799&amp;X-Amz-Credential=ZVADROBVHWLK1FOYT225%2F20220707%2Fap-south-1%2Fs3%2Faws4_request&amp;X-Amz-Signature=0aa4b388ea3197dd8a03253f5f7313b4209b8acf5e0a4308dc5e543801d22c73\\&quot;}]}&quot;);\n</code></pre>\n<p>Is there any look around to bring the solution.</p>\n"},{"tags":["java","maven","continuous-integration","maven-3","continuous-deployment"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1657557879,"post_id":72941601,"comment_id":128833916,"body_markdown":"Can you describe/show more in detail what you mean by: `If I change the versioning of any of the three projects [which is quite often], I need to change the versions all the 5 project pom.xml files` ???","body":"Can you describe/show more in detail what you mean by: <code>If I change the versioning of any of the three projects [which is quite often], I need to change the versions all the 5 project pom.xml files</code> ???"},{"owner":{"account_id":3793708,"reputation":7679,"user_id":3149528,"accept_rate":50,"display_name":"Slawomir Jaranowski"},"score":0,"creation_date":1657563912,"post_id":72941601,"comment_id":128835917,"body_markdown":"project - you think of Maven module? Do you have one parent pom of all with `modules` tag?","body":"project - you think of Maven module? Do you have one parent pom of all with <code>modules</code> tag?"},{"owner":{"account_id":127741,"reputation":434,"user_id":325118,"accept_rate":38,"display_name":"Sameer Malhotra"},"score":0,"creation_date":1657571673,"post_id":72941601,"comment_id":128838209,"body_markdown":"Those are all independent projects, not having any parent pom. No modules whatsoever @SlawomirJaranowski","body":"Those are all independent projects, not having any parent pom. No modules whatsoever @SlawomirJaranowski"},{"owner":{"account_id":127741,"reputation":434,"user_id":325118,"accept_rate":38,"display_name":"Sameer Malhotra"},"score":0,"creation_date":1657571819,"post_id":72941601,"comment_id":128838254,"body_markdown":"@khmarbaise I meant, if I change version of the projects (say project 1, project 2 or project 3), I would have to change the dependency of these projects everywhere they have been mentioned as dependency.","body":"@khmarbaise I meant, if I change version of the projects (say project 1, project 2 or project 3), I would have to change the dependency of these projects everywhere they have been mentioned as dependency."},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1657584592,"post_id":72941601,"comment_id":128840777,"body_markdown":"Do you use -SNAPSHOTs?","body":"Do you use -SNAPSHOTs?"},{"owner":{"account_id":127741,"reputation":434,"user_id":325118,"accept_rate":38,"display_name":"Sameer Malhotra"},"score":0,"creation_date":1657733958,"post_id":72941601,"comment_id":128883039,"body_markdown":"I&#39;m not using Snapshot @Thorbj&#248;rnRavnAndersen. Wondering how would snapshot solve this problem?","body":"I&#39;m not using Snapshot @Thorbj&#248;rnRavnAndersen. Wondering how would snapshot solve this problem?"}],"answers":[{"tags":[],"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657568177,"creation_date":1657568177,"answer_id":72943771,"question_id":72941601,"body_markdown":"1st solution: Put all eight projects into one multi-module project and build it together with the same version number\r\n\r\n2nd solution: Do not change the versions so often, only if you publish everything as productive version to the outside world.","title":"How to properly manage multiple independent maven projects versioning in eclipse","body":"<p>1st solution: Put all eight projects into one multi-module project and build it together with the same version number</p>\n<p>2nd solution: Do not change the versions so often, only if you publish everything as productive version to the outside world.</p>\n"}],"owner":{"account_id":127741,"reputation":434,"user_id":325118,"accept_rate":38,"display_name":"Sameer Malhotra"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657568177,"creation_date":1657556134,"question_id":72941601,"body_markdown":"This may be an easy answer for you but I&#39;ve been spending lot of my time changing the project versions. Here is my situation:\r\n\r\nI have 8 java spring projects in my eclipse workspace. 5 projects depend on the 3 other libraries.If I change the versioning of any of the three projects [which is quite often], I need to change the versions all the 5 project pom.xml files. I found it very cumbersome. I tried changing the versioning of these 3 dependent projects to a constant value [e.g. latest], then my local set up is working fine but CI/CD doesn&#39;t change the next incremental version. \r\n\r\nI&#39;m pretty sure I&#39;m not the only one who is facing this type of situation. Hoping someone can guide me on how to manage the versioning locally and in the CI/CD process. \r\n\r\nThank you for reading this!","title":"How to properly manage multiple independent maven projects versioning in eclipse","body":"<p>This may be an easy answer for you but I've been spending lot of my time changing the project versions. Here is my situation:</p>\n<p>I have 8 java spring projects in my eclipse workspace. 5 projects depend on the 3 other libraries.If I change the versioning of any of the three projects [which is quite often], I need to change the versions all the 5 project pom.xml files. I found it very cumbersome. I tried changing the versioning of these 3 dependent projects to a constant value [e.g. latest], then my local set up is working fine but CI/CD doesn't change the next incremental version.</p>\n<p>I'm pretty sure I'm not the only one who is facing this type of situation. Hoping someone can guide me on how to manage the versioning locally and in the CI/CD process.</p>\n<p>Thank you for reading this!</p>\n"},{"tags":["java","spring-boot","oauth-2.0","spring-webclient"],"owner":{"account_id":873441,"reputation":1033,"user_id":926251,"display_name":"pooya72"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":176,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1657568162,"creation_date":1657568162,"question_id":72943767,"body_markdown":"I&#39;m trying to login to an API using a bearer token. The steps are as follows:\r\n\r\n 1. Send url-encoded username and password to endpoint, and cache token. The request body is:\r\n    ```\r\n     {\r\n      grant_type:password,\r\n      username:username,\r\n      password:password\r\n     }\r\n\r\n 2. Use token to call API.\r\n\r\n\r\nSo far, I have been manually doing these steps. However, I have read that Spring Boot already supports this through OAuth2. How can I configure Spring Boot to use this authentication process? There is no client-id or client secret. \r\n\r\nThanks for your help!","title":"How to setup WebClient configuration to use OAuth2 password grant type without client-id?","body":"<p>I'm trying to login to an API using a bearer token. The steps are as follows:</p>\n<ol>\n<li>Send url-encoded username and password to endpoint, and cache token. The request body is:\n<pre><code> {\n  grant_type:password,\n  username:username,\n  password:password\n }\n\n</code></pre>\n</li>\n<li>Use token to call API.</li>\n</ol>\n<p>So far, I have been manually doing these steps. However, I have read that Spring Boot already supports this through OAuth2. How can I configure Spring Boot to use this authentication process? There is no client-id or client secret.</p>\n<p>Thanks for your help!</p>\n"},{"tags":["java","java-native-interface"],"comments":[{"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"score":0,"creation_date":1657699121,"post_id":72943364,"comment_id":128869794,"body_markdown":"If your memory management model allows it, you could keep a list of `(jobject, void *)` pairs as a cache and use `env-&gt;IsSameObject()` as a lookup function.","body":"If your memory management model allows it, you could keep a list of <code>(jobject, void *)</code> pairs as a cache and use <code>env-&gt;IsSameObject()</code> as a lookup function."}],"answers":[{"tags":[],"owner":{"account_id":6095312,"reputation":33135,"user_id":4756299,"display_name":"Andrew Henle"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1657567669,"creation_date":1657567669,"answer_id":72943689,"question_id":72943364,"body_markdown":"Java 9+ apparently makes access to the `address` field illegal via reflection.\r\n\r\nGoogle posted an issue with protobuf: [**&lt;Java&gt; JDK 9 warning: Illegal reflective access by com.google.protobuf.UnsafeUtil to field java.nio.Buffer.address #3781**](https://github.com/protocolbuffers/protobuf/issues/3781).\r\n\r\nNote the posted error message:\r\n\r\n&gt;     WARNING: An illegal reflective access operation has occurred\r\n&gt;     WARNING: Illegal reflective access by com.google.protobuf.UnsafeUtil\r\n&gt;         (file:/Users/mmueller/.gradle/caches/modules-2/files-2.1/com.google.protobuf/protobuf-java/3.4.0/b32aba0cbe737a4ca953f71688725972e3ee927c/protobuf-java-3.4.0.jar)\r\n&gt;         to field java.nio.Buffer.address\r\n&gt;     WARNING: Please consider reporting this to the maintainers of com.google.protobuf.UnsafeUtil\r\n&gt;     WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\r\n&gt;     WARNING: All illegal access operations will be denied in a future release\r\n\r\nGiven the `All illegal access operations will be denied in a future release` warning, it appears you risk future versions of Java potentially preventing access to the field, even via JNI.\r\n\r\nIt may also be possible, depending on how you use the field&#39;s value, that the address of the underlying buffer could change out from under you.\r\n\r\nAnd finally, you&#39;re dependent on the internal implementation of the class.  Should that change, your code will be broken.\r\n\r\nYou&#39;ll have to weigh those risks against the benefits you get from accessing the field directly.","title":"Risks of directly getting DirectByteBuffer address in JNI","body":"<p>Java 9+ apparently makes access to the <code>address</code> field illegal via reflection.</p>\n<p>Google posted an issue with protobuf: <a href=\"https://github.com/protocolbuffers/protobuf/issues/3781\" rel=\"nofollow noreferrer\"><strong> JDK 9 warning: Illegal reflective access by com.google.protobuf.UnsafeUtil to field java.nio.Buffer.address #3781</strong></a>.</p>\n<p>Note the posted error message:</p>\n<blockquote>\n<pre><code>WARNING: An illegal reflective access operation has occurred\nWARNING: Illegal reflective access by com.google.protobuf.UnsafeUtil\n    (file:/Users/mmueller/.gradle/caches/modules-2/files-2.1/com.google.protobuf/protobuf-java/3.4.0/b32aba0cbe737a4ca953f71688725972e3ee927c/protobuf-java-3.4.0.jar)\n    to field java.nio.Buffer.address\nWARNING: Please consider reporting this to the maintainers of com.google.protobuf.UnsafeUtil\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\nWARNING: All illegal access operations will be denied in a future release\n</code></pre>\n</blockquote>\n<p>Given the <code>All illegal access operations will be denied in a future release</code> warning, it appears you risk future versions of Java potentially preventing access to the field, even via JNI.</p>\n<p>It may also be possible, depending on how you use the field's value, that the address of the underlying buffer could change out from under you.</p>\n<p>And finally, you're dependent on the internal implementation of the class.  Should that change, your code will be broken.</p>\n<p>You'll have to weigh those risks against the benefits you get from accessing the field directly.</p>\n"}],"owner":{"account_id":1397805,"reputation":10162,"user_id":1327235,"display_name":"Juan Lopes"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":187,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72943689,"answer_count":1,"score":2,"last_activity_date":1657567669,"creation_date":1657565723,"question_id":72943364,"body_markdown":"I have a JNI library which accepts a DirectByteBuffer and operates over it.\r\n\r\nTo get the buffer address, I was using:\r\n\r\n```cpp\r\n(unsigned char *) env-&gt;GetDirectBufferAddress(input)\r\n```\r\n\r\nThat was good, but after profiling it I noticed that a long time was spent in `jni_IsInstanceOf`:\r\n\r\n[![profiler][1]][1].\r\n\r\nI then replaced it with direct access to `Buffer.address`\r\n\r\n```cpp\r\njava_nio_Buffer = env-&gt;FindClass(&quot;java/nio/Buffer&quot;);\r\njava_nio_Buffer_address = env-&gt;GetFieldID(java_nio_Buffer, &quot;address&quot;, &quot;J&quot;);\r\n(...)\r\n(unsigned char *) env-&gt;GetLongField(input, java_nio_Buffer_address)\r\n```\r\n\r\nThat caused a _huge_ speedup in that code. \r\n\r\nAre there any major risks in getting a DirectByteBuffer address that way, given I know my object will always be a DirectByteBuffer?\r\n\r\n  [1]: https://i.stack.imgur.com/V73yZ.png","title":"Risks of directly getting DirectByteBuffer address in JNI","body":"<p>I have a JNI library which accepts a DirectByteBuffer and operates over it.</p>\n<p>To get the buffer address, I was using:</p>\n<pre class=\"lang-cpp prettyprint-override\"><code>(unsigned char *) env-&gt;GetDirectBufferAddress(input)\n</code></pre>\n<p>That was good, but after profiling it I noticed that a long time was spent in <code>jni_IsInstanceOf</code>:</p>\n<p><a href=\"https://i.stack.imgur.com/V73yZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/V73yZ.png\" alt=\"profiler\" /></a>.</p>\n<p>I then replaced it with direct access to <code>Buffer.address</code></p>\n<pre class=\"lang-cpp prettyprint-override\"><code>java_nio_Buffer = env-&gt;FindClass(&quot;java/nio/Buffer&quot;);\njava_nio_Buffer_address = env-&gt;GetFieldID(java_nio_Buffer, &quot;address&quot;, &quot;J&quot;);\n(...)\n(unsigned char *) env-&gt;GetLongField(input, java_nio_Buffer_address)\n</code></pre>\n<p>That caused a <em>huge</em> speedup in that code.</p>\n<p>Are there any major risks in getting a DirectByteBuffer address that way, given I know my object will always be a DirectByteBuffer?</p>\n"},{"tags":["java","html","spring","spring-boot","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":25774719,"reputation":1,"user_id":19521935,"display_name":"Callz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657567594,"creation_date":1657567594,"answer_id":72943675,"question_id":72930773,"body_markdown":"So apparently for some reason template resolvers did not autoconfigure, so I needed to add this code in my configuration, and it works:\r\n\r\n     @Bean\r\n    public SpringResourceTemplateResolver templateResolver(){\r\n        SpringResourceTemplateResolver templateResolver = new SpringResourceTemplateResolver();\r\n        templateResolver.setCacheable(false);\r\n        templateResolver.setPrefix(&quot;classpath:/templates/&quot;);\r\n        templateResolver.setSuffix(&quot;.html&quot;);\r\n        return templateResolver;\r\n    }\r\n\r\n    @Bean\r\n    public SpringTemplateEngine springTemplateEngine(){\r\n        SpringTemplateEngine springTemplateEngine = new SpringTemplateEngine();\r\n        springTemplateEngine.addTemplateResolver(templateResolver());\r\n        return springTemplateEngine;\r\n    }\r\n\r\n    @Bean\r\n    public ThymeleafViewResolver viewResolver(){\r\n        ThymeleafViewResolver viewResolver = new ThymeleafViewResolver();\r\n        viewResolver.setTemplateEngine(springTemplateEngine());\r\n        viewResolver.setOrder(1);\r\n        return viewResolver;\r\n    }","title":"Thymeleaf not seeing objcet added to model with model.addObject()","body":"<p>So apparently for some reason template resolvers did not autoconfigure, so I needed to add this code in my configuration, and it works:</p>\n<pre><code> @Bean\npublic SpringResourceTemplateResolver templateResolver(){\n    SpringResourceTemplateResolver templateResolver = new SpringResourceTemplateResolver();\n    templateResolver.setCacheable(false);\n    templateResolver.setPrefix(&quot;classpath:/templates/&quot;);\n    templateResolver.setSuffix(&quot;.html&quot;);\n    return templateResolver;\n}\n\n@Bean\npublic SpringTemplateEngine springTemplateEngine(){\n    SpringTemplateEngine springTemplateEngine = new SpringTemplateEngine();\n    springTemplateEngine.addTemplateResolver(templateResolver());\n    return springTemplateEngine;\n}\n\n@Bean\npublic ThymeleafViewResolver viewResolver(){\n    ThymeleafViewResolver viewResolver = new ThymeleafViewResolver();\n    viewResolver.setTemplateEngine(springTemplateEngine());\n    viewResolver.setOrder(1);\n    return viewResolver;\n}\n</code></pre>\n"}],"owner":{"account_id":25774719,"reputation":1,"user_id":19521935,"display_name":"Callz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72943675,"answer_count":1,"score":0,"last_activity_date":1657567594,"creation_date":1657476640,"question_id":72930773,"body_markdown":"I&#39;m haveing problems with thymeleaf in Java project because it doesn&#39;t see any objects I&#39;m adding to my models. \r\n\r\nHere&#39;s my GET mapping:\r\n\r\n    @GetMapping(USER_PATH)\r\n    public ModelAndView getUserOffersView(){\r\n        ModelAndView model = new ModelAndView(&quot;/panel/user/offer-list&quot;);\r\n        List&lt;Firearm&gt; firearmList = firearmService.findAllByUserId(userService.findLogged().get().getUserId());\r\n        model.addObject(&quot;firearmList&quot;, firearmList);\r\n        return model;\r\n    }\r\n\r\nAnd that&#39;s HTML where I&#39;M tryign to access it:\r\n\r\n    &lt;div class=&quot;row&quot;&gt;\r\n                    &lt;div class=&quot;col-md-4&quot; th:each=&quot;offer : ${firearmList}&quot;&gt;\r\n                        &lt;div class=&quot;card mb-4 product-wap rounded-0&quot; style=&quot;max-width: 250px; max-height: 500px&quot;&gt;\r\n                            &lt;div class=&quot;card rounded-0&quot;&gt;\r\n                                &lt;img class=&quot;card-img rounded-0 img-fluid&quot; src=&quot;/img/shop_01.jpg&quot;&gt;\r\n                                &lt;div class=&quot;card-img-overlay rounded-0 product-overlay d-flex align-items-center justify-content-center&quot;&gt;\r\n                                    &lt;ul class=&quot;list-unstyled&quot;&gt;\r\n                                        &lt;li&gt;&lt;a class=&quot;btn btn-success text-white&quot; href=&quot;shop-single.html&quot;&gt;&lt;i class=&quot;far fa-heart&quot;&gt;&lt;/i&gt;&lt;/a&gt;&lt;/li&gt;\r\n                                        &lt;li&gt;&lt;a class=&quot;btn btn-success text-white mt-2&quot; href=&quot;shop-single.html&quot;&gt;&lt;i class=&quot;far fa-eye&quot;&gt;&lt;/i&gt;&lt;/a&gt;&lt;/li&gt;\r\n                                        &lt;li&gt;&lt;a class=&quot;btn btn-success text-white mt-2&quot; href=&quot;shop-single.html&quot;&gt;&lt;i class=&quot;fas fa-cart-plus&quot;&gt;&lt;/i&gt;&lt;/a&gt;&lt;/li&gt;\r\n                                    &lt;/ul&gt;\r\n                                &lt;/div&gt;\r\n                            &lt;/div&gt;\r\n                            &lt;div class=&quot;card-body&quot;&gt;\r\n                                &lt;a href=&quot;shop-single.html&quot; class=&quot;h3 text-decoration-none&quot; th:text=&quot;${offer.title}&quot;&gt;&lt;/a&gt;\r\n                                &lt;ul class=&quot;w-100 list-unstyled d-flex justify-content-between mb-0&quot;&gt;\r\n                                    &lt;li&gt;&lt;/li&gt;\r\n                                &lt;/ul&gt;\r\n                                &lt;p class=&quot;text-center mb-0&quot; th:text=&quot;${offer.price}&quot;&gt;&lt;/p&gt;\r\n                            &lt;/div&gt;\r\n                        &lt;/div&gt;\r\n                    &lt;/div&gt;\r\n                &lt;/div&gt;\r\n\r\n\r\nFor some reason thymeleaf doesn&#39;t recongize any object, but sometimes if I type the object&#39;s value I&#39;m trying to access, eg *offer.price* as shown here it DOES SHOW in the browser, so it can access the data, but it does not see the object, which makes coding incredibly painful. I&#39;m not sure if that&#39;s related, but my controllers cannot find any views in the project: [PIC REL HERE][1].\r\n\r\nMy pom.xml:\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.7.1&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n\r\n    \r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n            &lt;version&gt;2.7.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.vladmihalcea&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-types-52&lt;/artifactId&gt;\r\n            &lt;version&gt;2.16.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n            &lt;version&gt;2.7.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n            &lt;version&gt;2.7.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;\r\n            &lt;artifactId&gt;thymeleaf-extras-springsecurity5&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\r\n            &lt;version&gt;5.6.9.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\r\n            &lt;version&gt;5.3.21&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n            &lt;version&gt;3.12.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\r\n            &lt;version&gt;2.7.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;excludes&gt;\r\n                        &lt;exclude&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                        &lt;/exclude&gt;\r\n                    &lt;/excludes&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QTMYD.png","title":"Thymeleaf not seeing objcet added to model with model.addObject()","body":"<p>I'm haveing problems with thymeleaf in Java project because it doesn't see any objects I'm adding to my models.</p>\n<p>Here's my GET mapping:</p>\n<pre><code>@GetMapping(USER_PATH)\npublic ModelAndView getUserOffersView(){\n    ModelAndView model = new ModelAndView(&quot;/panel/user/offer-list&quot;);\n    List&lt;Firearm&gt; firearmList = firearmService.findAllByUserId(userService.findLogged().get().getUserId());\n    model.addObject(&quot;firearmList&quot;, firearmList);\n    return model;\n}\n</code></pre>\n<p>And that's HTML where I'M tryign to access it:</p>\n<pre><code>&lt;div class=&quot;row&quot;&gt;\n                &lt;div class=&quot;col-md-4&quot; th:each=&quot;offer : ${firearmList}&quot;&gt;\n                    &lt;div class=&quot;card mb-4 product-wap rounded-0&quot; style=&quot;max-width: 250px; max-height: 500px&quot;&gt;\n                        &lt;div class=&quot;card rounded-0&quot;&gt;\n                            &lt;img class=&quot;card-img rounded-0 img-fluid&quot; src=&quot;/img/shop_01.jpg&quot;&gt;\n                            &lt;div class=&quot;card-img-overlay rounded-0 product-overlay d-flex align-items-center justify-content-center&quot;&gt;\n                                &lt;ul class=&quot;list-unstyled&quot;&gt;\n                                    &lt;li&gt;&lt;a class=&quot;btn btn-success text-white&quot; href=&quot;shop-single.html&quot;&gt;&lt;i class=&quot;far fa-heart&quot;&gt;&lt;/i&gt;&lt;/a&gt;&lt;/li&gt;\n                                    &lt;li&gt;&lt;a class=&quot;btn btn-success text-white mt-2&quot; href=&quot;shop-single.html&quot;&gt;&lt;i class=&quot;far fa-eye&quot;&gt;&lt;/i&gt;&lt;/a&gt;&lt;/li&gt;\n                                    &lt;li&gt;&lt;a class=&quot;btn btn-success text-white mt-2&quot; href=&quot;shop-single.html&quot;&gt;&lt;i class=&quot;fas fa-cart-plus&quot;&gt;&lt;/i&gt;&lt;/a&gt;&lt;/li&gt;\n                                &lt;/ul&gt;\n                            &lt;/div&gt;\n                        &lt;/div&gt;\n                        &lt;div class=&quot;card-body&quot;&gt;\n                            &lt;a href=&quot;shop-single.html&quot; class=&quot;h3 text-decoration-none&quot; th:text=&quot;${offer.title}&quot;&gt;&lt;/a&gt;\n                            &lt;ul class=&quot;w-100 list-unstyled d-flex justify-content-between mb-0&quot;&gt;\n                                &lt;li&gt;&lt;/li&gt;\n                            &lt;/ul&gt;\n                            &lt;p class=&quot;text-center mb-0&quot; th:text=&quot;${offer.price}&quot;&gt;&lt;/p&gt;\n                        &lt;/div&gt;\n                    &lt;/div&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n</code></pre>\n<p>For some reason thymeleaf doesn't recongize any object, but sometimes if I type the object's value I'm trying to access, eg <em>offer.price</em> as shown here it DOES SHOW in the browser, so it can access the data, but it does not see the object, which makes coding incredibly painful. I'm not sure if that's related, but my controllers cannot find any views in the project: <a href=\"https://i.stack.imgur.com/QTMYD.png\" rel=\"nofollow noreferrer\">PIC REL HERE</a>.</p>\n<p>My pom.xml:</p>\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.7.1&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n\n\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;version&gt;2.7.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.vladmihalcea&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-types-52&lt;/artifactId&gt;\n        &lt;version&gt;2.16.3&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n        &lt;version&gt;2.7.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;version&gt;2.7.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;\n        &lt;artifactId&gt;thymeleaf-extras-springsecurity5&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n        &lt;version&gt;5.6.9.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\n        &lt;version&gt;5.3.21&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n        &lt;version&gt;3.12.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\n        &lt;version&gt;2.7.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n        &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;excludes&gt;\n                    &lt;exclude&gt;\n                        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                    &lt;/exclude&gt;\n                &lt;/excludes&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n"},{"tags":["java","maven","spotless"],"comments":[{"owner":{"account_id":1593091,"reputation":898,"user_id":1476031,"display_name":"Sharad"},"score":0,"creation_date":1659031834,"post_id":72893968,"comment_id":129205038,"body_markdown":"https://github.com/diffplug/spotless/issues/1258#event-7003326295 Currently it is not supported .","body":"<a href=\"https://github.com/diffplug/spotless/issues/1258#event-7003326295\" rel=\"nofollow noreferrer\">github.com/diffplug/spotless/issues/1258#event-7003326295</a> Currently it is not supported ."}],"answers":[{"tags":[],"owner":{"account_id":227992,"reputation":17441,"user_id":490018,"accept_rate":67,"display_name":"Sergey Vyacheslavovich Brunov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657567507,"creation_date":1657498791,"answer_id":72932715,"question_id":72893968,"body_markdown":"# Introduction\r\nLet&#39;s consider the limitation: the Spotless formatter steps must be Java-based, i.e. avoid using external programs (`npm`, etc.).\r\n\r\nLet&#39;s consider Spotless Maven plugin `2.23.0` as the current version.\r\n\r\nLet&#39;s call Java-based JSON document formatting and validation the feature.\r\n\r\n# Analysis\r\nAccording to the [feature matrix table](https://github.com/diffplug/spotless/tree/maven/2.23.0#current-feature-matrix), the following formatter steps are available for Spotless Gradle plugin, but not available for Spotless Maven plugin:\r\n\r\n* [json.gson.GsonStep](https://github.com/diffplug/spotless/blob/maven/2.23.0/lib/src/main/java/com/diffplug/spotless/json/gson/GsonStep.java).\r\n* [json.JsonSimpleStep](https://github.com/diffplug/spotless/blob/maven/2.23.0/lib/src/main/java/com/diffplug/spotless/json/JsonSimpleStep.java).\r\n\r\nThese feature steps are Java-based.\r\n\r\n## Summary\r\nCurrently, there are no such Spotless formatter steps available for Spotless Maven plugin — the feature is absent.\r\n\r\n# Possible solutions\r\n## Implement feature\r\n1. Implement the feature.\r\n2. Create a pull request to propose and collaborate on changes to the [GitHub repository](https://github.com/diffplug/spotless).\r\n\r\n## Request feature\r\nRequest the feature by creating an issue in the [GitHub repository](https://github.com/diffplug/spotless).\r\n\r\nIt looks like there was a quick attempt to request it. Please, see the comment:\r\n\r\n* GitHub issue: [Add JVM-based JSON formatter by jamietanna &#183; Pull Request #853 &#183; diffplug/spotless](https://github.com/diffplug/spotless/pull/853).\r\n* [Comment](https://github.com/diffplug/spotless/pull/853#issuecomment-968784849).\r\n\r\n## Find and use additional formatter Maven plugin\r\nFind and use additional formatter Maven plugin that has the feature.\r\n\r\nFor example, it seems that the following formatter Maven plugin supports JSON document formatting and validation:\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;net.revelc.code.formatter&lt;/groupId&gt;\r\n    &lt;artifactId&gt;formatter-maven-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;2.19.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nSome related references:\r\n\r\n* [formatter-maven-plugin – Introduction](https://code.revelc.net/formatter-maven-plugin/).\r\n* [formatter-maven-plugin – formatter:format - configJsonFile parameter](https://code.revelc.net/formatter-maven-plugin/format-mojo.html#configJsonFile).\r\n* [formatter-maven-plugin – formatter:validate - configJsonFile parameter](https://code.revelc.net/formatter-maven-plugin/validate-mojo.html#configJsonFile).\r\n* [formatter-maven-plugin/JsonFormatter.java at formatter-maven-plugin-2.19.0 &#183; revelc/formatter-maven-plugin](https://github.com/revelc/formatter-maven-plugin/blob/formatter-maven-plugin-2.19.0/src/main/java/net/revelc/code/formatter/json/JsonFormatter.java).\r\n* [formatter-maven-plugin/JsonFormatterTest.java at formatter-maven-plugin-2.19.0 &#183; revelc/formatter-maven-plugin](https://github.com/revelc/formatter-maven-plugin/blob/formatter-maven-plugin-2.19.0/src/test/java/net/revelc/code/formatter/json/JsonFormatterTest.java).","title":"JSON files formatting in Spring boot based projects","body":"<h1>Introduction</h1>\n<p>Let's consider the limitation: the Spotless formatter steps must be Java-based, i.e. avoid using external programs (<code>npm</code>, etc.).</p>\n<p>Let's consider Spotless Maven plugin <code>2.23.0</code> as the current version.</p>\n<p>Let's call Java-based JSON document formatting and validation the feature.</p>\n<h1>Analysis</h1>\n<p>According to the <a href=\"https://github.com/diffplug/spotless/tree/maven/2.23.0#current-feature-matrix\" rel=\"nofollow noreferrer\">feature matrix table</a>, the following formatter steps are available for Spotless Gradle plugin, but not available for Spotless Maven plugin:</p>\n<ul>\n<li><a href=\"https://github.com/diffplug/spotless/blob/maven/2.23.0/lib/src/main/java/com/diffplug/spotless/json/gson/GsonStep.java\" rel=\"nofollow noreferrer\">json.gson.GsonStep</a>.</li>\n<li><a href=\"https://github.com/diffplug/spotless/blob/maven/2.23.0/lib/src/main/java/com/diffplug/spotless/json/JsonSimpleStep.java\" rel=\"nofollow noreferrer\">json.JsonSimpleStep</a>.</li>\n</ul>\n<p>These feature steps are Java-based.</p>\n<h2>Summary</h2>\n<p>Currently, there are no such Spotless formatter steps available for Spotless Maven plugin — the feature is absent.</p>\n<h1>Possible solutions</h1>\n<h2>Implement feature</h2>\n<ol>\n<li>Implement the feature.</li>\n<li>Create a pull request to propose and collaborate on changes to the <a href=\"https://github.com/diffplug/spotless\" rel=\"nofollow noreferrer\">GitHub repository</a>.</li>\n</ol>\n<h2>Request feature</h2>\n<p>Request the feature by creating an issue in the <a href=\"https://github.com/diffplug/spotless\" rel=\"nofollow noreferrer\">GitHub repository</a>.</p>\n<p>It looks like there was a quick attempt to request it. Please, see the comment:</p>\n<ul>\n<li>GitHub issue: <a href=\"https://github.com/diffplug/spotless/pull/853\" rel=\"nofollow noreferrer\">Add JVM-based JSON formatter by jamietanna · Pull Request #853 · diffplug/spotless</a>.</li>\n<li><a href=\"https://github.com/diffplug/spotless/pull/853#issuecomment-968784849\" rel=\"nofollow noreferrer\">Comment</a>.</li>\n</ul>\n<h2>Find and use additional formatter Maven plugin</h2>\n<p>Find and use additional formatter Maven plugin that has the feature.</p>\n<p>For example, it seems that the following formatter Maven plugin supports JSON document formatting and validation:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;net.revelc.code.formatter&lt;/groupId&gt;\n    &lt;artifactId&gt;formatter-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.19.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Some related references:</p>\n<ul>\n<li><a href=\"https://code.revelc.net/formatter-maven-plugin/\" rel=\"nofollow noreferrer\">formatter-maven-plugin – Introduction</a>.</li>\n<li><a href=\"https://code.revelc.net/formatter-maven-plugin/format-mojo.html#configJsonFile\" rel=\"nofollow noreferrer\">formatter-maven-plugin – formatter:format - configJsonFile parameter</a>.</li>\n<li><a href=\"https://code.revelc.net/formatter-maven-plugin/validate-mojo.html#configJsonFile\" rel=\"nofollow noreferrer\">formatter-maven-plugin – formatter:validate - configJsonFile parameter</a>.</li>\n<li><a href=\"https://github.com/revelc/formatter-maven-plugin/blob/formatter-maven-plugin-2.19.0/src/main/java/net/revelc/code/formatter/json/JsonFormatter.java\" rel=\"nofollow noreferrer\">formatter-maven-plugin/JsonFormatter.java at formatter-maven-plugin-2.19.0 · revelc/formatter-maven-plugin</a>.</li>\n<li><a href=\"https://github.com/revelc/formatter-maven-plugin/blob/formatter-maven-plugin-2.19.0/src/test/java/net/revelc/code/formatter/json/JsonFormatterTest.java\" rel=\"nofollow noreferrer\">formatter-maven-plugin/JsonFormatterTest.java at formatter-maven-plugin-2.19.0 · revelc/formatter-maven-plugin</a>.</li>\n</ul>\n"}],"owner":{"account_id":1593091,"reputation":898,"user_id":1476031,"display_name":"Sharad"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":522,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657567507,"creation_date":1657179571,"question_id":72893968,"body_markdown":"I have spring boot projects with lots of files in .json apart from .java files. \r\n\r\nFor java formatting, we are using pre-commit hooks with ```google-java-format``` . However, for formatting .json files I am a bit struggling. \r\n\r\nI have used a maven spotless plugin\r\n\r\n```\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;com.diffplug.spotless&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spotless-maven-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;${spotless.version}&lt;/version&gt;\r\n    &lt;configuration&gt;\r\n        &lt;formats&gt;\r\n            &lt;format&gt;\r\n                &lt;includes&gt;\r\n                    &lt;include&gt;*.json&lt;/include&gt;\r\n                &lt;/includes&gt;\r\n                &lt;prettier&gt;\r\n                    &lt;!-- Specify at most one of the following 3 configs: either &#39;prettierVersion&#39; (2.0.5 is default) , &#39;devDependencies&#39; or &#39;devDependencyProperties&#39;  --&gt;\r\n                    &lt;prettierVersion&gt;2.0.5&lt;/prettierVersion&gt;\r\n                    &lt;!-- Specify config file and/or inline config, the inline always trumps file --&gt;\r\n                    &lt;config&gt;\r\n                        &lt;useTabs&gt;true&lt;/useTabs&gt;\r\n                    &lt;/config&gt;\r\n                &lt;/prettier&gt;\r\n            &lt;/format&gt;\r\n        &lt;/formats&gt;\r\n    &lt;/configuration&gt;\r\n    &lt;executions&gt;\r\n        &lt;execution&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;check&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n        &lt;/execution&gt;\r\n    &lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nThe problem with this approach is, that it requires ```npm``` in the machine to be installed else ```mvn clean install``` will fail. Many machines on the jenkins server don&#39;t have npm pre-installed so it fails during the build.\r\n\r\nIs there an easy way to solve this? \r\nPS: This project uses GIT as version control here.\r\n","title":"JSON files formatting in Spring boot based projects","body":"<p>I have spring boot projects with lots of files in .json apart from .java files.</p>\n<p>For java formatting, we are using pre-commit hooks with <code>google-java-format</code> . However, for formatting .json files I am a bit struggling.</p>\n<p>I have used a maven spotless plugin</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;com.diffplug.spotless&lt;/groupId&gt;\n    &lt;artifactId&gt;spotless-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;${spotless.version}&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;formats&gt;\n            &lt;format&gt;\n                &lt;includes&gt;\n                    &lt;include&gt;*.json&lt;/include&gt;\n                &lt;/includes&gt;\n                &lt;prettier&gt;\n                    &lt;!-- Specify at most one of the following 3 configs: either 'prettierVersion' (2.0.5 is default) , 'devDependencies' or 'devDependencyProperties'  --&gt;\n                    &lt;prettierVersion&gt;2.0.5&lt;/prettierVersion&gt;\n                    &lt;!-- Specify config file and/or inline config, the inline always trumps file --&gt;\n                    &lt;config&gt;\n                        &lt;useTabs&gt;true&lt;/useTabs&gt;\n                    &lt;/config&gt;\n                &lt;/prettier&gt;\n            &lt;/format&gt;\n        &lt;/formats&gt;\n    &lt;/configuration&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;check&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>The problem with this approach is, that it requires <code>npm</code> in the machine to be installed else <code>mvn clean install</code> will fail. Many machines on the jenkins server don't have npm pre-installed so it fails during the build.</p>\n<p>Is there an easy way to solve this?\nPS: This project uses GIT as version control here.</p>\n"},{"tags":["java","spring-boot","lombok"],"answers":[{"tags":[],"owner":{"account_id":15910691,"reputation":1091,"user_id":11480721,"display_name":"Ausgefuchster"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1657564586,"creation_date":1657564586,"answer_id":72943157,"question_id":72942839,"body_markdown":"The error says that they can&#39;t parse `Null` into `String`. That&#39;s very interesting error and fooled me first.\r\nYour json object with other field `null` probably looks like this:\r\n```json\r\n{\r\n    &quot;name&quot;: &quot;John&quot;,\r\n    &quot;phone&quot;: &quot;123&quot;,\r\n    &quot;address&quot;: &quot;abc&quot;\r\n}\r\n```\r\nSo somehow this API can&#39;t just wrap quotes around `null` and tells you it&#39;s not able to parse this.\r\n\r\nTherefore I guess you need to set the value of `other` to an empty string:\r\n```java\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Getter\r\n@Setter\r\n@Builder\r\n@ToString\r\n@JsonIgnoreProperties(ignoreUnknown=true)\r\npublic class PersonDTO {\r\n  private String name;\r\n  private String address;\r\n  private String phone;\r\n  private String other = &quot;&quot;; //empty because external api can&#39;t handle null\r\n}\r\n```","title":"How do I make fields in DTO optional using lombok?","body":"<p>The error says that they can't parse <code>Null</code> into <code>String</code>. That's very interesting error and fooled me first.\nYour json object with other field <code>null</code> probably looks like this:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;name&quot;: &quot;John&quot;,\n    &quot;phone&quot;: &quot;123&quot;,\n    &quot;address&quot;: &quot;abc&quot;\n}\n</code></pre>\n<p>So somehow this API can't just wrap quotes around <code>null</code> and tells you it's not able to parse this.</p>\n<p>Therefore I guess you need to set the value of <code>other</code> to an empty string:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@NoArgsConstructor\n@AllArgsConstructor\n@Getter\n@Setter\n@Builder\n@ToString\n@JsonIgnoreProperties(ignoreUnknown=true)\npublic class PersonDTO {\n  private String name;\n  private String address;\n  private String phone;\n  private String other = &quot;&quot;; //empty because external api can't handle null\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2863588,"reputation":11468,"user_id":2458310,"display_name":"denov"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1657567398,"creation_date":1657565014,"answer_id":72943235,"question_id":72942839,"body_markdown":"you are using lombok&#39;s `@NoArgsConstructor` and `@AllArgsConstructor`.  So you have to use one or the other. If you don&#39;t want an all args constructor you&#39;ll have to implement your own.\r\n\r\n     \r\n    @NoArgsConstructor\r\n    @Getter\r\n    @Setter\r\n    @Builder\r\n    @ToString\r\n    @JsonIgnoreProperties(ignoreUnknown=true)\r\n    public class PersonDTO {\r\n      private String name;\r\n      private String address;\r\n      private String phone;\r\n      private String other;\r\n    \r\n      public PersonDTO(String name, String address, String phone) {\r\n        super(name, address, phone, &quot;&quot;);\r\n      }\r\n    \r\n      public PersonDTO(String name, String address, String phone, String other) {\r\n        this.name = name;\r\n        this.address = address;\r\n        this.phone = phone;\r\n        this.other = other\r\n      }\r\n    \r\n    }\r\n\r\n\r\nOr if you have control over AND this is a spring boot app, you could try using `required=false` in your controller so you can continue to use an all arg constructor.\r\n\r\n\r\n    public PersonDTO getPerson(\r\n          @PathVariable(value = &quot;name&quot;) String name,\r\n          @PathVariable(value = &quot;address&quot;) String address\r\n          @PathVariable(value = &quot;phone&quot;) String phone\r\n          @PathVariable(value = &quot;other&quot;, required = false) String other) { \r\n\r\n     ....\r\n\r\n    }","title":"How do I make fields in DTO optional using lombok?","body":"<p>you are using lombok's <code>@NoArgsConstructor</code> and <code>@AllArgsConstructor</code>.  So you have to use one or the other. If you don't want an all args constructor you'll have to implement your own.</p>\n<pre><code>@NoArgsConstructor\n@Getter\n@Setter\n@Builder\n@ToString\n@JsonIgnoreProperties(ignoreUnknown=true)\npublic class PersonDTO {\n  private String name;\n  private String address;\n  private String phone;\n  private String other;\n\n  public PersonDTO(String name, String address, String phone) {\n    super(name, address, phone, &quot;&quot;);\n  }\n\n  public PersonDTO(String name, String address, String phone, String other) {\n    this.name = name;\n    this.address = address;\n    this.phone = phone;\n    this.other = other\n  }\n\n}\n</code></pre>\n<p>Or if you have control over AND this is a spring boot app, you could try using <code>required=false</code> in your controller so you can continue to use an all arg constructor.</p>\n<pre><code>public PersonDTO getPerson(\n      @PathVariable(value = &quot;name&quot;) String name,\n      @PathVariable(value = &quot;address&quot;) String address\n      @PathVariable(value = &quot;phone&quot;) String phone\n      @PathVariable(value = &quot;other&quot;, required = false) String other) { \n\n ....\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3049564,"reputation":811,"user_id":2584453,"accept_rate":52,"display_name":"Sharique"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657566388,"creation_date":1657566388,"answer_id":72943476,"question_id":72942839,"body_markdown":"If attributes are nullable then you can use `@JsonInclude(Include.NON_NULL)`. This will allow to set null value in the attributes. I guess, by default it doesn&#39;t allow null value.","title":"How do I make fields in DTO optional using lombok?","body":"<p>If attributes are nullable then you can use <code>@JsonInclude(Include.NON_NULL)</code>. This will allow to set null value in the attributes. I guess, by default it doesn't allow null value.</p>\n"},{"tags":[],"owner":{"account_id":15910691,"reputation":1091,"user_id":11480721,"display_name":"Ausgefuchster"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657566490,"creation_date":1657566490,"answer_id":72943497,"question_id":72942839,"body_markdown":"Adding `@JsonInclude(JsonInclude.Include.NON_NULL)` is the solution as you said in the comment. This annotation tells the serializer to ignore fields that are null. If you don&#39;t add this the payload will look like this:\r\n\r\n```json\r\n{\r\n    &quot;name&quot;: &quot;John&quot;,\r\n    &quot;phone&quot;: &quot;123&quot;,\r\n    &quot;address&quot;: &quot;abc&quot;,\r\n    &quot;other&quot;: null\r\n}","title":"How do I make fields in DTO optional using lombok?","body":"<p>Adding <code>@JsonInclude(JsonInclude.Include.NON_NULL)</code> is the solution as you said in the comment. This annotation tells the serializer to ignore fields that are null. If you don't add this the payload will look like this:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;name&quot;: &quot;John&quot;,\n    &quot;phone&quot;: &quot;123&quot;,\n    &quot;address&quot;: &quot;abc&quot;,\n    &quot;other&quot;: null\n}\n</code></pre>\n"}],"owner":{"account_id":24443293,"reputation":29,"user_id":18366663,"display_name":"xorax12"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2223,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":72943157,"answer_count":4,"score":-1,"last_activity_date":1657567398,"creation_date":1657562544,"question_id":72942839,"body_markdown":"So I have a DTO like this,\r\n\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Getter\r\n    @Setter\r\n    @Builder\r\n    @ToString\r\n    @JsonIgnoreProperties(ignoreUnknown=true)\r\n    public class PersonDTO {\r\n      private String name;\r\n      private String address;\r\n      private String phone;\r\n      private String other;\r\n    }\r\n\r\nI am passing the following payload to an external API\r\n\r\n    {\r\n        &quot;name&quot;: &quot;John&quot;,\r\n        &quot;phone&quot;: &quot;123&quot;,\r\n        &quot;address&quot;: &quot;abc&quot;\r\n    }\r\n\r\nThis is throwing me 500 internal error:\r\n\r\n    HttpClientErrorException$NotFound: 404: &quot;{&lt;EOL&gt; &quot;status&quot;: &quot;Error&quot;, &lt;EOL&gt; &quot;message&quot;: &quot;Error validating JSON. Error: - Invalid type Null, expected String.&quot;}&quot;\r\n\r\nIf I comment out `other` property in DTO then I will successfully get 200 response. I thought `@JsonIgnoreProperties` annotation is supposed to ignore the properties that are not present but it seems that&#39;s not working.","title":"How do I make fields in DTO optional using lombok?","body":"<p>So I have a DTO like this,</p>\n<pre><code>@NoArgsConstructor\n@AllArgsConstructor\n@Getter\n@Setter\n@Builder\n@ToString\n@JsonIgnoreProperties(ignoreUnknown=true)\npublic class PersonDTO {\n  private String name;\n  private String address;\n  private String phone;\n  private String other;\n}\n</code></pre>\n<p>I am passing the following payload to an external API</p>\n<pre><code>{\n    &quot;name&quot;: &quot;John&quot;,\n    &quot;phone&quot;: &quot;123&quot;,\n    &quot;address&quot;: &quot;abc&quot;\n}\n</code></pre>\n<p>This is throwing me 500 internal error:</p>\n<pre><code>HttpClientErrorException$NotFound: 404: &quot;{&lt;EOL&gt; &quot;status&quot;: &quot;Error&quot;, &lt;EOL&gt; &quot;message&quot;: &quot;Error validating JSON. Error: - Invalid type Null, expected String.&quot;}&quot;\n</code></pre>\n<p>If I comment out <code>other</code> property in DTO then I will successfully get 200 response. I thought <code>@JsonIgnoreProperties</code> annotation is supposed to ignore the properties that are not present but it seems that's not working.</p>\n"},{"tags":["java","datetime","unix-timestamp"],"comments":[{"owner":{"account_id":13016975,"reputation":197,"user_id":9407809,"display_name":"Kevin Crum"},"score":0,"creation_date":1657560531,"post_id":72942360,"comment_id":128834827,"body_markdown":"this looks like a homework assignment, perhaps reaching out to your instructors for advice on how to identify problems in your code.","body":"this looks like a homework assignment, perhaps reaching out to your instructors for advice on how to identify problems in your code."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1657562297,"post_id":72942360,"comment_id":128835437,"body_markdown":"Start simple. A day in UTC (I assume that you are assuming UTC) is 86 400 seconds, so entering 86400 should give January 2, 1970 00:00. I got `12:00 AM  01/01/1970`. Start by finding and fixing this bug. After that there are probably more.","body":"Start simple. A day in UTC (I assume that you are assuming UTC) is 86 400 seconds, so entering 86400 should give January 2, 1970 00:00. I got <code>12:00 AM  01&#47;01&#47;1970</code>. Start by finding and fixing this bug. After that there are probably more."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1657569906,"post_id":72942360,"comment_id":128837687,"body_markdown":"If this is a schoolwork assignment, say so explicitly at the top of your Question.","body":"If this is a schoolwork assignment, say so explicitly at the top of your Question."}],"answers":[{"tags":[],"owner":{"account_id":7547772,"reputation":8583,"user_id":5730279,"display_name":"hc_dev"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1657563449,"creation_date":1657561849,"answer_id":72942707,"question_id":72942360,"body_markdown":"Given\r\n&gt; UNIX time (time in seconds since 12:00 AM January 1, 1970)\r\n\r\nAssume if we convert `0` as integer timestmap in unix-epoch format to a `java.util.Date` we solved it.\r\n\r\n### Using `java.util.Date` (prior to Java 8)\r\n```java\r\nlong unixTimeInMilliseconds = 0; \r\nDate convertedDate = new java.util.Date(unixTimeInMilliseconds);\r\nSystem.out.println(convertedDate);\r\n```\r\nPrints:\r\n```text\r\nThu Jan 01 00:00:00 GMT 1970\r\n```\r\n### Using `java.time.Instant` or suitable Java 8 class \r\nYou can also use the [Java Date/Time API](https://docs.oracle.com/javase/8/docs/technotes/guides/datetime/index.html) introduced since Java 8 in a similar manner:\r\n```java\r\nlong unixTimeInMilliseconds = 0; // 0 ms\r\nInstant timestamp = Instant.ofEpochMilli(unixTimeInMilliseconds);\r\nSystem.out.println(timestamp);\r\n```\r\nPrints:\r\n```text\r\n1970-01-01T00:00:00Z\r\n```\r\n\r\n### See also\r\nhttps://stackoverflow.com/questions/535004/unix-epoch-time-to-java-date-object\r\n","title":"UNIX Time to Date and Time Conversion Problem Java","body":"<p>Given</p>\n<blockquote>\n<p>UNIX time (time in seconds since 12:00 AM January 1, 1970)</p>\n</blockquote>\n<p>Assume if we convert <code>0</code> as integer timestmap in unix-epoch format to a <code>java.util.Date</code> we solved it.</p>\n<h3>Using <code>java.util.Date</code> (prior to Java 8)</h3>\n<pre class=\"lang-java prettyprint-override\"><code>long unixTimeInMilliseconds = 0; \nDate convertedDate = new java.util.Date(unixTimeInMilliseconds);\nSystem.out.println(convertedDate);\n</code></pre>\n<p>Prints:</p>\n<pre><code>Thu Jan 01 00:00:00 GMT 1970\n</code></pre>\n<h3>Using <code>java.time.Instant</code> or suitable Java 8 class</h3>\n<p>You can also use the <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/datetime/index.html\" rel=\"nofollow noreferrer\">Java Date/Time API</a> introduced since Java 8 in a similar manner:</p>\n<pre class=\"lang-java prettyprint-override\"><code>long unixTimeInMilliseconds = 0; // 0 ms\nInstant timestamp = Instant.ofEpochMilli(unixTimeInMilliseconds);\nSystem.out.println(timestamp);\n</code></pre>\n<p>Prints:</p>\n<pre><code>1970-01-01T00:00:00Z\n</code></pre>\n<h3>See also</h3>\n<p><a href=\"https://stackoverflow.com/questions/535004/unix-epoch-time-to-java-date-object\">Unix epoch time to Java Date object</a></p>\n"},{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1657567146,"creation_date":1657567146,"answer_id":72943605,"question_id":72942360,"body_markdown":"You created your own code. That probably was the intent of the homework.\r\nNow pinpoint the problem. \r\n\r\nFor that you can actually create a loop generating different Unix time values.\r\nFor each of these values calculate the date using your code, in parallel calculate the date using `java.util.Date` or `java.util.Instant`. Compare the dates and print results suitable so you can pinpoint the situations where your code produces deviations. Try to understand the deviations and improve your code.\r\n\r\nWith that you would not only exercise coding date calculations but also automated testing or test driven development.","title":"UNIX Time to Date and Time Conversion Problem Java","body":"<p>You created your own code. That probably was the intent of the homework.\nNow pinpoint the problem.</p>\n<p>For that you can actually create a loop generating different Unix time values.\nFor each of these values calculate the date using your code, in parallel calculate the date using <code>java.util.Date</code> or <code>java.util.Instant</code>. Compare the dates and print results suitable so you can pinpoint the situations where your code produces deviations. Try to understand the deviations and improve your code.</p>\n<p>With that you would not only exercise coding date calculations but also automated testing or test driven development.</p>\n"}],"owner":{"account_id":25783098,"reputation":13,"user_id":19528427,"display_name":"Roy A."},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":345,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72943605,"answer_count":2,"score":0,"last_activity_date":1657567146,"creation_date":1657560023,"question_id":72942360,"body_markdown":"IMPORTANT: external libraries, Date and Instant class are not allowed\r\n\r\n&gt; You may not use any library routines for manipulation of time or\r\n&gt; dates, such as converting UNIX time to a date string or for formatting\r\n&gt; date strings in general. All calculations for determining year, month,\r\n&gt; day, and time must appear in your source.\r\n\r\nI wrote this program to convert from UNIX time (time in seconds since 12:00 AM January 1, 1970) to normal date and time. At first glance it seems to work fine, but in some tests it was off by exactly one day. The hours, minutes, months, and years are always correct, but the days are one too few. \r\n\r\nFor example, when using UNIX time 1234567890 the program produces 11:31 PM  02/13/2009, which is correct! However when inputing 1111111111 (10 1&#39;s), the program produces 1:58 AM  03/17/2005, where it should output 01:58 AM 03/18/2005. 64075132196 produces 7:49 AM  06/17/4000 (correct) but 95632040996 produces 7:49 AM 06/16/5000, where it should be the 17th day instead of the 16th.\r\n\r\nIn order to check my program, I entered a date and time into https://www.unixtimestamp.com/ and entered the resulting UNIX time into my program. (This is how I managed to get exact UNIX codes in the troubleshooting above).\r\n\r\nI would appreciate help finding this error and additionally implementing a more efficient solution to this problem altogether.\r\n\r\n```\r\nimport java.util.*;\r\nclass Main {\r\n  public static void main(String[] args) {\r\n    System.out.println(&quot;\\nEnter UNIX time&quot;);\r\n    Scanner scan = new Scanner(System.in);\r\n    int[] monthDays = {31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};\r\n    int[] leapYearMonthDays = {31, 29, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};\r\n    long unix = scan.nextLong();\r\n    int years = 0, months = 0, days = 0, hours = 0, minutes = 0;\r\n\r\n    boolean leapYear = false;\r\n    String AMPM = &quot;AM&quot;;\r\n    \r\n    while (unix &gt;= 60) {\r\n      unix -= 60;\r\n      minutes++;\r\n      \r\n      if (minutes &gt;= 60) {\r\n        minutes -= 60;\r\n        hours++;\r\n      }\r\n      if (hours &gt;= 24) {\r\n        hours -= 24;\r\n        days++;\r\n      }\r\n      if (leapYear) {\r\n        if (days &gt;= leapYearMonthDays[months]) {\r\n          days -= leapYearMonthDays[months];\r\n          months++;\r\n        }\r\n      }\r\n      else {\r\n        if (days &gt;= monthDays[months]) {\r\n          days -= monthDays[months];\r\n          months++;\r\n        }\r\n      }\r\n      if (months &gt;= 12) {\r\n        if (isLeapYear(1970 + years)) leapYear = true; else leapYear = false;\r\n        months -= 12;\r\n        years++;\r\n      }\r\n    }\r\n    \r\n    if (hours &gt; 12) {\r\n      AMPM = &quot;PM&quot;;\r\n      hours -= 12;\r\n    }\r\n    \r\n    if (days == 0) days = 1;\r\n    String daysString = String.valueOf(days);\r\n    if (daysString.length() == 1) daysString = &quot;0&quot; + daysString;\r\n    String monthsString = String.valueOf(months + 1);\r\n    if (monthsString.length() == 1) monthsString = &quot;0&quot; + monthsString;\r\n    String minutesString = String.valueOf(minutes);\r\n    if (minutesString.length() == 1) minutesString = &quot;0&quot; + minutesString;\r\n    if (hours == 0) hours = 12;\r\n\r\n    System.out.println(&quot;\\n&quot; + hours + &quot;:&quot; + minutesString + &quot; &quot; + AMPM + &quot;  &quot; + monthsString + &quot;/&quot; + daysString + &quot;/&quot; + (years + 1970));\r\n  }\r\n\r\n  public static boolean isLeapYear (int year) {\r\n    if (year % 4 == 0) {\r\n      if (year % 100 == 0) {\r\n        if (year % 400 == 0) {\r\n          return true;\r\n        }\r\n        else return false;\r\n      }\r\n      else return true;\r\n    }\r\n    return false;\r\n  }\r\n}\r\n```","title":"UNIX Time to Date and Time Conversion Problem Java","body":"<p>IMPORTANT: external libraries, Date and Instant class are not allowed</p>\n<blockquote>\n<p>You may not use any library routines for manipulation of time or\ndates, such as converting UNIX time to a date string or for formatting\ndate strings in general. All calculations for determining year, month,\nday, and time must appear in your source.</p>\n</blockquote>\n<p>I wrote this program to convert from UNIX time (time in seconds since 12:00 AM January 1, 1970) to normal date and time. At first glance it seems to work fine, but in some tests it was off by exactly one day. The hours, minutes, months, and years are always correct, but the days are one too few.</p>\n<p>For example, when using UNIX time 1234567890 the program produces 11:31 PM  02/13/2009, which is correct! However when inputing 1111111111 (10 1's), the program produces 1:58 AM  03/17/2005, where it should output 01:58 AM 03/18/2005. 64075132196 produces 7:49 AM  06/17/4000 (correct) but 95632040996 produces 7:49 AM 06/16/5000, where it should be the 17th day instead of the 16th.</p>\n<p>In order to check my program, I entered a date and time into <a href=\"https://www.unixtimestamp.com/\" rel=\"nofollow noreferrer\">https://www.unixtimestamp.com/</a> and entered the resulting UNIX time into my program. (This is how I managed to get exact UNIX codes in the troubleshooting above).</p>\n<p>I would appreciate help finding this error and additionally implementing a more efficient solution to this problem altogether.</p>\n<pre><code>import java.util.*;\nclass Main {\n  public static void main(String[] args) {\n    System.out.println(&quot;\\nEnter UNIX time&quot;);\n    Scanner scan = new Scanner(System.in);\n    int[] monthDays = {31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};\n    int[] leapYearMonthDays = {31, 29, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};\n    long unix = scan.nextLong();\n    int years = 0, months = 0, days = 0, hours = 0, minutes = 0;\n\n    boolean leapYear = false;\n    String AMPM = &quot;AM&quot;;\n    \n    while (unix &gt;= 60) {\n      unix -= 60;\n      minutes++;\n      \n      if (minutes &gt;= 60) {\n        minutes -= 60;\n        hours++;\n      }\n      if (hours &gt;= 24) {\n        hours -= 24;\n        days++;\n      }\n      if (leapYear) {\n        if (days &gt;= leapYearMonthDays[months]) {\n          days -= leapYearMonthDays[months];\n          months++;\n        }\n      }\n      else {\n        if (days &gt;= monthDays[months]) {\n          days -= monthDays[months];\n          months++;\n        }\n      }\n      if (months &gt;= 12) {\n        if (isLeapYear(1970 + years)) leapYear = true; else leapYear = false;\n        months -= 12;\n        years++;\n      }\n    }\n    \n    if (hours &gt; 12) {\n      AMPM = &quot;PM&quot;;\n      hours -= 12;\n    }\n    \n    if (days == 0) days = 1;\n    String daysString = String.valueOf(days);\n    if (daysString.length() == 1) daysString = &quot;0&quot; + daysString;\n    String monthsString = String.valueOf(months + 1);\n    if (monthsString.length() == 1) monthsString = &quot;0&quot; + monthsString;\n    String minutesString = String.valueOf(minutes);\n    if (minutesString.length() == 1) minutesString = &quot;0&quot; + minutesString;\n    if (hours == 0) hours = 12;\n\n    System.out.println(&quot;\\n&quot; + hours + &quot;:&quot; + minutesString + &quot; &quot; + AMPM + &quot;  &quot; + monthsString + &quot;/&quot; + daysString + &quot;/&quot; + (years + 1970));\n  }\n\n  public static boolean isLeapYear (int year) {\n    if (year % 4 == 0) {\n      if (year % 100 == 0) {\n        if (year % 400 == 0) {\n          return true;\n        }\n        else return false;\n      }\n      else return true;\n    }\n    return false;\n  }\n}\n</code></pre>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1657566843,"post_id":72943434,"comment_id":128836747,"body_markdown":"What is crashes?  Is there a stack trace?  If so, can you add it as text to the question formatted as code?","body":"What is crashes?  Is there a stack trace?  If so, can you add it as text to the question formatted as code?"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1657572874,"post_id":72943434,"comment_id":128838531,"body_markdown":"Note that &quot;crash&quot; has a pretty standard meaning in software development. Typically, it means there was a critical and catastrophic failure that caused the entire process to terminate. Your description does not match that kind of failure. It seems you&#39;re simply seeing visual &quot;artifacts&quot;, and based on the code provided, that&#39;s caused by the improper implementation of `updateItem` in your custom cell (see link by James_D).","body":"Note that &quot;crash&quot; has a pretty standard meaning in software development. Typically, it means there was a critical and catastrophic failure that caused the entire process to terminate. Your description does not match that kind of failure. It seems you&#39;re simply seeing visual &quot;artifacts&quot;, and based on the code provided, that&#39;s caused by the improper implementation of <code>updateItem</code> in your custom cell (see link by James_D)."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1657578550,"post_id":72943434,"comment_id":128839785,"body_markdown":"Your example works if I follow the [API](https://openjfx.io/javadoc/17/javafx.controls/javafx/scene/control/Cell.html#updateItem(T,boolean)), as shown [here](https://stackoverflow.com/a/26822360/230513). If this is not a duplicate, please [edit] your question to include a [mre] that shows your revised approach.","body":"Your example works if I follow the <a href=\"https://openjfx.io/javadoc/17/javafx.controls/javafx/scene/control/Cell.html#updateItem(T,boolean)\" rel=\"nofollow noreferrer\">API</a>, as shown <a href=\"https://stackoverflow.com/a/26822360/230513\">here</a>. If this is not a duplicate, please <a href=\"https://stackoverflow.com/posts/72943434/edit\">edit</a> your question to include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that shows your revised approach."},{"owner":{"account_id":14133436,"reputation":21,"user_id":10210725,"display_name":"M. Fahim"},"score":0,"creation_date":1657580233,"post_id":72943434,"comment_id":128840104,"body_markdown":"@jewelsea, thanks for the reply, there was not stack trace.","body":"@jewelsea, thanks for the reply, there was not stack trace."},{"owner":{"account_id":14133436,"reputation":21,"user_id":10210725,"display_name":"M. Fahim"},"score":1,"creation_date":1657580333,"post_id":72943434,"comment_id":128840115,"body_markdown":"Thanks @Slaw and trashgod, I think the is duplicated question. The answer you guys pointed out fixed the issue I had.","body":"Thanks @Slaw and trashgod, I think the is duplicated question. The answer you guys pointed out fixed the issue I had."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1657651816,"post_id":72943434,"comment_id":128860102,"body_markdown":"Also consider `TreeView&lt;File&gt;` and `TreeItem&lt;File&gt;`.","body":"Also consider <code>TreeView&lt;File&gt;</code> and <code>TreeItem&lt;File&gt;</code>."}],"owner":{"account_id":14133436,"reputation":21,"user_id":10210725,"display_name":"M. Fahim"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1657578621,"answer_count":0,"score":1,"last_activity_date":1657567001,"creation_date":1657566171,"question_id":72943434,"body_markdown":"Step to produce the bug\r\n 1. Run this code\r\n 2. Expand the root node, if not expanded\r\n 3. Collapse the root node\r\n 4. More folders (like subfolders) will appear at the end of the window\r\n\r\n----\r\n\r\n    import java.io.File;\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Paths;\r\n    import java.util.Arrays;\r\n    \r\n    import javafx.application.Application;\r\n    import javafx.event.EventHandler;\r\n    import javafx.scene.Node;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.Label;\r\n    import javafx.scene.control.TreeCell;\r\n    import javafx.scene.control.TreeItem;\r\n    import javafx.scene.control.TreeView;\r\n    import javafx.scene.image.Image;\r\n    import javafx.scene.image.ImageView;\r\n    import javafx.scene.input.MouseEvent;\r\n    import javafx.scene.layout.Pane;\r\n    import javafx.stage.Stage;\r\n    import javafx.util.Callback;\r\n    \r\n    public class Main extends Application {\r\n    \r\n    \tPane box;\r\n    \tTreeView&lt;String&gt; treeView;\r\n    \r\n    \t@Override\r\n    \tpublic void start(Stage stage) {\r\n    \r\n    \t\tTreeItem&lt;String&gt; root = new TreeItem&lt;&gt;(&quot;Root&quot;);\r\n    \t\ttraverse(&quot;a folder path&quot;, root);\r\n    \t\troot.setExpanded(true);\r\n    \r\n    \t\ttreeView = new TreeView&lt;String&gt;(root);\r\n    \t\ttreeView.setShowRoot(true);\r\n    \t\ttreeView.setEditable(true);\r\n    \t\ttreeView.setPrefSize(500, 800);\r\n    \r\n    \t\ttreeView.setCellFactory(new Callback&lt;TreeView&lt;String&gt;, TreeCell&lt;String&gt;&gt;() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic TreeCell&lt;String&gt; call(TreeView&lt;String&gt; paramP) {\r\n    \t\t\t\treturn new TreeCell&lt;String&gt;() {\r\n    \t\t\t\t\t@Override\r\n    \t\t\t\t\tprotected void updateItem(String paramT, boolean paramBoolean) {\r\n    \t\t\t\t\t\tsuper.updateItem(paramT, paramBoolean);\r\n    \t\t\t\t\t\tif (!isEmpty()) {\r\n    \t\t\t\t\t\t\tsetGraphic(new Label(paramT, (Node) importImage(&quot;image path&quot;)));\r\n    \t\t\t\t\t\t\tsetOnMouseClicked(new EventHandler&lt;MouseEvent&gt;() {\r\n    \t\t\t\t\t\t\t\t@Override\r\n    \t\t\t\t\t\t\t\tpublic void handle(MouseEvent event) {\r\n    \r\n    \t\t\t\t\t\t\t\t\tP.print(paramT);\r\n    \t\t\t\t\t\t\t\t\tP.print(treeView.getChildrenUnmodifiable().size());\r\n    \t\t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t\t});\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t}\r\n    \t\t\t\t};\r\n    \t\t\t}\r\n    \t\t});\r\n    \r\n    \t\tbox = new Pane();\r\n    \t\tbox.getChildren().add(treeView);\r\n    \t\tbox.setPrefSize(500, 800);\r\n    \r\n    \t\tScene scene = new Scene(box, 500, 800);\r\n    \r\n    \t\tstage.setTitle(&quot;Tree View Sample&quot;);\r\n    \t\tstage.setScene(scene);\r\n    \t\tstage.show();\r\n    \t}\r\n    \r\n    \tpublic void traverse(String path, TreeItem&lt;String&gt; root) {\r\n    \t\tFile file = new File(path);\r\n    \r\n    \t\tif (!file.isDirectory() || !Files.isReadable(Paths.get(path)))\r\n    \t\t\treturn;\r\n    \t\tArrays.asList(file.listFiles()).forEach(e -&gt; {\r\n    \t\t\tTreeItem&lt;String&gt; temp = new TreeItem&lt;&gt;(e.getName());\r\n    \t\t\troot.getChildren().add(temp);\r\n    \t\t\ttraverse(e.getPath(), temp);\r\n    \t\t});\r\n    \r\n    \t}\r\n    \r\n    \tpublic static ImageView importImage(String path) {\r\n    \t\tImageView image = new ImageView(new Image(path));\r\n    \t\timage.setPreserveRatio(true);\r\n    \t\timage.setFitHeight(20);\r\n    \r\n    \t\treturn image;\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tlaunch(args);\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n","title":"Javafx TreeItem/TreeView UI crashes when collapsing the expanded node. Any help would be appreciated","body":"<p>Step to produce the bug</p>\n<ol>\n<li>Run this code</li>\n<li>Expand the root node, if not expanded</li>\n<li>Collapse the root node</li>\n<li>More folders (like subfolders) will appear at the end of the window</li>\n</ol>\n<hr />\n<pre><code>import java.io.File;\nimport java.nio.file.Files;\nimport java.nio.file.Paths;\nimport java.util.Arrays;\n\nimport javafx.application.Application;\nimport javafx.event.EventHandler;\nimport javafx.scene.Node;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Label;\nimport javafx.scene.control.TreeCell;\nimport javafx.scene.control.TreeItem;\nimport javafx.scene.control.TreeView;\nimport javafx.scene.image.Image;\nimport javafx.scene.image.ImageView;\nimport javafx.scene.input.MouseEvent;\nimport javafx.scene.layout.Pane;\nimport javafx.stage.Stage;\nimport javafx.util.Callback;\n\npublic class Main extends Application {\n\n    Pane box;\n    TreeView&lt;String&gt; treeView;\n\n    @Override\n    public void start(Stage stage) {\n\n        TreeItem&lt;String&gt; root = new TreeItem&lt;&gt;(&quot;Root&quot;);\n        traverse(&quot;a folder path&quot;, root);\n        root.setExpanded(true);\n\n        treeView = new TreeView&lt;String&gt;(root);\n        treeView.setShowRoot(true);\n        treeView.setEditable(true);\n        treeView.setPrefSize(500, 800);\n\n        treeView.setCellFactory(new Callback&lt;TreeView&lt;String&gt;, TreeCell&lt;String&gt;&gt;() {\n            @Override\n            public TreeCell&lt;String&gt; call(TreeView&lt;String&gt; paramP) {\n                return new TreeCell&lt;String&gt;() {\n                    @Override\n                    protected void updateItem(String paramT, boolean paramBoolean) {\n                        super.updateItem(paramT, paramBoolean);\n                        if (!isEmpty()) {\n                            setGraphic(new Label(paramT, (Node) importImage(&quot;image path&quot;)));\n                            setOnMouseClicked(new EventHandler&lt;MouseEvent&gt;() {\n                                @Override\n                                public void handle(MouseEvent event) {\n\n                                    P.print(paramT);\n                                    P.print(treeView.getChildrenUnmodifiable().size());\n                                }\n                            });\n                        }\n                    }\n                };\n            }\n        });\n\n        box = new Pane();\n        box.getChildren().add(treeView);\n        box.setPrefSize(500, 800);\n\n        Scene scene = new Scene(box, 500, 800);\n\n        stage.setTitle(&quot;Tree View Sample&quot;);\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    public void traverse(String path, TreeItem&lt;String&gt; root) {\n        File file = new File(path);\n\n        if (!file.isDirectory() || !Files.isReadable(Paths.get(path)))\n            return;\n        Arrays.asList(file.listFiles()).forEach(e -&gt; {\n            TreeItem&lt;String&gt; temp = new TreeItem&lt;&gt;(e.getName());\n            root.getChildren().add(temp);\n            traverse(e.getPath(), temp);\n        });\n\n    }\n\n    public static ImageView importImage(String path) {\n        ImageView image = new ImageView(new Image(path));\n        image.setPreserveRatio(true);\n        image.setFitHeight(20);\n\n        return image;\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","serialization","deserialization","versioning"],"comments":[{"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"score":0,"creation_date":1657567087,"post_id":72941830,"comment_id":128836812,"body_markdown":"Anybody using serialization: check whether you even need this. Most times I see serializable used it is out of habit, not because anything in the application requires it.","body":"Anybody using serialization: check whether you even need this. Most times I see serializable used it is out of habit, not because anything in the application requires it."}],"answers":[{"tags":[],"owner":{"account_id":24593665,"reputation":262,"user_id":18497177,"display_name":"Trizion"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1657566666,"creation_date":1657562314,"answer_id":72942794,"question_id":72941830,"body_markdown":"From the [Serializable Interface Docs][1]:\r\n\r\n&gt; If a serializable class does not explicitly declare a serialVersionUID, then the serialization runtime will calculate a default serialVersionUID value for that class based on various aspects of the class, as described in the Java(TM) Object Serialization Specification. However, it is strongly recommended that all serializable classes explicitly declare serialVersionUID values, since the default serialVersionUID computation is highly sensitive to class details that may vary depending on compiler implementations, and can thus result in unexpected InvalidClassExceptions during deserialization.\r\n\r\nWhen you see a `serialVersionUID` such as `10275539472837495L`, it is most probable one that was generated by the serialization runtime.\r\n\r\nSo, why would you explicitly set the serialVersionUID to one generated by the runtime? Suppose you forgot to set the serialVersionUID to a specific value such as `1L`, and you serialized a class. After a while, you make some changes to the class implementing the Serializable interface and all out of sudden, an InvalidClassException is thrown because the generated serialVersionUIDs do not match anymore. To fix this, you can explicitly set the serialVersionUID to that generated with the previous version. This is pretty much how one might end up with these long serialVersionUIDs.\r\n\r\nTo avoid this alltogether, it is recommended to explicitly declare serialVersionUID values, as stated in the docs.\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/Serializable.html","title":"Can Java Serialization UID numbering start at 1","body":"<p>From the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/Serializable.html\" rel=\"nofollow noreferrer\">Serializable Interface Docs</a>:</p>\n<blockquote>\n<p>If a serializable class does not explicitly declare a serialVersionUID, then the serialization runtime will calculate a default serialVersionUID value for that class based on various aspects of the class, as described in the Java(TM) Object Serialization Specification. However, it is strongly recommended that all serializable classes explicitly declare serialVersionUID values, since the default serialVersionUID computation is highly sensitive to class details that may vary depending on compiler implementations, and can thus result in unexpected InvalidClassExceptions during deserialization.</p>\n</blockquote>\n<p>When you see a <code>serialVersionUID</code> such as <code>10275539472837495L</code>, it is most probable one that was generated by the serialization runtime.</p>\n<p>So, why would you explicitly set the serialVersionUID to one generated by the runtime? Suppose you forgot to set the serialVersionUID to a specific value such as <code>1L</code>, and you serialized a class. After a while, you make some changes to the class implementing the Serializable interface and all out of sudden, an InvalidClassException is thrown because the generated serialVersionUIDs do not match anymore. To fix this, you can explicitly set the serialVersionUID to that generated with the previous version. This is pretty much how one might end up with these long serialVersionUIDs.</p>\n<p>To avoid this alltogether, it is recommended to explicitly declare serialVersionUID values, as stated in the docs.</p>\n"}],"owner":{"account_id":1807094,"reputation":818,"user_id":1643990,"accept_rate":79,"display_name":"MrB"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72942794,"answer_count":1,"score":2,"last_activity_date":1657566666,"creation_date":1657557404,"question_id":72941830,"body_markdown":"The vast majority of examples of a Java `serialVersionUID` I have seen has a very long `long` value - see for example [here][1] where the given example is `static final long serialVersionUID = 10275539472837495L` or even [the documentation][2] which gives an example of `static final long serialVersionUID = 42L`\r\n\r\nIs there any reason, though, that I can&#39;t call the first version of my class(es) `static final long serialVersionUID = 1L`  the second `2L` and so on?  It compliles, serialises and deserialises fine but I was wondering if there were deeper reasons that made it not best practice.\r\n\r\n\r\n  [1]: https://www.oracle.com/technical-resources/articles/java/serializationapi.html\r\n  [2]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/Serializable.html","title":"Can Java Serialization UID numbering start at 1","body":"<p>The vast majority of examples of a Java <code>serialVersionUID</code> I have seen has a very long <code>long</code> value - see for example <a href=\"https://www.oracle.com/technical-resources/articles/java/serializationapi.html\" rel=\"nofollow noreferrer\">here</a> where the given example is <code>static final long serialVersionUID = 10275539472837495L</code> or even <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/Serializable.html\" rel=\"nofollow noreferrer\">the documentation</a> which gives an example of <code>static final long serialVersionUID = 42L</code></p>\n<p>Is there any reason, though, that I can't call the first version of my class(es) <code>static final long serialVersionUID = 1L</code>  the second <code>2L</code> and so on?  It compliles, serialises and deserialises fine but I was wondering if there were deeper reasons that made it not best practice.</p>\n"},{"tags":["java","json","eclipse","arguments","command-line-arguments"],"comments":[{"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"score":1,"creation_date":1657492879,"post_id":72932268,"comment_id":128816572,"body_markdown":"Does this code work? It looks like there&#39;s a for loop over &quot;x&quot; – `for (int x = 0...` – and then _inside_ that loop, there&#39;s a second for loop over &quot;x&quot; (and an ensuing compiler error). Elsewhere in the code, there&#39;s a call to `documents.put()` with no definition of what `documents` is, something global presumably? This might help: [How to create a Minimal, Reproducible Example](https://stackoverflow.com/help/minimal-reproducible-example)","body":"Does this code work? It looks like there&#39;s a for loop over &quot;x&quot; – <code>for (int x = 0...</code> – and then <i>inside</i> that loop, there&#39;s a second for loop over &quot;x&quot; (and an ensuing compiler error). Elsewhere in the code, there&#39;s a call to <code>documents.put()</code> with no definition of what <code>documents</code> is, something global presumably? This might help: <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">How to create a Minimal, Reproducible Example</a>"},{"owner":{"account_id":15285573,"reputation":1147,"user_id":11028689,"display_name":"Bluetail"},"score":0,"creation_date":1657528552,"post_id":72932268,"comment_id":128822632,"body_markdown":"it does work if I hard-code the part where I load the text file, i.e. loader.LoadTextFile(&quot;TextFile.txt&quot;)","body":"it does work if I hard-code the part where I load the text file, i.e. loader.LoadTextFile(&quot;TextFile.txt&quot;)"}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657566611,"creation_date":1657492952,"answer_id":72932338,"question_id":72932268,"body_markdown":"Whatever parameter matches, you will always overwrite the first given file:\r\n\r\n    for (int x = 0; x &lt; args.length; x++) {\r\n        if (args[x].endsWith(&quot;.json&quot;)) {\r\n            loader.SaveDocumentsToJSON(args[0]);\r\n        }\r\n    }\r\n\r\nYou need to change into \r\n\r\n    loader.SaveDocumentsToJSON(args[x]);\r\n\r\nYet there is still an imminent problem depending on the sequence of the parameters. Check how your code behaves if you first put the json file and afterwards the txt file. Similarly there is no check if you put several txt or json files. I&#39;m wondering whether all that is intended or unplanned side effects.","title":"Using command-line argument for reading and writing files to a program","body":"<p>Whatever parameter matches, you will always overwrite the first given file:</p>\n<pre><code>for (int x = 0; x &lt; args.length; x++) {\n    if (args[x].endsWith(&quot;.json&quot;)) {\n        loader.SaveDocumentsToJSON(args[0]);\n    }\n}\n</code></pre>\n<p>You need to change into</p>\n<pre><code>loader.SaveDocumentsToJSON(args[x]);\n</code></pre>\n<p>Yet there is still an imminent problem depending on the sequence of the parameters. Check how your code behaves if you first put the json file and afterwards the txt file. Similarly there is no check if you put several txt or json files. I'm wondering whether all that is intended or unplanned side effects.</p>\n"}],"owner":{"account_id":15285573,"reputation":1147,"user_id":11028689,"display_name":"Bluetail"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":379,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657566611,"creation_date":1657491834,"question_id":72932268,"body_markdown":"I am trying to use my LoadTextFile() method to read a .txt file from the command prompt in Eclipse and then use another method, SaveDocumentsToJSON, to write into a json.file (again, the name of the json file should be entered as an argument in the command prompt).\r\n\r\nMy code\r\n\r\n    \tpublic static void main(String[] args) {\r\n    \t\t// instantiate an instance of the BTextLoader class.\r\n    \t\tBTextLoader loader = new BTextLoader();\r\n    \r\n    \t\t// Check if command line arguments are NOT empty and then enter the file names.\r\n    \t\tif (args.length &gt; 0) {\r\n    \t\t\t{\r\n    \r\n    // with hard-coded loader.LoadTextFile(&quot;TextFile.txt&quot;) the next part of the code runs as expected.\r\n    \r\n    \r\n    \t\t\t\tfor (int x = 0; x &lt; args.length; x++) {\r\n    \t\t\t\t\tif (args[x].endsWith(&quot;.txt&quot;)) {\r\n    \t\t\t\t\t\tloader.LoadTextFile(args[x]);\r\n    \t\t\t\t\t}\r\n    \r\n    \t\t\t\t\tif (args[x].endsWith(&quot;.json&quot;)) {\r\n    \r\n    \t\t\t\t\t\tloader.SaveDocumentsToJSON(args[0]);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n        \t\telse {\r\n        \t\t\t\t\t\tSystem.err.println(&quot;No valid file was given.&quot;);\r\n        \t\t}\r\n        \t}\r\n        \r\n        public void LoadTextFile(String filePath) {\r\n        \r\n        \t\ttry {\r\n        \t\t\tSystem.out.println(&quot;Loading file...&quot;);\r\n        \t\t\tFile inFile = new File(filePath);\r\n        \t\t\tBufferedReader br = new BufferedReader(new FileReader(inFile));\r\n        \r\n        \t\t\tString line = br.readLine();\r\n        \r\n        \t\t\tInteger counter = 0;\r\n        \t\t\twhile (line != null)\r\n        \r\n        \t\t\t{\r\n        \t\t\t\tif (line.trim().length() &gt; 0) {\r\n        \t\t\t\t\tdocuments.put(&quot;doc&quot; + counter, line);\r\n        \t\t\t\t\t;\r\n        \t\t\t\t\tcounter++;\r\n        \r\n        \t\t\t\t}\r\n        \t\t\t\tline = br.readLine();\r\n        \r\n        \t\t\t}\r\n        \t\t\tbr.close();\r\n        \t\t} catch (Exception e) {\r\n        \t\t\tSystem.out.println(&quot;File Load Failed&quot;);\r\n        \t\t}\r\n\r\nSo if I enter the outputFile.json file in the command prompt, and hard code &quot;TextFile.txt&quot;, then the result is as expected, with the text file remaining unaltered and a new .json file being created.\r\n\r\nHowever, if I try to use loader.LoadTextFile(args[0])  and enter &quot;TextFile.txt  outputFile.json&quot; (two file names with a space) in Eclipse, then my original TextFile.txt gets rewritten with a json structure and  outputFile.json is not created.\r\n\r\n\r\nI need help with loading my .txt file and then saving it with the names as command-line arguments. How can I avoid hard coding my .txt file for this to work?\r\n","title":"Using command-line argument for reading and writing files to a program","body":"<p>I am trying to use my LoadTextFile() method to read a .txt file from the command prompt in Eclipse and then use another method, SaveDocumentsToJSON, to write into a json.file (again, the name of the json file should be entered as an argument in the command prompt).</p>\n<p>My code</p>\n<pre><code>    public static void main(String[] args) {\n        // instantiate an instance of the BTextLoader class.\n        BTextLoader loader = new BTextLoader();\n\n        // Check if command line arguments are NOT empty and then enter the file names.\n        if (args.length &gt; 0) {\n            {\n\n// with hard-coded loader.LoadTextFile(&quot;TextFile.txt&quot;) the next part of the code runs as expected.\n\n\n                for (int x = 0; x &lt; args.length; x++) {\n                    if (args[x].endsWith(&quot;.txt&quot;)) {\n                        loader.LoadTextFile(args[x]);\n                    }\n\n                    if (args[x].endsWith(&quot;.json&quot;)) {\n\n                        loader.SaveDocumentsToJSON(args[0]);\n                    }\n                }\n            }\n        }\n            else {\n                            System.err.println(&quot;No valid file was given.&quot;);\n            }\n        }\n    \n    public void LoadTextFile(String filePath) {\n    \n            try {\n                System.out.println(&quot;Loading file...&quot;);\n                File inFile = new File(filePath);\n                BufferedReader br = new BufferedReader(new FileReader(inFile));\n    \n                String line = br.readLine();\n    \n                Integer counter = 0;\n                while (line != null)\n    \n                {\n                    if (line.trim().length() &gt; 0) {\n                        documents.put(&quot;doc&quot; + counter, line);\n                        ;\n                        counter++;\n    \n                    }\n                    line = br.readLine();\n    \n                }\n                br.close();\n            } catch (Exception e) {\n                System.out.println(&quot;File Load Failed&quot;);\n            }\n</code></pre>\n<p>So if I enter the outputFile.json file in the command prompt, and hard code &quot;TextFile.txt&quot;, then the result is as expected, with the text file remaining unaltered and a new .json file being created.</p>\n<p>However, if I try to use loader.LoadTextFile(args[0])  and enter &quot;TextFile.txt  outputFile.json&quot; (two file names with a space) in Eclipse, then my original TextFile.txt gets rewritten with a json structure and  outputFile.json is not created.</p>\n<p>I need help with loading my .txt file and then saving it with the names as command-line arguments. How can I avoid hard coding my .txt file for this to work?</p>\n"},{"tags":["java","jackson-databind"],"comments":[{"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"score":0,"creation_date":1657565308,"post_id":72942977,"comment_id":128836296,"body_markdown":"You have to post a question to be able to answer it. What you have currently is a requirement. StackOverflow is not intended to convert requirements into code. You can try explaining what you have tried, and what specific problems are you having and then someone might be able to help you.","body":"You have to post a question to be able to answer it. What you have currently is a requirement. StackOverflow is not intended to convert requirements into code. You can try explaining what you have tried, and what specific problems are you having and then someone might be able to help you."},{"owner":{"account_id":22913948,"reputation":72,"user_id":17050817,"display_name":"man123"},"score":0,"creation_date":1657566587,"post_id":72942977,"comment_id":128836677,"body_markdown":"@OscarRyz I have edited the code and added what i have tried out which worked but not feasible solution for my project. can you please take a look now.","body":"@OscarRyz I have edited the code and added what i have tried out which worked but not feasible solution for my project. can you please take a look now."}],"answers":[{"tags":[],"owner":{"account_id":24905680,"reputation":488,"user_id":18775765,"display_name":"luke"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657564720,"creation_date":1657564720,"answer_id":72943182,"question_id":72942977,"body_markdown":"More details might help the post, but if I&#39;m understanding correctly some parameters might not be passed. This is not a problem.\r\n\r\nIf you use a website such as https://json2csharp.com/code-converters/json-to-pojo to create a base object with all parameters that could be sent, the unpassed parameters won&#39;t be defined after deserialization.\r\n\r\nThis could cause problems if you access these undefined members later, so you need some kind of indication of which members were passed (this could be a parameter that is always passed with your response, or an error-handling structure for when undefined members are accidentally accessed).","title":"Based on dynamic JSON input request need to set the parameters value in POJO class","body":"<p>More details might help the post, but if I'm understanding correctly some parameters might not be passed. This is not a problem.</p>\n<p>If you use a website such as <a href=\"https://json2csharp.com/code-converters/json-to-pojo\" rel=\"nofollow noreferrer\">https://json2csharp.com/code-converters/json-to-pojo</a> to create a base object with all parameters that could be sent, the unpassed parameters won't be defined after deserialization.</p>\n<p>This could cause problems if you access these undefined members later, so you need some kind of indication of which members were passed (this could be a parameter that is always passed with your response, or an error-handling structure for when undefined members are accidentally accessed).</p>\n"}],"owner":{"account_id":22913948,"reputation":72,"user_id":17050817,"display_name":"man123"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":464,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1657566534,"creation_date":1657563464,"question_id":72942977,"body_markdown":"I can pass any dynamic JSON as the request body from Postman. For Example-\r\n\r\nJSON 1\r\n```\r\n{\r\n      &quot;controlNumber&quot;: &quot;12345&quot;,\r\n      &quot;AssociateId&quot;: &quot;1A23242aew&quot;,\r\n      &quot;EmployeeCode&quot;: &quot;ABC&quot;\r\n}\r\n```\r\nJSON 2\r\n```\r\n{\r\n      &quot;controlNumber&quot;: &quot;12345&quot;,\r\n      &quot;AssociateId&quot;: &quot;1A23242aew&quot;,\r\n}\r\n```\r\nJSON 3\r\n```\r\n{\r\n   \r\n      &quot;EmployeeCode&quot;: &quot;ABC&quot;\r\n}\r\n```\r\nBased on the input request, I want my specific POJO class properties to be set.\r\nFor example\r\nif i pass JSON 2, then I want only two property ```controlNumber``` and ```AssociateId``` to be set in the POJO class, while other property should get some default or null values.\r\n\r\nBelow is the POJO class\r\n```\r\npublic class EmployeeRequest{\r\n    public String controlNumber;\r\n    @JsonProperty(&quot;AssociateId&quot;) \r\n    public String associateId;\r\n    @JsonProperty(&quot;EmployeeCode&quot;) \r\n    public String employeeCode;\r\n}\r\n```\r\n\r\n**My try out**:\r\nI created the ```HashMap``` out from the dynamic input request, and passing this ```HashMap``` as request to the all the downstream methods.\r\n\r\n```\r\n HashMap&lt;String, String&gt; inputRequest_toMap = new HashMap&lt;&gt;();\r\n        Field[] fields = employeeRequest().getClass().getDeclaredFields();\r\n        String value = &quot;&quot;;\r\n        for (Field field : fields) {\r\n            if (field.get(employeeRequest().toString() != null)) {\r\n                value = field.get(employeeRequest()).toString();\r\n            }\r\n            String key = field.toString();\r\n            if (value != null) {\r\n                inputRequest_toMap.put(key, value);\r\n            }\r\n\r\n\r\n        }\r\n    }\r\n```\r\nPS: I want this result POJO class to be pass as parameter for the ibatis query.","title":"Based on dynamic JSON input request need to set the parameters value in POJO class","body":"<p>I can pass any dynamic JSON as the request body from Postman. For Example-</p>\n<p>JSON 1</p>\n<pre><code>{\n      &quot;controlNumber&quot;: &quot;12345&quot;,\n      &quot;AssociateId&quot;: &quot;1A23242aew&quot;,\n      &quot;EmployeeCode&quot;: &quot;ABC&quot;\n}\n</code></pre>\n<p>JSON 2</p>\n<pre><code>{\n      &quot;controlNumber&quot;: &quot;12345&quot;,\n      &quot;AssociateId&quot;: &quot;1A23242aew&quot;,\n}\n</code></pre>\n<p>JSON 3</p>\n<pre><code>{\n   \n      &quot;EmployeeCode&quot;: &quot;ABC&quot;\n}\n</code></pre>\n<p>Based on the input request, I want my specific POJO class properties to be set.\nFor example\nif i pass JSON 2, then I want only two property <code>controlNumber</code> and <code>AssociateId</code> to be set in the POJO class, while other property should get some default or null values.</p>\n<p>Below is the POJO class</p>\n<pre><code>public class EmployeeRequest{\n    public String controlNumber;\n    @JsonProperty(&quot;AssociateId&quot;) \n    public String associateId;\n    @JsonProperty(&quot;EmployeeCode&quot;) \n    public String employeeCode;\n}\n</code></pre>\n<p><strong>My try out</strong>:\nI created the <code>HashMap</code> out from the dynamic input request, and passing this <code>HashMap</code> as request to the all the downstream methods.</p>\n<pre><code> HashMap&lt;String, String&gt; inputRequest_toMap = new HashMap&lt;&gt;();\n        Field[] fields = employeeRequest().getClass().getDeclaredFields();\n        String value = &quot;&quot;;\n        for (Field field : fields) {\n            if (field.get(employeeRequest().toString() != null)) {\n                value = field.get(employeeRequest()).toString();\n            }\n            String key = field.toString();\n            if (value != null) {\n                inputRequest_toMap.put(key, value);\n            }\n\n\n        }\n    }\n</code></pre>\n<p>PS: I want this result POJO class to be pass as parameter for the ibatis query.</p>\n"},{"tags":["java","multithreading","swing","runnable"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1657568184,"post_id":72942409,"comment_id":128837160,"body_markdown":"Code that&#39;s more than 5 years old is not necessarily &quot;outdated&quot;.","body":"Code that&#39;s more than 5 years old is not necessarily &quot;outdated&quot;."},{"owner":{"account_id":17975995,"reputation":551,"user_id":13063551,"display_name":"Mr.Gomer"},"score":0,"creation_date":1657568273,"post_id":72942409,"comment_id":128837191,"body_markdown":"Well maybe not but there seems to be a. lot of new and more efficient code out now.","body":"Well maybe not but there seems to be a. lot of new and more efficient code out now."}],"answers":[{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1657566457,"creation_date":1657566457,"answer_id":72943488,"question_id":72942409,"body_markdown":"Making your JPanel implement Runnable is not the best solution.  There is no reason to expose a `run()` method to other classes.\r\n\r\nInstead, create a private void method that takes no arguments.  A method reference that refers to that method can act as a Runnable, since it will have the same arguments and return type.  You can then pass it to a Thread constructor.\r\n\r\n    public MapPanel() {\r\n        // ...\r\n\r\n        readImage();\r\n        new Thread(this::readShapes, &quot;Reading shapes&quot;).start();\r\n\r\n        // ...\r\n    }\r\n\r\n    private void readShapes() {\r\n        try {\r\n            List&lt;Shape&gt; newShapes = new ArrayList&lt;&gt;();\r\n\r\n            URL server = new URL(&quot;https://example.com/indonesia/data&quot;);\r\n            try (InputStream dataSource = server.openStream()) {\r\n                while ( /* ... */ ) {\r\n                    Shape shape = /* ... */;\r\n                    newShapes.add(shape);\r\n                }\r\n            }\r\n\r\n            EventQueue.invokeLater(() -&gt; setShapes(newShapes));\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n            EventQueue.invokeLater(() -&gt; {\r\n                JOptionPane.showMessageDialog(getTopLevelContainer(),\r\n                    &quot;Unable to retrieve data:\\n&quot; + e, &quot;Load Error&quot;,\r\n                    JOptionPane.ERROR_MESSAGE);\r\n            });\r\n        }\r\n    }\r\n\r\nNotice that calls to methods involving Swing objects are always wrapped in a call to EventQueue.invokeLater, to make sure they run on the correct thread.\r\n\r\nIt is possible to improve this by creating a progress dialog that shows while the data is being loaded, but that would make this answer much longer and would require more knowledge about the Indonesian API you’re calling.\r\n","title":"Updating JPanel based on results from slow server (Using threads to not block GUI)","body":"<p>Making your JPanel implement Runnable is not the best solution.  There is no reason to expose a <code>run()</code> method to other classes.</p>\n<p>Instead, create a private void method that takes no arguments.  A method reference that refers to that method can act as a Runnable, since it will have the same arguments and return type.  You can then pass it to a Thread constructor.</p>\n<pre><code>public MapPanel() {\n    // ...\n\n    readImage();\n    new Thread(this::readShapes, &quot;Reading shapes&quot;).start();\n\n    // ...\n}\n\nprivate void readShapes() {\n    try {\n        List&lt;Shape&gt; newShapes = new ArrayList&lt;&gt;();\n\n        URL server = new URL(&quot;https://example.com/indonesia/data&quot;);\n        try (InputStream dataSource = server.openStream()) {\n            while ( /* ... */ ) {\n                Shape shape = /* ... */;\n                newShapes.add(shape);\n            }\n        }\n\n        EventQueue.invokeLater(() -&gt; setShapes(newShapes));\n    } catch (IOException e) {\n        e.printStackTrace();\n        EventQueue.invokeLater(() -&gt; {\n            JOptionPane.showMessageDialog(getTopLevelContainer(),\n                &quot;Unable to retrieve data:\\n&quot; + e, &quot;Load Error&quot;,\n                JOptionPane.ERROR_MESSAGE);\n        });\n    }\n}\n</code></pre>\n<p>Notice that calls to methods involving Swing objects are always wrapped in a call to EventQueue.invokeLater, to make sure they run on the correct thread.</p>\n<p>It is possible to improve this by creating a progress dialog that shows while the data is being loaded, but that would make this answer much longer and would require more knowledge about the Indonesian API you’re calling.</p>\n"}],"owner":{"account_id":17975995,"reputation":551,"user_id":13063551,"display_name":"Mr.Gomer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72943488,"answer_count":1,"score":1,"last_activity_date":1657566457,"creation_date":1657560246,"question_id":72942409,"body_markdown":"So I have been looking to update one of my panels in a my client code with data that comes from a server in Indonesia. The delay is rather long (2-8) sec and Im noticing that my UI is freezing during the time it takes for the response to return from the server. \r\n\r\nThe response will be used to draw some points on a map (not yet implemented).\r\nI have been looking all over the net to find out how to do it and I have come across:\r\n\r\nInvokeLater.\r\nSwingWroker.\r\nScheduledThreadPoolExecutor.\r\nMaking the JPanel a runnable to run in its own thread(seems like best option). \r\nhttp://www.java2s.com/Tutorial/Java/0160__Thread/CreateathreadtoupdateSwing.htm\r\n\r\nBut tbh most of the data i find is out dated (more than 5 years old).\r\n\r\nHere is the JPanel class i want to update based on a server query:\r\n\r\n    public class MapPanel extends JPanel implements Pointable, Runnable {\r\n    \r\n        private static final long serialVersionUID = 1L;\r\n        private List&lt;Shape&gt; shapes = new LinkedList&lt;&gt;();\r\n        private State mapPanelState;\r\n        public Shape selected;\r\n        private BufferedImage image;\r\n    \r\n    \r\n        public MapPanel() {\r\n            Commander.getInstance().addShapeContainer(this);\r\n            mapPanelState = NoState.getInstance();\r\n            MouseHandler mouseHandler = new MouseHandler(this);\r\n            KeyListener keyListener = new KeyListener();\r\n    \r\n            readImage();\r\n    \r\n            this.addMouseListener(mouseHandler);\r\n            this.addMouseMotionListener(mouseHandler);\r\n            this.addKeyListener(keyListener);\r\n            this.setBackground(Color.white);\r\n            this.setFocusable(true);\r\n            this.requestFocusInWindow();\r\n        }\r\n    \r\n        private void readImage(){\r\n            try {\r\n                image = ImageIO.read(new File(&quot;/MapCoordProject/earthmap1.jpg&quot;));\r\n            } catch (IOException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n    \r\n        public void setState(State state) {\r\n            mapPanelState = state;\r\n        }\r\n    \r\n        public List&lt;Shape&gt; getShapes() { return shapes; }\r\n    \r\n        public void setShapes(List&lt;Shape&gt; shapes) {\r\n            this.shapes = shapes;\r\n        }\r\n    \r\n        public Shape getLastShape(){ return shapes.get(shapes.size()-1); }\r\n    \r\n        \r\n        public void paintComponent(Graphics g) {\r\n            super.paintComponent(g);\r\n    \r\n            g.drawImage(image, 0, 0, null);\r\n    \r\n            for (Shape shape : shapes)\r\n                shape.draw((Graphics2D) g);\r\n        }\r\n    \r\n        public void select(Point point) {\r\n            for (Shape shape : shapes) {\r\n                if (shape.intersects(point)) {\r\n                    selected = shape;\r\n                }\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public Dimension getPreferredSize() {\r\n            if (image == null) {\r\n                return super.getPreferredSize();\r\n            } else {\r\n                int w = image.getWidth();\r\n                int h = image.getHeight();\r\n                return new Dimension(w, h);\r\n            }\r\n        }\r\n    \r\n    \r\n    \r\n        public void pointerDown(Point point)  {\r\n            mapPanelState.pointerDown(point, this);\r\n        }\r\n    \r\n        public void pointerUp(Point point) {\r\n            mapPanelState.pointerUp(point, this);\r\n            selected = null;\r\n        }\r\n    \r\n        public void pointerMoved(Point point, boolean pointerDown)  {\r\n            mapPanelState.pointerMoved(point, pointerDown, this);\r\n        }\r\n    \r\n        @Override\r\n        public void run() {\r\n            \r\n        }\r\n    }\r\n\r\nI want a method that updates the &quot;Shapes&quot; array in a separate thread to stop everything from freezing.\r\n\r\nAny suggestions? ","title":"Updating JPanel based on results from slow server (Using threads to not block GUI)","body":"<p>So I have been looking to update one of my panels in a my client code with data that comes from a server in Indonesia. The delay is rather long (2-8) sec and Im noticing that my UI is freezing during the time it takes for the response to return from the server.</p>\n<p>The response will be used to draw some points on a map (not yet implemented).\nI have been looking all over the net to find out how to do it and I have come across:</p>\n<p>InvokeLater.\nSwingWroker.\nScheduledThreadPoolExecutor.\nMaking the JPanel a runnable to run in its own thread(seems like best option).\n<a href=\"http://www.java2s.com/Tutorial/Java/0160__Thread/CreateathreadtoupdateSwing.htm\" rel=\"nofollow noreferrer\">http://www.java2s.com/Tutorial/Java/0160__Thread/CreateathreadtoupdateSwing.htm</a></p>\n<p>But tbh most of the data i find is out dated (more than 5 years old).</p>\n<p>Here is the JPanel class i want to update based on a server query:</p>\n<pre><code>public class MapPanel extends JPanel implements Pointable, Runnable {\n\n    private static final long serialVersionUID = 1L;\n    private List&lt;Shape&gt; shapes = new LinkedList&lt;&gt;();\n    private State mapPanelState;\n    public Shape selected;\n    private BufferedImage image;\n\n\n    public MapPanel() {\n        Commander.getInstance().addShapeContainer(this);\n        mapPanelState = NoState.getInstance();\n        MouseHandler mouseHandler = new MouseHandler(this);\n        KeyListener keyListener = new KeyListener();\n\n        readImage();\n\n        this.addMouseListener(mouseHandler);\n        this.addMouseMotionListener(mouseHandler);\n        this.addKeyListener(keyListener);\n        this.setBackground(Color.white);\n        this.setFocusable(true);\n        this.requestFocusInWindow();\n    }\n\n    private void readImage(){\n        try {\n            image = ImageIO.read(new File(&quot;/MapCoordProject/earthmap1.jpg&quot;));\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n    public void setState(State state) {\n        mapPanelState = state;\n    }\n\n    public List&lt;Shape&gt; getShapes() { return shapes; }\n\n    public void setShapes(List&lt;Shape&gt; shapes) {\n        this.shapes = shapes;\n    }\n\n    public Shape getLastShape(){ return shapes.get(shapes.size()-1); }\n\n    \n    public void paintComponent(Graphics g) {\n        super.paintComponent(g);\n\n        g.drawImage(image, 0, 0, null);\n\n        for (Shape shape : shapes)\n            shape.draw((Graphics2D) g);\n    }\n\n    public void select(Point point) {\n        for (Shape shape : shapes) {\n            if (shape.intersects(point)) {\n                selected = shape;\n            }\n        }\n    }\n\n    @Override\n    public Dimension getPreferredSize() {\n        if (image == null) {\n            return super.getPreferredSize();\n        } else {\n            int w = image.getWidth();\n            int h = image.getHeight();\n            return new Dimension(w, h);\n        }\n    }\n\n\n\n    public void pointerDown(Point point)  {\n        mapPanelState.pointerDown(point, this);\n    }\n\n    public void pointerUp(Point point) {\n        mapPanelState.pointerUp(point, this);\n        selected = null;\n    }\n\n    public void pointerMoved(Point point, boolean pointerDown)  {\n        mapPanelState.pointerMoved(point, pointerDown, this);\n    }\n\n    @Override\n    public void run() {\n        \n    }\n}\n</code></pre>\n<p>I want a method that updates the &quot;Shapes&quot; array in a separate thread to stop everything from freezing.</p>\n<p>Any suggestions?</p>\n"},{"tags":["java","shell","ssh","jsch"],"answers":[{"tags":[],"owner":{"account_id":453710,"reputation":192093,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1511273785,"creation_date":1511269868,"answer_id":47413955,"question_id":47407943,"body_markdown":"Remove this:\r\n\r\n    Thread.sleep(1000);\r\n\r\nThe server probably times out waiting for a request from the client (JSch) and aborts the connection.","title":"&quot;session is down&quot; error when opening an SSH channel with JSch","body":"<p>Remove this:</p>\n\n<pre><code>Thread.sleep(1000);\n</code></pre>\n\n<p>The server probably times out waiting for a request from the client (JSch) and aborts the connection.</p>\n"},{"tags":[],"owner":{"account_id":5022283,"reputation":1523,"user_id":4035426,"accept_rate":100,"display_name":"Bambus"},"down_vote_count":1,"up_vote_count":4,"is_accepted":true,"score":3,"last_activity_date":1511274769,"creation_date":1511271510,"answer_id":47414509,"question_id":47407943,"body_markdown":"Try to use:\r\n\r\n    Properties config = new Properties();\r\n    config.put(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\r\n    config.put(&quot;PreferredAuthentications&quot;, &quot;password&quot;);\r\n    jschSSH.setConfig(config);\r\n\r\nand also set \r\n\r\n    sshSession.connect(connectionTimeout) to 5000 or more.\r\n\r\nalso as Martin said \r\n\r\n    remove Thread.sleep(1000);","title":"&quot;session is down&quot; error when opening an SSH channel with JSch","body":"<p>Try to use:</p>\n\n<pre><code>Properties config = new Properties();\nconfig.put(\"StrictHostKeyChecking\", \"no\");\nconfig.put(\"PreferredAuthentications\", \"password\");\njschSSH.setConfig(config);\n</code></pre>\n\n<p>and also set </p>\n\n<pre><code>sshSession.connect(connectionTimeout) to 5000 or more.\n</code></pre>\n\n<p>also as Martin said </p>\n\n<pre><code>remove Thread.sleep(1000);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15883816,"reputation":63,"user_id":11579483,"display_name":"Mike Packer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657566100,"creation_date":1657564178,"answer_id":72943084,"question_id":47407943,"body_markdown":"I was getting this exact error for a different reason. \r\n\r\nbasically I wasn&#39;t properly disconnecting and had too many sessions open.\r\n\r\nSo when I tried to connect it was giving me the exact stack trace you are getting. \r\n\r\nSimply terminating all the connections(pkill) and making a proper disconnect fixed the issue for me.","title":"&quot;session is down&quot; error when opening an SSH channel with JSch","body":"<p>I was getting this exact error for a different reason.</p>\n<p>basically I wasn't properly disconnecting and had too many sessions open.</p>\n<p>So when I tried to connect it was giving me the exact stack trace you are getting.</p>\n<p>Simply terminating all the connections(pkill) and making a proper disconnect fixed the issue for me.</p>\n"}],"owner":{"account_id":11665302,"reputation":1913,"user_id":8542187,"accept_rate":67,"display_name":"xmlParser"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25154,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":47414509,"answer_count":3,"score":9,"last_activity_date":1657566100,"creation_date":1511251031,"question_id":47407943,"body_markdown":"I have made an SSH client with JSch. The client is working correctly with my Apache Mina SSH server. But when I test it with a real equipment, it fails.\r\n\r\nThis is the code of the client: \r\n\r\n    public boolean openConnection() throws ItsSshException {\r\n\r\n       boolean connectSuccess = false;\r\n       Properties config = new Properties();\r\n       config.put(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\r\n       jschSSH.setConfig(config);\r\n        try {\r\n         sshSession = jschSSH.getSession(username, hostname, port);\r\n         sshSession.setPassword(password);\r\n         sshSession.connect(connectionTimeout);\r\n         LOGGER.info(&quot;Connection timeout : &quot; + connectionTimeout);\r\n         Thread.sleep(1000);\r\n         sshHChannel = sshSession.openChannel(&quot;shell&quot;);\r\n         sshHChannel.connect();\r\n         in = sshHChannel.getInputStream();\r\n         out = new PrintStream(sshHChannel.getOutputStream());\r\n         clearInitialSocketState();\r\n         connectSuccess = true;\r\n       } catch (Exception e) {\r\n         LOGGER.error(&quot;Error during connecting to host: &quot; + hostname +\r\n                      &quot;, port: &quot; + port + &quot;!&quot;, e);\r\n         throw new ItsSshException(&quot;Error during connecting to host: &quot; + e.getMessage());\r\n       }\r\n       LOGGER.info(&quot;connectSuccess : &quot; + connectSuccess);\r\n       return connectSuccess;\r\n    }\r\n\r\n\r\nThe code is failing at this point:\r\n\r\n    sshHChannel = sshSession.openChannel(&quot;shell&quot;);\r\n\r\n&gt; Error during connecting to host: 127.0.0.1, port: 22!    \r\n&gt; com.jcraft.jsch.JSchException: session is down  \r\n&gt;\tat com.jcraft.jsch.Session.openChannel(Session.java:861)\r\n\r\nMy question is how to fix this problem and what can make it to occure?\r\n\r\nThis is JSch log:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    INFO: Connecting to 127.0.0.1 port 22 \r\n    INFO: Connection established \r\n    INFO: Remote version string: SSH-2.0-Mocana SSH\r\n    INFO: Local version string: SSH-2.0-JSCH-0.1.54\r\n    INFO: CheckCiphers: aes256-ctr,aes192-ctr,aes128-ctr,aes256-cbc,aes192-cbc,aes128-cbc,3des-ctr,arcfour,arcfour128,arcfour256\r\n    INFO: aes256-ctr is not available.\r\n    INFO: aes192-ctr is not available.\r\n    INFO: aes256-cbc is not available.\r\n    INFO: aes192-cbc is not available.\r\n    INFO: CheckKexes: diffie-hellman-group14-sha1,ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521\r\n    INFO: CheckSignatures: ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521\r\n    INFO: SSH_MSG_KEXINIT sent\r\n    INFO: SSH_MSG_KEXINIT received\r\n    INFO: kex: server: diffie-hellman-group14-sha1,diffie-hellman-group1-sha1\r\n    INFO: kex: server: ssh-dss,ssh-rsa\r\n    INFO: kex: server: aes256-cbc,rijndael256-cbc,aes192-cbc,rijndael192-cbc,aes128-cbc,rijndael128-cbc,3des-cbc,arcfour\r\n    INFO: kex: server: aes256-cbc,rijndael256-cbc,aes192-cbc,rijndael192-cbc,aes128-cbc,rijndael128-cbc,3des-cbc,arcfour\r\n    INFO: kex: server: hmac-sha1,hmac-sha1-96,hmac-md5,hmac-md5-96\r\n    INFO: kex: server: hmac-sha1,hmac-sha1-96,hmac-md5,hmac-md5-96\r\n    INFO: kex: server: none\r\n    INFO: kex: server: none\r\n    INFO: kex: server: \r\n    INFO: kex: server: \r\n    INFO: kex: client: diffie-hellman-group1-sha1\r\n    INFO: kex: client: ssh-rsa,ssh-dss,ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521\r\n    INFO: kex: client: aes128-ctr,aes128-cbc,3des-ctr,3des-cbc,blowfish-cbc\r\n    INFO: kex: client: aes128-ctr,aes128-cbc,3des-ctr,3des-cbc,blowfish-cbc\r\n    INFO: kex: client: hmac-md5,hmac-sha1,hmac-sha2-256,hmac-sha1-96,hmac-md5-96\r\n    INFO: kex: client: hmac-md5,hmac-sha1,hmac-sha2-256,hmac-sha1-96,hmac-md5-96\r\n    INFO: kex: client: none\r\n    INFO: kex: client: none\r\n    INFO: kex: client: \r\n    INFO: kex: client: \r\n    INFO: kex: server-&gt;client aes128-cbc hmac-md5 none\r\n    INFO: kex: client-&gt;server aes128-cbc hmac-md5 none\r\n    INFO: SSH_MSG_KEXDH_INIT sent\r\n    INFO: expecting SSH_MSG_KEXDH_REPLY\r\n    INFO: ssh_rsa_verify: signature true\r\n    WARN: Permanently added &#39;127.0.0.1&#39; (RSA) to the list of known hosts.\r\n    INFO: SSH_MSG_NEWKEYS sent\r\n    INFO: SSH_MSG_NEWKEYS received\r\n    INFO: SSH_MSG_SERVICE_REQUEST sent\r\n    INFO: SSH_MSG_SERVICE_ACCEPT received\r\n    INFO: Authentications that can continue: publickey,keyboard-interactive,password\r\n    INFO: Next authentication method: publickey\r\n    INFO: Authentications that can continue: keyboard-interactive,password\r\n    INFO: Next authentication method: keyboard-interactive\r\n    INFO: Authentications that can continue: password\r\n    INFO: Next authentication method: password\r\n    INFO: Authentication succeeded (password).\r\n    INFO: Caught an exception, leaving main loop due to End of IO Stream Read\r\n    INFO: Disconnecting from 127.0.0.1 port 22\r\n","title":"&quot;session is down&quot; error when opening an SSH channel with JSch","body":"<p>I have made an SSH client with JSch. The client is working correctly with my Apache Mina SSH server. But when I test it with a real equipment, it fails.</p>\n\n<p>This is the code of the client: </p>\n\n<pre><code>public boolean openConnection() throws ItsSshException {\n\n   boolean connectSuccess = false;\n   Properties config = new Properties();\n   config.put(\"StrictHostKeyChecking\", \"no\");\n   jschSSH.setConfig(config);\n    try {\n     sshSession = jschSSH.getSession(username, hostname, port);\n     sshSession.setPassword(password);\n     sshSession.connect(connectionTimeout);\n     LOGGER.info(\"Connection timeout : \" + connectionTimeout);\n     Thread.sleep(1000);\n     sshHChannel = sshSession.openChannel(\"shell\");\n     sshHChannel.connect();\n     in = sshHChannel.getInputStream();\n     out = new PrintStream(sshHChannel.getOutputStream());\n     clearInitialSocketState();\n     connectSuccess = true;\n   } catch (Exception e) {\n     LOGGER.error(\"Error during connecting to host: \" + hostname +\n                  \", port: \" + port + \"!\", e);\n     throw new ItsSshException(\"Error during connecting to host: \" + e.getMessage());\n   }\n   LOGGER.info(\"connectSuccess : \" + connectSuccess);\n   return connectSuccess;\n}\n</code></pre>\n\n<p>The code is failing at this point:</p>\n\n<pre><code>sshHChannel = sshSession.openChannel(\"shell\");\n</code></pre>\n\n<blockquote>\n  <p>Error during connecting to host: 127.0.0.1, port: 22!<br>\n  com.jcraft.jsch.JSchException: session is down<br>\n    at com.jcraft.jsch.Session.openChannel(Session.java:861)</p>\n</blockquote>\n\n<p>My question is how to fix this problem and what can make it to occure?</p>\n\n<p>This is JSch log:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>INFO: Connecting to 127.0.0.1 port 22 \nINFO: Connection established \nINFO: Remote version string: SSH-2.0-Mocana SSH\nINFO: Local version string: SSH-2.0-JSCH-0.1.54\nINFO: CheckCiphers: aes256-ctr,aes192-ctr,aes128-ctr,aes256-cbc,aes192-cbc,aes128-cbc,3des-ctr,arcfour,arcfour128,arcfour256\nINFO: aes256-ctr is not available.\nINFO: aes192-ctr is not available.\nINFO: aes256-cbc is not available.\nINFO: aes192-cbc is not available.\nINFO: CheckKexes: diffie-hellman-group14-sha1,ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521\nINFO: CheckSignatures: ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521\nINFO: SSH_MSG_KEXINIT sent\nINFO: SSH_MSG_KEXINIT received\nINFO: kex: server: diffie-hellman-group14-sha1,diffie-hellman-group1-sha1\nINFO: kex: server: ssh-dss,ssh-rsa\nINFO: kex: server: aes256-cbc,rijndael256-cbc,aes192-cbc,rijndael192-cbc,aes128-cbc,rijndael128-cbc,3des-cbc,arcfour\nINFO: kex: server: aes256-cbc,rijndael256-cbc,aes192-cbc,rijndael192-cbc,aes128-cbc,rijndael128-cbc,3des-cbc,arcfour\nINFO: kex: server: hmac-sha1,hmac-sha1-96,hmac-md5,hmac-md5-96\nINFO: kex: server: hmac-sha1,hmac-sha1-96,hmac-md5,hmac-md5-96\nINFO: kex: server: none\nINFO: kex: server: none\nINFO: kex: server: \nINFO: kex: server: \nINFO: kex: client: diffie-hellman-group1-sha1\nINFO: kex: client: ssh-rsa,ssh-dss,ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521\nINFO: kex: client: aes128-ctr,aes128-cbc,3des-ctr,3des-cbc,blowfish-cbc\nINFO: kex: client: aes128-ctr,aes128-cbc,3des-ctr,3des-cbc,blowfish-cbc\nINFO: kex: client: hmac-md5,hmac-sha1,hmac-sha2-256,hmac-sha1-96,hmac-md5-96\nINFO: kex: client: hmac-md5,hmac-sha1,hmac-sha2-256,hmac-sha1-96,hmac-md5-96\nINFO: kex: client: none\nINFO: kex: client: none\nINFO: kex: client: \nINFO: kex: client: \nINFO: kex: server-&gt;client aes128-cbc hmac-md5 none\nINFO: kex: client-&gt;server aes128-cbc hmac-md5 none\nINFO: SSH_MSG_KEXDH_INIT sent\nINFO: expecting SSH_MSG_KEXDH_REPLY\nINFO: ssh_rsa_verify: signature true\nWARN: Permanently added '127.0.0.1' (RSA) to the list of known hosts.\nINFO: SSH_MSG_NEWKEYS sent\nINFO: SSH_MSG_NEWKEYS received\nINFO: SSH_MSG_SERVICE_REQUEST sent\nINFO: SSH_MSG_SERVICE_ACCEPT received\nINFO: Authentications that can continue: publickey,keyboard-interactive,password\nINFO: Next authentication method: publickey\nINFO: Authentications that can continue: keyboard-interactive,password\nINFO: Next authentication method: keyboard-interactive\nINFO: Authentications that can continue: password\nINFO: Next authentication method: password\nINFO: Authentication succeeded (password).\nINFO: Caught an exception, leaving main loop due to End of IO Stream Read\nINFO: Disconnecting from 127.0.0.1 port 22\n</code></pre>\n"},{"tags":["java","json","jackson","jackson-databind"],"comments":[{"owner":{"account_id":227992,"reputation":17441,"user_id":490018,"accept_rate":67,"display_name":"Sergey Vyacheslavovich Brunov"},"score":0,"creation_date":1657553271,"post_id":72938207,"comment_id":128832204,"body_markdown":"Dear @peachish11235, Welcome to Stack Overflow! Could you please provide a [minimal, complete, and verifiable example](https://stackoverflow.com/help/mcve)?","body":"Dear @peachish11235, Welcome to Stack Overflow! Could you please provide a <a href=\"https://stackoverflow.com/help/mcve\">minimal, complete, and verifiable example</a>?"}],"answers":[{"tags":[],"owner":{"account_id":8756721,"reputation":1016,"user_id":6548090,"display_name":"Ilya Sazonov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657566028,"creation_date":1657566028,"answer_id":72943411,"question_id":72938207,"body_markdown":"In your code the problem is that you check value for null. But value type is MyObject. What you really want is to check for null is value.getAString() and value.getBString() . Or whatever Lombok transforms aString and bString to . \r\n\r\ninstead of \r\n```java\r\n\r\nif (value == null) {\r\n    gen.writeStartObject();\r\n    gen.writeNullField(&quot;AString&quot;);\r\n    gen.writeNullField(&quot;BString&quot;);\r\n    gen.writeEndObject();\r\n}\r\n```\r\nyour code should be\r\n\r\n```java\r\ngen.writeStartObject();\r\n\r\nif (value.getAString() == null) {          \r\n    gen.writeNullField(&quot;AString&quot;);\r\n}\r\nif (value.getBString() == null) {\r\n    gen.writeNullField(&quot;BString&quot;);\r\n}\r\n         \r\ngen.writeEndObject();\r\n```","title":"Override Jackson ObjectMapper config for certain POJOs","body":"<p>In your code the problem is that you check value for null. But value type is MyObject. What you really want is to check for null is value.getAString() and value.getBString() . Or whatever Lombok transforms aString and bString to .</p>\n<p>instead of</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nif (value == null) {\n    gen.writeStartObject();\n    gen.writeNullField(&quot;AString&quot;);\n    gen.writeNullField(&quot;BString&quot;);\n    gen.writeEndObject();\n}\n</code></pre>\n<p>your code should be</p>\n<pre class=\"lang-java prettyprint-override\"><code>gen.writeStartObject();\n\nif (value.getAString() == null) {          \n    gen.writeNullField(&quot;AString&quot;);\n}\nif (value.getBString() == null) {\n    gen.writeNullField(&quot;BString&quot;);\n}\n         \ngen.writeEndObject();\n</code></pre>\n"}],"owner":{"account_id":17245293,"reputation":11,"user_id":12486723,"display_name":"peachish11235"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":509,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1657566028,"creation_date":1657540641,"question_id":72938207,"body_markdown":"I have an object mapper that is initialized with \r\n\r\n    this.objectMapper.setSerializationInclusion(JsonInclude.Include.NON_EMPTY);\r\n\r\nhowever, I need it to not do that for certain POJOs where I want their null value fields. \r\n\r\nI&#39;ve tried setting `(JsonInclude.Include.AWLAYS)` on the class and the field levels of the POJO but it doesn&#39;t work. \r\n\r\nEDIT:\r\nhere is my POJO\r\n\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    @Builder\r\n    @Data\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @EqualsAndHashCode\r\n    @JsonSerialize(using = MyCustomSerializer.class)\r\n    public class MyObject {\r\n    \r\n        @JsonProperty(&quot;AString&quot;)\r\n        private String aString;\r\n    \r\n        @JsonProperty(&quot;BString&quot;)\r\n        private String bString;\r\n    }\r\n\r\ni&#39;ve also written a custom serializer\r\n\r\n    public class MyCustomSerializer extends JsonSerializer&lt;MyCustomSerializer &gt; {\r\n    \r\n        @Override\r\n        public void serialize(MyObject value, JsonGenerator gen, SerializerProvider serializers) throws IOException {\r\n            if (value == null) {\r\n                gen.writeStartObject();\r\n                gen.writeNullField(&quot;AString&quot;);\r\n                gen.writeNullField(&quot;BString&quot;);\r\n                gen.writeEndObject();\r\n            }\r\n        }\r\n    }\r\n\r\ni want the outcome to look like this \r\n\r\n    {\r\n    &quot;AString&quot;: null, \r\n    &quot;BString&quot;: null,\r\n    }\r\n\r\nhowever right now it&#39;s just like this \r\n\r\n    {\r\n    }","title":"Override Jackson ObjectMapper config for certain POJOs","body":"<p>I have an object mapper that is initialized with</p>\n<pre><code>this.objectMapper.setSerializationInclusion(JsonInclude.Include.NON_EMPTY);\n</code></pre>\n<p>however, I need it to not do that for certain POJOs where I want their null value fields.</p>\n<p>I've tried setting <code>(JsonInclude.Include.AWLAYS)</code> on the class and the field levels of the POJO but it doesn't work.</p>\n<p>EDIT:\nhere is my POJO</p>\n<pre><code>@JsonIgnoreProperties(ignoreUnknown = true)\n@Builder\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@EqualsAndHashCode\n@JsonSerialize(using = MyCustomSerializer.class)\npublic class MyObject {\n\n    @JsonProperty(&quot;AString&quot;)\n    private String aString;\n\n    @JsonProperty(&quot;BString&quot;)\n    private String bString;\n}\n</code></pre>\n<p>i've also written a custom serializer</p>\n<pre><code>public class MyCustomSerializer extends JsonSerializer&lt;MyCustomSerializer &gt; {\n\n    @Override\n    public void serialize(MyObject value, JsonGenerator gen, SerializerProvider serializers) throws IOException {\n        if (value == null) {\n            gen.writeStartObject();\n            gen.writeNullField(&quot;AString&quot;);\n            gen.writeNullField(&quot;BString&quot;);\n            gen.writeEndObject();\n        }\n    }\n}\n</code></pre>\n<p>i want the outcome to look like this</p>\n<pre><code>{\n&quot;AString&quot;: null, \n&quot;BString&quot;: null,\n}\n</code></pre>\n<p>however right now it's just like this</p>\n<pre><code>{\n}\n</code></pre>\n"},{"tags":["java","apache-kafka","kafka-consumer-api"],"answers":[{"tags":[],"owner":{"account_id":18010079,"reputation":144,"user_id":13089975,"display_name":"KubePony"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657548357,"creation_date":1657548357,"answer_id":72939871,"question_id":72938880,"body_markdown":"**Parameters:**\r\n\r\npublic ConsumerRecords&lt;K,V&gt; poll(Duration timeout)\r\n\r\ntimeout - The maximum time to block (must not be greater than Long.MAX_VALUE milliseconds)\r\n\r\nAnd yes, it looks like he is blocking the partition\r\n\r\nhttps://kafka.apache.org/26/javadoc/index.html?org/apache/kafka/clients/consumer/KafkaConsumer.html","title":"Kafka conumer.poll() argument","body":"<p><strong>Parameters:</strong></p>\n<p>public ConsumerRecords&lt;K,V&gt; poll(Duration timeout)</p>\n<p>timeout - The maximum time to block (must not be greater than Long.MAX_VALUE milliseconds)</p>\n<p>And yes, it looks like he is blocking the partition</p>\n<p><a href=\"https://kafka.apache.org/26/javadoc/index.html?org/apache/kafka/clients/consumer/KafkaConsumer.html\" rel=\"nofollow noreferrer\">https://kafka.apache.org/26/javadoc/index.html?org/apache/kafka/clients/consumer/KafkaConsumer.html</a></p>\n"},{"tags":[],"owner":{"account_id":19112276,"reputation":777,"user_id":13958041,"display_name":"Rishabh Sharma"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1657564817,"creation_date":1657564817,"answer_id":72943199,"question_id":72938880,"body_markdown":"The poll call is a blocking call from the kafka consumer. The call will return in one of the two conditions:\r\n\r\n 1. **poll duration times out**: The kafka cluster will return the consumer with all the *new* messages that have been published to the topic partition (that consumer has subscribed to) and have not been processed by the consumer.\r\n 2. **max.poll.records have been reached**: As part of kafka consumer config, max number of records to be read in a poll is configured as well. So if we are polling for 1min with max poll records as 1000, the poll call will return if 1000 new messages are available even if 1min is *NOT* over yet. \r\n","title":"Kafka conumer.poll() argument","body":"<p>The poll call is a blocking call from the kafka consumer. The call will return in one of the two conditions:</p>\n<ol>\n<li><strong>poll duration times out</strong>: The kafka cluster will return the consumer with all the <em>new</em> messages that have been published to the topic partition (that consumer has subscribed to) and have not been processed by the consumer.</li>\n<li><strong>max.poll.records have been reached</strong>: As part of kafka consumer config, max number of records to be read in a poll is configured as well. So if we are polling for 1min with max poll records as 1000, the poll call will return if 1000 new messages are available even if 1min is <em>NOT</em> over yet.</li>\n</ol>\n"}],"owner":{"account_id":10962013,"reputation":1813,"user_id":8055025,"accept_rate":67,"display_name":"Ankit Sahay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":624,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72943199,"answer_count":2,"score":1,"last_activity_date":1657565421,"creation_date":1657543779,"question_id":72938880,"body_markdown":"What does the argument in the .poll method mean?\r\n\r\n    ConsumerRecords&lt;String, String&gt; records = consumer.poll(100);\r\n\r\nDoes it mean that consumer will block the execution for 100ms when there is no data in the partition? Or does it mean that it will keep polling for 100ms and batch those data for 100ms and then return?\r\n\r\nIf I may ask it differently, does the argument hold meaning only in cases of no data in the partition or does it mean that data or no-data the consumer will block for 100ms?","title":"Kafka conumer.poll() argument","body":"<p>What does the argument in the .poll method mean?</p>\n<pre><code>ConsumerRecords&lt;String, String&gt; records = consumer.poll(100);\n</code></pre>\n<p>Does it mean that consumer will block the execution for 100ms when there is no data in the partition? Or does it mean that it will keep polling for 100ms and batch those data for 100ms and then return?</p>\n<p>If I may ask it differently, does the argument hold meaning only in cases of no data in the partition or does it mean that data or no-data the consumer will block for 100ms?</p>\n"},{"tags":["java","android","android-asynctask","java.util.concurrent"],"owner":{"account_id":11954296,"reputation":41,"user_id":13722324,"display_name":"A.Z"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":237,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1657564673,"creation_date":1657564592,"question_id":72943159,"body_markdown":"I am new to this concept and trying to follow a YouTube tutorial, in the video, he used AsyncTask to add the note object to the DB and AsyncTask to retrieve the data\r\n\r\nHe used this code to add the notes to DB\r\n\r\n```\r\nclass AddNotesToDatabase extends AsyncTask&lt;Void,Void,Void&gt; {\r\n\r\n        @Override\r\n        protected Void doInBackground(Void... voids) {\r\n            NotesDatabase.getDatabase(getApplicationContext())\r\n                                .noteDao()\r\n                                        .insertNote(note);\r\n        }\r\n\r\n        @Override\r\n        protected void onPostExecute(Void unused) {\r\n            super.onPostExecute(unused);\r\n            //finish the activity\r\n        }\r\n    }\r\n    new AddNotesToDatabase.execute();\r\n ```\r\nWhich I easily replaced with this code after reading an answer on StackOverflow\r\nand it&#39;s working fine\r\n\r\n```\r\nExecutorService executor = Executors.newSingleThreadExecutor();\r\n            Handler handler = new Handler(Looper.getMainLooper());\r\n            executor.execute(() -&gt; {\r\n\r\n                //adding the note object to the database\r\n                NotesDatabase.getDatabase(getApplicationContext())\r\n                                .noteDao()\r\n                                        .insertNote(note);\r\n\r\n                handler.post(() -&gt; {\r\n                    //progressBar.setVisibility(GONE);\r\n                    //finish this activity and go back to my MainActivity\r\n                });\r\n            });\r\n```\r\n\r\nmy problem starts when I want to call these notes back from the database.\r\nIn the tutorial, he used this code\r\n\r\n```\r\nprivate void getNotes() {\r\n\r\n        @SuppressLint(&quot;StaticFieldLeak&quot;)\r\n        class GetNotesFromDatabaseTask extends AsyncTask&lt;Void,Void,List&lt;Note&gt;&gt; {\r\n\r\n            @Override\r\n            protected List&lt;Note&gt; doInBackground(Void... voids) {\r\n                //get the notes list from Room database\r\n                //return that list\r\n                return null;\r\n            }\r\n\r\n            @Override\r\n            protected void onPostExecute(List&lt;Note&gt; notes) {\r\n                super.onPostExecute(notes);\r\n                //assign the returned list to my original list\r\n            }\r\n        }\r\n\r\n        new GetNotesFromDatabaseTask().execute();\r\n    }\r\n```\r\n\r\nI can&#39;t figure out how would I replace this code and use ```java.util.concurrent``` instead to return a list of note objects.\r\n\r\nAny help would be much appreciated \r\n","title":"Using Executer instead of AsyncTask to Get Data From Room Database in Android","body":"<p>I am new to this concept and trying to follow a YouTube tutorial, in the video, he used AsyncTask to add the note object to the DB and AsyncTask to retrieve the data</p>\n<p>He used this code to add the notes to DB</p>\n<pre><code>class AddNotesToDatabase extends AsyncTask&lt;Void,Void,Void&gt; {\n\n        @Override\n        protected Void doInBackground(Void... voids) {\n            NotesDatabase.getDatabase(getApplicationContext())\n                                .noteDao()\n                                        .insertNote(note);\n        }\n\n        @Override\n        protected void onPostExecute(Void unused) {\n            super.onPostExecute(unused);\n            //finish the activity\n        }\n    }\n    new AddNotesToDatabase.execute();\n</code></pre>\n<p>Which I easily replaced with this code after reading an answer on StackOverflow\nand it's working fine</p>\n<pre><code>ExecutorService executor = Executors.newSingleThreadExecutor();\n            Handler handler = new Handler(Looper.getMainLooper());\n            executor.execute(() -&gt; {\n\n                //adding the note object to the database\n                NotesDatabase.getDatabase(getApplicationContext())\n                                .noteDao()\n                                        .insertNote(note);\n\n                handler.post(() -&gt; {\n                    //progressBar.setVisibility(GONE);\n                    //finish this activity and go back to my MainActivity\n                });\n            });\n</code></pre>\n<p>my problem starts when I want to call these notes back from the database.\nIn the tutorial, he used this code</p>\n<pre><code>private void getNotes() {\n\n        @SuppressLint(&quot;StaticFieldLeak&quot;)\n        class GetNotesFromDatabaseTask extends AsyncTask&lt;Void,Void,List&lt;Note&gt;&gt; {\n\n            @Override\n            protected List&lt;Note&gt; doInBackground(Void... voids) {\n                //get the notes list from Room database\n                //return that list\n                return null;\n            }\n\n            @Override\n            protected void onPostExecute(List&lt;Note&gt; notes) {\n                super.onPostExecute(notes);\n                //assign the returned list to my original list\n            }\n        }\n\n        new GetNotesFromDatabaseTask().execute();\n    }\n</code></pre>\n<p>I can't figure out how would I replace this code and use <code>java.util.concurrent</code> instead to return a list of note objects.</p>\n<p>Any help would be much appreciated</p>\n"},{"tags":["java","mysql","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":25780954,"reputation":41,"user_id":19526587,"display_name":"Pranaya Dutt"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1657558517,"creation_date":1657558517,"answer_id":72942053,"question_id":72941835,"body_markdown":"In the company model give the model `@Entity` annotation above `@Table` annotation.","title":"Employee Tracker . setting table relationship using mysql and java spring boot","body":"<p>In the company model give the model <code>@Entity</code> annotation above <code>@Table</code> annotation.</p>\n"},{"tags":[],"owner":{"account_id":25778544,"reputation":66,"user_id":19524472,"display_name":"Raju Ch"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1657560028,"creation_date":1657560028,"answer_id":72942361,"question_id":72941835,"body_markdown":"Add below line to your system.properties file  \r\n\r\n     spring.mvc.pathmatch.matching-strategy=ant_path_matcher\r\n\r\nIn employees class use :  \r\n\r\n     @OneToMany(targetEntity = Employee.class,cascade = ALL,fetch = \r\n     FetchType.LAZY)  \r\n     @JoinColumn(name = &quot;employee_id&quot;,referencedColumnName = &quot;company_id&quot;)  \r\n     private Set&lt;Company&gt; company;  \r\n","title":"Employee Tracker . setting table relationship using mysql and java spring boot","body":"<p>Add below line to your system.properties file</p>\n<pre><code> spring.mvc.pathmatch.matching-strategy=ant_path_matcher\n</code></pre>\n<p>In employees class use :</p>\n<pre><code> @OneToMany(targetEntity = Employee.class,cascade = ALL,fetch = \n FetchType.LAZY)  \n @JoinColumn(name = &quot;employee_id&quot;,referencedColumnName = &quot;company_id&quot;)  \n private Set&lt;Company&gt; company;  \n</code></pre>\n"},{"tags":[],"owner":{"account_id":25783517,"reputation":1,"user_id":19528777,"display_name":"Sai Yoganandh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657564530,"creation_date":1657564530,"answer_id":72943147,"question_id":72941835,"body_markdown":"You should make the company an entity because you cannot make mapping without making the model class into the entity.Use @Entity to make company class entity above @Table(name = company).\r\nAs you are trying to map from employees(many) entity to company(one)entity\r\ntry @ManyToOne mapping in the employees entity by making company_\r\nid a FOREIGN KEY in employee table\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name=&quot;id&quot;,referencedColumnName=&quot;company_id&quot;)\r\n     private Set&lt;Company&gt; company;\r\nIn the above name represents id of company in company entity and referencedColumnName represents company_id in the employee entity.\r\n\r\n","title":"Employee Tracker . setting table relationship using mysql and java spring boot","body":"<p>You should make the company an entity because you cannot make mapping without making the model class into the entity.Use @Entity to make company class entity above @Table(name = company).\nAs you are trying to map from employees(many) entity to company(one)entity\ntry @ManyToOne mapping in the employees entity by making company_\nid a FOREIGN KEY in employee table</p>\n<pre><code>@ManyToOne\n@JoinColumn(name=&quot;id&quot;,referencedColumnName=&quot;company_id&quot;)\n private Set&lt;Company&gt; company;\n</code></pre>\n<p>In the above name represents id of company in company entity and referencedColumnName represents company_id in the employee entity.</p>\n"}],"owner":{"account_id":23864588,"reputation":1,"user_id":17867115,"display_name":"Paul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":326,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1657564530,"creation_date":1657557427,"question_id":72941835,"body_markdown":"I am using Java and Sprig boot with MySQL to create an employee tracker. there are to models: Employee and Company. The Company model just has an autogenerated Id and name. The employee has first_name, last_name, address, salary, company_id, and email_id. The Employee Model belongs to Company model, and it is a oneToMany relationship (because one company has many employees. I am trying to set it up so that the Employee model is linked to the Company model. When I try and run spring boot i get this error:\r\n\r\n    Use of @OneToMany or @ManyToMany targeting an unmapped class: employeeapps.com.example.EmployeeTracker.model.Employee.company[employeeapps.com.example.EmployeeTracker.model.Company]\r\n\r\nHere is my Employee Model: \r\n\r\n    package employeeapps.com.example.EmployeeTracker.model;\r\n    \r\n    import javax.persistence.*;\r\n    import java.util.Set;\r\n    \r\n    @Entity\r\n    @Table(name = &quot;employees&quot;)\r\n    public class Employee {\r\n    \r\n    \r\n        //Company is one and has many employees\r\n        @OneToMany(mappedBy = &quot;employees&quot;)\r\n        private Set&lt;Company&gt; company;\r\n    \r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private long companyId;\r\n    \r\n        @Column(name = &quot;first_name&quot;)\r\n        private String firstName;\r\n    \r\n        @Column(name = &quot;last_name&quot;)\r\n        private String lastName;\r\n    \r\n        @Column(name=&quot;address&quot;)\r\n        private String address;\r\n    \r\n        @Column(name=&quot;salary&quot;)\r\n        private Double salary;\r\n    \r\n        @Column(name = &quot;email_id&quot;)\r\n        private String emailId;\r\n    \r\n    \r\n        //default constructor\r\n        public Employee(){\r\n    \r\n        }\r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n        //create a public constructor with the appropriate parameters to be able to create a new instance of an employee\r\n        public Employee(String firstName, String lastName, String emailId, String address, Double salary){\r\n            super();\r\n            this.firstName = firstName;\r\n            this.lastName = lastName;\r\n            this.emailId = emailId;\r\n            this.salary = salary;\r\n            this.address = address;\r\n        }\r\n    \r\n        //define methods\r\n        //long data type because could be a very long numerical  data\r\n        public long getId() {\r\n            return companyId;\r\n        }\r\n    \r\n        public void setId(long companyId){\r\n            this.companyId = companyId;\r\n        }\r\n    \r\n        public String getFirstName(){\r\n            return firstName;\r\n        }\r\n        public void setFirstName(String firstName){\r\n            this.firstName = firstName;\r\n        }\r\n        public String getLastName(){\r\n            return lastName;\r\n        }\r\n        public void setLastName(String lastName){\r\n            this.lastName = lastName;\r\n        }\r\n        public String getEmailId(){\r\n            return emailId;\r\n        }\r\n        public void setEmailId(String emailId){\r\n            this.emailId = emailId;\r\n        }\r\n    \r\n        public void setAddress(String address){\r\n            this.address = address;\r\n        }\r\n    \r\n        public void setSalary(Double salary){\r\n            this.salary = salary;\r\n        }\r\n\r\nHere is my Compay Model:\r\n\r\n    package employeeapps.com.example.EmployeeTracker.model;\r\n    \r\n    \r\n    import javax.persistence.*;\r\n    \r\n    @Table(name = &quot;company&quot;)\r\n    public class Company {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private long id;\r\n    \r\n        @Column(name = &quot;name&quot;)\r\n        private String name;\r\n    \r\n        public Company(){\r\n    \r\n        }\r\n    \r\n        //public constructor\r\n    \r\n        public Company(String name){\r\n            this.name = name;\r\n    \r\n        }\r\n    \r\n    }\r\n\r\n\r\nHere is my employee controller to preform REST API:\r\n\r\n    package employeeapps.com.example.EmployeeTracker.controller;\r\n    \r\n    import employeeapps.com.example.EmployeeTracker.model.Employee;\r\n    import employeeapps.com.example.EmployeeTracker.repository.employeeRepository;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    import java.util.List;\r\n    \r\n    @RestController\r\n    @RequestMapping(&quot;/api/v1&quot;)\r\n    public class EmployeeController {\r\n    \r\n        @Autowired\r\n       private employeeRepository employeeRepository;\r\n    \r\n    \r\n        //REST APIS\r\n        //get all employees  method name is get all\r\n    \r\n        @GetMapping(&quot;/employees&quot;)\r\n        public List&lt;Employee&gt; getAllEmployees(){\r\n            return employeeRepository.findAll();\r\n    \r\n        }\r\n    }\r\n\r\n\r\n","title":"Employee Tracker . setting table relationship using mysql and java spring boot","body":"<p>I am using Java and Sprig boot with MySQL to create an employee tracker. there are to models: Employee and Company. The Company model just has an autogenerated Id and name. The employee has first_name, last_name, address, salary, company_id, and email_id. The Employee Model belongs to Company model, and it is a oneToMany relationship (because one company has many employees. I am trying to set it up so that the Employee model is linked to the Company model. When I try and run spring boot i get this error:</p>\n<pre><code>Use of @OneToMany or @ManyToMany targeting an unmapped class: employeeapps.com.example.EmployeeTracker.model.Employee.company[employeeapps.com.example.EmployeeTracker.model.Company]\n</code></pre>\n<p>Here is my Employee Model:</p>\n<pre><code>package employeeapps.com.example.EmployeeTracker.model;\n\nimport javax.persistence.*;\nimport java.util.Set;\n\n@Entity\n@Table(name = &quot;employees&quot;)\npublic class Employee {\n\n\n    //Company is one and has many employees\n    @OneToMany(mappedBy = &quot;employees&quot;)\n    private Set&lt;Company&gt; company;\n\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private long companyId;\n\n    @Column(name = &quot;first_name&quot;)\n    private String firstName;\n\n    @Column(name = &quot;last_name&quot;)\n    private String lastName;\n\n    @Column(name=&quot;address&quot;)\n    private String address;\n\n    @Column(name=&quot;salary&quot;)\n    private Double salary;\n\n    @Column(name = &quot;email_id&quot;)\n    private String emailId;\n\n\n    //default constructor\n    public Employee(){\n\n    }\n\n\n\n\n\n\n    //create a public constructor with the appropriate parameters to be able to create a new instance of an employee\n    public Employee(String firstName, String lastName, String emailId, String address, Double salary){\n        super();\n        this.firstName = firstName;\n        this.lastName = lastName;\n        this.emailId = emailId;\n        this.salary = salary;\n        this.address = address;\n    }\n\n    //define methods\n    //long data type because could be a very long numerical  data\n    public long getId() {\n        return companyId;\n    }\n\n    public void setId(long companyId){\n        this.companyId = companyId;\n    }\n\n    public String getFirstName(){\n        return firstName;\n    }\n    public void setFirstName(String firstName){\n        this.firstName = firstName;\n    }\n    public String getLastName(){\n        return lastName;\n    }\n    public void setLastName(String lastName){\n        this.lastName = lastName;\n    }\n    public String getEmailId(){\n        return emailId;\n    }\n    public void setEmailId(String emailId){\n        this.emailId = emailId;\n    }\n\n    public void setAddress(String address){\n        this.address = address;\n    }\n\n    public void setSalary(Double salary){\n        this.salary = salary;\n    }\n</code></pre>\n<p>Here is my Compay Model:</p>\n<pre><code>package employeeapps.com.example.EmployeeTracker.model;\n\n\nimport javax.persistence.*;\n\n@Table(name = &quot;company&quot;)\npublic class Company {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private long id;\n\n    @Column(name = &quot;name&quot;)\n    private String name;\n\n    public Company(){\n\n    }\n\n    //public constructor\n\n    public Company(String name){\n        this.name = name;\n\n    }\n\n}\n</code></pre>\n<p>Here is my employee controller to preform REST API:</p>\n<pre><code>package employeeapps.com.example.EmployeeTracker.controller;\n\nimport employeeapps.com.example.EmployeeTracker.model.Employee;\nimport employeeapps.com.example.EmployeeTracker.repository.employeeRepository;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport java.util.List;\n\n@RestController\n@RequestMapping(&quot;/api/v1&quot;)\npublic class EmployeeController {\n\n    @Autowired\n   private employeeRepository employeeRepository;\n\n\n    //REST APIS\n    //get all employees  method name is get all\n\n    @GetMapping(&quot;/employees&quot;)\n    public List&lt;Employee&gt; getAllEmployees(){\n        return employeeRepository.findAll();\n\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","oracle","stored-procedures","jdbc"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1657544874,"post_id":72939052,"comment_id":128828530,"body_markdown":"Please add the complete stack trace to your question. And what is SQLPersonArray?","body":"Please add the complete stack trace to your question. And what is SQLPersonArray?"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1657545536,"post_id":72939052,"comment_id":128828794,"body_markdown":"if that array is empty, and you try to access the first (non-existing) element of it, what exactly do you think is going to happen? Yes, that seems to be exactly what your problem is","body":"if that array is empty, and you try to access the first (non-existing) element of it, what exactly do you think is going to happen? Yes, that seems to be exactly what your problem is"},{"owner":{"account_id":2975457,"reputation":1032,"user_id":2526586,"accept_rate":33,"display_name":"user2526586"},"score":0,"creation_date":1657545868,"post_id":72939052,"comment_id":128828942,"body_markdown":"@tgdavies Sorry, details added.","body":"@tgdavies Sorry, details added."},{"owner":{"account_id":2975457,"reputation":1032,"user_id":2526586,"accept_rate":33,"display_name":"user2526586"},"score":0,"creation_date":1657545935,"post_id":72939052,"comment_id":128828980,"body_markdown":"@Stultuske It is not me who is trying to access it... I have no control inside Spring&#39;s `StoredProcedure.execute()`","body":"@Stultuske It is not me who is trying to access it... I have no control inside Spring&#39;s <code>StoredProcedure.execute()</code>"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1657546735,"post_id":72939052,"comment_id":128829369,"body_markdown":"@user2526586 so this: at test.mybookingsystem.access.dao.BookingDaoJdbc.createBooking(BookingDaoJdbc.java:161)\n    is not in your code? I&#39;m fairly sure that isn&#39;t a spring package. has it occurred to you to NOT call that method if presenters is empty?","body":"@user2526586 so this: at test.mybookingsystem.access.dao.BookingDaoJdbc.createBooking&zwnj;&#8203;(BookingDaoJdbc.java&zwnj;&#8203;:161)     is not in your code? I&#39;m fairly sure that isn&#39;t a spring package. has it occurred to you to NOT call that method if presenters is empty?"},{"owner":{"account_id":2975457,"reputation":1032,"user_id":2526586,"accept_rate":33,"display_name":"user2526586"},"score":0,"creation_date":1657547180,"post_id":72939052,"comment_id":128829560,"body_markdown":"@Stultuske Sorry, I am not getting your point. `BookingDaoJdbc.createBooking()` is my code.   I DO want to call `CreateBookingFunction.execute()` even if `presenters` is empty, as the oracle function is designed to accept empty array. What puzzle me is why `StoredProcedure.execute()` (or its dependency objects) is trying to access elements inside `presenters` even when the array is empty.","body":"@Stultuske Sorry, I am not getting your point. <code>BookingDaoJdbc.createBooking()</code> is my code.   I DO want to call <code>CreateBookingFunction.execute()</code> even if <code>presenters</code> is empty, as the oracle function is designed to accept empty array. What puzzle me is why <code>StoredProcedure.execute()</code> (or its dependency objects) is trying to access elements inside <code>presenters</code> even when the array is empty."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1657577582,"post_id":72939052,"comment_id":128839580,"body_markdown":"As you can see from the stack trace, `test.mybookingsystem.model.SQLBooking.writeSQL(SQLBooking.java:100)\n` is involved. Please add the code for `SQLBooking` to your question.","body":"As you can see from the stack trace, <code>test.mybookingsystem.model.SQLBooking.writeSQL(SQLBooking.ja&zwnj;&#8203;va:100) </code> is involved. Please add the code for <code>SQLBooking</code> to your question."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1657605033,"post_id":72939052,"comment_id":128843773,"body_markdown":"@user2526586 according to the stacktrace you posted, that line is where the problem occurs. after the update, it points indeed to SQLBooking.java -&gt; 100. If you want us to help you understand your stacktraces, posting only partial stacktraces won&#39;t really do you any good","body":"@user2526586 according to the stacktrace you posted, that line is where the problem occurs. after the update, it points indeed to SQLBooking.java -&gt; 100. If you want us to help you understand your stacktraces, posting only partial stacktraces won&#39;t really do you any good"},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1657618228,"post_id":72939052,"comment_id":128847787,"body_markdown":"The error suggests that `presenters` is an empty array, but at least one is expected. You need to show the code of `test.mybookingsystem.model.SQLBooking.writeSQL`. Likely you should not call `OracleSQLOutput.writeString` with an empty array (or string) in that code.","body":"The error suggests that <code>presenters</code> is an empty array, but at least one is expected. You need to show the code of <code>test.mybookingsystem.model.SQLBooking.writeSQL</code>. Likely you should not call <code>OracleSQLOutput.writeString</code> with an empty array (or string) in that code."}],"owner":{"account_id":2975457,"reputation":1032,"user_id":2526586,"accept_rate":33,"display_name":"user2526586"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":424,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657564221,"creation_date":1657544595,"question_id":72939052,"body_markdown":"I am stuck with an exception on a Java/Spring application. I hope someone can help.\r\n\r\nI have extended `org.springframework.jdbc.object.StoredProcedure` for an Oracle function called. \r\n```\r\npublic class CreateBookingFunction extends StoredProcedure {\r\n\tpublic CreateBookingFunction(JdbcTemplate jdbcTemplate, String procName){\r\n\t\t// initialise function.\r\n\t\tsuper(jdbcTemplate, procName);\r\n\t\tsetFunction(true);\r\n \t\t// function return.\r\n   \t    declareParameter(new SqlOutParameter(&quot;po_result&quot;, OracleTypes.VARCHAR));\r\n     \t// input parameters bookingid, presenter array, booking date array, event mail object.\r\n\t\tdeclareParameter(new SqlParameter(&quot;pi_booking&quot;,OracleTypes.STRUCT,&quot;BOOKING_TYP&quot;));\r\n\t\tdeclareParameter(new SqlParameter(&quot;pi_presenters&quot;,OracleTypes.ARRAY,&quot;PERSON_TBL_TYP&quot;));\r\n\t\t// function result DBResult object.\r\n     \tdeclareParameter(new SqlOutParameter(&quot;po_return&quot;,OracleTypes.STRUCT,&quot;RETURN_TYP&quot;,new SqlReturnSqlData(SQLDBResult.class)));\r\n\t\tallowsUnusedParameters();\r\n     \t// compile function.\r\n\t\tcompile();\r\n\t}\r\n\t\r\n\tpublic Map execute(JdbcTemplate jdbcTemplate, SQLBooking booking, SQLPerson[] presenters) {\r\n\t    Map&lt;String, Object&gt; params = new HashMap&lt;String, Object&gt;();\r\n\t\t// pass in input parameter objects.\r\n\t\tparams.put(&quot;pi_booking&quot;, booking);\r\n\t\tparams.put(&quot;pi_presenters&quot;, new SQLPersonArray(presenters));\r\n\t\t// execute function.\r\n\t\treturn super.execute(params);\r\n    }\t\r\n}\r\n\r\n```\r\nand `SQLPersonArray` is simply an array wrapper for `AbstractSqlTypeValue`:\r\n```\r\npublic class SQLPersonArray extends AbstractSqlTypeValue {\r\n\tprivate SQLPerson[] sqlPersonArr;\r\n\t// constructor.\r\n\tpublic SQLPersonArray(SQLPerson[] sqlPersonArr){\r\n\t\tthis.sqlPersonArr = sqlPersonArr;\r\n\t}\r\n\t@Override\r\n\tprotected Object createTypeValue(Connection connection, int sqlType, String typeName)\r\n\t\t\tthrows SQLException {\r\n\t\tArrayDescriptor arrayDescriptor = new ArrayDescriptor(typeName, connection);\r\n        return new oracle.sql.ARRAY(arrayDescriptor, connection, sqlPersonArr);\r\n\t}\r\n}\r\n```\r\n\r\n\r\nThe Oracle function and types are simply defined as:\r\n```\r\nfunction create_booking (\r\n     pi_booking      in    booking_typ  \r\n    ,pi_presenters   in    person_tbl_typ default null\r\n    ,po_return       out   return_typ\r\n  ) return integer;\r\n\r\ncreate or replace type booking_typ force as object (\r\n     booking_id          varchar2(60)\r\n    ,room_name           varchar2(500)\r\n    ,start_date          varchar2(20)\r\n    ,duration            varchar2(20)\r\n    ,constructor function booking_typ return self as result\r\n  ) not final;\r\n\r\ncreate or replace type person_tbl_typ as table of person_typ;\r\n\r\ncreate or replace type &quot;PERSON_TYP&quot; force as object (\r\n     id                  varchar2(50)   \r\n    ,name                varchar2(50)\r\n    ,constructor function person_typ return self as result\r\n  ) not final;\r\n```\r\n\r\nNow, when I do this inside `BookingDaoJdbc.createBooking()`:\r\n```\r\nSQLBooking booking = ...;\r\nSQLPerson[] presenters = ...,\r\nCreateBookingFunction bookingCreator = new CreateBookingFunction(jdbcTemplate, &quot;create_booking&quot;);\r\nMap&lt;String, Object&gt; result = bookingCreator.execute(jdbcTemplate, booking, presenters);\r\n\r\n```\r\nI get `java.lang.ArrayIndexOutOfBoundsException: 0` when it hits `bookingCreator.execute(...)`.\r\n\r\nStack trace:\r\n```\r\njava.lang.ArrayIndexOutOfBoundsException: 0\r\n\tat oracle.sql.OracleSQLOutput.writeString(OracleSQLOutput.java:144)\r\n\tat test.mybookingsystem.model.SQLBooking.writeSQL(SQLBooking.java:100)\r\n\tat oracle.sql.STRUCT.toSTRUCT(STRUCT.java:500)\r\n\tat oracle.jdbc.driver.OraclePreparedStatement.setObjectCritical(OraclePreparedStatement.java:8729)\r\n\tat oracle.jdbc.driver.OraclePreparedStatement.setObjectInternal(OraclePreparedStatement.java:8251)\r\n\tat oracle.jdbc.driver.OraclePreparedStatement.setObjectInternal(OraclePreparedStatement.java:8829)\r\n\tat oracle.jdbc.driver.OracleCallableStatement.setObject(OracleCallableStatement.java:4992)\r\n\tat oracle.jdbc.driver.OraclePreparedStatementWrapper.setObject(OraclePreparedStatementWrapper.java:238)\r\n\tat org.springframework.jdbc.core.StatementCreatorUtils.setValue(StatementCreatorUtils.java:407)\r\n\tat org.springframework.jdbc.core.StatementCreatorUtils.setParameterValueInternal(StatementCreatorUtils.java:235)\r\n\tat org.springframework.jdbc.core.StatementCreatorUtils.setParameterValue(StatementCreatorUtils.java:150)\r\n\tat org.springframework.jdbc.core.CallableStatementCreatorFactory$CallableStatementCreatorImpl.createCallableStatement(CallableStatementCreatorFactory.java:213)\r\n\tat org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:1115)\r\n\tat org.springframework.jdbc.core.JdbcTemplate.call(JdbcTemplate.java:1173)\r\n\tat test.mybookingsystem.access.dao.BookingDaoJdbc.createBooking(BookingDaoJdbc.java:161)\r\n\tat test.mybookingsystem.service.BookingServiceImpl.createBooking(BookingServiceImpl.java:566)\r\n\t...\r\n\r\n```\r\n\r\nI know that `SQLPerson[] presenters` can be an empty array sometimes, but is that really why this causes `ArrayIndexOutOfBoundsException` as `org.springframework.jdbc.object.StoredProcedure` is trying access the first object of an empty array? I guess it is not that stupid, is it?\r\n\r\n----------\r\n\r\nNote 1) For people who may not have noticed, `StoredProcedure.execute()` is a method from Spring. It is not written by me, so I have no control over what happens within that method. \r\n\r\nNote 2) This is definition of `StoredProcedure.execute()` in case of someone wants to find out:\r\n```\r\n\t/**\r\n\t * Execute the stored procedure. Subclasses should define a strongly typed\r\n\t * execute method (with a meaningful name) that invokes this method, populating\r\n\t * the input map and extracting typed values from the output map. Subclass\r\n\t * execute methods will often take domain objects as arguments and return values.\r\n\t * Alternatively, they can return void.\r\n\t * @param inParams map of input parameters, keyed by name as in parameter\r\n\t * declarations. Output parameters need not (but can) be included in this map.\r\n\t * It is legal for map entries to be {@code null}, and this will produce the\r\n\t * correct behavior using a NULL argument to the stored procedure.\r\n\t * @return map of output params, keyed by name as in parameter declarations.\r\n\t * Output parameters will appear here, with their values after the\r\n\t * stored procedure has been called.\r\n\t */\r\n\tpublic Map execute(Map inParams) throws DataAccessException {\r\n\t\tvalidateParameters(inParams.values().toArray());\r\n\t\treturn getJdbcTemplate().call(newCallableStatementCreator(inParams), getDeclaredParameters());\r\n\t}\r\n\r\n```\r\nand here is the doc about `StoredProcedure`: [org.springframework.jdbc.object.StoredProcedure][1]\r\nUnder `public Map&lt;String,Object&gt; execute(Map&lt;String,?&gt; inParams)` it says it `throws org.springframework.dao.DataAccessException` but does not mention about `ArrayIndexOutOfBoundsException`\r\n\r\n\r\n  [1]: http://javadox.com/org.springframework/spring-jdbc/4.0.5.RELEASE/org/springframework/jdbc/object/StoredProcedure.html","title":"Getting array index out of bound exception from StoredProcedure.execute()?","body":"<p>I am stuck with an exception on a Java/Spring application. I hope someone can help.</p>\n<p>I have extended <code>org.springframework.jdbc.object.StoredProcedure</code> for an Oracle function called.</p>\n<pre><code>public class CreateBookingFunction extends StoredProcedure {\n    public CreateBookingFunction(JdbcTemplate jdbcTemplate, String procName){\n        // initialise function.\n        super(jdbcTemplate, procName);\n        setFunction(true);\n        // function return.\n        declareParameter(new SqlOutParameter(&quot;po_result&quot;, OracleTypes.VARCHAR));\n        // input parameters bookingid, presenter array, booking date array, event mail object.\n        declareParameter(new SqlParameter(&quot;pi_booking&quot;,OracleTypes.STRUCT,&quot;BOOKING_TYP&quot;));\n        declareParameter(new SqlParameter(&quot;pi_presenters&quot;,OracleTypes.ARRAY,&quot;PERSON_TBL_TYP&quot;));\n        // function result DBResult object.\n        declareParameter(new SqlOutParameter(&quot;po_return&quot;,OracleTypes.STRUCT,&quot;RETURN_TYP&quot;,new SqlReturnSqlData(SQLDBResult.class)));\n        allowsUnusedParameters();\n        // compile function.\n        compile();\n    }\n    \n    public Map execute(JdbcTemplate jdbcTemplate, SQLBooking booking, SQLPerson[] presenters) {\n        Map&lt;String, Object&gt; params = new HashMap&lt;String, Object&gt;();\n        // pass in input parameter objects.\n        params.put(&quot;pi_booking&quot;, booking);\n        params.put(&quot;pi_presenters&quot;, new SQLPersonArray(presenters));\n        // execute function.\n        return super.execute(params);\n    }   \n}\n\n</code></pre>\n<p>and <code>SQLPersonArray</code> is simply an array wrapper for <code>AbstractSqlTypeValue</code>:</p>\n<pre><code>public class SQLPersonArray extends AbstractSqlTypeValue {\n    private SQLPerson[] sqlPersonArr;\n    // constructor.\n    public SQLPersonArray(SQLPerson[] sqlPersonArr){\n        this.sqlPersonArr = sqlPersonArr;\n    }\n    @Override\n    protected Object createTypeValue(Connection connection, int sqlType, String typeName)\n            throws SQLException {\n        ArrayDescriptor arrayDescriptor = new ArrayDescriptor(typeName, connection);\n        return new oracle.sql.ARRAY(arrayDescriptor, connection, sqlPersonArr);\n    }\n}\n</code></pre>\n<p>The Oracle function and types are simply defined as:</p>\n<pre><code>function create_booking (\n     pi_booking      in    booking_typ  \n    ,pi_presenters   in    person_tbl_typ default null\n    ,po_return       out   return_typ\n  ) return integer;\n\ncreate or replace type booking_typ force as object (\n     booking_id          varchar2(60)\n    ,room_name           varchar2(500)\n    ,start_date          varchar2(20)\n    ,duration            varchar2(20)\n    ,constructor function booking_typ return self as result\n  ) not final;\n\ncreate or replace type person_tbl_typ as table of person_typ;\n\ncreate or replace type &quot;PERSON_TYP&quot; force as object (\n     id                  varchar2(50)   \n    ,name                varchar2(50)\n    ,constructor function person_typ return self as result\n  ) not final;\n</code></pre>\n<p>Now, when I do this inside <code>BookingDaoJdbc.createBooking()</code>:</p>\n<pre><code>SQLBooking booking = ...;\nSQLPerson[] presenters = ...,\nCreateBookingFunction bookingCreator = new CreateBookingFunction(jdbcTemplate, &quot;create_booking&quot;);\nMap&lt;String, Object&gt; result = bookingCreator.execute(jdbcTemplate, booking, presenters);\n\n</code></pre>\n<p>I get <code>java.lang.ArrayIndexOutOfBoundsException: 0</code> when it hits <code>bookingCreator.execute(...)</code>.</p>\n<p>Stack trace:</p>\n<pre><code>java.lang.ArrayIndexOutOfBoundsException: 0\n    at oracle.sql.OracleSQLOutput.writeString(OracleSQLOutput.java:144)\n    at test.mybookingsystem.model.SQLBooking.writeSQL(SQLBooking.java:100)\n    at oracle.sql.STRUCT.toSTRUCT(STRUCT.java:500)\n    at oracle.jdbc.driver.OraclePreparedStatement.setObjectCritical(OraclePreparedStatement.java:8729)\n    at oracle.jdbc.driver.OraclePreparedStatement.setObjectInternal(OraclePreparedStatement.java:8251)\n    at oracle.jdbc.driver.OraclePreparedStatement.setObjectInternal(OraclePreparedStatement.java:8829)\n    at oracle.jdbc.driver.OracleCallableStatement.setObject(OracleCallableStatement.java:4992)\n    at oracle.jdbc.driver.OraclePreparedStatementWrapper.setObject(OraclePreparedStatementWrapper.java:238)\n    at org.springframework.jdbc.core.StatementCreatorUtils.setValue(StatementCreatorUtils.java:407)\n    at org.springframework.jdbc.core.StatementCreatorUtils.setParameterValueInternal(StatementCreatorUtils.java:235)\n    at org.springframework.jdbc.core.StatementCreatorUtils.setParameterValue(StatementCreatorUtils.java:150)\n    at org.springframework.jdbc.core.CallableStatementCreatorFactory$CallableStatementCreatorImpl.createCallableStatement(CallableStatementCreatorFactory.java:213)\n    at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:1115)\n    at org.springframework.jdbc.core.JdbcTemplate.call(JdbcTemplate.java:1173)\n    at test.mybookingsystem.access.dao.BookingDaoJdbc.createBooking(BookingDaoJdbc.java:161)\n    at test.mybookingsystem.service.BookingServiceImpl.createBooking(BookingServiceImpl.java:566)\n    ...\n\n</code></pre>\n<p>I know that <code>SQLPerson[] presenters</code> can be an empty array sometimes, but is that really why this causes <code>ArrayIndexOutOfBoundsException</code> as <code>org.springframework.jdbc.object.StoredProcedure</code> is trying access the first object of an empty array? I guess it is not that stupid, is it?</p>\n<hr />\n<p>Note 1) For people who may not have noticed, <code>StoredProcedure.execute()</code> is a method from Spring. It is not written by me, so I have no control over what happens within that method.</p>\n<p>Note 2) This is definition of <code>StoredProcedure.execute()</code> in case of someone wants to find out:</p>\n<pre><code>    /**\n     * Execute the stored procedure. Subclasses should define a strongly typed\n     * execute method (with a meaningful name) that invokes this method, populating\n     * the input map and extracting typed values from the output map. Subclass\n     * execute methods will often take domain objects as arguments and return values.\n     * Alternatively, they can return void.\n     * @param inParams map of input parameters, keyed by name as in parameter\n     * declarations. Output parameters need not (but can) be included in this map.\n     * It is legal for map entries to be {@code null}, and this will produce the\n     * correct behavior using a NULL argument to the stored procedure.\n     * @return map of output params, keyed by name as in parameter declarations.\n     * Output parameters will appear here, with their values after the\n     * stored procedure has been called.\n     */\n    public Map execute(Map inParams) throws DataAccessException {\n        validateParameters(inParams.values().toArray());\n        return getJdbcTemplate().call(newCallableStatementCreator(inParams), getDeclaredParameters());\n    }\n\n</code></pre>\n<p>and here is the doc about <code>StoredProcedure</code>: <a href=\"http://javadox.com/org.springframework/spring-jdbc/4.0.5.RELEASE/org/springframework/jdbc/object/StoredProcedure.html\" rel=\"nofollow noreferrer\">org.springframework.jdbc.object.StoredProcedure</a>\nUnder <code>public Map&lt;String,Object&gt; execute(Map&lt;String,?&gt; inParams)</code> it says it <code>throws org.springframework.dao.DataAccessException</code> but does not mention about <code>ArrayIndexOutOfBoundsException</code></p>\n"},{"tags":["java","jpa","spring-data-jpa","jpql"],"answers":[{"tags":[],"owner":{"account_id":15910691,"reputation":1091,"user_id":11480721,"display_name":"Ausgefuchster"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1657563927,"creation_date":1657563927,"answer_id":72943044,"question_id":72942909,"body_markdown":"The constructor you expect in your query has `(long, String, Timestamp, String)`. And your constructor takes `(long, long, Profile)`.\r\n\r\nSo you need to create a matching constructor:\r\n```java\r\npublic User(long id, String username, Timestamp lastOnline, String about) {\r\n    this.id = id;\r\n    this.username = username;\r\n    this.profile = new Profile(lastOnline, about); // create new Profile with lastOnline &amp; about\r\n}\r\n```\r\nThis should work.\r\n\r\nBut may I ask why you&#39;re not using the `JpaRepository#findById(Long id)` method?","title":"JPA query couldn&#39;t find the right constructor","body":"<p>The constructor you expect in your query has <code>(long, String, Timestamp, String)</code>. And your constructor takes <code>(long, long, Profile)</code>.</p>\n<p>So you need to create a matching constructor:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public User(long id, String username, Timestamp lastOnline, String about) {\n    this.id = id;\n    this.username = username;\n    this.profile = new Profile(lastOnline, about); // create new Profile with lastOnline &amp; about\n}\n</code></pre>\n<p>This should work.</p>\n<p>But may I ask why you're not using the <code>JpaRepository#findById(Long id)</code> method?</p>\n"}],"owner":{"account_id":19601550,"reputation":25,"user_id":18143303,"display_name":"TheCrunchyPotato"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1413,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72943044,"answer_count":1,"score":0,"last_activity_date":1657563927,"creation_date":1657563001,"question_id":72942909,"body_markdown":"\r\nSo basically I try to get some data of a User by its ID and it has a field with @OneToOne relationship(bidirectional)\r\n\r\nWhen I try to create a query in JpaRepository\r\nwith @Query annotation\r\n```\r\n@Query(&quot;SELECT new com.project.model.user(u.id, u.username, u.profile.last_online, u.profile.about) FROM User u WHERE id = :id)\r\n```\r\n\r\nand a constructor \r\n```\r\nUser(long id, long username, Profile profile) {\r\n   this.id = id;\r\n   this.username = username;\r\n   this.profile = profile;\r\n}\r\n```\r\n\r\nit still can&#39;t really find the constructor and says that there is no &quot;matching constructor&quot;, is there a way to create the constructor better?","title":"JPA query couldn&#39;t find the right constructor","body":"<p>So basically I try to get some data of a User by its ID and it has a field with @OneToOne relationship(bidirectional)</p>\n<p>When I try to create a query in JpaRepository\nwith @Query annotation</p>\n<pre><code>@Query(&quot;SELECT new com.project.model.user(u.id, u.username, u.profile.last_online, u.profile.about) FROM User u WHERE id = :id)\n</code></pre>\n<p>and a constructor</p>\n<pre><code>User(long id, long username, Profile profile) {\n   this.id = id;\n   this.username = username;\n   this.profile = profile;\n}\n</code></pre>\n<p>it still can't really find the constructor and says that there is no &quot;matching constructor&quot;, is there a way to create the constructor better?</p>\n"},{"tags":["java","visual-studio-code","minecraft","minecraft-fabric"],"comments":[{"owner":{"account_id":3435599,"reputation":4037,"user_id":2878796,"display_name":"UnholySheep"},"score":4,"creation_date":1587650834,"post_id":61389153,"comment_id":108599595,"body_markdown":"You should probably include the call-stack of the crash","body":"You should probably include the call-stack of the crash"},{"owner":{"account_id":18383691,"reputation":31,"user_id":13391255,"display_name":"Cickennoodle"},"score":0,"creation_date":1587652738,"post_id":61389153,"comment_id":108600815,"body_markdown":"Call stack as in the logs? @UnholySheep","body":"Call stack as in the logs? @UnholySheep"}],"answers":[{"tags":[],"owner":{"account_id":19103376,"reputation":1007,"user_id":13951118,"display_name":"David"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1595810095,"creation_date":1595810095,"answer_id":63107219,"question_id":61389153,"body_markdown":"I also had this issue when I first tried making my Fabric mod. Every time I re-open VScode and try to open Minecraft, it crashes. It says something like `cannot find library lwjgl.dll`. For me, `.\\gradlew.bat vscode` solved it; I think it&#39;s because the assets were messed up or something is wrong in the `.vscode` directory. \r\nHope it helps ;)","title":"Minecraft fabric coding issues in vscode","body":"<p>I also had this issue when I first tried making my Fabric mod. Every time I re-open VScode and try to open Minecraft, it crashes. It says something like <code>cannot find library lwjgl.dll</code>. For me, <code>.\\gradlew.bat vscode</code> solved it; I think it's because the assets were messed up or something is wrong in the <code>.vscode</code> directory.\nHope it helps ;)</p>\n"},{"tags":[],"owner":{"account_id":6100129,"reputation":6206,"user_id":4759433,"display_name":"Lonami"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657563871,"creation_date":1657563871,"answer_id":72943035,"question_id":61389153,"body_markdown":"I was following the guide from [Setting up Visual Studio Code with Fabric](https://fabricmc.net/wiki/tutorial:vscode_setup), and my problem was the same as described in [The import net.minecraft cannot be resolved\r\n](https://www.reddit.com/r/fabricmc/comments/o194er/the_import_netminecraft_cannot_be_resolved/).\r\n\r\nA mixture of [using `./gradlew --refresh-dependencies`](https://www.reddit.com/r/fabricmc/comments/o194er/comment/h22x351/?context=3), along with [clearing the loom cache](https://github.com/FabricMC/fabric/issues/1281#issuecomment-766438470), `./gradlew clean` and and re-running `./gradlew vscode` seemed to help.","title":"Minecraft fabric coding issues in vscode","body":"<p>I was following the guide from <a href=\"https://fabricmc.net/wiki/tutorial:vscode_setup\" rel=\"nofollow noreferrer\">Setting up Visual Studio Code with Fabric</a>, and my problem was the same as described in <a href=\"https://www.reddit.com/r/fabricmc/comments/o194er/the_import_netminecraft_cannot_be_resolved/\" rel=\"nofollow noreferrer\">The import net.minecraft cannot be resolved\n</a>.</p>\n<p>A mixture of <a href=\"https://www.reddit.com/r/fabricmc/comments/o194er/comment/h22x351/?context=3\" rel=\"nofollow noreferrer\">using <code>./gradlew --refresh-dependencies</code></a>, along with <a href=\"https://github.com/FabricMC/fabric/issues/1281#issuecomment-766438470\" rel=\"nofollow noreferrer\">clearing the loom cache</a>, <code>./gradlew clean</code> and and re-running <code>./gradlew vscode</code> seemed to help.</p>\n"}],"owner":{"account_id":18383691,"reputation":31,"user_id":13391255,"display_name":"Cickennoodle"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1953,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1657563871,"creation_date":1587650697,"question_id":61389153,"body_markdown":"Hey i&#39;m trying to learn how to code minecraft mods in VScode with Fabric mod loader. However I keep running into the same issue, I am unable to open the minecraft testing client. It keeps crashing.\r\nI have tried re-writing all the code I added after the last time I successfully ran it. Here my code:\r\n\r\n    \r\n\r\n\r\n\r\n    package net.my.first.mod;\r\n\r\n    import net.fabricmc.api.ModInitializer;\r\n    import net.minecraft.item.Item;\r\n    import net.minecraft.item.ItemGroup;\r\n    import net.minecraft.util.Identifier;\r\n    import net.minecraft.util.registry.Registry;\r\n    import net.minecraft.block.Block;\r\n\r\n    public class MyFirstMod implements ModInitializer {\r\n\r\n        public static final Item FABRIC_ITEM = new FabricItem(new Item.Settings().group(ItemGroup.MISC), null);\r\n\r\n        public static final Block FABRIC_BLOCK = new FabricBlock(new Item.Settings().group(ItemGoup.MISC), null);\r\n\r\n        @Override\r\n        public void onInitialize() {\r\n            Registry.register(Registry.ITEM, new Identifier(&quot;myfirstmod&quot;, &quot;fabric_item&quot;), FABRIC_ITEM);\r\n            Registry.register(Registry.BLOCK, new Identifier(&quot;myfirstmod&quot;, &quot;fabric_block&quot;), FABRIC_BLOCK);\r\n        }\r\n\r\n    }\r\n\r\n\r\nThanks in advance for any help anyone is able to provide!","title":"Minecraft fabric coding issues in vscode","body":"<p>Hey i'm trying to learn how to code minecraft mods in VScode with Fabric mod loader. However I keep running into the same issue, I am unable to open the minecraft testing client. It keeps crashing.\nI have tried re-writing all the code I added after the last time I successfully ran it. Here my code:</p>\n\n<pre><code>package net.my.first.mod;\n\nimport net.fabricmc.api.ModInitializer;\nimport net.minecraft.item.Item;\nimport net.minecraft.item.ItemGroup;\nimport net.minecraft.util.Identifier;\nimport net.minecraft.util.registry.Registry;\nimport net.minecraft.block.Block;\n\npublic class MyFirstMod implements ModInitializer {\n\n    public static final Item FABRIC_ITEM = new FabricItem(new Item.Settings().group(ItemGroup.MISC), null);\n\n    public static final Block FABRIC_BLOCK = new FabricBlock(new Item.Settings().group(ItemGoup.MISC), null);\n\n    @Override\n    public void onInitialize() {\n        Registry.register(Registry.ITEM, new Identifier(\"myfirstmod\", \"fabric_item\"), FABRIC_ITEM);\n        Registry.register(Registry.BLOCK, new Identifier(\"myfirstmod\", \"fabric_block\"), FABRIC_BLOCK);\n    }\n\n}\n</code></pre>\n\n<p>Thanks in advance for any help anyone is able to provide!</p>\n"},{"tags":["java","ibm-mq"],"comments":[{"owner":{"account_id":7538145,"reputation":182,"user_id":5723787,"accept_rate":67,"display_name":"Kaustubh Kadam"},"score":0,"creation_date":1657540846,"post_id":72938107,"comment_id":128826916,"body_markdown":"Do you mean the depth of a queue ?","body":"Do you mean the depth of a queue ?"},{"owner":{"account_id":895964,"reputation":15035,"user_id":933250,"accept_rate":77,"display_name":"Shashi"},"score":0,"creation_date":1657540877,"post_id":72938107,"comment_id":128826928,"body_markdown":"Answered here: https://stackoverflow.com/questions/57862719/find-the-queue-depth-of-mq. Any reason for doing so? In my opinion, your application should consume messages as long as it is running.","body":"Answered here: <a href=\"https://stackoverflow.com/questions/57862719/find-the-queue-depth-of-mq\" title=\"find the queue depth of mq\">stackoverflow.com/questions/57862719/find-the-queue-depth-of&zwnj;&#8203;-mq</a>. Any reason for doing so? In my opinion, your application should consume messages as long as it is running."},{"owner":{"account_id":17993658,"reputation":51,"user_id":13077202,"display_name":"Prasad"},"score":0,"creation_date":1657610009,"post_id":72938107,"comment_id":128845097,"body_markdown":"Yes kaustubh.. i need depth of the queue but it would change dynamically as publishers would publish messages on daily basis","body":"Yes kaustubh.. i need depth of the queue but it would change dynamically as publishers would publish messages on daily basis"},{"owner":{"account_id":17001805,"reputation":104,"user_id":12299029,"display_name":"colin paice"},"score":0,"creation_date":1657707854,"post_id":72938107,"comment_id":128872775,"body_markdown":"Browsing the queue could be very expensive.  Consider 100,000 messages on the queue. If this was a client, there would be a lot of network traffic, and high CPU cost at the backend.  For monitoring consider another task which issues display queue depth.  If queue builds up you could start more application instances.","body":"Browsing the queue could be very expensive.  Consider 100,000 messages on the queue. If this was a client, there would be a lot of network traffic, and high CPU cost at the backend.  For monitoring consider another task which issues display queue depth.  If queue builds up you could start more application instances."}],"owner":{"account_id":17993658,"reputation":51,"user_id":13077202,"display_name":"Prasad"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":351,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1657563715,"creation_date":1657540096,"question_id":72938107,"body_markdown":"I had written an asynchronous process to subscribe messages from IBM MQ  queue but unable to find any method to know the size of an queue \r\n\r\n```\r\n    Queue queue;\r\n\tQueueSession session;\r\n\tQueueReceiver receiver;\r\n    QueueConnection con;\r\n            con=factory.createQueueConnection(&quot;user1&quot;,&quot; password1&quot;);\r\n\t\t\tqueue= new MQQueue(&quot;myQueue&quot;);\r\n\t\t\tsession=con.createQueueSession(false, Session.AUTO_ACKNOWLEDGE);\r\n\t\t\treceiver=session.createReceiver(queue);\r\n\t\t\treceiver.setMessageListener(this);\r\n\t\t\tcon.start();\r\n\r\n```\r\n\r\nthe above is the functonality i am using , in this receiver attribute is not showing any size or length methods tro check number of messages there","title":"how to check the size of the messages in a queue in IBM MQ while writing an asynchronous process","body":"<p>I had written an asynchronous process to subscribe messages from IBM MQ  queue but unable to find any method to know the size of an queue</p>\n<pre><code>    Queue queue;\n    QueueSession session;\n    QueueReceiver receiver;\n    QueueConnection con;\n            con=factory.createQueueConnection(&quot;user1&quot;,&quot; password1&quot;);\n            queue= new MQQueue(&quot;myQueue&quot;);\n            session=con.createQueueSession(false, Session.AUTO_ACKNOWLEDGE);\n            receiver=session.createReceiver(queue);\n            receiver.setMessageListener(this);\n            con.start();\n\n</code></pre>\n<p>the above is the functonality i am using , in this receiver attribute is not showing any size or length methods tro check number of messages there</p>\n"},{"tags":["java",".net","weak-references","internals"],"answers":[{"tags":[],"owner":{"account_id":11975,"reputation":1033812,"user_id":23354,"accept_rate":100,"display_name":"Marc Gravell"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1240475572,"creation_date":1240475572,"answer_id":780801,"question_id":780738,"body_markdown":"In .NET, when a `WeakReference` is created, the GC is asked for a handle/opaque token representing the reference. Then, when needed, `WeakReference` uses this handle to ask the GC if that handle is still valid (i.e. the original object still exists) - and if so, it can get the actual object reference.\r\n\r\nSo this is building a list of tokens/handles against object addresses (and presumably maintaining that list during defragmentation etc)\r\n\r\nI&#39;m not sure I 100% understand the three bullets, so I hesitate to guess which (if any) that is closest to.","title":"How are weak references implemented?","body":"<p>In .NET, when a <code>WeakReference</code> is created, the GC is asked for a handle/opaque token representing the reference. Then, when needed, <code>WeakReference</code> uses this handle to ask the GC if that handle is still valid (i.e. the original object still exists) - and if so, it can get the actual object reference.</p>\n\n<p>So this is building a list of tokens/handles against object addresses (and presumably maintaining that list during defragmentation etc)</p>\n\n<p>I'm not sure I 100% understand the three bullets, so I hesitate to guess which (if any) that is closest to.</p>\n"},{"tags":[],"owner":{"account_id":10450,"reputation":172558,"user_id":19750,"accept_rate":100,"display_name":"Josh Lee"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1240478416,"creation_date":1240478093,"answer_id":780910,"question_id":780738,"body_markdown":"Python&#39;s [PEP 205](http://www.python.org/dev/peps/pep-0205/) has a decent explanation of how weak references should behave in Python, and this gives some insight into how they can be implemented. Since a weak reference is immutable, you could have just one for each object, to which you pass out references as needed. Thus, when the object is destroyed, only one weak reference needs to be invalidated.","title":"How are weak references implemented?","body":"<p>Python's <a href=\"http://www.python.org/dev/peps/pep-0205/\" rel=\"noreferrer\">PEP 205</a> has a decent explanation of how weak references should behave in Python, and this gives some insight into how they can be implemented. Since a weak reference is immutable, you could have just one for each object, to which you pass out references as needed. Thus, when the object is destroyed, only one weak reference needs to be invalidated.</p>\n"},{"tags":[],"owner":{"account_id":7340,"reputation":12654,"user_id":12719,"display_name":"pgras"},"down_vote_count":1,"up_vote_count":6,"is_accepted":true,"score":5,"last_activity_date":1240487334,"creation_date":1240487334,"answer_id":781372,"question_id":780738,"body_markdown":"Not sure I understood your question, but you can have a look at the implementation for the class WeakReference and its superclass Reference in Java. It is well commented and you can see it has a field treated specially by the GC and another one used directly by the VM.","title":"How are weak references implemented?","body":"<p>Not sure I understood your question, but you can have a look at the implementation for the class WeakReference and its superclass Reference in Java. It is well commented and you can see it has a field treated specially by the GC and another one used directly by the VM.</p>\n"},{"tags":[],"owner":{"account_id":150501,"reputation":78480,"user_id":363751,"accept_rate":35,"display_name":"supercat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1339265398,"creation_date":1339265398,"answer_id":10963392,"question_id":780738,"body_markdown":"The normal approach, I think, is for the system to maintain some sort of list of weak references.  When the garbage collector executes, before dead objects are removed, the system iterates through the list of weak references and invalidates any reference whose target has not been tagged live.  Depending upon the system, this may occur before or after the system temporarily resurrects objects which are eligible for immediate finalization (in the case of .net, there are two kinds of `WeakReference`--one of which is effectively processed before the system scans for finalizers, meaning that it will become invalid when its target becomes eligible for finalization, and one of which is processed after).\r\n\r\nIncidentally, if I were designing a gc-based framework, I would add a couple of other goodies: (1) a means of declaring a reference-type &lt;i&gt;storage location&lt;/i&gt; as holding a reference that&#39;s primarily of interest to someone else, and (2) A variety of `WeakReference` which would could indicate that the only references to an object are in &quot;of interest to someone else&quot; storage locations.  Although `WeakReference` is a useful type, the act of turning a weak reference into a strong reference may prevent the system from ever recognizing that nobody would mind if its target disappeared.","title":"How are weak references implemented?","body":"<p>The normal approach, I think, is for the system to maintain some sort of list of weak references.  When the garbage collector executes, before dead objects are removed, the system iterates through the list of weak references and invalidates any reference whose target has not been tagged live.  Depending upon the system, this may occur before or after the system temporarily resurrects objects which are eligible for immediate finalization (in the case of .net, there are two kinds of <code>WeakReference</code>--one of which is effectively processed before the system scans for finalizers, meaning that it will become invalid when its target becomes eligible for finalization, and one of which is processed after).</p>\n\n<p>Incidentally, if I were designing a gc-based framework, I would add a couple of other goodies: (1) a means of declaring a reference-type <i>storage location</i> as holding a reference that's primarily of interest to someone else, and (2) A variety of <code>WeakReference</code> which would could indicate that the only references to an object are in \"of interest to someone else\" storage locations.  Although <code>WeakReference</code> is a useful type, the act of turning a weak reference into a strong reference may prevent the system from ever recognizing that nobody would mind if its target disappeared.</p>\n"},{"tags":[],"owner":{"account_id":231662,"reputation":6804,"user_id":496009,"accept_rate":70,"display_name":"pfalcon"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1379430086,"creation_date":1375485638,"answer_id":18027558,"question_id":780738,"body_markdown":"It seems that implementation of weak references is well-kept secret in the industry ;-). For example, as of now, [wikipedia article][1] lacks any implementation details. And look at the answers above (including the accepted): &quot;go look at the source&quot; or &quot;I think&quot; ;-\\ .\r\n\r\nOf all the answers, only the one referencing Python&#39;s PEP 205 is insightful. As it says, for any single object, there can be at most one weak reference, if we treat weakref as an entity itself.\r\n\r\nThe rest describes Squirrel language implementation. So, weakref is itself an object, when you put weak reference to an object in some container, you actually put reference to weakref object. Each ref-countable object has field to store pointer to its weakref, which is NULL until weakref to that object is actually requested. Each object has method to request weakref, which either returns existing (singleton) weakref from the field, or creates it and caches in the field.\r\n\r\nOf course, weakref points to the original object. So, then you just need to go thru all the available places where references to objects are handled and add transparent handling of weakrefs (i.e. automatically dereference it). (&quot;Transparent&quot; alternative is to add virtual &quot;access&quot; method which will be identity for most objects, and actual dereference for weakref.)\r\n\r\nAnd as object has pointer to its weakref, then the object can NULLify the weakref in own destructor.\r\n\r\nThis implementation is pretty clean (no magic &quot;calls into GC&quot; and stuff) and has O(1) runtime cost. Of course, it&#39;s pretty greedy of memory - need to add +1 pointer field to each object, even though typically for 90+% objects that would be NULL. Of course, VHLLs already have large memory overhead per object, and there may be chance to compact different &quot;extra&quot; fields. For example, object type is typically a small enumeration, so it may be possible to merge type and some kind of weakref reference into single machine word (say, keep weakref objects in a separate arena, and use index to that).\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Weak_reference\r\n","title":"How are weak references implemented?","body":"<p>It seems that implementation of weak references is well-kept secret in the industry ;-). For example, as of now, <a href=\"http://en.wikipedia.org/wiki/Weak_reference\" rel=\"noreferrer\">wikipedia article</a> lacks any implementation details. And look at the answers above (including the accepted): \"go look at the source\" or \"I think\" ;-\\ .</p>\n\n<p>Of all the answers, only the one referencing Python's PEP 205 is insightful. As it says, for any single object, there can be at most one weak reference, if we treat weakref as an entity itself.</p>\n\n<p>The rest describes Squirrel language implementation. So, weakref is itself an object, when you put weak reference to an object in some container, you actually put reference to weakref object. Each ref-countable object has field to store pointer to its weakref, which is NULL until weakref to that object is actually requested. Each object has method to request weakref, which either returns existing (singleton) weakref from the field, or creates it and caches in the field.</p>\n\n<p>Of course, weakref points to the original object. So, then you just need to go thru all the available places where references to objects are handled and add transparent handling of weakrefs (i.e. automatically dereference it). (\"Transparent\" alternative is to add virtual \"access\" method which will be identity for most objects, and actual dereference for weakref.)</p>\n\n<p>And as object has pointer to its weakref, then the object can NULLify the weakref in own destructor.</p>\n\n<p>This implementation is pretty clean (no magic \"calls into GC\" and stuff) and has O(1) runtime cost. Of course, it's pretty greedy of memory - need to add +1 pointer field to each object, even though typically for 90+% objects that would be NULL. Of course, VHLLs already have large memory overhead per object, and there may be chance to compact different \"extra\" fields. For example, object type is typically a small enumeration, so it may be possible to merge type and some kind of weakref reference into single machine word (say, keep weakref objects in a separate arena, and use index to that).</p>\n"}],"owner":{"account_id":23168,"reputation":2815,"user_id":57832,"accept_rate":69,"display_name":"Michal Czardybon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4447,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"accepted_answer_id":781372,"answer_count":5,"score":20,"last_activity_date":1657563484,"creation_date":1240473735,"question_id":780738,"body_markdown":"I wonder how weak references work internally, for example in .NET or in Java. My two general ideas are:\r\n\r\n 1. &quot;Intrusive&quot; - to add list of weak references to the most top class (object class). Then, when an object is destroyed, all the weak references can be iterated and set to null.\r\n 2. &quot;Non-intrusive&quot; - to maintain a hashtable of objects&#39; pointers to lists of weak references. When a weak reference A is created to an object B, there would be an entry in the hashtable modified or created, whose key would be the pointer to B.\r\n 3. &quot;Dirty&quot; - to store a special hash-value with each object, which would be zeroed when the object is destroyed. Weak references would copy that hash-value and would compare it with the object&#39;s value to check if the object is alive. This would however cause access violation errors, when used directly, so there would need to be an additional object with that hash-value, I think.\r\n\r\nEither of these solutions seems clean nor efficient. Does anyone know how it is actually done?","title":"How are weak references implemented?","body":"<p>I wonder how weak references work internally, for example in .NET or in Java. My two general ideas are:</p>\n\n<ol>\n<li>\"Intrusive\" - to add list of weak references to the most top class (object class). Then, when an object is destroyed, all the weak references can be iterated and set to null.</li>\n<li>\"Non-intrusive\" - to maintain a hashtable of objects' pointers to lists of weak references. When a weak reference A is created to an object B, there would be an entry in the hashtable modified or created, whose key would be the pointer to B.</li>\n<li>\"Dirty\" - to store a special hash-value with each object, which would be zeroed when the object is destroyed. Weak references would copy that hash-value and would compare it with the object's value to check if the object is alive. This would however cause access violation errors, when used directly, so there would need to be an additional object with that hash-value, I think.</li>\n</ol>\n\n<p>Either of these solutions seems clean nor efficient. Does anyone know how it is actually done?</p>\n"},{"tags":["java","spring-boot","rest","spring-mvc","multidimensional-array"],"answers":[{"tags":[],"owner":{"account_id":23136359,"reputation":274,"user_id":17240540,"display_name":"Puneet Kundliya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657563185,"creation_date":1657562743,"answer_id":72942871,"question_id":72942249,"body_markdown":"Try using the below Array declaration for accessing the String boundary.\r\n\r\n    private String[][][] boundary;\r\n\r\nAlso, check for the data type you need(String or Double).\r\n","title":"How to handle List of multidimensional array as @RequestParam in Spring boot","body":"<p>Try using the below Array declaration for accessing the String boundary.</p>\n<pre><code>private String[][][] boundary;\n</code></pre>\n<p>Also, check for the data type you need(String or Double).</p>\n"}],"owner":{"account_id":15392811,"reputation":63,"user_id":11104911,"display_name":"Yasas Ranawaka"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":267,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72942871,"answer_count":1,"score":0,"last_activity_date":1657563185,"creation_date":1657559506,"question_id":72942249,"body_markdown":"I need to get value in request body for list of multidimensional array\r\n\r\n@RequestBody CreateRequest createRequest\r\n\r\n\r\n--------------------------------------\r\n\r\n    @Getter\r\n    @Setter\r\n    public class CreateRequest {\r\n    \r\n        private String id;\r\n        private List&lt;PolygonRequest&gt; boundaries;\r\n    \r\n        @Getter\r\n        @Setter\r\n        public static class PolygonRequest {\r\n            private String[][] boundary;\r\n        }\r\n    \r\n    }\r\n\r\n--------------------------------------------------------------\r\n\r\nJSON like, \r\n\r\n    {\r\n        &quot;id&quot;: &quot;Zone 112&quot;,\r\n        &quot;boundaries&quot;: [\r\n            [\r\n                [-5.2,-6.2],\r\n                [-4.5,-7.8]\r\n            ],\r\n            [\r\n                [7.2,-1.6],\r\n                [-3.3,-8.1]\r\n            ]\r\n        ]\r\n    }\r\n\r\n\r\nWhen I create like this It is getting Bad request error\r\n\r\n    &quot;status&quot;: 400,\r\n    &quot;error&quot;: &quot;Bad Request&quot;","title":"How to handle List of multidimensional array as @RequestParam in Spring boot","body":"<p>I need to get value in request body for list of multidimensional array</p>\n<p>@RequestBody CreateRequest createRequest</p>\n<hr />\n<pre><code>@Getter\n@Setter\npublic class CreateRequest {\n\n    private String id;\n    private List&lt;PolygonRequest&gt; boundaries;\n\n    @Getter\n    @Setter\n    public static class PolygonRequest {\n        private String[][] boundary;\n    }\n\n}\n</code></pre>\n<hr />\n<p>JSON like,</p>\n<pre><code>{\n    &quot;id&quot;: &quot;Zone 112&quot;,\n    &quot;boundaries&quot;: [\n        [\n            [-5.2,-6.2],\n            [-4.5,-7.8]\n        ],\n        [\n            [7.2,-1.6],\n            [-3.3,-8.1]\n        ]\n    ]\n}\n</code></pre>\n<p>When I create like this It is getting Bad request error</p>\n<pre><code>&quot;status&quot;: 400,\n&quot;error&quot;: &quot;Bad Request&quot;\n</code></pre>\n"},{"tags":["java","database","aws-lambda","amazon-dynamodb","dynamodb-queries"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":0,"creation_date":1657563169,"post_id":72942902,"comment_id":128835700,"body_markdown":"Scan the entire database. A key-value store (which dynamo is) is not designed for such a query. Alternatively set up e.g. dynamodb streams and store the information &quot;what is the latest&quot; specifically *somewhere*, e.g. under the key &quot;latest&quot; in your dynamodb.","body":"Scan the entire database. A key-value store (which dynamo is) is not designed for such a query. Alternatively set up e.g. dynamodb streams and store the information &quot;what is the latest&quot; specifically <i>somewhere</i>, e.g. under the key &quot;latest&quot; in your dynamodb."},{"owner":{"account_id":257345,"reputation":6764,"user_id":538697,"display_name":"hunterhacker"},"score":1,"creation_date":1657564829,"post_id":72942902,"comment_id":128836167,"body_markdown":"Using a timestamp as a PK is kind of weird, in that you need to know the PK before doing a query or get, and how/why would you know the timestamp in advance?","body":"Using a timestamp as a PK is kind of weird, in that you need to know the PK before doing a query or get, and how/why would you know the timestamp in advance?"},{"owner":{"account_id":8481338,"reputation":268,"user_id":6360955,"display_name":"Chris"},"score":0,"creation_date":1657568308,"post_id":72942902,"comment_id":128837213,"body_markdown":"So your formatted string looks like this: `yyyy-MM-dd&#39;T&#39;HH:mm:ss`? Then it is best practice to store the date part as PK and the Hours-Minutes-Seconds part as sort key. See [Best practices for handling time series data in DynamoDB](https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/bp-time-series.html#bp-time-series-examples)","body":"So your formatted string looks like this: <code>yyyy-MM-dd&#39;T&#39;HH:mm:ss</code>? Then it is best practice to store the date part as PK and the Hours-Minutes-Seconds part as sort key. See <a href=\"https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/bp-time-series.html#bp-time-series-examples\" rel=\"nofollow noreferrer\">Best practices for handling time series data in DynamoDB</a>"}],"owner":{"account_id":23411499,"reputation":48,"user_id":17473106,"display_name":"sudhan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657562951,"creation_date":1657562951,"question_id":72942902,"body_markdown":"I have a DynamoDb with the partition key as an ISO 8601 formatted string. I want to get the attributes of the most recently added (largest time) entry in the DDB table using a Java Lambda function.\r\n\r\nWhat’s the best/fastest way to do this?","title":"Getting First/Most Recent Entry in DDB using Lambda","body":"<p>I have a DynamoDb with the partition key as an ISO 8601 formatted string. I want to get the attributes of the most recently added (largest time) entry in the DDB table using a Java Lambda function.</p>\n<p>What’s the best/fastest way to do this?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8798,"page":1194,"page_size":100}
